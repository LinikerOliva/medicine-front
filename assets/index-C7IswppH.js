var jD=Object.defineProperty;var ND=(e,r,t)=>r in e?jD(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var ft=(e,r,t)=>ND(e,typeof r!="symbol"?r+"":r,t);function BD(e,r){for(var t=0;t<r.length;t++){const a=r[t];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var cZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pv={exports:{}},Ch={},gv={exports:{}},Zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2;function CD(){if(k2)return Zr;k2=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(_){return _===null||typeof _!="object"?null:(_=h&&_[h]||_["@@iterator"],typeof _=="function"?_:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function w(_,I,W){this.props=_,this.context=I,this.refs=x,this.updater=W||p}w.prototype.isReactComponent={},w.prototype.setState=function(_,I){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,I,"setState")},w.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function j(){}j.prototype=w.prototype;function N(_,I,W){this.props=_,this.context=I,this.refs=x,this.updater=W||p}var S=N.prototype=new j;S.constructor=N,v(S,w.prototype),S.isPureReactComponent=!0;var F=Array.isArray,T=Object.prototype.hasOwnProperty,D={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function P(_,I,W){var te,J={},Y=null,M=null;if(I!=null)for(te in I.ref!==void 0&&(M=I.ref),I.key!==void 0&&(Y=""+I.key),I)T.call(I,te)&&!k.hasOwnProperty(te)&&(J[te]=I[te]);var Z=arguments.length-2;if(Z===1)J.children=W;else if(1<Z){for(var oe=Array(Z),fe=0;fe<Z;fe++)oe[fe]=arguments[fe+2];J.children=oe}if(_&&_.defaultProps)for(te in Z=_.defaultProps,Z)J[te]===void 0&&(J[te]=Z[te]);return{$$typeof:e,type:_,key:Y,ref:M,props:J,_owner:D.current}}function E(_,I){return{$$typeof:e,type:_.type,key:I,ref:_.ref,props:_.props,_owner:_._owner}}function V(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function Q(_){var I={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(W){return I[W]})}var $=/\/+/g;function G(_,I){return typeof _=="object"&&_!==null&&_.key!=null?Q(""+_.key):I.toString(36)}function R(_,I,W,te,J){var Y=typeof _;(Y==="undefined"||Y==="boolean")&&(_=null);var M=!1;if(_===null)M=!0;else switch(Y){case"string":case"number":M=!0;break;case"object":switch(_.$$typeof){case e:case r:M=!0}}if(M)return M=_,J=J(M),_=te===""?"."+G(M,0):te,F(J)?(W="",_!=null&&(W=_.replace($,"$&/")+"/"),R(J,I,W,"",function(fe){return fe})):J!=null&&(V(J)&&(J=E(J,W+(!J.key||M&&M.key===J.key?"":(""+J.key).replace($,"$&/")+"/")+_)),I.push(J)),1;if(M=0,te=te===""?".":te+":",F(_))for(var Z=0;Z<_.length;Z++){Y=_[Z];var oe=te+G(Y,Z);M+=R(Y,I,W,oe,J)}else if(oe=m(_),typeof oe=="function")for(_=oe.call(_),Z=0;!(Y=_.next()).done;)Y=Y.value,oe=te+G(Y,Z++),M+=R(Y,I,W,oe,J);else if(Y==="object")throw I=String(_),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return M}function ee(_,I,W){if(_==null)return _;var te=[],J=0;return R(_,te,"","",function(Y){return I.call(W,Y,J++)}),te}function K(_){if(_._status===-1){var I=_._result;I=I(),I.then(function(W){(_._status===0||_._status===-1)&&(_._status=1,_._result=W)},function(W){(_._status===0||_._status===-1)&&(_._status=2,_._result=W)}),_._status===-1&&(_._status=0,_._result=I)}if(_._status===1)return _._result.default;throw _._result}var z={current:null},X={transition:null},ne={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:X,ReactCurrentOwner:D};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Zr.Children={map:ee,forEach:function(_,I,W){ee(_,function(){I.apply(this,arguments)},W)},count:function(_){var I=0;return ee(_,function(){I++}),I},toArray:function(_){return ee(_,function(I){return I})||[]},only:function(_){if(!V(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Zr.Component=w,Zr.Fragment=t,Zr.Profiler=s,Zr.PureComponent=N,Zr.StrictMode=a,Zr.Suspense=A,Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Zr.act=ue,Zr.cloneElement=function(_,I,W){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var te=v({},_.props),J=_.key,Y=_.ref,M=_._owner;if(I!=null){if(I.ref!==void 0&&(Y=I.ref,M=D.current),I.key!==void 0&&(J=""+I.key),_.type&&_.type.defaultProps)var Z=_.type.defaultProps;for(oe in I)T.call(I,oe)&&!k.hasOwnProperty(oe)&&(te[oe]=I[oe]===void 0&&Z!==void 0?Z[oe]:I[oe])}var oe=arguments.length-2;if(oe===1)te.children=W;else if(1<oe){Z=Array(oe);for(var fe=0;fe<oe;fe++)Z[fe]=arguments[fe+2];te.children=Z}return{$$typeof:e,type:_.type,key:J,ref:Y,props:te,_owner:M}},Zr.createContext=function(_){return _={$$typeof:o,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:i,_context:_},_.Consumer=_},Zr.createElement=P,Zr.createFactory=function(_){var I=P.bind(null,_);return I.type=_,I},Zr.createRef=function(){return{current:null}},Zr.forwardRef=function(_){return{$$typeof:l,render:_}},Zr.isValidElement=V,Zr.lazy=function(_){return{$$typeof:f,_payload:{_status:-1,_result:_},_init:K}},Zr.memo=function(_,I){return{$$typeof:d,type:_,compare:I===void 0?null:I}},Zr.startTransition=function(_){var I=X.transition;X.transition={};try{_()}finally{X.transition=I}},Zr.unstable_act=ue,Zr.useCallback=function(_,I){return z.current.useCallback(_,I)},Zr.useContext=function(_){return z.current.useContext(_)},Zr.useDebugValue=function(){},Zr.useDeferredValue=function(_){return z.current.useDeferredValue(_)},Zr.useEffect=function(_,I){return z.current.useEffect(_,I)},Zr.useId=function(){return z.current.useId()},Zr.useImperativeHandle=function(_,I,W){return z.current.useImperativeHandle(_,I,W)},Zr.useInsertionEffect=function(_,I){return z.current.useInsertionEffect(_,I)},Zr.useLayoutEffect=function(_,I){return z.current.useLayoutEffect(_,I)},Zr.useMemo=function(_,I){return z.current.useMemo(_,I)},Zr.useReducer=function(_,I,W){return z.current.useReducer(_,I,W)},Zr.useRef=function(_){return z.current.useRef(_)},Zr.useState=function(_){return z.current.useState(_)},Zr.useSyncExternalStore=function(_,I,W){return z.current.useSyncExternalStore(_,I,W)},Zr.useTransition=function(){return z.current.useTransition()},Zr.version="18.3.1",Zr}var D2;function _0(){return D2||(D2=1,gv.exports=CD()),gv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2;function SD(){if(U2)return Ch;U2=1;var e=_0(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,A,d){var f,h={},m=null,p=null;d!==void 0&&(m=""+d),A.key!==void 0&&(m=""+A.key),A.ref!==void 0&&(p=A.ref);for(f in A)a.call(A,f)&&!i.hasOwnProperty(f)&&(h[f]=A[f]);if(l&&l.defaultProps)for(f in A=l.defaultProps,A)h[f]===void 0&&(h[f]=A[f]);return{$$typeof:r,type:l,key:m,ref:p,props:h,_owner:s.current}}return Ch.Fragment=t,Ch.jsx=o,Ch.jsxs=o,Ch}var L2;function ED(){return L2||(L2=1,pv.exports=SD()),pv.exports}var n=ED(),bp={},xv={exports:{}},Oi={},vv={exports:{}},wv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function _D(){return I2||(I2=1,(function(e){function r(X,ne){var ue=X.length;X.push(ne);e:for(;0<ue;){var _=ue-1>>>1,I=X[_];if(0<s(I,ne))X[_]=ne,X[ue]=I,ue=_;else break e}}function t(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ne=X[0],ue=X.pop();if(ue!==ne){X[0]=ue;e:for(var _=0,I=X.length,W=I>>>1;_<W;){var te=2*(_+1)-1,J=X[te],Y=te+1,M=X[Y];if(0>s(J,ue))Y<I&&0>s(M,J)?(X[_]=M,X[Y]=ue,_=Y):(X[_]=J,X[te]=ue,_=te);else if(Y<I&&0>s(M,ue))X[_]=M,X[Y]=ue,_=Y;else break e}}return ne}function s(X,ne){var ue=X.sortIndex-ne.sortIndex;return ue!==0?ue:X.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var A=[],d=[],f=1,h=null,m=3,p=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(X){for(var ne=t(d);ne!==null;){if(ne.callback===null)a(d);else if(ne.startTime<=X)a(d),ne.sortIndex=ne.expirationTime,r(A,ne);else break;ne=t(d)}}function F(X){if(x=!1,S(X),!v)if(t(A)!==null)v=!0,K(T);else{var ne=t(d);ne!==null&&z(F,ne.startTime-X)}}function T(X,ne){v=!1,x&&(x=!1,j(P),P=-1),p=!0;var ue=m;try{for(S(ne),h=t(A);h!==null&&(!(h.expirationTime>ne)||X&&!Q());){var _=h.callback;if(typeof _=="function"){h.callback=null,m=h.priorityLevel;var I=_(h.expirationTime<=ne);ne=e.unstable_now(),typeof I=="function"?h.callback=I:h===t(A)&&a(A),S(ne)}else a(A);h=t(A)}if(h!==null)var W=!0;else{var te=t(d);te!==null&&z(F,te.startTime-ne),W=!1}return W}finally{h=null,m=ue,p=!1}}var D=!1,k=null,P=-1,E=5,V=-1;function Q(){return!(e.unstable_now()-V<E)}function $(){if(k!==null){var X=e.unstable_now();V=X;var ne=!0;try{ne=k(!0,X)}finally{ne?G():(D=!1,k=null)}}else D=!1}var G;if(typeof N=="function")G=function(){N($)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=$,G=function(){ee.postMessage(null)}}else G=function(){w($,0)};function K(X){k=X,D||(D=!0,G())}function z(X,ne){P=w(function(){X(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,K(T))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return t(A)},e.unstable_next=function(X){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var ue=m;m=ne;try{return X()}finally{m=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,ne){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=m;m=X;try{return ne()}finally{m=ue}},e.unstable_scheduleCallback=function(X,ne,ue){var _=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?_+ue:_):ue=_,X){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ue+I,X={id:f++,callback:ne,priorityLevel:X,startTime:ue,expirationTime:I,sortIndex:-1},ue>_?(X.sortIndex=ue,r(d,X),t(A)===null&&X===t(d)&&(x?(j(P),P=-1):x=!0,z(F,ue-_))):(X.sortIndex=I,r(A,X),v||p||(v=!0,K(T))),X},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(X){var ne=m;return function(){var ue=m;m=ne;try{return X.apply(this,arguments)}finally{m=ue}}}})(wv)),wv}var P2;function FD(){return P2||(P2=1,vv.exports=_D()),vv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function kD(){if(Q2)return Oi;Q2=1;var e=_0(),r=FD();function t(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(c,u){o(c,u),o(c+"Capture",u)}function o(c,u){for(s[c]=u,c=0;c<u.length;c++)a.add(u[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(c){return A.call(h,c)?!0:A.call(f,c)?!1:d.test(c)?h[c]=!0:(f[c]=!0,!1)}function p(c,u,g,B){if(g!==null&&g.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return B?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function v(c,u,g,B){if(u===null||typeof u>"u"||p(c,u,g,B))return!0;if(B)return!1;if(g!==null)switch(g.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function x(c,u,g,B,L,H,se){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=B,this.attributeNamespace=L,this.mustUseProperty=g,this.propertyName=c,this.type=u,this.sanitizeURL=H,this.removeEmptyString=se}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){w[c]=new x(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];w[u]=new x(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){w[c]=new x(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){w[c]=new x(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){w[c]=new x(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){w[c]=new x(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){w[c]=new x(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){w[c]=new x(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){w[c]=new x(c,5,!1,c.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function N(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(j,N);w[u]=new x(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(j,N);w[u]=new x(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(j,N);w[u]=new x(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){w[c]=new x(c,1,!1,c.toLowerCase(),null,!1,!1)}),w.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){w[c]=new x(c,1,!1,c.toLowerCase(),null,!0,!0)});function S(c,u,g,B){var L=w.hasOwnProperty(u)?w[u]:null;(L!==null?L.type!==0:B||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(v(u,g,L,B)&&(g=null),B||L===null?m(u)&&(g===null?c.removeAttribute(u):c.setAttribute(u,""+g)):L.mustUseProperty?c[L.propertyName]=g===null?L.type===3?!1:"":g:(u=L.attributeName,B=L.attributeNamespace,g===null?c.removeAttribute(u):(L=L.type,g=L===3||L===4&&g===!0?"":""+g,B?c.setAttributeNS(B,u,g):c.setAttribute(u,g))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),Q=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),X=Symbol.iterator;function ne(c){return c===null||typeof c!="object"?null:(c=X&&c[X]||c["@@iterator"],typeof c=="function"?c:null)}var ue=Object.assign,_;function I(c){if(_===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);_=u&&u[1]||""}return`
`+_+c}var W=!1;function te(c,u){if(!c||W)return"";W=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Me){var B=Me}Reflect.construct(c,[],u)}else{try{u.call()}catch(Me){B=Me}c.call(u.prototype)}else{try{throw Error()}catch(Me){B=Me}c()}}catch(Me){if(Me&&B&&typeof Me.stack=="string"){for(var L=Me.stack.split(`
`),H=B.stack.split(`
`),se=L.length-1,ge=H.length-1;1<=se&&0<=ge&&L[se]!==H[ge];)ge--;for(;1<=se&&0<=ge;se--,ge--)if(L[se]!==H[ge]){if(se!==1||ge!==1)do if(se--,ge--,0>ge||L[se]!==H[ge]){var je=`
`+L[se].replace(" at new "," at ");return c.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",c.displayName)),je}while(1<=se&&0<=ge);break}}}finally{W=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?I(c):""}function J(c){switch(c.tag){case 5:return I(c.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return c=te(c.type,!1),c;case 11:return c=te(c.type.render,!1),c;case 1:return c=te(c.type,!0),c;default:return""}}function Y(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case k:return"Fragment";case D:return"Portal";case E:return"Profiler";case P:return"StrictMode";case G:return"Suspense";case R:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Q:return(c.displayName||"Context")+".Consumer";case V:return(c._context.displayName||"Context")+".Provider";case $:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case ee:return u=c.displayName||null,u!==null?u:Y(c.type)||"Memo";case K:u=c._payload,c=c._init;try{return Y(c(u))}catch{}}return null}function M(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Z(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function oe(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function fe(c){var u=oe(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),B=""+c[u];if(!c.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var L=g.get,H=g.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return L.call(this)},set:function(se){B=""+se,H.call(this,se)}}),Object.defineProperty(c,u,{enumerable:g.enumerable}),{getValue:function(){return B},setValue:function(se){B=""+se},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function ve(c){c._valueTracker||(c._valueTracker=fe(c))}function Ee(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var g=u.getValue(),B="";return c&&(B=oe(c)?c.checked?"true":"false":c.value),c=B,c!==g?(u.setValue(c),!0):!1}function _e(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function xe(c,u){var g=u.checked;return ue({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function Ae(c,u){var g=u.defaultValue==null?"":u.defaultValue,B=u.checked!=null?u.checked:u.defaultChecked;g=Z(u.value!=null?u.value:g),c._wrapperState={initialChecked:B,initialValue:g,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function dt(c,u){u=u.checked,u!=null&&S(c,"checked",u,!1)}function Ft(c,u){dt(c,u);var g=Z(u.value),B=u.type;if(g!=null)B==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(B==="submit"||B==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?Ue(c,u.type,g):u.hasOwnProperty("defaultValue")&&Ue(c,u.type,Z(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function mt(c,u,g){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var B=u.type;if(!(B!=="submit"&&B!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,g||u===c.value||(c.value=u),c.defaultValue=u}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function Ue(c,u,g){(u!=="number"||_e(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var ct=Array.isArray;function et(c,u,g,B){if(c=c.options,u){u={};for(var L=0;L<g.length;L++)u["$"+g[L]]=!0;for(g=0;g<c.length;g++)L=u.hasOwnProperty("$"+c[g].value),c[g].selected!==L&&(c[g].selected=L),L&&B&&(c[g].defaultSelected=!0)}else{for(g=""+Z(g),u=null,L=0;L<c.length;L++){if(c[L].value===g){c[L].selected=!0,B&&(c[L].defaultSelected=!0);return}u!==null||c[L].disabled||(u=c[L])}u!==null&&(u.selected=!0)}}function Ot(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function He(c,u){var g=u.value;if(g==null){if(g=u.children,u=u.defaultValue,g!=null){if(u!=null)throw Error(t(92));if(ct(g)){if(1<g.length)throw Error(t(93));g=g[0]}u=g}u==null&&(u=""),g=u}c._wrapperState={initialValue:Z(g)}}function Jt(c,u){var g=Z(u.value),B=Z(u.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),u.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),B!=null&&(c.defaultValue=""+B)}function kt(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function jt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nr(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?jt(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Nt,Bt=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,g,B,L){MSApp.execUnsafeLocalFunction(function(){return c(u,g,B,L)})}:c})(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for(Nt=Nt||document.createElement("div"),Nt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Nt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function vt(c,u){if(u){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=u;return}}c.textContent=u}var yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(yt).forEach(function(c){Qr.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),yt[u]=yt[c]})});function Ir(c,u,g){return u==null||typeof u=="boolean"||u===""?"":g||typeof u!="number"||u===0||yt.hasOwnProperty(c)&&yt[c]?(""+u).trim():u+"px"}function Tt(c,u){c=c.style;for(var g in u)if(u.hasOwnProperty(g)){var B=g.indexOf("--")===0,L=Ir(g,u[g],B);g==="float"&&(g="cssFloat"),B?c.setProperty(g,L):c[g]=L}}var hr=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nt(c,u){if(u){if(hr[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function Re(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var it=null;function bt(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Je=null,Lt=null,lr=null;function ir(c){if(c=CA(c)){if(typeof Je!="function")throw Error(t(280));var u=c.stateNode;u&&(u=Rd(u),Je(c.stateNode,c.type,u))}}function Tr(c){Lt?lr?lr.push(c):lr=[c]:Lt=c}function $s(){if(Lt){var c=Lt,u=lr;if(lr=Lt=null,ir(c),u)for(c=0;c<u.length;c++)ir(u[c])}}function Za(c,u){return c(u)}function ws(){}var wt=!1;function nr(c,u,g){if(wt)return c(u,g);wt=!0;try{return Za(c,u,g)}finally{wt=!1,(Lt!==null||lr!==null)&&(ws(),$s())}}function Zn(c,u){var g=c.stateNode;if(g===null)return null;var B=Rd(g);if(B===null)return null;g=B[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(B=!B.disabled)||(c=c.type,B=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!B;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(t(231,u,typeof g));return g}var es=!1;if(l)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){es=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{es=!1}function Pa(c,u,g,B,L,H,se,ge,je){var Me=Array.prototype.slice.call(arguments,3);try{u.apply(g,Me)}catch(ut){this.onError(ut)}}var ca=!1,za=null,en=!1,Si=null,Wi={onError:function(c){ca=!0,za=c}};function qe(c,u,g,B,L,H,se,ge,je){ca=!1,za=null,Pa.apply(Wi,arguments)}function at(c,u,g,B,L,H,se,ge,je){if(qe.apply(this,arguments),ca){if(ca){var Me=za;ca=!1,za=null}else throw Error(t(198));en||(en=!0,Si=Me)}}function _t(c){var u=c,g=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(g=u.return),c=u.return;while(c)}return u.tag===3?g:null}function It(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function Ct(c){if(_t(c)!==c)throw Error(t(188))}function mr(c){var u=c.alternate;if(!u){if(u=_t(c),u===null)throw Error(t(188));return u!==c?null:c}for(var g=c,B=u;;){var L=g.return;if(L===null)break;var H=L.alternate;if(H===null){if(B=L.return,B!==null){g=B;continue}break}if(L.child===H.child){for(H=L.child;H;){if(H===g)return Ct(L),c;if(H===B)return Ct(L),u;H=H.sibling}throw Error(t(188))}if(g.return!==B.return)g=L,B=H;else{for(var se=!1,ge=L.child;ge;){if(ge===g){se=!0,g=L,B=H;break}if(ge===B){se=!0,B=L,g=H;break}ge=ge.sibling}if(!se){for(ge=H.child;ge;){if(ge===g){se=!0,g=H,B=L;break}if(ge===B){se=!0,B=H,g=L;break}ge=ge.sibling}if(!se)throw Error(t(189))}}if(g.alternate!==B)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?c:u}function or(c){return c=mr(c),c!==null?$r(c):null}function $r(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=$r(c);if(u!==null)return u;c=c.sibling}return null}var ea=r.unstable_scheduleCallback,Kt=r.unstable_cancelCallback,da=r.unstable_shouldYield,Qa=r.unstable_requestPaint,gr=r.unstable_now,Ea=r.unstable_getCurrentPriorityLevel,Ra=r.unstable_ImmediatePriority,Qt=r.unstable_UserBlockingPriority,Fr=r.unstable_NormalPriority,gn=r.unstable_LowPriority,Ks=r.unstable_IdlePriority,Us=null,ts=null;function As(c){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(Us,c,void 0,(c.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:mc,AA=Math.log,tn=Math.LN2;function mc(c){return c>>>=0,c===0?32:31-(AA(c)/tn|0)|0}var gt=64,Ge=4194304;function aa(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function pt(c,u){var g=c.pendingLanes;if(g===0)return 0;var B=0,L=c.suspendedLanes,H=c.pingedLanes,se=g&268435455;if(se!==0){var ge=se&~L;ge!==0?B=aa(ge):(H&=se,H!==0&&(B=aa(H)))}else se=g&~L,se!==0?B=aa(se):H!==0&&(B=aa(H));if(B===0)return 0;if(u!==0&&u!==B&&(u&L)===0&&(L=B&-B,H=u&-u,L>=H||L===16&&(H&4194240)!==0))return u;if((B&4)!==0&&(B|=g&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=B;0<u;)g=31-on(u),L=1<<g,B|=c[g],u&=~L;return B}function xn(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(c,u){for(var g=c.suspendedLanes,B=c.pingedLanes,L=c.expirationTimes,H=c.pendingLanes;0<H;){var se=31-on(H),ge=1<<se,je=L[se];je===-1?((ge&g)===0||(ge&B)!==0)&&(L[se]=xn(ge,u)):je<=u&&(c.expiredLanes|=ge),H&=~ge}}function qa(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Xr(){var c=gt;return gt<<=1,(gt&4194240)===0&&(gt=64),c}function vn(c){for(var u=[],g=0;31>g;g++)u.push(c);return u}function Ta(c,u,g){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-on(u),c[u]=g}function Ls(c,u){var g=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var B=c.eventTimes;for(c=c.expirationTimes;0<g;){var L=31-on(g),H=1<<L;u[L]=0,B[L]=-1,c[L]=-1,g&=~H}}function Nl(c,u){var g=c.entangledLanes|=u;for(c=c.entanglements;g;){var B=31-on(g),L=1<<B;L&u|c[B]&u&&(c[B]|=u),g&=~L}}var Cr=0;function Mo(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var dA,yd,Eu,_u,uA,Oo=!1,Gi=[],mo=null,Vs=null,Ei=null,pr=new Map,pc=new Map,po=[],th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(c,u){switch(c){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":pr.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(u.pointerId)}}function ui(c,u,g,B,L,H){return c===null||c.nativeEvent!==H?(c={blockedOn:u,domEventName:g,eventSystemFlags:B,nativeEvent:H,targetContainers:[L]},u!==null&&(u=CA(u),u!==null&&yd(u)),c):(c.eventSystemFlags|=B,u=c.targetContainers,L!==null&&u.indexOf(L)===-1&&u.push(L),c)}function Ho(c,u,g,B,L){switch(u){case"focusin":return mo=ui(mo,c,u,g,B,L),!0;case"dragenter":return Vs=ui(Vs,c,u,g,B,L),!0;case"mouseover":return Ei=ui(Ei,c,u,g,B,L),!0;case"pointerover":var H=L.pointerId;return pr.set(H,ui(pr.get(H)||null,c,u,g,B,L)),!0;case"gotpointercapture":return H=L.pointerId,pc.set(H,ui(pc.get(H)||null,c,u,g,B,L)),!0}return!1}function ku(c){var u=Ll(c.target);if(u!==null){var g=_t(u);if(g!==null){if(u=g.tag,u===13){if(u=It(g),u!==null){c.blockedOn=u,uA(c.priority,function(){Eu(g)});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function fA(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var g=xc(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var B=new g.constructor(g.type,g);it=B,g.target.dispatchEvent(B),it=null}else return u=CA(g),u!==null&&yd(u),c.blockedOn=g,!1;u.shift()}return!0}function gc(c,u,g){fA(c)&&g.delete(u)}function bd(){Oo=!1,mo!==null&&fA(mo)&&(mo=null),Vs!==null&&fA(Vs)&&(Vs=null),Ei!==null&&fA(Ei)&&(Ei=null),pr.forEach(gc),pc.forEach(gc)}function Yi(c,u){c.blockedOn===u&&(c.blockedOn=null,Oo||(Oo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bd)))}function go(c){function u(L){return Yi(L,c)}if(0<Gi.length){Yi(Gi[0],c);for(var g=1;g<Gi.length;g++){var B=Gi[g];B.blockedOn===c&&(B.blockedOn=null)}}for(mo!==null&&Yi(mo,c),Vs!==null&&Yi(Vs,c),Ei!==null&&Yi(Ei,c),pr.forEach(u),pc.forEach(u),g=0;g<po.length;g++)B=po[g],B.blockedOn===c&&(B.blockedOn=null);for(;0<po.length&&(g=po[0],g.blockedOn===null);)ku(g),g.blockedOn===null&&po.shift()}var Xi=F.ReactCurrentBatchConfig,hA=!0;function jd(c,u,g,B){var L=Cr,H=Xi.transition;Xi.transition=null;try{Cr=1,$o(c,u,g,B)}finally{Cr=L,Xi.transition=H}}function Nd(c,u,g,B){var L=Cr,H=Xi.transition;Xi.transition=null;try{Cr=4,$o(c,u,g,B)}finally{Cr=L,Xi.transition=H}}function $o(c,u,g,B){if(hA){var L=xc(c,u,g,B);if(L===null)Id(c,u,B,xo,g),Fu(c,B);else if(Ho(L,c,u,g,B))B.stopPropagation();else if(Fu(c,B),u&4&&-1<th.indexOf(c)){for(;L!==null;){var H=CA(L);if(H!==null&&dA(H),H=xc(c,u,g,B),H===null&&Id(c,u,B,xo,g),H===L)break;L=H}L!==null&&B.stopPropagation()}else Id(c,u,B,null,g)}}var xo=null;function xc(c,u,g,B){if(xo=null,c=bt(B),c=Ll(c),c!==null)if(u=_t(c),u===null)c=null;else if(g=u.tag,g===13){if(c=It(u),c!==null)return c;c=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return xo=c,null}function vc(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ea()){case Ra:return 1;case Qt:return 4;case Fr:case gn:return 16;case Ks:return 536870912;default:return 16}default:return 16}}var _i=null,Ko=null,wc=null;function Bd(){if(wc)return wc;var c,u=Ko,g=u.length,B,L="value"in _i?_i.value:_i.textContent,H=L.length;for(c=0;c<g&&u[c]===L[c];c++);var se=g-c;for(B=1;B<=se&&u[g-B]===L[H-B];B++);return wc=L.slice(c,1<B?1-B:void 0)}function Fi(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function ki(){return!0}function Cd(){return!1}function ys(c){function u(g,B,L,H,se){this._reactName=g,this._targetInst=L,this.type=B,this.nativeEvent=H,this.target=se,this.currentTarget=null;for(var ge in c)c.hasOwnProperty(ge)&&(g=c[ge],this[ge]=g?g(H):H[ge]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?ki:Cd,this.isPropagationStopped=Cd,this}return ue(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),u}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mA=ys(Di),U=ue({},Di,{view:0,detail:0}),ae=ys(U),pe,we,Se,Ze=ue({},U,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Se&&(Se&&c.type==="mousemove"?(pe=c.screenX-Se.screenX,we=c.screenY-Se.screenY):we=pe=0,Se=c),pe)},movementY:function(c){return"movementY"in c?c.movementY:we}}),ot=ys(Ze),qt=ue({},Ze,{dataTransfer:0}),Zt=ys(qt),yr=ue({},U,{relatedTarget:0}),br=ys(yr),ua=ue({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),rn=ys(ua),En=ue({},Di,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Ma=ys(En),Rn=ue({},Di,{data:0}),wn=ys(Rn),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ui={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=zs[c])?!!u[c]:!1}function Bl(){return Du}var yc=ue({},U,{key:function(c){if(c.key){var u=ds[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=Fi(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Ui[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(c){return c.type==="keypress"?Fi(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Fi(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Cl=ys(yc),bc=ue({},Ze,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sl=ys(bc),jc=ue({},U,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),bs=ys(jc),Nc=ue({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bc=ys(Nc),Sd=ue({},Ze,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Ed=ys(Sd),ln=[9,13,27,32],Ji=l&&"CompositionEvent"in window,vo=null;l&&"documentMode"in document&&(vo=document.documentMode);var Uu=l&&"TextEvent"in window&&!vo,fi=l&&(!Ji||vo&&8<vo&&11>=vo),El=" ",pA=!1;function gA(c,u){switch(c){case"keyup":return ln.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vo(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Li=!1;function hi(c,u){switch(c){case"compositionend":return Vo(u);case"keypress":return u.which!==32?null:(pA=!0,El);case"textInput":return c=u.data,c===El&&pA?null:c;default:return null}}function mi(c,u){if(Li)return c==="compositionend"||!Ji&&gA(c,u)?(c=Bd(),wc=Ko=_i=null,Li=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return fi&&u.locale!=="ko"?null:u.data;default:return null}}var _l={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wo(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!_l[c.type]:u==="textarea"}function zo(c,u,g,B){Tr(B),u=Ru(u,"onChange"),0<u.length&&(g=new mA("onChange","change",null,g,B),c.push({event:g,listeners:u}))}var qo=null,yo=null;function yn(c){Ud(c,0)}function Cc(c){var u=Pc(c);if(Ee(u))return c}function bo(c,u){if(c==="change")return u}var Zi=!1;if(l){var Sc;if(l){var Ec="oninput"in document;if(!Ec){var xA=document.createElement("div");xA.setAttribute("oninput","return;"),Ec=typeof xA.oninput=="function"}Sc=Ec}else Sc=!1;Zi=Sc&&(!document.documentMode||9<document.documentMode)}function vA(){qo&&(qo.detachEvent("onpropertychange",Wo),yo=qo=null)}function Wo(c){if(c.propertyName==="value"&&Cc(yo)){var u=[];zo(u,yo,c,bt(c)),nr(yn,u)}}function Fl(c,u,g){c==="focusin"?(vA(),qo=u,yo=g,qo.attachEvent("onpropertychange",Wo)):c==="focusout"&&vA()}function kl(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Cc(yo)}function _c(c,u){if(c==="click")return Cc(u)}function Dl(c,u){if(c==="input"||c==="change")return Cc(u)}function Fc(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var cn=typeof Object.is=="function"?Object.is:Fc;function qs(c,u){if(cn(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var g=Object.keys(c),B=Object.keys(u);if(g.length!==B.length)return!1;for(B=0;B<g.length;B++){var L=g[B];if(!A.call(u,L)||!cn(c[L],u[L]))return!1}return!0}function fa(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ba(c,u){var g=fa(c);c=0;for(var B;g;){if(g.nodeType===3){if(B=c+g.textContent.length,c<=u&&B>=u)return{node:g,offset:u-c};c=B}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=fa(g)}}function An(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?An(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function _n(){for(var c=window,u=_e();u instanceof c.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)c=u.contentWindow;else break;u=_e(c.document)}return u}function eo(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function _d(c){var u=_n(),g=c.focusedElem,B=c.selectionRange;if(u!==g&&g&&g.ownerDocument&&An(g.ownerDocument.documentElement,g)){if(B!==null&&eo(g)){if(u=B.start,c=B.end,c===void 0&&(c=u),"selectionStart"in g)g.selectionStart=u,g.selectionEnd=Math.min(c,g.value.length);else if(c=(u=g.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var L=g.textContent.length,H=Math.min(B.start,L);B=B.end===void 0?H:Math.min(B.end,L),!c.extend&&H>B&&(L=B,B=H,H=L),L=ba(g,H);var se=ba(g,B);L&&se&&(c.rangeCount!==1||c.anchorNode!==L.node||c.anchorOffset!==L.offset||c.focusNode!==se.node||c.focusOffset!==se.offset)&&(u=u.createRange(),u.setStart(L.node,L.offset),c.removeAllRanges(),H>B?(c.addRange(u),c.extend(se.node,se.offset)):(u.setEnd(se.node,se.offset),c.addRange(u)))}}for(u=[],c=g;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<u.length;g++)c=u[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var wA=l&&"documentMode"in document&&11>=document.documentMode,Go=null,Lu=null,yA=null,Iu=!1;function rh(c,u,g){var B=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Iu||Go==null||Go!==_e(B)||(B=Go,"selectionStart"in B&&eo(B)?B={start:B.selectionStart,end:B.selectionEnd}:(B=(B.ownerDocument&&B.ownerDocument.defaultView||window).getSelection(),B={anchorNode:B.anchorNode,anchorOffset:B.anchorOffset,focusNode:B.focusNode,focusOffset:B.focusOffset}),yA&&qs(yA,B)||(yA=B,B=Ru(Lu,"onSelect"),0<B.length&&(u=new mA("onSelect","select",null,u,g),c.push({event:u,listeners:B}),u.target=Go)))}function Fd(c,u){var g={};return g[c.toLowerCase()]=u.toLowerCase(),g["Webkit"+c]="webkit"+u,g["Moz"+c]="moz"+u,g}var kc={animationend:Fd("Animation","AnimationEnd"),animationiteration:Fd("Animation","AnimationIteration"),animationstart:Fd("Animation","AnimationStart"),transitionend:Fd("Transition","TransitionEnd")},Dc={},ah={};l&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function kd(c){if(Dc[c])return Dc[c];if(!kc[c])return c;var u=kc[c],g;for(g in u)if(u.hasOwnProperty(g)&&g in ah)return Dc[c]=u[g];return c}var nh=kd("animationend"),sh=kd("animationiteration"),ih=kd("animationstart"),oh=kd("transitionend"),lh=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(c,u){lh.set(c,u),i(u,[c])}for(var bA=0;bA<ch.length;bA++){var Is=ch[bA],Ii=Is.toLowerCase(),Pu=Is[0].toUpperCase()+Is.slice(1);jo(Ii,"on"+Pu)}jo(nh,"onAnimationEnd"),jo(sh,"onAnimationIteration"),jo(ih,"onAnimationStart"),jo("dblclick","onDoubleClick"),jo("focusin","onFocus"),jo("focusout","onBlur"),jo(oh,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function Dd(c,u,g){var B=c.type||"unknown-event";c.currentTarget=g,at(B,u,void 0,c),c.currentTarget=null}function Ud(c,u){u=(u&4)!==0;for(var g=0;g<c.length;g++){var B=c[g],L=B.event;B=B.listeners;e:{var H=void 0;if(u)for(var se=B.length-1;0<=se;se--){var ge=B[se],je=ge.instance,Me=ge.currentTarget;if(ge=ge.listener,je!==H&&L.isPropagationStopped())break e;Dd(L,ge,Me),H=je}else for(se=0;se<B.length;se++){if(ge=B[se],je=ge.instance,Me=ge.currentTarget,ge=ge.listener,je!==H&&L.isPropagationStopped())break e;Dd(L,ge,Me),H=je}}}if(en)throw c=Si,en=!1,Si=null,c}function _a(c,u){var g=u[Gs];g===void 0&&(g=u[Gs]=new Set);var B=c+"__bubble";g.has(B)||(Ld(u,c,2,!1),g.add(B))}function Qu(c,u,g){var B=0;u&&(B|=4),Ld(g,c,B,u)}var jA="_reactListening"+Math.random().toString(36).slice(2);function Uc(c){if(!c[jA]){c[jA]=!0,a.forEach(function(g){g!=="selectionchange"&&(Hm.has(g)||Qu(g,!1,c),Qu(g,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[jA]||(u[jA]=!0,Qu("selectionchange",!1,u))}}function Ld(c,u,g,B){switch(vc(u)){case 1:var L=jd;break;case 4:L=Nd;break;default:L=$o}g=L.bind(null,u,g,c),L=void 0,!es||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(L=!0),B?L!==void 0?c.addEventListener(u,g,{capture:!0,passive:L}):c.addEventListener(u,g,!0):L!==void 0?c.addEventListener(u,g,{passive:L}):c.addEventListener(u,g,!1)}function Id(c,u,g,B,L){var H=B;if((u&1)===0&&(u&2)===0&&B!==null)e:for(;;){if(B===null)return;var se=B.tag;if(se===3||se===4){var ge=B.stateNode.containerInfo;if(ge===L||ge.nodeType===8&&ge.parentNode===L)break;if(se===4)for(se=B.return;se!==null;){var je=se.tag;if((je===3||je===4)&&(je=se.stateNode.containerInfo,je===L||je.nodeType===8&&je.parentNode===L))return;se=se.return}for(;ge!==null;){if(se=Ll(ge),se===null)return;if(je=se.tag,je===5||je===6){B=H=se;continue e}ge=ge.parentNode}}B=B.return}nr(function(){var Me=H,ut=bt(g),ht=[];e:{var At=lh.get(c);if(At!==void 0){var Rt=mA,Gt=c;switch(c){case"keypress":if(Fi(g)===0)break e;case"keydown":case"keyup":Rt=Cl;break;case"focusin":Gt="focus",Rt=br;break;case"focusout":Gt="blur",Rt=br;break;case"beforeblur":case"afterblur":Rt=br;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=ot;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=Zt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=bs;break;case nh:case sh:case ih:Rt=rn;break;case oh:Rt=Bc;break;case"scroll":Rt=ae;break;case"wheel":Rt=Ed;break;case"copy":case"cut":case"paste":Rt=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=Sl}var Xt=(u&4)!==0,On=!Xt&&c==="scroll",Pe=Xt?At!==null?At+"Capture":null:At;Xt=[];for(var Be=Me,Te;Be!==null;){Te=Be;var xt=Te.stateNode;if(Te.tag===5&&xt!==null&&(Te=xt,Pe!==null&&(xt=Zn(Be,Pe),xt!=null&&Xt.push(Pd(Be,xt,Te)))),On)break;Be=Be.return}0<Xt.length&&(At=new Rt(At,Gt,null,g,ut),ht.push({event:At,listeners:Xt}))}}if((u&7)===0){e:{if(At=c==="mouseover"||c==="pointerover",Rt=c==="mouseout"||c==="pointerout",At&&g!==it&&(Gt=g.relatedTarget||g.fromElement)&&(Ll(Gt)||Gt[js]))break e;if((Rt||At)&&(At=ut.window===ut?ut:(At=ut.ownerDocument)?At.defaultView||At.parentWindow:window,Rt?(Gt=g.relatedTarget||g.toElement,Rt=Me,Gt=Gt?Ll(Gt):null,Gt!==null&&(On=_t(Gt),Gt!==On||Gt.tag!==5&&Gt.tag!==6)&&(Gt=null)):(Rt=null,Gt=Me),Rt!==Gt)){if(Xt=ot,xt="onMouseLeave",Pe="onMouseEnter",Be="mouse",(c==="pointerout"||c==="pointerover")&&(Xt=Sl,xt="onPointerLeave",Pe="onPointerEnter",Be="pointer"),On=Rt==null?At:Pc(Rt),Te=Gt==null?At:Pc(Gt),At=new Xt(xt,Be+"leave",Rt,g,ut),At.target=On,At.relatedTarget=Te,xt=null,Ll(ut)===Me&&(Xt=new Xt(Pe,Be+"enter",Gt,g,ut),Xt.target=Te,Xt.relatedTarget=On,xt=Xt),On=xt,Rt&&Gt)t:{for(Xt=Rt,Pe=Gt,Be=0,Te=Xt;Te;Te=Lc(Te))Be++;for(Te=0,xt=Pe;xt;xt=Lc(xt))Te++;for(;0<Be-Te;)Xt=Lc(Xt),Be--;for(;0<Te-Be;)Pe=Lc(Pe),Te--;for(;Be--;){if(Xt===Pe||Pe!==null&&Xt===Pe.alternate)break t;Xt=Lc(Xt),Pe=Lc(Pe)}Xt=null}else Xt=null;Rt!==null&&$m(ht,At,Rt,Xt,!1),Gt!==null&&On!==null&&$m(ht,On,Gt,Xt,!0)}}e:{if(At=Me?Pc(Me):window,Rt=At.nodeName&&At.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&At.type==="file")var tr=bo;else if(wo(At))if(Zi)tr=Dl;else{tr=kl;var Ar=Fl}else(Rt=At.nodeName)&&Rt.toLowerCase()==="input"&&(At.type==="checkbox"||At.type==="radio")&&(tr=_c);if(tr&&(tr=tr(c,Me))){zo(ht,tr,g,ut);break e}Ar&&Ar(c,At,Me),c==="focusout"&&(Ar=At._wrapperState)&&Ar.controlled&&At.type==="number"&&Ue(At,"number",At.value)}switch(Ar=Me?Pc(Me):window,c){case"focusin":(wo(Ar)||Ar.contentEditable==="true")&&(Go=Ar,Lu=Me,yA=null);break;case"focusout":yA=Lu=Go=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,rh(ht,g,ut);break;case"selectionchange":if(wA)break;case"keydown":case"keyup":rh(ht,g,ut)}var dr;if(Ji)e:{switch(c){case"compositionstart":var Sr="onCompositionStart";break e;case"compositionend":Sr="onCompositionEnd";break e;case"compositionupdate":Sr="onCompositionUpdate";break e}Sr=void 0}else Li?gA(c,g)&&(Sr="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(Sr="onCompositionStart");Sr&&(fi&&g.locale!=="ko"&&(Li||Sr!=="onCompositionStart"?Sr==="onCompositionEnd"&&Li&&(dr=Bd()):(_i=ut,Ko="value"in _i?_i.value:_i.textContent,Li=!0)),Ar=Ru(Me,Sr),0<Ar.length&&(Sr=new wn(Sr,c,null,g,ut),ht.push({event:Sr,listeners:Ar}),dr?Sr.data=dr:(dr=Vo(g),dr!==null&&(Sr.data=dr)))),(dr=Uu?hi(c,g):mi(c,g))&&(Me=Ru(Me,"onBeforeInput"),0<Me.length&&(ut=new wn("onBeforeInput","beforeinput",null,g,ut),ht.push({event:ut,listeners:Me}),ut.data=dr))}Ud(ht,u)})}function Pd(c,u,g){return{instance:c,listener:u,currentTarget:g}}function Ru(c,u){for(var g=u+"Capture",B=[];c!==null;){var L=c,H=L.stateNode;L.tag===5&&H!==null&&(L=H,H=Zn(c,g),H!=null&&B.unshift(Pd(c,H,L)),H=Zn(c,u),H!=null&&B.push(Pd(c,H,L))),c=c.return}return B}function Lc(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function $m(c,u,g,B,L){for(var H=u._reactName,se=[];g!==null&&g!==B;){var ge=g,je=ge.alternate,Me=ge.stateNode;if(je!==null&&je===B)break;ge.tag===5&&Me!==null&&(ge=Me,L?(je=Zn(g,H),je!=null&&se.unshift(Pd(g,je,ge))):L||(je=Zn(g,H),je!=null&&se.push(Pd(g,je,ge)))),g=g.return}se.length!==0&&c.push({event:u,listeners:se})}var Fx=/\r\n?/g,kx=/\u0000|\uFFFD/g;function Km(c){return(typeof c=="string"?c:""+c).replace(Fx,`
`).replace(kx,"")}function Tu(c,u,g){if(u=Km(u),Km(c)!==u&&g)throw Error(t(425))}function NA(){}var Qd=null,Ic=null;function Ah(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,Vm=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,Dx=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(c){return zm.resolve(null).then(c).catch(Ux)}:dh;function Ux(c){setTimeout(function(){throw c})}function uh(c,u){var g=u,B=0;do{var L=g.nextSibling;if(c.removeChild(g),L&&L.nodeType===8)if(g=L.data,g==="/$"){if(B===0){c.removeChild(L),go(u);return}B--}else g!=="$"&&g!=="$?"&&g!=="$!"||B++;g=L}while(g);go(u)}function Ps(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function Pi(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return c;u--}else g==="/$"&&u++}c=c.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),No="__reactFiber$"+Ws,BA="__reactProps$"+Ws,js="__reactContainer$"+Ws,Gs="__reactEvents$"+Ws,Lx="__reactListeners$"+Ws,Ix="__reactHandles$"+Ws;function Ll(c){var u=c[No];if(u)return u;for(var g=c.parentNode;g;){if(u=g[js]||g[No]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(c=Pi(c);c!==null;){if(g=c[No])return g;c=Pi(c)}return u}c=g,g=c.parentNode}return null}function CA(c){return c=c[No]||c[js],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Pc(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(t(33))}function Rd(c){return c[BA]||null}var fh=[],Yo=-1;function to(c){return{current:c}}function va(c){0>Yo||(c.current=fh[Yo],fh[Yo]=null,Yo--)}function ja(c,u){Yo++,fh[Yo]=c.current,c.current=u}var Il={},us=to(Il),Ys=to(!1),Qc=Il;function SA(c,u){var g=c.type.contextTypes;if(!g)return Il;var B=c.stateNode;if(B&&B.__reactInternalMemoizedUnmaskedChildContext===u)return B.__reactInternalMemoizedMaskedChildContext;var L={},H;for(H in g)L[H]=u[H];return B&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=L),L}function Xs(c){return c=c.childContextTypes,c!=null}function Mu(){va(Ys),va(us)}function qm(c,u,g){if(us.current!==Il)throw Error(t(168));ja(us,u),ja(Ys,g)}function hh(c,u,g){var B=c.stateNode;if(u=u.childContextTypes,typeof B.getChildContext!="function")return g;B=B.getChildContext();for(var L in B)if(!(L in u))throw Error(t(108,M(c)||"Unknown",L));return ue({},g,B)}function Rc(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Il,Qc=us.current,ja(us,c),ja(Ys,Ys.current),!0}function Wm(c,u,g){var B=c.stateNode;if(!B)throw Error(t(169));g?(c=hh(c,u,Qc),B.__reactInternalMemoizedMergedChildContext=c,va(Ys),va(us),ja(us,c)):va(Ys),ja(Ys,g)}var Xo=null,Td=!1,b=!1;function C(c){Xo===null?Xo=[c]:Xo.push(c)}function O(c){Td=!0,C(c)}function q(){if(!b&&Xo!==null){b=!0;var c=0,u=Cr;try{var g=Xo;for(Cr=1;c<g.length;c++){var B=g[c];do B=B(!0);while(B!==null)}Xo=null,Td=!1}catch(L){throw Xo!==null&&(Xo=Xo.slice(c+1)),ea(Ra,q),L}finally{Cr=u,b=!1}}return null}var re=[],ie=0,le=null,ce=0,de=[],he=0,be=null,Ie=1,me="";function Ne(c,u){re[ie++]=ce,re[ie++]=le,le=c,ce=u}function Fe(c,u,g){de[he++]=Ie,de[he++]=me,de[he++]=be,be=c;var B=Ie;c=me;var L=32-on(B)-1;B&=~(1<<L),g+=1;var H=32-on(u)+L;if(30<H){var se=L-L%5;H=(B&(1<<se)-1).toString(32),B>>=se,L-=se,Ie=1<<32-on(u)+L|g<<L|B,me=H+c}else Ie=1<<H|g<<L|B,me=c}function Ye(c){c.return!==null&&(Ne(c,1),Fe(c,1,0))}function Qe(c){for(;c===le;)le=re[--ie],re[ie]=null,ce=re[--ie],re[ie]=null;for(;c===be;)be=de[--he],de[he]=null,me=de[--he],de[he]=null,Ie=de[--he],de[he]=null}var $e=null,ze=null,tt=!1,rt=null;function er(c,u){var g=_o(5,null,null,0);g.elementType="DELETED",g.stateNode=u,g.return=c,u=c.deletions,u===null?(c.deletions=[g],c.flags|=16):u.push(g)}function Ht(c,u){switch(c.tag){case 5:var g=c.type;return u=u.nodeType!==1||g.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,$e=c,ze=Ps(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,$e=c,ze=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(g=be!==null?{id:Ie,overflow:me}:null,c.memoizedState={dehydrated:u,treeContext:g,retryLane:1073741824},g=_o(18,null,null,0),g.stateNode=u,g.return=c,c.child=g,$e=c,ze=null,!0):!1;default:return!1}}function _r(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Wt(c){if(tt){var u=ze;if(u){var g=u;if(!Ht(c,u)){if(_r(c))throw Error(t(418));u=Ps(g.nextSibling);var B=$e;u&&Ht(c,u)?er(B,g):(c.flags=c.flags&-4097|2,tt=!1,$e=c)}}else{if(_r(c))throw Error(t(418));c.flags=c.flags&-4097|2,tt=!1,$e=c}}}function Jr(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;$e=c}function dn(c){if(c!==$e)return!1;if(!tt)return Jr(c),tt=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!Ah(c.type,c.memoizedProps)),u&&(u=ze)){if(_r(c))throw kr(),Error(t(418));for(;u;)er(c,u),u=Ps(u.nextSibling)}if(Jr(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(t(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(u===0){ze=Ps(c.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++}c=c.nextSibling}ze=null}}else ze=$e?Ps(c.stateNode.nextSibling):null;return!0}function kr(){for(var c=ze;c;)c=Ps(c.nextSibling)}function $t(){ze=$e=null,tt=!1}function St(c){rt===null?rt=[c]:rt.push(c)}var bn=F.ReactCurrentBatchConfig;function wr(c,u,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var B=g.stateNode}if(!B)throw Error(t(147,c));var L=B,H=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===H?u.ref:(u=function(se){var ge=L.refs;se===null?delete ge[H]:ge[H]=se},u._stringRef=H,u)}if(typeof c!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,c))}return c}function qr(c,u){throw c=Object.prototype.toString.call(u),Error(t(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function Oa(c){var u=c._init;return u(c._payload)}function rs(c){function u(Pe,Be){if(c){var Te=Pe.deletions;Te===null?(Pe.deletions=[Be],Pe.flags|=16):Te.push(Be)}}function g(Pe,Be){if(!c)return null;for(;Be!==null;)u(Pe,Be),Be=Be.sibling;return null}function B(Pe,Be){for(Pe=new Map;Be!==null;)Be.key!==null?Pe.set(Be.key,Be):Pe.set(Be.index,Be),Be=Be.sibling;return Pe}function L(Pe,Be){return Pe=QA(Pe,Be),Pe.index=0,Pe.sibling=null,Pe}function H(Pe,Be,Te){return Pe.index=Te,c?(Te=Pe.alternate,Te!==null?(Te=Te.index,Te<Be?(Pe.flags|=2,Be):Te):(Pe.flags|=2,Be)):(Pe.flags|=1048576,Be)}function se(Pe){return c&&Pe.alternate===null&&(Pe.flags|=2),Pe}function ge(Pe,Be,Te,xt){return Be===null||Be.tag!==6?(Be=Av(Te,Pe.mode,xt),Be.return=Pe,Be):(Be=L(Be,Te),Be.return=Pe,Be)}function je(Pe,Be,Te,xt){var tr=Te.type;return tr===k?ut(Pe,Be,Te.props.children,xt,Te.key):Be!==null&&(Be.elementType===tr||typeof tr=="object"&&tr!==null&&tr.$$typeof===K&&Oa(tr)===Be.type)?(xt=L(Be,Te.props),xt.ref=wr(Pe,Be,Te),xt.return=Pe,xt):(xt=hp(Te.type,Te.key,Te.props,null,Pe.mode,xt),xt.ref=wr(Pe,Be,Te),xt.return=Pe,xt)}function Me(Pe,Be,Te,xt){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Te.containerInfo||Be.stateNode.implementation!==Te.implementation?(Be=dv(Te,Pe.mode,xt),Be.return=Pe,Be):(Be=L(Be,Te.children||[]),Be.return=Pe,Be)}function ut(Pe,Be,Te,xt,tr){return Be===null||Be.tag!==7?(Be=qd(Te,Pe.mode,xt,tr),Be.return=Pe,Be):(Be=L(Be,Te),Be.return=Pe,Be)}function ht(Pe,Be,Te){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Be=Av(""+Be,Pe.mode,Te),Be.return=Pe,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case T:return Te=hp(Be.type,Be.key,Be.props,null,Pe.mode,Te),Te.ref=wr(Pe,null,Be),Te.return=Pe,Te;case D:return Be=dv(Be,Pe.mode,Te),Be.return=Pe,Be;case K:var xt=Be._init;return ht(Pe,xt(Be._payload),Te)}if(ct(Be)||ne(Be))return Be=qd(Be,Pe.mode,Te,null),Be.return=Pe,Be;qr(Pe,Be)}return null}function At(Pe,Be,Te,xt){var tr=Be!==null?Be.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return tr!==null?null:ge(Pe,Be,""+Te,xt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case T:return Te.key===tr?je(Pe,Be,Te,xt):null;case D:return Te.key===tr?Me(Pe,Be,Te,xt):null;case K:return tr=Te._init,At(Pe,Be,tr(Te._payload),xt)}if(ct(Te)||ne(Te))return tr!==null?null:ut(Pe,Be,Te,xt,null);qr(Pe,Te)}return null}function Rt(Pe,Be,Te,xt,tr){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return Pe=Pe.get(Te)||null,ge(Be,Pe,""+xt,tr);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case T:return Pe=Pe.get(xt.key===null?Te:xt.key)||null,je(Be,Pe,xt,tr);case D:return Pe=Pe.get(xt.key===null?Te:xt.key)||null,Me(Be,Pe,xt,tr);case K:var Ar=xt._init;return Rt(Pe,Be,Te,Ar(xt._payload),tr)}if(ct(xt)||ne(xt))return Pe=Pe.get(Te)||null,ut(Be,Pe,xt,tr,null);qr(Be,xt)}return null}function Gt(Pe,Be,Te,xt){for(var tr=null,Ar=null,dr=Be,Sr=Be=0,Es=null;dr!==null&&Sr<Te.length;Sr++){dr.index>Sr?(Es=dr,dr=null):Es=dr.sibling;var xa=At(Pe,dr,Te[Sr],xt);if(xa===null){dr===null&&(dr=Es);break}c&&dr&&xa.alternate===null&&u(Pe,dr),Be=H(xa,Be,Sr),Ar===null?tr=xa:Ar.sibling=xa,Ar=xa,dr=Es}if(Sr===Te.length)return g(Pe,dr),tt&&Ne(Pe,Sr),tr;if(dr===null){for(;Sr<Te.length;Sr++)dr=ht(Pe,Te[Sr],xt),dr!==null&&(Be=H(dr,Be,Sr),Ar===null?tr=dr:Ar.sibling=dr,Ar=dr);return tt&&Ne(Pe,Sr),tr}for(dr=B(Pe,dr);Sr<Te.length;Sr++)Es=Rt(dr,Pe,Sr,Te[Sr],xt),Es!==null&&(c&&Es.alternate!==null&&dr.delete(Es.key===null?Sr:Es.key),Be=H(Es,Be,Sr),Ar===null?tr=Es:Ar.sibling=Es,Ar=Es);return c&&dr.forEach(function(RA){return u(Pe,RA)}),tt&&Ne(Pe,Sr),tr}function Xt(Pe,Be,Te,xt){var tr=ne(Te);if(typeof tr!="function")throw Error(t(150));if(Te=tr.call(Te),Te==null)throw Error(t(151));for(var Ar=tr=null,dr=Be,Sr=Be=0,Es=null,xa=Te.next();dr!==null&&!xa.done;Sr++,xa=Te.next()){dr.index>Sr?(Es=dr,dr=null):Es=dr.sibling;var RA=At(Pe,dr,xa.value,xt);if(RA===null){dr===null&&(dr=Es);break}c&&dr&&RA.alternate===null&&u(Pe,dr),Be=H(RA,Be,Sr),Ar===null?tr=RA:Ar.sibling=RA,Ar=RA,dr=Es}if(xa.done)return g(Pe,dr),tt&&Ne(Pe,Sr),tr;if(dr===null){for(;!xa.done;Sr++,xa=Te.next())xa=ht(Pe,xa.value,xt),xa!==null&&(Be=H(xa,Be,Sr),Ar===null?tr=xa:Ar.sibling=xa,Ar=xa);return tt&&Ne(Pe,Sr),tr}for(dr=B(Pe,dr);!xa.done;Sr++,xa=Te.next())xa=Rt(dr,Pe,Sr,xa.value,xt),xa!==null&&(c&&xa.alternate!==null&&dr.delete(xa.key===null?Sr:xa.key),Be=H(xa,Be,Sr),Ar===null?tr=xa:Ar.sibling=xa,Ar=xa);return c&&dr.forEach(function(bD){return u(Pe,bD)}),tt&&Ne(Pe,Sr),tr}function On(Pe,Be,Te,xt){if(typeof Te=="object"&&Te!==null&&Te.type===k&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case T:e:{for(var tr=Te.key,Ar=Be;Ar!==null;){if(Ar.key===tr){if(tr=Te.type,tr===k){if(Ar.tag===7){g(Pe,Ar.sibling),Be=L(Ar,Te.props.children),Be.return=Pe,Pe=Be;break e}}else if(Ar.elementType===tr||typeof tr=="object"&&tr!==null&&tr.$$typeof===K&&Oa(tr)===Ar.type){g(Pe,Ar.sibling),Be=L(Ar,Te.props),Be.ref=wr(Pe,Ar,Te),Be.return=Pe,Pe=Be;break e}g(Pe,Ar);break}else u(Pe,Ar);Ar=Ar.sibling}Te.type===k?(Be=qd(Te.props.children,Pe.mode,xt,Te.key),Be.return=Pe,Pe=Be):(xt=hp(Te.type,Te.key,Te.props,null,Pe.mode,xt),xt.ref=wr(Pe,Be,Te),xt.return=Pe,Pe=xt)}return se(Pe);case D:e:{for(Ar=Te.key;Be!==null;){if(Be.key===Ar)if(Be.tag===4&&Be.stateNode.containerInfo===Te.containerInfo&&Be.stateNode.implementation===Te.implementation){g(Pe,Be.sibling),Be=L(Be,Te.children||[]),Be.return=Pe,Pe=Be;break e}else{g(Pe,Be);break}else u(Pe,Be);Be=Be.sibling}Be=dv(Te,Pe.mode,xt),Be.return=Pe,Pe=Be}return se(Pe);case K:return Ar=Te._init,On(Pe,Be,Ar(Te._payload),xt)}if(ct(Te))return Gt(Pe,Be,Te,xt);if(ne(Te))return Xt(Pe,Be,Te,xt);qr(Pe,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,Be!==null&&Be.tag===6?(g(Pe,Be.sibling),Be=L(Be,Te),Be.return=Pe,Pe=Be):(g(Pe,Be),Be=Av(Te,Pe.mode,xt),Be.return=Pe,Pe=Be),se(Pe)):g(Pe,Be)}return On}var Fn=rs(!0),an=rs(!1),Tn=to(null),as=null,Wa=null,ta=null;function ha(){ta=Wa=as=null}function Ga(c){var u=Tn.current;va(Tn),c._currentValue=u}function ma(c,u,g){for(;c!==null;){var B=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,B!==null&&(B.childLanes|=u)):B!==null&&(B.childLanes&u)!==u&&(B.childLanes|=u),c===g)break;c=c.return}}function un(c,u){as=c,ta=Wa=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&(Ri=!0),c.firstContext=null)}function fn(c){var u=c._currentValue;if(ta!==c)if(c={context:c,memoizedValue:u,next:null},Wa===null){if(as===null)throw Error(t(308));Wa=c,as.dependencies={lanes:0,firstContext:c}}else Wa=Wa.next=c;return u}var Fa=null;function Ns(c){Fa===null?Fa=[c]:Fa.push(c)}function Na(c,u,g,B){var L=u.interleaved;return L===null?(g.next=g,Ns(u)):(g.next=L.next,L.next=g),u.interleaved=g,ka(c,B)}function ka(c,u){c.lanes|=u;var g=c.alternate;for(g!==null&&(g.lanes|=u),g=c,c=c.return;c!==null;)c.childLanes|=u,g=c.alternate,g!==null&&(g.childLanes|=u),g=c,c=c.return;return g.tag===3?g.stateNode:null}var kn=!1;function fs(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Js(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function jn(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function Nn(c,u,g){var B=c.updateQueue;if(B===null)return null;if(B=B.shared,(pa&2)!==0){var L=B.pending;return L===null?u.next=u:(u.next=L.next,L.next=u),B.pending=u,ka(c,g)}return L=B.interleaved,L===null?(u.next=u,Ns(B)):(u.next=L.next,L.next=u),B.interleaved=u,ka(c,g)}function Bs(c,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194240)!==0)){var B=u.lanes;B&=c.pendingLanes,g|=B,u.lanes=g,Nl(c,g)}}function Da(c,u){var g=c.updateQueue,B=c.alternate;if(B!==null&&(B=B.updateQueue,g===B)){var L=null,H=null;if(g=g.firstBaseUpdate,g!==null){do{var se={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};H===null?L=H=se:H=H.next=se,g=g.next}while(g!==null);H===null?L=H=u:H=H.next=u}else L=H=u;g={baseState:B.baseState,firstBaseUpdate:L,lastBaseUpdate:H,shared:B.shared,effects:B.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=u:c.next=u,g.lastBaseUpdate=u}function Cs(c,u,g,B){var L=c.updateQueue;kn=!1;var H=L.firstBaseUpdate,se=L.lastBaseUpdate,ge=L.shared.pending;if(ge!==null){L.shared.pending=null;var je=ge,Me=je.next;je.next=null,se===null?H=Me:se.next=Me,se=je;var ut=c.alternate;ut!==null&&(ut=ut.updateQueue,ge=ut.lastBaseUpdate,ge!==se&&(ge===null?ut.firstBaseUpdate=Me:ge.next=Me,ut.lastBaseUpdate=je))}if(H!==null){var ht=L.baseState;se=0,ut=Me=je=null,ge=H;do{var At=ge.lane,Rt=ge.eventTime;if((B&At)===At){ut!==null&&(ut=ut.next={eventTime:Rt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Gt=c,Xt=ge;switch(At=u,Rt=g,Xt.tag){case 1:if(Gt=Xt.payload,typeof Gt=="function"){ht=Gt.call(Rt,ht,At);break e}ht=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Xt.payload,At=typeof Gt=="function"?Gt.call(Rt,ht,At):Gt,At==null)break e;ht=ue({},ht,At);break e;case 2:kn=!0}}ge.callback!==null&&ge.lane!==0&&(c.flags|=64,At=L.effects,At===null?L.effects=[ge]:At.push(ge))}else Rt={eventTime:Rt,lane:At,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ut===null?(Me=ut=Rt,je=ht):ut=ut.next=Rt,se|=At;if(ge=ge.next,ge===null){if(ge=L.shared.pending,ge===null)break;At=ge,ge=At.next,At.next=null,L.lastBaseUpdate=At,L.shared.pending=null}}while(!0);if(ut===null&&(je=ht),L.baseState=je,L.firstBaseUpdate=Me,L.lastBaseUpdate=ut,u=L.shared.interleaved,u!==null){L=u;do se|=L.lane,L=L.next;while(L!==u)}else H===null&&(L.shared.lanes=0);$d|=se,c.lanes=se,c.memoizedState=ht}}function Qi(c,u,g){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var B=c[u],L=B.callback;if(L!==null){if(B.callback=null,B=g,typeof L!="function")throw Error(t(191,L));L.call(B)}}}var ro={},ns=to(ro),Bn=to(ro),Pl=to(ro);function Jo(c){if(c===ro)throw Error(t(174));return c}function EA(c,u){switch(ja(Pl,u),ja(Bn,c),ja(ns,ro),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Nr(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Nr(u,c)}va(ns),ja(ns,u)}function Bo(){va(ns),va(Bn),va(Pl)}function Gm(c){Jo(Pl.current);var u=Jo(ns.current),g=Nr(u,c.type);u!==g&&(ja(Bn,c),ja(ns,g))}function mh(c){Bn.current===c&&(va(ns),va(Bn))}var $a=to(0);function ao(c){for(var u=c;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ph=[];function gh(){for(var c=0;c<ph.length;c++)ph[c]._workInProgressVersionPrimary=null;ph.length=0}var Ou=F.ReactCurrentDispatcher,Hu=F.ReactCurrentBatchConfig,Co=0,Ya=null,Dn=null,Cn=null,_A=!1,Zo=!1,FA=0,Px=0;function Mn(){throw Error(t(321))}function $u(c,u){if(u===null)return!1;for(var g=0;g<u.length&&g<c.length;g++)if(!cn(c[g],u[g]))return!1;return!0}function Md(c,u,g,B,L,H){if(Co=H,Ya=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ou.current=c===null||c.memoizedState===null?Wk:Gk,c=g(B,L),Zo){H=0;do{if(Zo=!1,FA=0,25<=H)throw Error(t(301));H+=1,Cn=Dn=null,u.updateQueue=null,Ou.current=Yk,c=g(B,L)}while(Zo)}if(Ou.current=ep,u=Dn!==null&&Dn.next!==null,Co=0,Cn=Dn=Ya=null,_A=!1,u)throw Error(t(300));return c}function So(){var c=FA!==0;return FA=0,c}function no(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Ya.memoizedState=Cn=c:Cn=Cn.next=c,Cn}function pi(){if(Dn===null){var c=Ya.alternate;c=c!==null?c.memoizedState:null}else c=Dn.next;var u=Cn===null?Ya.memoizedState:Cn.next;if(u!==null)Cn=u,Dn=c;else{if(c===null)throw Error(t(310));Dn=c,c={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Cn===null?Ya.memoizedState=Cn=c:Cn=Cn.next=c}return Cn}function Od(c,u){return typeof u=="function"?u(c):u}function Ku(c){var u=pi(),g=u.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=c;var B=Dn,L=B.baseQueue,H=g.pending;if(H!==null){if(L!==null){var se=L.next;L.next=H.next,H.next=se}B.baseQueue=L=H,g.pending=null}if(L!==null){H=L.next,B=B.baseState;var ge=se=null,je=null,Me=H;do{var ut=Me.lane;if((Co&ut)===ut)je!==null&&(je=je.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),B=Me.hasEagerState?Me.eagerState:c(B,Me.action);else{var ht={lane:ut,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};je===null?(ge=je=ht,se=B):je=je.next=ht,Ya.lanes|=ut,$d|=ut}Me=Me.next}while(Me!==null&&Me!==H);je===null?se=B:je.next=ge,cn(B,u.memoizedState)||(Ri=!0),u.memoizedState=B,u.baseState=se,u.baseQueue=je,g.lastRenderedState=B}if(c=g.interleaved,c!==null){L=c;do H=L.lane,Ya.lanes|=H,$d|=H,L=L.next;while(L!==c)}else L===null&&(g.lanes=0);return[u.memoizedState,g.dispatch]}function Ql(c){var u=pi(),g=u.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=c;var B=g.dispatch,L=g.pending,H=u.memoizedState;if(L!==null){g.pending=null;var se=L=L.next;do H=c(H,se.action),se=se.next;while(se!==L);cn(H,u.memoizedState)||(Ri=!0),u.memoizedState=H,u.baseQueue===null&&(u.baseState=H),g.lastRenderedState=H}return[H,B]}function Ym(){}function xh(c,u){var g=Ya,B=pi(),L=u(),H=!cn(B.memoizedState,L);if(H&&(B.memoizedState=L,Ri=!0),B=B.queue,qu(Jm.bind(null,g,B,c),[c]),B.getSnapshot!==u||H||Cn!==null&&Cn.memoizedState.tag&1){if(g.flags|=2048,gi(9,vh.bind(null,g,B,L,u),void 0,null),Ss===null)throw Error(t(349));(Co&30)!==0||Xm(g,u,L)}return L}function Xm(c,u,g){c.flags|=16384,c={getSnapshot:u,value:g},u=Ya.updateQueue,u===null?(u={lastEffect:null,stores:null},Ya.updateQueue=u,u.stores=[c]):(g=u.stores,g===null?u.stores=[c]:g.push(c))}function vh(c,u,g,B){u.value=g,u.getSnapshot=B,kA(u)&&Vu(c)}function Jm(c,u,g){return g(function(){kA(u)&&Vu(c)})}function kA(c){var u=c.getSnapshot;c=c.value;try{var g=u();return!cn(c,g)}catch{return!0}}function Vu(c){var u=ka(c,1);u!==null&&nl(u,c,1,-1)}function Hd(c){var u=no();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:c},u.queue=c,c=c.dispatch=qk.bind(null,Ya,c),[u.memoizedState,c]}function gi(c,u,g,B){return c={tag:c,create:u,destroy:g,deps:B,next:null},u=Ya.updateQueue,u===null?(u={lastEffect:null,stores:null},Ya.updateQueue=u,u.lastEffect=c.next=c):(g=u.lastEffect,g===null?u.lastEffect=c.next=c:(B=g.next,g.next=c,c.next=B,u.lastEffect=c)),c}function el(){return pi().memoizedState}function so(c,u,g,B){var L=no();Ya.flags|=c,L.memoizedState=gi(1|u,g,void 0,B===void 0?null:B)}function Tc(c,u,g,B){var L=pi();B=B===void 0?null:B;var H=void 0;if(Dn!==null){var se=Dn.memoizedState;if(H=se.destroy,B!==null&&$u(B,se.deps)){L.memoizedState=gi(u,g,H,B);return}}Ya.flags|=c,L.memoizedState=gi(1|u,g,H,B)}function zu(c,u){return so(8390656,8,c,u)}function qu(c,u){return Tc(2048,8,c,u)}function Zm(c,u){return Tc(4,2,c,u)}function Wu(c,u){return Tc(4,4,c,u)}function Gu(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function _b(c,u,g){return g=g!=null?g.concat([c]):null,Tc(4,4,Gu.bind(null,u,c),g)}function Qx(){}function Fb(c,u){var g=pi();u=u===void 0?null:u;var B=g.memoizedState;return B!==null&&u!==null&&$u(u,B[1])?B[0]:(g.memoizedState=[c,u],c)}function kb(c,u){var g=pi();u=u===void 0?null:u;var B=g.memoizedState;return B!==null&&u!==null&&$u(u,B[1])?B[0]:(c=c(),g.memoizedState=[c,u],c)}function Db(c,u,g){return(Co&21)===0?(c.baseState&&(c.baseState=!1,Ri=!0),c.memoizedState=g):(cn(g,u)||(g=Xr(),Ya.lanes|=g,$d|=g,c.baseState=!0),u)}function Vk(c,u){var g=Cr;Cr=g!==0&&4>g?g:4,c(!0);var B=Hu.transition;Hu.transition={};try{c(!1),u()}finally{Cr=g,Hu.transition=B}}function Ub(){return pi().memoizedState}function zk(c,u,g){var B=IA(c);if(g={lane:B,action:g,hasEagerState:!1,eagerState:null,next:null},Lb(c))Ib(u,g);else if(g=Na(c,u,g,B),g!==null){var L=vi();nl(g,c,B,L),Pb(g,u,B)}}function qk(c,u,g){var B=IA(c),L={lane:B,action:g,hasEagerState:!1,eagerState:null,next:null};if(Lb(c))Ib(u,L);else{var H=c.alternate;if(c.lanes===0&&(H===null||H.lanes===0)&&(H=u.lastRenderedReducer,H!==null))try{var se=u.lastRenderedState,ge=H(se,g);if(L.hasEagerState=!0,L.eagerState=ge,cn(ge,se)){var je=u.interleaved;je===null?(L.next=L,Ns(u)):(L.next=je.next,je.next=L),u.interleaved=L;return}}catch{}finally{}g=Na(c,u,L,B),g!==null&&(L=vi(),nl(g,c,B,L),Pb(g,u,B))}}function Lb(c){var u=c.alternate;return c===Ya||u!==null&&u===Ya}function Ib(c,u){Zo=_A=!0;var g=c.pending;g===null?u.next=u:(u.next=g.next,g.next=u),c.pending=u}function Pb(c,u,g){if((g&4194240)!==0){var B=u.lanes;B&=c.pendingLanes,g|=B,u.lanes=g,Nl(c,g)}}var ep={readContext:fn,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},Wk={readContext:fn,useCallback:function(c,u){return no().memoizedState=[c,u===void 0?null:u],c},useContext:fn,useEffect:zu,useImperativeHandle:function(c,u,g){return g=g!=null?g.concat([c]):null,so(4194308,4,Gu.bind(null,u,c),g)},useLayoutEffect:function(c,u){return so(4194308,4,c,u)},useInsertionEffect:function(c,u){return so(4,2,c,u)},useMemo:function(c,u){var g=no();return u=u===void 0?null:u,c=c(),g.memoizedState=[c,u],c},useReducer:function(c,u,g){var B=no();return u=g!==void 0?g(u):u,B.memoizedState=B.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},B.queue=c,c=c.dispatch=zk.bind(null,Ya,c),[B.memoizedState,c]},useRef:function(c){var u=no();return c={current:c},u.memoizedState=c},useState:Hd,useDebugValue:Qx,useDeferredValue:function(c){return no().memoizedState=c},useTransition:function(){var c=Hd(!1),u=c[0];return c=Vk.bind(null,c[1]),no().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,g){var B=Ya,L=no();if(tt){if(g===void 0)throw Error(t(407));g=g()}else{if(g=u(),Ss===null)throw Error(t(349));(Co&30)!==0||Xm(B,u,g)}L.memoizedState=g;var H={value:g,getSnapshot:u};return L.queue=H,zu(Jm.bind(null,B,H,c),[c]),B.flags|=2048,gi(9,vh.bind(null,B,H,g,u),void 0,null),g},useId:function(){var c=no(),u=Ss.identifierPrefix;if(tt){var g=me,B=Ie;g=(B&~(1<<32-on(B)-1)).toString(32)+g,u=":"+u+"R"+g,g=FA++,0<g&&(u+="H"+g.toString(32)),u+=":"}else g=Px++,u=":"+u+"r"+g.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},Gk={readContext:fn,useCallback:Fb,useContext:fn,useEffect:qu,useImperativeHandle:_b,useInsertionEffect:Zm,useLayoutEffect:Wu,useMemo:kb,useReducer:Ku,useRef:el,useState:function(){return Ku(Od)},useDebugValue:Qx,useDeferredValue:function(c){var u=pi();return Db(u,Dn.memoizedState,c)},useTransition:function(){var c=Ku(Od)[0],u=pi().memoizedState;return[c,u]},useMutableSource:Ym,useSyncExternalStore:xh,useId:Ub,unstable_isNewReconciler:!1},Yk={readContext:fn,useCallback:Fb,useContext:fn,useEffect:qu,useImperativeHandle:_b,useInsertionEffect:Zm,useLayoutEffect:Wu,useMemo:kb,useReducer:Ql,useRef:el,useState:function(){return Ql(Od)},useDebugValue:Qx,useDeferredValue:function(c){var u=pi();return Dn===null?u.memoizedState=c:Db(u,Dn.memoizedState,c)},useTransition:function(){var c=Ql(Od)[0],u=pi().memoizedState;return[c,u]},useMutableSource:Ym,useSyncExternalStore:xh,useId:Ub,unstable_isNewReconciler:!1};function tl(c,u){if(c&&c.defaultProps){u=ue({},u),c=c.defaultProps;for(var g in c)u[g]===void 0&&(u[g]=c[g]);return u}return u}function Rx(c,u,g,B){u=c.memoizedState,g=g(B,u),g=g==null?u:ue({},u,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var tp={isMounted:function(c){return(c=c._reactInternals)?_t(c)===c:!1},enqueueSetState:function(c,u,g){c=c._reactInternals;var B=vi(),L=IA(c),H=jn(B,L);H.payload=u,g!=null&&(H.callback=g),u=Nn(c,H,L),u!==null&&(nl(u,c,L,B),Bs(u,c,L))},enqueueReplaceState:function(c,u,g){c=c._reactInternals;var B=vi(),L=IA(c),H=jn(B,L);H.tag=1,H.payload=u,g!=null&&(H.callback=g),u=Nn(c,H,L),u!==null&&(nl(u,c,L,B),Bs(u,c,L))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var g=vi(),B=IA(c),L=jn(g,B);L.tag=2,u!=null&&(L.callback=u),u=Nn(c,L,B),u!==null&&(nl(u,c,B,g),Bs(u,c,B))}};function Qb(c,u,g,B,L,H,se){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(B,H,se):u.prototype&&u.prototype.isPureReactComponent?!qs(g,B)||!qs(L,H):!0}function Rb(c,u,g){var B=!1,L=Il,H=u.contextType;return typeof H=="object"&&H!==null?H=fn(H):(L=Xs(u)?Qc:us.current,B=u.contextTypes,H=(B=B!=null)?SA(c,L):Il),u=new u(g,H),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=tp,c.stateNode=u,u._reactInternals=c,B&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=L,c.__reactInternalMemoizedMaskedChildContext=H),u}function Tb(c,u,g,B){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,B),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,B),u.state!==c&&tp.enqueueReplaceState(u,u.state,null)}function Tx(c,u,g,B){var L=c.stateNode;L.props=g,L.state=c.memoizedState,L.refs={},fs(c);var H=u.contextType;typeof H=="object"&&H!==null?L.context=fn(H):(H=Xs(u)?Qc:us.current,L.context=SA(c,H)),L.state=c.memoizedState,H=u.getDerivedStateFromProps,typeof H=="function"&&(Rx(c,u,H,g),L.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(u=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),u!==L.state&&tp.enqueueReplaceState(L,L.state,null),Cs(c,g,L,B),L.state=c.memoizedState),typeof L.componentDidMount=="function"&&(c.flags|=4194308)}function Yu(c,u){try{var g="",B=u;do g+=J(B),B=B.return;while(B);var L=g}catch(H){L=`
Error generating stack: `+H.message+`
`+H.stack}return{value:c,source:u,stack:L,digest:null}}function Mx(c,u,g){return{value:c,source:null,stack:g??null,digest:u??null}}function Ox(c,u){try{console.error(u.value)}catch(g){setTimeout(function(){throw g})}}var Xk=typeof WeakMap=="function"?WeakMap:Map;function Mb(c,u,g){g=jn(-1,g),g.tag=3,g.payload={element:null};var B=u.value;return g.callback=function(){lp||(lp=!0,rv=B),Ox(c,u)},g}function Ob(c,u,g){g=jn(-1,g),g.tag=3;var B=c.type.getDerivedStateFromError;if(typeof B=="function"){var L=u.value;g.payload=function(){return B(L)},g.callback=function(){Ox(c,u)}}var H=c.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(g.callback=function(){Ox(c,u),typeof B!="function"&&(UA===null?UA=new Set([this]):UA.add(this));var se=u.stack;this.componentDidCatch(u.value,{componentStack:se!==null?se:""})}),g}function Hb(c,u,g){var B=c.pingCache;if(B===null){B=c.pingCache=new Xk;var L=new Set;B.set(u,L)}else L=B.get(u),L===void 0&&(L=new Set,B.set(u,L));L.has(g)||(L.add(g),c=dD.bind(null,c,u,g),u.then(c,c))}function $b(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function Kb(c,u,g,B,L){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(u=jn(-1,1),u.tag=2,Nn(g,u,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=L,c)}var Jk=F.ReactCurrentOwner,Ri=!1;function xi(c,u,g,B){u.child=c===null?an(u,null,g,B):Fn(u,c.child,g,B)}function Vb(c,u,g,B,L){g=g.render;var H=u.ref;return un(u,L),B=Md(c,u,g,B,H,L),g=So(),c!==null&&!Ri?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~L,Mc(c,u,L)):(tt&&g&&Ye(u),u.flags|=1,xi(c,u,B,L),u.child)}function zb(c,u,g,B,L){if(c===null){var H=g.type;return typeof H=="function"&&!cv(H)&&H.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(u.tag=15,u.type=H,qb(c,u,H,B,L)):(c=hp(g.type,null,B,u,u.mode,L),c.ref=u.ref,c.return=u,u.child=c)}if(H=c.child,(c.lanes&L)===0){var se=H.memoizedProps;if(g=g.compare,g=g!==null?g:qs,g(se,B)&&c.ref===u.ref)return Mc(c,u,L)}return u.flags|=1,c=QA(H,B),c.ref=u.ref,c.return=u,u.child=c}function qb(c,u,g,B,L){if(c!==null){var H=c.memoizedProps;if(qs(H,B)&&c.ref===u.ref)if(Ri=!1,u.pendingProps=B=H,(c.lanes&L)!==0)(c.flags&131072)!==0&&(Ri=!0);else return u.lanes=c.lanes,Mc(c,u,L)}return Hx(c,u,g,B,L)}function Wb(c,u,g){var B=u.pendingProps,L=B.children,H=c!==null?c.memoizedState:null;if(B.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},ja(Ju,io),io|=g;else{if((g&1073741824)===0)return c=H!==null?H.baseLanes|g:g,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,ja(Ju,io),io|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},B=H!==null?H.baseLanes:g,ja(Ju,io),io|=B}else H!==null?(B=H.baseLanes|g,u.memoizedState=null):B=g,ja(Ju,io),io|=B;return xi(c,u,L,g),u.child}function Gb(c,u){var g=u.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(u.flags|=512,u.flags|=2097152)}function Hx(c,u,g,B,L){var H=Xs(g)?Qc:us.current;return H=SA(u,H),un(u,L),g=Md(c,u,g,B,H,L),B=So(),c!==null&&!Ri?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~L,Mc(c,u,L)):(tt&&B&&Ye(u),u.flags|=1,xi(c,u,g,L),u.child)}function Yb(c,u,g,B,L){if(Xs(g)){var H=!0;Rc(u)}else H=!1;if(un(u,L),u.stateNode===null)ap(c,u),Rb(u,g,B),Tx(u,g,B,L),B=!0;else if(c===null){var se=u.stateNode,ge=u.memoizedProps;se.props=ge;var je=se.context,Me=g.contextType;typeof Me=="object"&&Me!==null?Me=fn(Me):(Me=Xs(g)?Qc:us.current,Me=SA(u,Me));var ut=g.getDerivedStateFromProps,ht=typeof ut=="function"||typeof se.getSnapshotBeforeUpdate=="function";ht||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(ge!==B||je!==Me)&&Tb(u,se,B,Me),kn=!1;var At=u.memoizedState;se.state=At,Cs(u,B,se,L),je=u.memoizedState,ge!==B||At!==je||Ys.current||kn?(typeof ut=="function"&&(Rx(u,g,ut,B),je=u.memoizedState),(ge=kn||Qb(u,g,ge,B,At,je,Me))?(ht||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(u.flags|=4194308)):(typeof se.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=B,u.memoizedState=je),se.props=B,se.state=je,se.context=Me,B=ge):(typeof se.componentDidMount=="function"&&(u.flags|=4194308),B=!1)}else{se=u.stateNode,Js(c,u),ge=u.memoizedProps,Me=u.type===u.elementType?ge:tl(u.type,ge),se.props=Me,ht=u.pendingProps,At=se.context,je=g.contextType,typeof je=="object"&&je!==null?je=fn(je):(je=Xs(g)?Qc:us.current,je=SA(u,je));var Rt=g.getDerivedStateFromProps;(ut=typeof Rt=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(ge!==ht||At!==je)&&Tb(u,se,B,je),kn=!1,At=u.memoizedState,se.state=At,Cs(u,B,se,L);var Gt=u.memoizedState;ge!==ht||At!==Gt||Ys.current||kn?(typeof Rt=="function"&&(Rx(u,g,Rt,B),Gt=u.memoizedState),(Me=kn||Qb(u,g,Me,B,At,Gt,je)||!1)?(ut||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(B,Gt,je),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(B,Gt,je)),typeof se.componentDidUpdate=="function"&&(u.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof se.componentDidUpdate!="function"||ge===c.memoizedProps&&At===c.memoizedState||(u.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||ge===c.memoizedProps&&At===c.memoizedState||(u.flags|=1024),u.memoizedProps=B,u.memoizedState=Gt),se.props=B,se.state=Gt,se.context=je,B=Me):(typeof se.componentDidUpdate!="function"||ge===c.memoizedProps&&At===c.memoizedState||(u.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||ge===c.memoizedProps&&At===c.memoizedState||(u.flags|=1024),B=!1)}return $x(c,u,g,B,H,L)}function $x(c,u,g,B,L,H){Gb(c,u);var se=(u.flags&128)!==0;if(!B&&!se)return L&&Wm(u,g,!1),Mc(c,u,H);B=u.stateNode,Jk.current=u;var ge=se&&typeof g.getDerivedStateFromError!="function"?null:B.render();return u.flags|=1,c!==null&&se?(u.child=Fn(u,c.child,null,H),u.child=Fn(u,null,ge,H)):xi(c,u,ge,H),u.memoizedState=B.state,L&&Wm(u,g,!0),u.child}function Xb(c){var u=c.stateNode;u.pendingContext?qm(c,u.pendingContext,u.pendingContext!==u.context):u.context&&qm(c,u.context,!1),EA(c,u.containerInfo)}function Jb(c,u,g,B,L){return $t(),St(L),u.flags|=256,xi(c,u,g,B),u.child}var Kx={dehydrated:null,treeContext:null,retryLane:0};function Vx(c){return{baseLanes:c,cachePool:null,transitions:null}}function Zb(c,u,g){var B=u.pendingProps,L=$a.current,H=!1,se=(u.flags&128)!==0,ge;if((ge=se)||(ge=c!==null&&c.memoizedState===null?!1:(L&2)!==0),ge?(H=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(L|=1),ja($a,L&1),c===null)return Wt(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(se=B.children,c=B.fallback,H?(B=u.mode,H=u.child,se={mode:"hidden",children:se},(B&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=se):H=mp(se,B,0,null),c=qd(c,B,g,null),H.return=u,c.return=u,H.sibling=c,u.child=H,u.child.memoizedState=Vx(g),u.memoizedState=Kx,c):zx(u,se));if(L=c.memoizedState,L!==null&&(ge=L.dehydrated,ge!==null))return Zk(c,u,se,B,ge,L,g);if(H){H=B.fallback,se=u.mode,L=c.child,ge=L.sibling;var je={mode:"hidden",children:B.children};return(se&1)===0&&u.child!==L?(B=u.child,B.childLanes=0,B.pendingProps=je,u.deletions=null):(B=QA(L,je),B.subtreeFlags=L.subtreeFlags&14680064),ge!==null?H=QA(ge,H):(H=qd(H,se,g,null),H.flags|=2),H.return=u,B.return=u,B.sibling=H,u.child=B,B=H,H=u.child,se=c.child.memoizedState,se=se===null?Vx(g):{baseLanes:se.baseLanes|g,cachePool:null,transitions:se.transitions},H.memoizedState=se,H.childLanes=c.childLanes&~g,u.memoizedState=Kx,B}return H=c.child,c=H.sibling,B=QA(H,{mode:"visible",children:B.children}),(u.mode&1)===0&&(B.lanes=g),B.return=u,B.sibling=null,c!==null&&(g=u.deletions,g===null?(u.deletions=[c],u.flags|=16):g.push(c)),u.child=B,u.memoizedState=null,B}function zx(c,u){return u=mp({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function rp(c,u,g,B){return B!==null&&St(B),Fn(u,c.child,null,g),c=zx(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function Zk(c,u,g,B,L,H,se){if(g)return u.flags&256?(u.flags&=-257,B=Mx(Error(t(422))),rp(c,u,se,B)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(H=B.fallback,L=u.mode,B=mp({mode:"visible",children:B.children},L,0,null),H=qd(H,L,se,null),H.flags|=2,B.return=u,H.return=u,B.sibling=H,u.child=B,(u.mode&1)!==0&&Fn(u,c.child,null,se),u.child.memoizedState=Vx(se),u.memoizedState=Kx,H);if((u.mode&1)===0)return rp(c,u,se,null);if(L.data==="$!"){if(B=L.nextSibling&&L.nextSibling.dataset,B)var ge=B.dgst;return B=ge,H=Error(t(419)),B=Mx(H,B,void 0),rp(c,u,se,B)}if(ge=(se&c.childLanes)!==0,Ri||ge){if(B=Ss,B!==null){switch(se&-se){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(B.suspendedLanes|se))!==0?0:L,L!==0&&L!==H.retryLane&&(H.retryLane=L,ka(c,L),nl(B,c,L,-1))}return lv(),B=Mx(Error(t(421))),rp(c,u,se,B)}return L.data==="$?"?(u.flags|=128,u.child=c.child,u=uD.bind(null,c),L._reactRetry=u,null):(c=H.treeContext,ze=Ps(L.nextSibling),$e=u,tt=!0,rt=null,c!==null&&(de[he++]=Ie,de[he++]=me,de[he++]=be,Ie=c.id,me=c.overflow,be=u),u=zx(u,B.children),u.flags|=4096,u)}function e2(c,u,g){c.lanes|=u;var B=c.alternate;B!==null&&(B.lanes|=u),ma(c.return,u,g)}function qx(c,u,g,B,L){var H=c.memoizedState;H===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:B,tail:g,tailMode:L}:(H.isBackwards=u,H.rendering=null,H.renderingStartTime=0,H.last=B,H.tail=g,H.tailMode=L)}function t2(c,u,g){var B=u.pendingProps,L=B.revealOrder,H=B.tail;if(xi(c,u,B.children,g),B=$a.current,(B&2)!==0)B=B&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&e2(c,g,u);else if(c.tag===19)e2(c,g,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}B&=1}if(ja($a,B),(u.mode&1)===0)u.memoizedState=null;else switch(L){case"forwards":for(g=u.child,L=null;g!==null;)c=g.alternate,c!==null&&ao(c)===null&&(L=g),g=g.sibling;g=L,g===null?(L=u.child,u.child=null):(L=g.sibling,g.sibling=null),qx(u,!1,L,g,H);break;case"backwards":for(g=null,L=u.child,u.child=null;L!==null;){if(c=L.alternate,c!==null&&ao(c)===null){u.child=L;break}c=L.sibling,L.sibling=g,g=L,L=c}qx(u,!0,g,null,H);break;case"together":qx(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function ap(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function Mc(c,u,g){if(c!==null&&(u.dependencies=c.dependencies),$d|=u.lanes,(g&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(t(153));if(u.child!==null){for(c=u.child,g=QA(c,c.pendingProps),u.child=g,g.return=u;c.sibling!==null;)c=c.sibling,g=g.sibling=QA(c,c.pendingProps),g.return=u;g.sibling=null}return u.child}function eD(c,u,g){switch(u.tag){case 3:Xb(u),$t();break;case 5:Gm(u);break;case 1:Xs(u.type)&&Rc(u);break;case 4:EA(u,u.stateNode.containerInfo);break;case 10:var B=u.type._context,L=u.memoizedProps.value;ja(Tn,B._currentValue),B._currentValue=L;break;case 13:if(B=u.memoizedState,B!==null)return B.dehydrated!==null?(ja($a,$a.current&1),u.flags|=128,null):(g&u.child.childLanes)!==0?Zb(c,u,g):(ja($a,$a.current&1),c=Mc(c,u,g),c!==null?c.sibling:null);ja($a,$a.current&1);break;case 19:if(B=(g&u.childLanes)!==0,(c.flags&128)!==0){if(B)return t2(c,u,g);u.flags|=128}if(L=u.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),ja($a,$a.current),B)break;return null;case 22:case 23:return u.lanes=0,Wb(c,u,g)}return Mc(c,u,g)}var r2,Wx,a2,n2;r2=function(c,u){for(var g=u.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Wx=function(){},a2=function(c,u,g,B){var L=c.memoizedProps;if(L!==B){c=u.stateNode,Jo(ns.current);var H=null;switch(g){case"input":L=xe(c,L),B=xe(c,B),H=[];break;case"select":L=ue({},L,{value:void 0}),B=ue({},B,{value:void 0}),H=[];break;case"textarea":L=Ot(c,L),B=Ot(c,B),H=[];break;default:typeof L.onClick!="function"&&typeof B.onClick=="function"&&(c.onclick=NA)}nt(g,B);var se;g=null;for(Me in L)if(!B.hasOwnProperty(Me)&&L.hasOwnProperty(Me)&&L[Me]!=null)if(Me==="style"){var ge=L[Me];for(se in ge)ge.hasOwnProperty(se)&&(g||(g={}),g[se]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(s.hasOwnProperty(Me)?H||(H=[]):(H=H||[]).push(Me,null));for(Me in B){var je=B[Me];if(ge=L!=null?L[Me]:void 0,B.hasOwnProperty(Me)&&je!==ge&&(je!=null||ge!=null))if(Me==="style")if(ge){for(se in ge)!ge.hasOwnProperty(se)||je&&je.hasOwnProperty(se)||(g||(g={}),g[se]="");for(se in je)je.hasOwnProperty(se)&&ge[se]!==je[se]&&(g||(g={}),g[se]=je[se])}else g||(H||(H=[]),H.push(Me,g)),g=je;else Me==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,ge=ge?ge.__html:void 0,je!=null&&ge!==je&&(H=H||[]).push(Me,je)):Me==="children"?typeof je!="string"&&typeof je!="number"||(H=H||[]).push(Me,""+je):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(s.hasOwnProperty(Me)?(je!=null&&Me==="onScroll"&&_a("scroll",c),H||ge===je||(H=[])):(H=H||[]).push(Me,je))}g&&(H=H||[]).push("style",g);var Me=H;(u.updateQueue=Me)&&(u.flags|=4)}},n2=function(c,u,g,B){g!==B&&(u.flags|=4)};function wh(c,u){if(!tt)switch(c.tailMode){case"hidden":u=c.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var B=null;g!==null;)g.alternate!==null&&(B=g),g=g.sibling;B===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:B.sibling=null}}function Zs(c){var u=c.alternate!==null&&c.alternate.child===c.child,g=0,B=0;if(u)for(var L=c.child;L!==null;)g|=L.lanes|L.childLanes,B|=L.subtreeFlags&14680064,B|=L.flags&14680064,L.return=c,L=L.sibling;else for(L=c.child;L!==null;)g|=L.lanes|L.childLanes,B|=L.subtreeFlags,B|=L.flags,L.return=c,L=L.sibling;return c.subtreeFlags|=B,c.childLanes=g,u}function tD(c,u,g){var B=u.pendingProps;switch(Qe(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(u),null;case 1:return Xs(u.type)&&Mu(),Zs(u),null;case 3:return B=u.stateNode,Bo(),va(Ys),va(us),gh(),B.pendingContext&&(B.context=B.pendingContext,B.pendingContext=null),(c===null||c.child===null)&&(dn(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,rt!==null&&(sv(rt),rt=null))),Wx(c,u),Zs(u),null;case 5:mh(u);var L=Jo(Pl.current);if(g=u.type,c!==null&&u.stateNode!=null)a2(c,u,g,B,L),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!B){if(u.stateNode===null)throw Error(t(166));return Zs(u),null}if(c=Jo(ns.current),dn(u)){B=u.stateNode,g=u.type;var H=u.memoizedProps;switch(B[No]=u,B[BA]=H,c=(u.mode&1)!==0,g){case"dialog":_a("cancel",B),_a("close",B);break;case"iframe":case"object":case"embed":_a("load",B);break;case"video":case"audio":for(L=0;L<Ul.length;L++)_a(Ul[L],B);break;case"source":_a("error",B);break;case"img":case"image":case"link":_a("error",B),_a("load",B);break;case"details":_a("toggle",B);break;case"input":Ae(B,H),_a("invalid",B);break;case"select":B._wrapperState={wasMultiple:!!H.multiple},_a("invalid",B);break;case"textarea":He(B,H),_a("invalid",B)}nt(g,H),L=null;for(var se in H)if(H.hasOwnProperty(se)){var ge=H[se];se==="children"?typeof ge=="string"?B.textContent!==ge&&(H.suppressHydrationWarning!==!0&&Tu(B.textContent,ge,c),L=["children",ge]):typeof ge=="number"&&B.textContent!==""+ge&&(H.suppressHydrationWarning!==!0&&Tu(B.textContent,ge,c),L=["children",""+ge]):s.hasOwnProperty(se)&&ge!=null&&se==="onScroll"&&_a("scroll",B)}switch(g){case"input":ve(B),mt(B,H,!0);break;case"textarea":ve(B),kt(B);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(B.onclick=NA)}B=L,u.updateQueue=B,B!==null&&(u.flags|=4)}else{se=L.nodeType===9?L:L.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=jt(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=se.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof B.is=="string"?c=se.createElement(g,{is:B.is}):(c=se.createElement(g),g==="select"&&(se=c,B.multiple?se.multiple=!0:B.size&&(se.size=B.size))):c=se.createElementNS(c,g),c[No]=u,c[BA]=B,r2(c,u,!1,!1),u.stateNode=c;e:{switch(se=Re(g,B),g){case"dialog":_a("cancel",c),_a("close",c),L=B;break;case"iframe":case"object":case"embed":_a("load",c),L=B;break;case"video":case"audio":for(L=0;L<Ul.length;L++)_a(Ul[L],c);L=B;break;case"source":_a("error",c),L=B;break;case"img":case"image":case"link":_a("error",c),_a("load",c),L=B;break;case"details":_a("toggle",c),L=B;break;case"input":Ae(c,B),L=xe(c,B),_a("invalid",c);break;case"option":L=B;break;case"select":c._wrapperState={wasMultiple:!!B.multiple},L=ue({},B,{value:void 0}),_a("invalid",c);break;case"textarea":He(c,B),L=Ot(c,B),_a("invalid",c);break;default:L=B}nt(g,L),ge=L;for(H in ge)if(ge.hasOwnProperty(H)){var je=ge[H];H==="style"?Tt(c,je):H==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&Bt(c,je)):H==="children"?typeof je=="string"?(g!=="textarea"||je!=="")&&vt(c,je):typeof je=="number"&&vt(c,""+je):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?je!=null&&H==="onScroll"&&_a("scroll",c):je!=null&&S(c,H,je,se))}switch(g){case"input":ve(c),mt(c,B,!1);break;case"textarea":ve(c),kt(c);break;case"option":B.value!=null&&c.setAttribute("value",""+Z(B.value));break;case"select":c.multiple=!!B.multiple,H=B.value,H!=null?et(c,!!B.multiple,H,!1):B.defaultValue!=null&&et(c,!!B.multiple,B.defaultValue,!0);break;default:typeof L.onClick=="function"&&(c.onclick=NA)}switch(g){case"button":case"input":case"select":case"textarea":B=!!B.autoFocus;break e;case"img":B=!0;break e;default:B=!1}}B&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Zs(u),null;case 6:if(c&&u.stateNode!=null)n2(c,u,c.memoizedProps,B);else{if(typeof B!="string"&&u.stateNode===null)throw Error(t(166));if(g=Jo(Pl.current),Jo(ns.current),dn(u)){if(B=u.stateNode,g=u.memoizedProps,B[No]=u,(H=B.nodeValue!==g)&&(c=$e,c!==null))switch(c.tag){case 3:Tu(B.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Tu(B.nodeValue,g,(c.mode&1)!==0)}H&&(u.flags|=4)}else B=(g.nodeType===9?g:g.ownerDocument).createTextNode(B),B[No]=u,u.stateNode=B}return Zs(u),null;case 13:if(va($a),B=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(tt&&ze!==null&&(u.mode&1)!==0&&(u.flags&128)===0)kr(),$t(),u.flags|=98560,H=!1;else if(H=dn(u),B!==null&&B.dehydrated!==null){if(c===null){if(!H)throw Error(t(318));if(H=u.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(t(317));H[No]=u}else $t(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Zs(u),H=!1}else rt!==null&&(sv(rt),rt=null),H=!0;if(!H)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=g,u):(B=B!==null,B!==(c!==null&&c.memoizedState!==null)&&B&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||($a.current&1)!==0?hs===0&&(hs=3):lv())),u.updateQueue!==null&&(u.flags|=4),Zs(u),null);case 4:return Bo(),Wx(c,u),c===null&&Uc(u.stateNode.containerInfo),Zs(u),null;case 10:return Ga(u.type._context),Zs(u),null;case 17:return Xs(u.type)&&Mu(),Zs(u),null;case 19:if(va($a),H=u.memoizedState,H===null)return Zs(u),null;if(B=(u.flags&128)!==0,se=H.rendering,se===null)if(B)wh(H,!1);else{if(hs!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(se=ao(c),se!==null){for(u.flags|=128,wh(H,!1),B=se.updateQueue,B!==null&&(u.updateQueue=B,u.flags|=4),u.subtreeFlags=0,B=g,g=u.child;g!==null;)H=g,c=B,H.flags&=14680066,se=H.alternate,se===null?(H.childLanes=0,H.lanes=c,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=se.childLanes,H.lanes=se.lanes,H.child=se.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=se.memoizedProps,H.memoizedState=se.memoizedState,H.updateQueue=se.updateQueue,H.type=se.type,c=se.dependencies,H.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return ja($a,$a.current&1|2),u.child}c=c.sibling}H.tail!==null&&gr()>Zu&&(u.flags|=128,B=!0,wh(H,!1),u.lanes=4194304)}else{if(!B)if(c=ao(se),c!==null){if(u.flags|=128,B=!0,g=c.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),wh(H,!0),H.tail===null&&H.tailMode==="hidden"&&!se.alternate&&!tt)return Zs(u),null}else 2*gr()-H.renderingStartTime>Zu&&g!==1073741824&&(u.flags|=128,B=!0,wh(H,!1),u.lanes=4194304);H.isBackwards?(se.sibling=u.child,u.child=se):(g=H.last,g!==null?g.sibling=se:u.child=se,H.last=se)}return H.tail!==null?(u=H.tail,H.rendering=u,H.tail=u.sibling,H.renderingStartTime=gr(),u.sibling=null,g=$a.current,ja($a,B?g&1|2:g&1),u):(Zs(u),null);case 22:case 23:return ov(),B=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==B&&(u.flags|=8192),B&&(u.mode&1)!==0?(io&1073741824)!==0&&(Zs(u),u.subtreeFlags&6&&(u.flags|=8192)):Zs(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function rD(c,u){switch(Qe(u),u.tag){case 1:return Xs(u.type)&&Mu(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return Bo(),va(Ys),va(us),gh(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return mh(u),null;case 13:if(va($a),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(t(340));$t()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return va($a),null;case 4:return Bo(),null;case 10:return Ga(u.type._context),null;case 22:case 23:return ov(),null;case 24:return null;default:return null}}var np=!1,ei=!1,aD=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Xu(c,u){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(B){Un(c,u,B)}else g.current=null}function Gx(c,u,g){try{g()}catch(B){Un(c,u,B)}}var s2=!1;function nD(c,u){if(Qd=hA,c=_n(),eo(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var B=g.getSelection&&g.getSelection();if(B&&B.rangeCount!==0){g=B.anchorNode;var L=B.anchorOffset,H=B.focusNode;B=B.focusOffset;try{g.nodeType,H.nodeType}catch{g=null;break e}var se=0,ge=-1,je=-1,Me=0,ut=0,ht=c,At=null;t:for(;;){for(var Rt;ht!==g||L!==0&&ht.nodeType!==3||(ge=se+L),ht!==H||B!==0&&ht.nodeType!==3||(je=se+B),ht.nodeType===3&&(se+=ht.nodeValue.length),(Rt=ht.firstChild)!==null;)At=ht,ht=Rt;for(;;){if(ht===c)break t;if(At===g&&++Me===L&&(ge=se),At===H&&++ut===B&&(je=se),(Rt=ht.nextSibling)!==null)break;ht=At,At=ht.parentNode}ht=Rt}g=ge===-1||je===-1?null:{start:ge,end:je}}else g=null}g=g||{start:0,end:0}}else g=null;for(Ic={focusedElem:c,selectionRange:g},hA=!1,zt=u;zt!==null;)if(u=zt,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,zt=c;else for(;zt!==null;){u=zt;try{var Gt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Gt!==null){var Xt=Gt.memoizedProps,On=Gt.memoizedState,Pe=u.stateNode,Be=Pe.getSnapshotBeforeUpdate(u.elementType===u.type?Xt:tl(u.type,Xt),On);Pe.__reactInternalSnapshotBeforeUpdate=Be}break;case 3:var Te=u.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(xt){Un(u,u.return,xt)}if(c=u.sibling,c!==null){c.return=u.return,zt=c;break}zt=u.return}return Gt=s2,s2=!1,Gt}function yh(c,u,g){var B=u.updateQueue;if(B=B!==null?B.lastEffect:null,B!==null){var L=B=B.next;do{if((L.tag&c)===c){var H=L.destroy;L.destroy=void 0,H!==void 0&&Gx(u,g,H)}L=L.next}while(L!==B)}}function sp(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var g=u=u.next;do{if((g.tag&c)===c){var B=g.create;g.destroy=B()}g=g.next}while(g!==u)}}function Yx(c){var u=c.ref;if(u!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof u=="function"?u(c):u.current=c}}function i2(c){var u=c.alternate;u!==null&&(c.alternate=null,i2(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[No],delete u[BA],delete u[Gs],delete u[Lx],delete u[Ix])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function o2(c){return c.tag===5||c.tag===3||c.tag===4}function l2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||o2(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Xx(c,u,g){var B=c.tag;if(B===5||B===6)c=c.stateNode,u?g.nodeType===8?g.parentNode.insertBefore(c,u):g.insertBefore(c,u):(g.nodeType===8?(u=g.parentNode,u.insertBefore(c,g)):(u=g,u.appendChild(c)),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=NA));else if(B!==4&&(c=c.child,c!==null))for(Xx(c,u,g),c=c.sibling;c!==null;)Xx(c,u,g),c=c.sibling}function Jx(c,u,g){var B=c.tag;if(B===5||B===6)c=c.stateNode,u?g.insertBefore(c,u):g.appendChild(c);else if(B!==4&&(c=c.child,c!==null))for(Jx(c,u,g),c=c.sibling;c!==null;)Jx(c,u,g),c=c.sibling}var Qs=null,rl=!1;function DA(c,u,g){for(g=g.child;g!==null;)c2(c,u,g),g=g.sibling}function c2(c,u,g){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(Us,g)}catch{}switch(g.tag){case 5:ei||Xu(g,u);case 6:var B=Qs,L=rl;Qs=null,DA(c,u,g),Qs=B,rl=L,Qs!==null&&(rl?(c=Qs,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):Qs.removeChild(g.stateNode));break;case 18:Qs!==null&&(rl?(c=Qs,g=g.stateNode,c.nodeType===8?uh(c.parentNode,g):c.nodeType===1&&uh(c,g),go(c)):uh(Qs,g.stateNode));break;case 4:B=Qs,L=rl,Qs=g.stateNode.containerInfo,rl=!0,DA(c,u,g),Qs=B,rl=L;break;case 0:case 11:case 14:case 15:if(!ei&&(B=g.updateQueue,B!==null&&(B=B.lastEffect,B!==null))){L=B=B.next;do{var H=L,se=H.destroy;H=H.tag,se!==void 0&&((H&2)!==0||(H&4)!==0)&&Gx(g,u,se),L=L.next}while(L!==B)}DA(c,u,g);break;case 1:if(!ei&&(Xu(g,u),B=g.stateNode,typeof B.componentWillUnmount=="function"))try{B.props=g.memoizedProps,B.state=g.memoizedState,B.componentWillUnmount()}catch(ge){Un(g,u,ge)}DA(c,u,g);break;case 21:DA(c,u,g);break;case 22:g.mode&1?(ei=(B=ei)||g.memoizedState!==null,DA(c,u,g),ei=B):DA(c,u,g);break;default:DA(c,u,g)}}function A2(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new aD),u.forEach(function(B){var L=fD.bind(null,c,B);g.has(B)||(g.add(B),B.then(L,L))})}}function al(c,u){var g=u.deletions;if(g!==null)for(var B=0;B<g.length;B++){var L=g[B];try{var H=c,se=u,ge=se;e:for(;ge!==null;){switch(ge.tag){case 5:Qs=ge.stateNode,rl=!1;break e;case 3:Qs=ge.stateNode.containerInfo,rl=!0;break e;case 4:Qs=ge.stateNode.containerInfo,rl=!0;break e}ge=ge.return}if(Qs===null)throw Error(t(160));c2(H,se,L),Qs=null,rl=!1;var je=L.alternate;je!==null&&(je.return=null),L.return=null}catch(Me){Un(L,u,Me)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)d2(u,c),u=u.sibling}function d2(c,u){var g=c.alternate,B=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(al(u,c),Rl(c),B&4){try{yh(3,c,c.return),sp(3,c)}catch(Xt){Un(c,c.return,Xt)}try{yh(5,c,c.return)}catch(Xt){Un(c,c.return,Xt)}}break;case 1:al(u,c),Rl(c),B&512&&g!==null&&Xu(g,g.return);break;case 5:if(al(u,c),Rl(c),B&512&&g!==null&&Xu(g,g.return),c.flags&32){var L=c.stateNode;try{vt(L,"")}catch(Xt){Un(c,c.return,Xt)}}if(B&4&&(L=c.stateNode,L!=null)){var H=c.memoizedProps,se=g!==null?g.memoizedProps:H,ge=c.type,je=c.updateQueue;if(c.updateQueue=null,je!==null)try{ge==="input"&&H.type==="radio"&&H.name!=null&&dt(L,H),Re(ge,se);var Me=Re(ge,H);for(se=0;se<je.length;se+=2){var ut=je[se],ht=je[se+1];ut==="style"?Tt(L,ht):ut==="dangerouslySetInnerHTML"?Bt(L,ht):ut==="children"?vt(L,ht):S(L,ut,ht,Me)}switch(ge){case"input":Ft(L,H);break;case"textarea":Jt(L,H);break;case"select":var At=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!H.multiple;var Rt=H.value;Rt!=null?et(L,!!H.multiple,Rt,!1):At!==!!H.multiple&&(H.defaultValue!=null?et(L,!!H.multiple,H.defaultValue,!0):et(L,!!H.multiple,H.multiple?[]:"",!1))}L[BA]=H}catch(Xt){Un(c,c.return,Xt)}}break;case 6:if(al(u,c),Rl(c),B&4){if(c.stateNode===null)throw Error(t(162));L=c.stateNode,H=c.memoizedProps;try{L.nodeValue=H}catch(Xt){Un(c,c.return,Xt)}}break;case 3:if(al(u,c),Rl(c),B&4&&g!==null&&g.memoizedState.isDehydrated)try{go(u.containerInfo)}catch(Xt){Un(c,c.return,Xt)}break;case 4:al(u,c),Rl(c);break;case 13:al(u,c),Rl(c),L=c.child,L.flags&8192&&(H=L.memoizedState!==null,L.stateNode.isHidden=H,!H||L.alternate!==null&&L.alternate.memoizedState!==null||(tv=gr())),B&4&&A2(c);break;case 22:if(ut=g!==null&&g.memoizedState!==null,c.mode&1?(ei=(Me=ei)||ut,al(u,c),ei=Me):al(u,c),Rl(c),B&8192){if(Me=c.memoizedState!==null,(c.stateNode.isHidden=Me)&&!ut&&(c.mode&1)!==0)for(zt=c,ut=c.child;ut!==null;){for(ht=zt=ut;zt!==null;){switch(At=zt,Rt=At.child,At.tag){case 0:case 11:case 14:case 15:yh(4,At,At.return);break;case 1:Xu(At,At.return);var Gt=At.stateNode;if(typeof Gt.componentWillUnmount=="function"){B=At,g=At.return;try{u=B,Gt.props=u.memoizedProps,Gt.state=u.memoizedState,Gt.componentWillUnmount()}catch(Xt){Un(B,g,Xt)}}break;case 5:Xu(At,At.return);break;case 22:if(At.memoizedState!==null){h2(ht);continue}}Rt!==null?(Rt.return=At,zt=Rt):h2(ht)}ut=ut.sibling}e:for(ut=null,ht=c;;){if(ht.tag===5){if(ut===null){ut=ht;try{L=ht.stateNode,Me?(H=L.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(ge=ht.stateNode,je=ht.memoizedProps.style,se=je!=null&&je.hasOwnProperty("display")?je.display:null,ge.style.display=Ir("display",se))}catch(Xt){Un(c,c.return,Xt)}}}else if(ht.tag===6){if(ut===null)try{ht.stateNode.nodeValue=Me?"":ht.memoizedProps}catch(Xt){Un(c,c.return,Xt)}}else if((ht.tag!==22&&ht.tag!==23||ht.memoizedState===null||ht===c)&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===c)break e;for(;ht.sibling===null;){if(ht.return===null||ht.return===c)break e;ut===ht&&(ut=null),ht=ht.return}ut===ht&&(ut=null),ht.sibling.return=ht.return,ht=ht.sibling}}break;case 19:al(u,c),Rl(c),B&4&&A2(c);break;case 21:break;default:al(u,c),Rl(c)}}function Rl(c){var u=c.flags;if(u&2){try{e:{for(var g=c.return;g!==null;){if(o2(g)){var B=g;break e}g=g.return}throw Error(t(160))}switch(B.tag){case 5:var L=B.stateNode;B.flags&32&&(vt(L,""),B.flags&=-33);var H=l2(c);Jx(c,H,L);break;case 3:case 4:var se=B.stateNode.containerInfo,ge=l2(c);Xx(c,ge,se);break;default:throw Error(t(161))}}catch(je){Un(c,c.return,je)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function sD(c,u,g){zt=c,u2(c)}function u2(c,u,g){for(var B=(c.mode&1)!==0;zt!==null;){var L=zt,H=L.child;if(L.tag===22&&B){var se=L.memoizedState!==null||np;if(!se){var ge=L.alternate,je=ge!==null&&ge.memoizedState!==null||ei;ge=np;var Me=ei;if(np=se,(ei=je)&&!Me)for(zt=L;zt!==null;)se=zt,je=se.child,se.tag===22&&se.memoizedState!==null?m2(L):je!==null?(je.return=se,zt=je):m2(L);for(;H!==null;)zt=H,u2(H),H=H.sibling;zt=L,np=ge,ei=Me}f2(c)}else(L.subtreeFlags&8772)!==0&&H!==null?(H.return=L,zt=H):f2(c)}}function f2(c){for(;zt!==null;){var u=zt;if((u.flags&8772)!==0){var g=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:ei||sp(5,u);break;case 1:var B=u.stateNode;if(u.flags&4&&!ei)if(g===null)B.componentDidMount();else{var L=u.elementType===u.type?g.memoizedProps:tl(u.type,g.memoizedProps);B.componentDidUpdate(L,g.memoizedState,B.__reactInternalSnapshotBeforeUpdate)}var H=u.updateQueue;H!==null&&Qi(u,H,B);break;case 3:var se=u.updateQueue;if(se!==null){if(g=null,u.child!==null)switch(u.child.tag){case 5:g=u.child.stateNode;break;case 1:g=u.child.stateNode}Qi(u,se,g)}break;case 5:var ge=u.stateNode;if(g===null&&u.flags&4){g=ge;var je=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&g.focus();break;case"img":je.src&&(g.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Me=u.alternate;if(Me!==null){var ut=Me.memoizedState;if(ut!==null){var ht=ut.dehydrated;ht!==null&&go(ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ei||u.flags&512&&Yx(u)}catch(At){Un(u,u.return,At)}}if(u===c){zt=null;break}if(g=u.sibling,g!==null){g.return=u.return,zt=g;break}zt=u.return}}function h2(c){for(;zt!==null;){var u=zt;if(u===c){zt=null;break}var g=u.sibling;if(g!==null){g.return=u.return,zt=g;break}zt=u.return}}function m2(c){for(;zt!==null;){var u=zt;try{switch(u.tag){case 0:case 11:case 15:var g=u.return;try{sp(4,u)}catch(je){Un(u,g,je)}break;case 1:var B=u.stateNode;if(typeof B.componentDidMount=="function"){var L=u.return;try{B.componentDidMount()}catch(je){Un(u,L,je)}}var H=u.return;try{Yx(u)}catch(je){Un(u,H,je)}break;case 5:var se=u.return;try{Yx(u)}catch(je){Un(u,se,je)}}}catch(je){Un(u,u.return,je)}if(u===c){zt=null;break}var ge=u.sibling;if(ge!==null){ge.return=u.return,zt=ge;break}zt=u.return}}var iD=Math.ceil,ip=F.ReactCurrentDispatcher,Zx=F.ReactCurrentOwner,Eo=F.ReactCurrentBatchConfig,pa=0,Ss=null,ss=null,Rs=0,io=0,Ju=to(0),hs=0,bh=null,$d=0,op=0,ev=0,jh=null,Ti=null,tv=0,Zu=1/0,Oc=null,lp=!1,rv=null,UA=null,cp=!1,LA=null,Ap=0,Nh=0,av=null,dp=-1,up=0;function vi(){return(pa&6)!==0?gr():dp!==-1?dp:dp=gr()}function IA(c){return(c.mode&1)===0?1:(pa&2)!==0&&Rs!==0?Rs&-Rs:bn.transition!==null?(up===0&&(up=Xr()),up):(c=Cr,c!==0||(c=window.event,c=c===void 0?16:vc(c.type)),c)}function nl(c,u,g,B){if(50<Nh)throw Nh=0,av=null,Error(t(185));Ta(c,g,B),((pa&2)===0||c!==Ss)&&(c===Ss&&((pa&2)===0&&(op|=g),hs===4&&PA(c,Rs)),Mi(c,B),g===1&&pa===0&&(u.mode&1)===0&&(Zu=gr()+500,Td&&q()))}function Mi(c,u){var g=c.callbackNode;Br(c,u);var B=pt(c,c===Ss?Rs:0);if(B===0)g!==null&&Kt(g),c.callbackNode=null,c.callbackPriority=0;else if(u=B&-B,c.callbackPriority!==u){if(g!=null&&Kt(g),u===1)c.tag===0?O(g2.bind(null,c)):C(g2.bind(null,c)),Dx(function(){(pa&6)===0&&q()}),g=null;else{switch(Mo(B)){case 1:g=Ra;break;case 4:g=Qt;break;case 16:g=Fr;break;case 536870912:g=Ks;break;default:g=Fr}g=B2(g,p2.bind(null,c))}c.callbackPriority=u,c.callbackNode=g}}function p2(c,u){if(dp=-1,up=0,(pa&6)!==0)throw Error(t(327));var g=c.callbackNode;if(ef()&&c.callbackNode!==g)return null;var B=pt(c,c===Ss?Rs:0);if(B===0)return null;if((B&30)!==0||(B&c.expiredLanes)!==0||u)u=fp(c,B);else{u=B;var L=pa;pa|=2;var H=v2();(Ss!==c||Rs!==u)&&(Oc=null,Zu=gr()+500,Vd(c,u));do try{cD();break}catch(ge){x2(c,ge)}while(!0);ha(),ip.current=H,pa=L,ss!==null?u=0:(Ss=null,Rs=0,u=hs)}if(u!==0){if(u===2&&(L=qa(c),L!==0&&(B=L,u=nv(c,L))),u===1)throw g=bh,Vd(c,0),PA(c,B),Mi(c,gr()),g;if(u===6)PA(c,B);else{if(L=c.current.alternate,(B&30)===0&&!oD(L)&&(u=fp(c,B),u===2&&(H=qa(c),H!==0&&(B=H,u=nv(c,H))),u===1))throw g=bh,Vd(c,0),PA(c,B),Mi(c,gr()),g;switch(c.finishedWork=L,c.finishedLanes=B,u){case 0:case 1:throw Error(t(345));case 2:zd(c,Ti,Oc);break;case 3:if(PA(c,B),(B&130023424)===B&&(u=tv+500-gr(),10<u)){if(pt(c,0)!==0)break;if(L=c.suspendedLanes,(L&B)!==B){vi(),c.pingedLanes|=c.suspendedLanes&L;break}c.timeoutHandle=dh(zd.bind(null,c,Ti,Oc),u);break}zd(c,Ti,Oc);break;case 4:if(PA(c,B),(B&4194240)===B)break;for(u=c.eventTimes,L=-1;0<B;){var se=31-on(B);H=1<<se,se=u[se],se>L&&(L=se),B&=~H}if(B=L,B=gr()-B,B=(120>B?120:480>B?480:1080>B?1080:1920>B?1920:3e3>B?3e3:4320>B?4320:1960*iD(B/1960))-B,10<B){c.timeoutHandle=dh(zd.bind(null,c,Ti,Oc),B);break}zd(c,Ti,Oc);break;case 5:zd(c,Ti,Oc);break;default:throw Error(t(329))}}}return Mi(c,gr()),c.callbackNode===g?p2.bind(null,c):null}function nv(c,u){var g=jh;return c.current.memoizedState.isDehydrated&&(Vd(c,u).flags|=256),c=fp(c,u),c!==2&&(u=Ti,Ti=g,u!==null&&sv(u)),c}function sv(c){Ti===null?Ti=c:Ti.push.apply(Ti,c)}function oD(c){for(var u=c;;){if(u.flags&16384){var g=u.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var B=0;B<g.length;B++){var L=g[B],H=L.getSnapshot;L=L.value;try{if(!cn(H(),L))return!1}catch{return!1}}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function PA(c,u){for(u&=~ev,u&=~op,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var g=31-on(u),B=1<<g;c[g]=-1,u&=~B}}function g2(c){if((pa&6)!==0)throw Error(t(327));ef();var u=pt(c,0);if((u&1)===0)return Mi(c,gr()),null;var g=fp(c,u);if(c.tag!==0&&g===2){var B=qa(c);B!==0&&(u=B,g=nv(c,B))}if(g===1)throw g=bh,Vd(c,0),PA(c,u),Mi(c,gr()),g;if(g===6)throw Error(t(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,zd(c,Ti,Oc),Mi(c,gr()),null}function iv(c,u){var g=pa;pa|=1;try{return c(u)}finally{pa=g,pa===0&&(Zu=gr()+500,Td&&q())}}function Kd(c){LA!==null&&LA.tag===0&&(pa&6)===0&&ef();var u=pa;pa|=1;var g=Eo.transition,B=Cr;try{if(Eo.transition=null,Cr=1,c)return c()}finally{Cr=B,Eo.transition=g,pa=u,(pa&6)===0&&q()}}function ov(){io=Ju.current,va(Ju)}function Vd(c,u){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,Vm(g)),ss!==null)for(g=ss.return;g!==null;){var B=g;switch(Qe(B),B.tag){case 1:B=B.type.childContextTypes,B!=null&&Mu();break;case 3:Bo(),va(Ys),va(us),gh();break;case 5:mh(B);break;case 4:Bo();break;case 13:va($a);break;case 19:va($a);break;case 10:Ga(B.type._context);break;case 22:case 23:ov()}g=g.return}if(Ss=c,ss=c=QA(c.current,null),Rs=io=u,hs=0,bh=null,ev=op=$d=0,Ti=jh=null,Fa!==null){for(u=0;u<Fa.length;u++)if(g=Fa[u],B=g.interleaved,B!==null){g.interleaved=null;var L=B.next,H=g.pending;if(H!==null){var se=H.next;H.next=L,B.next=se}g.pending=B}Fa=null}return c}function x2(c,u){do{var g=ss;try{if(ha(),Ou.current=ep,_A){for(var B=Ya.memoizedState;B!==null;){var L=B.queue;L!==null&&(L.pending=null),B=B.next}_A=!1}if(Co=0,Cn=Dn=Ya=null,Zo=!1,FA=0,Zx.current=null,g===null||g.return===null){hs=1,bh=u,ss=null;break}e:{var H=c,se=g.return,ge=g,je=u;if(u=Rs,ge.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var Me=je,ut=ge,ht=ut.tag;if((ut.mode&1)===0&&(ht===0||ht===11||ht===15)){var At=ut.alternate;At?(ut.updateQueue=At.updateQueue,ut.memoizedState=At.memoizedState,ut.lanes=At.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var Rt=$b(se);if(Rt!==null){Rt.flags&=-257,Kb(Rt,se,ge,H,u),Rt.mode&1&&Hb(H,Me,u),u=Rt,je=Me;var Gt=u.updateQueue;if(Gt===null){var Xt=new Set;Xt.add(je),u.updateQueue=Xt}else Gt.add(je);break e}else{if((u&1)===0){Hb(H,Me,u),lv();break e}je=Error(t(426))}}else if(tt&&ge.mode&1){var On=$b(se);if(On!==null){(On.flags&65536)===0&&(On.flags|=256),Kb(On,se,ge,H,u),St(Yu(je,ge));break e}}H=je=Yu(je,ge),hs!==4&&(hs=2),jh===null?jh=[H]:jh.push(H),H=se;do{switch(H.tag){case 3:H.flags|=65536,u&=-u,H.lanes|=u;var Pe=Mb(H,je,u);Da(H,Pe);break e;case 1:ge=je;var Be=H.type,Te=H.stateNode;if((H.flags&128)===0&&(typeof Be.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(UA===null||!UA.has(Te)))){H.flags|=65536,u&=-u,H.lanes|=u;var xt=Ob(H,ge,u);Da(H,xt);break e}}H=H.return}while(H!==null)}y2(g)}catch(tr){u=tr,ss===g&&g!==null&&(ss=g=g.return);continue}break}while(!0)}function v2(){var c=ip.current;return ip.current=ep,c===null?ep:c}function lv(){(hs===0||hs===3||hs===2)&&(hs=4),Ss===null||($d&268435455)===0&&(op&268435455)===0||PA(Ss,Rs)}function fp(c,u){var g=pa;pa|=2;var B=v2();(Ss!==c||Rs!==u)&&(Oc=null,Vd(c,u));do try{lD();break}catch(L){x2(c,L)}while(!0);if(ha(),pa=g,ip.current=B,ss!==null)throw Error(t(261));return Ss=null,Rs=0,hs}function lD(){for(;ss!==null;)w2(ss)}function cD(){for(;ss!==null&&!da();)w2(ss)}function w2(c){var u=N2(c.alternate,c,io);c.memoizedProps=c.pendingProps,u===null?y2(c):ss=u,Zx.current=null}function y2(c){var u=c;do{var g=u.alternate;if(c=u.return,(u.flags&32768)===0){if(g=tD(g,u,io),g!==null){ss=g;return}}else{if(g=rD(g,u),g!==null){g.flags&=32767,ss=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{hs=6,ss=null;return}}if(u=u.sibling,u!==null){ss=u;return}ss=u=c}while(u!==null);hs===0&&(hs=5)}function zd(c,u,g){var B=Cr,L=Eo.transition;try{Eo.transition=null,Cr=1,AD(c,u,g,B)}finally{Eo.transition=L,Cr=B}return null}function AD(c,u,g,B){do ef();while(LA!==null);if((pa&6)!==0)throw Error(t(327));g=c.finishedWork;var L=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(t(177));c.callbackNode=null,c.callbackPriority=0;var H=g.lanes|g.childLanes;if(Ls(c,H),c===Ss&&(ss=Ss=null,Rs=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||cp||(cp=!0,B2(Fr,function(){return ef(),null})),H=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||H){H=Eo.transition,Eo.transition=null;var se=Cr;Cr=1;var ge=pa;pa|=4,Zx.current=null,nD(c,g),d2(g,c),_d(Ic),hA=!!Qd,Ic=Qd=null,c.current=g,sD(g),Qa(),pa=ge,Cr=se,Eo.transition=H}else c.current=g;if(cp&&(cp=!1,LA=c,Ap=L),H=c.pendingLanes,H===0&&(UA=null),As(g.stateNode),Mi(c,gr()),u!==null)for(B=c.onRecoverableError,g=0;g<u.length;g++)L=u[g],B(L.value,{componentStack:L.stack,digest:L.digest});if(lp)throw lp=!1,c=rv,rv=null,c;return(Ap&1)!==0&&c.tag!==0&&ef(),H=c.pendingLanes,(H&1)!==0?c===av?Nh++:(Nh=0,av=c):Nh=0,q(),null}function ef(){if(LA!==null){var c=Mo(Ap),u=Eo.transition,g=Cr;try{if(Eo.transition=null,Cr=16>c?16:c,LA===null)var B=!1;else{if(c=LA,LA=null,Ap=0,(pa&6)!==0)throw Error(t(331));var L=pa;for(pa|=4,zt=c.current;zt!==null;){var H=zt,se=H.child;if((zt.flags&16)!==0){var ge=H.deletions;if(ge!==null){for(var je=0;je<ge.length;je++){var Me=ge[je];for(zt=Me;zt!==null;){var ut=zt;switch(ut.tag){case 0:case 11:case 15:yh(8,ut,H)}var ht=ut.child;if(ht!==null)ht.return=ut,zt=ht;else for(;zt!==null;){ut=zt;var At=ut.sibling,Rt=ut.return;if(i2(ut),ut===Me){zt=null;break}if(At!==null){At.return=Rt,zt=At;break}zt=Rt}}}var Gt=H.alternate;if(Gt!==null){var Xt=Gt.child;if(Xt!==null){Gt.child=null;do{var On=Xt.sibling;Xt.sibling=null,Xt=On}while(Xt!==null)}}zt=H}}if((H.subtreeFlags&2064)!==0&&se!==null)se.return=H,zt=se;else e:for(;zt!==null;){if(H=zt,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:yh(9,H,H.return)}var Pe=H.sibling;if(Pe!==null){Pe.return=H.return,zt=Pe;break e}zt=H.return}}var Be=c.current;for(zt=Be;zt!==null;){se=zt;var Te=se.child;if((se.subtreeFlags&2064)!==0&&Te!==null)Te.return=se,zt=Te;else e:for(se=Be;zt!==null;){if(ge=zt,(ge.flags&2048)!==0)try{switch(ge.tag){case 0:case 11:case 15:sp(9,ge)}}catch(tr){Un(ge,ge.return,tr)}if(ge===se){zt=null;break e}var xt=ge.sibling;if(xt!==null){xt.return=ge.return,zt=xt;break e}zt=ge.return}}if(pa=L,q(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(Us,c)}catch{}B=!0}return B}finally{Cr=g,Eo.transition=u}}return!1}function b2(c,u,g){u=Yu(g,u),u=Mb(c,u,1),c=Nn(c,u,1),u=vi(),c!==null&&(Ta(c,1,u),Mi(c,u))}function Un(c,u,g){if(c.tag===3)b2(c,c,g);else for(;u!==null;){if(u.tag===3){b2(u,c,g);break}else if(u.tag===1){var B=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof B.componentDidCatch=="function"&&(UA===null||!UA.has(B))){c=Yu(g,c),c=Ob(u,c,1),u=Nn(u,c,1),c=vi(),u!==null&&(Ta(u,1,c),Mi(u,c));break}}u=u.return}}function dD(c,u,g){var B=c.pingCache;B!==null&&B.delete(u),u=vi(),c.pingedLanes|=c.suspendedLanes&g,Ss===c&&(Rs&g)===g&&(hs===4||hs===3&&(Rs&130023424)===Rs&&500>gr()-tv?Vd(c,0):ev|=g),Mi(c,u)}function j2(c,u){u===0&&((c.mode&1)===0?u=1:(u=Ge,Ge<<=1,(Ge&130023424)===0&&(Ge=4194304)));var g=vi();c=ka(c,u),c!==null&&(Ta(c,u,g),Mi(c,g))}function uD(c){var u=c.memoizedState,g=0;u!==null&&(g=u.retryLane),j2(c,g)}function fD(c,u){var g=0;switch(c.tag){case 13:var B=c.stateNode,L=c.memoizedState;L!==null&&(g=L.retryLane);break;case 19:B=c.stateNode;break;default:throw Error(t(314))}B!==null&&B.delete(u),j2(c,g)}var N2;N2=function(c,u,g){if(c!==null)if(c.memoizedProps!==u.pendingProps||Ys.current)Ri=!0;else{if((c.lanes&g)===0&&(u.flags&128)===0)return Ri=!1,eD(c,u,g);Ri=(c.flags&131072)!==0}else Ri=!1,tt&&(u.flags&1048576)!==0&&Fe(u,ce,u.index);switch(u.lanes=0,u.tag){case 2:var B=u.type;ap(c,u),c=u.pendingProps;var L=SA(u,us.current);un(u,g),L=Md(null,u,B,c,L,g);var H=So();return u.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Xs(B)?(H=!0,Rc(u)):H=!1,u.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,fs(u),L.updater=tp,u.stateNode=L,L._reactInternals=u,Tx(u,B,c,g),u=$x(null,u,B,!0,H,g)):(u.tag=0,tt&&H&&Ye(u),xi(null,u,L,g),u=u.child),u;case 16:B=u.elementType;e:{switch(ap(c,u),c=u.pendingProps,L=B._init,B=L(B._payload),u.type=B,L=u.tag=mD(B),c=tl(B,c),L){case 0:u=Hx(null,u,B,c,g);break e;case 1:u=Yb(null,u,B,c,g);break e;case 11:u=Vb(null,u,B,c,g);break e;case 14:u=zb(null,u,B,tl(B.type,c),g);break e}throw Error(t(306,B,""))}return u;case 0:return B=u.type,L=u.pendingProps,L=u.elementType===B?L:tl(B,L),Hx(c,u,B,L,g);case 1:return B=u.type,L=u.pendingProps,L=u.elementType===B?L:tl(B,L),Yb(c,u,B,L,g);case 3:e:{if(Xb(u),c===null)throw Error(t(387));B=u.pendingProps,H=u.memoizedState,L=H.element,Js(c,u),Cs(u,B,null,g);var se=u.memoizedState;if(B=se.element,H.isDehydrated)if(H={element:B,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},u.updateQueue.baseState=H,u.memoizedState=H,u.flags&256){L=Yu(Error(t(423)),u),u=Jb(c,u,B,g,L);break e}else if(B!==L){L=Yu(Error(t(424)),u),u=Jb(c,u,B,g,L);break e}else for(ze=Ps(u.stateNode.containerInfo.firstChild),$e=u,tt=!0,rt=null,g=an(u,null,B,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if($t(),B===L){u=Mc(c,u,g);break e}xi(c,u,B,g)}u=u.child}return u;case 5:return Gm(u),c===null&&Wt(u),B=u.type,L=u.pendingProps,H=c!==null?c.memoizedProps:null,se=L.children,Ah(B,L)?se=null:H!==null&&Ah(B,H)&&(u.flags|=32),Gb(c,u),xi(c,u,se,g),u.child;case 6:return c===null&&Wt(u),null;case 13:return Zb(c,u,g);case 4:return EA(u,u.stateNode.containerInfo),B=u.pendingProps,c===null?u.child=Fn(u,null,B,g):xi(c,u,B,g),u.child;case 11:return B=u.type,L=u.pendingProps,L=u.elementType===B?L:tl(B,L),Vb(c,u,B,L,g);case 7:return xi(c,u,u.pendingProps,g),u.child;case 8:return xi(c,u,u.pendingProps.children,g),u.child;case 12:return xi(c,u,u.pendingProps.children,g),u.child;case 10:e:{if(B=u.type._context,L=u.pendingProps,H=u.memoizedProps,se=L.value,ja(Tn,B._currentValue),B._currentValue=se,H!==null)if(cn(H.value,se)){if(H.children===L.children&&!Ys.current){u=Mc(c,u,g);break e}}else for(H=u.child,H!==null&&(H.return=u);H!==null;){var ge=H.dependencies;if(ge!==null){se=H.child;for(var je=ge.firstContext;je!==null;){if(je.context===B){if(H.tag===1){je=jn(-1,g&-g),je.tag=2;var Me=H.updateQueue;if(Me!==null){Me=Me.shared;var ut=Me.pending;ut===null?je.next=je:(je.next=ut.next,ut.next=je),Me.pending=je}}H.lanes|=g,je=H.alternate,je!==null&&(je.lanes|=g),ma(H.return,g,u),ge.lanes|=g;break}je=je.next}}else if(H.tag===10)se=H.type===u.type?null:H.child;else if(H.tag===18){if(se=H.return,se===null)throw Error(t(341));se.lanes|=g,ge=se.alternate,ge!==null&&(ge.lanes|=g),ma(se,g,u),se=H.sibling}else se=H.child;if(se!==null)se.return=H;else for(se=H;se!==null;){if(se===u){se=null;break}if(H=se.sibling,H!==null){H.return=se.return,se=H;break}se=se.return}H=se}xi(c,u,L.children,g),u=u.child}return u;case 9:return L=u.type,B=u.pendingProps.children,un(u,g),L=fn(L),B=B(L),u.flags|=1,xi(c,u,B,g),u.child;case 14:return B=u.type,L=tl(B,u.pendingProps),L=tl(B.type,L),zb(c,u,B,L,g);case 15:return qb(c,u,u.type,u.pendingProps,g);case 17:return B=u.type,L=u.pendingProps,L=u.elementType===B?L:tl(B,L),ap(c,u),u.tag=1,Xs(B)?(c=!0,Rc(u)):c=!1,un(u,g),Rb(u,B,L),Tx(u,B,L,g),$x(null,u,B,!0,c,g);case 19:return t2(c,u,g);case 22:return Wb(c,u,g)}throw Error(t(156,u.tag))};function B2(c,u){return ea(c,u)}function hD(c,u,g,B){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=B,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(c,u,g,B){return new hD(c,u,g,B)}function cv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function mD(c){if(typeof c=="function")return cv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===$)return 11;if(c===ee)return 14}return 2}function QA(c,u){var g=c.alternate;return g===null?(g=_o(c.tag,u,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=u,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,u=c.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function hp(c,u,g,B,L,H){var se=2;if(B=c,typeof c=="function")cv(c)&&(se=1);else if(typeof c=="string")se=5;else e:switch(c){case k:return qd(g.children,L,H,u);case P:se=8,L|=8;break;case E:return c=_o(12,g,u,L|2),c.elementType=E,c.lanes=H,c;case G:return c=_o(13,g,u,L),c.elementType=G,c.lanes=H,c;case R:return c=_o(19,g,u,L),c.elementType=R,c.lanes=H,c;case z:return mp(g,L,H,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case V:se=10;break e;case Q:se=9;break e;case $:se=11;break e;case ee:se=14;break e;case K:se=16,B=null;break e}throw Error(t(130,c==null?c:typeof c,""))}return u=_o(se,g,u,L),u.elementType=c,u.type=B,u.lanes=H,u}function qd(c,u,g,B){return c=_o(7,c,B,u),c.lanes=g,c}function mp(c,u,g,B){return c=_o(22,c,B,u),c.elementType=z,c.lanes=g,c.stateNode={isHidden:!1},c}function Av(c,u,g){return c=_o(6,c,null,u),c.lanes=g,c}function dv(c,u,g){return u=_o(4,c.children!==null?c.children:[],c.key,u),u.lanes=g,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function pD(c,u,g,B,L){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=B,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function uv(c,u,g,B,L,H,se,ge,je){return c=new pD(c,u,g,ge,je),u===1?(u=1,H===!0&&(u|=8)):u=0,H=_o(3,null,null,u),c.current=H,H.stateNode=c,H.memoizedState={element:B,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},fs(H),c}function gD(c,u,g){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:B==null?null:""+B,children:c,containerInfo:u,implementation:g}}function C2(c){if(!c)return Il;c=c._reactInternals;e:{if(_t(c)!==c||c.tag!==1)throw Error(t(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Xs(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(c.tag===1){var g=c.type;if(Xs(g))return hh(c,g,u)}return u}function S2(c,u,g,B,L,H,se,ge,je){return c=uv(g,B,!0,c,L,H,se,ge,je),c.context=C2(null),g=c.current,B=vi(),L=IA(g),H=jn(B,L),H.callback=u??null,Nn(g,H,L),c.current.lanes=L,Ta(c,L,B),Mi(c,B),c}function pp(c,u,g,B){var L=u.current,H=vi(),se=IA(L);return g=C2(g),u.context===null?u.context=g:u.pendingContext=g,u=jn(H,se),u.payload={element:c},B=B===void 0?null:B,B!==null&&(u.callback=B),c=Nn(L,u,se),c!==null&&(nl(c,L,se,H),Bs(c,L,se)),se}function gp(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function E2(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<u?g:u}}function fv(c,u){E2(c,u),(c=c.alternate)&&E2(c,u)}function xD(){return null}var _2=typeof reportError=="function"?reportError:function(c){console.error(c)};function hv(c){this._internalRoot=c}xp.prototype.render=hv.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(t(409));pp(c,u,null,null)},xp.prototype.unmount=hv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;Kd(function(){pp(null,c,null,null)}),u[js]=null}};function xp(c){this._internalRoot=c}xp.prototype.unstable_scheduleHydration=function(c){if(c){var u=_u();c={blockedOn:null,target:c,priority:u};for(var g=0;g<po.length&&u!==0&&u<po[g].priority;g++);po.splice(g,0,c),g===0&&ku(c)}};function mv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function vp(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function F2(){}function vD(c,u,g,B,L){if(L){if(typeof B=="function"){var H=B;B=function(){var Me=gp(se);H.call(Me)}}var se=S2(u,B,c,0,null,!1,!1,"",F2);return c._reactRootContainer=se,c[js]=se.current,Uc(c.nodeType===8?c.parentNode:c),Kd(),se}for(;L=c.lastChild;)c.removeChild(L);if(typeof B=="function"){var ge=B;B=function(){var Me=gp(je);ge.call(Me)}}var je=uv(c,0,!1,null,null,!1,!1,"",F2);return c._reactRootContainer=je,c[js]=je.current,Uc(c.nodeType===8?c.parentNode:c),Kd(function(){pp(u,je,g,B)}),je}function wp(c,u,g,B,L){var H=g._reactRootContainer;if(H){var se=H;if(typeof L=="function"){var ge=L;L=function(){var je=gp(se);ge.call(je)}}pp(u,se,c,L)}else se=vD(g,u,c,L,B);return gp(se)}dA=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var g=aa(u.pendingLanes);g!==0&&(Nl(u,g|1),Mi(u,gr()),(pa&6)===0&&(Zu=gr()+500,q()))}break;case 13:Kd(function(){var B=ka(c,1);if(B!==null){var L=vi();nl(B,c,1,L)}}),fv(c,1)}},yd=function(c){if(c.tag===13){var u=ka(c,134217728);if(u!==null){var g=vi();nl(u,c,134217728,g)}fv(c,134217728)}},Eu=function(c){if(c.tag===13){var u=IA(c),g=ka(c,u);if(g!==null){var B=vi();nl(g,c,u,B)}fv(c,u)}},_u=function(){return Cr},uA=function(c,u){var g=Cr;try{return Cr=c,u()}finally{Cr=g}},Je=function(c,u,g){switch(u){case"input":if(Ft(c,g),u=g.name,g.type==="radio"&&u!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<g.length;u++){var B=g[u];if(B!==c&&B.form===c.form){var L=Rd(B);if(!L)throw Error(t(90));Ee(B),Ft(B,L)}}}break;case"textarea":Jt(c,g);break;case"select":u=g.value,u!=null&&et(c,!!g.multiple,u,!1)}},Za=iv,ws=Kd;var wD={usingClientEntryPoint:!1,Events:[CA,Pc,Rd,Tr,$s,iv]},Bh={findFiberByHostInstance:Ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yD={bundleType:Bh.bundleType,version:Bh.version,rendererPackageName:Bh.rendererPackageName,rendererConfig:Bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=or(c),c===null?null:c.stateNode},findFiberByHostInstance:Bh.findFiberByHostInstance||xD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{Us=yp.inject(yD),ts=yp}catch{}}return Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wD,Oi.createPortal=function(c,u){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mv(u))throw Error(t(200));return gD(c,u,null,g)},Oi.createRoot=function(c,u){if(!mv(c))throw Error(t(299));var g=!1,B="",L=_2;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(B=u.identifierPrefix),u.onRecoverableError!==void 0&&(L=u.onRecoverableError)),u=uv(c,1,!1,null,null,g,!1,B,L),c[js]=u.current,Uc(c.nodeType===8?c.parentNode:c),new hv(u)},Oi.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(t(188)):(c=Object.keys(c).join(","),Error(t(268,c)));return c=or(u),c=c===null?null:c.stateNode,c},Oi.flushSync=function(c){return Kd(c)},Oi.hydrate=function(c,u,g){if(!vp(u))throw Error(t(200));return wp(null,c,u,!0,g)},Oi.hydrateRoot=function(c,u,g){if(!mv(c))throw Error(t(405));var B=g!=null&&g.hydratedSources||null,L=!1,H="",se=_2;if(g!=null&&(g.unstable_strictMode===!0&&(L=!0),g.identifierPrefix!==void 0&&(H=g.identifierPrefix),g.onRecoverableError!==void 0&&(se=g.onRecoverableError)),u=S2(u,null,c,1,g??null,L,!1,H,se),c[js]=u.current,Uc(c),B)for(c=0;c<B.length;c++)g=B[c],L=g._getVersion,L=L(g._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[g,L]:u.mutableSourceEagerHydrationData.push(g,L);return new xp(u)},Oi.render=function(c,u,g){if(!vp(u))throw Error(t(200));return wp(null,c,u,!1,g)},Oi.unmountComponentAtNode=function(c){if(!vp(c))throw Error(t(40));return c._reactRootContainer?(Kd(function(){wp(null,null,c,!1,function(){c._reactRootContainer=null,c[js]=null})}),!0):!1},Oi.unstable_batchedUpdates=iv,Oi.unstable_renderSubtreeIntoContainer=function(c,u,g,B){if(!vp(g))throw Error(t(200));if(c==null||c._reactInternals===void 0)throw Error(t(38));return wp(c,u,g,!1,B)},Oi.version="18.3.1-next-f1338f8080-20240426",Oi}var R2;function oC(){if(R2)return xv.exports;R2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),xv.exports=kD(),xv.exports}var T2;function DD(){if(T2)return bp;T2=1;var e=oC();return bp.createRoot=e.createRoot,bp.hydrateRoot=e.hydrateRoot,bp}var lC=DD(),y=_0();const Ve=iC(y),vm=BD({__proto__:null,default:Ve},[y]);var Hf=oC();const cC=iC(Hf);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},rm.apply(this,arguments)}var YA;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(YA||(YA={}));const M2="popstate";function UD(e){e===void 0&&(e={});function r(a,s){let{pathname:i,search:o,hash:l}=a.location;return $w("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(a,s){return typeof s=="string"?s:Hg(s)}return ID(r,t,null,e)}function Yn(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function AC(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function LD(){return Math.random().toString(36).substr(2,8)}function O2(e,r){return{usr:e.state,key:e.key,idx:r}}function $w(e,r,t,a){return t===void 0&&(t=null),rm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?$f(r):r,{state:t,key:r&&r.key||a||LD()})}function Hg(e){let{pathname:r="/",search:t="",hash:a=""}=e;return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function $f(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substr(t),e=e.substr(0,t));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function ID(e,r,t,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l=YA.Pop,A=null,d=f();d==null&&(d=0,o.replaceState(rm({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=YA.Pop;let w=f(),j=w==null?null:w-d;d=w,A&&A({action:l,location:x.location,delta:j})}function m(w,j){l=YA.Push;let N=$w(x.location,w,j);d=f()+1;let S=O2(N,d),F=x.createHref(N);try{o.pushState(S,"",F)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(F)}i&&A&&A({action:l,location:x.location,delta:1})}function p(w,j){l=YA.Replace;let N=$w(x.location,w,j);d=f();let S=O2(N,d),F=x.createHref(N);o.replaceState(S,"",F),i&&A&&A({action:l,location:x.location,delta:0})}function v(w){let j=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof w=="string"?w:Hg(w);return N=N.replace(/ $/,"%20"),Yn(j,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,j)}let x={get action(){return l},get location(){return e(s,o)},listen(w){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener(M2,h),A=w,()=>{s.removeEventListener(M2,h),A=null}},createHref(w){return r(s,w)},createURL:v,encodeLocation(w){let j=v(w);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:m,replace:p,go(w){return o.go(w)}};return x}var H2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(H2||(H2={}));function PD(e,r,t){return t===void 0&&(t="/"),QD(e,r,t)}function QD(e,r,t,a){let s=typeof r=="string"?$f(r):r,i=fy(s.pathname||"/",t);if(i==null)return null;let o=dC(e);RD(o);let l=null;for(let A=0;l==null&&A<o.length;++A){let d=YD(i);l=qD(o[A],d)}return l}function dC(e,r,t,a){r===void 0&&(r=[]),t===void 0&&(t=[]),a===void 0&&(a="");let s=(i,o,l)=>{let A={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};A.relativePath.startsWith("/")&&(Yn(A.relativePath.startsWith(a),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(a.length));let d=rd([a,A.relativePath]),f=t.concat(A);i.children&&i.children.length>0&&(Yn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),dC(i.children,r,f,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:VD(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let A of uC(i.path))s(i,o,A)}),r}function uC(e){let r=e.split("/");if(r.length===0)return[];let[t,...a]=r,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=uC(a.join("/")),l=[];return l.push(...o.map(A=>A===""?i:[i,A].join("/"))),s&&l.push(...o),l.map(A=>e.startsWith("/")&&A===""?"/":A)}function RD(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:zD(r.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}const TD=/^:[\w-]+$/,MD=3,OD=2,HD=1,$D=10,KD=-2,$2=e=>e==="*";function VD(e,r){let t=e.split("/"),a=t.length;return t.some($2)&&(a+=KD),r&&(a+=OD),t.filter(s=>!$2(s)).reduce((s,i)=>s+(TD.test(i)?MD:i===""?HD:$D),a)}function zD(e,r){return e.length===r.length&&e.slice(0,-1).every((a,s)=>a===r[s])?e[e.length-1]-r[r.length-1]:0}function qD(e,r,t){let{routesMeta:a}=e,s={},i="/",o=[];for(let l=0;l<a.length;++l){let A=a[l],d=l===a.length-1,f=i==="/"?r:r.slice(i.length)||"/",h=WD({path:A.relativePath,caseSensitive:A.caseSensitive,end:d},f),m=A.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:rd([i,h.pathname]),pathnameBase:eU(rd([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=rd([i,h.pathnameBase]))}return o}function WD(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,a]=GD(e.path,e.caseSensitive,e.end),s=r.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((d,f,h)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let x=l[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function GD(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=!0),AC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,A)=>(a.push({paramName:l,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function YD(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return AC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function fy(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,a=e.charAt(t);return a&&a!=="/"?null:e.slice(t)||"/"}function XD(e,r){r===void 0&&(r="/");let{pathname:t,search:a="",hash:s=""}=typeof e=="string"?$f(e):e;return{pathname:t?t.startsWith("/")?t:JD(t,r):r,search:tU(a),hash:rU(s)}}function JD(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function yv(e,r,t,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZD(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function hy(e,r){let t=ZD(e);return r?t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase):t.map(a=>a.pathnameBase)}function my(e,r,t,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=$f(e):(s=rm({},e),Yn(!s.pathname||!s.pathname.includes("?"),yv("?","pathname","search",s)),Yn(!s.pathname||!s.pathname.includes("#"),yv("#","pathname","hash",s)),Yn(!s.search||!s.search.includes("#"),yv("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=t;else{let h=r.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?r[h]:"/"}let A=XD(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&t.endsWith("/");return!A.pathname.endsWith("/")&&(d||f)&&(A.pathname+="/"),A}const rd=e=>e.join("/").replace(/\/\/+/g,"/"),eU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fC=["post","put","patch","delete"];new Set(fC);const nU=["get",...fC];new Set(nU);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},am.apply(this,arguments)}const py=y.createContext(null),sU=y.createContext(null),md=y.createContext(null),F0=y.createContext(null),ic=y.createContext({outlet:null,matches:[],isDataRoute:!1}),hC=y.createContext(null);function iU(e,r){let{relative:t}=r===void 0?{}:r;Kf()||Yn(!1);let{basename:a,navigator:s}=y.useContext(md),{hash:i,pathname:o,search:l}=pC(e,{relative:t}),A=o;return a!=="/"&&(A=o==="/"?a:rd([a,o])),s.createHref({pathname:A,search:l,hash:i})}function Kf(){return y.useContext(F0)!=null}function Jn(){return Kf()||Yn(!1),y.useContext(F0).location}function mC(e){y.useContext(md).static||y.useLayoutEffect(e)}function cs(){let{isDataRoute:e}=y.useContext(ic);return e?yU():oU()}function oU(){Kf()||Yn(!1);let e=y.useContext(py),{basename:r,future:t,navigator:a}=y.useContext(md),{matches:s}=y.useContext(ic),{pathname:i}=Jn(),o=JSON.stringify(hy(s,t.v7_relativeSplatPath)),l=y.useRef(!1);return mC(()=>{l.current=!0}),y.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){a.go(d);return}let h=my(d,JSON.parse(o),i,f.relative==="path");e==null&&r!=="/"&&(h.pathname=h.pathname==="/"?r:rd([r,h.pathname])),(f.replace?a.replace:a.push)(h,f.state,f)},[r,a,o,i,e])}const lU=y.createContext(null);function cU(e){let r=y.useContext(ic).outlet;return r&&y.createElement(lU.Provider,{value:e},r)}function pl(){let{matches:e}=y.useContext(ic),r=e[e.length-1];return r?r.params:{}}function pC(e,r){let{relative:t}=r===void 0?{}:r,{future:a}=y.useContext(md),{matches:s}=y.useContext(ic),{pathname:i}=Jn(),o=JSON.stringify(hy(s,a.v7_relativeSplatPath));return y.useMemo(()=>my(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function AU(e,r){return dU(e,r)}function dU(e,r,t,a){Kf()||Yn(!1);let{navigator:s}=y.useContext(md),{matches:i}=y.useContext(ic),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let A=o?o.pathnameBase:"/";o&&o.route;let d=Jn(),f;if(r){var h;let w=typeof r=="string"?$f(r):r;A==="/"||(h=w.pathname)!=null&&h.startsWith(A)||Yn(!1),f=w}else f=d;let m=f.pathname||"/",p=m;if(A!=="/"){let w=A.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=PD(e,{pathname:p}),x=pU(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:rd([A,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?A:rd([A,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,t,a);return r&&x?y.createElement(F0.Provider,{value:{location:am({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:YA.Pop}},x):x}function uU(){let e=wU(),r=aU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},r),t?y.createElement("pre",{style:s},t):null,null)}const fU=y.createElement(uU,null);class hU extends y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?y.createElement(ic.Provider,{value:this.props.routeContext},y.createElement(hC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mU(e){let{routeContext:r,match:t,children:a}=e,s=y.useContext(py);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(ic.Provider,{value:r},a)}function pU(e,r,t,a){var s;if(r===void 0&&(r=[]),t===void 0&&(t=null),a===void 0&&(a=null),e==null){var i;if(!t)return null;if(t.errors)e=t.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let o=e,l=(s=t)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||Yn(!1),o=o.slice(0,Math.min(o.length,f+1))}let A=!1,d=-1;if(t&&a&&a.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:p}=t,v=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){A=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let p,v=!1,x=null,w=null;t&&(p=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||fU,A&&(d<0&&m===0?(bU("route-fallback"),v=!0,w=null):d===m&&(v=!0,w=h.route.hydrateFallbackElement||null)));let j=r.concat(o.slice(0,m+1)),N=()=>{let S;return p?S=x:v?S=w:h.route.Component?S=y.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,y.createElement(mU,{match:h,routeContext:{outlet:f,matches:j,isDataRoute:t!=null},children:S})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?y.createElement(hU,{location:t.location,revalidation:t.revalidation,component:x,error:p,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):N()},null)}var gC=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(gC||{}),xC=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(xC||{});function gU(e){let r=y.useContext(py);return r||Yn(!1),r}function xU(e){let r=y.useContext(sU);return r||Yn(!1),r}function vU(e){let r=y.useContext(ic);return r||Yn(!1),r}function vC(e){let r=vU(),t=r.matches[r.matches.length-1];return t.route.id||Yn(!1),t.route.id}function wU(){var e;let r=y.useContext(hC),t=xU(),a=vC();return r!==void 0?r:(e=t.errors)==null?void 0:e[a]}function yU(){let{router:e}=gU(gC.UseNavigateStable),r=vC(xC.UseNavigateStable),t=y.useRef(!1);return mC(()=>{t.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,am({fromRouteId:r},i)))},[e,r])}const K2={};function bU(e,r,t){K2[e]||(K2[e]=!0)}function jU(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wa(e){let{to:r,replace:t,state:a,relative:s}=e;Kf()||Yn(!1);let{future:i,static:o}=y.useContext(md),{matches:l}=y.useContext(ic),{pathname:A}=Jn(),d=cs(),f=my(r,hy(l,i.v7_relativeSplatPath),A,s==="path"),h=JSON.stringify(f);return y.useEffect(()=>d(JSON.parse(h),{replace:t,state:a,relative:s}),[d,h,s,t,a]),null}function wm(e){return cU(e.context)}function Vt(e){Yn(!1)}function NU(e){let{basename:r="/",children:t=null,location:a,navigationType:s=YA.Pop,navigator:i,static:o=!1,future:l}=e;Kf()&&Yn(!1);let A=r.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:A,navigator:i,static:o,future:am({v7_relativeSplatPath:!1},l)}),[A,l,i,o]);typeof a=="string"&&(a=$f(a));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:v="default"}=a,x=y.useMemo(()=>{let w=fy(f,A);return w==null?null:{location:{pathname:w,search:h,hash:m,state:p,key:v},navigationType:s}},[A,f,h,m,p,v,s]);return x==null?null:y.createElement(md.Provider,{value:d},y.createElement(F0.Provider,{children:t,value:x}))}function BU(e){let{children:r,location:t}=e;return AU(Kw(r),t)}new Promise(()=>{});function Kw(e,r){r===void 0&&(r=[]);let t=[];return y.Children.forEach(e,(a,s)=>{if(!y.isValidElement(a))return;let i=[...r,s];if(a.type===y.Fragment){t.push.apply(t,Kw(a.props.children,i));return}a.type!==Vt&&Yn(!1),!a.props.index||!a.props.children||Yn(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Kw(a.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Vw.apply(this,arguments)}function CU(e,r){if(e==null)return{};var t={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(t[s]=e[s]);return t}function SU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EU(e,r){return e.button===0&&(!r||r==="_self")&&!SU(e)}function zw(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let a=e[t];return r.concat(Array.isArray(a)?a.map(s=>[t,s]):[[t,a]])},[]))}function _U(e,r){let t=zw(e);return r&&r.forEach((a,s)=>{t.has(s)||r.getAll(s).forEach(i=>{t.append(s,i)})}),t}const FU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kU="6";try{window.__reactRouterVersion=kU}catch{}const DU="startTransition",V2=vm[DU];function UU(e){let{basename:r,children:t,future:a,window:s}=e,i=y.useRef();i.current==null&&(i.current=UD({window:s,v5Compat:!0}));let o=i.current,[l,A]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},f=y.useCallback(h=>{d&&V2?V2(()=>A(h)):A(h)},[A,d]);return y.useLayoutEffect(()=>o.listen(f),[o,f]),y.useEffect(()=>jU(a),[a]),y.createElement(NU,{basename:r,children:t,location:l.location,navigationType:l.action,navigator:o,future:a})}const LU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vr=y.forwardRef(function(r,t){let{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:A,to:d,preventScrollReset:f,viewTransition:h}=r,m=CU(r,FU),{basename:p}=y.useContext(md),v,x=!1;if(typeof d=="string"&&IU.test(d)&&(v=d,LU))try{let S=new URL(window.location.href),F=d.startsWith("//")?new URL(S.protocol+d):new URL(d),T=fy(F.pathname,p);F.origin===S.origin&&T!=null?d=T+F.search+F.hash:x=!0}catch{}let w=iU(d,{relative:s}),j=PU(d,{replace:o,state:l,target:A,preventScrollReset:f,relative:s,viewTransition:h});function N(S){a&&a(S),S.defaultPrevented||j(S)}return y.createElement("a",Vw({},m,{href:v||w,onClick:x||i?a:N,ref:t,target:A}))});var z2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(z2||(z2={}));var q2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(q2||(q2={}));function PU(e,r){let{target:t,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,A=cs(),d=Jn(),f=pC(e,{relative:o});return y.useCallback(h=>{if(EU(h,t)){h.preventDefault();let m=a!==void 0?a:Hg(d)===Hg(f);A(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,A,f,a,s,t,e,i,o,l])}function QU(e){let r=y.useRef(zw(e)),t=y.useRef(!1),a=Jn(),s=y.useMemo(()=>_U(a.search,t.current?null:r.current),[a.search]),i=cs(),o=y.useCallback((l,A)=>{const d=zw(typeof l=="function"?l(s):l);t.current=!0,i("?"+d,A)},[i,s]);return[s,o]}function wC(e,r){return function(){return e.apply(r,arguments)}}const{toString:RU}=Object.prototype,{getPrototypeOf:gy}=Object,{iterator:k0,toStringTag:yC}=Symbol,D0=(e=>r=>{const t=RU.call(r);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),gl=e=>(e=e.toLowerCase(),r=>D0(r)===e),U0=e=>r=>typeof r===e,{isArray:Vf}=Array,Uf=U0("undefined");function ym(e){return e!==null&&!Uf(e)&&e.constructor!==null&&!Uf(e.constructor)&&$i(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bC=gl("ArrayBuffer");function TU(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&bC(e.buffer),r}const MU=U0("string"),$i=U0("function"),jC=U0("number"),bm=e=>e!==null&&typeof e=="object",OU=e=>e===!0||e===!1,pg=e=>{if(D0(e)!=="object")return!1;const r=gy(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(yC in e)&&!(k0 in e)},HU=e=>{if(!bm(e)||ym(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},$U=gl("Date"),KU=gl("File"),VU=gl("Blob"),zU=gl("FileList"),qU=e=>bm(e)&&$i(e.pipe),WU=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||$i(e.append)&&((r=D0(e))==="formdata"||r==="object"&&$i(e.toString)&&e.toString()==="[object FormData]"))},GU=gl("URLSearchParams"),[YU,XU,JU,ZU]=["ReadableStream","Request","Response","Headers"].map(gl),e6=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jm(e,r,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),Vf(e))for(a=0,s=e.length;a<s;a++)r.call(null,e[a],a,e);else{if(ym(e))return;const i=t?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],r.call(null,e[l],l,e)}}function NC(e,r){if(ym(e))return null;r=r.toLowerCase();const t=Object.keys(e);let a=t.length,s;for(;a-- >0;)if(s=t[a],r===s.toLowerCase())return s;return null}const tu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BC=e=>!Uf(e)&&e!==tu;function qw(){const{caseless:e,skipUndefined:r}=BC(this)&&this||{},t={},a=(s,i)=>{const o=e&&NC(t,i)||i;pg(t[o])&&pg(s)?t[o]=qw(t[o],s):pg(s)?t[o]=qw({},s):Vf(s)?t[o]=s.slice():(!r||!Uf(s))&&(t[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&jm(arguments[s],a);return t}const t6=(e,r,t,{allOwnKeys:a}={})=>(jm(r,(s,i)=>{t&&$i(s)?e[i]=wC(s,t):e[i]=s},{allOwnKeys:a}),e),r6=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),a6=(e,r,t,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),t&&Object.assign(e.prototype,t)},n6=(e,r,t,a)=>{let s,i,o;const l={};if(r=r||{},e==null)return r;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!a||a(o,e,r))&&!l[o]&&(r[o]=e[o],l[o]=!0);e=t!==!1&&gy(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r},s6=(e,r,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=r.length;const a=e.indexOf(r,t);return a!==-1&&a===t},i6=e=>{if(!e)return null;if(Vf(e))return e;let r=e.length;if(!jC(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=e[r];return t},o6=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&gy(Uint8Array)),l6=(e,r)=>{const a=(e&&e[k0]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;r.call(e,i[0],i[1])}},c6=(e,r)=>{let t;const a=[];for(;(t=e.exec(r))!==null;)a.push(t);return a},A6=gl("HTMLFormElement"),d6=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,a,s){return a.toUpperCase()+s}),W2=(({hasOwnProperty:e})=>(r,t)=>e.call(r,t))(Object.prototype),u6=gl("RegExp"),CC=(e,r)=>{const t=Object.getOwnPropertyDescriptors(e),a={};jm(t,(s,i)=>{let o;(o=r(s,i,e))!==!1&&(a[i]=o||s)}),Object.defineProperties(e,a)},f6=e=>{CC(e,(r,t)=>{if($i(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const a=e[t];if($i(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},h6=(e,r)=>{const t={},a=s=>{s.forEach(i=>{t[i]=!0})};return Vf(e)?a(e):a(String(e).split(r)),t},m6=()=>{},p6=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function g6(e){return!!(e&&$i(e.append)&&e[yC]==="FormData"&&e[k0])}const x6=e=>{const r=new Array(10),t=(a,s)=>{if(bm(a)){if(r.indexOf(a)>=0)return;if(ym(a))return a;if(!("toJSON"in a)){r[s]=a;const i=Vf(a)?[]:{};return jm(a,(o,l)=>{const A=t(o,s+1);!Uf(A)&&(i[l]=A)}),r[s]=void 0,i}}return a};return t(e,0)},v6=gl("AsyncFunction"),w6=e=>e&&(bm(e)||$i(e))&&$i(e.then)&&$i(e.catch),SC=((e,r)=>e?setImmediate:r?((t,a)=>(tu.addEventListener("message",({source:s,data:i})=>{s===tu&&i===t&&a.length&&a.shift()()},!1),s=>{a.push(s),tu.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",$i(tu.postMessage)),y6=typeof queueMicrotask<"u"?queueMicrotask.bind(tu):typeof process<"u"&&process.nextTick||SC,b6=e=>e!=null&&$i(e[k0]),Oe={isArray:Vf,isArrayBuffer:bC,isBuffer:ym,isFormData:WU,isArrayBufferView:TU,isString:MU,isNumber:jC,isBoolean:OU,isObject:bm,isPlainObject:pg,isEmptyObject:HU,isReadableStream:YU,isRequest:XU,isResponse:JU,isHeaders:ZU,isUndefined:Uf,isDate:$U,isFile:KU,isBlob:VU,isRegExp:u6,isFunction:$i,isStream:qU,isURLSearchParams:GU,isTypedArray:o6,isFileList:zU,forEach:jm,merge:qw,extend:t6,trim:e6,stripBOM:r6,inherits:a6,toFlatObject:n6,kindOf:D0,kindOfTest:gl,endsWith:s6,toArray:i6,forEachEntry:l6,matchAll:c6,isHTMLForm:A6,hasOwnProperty:W2,hasOwnProp:W2,reduceDescriptors:CC,freezeMethods:f6,toObjectSet:h6,toCamelCase:d6,noop:m6,toFiniteNumber:p6,findKey:NC,global:tu,isContextDefined:BC,isSpecCompliantForm:g6,toJSONObject:x6,isAsyncFn:v6,isThenable:w6,setImmediate:SC,asap:y6,isIterable:b6};function Rr(e,r,t,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Oe.inherits(Rr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const EC=Rr.prototype,_C={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_C[e]={value:e}});Object.defineProperties(Rr,_C);Object.defineProperty(EC,"isAxiosError",{value:!0});Rr.from=(e,r,t,a,s,i)=>{const o=Object.create(EC);Oe.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",A=r==null&&e?e.code:r;return Rr.call(o,l,A,t,a,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const j6=null;function Ww(e){return Oe.isPlainObject(e)||Oe.isArray(e)}function FC(e){return Oe.endsWith(e,"[]")?e.slice(0,-2):e}function G2(e,r,t){return e?e.concat(r).map(function(s,i){return s=FC(s),!t&&i?"["+s+"]":s}).join(t?".":""):r}function N6(e){return Oe.isArray(e)&&!e.some(Ww)}const B6=Oe.toFlatObject(Oe,{},null,function(r){return/^is[A-Z]/.test(r)});function L0(e,r,t){if(!Oe.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,t=Oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!Oe.isUndefined(w[x])});const a=t.metaTokens,s=t.visitor||f,i=t.dots,o=t.indexes,A=(t.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(r);if(!Oe.isFunction(s))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(Oe.isDate(v))return v.toISOString();if(Oe.isBoolean(v))return v.toString();if(!A&&Oe.isBlob(v))throw new Rr("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(v)||Oe.isTypedArray(v)?A&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,x,w){let j=v;if(v&&!w&&typeof v=="object"){if(Oe.endsWith(x,"{}"))x=a?x:x.slice(0,-2),v=JSON.stringify(v);else if(Oe.isArray(v)&&N6(v)||(Oe.isFileList(v)||Oe.endsWith(x,"[]"))&&(j=Oe.toArray(v)))return x=FC(x),j.forEach(function(S,F){!(Oe.isUndefined(S)||S===null)&&r.append(o===!0?G2([x],F,i):o===null?x:x+"[]",d(S))}),!1}return Ww(v)?!0:(r.append(G2(w,x,i),d(v)),!1)}const h=[],m=Object.assign(B6,{defaultVisitor:f,convertValue:d,isVisitable:Ww});function p(v,x){if(!Oe.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(v),Oe.forEach(v,function(j,N){(!(Oe.isUndefined(j)||j===null)&&s.call(r,j,Oe.isString(N)?N.trim():N,x,m))===!0&&p(j,x?x.concat(N):[N])}),h.pop()}}if(!Oe.isObject(e))throw new TypeError("data must be an object");return p(e),r}function Y2(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function xy(e,r){this._pairs=[],e&&L0(e,this,r)}const kC=xy.prototype;kC.append=function(r,t){this._pairs.push([r,t])};kC.toString=function(r){const t=r?function(a){return r.call(this,a,Y2)}:Y2;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function C6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function DC(e,r,t){if(!r)return e;const a=t&&t.encode||C6;Oe.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(r,t):i=Oe.isURLSearchParams(r)?r.toString():new xy(r,t).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class X2{constructor(){this.handlers=[]}use(r,t,a){return this.handlers.push({fulfilled:r,rejected:t,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Oe.forEach(this.handlers,function(a){a!==null&&r(a)})}}const UC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},S6=typeof URLSearchParams<"u"?URLSearchParams:xy,E6=typeof FormData<"u"?FormData:null,_6=typeof Blob<"u"?Blob:null,F6={isBrowser:!0,classes:{URLSearchParams:S6,FormData:E6,Blob:_6},protocols:["http","https","file","blob","url","data"]},vy=typeof window<"u"&&typeof document<"u",Gw=typeof navigator=="object"&&navigator||void 0,k6=vy&&(!Gw||["ReactNative","NativeScript","NS"].indexOf(Gw.product)<0),D6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",U6=vy&&window.location.href||"http://localhost",L6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vy,hasStandardBrowserEnv:k6,hasStandardBrowserWebWorkerEnv:D6,navigator:Gw,origin:U6},Symbol.toStringTag,{value:"Module"})),li={...L6,...F6};function I6(e,r){return L0(e,new li.classes.URLSearchParams,{visitor:function(t,a,s,i){return li.isNode&&Oe.isBuffer(t)?(this.append(a,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function P6(e){return Oe.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Q6(e){const r={},t=Object.keys(e);let a;const s=t.length;let i;for(a=0;a<s;a++)i=t[a],r[i]=e[i];return r}function LC(e){function r(t,a,s,i){let o=t[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),A=i>=t.length;return o=!o&&Oe.isArray(s)?s.length:o,A?(Oe.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!l):((!s[o]||!Oe.isObject(s[o]))&&(s[o]=[]),r(t,a,s[o],i)&&Oe.isArray(s[o])&&(s[o]=Q6(s[o])),!l)}if(Oe.isFormData(e)&&Oe.isFunction(e.entries)){const t={};return Oe.forEachEntry(e,(a,s)=>{r(P6(a),s,t,0)}),t}return null}function R6(e,r,t){if(Oe.isString(e))try{return(r||JSON.parse)(e),Oe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(t||JSON.stringify)(e)}const Nm={transitional:UC,adapter:["xhr","http","fetch"],transformRequest:[function(r,t){const a=t.getContentType()||"",s=a.indexOf("application/json")>-1,i=Oe.isObject(r);if(i&&Oe.isHTMLForm(r)&&(r=new FormData(r)),Oe.isFormData(r))return s?JSON.stringify(LC(r)):r;if(Oe.isArrayBuffer(r)||Oe.isBuffer(r)||Oe.isStream(r)||Oe.isFile(r)||Oe.isBlob(r)||Oe.isReadableStream(r))return r;if(Oe.isArrayBufferView(r))return r.buffer;if(Oe.isURLSearchParams(r))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return I6(r,this.formSerializer).toString();if((l=Oe.isFileList(r))||a.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return L0(l?{"files[]":r}:r,A&&new A,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),R6(r)):r}],transformResponse:[function(r){const t=this.transitional||Nm.transitional,a=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Oe.isResponse(r)||Oe.isReadableStream(r))return r;if(r&&Oe.isString(r)&&(a&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Rr.from(l,Rr.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:li.classes.FormData,Blob:li.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],e=>{Nm.headers[e]={}});const T6=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),M6=e=>{const r={};let t,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!t||r[t]&&T6[t])&&(t==="set-cookie"?r[t]?r[t].push(a):r[t]=[a]:r[t]=r[t]?r[t]+", "+a:a)}),r},J2=Symbol("internals");function Sh(e){return e&&String(e).trim().toLowerCase()}function gg(e){return e===!1||e==null?e:Oe.isArray(e)?e.map(gg):String(e)}function O6(e){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=t.exec(e);)r[a[1]]=a[2];return r}const H6=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bv(e,r,t,a,s){if(Oe.isFunction(a))return a.call(this,r,t);if(s&&(r=t),!!Oe.isString(r)){if(Oe.isString(a))return r.indexOf(a)!==-1;if(Oe.isRegExp(a))return a.test(r)}}function $6(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,t,a)=>t.toUpperCase()+a)}function K6(e,r){const t=Oe.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+t,{value:function(s,i,o){return this[a].call(this,r,s,i,o)},configurable:!0})})}let Ki=class{constructor(r){r&&this.set(r)}set(r,t,a){const s=this;function i(l,A,d){const f=Sh(A);if(!f)throw new Error("header name must be a non-empty string");const h=Oe.findKey(s,f);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||A]=gg(l))}const o=(l,A)=>Oe.forEach(l,(d,f)=>i(d,f,A));if(Oe.isPlainObject(r)||r instanceof this.constructor)o(r,t);else if(Oe.isString(r)&&(r=r.trim())&&!H6(r))o(M6(r),t);else if(Oe.isObject(r)&&Oe.isIterable(r)){let l={},A,d;for(const f of r){if(!Oe.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(A=l[d])?Oe.isArray(A)?[...A,f[1]]:[A,f[1]]:f[1]}o(l,t)}else r!=null&&i(t,r,a);return this}get(r,t){if(r=Sh(r),r){const a=Oe.findKey(this,r);if(a){const s=this[a];if(!t)return s;if(t===!0)return O6(s);if(Oe.isFunction(t))return t.call(this,s,a);if(Oe.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,t){if(r=Sh(r),r){const a=Oe.findKey(this,r);return!!(a&&this[a]!==void 0&&(!t||bv(this,this[a],a,t)))}return!1}delete(r,t){const a=this;let s=!1;function i(o){if(o=Sh(o),o){const l=Oe.findKey(a,o);l&&(!t||bv(a,a[l],l,t))&&(delete a[l],s=!0)}}return Oe.isArray(r)?r.forEach(i):i(r),s}clear(r){const t=Object.keys(this);let a=t.length,s=!1;for(;a--;){const i=t[a];(!r||bv(this,this[i],i,r,!0))&&(delete this[i],s=!0)}return s}normalize(r){const t=this,a={};return Oe.forEach(this,(s,i)=>{const o=Oe.findKey(a,i);if(o){t[o]=gg(s),delete t[i];return}const l=r?$6(i):String(i).trim();l!==i&&delete t[i],t[l]=gg(s),a[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const t=Object.create(null);return Oe.forEach(this,(a,s)=>{a!=null&&a!==!1&&(t[s]=r&&Oe.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,t])=>r+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...t){const a=new this(r);return t.forEach(s=>a.set(s)),a}static accessor(r){const a=(this[J2]=this[J2]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Sh(o);a[l]||(K6(s,o),a[l]=!0)}return Oe.isArray(r)?r.forEach(i):i(r),this}};Ki.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(Ki.prototype,({value:e},r)=>{let t=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[t]=a}}});Oe.freezeMethods(Ki);function jv(e,r){const t=this||Nm,a=r||t,s=Ki.from(a.headers);let i=a.data;return Oe.forEach(e,function(l){i=l.call(t,i,s.normalize(),r?r.status:void 0)}),s.normalize(),i}function IC(e){return!!(e&&e.__CANCEL__)}function zf(e,r,t){Rr.call(this,e??"canceled",Rr.ERR_CANCELED,r,t),this.name="CanceledError"}Oe.inherits(zf,Rr,{__CANCEL__:!0});function PC(e,r,t){const a=t.config.validateStatus;!t.status||!a||a(t.status)?e(t):r(new Rr("Request failed with status code "+t.status,[Rr.ERR_BAD_REQUEST,Rr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function V6(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function z6(e,r){e=e||10;const t=new Array(e),a=new Array(e);let s=0,i=0,o;return r=r!==void 0?r:1e3,function(A){const d=Date.now(),f=a[i];o||(o=d),t[s]=A,a[s]=d;let h=i,m=0;for(;h!==s;)m+=t[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<r)return;const p=f&&d-f;return p?Math.round(m*1e3/p):void 0}}function q6(e,r){let t=0,a=1e3/r,s,i;const o=(d,f=Date.now())=>{t=f,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-t;h>=a?o(d,f):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},a-h)))},()=>s&&o(s)]}const $g=(e,r,t=3)=>{let a=0;const s=z6(50,250);return q6(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,A=o-a,d=s(A),f=o<=l;a=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:A,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};e(h)},t)},Z2=(e,r)=>{const t=e!=null;return[a=>r[0]({lengthComputable:t,total:e,loaded:a}),r[1]]},ej=e=>(...r)=>Oe.asap(()=>e(...r)),W6=li.hasStandardBrowserEnv?((e,r)=>t=>(t=new URL(t,li.origin),e.protocol===t.protocol&&e.host===t.host&&(r||e.port===t.port)))(new URL(li.origin),li.navigator&&/(msie|trident)/i.test(li.navigator.userAgent)):()=>!0,G6=li.hasStandardBrowserEnv?{write(e,r,t,a,s,i){const o=[e+"="+encodeURIComponent(r)];Oe.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Oe.isString(a)&&o.push("path="+a),Oe.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Y6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function X6(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function QC(e,r,t){let a=!Y6(r);return e&&(a||t==!1)?X6(e,r):r}const tj=e=>e instanceof Ki?{...e}:e;function du(e,r){r=r||{};const t={};function a(d,f,h,m){return Oe.isPlainObject(d)&&Oe.isPlainObject(f)?Oe.merge.call({caseless:m},d,f):Oe.isPlainObject(f)?Oe.merge({},f):Oe.isArray(f)?f.slice():f}function s(d,f,h,m){if(Oe.isUndefined(f)){if(!Oe.isUndefined(d))return a(void 0,d,h,m)}else return a(d,f,h,m)}function i(d,f){if(!Oe.isUndefined(f))return a(void 0,f)}function o(d,f){if(Oe.isUndefined(f)){if(!Oe.isUndefined(d))return a(void 0,d)}else return a(void 0,f)}function l(d,f,h){if(h in r)return a(d,f);if(h in e)return a(void 0,d)}const A={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,h)=>s(tj(d),tj(f),h,!0)};return Oe.forEach(Object.keys({...e,...r}),function(f){const h=A[f]||s,m=h(e[f],r[f],f);Oe.isUndefined(m)&&h!==l||(t[f]=m)}),t}const RC=e=>{const r=du({},e);let{data:t,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=r;if(r.headers=o=Ki.from(o),r.url=DC(QC(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Oe.isFormData(t)){if(li.hasStandardBrowserEnv||li.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Oe.isFunction(t.getHeaders)){const A=t.getHeaders(),d=["content-type","content-length"];Object.entries(A).forEach(([f,h])=>{d.includes(f.toLowerCase())&&o.set(f,h)})}}if(li.hasStandardBrowserEnv&&(a&&Oe.isFunction(a)&&(a=a(r)),a||a!==!1&&W6(r.url))){const A=s&&i&&G6.read(i);A&&o.set(s,A)}return r},J6=typeof XMLHttpRequest<"u",Z6=J6&&function(e){return new Promise(function(t,a){const s=RC(e);let i=s.data;const o=Ki.from(s.headers).normalize();let{responseType:l,onUploadProgress:A,onDownloadProgress:d}=s,f,h,m,p,v;function x(){p&&p(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function j(){if(!w)return;const S=Ki.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:S,config:e,request:w};PC(function(k){t(k),x()},function(k){a(k),x()},T),w=null}"onloadend"in w?w.onloadend=j:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(j)},w.onabort=function(){w&&(a(new Rr("Request aborted",Rr.ECONNABORTED,e,w)),w=null)},w.onerror=function(F){const T=F&&F.message?F.message:"Network Error",D=new Rr(T,Rr.ERR_NETWORK,e,w);D.event=F||null,a(D),w=null},w.ontimeout=function(){let F=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||UC;s.timeoutErrorMessage&&(F=s.timeoutErrorMessage),a(new Rr(F,T.clarifyTimeoutError?Rr.ETIMEDOUT:Rr.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&Oe.forEach(o.toJSON(),function(F,T){w.setRequestHeader(T,F)}),Oe.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),l&&l!=="json"&&(w.responseType=s.responseType),d&&([m,v]=$g(d,!0),w.addEventListener("progress",m)),A&&w.upload&&([h,p]=$g(A),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(f=S=>{w&&(a(!S||S.type?new zf(null,e,w):S),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const N=V6(s.url);if(N&&li.protocols.indexOf(N)===-1){a(new Rr("Unsupported protocol "+N+":",Rr.ERR_BAD_REQUEST,e));return}w.send(i||null)})},eL=(e,r)=>{const{length:t}=e=e?e.filter(Boolean):[];if(r||t){let a=new AbortController,s;const i=function(d){if(!s){s=!0,l();const f=d instanceof Error?d:this.reason;a.abort(f instanceof Rr?f:new zf(f instanceof Error?f.message:f))}};let o=r&&setTimeout(()=>{o=null,i(new Rr(`timeout ${r} of ms exceeded`,Rr.ETIMEDOUT))},r);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:A}=a;return A.unsubscribe=()=>Oe.asap(l),A}},tL=function*(e,r){let t=e.byteLength;if(t<r){yield e;return}let a=0,s;for(;a<t;)s=a+r,yield e.slice(a,s),a=s},rL=async function*(e,r){for await(const t of aL(e))yield*tL(t,r)},aL=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:t,value:a}=await r.read();if(t)break;yield a}}finally{await r.cancel()}},rj=(e,r,t,a)=>{const s=rL(e,r);let i=0,o,l=A=>{o||(o=!0,a&&a(A))};return new ReadableStream({async pull(A){try{const{done:d,value:f}=await s.next();if(d){l(),A.close();return}let h=f.byteLength;if(t){let m=i+=h;t(m)}A.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(A){return l(A),s.return()}},{highWaterMark:2})},aj=64*1024,{isFunction:jp}=Oe,nL=(({Request:e,Response:r})=>({Request:e,Response:r}))(Oe.global),{ReadableStream:nj,TextEncoder:sj}=Oe.global,ij=(e,...r)=>{try{return!!e(...r)}catch{return!1}},sL=e=>{e=Oe.merge.call({skipUndefined:!0},nL,e);const{fetch:r,Request:t,Response:a}=e,s=r?jp(r):typeof fetch=="function",i=jp(t),o=jp(a);if(!s)return!1;const l=s&&jp(nj),A=s&&(typeof sj=="function"?(v=>x=>v.encode(x))(new sj):async v=>new Uint8Array(await new t(v).arrayBuffer())),d=i&&l&&ij(()=>{let v=!1;const x=new t(li.origin,{body:new nj,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!x}),f=o&&l&&ij(()=>Oe.isReadableStream(new a("").body)),h={stream:f&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(x,w)=>{let j=x&&x[v];if(j)return j.call(x);throw new Rr(`Response type '${v}' is not supported`,Rr.ERR_NOT_SUPPORT,w)})});const m=async v=>{if(v==null)return 0;if(Oe.isBlob(v))return v.size;if(Oe.isSpecCompliantForm(v))return(await new t(li.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(v)||Oe.isArrayBuffer(v))return v.byteLength;if(Oe.isURLSearchParams(v)&&(v=v+""),Oe.isString(v))return(await A(v)).byteLength},p=async(v,x)=>{const w=Oe.toFiniteNumber(v.getContentLength());return w??m(x)};return async v=>{let{url:x,method:w,data:j,signal:N,cancelToken:S,timeout:F,onDownloadProgress:T,onUploadProgress:D,responseType:k,headers:P,withCredentials:E="same-origin",fetchOptions:V}=RC(v),Q=r||fetch;k=k?(k+"").toLowerCase():"text";let $=eL([N,S&&S.toAbortSignal()],F),G=null;const R=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let ee;try{if(D&&d&&w!=="get"&&w!=="head"&&(ee=await p(P,j))!==0){let _=new t(x,{method:"POST",body:j,duplex:"half"}),I;if(Oe.isFormData(j)&&(I=_.headers.get("content-type"))&&P.setContentType(I),_.body){const[W,te]=Z2(ee,$g(ej(D)));j=rj(_.body,aj,W,te)}}Oe.isString(E)||(E=E?"include":"omit");const K=i&&"credentials"in t.prototype,z={...V,signal:$,method:w.toUpperCase(),headers:P.normalize().toJSON(),body:j,duplex:"half",credentials:K?E:void 0};G=i&&new t(x,z);let X=await(i?Q(G,V):Q(x,z));const ne=f&&(k==="stream"||k==="response");if(f&&(T||ne&&R)){const _={};["status","statusText","headers"].forEach(J=>{_[J]=X[J]});const I=Oe.toFiniteNumber(X.headers.get("content-length")),[W,te]=T&&Z2(I,$g(ej(T),!0))||[];X=new a(rj(X.body,aj,W,()=>{te&&te(),R&&R()}),_)}k=k||"text";let ue=await h[Oe.findKey(h,k)||"text"](X,v);return!ne&&R&&R(),await new Promise((_,I)=>{PC(_,I,{data:ue,headers:Ki.from(X.headers),status:X.status,statusText:X.statusText,config:v,request:G})})}catch(K){throw R&&R(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Rr("Network Error",Rr.ERR_NETWORK,v,G),{cause:K.cause||K}):Rr.from(K,K&&K.code,v,G)}}},iL=new Map,TC=e=>{let r=e?e.env:{};const{fetch:t,Request:a,Response:s}=r,i=[a,s,t];let o=i.length,l=o,A,d,f=iL;for(;l--;)A=i[l],d=f.get(A),d===void 0&&f.set(A,d=l?new Map:sL(r)),f=d;return d};TC();const Yw={http:j6,xhr:Z6,fetch:{get:TC}};Oe.forEach(Yw,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const oj=e=>`- ${e}`,oL=e=>Oe.isFunction(e)||e===null||e===!1,MC={getAdapter:(e,r)=>{e=Oe.isArray(e)?e:[e];const{length:t}=e;let a,s;const i={};for(let o=0;o<t;o++){a=e[o];let l;if(s=a,!oL(a)&&(s=Yw[(l=String(a)).toLowerCase()],s===void 0))throw new Rr(`Unknown adapter '${l}'`);if(s&&(Oe.isFunction(s)||(s=s.get(r))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([A,d])=>`adapter ${A} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(oj).join(`
`):" "+oj(o[0]):"as no adapter specified";throw new Rr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Yw};function Nv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zf(null,e)}function lj(e){return Nv(e),e.headers=Ki.from(e.headers),e.data=jv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),MC.getAdapter(e.adapter||Nm.adapter,e)(e).then(function(a){return Nv(e),a.data=jv.call(e,e.transformResponse,a),a.headers=Ki.from(a.headers),a},function(a){return IC(a)||(Nv(e),a&&a.response&&(a.response.data=jv.call(e,e.transformResponse,a.response),a.response.headers=Ki.from(a.response.headers))),Promise.reject(a)})}const OC="1.12.2",I0={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{I0[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const cj={};I0.transitional=function(r,t,a){function s(i,o){return"[Axios v"+OC+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(r===!1)throw new Rr(s(o," has been removed"+(t?" in "+t:"")),Rr.ERR_DEPRECATED);return t&&!cj[o]&&(cj[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),r?r(i,o,l):!0}};I0.spelling=function(r){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function lL(e,r,t){if(typeof e!="object")throw new Rr("options must be an object",Rr.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],o=r[i];if(o){const l=e[i],A=l===void 0||o(l,i,e);if(A!==!0)throw new Rr("option "+i+" must be "+A,Rr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Rr("Unknown option "+i,Rr.ERR_BAD_OPTION)}}const xg={assertOptions:lL,validators:I0},Tl=xg.validators;let nu=class{constructor(r){this.defaults=r||{},this.interceptors={request:new X2,response:new X2}}async request(r,t){try{return await this._request(r,t)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,t){typeof r=="string"?(t=t||{},t.url=r):t=r||{},t=du(this.defaults,t);const{transitional:a,paramsSerializer:s,headers:i}=t;a!==void 0&&xg.assertOptions(a,{silentJSONParsing:Tl.transitional(Tl.boolean),forcedJSONParsing:Tl.transitional(Tl.boolean),clarifyTimeoutError:Tl.transitional(Tl.boolean)},!1),s!=null&&(Oe.isFunction(s)?t.paramsSerializer={serialize:s}:xg.assertOptions(s,{encode:Tl.function,serialize:Tl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xg.assertOptions(t,{baseUrl:Tl.spelling("baseURL"),withXsrfToken:Tl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Oe.merge(i.common,i[t.method]);i&&Oe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),t.headers=Ki.concat(o,i);const l=[];let A=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(A=A&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let f,h=0,m;if(!A){const v=[lj.bind(this),void 0];for(v.unshift(...l),v.push(...d),m=v.length,f=Promise.resolve(t);h<m;)f=f.then(v[h++],v[h++]);return f}m=l.length;let p=t;for(;h<m;){const v=l[h++],x=l[h++];try{p=v(p)}catch(w){x.call(this,w);break}}try{f=lj.call(this,p)}catch(v){return Promise.reject(v)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(r){r=du(this.defaults,r);const t=QC(r.baseURL,r.url,r.allowAbsoluteUrls);return DC(t,r.params,r.paramsSerializer)}};Oe.forEach(["delete","get","head","options"],function(r){nu.prototype[r]=function(t,a){return this.request(du(a||{},{method:r,url:t,data:(a||{}).data}))}});Oe.forEach(["post","put","patch"],function(r){function t(a){return function(i,o,l){return this.request(du(l||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}nu.prototype[r]=t(),nu.prototype[r+"Form"]=t(!0)});let cL=class HC{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,l){a.reason||(a.reason=new zf(i,o,l),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const t=this._listeners.indexOf(r);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const r=new AbortController,t=a=>{r.abort(a)};return this.subscribe(t),r.signal.unsubscribe=()=>this.unsubscribe(t),r.signal}static source(){let r;return{token:new HC(function(s){r=s}),cancel:r}}};function AL(e){return function(t){return e.apply(null,t)}}function dL(e){return Oe.isObject(e)&&e.isAxiosError===!0}const Xw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xw).forEach(([e,r])=>{Xw[r]=e});function $C(e){const r=new nu(e),t=wC(nu.prototype.request,r);return Oe.extend(t,nu.prototype,r,{allOwnKeys:!0}),Oe.extend(t,r,null,{allOwnKeys:!0}),t.create=function(s){return $C(du(e,s))},t}const Xn=$C(Nm);Xn.Axios=nu;Xn.CanceledError=zf;Xn.CancelToken=cL;Xn.isCancel=IC;Xn.VERSION=OC;Xn.toFormData=L0;Xn.AxiosError=Rr;Xn.Cancel=Xn.CanceledError;Xn.all=function(r){return Promise.all(r)};Xn.spread=AL;Xn.isAxiosError=dL;Xn.mergeConfig=du;Xn.AxiosHeaders=Ki;Xn.formToJSON=e=>LC(Oe.isHTMLForm(e)?new FormData(e):e);Xn.getAdapter=MC.getAdapter;Xn.HttpStatusCode=Xw;Xn.default=Xn;const{Axios:uZ,AxiosError:fZ,CanceledError:hZ,isCancel:mZ,CancelToken:pZ,VERSION:gZ,all:xZ,Cancel:vZ,isAxiosError:wZ,spread:yZ,toFormData:bZ,AxiosHeaders:jZ,HttpStatusCode:NZ,formToJSON:BZ,getAdapter:CZ,mergeConfig:SZ}=Xn;function uL(e){if(!e)return"";try{const t=Math.random().toString(36).substring(2,15)+"|"+e;return btoa(t).split("").reverse().join("")}catch(r){return console.warn("Erro na criptografia, usando texto plano:",r),e}}function fL(e){if(!e)return"";try{const r=atob(e.split("").reverse().join("")),t=r.split("|");return t.length>1?t.slice(1).join("|"):r}catch(r){return console.warn("Erro na descriptografia, retornando texto original:",r),e}}const xr={setItem(e,r){try{const t=uL(typeof r=="string"?r:JSON.stringify(r));return localStorage.setItem(`secure_${e}`,t),!0}catch(t){return console.error("Erro ao armazenar item seguro:",t),!1}},getItem(e){try{const r=localStorage.getItem(`secure_${e}`);if(!r)return null;const t=fL(r);try{return JSON.parse(t)}catch{return t}}catch(r){return console.error("Erro ao recuperar item seguro:",r),null}},removeItem(e){try{return localStorage.removeItem(`secure_${e}`),!0}catch(r){return console.error("Erro ao remover item seguro:",r),!1}},clear(){try{return Object.keys(localStorage).filter(r=>r.startsWith("secure_")).forEach(r=>localStorage.removeItem(r)),!0}catch(e){return console.error("Erro ao limpar armazenamento seguro:",e),!1}},migrateFromPlainStorage(e,r=e){try{const t=localStorage.getItem(e);return t?(this.setItem(r,t),localStorage.removeItem(e),!0):!1}catch(t){return console.error("Erro na migrao:",t),!1}}},Bv={mockData:{medicos:[{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia",telefone:"(11) 99999-9999",email:"joao.silva@hospital.com",user:{id:"550e8400-e29b-41d4-a716-446655440000",username:"dr.joao",email:"joao.silva@hospital.com",first_name:"Joo",last_name:"Silva"}}],pacientes:[{id:1,nome:"Maria Santos",cpf:"123.456.789-00",email:"maria@exemplo.com",telefone:"(11) 99999-9999",user:{id:2,username:"maria.santos",email:"maria@exemplo.com"}}],consultas:[{id:1,data:new Date().toISOString().split("T")[0],hora:"14:00",medico:1,paciente:1,status:"agendada"}],receitas:[{id:1,medico:1,paciente:1,data:new Date().toISOString().split("T")[0],medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",status:"ativa",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null}],notificacoes:[{id:1,titulo:"Nova consulta agendada",mensagem:"Voc tem uma nova consulta agendada para hoje s 14:00",lida:!1,data:new Date().toISOString()}]},shouldMock(e){return["/api/medicos/me/","/api/pacientes/me/","/api/users/me/","/api/auth/user/","/api/clinica/","/api/clinicas/","/api/admin/","/api/auditoria/","/api/assinatura/","/api/documentos/","/api/secretarias/","/api/solicitacaomedico/","/api/solicitacoes/","/api/notificacoes/","/api/exames/","/api/prontuarios/","/api/receita/gerar/","/api/receita/generate/","/api/receita/documento/","/api/receita/pdf/","/api/receitas/preview/"].some(t=>e.includes(t))},getMockResponse(e,r="GET"){if(console.log(`[MOCK] Interceptando ${r} ${e}`),e.includes("/medicos"))return e.includes("/me/")||e.includes("/perfil/")?{data:{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia",telefone:"(11) 99999-9999",email:"joao.silva@hospital.com",user:{id:"550e8400-e29b-41d4-a716-446655440000",username:"dr.joao",email:"joao.silva@hospital.com",first_name:"Joo",last_name:"Silva"},medico:{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia"}}}:{data:{results:this.mockData.medicos,count:this.mockData.medicos.length}};if(e.includes("/pacientes"))return e.includes("/me/")?{data:this.mockData.pacientes[0]}:{data:{results:this.mockData.pacientes,count:this.mockData.pacientes.length}};if(e.includes("/consultas"))return{data:{results:this.mockData.consultas,count:this.mockData.consultas.length}};if(e.includes("/receitas"))return e.includes("/preview/")?{data:{id:"preview-123",nome_paciente:"Liniker Oliva",idade:"22 anos e 339 dias",rg:"529.594.598-73",cpf:"529.594.598-73",data_nascimento:"2002-11-25",medicamento:"Paracetamol 500mg",medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",posologia:"Tomar 1 comprimido a cada 8 horas",medico:"Dr. Joo Silva",crm:"CRM-12345",endereco_consultorio:"Rua das Flores, 123",telefone_consultorio:"(11) 98888-7777",validade_receita:"2025-11-05",observacoes:"",validade:"2025-11-05",formato:"pdf",medico_id:"550e8400-e29b-41d4-a716-446655440000",status:"gerada",data_criacao:new Date().toISOString(),validade:"2025-11-05",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null,assinatura_digital:{assinado:!1,certificado:null,timestamp:null}}}:{data:{results:this.mockData.receitas,count:this.mockData.receitas.length}};if(e.includes("/receita/gerar/")||e.includes("/receita/generate/")||e.includes("/receita/documento/")||e.includes("/receita/pdf/"))return r==="POST"||r==="PUT"?{data:{id:"receita-"+Date.now(),status:"success",message:"Receita gerada com sucesso",documento_url:"/api/receitas/documento/receita-"+Date.now()+".pdf",receita:{id:"receita-"+Date.now(),nome_paciente:"Liniker Oliva",idade:"22 anos e 339 dias",medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",medico:"Dr. Joo Silva",crm:"CRM-12345",data_criacao:new Date().toISOString(),validade:"2025-11-05",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null,assinatura_digital:{assinado:!1,certificado:null,timestamp:null}}}}:{data:{id:"receita-123",nome_paciente:"Liniker Oliva",idade:"22 anos e 339 dias",medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",medico:"Dr. Joo Silva",crm:"CRM-12345",data_criacao:new Date().toISOString(),validade:"2025-11-05",status:"pendente_assinatura",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null,assinatura_digital:{assinado:!1,certificado:null,timestamp:null}}};if(e.includes("/api/assinatura/assinar/")||e.includes("/assinatura/assinar/")||e.includes("/assinar-receita/")||e.includes("/documentos/assinar/")||e.includes("/receitas/assinar/"))return{data:new Blob(["%PDF-1.4 mock signed pdf content"],{type:"application/pdf"}),headers:{"content-type":"application/pdf","content-disposition":'attachment; filename="receita_assinada.pdf"'}};if(e.includes("digitalsignatureservice.test:8010")||e.includes("/api/prescriptions/status/"))return{data:{status:"success",signed:!1,message:"Servio de assinatura disponvel"}};if(e.includes("/admin/solicitacoes")||e.includes("/solicitacoes")){const t=[{id:1,tipo:"medico",status:"aprovada",nome:"Dr. Carlos Oliveira",email:"carlos.oliveira@email.com",crm:"54321-RJ",especialidade:"Pediatria",createdAt:new Date(Date.now()-432e6).toISOString(),updatedAt:new Date(Date.now()-2592e5).toISOString()},{id:2,tipo:"clinica",status:"pendente",nome:"Clnica So Paulo",email:"contato@clinicasp.com",cnpj:"12.345.678/0001-90",endereco:"Av. Paulista, 1000",createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-1728e5).toISOString()},{id:3,tipo:"medico",status:"rejeitada",nome:"Dra. Ana Santos",email:"ana.santos@email.com",crm:"98765-MG",especialidade:"Dermatologia",createdAt:new Date(Date.now()-864e6).toISOString(),updatedAt:new Date(Date.now()-6912e5).toISOString()},{id:4,tipo:"medico",status:"aprovada",nome:"Dr. Roberto Lima",email:"roberto.lima@email.com",crm:"11111-SP",especialidade:"Ortopedia",createdAt:new Date(Date.now()-1296e6).toISOString(),updatedAt:new Date(Date.now()-10368e5).toISOString()},{id:5,tipo:"clinica",status:"aprovada",nome:"Hospital Central",email:"admin@hospitalcentral.com",cnpj:"98.765.432/0001-10",endereco:"Rua Central, 500",createdAt:new Date(Date.now()-1728e6).toISOString(),updatedAt:new Date(Date.now()-15552e5).toISOString()},{id:6,tipo:"medico",status:"pendente",nome:"Dr. Fernando Costa",email:"fernando.costa@email.com",crm:"22222-RJ",especialidade:"Neurologia",createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-864e5).toISOString()}];return{data:t,count:t.length,results:t}}return e.includes("/notificacoes")?{data:{results:this.mockData.notificacoes,count:this.mockData.notificacoes.length}}:e.includes("/users/me/")||e.includes("/auth/user/")?{data:{id:"550e8400-e29b-41d4-a716-446655440000",username:"dr.joao",email:"joao.silva@hospital.com",first_name:"Joo",last_name:"Silva",is_staff:!0,is_active:!0,medico:{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia"}}}:{data:{message:"Endpoint mockado - dados no disponveis",results:[],count:0}}},async simulateNetworkDelay(e=100){return new Promise(r=>setTimeout(r,e))}},Np="http://127.0.0.1:8000/api";class hL{async checkServiceStatus(){try{if(!(await fetch(`${Np}/receitas/`,{method:"GET",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Servio de assinatura digital indisponvel");return{status:"online",message:"Servio de assinatura digital disponvel via Django API",version:"2.0.0"}}catch(r){return console.warn("Servio de assinatura digital indisponvel:",r),{status:"online",message:"Servio de assinatura digital disponvel (mock)",version:"1.0.0"}}}generateDocumentHash(r){var a,s;const t=JSON.stringify({timestamp:Date.now(),prescription_id:r.id||r.receita_id,patient:((a=r.paciente)==null?void 0:a.nome)||r.nome_paciente,doctor:((s=r.medico)==null?void 0:s.nome)||r.medico,medications:r.medicamentos||r.medicamento});return btoa(t).replace(/[^a-zA-Z0-9]/g,"").substring(0,32)}async generatePDFHash(r){try{if(!r)return`pdf_hash_${Date.now()}`;const t=await r.arrayBuffer();if(window.crypto&&window.crypto.subtle){const a=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map(i=>i.toString(16).padStart(2,"0")).join("")}return`pdf_${r.size}_${r.lastModified}_${Date.now()}`}catch(t){return console.warn("Erro ao gerar hash do PDF:",t),`pdf_hash_${Date.now()}`}}async signPrescription(r){try{const t=r.id||r.receita_id;if(!t)throw new Error("ID da receita  obrigatrio para assinatura");const a=await fetch(`${Np}/receitas/${t}/assinar/`,{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({algoritmo_assinatura:r.algoritmo_assinatura||"SHA256",hash_documento:r.hash_documento||this.generateDocumentHash(r)})});if(!a.ok)return console.warn("Servio de assinatura no disponvel, usando mock"),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),prescription_id:t};const s=await a.json();return{success:!0,message:"Receita assinada digitalmente via Django API",signature_id:s.id,signed_at:s.assinada_em,prescription_id:s.id,hash_documento:s.hash_documento,algoritmo_assinatura:s.algoritmo_assinatura}}catch(t){return console.warn("Erro na assinatura digital, usando mock:",t),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),prescription_id:r.id||"mock_prescription"}}}async signPrescriptionWithPDF(r){try{const t=r.get("receita_id")||r.get("id");if(!t)throw new Error("ID da receita  obrigatrio para assinatura");const a=r.get("pdf"),s=await this.generatePDFHash(a),i=await fetch(`${Np}/receitas/${t}/assinar/`,{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({algoritmo_assinatura:"SHA256",hash_documento:s})});if(!i.ok)return console.warn("Servio de assinatura no disponvel, usando mock"),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),download_url:URL.createObjectURL(a),prescription_id:t};const o=await i.json();return{success:!0,message:"Receita assinada digitalmente via Django API",signature_id:o.id,signed_at:o.assinada_em,download_url:URL.createObjectURL(a),prescription_id:o.id,hash_documento:o.hash_documento,algoritmo_assinatura:o.algoritmo_assinatura}}catch(t){console.warn("Erro na assinatura digital, usando mock:",t);const a=r.get("pdf");return{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),download_url:a?URL.createObjectURL(a):null,prescription_id:r.get("id")||"mock_prescription"}}}async verifySignature(r){try{const t=await fetch(`http://localhost:8172/api/prescriptions/verify/${r}/`);return t.ok?await t.json():{status:"success",signature_id:r,verified:!0,signed_at:new Date().toISOString(),message:"Assinatura verificada (mock)"}}catch(t){return console.warn("Erro ao verificar assinatura, usando mock:",t),{status:"success",signature_id:r,verified:!0,signed_at:new Date().toISOString(),message:"Assinatura verificada (mock)"}}}async listSignedPrescriptions(){try{const r=await fetch(`${Np}/receitas/?assinada=true`,{method:"GET",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});return r.ok?(await r.json()).results||[]:[]}catch(r){return console.warn("Erro ao listar receitas assinadas, usando mock:",r),[]}}getDownloadUrl(r){return`http://localhost:8172/api/prescriptions/download/${r}/`}formatPrescriptionData(r,t){return{paciente:{nome:r.nome_paciente,cpf:r.rg,data_nascimento:r.data_nascimento,endereco:r.endereco_paciente,telefone:r.telefone_paciente,idade:r.idade},medico:{nome:r.medico,crm:r.crm,especialidade:r.especialidade,endereco_consultorio:r.endereco_consultorio,telefone_consultorio:r.telefone_consultorio,email_medico:r.email_medico},medicamentos:r.medicamento?[{nome:r.medicamento,posologia:r.posologia,observacoes:r.observacoes}]:[],observacoes:r.observacoes,validade_receita:r.validade_receita,data_prescricao:new Date().toISOString(),receita_id:t,metadata:{sistema:"Medicine Front",versao:"1.0.0",timestamp:Date.now()}}}validatePrescriptionData(r){var a,s,i,o,l;const t=[];return(a=r.nome_paciente)!=null&&a.trim()||t.push("Nome do paciente  obrigatrio"),(s=r.cpf)!=null&&s.trim()||t.push("CPF do paciente  obrigatrio"),(i=r.medico)!=null&&i.trim()||t.push("Nome do mdico  obrigatrio"),(o=r.crm)!=null&&o.trim()||t.push("CRM do mdico  obrigatrio"),(l=r.medicamento)!=null&&l.trim()||t.push("Medicamento  obrigatrio"),{isValid:t.length===0,errors:t}}}const mL=new hL,KC="http://127.0.0.1:8000",pL="/api";"true".toLowerCase();"true".toLowerCase();"true".toLowerCase();const Kg="local".toLowerCase(),gL=KC,xL=(e="")=>e.replace(/^\/+|\/+$/g,""),vL=(e="")=>e.replace(/^\/+/,""),wL=(e="")=>/^https?:\/\//i.test(e),yL=(e="")=>{const r="/"+xL(pL);if(!e)return r+"/";if(e.startsWith(r+"/")||e===r||e.startsWith(r+"?"))return e;const[t,a=""]=String(e).split("?"),s=/\/$/.test(t||""),i=vL(t||"");let o=`${r}/${i||""}`;return(s||!i)&&(o+="/"),a&&(o+=`?${a}`),o=o.replace(/\/{2,}/g,"/"),o},Ce=Xn.create({baseURL:gL,headers:{"Content-Type":"application/json"},timeout:15e3,withCredentials:Kg==="cookie"});Ce.interceptors.request.use(e=>{const r=e.url||"";if(!wL(r)){const d=yL(r);e.baseURL=KC.replace(/\/+$/g,""),e.url=d.startsWith("/")?d:"/"+d}try{const d=String(xr.getItem("auth_storage")||Kg).toLowerCase();e.withCredentials=d==="cookie"}catch{}const t="/api/auth/login/",a="/api/auth/register/",s="/auth/forgot-password/",i="/api/auth/google/",o="/api/auth/token/refresh/";if(((d="")=>[t,a,s,i,o].some(f=>d.includes(f)))(e.url||""))return e;if(String(xr.getItem("auth_storage")||Kg).toLowerCase()!=="cookie"){const d=xr.getItem("access_token");let f=xr.getItem("auth_scheme")||"Token";if(!f){f=d&&d.includes(".")?"Bearer":"Token";try{xr.setItem("auth_scheme",f)}catch{}}try{d&&d.includes(".")&&/^token$/i.test(String(f))?(f="Bearer",xr.setItem("auth_scheme",f)):d&&!d.includes(".")&&/^bearer$/i.test(String(f))&&(f="Token",xr.setItem("auth_scheme",f))}catch{}d?e.headers.Authorization=`${f} ${d}`:delete e.headers.Authorization}else e.headers&&e.headers.Authorization&&delete e.headers.Authorization;return e.data instanceof FormData&&e.headers&&delete e.headers["Content-Type"],e});Ce.interceptors.response.use(e=>e,async e=>{var a,s,i,o,l,A;const r=(a=e==null?void 0:e.response)==null?void 0:a.status,t=(e==null?void 0:e.config)||{};if(r===404&&Bv.shouldMock(t.url||""))return console.log(`[MOCK] Interceptando erro 404 para ${t.url}`),await Bv.simulateNetworkDelay(50),Promise.resolve(Bv.getMockResponse(t.url,t.method));if(r===401&&!t._retry){t._retry=!0;try{if(String(xr.getItem("auth_storage")||Kg).toLowerCase()==="cookie")return await Ce.post("/auth/refresh/",{},{withCredentials:!0}),Ce(t);{const f="/api/auth/token/refresh/",h=xr.getItem("refresh_token");if(h){const m=await Ce.post(f,{refresh:h}),p=((s=m==null?void 0:m.data)==null?void 0:s.access)||((i=m==null?void 0:m.data)==null?void 0:i.access_token)||((o=m==null?void 0:m.data)==null?void 0:o.token),v=((l=m==null?void 0:m.data)==null?void 0:l.refresh)||((A=m==null?void 0:m.data)==null?void 0:A.refresh_token);p&&xr.setItem("access_token",p),v&&xr.setItem("refresh_token",v),t.headers=t.headers||{};const x=xr.getItem("auth_scheme")||(p&&p.includes(".")?"Bearer":"Token");return t.headers.Authorization=`${x} ${xr.getItem("access_token")}`,Ce(t)}}}catch{}}return Promise.reject(e)});const Cv="true".toLowerCase()==="true",TA="false".toLowerCase()==="true",VC={async criarSolicitacaoMedico(e,r={}){var p,v,x,w,j,N,S,F,T;const t=new FormData,a=(D,k,P=[])=>{if(k==null)return;const E=[D,...P].filter(Boolean);for(const V of E)t.append(V,k)};a("crm",e.crm,["crm_numero"]),a("especialidade",e.especialidade),a("instituicaoFormacao",e.instituicaoFormacao,["instituicao_formacao"]),a("anoFormacao",e.anoFormacao,["ano_formacao"]),a("residencia",e.residencia??""),a("instituicaoResidencia",e.instituicaoResidencia??"",["instituicao_residencia"]),a("anoResidencia",e.anoResidencia??"",["ano_residencia"]),a("experiencia",e.experiencia),a("motivacao",e.motivacao,["motivo","justificativa"]),a("nome",e.nome,["nome_completo"]),a("email",e.email),a("cpf",e.cpf),a("tipo",e.tipo||"medico"),(p=e.documentos)!=null&&p.diplomaMedicina&&a("diplomaMedicina",e.documentos.diplomaMedicina,["diploma_medicina"]),(v=e.documentos)!=null&&v.certificadoResidencia&&a("certificadoResidencia",e.documentos.certificadoResidencia,["certificado_residencia"]),(x=e.documentos)!=null&&x.comprovanteExperiencia&&a("comprovanteExperiencia",e.documentos.comprovanteExperiencia,["comprovante_experiencia"]);let s;try{const D=(w=ra.getCurrentUser)==null?void 0:w.call(ra);s=(D==null?void 0:D.id)||(D==null?void 0:D.pk)||((j=D==null?void 0:D.user)==null?void 0:j.id),s&&a("user",s,["usuario","user_id","usuario_id"])}catch{}const i={crm:e.crm,crm_numero:e.crm,especialidade:e.especialidade,instituicaoFormacao:e.instituicaoFormacao,instituicao_formacao:e.instituicaoFormacao,anoFormacao:e.anoFormacao,ano_formacao:e.anoFormacao,residencia:e.residencia??"",instituicaoResidencia:e.instituicaoResidencia??"",instituicao_residencia:e.instituicaoResidencia??"",anoResidencia:e.anoResidencia??"",ano_residencia:e.anoResidencia??"",experiencia:e.experiencia,motivacao:e.motivacao,motivo:e.motivacao,justificativa:e.motivacao,nome:e.nome,nome_completo:e.nome_completo||e.nome,email:e.email,cpf:e.cpf,tipo:e.tipo||"medico"};s&&(i.user=s,i.usuario=s,i.user_id=s,i.usuario_id=s);const o="/api/solicitacaomedico/".trim(),l="/api/solicitacoes/".trim();let A=[];o&&A.push(o),l&&A.push(l),TA||A.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/medico/","/medico/solicitacoes/","/medicos/solicitacao/","/solicitacao/medicos/","/users/medicos/solicitacoes/","/usuarios/medicos/solicitacoes/","/users/solicitacoes/medico/","/usuarios/solicitacoes/medico/","/app_medico/","/meu_app_medico/","/meui_app_solicitacaomedico/","/solicitacaomedico/","/solicitacao-medico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedico/");const d=D=>{if(TA)return[D];const k=D.endsWith("/")?"":"/";return[D,`${D}${k}criar/`,`${D}${k}create/`,`${D}${k}novo/`,`${D}${k}nova/`,`${D}${k}add/`,`${D}${k}adicionar/`,`${D}${k}registrar/`,`${D}${k}enviar/`,`${D}${k}submit/`]},f=Array.from(new Set(A.flatMap(d))),h=[];let m;for(const D of f)try{return h.push(D),Cv&&console.debug("[solicitacaoService] Tentando endpoint:",D),(await Ce.post(D,t,{headers:{"Content-Type":"multipart/form-data"},signal:r==null?void 0:r.signal})).data}catch(k){const P=(N=k==null?void 0:k.response)==null?void 0:N.status,E=((S=k==null?void 0:k.response)==null?void 0:S.data)&&JSON.stringify(k.response.data)||"";if(P===415||P===400&&/JSON|application\/json|parse/i.test(E))try{return(await Ce.post(D,i,{headers:{"Content-Type":"application/json"},signal:r==null?void 0:r.signal})).data}catch(Q){const $=(F=Q==null?void 0:Q.response)==null?void 0:F.status;if(($===404||$===405)&&!TA){m=Q;continue}throw Q}if((P===404||P===405)&&!TA){Cv&&console.debug("[solicitacaoService] Endpoint no aceitou mtodo (",P,"):",D),m=k;continue}throw k}throw m?(Cv&&console.warn("[solicitacaoService] Nenhum endpoint aceitou POST. ltimo status:",(T=m==null?void 0:m.response)==null?void 0:T.status,"URLs tentadas:",h),m):new Error("Nenhum endpoint de criao aceitou a solicitao. Configure VITE_SOLICITACOES_MEDICOS_ENDPOINT. URLs tentadas: "+h.join(", "))},async listarMinhasSolicitacoes(e={},r={}){var o,l;const t="/api/solicitacaomedico/".trim(),a="/api/solicitacoes/".trim(),s=[];t&&s.push(t),a&&s.push(a),TA||s.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/","/me/solicitacoes/","/minhas-solicitacoes/","/solicitacoes/me/","/solicitacoes/minhas/");const i={...e};i.limit!=null&&i.page_size==null&&(i.page_size=i.limit),i.page_size!=null&&i.limit==null&&(i.limit=i.page_size);for(const A of s){const d=Aj(A);try{const f=await Ce.get(d,{params:i,signal:r==null?void 0:r.signal});return Array.isArray((o=f.data)==null?void 0:o.results)?{...f.data,results:f.data.results.map(Sv)}:Array.isArray(f.data)?{results:f.data.map(Sv)}:f.data}catch(f){if(((l=f==null?void 0:f.response)==null?void 0:l.status)===404&&!TA)continue;throw f}}return{results:[]}},async getSolicitacaoMedico(e,r={}){var o;const t="/api/solicitacaomedico/".trim(),a="/api/solicitacoes/".trim(),s=[];t&&s.push(t),a&&s.push(a),TA||s.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/");let i;for(const l of s){const A=Aj(l)+String(e)+"/";try{const d=await Ce.get(A,{signal:r==null?void 0:r.signal});return Sv(d.data)}catch(d){if(((o=d==null?void 0:d.response)==null?void 0:o.status)===404&&!TA){i=d;continue}throw d}}throw i||new Error("Solicitao no encontrada")}};function Aj(e){return e?e.endsWith("/")?e:e+"/":"/"}function Sv(e={}){return{id:e.id||e.pk,crm:e.crm||e.crm_numero,especialidade:e.especialidade,instituicaoFormacao:e.instituicaoFormacao||e.instituicao_formacao,anoFormacao:e.anoFormacao||e.ano_formacao,residencia:e.residencia,instituicaoResidencia:e.instituicaoResidencia||e.instituicao_residencia,anoResidencia:e.anoResidencia||e.ano_residencia,experiencia:e.experiencia,motivacao:e.motivacao||e.motivo||e.justificativa,nome:e.nome||e.nome_completo,email:e.email,cpf:e.cpf,status:e.status||e.situacao||e.aprovado,created_at:e.created_at||e.data_criacao}}const bL=Object.freeze(Object.defineProperty({__proto__:null,solicitacaoService:VC},Symbol.toStringTag,{value:"Module"})),jL=e=>{if(!e)return"";try{const r=new Date(e);if(isNaN(r.getTime()))return"";const t=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}catch{return""}};function MA(e){return e?{id:e.id,username:e.username,email:e.email,first_name:e.first_name||"",last_name:e.last_name||"",is_staff:e.is_staff||!1,is_active:e.is_active!==!1,date_joined:e.date_joined,last_login:e.last_login,role:e.role||e.tipo||e.tipo_usuario||e.user_type||"",tipo:e.tipo||e.role||e.tipo_usuario||e.user_type||"",tipo_usuario:e.tipo_usuario||e.user_type||"",data_nascimento:jL(e.data_nascimento||e.birth_date),telefone:e.telefone||e.phone||"",endereco:e.endereco||e.address||"",crm:e.crm||"",especialidade:e.especialidade||e.specialty||""}:null}const ra={async login(e){var r,t,a,s,i,o;try{const l=((t=(r=e.username)==null?void 0:r.trim)==null?void 0:t.call(r))||((s=(a=e.email)==null?void 0:a.trim)==null?void 0:s.call(a))||"",A=/^\d{11}$/.test(l),d={username:l||void 0,email:l||void 0,password:e.password};let f=l;if(A){const m=[`/api/users/?cpf=${l}`,`/api/pacientes/?cpf=${l}`,"/api/auth/users/?cpf="+l];for(const p of m)try{const v=await Ce.get(p),x=v==null?void 0:v.data,w=Array.isArray(x)?x:Array.isArray(x==null?void 0:x.results)?x.results:[],j=w==null?void 0:w[0],N=(j==null?void 0:j.email)||((i=j==null?void 0:j.user)==null?void 0:i.email)||null,S=(j==null?void 0:j.username)||((o=j==null?void 0:j.user)==null?void 0:o.username)||null;if(N||S){f=N||S;break}}catch{}}let h;try{h=await Ce.post("/api/auth/login/",{...d,username:f||d.username,email:f||d.email})}catch(m){if(A){const p={cpf:l,password:e.password},v=["/api/auth/login_cpf/","/api/auth/login/","/auth/login_cpf/"];let x=m;for(const w of v)try{h=await Ce.post(w,p);break}catch(j){x=j}if(!h)throw x}else throw m}if(h.data){xr.setItem("auth_scheme","Token");const p=h.data.access_token||h.data.access||h.data.token,v=h.data.refresh_token||h.data.refresh;p&&xr.setItem("access_token",p),v&&xr.setItem("refresh_token",v);try{if(!p&&!v){xr.setItem("auth_storage","cookie");try{Ce.defaults.withCredentials=!0}catch{}}}catch{}try{const x=await Eh();x?xr.setItem("user",MA(x)):xr.removeItem("user")}catch(x){console.warn("No foi possvel carregar dados do usurio:",x),xr.removeItem("user")}return h.data}throw new Error("Resposta de login invlida")}catch(l){throw console.error("Erro no login:",l),l}},async register(e,r={}){var t;try{const s=await Ce.post("/api/auth/register/",e);let i=null;if(s.data&&!r.skipAutoLogin){xr.setItem("auth_scheme","Token");const A=s.data.access_token||s.data.access||s.data.token,d=s.data.refresh_token||s.data.refresh;A&&xr.setItem("access_token",A),d&&xr.setItem("refresh_token",d);try{if(!A&&!d){xr.setItem("auth_storage","cookie");try{Ce.defaults.withCredentials=!0}catch{}}}catch{}try{i=await Eh(),i?xr.setItem("user",MA(i)):xr.removeItem("user")}catch(f){if(console.warn("No foi possvel carregar dados do usurio aps registro:",f),xr.removeItem("user"),xr.getItem("access_token"))try{const m=await Eh();i=m,m&&xr.setItem("user",MA(m))}catch(m){console.warn("Fallback para buscar usurio tambm falhou:",m)}}}let o;try{const l=String((e==null?void 0:e.desired_role)||"").toLowerCase()==="medico",A=r==null?void 0:r.medicoData;if(l&&A){const d=MA(i||xr.getItem("user")||{}),f=[d==null?void 0:d.first_name,d==null?void 0:d.last_name].filter(Boolean).join(" ")||(d==null?void 0:d.username)||"",h={...A,nome:A.nome||f||(e==null?void 0:e.first_name)||"",email:A.email||(d==null?void 0:d.email)||(e==null?void 0:e.email)||"",cpf:A.cpf||(e==null?void 0:e.cpf)||"",tipo:A.tipo||"medico"};try{o={success:!0,data:await VC.criarSolicitacaoMedico(h)};try{const p=(d==null?void 0:d.id)||(i==null?void 0:i.id);p&&localStorage.setItem(`medicoApplicationStatus:${p}`,"pending")}catch{}}catch(m){o={success:!1,error:((t=m==null?void 0:m.response)==null?void 0:t.data)||(m==null?void 0:m.message)||"No foi possvel criar a solicitao de mdico."}}}}catch(l){o={success:!1,error:(l==null?void 0:l.message)||"Falha desconhecida ao criar solicitao."}}return o?{...s.data,medicoApplication:o}:s.data}catch(a){throw console.error("Erro no registro:",a),a}},async logout(){try{await Ce.post("/api/auth/logout/")}catch(e){console.warn("Erro ao fazer logout no servidor:",e)}finally{xr.removeItem("access_token"),xr.removeItem("refresh_token"),xr.removeItem("user"),xr.removeItem("auth_scheme"),xr.removeItem("auth_storage")}},async forgotPassword(e){const t=await Ce.post("/api/password_reset/",{email:e});return(t==null?void 0:t.data)??t},getCurrentUser(){try{const e=xr.getItem("user");return e?MA(e):null}catch(e){return console.error("Erro ao recuperar usurio atual:",e),null}},async refreshCurrentUser(){var e;try{const r=await Eh();return r?(xr.setItem("user",MA(r)),MA(r)):(xr.removeItem("user"),null)}catch(r){if(((e=r==null?void 0:r.response)==null?void 0:e.status)===401)throw r;return console.error("Erro ao atualizar dados do usurio:",r),null}},isAuthenticated(){const e=xr.getItem("access_token"),r=String(xr.getItem("auth_storage")||void 0||"local").toLowerCase();return!!e||r==="cookie"},async loginWithGoogle(e){try{const t=await Ce.post("/api/auth/google/",{credential:e});if(t.data){xr.setItem("auth_scheme","Token");const s=t.data.access_token||t.data.access||t.data.token,i=t.data.refresh_token||t.data.refresh;s&&xr.setItem("access_token",s),i&&xr.setItem("refresh_token",i);try{if(!s&&!i){xr.setItem("auth_storage","cookie");try{Ce.defaults.withCredentials=!0}catch{}}}catch{}try{const o=await Eh();o?xr.setItem("user",MA(o)):xr.removeItem("user")}catch(o){console.warn("No foi possvel carregar dados do usurio:",o),xr.removeItem("user")}return t.data}throw new Error("Resposta de login com Google invlida")}catch(r){throw console.error("Erro no login com Google:",r),r}}};async function Eh(){return(await Ce.get("/api/auth/users/me/")).data}const ii={NETWORK:"NETWORK_ERROR",AUTHENTICATION:"AUTH_ERROR",AUTHORIZATION:"AUTHORIZATION_ERROR",VALIDATION:"VALIDATION_ERROR",SERVER:"SERVER_ERROR",CLIENT:"CLIENT_ERROR",UNKNOWN:"UNKNOWN_ERROR"},NL={[ii.NETWORK]:"Erro de conexo. Verifique sua internet e tente novamente.",[ii.AUTHENTICATION]:"Sesso expirada. Faa login novamente.",[ii.AUTHORIZATION]:"Voc no tem permisso para realizar esta ao.",[ii.VALIDATION]:"Dados invlidos. Verifique as informaes e tente novamente.",[ii.SERVER]:"Erro interno do servidor. Tente novamente em alguns minutos.",[ii.CLIENT]:"Erro na aplicao. Recarregue a pgina e tente novamente.",[ii.UNKNOWN]:"Erro inesperado. Tente novamente."};function BL(e){if(!e.response&&e.code==="NETWORK_ERROR"||e.code==="ECONNABORTED")return ii.NETWORK;if(e.response){const r=e.response.status;if(r===401)return ii.AUTHENTICATION;if(r===403)return ii.AUTHORIZATION;if(r>=400&&r<500)return ii.VALIDATION;if(r>=500)return ii.SERVER}return ii.UNKNOWN}function CL(e){var s;const r=BL(e),t=NL[r];return{type:r,message:t,timestamp:new Date().toISOString(),status:((s=e.response)==null?void 0:s.status)||null}}const eu=class eu{constructor(){this.errorListeners=[],this.setupGlobalErrorHandlers()}static getInstance(){return eu.instance||(eu.instance=new eu),eu.instance}setupGlobalErrorHandlers(){window.addEventListener("error",r=>{this.handleError(r.error,"GLOBAL_ERROR")}),window.addEventListener("unhandledrejection",r=>{this.handleError(r.reason,"UNHANDLED_PROMISE")})}addErrorListener(r){this.errorListeners.push(r)}removeErrorListener(r){this.errorListeners=this.errorListeners.filter(t=>t!==r)}notifyListeners(r){this.errorListeners.forEach(t=>{try{t(r)}catch(a){console.error("Erro no listener de erro:",a)}})}handleError(r,t="UNKNOWN"){const a=CL(r);return a.context=t,this.notifyListeners(a),a}handleApiError(r,t="API_CALL"){const a=this.handleError(r,t);switch(a.type){case ii.AUTHENTICATION:this.handleAuthenticationError();break;case ii.NETWORK:this.handleNetworkError();break}return a}handleAuthenticationError(){try{const r=!!(xr.getItem("access_token")||xr.getItem("refresh_token")),t=String(xr.getItem("auth_storage")||void 0||"local").toLowerCase(),a=window.location.pathname.includes("/login");if(t==="cookie"||r)return;a||(window.location.href="/login")}catch{window.location.pathname.includes("/login")||(window.location.href="/login")}}handleNetworkError(){console.warn("Erro de rede detectado")}};ft(eu,"instance",null);let Vg=eu;function SL(){const e=Vg.getInstance(),r=y.useCallback((a,s)=>e.handleError(a,s),[]),t=y.useCallback((a,s)=>e.handleApiError(a,s),[]);return{handleError:r,handleApiError:t}}Vg.getInstance();const zC=y.createContext({});function EL({children:e}){const[r,t]=y.useState(null),[a,s]=y.useState(!0),{handleError:i}=SL(),o=y.useCallback(async()=>{try{const p=ra.getCurrentUser();if(p)t(p);else if(ra.isAuthenticated())try{const v=await ra.refreshCurrentUser();v&&t(v)}catch{t(null)}}catch(p){i(p,"Erro ao inicializar autenticao")}finally{s(!1)}},[i]);y.useEffect(()=>{o()},[]);const l=y.useCallback(async p=>{try{const v=await ra.login(p);if(v!=null&&v.user)t(v.user);else{const x=ra.getCurrentUser();t(x)}return v}catch(v){throw i(v,"Erro ao fazer login"),v}},[i]),A=y.useCallback(async()=>{try{await ra.logout(),t(null)}catch(p){i(p,"Erro ao fazer logout"),t(null)}},[i]),d=y.useCallback(async p=>{try{const v=await ra.register(p);if(v!=null&&v.user)t(v.user);else{const x=ra.getCurrentUser();x&&t(x)}return v}catch(v){throw i(v,"Erro ao registrar usurio"),v}},[i]),f=y.useCallback(async p=>{try{const v=await ra.loginWithGoogle(p);return t(v.user),v}catch(v){throw i(v,"Erro ao fazer login com Google"),v}},[i]),h=y.useMemo(()=>ra.isAuthenticated(),[r]),m=y.useMemo(()=>({user:r,login:l,logout:A,register:d,loading:a,isAuthenticated:!!r||h,loginWithGoogle:f}),[r,l,A,d,f,h,a]);return n.jsx(zC.Provider,{value:m,children:e})}const xl=()=>{const e=y.useContext(zC);if(!e)throw new Error("useAuth deve ser usado dentro de AuthProvider");return e},qC=y.createContext(void 0);function _L({children:e}){const[r,t]=y.useState("paciente"),[a,s]=y.useState(!1),[i,o]=y.useState({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),[l,A]=y.useState(null),[d,f]=y.useState(""),h=y.useCallback(()=>{A(null),f("")},[]),m=y.useCallback(()=>{i.isMedico&&i.medicoStatus==="approved"&&t(r==="medico"?"paciente":"medico")},[i.isMedico,i.medicoStatus,r]),p=y.useCallback((w="paciente",j={})=>{s(!0),t(w),o(j)},[]),v=y.useCallback(()=>{s(!1),t("paciente"),o({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),h()},[h]),x=y.useMemo(()=>({activeRole:r,setActiveRole:t,toggleRole:m,isAuthenticated:a,userPermissions:i,setUserPermissions:o,login:p,logout:v,ephemeralCertFile:l,setEphemeralCertFile:A,ephemeralCertPassword:d,setEphemeralCertPassword:f,clearEphemeralCert:h}),[r,m,a,i,p,v,l,d,h]);return n.jsx(qC.Provider,{value:x,children:e})}function ac(){const e=y.useContext(qC);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e}function dj(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function P0(...e){return r=>{let t=!1;const a=e.map(s=>{const i=dj(s,r);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():dj(e[s],null)}}}}function ga(...e){return y.useCallback(P0(...e),e)}function uu(e){const r=FL(e),t=y.forwardRef((a,s)=>{const{children:i,...o}=a,l=y.Children.toArray(i),A=l.find(DL);if(A){const d=A.props.children,f=l.map(h=>h===A?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return n.jsx(r,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null})}return n.jsx(r,{...o,ref:s,children:i})});return t.displayName=`${e}.Slot`,t}var qf=uu("Slot");function FL(e){const r=y.forwardRef((t,a)=>{const{children:s,...i}=t;if(y.isValidElement(s)){const o=LL(s),l=UL(i,s.props);return s.type!==y.Fragment&&(l.ref=a?P0(a,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var WC=Symbol("radix.slottable");function kL(e){const r=({children:t})=>n.jsx(n.Fragment,{children:t});return r.displayName=`${e}.Slottable`,r.__radixId=WC,r}function DL(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WC}function UL(e,r){const t={...r};for(const a in r){const s=e[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?t[a]=(...l)=>{const A=i(...l);return s(...l),A}:s&&(t[a]=s):a==="style"?t[a]={...s,...i}:a==="className"&&(t[a]=[s,i].filter(Boolean).join(" "))}return{...e,...t}}function LL(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function GC(e){var r,t,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(t=GC(e[r]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function Ds(){for(var e,r,t=0,a="",s=arguments.length;t<s;t++)(e=arguments[t])&&(r=GC(e))&&(a&&(a+=" "),a+=r);return a}const uj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fj=Ds,Q0=(e,r)=>t=>{var a;if((r==null?void 0:r.variants)==null)return fj(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=r,o=Object.keys(s).map(d=>{const f=t==null?void 0:t[d],h=i==null?void 0:i[d];if(f===null)return null;const m=uj(f)||uj(h);return s[d][m]}),l=t&&Object.entries(t).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),A=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((d,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(v=>{let[x,w]=v;return Array.isArray(w)?w.includes({...i,...l}[x]):{...i,...l}[x]===w})?[...d,h,m]:d},[]);return fj(e,o,A,t==null?void 0:t.class,t==null?void 0:t.className)};var IL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Et=(e,r)=>{const t=y.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...A},d)=>y.createElement("svg",{ref:d,...IL,width:s,height:s,stroke:a,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${PL(e)}`,...A},[...r.map(([f,h])=>y.createElement(f,h)),...(Array.isArray(l)?l:[l])||[]]));return t.displayName=`${e}`,t},ji=Et("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),od=Et("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Gc=Et("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Yc=Et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),zg=Et("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),nm=Et("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),sm=Et("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),nc=Et("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),R0=Et("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),hj=Et("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),fr=Et("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Io=Et("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ps=Et("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),QL=Et("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),wy=Et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),yy=Et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),YC=Et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),cl=Et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),RL=Et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),TL=Et("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),ML=Et("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Xc=Et("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Pr=Et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),OL=Et("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Al=Et("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),mj=Et("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),HL=Et("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),$L=Et("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ni=Et("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),KL=Et("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),Ja=Et("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),su=Et("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),VL=Et("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),qg=Et("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),zL=Et("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),by=Et("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),qL=Et("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),pj=Et("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),WL=Et("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ev=Et("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),GL=Et("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),YL=Et("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),XL=Et("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),jy=Et("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),JL=Et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),fl=Et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Wg=Et("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ZL=Et("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),eI=Et("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),tI=Et("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),gj=Et("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),XC=Et("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),rI=Et("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),aI=Et("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),nI=Et("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Jc=Et("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Wh=Et("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),ld=Et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),sI=Et("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Ny=Et("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),iI=Et("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),By=Et("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),vs=Et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),im=Et("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oI=Et("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ci=Et("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),xj=Et("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),lI=Et("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),cI=Et("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Kr=Et("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),vj=Et("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Jw=Et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Bm=Et("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),vg=Et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),wj=Et("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),AI=Et("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Zw=Et("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),In=Et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Kn=Et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),_v=Et("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),gs=Et("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Cy=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function dI(){const[e,r]=y.useState(!1);return y.useEffect(()=>{const t=()=>{r(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e}function lt(...e){return e.filter(Boolean).join(" ")}function uI(e){return e?e.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):""}const ye=y.forwardRef(({className:e,variant:r="default",size:t="default",asChild:a=!1,...s},i)=>{const o=a?"slot":"button",l={default:"btn-medical-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"btn-medical-secondary",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-border",ghost:"btn-medical-ghost",link:"text-primary underline-offset-4 hover:underline p-0 h-auto",medical:"btn-medical-primary",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm",info:"bg-info text-info-foreground hover:bg-info/90 shadow-sm"},A={default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"};return n.jsx(o,{className:lt("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","active:scale-[0.98]",l[r],A[t],e),ref:i,...s})});ye.displayName="Button";const Ke=y.forwardRef(({className:e,type:r,...t},a)=>n.jsx("input",{type:r,className:lt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));Ke.displayName="Input";var fI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jr=fI.reduce((e,r)=>{const t=uu(`Primitive.${r}`),a=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,A=o?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(A,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function Sy(e,r){e&&Hf.flushSync(()=>e.dispatchEvent(r))}var hI="Separator",yj="horizontal",mI=["horizontal","vertical"],JC=y.forwardRef((e,r)=>{const{decorative:t,orientation:a=yj,...s}=e,i=pI(a)?a:yj,l=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(jr.div,{"data-orientation":i,...l,...s,ref:r})});JC.displayName=hI;function pI(e){return mI.includes(e)}var ZC=JC;const xs=y.forwardRef(({className:e,orientation:r="horizontal",decorative:t=!0,...a},s)=>n.jsx(ZC,{ref:s,decorative:t,orientation:r,className:lt("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));xs.displayName=ZC.displayName;function Ut(e,r,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e==null||e(s),t===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function gI(e,r){const t=y.createContext(r),a=i=>{const{children:o,...l}=i,A=y.useMemo(()=>l,Object.values(l));return n.jsx(t.Provider,{value:A,children:o})};a.displayName=e+"Provider";function s(i){const o=y.useContext(t);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function vl(e,r=[]){let t=[];function a(i,o){const l=y.createContext(o),A=t.length;t=[...t,o];const d=h=>{var j;const{scope:m,children:p,...v}=h,x=((j=m==null?void 0:m[e])==null?void 0:j[A])||l,w=y.useMemo(()=>v,Object.values(v));return n.jsx(x.Provider,{value:w,children:p})};d.displayName=i+"Provider";function f(h,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[A])||l,v=y.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=t.map(o=>y.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[a,xI(s,...r)]}function xI(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:A,scopeName:d})=>{const h=A(i)[`__scope${d}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return t.scopeName=r.scopeName,t}var ls=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},vI=vm[" useId ".trim().toString()]||(()=>{}),wI=0;function tc(e){const[r,t]=y.useState(vI());return ls(()=>{t(a=>a??String(wI++))},[e]),e||(r?`radix-${r}`:"")}var yI=vm[" useInsertionEffect ".trim().toString()]||ls;function cd({prop:e,defaultProp:r,onChange:t=()=>{},caller:a}){const[s,i,o]=bI({defaultProp:r,onChange:t}),l=e!==void 0,A=l?e:s;{const f=y.useRef(e!==void 0);y.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,a])}const d=y.useCallback(f=>{var h;if(l){const m=jI(f)?f(e):f;m!==e&&((h=o.current)==null||h.call(o,m))}else i(f)},[l,e,i,o]);return[A,d]}function bI({defaultProp:e,onChange:r}){const[t,a]=y.useState(e),s=y.useRef(t),i=y.useRef(r);return yI(()=>{i.current=r},[r]),y.useEffect(()=>{var o;s.current!==t&&((o=i.current)==null||o.call(i,t),s.current=t)},[t,s]),[t,a,i]}function jI(e){return typeof e=="function"}function Bi(e){const r=y.useRef(e);return y.useEffect(()=>{r.current=e}),y.useMemo(()=>(...t)=>{var a;return(a=r.current)==null?void 0:a.call(r,...t)},[])}function NI(e,r=globalThis==null?void 0:globalThis.document){const t=Bi(e);y.useEffect(()=>{const a=s=>{s.key==="Escape"&&t(s)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[t,r])}var BI="DismissableLayer",e1="dismissableLayer.update",CI="dismissableLayer.pointerDownOutside",SI="dismissableLayer.focusOutside",bj,e4=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wf=y.forwardRef((e,r)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...A}=e,d=y.useContext(e4),[f,h]=y.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),v=ga(r,k=>h(k)),x=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(w),N=f?x.indexOf(f):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,F=N>=j,T=_I(k=>{const P=k.target,E=[...d.branches].some(V=>V.contains(P));!F||E||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},m),D=FI(k=>{const P=k.target;[...d.branches].some(V=>V.contains(P))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},m);return NI(k=>{N===d.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),y.useEffect(()=>{if(f)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(bj=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),jj(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=bj)}},[f,m,t,d]),y.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),jj())},[f,d]),y.useEffect(()=>{const k=()=>p({});return document.addEventListener(e1,k),()=>document.removeEventListener(e1,k)},[]),n.jsx(jr.div,{...A,ref:v,style:{pointerEvents:S?F?"auto":"none":void 0,...e.style},onFocusCapture:Ut(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Ut(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ut(e.onPointerDownCapture,T.onPointerDownCapture)})});Wf.displayName=BI;var EI="DismissableLayerBranch",t4=y.forwardRef((e,r)=>{const t=y.useContext(e4),a=y.useRef(null),s=ga(r,a);return y.useEffect(()=>{const i=a.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),n.jsx(jr.div,{...e,ref:s})});t4.displayName=EI;function _I(e,r=globalThis==null?void 0:globalThis.document){const t=Bi(e),a=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let A=function(){r4(CI,t,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=A,r.addEventListener("click",s.current,{once:!0})):A()}else r.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,t]),{onPointerDownCapture:()=>a.current=!0}}function FI(e,r=globalThis==null?void 0:globalThis.document){const t=Bi(e),a=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!a.current&&r4(SI,t,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,t]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function jj(){const e=new CustomEvent(e1);document.dispatchEvent(e)}function r4(e,r,t,{discrete:a}){const s=t.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});r&&s.addEventListener(e,r,{once:!0}),a?Sy(s,i):s.dispatchEvent(i)}var kI=Wf,DI=t4,Fv="focusScope.autoFocusOnMount",kv="focusScope.autoFocusOnUnmount",Nj={bubbles:!1,cancelable:!0},UI="FocusScope",T0=y.forwardRef((e,r)=>{const{loop:t=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,A]=y.useState(null),d=Bi(s),f=Bi(i),h=y.useRef(null),m=ga(r,x=>A(x)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(a){let x=function(S){if(p.paused||!l)return;const F=S.target;l.contains(F)?h.current=F:VA(h.current,{select:!0})},w=function(S){if(p.paused||!l)return;const F=S.relatedTarget;F!==null&&(l.contains(F)||VA(h.current,{select:!0}))},j=function(S){if(document.activeElement===document.body)for(const T of S)T.removedNodes.length>0&&VA(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const N=new MutationObserver(j);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),N.disconnect()}}},[a,l,p.paused]),y.useEffect(()=>{if(l){Cj.add(p);const x=document.activeElement;if(!l.contains(x)){const j=new CustomEvent(Fv,Nj);l.addEventListener(Fv,d),l.dispatchEvent(j),j.defaultPrevented||(LI(TI(a4(l)),{select:!0}),document.activeElement===x&&VA(l))}return()=>{l.removeEventListener(Fv,d),setTimeout(()=>{const j=new CustomEvent(kv,Nj);l.addEventListener(kv,f),l.dispatchEvent(j),j.defaultPrevented||VA(x??document.body,{select:!0}),l.removeEventListener(kv,f),Cj.remove(p)},0)}}},[l,d,f,p]);const v=y.useCallback(x=>{if(!t&&!a||p.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(w&&j){const N=x.currentTarget,[S,F]=II(N);S&&F?!x.shiftKey&&j===F?(x.preventDefault(),t&&VA(S,{select:!0})):x.shiftKey&&j===S&&(x.preventDefault(),t&&VA(F,{select:!0})):j===N&&x.preventDefault()}},[t,a,p.paused]);return n.jsx(jr.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});T0.displayName=UI;function LI(e,{select:r=!1}={}){const t=document.activeElement;for(const a of e)if(VA(a,{select:r}),document.activeElement!==t)return}function II(e){const r=a4(e),t=Bj(r,e),a=Bj(r.reverse(),e);return[t,a]}function a4(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function Bj(e,r){for(const t of e)if(!PI(t,{upTo:r}))return t}function PI(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QI(e){return e instanceof HTMLInputElement&&"select"in e}function VA(e,{select:r=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&QI(e)&&r&&e.select()}}var Cj=RI();function RI(){let e=[];return{add(r){const t=e[0];r!==t&&(t==null||t.pause()),e=Sj(e,r),e.unshift(r)},remove(r){var t;e=Sj(e,r),(t=e[0])==null||t.resume()}}}function Sj(e,r){const t=[...e],a=t.indexOf(r);return a!==-1&&t.splice(a,1),t}function TI(e){return e.filter(r=>r.tagName!=="A")}var MI="Portal",Cm=y.forwardRef((e,r)=>{var l;const{container:t,...a}=e,[s,i]=y.useState(!1);ls(()=>i(!0),[]);const o=t||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?cC.createPortal(n.jsx(jr.div,{...a,ref:r}),o):null});Cm.displayName=MI;function OI(e,r){return y.useReducer((t,a)=>r[t][a]??t,e)}var oc=e=>{const{present:r,children:t}=e,a=HI(r),s=typeof t=="function"?t({present:a.isPresent}):y.Children.only(t),i=ga(a.ref,$I(s));return typeof t=="function"||a.isPresent?y.cloneElement(s,{ref:i}):null};oc.displayName="Presence";function HI(e){const[r,t]=y.useState(),a=y.useRef(null),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,A]=OI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=Bp(a.current);i.current=l==="mounted"?d:"none"},[l]),ls(()=>{const d=a.current,f=s.current;if(f!==e){const m=i.current,p=Bp(d);e?A("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?A("UNMOUNT"):A(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,A]),ls(()=>{if(r){let d;const f=r.ownerDocument.defaultView??window,h=p=>{const x=Bp(a.current).includes(CSS.escape(p.animationName));if(p.target===r&&x&&(A("ANIMATION_END"),!s.current)){const w=r.style.animationFillMode;r.style.animationFillMode="forwards",d=f.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=w)})}},m=p=>{p.target===r&&(i.current=Bp(a.current))};return r.addEventListener("animationstart",m),r.addEventListener("animationcancel",h),r.addEventListener("animationend",h),()=>{f.clearTimeout(d),r.removeEventListener("animationstart",m),r.removeEventListener("animationcancel",h),r.removeEventListener("animationend",h)}}else A("ANIMATION_END")},[r,A]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(d=>{a.current=d?getComputedStyle(d):null,t(d)},[])}}function Bp(e){return(e==null?void 0:e.animationName)||"none"}function $I(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Dv=0;function Ey(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ej()),document.body.insertAdjacentElement("beforeend",e[1]??Ej()),Dv++,()=>{Dv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Dv--}},[])}function Ej(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vl=function(){return Vl=Object.assign||function(r){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Vl.apply(this,arguments)};function n4(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t}function KI(e,r,t){if(t||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var wg="right-scroll-bar-position",yg="width-before-scroll-bar",VI="with-scroll-bars-hidden",zI="--removed-body-scroll-bar-size";function Uv(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function qI(e,r){var t=y.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(a){var s=t.value;s!==a&&(t.value=a,t.callback(a,s))}}}})[0];return t.callback=r,t.facade}var WI=typeof window<"u"?y.useLayoutEffect:y.useEffect,_j=new WeakMap;function GI(e,r){var t=qI(null,function(a){return e.forEach(function(s){return Uv(s,a)})});return WI(function(){var a=_j.get(t);if(a){var s=new Set(a),i=new Set(e),o=t.current;s.forEach(function(l){i.has(l)||Uv(l,null)}),i.forEach(function(l){s.has(l)||Uv(l,o)})}_j.set(t,e)},[e]),t}function YI(e){return e}function XI(e,r){r===void 0&&(r=YI);var t=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(i){var o=r(i,a);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(l){return i(l)},filter:function(){return t}}},assignMedium:function(i){a=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(i),o=t}var A=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(A)};d(),t={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),t}}}};return s}function JI(e){e===void 0&&(e={});var r=XI(null);return r.options=Vl({async:!0,ssr:!1},e),r}var s4=function(e){var r=e.sideCar,t=n4(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return y.createElement(a,Vl({},t))};s4.isSideCarExport=!0;function ZI(e,r){return e.useMedium(r),s4}var i4=JI(),Lv=function(){},M0=y.forwardRef(function(e,r){var t=y.useRef(null),a=y.useState({onScrollCapture:Lv,onWheelCapture:Lv,onTouchMoveCapture:Lv}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,A=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,v=e.noIsolation,x=e.inert,w=e.allowPinchZoom,j=e.as,N=j===void 0?"div":j,S=e.gapMode,F=n4(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=m,D=GI([t,r]),k=Vl(Vl({},F),s);return y.createElement(y.Fragment,null,f&&y.createElement(T,{sideCar:i4,removeScrollBar:d,shards:h,noRelative:p,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!w,lockRef:t,gapMode:S}),o?y.cloneElement(y.Children.only(l),Vl(Vl({},k),{ref:D})):y.createElement(N,Vl({},k,{className:A,ref:D}),l))});M0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};M0.classNames={fullWidth:yg,zeroRight:wg};var eP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=eP();return r&&e.setAttribute("nonce",r),e}function rP(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function aP(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var nP=function(){var e=0,r=null;return{add:function(t){e==0&&(r=tP())&&(rP(r,t),aP(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},sP=function(){var e=nP();return function(r,t){y.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&t])}},o4=function(){var e=sP(),r=function(t){var a=t.styles,s=t.dynamic;return e(a,s),null};return r},iP={left:0,top:0,right:0,gap:0},Iv=function(e){return parseInt(e||"",10)||0},oP=function(e){var r=window.getComputedStyle(document.body),t=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],s=r[e==="padding"?"paddingRight":"marginRight"];return[Iv(t),Iv(a),Iv(s)]},lP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return iP;var r=oP(e),t=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-t+r[2]-r[0])}},cP=o4(),Nf="data-scroll-locked",AP=function(e,r,t,a){var s=e.left,i=e.top,o=e.right,l=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(VI,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Nf,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wg,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(yg,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(wg," .").concat(wg,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(yg," .").concat(yg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Nf,`] {
    `).concat(zI,": ").concat(l,`px;
  }
`)},Fj=function(){var e=parseInt(document.body.getAttribute(Nf)||"0",10);return isFinite(e)?e:0},dP=function(){y.useEffect(function(){return document.body.setAttribute(Nf,(Fj()+1).toString()),function(){var e=Fj()-1;e<=0?document.body.removeAttribute(Nf):document.body.setAttribute(Nf,e.toString())}},[])},uP=function(e){var r=e.noRelative,t=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;dP();var i=y.useMemo(function(){return lP(s)},[s]);return y.createElement(cP,{styles:AP(i,!r,s,t?"":"!important")})},t1=!1;if(typeof window<"u")try{var Cp=Object.defineProperty({},"passive",{get:function(){return t1=!0,!0}});window.addEventListener("test",Cp,Cp),window.removeEventListener("test",Cp,Cp)}catch{t1=!1}var tf=t1?{passive:!1}:!1,fP=function(e){return e.tagName==="TEXTAREA"},l4=function(e,r){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!fP(e)&&t[r]==="visible")},hP=function(e){return l4(e,"overflowY")},mP=function(e){return l4(e,"overflowX")},kj=function(e,r){var t=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=c4(e,a);if(s){var i=A4(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==t.body);return!1},pP=function(e){var r=e.scrollTop,t=e.scrollHeight,a=e.clientHeight;return[r,t,a]},gP=function(e){var r=e.scrollLeft,t=e.scrollWidth,a=e.clientWidth;return[r,t,a]},c4=function(e,r){return e==="v"?hP(r):mP(r)},A4=function(e,r){return e==="v"?pP(r):gP(r)},xP=function(e,r){return e==="h"&&r==="rtl"?-1:1},vP=function(e,r,t,a,s){var i=xP(e,window.getComputedStyle(r).direction),o=i*a,l=t.target,A=r.contains(l),d=!1,f=o>0,h=0,m=0;do{if(!l)break;var p=A4(e,l),v=p[0],x=p[1],w=p[2],j=x-w-i*v;(v||j)&&c4(e,l)&&(h+=j,m+=v);var N=l.parentNode;l=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!A&&l!==document.body||A&&(r.contains(l)||r===l));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(d=!0),d},Sp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Dj=function(e){return[e.deltaX,e.deltaY]},Uj=function(e){return e&&"current"in e?e.current:e},wP=function(e,r){return e[0]===r[0]&&e[1]===r[1]},yP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bP=0,rf=[];function jP(e){var r=y.useRef([]),t=y.useRef([0,0]),a=y.useRef(),s=y.useState(bP++)[0],i=y.useState(o4)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=KI([e.lockRef.current],(e.shards||[]).map(Uj),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var j=Sp(x),N=t.current,S="deltaX"in x?x.deltaX:N[0]-j[0],F="deltaY"in x?x.deltaY:N[1]-j[1],T,D=x.target,k=Math.abs(S)>Math.abs(F)?"h":"v";if("touches"in x&&k==="h"&&D.type==="range")return!1;var P=kj(k,D);if(!P)return!0;if(P?T=k:(T=k==="v"?"h":"v",P=kj(k,D)),!P)return!1;if(!a.current&&"changedTouches"in x&&(S||F)&&(a.current=T),!T)return!0;var E=a.current||T;return vP(E,w,x,E==="h"?S:F)},[]),A=y.useCallback(function(x){var w=x;if(!(!rf.length||rf[rf.length-1]!==i)){var j="deltaY"in w?Dj(w):Sp(w),N=r.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&wP(T.delta,j)})[0];if(N&&N.should){w.cancelable&&w.preventDefault();return}if(!N){var S=(o.current.shards||[]).map(Uj).filter(Boolean).filter(function(T){return T.contains(w.target)}),F=S.length>0?l(w,S[0]):!o.current.noIsolation;F&&w.cancelable&&w.preventDefault()}}},[]),d=y.useCallback(function(x,w,j,N){var S={name:x,delta:w,target:j,should:N,shadowParent:NP(j)};r.current.push(S),setTimeout(function(){r.current=r.current.filter(function(F){return F!==S})},1)},[]),f=y.useCallback(function(x){t.current=Sp(x),a.current=void 0},[]),h=y.useCallback(function(x){d(x.type,Dj(x),x.target,l(x,e.lockRef.current))},[]),m=y.useCallback(function(x){d(x.type,Sp(x),x.target,l(x,e.lockRef.current))},[]);y.useEffect(function(){return rf.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",A,tf),document.addEventListener("touchmove",A,tf),document.addEventListener("touchstart",f,tf),function(){rf=rf.filter(function(x){return x!==i}),document.removeEventListener("wheel",A,tf),document.removeEventListener("touchmove",A,tf),document.removeEventListener("touchstart",f,tf)}},[]);var p=e.removeScrollBar,v=e.inert;return y.createElement(y.Fragment,null,v?y.createElement(i,{styles:yP(s)}):null,p?y.createElement(uP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function NP(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const BP=ZI(i4,jP);var O0=y.forwardRef(function(e,r){return y.createElement(M0,Vl({},e,{ref:r,sideCar:BP}))});O0.classNames=M0.classNames;var CP=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},af=new WeakMap,Ep=new WeakMap,_p={},Pv=0,d4=function(e){return e&&(e.host||d4(e.parentNode))},SP=function(e,r){return r.map(function(t){if(e.contains(t))return t;var a=d4(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},EP=function(e,r,t,a){var s=SP(r,Array.isArray(e)?e:[e]);_p[t]||(_p[t]=new WeakMap);var i=_p[t],o=[],l=new Set,A=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||A.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(a),v=p!==null&&p!=="false",x=(af.get(m)||0)+1,w=(i.get(m)||0)+1;af.set(m,x),i.set(m,w),o.push(m),x===1&&v&&Ep.set(m,!0),w===1&&m.setAttribute(t,"true"),v||m.setAttribute(a,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return f(r),l.clear(),Pv++,function(){o.forEach(function(h){var m=af.get(h)-1,p=i.get(h)-1;af.set(h,m),i.set(h,p),m||(Ep.has(h)||h.removeAttribute(a),Ep.delete(h)),p||h.removeAttribute(t)}),Pv--,Pv||(af=new WeakMap,af=new WeakMap,Ep=new WeakMap,_p={})}},_y=function(e,r,t){t===void 0&&(t="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=CP(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),EP(a,s,t,"aria-hidden")):function(){return null}},H0="Dialog",[u4,EZ]=vl(H0),[_P,wl]=u4(H0),f4=e=>{const{__scopeDialog:r,children:t,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),A=y.useRef(null),[d,f]=cd({prop:a,defaultProp:s??!1,onChange:i,caller:H0});return n.jsx(_P,{scope:r,triggerRef:l,contentRef:A,contentId:tc(),titleId:tc(),descriptionId:tc(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:o,children:t})};f4.displayName=H0;var h4="DialogTrigger",m4=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=wl(h4,t),i=ga(r,s.triggerRef);return n.jsx(jr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Dy(s.open),...a,ref:i,onClick:Ut(e.onClick,s.onOpenToggle)})});m4.displayName=h4;var Fy="DialogPortal",[FP,p4]=u4(Fy,{forceMount:void 0}),g4=e=>{const{__scopeDialog:r,forceMount:t,children:a,container:s}=e,i=wl(Fy,r);return n.jsx(FP,{scope:r,forceMount:t,children:y.Children.map(a,o=>n.jsx(oc,{present:t||i.open,children:n.jsx(Cm,{asChild:!0,container:s,children:o})}))})};g4.displayName=Fy;var Gg="DialogOverlay",x4=y.forwardRef((e,r)=>{const t=p4(Gg,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,i=wl(Gg,e.__scopeDialog);return i.modal?n.jsx(oc,{present:a||i.open,children:n.jsx(DP,{...s,ref:r})}):null});x4.displayName=Gg;var kP=uu("DialogOverlay.RemoveScroll"),DP=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=wl(Gg,t);return n.jsx(O0,{as:kP,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(jr.div,{"data-state":Dy(s.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),fu="DialogContent",v4=y.forwardRef((e,r)=>{const t=p4(fu,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,i=wl(fu,e.__scopeDialog);return n.jsx(oc,{present:a||i.open,children:i.modal?n.jsx(UP,{...s,ref:r}):n.jsx(LP,{...s,ref:r})})});v4.displayName=fu;var UP=y.forwardRef((e,r)=>{const t=wl(fu,e.__scopeDialog),a=y.useRef(null),s=ga(r,t.contentRef,a);return y.useEffect(()=>{const i=a.current;if(i)return _y(i)},[]),n.jsx(w4,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ut(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ut(e.onFocusOutside,i=>i.preventDefault())})}),LP=y.forwardRef((e,r)=>{const t=wl(fu,e.__scopeDialog),a=y.useRef(!1),s=y.useRef(!1);return n.jsx(w4,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=t.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var A,d;(A=e.onInteractOutside)==null||A.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=t.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),w4=y.forwardRef((e,r)=>{const{__scopeDialog:t,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=wl(fu,t),A=y.useRef(null),d=ga(r,A);return Ey(),n.jsxs(n.Fragment,{children:[n.jsx(T0,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(Wf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Dy(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(IP,{titleId:l.titleId}),n.jsx(QP,{contentRef:A,descriptionId:l.descriptionId})]})]})}),ky="DialogTitle",y4=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=wl(ky,t);return n.jsx(jr.h2,{id:s.titleId,...a,ref:r})});y4.displayName=ky;var b4="DialogDescription",j4=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=wl(b4,t);return n.jsx(jr.p,{id:s.descriptionId,...a,ref:r})});j4.displayName=b4;var N4="DialogClose",B4=y.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=wl(N4,t);return n.jsx(jr.button,{type:"button",...a,ref:r,onClick:Ut(e.onClick,()=>s.onOpenChange(!1))})});B4.displayName=N4;function Dy(e){return e?"open":"closed"}var C4="DialogTitleWarning",[_Z,S4]=gI(C4,{contentName:fu,titleName:ky,docsSlug:"dialog"}),IP=({titleId:e})=>{const r=S4(C4),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},PP="DialogDescriptionWarning",QP=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${S4(PP).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},E4=f4,RP=m4,_4=g4,$0=x4,K0=v4,V0=y4,z0=j4,F4=B4;const TP=E4,MP=_4,k4=y.forwardRef(({className:e,...r},t)=>n.jsx($0,{className:lt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:t}));k4.displayName=$0.displayName;const OP=Q0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),D4=y.forwardRef(({side:e="right",className:r,children:t,...a},s)=>n.jsxs(MP,{children:[n.jsx(k4,{}),n.jsxs(K0,{ref:s,className:lt(OP({side:e}),r),...a,children:[t,n.jsxs(F4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(Cy,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));D4.displayName=K0.displayName;const HP=y.forwardRef(({className:e,...r},t)=>n.jsx(V0,{ref:t,className:lt("text-lg font-semibold text-foreground",e),...r}));HP.displayName=V0.displayName;const $P=y.forwardRef(({className:e,...r},t)=>n.jsx(z0,{ref:t,className:lt("text-sm text-muted-foreground",e),...r}));$P.displayName=z0.displayName;function Mr({className:e,...r}){return n.jsx("div",{className:lt("animate-pulse rounded-md bg-muted",e),...r})}const KP=["top","right","bottom","left"],Ad=Math.min,uo=Math.max,Yg=Math.round,Fp=Math.floor,rc=e=>({x:e,y:e}),VP={left:"right",right:"left",bottom:"top",top:"bottom"},zP={start:"end",end:"start"};function r1(e,r,t){return uo(e,Ad(r,t))}function sA(e,r){return typeof e=="function"?e(r):e}function iA(e){return e.split("-")[0]}function Gf(e){return e.split("-")[1]}function Uy(e){return e==="x"?"y":"x"}function Ly(e){return e==="y"?"height":"width"}const qP=new Set(["top","bottom"]);function Xl(e){return qP.has(iA(e))?"y":"x"}function Iy(e){return Uy(Xl(e))}function WP(e,r,t){t===void 0&&(t=!1);const a=Gf(e),s=Iy(e),i=Ly(s);let o=s==="x"?a===(t?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=Xg(o)),[o,Xg(o)]}function GP(e){const r=Xg(e);return[a1(e),r,a1(r)]}function a1(e){return e.replace(/start|end/g,r=>zP[r])}const Lj=["left","right"],Ij=["right","left"],YP=["top","bottom"],XP=["bottom","top"];function JP(e,r,t){switch(e){case"top":case"bottom":return t?r?Ij:Lj:r?Lj:Ij;case"left":case"right":return r?YP:XP;default:return[]}}function ZP(e,r,t,a){const s=Gf(e);let i=JP(iA(e),t==="start",a);return s&&(i=i.map(o=>o+"-"+s),r&&(i=i.concat(i.map(a1)))),i}function Xg(e){return e.replace(/left|right|bottom|top/g,r=>VP[r])}function eQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function U4(e){return typeof e!="number"?eQ(e):{top:e,right:e,bottom:e,left:e}}function Jg(e){const{x:r,y:t,width:a,height:s}=e;return{width:a,height:s,top:t,left:r,right:r+a,bottom:t+s,x:r,y:t}}function Pj(e,r,t){let{reference:a,floating:s}=e;const i=Xl(r),o=Iy(r),l=Ly(o),A=iA(r),d=i==="y",f=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,m=a[l]/2-s[l]/2;let p;switch(A){case"top":p={x:f,y:a.y-s.height};break;case"bottom":p={x:f,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:h};break;case"left":p={x:a.x-s.width,y:h};break;default:p={x:a.x,y:a.y}}switch(Gf(r)){case"start":p[o]-=m*(t&&d?-1:1);break;case"end":p[o]+=m*(t&&d?-1:1);break}return p}const tQ=async(e,r,t)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,l=i.filter(Boolean),A=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:s}),{x:f,y:h}=Pj(d,a,A),m=a,p={},v=0;for(let x=0;x<l.length;x++){const{name:w,fn:j}=l[x],{x:N,y:S,data:F,reset:T}=await j({x:f,y:h,initialPlacement:a,placement:m,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:r}});f=N??f,h=S??h,p={...p,[w]:{...p[w],...F}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(d=T.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:s}):T.rects),{x:f,y:h}=Pj(d,m,A)),x=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:p}};async function om(e,r){var t;r===void 0&&(r={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:A}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=sA(r,e),v=U4(p),w=l[m?h==="floating"?"reference":"floating":h],j=Jg(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(w)))==null||t?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:A})),N=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),F=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},T=Jg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:S,strategy:A}):N);return{top:(j.top-T.top+v.top)/F.y,bottom:(T.bottom-j.bottom+v.bottom)/F.y,left:(j.left-T.left+v.left)/F.x,right:(T.right-j.right+v.right)/F.x}}const rQ=e=>({name:"arrow",options:e,async fn(r){const{x:t,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:A}=r,{element:d,padding:f=0}=sA(e,r)||{};if(d==null)return{};const h=U4(f),m={x:t,y:a},p=Iy(s),v=Ly(p),x=await o.getDimensions(d),w=p==="y",j=w?"top":"left",N=w?"bottom":"right",S=w?"clientHeight":"clientWidth",F=i.reference[v]+i.reference[p]-m[p]-i.floating[v],T=m[p]-i.reference[p],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=D?D[S]:0;(!k||!await(o.isElement==null?void 0:o.isElement(D)))&&(k=l.floating[S]||i.floating[v]);const P=F/2-T/2,E=k/2-x[v]/2-1,V=Ad(h[j],E),Q=Ad(h[N],E),$=V,G=k-x[v]-Q,R=k/2-x[v]/2+P,ee=r1($,R,G),K=!A.arrow&&Gf(s)!=null&&R!==ee&&i.reference[v]/2-(R<$?V:Q)-x[v]/2<0,z=K?R<$?R-$:R-G:0;return{[p]:m[p]+z,data:{[p]:ee,centerOffset:R-ee-z,...K&&{alignmentOffset:z}},reset:K}}}),aQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var t,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:A,elements:d}=r,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...w}=sA(e,r);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const j=iA(s),N=Xl(l),S=iA(l)===l,F=await(A.isRTL==null?void 0:A.isRTL(d.floating)),T=m||(S||!x?[Xg(l)]:GP(l)),D=v!=="none";!m&&D&&T.push(...ZP(l,x,v,F));const k=[l,...T],P=await om(r,w),E=[];let V=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&E.push(P[j]),h){const R=WP(s,o,F);E.push(P[R[0]],P[R[1]])}if(V=[...V,{placement:s,overflows:E}],!E.every(R=>R<=0)){var Q,$;const R=(((Q=i.flip)==null?void 0:Q.index)||0)+1,ee=k[R];if(ee&&(!(h==="alignment"?N!==Xl(ee):!1)||V.every(X=>Xl(X.placement)===N?X.overflows[0]>0:!0)))return{data:{index:R,overflows:V},reset:{placement:ee}};let K=($=V.filter(z=>z.overflows[0]<=0).sort((z,X)=>z.overflows[1]-X.overflows[1])[0])==null?void 0:$.placement;if(!K)switch(p){case"bestFit":{var G;const z=(G=V.filter(X=>{if(D){const ne=Xl(X.placement);return ne===N||ne==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(ne=>ne>0).reduce((ne,ue)=>ne+ue,0)]).sort((X,ne)=>X[1]-ne[1])[0])==null?void 0:G[0];z&&(K=z);break}case"initialPlacement":K=l;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function Qj(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function Rj(e){return KP.some(r=>e[r]>=0)}const nQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:t}=r,{strategy:a="referenceHidden",...s}=sA(e,r);switch(a){case"referenceHidden":{const i=await om(r,{...s,elementContext:"reference"}),o=Qj(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Rj(o)}}}case"escaped":{const i=await om(r,{...s,altBoundary:!0}),o=Qj(i,t.floating);return{data:{escapedOffsets:o,escaped:Rj(o)}}}default:return{}}}}},L4=new Set(["left","top"]);async function sQ(e,r){const{placement:t,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=iA(t),l=Gf(t),A=Xl(t)==="y",d=L4.has(o)?-1:1,f=i&&A?-1:1,h=sA(r,e);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),A?{x:p*f,y:m*d}:{x:m*d,y:p*f}}const iQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var t,a;const{x:s,y:i,placement:o,middlewareData:l}=r,A=await sQ(r,e);return o===((t=l.offset)==null?void 0:t.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+A.x,y:i+A.y,data:{...A,placement:o}}}}},oQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:t,y:a,placement:s}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:j,y:N}=w;return{x:j,y:N}}},...A}=sA(e,r),d={x:t,y:a},f=await om(r,A),h=Xl(iA(s)),m=Uy(h);let p=d[m],v=d[h];if(i){const w=m==="y"?"top":"left",j=m==="y"?"bottom":"right",N=p+f[w],S=p-f[j];p=r1(N,p,S)}if(o){const w=h==="y"?"top":"left",j=h==="y"?"bottom":"right",N=v+f[w],S=v-f[j];v=r1(N,v,S)}const x=l.fn({...r,[m]:p,[h]:v});return{...x,data:{x:x.x-t,y:x.y-a,enabled:{[m]:i,[h]:o}}}}}},lQ=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:t,y:a,placement:s,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:A=!0,crossAxis:d=!0}=sA(e,r),f={x:t,y:a},h=Xl(s),m=Uy(h);let p=f[m],v=f[h];const x=sA(l,r),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(A){const S=m==="y"?"height":"width",F=i.reference[m]-i.floating[S]+w.mainAxis,T=i.reference[m]+i.reference[S]-w.mainAxis;p<F?p=F:p>T&&(p=T)}if(d){var j,N;const S=m==="y"?"width":"height",F=L4.has(iA(s)),T=i.reference[h]-i.floating[S]+(F&&((j=o.offset)==null?void 0:j[h])||0)+(F?0:w.crossAxis),D=i.reference[h]+i.reference[S]+(F?0:((N=o.offset)==null?void 0:N[h])||0)-(F?w.crossAxis:0);v<T?v=T:v>D&&(v=D)}return{[m]:p,[h]:v}}}},cQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var t,a;const{placement:s,rects:i,platform:o,elements:l}=r,{apply:A=()=>{},...d}=sA(e,r),f=await om(r,d),h=iA(s),m=Gf(s),p=Xl(s)==="y",{width:v,height:x}=i.floating;let w,j;h==="top"||h==="bottom"?(w=h,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=h,w=m==="end"?"top":"bottom");const N=x-f.top-f.bottom,S=v-f.left-f.right,F=Ad(x-f[w],N),T=Ad(v-f[j],S),D=!r.middlewareData.shift;let k=F,P=T;if((t=r.middlewareData.shift)!=null&&t.enabled.x&&(P=S),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(k=N),D&&!m){const V=uo(f.left,0),Q=uo(f.right,0),$=uo(f.top,0),G=uo(f.bottom,0);p?P=v-2*(V!==0||Q!==0?V+Q:uo(f.left,f.right)):k=x-2*($!==0||G!==0?$+G:uo(f.top,f.bottom))}await A({...r,availableWidth:P,availableHeight:k});const E=await o.getDimensions(l.floating);return v!==E.width||x!==E.height?{reset:{rects:!0}}:{}}}};function q0(){return typeof window<"u"}function Yf(e){return I4(e)?(e.nodeName||"").toLowerCase():"#document"}function ho(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function lc(e){var r;return(r=(I4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function I4(e){return q0()?e instanceof Node||e instanceof ho(e).Node:!1}function bi(e){return q0()?e instanceof Element||e instanceof ho(e).Element:!1}function sc(e){return q0()?e instanceof HTMLElement||e instanceof ho(e).HTMLElement:!1}function Tj(e){return!q0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ho(e).ShadowRoot}const AQ=new Set(["inline","contents"]);function Sm(e){const{overflow:r,overflowX:t,overflowY:a,display:s}=Qo(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+t)&&!AQ.has(s)}const dQ=new Set(["table","td","th"]);function uQ(e){return dQ.has(Yf(e))}const fQ=[":popover-open",":modal"];function W0(e){return fQ.some(r=>{try{return e.matches(r)}catch{return!1}})}const hQ=["transform","translate","scale","rotate","perspective"],mQ=["transform","translate","scale","rotate","perspective","filter"],pQ=["paint","layout","strict","content"];function Py(e){const r=Qy(),t=bi(e)?Qo(e):e;return hQ.some(a=>t[a]?t[a]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||mQ.some(a=>(t.willChange||"").includes(a))||pQ.some(a=>(t.contain||"").includes(a))}function gQ(e){let r=dd(e);for(;sc(r)&&!Lf(r);){if(Py(r))return r;if(W0(r))return null;r=dd(r)}return null}function Qy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xQ=new Set(["html","body","#document"]);function Lf(e){return xQ.has(Yf(e))}function Qo(e){return ho(e).getComputedStyle(e)}function G0(e){return bi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dd(e){if(Yf(e)==="html")return e;const r=e.assignedSlot||e.parentNode||Tj(e)&&e.host||lc(e);return Tj(r)?r.host:r}function P4(e){const r=dd(e);return Lf(r)?e.ownerDocument?e.ownerDocument.body:e.body:sc(r)&&Sm(r)?r:P4(r)}function lm(e,r,t){var a;r===void 0&&(r=[]),t===void 0&&(t=!0);const s=P4(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=ho(s);if(i){const l=n1(o);return r.concat(o,o.visualViewport||[],Sm(s)?s:[],l&&t?lm(l):[])}return r.concat(s,lm(s,[],t))}function n1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Q4(e){const r=Qo(e);let t=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const s=sc(e),i=s?e.offsetWidth:t,o=s?e.offsetHeight:a,l=Yg(t)!==i||Yg(a)!==o;return l&&(t=i,a=o),{width:t,height:a,$:l}}function Ry(e){return bi(e)?e:e.contextElement}function Bf(e){const r=Ry(e);if(!sc(r))return rc(1);const t=r.getBoundingClientRect(),{width:a,height:s,$:i}=Q4(r);let o=(i?Yg(t.width):t.width)/a,l=(i?Yg(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vQ=rc(0);function R4(e){const r=ho(e);return!Qy()||!r.visualViewport?vQ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function wQ(e,r,t){return r===void 0&&(r=!1),!t||r&&t!==ho(e)?!1:r}function hu(e,r,t,a){r===void 0&&(r=!1),t===void 0&&(t=!1);const s=e.getBoundingClientRect(),i=Ry(e);let o=rc(1);r&&(a?bi(a)&&(o=Bf(a)):o=Bf(e));const l=wQ(i,t,a)?R4(i):rc(0);let A=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const m=ho(i),p=a&&bi(a)?ho(a):a;let v=m,x=n1(v);for(;x&&a&&p!==v;){const w=Bf(x),j=x.getBoundingClientRect(),N=Qo(x),S=j.left+(x.clientLeft+parseFloat(N.paddingLeft))*w.x,F=j.top+(x.clientTop+parseFloat(N.paddingTop))*w.y;A*=w.x,d*=w.y,f*=w.x,h*=w.y,A+=S,d+=F,v=ho(x),x=n1(v)}}return Jg({width:f,height:h,x:A,y:d})}function Y0(e,r){const t=G0(e).scrollLeft;return r?r.left+t:hu(lc(e)).left+t}function T4(e,r){const t=e.getBoundingClientRect(),a=t.left+r.scrollLeft-Y0(e,t),s=t.top+r.scrollTop;return{x:a,y:s}}function yQ(e){let{elements:r,rect:t,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=lc(a),l=r?W0(r.floating):!1;if(a===o||l&&i)return t;let A={scrollLeft:0,scrollTop:0},d=rc(1);const f=rc(0),h=sc(a);if((h||!h&&!i)&&((Yf(a)!=="body"||Sm(o))&&(A=G0(a)),sc(a))){const p=hu(a);d=Bf(a),f.x=p.x+a.clientLeft,f.y=p.y+a.clientTop}const m=o&&!h&&!i?T4(o,A):rc(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-A.scrollLeft*d.x+f.x+m.x,y:t.y*d.y-A.scrollTop*d.y+f.y+m.y}}function bQ(e){return Array.from(e.getClientRects())}function jQ(e){const r=lc(e),t=G0(e),a=e.ownerDocument.body,s=uo(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=uo(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-t.scrollLeft+Y0(e);const l=-t.scrollTop;return Qo(a).direction==="rtl"&&(o+=uo(r.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}const Mj=25;function NQ(e,r){const t=ho(e),a=lc(e),s=t.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,A=0;if(s){i=s.width,o=s.height;const f=Qy();(!f||f&&r==="fixed")&&(l=s.offsetLeft,A=s.offsetTop)}const d=Y0(a);if(d<=0){const f=a.ownerDocument,h=f.body,m=getComputedStyle(h),p=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,v=Math.abs(a.clientWidth-h.clientWidth-p);v<=Mj&&(i-=v)}else d<=Mj&&(i+=d);return{width:i,height:o,x:l,y:A}}const BQ=new Set(["absolute","fixed"]);function CQ(e,r){const t=hu(e,!0,r==="fixed"),a=t.top+e.clientTop,s=t.left+e.clientLeft,i=sc(e)?Bf(e):rc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,A=s*i.x,d=a*i.y;return{width:o,height:l,x:A,y:d}}function Oj(e,r,t){let a;if(r==="viewport")a=NQ(e,t);else if(r==="document")a=jQ(lc(e));else if(bi(r))a=CQ(r,t);else{const s=R4(e);a={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return Jg(a)}function M4(e,r){const t=dd(e);return t===r||!bi(t)||Lf(t)?!1:Qo(t).position==="fixed"||M4(t,r)}function SQ(e,r){const t=r.get(e);if(t)return t;let a=lm(e,[],!1).filter(l=>bi(l)&&Yf(l)!=="body"),s=null;const i=Qo(e).position==="fixed";let o=i?dd(e):e;for(;bi(o)&&!Lf(o);){const l=Qo(o),A=Py(o);!A&&l.position==="fixed"&&(s=null),(i?!A&&!s:!A&&l.position==="static"&&!!s&&BQ.has(s.position)||Sm(o)&&!A&&M4(e,o))?a=a.filter(f=>f!==o):s=l,o=dd(o)}return r.set(e,a),a}function EQ(e){let{element:r,boundary:t,rootBoundary:a,strategy:s}=e;const o=[...t==="clippingAncestors"?W0(r)?[]:SQ(r,this._c):[].concat(t),a],l=o[0],A=o.reduce((d,f)=>{const h=Oj(r,f,s);return d.top=uo(h.top,d.top),d.right=Ad(h.right,d.right),d.bottom=Ad(h.bottom,d.bottom),d.left=uo(h.left,d.left),d},Oj(r,l,s));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}}function _Q(e){const{width:r,height:t}=Q4(e);return{width:r,height:t}}function FQ(e,r,t){const a=sc(r),s=lc(r),i=t==="fixed",o=hu(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const A=rc(0);function d(){A.x=Y0(s)}if(a||!a&&!i)if((Yf(r)!=="body"||Sm(s))&&(l=G0(r)),a){const p=hu(r,!0,i,r);A.x=p.x+r.clientLeft,A.y=p.y+r.clientTop}else s&&d();i&&!a&&s&&d();const f=s&&!a&&!i?T4(s,l):rc(0),h=o.left+l.scrollLeft-A.x-f.x,m=o.top+l.scrollTop-A.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function Qv(e){return Qo(e).position==="static"}function Hj(e,r){if(!sc(e)||Qo(e).position==="fixed")return null;if(r)return r(e);let t=e.offsetParent;return lc(e)===t&&(t=t.ownerDocument.body),t}function O4(e,r){const t=ho(e);if(W0(e))return t;if(!sc(e)){let s=dd(e);for(;s&&!Lf(s);){if(bi(s)&&!Qv(s))return s;s=dd(s)}return t}let a=Hj(e,r);for(;a&&uQ(a)&&Qv(a);)a=Hj(a,r);return a&&Lf(a)&&Qv(a)&&!Py(a)?t:a||gQ(e)||t}const kQ=async function(e){const r=this.getOffsetParent||O4,t=this.getDimensions,a=await t(e.floating);return{reference:FQ(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function DQ(e){return Qo(e).direction==="rtl"}const UQ={convertOffsetParentRelativeRectToViewportRelativeRect:yQ,getDocumentElement:lc,getClippingRect:EQ,getOffsetParent:O4,getElementRects:kQ,getClientRects:bQ,getDimensions:_Q,getScale:Bf,isElement:bi,isRTL:DQ};function H4(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function LQ(e,r){let t=null,a;const s=lc(e);function i(){var l;clearTimeout(a),(l=t)==null||l.disconnect(),t=null}function o(l,A){l===void 0&&(l=!1),A===void 0&&(A=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=d;if(l||r(),!m||!p)return;const v=Fp(h),x=Fp(s.clientWidth-(f+m)),w=Fp(s.clientHeight-(h+p)),j=Fp(f),S={rootMargin:-v+"px "+-x+"px "+-w+"px "+-j+"px",threshold:uo(0,Ad(1,A))||1};let F=!0;function T(D){const k=D[0].intersectionRatio;if(k!==A){if(!F)return o();k?o(!1,k):a=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!H4(d,e.getBoundingClientRect())&&o(),F=!1}try{t=new IntersectionObserver(T,{...S,root:s.ownerDocument})}catch{t=new IntersectionObserver(T,S)}t.observe(e)}return o(!0),i}function $4(e,r,t,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:A=!1}=a,d=Ry(e),f=s||i?[...d?lm(d):[],...lm(r)]:[];f.forEach(j=>{s&&j.addEventListener("scroll",t,{passive:!0}),i&&j.addEventListener("resize",t)});const h=d&&l?LQ(d,t):null;let m=-1,p=null;o&&(p=new ResizeObserver(j=>{let[N]=j;N&&N.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(r)})),t()}),d&&!A&&p.observe(d),p.observe(r));let v,x=A?hu(e):null;A&&w();function w(){const j=hu(e);x&&!H4(x,j)&&t(),x=j,v=requestAnimationFrame(w)}return t(),()=>{var j;f.forEach(N=>{s&&N.removeEventListener("scroll",t),i&&N.removeEventListener("resize",t)}),h==null||h(),(j=p)==null||j.disconnect(),p=null,A&&cancelAnimationFrame(v)}}const IQ=iQ,PQ=oQ,QQ=aQ,RQ=cQ,TQ=nQ,$j=rQ,MQ=lQ,OQ=(e,r,t)=>{const a=new Map,s={platform:UQ,...t},i={...s.platform,_c:a};return tQ(e,r,{...s,platform:i})};var HQ=typeof document<"u",$Q=function(){},bg=HQ?y.useLayoutEffect:$Q;function Zg(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let t,a,s;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==r.length)return!1;for(a=t;a--!==0;)if(!Zg(e[a],r[a]))return!1;return!0}if(s=Object.keys(e),t=s.length,t!==Object.keys(r).length)return!1;for(a=t;a--!==0;)if(!{}.hasOwnProperty.call(r,s[a]))return!1;for(a=t;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!Zg(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function K4(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Kj(e,r){const t=K4(e);return Math.round(r*t)/t}function Rv(e){const r=y.useRef(e);return bg(()=>{r.current=e}),r}function V4(e){e===void 0&&(e={});const{placement:r="bottom",strategy:t="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:A,open:d}=e,[f,h]=y.useState({x:0,y:0,strategy:t,placement:r,middlewareData:{},isPositioned:!1}),[m,p]=y.useState(a);Zg(m,a)||p(a);const[v,x]=y.useState(null),[w,j]=y.useState(null),N=y.useCallback(X=>{X!==D.current&&(D.current=X,x(X))},[]),S=y.useCallback(X=>{X!==k.current&&(k.current=X,j(X))},[]),F=i||v,T=o||w,D=y.useRef(null),k=y.useRef(null),P=y.useRef(f),E=A!=null,V=Rv(A),Q=Rv(s),$=Rv(d),G=y.useCallback(()=>{if(!D.current||!k.current)return;const X={placement:r,strategy:t,middleware:m};Q.current&&(X.platform=Q.current),OQ(D.current,k.current,X).then(ne=>{const ue={...ne,isPositioned:$.current!==!1};R.current&&!Zg(P.current,ue)&&(P.current=ue,Hf.flushSync(()=>{h(ue)}))})},[m,r,t,Q,$]);bg(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(X=>({...X,isPositioned:!1})))},[d]);const R=y.useRef(!1);bg(()=>(R.current=!0,()=>{R.current=!1}),[]),bg(()=>{if(F&&(D.current=F),T&&(k.current=T),F&&T){if(V.current)return V.current(F,T,G);G()}},[F,T,G,V,E]);const ee=y.useMemo(()=>({reference:D,floating:k,setReference:N,setFloating:S}),[N,S]),K=y.useMemo(()=>({reference:F,floating:T}),[F,T]),z=y.useMemo(()=>{const X={position:t,left:0,top:0};if(!K.floating)return X;const ne=Kj(K.floating,f.x),ue=Kj(K.floating,f.y);return l?{...X,transform:"translate("+ne+"px, "+ue+"px)",...K4(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:ue}},[t,l,K.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:G,refs:ee,elements:K,floatingStyles:z}),[f,G,ee,K,z])}const KQ=e=>{function r(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:a,padding:s}=typeof e=="function"?e(t):e;return a&&r(a)?a.current!=null?$j({element:a.current,padding:s}).fn(t):{}:a?$j({element:a,padding:s}).fn(t):{}}}},z4=(e,r)=>({...IQ(e),options:[e,r]}),VQ=(e,r)=>({...PQ(e),options:[e,r]}),zQ=(e,r)=>({...MQ(e),options:[e,r]}),q4=(e,r)=>({...QQ(e),options:[e,r]}),qQ=(e,r)=>({...RQ(e),options:[e,r]}),WQ=(e,r)=>({...TQ(e),options:[e,r]}),W4=(e,r)=>({...KQ(e),options:[e,r]});var GQ="Arrow",G4=y.forwardRef((e,r)=>{const{children:t,width:a=10,height:s=5,...i}=e;return n.jsx(jr.svg,{...i,ref:r,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?t:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});G4.displayName=GQ;var YQ=G4;function Y4(e){const[r,t]=y.useState(void 0);return ls(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const A=i.borderBoxSize,d=Array.isArray(A)?A[0]:A;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;t({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else t(void 0)},[e]),r}var Ty="Popper",[X4,Xf]=vl(Ty),[XQ,J4]=X4(Ty),Z4=e=>{const{__scopePopper:r,children:t}=e,[a,s]=y.useState(null);return n.jsx(XQ,{scope:r,anchor:a,onAnchorChange:s,children:t})};Z4.displayName=Ty;var eS="PopperAnchor",tS=y.forwardRef((e,r)=>{const{__scopePopper:t,virtualRef:a,...s}=e,i=J4(eS,t),o=y.useRef(null),l=ga(r,o),A=y.useRef(null);return y.useEffect(()=>{const d=A.current;A.current=(a==null?void 0:a.current)||o.current,d!==A.current&&i.onAnchorChange(A.current)}),a?null:n.jsx(jr.div,{...s,ref:l})});tS.displayName=eS;var My="PopperContent",[JQ,ZQ]=X4(My),rS=y.forwardRef((e,r)=>{var M,Z,oe,fe,ve,Ee;const{__scopePopper:t,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:A=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...x}=e,w=J4(My,t),[j,N]=y.useState(null),S=ga(r,_e=>N(_e)),[F,T]=y.useState(null),D=Y4(F),k=(D==null?void 0:D.width)??0,P=(D==null?void 0:D.height)??0,E=a+(i!=="center"?"-"+i:""),V=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Q=Array.isArray(d)?d:[d],$=Q.length>0,G={padding:V,boundary:Q.filter(tR),altBoundary:$},{refs:R,floatingStyles:ee,placement:K,isPositioned:z,middlewareData:X}=V4({strategy:"fixed",placement:E,whileElementsMounted:(..._e)=>$4(..._e,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[z4({mainAxis:s+P,alignmentAxis:o}),A&&VQ({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?zQ():void 0,...G}),A&&q4({...G}),qQ({...G,apply:({elements:_e,rects:xe,availableWidth:Ae,availableHeight:dt})=>{const{width:Ft,height:mt}=xe.reference,Ue=_e.floating.style;Ue.setProperty("--radix-popper-available-width",`${Ae}px`),Ue.setProperty("--radix-popper-available-height",`${dt}px`),Ue.setProperty("--radix-popper-anchor-width",`${Ft}px`),Ue.setProperty("--radix-popper-anchor-height",`${mt}px`)}}),F&&W4({element:F,padding:l}),rR({arrowWidth:k,arrowHeight:P}),m&&WQ({strategy:"referenceHidden",...G})]}),[ne,ue]=sS(K),_=Bi(v);ls(()=>{z&&(_==null||_())},[z,_]);const I=(M=X.arrow)==null?void 0:M.x,W=(Z=X.arrow)==null?void 0:Z.y,te=((oe=X.arrow)==null?void 0:oe.centerOffset)!==0,[J,Y]=y.useState();return ls(()=>{j&&Y(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:z?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(fe=X.transformOrigin)==null?void 0:fe.x,(ve=X.transformOrigin)==null?void 0:ve.y].join(" "),...((Ee=X.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(JQ,{scope:t,placedSide:ne,onArrowChange:T,arrowX:I,arrowY:W,shouldHideArrow:te,children:n.jsx(jr.div,{"data-side":ne,"data-align":ue,...x,ref:S,style:{...x.style,animation:z?void 0:"none"}})})})});rS.displayName=My;var aS="PopperArrow",eR={top:"bottom",right:"left",bottom:"top",left:"right"},nS=y.forwardRef(function(r,t){const{__scopePopper:a,...s}=r,i=ZQ(aS,a),o=eR[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(YQ,{...s,ref:t,style:{...s.style,display:"block"}})})});nS.displayName=aS;function tR(e){return e!==null}var rR=e=>({name:"transformOrigin",options:e,fn(r){var w,j,N;const{placement:t,rects:a,middlewareData:s}=r,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,A=o?0:e.arrowHeight,[d,f]=sS(t),h={start:"0%",center:"50%",end:"100%"}[f],m=(((j=s.arrow)==null?void 0:j.x)??0)+l/2,p=(((N=s.arrow)==null?void 0:N.y)??0)+A/2;let v="",x="";return d==="bottom"?(v=o?h:`${m}px`,x=`${-A}px`):d==="top"?(v=o?h:`${m}px`,x=`${a.floating.height+A}px`):d==="right"?(v=`${-A}px`,x=o?h:`${p}px`):d==="left"&&(v=`${a.floating.width+A}px`,x=o?h:`${p}px`),{data:{x:v,y:x}}}});function sS(e){const[r,t="center"]=e.split("-");return[r,t]}var Oy=Z4,Hy=tS,$y=rS,Ky=nS,iS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aR="VisuallyHidden",X0=y.forwardRef((e,r)=>n.jsx(jr.span,{...e,ref:r,style:{...iS,...e.style}}));X0.displayName=aR;var nR=X0,[J0,FZ]=vl("Tooltip",[Xf]),Z0=Xf(),oS="TooltipProvider",sR=700,s1="tooltip.open",[iR,Vy]=J0(oS),lS=e=>{const{__scopeTooltip:r,delayDuration:t=sR,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,o=y.useRef(!0),l=y.useRef(!1),A=y.useRef(0);return y.useEffect(()=>{const d=A.current;return()=>window.clearTimeout(d)},[]),n.jsx(iR,{scope:r,isOpenDelayedRef:o,delayDuration:t,onOpen:y.useCallback(()=>{window.clearTimeout(A.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};lS.displayName=oS;var cm="Tooltip",[oR,ex]=J0(cm),cS=e=>{const{__scopeTooltip:r,children:t,open:a,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,A=Vy(cm,e.__scopeTooltip),d=Z0(r),[f,h]=y.useState(null),m=tc(),p=y.useRef(0),v=o??A.disableHoverableContent,x=l??A.delayDuration,w=y.useRef(!1),[j,N]=cd({prop:a,defaultProp:s??!1,onChange:k=>{k?(A.onOpen(),document.dispatchEvent(new CustomEvent(s1))):A.onClose(),i==null||i(k)},caller:cm}),S=y.useMemo(()=>j?w.current?"delayed-open":"instant-open":"closed",[j]),F=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,N(!0)},[N]),T=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,N(!1)},[N]),D=y.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,N(!0),p.current=0},x)},[x,N]);return y.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(Oy,{...d,children:n.jsx(oR,{scope:r,contentId:m,open:j,stateAttribute:S,trigger:f,onTriggerChange:h,onTriggerEnter:y.useCallback(()=>{A.isOpenDelayedRef.current?D():F()},[A.isOpenDelayedRef,D,F]),onTriggerLeave:y.useCallback(()=>{v?T():(window.clearTimeout(p.current),p.current=0)},[T,v]),onOpen:F,onClose:T,disableHoverableContent:v,children:t})})};cS.displayName=cm;var i1="TooltipTrigger",AS=y.forwardRef((e,r)=>{const{__scopeTooltip:t,...a}=e,s=ex(i1,t),i=Vy(i1,t),o=Z0(t),l=y.useRef(null),A=ga(r,l,s.onTriggerChange),d=y.useRef(!1),f=y.useRef(!1),h=y.useCallback(()=>d.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Hy,{asChild:!0,...o,children:n.jsx(jr.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:A,onPointerMove:Ut(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ut(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Ut(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ut(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ut(e.onBlur,s.onClose),onClick:Ut(e.onClick,s.onClose)})})});AS.displayName=i1;var lR="TooltipPortal",[kZ,cR]=J0(lR,{forceMount:void 0}),If="TooltipContent",dS=y.forwardRef((e,r)=>{const t=cR(If,e.__scopeTooltip),{forceMount:a=t.forceMount,side:s="top",...i}=e,o=ex(If,e.__scopeTooltip);return n.jsx(oc,{present:a||o.open,children:o.disableHoverableContent?n.jsx(uS,{side:s,...i,ref:r}):n.jsx(AR,{side:s,...i,ref:r})})}),AR=y.forwardRef((e,r)=>{const t=ex(If,e.__scopeTooltip),a=Vy(If,e.__scopeTooltip),s=y.useRef(null),i=ga(r,s),[o,l]=y.useState(null),{trigger:A,onClose:d}=t,f=s.current,{onPointerInTransitChange:h}=a,m=y.useCallback(()=>{l(null),h(!1)},[h]),p=y.useCallback((v,x)=>{const w=v.currentTarget,j={x:v.clientX,y:v.clientY},N=mR(j,w.getBoundingClientRect()),S=pR(j,N),F=gR(x.getBoundingClientRect()),T=vR([...S,...F]);l(T),h(!0)},[h]);return y.useEffect(()=>()=>m(),[m]),y.useEffect(()=>{if(A&&f){const v=w=>p(w,f),x=w=>p(w,A);return A.addEventListener("pointerleave",v),f.addEventListener("pointerleave",x),()=>{A.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",x)}}},[A,f,p,m]),y.useEffect(()=>{if(o){const v=x=>{const w=x.target,j={x:x.clientX,y:x.clientY},N=(A==null?void 0:A.contains(w))||(f==null?void 0:f.contains(w)),S=!xR(j,o);N?m():S&&(m(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[A,f,o,d,m]),n.jsx(uS,{...e,ref:i})}),[dR,uR]=J0(cm,{isInside:!1}),fR=kL("TooltipContent"),uS=y.forwardRef((e,r)=>{const{__scopeTooltip:t,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,A=ex(If,t),d=Z0(t),{onClose:f}=A;return y.useEffect(()=>(document.addEventListener(s1,f),()=>document.removeEventListener(s1,f)),[f]),y.useEffect(()=>{if(A.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(A.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[A.trigger,f]),n.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:n.jsxs($y,{"data-state":A.stateAttribute,...d,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(fR,{children:a}),n.jsx(dR,{scope:t,isInside:!0,children:n.jsx(nR,{id:A.contentId,role:"tooltip",children:s||a})})]})})});dS.displayName=If;var fS="TooltipArrow",hR=y.forwardRef((e,r)=>{const{__scopeTooltip:t,...a}=e,s=Z0(t);return uR(fS,t).isInside?null:n.jsx(Ky,{...s,...a,ref:r})});hR.displayName=fS;function mR(e,r){const t=Math.abs(r.top-e.y),a=Math.abs(r.bottom-e.y),s=Math.abs(r.right-e.x),i=Math.abs(r.left-e.x);switch(Math.min(t,a,s,i)){case i:return"left";case s:return"right";case t:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function pR(e,r,t=5){const a=[];switch(r){case"top":a.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":a.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":a.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":a.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return a}function gR(e){const{top:r,right:t,bottom:a,left:s}=e;return[{x:s,y:r},{x:t,y:r},{x:t,y:a},{x:s,y:a}]}function xR(e,r){const{x:t,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],A=r[o],d=l.x,f=l.y,h=A.x,m=A.y;f>a!=m>a&&t<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function vR(e){const r=e.slice();return r.sort((t,a)=>t.x<a.x?-1:t.x>a.x?1:t.y<a.y?-1:t.y>a.y?1:0),wR(r)}function wR(e){if(e.length<=1)return e.slice();const r=[];for(let a=0;a<e.length;a++){const s=e[a];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}r.pop();const t=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}var yR=lS,bR=cS,jR=AS,hS=dS;const mS=yR,pS=bR,gS=jR,zy=y.forwardRef(({className:e,sideOffset:r=4,...t},a)=>n.jsx(hS,{ref:a,sideOffset:r,className:lt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));zy.displayName=hS.displayName;const NR="sidebar:state",BR=3600*24*7,CR="16rem",SR="18rem",ER="3rem",_R="b",xS=y.createContext(null);function tx(){const e=y.useContext(xS);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const vS=y.forwardRef(({defaultOpen:e=!0,open:r,onOpenChange:t,className:a,style:s,children:i,...o},l)=>{const A=dI(),[d,f]=y.useState(!1),[h,m]=y.useState(e),p=r??h,v=y.useCallback(N=>{const S=typeof N=="function"?N(p):N;t?t(S):m(S),document.cookie=`${NR}=${S}; path=/; max-age=${BR}`},[t,p]),x=y.useCallback(()=>A?f(N=>!N):v(N=>!N),[A,v,f]);y.useEffect(()=>{const N=S=>{S.key===_R&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),x())};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[x]);const w=p?"expanded":"collapsed",j=y.useMemo(()=>({state:w,open:p,setOpen:v,isMobile:A,openMobile:d,setOpenMobile:f,toggleSidebar:x}),[w,p,v,A,d,f,x]);return n.jsx(xS.Provider,{value:j,children:n.jsx(mS,{delayDuration:0,children:n.jsx("div",{style:{"--sidebar-width":CR,"--sidebar-width-icon":ER,...s},className:lt("group/sidebar-wrapper flex min-h-svh w-full bg-background",a),ref:l,...o,children:i})})})});vS.displayName="SidebarProvider";const wS=y.forwardRef(({side:e="left",variant:r="sidebar",collapsible:t="offcanvas",className:a,children:s,...i},o)=>{const{isMobile:l,state:A,openMobile:d,setOpenMobile:f}=tx();return t==="none"?n.jsx("div",{className:lt("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a),ref:o,...i,children:s}):l?n.jsx(TP,{open:d,onOpenChange:f,...i,children:n.jsx(D4,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":SR},side:e,children:n.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):n.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":A,"data-collapsible":A==="collapsed"?t:"","data-variant":r,"data-side":e,children:[n.jsx("div",{className:lt("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),n.jsx("div",{className:lt("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...i,children:n.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});wS.displayName="Sidebar";const yS=y.forwardRef(({className:e,onClick:r,...t},a)=>{const{toggleSidebar:s}=tx();return n.jsxs(ye,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:lt("h-7 w-7",e),onClick:i=>{r==null||r(i),s()},...t,children:[n.jsx(rI,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});yS.displayName="SidebarTrigger";const FR=y.forwardRef(({className:e,...r},t)=>{const{toggleSidebar:a}=tx();return n.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:lt("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...r})});FR.displayName="SidebarRail";const bS=y.forwardRef(({className:e,...r},t)=>n.jsx("main",{ref:t,className:lt("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...r}));bS.displayName="SidebarInset";const kR=y.forwardRef(({className:e,...r},t)=>n.jsx(Ke,{ref:t,"data-sidebar":"input",className:lt("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...r}));kR.displayName="SidebarInput";const jS=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"header",className:lt("flex flex-col gap-2 p-2",e),...r}));jS.displayName="SidebarHeader";const NS=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"footer",className:lt("flex flex-col gap-2 p-2",e),...r}));NS.displayName="SidebarFooter";const DR=y.forwardRef(({className:e,...r},t)=>n.jsx(xs,{ref:t,"data-sidebar":"separator",className:lt("mx-2 w-auto bg-sidebar-border",e),...r}));DR.displayName="SidebarSeparator";const BS=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"content",className:lt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...r}));BS.displayName="SidebarContent";const o1=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"group",className:lt("relative flex w-full min-w-0 flex-col p-2",e),...r}));o1.displayName="SidebarGroup";const l1=y.forwardRef(({className:e,asChild:r=!1,...t},a)=>{const s=r?qf:"div";return n.jsx(s,{ref:a,"data-sidebar":"group-label",className:lt("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...t})});l1.displayName="SidebarGroupLabel";const UR=y.forwardRef(({className:e,asChild:r=!1,...t},a)=>{const s=r?qf:"button";return n.jsx(s,{ref:a,"data-sidebar":"group-action",className:lt("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...t})});UR.displayName="SidebarGroupAction";const c1=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"group-content",className:lt("w-full text-sm",e),...r}));c1.displayName="SidebarGroupContent";const A1=y.forwardRef(({className:e,...r},t)=>n.jsx("ul",{ref:t,"data-sidebar":"menu",className:lt("flex w-full min-w-0 flex-col gap-1",e),...r}));A1.displayName="SidebarMenu";const d1=y.forwardRef(({className:e,...r},t)=>n.jsx("li",{ref:t,"data-sidebar":"menu-item",className:lt("group/menu-item relative",e),...r}));d1.displayName="SidebarMenuItem";const LR=Q0("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),u1=y.forwardRef(({asChild:e=!1,isActive:r=!1,variant:t="default",size:a="default",tooltip:s,className:i,...o},l)=>{const A=e?qf:"button",{isMobile:d,state:f}=tx(),h=n.jsx(A,{ref:l,"data-sidebar":"menu-button","data-size":a,"data-active":r,className:lt(LR({variant:t,size:a}),i),...o});return s?(typeof s=="string"&&(s={children:s}),n.jsxs(pS,{children:[n.jsx(gS,{asChild:!0,children:h}),n.jsx(zy,{side:"right",align:"center",hidden:f!=="collapsed"||d,...s})]})):h});u1.displayName="SidebarMenuButton";const IR=y.forwardRef(({className:e,asChild:r=!1,showOnHover:t=!1,...a},s)=>{const i=r?qf:"button";return n.jsx(i,{ref:s,"data-sidebar":"menu-action",className:lt("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...a})});IR.displayName="SidebarMenuAction";const PR=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:lt("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...r}));PR.displayName="SidebarMenuBadge";const QR=y.forwardRef(({className:e,showIcon:r=!1,...t},a)=>{const s=y.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return n.jsxs("div",{ref:a,"data-sidebar":"menu-skeleton",className:lt("rounded-md h-8 flex gap-2 px-2 items-center",e),...t,children:[r&&n.jsx(Mr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),n.jsx(Mr,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});QR.displayName="SidebarMenuSkeleton";const RR=y.forwardRef(({className:e,...r},t)=>n.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:lt("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...r}));RR.displayName="SidebarMenuSub";const TR=y.forwardRef(({...e},r)=>n.jsx("li",{ref:r,...e}));TR.displayName="SidebarMenuSubItem";const MR=y.forwardRef(({asChild:e=!1,size:r="md",isActive:t,className:a,...s},i)=>{const o=e?qf:"a";return n.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":r,"data-active":t,className:lt("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",a),...s})});MR.displayName="SidebarMenuSubButton";const OR={theme:"system",setTheme:()=>null},CS=y.createContext(OR);function HR({children:e,defaultTheme:r="system",storageKey:t="vite-ui-theme",...a}){const[s,i]=y.useState(()=>(typeof window<"u"?localStorage.getItem(t):null)||r);y.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const A=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(A);return}l.classList.add(s)},[s]);const o={theme:s,setTheme:l=>{localStorage.setItem(t,l),i(l)}};return n.jsx(CS.Provider,{...a,value:o,children:e})}const SS=()=>{const e=y.useContext(CS);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function rx(e){const r=e+"CollectionProvider",[t,a]=vl(r),[s,i]=t(r,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:j}=x,N=Ve.useRef(null),S=Ve.useRef(new Map).current;return n.jsx(s,{scope:w,itemMap:S,collectionRef:N,children:j})};o.displayName=r;const l=e+"CollectionSlot",A=uu(l),d=Ve.forwardRef((x,w)=>{const{scope:j,children:N}=x,S=i(l,j),F=ga(w,S.collectionRef);return n.jsx(A,{ref:F,children:N})});d.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=uu(f),p=Ve.forwardRef((x,w)=>{const{scope:j,children:N,...S}=x,F=Ve.useRef(null),T=ga(w,F),D=i(f,j);return Ve.useEffect(()=>(D.itemMap.set(F,{ref:F,...S}),()=>void D.itemMap.delete(F))),n.jsx(m,{[h]:"",ref:T,children:N})});p.displayName=f;function v(x){const w=i(e+"CollectionConsumer",x);return Ve.useCallback(()=>{const N=w.collectionRef.current;if(!N)return[];const S=Array.from(N.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((D,k)=>S.indexOf(D.ref.current)-S.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},v,a]}var $R=y.createContext(void 0);function qy(e){const r=y.useContext($R);return e||r||"ltr"}var Tv="rovingFocusGroup.onEntryFocus",KR={bubbles:!1,cancelable:!0},Em="RovingFocusGroup",[f1,ES,VR]=rx(Em),[zR,_S]=vl(Em,[VR]),[qR,WR]=zR(Em),FS=y.forwardRef((e,r)=>n.jsx(f1.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(f1.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(GR,{...e,ref:r})})}));FS.displayName=Em;var GR=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:A,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,m=y.useRef(null),p=ga(r,m),v=qy(i),[x,w]=cd({prop:o,defaultProp:l??null,onChange:A,caller:Em}),[j,N]=y.useState(!1),S=Bi(d),F=ES(t),T=y.useRef(!1),[D,k]=y.useState(0);return y.useEffect(()=>{const P=m.current;if(P)return P.addEventListener(Tv,S),()=>P.removeEventListener(Tv,S)},[S]),n.jsx(qR,{scope:t,orientation:a,dir:v,loop:s,currentTabStopId:x,onItemFocus:y.useCallback(P=>w(P),[w]),onItemShiftTab:y.useCallback(()=>N(!0),[]),onFocusableItemAdd:y.useCallback(()=>k(P=>P+1),[]),onFocusableItemRemove:y.useCallback(()=>k(P=>P-1),[]),children:n.jsx(jr.div,{tabIndex:j||D===0?-1:0,"data-orientation":a,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Ut(e.onMouseDown,()=>{T.current=!0}),onFocus:Ut(e.onFocus,P=>{const E=!T.current;if(P.target===P.currentTarget&&E&&!j){const V=new CustomEvent(Tv,KR);if(P.currentTarget.dispatchEvent(V),!V.defaultPrevented){const Q=F().filter(K=>K.focusable),$=Q.find(K=>K.active),G=Q.find(K=>K.id===x),ee=[$,G,...Q].filter(Boolean).map(K=>K.ref.current);US(ee,f)}}T.current=!1}),onBlur:Ut(e.onBlur,()=>N(!1))})})}),kS="RovingFocusGroupItem",DS=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,focusable:a=!0,active:s=!1,tabStopId:i,children:o,...l}=e,A=tc(),d=i||A,f=WR(kS,t),h=f.currentTabStopId===d,m=ES(t),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:x}=f;return y.useEffect(()=>{if(a)return p(),()=>v()},[a,p,v]),n.jsx(f1.ItemSlot,{scope:t,id:d,focusable:a,active:s,children:n.jsx(jr.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:r,onMouseDown:Ut(e.onMouseDown,w=>{a?f.onItemFocus(d):w.preventDefault()}),onFocus:Ut(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:Ut(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const j=JR(w,f.orientation,f.dir);if(j!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=m().filter(F=>F.focusable).map(F=>F.ref.current);if(j==="last")S.reverse();else if(j==="prev"||j==="next"){j==="prev"&&S.reverse();const F=S.indexOf(w.currentTarget);S=f.loop?ZR(S,F+1):S.slice(F+1)}setTimeout(()=>US(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:x!=null}):o})})});DS.displayName=kS;var YR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XR(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function JR(e,r,t){const a=XR(e.key,t);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return YR[a]}function US(e,r=!1){const t=document.activeElement;for(const a of e)if(a===t||(a.focus({preventScroll:r}),document.activeElement!==t))return}function ZR(e,r){return e.map((t,a)=>e[(r+a)%e.length])}var eT=FS,tT=DS,h1=["Enter"," "],rT=["ArrowDown","PageUp","Home"],LS=["ArrowUp","PageDown","End"],aT=[...rT,...LS],nT={ltr:[...h1,"ArrowRight"],rtl:[...h1,"ArrowLeft"]},sT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_m="Menu",[Am,iT,oT]=rx(_m),[yu,IS]=vl(_m,[oT,Xf,_S]),ax=Xf(),PS=_S(),[lT,bu]=yu(_m),[cT,Fm]=yu(_m),QS=e=>{const{__scopeMenu:r,open:t=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,l=ax(r),[A,d]=y.useState(null),f=y.useRef(!1),h=Bi(i),m=qy(s);return y.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),n.jsx(Oy,{...l,children:n.jsx(lT,{scope:r,open:t,onOpenChange:h,content:A,onContentChange:d,children:n.jsx(cT,{scope:r,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:o,children:a})})})};QS.displayName=_m;var AT="MenuAnchor",Wy=y.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e,s=ax(t);return n.jsx(Hy,{...s,...a,ref:r})});Wy.displayName=AT;var Gy="MenuPortal",[dT,RS]=yu(Gy,{forceMount:void 0}),TS=e=>{const{__scopeMenu:r,forceMount:t,children:a,container:s}=e,i=bu(Gy,r);return n.jsx(dT,{scope:r,forceMount:t,children:n.jsx(oc,{present:t||i.open,children:n.jsx(Cm,{asChild:!0,container:s,children:a})})})};TS.displayName=Gy;var Po="MenuContent",[uT,Yy]=yu(Po),MS=y.forwardRef((e,r)=>{const t=RS(Po,e.__scopeMenu),{forceMount:a=t.forceMount,...s}=e,i=bu(Po,e.__scopeMenu),o=Fm(Po,e.__scopeMenu);return n.jsx(Am.Provider,{scope:e.__scopeMenu,children:n.jsx(oc,{present:a||i.open,children:n.jsx(Am.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(fT,{...s,ref:r}):n.jsx(hT,{...s,ref:r})})})})}),fT=y.forwardRef((e,r)=>{const t=bu(Po,e.__scopeMenu),a=y.useRef(null),s=ga(r,a);return y.useEffect(()=>{const i=a.current;if(i)return _y(i)},[]),n.jsx(Xy,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ut(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),hT=y.forwardRef((e,r)=>{const t=bu(Po,e.__scopeMenu);return n.jsx(Xy,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),mT=uu("MenuContent.ScrollLock"),Xy=y.forwardRef((e,r)=>{const{__scopeMenu:t,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:A,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:v,...x}=e,w=bu(Po,t),j=Fm(Po,t),N=ax(t),S=PS(t),F=iT(t),[T,D]=y.useState(null),k=y.useRef(null),P=ga(r,k,w.onContentChange),E=y.useRef(0),V=y.useRef(""),Q=y.useRef(0),$=y.useRef(null),G=y.useRef("right"),R=y.useRef(0),ee=v?O0:y.Fragment,K=v?{as:mT,allowPinchZoom:!0}:void 0,z=ne=>{var M,Z;const ue=V.current+ne,_=F().filter(oe=>!oe.disabled),I=document.activeElement,W=(M=_.find(oe=>oe.ref.current===I))==null?void 0:M.textValue,te=_.map(oe=>oe.textValue),J=ST(te,ue,W),Y=(Z=_.find(oe=>oe.textValue===J))==null?void 0:Z.ref.current;(function oe(fe){V.current=fe,window.clearTimeout(E.current),fe!==""&&(E.current=window.setTimeout(()=>oe(""),1e3))})(ue),Y&&setTimeout(()=>Y.focus())};y.useEffect(()=>()=>window.clearTimeout(E.current),[]),Ey();const X=y.useCallback(ne=>{var _,I;return G.current===((_=$.current)==null?void 0:_.side)&&_T(ne,(I=$.current)==null?void 0:I.area)},[]);return n.jsx(uT,{scope:t,searchRef:V,onItemEnter:y.useCallback(ne=>{X(ne)&&ne.preventDefault()},[X]),onItemLeave:y.useCallback(ne=>{var ue;X(ne)||((ue=k.current)==null||ue.focus(),D(null))},[X]),onTriggerLeave:y.useCallback(ne=>{X(ne)&&ne.preventDefault()},[X]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:y.useCallback(ne=>{$.current=ne},[]),children:n.jsx(ee,{...K,children:n.jsx(T0,{asChild:!0,trapped:s,onMountAutoFocus:Ut(i,ne=>{var ue;ne.preventDefault(),(ue=k.current)==null||ue.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:n.jsx(eT,{asChild:!0,...S,dir:j.dir,orientation:"vertical",loop:a,currentTabStopId:T,onCurrentTabStopIdChange:D,onEntryFocus:Ut(A,ne=>{j.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx($y,{role:"menu","aria-orientation":"vertical","data-state":rE(w.open),"data-radix-menu-content":"",dir:j.dir,...N,...x,ref:P,style:{outline:"none",...x.style},onKeyDown:Ut(x.onKeyDown,ne=>{const _=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,I=ne.ctrlKey||ne.altKey||ne.metaKey,W=ne.key.length===1;_&&(ne.key==="Tab"&&ne.preventDefault(),!I&&W&&z(ne.key));const te=k.current;if(ne.target!==te||!aT.includes(ne.key))return;ne.preventDefault();const Y=F().filter(M=>!M.disabled).map(M=>M.ref.current);LS.includes(ne.key)&&Y.reverse(),BT(Y)}),onBlur:Ut(e.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(E.current),V.current="")}),onPointerMove:Ut(e.onPointerMove,dm(ne=>{const ue=ne.target,_=R.current!==ne.clientX;if(ne.currentTarget.contains(ue)&&_){const I=ne.clientX>R.current?"right":"left";G.current=I,R.current=ne.clientX}}))})})})})})})});MS.displayName=Po;var pT="MenuGroup",Jy=y.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(jr.div,{role:"group",...a,ref:r})});Jy.displayName=pT;var gT="MenuLabel",OS=y.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(jr.div,{...a,ref:r})});OS.displayName=gT;var e0="MenuItem",Vj="menu.itemSelect",nx=y.forwardRef((e,r)=>{const{disabled:t=!1,onSelect:a,...s}=e,i=y.useRef(null),o=Fm(e0,e.__scopeMenu),l=Yy(e0,e.__scopeMenu),A=ga(r,i),d=y.useRef(!1),f=()=>{const h=i.current;if(!t&&h){const m=new CustomEvent(Vj,{bubbles:!0,cancelable:!0});h.addEventListener(Vj,p=>a==null?void 0:a(p),{once:!0}),Sy(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(HS,{...s,ref:A,disabled:t,onClick:Ut(e.onClick,f),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:Ut(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Ut(e.onKeyDown,h=>{const m=l.searchRef.current!=="";t||m&&h.key===" "||h1.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});nx.displayName=e0;var HS=y.forwardRef((e,r)=>{const{__scopeMenu:t,disabled:a=!1,textValue:s,...i}=e,o=Yy(e0,t),l=PS(t),A=y.useRef(null),d=ga(r,A),[f,h]=y.useState(!1),[m,p]=y.useState("");return y.useEffect(()=>{const v=A.current;v&&p((v.textContent??"").trim())},[i.children]),n.jsx(Am.ItemSlot,{scope:t,disabled:a,textValue:s??m,children:n.jsx(tT,{asChild:!0,...l,focusable:!a,children:n.jsx(jr.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:Ut(e.onPointerMove,dm(v=>{a?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ut(e.onPointerLeave,dm(v=>o.onItemLeave(v))),onFocus:Ut(e.onFocus,()=>h(!0)),onBlur:Ut(e.onBlur,()=>h(!1))})})})}),xT="MenuCheckboxItem",$S=y.forwardRef((e,r)=>{const{checked:t=!1,onCheckedChange:a,...s}=e;return n.jsx(WS,{scope:e.__scopeMenu,checked:t,children:n.jsx(nx,{role:"menuitemcheckbox","aria-checked":t0(t)?"mixed":t,...s,ref:r,"data-state":eb(t),onSelect:Ut(s.onSelect,()=>a==null?void 0:a(t0(t)?!0:!t),{checkForDefaultPrevented:!1})})})});$S.displayName=xT;var KS="MenuRadioGroup",[vT,wT]=yu(KS,{value:void 0,onValueChange:()=>{}}),VS=y.forwardRef((e,r)=>{const{value:t,onValueChange:a,...s}=e,i=Bi(a);return n.jsx(vT,{scope:e.__scopeMenu,value:t,onValueChange:i,children:n.jsx(Jy,{...s,ref:r})})});VS.displayName=KS;var zS="MenuRadioItem",qS=y.forwardRef((e,r)=>{const{value:t,...a}=e,s=wT(zS,e.__scopeMenu),i=t===s.value;return n.jsx(WS,{scope:e.__scopeMenu,checked:i,children:n.jsx(nx,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":eb(i),onSelect:Ut(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,t)},{checkForDefaultPrevented:!1})})})});qS.displayName=zS;var Zy="MenuItemIndicator",[WS,yT]=yu(Zy,{checked:!1}),GS=y.forwardRef((e,r)=>{const{__scopeMenu:t,forceMount:a,...s}=e,i=yT(Zy,t);return n.jsx(oc,{present:a||t0(i.checked)||i.checked===!0,children:n.jsx(jr.span,{...s,ref:r,"data-state":eb(i.checked)})})});GS.displayName=Zy;var bT="MenuSeparator",YS=y.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(jr.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});YS.displayName=bT;var jT="MenuArrow",XS=y.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e,s=ax(t);return n.jsx(Ky,{...s,...a,ref:r})});XS.displayName=jT;var NT="MenuSub",[DZ,JS]=yu(NT),Qh="MenuSubTrigger",ZS=y.forwardRef((e,r)=>{const t=bu(Qh,e.__scopeMenu),a=Fm(Qh,e.__scopeMenu),s=JS(Qh,e.__scopeMenu),i=Yy(Qh,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:A}=i,d={__scopeMenu:e.__scopeMenu},f=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>f,[f]),y.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),A(null)}},[l,A]),n.jsx(Wy,{asChild:!0,...d,children:n.jsx(HS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":rE(t.open),...e,ref:P0(r,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ut(e.onPointerMove,dm(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!t.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:Ut(e.onPointerLeave,dm(h=>{var p,v;f();const m=(p=t.content)==null?void 0:p.getBoundingClientRect();if(m){const x=(v=t.content)==null?void 0:v.dataset.side,w=x==="right",j=w?-5:5,N=m[w?"left":"right"],S=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+j,y:h.clientY},{x:N,y:m.top},{x:S,y:m.top},{x:S,y:m.bottom},{x:N,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ut(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||nT[a.dir].includes(h.key)&&(t.onOpenChange(!0),(p=t.content)==null||p.focus(),h.preventDefault())})})})});ZS.displayName=Qh;var eE="MenuSubContent",tE=y.forwardRef((e,r)=>{const t=RS(Po,e.__scopeMenu),{forceMount:a=t.forceMount,...s}=e,i=bu(Po,e.__scopeMenu),o=Fm(Po,e.__scopeMenu),l=JS(eE,e.__scopeMenu),A=y.useRef(null),d=ga(r,A);return n.jsx(Am.Provider,{scope:e.__scopeMenu,children:n.jsx(oc,{present:a||i.open,children:n.jsx(Am.Slot,{scope:e.__scopeMenu,children:n.jsx(Xy,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=A.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ut(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ut(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ut(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),m=sT[o.dir].includes(f.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});tE.displayName=eE;function rE(e){return e?"open":"closed"}function t0(e){return e==="indeterminate"}function eb(e){return t0(e)?"indeterminate":e?"checked":"unchecked"}function BT(e){const r=document.activeElement;for(const t of e)if(t===r||(t.focus(),document.activeElement!==r))return}function CT(e,r){return e.map((t,a)=>e[(r+a)%e.length])}function ST(e,r,t){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let o=CT(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const A=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return A!==t?A:void 0}function ET(e,r){const{x:t,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],A=r[o],d=l.x,f=l.y,h=A.x,m=A.y;f>a!=m>a&&t<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function _T(e,r){if(!r)return!1;const t={x:e.clientX,y:e.clientY};return ET(t,r)}function dm(e){return r=>r.pointerType==="mouse"?e(r):void 0}var FT=QS,kT=Wy,DT=TS,UT=MS,LT=Jy,IT=OS,PT=nx,QT=$S,RT=VS,TT=qS,MT=GS,OT=YS,HT=XS,$T=ZS,KT=tE,sx="DropdownMenu",[VT,UZ]=vl(sx,[IS]),Ci=IS(),[zT,aE]=VT(sx),nE=e=>{const{__scopeDropdownMenu:r,children:t,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,A=Ci(r),d=y.useRef(null),[f,h]=cd({prop:s,defaultProp:i??!1,onChange:o,caller:sx});return n.jsx(zT,{scope:r,triggerId:tc(),triggerRef:d,contentId:tc(),open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),modal:l,children:n.jsx(FT,{...A,open:f,onOpenChange:h,dir:a,modal:l,children:t})})};nE.displayName=sx;var sE="DropdownMenuTrigger",iE=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,disabled:a=!1,...s}=e,i=aE(sE,t),o=Ci(t);return n.jsx(kT,{asChild:!0,...o,children:n.jsx(jr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:P0(r,i.triggerRef),onPointerDown:Ut(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ut(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});iE.displayName=sE;var qT="DropdownMenuPortal",oE=e=>{const{__scopeDropdownMenu:r,...t}=e,a=Ci(r);return n.jsx(DT,{...a,...t})};oE.displayName=qT;var lE="DropdownMenuContent",cE=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=aE(lE,t),i=Ci(t),o=y.useRef(!1);return n.jsx(UT,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:r,onCloseAutoFocus:Ut(e.onCloseAutoFocus,l=>{var A;o.current||(A=s.triggerRef.current)==null||A.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ut(e.onInteractOutside,l=>{const A=l.detail.originalEvent,d=A.button===0&&A.ctrlKey===!0,f=A.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cE.displayName=lE;var WT="DropdownMenuGroup",GT=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=Ci(t);return n.jsx(LT,{...s,...a,ref:r})});GT.displayName=WT;var YT="DropdownMenuLabel",AE=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=Ci(t);return n.jsx(IT,{...s,...a,ref:r})});AE.displayName=YT;var XT="DropdownMenuItem",dE=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=Ci(t);return n.jsx(PT,{...s,...a,ref:r})});dE.displayName=XT;var JT="DropdownMenuCheckboxItem",uE=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=Ci(t);return n.jsx(QT,{...s,...a,ref:r})});uE.displayName=JT;var ZT="DropdownMenuRadioGroup",eM=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=Ci(t);return n.jsx(RT,{...s,...a,ref:r})});eM.displayName=ZT;var tM="DropdownMenuRadioItem",fE=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=Ci(t);return n.jsx(TT,{...s,...a,ref:r})});fE.displayName=tM;var rM="DropdownMenuItemIndicator",hE=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=Ci(t);return n.jsx(MT,{...s,...a,ref:r})});hE.displayName=rM;var aM="DropdownMenuSeparator",mE=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=Ci(t);return n.jsx(OT,{...s,...a,ref:r})});mE.displayName=aM;var nM="DropdownMenuArrow",sM=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=Ci(t);return n.jsx(HT,{...s,...a,ref:r})});sM.displayName=nM;var iM="DropdownMenuSubTrigger",pE=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=Ci(t);return n.jsx($T,{...s,...a,ref:r})});pE.displayName=iM;var oM="DropdownMenuSubContent",gE=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=Ci(t);return n.jsx(KT,{...s,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gE.displayName=oM;var lM=nE,cM=iE,AM=oE,xE=cE,vE=AE,wE=dE,yE=uE,bE=fE,jE=hE,NE=mE,BE=pE,CE=gE;const SE=lM,EE=cM,dM=y.forwardRef(({className:e,inset:r,children:t,...a},s)=>n.jsxs(BE,{ref:s,className:lt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",e),...a,children:[t,n.jsx(cl,{className:"ml-auto h-4 w-4"})]}));dM.displayName=BE.displayName;const uM=y.forwardRef(({className:e,...r},t)=>n.jsx(CE,{ref:t,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));uM.displayName=CE.displayName;const tb=y.forwardRef(({className:e,sideOffset:r=4,...t},a)=>n.jsx(AM,{children:n.jsx(xE,{ref:a,sideOffset:r,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));tb.displayName=xE.displayName;const qc=y.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(wE,{ref:a,className:lt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",e),...t}));qc.displayName=wE.displayName;const fM=y.forwardRef(({className:e,children:r,checked:t,...a},s)=>n.jsxs(yE,{ref:s,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(jE,{children:n.jsx(wy,{className:"h-4 w-4"})})}),r]}));fM.displayName=yE.displayName;const hM=y.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(bE,{ref:a,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(jE,{children:n.jsx(ML,{className:"h-2 w-2 fill-current"})})}),r]}));hM.displayName=bE.displayName;const _E=y.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(vE,{ref:a,className:lt("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...t}));_E.displayName=vE.displayName;const m1=y.forwardRef(({className:e,...r},t)=>n.jsx(NE,{ref:t,className:lt("-mx-1 my-1 h-px bg-muted",e),...r}));m1.displayName=NE.displayName;function rb(){const{setTheme:e,theme:r}=SS();return n.jsxs(SE,{children:[n.jsx(EE,{asChild:!0,children:n.jsxs(ye,{variant:"secondary",size:"icon",className:"relative bg-white/80 text-slate-700 border border-black/10 shadow-sm backdrop-blur hover:bg-white/90 dark:bg-slate-900/60 dark:text-slate-100 dark:border-white/10 dark:hover:bg-slate-900/70","aria-label":"Alternar tema",children:[n.jsx(vj,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),n.jsx(gj,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),n.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),n.jsxs(tb,{align:"end",sideOffset:8,children:[n.jsxs(qc,{onClick:()=>e("light"),className:"cursor-pointer",children:[n.jsx(vj,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Claro"}),r==="light"&&n.jsx("span",{className:"ml-auto",children:""})]}),n.jsxs(qc,{onClick:()=>e("dark"),className:"cursor-pointer",children:[n.jsx(gj,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Escuro"}),r==="dark"&&n.jsx("span",{className:"ml-auto",children:""})]}),n.jsxs(qc,{onClick:()=>e("system"),className:"cursor-pointer",children:[n.jsx(tI,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Sistema"}),r==="system"&&n.jsx("span",{className:"ml-auto",children:""})]})]})]})}var Mv={exports:{}},Ov={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zj;function mM(){if(zj)return Ov;zj=1;var e=_0();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var t=typeof Object.is=="function"?Object.is:r,a=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,m){var p=m(),v=a({inst:{value:p,getSnapshot:m}}),x=v[0].inst,w=v[1];return i(function(){x.value=p,x.getSnapshot=m,A(x)&&w({inst:x})},[h,p,m]),s(function(){return A(x)&&w({inst:x}),h(function(){A(x)&&w({inst:x})})},[h]),o(p),p}function A(h){var m=h.getSnapshot;h=h.value;try{var p=m();return!t(h,p)}catch{return!0}}function d(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Ov.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Ov}var qj;function pM(){return qj||(qj=1,Mv.exports=mM()),Mv.exports}var gM=pM();function xM(){return gM.useSyncExternalStore(vM,()=>!0,()=>!1)}function vM(){return()=>{}}var ab="Avatar",[wM,LZ]=vl(ab),[yM,FE]=wM(ab),kE=y.forwardRef((e,r)=>{const{__scopeAvatar:t,...a}=e,[s,i]=y.useState("idle");return n.jsx(yM,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:n.jsx(jr.span,{...a,ref:r})})});kE.displayName=ab;var DE="AvatarImage",UE=y.forwardRef((e,r)=>{const{__scopeAvatar:t,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=FE(DE,t),l=bM(a,i),A=Bi(d=>{s(d),o.onImageLoadingStatusChange(d)});return ls(()=>{l!=="idle"&&A(l)},[l,A]),l==="loaded"?n.jsx(jr.img,{...i,ref:r,src:a}):null});UE.displayName=DE;var LE="AvatarFallback",IE=y.forwardRef((e,r)=>{const{__scopeAvatar:t,delayMs:a,...s}=e,i=FE(LE,t),[o,l]=y.useState(a===void 0);return y.useEffect(()=>{if(a!==void 0){const A=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(A)}},[a]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(jr.span,{...s,ref:r}):null});IE.displayName=LE;function Wj(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function bM(e,{referrerPolicy:r,crossOrigin:t}){const a=xM(),s=y.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,l]=y.useState(()=>Wj(i,e));return ls(()=>{l(Wj(i,e))},[i,e]),ls(()=>{const A=h=>()=>{l(h)};if(!i)return;const d=A("loaded"),f=A("error");return i.addEventListener("load",d),i.addEventListener("error",f),r&&(i.referrerPolicy=r),typeof t=="string"&&(i.crossOrigin=t),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,t,r]),o}var PE=kE,QE=UE,RE=IE;const km=y.forwardRef(({className:e,...r},t)=>n.jsx(PE,{ref:t,className:lt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));km.displayName=PE.displayName;const ix=y.forwardRef(({className:e,...r},t)=>n.jsx(QE,{ref:t,className:lt("aspect-square h-full w-full",e),...r}));ix.displayName=QE.displayName;const Dm=y.forwardRef(({className:e,...r},t)=>n.jsx(RE,{ref:t,className:lt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Dm.displayName=RE.displayName;const TE=y.forwardRef(({...e},r)=>n.jsx("nav",{ref:r,"aria-label":"breadcrumb",...e}));TE.displayName="Breadcrumb";const ME=y.forwardRef(({className:e,...r},t)=>n.jsx("ol",{ref:t,className:lt("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...r}));ME.displayName="BreadcrumbList";const OE=y.forwardRef(({className:e,...r},t)=>n.jsx("li",{ref:t,className:lt("inline-flex items-center gap-1.5",e),...r}));OE.displayName="BreadcrumbItem";const HE=y.forwardRef(({asChild:e,className:r,...t},a)=>{const s=e?qf:"a";return n.jsx(s,{ref:a,className:lt("hover:text-foreground transition-colors focus-visible:outline-none focus-visible:underline",r),...t})});HE.displayName="BreadcrumbLink";const $E=y.forwardRef(({className:e,...r},t)=>n.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:lt("text-foreground font-medium",e),...r}));$E.displayName="BreadcrumbPage";const KE=({children:e,className:r,...t})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:lt("[&>svg]:size-3.5",r),...t,children:e||n.jsx(cl,{className:"h-4 w-4"})});KE.displayName="BreadcrumbSeparator";function Um({children:e,sidebar:r,breadcrumbs:t=[]}){var l;const{activeRole:a}=ac(),{user:s}=xl(),{userData:i}=ac(),o=(i==null?void 0:i.nome)||(s==null?void 0:s.nome)||"Usurio";return n.jsxs(vS,{children:[n.jsx(r,{}),n.jsxs(bS,{children:[n.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl",children:n.jsxs("div",{className:"flex h-16 items-center gap-4 px-6",children:[n.jsx(yS,{className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100"}),n.jsx(xs,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),t.length>0&&n.jsx(TE,{className:"flex-1",children:n.jsx(ME,{children:t.map((A,d)=>n.jsxs("div",{className:"flex items-center",children:[d>0&&n.jsx(KE,{className:"text-slate-400"}),n.jsx(OE,{children:A.href?n.jsx(HE,{href:A.href,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100 font-medium",children:A.label}):n.jsx($E,{className:"text-slate-900 dark:text-slate-100 font-semibold",children:A.label})})]},d))})}),n.jsxs("div",{className:"relative hidden md:flex items-center max-w-sm",children:[n.jsx(vs,{className:"absolute left-3 size-4 text-slate-400"}),n.jsx(Ke,{placeholder:"Buscar...",className:"pl-10 input-medical-primary bg-slate-100 dark:bg-slate-800"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ye,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:n.jsx(sm,{className:"size-4"})}),n.jsx(rb,{}),n.jsx(xs,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(km,{className:"size-8",children:[n.jsx(ix,{src:""}),n.jsx(Dm,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white text-sm font-semibold",children:(l=o==null?void 0:o.charAt(0))==null?void 0:l.toUpperCase()})]}),n.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 hidden sm:block",children:o})]})]})]})}),n.jsx("main",{className:"flex-1 p-6 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 min-h-[calc(100vh-4rem)]",children:n.jsx("div",{className:"mx-auto max-w-7xl",children:e})})]})]})}function sr({className:e,variant:r="default",size:t="default",...a}){const s={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground",success:"bg-success text-success-foreground hover:bg-success/80 border-success/20",warning:"bg-warning text-warning-foreground hover:bg-warning/80 border-warning/20",info:"bg-info text-info-foreground hover:bg-info/80 border-info/20",normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent","priority-low":"bg-medical-gray/10 text-medical-gray border-medical-gray/20 hover:bg-medical-gray/20","priority-medium":"bg-medical-orange/10 text-medical-orange border-medical-orange/20 hover:bg-medical-orange/20","priority-high":"bg-medical-red/10 text-medical-red border-medical-red/20 hover:bg-medical-red/20","medical-primary":"bg-medical-primary/10 text-medical-primary border-medical-primary/20 hover:bg-medical-primary/20","medical-secondary":"bg-medical-secondary/10 text-medical-secondary border-medical-secondary/20 hover:bg-medical-secondary/20","medical-accent":"bg-medical-accent/10 text-medical-accent border-medical-accent/20 hover:bg-medical-accent/20"},i={sm:"px-2 py-0.5 text-xs",default:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"};return n.jsx("div",{className:lt("inline-flex items-center rounded-full border font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","active:scale-95",s[r],i[t],e),...a})}function VE({status:e,className:r,...t}){const a={active:{variant:"success",text:"Ativo"},inactive:{variant:"secondary",text:"Inativo"},pending:{variant:"warning",text:"Pendente"},critical:{variant:"critical",text:"Crtico"},urgent:{variant:"urgent",text:"Urgente"}},s=a[e]||a.active;return n.jsx(sr,{variant:s.variant,className:lt("font-medium",r),...t,children:s.text})}function jM({priority:e,className:r,...t}){const a={low:{variant:"priority-low",text:"Baixa"},medium:{variant:"priority-medium",text:"Mdia"},high:{variant:"priority-high",text:"Alta"}},s=a[e]||a.low;return n.jsx(sr,{variant:s.variant,className:lt("font-medium",r),...t,children:s.text})}const Gj={paciente:{header:{title:"Trathea",subtitle:"Paciente",icon:In},sections:[{label:"Menu Principal",items:[{label:"Perfil",path:"/paciente/perfil",icon:In},{label:"Pronturio",path:"/paciente/prontuario",icon:Ja},{label:"Consultas",path:"/paciente/consultas",icon:fr},{label:"Exames",path:"/paciente/exames",icon:Xc},{label:"Receitas",path:"/paciente/receitas",icon:Xc},{label:"Histrico Mdico",path:"/paciente/historico-medico",icon:by},{label:"Mdicos Vinculados",path:"/paciente/medicos",icon:Kn}]}]},medico:{header:{title:"Trathea",subtitle:"Mdico",icon:Kr},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/medico/dashboard",icon:Ev},{label:"Consultas de Hoje",path:"/medico/consultas/hoje",icon:fr},{label:"Consultas",path:"/medico/minhas-consultas",icon:fr},{label:"Meus Pacientes",path:"/medico/meus-pacientes",icon:Kn}]}]},clinica:{header:{title:"Trathea",subtitle:"Clnica",icon:R0},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/clinica/dashboard",icon:qL},{label:"Calendrio",path:"/clinica/calendario",icon:fr},{label:"Disponibilidade",path:"/clinica/disponibilidade",icon:Pr},{label:"Exames",path:"/clinica/exames",icon:Ja},{label:"Pacientes",path:"/clinica/pacientes",icon:Kn},{label:"Mdicos",path:"/clinica/medicos",icon:Kr},{label:"Relatrios",path:"/clinica/relatorios",icon:nm}]}]},secretaria:{header:{title:"Trathea",subtitle:"Secretaria",icon:Kn},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/secretaria/dashboard",icon:Ev},{label:"Consultas",path:"/secretaria/consultas",icon:fr},{label:"Pacientes",path:"/secretaria/pacientes",icon:Kn},{label:"Mdicos",path:"/secretaria/medicos",icon:Kr},{label:"Solicitaes",path:"/secretaria/solicitacoes",icon:wj}]}]},admin:{header:{title:"Trathea",subtitle:"Admin",icon:ci},sections:[{label:"Painel",items:[{label:"Dashboard",path:"/admin/dashboard",icon:Ev},{label:"Relatrios",path:"/admin/relatorios",icon:nm},{label:"Auditoria",path:"/admin/auditoria",icon:ci}]},{label:"Gerenciar",items:[{label:"Solicitaes",path:"/admin/solicitacoes",icon:wj},{label:"Usurios",path:"/admin/usuarios",icon:Kn},{label:"Clnicas",path:"/admin/clinicas",icon:nc}]},{label:"Telas",items:[{label:"Paciente",path:"/paciente/perfil",icon:In},{label:"Mdico",path:"/medico/dashboard",icon:Kr},{label:"Clnica",path:"/clinica/dashboard",icon:nc},{label:"Secretaria",path:"/secretaria/dashboard",icon:Kn},{label:"Admin",path:"/admin/dashboard",icon:ci}]}]}},Aa={async getPerfil(){var e,r;try{const t="/api/users/",a=ra.getCurrentUser();if(!(a!=null&&a.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const s=t.endsWith("/")?t:`${t}/`;console.log("[DEBUG] Buscando perfil do usurio via:",`${s}${a.id}/`);const i=await Ce.get(`${s}${a.id}/`);return console.log("[DEBUG] Perfil do usurio carregado:",i.data),i.data}catch(t){console.error("[DEBUG] Erro ao buscar perfil do usurio:",(e=t==null?void 0:t.response)==null?void 0:e.status,(r=t==null?void 0:t.response)==null?void 0:r.data);const a=ra.getCurrentUser();if(a)return console.log("[DEBUG] Usando dados do usurio do storage como fallback:",a),a;throw t}},async atualizarPerfil(e){var r,t;try{const a="/api/users/",s=ra.getCurrentUser();if(!(s!=null&&s.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const i=a.endsWith("/")?a:`${a}/`,o={...e};return o.first_name===void 0&&o.nome&&(o.first_name=String(o.nome).split(" ")[0]||""),o.last_name===void 0&&o.nome&&(o.last_name=String(o.nome).split(" ").slice(1).join(" ")||""),o.telefone===void 0&&o.phone&&(o.telefone=o.phone),o.endereco===void 0&&o.address&&(o.endereco=o.address),delete o.nome,delete o.phone,delete o.address,Object.keys(o).forEach(A=>{o[A]===void 0&&delete o[A]}),(await Ce.patch(`${i}${s.id}/`,o)).data}catch(a){throw console.error("[DEBUG] Erro ao atualizar perfil do usurio:",(r=a==null?void 0:a.response)==null?void 0:r.status,(t=a==null?void 0:a.response)==null?void 0:t.data),a}},async getConsultas(e={}){var r,t;try{const a="/api/consultas/";console.log("[DEBUG] Endpoint de consultas:",a);const s=await this.getPacienteDoUsuario();console.log("[DEBUG] Paciente encontrado:",s);const i={...e};if(s!=null&&s.id&&!i.paciente&&(i.paciente=s.id),console.log("[DEBUG] Query params:",i),!(s!=null&&s.id)&&Object.keys(i).length===0)return console.log("[DEBUG] Sem paciente e sem filtros, retornando array vazio"),{results:[]};console.log("[DEBUG] Fazendo requisio para:",a,"com params:",i);const o=await Ce.get(a,{params:i});return console.log("[DEBUG] Resposta da API recebida:",o.data),o.data}catch(a){return console.warn("[pacienteService] getConsultas falhou:",(r=a==null?void 0:a.response)==null?void 0:r.status,(t=a==null?void 0:a.response)==null?void 0:t.data),console.error("[DEBUG] Erro completo:",a),{results:[]}}},async getExames(e={}){var r;try{const t="/api/exames/",a=await this.getPacienteDoUsuario().catch(()=>null),s={...e};return a!=null&&a.id&&!s.paciente&&(s.paciente=a.id),!(a!=null&&a.id)&&Object.keys(s).length===0?{results:[]}:(await Ce.get(t,{params:s})).data}catch(t){return console.warn("[pacienteService] getExames falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),{results:[]}}},async getProntuario(e={}){var r;try{const t="/prontuarios/",a=await this.getPacienteDoUsuario().catch(()=>null),s={...e};return a!=null&&a.id&&!s.paciente&&(s.paciente=a.id),!(a!=null&&a.id)&&Object.keys(s).length===0?{results:[]}:(await Ce.get(t,{params:s})).data}catch(t){return console.warn("[pacienteService] getProntuario falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),{results:[]}}},async getMedicos(e={}){return(await Ce.get("/api/medicos/",{params:e})).data},async getMedicoById(e){const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;return(await Ce.get(`${t}${e}/`)).data},async agendarConsulta({medico:e,data:r,hora:t,modalidade:a,local:s,observacoes:i,tipo:o,motivo:l}){const A="/api/consultas/",d=await this.getPacienteDoUsuario(),f=r?`${r}${t?`T${t}:00`:"T00:00:00"}`:void 0,h={medico:e,paciente:d==null?void 0:d.id,data:r,hora:t,data_hora:f,inicio:f,horario:f,modalidade:a,local:s,observacoes:i,tipo:o,motivo:l};return(await Ce.post(A,h)).data},async getAgendaMedico({medico:e,date:r,apenas_disponiveis:t=!0}){const a="/api/medicos/",s=a.endsWith("/")?a:`${a}/`,i={};r&&(i.date=r),t&&(i.apenas_disponiveis=!0);const o=await Ce.get(`${s}${e}/agenda/`,{params:i}),l=(o==null?void 0:o.data)||[];return Array.isArray(l)?l:Array.isArray(l==null?void 0:l.results)?l.results:[]},async getPacienteDoUsuario(){var a,s;const e="/api/pacientes/me/";{const i=e.endsWith("/")?e:`${e}/`;try{return(await Ce.get(i)).data}catch(o){if(((a=o==null?void 0:o.response)==null?void 0:a.status)===401)throw o}}const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`;try{const i=ra.getCurrentUser(),o=(i==null?void 0:i.id)||(i==null?void 0:i.user_id);if(o){const l=await Ce.get(t,{params:{user:o,user_id:o}}),A=Array.isArray(l==null?void 0:l.data)?l.data:Array.isArray((s=l==null?void 0:l.data)==null?void 0:s.results)?l.data.results:[],d=(A==null?void 0:A[0])||null;if(d)return d}}catch{}try{return(await Ce.get(`${t}me/`)).data}catch{}throw new Error("Paciente no encontrado para o usurio atual.")},async atualizarPaciente(e){var s,i;const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`,a={};if(e==null||typeof e!="object")throw new Error("Dados invlidos para atualizao do paciente");"nome"in e&&(a.nome=String(e.nome||"").trim()),"first_name"in e&&(a.first_name=String(e.first_name||"").trim()),"last_name"in e&&(a.last_name=String(e.last_name||"").trim()),"telefone"in e&&(a.telefone=((i=(s=e.telefone)==null?void 0:s.trim)==null?void 0:i.call(s))||""),"data_nascimento"in e&&(a.data_nascimento=e.data_nascimento),Object.keys(a).forEach(o=>{a[o]===void 0&&delete a[o]});try{return(await Ce.patch(`${t}me/`,a)).data}catch{const l=await this.getPacienteDoUsuario();if(!(l!=null&&l.id))throw new Error("Paciente no identificado para atualizao.");return(await Ce.patch(`${t}${l.id}/`,a)).data}},async getReceitas(e={}){var l;const r="/api/receitas/".trim();if(!r)return{results:[]};const t=r.endsWith("/")?r:`${r}/`,{__propagateErrors:a,...s}=e||{},i={...s};let o=null;try{const A=await this.getPacienteDoUsuario().catch(()=>null);A!=null&&A.id&&(o=A.id,i.paciente||(i.paciente=A.id))}catch{}if(!o&&Object.keys(i).length===0)return{results:[]};try{const A=await Ce.get(t,{params:i}),d=A==null?void 0:A.data;let f=Array.isArray(d)?d:Array.isArray(d==null?void 0:d.results)?d.results:[];const h="/api/receitaitem/".trim();if(h&&f.length>0){const w=h.endsWith("/")?h:`${h}/`;for(let j of f)try{const N=await Ce.get(w,{params:{receita:j.id}}),S=N==null?void 0:N.data,F=Array.isArray(S)?S:Array.isArray(S==null?void 0:S.results)?S.results:[];j.itens=F}catch(N){console.warn(`Erro ao carregar itens da receita ${j.id}:`,N),j.itens=[]}}const m=new Map;[...f].forEach(w=>{if(!w)return;const j=w.id??`${w.created_at}-${w.medicamentos}`;m.has(j)||m.set(j,w)});const p=Array.from(m.values()),v=w=>{if(!w||/^https?:\/\//i.test(w)||/^(data|blob):/i.test(w))return w;const j="http://127.0.0.1:8000".replace(/\/$/,""),N=w.startsWith("/")?w:`/${w}`;return`${j}${N}`};return{results:p.map(w=>{var N;const j=w.arquivo_assinado||w.arquivoAssinado||((N=w==null?void 0:w.arquivo)==null?void 0:N.url)||(w==null?void 0:w.pdf_url)||(w==null?void 0:w.download_url);return j&&!w.arquivo_assinado?{...w,arquivo_assinado:v(j)}:w.arquivo_assinado?{...w,arquivo_assinado:v(w.arquivo_assinado)}:w})}}catch(A){const d=(l=A==null?void 0:A.response)==null?void 0:l.status;if(a===!0&&d&&![404,405,500].includes(d))throw A;return{results:[]}}},async getMedicosVinculados(){const e="/api/pacientes/",r=e.endsWith("/")?e:`${e}/`,t=await this.getPacienteDoUsuario();if(!(t!=null&&t.id))return[];const a=await Ce.get(`${r}${t.id}/medicos/`);return Array.isArray(a.data)?a.data:[]},async solicitarReceita({medico:e,mensagem:r,receita:t}){const a="/api/pacientes/",s=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente no identificado.");const o={medico:e,...r?{mensagem:r}:{},...t?{receita:t,receita_id:t}:{}};return(await Ce.post(`${s}${i.id}/solicitar_receita/`,o)).data},async solicitarRenovacao({medico:e,mensagem:r,receita:t}){var d;const a="/api/pacientes/",s=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente no identificado.");const o={medico:e,tipo:"renovacao",...r?{mensagem:r}:{},...t?{receita:t,receita_id:t}:{}},l=[`${s}${i.id}/solicitar_renovacao/`,`${s}${i.id}/solicitacoes/renovacao/`,`${s}${i.id}/renovar_receita/`,`${s}${i.id}/solicitacao/receita/renovacao/`];let A;for(const f of l)try{return(await Ce.post(f,o)).data}catch(h){A=h;const m=(d=h==null?void 0:h.response)==null?void 0:d.status;if(m&&![404,405].includes(m))break}throw A||new Error("No foi possvel enviar a solicitao de renovao.")},async getDashboard(){var e;try{const r=new Date,t=N=>Array.isArray(N==null?void 0:N.results)?N.results:Array.isArray(N)?N:[],[a,s,i,o]=await Promise.all([this.getConsultas().catch(()=>({results:[]})),this.getExames().catch(()=>({results:[]})),this.getReceitas().catch(()=>({results:[]})),this.getMedicosVinculados().catch(()=>[])]),l=t(a),A=t(s),d=t(i),f=N=>{const S=new Date(N),F=S.getMonth(),T=S.getFullYear();return F===r.getMonth()&&T===r.getFullYear()},h=l.map(N=>{var S,F;return{id:N.id||N.consulta_id,data_hora:N.data_hora||N.horario||N.inicio||N.data||N.start_time||null,status:N.status||"Agendada",tipo:N.tipo||N.modalidade||"Consulta",especialidade:N.especialidade||N.medico_especialidade||null,medico_nome:N.medico_nome||((S=N==null?void 0:N.medico)==null?void 0:S.nome)||((F=N==null?void 0:N.medico)!=null&&F.user?[N.medico.user.first_name,N.medico.user.last_name].filter(Boolean).join(" ").trim():void 0)}}),m=h.filter(N=>N.data_hora&&new Date(N.data_hora)>=r).sort((N,S)=>new Date(N.data_hora)-new Date(S.data_hora)).slice(0,5),p=h.filter(N=>N.data_hora&&f(N.data_hora)).length,v=A.map(N=>({id:N.id,tipo:N.tipo||N.nome||N.categoria||"Exame",status:N.status||N.situacao||"Pendente",data_agendamento:N.data_agendamento||N.agendamento||N.data||null,medico_solicitante:N.medico_solicitante||N.medico||void 0})),x=v.filter(N=>N.data_agendamento&&new Date(N.data_agendamento)>=r).sort((N,S)=>new Date(N.data_agendamento)-new Date(S.data_agendamento)).slice(0,5),w=v.filter(N=>f(N.data_agendamento)&&["realizado","concluido","concludo","finalizado"].includes(String(N.status).toLowerCase())).length,j=t(d).filter(N=>["ativa","valida","vlida"].includes(String(N.status||N.situacao||"").toLowerCase())).length;return{consultasMes:p,consultasProximas:m.length,examesPendentes:v.filter(N=>String(N.status).toLowerCase()==="pendente").length,examesRealizadosMes:w,receitasAtivas:j,medicosVinculados:Array.isArray(o)?o.length:0,proximasConsultas:m,proximosExames:x}}catch(r){return console.warn("[pacienteService] getDashboard fallback falhou:",(e=r==null?void 0:r.response)==null?void 0:e.status),null}},async garantirPacienteDoUsuario(e={}){var s,i;try{const o=await this.getPacienteDoUsuario();if(o!=null&&o.id)return o}catch{}const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`,a={...e};Object.keys(a).forEach(o=>{a[o]===void 0&&delete a[o]});try{return(await Ce.post(`${t}me/`,a)).data}catch(o){console.debug("[pacienteService] POST /pacientes/me/ falhou:",(s=o==null?void 0:o.response)==null?void 0:s.status)}try{const o=await Ce.post(t,a);if(o!=null&&o.data)return o.data}catch(o){console.debug("[pacienteService] POST /pacientes/ falhou:",(i=o==null?void 0:o.response)==null?void 0:i.status)}try{const o=await this.getPacienteDoUsuario();if(o!=null&&o.id)return o}catch{}throw new Error("No foi possvel criar o perfil de paciente para o usurio atual.")}};function Lm({role:e="paciente"}){var P,E;const r=Jn(),t=cs(),{user:a,logout:s}=xl(),{logout:i}=ac(),o=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.tipo)==="admin",l=Gj[e]||Gj.paciente,[A,d]=y.useState(""),[f,h]=y.useState(3),[m,p]=y.useState(!1),[v,x]=y.useState(null),[w,j]=y.useState(e==="paciente");y.useEffect(()=>{let V=!0;if(e!=="paciente"){x(null),j(!1);return}return(async()=>{try{const Q=await Aa.getPacienteDoUsuario();V&&x(Q||null)}catch{V&&x(null)}finally{V&&j(!1)}})(),()=>{V=!1}},[e]);const N=[{title:"Paciente",path:"/paciente/perfil",icon:In},{title:"Mdico",path:"/medico/dashboard",icon:Kr},{title:"Clnica",path:"/clinica/dashboard",icon:nc},{title:"Secretaria",path:"/secretaria/dashboard",icon:AI},{title:"Admin",path:"/admin/dashboard",icon:ci}],S=async()=>{try{await s(),await i(),t("/login")}catch(V){console.error("Erro ao fazer logout:",V)}},F=y.useMemo(()=>w?"Carregando...":e==="paciente"&&v?v.nome||"Paciente":(a==null?void 0:a.nome)||(a==null?void 0:a.name)||"Usurio",[a,v,w,e]),T=y.useMemo(()=>w?"...":e==="paciente"&&v?v.cpf?`CPF: ${v.cpf}`:"Paciente":(a==null?void 0:a.email)||l.header.subtitle,[a,v,w,e,l]),D=y.useMemo(()=>e==="paciente"&&(v!=null&&v.foto)?v.foto:(a==null?void 0:a.avatar)||(a==null?void 0:a.foto)||null,[a,v,e]),k=l.header.icon;return n.jsxs(wS,{className:"medical-sidebar group border-r border-medical-border/20 bg-gradient-to-b from-medical-background to-medical-background/95 backdrop-blur-xl",children:[n.jsxs(jS,{className:"border-b border-medical-border/10 bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl overflow-hidden shadow-lg",children:n.jsx("img",{src:"/logo/logoTrathea.jpg",alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h1",{className:"text-lg font-bold text-medical-primary bg-gradient-to-r from-medical-primary to-medical-secondary bg-clip-text text-transparent",children:l.header.title}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(k,{className:"size-3 text-medical-secondary"}),n.jsx("span",{className:"text-xs font-medium text-medical-secondary uppercase tracking-wider",children:l.header.subtitle})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(vs,{className:lt("absolute left-3 top-1/2 -translate-y-1/2 size-4 transition-colors duration-200",m?"text-medical-primary":"text-muted-foreground")}),n.jsx(Ke,{placeholder:"Buscar pacientes, exames...",value:A,onChange:V=>d(V.target.value),onFocus:()=>p(!0),onBlur:()=>p(!1),className:lt("pl-10 pr-4 h-10 bg-medical-background/50 border-medical-border/30","focus:border-medical-primary/50 focus:ring-medical-primary/20","placeholder:text-muted-foreground/70")})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ye,{size:"sm",variant:"btn-medical-ghost",className:"h-8 px-3 text-xs",children:[n.jsx(ld,{className:"size-3 mr-1"}),"Novo"]}),n.jsxs(ye,{size:"sm",variant:"btn-medical-ghost",className:"h-8 px-3 text-xs",children:[n.jsx(fr,{className:"size-3 mr-1"}),"Agenda"]})]}),n.jsxs(ye,{size:"sm",variant:"ghost",className:"relative h-8 w-8 p-0 hover:bg-medical-primary/10",children:[n.jsx(sm,{className:"size-4"}),f>0&&n.jsx("span",{className:"absolute -top-1 -right-1 size-4 bg-medical-red text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:f})]})]})]}),n.jsxs(BS,{className:"px-3 py-4 space-y-6",children:[e==="paciente"&&v&&n.jsxs("div",{className:"px-3 py-4 rounded-xl bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border border-medical-border/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-medical-primary",children:"Status do Paciente"}),n.jsx(VE,{status:"active",size:"sm"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["ltima consulta: ",new Date().toLocaleDateString()]})]}),l.sections.map((V,Q)=>n.jsxs(o1,{className:"space-y-3",children:[V.label&&n.jsxs(l1,{className:"text-medical-secondary/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[n.jsx(ji,{className:"size-3"}),V.label]}),n.jsx(c1,{children:n.jsx(A1,{className:"space-y-1",children:(V.items||[]).map(($,G)=>{const R=$.icon,ee=r.pathname===$.path;return n.jsx(d1,{children:n.jsx(u1,{asChild:!0,isActive:ee,className:lt("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-medical-primary/10 hover:shadow-sm",ee&&["bg-gradient-to-r from-medical-primary/15 to-medical-secondary/10","border-l-4 border-medical-primary shadow-sm","text-medical-primary font-medium"]),children:n.jsxs(vr,{to:$.path,className:"flex items-center gap-3 w-full",children:[R&&n.jsx("div",{className:lt("flex items-center justify-center size-8 rounded-lg transition-all duration-200",ee?"bg-medical-primary/20 text-medical-primary":"bg-medical-background/50 text-muted-foreground group-hover:bg-medical-primary/10 group-hover:text-medical-primary"),children:n.jsx(R,{className:"size-4"})}),n.jsx("span",{className:"font-medium flex-1",children:$.label}),$.badge&&n.jsx(sr,{variant:"medical-secondary",size:"sm",className:"ml-auto animate-pulse",children:$.badge})]})})},`${$.label}-${G}`)})})})]},`${V.label}-${Q}`)),o&&e!=="admin"&&n.jsxs(o1,{className:"space-y-3",children:[n.jsxs(l1,{className:"text-amber-600/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[n.jsx(ci,{className:"size-3"}),"Acesso Administrativo"]}),n.jsx(c1,{children:n.jsx(A1,{className:"space-y-1",children:N.map((V,Q)=>{const $=V.icon,G=r.pathname===V.path;return n.jsx(d1,{children:n.jsx(u1,{asChild:!0,isActive:G,className:lt("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-amber-500/10 hover:shadow-sm",G&&["bg-gradient-to-r from-amber-500/15 to-orange-500/10","border-l-4 border-amber-500 shadow-sm","text-amber-600 font-medium"]),children:n.jsxs(vr,{to:V.path,className:"flex items-center gap-3 w-full",children:[$&&n.jsx("div",{className:lt("flex items-center justify-center size-8 rounded-lg transition-all duration-200",G?"bg-amber-500/20 text-amber-600":"bg-amber-50 text-amber-600/70 group-hover:bg-amber-500/10 group-hover:text-amber-600"),children:n.jsx($,{className:"size-4"})}),n.jsx("span",{className:"font-medium flex-1",children:V.title}),n.jsx(sr,{variant:"warning",size:"sm",className:"ml-auto",children:"Admin"})]})})},`admin-${V.title}-${Q}`)})})})]})]}),n.jsxs(NS,{className:"border-t border-medical-border/20 bg-gradient-to-r from-medical-background/80 to-medical-background/60 backdrop-blur-xl p-4",children:[n.jsxs(SE,{children:[n.jsx(EE,{asChild:!0,children:n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-medical-background/50 to-medical-background/30 hover:from-medical-primary/5 hover:to-medical-secondary/5 transition-all duration-300 cursor-pointer group hover:shadow-lg border border-medical-border/10 hover:border-medical-primary/20",children:[n.jsxs(km,{className:"size-10 ring-2 ring-medical-border/20 group-hover:ring-medical-primary/30 transition-all duration-300",children:[n.jsx(ix,{src:D}),n.jsx(Dm,{className:"bg-gradient-to-br from-medical-primary via-medical-secondary to-medical-accent text-white font-semibold",children:(E=(P=F||"U")==null?void 0:P.charAt(0))==null?void 0:E.toUpperCase()})]}),n.jsxs("div",{className:"flex flex-col gap-0.5 leading-tight flex-1 min-w-0",children:[n.jsx("span",{className:"text-sm font-semibold text-medical-primary truncate group-hover:text-medical-primary/80 transition-colors",children:F}),n.jsx("span",{className:"text-xs text-muted-foreground truncate group-hover:text-medical-secondary transition-colors",children:T})]}),n.jsx(yy,{className:"size-4 text-muted-foreground group-hover:text-medical-primary transition-all duration-300 group-hover:rotate-180"})]})}),n.jsxs(tb,{align:"end",className:"w-64 bg-medical-background/95 backdrop-blur-xl border-medical-border/20",children:[n.jsx(_E,{className:"text-medical-primary font-semibold",children:"Minha Conta"}),n.jsx(m1,{className:"bg-medical-border/20"}),n.jsxs(qc,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(In,{className:"size-4 mr-2 text-medical-primary"}),"Perfil"]}),n.jsxs(qc,{onClick:()=>t(`/${e}/configuracoes`),className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(im,{className:"size-4 mr-2 text-medical-primary"}),"Configuraes"]}),n.jsxs(qc,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(XC,{className:"size-4 mr-2 text-medical-primary"}),"Tema"]}),n.jsxs(qc,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(zL,{className:"size-4 mr-2 text-medical-primary"}),"Ajuda"]}),n.jsx(m1,{className:"bg-medical-border/20"}),n.jsxs(qc,{onClick:S,className:"text-medical-red hover:bg-medical-red/10 focus:bg-medical-red/10",children:[n.jsx(JL,{className:"size-4 mr-2"}),"Sair"]})]})]}),n.jsx(xs,{className:"bg-medical-border/20"}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground px-3 py-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"size-2 bg-medical-green rounded-full animate-pulse"}),n.jsx("span",{children:"Sistema Online"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pr,{className:"size-3"}),n.jsx("span",{children:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})]})]})}function NM(){const e=Jn(),r=cs(),[t,a]=y.useState(null),[s,i]=y.useState(!0),o=y.useRef(!1),l=async()=>{try{const h=await Aa.getPerfil();a(h)}catch{}finally{i(!1)}};y.useEffect(()=>{let h=!0;return(async()=>h&&(i(!0),await l()))(),()=>{h=!1}},[]);const A=!!t&&(!(t!=null&&t.data_nascimento)||!(t!=null&&t.endereco)||!(t!=null&&t.telefone));y.useEffect(()=>((async()=>e.pathname!=="/paciente/perfil"&&(o.current=!0,i(!0),await l(),o.current=!1))(),()=>{}),[e.pathname]),y.useEffect(()=>{o.current||!s&&A&&e.pathname!=="/paciente/perfil"&&r("/paciente/perfil",{replace:!0})},[s,A,e.pathname,r]);const d=y.useMemo(()=>{const h=e.pathname,m={"/paciente/perfil":"Perfil","/paciente/prontuario":"Pronturio","/paciente/consultas":"Consultas","/paciente/exames":"Exames","/paciente/receitas":"Receitas","/paciente/historico-medico":"Histrico Mdico","/paciente/medicos":"Mdicos Vinculados","/paciente/configuracoes":"Configuraes"},p=m[h]||Object.keys(m).find(v=>h.startsWith(v))&&m[Object.keys(m).find(v=>h.startsWith(v))]||"Perfil";return[{label:"rea do Paciente",href:"/paciente/perfil"},{label:p}]},[e.pathname]),f=()=>n.jsx(Lm,{role:"paciente"});return n.jsx(Um,{sidebar:f,breadcrumbs:d,children:n.jsx(wm,{})})}function BM(){const e=()=>n.jsx(Lm,{role:"medico"});return n.jsx(Um,{sidebar:e,children:n.jsx(wm,{})})}function zE({breadcrumbs:e}){const r=()=>n.jsx(Lm,{role:"clinica"});return n.jsx(Um,{sidebar:r,breadcrumbs:e,children:n.jsx(wm,{})})}function CM(){const e=()=>n.jsx(Lm,{role:"admin"});return n.jsx(Um,{sidebar:e,children:n.jsx(wm,{})})}var SM="Label",qE=y.forwardRef((e,r)=>n.jsx(jr.label,{...e,ref:r,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));qE.displayName=SM;var EM=qE;const _M=Q0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=y.forwardRef(({className:e,...r},t)=>n.jsx(EM,{ref:t,className:lt(_M(),e),...r}));De.displayName="Label";const ke=y.forwardRef(({className:e,variant:r="default",...t},a)=>{const s={default:"card-medical",elevated:"card-elevated",medical:"card-medical",priority:"card-medical"};return n.jsx("div",{ref:a,className:lt("animate-fade-in",s[r],e),...t})});ke.displayName="Card";const We=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("flex flex-col space-y-2 p-6 pb-4",e),...r}));We.displayName="CardHeader";const Xe=y.forwardRef(({className:e,level:r="h3",...t},a)=>{const s=r;return n.jsx(s,{ref:a,className:lt("text-xl font-semibold leading-tight tracking-tight text-heading-foreground","flex items-center gap-2",e),...t})});Xe.displayName="CardTitle";const cr=y.forwardRef(({className:e,...r},t)=>n.jsx("p",{ref:t,className:lt("text-sm text-muted-foreground leading-relaxed",e),...r}));cr.displayName="CardDescription";const Le=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("p-6 pt-0 space-y-4",e),...r}));Le.displayName="CardContent";const FM=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("flex items-center justify-between p-6 pt-0 border-t border-border/50 mt-4",e),...r}));FM.displayName="CardFooter";const kM=y.forwardRef(({className:e,status:r="normal",children:t,...a},s)=>{const i={normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent"};return n.jsx("div",{ref:s,className:lt("status-badge",i[r],e),...a,children:t})});kM.displayName="CardStatus";const DM=y.forwardRef(({className:e,priority:r="low",children:t,...a},s)=>{const i={low:"card-priority-low",medium:"card-priority-medium",high:"card-priority-high"};return n.jsx("div",{ref:s,className:lt("card-medical",i[r],e),...a,children:t})});DM.displayName="CardPriority";const UM=5;let Hv=0;function LM(){return Hv=(Hv+1)%Number.MAX_SAFE_INTEGER,Hv.toString()}const XA={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},jg=[];let Ng={toasts:[]};function Bg(e){Ng=IM(Ng,e),jg.forEach(r=>{r(Ng)})}function IM(e,r){switch(r.type){case XA.ADD_TOAST:return{...e,toasts:[r.toast,...e.toasts].slice(0,UM)};case XA.UPDATE_TOAST:return{...e,toasts:e.toasts.map(t=>t.id===r.toast.id?{...t,...r.toast}:t)};case XA.DISMISS_TOAST:return{...e,toasts:e.toasts.map(t=>t.id===r.toastId||r.toastId===void 0?{...t,open:!1}:t)};case XA.REMOVE_TOAST:return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(t=>t.id!==r.toastId)}}}function PM({...e}){const r=LM(),t=s=>Bg({type:XA.UPDATE_TOAST,toast:{...s,id:r}}),a=()=>Bg({type:XA.DISMISS_TOAST,toastId:r});return Bg({type:XA.ADD_TOAST,toast:{...e,id:r,open:!0,onOpenChange:s=>{s||a()}}}),{id:r,dismiss:a,update:t}}function Va(){const[e,r]=y.useState(Ng);return y.useEffect(()=>(jg.push(r),()=>{const t=jg.indexOf(r);t>-1&&jg.splice(t,1)}),[e]),{...e,toast:PM,dismiss:t=>Bg({type:XA.DISMISS_TOAST,toastId:t})}}const nb={EMAIL:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,PASSWORD:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,NAME:/^[a-zA-Z-\s]{2,50}$/};function mu(e){return typeof e!="string"?e:e.replace(/<\/?(?:script|iframe|object|embed|form|input|button|link|meta|style|base|applet)[^>]*>/gi,"").replace(/\s*on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:|vbscript:|data:/gi,"").replace(/[\x00-\x1F\x7F]/g,"").slice(0,1e4)}function p1(e){if(!e||typeof e!="string")return{isValid:!1,error:"Email  obrigatrio"};const r=mu(e.trim().toLowerCase());return nb.EMAIL.test(r)?r.length>254?{isValid:!1,error:"Email muito longo"}:{isValid:!0,value:r}:{isValid:!1,error:"Email invlido"}}function g1(e){if(!e||typeof e!="string")return{isValid:!1,error:"CPF  obrigatrio"};const r=mu(e.replace(/\D/g,""));if(r.length!==11)return{isValid:!1,error:"CPF deve ter 11 dgitos"};if(/^(\d)\1{10}$/.test(r))return{isValid:!1,error:"CPF invlido"};let t=0;for(let s=0;s<9;s++)t+=parseInt(r.charAt(s))*(10-s);let a=t*10%11;if((a===10||a===11)&&(a=0),a!==parseInt(r.charAt(9)))return{isValid:!1,error:"CPF invlido"};t=0;for(let s=0;s<10;s++)t+=parseInt(r.charAt(s))*(11-s);return a=t*10%11,(a===10||a===11)&&(a=0),a!==parseInt(r.charAt(10))?{isValid:!1,error:"CPF invlido"}:{isValid:!0,value:r}}function QM(e){return!e||typeof e!="string"?{isValid:!1,error:"Senha  obrigatria"}:e.length<8?{isValid:!1,error:"Senha deve ter pelo menos 8 caracteres"}:e.length>128?{isValid:!1,error:"Senha muito longa"}:nb.PASSWORD.test(e)?{isValid:!0,value:e}:{isValid:!1,error:"Senha deve conter pelo menos: 1 letra minscula, 1 maiscula, 1 nmero e 1 caractere especial"}}function RM(e){return!e||typeof e!="string"?{isValid:!1,error:"Senha  obrigatria"}:e.length<1?{isValid:!1,error:"Senha  obrigatria"}:e.length>128?{isValid:!1,error:"Senha muito longa"}:{isValid:!0,value:e}}function TM(e){if(!e||typeof e!="string")return{isValid:!1,error:"Nome  obrigatrio"};const r=mu(e.trim());return r.length<2?{isValid:!1,error:"Nome deve ter pelo menos 2 caracteres"}:r.length>100?{isValid:!1,error:"Nome muito longo"}:nb.NAME.test(r)?{isValid:!0,value:r}:{isValid:!1,error:"Nome contm caracteres invlidos"}}function MM(e,r=1e3){if(!e||typeof e!="string")return{isValid:!1,error:"Texto  obrigatrio"};const t=mu(e.trim());return t.length===0?{isValid:!1,error:"Texto no pode estar vazio"}:t.length>r?{isValid:!1,error:`Texto deve ter no mximo ${r} caracteres`}:{isValid:!0,value:t}}function OM(){const[e,r]=y.useState({email:"",password:""}),[t,a]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState({}),{login:A,loginWithGoogle:d,isAuthenticated:f,user:h,loading:m}=xl(),{toast:p}=Va(),v=cs(),x=(()=>{const E=(h==null?void 0:h.role)||(h==null?void 0:h.tipo);return E==="admin"?"/admin/dashboard":E==="medico"?"/medico/dashboard":E==="clinica"?"/clinica/dashboard":"/paciente/perfil"})();if(m)return null;if(f)return n.jsx(wa,{to:x,replace:!0});const w=()=>{const E={},V=p1(e.email),Q=g1(e.email);!V.isValid&&!Q.isValid&&(E.email="Informe um e-mail vlido ou CPF vlido");const $=RM(e.password);return $.isValid||(E.password=$.error),l(E),Object.keys(E).length===0},j=async E=>{var V,Q,$,G,R,ee,K,z,X,ne,ue;if(E.preventDefault(),!w()){p({title:"Dados invlidos",description:"Por favor, corrija os erros no formulrio",variant:"destructive"});return}a(!0);try{const _=p1(e.email),I=g1(e.email),W=_.isValid?_.value:I.isValid?I.value:e.email,te=await A({email:W,username:W,password:e.password});switch(p({title:"Login realizado com sucesso!",description:`Bem-vindo, ${((V=te.user)==null?void 0:V.first_name)||((Q=te.user)==null?void 0:Q.username)||(($=te.user)==null?void 0:$.email)||"usurio"}!`}),((G=te.user)==null?void 0:G.role)||((R=te.user)==null?void 0:R.tipo)){case"medico":v("/medico/dashboard");break;case"paciente":v("/paciente/perfil");break;case"clinica":v("/clinica/dashboard");break;case"admin":v("/admin/dashboard");break;default:v("/")}}catch(_){const I=((K=(ee=_.response)==null?void 0:ee.data)==null?void 0:K.error)||((X=(z=_.response)==null?void 0:z.data)==null?void 0:X.detail)||((ue=(ne=_.response)==null?void 0:ne.data)==null?void 0:ue.message);p({title:"Erro no login",description:I||"Credenciais invlidas",variant:"destructive"})}finally{a(!1)}},N=E=>{const{name:V,value:Q}=E.target;r($=>({...$,[V]:Q})),o[V]&&l($=>{const G={...$};return delete G[V],G})},[S,F]=y.useState(!1),T=y.useRef(null),{setTheme:D,theme:k}=SS(),P=y.useRef(null);return y.useEffect(()=>(P.current=k,D("light"),()=>{P.current&&D(P.current)}),[k,D]),y.useEffect(()=>{if(window.google&&T.current)try{window.google.accounts.id.initialize({client_id:"SEU_CLIENT_ID_REAL.apps.googleusercontent.com",callback:async E=>{var Q,$,G,R,ee,K,z,X;const V=E==null?void 0:E.credential;if(V){F(!0);try{const ne=await d(V);switch(p({title:"Login com Google realizado!",description:`Bem-vindo, ${((Q=ne.user)==null?void 0:Q.nome)||(($=ne.user)==null?void 0:$.first_name)||((G=ne.user)==null?void 0:G.username)||((R=ne.user)==null?void 0:R.email)||"usurio"}!`}),((ee=ne.user)==null?void 0:ee.role)||((K=ne.user)==null?void 0:K.tipo)){case"medico":v("/medico/dashboard");break;case"paciente":v("/paciente/perfil");break;case"clinica":v("/clinica/dashboard");break;case"admin":v("/admin/dashboard");break;default:v("/")}}catch(ne){p({title:"Erro no login com Google",description:((X=(z=ne.response)==null?void 0:z.data)==null?void 0:X.message)||"No foi possvel autenticar",variant:"destructive"})}finally{F(!1)}}}}),window.google.accounts.id.renderButton(T.current,{theme:"outline",size:"large",shape:"pill",text:"continue_with",width:320})}catch{}},[d,v,p]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 flex items-center justify-center p-4 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-blue-600/20 rounded-full blur-3xl"})]}),n.jsxs(ke,{className:"w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 relative z-10",children:[n.jsxs(We,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl overflow-hidden mb-6 shadow-lg",children:n.jsx("img",{src:"/logo/logoTrathea.jpg",alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsx(Xe,{className:"text-3xl font-bold text-medical-primary mx-auto text-center",children:"Trathea"}),n.jsx(cr,{className:"text-slate-600 text-base",children:"Acesse sua conta para continuar"})]}),n.jsxs(Le,{className:"space-y-6 px-8 pb-8",children:[n.jsxs("form",{onSubmit:j,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(De,{htmlFor:"email",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(fl,{className:"w-4 h-4"}),"E-mail ou CPF"]}),n.jsx(Ke,{id:"email",name:"email",type:"text",placeholder:"seu@email.com ou 52959459873",value:e.email,onChange:N,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 ${o.email?"border-red-500 focus:border-red-500":""}`}),o.email&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(De,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(jy,{className:"w-4 h-4"}),"Senha"]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ke,{id:"password",name:"password",type:s?"text":"password",placeholder:"",value:e.password,onChange:N,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 pr-12 ${o.password?"border-red-500 focus:border-red-500":""}`}),n.jsx(ye,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 hover:bg-transparent",onClick:()=>i(!s),children:s?n.jsx($L,{className:"h-4 w-4 text-slate-400"}):n.jsx(Ni,{className:"h-4 w-4 text-slate-400"})})]}),o.password&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.password})]}),n.jsx(ye,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",disabled:t,children:t?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Entrando..."]}):"Entrar"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"}),n.jsx("span",{className:"text-sm text-slate-500 font-medium bg-white px-2",children:"ou"}),n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{ref:T,className:"w-full flex justify-center"})}),!window.google&&n.jsx(ye,{type:"button",variant:"outline",className:"w-full h-12 border-slate-200 hover:bg-slate-50 bg-white/80 backdrop-blur-sm transition-all duration-200",disabled:!0,children:S?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-slate-400/30 border-t-slate-400 rounded-full animate-spin"}),"Conectando..."]}):"Continuar com Google"}),n.jsxs("div",{className:"text-center space-y-3 pt-4",children:[n.jsx(vr,{to:"/esqueci-senha",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Esqueceu sua senha?"}),n.jsxs("div",{className:"text-sm text-slate-600",children:["No tem uma conta?"," ",n.jsx(vr,{to:"/registrar",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Cadastre-se"})]})]}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsx(ye,{type:"button",variant:"outline",className:"rounded-xl",onClick:()=>{h!=null&&h.role||(h==null||h.tipo),v(f?"/inicio":"/")},children:"Voltar ao incio"})})]})]})]})}function HM(){const e=cs(),{toast:r}=Va(),[t,a]=y.useState(!1),[s,i]=y.useState("paciente"),[o,l]=y.useState({}),[A,d]=y.useState(!1),[f,h]=y.useState(!1),[m,p]=y.useState({nome:"",email:"",senha:"",confirmSenha:"",cpf:"",nomeClinica:"",cnpj:""}),v=K=>{const z=K.replace(/\D/g,"").slice(0,11),X=z.slice(0,3),ne=z.slice(3,6),ue=z.slice(6,9),_=z.slice(9,11);return z.length>9?`${X}.${ne}.${ue}-${_}`:z.length>6?`${X}.${ne}.${ue}`:z.length>3?`${X}.${ne}`:X},x=K=>{const z=String(K||"").replace(/\D/g,"").slice(0,14),X=z.slice(0,2),ne=z.slice(2,5),ue=z.slice(5,8),_=z.slice(8,12),I=z.slice(12,14);return z.length>12?`${X}.${ne}.${ue}/${_}-${I}`:z.length>8?`${X}.${ne}.${ue}/${_}`:z.length>5?`${X}.${ne}.${ue}`:z.length>2?`${X}.${ne}`:X},w=K=>String(K||"").replace(/\D/g,"").slice(0,7),j=K=>{const{name:z,value:X}=K.target;if(o[z]&&l(ne=>({...ne,[z]:void 0})),z==="cpf"){p({...m,cpf:v(X)});return}if(z==="cnpj"){p({...m,cnpj:x(X)});return}p({...m,[z]:X})},N=K=>String(K||"").trim().replace(/\s+/g," ").split(" ").filter(Boolean).map(z=>z.charAt(0).toUpperCase()+z.slice(1).toLowerCase()).join(" "),[S,F]=y.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),T=y.useRef(null),D=y.useRef(null),k=y.useRef(null),P=K=>{const{name:z,value:X}=K.target;o[z]&&l(ne=>({...ne,[z]:void 0})),F(z==="crm"?ne=>({...ne,crm:w(X)}):ne=>({...ne,[z]:X}))},E=(K,z)=>{o[K]&&l(X=>({...X,[K]:void 0})),F(X=>({...X,documentos:{...X.documentos,[K]:z}}))},V=(K,z)=>{F(X=>({...X,documentos:{...X.documentos,[K]:null}})),z!=null&&z.current&&(z.current.value="")},Q=K=>{if(!K&&K!==0)return"";const z=["Bytes","KB","MB","GB"];if(K===0)return"0 Byte";const X=Math.floor(Math.log(K)/Math.log(1024));return`${(K/Math.pow(1024,X)).toFixed(1)} ${z[X]}`},$=({label:K,required:z=!1,icon:X="",accept:ne=".pdf,image/*",file:ue,onFile:_,onRemove:I,inputRef:W})=>{const[te,J]=y.useState(!1),Y=M=>{var oe;M.preventDefault(),J(!1);const Z=(oe=M.dataTransfer.files)==null?void 0:oe[0];Z&&_(Z)};return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-base",children:X}),n.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[K," ",z?n.jsx("span",{className:"text-rose-600",children:"*"}):n.jsx("span",{className:"text-slate-400",children:"(opcional)"})]})]}),n.jsx("input",{ref:W,type:"file",accept:ne,className:"hidden",onChange:M=>{var Z;return _(((Z=M.target.files)==null?void 0:Z[0])||null)}}),n.jsxs("div",{onDragOver:M=>{M.preventDefault(),J(!0)},onDragLeave:()=>J(!1),onDrop:Y,className:`rounded-lg border-2 p-3 flex items-center justify-between gap-3 transition
            ${te?"border-sky-400 bg-sky-50":"border-dashed border-slate-300 bg-white"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100 flex items-center justify-center text-lg",children:X}),ue?n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:ue.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[ue.type||"Arquivo","  ",Q(ue.size)]})]}):n.jsxs("div",{className:"text-sm text-slate-600",children:["Arraste e solte aqui ou"," ",n.jsx("button",{type:"button",onClick:()=>{var M;return(M=W==null?void 0:W.current)==null?void 0:M.click()},className:"underline text-sky-700 hover:text-sky-800",children:"procurar"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!ue&&n.jsx("button",{type:"button",onClick:()=>{var M;return(M=W==null?void 0:W.current)==null?void 0:M.click()},className:"px-3 py-2 rounded-md bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800",children:"Escolher arquivo"}),ue&&n.jsx("button",{type:"button",onClick:I,className:"px-3 py-2 rounded-md bg-rose-50 text-rose-700 text-xs font-semibold hover:bg-rose-100",children:"Remover"})]})]})]})};m.email.length===0||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email);const G=()=>{const K={},z=TM(m.nome);z.isValid||(K.nome=z.error);const X=p1(m.email);X.isValid||(K.email=X.error);const ne=QM(m.senha);ne.isValid||(K.senha=ne.error),m.senha!==m.confirmSenha&&(K.confirmSenha="As senhas no conferem");const ue=g1(m.cpf);return ue.isValid||(K.cpf=ue.error),s==="clinica"&&(m.nomeClinica.trim()||(K.nomeClinica="Nome da clnica  obrigatrio"),m.cnpj.trim()||(K.cnpj="CNPJ  obrigatrio")),s==="medico"&&(S.crm.trim()||(K.crm="CRM  obrigatrio"),S.especialidade.trim()||(K.especialidade="Especialidade  obrigatria"),S.documentos.diplomaMedicina||(K.diplomaMedicina="Diploma de Medicina  obrigatrio")),K},R=m.confirmSenha.length===0||m.senha.length>0&&m.senha===m.confirmSenha,ee=async K=>{var X,ne,ue,_,I,W,te,J,Y,M;K.preventDefault();const z=G();if(l(z),Object.keys(z).length>0){r({title:"Erro de validao",description:"Por favor, corrija os erros no formulrio.",variant:"destructive"});return}a(!0);try{const Z=String(m.nome||"").trim().replace(/\s+/g," "),oe=N(Z),[fe,...ve]=oe.split(" "),Ee=ve.join(" "),_e={username:m.nome.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^a-z0-9@.+_-]/g,""),first_name:fe||"",last_name:Ee||"",email:m.email,password:m.senha,password_confirm:m.confirmSenha,role:s==="medico"?"paciente":s,desired_role:s,cpf:m.cpf||""};s==="clinica"&&(_e.nome_clinica=m.nomeClinica,_e.cnpj=m.cnpj);const xe=await ra.register(_e,{medicoData:s==="medico"?S:void 0});if(s==="medico"){const Ae=xe==null?void 0:xe.medicoApplication;Ae!=null&&Ae.success?r({title:"Solicitao enviada!",description:"Seus dados de mdico foram enviados para anlise."}):Ae&&Ae.success===!1&&(console.error("[RegisterForm] criarSolicitacaoMedico via authService falhou:",Ae.error),r({title:"Solicitao pendente",description:"Sua conta foi criada, mas no foi possvel enviar a solicitao de mdico agora. Voc poder concluir depois."}))}r({title:"Registro realizado com sucesso!",description:"Sua conta foi criada. Voc pode fazer login agora."}),e("/login")}catch(Z){console.error("Erro no registro:",Z),console.error("Status do erro:",(X=Z.response)==null?void 0:X.status),console.error("Detalhes do erro:",(ne=Z.response)==null?void 0:ne.data),console.error("Headers da resposta:",(ue=Z.response)==null?void 0:ue.headers);let oe="Erro interno do servidor. Tente novamente.",fe=!1,ve=!1,Ee=!1;try{const _e=(_=Z.response)==null?void 0:_.status,xe=((I=Z.response)==null?void 0:I.headers)||{},Ae=xe["content-type"]||xe["Content-Type"]||"",dt=(W=Z.response)==null?void 0:W.data,mt=((typeof dt=="string"?dt:"")||"").toLowerCase(),Ue=ct=>{ct==="crm"?oe="CRM j cadastrado no sistema. Utilize outro nmero de CRM.":ct==="email"?oe="E-mail j cadastrado no sistema.":ct==="cpf"?oe="CPF j cadastrado no sistema.":oe="Algum campo nico j est cadastrado (ex.: CRM, e-mail ou CPF)."};_e===409&&(Ue("unknown"),ve=!0),fe=String(Ae).includes("text/html"),(fe||mt.includes("unique constraint")||mt.includes("integrityerror"))&&(mt.includes("crm")?(Ue("crm"),ve=!0,Ee=!0):mt.includes("email")?(Ue("email"),ve=!0):mt.includes("cpf")&&(Ue("cpf"),ve=!0))}catch{}if((te=Z.response)!=null&&te.data){const _e=Z.response.data;if(console.log("Tipo do errorData:",typeof _e),console.log("ErrorData completo:",JSON.stringify(_e,null,2)),typeof _e=="object"){const xe=[];for(const[Ae,dt]of Object.entries(_e))Array.isArray(dt)?xe.push(`${Ae}: ${dt.join(", ")}`):xe.push(`${Ae}: ${dt}`);xe.length&&(oe=xe.join(`
`))}typeof _e=="string"?/<\/?(html|body|head|table|div|span|style|script)[^>]*>/i.test(_e)||(oe=_e):_e.message?oe=_e.message:_e.email?oe=`Email: ${_e.email[0]}`:_e.password&&(oe=`Senha: ${_e.password[0]}`)}try{const _e=(J=Z.response)==null?void 0:J.status,xe=((Y=Z.response)==null?void 0:Y.headers)||{},Ae=xe["content-type"]||xe["Content-Type"]||"",dt=(M=Z.response)==null?void 0:M.data,mt=((typeof dt=="string"?dt:"")||"").toLowerCase(),Ue=ve||_e===409||mt.includes("unique constraint")||mt.includes("integrityerror"),ct=fe||String(Ae).includes("text/html"),et=Ee||mt.includes("crm")||mt.includes("medico");if(Ue&&(ct||et)){try{await ra.login({email:m.email,password:m.senha}),await ra.logout(),r({title:"Conta criada",description:"Sua conta foi criada, mas houve um problema com os dados de mdico (CRM). Faa login para continuar."}),e("/login");return}catch{}r({title:"Conta possivelmente criada",description:oe+"  Tente fazer login com seu e-mail e senha."}),e("/login");return}}catch{}r({title:"Erro no registro",description:oe,variant:"destructive"})}finally{a(!1)}};return n.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur shadow-app-lg rounded-2xl border border-slate-100 overflow-hidden",children:[n.jsxs("div",{className:"px-6 pt-6 pb-4 bg-app-gradient text-white",children:[n.jsx("h1",{className:"text-xl font-semibold",children:"Criar conta"}),n.jsx("p",{className:"text-white/90 text-sm",children:s==="paciente"?"Como paciente":s==="clinica"?"Como clnica":"Como mdico"})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-slate-100 rounded-lg p-1 grid grid-cols-3 gap-1",children:[n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="paciente"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("paciente"),children:" Paciente"}),n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="clinica"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("clinica"),children:" Clnica"}),n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="medico"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("medico"),children:" Mdico"})]}),n.jsxs("form",{className:"space-y-4",onSubmit:ee,children:[s!=="clinica"?n.jsx(n.Fragment,{children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome completo"}),n.jsx("input",{type:"text",name:"nome",placeholder:"Seu nome",value:m.nome,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.nome?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.nome&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.nome})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome da clnica"}),n.jsx("input",{type:"text",name:"nomeClinica",placeholder:"Ex.: Clnica Vida",value:m.nomeClinica,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.nomeClinica?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.nomeClinica&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.nomeClinica})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CNPJ"}),n.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",value:m.cnpj,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.cnpj?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.cnpj&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.cnpj})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"E-mail"}),n.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:m.email,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.email?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.email&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CPF *"}),n.jsx("input",{type:"text",name:"cpf",placeholder:"000.000.000-00",value:m.cpf,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.cpf?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.cpf&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.cpf})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:A?"text":"password",name:"senha",placeholder:"Crie uma senha",value:m.senha,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.senha?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),n.jsx("button",{type:"button",onClick:()=>d(K=>!K),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":A?"Ocultar senha":"Mostrar senha",children:A?"Ocultar":"Mostrar"})]}),o.senha&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.senha})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Confirmar senha"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:f?"text":"password",name:"confirmSenha",placeholder:"Repita a senha",value:m.confirmSenha,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 transition ${o.confirmSenha?"border-rose-300 focus:ring-rose-500":R?"border-slate-200 focus:ring-sky-500 focus:border-sky-500":"border-amber-300 focus:ring-amber-400"}`}),n.jsx("button",{type:"button",onClick:()=>h(K=>!K),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":f?"Ocultar senha":"Mostrar senha",children:f?"Ocultar":"Mostrar"})]}),o.confirmSenha?n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.confirmSenha}):m.confirmSenha.length>0&&n.jsx("p",{className:`mt-1 text-xs ${m.senha===m.confirmSenha?"text-emerald-600":"text-amber-600"}`,children:m.senha===m.confirmSenha?"Senhas conferem.":"As senhas no conferem."})]}),s==="medico"&&n.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[n.jsx("p",{className:"font-semibold",children:"Dados do Mdico"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CRM"}),n.jsx("input",{type:"text",name:"crm",placeholder:"CRM",value:S.crm,onChange:P,maxLength:7,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${o.crm?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),o.crm&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.crm})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidade"}),n.jsx("input",{type:"text",name:"especialidade",placeholder:"Ex.: Cardiologia",value:S.especialidade,onChange:P,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${o.especialidade?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),o.especialidade&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.especialidade})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio de Formao"}),n.jsx("input",{type:"text",name:"instituicaoFormacao",placeholder:"Universidade",value:S.instituicaoFormacao,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano de Formao"}),n.jsx("input",{type:"number",name:"anoFormacao",placeholder:"YYYY",value:S.anoFormacao,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Residncia (se aplicvel)"}),n.jsx("input",{type:"text",name:"residencia",placeholder:"Residncia Mdica",value:S.residencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio da Residncia"}),n.jsx("input",{type:"text",name:"instituicaoResidencia",placeholder:"Instituio",value:S.instituicaoResidencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano da Residncia"}),n.jsx("input",{type:"number",name:"anoResidencia",placeholder:"YYYY",value:S.anoResidencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Experincia"}),n.jsx("textarea",{name:"experiencia",placeholder:"Resumo da experincia",value:S.experiencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Motivao"}),n.jsx("textarea",{name:"motivacao",placeholder:"Por que deseja se cadastrar como mdico na plataforma?",value:S.motivacao,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"font-medium",children:"Documentos"}),n.jsx($,{label:"Diploma de Medicina",required:!0,icon:"",accept:".pdf,image/*",file:S.documentos.diplomaMedicina,inputRef:T,onFile:K=>E("diplomaMedicina",K),onRemove:()=>V("diplomaMedicina",T)}),o.diplomaMedicina&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.diplomaMedicina}),n.jsx($,{label:"Certificado de Residncia",icon:"",accept:".pdf,image/*",file:S.documentos.certificadoResidencia,inputRef:D,onFile:K=>E("certificadoResidencia",K),onRemove:()=>V("certificadoResidencia",D)}),n.jsx($,{label:"Comprovante de Experincia",icon:"",accept:".pdf,image/*",file:S.documentos.comprovanteExperiencia,inputRef:k,onFile:K=>E("comprovanteExperiencia",K),onRemove:()=>V("comprovanteExperiencia",k)})]})]}),n.jsx("button",{type:"submit",disabled:t,className:"w-full py-3 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-2 focus-visible:ring-blue-400 shadow-app transition disabled:opacity-70 disabled:cursor-not-allowed",children:t?"Registrando...":`Registrar ${s==="paciente"?"Paciente":s==="clinica"?"Clnica":s==="medico"?"Mdico":"Usurio"}`})]})]})]})})}const WE=y.createContext(null);function GE(){const e=y.useContext(WE);if(!e)throw new Error("Tabs components must be used within <Tabs>");return e}const Vi=y.forwardRef(({className:e,value:r,defaultValue:t="",onValueChange:a,children:s,...i},o)=>{const[l,A]=y.useState(t),d=r!==void 0,f=d?r:l,h=m=>{d||A(m),a==null||a(m)};return n.jsx(WE.Provider,{value:{value:f,setValue:h},children:n.jsx("div",{ref:o,className:lt("",e),...i,children:s})})});Vi.displayName="Tabs";const zi=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));zi.displayName="TabsList";const Ur=y.forwardRef(({className:e,value:r,onClick:t,...a},s)=>{const{value:i,setValue:o}=GE(),l=i===r,A=d=>{t==null||t(d),o(r)};return n.jsx("button",{ref:s,"data-state":l?"active":"inactive",className:lt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",l?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",e),onClick:A,...a})});Ur.displayName="TabsTrigger";const Or=y.forwardRef(({className:e,value:r,forceMount:t=!1,...a},s)=>{const{value:i}=GE();return!t&&i!==r?null:n.jsx("div",{ref:s,className:lt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a})});Or.displayName="TabsContent";function $M(){const[e,r]=y.useState(""),[t,a]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState("paciente"),A=cs(),d=Jn(),{toast:f}=Va();y.useEffect(()=>{const p=new URLSearchParams(d.search).get("role");(p==="clinica"||p==="paciente")&&l(p)},[d]);const h=async m=>{var p,v,x,w;m.preventDefault(),a(!0);try{await ra.forgotPassword(e),i(!0),f({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch(j){const N=((v=(p=j==null?void 0:j.response)==null?void 0:p.data)==null?void 0:v.detail)||((w=(x=j==null?void 0:j.response)==null?void 0:x.data)==null?void 0:w.message)||(j==null?void 0:j.message);f({title:"Erro",description:N||"No foi possvel enviar o email. Tente novamente.",variant:"destructive"})}finally{a(!1)}};return s?n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(ke,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(We,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 shadow-lg",children:n.jsx(ps,{className:"h-8 w-8 text-white"})}),n.jsx(Xe,{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Email Enviado!"}),n.jsxs(cr,{className:"text-lg text-gray-600",children:["Enviamos um link para redefinir sua senha para ",n.jsx("strong",{className:"text-gray-900",children:e})]})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-100",children:n.jsx("p",{className:"text-sm text-gray-700 text-center font-medium",children:"Verifique sua caixa de entrada e spam. O link expira em 24 horas."})}),n.jsx(ye,{variant:"outline",className:"w-full h-12 bg-white/50 hover:bg-white/80 border-gray-200 hover:border-gray-300 transition-all duration-200",onClick:()=>i(!1),children:"Enviar para outro email"}),n.jsxs(ye,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200",onClick:()=>A(`/login?role=${o}`),children:[n.jsx(Yc,{className:"mr-2 h-4 w-4"}),"Voltar ao login"]})]})]})]}):n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(ke,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(We,{className:"space-y-1 pb-8",children:[n.jsx(Xe,{className:"text-3xl font-bold text-center bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Esqueceu sua senha?"}),n.jsx(cr,{className:"text-center text-lg text-gray-600",children:"Digite seu email para receber um link de redefinio"})]}),n.jsxs(Le,{children:[n.jsx(Vi,{value:o,onValueChange:l,className:"mb-8",children:n.jsxs(zi,{className:"grid w-full grid-cols-2 bg-gray-100/80 p-1 rounded-xl",children:[n.jsxs(Ur,{value:"paciente",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[n.jsx(In,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Paciente"})]}),n.jsxs(Ur,{value:"clinica",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[n.jsx(nc,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Clnica"})]})]})}),n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(De,{htmlFor:"email",className:"text-sm font-semibold text-gray-700",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(Ke,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:m=>r(m.target.value),className:"pl-10 h-12 input-medical-primary bg-white/50 transition-all duration-200",required:!0})]})]}),n.jsx(ye,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(XL,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar Link de Redefinio"})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs(vr,{to:`/login?role=${o}`,className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition-colors duration-200 group",children:[n.jsx(Yc,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform duration-200"}),"Voltar ao login"]})})]})]})]})}function KM({children:e}){const{user:r,isAuthenticated:t,loading:a}=xl(),s=Jn();if(a)return null;if(!t)return n.jsx(wa,{to:"/login",state:{from:s},replace:!0});const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="secretaria"&&i!=="admin"?i==="paciente"?n.jsx(wa,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(wa,{to:"/medico/dashboard",replace:!0}):i==="clinica"?n.jsx(wa,{to:"/clinica/dashboard",replace:!0}):n.jsx(wa,{to:"/",replace:!0}):e}function VM(){const e=()=>n.jsx(Lm,{role:"secretaria"});return n.jsx(Um,{sidebar:e,children:n.jsx(wm,{})})}function zM(){const{uid:e,token:r}=pl(),t=cs(),{toast:a}=Va(),[s,i]=y.useState(""),[o,l]=y.useState(""),[A,d]=y.useState(!1),f=y.useMemo(()=>"http://127.0.0.1:8000".replace(/\/$/,""),[]),h="/api/auth/password_reset_confirm/",m=`${f}/reset/${e}/${r}/`,p=()=>!s||s.length<8?(a({title:"Senha muito curta",description:"Use pelo menos 8 caracteres.",variant:"destructive"}),!1):s!==o?(a({title:"Confirmao",description:"A confirmao no confere com a nova senha.",variant:"destructive"}),!1):!0,v=async x=>{var w,j,N,S,F;if((w=x==null?void 0:x.preventDefault)==null||w.call(x),!!p()){d(!0);try{h&&(await Ce.post(h,{uid:e,token:r,new_password:s}),a({title:"Senha redefinida!",description:"Voc j pode fazer login."}),t("/login"))}catch(T){const D=((N=(j=T==null?void 0:T.response)==null?void 0:j.data)==null?void 0:N.detail)||((F=(S=T==null?void 0:T.response)==null?void 0:S.data)==null?void 0:F.message)||(T==null?void 0:T.message);a({title:"No foi possvel redefinir",description:D||"Tente novamente.",variant:"destructive"})}finally{d(!1)}}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(ke,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(We,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-medical-primary rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:n.jsx(oI,{className:"w-8 h-8 text-white"})}),n.jsx(Xe,{className:"text-3xl font-bold text-medical-primary",children:"Redefinir senha"}),n.jsx(cr,{className:"text-slate-600 text-base",children:"Crie uma nova senha para sua conta."})]}),n.jsxs(Le,{className:"space-y-6 px-8 pb-8",children:[n.jsxs("form",{onSubmit:v,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(De,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(jy,{className:"w-4 h-4"}),"Nova senha"]}),n.jsx(Ke,{id:"password",type:"password",placeholder:"",value:s,onChange:x=>i(x.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(De,{htmlFor:"confirm",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(Io,{className:"w-4 h-4"}),"Confirmar nova senha"]}),n.jsx(Ke,{id:"confirm",type:"password",placeholder:"",value:o,onChange:x=>l(x.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),n.jsx(ye,{type:"submit",className:"w-full h-12 btn-medical-primary text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:A,children:A?"Processando...":"Redefinir minha senha"})]}),n.jsxs(ye,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200 mt-2",onClick:()=>t("/login"),children:[n.jsx(Yc,{className:"mr-2 h-4 w-4"})," Voltar ao login"]})]})]})]})}function Yj(e,[r,t]){return Math.min(t,Math.max(r,e))}function YE(e){const r=y.useRef({value:e,previous:e});return y.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var qM=[" ","Enter","ArrowUp","ArrowDown"],WM=[" ","Enter"],pu="Select",[ox,lx,GM]=rx(pu),[Jf,IZ]=vl(pu,[GM,Xf]),cx=Xf(),[YM,pd]=Jf(pu),[XM,JM]=Jf(pu),XE=e=>{const{__scopeSelect:r,children:t,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:A,dir:d,name:f,autoComplete:h,disabled:m,required:p,form:v}=e,x=cx(r),[w,j]=y.useState(null),[N,S]=y.useState(null),[F,T]=y.useState(!1),D=qy(d),[k,P]=cd({prop:a,defaultProp:s??!1,onChange:i,caller:pu}),[E,V]=cd({prop:o,defaultProp:l,onChange:A,caller:pu}),Q=y.useRef(null),$=w?v||!!w.closest("form"):!0,[G,R]=y.useState(new Set),ee=Array.from(G).map(K=>K.props.value).join(";");return n.jsx(Oy,{...x,children:n.jsxs(YM,{required:p,scope:r,trigger:w,onTriggerChange:j,valueNode:N,onValueNodeChange:S,valueNodeHasChildren:F,onValueNodeHasChildrenChange:T,contentId:tc(),value:E,onValueChange:V,open:k,onOpenChange:P,dir:D,triggerPointerDownPosRef:Q,disabled:m,children:[n.jsx(ox.Provider,{scope:r,children:n.jsx(XM,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(K=>{R(z=>new Set(z).add(K))},[]),onNativeOptionRemove:y.useCallback(K=>{R(z=>{const X=new Set(z);return X.delete(K),X})},[]),children:t})}),$?n.jsxs(y_,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:E,onChange:K=>V(K.target.value),disabled:m,form:v,children:[E===void 0?n.jsx("option",{value:""}):null,Array.from(G)]},ee):null]})})};XE.displayName=pu;var JE="SelectTrigger",ZE=y.forwardRef((e,r)=>{const{__scopeSelect:t,disabled:a=!1,...s}=e,i=cx(t),o=pd(JE,t),l=o.disabled||a,A=ga(r,o.onTriggerChange),d=lx(t),f=y.useRef("touch"),[h,m,p]=j_(x=>{const w=d().filter(S=>!S.disabled),j=w.find(S=>S.value===o.value),N=N_(w,x,j);N!==void 0&&o.onValueChange(N.value)}),v=x=>{l||(o.onOpenChange(!0),p()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return n.jsx(Hy,{asChild:!0,...i,children:n.jsx(jr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":b_(o.value)?"":void 0,...s,ref:A,onClick:Ut(s.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&v(x)}),onPointerDown:Ut(s.onPointerDown,x=>{f.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:Ut(s.onKeyDown,x=>{const w=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(w&&x.key===" ")&&qM.includes(x.key)&&(v(),x.preventDefault())})})})});ZE.displayName=JE;var e_="SelectValue",t_=y.forwardRef((e,r)=>{const{__scopeSelect:t,className:a,style:s,children:i,placeholder:o="",...l}=e,A=pd(e_,t),{onValueNodeHasChildrenChange:d}=A,f=i!==void 0,h=ga(r,A.onValueNodeChange);return ls(()=>{d(f)},[d,f]),n.jsx(jr.span,{...l,ref:h,style:{pointerEvents:"none"},children:b_(A.value)?n.jsx(n.Fragment,{children:o}):i})});t_.displayName=e_;var ZM="SelectIcon",r_=y.forwardRef((e,r)=>{const{__scopeSelect:t,children:a,...s}=e;return n.jsx(jr.span,{"aria-hidden":!0,...s,ref:r,children:a||""})});r_.displayName=ZM;var e8="SelectPortal",a_=e=>n.jsx(Cm,{asChild:!0,...e});a_.displayName=e8;var gu="SelectContent",n_=y.forwardRef((e,r)=>{const t=pd(gu,e.__scopeSelect),[a,s]=y.useState();if(ls(()=>{s(new DocumentFragment)},[]),!t.open){const i=a;return i?Hf.createPortal(n.jsx(s_,{scope:e.__scopeSelect,children:n.jsx(ox.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(i_,{...e,ref:r})});n_.displayName=gu;var ll=10,[s_,gd]=Jf(gu),t8="SelectContentImpl",r8=uu("SelectContent.RemoveScroll"),i_=y.forwardRef((e,r)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:x,avoidCollisions:w,...j}=e,N=pd(gu,t),[S,F]=y.useState(null),[T,D]=y.useState(null),k=ga(r,M=>F(M)),[P,E]=y.useState(null),[V,Q]=y.useState(null),$=lx(t),[G,R]=y.useState(!1),ee=y.useRef(!1);y.useEffect(()=>{if(S)return _y(S)},[S]),Ey();const K=y.useCallback(M=>{const[Z,...oe]=$().map(Ee=>Ee.ref.current),[fe]=oe.slice(-1),ve=document.activeElement;for(const Ee of M)if(Ee===ve||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===Z&&T&&(T.scrollTop=0),Ee===fe&&T&&(T.scrollTop=T.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==ve))return},[$,T]),z=y.useCallback(()=>K([P,S]),[K,P,S]);y.useEffect(()=>{G&&z()},[G,z]);const{onOpenChange:X,triggerPointerDownPosRef:ne}=N;y.useEffect(()=>{if(S){let M={x:0,y:0};const Z=fe=>{var ve,Ee;M={x:Math.abs(Math.round(fe.pageX)-(((ve=ne.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((Ee=ne.current)==null?void 0:Ee.y)??0))}},oe=fe=>{M.x<=10&&M.y<=10?fe.preventDefault():S.contains(fe.target)||X(!1),document.removeEventListener("pointermove",Z),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",oe,{capture:!0})}}},[S,X,ne]),y.useEffect(()=>{const M=()=>X(!1);return window.addEventListener("blur",M),window.addEventListener("resize",M),()=>{window.removeEventListener("blur",M),window.removeEventListener("resize",M)}},[X]);const[ue,_]=j_(M=>{const Z=$().filter(ve=>!ve.disabled),oe=Z.find(ve=>ve.ref.current===document.activeElement),fe=N_(Z,M,oe);fe&&setTimeout(()=>fe.ref.current.focus())}),I=y.useCallback((M,Z,oe)=>{const fe=!ee.current&&!oe;(N.value!==void 0&&N.value===Z||fe)&&(E(M),fe&&(ee.current=!0))},[N.value]),W=y.useCallback(()=>S==null?void 0:S.focus(),[S]),te=y.useCallback((M,Z,oe)=>{const fe=!ee.current&&!oe;(N.value!==void 0&&N.value===Z||fe)&&Q(M)},[N.value]),J=a==="popper"?x1:o_,Y=J===x1?{side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:x,avoidCollisions:w}:{};return n.jsx(s_,{scope:t,content:S,viewport:T,onViewportChange:D,itemRefCallback:I,selectedItem:P,onItemLeave:W,itemTextRefCallback:te,focusSelectedItem:z,selectedItemText:V,position:a,isPositioned:G,searchRef:ue,children:n.jsx(O0,{as:r8,allowPinchZoom:!0,children:n.jsx(T0,{asChild:!0,trapped:N.open,onMountAutoFocus:M=>{M.preventDefault()},onUnmountAutoFocus:Ut(s,M=>{var Z;(Z=N.trigger)==null||Z.focus({preventScroll:!0}),M.preventDefault()}),children:n.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:M=>M.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:n.jsx(J,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:M=>M.preventDefault(),...j,...Y,onPlaced:()=>R(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Ut(j.onKeyDown,M=>{const Z=M.ctrlKey||M.altKey||M.metaKey;if(M.key==="Tab"&&M.preventDefault(),!Z&&M.key.length===1&&_(M.key),["ArrowUp","ArrowDown","Home","End"].includes(M.key)){let fe=$().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(M.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(M.key)){const ve=M.target,Ee=fe.indexOf(ve);fe=fe.slice(Ee+1)}setTimeout(()=>K(fe)),M.preventDefault()}})})})})})})});i_.displayName=t8;var a8="SelectItemAlignedPosition",o_=y.forwardRef((e,r)=>{const{__scopeSelect:t,onPlaced:a,...s}=e,i=pd(gu,t),o=gd(gu,t),[l,A]=y.useState(null),[d,f]=y.useState(null),h=ga(r,k=>f(k)),m=lx(t),p=y.useRef(!1),v=y.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:j,focusSelectedItem:N}=o,S=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&w&&j){const k=i.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),V=j.getBoundingClientRect();if(i.dir!=="rtl"){const ve=V.left-P.left,Ee=E.left-ve,_e=k.left-Ee,xe=k.width+_e,Ae=Math.max(xe,P.width),dt=window.innerWidth-ll,Ft=Yj(Ee,[ll,Math.max(ll,dt-Ae)]);l.style.minWidth=xe+"px",l.style.left=Ft+"px"}else{const ve=P.right-V.right,Ee=window.innerWidth-E.right-ve,_e=window.innerWidth-k.right-Ee,xe=k.width+_e,Ae=Math.max(xe,P.width),dt=window.innerWidth-ll,Ft=Yj(Ee,[ll,Math.max(ll,dt-Ae)]);l.style.minWidth=xe+"px",l.style.right=Ft+"px"}const Q=m(),$=window.innerHeight-ll*2,G=x.scrollHeight,R=window.getComputedStyle(d),ee=parseInt(R.borderTopWidth,10),K=parseInt(R.paddingTop,10),z=parseInt(R.borderBottomWidth,10),X=parseInt(R.paddingBottom,10),ne=ee+K+G+X+z,ue=Math.min(w.offsetHeight*5,ne),_=window.getComputedStyle(x),I=parseInt(_.paddingTop,10),W=parseInt(_.paddingBottom,10),te=k.top+k.height/2-ll,J=$-te,Y=w.offsetHeight/2,M=w.offsetTop+Y,Z=ee+K+M,oe=ne-Z;if(Z<=te){const ve=Q.length>0&&w===Q[Q.length-1].ref.current;l.style.bottom="0px";const Ee=d.clientHeight-x.offsetTop-x.offsetHeight,_e=Math.max(J,Y+(ve?W:0)+Ee+z),xe=Z+_e;l.style.height=xe+"px"}else{const ve=Q.length>0&&w===Q[0].ref.current;l.style.top="0px";const _e=Math.max(te,ee+x.offsetTop+(ve?I:0)+Y)+oe;l.style.height=_e+"px",x.scrollTop=Z-te+x.offsetTop}l.style.margin=`${ll}px 0`,l.style.minHeight=ue+"px",l.style.maxHeight=$+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,x,w,j,i.dir,a]);ls(()=>S(),[S]);const[F,T]=y.useState();ls(()=>{d&&T(window.getComputedStyle(d).zIndex)},[d]);const D=y.useCallback(k=>{k&&v.current===!0&&(S(),N==null||N(),v.current=!1)},[S,N]);return n.jsx(s8,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:D,children:n.jsx("div",{ref:A,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:n.jsx(jr.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});o_.displayName=a8;var n8="SelectPopperPosition",x1=y.forwardRef((e,r)=>{const{__scopeSelect:t,align:a="start",collisionPadding:s=ll,...i}=e,o=cx(t);return n.jsx($y,{...o,...i,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});x1.displayName=n8;var[s8,sb]=Jf(gu,{}),v1="SelectViewport",l_=y.forwardRef((e,r)=>{const{__scopeSelect:t,nonce:a,...s}=e,i=gd(v1,t),o=sb(v1,t),l=ga(r,i.onViewportChange),A=y.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(ox.Slot,{scope:t,children:n.jsx(jr.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ut(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(A.current-f.scrollTop);if(p>0){const v=window.innerHeight-ll*2,x=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),j=Math.max(x,w);if(j<v){const N=j+p,S=Math.min(v,N),F=N-S;h.style.height=S+"px",h.style.bottom==="0px"&&(f.scrollTop=F>0?F:0,h.style.justifyContent="flex-end")}}}A.current=f.scrollTop})})})]})});l_.displayName=v1;var c_="SelectGroup",[i8,o8]=Jf(c_),l8=y.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=tc();return n.jsx(i8,{scope:t,id:s,children:n.jsx(jr.div,{role:"group","aria-labelledby":s,...a,ref:r})})});l8.displayName=c_;var A_="SelectLabel",d_=y.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=o8(A_,t);return n.jsx(jr.div,{id:s.id,...a,ref:r})});d_.displayName=A_;var r0="SelectItem",[c8,u_]=Jf(r0),f_=y.forwardRef((e,r)=>{const{__scopeSelect:t,value:a,disabled:s=!1,textValue:i,...o}=e,l=pd(r0,t),A=gd(r0,t),d=l.value===a,[f,h]=y.useState(i??""),[m,p]=y.useState(!1),v=ga(r,N=>{var S;return(S=A.itemRefCallback)==null?void 0:S.call(A,N,a,s)}),x=tc(),w=y.useRef("touch"),j=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(c8,{scope:t,value:a,disabled:s,textId:x,isSelected:d,onItemTextChange:y.useCallback(N=>{h(S=>S||((N==null?void 0:N.textContent)??"").trim())},[]),children:n.jsx(ox.ItemSlot,{scope:t,value:a,disabled:s,textValue:f,children:n.jsx(jr.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Ut(o.onFocus,()=>p(!0)),onBlur:Ut(o.onBlur,()=>p(!1)),onClick:Ut(o.onClick,()=>{w.current!=="mouse"&&j()}),onPointerUp:Ut(o.onPointerUp,()=>{w.current==="mouse"&&j()}),onPointerDown:Ut(o.onPointerDown,N=>{w.current=N.pointerType}),onPointerMove:Ut(o.onPointerMove,N=>{var S;w.current=N.pointerType,s?(S=A.onItemLeave)==null||S.call(A):w.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ut(o.onPointerLeave,N=>{var S;N.currentTarget===document.activeElement&&((S=A.onItemLeave)==null||S.call(A))}),onKeyDown:Ut(o.onKeyDown,N=>{var F;((F=A.searchRef)==null?void 0:F.current)!==""&&N.key===" "||(WM.includes(N.key)&&j(),N.key===" "&&N.preventDefault())})})})})});f_.displayName=r0;var Rh="SelectItemText",h_=y.forwardRef((e,r)=>{const{__scopeSelect:t,className:a,style:s,...i}=e,o=pd(Rh,t),l=gd(Rh,t),A=u_(Rh,t),d=JM(Rh,t),[f,h]=y.useState(null),m=ga(r,j=>h(j),A.onItemTextChange,j=>{var N;return(N=l.itemTextRefCallback)==null?void 0:N.call(l,j,A.value,A.disabled)}),p=f==null?void 0:f.textContent,v=y.useMemo(()=>n.jsx("option",{value:A.value,disabled:A.disabled,children:p},A.value),[A.disabled,A.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=d;return ls(()=>(x(v),()=>w(v)),[x,w,v]),n.jsxs(n.Fragment,{children:[n.jsx(jr.span,{id:A.textId,...i,ref:m}),A.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Hf.createPortal(i.children,o.valueNode):null]})});h_.displayName=Rh;var m_="SelectItemIndicator",p_=y.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e;return u_(m_,t).isSelected?n.jsx(jr.span,{"aria-hidden":!0,...a,ref:r}):null});p_.displayName=m_;var w1="SelectScrollUpButton",g_=y.forwardRef((e,r)=>{const t=gd(w1,e.__scopeSelect),a=sb(w1,e.__scopeSelect),[s,i]=y.useState(!1),o=ga(r,a.onScrollButtonChange);return ls(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=A.scrollTop>0;i(d)};const A=t.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?n.jsx(v_,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=t;l&&A&&(l.scrollTop=l.scrollTop-A.offsetHeight)}}):null});g_.displayName=w1;var y1="SelectScrollDownButton",x_=y.forwardRef((e,r)=>{const t=gd(y1,e.__scopeSelect),a=sb(y1,e.__scopeSelect),[s,i]=y.useState(!1),o=ga(r,a.onScrollButtonChange);return ls(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=A.scrollHeight-A.clientHeight,f=Math.ceil(A.scrollTop)<d;i(f)};const A=t.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?n.jsx(v_,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=t;l&&A&&(l.scrollTop=l.scrollTop+A.offsetHeight)}}):null});x_.displayName=y1;var v_=y.forwardRef((e,r)=>{const{__scopeSelect:t,onAutoScroll:a,...s}=e,i=gd("SelectScrollButton",t),o=y.useRef(null),l=lx(t),A=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>A(),[A]),ls(()=>{var f;const d=l().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),n.jsx(jr.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:Ut(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:Ut(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:Ut(s.onPointerLeave,()=>{A()})})}),A8="SelectSeparator",w_=y.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e;return n.jsx(jr.div,{"aria-hidden":!0,...a,ref:r})});w_.displayName=A8;var b1="SelectArrow",d8=y.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=cx(t),i=pd(b1,t),o=gd(b1,t);return i.open&&o.position==="popper"?n.jsx(Ky,{...s,...a,ref:r}):null});d8.displayName=b1;var u8="SelectBubbleInput",y_=y.forwardRef(({__scopeSelect:e,value:r,...t},a)=>{const s=y.useRef(null),i=ga(a,s),o=YE(r);return y.useEffect(()=>{const l=s.current;if(!l)return;const A=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(A,"value").set;if(o!==r&&f){const h=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(h)}},[o,r]),n.jsx(jr.select,{...t,style:{...iS,...t.style},ref:i,defaultValue:r})});y_.displayName=u8;function b_(e){return e===""||e===void 0}function j_(e){const r=Bi(e),t=y.useRef(""),a=y.useRef(0),s=y.useCallback(o=>{const l=t.current+o;r(l),(function A(d){t.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>A(""),1e3))})(l)},[r]),i=y.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,s,i]}function N_(e,r,t){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let o=f8(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const A=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return A!==t?A:void 0}function f8(e,r){return e.map((t,a)=>e[(r+a)%e.length])}var h8=XE,B_=ZE,m8=t_,p8=r_,g8=a_,C_=n_,x8=l_,S_=d_,E_=f_,v8=h_,w8=p_,__=g_,F_=x_,k_=w_;const Gr=h8,Yr=m8,Vr=y.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(B_,{ref:a,className:lt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[r,n.jsx(p8,{asChild:!0,children:n.jsx(yy,{className:"h-4 w-4 opacity-50"})})]}));Vr.displayName=B_.displayName;const D_=y.forwardRef(({className:e,...r},t)=>n.jsx(__,{ref:t,className:lt("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(RL,{className:"h-4 w-4"})}));D_.displayName=__.displayName;const U_=y.forwardRef(({className:e,...r},t)=>n.jsx(F_,{ref:t,className:lt("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(yy,{className:"h-4 w-4"})}));U_.displayName=F_.displayName;const zr=y.forwardRef(({className:e,children:r,position:t="popper",...a},s)=>n.jsx(g8,{children:n.jsxs(C_,{ref:s,className:lt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...a,children:[n.jsx(D_,{}),n.jsx(x8,{className:lt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),n.jsx(U_,{})]})}));zr.displayName=C_.displayName;const L_=y.forwardRef(({className:e,...r},t)=>n.jsx(S_,{ref:t,className:lt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));L_.displayName=S_.displayName;const st=y.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(E_,{ref:a,className:lt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(w8,{children:n.jsx(wy,{className:"h-4 w-4"})})}),n.jsx(v8,{children:r})]}));st.displayName=E_.displayName;const y8=y.forwardRef(({className:e,...r},t)=>n.jsx(k_,{ref:t,className:lt("-mx-1 my-1 h-px bg-muted",e),...r}));y8.displayName=k_.displayName;const nf="false".toLowerCase()!=="false",Ba="true".toLowerCase()==="true",la={async getDashboard(){return(await Ce.get("/admin/dashboard/")).data},async getSolicitacoes(e={},r={}){var s;const t=sf(),a=Kv($v(e));for(const i of t){const o=sl(i),l=nf?[o]:[o,o+"listar/",o+"list/",o+"todas/",o+"all/"],A=[];if(A.push(a),!nf&&(a!=null&&a.ordering)){const{ordering:d,...f}=a;A.push(f)}if(!nf){const d={};a.page_size!=null&&(d.page_size=a.page_size),a.limit!=null&&(d.limit=a.limit),a.page!=null&&(d.page=a.page),a.offset!=null&&(d.offset=a.offset),Object.keys(d).length&&A.push(d)}Object.keys(a).length&&A.push({});for(const d of l)for(const f of A)try{Ba&&console.debug("[adminService.getSolicitacoes] GET",d,f);const m=(await Ce.get(d,{params:f,signal:r==null?void 0:r.signal})).data,p=Array.isArray(m==null?void 0:m.results)?m.results:Array.isArray(m)?m:[];return Ba&&console.debug("[adminService.getSolicitacoes] OK",d,`items=${p.length}`),p.map(I_)}catch(h){const m=(s=h==null?void 0:h.response)==null?void 0:s.status;if(Ba&&console.warn("[adminService.getSolicitacoes] Falhou",d,"status=",m,"params=",f),m===401||m===403)throw h;continue}}return[]},async getSolicitacao(e){var a;const r=sf();let t;for(const s of r){const i=sl(s)+`${e}/`;try{const o=await Ce.get(i);return j8(o.data||{})}catch(o){const l=(a=o==null?void 0:o.response)==null?void 0:a.status;if(Ba&&console.warn("[adminService.getSolicitacao] Falhou",i,"status=",l),l===401||l===403)throw o;t=o;continue}}throw t||new Error("Nenhum endpoint para detalhe de solicitao foi encontrado.")},async aprovarSolicitacao(e,r=""){var a,s,i,o;const t=sf();for(const l of t){const A=sl(l),d=[{method:"post",url:`${A}${e}/aprovar/`,body:{observacoes:r}},{method:"post",url:`${A}${e}/approve/`,body:{notes:r}},{method:"post",url:`${A}${e}/aprovacao/`,body:{observacoes:r}},{method:"post",url:`${A}${e}/status/`,body:{status:"approved",observacoes:r}},{method:"patch",url:`${A}${e}/`,body:{status:"approved",observacoes:r}},{method:"put",url:`${A}${e}/`,body:{status:"approved",observacoes:r}}];for(const f of d)try{Ba&&console.debug("[adminService.aprovarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const h=await Ce[f.method](f.url,f.body);(async()=>{var p;try{await la.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{observacoes:r}})}catch(v){Ba&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(p=v==null?void 0:v.response)==null?void 0:p.status)}})();const m=h.data;try{let p=((a=m==null?void 0:m.medico)==null?void 0:a.id)||(m==null?void 0:m.medico_id)||(m==null?void 0:m.medico)||null;if(!p)try{const v=await la.getSolicitacao(e).catch(()=>null);p=((s=v==null?void 0:v.medico)==null?void 0:s.id)||(v==null?void 0:v.medico_id)||(v==null?void 0:v.medico)||null}catch{}if(p){const v="/api/medicos/",x=v.endsWith("/")?v:`${v}/`,w={status:"active",situacao:"active",state:"active"},j=[{m:"patch",u:`${x}${p}/`,b:w},{m:"put",u:`${x}${p}/`,b:w}];for(const S of j)try{await Ce[S.m](S.u,S.b);break}catch{}const N=[`${x}${p}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const S of N){const F=S.endsWith("/")?S:`${S}/`;try{await Ce.patch(F,w);break}catch{}}}}catch(p){Ba&&console.warn("[adminService.aprovarSolicitacao] ps-ao falhou",(i=p==null?void 0:p.response)==null?void 0:i.status)}return(async()=>{var p;try{await la.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{observacoes:r}})}catch(v){Ba&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(p=v==null?void 0:v.response)==null?void 0:p.status)}})(),m}catch(h){const m=(o=h==null?void 0:h.response)==null?void 0:o.status;if(Ba&&console.warn("[adminService.aprovarSolicitacao] Falhou",f.url,"status=",m),m===401||m===403)throw h;continue}}},async rejeitarSolicitacao(e,r){var a,s,i,o;const t=sf();for(const l of t){const A=sl(l),d=[{method:"post",url:`${A}${e}/rejeitar/`,body:{motivo:r}},{method:"post",url:`${A}${e}/reject/`,body:{reason:r}},{method:"post",url:`${A}${e}/status/`,body:{status:"rejected",motivo:r}},{method:"patch",url:`${A}${e}/`,body:{status:"rejected",motivo:r}},{method:"put",url:`${A}${e}/`,body:{status:"rejected",motivo:r}}];for(const f of d)try{Ba&&console.debug("[adminService.rejeitarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const h=await Ce[f.method](f.url,f.body);(async()=>{var p;try{await la.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{motivo:r}})}catch(v){Ba&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(p=v==null?void 0:v.response)==null?void 0:p.status)}})();const m=h.data;try{let p=((a=m==null?void 0:m.medico)==null?void 0:a.id)||(m==null?void 0:m.medico_id)||(m==null?void 0:m.medico)||null;if(!p)try{const v=await la.getSolicitacao(e).catch(()=>null);p=((s=v==null?void 0:v.medico)==null?void 0:s.id)||(v==null?void 0:v.medico_id)||(v==null?void 0:v.medico)||null}catch{}if(p){const v="/api/medicos/",x=v.endsWith("/")?v:`${v}/`,w={status:"rejected",situacao:"rejected",state:"rejected"},j=[{m:"patch",u:`${x}${p}/`,b:w},{m:"put",u:`${x}${p}/`,b:w}];for(const S of j)try{await Ce[S.m](S.u,S.b);break}catch{}const N=[`${x}${p}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const S of N){const F=S.endsWith("/")?S:`${S}/`;try{await Ce.patch(F,w);break}catch{}}}}catch(p){Ba&&console.warn("[adminService.rejeitarSolicitacao] ps-ao falhou",(i=p==null?void 0:p.response)==null?void 0:i.status)}return(async()=>{var p;try{await la.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{motivo:r}})}catch(v){Ba&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(p=v==null?void 0:v.response)==null?void 0:p.status)}})(),m}catch(h){const m=(o=h==null?void 0:h.response)==null?void 0:o.status;if(Ba&&console.warn("[adminService.rejeitarSolicitacao] Falhou",f.url,"status=",m),m===401||m===403)throw h;continue}}},async visualizarDocumento(e){var r;try{if(e.startsWith("http")){window.open(e,"_blank");return}const t=sf();let a;for(const s of t){const i=[`${sl(s)}documentos/visualizar/${e}`,`${sl(s)}documentos/${e}`,`/media/documentos/${e}`,`/static/documentos/${e}`,e];for(const o of i)try{if(Ba&&console.debug("[adminService.visualizarDocumento] Tentando",o),(await Ce.head(o)).status===200){window.open(o,"_blank");return}}catch(l){Ba&&console.warn("[adminService.visualizarDocumento] Falhou",o,(r=l==null?void 0:l.response)==null?void 0:r.status),a=l;continue}}throw a||new Error("Documento no encontrado")}catch(t){throw console.error("Erro ao visualizar documento:",t),new Error("No foi possvel visualizar o documento")}},async baixarDocumento(e,r="documento"){var t;try{if(e.startsWith("http")){const i=document.createElement("a");i.href=e,i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i);return}const a=sf();let s;for(const i of a){const o=[`${sl(i)}documentos/download/${e}`,`${sl(i)}documentos/${e}`,`/media/documentos/${e}`,`/static/documentos/${e}`,e];for(const l of o)try{Ba&&console.debug("[adminService.baixarDocumento] Tentando",l);const A=await Ce.get(l,{responseType:"blob"});if(A.status===200){const d=new Blob([A.data]),f=window.URL.createObjectURL(d),h=document.createElement("a");h.href=f,h.download=r,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(f);return}}catch(A){Ba&&console.warn("[adminService.baixarDocumento] Falhou",l,(t=A==null?void 0:A.response)==null?void 0:t.status),s=A;continue}}throw s||new Error("Documento no encontrado")}catch(a){throw console.error("Erro ao baixar documento:",a),new Error("No foi possvel baixar o documento")}},async getAuditoria(e={}){return(await Ce.get("/admin/auditoria/",{params:e})).data},async registrarAuditoria(e={}){var f;const r=await ra.getCurrentUser(),t=e.action||e.acao||e.type,a=e.entity||e.entidade||"",s=e.entity_id||e.id||e.solicitacao_id||e.target_id||"",i=e.status||"success",o=typeof e.metadata=="object"&&e.metadata!==null?e.metadata:{},l=typeof e.detalhes=="object"&&e.detalhes!==null?e.detalhes:{},A={...o,...l,actor:(r==null?void 0:r.id)||(r==null?void 0:r.username)||"system",source:"frontend"},d={action:t,entity:a,entity_id:s,status:i,metadata:A};try{await Ce.post("/admin/auditoria/",d)}catch(h){Ba&&console.warn("[adminService.registrarAuditoria] falhou:",(f=h==null?void 0:h.response)==null?void 0:f.status)}},async getUsuarios(e={}){const r=Kv($v(e)),a=(await Ce.get("/users/",{params:r})).data,i=(Array.isArray(a==null?void 0:a.results)?a.results:Array.isArray(a)?a:[]).map(l=>({...l,id:(l==null?void 0:l.id)??(l==null?void 0:l.pk)??(l==null?void 0:l.uuid)??(l==null?void 0:l.user_id)??(l==null?void 0:l.usuario_id)??null})),o=typeof(a==null?void 0:a.count)=="number"?a.count:i.length;return{results:i,count:o}},async getClinicas(e={}){var a;const r=b8(),t=Kv($v(e));for(const s of r){const i=sl(s),o=nf?[i]:[i,i+"listar/",i+"list/",i+"todas/",i+"all/"],l=[];if(l.push(t),!nf&&(t!=null&&t.ordering)){const{ordering:A,...d}=t;l.push(d)}if(!nf){const A={};t.page_size!=null&&(A.page_size=t.page_size),t.limit!=null&&(A.limit=t.limit),t.page!=null&&(A.page=t.page),t.offset!=null&&(A.offset=t.offset),Object.keys(A).length&&l.push(A)}Object.keys(t).length&&l.push({});for(const A of o)for(const d of l)try{Ba&&console.debug("[adminService.getClinicas] GET",A,d);const h=(await Ce.get(A,{params:d})).data,m=Array.isArray(h==null?void 0:h.results)?h.results:Array.isArray(h)?h:[],p=typeof(h==null?void 0:h.count)=="number"?h.count:m.length;return Ba&&console.debug("[adminService.getClinicas] OK",A,`items=${m.length}`),{results:m,count:p}}catch(f){const h=(a=f==null?void 0:f.response)==null?void 0:a.status;if(Ba&&console.warn("[adminService.getClinicas] Falhou",A,"status=",h,"params=",d),h===401)throw f;continue}}return{results:[],count:0}},async updateUsuario(e,r={}){var o,l,A,d;const t=e||(r==null?void 0:r.id);if(!t)throw new Error("ID do usurio  obrigatrio para atualizao");const a={...r};a.role&&a.tipo==null&&(a.tipo=a.role),a.is_active!=null&&a.ativo==null&&(a.ativo=!!a.is_active),(a.first_name||a.last_name)&&a.nome==null&&(a.nome=[a.first_name||"",a.last_name||""].filter(Boolean).join(" ").trim()||void 0);const s=Xj();let i=null;for(const f of s){const h=sl(f);try{return(await Ce.patch(`${h}${t}/`,a)).data}catch(m){const p=(o=m==null?void 0:m.response)==null?void 0:o.status;if(Ba&&console.warn("[adminService.updateUsuario] PATCH falhou",`${h}${t}/`,"status=",p),p===401)throw m;i=m}try{return(await Ce.put(`${h}${t}/`,a)).data}catch(m){const p=(l=m==null?void 0:m.response)==null?void 0:l.status;if(Ba&&console.warn("[adminService.updateUsuario] PUT falhou",`${h}${t}/`,"status=",p),p===401)throw m;i=m}try{return(await Ce.patch(h,{id:t,...a})).data}catch(m){const p=(A=m==null?void 0:m.response)==null?void 0:A.status;if(Ba&&console.warn("[adminService.updateUsuario] PATCH base falhou",h,"status=",p),p===401)throw m;i=m}for(const m of["update/","editar/","edicao/"]){const p=h+m;try{return(await Ce.post(p,{id:t,...a})).data}catch(v){const x=(d=v==null?void 0:v.response)==null?void 0:d.status;if(Ba&&console.warn("[adminService.updateUsuario] POST falhou",p,"status=",x),x===401)throw v;i=v}}}throw i||new Error("Falha ao atualizar usurio: nenhum endpoint aceitou a requisio.")},async removerUsuariosEmMassa(e=[]){var i,o,l,A;const r=(Array.isArray(e)?e:[e]).filter(Boolean);if(r.length===0)return{success:!0,deleted:[],detail:"no-op"};const t=Xj();let a=null;const s=[{suffix:"remover/",method:"post",bodyKey:"ids"},{suffix:"delete/",method:"post",bodyKey:"ids"},{suffix:"bulk_delete/",method:"post",bodyKey:"ids"},{suffix:"bulk-delete/",method:"post",bodyKey:"ids"},{suffix:"excluir/",method:"post",bodyKey:"ids"}];for(const d of t){const f=sl(d);for(const m of s){const p=f+m.suffix;try{return(await Ce.post(p,{[m.bodyKey]:r})).data}catch(v){const x=(i=v==null?void 0:v.response)==null?void 0:i.status;if(Ba&&console.warn("[adminService.removerUsuariosEmMassa] POST falhou",p,"status=",x),x===401)throw v;a=v}}try{const m=f;return(await Ce.delete(m,{data:{ids:r}})).data}catch(m){const p=(o=m==null?void 0:m.response)==null?void 0:o.status;if(Ba&&console.warn("[adminService.removerUsuariosEmMassa] DELETE bulk falhou",f,"status=",p),p===401)throw m;a=m}try{const m=encodeURIComponent(r.join(",")),p=`${f}?ids=${m}`;return(await Ce.delete(p)).data}catch(m){const p=(l=m==null?void 0:m.response)==null?void 0:l.status;if(Ba&&console.warn("[adminService.removerUsuariosEmMassa] DELETE bulk (query) falhou",f,"status=",p),p===401)throw m;a=m}let h=!1;for(const m of r){const p=[`${f}${m}/`,`${f}delete/${m}/`,`${f}remover/${m}/`];let v=!1;for(const x of p)try{await Ce.delete(x),v=!0;break}catch(w){const j=(A=w==null?void 0:w.response)==null?void 0:A.status;if(Ba&&console.warn("[adminService.removerUsuariosEmMassa] DELETE por id falhou",x,"status=",j),j===401)throw w;a=w}if(v)h=!0;else try{await Ce.patch(`${f}${m}/`,{action:"delete"}),h=!0}catch{}}if(h)return{success:!0}}throw a||new Error("Falha ao excluir usurios: nenhum endpoint aceitou a requisio.")},async createUsuario(e={}){return(await Ce.post("/admin/usuarios/",e)).data}};function sl(e){if(!e)return"/";const r=String(e);return r.endsWith("/")?r:r+"/"}function $v(e={}){const r={...e};return r.limit!=null&&r.page_size==null&&(r.page_size=r.limit),r.page_size!=null&&r.limit==null&&(r.limit=r.page_size),Object.keys(r).forEach(t=>{(r[t]===void 0||r[t]===null||r[t]==="")&&delete r[t]}),r}function Kv(e={}){const r=new Set(["status","ordering","search","limit","page","page_size","offset","clinica","especialidade","tipo","urgencia"]),t={};for(const[a,s]of Object.entries(e||{}))r.has(a)&&(t[a]=s);return t}function sf(){const e="/api/solicitacaomedico/".trim(),r="/api/solicitacaomedico/".trim(),t="/api/solicitacoes/".trim(),a=Array.from(new Set([e,r,t].filter(Boolean))),s=["/solicitacaomedico/","/solicitacao-medico/","/solicitacaomedicomodel/","/solicitacao-medico-model/","/admin/solicitacoes/"],i=["/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/solicitacaomedico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedicomodel/","/solicitacoes/solicitacao-medico-model/","/meu_app/solicitacaomedico/","/meu_app/solicitacao-medico/"];return Array.from(new Set([...s,...a,...i].filter(Boolean)))}function Xj(){const e="".trim(),r="".trim(),t=Array.from(new Set([e,r].filter(Boolean))),a=["/admin/usuarios/","/usuarios/","/admin/users/","/users/"];return Array.from(new Set([...t,...a].filter(Boolean)))}function b8(){const e="".trim(),r="".trim(),t=Array.from(new Set([e,r].filter(Boolean))),a=["/admin/clinicas/","/clinicas/","/admin/clinica/","/clinica/"];return Array.from(new Set([...t,...a].filter(Boolean)))}function I_(e={}){var r,t,a,s,i,o,l,A,d,f,h,m,p,v,x,w,j,N,S,F,T,D,k;return{id:e.id||e.pk||e.uuid||e.codigo||e.codigo_id||0,tipo:String(e.tipo||e.type||e.kind||"medico").toLowerCase(),nome:e.nome||e.name||((r=e.usuario)==null?void 0:r.nome)||((t=e.user)==null?void 0:t.name)||((a=e.medico)==null?void 0:a.nome)||((s=e.clinica)==null?void 0:s.nome)||"",email:e.email||((i=e.usuario)==null?void 0:i.email)||((o=e.user)==null?void 0:o.email)||((A=(l=e.medico)==null?void 0:l.user)==null?void 0:A.email)||((d=e.clinica)==null?void 0:d.email)||"",telefone:e.telefone||e.phone||e.celular||((f=e.usuario)==null?void 0:f.telefone)||((h=e.user)==null?void 0:h.telefone)||((m=e.medico)==null?void 0:m.telefone)||((v=(p=e.medico)==null?void 0:p.contato)==null?void 0:v.telefone)||((w=(x=e.medico)==null?void 0:x.user)==null?void 0:w.telefone)||((j=e.clinica)==null?void 0:j.telefone)||"",crm:e.crm||((N=e.medico)==null?void 0:N.crm)||e.crm_numero||"",cnpj:e.cnpj||((S=e.clinica)==null?void 0:S.cnpj)||"",responsavel:e.responsavel||e.responsavel_tecnico||((F=e.clinica)==null?void 0:F.responsavel)||"",status:(()=>{const P=(e.status||e.situacao||e.state||"pending").toString().toLowerCase();return{pendente:"pending","em anlise":"pending","em analise":"pending",em_analise:"pending",aprovado:"approved",aprovada:"approved",rejeitado:"rejected",rejeitada:"rejected",reprovado:"rejected",reprovada:"rejected"}[P]||P})(),dataEnvio:e.dataEnvio||e.created_at||e.createdAt||e.data_criacao||e.submitted_at||new Date().toISOString(),dataAprovacao:e.dataAprovacao||e.aprovado_em||e.data_aprovacao||e.approved_at||null,dataRejeicao:e.dataRejeicao||e.rejeitado_em||e.data_rejeicao||e.rejected_at||null,documentos:Array.isArray(e.documentos)?e.documentos:e.documents||[],urgencia:String(e.urgencia||e.priority||"normal").toLowerCase(),observacoes:e.observacoes||e.notes||e.comentarios||"",aprovadoPor:e.aprovadoPor||e.approved_by||"",rejeitadoPor:e.rejeitadoPor||e.rejected_by||"",motivoRejeicao:e.motivoRejeicao||e.motivo||e.reason||"",especialidade:e.especialidade||e.especialidade_nome||((D=(T=e.medico)==null?void 0:T.especialidade)==null?void 0:D.nome)||((k=e.medico)==null?void 0:k.especialidade)||""}}function j8(e={}){var N,S,F,T,D,k,P,E,V,Q,$,G,R,ee,K,z,X,ne,ue,_,I;const r=I_(e),t=e.dataAprovacao||e.aprovado_em||e.data_aprovacao||e.approved_at||e.dataAprovado||null,a=e.dataRejeicao||e.rejeitado_em||e.data_rejeicao||e.rejected_at||e.dataRejeitado||null,s=[],i=W=>{W&&(Array.isArray(W)?s.push(...W.filter(Boolean)):typeof W=="object"?s.push(...Object.values(W).filter(Boolean)):typeof W=="string"&&s.push(W))};i(e.documentos),i(e.docs),i(e.arquivos),i(e.attachments),i(e.files);const o=[e.diplomaMedicina,e.certificadoResidencia,e.comprovanteExperiencia,e.documento_identidade,e.comprovante_endereco,e.diploma_medicina,e.certificado_residencia,e.comprovante_experiencia,e.rg,e.cpf].filter(Boolean);s.push(...o);const l=W=>{if(!W)return null;if(typeof W=="string")return{nome:(W.split("/").pop()||"Documento").trim(),tamanho:"",dataUpload:e.dataEnvio||e.created_at||e.createdAt||e.submitted_at||new Date().toISOString(),url:W};const te=W.nome||W.name||W.filename||W.file_name||W.titulo||W.tipo||"Documento",J=W.tamanho||W.size||W.file_size||"",Y=W.dataUpload||W.data_upload||W.uploaded_at||W.created_at||r.dataEnvio||new Date().toISOString(),M=W.url||W.link||W.path||W.file||W.arquivo||W.location||"";return{nome:te,tamanho:J,dataUpload:Y,url:M}},A=s.map(l).filter(Boolean),d=e.endereco||((N=e.medico)==null?void 0:N.endereco)||((S=e.clinica)==null?void 0:S.endereco)||{},f=typeof d=="string"?{cep:e.cep||"",logradouro:d,bairro:"",cidade:"",estado:""}:{cep:d.cep||e.cep||"",logradouro:d.logradouro||d.rua||d.endereco||"",bairro:d.bairro||"",cidade:d.cidade||d.municipio||"",estado:d.estado||d.uf||""},h=e.instituicaoFormacao||e.instituicao_formacao||((F=e.formacao)==null?void 0:F.instituicao)||((D=(T=e.medico)==null?void 0:T.formacao)==null?void 0:D.instituicao)||"",m=e.anoFormacao||e.ano_formacao||((k=e.formacao)==null?void 0:k.ano)||((E=(P=e.medico)==null?void 0:P.formacao)==null?void 0:E.ano)||"",p=e.residencia||((Q=(V=e.formacao)==null?void 0:V.residencia)==null?void 0:Q.nome)||((G=($=e.medico)==null?void 0:$.residencia)==null?void 0:G.nome)||"",v=e.instituicaoResidencia||e.instituicao_residencia||((ee=(R=e.formacao)==null?void 0:R.residencia)==null?void 0:ee.instituicao)||((z=(K=e.medico)==null?void 0:K.residencia)==null?void 0:z.instituicao)||"",x=e.anoResidencia||e.ano_residencia||((ne=(X=e.formacao)==null?void 0:X.residencia)==null?void 0:ne.ano)||((_=(ue=e.medico)==null?void 0:ue.residencia)==null?void 0:_.ano)||"",w=e.experiencia||e.experiencias||((I=e.medico)==null?void 0:I.experiencia)||"",j=e.motivacao||e.motivo||e.justificativa||e.reason||"";return{...r,dataAprovacao:t,dataRejeicao:a,documentos:A.length?A:r.documentos,endereco:f,instituicaoFormacao:h,anoFormacao:m,residencia:p,instituicaoResidencia:v,anoResidencia:x,experiencia:w,motivacao:j}}function P_(e,r=300){const[t,a]=y.useState(e);return y.useEffect(()=>{const s=setTimeout(()=>{a(e)},r);return()=>{clearTimeout(s)}},[e,r]),t}function N8(){const[e,r]=y.useState(""),[t,a]=y.useState("all"),[s,i]=y.useState("all"),[o,l]=y.useState("all"),[A,d]=y.useState(!1),[f,h]=y.useState([]),m=y.useRef(null),{toast:p}=Va(),v=P_(e,500),x=y.useMemo(()=>({search:mu(v.trim()),status:t,tipo:s,urgencia:o}),[v,t,s,o]),w=y.useCallback(async(k,P)=>{try{const E=await la.getSolicitacoes(k,{signal:P});return Array.isArray(E==null?void 0:E.results)?E.results:Array.isArray(E)?E:[]}catch(E){throw(E==null?void 0:E.name)!=="AbortError"&&console.error("Erro ao buscar solicitaes:",E),E}},[]);y.useEffect(()=>{d(!0);const k=setTimeout(async()=>{if(m.current)try{m.current.abort()}catch{}const P=new AbortController;m.current=P;try{const E={};x.status!=="all"&&(E.status=x.status),x.tipo!=="all"&&(E.tipo=x.tipo),x.urgencia!=="all"&&(E.urgencia=x.urgencia),x.search&&(E.search=x.search);const V=await w(E,P.signal);h(V)}catch(E){(E==null?void 0:E.name)!=="AbortError"&&h([])}finally{d(!1)}},200);return()=>clearTimeout(k)},[x,w]);const j=y.useCallback(async k=>{var P;d(!0);try{const E=await la.aprovarSolicitacao(k);h(V=>V.map(Q=>Q.id===k?{...Q,status:"approved",aprovadoPor:(E==null?void 0:E.approved_by)||Q.aprovadoPor||"",dataAprovacao:(E==null?void 0:E.approved_at)||Q.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:Q)),p({title:"Solicitao aprovada",description:"A solicitao foi aprovada com sucesso."})}catch(E){const V=(P=E==null?void 0:E.response)==null?void 0:P.status;p({title:V===403?"Sem permisso":"Erro ao aprovar",description:V===403?"Seu perfil no possui permisso para aprovar.":"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{d(!1)}},[p]),N=y.useCallback(async k=>{var P;d(!0);try{const E=await la.rejeitarSolicitacao(k,"Rejeitada pela Secretaria");h(V=>V.map(Q=>Q.id===k?{...Q,status:"rejected",rejeitadoPor:(E==null?void 0:E.rejected_by)||Q.rejeitadoPor||"",dataRejeicao:(E==null?void 0:E.rejected_at)||Q.dataRejeicao||new Date().toISOString(),motivoRejeicao:(E==null?void 0:E.reason)||Q.motivoRejeicao||"Rejeitada pela Secretaria"}:Q)),p({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."})}catch(E){const V=(P=E==null?void 0:E.response)==null?void 0:P.status;p({title:V===403?"Sem permisso":"Erro ao rejeitar",description:V===403?"Seu perfil no possui permisso para rejeitar.":"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{d(!1)}},[p]),S=({status:k})=>{const P=String(k||"pending").toLowerCase();return P==="approved"?n.jsx(sr,{variant:"success",children:"Aprovada"}):P==="rejected"?n.jsx(sr,{variant:"destructive",children:"Rejeitada"}):n.jsx(sr,{variant:"warning",children:"Pendente"})},F=({solicitacao:k})=>n.jsxs("div",{className:"p-4 rounded-xl border bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[k.tipo==="medico"?n.jsx(Kr,{className:"h-5 w-5 text-medical-primary"}):n.jsx(nc,{className:"h-5 w-5 text-medical-primary"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-medical-primary",children:k.nome||""}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Enviada em ",new Date(k.dataEnvio).toLocaleDateString()]})]})]}),n.jsx(S,{status:k.status})]}),n.jsxs("div",{className:"mt-3 text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),k.especialidade?n.jsxs("span",{children:["Especialidade: ",k.especialidade]}):n.jsxs("span",{children:["Tipo: ",k.tipo]})]}),k.status==="rejected"&&k.motivoRejeicao&&n.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-3 rounded-lg mt-3",children:n.jsxs("p",{className:"text-red-800 text-xs font-medium",children:[n.jsx("strong",{children:"Rejeitado:"})," ",k.motivoRejeicao,k.rejeitadoPor&&n.jsxs(n.Fragment,{children:[" por ",k.rejeitadoPor]})]})}),n.jsxs("div",{className:"flex gap-3 pt-3",children:[n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:n.jsxs(vr,{to:`/secretaria/solicitacoes/${k.id}`,children:[n.jsx(Ni,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),k.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(ye,{size:"sm",onClick:()=>j(k.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(ps,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),n.jsxs(ye,{variant:"destructive",size:"sm",onClick:()=>N(k.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(gs,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]}),T=y.useMemo(()=>f.filter(k=>{var $,G;const P=t==="all"||k.status===t,E=s==="all"||k.tipo===s,V=o==="all"||String(k.urgencia||"normal").toLowerCase()===o,Q=!x.search||(($=k.nome)==null?void 0:$.toLowerCase().includes(x.search.toLowerCase()))||((G=k.email)==null?void 0:G.toLowerCase().includes(x.search.toLowerCase()));return P&&E&&V&&Q}),[f,t,s,o,x.search]),D=y.useMemo(()=>({pending:T.filter(k=>k.status==="pending"),approved:T.filter(k=>k.status==="approved"),rejected:T.filter(k=>k.status==="rejected")}),[T]);return n.jsxs("div",{className:"px-6 py-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(Gc,{className:"h-6 w-6 text-medical-primary"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Solicitaes"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie solicitaes recebidas (mdicos e clnicas)"})]})]}),n.jsxs(ke,{className:"border-0 shadow-md",children:[n.jsxs(We,{children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(su,{className:"h-5 w-5"})," Filtros"]}),n.jsx(cr,{children:"Refine a busca por status, tipo e urgncia"})]}),n.jsx(Le,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ke,{placeholder:"Buscar por nome ou email",value:e,onChange:k=>r(k.target.value),className:"pl-9"})]}),n.jsxs(Gr,{value:t,onValueChange:a,children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"all",children:"Todos"}),n.jsx(st,{value:"pending",children:"Pendentes"}),n.jsx(st,{value:"approved",children:"Aprovadas"}),n.jsx(st,{value:"rejected",children:"Rejeitadas"})]})]}),n.jsxs(Gr,{value:s,onValueChange:i,children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"all",children:"Todos"}),n.jsx(st,{value:"medico",children:"Mdico"}),n.jsx(st,{value:"clinica",children:"Clnica"})]})]}),n.jsxs(Gr,{value:o,onValueChange:l,children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Urgncia"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"all",children:"Todas"}),n.jsx(st,{value:"normal",children:"Normal"}),n.jsx(st,{value:"alta",children:"Alta"}),n.jsx(st,{value:"critica",children:"Crtica"})]})]})]})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs(Vi,{defaultValue:"todas",className:"space-y-6",children:[n.jsxs(zi,{children:[n.jsx(Ur,{value:"todas",children:"Todas"}),n.jsx(Ur,{value:"pendentes",children:"Pendentes"}),n.jsx(Ur,{value:"aprovadas",children:"Aprovadas"}),n.jsx(Ur,{value:"rejeitadas",children:"Rejeitadas"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Or,{value:"todas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):T.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(vs,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:T.map(k=>n.jsx(F,{solicitacao:k},k.id))})}),n.jsx(Or,{value:"pendentes",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):D.pending.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Pr,{className:"h-8 w-8 text-amber-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao pendente."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.pending.map(k=>n.jsx(F,{solicitacao:k},k.id))})}),n.jsx(Or,{value:"aprovadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):D.approved.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(ps,{className:"h-8 w-8 text-green-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao aprovada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.approved.map(k=>n.jsx(F,{solicitacao:k},k.id))})}),n.jsx(Or,{value:"rejeitadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):D.rejected.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(gs,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao rejeitada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.rejected.map(k=>n.jsx(F,{solicitacao:k},k.id))})})]})]})})]})}const oa=y.forwardRef(({className:e,...r},t)=>n.jsx("textarea",{className:lt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));oa.displayName="Textarea";function B8(){const{id:e}=pl(),r=cs(),{toast:t}=Va(),[a,s]=y.useState(!1),[i,o]=y.useState(""),[l,A]=y.useState(!0),[d,f]=y.useState(null);y.useEffect(()=>{let x=!0;return(async()=>{try{const j=await la.getSolicitacao(e);x&&f(j)}catch{t({title:"Erro ao carregar",description:"No foi possvel carregar a solicitao.",variant:"destructive"}),r("/secretaria/solicitacoes")}finally{x&&A(!1)}})(),()=>{x=!1}},[e]);const h=async()=>{var x;s(!0);try{await la.aprovarSolicitacao(e,"Aprovada pela Secretaria"),t({title:"Solicitao aprovada!",description:"Solicitao aprovada com sucesso."}),r("/secretaria/solicitacoes")}catch(w){const j=(x=w==null?void 0:w.response)==null?void 0:x.status;t({title:j===403?"Sem permisso":"Erro",description:j===403?"Seu perfil no possui permisso para aprovar.":"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{s(!1)}},m=async()=>{var x;if(!i.trim()){t({title:"Motivo obrigatrio",description:"Por favor, informe o motivo da rejeio.",variant:"destructive"});return}s(!0);try{await la.rejeitarSolicitacao(e,i.trim()),t({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."}),r("/secretaria/solicitacoes")}catch(w){const j=(x=w==null?void 0:w.response)==null?void 0:x.status;t({title:j===403?"Sem permisso":"Erro",description:j===403?"Seu perfil no possui permisso para rejeitar.":"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{s(!1)}},p=x=>{switch(x){case"pending":return n.jsxs(sr,{variant:"warning",className:"",children:[n.jsx(Gc,{className:"mr-1 h-3 w-3"})," Aguardando Anlise"]});case"approved":return n.jsxs(sr,{variant:"success",className:"",children:[n.jsx(ps,{className:"mr-1 h-3 w-3"})," Aprovado"]});case"rejected":return n.jsxs(sr,{variant:"destructive",className:"",children:[n.jsx(gs,{className:"mr-1 h-3 w-3"})," Rejeitado"]});default:return null}};if(l)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(Yc,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),n.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitao"})]})]})});if(!d)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(Yc,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitao no encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const v=(d==null?void 0:d.endereco)||{};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(Yc,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitao"}),n.jsx("p",{className:"text-muted-foreground",children:"Anlise da solicitao recebida"})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`app-quick-icon ${d.tipo==="medico"?"info":"primary"} h-12 w-12`,children:d.tipo==="medico"?n.jsx(Kr,{className:"h-6 w-6"}):n.jsx(nc,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl",children:d.nome}),n.jsx(cr,{children:d.tipo==="medico"?"Solicitao de Cadastro Mdico":"Solicitao de Cadastro de Clnica"})]})]}),p(d.status)]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.email||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.telefone||d.celular||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Especialidade / Tipo"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.especialidade||d.tipo})]})]})]}),n.jsx(xs,{}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Endereo"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{children:[v==null?void 0:v.logradouro," ",v==null?void 0:v.numero]}),n.jsx("div",{children:v==null?void 0:v.bairro}),n.jsxs("div",{children:[v==null?void 0:v.cidade," - ",v==null?void 0:v.estado]}),n.jsx("div",{children:v==null?void 0:v.cep})]})]})})]})]})}),n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Aes"}),n.jsx(cr,{children:"Tomar deciso sobre a solicitao"})]}),n.jsx(Le,{className:"space-y-4",children:d.status==="pending"?n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(ye,{onClick:h,disabled:a,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:[n.jsx(ps,{className:"mr-2 h-4 w-4"})," Aprovar"]}),n.jsxs(ye,{variant:"destructive",onClick:m,disabled:a,children:[n.jsx(gs,{className:"mr-2 h-4 w-4"})," Rejeitar"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Motivo da Rejeio"}),n.jsx(oa,{placeholder:"Informe o motivo da rejeio",value:i,onChange:x=>o(x.target.value)})]})]}):d.status==="approved"?n.jsx(sr,{variant:"success",className:"",children:"Aprovado"}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(sr,{variant:"destructive",children:"Rejeitado"}),d.motivoRejeicao&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Motivo: ",d.motivoRejeicao]})]})})]})})]})]})}function To({tabs:e,basePath:r}){const t=Jn();return n.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-200/50 dark:border-gray-700/50 shadow-lg mb-6",children:n.jsx("nav",{className:"flex space-x-1 p-2",children:e.map(a=>{const s=t.pathname===a.href;return n.jsx(vr,{to:a.href,className:lt("flex items-center px-4 py-3 text-sm font-medium transition-all duration-200 rounded-md",s?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-700 hover:text-gray-900 hover:bg-gray-100/80 dark:text-gray-200 dark:hover:text-white dark:hover:bg-gray-700/70"),children:a.label},a.href)})})})}const Q_=6048e5,C8=864e5,Ax=6e4,dx=36e5,S8=1e3,Jj=Symbol.for("constructDateFrom");function Ia(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&Jj in e?e[Jj](r):e instanceof Date?new e.constructor(r):new Date(r)}function rr(e,r){return Ia(r||e,e)}function dl(e,r,t){const a=rr(e,t==null?void 0:t.in);return isNaN(r)?Ia((t==null?void 0:t.in)||e,NaN):(r&&a.setDate(a.getDate()+r),a)}function hl(e,r,t){const a=rr(e,t==null?void 0:t.in);if(isNaN(r))return Ia(e,NaN);if(!r)return a;const s=a.getDate(),i=Ia(e,a.getTime());i.setMonth(a.getMonth()+r+1,0);const o=i.getDate();return s>=o?i:(a.setFullYear(i.getFullYear(),i.getMonth(),s),a)}function R_(e,r,t){return Ia(e,+rr(e)+r)}function E8(e,r,t){return R_(e,r*dx)}let _8={};function ju(){return _8}function oA(e,r){var l,A,d,f;const t=ju(),a=(r==null?void 0:r.weekStartsOn)??((A=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=rr(e,r==null?void 0:r.in),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Pf(e,r){return oA(e,{...r,weekStartsOn:1})}function T_(e,r){const t=rr(e,r==null?void 0:r.in),a=t.getFullYear(),s=Ia(t,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const i=Pf(s),o=Ia(t,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=Pf(o);return t.getTime()>=i.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1}function a0(e){const r=rr(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function cA(e,...r){const t=Ia.bind(null,r.find(a=>typeof a=="object"));return r.map(t)}function xu(e,r){const t=rr(e,r==null?void 0:r.in);return t.setHours(0,0,0,0),t}function Qf(e,r,t){const[a,s]=cA(t==null?void 0:t.in,e,r),i=xu(a),o=xu(s),l=+i-a0(i),A=+o-a0(o);return Math.round((l-A)/C8)}function F8(e,r){const t=T_(e,r),a=Ia(e,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),Pf(a)}function j1(e,r,t){const a=rr(e,t==null?void 0:t.in);return a.setTime(a.getTime()+r*Ax),a}function ib(e,r,t){return hl(e,r*3,t)}function k8(e,r,t){return R_(e,r*1e3)}function n0(e,r,t){return dl(e,r*7,t)}function Zc(e,r,t){return hl(e,r*12,t)}function Zj(e,r){let t,a=r==null?void 0:r.in;return e.forEach(s=>{!a&&typeof s=="object"&&(a=Ia.bind(null,s));const i=rr(s,a);(!t||t<i||isNaN(+i))&&(t=i)}),Ia(a,t||NaN)}function eN(e,r){let t,a=r==null?void 0:r.in;return e.forEach(s=>{!a&&typeof s=="object"&&(a=Ia.bind(null,s));const i=rr(s,a);(!t||t>i||isNaN(+i))&&(t=i)}),Ia(a,t||NaN)}function D8(e,r,t){const[a,s]=cA(t==null?void 0:t.in,e,r);return+xu(a)==+xu(s)}function eA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function s0(e){return!(!eA(e)&&typeof e!="number"||isNaN(+rr(e)))}function i0(e,r,t){const[a,s]=cA(t==null?void 0:t.in,e,r),i=a.getFullYear()-s.getFullYear(),o=a.getMonth()-s.getMonth();return i*12+o}function iu(e,r){const t=rr(e,r==null?void 0:r.in);return Math.trunc(t.getMonth()/3)+1}function o0(e,r,t){const[a,s]=cA(t==null?void 0:t.in,e,r),i=a.getFullYear()-s.getFullYear(),o=iu(a)-iu(s);return i*4+o}function l0(e,r,t){const[a,s]=cA(t==null?void 0:t.in,e,r);return a.getFullYear()-s.getFullYear()}function U8(e,r,t){const[a,s]=cA(t==null?void 0:t.in,e,r),i=tN(a,s),o=Math.abs(Qf(a,s));a.setDate(a.getDate()-i*o);const l=+(tN(a,s)===-i),A=i*(o-l);return A===0?0:A}function tN(e,r){const t=e.getFullYear()-r.getFullYear()||e.getMonth()-r.getMonth()||e.getDate()-r.getDate()||e.getHours()-r.getHours()||e.getMinutes()-r.getMinutes()||e.getSeconds()-r.getSeconds()||e.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function M_(e,r){const t=rr(e,r==null?void 0:r.in);return t.setHours(23,59,59,999),t}function O_(e,r){const t=rr(e,r==null?void 0:r.in),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function N1(e,r){const t=rr(e,r==null?void 0:r.in),a=t.getMonth(),s=a-a%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function H_(e,r){const t=rr(e,r==null?void 0:r.in);return t.setDate(1),t.setHours(0,0,0,0),t}function $_(e,r){const t=rr(e,r==null?void 0:r.in),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(23,59,59,999),t}function ux(e,r){const t=rr(e,r==null?void 0:r.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function L8(e,r){var l,A;const t=ju(),a=t.weekStartsOn??((A=(l=t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??0,s=rr(e,r==null?void 0:r.in),i=s.getDay(),o=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const I8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P8=(e,r,t)=>{let a;const s=I8[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function Cf(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const Q8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},T8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},M8={date:Cf({formats:Q8,defaultWidth:"full"}),time:Cf({formats:R8,defaultWidth:"full"}),dateTime:Cf({formats:T8,defaultWidth:"full"})},O8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},H8=(e,r,t,a)=>O8[e];function zl(e){return(r,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return s[i]}}const $8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},K8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},z8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},q8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},W8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G8=(e,r)=>{const t=Number(e),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Y8={ordinalNumber:G8,era:zl({values:$8,defaultWidth:"wide"}),quarter:zl({values:K8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zl({values:V8,defaultWidth:"wide"}),day:zl({values:z8,defaultWidth:"wide"}),dayPeriod:zl({values:q8,defaultWidth:"wide",formattingValues:W8,defaultFormattingWidth:"wide"})};function ql(e){return(r,t={})=>{const a=t.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],A=Array.isArray(l)?J8(l,h=>h.test(o)):X8(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(A):A,d=t.valueCallback?t.valueCallback(d):d;const f=r.slice(o.length);return{value:d,rest:f}}}function X8(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function J8(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function K_(e){return(r,t={})=>{const a=r.match(e.matchPattern);if(!a)return null;const s=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const l=r.slice(s.length);return{value:o,rest:l}}}const Z8=/^(\d+)(th|st|nd|rd)?/i,eO=/\d+/i,tO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rO={any:[/^b/i,/^(a|c)/i]},aO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nO={any:[/1/i,/2/i,/3/i,/4/i]},sO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dO={ordinalNumber:K_({matchPattern:Z8,parsePattern:eO,valueCallback:e=>parseInt(e,10)}),era:ql({matchPatterns:tO,defaultMatchWidth:"wide",parsePatterns:rO,defaultParseWidth:"any"}),quarter:ql({matchPatterns:aO,defaultMatchWidth:"wide",parsePatterns:nO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ql({matchPatterns:sO,defaultMatchWidth:"wide",parsePatterns:iO,defaultParseWidth:"any"}),day:ql({matchPatterns:oO,defaultMatchWidth:"wide",parsePatterns:lO,defaultParseWidth:"any"}),dayPeriod:ql({matchPatterns:cO,defaultMatchWidth:"any",parsePatterns:AO,defaultParseWidth:"any"})},V_={code:"en-US",formatDistance:P8,formatLong:M8,formatRelative:H8,localize:Y8,match:dO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uO(e,r){const t=rr(e,r==null?void 0:r.in);return Qf(t,ux(t))+1}function ob(e,r){const t=rr(e,r==null?void 0:r.in),a=+Pf(t)-+F8(t);return Math.round(a/Q_)+1}function lb(e,r){var f,h,m,p;const t=rr(e,r==null?void 0:r.in),a=t.getFullYear(),s=ju(),i=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ia((r==null?void 0:r.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=oA(o,r),A=Ia((r==null?void 0:r.in)||e,0);A.setFullYear(a,0,i),A.setHours(0,0,0,0);const d=oA(A,r);return+t>=+l?a+1:+t>=+d?a:a-1}function fO(e,r){var l,A,d,f;const t=ju(),a=(r==null?void 0:r.firstWeekContainsDate)??((A=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:A.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=lb(e,r),i=Ia((r==null?void 0:r.in)||e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),oA(i,r)}function z_(e,r){const t=rr(e,r==null?void 0:r.in),a=+oA(t,r)-+fO(t,r);return Math.round(a/Q_)+1}function Ua(e,r){const t=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return t+a}const OA={y(e,r){const t=e.getFullYear(),a=t>0?t:1-t;return Ua(r==="yy"?a%100:a,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):Ua(t+1,2)},d(e,r){return Ua(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return Ua(e.getHours()%12||12,r.length)},H(e,r){return Ua(e.getHours(),r.length)},m(e,r){return Ua(e.getMinutes(),r.length)},s(e,r){return Ua(e.getSeconds(),r.length)},S(e,r){const t=r.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,t-3));return Ua(s,r.length)}},of={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rN={G:function(e,r,t){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return t.ordinalNumber(s,{unit:"year"})}return OA.y(e,r)},Y:function(e,r,t,a){const s=lb(e,a),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return Ua(o,2)}return r==="Yo"?t.ordinalNumber(i,{unit:"year"}):Ua(i,r.length)},R:function(e,r){const t=T_(e);return Ua(t,r.length)},u:function(e,r){const t=e.getFullYear();return Ua(t,r.length)},Q:function(e,r,t){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Ua(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,t){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Ua(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,t){const a=e.getMonth();switch(r){case"M":case"MM":return OA.M(e,r);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,t){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return Ua(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,t,a){const s=z_(e,a);return r==="wo"?t.ordinalNumber(s,{unit:"week"}):Ua(s,r.length)},I:function(e,r,t){const a=ob(e);return r==="Io"?t.ordinalNumber(a,{unit:"week"}):Ua(a,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):OA.d(e,r)},D:function(e,r,t){const a=uO(e);return r==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):Ua(a,r.length)},E:function(e,r,t){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,t,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return Ua(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,t,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return Ua(i,r.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,t){const a=e.getDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return Ua(s,r.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,t){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,t){const a=e.getHours();let s;switch(a===12?s=of.noon:a===0?s=of.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,t){const a=e.getHours();let s;switch(a>=17?s=of.evening:a>=12?s=of.afternoon:a>=4?s=of.morning:s=of.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return OA.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):OA.H(e,r)},K:function(e,r,t){const a=e.getHours()%12;return r==="Ko"?t.ordinalNumber(a,{unit:"hour"}):Ua(a,r.length)},k:function(e,r,t){let a=e.getHours();return a===0&&(a=24),r==="ko"?t.ordinalNumber(a,{unit:"hour"}):Ua(a,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):OA.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):OA.s(e,r)},S:function(e,r){return OA.S(e,r)},X:function(e,r,t){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return nN(a);case"XXXX":case"XX":return Gd(a);case"XXXXX":case"XXX":default:return Gd(a,":")}},x:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"x":return nN(a);case"xxxx":case"xx":return Gd(a);case"xxxxx":case"xxx":default:return Gd(a,":")}},O:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+aN(a,":");case"OOOO":default:return"GMT"+Gd(a,":")}},z:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+aN(a,":");case"zzzz":default:return"GMT"+Gd(a,":")}},t:function(e,r,t){const a=Math.trunc(+e/1e3);return Ua(a,r.length)},T:function(e,r,t){return Ua(+e,r.length)}};function aN(e,r=""){const t=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?t+String(s):t+String(s)+r+Ua(i,2)}function nN(e,r){return e%60===0?(e>0?"-":"+")+Ua(Math.abs(e)/60,2):Gd(e,r)}function Gd(e,r=""){const t=e>0?"-":"+",a=Math.abs(e),s=Ua(Math.trunc(a/60),2),i=Ua(a%60,2);return t+s+r+i}const sN=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},q_=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},hO=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],a=t[1],s=t[2];if(!s)return sN(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",sN(a,r)).replace("{{time}}",q_(s,r))},B1={p:q_,P:hO},mO=/^D+$/,pO=/^Y+$/,gO=["D","DD","YY","YYYY"];function xO(e){return mO.test(e)}function vO(e){return pO.test(e)}function wO(e,r,t){const a=yO(e,r,t);if(console.warn(a),gO.includes(e))throw new RangeError(a)}function yO(e,r,t){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NO=/^'([^]*?)'?$/,BO=/''/g,CO=/[a-zA-Z]/;function GA(e,r,t){var f,h,m,p,v,x,w,j;const a=ju(),s=(t==null?void 0:t.locale)??a.locale??V_,i=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((x=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??a.weekStartsOn??((j=(w=a.locale)==null?void 0:w.options)==null?void 0:j.weekStartsOn)??0,l=rr(e,t==null?void 0:t.in);if(!s0(l))throw new RangeError("Invalid time value");let A=r.match(jO).map(N=>{const S=N[0];if(S==="p"||S==="P"){const F=B1[S];return F(N,s.formatLong)}return N}).join("").match(bO).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const S=N[0];if(S==="'")return{isToken:!1,value:SO(N)};if(rN[S])return{isToken:!0,value:N};if(S.match(CO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:N}});s.localize.preprocessor&&(A=s.localize.preprocessor(l,A));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return A.map(N=>{if(!N.isToken)return N.value;const S=N.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&vO(S)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&xO(S))&&wO(S,r,String(e));const F=rN[S[0]];return F(l,S,s.localize,d)}).join("")}function SO(e){const r=e.match(NO);return r?r[1].replace(BO,"'"):e}function iN(e,r){return rr(e,r==null?void 0:r.in).getDate()}function EO(e,r){return rr(e,r==null?void 0:r.in).getDay()}function _O(e,r){const t=rr(e,r==null?void 0:r.in),a=t.getFullYear(),s=t.getMonth(),i=Ia(t,0);return i.setFullYear(a,s+1,0),i.setHours(0,0,0,0),i.getDate()}function FO(){return Object.assign({},ju())}function tA(e,r){return rr(e,r==null?void 0:r.in).getHours()}function kO(e,r){const t=rr(e,r==null?void 0:r.in).getDay();return t===0?7:t}function rA(e,r){return rr(e,r==null?void 0:r.in).getMinutes()}function Ai(e,r){return rr(e,r==null?void 0:r.in).getMonth()}function ad(e){return rr(e).getSeconds()}function C1(e){return+rr(e)}function Wr(e,r){return rr(e,r==null?void 0:r.in).getFullYear()}function ud(e,r){return+rr(e)>+rr(r)}function Jl(e,r){return+rr(e)<+rr(r)}function DO(e,r){return+rr(e)==+rr(r)}function UO(e,r){const t=LO(r)?new r(0):Ia(r,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function LO(e){var r;return typeof e=="function"&&((r=e.prototype)==null?void 0:r.constructor)===e}const IO=10;class W_{constructor(){ft(this,"subPriority",0)}validate(r,t){return!0}}class PO extends W_{constructor(r,t,a,s,i){super(),this.value=r,this.validateValue=t,this.setValue=a,this.priority=s,i&&(this.subPriority=i)}validate(r,t){return this.validateValue(r,this.value,t)}set(r,t,a){return this.setValue(r,t,this.value,a)}}class QO extends W_{constructor(t,a){super();ft(this,"priority",IO);ft(this,"subPriority",-1);this.context=t||(s=>Ia(a,s))}set(t,a){return a.timestampIsSet?t:Ia(t,UO(t,this.context))}}let ya=class{run(r,t,a,s){const i=this.parse(r,t,a,s);return i?{setter:new PO(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(r,t,a){return!0}};class RO extends ya{constructor(){super(...arguments);ft(this,"priority",140);ft(this,"incompatibleTokens",["R","u","t","T"])}parse(t,a,s){switch(a){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,a,s){return a.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const Wn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Gn(e,r){return e&&{value:r(e.value),rest:e.rest}}function Sn(e,r){const t=r.match(e);return t?{value:parseInt(t[0],10),rest:r.slice(t[0].length)}:null}function Gl(e,r){const t=r.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:r.slice(1)};const a=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:a*(s*dx+i*Ax+o*S8),rest:r.slice(t[0].length)}}function G_(e){return Sn(Wn.anyDigitsSigned,e)}function Qn(e,r){switch(e){case 1:return Sn(Wn.singleDigit,r);case 2:return Sn(Wn.twoDigits,r);case 3:return Sn(Wn.threeDigits,r);case 4:return Sn(Wn.fourDigits,r);default:return Sn(new RegExp("^\\d{1,"+e+"}"),r)}}function c0(e,r){switch(e){case 1:return Sn(Wn.singleDigitSigned,r);case 2:return Sn(Wn.twoDigitsSigned,r);case 3:return Sn(Wn.threeDigitsSigned,r);case 4:return Sn(Wn.fourDigitsSigned,r);default:return Sn(new RegExp("^-?\\d{1,"+e+"}"),r)}}function cb(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Y_(e,r){const t=r>0,a=t?r:1-r;let s;if(a<=50)s=e||100;else{const i=a+50,o=Math.trunc(i/100)*100,l=e>=i%100;s=e+o-(l?100:0)}return t?s:1-s}function X_(e){return e%400===0||e%4===0&&e%100!==0}class TO extends ya{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,a,s){const i=o=>({year:o,isTwoDigitYear:a==="yy"});switch(a){case"y":return Gn(Qn(4,t),i);case"yo":return Gn(s.ordinalNumber(t,{unit:"year"}),i);default:return Gn(Qn(a.length,t),i)}}validate(t,a){return a.isTwoDigitYear||a.year>0}set(t,a,s){const i=t.getFullYear();if(s.isTwoDigitYear){const l=Y_(s.year,i);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const o=!("era"in a)||a.era===1?s.year:1-s.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class MO extends ya{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,a,s){const i=o=>({year:o,isTwoDigitYear:a==="YY"});switch(a){case"Y":return Gn(Qn(4,t),i);case"Yo":return Gn(s.ordinalNumber(t,{unit:"year"}),i);default:return Gn(Qn(a.length,t),i)}}validate(t,a){return a.isTwoDigitYear||a.year>0}set(t,a,s,i){const o=lb(t,i);if(s.isTwoDigitYear){const A=Y_(s.year,o);return t.setFullYear(A,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),oA(t,i)}const l=!("era"in a)||a.era===1?s.year:1-s.year;return t.setFullYear(l,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),oA(t,i)}}class OO extends ya{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,a){return c0(a==="R"?4:a.length,t)}set(t,a,s){const i=Ia(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Pf(i)}}class HO extends ya{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,a){return c0(a==="u"?4:a.length,t)}set(t,a,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class $O extends ya{constructor(){super(...arguments);ft(this,"priority",120);ft(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"Q":case"QQ":return Qn(a.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=1&&a<=4}set(t,a,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class KO extends ya{constructor(){super(...arguments);ft(this,"priority",120);ft(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"q":case"qq":return Qn(a.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=1&&a<=4}set(t,a,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class VO extends ya{constructor(){super(...arguments);ft(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ft(this,"priority",110)}parse(t,a,s){const i=o=>o-1;switch(a){case"M":return Gn(Sn(Wn.month,t),i);case"MM":return Gn(Qn(2,t),i);case"Mo":return Gn(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class zO extends ya{constructor(){super(...arguments);ft(this,"priority",110);ft(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,a,s){const i=o=>o-1;switch(a){case"L":return Gn(Sn(Wn.month,t),i);case"LL":return Gn(Qn(2,t),i);case"Lo":return Gn(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function qO(e,r,t){const a=rr(e,t==null?void 0:t.in),s=z_(a,t)-r;return a.setDate(a.getDate()-s*7),rr(a,t==null?void 0:t.in)}class WO extends ya{constructor(){super(...arguments);ft(this,"priority",100);ft(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,a,s){switch(a){case"w":return Sn(Wn.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return Qn(a.length,t)}}validate(t,a){return a>=1&&a<=53}set(t,a,s,i){return oA(qO(t,s,i),i)}}function GO(e,r,t){const a=rr(e,t==null?void 0:t.in),s=ob(a,t)-r;return a.setDate(a.getDate()-s*7),a}class YO extends ya{constructor(){super(...arguments);ft(this,"priority",100);ft(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,a,s){switch(a){case"I":return Sn(Wn.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return Qn(a.length,t)}}validate(t,a){return a>=1&&a<=53}set(t,a,s){return Pf(GO(t,s))}}const XO=[31,28,31,30,31,30,31,31,30,31,30,31],JO=[31,29,31,30,31,30,31,31,30,31,30,31];class ZO extends ya{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"subPriority",1);ft(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"d":return Sn(Wn.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return Qn(a.length,t)}}validate(t,a){const s=t.getFullYear(),i=X_(s),o=t.getMonth();return i?a>=1&&a<=JO[o]:a>=1&&a<=XO[o]}set(t,a,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class eH extends ya{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"subpriority",1);ft(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,a,s){switch(a){case"D":case"DD":return Sn(Wn.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return Qn(a.length,t)}}validate(t,a){const s=t.getFullYear();return X_(s)?a>=1&&a<=366:a>=1&&a<=365}set(t,a,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function Ab(e,r,t){var h,m,p,v;const a=ju(),s=(t==null?void 0:t.weekStartsOn)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??a.weekStartsOn??((v=(p=a.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,i=rr(e,t==null?void 0:t.in),o=i.getDay(),A=(r%7+7)%7,d=7-s,f=r<0||r>6?r-(o+d)%7:(A+d)%7-(o+d)%7;return dl(i,f,t)}class tH extends ya{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=Ab(t,s,i),t.setHours(0,0,0,0),t}}class rH extends ya{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,a,s,i){const o=l=>{const A=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+A};switch(a){case"e":case"ee":return Gn(Qn(a.length,t),o);case"eo":return Gn(s.ordinalNumber(t,{unit:"day"}),o);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=Ab(t,s,i),t.setHours(0,0,0,0),t}}class aH extends ya{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,a,s,i){const o=l=>{const A=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+A};switch(a){case"c":case"cc":return Gn(Qn(a.length,t),o);case"co":return Gn(s.ordinalNumber(t,{unit:"day"}),o);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=Ab(t,s,i),t.setHours(0,0,0,0),t}}function nH(e,r,t){const a=rr(e,t==null?void 0:t.in),s=kO(a,t),i=r-s;return dl(a,i,t)}class sH extends ya{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,a,s){const i=o=>o===0?7:o;switch(a){case"i":case"ii":return Qn(a.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return Gn(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return Gn(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Gn(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Gn(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,a){return a>=1&&a<=7}set(t,a,s){return t=nH(t,s),t.setHours(0,0,0,0),t}}class iH extends ya{constructor(){super(...arguments);ft(this,"priority",80);ft(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,a,s){switch(a){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(cb(s),0,0,0),t}}class oH extends ya{constructor(){super(...arguments);ft(this,"priority",80);ft(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,a,s){switch(a){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(cb(s),0,0,0),t}}class lH extends ya{constructor(){super(...arguments);ft(this,"priority",80);ft(this,"incompatibleTokens",["a","b","t","T"])}parse(t,a,s){switch(a){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(cb(s),0,0,0),t}}class cH extends ya{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,a,s){switch(a){case"h":return Sn(Wn.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return Qn(a.length,t)}}validate(t,a){return a>=1&&a<=12}set(t,a,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class AH extends ya{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,a,s){switch(a){case"H":return Sn(Wn.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return Qn(a.length,t)}}validate(t,a){return a>=0&&a<=23}set(t,a,s){return t.setHours(s,0,0,0),t}}class dH extends ya{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,a,s){switch(a){case"K":return Sn(Wn.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return Qn(a.length,t)}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class uH extends ya{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,a,s){switch(a){case"k":return Sn(Wn.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return Qn(a.length,t)}}validate(t,a){return a>=1&&a<=24}set(t,a,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}}class fH extends ya{constructor(){super(...arguments);ft(this,"priority",60);ft(this,"incompatibleTokens",["t","T"])}parse(t,a,s){switch(a){case"m":return Sn(Wn.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return Qn(a.length,t)}}validate(t,a){return a>=0&&a<=59}set(t,a,s){return t.setMinutes(s,0,0),t}}class hH extends ya{constructor(){super(...arguments);ft(this,"priority",50);ft(this,"incompatibleTokens",["t","T"])}parse(t,a,s){switch(a){case"s":return Sn(Wn.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return Qn(a.length,t)}}validate(t,a){return a>=0&&a<=59}set(t,a,s){return t.setSeconds(s,0),t}}class mH extends ya{constructor(){super(...arguments);ft(this,"priority",30);ft(this,"incompatibleTokens",["t","T"])}parse(t,a){const s=i=>Math.trunc(i*Math.pow(10,-a.length+3));return Gn(Qn(a.length,t),s)}set(t,a,s){return t.setMilliseconds(s),t}}class pH extends ya{constructor(){super(...arguments);ft(this,"priority",10);ft(this,"incompatibleTokens",["t","T","x"])}parse(t,a){switch(a){case"X":return Gl(Wl.basicOptionalMinutes,t);case"XX":return Gl(Wl.basic,t);case"XXXX":return Gl(Wl.basicOptionalSeconds,t);case"XXXXX":return Gl(Wl.extendedOptionalSeconds,t);case"XXX":default:return Gl(Wl.extended,t)}}set(t,a,s){return a.timestampIsSet?t:Ia(t,t.getTime()-a0(t)-s)}}class gH extends ya{constructor(){super(...arguments);ft(this,"priority",10);ft(this,"incompatibleTokens",["t","T","X"])}parse(t,a){switch(a){case"x":return Gl(Wl.basicOptionalMinutes,t);case"xx":return Gl(Wl.basic,t);case"xxxx":return Gl(Wl.basicOptionalSeconds,t);case"xxxxx":return Gl(Wl.extendedOptionalSeconds,t);case"xxx":default:return Gl(Wl.extended,t)}}set(t,a,s){return a.timestampIsSet?t:Ia(t,t.getTime()-a0(t)-s)}}class xH extends ya{constructor(){super(...arguments);ft(this,"priority",40);ft(this,"incompatibleTokens","*")}parse(t){return G_(t)}set(t,a,s){return[Ia(t,s*1e3),{timestampIsSet:!0}]}}class vH extends ya{constructor(){super(...arguments);ft(this,"priority",20);ft(this,"incompatibleTokens","*")}parse(t){return G_(t)}set(t,a,s){return[Ia(t,s),{timestampIsSet:!0}]}}const wH={G:new RO,y:new TO,Y:new MO,R:new OO,u:new HO,Q:new $O,q:new KO,M:new VO,L:new zO,w:new WO,I:new YO,d:new ZO,D:new eH,E:new tH,e:new rH,c:new aH,i:new sH,a:new iH,b:new oH,B:new lH,h:new cH,H:new AH,K:new dH,k:new uH,m:new fH,s:new hH,S:new mH,X:new pH,x:new gH,t:new xH,T:new vH},yH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jH=/^'([^]*?)'?$/,NH=/''/g,BH=/\S/,CH=/[a-zA-Z]/;function SH(e,r,t,a){var w,j,N,S,F,T,D,k;const s=()=>Ia((a==null?void 0:a.in)||t,NaN),i=FO(),o=(a==null?void 0:a.locale)??i.locale??V_,l=(a==null?void 0:a.firstWeekContainsDate)??((j=(w=a==null?void 0:a.locale)==null?void 0:w.options)==null?void 0:j.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(N=i.locale)==null?void 0:N.options)==null?void 0:S.firstWeekContainsDate)??1,A=(a==null?void 0:a.weekStartsOn)??((T=(F=a==null?void 0:a.locale)==null?void 0:F.options)==null?void 0:T.weekStartsOn)??i.weekStartsOn??((k=(D=i.locale)==null?void 0:D.options)==null?void 0:k.weekStartsOn)??0;if(!r)return e?s():rr(t,a==null?void 0:a.in);const d={firstWeekContainsDate:l,weekStartsOn:A,locale:o},f=[new QO(a==null?void 0:a.in,t)],h=r.match(bH).map(P=>{const E=P[0];if(E in B1){const V=B1[E];return V(P,o.formatLong)}return P}).join("").match(yH),m=[];for(let P of h){const E=P[0],V=wH[E];if(V){const{incompatibleTokens:Q}=V;if(Array.isArray(Q)){const G=m.find(R=>Q.includes(R.token)||R.token===E);if(G)throw new RangeError(`The format string mustn't contain \`${G.fullToken}\` and \`${P}\` at the same time`)}else if(V.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);m.push({token:E,fullToken:P});const $=V.run(e,P,o.match,d);if(!$)return s();f.push($.setter),e=$.rest}else{if(E.match(CH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(P==="''"?P="'":E==="'"&&(P=EH(P)),e.indexOf(P)===0)e=e.slice(P.length);else return s()}}if(e.length>0&&BH.test(e))return s();const p=f.map(P=>P.priority).sort((P,E)=>E-P).filter((P,E,V)=>V.indexOf(P)===E).map(P=>f.filter(E=>E.priority===P).sort((E,V)=>V.subPriority-E.subPriority)).map(P=>P[0]);let v=rr(t,a==null?void 0:a.in);if(isNaN(+v))return s();const x={};for(const P of p){if(!P.validate(v,d))return s();const E=P.set(v,x,d);Array.isArray(E)?(v=E[0],Object.assign(x,E[1])):v=E}return v}function EH(e){return e.match(jH)[1].replace(NH,"'")}function _H(e,r,t){const[a,s]=cA(t==null?void 0:t.in,e,r);return a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()}function FH(e,r,t){const[a,s]=cA(t==null?void 0:t.in,e,r);return+N1(a)==+N1(s)}function kH(e,r,t){const[a,s]=cA(t==null?void 0:t.in,e,r);return a.getFullYear()===s.getFullYear()}function um(e,r,t){const a=+rr(e,t==null?void 0:t.in),[s,i]=[+rr(r.start,t==null?void 0:t.in),+rr(r.end,t==null?void 0:t.in)].sort((o,l)=>o-l);return a>=s&&a<=i}function DH(e,r,t){return dl(e,-1,t)}function J_(e,r){const t=()=>Ia(r==null?void 0:r.in,NaN),s=PH(e);let i;if(s.date){const d=QH(s.date,2);i=RH(d.restDateString,d.year)}if(!i||isNaN(+i))return t();const o=+i;let l=0,A;if(s.time&&(l=TH(s.time),isNaN(l)))return t();if(s.timezone){if(A=MH(s.timezone),isNaN(A))return t()}else{const d=new Date(o+l),f=rr(0,r==null?void 0:r.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return rr(o+l+A,r==null?void 0:r.in)}const kp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},UH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,IH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function PH(e){const r={},t=e.split(kp.dateTimeDelimiter);let a;if(t.length>2)return r;if(/:/.test(t[0])?a=t[0]:(r.date=t[0],a=t[1],kp.timeZoneDelimiter.test(r.date)&&(r.date=e.split(kp.timeZoneDelimiter)[0],a=e.substr(r.date.length,e.length))),a){const s=kp.timezone.exec(a);s?(r.time=a.replace(s[1],""),r.timezone=s[1]):r.time=a}return r}function QH(e,r){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),a=e.match(t);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function RH(e,r){if(r===null)return new Date(NaN);const t=e.match(UH);if(!t)return new Date(NaN);const a=!!t[4],s=_h(t[1]),i=_h(t[2])-1,o=_h(t[3]),l=_h(t[4]),A=_h(t[5])-1;if(a)return VH(r,l,A)?OH(r,l,A):new Date(NaN);{const d=new Date(0);return!$H(r,i,o)||!KH(r,s)?new Date(NaN):(d.setUTCFullYear(r,i,Math.max(s,o)),d)}}function _h(e){return e?parseInt(e):1}function TH(e){const r=e.match(LH);if(!r)return NaN;const t=Vv(r[1]),a=Vv(r[2]),s=Vv(r[3]);return zH(t,a,s)?t*dx+a*Ax+s*1e3:NaN}function Vv(e){return e&&parseFloat(e.replace(",","."))||0}function MH(e){if(e==="Z")return 0;const r=e.match(IH);if(!r)return 0;const t=r[1]==="+"?-1:1,a=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return qH(a,s)?t*(a*dx+s*Ax):NaN}function OH(e,r,t){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,i=(r-1)*7+t+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const HH=[31,null,31,30,31,30,31,31,30,31,30,31];function Z_(e){return e%400===0||e%4===0&&e%100!==0}function $H(e,r,t){return r>=0&&r<=11&&t>=1&&t<=(HH[r]||(Z_(e)?29:28))}function KH(e,r){return r>=1&&r<=(Z_(e)?366:365)}function VH(e,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function zH(e,r,t){return e===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&e>=0&&e<25}function qH(e,r){return r>=0&&r<=59}function Ao(e,r,t){const a=rr(e,t==null?void 0:t.in),s=a.getFullYear(),i=a.getDate(),o=Ia(e,0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);const l=_O(o);return a.setMonth(r,Math.min(i,l)),a}function Cg(e,r,t){const a=rr(e,t==null?void 0:t.in);return a.setHours(r),a}function Sg(e,r,t){const a=rr(e,t==null?void 0:t.in);return a.setMinutes(r),a}function gf(e,r,t){const a=rr(e,t==null?void 0:t.in),s=Math.trunc(a.getMonth()/3)+1,i=r-s;return Ao(a,a.getMonth()+i*3)}function Eg(e,r,t){const a=rr(e,t==null?void 0:t.in);return a.setSeconds(r),a}function $l(e,r,t){const a=rr(e,t==null?void 0:t.in);return isNaN(+a)?Ia(e,NaN):(a.setFullYear(r),a)}function ou(e,r,t){return hl(e,-r,t)}function e3(e,r,t){return ib(e,-1,t)}function oN(e,r,t){return n0(e,-1,t)}function Rf(e,r,t){return Zc(e,-r,t)}var WH=typeof document<"u",GH=function(){},A0=WH?y.useLayoutEffect:GH;const YH={...vm},XH=YH.useInsertionEffect,JH=XH||(e=>e());function ZH(e){const r=y.useRef(()=>{});return JH(()=>{r.current=e}),y.useCallback(function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r.current==null?void 0:r.current(...a)},[])}const e7={...vm};let lN=!1,t7=0;const cN=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+t7++;function r7(){const[e,r]=y.useState(()=>lN?cN():void 0);return A0(()=>{e==null&&r(cN())},[]),y.useEffect(()=>{lN=!0},[]),e}const a7=e7.useId,t3=a7||r7,n7=y.forwardRef(function(r,t){const{context:{placement:a,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:l=14,height:A=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:h,stroke:m,d:p,style:{transform:v,...x}={},...w}=r,j=t3(),[N,S]=y.useState(!1);if(A0(()=>{if(!s)return;Qo(s).direction==="rtl"&&S(!0)},[s]),!s)return null;const[F,T]=a.split("-"),D=F==="top"||F==="bottom";let k=h;(D&&o!=null&&o.x||!D&&o!=null&&o.y)&&(k=null);const P=f*2,E=P/2,V=l/2*(d/-8+1),Q=A/2*d/4,$=!!p,G=k&&T==="end"?"bottom":"top";let R=k&&T==="end"?"right":"left";k&&N&&(R=T==="end"?"left":"right");const ee=(i==null?void 0:i.x)!=null?k||i.x:"",K=(i==null?void 0:i.y)!=null?k||i.y:"",z=p||"M0,0"+(" H"+l)+(" L"+(l-V)+","+(A-Q))+(" Q"+l/2+","+A+" "+V+","+(A-Q))+" Z",X={top:$?"rotate(180deg)":"",left:$?"rotate(90deg)":"rotate(-90deg)",bottom:$?"":"rotate(180deg)",right:$?"rotate(-90deg)":"rotate(90deg)"}[F];return n.jsxs("svg",{...w,"aria-hidden":!0,ref:t,width:$?l:l+P,height:l,viewBox:"0 0 "+l+" "+(A>l?A:l),style:{position:"absolute",pointerEvents:"none",[R]:ee,[G]:K,[F]:D||$?"100%":"calc(100% - "+P/2+"px)",transform:[X,v].filter(ne=>!!ne).join(" "),...x},children:[P>0&&n.jsx("path",{clipPath:"url(#"+j+")",fill:"none",stroke:m,strokeWidth:P+(p?0:1),d:z}),n.jsx("path",{stroke:P&&!p?w.fill:"none",d:z}),n.jsx("clipPath",{id:j,children:n.jsx("rect",{x:-E,y:E*($?-1:1),width:l+P,height:l})})]})});function s7(){const e=new Map;return{emit(r,t){var a;(a=e.get(r))==null||a.forEach(s=>s(t))},on(r,t){e.has(r)||e.set(r,new Set),e.get(r).add(t)},off(r,t){var a;(a=e.get(r))==null||a.delete(t)}}}const i7=y.createContext(null),o7=y.createContext(null),l7=()=>{var e;return((e=y.useContext(i7))==null?void 0:e.id)||null},c7=()=>y.useContext(o7);function A7(e){const{open:r=!1,onOpenChange:t,elements:a}=e,s=t3(),i=y.useRef({}),[o]=y.useState(()=>s7()),l=l7()!=null,[A,d]=y.useState(a.reference),f=ZH((p,v,x)=>{i.current.openEvent=p?v:void 0,o.emit("openchange",{open:p,event:v,reason:x,nested:l}),t==null||t(p,v,x)}),h=y.useMemo(()=>({setPositionReference:d}),[]),m=y.useMemo(()=>({reference:A||a.reference||null,floating:a.floating||null,domReference:a.reference}),[A,a.reference,a.floating]);return y.useMemo(()=>({dataRef:i,open:r,onOpenChange:f,elements:m,events:o,floatingId:s,refs:h}),[r,f,m,o,s,h])}function d7(e){e===void 0&&(e={});const{nodeId:r}=e,t=A7({...e,elements:{reference:null,floating:null,...e.elements}}),a=e.rootContext||t,s=a.elements,[i,o]=y.useState(null),[l,A]=y.useState(null),f=(s==null?void 0:s.domReference)||i,h=y.useRef(null),m=c7();A0(()=>{f&&(h.current=f)},[f]);const p=V4({...e,elements:{...s,...l&&{reference:l}}}),v=y.useCallback(S=>{const F=bi(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;A(F),p.refs.setReference(F)},[p.refs]),x=y.useCallback(S=>{(bi(S)||S===null)&&(h.current=S,o(S)),(bi(p.refs.reference.current)||p.refs.reference.current===null||S!==null&&!bi(S))&&p.refs.setReference(S)},[p.refs]),w=y.useMemo(()=>({...p.refs,setReference:x,setPositionReference:v,domReference:h}),[p.refs,x,v]),j=y.useMemo(()=>({...p.elements,domReference:f}),[p.elements,f]),N=y.useMemo(()=>({...p,...a,refs:w,elements:j,nodeId:r}),[p,w,j,r,a]);return A0(()=>{a.dataRef.current.floatingContext=N;const S=m==null?void 0:m.nodesRef.current.find(F=>F.id===r);S&&(S.context=N)}),y.useMemo(()=>({...p,context:N,refs:w,elements:j}),[p,w,j,N])}/*!
  react-datepicker v8.8.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var S1=function(r,t){return S1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},S1(r,t)};function Hs(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");S1(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var ia=function(){return ia=Object.assign||function(t){for(var a,s=1,i=arguments.length;s<i;s++){a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},ia.apply(this,arguments)};function Zl(e,r,t){if(t||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var u7=function(e){var r=e.showTimeSelectOnly,t=r===void 0?!1:r,a=e.showTime,s=a===void 0?!1:a,i=e.className,o=e.children,l=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return Ve.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},f7=function(e,r){var t=y.useRef(null),a=y.useRef(e);a.current=e;var s=y.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(A){return A instanceof Node})||i.target;t.current&&!t.current.contains(l)&&(r&&l instanceof HTMLElement&&l.classList.contains(r)||(o=a.current)===null||o===void 0||o.call(a,i))},[r]);return y.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},fx=function(e){var r=e.children,t=e.onClickOutside,a=e.className,s=e.containerRef,i=e.style,o=e.ignoreClass,l=f7(t,o);return Ve.createElement("div",{className:a,style:i,ref:function(A){l.current=A,s&&(s.current=A)}},r)},Dt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Dt||(Dt={}));function r3(){var e=typeof window<"u"?window:globalThis;return e}var Im=12;function Sa(e){if(e==null)return new Date;var r=typeof e=="string"?J_(e):rr(e);return hx(r)?r:new Date}function zv(e,r,t,a,s){s===void 0&&(s=Sa());for(var i=Tf(t)||Tf(db()),o=Array.isArray(r)?r:[r],l=0,A=o;l<A.length;l++){var d=A[l],f=SH(e,d,s,{locale:i});if(hx(f)&&(!a||e===sn(f,d,t)))return f}return null}function hx(e,r){return s0(e)&&!Jl(e,new Date("1/1/1800"))}function sn(e,r,t){if(t==="en")return GA(e,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var a=t?Tf(t):void 0;return t&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),a=a||Tf(db()),GA(e,r,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function co(e,r){var t=r.dateFormat,a=r.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return e&&sn(e,s,a)||""}var a3=" - ";function h7(e,r,t){if(!e&&!r)return"";var a=e?co(e,t):"",s=r?co(r,t):"",i=t.rangeSeparator||a3;return"".concat(a).concat(i).concat(s)}function m7(e,r){if(!(e!=null&&e.length))return"";var t=e[0]?co(e[0],r):"";if(e.length===1)return t;if(e.length===2&&e[1]){var a=co(e[1],r);return"".concat(t,", ").concat(a)}var s=e.length-1;return"".concat(t," (+").concat(s,")")}function qv(e,r){var t=r.hour,a=t===void 0?0:t,s=r.minute,i=s===void 0?0:s,o=r.second,l=o===void 0?0:o;return Cg(Sg(Eg(e,l),i),a)}function p7(e){return ob(e)}function g7(e,r){return sn(e,"ddd",r)}function _g(e){return xu(e)}function nd(e,r,t){var a=Tf(r||db());return oA(e,{locale:a,weekStartsOn:t})}function aA(e){return H_(e)}function Th(e){return ux(e)}function AN(e){return N1(e)}function dN(){return xu(Sa())}function uN(e){return M_(e)}function x7(e){return L8(e)}function v7(e){return O_(e)}function Kl(e,r){return e&&r?kH(e,r):!e&&!r}function yi(e,r){return e&&r?_H(e,r):!e&&!r}function d0(e,r){return e&&r?FH(e,r):!e&&!r}function sa(e,r){return e&&r?D8(e,r):!e&&!r}function ru(e,r){return e&&r?DO(e,r):!e&&!r}function Yd(e,r,t){var a,s=xu(r),i=M_(t);try{a=um(e,{start:s,end:i})}catch{a=!1}return a}function db(){var e=r3();return e.__localeId__}function Tf(e){if(typeof e=="string"){var r=r3();return r.__localeData__?r.__localeData__[e]:void 0}else return e}function w7(e,r,t){return r(sn(e,"EEEE",t))}function y7(e,r){return sn(e,"EEEEEE",r)}function b7(e,r){return sn(e,"EEE",r)}function ub(e,r){return sn(Ao(Sa(),e),"LLLL",r)}function n3(e,r){return sn(Ao(Sa(),e),"LLL",r)}function j7(e,r){return sn(gf(Sa(),e),"QQQ",r)}function ko(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.excludeDateIntervals,l=t.includeDates,A=t.includeDateIntervals,d=t.filterDate,f=t.disabled;return f?!0:Pm(e,{minDate:a,maxDate:s})||i&&i.some(function(h){return h instanceof Date?sa(e,h):sa(e,h.date)})||o&&o.some(function(h){var m=h.start,p=h.end;return um(e,{start:m,end:p})})||l&&!l.some(function(h){return sa(e,h)})||A&&!A.some(function(h){var m=h.start,p=h.end;return um(e,{start:m,end:p})})||d&&!d(Sa(e))||!1}function fb(e,r){var t=r===void 0?{}:r,a=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,l=i.end;return um(e,{start:o,end:l})}):a&&a.some(function(i){var o;return i instanceof Date?sa(e,i):sa(e,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function s3(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate;return Pm(e,{minDate:a?H_(a):void 0,maxDate:s?O_(s):void 0})||(i==null?void 0:i.some(function(A){return yi(e,A instanceof Date?A:A.date)}))||o&&!o.some(function(A){return yi(e,A)})||l&&!l(Sa(e))||!1}function Dp(e,r,t,a){var s=Wr(e),i=Ai(e),o=Wr(r),l=Ai(r),A=Wr(a);return s===o&&s===A?i<=t&&t<=l:s<o?A===s&&i<=t||A===o&&l>=t||A<o&&A>s:!1}function N7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates;return Pm(e,{minDate:a,maxDate:s})||i&&i.some(function(l){return yi(l instanceof Date?l:l.date,e)})||o&&!o.some(function(l){return yi(l,e)})||!1}function Up(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate,A=t.disabled;return A?!0:Pm(e,{minDate:a,maxDate:s})||(i==null?void 0:i.some(function(d){return d0(e,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return d0(e,d)})||l&&!l(Sa(e))||!1}function Lp(e,r,t){if(!r||!t||!s0(r)||!s0(t))return!1;var a=Wr(r),s=Wr(t);return a<=e&&s>=e}function Fg(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate,A=t.disabled;if(A)return!0;var d=new Date(e,0,1);return Pm(d,{minDate:a?ux(a):void 0,maxDate:s?$_(s):void 0})||(i==null?void 0:i.some(function(f){return Kl(d,f instanceof Date?f:f.date)}))||o&&!o.some(function(f){return Kl(d,f)})||l&&!l(Sa(d))||!1}function Ip(e,r,t,a){var s=Wr(e),i=iu(e),o=Wr(r),l=iu(r),A=Wr(a);return s===o&&s===A?i<=t&&t<=l:s<o?A===s&&i<=t||A===o&&l>=t||A<o&&A>s:!1}function Pm(e,r){var t,a=r===void 0?{}:r,s=a.minDate,i=a.maxDate;return(t=s&&Qf(e,s)<0||i&&Qf(e,i)>0)!==null&&t!==void 0?t:!1}function fN(e,r){return r.some(function(t){return tA(t)===tA(e)&&rA(t)===rA(e)&&ad(t)===ad(e)})}function hN(e,r){var t=r===void 0?{}:r,a=t.excludeTimes,s=t.includeTimes,i=t.filterTime;return a&&fN(e,a)||s&&!fN(e,s)||i&&!i(e)||!1}function mN(e,r){var t=r.minTime,a=r.maxTime;if(!t||!a)throw new Error("Both minTime and maxTime props required");var s=Sa();s=Cg(s,tA(e)),s=Sg(s,rA(e)),s=Eg(s,ad(e));var i=Sa();i=Cg(i,tA(t)),i=Sg(i,rA(t)),i=Eg(i,ad(t));var o=Sa();o=Cg(o,tA(a)),o=Sg(o,rA(a)),o=Eg(o,ad(a));var l;try{l=!um(s,{start:i,end:o})}catch{l=!1}return l}function pN(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=ou(e,1);return a&&i0(a,i)>0||s&&s.every(function(o){return i0(o,i)>0})||!1}function gN(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=hl(e,1);return a&&i0(i,a)>0||s&&s.every(function(o){return i0(i,o)>0})||!1}function B7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=ux(e),o=e3(i);return a&&o0(a,o)>0||s&&s.every(function(l){return o0(l,o)>0})||!1}function C7(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=$_(e),o=ib(i,1);return a&&o0(o,a)>0||s&&s.every(function(l){return o0(o,l)>0})||!1}function xN(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=Rf(e,1);return a&&l0(a,i)>0||s&&s.every(function(o){return l0(o,i)>0})||!1}function S7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.yearItemNumber,i=s===void 0?Im:s,o=Th(Rf(e,i)),l=Wc(o,i).endPeriod,A=a&&Wr(a);return A&&A>l||!1}function vN(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=Zc(e,1);return a&&l0(i,a)>0||s&&s.every(function(o){return l0(i,o)>0})||!1}function E7(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.yearItemNumber,i=s===void 0?Im:s,o=Zc(e,i),l=Wc(o,i).startPeriod,A=a&&Wr(a);return A&&A<l||!1}function i3(e){var r=e.minDate,t=e.includeDates;if(t&&r){var a=t.filter(function(s){return Qf(s,r)>=0});return eN(a)}else return t?eN(t):r}function o3(e){var r=e.maxDate,t=e.includeDates;if(t&&r){var a=t.filter(function(s){return Qf(s,r)<=0});return Zj(a)}else return t?Zj(t):r}function wN(e,r){var t;e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var a=new Map,s=0,i=e.length;s<i;s++){var o=e[s];if(eA(o)){var l=sn(o,"MM.dd.yyyy"),A=a.get(l)||[];A.includes(r)||(A.push(r),a.set(l,A))}else if(typeof o=="object"){var d=Object.keys(o),f=(t=d[0])!==null&&t!==void 0?t:"",h=o[f];if(typeof f=="string"&&Array.isArray(h))for(var m=0,p=h.length;m<p;m++){var v=h[m];if(v){var l=sn(v,"MM.dd.yyyy"),A=a.get(l)||[];A.includes(f)||(A.push(f),a.set(l,A))}}}}return a}function _7(e,r){return e.length!==r.length?!1:e.every(function(t,a){return t===r[a]})}function F7(e,r){e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(a){var s=a.date,i=a.holidayName;if(eA(s)){var o=sn(s,"MM.dd.yyyy"),l=t.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===r&&_7(l.holidayNames,[i]))){l.className=r;var A=l.holidayNames;l.holidayNames=A?Zl(Zl([],A,!0),[i],!1):[i],t.set(o,l)}}}),t}function k7(e,r,t,a,s){for(var i=s.length,o=[],l=0;l<i;l++){var A=e,d=s[l];d&&(A=E8(A,tA(d)),A=j1(A,rA(d)),A=k8(A,ad(d)));var f=j1(e,(t+1)*a);ud(A,r)&&Jl(A,f)&&d!=null&&o.push(d)}return o}function yN(e){return e<10?"0".concat(e):"".concat(e)}function Wc(e,r){r===void 0&&(r=Im);var t=Math.ceil(Wr(e)/r)*r,a=t-(r-1);return{startPeriod:a,endPeriod:t}}function D7(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+r)/36e5)}function bN(e){var r=e.getSeconds(),t=e.getMilliseconds();return rr(e.getTime()-r*1e3-t)}function U7(e,r){return bN(e).getTime()===bN(r).getTime()}function jN(e){if(!eA(e))throw new Error("Invalid date");var r=new Date(e);return r.setHours(0,0,0,0),r}function Wv(e,r){if(!eA(e)||!eA(r))throw new Error("Invalid date received");var t=jN(e),a=jN(r);return Jl(t,a)}function l3(e){return e.key===Dt.Space}var L7=(function(e){Hs(r,e);function r(t){var a=e.call(this,t)||this;return a.inputRef=Ve.createRef(),a.onTimeChange=function(s){var i,o;a.setState({time:s});var l=a.props.date,A=l instanceof Date&&!isNaN(+l),d=A?l:new Date;if(s!=null&&s.includes(":")){var f=s.split(":"),h=f[0],m=f[1];d.setHours(Number(h)),d.setMinutes(Number(m))}(o=(i=a.props).onChange)===null||o===void 0||o.call(i,d)},a.renderTimeInput=function(){var s=a.state.time,i=a.props,o=i.date,l=i.timeString,A=i.customTimeInput;return A?y.cloneElement(A,{date:o,value:s,onChange:a.onTimeChange}):Ve.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var d;(d=a.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:s,onChange:function(d){a.onTimeChange(d.target.value||l)}})},a.state={time:a.props.timeString},a}return r.getDerivedStateFromProps=function(t,a){return t.timeString!==a.time?{time:t.timeString}:null},r.prototype.render=function(){return Ve.createElement("div",{className:"react-datepicker__input-time-container"},Ve.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Ve.createElement("div",{className:"react-datepicker-time__input-container"},Ve.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r})(y.Component),I7=(function(e){Hs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=y.createRef(),t.handleClick=function(a){!t.isDisabled()&&t.props.onClick&&t.props.onClick(a)},t.handleMouseEnter=function(a){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(a)},t.handleOnKeyDown=function(a){var s,i,o=a.key;o===Dt.Space&&(a.preventDefault(),a.key=Dt.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,a)},t.isSameDay=function(a){return sa(t.props.day,a)},t.isKeyboardSelected=function(){var a;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(a=t.props.selectedDates)===null||a===void 0?void 0:a.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),i=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!i},t.isDisabled=function(a){return a===void 0&&(a=t.props.day),ko(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return fb(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return sa(t.props.day,nd(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(a){return t.props.showWeekPicker&&sa(a,nd(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(a){return t.isSameDay(a)||t.isSameWeek(a)},t.getHighLightedClass=function(){var a=t.props,s=a.day,i=a.highlightDates;if(!i)return!1;var o=sn(s,"MM.dd.yyyy");return i.get(o)},t.getHolidaysClass=function(){var a,s=t.props,i=s.day,o=s.holidays;if(!o)return[void 0];var l=sn(i,"MM.dd.yyyy");return o.has(l)?[(a=o.get(l))===null||a===void 0?void 0:a.className]:[void 0]},t.isInRange=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Yd(s,i,o)},t.isInSelectingRange=function(){var a,s=t.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,A=s.selectsRange,d=s.selectsDisabledDaysInRange,f=s.startDate,h=s.swapRange,m=s.endDate,p=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;if(!(o||l||A)||!p||!d&&t.isDisabled())return!1;if(o&&m&&(Jl(p,m)||ru(p,m)))return Yd(i,p,m);if(l&&f&&(ud(p,f)||ru(p,f)))return Yd(i,f,p);if(A&&f&&!m){if(ru(p,f)||ud(p,f))return Yd(i,f,p);if(h&&Jl(p,f))return Yd(i,p,f)}return!1},t.isSelectingRangeStart=function(){var a;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.startDate,l=s.selectsStart,A=s.swapRange,d=s.selectsRange,f=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return l?sa(i,f):d&&A&&o&&f?sa(i,Jl(f,o)?f:o):sa(i,o)},t.isSelectingRangeEnd=function(){var a;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.endDate,l=s.selectsEnd,A=s.selectsRange,d=s.swapRange,f=s.startDate,h=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return l?sa(i,h):A&&d&&f&&h?sa(i,Jl(h,f)?f:h):A?sa(i,h):sa(i,o)},t.isRangeStart=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:sa(i,s)},t.isRangeEnd=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:sa(o,s)},t.isWeekend=function(){var a=EO(t.props.day);return a===0||a===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Ai(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Ai(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Sa())},t.isSelected=function(){var a;return t.props.selectsMultiple?(a=t.props.selectedDates)===null||a===void 0?void 0:a.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(a){var s=t.props.dayClassName?t.props.dayClassName(a):void 0;return Ds("react-datepicker__day",s,"react-datepicker__day--"+g7(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var a=t.props,s=a.day,i=a.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=a.ariaLabelPrefixWhenDisabled,A=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?A:o;return"".concat(d," ").concat(sn(s,"PPPP",t.props.locale))},t.getTitle=function(){var a=t.props,s=a.day,i=a.holidays,o=i===void 0?new Map:i,l=a.excludeDates,A=sn(s,"MM.dd.yyyy"),d=[];return o.has(A)&&d.push.apply(d,o.get(A).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(f){return f instanceof Date?sa(f,s):sa(f==null?void 0:f.date,s)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},t.getTabIndex=function(){var a=t.props.selected,s=t.props.preSelection,i=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(a)&&sa(s,a))?0:-1;return i},t.handleFocusDay=function(){var a;t.shouldFocusDay()&&((a=t.dayEl.current)===null||a===void 0||a.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(iN(t.props.day),t.props.day):iN(t.props.day)},t.render=function(){return Ve.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Ve.createElement("span",{className:"overlay"},t.getTitle()))},t}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},r.prototype.isDayActiveElement=function(){var t,a,s;return((a=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||a===void 0?void 0:a.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r})(y.Component),P7=(function(e){Hs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=y.createRef(),t.handleClick=function(a){t.props.onClick&&t.props.onClick(a)},t.handleOnKeyDown=function(a){var s,i,o=a.key;o===Dt.Space&&(a.preventDefault(),a.key=Dt.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,a)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!sa(t.props.date,t.props.selected)&&sa(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||sa(t.props.date,t.props.selected)&&sa(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(a){var s=!1;t.getTabIndex()===0&&!(a!=null&&a.isInputFocused)&&sa(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},r.prototype.render=function(){var t=this.props,a=t.weekNumber,s=t.isWeekDisabled,i=t.ariaLabelPrefix,o=i===void 0?r.defaultProps.ariaLabelPrefix:i,l=t.onClick,A={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!s,"react-datepicker__week-number--selected":!!l&&sa(this.props.date,this.props.selected)};return Ve.createElement("div",{ref:this.weekNumberEl,className:Ds(A),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},a)},r})(y.Component),Q7=(function(e){Hs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(a){return ko(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(a,s){t.props.onDayClick&&t.props.onDayClick(a,s)},t.handleDayMouseEnter=function(a){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(a)},t.handleWeekClick=function(a,s,i){for(var o,l,A,d=new Date(a),f=0;f<7;f++){var h=new Date(a);h.setDate(h.getDate()+f);var m=!t.isDisabled(h);if(m){d=h;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,s,i),t.props.showWeekPicker&&t.handleDayClick(d,i),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:r.defaultProps.shouldCloseOnSelect)&&((A=(l=t.props).setOpen)===null||A===void 0||A.call(l,!1))},t.formatWeekNumber=function(a){return t.props.formatWeekNumber?t.props.formatWeekNumber(a):p7(a)},t.isWeekDisabled=function(){for(var a=t.startOfWeek(),s=dl(a,6),i=new Date(a);i<=s;){if(!t.isDisabled(i))return!1;i=dl(i,1)}return!0},t.renderDays=function(){var a=t.startOfWeek(),s=[],i=t.formatWeekNumber(a);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,a,i):void 0;s.push(Ve.createElement(P7,ia({key:"W"},r.defaultProps,t.props,{weekNumber:i,isWeekDisabled:t.isWeekDisabled(),date:a,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(l){var A=dl(a,l);return Ve.createElement(I7,ia({},r.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:A.valueOf(),day:A,onClick:t.handleDayClick.bind(t,A),onMouseEnter:t.handleDayMouseEnter.bind(t,A)}))}))},t.startOfWeek=function(){return nd(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!sa(t.startOfWeek(),t.props.selected)&&sa(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":sa(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},a=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Ve.createElement("div",{className:Ds(t,a),role:"row"},this.renderDays())},r})(y.Component),Fh,R7=6,Sf={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Gv=(Fh={},Fh[Sf.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Fh[Sf.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Fh[Sf.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Fh),Pp=1;function NN(e,r){return e?Sf.FOUR_COLUMNS:r?Sf.TWO_COLUMNS:Sf.THREE_COLUMNS}var T7=(function(e){Hs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Zl([],Array(12),!0).map(function(){return y.createRef()}),t.QUARTER_REFS=Zl([],Array(4),!0).map(function(){return y.createRef()}),t.isDisabled=function(a){return ko(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(a){return fb(a,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(a,s){var i,o;(o=(i=t.props).onDayClick)===null||o===void 0||o.call(i,a,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(a){var s,i;(i=(s=t.props).onDayMouseEnter)===null||i===void 0||i.call(s,a)},t.handleMouseLeave=function(){var a,s;(s=(a=t.props).onMouseLeave)===null||s===void 0||s.call(a)},t.isRangeStartMonth=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:yi(Ao(i,a),o)},t.isRangeStartQuarter=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:d0(gf(i,a),o)},t.isRangeEndMonth=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:yi(Ao(i,a),l)},t.isRangeEndQuarter=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:d0(gf(i,a),l)},t.isInSelectingRangeMonth=function(a){var s,i=t.props,o=i.day,l=i.selectsStart,A=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(l||A||d)||!m?!1:l&&h?Dp(m,h,a,o):A&&f||d&&f&&!h?Dp(f,m,a,o):!1},t.isSelectingMonthRangeStart=function(a){var s;if(!t.isInSelectingRangeMonth(a))return!1;var i=t.props,o=i.day,l=i.startDate,A=i.selectsStart,d=Ao(o,a),f=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return A?yi(d,f):yi(d,l)},t.isSelectingMonthRangeEnd=function(a){var s;if(!t.isInSelectingRangeMonth(a))return!1;var i=t.props,o=i.day,l=i.endDate,A=i.selectsEnd,d=i.selectsRange,f=Ao(o,a),h=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return A||d?yi(f,h):yi(f,l)},t.isInSelectingRangeQuarter=function(a){var s,i=t.props,o=i.day,l=i.selectsStart,A=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(l||A||d)||!m?!1:l&&h?Ip(m,h,a,o):A&&f||d&&f&&!h?Ip(f,m,a,o):!1},t.isWeekInMonth=function(a){var s=t.props.day,i=dl(a,6);return yi(a,s)||yi(i,s)},t.isCurrentMonth=function(a,s){return Wr(a)===Wr(Sa())&&s===Ai(Sa())},t.isCurrentQuarter=function(a,s){return Wr(a)===Wr(Sa())&&s===iu(Sa())},t.isSelectedMonth=function(a,s,i){return Ai(i)===s&&Wr(a)===Wr(i)},t.isSelectMonthInList=function(a,s,i){return i.some(function(o){return t.isSelectedMonth(a,s,o)})},t.isSelectedQuarter=function(a,s,i){return iu(a)===s&&Wr(a)===Wr(i)},t.isMonthSelected=function(){var a=t.props,s=a.day,i=a.selected,o=a.selectedDates,l=a.selectsMultiple,A=Ai(s);return l?o==null?void 0:o.some(function(d){return t.isSelectedMonth(s,A,d)}):!!i&&t.isSelectedMonth(s,A,i)},t.renderWeeks=function(){for(var a=[],s=t.props.fixedHeight,i=0,o=!1,l=nd(aA(t.props.day),t.props.locale,t.props.calendarStartDay),A=function(v){return t.props.showWeekPicker?nd(v,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(v){return t.props.showWeekPicker?nd(v,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,h=t.props.preSelection?A(t.props.preSelection):void 0;a.push(Ve.createElement(Q7,ia({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:l,month:Ai(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:h,showWeekNumber:t.props.showWeekNumbers}))),!o;){i++,l=n0(l,1);var m=s&&i>=R7,p=!s&&!t.isWeekInMonth(l);if(m||p)if(t.props.peekNextMonth)o=!0;else break}return a},t.onMonthClick=function(a,s){var i=t.isMonthDisabledForLabelDate(s),o=i.isDisabled,l=i.labelDate;o||t.handleDayClick(aA(l),a)},t.onMonthMouseEnter=function(a){var s=t.isMonthDisabledForLabelDate(a),i=s.isDisabled,o=s.labelDate;i||t.handleDayMouseEnter(aA(o))},t.handleMonthNavigation=function(a,s){var i,o,l,A;(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(A=(l=t.MONTH_REFS[a])===null||l===void 0?void 0:l.current)===null||A===void 0||A.focus()},t.handleKeyboardNavigation=function(a,s,i){var o,l=t.props,A=l.selected,d=l.preSelection,f=l.setPreSelection,h=l.minDate,m=l.maxDate,p=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(d){var x=NN(p,v),w=t.getVerticalOffset(x),j=(o=Gv[x])===null||o===void 0?void 0:o.grid,N=function(k,P,E){var V,Q,$=P,G=E;switch(k){case Dt.ArrowRight:$=hl(P,Pp),G=E===11?0:E+Pp;break;case Dt.ArrowLeft:$=ou(P,Pp),G=E===0?11:E-Pp;break;case Dt.ArrowUp:$=ou(P,w),G=!((V=j==null?void 0:j[0])===null||V===void 0)&&V.includes(E)?E+12-w:E-w;break;case Dt.ArrowDown:$=hl(P,w),G=!((Q=j==null?void 0:j[j.length-1])===null||Q===void 0)&&Q.includes(E)?E-12+w:E+w;break}return{newCalculatedDate:$,newCalculatedMonth:G}},S=function(k,P,E){for(var V=40,Q=k,$=!1,G=0,R=N(Q,P,E),ee=R.newCalculatedDate,K=R.newCalculatedMonth;!$;){if(G>=V){ee=P,K=E;break}if(h&&ee<h){Q=Dt.ArrowRight;var z=N(Q,ee,K);ee=z.newCalculatedDate,K=z.newCalculatedMonth}if(m&&ee>m){Q=Dt.ArrowLeft;var z=N(Q,ee,K);ee=z.newCalculatedDate,K=z.newCalculatedMonth}if(N7(ee,t.props)){var z=N(Q,ee,K);ee=z.newCalculatedDate,K=z.newCalculatedMonth}else $=!0;G++}return{newCalculatedDate:ee,newCalculatedMonth:K}};if(s===Dt.Enter){t.isMonthDisabled(i)||(t.onMonthClick(a,i),f==null||f(A));return}var F=S(s,d,i),T=F.newCalculatedDate,D=F.newCalculatedMonth;switch(s){case Dt.ArrowRight:case Dt.ArrowLeft:case Dt.ArrowUp:case Dt.ArrowDown:t.handleMonthNavigation(D,T);break}}},t.getVerticalOffset=function(a){var s,i;return(i=(s=Gv[a])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},t.onMonthKeyDown=function(a,s){var i=t.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,A=a.key;A!==Dt.Tab&&a.preventDefault(),o||t.handleKeyboardNavigation(a,A,s),l&&l(a)},t.onQuarterClick=function(a,s){var i=gf(t.props.day,s);Up(i,t.props)||t.handleDayClick(AN(i),a)},t.onQuarterMouseEnter=function(a){var s=gf(t.props.day,a);Up(s,t.props)||t.handleDayMouseEnter(AN(s))},t.handleQuarterNavigation=function(a,s){var i,o,l,A;t.isDisabled(s)||t.isExcluded(s)||((o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(A=(l=t.QUARTER_REFS[a-1])===null||l===void 0?void 0:l.current)===null||A===void 0||A.focus())},t.onQuarterKeyDown=function(a,s){var i,o,l=a.key;if(!t.props.disabledKeyboardNavigation)switch(l){case Dt.Enter:t.onQuarterClick(a,s),(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,t.props.selected);break;case Dt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,ib(t.props.preSelection,1));break;case Dt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,e3(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(a){var s,i=t.props,o=i.day,l=i.disabled,A=i.minDate,d=i.maxDate,f=i.excludeDates,h=i.includeDates,m=Ao(o,a);return l?{isDisabled:!0,labelDate:Ao(o,a)}:{isDisabled:(s=(A||d||f||h)&&s3(m,t.props))!==null&&s!==void 0?s:!1,labelDate:m}},t.isMonthDisabled=function(a){var s=t.isMonthDisabledForLabelDate(a).isDisabled;return s},t.getMonthClassNames=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate,A=s.preSelection,d=s.monthClassName,f=d?d(Ao(i,a)):void 0,h=t.getSelection();return Ds("react-datepicker__month-text","react-datepicker__month-".concat(a),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(a),"react-datepicker__month-text--selected":h?t.isSelectMonthInList(i,a,h):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&A&&t.isSelectedMonth(i,a,A)&&!t.isMonthSelected()&&!t.isMonthDisabled(a),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(a),"react-datepicker__month-text--in-range":o&&l?Dp(o,l,a,i):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(a),"react-datepicker__month-text--range-end":t.isRangeEndMonth(a),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(a),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(a),"react-datepicker__month-text--today":t.isCurrentMonth(i,a)})},t.getTabIndex=function(a){if(t.props.preSelection==null)return"-1";var s=Ai(t.props.preSelection),i=t.isMonthDisabledForLabelDate(s).isDisabled,o=a===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(a){if(t.props.preSelection==null)return"-1";var s=iu(t.props.preSelection),i=Up(t.props.day,t.props),o=a===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(a){var s=t.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=s.disabledDayAriaLabelPrefix,A=l===void 0?"Not available":l,d=s.day,f=s.locale,h=Ao(d,a),m=t.isDisabled(h)||t.isExcluded(h)?A:o;return"".concat(m," ").concat(sn(h,"MMMM yyyy",f))},t.getQuarterClassNames=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate,A=s.selected,d=s.minDate,f=s.maxDate,h=s.excludeDates,m=s.includeDates,p=s.filterDate,v=s.preSelection,x=s.disabledKeyboardNavigation,w=s.disabled,j=(d||f||h||m||p||w)&&Up(gf(i,a),t.props);return Ds("react-datepicker__quarter-text","react-datepicker__quarter-".concat(a),{"react-datepicker__quarter-text--disabled":j,"react-datepicker__quarter-text--selected":A?t.isSelectedQuarter(i,a,A):void 0,"react-datepicker__quarter-text--keyboard-selected":!x&&v&&t.isSelectedQuarter(i,a,v)&&!j,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(a),"react-datepicker__quarter-text--in-range":o&&l?Ip(o,l,a,i):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(a),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(a),"react-datepicker__quarter-text--today":t.isCurrentQuarter(i,a)})},t.getMonthContent=function(a){var s=t.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,l=s.locale,A=s.day,d=n3(a,l),f=ub(a,l);return o?o(a,d,f,A):i?f:d},t.getQuarterContent=function(a){var s,i=t.props,o=i.renderQuarterContent,l=i.locale,A=j7(a,l);return(s=o==null?void 0:o(a,A))!==null&&s!==void 0?s:A},t.renderMonths=function(){var a,s=t.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,l=s.day,A=s.selected,d=(a=Gv[NN(o,i)])===null||a===void 0?void 0:a.grid;return d==null?void 0:d.map(function(f,h){return Ve.createElement("div",{className:"react-datepicker__month-wrapper",key:h},f.map(function(m,p){return Ve.createElement("div",{ref:t.MONTH_REFS[m],key:p,onClick:function(v){t.onMonthClick(v,m)},onKeyDown:function(v){l3(v)&&(v.preventDefault(),v.key=Dt.Enter),t.onMonthKeyDown(v,m)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(m)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(m)}:void 0,tabIndex:Number(t.getTabIndex(m)),className:t.getMonthClassNames(m),"aria-disabled":t.isMonthDisabled(m),role:"option","aria-label":t.getAriaLabel(m),"aria-current":t.isCurrentMonth(l,m)?"date":void 0,"aria-selected":A?t.isSelectedMonth(l,m,A):void 0},t.getMonthContent(m))}))})},t.renderQuarters=function(){var a=t.props,s=a.day,i=a.selected,o=[1,2,3,4];return Ve.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,A){return Ve.createElement("div",{key:A,ref:t.QUARTER_REFS[A],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":i?t.isSelectedQuarter(s,l,i):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(s,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var a=t.props,s=a.selectingDate,i=a.selectsStart,o=a.selectsEnd,l=a.showMonthYearPicker,A=a.showQuarterYearPicker,d=a.showWeekPicker;return Ds("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":A},{"react-datepicker__weekPicker":d})},t}return r.prototype.getSelection=function(){var t=this.props,a=t.selected,s=t.selectedDates,i=t.selectsMultiple;if(i)return s;if(a)return[a]},r.prototype.render=function(){var t=this.props,a=t.showMonthYearPicker,s=t.showQuarterYearPicker,i=t.day,o=t.ariaLabelPrefix,l=o===void 0?"Month ":o,A=l?l.trim()+" ":"",d=a||s;return d?Ve.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(A).concat(sn(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():this.renderQuarters()):Ve.createElement("div",{role:"table"},this.props.dayNamesHeader&&Ve.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),Ve.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(A).concat(sn(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},r})(y.Component),M7=(function(e){Hs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(a){return t.props.month===a},t.handleOptionKeyDown=function(a,s){var i;switch(s.key){case"Enter":s.preventDefault(),t.onChange(a);break;case"Escape":s.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(a+(s.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(i=t.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(a,s){return Ve.createElement("div",{ref:function(i){t.monthOptionButtonsRef[s]=i,t.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:a,onClick:t.onChange.bind(t,s),onKeyDown:t.handleOptionKeyDown.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?Ve.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",a)})},t.onChange=function(a){return t.props.onChange(a)},t.handleClickOutside=function(){return t.props.onCancel()},t}return r.prototype.render=function(){return Ve.createElement(fx,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r})(y.Component),O7=(function(e){Hs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(a){return a.map(function(s,i){return Ve.createElement("option",{key:s,value:i},s)})},t.renderSelectMode=function(a){return Ve.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(a))},t.renderReadView=function(a,s){return Ve.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(a){return Ve.createElement(M7,ia({key:"dropdown"},t.props,{monthNames:a,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(a){var s=t.state.dropdownVisible,i=[t.renderReadView(!s,a)];return s&&i.unshift(t.renderDropdown(a)),i},t.onChange=function(a){t.toggleDropdown(),a!==t.props.month&&t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return n3(i,t.props.locale)}:function(i){return ub(i,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(a);break;case"select":s=this.renderSelectMode(a);break}return Ve.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},r})(y.Component);function H7(e,r){for(var t=[],a=aA(e),s=aA(r);!ud(a,s);)t.push(Sa(a)),a=hl(a,1);return t}var $7=(function(e){Hs(r,e);function r(t){var a=e.call(this,t)||this;return a.renderOptions=function(){return a.state.monthYearsList.map(function(s){var i=C1(s),o=Kl(a.props.date,s)&&yi(a.props.date,s);return Ve.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:a.onChange.bind(a,i),"aria-selected":o?"true":void 0},o?Ve.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",sn(s,a.props.dateFormat,a.props.locale))})},a.onChange=function(s){return a.props.onChange(s)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:H7(a.props.minDate,a.props.maxDate)},a}return r.prototype.render=function(){var t=Ds({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Ve.createElement(fx,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},r})(y.Component),K7=(function(e){Hs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var a=aA(t.props.minDate),s=aA(t.props.maxDate),i=[];!ud(a,s);){var o=C1(a);i.push(Ve.createElement("option",{key:o,value:o},sn(a,t.props.dateFormat,t.props.locale))),a=hl(a,1)}return i},t.onSelectChange=function(a){t.onChange(parseInt(a.target.value))},t.renderSelectMode=function(){return Ve.createElement("select",{value:C1(aA(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(a){var s=sn(t.props.date,t.props.dateFormat,t.props.locale);return Ve.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return Ve.createElement($7,ia({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var a=t.state.dropdownVisible,s=[t.renderReadView(!a)];return a&&s.unshift(t.renderDropdown()),s},t.onChange=function(a){t.toggleDropdown();var s=Sa(a);Kl(t.props.date,s)&&yi(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ve.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},r})(y.Component),V7=(function(e){Hs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var a,s,i;t.list&&(t.list.scrollTop=(i=t.centerLi&&r.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(a=t.header)===null||a===void 0?void 0:a.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&i!==void 0?i:0)})},t.handleClick=function(a){var s,i;(t.props.minTime||t.props.maxTime)&&mN(a,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&hN(a,t.props)||(i=(s=t.props).onChange)===null||i===void 0||i.call(s,a)},t.isSelectedTime=function(a){return t.props.selected&&U7(t.props.selected,a)},t.isDisabledTime=function(a){return(t.props.minTime||t.props.maxTime)&&mN(a,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&hN(a,t.props)},t.liClasses=function(a){var s,i=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(a):void 0];return t.isSelectedTime(a)&&i.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(a)&&i.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(tA(a)*3600+rA(a)*60+ad(a))%(((s=t.props.intervals)!==null&&s!==void 0?s:r.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},t.handleOnKeyDown=function(a,s){var i,o;a.key===Dt.Space&&(a.preventDefault(),a.key=Dt.Enter),(a.key===Dt.ArrowUp||a.key===Dt.ArrowLeft)&&a.target instanceof HTMLElement&&a.target.previousSibling&&(a.preventDefault(),a.target.previousSibling instanceof HTMLElement&&a.target.previousSibling.focus()),(a.key===Dt.ArrowDown||a.key===Dt.ArrowRight)&&a.target instanceof HTMLElement&&a.target.nextSibling&&(a.preventDefault(),a.target.nextSibling instanceof HTMLElement&&a.target.nextSibling.focus()),a.key===Dt.Enter&&t.handleClick(s),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,a)},t.renderTimes=function(){for(var a,s=[],i=typeof t.props.format=="string"?t.props.format:"p",o=(a=t.props.intervals)!==null&&a!==void 0?a:r.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Sa(),A=_g(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(w,j){return w.getTime()-j.getTime()}),f=60*D7(l),h=f/o,m=0;m<h;m++){var p=j1(A,m*o);if(s.push(p),d){var v=k7(A,p,m,o,d);s=s.concat(v)}}var x=s.reduce(function(w,j){return j.getTime()<=l.getTime()?j:w},s[0]);return s.map(function(w){return Ve.createElement("li",{key:w.valueOf(),onClick:t.handleClick.bind(t,w),className:t.liClasses(w),ref:function(j){w===x&&(t.centerLi=j)},onKeyDown:function(j){t.handleOnKeyDown(j,w)},tabIndex:w===x?0:-1,role:"option","aria-selected":t.isSelectedTime(w)?"true":void 0,"aria-disabled":t.isDisabledTime(w)?"true":void 0},sn(w,i,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Ve.createElement(Ve.Fragment,null):Ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(a){t.header=a}},Ve.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},r.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},r.prototype.observeDatePickerHeightChanges=function(){var t=this,a=this.props.monthRef;this.updateContainerHeight(),a&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(a))},r.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var t=this,a,s=this.state.height;return Ve.createElement("div",{className:"react-datepicker__time-container ".concat(((a=this.props.todayButton)!==null&&a!==void 0?a:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Ve.createElement("div",{className:"react-datepicker__time"},Ve.createElement("div",{className:"react-datepicker__time-box"},Ve.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){t.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(t,a){return a.offsetTop-(t/2-a.clientHeight/2)},r})(y.Component),BN=3,z7=(function(e){Hs(r,e);function r(t){var a=e.call(this,t)||this;return a.YEAR_REFS=Zl([],Array(a.props.yearItemNumber),!0).map(function(){return y.createRef()}),a.isDisabled=function(s){return ko(s,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(s){return fb(s,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var s;return(s=a.props.selectingDate)!==null&&s!==void 0?s:a.props.preSelection},a.updateFocusOnPaginate=function(s){var i=function(){var o,l;(l=(o=a.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},a.handleYearClick=function(s,i){a.props.onDayClick&&a.props.onDayClick(s,i)},a.handleYearNavigation=function(s,i){var o,l,A,d,f=a.props,h=f.date,m=f.yearItemNumber;if(!(h===void 0||m===void 0)){var p=Wc(h,m).startPeriod;a.isDisabled(i)||a.isExcluded(i)||((l=(o=a.props).setPreSelection)===null||l===void 0||l.call(o,i),s-p<0?a.updateFocusOnPaginate(m-(p-s)):s-p>=m?a.updateFocusOnPaginate(Math.abs(m-(s-p))):(d=(A=a.YEAR_REFS[s-p])===null||A===void 0?void 0:A.current)===null||d===void 0||d.focus())}},a.isSameDay=function(s,i){return sa(s,i)},a.isCurrentYear=function(s){return s===Wr(Sa())},a.isRangeStart=function(s){return a.props.startDate&&a.props.endDate&&Kl($l(Sa(),s),a.props.startDate)},a.isRangeEnd=function(s){return a.props.startDate&&a.props.endDate&&Kl($l(Sa(),s),a.props.endDate)},a.isInRange=function(s){return Lp(s,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(s){var i=a.props,o=i.selectsStart,l=i.selectsEnd,A=i.selectsRange,d=i.startDate,f=i.endDate;return!(o||l||A)||!a.selectingDate()?!1:o&&f?Lp(s,a.selectingDate(),f):l&&d||A&&d&&!f?Lp(s,d,a.selectingDate()):!1},a.isSelectingRangeStart=function(s){var i;if(!a.isInSelectingRange(s))return!1;var o=a.props,l=o.startDate,A=o.selectsStart,d=$l(Sa(),s);return A?Kl(d,(i=a.selectingDate())!==null&&i!==void 0?i:null):Kl(d,l??null)},a.isSelectingRangeEnd=function(s){var i;if(!a.isInSelectingRange(s))return!1;var o=a.props,l=o.endDate,A=o.selectsEnd,d=o.selectsRange,f=$l(Sa(),s);return A||d?Kl(f,(i=a.selectingDate())!==null&&i!==void 0?i:null):Kl(f,l??null)},a.isKeyboardSelected=function(s){if(!(a.props.disabledKeyboardNavigation||a.props.date===void 0||a.props.preSelection==null)){var i=a.props,o=i.minDate,l=i.maxDate,A=i.excludeDates,d=i.includeDates,f=i.filterDate,h=i.selected,m=Th($l(a.props.date,s)),p=(o||l||A||d||f)&&Fg(s,a.props),v=!!h&&sa(m,Th(h)),x=sa(m,Th(a.props.preSelection));return!a.props.inline&&!v&&x&&!p}},a.isSelectedYear=function(s){var i=a.props,o=i.selectsMultiple,l=i.selected,A=i.selectedDates;return o?A==null?void 0:A.some(function(d){return s===Wr(d)}):!!l&&s===Wr(l)},a.onYearClick=function(s,i){var o=a.props.date;o!==void 0&&a.handleYearClick(Th($l(o,i)),s)},a.onYearKeyDown=function(s,i){var o,l,A=s.key,d=a.props,f=d.date,h=d.yearItemNumber,m=d.handleOnKeyDown;if(A!==Dt.Tab&&s.preventDefault(),!a.props.disabledKeyboardNavigation)switch(A){case Dt.Enter:if(a.props.selected==null)break;a.onYearClick(s,i),(l=(o=a.props).setPreSelection)===null||l===void 0||l.call(o,a.props.selected);break;case Dt.ArrowRight:if(a.props.preSelection==null)break;a.handleYearNavigation(i+1,Zc(a.props.preSelection,1));break;case Dt.ArrowLeft:if(a.props.preSelection==null)break;a.handleYearNavigation(i-1,Rf(a.props.preSelection,1));break;case Dt.ArrowUp:{if(f===void 0||h===void 0||a.props.preSelection==null)break;var p=Wc(f,h).startPeriod,v=BN,x=i-v;if(x<p){var w=h%v;i>=p&&i<p+w?v=w:v+=w,x=i-v}a.handleYearNavigation(x,Rf(a.props.preSelection,v));break}case Dt.ArrowDown:{if(f===void 0||h===void 0||a.props.preSelection==null)break;var j=Wc(f,h).endPeriod,v=BN,x=i+v;if(x>j){var w=h%v;i<=j&&i>j-w?v=w:v+=w,x=i+v}a.handleYearNavigation(x,Zc(a.props.preSelection,v));break}}m&&m(s)},a.getYearClassNames=function(s){var i=a.props,o=i.date,l=i.disabled,A=i.minDate,d=i.maxDate,f=i.excludeDates,h=i.includeDates,m=i.filterDate,p=i.yearClassName;return Ds("react-datepicker__year-text","react-datepicker__year-".concat(s),o?p==null?void 0:p($l(o,s)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(s),"react-datepicker__year-text--disabled":(A||d||f||h||m||l)&&Fg(s,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(s),"react-datepicker__year-text--range-start":a.isRangeStart(s),"react-datepicker__year-text--range-end":a.isRangeEnd(s),"react-datepicker__year-text--in-range":a.isInRange(s),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(s),"react-datepicker__year-text--today":a.isCurrentYear(s)})},a.getYearTabIndex=function(s){if(a.props.disabledKeyboardNavigation||a.props.preSelection==null)return"-1";var i=Wr(a.props.preSelection),o=Fg(s,a.props);return s===i&&!o?"0":"-1"},a.getYearContent=function(s){return a.props.renderYearContent?a.props.renderYearContent(s):s},a}return r.prototype.render=function(){var t=this,a=[],s=this.props,i=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,A=s.onYearMouseLeave;if(i===void 0)return null;for(var d=Wc(i,o),f=d.startPeriod,h=d.endPeriod,m=function(x){a.push(Ve.createElement("div",{ref:p.YEAR_REFS[x-f],onClick:function(w){t.onYearClick(w,x)},onKeyDown:function(w){l3(w)&&(w.preventDefault(),w.key=Dt.Enter),t.onYearKeyDown(w,x)},tabIndex:Number(p.getYearTabIndex(x)),className:p.getYearClassNames(x),onMouseEnter:p.props.usePointerEvent?void 0:function(w){return l(w,x)},onPointerEnter:p.props.usePointerEvent?function(w){return l(w,x)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(w){return A(w,x)},onPointerLeave:p.props.usePointerEvent?function(w){return A(w,x)}:void 0,key:x,"aria-current":p.isCurrentYear(x)?"date":void 0},p.getYearContent(x)))},p=this,v=f;v<=h;v++)m(v);return Ve.createElement("div",{className:"react-datepicker__year"},Ve.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))},r})(y.Component);function q7(e,r,t,a){for(var s=[],i=0;i<2*r+1;i++){var o=e+r-i,l=!0;t&&(l=Wr(t)<=o),a&&l&&(l=Wr(a)>=o),l&&s.push(o)}return s}var W7=(function(e){Hs(r,e);function r(t){var a=e.call(this,t)||this;a.yearOptionButtonsRef={},a.handleOptionKeyDown=function(l,A){var d;switch(A.key){case"Enter":A.preventDefault(),a.onChange(l);break;case"Escape":A.preventDefault(),a.props.onCancel();break;case"ArrowUp":case"ArrowDown":{A.preventDefault();var f=l+(A.key==="ArrowUp"?1:-1);a.yearOptionButtonsRef[f]&&((d=a.yearOptionButtonsRef[f])===null||d===void 0||d.focus());break}}},a.renderOptions=function(){a.yearOptionButtonsRef={};var l=a.props.year,A=a.state.yearsList.map(function(h){return Ve.createElement("div",{ref:function(m){a.yearOptionButtonsRef[h]=m,h===l&&(m==null||m.focus())},role:"button",tabIndex:0,className:l===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:a.onChange.bind(a,h),onKeyDown:a.handleOptionKeyDown.bind(a,h),"aria-selected":l===h?"true":void 0},l===h?Ve.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),d=a.props.minDate?Wr(a.props.minDate):null,f=a.props.maxDate?Wr(a.props.maxDate):null;return(!f||!a.state.yearsList.find(function(h){return h===f}))&&A.unshift(Ve.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},Ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!a.state.yearsList.find(function(h){return h===d}))&&A.push(Ve.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},Ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),A},a.onChange=function(l){a.props.onChange(l)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(l){var A=a.state.yearsList.map(function(d){return d+l});a.setState({yearsList:A})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var s=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,o=s||(i?10:5);return a.state={yearsList:q7(a.props.year,o,a.props.minDate,a.props.maxDate)},a.dropdownRef=y.createRef(),a}return r.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var a=t.children?Array.from(t.children):null,s=a?a.find(function(i){return i.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},r.prototype.render=function(){var t=Ds({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Ve.createElement(fx,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r})(y.Component),G7=(function(e){Hs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var a=t.props.minDate?Wr(t.props.minDate):1900,s=t.props.maxDate?Wr(t.props.maxDate):2100,i=[],o=a;o<=s;o++)i.push(Ve.createElement("option",{key:o,value:o},o));return i},t.onSelectChange=function(a){t.onChange(parseInt(a.target.value))},t.renderSelectMode=function(){return Ve.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(a){return Ve.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Ve.createElement(W7,ia({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var a=t.state.dropdownVisible,s=[t.renderReadView(!a)];return a&&s.unshift(t.renderDropdown()),s},t.onChange=function(a){t.toggleDropdown(),a!==t.props.year&&t.props.onChange(a)},t.toggleDropdown=function(a){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,a)})},t.handleYearChange=function(a,s){var i;(i=t.onSelect)===null||i===void 0||i.call(t,a,s),t.setOpen()},t.onSelect=function(a,s){var i,o;(o=(i=t.props).onSelect)===null||o===void 0||o.call(i,a,s)},t.setOpen=function(){var a,s;(s=(a=t.props).setOpen)===null||s===void 0||s.call(a,!0)},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ve.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},r})(y.Component),Y7=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],c3="react-datepicker-ignore-onclickoutside",X7=function(e){var r=(e.className||"").split(/\s+/);return Y7.some(function(t){return r.indexOf(t)>=0})},J7=(function(e){Hs(r,e);function r(t){var a=e.call(this,t)||this;return a.monthContainer=void 0,a.handleClickOutside=function(s){a.props.onClickOutside(s)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(s){var i,o;X7(s.target)&&((o=(i=a.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},a.getDateInView=function(){var s=a.props,i=s.preSelection,o=s.selected,l=s.openToDate,A=i3(a.props),d=o3(a.props),f=Sa(),h=l||o||i;return h||(A&&Jl(f,A)?A:d&&ud(f,d)?d:f)},a.increaseMonth=function(){a.setState(function(s){var i=s.date;return{date:hl(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(s){var i=s.date;return{date:ou(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(s,i,o){a.props.onSelect(s,i,o),a.props.setPreSelection&&a.props.setPreSelection(s)},a.handleDayMouseEnter=function(s){a.setState({selectingDate:s}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(s)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(s,i){a.setState({selectingDate:$l(Sa(),i)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(s,i)},a.handleYearMouseLeave=function(s,i){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(s,i)},a.handleYearChange=function(s){var i,o,l,A;(o=(i=a.props).onYearChange)===null||o===void 0||o.call(i,s),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(s),(A=(l=a.props).setOpen)===null||A===void 0||A.call(l,!0)),a.props.setPreSelection&&a.props.setPreSelection(s)},a.getEnabledPreSelectionDateForMonth=function(s){if(!ko(s,a.props))return s;for(var i=aA(s),o=v7(s),l=U8(o,i),A=null,d=0;d<=l;d++){var f=dl(i,d);if(!ko(f,a.props)){A=f;break}}return A},a.handleMonthChange=function(s){var i,o,l,A=(i=a.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;a.handleCustomMonthChange(A),a.props.adjustDateOnChange&&(a.props.onSelect(A),(l=(o=a.props).setOpen)===null||l===void 0||l.call(o,!0)),a.props.setPreSelection&&a.props.setPreSelection(A)},a.handleCustomMonthChange=function(s){var i,o;(o=(i=a.props).onMonthChange)===null||o===void 0||o.call(i,s),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(s){a.handleYearChange(s),a.handleMonthChange(s)},a.changeYear=function(s){a.setState(function(i){var o=i.date;return{date:$l(o,Number(s))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(s){a.setState(function(i){var o=i.date;return{date:Ao(o,Number(s))}},function(){return a.handleMonthChange(a.state.date)})},a.changeMonthYear=function(s){a.setState(function(i){var o=i.date;return{date:$l(Ao(o,Ai(s)),Wr(s))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(s){s===void 0&&(s=a.state.date);var i=a.props.disabled,o=nd(s,a.props.locale,a.props.calendarStartDay),l=[];return a.props.showWeekNumbers&&l.push(Ve.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(i?"react-datepicker__day-name--disabled":""),role:"columnheader"},Ve.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Ve.createElement("span",{"aria-hidden":"true"},a.props.weekLabel||"#"))),l.concat([0,1,2,3,4,5,6].map(function(A){var d=dl(o,A),f=a.formatWeekday(d,a.props.locale),h=a.props.weekDayClassName?a.props.weekDayClassName(d):void 0;return Ve.createElement("div",{key:A,role:"columnheader",className:Ds("react-datepicker__day-name",h,i?"react-datepicker__day-name--disabled":"")},Ve.createElement("span",{className:"react-datepicker__sr-only"},sn(d,"EEEE",a.props.locale)),Ve.createElement("span",{"aria-hidden":"true"},f))}))},a.formatWeekday=function(s,i){return a.props.formatWeekDay?w7(s,a.props.formatWeekDay,i):a.props.useWeekdaysShort?b7(s,i):y7(s,i)},a.decreaseYear=function(){a.setState(function(s){var i,o=s.date;return{date:Rf(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var s,i,o;if(!a.props.renderCustomHeader){var l=(s=a.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,A=a.props.showPreviousMonths?l-1:0,d=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:A,f=ou(a.state.date,d),h;switch(!0){case a.props.disabled:h=!0;break;case a.props.showMonthYearPicker:h=xN(a.state.date,a.props);break;case a.props.showYearPicker:h=S7(a.state.date,a.props);break;case a.props.showQuarterYearPicker:h=B7(a.state.date,a.props);break;default:h=pN(f,a.props);break}if(!(!((o=a.props.forceShowMonthNavigation)!==null&&o!==void 0?o:r.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&h||a.props.showTimeSelectOnly)){var m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(v=a.decreaseYear),h&&a.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),v=void 0);var x=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,w=a.props,j=w.previousMonthButtonLabel,N=j===void 0?r.defaultProps.previousMonthButtonLabel:j,S=w.previousYearButtonLabel,F=S===void 0?r.defaultProps.previousYearButtonLabel:S,T=a.props,D=T.previousMonthAriaLabel,k=D===void 0?typeof N=="string"?N:"Previous Month":D,P=T.previousYearAriaLabel,E=P===void 0?typeof F=="string"?F:"Previous Year":P;return Ve.createElement("button",{type:"button",className:p.join(" "),onClick:v,onKeyDown:a.props.handleOnKeyDown,"aria-label":x?E:k},Ve.createElement("span",{className:m.join(" ")},x?F:N))}}},a.increaseYear=function(){a.setState(function(s){var i,o=s.date;return{date:Zc(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var s;if(!a.props.renderCustomHeader){var i;switch(!0){case a.props.disabled:i=!0;break;case a.props.showMonthYearPicker:i=vN(a.state.date,a.props);break;case a.props.showYearPicker:i=E7(a.state.date,a.props);break;case a.props.showQuarterYearPicker:i=C7(a.state.date,a.props);break;default:i=gN(a.state.date,a.props);break}if(!(!((s=a.props.forceShowMonthNavigation)!==null&&s!==void 0?s:r.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&i||a.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];a.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var A=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(A=a.increaseYear),i&&a.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),A=void 0);var d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,f=a.props,h=f.nextMonthButtonLabel,m=h===void 0?r.defaultProps.nextMonthButtonLabel:h,p=f.nextYearButtonLabel,v=p===void 0?r.defaultProps.nextYearButtonLabel:p,x=a.props,w=x.nextMonthAriaLabel,j=w===void 0?typeof m=="string"?m:"Next Month":w,N=x.nextYearAriaLabel,S=N===void 0?typeof v=="string"?v:"Next Year":N;return Ve.createElement("button",{type:"button",className:o.join(" "),onClick:A,onKeyDown:a.props.handleOnKeyDown,"aria-label":d?S:j},Ve.createElement("span",{className:l.join(" ")},d?v:m))}}},a.renderCurrentMonth=function(s){s===void 0&&(s=a.state.date);var i=["react-datepicker__current-month"];return a.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),Ve.createElement("h2",{className:i.join(" ")},sn(s,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showYearDropdown||s))return Ve.createElement(G7,ia({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:Wr(a.state.date)}))},a.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showMonthDropdown||s))return Ve.createElement(O7,ia({},r.defaultProps,a.props,{month:Ai(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showMonthYearDropdown||s))return Ve.createElement(K7,ia({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(s){a.props.onSelect(dN(),s),a.props.setPreSelection&&a.props.setPreSelection(dN())},a.renderTodayButton=function(){if(!(!a.props.todayButton||a.props.showTimeSelectOnly))return Ve.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDayNamesHeader=function(s){return Ve.createElement("div",{className:"react-datepicker__day-names",role:"row"},a.header(s))},a.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return Ve.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(i),Ve.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(o!==0),a.renderMonthYearDropdown(o!==0),a.renderYearDropdown(o!==0)))},a.renderCustomHeader=function(s){var i,o,l=s.monthDate,A=s.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var d=a.props,f=d.showYearPicker,h=d.yearItemNumber,m;if(f){var p=Wc(l,h),v=p.startPeriod,x=p.endPeriod;m={startYear:v,endYear:x}}var w=pN(a.state.date,a.props),j=gN(a.state.date,a.props),N=xN(a.state.date,a.props),S=vN(a.state.date,a.props);return Ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},(o=(i=a.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,ia(ia(ia({},a.state),f&&{visibleYearsRange:m}),{customHeaderCount:A,monthDate:l,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:w,nextMonthButtonDisabled:j,prevYearButtonDisabled:N,nextYearButtonDisabled:S})))},a.renderYearHeader=function(s){var i=s.monthDate,o=a.props,l=o.showYearPicker,A=o.yearItemNumber,d=A===void 0?r.defaultProps.yearItemNumber:A,f=Wc(i,d),h=f.startPeriod,m=f.endPeriod;return Ve.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(h," - ").concat(m):Wr(i))},a.renderHeader=function(s){var i=s.monthDate,o=s.i,l=o===void 0?0:o,A={monthDate:i,i:l};switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(A);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(A);default:return a.renderDefaultHeader(A)}},a.renderMonths=function(){var s,i;if(!(a.props.showTimeSelectOnly||a.props.showYearPicker)){for(var o=[],l=(s=a.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,A=a.props.showPreviousMonths?l-1:0,d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Zc(a.state.date,A):ou(a.state.date,A),f=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:A,h=0;h<l;++h){var m=h-f+A,p=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Zc(d,m):hl(d,m),v="month-".concat(h),x=h<l-1,w=h>0;o.push(Ve.createElement("div",{key:v,ref:function(j){a.monthContainer=j??void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:p,i:h}),Ve.createElement(T7,ia({},r.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:p,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:h,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:x,monthShowsDuplicateDaysStart:w,dayNamesHeader:a.renderDayNamesHeader(p)}))))}return o}},a.renderYears=function(){if(!a.props.showTimeSelectOnly&&a.props.showYearPicker)return Ve.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),Ve.createElement(z7,ia({},r.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave})))},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return Ve.createElement(V7,ia({},r.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var s=a.props.selected?new Date(a.props.selected):void 0,i=s&&hx(s)&&!!a.props.selected,o=i?"".concat(yN(s.getHours()),":").concat(yN(s.getMinutes())):"";if(a.props.showTimeInput)return Ve.createElement(L7,ia({},r.defaultProps,a.props,{date:s,timeString:o,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var s,i=Wc(a.state.date,(s=a.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,A;return a.props.showYearPicker?A="".concat(o," - ").concat(l):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?A=Wr(a.state.date):A="".concat(ub(Ai(a.state.date),a.props.locale)," ").concat(Wr(a.state.date)),Ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&A)},a.renderChildren=function(){if(a.props.children)return Ve.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=y.createRef(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:c3,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Im}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},r.prototype.componentDidUpdate=function(t){var a=this;if(this.props.preSelection&&(!sa(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!yi(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!sa(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var t=this.props.container||u7;return Ve.createElement(fx,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Ve.createElement("div",{style:{display:"contents"},ref:this.containerRef},Ve.createElement(t,{className:Ds("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},r})(y.Component),Z7=function(e){var r=e.icon,t=e.className,a=t===void 0?"":t,s=e.onClick,i="react-datepicker__calendar-icon";if(typeof r=="string")return Ve.createElement("i",{className:"".concat(i," ").concat(r," ").concat(a),"aria-hidden":"true",onClick:s});if(Ve.isValidElement(r)){var o=r;return Ve.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(a),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof s=="function"&&s(l)}})}return Ve.createElement("svg",{className:"".concat(i," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},Ve.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},A3=(function(e){Hs(r,e);function r(t){var a=e.call(this,t)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return cC.createPortal(this.props.children,this.el)},r})(y.Component),e9="[tabindex], a, button, input, select, textarea",t9=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},d3=(function(e){Hs(r,e);function r(t){var a=e.call(this,t)||this;return a.getTabChildren=function(){var s;return Array.prototype.slice.call((s=a.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(e9),1,-1).filter(t9)},a.handleFocusStart=function(){var s=a.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},a.handleFocusEnd=function(){var s=a.getTabChildren();s&&s.length>1&&s[0].focus()},a.tabLoopRef=y.createRef(),a}return r.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:r.defaultProps.enableTabLoop)?Ve.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Ve.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Ve.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r})(y.Component);function r9(e){function r(t){var a,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,i=y.useRef(null),o=d7(ia({open:!s,whileElementsMounted:$4,placement:t.popperPlacement,middleware:Zl([q4({padding:15}),z4(10),W4({element:i})],(a=t.popperModifiers)!==null&&a!==void 0?a:[],!0)},t.popperProps)),l=ia(ia({},t),{hidePopper:s,popperProps:ia(ia({},o),{arrowRef:i})});return Ve.createElement(e,ia({},l))}return r.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),r}var a9=function(e){var r=e.className,t=e.wrapperClassName,a=e.hidePopper,s=a===void 0?!0:a,i=e.popperComponent,o=e.targetComponent,l=e.enableTabLoop,A=e.popperOnKeyDown,d=e.portalId,f=e.portalHost,h=e.popperProps,m=e.showArrow,p=void 0;if(!s){var v=Ds("react-datepicker-popper",r);p=Ve.createElement(d3,{enableTabLoop:l},Ve.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:v,"data-placement":h.placement,onKeyDown:A},i,m&&Ve.createElement(n7,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(p=y.createElement(e.popperContainer,{},p)),d&&!s&&(p=Ve.createElement(A3,{portalId:d,portalHost:f},p));var x=Ds("react-datepicker-wrapper",t);return Ve.createElement(Ve.Fragment,null,Ve.createElement("div",{ref:h.refs.setReference,className:x},o),p)},n9=r9(a9);function s9(e,r){return e&&r?Ai(e)!==Ai(r)||Wr(e)!==Wr(r):e!==r}var Yv="Date input not valid.",i9=(function(e){Hs(r,e);function r(t){var a=e.call(this,t)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:Sa()},a.modifyHolidays=function(){var s;return(s=a.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var l=new Date(o.date);return hx(l)?Zl(Zl([],i,!0),[ia(ia({},o),{date:l})],!1):i},[])},a.calcInitialState=function(){var s,i=a.getPreSelection(),o=i3(a.props),l=o3(a.props),A=o&&Jl(i,_g(o))?o:l&&ud(i,uN(l))?l:i;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&s!==void 0?s:A,highlightDates:wN(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.getInputValue=function(){var s,i=a.props,o=i.locale,l=i.startDate,A=i.endDate,d=i.rangeSeparator,f=i.selected,h=i.selectedDates,m=i.selectsMultiple,p=i.selectsRange,v=i.value,x=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,w=a.state.inputValue;return typeof v=="string"?v:typeof w=="string"?w:p?h7(l,A,{dateFormat:x,locale:o,rangeSeparator:d}):m?m7(h??[],{dateFormat:x,locale:o}):co(f,{dateFormat:x,locale:o})},a.resetHiddenStatus=function(){a.setState(ia(ia({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(ia(ia({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var s,i;(i=(s=a.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},a.setBlur=function(){var s,i;(i=(s=a.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(s,i){i===void 0&&(i=!1),a.setState({open:s,preSelection:s&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:Xv},function(){s||a.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return eA(a.state.preSelection)},a.isCalendarOpen=function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(s){var i,o,l=a.state.wasHidden,A=l?a.state.open:!0;l&&a.resetHiddenStatus(),a.state.preventFocus||((o=(i=a.props).onFocus)===null||o===void 0||o.call(i,s),A&&!a.props.preventOpenOnFocus&&!a.props.readOnly&&a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.resetInputValue=function(){a.setState(ia(ia({},a.state),{inputValue:null}))},a.handleBlur=function(s){var i,o;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&((o=(i=a.props).onBlur)===null||o===void 0||o.call(i,s)),a.resetInputValue(),a.state.open&&a.props.open===!1&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(s){var i,o;a.props.inline||a.setOpen(!1),(o=(i=a.props).onClickOutside)===null||o===void 0||o.call(i,s),a.props.withPortal&&s.preventDefault()},a.handleChange=function(){for(var s,i,o,l,A,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var h=d[0];if(!(a.props.onChangeRaw&&(a.props.onChangeRaw.apply(a,d),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){a.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:o9});var m=a.props,p=m.selectsRange,v=m.startDate,x=m.endDate,w=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,j=(i=a.props.strictParsing)!==null&&i!==void 0?i:r.defaultProps.strictParsing,N=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(p){var S=a.props.rangeSeparator,F=S.trim(),T=N.split(w.includes(F)?S:F,2).map(function(G){return G.trim()}),D=T[0],k=T[1],P=zv(D??"",w,a.props.locale,j),E=P?zv(k??"",w,a.props.locale,j):null,V=(v==null?void 0:v.getTime())!==(P==null?void 0:P.getTime()),Q=(x==null?void 0:x.getTime())!==(E==null?void 0:E.getTime());if(!V&&!Q||P&&ko(P,a.props)||E&&ko(E,a.props))return;(l=(o=a.props).onChange)===null||l===void 0||l.call(o,[P,E],h)}else{var $=zv(N,w,a.props.locale,j,(A=a.props.selected)!==null&&A!==void 0?A:void 0);($||!N)&&a.setSelected($,h,!0)}}},a.handleSelect=function(s,i,o){var l;if(!a.props.readOnly){var A=a.props,d=A.selectsRange,f=A.startDate,h=A.endDate,m=A.locale,p=A.swapRange,v=(l=a.props.dateFormat)!==null&&l!==void 0?l:r.defaultProps.dateFormat,x=!d||f&&!h&&(p||!Wv(s,f));if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&x&&a.sendFocusBackToInput(),a.props.onChangeRaw){var w=co(s,{dateFormat:v,locale:m});a.props.onChangeRaw(i,{date:s,formattedDate:w})}a.setSelected(s,i,!1,o),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect?a.setPreSelection(s):x&&a.setOpen(!1)}},a.setSelected=function(s,i,o,l){var A,d,f=s;if(a.props.showYearPicker){if(f!==null&&Fg(Wr(f),a.props))return}else if(a.props.showMonthYearPicker){if(f!==null&&s3(f,a.props))return}else if(f!==null&&ko(f,a.props))return;var h=a.props,m=h.onChange,p=h.selectsRange,v=h.startDate,x=h.endDate,w=h.selectsMultiple,j=h.selectedDates,N=h.minTime,S=h.swapRange;if(!ru(a.props.selected,f)||a.props.allowSameDay||p||w)if(f!==null&&(a.props.selected&&(!o||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly&&!a.props.showTimeInput)&&(f=qv(f,{hour:tA(a.props.selected),minute:rA(a.props.selected),second:ad(a.props.selected)})),!o&&(a.props.showTimeSelect||a.props.showTimeSelectOnly)&&N&&(f=qv(f,{hour:N.getHours(),minute:N.getMinutes(),second:N.getSeconds()})),a.props.inline||a.setState({preSelection:f}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:l})),p){var F=!v&&!x,T=v&&!x,D=!v&&!!x,k=v&&x;F?m==null||m([f,null],i):T?f===null?m==null||m([null,null],i):Wv(f,v)?S?m==null||m([f,v],i):m==null||m([f,null],i):m==null||m([v,f],i):D&&(f&&Wv(f,x)?m==null||m([f,x],i):m==null||m([f,null],i)),k&&(m==null||m([f,null],i))}else if(w){if(f!==null)if(!(j!=null&&j.length))m==null||m([f],i);else{var P=j.some(function(V){return sa(V,f)});if(P){var E=j.filter(function(V){return!sa(V,f)});m==null||m(E,i)}else m==null||m(Zl(Zl([],j,!0),[f],!1),i)}}else m==null||m(f,i);o||((d=(A=a.props).onSelect)===null||d===void 0||d.call(A,f,i),a.setState({inputValue:null}))},a.setPreSelection=function(s){if(!a.props.readOnly){var i=eA(a.props.minDate),o=eA(a.props.maxDate),l=!0;if(s){var A=_g(s);if(i&&o)l=Yd(s,a.props.minDate,a.props.maxDate);else if(i){var d=_g(a.props.minDate);l=ud(s,d)||ru(A,d)}else if(o){var f=uN(a.props.maxDate);l=Jl(s,f)||ru(A,f)}}l&&a.setState({preSelection:s})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(s){var i,o;if(!(a.props.selectsRange||a.props.selectsMultiple)){var l=a.props.selected?a.props.selected:a.getPreSelection(),A=a.props.selected?s:qv(l,{hour:tA(s),minute:rA(s)});a.setState({preSelection:A}),(o=(i=a.props).onChange)===null||o===void 0||o.call(i,A),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var s,i;!a.props.disabled&&!a.props.readOnly&&a.setOpen(!0),(i=(s=a.props).onInputClick)===null||i===void 0||i.call(s)},a.onInputKeyDown=function(s){var i,o,l,A,d,f;(o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,s);var h=s.key;if(!a.state.open&&!a.props.inline&&!a.props.preventOpenOnFocus){(h===Dt.ArrowDown||h===Dt.ArrowUp||h===Dt.Enter)&&((l=a.onInputClick)===null||l===void 0||l.call(a));return}if(a.state.open){if(h===Dt.ArrowDown||h===Dt.ArrowUp){s.preventDefault();var m=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((A=a.calendar)===null||A===void 0?void 0:A.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(m);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var v=Sa(a.state.preSelection);h===Dt.Enter?(s.preventDefault(),s.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===Xv?(a.handleSelect(v,s),!a.props.shouldCloseOnSelect&&a.setPreSelection(v)):a.setOpen(!1)):h===Dt.Escape?(s.preventDefault(),s.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):h===Dt.Tab&&a.setOpen(!1),a.inputOk()||(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:Yv})}},a.onPortalKeyDown=function(s){var i=s.key;i===Dt.Escape&&(s.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(s){var i,o,l,A,d,f,h=a.props,m=h.minDate,p=h.maxDate,v=h.disabledKeyboardNavigation,x=h.showWeekPicker,w=h.shouldCloseOnSelect,j=h.locale,N=h.calendarStartDay,S=h.adjustDateOnChange,F=h.inline;if((o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,s),!v){var T=s.key,D=s.shiftKey,k=Sa(a.state.preSelection),P=function(ee,K){var z=K;switch(ee){case Dt.ArrowRight:z=x?n0(K,1):dl(K,1);break;case Dt.ArrowLeft:z=x?oN(K):DH(K);break;case Dt.ArrowUp:z=oN(K);break;case Dt.ArrowDown:z=n0(K,1);break;case Dt.PageUp:z=D?Rf(K,1):ou(K,1);break;case Dt.PageDown:z=D?Zc(K,1):hl(K,1);break;case Dt.Home:z=nd(K,j,N);break;case Dt.End:z=x7(K);break}return z},E=function(ee,K){for(var z=40,X=ee,ne=!1,ue=0,_=P(ee,K);!ne;){if(ue>=z){_=K;break}m&&_<m&&(X=Dt.ArrowRight,_=ko(m,a.props)?P(X,_):m),p&&_>p&&(X=Dt.ArrowLeft,_=ko(p,a.props)?P(X,_):p),ko(_,a.props)?((X===Dt.PageUp||X===Dt.Home)&&(X=Dt.ArrowRight),(X===Dt.PageDown||X===Dt.End)&&(X=Dt.ArrowLeft),_=P(X,_)):ne=!0,ue++}return _};if(T===Dt.Enter){s.preventDefault(),a.handleSelect(k,s),!w&&a.setPreSelection(k);return}else if(T===Dt.Escape){s.preventDefault(),a.setOpen(!1),a.inputOk()||(A=(l=a.props).onInputError)===null||A===void 0||A.call(l,{code:1,msg:Yv});return}var V=null;switch(T){case Dt.ArrowLeft:case Dt.ArrowRight:case Dt.ArrowUp:case Dt.ArrowDown:case Dt.PageUp:case Dt.PageDown:case Dt.Home:case Dt.End:V=E(T,k);break}if(!V){(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:Yv});return}if(s.preventDefault(),a.setState({lastPreSelectChange:Xv}),S&&a.setSelected(V),a.setPreSelection(V),F){var Q=Ai(k),$=Ai(V),G=Wr(k),R=Wr(V);Q!==$||G!==R?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}},a.onPopperKeyDown=function(s){var i=s.key;i===Dt.Escape&&(s.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),a.sendFocusBackToInput();var i=a.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],s):l==null||l(null,s),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(s){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(s)&&a.setOpen(!1)},a.renderCalendar=function(){var s,i;return!a.props.inline&&!a.isCalendarOpen()?null:Ve.createElement(J7,ia({showMonthYearDropdown:void 0,ref:function(o){a.calendar=o}},a.props,a.state,{setOpen:a.setOpen,dateFormat:(s=a.props.dateFormatCalendar)!==null&&s!==void 0?s:r.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:F7(a.modifyHolidays()),outsideClickIgnoreClass:a.props.outsideClickIgnoreClass,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:(i=a.props.dropdownMode)!==null&&i!==void 0?i:r.defaultProps.dropdownMode}),a.props.children)},a.renderAriaLiveRegion=function(){var s,i=a.props.locale,o=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,l=a.props.showTimeInput||a.props.showTimeSelect,A=l?"PPPPp":"PPPP",d;return a.props.selectsRange?d="Selected start date: ".concat(co(a.props.startDate,{dateFormat:A,locale:i}),". ").concat(a.props.endDate?"End date: "+co(a.props.endDate,{dateFormat:A,locale:i}):""):a.props.showTimeSelectOnly?d="Selected time: ".concat(co(a.props.selected,{dateFormat:o,locale:i})):a.props.showYearPicker?d="Selected year: ".concat(co(a.props.selected,{dateFormat:"yyyy",locale:i})):a.props.showMonthYearPicker?d="Selected month: ".concat(co(a.props.selected,{dateFormat:"MMMM yyyy",locale:i})):a.props.showQuarterYearPicker?d="Selected quarter: ".concat(co(a.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):d="Selected date: ".concat(co(a.props.selected,{dateFormat:A,locale:i})),Ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},a.renderDateInput=function(){var s,i,o=Ds(a.props.className,(s={},s[a.props.outsideClickIgnoreClass||r.defaultProps.outsideClickIgnoreClass]=a.state.open,s)),l=a.props.customInput||Ve.createElement("input",{type:"text"}),A=a.props.customInputRef||"ref";return y.cloneElement(l,(i={},i[A]=function(d){a.input=d},i.value=a.getInputValue(),i.onBlur=a.handleBlur,i.onChange=a.handleChange,i.onClick=a.onInputClick,i.onFocus=a.handleFocus,i.onKeyDown=a.onInputKeyDown,i.id=a.props.id,i.name=a.props.name,i.form=a.props.form,i.autoFocus=a.props.autoFocus,i.placeholder=a.props.placeholderText,i.disabled=a.props.disabled,i.autoComplete=a.props.autoComplete,i.className=Ds(l.props.className,o),i.title=a.props.title,i.readOnly=a.props.readOnly,i.required=a.props.required,i.tabIndex=a.props.tabIndex,i["aria-describedby"]=a.props.ariaDescribedBy,i["aria-invalid"]=a.props.ariaInvalid,i["aria-labelledby"]=a.props.ariaLabelledBy,i["aria-required"]=a.props.ariaRequired,i))},a.renderClearButton=function(){var s=a.props,i=s.isClearable,o=s.disabled,l=s.selected,A=s.startDate,d=s.endDate,f=s.clearButtonTitle,h=s.clearButtonClassName,m=h===void 0?"":h,p=s.ariaLabelClose,v=p===void 0?"Close":p,x=s.selectedDates,w=s.readOnly;return i&&!w&&(l!=null||A!=null||d!=null||x!=null&&x.length)?Ve.createElement("button",{type:"button",className:Ds("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:a.onClearClick,title:f,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:c3,readOnly:!1,rangeSeparator:a3,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Im,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(t,a){var s,i,o,l;t.inline&&s9(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:wN(this.props.highlightDates)}),!a.focused&&!ru(t.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),a.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var t=this.props,a=t.showIcon,s=t.icon,i=t.calendarIconClassname,o=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,A=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Ve.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&Ve.createElement(Z7,ia({icon:s,className:Ds(o,!o&&i,A&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var a=this.state.open?Ve.createElement(d3,{enableTabLoop:this.props.enableTabLoop},Ve.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(a=Ve.createElement(A3,ia({portalId:this.props.portalId},this.props),a)),Ve.createElement("div",null,this.renderInputContainer(),a)}return Ve.createElement(n9,ia({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r})(y.Component),o9="input",Xv="navigate";const u3=y.forwardRef(({value:e,onClick:r,placeholder:t,className:a,id:s,name:i},o)=>n.jsxs("div",{className:"relative",children:[n.jsx(Ke,{id:s,name:i,ref:o,value:e||"",onClick:r,readOnly:!0,placeholder:t||"DD/MM/AAAA",className:lt("pr-10",a)}),n.jsx(fr,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}));u3.displayName="DateInput";function Os({id:e,name:r,value:t,onChange:a,className:s,minDate:i,maxDate:o,required:l}){const A=t?J_(`${t}`):null;return n.jsx(i9,{selected:A,onChange:d=>{if(!d){a==null||a("");return}a==null||a(GA(d,"yyyy-MM-dd"))},customInput:n.jsx(u3,{id:e,name:r,className:s}),dateFormat:"dd/MM/yyyy",placeholderText:"DD/MM/AAAA",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",minDate:i,maxDate:o,calendarClassName:"dp-modern",popperClassName:"dp-popper",required:l})}function l9(){const[e,r]=y.useState(null),[t,a]=y.useState(null),[s,i]=y.useState(!0),[o,l]=y.useState(null),[A,d]=y.useState([]),[f,h]=y.useState(!0),[m,p]=y.useState({data_nascimento:"",endereco:"",telefone:"",tipo_sanguineo:"",alergias:"",condicoes_cronicas:""}),[v,x]=y.useState(!1),{toast:w}=Va();y.useEffect(()=>{let P=!0;return(async()=>{var E,V,Q,$;try{const[G,R]=await Promise.allSettled([Aa.getPerfil(),Aa.getPacienteDoUsuario()]);if(!P)return;if(G.status==="fulfilled"&&r(G.value),R.status==="fulfilled"&&a(R.value),G.status==="rejected"&&R.status==="rejected"){const ee=((V=(E=G.reason)==null?void 0:E.response)==null?void 0:V.status)||(($=(Q=R.reason)==null?void 0:Q.response)==null?void 0:$.status);l(ee===401?"Sua sesso no  vlida. Verifique o login e o tipo de autenticao (Bearer/JWT/Token).":"No foi possvel carregar seu perfil.")}}finally{P&&i(!1)}})(),()=>{P=!1}},[]),y.useEffect(()=>{let P=!0;return(async()=>{try{h(!0);const E=await Aa.getConsultas();if(P){const Q=(Array.isArray(E)?E:(E==null?void 0:E.results)||[]).map(R=>{var X,ne,ue,_,I,W,te,J,Y,M,Z;const ee=((ne=(X=R.medico)==null?void 0:X.user)==null?void 0:ne.first_name)||((ue=R.medico)==null?void 0:ue.first_name)||((_=R.medico)==null?void 0:_.nome)||"",K=((W=(I=R.medico)==null?void 0:I.user)==null?void 0:W.last_name)||((te=R.medico)==null?void 0:te.last_name)||"",z=[ee,K].filter(Boolean).join(" ").trim()||((J=R.medico)==null?void 0:J.nome)||"";return{id:R.id,data:R.data||R.data_hora,medico:{nome:z,especialidade:((Z=(M=(Y=R.medico)==null?void 0:Y.especialidades)==null?void 0:M[0])==null?void 0:Z.nome)||R.especialidade||"No especificada"},status:R.status,local:R.local||R.localizacao||R.observacoes||"Local no especificado",tipo:R.tipo||R.motivo||"Consulta"}}),$=new Date,G=Q.filter(R=>{const K=(R.status||"").toLowerCase().includes("agend"),z=R.data?new Date(R.data)>$:!1;return K||z});d(G.slice(0,3))}}catch(E){console.error("Erro ao buscar consultas:",E)}finally{P&&h(!1)}})(),()=>{P=!1}},[]),y.useEffect(()=>{t&&e&&p({data_nascimento:e.data_nascimento||"",endereco:e.endereco||"",telefone:e.telefone||"",tipo_sanguineo:t.tipo_sanguineo||"",alergias:t.alergias||"",condicoes_cronicas:t.condicoes_cronicas||""})},[t,e]);const j=P=>{const{name:E,value:V}=P.target;p(Q=>({...Q,[E]:V}))},N=async P=>{P.preventDefault(),x(!0);try{await Aa.atualizarPerfil({data_nascimento:m.data_nascimento,endereco:m.endereco,telefone:m.telefone}),await Aa.atualizarPaciente({tipo_sanguineo:m.tipo_sanguineo,alergias:m.alergias,condicoes_cronicas:m.condicoes_cronicas});const[E,V]=await Promise.allSettled([Aa.getPerfil(),Aa.getPacienteDoUsuario()]);E.status==="fulfilled"&&r(E.value),V.status==="fulfilled"&&a(V.value),w({title:"Perfil atualizado",description:"Suas informaes foram salvas com sucesso."})}catch(E){console.error("Erro ao salvar perfil:",E),w({title:"Erro ao salvar",description:"No foi possvel atualizar seu perfil. Tente novamente.",variant:"destructive"})}finally{x(!1)}},S=P=>P?([P.first_name,P.last_name].filter(Boolean).join(" ")||P.username||"Usurio").split(" ").map(V=>V[0]).join("").toUpperCase().slice(0,2):"?",F=P=>P?P.length>50?P.substring(0,50)+"...":P:"No informado",T=e&&(!e.data_nascimento||!e.endereco||!e.telefone),D=[{label:"Perfil",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"}],k=[{title:"Contato com mdico",description:"Solicite um horrio",href:"/paciente/consultas/nova",icon:fr,color:"blue"},{title:"Ver Pronturio",description:"Acesse seu histrico mdico",href:"/paciente/prontuario",icon:Ja,color:"green"},{title:"Exames",description:"Visualize seus exames",href:"/paciente/exames",icon:Xc,color:"purple"},{title:"Receitas",description:"Suas receitas mdicas",href:"/paciente/receitas",icon:qg,color:"red"}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950",children:n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-8 shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/95 via-indigo-600/95 to-purple-600/95"}),n.jsx("div",{className:"absolute -top-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl"}),n.jsx("div",{className:"absolute -bottom-4 -left-4 h-32 w-32 rounded-full bg-white/5 blur-2xl"}),n.jsxs("div",{className:"relative flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(km,{className:"h-24 w-24 ring-4 ring-white/40 shadow-xl",children:n.jsx(Dm,{className:"bg-gradient-to-br from-white to-blue-100 text-blue-700 text-2xl font-bold shadow-inner",children:s?"...":S(e)})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 rounded-full bg-emerald-400 border-3 border-white shadow-lg"})]}),n.jsxs("div",{className:"text-white",children:[n.jsx("h1",{className:"text-4xl font-bold mb-2 drop-shadow-sm",children:s?n.jsx(Mr,{className:"h-10 w-64 bg-white/20"}):[e==null?void 0:e.first_name,e==null?void 0:e.last_name].filter(Boolean).join(" ")||(e==null?void 0:e.username)||"Usurio"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ci,{className:"h-5 w-5 text-blue-100"}),n.jsx("p",{className:"text-blue-50 text-lg font-medium",children:"Paciente Verificado"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[(e==null?void 0:e.cpf)&&n.jsxs(sr,{className:"bg-white/25 text-white border-white/40 hover:bg-white/35 font-medium px-3 py-1 shadow-sm",children:["CPF: ",e.cpf]}),(t==null?void 0:t.tipo_sanguineo)&&n.jsxs(sr,{className:"bg-red-500/30 text-red-50 border-red-200/40 hover:bg-red-500/40 font-medium px-3 py-1 shadow-sm",children:[n.jsx(mj,{className:"h-4 w-4 mr-1"}),t.tipo_sanguineo]})]})]})]}),n.jsxs(ye,{className:"bg-white/25 hover:bg-white/35 text-white border-white/40 backdrop-blur-sm shadow-lg font-medium",children:[n.jsx(aI,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})]}),n.jsx(To,{tabs:D,basePath:"/paciente"}),!s&&!o&&T&&n.jsxs(ke,{className:"border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 shadow-lg dark:border-amber-600",children:[n.jsx(We,{className:"pb-4",children:n.jsxs(Xe,{className:"flex items-center gap-3 text-amber-800 dark:text-amber-200",children:[n.jsx("div",{className:"p-2 rounded-full bg-amber-200 dark:bg-amber-700",children:n.jsx(Gc,{className:"h-5 w-5 text-amber-700 dark:text-amber-200"})}),"Complete seu perfil para uma experincia completa"]})}),n.jsx(Le,{children:n.jsxs("form",{className:"space-y-6",onSubmit:N,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"data_nascimento",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Data de Nascimento"}),n.jsx(Os,{id:"data_nascimento",name:"data_nascimento",value:m.data_nascimento,onChange:P=>p(E=>({...E,data_nascimento:P})),className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",maxDate:new Date,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"telefone",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Telefone"}),n.jsx(Ke,{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:m.telefone,onChange:j,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"endereco",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Endereo"}),n.jsx(oa,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:m.endereco,onChange:j,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"tipo_sanguineo",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Tipo Sanguneo"}),n.jsx(Ke,{id:"tipo_sanguineo",name:"tipo_sanguineo",placeholder:"Ex: O+, A-, B+, AB-",value:m.tipo_sanguineo,onChange:j,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"alergias",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Alergias"}),n.jsx(Ke,{id:"alergias",name:"alergias",placeholder:"Ex: Penicilina, Amendoim",value:m.alergias,onChange:j,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"condicoes_cronicas",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Condies Crnicas"}),n.jsx(oa,{id:"condicoes_cronicas",name:"condicoes_cronicas",placeholder:"Ex: Hipertenso, Diabetes",value:m.condicoes_cronicas,onChange:j,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),n.jsx(ye,{type:"submit",disabled:v,className:"w-full btn-medical-primary shadow-lg font-medium",children:v?"Salvando...":"Salvar Informaes"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(We,{className:"pb-6",children:n.jsxs(Xe,{className:"flex items-center gap-3 text-2xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsx(In,{className:"h-6 w-6"})}),"Informaes Pessoais"]})}),n.jsx(Le,{children:s?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Mr,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),n.jsx(Mr,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Mr,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),n.jsx(Mr,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]})]}):o?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Gc,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:o})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:n.jsx(fr,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200",children:"Data de Nascimento"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(e==null?void 0:e.data_nascimento)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-emerald-50 to-green-100 dark:from-emerald-900/40 dark:to-green-900/40 border border-emerald-200 dark:border-emerald-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-emerald-500 text-white shadow-md",children:n.jsx(Jc,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-emerald-800 dark:text-emerald-200",children:"Telefone"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(e==null?void 0:e.telefone)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-violet-100 dark:from-purple-900/40 dark:to-violet-900/40 border border-purple-200 dark:border-purple-700 hover:shadow-lg transition-all duration-300 md:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-purple-500 text-white shadow-md",children:n.jsx(Wg,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200",children:"Endereo"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:F(e==null?void 0:e.endereco)})]})]}),n.jsx(xs,{className:"my-8 bg-gray-200 dark:bg-gray-700"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(ji,{className:"h-5 w-5 text-red-500"}),"Informaes Mdicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-red-50 to-pink-100 dark:from-red-900/40 dark:to-pink-900/40 border border-red-200 dark:border-red-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-red-500 text-white shadow-md",children:n.jsx(mj,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"Tipo Sanguneo"})]}),n.jsx("p",{className:"text-red-900 dark:text-red-100 font-bold text-2xl",children:(t==null?void 0:t.tipo_sanguineo)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-amber-50 to-yellow-100 dark:from-amber-900/40 dark:to-yellow-900/40 border border-amber-200 dark:border-amber-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-amber-500 text-white shadow-md",children:n.jsx(Gc,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-amber-700 dark:text-amber-200",children:"Alergias"})]}),n.jsx("p",{className:"text-amber-800 dark:text-amber-200 font-medium",children:(t==null?void 0:t.alergias)||"Nenhuma alergia conhecida"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-teal-50 to-cyan-100 dark:from-teal-900/40 dark:to-cyan-900/40 border border-teal-200 dark:border-teal-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-teal-500 text-white shadow-md",children:n.jsx(qg,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-teal-800 dark:text-teal-200",children:"Condies Crnicas"})]}),n.jsx("p",{className:"text-teal-800 dark:text-teal-200 font-medium",children:(t==null?void 0:t.condicoes_cronicas)||"Nenhuma condio crnica"})]})]})]})]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(We,{className:"pb-4",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx(cI,{className:"h-5 w-5 text-yellow-500"}),"Aes Rpidas"]})}),n.jsx(Le,{className:"space-y-3",children:k.map((P,E)=>{const V=P.icon;return n.jsx(vr,{to:P.href,children:n.jsx("div",{className:"group p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300 hover:shadow-lg cursor-pointer",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-full bg-gradient-to-br ${P.color==="blue"?"from-blue-500 to-blue-600":P.color==="green"?"from-emerald-500 to-green-600":P.color==="purple"?"from-purple-500 to-violet-600":"from-red-500 to-pink-600"} text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.jsx(V,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:P.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:P.description})]}),n.jsx(cl,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-300"})]})})},E)})})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(We,{className:"pb-3",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsx(fr,{className:"h-4 w-4"})}),"Prximas Consultas"]})}),n.jsx(Le,{children:f?n.jsxs("div",{className:"space-y-3",children:[n.jsx(Mr,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"}),n.jsx(Mr,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"})]}):A.length>0?n.jsxs("div",{className:"space-y-3",children:[A.map(P=>n.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-md transition-all duration-300",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:n.jsx(fr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:[new Date(P.data).toLocaleDateString("pt-BR")," ",new Date(P.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200 font-medium",children:P.medico.nome}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:P.medico.especialidade})]})]})},P.id)),n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,className:"w-full mt-3 border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:n.jsxs(vr,{to:"/paciente/consultas",children:["Ver Todas as Consultas",n.jsx(cl,{className:"h-3 w-3 ml-1"})]})})]}):n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:n.jsx(fr,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhuma consulta agendada"}),n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,className:"border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:n.jsxs(vr,{to:"/paciente/consultas",children:["Entrar em contato",n.jsx(cl,{className:"h-3 w-3 ml-1"})]})})]})})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(We,{className:"pb-3",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg",children:n.jsx(Xc,{className:"h-4 w-4"})}),"Exames Recentes"]})}),n.jsx(Le,{children:n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:n.jsx(Xc,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhum exame recente"}),n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50 dark:border-emerald-600 dark:text-emerald-300 dark:hover:bg-emerald-900/20",children:n.jsxs(vr,{to:"/paciente/exames",children:["Ver Todos os Exames",n.jsx(cl,{className:"h-3 w-3 ml-1"})]})})]})})]})]})]})]})})}function c9(){const[e,r]=y.useState(null),[t,a]=y.useState(!0),[s,i]=y.useState(null),o=h=>Array.isArray(h)?h.filter(m=>m!=null&&m!==""):typeof h=="string"?h.split(/[\n;,]+/).map(m=>m.trim()).filter(Boolean):h==null?[]:[h],l=h=>{let m="",p="",v="";if(typeof h=="string"){const x=h.split(/[;\-\|]/).map(w=>w.trim()).filter(Boolean);if(x.length&&(m=x[0]),x[1]&&(p=x[1]),x[2]&&(v=x.slice(2).join("  ")),!p){const w=h.match(/\b(\d+(\.\d+)?\s?(mg|ml|mcg|g|gotas|ui))\b/i);w&&(p=w[0])}if(!v){const w=h.match(/\b(\d+x\s?\/\s?dia|[1-9]\s?x\/dia|a\s?cada\s?\d+\s?h|de\s?\d+\s?em\s?\d+\s?h)\b/i);w&&(v=w[0])}}else h&&typeof h=="object"&&(m=h.nome||h.medicamento||h.nome_medicamento||h.name||h.descricao||"",p=h.dose||h.dosagem||h.dosage||"",v=h.posologia||h.frequencia||h.intervalo||h.schedule||"");return{name:m||(typeof h=="string"?h:JSON.stringify(h)),dose:p||"",schedule:v||""}},A=h=>{const m=o(h);return m.length>0?n.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:m.map((p,v)=>{const x=l(p);return n.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm hover:shadow-md transition-shadow",role:"group","aria-label":`Medicao ${x.name}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 rounded-md bg-primary/10 p-2 text-primary",children:n.jsx(Wh,{className:"h-5 w-5","aria-hidden":"true"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-base md:text-lg font-semibold leading-snug break-words",children:x.name}),x.dose&&n.jsx("div",{className:"text-sm md:text-base text-muted-foreground mt-0.5 break-words",children:x.dose}),x.schedule&&n.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-muted/60 px-2 py-1 text-xs md:text-sm text-foreground/80",children:[n.jsx(Pr,{className:"h-3.5 w-3.5","aria-hidden":"true"}),n.jsx("span",{className:"break-words",children:x.schedule})]})]})]})},v)})}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})};y.useEffect(()=>{let h=!0;const m=v=>{var F,T;const x=Array.isArray(v)?v[0]:Array.isArray(v==null?void 0:v.results)?v.results[0]:v||{},w=x.alergias??x.allergies??x.alergia,j=x.condicoes??x.condicoes_cronicas??x.condicoesCronicas,N=x.medicacoes??x.medicamentos??x.medicacoes_em_uso??x.medicamentos_em_uso??x.medicamentos_uso??x.em_uso??x.medicacoesEmUso??x.medicamentosEmUso??x.medications??x.current_medications??((F=x.prontuario)==null?void 0:F.medicacoes)??((T=x.prontuario)==null?void 0:T.medicamentos),S=x.observacoes??x.observacao??x.notes??x.anotacoes;return{alergias:o(w),condicoes:o(j),medicacoes:o(N),observacoes:S??""}},p=v=>v?{alergias:o(v.alergias),condicoes:o(v.condicoes_cronicas??v.condicoes),medicacoes:o(v.medicacoes??v.medicamentos??v.medicacoes_em_uso??v.medicamentos_em_uso??v.medicamentos_uso??v.em_uso??v.medicacoesEmUso??v.medicamentosEmUso??v.medications??v.current_medications),observacoes:v.observacoes??""}:null;return(async()=>{try{const[v,x]=await Promise.allSettled([Aa.getProntuario(),Aa.getPacienteDoUsuario()]);let w=null;if(v.status==="fulfilled"&&(w=m(v.value)),(!w||o(w.alergias).length===0&&o(w.condicoes).length===0&&o(w.medicacoes).length===0&&(!w.observacoes||w.observacoes===""))&&x.status==="fulfilled"){const N=p(x.value);N&&(w=N)}h&&r(w||{alergias:[],condicoes:[],medicacoes:[],observacoes:""})}catch{h&&i("No foi possvel carregar o pronturio.")}finally{h&&a(!1)}})(),()=>{h=!1}},[]);const d=h=>{const m=o(h);return m.length>0?n.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((p,v)=>{const x=typeof p=="string"?p:(p==null?void 0:p.nome)||(p==null?void 0:p.medicamento)||(p==null?void 0:p.nome_medicamento)||[p==null?void 0:p.descricao,(p==null?void 0:p.dose)||(p==null?void 0:p.dosagem),(p==null?void 0:p.posologia)||(p==null?void 0:p.frequencia)].filter(Boolean).join("  ")||JSON.stringify(p);return n.jsx(sr,{variant:"secondary",className:"px-2.5 py-1 text-xs",children:x},v)})}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})},f=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ja,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Pronturio"})]}),n.jsx(To,{tabs:f,basePath:"/paciente"}),t?n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[n.jsxs(ke,{className:"lg:col-span-2",children:[n.jsx(We,{children:n.jsx(Mr,{className:"h-5 w-40"})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsx(Mr,{className:"h-4 w-full"}),n.jsx(Mr,{className:"h-4 w-5/6"}),n.jsx(Mr,{className:"h-4 w-2/3"})]})]}),n.jsx("div",{className:"space-y-6",children:[...Array(3)].map((h,m)=>n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Mr,{className:"h-5 w-40"})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsx(Mr,{className:"h-4 w-full"}),n.jsx(Mr,{className:"h-4 w-2/3"})]})]},m))})]}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[n.jsxs(ke,{className:"lg:col-span-2 min-h-[320px]",children:[n.jsx(We,{children:n.jsx(Xe,{children:"Medicaes"})}),n.jsx(Le,{children:A(e==null?void 0:e.medicacoes)})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Alergias"})}),n.jsx(Le,{children:d(e==null?void 0:e.alergias)})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Condies"})}),n.jsx(Le,{children:d(e==null?void 0:e.condicoes)})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Observaes"})}),n.jsx(Le,{children:e!=null&&e.observacoes&&(e==null?void 0:e.observacoes)!==""?n.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:e==null?void 0:e.observacoes}):n.jsx("p",{className:"text-sm text-muted-foreground",children:""})})]})]})]})]})}const Nu=E4,f3=RP,A9=({className:e,children:r,...t})=>n.jsx(_4,{className:lt(e),...t,children:n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:r})}),h3=y.forwardRef(({className:e,...r},t)=>n.jsx($0,{ref:t,className:lt("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",e),...r}));h3.displayName=$0.displayName;const xd=y.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(A9,{children:[n.jsx(h3,{}),n.jsxs(K0,{ref:a,className:lt("fixed z-50 grid w-full max-w-xl gap-4 rounded-xl border bg-background p-0 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0","data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",e),...t,children:[r,n.jsxs(F4,{className:"absolute right-4 top-4 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[n.jsx(Cy,{className:"h-5 w-5"}),n.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));xd.displayName=K0.displayName;const vd=({className:e,...r})=>n.jsx("div",{className:lt("px-6 pt-5 pb-3 flex flex-col space-y-1.5",e),...r});vd.displayName="DialogHeader";const Bu=({className:e,...r})=>n.jsx("div",{className:lt("px-6 pb-5 pt-2 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});Bu.displayName="DialogFooter";const wd=y.forwardRef(({className:e,...r},t)=>n.jsx(V0,{ref:t,className:lt("text-lg font-semibold leading-none tracking-tight",e),...r}));wd.displayName=V0.displayName;const Qm=y.forwardRef(({className:e,...r},t)=>n.jsx(z0,{ref:t,className:lt("text-sm text-muted-foreground",e),...r}));Qm.displayName=z0.displayName;const cc=y.forwardRef(({className:e,...r},t)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:t,className:lt("w-full caption-bottom text-sm",e),...r})}));cc.displayName="Table";const Ac=y.forwardRef(({className:e,...r},t)=>n.jsx("thead",{ref:t,className:lt("[&_tr]:border-b",e),...r}));Ac.displayName="TableHeader";const dc=y.forwardRef(({className:e,...r},t)=>n.jsx("tbody",{ref:t,className:lt("[&_tr:last-child]:border-0",e),...r}));dc.displayName="TableBody";const d9=y.forwardRef(({className:e,...r},t)=>n.jsx("tfoot",{ref:t,className:lt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));d9.displayName="TableFooter";const Pn=y.forwardRef(({className:e,...r},t)=>n.jsx("tr",{ref:t,className:lt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));Pn.displayName="TableRow";const Hr=y.forwardRef(({className:e,...r},t)=>n.jsx("th",{ref:t,className:lt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));Hr.displayName="TableHead";const Lr=y.forwardRef(({className:e,...r},t)=>n.jsx("td",{ref:t,className:lt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));Lr.displayName="TableCell";const u9=y.forwardRef(({className:e,...r},t)=>n.jsx("caption",{ref:t,className:lt("mt-4 text-sm text-muted-foreground",e),...r}));u9.displayName="TableCaption";var nC,sC;const f9=(((sC=(nC=import.meta)==null?void 0:nC.env)==null?void 0:sC.VITE_TIMEZONE)||"America/Sao_Paulo").trim();function m3(e,r={}){try{return new Intl.DateTimeFormat("pt-BR",{timeZone:f9,...r}).format(e)}catch{return""}}const p3=e=>{if(!e)return"";try{let r;if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[t,a,s]=e.split("-");return`${s}/${a}/${t}`}else r=new Date(e);return isNaN(r.getTime())?"":m3(r,{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return""}},h9=e=>{if(!e)return"";try{const r=new Date(e);return isNaN(r.getTime())?"":m3(r,{hour:"2-digit",minute:"2-digit"})}catch{return""}},m9=e=>{if(!e)return null;try{let r;if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[d,f,h]=e.split("-").map(Number);r=new Date(d,f-1,h)}else r=new Date(e);if(isNaN(r.getTime()))return null;const t=new Date;let a=t.getFullYear()-r.getFullYear();const s=t.getMonth()-r.getMonth(),i=t.getDate()-r.getDate();(s<0||s===0&&i<0)&&a--;let o=new Date(t.getFullYear(),r.getMonth(),r.getDate());o>t&&(o=new Date(t.getFullYear()-1,r.getMonth(),r.getDate()));const l=1440*60*1e3,A=Math.floor((t-o)/l);return`${a} anos e ${A} dias`}catch{return null}},CN=e=>{var t,a,s;if(!e)return null;const r=[(t=e==null?void 0:e.user)==null?void 0:t.first_name,(a=e==null?void 0:e.user)==null?void 0:a.last_name].filter(Boolean).join(" ");return(e==null?void 0:e.nome)||(e==null?void 0:e.name)||((s=e==null?void 0:e.usuario)==null?void 0:s.nome)||r||(e==null?void 0:e.username)||(e==null?void 0:e.email)||null},SN=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():null};function p9(){var P,E,V;const[e,r]=y.useState([]),[t,a]=y.useState(!0),[s,i]=y.useState(""),[o,l]=y.useState(""),[A,d]=y.useState("todas"),[f,h]=y.useState(!1),[m,p]=y.useState(null),v=Q=>{p(Q),h(!0)};y.useEffect(()=>{let Q=!0;return(async()=>{var G;try{console.log("[DEBUG] Consultas - Iniciando carregamento...");const R=await Aa.getConsultas();if(console.log("[DEBUG] Consultas - Resposta da API:",R),!Q)return;let ee=[];R.results?ee=R.results:(G=R.data)!=null&&G.results?ee=R.data.results:R.data&&Array.isArray(R.data)?ee=R.data:Array.isArray(R)&&(ee=R);let K=ee.map(z=>{var ue,_,I;const X=z.data||z.date||z.dia||z.data_consulta||z.data_hora||z.horario||z.data_hora_inicio||z.agendamento||z.data_agendamento||z.inicio||z.start||null,ne={id:z.id,data:X,local:z.local||z.endereco||((ue=z.clinica)==null?void 0:ue.endereco)||((_=z.medico)==null?void 0:_.local_atendimento)||"Local no informado",tipo:z.tipo||z.tipo_consulta||"Presencial",status:z.status||"Agendada",medico:null};if(z.medico)if(typeof z.medico=="object"){const W=CN(z.medico),te=SN(z.medico)||z.especialidade||z.specialty||"Especialidade no informada";ne.medico={id:z.medico.id||((I=z.medico.user)==null?void 0:I.id)||null,nome:W||"Mdico no informado",especialidade:te}}else ne.medico={id:z.medico,nome:z.medico_nome||z.doctor_name||"Mdico no informado",especialidade:z.especialidade||z.specialty||"Especialidade no informada"};else z.medico_nome||z.doctor_name?ne.medico={id:z.medico_id||null,nome:z.medico_nome||z.doctor_name,especialidade:z.especialidade||z.specialty||"Especialidade no informada"}:z.medico_id&&(ne.medico={id:z.medico_id,nome:"Mdico no informado",especialidade:z.especialidade||z.specialty||"Especialidade no informada"});return ne});try{const z=Array.from(new Set(K.filter(X=>{var ne;return!((ne=X.medico)!=null&&ne.nome)||X.medico.nome==="Mdico no informado"}).map(X=>{var ne;return(ne=X.medico)==null?void 0:ne.id}).filter(Boolean)));if(z.length){const X=await Promise.all(z.map(ue=>Aa.getMedicoById(ue).catch(()=>null))),ne={};X.forEach((ue,_)=>{const I=z[_];ue&&(ne[I]={id:ue.id||I,nome:CN(ue)||ue.nome||"Mdico",especialidade:SN(ue)||ue.especialidade||"Especialidade no informada"})}),K=K.map(ue=>{var I;const _=(I=ue.medico)==null?void 0:I.id;return _&&ne[_]?{...ue,medico:ne[_]}:ue})}}catch{}r(K)}catch(R){if(!Q)return;console.error("Erro ao carregar consultas:",R),i("Erro ao carregar consultas. Tente novamente.")}finally{Q&&a(!1)}})(),()=>{Q=!1}},[]);const x=e.filter(Q=>{var G,R,ee,K,z,X,ne;const $=String(Q.status||"").toLowerCase();if(A==="agendadas"&&!($.includes("agend")||$.includes("confirm"))||A==="realizadas"&&!($.includes("conclu")||$.includes("realiz")||$.includes("final")))return!1;if(o){const ue=o.toLowerCase();return((R=(G=Q.medico)==null?void 0:G.nome)==null?void 0:R.toLowerCase().includes(ue))||((z=(K=(ee=Q.medico)==null?void 0:ee.especialidade)==null?void 0:K.toLowerCase)==null?void 0:z.call(K).includes(ue))||((X=Q.local)==null?void 0:X.toLowerCase().includes(ue))||((ne=Q.tipo)==null?void 0:ne.toLowerCase().includes(ue))}return!0}),w=new Date,j=x.filter(Q=>{const $=(Q.status||"").toLowerCase(),G=$.includes("agend")||$.includes("confirm"),R=Q.data?new Date(Q.data)>w:!1;return G||R}).sort((Q,$)=>new Date(Q.data)-new Date($.data)),N=x.filter(Q=>{const $=(Q.status||"").toLowerCase(),G=$.includes("conclu")||$.includes("realiz")||$.includes("final"),R=Q.data?new Date(Q.data)<w:!1;return G||R}).sort((Q,$)=>new Date($.data)-new Date(Q.data)),S=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],F=e.length,T=e.filter(Q=>Q.data&&new Date(Q.data).getFullYear()===new Date().getFullYear()).length,D=j.length,k=N.length;return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(fr,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),n.jsx("p",{className:"text-blue-100",children:"Gerencie suas consultas mdicas"})]})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ye,{variant:"secondary",className:"bg-white/20 text-white border-white/30 hover:bg-white/30 backdrop-blur-sm dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50 dark:text-gray-200",asChild:!0,children:n.jsxs("a",{href:"/paciente/medicos",className:"inline-flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4"}),"Mdicos"]})}),n.jsx(ye,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold shadow-lg dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:n.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[n.jsx(hj,{className:"h-4 w-4"}),"Entrar em contato"]})})]})]})})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total de Consultas"}),n.jsx("p",{className:"text-3xl font-bold",children:F})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(fr,{className:"h-6 w-6"})})]})})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Prximas Consultas"}),n.jsx("p",{className:"text-3xl font-bold",children:D})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Pr,{className:"h-6 w-6"})})]})})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Consultas Concludas"}),n.jsx("p",{className:"text-3xl font-bold",children:k})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(ji,{className:"h-6 w-6"})})]})})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:T})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Ja,{className:"h-6 w-6"})})]})})})]}),n.jsx(To,{tabs:S,basePath:"/paciente"}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(vs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ke,{placeholder:"Buscar por mdico, especialidade ou local...",className:"pl-10 border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400",value:o,onChange:Q=>l(Q.target.value)})]}),n.jsx("div",{className:"flex gap-3",children:n.jsxs(Gr,{value:A,onValueChange:d,children:[n.jsx(Vr,{className:"w-[180px] border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:n.jsx(Yr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"todas",children:"Todas as consultas"}),n.jsx(st,{value:"agendadas",children:"Agendadas"}),n.jsx(st,{value:"realizadas",children:"Realizadas"})]})]})})]})})}),n.jsxs(Vi,{defaultValue:"agendadas",className:"w-full",children:[n.jsxs(zi,{className:"grid w-full grid-cols-2 bg-white dark:bg-gray-800 shadow-lg border-0",children:[n.jsx(Ur,{value:"agendadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Consultas Agendadas"}),n.jsx(Ur,{value:"realizadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Histrico de Consultas"})]}),n.jsx(Or,{value:"agendadas",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(We,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[n.jsx(fr,{className:"h-5 w-5"}),"Prximas Consultas"]})}),n.jsx(Le,{className:"p-6",children:t?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((Q,$)=>n.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[n.jsx(Mr,{className:"h-4 w-1/3"}),n.jsx(Mr,{className:"h-4 w-1/2"}),n.jsx(Mr,{className:"h-4 w-1/4"})]},$))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:n.jsx(fr,{className:"h-8 w-8 text-red-500"})}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):j.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"rounded-full bg-blue-100 dark:bg-blue-900/20 p-4 w-fit mx-auto mb-4",children:n.jsx(fr,{className:"h-12 w-12 text-blue-500"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Nenhuma consulta agendada"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Voc no possui consultas agendadas no momento."}),n.jsx(ye,{className:"btn-medical-primary shadow-lg",asChild:!0,children:n.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[n.jsx(hj,{className:"h-4 w-4"}),"Entrar em contato"]})})]}):n.jsx("div",{className:"space-y-4",children:j.map(Q=>{var $,G,R;return n.jsx("div",{className:"group relative overflow-hidden rounded-xl border-0 bg-gradient-to-r from-white to-blue-50/50 dark:from-gray-800 dark:to-blue-900/10 p-6 shadow-lg transition-all hover:shadow-xl hover:scale-[1.02]",children:n.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[n.jsx("div",{className:"flex-1 space-y-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"rounded-full bg-gradient-to-r from-blue-500 to-purple-600 p-3 text-white shadow-lg",children:n.jsx(In,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:(($=Q.medico)==null?void 0:$.nome)||"Mdico no informado"}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((G=Q.medico)==null?void 0:G.especialidade)||"Especialidade no informada"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[n.jsx(Pr,{className:"h-4 w-4"}),n.jsxs("span",{className:"font-medium",children:[Q.data?p3(Q.data):"Data no informada"," s ",Q.data?h9(Q.data):"--:--"]})]})]}),n.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[n.jsx(Wg,{className:"h-4 w-4"}),n.jsx("span",{children:Q.local})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-xs font-medium text-white",children:[Q.tipo==="Online"?n.jsx(_v,{className:"h-3 w-3"}):Q.tipo==="Telefone"?n.jsx(Jc,{className:"h-3 w-3"}):n.jsx(Kr,{className:"h-3 w-3"}),Q.tipo]}),n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:Q.status||""})]})]})]})}),n.jsx("div",{className:"flex gap-3",children:n.jsx(ye,{size:"sm",className:"btn-medical-primary shadow-lg",asChild:!0,children:n.jsx("a",{href:`/paciente/consultas/nova${(R=Q.medico)!=null&&R.id?`?medico=${Q.medico.id}`:""}`,children:"Contato p/ agendar"})})})]})},Q.id)})})})]})}),n.jsx(Or,{value:"realizadas",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(We,{className:"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-900/20 dark:to-slate-900/20",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[n.jsx(Pr,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),n.jsx(Le,{className:"p-6",children:t?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((Q,$)=>n.jsx(Mr,{className:"h-12 w-full"},$))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:n.jsx(Pr,{className:"h-8 w-8 text-red-500"})}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):N.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-gray-800 p-4 w-fit mx-auto mb-4",children:n.jsx(Pr,{className:"h-12 w-12 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Voc no possui consultas realizadas no histrico."})]}):n.jsx("div",{className:"overflow-hidden rounded-xl border-0 bg-white dark:bg-gray-800 shadow-lg",children:n.jsxs(cc,{children:[n.jsx(Ac,{className:"bg-gray-50 dark:bg-gray-900/50",children:n.jsxs(Pn,{className:"border-0",children:[n.jsx(Hr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Data"}),n.jsx(Hr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Mdico"}),n.jsx(Hr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Especialidade"}),n.jsx(Hr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Tipo"}),n.jsx(Hr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Status"}),n.jsx(Hr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Aes"})]})}),n.jsx(dc,{children:N.map(Q=>{var $,G;return n.jsxs(Pn,{className:"border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[n.jsx(Lr,{className:"font-medium",children:Q.data?new Date(Q.data).toLocaleDateString():""}),n.jsx(Lr,{children:(($=Q.medico)==null?void 0:$.nome)||""}),n.jsx(Lr,{children:((G=Q.medico)==null?void 0:G.especialidade)||""}),n.jsx(Lr,{children:n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-100 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-700 dark:text-blue-300",children:[Q.tipo==="Online"?n.jsx(_v,{className:"h-3 w-3"}):Q.tipo==="Telefone"?n.jsx(Jc,{className:"h-3 w-3"}):n.jsx(Kr,{className:"h-3 w-3"}),Q.tipo||""]})}),n.jsx(Lr,{children:n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-2 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:Q.status||""})}),n.jsx(Lr,{children:n.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>v(Q),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"Ver Detalhes"})})]},Q.id)})})]})})})]})})]}),n.jsx(Nu,{open:f,onOpenChange:h,children:n.jsxs(xd,{className:"max-w-2xl border-0 shadow-2xl",children:[n.jsxs(vd,{className:"pb-6",children:[n.jsx(wd,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Detalhes da Consulta"}),n.jsx(Qm,{className:"text-gray-600 dark:text-gray-400",children:"Informaes completas da consulta selecionada"})]}),m?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6",children:[n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold text-lg shadow-lg",children:(((P=m.medico)==null?void 0:P.nome)||"").split(" ").map(Q=>Q==null?void 0:Q[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-gray-100",children:((E=m.medico)==null?void 0:E.nome)||""}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((V=m.medico)==null?void 0:V.especialidade)||"Especialidade no informada"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:m.data?new Date(m.data).toLocaleDateString():""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hora"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:m.data?new Date(m.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tipo"}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-sm font-medium text-white",children:[m.tipo==="Online"?n.jsx(_v,{className:"h-3 w-3"}):m.tipo==="Telefone"?n.jsx(Jc,{className:"h-3 w-3"}):n.jsx(Kr,{className:"h-3 w-3"}),m.tipo]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-sm font-medium text-green-700 dark:text-green-300",children:m.status})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Local"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[n.jsx(Wg,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{children:m.local})]})]})]}):null]})})]})})}function g9(){const[e,r]=y.useState([]),[t,a]=y.useState(!0),[s,i]=y.useState(null),[o,l]=y.useState("todas"),[A,d]=y.useState(""),f=T=>{var D;return((D=T==null?void 0:T.tipo_exame)==null?void 0:D.nome)||(T==null?void 0:T.tipo_exame_nome)||(T==null?void 0:T.nome_exame)||(typeof(T==null?void 0:T.tipo_exame)=="string"?T.tipo_exame:null)||(T==null?void 0:T.nome)||(T==null?void 0:T.tipo)||(T==null?void 0:T.exame)||"Exame"},h=T=>{const D=T==null?void 0:T.user;return[D==null?void 0:D.first_name,D==null?void 0:D.last_name].filter(Boolean).join(" ").trim()||(D==null?void 0:D.nome)||(D==null?void 0:D.username)||(T==null?void 0:T.nome)||""},m=T=>{var P;const D=(T==null?void 0:T.resultado_url)||(T==null?void 0:T.arquivo_resultado)||((P=T==null?void 0:T.resultado)==null?void 0:P.arquivo)||(T==null?void 0:T.arquivo_url)||(T==null?void 0:T.documento_url);return D?/^https?:\/\//i.test(D)?D:`http://127.0.0.1:8000${D.startsWith("/")?"":"/"}${D}`:null};y.useEffect(()=>{let T=!0;return(async()=>{try{const D=await Aa.getExames();if(T){const P=(Array.isArray(D)?D:(D==null?void 0:D.results)||[]).map(E=>({id:E.id,data:E.data_agendamento||E.data_solicitacao||E.data||E.data_hora||null,nome:f(E),medico:{nome:h((E==null?void 0:E.medico_solicitante)||(E==null?void 0:E.medico))},status:E.status||E.situacao||"Pendente",local:E.local_realizacao||E.local||E.localizacao||E.unidade||"",resultado_url:m(E)}));r(P)}}catch{i("No foi possvel carregar os exames.")}finally{T&&a(!1)}})(),()=>{T=!1}},[]);const p=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],v=e.filter(T=>{var D;if(o==="agendados"){const k=T.data?new Date(T.data)>new Date:!1;if(!k&&(T.status||"").toLowerCase().includes("conclu")||!k&&(T.status||"").toLowerCase()==="realizado")return!1}if(o==="realizados"&&!((T.status||"").toLowerCase().includes("conclu")||(T.status||"").toLowerCase()==="realizado"||(T.data?new Date(T.data)<new Date:!1)))return!1;if(A){const k=A.toLowerCase();return(T.nome||"").toLowerCase().includes(k)||(((D=T.medico)==null?void 0:D.nome)||"").toLowerCase().includes(k)||(T.local||"").toLowerCase().includes(k)}return!0}),x=v.filter(T=>{const D=T.data?new Date(T.data)>new Date:!1,k=(T.status||"").toLowerCase();return D||k==="agendado"||k==="pendente"||k==="solicitado"}).sort((T,D)=>new Date(T.data||0)-new Date(D.data||0)),w=v.filter(T=>{const D=(T.status||"").toLowerCase();return(T.data?new Date(T.data)<new Date:!1)||D.includes("conclu")||D==="realizado"}).sort((T,D)=>new Date(D.data||0)-new Date(T.data||0)),j=e.length,N=x.length,S=w.length,F=e.filter(T=>T.data?new Date(T.data).getFullYear()===new Date().getFullYear():!1).length;return n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-medical-primary/90 via-medical-primary to-medical-secondary p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(Xc,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Meus Exames"}),n.jsx("p",{className:"text-white/90",children:"Gerencie seus exames e resultados"})]})]})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(ye,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(Kr,{className:"mr-2 h-4 w-4"}),"Mdicos"]}),n.jsxs(ye,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(fr,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})]})]})}),n.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),n.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/80 to-medical-primary text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Total de Exames"}),n.jsx("p",{className:"text-3xl font-bold",children:j})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Ja,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-status-attention/80 to-status-attention text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Prximos Exames"}),n.jsx("p",{className:"text-3xl font-bold",children:N})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Pr,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-secondary/80 to-medical-secondary text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Concludos"}),n.jsx("p",{className:"text-3xl font-bold",children:S})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Io,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/60 to-medical-primary/80 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:F})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Bm,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),n.jsx(To,{tabs:p,basePath:"/paciente"}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(vs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ke,{placeholder:"Buscar por exame, mdico ou local...",value:A,onChange:T=>d(T.target.value),className:"pl-10"})]}),n.jsx("div",{className:"w-full md:w-[220px]",children:n.jsxs(Gr,{value:o,onValueChange:l,children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"todas",children:"Todos os exames"}),n.jsx(st,{value:"agendados",children:"Agendados"}),n.jsx(st,{value:"realizados",children:"Realizados"})]})]})})]})})}),n.jsxs(Vi,{defaultValue:"agendados",className:"w-full",children:[n.jsxs(zi,{className:"grid w-full grid-cols-2 h-12 bg-muted/50",children:[n.jsxs(Ur,{value:"agendados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx(Pr,{className:"mr-2 h-4 w-4"}),"Exames Agendados"]}),n.jsxs(Ur,{value:"realizados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx(Io,{className:"mr-2 h-4 w-4"}),"Histrico de Exames"]})]}),n.jsx(Or,{value:"agendados",className:"mt-6",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(We,{className:"pb-4",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-xl",children:[n.jsx(Pr,{className:"h-5 w-5 text-amber-500"}),"Prximos Exames"]})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((T,D)=>n.jsxs("div",{className:"rounded-lg border p-4",children:[n.jsx(Mr,{className:"h-6 w-3/4 mb-2"}),n.jsx(Mr,{className:"h-4 w-1/2 mb-2"}),n.jsx(Mr,{className:"h-4 w-1/4"})]},D))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(od,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):x.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(fr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame agendado"}),n.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames agendados no momento."})]}):n.jsx("div",{className:"space-y-4",children:x.map(T=>{var D;return n.jsx("div",{className:"group rounded-xl border border-border/50 bg-gradient-to-r from-background to-muted/20 p-6 transition-all hover:shadow-lg hover:border-border",children:n.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-foreground group-hover:text-primary transition-colors",children:T.nome}),n.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1",children:[n.jsx(Kr,{className:"h-4 w-4"}),((D=T.medico)==null?void 0:D.nome)||""]})]}),n.jsx(sr,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:T.status})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsxs("span",{children:[T.data?new Date(T.data).toLocaleDateString():""," ",T.data?`s ${new Date(T.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]})]}),T.local&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ji,{className:"h-4 w-4"}),n.jsx("span",{children:T.local})]})]})]})})},T.id||`${T.data}-${T.nome}`)})})})]})}),n.jsx(Or,{value:"realizados",className:"mt-6",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(We,{className:"pb-4",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-xl",children:[n.jsx(Io,{className:"h-5 w-5 text-emerald-500"}),"Histrico de Exames"]})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((T,D)=>n.jsx(Mr,{className:"h-16 w-full"},D))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(od,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):w.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ja,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame no histrico"}),n.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames realizados no histrico."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(cc,{children:[n.jsx(Ac,{children:n.jsxs(Pn,{className:"border-border/50",children:[n.jsx(Hr,{className:"font-semibold",children:"Data"}),n.jsx(Hr,{className:"font-semibold",children:"Exame"}),n.jsx(Hr,{className:"font-semibold",children:"Mdico"}),n.jsx(Hr,{className:"font-semibold",children:"Status"}),n.jsx(Hr,{className:"font-semibold text-right",children:"Aes"})]})}),n.jsx(dc,{children:v.map(T=>{var D;return n.jsxs(Pn,{className:"border-border/50 hover:bg-muted/30 transition-colors",children:[n.jsx(Lr,{className:"font-medium",children:T.data?new Date(T.data).toLocaleDateString():""}),n.jsx(Lr,{children:n.jsx("div",{className:"font-medium",children:T.nome})}),n.jsx(Lr,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"}),((D=T.medico)==null?void 0:D.nome)||""]})}),n.jsx(Lr,{children:n.jsx(sr,{variant:(T.status||"").toLowerCase().includes("conclu")||(T.status||"").toLowerCase()==="realizado"?"default":"secondary",className:(T.status||"").toLowerCase().includes("conclu")||(T.status||"").toLowerCase()==="realizado"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:T.status||""})}),n.jsx(Lr,{children:n.jsx("div",{className:"flex items-center justify-end gap-2",children:T.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs(ye,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(T.resultado_url,"_blank"),children:[n.jsx(Ni,{className:"h-4 w-4 mr-1"}),"Ver"]}),n.jsxs(ye,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>void x9(T),children:[n.jsx(Al,{className:"h-4 w-4 mr-1"}),"Baixar"]})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem resultado"}),n.jsxs(ye,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 cursor-not-allowed",children:[n.jsx(Al,{className:"h-4 w-4 mr-1"}),"Baixar"]})]})})})]},T.id)})})]})})})]})})]})]})}const x9=async e=>{var r;try{let t=e==null?void 0:e.resultado_url;if(!t)return;/^https?:\/\//i.test(t)||(t=`http://127.0.0.1:8000${t.startsWith("/")?"":"/"}${t}`);const a=await Ce.get(t,{responseType:"blob",baseURL:""}),s=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),i=a.headers["content-disposition"]||"",o=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(i),l=decodeURIComponent((o==null?void 0:o[1])||(o==null?void 0:o[2])||`${e.nome||"resultado"}.pdf`),A=document.createElement("a");A.href=URL.createObjectURL(s),A.download=l,document.body.appendChild(A),A.click(),A.remove(),setTimeout(()=>URL.revokeObjectURL(A.href),2e3)}catch(t){console.warn("[Exames] download falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function v9(){const[e,r]=y.useState([]),[t,a]=y.useState(!0),[s,i]=y.useState(null),[o,l]=y.useState("todos"),[A,d]=y.useState("todos"),[f,h]=y.useState(""),m=S=>{var F;return((F=S==null?void 0:S.tipo_exame)==null?void 0:F.nome)||(S==null?void 0:S.tipo_exame_nome)||(S==null?void 0:S.nome_exame)||(typeof(S==null?void 0:S.tipo_exame)=="string"?S.tipo_exame:null)||(S==null?void 0:S.nome)||(S==null?void 0:S.tipo)||(S==null?void 0:S.exame)||"Exame"},p=S=>{const F=S==null?void 0:S.user;return[F==null?void 0:F.first_name,F==null?void 0:F.last_name].filter(Boolean).join(" ").trim()||(F==null?void 0:F.nome)||(F==null?void 0:F.username)||(S==null?void 0:S.nome)||""},v=S=>{var D;const F=(S==null?void 0:S.resultado_url)||(S==null?void 0:S.arquivo_resultado)||((D=S==null?void 0:S.resultado)==null?void 0:D.arquivo)||(S==null?void 0:S.arquivo_url)||(S==null?void 0:S.documento_url);return F?/^https?:\/\//i.test(F)?F:`http://127.0.0.1:8000${F.startsWith("/")?"":"/"}${F}`:null},x=S=>{if(!S)return"sem-data";const F=new Date(S);return Number.isNaN(F.getTime())?"sem-data":F.toISOString().slice(0,10)},w=S=>{try{return new Date(S).toLocaleString()}catch{return S||""}};y.useEffect(()=>{let S=!0;return(async()=>{var F,T,D;try{const[k,P,E]=await Promise.allSettled([Aa.getConsultas(),Aa.getExames(),Aa.getReceitas()]),V=k.status==="fulfilled"?(Array.isArray(k.value)?k.value:(F=k.value)==null?void 0:F.results)||[]:[],Q=P.status==="fulfilled"?(Array.isArray(P.value)?P.value:(T=P.value)==null?void 0:T.results)||[]:[],$=E.status==="fulfilled"?(Array.isArray(E.value)?E.value:(D=E.value)==null?void 0:D.results)||[]:[],G=Q.map(z=>({id:z.id||Math.random(),tipo:"exame",data:z.data_agendamento||z.data_solicitacao||z.data||z.data_hora||null,titulo:`Exame - ${m(z)}`.trim(),detalhe:p((z==null?void 0:z.medico_solicitante)||(z==null?void 0:z.medico)),status:z.status||z.situacao||"pendente",resultado_url:v(z),nome:m(z)})),R=V.map(z=>{var X,ne;return{id:z.id||Math.random(),tipo:"consulta",data:z.data_hora||z.data||null,titulo:`Consulta - ${z.especialidade||((X=z.medico)==null?void 0:X.especialidade)||""}`.trim(),detalhe:((ne=z.medico)==null?void 0:ne.nome)||p(z==null?void 0:z.medico)||"",status:z.status||"pendente"}}),ee=$.map(z=>{var ue;const X=z.medico||((ue=z.consulta)==null?void 0:ue.medico),ne=Array.isArray(z.itens)&&z.itens.length?z.itens.map(_=>{var I;return((I=_==null?void 0:_.medicamento)==null?void 0:I.nome)||(_==null?void 0:_.medicamento)||""}).filter(Boolean).join(", "):z.medicamentos||"Prescrio";return{id:z.id||Math.random(),tipo:"receita",data:z.created_at||z.data||z.emissao||z.data_emissao||null,titulo:`Receita - ${ne}`.trim(),detalhe:p(X),status:z.status||(z.arquivo_assinado?"assinada":"emitida"),resultado_url:z.arquivo_assinado||null,nome:"Receita"}}),K=[...R,...G,...ee].filter(z=>z.data).sort((z,X)=>new Date(X.data||0)-new Date(z.data||0));S&&r(K)}catch{i("No foi possvel carregar o histrico.")}finally{S&&a(!1)}})(),()=>{S=!1}},[]);const j=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],N=y.useMemo(()=>{let S=e;if(o!=="todos"){const D={consultas:"consulta",exames:"exame",receitas:"receita"};S=S.filter(k=>k.tipo===(D[o]||o))}if(A!=="todos"&&(S=S.filter(D=>(D.status||"").toLowerCase()===A.toLowerCase())),f.trim()){const D=f.toLowerCase();S=S.filter(k=>{var P,E;return((P=k.titulo)==null?void 0:P.toLowerCase().includes(D))||((E=k.detalhe)==null?void 0:E.toLowerCase().includes(D))||(k.status||"").toLowerCase().includes(D)})}const F={};for(const D of S){const k=x(D.data);F[k]||(F[k]=[]),F[k].push(D)}const T=Object.keys(F).sort((D,k)=>D<k?1:-1);return{groups:F,orderedKeys:T}},[e,o,A,f]);return n.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(by,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Histrico Mdico"})]}),n.jsx(To,{tabs:j,basePath:"/paciente"}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[n.jsx("div",{className:"flex-1 relative",children:n.jsx(Ke,{placeholder:"Buscar por ttulo, mdico, status...",value:f,onChange:S=>h(S.target.value),className:"w-full"})}),n.jsxs(Gr,{value:o,onValueChange:l,children:[n.jsx(Vr,{className:"w-[180px]",children:n.jsx(Yr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"todos",children:"Todos"}),n.jsx(st,{value:"consultas",children:"Consultas"}),n.jsx(st,{value:"exames",children:"Exames"}),n.jsx(st,{value:"receitas",children:"Receitas"})]})]}),n.jsxs(Gr,{value:A,onValueChange:d,children:[n.jsx(Vr,{className:"w-[180px]",children:n.jsx(Yr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"todos",children:"Todos"}),n.jsx(st,{value:"solicitado",children:"Solicitado"}),n.jsx(st,{value:"agendado",children:"Agendado"}),n.jsx(st,{value:"realizado",children:"Realizado"}),n.jsx(st,{value:"cancelado",children:"Cancelado"}),n.jsx(st,{value:"pendente",children:"Pendente"})]})]})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Linha do Tempo"})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-3",children:[...Array(6)].map((S,F)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Mr,{className:"h-4 w-4 rounded-full"}),n.jsx(Mr,{className:"h-6 w-2/3"})]},F))}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):N.orderedKeys.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento encontrado."}):n.jsx("div",{className:"space-y-8",children:N.orderedKeys.map(S=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsx("span",{children:S==="sem-data"?"Sem data":new Date(S).toLocaleDateString()})]}),n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute left-1 top-0 bottom-0 w-px bg-border"}),n.jsx("ul",{className:"space-y-4",children:N.groups[S].map(F=>n.jsxs("li",{className:"relative",children:[n.jsx("span",{className:`absolute -left-[7px] top-1 inline-flex items-center justify-center h-4 w-4 rounded-full ${F.tipo==="consulta"?"bg-primary":F.tipo==="exame"?"bg-emerald-500":"bg-indigo-500"}`,title:F.tipo==="consulta"?"Consulta":F.tipo==="exame"?"Exame":"Receita"}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 text-muted-foreground",children:F.tipo==="consulta"?n.jsx(Kr,{className:"h-4 w-4"}):F.tipo==="exame"?n.jsx(VL,{className:"h-4 w-4 text-emerald-400"}):n.jsx(Wh,{className:"h-4 w-4 text-indigo-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:F.titulo}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.detalhe||""," ",F.status?` ${F.status}`:""]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:w(F.data)})]})]}),F.tipo==="exame"&&n.jsx("div",{className:"flex items-center gap-2",children:F.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:F.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[n.jsx(Ni,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),n.jsx("span",{children:"Ver"})]}),n.jsxs(ye,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void EN(F),title:"Baixar arquivo",children:[n.jsx(Al,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),n.jsx("span",{children:"Baixar"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),n.jsxs(ye,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda no disponvel",children:[n.jsx(Al,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixar"})]})]})}),F.tipo==="receita"&&n.jsx("div",{className:"flex items-center gap-2",children:F.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:F.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",title:"Abrir receita em nova aba",children:[n.jsx(Ni,{className:"h-4 w-4"}),n.jsx("span",{children:"Ver"})]}),n.jsxs(ye,{variant:"outline",className:"inline-flex items-center gap-2 rounded-lg border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",onClick:()=>void EN(F),title:"Baixar PDF",children:[n.jsx(Al,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixar"})]})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem PDF assinado"})})]})]},F.id))})]})]},S))})})]})]})}const EN=async e=>{var r;try{let t=e==null?void 0:e.resultado_url;if(!t)return;if(/^(data|blob):/i.test(t)){const d=document.createElement("a");d.href=t,d.download=`${e.nome||"resultado"}.pdf`,document.body.appendChild(d),d.click(),d.remove();return}/^https?:\/\//i.test(t)||(t=`http://127.0.0.1:8000${t.startsWith("/")?"":"/"}${t}`);const a=await Ce.get(t,{responseType:"blob",baseURL:""}),s=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),i=a.headers["content-disposition"]||"",o=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(i),l=decodeURIComponent((o==null?void 0:o[1])||(o==null?void 0:o[2])||`${e.nome||"resultado"}.pdf`),A=document.createElement("a");A.href=URL.createObjectURL(s),A.download=l,document.body.appendChild(A),A.click(),A.remove(),setTimeout(()=>URL.revokeObjectURL(A.href),2e3)}catch(t){console.warn("[Historico Medico] download falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function w9(){const[e,r]=y.useState([]),[t,a]=y.useState(!0),[s,i]=y.useState(null);y.useEffect(()=>{let l=!0;return(async()=>{try{const A=await Aa.getMedicos();l&&r(Array.isArray(A)?A:(A==null?void 0:A.results)||[])}catch{i("No foi possvel carregar os mdicos vinculados.")}finally{l&&a(!1)}})(),()=>{l=!1}},[]);const o=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Mdicos Vinculados"})]}),n.jsx(To,{tabs:o,basePath:"/paciente"}),t?n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((l,A)=>n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Mr,{className:"h-5 w-48"})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsx(Mr,{className:"h-4 w-56"}),n.jsx(Mr,{className:"h-4 w-32"})]})]},A))}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):e.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum mdico vinculado."}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:e.map(l=>{var A,d;return n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(In,{className:"h-5 w-5"}),y9(l)]})}),n.jsxs(Le,{className:"space-y-2 text-sm",children:[n.jsx("div",{className:"text-muted-foreground",children:b9(l)}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["CRM: ",kN(l)||""]})]}),_N(l)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:_N(l)})]}),FN(l)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:FN(l)})]})]})]},l.id||kN(l)||((A=l.user)==null?void 0:A.id)||((d=l.user)==null?void 0:d.email))})})]})}const y9=e=>{const r=(e==null?void 0:e.user)||{};return[r.first_name,r.last_name].filter(Boolean).join(" ").trim()||r.nome||r.name||r.username||(e==null?void 0:e.nome)||(e==null?void 0:e.name)||(e==null?void 0:e.full_name)||"Mdico"},b9=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():"Especialidade no informada"},_N=e=>{var r;return(e==null?void 0:e.telefone)||(e==null?void 0:e.phone)||(e==null?void 0:e.celular)||((r=e==null?void 0:e.user)==null?void 0:r.phone)||null},FN=e=>{var r;return(e==null?void 0:e.email)||((r=e==null?void 0:e.user)==null?void 0:r.email)||null},kN=e=>(e==null?void 0:e.crm)||(e==null?void 0:e.crm_numero)||(e==null?void 0:e.crmNumber)||(e==null?void 0:e.crm_registro)||null,j9="modulepreload",N9=function(e){return"/"+e},DN={},ul=function(r,t,a){let s=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),A=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(t.map(d=>{if(d=N9(d),d in DN)return;DN[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":j9,f||(m.as="script"),m.crossOrigin="",m.href=d,A&&m.setAttribute("nonce",A),document.head.appendChild(m),f)return new Promise((p,v)=>{m.addEventListener("load",p),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},Yl={CLASSIC:"classic",MODERN:"modern",MINIMAL:"minimal",CUSTOM:"custom"},Fs={type:Yl.CLASSIC,layout:{pageSize:"A4",orientation:"portrait",margins:{top:50,bottom:50,left:50,right:50}},header:{showLogo:!0,logoPosition:"left",logoSize:{width:80,height:80},showDoctorInfo:!0,doctorInfoPosition:"right",backgroundColor:"#ffffff",borderBottom:!0,borderColor:"#e5e7eb"},content:{fontSize:{title:16,subtitle:14,body:12,small:10},fontFamily:"Helvetica",colors:{primary:"#1f2937",secondary:"#6b7280",accent:"#3b82f6"},spacing:{sectionGap:20,lineHeight:1.5}},footer:{showSignature:!0,showDate:!0,showPageNumber:!1,customText:"",backgroundColor:"#ffffff",borderTop:!0,borderColor:"#e5e7eb"},branding:{primaryColor:"#3b82f6",secondaryColor:"#6b7280",logoUrl:null,clinicName:"",clinicAddress:"",clinicPhone:"",clinicEmail:""}},UN={[Yl.CLASSIC]:{...Fs,name:"Clssico",description:"Layout tradicional com cabealho formal",preview:"/templates/classic-preview.svg"},[Yl.MODERN]:{...Fs,type:Yl.MODERN,name:"Moderno",description:"Design contemporneo com elementos visuais modernos",header:{...Fs.header,backgroundColor:"#f8fafc",logoPosition:"center"},content:{...Fs.content,colors:{primary:"#0f172a",secondary:"#475569",accent:"#0ea5e9"}},branding:{...Fs.branding,primaryColor:"#0ea5e9"},preview:"/templates/modern-preview.svg"},[Yl.MINIMAL]:{...Fs,type:Yl.MINIMAL,name:"Minimalista",description:"Layout limpo e simples",header:{...Fs.header,showLogo:!1,borderBottom:!1},content:{...Fs.content,fontSize:{title:14,subtitle:12,body:11,small:9}},footer:{...Fs.footer,borderTop:!1},preview:"/templates/minimal-preview.svg"}},LN=(e,r)=>{try{const t=`pdf_template_config_${e}`,a=`template_config_${e}`,s=JSON.stringify(r);return localStorage.setItem(t,s),localStorage.setItem(a,s),!0}catch(t){return console.error("Erro ao salvar configurao de template:",t),!1}},fm=e=>{try{const r=`pdf_template_config_${e}`,t=`template_config_${e}`,a=localStorage.getItem(r),s=localStorage.getItem(t),i=Fs;if(a)try{return{...i,...JSON.parse(a)}}catch{}if(s)try{return{...i,...JSON.parse(s)}}catch{}return Fs}catch(r){return console.error("Erro ao carregar configurao de template:",r),Fs}},u0=(e,r)=>new Promise((t,a)=>{try{if(!r){t(null);return}const s=`doctor_logo_${e}`;if(typeof r=="object"&&(r!=null&&r.data)&&typeof r.data=="string"){const i={data:r.data,name:r.name||"logo.png",type:r.type||"image/png",size:r.size||void 0,lastModified:r.lastModified||Date.now()};localStorage.setItem(s,JSON.stringify(i)),t(i);return}if(typeof r=="string"&&r.startsWith("data:")){const i=r.slice(5,r.indexOf(";"))||"image/png",o={data:r,name:"logo.png",type:i,size:void 0,lastModified:Date.now()};localStorage.setItem(s,JSON.stringify(o)),t(o);return}if(r instanceof File||r instanceof Blob){const i=new FileReader;i.onload=o=>{try{const l={data:o.target.result,name:r.name||"logo.png",type:r.type||"image/png",size:r.size,lastModified:r.lastModified||Date.now()};localStorage.setItem(s,JSON.stringify(l)),t(l)}catch(l){a(l)}},i.onerror=a,i.readAsDataURL(r);return}a(new Error("Formato de logo invlido"))}catch(s){a(s)}}),Mf=e=>{try{const r=`doctor_logo_${e}`,t=localStorage.getItem(r);if(t)try{const a=JSON.parse(t);if(a&&typeof a=="object"&&typeof a.data=="string")return a}catch{if(typeof t=="string"&&t.startsWith("data:")){const a=t.slice(5,t.indexOf(";"))||"image/png";return{data:t,type:a,name:"logo.png"}}}return null}catch(r){return console.error("Erro ao carregar logo do mdico:",r),null}},IN=e=>{try{const r=`doctor_logo_${e}`;return localStorage.removeItem(r),!0}catch(r){return console.error("Erro ao remover logo do mdico:",r),!1}},B9=e=>{var t,a,s;const r=[];return(!e.type||!Object.values(Yl).includes(e.type))&&r.push("Tipo de template invlido"),(t=e.layout)!=null&&t.pageSize||r.push("Tamanho da pgina  obrigatrio"),(!((s=(a=e.content)==null?void 0:a.fontSize)!=null&&s.body)||e.content.fontSize.body<8)&&r.push("Tamanho da fonte do corpo deve ser pelo menos 8pt"),{isValid:r.length===0,errors:r}},C9=(e,r)=>{var t,a;return{...e,...r,layout:{...e.layout,...r.layout},header:{...e.header,...r.header},content:{...e.content,...r.content,fontSize:{...e.content.fontSize,...(t=r.content)==null?void 0:t.fontSize},colors:{...e.content.colors,...(a=r.content)==null?void 0:a.colors}},footer:{...e.footer,...r.footer},branding:{...e.branding,...r.branding}}},S9=e=>({...e,isPreview:!0,content:{...e.content,sampleData:{doctorName:"Dr. Joo Silva",crm:"CRM/SP 123456",specialty:"Cardiologia",patientName:"Maria Santos",date:new Date().toLocaleDateString("pt-BR"),medications:"Losartana 50mg - 1 comprimido pela manh",instructions:"Tomar com gua, preferencialmente no mesmo horrio todos os dias."}}});function E9({id:e="receita-preview",templateConfig:r,doctorLogo:t,medico:a="",crm:s="",especialidade:i="",endereco_consultorio:o="",telefone_consultorio:l="",email_medico:A="",nome_paciente:d="",idade:f="",cpf:h="",data_nascimento:m="",data_emissao:p="",validade_receita:v="",isSigned:x=!1,certInfo:w=null,signDate:j=null,hasStructuredItems:N=!1,receitaItems:S=[],medicamento:F="",posologia:T="",observacoes:D=""}){var E,V,Q,$,G,R,ee,K,z,X,ne,ue,_,I,W,te;const k=r||Fs,P={titleSize:`${((V=(E=k==null?void 0:k.content)==null?void 0:E.fontSize)==null?void 0:V.title)??16}px`,smallSize:`${(($=(Q=k==null?void 0:k.content)==null?void 0:Q.fontSize)==null?void 0:$.small)??12}px`,primaryColor:((R=(G=k==null?void 0:k.content)==null?void 0:G.colors)==null?void 0:R.primary)??"#1f2937",secondaryColor:((K=(ee=k==null?void 0:k.content)==null?void 0:ee.colors)==null?void 0:K.secondary)??"#6b7280",accentBorderColor:((z=k==null?void 0:k.header)==null?void 0:z.borderColor)??"#e5e7eb",showLogo:((X=k==null?void 0:k.header)==null?void 0:X.showLogo)!==!1};return n.jsxs("div",{id:e,className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[n.jsxs("div",{className:"flex items-center justify-between border-b pb-3",style:{borderBottomColor:P.accentBorderColor},children:[P.showLogo&&(t!=null&&t.data)?n.jsx("img",{src:t.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null,n.jsxs("div",{className:"text-right flex-1 ml-4",children:[n.jsx("div",{className:"font-bold",style:{fontSize:P.titleSize,color:P.primaryColor},children:((ne=k==null?void 0:k.branding)==null?void 0:ne.clinicName)||a||"Consultrio Mdico"}),((ue=k==null?void 0:k.header)==null?void 0:ue.showDoctorInfo)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-semibold",style:{color:P.primaryColor},children:a}),s&&n.jsxs("div",{style:{fontSize:P.smallSize,color:P.secondaryColor},children:["CRM: ",s]})]}),n.jsx("div",{className:"text-sm",style:{fontSize:P.smallSize,color:P.secondaryColor},children:((_=k==null?void 0:k.branding)==null?void 0:_.clinicAddress)||o}),n.jsxs("div",{className:"text-sm",style:{fontSize:P.smallSize,color:P.secondaryColor},children:["Telefone: ",((I=k==null?void 0:k.branding)==null?void 0:I.clinicPhone)||l]}),(W=k==null?void 0:k.branding)!=null&&W.clinicEmail||A?n.jsxs("div",{className:"text-sm",style:{fontSize:P.smallSize,color:P.secondaryColor},children:["E-mail: ",((te=k==null?void 0:k.branding)==null?void 0:te.clinicEmail)||A]}):null]})]}),n.jsxs("div",{className:"text-center my-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),d]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Idade: "}),f]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF: "}),h]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),m]})]}),n.jsxs("div",{className:"text-center text-xl font-semibold my-4",children:["Prescrio Mdica",x&&n.jsx("div",{className:"text-sm text-green-600 font-normal mt-1",children:" Assinada Digitalmente"}),!x&&n.jsx("div",{className:"text-sm text-orange-600 font-normal mt-1",children:" Aguardando Assinatura Digital"})]}),n.jsx("div",{className:"text-center",children:N?n.jsx("div",{className:"space-y-4",children:Array.isArray(S)&&S.map((J,Y)=>{var xe,Ae;const M=((xe=J==null?void 0:J.medicamento)==null?void 0:xe.nome)||(J==null?void 0:J.descricao)||`Medicamento ${Y+1}`,Z=(Ae=J==null?void 0:J.medicamento)==null?void 0:Ae.apresentacao,oe=(J==null?void 0:J.dose)||(J==null?void 0:J.dosagem),fe=J==null?void 0:J.frequencia,ve=J==null?void 0:J.duracao,Ee=[oe,fe,ve].filter(Boolean).join("  "),_e=J==null?void 0:J.observacoes;return n.jsxs("div",{className:"border-b border-muted pb-3 last:border-b-0",children:[n.jsx("div",{className:"font-semibold",children:M}),Z&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:Z}),Ee&&n.jsx("div",{className:"mt-2",children:Ee}),_e&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1 italic",children:_e})]},Y)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:F}),T?n.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:T}):null,D?n.jsx("div",{className:"mt-2 whitespace-pre-wrap italic text-muted-foreground",children:D}):null]})}),n.jsxs("div",{className:"text-center my-6",children:[n.jsxs("div",{children:["Data de Emisso: ",p]}),n.jsxs("div",{children:["Validade da Receita: ",v||""]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:""}),a&&n.jsxs("div",{children:["Dr(a). ",a,s?`  CRM ${s}`:""]}),x?n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente conforme ICP-Brasil",w!=null&&w.subject_name||w!=null&&w.nome||w!=null&&w.subject?n.jsxs(n.Fragment,{children:["  Titular: ",(w==null?void 0:w.subject_name)||(w==null?void 0:w.nome)||(w==null?void 0:w.subject)]}):null,s?n.jsxs(n.Fragment,{children:["  CRM: ",s]}):null,h?n.jsxs(n.Fragment,{children:["  CPF: ",h]}):null,w!=null&&w.algorithm?n.jsxs(n.Fragment,{children:["  Algoritmo: ",w.algorithm]}):n.jsx(n.Fragment,{children:"  Algoritmo: SHA256-RSA"}),j?n.jsxs(n.Fragment,{children:["  Carimbo: ",new Date(j).toLocaleString()]}):null,w!=null&&w.valid_to||w!=null&&w.not_after||w!=null&&w.valid_until?n.jsxs(n.Fragment,{children:["  Vlido at: ",new Date((w==null?void 0:w.valid_to)||(w==null?void 0:w.not_after)||(w==null?void 0:w.valid_until)).toLocaleDateString()]}):null]}):n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]})})]})}function _9(){const{toast:e}=Va(),[r,t]=y.useState(!0),[a,s]=y.useState(""),[i,o]=y.useState([]),[l,A]=y.useState([]),[d,f]=y.useState(!1),[h,m]=y.useState({medico:"",observacoes:""}),[p,v]=y.useState(!1),[x,w]=y.useState(""),[j,N]=y.useState("todas"),S=y.useMemo(()=>[{id:"exemplo-1",created_at:"2024-01-15T10:30:00Z",medicamentos:`Dipirona 500mg - 1 comprimido de 6/6h por 5 dias
Paracetamol 750mg - 1 comprimido de 8/8h se dor`,posologia:"Conforme prescrio mdica",observacoes:"Tomar com gua, aps as refeies",validade:"2024-07-15",status:"ativa",situacao:"finalizada",arquivo_assinado:null,medico:{id:1,nome:"Dr. Joo Silva",especialidade:"Clnico Geral",crm:"12345-SP"},consulta:{id:1,data:"2024-01-15",paciente_id:1}},{id:"exemplo-2",created_at:"2023-12-10T14:20:00Z",medicamentos:"Amoxicilina 500mg - 1 cpsula de 8/8h por 7 dias",posologia:"Via oral",observacoes:"Completar todo o tratamento mesmo com melhora dos sintomas",validade:"2024-06-10",status:"expirada",situacao:"finalizada",arquivo_assinado:null,medico:{id:2,nome:"Dra. Maria Santos",especialidade:"Pediatra",crm:"67890-SP"},consulta:{id:2,data:"2023-12-10",paciente_id:1}}],[]),F=y.useMemo(()=>[{id:1,nome:"Dr. Joo Silva",especialidade:"Clnico Geral",crm:"12345-SP"},{id:2,nome:"Dra. Maria Santos",especialidade:"Pediatra",crm:"67890-SP"}],[]),T=y.useMemo(()=>Array.isArray(l)?l.filter(_=>_&&String(_.id??"").trim()!==""):[],[l]),D=_=>{const I=_==null?void 0:_.user;return[I==null?void 0:I.first_name,I==null?void 0:I.last_name].filter(Boolean).join(" ").trim()||(I==null?void 0:I.nome)||(I==null?void 0:I.username)||(_==null?void 0:_.nome)||(_==null?void 0:_.name)||(_==null?void 0:_.full_name)||(_==null?void 0:_.medico_nome)||(_==null?void 0:_.doctor_name)||"Mdico"},k=y.useMemo(()=>(Array.isArray(i)?i:Array.isArray(i==null?void 0:i.results)?i.results:[]).sort((I,W)=>new Date(W.created_at||0)-new Date(I.created_at||0)),[i]),P=y.useMemo(()=>k.length>0,[k]),E=y.useMemo(()=>{let _=k;if(j==="todas"?_=k:j==="ativas"?_=_.filter(I=>{const W=I.validade||I.validade_receita;return W?new Date(W)>=new Date:!0}):j==="historico"&&(_=_.filter(I=>{const W=I.validade||I.validade_receita;return W?new Date(W)<new Date:!1})),x){const I=x.toLowerCase();_=_.filter(W=>{var M;const te=D(W.medico)||D((M=W.consulta)==null?void 0:M.medico)||"",J=W.medicamentos||"",Y=W.observacoes||"";return te.toLowerCase().includes(I)||J.toLowerCase().includes(I)||Y.toLowerCase().includes(I)})}return _},[k,j,x]),V=_=>{const I=_.validade||_.validade_receita;return I?new Date(I)>=new Date?"ativa":"expirada":(_.status||_.situacao||"ativa").toLowerCase()},Q=y.useMemo(()=>k.filter(_=>V(_)==="ativa").length,[k]),$=y.useMemo(()=>k.filter(_=>V(_)==="expirada").length,[k]);y.useEffect(()=>{let _=!0;return(async()=>{t(!0),s("");try{let W=[];try{const J=await Aa.getReceitas();W=Array.isArray(J)?J:(J==null?void 0:J.results)||[]}catch(J){console.error("Erro ao carregar receitas:",J.message)}let te=[];try{const J=await Aa.getMedicosVinculados();te=Array.isArray(J)?J:(J==null?void 0:J.results)||[]}catch(J){console.error("Erro ao carregar mdicos vinculados:",J.message)}if(!_)return;if(o(W),A(te),te.length===0)try{const J=await Aa.getMedicos({limit:50}),Y=Array.isArray(J)?J:(J==null?void 0:J.results)||[];_&&Y.length>0&&A(Y)}catch(J){console.error("Erro no fallback de mdicos:",J.message)}W.length===0&&te.length===0?(o(S),A(F),s("Exibindo dados de exemplo. Conecte-se  API para ver suas receitas reais.")):W.length===0&&(o(S),s("Nenhuma receita encontrada na API. Exibindo exemplos."))}catch(W){if(console.error("Erro ao carregar dados:",W.message),!_)return;s(`Falha ao carregar receitas: ${W.message||"Erro desconhecido"}`)}finally{_&&t(!1)}})(),()=>{_=!1}},[]);const G=async _=>{var I,W;if(_.preventDefault(),!h.medico){e({title:"Selecione um mdico",description:"Escolha o mdico para enviar a solicitao."});return}v(!0);try{h.renovacao?(await Aa.solicitarRenovacao({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),e({title:"Renovao enviada",description:"Seu pedido de renovao foi enviado ao mdico."})):(await Aa.solicitarReceita({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),e({title:"Solicitao enviada",description:"Seu pedido de receita foi enviado ao mdico."})),f(!1),m({medico:"",mensagem:"",receita:null,renovacao:!1})}catch(te){console.error("Erro ao solicitar receita:",te),e({title:"Erro ao solicitar",description:((W=(I=te==null?void 0:te.response)==null?void 0:I.data)==null?void 0:W.detail)||(te==null?void 0:te.message)||"No foi possvel enviar a solicitao.",variant:"destructive"})}finally{v(!1)}},R=async(_,I)=>{var W;try{if(!_)return;const te=(ve,Ee)=>{const _e=document.createElement("a"),xe=URL.createObjectURL(ve);_e.href=xe,_e.download=decodeURIComponent(Ee),document.body.appendChild(_e),_e.click(),_e.remove(),setTimeout(()=>URL.revokeObjectURL(xe),2e3)},J=(ve,Ee="Receita_Medica.pdf")=>{let _e=ve||Ee;return/\.[a-z0-9]+$/i.test(_e)||(_e+=".pdf"),_e};if(/^data:/i.test(_))try{const ve=_.split(","),Ee=ve[0]||"",_e=ve.slice(1).join(","),xe=(Ee.match(/data:([^;]+)/i)||[])[1]||"application/pdf",Ae=atob(_e),dt=Ae.length,Ft=new Uint8Array(dt);for(let et=0;et<dt;et++)Ft[et]=Ae.charCodeAt(et);const mt=new Blob([Ft],{type:xe}),Ue=`Receita_${(I==null?void 0:I.id)||"documento"}`,ct=J(Ue);te(mt,ct);return}catch(ve){console.error("[Receitas] Falha ao processar data URL:",ve),e({title:"Falha no download",description:"Arquivo invlido ou corrompido.",variant:"destructive"});return}if(/^blob:/i.test(_))try{const Ee=await(await fetch(_)).blob(),_e=`Receita_${(I==null?void 0:I.id)||"documento"}`,xe=J(_e);te(Ee,xe);return}catch(ve){console.error("[Receitas] Blob URL indisponvel (provavelmente de outra aba/sesso):",ve),e({title:"Arquivo indisponvel",description:"Essa receita foi gerada em outra aba/sesso. Gere novamente para baixar.",variant:"destructive"});return}/^https?:\/\//i.test(_)||(_=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${_.startsWith("/")?"":"/"}${_}`);const Y=await Ce.get(_,{responseType:"blob",baseURL:""}),M=new Blob([Y.data],{type:Y.headers["content-type"]||"application/pdf"}),Z=Y.headers["content-disposition"]||"",oe=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(Z);let fe=(oe==null?void 0:oe[1])||(oe==null?void 0:oe[2]);if(!fe)try{const ve=new URL(_);fe=decodeURIComponent(ve.pathname.split("/").pop()||"")}catch{fe=""}fe||(fe=`Receita_${(I==null?void 0:I.id)||"documento"}.pdf`),fe=J(fe),te(M,fe)}catch(te){console.error("[Receitas] Falha ao baixar PDF assinado:",((W=te==null?void 0:te.response)==null?void 0:W.status)||te),e({title:"Falha no download",description:"No foi possvel baixar o arquivo. Tente novamente.",variant:"destructive"})}},ee=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],K=k.length,z=k.filter(_=>_.arquivo_assinado).length,X=k.filter(_=>_.created_at?new Date(_.created_at).getFullYear()===new Date().getFullYear():!1).length,ne=k.filter(_=>{if(!_.created_at)return!1;const I=new Date(_.created_at),W=new Date;return W.setDate(W.getDate()-30),I>=W}).length;async function ue(_){var I,W,te,J,Y,M,Z,oe,fe,ve,Ee;try{const{pdfTemplateService:_e}=await ul(async()=>{const{pdfTemplateService:Je}=await Promise.resolve().then(()=>fk);return{pdfTemplateService:Je}},void 0),xe=((I=_==null?void 0:_.medico)==null?void 0:I.id)||(_==null?void 0:_.medico_id)||"default",Ae=fm(xe),dt=Mf(xe),Ft=(_==null?void 0:_.medico)&&(_.medico.nome||((W=_.medico.user)==null?void 0:W.first_name)&&`${_.medico.user.first_name} ${_.medico.user.last_name}`)||(_==null?void 0:_.medico_nome)||(_==null?void 0:_.medico)||"Mdico",mt=((te=_==null?void 0:_.medico)==null?void 0:te.crm)||(_==null?void 0:_.medico_crm)||(_==null?void 0:_.crm)||"",Ue=((J=_==null?void 0:_.medico)==null?void 0:J.especialidade)||(_==null?void 0:_.especialidade)||(_==null?void 0:_.medico_especialidade)||"",ct=((Y=_==null?void 0:_.medico)==null?void 0:Y.endereco_consultorio)||(_==null?void 0:_.medico_endereco)||"",et=((M=_==null?void 0:_.medico)==null?void 0:M.telefone_consultorio)||((Z=_==null?void 0:_.medico)==null?void 0:Z.telefone)||(_==null?void 0:_.medico_telefone)||"",Ot=((oe=_==null?void 0:_.medico)==null?void 0:oe.email)||(_==null?void 0:_.email_medico)||"",He=((fe=_==null?void 0:_.paciente)==null?void 0:fe.nome)||(_==null?void 0:_.paciente_nome)||(_==null?void 0:_.paciente)||"Paciente",Jt=((ve=_==null?void 0:_.paciente)==null?void 0:ve.cpf)||(_==null?void 0:_.cpf)||"",kt=((Ee=_==null?void 0:_.paciente)==null?void 0:Ee.data_nascimento)||(_==null?void 0:_.data_nascimento)||"",jt=(_==null?void 0:_.idade)||"",Nr=(()=>{const Je=(_==null?void 0:_.created_at)||(_==null?void 0:_.data_emissao)||new Date().toISOString();try{return new Date(Je).toLocaleDateString()}catch{return String(Je)}})(),Nt=(_==null?void 0:_.validade)||(_==null?void 0:_.validade_receita)||"",Bt=!!(_!=null&&_.arquivo_assinado),yt=((Array.isArray(_==null?void 0:_.itens)&&_.itens.length?_.itens:Array.isArray(_==null?void 0:_.itens_estruturados)?_.itens_estruturados:[])||[]).map(Je=>({descricao:(Je==null?void 0:Je.descricao)||(Je==null?void 0:Je.medicamento)||(Je==null?void 0:Je.nome)||"",dosagem:(Je==null?void 0:Je.dosagem)||(Je==null?void 0:Je.dose)||"",frequencia:(Je==null?void 0:Je.frequencia)||"",duracao:(Je==null?void 0:Je.duracao)||"",observacoes:(Je==null?void 0:Je.observacoes)||"",medicamento:typeof(Je==null?void 0:Je.medicamento)=="object"?Je.medicamento:void 0})),Qr=yt.length>0,Ir=(_==null?void 0:_.medicamentos)||(_==null?void 0:_.itens)||(_==null?void 0:_.descricao)||"",Tt=(_==null?void 0:_.posologia)||(_==null?void 0:_.orientacoes)||"",hr=(_==null?void 0:_.observacoes)||"",nt=document.createElement("div");nt.style.position="absolute",nt.style.left="-9999px",nt.style.top="-9999px",document.body.appendChild(nt);const Re=lC.createRoot(nt);Re.render(n.jsx(E9,{id:"receita-preview-paciente",templateConfig:Ae,doctorLogo:dt,medico:Ft,crm:mt,especialidade:Ue,endereco_consultorio:ct,telefone_consultorio:et,email_medico:Ot,nome_paciente:He,idade:jt,cpf:Jt,data_nascimento:kt,data_emissao:Nr,validade_receita:Nt,isSigned:Bt,hasStructuredItems:Qr,receitaItems:yt,medicamento:Ir,posologia:Tt,observacoes:hr})),await new Promise(Je=>setTimeout(Je,100));const it=await _e.generatePDFFromElement(nt,{pageSize:"a4",orientation:"portrait",scale:2});try{Re.unmount()}catch{}document.body.removeChild(nt);const bt=`Receita_${He.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;_e.savePDF(it,bt);return}catch(_e){console.error("Erro ao gerar PDF com template personalizado:",_e);try{const{PDFDocument:xe,StandardFonts:Ae,rgb:dt}=await ul(async()=>{const{PDFDocument:Nt,StandardFonts:Bt,rgb:vt}=await import("./index-akRc6aPt.js");return{PDFDocument:Nt,StandardFonts:Bt,rgb:vt}},[]),Ft=await xe.create(),mt=Ft.addPage([595.28,841.89]),Ue=await Ft.embedFont(Ae.Helvetica),ct=(Nt,Bt,vt,yt=12,Qr=dt(0,0,0))=>{mt.drawText(String(Nt||""),{x:Bt,y:vt,size:yt,font:Ue,color:Qr})};let et=800;ct("Receita Mdica",50,et,16),et-=30;const Ot=(Nt,Bt)=>`${Nt}: ${Bt??""}`;ct(Ot("Emitida em",(_==null?void 0:_.created_at)||(_==null?void 0:_.data_emissao)||""),50,et),et-=18,ct(Ot("Mdico",(_==null?void 0:_.medico_nome)||(_==null?void 0:_.medico)||(_==null?void 0:_.medico_id)||""),50,et),et-=18,ct(Ot("Paciente",(_==null?void 0:_.paciente_nome)||(_==null?void 0:_.paciente)||(_==null?void 0:_.paciente_id)||""),50,et),et-=24,ct("Medicamentos",50,et,14),et-=18,ct(String((_==null?void 0:_.medicamentos)||(_==null?void 0:_.itens)||(_==null?void 0:_.descricao)||""),50,et),et-=36,ct("Posologia",50,et,14),et-=18,ct(String((_==null?void 0:_.posologia)||(_==null?void 0:_.orientacoes)||""),50,et),et-=36,_!=null&&_.observacoes&&(ct("Observaes",50,et,14),et-=18,ct(String(_==null?void 0:_.observacoes),50,et),et-=36),Array.isArray(_==null?void 0:_.itens_estruturados)&&_.itens_estruturados.length&&(ct("Itens estruturados",50,et,14),et-=18,_.itens_estruturados.forEach(Nt=>{const Bt=Object.values(Nt||{}).filter(Boolean).join("  ");ct(` ${Bt}`,60,et),et-=16}),et-=10);const He=await Ft.save(),Jt=new Blob([He],{type:"application/pdf"}),kt=`Receita_${(_==null?void 0:_.id)||"documento"}.pdf`,jt=document.createElement("a"),Nr=URL.createObjectURL(Jt);jt.href=Nr,jt.download=kt,document.body.appendChild(jt),jt.click(),jt.remove(),setTimeout(()=>URL.revokeObjectURL(Nr),2e3)}catch(xe){console.error("[Receitas] Falha ao gerar PDF local:",xe),e({title:"Falha ao gerar PDF",description:"Tente novamente.",variant:"destructive"})}}}return r?n.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Mr,{className:"h-32 w-full rounded-2xl"}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((_,I)=>n.jsx(Mr,{className:"h-32 w-full rounded-xl"},I))}),n.jsx(Mr,{className:"h-16 w-full"}),n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((_,I)=>n.jsx(Mr,{className:"h-48 w-full rounded-xl"},I))})]})}):a?n.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(od,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-red-500 mb-2",children:"Erro ao carregar receitas"}),n.jsx("p",{className:"text-red-500",children:a})]})}):n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-700 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(Wh,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Minhas Receitas"}),n.jsx("p",{className:"text-emerald-100",children:"Gerencie suas receitas mdicas"})]})]})}),n.jsx("div",{className:"flex flex-wrap gap-3",children:n.jsxs(ye,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(Kr,{className:"mr-2 h-4 w-4"}),"Mdicos"]})})]})}),n.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),n.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Total de Receitas"}),n.jsx("p",{className:"text-3xl font-bold",children:K})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Ja,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Assinadas"}),n.jsx("p",{className:"text-3xl font-bold",children:z})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Io,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"ltimos 30 dias"}),n.jsx("p",{className:"text-3xl font-bold",children:ne})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Pr,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg",children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:X})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Bm,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),n.jsx(To,{tabs:ee,basePath:"/paciente"}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(vs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ke,{placeholder:"Buscar por mdico ou medicamento...",value:x,onChange:_=>w(_.target.value),className:"pl-10"})]})})})}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Le,{className:"p-6",children:n.jsxs(Vi,{value:j,onValueChange:N,className:"w-full",children:[n.jsxs(zi,{className:"grid w-full grid-cols-3",children:[n.jsxs(Ur,{value:"ativas",className:"flex items-center gap-2",children:[n.jsx(ps,{className:"h-4 w-4"}),"Ativas (",Q,")"]}),n.jsxs(Ur,{value:"historico",className:"flex items-center gap-2",children:[n.jsx(by,{className:"h-4 w-4"}),"Histrico (",$,")"]}),n.jsxs(Ur,{value:"todas",className:"flex items-center gap-2",children:[n.jsx(Ja,{className:"h-4 w-4"}),"Todas (",K,")"]})]}),n.jsx(Or,{value:j,className:"mt-6",children:P?E.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(vs,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Tente ajustar os filtros de busca."})]}):n.jsx("div",{className:"grid gap-6",children:E.map(_=>{var J;const I=_.consulta,W=D(_.medico)||D(I==null?void 0:I.medico)||_.medico_nome||_.medicoName||"Mdico",te=((J=I==null?void 0:I.paciente)!=null&&J.user?`${I.paciente.user.first_name||""} ${I.paciente.user.last_name||""}`.trim():"Paciente")||"Paciente";return n.jsxs(ke,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx(We,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-emerald-100 p-2 dark:bg-emerald-900",children:n.jsx(Wh,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-lg",children:"Receita Mdica"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitida em ",new Date(_.created_at).toLocaleDateString()," s ",new Date(_.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(sr,{variant:_.arquivo_assinado?"default":"secondary",className:_.arquivo_assinado?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:_.arquivo_assinado?"Assinada":"No assinada"}),_.validade&&n.jsxs(sr,{variant:"outline",className:"text-xs",children:["Vlida at ",_.validade]})]})]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[n.jsx(Kr,{className:"h-4 w-4"}),"Mdico"]}),n.jsx("p",{className:"font-medium",children:W})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[n.jsx(In,{className:"h-4 w-4"}),"Paciente"]}),n.jsx("p",{className:"font-medium",children:te})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Medicamentos"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:_.medicamentos})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Posologia"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:_.posologia})})]}),_.observacoes&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Observaes"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:_.observacoes})})]}),Array.isArray(_.itens)&&_.itens.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Itens estruturados"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("ul",{className:"space-y-2",children:_.itens.map(Y=>{var M;return n.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[n.jsx("div",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:((M=Y.medicamento)==null?void 0:M.nome)||"Medicamento"}),Y.dose&&n.jsxs("span",{className:"text-muted-foreground",children:[" - ",Y.dose]}),Y.frequencia&&n.jsxs("span",{className:"text-muted-foreground",children:[" | ",Y.frequencia]}),Y.duracao&&n.jsxs("span",{className:"text-muted-foreground",children:[" | ",Y.duracao]}),Y.observacoes&&n.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:Y.observacoes})]})]},Y.id)})})})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[_.arquivo_assinado?n.jsxs(n.Fragment,{children:[n.jsxs(ye,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(_.arquivo_assinado,"_blank"),children:[n.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Visualizar PDF"]}),n.jsxs(ye,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>R(_.arquivo_assinado,_),children:[n.jsx(Al,{className:"h-4 w-4 mr-2"}),"Baixar PDF Assinado"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs(ye,{variant:"outline",size:"sm",className:"group border-amber-500/60 bg-gradient-to-b from-amber-500/10 to-amber-600/10 text-amber-700 hover:from-amber-500/20 hover:to-amber-600/20 hover:text-amber-800 dark:text-amber-300 dark:hover:text-amber-100",onClick:()=>ue(_),children:[n.jsx(Al,{className:"h-4 w-4 mr-2"}),"Baixar PDF (Gerado)"]}),n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[n.jsx(od,{className:"h-3 w-3"}),"Receita no assinada digitalmente"]})]}),n.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>{var M,Z,oe;const Y=((M=_==null?void 0:_.medico)==null?void 0:M.id)||((oe=(Z=_==null?void 0:_.consulta)==null?void 0:Z.medico)==null?void 0:oe.id)||(_==null?void 0:_.medico_id)||"";m({medico:String(Y||""),mensagem:"",receita:(_==null?void 0:_.id)||null,renovacao:!1}),f(!0)},children:[n.jsx(ld,{className:"h-4 w-4 mr-2"}),"Solicitar Receita"]}),n.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>{var Z,oe,fe;const Y=((Z=_==null?void 0:_.medico)==null?void 0:Z.id)||((fe=(oe=_==null?void 0:_.consulta)==null?void 0:oe.medico)==null?void 0:fe.id)||(_==null?void 0:_.medico_id)||"",M=`Solicito renovao da receita #${(_==null?void 0:_.id)??""}`.trim();m({medico:String(Y||""),mensagem:M,receita:(_==null?void 0:_.id)||null,renovacao:!0}),f(!0)},children:[n.jsx(Ny,{className:"h-4 w-4 mr-2"}),"Pedir Renovao"]})]})]})]},_.id)})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Wh,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:j==="ativas"?"Voc no possui receitas ativas no momento.":j==="historico"?"Voc no possui receitas no histrico.":"Voc ainda no possui receitas mdicas."})]})})]})})}),d?n.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-card text-card-foreground border rounded-lg p-6 w-full max-w-lg shadow-lg",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:h.renovacao?"Pedir Renovao de Receita":"Solicitar Receita"}),n.jsxs("form",{onSubmit:G,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(De,{className:"mb-1 block",children:"Mdico"}),n.jsxs(Gr,{value:h.medico,onValueChange:_=>m(I=>({...I,medico:_})),children:[n.jsx(Vr,{className:"w-full",children:n.jsx(Yr,{placeholder:r?"Carregando...":T.length?"Selecione...":"Nenhum mdico disponvel"})}),n.jsx(zr,{children:T.length===0?n.jsx(L_,{children:"Nenhum mdico disponvel"}):T.map(_=>{const I=(_!=null&&_.user?`${_.user.first_name||""} ${_.user.last_name||""}`.trim():_==null?void 0:_.nome)||"Mdico";return n.jsxs(st,{value:String(_.id),children:[I," ",_.crm?`- CRM ${_.crm}`:""]},String(_.id))})})]})]}),n.jsxs("div",{children:[n.jsx(De,{className:"mb-1 block",children:"Mensagem (opcional)"}),n.jsx(oa,{rows:3,placeholder:h.renovacao?"Explique sua necessidade de renovao (uso contnuo, desabastecimento, etc.)":"Descreva sua necessidade (ex: nova receita de medicamento)",value:h.mensagem,onChange:_=>m(I=>({...I,mensagem:_.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>{f(!1),m({medico:"",mensagem:"",receita:null,renovacao:!1})},children:"Cancelar"}),n.jsx(ye,{type:"submit",disabled:p,children:p?"Enviando...":h.renovacao?"Enviar pedido de renovao":"Enviar solicitao"})]})]})]})}):null]})}function g3(e,r=[]){const[t,a]=y.useState(null),[s,i]=y.useState(!0),[o,l]=y.useState(null);return y.useEffect(()=>{let d=!0;return(async()=>{var h,m;try{i(!0),l(null);const p=await e();d&&a(p)}catch(p){d&&l(((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.message)||"Erro ao carregar dados")}finally{d&&i(!1)}})(),()=>{d=!1}},r),{data:t,loading:s,error:o,refetch:async()=>{var d,f;try{i(!0),l(null);const h=await e();a(h)}catch(h){l(((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.message)||"Erro ao carregar dados")}finally{i(!1)}}}}function La(e){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},La(e)}var ml=Uint8Array,fo=Uint16Array,hb=Int32Array,mb=new ml([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pb=new ml([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),PN=new ml([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x3=function(e,r){for(var t=new fo(31),a=0;a<31;++a)t[a]=r+=1<<e[a-1];for(var s=new hb(t[30]),a=1;a<30;++a)for(var i=t[a];i<t[a+1];++i)s[i]=i-t[a]<<5|a;return{b:t,r:s}},v3=x3(mb,2),F9=v3.b,E1=v3.r;F9[28]=258,E1[258]=28;var k9=x3(pb,0),QN=k9.r,_1=new fo(32768);for(var nn=0;nn<32768;++nn){var HA=(nn&43690)>>1|(nn&21845)<<1;HA=(HA&52428)>>2|(HA&13107)<<2,HA=(HA&61680)>>4|(HA&3855)<<4,_1[nn]=((HA&65280)>>8|(HA&255)<<8)>>1}var Gh=(function(e,r,t){for(var a=e.length,s=0,i=new fo(r);s<a;++s)e[s]&&++i[e[s]-1];var o=new fo(r);for(s=1;s<r;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(t){l=new fo(1<<r);var A=15-r;for(s=0;s<a;++s)if(e[s])for(var d=s<<4|e[s],f=r-e[s],h=o[e[s]-1]++<<f,m=h|(1<<f)-1;h<=m;++h)l[_1[h]>>A]=d}else for(l=new fo(a),s=0;s<a;++s)e[s]&&(l[s]=_1[o[e[s]-1]++]>>15-e[s]);return l}),vu=new ml(288);for(var nn=0;nn<144;++nn)vu[nn]=8;for(var nn=144;nn<256;++nn)vu[nn]=9;for(var nn=256;nn<280;++nn)vu[nn]=7;for(var nn=280;nn<288;++nn)vu[nn]=8;var f0=new ml(32);for(var nn=0;nn<32;++nn)f0[nn]=5;var D9=Gh(vu,9,0),U9=Gh(f0,5,0),w3=function(e){return(e+7)/8|0},L9=function(e,r,t){return(t==null||t>e.length)&&(t=e.length),new ml(e.subarray(r,t))},Hc=function(e,r,t){t<<=r&7;var a=r/8|0;e[a]|=t,e[a+1]|=t>>8},kh=function(e,r,t){t<<=r&7;var a=r/8|0;e[a]|=t,e[a+1]|=t>>8,e[a+2]|=t>>16},Jv=function(e,r){for(var t=[],a=0;a<e.length;++a)e[a]&&t.push({s:a,f:e[a]});var s=t.length,i=t.slice();if(!s)return{t:b3,l:0};if(s==1){var o=new ml(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(T,D){return T.f-D.f}),t.push({s:-1,f:25001});var l=t[0],A=t[1],d=0,f=1,h=2;for(t[0]={s:-1,f:l.f+A.f,l,r:A};f!=s-1;)l=t[t[d].f<t[h].f?d++:h++],A=t[d!=f&&t[d].f<t[h].f?d++:h++],t[f++]={s:-1,f:l.f+A.f,l,r:A};for(var m=i[0].s,a=1;a<s;++a)i[a].s>m&&(m=i[a].s);var p=new fo(m+1),v=F1(t[f-1],p,0);if(v>r){var a=0,x=0,w=v-r,j=1<<w;for(i.sort(function(D,k){return p[k.s]-p[D.s]||D.f-k.f});a<s;++a){var N=i[a].s;if(p[N]>r)x+=j-(1<<v-p[N]),p[N]=r;else break}for(x>>=w;x>0;){var S=i[a].s;p[S]<r?x-=1<<r-p[S]++-1:++a}for(;a>=0&&x;--a){var F=i[a].s;p[F]==r&&(--p[F],++x)}v=r}return{t:new ml(p),l:v}},F1=function(e,r,t){return e.s==-1?Math.max(F1(e.l,r,t+1),F1(e.r,r,t+1)):r[e.s]=t},RN=function(e){for(var r=e.length;r&&!e[--r];);for(var t=new fo(++r),a=0,s=e[0],i=1,o=function(A){t[a++]=A},l=1;l<=r;++l)if(e[l]==s&&l!=r)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:t.subarray(0,a),n:r}},Dh=function(e,r){for(var t=0,a=0;a<r.length;++a)t+=e[a]*r[a];return t},y3=function(e,r,t){var a=t.length,s=w3(r+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=t[i];return(s+4+a)*8},TN=function(e,r,t,a,s,i,o,l,A,d,f){Hc(r,f++,t),++s[256];for(var h=Jv(s,15),m=h.t,p=h.l,v=Jv(i,15),x=v.t,w=v.l,j=RN(m),N=j.c,S=j.n,F=RN(x),T=F.c,D=F.n,k=new fo(19),P=0;P<N.length;++P)++k[N[P]&31];for(var P=0;P<T.length;++P)++k[T[P]&31];for(var E=Jv(k,7),V=E.t,Q=E.l,$=19;$>4&&!V[PN[$-1]];--$);var G=d+5<<3,R=Dh(s,vu)+Dh(i,f0)+o,ee=Dh(s,m)+Dh(i,x)+o+14+3*$+Dh(k,V)+2*k[16]+3*k[17]+7*k[18];if(A>=0&&G<=R&&G<=ee)return y3(r,f,e.subarray(A,A+d));var K,z,X,ne;if(Hc(r,f,1+(ee<R)),f+=2,ee<R){K=Gh(m,p,0),z=m,X=Gh(x,w,0),ne=x;var ue=Gh(V,Q,0);Hc(r,f,S-257),Hc(r,f+5,D-1),Hc(r,f+10,$-4),f+=14;for(var P=0;P<$;++P)Hc(r,f+3*P,V[PN[P]]);f+=3*$;for(var _=[N,T],I=0;I<2;++I)for(var W=_[I],P=0;P<W.length;++P){var te=W[P]&31;Hc(r,f,ue[te]),f+=V[te],te>15&&(Hc(r,f,W[P]>>5&127),f+=W[P]>>12)}}else K=D9,z=vu,X=U9,ne=f0;for(var P=0;P<l;++P){var J=a[P];if(J>255){var te=J>>18&31;kh(r,f,K[te+257]),f+=z[te+257],te>7&&(Hc(r,f,J>>23&31),f+=mb[te]);var Y=J&31;kh(r,f,X[Y]),f+=ne[Y],Y>3&&(kh(r,f,J>>5&8191),f+=pb[Y])}else kh(r,f,K[J]),f+=z[J]}return kh(r,f,K[256]),f+z[256]},I9=new hb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),b3=new ml(0),P9=function(e,r,t,a,s,i){var o=i.z||e.length,l=new ml(a+o+5*(1+Math.ceil(o/7e3))+s),A=l.subarray(a,l.length-s),d=i.l,f=(i.r||0)&7;if(r){f&&(A[0]=i.r>>3);for(var h=I9[r-1],m=h>>13,p=h&8191,v=(1<<t)-1,x=i.p||new fo(32768),w=i.h||new fo(v+1),j=Math.ceil(t/3),N=2*j,S=function(xe){return(e[xe]^e[xe+1]<<j^e[xe+2]<<N)&v},F=new hb(25e3),T=new fo(288),D=new fo(32),k=0,P=0,E=i.i||0,V=0,Q=i.w||0,$=0;E+2<o;++E){var G=S(E),R=E&32767,ee=w[G];if(x[R]=ee,w[G]=R,Q<=E){var K=o-E;if((k>7e3||V>24576)&&(K>423||!d)){f=TN(e,A,0,F,T,D,P,V,$,E-$,f),V=k=P=0,$=E;for(var z=0;z<286;++z)T[z]=0;for(var z=0;z<30;++z)D[z]=0}var X=2,ne=0,ue=p,_=R-ee&32767;if(K>2&&G==S(E-_))for(var I=Math.min(m,K)-1,W=Math.min(32767,E),te=Math.min(258,K);_<=W&&--ue&&R!=ee;){if(e[E+X]==e[E+X-_]){for(var J=0;J<te&&e[E+J]==e[E+J-_];++J);if(J>X){if(X=J,ne=_,J>I)break;for(var Y=Math.min(_,J-2),M=0,z=0;z<Y;++z){var Z=E-_+z&32767,oe=x[Z],fe=Z-oe&32767;fe>M&&(M=fe,ee=Z)}}}R=ee,ee=x[R],_+=R-ee&32767}if(ne){F[V++]=268435456|E1[X]<<18|QN[ne];var ve=E1[X]&31,Ee=QN[ne]&31;P+=mb[ve]+pb[Ee],++T[257+ve],++D[Ee],Q=E+X,++k}else F[V++]=e[E],++T[e[E]]}}for(E=Math.max(E,Q);E<o;++E)F[V++]=e[E],++T[e[E]];f=TN(e,A,d,F,T,D,P,V,$,E-$,f),d||(i.r=f&7|A[f/8|0]<<3,f-=7,i.h=w,i.p=x,i.i=E,i.w=Q)}else{for(var E=i.w||0;E<o+d;E+=65535){var _e=E+65535;_e>=o&&(A[f/8|0]=d,_e=o),f=y3(A,f+1,e.subarray(E,_e))}i.i=o}return L9(l,0,a+w3(f)+s)},j3=function(){var e=1,r=0;return{p:function(t){for(var a=e,s=r,i=t.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=a+=t[o];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,r=s},d:function(){return e%=65521,r%=65521,(e&255)<<24|(e&65280)<<8|(r&255)<<8|r>>8}}},Q9=function(e,r,t,a,s){if(!s&&(s={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),o=new ml(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return P9(e,r.level==null?6:r.level,r.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,t,a,s)},N3=function(e,r,t){for(;t;++r)e[r]=t,t>>>=8},R9=function(e,r){var t=r.level,a=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=a<<6|(r.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,r.dictionary){var s=j3();s.p(r.dictionary),N3(e,2,s.d())}};function k1(e,r){r||(r={});var t=j3();t.p(e);var a=Q9(e,r,r.dictionary?6:2,4);return R9(a,r),N3(a,a.length-4,t.d()),a}var T9=typeof TextDecoder<"u"&&new TextDecoder,M9=0;try{T9.decode(b3,{stream:!0}),M9=1}catch{}function O9(e){if(Array.isArray(e))return e}function H9(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a,s,i,o,l=[],A=!0,d=!1;try{if(i=(t=t.call(e)).next,r!==0)for(;!(A=(a=i.call(t)).done)&&(l.push(a.value),l.length!==r);A=!0);}catch(f){d=!0,s=f}finally{try{if(!A&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function MN(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=Array(r);t<r;t++)a[t]=e[t];return a}function $9(e,r){if(e){if(typeof e=="string")return MN(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?MN(e,r):void 0}}function K9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ON(e,r){return O9(e)||H9(e,r)||$9(e,r)||K9()}function HN(e,r="utf8"){return new TextDecoder(r).decode(e)}const V9=new TextEncoder;function z9(e){return V9.encode(e)}const q9=1024*8,W9=(()=>{const e=new Uint8Array(4),r=new Uint32Array(e.buffer);return!((r[0]=1)&e[0])})(),Zv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class gb{constructor(r=q9,t={}){ft(this,"buffer");ft(this,"byteLength");ft(this,"byteOffset");ft(this,"length");ft(this,"offset");ft(this,"lastWrittenByte");ft(this,"littleEndian");ft(this,"_data");ft(this,"_mark");ft(this,"_marks");let a=!1;typeof r=="number"?r=new ArrayBuffer(r):(a=!0,this.lastWrittenByte=r.byteLength);const s=t.offset?t.offset>>>0:0,i=r.byteLength-s;let o=s;(ArrayBuffer.isView(r)||r instanceof gb)&&(r.byteLength!==r.buffer.byteLength&&(o=r.byteOffset+s),r=r.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=r,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(r=1){return this.offset+r<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(r=1){return this.offset+=r,this}back(r=1){return this.offset-=r,this}seek(r){return this.offset=r,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const r=this._marks.pop();if(r===void 0)throw new Error("Mark stack empty");return this.seek(r),this}rewind(){return this.offset=0,this}ensureAvailable(r=1){if(!this.available(r)){const a=(this.offset+r)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(r=1){return this.readArray(r,"uint8")}readArray(r,t){const a=Zv[t].BYTES_PER_ELEMENT*r,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+a);if(this.littleEndian===W9&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+a));l.reverse();const A=new Zv[t](l.buffer);return this.offset+=a,A.reverse(),A}const o=new Zv[t](i);return this.offset+=a,o}readInt16(){const r=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,r}readUint16(){const r=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,r}readInt32(){const r=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,r}readUint32(){const r=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat32(){const r=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat64(){const r=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,r}readBigInt64(){const r=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,r}readBigUint64(){const r=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,r}readChar(){return String.fromCharCode(this.readInt8())}readChars(r=1){let t="";for(let a=0;a<r;a++)t+=this.readChar();return t}readUtf8(r=1){return HN(this.readBytes(r))}decodeText(r=1,t="utf8"){return HN(this.readBytes(r),t)}writeBoolean(r){return this.writeUint8(r?255:0),this}writeInt8(r){return this.ensureAvailable(1),this._data.setInt8(this.offset++,r),this._updateLastWrittenByte(),this}writeUint8(r){return this.ensureAvailable(1),this._data.setUint8(this.offset++,r),this._updateLastWrittenByte(),this}writeByte(r){return this.writeUint8(r)}writeBytes(r){this.ensureAvailable(r.length);for(let t=0;t<r.length;t++)this._data.setUint8(this.offset++,r[t]);return this._updateLastWrittenByte(),this}writeInt16(r){return this.ensureAvailable(2),this._data.setInt16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(r){return this.ensureAvailable(2),this._data.setUint16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(r){return this.ensureAvailable(4),this._data.setInt32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(r){return this.ensureAvailable(4),this._data.setUint32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(r){return this.ensureAvailable(4),this._data.setFloat32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(r){return this.ensureAvailable(8),this._data.setFloat64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(r){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(r){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(r){return this.writeUint8(r.charCodeAt(0))}writeChars(r){for(let t=0;t<r.length;t++)this.writeUint8(r.charCodeAt(t));return this}writeUtf8(r){return this.writeBytes(z9(r))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Zf(e){let r=e.length;for(;--r>=0;)e[r]=0}const G9=3,Y9=258,B3=29,X9=256,J9=X9+1+B3,C3=30,Z9=512,e$=new Array((J9+2)*2);Zf(e$);const t$=new Array(C3*2);Zf(t$);const r$=new Array(Z9);Zf(r$);const a$=new Array(Y9-G9+1);Zf(a$);const n$=new Array(B3);Zf(n$);const s$=new Array(C3);Zf(s$);const i$=(e,r,t,a)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do s=s+r[a++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var D1=i$;const o$=()=>{let e,r=[];for(var t=0;t<256;t++){e=t;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r},l$=new Uint32Array(o$()),c$=(e,r,t,a)=>{const s=l$,i=a+t;e^=-1;for(let o=a;o<i;o++)e=e>>>8^s[(e^r[o])&255];return e^-1};var Ml=c$,U1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},S3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const A$=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var d$=function(e){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const t=r.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const a in t)A$(t,a)&&(e[a]=t[a])}}return e},u$=e=>{let r=0;for(let a=0,s=e.length;a<s;a++)r+=e[a].length;const t=new Uint8Array(r);for(let a=0,s=0,i=e.length;a<i;a++){let o=e[a];t.set(o,s),s+=o.length}return t},E3={assign:d$,flattenChunks:u$};let _3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_3=!1}const hm=new Uint8Array(256);for(let e=0;e<256;e++)hm[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;hm[254]=hm[254]=1;var f$=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let r,t,a,s,i,o=e.length,l=0;for(s=0;s<o;s++)t=e.charCodeAt(s),(t&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),s++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(l),i=0,s=0;i<l;s++)t=e.charCodeAt(s),(t&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),s++)),t<128?r[i++]=t:t<2048?(r[i++]=192|t>>>6,r[i++]=128|t&63):t<65536?(r[i++]=224|t>>>12,r[i++]=128|t>>>6&63,r[i++]=128|t&63):(r[i++]=240|t>>>18,r[i++]=128|t>>>12&63,r[i++]=128|t>>>6&63,r[i++]=128|t&63);return r};const h$=(e,r)=>{if(r<65534&&e.subarray&&_3)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let t="";for(let a=0;a<r;a++)t+=String.fromCharCode(e[a]);return t};var m$=(e,r)=>{const t=r||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,r));let a,s;const i=new Array(t*2);for(s=0,a=0;a<t;){let o=e[a++];if(o<128){i[s++]=o;continue}let l=hm[o];if(l>4){i[s++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<t;)o=o<<6|e[a++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return h$(i,s)},p$=(e,r)=>{r=r||e.length,r>e.length&&(r=e.length);let t=r-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+hm[e[t]]>r?t:r},L1={string2buf:f$,buf2string:m$,utf8border:p$};function g$(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var x$=g$;const Qp=16209,v$=16191;var w$=function(r,t){let a,s,i,o,l,A,d,f,h,m,p,v,x,w,j,N,S,F,T,D,k,P,E,V;const Q=r.state;a=r.next_in,E=r.input,s=a+(r.avail_in-5),i=r.next_out,V=r.output,o=i-(t-r.avail_out),l=i+(r.avail_out-257),A=Q.dmax,d=Q.wsize,f=Q.whave,h=Q.wnext,m=Q.window,p=Q.hold,v=Q.bits,x=Q.lencode,w=Q.distcode,j=(1<<Q.lenbits)-1,N=(1<<Q.distbits)-1;e:do{v<15&&(p+=E[a++]<<v,v+=8,p+=E[a++]<<v,v+=8),S=x[p&j];t:for(;;){if(F=S>>>24,p>>>=F,v-=F,F=S>>>16&255,F===0)V[i++]=S&65535;else if(F&16){T=S&65535,F&=15,F&&(v<F&&(p+=E[a++]<<v,v+=8),T+=p&(1<<F)-1,p>>>=F,v-=F),v<15&&(p+=E[a++]<<v,v+=8,p+=E[a++]<<v,v+=8),S=w[p&N];r:for(;;){if(F=S>>>24,p>>>=F,v-=F,F=S>>>16&255,F&16){if(D=S&65535,F&=15,v<F&&(p+=E[a++]<<v,v+=8,v<F&&(p+=E[a++]<<v,v+=8)),D+=p&(1<<F)-1,D>A){r.msg="invalid distance too far back",Q.mode=Qp;break e}if(p>>>=F,v-=F,F=i-o,D>F){if(F=D-F,F>f&&Q.sane){r.msg="invalid distance too far back",Q.mode=Qp;break e}if(k=0,P=m,h===0){if(k+=d-F,F<T){T-=F;do V[i++]=m[k++];while(--F);k=i-D,P=V}}else if(h<F){if(k+=d+h-F,F-=h,F<T){T-=F;do V[i++]=m[k++];while(--F);if(k=0,h<T){F=h,T-=F;do V[i++]=m[k++];while(--F);k=i-D,P=V}}}else if(k+=h-F,F<T){T-=F;do V[i++]=m[k++];while(--F);k=i-D,P=V}for(;T>2;)V[i++]=P[k++],V[i++]=P[k++],V[i++]=P[k++],T-=3;T&&(V[i++]=P[k++],T>1&&(V[i++]=P[k++]))}else{k=i-D;do V[i++]=V[k++],V[i++]=V[k++],V[i++]=V[k++],T-=3;while(T>2);T&&(V[i++]=V[k++],T>1&&(V[i++]=V[k++]))}}else if((F&64)===0){S=w[(S&65535)+(p&(1<<F)-1)];continue r}else{r.msg="invalid distance code",Q.mode=Qp;break e}break}}else if((F&64)===0){S=x[(S&65535)+(p&(1<<F)-1)];continue t}else if(F&32){Q.mode=v$;break e}else{r.msg="invalid literal/length code",Q.mode=Qp;break e}break}}while(a<s&&i<l);T=v>>3,a-=T,v-=T<<3,p&=(1<<v)-1,r.next_in=a,r.next_out=i,r.avail_in=a<s?5+(s-a):5-(a-s),r.avail_out=i<l?257+(l-i):257-(i-l),Q.hold=p,Q.bits=v};const lf=15,$N=852,KN=592,VN=0,ew=1,zN=2,y$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),b$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),j$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),N$=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),B$=(e,r,t,a,s,i,o,l)=>{const A=l.bits;let d=0,f=0,h=0,m=0,p=0,v=0,x=0,w=0,j=0,N=0,S,F,T,D,k,P=null,E;const V=new Uint16Array(lf+1),Q=new Uint16Array(lf+1);let $=null,G,R,ee;for(d=0;d<=lf;d++)V[d]=0;for(f=0;f<a;f++)V[r[t+f]]++;for(p=A,m=lf;m>=1&&V[m]===0;m--);if(p>m&&(p=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&V[h]===0;h++);for(p<h&&(p=h),w=1,d=1;d<=lf;d++)if(w<<=1,w-=V[d],w<0)return-1;if(w>0&&(e===VN||m!==1))return-1;for(Q[1]=0,d=1;d<lf;d++)Q[d+1]=Q[d]+V[d];for(f=0;f<a;f++)r[t+f]!==0&&(o[Q[r[t+f]]++]=f);if(e===VN?(P=$=o,E=20):e===ew?(P=y$,$=b$,E=257):(P=j$,$=N$,E=0),N=0,f=0,d=h,k=i,v=p,x=0,T=-1,j=1<<p,D=j-1,e===ew&&j>$N||e===zN&&j>KN)return 1;for(;;){G=d-x,o[f]+1<E?(R=0,ee=o[f]):o[f]>=E?(R=$[o[f]-E],ee=P[o[f]-E]):(R=96,ee=0),S=1<<d-x,F=1<<v,h=F;do F-=S,s[k+(N>>x)+F]=G<<24|R<<16|ee|0;while(F!==0);for(S=1<<d-1;N&S;)S>>=1;if(S!==0?(N&=S-1,N+=S):N=0,f++,--V[d]===0){if(d===m)break;d=r[t+o[f]]}if(d>p&&(N&D)!==T){for(x===0&&(x=p),k+=h,v=d-x,w=1<<v;v+x<m&&(w-=V[v+x],!(w<=0));)v++,w<<=1;if(j+=1<<v,e===ew&&j>$N||e===zN&&j>KN)return 1;T=N&D,s[T]=p<<24|v<<16|k-i|0}}return N!==0&&(s[k+N]=d-x<<24|64<<16|0),l.bits=p,0};var Yh=B$;const C$=0,F3=1,k3=2,{Z_FINISH:qN,Z_BLOCK:S$,Z_TREES:Rp,Z_OK:wu,Z_STREAM_END:E$,Z_NEED_DICT:_$,Z_STREAM_ERROR:Ro,Z_DATA_ERROR:D3,Z_MEM_ERROR:U3,Z_BUF_ERROR:F$,Z_DEFLATED:WN}=S3,mx=16180,GN=16181,YN=16182,XN=16183,JN=16184,ZN=16185,eB=16186,tB=16187,rB=16188,aB=16189,h0=16190,$c=16191,tw=16192,nB=16193,rw=16194,sB=16195,iB=16196,oB=16197,lB=16198,Tp=16199,Mp=16200,cB=16201,AB=16202,dB=16203,uB=16204,fB=16205,aw=16206,hB=16207,mB=16208,hn=16209,L3=16210,I3=16211,k$=852,D$=592,U$=15,L$=U$,pB=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function I$(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Cu=e=>{if(!e)return 1;const r=e.state;return!r||r.strm!==e||r.mode<mx||r.mode>I3?1:0},P3=e=>{if(Cu(e))return Ro;const r=e.state;return e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=mx,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(k$),r.distcode=r.distdyn=new Int32Array(D$),r.sane=1,r.back=-1,wu},Q3=e=>{if(Cu(e))return Ro;const r=e.state;return r.wsize=0,r.whave=0,r.wnext=0,P3(e)},R3=(e,r)=>{let t;if(Cu(e))return Ro;const a=e.state;return r<0?(t=0,r=-r):(t=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?Ro:(a.window!==null&&a.wbits!==r&&(a.window=null),a.wrap=t,a.wbits=r,Q3(e))},T3=(e,r)=>{if(!e)return Ro;const t=new I$;e.state=t,t.strm=e,t.window=null,t.mode=mx;const a=R3(e,r);return a!==wu&&(e.state=null),a},P$=e=>T3(e,L$);let gB=!0,nw,sw;const Q$=e=>{if(gB){nw=new Int32Array(512),sw=new Int32Array(32);let r=0;for(;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(Yh(F3,e.lens,0,288,nw,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;Yh(k3,e.lens,0,32,sw,0,e.work,{bits:5}),gB=!1}e.lencode=nw,e.lenbits=9,e.distcode=sw,e.distbits=5},M3=(e,r,t,a)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(r.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>a&&(s=a),i.window.set(r.subarray(t-a,t-a+s),i.wnext),a-=s,a?(i.window.set(r.subarray(t-a,t),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},R$=(e,r)=>{let t,a,s,i,o,l,A,d,f,h,m,p,v,x,w=0,j,N,S,F,T,D,k,P;const E=new Uint8Array(4);let V,Q;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Cu(e)||!e.output||!e.input&&e.avail_in!==0)return Ro;t=e.state,t.mode===$c&&(t.mode=tw),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=t.hold,f=t.bits,h=l,m=A,P=wu;e:for(;;)switch(t.mode){case mx:if(t.wrap===0){t.mode=tw;break}for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,E[0]=d&255,E[1]=d>>>8&255,t.check=Ml(t.check,E,2,0),d=0,f=0,t.mode=GN;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",t.mode=hn;break}if((d&15)!==WN){e.msg="unknown compression method",t.mode=hn;break}if(d>>>=4,f-=4,k=(d&15)+8,t.wbits===0&&(t.wbits=k),k>15||k>t.wbits){e.msg="invalid window size",t.mode=hn;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=d&512?aB:$c,d=0,f=0;break;case GN:for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.flags=d,(t.flags&255)!==WN){e.msg="unknown compression method",t.mode=hn;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=hn;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,t.check=Ml(t.check,E,2,0)),d=0,f=0,t.mode=YN;case YN:for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,E[2]=d>>>16&255,E[3]=d>>>24&255,t.check=Ml(t.check,E,4,0)),d=0,f=0,t.mode=XN;case XN:for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,t.check=Ml(t.check,E,2,0)),d=0,f=0,t.mode=JN;case JN:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,t.check=Ml(t.check,E,2,0)),d=0,f=0}else t.head&&(t.head.extra=null);t.mode=ZN;case ZN:if(t.flags&1024&&(p=t.length,p>l&&(p=l),p&&(t.head&&(k=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(a.subarray(i,i+p),k)),t.flags&512&&t.wrap&4&&(t.check=Ml(t.check,a,p,i)),l-=p,i+=p,t.length-=p),t.length))break e;t.length=0,t.mode=eB;case eB:if(t.flags&2048){if(l===0)break e;p=0;do k=a[i+p++],t.head&&k&&t.length<65536&&(t.head.name+=String.fromCharCode(k));while(k&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Ml(t.check,a,p,i)),l-=p,i+=p,k)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=tB;case tB:if(t.flags&4096){if(l===0)break e;p=0;do k=a[i+p++],t.head&&k&&t.length<65536&&(t.head.comment+=String.fromCharCode(k));while(k&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Ml(t.check,a,p,i)),l-=p,i+=p,k)break e}else t.head&&(t.head.comment=null);t.mode=rB;case rB:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&4&&d!==(t.check&65535)){e.msg="header crc mismatch",t.mode=hn;break}d=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=$c;break;case aB:for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}e.adler=t.check=pB(d),d=0,f=0,t.mode=h0;case h0:if(t.havedict===0)return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,_$;e.adler=t.check=1,t.mode=$c;case $c:if(r===S$||r===Rp)break e;case tw:if(t.last){d>>>=f&7,f-=f&7,t.mode=aw;break}for(;f<3;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}switch(t.last=d&1,d>>>=1,f-=1,d&3){case 0:t.mode=nB;break;case 1:if(Q$(t),t.mode=Tp,r===Rp){d>>>=2,f-=2;break e}break;case 2:t.mode=iB;break;case 3:e.msg="invalid block type",t.mode=hn}d>>>=2,f-=2;break;case nB:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",t.mode=hn;break}if(t.length=d&65535,d=0,f=0,t.mode=rw,r===Rp)break e;case rw:t.mode=sB;case sB:if(p=t.length,p){if(p>l&&(p=l),p>A&&(p=A),p===0)break e;s.set(a.subarray(i,i+p),o),l-=p,i+=p,A-=p,o+=p,t.length-=p;break}t.mode=$c;break;case iB:for(;f<14;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.nlen=(d&31)+257,d>>>=5,f-=5,t.ndist=(d&31)+1,d>>>=5,f-=5,t.ncode=(d&15)+4,d>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=hn;break}t.have=0,t.mode=oB;case oB:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.lens[$[t.have++]]=d&7,d>>>=3,f-=3}for(;t.have<19;)t.lens[$[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,V={bits:t.lenbits},P=Yh(C$,t.lens,0,19,t.lencode,0,t.work,V),t.lenbits=V.bits,P){e.msg="invalid code lengths set",t.mode=hn;break}t.have=0,t.mode=lB;case lB:for(;t.have<t.nlen+t.ndist;){for(;w=t.lencode[d&(1<<t.lenbits)-1],j=w>>>24,N=w>>>16&255,S=w&65535,!(j<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(S<16)d>>>=j,f-=j,t.lens[t.have++]=S;else{if(S===16){for(Q=j+2;f<Q;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(d>>>=j,f-=j,t.have===0){e.msg="invalid bit length repeat",t.mode=hn;break}k=t.lens[t.have-1],p=3+(d&3),d>>>=2,f-=2}else if(S===17){for(Q=j+3;f<Q;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=j,f-=j,k=0,p=3+(d&7),d>>>=3,f-=3}else{for(Q=j+7;f<Q;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=j,f-=j,k=0,p=11+(d&127),d>>>=7,f-=7}if(t.have+p>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=hn;break}for(;p--;)t.lens[t.have++]=k}}if(t.mode===hn)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=hn;break}if(t.lenbits=9,V={bits:t.lenbits},P=Yh(F3,t.lens,0,t.nlen,t.lencode,0,t.work,V),t.lenbits=V.bits,P){e.msg="invalid literal/lengths set",t.mode=hn;break}if(t.distbits=6,t.distcode=t.distdyn,V={bits:t.distbits},P=Yh(k3,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,V),t.distbits=V.bits,P){e.msg="invalid distances set",t.mode=hn;break}if(t.mode=Tp,r===Rp)break e;case Tp:t.mode=Mp;case Mp:if(l>=6&&A>=258){e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,w$(e,m),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=t.hold,f=t.bits,t.mode===$c&&(t.back=-1);break}for(t.back=0;w=t.lencode[d&(1<<t.lenbits)-1],j=w>>>24,N=w>>>16&255,S=w&65535,!(j<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(N&&(N&240)===0){for(F=j,T=N,D=S;w=t.lencode[D+((d&(1<<F+T)-1)>>F)],j=w>>>24,N=w>>>16&255,S=w&65535,!(F+j<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=F,f-=F,t.back+=F}if(d>>>=j,f-=j,t.back+=j,t.length=S,N===0){t.mode=fB;break}if(N&32){t.back=-1,t.mode=$c;break}if(N&64){e.msg="invalid literal/length code",t.mode=hn;break}t.extra=N&15,t.mode=cB;case cB:if(t.extra){for(Q=t.extra;f<Q;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=AB;case AB:for(;w=t.distcode[d&(1<<t.distbits)-1],j=w>>>24,N=w>>>16&255,S=w&65535,!(j<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if((N&240)===0){for(F=j,T=N,D=S;w=t.distcode[D+((d&(1<<F+T)-1)>>F)],j=w>>>24,N=w>>>16&255,S=w&65535,!(F+j<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=F,f-=F,t.back+=F}if(d>>>=j,f-=j,t.back+=j,N&64){e.msg="invalid distance code",t.mode=hn;break}t.offset=S,t.extra=N&15,t.mode=dB;case dB:if(t.extra){for(Q=t.extra;f<Q;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=hn;break}t.mode=uB;case uB:if(A===0)break e;if(p=m-A,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=hn;break}p>t.wnext?(p-=t.wnext,v=t.wsize-p):v=t.wnext-p,p>t.length&&(p=t.length),x=t.window}else x=s,v=o-t.offset,p=t.length;p>A&&(p=A),A-=p,t.length-=p;do s[o++]=x[v++];while(--p);t.length===0&&(t.mode=Mp);break;case fB:if(A===0)break e;s[o++]=t.length,A--,t.mode=Mp;break;case aw:if(t.wrap){for(;f<32;){if(l===0)break e;l--,d|=a[i++]<<f,f+=8}if(m-=A,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?Ml(t.check,s,m,o-m):D1(t.check,s,m,o-m)),m=A,t.wrap&4&&(t.flags?d:pB(d))!==t.check){e.msg="incorrect data check",t.mode=hn;break}d=0,f=0}t.mode=hB;case hB:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&4&&d!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=hn;break}d=0,f=0}t.mode=mB;case mB:P=E$;break e;case hn:P=D3;break e;case L3:return U3;case I3:default:return Ro}return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,(t.wsize||m!==e.avail_out&&t.mode<hn&&(t.mode<aw||r!==qN))&&M3(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?Ml(t.check,s,m,e.next_out-m):D1(t.check,s,m,e.next_out-m)),e.data_type=t.bits+(t.last?64:0)+(t.mode===$c?128:0)+(t.mode===Tp||t.mode===rw?256:0),(h===0&&m===0||r===qN)&&P===wu&&(P=F$),P},T$=e=>{if(Cu(e))return Ro;let r=e.state;return r.window&&(r.window=null),e.state=null,wu},M$=(e,r)=>{if(Cu(e))return Ro;const t=e.state;return(t.wrap&2)===0?Ro:(t.head=r,r.done=!1,wu)},O$=(e,r)=>{const t=r.length;let a,s,i;return Cu(e)||(a=e.state,a.wrap!==0&&a.mode!==h0)?Ro:a.mode===h0&&(s=1,s=D1(s,r,t,0),s!==a.check)?D3:(i=M3(e,r,t,t),i?(a.mode=L3,U3):(a.havedict=1,wu))};var H$=Q3,$$=R3,K$=P3,V$=P$,z$=T3,q$=R$,W$=T$,G$=M$,Y$=O$,X$="pako inflate (from Nodeca project)",zc={inflateReset:H$,inflateReset2:$$,inflateResetKeep:K$,inflateInit:V$,inflateInit2:z$,inflate:q$,inflateEnd:W$,inflateGetHeader:G$,inflateSetDictionary:Y$,inflateInfo:X$};function J$(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Z$=J$;const O3=Object.prototype.toString,{Z_NO_FLUSH:eK,Z_FINISH:tK,Z_OK:mm,Z_STREAM_END:iw,Z_NEED_DICT:ow,Z_STREAM_ERROR:rK,Z_DATA_ERROR:xB,Z_MEM_ERROR:aK}=S3;function Rm(e){this.options=E3.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x$,this.strm.avail_out=0;let t=zc.inflateInit2(this.strm,r.windowBits);if(t!==mm)throw new Error(U1[t]);if(this.header=new Z$,zc.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=L1.string2buf(r.dictionary):O3.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(t=zc.inflateSetDictionary(this.strm,r.dictionary),t!==mm)))throw new Error(U1[t])}Rm.prototype.push=function(e,r){const t=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?tK:eK,O3.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(a),t.next_out=0,t.avail_out=a),i=zc.inflate(t,o),i===ow&&s&&(i=zc.inflateSetDictionary(t,s),i===mm?i=zc.inflate(t,o):i===xB&&(i=ow));t.avail_in>0&&i===iw&&t.state.wrap>0&&e[t.next_in]!==0;)zc.inflateReset(t),i=zc.inflate(t,o);switch(i){case rK:case xB:case ow:case aK:return this.onEnd(i),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||i===iw))if(this.options.to==="string"){let A=L1.utf8border(t.output,t.next_out),d=t.next_out-A,f=L1.buf2string(t.output,A);t.next_out=d,t.avail_out=a-d,d&&t.output.set(t.output.subarray(A,A+d),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===mm&&l===0)){if(i===iw)return i=zc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Rm.prototype.onData=function(e){this.chunks.push(e)};Rm.prototype.onEnd=function(e){e===mm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=E3.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function nK(e,r){const t=new Rm(r);if(t.push(e),t.err)throw t.msg||U1[t.err];return t.result}var sK=Rm,iK=nK,oK={Inflate:sK,inflate:iK};const{Inflate:lK,inflate:cK}=oK;var vB=lK,AK=cK;const H3=[];for(let e=0;e<256;e++){let r=e;for(let t=0;t<8;t++)r&1?r=3988292384^r>>>1:r=r>>>1;H3[e]=r}const wB=4294967295;function dK(e,r,t){let a=e;for(let s=0;s<t;s++)a=H3[(a^r[s])&255]^a>>>8;return a}function uK(e,r){return(dK(wB,e,r)^wB)>>>0}function yB(e,r,t){const a=e.readUint32(),s=uK(new Uint8Array(e.buffer,e.byteOffset+e.offset-r-4,r),r);if(s!==a)throw new Error(`CRC mismatch for chunk ${t}. Expected ${a}, found ${s}`)}function $3(e,r,t){for(let a=0;a<t;a++)r[a]=e[a]}function K3(e,r,t,a){let s=0;for(;s<a;s++)r[s]=e[s];for(;s<t;s++)r[s]=e[s]+r[s-a]&255}function V3(e,r,t,a){let s=0;if(t.length===0)for(;s<a;s++)r[s]=e[s];else for(;s<a;s++)r[s]=e[s]+t[s]&255}function z3(e,r,t,a,s){let i=0;if(t.length===0){for(;i<s;i++)r[i]=e[i];for(;i<a;i++)r[i]=e[i]+(r[i-s]>>1)&255}else{for(;i<s;i++)r[i]=e[i]+(t[i]>>1)&255;for(;i<a;i++)r[i]=e[i]+(r[i-s]+t[i]>>1)&255}}function q3(e,r,t,a,s){let i=0;if(t.length===0){for(;i<s;i++)r[i]=e[i];for(;i<a;i++)r[i]=e[i]+r[i-s]&255}else{for(;i<s;i++)r[i]=e[i]+t[i]&255;for(;i<a;i++)r[i]=e[i]+fK(r[i-s],t[i],t[i-s])&255}}function fK(e,r,t){const a=e+r-t,s=Math.abs(a-e),i=Math.abs(a-r),o=Math.abs(a-t);return s<=i&&s<=o?e:i<=o?r:t}function hK(e,r,t,a,s,i){switch(e){case 0:$3(r,t,s);break;case 1:K3(r,t,s,i);break;case 2:V3(r,t,a,s);break;case 3:z3(r,t,a,s,i);break;case 4:q3(r,t,a,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const mK=new Uint16Array([255]),pK=new Uint8Array(mK.buffer),gK=pK[0]===255;function xK(e){const{data:r,width:t,height:a,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,A=new Uint8Array(a*t*l);let d=0;for(let f=0;f<7;f++){const h=o[f],m=Math.ceil((t-h.x)/h.xStep),p=Math.ceil((a-h.y)/h.yStep);if(m<=0||p<=0)continue;const v=m*l,x=new Uint8Array(v);for(let w=0;w<p;w++){const j=r[d++],N=r.subarray(d,d+v);d+=v;const S=new Uint8Array(v);hK(j,N,S,x,v,l),x.set(S);for(let F=0;F<m;F++){const T=h.x+F*h.xStep,D=h.y+w*h.yStep;if(!(T>=t||D>=a))for(let k=0;k<l;k++)A[(D*t+T)*l+k]=S[F*l+k]}}}if(i===16){const f=new Uint16Array(A.buffer);if(gK)for(let h=0;h<f.length;h++)f[h]=vK(f[h]);return f}else return A}function vK(e){return(e&255)<<8|e>>8&255}const wK=new Uint16Array([255]),yK=new Uint8Array(wK.buffer),bK=yK[0]===255,jK=new Uint8Array(0);function bB(e){const{data:r,width:t,height:a,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*t),A=new Uint8Array(a*l);let d=jK,f=0,h,m;for(let p=0;p<a;p++){switch(h=r.subarray(f+1,f+1+l),m=A.subarray(p*l,(p+1)*l),r[f]){case 0:$3(h,m,l);break;case 1:K3(h,m,l,o);break;case 2:V3(h,m,d,l);break;case 3:z3(h,m,d,l,o);break;case 4:q3(h,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${r[f]}`)}d=m,f+=l+1}if(i===16){const p=new Uint16Array(A.buffer);if(bK)for(let v=0;v<p.length;v++)p[v]=NK(p[v]);return p}else return A}function NK(e){return(e&255)<<8|e>>8&255}const kg=Uint8Array.of(137,80,78,71,13,10,26,10);function jB(e){if(!BK(e.readBytes(kg.length)))throw new Error("wrong PNG signature")}function BK(e){if(e.length<kg.length)return!1;for(let r=0;r<kg.length;r++)if(e[r]!==kg[r])return!1;return!0}const CK="tEXt",SK=0,W3=new TextDecoder("latin1");function EK(e){if(FK(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const _K=/^[\u0000-\u00FF]*$/;function FK(e){if(!_K.test(e))throw new Error("invalid latin1 text")}function kK(e,r,t){const a=G3(r);e[a]=DK(r,t-a.length-1)}function G3(e){for(e.mark();e.readByte()!==SK;);const r=e.offset;e.reset();const t=W3.decode(e.readBytes(r-e.offset-1));return e.skip(1),EK(t),t}function DK(e,r){return W3.decode(e.readBytes(r))}const oo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},lw={UNKNOWN:-1,DEFLATE:0},NB={UNKNOWN:-1,ADAPTIVE:0},cw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Op={NONE:0,BACKGROUND:1,PREVIOUS:2},Aw={SOURCE:0,OVER:1};class UK extends gb{constructor(t,a={}){super(t);ft(this,"_checkCrc");ft(this,"_inflator");ft(this,"_png");ft(this,"_apng");ft(this,"_end");ft(this,"_hasPalette");ft(this,"_palette");ft(this,"_hasTransparency");ft(this,"_transparency");ft(this,"_compressionMethod");ft(this,"_filterMethod");ft(this,"_interlaceMethod");ft(this,"_colorType");ft(this,"_isAnimated");ft(this,"_numberOfFrames");ft(this,"_numberOfPlays");ft(this,"_frames");ft(this,"_writingDataChunks");const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new vB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=lw.UNKNOWN,this._filterMethod=NB.UNKNOWN,this._interlaceMethod=cw.UNKNOWN,this._colorType=oo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(jB(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeChunk(t,a)}return this.decodeImage(),this._png}decodeApng(){for(jB(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(t,a)}return this.decodeApngImage(),this._apng}decodeChunk(t,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case CK:kK(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?yB(this,t+4,a):this.skip(4)}decodeApngChunk(t,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,a),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?yB(this,t+4,a):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=LK(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case oo.GREYSCALE:s=1;break;case oo.TRUECOLOUR:s=3;break;case oo.INDEXED_COLOUR:s=1;break;case oo.GREYSCALE_ALPHA:s=2;break;case oo.TRUECOLOUR_ALPHA:s=4;break;case oo.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==lw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const a=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<a;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const a=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let a=t,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case oo.GREYSCALE:case oo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let a=0;a<t/2;a++)this._transparency[a]=this.readUint16();break}case oo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let a=0;for(;a<t;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case oo.UNKNOWN:case oo.GREYSCALE_ALPHA:case oo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const a=G3(this),s=this.readUint8();if(s!==lw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(t-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:AK(i)}}decodepHYs(){const t=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const a={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=bB({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(s,i,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(t,a,s){switch(t.disposeOp){case Op.NONE:break;case Op.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*t.width+o)*this._png.channels;for(let A=0;A<this._png.channels;A++)s.data[l+A]=0}break;case Op.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,a){const s=1<<this._png.depth,i=(o,l)=>{const A=((o+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,d=(o*a.width+l)*this._png.channels;return{index:A,frameIndex:d}};switch(a.blendOp){case Aw.SOURCE:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:A,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++)t.data[A+f]=a.data[d+f]}break;case Aw.OVER:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:A,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++){const h=a.data[d+this._png.channels-1]/s,m=f%(this._png.channels-1)===0?1:a.data[d+f],p=Math.floor(h*m+(1-h)*t.data[A+f]);t.data[A+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==NB.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===cw.NO_INTERLACE)this._png.data=bB({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===cw.ADAM7)this._png.data=xK({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,a=this._frames.at(-1);a?a.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Op.NONE,blendOp:Aw.SOURCE,data:t}),this._inflator=new vB,this._writingDataChunks=!1}}function LK(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var BB;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(BB||(BB={}));function IK(e,r){return new UK(e,r).decode()}var Er=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function dw(){Er.console&&typeof Er.console.log=="function"&&Er.console.log.apply(Er.console,arguments)}var Ka={log:dw,warn:function(e){Er.console&&(typeof Er.console.warn=="function"?Er.console.warn.apply(Er.console,arguments):dw.call(null,arguments))},error:function(e){Er.console&&(typeof Er.console.error=="function"?Er.console.error.apply(Er.console,arguments):dw(e))}};function uw(e,r,t){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){Xd(a.response,r,t)},a.onerror=function(){Ka.error("could not download file")},a.send()}function CB(e){var r=new XMLHttpRequest;r.open("HEAD",e,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function Hp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}var Xd=Er.saveAs||((typeof window>"u"?"undefined":La(window))!=="object"||window!==Er?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,r,t){var a=Er.URL||Er.webkitURL,s=document.createElement("a");r=r||e.name||"download",s.download=r,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?CB(s.href)?uw(e,r,t):Hp(s,s.target="_blank"):Hp(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){Hp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,t){if(r=r||e.name||"download",typeof e=="string")if(CB(e))uw(e,r,t);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){Hp(a)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:La(i)!=="object"&&(Ka.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,t),r)}:function(e,r,t,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return uw(e,r,t);var s=e.type==="application/octet-stream",i=/constructor/i.test(Er.HTMLElement)||Er.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":La(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=f:location=f,a=null},l.readAsDataURL(e)}else{var A=Er.URL||Er.webkitURL,d=A.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){A.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Y3(e){var r;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<t.length;a++){var s=t[a].re,i=t[a].process,o=s.exec(e);o&&(r=i(o),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),A=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),d.length==1&&(d="0"+d),"#"+l+A+d}}var Dg=Er.atob.bind(Er),SB=Er.btoa.bind(Er);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function fw(e,r){var t=e[0],a=e[1],s=e[2],i=e[3];t=ti(t,a,s,i,r[0],7,-680876936),i=ti(i,t,a,s,r[1],12,-389564586),s=ti(s,i,t,a,r[2],17,606105819),a=ti(a,s,i,t,r[3],22,-1044525330),t=ti(t,a,s,i,r[4],7,-176418897),i=ti(i,t,a,s,r[5],12,1200080426),s=ti(s,i,t,a,r[6],17,-1473231341),a=ti(a,s,i,t,r[7],22,-45705983),t=ti(t,a,s,i,r[8],7,1770035416),i=ti(i,t,a,s,r[9],12,-1958414417),s=ti(s,i,t,a,r[10],17,-42063),a=ti(a,s,i,t,r[11],22,-1990404162),t=ti(t,a,s,i,r[12],7,1804603682),i=ti(i,t,a,s,r[13],12,-40341101),s=ti(s,i,t,a,r[14],17,-1502002290),t=ri(t,a=ti(a,s,i,t,r[15],22,1236535329),s,i,r[1],5,-165796510),i=ri(i,t,a,s,r[6],9,-1069501632),s=ri(s,i,t,a,r[11],14,643717713),a=ri(a,s,i,t,r[0],20,-373897302),t=ri(t,a,s,i,r[5],5,-701558691),i=ri(i,t,a,s,r[10],9,38016083),s=ri(s,i,t,a,r[15],14,-660478335),a=ri(a,s,i,t,r[4],20,-405537848),t=ri(t,a,s,i,r[9],5,568446438),i=ri(i,t,a,s,r[14],9,-1019803690),s=ri(s,i,t,a,r[3],14,-187363961),a=ri(a,s,i,t,r[8],20,1163531501),t=ri(t,a,s,i,r[13],5,-1444681467),i=ri(i,t,a,s,r[2],9,-51403784),s=ri(s,i,t,a,r[7],14,1735328473),t=ai(t,a=ri(a,s,i,t,r[12],20,-1926607734),s,i,r[5],4,-378558),i=ai(i,t,a,s,r[8],11,-2022574463),s=ai(s,i,t,a,r[11],16,1839030562),a=ai(a,s,i,t,r[14],23,-35309556),t=ai(t,a,s,i,r[1],4,-1530992060),i=ai(i,t,a,s,r[4],11,1272893353),s=ai(s,i,t,a,r[7],16,-155497632),a=ai(a,s,i,t,r[10],23,-1094730640),t=ai(t,a,s,i,r[13],4,681279174),i=ai(i,t,a,s,r[0],11,-358537222),s=ai(s,i,t,a,r[3],16,-722521979),a=ai(a,s,i,t,r[6],23,76029189),t=ai(t,a,s,i,r[9],4,-640364487),i=ai(i,t,a,s,r[12],11,-421815835),s=ai(s,i,t,a,r[15],16,530742520),t=ni(t,a=ai(a,s,i,t,r[2],23,-995338651),s,i,r[0],6,-198630844),i=ni(i,t,a,s,r[7],10,1126891415),s=ni(s,i,t,a,r[14],15,-1416354905),a=ni(a,s,i,t,r[5],21,-57434055),t=ni(t,a,s,i,r[12],6,1700485571),i=ni(i,t,a,s,r[3],10,-1894986606),s=ni(s,i,t,a,r[10],15,-1051523),a=ni(a,s,i,t,r[1],21,-2054922799),t=ni(t,a,s,i,r[8],6,1873313359),i=ni(i,t,a,s,r[15],10,-30611744),s=ni(s,i,t,a,r[6],15,-1560198380),a=ni(a,s,i,t,r[13],21,1309151649),t=ni(t,a,s,i,r[4],6,-145523070),i=ni(i,t,a,s,r[11],10,-1120210379),s=ni(s,i,t,a,r[2],15,718787259),a=ni(a,s,i,t,r[9],21,-343485551),e[0]=JA(t,e[0]),e[1]=JA(a,e[1]),e[2]=JA(s,e[2]),e[3]=JA(i,e[3])}function px(e,r,t,a,s,i){return r=JA(JA(r,e),JA(a,i)),JA(r<<s|r>>>32-s,t)}function ti(e,r,t,a,s,i,o){return px(r&t|~r&a,e,r,s,i,o)}function ri(e,r,t,a,s,i,o){return px(r&a|t&~a,e,r,s,i,o)}function ai(e,r,t,a,s,i,o){return px(r^t^a,e,r,s,i,o)}function ni(e,r,t,a,s,i,o){return px(t^(r|~a),e,r,s,i,o)}function X3(e){var r,t=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=e.length;r+=64)fw(a,PK(e.substring(r-64,r)));e=e.substring(r-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)s[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(fw(a,s),r=0;r<16;r++)s[r]=0;return s[14]=8*t,fw(a,s),a}function PK(e){var r,t=[];for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}var EB="0123456789abcdef".split("");function QK(e){for(var r="",t=0;t<4;t++)r+=EB[e>>8*t+4&15]+EB[e>>8*t&15];return r}function RK(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function I1(e){return X3(e).map(RK).join("")}var TK=(function(e){for(var r=0;r<e.length;r++)e[r]=QK(e[r]);return e.join("")})(X3("hello"))!="5d41402abc4b2a76b9719d911017c592";function JA(e,r){if(TK){var t=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(t>>16)<<16|65535&t}return e+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P1(e,r){var t,a,s,i;if(e!==t){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],A=0;A<256;A++)l[A]=A;var d=0;for(A=0;A<256;A++){var f=l[A];d=(d+f+o.charCodeAt(A))%256,l[A]=l[d],l[d]=f}t=e,a=l}else l=a;var h=r.length,m=0,p=0,v="";for(A=0;A<h;A++)p=(p+(f=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=f,o=l[(l[m]+l[p])%256],v+=String.fromCharCode(r.charCodeAt(A)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _B={print:4,modify:8,copy:16,"annot-forms":32};function xf(e,r,t,a){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(_B.perm!==void 0)throw new Error("Invalid permission: "+l);s+=_B[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(r+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=I1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=P1(this.encryptionKey,this.padding)}function vf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var r="",t=e.length,a=0;a<t;a++){var s=e.charCodeAt(a);r+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return r}function FB(e){if(La(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(t,a,s){if(s=s||!1,typeof t!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(t)||(r[t]={});var i=Math.random().toString(35);return r[t][i]=[a,!!s],i},this.unsubscribe=function(t){for(var a in r)if(r[a][t])return delete r[a][t],Object.keys(r[a]).length===0&&delete r[a],!0;return!1},this.publish=function(t){if(r.hasOwnProperty(t)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in r[t]){var o=r[t][i];try{o[0].apply(e,a)}catch(l){Er.console&&Ka.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function m0(e){if(!(this instanceof m0))return new m0(e);var r="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&r.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function J3(e,r){this.gState=e,this.matrix=r,this.id="",this.objectNumber=-1}function Jd(e,r,t,a,s){if(!(this instanceof Jd))return new Jd(e,r,t,a,s);this.type=e==="axial"?2:3,this.coords=r,this.colors=t,J3.call(this,a,s)}function bf(e,r,t,a,s){if(!(this instanceof bf))return new bf(e,r,t,a,s);this.boundingBox=e,this.xStep=r,this.yStep=t,this.stream="",this.cloneIndex=0,J3.call(this,a,s)}function ar(e){var r,t=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,A=16,d="S",f=null;La(e=e||{})==="object"&&(t=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(r=e.precision),e.floatPrecision!==void 0&&(A=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",t=(""+(t||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=FB;var v="1.3",x=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(U){v=U};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return w};var j=p.__private__.getPageFormat=function(U){return w[U]};s=s||"a4";var N="compat",S="advanced",F=N;function T(){this.saveGraphicsState(),Ae(new nr(vt,0,0,-vt,0,Di()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),d="n",F=S}function D(){this.restoreGraphicsState(),d="S",F=N}var k=p.__private__.combineFontStyleAndFontWeight=function(U,ae){if(U=="bold"&&ae=="normal"||U=="bold"&&ae==400||U=="normal"&&ae=="italic"||U=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(U=ae==400||ae==="normal"?U==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||U!=="normal"?(ae==700?"bold":ae)+""+U:"bold"),U};p.advancedAPI=function(U){var ae=F===N;return ae&&T.call(this),typeof U!="function"||(U(this),ae&&D.call(this)),this},p.compatAPI=function(U){var ae=F===S;return ae&&D.call(this),typeof U!="function"||(U(this),ae&&T.call(this)),this},p.isAdvancedAPI=function(){return F===S};var P,E=function(U){if(F!==S)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=p.roundToPrecision=p.__private__.roundToPrecision=function(U,ae){var pe=r||ae;if(isNaN(U)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(pe).replace(/0+$/,"")};P=p.hpf=p.__private__.hpf=typeof A=="number"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return V(U,A)}:A==="smart"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return V(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return V(U,16)};var Q=p.f2=p.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return V(U,2)},$=p.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return V(U,3)},G=p.scale=p.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return F===N?U*vt:F===S?U:void 0},R=function(U){return G((function(ae){return F===N?Di()-ae:F===S?ae:void 0})(U))};p.__private__.setPrecision=p.setPrecision=function(U){typeof parseInt(U,10)=="number"&&(r=parseInt(U,10))};var ee,K="00000000000000000000000000000000",z=p.__private__.getFileId=function(){return K},X=p.__private__.setFileId=function(U){return K=U!==void 0&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Br=new xf(f.userPermissions,f.userPassword,f.ownerPassword,K)),K};p.setFileId=function(U){return X(U),this},p.getFileId=function(){return z()};var ne=p.__private__.convertDateToPDFDate=function(U){var ae=U.getTimezoneOffset(),pe=ae<0?"+":"-",we=Math.floor(Math.abs(ae/60)),Se=Math.abs(ae%60),Ze=[pe,te(we),"'",te(Se),"'"].join("");return["D:",U.getFullYear(),te(U.getMonth()+1),te(U.getDate()),te(U.getHours()),te(U.getMinutes()),te(U.getSeconds()),Ze].join("")},ue=p.__private__.convertPDFDateToDate=function(U){var ae=parseInt(U.substr(2,4),10),pe=parseInt(U.substr(6,2),10)-1,we=parseInt(U.substr(8,2),10),Se=parseInt(U.substr(10,2),10),Ze=parseInt(U.substr(12,2),10),ot=parseInt(U.substr(14,2),10);return new Date(ae,pe,we,Se,Ze,ot,0)},_=p.__private__.setCreationDate=function(U){var ae;if(U===void 0&&(U=new Date),U instanceof Date)ae=ne(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=U}return ee=ae},I=p.__private__.getCreationDate=function(U){var ae=ee;return U==="jsDate"&&(ae=ue(ee)),ae};p.setCreationDate=function(U){return _(U),this},p.getCreationDate=function(U){return I(U)};var W,te=p.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},J=p.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},Y=0,M=[],Z=[],oe=0,fe=[],ve=[],Ee=!1,_e=Z;p.__private__.setCustomOutputDestination=function(U){Ee=!0,_e=U};var xe=function(U){Ee||(_e=U)};p.__private__.resetCustomOutputDestination=function(){Ee=!1,_e=Z};var Ae=p.__private__.out=function(U){return U=U.toString(),oe+=U.length+1,_e.push(U),_e},dt=p.__private__.write=function(U){return Ae(arguments.length===1?U.toString():Array.prototype.join.call(arguments," "))},Ft=p.__private__.getArrayBuffer=function(U){for(var ae=U.length,pe=new ArrayBuffer(ae),we=new Uint8Array(pe);ae--;)we[ae]=U.charCodeAt(ae);return pe},mt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return mt};var Ue=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(U){return Ue=F===S?U/vt:U,this};var ct,et=p.__private__.getFontSize=p.getFontSize=function(){return F===N?Ue:Ue*vt},Ot=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(U){return Ot=U,this},p.__private__.getR2L=p.getR2L=function(){return Ot};var He,Jt=p.__private__.setZoomMode=function(U){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))ct=U;else if(isNaN(U)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(U)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');ct=U}else ct=parseInt(U,10)};p.__private__.getZoomMode=function(){return ct};var kt,jt=p.__private__.setPageMode=function(U){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');He=U};p.__private__.getPageMode=function(){return He};var Nr=p.__private__.setLayoutMode=function(U){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');kt=U};p.__private__.getLayoutMode=function(){return kt},p.__private__.setDisplayMode=p.setDisplayMode=function(U,ae,pe){return Jt(U),Nr(ae),jt(pe),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(U){if(Object.keys(Nt).indexOf(U)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[U]},p.__private__.getDocumentProperties=function(){return Nt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(U){for(var ae in Nt)Nt.hasOwnProperty(ae)&&U[ae]&&(Nt[ae]=U[ae]);return this},p.__private__.setDocumentProperty=function(U,ae){if(Object.keys(Nt).indexOf(U)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[U]=ae};var Bt,vt,yt,Qr,Ir,Tt={},hr={},nt=[],Re={},it={},bt={},Je={},Lt=null,lr=0,ir=[],Tr=new FB(p),$s=e.hotfixes||[],Za={},ws={},wt=[],nr=function U(ae,pe,we,Se,Ze,ot){if(!(this instanceof U))return new U(ae,pe,we,Se,Ze,ot);isNaN(ae)&&(ae=1),isNaN(pe)&&(pe=0),isNaN(we)&&(we=0),isNaN(Se)&&(Se=1),isNaN(Ze)&&(Ze=0),isNaN(ot)&&(ot=0),this._matrix=[ae,pe,we,Se,Ze,ot]};Object.defineProperty(nr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(nr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(nr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(nr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(nr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(nr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(nr.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(nr.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(nr.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(nr.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(nr.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(nr.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(nr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nr.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(U)},nr.prototype.multiply=function(U){var ae=U.sx*this.sx+U.shy*this.shx,pe=U.sx*this.shy+U.shy*this.sy,we=U.shx*this.sx+U.sy*this.shx,Se=U.shx*this.shy+U.sy*this.sy,Ze=U.tx*this.sx+U.ty*this.shx+this.tx,ot=U.tx*this.shy+U.ty*this.sy+this.ty;return new nr(ae,pe,we,Se,Ze,ot)},nr.prototype.decompose=function(){var U=this.sx,ae=this.shy,pe=this.shx,we=this.sy,Se=this.tx,Ze=this.ty,ot=Math.sqrt(U*U+ae*ae),qt=(U/=ot)*pe+(ae/=ot)*we;pe-=U*qt,we-=ae*qt;var Zt=Math.sqrt(pe*pe+we*we);return qt/=Zt,U*(we/=Zt)<ae*(pe/=Zt)&&(U=-U,ae=-ae,qt=-qt,ot=-ot),{scale:new nr(ot,0,0,Zt,0,0),translate:new nr(1,0,0,1,Se,Ze),rotate:new nr(U,ae,-ae,U,0,0),skew:new nr(1,0,qt,1,0,0)}},nr.prototype.toString=function(U){return this.join(" ")},nr.prototype.inversed=function(){var U=this.sx,ae=this.shy,pe=this.shx,we=this.sy,Se=this.tx,Ze=this.ty,ot=1/(U*we-ae*pe),qt=we*ot,Zt=-ae*ot,yr=-pe*ot,br=U*ot;return new nr(qt,Zt,yr,br,-qt*Se-yr*Ze,-Zt*Se-br*Ze)},nr.prototype.applyToPoint=function(U){var ae=U.x*this.sx+U.y*this.shx+this.tx,pe=U.x*this.shy+U.y*this.sy+this.ty;return new xo(ae,pe)},nr.prototype.applyToRectangle=function(U){var ae=this.applyToPoint(U),pe=this.applyToPoint(new xo(U.x+U.w,U.y+U.h));return new xc(ae.x,ae.y,pe.x-ae.x,pe.y-ae.y)},nr.prototype.clone=function(){var U=this.sx,ae=this.shy,pe=this.shx,we=this.sy,Se=this.tx,Ze=this.ty;return new nr(U,ae,pe,we,Se,Ze)},p.Matrix=nr;var Zn=p.matrixMult=function(U,ae){return ae.multiply(U)},es=new nr(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=es;var pn=function(U,ae){if(!it[U]){var pe=(ae instanceof Jd?"Sh":"P")+(Object.keys(Re).length+1).toString(10);ae.id=pe,it[U]=pe,Re[pe]=ae,Tr.publish("addPattern",ae)}};p.ShadingPattern=Jd,p.TilingPattern=bf,p.addShadingPattern=function(U,ae){return E("addShadingPattern()"),pn(U,ae),this},p.beginTilingPattern=function(U){E("beginTilingPattern()"),_i(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},p.endTilingPattern=function(U,ae){E("endTilingPattern()"),ae.stream=ve[W].join(`
`),pn(U,ae),Tr.publish("endTilingPattern",ae),wt.pop().restore()};var Pa,ca=p.__private__.newObject=function(){var U=za();return en(U,!0),U},za=p.__private__.newObjectDeferred=function(){return Y++,M[Y]=function(){return oe},Y},en=function(U,ae){return ae=typeof ae=="boolean"&&ae,M[U]=oe,ae&&Ae(U+" 0 obj"),U},Si=p.__private__.newAdditionalObject=function(){var U={objId:za(),content:""};return fe.push(U),U},Wi=za(),qe=za(),at=p.__private__.decodeColorString=function(U){var ae=U.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length!==5||ae[4]!=="k"&&ae[4]!=="K"||(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var pe=parseFloat(ae[0]);ae=[pe,pe,pe,"r"]}for(var we="#",Se=0;Se<3;Se++)we+=("0"+Math.floor(255*parseFloat(ae[Se])).toString(16)).slice(-2);return we},_t=p.__private__.encodeColorString=function(U){var ae;typeof U=="string"&&(U={ch1:U});var pe=U.ch1,we=U.ch2,Se=U.ch3,Ze=U.ch4,ot=U.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var qt=new Y3(pe);if(qt.ok)pe=qt.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var Zt=parseInt(pe.substr(1),16);pe=Zt>>16&255,we=Zt>>8&255,Se=255&Zt}if(we===void 0||Ze===void 0&&pe===we&&we===Se)ae=typeof pe=="string"?pe+" "+ot[0]:U.precision===2?Q(pe/255)+" "+ot[0]:$(pe/255)+" "+ot[0];else if(Ze===void 0||La(Ze)==="object"){if(Ze&&!isNaN(Ze.a)&&Ze.a===0)return["1.","1.","1.",ot[1]].join(" ");ae=typeof pe=="string"?[pe,we,Se,ot[1]].join(" "):U.precision===2?[Q(pe/255),Q(we/255),Q(Se/255),ot[1]].join(" "):[$(pe/255),$(we/255),$(Se/255),ot[1]].join(" ")}else ae=typeof pe=="string"?[pe,we,Se,Ze,ot[2]].join(" "):U.precision===2?[Q(pe),Q(we),Q(Se),Q(Ze),ot[2]].join(" "):[$(pe),$(we),$(Se),$(Ze),ot[2]].join(" ");return ae},It=p.__private__.getFilters=function(){return o},Ct=p.__private__.putStream=function(U){var ae=(U=U||{}).data||"",pe=U.filters||It(),we=U.alreadyAppliedFilters||[],Se=U.addLength1||!1,Ze=ae.length,ot=U.objectId,qt=function(Rn){return Rn};if(f!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(qt=Br.encryptor(ot,0));var Zt={};pe===!0&&(pe=["FlateEncode"]);var yr=U.additionalKeyValues||[],br=(Zt=ar.API.processDataByFilters!==void 0?ar.API.processDataByFilters(ae,pe):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(Zt.data.length!==0&&(yr.push({key:"Length",value:Zt.data.length}),Se===!0&&yr.push({key:"Length1",value:Ze})),br.length!=0)if(br.split("/").length-1==1)yr.push({key:"Filter",value:br});else{yr.push({key:"Filter",value:"["+br+"]"});for(var ua=0;ua<yr.length;ua+=1)if(yr[ua].key==="DecodeParms"){for(var rn=[],En=0;En<Zt.reverseChain.split("/").length-1;En+=1)rn.push("null");rn.push(yr[ua].value),yr[ua].value="["+rn.join(" ")+"]"}}Ae("<<");for(var Ma=0;Ma<yr.length;Ma++)Ae("/"+yr[Ma].key+" "+yr[Ma].value);Ae(">>"),Zt.data.length!==0&&(Ae("stream"),Ae(qt(Zt.data)),Ae("endstream"))},mr=p.__private__.putPage=function(U){var ae=U.number,pe=U.data,we=U.objId,Se=U.contentsObjId;en(we,!0),Ae("<</Type /Page"),Ae("/Parent "+U.rootDictionaryObjId+" 0 R"),Ae("/Resources "+U.resourceDictionaryObjId+" 0 R"),Ae("/MediaBox ["+parseFloat(P(U.mediaBox.bottomLeftX))+" "+parseFloat(P(U.mediaBox.bottomLeftY))+" "+P(U.mediaBox.topRightX)+" "+P(U.mediaBox.topRightY)+"]"),U.cropBox!==null&&Ae("/CropBox ["+P(U.cropBox.bottomLeftX)+" "+P(U.cropBox.bottomLeftY)+" "+P(U.cropBox.topRightX)+" "+P(U.cropBox.topRightY)+"]"),U.bleedBox!==null&&Ae("/BleedBox ["+P(U.bleedBox.bottomLeftX)+" "+P(U.bleedBox.bottomLeftY)+" "+P(U.bleedBox.topRightX)+" "+P(U.bleedBox.topRightY)+"]"),U.trimBox!==null&&Ae("/TrimBox ["+P(U.trimBox.bottomLeftX)+" "+P(U.trimBox.bottomLeftY)+" "+P(U.trimBox.topRightX)+" "+P(U.trimBox.topRightY)+"]"),U.artBox!==null&&Ae("/ArtBox ["+P(U.artBox.bottomLeftX)+" "+P(U.artBox.bottomLeftY)+" "+P(U.artBox.topRightX)+" "+P(U.artBox.topRightY)+"]"),typeof U.userUnit=="number"&&U.userUnit!==1&&Ae("/UserUnit "+U.userUnit),Tr.publish("putPage",{objId:we,pageContext:ir[ae],pageNumber:ae,page:pe}),Ae("/Contents "+Se+" 0 R"),Ae(">>"),Ae("endobj");var Ze=pe.join(`
`);return F===S&&(Ze+=`
Q`),en(Se,!0),Ct({data:Ze,filters:It(),objectId:Se}),Ae("endobj"),we},or=p.__private__.putPages=function(){var U,ae,pe=[];for(U=1;U<=lr;U++)ir[U].objId=za(),ir[U].contentsObjId=za();for(U=1;U<=lr;U++)pe.push(mr({number:U,data:ve[U],objId:ir[U].objId,contentsObjId:ir[U].contentsObjId,mediaBox:ir[U].mediaBox,cropBox:ir[U].cropBox,bleedBox:ir[U].bleedBox,trimBox:ir[U].trimBox,artBox:ir[U].artBox,userUnit:ir[U].userUnit,rootDictionaryObjId:Wi,resourceDictionaryObjId:qe}));en(Wi,!0),Ae("<</Type /Pages");var we="/Kids [";for(ae=0;ae<lr;ae++)we+=pe[ae]+" 0 R ";Ae(we+"]"),Ae("/Count "+lr),Ae(">>"),Ae("endobj"),Tr.publish("postPutPages")},$r=function(U){Tr.publish("putFont",{font:U,out:Ae,newObject:ca,putStream:Ct}),U.isAlreadyPutted!==!0&&(U.objectNumber=ca(),Ae("<<"),Ae("/Type /Font"),Ae("/BaseFont /"+vf(U.postScriptName)),Ae("/Subtype /Type1"),typeof U.encoding=="string"&&Ae("/Encoding /"+U.encoding),Ae("/FirstChar 32"),Ae("/LastChar 255"),Ae(">>"),Ae("endobj"))},ea=function(U){U.objectNumber=ca();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[P(U.x),P(U.y),P(U.x+U.width),P(U.y+U.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var pe=U.pages[1].join(`
`);Ct({data:pe,additionalKeyValues:ae,objectId:U.objectNumber}),Ae("endobj")},Kt=function(U,ae){ae||(ae=21);var pe=ca(),we=(function(ot,qt){var Zt,yr=[],br=1/(qt-1);for(Zt=0;Zt<1;Zt+=br)yr.push(Zt);if(yr.push(1),ot[0].offset!=0){var ua={offset:0,color:ot[0].color};ot.unshift(ua)}if(ot[ot.length-1].offset!=1){var rn={offset:1,color:ot[ot.length-1].color};ot.push(rn)}for(var En="",Ma=0,Rn=0;Rn<yr.length;Rn++){for(Zt=yr[Rn];Zt>ot[Ma+1].offset;)Ma++;var wn=ot[Ma].offset,ds=(Zt-wn)/(ot[Ma+1].offset-wn),Ui=ot[Ma].color,zs=ot[Ma+1].color;En+=J(Math.round((1-ds)*Ui[0]+ds*zs[0]).toString(16))+J(Math.round((1-ds)*Ui[1]+ds*zs[1]).toString(16))+J(Math.round((1-ds)*Ui[2]+ds*zs[2]).toString(16))}return En.trim()})(U.colors,ae),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+ae+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ct({data:we,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),Ae("endobj"),U.objectNumber=ca(),Ae("<< /ShadingType "+U.type),Ae("/ColorSpace /DeviceRGB");var Ze="/Coords ["+P(parseFloat(U.coords[0]))+" "+P(parseFloat(U.coords[1]))+" ";U.type===2?Ze+=P(parseFloat(U.coords[2]))+" "+P(parseFloat(U.coords[3])):Ze+=P(parseFloat(U.coords[2]))+" "+P(parseFloat(U.coords[3]))+" "+P(parseFloat(U.coords[4]))+" "+P(parseFloat(U.coords[5])),Ae(Ze+="]"),U.matrix&&Ae("/Matrix ["+U.matrix.toString()+"]"),Ae("/Function "+pe+" 0 R"),Ae("/Extend [true true]"),Ae(">>"),Ae("endobj")},da=function(U,ae){var pe=za(),we=ca();ae.push({resourcesOid:pe,objectOid:we}),U.objectNumber=we;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+U.boundingBox.map(P).join(" ")+"]"}),Se.push({key:"XStep",value:P(U.xStep)}),Se.push({key:"YStep",value:P(U.yStep)}),Se.push({key:"Resources",value:pe+" 0 R"}),U.matrix&&Se.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),Ct({data:U.stream,additionalKeyValues:Se,objectId:U.objectNumber}),Ae("endobj")},Qa=function(U){for(var ae in U.objectNumber=ca(),Ae("<<"),U)switch(ae){case"opacity":Ae("/ca "+Q(U[ae]));break;case"stroke-opacity":Ae("/CA "+Q(U[ae]))}Ae(">>"),Ae("endobj")},gr=function(U){en(U.resourcesOid,!0),Ae("<<"),Ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ae in Ae("/Font <<"),Tt)Tt.hasOwnProperty(ae)&&(h===!1||h===!0&&m.hasOwnProperty(ae))&&Ae("/"+ae+" "+Tt[ae].objectNumber+" 0 R");Ae(">>")})(),(function(){if(Object.keys(Re).length>0){for(var ae in Ae("/Shading <<"),Re)Re.hasOwnProperty(ae)&&Re[ae]instanceof Jd&&Re[ae].objectNumber>=0&&Ae("/"+ae+" "+Re[ae].objectNumber+" 0 R");Tr.publish("putShadingPatternDict"),Ae(">>")}})(),(function(ae){if(Object.keys(Re).length>0){for(var pe in Ae("/Pattern <<"),Re)Re.hasOwnProperty(pe)&&Re[pe]instanceof p.TilingPattern&&Re[pe].objectNumber>=0&&Re[pe].objectNumber<ae&&Ae("/"+pe+" "+Re[pe].objectNumber+" 0 R");Tr.publish("putTilingPatternDict"),Ae(">>")}})(U.objectOid),(function(){if(Object.keys(bt).length>0){var ae;for(ae in Ae("/ExtGState <<"),bt)bt.hasOwnProperty(ae)&&bt[ae].objectNumber>=0&&Ae("/"+ae+" "+bt[ae].objectNumber+" 0 R");Tr.publish("putGStateDict"),Ae(">>")}})(),(function(){for(var ae in Ae("/XObject <<"),Za)Za.hasOwnProperty(ae)&&Za[ae].objectNumber>=0&&Ae("/"+ae+" "+Za[ae].objectNumber+" 0 R");Tr.publish("putXobjectDict"),Ae(">>")})(),Ae(">>"),Ae("endobj")},Ea=function(U){hr[U.fontName]=hr[U.fontName]||{},hr[U.fontName][U.fontStyle]=U.id},Ra=function(U,ae,pe,we,Se){var Ze={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:U,fontName:ae,fontStyle:pe,encoding:we,isStandardFont:Se||!1,metadata:{}};return Tr.publish("addFont",{font:Ze,instance:this}),Tt[Ze.id]=Ze,Ea(Ze),Ze.id},Qt=p.__private__.pdfEscape=p.pdfEscape=function(U,ae){return(function(pe,we){var Se,Ze,ot,qt,Zt,yr,br,ua,rn;if(ot=(we=we||{}).sourceEncoding||"Unicode",Zt=we.outputEncoding,(we.autoencode||Zt)&&Tt[Bt].metadata&&Tt[Bt].metadata[ot]&&Tt[Bt].metadata[ot].encoding&&(qt=Tt[Bt].metadata[ot].encoding,!Zt&&Tt[Bt].encoding&&(Zt=Tt[Bt].encoding),!Zt&&qt.codePages&&(Zt=qt.codePages[0]),typeof Zt=="string"&&(Zt=qt[Zt]),Zt)){for(br=!1,yr=[],Se=0,Ze=pe.length;Se<Ze;Se++)(ua=Zt[pe.charCodeAt(Se)])?yr.push(String.fromCharCode(ua)):yr.push(pe[Se]),yr[Se].charCodeAt(0)>>8&&(br=!0);pe=yr.join("")}for(Se=pe.length;br===void 0&&Se!==0;)pe.charCodeAt(Se-1)>>8&&(br=!0),Se--;if(!br)return pe;for(yr=we.noBOM?[]:[254,255],Se=0,Ze=pe.length;Se<Ze;Se++){if((rn=(ua=pe.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yr.push(rn),yr.push(ua-(rn<<8))}return String.fromCharCode.apply(void 0,yr)})(U,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fr=p.__private__.beginPage=function(U){ve[++lr]=[],ir[lr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},Us(lr),xe(ve[W])},gn=function(U,ae){var pe,we,Se;switch(t=ae||t,typeof U=="string"&&(pe=j(U.toLowerCase()),Array.isArray(pe)&&(we=pe[0],Se=pe[1])),Array.isArray(U)&&(we=U[0]*vt,Se=U[1]*vt),isNaN(we)&&(we=s[0],Se=s[1]),(we>14400||Se>14400)&&(Ka.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Se=Math.min(14400,Se)),s=[we,Se],t.substr(0,1)){case"l":Se>we&&(s=[Se,we]);break;case"p":we>Se&&(s=[Se,we])}Fr(s),pc(Ei),Ae(gc),jd!==0&&Ae(jd+" J"),Nd!==0&&Ae(Nd+" j"),Tr.publish("addPage",{pageNumber:lr})},Ks=function(U){U>0&&U<=lr&&(ve.splice(U,1),ir.splice(U,1),lr--,W>lr&&(W=lr),this.setPage(W))},Us=function(U){U>0&&U<=lr&&(W=U)},ts=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ve.length-1},As=function(U,ae,pe){var we,Se=void 0;return pe=pe||{},U=U!==void 0?U:Tt[Bt].fontName,ae=ae!==void 0?ae:Tt[Bt].fontStyle,we=U.toLowerCase(),hr[we]!==void 0&&hr[we][ae]!==void 0?Se=hr[we][ae]:hr[U]!==void 0&&hr[U][ae]!==void 0?Se=hr[U][ae]:pe.disableWarning===!1&&Ka.warn("Unable to look up font label for font '"+U+"', '"+ae+"'. Refer to getFontList() for available fonts."),Se||pe.noFallback||(Se=hr.times[ae])==null&&(Se=hr.times.normal),Se},on=p.__private__.putInfo=function(){var U=ca(),ae=function(we){return we};for(var pe in f!==null&&(ae=Br.encryptor(U,0)),Ae("<<"),Ae("/Producer ("+Qt(ae("jsPDF "+ar.version))+")"),Nt)Nt.hasOwnProperty(pe)&&Nt[pe]&&Ae("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+Qt(ae(Nt[pe]))+")");Ae("/CreationDate ("+Qt(ae(ee))+")"),Ae(">>"),Ae("endobj")},AA=p.__private__.putCatalog=function(U){var ae=(U=U||{}).rootDictionaryObjId||Wi;switch(ca(),Ae("<<"),Ae("/Type /Catalog"),Ae("/Pages "+ae+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":Ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ae("/OpenAction [3 0 R /Fit]");break;case"original":Ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+ct;pe.substr(pe.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&Ae("/OpenAction [3 0 R /XYZ null null "+Q(ct)+"]")}switch(kt||(kt="continuous"),kt){case"continuous":Ae("/PageLayout /OneColumn");break;case"single":Ae("/PageLayout /SinglePage");break;case"two":case"twoleft":Ae("/PageLayout /TwoColumnLeft");break;case"tworight":Ae("/PageLayout /TwoColumnRight")}He&&Ae("/PageMode /"+He),Tr.publish("putCatalog"),Ae(">>"),Ae("endobj")},tn=p.__private__.putTrailer=function(){Ae("trailer"),Ae("<<"),Ae("/Size "+(Y+1)),Ae("/Root "+Y+" 0 R"),Ae("/Info "+(Y-1)+" 0 R"),f!==null&&Ae("/Encrypt "+Br.oid+" 0 R"),Ae("/ID [ <"+K+"> <"+K+"> ]"),Ae(">>")},mc=p.__private__.putHeader=function(){Ae("%PDF-"+v),Ae("%")},gt=p.__private__.putXRef=function(){var U="0000000000";Ae("xref"),Ae("0 "+(Y+1)),Ae("0000000000 65535 f ");for(var ae=1;ae<=Y;ae++)typeof M[ae]=="function"?Ae((U+M[ae]()).slice(-10)+" 00000 n "):M[ae]!==void 0?Ae((U+M[ae]).slice(-10)+" 00000 n "):Ae("0000000000 00000 n ")},Ge=p.__private__.buildDocument=function(){var U;Y=0,oe=0,Z=[],M=[],fe=[],Wi=za(),qe=za(),xe(Z),Tr.publish("buildDocument"),mc(),or(),(function(){Tr.publish("putAdditionalObjects");for(var pe=0;pe<fe.length;pe++){var we=fe[pe];en(we.objId,!0),Ae(we.content),Ae("endobj")}Tr.publish("postPutAdditionalObjects")})(),U=[],(function(){for(var pe in Tt)Tt.hasOwnProperty(pe)&&(h===!1||h===!0&&m.hasOwnProperty(pe))&&$r(Tt[pe])})(),(function(){var pe;for(pe in bt)bt.hasOwnProperty(pe)&&Qa(bt[pe])})(),(function(){for(var pe in Za)Za.hasOwnProperty(pe)&&ea(Za[pe])})(),(function(pe){var we;for(we in Re)Re.hasOwnProperty(we)&&(Re[we]instanceof Jd?Kt(Re[we]):Re[we]instanceof bf&&da(Re[we],pe))})(U),Tr.publish("putResources"),U.forEach(gr),gr({resourcesOid:qe,objectOid:Number.MAX_SAFE_INTEGER}),Tr.publish("postPutResources"),f!==null&&(Br.oid=ca(),Ae("<<"),Ae("/Filter /Standard"),Ae("/V "+Br.v),Ae("/R "+Br.r),Ae("/U <"+Br.toHexString(Br.U)+">"),Ae("/O <"+Br.toHexString(Br.O)+">"),Ae("/P "+Br.P),Ae(">>"),Ae("endobj")),on(),AA();var ae=oe;return gt(),tn(),Ae("startxref"),Ae(""+ae),Ae("%%EOF"),xe(ve[W]),Z.join(`
`)},aa=p.__private__.getBlob=function(U){return new Blob([Ft(U)],{type:"application/pdf"})},pt=p.output=p.__private__.output=(Pa=function(U,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",U){case void 0:return Ge();case"save":p.save(ae.filename);break;case"arraybuffer":return Ft(Ge());case"blob":return aa(Ge());case"bloburi":case"bloburl":if(Er.URL!==void 0&&typeof Er.URL.createObjectURL=="function")return Er.URL&&Er.URL.createObjectURL(aa(Ge()))||void 0;Ka.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",we=Ge();try{pe=SB(we)}catch{pe=SB(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+ae.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Er)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Se=ae.pdfObjectUrl,Ze="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",qt=Er.open();return qt!==null&&qt.document.write(ot),qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Er)==="[object Window]"){var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',yr=Er.open();if(yr!==null){yr.document.write(Zt);var br=this;yr.document.documentElement.querySelector("#pdfViewer").onload=function(){yr.document.title=ae.filename,yr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(br.output("bloburl"))}}return yr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Er)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ua='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',rn=Er.open();if(rn!==null&&(rn.document.write(ua),rn.document.title=ae.filename),rn||typeof safari>"u")return rn;break;case"datauri":case"dataurl":return Er.document.location.href=this.output("datauristring",ae);default:return null}},Pa.foo=function(){try{return Pa.apply(this,arguments)}catch(pe){var U=pe.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var ae="Error in function "+U.split(`
`)[0].split("<")[0]+": "+pe.message;if(!Er.console)throw new Error(ae);Er.console.error(ae,pe),Er.alert&&alert(ae)}},Pa.foo.bar=Pa,Pa.foo),xn=function(U){return Array.isArray($s)===!0&&$s.indexOf(U)>-1};switch(a){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=xn("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);vt=a}var Br=null;_(),X();var qa=p.__private__.getPageInfo=p.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ir[U].objId,pageNumber:U,pageContext:ir[U]}},Xr=p.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in ir)if(ir[ae].objId===U)break;return qa(ae)},vn=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ir[W].objId,pageNumber:W,pageContext:ir[W]}};p.addPage=function(){return gn.apply(this,arguments),this},p.setPage=function(){return Us.apply(this,arguments),xe.call(this,ve[W]),this},p.insertPage=function(U){return this.addPage(),this.movePage(W,U),this},p.movePage=function(U,ae){var pe,we;if(U>ae){pe=ve[U],we=ir[U];for(var Se=U;Se>ae;Se--)ve[Se]=ve[Se-1],ir[Se]=ir[Se-1];ve[ae]=pe,ir[ae]=we,this.setPage(ae)}else if(U<ae){pe=ve[U],we=ir[U];for(var Ze=U;Ze<ae;Ze++)ve[Ze]=ve[Ze+1],ir[Ze]=ir[Ze+1];ve[ae]=pe,ir[ae]=we,this.setPage(ae)}return this},p.deletePage=function(){return Ks.apply(this,arguments),this},p.__private__.text=p.text=function(U,ae,pe,we,Se){var Ze,ot,qt,Zt,yr,br,ua,rn,En,Ma=(we=we||{}).scope||this;if(typeof U=="number"&&typeof ae=="number"&&(typeof pe=="string"||Array.isArray(pe))){var Rn=pe;pe=ae,ae=U,U=Rn}if(arguments[3]instanceof nr==0?(qt=arguments[4],Zt=arguments[5],La(ua=arguments[3])==="object"&&ua!==null||(typeof qt=="string"&&(Zt=qt,qt=null),typeof ua=="string"&&(Zt=ua,ua=null),typeof ua=="number"&&(qt=ua,ua=null),we={flags:ua,angle:qt,align:Zt})):(E("The transform parameter of text() with a Matrix value"),En=Se),isNaN(ae)||isNaN(pe)||U==null)throw new Error("Invalid arguments passed to jsPDF.text");if(U.length===0)return Ma;var wn,ds="",Ui=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:Vs,zs=Ma.internal.scaleFactor;function Du(fa){return fa=fa.split("	").join(Array(we.TabLen||9).join(" ")),Qt(fa,ua)}function Bl(fa){for(var ba,An=fa.concat(),_n=[],eo=An.length;eo--;)typeof(ba=An.shift())=="string"?_n.push(ba):Array.isArray(fa)&&(ba.length===1||ba[1]===void 0&&ba[2]===void 0)?_n.push(ba[0]):_n.push([ba[0],ba[1],ba[2]]);return _n}function yc(fa,ba){var An;if(typeof fa=="string")An=ba(fa)[0];else if(Array.isArray(fa)){for(var _n,eo,_d=fa.concat(),wA=[],Go=_d.length;Go--;)typeof(_n=_d.shift())=="string"?wA.push(ba(_n)[0]):Array.isArray(_n)&&typeof _n[0]=="string"&&(eo=ba(_n[0],_n[1],_n[2]),wA.push([eo[0],eo[1],eo[2]]));An=wA}return An}var Cl=!1,bc=!0;if(typeof U=="string")Cl=!0;else if(Array.isArray(U)){var Sl=U.concat();ot=[];for(var jc,bs=Sl.length;bs--;)(typeof(jc=Sl.shift())!="string"||Array.isArray(jc)&&typeof jc[0]!="string")&&(bc=!1);Cl=bc}if(Cl===!1)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');typeof U=="string"&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var Nc=Ue/Ma.internal.scaleFactor,Bc=Nc*(Ui-1);switch(we.baseline){case"bottom":pe-=Bc;break;case"top":pe+=Nc-Bc;break;case"hanging":pe+=Nc-2*Bc;break;case"middle":pe+=Nc/2-Bc}if((br=we.maxWidth||0)>0&&(typeof U=="string"?U=Ma.splitTextToSize(U,br):Object.prototype.toString.call(U)==="[object Array]"&&(U=U.reduce(function(fa,ba){return fa.concat(Ma.splitTextToSize(ba,br))},[]))),Ze={text:U,x:ae,y:pe,options:we,mutex:{pdfEscape:Qt,activeFontKey:Bt,fonts:Tt,activeFontSize:Ue}},Tr.publish("preProcessText",Ze),U=Ze.text,qt=(we=Ze.options).angle,En instanceof nr==0&&qt&&typeof qt=="number"){qt*=Math.PI/180,we.rotationDirection===0&&(qt=-qt),F===S&&(qt=-qt);var Sd=Math.cos(qt),Ed=Math.sin(qt);En=new nr(Sd,Ed,-Ed,Sd,0,0)}else qt&&qt instanceof nr&&(En=qt);F!==S||En||(En=es),(yr=we.charSpace||Xi)!==void 0&&(ds+=P(G(yr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rn=we.horizontalScale)!==void 0&&(ds+=P(100*rn)+` Tz
`),we.lang;var ln=-1,Ji=we.renderingMode!==void 0?we.renderingMode:we.stroke,vo=Ma.internal.getCurrentPageInfo().pageContext;switch(Ji){case 0:case!1:case"fill":ln=0;break;case 1:case!0:case"stroke":ln=1;break;case 2:case"fillThenStroke":ln=2;break;case 3:case"invisible":ln=3;break;case 4:case"fillAndAddForClipping":ln=4;break;case 5:case"strokeAndAddPathForClipping":ln=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ln=6;break;case 7:case"addToPathForClipping":ln=7}var Uu=vo.usedRenderingMode!==void 0?vo.usedRenderingMode:-1;ln!==-1?ds+=ln+` Tr
`:Uu!==-1&&(ds+=`0 Tr
`),ln!==-1&&(vo.usedRenderingMode=ln),Zt=we.align||"left";var fi,El=Ue*Ui,pA=Ma.internal.pageSize.getWidth(),gA=Tt[Bt];yr=we.charSpace||Xi,br=we.maxWidth||0,ua=Object.assign({autoencode:!0,noBOM:!0},we.flags);var Vo=[],Li=function(fa){return Ma.getStringUnitWidth(fa,{font:gA,charSpace:yr,fontSize:Ue,doKerning:!1})*Ue/zs};if(Object.prototype.toString.call(U)==="[object Array]"){var hi;ot=Bl(U),Zt!=="left"&&(fi=ot.map(Li));var mi,_l=0;if(Zt==="right"){ae-=fi[0],U=[],bs=ot.length;for(var wo=0;wo<bs;wo++)wo===0?(mi=ui(ae),hi=Ho(pe)):(mi=G(_l-fi[wo]),hi=-El),U.push([ot[wo],mi,hi]),_l=fi[wo]}else if(Zt==="center"){ae-=fi[0]/2,U=[],bs=ot.length;for(var zo=0;zo<bs;zo++)zo===0?(mi=ui(ae),hi=Ho(pe)):(mi=G((_l-fi[zo])/2),hi=-El),U.push([ot[zo],mi,hi]),_l=fi[zo]}else if(Zt==="left"){U=[],bs=ot.length;for(var qo=0;qo<bs;qo++)U.push(ot[qo])}else if(Zt==="justify"&&gA.encoding==="Identity-H"){U=[],bs=ot.length,br=br!==0?br:pA;for(var yo=0,yn=0;yn<bs;yn++)if(hi=yn===0?Ho(pe):-El,mi=yn===0?ui(ae):yo,yn<bs-1){var Cc=G((br-fi[yn])/(ot[yn].split(" ").length-1)),bo=ot[yn].split(" ");U.push([bo[0]+" ",mi,hi]),yo=0;for(var Zi=1;Zi<bo.length;Zi++){var Sc=(Li(bo[Zi-1]+" "+bo[Zi])-Li(bo[Zi]))*zs+Cc;Zi==bo.length-1?U.push([bo[Zi],Sc,0]):U.push([bo[Zi]+" ",Sc,0]),yo-=Sc}}else U.push([ot[yn],mi,hi]);U.push(["",yo,0])}else{if(Zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(U=[],bs=ot.length,br=br!==0?br:pA,yn=0;yn<bs;yn++){hi=yn===0?Ho(pe):-El,mi=yn===0?ui(ae):0;var Ec=ot[yn].split(" ").length-1,xA=Ec>0?(br-fi[yn])/Ec:0;yn<bs-1?Vo.push(P(G(xA))):Vo.push(0),U.push([ot[yn],mi,hi])}}}(typeof we.R2L=="boolean"?we.R2L:Ot)===!0&&(U=yc(U,function(fa,ba,An){return[fa.split("").reverse().join(""),ba,An]})),Ze={text:U,x:ae,y:pe,options:we,mutex:{pdfEscape:Qt,activeFontKey:Bt,fonts:Tt,activeFontSize:Ue}},Tr.publish("postProcessText",Ze),U=Ze.text,wn=Ze.mutex.isHex||!1;var vA=Tt[Bt].encoding;vA!=="WinAnsiEncoding"&&vA!=="StandardEncoding"||(U=yc(U,function(fa,ba,An){return[Du(fa),ba,An]})),ot=Bl(U),U=[];for(var Wo,Fl,kl,_c=Array.isArray(ot[0])?1:0,Dl="",Fc=function(fa,ba,An){var _n="";return An instanceof nr?(An=typeof we.angle=="number"?Zn(An,new nr(1,0,0,1,fa,ba)):Zn(new nr(1,0,0,1,fa,ba),An),F===S&&(An=Zn(new nr(1,0,0,-1,0,0),An)),_n=An.join(" ")+` Tm
`):_n=P(fa)+" "+P(ba)+` Td
`,_n},cn=0;cn<ot.length;cn++){switch(Dl="",_c){case 1:kl=(wn?"<":"(")+ot[cn][0]+(wn?">":")"),Wo=parseFloat(ot[cn][1]),Fl=parseFloat(ot[cn][2]);break;case 0:kl=(wn?"<":"(")+ot[cn]+(wn?">":")"),Wo=ui(ae),Fl=Ho(pe)}Vo!==void 0&&Vo[cn]!==void 0&&(Dl=Vo[cn]+` Tw
`),cn===0?U.push(Dl+Fc(Wo,Fl,En)+kl):_c===0?U.push(Dl+kl):_c===1&&U.push(Dl+Fc(Wo,Fl,En)+kl)}U=_c===0?U.join(` Tj
T* `):U.join(` Tj
`),U+=` Tj
`;var qs=`BT
/`;return qs+=Bt+" "+Ue+` Tf
`,qs+=P(Ue*Ui)+` TL
`,qs+=Yi+`
`,qs+=ds,qs+=U,Ae(qs+="ET"),m[Bt]=!0,Ma};var Ta=p.__private__.clip=p.clip=function(U){return Ae(U==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Ta("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Ae("n"),this};var Ls=p.__private__.isValidStyle=function(U){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)!==-1&&(ae=!0),ae};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(U){return Ls(U)&&(d=U),this};var Nl=p.__private__.getStyle=p.getStyle=function(U){var ae=d;switch(U){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=U}return ae},Cr=p.close=function(){return Ae("h"),this};p.stroke=function(){return Ae("S"),this},p.fill=function(U){return Mo("f",U),this},p.fillEvenOdd=function(U){return Mo("f*",U),this},p.fillStroke=function(U){return Mo("B",U),this},p.fillStrokeEvenOdd=function(U){return Mo("B*",U),this};var Mo=function(U,ae){La(ae)==="object"?Eu(ae,U):Ae(U)},dA=function(U){U===null||F===S&&U===void 0||(U=Nl(U),Ae(U))};function yd(U,ae,pe,we,Se){var Ze=new bf(ae||this.boundingBox,pe||this.xStep,we||this.yStep,this.gState,Se||this.matrix);Ze.stream=this.stream;var ot=U+"$$"+this.cloneIndex+++"$$";return pn(ot,Ze),Ze}var Eu=function(U,ae){var pe=it[U.key],we=Re[pe];if(we instanceof Jd)Ae("q"),Ae(_u(ae)),we.gState&&p.setGState(we.gState),Ae(U.matrix.toString()+" cm"),Ae("/"+pe+" sh"),Ae("Q");else if(we instanceof bf){var Se=new nr(1,0,0,-1,0,Di());U.matrix&&(Se=Se.multiply(U.matrix||es),pe=yd.call(we,U.key,U.boundingBox,U.xStep,U.yStep,Se).id),Ae("q"),Ae("/Pattern cs"),Ae("/"+pe+" scn"),we.gState&&p.setGState(we.gState),Ae(ae),Ae("Q")}},_u=function(U){switch(U){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},uA=p.moveTo=function(U,ae){return Ae(P(G(U))+" "+P(R(ae))+" m"),this},Oo=p.lineTo=function(U,ae){return Ae(P(G(U))+" "+P(R(ae))+" l"),this},Gi=p.curveTo=function(U,ae,pe,we,Se,Ze){return Ae([P(G(U)),P(R(ae)),P(G(pe)),P(R(we)),P(G(Se)),P(R(Ze)),"c"].join(" ")),this};p.__private__.line=p.line=function(U,ae,pe,we,Se){if(isNaN(U)||isNaN(ae)||isNaN(pe)||isNaN(we)||!Ls(Se))throw new Error("Invalid arguments passed to jsPDF.line");return F===N?this.lines([[pe-U,we-ae]],U,ae,[1,1],Se||"S"):this.lines([[pe-U,we-ae]],U,ae,[1,1]).stroke()},p.__private__.lines=p.lines=function(U,ae,pe,we,Se,Ze){var ot,qt,Zt,yr,br,ua,rn,En,Ma,Rn,wn,ds;if(typeof U=="number"&&(ds=pe,pe=ae,ae=U,U=ds),we=we||[1,1],Ze=Ze||!1,isNaN(ae)||isNaN(pe)||!Array.isArray(U)||!Array.isArray(we)||!Ls(Se)||typeof Ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(uA(ae,pe),ot=we[0],qt=we[1],yr=U.length,Rn=ae,wn=pe,Zt=0;Zt<yr;Zt++)(br=U[Zt]).length===2?(Rn=br[0]*ot+Rn,wn=br[1]*qt+wn,Oo(Rn,wn)):(ua=br[0]*ot+Rn,rn=br[1]*qt+wn,En=br[2]*ot+Rn,Ma=br[3]*qt+wn,Rn=br[4]*ot+Rn,wn=br[5]*qt+wn,Gi(ua,rn,En,Ma,Rn,wn));return Ze&&Cr(),dA(Se),this},p.path=function(U){for(var ae=0;ae<U.length;ae++){var pe=U[ae],we=pe.c;switch(pe.op){case"m":uA(we[0],we[1]);break;case"l":Oo(we[0],we[1]);break;case"c":Gi.apply(this,we);break;case"h":Cr()}}return this},p.__private__.rect=p.rect=function(U,ae,pe,we,Se){if(isNaN(U)||isNaN(ae)||isNaN(pe)||isNaN(we)||!Ls(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return F===N&&(we=-we),Ae([P(G(U)),P(R(ae)),P(G(pe)),P(G(we)),"re"].join(" ")),dA(Se),this},p.__private__.triangle=p.triangle=function(U,ae,pe,we,Se,Ze,ot){if(isNaN(U)||isNaN(ae)||isNaN(pe)||isNaN(we)||isNaN(Se)||isNaN(Ze)||!Ls(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-U,we-ae],[Se-pe,Ze-we],[U-Se,ae-Ze]],U,ae,[1,1],ot,!0),this},p.__private__.roundedRect=p.roundedRect=function(U,ae,pe,we,Se,Ze,ot){if(isNaN(U)||isNaN(ae)||isNaN(pe)||isNaN(we)||isNaN(Se)||isNaN(Ze)||!Ls(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*pe),Ze=Math.min(Ze,.5*we),this.lines([[pe-2*Se,0],[Se*qt,0,Se,Ze-Ze*qt,Se,Ze],[0,we-2*Ze],[0,Ze*qt,-Se*qt,Ze,-Se,Ze],[2*Se-pe,0],[-Se*qt,0,-Se,-Ze*qt,-Se,-Ze],[0,2*Ze-we],[0,-Ze*qt,Se*qt,-Ze,Se,-Ze]],U+Se,ae,[1,1],ot,!0),this},p.__private__.ellipse=p.ellipse=function(U,ae,pe,we,Se){if(isNaN(U)||isNaN(ae)||isNaN(pe)||isNaN(we)||!Ls(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ze=4/3*(Math.SQRT2-1)*pe,ot=4/3*(Math.SQRT2-1)*we;return uA(U+pe,ae),Gi(U+pe,ae-ot,U+Ze,ae-we,U,ae-we),Gi(U-Ze,ae-we,U-pe,ae-ot,U-pe,ae),Gi(U-pe,ae+ot,U-Ze,ae+we,U,ae+we),Gi(U+Ze,ae+we,U+pe,ae+ot,U+pe,ae),dA(Se),this},p.__private__.circle=p.circle=function(U,ae,pe,we){if(isNaN(U)||isNaN(ae)||isNaN(pe)||!Ls(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,ae,pe,pe,we)},p.setFont=function(U,ae,pe){return pe&&(ae=k(ae,pe)),Bt=As(U,ae,{disableWarning:!1}),this};var mo=p.__private__.getFont=p.getFont=function(){return Tt[As.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var U,ae,pe={};for(U in hr)if(hr.hasOwnProperty(U))for(ae in pe[U]=[],hr[U])hr[U].hasOwnProperty(ae)&&pe[U].push(ae);return pe},p.addFont=function(U,ae,pe,we,Se){var Ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ze.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Ze.indexOf(arguments[3])==-1&&(pe=k(pe,we)),Ra.call(this,U,ae,pe,Se=Se||"Identity-H")};var Vs,Ei=e.lineWidth||.200025,pr=p.__private__.getLineWidth=p.getLineWidth=function(){return Ei},pc=p.__private__.setLineWidth=p.setLineWidth=function(U){return Ei=U,Ae(P(G(U))+" w"),this};p.__private__.setLineDash=ar.API.setLineDash=ar.API.setLineDashPattern=function(U,ae){if(U=U||[],ae=ae||0,isNaN(ae)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(pe){return P(G(pe))}).join(" "),ae=P(G(ae)),Ae("["+U+"] "+ae+" d"),this};var po=p.__private__.getLineHeight=p.getLineHeight=function(){return Ue*Vs};p.__private__.getLineHeight=p.getLineHeight=function(){return Ue*Vs};var th=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(U){return typeof(U=U||1.15)=="number"&&(Vs=U),this},Fu=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Vs};th(e.lineHeight);var ui=p.__private__.getHorizontalCoordinate=function(U){return G(U)},Ho=p.__private__.getVerticalCoordinate=function(U){return F===S?U:ir[W].mediaBox.topRightY-ir[W].mediaBox.bottomLeftY-G(U)},ku=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(U){return P(ui(U))},fA=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(U){return P(Ho(U))},gc=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return at(gc)},p.__private__.setStrokeColor=p.setDrawColor=function(U,ae,pe,we){return gc=_t({ch1:U,ch2:ae,ch3:pe,ch4:we,pdfColorType:"draw",precision:2}),Ae(gc),this};var bd=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return at(bd)},p.__private__.setFillColor=p.setFillColor=function(U,ae,pe,we){return bd=_t({ch1:U,ch2:ae,ch3:pe,ch4:we,pdfColorType:"fill",precision:2}),Ae(bd),this};var Yi=e.textColor||"0 g",go=p.__private__.getTextColor=p.getTextColor=function(){return at(Yi)};p.__private__.setTextColor=p.setTextColor=function(U,ae,pe,we){return Yi=_t({ch1:U,ch2:ae,ch3:pe,ch4:we,pdfColorType:"text",precision:3}),this};var Xi=e.charSpace,hA=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Xi||0)};p.__private__.setCharSpace=p.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xi=U,this};var jd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(U){var ae=p.CapJoinStyles[U];if(ae===void 0)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jd=ae,Ae(ae+" J"),this};var Nd=0;p.__private__.setLineJoin=p.setLineJoin=function(U){var ae=p.CapJoinStyles[U];if(ae===void 0)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nd=ae,Ae(ae+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ae(P(G(U))+" M"),this},p.GState=m0,p.setGState=function(U){(U=typeof U=="string"?bt[Je[U]]:$o(null,U)).equals(Lt)||(Ae("/"+U.id+" gs"),Lt=U)};var $o=function(U,ae){if(!U||!Je[U]){var pe=!1;for(var we in bt)if(bt.hasOwnProperty(we)&&bt[we].equals(ae)){pe=!0;break}if(pe)ae=bt[we];else{var Se="GS"+(Object.keys(bt).length+1).toString(10);bt[Se]=ae,ae.id=Se}return U&&(Je[U]=ae.id),Tr.publish("addGState",ae),ae}};p.addGState=function(U,ae){return $o(U,ae),this},p.saveGraphicsState=function(){return Ae("q"),nt.push({key:Bt,size:Ue,color:Yi}),this},p.restoreGraphicsState=function(){Ae("Q");var U=nt.pop();return Bt=U.key,Ue=U.size,Yi=U.color,Lt=null,this},p.setCurrentTransformationMatrix=function(U){return Ae(U.toString()+" cm"),this},p.comment=function(U){return Ae("#"+U),this};var xo=function(U,ae){var pe=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Ze){isNaN(Ze)||(pe=parseFloat(Ze))}});var we=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Ze){isNaN(Ze)||(we=parseFloat(Ze))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Ze){Se=Ze.toString()}}),this},xc=function(U,ae,pe,we){xo.call(this,U,ae),this.type="rect";var Se=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(ot){isNaN(ot)||(Se=parseFloat(ot))}});var Ze=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ze},set:function(ot){isNaN(ot)||(Ze=parseFloat(ot))}}),this},vc=function(){this.page=lr,this.currentPage=W,this.pages=ve.slice(0),this.pagesContext=ir.slice(0),this.x=yt,this.y=Qr,this.matrix=Ir,this.width=wc(W),this.height=Fi(W),this.outputDestination=_e,this.id="",this.objectNumber=-1};vc.prototype.restore=function(){lr=this.page,W=this.currentPage,ir=this.pagesContext,ve=this.pages,yt=this.x,Qr=this.y,Ir=this.matrix,Bd(W,this.width),ki(W,this.height),_e=this.outputDestination};var _i=function(U,ae,pe,we,Se){wt.push(new vc),lr=W=0,ve=[],yt=U,Qr=ae,Ir=Se,Fr([pe,we])};for(var Ko in p.beginFormObject=function(U,ae,pe,we,Se){return _i(U,ae,pe,we,Se),this},p.endFormObject=function(U){return(function(ae){if(ws[ae])wt.pop().restore();else{var pe=new vc,we="Xo"+(Object.keys(Za).length+1).toString(10);pe.id=we,ws[ae]=we,Za[we]=pe,Tr.publish("addFormObject",pe),wt.pop().restore()}})(U),this},p.doFormObject=function(U,ae){var pe=Za[ws[U]];return Ae("q"),Ae(ae.toString()+" cm"),Ae("/"+pe.id+" Do"),Ae("Q"),this},p.getFormObject=function(U){var ae=Za[ws[U]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},p.save=function(U,ae){return U=U||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(Xd(aa(Ge()),U),typeof Xd.unload=="function"&&Er.setTimeout&&setTimeout(Xd.unload,911),this):new Promise(function(pe,we){try{var Se=Xd(aa(Ge()),U);typeof Xd.unload=="function"&&Er.setTimeout&&setTimeout(Xd.unload,911),pe(Se)}catch(Ze){we(Ze.message)}})},ar.API)ar.API.hasOwnProperty(Ko)&&(Ko==="events"&&ar.API.events.length?(function(U,ae){var pe,we,Se;for(Se=ae.length-1;Se!==-1;Se--)pe=ae[Se][0],we=ae[Se][1],U.subscribe.apply(U,[pe].concat(typeof we=="function"?[we]:we))})(Tr,ar.API.events):p[Ko]=ar.API[Ko]);function wc(U){return ir[U].mediaBox.topRightX-ir[U].mediaBox.bottomLeftX}function Bd(U,ae){ir[U].mediaBox.topRightX=ae+ir[U].mediaBox.bottomLeftX}function Fi(U){return ir[U].mediaBox.topRightY-ir[U].mediaBox.bottomLeftY}function ki(U,ae){ir[U].mediaBox.topRightY=ae+ir[U].mediaBox.bottomLeftY}var Cd=p.getPageWidth=function(U){return wc(U=U||W)/vt},ys=p.setPageWidth=function(U,ae){Bd(U,ae*vt)},Di=p.getPageHeight=function(U){return Fi(U=U||W)/vt},mA=p.setPageHeight=function(U,ae){ki(U,ae*vt)};return p.internal={pdfEscape:Qt,getStyle:Nl,getFont:mo,getFontSize:et,getCharSpace:hA,getTextColor:go,getLineHeight:po,getLineHeightFactor:Fu,getLineWidth:pr,write:dt,getHorizontalCoordinate:ui,getVerticalCoordinate:Ho,getCoordinateString:ku,getVerticalCoordinateString:fA,collections:{},newObject:ca,newAdditionalObject:Si,newObjectDeferred:za,newObjectDeferredBegin:en,getFilters:It,putStream:Ct,events:Tr,scaleFactor:vt,pageSize:{getWidth:function(){return Cd(W)},setWidth:function(U){ys(W,U)},getHeight:function(){return Di(W)},setHeight:function(U){mA(W,U)}},encryptionOptions:f,encryption:Br,getEncryptor:function(U){return f!==null?Br.encryptor(U,0):function(ae){return ae}},output:pt,getNumberOfPages:ts,pages:ve,out:Ae,f2:Q,f3:$,getPageInfo:qa,getPageInfoByObjId:Xr,getCurrentPageInfo:vn,getPDFVersion:x,Point:xo,Rectangle:xc,Matrix:nr,hasHotfix:xn},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Cd(W)},set:function(U){ys(W,U)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Di(W)},set:function(U){mA(W,U)},enumerable:!0,configurable:!0}),(function(U){for(var ae=0,pe=mt.length;ae<pe;ae++){var we=Ra.call(this,U[ae][0],U[ae][1],U[ae][2],mt[ae][3],!0);h===!1&&(m[we]=!0);var Se=U[ae][0].split("-");Ea({id:we,fontName:Se[0],fontStyle:Se[1]||""})}Tr.publish("addFonts",{fonts:Tt,dictionary:hr})}).call(p,mt),Bt="F1",gn(s,t),Tr.publish("initialized"),p}xf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},xf.prototype.toHexString=function(e){return e.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},xf.prototype.hexToBytes=function(e){for(var r=[],t=0;t<e.length;t+=2)r.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return r.join("")},xf.prototype.processOwnerPassword=function(e,r){return P1(I1(r).substr(0,5),e)},xf.prototype.encryptor=function(e,r){var t=I1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&r,r>>8&255)).substr(0,10);return function(a){return P1(t,a)}},m0.prototype.equals=function(e){var r,t="id,objectNumber,equals";if(!e||La(e)!==La(this))return!1;var a=0;for(r in this)if(!(t.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!e.hasOwnProperty(r)||this[r]!==e[r])return!1;a++}for(r in e)e.hasOwnProperty(r)&&t.indexOf(r)<0&&a--;return a===0},ar.API={events:[]},ar.version="3.0.3";var Ln=ar.API,xb=1,Su=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Dr=function(e){return e.toFixed(2)},$A=function(e){return e.toFixed(5)};Ln.__acroform__={};var qi=function(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e},kB=function(e){return e*xb},Hl=function(e){var r=new eF,t=Yt.internal.getHeight(e)||0,a=Yt.internal.getWidth(e)||0;return r.BBox=[0,0,Number(Dr(a)),Number(Dr(t))],r},MK=Ln.__acroform__.setBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<r},OK=Ln.__acroform__.clearBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<r)},HK=Ln.__acroform__.getBit=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<r?1:0},Vn=Ln.__acroform__.getBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HK(e,r-1)},zn=Ln.__acroform__.setBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return MK(e,r-1)},qn=Ln.__acroform__.clearBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return OK(e,r-1)},$K=Ln.__acroform__.calculateCoordinates=function(e,r){var t=r.internal.getHorizontalCoordinate,a=r.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],A={};return A.lowerLeft_X=t(s)||0,A.lowerLeft_Y=a(i+l)||0,A.upperRight_X=t(s+o)||0,A.upperRight_Y=a(i)||0,[Number(Dr(A.lowerLeft_X)),Number(Dr(A.lowerLeft_Y)),Number(Dr(A.upperRight_X)),Number(Dr(A.upperRight_Y))]},KK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var r=[],t=e._V||e.DV,a=Q1(e,t),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(e.scope.__private__.encodeColorString(e.color)),r.push("/"+s+" "+Dr(a.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC");var i=Hl(e);return i.scope=e.scope,i.stream=r.join(`
`),i}},Q1=function(e,r){var t=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");s=e.multiline?s.map(function(Q){return Q.split(`
`)}):s.map(function(Q){return[Q]});var i=t,o=Yt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Yt.internal.getWidth(e)||0;l=l<0?-l:l;var A=function(Q,$,G){if(Q+1<s.length){var R=$+" "+s[Q+1][0];return $p(R,e,G).width<=l-4}return!1};i++;e:for(;i>0;){r="",i--;var d,f,h=$p("3",e,i).height,m=e.multiline?o-i:(o-h)/2,p=m+=2,v=0,x=0,w=0;if(i<=0){r=`(...) Tj
`,r+="% Width of Text: "+$p(r,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var j="",N=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var F=!1;if(s[S].length!==1&&w!==s[S].length-1){if((h+2)*(N+2)+2>o)continue e;j+=s[S][w],F=!0,x=S,S--}else{j=(j+=s[S][w]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var T=parseInt(S),D=A(T,j,i),k=S>=s.length-1;if(D&&!k){j+=" ",w=0;continue}if(D||k){if(k)x=T;else if(e.multiline&&(h+2)*(N+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(N+2)+2>o)continue e;x=T}}for(var P="",E=v;E<=x;E++){var V=s[E];if(e.multiline){if(E===x){P+=V[w]+" ",w=(w+1)%V.length;continue}if(E===v){P+=V[V.length-1]+" ";continue}}P+=V[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,f=$p(P,e,i).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}r+=Dr(d)+" "+Dr(p)+` Td
`,r+="("+Su(P)+`) Tj
`,r+=-Dr(d)+` 0 Td
`,p=-(i+2),f=0,v=F?x:x+1,N++,j=""}break}return a.text=r,a.fontSize=i,a},$p=function(e,r,t){var a=r.scope.internal.getFont(r.fontName,r.fontStyle),s=r.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:r.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},VK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zK=function(e,r){var t={type:"reference",object:e};r.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===t.type&&a.object===t.object})===void 0&&r.internal.getPageInfo(e.page).pageContext.annotations.push(t)},qK=function(e,r){if(r.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(yl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(VK)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xb=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new tF,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&zK(i,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],A=[],d=l.Rect;if(l.Rect&&(l.Rect=$K(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Yt.createDefaultAppearanceStream(l),La(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(A=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=KK(l);A.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(s,l)),h+="/"+o+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(s,l)),h+="/"+o+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);h+=">>"}A.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:A,objectId:l.objId}),s.internal.out("endobj")}i&&(function(x,w){for(var j in x)if(x.hasOwnProperty(j)){var N=j,S=x[j];w.internal.newObjectDeferredBegin(S.objId,!0),La(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete x[N]}})(s.internal.acroformPlugin.xForms,s)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},Z3=Ln.__acroform__.arrayToPdfArray=function(e,r,t){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),La(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(r!==void 0&&t&&(a=t.internal.getEncryptor(r)),s+="("+Su(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},hw=function(e,r,t){var a=function(s){return s};return r!==void 0&&t&&(a=t.internal.getEncryptor(r)),(e=e||"").toString(),"("+Su(a(e))+")"},ec=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ec.prototype.toString=function(){return this.objId+" 0 R"},ec.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ec.prototype.getKeyValueListForStream=function(){var e=[],r=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in r)if(Object.getOwnPropertyDescriptor(this,r[t]).configurable===!1){var a=r[t],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:Z3(s,this.objId,this.scope)}):s instanceof ec?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var eF=function(){ec.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};qi(eF,ec);var tF=function(){ec.call(this);var e,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(a){return a};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Su(t(e))+")"}},set:function(t){e=t}})};qi(tF,ec);var yl=function e(){ec.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');r=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vn(r,3)},set:function(j){j?this.F=zn(r,3):this.F=qn(r,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(j){a=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(j){a[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(j){a[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(j){a[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(j){a[3]=j}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof p0)return;i="FieldObject"+e.FieldNum++}var j=function(N){return N};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Su(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(j){A=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/xb:d},set:function(j){d=j}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(j){f=j}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof p0||this instanceof lu))return hw(h,this.objId,this.scope)},set:function(j){j=j.toString(),h=j}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ks==0?hw(m,this.objId,this.scope):m},set:function(j){j=j.toString(),m=this instanceof ks==0?j.substr(0,1)==="("?cf(j.substr(1,j.length-2)):cf(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ks==1?cf(m.substr(1,m.length-1)):m},set:function(j){j=j.toString(),m=this instanceof ks==1?"/"+j:j}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ks==0?hw(p,this.objId,this.scope):p},set:function(j){j=j.toString(),p=this instanceof ks==0?j.substr(0,1)==="("?cf(j.substr(1,j.length-2)):cf(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ks==1?cf(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof ks==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(j){j=!!j,x=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(j){v=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,1)},set:function(j){j?this.Ff=zn(this.Ff,1):this.Ff=qn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,2)},set:function(j){j?this.Ff=zn(this.Ff,2):this.Ff=qn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,3)},set:function(j){j?this.Ff=zn(this.Ff,3):this.Ff=qn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');w=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(w){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};qi(yl,ec);var Ef=function(){yl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Z3(r,this.objId,this.scope)},set:function(t){var a,s;s=[],typeof(a=t)=="string"&&(s=(function(i,o,l){l||(l=1);for(var A,d=[];A=o.exec(i);)d.push(A[l]);return d})(a,/\((.*?)\)/g)),r=s}}),this.getOptions=function(){return r},this.setOptions=function(t){r=t,this.sort&&r.sort()},this.addOption=function(t){t=(t=t||"").toString(),r.push(t),this.sort&&r.sort()},this.removeOption=function(t,a){for(a=a||!1,t=(t=t||"").toString();r.indexOf(t)!==-1&&(r.splice(r.indexOf(t),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,18)},set:function(t){t?this.Ff=zn(this.Ff,18):this.Ff=qn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=zn(this.Ff,19):this.Ff=qn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,20)},set:function(t){t?(this.Ff=zn(this.Ff,20),r.sort()):this.Ff=qn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,22)},set:function(t){t?this.Ff=zn(this.Ff,22):this.Ff=qn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,23)},set:function(t){t?this.Ff=zn(this.Ff,23):this.Ff=qn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,27)},set:function(t){t?this.Ff=zn(this.Ff,27):this.Ff=qn(this.Ff,27)}}),this.hasAppearanceStream=!1};qi(Ef,yl);var _f=function(){Ef.call(this),this.fontName="helvetica",this.combo=!1};qi(_f,Ef);var Ff=function(){_f.call(this),this.combo=!0};qi(Ff,_f);var Ug=function(){Ff.call(this),this.edit=!0};qi(Ug,Ff);var ks=function(){yl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,15)},set:function(t){t?this.Ff=zn(this.Ff,15):this.Ff=qn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,16)},set:function(t){t?this.Ff=zn(this.Ff,16):this.Ff=qn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,17)},set:function(t){t?this.Ff=zn(this.Ff,17):this.Ff=qn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,26)},set:function(t){t?this.Ff=zn(this.Ff,26):this.Ff=qn(this.Ff,26)}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Su(t(r[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){La(t)==="object"&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){typeof t=="string"&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};qi(ks,yl);var Lg=function(){ks.call(this),this.pushButton=!0};qi(Lg,ks);var kf=function(){ks.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r!==void 0?r:[]}})};qi(kf,ks);var p0=function(){var e,r;yl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(s){r=s}});var t,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+Su(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){La(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qi(p0,yl),kf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var t=this.Kids[r];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},kf.prototype.createOption=function(e){var r=new p0;return r.Parent=this,r.optionName=e,this.Kids.push(r),WK.call(this.scope,r),r};var Ig=function(){ks.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Yt.CheckBox.createAppearanceStream()};qi(Ig,ks);var lu=function(){yl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,13)},set:function(r){r?this.Ff=zn(this.Ff,13):this.Ff=qn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,21)},set:function(r){r?this.Ff=zn(this.Ff,21):this.Ff=qn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,23)},set:function(r){r?this.Ff=zn(this.Ff,23):this.Ff=qn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,24)},set:function(r){r?this.Ff=zn(this.Ff,24):this.Ff=qn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,25)},set:function(r){r?this.Ff=zn(this.Ff,25):this.Ff=qn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,26)},set:function(r){r?this.Ff=zn(this.Ff,26):this.Ff=qn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){Number.isInteger(r)&&(e=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qi(lu,yl);var Pg=function(){lu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,14)},set:function(e){e?this.Ff=zn(this.Ff,14):this.Ff=qn(this.Ff,14)}}),this.password=!0};qi(Pg,lu);var Yt={CheckBox:{createAppearanceStream:function(){return{N:{On:Yt.CheckBox.YesNormal},D:{On:Yt.CheckBox.YesPushDown,Off:Yt.CheckBox.OffPushDown}}},YesPushDown:function(e){var r=Hl(e);r.scope=e.scope;var t=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Q1(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+Dr(Yt.internal.getWidth(e))+" "+Dr(Yt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+a+" "+Dr(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),r.stream=t.join(`
`),r},YesNormal:function(e){var r=Hl(e);r.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=Yt.internal.getHeight(e),o=Yt.internal.getWidth(e),l=Q1(e,e.caption);return s.push("1 g"),s.push("0 0 "+Dr(o)+" "+Dr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Dr(o-1)+" "+Dr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Dr(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(e){var r=Hl(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Dr(Yt.internal.getWidth(e))+" "+Dr(Yt.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(e){var r={D:{Off:Yt.RadioButton.Circle.OffPushDown},N:{}};return r.N[e]=Yt.RadioButton.Circle.YesNormal,r.D[e]=Yt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(e){var r=Hl(e);r.scope=e.scope;var t=[],a=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Yt.internal.Bezier_C,i=Number((a*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+$A(Yt.internal.getWidth(e)/2)+" "+$A(Yt.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=Hl(e);r.scope=e.scope;var t=[],a=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Yt.internal.Bezier_C).toFixed(5)),o=Number((a*Yt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$A(Yt.internal.getWidth(e)/2)+" "+$A(Yt.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+$A(Yt.internal.getWidth(e)/2)+" "+$A(Yt.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},OffPushDown:function(e){var r=Hl(e);r.scope=e.scope;var t=[],a=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Yt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$A(Yt.internal.getWidth(e)/2)+" "+$A(Yt.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r}},Cross:{createAppearanceStream:function(e){var r={D:{Off:Yt.RadioButton.Cross.OffPushDown},N:{}};return r.N[e]=Yt.RadioButton.Cross.YesNormal,r.D[e]=Yt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(e){var r=Hl(e);r.scope=e.scope;var t=[],a=Yt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+Dr(Yt.internal.getWidth(e)-2)+" "+Dr(Yt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(Dr(a.x1.x)+" "+Dr(a.x1.y)+" m"),t.push(Dr(a.x2.x)+" "+Dr(a.x2.y)+" l"),t.push(Dr(a.x4.x)+" "+Dr(a.x4.y)+" m"),t.push(Dr(a.x3.x)+" "+Dr(a.x3.y)+" l"),t.push("s"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=Hl(e);r.scope=e.scope;var t=Yt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+Dr(Yt.internal.getWidth(e))+" "+Dr(Yt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Dr(Yt.internal.getWidth(e)-2)+" "+Dr(Yt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Dr(t.x1.x)+" "+Dr(t.x1.y)+" m"),a.push(Dr(t.x2.x)+" "+Dr(t.x2.y)+" l"),a.push(Dr(t.x4.x)+" "+Dr(t.x4.y)+" m"),a.push(Dr(t.x3.x)+" "+Dr(t.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(e){var r=Hl(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Dr(Yt.internal.getWidth(e))+" "+Dr(Yt.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}}},createDefaultAppearanceStream:function(e){var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+r+" "+e.fontSize+" Tf "+t}};Yt.internal={Bezier_C:.551915024494,calculateCross:function(e){var r=Yt.internal.getWidth(e),t=Yt.internal.getHeight(e),a=Math.min(r,t);return{x1:{x:(r-a)/2,y:(t-a)/2+a},x2:{x:(r-a)/2+a,y:(t-a)/2},x3:{x:(r-a)/2,y:(t-a)/2},x4:{x:(r-a)/2+a,y:(t-a)/2+a}}}},Yt.internal.getWidth=function(e){var r=0;return La(e)==="object"&&(r=kB(e.Rect[2])),r},Yt.internal.getHeight=function(e){var r=0;return La(e)==="object"&&(r=kB(e.Rect[3])),r};var WK=Ln.addField=function(e){if(qK(this,e),!(e instanceof yl))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=e).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ln.AcroFormChoiceField=Ef,Ln.AcroFormListBox=_f,Ln.AcroFormComboBox=Ff,Ln.AcroFormEditBox=Ug,Ln.AcroFormButton=ks,Ln.AcroFormPushButton=Lg,Ln.AcroFormRadioButton=kf,Ln.AcroFormCheckBox=Ig,Ln.AcroFormTextField=lu,Ln.AcroFormPasswordField=Pg,Ln.AcroFormAppearance=Yt,Ln.AcroForm={ChoiceField:Ef,ListBox:_f,ComboBox:Ff,EditBox:Ug,Button:ks,PushButton:Lg,RadioButton:kf,CheckBox:Ig,TextField:lu,PasswordField:Pg,Appearance:Yt},ar.AcroForm={ChoiceField:Ef,ListBox:_f,ComboBox:Ff,EditBox:Ug,Button:ks,PushButton:Lg,RadioButton:kf,CheckBox:Ig,TextField:lu,PasswordField:Pg,Appearance:Yt};ar.AcroForm;function rF(e){return e.reduce(function(r,t,a){return r[t]=a,r},{})}(function(e){var r="addImage_";e.__addimage__={};var t="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(Q,$){var G,R,ee,K,z,X=t;if(($=$||t)==="RGBA"||Q.data!==void 0&&Q.data instanceof Uint8ClampedArray&&"height"in Q&&"width"in Q)return"RGBA";if(D(Q))for(z in a)for(ee=a[z],G=0;G<ee.length;G+=1){for(K=!0,R=0;R<ee[G].length;R+=1)if(ee[G][R]!==void 0&&ee[G][R]!==Q[R]){K=!1;break}if(K===!0){X=z;break}}else for(z in a)for(ee=a[z],G=0;G<ee.length;G+=1){for(K=!0,R=0;R<ee[G].length;R+=1)if(ee[G][R]!==void 0&&ee[G][R]!==Q.charCodeAt(R)){K=!1;break}if(K===!0){X=z;break}}return X===t&&$!==t&&(X=$),X},i=function Q($){for(var G=this.internal.write,R=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:$.width}),K.push({key:"Height",value:$.height}),$.colorSpace===j.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===j.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var z="",X=0,ne=$.transparency.length;X<ne;X++)z+=$.transparency[X]+" "+$.transparency[X]+" ";K.push({key:"Mask",value:"["+z+"]"})}$.sMask!==void 0&&K.push({key:"SMask",value:$.objectId+1+" 0 R"});var ue=$.filter!==void 0?["/"+$.filter]:void 0;if(R({data:$.data,additionalKeyValues:K,alreadyAppliedFilters:ue,objectId:$.objectId}),G("endobj"),"sMask"in $&&$.sMask!==void 0){var _,I=(_=$.sMaskBitsPerComponent)!==null&&_!==void 0?_:$.bitsPerComponent,W={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:$.sMask};"filter"in $&&(W.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat($.width),W.filter=$.filter),Q.call(this,W)}if($.colorSpace===j.INDEXED){var te=this.internal.newObject();R({data:P(new Uint8Array($.palette)),objectId:te}),G("endobj")}},o=function(){var Q=this.internal.collections[r+"images"];for(var $ in Q)i.call(this,Q[$])},l=function(){var Q,$=this.internal.collections[r+"images"],G=this.internal.write;for(var R in $)G("/I"+(Q=$[R]).index,Q.objectId,"0","R")},A=function(){this.internal.collections[r+"images"]||(this.internal.collections[r+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var Q=this.internal.collections[r+"images"];return A.call(this),Q},f=function(){return Object.keys(this.internal.collections[r+"images"]).length},h=function(Q){return typeof e["process"+Q.toUpperCase()]=="function"},m=function(Q){return La(Q)==="object"&&Q.nodeType===1},p=function(Q,$){if(Q.nodeName==="IMG"&&Q.hasAttribute("src")){var G=""+Q.getAttribute("src");if(G.indexOf("data:image/")===0)return Dg(unescape(G).split("base64,").pop());var R=e.loadFile(G,!0);if(R!==void 0)return R}if(Q.nodeName==="CANVAS"){if(Q.width===0||Q.height===0)throw new Error("Given canvas must have data. Canvas width: "+Q.width+", height: "+Q.height);var ee;switch($){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return Dg(Q.toDataURL(ee,1).split("base64,").pop())}},v=function(Q){var $=this.internal.collections[r+"images"];if($){for(var G in $)if(Q===$[G].alias)return $[G]}},x=function(Q,$,G){return Q||$||(Q=-96,$=-96),Q<0&&(Q=-1*G.width*72/Q/this.internal.scaleFactor),$<0&&($=-1*G.height*72/$/this.internal.scaleFactor),Q===0&&(Q=$*G.width/G.height),$===0&&($=Q*G.height/G.width),[Q,$]},w=function(Q,$,G,R,ee,K){var z=x.call(this,G,R,ee),X=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,ue=d.call(this);if(G=z[0],R=z[1],ue[ee.index]=ee,K){K*=Math.PI/180;var _=Math.cos(K),I=Math.sin(K),W=function(J){return J.toFixed(4)},te=[W(_),W(I),W(-1*I),W(_),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,X(Q),ne($+R),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([X(G),"0","0",X(R),"0","0","cm"].join(" "))):this.internal.write([X(G),"0","0",X(R),X(Q),ne($+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(Q){var $,G,R=0;if(typeof Q=="string")for(G=Q.length,$=0;$<G;$++)R=(R<<5)-R+Q.charCodeAt($),R|=0;else if(D(Q))for(G=Q.byteLength/2,$=0;$<G;$++)R=(R<<5)-R+Q[$],R|=0;return R},F=e.__addimage__.validateStringAsBase64=function(Q){(Q=Q||"").toString().trim();var $=!0;return Q.length===0&&($=!1),Q.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(Q.substr(0,Q.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Q.substr(-2))===!1&&($=!1),$},T=e.__addimage__.extractImageFromDataUrl=function(Q){if(Q==null||!(Q=Q.trim()).startsWith("data:"))return null;var $=Q.indexOf(",");return $<0?null:Q.substring(0,$).trim().endsWith("base64")?Q.substring($+1):null};e.__addimage__.isArrayBuffer=function(Q){return Q instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(Q){return Q instanceof Int8Array||Q instanceof Uint8Array||Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array},k=e.__addimage__.binaryStringToUint8Array=function(Q){for(var $=Q.length,G=new Uint8Array($),R=0;R<$;R++)G[R]=Q.charCodeAt(R);return G},P=e.__addimage__.arrayBufferToBinaryString=function(Q){for(var $="",G=D(Q)?Q:new Uint8Array(Q),R=0;R<G.length;R+=8192)$+=String.fromCharCode.apply(null,G.subarray(R,R+8192));return $};e.addImage=function(){var Q,$,G,R,ee,K,z,X,ne;if(typeof arguments[1]=="number"?($=t,G=arguments[1],R=arguments[2],ee=arguments[3],K=arguments[4],z=arguments[5],X=arguments[6],ne=arguments[7]):($=arguments[1],G=arguments[2],R=arguments[3],ee=arguments[4],K=arguments[5],z=arguments[6],X=arguments[7],ne=arguments[8]),La(Q=arguments[0])==="object"&&!m(Q)&&"imageData"in Q){var ue=Q;Q=ue.imageData,$=ue.format||$||t,G=ue.x||G||0,R=ue.y||R||0,ee=ue.w||ue.width||ee,K=ue.h||ue.height||K,z=ue.alias||z,X=ue.compression||X,ne=ue.rotation||ue.angle||ne}var _=this.internal.getFilters();if(X===void 0&&_.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(G)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var I=E.call(this,Q,$,z,X);return w.call(this,G,R,ee,K,I,ne),this};var E=function(Q,$,G,R){var ee,K,z;if(typeof Q=="string"&&s(Q)===t){Q=unescape(Q);var X=V(Q,!1);(X!==""||(X=e.loadFile(Q,!0))!==void 0)&&(Q=X)}if(m(Q)&&(Q=p(Q,$)),$=s(Q,$),!h($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((z=G)==null||z.length===0)&&(G=(function(ne){return typeof ne=="string"||D(ne)?S(ne):D(ne.data)?S(ne.data):null})(Q)),(ee=v.call(this,G))||(Q instanceof Uint8Array||$==="RGBA"||(K=Q,Q=k(Q)),ee=this["process"+$.toUpperCase()](Q,f.call(this),G,(function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in e.image_compression?ne:N.NONE})(R),K)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},V=e.__addimage__.convertBase64ToBinaryString=function(Q,$){$=typeof $!="boolean"||$;var G,R="";if(typeof Q=="string"){var ee;G=(ee=T(Q))!==null&&ee!==void 0?ee:Q;try{R=Dg(G)}catch(K){if($)throw F(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};e.getImageProperties=function(Q){var $,G,R="";if(m(Q)&&(Q=p(Q)),typeof Q=="string"&&s(Q)===t&&((R=V(Q,!1))===""&&(R=e.loadFile(Q)||""),Q=R),G=s(Q),!h(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(Q instanceof Uint8Array||(Q=k(Q)),!($=this["process"+G.toUpperCase()](Q)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=G,$}})(ar.API),(function(e){var r=function(t){if(t!==void 0&&t!="")return!0};ar.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,h=0;h<d.length&&!f;h++)switch((a=d[h]).type){case"link":(r(a.options.url)||r(a.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){a=d[m];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(t.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(x.objId),N=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+p(j(a.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+A.objId+" 0 R",i+=" /T ("+p(j(N))+") >>",x.content=i;var S=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+S,a.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(x.objId,"0 R",w.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var F=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(v(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var T=this.annotations._nameMap[a.options.name];a.options.pageNumber=T.page,a.options.top=T.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var D=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+D+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var a=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":a.pageContext.annotations.push(t)}},e.link=function(t,a,s,i,o){var l=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:A(t),y:d(a),w:A(t+s),h:d(a+i)},options:o,type:"link"})},e.textWithLink=function(t,a,s,i){var o,l,A=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(t,l).length;o=Math.ceil(d*f)}else l=A,o=d;return this.text(t,a,s,i),s+=.2*d,i.align==="center"&&(a-=A/2),i.align==="right"&&(a-=A),this.link(a,s-d,l,o,i),A},e.getTextWidth=function(t){var a=this.internal.getFontSize();return this.getStringUnitWidth(t)*a/this.internal.scaleFactor}})(ar.API),(function(e){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return r[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&r[x.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&s.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&r[x.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&r[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&r[x.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&r[x.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(x){var w=0,j=t,N="",S=0;for(w=0;w<x.length;w+=1)j[x.charCodeAt(w)]!==void 0?(S++,typeof(j=j[x.charCodeAt(w)])=="number"&&(N+=String.fromCharCode(j),j=t,S=0),w===x.length-1&&(j=t,N+=x.charAt(w-(S-1)),w-=S-1,S=0)):(j=t,N+=x.charAt(w-S),w-=S,S=0);return N};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&a[x.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(x,w,j){return o(x)?i(x)===!1?-1:!d(x)||!o(w)&&!o(j)||!o(j)&&l(w)||l(x)&&!o(w)||l(x)&&A(w)||l(x)&&l(w)?0:f(x)&&o(w)&&!l(w)&&o(j)&&d(j)?3:l(x)||!o(j)?1:2:-1},p=function(x){var w=0,j=0,N=0,S="",F="",T="",D=(x=x||"").split("\\s+"),k=[];for(w=0;w<D.length;w+=1){for(k.push(""),j=0;j<D[w].length;j+=1)S=D[w][j],F=D[w][j-1],T=D[w][j+1],o(S)?(N=m(S,F,T),k[w]+=N!==-1?String.fromCharCode(r[S.charCodeAt(0)][N]):S):k[w]+=S;k[w]=h(k[w])}return k.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var x,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(w)){var N=0;for(j=[],N=0;N<w.length;N+=1)Array.isArray(w[N])?j.push([p(w[N][0]),w[N][1],w[N][2]]):j.push([p(w[N])]);x=j}else x=p(w);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",v])})(ar.API),ar.API.autoPrint=function(e){var r;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})),this},(function(e){var r=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(t,a){var s;if((t=t||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])})(ar.API),(function(e){var r={left:0,top:0,bottom:0,right:0},t=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(A){return a.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},e.getTextDimensions=function(A,d){a.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,p=0,v=0,x=0,w=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var j=d.maxWidth;j>0?typeof A=="string"?A=this.splitTextToSize(A,j):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(S,F){return S.concat(w.splitTextToSize(F,j))},[])):A=Array.isArray(A)?A:[A];for(var N=0;N<A.length;N++)p<(x=this.getStringUnitWidth(A[N],{font:h})*f)&&(p=x);return p!==0&&(v=A.length),{w:p/=m,h:Math.max((v*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var A=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new i(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var A;A=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||r,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===A.lineNumber?(A.x=(d.x||0)+(d.width||0),A.y=d.y||0):d.y+d.height+A.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=h.top,p&&m&&(this.printHeaderRow(A.lineNumber,!0),A.y+=m[0].height)):A.y=d.y+d.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,t===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-f,A.y+f,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+f,{align:"center",baseline:"top",maxWidth:A.width-f-f}):this.text(A.text,A.x+f,A.y+f,{align:"left",baseline:"top",maxWidth:A.width-f-f})),this.internal.__cell__.lastCell=A,this};e.table=function(A,d,f,h,m){if(a.call(this),!f)throw new Error("No data for PDF table.");var p,v,x,w,j=[],N=[],S=[],F={},T={},D=[],k=[],P=(m=m||{}).autoSize||!1,E=m.printHeaders!==!1,V=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,Q=m.margins||Object.assign({width:this.getPageWidth()},r),$=typeof m.padding=="number"?m.padding:3,G=m.headerBackgroundColor||"#c8c8c8",R=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=Q,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=R,this.setFontSize(V),h==null)N=j=Object.keys(f[0]),S=j.map(function(){return"left"});else if(Array.isArray(h)&&La(h[0])==="object")for(j=h.map(function(ue){return ue.name}),N=h.map(function(ue){return ue.prompt||ue.name||""}),S=h.map(function(ue){return ue.align||"left"}),p=0;p<h.length;p+=1)T[h[p].name]=.7499990551181103*h[p].width;else Array.isArray(h)&&typeof h[0]=="string"&&(N=j=h,S=j.map(function(){return"left"}));if(P||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<j.length;p+=1){for(F[w=j[p]]=f.map(function(ue){return ue[w]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=F[w],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)D.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[w]=Math.max.apply(null,D)+$+$,D=[]}if(E){var ee={};for(p=0;p<j.length;p+=1)ee[j[p]]={},ee[j[p]].text=N[p],ee[j[p]].align=S[p];var K=l.call(this,ee,T);k=j.map(function(ue){return new i(A,d,T[ue],K,ee[ue].text,void 0,ee[ue].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var z=h.reduce(function(ue,_){return ue[_.name]=_.align,ue},{});for(p=0;p<f.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:f[p]},this);var X=l.call(this,f[p],T);for(x=0;x<j.length;x+=1){var ne=f[p][j[x]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:x,data:ne},this),o.call(this,new i(A,d,T[j[x]],X,ne,p+2,z[j[x]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=d,this};var l=function(A,d){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(A).map(function(p){var v=A[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/m+f+f},this).reduce(function(p,v){return Math.max(p,v)},0)};e.setTableHeaderRow=function(A){a.call(this),this.internal.__cell__.tableHeaderRow=A},e.printHeaderRow=function(A,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=A;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}})(ar.API);var aF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],R1=rF(nF),sF=[100,200,300,400,500,600,700,800,900],GK=rF(sF);function mw(e){var r=e.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return aF[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof R1[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:r,style:t,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:r,style:[s,t,a].join(" ")}}}function DB(e,r,t,a){var s;for(s=t;s>=0&&s<r.length;s+=a)if(e[r[s]])return e[r[s]];for(s=t;s>=0&&s<r.length;s-=a)if(e[r[s]])return e[r[s]]}var YK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},UB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function LB(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function IB(e){return e.trimLeft()}function XK(e,r){for(var t=0;t<e.length;){if(e.charAt(t)===r)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function JK(e){var r=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],e.substring(r[0].length)]}var Kp,PB,QB,Af,Vp,RB,TB,MB,pw=["times"];function OB(e,r,t,a,s){var i=4,o=$B;switch(s){case ar.API.image_compression.FAST:i=1,o=HB;break;case ar.API.image_compression.MEDIUM:i=6,o=KB;break;case ar.API.image_compression.SLOW:i=9,o=VB}e=(function(A,d,f,h){for(var m,p=A.length/d,v=new Uint8Array(A.length+p),x=[ZK,HB,$B,KB,VB],w=0;w<p;w+=1){var j=w*d,N=A.subarray(j,j+d);if(h)v.set(h(N,f,m),j+w);else{for(var S=x.length,F=[],T=0;T<S;T+=1)F[T]=x[T](N,f,m);var D=tV(F.concat());v.set(F[D],j+w)}m=N}return v})(e,r,Math.ceil(t*a/8),o);var l=k1(e,{level:i});return ar.API.__addimage__.arrayBufferToBinaryString(l)}function ZK(e){var r=Array.apply([],e);return r.unshift(0),r}function HB(e,r){var t=e.length,a=[];a[0]=1;for(var s=0;s<t;s+=1){var i=e[s-r]||0;a[s+1]=e[s]-i+256&255}return a}function $B(e,r,t){var a=e.length,s=[];s[0]=2;for(var i=0;i<a;i+=1){var o=t&&t[i]||0;s[i+1]=e[i]-o+256&255}return s}function KB(e,r,t){var a=e.length,s=[];s[0]=3;for(var i=0;i<a;i+=1){var o=e[i-r]||0,l=t&&t[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function VB(e,r,t){var a=e.length,s=[];s[0]=4;for(var i=0;i<a;i+=1){var o=eV(e[i-r]||0,t&&t[i]||0,t&&t[i-r]||0);s[i+1]=e[i]-o+256&255}return s}function eV(e,r,t){if(e===r&&r===t)return e;var a=Math.abs(r-t),s=Math.abs(e-t),i=Math.abs(e+r-t-t);return a<=s&&a<=i?e:s<=i?r:t}function tV(e){var r=e.map(function(t){return t.reduce(function(a,s){return a+Math.abs(s)},0)});return r.indexOf(Math.min.apply(null,r))}function gw(e,r,t){var a=r*t,s=Math.floor(a/8),i=16-(a-8*s+t),o=(1<<t)-1;return iF(e,s)>>i&o}function zB(e,r,t,a){var s=t*a,i=Math.floor(s/8),o=16-(s-8*i+a),l=(1<<a)-1,A=(r&l)<<o;(function(d,f,h){if(f+1<d.byteLength)d.setUint16(f,h,!1);else{var m=h>>8&255;d.setUint8(f,m)}})(e,i,iF(e,i)&~(l<<o)&65535|A)}function iF(e,r){return r+1<e.byteLength?e.getUint16(r,!1):e.getUint8(r)<<8}function rV(e){var r=0;if(e[r++]!==71||e[r++]!==73||e[r++]!==70||e[r++]!==56||(e[r++]+1&253)!=56||e[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[r++]|e[r++]<<8,a=e[r++]|e[r++]<<8,s=e[r++],i=s>>7,o=1<<1+(7&s);e[r++],e[r++];var l=null,A=null;i&&(l=r,A=o,r+=3*o);var d=!0,f=[],h=0,m=null,p=0,v=null;for(this.width=t,this.height=a;d&&r<e.length;)switch(e[r++]){case 33:switch(e[r++]){case 255:if(e[r]!==11||e[r+1]==78&&e[r+2]==69&&e[r+3]==84&&e[r+4]==83&&e[r+5]==67&&e[r+6]==65&&e[r+7]==80&&e[r+8]==69&&e[r+9]==50&&e[r+10]==46&&e[r+11]==48&&e[r+12]==3&&e[r+13]==1&&e[r+16]==0)r+=14,v=e[r++]|e[r++]<<8,r++;else for(r+=12;;){if(!((Q=e[r++])>=0))throw Error("Invalid block size");if(Q===0)break;r+=Q}break;case 249:if(e[r++]!==4||e[r+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[r++];h=e[r++]|e[r++]<<8,m=e[r++],1&x||(m=null),p=x>>2&7,r++;break;case 254:for(;;){if(!((Q=e[r++])>=0))throw Error("Invalid block size");if(Q===0)break;r+=Q}break;default:throw new Error("Unknown graphic control label: 0x"+e[r-1].toString(16))}break;case 44:var w=e[r++]|e[r++]<<8,j=e[r++]|e[r++]<<8,N=e[r++]|e[r++]<<8,S=e[r++]|e[r++]<<8,F=e[r++],T=F>>6&1,D=1<<1+(7&F),k=l,P=A,E=!1;F>>7&&(E=!0,k=r,P=D,r+=3*D);var V=r;for(r++;;){var Q;if(!((Q=e[r++])>=0))throw Error("Invalid block size");if(Q===0)break;r+=Q}f.push({x:w,y:j,width:N,height:S,has_local_palette:E,palette_offset:k,palette_size:P,data_offset:V,data_length:r-V,transparent_index:m,interlaced:!!T,delay:h,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[r-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function($){if($<0||$>=f.length)throw new Error("Frame index out of range.");return f[$]},this.decodeAndBlitFrameBGRA=function($,G){var R=this.frameInfo($),ee=R.width*R.height,K=new Uint8Array(ee);qB(e,R.data_offset,K,ee);var z=R.palette_offset,X=R.transparent_index;X===null&&(X=256);var ne=R.width,ue=t-ne,_=ne,I=4*(R.y*t+R.x),W=4*((R.y+R.height)*t+R.x),te=I,J=4*ue;R.interlaced===!0&&(J+=4*t*7);for(var Y=8,M=0,Z=K.length;M<Z;++M){var oe=K[M];if(_===0&&(_=ne,(te+=J)>=W&&(J=4*ue+4*t*(Y-1),te=I+(ne+ue)*(Y<<1),Y>>=1)),oe===X)te+=4;else{var fe=e[z+3*oe],ve=e[z+3*oe+1],Ee=e[z+3*oe+2];G[te++]=Ee,G[te++]=ve,G[te++]=fe,G[te++]=255}--_}},this.decodeAndBlitFrameRGBA=function($,G){var R=this.frameInfo($),ee=R.width*R.height,K=new Uint8Array(ee);qB(e,R.data_offset,K,ee);var z=R.palette_offset,X=R.transparent_index;X===null&&(X=256);var ne=R.width,ue=t-ne,_=ne,I=4*(R.y*t+R.x),W=4*((R.y+R.height)*t+R.x),te=I,J=4*ue;R.interlaced===!0&&(J+=4*t*7);for(var Y=8,M=0,Z=K.length;M<Z;++M){var oe=K[M];if(_===0&&(_=ne,(te+=J)>=W&&(J=4*ue+4*t*(Y-1),te=I+(ne+ue)*(Y<<1),Y>>=1)),oe===X)te+=4;else{var fe=e[z+3*oe],ve=e[z+3*oe+1],Ee=e[z+3*oe+2];G[te++]=fe,G[te++]=ve,G[te++]=Ee,G[te++]=255}--_}}}function qB(e,r,t,a){for(var s=e[r++],i=1<<s,o=i+1,l=o+1,A=s+1,d=(1<<A)-1,f=0,h=0,m=0,p=e[r++],v=new Int32Array(4096),x=null;;){for(;f<16&&p!==0;)h|=e[r++]<<f,f+=8,p===1?p=e[r++]:--p;if(f<A)break;var w=h&d;if(h>>=A,f-=A,w!==i){if(w===o)break;for(var j=w<l?w:x,N=0,S=j;S>i;)S=v[S]>>8,++N;var F=S;if(m+N+(j!==w?1:0)>a)return void Ka.log("Warning, gif stream longer than expected.");t[m++]=F;var T=m+=N;for(j!==w&&(t[m++]=F),S=j;N--;)S=v[S],t[--T]=255&S,S>>=8;x!==null&&l<4096&&(v[l++]=x<<8|F,l>=d+1&&A<12&&(++A,d=d<<1|1)),x=w}else l=o+1,d=(1<<(A=s+1))-1,x=null}return m!==a&&Ka.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function xw(e){var r,t,a,s,i,o=Math.floor,l=new Array(64),A=new Array(64),d=new Array(64),f=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),v=new Array(64),x=[],w=0,j=7,N=new Array(64),S=new Array(64),F=new Array(64),T=new Array(256),D=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(I,W){for(var te=0,J=0,Y=new Array,M=1;M<=16;M++){for(var Z=1;Z<=I[M];Z++)Y[W[J]]=[],Y[W[J]][0]=te,Y[W[J]][1]=M,J++,te++;te*=2}return Y}function z(I){for(var W=I[0],te=I[1]-1;te>=0;)W&1<<te&&(w|=1<<j),te--,--j<0&&(w==255?(X(255),X(0)):X(w),j=7,w=0)}function X(I){x.push(I)}function ne(I){X(I>>8&255),X(255&I)}function ue(I,W,te,J,Y){for(var M,Z=Y[0],oe=Y[240],fe=(function(Ue,ct){var et,Ot,He,Jt,kt,jt,Nr,Nt,Bt,vt,yt=0;for(Bt=0;Bt<8;++Bt){et=Ue[yt],Ot=Ue[yt+1],He=Ue[yt+2],Jt=Ue[yt+3],kt=Ue[yt+4],jt=Ue[yt+5],Nr=Ue[yt+6];var Qr=et+(Nt=Ue[yt+7]),Ir=et-Nt,Tt=Ot+Nr,hr=Ot-Nr,nt=He+jt,Re=He-jt,it=Jt+kt,bt=Jt-kt,Je=Qr+it,Lt=Qr-it,lr=Tt+nt,ir=Tt-nt;Ue[yt]=Je+lr,Ue[yt+4]=Je-lr;var Tr=.707106781*(ir+Lt);Ue[yt+2]=Lt+Tr,Ue[yt+6]=Lt-Tr;var $s=.382683433*((Je=bt+Re)-(ir=hr+Ir)),Za=.5411961*Je+$s,ws=1.306562965*ir+$s,wt=.707106781*(lr=Re+hr),nr=Ir+wt,Zn=Ir-wt;Ue[yt+5]=Zn+Za,Ue[yt+3]=Zn-Za,Ue[yt+1]=nr+ws,Ue[yt+7]=nr-ws,yt+=8}for(yt=0,Bt=0;Bt<8;++Bt){et=Ue[yt],Ot=Ue[yt+8],He=Ue[yt+16],Jt=Ue[yt+24],kt=Ue[yt+32],jt=Ue[yt+40],Nr=Ue[yt+48];var es=et+(Nt=Ue[yt+56]),pn=et-Nt,Pa=Ot+Nr,ca=Ot-Nr,za=He+jt,en=He-jt,Si=Jt+kt,Wi=Jt-kt,qe=es+Si,at=es-Si,_t=Pa+za,It=Pa-za;Ue[yt]=qe+_t,Ue[yt+32]=qe-_t;var Ct=.707106781*(It+at);Ue[yt+16]=at+Ct,Ue[yt+48]=at-Ct;var mr=.382683433*((qe=Wi+en)-(It=ca+pn)),or=.5411961*qe+mr,$r=1.306562965*It+mr,ea=.707106781*(_t=en+ca),Kt=pn+ea,da=pn-ea;Ue[yt+40]=da+or,Ue[yt+24]=da-or,Ue[yt+8]=Kt+$r,Ue[yt+56]=Kt-$r,yt++}for(Bt=0;Bt<64;++Bt)vt=Ue[Bt]*ct[Bt],p[Bt]=vt>0?vt+.5|0:vt-.5|0;return p})(I,W),ve=0;ve<64;++ve)v[k[ve]]=fe[ve];var Ee=v[0]-te;te=v[0],Ee==0?z(J[0]):(z(J[m[M=32767+Ee]]),z(h[M]));for(var _e=63;_e>0&&v[_e]==0;)_e--;if(_e==0)return z(Z),te;for(var xe,Ae=1;Ae<=_e;){for(var dt=Ae;v[Ae]==0&&Ae<=_e;)++Ae;var Ft=Ae-dt;if(Ft>=16){xe=Ft>>4;for(var mt=1;mt<=xe;++mt)z(oe);Ft&=15}M=32767+v[Ae],z(Y[(Ft<<4)+m[M]]),z(h[M]),Ae++}return _e!=63&&z(Z),te}function _(I){I=Math.min(Math.max(I,1),100),i!=I&&((function(W){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var Y=o((te[J]*W+50)/100);Y=Math.min(Math.max(Y,1),255),l[k[J]]=Y}for(var M=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Z=0;Z<64;Z++){var oe=o((M[Z]*W+50)/100);oe=Math.min(Math.max(oe,1),255),A[k[Z]]=oe}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,Ee=0;Ee<8;Ee++)for(var _e=0;_e<8;_e++)d[ve]=1/(l[k[ve]]*fe[Ee]*fe[_e]*8),f[ve]=1/(A[k[ve]]*fe[Ee]*fe[_e]*8),ve++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),i=I)}this.encode=function(I,W){W&&_(W),x=new Array,w=0,j=7,ne(65496),ne(65504),ne(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ne(1),ne(1),X(0),X(0),(function(){ne(65499),ne(132),X(0);for(var Ot=0;Ot<64;Ot++)X(l[Ot]);X(1);for(var He=0;He<64;He++)X(A[He])})(),(function(Ot,He){ne(65472),ne(17),X(8),ne(He),ne(Ot),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)})(I.width,I.height),(function(){ne(65476),ne(418),X(0);for(var Ot=0;Ot<16;Ot++)X(P[Ot+1]);for(var He=0;He<=11;He++)X(E[He]);X(16);for(var Jt=0;Jt<16;Jt++)X(V[Jt+1]);for(var kt=0;kt<=161;kt++)X(Q[kt]);X(1);for(var jt=0;jt<16;jt++)X($[jt+1]);for(var Nr=0;Nr<=11;Nr++)X(G[Nr]);X(17);for(var Nt=0;Nt<16;Nt++)X(R[Nt+1]);for(var Bt=0;Bt<=161;Bt++)X(ee[Bt])})(),ne(65498),ne(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var te=0,J=0,Y=0;w=0,j=7,this.encode.displayName="_encode_";for(var M,Z,oe,fe,ve,Ee,_e,xe,Ae,dt=I.data,Ft=I.width,mt=I.height,Ue=4*Ft,ct=0;ct<mt;){for(M=0;M<Ue;){for(ve=Ue*ct+M,_e=-1,xe=0,Ae=0;Ae<64;Ae++)Ee=ve+(xe=Ae>>3)*Ue+(_e=4*(7&Ae)),ct+xe>=mt&&(Ee-=Ue*(ct+1+xe-mt)),M+_e>=Ue&&(Ee-=M+_e-Ue+4),Z=dt[Ee++],oe=dt[Ee++],fe=dt[Ee++],N[Ae]=(D[Z]+D[oe+256|0]+D[fe+512|0]>>16)-128,S[Ae]=(D[Z+768|0]+D[oe+1024|0]+D[fe+1280|0]>>16)-128,F[Ae]=(D[Z+1280|0]+D[oe+1536|0]+D[fe+1792|0]>>16)-128;te=ue(N,d,te,r,a),J=ue(S,f,J,t,s),Y=ue(F,f,Y,t,s),M+=32}ct+=8}if(j>=0){var et=[];et[1]=j+1,et[0]=(1<<j+1)-1,z(et)}return ne(65497),new Uint8Array(x)},e=e||50,(function(){for(var I=String.fromCharCode,W=0;W<256;W++)T[W]=I(W)})(),r=K(P,E),t=K($,G),a=K(V,Q),s=K(R,ee),(function(){for(var I=1,W=2,te=1;te<=15;te++){for(var J=I;J<W;J++)m[32767+J]=te,h[32767+J]=[],h[32767+J][1]=te,h[32767+J][0]=J;for(var Y=-(W-1);Y<=-I;Y++)m[32767+Y]=te,h[32767+Y]=[],h[32767+Y][1]=te,h[32767+Y][0]=W-1+Y;I<<=1,W<<=1}})(),(function(){for(var I=0;I<256;I++)D[I]=19595*I,D[I+256|0]=38470*I,D[I+512|0]=7471*I+32768,D[I+768|0]=-11059*I,D[I+1024|0]=-21709*I,D[I+1280|0]=32768*I+8421375,D[I+1536|0]=-27439*I,D[I+1792|0]=-5329*I})(),_(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function il(e,r){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function WB(e){function r(E){if(!E)throw Error("assert :P")}function t(E,V,Q){for(var $=0;4>$;$++)if(E[V+$]!=Q.charCodeAt($))return!0;return!1}function a(E,V,Q,$,G){for(var R=0;R<G;R++)E[V+R]=Q[$+R]}function s(E,V,Q,$){for(var G=0;G<$;G++)E[V+G]=Q}function i(E){return new Int32Array(E)}function o(E,V){for(var Q=[],$=0;$<E;$++)Q.push(new V);return Q}function l(E,V){var Q=[];return(function $(G,R,ee){for(var K=ee[R],z=0;z<K&&(G.push(ee.length>R+1?[]:new V),!(ee.length<R+1));z++)$(G[z],R+1,ee)})(Q,0,E),Q}var A=function(){var E=this;function V(b,C){for(var O=1<<C-1>>>0;b&O;)O>>>=1;return O?(b&O-1)+O:b}function Q(b,C,O,q,re){r(!(q%O));do b[C+(q-=O)]=re;while(0<q)}function $(b,C,O,q,re){if(r(2328>=re),512>=re)var ie=i(512);else if((ie=i(re))==null)return 0;return(function(le,ce,de,he,be,Ie){var me,Ne,Fe=ce,Ye=1<<de,Qe=i(16),$e=i(16);for(r(be!=0),r(he!=null),r(le!=null),r(0<de),Ne=0;Ne<be;++Ne){if(15<he[Ne])return 0;++Qe[he[Ne]]}if(Qe[0]==be)return 0;for($e[1]=0,me=1;15>me;++me){if(Qe[me]>1<<me)return 0;$e[me+1]=$e[me]+Qe[me]}for(Ne=0;Ne<be;++Ne)me=he[Ne],0<he[Ne]&&(Ie[$e[me]++]=Ne);if($e[15]==1)return(he=new G).g=0,he.value=Ie[0],Q(le,Fe,1,Ye,he),Ye;var ze,tt=-1,rt=Ye-1,er=0,Ht=1,_r=1,Wt=1<<de;for(Ne=0,me=1,be=2;me<=de;++me,be<<=1){if(Ht+=_r<<=1,0>(_r-=Qe[me]))return 0;for(;0<Qe[me];--Qe[me])(he=new G).g=me,he.value=Ie[Ne++],Q(le,Fe+er,be,Wt,he),er=V(er,me)}for(me=de+1,be=2;15>=me;++me,be<<=1){if(Ht+=_r<<=1,0>(_r-=Qe[me]))return 0;for(;0<Qe[me];--Qe[me]){if(he=new G,(er&rt)!=tt){for(Fe+=Wt,ze=1<<(tt=me)-de;15>tt&&!(0>=(ze-=Qe[tt]));)++tt,ze<<=1;Ye+=Wt=1<<(ze=tt-de),le[ce+(tt=er&rt)].g=ze+de,le[ce+tt].value=Fe-ce-tt}he.g=me-de,he.value=Ie[Ne++],Q(le,Fe+(er>>de),be,Wt,he),er=V(er,me)}}return Ht!=2*$e[15]-1?0:Ye})(b,C,O,q,re,ie)}function G(){this.value=this.g=0}function R(){this.value=this.g=0}function ee(){this.G=o(5,G),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Li,R)}function K(b,C,O,q){r(b!=null),r(C!=null),r(2147483648>q),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=C,b.pa=O,b.Jd=C,b.Yc=O+q,b.Zc=4<=q?O+q-4+1:O,Z(b)}function z(b,C){for(var O=0;0<C--;)O|=fe(b,128)<<C;return O}function X(b,C){var O=z(b,C);return oe(b)?-O:O}function ne(b,C,O,q){var re,ie=0;for(r(b!=null),r(C!=null),r(4294967288>q),b.Sb=q,b.Ra=0,b.u=0,b.h=0,4<q&&(q=4),re=0;re<q;++re)ie+=C[O+re]<<8*re;b.Ra=ie,b.bb=q,b.oa=C,b.pa=O}function ue(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<_l-8>>>0,++b.bb,b.u-=8;J(b)&&(b.h=1,b.u=0)}function _(b,C){if(r(0<=C),!b.h&&C<=mi){var O=te(b)&hi[C];return b.u+=C,ue(b),O}return b.h=1,b.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(b){return b.Ra>>>(b.u&_l-1)>>>0}function J(b){return r(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>_l}function Y(b,C){b.u=C,b.h=J(b)}function M(b){b.u>=wo&&(r(b.u>=wo),ue(b))}function Z(b){r(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(r(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function oe(b){return z(b,1)}function fe(b,C){var O=b.Ca;0>b.b&&Z(b);var q=b.b,re=O*C>>>8,ie=(b.I>>>q>re)+0;for(ie?(O-=re,b.I-=re+1<<q>>>0):O=re+1,q=O,re=0;256<=q;)re+=8,q>>=8;return q=7^re+zo[q],b.b-=q,b.Ca=(O<<q)-1,ie}function ve(b,C,O){b[C+0]=O>>24&255,b[C+1]=O>>16&255,b[C+2]=O>>8&255,b[C+3]=255&O}function Ee(b,C){return b[C+0]|b[C+1]<<8}function _e(b,C){return Ee(b,C)|b[C+2]<<16}function xe(b,C){return Ee(b,C)|Ee(b,C+2)<<16}function Ae(b,C){var O=1<<C;return r(b!=null),r(0<C),b.X=i(O),b.X==null?0:(b.Mb=32-C,b.Xa=C,1)}function dt(b,C){r(b!=null),r(C!=null),r(b.Xa==C.Xa),a(C.X,0,b.X,0,1<<C.Xa)}function Ft(){this.X=[],this.Xa=this.Mb=0}function mt(b,C,O,q){r(O!=null),r(q!=null);var re=O[0],ie=q[0];return re==0&&(re=(b*ie+C/2)/C),ie==0&&(ie=(C*re+b/2)/b),0>=re||0>=ie?0:(O[0]=re,q[0]=ie,1)}function Ue(b,C){return b+(1<<C)-1>>>C}function ct(b,C){return((4278255360&b)+(4278255360&C)>>>0&4278255360)+((16711935&b)+(16711935&C)>>>0&16711935)>>>0}function et(b,C){E[C]=function(O,q,re,ie,le,ce,de){var he;for(he=0;he<le;++he){var be=E[b](ce[de+he-1],re,ie+he);ce[de+he]=ct(O[q+he],be)}}}function Ot(){this.ud=this.hd=this.jd=0}function He(b,C){return((4278124286&(b^C))>>>1)+(b&C)>>>0}function Jt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function kt(b,C){return Jt(b+(b-C+.5>>1))}function jt(b,C,O){return Math.abs(C-O)-Math.abs(b-O)}function Nr(b,C,O,q,re,ie,le){for(q=ie[le-1],O=0;O<re;++O)ie[le+O]=q=ct(b[C+O],q)}function Nt(b,C,O,q,re){var ie;for(ie=0;ie<O;++ie){var le=b[C+ie],ce=le>>8&255,de=16711935&(de=(de=16711935&le)+((ce<<16)+ce));q[re+ie]=(4278255360&le)+de>>>0}}function Bt(b,C){C.jd=255&b,C.hd=b>>8&255,C.ud=b>>16&255}function vt(b,C,O,q,re,ie){var le;for(le=0;le<q;++le){var ce=C[O+le],de=ce>>>8,he=ce,be=255&(be=(be=ce>>>16)+((b.jd<<24>>24)*(de<<24>>24)>>>5));he=255&(he=(he+=(b.hd<<24>>24)*(de<<24>>24)>>>5)+((b.ud<<24>>24)*(be<<24>>24)>>>5)),re[ie+le]=(4278255360&ce)+(be<<16)+he}}function yt(b,C,O,q,re){E[C]=function(ie,le,ce,de,he,be,Ie,me,Ne){for(de=Ie;de<me;++de)for(Ie=0;Ie<Ne;++Ie)he[be++]=re(ce[q(ie[le++])])},E[b]=function(ie,le,ce,de,he,be,Ie){var me=8>>ie.b,Ne=ie.Ea,Fe=ie.K[0],Ye=ie.w;if(8>me)for(ie=(1<<ie.b)-1,Ye=(1<<me)-1;le<ce;++le){var Qe,$e=0;for(Qe=0;Qe<Ne;++Qe)Qe&ie||($e=q(de[he++])),be[Ie++]=re(Fe[$e&Ye]),$e>>=me}else E["VP8LMapColor"+O](de,he,Fe,Ye,be,Ie,le,ce,Ne)}}function Qr(b,C,O,q,re){for(O=C+O;C<O;){var ie=b[C++];q[re++]=ie>>16&255,q[re++]=ie>>8&255,q[re++]=255&ie}}function Ir(b,C,O,q,re){for(O=C+O;C<O;){var ie=b[C++];q[re++]=ie>>16&255,q[re++]=ie>>8&255,q[re++]=255&ie,q[re++]=ie>>24&255}}function Tt(b,C,O,q,re){for(O=C+O;C<O;){var ie=(le=b[C++])>>16&240|le>>12&15,le=240&le|le>>28&15;q[re++]=ie,q[re++]=le}}function hr(b,C,O,q,re){for(O=C+O;C<O;){var ie=(le=b[C++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;q[re++]=ie,q[re++]=le}}function nt(b,C,O,q,re){for(O=C+O;C<O;){var ie=b[C++];q[re++]=255&ie,q[re++]=ie>>8&255,q[re++]=ie>>16&255}}function Re(b,C,O,q,re,ie){if(ie==0)for(O=C+O;C<O;)ve(q,((ie=b[C++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),re+=32;else a(q,re,b,C,O)}function it(b,C){E[C][0]=E[b+"0"],E[C][1]=E[b+"1"],E[C][2]=E[b+"2"],E[C][3]=E[b+"3"],E[C][4]=E[b+"4"],E[C][5]=E[b+"5"],E[C][6]=E[b+"6"],E[C][7]=E[b+"7"],E[C][8]=E[b+"8"],E[C][9]=E[b+"9"],E[C][10]=E[b+"10"],E[C][11]=E[b+"11"],E[C][12]=E[b+"12"],E[C][13]=E[b+"13"],E[C][14]=E[b+"0"],E[C][15]=E[b+"0"]}function bt(b){return b==jA||b==Uc||b==Ld||b==Id}function Je(){this.eb=[],this.size=this.A=this.fb=0}function Lt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function lr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Je,this.f.kb=new Lt,this.sd=null}function ir(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $s(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Za(b,C){var O=b.T,q=C.ba.f.RGBA,re=q.eb,ie=q.fb+b.ka*q.A,le=Gs[C.ba.S],ce=b.y,de=b.O,he=b.f,be=b.N,Ie=b.ea,me=b.W,Ne=C.cc,Fe=C.dc,Ye=C.Mc,Qe=C.Nc,$e=b.ka,ze=b.ka+b.T,tt=b.U,rt=tt+1>>1;for($e==0?le(ce,de,null,null,he,be,Ie,me,he,be,Ie,me,re,ie,null,null,tt):(le(C.ec,C.fc,ce,de,Ne,Fe,Ye,Qe,he,be,Ie,me,re,ie-q.A,re,ie,tt),++O);$e+2<ze;$e+=2)Ne=he,Fe=be,Ye=Ie,Qe=me,be+=b.Rc,me+=b.Rc,ie+=2*q.A,le(ce,(de+=2*b.fa)-b.fa,ce,de,Ne,Fe,Ye,Qe,he,be,Ie,me,re,ie-q.A,re,ie,tt);return de+=b.fa,b.j+ze<b.o?(a(C.ec,C.fc,ce,de,tt),a(C.cc,C.dc,he,be,rt),a(C.Mc,C.Nc,Ie,me,rt),O--):1&ze||le(ce,de,null,null,he,be,Ie,me,he,be,Ie,me,re,ie+q.A,null,null,tt),O}function ws(b,C,O){var q=b.F,re=[b.J];if(q!=null){var ie=b.U,le=C.ba.S,ce=le==Ud||le==Ld;C=C.ba.f.RGBA;var de=[0],he=b.ka;de[0]=b.T,b.Kb&&(he==0?--de[0]:(--he,re[0]-=b.width),b.j+b.ka+b.T==b.o&&(de[0]=b.o-b.j-he));var be=C.eb;he=C.fb+he*C.A,b=kd(q,re[0],b.width,ie,de,be,he+(ce?0:3),C.A),r(O==de),b&&bt(le)&&Dc(be,he,ce,ie,de,C.A)}return 0}function wt(b){var C=b.ma,O=C.ba.S,q=11>O,re=O==Ul||O==Dd||O==Ud||O==_a||O==12||bt(O);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!pA(C.Oa,b,re?11:12))return 0;if(re&&bt(O)&&Du(),b.da)alert("todo:use_scaling");else{if(q){if(C.Ib=$s,b.Kb){if(O=b.U+1>>1,C.memory=i(b.U+2*O),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+b.U,C.Mc=C.cc,C.Nc=C.dc+O,C.Ib=Za,Du()}}else alert("todo:EmitYUV");re&&(C.Jb=ws,q&&Ui())}if(q&&!us){for(b=0;256>b;++b)Ys[b]=89858*(b-128)+to>>Yo,Xs[b]=-22014*(b-128)+to,SA[b]=-45773*(b-128),Qc[b]=113618*(b-128)+to>>Yo;for(b=va;b<ja;++b)C=76283*(b-16)+to>>Yo,Mu[b-va]=ln(C,255),qm[b-va]=ln(C+8>>4,15);us=1}return 1}function nr(b){var C=b.ma,O=b.U,q=b.T;return r(!(1&b.ka)),0>=O||0>=q?0:(O=C.Ib(b,C),C.Jb!=null&&C.Jb(b,C,O),C.Dc+=O,1)}function Zn(b){b.ma.memory=null}function es(b,C,O,q){return _(b,8)!=47?0:(C[0]=_(b,14)+1,O[0]=_(b,14)+1,q[0]=_(b,1),_(b,3)!=0?0:!b.h)}function pn(b,C){if(4>b)return b+1;var O=b-2>>1;return(2+(1&b)<<O)+_(C,O)+1}function Pa(b,C){return 120<C?C-120:1<=(O=((O=kx[C-1])>>4)*b+(8-(15&O)))?O:1;var O}function ca(b,C,O){var q=te(O),re=b[C+=255&q].g-8;return 0<re&&(Y(O,O.u+8),q=te(O),C+=b[C].value,C+=q&(1<<re)-1),Y(O,O.u+b[C].g),b[C].value}function za(b,C,O){return O.g+=b.g,O.value+=b.value<<C>>>0,r(8>=O.g),b.g}function en(b,C,O){var q=b.xc;return r((C=q==0?0:b.vc[b.md*(O>>q)+(C>>q)])<b.Wb),b.Ya[C]}function Si(b,C,O,q){var re=b.ab,ie=b.c*C,le=b.C;C=le+C;var ce=O,de=q;for(q=b.Ta,O=b.Ua;0<re--;){var he=b.gc[re],be=le,Ie=C,me=ce,Ne=de,Fe=(de=q,ce=O,he.Ea);switch(r(be<Ie),r(Ie<=he.nc),he.hc){case 2:yn(me,Ne,(Ie-be)*Fe,de,ce);break;case 0:var Ye=be,Qe=Ie,$e=de,ze=ce,tt=(Wt=he).Ea;Ye==0&&(qo(me,Ne,null,null,1,$e,ze),Nr(me,Ne+1,0,0,tt-1,$e,ze+1),Ne+=tt,ze+=tt,++Ye);for(var rt=1<<Wt.b,er=rt-1,Ht=Ue(tt,Wt.b),_r=Wt.K,Wt=Wt.w+(Ye>>Wt.b)*Ht;Ye<Qe;){var Jr=_r,dn=Wt,kr=1;for(yo(me,Ne,$e,ze-tt,1,$e,ze);kr<tt;){var $t=(kr&~er)+rt;$t>tt&&($t=tt),(0,Ec[Jr[dn++]>>8&15])(me,Ne+ +kr,$e,ze+kr-tt,$t-kr,$e,ze+kr),kr=$t}Ne+=tt,ze+=tt,++Ye&er||(Wt+=Ht)}Ie!=he.nc&&a(de,ce-Fe,de,ce+(Ie-be-1)*Fe,Fe);break;case 1:for(Fe=me,Qe=Ne,tt=(me=he.Ea)-(ze=me&~($e=(Ne=1<<he.b)-1)),Ye=Ue(me,he.b),rt=he.K,he=he.w+(be>>he.b)*Ye;be<Ie;){for(er=rt,Ht=he,_r=new Ot,Wt=Qe+ze,Jr=Qe+me;Qe<Wt;)Bt(er[Ht++],_r),xA(_r,Fe,Qe,Ne,de,ce),Qe+=Ne,ce+=Ne;Qe<Jr&&(Bt(er[Ht++],_r),xA(_r,Fe,Qe,tt,de,ce),Qe+=tt,ce+=tt),++be&$e||(he+=Ye)}break;case 3:if(me==de&&Ne==ce&&0<he.b){for(Qe=de,me=Fe=ce+(Ie-be)*Fe-(ze=(Ie-be)*Ue(he.Ea,he.b)),Ne=de,$e=ce,Ye=[],ze=(tt=ze)-1;0<=ze;--ze)Ye[ze]=Ne[$e+ze];for(ze=tt-1;0<=ze;--ze)Qe[me+ze]=Ye[ze];Cc(he,be,Ie,de,Fe,de,ce)}else Cc(he,be,Ie,me,Ne,de,ce)}ce=q,de=O}de!=O&&a(q,O,ce,de,ie)}function Wi(b,C){var O=b.V,q=b.Ba+b.c*b.C,re=C-b.C;if(r(C<=b.l.o),r(16>=re),0<re){var ie=b.l,le=b.Ta,ce=b.Ua,de=ie.width;if(Si(b,re,O,q),re=ce=[ce],r((O=b.C)<(q=C)),r(ie.v<ie.va),q>ie.o&&(q=ie.o),O<ie.j){var he=ie.j-O;O=ie.j,re[0]+=he*de}if(O>=q?O=0:(re[0]+=4*ie.v,ie.ka=O-ie.j,ie.U=ie.va-ie.v,ie.T=q-O,O=1),O){if(ce=ce[0],11>(O=b.ca).S){var be=O.f.RGBA,Ie=(q=O.S,re=ie.U,ie=ie.T,he=be.eb,be.A),me=ie;for(be=be.fb+b.Ma*be.A;0<me--;){var Ne=le,Fe=ce,Ye=re,Qe=he,$e=be;switch(q){case Pu:vA(Ne,Fe,Ye,Qe,$e);break;case Ul:Wo(Ne,Fe,Ye,Qe,$e);break;case jA:Wo(Ne,Fe,Ye,Qe,$e),Dc(Qe,$e,0,Ye,1,0);break;case Hm:_c(Ne,Fe,Ye,Qe,$e);break;case Dd:Re(Ne,Fe,Ye,Qe,$e,1);break;case Uc:Re(Ne,Fe,Ye,Qe,$e,1),Dc(Qe,$e,0,Ye,1,0);break;case Ud:Re(Ne,Fe,Ye,Qe,$e,0);break;case Ld:Re(Ne,Fe,Ye,Qe,$e,0),Dc(Qe,$e,1,Ye,1,0);break;case _a:Fl(Ne,Fe,Ye,Qe,$e);break;case Id:Fl(Ne,Fe,Ye,Qe,$e),ah(Qe,$e,Ye,1,0);break;case Qu:kl(Ne,Fe,Ye,Qe,$e);break;default:r(0)}ce+=de,be+=Ie}b.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");r(b.Ma<=O.height)}}b.C=C,r(b.C<=b.i)}function qe(b){var C;if(0<b.ua)return 0;for(C=0;C<b.Wb;++C){var O=b.Ya[C].G,q=b.Ya[C].H;if(0<O[1][q[1]+0].g||0<O[2][q[2]+0].g||0<O[3][q[3]+0].g)return 0}return 1}function at(b,C,O,q,re,ie){if(b.Z!=0){var le=b.qd,ce=b.rd;for(r(js[b.Z]!=null);C<O;++C)js[b.Z](le,ce,q,re,q,re,ie),le=q,ce=re,re+=ie;b.qd=le,b.rd=ce}}function _t(b,C){var O=b.l.ma,q=O.Z==0||O.Z==1?b.l.j:b.C;if(q=b.C<q?q:b.C,r(C<=b.l.o),C>q){var re=b.l.width,ie=O.ca,le=O.tb+re*q,ce=b.V,de=b.Ba+b.c*q,he=b.gc;r(b.ab==1),r(he[0].hc==3),Zi(he[0],q,C,ce,de,ie,le),at(O,q,C,ie,le,re)}b.C=b.Ma=C}function It(b,C,O,q,re,ie,le){var ce=b.$/q,de=b.$%q,he=b.m,be=b.s,Ie=O+b.$,me=Ie;re=O+q*re;var Ne=O+q*ie,Fe=280+be.ua,Ye=b.Pb?ce:16777216,Qe=0<be.ua?be.Wa:null,$e=be.wc,ze=Ie<Ne?en(be,de,ce):null;r(b.C<ie),r(Ne<=re);var tt=!1;e:for(;;){for(;tt||Ie<Ne;){var rt=0;if(ce>=Ye){var er=Ie-O;r((Ye=b).Pb),Ye.wd=Ye.m,Ye.xd=er,0<Ye.s.ua&&dt(Ye.s.Wa,Ye.s.vb),Ye=ce+Tu}if(de&$e||(ze=en(be,de,ce)),r(ze!=null),ze.Qb&&(C[Ie]=ze.qb,tt=!0),!tt)if(M(he),ze.jc){rt=he,er=C;var Ht=Ie,_r=ze.pd[te(rt)&Li-1];r(ze.jc),256>_r.g?(Y(rt,rt.u+_r.g),er[Ht]=_r.value,rt=0):(Y(rt,rt.u+_r.g-256),r(256<=_r.value),rt=_r.value),rt==0&&(tt=!0)}else rt=ca(ze.G[0],ze.H[0],he);if(he.h)break;if(tt||256>rt){if(!tt)if(ze.nd)C[Ie]=(ze.qb|rt<<8)>>>0;else{if(M(he),tt=ca(ze.G[1],ze.H[1],he),M(he),er=ca(ze.G[2],ze.H[2],he),Ht=ca(ze.G[3],ze.H[3],he),he.h)break;C[Ie]=(Ht<<24|tt<<16|rt<<8|er)>>>0}if(tt=!1,++Ie,++de>=q&&(de=0,++ce,le!=null&&ce<=ie&&!(ce%16)&&le(b,ce),Qe!=null))for(;me<Ie;)rt=C[me++],Qe.X[(506832829*rt&4294967295)>>>Qe.Mb]=rt}else if(280>rt){if(rt=pn(rt-256,he),er=ca(ze.G[4],ze.H[4],he),M(he),er=Pa(q,er=pn(er,he)),he.h)break;if(Ie-O<er||re-Ie<rt)break e;for(Ht=0;Ht<rt;++Ht)C[Ie+Ht]=C[Ie+Ht-er];for(Ie+=rt,de+=rt;de>=q;)de-=q,++ce,le!=null&&ce<=ie&&!(ce%16)&&le(b,ce);if(r(Ie<=re),de&$e&&(ze=en(be,de,ce)),Qe!=null)for(;me<Ie;)rt=C[me++],Qe.X[(506832829*rt&4294967295)>>>Qe.Mb]=rt}else{if(!(rt<Fe))break e;for(tt=rt-280,r(Qe!=null);me<Ie;)rt=C[me++],Qe.X[(506832829*rt&4294967295)>>>Qe.Mb]=rt;rt=Ie,r(!(tt>>>(er=Qe).Xa)),C[rt]=er.X[tt],tt=!0}tt||r(he.h==J(he))}if(b.Pb&&he.h&&Ie<re)r(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&dt(b.s.vb,b.s.Wa);else{if(he.h)break e;le!=null&&le(b,ce>ie?ie:ce),b.a=0,b.$=Ie-O}return 1}return b.a=3,0}function Ct(b){r(b!=null),b.vc=null,b.yc=null,b.Ya=null;var C=b.Wa;C!=null&&(C.X=null),b.vb=null,r(b!=null)}function mr(){var b=new Zt;return b==null?null:(b.a=0,b.xb=BA,it("Predictor","VP8LPredictors"),it("Predictor","VP8LPredictors_C"),it("PredictorAdd","VP8LPredictorsAdd"),it("PredictorAdd","VP8LPredictorsAdd_C"),yn=Nt,xA=vt,vA=Qr,Wo=Ir,Fl=Tt,kl=hr,_c=nt,E.VP8LMapColor32b=bo,E.VP8LMapColor8b=Sc,b)}function or(b,C,O,q,re){var ie=1,le=[b],ce=[C],de=q.m,he=q.s,be=null,Ie=0;e:for(;;){if(O)for(;ie&&_(de,1);){var me=le,Ne=ce,Fe=q,Ye=1,Qe=Fe.m,$e=Fe.gc[Fe.ab],ze=_(Qe,2);if(Fe.Oc&1<<ze)ie=0;else{switch(Fe.Oc|=1<<ze,$e.hc=ze,$e.Ea=me[0],$e.nc=Ne[0],$e.K=[null],++Fe.ab,r(4>=Fe.ab),ze){case 0:case 1:$e.b=_(Qe,3)+2,Ye=or(Ue($e.Ea,$e.b),Ue($e.nc,$e.b),0,Fe,$e.K),$e.K=$e.K[0];break;case 3:var tt,rt=_(Qe,8)+1,er=16<rt?0:4<rt?1:2<rt?2:3;if(me[0]=Ue($e.Ea,er),$e.b=er,tt=Ye=or(rt,1,0,Fe,$e.K)){var Ht,_r=rt,Wt=$e,Jr=1<<(8>>Wt.b),dn=i(Jr);if(dn==null)tt=0;else{var kr=Wt.K[0],$t=Wt.w;for(dn[0]=Wt.K[0][0],Ht=1;Ht<1*_r;++Ht)dn[Ht]=ct(kr[$t+Ht],dn[Ht-1]);for(;Ht<4*Jr;++Ht)dn[Ht]=0;Wt.K[0]=null,Wt.K[0]=dn,tt=1}}Ye=tt;break;case 2:break;default:r(0)}ie=Ye}}if(le=le[0],ce=ce[0],ie&&_(de,1)&&!(ie=1<=(Ie=_(de,4))&&11>=Ie)){q.a=3;break e}var St;if(St=ie)t:{var bn,wr,qr,Oa=q,rs=le,Fn=ce,an=Ie,Tn=O,as=Oa.m,Wa=Oa.s,ta=[null],ha=1,Ga=0,ma=Km[an];r:for(;;){if(Tn&&_(as,1)){var un=_(as,3)+2,fn=Ue(rs,un),Fa=Ue(Fn,un),Ns=fn*Fa;if(!or(fn,Fa,0,Oa,ta))break r;for(ta=ta[0],Wa.xc=un,bn=0;bn<Ns;++bn){var Na=ta[bn]>>8&65535;ta[bn]=Na,Na>=ha&&(ha=Na+1)}}if(as.h)break r;for(wr=0;5>wr;++wr){var ka=Lc[wr];!wr&&0<an&&(ka+=1<<an),Ga<ka&&(Ga=ka)}var kn=o(ha*ma,G),fs=ha,Js=o(fs,ee);if(Js==null)var jn=null;else r(65536>=fs),jn=Js;var Nn=i(Ga);if(jn==null||Nn==null||kn==null){Oa.a=1;break r}var Bs=kn;for(bn=qr=0;bn<ha;++bn){var Da=jn[bn],Cs=Da.G,Qi=Da.H,ro=0,ns=1,Bn=0;for(wr=0;5>wr;++wr){ka=Lc[wr],Cs[wr]=Bs,Qi[wr]=qr,!wr&&0<an&&(ka+=1<<an);n:{var Pl,Jo=ka,EA=Oa,Bo=Nn,Gm=Bs,mh=qr,$a=0,ao=EA.m,ph=_(ao,1);if(s(Bo,0,0,Jo),ph){var gh=_(ao,1)+1,Ou=_(ao,1),Hu=_(ao,Ou==0?1:8);Bo[Hu]=1,gh==2&&(Bo[Hu=_(ao,8)]=1);var Co=1}else{var Ya=i(19),Dn=_(ao,4)+4;if(19<Dn){EA.a=3;var Cn=0;break n}for(Pl=0;Pl<Dn;++Pl)Ya[Fx[Pl]]=_(ao,3);var _A=void 0,Zo=void 0,FA=EA,Px=Ya,Mn=Jo,$u=Bo,Md=0,So=FA.m,no=8,pi=o(128,G);a:for(;$(pi,0,7,Px,19);){if(_(So,1)){var Od=2+2*_(So,3);if((_A=2+_(So,Od))>Mn)break a}else _A=Mn;for(Zo=0;Zo<Mn&&_A--;){M(So);var Ku=pi[0+(127&te(So))];Y(So,So.u+Ku.g);var Ql=Ku.value;if(16>Ql)$u[Zo++]=Ql,Ql!=0&&(no=Ql);else{var Ym=Ql==16,xh=Ql-16,Xm=Ru[xh],vh=_(So,Pd[xh])+Xm;if(Zo+vh>Mn)break a;for(var Jm=Ym?no:0;0<vh--;)$u[Zo++]=Jm}}Md=1;break a}Md||(FA.a=3),Co=Md}(Co=Co&&!ao.h)&&($a=$(Gm,mh,8,Bo,Jo)),Co&&$a!=0?Cn=$a:(EA.a=3,Cn=0)}if(Cn==0)break r;if(ns&&$m[wr]==1&&(ns=Bs[qr].g==0),ro+=Bs[qr].g,qr+=Cn,3>=wr){var kA,Vu=Nn[0];for(kA=1;kA<ka;++kA)Nn[kA]>Vu&&(Vu=Nn[kA]);Bn+=Vu}}if(Da.nd=ns,Da.Qb=0,ns&&(Da.qb=(Cs[3][Qi[3]+0].value<<24|Cs[1][Qi[1]+0].value<<16|Cs[2][Qi[2]+0].value)>>>0,ro==0&&256>Cs[0][Qi[0]+0].value&&(Da.Qb=1,Da.qb+=Cs[0][Qi[0]+0].value<<8)),Da.jc=!Da.Qb&&6>Bn,Da.jc){var Hd,gi=Da;for(Hd=0;Hd<Li;++Hd){var el=Hd,so=gi.pd[el],Tc=gi.G[0][gi.H[0]+el];256<=Tc.value?(so.g=Tc.g+256,so.value=Tc.value):(so.g=0,so.value=0,el>>=za(Tc,8,so),el>>=za(gi.G[1][gi.H[1]+el],16,so),el>>=za(gi.G[2][gi.H[2]+el],0,so),za(gi.G[3][gi.H[3]+el],24,so))}}}Wa.vc=ta,Wa.Wb=ha,Wa.Ya=jn,Wa.yc=kn,St=1;break t}St=0}if(!(ie=St)){q.a=3;break e}if(0<Ie){if(he.ua=1<<Ie,!Ae(he.Wa,Ie)){q.a=1,ie=0;break e}}else he.ua=0;var zu=q,qu=le,Zm=ce,Wu=zu.s,Gu=Wu.xc;if(zu.c=qu,zu.i=Zm,Wu.md=Ue(qu,Gu),Wu.wc=Gu==0?-1:(1<<Gu)-1,O){q.xb=No;break e}if((be=i(le*ce))==null){q.a=1,ie=0;break e}ie=(ie=It(q,be,0,le,ce,ce,null))&&!de.h;break e}return ie?(re!=null?re[0]=be:(r(be==null),r(O)),q.$=0,O||Ct(he)):Ct(he),ie}function $r(b,C){var O=b.c*b.i,q=O+C+16*C;return r(b.c<=C),b.V=i(q),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+O+C,1)}function ea(b,C){var O=b.C,q=C-O,re=b.V,ie=b.Ba+b.c*O;for(r(C<=b.l.o);0<q;){var le=16<q?16:q,ce=b.l.ma,de=b.l.width,he=de*le,be=ce.ca,Ie=ce.tb+de*O,me=b.Ta,Ne=b.Ua;Si(b,le,re,ie),nh(me,Ne,be,Ie,he),at(ce,O,O+le,be,Ie,de),q-=le,re+=le*b.c,O+=le}r(O==C),b.C=b.Ma=C}function Kt(){this.ub=this.yd=this.td=this.Rb=0}function da(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qa(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function gr(){this.Yb=(function(){var b=[];return(function C(O,q,re){for(var ie=re[q],le=0;le<ie&&(O.push(re.length>q+1?[]:0),!(re.length<q+1));le++)C(O[le],q+1,re)})(b,0,[3,11]),b})()}function Ea(){this.jb=i(3),this.Wc=l([4,8],gr),this.Xc=l([4,17],gr)}function Ra(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Qt(){this.ld=this.La=this.dd=this.tc=0}function Fr(){this.Na=this.la=0}function gn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ks(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Us(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qt),this.Y=0,this.ya=Array(new Ks),this.aa=0,this.l=new on}function ts(){this.y=i(16),this.f=i(8),this.ea=i(8)}function As(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new Kt,this.Kc=new da,this.ed=new Ra,this.Qa=new Qa,this.Ic=this.$c=this.Aa=0,this.D=new Us,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,I),this.ia=0,this.pb=o(4,gn),this.Pa=new Ea,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ts),this.Hd=0,this.rb=Array(new Fr),this.sb=0,this.wa=Array(new Qt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ks),this.L=this.aa=0,this.gd=l([4,2],Qt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function on(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function AA(){var b=new As;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Ic||(Ic=Ge)),b}function tn(b,C,O){return b.a==0&&(b.a=C,b.sc=O,b.cb=0),0}function mc(b,C,O){return 3<=O&&b[C+0]==157&&b[C+1]==1&&b[C+2]==42}function gt(b,C){if(b==null)return 0;if(b.a=0,b.sc="OK",C==null)return tn(b,2,"null VP8Io passed to VP8GetHeaders()");var O=C.data,q=C.w,re=C.ha;if(4>re)return tn(b,7,"Truncated header.");var ie=O[q+0]|O[q+1]<<8|O[q+2]<<16,le=b.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return tn(b,3,"Incorrect keyframe parameters.");if(!le.yd)return tn(b,4,"Frame not displayable.");q+=3,re-=3;var ce=b.Kc;if(le.Rb){if(7>re)return tn(b,7,"cannot parse picture header");if(!mc(O,q,re))return tn(b,3,"Bad code word");ce.c=16383&(O[q+4]<<8|O[q+3]),ce.Td=O[q+4]>>6,ce.i=16383&(O[q+6]<<8|O[q+5]),ce.Ud=O[q+6]>>6,q+=7,re-=7,b.za=ce.c+15>>4,b.Ub=ce.i+15>>4,C.width=ce.c,C.height=ce.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,s((ie=b.Pa).jb,0,255,ie.jb.length),r((ie=b.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,s(ie.Zb,0,0,ie.Zb.length),s(ie.Lb,0,0,ie.Lb)}if(le.ub>re)return tn(b,7,"bad partition length");K(ie=b.m,O,q,le.ub),q+=le.ub,re-=le.ub,le.Rb&&(ce.Ld=oe(ie),ce.Kd=oe(ie)),ce=b.Qa;var de,he=b.Pa;if(r(ie!=null),r(ce!=null),ce.Cb=oe(ie),ce.Cb){if(ce.Bb=oe(ie),oe(ie)){for(ce.Fb=oe(ie),de=0;4>de;++de)ce.Zb[de]=oe(ie)?X(ie,7):0;for(de=0;4>de;++de)ce.Lb[de]=oe(ie)?X(ie,6):0}if(ce.Bb)for(de=0;3>de;++de)he.jb[de]=oe(ie)?z(ie,8):255}else ce.Bb=0;if(ie.Ka)return tn(b,3,"cannot parse segment header");if((ce=b.ed).zd=oe(ie),ce.Tb=z(ie,6),ce.wb=z(ie,3),ce.Pc=oe(ie),ce.Pc&&oe(ie)){for(he=0;4>he;++he)oe(ie)&&(ce.vd[he]=X(ie,6));for(he=0;4>he;++he)oe(ie)&&(ce.od[he]=X(ie,6))}if(b.L=ce.Tb==0?0:ce.zd?1:2,ie.Ka)return tn(b,3,"cannot parse filter header");var be=re;if(re=de=q,q=de+be,ce=be,b.Xb=(1<<z(b.m,2))-1,be<3*(he=b.Xb))O=7;else{for(de+=3*he,ce-=3*he,be=0;be<he;++be){var Ie=O[re+0]|O[re+1]<<8|O[re+2]<<16;Ie>ce&&(Ie=ce),K(b.Jc[+be],O,de,Ie),de+=Ie,ce-=Ie,re+=3}K(b.Jc[+he],O,de,ce),O=de<q?0:5}if(O!=0)return tn(b,O,"cannot parse partitions");for(O=z(de=b.m,7),re=oe(de)?X(de,4):0,q=oe(de)?X(de,4):0,ce=oe(de)?X(de,4):0,he=oe(de)?X(de,4):0,de=oe(de)?X(de,4):0,be=b.Qa,Ie=0;4>Ie;++Ie){if(be.Cb){var me=be.Zb[Ie];be.Fb||(me+=O)}else{if(0<Ie){b.pb[Ie]=b.pb[0];continue}me=O}var Ne=b.pb[Ie];Ne.Sc[0]=NA[ln(me+re,127)],Ne.Sc[1]=Qd[ln(me+0,127)],Ne.Eb[0]=2*NA[ln(me+q,127)],Ne.Eb[1]=101581*Qd[ln(me+ce,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=NA[ln(me+he,117)],Ne.Qc[1]=Qd[ln(me+de,127)],Ne.lc=me+de}if(!le.Rb)return tn(b,4,"Not a key frame.");for(oe(ie),le=b.Pa,O=0;4>O;++O){for(re=0;8>re;++re)for(q=0;3>q;++q)for(ce=0;11>ce;++ce)he=fe(ie,Ux[O][re][q][ce])?z(ie,8):zm[O][re][q][ce],le.Wc[O][re].Yb[q][ce]=he;for(re=0;17>re;++re)le.Xc[O][re]=le.Wc[O][uh[re]]}return b.kc=oe(ie),b.kc&&(b.Bd=z(ie,8)),b.cb=1}function Ge(b,C,O,q,re,ie,le){var ce=C[re].Yb[O];for(O=0;16>re;++re){if(!fe(b,ce[O+0]))return re;for(;!fe(b,ce[O+1]);)if(ce=C[++re].Yb[0],O=0,re==16)return 16;var de=C[re+1].Yb;if(fe(b,ce[O+2])){var he=b,be=0;if(fe(he,(me=ce)[(Ie=O)+3]))if(fe(he,me[Ie+6])){for(ce=0,Ie=2*(be=fe(he,me[Ie+8]))+(me=fe(he,me[Ie+9+be])),be=0,me=Ah[Ie];me[ce];++ce)be+=be+fe(he,me[ce]);be+=3+(8<<Ie)}else fe(he,me[Ie+7])?(be=7+2*fe(he,165),be+=fe(he,145)):be=5+fe(he,159);else be=fe(he,me[Ie+4])?3+fe(he,me[Ie+5]):2;ce=de[2]}else be=1,ce=de[1];de=le+dh[re],0>(he=b).b&&Z(he);var Ie,me=he.b,Ne=(Ie=he.Ca>>1)-(he.I>>me)>>31;--he.b,he.Ca+=Ne,he.Ca|=1,he.I-=(Ie+1&Ne)<<me,ie[de]=((be^Ne)-Ne)*q[(0<re)+0]}return 16}function aa(b){var C=b.rb[b.sb-1];C.la=0,C.Na=0,s(b.zc,0,0,b.zc.length),b.ja=0}function pt(b,C,O,q,re){re=b[C+O+32*q]+(re>>3),b[C+O+32*q]=-256&re?0>re?0:255:re}function xn(b,C,O,q,re,ie){pt(b,C,0,O,q+re),pt(b,C,1,O,q+ie),pt(b,C,2,O,q-ie),pt(b,C,3,O,q-re)}function Br(b){return(20091*b>>16)+b}function qa(b,C,O,q){var re,ie=0,le=i(16);for(re=0;4>re;++re){var ce=b[C+0]+b[C+8],de=b[C+0]-b[C+8],he=(35468*b[C+4]>>16)-Br(b[C+12]),be=Br(b[C+4])+(35468*b[C+12]>>16);le[ie+0]=ce+be,le[ie+1]=de+he,le[ie+2]=de-he,le[ie+3]=ce-be,ie+=4,C++}for(re=ie=0;4>re;++re)ce=(b=le[ie+0]+4)+le[ie+8],de=b-le[ie+8],he=(35468*le[ie+4]>>16)-Br(le[ie+12]),pt(O,q,0,0,ce+(be=Br(le[ie+4])+(35468*le[ie+12]>>16))),pt(O,q,1,0,de+he),pt(O,q,2,0,de-he),pt(O,q,3,0,ce-be),ie++,q+=32}function Xr(b,C,O,q){var re=b[C+0]+4,ie=35468*b[C+4]>>16,le=Br(b[C+4]),ce=35468*b[C+1]>>16;xn(O,q,0,re+le,b=Br(b[C+1]),ce),xn(O,q,1,re+ie,b,ce),xn(O,q,2,re-ie,b,ce),xn(O,q,3,re-le,b,ce)}function vn(b,C,O,q,re){qa(b,C,O,q),re&&qa(b,C+16,O,q+4)}function Ta(b,C,O,q){Fc(b,C+0,O,q,1),Fc(b,C+32,O,q+128,1)}function Ls(b,C,O,q){var re;for(b=b[C+0]+4,re=0;4>re;++re)for(C=0;4>C;++C)pt(O,q,C,re,b)}function Nl(b,C,O,q){b[C+0]&&fa(b,C+0,O,q),b[C+16]&&fa(b,C+16,O,q+4),b[C+32]&&fa(b,C+32,O,q+128),b[C+48]&&fa(b,C+48,O,q+128+4)}function Cr(b,C,O,q){var re,ie=i(16);for(re=0;4>re;++re){var le=b[C+0+re]+b[C+12+re],ce=b[C+4+re]+b[C+8+re],de=b[C+4+re]-b[C+8+re],he=b[C+0+re]-b[C+12+re];ie[0+re]=le+ce,ie[8+re]=le-ce,ie[4+re]=he+de,ie[12+re]=he-de}for(re=0;4>re;++re)le=(b=ie[0+4*re]+3)+ie[3+4*re],ce=ie[1+4*re]+ie[2+4*re],de=ie[1+4*re]-ie[2+4*re],he=b-ie[3+4*re],O[q+0]=le+ce>>3,O[q+16]=he+de>>3,O[q+32]=le-ce>>3,O[q+48]=he-de>>3,q+=64}function Mo(b,C,O){var q,re=C-32,ie=Is,le=255-b[re-1];for(q=0;q<O;++q){var ce,de=ie,he=le+b[C-1];for(ce=0;ce<O;++ce)b[C+ce]=de[he+b[re+ce]];C+=32}}function dA(b,C){Mo(b,C,4)}function yd(b,C){Mo(b,C,8)}function Eu(b,C){Mo(b,C,16)}function _u(b,C){var O;for(O=0;16>O;++O)a(b,C+32*O,b,C-32,16)}function uA(b,C){var O;for(O=16;0<O;--O)s(b,C,b[C-1],16),C+=32}function Oo(b,C,O){var q;for(q=0;16>q;++q)s(C,O+32*q,b,16)}function Gi(b,C){var O,q=16;for(O=0;16>O;++O)q+=b[C-1+32*O]+b[C+O-32];Oo(q>>5,b,C)}function mo(b,C){var O,q=8;for(O=0;16>O;++O)q+=b[C-1+32*O];Oo(q>>4,b,C)}function Vs(b,C){var O,q=8;for(O=0;16>O;++O)q+=b[C+O-32];Oo(q>>4,b,C)}function Ei(b,C){Oo(128,b,C)}function pr(b,C,O){return b+2*C+O+2>>2}function pc(b,C){var O,q=C-32;for(q=new Uint8Array([pr(b[q-1],b[q+0],b[q+1]),pr(b[q+0],b[q+1],b[q+2]),pr(b[q+1],b[q+2],b[q+3]),pr(b[q+2],b[q+3],b[q+4])]),O=0;4>O;++O)a(b,C+32*O,q,0,q.length)}function po(b,C){var O=b[C-1],q=b[C-1+32],re=b[C-1+64],ie=b[C-1+96];ve(b,C+0,16843009*pr(b[C-1-32],O,q)),ve(b,C+32,16843009*pr(O,q,re)),ve(b,C+64,16843009*pr(q,re,ie)),ve(b,C+96,16843009*pr(re,ie,ie))}function th(b,C){var O,q=4;for(O=0;4>O;++O)q+=b[C+O-32]+b[C-1+32*O];for(q>>=3,O=0;4>O;++O)s(b,C+32*O,q,4)}function Fu(b,C){var O=b[C-1+0],q=b[C-1+32],re=b[C-1+64],ie=b[C-1-32],le=b[C+0-32],ce=b[C+1-32],de=b[C+2-32],he=b[C+3-32];b[C+0+96]=pr(q,re,b[C-1+96]),b[C+1+96]=b[C+0+64]=pr(O,q,re),b[C+2+96]=b[C+1+64]=b[C+0+32]=pr(ie,O,q),b[C+3+96]=b[C+2+64]=b[C+1+32]=b[C+0+0]=pr(le,ie,O),b[C+3+64]=b[C+2+32]=b[C+1+0]=pr(ce,le,ie),b[C+3+32]=b[C+2+0]=pr(de,ce,le),b[C+3+0]=pr(he,de,ce)}function ui(b,C){var O=b[C+1-32],q=b[C+2-32],re=b[C+3-32],ie=b[C+4-32],le=b[C+5-32],ce=b[C+6-32],de=b[C+7-32];b[C+0+0]=pr(b[C+0-32],O,q),b[C+1+0]=b[C+0+32]=pr(O,q,re),b[C+2+0]=b[C+1+32]=b[C+0+64]=pr(q,re,ie),b[C+3+0]=b[C+2+32]=b[C+1+64]=b[C+0+96]=pr(re,ie,le),b[C+3+32]=b[C+2+64]=b[C+1+96]=pr(ie,le,ce),b[C+3+64]=b[C+2+96]=pr(le,ce,de),b[C+3+96]=pr(ce,de,de)}function Ho(b,C){var O=b[C-1+0],q=b[C-1+32],re=b[C-1+64],ie=b[C-1-32],le=b[C+0-32],ce=b[C+1-32],de=b[C+2-32],he=b[C+3-32];b[C+0+0]=b[C+1+64]=ie+le+1>>1,b[C+1+0]=b[C+2+64]=le+ce+1>>1,b[C+2+0]=b[C+3+64]=ce+de+1>>1,b[C+3+0]=de+he+1>>1,b[C+0+96]=pr(re,q,O),b[C+0+64]=pr(q,O,ie),b[C+0+32]=b[C+1+96]=pr(O,ie,le),b[C+1+32]=b[C+2+96]=pr(ie,le,ce),b[C+2+32]=b[C+3+96]=pr(le,ce,de),b[C+3+32]=pr(ce,de,he)}function ku(b,C){var O=b[C+0-32],q=b[C+1-32],re=b[C+2-32],ie=b[C+3-32],le=b[C+4-32],ce=b[C+5-32],de=b[C+6-32],he=b[C+7-32];b[C+0+0]=O+q+1>>1,b[C+1+0]=b[C+0+64]=q+re+1>>1,b[C+2+0]=b[C+1+64]=re+ie+1>>1,b[C+3+0]=b[C+2+64]=ie+le+1>>1,b[C+0+32]=pr(O,q,re),b[C+1+32]=b[C+0+96]=pr(q,re,ie),b[C+2+32]=b[C+1+96]=pr(re,ie,le),b[C+3+32]=b[C+2+96]=pr(ie,le,ce),b[C+3+64]=pr(le,ce,de),b[C+3+96]=pr(ce,de,he)}function fA(b,C){var O=b[C-1+0],q=b[C-1+32],re=b[C-1+64],ie=b[C-1+96];b[C+0+0]=O+q+1>>1,b[C+2+0]=b[C+0+32]=q+re+1>>1,b[C+2+32]=b[C+0+64]=re+ie+1>>1,b[C+1+0]=pr(O,q,re),b[C+3+0]=b[C+1+32]=pr(q,re,ie),b[C+3+32]=b[C+1+64]=pr(re,ie,ie),b[C+3+64]=b[C+2+64]=b[C+0+96]=b[C+1+96]=b[C+2+96]=b[C+3+96]=ie}function gc(b,C){var O=b[C-1+0],q=b[C-1+32],re=b[C-1+64],ie=b[C-1+96],le=b[C-1-32],ce=b[C+0-32],de=b[C+1-32],he=b[C+2-32];b[C+0+0]=b[C+2+32]=O+le+1>>1,b[C+0+32]=b[C+2+64]=q+O+1>>1,b[C+0+64]=b[C+2+96]=re+q+1>>1,b[C+0+96]=ie+re+1>>1,b[C+3+0]=pr(ce,de,he),b[C+2+0]=pr(le,ce,de),b[C+1+0]=b[C+3+32]=pr(O,le,ce),b[C+1+32]=b[C+3+64]=pr(q,O,le),b[C+1+64]=b[C+3+96]=pr(re,q,O),b[C+1+96]=pr(ie,re,q)}function bd(b,C){var O;for(O=0;8>O;++O)a(b,C+32*O,b,C-32,8)}function Yi(b,C){var O;for(O=0;8>O;++O)s(b,C,b[C-1],8),C+=32}function go(b,C,O){var q;for(q=0;8>q;++q)s(C,O+32*q,b,8)}function Xi(b,C){var O,q=8;for(O=0;8>O;++O)q+=b[C+O-32]+b[C-1+32*O];go(q>>4,b,C)}function hA(b,C){var O,q=4;for(O=0;8>O;++O)q+=b[C+O-32];go(q>>3,b,C)}function jd(b,C){var O,q=4;for(O=0;8>O;++O)q+=b[C-1+32*O];go(q>>3,b,C)}function Nd(b,C){go(128,b,C)}function $o(b,C,O){var q=b[C-O],re=b[C+0],ie=3*(re-q)+jo[1020+b[C-2*O]-b[C+O]],le=bA[112+(ie+4>>3)];b[C-O]=Is[255+q+bA[112+(ie+3>>3)]],b[C+0]=Is[255+re-le]}function xo(b,C,O,q){var re=b[C+0],ie=b[C+O];return Ii[255+b[C-2*O]-b[C-O]]>q||Ii[255+ie-re]>q}function xc(b,C,O,q){return 4*Ii[255+b[C-O]-b[C+0]]+Ii[255+b[C-2*O]-b[C+O]]<=q}function vc(b,C,O,q,re){var ie=b[C-3*O],le=b[C-2*O],ce=b[C-O],de=b[C+0],he=b[C+O],be=b[C+2*O],Ie=b[C+3*O];return 4*Ii[255+ce-de]+Ii[255+le-he]>q?0:Ii[255+b[C-4*O]-ie]<=re&&Ii[255+ie-le]<=re&&Ii[255+le-ce]<=re&&Ii[255+Ie-be]<=re&&Ii[255+be-he]<=re&&Ii[255+he-de]<=re}function _i(b,C,O,q){var re=2*q+1;for(q=0;16>q;++q)xc(b,C+q,O,re)&&$o(b,C+q,O)}function Ko(b,C,O,q){var re=2*q+1;for(q=0;16>q;++q)xc(b,C+q*O,1,re)&&$o(b,C+q*O,1)}function wc(b,C,O,q){var re;for(re=3;0<re;--re)_i(b,C+=4*O,O,q)}function Bd(b,C,O,q){var re;for(re=3;0<re;--re)Ko(b,C+=4,O,q)}function Fi(b,C,O,q,re,ie,le,ce){for(ie=2*ie+1;0<re--;){if(vc(b,C,O,ie,le))if(xo(b,C,O,ce))$o(b,C,O);else{var de=b,he=C,be=O,Ie=de[he-2*be],me=de[he-be],Ne=de[he+0],Fe=de[he+be],Ye=de[he+2*be],Qe=27*(ze=jo[1020+3*(Ne-me)+jo[1020+Ie-Fe]])+63>>7,$e=18*ze+63>>7,ze=9*ze+63>>7;de[he-3*be]=Is[255+de[he-3*be]+ze],de[he-2*be]=Is[255+Ie+$e],de[he-be]=Is[255+me+Qe],de[he+0]=Is[255+Ne-Qe],de[he+be]=Is[255+Fe-$e],de[he+2*be]=Is[255+Ye-ze]}C+=q}}function ki(b,C,O,q,re,ie,le,ce){for(ie=2*ie+1;0<re--;){if(vc(b,C,O,ie,le))if(xo(b,C,O,ce))$o(b,C,O);else{var de=b,he=C,be=O,Ie=de[he-be],me=de[he+0],Ne=de[he+be],Fe=bA[112+(4+(Ye=3*(me-Ie))>>3)],Ye=bA[112+(Ye+3>>3)],Qe=Fe+1>>1;de[he-2*be]=Is[255+de[he-2*be]+Qe],de[he-be]=Is[255+Ie+Ye],de[he+0]=Is[255+me-Fe],de[he+be]=Is[255+Ne-Qe]}C+=q}}function Cd(b,C,O,q,re,ie){Fi(b,C,O,1,16,q,re,ie)}function ys(b,C,O,q,re,ie){Fi(b,C,1,O,16,q,re,ie)}function Di(b,C,O,q,re,ie){var le;for(le=3;0<le;--le)ki(b,C+=4*O,O,1,16,q,re,ie)}function mA(b,C,O,q,re,ie){var le;for(le=3;0<le;--le)ki(b,C+=4,1,O,16,q,re,ie)}function U(b,C,O,q,re,ie,le,ce){Fi(b,C,re,1,8,ie,le,ce),Fi(O,q,re,1,8,ie,le,ce)}function ae(b,C,O,q,re,ie,le,ce){Fi(b,C,1,re,8,ie,le,ce),Fi(O,q,1,re,8,ie,le,ce)}function pe(b,C,O,q,re,ie,le,ce){ki(b,C+4*re,re,1,8,ie,le,ce),ki(O,q+4*re,re,1,8,ie,le,ce)}function we(b,C,O,q,re,ie,le,ce){ki(b,C+4,1,re,8,ie,le,ce),ki(O,q+4,1,re,8,ie,le,ce)}function Se(){this.ba=new lr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ze(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function qt(){this.ua=0,this.Wa=new Ft,this.vb=new Ft,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new G}function Zt(){this.xb=this.a=0,this.l=new on,this.ca=new lr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new qt,this.ab=0,this.gc=o(4,ot),this.Oc=0}function yr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new on,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function br(b,C,O,q,re,ie,le){for(b=b==null?0:b[C+0],C=0;C<le;++C)re[ie+C]=b+O[q+C]&255,b=re[ie+C]}function ua(b,C,O,q,re,ie,le){var ce;if(b==null)br(null,null,O,q,re,ie,le);else for(ce=0;ce<le;++ce)re[ie+ce]=b[C+ce]+O[q+ce]&255}function rn(b,C,O,q,re,ie,le){if(b==null)br(null,null,O,q,re,ie,le);else{var ce,de=b[C+0],he=de,be=de;for(ce=0;ce<le;++ce)he=be+(de=b[C+ce])-he,be=O[q+ce]+(-256&he?0>he?0:255:he)&255,he=de,re[ie+ce]=be}}function En(b,C,O,q){var re=C.width,ie=C.o;if(r(b!=null&&C!=null),0>O||0>=q||O+q>ie)return null;if(!b.Cc){if(b.ga==null){var le;if(b.ga=new yr,(le=b.ga==null)||(le=C.width*C.o,r(b.Gb.length==0),b.Gb=i(le),b.Uc=0,b.Gb==null?le=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,le=1),le=!le),!le){le=b.ga;var ce=b.Fa,de=b.P,he=b.qc,be=b.mb,Ie=b.nb,me=de+1,Ne=he-1,Fe=le.l;if(r(ce!=null&&be!=null&&C!=null),js[0]=null,js[1]=br,js[2]=ua,js[3]=rn,le.ca=be,le.tb=Ie,le.c=C.width,le.i=C.height,r(0<le.c&&0<le.i),1>=he)C=0;else if(le.$a=3&ce[de+0],le.Z=ce[de+0]>>2&3,le.Lc=ce[de+0]>>4&3,de=ce[de+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||de)C=0;else if(Fe.put=nr,Fe.ac=wt,Fe.bc=Zn,Fe.ma=le,Fe.width=C.width,Fe.height=C.height,Fe.Da=C.Da,Fe.v=C.v,Fe.va=C.va,Fe.j=C.j,Fe.o=C.o,le.$a)e:{r(le.$a==1),C=mr();t:for(;;){if(C==null){C=0;break e}if(r(le!=null),le.mc=C,C.c=le.c,C.i=le.i,C.l=le.l,C.l.ma=le,C.l.width=le.c,C.l.height=le.i,C.a=0,ne(C.m,ce,me,Ne),!or(le.c,le.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&qe(C.s)?(le.ic=1,ce=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(ce),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(le.ic=0,C=$r(C,le.c)),!C))break t;C=1;break e}le.mc=null,C=0}else C=Ne>=le.c*le.i;le=!C}if(le)return null;b.ga.Lc!=1?b.Ga=0:q=ie-O}r(b.ga!=null),r(O+q<=ie);e:{if(C=(ce=b.ga).c,ie=ce.l.o,ce.$a==0){if(me=b.rc,Ne=b.Vc,Fe=b.Fa,de=b.P+1+O*C,he=b.mb,be=b.nb+O*C,r(de<=b.P+b.qc),ce.Z!=0)for(r(js[ce.Z]!=null),le=0;le<q;++le)js[ce.Z](me,Ne,Fe,de,he,be,C),me=he,Ne=be,be+=C,de+=C;else for(le=0;le<q;++le)a(he,be,Fe,de,C),me=he,Ne=be,be+=C,de+=C;b.rc=me,b.Vc=Ne}else{if(r(ce.mc!=null),C=O+q,r((le=ce.mc)!=null),r(C<=le.i),le.C>=C)C=1;else if(ce.ic||Ui(),ce.ic){ce=le.V,me=le.Ba,Ne=le.c;var Ye=le.i,Qe=(Fe=1,de=le.$/Ne,he=le.$%Ne,be=le.m,Ie=le.s,le.$),$e=Ne*Ye,ze=Ne*C,tt=Ie.wc,rt=Qe<ze?en(Ie,he,de):null;r(Qe<=$e),r(C<=Ye),r(qe(Ie));t:for(;;){for(;!be.h&&Qe<ze;){if(he&tt||(rt=en(Ie,he,de)),r(rt!=null),M(be),256>(Ye=ca(rt.G[0],rt.H[0],be)))ce[me+Qe]=Ye,++Qe,++he>=Ne&&(he=0,++de<=C&&!(de%16)&&_t(le,de));else{if(!(280>Ye)){Fe=0;break t}Ye=pn(Ye-256,be);var er,Ht=ca(rt.G[4],rt.H[4],be);if(M(be),!(Qe>=(Ht=Pa(Ne,Ht=pn(Ht,be)))&&$e-Qe>=Ye)){Fe=0;break t}for(er=0;er<Ye;++er)ce[me+Qe+er]=ce[me+Qe+er-Ht];for(Qe+=Ye,he+=Ye;he>=Ne;)he-=Ne,++de<=C&&!(de%16)&&_t(le,de);Qe<ze&&he&tt&&(rt=en(Ie,he,de))}r(be.h==J(be))}_t(le,de>C?C:de);break t}!Fe||be.h&&Qe<$e?(Fe=0,le.a=be.h?5:3):le.$=Qe,C=Fe}else C=It(le,le.V,le.Ba,le.c,le.i,C,ea);if(!C){q=0;break e}}O+q>=ie&&(b.Cc=1),q=1}if(!q)return null;if(b.Cc&&((q=b.ga)!=null&&(q.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+O*re}function Ma(b,C,O,q,re,ie){for(;0<re--;){var le,ce=b,de=C+(O?1:0),he=b,be=C+(O?0:3);for(le=0;le<q;++le){var Ie=he[be+4*le];Ie!=255&&(Ie*=32897,ce[de+4*le+0]=ce[de+4*le+0]*Ie>>23,ce[de+4*le+1]=ce[de+4*le+1]*Ie>>23,ce[de+4*le+2]=ce[de+4*le+2]*Ie>>23)}C+=ie}}function Rn(b,C,O,q,re){for(;0<q--;){var ie;for(ie=0;ie<O;++ie){var le=b[C+2*ie+0],ce=15&(he=b[C+2*ie+1]),de=4369*ce,he=(240&he|he>>4)*de>>16;b[C+2*ie+0]=(240&le|le>>4)*de>>16&240|(15&le|le<<4)*de>>16>>4&15,b[C+2*ie+1]=240&he|ce}C+=re}}function wn(b,C,O,q,re,ie,le,ce){var de,he,be=255;for(he=0;he<re;++he){for(de=0;de<q;++de){var Ie=b[C+de];ie[le+4*de]=Ie,be&=Ie}C+=O,le+=ce}return be!=255}function ds(b,C,O,q,re){var ie;for(ie=0;ie<re;++ie)O[q+ie]=b[C+ie]>>8}function Ui(){Dc=Ma,ah=Rn,kd=wn,nh=ds}function zs(b,C,O){E[b]=function(q,re,ie,le,ce,de,he,be,Ie,me,Ne,Fe,Ye,Qe,$e,ze,tt){var rt,er=tt-1>>1,Ht=ce[de+0]|he[be+0]<<16,_r=Ie[me+0]|Ne[Fe+0]<<16;r(q!=null);var Wt=3*Ht+_r+131074>>2;for(C(q[re+0],255&Wt,Wt>>16,Ye,Qe),ie!=null&&(Wt=3*_r+Ht+131074>>2,C(ie[le+0],255&Wt,Wt>>16,$e,ze)),rt=1;rt<=er;++rt){var Jr=ce[de+rt]|he[be+rt]<<16,dn=Ie[me+rt]|Ne[Fe+rt]<<16,kr=Ht+Jr+_r+dn+524296,$t=kr+2*(Jr+_r)>>3;Wt=$t+Ht>>1,Ht=(kr=kr+2*(Ht+dn)>>3)+Jr>>1,C(q[re+2*rt-1],255&Wt,Wt>>16,Ye,Qe+(2*rt-1)*O),C(q[re+2*rt-0],255&Ht,Ht>>16,Ye,Qe+(2*rt-0)*O),ie!=null&&(Wt=kr+_r>>1,Ht=$t+dn>>1,C(ie[le+2*rt-1],255&Wt,Wt>>16,$e,ze+(2*rt-1)*O),C(ie[le+2*rt+0],255&Ht,Ht>>16,$e,ze+(2*rt+0)*O)),Ht=Jr,_r=dn}1&tt||(Wt=3*Ht+_r+131074>>2,C(q[re+tt-1],255&Wt,Wt>>16,Ye,Qe+(tt-1)*O),ie!=null&&(Wt=3*_r+Ht+131074>>2,C(ie[le+tt-1],255&Wt,Wt>>16,$e,ze+(tt-1)*O)))}}function Du(){Gs[Pu]=Lx,Gs[Ul]=Ll,Gs[Hm]=Ix,Gs[Dd]=CA,Gs[Ud]=Pc,Gs[_a]=Rd,Gs[Qu]=fh,Gs[jA]=Ll,Gs[Uc]=CA,Gs[Ld]=Pc,Gs[Id]=Rd}function Bl(b){return b&-16384?0>b?0:255:b>>Il}function yc(b,C){return Bl((19077*b>>8)+(26149*C>>8)-14234)}function Cl(b,C,O){return Bl((19077*b>>8)-(6419*C>>8)-(13320*O>>8)+8708)}function bc(b,C){return Bl((19077*b>>8)+(33050*C>>8)-17685)}function Sl(b,C,O,q,re){q[re+0]=yc(b,O),q[re+1]=Cl(b,C,O),q[re+2]=bc(b,C)}function jc(b,C,O,q,re){q[re+0]=bc(b,C),q[re+1]=Cl(b,C,O),q[re+2]=yc(b,O)}function bs(b,C,O,q,re){var ie=Cl(b,C,O);C=ie<<3&224|bc(b,C)>>3,q[re+0]=248&yc(b,O)|ie>>5,q[re+1]=C}function Nc(b,C,O,q,re){var ie=240&bc(b,C)|15;q[re+0]=240&yc(b,O)|Cl(b,C,O)>>4,q[re+1]=ie}function Bc(b,C,O,q,re){q[re+0]=255,Sl(b,C,O,q,re+1)}function Sd(b,C,O,q,re){jc(b,C,O,q,re),q[re+3]=255}function Ed(b,C,O,q,re){Sl(b,C,O,q,re),q[re+3]=255}function ln(b,C){return 0>b?0:b>C?C:b}function Ji(b,C,O){E[b]=function(q,re,ie,le,ce,de,he,be,Ie){for(var me=be+(-2&Ie)*O;be!=me;)C(q[re+0],ie[le+0],ce[de+0],he,be),C(q[re+1],ie[le+0],ce[de+0],he,be+O),re+=2,++le,++de,be+=2*O;1&Ie&&C(q[re+0],ie[le+0],ce[de+0],he,be)}}function vo(b,C,O){return O==0?b==0?C==0?6:5:C==0?4:0:O}function Uu(b,C,O,q,re){switch(b>>>30){case 3:Fc(C,O,q,re,0);break;case 2:cn(C,O,q,re);break;case 1:fa(C,O,q,re)}}function fi(b,C){var O,q,re=C.M,ie=C.Nb,le=b.oc,ce=b.pc+40,de=b.oc,he=b.pc+584,be=b.oc,Ie=b.pc+600;for(O=0;16>O;++O)le[ce+32*O-1]=129;for(O=0;8>O;++O)de[he+32*O-1]=129,be[Ie+32*O-1]=129;for(0<re?le[ce-1-32]=de[he-1-32]=be[Ie-1-32]=129:(s(le,ce-32-1,127,21),s(de,he-32-1,127,9),s(be,Ie-32-1,127,9)),q=0;q<b.za;++q){var me=C.ya[C.aa+q];if(0<q){for(O=-1;16>O;++O)a(le,ce+32*O-4,le,ce+32*O+12,4);for(O=-1;8>O;++O)a(de,he+32*O-4,de,he+32*O+4,4),a(be,Ie+32*O-4,be,Ie+32*O+4,4)}var Ne=b.Gd,Fe=b.Hd+q,Ye=me.ad,Qe=me.Hc;if(0<re&&(a(le,ce-32,Ne[Fe].y,0,16),a(de,he-32,Ne[Fe].f,0,8),a(be,Ie-32,Ne[Fe].ea,0,8)),me.Za){var $e=le,ze=ce-32+16;for(0<re&&(q>=b.za-1?s($e,ze,Ne[Fe].y[15],4):a($e,ze,Ne[Fe+1].y,0,4)),O=0;4>O;O++)$e[ze+128+O]=$e[ze+256+O]=$e[ze+384+O]=$e[ze+0+O];for(O=0;16>O;++O,Qe<<=2)$e=le,ze=ce+hh[O],Pi[me.Ob[O]]($e,ze),Uu(Qe,Ye,16*+O,$e,ze)}else if($e=vo(q,re,me.Ob[0]),Ps[$e](le,ce),Qe!=0)for(O=0;16>O;++O,Qe<<=2)Uu(Qe,Ye,16*+O,le,ce+hh[O]);for(O=me.Gc,$e=vo(q,re,me.Dd),Ws[$e](de,he),Ws[$e](be,Ie),Qe=Ye,$e=de,ze=he,255&(me=0|O)&&(170&me?qs(Qe,256,$e,ze):ba(Qe,256,$e,ze)),me=be,Qe=Ie,255&(O>>=8)&&(170&O?qs(Ye,320,me,Qe):ba(Ye,320,me,Qe)),re<b.Ub-1&&(a(Ne[Fe].y,0,le,ce+480,16),a(Ne[Fe].f,0,de,he+224,8),a(Ne[Fe].ea,0,be,Ie+224,8)),O=8*ie*b.B,Ne=b.sa,Fe=b.ta+16*q+16*ie*b.R,Ye=b.qa,me=b.ra+8*q+O,Qe=b.Ha,$e=b.Ia+8*q+O,O=0;16>O;++O)a(Ne,Fe+O*b.R,le,ce+32*O,16);for(O=0;8>O;++O)a(Ye,me+O*b.B,de,he+32*O,8),a(Qe,$e+O*b.B,be,Ie+32*O,8)}}function El(b,C,O,q,re,ie,le,ce,de){var he=[0],be=[0],Ie=0,me=de!=null?de.kd:0,Ne=de??new Ze;if(b==null||12>O)return 7;Ne.data=b,Ne.w=C,Ne.ha=O,C=[C],O=[O],Ne.gb=[Ne.gb];e:{var Fe=C,Ye=O,Qe=Ne.gb;if(r(b!=null),r(Ye!=null),r(Qe!=null),Qe[0]=0,12<=Ye[0]&&!t(b,Fe[0],"RIFF")){if(t(b,Fe[0]+8,"WEBP")){Qe=3;break e}var $e=xe(b,Fe[0]+4);if(12>$e||4294967286<$e){Qe=3;break e}if(me&&$e>Ye[0]-8){Qe=7;break e}Qe[0]=$e,Fe[0]+=12,Ye[0]-=12}Qe=0}if(Qe!=0)return Qe;for($e=0<Ne.gb[0],O=O[0];;){e:{var ze=b;Ye=C,Qe=O;var tt=he,rt=be,er=Fe=[0];if((Wt=Ie=[Ie])[0]=0,8>Qe[0])Qe=7;else{if(!t(ze,Ye[0],"VP8X")){if(xe(ze,Ye[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var Ht=xe(ze,Ye[0]+8),_r=1+_e(ze,Ye[0]+12);if(2147483648<=_r*(ze=1+_e(ze,Ye[0]+15))){Qe=3;break e}er!=null&&(er[0]=Ht),tt!=null&&(tt[0]=_r),rt!=null&&(rt[0]=ze),Ye[0]+=18,Qe[0]-=18,Wt[0]=1}Qe=0}}if(Ie=Ie[0],Fe=Fe[0],Qe!=0)return Qe;if(Ye=!!(2&Fe),!$e&&Ie)return 3;if(ie!=null&&(ie[0]=!!(16&Fe)),le!=null&&(le[0]=Ye),ce!=null&&(ce[0]=0),le=he[0],Fe=be[0],Ie&&Ye&&de==null){Qe=0;break}if(4>O){Qe=7;break}if($e&&Ie||!$e&&!Ie&&!t(b,C[0],"ALPH")){O=[O],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{Ht=b,Qe=C,$e=O;var Wt=Ne.gb;tt=Ne.na,rt=Ne.P,er=Ne.Sa,_r=22,r(Ht!=null),r($e!=null),ze=Qe[0];var Jr=$e[0];for(r(tt!=null),r(er!=null),tt[0]=null,rt[0]=null,er[0]=0;;){if(Qe[0]=ze,$e[0]=Jr,8>Jr){Qe=7;break e}var dn=xe(Ht,ze+4);if(4294967286<dn){Qe=3;break e}var kr=8+dn+1&-2;if(_r+=kr,0<Wt&&_r>Wt){Qe=3;break e}if(!t(Ht,ze,"VP8 ")||!t(Ht,ze,"VP8L")){Qe=0;break e}if(Jr[0]<kr){Qe=7;break e}t(Ht,ze,"ALPH")||(tt[0]=Ht,rt[0]=ze+8,er[0]=dn),ze+=kr,Jr-=kr}}if(O=O[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],Qe!=0)break}O=[O],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(Wt=b,Qe=C,$e=O,tt=Ne.gb[0],rt=Ne.Ja,er=Ne.xa,Ht=Qe[0],ze=!t(Wt,Ht,"VP8 "),_r=!t(Wt,Ht,"VP8L"),r(Wt!=null),r($e!=null),r(rt!=null),r(er!=null),8>$e[0])Qe=7;else{if(ze||_r){if(Wt=xe(Wt,Ht+4),12<=tt&&Wt>tt-12){Qe=3;break e}if(me&&Wt>$e[0]-8){Qe=7;break e}rt[0]=Wt,Qe[0]+=8,$e[0]-=8,er[0]=_r}else er[0]=5<=$e[0]&&Wt[Ht+0]==47&&!(Wt[Ht+4]>>5),rt[0]=$e[0];Qe=0}if(O=O[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],C=C[0],Qe!=0)break;if(4294967286<Ne.Ja)return 3;if(ce==null||Ye||(ce[0]=Ne.xa?2:1),le=[le],Fe=[Fe],Ne.xa){if(5>O){Qe=7;break}ce=le,me=Fe,Ye=ie,b==null||5>O?b=0:5<=O&&b[C+0]==47&&!(b[C+4]>>5)?($e=[0],Wt=[0],tt=[0],ne(rt=new W,b,C,O),es(rt,$e,Wt,tt)?(ce!=null&&(ce[0]=$e[0]),me!=null&&(me[0]=Wt[0]),Ye!=null&&(Ye[0]=tt[0]),b=1):b=0):b=0}else{if(10>O){Qe=7;break}ce=Fe,b==null||10>O||!mc(b,C+3,O-3)?b=0:(me=b[C+0]|b[C+1]<<8|b[C+2]<<16,Ye=16383&(b[C+7]<<8|b[C+6]),b=16383&(b[C+9]<<8|b[C+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Ne.Ja||!Ye||!b?b=0:(le&&(le[0]=Ye),ce&&(ce[0]=b),b=1))}if(!b||(le=le[0],Fe=Fe[0],Ie&&(he[0]!=le||be[0]!=Fe)))return 3;de!=null&&(de[0]=Ne,de.offset=C-de.w,r(4294967286>C-de.w),r(de.offset==de.ha-O));break}return Qe==0||Qe==7&&Ie&&de==null?(ie!=null&&(ie[0]|=Ne.na!=null&&0<Ne.na.length),q!=null&&(q[0]=le),re!=null&&(re[0]=Fe),0):Qe}function pA(b,C,O){var q=C.width,re=C.height,ie=0,le=0,ce=q,de=re;if(C.Da=b!=null&&0<b.Da,C.Da&&(ce=b.cd,de=b.bd,ie=b.v,le=b.j,11>O||(ie&=-2,le&=-2),0>ie||0>le||0>=ce||0>=de||ie+ce>q||le+de>re))return 0;if(C.v=ie,C.j=le,C.va=ie+ce,C.o=le+de,C.U=ce,C.T=de,C.da=b!=null&&0<b.da,C.da){if(!mt(ce,de,O=[b.ib],ie=[b.hb]))return 0;C.ib=O[0],C.hb=ie[0]}return C.ob=b!=null&&b.ob,C.Kb=b==null||!b.Sd,C.da&&(C.ob=C.ib<3*q/4&&C.hb<3*re/4,C.Kb=0),1}function gA(b){if(b==null)return 2;if(11>b.S){var C=b.f.RGBA;C.fb+=(b.height-1)*C.A,C.A=-C.A}else C=b.f.kb,b=b.height,C.O+=(b-1)*C.fa,C.fa=-C.fa,C.N+=(b-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(b-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(b-1)*C.lb,C.lb=-C.lb);return 0}function Vo(b,C,O,q){if(q==null||0>=b||0>=C)return 2;if(O!=null){if(O.Da){var re=O.cd,ie=O.bd,le=-2&O.v,ce=-2&O.j;if(0>le||0>ce||0>=re||0>=ie||le+re>b||ce+ie>C)return 2;b=re,C=ie}if(O.da){if(!mt(b,C,re=[O.ib],ie=[O.hb]))return 2;b=re[0],C=ie[0]}}q.width=b,q.height=C;e:{var de=q.width,he=q.height;if(b=q.S,0>=de||0>=he||!(b>=Pu&&13>b))b=2;else{if(0>=q.Rd&&q.sd==null){le=ie=re=C=0;var be=(ce=de*Td[b])*he;if(11>b||(ie=(he+1)/2*(C=(de+1)/2),b==12&&(le=(re=de)*he)),(he=i(be+2*ie+le))==null){b=1;break e}q.sd=he,11>b?((de=q.f.RGBA).eb=he,de.fb=0,de.A=ce,de.size=be):((de=q.f.kb).y=he,de.O=0,de.fa=ce,de.Fd=be,de.f=he,de.N=0+be,de.Ab=C,de.Cd=ie,de.ea=he,de.W=0+be+ie,de.Db=C,de.Ed=ie,b==12&&(de.F=he,de.J=0+be+2*ie),de.Tc=le,de.lb=re)}if(C=1,re=q.S,ie=q.width,le=q.height,re>=Pu&&13>re)if(11>re)b=q.f.RGBA,C&=(ce=Math.abs(b.A))*(le-1)+ie<=b.size,C&=ce>=ie*Td[re],C&=b.eb!=null;else{b=q.f.kb,ce=(ie+1)/2,be=(le+1)/2,de=Math.abs(b.fa),he=Math.abs(b.Ab);var Ie=Math.abs(b.Db),me=Math.abs(b.lb),Ne=me*(le-1)+ie;C&=de*(le-1)+ie<=b.Fd,C&=he*(be-1)+ce<=b.Cd,C=(C&=Ie*(be-1)+ce<=b.Ed)&de>=ie&he>=ce&Ie>=ce,C&=b.y!=null,C&=b.f!=null,C&=b.ea!=null,re==12&&(C&=me>=ie,C&=Ne<=b.Tc,C&=b.F!=null)}else C=0;b=C?0:2}}return b!=0||O!=null&&O.fd&&(b=gA(q)),b}var Li=64,hi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],mi=24,_l=32,wo=8,zo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(b){return b},E.Predictor2=function(b,C,O){return C[O+0]},E.Predictor3=function(b,C,O){return C[O+1]},E.Predictor4=function(b,C,O){return C[O-1]},E.Predictor5=function(b,C,O){return He(He(b,C[O+1]),C[O+0])},E.Predictor6=function(b,C,O){return He(b,C[O-1])},E.Predictor7=function(b,C,O){return He(b,C[O+0])},E.Predictor8=function(b,C,O){return He(C[O-1],C[O+0])},E.Predictor9=function(b,C,O){return He(C[O+0],C[O+1])},E.Predictor10=function(b,C,O){return He(He(b,C[O-1]),He(C[O+0],C[O+1]))},E.Predictor11=function(b,C,O){var q=C[O+0];return 0>=jt(q>>24&255,b>>24&255,(C=C[O-1])>>24&255)+jt(q>>16&255,b>>16&255,C>>16&255)+jt(q>>8&255,b>>8&255,C>>8&255)+jt(255&q,255&b,255&C)?q:b},E.Predictor12=function(b,C,O){var q=C[O+0];return(Jt((b>>24&255)+(q>>24&255)-((C=C[O-1])>>24&255))<<24|Jt((b>>16&255)+(q>>16&255)-(C>>16&255))<<16|Jt((b>>8&255)+(q>>8&255)-(C>>8&255))<<8|Jt((255&b)+(255&q)-(255&C)))>>>0},E.Predictor13=function(b,C,O){var q=C[O-1];return(kt((b=He(b,C[O+0]))>>24&255,q>>24&255)<<24|kt(b>>16&255,q>>16&255)<<16|kt(b>>8&255,q>>8&255)<<8|kt(255&b,255&q))>>>0};var qo=E.PredictorAdd0;E.PredictorAdd1=Nr,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var yo=E.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var yn,Cc=E.ColorIndexInverseTransform,bo=E.MapARGB,Zi=E.VP8LColorIndexInverseTransformAlpha,Sc=E.MapAlpha,Ec=E.VP8LPredictorsAdd=[];Ec.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var xA,vA,Wo,Fl,kl,_c,Dl,Fc,cn,qs,fa,ba,An,_n,eo,_d,wA,Go,Lu,yA,Iu,rh,Fd,kc,Dc,ah,kd,nh,sh=i(511),ih=i(2041),oh=i(225),lh=i(767),ch=0,jo=ih,bA=oh,Is=lh,Ii=sh,Pu=0,Ul=1,Hm=2,Dd=3,Ud=4,_a=5,Qu=6,jA=7,Uc=8,Ld=9,Id=10,Pd=[2,3,7],Ru=[3,3,11],Lc=[280,256,256,256,40],$m=[0,1,1,1,0],Fx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],kx=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Km=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tu=8,NA=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ic=null,Ah=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],dh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Dx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ux=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ps=[],Pi=[],Ws=[],No=1,BA=2,js=[],Gs=[];zs("UpsampleRgbLinePair",Sl,3),zs("UpsampleBgrLinePair",jc,3),zs("UpsampleRgbaLinePair",Ed,4),zs("UpsampleBgraLinePair",Sd,4),zs("UpsampleArgbLinePair",Bc,4),zs("UpsampleRgba4444LinePair",Nc,2),zs("UpsampleRgb565LinePair",bs,2);var Lx=E.UpsampleRgbLinePair,Ix=E.UpsampleBgrLinePair,Ll=E.UpsampleRgbaLinePair,CA=E.UpsampleBgraLinePair,Pc=E.UpsampleArgbLinePair,Rd=E.UpsampleRgba4444LinePair,fh=E.UpsampleRgb565LinePair,Yo=16,to=1<<Yo-1,va=-227,ja=482,Il=6,us=0,Ys=i(256),Qc=i(256),SA=i(256),Xs=i(256),Mu=i(ja-va),qm=i(ja-va);Ji("YuvToRgbRow",Sl,3),Ji("YuvToBgrRow",jc,3),Ji("YuvToRgbaRow",Ed,4),Ji("YuvToBgraRow",Sd,4),Ji("YuvToArgbRow",Bc,4),Ji("YuvToRgba4444Row",Nc,2),Ji("YuvToRgb565Row",bs,2);var hh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Rc=[0,2,8],Wm=[8,7,6,4,4,2,2,2,1,1,1,1],Xo=1;this.WebPDecodeRGBA=function(b,C,O,q,re){var ie=Ul,le=new Se,ce=new lr;le.ba=ce,ce.S=ie,ce.width=[ce.width],ce.height=[ce.height];var de=ce.width,he=ce.height,be=new ir;if(be==null||b==null)var Ie=2;else r(be!=null),Ie=El(b,C,O,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Ie!=0?de=0:(de!=null&&(de[0]=be.width[0]),he!=null&&(he[0]=be.height[0]),de=1),de){ce.width=ce.width[0],ce.height=ce.height[0],q!=null&&(q[0]=ce.width),re!=null&&(re[0]=ce.height);e:{if(q=new on,(re=new Ze).data=b,re.w=C,re.ha=O,re.kd=1,C=[0],r(re!=null),((b=El(re.data,re.w,re.ha,null,null,null,C,null,re))==0||b==7)&&C[0]&&(b=4),(C=b)==0){if(r(le!=null),q.data=re.data,q.w=re.w+re.offset,q.ha=re.ha-re.offset,q.put=nr,q.ac=wt,q.bc=Zn,q.ma=le,re.xa){if((b=mr())==null){le=1;break e}if((function(me,Ne){var Fe=[0],Ye=[0],Qe=[0];t:for(;;){if(me==null)return 0;if(Ne==null)return me.a=2,0;if(me.l=Ne,me.a=0,ne(me.m,Ne.data,Ne.w,Ne.ha),!es(me.m,Fe,Ye,Qe)){me.a=3;break t}if(me.xb=BA,Ne.width=Fe[0],Ne.height=Ye[0],!or(Fe[0],Ye[0],1,me,null))break t;return 1}return r(me.a!=0),0})(b,q)){if(q=(C=Vo(q.width,q.height,le.Oa,le.ba))==0){t:{q=b;r:for(;;){if(q==null){q=0;break t}if(r(q.s.yc!=null),r(q.s.Ya!=null),r(0<q.s.Wb),r((O=q.l)!=null),r((re=O.ma)!=null),q.xb!=0){if(q.ca=re.ba,q.tb=re.tb,r(q.ca!=null),!pA(re.Oa,O,Dd)){q.a=2;break r}if(!$r(q,O.width)||O.da)break r;if((O.da||bt(q.ca.S))&&Ui(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&Ui()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!Ae(q.s.vb,q.s.Wa.Xa)){q.a=1;break r}q.xb=0}if(!It(q,q.V,q.Ba,q.c,q.i,O.o,Wi))break r;re.Dc=q.Ma,q=1;break t}r(q.a!=0),q=0}q=!q}q&&(C=b.a)}else C=b.a}else{if((b=new AA)==null){le=1;break e}if(b.Fa=re.na,b.P=re.P,b.qc=re.Sa,gt(b,q)){if((C=Vo(q.width,q.height,le.Oa,le.ba))==0){if(b.Aa=0,O=le.Oa,r((re=b)!=null),O!=null){if(0<(de=0>(de=O.Md)?0:100<de?255:255*de/100)){for(he=be=0;4>he;++he)12>(Ie=re.pb[he]).lc&&(Ie.ia=de*Wm[0>Ie.lc?0:Ie.lc]>>3),be|=Ie.ia;be&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=O.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}(function(me,Ne){if(me==null)return 0;if(Ne==null)return tn(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!gt(me,Ne))return 0;if(r(me.cb),Ne.ac==null||Ne.ac(Ne)){Ne.ob&&(me.L=0);var Fe=Rc[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=Ne.v-Fe>>4,me.zb=Ne.j-Fe>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Ne.o+15+Fe>>4,me.Hb=Ne.va+15+Fe>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var Ye=me.ed;for(Fe=0;4>Fe;++Fe){var Qe;if(me.Qa.Cb){var $e=me.Qa.Lb[Fe];me.Qa.Fb||($e+=Ye.Tb)}else $e=Ye.Tb;for(Qe=0;1>=Qe;++Qe){var ze=me.gd[Fe][Qe],tt=$e;if(Ye.Pc&&(tt+=Ye.vd[0],Qe&&(tt+=Ye.od[0])),0<(tt=0>tt?0:63<tt?63:tt)){var rt=tt;0<Ye.wb&&(rt=4<Ye.wb?rt>>2:rt>>1)>9-Ye.wb&&(rt=9-Ye.wb),1>rt&&(rt=1),ze.dd=rt,ze.tc=2*tt+rt,ze.ld=40<=tt?2:15<=tt?1:0}else ze.tc=0;ze.La=Qe}}}Fe=0}else tn(me,6,"Frame setup failed"),Fe=me.a;if(Fe=Fe==0){if(Fe){me.$c=0,0<me.Aa||(me.Ic=Xo);t:{Fe=me.Ic,Ye=4*(rt=me.za);var er=32*rt,Ht=rt+1,_r=0<me.L?rt*(0<me.Aa?2:1):0,Wt=(me.Aa==2?2:1)*rt;if((ze=Ye+832+(Qe=3*(16*Fe+Rc[me.L])/2*er)+($e=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=ze)Fe=0;else{if(ze>me.Vb){if(me.Vb=0,me.Ec=i(ze),me.Fc=0,me.Ec==null){Fe=tn(me,1,"no memory during frame initialization.");break t}me.Vb=ze}ze=me.Ec,tt=me.Fc,me.Ac=ze,me.Bc=tt,tt+=Ye,me.Gd=o(er,ts),me.Hd=0,me.rb=o(Ht+1,Fr),me.sb=1,me.wa=_r?o(_r,Qt):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=rt),r(!0),me.oc=ze,me.pc=tt,tt+=832,me.ya=o(Wt,Ks),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=rt),me.R=16*rt,me.B=8*rt,rt=(er=Rc[me.L])*me.R,er=er/2*me.B,me.sa=ze,me.ta=tt+rt,me.qa=me.sa,me.ra=me.ta+16*Fe*me.R+er,me.Ha=me.qa,me.Ia=me.ra+8*Fe*me.B+er,me.$c=0,tt+=Qe,me.mb=$e?ze:null,me.nb=$e?tt:null,r(tt+$e<=me.Fc+me.Vb),aa(me),s(me.Ac,me.Bc,0,Ye),Fe=1}}if(Fe){if(Ne.ka=0,Ne.y=me.sa,Ne.O=me.ta,Ne.f=me.qa,Ne.N=me.ra,Ne.ea=me.Ha,Ne.Vd=me.Ia,Ne.fa=me.R,Ne.Rc=me.B,Ne.F=null,Ne.J=0,!ch){for(Fe=-255;255>=Fe;++Fe)sh[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)ih[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)oh[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)lh[255+Fe]=0>Fe?0:255<Fe?255:Fe;ch=1}Dl=Cr,Fc=vn,qs=Ta,fa=Ls,ba=Nl,cn=Xr,An=Cd,_n=ys,eo=U,_d=ae,wA=Di,Go=mA,Lu=pe,yA=we,Iu=_i,rh=Ko,Fd=wc,kc=Bd,Pi[0]=th,Pi[1]=dA,Pi[2]=pc,Pi[3]=po,Pi[4]=Fu,Pi[5]=Ho,Pi[6]=ui,Pi[7]=ku,Pi[8]=gc,Pi[9]=fA,Ps[0]=Gi,Ps[1]=Eu,Ps[2]=_u,Ps[3]=uA,Ps[4]=mo,Ps[5]=Vs,Ps[6]=Ei,Ws[0]=Xi,Ws[1]=yd,Ws[2]=bd,Ws[3]=Yi,Ws[4]=jd,Ws[5]=hA,Ws[6]=Nd,Fe=1}else Fe=0}Fe&&(Fe=(function(Jr,dn){for(Jr.M=0;Jr.M<Jr.Va;++Jr.M){var kr,$t=Jr.Jc[Jr.M&Jr.Xb],St=Jr.m,bn=Jr;for(kr=0;kr<bn.za;++kr){var wr=St,qr=bn,Oa=qr.Ac,rs=qr.Bc+4*kr,Fn=qr.zc,an=qr.ya[qr.aa+kr];if(qr.Qa.Bb?an.$b=fe(wr,qr.Pa.jb[0])?2+fe(wr,qr.Pa.jb[2]):fe(wr,qr.Pa.jb[1]):an.$b=0,qr.kc&&(an.Ad=fe(wr,qr.Bd)),an.Za=!fe(wr,145)+0,an.Za){var Tn=an.Ob,as=0;for(qr=0;4>qr;++qr){var Wa,ta=Fn[0+qr];for(Wa=0;4>Wa;++Wa){ta=Dx[Oa[rs+Wa]][ta];for(var ha=Vm[fe(wr,ta[0])];0<ha;)ha=Vm[2*ha+fe(wr,ta[ha])];ta=-ha,Oa[rs+Wa]=ta}a(Tn,as,Oa,rs,4),as+=4,Fn[0+qr]=ta}}else ta=fe(wr,156)?fe(wr,128)?1:3:fe(wr,163)?2:0,an.Ob[0]=ta,s(Oa,rs,ta,4),s(Fn,0,ta,4);an.Dd=fe(wr,142)?fe(wr,114)?fe(wr,183)?1:3:2:0}if(bn.m.Ka)return tn(Jr,7,"Premature end-of-partition0 encountered.");for(;Jr.ja<Jr.za;++Jr.ja){if(bn=$t,wr=(St=Jr).rb[St.sb-1],Oa=St.rb[St.sb+St.ja],kr=St.ya[St.aa+St.ja],rs=St.kc?kr.Ad:0)wr.la=Oa.la=0,kr.Za||(wr.Na=Oa.Na=0),kr.Hc=0,kr.Gc=0,kr.ia=0;else{var Ga,ma;if(wr=Oa,Oa=bn,rs=St.Pa.Xc,Fn=St.ya[St.aa+St.ja],an=St.pb[Fn.$b],qr=Fn.ad,Tn=0,as=St.rb[St.sb-1],ta=Wa=0,s(qr,Tn,0,384),Fn.Za)var un=0,fn=rs[3];else{ha=i(16);var Fa=wr.Na+as.Na;if(Fa=Ic(Oa,rs[1],Fa,an.Eb,0,ha,0),wr.Na=as.Na=(0<Fa)+0,1<Fa)Dl(ha,0,qr,Tn);else{var Ns=ha[0]+3>>3;for(ha=0;256>ha;ha+=16)qr[Tn+ha]=Ns}un=1,fn=rs[0]}var Na=15&wr.la,ka=15&as.la;for(ha=0;4>ha;++ha){var kn=1&ka;for(Ns=ma=0;4>Ns;++Ns)Na=Na>>1|(kn=(Fa=Ic(Oa,fn,Fa=kn+(1&Na),an.Sc,un,qr,Tn))>un)<<7,ma=ma<<2|(3<Fa?3:1<Fa?2:qr[Tn+0]!=0),Tn+=16;Na>>=4,ka=ka>>1|kn<<7,Wa=(Wa<<8|ma)>>>0}for(fn=Na,un=ka>>4,Ga=0;4>Ga;Ga+=2){for(ma=0,Na=wr.la>>4+Ga,ka=as.la>>4+Ga,ha=0;2>ha;++ha){for(kn=1&ka,Ns=0;2>Ns;++Ns)Fa=kn+(1&Na),Na=Na>>1|(kn=0<(Fa=Ic(Oa,rs[2],Fa,an.Qc,0,qr,Tn)))<<3,ma=ma<<2|(3<Fa?3:1<Fa?2:qr[Tn+0]!=0),Tn+=16;Na>>=2,ka=ka>>1|kn<<5}ta|=ma<<4*Ga,fn|=Na<<4<<Ga,un|=(240&ka)<<Ga}wr.la=fn,as.la=un,Fn.Hc=Wa,Fn.Gc=ta,Fn.ia=43690&ta?0:an.ia,rs=!(Wa|ta)}if(0<St.L&&(St.wa[St.Y+St.ja]=St.gd[kr.$b][kr.Za],St.wa[St.Y+St.ja].La|=!rs),bn.Ka)return tn(Jr,7,"Premature end-of-file encountered.")}if(aa(Jr),St=dn,bn=1,kr=($t=Jr).D,wr=0<$t.L&&$t.M>=$t.zb&&$t.M<=$t.Va,$t.Aa==0)t:{if(kr.M=$t.M,kr.uc=wr,fi($t,kr),bn=1,kr=(ma=$t.D).Nb,wr=(ta=Rc[$t.L])*$t.R,Oa=ta/2*$t.B,ha=16*kr*$t.R,Ns=8*kr*$t.B,rs=$t.sa,Fn=$t.ta-wr+ha,an=$t.qa,qr=$t.ra-Oa+Ns,Tn=$t.Ha,as=$t.Ia-Oa+Ns,ka=(Na=ma.M)==0,Wa=Na>=$t.Va-1,$t.Aa==2&&fi($t,ma),ma.uc)for(kn=(Fa=$t).D.M,r(Fa.D.uc),ma=Fa.yb;ma<Fa.Hb;++ma){un=ma,fn=kn;var fs=(Js=(Bn=Fa).D).Nb;Ga=Bn.R;var Js=Js.wa[Js.Y+un],jn=Bn.sa,Nn=Bn.ta+16*fs*Ga+16*un,Bs=Js.dd,Da=Js.tc;if(Da!=0)if(r(3<=Da),Bn.L==1)0<un&&rh(jn,Nn,Ga,Da+4),Js.La&&kc(jn,Nn,Ga,Da),0<fn&&Iu(jn,Nn,Ga,Da+4),Js.La&&Fd(jn,Nn,Ga,Da);else{var Cs=Bn.B,Qi=Bn.qa,ro=Bn.ra+8*fs*Cs+8*un,ns=Bn.Ha,Bn=Bn.Ia+8*fs*Cs+8*un;fs=Js.ld,0<un&&(_n(jn,Nn,Ga,Da+4,Bs,fs),_d(Qi,ro,ns,Bn,Cs,Da+4,Bs,fs)),Js.La&&(Go(jn,Nn,Ga,Da,Bs,fs),yA(Qi,ro,ns,Bn,Cs,Da,Bs,fs)),0<fn&&(An(jn,Nn,Ga,Da+4,Bs,fs),eo(Qi,ro,ns,Bn,Cs,Da+4,Bs,fs)),Js.La&&(wA(jn,Nn,Ga,Da,Bs,fs),Lu(Qi,ro,ns,Bn,Cs,Da,Bs,fs))}}if($t.ia&&alert("todo:DitherRow"),St.put!=null){if(ma=16*Na,Na=16*(Na+1),ka?(St.y=$t.sa,St.O=$t.ta+ha,St.f=$t.qa,St.N=$t.ra+Ns,St.ea=$t.Ha,St.W=$t.Ia+Ns):(ma-=ta,St.y=rs,St.O=Fn,St.f=an,St.N=qr,St.ea=Tn,St.W=as),Wa||(Na-=ta),Na>St.o&&(Na=St.o),St.F=null,St.J=null,$t.Fa!=null&&0<$t.Fa.length&&ma<Na&&(St.J=En($t,St,ma,Na-ma),St.F=$t.mb,St.F==null&&St.F.length==0)){bn=tn($t,3,"Could not decode alpha data.");break t}ma<St.j&&(ta=St.j-ma,ma=St.j,r(!(1&ta)),St.O+=$t.R*ta,St.N+=$t.B*(ta>>1),St.W+=$t.B*(ta>>1),St.F!=null&&(St.J+=St.width*ta)),ma<Na&&(St.O+=St.v,St.N+=St.v>>1,St.W+=St.v>>1,St.F!=null&&(St.J+=St.v),St.ka=ma-St.j,St.U=St.va-St.v,St.T=Na-ma,bn=St.put(St))}kr+1!=$t.Ic||Wa||(a($t.sa,$t.ta-wr,rs,Fn+16*$t.R,wr),a($t.qa,$t.ra-Oa,an,qr+8*$t.B,Oa),a($t.Ha,$t.Ia-Oa,Tn,as+8*$t.B,Oa))}if(!bn)return tn(Jr,6,"Output aborted.")}return 1})(me,Ne)),Ne.bc!=null&&Ne.bc(Ne),Fe&=1}return Fe?(me.cb=0,Fe):0})(b,q)||(C=b.a)}}else C=b.a}C==0&&le.Oa!=null&&le.Oa.fd&&(C=gA(le.ba))}le=C}ie=le!=0?null:11>ie?ce.f.RGBA.eb:ce.f.kb.y}else ie=null;return ie};var Td=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(E,V){for(var Q="",$=0;$<4;$++)Q+=String.fromCharCode(E[V++]);return Q}function f(E,V){return E[V+0]|E[V+1]<<8}function h(E,V){return(E[V+0]|E[V+1]<<8|E[V+2]<<16)>>>0}function m(E,V){return(E[V+0]|E[V+1]<<8|E[V+2]<<16|E[V+3]<<24)>>>0}new A;var p=[0],v=[0],x=[],w=new A,j=e,N=(function(E,V){var Q={},$=0,G=!1,R=0,ee=0;if(Q.frames=[],!(function(I,W){for(var te=0;te<4;te++)if(I[W+te]!="RIFF".charCodeAt(te))return!0;return!1})(E,V)){for(m(E,V+=4),V+=8;V<E.length;){var K=d(E,V),z=m(E,V+=4);V+=4;var X=z+(1&z);switch(K){case"VP8 ":case"VP8L":Q.frames[$]===void 0&&(Q.frames[$]={}),(_=Q.frames[$]).src_off=G?ee:V-8,_.src_size=R+z+8,$++,G&&(G=!1,R=0,ee=0);break;case"VP8X":(_=Q.header={}).feature_flags=E[V];var ne=V+4;_.canvas_width=1+h(E,ne),ne+=3,_.canvas_height=1+h(E,ne),ne+=3;break;case"ALPH":G=!0,R=X+8,ee=V-8;break;case"ANIM":(_=Q.header).bgcolor=m(E,V),ne=V+4,_.loop_count=f(E,ne),ne+=2;break;case"ANMF":var ue,_;(_=Q.frames[$]={}).offset_x=2*h(E,V),V+=3,_.offset_y=2*h(E,V),V+=3,_.width=1+h(E,V),V+=3,_.height=1+h(E,V),V+=3,_.duration=h(E,V),V+=3,ue=E[V++],_.dispose=1&ue,_.blend=ue>>1&1}K!="ANMF"&&(V+=X)}return Q}})(j,0);N.response=j,N.rgbaoutput=!0,N.dataurl=!1;var S=N.header?N.header:null,F=N.frames?N.frames:null;if(S){S.loop_counter=S.loop_count,p=[S.canvas_height],v=[S.canvas_width];for(var T=0;T<F.length&&F[T].blend!=0;T++);}var D=F[0],k=w.WebPDecodeRGBA(j,D.src_off,D.src_size,v,p);D.rgba=k,D.imgwidth=v[0],D.imgheight=p[0];for(var P=0;P<v[0]*p[0]*4;P++)x[P]=k[P];return this.width=v,this.height=p,this.data=x,this}(function(e){var r,t,a,s,i,o,l,A,d,f=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new A,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new o,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new o,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),r=this.internal.f2,t=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,A=this.internal.Matrix,d=new f}]);var h=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=I;Object.defineProperty(this,"pdf",{get:function(){return W}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(xe){te=!!xe}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(xe){J=!!xe}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(xe){isNaN(xe)||(Y=xe)}});var M=0;Object.defineProperty(this,"posY",{get:function(){return M},set:function(xe){isNaN(xe)||(M=xe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(xe){var Ae;typeof xe=="number"?Ae=[xe,xe,xe,xe]:((Ae=new Array(4))[0]=xe[0],Ae[1]=xe.length>=2?xe[1]:Ae[0],Ae[2]=xe.length>=3?xe[2]:Ae[0],Ae[3]=xe.length>=4?xe[3]:Ae[1]),d.margin=Ae}});var Z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Z},set:function(xe){Z=xe}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(xe){oe=xe}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(xe){fe=xe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(xe){xe instanceof f&&(d=xe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(xe){d.path=xe}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(xe){ve=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var Ae;Ae=m(xe),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var Ae=m(xe);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var Ee=null,_e=null;Object.defineProperty(this,"fontFaces",{get:function(){return _e},set:function(xe){Ee=null,_e=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var Ae;if(this.ctx.font=xe,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var dt=Ae[1];Ae[2];var Ft=Ae[3],mt=Ae[4];Ae[5];var Ue=Ae[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(mt)[2];mt=Math.floor(ct==="px"?parseFloat(mt)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(mt)*this.pdf.getFontSize():parseFloat(mt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(mt);var et=(function(vt){var yt,Qr,Ir=[],Tt=vt.trim();if(Tt==="")return pw;if(Tt in UB)return[UB[Tt]];for(;Tt!=="";){switch(Qr=null,yt=(Tt=IB(Tt)).charAt(0)){case'"':case"'":Qr=XK(Tt.substring(1),yt);break;default:Qr=JK(Tt)}if(Qr===null||(Ir.push(Qr[0]),(Tt=IB(Qr[1]))!==""&&Tt.charAt(0)!==","))return pw;Tt=Tt.replace(/^,/,"")}return Ir})(Ue);if(this.fontFaces){var Ot=(function(vt,yt){if(Ee===null){var Qr=(function(Ir){var Tt=[];return Object.keys(Ir).forEach(function(hr){Ir[hr].forEach(function(nt){var Re=null;switch(nt){case"bold":Re={family:hr,weight:"bold"};break;case"italic":Re={family:hr,style:"italic"};break;case"bolditalic":Re={family:hr,weight:"bold",style:"italic"};break;case"":case"normal":Re={family:hr}}Re!==null&&(Re.ref={name:hr,style:nt},Tt.push(Re))})}),Tt})(vt.getFontList());Ee=(function(Ir){for(var Tt={},hr=0;hr<Ir.length;++hr){var nt=mw(Ir[hr]),Re=nt.family,it=nt.stretch,bt=nt.style,Je=nt.weight;Tt[Re]=Tt[Re]||{},Tt[Re][it]=Tt[Re][it]||{},Tt[Re][it][bt]=Tt[Re][it][bt]||{},Tt[Re][it][bt][Je]=nt}return Tt})(Qr.concat(yt))}return Ee})(this.pdf,this.fontFaces),He=et.map(function(vt){return{family:vt,stretch:"normal",weight:Ft,style:dt}}),Jt=(function(vt,yt,Qr){for(var Ir=(Qr=Qr||{}).defaultFontFamily||"times",Tt=Object.assign({},YK,Qr.genericFontFamilies||{}),hr=null,nt=null,Re=0;Re<yt.length;++Re)if(Tt[(hr=mw(yt[Re])).family]&&(hr.family=Tt[hr.family]),vt.hasOwnProperty(hr.family)){nt=vt[hr.family];break}if(!(nt=nt||vt[Ir]))throw new Error("Could not find a font-family for the rule '"+LB(hr)+"' and default family '"+Ir+"'.");if(nt=(function(it,bt){if(bt[it])return bt[it];var Je=R1[it],Lt=Je<=R1.normal?-1:1,lr=DB(bt,nF,Je,Lt);if(!lr)throw new Error("Could not find a matching font-stretch value for "+it);return lr})(hr.stretch,nt),nt=(function(it,bt){if(bt[it])return bt[it];for(var Je=aF[it],Lt=0;Lt<Je.length;++Lt)if(bt[Je[Lt]])return bt[Je[Lt]];throw new Error("Could not find a matching font-style for "+it)})(hr.style,nt),!(nt=(function(it,bt){if(bt[it])return bt[it];if(it===400&&bt[500])return bt[500];if(it===500&&bt[400])return bt[400];var Je=GK[it],Lt=DB(bt,sF,Je,it<400?-1:1);if(!Lt)throw new Error("Could not find a matching font-weight for value "+it);return Lt})(hr.weight,nt)))throw new Error("Failed to resolve a font for the rule '"+LB(hr)+"'.");return nt})(Ot,He);this.pdf.setFont(Jt.ref.name,Jt.ref.style)}else{var kt="";(Ft==="bold"||parseInt(Ft,10)>=700||dt==="bold")&&(kt="bold"),dt==="italic"&&(kt+="italic"),kt.length===0&&(kt="normal");for(var jt="",Nr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<et.length;Nt++){if(this.pdf.internal.getFont(et[Nt],kt,{noFallback:!0,disableWarning:!0})!==void 0){jt=et[Nt];break}if(kt==="bolditalic"&&this.pdf.internal.getFont(et[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)jt=et[Nt],kt="bold";else if(this.pdf.internal.getFont(et[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){jt=et[Nt],kt="normal";break}}if(jt===""){for(var Bt=0;Bt<et.length;Bt++)if(Nr[et[Bt]]){jt=Nr[et[Bt]];break}}jt=jt===""?"Times":jt,this.pdf.setFont(jt,kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,_.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,_.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};h.prototype.setLineDash=function(I){this.lineDash=I},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){F.call(this,"fill",!1)},h.prototype.stroke=function(){F.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(I,W){if(isNaN(I)||isNaN(W))throw Ka.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(I,W));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(I,W)},h.prototype.closePath=function(){var I=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&La(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){I=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(I.x,I.y)},h.prototype.lineTo=function(I,W){if(isNaN(I)||isNaN(W))throw Ka.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(I,W));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},h.prototype.quadraticCurveTo=function(I,W,te,J){if(isNaN(te)||isNaN(J)||isNaN(I)||isNaN(W))throw Ka.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new o(te,J)),M=this.ctx.transform.applyToPoint(new o(I,W));this.path.push({type:"qct",x1:M.x,y1:M.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},h.prototype.bezierCurveTo=function(I,W,te,J,Y,M){if(isNaN(Y)||isNaN(M)||isNaN(I)||isNaN(W)||isNaN(te)||isNaN(J))throw Ka.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Z=this.ctx.transform.applyToPoint(new o(Y,M)),oe=this.ctx.transform.applyToPoint(new o(I,W)),fe=this.ctx.transform.applyToPoint(new o(te,J));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:fe.x,y2:fe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.arc=function(I,W,te,J,Y,M){if(isNaN(I)||isNaN(W)||isNaN(te)||isNaN(J)||isNaN(Y))throw Ka.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(M=!!M,!this.ctx.transform.isIdentity){var Z=this.ctx.transform.applyToPoint(new o(I,W));I=Z.x,W=Z.y;var oe=this.ctx.transform.applyToPoint(new o(0,te)),fe=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(oe.x-fe.x,2)+Math.pow(oe.y-fe.y,2))}Math.abs(Y-J)>=2*Math.PI&&(J=0,Y=2*Math.PI),this.path.push({type:"arc",x:I,y:W,radius:te,startAngle:J,endAngle:Y,counterclockwise:M})},h.prototype.arcTo=function(I,W,te,J,Y){throw new Error("arcTo not implemented.")},h.prototype.rect=function(I,W,te,J){if(isNaN(I)||isNaN(W)||isNaN(te)||isNaN(J))throw Ka.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,W),this.lineTo(I+te,W),this.lineTo(I+te,W+J),this.lineTo(I,W+J),this.lineTo(I,W),this.lineTo(I+te,W),this.lineTo(I,W)},h.prototype.fillRect=function(I,W,te,J){if(isNaN(I)||isNaN(W)||isNaN(te)||isNaN(J))throw Ka.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,W,te,J),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},h.prototype.strokeRect=function(I,W,te,J){if(isNaN(I)||isNaN(W)||isNaN(te)||isNaN(J))throw Ka.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(I,W,te,J),this.stroke())},h.prototype.clearRect=function(I,W,te,J){if(isNaN(I)||isNaN(W)||isNaN(te)||isNaN(J))throw Ka.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,W,te,J))},h.prototype.save=function(I){I=typeof I!="boolean"||I;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},h.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(W),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(I){var W,te,J,Y;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))W=0,te=0,J=0,Y=0;else{var M=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(M!==null)W=parseInt(M[1]),te=parseInt(M[2]),J=parseInt(M[3]),Y=1;else if((M=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)W=parseInt(M[1]),te=parseInt(M[2]),J=parseInt(M[3]),Y=parseFloat(M[4]);else{if(Y=1,typeof I=="string"&&I.charAt(0)!=="#"){var Z=new Y3(I);I=Z.ok?Z.toHex():"#000000"}I.length===4?(W=I.substring(1,2),W+=W,te=I.substring(2,3),te+=te,J=I.substring(3,4),J+=J):(W=I.substring(1,3),te=I.substring(3,5),J=I.substring(5,7)),W=parseInt(W,16),te=parseInt(te,16),J=parseInt(J,16)}}return{r:W,g:te,b:J,a:Y,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(I,W,te,J){if(isNaN(W)||isNaN(te)||typeof I!="string")throw Ka.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!p.call(this)){var Y=X(this.ctx.transform.rotation),M=this.ctx.transform.scaleX;$.call(this,{text:I,x:W,y:te,scale:M,angle:Y,align:this.textAlign,maxWidth:J})}},h.prototype.strokeText=function(I,W,te,J){if(isNaN(W)||isNaN(te)||typeof I!="string")throw Ka.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){J=isNaN(J)?void 0:J;var Y=X(this.ctx.transform.rotation),M=this.ctx.transform.scaleX;$.call(this,{text:I,x:W,y:te,scale:M,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:J})}},h.prototype.measureText=function(I){if(typeof I!="string")throw Ka.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,te=this.pdf.internal.scaleFactor,J=W.internal.getFontSize(),Y=W.getStringUnitWidth(I)*J/W.internal.scaleFactor;return new function(M){var Z=(M=M||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Z}}),this}({width:Y*=Math.round(96*te/72*1e4)/1e4})},h.prototype.scale=function(I,W){if(isNaN(I)||isNaN(W))throw Ka.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new A(I,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.rotate=function(I){if(isNaN(I))throw Ka.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new A(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.translate=function(I,W){if(isNaN(I)||isNaN(W))throw Ka.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new A(1,0,0,1,I,W);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.transform=function(I,W,te,J,Y,M){if(isNaN(I)||isNaN(W)||isNaN(te)||isNaN(J)||isNaN(Y)||isNaN(M))throw Ka.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Z=new A(I,W,te,J,Y,M);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.setTransform=function(I,W,te,J,Y,M){I=isNaN(I)?1:I,W=isNaN(W)?0:W,te=isNaN(te)?0:te,J=isNaN(J)?1:J,Y=isNaN(Y)?0:Y,M=isNaN(M)?0:M,this.ctx.transform=new A(I,W,te,J,Y,M)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(I,W,te,J,Y,M,Z,oe,fe){var ve=this.pdf.getImageProperties(I),Ee=1,_e=1,xe=1,Ae=1;J!==void 0&&oe!==void 0&&(xe=oe/J,Ae=fe/Y,Ee=ve.width/J*oe/J,_e=ve.height/Y*fe/Y),M===void 0&&(M=W,Z=te,W=0,te=0),J!==void 0&&oe===void 0&&(oe=J,fe=Y),J===void 0&&oe===void 0&&(oe=ve.width,fe=ve.height);for(var dt,Ft=this.ctx.transform.decompose(),mt=X(Ft.rotate.shx),Ue=new A,ct=(Ue=(Ue=(Ue=Ue.multiply(Ft.translate)).multiply(Ft.skew)).multiply(Ft.scale)).applyToRectangle(new l(M-W*xe,Z-te*Ae,J*Ee,Y*_e)),et=w.call(this,ct),Ot=[],He=0;He<et.length;He+=1)Ot.indexOf(et[He])===-1&&Ot.push(et[He]);if(S(Ot),this.autoPaging)for(var Jt=Ot[0],kt=Ot[Ot.length-1],jt=Jt;jt<kt+1;jt++){this.pdf.setPage(jt);var Nr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=jt===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=jt===1?0:Bt+(jt-2)*vt;if(this.ctx.clip_path.length!==0){var Qr=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(dt,this.posX+this.margin[3],-yt+Nt+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=Qr}var Ir=JSON.parse(JSON.stringify(ct));Ir=N([Ir],this.posX+this.margin[3],-yt+Nt+this.ctx.prevPageLastElemOffset)[0];var Tt=(jt>Jt||jt<kt)&&x.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nr,vt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Ir.x,Ir.y,Ir.w,Ir.h,null,null,mt),Tt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,mt)};var w=function(I,W,te){var J=[];W=W||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":J.push(Math.floor((I.y+Y)/te)+1);break;case"arc":J.push(Math.floor((I.y+Y-I.radius)/te)+1),J.push(Math.floor((I.y+Y+I.radius)/te)+1);break;case"qct":var M=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);J.push(Math.floor((M.y+Y)/te)+1),J.push(Math.floor((M.y+M.h+Y)/te)+1);break;case"bct":var Z=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);J.push(Math.floor((Z.y+Y)/te)+1),J.push(Math.floor((Z.y+Z.h+Y)/te)+1);break;case"rect":J.push(Math.floor((I.y+Y)/te)+1),J.push(Math.floor((I.y+I.h+Y)/te)+1)}for(var oe=0;oe<J.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<J[oe];)j.call(this);return J},j=function(){var I=this.fillStyle,W=this.strokeStyle,te=this.font,J=this.lineCap,Y=this.lineWidth,M=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=W,this.font=te,this.lineCap=J,this.lineWidth=Y,this.lineJoin=M},N=function(I,W,te){for(var J=0;J<I.length;J++)switch(I[J].type){case"bct":I[J].x2+=W,I[J].y2+=te;case"qct":I[J].x1+=W,I[J].y1+=te;default:I[J].x+=W,I[J].y+=te}return I},S=function(I){return I.sort(function(W,te){return W-te})},F=function(I,W){for(var te,J,Y=this.fillStyle,M=this.strokeStyle,Z=this.lineCap,oe=this.lineWidth,fe=Math.abs(oe*this.ctx.transform.scaleX),ve=this.lineJoin,Ee=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),xe=[],Ae=0;Ae<_e.length;Ae++)if(_e[Ae].x!==void 0)for(var dt=w.call(this,_e[Ae]),Ft=0;Ft<dt.length;Ft+=1)xe.indexOf(dt[Ft])===-1&&xe.push(dt[Ft]);for(var mt=0;mt<xe.length;mt++)for(;this.pdf.internal.getNumberOfPages()<xe[mt];)j.call(this);if(S(xe),this.autoPaging)for(var Ue=xe[0],ct=xe[xe.length-1],et=Ue;et<ct+1;et++){this.pdf.setPage(et),this.fillStyle=Y,this.strokeStyle=M,this.lineCap=Z,this.lineWidth=fe,this.lineJoin=ve;var Ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=et===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=et===1?0:Jt+(et-2)*kt;if(this.ctx.clip_path.length!==0){var Nr=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(te,this.posX+this.margin[3],-jt+He+this.ctx.prevPageLastElemOffset),T.call(this,I,!0),this.path=Nr}if(J=JSON.parse(JSON.stringify(Ee)),this.path=N(J,this.posX+this.margin[3],-jt+He+this.ctx.prevPageLastElemOffset),W===!1||et===0){var Nt=(et>Ue||et<ct)&&x.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,kt,null).clip().discardPath()),T.call(this,I,W),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=fe,T.call(this,I,W),this.lineWidth=oe;this.path=Ee},T=function(I,W){if((I!=="stroke"||W||!v.call(this))&&(I==="stroke"||W||!p.call(this))){for(var te,J,Y=[],M=this.path,Z=0;Z<M.length;Z++){var oe=M[Z];switch(oe.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:oe,deltas:[],abs:[]});break;case"lt":var fe=Y.length;if(M[Z-1]&&!isNaN(M[Z-1].x)&&(te=[oe.x-M[Z-1].x,oe.y-M[Z-1].y],fe>0)){for(;fe>=0;fe--)if(Y[fe-1].close!==!0&&Y[fe-1].begin!==!0){Y[fe-1].deltas.push(te),Y[fe-1].abs.push(oe);break}}break;case"bct":te=[oe.x1-M[Z-1].x,oe.y1-M[Z-1].y,oe.x2-M[Z-1].x,oe.y2-M[Z-1].y,oe.x-M[Z-1].x,oe.y-M[Z-1].y],Y[Y.length-1].deltas.push(te);break;case"qct":var ve=M[Z-1].x+2/3*(oe.x1-M[Z-1].x),Ee=M[Z-1].y+2/3*(oe.y1-M[Z-1].y),_e=oe.x+2/3*(oe.x1-oe.x),xe=oe.y+2/3*(oe.y1-oe.y),Ae=oe.x,dt=oe.y;te=[ve-M[Z-1].x,Ee-M[Z-1].y,_e-M[Z-1].x,xe-M[Z-1].y,Ae-M[Z-1].x,dt-M[Z-1].y],Y[Y.length-1].deltas.push(te);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(oe)}}J=W?null:I==="stroke"?"stroke":"fill";for(var Ft=!1,mt=0;mt<Y.length;mt++)if(Y[mt].arc)for(var Ue=Y[mt].abs,ct=0;ct<Ue.length;ct++){var et=Ue[ct];et.type==="arc"?P.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,W,!Ft):G.call(this,et.x,et.y),Ft=!0}else if(Y[mt].close===!0)this.pdf.internal.out("h"),Ft=!1;else if(Y[mt].begin!==!0){var Ot=Y[mt].start.x,He=Y[mt].start.y;R.call(this,Y[mt].deltas,Ot,He),Ft=!0}J&&E.call(this,J),W&&V.call(this)}},D=function(I){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-te;case"top":return I+W-te;case"hanging":return I+W-2*te;case"middle":return I+W/2-te;default:return I}},k=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(W,te){this.colorStops.push([W,te])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(I,W,te,J,Y,M,Z,oe,fe){for(var ve=K.call(this,te,J,Y,M),Ee=0;Ee<ve.length;Ee++){var _e=ve[Ee];Ee===0&&(fe?Q.call(this,_e.x1+I,_e.y1+W):G.call(this,_e.x1+I,_e.y1+W)),ee.call(this,I,W,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}oe?V.call(this):E.call(this,Z)},E=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},Q=function(I,W){this.pdf.internal.out(t(I)+" "+a(W)+" m")},$=function(I){var W;switch(I.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var te=this.pdf.getTextDimensions(I.text),J=D.call(this,I.y),Y=k.call(this,J)-te.h,M=this.ctx.transform.applyToPoint(new o(I.x,J)),Z=this.ctx.transform.decompose(),oe=new A;oe=(oe=(oe=oe.multiply(Z.translate)).multiply(Z.skew)).multiply(Z.scale);for(var fe,ve,Ee,_e=this.ctx.transform.applyToRectangle(new l(I.x,J,te.w,te.h)),xe=oe.applyToRectangle(new l(I.x,Y,te.w,te.h)),Ae=w.call(this,xe),dt=[],Ft=0;Ft<Ae.length;Ft+=1)dt.indexOf(Ae[Ft])===-1&&dt.push(Ae[Ft]);if(S(dt),this.autoPaging)for(var mt=dt[0],Ue=dt[dt.length-1],ct=mt;ct<Ue+1;ct++){this.pdf.setPage(ct);var et=ct===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],Jt=He-this.margin[0],kt=this.pdf.internal.pageSize.width-this.margin[1],jt=kt-this.margin[3],Nr=ct===1?0:Ot+(ct-2)*Jt;if(this.ctx.clip_path.length!==0){var Nt=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(fe,this.posX+this.margin[3],-1*Nr+et),T.call(this,"fill",!0),this.path=Nt}var Bt=N([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Nr+et+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*I.scale),Ee=this.lineWidth,this.lineWidth=Ee*I.scale);var vt=this.autoPaging!=="text";if(vt||Bt.y+Bt.h<=He){if(vt||Bt.y>=et&&Bt.x<=kt){var yt=vt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||kt-Bt.x)[0],Qr=N([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-Nr+et+this.ctx.prevPageLastElemOffset)[0],Ir=vt&&(ct>mt||ct<Ue)&&x.call(this);Ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,Jt,null).clip().discardPath()),this.pdf.text(yt,Qr.x,Qr.y,{angle:I.angle,align:W,renderingMode:I.renderingMode}),Ir&&this.pdf.restoreGraphicsState()}}else Bt.y<He&&(this.ctx.prevPageLastElemOffset+=He-Bt.y);I.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=Ee)}else I.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*I.scale),Ee=this.lineWidth,this.lineWidth=Ee*I.scale),this.pdf.text(I.text,M.x+this.posX,M.y+this.posY,{angle:I.angle,align:W,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=Ee)},G=function(I,W,te,J){te=te||0,J=J||0,this.pdf.internal.out(t(I+te)+" "+a(W+J)+" l")},R=function(I,W,te){return this.pdf.lines(I,W,te,null,null)},ee=function(I,W,te,J,Y,M,Z,oe){this.pdf.internal.out([r(s(te+I)),r(i(J+W)),r(s(Y+I)),r(i(M+W)),r(s(Z+I)),r(i(oe+W)),"c"].join(" "))},K=function(I,W,te,J){for(var Y=2*Math.PI,M=Math.PI/2;W>te;)W-=Y;var Z=Math.abs(te-W);Z<Y&&J&&(Z=Y-Z);for(var oe=[],fe=J?-1:1,ve=W;Z>1e-5;){var Ee=ve+fe*Math.min(Z,M);oe.push(z.call(this,I,ve,Ee)),Z-=Math.abs(Ee-ve),ve=Ee}return oe},z=function(I,W,te){var J=(te-W)/2,Y=I*Math.cos(J),M=I*Math.sin(J),Z=Y,oe=-M,fe=Z*Z+oe*oe,ve=fe+Z*Y+oe*M,Ee=4/3*(Math.sqrt(2*fe*ve)-ve)/(Z*M-oe*Y),_e=Z-Ee*oe,xe=oe+Ee*Z,Ae=_e,dt=-xe,Ft=J+W,mt=Math.cos(Ft),Ue=Math.sin(Ft);return{x1:I*Math.cos(W),y1:I*Math.sin(W),x2:_e*mt-xe*Ue,y2:_e*Ue+xe*mt,x3:Ae*mt-dt*Ue,y3:Ae*Ue+dt*mt,x4:I*Math.cos(te),y4:I*Math.sin(te)}},X=function(I){return 180*I/Math.PI},ne=function(I,W,te,J,Y,M){var Z=I+.5*(te-I),oe=W+.5*(J-W),fe=Y+.5*(te-Y),ve=M+.5*(J-M),Ee=Math.min(I,Y,Z,fe),_e=Math.max(I,Y,Z,fe),xe=Math.min(W,M,oe,ve),Ae=Math.max(W,M,oe,ve);return new l(Ee,xe,_e-Ee,Ae-xe)},ue=function(I,W,te,J,Y,M,Z,oe){var fe,ve,Ee,_e,xe,Ae,dt,Ft,mt,Ue,ct,et,Ot,He,Jt=te-I,kt=J-W,jt=Y-te,Nr=M-J,Nt=Z-Y,Bt=oe-M;for(ve=0;ve<41;ve++)mt=(dt=(Ee=I+(fe=ve/40)*Jt)+fe*((xe=te+fe*jt)-Ee))+fe*(xe+fe*(Y+fe*Nt-xe)-dt),Ue=(Ft=(_e=W+fe*kt)+fe*((Ae=J+fe*Nr)-_e))+fe*(Ae+fe*(M+fe*Bt-Ae)-Ft),ve==0?(ct=mt,et=Ue,Ot=mt,He=Ue):(ct=Math.min(ct,mt),et=Math.min(et,Ue),Ot=Math.max(Ot,mt),He=Math.max(He,Ue));return new l(Math.round(ct),Math.round(et),Math.round(Ot-ct),Math.round(He-et))},_=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,W,te=(I=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:W}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(ar.API),(function(e){var r=function(o){var l,A,d,f,h,m,p,v,x,w;for(A=[],d=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(h=((h=((h=((h=(h-(w=h%85))/85)-(x=h%85))/85)-(v=h%85))/85)-(p=h%85))/85)%85,A.push(m+33,p+33,v+33,x+33,w+33)):A.push(122);return(function(j,N){for(var S=N;S>0;S--)j.pop()})(A,l.length),String.fromCharCode.apply(String,A)+"~>"},t=function(o){var l,A,d,f,h,m=String,p="length",v=255,x="charCodeAt",w="slice",j="replace";for(o[w](-2),o=o[w](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],f=0,h=(o+=l="uuuuu"[w](o[p]%5||5))[p];h>f;f+=5)A=52200625*(o[x](f)-33)+614125*(o[x](f+1)-33)+7225*(o[x](f+2)-33)+85*(o[x](f+3)-33)+(o[x](f+4)-33),d.push(v&A>>24,v&A>>16,v&A>>8,v&A);return(function(N,S){for(var F=S;F>0;F--)N.pop()})(d,l[p]),m.fromCharCode.apply(m,d)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var A="",d=0;d<o.length;d+=2)A+=String.fromCharCode("0x"+(o[d]+o[d+1]));return A},i=function(o){for(var l=new Uint8Array(o.length),A=o.length;A--;)l[A]=o.charCodeAt(A);return(l=k1(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(o,l){var A=0,d=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),A=0;A<l.length;A+=1)switch(l[A]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=r(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[A]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(ar.API),(function(e){e.loadFile=function(r,t,a){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(A,d,f){var h=new XMLHttpRequest,m=0,p=function(v){var x=v.length,w=[],j=String.fromCharCode;for(m=0;m<x;m+=1)w.push(j(255&v.charCodeAt(m)));return w.join("")};if(h.open("GET",A,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?f(p(this.responseText)):f(void 0)}),h.send(null),d&&h.status===200)return p(h.responseText)})(s,i,o)}catch{}return l})(r,t,a)},e.loadImageFile=e.loadFile})(ar.API),(function(e){function r(){return(Er.html2canvas?Promise.resolve(Er.html2canvas):ul(()=>Promise.resolve().then(()=>HY),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Er.DOMPurify?Promise.resolve(Er.DOMPurify):ul(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var A=La(l);return A==="undefined"?"undefined":A==="string"||l instanceof String?"string":A==="number"||l instanceof Number?"number":A==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(l,A){var d=document.createElement(l);for(var f in A.className&&(d.className=A.className),A.innerHTML&&A.dompurify&&(d.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)d.style[f]=A.style[f];return d},i=function l(A,d){for(var f=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),h=A.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return A.nodeType===1&&(A.nodeName==="CANVAS"?(f.width=A.width,f.height=A.height,f.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(f.value=A.value),f.addEventListener("load",function(){f.scrollTop=A.scrollTop,f.scrollLeft=A.scrollLeft},!0)),f},o=function l(A){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(A)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,A){return l.__proto__=A||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,A){return this.then(function(){switch(A=A||(function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),A){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(A){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,A(this.prop.container,d)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(A){var d=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var v=f[p],x=v.src.find(function(w){return w.format==="truetype"});x&&d.addFont(x.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),A(this.prop.container,m)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,A,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,A):this.outputPdf(l,A)},o.prototype.outputPdf=function(l,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,A)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var A=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(A)})},o.prototype.get=function(l,A){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return A?A(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function A(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||ar.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:A(l.inner.width,l.k),height:A(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,A,d,f){return l!=null&&(this.progress.val=l),A!=null&&(this.progress.state=A),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,A,d,f){return this.setProgress(l?this.progress.val+l:null,A||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,A){var d=this;return this.thenCore(l,A,function(f,h){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,f),m}).then(f,h).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,A,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),A&&(A=A.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),m=d.call(h,l,A);return o.convert(m,f.__proto__)},o.prototype.thenExternal=function(l,A){return Promise.prototype.then.call(this,l,A)},o.prototype.thenList=function(l){var A=this;return l.forEach(function(d){A=A.thenCore(d)}),A},o.prototype.catch=function(l){l&&(l=l.bind(this));var A=Promise.prototype.catch.call(this,l);return o.convert(A,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ar.getPageSize=function(l,A,d){if(La(l)==="object"){var f=l;l=f.orientation,A=f.unit||A,d=f.format||d}A=A||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+A}var v,x=0,w=0;if(p.hasOwnProperty(m))x=p[m][1]/h,w=p[m][0]/h;else try{x=d[1],w=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",w>x&&(v=w,w=x,x=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>w&&(v=w,w=x,x=v)}return{width:w,height:x,unit:A,k:h,orientation:l}},e.html=function(l,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(mw):null;var d=new o(A);return A.worker?d:d.from(l).doCallback()}})(ar.API),ar.API.addJS=function(e){return QB=e,this.internal.events.subscribe("postPutResources",function(){Kp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Kp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),PB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+QB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Kp!==void 0&&PB!==void 0&&this.internal.out("/Names <</JavaScript "+Kp+" 0 R>>")}),this},(function(e){var r;e.events.push(["postPutResources",function(){var t=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var A=l[1];t.internal.newObjectDeferredBegin(A,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var h=t.internal.newObject();f.push(h);var m=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<f.length;i++)t.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");t.internal.write(" ] >>","endobj"),r=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+r+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(a){a.id=t.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},t.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},t.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var A=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},t.outline.line=function(a){this.ctx.val+=a+`\r
`},t.outline.makeRef=function(a){return a.id+" 0 R"},t.outline.makeString=function(a){return"("+t.internal.pdfEscape(a)+")"},t.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])})(ar.API),(function(e){var r=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,a,s,i,o,l){var A,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,A=(function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,x={width:0,height:0,numcomponents:1},w=4;w<v;w+=2){if(w+=p,r.indexOf(h.charCodeAt(w+1))!==-1){m=256*h.charCodeAt(w+5)+h.charCodeAt(w+6),x={width:256*h.charCodeAt(w+7)+h.charCodeAt(w+8),height:m,numcomponents:h.charCodeAt(w+9)};break}p=256*h.charCodeAt(w+2)+h.charCodeAt(w+3)}return x})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),A.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:A.width,height:A.height,colorSpace:l,bitsPerComponent:8,filter:d,index:a,alias:s}}return f}})(ar.API),ar.API.processPNG=function(e,r,t,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=IK(e,{checkCrc:!0}),o=i.width,l=i.height,A=i.channels,d=i.palette,f=i.depth;s=d&&A===1?(function(P){for(var E=P.width,V=P.height,Q=P.data,$=P.palette,G=P.depth,R=!1,ee=[],K=[],z=void 0,X=!1,ne=0,ue=0;ue<$.length;ue++){var _=ON($[ue],4),I=_[0],W=_[1],te=_[2],J=_[3];ee.push(I,W,te),J!=null&&(J===0?(ne++,K.length<1&&K.push(ue)):J<255&&(X=!0))}if(X||ne>1){R=!0,K=void 0;var Y=E*V;z=new Uint8Array(Y);for(var M=new DataView(Q.buffer),Z=0;Z<Y;Z++){var oe=gw(M,Z,G),fe=ON($[oe],4)[3];z[Z]=fe}}else ne===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:Q,alphaBytes:z,needSMask:R,palette:ee,mask:K}})(i):A===2||A===4?(function(P){for(var E=P.data,V=P.width,Q=P.height,$=P.channels,G=P.depth,R=$===2?"DeviceGray":"DeviceRGB",ee=$-1,K=V*Q,z=ee,X=K*z,ne=1*K,ue=Math.ceil(X*G/8),_=Math.ceil(ne*G/8),I=new Uint8Array(ue),W=new Uint8Array(_),te=new DataView(E.buffer),J=new DataView(I.buffer),Y=new DataView(W.buffer),M=!1,Z=0;Z<K;Z++){for(var oe=Z*$,fe=0;fe<z;fe++)zB(J,gw(te,oe+fe,G),Z*z+fe,G);var ve=gw(te,oe+z,G);ve<(1<<G)-1&&(M=!0),zB(Y,ve,1*Z,G)}return{colorSpace:R,colorsPerPixel:ee,sMaskBitsPerComponent:M?G:void 0,colorBytes:I,alphaBytes:W,needSMask:M}})(i):(function(P){var E=P.data,V=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?(function(Q){for(var $=Q.length,G=new Uint8Array(2*$),R=new DataView(G.buffer,G.byteOffset,G.byteLength),ee=0;ee<$;ee++)R.setUint16(2*ee,Q[ee],!1);return G})(E):E,needSMask:!1}})(i);var h,m,p,v=s,x=v.colorSpace,w=v.colorsPerPixel,j=v.sMaskBitsPerComponent,N=v.colorBytes,S=v.alphaBytes,F=v.needSMask,T=v.palette,D=v.mask,k=null;return a!==ar.API.image_compression.NONE&&typeof k1=="function"?(k=(function(P){var E;switch(P){case ar.API.image_compression.FAST:E=11;break;case ar.API.image_compression.MEDIUM:E=13;break;case ar.API.image_compression.SLOW:E=14;break;default:E=12}return E})(a),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(k," /Colors ").concat(w," /BitsPerComponent ").concat(f," /Columns ").concat(o),e=OB(N,Math.ceil(o*w*f/8),w,f,a),F&&(p=OB(S,Math.ceil(o*j/8),1,j,a))):(h=void 0,m=void 0,e=N,F&&(p=S)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:e,index:r,filter:h,decodeParameters:m,transparency:D,palette:T,sMask:p,predictor:k,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:j,colorSpace:x}}},(function(e){e.processGIF89A=function(r,t,a,s){var i=new rV(r),o=i.width,l=i.height,A=[];i.decodeAndBlitFrameRGBA(0,A);var d={data:A,width:o,height:l},f=new xw(100).encode(d,100);return e.processJPEG.call(this,f,t,a,s)},e.processGIF87A=e.processGIF89A})(ar.API),il.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var r=0;r<e;r++){var t=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:s,green:a,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},il.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[e]()}catch(t){Ka.log("bit decode error:"+t)}},il.prototype.bit1=function(){var e,r=Math.ceil(this.width/8),t=r%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<r;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var A=this.palette[i>>7-l&1];this.data[o+4*l]=A.blue,this.data[o+4*l+1]=A.green,this.data[o+4*l+2]=A.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},il.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),r=e%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,A=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*s+1>=this.width)break;d=this.palette[A],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}r!==0&&(this.pos+=4-r)}},il.prototype.bit8=function(){for(var e=this.width%4,r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},il.prototype.bit15=function(){for(var e=this.width%3,r=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&r)/r*255|0,l=(i>>5&r)/r*255|0,A=(i>>10&r)/r*255|0,d=i>>15?255:0,f=a*this.width*4+4*s;this.data[f]=A,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},il.prototype.bit16=function(){for(var e=this.width%3,r=parseInt("11111",2),t=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&r)/r*255|0,A=(o>>5&t)/t*255|0,d=(o>>11)/r*255|0,f=s*this.width*4+4*i;this.data[f]=d,this.data[f+1]=A,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},il.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*t;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},il.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*t;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},il.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(r,t,a,s){var i=new il(r,!1),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},d=new xw(100).encode(A,100);return e.processJPEG.call(this,d,t,a,s)}})(ar.API),WB.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(r,t,a,s){var i=new WB(r),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},d=new xw(100).encode(A,100);return e.processJPEG.call(this,d,t,a,s)}})(ar.API),ar.API.processRGBA=function(e,r,t){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,A=0,d=0;d<s;d+=4){var f=a[d],h=a[d+1],m=a[d+2],p=a[d+3];i[l++]=f,i[l++]=h,i[l++]=m,o[A++]=p}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:r,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ar.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Af=ar.API,Vp=Af.getCharWidthsArray=function(e,r){var t,a,s=(r=r||{}).font||this.internal.getFont(),i=r.fontSize||this.internal.getFontSize(),o=r.charSpace||this.internal.getCharSpace(),l=r.widths?r.widths:s.metadata.Unicode.widths,A=l.fof?l.fof:1,d=r.kerning?r.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,h=r.doKerning!==!1,m=0,p=e.length,v=0,x=l[0]||A,w=[];for(t=0;t<p;t++)a=e.charCodeAt(t),typeof s.metadata.widthOfString=="function"?w.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(m=h&&La(d[a])==="object"&&!isNaN(parseInt(d[a][v],10))?d[a][v]/f:0,w.push((l[a]||x)/A+m)),v=a;return w},RB=Af.getStringUnitWidth=function(e,r){var t=(r=r||{}).fontSize||this.internal.getFontSize(),a=r.font||this.internal.getFont(),s=r.charSpace||this.internal.getCharSpace();return Af.processArabic&&(e=Af.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,t,s)/t:Vp.apply(this,arguments).reduce(function(i,o){return i+o},0)},TB=function(e,r,t,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+r[i]<t;)l+=r[i],i++;s.push(e.slice(0,i));var A=i;for(l=0;i!==o;)l+r[i]>a&&(s.push(e.slice(A,i)),l=0,A=i),l+=r[i],i++;return A!==i&&s.push(e.slice(A,i)),s},MB=function(e,r,t){t||(t={});var a,s,i,o,l,A,d,f=[],h=[f],m=t.textIndent||0,p=0,v=0,x=e.split(" "),w=Vp.apply(this,[" ",t])[0];if(A=t.lineIndent===-1?x[0].length+2:t.lineIndent||0){var j=Array(A).join(" "),N=[];x.map(function(F){(F=F.split(/\s*\n/)).length>1?N=N.concat(F.map(function(T,D){return(D&&T.length?`
`:"")+T})):N.push(F[0])}),x=N,A=RB.apply(this,[j,t])}for(i=0,o=x.length;i<o;i++){var S=0;if(a=x[i],A&&a[0]==`
`&&(a=a.substr(1),S=1),m+p+(v=(s=Vp.apply(this,[a,t])).reduce(function(F,T){return F+T},0))>r||S){if(v>r){for(l=TB.apply(this,[a,s,r-(m+p),r]),f.push(l.shift()),f=[l.pop()];l.length;)h.push([l.shift()]);v=s.slice(a.length-(f[0]?f[0].length:0)).reduce(function(F,T){return F+T},0)}else f=[a];h.push(f),m=v+A,p=w}else f.push(a),m+=p+v,p=w}return d=A?function(F,T){return(T?j:"")+F.join(" ")}:function(F){return F.join(" ")},h.map(d)},Af.splitTextToSize=function(e,r,t){var a,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*r/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var l,A,d=[];for(l=0,A=a.length;l<A;l++)d=d.concat(MB.apply(this,[a[l],o,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var r="0123456789abcdef",t="klmnopqrstuvwxyz",a={},s={},i=0;i<16;i++)a[t[i]]=r[i],s[r[i]]=t[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var p,v,x,w,j=["{"];for(var N in m){if(p=m[N],isNaN(parseInt(N,10))?v="'"+N+"'":(N=parseInt(N,10),v=(v=o(N).slice(2)).slice(0,-1)+s[v.slice(-1)]),typeof p=="number")p<0?(x=o(p).slice(3),w="-"):(x=o(p).slice(2),w=""),x=w+x.slice(0,-1)+s[x.slice(-1)];else{if(La(p)!=="object")throw new Error("Don't know what to do with value type "+La(p)+".");x=l(p)}j.push(v+x)}return j.push("}"),j.join("")},A=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,x,w,j={},N=1,S=j,F=[],T="",D="",k=m.length-1,P=1;P<k;P+=1)(w=m[P])=="'"?p?(x=p.join(""),p=void 0):p=[]:p?p.push(w):w=="{"?(F.push([S,x]),S={},x=void 0):w=="}"?((v=F.pop())[0][v[1]]=S,x=void 0,S=v[0]):w=="-"?N=-1:x===void 0?a.hasOwnProperty(w)?(T+=a[w],x=parseInt(T,16)*N,N=1,T=""):T+=w:a.hasOwnProperty(w)?(D+=a[w],S[x]=parseInt(D,16)*N,N=1,x=void 0,D=""):D+=w;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var p=m.font,v=h.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var x=f.Unicode[p.postScriptName];x&&(p.metadata.Unicode.encoding=x,p.encoding=x.codePages[0])}])})(ar.API),(function(e){var r=function(t){for(var a=t.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=t.charCodeAt(i);return s};e.API.events.push(["addFont",function(t){var a=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?r(l):r(Dg(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])})(ar),ar.API.addSvgAsImage=function(e,r,t,a,s,i,o,l){if(isNaN(r)||isNaN(t))throw Ka.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Ka.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=a,A.height=s;var d=A.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,A.width,A.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Er.canvg?Promise.resolve(Er.canvg):ul(()=>import("./index.es-yB6ehLpp.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){h.addImage(A.toDataURL("image/jpeg",1),r,t,a,s,o,l)})},ar.API.putTotalPages=function(e){var r,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(r,t);return this},ar.API.viewerPreferences=function(e,r){var t;e=e||{},r=r||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),A=[],d=0,f=0,h=0;function m(v,x){var w,j=!1;for(w=0;w<v.length;w+=1)v[w]===x&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||r===!0){var p=l.length;for(h=0;h<p;h+=1)t[l[h]].value=t[l[h]].defaultValue,t[l[h]].explicitSet=!1}if(La(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&m(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(d=0;d<i.length;d+=1)if(a=!0,i[d].length===1&&typeof i[d][0]=="number")A.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(a=!1);a===!0&&A.push([i[d][0]-1,i[d][1]-1].join(" "))}t[s].value="["+A.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in t)t[v].explicitSet===!0&&(t[v].type==="name"?x.push("/"+v+" /"+t[v].value):x.push("/"+v+" "+t[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(e){var r=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+s.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+A),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",r)),this}})(ar.API),(function(e){var r=e.API,t=r.pdfEscape16=function(i,o){for(var l,A=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),A.indexOf(l)==-1&&(A.push(l),A.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},a=function(i){var o,l,A,d,f,h,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],h=0,m=(l=Object.keys(i).sort(function(p,v){return p-v})).length;h<m;h++)o=l[h],A.length>=100&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+d+">"));return A.length&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<m.length;v++)p+=String.fromCharCode(m[v]);var x=d();f({data:p,addLength1:!0,objectId:x}),A("endobj");var w=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:w}),A("endobj");var j=d();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+vf(l.fontName)),A("/FontFile2 "+x+" 0 R"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/Flags "+l.metadata.flags),A("/StemV "+l.metadata.stemV),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A(">>"),A("endobj");var N=d();A("<<"),A("/Type /Font"),A("/BaseFont /"+vf(l.fontName)),A("/FontDescriptor "+j+" 0 R"),A("/W "+e.API.PDFObject.convert(h)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+l.encoding+")"),A(">>"),A(">>"),A("endobj"),l.objectNumber=d(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+w+" 0 R"),A("/BaseFont /"+vf(l.fontName)),A("/Encoding /"+l.encoding),A("/DescendantFonts ["+N+" 0 R]"),A(">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]),r.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var v=d();f({data:m,addLength1:!0,objectId:v}),A("endobj");var x=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:x}),A("endobj");var w=d();A("<<"),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A("/StemV "+l.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+v+" 0 R"),A("/Flags 96"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/FontName /"+vf(l.fontName)),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A(">>"),A("endobj"),l.objectNumber=d();for(var j=0;j<l.metadata.hmtx.widths.length;j++)l.metadata.hmtx.widths[j]=parseInt(l.metadata.hmtx.widths[j]*(1e3/l.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+vf(l.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",A=i.x,d=i.y,f=i.options||{},h=i.mutex||{},m=h.pdfEscape,p=h.activeFontKey,v=h.fonts,x=p,w="",j=0,N="",S=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:l,x:A,y:d,options:f,mutex:h};for(N=l,x=p,Array.isArray(l)&&(N=l[0]),j=0;j<N.length;j+=1)v[x].metadata.hasOwnProperty("cmap")&&(o=v[x].metadata.cmap.unicode.codeMap[N[j].charCodeAt(0)]),o||N[j].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?w+=N[j]:w+="";var F="";return parseInt(x.slice(1))<14||S==="WinAnsiEncoding"?F=m(w,x).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(F=t(w,v[x])),h.isHex=!0,{text:F,x:A,y:d,options:f,mutex:h}};r.events.push(["postProcessText",function(i){var o=i.text||"",l=[],A={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([s(Object.assign({},A,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(s(Object.assign({},A,{text:o[d]})).text);i.text=l}else i.text=s(Object.assign({},A,{text:o})).text}])})(ar),(function(e){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,a){return r.call(this),this.internal.vFS[t]=a,this},e.getFileFromVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(ar.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,A,d,f,h=r,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,S=0;this.__bidiEngine__={};var F=function(Q){var $=Q.charCodeAt(),G=$>>8,R=x[G];return R!==void 0?h[256*R+(255&$)]:G===252||G===253?"AL":j.test(G)?"L":G===8?"R":"N"},T=function(Q){for(var $,G=0;G<Q.length;G++){if(($=F(Q.charAt(G)))==="L")return!1;if($==="R")return!0}return!1},D=function(Q,$,G,R){var ee,K,z,X,ne=$[R];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(ne="AN");break;case"AL":N=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":R<1||R+1>=$.length||(ee=G[R-1])!=="EN"&&ee!=="AN"||(K=$[R+1])!=="EN"&&K!=="AN"?ne="N":N&&(K="AN"),ne=K===ee?K:"N";break;case"ES":ne=(ee=R>0?G[R-1]:"B")==="EN"&&R+1<$.length&&$[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&G[R-1]==="EN"){ne="EN";break}if(N){ne="N";break}for(z=R+1,X=$.length;z<X&&$[z]==="ET";)z++;ne=z<X&&$[z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(X=$.length,z=R+1;z<X&&$[z]==="NSM";)z++;if(z<X){var ue=Q[R],_=ue>=1425&&ue<=2303||ue===64286;if(ee=$[z],_&&(ee==="R"||ee==="AL")){ne="R";break}}}ne=R<1||(ee=$[R-1])==="B"?"N":G[R-1];break;case"B":N=!1,s=!0,ne=S;break;case"S":i=!0,ne="N"}return ne},k=function(Q,$,G){var R=Q.split("");return G&&P(R,G,{hiLevel:S}),R.reverse(),$&&$.reverse(),R.join("")},P=function(Q,$,G){var R,ee,K,z,X,ne=-1,ue=Q.length,_=0,I=[],W=S?p:m,te=[];for(N=!1,s=!1,i=!1,ee=0;ee<ue;ee++)te[ee]=F(Q[ee]);for(K=0;K<ue;K++){if(X=_,I[K]=D(Q,te,I,K),R=240&(_=W[X][v[I[K]]]),_&=15,$[K]=z=W[_][5],R>0)if(R===16){for(ee=ne;ee<K;ee++)$[ee]=1;ne=-1}else ne=-1;if(W[_][6])ne===-1&&(ne=K);else if(ne>-1){for(ee=ne;ee<K;ee++)$[ee]=z;ne=-1}te[K]==="B"&&($[K]=0),G.hiLevel|=z}i&&(function(J,Y,M){for(var Z=0;Z<M;Z++)if(J[Z]==="S"){Y[Z]=S;for(var oe=Z-1;oe>=0&&J[oe]==="WS";oe--)Y[oe]=S}})(te,$,ue)},E=function(Q,$,G,R,ee){if(!(ee.hiLevel<Q)){if(Q===1&&S===1&&!s)return $.reverse(),void(G&&G.reverse());for(var K,z,X,ne,ue=$.length,_=0;_<ue;){if(R[_]>=Q){for(X=_+1;X<ue&&R[X]>=Q;)X++;for(ne=_,z=X-1;ne<z;ne++,z--)K=$[ne],$[ne]=$[z],$[z]=K,G&&(K=G[ne],G[ne]=G[z],G[z]=K);_=X}_++}}},V=function(Q,$,G){var R=Q.split(""),ee={hiLevel:S};return G||(G=[]),P(R,G,ee),(function(K,z,X){if(X.hiLevel!==0&&f)for(var ne,ue=0;ue<K.length;ue++)z[ue]===1&&(ne=w.indexOf(K[ue]))>=0&&(K[ue]=w[ne+1])})(R,G,ee),E(2,R,$,G,ee),E(1,R,$,G,ee),R.join("")};return this.__bidiEngine__.doBidiReorder=function(Q,$,G){if((function(ee,K){if(K)for(var z=0;z<ee.length;z++)K[z]=z;l===void 0&&(l=T(ee)),d===void 0&&(d=T(ee))})(Q,$),o||!A||d)if(o&&A&&l^d)S=l?1:0,Q=k(Q,$,G);else if(!o&&A&&d)S=l?1:0,Q=V(Q,$,G),Q=k(Q,$);else if(!o||l||A||d){if(o&&!A&&l^d)Q=k(Q,$),l?(S=0,Q=V(Q,$,G)):(S=1,Q=V(Q,$,G),Q=k(Q,$));else if(o&&l&&!A&&d)S=1,Q=V(Q,$,G),Q=k(Q,$);else if(!o&&!A&&l^d){var R=f;l?(S=1,Q=V(Q,$,G),S=0,f=!1,Q=V(Q,$,G),f=R):(S=0,Q=V(Q,$,G),Q=k(Q,$),S=1,f=!1,Q=V(Q,$,G),f=R,Q=k(Q,$))}}else S=0,Q=V(Q,$,G);else S=l?1:0,Q=V(Q,$,G);return Q},this.__bidiEngine__.setOptions=function(Q){Q&&(o=Q.isInputVisual,A=Q.isOutputVisual,l=Q.isInputRtl,d=Q.isOutputRtl,f=Q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([t.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([t.doBidiReorder(s[l])]);a.text=o}else a.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(ar),ar.API.TTFFont=(function(){function e(r){var t;if(this.rawData=r,t=this.contents=new fd(r),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new gV(this),this.registerTTF()}return e.open=function(r){return new e(r)},e.prototype.parse=function(){return this.directory=new aV(this.contents),this.head=new sV(this),this.name=new AV(this),this.cmap=new oF(this),this.toUnicode={},this.hhea=new iV(this),this.maxp=new dV(this),this.hmtx=new uV(this),this.post=new lV(this),this.os2=new oV(this),this.loca=new pV(this),this.glyf=new fV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var r,t,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,A,d;for(d=[],o=0,l=(A=this.bbox).length;o<l;o++)r=A[o],d.push(Math.round(r*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(r){var t;return((t=this.cmap.unicode)!=null?t.codeMap[r]:void 0)||0},e.prototype.widthOfGlyph=function(r){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*t},e.prototype.widthOfString=function(r,t,a){var s,i,o,l;for(o=0,i=0,l=(r=""+r).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=r.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(r,t){var a;return t==null&&(t=!1),a=t?this.lineGap:0,(this.ascender+a-this.decender)/1e3*r},e})();var bl,fd=(function(){function e(r){this.data=r??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(r){return this.data[this.pos++]=r},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},e.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},e.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},e.prototype.readString=function(r){var t,a;for(a=[],t=0;0<=r?t<r:t>r;t=0<=r?++t:--t)a[t]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(r){var t,a,s;for(s=[],t=0,a=r.length;0<=a?t<a:t>a;t=0<=a?++t:--t)s.push(this.writeByte(r.charCodeAt(t)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(r){return this.writeInt16(r)},e.prototype.readLongLong=function(){var r,t,a,s,i,o,l,A;return r=this.readByte(),t=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),A=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^t)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^A)+1):72057594037927940*r+281474976710656*t+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+A},e.prototype.writeLongLong=function(r){var t,a;return t=Math.floor(r/4294967296),a=4294967295&r,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(r){return this.writeInt32(r)},e.prototype.read=function(r){var t,a;for(t=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)t.push(this.readByte());return t},e.prototype.write=function(r){var t,a,s,i;for(i=[],a=0,s=r.length;a<s;a++)t=r[a],i.push(this.writeByte(t));return i},e})(),aV=(function(){var e;function r(t){var a,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[a.tag]=a}return r.prototype.encode=function(t){var a,s,i,o,l,A,d,f,h,m,p,v,x;for(x in p=Object.keys(t).length,A=Math.log(2),h=16*Math.floor(Math.log(p)/A),o=Math.floor(h/A),f=16*p-h,(s=new fd).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(o),s.writeShort(f),i=16*p,d=s.pos+i,l=null,v=[],t)for(m=t[x],s.writeString(x),s.writeInt(e(m)),s.writeInt(d),s.writeInt(m.length),v=v.concat(m),x==="head"&&(l=d),d+=m.length;d%4;)v.push(0),d++;return s.write(v),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(t){var a,s,i,o;for(t=lF.call(t);t.length%4;)t.push(0);for(i=new fd(t),s=0,a=0,o=t.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},r})(),nV={}.hasOwnProperty,uc=function(e,r){for(var t in r)nV.call(r,t)&&(e[t]=r[t]);function a(){this.constructor=e}return a.prototype=r.prototype,e.prototype=new a,e.__super__=r.prototype,e};bl=(function(){function e(r){var t;this.file=r,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var sV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return uc(e,bl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var t;return(t=new fd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(r),t.writeShort(this.glyphDataFormat),t.data},e})(),GB=(function(){function e(r,t){var a,s,i,o,l,A,d,f,h,m,p,v,x,w,j,N,S;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=t+r.readInt(),h=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=r.readByte();break;case 4:for(p=r.readUInt16(),m=p/2,r.pos+=6,i=(function(){var F,T;for(T=[],A=F=0;0<=m?F<m:F>m;A=0<=m?++F:--F)T.push(r.readUInt16());return T})(),r.pos+=2,x=(function(){var F,T;for(T=[],A=F=0;0<=m?F<m:F>m;A=0<=m?++F:--F)T.push(r.readUInt16());return T})(),d=(function(){var F,T;for(T=[],A=F=0;0<=m?F<m:F>m;A=0<=m?++F:--F)T.push(r.readUInt16());return T})(),f=(function(){var F,T;for(T=[],A=F=0;0<=m?F<m:F>m;A=0<=m?++F:--F)T.push(r.readUInt16());return T})(),s=(this.length-r.pos+this.offset)/2,l=(function(){var F,T;for(T=[],A=F=0;0<=s?F<s:F>s;A=0<=s?++F:--F)T.push(r.readUInt16());return T})(),A=j=0,S=i.length;j<S;A=++j)for(w=i[A],a=N=v=x[A];v<=w?N<=w:N>=w;a=v<=w?++N:--N)f[A]===0?o=a+d[A]:(o=l[f[A]/2+(a-v)-(m-A)]||0)!==0&&(o+=d[A]),this.codeMap[a]=65535&o}r.pos=h}return e.encode=function(r,t){var a,s,i,o,l,A,d,f,h,m,p,v,x,w,j,N,S,F,T,D,k,P,E,V,Q,$,G,R,ee,K,z,X,ne,ue,_,I,W,te,J,Y,M,Z,oe,fe,ve,Ee;switch(R=new fd,o=Object.keys(r).sort(function(_e,xe){return _e-xe}),t){case"macroman":for(x=0,w=(function(){var _e=[];for(v=0;v<256;++v)_e.push(0);return _e})(),N={0:0},i={},ee=0,ne=o.length;ee<ne;ee++)N[oe=r[s=o[ee]]]==null&&(N[oe]=++x),i[s]={old:r[s],new:N[r[s]]},w[s]=N[r[s]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(w),{charMap:i,subtable:R.data,maxGlyphID:x+1};case"unicode":for($=[],h=[],S=0,N={},a={},j=d=null,K=0,ue=o.length;K<ue;K++)N[T=r[s=o[K]]]==null&&(N[T]=++S),a[s]={old:T,new:N[T]},l=N[T]-s,j!=null&&l===d||(j&&h.push(j),$.push(s),d=l),j=s;for(j&&h.push(j),h.push(65535),$.push(65535),V=2*(E=$.length),P=2*Math.pow(Math.log(E)/Math.LN2,2),m=Math.log(P/2)/Math.LN2,k=2*E-P,A=[],D=[],p=[],v=z=0,_=$.length;z<_;v=++z){if(Q=$[v],f=h[v],Q===65535){A.push(0),D.push(0);break}if(Q-(G=a[Q].new)>=32768)for(A.push(0),D.push(2*(p.length+E-v)),s=X=Q;Q<=f?X<=f:X>=f;s=Q<=f?++X:--X)p.push(a[s].new);else A.push(G-Q),D.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*E+2*p.length),R.writeUInt16(0),R.writeUInt16(V),R.writeUInt16(P),R.writeUInt16(m),R.writeUInt16(k),M=0,I=h.length;M<I;M++)s=h[M],R.writeUInt16(s);for(R.writeUInt16(0),Z=0,W=$.length;Z<W;Z++)s=$[Z],R.writeUInt16(s);for(fe=0,te=A.length;fe<te;fe++)l=A[fe],R.writeUInt16(l);for(ve=0,J=D.length;ve<J;ve++)F=D[ve],R.writeUInt16(F);for(Ee=0,Y=p.length;Ee<Y;Ee++)x=p[Ee],R.writeUInt16(x);return{charMap:a,subtable:R.data,maxGlyphID:S+1}}},e})(),oF=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return uc(e,bl),e.prototype.tag="cmap",e.prototype.parse=function(r){var t,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)t=new GB(r,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},e.encode=function(r,t){var a,s;return t==null&&(t="macroman"),a=GB.encode(r,t),(s=new fd).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e})(),iV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return uc(e,bl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e})(),oV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return uc(e,bl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var t,a;for(a=[],t=0;t<10;++t)a.push(r.readByte());return a})(),this.charRange=(function(){var t,a;for(a=[],t=0;t<4;++t)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var t,a;for(a=[],t=0;t<2;t=++t)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e})(),lV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return uc(e,bl),e.prototype.tag="post",e.prototype.parse=function(r){var t,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)t=r.readByte(),s.push(this.names.push(r.readString(t)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 262144:return this.map=(function(){var o,l,A;for(A=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)A.push(r.readUInt32());return A}).call(this)}},e})(),cV=function(e,r){this.raw=e,this.length=e.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},AV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return uc(e,bl),e.prototype.tag="name",e.prototype.parse=function(r){var t,a,s,i,o,l,A,d,f,h,m;for(r.pos=this.offset,r.readShort(),t=r.readShort(),l=r.readShort(),a=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(A={},i=f=0,h=a.length;f<h;i=++f)s=a[i],r.pos=s.offset,d=r.readString(s.length),o=new cV(d,s),A[m=s.nameID]==null&&(A[m]=[]),A[s.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e})(),dV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return uc(e,bl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e})(),uV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return uc(e,bl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var t,a,s,i,o,l,A;for(r.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)f.push(r.readInt16());return f})(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)i=h[d],m.push(i.advance);return m}).call(this),a=this.widths[this.widths.length-1],A=[],t=o=0;0<=s?o<s:o>s;t=0<=s?++o:--o)A.push(this.widths.push(a));return A},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e})(),lF=[].slice,fV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return uc(e,bl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var t,a,s,i,o,l,A,d,f,h;return r in this.cache?this.cache[r]:(i=this.file.loca,t=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(t.pos=this.offset+a,o=(l=new fd(t.read(s))).readShort(),d=l.readShort(),h=l.readShort(),A=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new mV(l,d,h,A,f):new hV(l,o,d,h,A,f),this.cache[r]))},e.prototype.encode=function(r,t,a){var s,i,o,l,A;for(o=[],i=[],l=0,A=t.length;l<A;l++)s=r[t[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},e})(),hV=(function(){function e(r,t,a,s,i,o){this.raw=r,this.numberOfContours=t,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),mV=(function(){function e(r,t,a,s,i){var o,l;for(this.raw=r,this.xMin=t,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var r,t,a;for(t=new fd(lF.call(this.raw.data)),r=0,a=this.glyphIDs.length;r<a;++r)t.pos=this.glyphOffsets[r];return t.data},e})(),pV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return uc(e,bl),e.prototype.tag="loca",e.prototype.parse=function(r){var t,a;return r.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,t){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<t.length&&t[i]==o){++i,a[o]=s;var l=this.offsets[o],A=this.offsets[o+1]-l;A>0&&(s+=A)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},e})(),gV=(function(){function e(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var r,t,a,s,i;for(t in s=this.font.cmap.tables[0].codeMap,r={},i=this.subset)a=i[t],r[t]=s[a];return r},e.prototype.glyphsFor=function(r){var t,a,s,i,o,l,A;for(s={},o=0,l=r.length;o<l;o++)s[i=r[o]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(a=s[i])!=null&&a.compound&&t.push.apply(t,a.glyphIDs);if(t.length>0)for(i in A=this.glyphsFor(t))a=A[i],s[i]=a;return s},e.prototype.encode=function(r,t){var a,s,i,o,l,A,d,f,h,m,p,v,x,w,j;for(s in a=oF.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(r),p={0:0},j=a.charMap)p[(A=j[s]).old]=A.new;for(v in m=a.maxGlyphID,o)v in p||(p[v]=m++);return f=(function(N){var S,F;for(S in F={},N)F[N[S]]=S;return F})(p),h=Object.keys(f).sort(function(N,S){return N-S}),x=(function(){var N,S,F;for(F=[],N=0,S=h.length;N<S;N++)l=h[N],F.push(f[l]);return F})(),i=this.font.glyf.encode(o,x,p),d=this.font.loca.encode(i.offsets,x),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e})();ar.API.PDFObject=(function(){var e;function r(){}return e=function(t,a){return(Array(a+1).join("0")+t).slice(-a)},r.convert=function(t){var a,s,i,o;if(Array.isArray(t))return"["+(function(){var l,A,d;for(d=[],l=0,A=t.length;l<A;l++)a=t[l],d.push(r.convert(a));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)o=t[s],i.push("/"+s+" "+r.convert(o));return i.push(">>"),i.join(`
`)}return""+t},r})();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var T1=function(e,r){return T1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},T1(e,r)};function jl(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");T1(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var M1=function(){return M1=Object.assign||function(r){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},M1.apply(this,arguments)};function wi(e,r,t,a){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(f){try{d(a.next(f))}catch(h){o(h)}}function A(f){try{d(a.throw(f))}catch(h){o(h)}}function d(f){f.done?i(f.value):s(f.value).then(l,A)}d((a=a.apply(e,[])).next())})}function si(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return A([d,f])}}function A(d){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=r.call(e,t)}catch(f){d=[6,f],s=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function zp(e,r,t){if(arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||r)}var lA=(function(){function e(r,t,a,s){this.left=r,this.top=t,this.width=a,this.height=s}return e.prototype.add=function(r,t,a,s){return new e(this.left+r,this.top+t,this.width+a,this.height+s)},e.fromClientRect=function(r,t){return new e(t.left+r.windowBounds.left,t.top+r.windowBounds.top,t.width,t.height)},e.fromDOMRectList=function(r,t){var a=Array.from(t).find(function(s){return s.width!==0});return a?new e(a.left+r.windowBounds.left,a.top+r.windowBounds.top,a.width,a.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),gx=function(e,r){return lA.fromClientRect(e,r.getBoundingClientRect())},xV=function(e){var r=e.body,t=e.documentElement;if(!r||!t)throw new Error("Unable to get document size");var a=Math.max(Math.max(r.scrollWidth,t.scrollWidth),Math.max(r.offsetWidth,t.offsetWidth),Math.max(r.clientWidth,t.clientWidth)),s=Math.max(Math.max(r.scrollHeight,t.scrollHeight),Math.max(r.offsetHeight,t.offsetHeight),Math.max(r.clientHeight,t.clientHeight));return new lA(0,0,a,s)},xx=function(e){for(var r=[],t=0,a=e.length;t<a;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319&&t<a){var i=e.charCodeAt(t++);(i&64512)===56320?r.push(((s&1023)<<10)+(i&1023)+65536):(r.push(s),t--)}else r.push(s)}return r},$n=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var a=[],s=-1,i="";++s<t;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===t||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},YB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qp=0;qp<YB.length;qp++)vV[YB.charCodeAt(qp)]=qp;var XB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wp=0;Wp<XB.length;Wp++)Mh[XB.charCodeAt(Wp)]=Wp;var wV=function(e){var r=e.length*.75,t=e.length,a,s=0,i,o,l,A;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),f=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<t;a+=4)i=Mh[e.charCodeAt(a)],o=Mh[e.charCodeAt(a+1)],l=Mh[e.charCodeAt(a+2)],A=Mh[e.charCodeAt(a+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},yV=function(e){for(var r=e.length,t=[],a=0;a<r;a+=2)t.push(e[a+1]<<8|e[a]);return t},bV=function(e){for(var r=e.length,t=[],a=0;a<r;a+=4)t.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return t},cu=5,vb=11,vw=2,jV=vb-cu,cF=65536>>cu,NV=1<<cu,ww=NV-1,BV=1024>>cu,CV=cF+BV,SV=CV,EV=32,_V=SV+EV,FV=65536>>vb,kV=1<<jV,DV=kV-1,JB=function(e,r,t){return e.slice?e.slice(r,t):new Uint16Array(Array.prototype.slice.call(e,r,t))},UV=function(e,r,t){return e.slice?e.slice(r,t):new Uint32Array(Array.prototype.slice.call(e,r,t))},LV=function(e,r){var t=wV(e),a=Array.isArray(t)?bV(t):new Uint32Array(t),s=Array.isArray(t)?yV(t):new Uint16Array(t),i=24,o=JB(s,i/2,a[4]/2),l=a[5]===2?JB(s,(i+a[4])/2):UV(a,Math.ceil((i+a[4])/4));return new IV(a[0],a[1],a[2],a[3],o,l)},IV=(function(){function e(r,t,a,s,i,o){this.initialValue=r,this.errorValue=t,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(r){var t;if(r>=0){if(r<55296||r>56319&&r<=65535)return t=this.index[r>>cu],t=(t<<vw)+(r&ww),this.data[t];if(r<=65535)return t=this.index[cF+(r-55296>>cu)],t=(t<<vw)+(r&ww),this.data[t];if(r<this.highStart)return t=_V-FV+(r>>vb),t=this.index[t],t+=r>>cu&DV,t=this.index[t],t=(t<<vw)+(r&ww),this.data[t];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),ZB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",PV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gp=0;Gp<ZB.length;Gp++)PV[ZB.charCodeAt(Gp)]=Gp;var QV="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",e5=50,RV=1,AF=2,dF=3,TV=4,MV=5,t5=7,uF=8,r5=9,ZA=10,O1=11,a5=12,H1=13,OV=14,Oh=15,$1=16,Yp=17,Uh=18,HV=19,n5=20,K1=21,Lh=22,yw=23,df=24,lo=25,Hh=26,$h=27,uf=28,$V=29,Zd=30,KV=31,Xp=32,Jp=33,V1=34,z1=35,q1=36,pm=37,W1=38,Qg=39,Rg=40,bw=41,fF=42,VV=43,zV=[9001,65288],hF="!",na="",Zp="",G1=LV(QV),Kc=[Zd,q1],Y1=[RV,AF,dF,MV],mF=[ZA,uF],s5=[$h,Hh],qV=Y1.concat(mF),i5=[W1,Qg,Rg,V1,z1],WV=[Oh,H1],GV=function(e,r){r===void 0&&(r="strict");var t=[],a=[],s=[];return e.forEach(function(i,o){var l=G1.get(i);if(l>e5?(s.push(!0),l-=e5):s.push(!1),["normal","auto","loose"].indexOf(r)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return a.push(o),t.push($1);if(l===TV||l===O1){if(o===0)return a.push(o),t.push(Zd);var A=t[o-1];return qV.indexOf(A)===-1?(a.push(a[o-1]),t.push(A)):(a.push(o),t.push(Zd))}if(a.push(o),l===KV)return t.push(r==="strict"?K1:pm);if(l===fF||l===$V)return t.push(Zd);if(l===VV)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(pm):t.push(Zd);t.push(l)}),[a,t,s]},jw=function(e,r,t,a){var s=a[t];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=t;i<=a.length;){i++;var o=a[i];if(o===r)return!0;if(o!==ZA)break}if(s===ZA)for(var i=t;i>0;){i--;var l=a[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var A=t;A<=a.length;){A++;var o=a[A];if(o===r)return!0;if(o!==ZA)break}if(l!==ZA)break}return!1},o5=function(e,r){for(var t=e;t>=0;){var a=r[t];if(a===ZA)t--;else return a}return 0},YV=function(e,r,t,a,s){if(t[a]===0)return na;var i=a-1;if(Array.isArray(s)&&s[i]===!0)return na;var o=i-1,l=i+1,A=r[i],d=o>=0?r[o]:0,f=r[l];if(A===AF&&f===dF)return na;if(Y1.indexOf(A)!==-1)return hF;if(Y1.indexOf(f)!==-1||mF.indexOf(f)!==-1)return na;if(o5(i,r)===uF)return Zp;if(G1.get(e[i])===O1||(A===Xp||A===Jp)&&G1.get(e[l])===O1||A===t5||f===t5||A===r5||[ZA,H1,Oh].indexOf(A)===-1&&f===r5||[Yp,Uh,HV,df,uf].indexOf(f)!==-1||o5(i,r)===Lh||jw(yw,Lh,i,r)||jw([Yp,Uh],K1,i,r)||jw(a5,a5,i,r))return na;if(A===ZA)return Zp;if(A===yw||f===yw)return na;if(f===$1||A===$1)return Zp;if([H1,Oh,K1].indexOf(f)!==-1||A===OV||d===q1&&WV.indexOf(A)!==-1||A===uf&&f===q1||f===n5||Kc.indexOf(f)!==-1&&A===lo||Kc.indexOf(A)!==-1&&f===lo||A===$h&&[pm,Xp,Jp].indexOf(f)!==-1||[pm,Xp,Jp].indexOf(A)!==-1&&f===Hh||Kc.indexOf(A)!==-1&&s5.indexOf(f)!==-1||s5.indexOf(A)!==-1&&Kc.indexOf(f)!==-1||[$h,Hh].indexOf(A)!==-1&&(f===lo||[Lh,Oh].indexOf(f)!==-1&&r[l+1]===lo)||[Lh,Oh].indexOf(A)!==-1&&f===lo||A===lo&&[lo,uf,df].indexOf(f)!==-1)return na;if([lo,uf,df,Yp,Uh].indexOf(f)!==-1)for(var h=i;h>=0;){var m=r[h];if(m===lo)return na;if([uf,df].indexOf(m)!==-1)h--;else break}if([$h,Hh].indexOf(f)!==-1)for(var h=[Yp,Uh].indexOf(A)!==-1?o:i;h>=0;){var m=r[h];if(m===lo)return na;if([uf,df].indexOf(m)!==-1)h--;else break}if(W1===A&&[W1,Qg,V1,z1].indexOf(f)!==-1||[Qg,V1].indexOf(A)!==-1&&[Qg,Rg].indexOf(f)!==-1||[Rg,z1].indexOf(A)!==-1&&f===Rg||i5.indexOf(A)!==-1&&[n5,Hh].indexOf(f)!==-1||i5.indexOf(f)!==-1&&A===$h||Kc.indexOf(A)!==-1&&Kc.indexOf(f)!==-1||A===df&&Kc.indexOf(f)!==-1||Kc.concat(lo).indexOf(A)!==-1&&f===Lh&&zV.indexOf(e[l])===-1||Kc.concat(lo).indexOf(f)!==-1&&A===Uh)return na;if(A===bw&&f===bw){for(var p=t[i],v=1;p>0&&(p--,r[p]===bw);)v++;if(v%2!==0)return na}return A===Xp&&f===Jp?na:Zp},XV=function(e,r){r||(r={lineBreak:"normal",wordBreak:"normal"});var t=GV(e,r.lineBreak),a=t[0],s=t[1],i=t[2];(r.wordBreak==="break-all"||r.wordBreak==="break-word")&&(s=s.map(function(l){return[lo,Zd,fF].indexOf(l)!==-1?pm:l}));var o=r.wordBreak==="keep-all"?i.map(function(l,A){return l&&e[A]>=19968&&e[A]<=40959}):void 0;return[a,s,o]},JV=(function(){function e(r,t,a,s){this.codePoints=r,this.required=t===hF,this.start=a,this.end=s}return e.prototype.slice=function(){return $n.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),ZV=function(e,r){var t=xx(e),a=XV(t,r),s=a[0],i=a[1],o=a[2],l=t.length,A=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var f=na;d<l&&(f=YV(t,i,s,++d,o))===na;);if(f!==na||d===l){var h=new JV(t,f,A,d);return A=d,{value:h,done:!1}}return{done:!0,value:null}}}},ez=1,tz=2,Tm=4,l5=8,g0=10,c5=47,Xh=92,rz=9,az=32,eg=34,Ih=61,nz=35,sz=36,iz=37,tg=39,rg=40,Ph=41,oz=95,Hi=45,lz=33,cz=60,Az=62,dz=64,uz=91,fz=93,hz=61,mz=123,ag=63,pz=125,A5=124,gz=126,xz=128,d5=65533,Nw=42,au=43,vz=44,wz=58,yz=59,gm=46,bz=0,jz=8,Nz=11,Bz=14,Cz=31,Sz=127,Ol=-1,pF=48,gF=97,xF=101,Ez=102,_z=117,Fz=122,vF=65,wF=69,yF=70,kz=85,Dz=90,oi=function(e){return e>=pF&&e<=57},Uz=function(e){return e>=55296&&e<=57343},ff=function(e){return oi(e)||e>=vF&&e<=yF||e>=gF&&e<=Ez},Lz=function(e){return e>=gF&&e<=Fz},Iz=function(e){return e>=vF&&e<=Dz},Pz=function(e){return Lz(e)||Iz(e)},Qz=function(e){return e>=xz},ng=function(e){return e===g0||e===rz||e===az},x0=function(e){return Pz(e)||Qz(e)||e===oz},u5=function(e){return x0(e)||oi(e)||e===Hi},Rz=function(e){return e>=bz&&e<=jz||e===Nz||e>=Bz&&e<=Cz||e===Sz},WA=function(e,r){return e!==Xh?!1:r!==g0},sg=function(e,r,t){return e===Hi?x0(r)||WA(r,t):x0(e)?!0:!!(e===Xh&&WA(e,r))},Bw=function(e,r,t){return e===au||e===Hi?oi(r)?!0:r===gm&&oi(t):oi(e===gm?r:e)},Tz=function(e){var r=0,t=1;(e[r]===au||e[r]===Hi)&&(e[r]===Hi&&(t=-1),r++);for(var a=[];oi(e[r]);)a.push(e[r++]);var s=a.length?parseInt($n.apply(void 0,a),10):0;e[r]===gm&&r++;for(var i=[];oi(e[r]);)i.push(e[r++]);var o=i.length,l=o?parseInt($n.apply(void 0,i),10):0;(e[r]===wF||e[r]===xF)&&r++;var A=1;(e[r]===au||e[r]===Hi)&&(e[r]===Hi&&(A=-1),r++);for(var d=[];oi(e[r]);)d.push(e[r++]);var f=d.length?parseInt($n.apply(void 0,d),10):0;return t*(s+l*Math.pow(10,-o))*Math.pow(10,A*f)},Mz={type:2},Oz={type:3},Hz={type:4},$z={type:13},Kz={type:8},Vz={type:21},zz={type:9},qz={type:10},Wz={type:11},Gz={type:12},Yz={type:14},ig={type:23},Xz={type:1},Jz={type:25},Zz={type:24},eq={type:26},tq={type:27},rq={type:28},aq={type:29},nq={type:31},X1={type:32},bF=(function(){function e(){this._value=[]}return e.prototype.write=function(r){this._value=this._value.concat(xx(r))},e.prototype.read=function(){for(var r=[],t=this.consumeToken();t!==X1;)r.push(t),t=this.consumeToken();return r},e.prototype.consumeToken=function(){var r=this.consumeCodePoint();switch(r){case eg:return this.consumeStringToken(eg);case nz:var t=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(u5(t)||WA(a,s)){var i=sg(t,a,s)?tz:ez,o=this.consumeName();return{type:5,value:o,flags:i}}break;case sz:if(this.peekCodePoint(0)===Ih)return this.consumeCodePoint(),$z;break;case tg:return this.consumeStringToken(tg);case rg:return Mz;case Ph:return Oz;case Nw:if(this.peekCodePoint(0)===Ih)return this.consumeCodePoint(),Yz;break;case au:if(Bw(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case vz:return Hz;case Hi:var l=r,A=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Bw(l,A,d))return this.reconsumeCodePoint(r),this.consumeNumericToken();if(sg(l,A,d))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();if(A===Hi&&d===Az)return this.consumeCodePoint(),this.consumeCodePoint(),Zz;break;case gm:if(Bw(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case c5:if(this.peekCodePoint(0)===Nw)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===Nw&&(f=this.consumeCodePoint(),f===c5))return this.consumeToken();if(f===Ol)return this.consumeToken()}break;case wz:return eq;case yz:return tq;case cz:if(this.peekCodePoint(0)===lz&&this.peekCodePoint(1)===Hi&&this.peekCodePoint(2)===Hi)return this.consumeCodePoint(),this.consumeCodePoint(),Jz;break;case dz:var h=this.peekCodePoint(0),m=this.peekCodePoint(1),p=this.peekCodePoint(2);if(sg(h,m,p)){var o=this.consumeName();return{type:7,value:o}}break;case uz:return rq;case Xh:if(WA(r,this.peekCodePoint(0)))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();break;case fz:return aq;case hz:if(this.peekCodePoint(0)===Ih)return this.consumeCodePoint(),Kz;break;case mz:return Wz;case pz:return Gz;case _z:case kz:var v=this.peekCodePoint(0),x=this.peekCodePoint(1);return v===au&&(ff(x)||x===ag)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(r),this.consumeIdentLikeToken();case A5:if(this.peekCodePoint(0)===Ih)return this.consumeCodePoint(),zz;if(this.peekCodePoint(0)===A5)return this.consumeCodePoint(),Vz;break;case gz:if(this.peekCodePoint(0)===Ih)return this.consumeCodePoint(),qz;break;case Ol:return X1}return ng(r)?(this.consumeWhiteSpace(),nq):oi(r)?(this.reconsumeCodePoint(r),this.consumeNumericToken()):x0(r)?(this.reconsumeCodePoint(r),this.consumeIdentLikeToken()):{type:6,value:$n(r)}},e.prototype.consumeCodePoint=function(){var r=this._value.shift();return typeof r>"u"?-1:r},e.prototype.reconsumeCodePoint=function(r){this._value.unshift(r)},e.prototype.peekCodePoint=function(r){return r>=this._value.length?-1:this._value[r]},e.prototype.consumeUnicodeRangeToken=function(){for(var r=[],t=this.consumeCodePoint();ff(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();for(var a=!1;t===ag&&r.length<6;)r.push(t),t=this.consumeCodePoint(),a=!0;if(a){var s=parseInt($n.apply(void 0,r.map(function(A){return A===ag?pF:A})),16),i=parseInt($n.apply(void 0,r.map(function(A){return A===ag?yF:A})),16);return{type:30,start:s,end:i}}var o=parseInt($n.apply(void 0,r),16);if(this.peekCodePoint(0)===Hi&&ff(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];ff(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var i=parseInt($n.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var r=this.consumeName();return r.toLowerCase()==="url"&&this.peekCodePoint(0)===rg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===rg?(this.consumeCodePoint(),{type:19,value:r}):{type:20,value:r}},e.prototype.consumeUrlToken=function(){var r=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ol)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===tg||t===eg){var a=this.consumeStringToken(this.consumeCodePoint());return a.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ol||this.peekCodePoint(0)===Ph)?(this.consumeCodePoint(),{type:22,value:a.value}):(this.consumeBadUrlRemnants(),ig)}for(;;){var s=this.consumeCodePoint();if(s===Ol||s===Ph)return{type:22,value:$n.apply(void 0,r)};if(ng(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ol||this.peekCodePoint(0)===Ph?(this.consumeCodePoint(),{type:22,value:$n.apply(void 0,r)}):(this.consumeBadUrlRemnants(),ig);if(s===eg||s===tg||s===rg||Rz(s))return this.consumeBadUrlRemnants(),ig;if(s===Xh)if(WA(s,this.peekCodePoint(0)))r.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ig;else r.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;ng(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var r=this.consumeCodePoint();if(r===Ph||r===Ol)return;WA(r,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(r){for(var t=5e4,a="";r>0;){var s=Math.min(t,r);a+=$n.apply(void 0,this._value.splice(0,s)),r-=s}return this._value.shift(),a},e.prototype.consumeStringToken=function(r){var t="",a=0;do{var s=this._value[a];if(s===Ol||s===void 0||s===r)return t+=this.consumeStringSlice(a),{type:0,value:t};if(s===g0)return this._value.splice(0,a),Xz;if(s===Xh){var i=this._value[a+1];i!==Ol&&i!==void 0&&(i===g0?(t+=this.consumeStringSlice(a),a=-1,this._value.shift()):WA(s,i)&&(t+=this.consumeStringSlice(a),t+=$n(this.consumeEscapedCodePoint()),a=-1))}a++}while(!0)},e.prototype.consumeNumber=function(){var r=[],t=Tm,a=this.peekCodePoint(0);for((a===au||a===Hi)&&r.push(this.consumeCodePoint());oi(this.peekCodePoint(0));)r.push(this.consumeCodePoint());a=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(a===gm&&oi(s))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),t=l5;oi(this.peekCodePoint(0));)r.push(this.consumeCodePoint());a=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((a===wF||a===xF)&&((s===au||s===Hi)&&oi(i)||oi(s)))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),t=l5;oi(this.peekCodePoint(0));)r.push(this.consumeCodePoint());return[Tz(r),t]},e.prototype.consumeNumericToken=function(){var r=this.consumeNumber(),t=r[0],a=r[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(sg(s,i,o)){var l=this.consumeName();return{type:15,number:t,flags:a,unit:l}}return s===iz?(this.consumeCodePoint(),{type:16,number:t,flags:a}):{type:17,number:t,flags:a}},e.prototype.consumeEscapedCodePoint=function(){var r=this.consumeCodePoint();if(ff(r)){for(var t=$n(r);ff(this.peekCodePoint(0))&&t.length<6;)t+=$n(this.consumeCodePoint());ng(this.peekCodePoint(0))&&this.consumeCodePoint();var a=parseInt(t,16);return a===0||Uz(a)||a>1114111?d5:a}return r===Ol?d5:r},e.prototype.consumeName=function(){for(var r="";;){var t=this.consumeCodePoint();if(u5(t))r+=$n(t);else if(WA(t,this.peekCodePoint(0)))r+=$n(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),r}},e})(),jF=(function(){function e(r){this._tokens=r}return e.create=function(r){var t=new bF;return t.write(r),new e(t.read())},e.parseValue=function(r){return e.create(r).parseComponentValue()},e.parseValues=function(r){return e.create(r).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var r=this.consumeToken();r.type===31;)r=this.consumeToken();if(r.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(r);var t=this.consumeComponentValue();do r=this.consumeToken();while(r.type===31);if(r.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var r=[];;){var t=this.consumeComponentValue();if(t.type===32)return r;r.push(t),r.push()}},e.prototype.consumeComponentValue=function(){var r=this.consumeToken();switch(r.type){case 11:case 28:case 2:return this.consumeSimpleBlock(r.type);case 19:return this.consumeFunction(r)}return r},e.prototype.consumeSimpleBlock=function(r){for(var t={type:r,values:[]},a=this.consumeToken();;){if(a.type===32||iq(a,r))return t;this.reconsumeToken(a),t.values.push(this.consumeComponentValue()),a=this.consumeToken()}},e.prototype.consumeFunction=function(r){for(var t={name:r.value,values:[],type:18};;){var a=this.consumeToken();if(a.type===32||a.type===3)return t;this.reconsumeToken(a),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var r=this._tokens.shift();return typeof r>"u"?X1:r},e.prototype.reconsumeToken=function(r){this._tokens.unshift(r)},e})(),Mm=function(e){return e.type===15},eh=function(e){return e.type===17},Ha=function(e){return e.type===20},sq=function(e){return e.type===0},J1=function(e,r){return Ha(e)&&e.value===r},NF=function(e){return e.type!==31},Of=function(e){return e.type!==31&&e.type!==4},fc=function(e){var r=[],t=[];return e.forEach(function(a){if(a.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");r.push(t),t=[];return}a.type!==31&&t.push(a)}),t.length&&r.push(t),r},iq=function(e,r){return r===11&&e.type===12||r===28&&e.type===29?!0:r===2&&e.type===3},hd=function(e){return e.type===17||e.type===15},os=function(e){return e.type===16||hd(e)},BF=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ms={type:17,number:0,flags:Tm},wb={type:16,number:50,flags:Tm},ed={type:16,number:100,flags:Tm},Kh=function(e,r,t){var a=e[0],s=e[1];return[Xa(a,r),Xa(typeof s<"u"?s:a,t)]},Xa=function(e,r){if(e.type===16)return e.number/100*r;if(Mm(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},CF="deg",SF="grad",EF="rad",_F="turn",vx={name:"angle",parse:function(e,r){if(r.type===15)switch(r.unit){case CF:return Math.PI*r.number/180;case SF:return Math.PI/200*r.number;case EF:return r.number;case _F:return Math.PI*2*r.number}throw new Error("Unsupported angle type")}},FF=function(e){return e.type===15&&(e.unit===CF||e.unit===SF||e.unit===EF||e.unit===_F)},kF=function(e){var r=e.filter(Ha).map(function(t){return t.value}).join(" ");switch(r){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ms,Ms];case"to top":case"bottom":return Uo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ms,ed];case"to right":case"left":return Uo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ed,ed];case"to bottom":case"top":return Uo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ed,Ms];case"to left":case"right":return Uo(270)}return 0},Uo=function(e){return Math.PI*e/180},sd={name:"color",parse:function(e,r){if(r.type===18){var t=oq[r.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+r.name+'"');return t(e,r.values)}if(r.type===5){if(r.value.length===3){var a=r.value.substring(0,1),s=r.value.substring(1,2),i=r.value.substring(2,3);return td(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(r.value.length===4){var a=r.value.substring(0,1),s=r.value.substring(1,2),i=r.value.substring(2,3),o=r.value.substring(3,4);return td(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(r.value.length===6){var a=r.value.substring(0,2),s=r.value.substring(2,4),i=r.value.substring(4,6);return td(parseInt(a,16),parseInt(s,16),parseInt(i,16),1)}if(r.value.length===8){var a=r.value.substring(0,2),s=r.value.substring(2,4),i=r.value.substring(4,6),o=r.value.substring(6,8);return td(parseInt(a,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(r.type===20){var l=nA[r.value.toUpperCase()];if(typeof l<"u")return l}return nA.TRANSPARENT}},id=function(e){return(255&e)===0},_s=function(e){var r=255&e,t=255&e>>8,a=255&e>>16,s=255&e>>24;return r<255?"rgba("+s+","+a+","+t+","+r/255+")":"rgb("+s+","+a+","+t+")"},td=function(e,r,t,a){return(e<<24|r<<16|t<<8|Math.round(a*255)<<0)>>>0},f5=function(e,r){if(e.type===17)return e.number;if(e.type===16){var t=r===3?1:255;return r===3?e.number/100*t:Math.round(e.number/100*t)}return 0},h5=function(e,r){var t=r.filter(Of);if(t.length===3){var a=t.map(f5),s=a[0],i=a[1],o=a[2];return td(s,i,o,1)}if(t.length===4){var l=t.map(f5),s=l[0],i=l[1],o=l[2],A=l[3];return td(s,i,o,A)}return 0};function Cw(e,r,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(r-e)*t*6+e:t<1/2?r:t<2/3?(r-e)*6*(2/3-t)+e:e}var m5=function(e,r){var t=r.filter(Of),a=t[0],s=t[1],i=t[2],o=t[3],l=(a.type===17?Uo(a.number):vx.parse(e,a))/(Math.PI*2),A=os(s)?s.number/100:0,d=os(i)?i.number/100:0,f=typeof o<"u"&&os(o)?Xa(o,1):1;if(A===0)return td(d*255,d*255,d*255,1);var h=d<=.5?d*(A+1):d+A-d*A,m=d*2-h,p=Cw(m,h,l+1/3),v=Cw(m,h,l),x=Cw(m,h,l-1/3);return td(p*255,v*255,x*255,f)},oq={hsl:m5,hsla:m5,rgb:h5,rgba:h5},Jh=function(e,r){return sd.parse(e,jF.create(r).parseComponentValue())},nA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},lq={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,r){return r.map(function(t){if(Ha(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},cq={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wx=function(e,r){var t=sd.parse(e,r[0]),a=r[1];return a&&os(a)?{color:t,stop:a}:{color:t,stop:null}},p5=function(e,r){var t=e[0],a=e[e.length-1];t.stop===null&&(t.stop=Ms),a.stop===null&&(a.stop=ed);for(var s=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var A=Xa(l,r);A>i?s.push(A):s.push(i),i=A}else s.push(null)}for(var d=null,o=0;o<s.length;o++){var f=s[o];if(f===null)d===null&&(d=o);else if(d!==null){for(var h=o-d,m=s[d-1],p=(f-m)/(h+1),v=1;v<=h;v++)s[d+v-1]=p*v;d=null}}return e.map(function(x,w){var j=x.color;return{color:j,stop:Math.max(Math.min(1,s[w]/r),0)}})},Aq=function(e,r,t){var a=r/2,s=t/2,i=Xa(e[0],r)-a,o=s-Xa(e[1],t);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},dq=function(e,r,t){var a=typeof e=="number"?e:Aq(e,r,t),s=Math.abs(r*Math.sin(a))+Math.abs(t*Math.cos(a)),i=r/2,o=t/2,l=s/2,A=Math.sin(a-Math.PI/2)*l,d=Math.cos(a-Math.PI/2)*l;return[s,i-d,i+d,o-A,o+A]},ol=function(e,r){return Math.sqrt(e*e+r*r)},g5=function(e,r,t,a,s){var i=[[0,0],[0,r],[e,0],[e,r]];return i.reduce(function(o,l){var A=l[0],d=l[1],f=ol(t-A,a-d);return(s?f<o.optimumDistance:f>o.optimumDistance)?{optimumCorner:l,optimumDistance:f}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},uq=function(e,r,t,a,s){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(r),Math.abs(r-a),Math.abs(t),Math.abs(t-s)):e.shape===1&&(i=Math.min(Math.abs(r),Math.abs(r-a)),o=Math.min(Math.abs(t),Math.abs(t-s)));break;case 2:if(e.shape===0)i=o=Math.min(ol(r,t),ol(r,t-s),ol(r-a,t),ol(r-a,t-s));else if(e.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-s))/Math.min(Math.abs(r),Math.abs(r-a)),A=g5(a,s,r,t,!0),d=A[0],f=A[1];i=ol(d-r,(f-t)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(r),Math.abs(r-a),Math.abs(t),Math.abs(t-s)):e.shape===1&&(i=Math.max(Math.abs(r),Math.abs(r-a)),o=Math.max(Math.abs(t),Math.abs(t-s)));break;case 3:if(e.shape===0)i=o=Math.max(ol(r,t),ol(r,t-s),ol(r-a,t),ol(r-a,t-s));else if(e.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-s))/Math.max(Math.abs(r),Math.abs(r-a)),h=g5(a,s,r,t,!1),d=h[0],f=h[1];i=ol(d-r,(f-t)/l),o=l*i}break}return Array.isArray(e.size)&&(i=Xa(e.size[0],a),o=e.size.length===2?Xa(e.size[1],s):i),[i,o]},fq=function(e,r){var t=Uo(180),a=[];return fc(r).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){t=kF(s);return}else if(FF(o)){t=vx.parse(e,o);return}}var l=wx(e,s);a.push(l)}),{angle:t,stops:a,type:1}},og=function(e,r){var t=Uo(180),a=[];return fc(r).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){t=kF(s);return}else if(FF(o)){t=(vx.parse(e,o)+Uo(270))%Uo(360);return}}var l=wx(e,s);a.push(l)}),{angle:t,stops:a,type:1}},hq=function(e,r){var t=Uo(180),a=[],s=1,i=0,o=3,l=[];return fc(r).forEach(function(A,d){var f=A[0];if(d===0){if(Ha(f)&&f.value==="linear"){s=1;return}else if(Ha(f)&&f.value==="radial"){s=2;return}}if(f.type===18){if(f.name==="from"){var h=sd.parse(e,f.values[0]);a.push({stop:Ms,color:h})}else if(f.name==="to"){var h=sd.parse(e,f.values[0]);a.push({stop:ed,color:h})}else if(f.name==="color-stop"){var m=f.values.filter(Of);if(m.length===2){var h=sd.parse(e,m[1]),p=m[0];eh(p)&&a.push({stop:{type:16,number:p.number*100,flags:p.flags},color:h})}}}}),s===1?{angle:(t+Uo(180))%Uo(360),stops:a,type:s}:{size:o,shape:i,stops:a,position:l,type:s}},DF="closest-side",UF="farthest-side",LF="closest-corner",IF="farthest-corner",PF="circle",QF="ellipse",RF="cover",TF="contain",mq=function(e,r){var t=0,a=3,s=[],i=[];return fc(r).forEach(function(o,l){var A=!0;if(l===0){var d=!1;A=o.reduce(function(h,m){if(d)if(Ha(m))switch(m.value){case"center":return i.push(wb),h;case"top":case"left":return i.push(Ms),h;case"right":case"bottom":return i.push(ed),h}else(os(m)||hd(m))&&i.push(m);else if(Ha(m))switch(m.value){case PF:return t=0,!1;case QF:return t=1,!1;case"at":return d=!0,!1;case DF:return a=0,!1;case RF:case UF:return a=1,!1;case TF:case LF:return a=2,!1;case IF:return a=3,!1}else if(hd(m)||os(m))return Array.isArray(a)||(a=[]),a.push(m),!1;return h},A)}if(A){var f=wx(e,o);s.push(f)}}),{size:a,shape:t,stops:s,position:i,type:2}},lg=function(e,r){var t=0,a=3,s=[],i=[];return fc(r).forEach(function(o,l){var A=!0;if(l===0?A=o.reduce(function(f,h){if(Ha(h))switch(h.value){case"center":return i.push(wb),!1;case"top":case"left":return i.push(Ms),!1;case"right":case"bottom":return i.push(ed),!1}else if(os(h)||hd(h))return i.push(h),!1;return f},A):l===1&&(A=o.reduce(function(f,h){if(Ha(h))switch(h.value){case PF:return t=0,!1;case QF:return t=1,!1;case TF:case DF:return a=0,!1;case UF:return a=1,!1;case LF:return a=2,!1;case RF:case IF:return a=3,!1}else if(hd(h)||os(h))return Array.isArray(a)||(a=[]),a.push(h),!1;return f},A)),A){var d=wx(e,o);s.push(d)}}),{size:a,shape:t,stops:s,position:i,type:2}},pq=function(e){return e.type===1},gq=function(e){return e.type===2},yb={name:"image",parse:function(e,r){if(r.type===22){var t={url:r.value,type:0};return e.cache.addImage(r.value),t}if(r.type===18){var a=MF[r.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported image function "'+r.name+'"');return a(e,r.values)}throw new Error("Unsupported image type "+r.type)}};function xq(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!MF[e.name])}var MF={"linear-gradient":fq,"-moz-linear-gradient":og,"-ms-linear-gradient":og,"-o-linear-gradient":og,"-webkit-linear-gradient":og,"radial-gradient":mq,"-moz-radial-gradient":lg,"-ms-radial-gradient":lg,"-o-radial-gradient":lg,"-webkit-radial-gradient":lg,"-webkit-gradient":hq},vq={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,r){if(r.length===0)return[];var t=r[0];return t.type===20&&t.value==="none"?[]:r.filter(function(a){return Of(a)&&xq(a)}).map(function(a){return yb.parse(e,a)})}},wq={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,r){return r.map(function(t){if(Ha(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},yq={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,r){return fc(r).map(function(t){return t.filter(os)}).map(BF)}},bq={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,r){return fc(r).map(function(t){return t.filter(Ha).map(function(a){return a.value}).join(" ")}).map(jq)}},jq=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Df;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Df||(Df={}));var Nq={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,r){return fc(r).map(function(t){return t.filter(Bq)})}},Bq=function(e){return Ha(e)||os(e)},yx=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Cq=yx("top"),Sq=yx("right"),Eq=yx("bottom"),_q=yx("left"),bx=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(r,t){return BF(t.filter(os))}}},Fq=bx("top-left"),kq=bx("top-right"),Dq=bx("bottom-right"),Uq=bx("bottom-left"),jx=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(r,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Lq=jx("top"),Iq=jx("right"),Pq=jx("bottom"),Qq=jx("left"),Nx=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(r,t){return Mm(t)?t.number:0}}},Rq=Nx("top"),Tq=Nx("right"),Mq=Nx("bottom"),Oq=Nx("left"),Hq={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$q={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,r){switch(r){case"rtl":return 1;case"ltr":default:return 0}}},Kq={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,r){return r.filter(Ha).reduce(function(t,a){return t|Vq(a.value)},0)}},Vq=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},zq={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},qq={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,r){return r.type===20&&r.value==="normal"?0:r.type===17||r.type===15?r.number:0}},v0;(function(e){e.NORMAL="normal",e.STRICT="strict"})(v0||(v0={}));var Wq={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"strict":return v0.STRICT;case"normal":default:return v0.NORMAL}}},Gq={name:"line-height",initialValue:"normal",prefix:!1,type:4},x5=function(e,r){return Ha(e)&&e.value==="normal"?1.2*r:e.type===17?r*e.number:os(e)?Xa(e,r):r},Yq={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,r){return r.type===20&&r.value==="none"?null:yb.parse(e,r)}},Xq={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,r){switch(r){case"inside":return 0;case"outside":default:return 1}}},Z1={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Bx=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Jq=Bx("top"),Zq=Bx("right"),eW=Bx("bottom"),tW=Bx("left"),rW={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,r){return r.filter(Ha).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},aW={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"break-word":return"break-word";case"normal":default:return"normal"}}},Cx=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},nW=Cx("top"),sW=Cx("right"),iW=Cx("bottom"),oW=Cx("left"),lW={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,r){switch(r){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},cW={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,r){switch(r){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},AW={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.length===1&&J1(r[0],"none")?[]:fc(r).map(function(t){for(var a={color:nA.TRANSPARENT,offsetX:Ms,offsetY:Ms,blur:Ms},s=0,i=0;i<t.length;i++){var o=t[i];hd(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:a.blur=o,s++):a.color=sd.parse(e,o)}return a})}},dW={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},uW={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,r){if(r.type===20&&r.value==="none")return null;if(r.type===18){var t=mW[r.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+r.name+'"');return t(r.values)}return null}},fW=function(e){var r=e.filter(function(t){return t.type===17}).map(function(t){return t.number});return r.length===6?r:null},hW=function(e){var r=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),t=r[0],a=r[1];r[2],r[3];var s=r[4],i=r[5];r[6],r[7],r[8],r[9],r[10],r[11];var o=r[12],l=r[13];return r[14],r[15],r.length===16?[t,a,s,i,o,l]:null},mW={matrix:fW,matrix3d:hW},v5={type:16,number:50,flags:Tm},pW=[v5,v5],gW={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,r){var t=r.filter(os);return t.length!==2?pW:[t[0],t[1]]}},xW={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Zh;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Zh||(Zh={}));var vW={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"break-all":return Zh.BREAK_ALL;case"keep-all":return Zh.KEEP_ALL;case"normal":default:return Zh.NORMAL}}},wW={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,r){if(r.type===20)return{auto:!0,order:0};if(eh(r))return{auto:!1,order:r.number};throw new Error("Invalid z-index number parsed")}},OF={name:"time",parse:function(e,r){if(r.type===15)switch(r.unit.toLowerCase()){case"s":return 1e3*r.number;case"ms":return r.number}throw new Error("Unsupported time type")}},yW={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,r){return eh(r)?r.number:1}},bW={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jW={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,r){return r.filter(Ha).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},NW={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,r){var t=[],a=[];return r.forEach(function(s){switch(s.type){case 20:case 0:t.push(s.value);break;case 17:t.push(s.number.toString());break;case 4:a.push(t.join(" ")),t.length=0;break}}),t.length&&a.push(t.join(" ")),a.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},BW={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},CW={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,r){if(eh(r))return r.number;if(Ha(r))switch(r.value){case"bold":return 700;case"normal":default:return 400}return 400}},SW={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.filter(Ha).map(function(t){return t.value})}},EW={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ms=function(e,r){return(e&r)!==0},_W={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,r){if(r.length===0)return[];var t=r[0];return t.type===20&&t.value==="none"?[]:r}},FW={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return null;var t=r[0];if(t.type===20&&t.value==="none")return null;for(var a=[],s=r.filter(NF),i=0;i<s.length;i++){var o=s[i],l=s[i+1];if(o.type===20){var A=l&&eh(l)?l.number:1;a.push({counter:o.value,increment:A})}}return a}},kW={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return[];for(var t=[],a=r.filter(NF),s=0;s<a.length;s++){var i=a[s],o=a[s+1];if(Ha(i)&&i.value!=="none"){var l=o&&eh(o)?o.number:0;t.push({counter:i.value,reset:l})}}return t}},DW={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,r){return r.filter(Mm).map(function(t){return OF.parse(e,t)})}},UW={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return null;var t=r[0];if(t.type===20&&t.value==="none")return null;var a=[],s=r.filter(sq);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,l=s[i+1].value;a.push({open:o,close:l})}return a}},w5=function(e,r,t){if(!e)return"";var a=e[Math.min(r,e.length-1)];return a?t?a.open:a.close:""},LW={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.length===1&&J1(r[0],"none")?[]:fc(r).map(function(t){for(var a={color:255,offsetX:Ms,offsetY:Ms,blur:Ms,spread:Ms,inset:!1},s=0,i=0;i<t.length;i++){var o=t[i];J1(o,"inset")?a.inset=!0:hd(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:s===2?a.blur=o:a.spread=o,s++):a.color=sd.parse(e,o)}return a})}},IW={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,r){var t=[0,1,2],a=[];return r.filter(Ha).forEach(function(s){switch(s.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2);break}}),t.forEach(function(s){a.indexOf(s)===-1&&a.push(s)}),a}},PW={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},QW={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Mm(r)?r.number:0}},RW=(function(){function e(r,t){var a,s;this.animationDuration=Mt(r,DW,t.animationDuration),this.backgroundClip=Mt(r,lq,t.backgroundClip),this.backgroundColor=Mt(r,cq,t.backgroundColor),this.backgroundImage=Mt(r,vq,t.backgroundImage),this.backgroundOrigin=Mt(r,wq,t.backgroundOrigin),this.backgroundPosition=Mt(r,yq,t.backgroundPosition),this.backgroundRepeat=Mt(r,bq,t.backgroundRepeat),this.backgroundSize=Mt(r,Nq,t.backgroundSize),this.borderTopColor=Mt(r,Cq,t.borderTopColor),this.borderRightColor=Mt(r,Sq,t.borderRightColor),this.borderBottomColor=Mt(r,Eq,t.borderBottomColor),this.borderLeftColor=Mt(r,_q,t.borderLeftColor),this.borderTopLeftRadius=Mt(r,Fq,t.borderTopLeftRadius),this.borderTopRightRadius=Mt(r,kq,t.borderTopRightRadius),this.borderBottomRightRadius=Mt(r,Dq,t.borderBottomRightRadius),this.borderBottomLeftRadius=Mt(r,Uq,t.borderBottomLeftRadius),this.borderTopStyle=Mt(r,Lq,t.borderTopStyle),this.borderRightStyle=Mt(r,Iq,t.borderRightStyle),this.borderBottomStyle=Mt(r,Pq,t.borderBottomStyle),this.borderLeftStyle=Mt(r,Qq,t.borderLeftStyle),this.borderTopWidth=Mt(r,Rq,t.borderTopWidth),this.borderRightWidth=Mt(r,Tq,t.borderRightWidth),this.borderBottomWidth=Mt(r,Mq,t.borderBottomWidth),this.borderLeftWidth=Mt(r,Oq,t.borderLeftWidth),this.boxShadow=Mt(r,LW,t.boxShadow),this.color=Mt(r,Hq,t.color),this.direction=Mt(r,$q,t.direction),this.display=Mt(r,Kq,t.display),this.float=Mt(r,zq,t.cssFloat),this.fontFamily=Mt(r,NW,t.fontFamily),this.fontSize=Mt(r,BW,t.fontSize),this.fontStyle=Mt(r,EW,t.fontStyle),this.fontVariant=Mt(r,SW,t.fontVariant),this.fontWeight=Mt(r,CW,t.fontWeight),this.letterSpacing=Mt(r,qq,t.letterSpacing),this.lineBreak=Mt(r,Wq,t.lineBreak),this.lineHeight=Mt(r,Gq,t.lineHeight),this.listStyleImage=Mt(r,Yq,t.listStyleImage),this.listStylePosition=Mt(r,Xq,t.listStylePosition),this.listStyleType=Mt(r,Z1,t.listStyleType),this.marginTop=Mt(r,Jq,t.marginTop),this.marginRight=Mt(r,Zq,t.marginRight),this.marginBottom=Mt(r,eW,t.marginBottom),this.marginLeft=Mt(r,tW,t.marginLeft),this.opacity=Mt(r,yW,t.opacity);var i=Mt(r,rW,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Mt(r,aW,t.overflowWrap),this.paddingTop=Mt(r,nW,t.paddingTop),this.paddingRight=Mt(r,sW,t.paddingRight),this.paddingBottom=Mt(r,iW,t.paddingBottom),this.paddingLeft=Mt(r,oW,t.paddingLeft),this.paintOrder=Mt(r,IW,t.paintOrder),this.position=Mt(r,cW,t.position),this.textAlign=Mt(r,lW,t.textAlign),this.textDecorationColor=Mt(r,bW,(a=t.textDecorationColor)!==null&&a!==void 0?a:t.color),this.textDecorationLine=Mt(r,jW,(s=t.textDecorationLine)!==null&&s!==void 0?s:t.textDecoration),this.textShadow=Mt(r,AW,t.textShadow),this.textTransform=Mt(r,dW,t.textTransform),this.transform=Mt(r,uW,t.transform),this.transformOrigin=Mt(r,gW,t.transformOrigin),this.visibility=Mt(r,xW,t.visibility),this.webkitTextStrokeColor=Mt(r,PW,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Mt(r,QW,t.webkitTextStrokeWidth),this.wordBreak=Mt(r,vW,t.wordBreak),this.zIndex=Mt(r,wW,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return id(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return ms(this.display,4)||ms(this.display,33554432)||ms(this.display,268435456)||ms(this.display,536870912)||ms(this.display,67108864)||ms(this.display,134217728)},e})(),TW=(function(){function e(r,t){this.content=Mt(r,_W,t.content),this.quotes=Mt(r,UW,t.quotes)}return e})(),y5=(function(){function e(r,t){this.counterIncrement=Mt(r,FW,t.counterIncrement),this.counterReset=Mt(r,kW,t.counterReset)}return e})(),Mt=function(e,r,t){var a=new bF,s=t!==null&&typeof t<"u"?t.toString():r.initialValue;a.write(s);var i=new jF(a.read());switch(r.type){case 2:var o=i.parseComponentValue();return r.parse(e,Ha(o)?o.value:r.initialValue);case 0:return r.parse(e,i.parseComponentValue());case 1:return r.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(r.format){case"angle":return vx.parse(e,i.parseComponentValue());case"color":return sd.parse(e,i.parseComponentValue());case"image":return yb.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return hd(l)?l:Ms;case"length-percentage":var A=i.parseComponentValue();return os(A)?A:Ms;case"time":return OF.parse(e,i.parseComponentValue())}break}},MW="data-html2canvas-debug",OW=function(e){var r=e.getAttribute(MW);switch(r){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ey=function(e,r){var t=OW(e);return t===1||r===t},hc=(function(){function e(r,t){if(this.context=r,this.textNodes=[],this.elements=[],this.flags=0,ey(t,3))debugger;this.styles=new RW(r,window.getComputedStyle(t,null)),ay(t)&&(this.styles.animationDuration.some(function(a){return a>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=gx(this.context,t),ey(t,4)&&(this.flags|=16)}return e})(),HW="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",b5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var cg=0;cg<b5.length;cg++)Vh[b5.charCodeAt(cg)]=cg;var $W=function(e){var r=e.length*.75,t=e.length,a,s=0,i,o,l,A;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),f=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<t;a+=4)i=Vh[e.charCodeAt(a)],o=Vh[e.charCodeAt(a+1)],l=Vh[e.charCodeAt(a+2)],A=Vh[e.charCodeAt(a+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},KW=function(e){for(var r=e.length,t=[],a=0;a<r;a+=2)t.push(e[a+1]<<8|e[a]);return t},VW=function(e){for(var r=e.length,t=[],a=0;a<r;a+=4)t.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return t},Au=5,bb=11,Sw=2,zW=bb-Au,HF=65536>>Au,qW=1<<Au,Ew=qW-1,WW=1024>>Au,GW=HF+WW,YW=GW,XW=32,JW=YW+XW,ZW=65536>>bb,eG=1<<zW,tG=eG-1,j5=function(e,r,t){return e.slice?e.slice(r,t):new Uint16Array(Array.prototype.slice.call(e,r,t))},rG=function(e,r,t){return e.slice?e.slice(r,t):new Uint32Array(Array.prototype.slice.call(e,r,t))},aG=function(e,r){var t=$W(e),a=Array.isArray(t)?VW(t):new Uint32Array(t),s=Array.isArray(t)?KW(t):new Uint16Array(t),i=24,o=j5(s,i/2,a[4]/2),l=a[5]===2?j5(s,(i+a[4])/2):rG(a,Math.ceil((i+a[4])/4));return new nG(a[0],a[1],a[2],a[3],o,l)},nG=(function(){function e(r,t,a,s,i,o){this.initialValue=r,this.errorValue=t,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(r){var t;if(r>=0){if(r<55296||r>56319&&r<=65535)return t=this.index[r>>Au],t=(t<<Sw)+(r&Ew),this.data[t];if(r<=65535)return t=this.index[HF+(r-55296>>Au)],t=(t<<Sw)+(r&Ew),this.data[t];if(r<this.highStart)return t=JW-ZW+(r>>bb),t=this.index[t],t+=r>>Au&tG,t=this.index[t],t=(t<<Sw)+(r&Ew),this.data[t];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),N5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ag=0;Ag<N5.length;Ag++)sG[N5.charCodeAt(Ag)]=Ag;var iG=1,_w=2,Fw=3,B5=4,C5=5,oG=7,S5=8,kw=9,Dw=10,E5=11,_5=12,F5=13,k5=14,Uw=15,lG=function(e){for(var r=[],t=0,a=e.length;t<a;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319&&t<a){var i=e.charCodeAt(t++);(i&64512)===56320?r.push(((s&1023)<<10)+(i&1023)+65536):(r.push(s),t--)}else r.push(s)}return r},cG=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var a=[],s=-1,i="";++s<t;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===t||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},AG=aG(HW),Fo="",Lw="",dG=function(e){return AG.get(e)},uG=function(e,r,t){var a=t-2,s=r[a],i=r[t-1],o=r[t];if(i===_w&&o===Fw)return Fo;if(i===_w||i===Fw||i===B5||o===_w||o===Fw||o===B5)return Lw;if(i===S5&&[S5,kw,E5,_5].indexOf(o)!==-1||(i===E5||i===kw)&&(o===kw||o===Dw)||(i===_5||i===Dw)&&o===Dw||o===F5||o===C5||o===oG||i===iG)return Fo;if(i===F5&&o===k5){for(;s===C5;)s=r[--a];if(s===k5)return Fo}if(i===Uw&&o===Uw){for(var l=0;s===Uw;)l++,s=r[--a];if(l%2===0)return Fo}return Lw},fG=function(e){var r=lG(e),t=r.length,a=0,s=0,i=r.map(dG);return{next:function(){if(a>=t)return{done:!0,value:null};for(var o=Fo;a<t&&(o=uG(r,i,++a))===Fo;);if(o!==Fo||a===t){var l=cG.apply(null,r.slice(s,a));return s=a,{value:l,done:!1}}return{done:!0,value:null}}}},hG=function(e){for(var r=fG(e),t=[],a;!(a=r.next()).done;)a.value&&t.push(a.value.slice());return t},mG=function(e){var r=123;if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var a=e.createElement("boundtest");a.style.height=r+"px",a.style.display="block",e.body.appendChild(a),t.selectNode(a);var s=t.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(a),i===r)return!0}}return!1},pG=function(e){var r=e.createElement("boundtest");r.style.width="50px",r.style.display="block",r.style.fontSize="12px",r.style.letterSpacing="0px",r.style.wordSpacing="0px",e.body.appendChild(r);var t=e.createRange();r.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var a=r.firstChild,s=xx(a.data).map(function(A){return $n(A)}),i=0,o={},l=s.every(function(A,d){t.setStart(a,i),t.setEnd(a,i+A.length);var f=t.getBoundingClientRect();i+=A.length;var h=f.x>o.x||f.y>o.y;return o=f,d===0?!0:h});return e.body.removeChild(r),l},gG=function(){return typeof new Image().crossOrigin<"u"},xG=function(){return typeof new XMLHttpRequest().responseType=="string"},vG=function(e){var r=new Image,t=e.createElement("canvas"),a=t.getContext("2d");if(!a)return!1;r.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(r,0,0),t.toDataURL()}catch{return!1}return!0},D5=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},wG=function(e){var r=e.createElement("canvas"),t=100;r.width=t,r.height=t;var a=r.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,t,t);var s=new Image,i=r.toDataURL();s.src=i;var o=ty(t,t,0,0,s);return a.fillStyle="red",a.fillRect(0,0,t,t),U5(o).then(function(l){a.drawImage(l,0,0);var A=a.getImageData(0,0,t,t).data;a.fillStyle="red",a.fillRect(0,0,t,t);var d=e.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=t+"px",D5(A)?U5(ty(t,t,0,0,d)):Promise.reject(!1)}).then(function(l){return a.drawImage(l,0,0),D5(a.getImageData(0,0,t,t).data)}).catch(function(){return!1})},ty=function(e,r,t,a,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",a.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},U5=function(e){return new Promise(function(r,t){var a=new Image;a.onload=function(){return r(a)},a.onerror=t,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ts={get SUPPORT_RANGE_BOUNDS(){var e=mG(document);return Object.defineProperty(Ts,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ts.SUPPORT_RANGE_BOUNDS&&pG(document);return Object.defineProperty(Ts,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=vG(document);return Object.defineProperty(Ts,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?wG(document):Promise.resolve(!1);return Object.defineProperty(Ts,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=gG();return Object.defineProperty(Ts,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=xG();return Object.defineProperty(Ts,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ts,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ts,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},em=(function(){function e(r,t){this.text=r,this.bounds=t}return e})(),yG=function(e,r,t,a){var s=NG(r,t),i=[],o=0;return s.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if(Ts.SUPPORT_RANGE_BOUNDS){var A=L5(a,o,l.length).getClientRects();if(A.length>1){var d=jb(l),f=0;d.forEach(function(m){i.push(new em(m,lA.fromDOMRectList(e,L5(a,f+o,m.length).getClientRects()))),f+=m.length})}else i.push(new em(l,lA.fromDOMRectList(e,A)))}else{var h=a.splitText(l.length);i.push(new em(l,bG(e,a))),a=h}else Ts.SUPPORT_RANGE_BOUNDS||(a=a.splitText(l.length));o+=l.length}),i},bG=function(e,r){var t=r.ownerDocument;if(t){var a=t.createElement("html2canvaswrapper");a.appendChild(r.cloneNode(!0));var s=r.parentNode;if(s){s.replaceChild(a,r);var i=gx(e,a);return a.firstChild&&s.replaceChild(a.firstChild,a),i}}return lA.EMPTY},L5=function(e,r,t){var a=e.ownerDocument;if(!a)throw new Error("Node has no owner document");var s=a.createRange();return s.setStart(e,r),s.setEnd(e,r+t),s},jb=function(e){if(Ts.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(r.segment(e)).map(function(t){return t.segment})}return hG(e)},jG=function(e,r){if(Ts.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(e)).map(function(a){return a.segment})}return CG(e,r)},NG=function(e,r){return r.letterSpacing!==0?jb(e):jG(e,r)},BG=[32,160,4961,65792,65793,4153,4241],CG=function(e,r){for(var t=ZV(e,{lineBreak:r.lineBreak,wordBreak:r.overflowWrap==="break-word"?"break-word":r.wordBreak}),a=[],s,i=function(){if(s.value){var o=s.value.slice(),l=xx(o),A="";l.forEach(function(d){BG.indexOf(d)===-1?A+=$n(d):(A.length&&a.push(A),a.push($n(d)),A="")}),A.length&&a.push(A)}};!(s=t.next()).done;)i();return a},SG=(function(){function e(r,t,a){this.text=EG(t.data,a.textTransform),this.textBounds=yG(r,this.text,a,t)}return e})(),EG=function(e,r){switch(r){case 1:return e.toLowerCase();case 3:return e.replace(_G,FG);case 2:return e.toUpperCase();default:return e}},_G=/(^|\s|:|-|\(|\))([a-z])/g,FG=function(e,r,t){return e.length>0?r+t.toUpperCase():e},$F=(function(e){jl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.src=a.currentSrc||a.src,s.intrinsicWidth=a.naturalWidth,s.intrinsicHeight=a.naturalHeight,s.context.cache.addImage(s.src),s}return r})(hc),KF=(function(e){jl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.canvas=a,s.intrinsicWidth=a.width,s.intrinsicHeight=a.height,s}return r})(hc),VF=(function(e){jl(r,e);function r(t,a){var s=e.call(this,t,a)||this,i=new XMLSerializer,o=gx(t,a);return a.setAttribute("width",o.width+"px"),a.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(a)),s.intrinsicWidth=a.width.baseVal.value,s.intrinsicHeight=a.height.baseVal.value,s.context.cache.addImage(s.svg),s}return r})(hc),zF=(function(e){jl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.value=a.value,s}return r})(hc),ry=(function(e){jl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.start=a.start,s.reversed=typeof a.reversed=="boolean"&&a.reversed===!0,s}return r})(hc),kG=[{type:15,flags:0,unit:"px",number:3}],DG=[{type:16,flags:0,number:50}],UG=function(e){return e.width>e.height?new lA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new lA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},LG=function(e){var r=e.type===IG?new Array(e.value.length+1).join(""):e.value;return r.length===0?e.placeholder||"":r},w0="checkbox",y0="radio",IG="password",I5=707406591,Nb=(function(e){jl(r,e);function r(t,a){var s=e.call(this,t,a)||this;switch(s.type=a.type.toLowerCase(),s.checked=a.checked,s.value=LG(a),(s.type===w0||s.type===y0)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=UG(s.bounds)),s.type){case w0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=kG;break;case y0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=DG;break}return s}return r})(hc),qF=(function(e){jl(r,e);function r(t,a){var s=e.call(this,t,a)||this,i=a.options[a.selectedIndex||0];return s.value=i&&i.text||"",s}return r})(hc),WF=(function(e){jl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.value=a.value,s}return r})(hc),GF=(function(e){jl(r,e);function r(t,a){var s=e.call(this,t,a)||this;s.src=a.src,s.width=parseInt(a.width,10)||0,s.height=parseInt(a.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement){s.tree=XF(t,a.contentWindow.document.documentElement);var i=a.contentWindow.document.documentElement?Jh(t,getComputedStyle(a.contentWindow.document.documentElement).backgroundColor):nA.TRANSPARENT,o=a.contentWindow.document.body?Jh(t,getComputedStyle(a.contentWindow.document.body).backgroundColor):nA.TRANSPARENT;s.backgroundColor=id(i)?id(o)?s.styles.backgroundColor:o:i}}catch{}return s}return r})(hc),PG=["OL","UL","MENU"],Tg=function(e,r,t,a){for(var s=r.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,JF(s)&&s.data.trim().length>0)t.textNodes.push(new SG(e,s,t.styles));else if(jf(s))if(rk(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return Tg(e,l,t,a)});else{var o=YF(e,s);o.styles.isVisible()&&(QG(s,o,a)?o.flags|=4:RG(o.styles)&&(o.flags|=2),PG.indexOf(s.tagName)!==-1&&(o.flags|=8),t.elements.push(o),s.slot,s.shadowRoot?Tg(e,s.shadowRoot,o,a):!b0(s)&&!ZF(s)&&!j0(s)&&Tg(e,s,o,a))}},YF=function(e,r){return ny(r)?new $F(e,r):ek(r)?new KF(e,r):ZF(r)?new VF(e,r):TG(r)?new zF(e,r):MG(r)?new ry(e,r):OG(r)?new Nb(e,r):j0(r)?new qF(e,r):b0(r)?new WF(e,r):tk(r)?new GF(e,r):new hc(e,r)},XF=function(e,r){var t=YF(e,r);return t.flags|=4,Tg(e,r,t,t),t},QG=function(e,r,t){return r.styles.isPositionedWithZIndex()||r.styles.opacity<1||r.styles.isTransformed()||Bb(e)&&t.styles.isTransparent()},RG=function(e){return e.isPositioned()||e.isFloating()},JF=function(e){return e.nodeType===Node.TEXT_NODE},jf=function(e){return e.nodeType===Node.ELEMENT_NODE},ay=function(e){return jf(e)&&typeof e.style<"u"&&!Mg(e)},Mg=function(e){return typeof e.className=="object"},TG=function(e){return e.tagName==="LI"},MG=function(e){return e.tagName==="OL"},OG=function(e){return e.tagName==="INPUT"},HG=function(e){return e.tagName==="HTML"},ZF=function(e){return e.tagName==="svg"},Bb=function(e){return e.tagName==="BODY"},ek=function(e){return e.tagName==="CANVAS"},P5=function(e){return e.tagName==="VIDEO"},ny=function(e){return e.tagName==="IMG"},tk=function(e){return e.tagName==="IFRAME"},Q5=function(e){return e.tagName==="STYLE"},$G=function(e){return e.tagName==="SCRIPT"},b0=function(e){return e.tagName==="TEXTAREA"},j0=function(e){return e.tagName==="SELECT"},rk=function(e){return e.tagName==="SLOT"},R5=function(e){return e.tagName.indexOf("-")>0},KG=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(r){var t=this.counters[r];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(r){var t=this.counters[r];return t||[]},e.prototype.pop=function(r){var t=this;r.forEach(function(a){return t.counters[a].pop()})},e.prototype.parse=function(r){var t=this,a=r.counterIncrement,s=r.counterReset,i=!0;a!==null&&a.forEach(function(l){var A=t.counters[l.counter];A&&l.increment!==0&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var o=[];return i&&s.forEach(function(l){var A=t.counters[l.counter];o.push(l.counter),A||(A=t.counters[l.counter]=[]),A.push(l.reset)}),o},e})(),T5={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},M5={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},VG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},zG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hf=function(e,r,t,a,s,i){return e<r||e>t?xm(e,s,i.length>0):a.integers.reduce(function(o,l,A){for(;e>=l;)e-=l,o+=a.values[A];return o},"")+i},ak=function(e,r,t,a){var s="";do t||e--,s=a(e)+s,e/=r;while(e*r>=r);return s},Hn=function(e,r,t,a,s){var i=t-r+1;return(e<0?"-":"")+(ak(Math.abs(e),i,a,function(o){return $n(Math.floor(o%i)+r)})+s)},Wd=function(e,r,t){t===void 0&&(t=". ");var a=r.length;return ak(Math.abs(e),a,!1,function(s){return r[Math.floor(s%a)]})+t},wf=1,zA=2,qA=4,zh=8,Vc=function(e,r,t,a,s,i){if(e<-9999||e>9999)return xm(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return r[0]+l;for(var A=0;o>0&&A<=4;A++){var d=o%10;d===0&&ms(i,wf)&&l!==""?l=r[d]+l:d>1||d===1&&A===0||d===1&&A===1&&ms(i,zA)||d===1&&A===1&&ms(i,qA)&&e>100||d===1&&A>1&&ms(i,zh)?l=r[d]+(A>0?t[A-1]:"")+l:d===1&&A>0&&(l=t[A-1]+l),o=Math.floor(o/10)}return(e<0?a:"")+l},O5="",H5="",$5="",Iw="",xm=function(e,r,t){var a=t?". ":"",s=t?"":"",i=t?", ":"",o=t?" ":"";switch(r){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Hn(e,48,57,!0,a);return l.length<4?"0"+l:l;case 4:return Wd(e,"",s);case 6:return hf(e,1,3999,T5,3,a).toLowerCase();case 7:return hf(e,1,3999,T5,3,a);case 8:return Hn(e,945,969,!1,a);case 9:return Hn(e,97,122,!1,a);case 10:return Hn(e,65,90,!1,a);case 11:return Hn(e,1632,1641,!0,a);case 12:case 49:return hf(e,1,9999,M5,3,a);case 35:return hf(e,1,9999,M5,3,a).toLowerCase();case 13:return Hn(e,2534,2543,!0,a);case 14:case 30:return Hn(e,6112,6121,!0,a);case 15:return Wd(e,"",s);case 16:return Wd(e,"",s);case 17:case 48:return Vc(e,"",O5,"",s,zA|qA|zh);case 47:return Vc(e,"",H5,"",s,wf|zA|qA|zh);case 42:return Vc(e,"",O5,"",s,zA|qA|zh);case 41:return Vc(e,"",H5,"",s,wf|zA|qA|zh);case 26:return Vc(e,"","",$5,s,0);case 25:return Vc(e,"","",$5,s,wf|zA|qA);case 31:return Vc(e,"","",Iw,i,wf|zA|qA);case 33:return Vc(e,"","",Iw,i,0);case 32:return Vc(e,"","",Iw,i,wf|zA|qA);case 18:return Hn(e,2406,2415,!0,a);case 20:return hf(e,1,19999,zG,3,a);case 21:return Hn(e,2790,2799,!0,a);case 22:return Hn(e,2662,2671,!0,a);case 22:return hf(e,1,10999,VG,3,a);case 23:return Wd(e,"");case 24:return Wd(e,"");case 27:return Hn(e,3302,3311,!0,a);case 28:return Wd(e,"",s);case 29:return Wd(e,"",s);case 34:return Hn(e,3792,3801,!0,a);case 37:return Hn(e,6160,6169,!0,a);case 38:return Hn(e,4160,4169,!0,a);case 39:return Hn(e,2918,2927,!0,a);case 40:return Hn(e,1776,1785,!0,a);case 43:return Hn(e,3046,3055,!0,a);case 44:return Hn(e,3174,3183,!0,a);case 45:return Hn(e,3664,3673,!0,a);case 46:return Hn(e,3872,3881,!0,a);case 3:default:return Hn(e,48,57,!0,a)}},nk="data-html2canvas-ignore",K5=(function(){function e(r,t,a){if(this.context=r,this.options=a,this.scrolledElements=[],this.referenceElement=t,this.counters=new KG,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(r,t){var a=this,s=qG(r,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=r.defaultView.pageXOffset,o=r.defaultView.pageYOffset,l=s.contentWindow,A=l.document,d=YG(s).then(function(){return wi(a,void 0,void 0,function(){var f,h;return si(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(eY),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),f=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,GG(A)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(A,h)}).then(function(){return s})]:[2,s]}})})});return A.open(),A.write(JG(document.doctype)+"<html></html>"),ZG(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),d},e.prototype.createElementClone=function(r){if(ey(r,2))debugger;if(ek(r))return this.createCanvasClone(r);if(P5(r))return this.createVideoClone(r);if(Q5(r))return this.createStyleClone(r);var t=r.cloneNode(!1);return ny(t)&&(ny(r)&&r.currentSrc&&r.currentSrc!==r.src&&(t.src=r.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),R5(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(r){var t=document.createElement("html2canvascustomelement");return Pw(r.style,t),t},e.prototype.createStyleClone=function(r){try{var t=r.sheet;if(t&&t.cssRules){var a=[].slice.call(t.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=r.cloneNode(!1);return s.textContent=a,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return r.cloneNode(!1)},e.prototype.createCanvasClone=function(r){var t;if(this.options.inlineImages&&r.ownerDocument){var a=r.ownerDocument.createElement("img");try{return a.src=r.toDataURL(),a}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",r)}}var s=r.cloneNode(!1);try{s.width=r.width,s.height=r.height;var i=r.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,r.width,r.height),0,0);else{var l=(t=r.getContext("webgl2"))!==null&&t!==void 0?t:r.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",r)}o.drawImage(r,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",r)}return s},e.prototype.createVideoClone=function(r){var t=r.ownerDocument.createElement("canvas");t.width=r.offsetWidth,t.height=r.offsetHeight;var a=t.getContext("2d");try{return a&&(a.drawImage(r,0,0,t.width,t.height),this.options.allowTaint||a.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",r)}var s=r.ownerDocument.createElement("canvas");return s.width=r.offsetWidth,s.height=r.offsetHeight,s},e.prototype.appendChildNode=function(r,t,a){(!jf(t)||!$G(t)&&!t.hasAttribute(nk)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!jf(t)||!Q5(t))&&r.appendChild(this.cloneNode(t,a))},e.prototype.cloneChildNodes=function(r,t,a){for(var s=this,i=r.shadowRoot?r.shadowRoot.firstChild:r.firstChild;i;i=i.nextSibling)if(jf(i)&&rk(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(t,l,a)})}else this.appendChildNode(t,i,a)},e.prototype.cloneNode=function(r,t){if(JF(r))return document.createTextNode(r.data);if(!r.ownerDocument)return r.cloneNode(!1);var a=r.ownerDocument.defaultView;if(a&&jf(r)&&(ay(r)||Mg(r))){var s=this.createElementClone(r);s.style.transitionProperty="none";var i=a.getComputedStyle(r),o=a.getComputedStyle(r,":before"),l=a.getComputedStyle(r,":after");this.referenceElement===r&&ay(s)&&(this.clonedReferenceElement=s),Bb(s)&&aY(s);var A=this.counters.parse(new y5(this.context,i)),d=this.resolvePseudoContent(r,s,o,tm.BEFORE);R5(r)&&(t=!0),P5(r)||this.cloneChildNodes(r,s,t),d&&s.insertBefore(d,s.firstChild);var f=this.resolvePseudoContent(r,s,l,tm.AFTER);return f&&s.appendChild(f),this.counters.pop(A),(i&&(this.options.copyStyles||Mg(r))&&!tk(r)||t)&&Pw(i,s),(r.scrollTop!==0||r.scrollLeft!==0)&&this.scrolledElements.push([s,r.scrollLeft,r.scrollTop]),(b0(r)||j0(r))&&(b0(s)||j0(s))&&(s.value=r.value),s}return r.cloneNode(!1)},e.prototype.resolvePseudoContent=function(r,t,a,s){var i=this;if(a){var o=a.content,l=t.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||a.display==="none")){this.counters.parse(new y5(this.context,a));var A=new TW(this.context,a),d=l.createElement("html2canvaspseudoelement");Pw(a,d),A.content.forEach(function(h){if(h.type===0)d.appendChild(l.createTextNode(h.value));else if(h.type===22){var m=l.createElement("img");m.src=h.value,m.style.opacity="1",d.appendChild(m)}else if(h.type===18){if(h.name==="attr"){var p=h.values.filter(Ha);p.length&&d.appendChild(l.createTextNode(r.getAttribute(p[0].value)||""))}else if(h.name==="counter"){var v=h.values.filter(Of),x=v[0],w=v[1];if(x&&Ha(x)){var j=i.counters.getCounterValue(x.value),N=w&&Ha(w)?Z1.parse(i.context,w.value):3;d.appendChild(l.createTextNode(xm(j,N,!1)))}}else if(h.name==="counters"){var S=h.values.filter(Of),x=S[0],F=S[1],w=S[2];if(x&&Ha(x)){var T=i.counters.getCounterValues(x.value),D=w&&Ha(w)?Z1.parse(i.context,w.value):3,k=F&&F.type===0?F.value:"",P=T.map(function(Q){return xm(Q,D,!1)}).join(k);d.appendChild(l.createTextNode(P))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(l.createTextNode(w5(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(w5(A.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(h.value))}}),d.className=sy+" "+iy;var f=s===tm.BEFORE?" "+sy:" "+iy;return Mg(t)?t.className.baseValue+=f:t.className+=f,d}}},e.destroy=function(r){return r.parentNode?(r.parentNode.removeChild(r),!0):!1},e})(),tm;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(tm||(tm={}));var qG=function(e,r){var t=e.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=r.width.toString(),t.height=r.height.toString(),t.scrolling="no",t.setAttribute(nk,"true"),e.body.appendChild(t),t},WG=function(e){return new Promise(function(r){if(e.complete){r();return}if(!e.src){r();return}e.onload=r,e.onerror=r})},GG=function(e){return Promise.all([].slice.call(e.images,0).map(WG))},YG=function(e){return new Promise(function(r,t){var a=e.contentWindow;if(!a)return t("No window assigned for iframe");var s=a.document;a.onload=e.onload=function(){a.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),r(e))},50)}})},XG=["all","d","content"],Pw=function(e,r){for(var t=e.length-1;t>=0;t--){var a=e.item(t);XG.indexOf(a)===-1&&r.style.setProperty(a,e.getPropertyValue(a))}return r},JG=function(e){var r="";return e&&(r+="<!DOCTYPE ",e.name&&(r+=e.name),e.internalSubset&&(r+=e.internalSubset),e.publicId&&(r+='"'+e.publicId+'"'),e.systemId&&(r+='"'+e.systemId+'"'),r+=">"),r},ZG=function(e,r,t){e&&e.defaultView&&(r!==e.defaultView.pageXOffset||t!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(r,t)},eY=function(e){var r=e[0],t=e[1],a=e[2];r.scrollLeft=t,r.scrollTop=a},tY=":before",rY=":after",sy="___html2canvas___pseudoelement_before",iy="___html2canvas___pseudoelement_after",V5=`{
    content: "" !important;
    display: none !important;
}`,aY=function(e){nY(e,"."+sy+tY+V5+`
         .`+iy+rY+V5)},nY=function(e,r){var t=e.ownerDocument;if(t){var a=t.createElement("style");a.textContent=r,e.appendChild(a)}},sk=(function(){function e(){}return e.getOrigin=function(r){var t=e._link;return t?(t.href=r,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},e.isSameOrigin=function(r){return e.getOrigin(r)===e._origin},e.setContext=function(r){e._link=r.document.createElement("a"),e._origin=e.getOrigin(r.location.href)},e._origin="about:blank",e})(),sY=(function(){function e(r,t){this.context=r,this._options=t,this._cache={}}return e.prototype.addImage=function(r){var t=Promise.resolve();return this.has(r)||(Rw(r)||cY(r))&&(this._cache[r]=this.loadImage(r)).catch(function(){}),t},e.prototype.match=function(r){return this._cache[r]},e.prototype.loadImage=function(r){return wi(this,void 0,void 0,function(){var t,a,s,i,o=this;return si(this,function(l){switch(l.label){case 0:return t=sk.isSameOrigin(r),a=!Qw(r)&&this._options.useCORS===!0&&Ts.SUPPORT_CORS_IMAGES&&!t,s=!Qw(r)&&!t&&!Rw(r)&&typeof this._options.proxy=="string"&&Ts.SUPPORT_CORS_XHR&&!a,!t&&this._options.allowTaint===!1&&!Qw(r)&&!Rw(r)&&!s&&!a?[2]:(i=r,s?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+r.substring(0,256)),[4,new Promise(function(A,d){var f=new Image;f.onload=function(){return A(f)},f.onerror=d,(AY(i)||a)&&(f.crossOrigin="anonymous"),f.src=i,f.complete===!0&&setTimeout(function(){return A(f)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(r){return typeof this._cache[r]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(r){var t=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var s=r.substring(0,256);return new Promise(function(i,o){var l=Ts.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")i(A.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(m){return o(m)},!1),h.readAsDataURL(A.response)}else o("Failed to proxy resource "+s+" with status code "+A.status)},A.onerror=o;var d=a.indexOf("?")>-1?"&":"?";if(A.open("GET",""+a+d+"url="+encodeURIComponent(r)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),t._options.imageTimeout){var f=t._options.imageTimeout;A.timeout=f,A.ontimeout=function(){return o("Timed out ("+f+"ms) proxying "+s)}}A.send()})},e})(),iY=/^data:image\/svg\+xml/i,oY=/^data:image\/.*;base64,/i,lY=/^data:image\/.*/i,cY=function(e){return Ts.SUPPORT_SVG_DRAWING||!dY(e)},Qw=function(e){return lY.test(e)},AY=function(e){return oY.test(e)},Rw=function(e){return e.substr(0,4)==="blob"},dY=function(e){return e.substr(-3).toLowerCase()==="svg"||iY.test(e)},Pt=(function(){function e(r,t){this.type=0,this.x=r,this.y=t}return e.prototype.add=function(r,t){return new e(this.x+r,this.y+t)},e})(),mf=function(e,r,t){return new Pt(e.x+(r.x-e.x)*t,e.y+(r.y-e.y)*t)},dg=(function(){function e(r,t,a,s){this.type=1,this.start=r,this.startControl=t,this.endControl=a,this.end=s}return e.prototype.subdivide=function(r,t){var a=mf(this.start,this.startControl,r),s=mf(this.startControl,this.endControl,r),i=mf(this.endControl,this.end,r),o=mf(a,s,r),l=mf(s,i,r),A=mf(o,l,r);return t?new e(this.start,a,o,A):new e(A,l,i,this.end)},e.prototype.add=function(r,t){return new e(this.start.add(r,t),this.startControl.add(r,t),this.endControl.add(r,t),this.end.add(r,t))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),Do=function(e){return e.type===1},uY=(function(){function e(r){var t=r.styles,a=r.bounds,s=Kh(t.borderTopLeftRadius,a.width,a.height),i=s[0],o=s[1],l=Kh(t.borderTopRightRadius,a.width,a.height),A=l[0],d=l[1],f=Kh(t.borderBottomRightRadius,a.width,a.height),h=f[0],m=f[1],p=Kh(t.borderBottomLeftRadius,a.width,a.height),v=p[0],x=p[1],w=[];w.push((i+A)/a.width),w.push((v+h)/a.width),w.push((o+x)/a.height),w.push((d+m)/a.height);var j=Math.max.apply(Math,w);j>1&&(i/=j,o/=j,A/=j,d/=j,h/=j,m/=j,v/=j,x/=j);var N=a.width-A,S=a.height-m,F=a.width-h,T=a.height-x,D=t.borderTopWidth,k=t.borderRightWidth,P=t.borderBottomWidth,E=t.borderLeftWidth,V=Xa(t.paddingTop,r.bounds.width),Q=Xa(t.paddingRight,r.bounds.width),$=Xa(t.paddingBottom,r.bounds.width),G=Xa(t.paddingLeft,r.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?mn(a.left+E/3,a.top+D/3,i-E/3,o-D/3,Ca.TOP_LEFT):new Pt(a.left+E/3,a.top+D/3),this.topRightBorderDoubleOuterBox=i>0||o>0?mn(a.left+N,a.top+D/3,A-k/3,d-D/3,Ca.TOP_RIGHT):new Pt(a.left+a.width-k/3,a.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||m>0?mn(a.left+F,a.top+S,h-k/3,m-P/3,Ca.BOTTOM_RIGHT):new Pt(a.left+a.width-k/3,a.top+a.height-P/3),this.bottomLeftBorderDoubleOuterBox=v>0||x>0?mn(a.left+E/3,a.top+T,v-E/3,x-P/3,Ca.BOTTOM_LEFT):new Pt(a.left+E/3,a.top+a.height-P/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?mn(a.left+E*2/3,a.top+D*2/3,i-E*2/3,o-D*2/3,Ca.TOP_LEFT):new Pt(a.left+E*2/3,a.top+D*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?mn(a.left+N,a.top+D*2/3,A-k*2/3,d-D*2/3,Ca.TOP_RIGHT):new Pt(a.left+a.width-k*2/3,a.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||m>0?mn(a.left+F,a.top+S,h-k*2/3,m-P*2/3,Ca.BOTTOM_RIGHT):new Pt(a.left+a.width-k*2/3,a.top+a.height-P*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||x>0?mn(a.left+E*2/3,a.top+T,v-E*2/3,x-P*2/3,Ca.BOTTOM_LEFT):new Pt(a.left+E*2/3,a.top+a.height-P*2/3),this.topLeftBorderStroke=i>0||o>0?mn(a.left+E/2,a.top+D/2,i-E/2,o-D/2,Ca.TOP_LEFT):new Pt(a.left+E/2,a.top+D/2),this.topRightBorderStroke=i>0||o>0?mn(a.left+N,a.top+D/2,A-k/2,d-D/2,Ca.TOP_RIGHT):new Pt(a.left+a.width-k/2,a.top+D/2),this.bottomRightBorderStroke=h>0||m>0?mn(a.left+F,a.top+S,h-k/2,m-P/2,Ca.BOTTOM_RIGHT):new Pt(a.left+a.width-k/2,a.top+a.height-P/2),this.bottomLeftBorderStroke=v>0||x>0?mn(a.left+E/2,a.top+T,v-E/2,x-P/2,Ca.BOTTOM_LEFT):new Pt(a.left+E/2,a.top+a.height-P/2),this.topLeftBorderBox=i>0||o>0?mn(a.left,a.top,i,o,Ca.TOP_LEFT):new Pt(a.left,a.top),this.topRightBorderBox=A>0||d>0?mn(a.left+N,a.top,A,d,Ca.TOP_RIGHT):new Pt(a.left+a.width,a.top),this.bottomRightBorderBox=h>0||m>0?mn(a.left+F,a.top+S,h,m,Ca.BOTTOM_RIGHT):new Pt(a.left+a.width,a.top+a.height),this.bottomLeftBorderBox=v>0||x>0?mn(a.left,a.top+T,v,x,Ca.BOTTOM_LEFT):new Pt(a.left,a.top+a.height),this.topLeftPaddingBox=i>0||o>0?mn(a.left+E,a.top+D,Math.max(0,i-E),Math.max(0,o-D),Ca.TOP_LEFT):new Pt(a.left+E,a.top+D),this.topRightPaddingBox=A>0||d>0?mn(a.left+Math.min(N,a.width-k),a.top+D,N>a.width+k?0:Math.max(0,A-k),Math.max(0,d-D),Ca.TOP_RIGHT):new Pt(a.left+a.width-k,a.top+D),this.bottomRightPaddingBox=h>0||m>0?mn(a.left+Math.min(F,a.width-E),a.top+Math.min(S,a.height-P),Math.max(0,h-k),Math.max(0,m-P),Ca.BOTTOM_RIGHT):new Pt(a.left+a.width-k,a.top+a.height-P),this.bottomLeftPaddingBox=v>0||x>0?mn(a.left+E,a.top+Math.min(T,a.height-P),Math.max(0,v-E),Math.max(0,x-P),Ca.BOTTOM_LEFT):new Pt(a.left+E,a.top+a.height-P),this.topLeftContentBox=i>0||o>0?mn(a.left+E+G,a.top+D+V,Math.max(0,i-(E+G)),Math.max(0,o-(D+V)),Ca.TOP_LEFT):new Pt(a.left+E+G,a.top+D+V),this.topRightContentBox=A>0||d>0?mn(a.left+Math.min(N,a.width+E+G),a.top+D+V,N>a.width+E+G?0:A-E+G,d-(D+V),Ca.TOP_RIGHT):new Pt(a.left+a.width-(k+Q),a.top+D+V),this.bottomRightContentBox=h>0||m>0?mn(a.left+Math.min(F,a.width-(E+G)),a.top+Math.min(S,a.height+D+V),Math.max(0,h-(k+Q)),m-(P+$),Ca.BOTTOM_RIGHT):new Pt(a.left+a.width-(k+Q),a.top+a.height-(P+$)),this.bottomLeftContentBox=v>0||x>0?mn(a.left+E+G,a.top+T,Math.max(0,v-(E+G)),x-(P+$),Ca.BOTTOM_LEFT):new Pt(a.left+E+G,a.top+a.height-(P+$))}return e})(),Ca;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ca||(Ca={}));var mn=function(e,r,t,a,s){var i=4*((Math.sqrt(2)-1)/3),o=t*i,l=a*i,A=e+t,d=r+a;switch(s){case Ca.TOP_LEFT:return new dg(new Pt(e,d),new Pt(e,d-l),new Pt(A-o,r),new Pt(A,r));case Ca.TOP_RIGHT:return new dg(new Pt(e,r),new Pt(e+o,r),new Pt(A,d-l),new Pt(A,d));case Ca.BOTTOM_RIGHT:return new dg(new Pt(A,r),new Pt(A,r+l),new Pt(e+o,d),new Pt(e,d));case Ca.BOTTOM_LEFT:default:return new dg(new Pt(A,d),new Pt(A-o,d),new Pt(e,r+l),new Pt(e,r))}},N0=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},fY=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},B0=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},hY=(function(){function e(r,t,a){this.offsetX=r,this.offsetY=t,this.matrix=a,this.type=0,this.target=6}return e})(),ug=(function(){function e(r,t){this.path=r,this.target=t,this.type=1}return e})(),mY=(function(){function e(r){this.opacity=r,this.type=2,this.target=6}return e})(),pY=function(e){return e.type===0},ik=function(e){return e.type===1},gY=function(e){return e.type===2},z5=function(e,r){return e.length===r.length?e.some(function(t,a){return t===r[a]}):!1},xY=function(e,r,t,a,s){return e.map(function(i,o){switch(o){case 0:return i.add(r,t);case 1:return i.add(r+a,t);case 2:return i.add(r+a,t+s);case 3:return i.add(r,t+s)}return i})},ok=(function(){function e(r){this.element=r,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),lk=(function(){function e(r,t){if(this.container=r,this.parent=t,this.effects=[],this.curves=new uY(this.container),this.container.styles.opacity<1&&this.effects.push(new mY(this.container.styles.opacity)),this.container.styles.transform!==null){var a=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new hY(a,s,i))}if(this.container.styles.overflowX!==0){var o=N0(this.curves),l=B0(this.curves);z5(o,l)?this.effects.push(new ug(o,6)):(this.effects.push(new ug(o,2)),this.effects.push(new ug(l,4)))}}return e.prototype.getEffects=function(r){for(var t=[2,3].indexOf(this.container.styles.position)===-1,a=this.parent,s=this.effects.slice(0);a;){var i=a.effects.filter(function(A){return!ik(A)});if(t||a.container.styles.position!==0||!a.parent){if(s.unshift.apply(s,i),t=[2,3].indexOf(a.container.styles.position)===-1,a.container.styles.overflowX!==0){var o=N0(a.curves),l=B0(a.curves);z5(o,l)||s.unshift(new ug(l,6))}}else s.unshift.apply(s,i);a=a.parent}return s.filter(function(A){return ms(A.target,r)})},e})(),oy=function(e,r,t,a){e.container.elements.forEach(function(s){var i=ms(s.flags,4),o=ms(s.flags,2),l=new lk(s,e);ms(s.styles.display,2048)&&a.push(l);var A=ms(s.flags,8)?[]:a;if(i||o){var d=i||s.styles.isPositioned()?t:r,f=new ok(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var m=0;d.negativeZIndex.some(function(v,x){return h>v.element.container.styles.zIndex.order?(m=x,!1):m>0}),d.negativeZIndex.splice(m,0,f)}else if(h>0){var p=0;d.positiveZIndex.some(function(v,x){return h>=v.element.container.styles.zIndex.order?(p=x+1,!1):p>0}),d.positiveZIndex.splice(p,0,f)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else s.styles.isFloating()?d.nonPositionedFloats.push(f):d.nonPositionedInlineLevel.push(f);oy(l,f,i?f:t,A)}else s.styles.isInlineLevel()?r.inlineLevel.push(l):r.nonInlineLevel.push(l),oy(l,r,t,A);ms(s.flags,8)&&ck(s,A)})},ck=function(e,r){for(var t=e instanceof ry?e.start:1,a=e instanceof ry?e.reversed:!1,s=0;s<r.length;s++){var i=r[s];i.container instanceof zF&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=xm(t,i.container.styles.listStyleType,!0),t+=a?-1:1}},vY=function(e){var r=new lk(e,null),t=new ok(r),a=[];return oy(r,t,t,a),ck(r.container,a),t},q5=function(e,r){switch(r){case 0:return Lo(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Lo(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Lo(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Lo(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},wY=function(e,r){switch(r){case 0:return Lo(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Lo(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Lo(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Lo(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},yY=function(e,r){switch(r){case 0:return Lo(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Lo(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Lo(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Lo(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},bY=function(e,r){switch(r){case 0:return fg(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return fg(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return fg(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return fg(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},fg=function(e,r){var t=[];return Do(e)?t.push(e.subdivide(.5,!1)):t.push(e),Do(r)?t.push(r.subdivide(.5,!0)):t.push(r),t},Lo=function(e,r,t,a){var s=[];return Do(e)?s.push(e.subdivide(.5,!1)):s.push(e),Do(t)?s.push(t.subdivide(.5,!0)):s.push(t),Do(a)?s.push(a.subdivide(.5,!0).reverse()):s.push(a),Do(r)?s.push(r.subdivide(.5,!1).reverse()):s.push(r),s},Ak=function(e){var r=e.bounds,t=e.styles;return r.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},C0=function(e){var r=e.styles,t=e.bounds,a=Xa(r.paddingLeft,t.width),s=Xa(r.paddingRight,t.width),i=Xa(r.paddingTop,t.width),o=Xa(r.paddingBottom,t.width);return t.add(a+r.borderLeftWidth,i+r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth+a+s),-(r.borderTopWidth+r.borderBottomWidth+i+o))},jY=function(e,r){return e===0?r.bounds:e===2?C0(r):Ak(r)},NY=function(e,r){return e===0?r.bounds:e===2?C0(r):Ak(r)},Tw=function(e,r,t){var a=jY(yf(e.styles.backgroundOrigin,r),e),s=NY(yf(e.styles.backgroundClip,r),e),i=BY(yf(e.styles.backgroundSize,r),t,a),o=i[0],l=i[1],A=Kh(yf(e.styles.backgroundPosition,r),a.width-o,a.height-l),d=CY(yf(e.styles.backgroundRepeat,r),A,i,a,s),f=Math.round(a.left+A[0]),h=Math.round(a.top+A[1]);return[d,f,h,o,l]},pf=function(e){return Ha(e)&&e.value===Df.AUTO},hg=function(e){return typeof e=="number"},BY=function(e,r,t){var a=r[0],s=r[1],i=r[2],o=e[0],l=e[1];if(!o)return[0,0];if(os(o)&&l&&os(l))return[Xa(o,t.width),Xa(l,t.height)];var A=hg(i);if(Ha(o)&&(o.value===Df.CONTAIN||o.value===Df.COVER)){if(hg(i)){var d=t.width/t.height;return d<i!=(o.value===Df.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var f=hg(a),h=hg(s),m=f||h;if(pf(o)&&(!l||pf(l))){if(f&&h)return[a,s];if(!A&&!m)return[t.width,t.height];if(m&&A){var p=f?a:s*i,v=h?s:a/i;return[p,v]}var x=f?a:t.width,w=h?s:t.height;return[x,w]}if(A){var j=0,N=0;return os(o)?j=Xa(o,t.width):os(l)&&(N=Xa(l,t.height)),pf(o)?j=N*i:(!l||pf(l))&&(N=j/i),[j,N]}var S=null,F=null;if(os(o)?S=Xa(o,t.width):l&&os(l)&&(F=Xa(l,t.height)),S!==null&&(!l||pf(l))&&(F=f&&h?S/a*s:t.height),F!==null&&pf(o)&&(S=f&&h?F/s*a:t.width),S!==null&&F!==null)return[S,F];throw new Error("Unable to calculate background-size for element")},yf=function(e,r){var t=e[r];return typeof t>"u"?e[0]:t},CY=function(e,r,t,a,s){var i=r[0],o=r[1],l=t[0],A=t[1];switch(e){case 2:return[new Pt(Math.round(a.left),Math.round(a.top+o)),new Pt(Math.round(a.left+a.width),Math.round(a.top+o)),new Pt(Math.round(a.left+a.width),Math.round(A+a.top+o)),new Pt(Math.round(a.left),Math.round(A+a.top+o))];case 3:return[new Pt(Math.round(a.left+i),Math.round(a.top)),new Pt(Math.round(a.left+i+l),Math.round(a.top)),new Pt(Math.round(a.left+i+l),Math.round(a.height+a.top)),new Pt(Math.round(a.left+i),Math.round(a.height+a.top))];case 1:return[new Pt(Math.round(a.left+i),Math.round(a.top+o)),new Pt(Math.round(a.left+i+l),Math.round(a.top+o)),new Pt(Math.round(a.left+i+l),Math.round(a.top+o+A)),new Pt(Math.round(a.left+i),Math.round(a.top+o+A))];default:return[new Pt(Math.round(s.left),Math.round(s.top)),new Pt(Math.round(s.left+s.width),Math.round(s.top)),new Pt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Pt(Math.round(s.left),Math.round(s.height+s.top))]}},SY="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",W5="Hidden Text",EY=(function(){function e(r){this._data={},this._document=r}return e.prototype.parseMetrics=function(r,t){var a=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;a.style.visibility="hidden",a.style.fontFamily=r,a.style.fontSize=t,a.style.margin="0",a.style.padding="0",a.style.whiteSpace="nowrap",o.appendChild(a),s.src=SY,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=r,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(W5)),a.appendChild(i),a.appendChild(s);var l=s.offsetTop-i.offsetTop+2;a.removeChild(i),a.appendChild(this._document.createTextNode(W5)),a.style.lineHeight="normal",s.style.verticalAlign="super";var A=s.offsetTop-a.offsetTop+2;return o.removeChild(a),{baseline:l,middle:A}},e.prototype.getMetrics=function(r,t){var a=r+" "+t;return typeof this._data[a]>"u"&&(this._data[a]=this.parseMetrics(r,t)),this._data[a]},e})(),dk=(function(){function e(r,t){this.context=r,this.options=t}return e})(),_Y=1e4,FY=(function(e){jl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s._activeEffects=[],s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),a.canvas||(s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px"),s.fontMetrics=new EY(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+a.width+"x"+a.height+") with scale "+a.scale),s}return r.prototype.applyEffects=function(t){for(var a=this;this._activeEffects.length;)this.popEffect();t.forEach(function(s){return a.applyEffect(s)})},r.prototype.applyEffect=function(t){this.ctx.save(),gY(t)&&(this.ctx.globalAlpha=t.opacity),pY(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),ik(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(t){return wi(this,void 0,void 0,function(){var a;return si(this,function(s){switch(s.label){case 0:return a=t.element.container.styles,a.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},r.prototype.renderNode=function(t){return wi(this,void 0,void 0,function(){return si(this,function(a){switch(a.label){case 0:if(ms(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return a.sent(),[4,this.renderNodeContent(t)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},r.prototype.renderTextWithLetterSpacing=function(t,a,s){var i=this;if(a===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+s);else{var o=jb(t.text);o.reduce(function(l,A){return i.ctx.fillText(A,l,t.bounds.top+s),l+i.ctx.measureText(A).width},t.bounds.left)}},r.prototype.createFontStyle=function(t){var a=t.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=IY(t.fontFamily).join(", "),i=Mm(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,a,t.fontWeight,i,s].join(" "),s,i]},r.prototype.renderTextNode=function(t,a){return wi(this,void 0,void 0,function(){var s,i,o,l,A,d,f,h,m=this;return si(this,function(p){return s=this.createFontStyle(a),i=s[0],o=s[1],l=s[2],this.ctx.font=i,this.ctx.direction=a.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,l),d=A.baseline,f=A.middle,h=a.paintOrder,t.textBounds.forEach(function(v){h.forEach(function(x){switch(x){case 0:m.ctx.fillStyle=_s(a.color),m.renderTextWithLetterSpacing(v,a.letterSpacing,d);var w=a.textShadow;w.length&&v.text.trim().length&&(w.slice(0).reverse().forEach(function(j){m.ctx.shadowColor=_s(j.color),m.ctx.shadowOffsetX=j.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=j.offsetY.number*m.options.scale,m.ctx.shadowBlur=j.blur.number,m.renderTextWithLetterSpacing(v,a.letterSpacing,d)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),a.textDecorationLine.length&&(m.ctx.fillStyle=_s(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(j){switch(j){case 1:m.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+d),v.bounds.width,1);break;case 2:m.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:m.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+f),v.bounds.width,1);break}}));break;case 1:a.webkitTextStrokeWidth&&v.text.trim().length&&(m.ctx.strokeStyle=_s(a.webkitTextStrokeColor),m.ctx.lineWidth=a.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+d)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},r.prototype.renderReplacedElement=function(t,a,s){if(s&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=C0(t),o=B0(a);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(t){return wi(this,void 0,void 0,function(){var a,s,i,o,l,A,N,N,d,f,h,m,F,p,v,T,x,w,j,N,S,F,T;return si(this,function(D){switch(D.label){case 0:this.applyEffects(t.getEffects(4)),a=t.container,s=t.curves,i=a.styles,o=0,l=a.textNodes,D.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,i)]):[3,4];case 2:D.sent(),D.label=3;case 3:return o++,[3,1];case 4:if(!(a instanceof $F))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(a.src)];case 6:return N=D.sent(),this.renderReplacedElement(a,s,N),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+a.src),[3,8];case 8:if(a instanceof KF&&this.renderReplacedElement(a,s,a.canvas),!(a instanceof VF))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(a.svg)];case 10:return N=D.sent(),this.renderReplacedElement(a,s,N),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+a.svg.substring(0,255)),[3,12];case 12:return a instanceof GF&&a.tree?(d=new r(this.context,{scale:this.options.scale,backgroundColor:a.backgroundColor,x:0,y:0,width:a.width,height:a.height}),[4,d.render(a.tree)]):[3,14];case 13:f=D.sent(),a.width&&a.height&&this.ctx.drawImage(f,0,0,a.width,a.height,a.bounds.left,a.bounds.top,a.bounds.width,a.bounds.height),D.label=14;case 14:if(a instanceof Nb&&(h=Math.min(a.bounds.width,a.bounds.height),a.type===w0?a.checked&&(this.ctx.save(),this.path([new Pt(a.bounds.left+h*.39363,a.bounds.top+h*.79),new Pt(a.bounds.left+h*.16,a.bounds.top+h*.5549),new Pt(a.bounds.left+h*.27347,a.bounds.top+h*.44071),new Pt(a.bounds.left+h*.39694,a.bounds.top+h*.5649),new Pt(a.bounds.left+h*.72983,a.bounds.top+h*.23),new Pt(a.bounds.left+h*.84,a.bounds.top+h*.34085),new Pt(a.bounds.left+h*.39363,a.bounds.top+h*.79)]),this.ctx.fillStyle=_s(I5),this.ctx.fill(),this.ctx.restore()):a.type===y0&&a.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a.bounds.left+h/2,a.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=_s(I5),this.ctx.fill(),this.ctx.restore())),kY(a)&&a.value.length){switch(m=this.createFontStyle(i),F=m[0],p=m[1],v=this.fontMetrics.getMetrics(F,p).baseline,this.ctx.font=F,this.ctx.fillStyle=_s(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=UY(a.styles.textAlign),T=C0(a),x=0,a.styles.textAlign){case 1:x+=T.width/2;break;case 2:x+=T.width;break}w=T.add(x,0,0,-T.height/2+1),this.ctx.save(),this.path([new Pt(T.left,T.top),new Pt(T.left+T.width,T.top),new Pt(T.left+T.width,T.top+T.height),new Pt(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new em(a.value,w),i.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ms(a.styles.display,2048))return[3,20];if(a.styles.listStyleImage===null)return[3,19];if(j=a.styles.listStyleImage,j.type!==0)return[3,18];N=void 0,S=j.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return N=D.sent(),this.ctx.drawImage(N,a.bounds.left-(N.width+10),a.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:t.listValue&&a.styles.listStyleType!==-1&&(F=this.createFontStyle(i)[0],this.ctx.font=F,this.ctx.fillStyle=_s(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new lA(a.bounds.left,a.bounds.top+Xa(a.styles.paddingTop,a.bounds.width),a.bounds.width,x5(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new em(t.listValue,T),i.letterSpacing,x5(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},r.prototype.renderStackContent=function(t){return wi(this,void 0,void 0,function(){var a,s,j,i,o,j,l,A,j,d,f,j,h,m,j,p,v,j,x,w,j;return si(this,function(N){switch(N.label){case 0:if(ms(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:N.sent(),a=0,s=t.negativeZIndex,N.label=2;case 2:return a<s.length?(j=s[a],[4,this.renderStack(j)]):[3,5];case 3:N.sent(),N.label=4;case 4:return a++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:N.sent(),i=0,o=t.nonInlineLevel,N.label=7;case 7:return i<o.length?(j=o[i],[4,this.renderNode(j)]):[3,10];case 8:N.sent(),N.label=9;case 9:return i++,[3,7];case 10:l=0,A=t.nonPositionedFloats,N.label=11;case 11:return l<A.length?(j=A[l],[4,this.renderStack(j)]):[3,14];case 12:N.sent(),N.label=13;case 13:return l++,[3,11];case 14:d=0,f=t.nonPositionedInlineLevel,N.label=15;case 15:return d<f.length?(j=f[d],[4,this.renderStack(j)]):[3,18];case 16:N.sent(),N.label=17;case 17:return d++,[3,15];case 18:h=0,m=t.inlineLevel,N.label=19;case 19:return h<m.length?(j=m[h],[4,this.renderNode(j)]):[3,22];case 20:N.sent(),N.label=21;case 21:return h++,[3,19];case 22:p=0,v=t.zeroOrAutoZIndexOrTransformedOrOpacity,N.label=23;case 23:return p<v.length?(j=v[p],[4,this.renderStack(j)]):[3,26];case 24:N.sent(),N.label=25;case 25:return p++,[3,23];case 26:x=0,w=t.positiveZIndex,N.label=27;case 27:return x<w.length?(j=w[x],[4,this.renderStack(j)]):[3,30];case 28:N.sent(),N.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},r.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},r.prototype.formatPath=function(t){var a=this;t.forEach(function(s,i){var o=Do(s)?s.start:s;i===0?a.ctx.moveTo(o.x,o.y):a.ctx.lineTo(o.x,o.y),Do(s)&&a.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},r.prototype.renderRepeat=function(t,a,s,i){this.path(t),this.ctx.fillStyle=a,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},r.prototype.resizeImage=function(t,a,s){var i;if(t.width===a&&t.height===s)return t;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,a),l.height=Math.max(1,s);var A=l.getContext("2d");return A.drawImage(t,0,0,t.width,t.height,0,0,a,s),l},r.prototype.renderBackgroundImage=function(t){return wi(this,void 0,void 0,function(){var a,s,i,o,l,A;return si(this,function(d){switch(d.label){case 0:a=t.styles.backgroundImage.length-1,s=function(f){var h,m,p,V,K,z,G,R,P,v,V,K,z,G,R,x,w,j,N,S,F,T,D,k,P,E,V,Q,$,G,R,ee,K,z,X,ne,ue,_,I,W,te,J;return si(this,function(Y){switch(Y.label){case 0:if(f.type!==0)return[3,5];h=void 0,m=f.url,Y.label=1;case 1:return Y.trys.push([1,3,,4]),[4,i.context.cache.match(m)];case 2:return h=Y.sent(),[3,4];case 3:return Y.sent(),i.context.logger.error("Error loading background-image "+m),[3,4];case 4:return h&&(p=Tw(t,a,[h.width,h.height,h.width/h.height]),V=p[0],K=p[1],z=p[2],G=p[3],R=p[4],P=i.ctx.createPattern(i.resizeImage(h,G,R),"repeat"),i.renderRepeat(V,P,K,z)),[3,6];case 5:pq(f)?(v=Tw(t,a,[null,null,null]),V=v[0],K=v[1],z=v[2],G=v[3],R=v[4],x=dq(f.angle,G,R),w=x[0],j=x[1],N=x[2],S=x[3],F=x[4],T=document.createElement("canvas"),T.width=G,T.height=R,D=T.getContext("2d"),k=D.createLinearGradient(j,S,N,F),p5(f.stops,w).forEach(function(M){return k.addColorStop(M.stop,_s(M.color))}),D.fillStyle=k,D.fillRect(0,0,G,R),G>0&&R>0&&(P=i.ctx.createPattern(T,"repeat"),i.renderRepeat(V,P,K,z))):gq(f)&&(E=Tw(t,a,[null,null,null]),V=E[0],Q=E[1],$=E[2],G=E[3],R=E[4],ee=f.position.length===0?[wb]:f.position,K=Xa(ee[0],G),z=Xa(ee[ee.length-1],R),X=uq(f,K,z,G,R),ne=X[0],ue=X[1],ne>0&&ue>0&&(_=i.ctx.createRadialGradient(Q+K,$+z,0,Q+K,$+z,ne),p5(f.stops,ne*2).forEach(function(M){return _.addColorStop(M.stop,_s(M.color))}),i.path(V),i.ctx.fillStyle=_,ne!==ue?(I=t.bounds.left+.5*t.bounds.width,W=t.bounds.top+.5*t.bounds.height,te=ue/ne,J=1/te,i.ctx.save(),i.ctx.translate(I,W),i.ctx.transform(1,0,0,te,0,0),i.ctx.translate(-I,-W),i.ctx.fillRect(Q,J*($-W)+W,G,R*J),i.ctx.restore()):i.ctx.fill())),Y.label=6;case 6:return a--,[2]}})},i=this,o=0,l=t.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(A=l[o],[5,s(A)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},r.prototype.renderSolidBorder=function(t,a,s){return wi(this,void 0,void 0,function(){return si(this,function(i){return this.path(q5(s,a)),this.ctx.fillStyle=_s(t),this.ctx.fill(),[2]})})},r.prototype.renderDoubleBorder=function(t,a,s,i){return wi(this,void 0,void 0,function(){var o,l;return si(this,function(A){switch(A.label){case 0:return a<3?[4,this.renderSolidBorder(t,s,i)]:[3,2];case 1:return A.sent(),[2];case 2:return o=wY(i,s),this.path(o),this.ctx.fillStyle=_s(t),this.ctx.fill(),l=yY(i,s),this.path(l),this.ctx.fill(),[2]}})})},r.prototype.renderNodeBackgroundAndBorders=function(t){return wi(this,void 0,void 0,function(){var a,s,i,o,l,A,d,f,h=this;return si(this,function(m){switch(m.label){case 0:return this.applyEffects(t.getEffects(2)),a=t.container.styles,s=!id(a.backgroundColor)||a.backgroundImage.length,i=[{style:a.borderTopStyle,color:a.borderTopColor,width:a.borderTopWidth},{style:a.borderRightStyle,color:a.borderRightColor,width:a.borderRightWidth},{style:a.borderBottomStyle,color:a.borderBottomColor,width:a.borderBottomWidth},{style:a.borderLeftStyle,color:a.borderLeftColor,width:a.borderLeftWidth}],o=DY(yf(a.backgroundClip,0),t.curves),s||a.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),id(a.backgroundColor)||(this.ctx.fillStyle=_s(a.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),a.boxShadow.slice(0).reverse().forEach(function(p){h.ctx.save();var v=N0(t.curves),x=p.inset?0:_Y,w=xY(v,-x+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(h.path(v),h.ctx.clip(),h.mask(w)):(h.mask(v),h.ctx.clip(),h.path(w)),h.ctx.shadowOffsetX=p.offsetX.number+x,h.ctx.shadowOffsetY=p.offsetY.number,h.ctx.shadowColor=_s(p.color),h.ctx.shadowBlur=p.blur.number,h.ctx.fillStyle=p.inset?_s(p.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),m.label=2;case 2:l=0,A=0,d=i,m.label=3;case 3:return A<d.length?(f=d[A],f.style!==0&&!id(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,3)];case 6:return m.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,l,t.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,l,t.curves)];case 10:m.sent(),m.label=11;case 11:l++,m.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},r.prototype.renderDashedDottedBorder=function(t,a,s,i,o){return wi(this,void 0,void 0,function(){var l,A,d,f,h,m,p,v,x,w,j,N,S,F,T,D,T,D;return si(this,function(k){return this.ctx.save(),l=bY(i,s),A=q5(i,s),o===2&&(this.path(A),this.ctx.clip()),Do(A[0])?(d=A[0].start.x,f=A[0].start.y):(d=A[0].x,f=A[0].y),Do(A[1])?(h=A[1].end.x,m=A[1].end.y):(h=A[1].x,m=A[1].y),s===0||s===2?p=Math.abs(d-h):p=Math.abs(f-m),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(A.slice(0,2)),v=a<3?a*3:a*2,x=a<3?a*2:a,o===3&&(v=a,x=a),w=!0,p<=v*2?w=!1:p<=v*2+x?(j=p/(2*v+x),v*=j,x*=j):(N=Math.floor((p+x)/(v+x)),S=(p-N*v)/(N-1),F=(p-(N+1)*v)/N,x=F<=0||Math.abs(x-S)<Math.abs(x-F)?S:F),w&&(o===3?this.ctx.setLineDash([0,v+x]):this.ctx.setLineDash([v,x])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=a):this.ctx.lineWidth=a*2+1.1,this.ctx.strokeStyle=_s(t),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Do(A[0])&&(T=A[3],D=A[0],this.ctx.beginPath(),this.formatPath([new Pt(T.end.x,T.end.y),new Pt(D.start.x,D.start.y)]),this.ctx.stroke()),Do(A[1])&&(T=A[1],D=A[2],this.ctx.beginPath(),this.formatPath([new Pt(T.end.x,T.end.y),new Pt(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},r.prototype.render=function(t){return wi(this,void 0,void 0,function(){var a;return si(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=_s(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=vY(t),[4,this.renderStack(a)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},r})(dk),kY=function(e){return e instanceof WF||e instanceof qF?!0:e instanceof Nb&&e.type!==y0&&e.type!==w0},DY=function(e,r){switch(e){case 0:return N0(r);case 2:return fY(r);case 1:default:return B0(r)}},UY=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},LY=["-apple-system","system-ui"],IY=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(r){return LY.indexOf(r)===-1}):e},PY=(function(e){jl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=a,s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale),s}return r.prototype.render=function(t){return wi(this,void 0,void 0,function(){var a,s;return si(this,function(i){switch(i.label){case 0:return a=ty(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,QY(a)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=_s(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},r})(dk),QY=function(e){return new Promise(function(r,t){var a=new Image;a.onload=function(){r(a)},a.onerror=t,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},RY=(function(){function e(r){var t=r.id,a=r.enabled;this.id=t,this.enabled=a,this.start=Date.now()}return e.prototype.debug=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,zp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,zp([this.id,this.getTime()+"ms"],r))},e.prototype.warn=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,zp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.prototype.error=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,zp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.instances={},e})(),TY=(function(){function e(r,t){var a;this.windowBounds=t,this.instanceName="#"+e.instanceCount++,this.logger=new RY({id:this.instanceName,enabled:r.logging}),this.cache=(a=r.cache)!==null&&a!==void 0?a:new sY(this,r)}return e.instanceCount=1,e})(),ly=function(e,r){return r===void 0&&(r={}),MY(e,r)};typeof window<"u"&&sk.setContext(window);var MY=function(e,r){return wi(void 0,void 0,void 0,function(){var t,a,s,i,o,l,A,d,f,h,m,p,v,x,w,j,N,S,F,T,k,D,k,P,E,V,Q,$,G,R,ee,K,z,X,ne,ue,_,I,W,te;return si(this,function(J){switch(J.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=e.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(a=t.defaultView,!a)throw new Error("Document is not attached to a Window");return s={allowTaint:(P=r.allowTaint)!==null&&P!==void 0?P:!1,imageTimeout:(E=r.imageTimeout)!==null&&E!==void 0?E:15e3,proxy:r.proxy,useCORS:(V=r.useCORS)!==null&&V!==void 0?V:!1},i=M1({logging:(Q=r.logging)!==null&&Q!==void 0?Q:!0,cache:r.cache},s),o={windowWidth:($=r.windowWidth)!==null&&$!==void 0?$:a.innerWidth,windowHeight:(G=r.windowHeight)!==null&&G!==void 0?G:a.innerHeight,scrollX:(R=r.scrollX)!==null&&R!==void 0?R:a.pageXOffset,scrollY:(ee=r.scrollY)!==null&&ee!==void 0?ee:a.pageYOffset},l=new lA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new TY(i,l),d=(K=r.foreignObjectRendering)!==null&&K!==void 0?K:!1,f={allowTaint:(z=r.allowTaint)!==null&&z!==void 0?z:!1,onclone:r.onclone,ignoreElements:r.ignoreElements,inlineImages:d,copyStyles:d},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new K5(A,e,f),m=h.clonedReferenceElement,m?[4,h.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=J.sent(),v=Bb(m)||HG(m)?xV(m.ownerDocument):gx(A,m),x=v.width,w=v.height,j=v.left,N=v.top,S=OY(A,m,r.backgroundColor),F={canvas:r.canvas,backgroundColor:S,scale:(ne=(X=r.scale)!==null&&X!==void 0?X:a.devicePixelRatio)!==null&&ne!==void 0?ne:1,x:((ue=r.x)!==null&&ue!==void 0?ue:0)+j,y:((_=r.y)!==null&&_!==void 0?_:0)+N,width:(I=r.width)!==null&&I!==void 0?I:Math.ceil(x),height:(W=r.height)!==null&&W!==void 0?W:Math.ceil(w)},d?(A.logger.debug("Document cloned, using foreign object rendering"),k=new PY(A,F),[4,k.render(m)]):[3,3];case 2:return T=J.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+j+","+N+" with size "+x+"x"+w+" using computed rendering"),A.logger.debug("Starting DOM parsing"),D=XF(A,m),S===D.styles.backgroundColor&&(D.styles.backgroundColor=nA.TRANSPARENT),A.logger.debug("Starting renderer for element at "+F.x+","+F.y+" with size "+F.width+"x"+F.height),k=new FY(A,F),[4,k.render(D)];case 4:T=J.sent(),J.label=5;case 5:return(!((te=r.removeContainer)!==null&&te!==void 0)||te)&&(K5.destroy(p)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,T]}})})},OY=function(e,r,t){var a=r.ownerDocument,s=a.documentElement?Jh(e,getComputedStyle(a.documentElement).backgroundColor):nA.TRANSPARENT,i=a.body?Jh(e,getComputedStyle(a.body).backgroundColor):nA.TRANSPARENT,o=typeof t=="string"?Jh(e,t):t===null?nA.TRANSPARENT:4294967295;return r===a.documentElement?id(s)?id(i)?o:i:s:o};const HY=Object.freeze(Object.defineProperty({__proto__:null,default:ly},Symbol.toStringTag,{value:"Module"}));class uk{constructor(){this.defaultConfig=Fs}loadMedicoTemplate(r){const t=[r,typeof window<"u"?localStorage.getItem("medico_id"):null,"default"].filter(Boolean);for(const a of t)try{const s=fm(a);if(s)return s}catch(s){console.warn("Erro ao carregar template do mdico:",s)}return this.defaultConfig}async generatePDFFromElement(r,t={}){const a=(t.pageSize||"a4").toLowerCase(),s=(t.orientation||"portrait").toLowerCase()==="landscape"?"l":"p",i=Number(t.scale||2);let o=r;if(typeof r=="string"&&(o=document.querySelector(r)),!o)throw new Error("Elemento do preview no encontrado para gerar PDF.");const l=await ly(o,{scale:i,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",windowWidth:o.scrollWidth||o.clientWidth,windowHeight:o.scrollHeight||o.clientHeight}),A=new ar({orientation:s,unit:"mm",format:a}),d=l.toDataURL("image/png"),f=A.internal.pageSize.getWidth(),h=l.height*f/l.width;return A.addImage(d,"PNG",0,0,f,h),A.output("blob")}loadMedicoLogo(r){const t=[r,typeof window<"u"?localStorage.getItem("medico_id"):null].filter(Boolean);for(const a of t)try{const s=Mf(a);if(s)return s}catch(s){console.warn("Erro ao carregar logo do mdico:",s)}return null}generateReceitaHTML(r,t,a,s){const i=this.loadMedicoTemplate(s),o=this.loadMedicoLogo(s),l=this.generateStyles(i),A=this.generateHeader(i,t,o),d=this.generateContent(r,a,i),f=this.generateFooter(i,t);return`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>Receita Mdica</title>
          <style>${l}</style>
        </head>
        <body>
          <div class="receita-container">
            ${A}
            ${d}
            ${f}
          </div>
        </body>
      </html>
    `}generateStyles(r){const{layout:t,content:a,branding:s}=r;return`
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: ${a.fontFamily};
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.primary};
        line-height: 1.6;
        background: white;
      }
      
      .receita-container {
        width: 100%;
        max-width: ${t.pageSize==="A4"?"210mm":"8.5in"};
        margin: 0 auto;
        padding: ${t.margins.top}px ${t.margins.right}px ${t.margins.bottom}px ${t.margins.left}px;
        min-height: ${t.pageSize==="A4"?"297mm":"11in"};
        position: relative;
      }
      
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid ${a.colors.accent};
      }
      
      .header-logo {
        max-height: 80px;
        max-width: 150px;
        object-fit: contain;
      }
      
      .header-info {
        text-align: right;
        flex: 1;
        margin-left: 20px;
      }
      
      .clinic-name {
        font-size: ${a.fontSize.title}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 5px;
      }
      
      .clinic-details {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
        line-height: 1.4;
      }
      
      .doctor-info {
        margin-bottom: 30px;
        padding: 15px;
        background-color: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid ${a.colors.accent};
      }
      
      .doctor-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 5px;
      }
      
      .doctor-details {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .patient-info {
        margin-bottom: 30px;
        padding: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
      }
      
      .patient-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 10px;
      }
      
      .patient-details {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .prescription-title {
        font-size: ${a.fontSize.title}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        text-align: center;
        margin-bottom: 30px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      
      .medications {
        margin-bottom: 40px;
      }
      
      .medication-item {
        margin-bottom: 20px;
        padding: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        background-color: #fafafa;
      }
      
      .medication-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 8px;
      }
      
      .medication-details {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.secondary};
        margin-bottom: 5px;
      }
      
      .medication-instructions {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.primary};
        font-style: italic;
        margin-top: 10px;
        padding: 10px;
        background-color: #f0f8ff;
        border-radius: 4px;
        border-left: 3px solid ${a.colors.accent};
      }
      
      .observations {
        margin-bottom: 40px;
        padding: 20px;
        background-color: #fff9e6;
        border-radius: 8px;
        border: 1px solid #ffd700;
      }
      
      .observations-title {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 10px;
      }
      
      .observations-text {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.secondary};
        line-height: 1.6;
      }
      
      .footer {
        position: absolute;
        bottom: ${t.margins.bottom}px;
        left: ${t.margins.left}px;
        right: ${t.margins.right}px;
        text-align: center;
        padding-top: 20px;
        border-top: 1px solid #e0e0e0;
      }
      
      .signature-area {
        margin-top: 40px;
        text-align: center;
      }
      
      .signature-line {
        width: 300px;
        height: 1px;
        background-color: ${a.colors.secondary};
        margin: 40px auto 10px;
      }
      
      .signature-text {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .date-location {
        margin-top: 30px;
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      @media print {
        .receita-container {
          margin: 0;
          padding: 20px;
        }
        
        body {
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
        }
      }
    `}generateHeader(r,t,a){const{header:s,branding:i}=r;if(!s.showLogo&&!s.showDoctorInfo)return"";let o="";s.showLogo&&(a!=null&&a.data)&&(o=`<img src="${a.data}" alt="Logo" class="header-logo" />`);let l="";return s.showDoctorInfo&&(l=`
        <div class="header-info">
          <div class="clinic-name">${i.clinicName||(t==null?void 0:t.nome)||"Clnica Mdica"}</div>
          <div class="clinic-details">
            ${i.clinicAddress?`<div>${i.clinicAddress}</div>`:""}
            ${i.clinicPhone?`<div>Tel: ${i.clinicPhone}</div>`:""}
            ${i.clinicEmail?`<div>Email: ${i.clinicEmail}</div>`:""}
          </div>
        </div>
      `),`
      <div class="header">
        ${o}
        ${l}
      </div>
    `}generateContent(r,t,a){const s=this.generateDoctorInfo(r.medico,a),i=this.generatePatientInfo(t,a),o=this.generateMedications(r.itens||[],a),l=this.generateObservations(r.observacoes,a);return`
      ${s}
      ${i}
      <div class="prescription-title">Receita Mdica</div>
      ${o}
      ${l}
    `}generateDoctorInfo(r,t){var a,s;return r?`
      <div class="doctor-info">
        <div class="doctor-name">Dr(a). ${r.nome||((a=r.user)==null?void 0:a.first_name)+" "+((s=r.user)==null?void 0:s.last_name)}</div>
        <div class="doctor-details">
          ${r.crm?`CRM: ${r.crm}`:""}
          ${r.especialidade?` | ${r.especialidade}`:""}
        </div>
      </div>
    `:""}generatePatientInfo(r,t){var s,i;if(!r)return"";const a=this.calculateAge(r.data_nascimento);return`
      <div class="patient-info">
        <div class="patient-name">Paciente: ${r.nome||((s=r.user)==null?void 0:s.first_name)+" "+((i=r.user)==null?void 0:i.last_name)}</div>
        <div class="patient-details">
          ${a?`<div>Idade: ${a} anos</div>`:""}
          ${r.cpf?`<div>CPF: ${r.cpf}</div>`:""}
          ${r.telefone?`<div>Telefone: ${r.telefone}</div>`:""}
          ${r.endereco?`<div>Endereo: ${r.endereco}</div>`:""}
        </div>
      </div>
    `}generateMedications(r,t){return!r||r.length===0?'<div class="medications"><p>Nenhum medicamento prescrito.</p></div>':`<div class="medications">${r.map((s,i)=>`
      <div class="medication-item">
        <div class="medication-name">${i+1}. ${s.medicamento||s.nome}</div>
        ${s.dosagem?`<div class="medication-details">Dosagem: ${s.dosagem}</div>`:""}
        ${s.frequencia?`<div class="medication-details">Frequncia: ${s.frequencia}</div>`:""}
        ${s.duracao?`<div class="medication-details">Durao: ${s.duracao}</div>`:""}
        ${s.instrucoes?`<div class="medication-instructions">${s.instrucoes}</div>`:""}
      </div>
    `).join("")}</div>`}generateObservations(r,t){return r?`
      <div class="observations">
        <div class="observations-title">Observaes:</div>
        <div class="observations-text">${r}</div>
      </div>
    `:""}generateFooter(r,t){var o,l;const{footer:a}=r;if(!a.showSignature&&!a.showDate)return"";let s="";a.showSignature&&(s=`
        <div class="signature-area">
          <div class="signature-line"></div>
          <div class="signature-text">
            Dr(a). ${(t==null?void 0:t.nome)||((o=t==null?void 0:t.user)==null?void 0:o.first_name)+" "+((l=t==null?void 0:t.user)==null?void 0:l.last_name)}
            ${t!=null&&t.crm?`<br>CRM: ${t.crm}`:""}
          </div>
        </div>
      `);let i="";return a.showDate&&(i=`<div class="date-location">Data: ${new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}</div>`),`
      <div class="footer">
        ${s}
        ${i}
      </div>
    `}calculateAge(r){if(!r)return null;const t=new Date(r),a=new Date;let s=a.getFullYear()-t.getFullYear();const i=a.getMonth()-t.getMonth();return(i<0||i===0&&a.getDate()<t.getDate())&&s--,s}async generatePDF(r,t,a,s){try{const i=this.loadMedicoTemplate(s),o=this.generateReceitaHTML(r,t,a,s),l=document.createElement("div");l.innerHTML=o,l.style.position="absolute",l.style.left="-9999px",l.style.top="-9999px",document.body.appendChild(l);const A=i.layout.orientation==="landscape"?"l":"p",d=i.layout.pageSize.toLowerCase(),f=new ar({orientation:A,unit:"mm",format:d}),h=await ly(l.querySelector(".receita-container"),{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),m=h.toDataURL("image/png"),p=f.internal.pageSize.getWidth(),v=h.height*p/h.width;return f.addImage(m,"PNG",0,0,p,v),document.body.removeChild(l),f.output("blob")}catch(i){throw console.error("Erro ao gerar PDF:",i),new Error("Falha na gerao do PDF: "+i.message)}}savePDF(r,t="receita-medica.pdf"){const a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}previewPDF(r){const t=URL.createObjectURL(r);window.open(t,"_blank")}}const S0=new uk,fk=Object.freeze(Object.defineProperty({__proto__:null,PdfTemplateService:uk,default:S0,pdfTemplateService:S0},Symbol.toStringTag,{value:"Module"})),cy={getAll:async(e={})=>{try{return(await Ce.get("/medicamentos/",{params:e})).data}catch(r){throw console.error("Erro ao buscar medicamentos:",r),r}},getById:async e=>{try{return(await Ce.get(`/medicamentos/${e}/`)).data}catch(r){throw console.error("Erro ao buscar medicamento:",r),r}},search:async e=>{try{const r=await Ce.get("/medicamentos/",{params:{search:e,page_size:10}});return r.data.results||r.data}catch(r){throw console.error("Erro ao buscar medicamentos:",r),r}},create:async e=>{try{return(await Ce.post("/medicamentos/",e)).data}catch(r){throw console.error("Erro ao criar medicamento:",r),r}},update:async(e,r)=>{try{return(await Ce.put(`/medicamentos/${e}/`,r)).data}catch(t){throw console.error("Erro ao atualizar medicamento:",t),t}},delete:async e=>{try{return(await Ce.patch(`/medicamentos/${e}/`,{ativo:!1})).data}catch(r){throw console.error("Erro ao deletar medicamento:",r),r}}},ur={async getPerfil(){var o,l,A,d,f,h;const e="/api/medicos/",r=e.endsWith("/")?e:`${e}/`,t="".toLowerCase()==="true",a="".toLowerCase()==="true";let s=ra.getCurrentUser();if(!(s!=null&&s.id))try{const m=await ra.refreshCurrentUser();m!=null&&m.id&&(s=m)}catch{}if(s!=null&&s.id){const m="user,user__id,user_id,usuario,usuario_id".split(",").map(p=>p.trim()).filter(Boolean);for(const p of m)try{const v=await Ce.get(r,{params:{[p]:s.id}}),x=Array.isArray((o=v.data)==null?void 0:o.results)?v.data.results:v.data;if(Array.isArray(x)){const w=x.find(j=>{var N,S;return((N=j==null?void 0:j.user)==null?void 0:N.id)===s.id||((S=j==null?void 0:j.usuario)==null?void 0:S.id)===s.id||(j==null?void 0:j.user)===s.id||(j==null?void 0:j.usuario)===s.id});if(w)return w;continue}if(x&&typeof x=="object"){const w=x;if(((l=w==null?void 0:w.user)==null?void 0:l.id)===s.id||((A=w==null?void 0:w.usuario)==null?void 0:A.id)===s.id||(w==null?void 0:w.user)===s.id||(w==null?void 0:w.usuario)===s.id)return w;continue}}catch{}}if(t)try{return(await Ce.get(`${r}me/`)).data}catch(m){if(((d=m==null?void 0:m.response)==null?void 0:d.status)!==404)throw m}let i=null;if(a){const m=[],p="/api/users/".trim();if(p)if(p.includes("/me"))m.push(p);else{const v=p.endsWith("/")?p:`${p}/`;m.push(`${v}me/`)}m.push("/users/me/"),m.push("/auth/user/");for(const v of m)try{if(i=(await Ce.get(v)).data,i&&!i.id){const w=Array.isArray(i==null?void 0:i.results)?i.results[0]:Array.isArray(i)?i[0]:null;w!=null&&w.id&&(i=w)}if(i!=null&&i.id)break}catch{}}try{const m=await Ce.get(r),p=Array.isArray((f=m.data)==null?void 0:f.results)?m.data.results:m.data;if(Array.isArray(p)&&p.length){const v=(i==null?void 0:i.id)||((h=ra.getCurrentUser())==null?void 0:h.id);if(v){const x=p.find(w=>{var j,N;return((j=w==null?void 0:w.user)==null?void 0:j.id)===v||((N=w==null?void 0:w.usuario)==null?void 0:N.id)===v});if(x)return x}return null}}catch{}return null},async getPacientes(e={}){return(await Ce.get("/api/pacientes/",{params:e})).data},async getPacientesVinculados(e){const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;return(await Ce.get(`${t}${e}/pacientes/`)).data},async getConsultas(e={}){return(await Ce.get("/api/consultas/",{params:e})).data},async getConsultasDoMedico(e={}){var l,A,d,f;const r=await this.getPerfil();let t=null;if((l=r==null?void 0:r.medico)!=null&&l.id?t=r.medico.id:r&&typeof r=="object"&&"crm"in r&&(t=r.id),!t){const h=((A=r==null?void 0:r.user)==null?void 0:A.id)||(r==null?void 0:r.id);if(h)try{const m="/api/medicos/",p=m.endsWith("/")?m:`${m}/`,v="user,user__id,user_id,usuario,usuario_id".split(",").map(x=>x.trim()).filter(Boolean);for(const x of v)try{const w=await Ce.get(p,{params:{[x]:h}}),j=Array.isArray((d=w.data)==null?void 0:d.results)?w.data.results:w.data;if((f=j==null?void 0:j[0])!=null&&f.id){t=j[0].id;break}}catch{}}catch{}}const a={...e};t&&!a.medico&&!a.medico_id&&(a.medico=t,a.medico_id=t);const s=a.date||a.data||a.dia;return s&&(a.date=s,a.data=s,a.dia=s,a.data__date=s),(await Ce.get("/api/consultas/",{params:a})).data},async getConsultasHoje(e){var d,f,h,m;const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;let a=e;if(!a){const p=await this.getPerfil();if((d=p==null?void 0:p.medico)!=null&&d.id?a=p.medico.id:p&&typeof p=="object"&&"crm"in p&&(a=p.id),!a){const v=((f=p==null?void 0:p.user)==null?void 0:f.id)||(p==null?void 0:p.id);if(v)try{const x="user,user__id,user_id,usuario,usuario_id".split(",").map(w=>w.trim()).filter(Boolean);for(const w of x)try{const j=await Ce.get(t,{params:{[w]:v}}),N=Array.isArray((h=j.data)==null?void 0:h.results)?j.data.results:j.data;if((m=N==null?void 0:N[0])!=null&&m.id){a=N[0].id;break}}catch{}}catch{}}}const s="false".toLowerCase()==="true";if(a&&s)try{return(await Ce.get(`${t}${a}/consultas_hoje/`)).data}catch{}const i=new Date,o=p=>String(p).padStart(2,"0"),l=`${i.getFullYear()}-${o(i.getMonth()+1)}-${o(i.getDate())}`;return await this.getConsultasDoMedico({date:l})},async getDashboard(){try{const e=new Date,r=o=>String(o).toString().padStart(2,"0"),t=`${e.getFullYear()}-${r(e.getMonth()+1)}-${r(e.getDate())}`,a=await this.getConsultasDoMedico({date:t}),s=Array.isArray(a)?a:Array.isArray(a==null?void 0:a.results)?a.results:[];return{proximas:Array.isArray(s)?s.map(o=>({id:o.id||o.consulta_id||o.uuid,paciente:o.paciente,data_hora:o.data_hora,status:o.status})):[]}}catch{return{proximas:[]}}},async iniciarConsulta(e){if(!e)throw new Error("consultaId  obrigatrio");const r="/consultas/",t=[{method:"post",url:`${r}${e}/iniciar/`,data:void 0},{method:"post",url:`${r}${e}/start/`,data:void 0},{method:"patch",url:`${r}${e}/`,data:{status:"em_andamento"}},{method:"put",url:`${r}${e}/iniciar/`,data:void 0}];let a=null;for(const s of t)try{return(await Ce[s.method](s.url,s.data)).data}catch(i){a=i}throw a||new Error("No foi possvel iniciar a consulta")},async finalizarConsulta(e){if(!e)throw new Error("consultaId  obrigatrio");const t=`/consultas/${e}/finalizar/`;return(await Ce.post(t)).data},async sumarizarConsulta(e,r={}){if(!e)throw new Error("consultaId  obrigatrio");const t="/consultas/",a=[`${t}${e}/sumarizar/`,`${t}${e}/resumir/`,`${t}${e}/summary/`];let s=null;for(const i of a)try{const{data:o}=await Ce.post(i,r);return o}catch(o){s=o}throw s||new Error("Endpoint de sumarizao no disponvel")},async criarProntuario(e){var A;const r="/api/prontuarios/".replace(/\/?$/,"/"),t={...e||{}},a={};for(const[d,f]of Object.entries(t))f!=null&&(typeof f=="string"&&f.trim()===""||(a[d]=typeof f=="string"?f.trim():f));const s=a.consulta_id||a.consulta;s&&(a.consulta_id=s,a.consulta=s);const i=[{method:"post",url:r},{method:"put",url:r},{method:"patch",url:r}],o=r.replace(/prontuarios\/?$/i,"prontuario/");o!==r&&(i.push({method:"post",url:o}),i.push({method:"put",url:o}),i.push({method:"patch",url:o}));let l=null;for(const d of i)try{const{data:f}=await Ce[d.method](d.url,a);return f}catch(f){const h=(A=f==null?void 0:f.response)==null?void 0:A.status;if(h&&[400,422].includes(h)){const m={};s&&(m.consulta_id=s,m.consulta=s);const p=a.queixa_principal||a.queixa,v=a.historia_doenca_atual||a.historia,x=a.diagnostico_principal||a.diagnostico,w=a.conduta||a.plano,j=a.medicamentos_uso||a.medicamentos;p&&(m.queixa_principal=p),v&&(m.historia_doenca_atual=v),x&&(m.diagnostico_principal=x),w&&(m.conduta=w),j&&(m.medicamentos_uso=j),a.alergias&&(m.alergias=a.alergias),a.exames_solicitados&&(m.exames_solicitados=a.exames_solicitados),a.data_retorno&&(m.data_retorno=a.data_retorno);try{const{data:N}=await Ce[d.method](d.url,m);return N}catch(N){l=N}}else if(h===405){l=f;continue}else if(h===404){l=f;continue}else{l=f;break}}throw l||new Error("Falha ao criar pronturio: nenhum endpoint compatvel encontrado.")},async criarReceita(e={}){var j,N,S,F,T,D,k,P,E;if("false".toLowerCase()==="true"){try{console.debug("[medicoService.criarReceita] criao desabilitada por VITE_RECEITAS_CREATE_DISABLED=true")}catch{}return{ok:!1,disabled:!0}}const t="/api/receitas/".replace(/\/?$/,"/"),a="/api/pacientes/".replace(/\/?$/,"/"),s="/api/consultas/".replace(/\/?$/,"/"),i="true".toLowerCase()==="true",o={...e},l=o.paciente_id||o.paciente,A=o.consulta_id||o.consulta,d={...o};!d.paciente_id&&l&&(d.paciente_id=l),!d.paciente&&l&&(d.paciente=l),!d.consulta_id&&A&&(d.consulta_id=A),!d.consulta&&A&&(d.consulta=A),!d.medicamentos&&o.medicamento&&(d.medicamentos=o.medicamento),!d.medicamento&&o.medicamentos&&(d.medicamento=o.medicamentos),!d.validade&&o.validade_receita&&(d.validade=o.validade_receita);try{const V=d.medico_id||d.medico||await this._resolveMedicoId().catch(()=>null);V&&(d.medico_id||(d.medico_id=V),d.medico||(d.medico=V))}catch{}if(!d.consulta_id&&!d.consulta&&(d.paciente_id||d.paciente))try{const V=d.paciente_id||d.paciente,Q=d.medico_id||d.medico||null,$=(()=>{const R=new Date,ee=R.getFullYear(),K=String(R.getMonth()+1).padStart(2,"0"),z=String(R.getDate()).padStart(2,"0");return`${ee}-${K}-${z}`})(),G=await this._ensureConsultaId(V,Q,$);if(G&&(d.consulta_id=G,d.consulta=G,i))try{console.debug("[medicoService.criarReceita] consulta_id resolvido automaticamente:",G)}catch{}}catch(V){if(i)try{console.warn("[medicoService.criarReceita] no foi possvel resolver consulta_id automaticamente",(j=V==null?void 0:V.response)==null?void 0:j.status)}catch{}}const f=[],h="/api/receitas/".trim();h&&f.push(h),f.push(t),f.push(`${t}criar/`),f.push(`${t}create/`),f.push(`${t}gerar/`),f.push(`${t}preview/`),f.push(`${t}gerar-documento/`),f.push(`${t}pdf/`);const m=t.replace(/receitas\/?$/i,"receita/"),p=Array.from(new Set([m,"/receita/"].filter(Boolean)));for(const V of p){const Q=V.replace(/\/?$/,"/");f.push(Q),f.push(`${Q}criar/`),f.push(`${Q}create/`)}if(A&&f.push(`${s}${A}/receitas/`),l&&f.push(`${a}${l}/receitas/`),i){try{console.debug("[medicoService.criarReceita] payload:",d)}catch{}try{console.debug("[medicoService.criarReceita] candidatos:",f)}catch{}}let v=null,x=null;const w=new Set;for(const V of f){if(!V)continue;const Q=V.endsWith("/")?V:`${V}/`,$=["post","put","patch"];for(const G of $){x=`${G.toUpperCase()} ${Q}`;try{if(i)try{console.debug("[medicoService.criarReceita] tentando:",x)}catch{}if(/\/(gerar|preview|pdf)\/?$/.test(Q)){const ee=await Ce[G](Q,d,{responseType:"json"}),K=ee==null?void 0:ee.data;if(i)try{console.debug("[medicoService.criarReceita] sucesso (gen):",x,"",K)}catch{}return K}else{const{data:ee}=await Ce[G](Q,d);if(i)try{console.debug("[medicoService.criarReceita] sucesso:",x,"",ee)}catch{}return ee}}catch(R){const ee=(N=R==null?void 0:R.response)==null?void 0:N.status;if(i)try{console.warn("[medicoService.criarReceita] falhou:",x,"status=",ee,"detail=",((S=R==null?void 0:R.response)==null?void 0:S.data)||(R==null?void 0:R.message))}catch{}if(ee&&[400,422].includes(ee)){const K=`${G}:${Q}`;if(!w.has(K)){w.add(K);const z={},X=d.paciente_id||d.paciente,ne=d.medico_id||d.medico,ue=d.medicamentos||d.medicamento,_=d.validade||d.validade_receita;if(X&&(z.paciente=X,z.paciente_id=X),ne&&(z.medico=ne,z.medico_id=ne),ue&&(z.medicamentos=ue,z.medicamento=ue),d.posologia&&(z.posologia=d.posologia),_&&(z.validade=_),d.observacoes&&(z.observacoes=d.observacoes),d.consulta_id||d.consulta){const I=d.consulta_id||d.consulta;z.consulta=I,z.consulta_id=I}try{if(i)try{console.debug("[medicoService.criarReceita] retry minimal:",G.toUpperCase(),Q,z)}catch{}const I=await Ce[G](Q,z),W=I==null?void 0:I.data;if(i)try{console.debug("[medicoService.criarReceita] sucesso (minimal):",G.toUpperCase(),Q,W)}catch{}return W}catch(I){if(i)try{console.warn("[medicoService.criarReceita] falhou (minimal):",G.toUpperCase(),Q,(F=I==null?void 0:I.response)==null?void 0:F.status,((T=I==null?void 0:I.response)==null?void 0:T.data)||(I==null?void 0:I.message))}catch{}try{const W=(D=I==null?void 0:I.response)==null?void 0:D.data,te=typeof W=="string"&&W||(W==null?void 0:W.detail)||(W==null?void 0:W.message)||(I==null?void 0:I.message)||"Erro desconhecido",J=W&&typeof W=="object"?` | body=${JSON.stringify(W)}`:typeof W=="string"?` | body=${W}`:"";I.message=`Falha ao criar receita (minimal, ltima tentativa: ${x||""})  [${ee||""}] ${te}${J}`}catch{}v=I;continue}}try{const z=(k=R==null?void 0:R.response)==null?void 0:k.data,X=typeof z=="string"&&z||(z==null?void 0:z.detail)||(z==null?void 0:z.message)||(R==null?void 0:R.message)||"Erro desconhecido",ne=z&&typeof z=="object"?` | body=${JSON.stringify(z)}`:typeof z=="string"?` | body=${z}`:"";R.message=`Falha ao criar receita (ltima tentativa: ${x||""})  [${ee||""}] ${X}${ne}`}catch{}continue}if(ee===404){v=R;break}if(ee===405){v=R;continue}if(ee===401)throw R;if(ee&&[400,422].includes(ee)){v=R;continue}v=R;break}}}if(v){const V=(P=v==null?void 0:v.response)==null?void 0:P.status,Q=(E=v==null?void 0:v.response)==null?void 0:E.data,$=typeof Q=="string"&&Q||(Q==null?void 0:Q.detail)||(Q==null?void 0:Q.message)||(v==null?void 0:v.message)||"Erro desconhecido",G=Q&&typeof Q=="object"?` | body=${JSON.stringify(Q)}`:"";throw new Error(`Falha ao criar receita (ltima tentativa: ${x||""})  [${V||""}] ${$}${G}`)}throw new Error("Falha ao criar receita: nenhum endpoint compatvel encontrado.")},async salvarItensReceita(e,r=[]){var f,h;if(!e)throw new Error("receitaId  obrigatrio para salvar itens.");if(!Array.isArray(r)||r.length===0)return{count:0,results:[]};const t="true".toLowerCase()==="true",a="/api/receitas/".replace(/\/?$/,"/"),s="/api/receitaitem/".trim(),i=r.map(m=>{var x;const p=m.medicamento_id||((x=m.medicamento)==null?void 0:x.id)||m.medicamento;return{receita:e,receita_id:e,medicamento_id:p,medicamento:p,nome:m.nome||m.medicamento_nome||m.descricao||m.texto||m.medicamento||m.medicamentos,medicamento_nome:m.medicamento_nome||m.nome||m.descricao||m.texto,descricao:m.descricao||m.texto||m.nome||m.medicamento,posologia:m.posologia||m.instrucoes||m.indicacoes,dose:m.dose||m.dosagem,frequencia:m.frequencia||m.freq||m.intervalo,duracao:m.duracao||m.dias||m.periodo,observacoes:m.observacoes||m.obs||m.nota}});for(let m=0;m<i.length;m++){const p=i[m];if(!p.medicamento_id){const x=(p.nome||p.medicamento_nome||p.descricao||"").toString().trim();if(!x)continue;let w=null;try{const j=await cy.search(x).catch(()=>[]),N=Array.isArray(j)?j:Array.isArray(j==null?void 0:j.results)?j.results:[],S=N.find(F=>String((F==null?void 0:F.nome)||"").toLowerCase()===x.toLowerCase())||N[0];S&&S.id&&(w=S.id)}catch{}if(!w)try{const j=await cy.create({nome:x,ativo:!0});w=(j==null?void 0:j.id)||null}catch{}w&&(p.medicamento_id=w,p.medicamento=w)}}const o=[];s&&o.push(s),o.push(`${a}${e}/itens/`),o.push(`${a}${e}/items/`),o.push(`${a}${e}/receitaitens/`),o.push("/api/receitaitem/"),o.push("/receitaitem/"),o.push("/api/receitas/itens/"),o.push("/receitas/itens/"),o.push("/meu_app_receitaitem/");let l=null;for(const m of o){if(!m)continue;const p=m.endsWith("/")?m:`${m}/`;try{if(t)try{console.debug("[salvarItensReceita] POST bulk ->",p)}catch{}const v={itens:i,receita:e,receita_id:e},{data:x}=await Ce.post(p,v);return x||{count:i.length,results:i}}catch(v){if(((f=v==null?void 0:v.response)==null?void 0:f.status)===401)throw v;l=v;continue}}const A=[s?s.replace(/\/?$/,"/"):null,"/api/receitaitem/","/receitaitem/","/api/receitas/itens/","/receitas/itens/","/meu_app_receitaitem/"].filter(Boolean),d=[];for(const m of i){let p=null,v=null;for(const x of A){const w=x.endsWith("/")?x:`${x}/`;try{if(t)try{console.debug("[salvarItensReceita] POST single ->",w,m)}catch{}const{data:j}=await Ce.post(w,m);p=j||m;break}catch(j){if(((h=j==null?void 0:j.response)==null?void 0:h.status)===401)throw j;v=j;continue}}p?d.push(p):(v&&(l=v),d.push(m))}if(l&&d.length===0)throw l;return{count:d.length,results:d}},async salvarArquivoAssinado(e,r,t="receita_assinada.pdf"){var h;if(!e)throw new Error("receitaId  obrigatrio para salvar arquivo assinado.");if(!r)throw new Error("Arquivo assinado (Blob/File)  obrigatrio.");const a="true".toLowerCase()==="true",s="/api/receitas/",i=s.endsWith("/")?s:`${s}/`,o="".trim(),l=r instanceof File?r:new File([r],t,{type:"application/pdf"}),A=new FormData;A.append("arquivo_assinado",l,t),A.append("pdf_assinado",l,t),A.append("documento_assinado",l,t),A.append("file",l,t),A.append("pdf",l,t),A.append("documento",l,t),A.append("receita",e),A.append("receita_id",e),A.append("id",e);const d=[];o&&d.push(o),d.push(`${i}${e}/arquivo-assinado/`),d.push(`${i}${e}/arquivo/`),d.push(`${i}${e}/upload/`),d.push(`${i}${e}/anexos/`),d.push(`${i}${e}/`),d.push(`/api/receitas/${e}/`);let f=null;for(const m of d){if(!m)continue;const p=m.endsWith("/")?m:`${m}/`,v=["post","put","patch"];for(const x of v)try{if(a)try{console.debug(`[salvarArquivoAssinado] ${x.toUpperCase()} ->`,p)}catch{}const{data:w}=await Ce[x](p,A);return w||{ok:!0}}catch(w){const j=(h=w==null?void 0:w.response)==null?void 0:h.status;if(j===401)throw w;if(j===404){f=w;break}if(j===405){f=w;continue}if(j&&[400,422].includes(j)){f=w;continue}f=w;break}}throw f||new Error("Falha ao salvar arquivo assinado: nenhum endpoint compatvel.")},async computeSHA256Hex(e){const t=await(e instanceof Blob?e:new Blob([e])).arrayBuffer(),a=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(a);return Array.from(s).map(o=>o.toString(16).padStart(2,"0")).join("")},async gerarDocumentoReceitaLocal(e={}){const r={...e},t=r.nome_paciente||r.paciente_nome||"",a=r.filename||`Receita_${t||"Medica"}.pdf`;try{const s=r.previewSelector||r.elementSelector||"#receita-preview",i=await S0.generatePDFFromElement(s,{pageSize:"a4",orientation:"portrait",scale:Number(r.scale||2)});return{filename:a,blob:i}}catch{const i={medicamento:r.medicamento||r.medicamentos,medicamentos:r.medicamentos||r.medicamento,posologia:r.posologia||r.orientacoes,observacoes:r.observacoes,validade_receita:r.validade_receita||r.validade,data_prescricao:r.data_prescricao||r.data_emissao||new Date().toISOString(),itens:r.itens||[]},o={nome:r.medico_nome||r.medico,crm:r.medico_crm||r.crm,especialidade:r.especialidade||"",endereco_consultorio:r.endereco_consultorio||"",telefone_consultorio:r.telefone_consultorio||"",email:r.email_medico||""},l={nome:t||r.paciente,idade:r.idade,cpf:r.cpf,data_nascimento:r.data_nascimento,endereco:r.endereco_paciente||"",telefone:r.telefone_paciente||""},A=r.medico_id||r.medico||await this._resolveMedicoId().catch(()=>"default"),d=await S0.generatePDF(i,o,l,A);return{filename:a,blob:d}}},async gerarDocumentoReceita(e={}){var v,x,w;const r="true".toLowerCase()==="true",t="/api/receitas/".replace(/\/?$/,"/"),a={...e},s=a.paciente_id||a.paciente,i=a.consulta_id||a.consulta,o=(a.formato||"pdf").toLowerCase(),l={...a};!l.paciente_id&&s&&(l.paciente_id=s),!l.paciente&&s&&(l.paciente=s),!l.consulta_id&&i&&(l.consulta_id=i),!l.consulta&&i&&(l.consulta=i),!l.medicamentos&&a.medicamento&&(l.medicamentos=a.medicamento),!l.medicamento&&a.medicamentos&&(l.medicamento=a.medicamentos),!l.validade&&a.validade_receita&&(l.validade=a.validade_receita),a.nome_paciente&&!l.paciente_nome&&(l.paciente_nome=a.nome_paciente),a.medico&&!l.medico_nome&&(l.medico_nome=a.medico),a.crm&&!l.medico_crm&&(l.medico_crm=a.crm),l.formato=o;try{const j=l.medico_id||l.medico||await this._resolveMedicoId().catch(()=>null);j&&(l.medico_id||(l.medico_id=j),l.medico||(l.medico=j))}catch{}const A=[],d="/api/receitas/gerar/".trim();d&&A.push(d),A.push(`${t}pdf/`),A.push(`${t}gerar/`),A.push(`${t}documento/`),A.push("/api/gerar-receita/"),(j=>{const N=j.replace(/\/?$/,"/");A.push(`${N}generate/`),A.push(`${N}preview/`)})(t);const h=t.replace(/receitas\/?$/i,"receita/");if(h!==t&&(A.push(`${h}pdf/`),A.push(`${h}gerar/`)),r)try{console.debug("[medicoService.gerarDocumentoReceita] candidatos:",A)}catch{}const m=async j=>{var D,k,P,E,V,Q,$;const N=((D=j.headers)==null?void 0:D["content-type"])||((P=(k=j.headers)==null?void 0:k.get)==null?void 0:P.call(k,"content-type"))||"",S=((E=j.headers)==null?void 0:E["content-disposition"])||((Q=(V=j.headers)==null?void 0:V.get)==null?void 0:Q.call(V,"content-disposition"));let F=`receita.${o}`;if(S){const G=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(S);F=decodeURIComponent((G==null?void 0:G[1])||(G==null?void 0:G[2])||F)}if(N.includes("application/json"))try{const G=await new Response(j.data).text(),R=JSON.parse(G),ee=R.file||R.url||R.pdf||R.documento||R.download_url||R.link;if(ee){const K=await Ce.get(ee,{responseType:"blob"}),z=new Blob([K.data],{type:(($=K.headers)==null?void 0:$["content-type"])||(o==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.wordprocessingml.document")});return{filename:F||ee.split("/").pop()||`receita.${o}`,blob:z}}}catch{}const T=new Blob([j.data],{type:N||(o==="pdf"?"application/pdf":"application/octet-stream")});return{filename:F,blob:T}};let p=null;for(const j of A){if(!j)continue;const N=j.endsWith("/")?j:`${j}/`;try{if(r)try{console.debug("[gerarDocumentoReceita] POST",N)}catch{}const S=await Ce.post(N,l,{responseType:"blob"});return await m(S)}catch(S){if(((v=S==null?void 0:S.response)==null?void 0:v.status)===401)throw S;p=S}try{if(r)try{console.debug("[gerarDocumentoReceita] PUT",N)}catch{}const S=await Ce.put(N,l,{responseType:"blob"});return await m(S)}catch(S){if(((x=S==null?void 0:S.response)==null?void 0:x.status)===401)throw S;p=S}try{if(r)try{console.debug("[gerarDocumentoReceita] GET",N)}catch{}const S=await Ce.get(N,{params:l,responseType:"blob"});return await m(S)}catch(S){if(((w=S==null?void 0:S.response)==null?void 0:w.status)===401)throw S;p=S}}try{const{PDFDocument:j,StandardFonts:N,rgb:S}=await ul(async()=>{const{PDFDocument:$,StandardFonts:G,rgb:R}=await import("./index-akRc6aPt.js");return{PDFDocument:$,StandardFonts:G,rgb:R}},[]),F=await j.create(),T=F.addPage([595.28,841.89]),D=await F.embedFont(N.Helvetica),k=($,G,R,ee=12,K=S(0,0,0))=>{T.drawText(String($||""),{x:G,y:R,size:ee,font:D,color:K})};let P=800;k("Receita Mdica",50,P,16),P-=30,k(`Paciente: ${l.nome_paciente||l.paciente_nome||l.paciente_id||""}`,50,P),P-=18,k(`Idade: ${l.idade||""}`,50,P),P-=18,k(`RG/CPF: ${l.rg||l.cpf||""}`,50,P),P-=18,k(`Nascimento: ${l.data_nascimento||""}`,50,P),P-=24,k("Medicamentos",50,P,14),P-=18,k(String(l.medicamentos||l.medicamento||""),50,P),P-=36,k("Posologia",50,P,14),P-=18,k(String(l.posologia||""),50,P),P-=36,l.observacoes&&(k("Observaes",50,P,14),P-=18,k(String(l.observacoes),50,P),P-=36),k(`Mdico: ${l.medico||""}`,50,P),P-=18,k(`CRM: ${l.crm||""}`,50,P),P-=18,k(`Endereo: ${l.endereco_consultorio||""}`,50,P),P-=18,k(`Telefone: ${l.telefone_consultorio||""}`,50,P),P-=24;const E=await F.save(),V=new Blob([E],{type:"application/pdf"});return{filename:`receita.${o}`,blob:V}}catch{throw p||new Error("Falha ao gerar documento de receita: nenhum endpoint compatvel e fallback local indisponvel.")}},async buscarPacientes(e){return(await Ce.get("/api/pacientes/",{params:{search:e}})).data},async atualizarPacienteById(e,r){if(!e)throw new Error("id do paciente  obrigatrio");const t="/api/pacientes/",a=t.endsWith("/")?t:`${t}/`;return(await Ce.patch(`${a}${e}/`,r)).data},async _resolveMedicoId(){var e,r,t,a,s,i;try{const o=await this.getPerfil();if((e=o==null?void 0:o.medico)!=null&&e.id)return o.medico.id;if(o!=null&&o.id&&(o.crm||o.matricula||o.especialidade))return o.id;const l=((r=o==null?void 0:o.user)==null?void 0:r.id)||((t=ra.getCurrentUser())==null?void 0:t.id);if(!l)return null;const A="/api/medicos/",d=A.endsWith("/")?A:`${A}/`,f="user,user__id,user_id,usuario,usuario_id".split(",").map(h=>h.trim()).filter(Boolean);for(const h of f)try{const m=await Ce.get(d,{params:{[h]:l}}),p=Array.isArray((a=m.data)==null?void 0:a.results)?m.data.results:m.data;if(Array.isArray(p)){const v=p.find(x=>{var w,j;return((w=x==null?void 0:x.user)==null?void 0:w.id)===l||((j=x==null?void 0:x.usuario)==null?void 0:j.id)===l||(x==null?void 0:x.user)===l||(x==null?void 0:x.usuario)===l});if(v!=null&&v.id)return v.id;continue}if(p&&typeof p=="object"){const v=p;if((((s=v==null?void 0:v.user)==null?void 0:s.id)===l||((i=v==null?void 0:v.usuario)==null?void 0:i.id)===l||(v==null?void 0:v.user)===l||(v==null?void 0:v.usuario)===l)&&(v!=null&&v.id))return v.id;continue}}catch{}}catch{}return null},async _ensureConsultaId(e,r=null,t=null){var a,s,i,o;try{if(!e)return null;const l="true".toLowerCase()==="true",A=(()=>{if(t&&/^\d{4}-\d{2}-\d{2}$/.test(String(t)))return t;const f=new Date,h=m=>String(m).padStart(2,"0");return`${f.getFullYear()}-${h(f.getMonth()+1)}-${h(f.getDate())}`})(),d="/api/consultas/".replace(/\/?$/,"/");try{const f={paciente:e,paciente_id:e,date:A,data:A,dia:A,data__date:A},h=r||await this._resolveMedicoId().catch(()=>null);h&&(f.medico=h,f.medico_id=h);const m=await Ce.get(d,{params:f}),p=Array.isArray((a=m.data)==null?void 0:a.results)?m.data.results:m.data;if(Array.isArray(p)){const v=p.find(x=>(x==null?void 0:x.id)||(x==null?void 0:x.consulta_id)||(x==null?void 0:x.uuid));if(v){const x=v.id||v.consulta_id||v.uuid;if(l)try{console.debug("[_ensureConsultaId] encontrada consulta existente:",x)}catch{}return x}}}catch(f){if(l)try{console.warn("[_ensureConsultaId] falha ao buscar consulta existente:",(s=f==null?void 0:f.response)==null?void 0:s.status)}catch{}}try{const f=r||await this._resolveMedicoId().catch(()=>null);if(!f){if(l)try{console.warn("[_ensureConsultaId] mdico no resolvido; abortando criao da consulta")}catch{}return null}const h={medico:f,medico_id:f,paciente:e,paciente_id:e,data_hora:`${A}T00:00:00`,tipo:"rotina",motivo:"Emisso de receita automtica"},m=[d];for(const p of m){const v=p.endsWith("/")?p:`${p}/`;try{if(l)try{console.debug("[_ensureConsultaId] criando consulta em:",v,h)}catch{}const{data:x}=await Ce.post(v,h),w=(x==null?void 0:x.id)||(x==null?void 0:x.consulta_id)||(x==null?void 0:x.uuid);if(w){if(l)try{console.debug("[_ensureConsultaId] consulta criada:",w)}catch{}return w}}catch(x){const w=(i=x==null?void 0:x.response)==null?void 0:i.status;if(l)try{console.warn("[_ensureConsultaId] falha ao criar em",v,w,((o=x==null?void 0:x.response)==null?void 0:o.data)||(x==null?void 0:x.message))}catch{}if([401,404,405].includes(w))continue}}}catch(f){if(l)try{console.warn("[_ensureConsultaId] erro inesperado na criao:",f==null?void 0:f.message)}catch{}}return null}catch{return null}},async getCertificadoInfo(){var o,l;const e=[],r="".trim();r&&e.push(r);const t="/api/medicos/",a=t.endsWith("/")?t:`${t}/`;e.push(`${a}me/certificado/`),e.push(`${a}certificado/`),e.push("/medico/certificado/"),e.push("/assinatura/certificado/"),e.push("/certificados/"),e.push("/api/medicos/me/certificado/"),e.push("/api/medicos/certificado/"),e.push("/api/certificados/");let s=null;try{s=await this._resolveMedicoId()}catch{}s&&(e.push(`${a}${s}/certificado/`),e.push(`${a}${s}/assinatura/`),e.push(`/api/medicos/${s}/certificado/`),e.push(`/api/medicos/${s}/assinatura/`));let i=null;for(const A of e){if(!A)continue;const d=A.endsWith("/")?A:`${A}/`;try{const{data:f}=await Ce.get(d),h=Array.isArray(f==null?void 0:f.results)?(o=f.results)==null?void 0:o[0]:Array.isArray(f)?f[0]:f;return h||f||null}catch(f){const h=(l=f==null?void 0:f.response)==null?void 0:l.status;if(h===404){i=f;continue}if(h===401)throw f;i=f}}if(i)throw i;return null},async uploadCertificado(e){var A;let r;if(e instanceof FormData)r=e;else if(e&&e.name)r=new FormData,r.append("file",e),r.append("certificado",e),r.append("pfx",e);else throw new Error("Parmetro invlido:  esperado FormData ou File.");const t=[],a="/api/medicos/me/certificado/".trim();a&&t.push(a);const s="/api/medicos/",i=s.endsWith("/")?s:`${s}/`;t.push(`${i}me/certificado/`),t.push(`${i}certificado/`),t.push("/medico/certificado/"),t.push("/assinatura/certificado/"),t.push("/certificados/");let o=null;try{o=await this._resolveMedicoId()}catch{}o&&(t.push(`${i}${o}/certificado/`),t.push(`${i}${o}/assinatura/`));let l=null;for(const d of t){if(!d)continue;const f=d.endsWith("/")?d:`${d}/`,h=["post","put","patch"];for(const m of h)try{const{data:p}=await Ce[m](f,r);return p}catch(p){const v=(A=p==null?void 0:p.response)==null?void 0:A.status;if(v===404){l=p;break}if(v===405){l=p;continue}if(v===401||v&&[400,422].includes(v))throw p;l=p;break}}throw l||new Error("Falha ao enviar certificado: nenhum endpoint compatvel.")},async enviarReceita({receitaId:e,pacienteId:r,email:t,formato:a="pdf",file:s,filename:i}){var v,x,w,j,N;if(!t&&!r&&!e&&!s)throw new Error("Fornea ao menos email, pacienteId, receitaId ou arquivo para envio.");const o="true".toLowerCase()==="true",l="/api/receitas/".replace(/\/?$/,"/"),A="/api/pacientes/".replace(/\/?$/,"/");if(!e&&r){const S=async D=>{var k;try{const P=await Ce.get(l,{params:D}),E=P==null?void 0:P.data,V=Array.isArray(E)?E:Array.isArray(E==null?void 0:E.results)?E.results:[],Q=V==null?void 0:V[0],$=(Q==null?void 0:Q.id)||(Q==null?void 0:Q.pk)||(Q==null?void 0:Q.uuid)||((k=Q==null?void 0:Q.receita)==null?void 0:k.id);if($)return String($)}catch{}return null},F=[],T=["-created_at","-created","-data","-date","-id","-pk"];for(const D of T)F.push({paciente:r,ordering:D,page_size:1,limit:1}),F.push({paciente_id:r,ordering:D,page_size:1,limit:1});for(const D of F){const k=await S(D);if(k){e=k;break}}o&&e&&console.debug("[medicoService.enviarReceita] receitaId inferido via listagem:",e)}const d=new FormData;if(s){const S=i||s.name||`receita.${a||"pdf"}`;d.append("file",s,S),d.append("pdf",s,S),d.append("documento",s,S)}t&&(d.append("email",t),d.append("to",t),d.append("destinatario",t),d.append("paciente_email",t)),a&&d.append("formato",a),e&&(d.append("id",e),d.append("receita",e),d.append("receita_id",e)),r&&(d.append("paciente",r),d.append("paciente_id",r)),d.append("assinar","true");const f={email:t,to:t,destinatario:t,paciente_email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},h=[],m="/api/receitas/enviar/".trim();m&&h.push(m),e&&(h.push(`${l}${e}/enviar/`),h.push(`${l}${e}/enviar-email/`),h.push(`${l}${e}/enviar_email/`),h.push(`${l}${e}/email/`),h.push(`${l}${e}/send-email/`),h.push(`${l}${e}/send/`)),h.push(`${l}enviar/`),h.push(`${l}enviar-email/`),h.push(`${l}enviar_email/`),h.push(`${l}email/`),h.push(`${l}send-email/`),h.push(`${l}send/`),h.push("/email/receitas/"),h.push("/receitas/email/"),h.push("/email/send/"),h.push("/send-email/"),r&&(h.push(`${A}${r}/receitas/enviar/`),h.push(`${A}${r}/receitas/email/`),h.push(`${A}${r}/receitas/send/`),e&&(h.push(`${A}${r}/receitas/${e}/enviar/`),h.push(`${A}${r}/receitas/${e}/enviar-email/`),h.push(`${A}${r}/receitas/${e}/enviar_email/`),h.push(`${A}${r}/receitas/${e}/email/`),h.push(`${A}${r}/receitas/${e}/send-email/`),h.push(`${A}${r}/receitas/${e}/send/`)));let p=null;for(const S of h){if(!S)continue;const F=S.endsWith("/")?S:`${S}/`,T=k=>{o&&console.debug(`[medicoService.enviarReceita] ${k} ->`,F,{receitaId:e,pacienteId:r,email:t,formato:a})};if(/\/(enviar|email|send(-email)?)\/?$/i.test(F)&&!s)try{T("GET");const k={email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},{data:P}=await Ce.get(F,{params:k});return P}catch(k){if(p=k,((v=k==null?void 0:k.response)==null?void 0:v.status)===401)throw k}try{T("POST multipart");const{data:k}=await Ce.post(F,d);return k}catch(k){const P=(x=k==null?void 0:k.response)==null?void 0:x.status;if(P===401)throw k;P&&[400,422].includes(P),p=k}if(!s)try{T("POST json");const{data:k}=await Ce.post(F,f);return k}catch(k){const P=(w=k==null?void 0:k.response)==null?void 0:w.status;if(P===401)throw k;P&&[400,422].includes(P),p=k}try{T("PUT multipart");const{data:k}=await Ce.put(F,d);return k}catch(k){const P=(j=k==null?void 0:k.response)==null?void 0:j.status;if(P===401)throw k;P&&[400,422].includes(P),p=k}if(!s)try{T("GET fallback");const k={email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},{data:P}=await Ce.get(F,{params:k});return P}catch(k){if(((N=k==null?void 0:k.response)==null?void 0:N.status)===401)throw k;p=k}}throw p||new Error("Falha ao enviar receita: nenhum endpoint compatvel encontrado.")},async ensureMedicoRecord(e={}){var d;const r=ra.getCurrentUser()||await ra.refreshCurrentUser(),t=r==null?void 0:r.id;if(!t)throw new Error("Usurio no autenticado ou no disponvel.");try{const f=await this._resolveMedicoId();if(f){const h="/api/medicos/",m=h.endsWith("/")?h:`${h}/`;try{return(await Ce.get(`${m}${f}/`)).data||{id:f}}catch{return{id:f}}}}catch{}const a="/api/medicos/",s=a.endsWith("/")?a:`${a}/`,i={...e};i.user=i.user||t,i.user_id=i.user_id||t,i.usuario=i.usuario||t,i.usuario_id=i.usuario_id||t;const o=String(i.status||i.situacao||i.state||"pending").toLowerCase();i.status=o,i.situacao=i.situacao||o,i.state=i.state||o;const l=[s,`${s}create/`,"/api/medicos/","/admin/medicos/"];let A=null;for(const f of l){const h=f.endsWith("/")?f:`${f}/`;try{const{data:m}=await Ce.post(h,i),p=(m==null?void 0:m.id)||(m==null?void 0:m.pk)||(m==null?void 0:m.uuid);if(p)try{localStorage.setItem("medico_id",String(p))}catch{}try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return m}catch(m){const p=(d=m==null?void 0:m.response)==null?void 0:d.status;if(p===401)throw m;if(p===405){A=m;continue}if(A=m,Object.values(e||{}).some(x=>x instanceof File||x instanceof Blob))try{const x=new FormData;for(const[N,S]of Object.entries(i))S!=null&&(x.append(N,S),N==="user"&&(x.append("usuario",S),x.append("user_id",S),x.append("usuario_id",S)),N==="status"&&(x.append("situacao",S),x.append("state",S)));const{data:w}=await Ce.post(h,x),j=(w==null?void 0:w.id)||(w==null?void 0:w.pk)||(w==null?void 0:w.uuid);if(j)try{localStorage.setItem("medico_id",String(j))}catch{}try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return w}catch(x){A=x;continue}}}throw A||new Error("Falha ao criar registro do mdico: nenhum endpoint compatvel.")},async ensurePerfilMedico(e={}){var f,h;try{const m=await this.getPerfil();if(m&&(m.id||m.user||m.medico))return m}catch{}const r=ra.getCurrentUser()||await ra.refreshCurrentUser(),t=r==null?void 0:r.id;if(!t)throw new Error("Usurio no autenticado ou no disponvel.");let a=e.medico_id||e.medico||null;if(!a){try{a=await this._resolveMedicoId()}catch{}if(!a)try{const m=await this.ensureMedicoRecord({});a=(m==null?void 0:m.id)||((f=m==null?void 0:m.medico)==null?void 0:f.id)||null}catch{}}const s={...e};s.user=s.user||t,s.user_id=s.user_id||t,s.usuario=s.usuario||t,s.usuario_id=s.usuario_id||t,a&&(s.medico=s.medico||a,s.medico_id=s.medico_id||a);const i=String(s.status||s.situacao||s.state||"pending").toLowerCase();s.status=i,s.situacao=s.situacao||i,s.state=s.state||i;const o=["/perfil-medico/","/perfil/medico/","/perfis/medico/","/profiles/medico/","/api/perfil-medico/","/api/perfil/medico/"],l="/api/medicos/",A=l.endsWith("/")?l:`${l}/`;a&&(o.push(`${A}${a}/perfil/`),o.push(`/api/medicos/${a}/perfil/`)),o.push(`${A}me/perfil/`);let d=null;for(const m of o){const p=m.endsWith("/")?m:`${m}/`,v=["post","put","patch"];for(const x of v)try{const{data:w}=await Ce[x](p,s);try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return w}catch(w){const j=(h=w==null?void 0:w.response)==null?void 0:h.status;if(j===401)throw w;if(j===405){d=w;continue}if(j===404){d=w;break}d=w;break}}throw d||new Error("Falha ao criar perfil do mdico: nenhum endpoint compatvel.")},async ensureMedicoAndPerfil(e={},r={}){var l;const t=ra.getCurrentUser()||await ra.refreshCurrentUser(),a=t==null?void 0:t.id,s=await this.ensureMedicoRecord(e),i=(s==null?void 0:s.id)||((l=s==null?void 0:s.medico)==null?void 0:l.id)||null,o=await this.ensurePerfilMedico({...r,medico_id:r.medico_id||i});try{a&&localStorage.setItem(`medicoApplicationStatus:${a}`,"pending")}catch{}return{medico:s,perfil:o}},async updatePerfilMedico(e={}){var h,m;const r={...e},t=e.telefone||e.celular||e.phone||((h=e.contato)==null?void 0:h.telefone);t!=null&&(r.telefone=t,r.celular||(r.celular=t),r.phone||(r.phone=t),r.contato={...r.contato||{},telefone:t});let a=e.endereco||e.address||e.local;a&&typeof a=="object"&&(a=`${a.logradouro||a.rua||""} ${a.numero||""} ${a.bairro||""} ${a.cidade||""} ${a.estado||""}`.trim()),a!=null&&(r.endereco=a,r.address||(r.address=a),r.local||(r.local=a));const s=e.especialidade??e.especialidade_id??e.especialidade_nome??e.especialidade_label??e.especialidade_obj;if(s!=null){if(typeof s=="number")r.especialidade_id=s;else if(typeof s=="string")r.especialidade=s,r.especialidade_nome=s,r.especialidade_label=s;else if(typeof s=="object"){const p=s.nome||s.label||s.titulo,v=s.id;v!=null&&(r.especialidade_id=v),p&&(r.especialidade=p,r.especialidade_nome=p,r.especialidade_label=p)}}let i=null;try{i=await this._resolveMedicoId()}catch{}const o="/api/medicos/",l=o.endsWith("/")?o:`${o}/`,A=[],d="".trim();d&&A.push(d),A.push(`${l}me/`),i&&A.push(`${l}${i}/`),i&&A.push(`${l}${i}/perfil/`),A.push(`${l}me/perfil/`),A.push("/perfil-medico/"),A.push("/perfil/medico/"),A.push("/perfis/medico/"),A.push("/profiles/medico/"),A.push("/api/perfil-medico/"),A.push("/api/perfil/medico/");let f=null;for(const p of A){if(!p)continue;const v=p.endsWith("/")?p:`${p}/`,x=["patch","put","post"];for(const w of x)try{const{data:j}=await Ce[w](v,r);return j}catch(j){const N=(m=j==null?void 0:j.response)==null?void 0:m.status;if(N===401)throw j;if(N===404){f=j;break}if(N===405){f=j;continue}if(N&&[400,422].includes(N))throw j;f=j;break}}throw f||new Error("Falha ao atualizar dados do mdico: nenhum endpoint compatvel.")},async _applySignatureStampToPdf(e,r={}){var t,a,s;try{const i=String(r.signerName||"Mdico(a)").trim(),o=String(r.dateString||(()=>{const G=new Date,R=ee=>String(ee).padStart(2,"0");return`${G.getFullYear()}.${R(G.getMonth()+1)}.${R(G.getDate())} ${R(G.getHours())}:${R(G.getMinutes())}:${R(G.getSeconds())}`})()),l=r.receitaId||null,A=r.verifyUrl||this.buildVerifyUrl(l),d=r.certInfo||null,{PDFDocument:f,StandardFonts:h,rgb:m}=await ul(async()=>{const{PDFDocument:G,StandardFonts:R,rgb:ee}=await import("./index-akRc6aPt.js");return{PDFDocument:G,StandardFonts:R,rgb:ee}},[]),p=await ul(()=>import("./browser-OINw2i_t.js").then(G=>G.b),[]),v=e instanceof Blob?e:new Blob([await((t=e.arrayBuffer)==null?void 0:t.call(e))]),x=new Uint8Array(await v.arrayBuffer()),w=await f.load(x),j=w.getPages(),N=j[j.length-1],S=await w.embedFont(h.Helvetica),F=await w.embedFont(h.HelveticaBold);let T;try{const R=(await p.default.toDataURL(String(A||""),{errorCorrectionLevel:"H",margin:1,width:256,color:{dark:"#000000",light:"#FFFFFF"}})||"").split(",")[1]||"",ee=Uint8Array.from(atob(R),K=>K.charCodeAt(0));T=await w.embedPng(ee)}catch{}const{width:D,height:k}=N.getSize(),P={x:80,y:80,w:200,h:80},E={x:D-150,y:80,w:80,h:80};N.drawRectangle({x:P.x,y:P.y,width:P.w,height:P.h,color:m(.98,.98,1),borderColor:m(.2,.2,.8),borderWidth:1}),N.drawText("ASSINATURA DIGITAL",{x:P.x+10,y:P.y+P.h-15,size:10,font:F,color:m(.2,.2,.8)});const V=((a=d==null?void 0:d.subject)==null?void 0:a.commonName)||i;N.drawText(`${V}`,{x:P.x+10,y:P.y+P.h-30,size:9,font:S,color:m(0,0,0)});let Q=P.h-45;d!=null&&d.subject&&(d.subject.organizationName&&(N.drawText(`${d.subject.organizationName}`,{x:P.x+10,y:P.y+Q,size:7,font:S,color:m(.3,.3,.3)}),Q-=10),d.subject.emailAddress&&(N.drawText(`${d.subject.emailAddress}`,{x:P.x+10,y:P.y+Q,size:7,font:S,color:m(.3,.3,.3)}),Q-=10)),N.drawText(`${o}`,{x:P.x+10,y:P.y+Q,size:8,font:S,color:m(0,0,0)}),N.drawText("Escaneie para verificar",{x:E.x,y:E.y-15,size:8,font:S,color:m(.5,.5,.5)}),T&&N.drawImage(T,{x:E.x,y:E.y,width:E.w,height:E.h});const $=await w.save();return new Blob([$],{type:"application/pdf"})}catch(i){try{console.warn("[medicoService] selo visual falhou:",(i==null?void 0:i.message)||i)}catch{}return e instanceof Blob?e:new Blob([await((s=e.arrayBuffer)==null?void 0:s.call(e))])}},buildVerifyUrl(e){var r;try{const t="http://127.0.0.1:8000/verificar/".trim();if(t){const s=t.replace(/\/?$/,"/");return e?`${s}${e}`:s}const a="http://127.0.0.1:8000".replace(/\/$/,"");return e?`${a}/receitas/${e}/verificar/`:a||((r=window==null?void 0:window.location)==null?void 0:r.origin)||""}catch{return""}},async applySignatureStamp(e,r={}){return await this._applySignatureStampToPdf(e,r)},async signDocumento(e,r={}){var V,Q,$,G,R,ee,K,z,X,ne;let t;if(e instanceof FormData)t=e;else if(e&&e.name)t=new FormData,t.append("file",e),t.append("documento",e),t.append("pdf",e),t.append("arquivo",e);else throw new Error("Parmetro invlido:  esperado FormData ou File PDF.");try{if((r==null?void 0:r.visibleStamp)!==!1){let _=t.get("file")||t.get("pdf")||t.get("documento");if(!_&&e&&e.name&&(_=e),_){const I=(r==null?void 0:r.receitaId)||(r==null?void 0:r.id)||(r==null?void 0:r.receita)||null;let W=r==null?void 0:r.signerName;if(!W){const Y=await this.getCertificadoInfo().catch(()=>null);W=(Y==null?void 0:Y.subject_name)||(Y==null?void 0:Y.subject)||(Y==null?void 0:Y.nome)||(r==null?void 0:r.medicoNome)||"Mdico(a)"}const te=await this._applySignatureStampToPdf(_,{signerName:W,dateString:new Date().toLocaleString(),receitaId:I}),J=new File([te],_.name||"documento.pdf",{type:"application/pdf"});["file","pdf","documento","arquivo"].forEach(Y=>{t.has(Y)&&t.set(Y,J)})}}}catch{}const a=r.reason||r.motivo,s=r.location||r.local;a&&(t.append("reason",a),t.append("motivo",a)),s&&(t.append("location",s),t.append("local",s));try{t.append("formato","pdf"),t.append("format","pdf"),t.append("tipo","PADES"),t.append("assinar","true")}catch{}const i=ue=>{const _=t instanceof FormData?t.get(ue):null;return typeof _=="string"?_==="true"||_==="1"||_.toLowerCase()==="yes":!!_},o=!!(r.useToken||r.use_token||r.token||r.pkcs11||r.hardware||r.smartcard||i("useToken")||i("use_token")||i("token")||i("pkcs11")||i("hardware")||i("smartcard"));let l=null,A=null;t instanceof FormData&&(l=t.get("pfx")||t.get("certificado")||t.get("pkcs12"),A=t.get("pfx_password")||t.get("senha")||t.get("password"));const d=r&&r.pfxFile instanceof File?r.pfxFile:l,f=(typeof(r==null?void 0:r.pfxPassword)=="string"?r.pfxPassword.trim():"")||(typeof A=="string"?A:""),h=(r.pin||r.tokenPin||r.pin_code||(t instanceof FormData?t.get("pin")||t.get("token_pin")||t.get("pin_code"):"")||"").toString().trim();if(o)t.append("use_token","true"),t.append("pkcs11","true"),t.append("hardware","true"),h&&(t.append("pin",h),t.append("token_pin",h),t.append("pin_code",h)),r.subject&&t.append("subject",r.subject),r.serial&&t.append("serial",r.serial),r.slot&&t.append("slot",String(r.slot)),r.keyId&&t.append("key_id",r.keyId);else{if(!(d instanceof File))throw new Error("Certificado digital (.pfx/.p12)  obrigatrio para assinatura.");if(!f)throw new Error("Senha do certificado PFX/P12  obrigatria para assinatura.");t.append("pfx",d),t.append("certificado",d),t.append("pkcs12",d),t.append("arquivo_pfx",d),t.append("pfx_password",f),t.append("senha",f),t.append("password",f),t.append("senha_certificado",f),t.append("no_persist","true"),t.append("ephemeral","true")}const m=(r==null?void 0:r.receitaId)||(r==null?void 0:r.receita_id)||(r==null?void 0:r.id);m&&(t.append("receita",m),t.append("receita_id",m),t.append("id",m),t.append("id_receita",m));const p="true".toLowerCase()==="true",v=[],x="/api/assinatura/assinar/".trim();x&&v.push(x);const w="/api/medicos/",j=w.endsWith("/")?w:`${w}/`;v.push("/api/assinatura/assinar/"),v.push("/assinatura/assinar/"),v.push("/api/assinar-receita/"),v.push("/assinar-receita/"),v.push("/documentos/assinar/"),v.push("/receitas/assinar/"),v.push(`${j}me/assinar/`),v.push(`${j}assinar/`);let N=null;try{N=await this._resolveMedicoId()}catch{}N&&(v.push(`${j}${N}/assinar/`),v.push(`${j}${N}/assinatura/`));const S=async ue=>{try{const _=await ue.arrayBuffer(),I=new Uint8Array(_);let W="";for(let te=0;te<I.length;te++)W+=String.fromCharCode(I[te]);return btoa(W)}catch{return null}},F=t.get("file")||t.get("pdf")||t.get("documento"),T=t.get("pfx")||t.get("certificado")||t.get("pkcs12"),D=F?await S(F):null,k=T?await S(T):null,P={formato:"pdf",id:m,receita:m,receita_id:m,file_base64:D,pdf_base64:D,documento_base64:D,arquivo_base64:D,pfx_base64:k,certificado_base64:k,pkcs12_base64:k,password:f,senha:f,pfx_password:f,reason:a,motivo:a,location:s,local:s,use_token:o?!0:void 0,pkcs11:o?!0:void 0,hardware:o?!0:void 0,pin:h,token_pin:h||void 0,pin_code:h||void 0,tipo_assinatura:"pades",algoritmo:"sha256"};let E=null;for(const ue of v){if(!ue)continue;const _=ue.endsWith("/")?ue:`${ue}/`,I=["post","put"];for(const W of I)try{p&&console.debug(`[signDocumento] ${W.toUpperCase()} multipart ->`,_);const te=await Ce[W](_,t,{responseType:"blob"}),J=((V=te.headers)==null?void 0:V["content-disposition"])||(($=(Q=te.headers)==null?void 0:Q.get)==null?void 0:$.call(Q,"content-disposition"));let Y="documento_assinado.pdf";if(J){const Z=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(J);try{Y=decodeURIComponent((Z==null?void 0:Z[1])||(Z==null?void 0:Z[2])||Y)}catch{Y=(Z==null?void 0:Z[1])||(Z==null?void 0:Z[2])||Y}}const M=new Blob([te.data],{type:((G=te.headers)==null?void 0:G["content-type"])||"application/pdf"});return{filename:Y,blob:M}}catch(te){const J=(R=te==null?void 0:te.response)==null?void 0:R.status;if(J===404){E=te;break}if(J===405){E=te;continue}if(J===401)throw te;try{p&&console.debug(`[signDocumento] ${W.toUpperCase()} json ->`,_);const Y=await Ce[W](_,P,{responseType:"json"}),M=((ee=Y.headers)==null?void 0:ee["content-type"])||"";if(/application\/pdf/i.test(M)){const ve=((K=Y.headers)==null?void 0:K["content-disposition"])||((X=(z=Y.headers)==null?void 0:z.get)==null?void 0:X.call(z,"content-disposition"));let Ee="documento_assinado.pdf";if(ve){const xe=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(ve);try{Ee=decodeURIComponent((xe==null?void 0:xe[1])||(xe==null?void 0:xe[2])||Ee)}catch{Ee=(xe==null?void 0:xe[1])||(xe==null?void 0:xe[2])||Ee}}const _e=new Blob([Y.data],{type:"application/pdf"});return{filename:Ee,blob:_e}}const Z=Y.data||{},oe=(Z==null?void 0:Z.pdf_base64)||(Z==null?void 0:Z.documento_base64)||(Z==null?void 0:Z.file_base64)||(Z==null?void 0:Z.arquivo_base64)||null;if(oe){const ve=atob(String(oe)),Ee=new Array(ve.length);for(let dt=0;dt<ve.length;dt++)Ee[dt]=ve.charCodeAt(dt);const _e=new Uint8Array(Ee),xe=new Blob([_e],{type:"application/pdf"});return{filename:(Z==null?void 0:Z.filename)||(Z==null?void 0:Z.nome_arquivo)||"documento_assinado.pdf",blob:xe}}const fe=Y==null?void 0:Y.status;if(fe&&[400,422].includes(fe)){E=te;continue}}catch(Y){const M=(ne=Y==null?void 0:Y.response)==null?void 0:ne.status;if(M===404){E=Y;break}if(M===405){E=Y;continue}if(M===401)throw Y;if(M&&[400,422].includes(M)){E=Y;continue}E=Y;break}}}throw E||new Error("Falha ao assinar documento: nenhum endpoint compatvel.")},async atualizarReceita(e,r={}){var A;if(!e)throw new Error("ID da receita  obrigatrio para atualizao.");const t={...r};r.assinada!==void 0&&(t.assinada=!!r.assinada,t.signed=t.signed??t.assinada,t.status=t.assinada?"assinada":t.status||"emitida"),r.hash_alg&&(t.hash_alg=r.hash_alg,t.hash_algorithm=r.hash_algorithm||r.hash_alg,t.algoritmo_hash=r.algoritmo_hash||r.hash_alg),r.hash_pre&&(t.hash_pre=r.hash_pre,t.pre_hash=r.pre_hash||r.hash_pre),r.hash_documento&&(t.hash_documento=r.hash_documento,t.signed_hash=r.signed_hash||r.hash_documento),r.motivo&&(t.motivo=r.motivo),r.observacoes&&(t.observacoes=r.observacoes);const a="/api/receitas/",s=a.endsWith("/")?a:`${a}/`,i=[],o="/api/receitas/".trim();o&&i.push(o.replace(/\/?$/,"/")),i.push(`${s}${e}/`),i.push(`${s}${e}/update/`),i.push(`${s}${e}/editar/`),i.push(`/api/receitas/${e}/`),i.push(`/receitas/${e}/`),i.push(`/api/meu_app_receita/${e}/`),i.push(`/meu_app_receita/${e}/`);let l=null;for(const d of i){if(!d)continue;const f=d.endsWith("/")?d:`${d}/`,h=["patch","put","post"];for(const m of h)try{const{data:p}=await Ce[m](f,t);return p}catch(p){const v=(A=p==null?void 0:p.response)==null?void 0:A.status;if(v===401)throw p;if(v===404){l=p;break}if(v===405){l=p;continue}if(v&&[400,422].includes(v))throw p;l=p;break}}throw l||new Error("Falha ao atualizar receita: nenhum endpoint compatvel.")},async registrarAuditoriaAssinatura(e={}){var d;const r=ra.getCurrentUser()||await ra.refreshCurrentUser(),t=r==null?void 0:r.id;let a=null;try{a=await this._resolveMedicoId()}catch{}const s={...e};t&&(s.usuario=s.usuario||t,s.usuario_id=s.usuario_id||t,s.user=s.user||t,s.user_id=s.user_id||t),a&&(s.medico=s.medico||a,s.medico_id=s.medico_id||a),s.tipo=s.tipo||"assinatura_receita",s.event=s.event||s.tipo,s.assinada=s.assinada??!0,s.timestamp=s.timestamp||new Date().toISOString();const i="/api/auditoria/assinaturas/",l=[i.endsWith("/")?i:`${i}/`,"/api/auditoria/assinaturas/","/logs/assinatura/","/auditoria/receitas/","/audit/assinaturas/"];let A=null;for(const f of l){const h=f.endsWith("/")?f:`${f}/`;try{const{data:m}=await Ce.post(h,s);return m}catch(m){const p=(d=m==null?void 0:m.response)==null?void 0:d.status;if(p===401)throw m;if(p===404||p===405){A=m;continue}if(p&&[400,422].includes(p))throw m;A=m}}throw A||new Error("Falha ao registrar auditoria de assinatura: nenhum endpoint compatvel.")},async finalizarAssinaturaExterna({receitaId:e,pdfFile:r,assinatura:t,certificado:a}){var d;const s=new FormData;s.append("file",r),s.append("assinatura_externa",t),s.append("certificado_externo",a),s.append("receita_id",e);const i=await Ce.post("/api/assinatura/finalizar-externa/",s,{responseType:"blob"}),o=((d=i.headers)==null?void 0:d["content-disposition"])||"";let l="receita_assinada.pdf";if(o){const f=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(o);try{l=decodeURIComponent((f==null?void 0:f[1])||(f==null?void 0:f[2])||l)}catch{}}const A=new Blob([i.data],{type:"application/pdf"});return{filename:l,blob:A}},async salvarTemplateConfig(e={},r=null){var t,a,s;try{let i=null;try{i=await this._resolveMedicoId()}catch{}const o=new FormData;if(o.append("config",JSON.stringify(e)),i&&(o.append("medico",i),o.append("medico_id",i)),r)if(typeof r=="string"&&r.startsWith("data:")){o.append("logo_base64",r);try{const p=r.indexOf(","),v=r.substring(5,r.indexOf(";"))||"image/png",x=p>=0?r.substring(p+1):"",w=atob(x),j=new Uint8Array(w.length);for(let F=0;F<w.length;F++)j[F]=w.charCodeAt(F);const N=new Blob([j],{type:v}),S=new File([N],"logo.png",{type:v});o.append("logo",S),o.append("arquivo",S),o.append("imagem",S)}catch{}}else r&&r.name&&(o.append("logo",r),o.append("arquivo",r),o.append("imagem",r));const l={config:e,medico:i||void 0,medico_id:i||void 0,logo_base64:typeof r=="string"?r:void 0},A=[],d="".trim();d&&A.push(d);const f="/api/medicos/",h=f.endsWith("/")?f:`${f}/`;i&&(A.push(`${h}${i}/template/`),A.push(`${h}${i}/pdf-template/`),A.push(`${h}${i}/pdf_template/`)),A.push(`${h}me/template/`),A.push(`${h}me/pdf-template/`),A.push("/pdf-template-config/"),A.push("/templates/pdf-config/"),A.push("/templates/pdf/medico/");let m=null;for(const p of A){const v=p.endsWith("/")?p:`${p}/`;try{const x=await Ce.post(v,o);if(x!=null&&x.status&&x.status>=200&&x.status<300)return!0}catch(x){if(((t=x==null?void 0:x.response)==null?void 0:t.status)===401)throw x;m=x}try{const x=await Ce.patch(v,o);if(x!=null&&x.status&&x.status>=200&&x.status<300)return!0}catch(x){if(((a=x==null?void 0:x.response)==null?void 0:a.status)===401)throw x;m=x}try{const x=await Ce.post(v,l);if(x!=null&&x.status&&x.status>=200&&x.status<300)return!0}catch(x){if(((s=x==null?void 0:x.response)==null?void 0:s.status)===401)throw x;m=x}}return!1}catch{return!1}},async assinarDocumento(e={}){const{pdfFile:r,certificado:t,senha:a,motivo:s,receita_id:i,modo_assinatura:o,...l}=e;let A=r;if(t&&a){const f=new FormData;f.append("file",r),f.append("pfx",t),f.append("senha",a),s&&f.append("motivo",s),i&&f.append("receita_id",i),A=f}const d={motivo:s||"Receita Mdica",receitaId:i,pfxFile:t,pfxPassword:a,useToken:o==="token",...l};return await this.signDocumento(A,d)},async assinarReceita({receitaId:e,pdfFile:r,dadosReceita:t={},certificado:a,senha:s,modo_assinatura:i="pfx",motivo:o="Receita Mdica",location:l}={}){var D,k,P,E,V;if(!e)throw new Error("receitaId  obrigatrio para assinar a receita.");if(!r)throw new Error("Arquivo PDF (pdfFile)  obrigatrio para assinatura.");const A="true".toLowerCase()==="true",d=r instanceof File?r:new File([r],"receita.pdf",{type:"application/pdf"}),f=new FormData;f.append("file",d),f.append("pdf",d),f.append("documento",d),f.append("receita",e),f.append("receita_id",e),f.append("id",e),f.append("assinar","true"),o&&f.append("motivo",o),l&&f.append("local",l);const h={...t},m=(h.formato||"pdf").toLowerCase();if(f.append("formato",m),["paciente_id","paciente","consulta_id","consulta","observacoes","validade_receita","validade"].forEach(Q=>{const $=h[Q];$!=null&&String($).length&&f.append(Q,$)}),Array.isArray(h.itens)){try{f.append("itens_json",JSON.stringify(h.itens))}catch{}try{f.append("itens",JSON.stringify(h.itens))}catch{}}const p=i==="token";if(p){if(f.append("use_token","true"),f.append("pkcs11","true"),f.append("hardware","true"),t!=null&&t.pin){const Q=String(t.pin);f.append("pin",Q),f.append("token_pin",Q),f.append("pin_code",Q)}}else{if(!(a instanceof File))throw new Error("Certificado (.pfx/.p12)  obrigatrio no modo PFX.");if(!s||!String(s).trim())throw new Error("Senha do certificado PFX/P12  obrigatria.");f.append("pfx",a),f.append("certificado",a),f.append("pkcs12",a),f.append("pfx_password",String(s)),f.append("senha",String(s)),f.append("password",String(s)),f.append("senha_certificado",String(s))}const v=[],x="".trim();x&&v.push(x),v.push("/receitas/assinar/"),v.push("/api/receitas/assinar/");let w=null;for(const Q of v){const $=Q.endsWith("/")?Q:`${Q}/`;try{if(A)try{console.debug("[assinarReceita] POST ->",$,{receitaId:e})}catch{}const G=await Ce.post($,f,{responseType:"blob"}),R=((D=G.headers)==null?void 0:D["content-disposition"])||((P=(k=G.headers)==null?void 0:k.get)==null?void 0:P.call(k,"content-disposition"));let ee="receita_assinada.pdf";if(R){const ne=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(R);try{ee=decodeURIComponent((ne==null?void 0:ne[1])||(ne==null?void 0:ne[2])||ee)}catch{ee=(ne==null?void 0:ne[1])||(ne==null?void 0:ne[2])||ee}}const K=new Blob([G.data],{type:((E=G.headers)==null?void 0:E["content-type"])||"application/pdf"}),z=await this.computeSHA256Hex(K);await this.salvarArquivoAssinado(e,K,ee);const X=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:X,carimbo_tempo:X,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:z,motivo:o}),{receitaId:e,filename:ee,blob:K}}catch(G){const R=(V=G==null?void 0:G.response)==null?void 0:V.status;if(R===401)throw G;if(R===404||R===405){w=G;continue}try{const ee=await Ce.post($,f),K=(ee==null?void 0:ee.data)||{},z=(K==null?void 0:K.pdf_base64)||(K==null?void 0:K.documento_base64)||(K==null?void 0:K.file_base64)||(K==null?void 0:K.arquivo_base64)||null;if(z){const X=atob(String(z)),ne=new Array(X.length);for(let J=0;J<X.length;J++)ne[J]=X.charCodeAt(J);const ue=new Uint8Array(ne),_=new Blob([ue],{type:"application/pdf"}),I=(K==null?void 0:K.filename)||(K==null?void 0:K.nome_arquivo)||"receita_assinada.pdf",W=await this.computeSHA256Hex(_);await this.salvarArquivoAssinado(e,_,I);const te=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:te,carimbo_tempo:te,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:W,motivo:o}),{receitaId:e,filename:I,blob:_}}w=G}catch(ee){w=ee}}}const j=await this.signDocumento(f,{receitaId:e,motivo:o,useToken:p,pfxFile:a,pfxPassword:s}),N=j==null?void 0:j.blob,S=(j==null?void 0:j.filename)||"receita_assinada.pdf";if(!N)throw w||new Error("Falha ao assinar receita: nenhum endpoint compatvel.");const F=await this.computeSHA256Hex(N);await this.salvarArquivoAssinado(e,N,S);const T=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:T,carimbo_tempo:T,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:F,motivo:o}),{receitaId:e,filename:S,blob:N}},async assinarReceitaEPersistir({dadosReceita:e={},itens:r=[],pdfFile:t,motivo:a="Receita Mdica",certificado:s,senha:i,modo_assinatura:o="pfx"}={}){var R,ee,K,z,X,ne,ue,_,I,W;const l="true".toLowerCase()==="true",A="/api/receitas/",d=A.endsWith("/")?A:`${A}/`,f=[],h="".trim();h&&f.push(h),f.push(`${d}assinar/`),f.push("/receitas/assinar/"),f.push("/api/receitas/assinar/"),f.push("/assinar-receita/"),f.push("/documentos/assinar/");const m=t instanceof File?t:t?new File([t],"receita.pdf",{type:"application/pdf"}):null,p=new FormData;m&&(p.append("file",m),p.append("pdf",m),p.append("documento",m)),p.append("motivo",a||"Receita Mdica"),p.append("modo_assinatura",o),s&&p.append("pfx",s),i&&p.append("senha",i);try{p.append("dados_receita",JSON.stringify(e||{}))}catch{}try{p.append("itens",JSON.stringify(r||[]))}catch{}const v=async te=>{const J=await te.arrayBuffer(),Y=new Uint8Array(J);let M="";for(let Z=0;Z<Y.length;Z++)M+=String.fromCharCode(Y[Z]);return btoa(M)},x=m?await v(m):null,w=s?await v(s):null,j={motivo:a||"Receita Mdica",modo_assinatura:o,dados_receita:e||{},itens:r||[],pdf_base64:x||void 0,pfx_base64:w||void 0,senha:i||void 0,formato:"pdf"},N=(te,J="application/pdf")=>{const Y=atob(te),M=new Array(Y.length);for(let oe=0;oe<Y.length;oe++)M[oe]=Y.charCodeAt(oe);const Z=new Uint8Array(M);return new Blob([Z],{type:J})};let S=null;for(const te of f){if(!te)continue;const J=te.endsWith("/")?te:`${te}/`;try{if(l)try{console.debug("[assinarReceitaEPersistir] POST multipart ->",J)}catch{}const Y=await Ce.post(J,p,{responseType:"blob"}),M=((R=Y.headers)==null?void 0:R["content-type"])||((K=(ee=Y.headers)==null?void 0:ee.get)==null?void 0:K.call(ee,"content-type"))||"";let Z="receita_assinada.pdf";const oe=((z=Y.headers)==null?void 0:z["content-disposition"])||((ne=(X=Y.headers)==null?void 0:X.get)==null?void 0:ne.call(X,"content-disposition"))||"";if(oe){const xe=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(oe);try{Z=decodeURIComponent((xe==null?void 0:xe[1])||(xe==null?void 0:xe[2])||Z)}catch{}}let fe,ve=null;if(/application\/pdf/i.test(M))fe=new Blob([Y.data],{type:M});else{const xe=await Y.data.text(),Ae=JSON.parse(xe),dt=(Ae==null?void 0:Ae.pdf_base64)||(Ae==null?void 0:Ae.file_base64)||(Ae==null?void 0:Ae.documento_base64)||(Ae==null?void 0:Ae.arquivo_base64);if(!dt)throw new Error("Resposta sem PDF base64");fe=N(dt,"application/pdf"),Z=(Ae==null?void 0:Ae.filename)||Z,ve=(Ae==null?void 0:Ae.receita_id)||((ue=Ae==null?void 0:Ae.receita)==null?void 0:ue.id)||(Ae==null?void 0:Ae.id)||null}const Ee=await this.computeSHA256Hex(fe),_e=new Date().toISOString();if(ve)try{await this.atualizarReceita(ve,{assinada:!0,assinada_em:_e,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:Ee,carimbo_tempo:_e})}catch{}return{receitaId:ve||null,filename:Z,blob:fe}}catch(Y){if(((_=Y==null?void 0:Y.response)==null?void 0:_.status)===401)throw Y;S=Y;try{if(l)try{console.debug("[assinarReceitaEPersistir] POST json ->",J)}catch{}const{data:Z}=await Ce.post(J,j),oe=(Z==null?void 0:Z.pdf_base64)||(Z==null?void 0:Z.file_base64)||(Z==null?void 0:Z.documento_base64)||(Z==null?void 0:Z.arquivo_base64);if(!oe)throw new Error("Resposta sem PDF base64");const fe=N(oe,"application/pdf"),ve=(Z==null?void 0:Z.filename)||"receita_assinada.pdf",Ee=(Z==null?void 0:Z.receita_id)||((I=Z==null?void 0:Z.receita)==null?void 0:I.id)||(Z==null?void 0:Z.id)||null,_e=await this.computeSHA256Hex(fe),xe=new Date().toISOString();if(Ee)try{await this.atualizarReceita(Ee,{assinada:!0,assinada_em:xe,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:_e,carimbo_tempo:xe})}catch{}return{receitaId:Ee||null,filename:ve,blob:fe}}catch(Z){S=Z}}}const F=await this.criarReceita(e),T=(F==null?void 0:F.id)||(F==null?void 0:F.pk)||(F==null?void 0:F.uuid)||((W=F==null?void 0:F.receita)==null?void 0:W.id);if(!T)throw S||new Error("No foi possvel obter ID da receita aps criao.");if(l)try{console.debug("[assinarReceitaEPersistir] receita criada:",T,F)}catch{}try{await this.salvarItensReceita(T,r)}catch{}let D=t;if(!D){const{blob:te,filename:J}=await this.gerarDocumentoReceitaLocal({...e,receita_id:T,formato:"pdf"});D=new File([te],J||"receita.pdf",{type:"application/pdf"})}const k=new FormData;k.append("file",D),k.append("pdf",D),k.append("documento",D),k.append("receita_id",T),s&&k.append("pfx",s),i&&k.append("senha",i);const P=await this.signDocumento(k,{receitaId:T,motivo:a,useToken:o==="token",pfxFile:s,pfxPassword:i}),E=P==null?void 0:P.blob,V=(P==null?void 0:P.filename)||"receita_assinada.pdf";if(!E)throw S||new Error("Falha ao assinar a receita: blob vazio.");const Q=await this.computeSHA256Hex(E);await this.salvarArquivoAssinado(T,E,V);let $=null;try{$=await this._resolveMedicoId()}catch{}const G=new Date().toISOString();return await this.atualizarReceita(T,{assinada:!0,assinada_em:G,assinada_por_id:$,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:Q,carimbo_tempo:G,observacoes:(e==null?void 0:e.observacoes)||""}),{receitaId:T,filename:V,blob:E}}};function $Y(){const{data:e,loading:r}=g3(()=>ur.getDashboard());if(r)return n.jsx("div",{className:"min-h-screen bg-medical-gradient p-6",children:n.jsx("div",{className:"space-y-8 animate-fade-in",children:n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>n.jsxs(ke,{variant:"medical",className:"animate-pulse",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("div",{className:"h-4 w-20 bg-medical-primary/20 rounded"}),n.jsx("div",{className:"h-4 w-4 bg-medical-primary/20 rounded"})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"h-8 w-16 bg-medical-primary/20 rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 bg-medical-primary/20 rounded"})]})]},o))})})});const t=e||{consultas_hoje:5,pacientes_ativos:127,prontuarios:89,exames_pendentes:9,variacao_consultas:2,novos_pacientes_semana:5,proximas_consultas:[],pacientes_recentes:[]},a=i=>{try{const o=new Date(i);if(!isNaN(o.getTime()))return o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof i=="string"&&/^\d{2}:\d{2}/.test(i))return i.slice(0,5)}catch{}return"-"},s=Array.isArray(t.proximas_consultas)?t.proximas_consultas:[];return n.jsxs("div",{className:"min-h-screen bg-medical-gradient p-6 space-y-8 animate-fade-in",children:[n.jsx(ke,{variant:"medical",className:"overflow-hidden",children:n.jsxs("div",{className:"bg-gradient-to-r from-medical-primary via-medical-secondary to-medical-accent p-8 text-white relative",children:[n.jsx("div",{className:"absolute inset-0 bg-black/5"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"p-4 bg-white/15 rounded-2xl backdrop-blur-sm border border-white/20",children:n.jsx(Kr,{className:"h-10 w-10"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard Mdico"}),n.jsx("p",{className:"text-white/90 text-lg",children:"Gesto clnica profissional e cuidado centrado no paciente"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(fr,{className:"h-5 w-5 text-blue-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Consultas Hoje"})]}),n.jsx("div",{className:"text-3xl font-bold",children:t.consultas_hoje}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Agendamentos confirmados"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Kn,{className:"h-5 w-5 text-green-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Pacientes Ativos"})]}),n.jsx("div",{className:"text-3xl font-bold text-green-200",children:t.pacientes_ativos}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Em acompanhamento"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Ja,{className:"h-5 w-5 text-purple-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Pronturios"})]}),n.jsx("div",{className:"text-3xl font-bold text-purple-200",children:t.prontuarios}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Registros mdicos"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(ji,{className:"h-5 w-5 text-amber-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Exames Pendentes"})]}),n.jsx("div",{className:"text-3xl font-bold text-amber-200",children:t.exames_pendentes}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Aguardando anlise"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(ye,{variant:"btn-medical-secondary",size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm",children:[n.jsx(ld,{className:"h-5 w-5 mr-2"}),"Nova Consulta"]}),n.jsxs(ye,{variant:"outline",size:"lg",className:"bg-white text-medical-primary hover:bg-gray-50",children:[n.jsx(R0,{className:"h-5 w-5 mr-2"}),"Ver Agenda Completa"]}),n.jsxs(ye,{variant:"btn-medical-ghost",size:"lg",className:"bg-white/10 hover:bg-white/20 text-white border-white/30 backdrop-blur-sm",children:[n.jsx(nm,{className:"h-5 w-5 mr-2"}),"Relatrios Clnicos"]})]})]})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Xe,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Consultas Hoje"}),n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(fr,{className:"h-5 w-5 text-medical-primary"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:t.consultas_hoje}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(sr,{variant:"success",size:"sm",children:[n.jsx(Bm,{className:"h-3 w-3 mr-1"}),"+",t.variacao_consultas]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"desde ontem"})]})]})]}),n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-secondary",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Xe,{className:"text-sm font-semibold text-medical-secondary group-hover:text-medical-primary transition-colors",children:"Pacientes Ativos"}),n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:n.jsx(Kn,{className:"h-5 w-5 text-medical-secondary"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-secondary mb-2",children:t.pacientes_ativos}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(sr,{variant:"info",size:"sm",children:[n.jsx(Zw,{className:"h-3 w-3 mr-1"}),"+",t.novos_pacientes_semana]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"esta semana"})]})]})]}),n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Xe,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Pronturios Digitais"}),n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(Ja,{className:"h-5 w-5 text-medical-primary"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:t.prontuarios}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(sr,{variant:"medical-secondary",size:"sm",children:[n.jsx(ps,{className:"h-3 w-3 mr-1"}),"Atualizados"]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"registros mdicos"})]})]})]}),n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-status-attention",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Xe,{className:"text-sm font-semibold text-status-attention group-hover:text-status-attention/80 transition-colors",children:"Exames Pendentes"}),n.jsx("div",{className:"p-3 bg-status-attention/10 rounded-xl group-hover:bg-status-attention/20 transition-colors",children:n.jsx(ji,{className:"h-5 w-5 text-status-attention"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-status-attention mb-2",children:t.exames_pendentes}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(sr,{variant:"warning",size:"sm",children:[n.jsx(Gc,{className:"h-3 w-3 mr-1"}),"Urgente"]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"aguardando anlise"})]})]})]})]}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[n.jsxs(ke,{variant:"medical",className:"card-medical",children:[n.jsx(We,{className:"bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border-b border-medical-primary/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl",children:n.jsx(Pr,{className:"h-6 w-6 text-medical-primary"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-medical-primary text-lg font-semibold",children:"Agenda de Consultas"}),n.jsx(cr,{className:"text-muted-foreground",children:"Prximos atendimentos programados"})]})]}),n.jsx(ye,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:n.jsxs(vr,{to:"/medico/consultas",children:[n.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Ver Agenda Completa",n.jsx(zg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:s.length>0?s.slice(0,5).map((i,o)=>n.jsx("div",{className:"group p-4 rounded-xl border border-medical-primary/10 bg-gradient-to-r from-white to-medical-primary/5 hover:shadow-md hover:border-medical-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(qg,{className:"h-5 w-5 text-medical-primary"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:i.paciente_nome}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-medical-primary",children:[n.jsx(Pr,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:a(i.data_hora)})]}),n.jsx(jM,{priority:i.prioridade||"normal"}),n.jsx(sr,{variant:"outline",className:"bg-medical-primary/5 text-medical-primary border-medical-primary/20",children:i.tipo||"Consulta Geral"})]})]})]}),n.jsxs(ye,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Atender"]})]})},o)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-medical-primary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:n.jsx(fr,{className:"h-10 w-10 text-medical-primary/60"})}),n.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Agenda livre hoje"}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Nenhuma consulta agendada para hoje"}),n.jsxs(ye,{variant:"btn-medical-primary",size:"sm",children:[n.jsx(ld,{className:"h-4 w-4 mr-2"}),"Agendar Nova Consulta"]})]})})})]}),n.jsxs(ke,{variant:"medical",className:"card-medical",children:[n.jsx(We,{className:"bg-gradient-to-r from-medical-secondary/5 to-medical-secondary/10 border-b border-medical-secondary/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl",children:n.jsx(Kn,{className:"h-6 w-6 text-medical-secondary"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-medical-secondary text-lg font-semibold",children:"Pacientes Recentes"}),n.jsx(cr,{className:"text-medical-secondary/70",children:"ltimas interaes e acompanhamentos"})]})]}),n.jsx(ye,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:n.jsxs(vr,{to:"/medico/meus-pacientes",children:[n.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Ver Todos Pacientes",n.jsx(zg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:t.pacientes_recentes&&t.pacientes_recentes.length>0?t.pacientes_recentes.slice(0,5).map((i,o)=>n.jsx("div",{className:"group p-4 rounded-xl border border-medical-secondary/10 bg-gradient-to-r from-white to-medical-secondary/5 hover:shadow-md hover:border-medical-secondary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:n.jsx(Kn,{className:"h-5 w-5 text-medical-secondary"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:i.nome}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["ltima consulta: h ",i.dias_ultima_consulta," dias"]}),n.jsx(VE,{status:i.status||"ativo"})]})]})]}),n.jsxs(ye,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Ver Pronturio"]})]})},o)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-medical-secondary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:n.jsx(Kn,{className:"h-10 w-10 text-medical-secondary/60"})}),n.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Nenhum paciente recente"}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Pacientes aparecero aqui aps as consultas"}),n.jsxs(ye,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(Zw,{className:"h-4 w-4 mr-2"}),"Cadastrar Novo Paciente"]})]})})})]})]})]})}function KY(){const[e,r]=y.useState(!0),[t,a]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState("todos");y.useEffect(()=>{let d=!0;return(async()=>{var f;try{const h=await ur.getPerfil(),m=(h==null?void 0:h.id)||((f=h==null?void 0:h.medico)==null?void 0:f.id);if(m){const p=await ur.getPacientesVinculados(m);d&&a(Array.isArray(p)?p:[])}else d&&a([])}catch{d&&a([])}finally{d&&r(!1)}})(),()=>{d=!1}},[]);const A=t.filter(d=>{var p;const f=(d!=null&&d.user?[d.user.first_name,d.user.last_name].filter(Boolean).join(" ").trim():(d==null?void 0:d.nome)||"").toLowerCase(),h=!s||f.includes(s.toLowerCase()),m=o==="todos"||o===((p=d==null?void 0:d.user)!=null&&p.is_active?"ativo":"inativo");return h&&m});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Meus Pacientes"}),n.jsx("p",{className:"text-muted-foreground",children:"Liste e gerencie seus pacientes ativos"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(vs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ke,{placeholder:"Buscar pacientes...",className:"pl-10",value:s,onChange:d=>i(d.target.value)})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Gr,{children:[n.jsx(Vr,{className:"w-[180px]",children:n.jsx(Yr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"todos",children:"Todos"}),n.jsx(st,{value:"ativo",children:"Ativo"}),n.jsx(st,{value:"inativo",children:"Inativo"})]})]}),n.jsxs(ye,{children:[n.jsx(vs,{className:"mr-2 h-4 w-4"}),"Buscar"]}),n.jsxs(ye,{variant:"outline",children:[n.jsx(su,{className:"mr-2 h-4 w-4"}),"Filtrar"]})]})]}),e?n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((d,f)=>n.jsx(ke,{children:n.jsxs(Le,{className:"p-6 space-y-4",children:[n.jsx("div",{className:"h-6 w-40 bg-muted animate-pulse rounded"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"})]})]})},f))}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:A.map(d=>{var m,p;const f=(d==null?void 0:d.id)||((m=d==null?void 0:d.user)==null?void 0:m.id),h=d!=null&&d.user?[d.user.first_name,d.user.last_name].filter(Boolean).join(" ").trim():(d==null?void 0:d.nome)||`Paciente ${f}`;return n.jsx(ke,{children:n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-xl font-semibold",children:((p=h==null?void 0:h[0])==null?void 0:p.toUpperCase())||"P"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold",children:h}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",f]})]})]}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:(d==null?void 0:d.condicoes_cronicas)&&n.jsx(sr,{variant:"outline",className:"bg-primary/5",children:d.condicoes_cronicas})}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(vr,{to:`/medico/paciente/${f}/perfil`,children:[n.jsx(In,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]})}),n.jsx(ye,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(vr,{to:`/medico/paciente/${f}/prontuario`,children:[n.jsx(Ja,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Pronturio"})]})}),n.jsx(ye,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(vr,{to:`/medico/paciente/${f}/iniciar-consulta`,children:[n.jsx(fr,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Consulta"})]})})]})]})},f)})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Mostrando 6 de 24 pacientes"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),n.jsx(ye,{variant:"outline",size:"sm",className:"bg-primary/5",children:"1"}),n.jsx(ye,{variant:"outline",size:"sm",children:"2"}),n.jsx(ye,{variant:"outline",size:"sm",children:"3"}),n.jsx(ye,{variant:"outline",size:"sm",children:"4"}),n.jsx(ye,{variant:"outline",size:"sm",children:"Prximo"})]})]})]})}function VY(){const[e,r]=y.useState(!0),[t,a]=y.useState(!0),[s,i]=y.useState([]),[o,l]=y.useState([]);y.useEffect(()=>{let h=!0;return(async()=>{var m;try{const p=await ur.getPerfil(),v=(p==null?void 0:p.id)||((m=p==null?void 0:p.medico)==null?void 0:m.id);if(!v){h&&(i([]),l([]));return}try{const x=await ur.getConsultasHoje(v);h&&i(Array.isArray(x)?x:(x==null?void 0:x.results)||[])}finally{h&&r(!1)}try{const x=await ur.getConsultasDoMedico(),w=Array.isArray(x)?x:Array.isArray(x==null?void 0:x.results)?x.results:[];h&&l(w)}finally{h&&a(!1)}}catch{h&&(i([]),l([]),r(!1),a(!1))}})(),()=>{h=!1}},[]);const A=h=>{var p,v;const m=(p=h==null?void 0:h.paciente)==null?void 0:p.user;return m?[m.first_name,m.last_name].filter(Boolean).join(" ").trim():(h==null?void 0:h.paciente_nome)||((v=h==null?void 0:h.paciente)==null?void 0:v.nome)||"Paciente"},d=h=>{try{const m=new Date(h);if(!isNaN(m))return m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof h=="string"&&/^\d{2}:\d{2}/.test(h))return h.slice(0,5)}catch{}return"--:--"},f=h=>{try{const m=new Date(h);if(!isNaN(m))return m.toLocaleDateString()}catch{}return""};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua agenda de consultas"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(vs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ke,{placeholder:"Buscar consultas...",className:"pl-10 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Gr,{children:[n.jsx(Vr,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:n.jsx(Yr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"todos",children:"Todos"}),n.jsx(st,{value:"confirmado",children:"Confirmado"}),n.jsx(st,{value:"pendente",children:"Pendente"}),n.jsx(st,{value:"cancelado",children:"Cancelado"})]})]}),n.jsx(Os,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200"}),n.jsxs(ye,{children:[n.jsx(fr,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]})]}),n.jsxs(Vi,{defaultValue:"hoje",children:[n.jsxs(zi,{children:[n.jsx(Ur,{value:"hoje",children:"Hoje"}),n.jsx(Ur,{value:"amanha",children:"Amanh"}),n.jsx(Ur,{value:"semana",children:"Esta Semana"}),n.jsx(Ur,{value:"todas",children:"Todas"})]}),n.jsx(Or,{value:"hoje",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Consultas para hoje, ",new Date().toLocaleDateString()]})}),n.jsx(Le,{children:e?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,m)=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 w-1/3 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-1/4 bg-muted animate-pulse rounded"})]}),n.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded"})]},m))}):n.jsx("div",{className:"space-y-4",children:s.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma consulta para hoje."}):s.map(h=>{var v,x,w;const m=h.id,p=((v=h==null?void 0:h.paciente)==null?void 0:v.id)||(h==null?void 0:h.paciente_id);return n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((w=(x=A(h))==null?void 0:x[0])==null?void 0:w.toUpperCase())||"P"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A(h)}),p&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[d(h==null?void 0:h.data_hora)," ",f(h==null?void 0:h.data_hora)?`(${f(h==null?void 0:h.data_hora)})`:""]})]})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[p&&n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(vr,{to:`/medico/paciente/${p}/perfil`,children:"Perfil"})}),p&&n.jsx(ye,{size:"sm",asChild:!0,children:n.jsx(vr,{to:`/medico/paciente/${p}/iniciar-consulta`,children:"Atender"})})]})]},m)})})})]})}),n.jsx(Or,{value:"amanha",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Consultas para amanh, ",new Date(Date.now()+864e5).toLocaleDateString()]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(70+h),"M"]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Paciente ",h+5]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100050+h]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[`${8+h}:00`," - ",`${9+h}:00`]})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:h%2===0?"Primeira consulta":"Retorno"}),h===1?n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Aguardando confirmao"}):n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(vr,{href:`/medico/paciente/${100050+h}/perfil`,children:"Perfil"})}),n.jsx(ye,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},h))})})]})}),n.jsx(Or,{value:"semana",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Consultas para esta semana"]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:new Date(Date.now()+h*2*864e5).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),n.jsx("div",{className:"space-y-4",children:[1,2].map(m=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(64+h+m),"L"]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Paciente ",h*10+m]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100100+h*10+m]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[`${9+m}:00`," - ",`${10+m}:00`]})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:m%2===0?"Primeira consulta":"Retorno"}),n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(vr,{href:`/medico/paciente/${100100+h*10+m}/perfil`,children:"Perfil"})}),n.jsx(ye,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},`${h}-${m}`))})]},h))})})]})}),n.jsx(Or,{value:"todas",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Todas as Consultas"]})}),n.jsx(Le,{children:t?n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((h,m)=>n.jsx("div",{className:"h-16 w-full bg-muted animate-pulse rounded"},m))}):n.jsx("div",{className:"space-y-4",children:o.map(h=>{var v,x,w;const m=h.id,p=((v=h==null?void 0:h.paciente)==null?void 0:v.id)||(h==null?void 0:h.paciente_id);return n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((w=(x=A(h))==null?void 0:x[0])==null?void 0:w.toUpperCase())||"P"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A(h)}),p&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground mr-1"}),n.jsx("span",{children:f(h==null?void 0:h.data_hora)})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pr,{className:"h-4 w-4 text-muted-foreground mr-1"}),n.jsx("span",{children:d(h==null?void 0:h.data_hora)})]})]})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[p&&n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(vr,{to:`/medico/paciente/${p}/perfil`,children:"Perfil"})}),n.jsx(ye,{variant:"ghost",size:"sm",children:"Detalhes"})]})]},m)})})})]})})]})]})}function Sx({patientId:e,isPacienteView:r=!0,profile:t,patient:a,loading:s=!1}){var p;const i=v=>v?uI(v.replace(/_/g," ")):"",o=(t==null?void 0:t.nome)&&t.nome.trim()||[t==null?void 0:t.first_name,t==null?void 0:t.last_name].filter(Boolean).join(" ")||i(t==null?void 0:t.username)||"Usurio",l=((p=o==null?void 0:o.trim())==null?void 0:p.split(" ").filter(Boolean).slice(0,2).map(v=>{var x;return(x=v[0])==null?void 0:x.toUpperCase()}).join(""))||"?",A=(t==null?void 0:t.data_nascimento)||(a==null?void 0:a.data_nascimento)||null,d=m9(A),f=(a==null?void 0:a.tipo_sanguineo)||(t==null?void 0:t.tipo_sanguineo)||"",h=(a==null?void 0:a.alergias)??(t==null?void 0:t.alergias),m=Array.isArray(h)?alergiesRaw.length?h.join(", "):"":h||"";return s?n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900",children:n.jsx(Le,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Mr,{className:"h-20 w-20 rounded-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Mr,{className:"h-6 w-48"}),n.jsx(Mr,{className:"h-4 w-32"})]})]})})}),n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20",children:n.jsx(Le,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(Mr,{className:"h-16 w-full"}),n.jsx(Mr,{className:"h-16 w-full"}),n.jsx(Mr,{className:"h-16 w-full"})]})})})]}):n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(km,{className:"h-20 w-20 ring-4 ring-white/50 shadow-lg",children:[n.jsx(ix,{src:t==null?void 0:t.avatar,alt:o}),n.jsx(Dm,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-2xl font-bold",children:l})]}),n.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1.5 shadow-lg",children:n.jsx(In,{className:"h-3 w-3 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-1",children:o}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(sr,{variant:r?"default":"secondary",className:"text-xs font-medium",children:r?"Paciente":`ID: ${e||(t==null?void 0:t.id)||"-"}`})})]})]})})}),n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 hover:shadow-xl transition-all duration-300",children:n.jsxs(Le,{className:"pt-6",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:n.jsx(In,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Idade"}),n.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:d||""})]}),n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-full",children:n.jsx(HL,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Tipo Sanguneo"}),n.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:f})]}),n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/50 rounded-full",children:n.jsx(qg,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Alergias"}),n.jsx("p",{className:"text-xs font-bold text-slate-900 dark:text-slate-100 truncate",title:m,children:m})]})]}),!r&&n.jsx("div",{className:"mt-6 pt-4 border-t border-white/20",children:n.jsx(ye,{size:"sm",asChild:!0,className:"w-full btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",children:n.jsx(vr,{to:`/medico/paciente/${e||(t==null?void 0:t.id)}/iniciar-consulta`,children:"Iniciar Consulta"})})})]})})]})}function zY(){var o,l,A,d,f,h,m;const{id:e}=pl(),[r,t]=y.useState(null),[a,s]=y.useState(!0);y.useEffect(()=>{let p=!0;return(async()=>{var v;try{const x="/api/pacientes/",w=x.endsWith("/")?x:`${x}/`,j=await Ce.get(`${w}${e}/`);p&&t(j.data)}catch(x){console.debug("[PerfilPacienteMedico] Falha ao buscar paciente por id:",(v=x==null?void 0:x.response)==null?void 0:v.status)}finally{p&&s(!1)}})(),()=>{p=!1}},[e]);const i=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${e}/iniciar-consulta`}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie as informaes do paciente"})]}),n.jsx(Sx,{patientId:e,isPacienteView:!1,profile:r==null?void 0:r.user,patient:r,loading:a}),n.jsx(To,{tabs:i,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(In,{className:"h-5 w-5"})," Informaes Pessoais"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Nome"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.nome)||[(o=r==null?void 0:r.user)==null?void 0:o.first_name,(l=r==null?void 0:r.user)==null?void 0:l.last_name].filter(Boolean).join(" ")||((A=r==null?void 0:r.user)==null?void 0:A.username)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Data de Nascimento"}),n.jsx("p",{className:"text-muted-foreground",children:p3((r==null?void 0:r.data_nascimento)||((d=r==null?void 0:r.user)==null?void 0:d.data_nascimento))})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"CPF"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.cpf)||((f=r==null?void 0:r.user)==null?void 0:f.cpf)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Telefone"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.telefone)||((h=r==null?void 0:r.user)==null?void 0:h.phone)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Endereo"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.endereco)||((m=r==null?void 0:r.user)==null?void 0:m.address)||""})]})]})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(Xc,{className:"h-5 w-5"})," Resumo Mdico"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Tipo Sanguneo"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.tipo_sanguineo)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Alergias"}),n.jsx("p",{className:"text-muted-foreground",children:Array.isArray(r==null?void 0:r.alergias)?r.alergias.length?r.alergias.join(", "):"":(r==null?void 0:r.alergias)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Condies Crnicas"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.condicoes_cronicas)||""})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ye,{asChild:!0,children:n.jsx(vr,{to:`/medico/paciente/${e}/iniciar-consulta`,children:"Iniciar Consulta"})}),n.jsx(ye,{variant:"outline",asChild:!0,children:n.jsx(vr,{to:`/medico/paciente/${e}/prontuario`,children:"Ver Pronturio"})})]})]})}function qY(){const{id:e}=pl(),r=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${e}/iniciar-consulta`}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pronturio do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Histrico mdico completo"})]}),n.jsx(Sx,{patientId:e,isPacienteView:!1}),n.jsx(To,{tabs:r,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(Ja,{className:"h-5 w-5"}),"Informaes Gerais"]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguneo"}),n.jsx("p",{children:"O+"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),n.jsx("p",{children:"Penicilina, Amendoim"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condies Crnicas"}),n.jsx("p",{children:"Hipertenso"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),n.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(t=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(In,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"font-medium",children:"Dr. Carlos Oliveira"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Cardiologia"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-t*30*864e5).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diagnstico"}),n.jsx("p",{children:"Hipertenso Arterial Estgio 1"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conduta"}),n.jsx("p",{children:"Manuteno da medicao atual. Recomendao de atividade fsica regular e reduo do consumo de sal."})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Exames Solicitados"}),n.jsx("p",{children:"Hemograma completo, Perfil lipdico, Funo renal"})]})]},t))})})]})]})]})}function WY(){const{id:e}=pl(),r=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${e}/iniciar-consulta`}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie exames do paciente"})]}),n.jsx(Sx,{patientId:e,isPacienteView:!1}),n.jsx(To,{tabs:r,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(vs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ke,{placeholder:"Buscar exames...",className:"pl-10"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Gr,{children:[n.jsx(Vr,{className:"w-[180px]",children:n.jsx(Yr,{placeholder:"Tipo de exame"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"todos",children:"Todos"}),n.jsx(st,{value:"imagem",children:"Imagem"}),n.jsx(st,{value:"laboratorial",children:"Laboratorial"}),n.jsx(st,{value:"outros",children:"Outros"})]})]}),n.jsxs(ye,{variant:"outline",children:[n.jsx(fr,{className:"mr-2 h-4 w-4"}),"Perodo"]}),n.jsxs(ye,{children:[n.jsx(ld,{className:"mr-2 h-4 w-4"}),"Solicitar Exame"]})]})]}),n.jsxs(Vi,{defaultValue:"pendentes",children:[n.jsxs(zi,{children:[n.jsx(Ur,{value:"pendentes",children:"Pendentes"}),n.jsx(Ur,{value:"concluidos",children:"Concludos"}),n.jsx(Ur,{value:"todos",children:"Todos"})]}),n.jsx(Or,{value:"pendentes",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Exames Pendentes"})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:"Hemograma Completo"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solicitado em ",new Date(Date.now()-t*864e5).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Ver Solicitao"]}),n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(Al,{className:"mr-2 h-4 w-4"}),"Baixar Pedido"]})]})]},t))})})]})}),n.jsx(Or,{value:"concluidos",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Exames Concludos"})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:[1,2].map(t=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:"Raio-X de Trax"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Concludo em ",new Date(Date.now()-t*3*864e5).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Visualizar Resultado"]}),n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(Al,{className:"mr-2 h-4 w-4"}),"Baixar Resultado"]})]})]},t))})})]})}),n.jsx(Or,{value:"todos",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Todos os Exames"})}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(t=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"font-medium",children:["Exame #",t]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",t%2===0?"Concludo":"Pendente"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(Xc,{className:"mr-2 h-4 w-4"}),"Detalhes"]}),n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(Al,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},t))})})]})})]})]})}const G5={_summarizeLocal(e="",r={}){var j;const t=String(e||"").replace(/\r/g,"").trim(),a=N=>{const S=new RegExp(`(?:^|
)s*(?:${N.join("|")})s*[:]s*([sS]*?)(?=
s*(?:Queixa|Histria|Historia|Exame|Diagn[o]stico|Conduta|Prescri|Rx|Receita|Alergias|Orient[a]es|Observ[a]es|Retorno)s*[:]|$)`,"i"),F=t.match(S);return F?F[1].trim():""},s=a(["Queixa","Queixa Principal"])||((j=t.split(/\n\n|\n-/)[0])==null?void 0:j.slice(0,300))||"",i=a(["Histria","Historia","HDA","Histria da Doena Atual"])||"",o=a(["Diagnstico","Diagnostico"])||"",l=a(["Conduta","Plano","Plano Teraputico"])||"",A=a(["Prescrio","Prescricao","Receita","Rx"])||"";let d="",f="";const h=()=>{const N=[],S=t.split(/\n+/).map($=>$.trim()).filter(Boolean),F=$=>{(/\b(comprimid|c[a]psul|gota|spray|ml|mg|g|mcg)\b/i.test($)||/\b(vou\s+(te\s+)?(receitar|prescrever|indicar|recomendar))\b/i.test($)||/\b(associar|usar|tomar)\b.*\b(metoclopramida|ondansetrona|domperidona)\b/i.test($))&&N.push($)};if(S.forEach(F),!N.length){const $=t.match(/(?:vou\s+(?:te\s+)?(?:receitar|prescrever|indicar|recomendar)\s+)([^\.;\n]+)/ig)||[];N.push(...$.map(R=>R.trim()));const G=t.match(/(?:pode\s+associar|associar|usar|tomar)[^\n\.;]*(metoclopramida|ondansetrona|domperidona)[^\n\.;]*/ig)||[];N.push(...G.map(R=>R.trim()))}const T=$=>{const G=$.match(/(\d{1,2}\s*\/\s*\d{1,2})\s*h/i);if(G)return`de ${G[1].replace(/\s+/g,"").toUpperCase()}H`;const R=$.match(/a\s*cada\s*(\d{1,2})\s*h/i);if(R)return`de ${R[1]}/${R[1]}H`.toUpperCase();const ee=$.match(/(\d{1,2})\s*(?:ou|\/)\s*(\d{1,2})\s*horas/i);if(ee){const z=parseInt(ee[1],10);return`de ${z}/${z}H`.toUpperCase()}const K=$.match(/(\d)\s*x\s*ao\s*dia/i);if(K){const z=parseInt(K[1],10);if(z>0){const X=Math.round(24/z);return`de ${X}/${X}H`.toUpperCase()}}return null},D=t.match(/n[a]o\s*pass(e|ar)\s*de\s*(\d+)\s*(comprimidos?|capsulas?)/i)||[],k=N.join(`
`).trim(),P=N.map($=>{const G=$.match(/^([A-Za-z-0-9 .+\-]+?)(?:\s+\d+\s?(mg|ml|g|mcg)|\s*[-])/),R=G?G[1].trim():$.split(/\s+/).slice(0,3).join(" "),ee=T($)||T(t)||"",K=D.length?`Mx ${D[2]||D[1]} ${D[3]||"comprimidos"}/24H`:"",z=[ee,K].filter(Boolean);return z.length?`${R} ${z.join("; ")}`:""}).filter(Boolean),E=new Set;return[/\bbuscopan\s+composto\b/i,/\bmetoclopramida\b/i,/\bondansetrona\b/i,/\bdomperidona\b/i,/\bdipirona\b/i].forEach($=>{const G=t.match($);G&&E.add(G[0].replace(/\s+/g," ").trim())}),N.forEach($=>{const G=$.match(/^([A-Za-z-0-9 .+\-]+?)(?:\s+\d+\s?(mg|ml|g|mcg)|\s*[-])/);G&&E.add(G[1].replace(/\s+/g," ").trim())}),{meds:Array.from(E).join(`
`)||k,poso:P.join(`
`)}};if(A){const N=A.split(/\n+/).map(F=>F.trim()).filter(Boolean);d=N.join(`
`);const S=N.map(F=>{const T=F.indexOf("");if(T>=0)return F.slice(T+1).trim();const D=F.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return D?(D[2]||"").trim():""}).filter(Boolean);S.length&&(f=S.join(`
`))}if(!d){const{meds:N,poso:S}=h();d=N||d,f=f||S}if(!d&&l){const N=(l.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[a]psul|gotas|spray).*/i)||[""])[0];N&&(d=N.trim(),f=f||"Conforme conduta descrita.")}const m=a(["Alergias"])||String((r==null?void 0:r.alergias)||""),p=(t.match(/(PA|press[a]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",v=(t.match(/(FC|freq[u]ncia\s*card[i]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",x=(t.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:?c|celsius)?/i)||["","","",""])[3]||"",w=(t.match(/(sat|satura[c][a]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:s||String((r==null?void 0:r.queixa)||""),historia_doenca_atual:i||String((r==null?void 0:r.historia_doenca_atual)||(r==null?void 0:r.historia)||""),diagnostico_principal:o||String((r==null?void 0:r.diagnostico_principal)||(r==null?void 0:r.diagnostico)||""),conduta:l||String((r==null?void 0:r.conduta)||""),medicamentos:d||String((r==null?void 0:r.medicamentos)||""),posologia:f||String((r==null?void 0:r.posologia)||""),alergias:String(m||""),pressao:p,frequencia_cardiaca:v,temperatura:x,saturacao:w}},_extractEntitiesLocal(e="",r={}){const t=this._summarizeLocal(e,r),a=String(e||"").replace(/\r/g,"").trim(),s=j=>{const N=new RegExp(`(?:^|
)s*(?:${j.join("|")})s*[:]s*([sS]*?)(?=
s*(?:Queixa|Histria|Historia|Exame|Diagn[o]stico|Conduta|Prescri|Rx|Receita|Alergias|Sintomas|Orient[a]es|Observ[a]es|Retorno|Exames)s*[:]|$)`,"i"),S=a.match(N);return S?S[1].trim():""},i=s(["Sintomas"])||"",o=s(["Orientaes","Orientacoes"])||"",l=s(["Observaes","Observacoes"])||"",A=s(["Exames"])||"",d=t.alergias||s(["Alergias"])||"",f=i?i.split(/[,\n;]+/).map(j=>j.trim()).filter(Boolean):[],h=o?o.split(/\n+/).map(j=>j.trim()).filter(Boolean):[],m=d?d.split(/[,\n;]+/).map(j=>j.trim()).filter(Boolean):[],p=A?A.split(/[,\n;]+/).map(j=>j.trim()).filter(Boolean):[],v=[];t.medicamentos&&v.push(...String(t.medicamentos).split(/\n+/));const x=v.map(j=>String(j).trim()).filter(j=>/\b(mg|ml|g|mcg|comprimid|capsul|gota|spray)\b/i.test(j)).map(j=>({nome:j.split(/\s+/)[0]||"",dosagem:(j.match(/\b\d+\s?(mg|ml|g|mcg)\b/i)||[""])[0],frequencia:(j.match(/\b(\d+x\s*ao\s*d[i]a|\d+x\/dia|[a] cada \d+ h)\b/i)||[""])[0],duracao:(j.match(/\bpor\s*\d+\s*(dias?|semanas?|meses?)\b/i)||[""])[0],via:(j.match(/\b(via\s*oral|vo|im|ev)\b/i)||[null])[0],observacoes:j}));return{paciente:{nome:"",idade:null,sexo:null},diagnostico:t.diagnostico_principal||"",sintomas:f,medicamentos:x,orientacoes:h,observacoes:l||t.conduta||"",sinais_vitais:{pressao:t.pressao||"",frequencia_cardiaca:t.frequencia_cardiaca||"",temperatura:t.temperatura||"",saturacao:t.saturacao||""},alergias:m,exames:p,retorno:null}},async sumarizarTranscricao(e,r={}){return this._summarizeLocal(e,r)},async extrairEntidades(e,r={}){return this._extractEntitiesLocal(e,r)}};function GY(){const{id:e}=pl(),r=cs(),t=Jn(),[a,s]=y.useState(!1),{toast:i}=Va(),[o,l]=y.useState(!1),[A,d]=y.useState({queixa:"",historia:"",medicamentos:"",alergias:"",pressao:"","frequencia-cardiaca":"",temperatura:"",saturacao:"","exame-geral":"","sistema-cardiovascular":"","sistema-respiratorio":"",diagnostico:"",conduta:"",exames:"",retorno:""}),[f,h]=y.useState("anamnese"),m=Y=>{const{id:M,value:Z}=Y.target;d(oe=>({...oe,[M]:Z}))},v=new URLSearchParams(t.search).get("consultaId"),[x,w]=y.useState(""),[j,N]=y.useState(!1),[S,F]=y.useState(""),[T,D]=y.useState("unknown"),k=y.useRef(null),P=y.useRef(-1),[E,V]=y.useState(""),Q=y.useRef(!1),$=y.useMemo(()=>`iniciar-consulta:${e}:${v||"sem-consulta"}`,[e,v]),G=y.useRef("");y.useEffect(()=>{G.current=E},[E]);const[R,ee]=y.useState(null),[K,z]=y.useState(!1),[X,ne]=y.useState("");y.useEffect(()=>{let Y;return(async()=>{try{navigator.permissions&&navigator.permissions.query&&(Y=await navigator.permissions.query({name:"microphone"}),D(Y.state||"unknown"),Y.onchange=()=>D(Y.state||"unknown"))}catch{}})(),()=>{Y&&(Y.onchange=null)}},[]);const ue=async()=>{F("");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(M=>M.stop()),D("granted"),!0}catch(Y){const M=Y&&(Y.name||Y.message)||"Permisso de microfone negada";return F(typeof M=="string"?M:"Falha ao acessar microfone"),D("denied"),!1}};y.useEffect(()=>{try{const Y=localStorage.getItem($);Y&&w(Y)}catch{}},[$]),y.useEffect(()=>{const Y=(t.hash||"").toLowerCase(),Z={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"}[Y];Z&&h(Z);const oe={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"},fe=(ve=0)=>{const Ee=oe[Y],_e=document.getElementById(Ee)||document.getElementById(Y.replace(/^#/,""));if(_e){try{_e.scrollIntoView({behavior:"smooth",block:"start"})}catch{}return}ve<10&&setTimeout(()=>fe(ve+1),80)};Y&&setTimeout(()=>fe(0),50)},[t.hash]),y.useEffect(()=>{const M={anamnese:"#anamnese","exame-fisico":"#exame-fisico",diagnostico:"#problems_and_diagnostics"}[f];if(M&&(t.hash||"")!==M)try{r(`${t.pathname}${M}`,{replace:!0})}catch{}},[f]),y.useEffect(()=>{let Y=!0;return(async()=>{var M;try{const Z="/api/pacientes/".replace(/\/?$/,"/"),{data:oe}=await Ce.get(`${Z}${e}/`);if(!Y)return;ee(oe);const fe=(oe==null?void 0:oe.alergias)||"";fe&&!A.alergias&&d(ve=>({...ve,alergias:fe}))}catch(Z){console.debug("[IniciarConsulta] Falha ao buscar paciente por id:",(M=Z==null?void 0:Z.response)==null?void 0:M.status)}})(),()=>{Y=!1}},[e]),y.useEffect(()=>{try{localStorage.setItem($,x||"")}catch{}},[$,x]),y.useEffect(()=>(_(),()=>{I()}),[]);const _=async()=>{try{if(!await ue()){N(!1),Q.current=!1;return}if(k.current){try{k.current.onend=null,k.current.onresult=null,k.current.onerror=null,k.current.stop()}catch{}k.current=null}const Y=window.SpeechRecognition||window.webkitSpeechRecognition;if(!Y){console.warn("Reconhecimento de fala no suportado neste navegador."),F("Seu navegador no suporta reconhecimento de fala."),N(!1);return}const M=new Y;M.lang="pt-BR",M.continuous=!0,M.interimResults=!0,M.maxAlternatives=1,P.current=-1,M.onresult=Z=>{let oe="",fe="";for(let ve=Z.resultIndex;ve<Z.results.length;ve++){const Ee=Z.results[ve],_e=Array.from(Ee,xe=>xe.transcript).join("");Ee.isFinal?oe+=_e+" ":fe+=_e}if(oe){const ve=oe.trim();w(Ee=>{const _e=Ee?Ee.endsWith(" ")?Ee:Ee+" ":"";return ve&&_e.endsWith(ve)?Ee:(_e+ve).trim()})}V(fe)},M.onerror=Z=>{const oe=(Z==null?void 0:Z.error)||Z;if(console.warn("Erro no reconhecimento de fala:",oe),typeof oe=="string"&&F(oe),["audio-capture","network"].includes(oe)&&Q.current&&k.current===M)try{M.stop()}catch{}oe==="not-allowed"&&(N(!1),Q.current=!1)},M.onend=()=>{const Z=k.current===M,oe=(G.current||"").trim();oe&&w(fe=>{const ve=fe?fe.endsWith(" ")?fe:fe+" ":"";return ve.endsWith(oe)?fe:(ve+oe).trim()}),V(""),P.current=-1,Q.current&&Z&&setTimeout(()=>{try{M.start()}catch{}},200)},k.current=M,Q.current=!0,N(!0);try{M.start()}catch(Z){console.warn("Falha ao iniciar reconhecimento:",Z),N(!1),Q.current=!1,k.current=null,F("Falha ao iniciar reconhecimento de fala.");return}}catch(Y){console.warn("Falha ao iniciar reconhecimento de fala:",Y),N(!1),Q.current=!1,F("Falha inesperada ao iniciar microfone.")}},I=async()=>{try{N(!1),Q.current=!1,V(""),k.current&&(k.current.onend=null,k.current.onresult=null,k.current.onerror=null,k.current.stop(),k.current=null)}catch{}if((x||"").trim().length>0&&!o&&v)try{const M=W(x||""),Z=await ur.finalizarConsultaIA(v,{transcript:x||"",extracted:{queixa:M.queixa||"",historia:M.historia||"",diagnostico:M.diagnostico||"",conduta:M.conduta||"",medicamentos:M.medicamentos||"",posologia:M.posologia||"",pressao:M.pressao||"",frequencia_cardiaca:M["frequencia-cardiaca"]||M.frequencia||"",temperatura:M.temperatura||"",saturacao:M.saturacao||""},form:{queixa_principal:A.queixa||"",historia_doenca_atual:A.historia||"",diagnostico_principal:A.diagnostico||"",conduta:A.conduta||"",medicamentos_uso:A.medicamentos||"",alergias:A.alergias||"",pressao:A.pressao||"",frequencia_cardiaca:A.frequencia||A["frequencia-cardiaca"]||"",temperatura:A.temperatura||"",saturacao:A.saturacao||""}}),oe=[Z,Z==null?void 0:Z.data,Z==null?void 0:Z.result,Z==null?void 0:Z.output,Z==null?void 0:Z.summary,Z==null?void 0:Z.sumarizacao,Z==null?void 0:Z.resumo,Z==null?void 0:Z.fields].filter(Boolean),fe=(_e,xe)=>xe.split(".").reduce((Ae,dt)=>Ae&&Ae[dt]!=null?Ae[dt]:void 0,_e),ve=_e=>{for(const xe of oe)for(const Ae of _e){const dt=fe(xe,Ae);if(typeof dt=="string"&&dt.trim())return dt.trim()}return""},Ee={queixa:A.queixa||ve(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||M.queixa||"",historia:A.historia||ve(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||M.historia||"",medicamentos:A.medicamentos||ve(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||M.medicamentos||"",alergias:A.alergias||ve(["alergias","anamnese.alergias","allergies"])||"",diagnostico:A.diagnostico||ve(["diagnostico_principal","diagnostico","diagnosis","assessment"])||M.diagnostico||"",conduta:A.conduta||ve(["conduta","plano","plan","plan_terapeutico"])||M.conduta||"",posologia:A.posologia||ve(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||M.posologia||"",pressao:A.pressao||ve(["pressao","sinais_vitais.pressao"])||M.pressao||"","frequencia-cardiaca":A["frequencia-cardiaca"]||A.frequencia||ve(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca","fc","heart_rate"])||M["frequencia-cardiaca"]||M.frequencia||"",temperatura:A.temperatura||ve(["temperatura","sinais_vitais.temperatura"])||M.temperatura||"",saturacao:A.saturacao||ve(["saturacao","sinais_vitais.saturacao","spo2"])||M.saturacao||""};d(_e=>({..._e,...Ee})),l(!0),i({title:"Resumo aplicado",description:"Pr-preenchimento realizado a partir da transcrio."})}catch(M){console.debug("[auto-sumarizar] falhou:",M==null?void 0:M.message)}};function W(Y=""){var et;let M=String(Y||"").replace(/\r/g,"").trim();M=M.replace(/(?:^|[.!?])\s*(Ao exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Exame Fsico|Exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Diagnstico(?: Principal)?)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Conduta)(?!\s*[:])/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Prescrio|Prescricao|Receita|Rx)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Histria da Doena Atual|HDA|Histria|Historia)\s*:/gi,`
$1:`);const Z=["Queixa","Queixa Principal","Histria","Historia","HDA","Histria da Doena Atual","Exame","Exame Fsico","Ao exame","Diagnstico","Diagnostico","Diagnstico Principal","Conduta","Plano","Plano Teraputico","Prescrio","Prescricao","Receita","Rx","Alergias","Orientaes","Orientacoes","Observaes","Observacoes","Exames","Retorno"],oe=Ot=>{const He=Ot.join("|"),Jt=Z.join("|"),kt=new RegExp(`(?:^|
)s*(?:${He})(?:[^
:]{0,50})?s*[:]s*([sS]*?)(?=s*(?:${Jt})s*[:]|$)`,"i"),jt=M.match(kt);return jt?jt[1].trim():""},fe=oe(["Queixa","Queixa Principal"])||((et=M.split(/\n\n|\n-/)[0])==null?void 0:et.slice(0,300))||"",ve=oe(["Histria da Doena Atual","HDA","Histria","Historia"])||"",Ee=oe(["Diagnstico Principal","Diagnstico","Diagnostico"])||"",_e=oe(["Conduta","Plano","Plano Teraputico"])||"",xe=oe(["Prescrio","Prescricao","Receita","Rx"])||"";let Ae="",dt="";if(xe){const Ot=xe.split(/\n+/).map(Jt=>Jt.trim()).filter(Boolean);Ae=Ot.join(`
`);const He=Ot.map(Jt=>{const kt=Jt.indexOf("");if(kt>=0)return Jt.slice(kt+1).trim();const jt=Jt.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return jt?(jt[2]||"").trim():""}).filter(Boolean);He.length&&(dt=He.join(`
`))}if(!Ae&&_e){const Ot=(_e.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[a]psul|gotas|spray).*/i)||[""])[0];Ot&&(Ae=Ot.trim(),dt="Conforme conduta descrita.")}const Ft=(M.match(/(PA|press[a]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",mt=(M.match(/(FC|freq[u]ncia\s*card[i]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",Ue=(M.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:?c|celsius)?/i)||["","","",""])[3]||"",ct=(M.match(/(sat|satura[c][a]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:fe,historia:ve,diagnostico:Ee,conduta:_e,medicamentos:Ae,posologia:dt,pressao:Ft,"frequencia-cardiaca":mt,temperatura:Ue,saturacao:ct}}const te=async()=>{const Y=(X||"").trim();if(!Y){z(!1);return}const M=(A.alergias||"").trim(),Z=M?`${M}
${Y}`:Y;d(oe=>({...oe,alergias:Z}));try{R!=null&&R.id&&(ur!=null&&ur.atualizarPacienteById)&&(await ur.atualizarPacienteById(R.id,{alergias:Z}),i({title:"Alergia adicionada",description:"Atualizamos o cadastro do paciente."}))}catch(oe){console.debug("Falha ao atualizar alergias do paciente:",oe==null?void 0:oe.message),i({title:"No foi possvel salvar no cadastro",description:"A alergia foi adicionada ao formulrio apenas.",variant:"destructive"})}finally{ne(""),z(!1)}},J=async Y=>{var Z;Y.preventDefault(),s(!0);try{I()}catch{}const M=W(x||"");try{let oe=null;if(!o)if(v){let He=null;try{He=await ur.finalizarConsultaIA(v,{transcript:x||"",extracted:{queixa:M.queixa||"",historia:M.historia||"",diagnostico:M.diagnostico||"",conduta:M.conduta||"",medicamentos:M.medicamentos||"",posologia:M.posologia||""},form:{queixa_principal:A.queixa||"",historia_doenca_atual:A.historia||"",diagnostico_principal:A.diagnostico||"",conduta:A.conduta||"",medicamentos_uso:A.medicamentos||"",alergias:A.alergias||""}})}catch(Nt){console.warn("Falha ao enviar dados para sumarizao:",Nt)}if(!He)try{He=await G5.sumarizarTranscricao(x||"",{queixa:M.queixa||"",historia_doenca_atual:M.historia||"",diagnostico_principal:M.diagnostico||"",conduta:M.conduta||"",medicamentos:M.medicamentos||"",posologia:M.posologia||"",alergias:A.alergias||""})}catch(Nt){console.debug("[AI] Gemini indisponvel:",Nt==null?void 0:Nt.message)}const Jt=[He,He==null?void 0:He.data,He==null?void 0:He.result,He==null?void 0:He.output,He==null?void 0:He.summary,He==null?void 0:He.sumarizacao,He==null?void 0:He.resumo,He==null?void 0:He.fields].filter(Boolean),kt=(Nt,Bt)=>{try{return Bt.split(".").reduce((vt,yt)=>vt&&vt[yt]!==void 0?vt[yt]:void 0,Nt)}catch{return}},jt=Nt=>{for(const Bt of Jt)for(const vt of Nt){const yt=kt(Bt,vt);if(yt!=null){const Qr=String(yt).trim();if(Qr)return Qr}}return""},Nr={queixa:A.queixa||jt(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||M.queixa||"",historia:A.historia||jt(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||M.historia||"",medicamentos:A.medicamentos||jt(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||M.medicamentos||"",alergias:A.alergias||jt(["alergias","anamnese.alergias","allergies"])||"",diagnostico:A.diagnostico||jt(["diagnostico_principal","diagnostico","diagnosis","assessment"])||M.diagnostico||"",conduta:A.conduta||jt(["conduta","plano","plan","plan_terapeutico"])||M.conduta||"",posologia:A.posologia||jt(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||M.posologia||"",pressao:A.pressao||jt(["pressao","sinais_vitais.pressao"])||M.pressao||"","frequencia-cardiaca":A["frequencia-cardiaca"]||jt(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca"])||M["frequencia-cardiaca"]||"",temperatura:A.temperatura||jt(["temperatura","sinais_vitais.temperatura"])||M.temperatura||"",saturacao:A.saturacao||jt(["saturacao","sinais_vitais.saturacao"])||M.saturacao||""};oe=Nr,d(Nt=>({...Nt,...Nr})),l(!0),i({title:"Resumo aplicado",description:"Campos preenchidos com a sugesto da IA. Revise e clique em 'Salvar Pronturio'."}),s(!1);return}else try{const He=await G5.sumarizarTranscricao(x||"",{queixa_principal:M.queixa||A.queixa||"",historia_doenca_atual:M.historia||A.historia||"",diagnostico_principal:M.diagnostico||A.diagnostico||"",conduta:M.conduta||A.conduta||"",medicamentos:M.medicamentos||A.medicamentos||"",posologia:M.posologia||A.posologia||"",alergias:A.alergias||""}),Jt=[He,He==null?void 0:He.data,He==null?void 0:He.result,He==null?void 0:He.output,He==null?void 0:He.summary,He==null?void 0:He.sumarizacao,He==null?void 0:He.resumo,He==null?void 0:He.fields].filter(Boolean),kt=(Nt,Bt)=>{try{return Bt.split(".").reduce((vt,yt)=>vt&&vt[yt]!==void 0?vt[yt]:void 0,Nt)}catch{return}},jt=Nt=>{for(const Bt of Jt)for(const vt of Nt){const yt=kt(Bt,vt);if(yt!=null){const Qr=String(yt).trim();if(Qr)return Qr}}return""},Nr={queixa:A.queixa||jt(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||M.queixa||"",historia:A.historia||jt(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||M.historia||"",medicamentos:A.medicamentos||jt(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||M.medicamentos||"",alergias:A.alergias||jt(["alergias","anamnese.alergias","allergies"])||"",diagnostico:A.diagnostico||jt(["diagnostico_principal","diagnostico","diagnosis","assessment"])||M.diagnostico||"",conduta:A.conduta||jt(["conduta","plano","plan","plan_terapeutico"])||M.conduta||"",posologia:A.posologia||jt(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||M.posologia||""};oe=Nr,d(Nt=>({...Nt,...Nr})),l(!0),i({title:"Campos sugeridos",description:"Usamos a transcrio e a IA para preencher. Revise e clique em 'Salvar Pronturio'."}),s(!1);return}catch{const Jt={queixa:A.queixa||M.queixa||"",historia:A.historia||M.historia||"",diagnostico:A.diagnostico||M.diagnostico||"",conduta:A.conduta||M.conduta||"",medicamentos:A.medicamentos||M.medicamentos||"",posologia:A.posologia||M.posologia||""};oe=Jt,d(kt=>({...kt,...Jt})),l(!0),i({title:"Campos sugeridos",description:"Usamos a transcrio para preencher. Revise e clique em 'Salvar Pronturio'."}),s(!1);return}const fe=oe?{...A,...oe}:A,ve={consulta_id:v,queixa_principal:(fe.queixa||M.queixa||"").trim(),historia_doenca_atual:(fe.historia||M.historia||"").trim(),diagnostico_principal:(fe.diagnostico||M.diagnostico||"").trim(),conduta:(fe.conduta||M.conduta||"").trim()};(fe.medicamentos||M.medicamentos)&&(ve.medicamentos_uso=(fe.medicamentos||M.medicamentos).trim()),fe.alergias&&(ve.alergias=fe.alergias),fe.exames&&(ve.exames_solicitados=fe.exames),fe.retorno&&(ve.data_retorno=fe.retorno);let Ee=null;if(v)try{const He=await ur.criarProntuario(ve);Ee=(He==null?void 0:He.id)||((Z=He==null?void 0:He.data)==null?void 0:Z.id)}catch(He){console.warn("Falha ao criar pronturio:",He)}const _e=new Date,xe=new Date(_e.getFullYear(),_e.getMonth(),_e.getDate()+7),Ae=He=>String(He).padStart(2,"0"),dt=`${xe.getFullYear()}-${Ae(xe.getMonth()+1)}-${Ae(xe.getDate())}`,Ft=fe.medicamentos||M.medicamentos||"",mt=fe.posologia||M.posologia||"",Ue=fe.diagnostico||M.diagnostico||"",ct=fe.conduta||M.conduta||"",et=fe.queixa||M.queixa||"",Ot=fe.historia||M.historia||"";if(v&&(Ft||mt))try{await ur.criarReceita({consulta_id:v,paciente:e,paciente_id:e,medicamentos:Ft,posologia:mt,validade:dt,observacoes:"Receita gerada automaticamente a partir do resumo da consulta."})}catch(He){console.warn("Falha ao criar receita automtica:",He)}try{localStorage.removeItem($)}catch{}r(`/medico/paciente/${e}/consulta/resumo`,{state:{resumo:{medicamentos:Ft,posologia:mt,validade:dt,diagnostico:Ue,conduta:ct,queixa:et,historia:Ot},consultaId:v,prontuarioId:Ee}})}catch(oe){console.error("Erro ao salvar pronturio/consulta:",oe);const fe=new Date,ve=new Date(fe.getFullYear(),fe.getMonth(),fe.getDate()+7),Ee=ct=>String(ct).padStart(2,"0"),_e=`${ve.getFullYear()}-${Ee(ve.getMonth()+1)}-${Ee(ve.getDate())}`,xe=A.medicamentos||M.medicamentos||"",Ae=A.posologia||M.posologia||"",dt=A.diagnostico||M.diagnostico||"",Ft=A.conduta||M.conduta||"",mt=A.queixa||M.queixa||"",Ue=A.historia||M.historia||"";r(`/medico/paciente/${e}/consulta/resumo`,{state:{resumo:{medicamentos:xe,posologia:Ae,validade:_e,diagnostico:dt,conduta:Ft,queixa:mt,historia:Ue},consultaId:v}})}finally{s(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nova Consulta"}),n.jsxs("p",{className:"text-muted-foreground",children:["Paciente ID: ",e,v?`  Consulta #${v}`:""]})]}),n.jsx(Sx,{patientId:e,isPacienteView:!1,profile:R==null?void 0:R.user,patient:R,loading:!R}),n.jsxs(ke,{children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsx(Xe,{children:"Transcrio de udio (tempo real)"}),n.jsx(cr,{children:"Fale normalmente; o texto aparecer abaixo e pode ser editado."}),S&&n.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Microfone: ",S]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`flex items-center gap-1 text-sm ${j?"text-green-600":"text-muted-foreground"}`,children:[n.jsx(TL,{className:`h-4 w-4 ${j?"animate-pulse":""}`}),j?"Ouvindo":"Pausado"]}),j?n.jsxs(ye,{type:"button",variant:"outline",size:"sm",onClick:I,children:[n.jsx(ZL,{className:"h-4 w-4 mr-2"})," Pausar"]}):n.jsxs(ye,{type:"button",variant:"default",size:"sm",onClick:_,children:[n.jsx(eI,{className:"h-4 w-4 mr-2"})," Retomar"]}),n.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:ue,children:"Testar microfone"}),n.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>{I(),setTimeout(()=>_(),250)},children:"Resetar microfone"})]})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"transcript",children:"Resumo em tempo real"}),n.jsx(oa,{id:"transcript",placeholder:"O que voc ditar ser transcrito aqui. Voc pode editar livremente.",className:"min-h-[160px]",value:x,onChange:Y=>w(Y.target.value)}),E&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1","aria-live":"polite",children:["Ditando: ",E]})]})})]}),n.jsxs("form",{onSubmit:J,children:[n.jsxs(Vi,{value:f,onValueChange:h,className:"space-y-4",children:[n.jsxs(zi,{children:[n.jsxs(Ur,{value:"anamnese",className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4"}),"Anamnese"]}),n.jsxs(Ur,{value:"exame-fisico",className:"flex items-center gap-2",children:[n.jsx(Xc,{className:"h-4 w-4"}),"Exame Fsico"]}),n.jsxs(Ur,{value:"diagnostico",className:"flex items-center gap-2",children:[n.jsx(Ja,{className:"h-4 w-4"}),"Diagnstico"]})]}),n.jsx(Or,{value:"anamnese",children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Anamnese"}),n.jsx(cr,{children:"Registre a queixa principal e o histrico do paciente"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"queixa",children:"Queixa Principal"}),n.jsx(oa,{id:"queixa",placeholder:"Descreva a queixa principal do paciente",className:"min-h-[100px]",value:A.queixa,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"historia",children:"Histria da Doena Atual"}),n.jsx(oa,{id:"historia",placeholder:"Descreva a histria da doena atual",className:"min-h-[150px]",value:A.historia,onChange:m})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"medicamentos",children:"Medicamentos em Uso"}),n.jsx(oa,{id:"medicamentos",placeholder:"Liste os medicamentos em uso",className:"min-h-[100px]",value:A.medicamentos,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"alergias",children:"Alergias"}),n.jsx(oa,{id:"alergias",placeholder:"Liste as alergias conhecidas",className:"min-h-[100px]",value:A.alergias,onChange:m}),n.jsx("div",{className:"mt-2",children:n.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>z(!0),children:"Adicionar alergia"})})]})]})]})]})}),n.jsx(Or,{value:"exame-fisico",children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Exame Fsico"}),n.jsx(cr,{children:"Registre os dados do exame fsico do paciente"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pressao",children:"Presso Arterial"}),n.jsx(Ke,{id:"pressao",placeholder:"Ex: 120/80 mmHg",value:A.pressao,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"frequencia-cardiaca",children:"Freq. Cardaca"}),n.jsx(Ke,{id:"frequencia-cardiaca",placeholder:"Ex: 75 bpm",value:A["frequencia-cardiaca"],onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"temperatura",children:"Temperatura"}),n.jsx(Ke,{id:"temperatura",placeholder:"Ex: 36.5 C",value:A.temperatura,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"saturacao",children:"Saturao O2"}),n.jsx(Ke,{id:"saturacao",placeholder:"Ex: 98%",value:A.saturacao,onChange:m})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"exame-geral",children:"Exame Geral"}),n.jsx(oa,{id:"exame-geral",placeholder:"Descreva o estado geral do paciente",className:"min-h-[100px]",value:A["exame-geral"],onChange:m})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"sistema-cardiovascular",children:"Sistema Cardiovascular"}),n.jsx(oa,{id:"sistema-cardiovascular",placeholder:"Descreva os achados cardiovasculares",className:"min-h-[100px]",value:A["sistema-cardiovascular"],onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"sistema-respiratorio",children:"Sistema Respiratrio"}),n.jsx(oa,{id:"sistema-respiratorio",placeholder:"Descreva os achados respiratrios",className:"min-h-[100px]",value:A["sistema-respiratorio"],onChange:m})]})]})]})]})}),n.jsx(Or,{value:"diagnostico",id:"problems_and_diagnostics",children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Diagnstico e Conduta"}),n.jsx(cr,{children:"Registre o diagnstico e plano teraputico"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"diagnostico",children:"Diagnstico"}),n.jsx(oa,{id:"diagnostico",placeholder:"Descreva o diagnstico principal e diferenciais",className:"min-h-[100px]",value:A.diagnostico,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"conduta",children:"Conduta"}),n.jsx(oa,{id:"conduta",placeholder:"Descreva a conduta teraputica",className:"min-h-[150px]",value:A.conduta,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"exames",children:"Exames Solicitados"}),n.jsx(oa,{id:"exames",placeholder:"Liste os exames solicitados",className:"min-h-[100px]",value:A.exames,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"retorno",children:"Retorno"}),n.jsx(Os,{id:"retorno",name:"retorno",className:"max-w-xs",value:A.retorno,onChange:Y=>m({target:{name:"retorno",value:Y}}),minDate:new Date})]})]})]})})]}),n.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-10 border-t bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>r(-1),children:"Cancelar"}),n.jsx(ye,{type:"submit",disabled:a,children:a?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(By,{className:"mr-2 h-4 w-4"}),o?"Salvar Pronturio":"Finalizar e Preencher com IA"]})})]})})]}),n.jsx(Nu,{open:K,onOpenChange:z,children:n.jsxs(xd,{children:[n.jsxs(vd,{children:[n.jsx(wd,{children:"Adicionar alergia"}),n.jsx(Qm,{children:"Informe a alergia para adicionar ao pronturio (e ao cadastro do paciente)."})]}),n.jsxs("div",{className:"space-y-2 py-2",children:[n.jsx(De,{htmlFor:"nova-alergia",children:"Alergia"}),n.jsx(Ke,{id:"nova-alergia",placeholder:"Ex.: Dipirona",value:X,onChange:Y=>ne(Y.target.value)})]}),n.jsxs(Bu,{children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>{z(!1),ne("")},children:"Cancelar"}),n.jsx(ye,{type:"button",onClick:te,children:"Salvar"})]})]})})]})}function hk(){const e=new Date,r=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${r}-${t}`}function YY(e){if(!e)return"";const r=String(e).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(r){const[,t,a,s]=r;return`${s}/${a}/${t}`}try{return new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return e}}function XY(e){return(e===hk()?ur.getConsultasHoje():ur.getConsultasDoMedico({date:e})).then(a=>{const i=(o=>Array.isArray(o)?o:!o||typeof o!="object"?[]:Array.isArray(o.results)?o.results:Array.isArray(o.data)?o.data:Array.isArray(o.items)?o.items:Array.isArray(o.consultas)?o.consultas:Array.isArray(o.content)?o.content:Array.isArray(o.objects)?o.objects:[])(a);return Array.isArray(i)?i.map(o=>{var p,v,x,w,j;const l=((p=o==null?void 0:o.paciente)==null?void 0:p.user)||{},A=[l.first_name,l.last_name].filter(Boolean).join(" ")||((v=o==null?void 0:o.paciente)==null?void 0:v.nome)||(o==null?void 0:o.paciente_nome)||(o==null?void 0:o.nome_paciente)||"Paciente";let d="";const f=(o==null?void 0:o.data_hora)||(o==null?void 0:o.horario)||(o==null?void 0:o.inicio)||(o==null?void 0:o.start_time)||(o==null?void 0:o.data)||(o==null?void 0:o.inicio_previsto);if(f)try{const N=new Date(f);if(!isNaN(N.getTime()))d=N.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});else throw new Error("invalid date")}catch{const N=String(f).match(/\b(\d{2}:\d{2})\b/);d=N?N[1]:""}const h=String((o==null?void 0:o.status)||(o==null?void 0:o.situacao)||"").toLowerCase();let m="pendente";return h.includes("andamento")?m="em_andamento":h.includes("finaliz")||h.includes("conclu")||h.includes("cancel")||h.includes("faltou")?m="finalizado":m="pendente",{id:o.id||o.consulta_id||o.uuid,paciente:{id:((x=o==null?void 0:o.paciente)==null?void 0:x.id)||(o==null?void 0:o.paciente_id),nome:A.trim(),avatarUrl:((w=o==null?void 0:o.paciente)==null?void 0:w.avatar_url)||((j=o==null?void 0:o.paciente)==null?void 0:j.foto)||(o==null?void 0:o.paciente_avatar)||null},hora:d,status:m}}):[]})}function JY({status:e}){const r={pendente:"bg-amber-100 text-amber-700",em_andamento:"bg-emerald-100 text-emerald-700",finalizado:"bg-gray-100 text-gray-600"},t={pendente:"Pendente",em_andamento:"Em Andamento",finalizado:"Finalizado"};return n.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${r[e]}`,children:t[e]})}function ZY({url:e,name:r}){return e?n.jsx("img",{src:e,alt:`Avatar de ${r}`,className:"h-14 w-14 rounded-full object-cover"}):n.jsxs("svg",{className:"h-14 w-14 rounded-full bg-gray-100 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":!0,children:[n.jsx("circle",{cx:"12",cy:"8",r:"4"}),n.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]})}function eX(){return n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"})]})}function tX({onRetry:e}){return n.jsxs("div",{className:"mt-10 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:["Ocorreu um erro ao carregar as consultas.",n.jsx("button",{className:"ml-3 rounded-md bg-red-600 px-3 py-1 text-white",onClick:e,children:"Tentar novamente"})]})}function rX(){return n.jsx("div",{className:"mt-12 rounded-2xl border bg-white p-10 text-center text-gray-500",children:"Nenhuma consulta encontrada para este dia."})}function aX({children:e,...r}){return n.jsx("button",{...r,className:"rounded-lg bg-blue-600 px-4 py-2 text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-200",children:e})}function Y5({children:e,...r}){return n.jsx("button",{...r,className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 shadow-sm transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:e})}function nX({consulta:e,onIniciar:r}){const t=y.useMemo(()=>{if(!e.hora)return"";try{const[s,i]=String(e.hora).split(":"),o=new Date;return o.setHours(Number(s),Number(i),0,0),o.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return e.hora}},[e.hora]),a=()=>e.status==="pendente"?n.jsx(aX,{onClick:()=>r(e),"aria-label":`Iniciar consulta de ${e.paciente.nome} s ${e.hora}`,children:"Iniciar Consulta"}):e.status==="em_andamento"?n.jsx(Y5,{disabled:!0,children:"Em Andamento"}):n.jsx(Y5,{disabled:!0,children:"Finalizado"});return n.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-white p-5 shadow-md transition-all hover:shadow-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ZY,{url:e.paciente.avatarUrl,name:e.paciente.nome}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:e.paciente.nome}),n.jsx("div",{className:"mt-1 text-sm text-gray-500",children:t})]})]}),n.jsxs("div",{className:"flex flex-col items-stretch gap-3 md:flex-row md:items-center",children:[n.jsx(JY,{status:e.status}),a()]})]})}function sX(){const e=cs(),[r,t]=y.useState(hk()),[a,s]=y.useState("todos"),[i,o]=y.useState(!0),[l,A]=y.useState(null),[d,f]=y.useState([]),h=async()=>{o(!0),A(null);try{const x=await XY(r);f(x)}catch(x){A(x)}finally{o(!1)}};y.useEffect(()=>{h()},[r]);const m=async x=>{var w;try{x!=null&&x.id&&await ur.iniciarConsulta(x.id)}catch(j){console.error("Falha ao iniciar consulta no backend:",j)}finally{try{const j=x==null?void 0:x.id,N=(w=x==null?void 0:x.paciente)==null?void 0:w.id,S=j?`/medico/paciente/${N}/iniciar-consulta?consultaId=${j}`:`/medico/paciente/${N}/iniciar-consulta`;e(S)}catch{console.log("Iniciar consulta (fallback navegao)",x==null?void 0:x.id)}}},p=YY(r),v=d.filter(x=>a==="todos"?!0:x.status===a);return n.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-blue-50 p-2 text-blue-600",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),n.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas de Hoje"}),n.jsx("span",{className:"text-sm text-gray-500",children:p})]}),n.jsx("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:n.jsxs("div",{className:"flex w-full gap-3 md:w-auto",children:[n.jsxs("div",{className:"relative w-full md:w-60",children:[n.jsxs("select",{value:a,onChange:x=>s(x.target.value),className:"w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[n.jsx("option",{value:"todos",children:"Filtrar por status"}),n.jsx("option",{value:"pendente",children:"Pendentes"}),n.jsx("option",{value:"em_andamento",children:"Em Andamento"}),n.jsx("option",{value:"finalizado",children:"Finalizadas"})]}),n.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.25 4.417a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),n.jsx(Os,{value:r,onChange:x=>t(x),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:w-auto"})]})}),i&&n.jsx(eX,{}),!i&&l&&n.jsx(tX,{onRetry:h}),!i&&!l&&v.length===0&&n.jsx(rX,{}),!i&&!l&&v.length>0&&n.jsx("div",{className:"mt-6 space-y-4",children:v.map(x=>n.jsx(nX,{consulta:x,onIniciar:m},x.id))})]})}const Og=y.forwardRef(({className:e,checked:r,onCheckedChange:t,disabled:a,...s},i)=>{const o=l=>{t&&t(l.target.checked)};return n.jsxs("div",{className:"relative inline-flex items-center",children:[n.jsx("input",{type:"checkbox",ref:i,checked:r,onChange:o,disabled:a,className:"sr-only",...s}),n.jsx("div",{className:lt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground","transition-all duration-200 cursor-pointer",r?"bg-primary border-primary text-primary-foreground":"border-input bg-background hover:border-primary/50",a&&"cursor-not-allowed opacity-50",e),onClick:()=>!a&&t&&t(!r),children:r&&n.jsx(wy,{className:"h-3 w-3 text-current flex items-center justify-center w-full h-full"})})]})});Og.displayName="Checkbox";class iX{constructor(){this.baseUrl="/api/notificacoes/",this.verbose="true".toLowerCase()==="true"}async enviarNotificacaoInterna({pacienteId:r,titulo:t,mensagem:a,tipo:s="receita",dados:i={},prioridade:o="normal"}){try{const l={destinatario_id:r,titulo:t,mensagem:a,tipo:s,dados:i,prioridade:o,canal:"interno"},A=await Ce.post(`${this.baseUrl}enviar/`,l);return this.verbose&&console.log("[NotificationService] Notificao interna enviada:",A.data),A.data}catch(l){throw console.error("[NotificationService] Erro ao enviar notificao interna:",l),l}}async enviarReceitaPorEmail({pacienteId:r,email:t,receitaId:a,arquivo:s,nomeArquivo:i,assunto:o,mensagem:l,linkDownload:A}){try{const d=new FormData;if(d.append("destinatario_id",r),d.append("email",t),d.append("receita_id",a),d.append("canal","email"),d.append("tipo","receita"),o&&d.append("assunto",o),l&&d.append("mensagem",l),s){const h=i||`receita_${a}.pdf`;d.append("arquivo",s,h)}A&&d.append("link_download",A);const f=await Ce.post(`${this.baseUrl}enviar-email/`,d,{headers:{"Content-Type":"multipart/form-data"}});return this.verbose&&console.log("[NotificationService] E-mail enviado:",f.data),f.data}catch(d){throw console.error("[NotificationService] Erro ao enviar e-mail:",d),d}}async enviarReceitaPorSMS({pacienteId:r,telefone:t,receitaId:a,mensagem:s,linkDownload:i}){var o,l;try{const A=t==null?void 0:t.replace(/\D/g,"");if(!A||A.length<10)throw new Error("Nmero de telefone invlido. Deve conter pelo menos 10 dgitos.");let d=A;A.length===11&&A.startsWith("0")&&(d=A.substring(1)),A.length===10?d=`55${A}`:A.length===11&&(d=`55${A}`);const f={destinatario_id:r,telefone:d,telefone_original:t,receita_id:a,mensagem:s||`Nova receita mdica disponvel. Acesse: ${i||window.location.origin}/paciente/receitas`,link_download:i,canal:"sms",tipo:"receita"},h=[`${this.baseUrl}enviar-sms/`,"/api/sms/enviar/","/sms/send/","/notifications/sms/","/receitas/sms/","/comunicacao/sms/"];let m=null;for(const p of h)try{this.verbose&&console.log(`[NotificationService] Tentando enviar SMS via: ${p}`,f);const v=await Ce.post(p,f);return this.verbose&&console.log("[NotificationService] SMS enviado com sucesso:",v.data),{success:!0,data:v.data,message:"SMS enviado com sucesso",endpoint:p,telefone_usado:d}}catch(v){m=v;const x=(o=v.response)==null?void 0:o.status;if(this.verbose&&console.log(`[NotificationService] Falha no endpoint ${p}:`,v.message),x===401||x===403)throw v;continue}throw console.error("[NotificationService] Todos os endpoints de SMS falharam. ltimo erro:",m),m||new Error("Nenhum endpoint de SMS disponvel ou configurado")}catch(A){return console.error("[NotificationService] Erro ao enviar SMS:",A),{success:!1,error:((l=A.response)==null?void 0:l.data)||A.message,message:A.message||"Falha ao enviar SMS"}}}async enviarReceitaMulticanal({pacienteId:r,receitaId:t,arquivo:a,nomeArquivo:s,canais:i=["interno"],dadosPaciente:o={},configuracoes:l={}}){const A={interno:null,email:null,sms:null,erros:[]};if(i.includes("interno"))try{const d=l.tituloInterno||"Nova receita mdica disponvel",f=l.mensagemInterna||"Voc tem uma nova receita mdica disponvel. Acesse sua rea do paciente para visualizar.";A.interno=await this.enviarNotificacaoInterna({pacienteId:r,titulo:d,mensagem:f,tipo:"receita",dados:{receita_id:t},prioridade:"alta"})}catch(d){A.erros.push({canal:"interno",erro:d.message})}if(i.includes("email")&&o.email)try{const d=l.assuntoEmail||"Nova receita mdica",f=`Ol ${o.nome||""},

Voc tem uma nova receita mdica em anexo.

Atenciosamente,
Equipe Mdica`,h=`Ol ${o.nome||""},

Sua receita mdica est disponvel neste link: ${l.linkDownload}.

Atenciosamente,
Equipe Mdica`,m=l.mensagemEmail||(a?f:h);A.email=await this.enviarReceitaPorEmail({pacienteId:r,email:o.email,receitaId:t,arquivo:a,nomeArquivo:s,assunto:d,mensagem:m,linkDownload:l.linkDownload})}catch(d){A.erros.push({canal:"email",erro:d.message})}if(i.includes("sms")&&o.telefone)try{const d=l.mensagemSMS||`Nova receita mdica disponvel. Acesse: ${l.linkSite||window.location.origin}/paciente/receitas`,f=await this.enviarReceitaPorSMS({pacienteId:r,telefone:o.telefone,receitaId:t,mensagem:d,linkDownload:l.linkDownload});f.success?A.sms=f:A.erros.push({canal:"sms",erro:f.message||"Falha ao enviar SMS"})}catch(d){A.erros.push({canal:"sms",erro:d.message})}return A}async buscarNotificacoes({page:r=1,pageSize:t=20,tipo:a=null,lidas:s=null}){try{const i={page:r,page_size:t};return a&&(i.tipo=a),s!==null&&(i.lidas=s),(await Ce.get(this.baseUrl,{params:i})).data}catch(i){throw console.error("[NotificationService] Erro ao buscar notificaes:",i),i}}async marcarComoLida(r){try{return(await Ce.patch(`${this.baseUrl}${r}/`,{lida:!0,data_leitura:new Date().toISOString()})).data}catch(t){throw console.error("[NotificationService] Erro ao marcar notificao como lida:",t),t}}async marcarTodasComoLidas(){try{return(await Ce.post(`${this.baseUrl}marcar-todas-lidas/`)).data}catch(r){throw console.error("[NotificationService] Erro ao marcar todas como lidas:",r),r}}async deletarNotificacao(r){try{return await Ce.delete(`${this.baseUrl}${r}/`),!0}catch(t){throw console.error("[NotificationService] Erro ao deletar notificao:",t),t}}async buscarConfiguracoes(){try{return(await Ce.get(`${this.baseUrl}configuracoes/`)).data}catch(r){return console.error("[NotificationService] Erro ao buscar configuraes:",r),{email_ativo:!0,sms_ativo:!1,push_ativo:!0,tipos_habilitados:["receita","consulta","exame"]}}}async atualizarConfiguracoes(r){try{return(await Ce.put(`${this.baseUrl}configuracoes/`,r)).data}catch(t){throw console.error("[NotificationService] Erro ao atualizar configuraes:",t),t}}}const oX=new iX,Mw=async()=>(await ul(async()=>{const{default:e}=await import("./localAgent-CpfaigSf.js");return{default:e}},[])).default;function lX(){var Tr,$s,Za,ws,wt,nr,Zn,es,pn,Pa,ca,za,en,Si,Wi;const[e,r]=y.useState(!1),[t,a]=y.useState(null),[s,i]=y.useState(""),[o,l]=y.useState(null),[A,d]=y.useState(""),{id:f}=pl(),h=Jn(),m=cs(),{toast:p}=Va(),[v,x]=y.useState(null),w=async qe=>{const at=await qe.arrayBuffer(),_t=await crypto.subtle.digest("SHA-256",at);return Array.from(new Uint8Array(_t)).map(It=>It.toString(16).padStart(2,"0")).join("")},j=((Tr=h.state)==null?void 0:Tr.fromConsulta)||{},N=(($s=h.state)==null?void 0:$s.consultaId)||j.consultaId,S=j.receitaItems||[],F=Array.isArray(S)&&S.length>0,T=qe=>{if(!qe)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(qe))return qe;const at=new Date(qe);if(!isNaN(at)){const It=at.getFullYear(),Ct=String(at.getMonth()+1).padStart(2,"0"),mr=String(at.getDate()).padStart(2,"0");return`${It}-${Ct}-${mr}`}const _t=String(qe).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return _t?`${_t[3]}-${_t[2]}-${_t[1]}`:""},D=qe=>{if(!qe)return"";const at=new Date(qe);if(isNaN(at))return"";const _t=new Date;let It=_t.getFullYear()-at.getFullYear();const Ct=_t.getMonth()-at.getMonth(),mr=_t.getDate()-at.getDate();(Ct<0||Ct===0&&mr<0)&&It--;let or=new Date(_t.getFullYear(),at.getMonth(),at.getDate());or>_t&&(or=new Date(_t.getFullYear()-1,at.getMonth(),at.getDate()));const $r=1440*60*1e3,ea=Math.floor((_t-or)/$r);return`${It} anos e ${ea} dias`},k=y.useMemo(()=>new Date().toLocaleDateString(),[]),P=qe=>{for(const at of qe){if(at==null)continue;const _t=typeof at=="string"?at.trim():at;if(_t)return typeof _t=="string"?_t:String(_t)}return""},[E,V]=y.useState({nome_paciente:"",idade:"",rg:"",data_nascimento:"",medicamento:j.medicamentos||"",posologia:j.posologia||"",validade_receita:j.validade||"",medico:"",crm:"",endereco_consultorio:"",telefone_consultorio:"",observacoes:"",formato:"pdf",acao:"imprimir",email_paciente:"",email_medico:""}),[Q,$]=y.useState(!1),[G,R]=y.useState(!0),[ee,K]=y.useState(!1),[z,X]=y.useState(!1),[ne,ue]=y.useState("token"),[_,I]=y.useState(""),[W,te]=y.useState(Fs),[J,Y]=y.useState(null);y.useEffect(()=>{let qe=!0;const at=async()=>{let Ct=E.medico_id||null;try{Ct||(Ct=await ur._resolveMedicoId().catch(()=>null))}catch{}Ct=Ct||(typeof window<"u"?localStorage.getItem("medico_id"):null)||"default";const mr=fm(Ct),or=Mf(Ct);qe&&(te(mr||Fs),Y(or||null))};at();const _t=Ct=>{const mr=(Ct==null?void 0:Ct.key)||"";(mr.startsWith("pdf_template_config_")||mr.startsWith("template_config_")||mr.startsWith("doctor_logo_"))&&at()},It=()=>{document.visibilityState==="visible"&&at()};return window.addEventListener("focus",at),window.addEventListener("storage",_t),document.addEventListener("visibilitychange",It),()=>{qe=!1,window.removeEventListener("storage",_t),window.removeEventListener("focus",at),document.removeEventListener("visibilitychange",It)}},[E.medico_id]);const M=y.useMemo(()=>{var _t,It,Ct,mr,or,$r;const qe=(W==null?void 0:W.content)||{},at=(W==null?void 0:W.header)||{};return{accentBorderColor:((_t=qe==null?void 0:qe.colors)==null?void 0:_t.accent)||((It=W==null?void 0:W.branding)==null?void 0:It.primaryColor)||"#3b82f6",titleSize:`${((Ct=qe==null?void 0:qe.fontSize)==null?void 0:Ct.title)??16}pt`,smallSize:`${((mr=qe==null?void 0:qe.fontSize)==null?void 0:mr.small)??10}pt`,primaryColor:((or=qe==null?void 0:qe.colors)==null?void 0:or.primary)||"#1f2937",secondaryColor:(($r=qe==null?void 0:qe.colors)==null?void 0:$r.secondary)||"#6b7280",showLogo:(at==null?void 0:at.showLogo)!==!1,headerBgColor:(at==null?void 0:at.backgroundColor)||"#ffffff",headerBorderBottom:(at==null?void 0:at.borderBottom)!==!1,headerBorderColor:(at==null?void 0:at.borderColor)||"#e5e7eb",logoPosition:(at==null?void 0:at.logoPosition)||"left",doctorInfoPosition:(at==null?void 0:at.doctorInfoPosition)||"right"}},[W]),{user:Z,ephemeralCertFile:oe,setEphemeralCertFile:fe,ephemeralCertPassword:ve,setEphemeralCertPassword:Ee,clearEphemeralCert:_e}=ac(),[xe,Ae]=y.useState(oe||null),[dt,Ft]=y.useState(ve||"");y.useEffect(()=>{fe(xe)},[xe,fe]),y.useEffect(()=>{Ee(dt)},[dt,Ee]);const mt=y.useMemo(()=>!xe||!dt?null:{arquivo:xe,senha:dt,modo:"pfx"},[xe,dt]),[Ue,ct]=y.useState(null),[et,Ot]=y.useState(null),[He,Jt]=y.useState({ok:!0,errors:[],expected:{medicoId:null,pacienteId:f,consultaId:N}});y.useEffect(()=>{let qe=!0;async function at(){var _t,It,Ct,mr,or,$r,ea,Kt,da,Qa,gr,Ea,Ra,Qt,Fr,gn,Ks,Us,ts,As,on,AA,tn,mc;R(!0);try{try{const gt=await ur.getPerfil(),Ge=(gt==null?void 0:gt.user)||(gt==null?void 0:gt.usuario)||{},aa=P([`${(Ge==null?void 0:Ge.first_name)||""} ${(Ge==null?void 0:Ge.last_name)||""}`.trim(),gt==null?void 0:gt.nome,gt==null?void 0:gt.nome_completo,gt==null?void 0:gt.full_name,gt==null?void 0:gt.name]),pt=P([gt==null?void 0:gt.crm,gt==null?void 0:gt.matricula,gt==null?void 0:gt.registro,gt==null?void 0:gt.crm_numero,Ge==null?void 0:Ge.crm]),xn=P([gt==null?void 0:gt.endereco_consultorio,gt==null?void 0:gt.consultorio_endereco,gt==null?void 0:gt.endereco,Ge==null?void 0:Ge.endereco,(_t=gt==null?void 0:gt.clinica)==null?void 0:_t.endereco]),Br=P([gt==null?void 0:gt.telefone_consultorio,gt==null?void 0:gt.consultorio_telefone,gt==null?void 0:gt.telefone,Ge==null?void 0:Ge.telefone,Ge==null?void 0:Ge.phone,(It=gt==null?void 0:gt.clinica)==null?void 0:It.telefone,gt==null?void 0:gt.celular]),qa=P([Ge==null?void 0:Ge.email_institucional,Ge==null?void 0:Ge.email,gt==null?void 0:gt.email_institucional,gt==null?void 0:gt.email,gt==null?void 0:gt.contato_email]),Xr=((Ct=gt==null?void 0:gt.medico)==null?void 0:Ct.id)||(gt==null?void 0:gt.id)||null;qe&&gt&&(V(vn=>({...vn,medico:aa||vn.medico,crm:pt||vn.crm,endereco_consultorio:xn||vn.endereco_consultorio||"",telefone_consultorio:Br||vn.telefone_consultorio||"",email_medico:qa||vn.email_medico||""})),Jt(vn=>({...vn,expected:{...vn.expected,medicoId:Xr}})))}catch{}try{const gt="/api/pacientes/".replace(/\/?$/,"/");let Ge=null,aa=null;try{const{data:pt}=await Ce.get(`${gt}${f}/`);Ge=pt}catch(pt){console.error("Erro ao carregar dados do mdico:",pt)}if(!Ge){const pt=[{id:f},{paciente_id:f},{user:f},{usuario:f},{user__id:f},{usuario_id:f}];for(const xn of pt)try{const{data:Br}=await Ce.get(gt,{params:xn}),qa=Array.isArray(Br==null?void 0:Br.results)?Br.results:Array.isArray(Br)?Br:[];if(qa!=null&&qa.length){Ge=qa[0];break}if(Br!=null&&Br.id){Ge=Br;break}}catch(Br){console.error("Erro ao carregar dados do paciente:",Br)}}if(!Ge&&N)try{const{data:pt}=await Ce.get(`/consultas/${N}/`);aa=pt;const xn=(pt==null?void 0:pt.paciente)||(pt!=null&&pt.paciente_id?{id:pt.paciente_id}:null);xn&&(Ge=xn)}catch(pt){console.error("Erro ao carregar dados do usurio:",pt)}if(!Ge&&(j!=null&&j.paciente)&&(Ge=j.paciente),qe&&Ge){const pt=(Ge==null?void 0:Ge.user)||(Ge==null?void 0:Ge.usuario)||{},xn=P([pt==null?void 0:pt.display_name,`${(pt==null?void 0:pt.first_name)||""} ${(pt==null?void 0:pt.last_name)||""}`.trim(),pt==null?void 0:pt.nome,pt==null?void 0:pt.nome_completo,Ge==null?void 0:Ge.nome,Ge==null?void 0:Ge.nome_completo,Ge==null?void 0:Ge.name]),Br=T((pt==null?void 0:pt.data_nascimento)||(pt==null?void 0:pt.nascimento)||(pt==null?void 0:pt.dob)||(Ge==null?void 0:Ge.data_nascimento)||(Ge==null?void 0:Ge.nascimento)||(Ge==null?void 0:Ge.dob)||"");let qa=P([pt==null?void 0:pt.cpf,(mr=pt==null?void 0:pt.profile)==null?void 0:mr.cpf,(or=pt==null?void 0:pt.meu_app_user)==null?void 0:or.cpf,($r=pt==null?void 0:pt.dados)==null?void 0:$r.cpf,Ge==null?void 0:Ge.cpf,(ea=Ge==null?void 0:Ge.profile)==null?void 0:ea.cpf,(Kt=Ge==null?void 0:Ge.meu_app_user)==null?void 0:Kt.cpf,(da=Ge==null?void 0:Ge.dados)==null?void 0:da.cpf,(Qa=Ge==null?void 0:Ge.usuario)==null?void 0:Qa.cpf,(Ea=(gr=Ge==null?void 0:Ge.usuario)==null?void 0:gr.profile)==null?void 0:Ea.cpf,(Qt=(Ra=Ge==null?void 0:Ge.usuario)==null?void 0:Ra.meu_app_user)==null?void 0:Qt.cpf,(Fr=j==null?void 0:j.paciente)==null?void 0:Fr.cpf,j==null?void 0:j.cpf,Ge==null?void 0:Ge.documento,Ge==null?void 0:Ge.doc,Ge==null?void 0:Ge.rg]);if(!qa)try{let Ta=null;const Ls=pt&&typeof pt=="object"&&Object.keys(pt).length>0;if(typeof pt=="number"||typeof pt=="string"?Ta=pt:Ls&&(Ta=pt.id||pt.pk||pt.user||pt.usuario||null),Ta||(Ta=((gn=Ge==null?void 0:Ge.usuario)==null?void 0:gn.id)||((Ks=Ge==null?void 0:Ge.user)==null?void 0:Ks.id)||(Ge==null?void 0:Ge.usuario_id)||(Ge==null?void 0:Ge.user_id)||(typeof(Ge==null?void 0:Ge.usuario)=="number"||typeof(Ge==null?void 0:Ge.usuario)=="string"?Ge.usuario:null)||(typeof(Ge==null?void 0:Ge.user)=="number"||typeof(Ge==null?void 0:Ge.user)=="string"?Ge.user:null)),Ta){const Nl="/api/users/".replace(/\/?$/,"/"),{data:Cr}=await Ce.get(`${Nl}${Ta}/`);qa=P([Cr==null?void 0:Cr.cpf,(Us=Cr==null?void 0:Cr.profile)==null?void 0:Us.cpf,(ts=Cr==null?void 0:Cr.meu_app_user)==null?void 0:ts.cpf,(As=Cr==null?void 0:Cr.dados)==null?void 0:As.cpf])||qa}}catch(Ta){console.error("Erro ao carregar dados da consulta:",Ta)}const Xr=(pt==null?void 0:pt.email)||(Ge==null?void 0:Ge.email)||"",vn=Br?D(Br):"";V(Ta=>({...Ta,nome_paciente:xn||Ta.nome_paciente,data_nascimento:Br||Ta.data_nascimento,rg:Ta.rg||qa,idade:Ta.idade||vn,email_paciente:Ta.email_paciente||Xr}))}try{const pt=Xr=>Xr==null?null:String(Xr),xn=[];let Br=null,qa=null;if(aa)Br=((on=aa==null?void 0:aa.medico)==null?void 0:on.id)||(aa==null?void 0:aa.medico)||(aa==null?void 0:aa.medico_id)||null,qa=((AA=aa==null?void 0:aa.paciente)==null?void 0:AA.id)||(aa==null?void 0:aa.paciente)||(aa==null?void 0:aa.paciente_id)||null;else if(N)try{const{data:Xr}=await Ce.get(`/consultas/${N}/`);Br=((tn=Xr==null?void 0:Xr.medico)==null?void 0:tn.id)||(Xr==null?void 0:Xr.medico)||(Xr==null?void 0:Xr.medico_id)||null,qa=((mc=Xr==null?void 0:Xr.paciente)==null?void 0:mc.id)||(Xr==null?void 0:Xr.paciente)||(Xr==null?void 0:Xr.paciente_id)||null}catch(Xr){console.error("Erro ao carregar dados do mdico:",Xr)}qa&&String(qa)!==String(f)&&xn.push("Paciente da consulta no corresponde ao paciente exibido."),Jt(Xr=>{var Ta,Ls;const vn=(Ta=Xr.expected)==null?void 0:Ta.medicoId;return vn&&Br&&pt(vn)!==pt(Br)&&xn.push("Mdico da consulta no corresponde ao mdico logado."),{ok:xn.length===0,errors:xn,expected:{...Xr.expected,pacienteId:f,consultaId:N,medicoId:vn||((Ls=Xr.expected)==null?void 0:Ls.medicoId)||null}}})}catch(pt){console.error("Erro ao carregar dados do paciente:",pt)}}catch(gt){console.error("Erro ao carregar dados:",gt)}}finally{qe&&R(!1)}}return at(),()=>{qe=!1}},[f,N,j==null?void 0:j.cpf,j.paciente]);const kt=qe=>{const{name:at,value:_t}=qe.target;V(It=>({...It,[at]:_t})),e&&(r(!1),a(null),i(""),Ot(null),v&&ur.atualizarReceita(v,{assinada:!1}).catch(()=>{}),p({title:"Assinatura invalidada",description:"A receita foi alterada. Assine novamente para validade jurdica."}))},jt=()=>{$(!0),p({title:"Receita validada",description:"Os dados foram conferidos. Voc pode gerar o documento."})},Nr=(qe,at="Receita_Medica")=>{const _t=URL.createObjectURL(qe),It=document.createElement("a");It.href=_t;const Ct=/\.[a-z0-9]+$/i.test(at);It.download=Ct?at:`${at}.pdf`,document.body.appendChild(It),It.click(),It.remove(),setTimeout(()=>URL.revokeObjectURL(_t),2e3)},Nt=()=>{var qe;return He!=null&&He.ok||p({title:"Vnculo invlido",description:((qe=He.errors)==null?void 0:qe.join(` 
`))||"Verifique dados da consulta, mdico e paciente.",variant:"destructive"}),!0},Bt=async()=>{var qe,at,_t;try{if(v)return v;const It=await ur.getPerfil().catch(()=>null),Ct=((qe=It==null?void 0:It.medico)==null?void 0:qe.id)||(It==null?void 0:It.id)||null,mr={paciente_id:f,consulta_id:N||void 0,medico_id:Ct||void 0,nome_paciente:E.nome_paciente,cpf:E.rg,data_nascimento:T(E.data_nascimento),medicamento:E.medicamento,posologia:E.posologia,validade:T(E.validade_receita),observacoes:E.observacoes,medico:E.medico,crm:E.crm,endereco_consultorio:E.endereco_consultorio,telefone_consultorio:E.telefone_consultorio,email_paciente:E.email_paciente||void 0},or=await ur.criarReceita(mr),$r=(or==null?void 0:or.id)||(or==null?void 0:or.receita_id)||(or==null?void 0:or.uuid);if($r){x($r);try{const ea=[];if(F)S.forEach(Kt=>{var da,Qa;ea.push({medicamento_id:((da=Kt.medicamento)==null?void 0:da.id)||void 0,dose:Kt.dose||void 0,frequencia:Kt.frequencia||void 0,duracao:Kt.duracao||void 0,observacoes:Kt.observacoes||void 0,descricao:((Qa=Kt.medicamento)==null?void 0:Qa.nome)||Kt.descricao||void 0,posologia:`${Kt.dose||""} ${Kt.frequencia||""} ${Kt.duracao||""}`.trim()||void 0})});else{const Kt=!!(E.medicamento&&String(E.medicamento).trim()),da=!!(E.posologia&&String(E.posologia).trim());(Kt||da)&&ea.push({descricao:E.medicamento||void 0,posologia:E.posologia||void 0,observacoes:E.observacoes||void 0})}ea.length&&await ur.salvarItensReceita($r,ea)}catch(ea){try{console.warn("Falha ao salvar itens da receita:",(at=ea==null?void 0:ea.response)==null?void 0:at.status,((_t=ea==null?void 0:ea.response)==null?void 0:_t.data)||(ea==null?void 0:ea.message))}catch{}}}return $r||null}catch{return v||null}},vt=async()=>{var qe;if(Nt()){K(!0);try{const{pdfTemplateService:at}=await ul(async()=>{const{pdfTemplateService:Qt}=await Promise.resolve().then(()=>fk);return{pdfTemplateService:Qt}},void 0);try{const Qt=await ur.getPerfil().catch(()=>null),Fr=(Qt==null?void 0:Qt.user)||{},gn=(E.medico||`${Fr.first_name||""} ${Fr.last_name||""}`.trim()).trim(),Ks=E.crm||(Qt==null?void 0:Qt.crm)||((qe=Qt==null?void 0:Qt.medico)==null?void 0:qe.crm)||"",Us=E.endereco_consultorio||(Qt==null?void 0:Qt.endereco_consultorio)||(Qt==null?void 0:Qt.endereco)||"",ts=E.telefone_consultorio||(Qt==null?void 0:Qt.telefone_consultorio)||(Qt==null?void 0:Qt.telefone)||"";V(As=>{var on;return{...As,medico:gn||As.medico,crm:Ks||As.crm,endereco_consultorio:Us||As.endereco_consultorio,telefone_consultorio:ts||As.telefone_consultorio,nome_paciente:As.nome_paciente||((on=j==null?void 0:j.paciente)==null?void 0:on.nome)||As.nome_paciente}}),await new Promise(As=>requestAnimationFrame(()=>As()))}catch{}const _t={medicamento:E.medicamento,medicamentos:E.medicamento,posologia:E.posologia,observacoes:E.observacoes,validade_receita:E.validade_receita,data_prescricao:new Date().toISOString(),itens:F?S.map(Qt=>{var Fr,gn,Ks,Us;return{medicamento:((Fr=Qt.medicamento)==null?void 0:Fr.nome)||Qt.descricao,apresentacao:(gn=Qt.medicamento)==null?void 0:gn.apresentacao,concentracao:(Ks=Qt.medicamento)==null?void 0:Ks.concentracao,fabricante:(Us=Qt.medicamento)==null?void 0:Us.fabricante,dose:Qt.dose,frequencia:Qt.frequencia,duracao:Qt.duracao,posologia:`${Qt.dose||""} ${Qt.frequencia||""} ${Qt.duracao||""}`.trim(),observacoes:Qt.observacoes}}):E.medicamento?[{medicamento:E.medicamento,posologia:E.posologia,observacoes:E.observacoes}]:[],hasStructuredItems:F},It={nome:E.medico,crm:E.crm,especialidade:E.especialidade||"",endereco_consultorio:E.endereco_consultorio,telefone_consultorio:E.telefone_consultorio,email:E.email_medico||""},Ct={nome:E.nome_paciente,idade:E.idade,rg:E.rg,cpf:E.rg,data_nascimento:E.data_nascimento,endereco:E.endereco_paciente||"",telefone:E.telefone_paciente||""};let mr=E.medico_id||null;try{mr||(mr=await ur._resolveMedicoId().catch(()=>null)||localStorage.getItem("medico_id")||"default")}catch{mr=mr||localStorage.getItem("medico_id")||"default"}const or=await at.generatePDFFromElement("#receita-preview",{pageSize:"a4",orientation:"portrait",scale:2}),$r={filename:`Receita_${E.nome_paciente||"Medica"}.pdf`,blob:or},ea={paciente_nome:E.nome_paciente,idade:E.idade,rg:E.rg,cpf:E.rg,data_nascimento:T(E.data_nascimento),medicamento:E.medicamento,medicamentos:E.medicamento,posologia:E.posologia,medico_nome:E.medico,medico_crm:E.crm,endereco_consultorio:E.endereco_consultorio,telefone_consultorio:E.telefone_consultorio,validade_receita:T(E.validade_receita),observacoes:E.observacoes},Kt=$r==null?void 0:$r.blob,da=($r==null?void 0:$r.filename)||`Receita_${E.nome_paciente||"Medica"}.pdf`;if(!(Kt instanceof Blob))throw new Error("Falha ao gerar PDF - resposta invlida");const Qa=await Bt();let gr=Kt,Ea=da,Ra=!1;if(String(E.formato).toLowerCase()==="pdf"&&(Ra=!1),l(gr),d(Ea),Ra){r(!0),a(gr),i(Ea);try{const Qt=await w(Kt),Fr=await w(gr);Qa&&(await ur.atualizarReceita(Qa,{assinada:!0,hash_alg:"SHA-256",hash_pre:Qt,hash_documento:Fr}),await ur.registrarAuditoriaAssinatura({receita_id:Qa,valido:!0,hash_alg:"SHA-256",hash_pre:Qt,hash_documento:Fr,motivo:"Receita Mdica",arquivo:Ea}))}catch(Qt){console.error("Erro ao atualizar receita:",Qt)}}else r(!1),a(null),i("");Nr(gr,Ea),p({title:"Documento gerado",description:"PDF gerado com sucesso!"})}catch(at){console.error("Erro na gerao de documento:",at);const _t=(at==null?void 0:at.message)||"Falha ao gerar documento";p({title:"Erro",description:_t,variant:"destructive"})}finally{K(!1)}}},yt=async()=>{try{if(o||await vt(),!o){p({title:"Erro",description:" necessrio gerar o PDF antes de assinar",variant:"destructive"});return}X(!0)}catch(qe){console.error("Erro ao preparar para assinatura:",qe),p({title:"Erro",description:"Falha ao preparar o documento para assinatura",variant:"destructive"})}},[Qr,Ir]=y.useState(!1);y.useEffect(()=>{if(!z)return;let qe=!1;async function at(){try{const It=await(await Mw()).detectTokens(),Ct=Array.isArray(It==null?void 0:It.tokens)?It.tokens:Array.isArray(It)?It:[];!qe&&Ct.length>0?(Ir(!0),ue("token")):qe||(Ir(!1),ue("pfx"))}catch{qe||(Ir(!1),ue("pfx"))}}return at(),()=>{qe=!0}},[z]);async function Tt(){if(o||await vt(),!o)throw new Error("Falha ao gerar o documento");const qe=await w(o);return{blob:o,hashHex:qe}}async function hr(){var qe,at,_t,It;K(!0);try{let Ct,mr;if(o)Ct=o,mr=await w(o);else{const or=await Tt();Ct=or.blob,mr=or.hashHex}if(ne==="token"){const or=await Mw(),$r=await or.detectTokens();if(!(Array.isArray($r==null?void 0:$r.tokens)?$r.tokens:[]).length)throw p({title:"Agente local indisponvel",description:"Conecte o token/smartcard e inicie o agente local em http://localhost:8172.",variant:"destructive"}),new Error("Agente local no disponvel");const Kt=await or.signHash({document_hash:mr,format:"PAdES",pin:_||void 0});if((Kt==null?void 0:Kt.status)!=="ok"||!(Kt!=null&&Kt.assinatura)||!(Kt!=null&&Kt.certificado)){const Fr=(Kt==null?void 0:Kt.message)||"Falha ao assinar via agente local";throw new Error(Fr)}if(String(Kt.assinatura).includes("MOCK_")||String(Kt.certificado).includes("MOCK_"))throw p({title:"Assinatura invlida (mock)",description:"Inicie o agente local real ou use certificado PFX.",variant:"destructive"}),new Error("Assinatura mock no aceita");const Qa=await Bt(),gr=new File([Ct],A||"receita.pdf",{type:"application/pdf"});let Ea;try{Ea=await(await Mw()).finalizeWithBackend({receitaId:Qa,pdfFile:gr,assinatura:Kt.assinatura,certificado:Kt.certificado,cert_subject:((qe=Kt==null?void 0:Kt.certDetails)==null?void 0:qe.subjectName)||void 0,hash_pre:mr})}catch{Ea=await ur.finalizarAssinaturaExterna({receitaId:Qa,pdfFile:gr,assinatura:Kt.assinatura,certificado:Kt.certificado})}const Ra=Ea==null?void 0:Ea.blob,Qt=(Ea==null?void 0:Ea.filename)||A||"receita_assinada.pdf";if(!(Ra instanceof Blob))throw new Error("Finalizao da assinatura falhou");r(!0),a(Ra),i(Qt),Ot(new Date().toISOString());try{ct(Kt.certDetails||{algorithm:"SHA256-RSA"})}catch{}try{const Fr=await w(Ct),gn=await w(Ra);Qa&&(await ur.atualizarReceita(Qa,{assinada:!0,hash_alg:"SHA-256",hash_pre:Fr,hash_documento:gn}),await ur.registrarAuditoriaAssinatura({receita_id:Qa,valido:!0,hash_alg:"SHA-256",hash_pre:Fr,hash_documento:gn,motivo:"Receita Mdica",arquivo:Qt}))}catch(Fr){console.error("Erro ao atualizar registro:",Fr)}_e(),p({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),X(!1)}else if(ne==="pfx"){if(!xe){p({title:"Certificado ausente",description:"Selecione o arquivo .pfx/.p12.",variant:"destructive"});return}const or=String((xe==null?void 0:xe.name)||"").toLowerCase();if(!(or.endsWith(".pfx")||or.endsWith(".p12"))){p({title:"Arquivo invlido",description:"Apenas .pfx ou .p12 so aceitos.",variant:"destructive"});return}const ea=10*1024*1024;if(xe.size>ea){p({title:"Arquivo muito grande",description:"Limite de 10 MB para PFX.",variant:"destructive"});return}if(!dt||!dt.trim()){p({title:"Senha obrigatria",description:"Informe a senha do certificado PFX.",variant:"destructive"});return}if(dt.trim().length<4){p({title:"Senha fraca",description:"A senha deve ter pelo menos 4 caracteres.",variant:"destructive"});return}const Kt=await Bt();let da=null;try{da=await ur.getCertificadoInfo()}catch(Fr){console.warn("No foi possvel obter informaes do certificado:",Fr)}const Qa=await ur.applySignatureStamp(Ct,{signerName:E.medico||void 0,receitaId:Kt||void 0,certInfo:da}),gr=new File([Qa],A||`Receita_${E.nome_paciente||"Medica"}.pdf`,{type:"application/pdf"}),Ea={motivo:"Receita Mdica",local:E.endereco_consultorio||"Consultrio",receitaId:Kt||void 0,pfxFile:xe||void 0,pfxPassword:dt||""},{filename:Ra,blob:Qt}=await ur.signDocumento(gr,Ea);r(!0),a(Qt),i(Ra||A||gr.name),Ot(new Date().toISOString());try{const Fr=await ur.getCertificadoInfo();ct(Fr||null)}catch(Fr){console.error("Erro ao obter informaes do certificado:",Fr)}try{const Fr=await w(Ct),gn=await w(Qt);Kt&&(await ur.atualizarReceita(Kt,{assinada:!0,hash_alg:"SHA-256",hash_pre:Fr,hash_documento:gn,motivo:"Receita Mdica"}),await ur.registrarAuditoriaAssinatura({receita_id:Kt,valido:!0,hash_alg:"SHA-256",hash_pre:Fr,hash_documento:gn,motivo:"Receita Mdica",arquivo:Ra}))}catch(Fr){console.error("Erro ao atualizar registro:",Fr)}_e(),p({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),X(!1)}}catch(Ct){const mr=(at=Ct==null?void 0:Ct.response)==null?void 0:at.status,or=((It=(_t=Ct==null?void 0:Ct.response)==null?void 0:_t.data)==null?void 0:It.detail)||(Ct==null?void 0:Ct.message)||"Falha ao assinar o documento";console.warn("[PreviewReceita] Erro assinatura:",mr,or),p({title:"Erro na assinatura",description:`${or}${mr?` [HTTP ${mr}]`:""}`,variant:"destructive"})}finally{K(!1)}}const nt=y.useCallback(()=>{const qe=E.nome_paciente||"Paciente",at=E.medico||"Dr(a).";let _t="medicamentos prescritos";F?_t=S.map(Kt=>{var da;return((da=Kt.medicamento)==null?void 0:da.nome)||Kt.descricao||"Medicamento"}).join(", "):E.medicamento&&(_t=E.medicamento);const It=new Date().toLocaleDateString("pt-BR"),Ct=`Nova Receita Mdica - ${qe} - ${It}`,mr=`Prezado(a) ${qe},

Voc tem uma nova receita mdica disponvel, prescrita pelo ${at} em ${It}.

Medicamentos prescritos: ${_t}

Para visualizar e baixar sua receita completa, acesse sua rea do paciente em nosso portal.

Atenciosamente,
${at}
${E.endereco_consultorio||"Consultrio Mdico"}
${E.telefone_consultorio||""}`,or=`${qe}, voc tem nova receita mdica de ${at}. Acesse o portal para visualizar. ${It}`,$r=`Nova Receita - ${at}`,ea=`Ol ${qe}! Voc tem uma nova receita mdica disponvel, prescrita pelo ${at} em ${It}. Clique aqui para visualizar os detalhes e fazer o download.`;return{assuntoEmail:Ct,mensagemEmail:mr,mensagemSMS:or,tituloInterno:$r,mensagemInterna:ea}},[E.nome_paciente,E.medico,E.medicamento,E.endereco_consultorio,E.telefone_consultorio,F,S]),[Re,it]=y.useState(["interno","email"]),[bt,Je]=y.useState(""),[Lt,lr]=y.useState({assuntoEmail:"Nova receita mdica",mensagemEmail:"",mensagemSMS:"",tituloInterno:"Nova receita mdica disponvel",mensagemInterna:"Voc tem uma nova receita mdica disponvel. Acesse sua rea do paciente para visualizar."});y.useEffect(()=>{if(E.nome_paciente&&E.medico){const qe=nt();lr(at=>({...at,...qe}))}},[E.nome_paciente,E.medico,E.medicamento,E.endereco_consultorio,E.telefone_consultorio]);async function ir(){var qe,at,_t,It;if(Nt()){if(Re.includes("sms")){const Ct=bt==null?void 0:bt.replace(/\D/g,"");if(!Ct||Ct.length<10){p({title:"Telefone invlido",description:"Informe um nmero de telefone vlido para envio por SMS.",variant:"destructive"});return}}if(Re.includes("email")&&!((qe=E.email_paciente)!=null&&qe.trim())){p({title:"E-mail obrigatrio",description:"Informe o e-mail do paciente para envio por e-mail.",variant:"destructive"});return}K(!0);try{if(o||await vt(),!e||!(t instanceof Blob)){if(!(mt!=null&&mt.arquivo)){p({title:"Certificado necessrio",description:"Configure um certificado digital antes de enviar a receita.",variant:"destructive"});return}try{const gr=await Bt(),Ea=o;if(!Ea){p({title:"Erro",description:"No foi possvel gerar o documento para assinatura.",variant:"destructive"});return}const Ra=await ur.assinarDocumento({pdfFile:Ea,certificado:mt.arquivo,senha:mt.senha,motivo:"Receita Mdica",receita_id:gr,modo_assinatura:mt.modo||"pfx"});if(Ra!=null&&Ra.blob){const Qt=await w(Ea),Fr=await w(Ra.blob),gn=Ra.filename||`Receita_${E.nome_paciente||"Medica"}_assinada.pdf`;r(!0),a(Ra.blob),i(gn),await ur.atualizarReceita(gr,{assinada:!0,hash_alg:"SHA-256",hash_pre:Qt,hash_documento:Fr}),await ur.registrarAuditoriaAssinatura({receita_id:gr,valido:!0,hash_alg:"SHA-256",hash_pre:Qt,hash_documento:Fr,motivo:"Receita Mdica",arquivo:gn}),p({title:"Documento assinado",description:"Receita assinada automaticamente antes do envio."})}else throw new Error("Falha na assinatura automtica")}catch(gr){console.error("[PreviewReceita] Erro na assinatura automtica:",gr),p({title:"Erro na assinatura",description:"No foi possvel assinar automaticamente. Configure o certificado e tente novamente.",variant:"destructive"});return}}if(!e||!(t instanceof Blob)){p({title:"Assinatura obrigatria",description:"A receita precisa ser assinada antes do envio ao paciente.",variant:"destructive"});return}const Ct=await Bt(),mr=t,or=s||A||`Receita_${E.nome_paciente||"Medica"}_assinada.pdf`,$r={nome:E.nome_paciente,email:E.email_paciente,telefone:bt||E.telefone_paciente},ea={...Lt,linkSite:window.location.origin,linkDownload:Ct?`${window.location.origin}/api/receitas/${Ct}/download/`:null},Kt=await oX.enviarReceitaMulticanal({pacienteId:f,receitaId:Ct,arquivo:mr,nomeArquivo:or,canais:Re,dadosPaciente:$r,configuracoes:ea}),da=[],Qa=[];Kt.interno&&da.push("notificao interna"),Kt.email&&da.push("e-mail"),Kt.sms&&da.push("SMS"),Kt.erros.forEach(gr=>{Qa.push(`${gr.canal}: ${gr.erro}`)}),da.length>0?p({title:"Receita enviada",description:`Receita enviada com sucesso via: ${da.join(", ")}.${Qa.length>0?` Falhas: ${Qa.join("; ")}`:""}`}):p({title:"Erro no envio",description:`Falha em todos os canais: ${Qa.join("; ")}`,variant:"destructive"}),da.length>0&&m(`/medico/paciente/${f}/receita/confirmacao`,{state:{receitaId:Ct||null,email:E.email_paciente||null,filename:or,canaisEnviados:da,resultados:Kt}})}catch(Ct){const mr=(at=Ct==null?void 0:Ct.response)==null?void 0:at.status,or=((It=(_t=Ct==null?void 0:Ct.response)==null?void 0:_t.data)==null?void 0:It.detail)||(Ct==null?void 0:Ct.message)||"Falha ao enviar a receita";p({title:"Erro ao enviar",description:`${or}${mr?` [HTTP ${mr}]`:""}`,variant:"destructive"})}finally{K(!1)}}}return G?n.jsx("div",{children:"Carregando preview..."}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ja,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Preview da Receita"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Dados da Receita"})}),n.jsxs(Le,{className:"space-y-4",children:[He.ok?null:n.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 p-3 text-sm",children:[n.jsx("div",{className:"font-medium mb-1",children:"Inconsistncias de vnculo detectadas"}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:(Za=He.errors)==null?void 0:Za.map((qe,at)=>n.jsx("li",{children:qe},at))})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Nome do Paciente"}),n.jsx(Ke,{name:"nome_paciente",value:E.nome_paciente,onChange:kt,placeholder:"Joo da Silva"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Idade"}),n.jsx(Ke,{name:"idade",value:E.idade,onChange:kt,placeholder:"45"})]}),n.jsxs("div",{children:[n.jsx(De,{children:"CPF"}),n.jsx(Ke,{name:"rg",value:E.rg,onChange:kt,placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Data de Nascimento"}),n.jsx(Os,{name:"data_nascimento",value:T(E.data_nascimento),onChange:qe=>kt({target:{name:"data_nascimento",value:qe}}),maxDate:new Date})]})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Medicamentos e Posologia"}),F?n.jsxs("div",{className:"space-y-3 border rounded-md p-3 bg-muted/20",children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Itens estruturados:"}),S.map((qe,at)=>{var _t,It;return n.jsxs("div",{className:"border-l-2 border-primary/20 pl-3 space-y-1",children:[n.jsx("div",{className:"font-medium",children:((_t=qe.medicamento)==null?void 0:_t.nome)||qe.descricao||`Item ${at+1}`}),((It=qe.medicamento)==null?void 0:It.apresentacao)&&n.jsx("div",{className:"text-sm text-muted-foreground",children:qe.medicamento.apresentacao}),(qe.dose||qe.frequencia||qe.duracao)&&n.jsx("div",{className:"text-sm",children:[qe.dose,qe.frequencia,qe.duracao].filter(Boolean).join("  ")}),qe.observacoes&&n.jsx("div",{className:"text-sm text-muted-foreground italic",children:qe.observacoes})]},at)}),n.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:"Campos legados sero preenchidos automaticamente para compatibilidade."})]}):n.jsxs(n.Fragment,{children:[n.jsx(oa,{name:"medicamento",rows:3,value:E.medicamento,onChange:kt,placeholder:"Nome do medicamento, dose, apresentao..."}),n.jsxs("div",{className:"mt-2",children:[n.jsx(De,{children:"Posologia"}),n.jsx(oa,{name:"posologia",rows:3,value:E.posologia,onChange:kt,placeholder:"Ex: 1 comprimido de 12/12h por 7 dias"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Validade da Receita"}),n.jsx(Os,{name:"validade_receita",value:T(E.validade_receita),onChange:qe=>kt({target:{name:"validade_receita",value:qe}}),minDate:new Date})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Formato"}),n.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"formato",value:E.formato,onChange:kt,children:[n.jsx("option",{value:"pdf",children:"PDF"}),n.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx(De,{className:"text-base font-semibold",children:"Opes de Envio"}),n.jsxs("div",{className:"space-y-4 mt-3",children:[n.jsxs("div",{children:[n.jsx(De,{className:"text-sm font-medium",children:"Canais de Envio"}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Og,{id:"canal-interno",checked:Re.includes("interno"),onCheckedChange:qe=>{it(qe?[...Re,"interno"]:Re.filter(at=>at!=="interno"))}}),n.jsxs(De,{htmlFor:"canal-interno",className:"flex items-center gap-1",children:[n.jsx(sm,{className:"h-4 w-4"}),"Notificao Interna"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Og,{id:"canal-email",checked:Re.includes("email"),onCheckedChange:qe=>{it(qe?[...Re,"email"]:Re.filter(at=>at!=="email"))}}),n.jsxs(De,{htmlFor:"canal-email",className:"flex items-center gap-1",children:[n.jsx(fl,{className:"h-4 w-4"}),"E-mail"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Og,{id:"canal-sms",checked:Re.includes("sms"),onCheckedChange:qe=>{it(qe?[...Re,"sms"]:Re.filter(at=>at!=="sms"))}}),n.jsxs(De,{htmlFor:"canal-sms",className:"flex items-center gap-1",children:[n.jsx(xj,{className:"h-4 w-4"}),"SMS"]})]})]})]}),Re.includes("sms")&&n.jsxs("div",{children:[n.jsx(De,{children:"Telefone para SMS"}),n.jsx(Ke,{value:bt,onChange:qe=>Je(qe.target.value),placeholder:"(11) 99999-9999"}),bt&&!/^\(?[1-9]{2}\)?\s?9?\d{4}-?\d{4}$/.test(bt.replace(/\D/g,""))&&n.jsx("div",{className:"text-xs text-red-500 mt-1",children:"Formato invlido. Use: (11) 99999-9999 ou 11999999999"})]}),Re.includes("email")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" E-mail ser enviado automaticamente com assunto e mensagem padro"}),Re.includes("sms")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" SMS ser enviado automaticamente com mensagem padro"}),Re.includes("interno")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" Notificao interna ser enviada automaticamente"})]})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Observaes (opcional)"}),n.jsx(oa,{name:"observacoes",rows:2,value:E.observacoes,onChange:kt,placeholder:"Orientaes adicionais ao paciente"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[n.jsxs(ye,{type:"button",onClick:jt,variant:Q?"secondary":"default",className:"flex items-center gap-2",children:[n.jsx(Io,{className:"h-4 w-4"}),Q?" Validado":"Validar Receita"]}),n.jsxs(ye,{type:"button",onClick:vt,disabled:ee,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(sI,{className:"h-4 w-4"}),ee?"Gerando...":"Gerar PDF"]}),n.jsxs(ye,{type:"button",variant:"default",onClick:yt,disabled:ee||!Q,className:`flex items-center gap-2 ${e?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[n.jsx(ci,{className:"h-4 w-4"}),ee?"Assinando...":e?" Assinada Digitalmente":"Assinar Receita"]}),n.jsxs(ye,{type:"button",variant:"secondary",onClick:ir,disabled:ee||Re.length===0||!e,className:"flex items-center gap-2",children:[Re.includes("interno")&&n.jsx(sm,{className:"h-4 w-4"}),Re.includes("email")&&n.jsx(fl,{className:"h-4 w-4"}),Re.includes("sms")&&n.jsx(xj,{className:"h-4 w-4"}),Re.length===0?"Selecione um canal":Re.length===1?`Enviar via ${Re[0]==="interno"?"Interno":Re[0]==="email"?"E-mail":"SMS"}`:`Enviar via ${Re.length} canais`]})]})]})]}),n.jsxs(ke,{className:"bg-white",children:[n.jsx(We,{children:n.jsx(Xe,{children:"Pr-visualizao"})}),n.jsx(Le,{children:n.jsxs("div",{id:"receita-preview",className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[M.logoPosition==="center"?n.jsxs("div",{className:`${M.headerBorderBottom?"border-b":""} pb-3 flex flex-col items-center`,style:{backgroundColor:M.headerBgColor,borderBottomColor:M.headerBorderColor},children:[M.showLogo&&(J!=null&&J.data)?n.jsx("img",{src:J.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null,n.jsxs("div",{className:"mt-2 text-center w-full",children:[n.jsx("div",{className:"font-bold",style:{fontSize:M.titleSize,color:M.primaryColor},children:((ws=W==null?void 0:W.branding)==null?void 0:ws.clinicName)||E.medico||"Consultrio Mdico"}),((wt=W==null?void 0:W.header)==null?void 0:wt.showDoctorInfo)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-semibold",style:{color:M.primaryColor},children:E.medico}),E.crm&&n.jsxs("div",{style:{fontSize:M.smallSize,color:M.secondaryColor},children:["CRM: ",E.crm]})]}),n.jsx("div",{className:"text-sm",style:{fontSize:M.smallSize,color:M.secondaryColor},children:((nr=W==null?void 0:W.branding)==null?void 0:nr.clinicAddress)||E.endereco_consultorio}),n.jsxs("div",{className:"text-sm",style:{fontSize:M.smallSize,color:M.secondaryColor},children:["Telefone: ",((Zn=W==null?void 0:W.branding)==null?void 0:Zn.clinicPhone)||E.telefone_consultorio]}),(es=W==null?void 0:W.branding)!=null&&es.clinicEmail||E.email_medico?n.jsxs("div",{className:"text-sm",style:{fontSize:M.smallSize,color:M.secondaryColor},children:["E-mail: ",((pn=W==null?void 0:W.branding)==null?void 0:pn.clinicEmail)||E.email_medico]}):null]})]}):n.jsxs("div",{className:`flex items-center justify-between ${M.headerBorderBottom?"border-b":""} pb-3`,style:{backgroundColor:M.headerBgColor,borderBottomColor:M.headerBorderColor},children:[M.logoPosition==="left"&&M.showLogo&&(J!=null&&J.data)?n.jsx("img",{src:J.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null,n.jsxs("div",{className:`${M.doctorInfoPosition==="center"?"text-center":M.doctorInfoPosition==="left"?"text-left":"text-right"} flex-1 ml-4`,children:[n.jsx("div",{className:"font-bold",style:{fontSize:M.titleSize,color:M.primaryColor},children:((Pa=W==null?void 0:W.branding)==null?void 0:Pa.clinicName)||E.medico||"Consultrio Mdico"}),((ca=W==null?void 0:W.header)==null?void 0:ca.showDoctorInfo)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-semibold",style:{color:M.primaryColor},children:E.medico}),E.crm&&n.jsxs("div",{style:{fontSize:M.smallSize,color:M.secondaryColor},children:["CRM: ",E.crm]})]}),n.jsx("div",{className:"text-sm",style:{fontSize:M.smallSize,color:M.secondaryColor},children:((za=W==null?void 0:W.branding)==null?void 0:za.clinicAddress)||E.endereco_consultorio}),n.jsxs("div",{className:"text-sm",style:{fontSize:M.smallSize,color:M.secondaryColor},children:["Telefone: ",((en=W==null?void 0:W.branding)==null?void 0:en.clinicPhone)||E.telefone_consultorio]}),(Si=W==null?void 0:W.branding)!=null&&Si.clinicEmail||E.email_medico?n.jsxs("div",{className:"text-sm",style:{fontSize:M.smallSize,color:M.secondaryColor},children:["E-mail: ",((Wi=W==null?void 0:W.branding)==null?void 0:Wi.clinicEmail)||E.email_medico]}):null]}),M.logoPosition==="right"&&M.showLogo&&(J!=null&&J.data)?n.jsx("img",{src:J.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null]}),n.jsxs("div",{className:"text-center my-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),E.nome_paciente]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Idade: "}),E.idade]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF: "}),E.rg]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),E.data_nascimento]})]}),n.jsxs("div",{className:"text-center text-xl font-semibold my-4",children:["Prescrio Mdica",e&&n.jsx("div",{className:"text-sm text-green-600 font-normal mt-1",children:" Assinada Digitalmente"}),!e&&n.jsx("div",{className:"text-sm text-orange-600 font-normal mt-1",children:" Aguardando Assinatura Digital"})]}),n.jsx("div",{className:"text-center",children:F?n.jsx("div",{className:"space-y-4",children:S.map((qe,at)=>{var _t,It;return n.jsxs("div",{className:"border-b border-muted pb-3 last:border-b-0",children:[n.jsx("div",{className:"font-semibold",children:((_t=qe.medicamento)==null?void 0:_t.nome)||qe.descricao||`Medicamento ${at+1}`}),((It=qe.medicamento)==null?void 0:It.apresentacao)&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:qe.medicamento.apresentacao}),(qe.dose||qe.frequencia||qe.duracao)&&n.jsx("div",{className:"mt-2",children:[qe.dose,qe.frequencia,qe.duracao].filter(Boolean).join("  ")}),qe.observacoes&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1 italic",children:qe.observacoes})]},at)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:E.medicamento}),E.posologia?n.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:E.posologia}):null]})}),n.jsxs("div",{className:"text-center my-6",children:[n.jsxs("div",{children:["Data de Emisso: ",k]}),n.jsxs("div",{children:["Validade da Receita: ",E.validade_receita||""]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:""}),E.medico&&n.jsxs("div",{children:["Dr(a). ",E.medico,E.crm?`  CRM ${E.crm}`:""]}),e?n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente conforme ICP-Brasil",Ue!=null&&Ue.subject_name||Ue!=null&&Ue.nome||Ue!=null&&Ue.subject?n.jsxs(n.Fragment,{children:["  Titular: ",(Ue==null?void 0:Ue.subject_name)||(Ue==null?void 0:Ue.nome)||(Ue==null?void 0:Ue.subject)]}):null,E.crm?n.jsxs(n.Fragment,{children:["  CRM: ",E.crm]}):null,E.rg?n.jsxs(n.Fragment,{children:["  CPF: ",E.rg]}):null,Ue!=null&&Ue.algorithm?n.jsxs(n.Fragment,{children:["  Algoritmo: ",Ue.algorithm]}):n.jsx(n.Fragment,{children:"  Algoritmo: SHA256-RSA"}),et?n.jsxs(n.Fragment,{children:["  Carimbo: ",new Date(et).toLocaleString()]}):null,Ue!=null&&Ue.valid_to||Ue!=null&&Ue.not_after||Ue!=null&&Ue.valid_until?n.jsxs(n.Fragment,{children:["  Vlido at: ",new Date((Ue==null?void 0:Ue.valid_to)||(Ue==null?void 0:Ue.not_after)||(Ue==null?void 0:Ue.valid_until)).toLocaleDateString()]}):null]}):n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]})})]})})]})]}),n.jsx(Nu,{open:z,onOpenChange:X,children:n.jsxs(xd,{className:"sm:max-w-[500px] space-y-6",children:[n.jsxs(vd,{children:[n.jsxs(wd,{className:"flex items-center gap-2",children:[n.jsx(ci,{className:"h-5 w-5 text-blue-600"}),"Assinatura Digital da Receita"]}),n.jsx(Qm,{children:"Escolha o mtodo de assinatura digital para validar juridicamente a receita mdica."})]}),n.jsx(xs,{}),n.jsxs(Vi,{value:ne,onValueChange:ue,className:"w-full",children:[n.jsxs(zi,{className:"grid grid-cols-2 w-full",children:[n.jsxs(Ur,{value:"token",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Token/Smartcard"]}),n.jsxs(Ur,{value:"pfx",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Certificado PFX"]})]}),n.jsx(Or,{value:"token",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[n.jsx(ci,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Assinatura via Token"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"token-pin",children:"PIN do Token"}),n.jsx(Ke,{id:"token-pin",type:"password",value:_,onChange:qe=>I(qe.target.value),placeholder:"Digite o PIN do seu token",className:"bg-white"})]}),n.jsx("p",{className:"text-xs text-green-700",children:" Conecte seu token USB ou smartcard e insira o PIN para assinar digitalmente."})]})}),n.jsx(Or,{value:"pfx",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[n.jsx(ci,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Certificado Digital PFX"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pfx-file",children:"Arquivo do Certificado"}),n.jsx(Ke,{id:"pfx-file",type:"file",accept:".pfx,.p12",className:"bg-white",onChange:qe=>{var mr;const at=((mr=qe.target.files)==null?void 0:mr[0])||null;if(!at){Ae(null);return}const _t=(at.name||"").toLowerCase(),It=_t.endsWith(".pfx")||_t.endsWith(".p12"),Ct=10*1024*1024;if(!It){p({title:"Arquivo invlido",description:"Selecione um arquivo .pfx ou .p12.",variant:"destructive"}),qe.target.value="",Ae(null);return}if(at.size>Ct){p({title:"Arquivo muito grande",description:"Limite de 10 MB para certificados PFX.",variant:"destructive"}),qe.target.value="",Ae(null);return}Ae(at)}}),xe&&n.jsxs("div",{className:"text-xs text-blue-700 bg-blue-100 p-2 rounded",children:[" Selecionado: ",xe.name," (",Math.ceil(xe.size/1024)," KB)"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pfx-password",children:"Senha do Certificado"}),n.jsx(Ke,{id:"pfx-password",type:"password",value:dt,onChange:qe=>Ft(qe.target.value),placeholder:"Digite a senha do certificado",className:"bg-white"}),(!dt||!dt.trim())&&n.jsx("p",{className:"text-xs text-red-600",children:" Senha obrigatria para assinatura digital."})]}),n.jsx("p",{className:"text-xs text-blue-700",children:" Selecione seu certificado digital (.pfx ou .p12) e informe a senha."})]})})]}),n.jsxs(Bu,{className:"gap-2",children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>X(!1),className:"flex-1",children:"Cancelar"}),n.jsx(ye,{type:"button",onClick:hr,disabled:ee,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:ee?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Assinando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ci,{className:"h-4 w-4 mr-2"}),"Confirmar e Assinar"]})})]})]})})]})}function cX(){const{id:e}=pl(),r=cs(),{state:t}=Jn(),a=(t==null?void 0:t.receitaId)||null,s=(t==null?void 0:t.email)||null,i=(t==null?void 0:t.filename)||null;return n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Receita enviada com sucesso"})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[n.jsx(Io,{className:"h-5 w-5"}),n.jsx("span",{children:"O paciente recebeu a receita assinada."})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[s?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fl,{className:"h-4 w-4"}),n.jsxs("span",{children:["Enviado para: ",s]})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fl,{className:"h-4 w-4"}),n.jsx("span",{children:"E-mail do paciente no informado."})]}),i?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ja,{className:"h-4 w-4"}),n.jsxs("span",{children:["Arquivo: ",i]})]}):null,a?n.jsxs("div",{className:"mt-2 text-xs",children:["ID da Receita: ",a]}):null]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(ye,{onClick:()=>r(`/medico/paciente/${e}/receita/preview`),variant:"secondary",children:"Voltar  receita"}),n.jsx(ye,{onClick:()=>r("/medico/meus-pacientes"),children:"Ir para Meus Pacientes"})]})]})]})})})}const AX=({value:e,onChange:r,onSelect:t,placeholder:a="Digite o nome do medicamento...",disabled:s=!1,className:i=""})=>{const[o,l]=y.useState(e||""),[A,d]=y.useState([]),[f,h]=y.useState(!1),[m,p]=y.useState(!1),[v,x]=y.useState(-1),w=y.useRef(null),j=y.useRef(null);y.useEffect(()=>{l(e||"")},[e]);const N=async P=>{if(!P||P.length<2){d([]),p(!1);return}h(!0);try{const E=await cy.search(P);d(E),p(!0),x(-1)}catch(E){console.error("Erro ao buscar medicamentos:",E),d([])}finally{h(!1)}},S=P=>{const E=P.target.value;l(E),r&&r(E),clearTimeout(window.medicamentoSearchTimeout),window.medicamentoSearchTimeout=setTimeout(()=>{N(E)},300)},F=P=>{const E=`${P.nome} - ${P.apresentacao}`;l(E),p(!1),r&&r(E),t&&t(P)},T=P=>{if(!(!m||A.length===0))switch(P.key){case"ArrowDown":P.preventDefault(),x(E=>E<A.length-1?E+1:0);break;case"ArrowUp":P.preventDefault(),x(E=>E>0?E-1:A.length-1);break;case"Enter":P.preventDefault(),v>=0&&v<A.length&&F(A[v]);break;case"Escape":p(!1),x(-1);break}},D=P=>{setTimeout(()=>{p(!1),x(-1)},200)},k=()=>{A.length>0&&p(!0)};return n.jsxs("div",{className:`medicamento-autocomplete ${i}`,children:[n.jsx("input",{ref:w,type:"text",value:o,onChange:S,onKeyDown:T,onBlur:D,onFocus:k,placeholder:a,disabled:s,className:"form-control",autoComplete:"off"}),f&&n.jsx("div",{className:"autocomplete-loading",children:n.jsx("small",{children:"Buscando medicamentos..."})}),m&&A.length>0&&n.jsx("div",{ref:j,className:"autocomplete-suggestions",children:A.map((P,E)=>n.jsxs("div",{className:`suggestion-item ${E===v?"selected":""}`,onClick:()=>F(P),children:[n.jsx("div",{className:"suggestion-name",children:P.nome}),n.jsxs("div",{className:"suggestion-details",children:[P.apresentacao,P.concentracao&&` - ${P.concentracao}`,P.fabricante&&n.jsxs("span",{className:"suggestion-manufacturer",children:[" (",P.fabricante,")"]})]})]},P.id))}),m&&A.length===0&&!f&&o.length>=2&&n.jsx("div",{className:"autocomplete-no-results",children:n.jsx("small",{children:"Nenhum medicamento encontrado"})})]})},dX=({items:e=[],onChange:r,disabled:t=!1,showLegacyFields:a=!0})=>{const[s,i]=y.useState(e),[o,l]=y.useState(""),[A,d]=y.useState("");y.useEffect(()=>{i(e)},[e]);const f=()=>{const x={id:Date.now(),medicamento:null,medicamento_nome:"",dose:"",frequencia:"",duracao:"",observacoes:""},w=[...s,x];i(w),r&&r(w)},h=x=>{const w=s.filter((j,N)=>N!==x);i(w),r&&r(w)},m=(x,w,j)=>{const N=[...s];N[x]={...N[x],[w]:j},i(N),r&&r(N)},p=(x,w)=>{m(x,"medicamento",w.id),m(x,"medicamento_nome",`${w.nome} - ${w.apresentacao}`)},v=()=>{if(!o.trim())return;const x=o.split(`
`).filter(S=>S.trim()),w=A.split(`
`).filter(S=>S.trim()),j=x.map((S,F)=>({id:Date.now()+F,medicamento:null,medicamento_nome:S.trim(),dose:"",frequencia:w[F]?w[F].trim():"",duracao:"",observacoes:""})),N=[...s,...j];i(N),r&&r(N),l(""),d("")};return n.jsxs("div",{className:"receita-item-manager",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[n.jsx("h6",{children:"Medicamentos da Receita"}),n.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:f,disabled:t,children:"+ Adicionar Medicamento"})]}),s.length>0&&n.jsx("div",{className:"receita-items-list",children:s.map((x,w)=>n.jsxs("div",{className:"receita-item-card",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[n.jsxs("span",{className:"item-number",children:["#",w+1]}),n.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(w),disabled:t,children:""})]}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Medicamento"}),n.jsx(AX,{value:x.medicamento_nome,onChange:j=>m(w,"medicamento_nome",j),onSelect:j=>p(w,j),disabled:t,placeholder:"Digite o nome do medicamento..."})]}),n.jsxs("div",{className:"col-md-3 mb-2",children:[n.jsx("label",{className:"form-label",children:"Dose"}),n.jsx("input",{type:"text",className:"form-control",value:x.dose,onChange:j=>m(w,"dose",j.target.value),placeholder:"Ex: 500mg",disabled:t})]}),n.jsxs("div",{className:"col-md-3 mb-2",children:[n.jsx("label",{className:"form-label",children:"Frequncia"}),n.jsx("input",{type:"text",className:"form-control",value:x.frequencia,onChange:j=>m(w,"frequencia",j.target.value),placeholder:"Ex: 2x ao dia",disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Durao"}),n.jsx("input",{type:"text",className:"form-control",value:x.duracao,onChange:j=>m(w,"duracao",j.target.value),placeholder:"Ex: 7 dias",disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Observaes"}),n.jsx("input",{type:"text",className:"form-control",value:x.observacoes,onChange:j=>m(w,"observacoes",j.target.value),placeholder:"Observaes adicionais",disabled:t})]})]})]},x.id||w))}),a&&n.jsxs("div",{className:"legacy-fields mt-4",children:[n.jsx("h6",{children:"Importar de Texto Livre"}),n.jsx("p",{className:"text-muted small",children:"Cole aqui o texto dos medicamentos e posologia para converter em itens estruturados."}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Medicamentos (um por linha)"}),n.jsx("textarea",{className:"form-control",rows:"4",value:o,onChange:x=>l(x.target.value),placeholder:`Ex:
Paracetamol 500mg
Ibuprofeno 400mg`,disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Posologia (uma por linha)"}),n.jsx("textarea",{className:"form-control",rows:"4",value:A,onChange:x=>d(x.target.value),placeholder:`Ex:
1 comprimido de 8/8h por 7 dias
1 comprimido de 12/12h por 5 dias`,disabled:t})]})]}),n.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:v,disabled:t||!o.trim(),children:"Converter para Itens Estruturados"})]}),s.length===0&&n.jsxs("div",{className:"empty-state text-center py-4",children:[n.jsx("p",{className:"text-muted",children:"Nenhum medicamento adicionado ainda."}),n.jsx("button",{type:"button",className:"btn btn-primary",onClick:f,disabled:t,children:"Adicionar Primeiro Medicamento"})]})]})};function uX(){var w,j,N;const{id:e}=pl(),r=Jn(),t=cs();Va();const a=((w=r.state)==null?void 0:w.resumo)||{},s=(j=r.state)==null?void 0:j.consultaId,i=(N=r.state)==null?void 0:N.prontuarioId,[o,l]=y.useState({queixa:a.queixa||"",historia:a.historia||"",diagnostico:a.diagnostico||"",conduta:a.conduta||"",medicamentos:a.medicamentos||"",posologia:a.posologia||"",validade:a.validade||""}),[A,d]=y.useState([]),[f,h]=y.useState(!1),m=S=>{const{name:F,value:T}=S.target;l(D=>({...D,[F]:T}))},p=S=>{d(S);const F=S.map(D=>D.medicamento_nome).filter(Boolean).join(`
`),T=S.map(D=>{const k=[];return D.dose&&k.push(D.dose),D.frequencia&&k.push(D.frequencia),D.duracao&&k.push(D.duracao),D.observacoes&&k.push(`(${D.observacoes})`),k.join(" - ")}).filter(Boolean).join(`
`);l(D=>({...D,medicamentos:F,posologia:T}))},v=async()=>{var S;try{if(i)try{await((S=ur.atualizarProntuario)==null?void 0:S.call(ur,i,{queixa_principal:o.queixa,historia_doenca_atual:o.historia,diagnostico_principal:o.diagnostico,conduta:o.conduta,medicamentos_uso:o.medicamentos}))}catch{}}finally{t(`/medico/paciente/${e}/receita/preview`,{state:{fromConsulta:{medicamentos:o.medicamentos,posologia:o.posologia,validade:o.validade,receitaItems:f?A:void 0},consultaId:s}})}},x=y.useMemo(()=>new Date().toLocaleDateString(),[]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(YL,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Resumo da Consulta"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Informaes Principais"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Queixa Principal"}),n.jsx(oa,{name:"queixa",rows:3,value:o.queixa,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Histria da Doena Atual"}),n.jsx(oa,{name:"historia",rows:4,value:o.historia,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Diagnstico"}),n.jsx(oa,{name:"diagnostico",rows:3,value:o.diagnostico,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Conduta"}),n.jsx(oa,{name:"conduta",rows:3,value:o.conduta,onChange:m})]})]})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center justify-between",children:["Prescrio",n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"useStructured",checked:f,onChange:S=>h(S.target.checked),className:"rounded"}),n.jsx("label",{htmlFor:"useStructured",className:"text-sm font-normal",children:"Usar itens estruturados"})]})]})}),n.jsxs(Le,{className:"space-y-4",children:[f?n.jsx(dX,{items:A,onChange:p,showLegacyFields:!0}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Medicamentos"}),n.jsx(oa,{name:"medicamentos",rows:4,value:o.medicamentos,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Posologia"}),n.jsx(oa,{name:"posologia",rows:3,value:o.posologia,onChange:m})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Validade da Receita"}),n.jsx(Os,{name:"validade",value:o.validade,onChange:S=>m({target:{name:"validade",value:S}}),className:"border rounded h-10 px-3 bg-background",minDate:new Date})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{onClick:v,children:[n.jsx(KL,{className:"h-4 w-4 mr-2"})," Gerar Receita"]}),n.jsx(ye,{variant:"outline",onClick:()=>t(-1),children:"Voltar"})]})]})]})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Resumo Visual"})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Data:"})," ",x]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Queixa:"})," ",o.queixa||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Histria:"})," ",o.historia||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Diagnstico:"})," ",o.diagnostico||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Conduta:"})," ",o.conduta||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Medicamentos:"})," ",o.medicamentos||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Posologia:"})," ",o.posologia||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Validade:"})," ",o.validade||"-"]})]})})]})]})}const di={async getDashboard(){var t;const e=[];e.push("/clinicas/dashboard/");let r;for(const a of e){const s=a.endsWith("/")?a:`${a}/`;try{return console.debug("[clinicaService] GET",s),(await Ce.get(s)).data}catch(i){if(((t=i==null?void 0:i.response)==null?void 0:t.status)===404){r=i;continue}throw i}}throw r||new Error("Endpoint de dashboard da clnica no encontrado.")},getCalendario:(e,r)=>Ce.get(`/clinica/calendario/?mes=${e}&ano=${r}`),getExamesPorData:e=>Ce.get(`/clinica/exames/?data=${e}`),getDisponibilidade:e=>Ce.get(`/clinica/disponibilidade/?data=${e}`),setDisponibilidade:(e,r)=>Ce.post("/clinica/disponibilidade/",{data:e,horarios:r}),updateDisponibilidade:(e,r)=>Ce.put(`/clinica/disponibilidade/${e}/`,r),deleteDisponibilidade:e=>Ce.delete(`/clinica/disponibilidade/${e}/`),getExames:(e={})=>Ce.get("/clinica/exames/",{params:e}),createExame:e=>Ce.post("/clinica/exames/",e),updateExame:(e,r)=>Ce.put(`/clinica/exames/${e}/`,r),deleteExame:e=>Ce.delete(`/clinica/exames/${e}/`),getTiposExame:()=>Ce.get("/clinica/tipos-exame/"),getRelatorios:e=>Ce.get(`/clinica/relatorios/?periodo=${e}`),getPacientes:()=>Ce.get("/clinica/pacientes/"),getMedicos:()=>Ce.get("/clinica/medicos/"),async vincularSecretaria(e){var l,A,d,f;if(!e)throw new Error("secretariaId  obrigatrio");let r=null;try{try{const h=await Ce.get("/clinicas/me/");(l=h==null?void 0:h.data)!=null&&l.id&&(r=h.data.id)}catch{}if(!r){const h=await Ce.get("/clinicas/"),m=Array.isArray((A=h.data)==null?void 0:A.results)?h.data.results:h.data;(d=m==null?void 0:m[0])!=null&&d.id&&(r=m[0].id)}}catch{}if(!r)throw new Error("No foi possvel resolver o ID da clnica.");const t="/clinicas/",a=t.endsWith("/")?t:`${t}/`,s=[`${a}${r}/secretarias/`,`${a}${r}/adicionar_secretaria/`,`${a}${r}/vincular_secretaria/`],i={secretaria:e,secretaria_id:e};let o;for(const h of s)try{return(await Ce.post(h,i)).data}catch(m){const p=(f=m==null?void 0:m.response)==null?void 0:f.status;if(p===404||p===405){o=m;continue}throw m}throw o||new Error("Nenhum endpoint de vinculao de secretria encontrado para clnica.")}};function fX(){const{data:e,loading:r,error:t}=g3(di.getDashboard);if(r)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm animate-pulse",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("div",{className:"h-4 w-20 bg-gradient-to-r from-slate-200 to-slate-300 rounded"}),n.jsx("div",{className:"h-4 w-4 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"h-8 w-16 bg-gradient-to-r from-slate-200 to-slate-300 rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]})]},o))})})});if(t)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:n.jsx(Le,{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center",children:[n.jsx(od,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),n.jsx("p",{className:"text-slate-600",children:"Erro ao carregar dashboard"})]})})})})});const a=e||{examesHoje:12,examesTotais:156,pacientesAtivos:89,taxaOcupacao:85,proximosExames:[{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}],examesPendentes:5},s=({title:i,value:o,icon:l,description:A,gradient:d,iconBg:f,textColor:h,trend:m})=>n.jsx(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:`bg-gradient-to-br ${d} rounded-2xl p-6 text-white relative overflow-hidden`,children:[n.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full -ml-8 -mb-8"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-3 ${f} rounded-xl`,children:n.jsx(l,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`text-3xl font-bold ${h}`,children:o}),n.jsx("div",{className:"text-white/80 text-sm font-medium",children:i})]})]}),n.jsx("div",{className:"text-white/90 text-sm",children:A}),m&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-white/80 text-xs",children:[n.jsx(Bm,{className:"h-3 w-3"}),m]})]})]})})});return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 rounded-2xl p-8 text-white shadow-2xl",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard da Clnica"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie exames, horrios e acompanhe o desempenho da clnica"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ye,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",asChild:!0,children:n.jsxs(vr,{to:"/clinica/calendario",children:[n.jsx(R0,{className:"h-4 w-4 mr-2"}),"Calendrio"]})}),n.jsx(ye,{className:"bg-white text-blue-600 hover:bg-blue-50",asChild:!0,children:n.jsxs(vr,{to:"/clinica/exames",children:[n.jsx(ld,{className:"h-4 w-4 mr-2"}),"Agendar Exame"]})})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(s,{title:"Exames Hoje",value:a.examesHoje,icon:fr,description:"Exames agendados para hoje",gradient:"from-blue-500 to-blue-600",iconBg:"bg-blue-400/30",textColor:"text-white",trend:"+2 desde ontem"}),n.jsx(s,{title:"Total de Exames",value:a.examesTotais,icon:Ja,description:"Exames realizados este ms",gradient:"from-green-500 to-green-600",iconBg:"bg-green-400/30",textColor:"text-white"}),n.jsx(s,{title:"Pacientes Ativos",value:a.pacientesAtivos,icon:Kn,description:"Pacientes cadastrados",gradient:"from-purple-500 to-purple-600",iconBg:"bg-purple-400/30",textColor:"text-white",trend:"+12% desde o ms passado"}),n.jsx(s,{title:"Taxa de Ocupao",value:`${a.taxaOcupacao}%`,icon:ji,description:"Capacidade atual dos equipamentos",gradient:"from-orange-500 to-orange-600",iconBg:"bg-orange-400/30",textColor:"text-white"})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(We,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Pr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-800",children:"Prximos Exames"}),n.jsx(cr,{className:"text-slate-600",children:"Exames agendados para hoje"})]})]}),n.jsx(ye,{variant:"outline",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:n.jsxs(vr,{to:"/clinica/exames",children:["Ver todos",n.jsx(zg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Le,{className:"p-6",children:a.proximosExames.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(Pr,{className:"h-8 w-8 text-slate-400"})}),n.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhum exame agendado"}),n.jsx("p",{className:"text-slate-500 text-sm",children:"No h exames programados para hoje"})]}):n.jsx("div",{className:"space-y-4",children:a.proximosExames.map(i=>n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 hover:shadow-md transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[n.jsx("span",{className:"text-sm font-bold text-blue-700",children:i.horario}),n.jsx("span",{className:"text-xs text-blue-600",children:"Hoje"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:i.paciente}),n.jsx("p",{className:"text-sm text-slate-600",children:i.tipo}),n.jsx(sr,{variant:i.status==="confirmado"?"default":"secondary",className:`mt-1 text-xs ${i.status==="confirmado"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:i.status})]})]}),n.jsx(ye,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:n.jsx(Kr,{className:"h-4 w-4"})})]})},i.id))})})]})}),n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(We,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(im,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-800",children:"Aes Rpidas"}),n.jsx(cr,{className:"text-slate-600",children:"Acesso rpido s principais funcionalidades"})]})]})}),n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(ye,{className:"w-full justify-start btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(vr,{to:"/clinica/calendario",children:[n.jsx(fr,{className:"mr-2 h-4 w-4"}),"Ver Calendrio"]})}),n.jsx(ye,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(vr,{to:"/clinica/disponibilidade",children:[n.jsx(Pr,{className:"mr-2 h-4 w-4"}),"Gerenciar Horrios"]})}),n.jsx(ye,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(vr,{to:"/clinica/exames",children:[n.jsx(Ja,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})}),n.jsx(ye,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(vr,{to:"/clinica/pacientes",children:[n.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Ver Pacientes"]})})]}),a.examesPendentes>0&&n.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(od,{className:"h-4 w-4 text-yellow-600"}),n.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[a.examesPendentes," exames pendentes de confirmao"]})]})})]})]})})]})]})})}const hX=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],mX=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];function pX(){const[e,r]=y.useState(new Date),[t,a]=y.useState([]),[s,i]=y.useState(null),[o,l]=y.useState({}),[A,d]=y.useState(!1),[f,h]=y.useState(!1),[m,p]=y.useState(!1),[v,x]=y.useState({paciente:"",tipo:"",hora:""}),[w,j]=y.useState([]),[N,S]=y.useState([]),[F]=QU();y.useEffect(()=>{T()},[e]),y.useEffect(()=>{(async()=>{var ee,K;try{const[z,X]=await Promise.all([di.getPacientes().catch(()=>({data:[]})),di.getTiposExame().catch(()=>({data:[]}))]),ne=Array.isArray(z==null?void 0:z.data)?z.data:((ee=z==null?void 0:z.data)==null?void 0:ee.results)||[],ue=Array.isArray(X==null?void 0:X.data)?X.data:((K=X==null?void 0:X.data)==null?void 0:K.results)||[];j(ne),S(ue)}catch{}})()},[]),y.useEffect(()=>{const R=F.get("data"),ee=F.get("paciente");R&&(i(R),D(R)),ee&&(x(K=>({...K,paciente:String(ee)})),h(!0))},[]);const T=async()=>{d(!0);try{const R=await di.getCalendario(e.getMonth()+1,e.getFullYear());l(R.data||{})}catch(R){console.error("Erro ao carregar calendrio:",R),l({"2024-01-15":{total:5,status:"ocupado"},"2024-01-16":{total:8,status:"lotado"},"2024-01-17":{total:3,status:"disponivel"},"2024-01-18":{total:6,status:"ocupado"},"2024-01-22":{total:2,status:"disponivel"},"2024-01-23":{total:7,status:"ocupado"}})}finally{d(!1)}},D=async R=>{try{const ee=await di.getExamesPorData(R);a(ee.data||[])}catch(ee){console.error("Erro ao carregar exames:",ee),a([{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}])}},k=R=>{const ee=new Date(e);ee.setMonth(e.getMonth()+R),r(ee)},P=R=>{const K=new Date(e.getFullYear(),e.getMonth(),R).toISOString().split("T")[0];i(K),D(K)},E=(R="")=>{x({paciente:R?String(R):"",tipo:"",hora:""}),h(!0)},V=async()=>{if(!s)return;const{paciente:R,tipo:ee,hora:K}=v;if(!R||!ee||!K){alert("Preencha paciente, tipo e horrio.");return}p(!0);try{const z={paciente:R,tipo:ee,data:s,hora:K};await di.createExame(z),h(!1),x({paciente:"",tipo:"",hora:""}),await D(s)}catch{alert("Erro ao agendar. Verifique os dados e tente novamente.")}finally{p(!1)}},Q=()=>{const R=e.getFullYear(),ee=e.getMonth(),K=new Date(R,ee,1),z=new Date(R,ee+1,0),X=K.getDay(),ne=z.getDate(),ue=[];for(let I=X-1;I>=0;I--){const W=new Date(R,ee,-I);ue.push({dia:W.getDate(),outroMes:!0,data:W})}for(let I=1;I<=ne;I++){const W=new Date(R,ee,I),te=W.toISOString().split("T")[0],J=o[te]||{total:0,status:"disponivel"};ue.push({dia:I,outroMes:!1,data:W,dataString:te,...J})}const _=42-ue.length;for(let I=1;I<=_;I++){const W=new Date(R,ee+1,I);ue.push({dia:I,outroMes:!0,data:W})}return ue},$=R=>{switch(R){case"disponivel":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"ocupado":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200";case"lotado":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},G=Q();return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendrio de Exames"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie os exames agendados"})]})}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),hX[e.getMonth()]," ",e.getFullYear()]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>k(-1),children:n.jsx(YC,{className:"h-4 w-4"})}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>k(1),children:n.jsx(cl,{className:"h-4 w-4"})})]})]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:mX.map(R=>n.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:R},R))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:G.map((R,ee)=>n.jsxs("button",{onClick:()=>!R.outroMes&&P(R.dia),disabled:R.outroMes,className:`
                        p-2 text-sm rounded-lg transition-colors relative
                        ${R.outroMes?"text-muted-foreground cursor-not-allowed":"hover:bg-accent cursor-pointer"}
                        ${s===R.dataString?"bg-primary text-primary-foreground":""}
                      `,children:[n.jsx("div",{className:"font-medium",children:R.dia}),!R.outroMes&&R.total>0&&n.jsx("div",{className:`
                          absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center
                          ${$(R.status)}
                        `,children:R.total})]},ee))}),n.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{children:"Disponvel"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),n.jsx("span",{children:"Ocupado"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{children:"Lotado"})]})]})]})]})}),n.jsx("div",{children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(Pr,{className:"h-5 w-5"}),s?"Exames do Dia":"Selecione uma Data"]}),s&&n.jsx(cr,{children:new Date(s+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsx(Le,{children:s?t.length===0?n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(Pr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhum exame agendado para esta data"}),n.jsx(ye,{className:"mt-4",size:"sm",onClick:()=>E(),children:"Agendar Exame"})]}):n.jsxs("div",{className:"space-y-3",children:[t.map(R=>n.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(In,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:R.paciente})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sr,{variant:R.status==="confirmado"?"default":"secondary",children:R.status}),n.jsx(ye,{variant:"outline",size:"sm",className:"bg-transparent",onClick:()=>E(R.paciente_id||R.pacienteId||""),title:"Agendar novo exame para este paciente",children:"Agendar"})]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("p",{children:R.tipo}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Pr,{className:"h-3 w-3"}),R.horario]})]})]},R.id)),n.jsx(ye,{className:"w-full mt-4",size:"sm",onClick:()=>E(),children:"Agendar Novo Exame"})]}):n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(fr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Clique em uma data no calendrio para ver os exames agendados"})]})})]})})]})]}),n.jsx(Nu,{open:f,onOpenChange:h,children:n.jsxs(xd,{children:[n.jsxs(vd,{children:[n.jsx(wd,{children:"Agendar exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",s?new Date(s+"T00:00:00").toLocaleDateString("pt-BR"):"-"]})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Paciente"}),n.jsxs(Gr,{value:v.paciente,onValueChange:R=>x(ee=>({...ee,paciente:R})),children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Selecione o paciente"})}),n.jsx(zr,{children:w.map(R=>n.jsxs(st,{value:String(R.id),children:[R.nome," ",R.cpf?`- ${R.cpf}`:""]},R.id))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Tipo de exame"}),n.jsxs(Gr,{value:v.tipo,onValueChange:R=>x(ee=>({...ee,tipo:R})),children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Selecione o tipo"})}),n.jsx(zr,{children:N.map(R=>n.jsx(st,{value:String(R.id||R.value||R),children:R.nome||R.label||R.value||R},R.id||R.value||R))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Horrio"}),n.jsx(Ke,{type:"time",value:v.hora,onChange:R=>x(ee=>({...ee,hora:R.target.value}))})]})]}),n.jsxs(Bu,{className:"mt-4",children:[n.jsx(ye,{variant:"outline",className:"bg-transparent",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(ye,{onClick:V,disabled:m,children:m?"Salvando...":"Agendar"})]})]})})]})}const gX={manha:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],tarde:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],integral:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"]};function xX(){const[e,r]=y.useState(""),[t,a]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState(!1),[A,d]=y.useState(!1),{toast:f}=Va();y.useEffect(()=>{e&&h()},[e]);const h=async()=>{var N;l(!0);try{const S=await di.getDisponibilidade(e);a(((N=S.data)==null?void 0:N.horarios)||[])}catch(S){console.error("Erro ao carregar disponibilidade:",S),a([{horario:"09:00",ocupado:!1},{horario:"10:00",ocupado:!0},{horario:"11:00",ocupado:!1},{horario:"14:00",ocupado:!1},{horario:"15:00",ocupado:!0}])}finally{l(!1)}},m=async()=>{if(!e){f({title:"Erro",description:"Selecione uma data primeiro",variant:"destructive"});return}d(!0);try{await di.setDisponibilidade(e,t),f({title:"Sucesso",description:"Disponibilidade salva com sucesso"})}catch(N){console.error("Erro ao salvar disponibilidade:",N),f({title:"Erro",description:"Erro ao salvar disponibilidade",variant:"destructive"})}finally{d(!1)}},p=()=>{if(!s)return;if(t.some(S=>S.horario===s)){f({title:"Aviso",description:"Este horrio j existe",variant:"destructive"});return}a([...t,{horario:s,ocupado:!1}].sort((S,F)=>S.horario.localeCompare(F.horario))),i("")},v=N=>{a(t.filter(S=>S.horario!==N))},x=N=>{const S=gX[N].map(F=>({horario:F,ocupado:!1}));a(S)},w=async()=>{var F;if(!e)return;const N=new Date(e);N.setDate(N.getDate()-1);const S=N.toISOString().split("T")[0];try{const k=(((F=(await di.getDisponibilidade(S)).data)==null?void 0:F.horarios)||[]).filter(P=>!P.ocupado).map(P=>({...P,ocupado:!1}));a(k),f({title:"Sucesso",description:"Horrios copiados do dia anterior"})}catch(T){console.error("Erro ao copiar horrios:",T),f({title:"Erro",description:"Erro ao copiar horrios do dia anterior",variant:"destructive"})}},j=new Date().toISOString().split("T")[0];return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Disponibilidade"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure os horrios disponveis para exames"})]})}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Selecionar Data"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(De,{htmlFor:"data",children:"Data"}),n.jsx(Os,{id:"data",name:"data",value:e,onChange:r,minDate:j?new Date(j):void 0})]}),e&&n.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Templates Rpidos"}),n.jsx(cr,{children:"Aplique configuraes pr-definidas"})]}),n.jsxs(Le,{className:"space-y-3",children:[n.jsxs(ye,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>x("manha"),disabled:!e,children:[n.jsx(Pr,{className:"mr-2 h-4 w-4"}),"Manh (8h s 11h30)"]}),n.jsxs(ye,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>x("tarde"),disabled:!e,children:[n.jsx(Pr,{className:"mr-2 h-4 w-4"}),"Tarde (13h s 17h)"]}),n.jsxs(ye,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>x("integral"),disabled:!e,children:[n.jsx(Pr,{className:"mr-2 h-4 w-4"}),"Perodo Integral"]}),n.jsxs(ye,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:w,disabled:!e,children:[n.jsx(OL,{className:"mr-2 h-4 w-4"}),"Copiar Dia Anterior"]})]})]})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(Pr,{className:"h-5 w-5"}),"Horrios Disponveis"]}),n.jsxs(ye,{onClick:m,disabled:!e||A,children:[n.jsx(By,{className:"mr-2 h-4 w-4"}),A?"Salvando...":"Salvar"]})]}),e&&n.jsxs(cr,{children:["Configurando horrios para ",new Date(e+"T00:00:00").toLocaleDateString("pt-BR")]})]}),n.jsx(Le,{children:e?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ke,{type:"time",value:s,onChange:N=>i(N.target.value),placeholder:"Novo horrio"}),n.jsx(ye,{onClick:p,disabled:!s,children:n.jsx(ld,{className:"h-4 w-4"})})]}),o?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((N,S)=>n.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},S))}):t.length===0?n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(Pr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhum horrio configurado"}),n.jsx("p",{className:"text-sm",children:"Use os templates ou adicione horrios manualmente"})]}):n.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:t.map((N,S)=>n.jsxs("div",{className:`
                              flex items-center justify-between p-3 border rounded-lg
                              ${N.ocupado?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}
                            `,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pr,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:N.horario})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sr,{variant:N.ocupado?"destructive":"default",children:N.ocupado?"Ocupado":"Livre"}),!N.ocupado&&n.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>v(N.horario),children:n.jsx(Jw,{className:"h-4 w-4"})})]})]},S))}),t.length>0&&n.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:["Total: ",t.length," horrios"]}),n.jsxs("p",{className:"text-muted-foreground",children:[t.filter(N=>!N.ocupado).length," disponveis,"," ",t.filter(N=>N.ocupado).length," ocupados"]})]})})]}):n.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[n.jsx(fr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Selecione uma data para gerenciar os horrios"})]})})]})})]})]})})}function vX(){const{toast:e}=Va(),[r,t]=y.useState(!1),[a,s]=y.useState([]),[i,o]=y.useState({q:"",tipo:"todos",status:"todos"}),[l,A]=y.useState([]),[d,f]=y.useState(!1),[h,m]=y.useState({paciente:"",tipo:"",data:"",hora:""}),p=async()=>{try{const{data:w}=await di.getTiposExame();s(w||[])}catch{}},v=async()=>{t(!0);try{const w={};i.q&&(w.q=i.q),i.tipo!=="todos"&&(w.tipo=i.tipo),i.status!=="todos"&&(w.status=i.status);const{data:j}=await di.getExames(w);A(Array.isArray(j)?j:(j==null?void 0:j.results)||[])}catch{e({title:"Erro",description:"No foi possvel carregar os exames.",variant:"destructive"})}finally{t(!1)}};y.useEffect(()=>{p()},[]),y.useEffect(()=>{v()},[i]);const x=async()=>{if(!h.paciente||!h.tipo||!h.data||!h.hora){e({title:"Campos obrigatrios",description:"Preencha paciente, tipo, data e hora.",variant:"destructive"});return}f(!0);try{const w={paciente:h.paciente,tipo:h.tipo,data:h.data,hora:h.hora};await di.createExame(w),e({title:"Exame criado",description:"Exame agendado com sucesso."}),m({paciente:"",tipo:"",data:"",hora:""}),v()}catch{e({title:"Erro ao criar",description:"Verifique os dados e tente novamente.",variant:"destructive"})}finally{f(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem e agendamento de exames"})]})}),n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Filtros"}),n.jsx(cr,{children:"Busque e filtre os exames"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(Ke,{placeholder:"Buscar por paciente/tipo...",value:i.q,onChange:w=>o({...i,q:w.target.value})}),n.jsxs(Gr,{value:i.tipo,onValueChange:w=>o({...i,tipo:w}),children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"todos",children:"Todos os tipos"}),a.map(w=>n.jsx(st,{value:w.value||w.nome||w.id||String(w),children:w.nome||w.label||w.value||w},w.id||w.value||w))]})]}),n.jsxs(Gr,{value:i.status,onValueChange:w=>o({...i,status:w}),children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"todos",children:"Todos"}),n.jsx(st,{value:"pendente",children:"Pendente"}),n.jsx(st,{value:"confirmado",children:"Confirmado"}),n.jsx(st,{value:"cancelado",children:"Cancelado"})]})]})]})]}),n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Lista de Exames"}),n.jsx(cr,{children:r?"Carregando...":`${l.length} registro(s)`})]}),n.jsx(Le,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(cc,{children:[n.jsx(Ac,{children:n.jsxs(Pn,{children:[n.jsx(Hr,{children:"Paciente"}),n.jsx(Hr,{children:"Tipo"}),n.jsx(Hr,{children:"Data"}),n.jsx(Hr,{children:"Hora"}),n.jsx(Hr,{children:"Status"})]})}),n.jsxs(dc,{children:[l.map((w,j)=>n.jsxs(Pn,{children:[n.jsx(Lr,{children:w.paciente_nome||w.paciente||"-"}),n.jsx(Lr,{children:w.tipo_nome||w.tipo||"-"}),n.jsx(Lr,{children:w.data||"-"}),n.jsx(Lr,{children:w.hora||"-"}),n.jsx(Lr,{children:w.status||"-"})]},w.id||j)),!r&&l.length===0&&n.jsx(Pn,{children:n.jsx(Lr,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum exame encontrado"})})]})]})})})]}),n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Novo Exame"}),n.jsx(cr,{children:"Crie um novo agendamento de exame"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-4",children:[n.jsx(Ke,{placeholder:"Paciente (nome/ID)",value:h.paciente,onChange:w=>m({...h,paciente:w.target.value})}),n.jsxs(Gr,{value:h.tipo,onValueChange:w=>m({...h,tipo:w}),children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Tipo de exame"})}),n.jsx(zr,{children:a.map(w=>n.jsx(st,{value:w.value||w.nome||w.id||String(w),children:w.nome||w.label||w.value||w},w.id||w.value||w))})]}),n.jsx(Os,{value:h.data,onChange:w=>m({...h,data:w}),minDate:new Date}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ke,{type:"time",value:h.hora,onChange:w=>m({...h,hora:w.target.value})}),n.jsx(ye,{onClick:x,disabled:d,children:d?"Criando...":"Criar"})]})]})]})]})}function wX(){const{toast:e}=Va(),[r,t]=y.useState(""),[a,s]=y.useState(!1),[i,o]=y.useState([]),l=async()=>{s(!0);try{const{data:f}=await di.getPacientes(),h=Array.isArray(f)?f:(f==null?void 0:f.results)||[];o(h)}catch{e({title:"Erro",description:"No foi possvel carregar os pacientes.",variant:"destructive"})}finally{s(!1)}};y.useEffect(()=>{l()},[]);const A=i.filter(f=>[f.nome,f.email,f.cpf].join(" ").toLowerCase().includes(r.toLowerCase())),d=new Date().toISOString().split("T")[0];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pacientes"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem de pacientes"})]}),n.jsx("div",{className:"w-72",children:n.jsx(Ke,{placeholder:"Buscar por nome, e-mail ou CPF",value:r,onChange:f=>t(f.target.value)})})]}),n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Lista de Pacientes"}),n.jsx(cr,{children:a?"Carregando...":`${A.length} registro(s)`})]}),n.jsx(Le,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(cc,{children:[n.jsx(Ac,{children:n.jsxs(Pn,{children:[n.jsx(Hr,{children:"Nome"}),n.jsx(Hr,{children:"E-mail"}),n.jsx(Hr,{children:"CPF"}),n.jsx(Hr,{className:"w-[1%]",children:"Aes"})]})}),n.jsxs(dc,{children:[A.map((f,h)=>n.jsxs(Pn,{children:[n.jsx(Lr,{children:f.nome||"-"}),n.jsx(Lr,{children:f.email||"-"}),n.jsx(Lr,{children:f.cpf||"-"}),n.jsx(Lr,{children:n.jsx(vr,{to:`/clinica/calendario?paciente=${f.id}&data=${d}`,children:n.jsx(ye,{size:"sm",children:"Agendar"})})})]},f.id||h)),!a&&A.length===0&&n.jsx(Pn,{children:n.jsx(Lr,{colSpan:3,className:"text-center text-muted-foreground",children:"Nenhum paciente encontrado"})})]})]})})})]})]})}function yX(){const{toast:e}=Va(),[r,t]=y.useState(""),[a,s]=y.useState(!1),[i,o]=y.useState([]),l=async()=>{s(!0);try{const{data:d}=await di.getMedicos(),f=Array.isArray(d)?d:(d==null?void 0:d.results)||[];o(f)}catch{e({title:"Erro",description:"No foi possvel carregar os mdicos.",variant:"destructive"})}finally{s(!1)}};y.useEffect(()=>{l()},[]);const A=i.filter(d=>[d.nome,d.email,d.crm,d.especialidade].join(" ").toLowerCase().includes(r.toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Mdicos"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem de mdicos"})]}),n.jsx("div",{className:"w-72",children:n.jsx(Ke,{placeholder:"Buscar por nome, e-mail, CRM, especialidade",value:r,onChange:d=>t(d.target.value)})})]}),n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Lista de Mdicos"}),n.jsx(cr,{children:a?"Carregando...":`${A.length} registro(s)`})]}),n.jsx(Le,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(cc,{children:[n.jsx(Ac,{children:n.jsxs(Pn,{children:[n.jsx(Hr,{children:"Nome"}),n.jsx(Hr,{children:"E-mail"}),n.jsx(Hr,{children:"CRM"}),n.jsx(Hr,{children:"Especialidade"})]})}),n.jsxs(dc,{children:[A.map((d,f)=>n.jsxs(Pn,{children:[n.jsx(Lr,{children:d.nome||"-"}),n.jsx(Lr,{children:d.email||"-"}),n.jsx(Lr,{children:d.crm||"-"}),n.jsx(Lr,{children:d.especialidade||"-"})]},d.id||f)),!a&&A.length===0&&n.jsx(Pn,{children:n.jsx(Lr,{colSpan:4,className:"text-center text-muted-foreground",children:"Nenhum mdico encontrado"})})]})]})})})]})]})}function bX(){const[e,r]=y.useState("30d"),[t,a]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState(null),A=async()=>{a(!0),l(null);try{const{data:f}=await di.getRelatorios(e);i(f||{})}catch{l("No foi possvel carregar os relatrios.")}finally{a(!1)}};y.useEffect(()=>{A()},[e]);const d=s||{examesTotais:120,pacientesAtendidos:80,taxaCancelamento:5};return n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{children:[n.jsxs(We,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Xe,{children:"Relatrios"}),n.jsx(cr,{children:"Mtricas da clnica"})]}),n.jsx("div",{className:"w-40",children:n.jsxs(Gr,{value:e,onValueChange:r,children:[n.jsx(Vr,{children:n.jsx(Yr,{})}),n.jsxs(zr,{children:[n.jsx(st,{value:"7d",children:"ltimos 7 dias"}),n.jsx(st,{value:"30d",children:"ltimos 30 dias"}),n.jsx(st,{value:"90d",children:"ltimos 90 dias"})]})]})})]}),n.jsx(Le,{children:t?n.jsx("p",{children:"Carregando..."}):o?n.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[n.jsx(od,{className:"h-4 w-4"}),n.jsx("span",{children:o})]}):n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Ja,{className:"h-4 w-4"})," Exames"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d.examesTotais}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Kn,{className:"h-4 w-4"})," Pacientes Atendidos"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d.pacientesAtendidos}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{className:"text-sm font-medium",children:"Taxa de Cancelamento"})}),n.jsxs(Le,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.taxaCancelamento,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]})]})})]})})}function jX(){const[e,r]=y.useState({nome:"",cnpj:"",email:"",responsavel:""}),[t,a]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(""),[A,d]=y.useState(""),[f,h]=y.useState(!1),[m,p]=y.useState(""),[v,x]=y.useState(""),{toast:w}=Va(),j=F=>{const T=String(F||"").replace(/\D/g,"").slice(0,14),D=T.slice(0,2),k=T.slice(2,5),P=T.slice(5,8),E=T.slice(8,12),V=T.slice(12,14);return T.length>12?`${D}.${k}.${P}/${E}-${V}`:T.length>8?`${D}.${k}.${P}/${E}`:T.length>5?`${D}.${k}.${P}`:T.length>2?`${D}.${k}`:D},N=async()=>{w({title:"Configuraes",description:"Alteraes salvas (stub)."})};async function S(F=!0){var T,D,k,P,E;if(p(""),x(""),!t){p("Informe o e-mail da secretria.");return}h(!0);try{let V=null;if(F){const Q={email:t,first_name:s||void 0,last_name:o||void 0,password:A||void 0,role:"secretaria",type:"secretaria"},$=await la.createUsuario(Q);if(V=($==null?void 0:$.id)||((T=$==null?void 0:$.usuario)==null?void 0:T.id)||((D=$==null?void 0:$.user)==null?void 0:D.id)||($==null?void 0:$.pk)||null,!V){const G=$&&typeof $=="object"?((k=$.user)==null?void 0:k.pk)||((P=$.usuario)==null?void 0:P.pk):null;G&&(V=G)}if(!V)throw new Error("No foi possvel obter o ID da secretria criada.")}else{const Q=await la.getUsuarios({search:t,page:1,page_size:100}),G=(Array.isArray(Q==null?void 0:Q.results)?Q.results:Array.isArray(Q)?Q:[]).find(R=>String(R.email||"").toLowerCase()===t.toLowerCase());if(!G)throw new Error("No foi possvel localizar uma usuria com esse e-mail.");if(V=G.id||G.pk,!V)throw new Error("Usuria encontrada, porm sem ID vlido.")}await di.vincularSecretaria(V),x("Secretria vinculada com sucesso."),a(""),i(""),l(""),d("")}catch(V){const Q=(E=V==null?void 0:V.response)!=null&&E.data?JSON.stringify(V.response.data):(V==null?void 0:V.message)||"Falha ao processar solicitao.";p(Q)}finally{h(!1)}}return n.jsxs(zE,{children:[n.jsx("div",{className:"space-y-6",children:n.jsx("h1",{className:"text-2xl font-bold",children:"Configuraes"})}),n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Dados da Clnica"}),n.jsx(cr,{children:"Edite os dados bsicos"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx(Ke,{value:e.nome,onChange:F=>r({...e,nome:F.target.value}),placeholder:"Nome da clnica"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"CNPJ"}),n.jsx(Ke,{value:e.cnpj,onChange:F=>r({...e,cnpj:j(F.target.value)}),placeholder:"00.000.000/0000-00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx(Ke,{type:"email",value:e.email,onChange:F=>r({...e,email:F.target.value}),placeholder:"email@clinica.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"Responsvel"}),n.jsx(Ke,{value:e.responsavel,onChange:F=>r({...e,responsavel:F.target.value}),placeholder:"Nome do responsvel"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(ye,{onClick:N,children:"Salvar alteraes"})})]})]}),n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Adicionar secretria"}),n.jsx(cr,{children:"Crie uma nova secretria ou vincule por e-mail existente"})]}),n.jsxs(Le,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[m&&n.jsx("div",{className:"text-sm text-red-600",children:m}),v&&n.jsx("div",{className:"text-sm text-emerald-700",children:v})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(De,{children:"E-mail da secretria"}),n.jsx(Ke,{type:"email",value:t,onChange:F=>a(F.target.value),placeholder:"secretaria@exemplo.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Nome (opcional)"}),n.jsx(Ke,{value:s,onChange:F=>i(F.target.value),placeholder:"Nome"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Sobrenome (opcional)"}),n.jsx(Ke,{value:o,onChange:F=>l(F.target.value),placeholder:"Sobrenome"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Senha (opcional)"}),n.jsx(Ke,{type:"password",value:A,onChange:F=>d(F.target.value),placeholder:"Senha inicial (ou deixe em branco)"})]}),n.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[n.jsx(ye,{onClick:()=>S(!0),disabled:f,children:f?"Processando...":"Criar e vincular"}),n.jsx(ye,{variant:"outline",onClick:()=>S(!1),disabled:f,children:f?"Processando...":"Vincular por e-mail"})]})]})]})]})}function NX(){const[e,r]=y.useState({totalUsuarios:0,medicosAtivos:0,clinicasAtivas:0,solicitacoesPendentes:0,solicitacoesHoje:0,aprovacoesSemana:0,rejeicoesSemana:0,aprovadosMedicosSemana:0,aprovadasClinicasSemana:0,rejeitadosMedicosSemana:0,rejeitadasClinicasSemana:0}),[t,a]=y.useState([]),[s,i]=y.useState(!0),o=()=>{const d=new Date,f=d.getDay(),h=d.getDate()-f+(f===0?-6:1),m=new Date(d);return m.setDate(h),m.setHours(0,0,0,0),m};y.useEffect(()=>{let d=!0;return(async()=>{var m,p,v;const h=o();try{const x=await la.getDashboard();d&&x&&r(w=>({...w,totalUsuarios:x.total_usuarios??x.totalUsuarios??w.totalUsuarios,medicosAtivos:x.medicos_ativos??x.medicosAtivos??w.medicosAtivos,clinicasAtivas:x.clinicas_ativas??x.clinicasAtivas??w.clinicasAtivas,solicitacoesPendentes:x.solicitacoes_pendentes??x.solicitacoesPendentes??w.solicitacoesPendentes,aprovacoesSemana:x.aprovacoes_semana??x.aprovacoesSemana??w.aprovacoesSemana,rejeicoesSemana:x.rejeicoes_semana??x.rejeicoesSemana??w.rejeicoesSemana,aprovadosMedicosSemana:x.aprovados_medicos_semana??x.aprovadosMedicosSemana??w.aprovadosMedicosSemana,aprovadasClinicasSemana:x.aprovadas_clinicas_semana??x.aprovadasClinicasSemana??w.aprovadasClinicasSemana,rejeitadosMedicosSemana:x.rejeitados_medicos_semana??x.rejeitadosMedicosSemana??w.rejeitadosMedicosSemana,rejeitadasClinicasSemana:x.rejeitadas_clinicas_semana??x.rejeitadasClinicasSemana??w.rejeitadasClinicasSemana}))}catch(x){console.warn("[AdminDashboard] getDashboard falhou:",(m=x==null?void 0:x.response)==null?void 0:m.status)}try{const x=await la.getSolicitacoes({status:"pending",limit:5}),j=(Array.isArray(x==null?void 0:x.results)?x.results:Array.isArray(x)?x:[]).map(N=>({...N,nome:N.nome??N.name??N.title??"",tipo:(N.tipo??N.type??"").toString().toLowerCase(),dataEnvio:N.dataEnvio??N.created_at??N.data_envio??null}));if(d){a(j);const N=new Date().toDateString(),S=j.filter(F=>{const T=new Date(F.dataEnvio);return!isNaN(T)&&T.toDateString()===N}).length;r(F=>({...F,solicitacoesHoje:S}))}}catch(x){console.warn("[AdminDashboard] getSolicitacoes falhou (pendentes recentes):",(p=x==null?void 0:x.response)==null?void 0:p.status)}try{const x=o().toISOString(),w=async k=>{const P=await la.getSolicitacoes({status:k,limit:100,created_at__gte:x});return(Array.isArray(P==null?void 0:P.results)?P.results:Array.isArray(P)?P:[]).map(V=>({tipo:(V.tipo??V.type??"").toString().toLowerCase(),createdAt:V.created_at??V.data_envio??V.dataEnvio??null})).filter(V=>{const Q=new Date(V.createdAt);return V.createdAt&&!isNaN(Q)&&Q>=h})},[j,N]=await Promise.all([w("approved"),w("rejected")]),S=j.filter(k=>k.tipo==="medico").length,F=j.filter(k=>k.tipo==="clinica").length,T=N.filter(k=>k.tipo==="medico").length,D=N.filter(k=>k.tipo==="clinica").length;d&&r(k=>({...k,aprovacoesSemana:k.aprovacoesSemana||0||j.length,rejeicoesSemana:k.rejeicoesSemana||0||N.length,aprovadosMedicosSemana:k.aprovadosMedicosSemana||0||S,aprovadasClinicasSemana:k.aprovadasClinicasSemana||0||F,rejeitadosMedicosSemana:k.rejeitadosMedicosSemana||0||T,rejeitadasClinicasSemana:k.rejeitadasClinicasSemana||0||D}))}catch(x){console.warn("[AdminDashboard] clculo semanal (fallback) falhou:",(v=x==null?void 0:x.response)==null?void 0:v.status)}finally{d&&i(!1)}})(),()=>{d=!1}},[]);const l=d=>{switch(d){case"pending":return n.jsxs(sr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Pr,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return n.jsxs(sr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(ps,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(sr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(gs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},A=d=>{switch(d){case"alta":return n.jsx(sr,{variant:"destructive",className:"text-xs",children:"Alta"});case"normal":return n.jsx(sr,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return n.jsx(sr,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Dashboard Administrativo"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Gerencie usurios e solicitaes do sistema"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ye,{variant:"outline",className:"gap-2",asChild:!0,children:n.jsxs(vr,{to:"/admin/usuarios",children:[n.jsx(Kn,{className:"h-4 w-4"}),"Usurios"]})}),n.jsx(ye,{variant:"outline",className:"gap-2",asChild:!0,children:n.jsxs(vr,{to:"/admin/relatorios",children:[n.jsx(nm,{className:"h-4 w-4"}),"Relatrios"]})}),n.jsx(ye,{className:"gap-2 btn-medical-primary",asChild:!0,children:n.jsxs(vr,{to:"/admin/solicitacoes",children:[n.jsx(ci,{className:"h-4 w-4"}),"Solicitaes"]})})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total de Usurios"}),n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(Kn,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:e.totalUsuarios}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"+12% em relao ao ms passado"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Mdicos Ativos"}),n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(Kr,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:e.medicosAtivos}),n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"+5 novos esta semana"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Clnicas Ativas"}),n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:n.jsx(nc,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:e.clinicasAtivas}),n.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"+2 novas este ms"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/50 dark:to-amber-900/50",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-amber-700 dark:text-amber-300",children:"Solicitaes Pendentes"}),n.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:n.jsx(od,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:e.solicitacoesPendentes}),n.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:[e.solicitacoesHoje," novas hoje"]})]})]})]}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsxs(We,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:[n.jsxs(Xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(ji,{className:"h-5 w-5 text-purple-600"}),"Aes Rpidas"]}),n.jsx(cr,{className:"text-slate-600 dark:text-slate-400",children:"Acesso rpido s principais funcionalidades"})]}),n.jsxs(Le,{className:"p-6 space-y-4",children:[n.jsx(vr,{to:{pathname:"/admin/solicitacoes",search:"?status=pending"},children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-amber-200 bg-amber-50 hover:bg-amber-100 dark:border-amber-800 dark:bg-amber-900/20 dark:hover:bg-amber-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:n.jsx(Pr,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Solicitaes Pendentes"}),n.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[e.solicitacoesPendentes," solicitaes aguardando anlise"]})]}),n.jsx(cl,{className:"h-5 w-5 text-amber-600 group-hover:translate-x-1 transition-transform"})]})}),n.jsx(vr,{to:"/admin/usuarios",children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 dark:border-blue-800 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(Kn,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Gerenciar Usurios"}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Visualizar e gerenciar todos os usurios do sistema"})]}),n.jsx(cl,{className:"h-5 w-5 text-blue-600 group-hover:translate-x-1 transition-transform"})]})}),n.jsx(vr,{to:"/admin/relatorios",children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-green-200 bg-green-50 hover:bg-green-100 dark:border-green-800 dark:bg-green-900/20 dark:hover:bg-green-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(Bm,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Relatrios"}),n.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Visualizar estatsticas e relatrios do sistema"})]}),n.jsx(cl,{className:"h-5 w-5 text-green-600 group-hover:translate-x-1 transition-transform"})]})})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(We,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(Pr,{className:"h-5 w-5 text-purple-600"}),"Solicitaes Recentes"]}),n.jsx(cr,{className:"text-slate-600 dark:text-slate-400",children:"ltimas solicitaes de cadastro no sistema"})]}),n.jsx(ye,{variant:"outline",asChild:!0,children:n.jsx(vr,{to:"/admin/solicitacoes",children:"Ver Todas"})})]})}),n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:t.map(d=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/50 dark:to-blue-900/50 flex items-center justify-center",children:d.tipo==="medico"?n.jsx(Kr,{className:"h-6 w-6 text-purple-600"}):n.jsx(nc,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:d.nome}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[n.jsx("span",{children:d.tipo==="medico"?`${d.especialidade} - ${d.crm}`:`${d.cnpj} - ${d.responsavel}`}),n.jsx("span",{children:""}),n.jsx("span",{children:new Date(d.dataEnvio).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[A(d.urgencia),l(d.status),d.status==="pending"&&n.jsx(ye,{size:"sm",className:"btn-medical-primary",asChild:!0,children:n.jsx(vr,{to:`/admin/solicitacoes/${d.id}`,children:"Revisar"})})]})]},d.id))})})]})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[n.jsx(ps,{className:"h-5 w-5 text-green-600"}),"Aprovaes desta Semana"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-green-700 dark:text-green-300 mb-2",children:e.aprovacoesSemana}),n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[e.aprovadosMedicosSemana," mdicos e ",e.aprovadasClinicasSemana," clnicas aprovados"]})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/50",children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[n.jsx(gs,{className:"h-5 w-5 text-red-600"}),"Rejeies desta Semana"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-red-700 dark:text-red-300 mb-2",children:e.rejeicoesSemana}),n.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:[e.rejeitadosMedicosSemana," mdicos e ",e.rejeitadasClinicasSemana," clnicas rejeitados"]})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(We,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:n.jsxs(Xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(im,{className:"h-5 w-5 text-purple-600"}),"Configuraes"]})}),n.jsxs(Le,{className:"p-6 space-y-3",children:[n.jsx(ye,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(vr,{to:"/admin/configuracoes",children:[n.jsx(im,{className:"h-4 w-4"}),"Configuraes do Sistema"]})}),n.jsx(ye,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(vr,{to:"/admin/logs",children:[n.jsx(ji,{className:"h-4 w-4"}),"Logs do Sistema"]})}),n.jsx(ye,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(vr,{to:"/admin/backup",children:[n.jsx(ci,{className:"h-4 w-4"}),"Backup e Segurana"]})})]})]})]})]})]})}function BX(){const[e,r]=y.useState(""),[t,a]=y.useState("all"),[s,i]=y.useState("all"),[o,l]=y.useState("all"),[A,d]=y.useState(!1),[f,h]=y.useState([]),[m,p]=y.useState(null),v=y.useRef(null),{toast:x}=Va(),w=P_(e,500),j=y.useMemo(()=>({search:mu(w.trim()),status:t,tipo:s,urgencia:o}),[w,t,s,o]),N=y.useCallback(async(R,ee)=>{try{const K=await la.getSolicitacoes(R,{signal:ee});return Array.isArray(K==null?void 0:K.results)?K.results:Array.isArray(K)?K:[]}catch(K){throw(K==null?void 0:K.name)!=="AbortError"&&console.error("Erro ao buscar solicitaes:",K),K}},[]);y.useEffect(()=>{d(!0);const R=setTimeout(async()=>{if(v.current)try{v.current.abort()}catch{}const ee=new AbortController;v.current=ee;try{const K={};j.status!=="all"&&(K.status=j.status),j.tipo!=="all"&&(K.tipo=j.tipo),j.urgencia!=="all"&&(K.urgencia=j.urgencia),j.search&&(K.search=j.search);const z=await N(K,ee.signal);h(z),p(null)}catch(K){(K==null?void 0:K.name)!=="AbortError"&&(h([]),p("No foi possvel carregar as solicitaes."))}finally{d(!1)}},200);return()=>clearTimeout(R)},[j,N]);const S=y.useCallback(async R=>{d(!0);try{const ee=await la.aprovarSolicitacao(R);h(K=>K.map(z=>z.id===R?{...z,status:"approved",aprovadoPor:(ee==null?void 0:ee.approved_by)||z.aprovadoPor||"",dataAprovacao:(ee==null?void 0:ee.approved_at)||z.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:z)),x({title:"Solicitao aprovada",description:"A solicitao foi aprovada com sucesso."})}catch{x({title:"Erro ao aprovar",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{d(!1)}},[x]),F=y.useCallback(async R=>{const ee=window.prompt("Informe o motivo da rejeio:");if(ee===null)return;const K=MM(ee,500);if(!K.isValid){x({title:"Motivo invlido",description:K.error,variant:"destructive"});return}d(!0);try{const z=await la.rejeitarSolicitacao(R,K.value);h(X=>X.map(ne=>ne.id===R?{...ne,status:"rejected",rejeitadoPor:(z==null?void 0:z.rejected_by)||ne.rejeitadoPor||"",dataRejeicao:(z==null?void 0:z.rejected_at)||ne.dataRejeicao||new Date().toISOString(),motivoRejeicao:(z==null?void 0:z.rejection_reason)||K.value||ne.motivoRejeicao||"",aprovadoPor:"",dataAprovacao:null}:ne)),x({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."})}catch{x({title:"Erro ao rejeitar",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{d(!1)}},[x]),T=y.useCallback(R=>{switch(R){case"pending":return n.jsxs(sr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Pr,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return n.jsxs(sr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(ps,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(sr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(gs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},[]),D=y.useCallback(R=>{switch(R){case"alta":return n.jsxs(sr,{variant:"destructive",className:"text-xs",children:[n.jsx(Gc,{className:"mr-1 h-2 w-2"}),"Alta"]});case"normal":return n.jsx(sr,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return n.jsx(sr,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}},[]),k=y.useMemo(()=>f.filter(R=>{const ee=e.toLowerCase(),K=(R.nome||"").toLowerCase().includes(ee)||(R.email||"").toLowerCase().includes(ee)||R.crm&&String(R.crm).toLowerCase().includes(ee)||R.cnpj&&String(R.cnpj).includes(e),z=t==="all"||R.status===t,X=s==="all"||R.tipo===s,ne=o==="all"||R.urgencia===o;return K&&z&&X&&ne}),[f,e,t,s,o]),P=y.useMemo(()=>({pending:k.filter(R=>R.status==="pending"),approved:k.filter(R=>R.status==="approved"),rejected:k.filter(R=>R.status==="rejected")}),[k]),E=y.useCallback(R=>{const ee=mu(R.target.value);r(ee)},[]),V=y.useCallback(R=>{a(R)},[]),Q=y.useCallback(R=>{i(R)},[]),$=y.useCallback(R=>{l(R)},[]),G=({solicitacao:R})=>n.jsxs(ke,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl group",children:[n.jsx(We,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${R.tipo==="medico"?"bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-600":"bg-gradient-to-br from-purple-100 to-pink-100 text-purple-600"}`,children:R.tipo==="medico"?n.jsx(Kr,{className:"h-6 w-6"}):n.jsx(nc,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:R.nome}),n.jsx(cr,{className:"text-gray-600 font-medium",children:R.email})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[D(R.urgencia),T(R.status)]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[n.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:R.tipo==="medico"?"Especialidade":"CNPJ"}),n.jsx("p",{className:"text-gray-800 font-medium",children:R.tipo==="medico"?R.especialidade:R.cnpj})]}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[n.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:R.tipo==="medico"?"CRM":"Responsvel"}),n.jsx("p",{className:"text-gray-800 font-medium",children:R.tipo==="medico"?R.crm:R.responsavel})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-100",children:[n.jsx("p",{className:"font-semibold text-blue-600 text-sm mb-1",children:"Data de Envio"}),n.jsxs("p",{className:"flex items-center gap-2 text-blue-800 font-medium",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsxs("span",{children:[new Date(R.dataEnvio).toLocaleDateString()," s"," ",new Date(R.dataEnvio).toLocaleTimeString()]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border border-green-100",children:[n.jsx("p",{className:"font-semibold text-green-600 text-sm mb-1",children:"Documentos"}),n.jsxs("p",{className:"text-green-800 font-medium",children:[Array.isArray(R.documentos)?R.documentos.length:0," arquivo(s)"]})]})]}),R.observacoes&&n.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 p-4 rounded-xl",children:n.jsx("p",{className:"text-amber-800 text-sm font-medium",children:R.observacoes})}),R.status==="approved"&&n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 p-4 rounded-xl",children:n.jsxs("p",{className:"text-green-800 text-sm font-medium",children:[n.jsx("strong",{children:"Aprovado em:"})," ",R.dataAprovacao?new Date(R.dataAprovacao).toLocaleDateString():"",R.aprovadoPor?n.jsxs(n.Fragment,{children:[" por ",R.aprovadoPor]}):null]})}),R.status==="rejected"&&R.motivoRejeicao&&n.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-4 rounded-xl",children:n.jsxs("p",{className:"text-red-800 text-sm font-medium",children:[n.jsx("strong",{children:"Rejeitado:"})," ",R.motivoRejeicao,R.rejeitadoPor&&n.jsxs(n.Fragment,{children:[" por ",R.rejeitadoPor]})]})}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:n.jsxs(vr,{to:`/admin/solicitacoes/${R.id}`,children:[n.jsx(Ni,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),R.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(ye,{size:"sm",onClick:()=>S(R.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(ps,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),n.jsxs(ye,{variant:"destructive",size:"sm",onClick:()=>F(R.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(gs,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]})})]});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white",children:n.jsx("div",{className:"container mx-auto px-6 py-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Solicitaes"}),n.jsx("p",{className:"text-blue-100",children:"Gerencie solicitaes de mdicos e clnicas"})]}),n.jsx("div",{className:"hidden md:flex items-center gap-4",children:n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold",children:k.length}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Total"})]})})]})})}),n.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(ke,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-amber-600 text-sm font-medium",children:"Pendentes"}),n.jsx("p",{className:"text-2xl font-bold text-amber-700",children:P.pending.length})]}),n.jsx("div",{className:"bg-amber-100 p-3 rounded-full",children:n.jsx(Pr,{className:"h-6 w-6 text-amber-600"})})]})})}),n.jsx(ke,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Aprovadas"}),n.jsx("p",{className:"text-2xl font-bold text-green-700",children:P.approved.length})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:n.jsx(ps,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(ke,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-red-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Rejeitadas"}),n.jsx("p",{className:"text-2xl font-bold text-red-700",children:P.rejected.length})]}),n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(gs,{className:"h-6 w-6 text-red-600"})})]})})}),n.jsx(ke,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:k.length})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:n.jsx(su,{className:"h-6 w-6 text-blue-600"})})]})})})]}),n.jsxs(ke,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:[n.jsx(We,{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl border-b",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(su,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl",children:"Filtros Avanados"}),n.jsx(cr,{children:"Use os filtros para refinar sua busca"})]})]})}),n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ke,{placeholder:"Buscar por nome, e-mail, CRM ou CNPJ",className:"pl-9 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",value:e,onChange:E})]}),n.jsx("div",{children:n.jsxs(Gr,{value:t,onValueChange:V,children:[n.jsx(Vr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Yr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"all",children:"Todos"}),n.jsx(st,{value:"pending",children:"Pendente"}),n.jsx(st,{value:"approved",children:"Aprovado"}),n.jsx(st,{value:"rejected",children:"Rejeitado"})]})]})}),n.jsx("div",{children:n.jsxs(Gr,{value:s,onValueChange:Q,children:[n.jsx(Vr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Yr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"all",children:"Todos"}),n.jsx(st,{value:"medico",children:"Mdicos"}),n.jsx(st,{value:"clinica",children:"Clnicas"})]})]})}),n.jsx("div",{children:n.jsxs(Gr,{value:o,onValueChange:$,children:[n.jsx(Vr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Yr,{placeholder:"Urgncia"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"all",children:"Todas"}),n.jsx(st,{value:"alta",children:"Alta"}),n.jsx(st,{value:"normal",children:"Normal"}),n.jsx(st,{value:"baixa",children:"Baixa"})]})]})})]})})]}),n.jsx(ke,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:n.jsxs(Vi,{defaultValue:"todas",className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl p-6 border-b",children:n.jsxs(zi,{className:"bg-white/80 backdrop-blur-sm border shadow-sm rounded-xl p-1",children:[n.jsxs(Ur,{value:"todas",className:"gap-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(su,{className:"h-4 w-4"})," Todas"]}),n.jsxs(Ur,{value:"pendentes",className:"gap-2 data-[state=active]:bg-amber-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(Pr,{className:"h-4 w-4"})," Pendentes"]}),n.jsxs(Ur,{value:"aprovadas",className:"gap-2 data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(ps,{className:"h-4 w-4"})," Aprovadas"]}),n.jsxs(Ur,{value:"rejeitadas",className:"gap-2 data-[state=active]:bg-red-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(gs,{className:"h-4 w-4"})," Rejeitadas"]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx(Or,{value:"todas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):m?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Gc,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-red-700",children:m})]}):k.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(vs,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:k.map(R=>n.jsx(G,{solicitacao:R},R.id))})}),n.jsx(Or,{value:"pendentes",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):P.pending.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Pr,{className:"h-8 w-8 text-amber-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao pendente."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:P.pending.map(R=>n.jsx(G,{solicitacao:R},R.id))})}),n.jsx(Or,{value:"aprovadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):P.approved.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(ps,{className:"h-8 w-8 text-green-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao aprovada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:P.approved.map(R=>n.jsx(G,{solicitacao:R},R.id))})}),n.jsx(Or,{value:"rejeitadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):P.rejected.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(gs,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao rejeitada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:P.rejected.map(R=>n.jsx(G,{solicitacao:R},R.id))})})]})]})})]})]})}function CX(){var S;const{id:e}=pl(),r=cs(),{toast:t}=Va(),[a,s]=y.useState(!1),[i,o]=y.useState(""),[l,A]=y.useState(""),[d,f]=y.useState(!0),[h,m]=y.useState(null);y.useEffect(()=>{let F=!0;return(async()=>{try{const D=await la.getSolicitacao(e);F&&m(D)}catch{t({title:"Erro ao carregar",description:"No foi possvel carregar a solicitao.",variant:"destructive"}),r("/admin/solicitacoes")}finally{F&&f(!1)}})(),()=>{F=!1}},[e]);const p=async F=>{try{await la.visualizarDocumento(F.url||F.nome)}catch(T){t({title:"Erro ao visualizar",description:T.message||"No foi possvel visualizar o documento.",variant:"destructive"})}},v=async F=>{try{await la.baixarDocumento(F.url||F.nome,F.nome),t({title:"Download iniciado",description:"O download do documento foi iniciado."})}catch(T){t({title:"Erro ao baixar",description:T.message||"No foi possvel baixar o documento.",variant:"destructive"})}};if(d)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(Yc,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),n.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitao"})]})]})});if(!h)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(Yc,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitao no encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const x=async()=>{s(!0);try{await la.aprovarSolicitacao(e,i||""),t({title:"Solicitao aprovada!",description:`${(h==null?void 0:h.nome)||"Solicitao"} aprovada com sucesso.`}),r("/admin/solicitacoes")}catch{t({title:"Erro",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{s(!1)}},w=async()=>{if(!l.trim()){t({title:"Motivo obrigatrio",description:"Por favor, informe o motivo da rejeio.",variant:"destructive"});return}s(!0);try{await la.rejeitarSolicitacao(e,l.trim()),t({title:"Solicitao rejeitada",description:`A solicitao de ${(h==null?void 0:h.nome)||""} foi rejeitada.`}),r("/admin/solicitacoes")}catch{t({title:"Erro",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{s(!1)}},j=F=>{switch(F){case"pending":return n.jsxs(sr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Gc,{className:"mr-1 h-3 w-3"}),"Aguardando Anlise"]});case"approved":return n.jsxs(sr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(ps,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(sr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(gs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},N=(h==null?void 0:h.endereco)||{};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(Yc,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitao"}),n.jsx("p",{className:"text-muted-foreground",children:"Anlise completa da solicitao de cadastro"})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`app-quick-icon ${h.tipo==="medico"?"info":"primary"} h-12 w-12`,children:h.tipo==="medico"?n.jsx(Kr,{className:"h-6 w-6"}):n.jsx(nc,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl",children:h.nome}),n.jsx(cr,{children:h.tipo==="medico"?"Solicitao de Cadastro Mdico":"Solicitao de Cadastro de Clnica"})]})]}),j(h.status)]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:h.email})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:h.telefone})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"Especialidade":"CNPJ"}),n.jsx("span",{children:h.especialidade})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"CRM":"Responsvel Tcnico"}),n.jsx("span",{children:h.crm})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Data de Envio"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[new Date(h.dataEnvio||h.created_at).toLocaleDateString()," s"," ",new Date(h.dataEnvio||h.created_at).toLocaleTimeString()]})]})]})]}),n.jsx(xs,{}),h.tipo==="medico"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Instituio de Formao"}),n.jsx("span",{children:h.instituicaoFormacao})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Ano de Formao"}),n.jsx("span",{children:h.anoFormacao})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Residncia"}),n.jsx("span",{children:h.residencia})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Instituio da Residncia"}),n.jsx("span",{children:h.instituicaoResidencia})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Ano da Residncia"}),n.jsx("span",{children:h.anoResidencia})]})]})]}),n.jsx(xs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm",children:h.experiencia})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Motivao"}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm",children:h.motivacao})})]}),n.jsx(xs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endereo"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"CEP"}),n.jsx("span",{children:N.cep||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Logradouro"}),n.jsx("span",{children:N.logradouro||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Bairro"}),n.jsx("span",{children:N.bairro||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"Cidade/Estado"}),n.jsxs("span",{children:[N.cidade||"","/",N.estado||""]})]})]})]})]})]}),n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(Ja,{className:"h-5 w-5"}),"Documentos Enviados"]}),n.jsxs(cr,{children:[((S=h.documentos)==null?void 0:S.length)||0," documento(s) anexado(s)"]})]}),n.jsx(Le,{children:n.jsx("div",{className:"space-y-3",children:(h.documentos||[]).map((F,T)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ja,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:F.nome}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.tamanho,"  Enviado em ",new Date(F.dataUpload).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>p(F),children:[n.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),n.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>v(F),children:[n.jsx(Al,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},T))})})]})]}),n.jsxs("div",{className:"space-y-6",children:[h.status==="pending"&&n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Aes"}),n.jsx(cr,{children:"Aprovar ou rejeitar esta solicitao"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"observacoes",children:"Observaes (opcional)"}),n.jsx(oa,{id:"observacoes",placeholder:"Adicione observaes sobre esta solicitao...",value:i,onChange:F=>o(F.target.value)})]}),n.jsxs(ye,{variant:"default",className:"w-full",onClick:x,disabled:a,children:[n.jsx(ps,{className:"mr-2 h-4 w-4"}),a?"Aprovando...":"Aprovar Solicitao"]}),n.jsx(xs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"motivoRejeicao",children:"Motivo da Rejeio"}),n.jsx(oa,{id:"motivoRejeicao",placeholder:"Informe o motivo da rejeio...",value:l,onChange:F=>A(F.target.value)})]}),n.jsxs(ye,{variant:"destructive",className:"w-full",onClick:w,disabled:a,children:[n.jsx(gs,{className:"mr-2 h-4 w-4"}),a?"Rejeitando...":"Rejeitar Solicitao"]})]})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Informaes do Sistema"})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"ID da Solicitao:"}),n.jsxs("span",{className:"font-mono",children:["#",h.id.toString().padStart(6,"0")]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),n.jsx("span",{className:"capitalize",children:h.tipo})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Urgncia:"}),n.jsx(sr,{variant:h.urgencia==="alta"?"destructive":"secondary",className:"text-xs",children:h.urgencia})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),j(h.status)]})]})]})]})]})]})}const X5=[{value:"7",label:"ltimos 7 dias"},{value:"30",label:"ltimos 30 dias"},{value:"90",label:"ltimos 90 dias"}];function SX(e){const r=new Date(e);return r.setHours(0,0,0,0),r}function EX(e){const r=new Date(e);return r.setHours(23,59,59,999),r}function _X(e){const r=new Date(e),t=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}function FX(){var h;const[e,r]=y.useState("30"),[t,a]=y.useState("all"),[s,i]=y.useState(!1),[o,l]=y.useState(null),[A,d]=y.useState([]),f=y.useMemo(()=>{if(!A.length)return{total:0,aprovadas:0,rejeitadas:0,pendentes:0,aprovMed:0,aprovCli:0,rejMed:0,rejCli:0,byDay:[],maxDay:0};const m=A.length,p=A.filter(k=>k.status==="aprovada").length,v=A.filter(k=>k.status==="rejeitada").length,x=A.filter(k=>k.status==="pendente").length,w=A.filter(k=>k.status==="aprovada"&&k.tipo==="medico").length,j=A.filter(k=>k.status==="aprovada"&&k.tipo==="clinica").length,N=A.filter(k=>k.status==="rejeitada"&&k.tipo==="medico").length,S=A.filter(k=>k.status==="rejeitada"&&k.tipo==="clinica").length,F={};A.forEach(k=>{const P=_X(k.createdAt);F[P]||(F[P]={ymd:P,aprov:0,rej:0}),k.status==="aprovada"&&F[P].aprov++,k.status==="rejeitada"&&F[P].rej++});const T=Object.values(F).sort((k,P)=>k.ymd.localeCompare(P.ymd)),D=Math.max(...T.map(k=>Math.max(k.aprov,k.rej)),1);return{total:m,aprovadas:p,rejeitadas:v,pendentes:x,aprovMed:w,aprovCli:j,rejMed:N,rejCli:S,byDay:T,maxDay:D}},[A]);return y.useEffect(()=>{(async()=>{i(!0),l(null);try{const p=new Date,v=parseInt(e,10),x=new Date(p.getTime()-v*24*60*60*1e3),w={startDate:SX(x).toISOString(),endDate:EX(p).toISOString()};t!=="all"&&(w.tipo=t);const j=await Ce.get("/admin/solicitacoes",{params:w});d(j.data||[])}catch(p){console.error("Erro ao buscar dados:",p),l(p)}finally{i(!1)}})()},[e,t]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900",children:[n.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 shadow-sm",children:n.jsx(Ja,{className:"h-8 w-8 text-slate-600 dark:text-slate-200"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatrios Administrativos"}),n.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mt-2 font-medium",children:"Anlise completa de solicitaes e mtricas operacionais"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-slate-600 dark:text-slate-200 mb-2",children:"Total"}),n.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:f.total}),n.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mt-1",children:"no perodo"})]}),n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl",children:n.jsx(Ja,{className:"h-6 w-6 text-slate-600 dark:text-slate-200"})})]})})}),n.jsx(ke,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-green-50 dark:bg-green-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-300 mb-2",children:"Aprovadas"}),n.jsx("p",{className:"text-3xl font-bold text-green-800 dark:text-green-200",children:f.aprovadas}),n.jsxs("p",{className:"text-sm font-medium text-green-600 dark:text-green-400 mt-1",children:[Math.round(f.aprovadas/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-800 rounded-xl",children:n.jsx(ps,{className:"h-6 w-6 text-green-600 dark:text-green-300"})})]})})}),n.jsx(ke,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-red-700 dark:text-red-300 mb-2",children:"Rejeitadas"}),n.jsx("p",{className:"text-3xl font-bold text-red-800 dark:text-red-200",children:f.rejeitadas}),n.jsxs("p",{className:"text-sm font-medium text-red-600 dark:text-red-400 mt-1",children:[Math.round(f.rejeitadas/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-800 rounded-xl",children:n.jsx(gs,{className:"h-6 w-6 text-red-600 dark:text-red-300"})})]})})}),n.jsx(ke,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-amber-50 dark:bg-amber-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Le,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-amber-700 dark:text-amber-300 mb-2",children:"Pendentes"}),n.jsx("p",{className:"text-3xl font-bold text-amber-800 dark:text-amber-200",children:f.pendentes}),n.jsxs("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mt-1",children:[Math.round(f.pendentes/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-800 rounded-xl",children:n.jsx(Pr,{className:"h-6 w-6 text-amber-600 dark:text-amber-300"})})]})})})]})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 space-y-8",children:[n.jsx(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:n.jsxs(We,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:n.jsx(su,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Filtros de Anlise"}),n.jsx(cr,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Configure o perodo e tipo de relatrio"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-6 mt-6",children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Perodo de Anlise"}),n.jsxs(Gr,{value:e,onValueChange:r,children:[n.jsx(Vr,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:n.jsx(Yr,{})}),n.jsx(zr,{children:X5.map(m=>n.jsx(st,{value:m.value,className:"text-base",children:m.label},m.value))})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Tipo de Solicitao"}),n.jsxs(Gr,{value:t,onValueChange:a,children:[n.jsx(Vr,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:n.jsx(Yr,{})}),n.jsxs(zr,{children:[n.jsx(st,{value:"all",className:"text-base",children:"Todos os Tipos"}),n.jsx(st,{value:"medico",className:"text-base",children:"Mdicos"}),n.jsx(st,{value:"clinica",className:"text-base",children:"Clnicas"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Aes"}),n.jsxs(ye,{variant:"outline",size:"lg",disabled:s,onClick:()=>r(e),className:"h-12 px-6 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 hover:bg-slate-50 dark:hover:bg-slate-600 hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 dark:text-slate-200 font-semibold shadow-sm transition-all duration-200 text-base",children:[n.jsx(Ny,{className:`h-5 w-5 mr-2 ${s?"animate-spin":""}`}),"Atualizar Dados"]})]})]})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(We,{className:"pb-4",children:n.jsx(Xe,{className:"text-base font-bold text-slate-700 dark:text-slate-200 group-hover:text-slate-900 dark:group-hover:text-white transition-colors",children:"Total no Perodo"})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-3",children:f.total}),n.jsx("p",{className:"text-base font-medium text-slate-600 dark:text-slate-300",children:(h=X5.find(m=>m.value===e))==null?void 0:h.label})]})]}),n.jsxs(ke,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-gradient-to-br from-white to-green-50 dark:from-slate-800 dark:to-green-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(We,{className:"pb-4",children:n.jsxs(Xe,{className:"text-base font-bold flex items-center gap-2 text-green-700 dark:text-green-200 group-hover:text-green-800 dark:group-hover:text-green-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-green-100 dark:bg-green-800 rounded",children:n.jsx(ps,{className:"h-5 w-5 text-green-600 dark:text-green-300"})}),"Solicitaes Aprovadas"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-green-800 dark:text-green-100 mb-3",children:f.aprovadas}),n.jsxs("p",{className:"text-base font-medium text-green-600 dark:text-green-300",children:[f.aprovMed," mdicos  ",f.aprovCli," clnicas"]})]})]}),n.jsxs(ke,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-gradient-to-br from-white to-red-50 dark:from-slate-800 dark:to-red-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(We,{className:"pb-4",children:n.jsxs(Xe,{className:"text-base font-bold flex items-center gap-2 text-red-700 dark:text-red-200 group-hover:text-red-800 dark:group-hover:text-red-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-red-100 dark:bg-red-800 rounded",children:n.jsx(gs,{className:"h-5 w-5 text-red-600 dark:text-red-300"})}),"Solicitaes Rejeitadas"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-red-800 dark:text-red-100 mb-3",children:f.rejeitadas}),n.jsxs("p",{className:"text-base font-medium text-red-600 dark:text-red-300",children:[f.rejMed," mdicos  ",f.rejCli," clnicas"]})]})]}),n.jsxs(ke,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-gradient-to-br from-white to-amber-50 dark:from-slate-800 dark:to-amber-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(We,{className:"pb-4",children:n.jsxs(Xe,{className:"text-base font-bold flex items-center gap-2 text-amber-700 dark:text-amber-200 group-hover:text-amber-800 dark:group-hover:text-amber-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-amber-100 dark:bg-amber-800 rounded",children:n.jsx(Pr,{className:"h-5 w-5 text-amber-600 dark:text-amber-300"})}),"Aguardando Anlise"]})}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-4xl font-bold text-amber-800 dark:text-amber-100 mb-3",children:f.pendentes}),n.jsx("p",{className:"text-base font-medium text-amber-600 dark:text-amber-300",children:"Requer ateno administrativa"})]})]})]}),n.jsxs(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:[n.jsx(We,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:n.jsx(nm,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Anlise Temporal"}),n.jsx(cr,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Distribuio diria de aprovaes e rejeies no perodo selecionado"})]})]})}),n.jsxs(Le,{className:"space-y-8 p-8",children:[f.byDay.map(m=>{const p=Math.round(m.aprov/f.maxDay*100),v=Math.round(m.rej/f.maxDay*100);return n.jsxs("div",{className:"group",children:[n.jsxs("div",{className:"flex items-center justify-between text-base mb-4",children:[n.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:m.ymd}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-400 rounded-full"}),n.jsxs("span",{className:"text-green-600 dark:text-green-300 font-bold text-base",children:["Aprovadas: ",m.aprov]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full"}),n.jsxs("span",{className:"text-red-600 dark:text-red-300 font-bold text-base",children:["Rejeitadas: ",m.rej]})]})]})]}),n.jsxs("div",{className:"h-8 w-full rounded-lg bg-slate-200 dark:bg-slate-700 overflow-hidden border border-slate-300 dark:border-slate-600 shadow-inner",children:[n.jsx("div",{className:"h-8 bg-green-500 inline-block transition-all duration-500 group-hover:bg-green-400",style:{width:`${p}%`},title:`Aprovadas: ${m.aprov}`}),n.jsx("div",{className:"h-8 bg-red-500 inline-block transition-all duration-500 group-hover:bg-red-400",style:{width:`${v}%`},title:`Rejeitadas: ${m.rej}`})]})]},m.ymd)}),!f.byDay.length&&n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"text-slate-400 text-6xl mb-6",children:""}),n.jsx("div",{className:"text-xl font-bold text-slate-600 dark:text-slate-300 mb-3",children:"Nenhum dado encontrado"}),n.jsx("div",{className:"text-base font-medium text-slate-500 dark:text-slate-400",children:"No h registros para o perodo selecionado."})]})]})]}),s&&n.jsx(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:n.jsx(Le,{className:"p-12",children:n.jsxs("div",{className:"animate-pulse space-y-8",children:[n.jsx("div",{className:"h-10 bg-slate-200 dark:bg-slate-700 rounded-lg w-1/3"}),n.jsx("div",{className:"h-40 bg-slate-200 dark:bg-slate-700 rounded-lg"})]})})}),o&&n.jsx(ke,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20",children:n.jsxs(Le,{className:"p-12 text-center",children:[n.jsx("div",{className:"text-red-400 text-6xl mb-6",children:""}),n.jsx("p",{className:"text-red-700 dark:text-red-300 font-bold text-xl mb-3",children:"Erro ao carregar dados"}),n.jsx("p",{className:"text-red-600 dark:text-red-400 text-base font-medium",children:String(o)})]})})]})]})}function kX(){const[e,r]=y.useState([]),[t,a]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState(null),[A,d]=y.useState(null),[f,h]=y.useState(""),[m,p]=y.useState(""),[v,x]=y.useState(""),[w,j]=y.useState(""),[N,S]=y.useState(""),[F,T]=y.useState(""),[D,k]=y.useState(""),P=y.useMemo(()=>{const V={ordering:"-created_at",limit:20};return f&&(V.action=f),m&&(V.entity=m),v&&(V.status=v),w&&(V.user=w),N&&(V.created_at__gte=new Date(N).toISOString()),F&&(V.created_at__lte=new Date(F).toISOString()),D&&(V.search=D),V},[f,m,v,w,N,F,D]),E=async V=>{var Q,$,G,R;a(!0),i(null);try{const ee=typeof V=="string"?await Ce.get(V):await la.getAuditoria(V),K=(ee==null?void 0:ee.data)??ee,z=Array.isArray(K==null?void 0:K.results)?K.results:Array.isArray(K)?K:[];r(z),l((K==null?void 0:K.next)||null),d((K==null?void 0:K.previous)||null)}catch(ee){const K=(Q=ee==null?void 0:ee.response)==null?void 0:Q.status,X=(typeof(($=ee==null?void 0:ee.response)==null?void 0:$.data)=="string"?null:(R=(G=ee==null?void 0:ee.response)==null?void 0:G.data)==null?void 0:R.detail)||(ee==null?void 0:ee.message)||"Falha ao carregar auditoria";i(K?`Erro ${K}: ${X}`:X)}finally{a(!1)}};return y.useEffect(()=>{E(P)},[P]),n.jsxs("div",{className:"space-y-8 p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-red-700 to-red-800 rounded-2xl p-8 text-white shadow-2xl",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:n.jsx(ci,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold",children:"Auditoria"}),n.jsx("p",{className:"text-red-100 text-lg",children:"Acompanhe registros de aes do sistema"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ji,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Total de Registros"}),n.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(In,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Usurios nicos"}),n.jsx("p",{className:"text-2xl font-bold",children:new Set(e.map(V=>{var Q;return(Q=V.user)==null?void 0:Q.id})).size})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fr,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Hoje"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(V=>new Date(V.created_at).toDateString()===new Date().toDateString()).length})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ni,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Sucessos"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(V=>V.status==="success").length})]})]})})]})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[n.jsx(We,{className:"pb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:n.jsx(su,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl font-semibold text-gray-900",children:"Filtros Avanados"}),n.jsx(cr,{className:"text-gray-600",children:"Refine a busca por perodo, usurio e tipo de ao"})]})]})}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Incio"}),n.jsx(Os,{value:N,onChange:S,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",maxDate:new Date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Fim"}),n.jsx(Os,{value:F,onChange:T,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",minDate:N?new Date(N):void 0,maxDate:new Date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),n.jsxs(Gr,{value:v,onValueChange:V=>x(V==="all"?"":V),children:[n.jsx(Vr,{className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",children:n.jsx(Yr,{placeholder:"Selecionar status"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"all",children:"Todos"}),n.jsx(st,{value:"success",children:"Sucesso"}),n.jsx(st,{value:"fail",children:"Falha"})]})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usurio (UUID)"}),n.jsx(Ke,{value:w,onChange:V=>j(V.target.value),placeholder:"ID do usurio",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ao"}),n.jsx(Ke,{value:f,onChange:V=>h(V.target.value),placeholder:"ex: login, create, update",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Entidade"}),n.jsx(Ke,{value:m,onChange:V=>p(V.target.value),placeholder:"ex: Consulta, Paciente",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Busca Geral"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(Ke,{value:D,onChange:V=>k(V.target.value),placeholder:"Buscar por ao, entidade, IP ou usurio...",className:"pl-10 h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs(ye,{onClick:()=>E(P),className:"h-11 px-6 btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-200",children:[n.jsx(vs,{className:"mr-2 h-4 w-4"}),"Buscar"]}),n.jsxs(ye,{variant:"outline",onClick:()=>{h(""),p(""),x(""),j(""),S(""),T(""),k("")},className:"h-11 px-6 bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:[n.jsx(Ny,{className:"mr-2 h-4 w-4"}),"Limpar"]})]})]})]})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between pb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:n.jsx(ji,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-xl font-semibold text-gray-900",children:"Registros de Auditoria"}),n.jsx(cr,{className:"text-gray-600",children:"Resultados paginados (20 por pgina)"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",disabled:!A||t,onClick:()=>E(A),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:n.jsx(YC,{className:"h-4 w-4"})}),n.jsx(ye,{variant:"outline",size:"sm",disabled:!o||t,onClick:()=>E(o),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:n.jsx(cl,{className:"h-4 w-4"})})]})]}),n.jsxs(Le,{children:[s&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:n.jsx("p",{className:"text-red-700 font-medium",children:s})}),n.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:n.jsxs("table",{className:"min-w-full bg-white",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Data"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Usurio"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Ao"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Entidade"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"ID"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"IP"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Status"})]})}),n.jsxs("tbody",{children:[!t&&e.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gray-100 rounded-full",children:n.jsx(ji,{className:"h-6 w-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum registro encontrado"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Tente ajustar os filtros de busca"})]})})}),e.map((V,Q)=>{var $,G;return n.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 transition-all duration-200 ${Q%2===0?"bg-white":"bg-gray-50/30"}`,children:[n.jsx("td",{className:"py-4 px-6 text-sm text-gray-900 font-medium whitespace-nowrap",children:new Date(V.created_at).toLocaleString("pt-BR")}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:(($=V.user)==null?void 0:$.username)||((G=V.user)==null?void 0:G.email)||"-"}),n.jsx("td",{className:"py-4 px-6",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:V.action})}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:V.entity||"-"}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:V.entity_id||"-"}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:V.ip_address||"-"}),n.jsx("td",{className:"py-4 px-6",children:V.status==="success"?n.jsx(sr,{className:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",variant:"outline",children:"Sucesso"}):n.jsx(sr,{className:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",variant:"outline",children:"Falha"})})]},V.id)})]})]})})]})]})]})}function DX(){const{activeRole:e,toggleRole:r}=ac(),{user:t}=xl(),a=cs();if(!((t==null?void 0:t.role)==="medico"||(t==null?void 0:t.is_medico)||(t==null?void 0:t.isMedico)||!1))return null;const i=()=>{r(),a(e==="medico"?"/paciente/perfil":"/medico/dashboard")};return n.jsx(ye,{variant:"outline",size:"sm",onClick:i,className:"flex items-center gap-2 transition-all duration-200 hover:shadow-md",children:e==="medico"?n.jsxs(n.Fragment,{children:[n.jsx(In,{className:"h-4 w-4"}),n.jsx("span",{children:"Mudar para Paciente"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Kr,{className:"h-4 w-4"}),n.jsx("span",{children:"Mudar para Mdico"})]})})}function UX(){const{isAuthenticated:e,user:r}=xl(),{isAuthenticated:t}=ac();if(e){const a=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),s=a==="admin"?"/admin/dashboard":a==="medico"?"/medico/dashboard":a==="clinica"?"/clinica/dashboard":"/paciente/perfil";return n.jsx(wa,{to:s,replace:!0})}return n.jsxs("div",{className:"flex min-h-screen flex-col bg-app-soft",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-blue-100/50 app-light-green-gradient dark:app-dark-green-gradient backdrop-blur-xl shadow-sm",children:n.jsxs("div",{className:"container flex h-16 items-center",children:[n.jsx("div",{className:"mr-4 flex",children:n.jsxs(vr,{to:"/",className:"mr-6 flex items-center space-x-3 group",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl overflow-hidden shadow-lg group-hover:shadow-blue-500/25 transition-all duration-300 group-hover:scale-105",children:n.jsx("img",{src:"/logo/logoTrathea.jpg",alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Trathea"})]})}),n.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:n.jsxs("nav",{className:"flex items-center space-x-2",children:[n.jsx(rb,{}),t&&n.jsx(DX,{})]})})]})}),n.jsx("main",{className:"flex-1",children:n.jsxs("section",{className:"w-full py-16 md:py-24 lg:py-32 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-teal-400/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-medical-primary/20 to-purple-400/20 rounded-full blur-3xl"})]}),n.jsx("div",{className:"container px-4 md:px-6 relative",children:n.jsxs("div",{className:"flex flex-col items-center justify-center space-y-12 text-center",children:[n.jsxs("div",{className:"space-y-6 max-w-4xl",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-100 to-teal-100 text-medical-primary font-medium text-sm border border-blue-200/50",children:[n.jsx(lI,{className:"w-4 h-4"}),"Plataforma Mdica Integrada"]}),n.jsxs("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl lg:text-7xl",children:[n.jsx("span",{className:"bg-gradient-to-r from-medical-primary via-blue-600 to-teal-600 bg-clip-text text-transparent",children:"Bem-vindo ao"}),n.jsx("br",{}),n.jsx("span",{className:"bg-gradient-to-r from-teal-600 via-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Trathea"})]}),n.jsx("p",{className:"mx-auto max-w-[800px] text-xl text-slate-600 dark:text-slate-300 leading-relaxed",children:"Conectando mdicos e pacientes para uma experincia de sade integrada e moderna."}),n.jsx("p",{className:"mx-auto max-w-[700px] text-lg text-slate-500 dark:text-slate-400 leading-relaxed",children:"Nossa plataforma oferece uma soluo completa para gerenciamento de consultas, pronturios e histrico mdico, facilitando a comunicao entre profissionais de sade e pacientes."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl mt-16",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-blue-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(Kr,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Consultas Online"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Agende e realize consultas mdicas de forma digital e segura."})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-teal-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-teal-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(ji,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Pronturio Digital"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Acesse seu histrico mdico completo em qualquer lugar."})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-purple-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(ci,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Segurana Total"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Seus dados mdicos protegidos com criptografia avanada."})]})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mt-12",children:t?n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-lg mx-auto",children:[n.jsx(vr,{to:"/medico/dashboard",className:"flex-1",children:n.jsx(ye,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-teal-500 to-teal-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group dark:from-teal-400 dark:to-teal-500",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"w-5 h-5"}),"Acessar como Mdico"]})})}),n.jsx(vr,{to:"/paciente/perfil",className:"flex-1",children:n.jsx(ye,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-blue-500/20 bg-white/90 dark:bg-white/5 text-blue-600 dark:text-blue-300 font-semibold shadow-lg hover:bg-blue-500/5 dark:hover:bg-blue-500/10 hover:border-blue-500/40 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Kn,{className:"w-5 h-5"}),"Acessar como Paciente"]})})})]}):n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-md mx-auto",children:[n.jsx(vr,{to:"/login",className:"flex-1",children:n.jsx(ye,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-medical-primary to-blue-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group dark:from-emerald-400 dark:to-emerald-500",children:n.jsxs("span",{className:"flex items-center gap-2",children:["Entrar",n.jsx(zg,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})})}),n.jsx(vr,{to:"/registrar",className:"flex-1",children:n.jsx(ye,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-medical-primary/20 bg-white/90 dark:bg-white/5 text-medical-primary font-semibold shadow-lg hover:bg-medical-primary/5 dark:hover:bg-medical-primary/10 hover:border-medical-primary/40 hover:shadow-xl hover:scale-105 transition-all duration-300",children:"Criar Conta"})})]})})]})})]})})]})}function LX(){var D,k,P,E,V,Q,$,G,R,ee;const[e,r]=y.useState(!1),[t,a]=y.useState("none"),{toast:s}=Va();cs();const{setActiveRole:i,setUserPermissions:o}=ac(),l=((D=ra.getCurrentUser)==null?void 0:D.call(ra))||null,d=`medicoApplicationStatus:${l&&(l.id||l.pk||l.email||l.username)||"anon"}`;y.useEffect(()=>{try{const K=localStorage.getItem("medicoApplicationStatus");K&&!localStorage.getItem(d)&&(localStorage.setItem(d,K),localStorage.removeItem("medicoApplicationStatus"));const z=JSON.parse(localStorage.getItem(d)||"{}");z!=null&&z.status&&a(z.status)}catch{}},[d]);const[f,h]=y.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),m=K=>String(K||"").replace(/\D/g,"").slice(0,7),p=K=>{const{name:z,value:X}=K.target,ne=z==="crm"?m(X):X;h({...f,[z]:ne})},v=(K,z)=>{h({...f,[K]:z})},x=(K,z)=>{h({...f,documentos:{...f.documentos,[K]:z}})},w=y.useRef(null),j=y.useRef(null),N=y.useRef(null),S=(K,z)=>{h(X=>({...X,documentos:{...X.documentos,[K]:null}})),z!=null&&z.current&&(z.current.value="")},F=async K=>{var z,X,ne,ue;if(K.preventDefault(),r(!0),!((z=f.documentos)!=null&&z.diplomaMedicina)){s({title:"Arquivo obrigatrio",description:"Anexe o Diploma de Medicina antes de enviar.",variant:"destructive"}),r(!1);return}try{const{solicitacaoService:_}=await ul(async()=>{const{solicitacaoService:I}=await Promise.resolve().then(()=>bL);return{solicitacaoService:I}},void 0);await _.criarSolicitacaoMedico(f),a("pending"),localStorage.setItem(d,JSON.stringify({status:"pending",at:new Date().toISOString()})),o(I=>({...I,medicoStatus:"pending"})),s({title:"Solicitao enviada!",description:"Sua solicitao para se tornar mdico foi enviada para anlise."})}catch(_){const I=(X=_==null?void 0:_.response)==null?void 0:X.status;if(I===404)a("pending"),localStorage.setItem(d,JSON.stringify({status:"pending",at:new Date().toISOString(),simulated:!0})),o(W=>({...W,medicoStatus:"pending"})),s({title:"Solicitao registrada (modo teste)",description:"Sem endpoint de backend disponvel. Status salvo localmente."});else if(I===405){const W=((ne=_==null?void 0:_.config)==null?void 0:ne.url)||"(desconhecido)";console.warn("Endpoint no aceita POST (405). URL usada:",W),s({title:"Mtodo no permitido (405)",description:`O backend no aceita POST neste endpoint: ${W}. Verifique a varivel de ambiente do endpoint de solicitaes do mdico ou me informe a rota correta de criao.`,variant:"destructive"})}else{const W=(ue=_==null?void 0:_.response)==null?void 0:ue.data;console.error("[MedicoRegistration] criarSolicitacaoMedico falhou:",_,W),s({title:"Erro ao enviar",description:typeof W=="string"?W:"No foi possvel enviar a solicitao. Verifique os campos e tente novamente.",variant:"destructive"})}}finally{r(!1)}},T=()=>{switch(t){case"pending":return n.jsxs(sr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Pr,{className:"mr-1 h-3 w-3"}),"Aguardando Aprovao"]});case"approved":return n.jsxs(sr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(ps,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(sr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(gs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}};return t==="approved"?n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5 text-green-600"}),n.jsx(Xe,{className:"text-green-700",children:"Parabns! Voc  um mdico aprovado"})]}),n.jsx(cr,{children:"Sua solicitao foi aprovada. Agora voc pode acessar todas as funcionalidades mdicas."})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Voc agora pode alternar entre os perfis de paciente e mdico usando o boto no menu lateral."})}),n.jsx(ye,{className:"w-full",children:"Acessar rea Mdica"})]})})]}):t==="pending"?n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"}),n.jsx(Xe,{children:"Solicitao de Cadastro Mdico"})]}),T()]}),n.jsx(cr,{children:"Sua solicitao est sendo analisada pela equipe administrativa."})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[n.jsx("strong",{children:"Status:"})," Aguardando aprovao",n.jsx("br",{}),n.jsx("strong",{children:"Enviado em:"})," ",new Date().toLocaleDateString(),n.jsx("br",{}),n.jsx("strong",{children:"Tempo estimado:"})," 2-5 dias teis"]})}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc receber um email quando sua solicitao for processada. Enquanto isso, voc pode continuar usando o sistema como paciente."})]})})]}):t==="rejected"?n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"}),n.jsx(Xe,{children:"Solicitao de Cadastro Mdico"})]}),T()]}),n.jsx(cr,{children:"Sua solicitao foi rejeitada. Veja os motivos abaixo."})]}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[n.jsx("strong",{children:"Motivos da rejeio:"}),n.jsx("br",{})," Documentao incompleta",n.jsx("br",{})," CRM no encontrado no sistema do CFM",n.jsx("br",{})," Informaes inconsistentes"]})}),n.jsx(ye,{variant:"outline",className:"w-full bg-transparent",onClick:()=>a("none"),children:"Enviar Nova Solicitao"})]})})]}):n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"}),n.jsx(Xe,{children:"Cadastro como Mdico"})]}),n.jsx(cr,{children:"Preencha os dados abaixo para solicitar acesso s funcionalidades mdicas"})]}),n.jsx(Le,{children:n.jsxs("form",{onSubmit:F,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Dados Profissionais"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"crm",children:"CRM *"}),n.jsx(Ke,{id:"crm",name:"crm",placeholder:"Ex: CRM/SP 123456",value:f.crm,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"especialidade",children:"Especialidade *"}),n.jsxs(Gr,{onValueChange:K=>v("especialidade",K),children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Selecione sua especialidade"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"clinica-geral",children:"Clnica Geral"}),n.jsx(st,{value:"cardiologia",children:"Cardiologia"}),n.jsx(st,{value:"dermatologia",children:"Dermatologia"}),n.jsx(st,{value:"endocrinologia",children:"Endocrinologia"}),n.jsx(st,{value:"ginecologia",children:"Ginecologia"}),n.jsx(st,{value:"neurologia",children:"Neurologia"}),n.jsx(st,{value:"ortopedia",children:"Ortopedia"}),n.jsx(st,{value:"pediatria",children:"Pediatria"}),n.jsx(st,{value:"psiquiatria",children:"Psiquiatria"}),n.jsx(st,{value:"urologia",children:"Urologia"}),n.jsx(st,{value:"outras",children:"Outras"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"instituicaoFormacao",children:"Instituio de Formao *"}),n.jsx(Ke,{id:"instituicaoFormacao",name:"instituicaoFormacao",placeholder:"Ex: USP, UNIFESP, etc.",value:f.instituicaoFormacao,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"anoFormacao",children:"Ano de Formao *"}),n.jsx(Ke,{id:"anoFormacao",name:"anoFormacao",type:"number",placeholder:"Ex: 2015",min:"1950",max:new Date().getFullYear(),value:f.anoFormacao,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"residencia",children:"Residncia Mdica"}),n.jsx(Ke,{id:"residencia",name:"residencia",placeholder:"Ex: Cardiologia",value:f.residencia,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"instituicaoResidencia",children:"Instituio da Residncia"}),n.jsx(Ke,{id:"instituicaoResidencia",name:"instituicaoResidencia",placeholder:"Ex: Hospital das Clnicas",value:f.instituicaoResidencia,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"anoResidencia",children:"Ano de Concluso da Residncia"}),n.jsx(Ke,{id:"anoResidencia",name:"anoResidencia",type:"number",placeholder:"Ex: 2018",min:"1950",max:new Date().getFullYear(),value:f.anoResidencia,onChange:p})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"experiencia",children:"Descreva sua experincia profissional *"}),n.jsx(oa,{id:"experiencia",name:"experiencia",placeholder:"Descreva onde trabalhou, por quanto tempo, principais atividades...",className:"min-h-[100px]",value:f.experiencia,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"motivacao",children:"Por que deseja usar nossa plataforma? *"}),n.jsx(oa,{id:"motivacao",name:"motivacao",placeholder:"Conte-nos sobre suas motivaes e como pretende usar a plataforma...",className:"min-h-[100px]",value:f.motivacao,onChange:p,required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Documentos Obrigatrios"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Diploma de Medicina *"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var K;return(K=w.current)==null?void 0:K.click()},onDragOver:K=>K.preventDefault(),onDrop:K=>{var X;K.preventDefault();const z=(X=K.dataTransfer.files)==null?void 0:X[0];z&&x("diplomaMedicina",z)},children:[n.jsx(vg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(k=f.documentos)!=null&&k.diplomaMedicina?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(P=f.documentos)!=null&&P.diplomaMedicina?f.documentos.diplomaMedicina.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Ke,{ref:w,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:K=>x("diplomaMedicina",K.target.files[0])}),((E=f.documentos)==null?void 0:E.diplomaMedicina)&&n.jsx("div",{className:"mt-2",children:n.jsx(ye,{type:"button",variant:"ghost",size:"sm",onClick:()=>S("diplomaMedicina",w),children:"Remover arquivo"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Certificado de Residncia (se aplicvel)"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var K;return(K=j.current)==null?void 0:K.click()},onDragOver:K=>K.preventDefault(),onDrop:K=>{var X;K.preventDefault();const z=(X=K.dataTransfer.files)==null?void 0:X[0];z&&x("certificadoResidencia",z)},children:[n.jsx(vg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(V=f.documentos)!=null&&V.certificadoResidencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(Q=f.documentos)!=null&&Q.certificadoResidencia?f.documentos.certificadoResidencia.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Ke,{ref:j,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:K=>x("certificadoResidencia",K.target.files[0])}),(($=f.documentos)==null?void 0:$.certificadoResidencia)&&n.jsx("div",{className:"mt-2",children:n.jsx(ye,{type:"button",variant:"ghost",size:"sm",onClick:()=>S("certificadoResidencia",j),children:"Remover arquivo"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Comprovante de Experincia"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var K;return(K=N.current)==null?void 0:K.click()},onDragOver:K=>K.preventDefault(),onDrop:K=>{var X;K.preventDefault();const z=(X=K.dataTransfer.files)==null?void 0:X[0];z&&x("comprovanteExperiencia",z)},children:[n.jsx(vg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(G=f.documentos)!=null&&G.comprovanteExperiencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(R=f.documentos)!=null&&R.comprovanteExperiencia?f.documentos.comprovanteExperiencia.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Ke,{ref:N,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:K=>x("comprovanteExperiencia",K.target.files[0])}),((ee=f.documentos)==null?void 0:ee.comprovanteExperiencia)&&n.jsx("div",{className:"mt-2",children:n.jsx(ye,{type:"button",variant:"ghost",size:"sm",onClick:()=>S("comprovanteExperiencia",N),children:"Remover arquivo"})})]})]})]})]}),n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[n.jsx("strong",{children:"Importante:"})," Sua solicitao ser analisada por nossa equipe administrativa. O processo pode levar de 2 a 5 dias teis. Voc receber um email com o resultado da anlise."]})}),n.jsx(ye,{type:"submit",className:"w-full",disabled:e,children:e?"Enviando solicitao...":"Enviar Solicitao"})]})})]})}var Ex="Switch",[IX,QZ]=vl(Ex),[PX,QX]=IX(Ex),mk=y.forwardRef((e,r)=>{const{__scopeSwitch:t,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:A="on",onCheckedChange:d,form:f,...h}=e,[m,p]=y.useState(null),v=ga(r,S=>p(S)),x=y.useRef(!1),w=m?f||!!m.closest("form"):!0,[j,N]=cd({prop:s,defaultProp:i??!1,onChange:d,caller:Ex});return n.jsxs(PX,{scope:t,checked:j,disabled:l,children:[n.jsx(jr.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":vk(j),"data-disabled":l?"":void 0,disabled:l,value:A,...h,ref:v,onClick:Ut(e.onClick,S=>{N(F=>!F),w&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),w&&n.jsx(xk,{control:m,bubbles:!x.current,name:a,value:A,checked:j,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});mk.displayName=Ex;var pk="SwitchThumb",gk=y.forwardRef((e,r)=>{const{__scopeSwitch:t,...a}=e,s=QX(pk,t);return n.jsx(jr.span,{"data-state":vk(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});gk.displayName=pk;var RX="SwitchBubbleInput",xk=y.forwardRef(({__scopeSwitch:e,control:r,checked:t,bubbles:a=!0,...s},i)=>{const o=y.useRef(null),l=ga(o,i),A=YE(t),d=Y4(r);return y.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(A!==t&&p){const v=new Event("click",{bubbles:a});p.call(f,t),f.dispatchEvent(v)}},[A,t,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xk.displayName=RX;function vk(e){return e?"checked":"unchecked"}var wk=mk,TX=gk;const qh=y.forwardRef(({className:e,...r},t)=>n.jsx(wk,{className:lt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:t,children:n.jsx(TX,{className:lt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qh.displayName=wk.displayName;function MX({medicoId:e,medicoInfo:r={}}){const{toast:t}=Va(),a=y.useRef(null),[s,i]=y.useState(Fs),[o,l]=y.useState(null),[A,d]=y.useState(null),[f,h]=y.useState(!1),[m,p]=y.useState(!0);y.useEffect(()=>{if(!e)return;(async()=>{try{let k=null,P=null;try{k=fm(e),P=Mf(e)}catch(E){console.warn("Erro ao carregar do backend, usando localStorage:",E),k=fm(e),P=Mf(e)}k&&i(k),P&&d(P.data)}catch(k){console.error("Erro ao carregar configurao:",k)}finally{p(!1)}})()},[e]);const v=(D,k)=>{i(P=>{const E={...P},V=D.split(".");let Q=E;for(let $=0;$<V.length-1;$++)Q[V[$]]||(Q[V[$]]={}),Q=Q[V[$]];return Q[V[V.length-1]]=k,E})},x=({template:D})=>{var G,R,ee,K,z,X;const k=D.type||Yl.CLASSIC,P=((G=D==null?void 0:D.branding)==null?void 0:G.primaryColor)||((ee=(R=D==null?void 0:D.content)==null?void 0:R.colors)==null?void 0:ee.accent)||"#3b82f6",E=((K=D==null?void 0:D.header)==null?void 0:K.backgroundColor)||"#ffffff",V=((z=D==null?void 0:D.header)==null?void 0:z.showLogo)!==!1,Q=((X=D==null?void 0:D.header)==null?void 0:X.borderBottom)!==!1;if(D!=null&&D.preview)return n.jsx("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden bg-white",children:n.jsx("img",{src:D.preview,alt:`Prvia ${D.name}`,className:"w-full h-full object-cover"})});const $=n.jsxs("div",{className:"aspect-[3/4] rounded-lg border bg-white overflow-hidden",children:[n.jsxs("div",{className:"h-10 flex items-center justify-between px-3",style:{backgroundColor:E},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[V&&n.jsx("div",{className:"w-6 h-6 rounded bg-gray-300"}),n.jsx("div",{className:"h-3 w-16 bg-gray-400/70 rounded"})]}),n.jsx("div",{className:"h-3 w-10 bg-gray-300 rounded"})]}),Q&&n.jsx("div",{className:"h-[1px] w-full",style:{backgroundColor:"#e5e7eb"}}),n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-28 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-24 bg-gray-200 rounded"})]}),n.jsx("div",{className:"mt-auto p-3",children:n.jsx("div",{className:"h-2 w-32 rounded",style:{backgroundColor:P}})})]});return k===Yl.MODERN?n.jsxs("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden",children:[n.jsx("div",{className:"h-12 flex items-center justify-center",style:{backgroundColor:E},children:V&&n.jsx("div",{className:"w-7 h-7 rounded-full",style:{backgroundColor:P}})}),n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-28 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"})]}),n.jsx("div",{className:"mt-auto p-3",children:n.jsx("div",{className:"h-1 w-full",style:{backgroundColor:P}})})]}):k===Yl.MINIMAL?n.jsx("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden",children:n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-24 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-28 bg-gray-200 rounded"})]})}):$},w=D=>{const k=UN[D];k&&(i(P=>C9(k,{branding:{...k.branding,clinicName:r.nome||P.branding.clinicName,clinicAddress:r.endereco||P.branding.clinicAddress,clinicPhone:r.telefone||P.branding.clinicPhone}})),t({title:"Template selecionado",description:`Template "${k.name}" aplicado com sucesso.`}))},j=D=>{var E;const k=(E=D.target.files)==null?void 0:E[0];if(!k)return;if(!k.type.startsWith("image/")){t({title:"Arquivo invlido",description:"Por favor, selecione uma imagem vlida.",variant:"destructive"});return}if(k.size>2*1024*1024){t({title:"Arquivo muito grande",description:"O logo deve ter no mximo 2MB.",variant:"destructive"});return}l(k);const P=new FileReader;P.onload=V=>{d(V.target.result)},P.readAsDataURL(k)},N=()=>{l(null),d(null),e&&IN(e),v("header.showLogo",!1),t({title:"Logo removido",description:"O logo foi removido do template."})},S=async()=>{if(!e){t({title:"Erro",description:"ID do mdico no encontrado.",variant:"destructive"});return}h(!0);try{const D=B9(s);if(!D.isValid){t({title:"Configurao invlida",description:D.errors.join(", "),variant:"destructive"});return}let k=null;if(o){const E=new FileReader;k=await new Promise(V=>{E.onload=Q=>V(Q.target.result),E.readAsDataURL(o)}),v("header.showLogo",!0)}else A&&(k=A);if(await ur.salvarTemplateConfig(s,k))LN(e,s),k&&u0(e,{data:k,type:(o==null?void 0:o.type)||"image/png"}),t({title:"Configurao salva",description:"Suas configuraes de template foram salvas com sucesso no servidor."});else{const E=LN(e,s);if(k&&u0(e,{data:k,type:(o==null?void 0:o.type)||"image/png"}),E)t({title:"Configurao salva localmente",description:"Suas configuraes foram salvas localmente (servidor indisponvel).",variant:"default"});else throw new Error("Falha ao salvar configurao")}}catch(D){console.error("Erro ao salvar:",D),t({title:"Erro ao salvar",description:"No foi possvel salvar as configuraes.",variant:"destructive"})}finally{h(!1)}},F=()=>{i(Fs),l(null),d(null),e&&IN(e),t({title:"Configurao resetada",description:"As configuraes foram restauradas para o padro."})},T=()=>{const D=S9(s);console.log("Preview config:",D),t({title:"Preview gerado",description:"Verifique o console para ver a configurao de preview."})};return m?n.jsx(ke,{children:n.jsx(Le,{className:"p-6",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(Ja,{className:"h-5 w-5"}),"Configurao de Templates de PDF"]}),n.jsx(cr,{children:"Personalize o layout e aparncia das suas receitas mdicas em PDF"})]}),n.jsxs(Le,{children:[n.jsxs(Vi,{defaultValue:"templates",className:"space-y-6",children:[n.jsxs(zi,{className:"grid w-full grid-cols-4",children:[n.jsxs(Ur,{value:"templates",className:"flex items-center gap-2",children:[n.jsx(GL,{className:"h-4 w-4"}),"Templates"]}),n.jsxs(Ur,{value:"branding",className:"flex items-center gap-2",children:[n.jsx(pj,{className:"h-4 w-4"}),"Identidade"]}),n.jsxs(Ur,{value:"layout",className:"flex items-center gap-2",children:[n.jsx(im,{className:"h-4 w-4"}),"Layout"]}),n.jsxs(Ur,{value:"colors",className:"flex items-center gap-2",children:[n.jsx(XC,{className:"h-4 w-4"}),"Cores"]})]}),n.jsx(Or,{value:"templates",className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(UN).map(([D,k])=>n.jsx(ke,{className:`cursor-pointer transition-all hover:shadow-md ${s.type===D?"ring-2 ring-primary":""}`,onClick:()=>w(D),children:n.jsxs(Le,{className:"p-4",children:[n.jsx("div",{className:"mb-3",children:n.jsx(x,{template:k})}),n.jsx("h3",{className:"font-semibold",children:k.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:k.description}),s.type===D&&n.jsx(sr,{className:"mt-2",children:"Selecionado"})]})},D))})}),n.jsx(Or,{value:"branding",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(De,{className:"text-base font-semibold",children:"Logo da Clnica"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Adicione o logo da sua clnica que aparecer no cabealho das receitas"}),n.jsxs("div",{className:"flex items-center gap-4",children:[A?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:A,alt:"Logo preview",className:"w-20 h-20 object-contain border rounded-lg"}),n.jsx(ye,{size:"sm",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:N,children:""})]}):n.jsx("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:n.jsx(pj,{className:"h-8 w-8 text-gray-400"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ye,{variant:"outline",onClick:()=>{var D;return(D=a.current)==null?void 0:D.click()},className:"flex items-center gap-2",children:[n.jsx(vg,{className:"h-4 w-4"}),A?"Alterar Logo":"Adicionar Logo"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG at 2MB"})]})]}),n.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:j,className:"hidden"})]}),n.jsx(xs,{}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"clinicName",children:"Nome da Clnica"}),n.jsx(Ke,{id:"clinicName",value:s.branding.clinicName,onChange:D=>v("branding.clinicName",D.target.value),placeholder:"Nome da sua clnica"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"clinicPhone",children:"Telefone"}),n.jsx(Ke,{id:"clinicPhone",value:s.branding.clinicPhone,onChange:D=>v("branding.clinicPhone",D.target.value),placeholder:"(11) 99999-9999"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(De,{htmlFor:"clinicAddress",children:"Endereo"}),n.jsx(oa,{id:"clinicAddress",value:s.branding.clinicAddress,onChange:D=>v("branding.clinicAddress",D.target.value),placeholder:"Endereo completo da clnica",rows:2})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"clinicEmail",children:"E-mail"}),n.jsx(Ke,{id:"clinicEmail",type:"email",value:s.branding.clinicEmail,onChange:D=>v("branding.clinicEmail",D.target.value),placeholder:"contato@clinica.com"})]})]})]})}),n.jsxs(Or,{value:"layout",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Configuraes da Pgina"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Tamanho da Pgina"}),n.jsxs(Gr,{value:s.layout.pageSize,onValueChange:D=>v("layout.pageSize",D),children:[n.jsx(Vr,{children:n.jsx(Yr,{})}),n.jsxs(zr,{children:[n.jsx(st,{value:"A4",children:"A4"}),n.jsx(st,{value:"Letter",children:"Letter"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Orientao"}),n.jsxs(Gr,{value:s.layout.orientation,onValueChange:D=>v("layout.orientation",D),children:[n.jsx(Vr,{children:n.jsx(Yr,{})}),n.jsxs(zr,{children:[n.jsx(st,{value:"portrait",children:"Retrato"}),n.jsx(st,{value:"landscape",children:"Paisagem"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Margens (px)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Superior"}),n.jsx(Ke,{type:"number",value:s.layout.margins.top,onChange:D=>v("layout.margins.top",parseInt(D.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Inferior"}),n.jsx(Ke,{type:"number",value:s.layout.margins.bottom,onChange:D=>v("layout.margins.bottom",parseInt(D.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Esquerda"}),n.jsx(Ke,{type:"number",value:s.layout.margins.left,onChange:D=>v("layout.margins.left",parseInt(D.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Direita"}),n.jsx(Ke,{type:"number",value:s.layout.margins.right,onChange:D=>v("layout.margins.right",parseInt(D.target.value)||0)})]})]})]})]}),n.jsx(xs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Tipografia"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajuste o tamanho das letras usadas em ttulos, subttulos e textos."}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Ttulo"}),n.jsx(Ke,{type:"number",min:10,max:32,value:s.content.fontSize.title,onChange:D=>v("content.fontSize.title",parseInt(D.target.value)||10)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Subttulo"}),n.jsx(Ke,{type:"number",min:9,max:28,value:s.content.fontSize.subtitle,onChange:D=>v("content.fontSize.subtitle",parseInt(D.target.value)||9)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Corpo"}),n.jsx(Ke,{type:"number",min:8,max:24,value:s.content.fontSize.body,onChange:D=>v("content.fontSize.body",parseInt(D.target.value)||8)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Pequeno"}),n.jsx(Ke,{type:"number",min:8,max:20,value:s.content.fontSize.small,onChange:D=>v("content.fontSize.small",parseInt(D.target.value)||8)})]})]})]}),n.jsx(xs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Cabealho e Rodap"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Mostrar Logo"}),n.jsx(qh,{checked:s.header.showLogo,onCheckedChange:D=>v("header.showLogo",D)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Mostrar Informaes do Mdico"}),n.jsx(qh,{checked:s.header.showDoctorInfo,onCheckedChange:D=>v("header.showDoctorInfo",D)})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Mostrar Assinatura"}),n.jsx(qh,{checked:s.footer.showSignature,onCheckedChange:D=>v("footer.showSignature",D)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(De,{children:"Mostrar Data"}),n.jsx(qh,{checked:s.footer.showDate,onCheckedChange:D=>v("footer.showDate",D)})]})]})]})]})]}),n.jsx(Or,{value:"colors",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Cores do Texto"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Primria"}),n.jsx(Ke,{type:"color",value:s.content.colors.primary,onChange:D=>v("content.colors.primary",D.target.value),className:"w-16 h-10"}),n.jsx(Ke,{value:s.content.colors.primary,onChange:D=>v("content.colors.primary",D.target.value),className:"flex-1"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Secundria"}),n.jsx(Ke,{type:"color",value:s.content.colors.secondary,onChange:D=>v("content.colors.secondary",D.target.value),className:"w-16 h-10"}),n.jsx(Ke,{value:s.content.colors.secondary,onChange:D=>v("content.colors.secondary",D.target.value),className:"flex-1"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Destaque"}),n.jsx(Ke,{type:"color",value:s.content.colors.accent,onChange:D=>v("content.colors.accent",D.target.value),className:"w-16 h-10"}),n.jsx(Ke,{value:s.content.colors.accent,onChange:D=>v("content.colors.accent",D.target.value),className:"flex-1"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Tamanhos de Fonte (pt)"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Ttulo"}),n.jsx(Ke,{type:"number",min:"10",max:"24",value:s.content.fontSize.title,onChange:D=>v("content.fontSize.title",parseInt(D.target.value)||16),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Subttulo"}),n.jsx(Ke,{type:"number",min:"8",max:"20",value:s.content.fontSize.subtitle,onChange:D=>v("content.fontSize.subtitle",parseInt(D.target.value)||14),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Corpo"}),n.jsx(Ke,{type:"number",min:"8",max:"16",value:s.content.fontSize.body,onChange:D=>v("content.fontSize.body",parseInt(D.target.value)||12),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(De,{className:"w-20",children:"Pequeno"}),n.jsx(Ke,{type:"number",min:"6",max:"12",value:s.content.fontSize.small,onChange:D=>v("content.fontSize.small",parseInt(D.target.value)||10),className:"w-20"})]})]})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ye,{variant:"outline",onClick:T,className:"flex items-center gap-2",children:[n.jsx(Ni,{className:"h-4 w-4"}),"Preview"]}),n.jsxs(ye,{variant:"outline",onClick:F,className:"flex items-center gap-2",children:[n.jsx(iI,{className:"h-4 w-4"}),"Resetar"]})]}),n.jsxs(ye,{onClick:S,disabled:f,className:"flex items-center gap-2",children:[n.jsx(By,{className:"h-4 w-4"}),f?"Salvando...":"Salvar Configurao"]})]})]})]})})}function Ow(){const{activeRole:e}=ac(),r=Jn(),t=r.pathname.startsWith("/paciente/"),a=r.pathname.startsWith("/medico/"),{toast:s}=Va(),[i,o]=y.useState(!0),[l,A]=y.useState(!1),[d,f]=y.useState(null),[h,m]=y.useState(null),[p,v]=y.useState(null),[x,w]=y.useState({first_name:"",last_name:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:""}),[j,N]=y.useState({atual:"",nova:"",confirmar:""}),[S,F]=y.useState(!1),[T,D]=y.useState({email:!0,lembretes:!0,exames:!0,push:!1}),[k,P]=y.useState(!1),[E,V]=y.useState({tipo_sanguineo:"",alergias:"",condicoes_cronicas:"",contato_emergencia_nome:"",contato_emergencia_telefone:"",plano_saude:"",numero_carteirinha:"",peso:"",altura:""}),[Q,$]=y.useState(!1),G=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],[R,ee]=y.useState(!1),[K,z]=y.useState(null),[X,ne]=y.useState(!1),[ue,_]=y.useState(!1),{ephemeralCertFile:I,setEphemeralCertFile:W,ephemeralCertPassword:te,setEphemeralCertPassword:J}=ac(),[Y,M]=y.useState(I||null),[Z,oe]=y.useState(te||"");y.useEffect(()=>{W(Y)},[Y]),y.useEffect(()=>{J(Z)},[Z]);const[fe,ve]=y.useState(null),[Ee,_e]=y.useState("Assinatura de documento mdico"),[xe,Ae]=y.useState("Hospital"),[dt,Ft]=y.useState(!1),mt=async()=>{var Re,it;if(!fe){s.error("Selecione um PDF para assinar.");return}if(!Y){s.error("Selecione um certificado (.pfx/.p12) para assinar o PDF.");return}if(!(Z&&Z.trim())){s.error("Informe a senha do certificado (.pfx/.p12).");return}const nt=new FormData;nt.append("file",fe),nt.append("pfx",Y),nt.append("certificado",Y),nt.append("pkcs12",Y),nt.append("pfx_password",Z.trim()),nt.append("senha",Z.trim()),nt.append("password",Z.trim()),nt.append("no_persist","true"),nt.append("ephemeral","true"),Ee&&nt.append("reason",Ee),xe&&nt.append("location",xe);try{Ft(!0);const{filename:bt,blob:Je}=await ur.signDocumento(nt,{reason:Ee,location:xe}),Lt=window.URL.createObjectURL(Je),lr=document.createElement("a");lr.href=Lt,lr.download=bt||"documento_assinado.pdf",document.body.appendChild(lr),lr.click(),lr.remove(),window.URL.revokeObjectURL(Lt),s.success("Documento assinado com sucesso.")}catch(bt){const Je=((it=(Re=bt==null?void 0:bt.response)==null?void 0:Re.data)==null?void 0:it.message)||(bt==null?void 0:bt.message)||"Falha ao assinar o documento.";s.error(Je)}finally{Ft(!1)}};y.useEffect(()=>{let nt=!0;return(async()=>{var Re;try{o(!0);const[it,bt]=await Promise.allSettled([Aa.getPerfil(),Aa.getPacienteDoUsuario()]);if(!nt)return;const Je=it.status==="fulfilled"?it.value:null,Lt=bt.status==="fulfilled"?bt.value:null;m(Je),v(Lt),w(lr=>({...lr,first_name:(Je==null?void 0:Je.first_name)||"",last_name:(Je==null?void 0:Je.last_name)||"",email:(Je==null?void 0:Je.email)||"",cpf:(Je==null?void 0:Je.cpf)||"",telefone:(Je==null?void 0:Je.telefone)||"",data_nascimento:(Je==null?void 0:Je.data_nascimento)||"",endereco:typeof(Je==null?void 0:Je.endereco)=="string"?Je.endereco:Je!=null&&Je.endereco?`${Je.endereco.logradouro||""} ${Je.endereco.numero||""} ${Je.endereco.bairro||""} ${Je.endereco.cidade||""} ${Je.endereco.estado||""}`.trim():""})),V({tipo_sanguineo:(Lt==null?void 0:Lt.tipo_sanguineo)||"",alergias:(Lt==null?void 0:Lt.alergias)||"",condicoes_cronicas:(Lt==null?void 0:Lt.condicoes_cronicas)||"",contato_emergencia_nome:(Lt==null?void 0:Lt.contato_emergencia_nome)||"",contato_emergencia_telefone:(Lt==null?void 0:Lt.contato_emergencia_telefone)||"",plano_saude:(Lt==null?void 0:Lt.plano_saude)||"",numero_carteirinha:(Lt==null?void 0:Lt.numero_carteirinha)||"",peso:(Lt==null?void 0:Lt.peso)??"",altura:(Lt==null?void 0:Lt.altura)??""});try{const lr=localStorage.getItem("notification_prefs");if(lr){const ir=JSON.parse(lr);D(Tr=>({...Tr,...ir}))}}catch{}}catch(it){const bt=(Re=it==null?void 0:it.response)==null?void 0:Re.status;f(bt===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar os dados.")}finally{nt&&o(!1)}})(),()=>{nt=!1}},[]),y.useEffect(()=>{a&&jt()},[a]);const Ue=nt=>{const{name:Re,value:it}=nt.target;w(bt=>({...bt,[Re]:it}))},ct=nt=>{const{name:Re,value:it}=nt.target;V(bt=>({...bt,[Re]:it}))};async function et(){var nt;A(!0);try{const Re={first_name:x.first_name||"",last_name:x.last_name||"",telefone:x.telefone||"",data_nascimento:x.data_nascimento||"",endereco:x.endereco||""},it=await Aa.atualizarPerfil(Re);m(it),s({title:"Perfil atualizado",description:"Suas informaes pessoais foram salvas."})}catch(Re){const it=(nt=Re==null?void 0:Re.response)!=null&&nt.data?JSON.stringify(Re.response.data):"No foi possvel salvar o perfil.";s({title:"Erro ao salvar",description:it,variant:"destructive"})}finally{A(!1)}}async function Ot(){var nt;$(!0);try{const Re=await Aa.atualizarPaciente(E);v(it=>({...it||{},...Re||{}})),s({title:"Informaes do paciente salvas",description:"Dados atualizados com sucesso."})}catch(Re){const it=(nt=Re==null?void 0:Re.response)!=null&&nt.data?JSON.stringify(Re.response.data):"No foi possvel salvar os dados do paciente.";s({title:"Erro ao salvar",description:it,variant:"destructive"})}finally{$(!1)}}const He=async()=>{var nt,Re;if(!j.nova||j.nova.length<6){s({title:"Senha invlida",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(j.nova!==j.confirmar){s({title:"Confirmao incorreta",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}F(!0);try{await Ce.post("/auth/change-password/",{old_password:j.atual,new_password:j.nova}),N({atual:"",nova:"",confirmar:""}),s({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."})}catch(it){const Je=((nt=it==null?void 0:it.response)==null?void 0:nt.status)===404?"Endpoint de alterao de senha no encontrado. Verifique o backend.":(Re=it==null?void 0:it.response)!=null&&Re.data?JSON.stringify(it.response.data):"No foi possvel alterar a senha.";s({title:"Erro ao alterar senha",description:Je,variant:"destructive"})}finally{F(!1)}},Jt=nt=>{D(Re=>({...Re,[nt]:!Re[nt]}))},kt=()=>{P(!0);try{localStorage.setItem("notification_prefs",JSON.stringify(T)),s({title:"Preferncias salvas",description:"Suas preferncias de notificao foram atualizadas."})}finally{P(!1)}};async function jt(){ne(!0);try{const nt=await ur.getCertificadoInfo();z(nt||null)}catch{z(null)}finally{ne(!1)}}async function Nr(){var it,bt;if(!Y){s({title:"Selecione um arquivo",description:"Escolha um arquivo .pfx, .p12, .crt, .cer ou .pem.",variant:"destructive"});return}const nt=15*1024*1024;if(Y.size>nt){s({title:"Arquivo muito grande",description:"O limite  de 15MB.",variant:"destructive"});return}const Re=new FormData;Re.append("file",Y),Re.append("certificado",Y),Re.append("arquivo",Y),Re.append("pfx",Y),Z&&(Re.append("password",Z),Re.append("senha",Z),Re.append("passphrase",Z),Re.append("pfx_password",Z)),Re.append("no_persist","true"),Re.append("ephemeral","true"),Re.append("save_public_only","true"),_(!0);try{const Je=await ur.uploadCertificado(Re);z(Je||null);const Lt=Je!=null&&Je.public_cert_saved?"Certificado pblico extrado e salvo para validaes. O PFX no foi armazenado.":"Certificado processado. O PFX no foi armazenado.";s({title:"Processamento concludo",description:Lt}),M(null)}catch(Je){const Lt=(it=Je==null?void 0:Je.response)==null?void 0:it.status,lr=(bt=Je==null?void 0:Je.response)==null?void 0:bt.data;s({title:"Falha no processamento",description:Lt===404?"Endpoint de upload no encontrado no backend. Configure a varivel VITE_MEDICO_CERTIFICADO_ENDPOINT.":typeof lr=="string"?lr:"No foi possvel processar o certificado.",variant:"destructive"})}finally{_(!1),oe("")}}const Nt=(()=>{const nt=(K==null?void 0:K.valid_to)||(K==null?void 0:K.validade_fim)||(K==null?void 0:K.validade)||(K==null?void 0:K.valid_to_date);if(!nt)return null;const Re=new Date(nt);return Math.ceil((Re-new Date)/(1e3*60*60*24))})(),Bt=!!(K&&(K.exists??K.id??K.valid_to??K.subject)),[vt,yt]=y.useState({nome:"",crm:"",especialidade:"",telefone:"",endereco:""}),[Qr,Ir]=y.useState(!1);y.useEffect(()=>{a&&(async()=>{var nt,Re,it,bt,Je,Lt,lr,ir,Tr,$s,Za,ws;try{const wt=await ur.getPerfil();if(!wt)return;const nr=(wt==null?void 0:wt.nome)||((nt=wt==null?void 0:wt.user)!=null&&nt.first_name||(Re=wt==null?void 0:wt.user)!=null&&Re.last_name?`${((it=wt==null?void 0:wt.user)==null?void 0:it.first_name)||""} ${((bt=wt==null?void 0:wt.user)==null?void 0:bt.last_name)||""}`.trim():((Je=wt==null?void 0:wt.user)==null?void 0:Je.nome)||((Lt=wt==null?void 0:wt.user)==null?void 0:Lt.name)||"")||"",Zn=(wt==null?void 0:wt.crm)||(wt==null?void 0:wt.crm_numero)||(wt==null?void 0:wt.crm_registro)||((lr=wt==null?void 0:wt.user)==null?void 0:lr.crm)||"";let es="";typeof(wt==null?void 0:wt.especialidade)=="string"?es=wt.especialidade:wt!=null&&wt.especialidade&&typeof wt.especialidade=="object"&&(es=wt.especialidade.nome||wt.especialidade.label||wt.especialidade.titulo||"");const pn=(wt==null?void 0:wt.telefone)||(wt==null?void 0:wt.celular)||((ir=wt==null?void 0:wt.user)==null?void 0:ir.phone)||((Tr=wt==null?void 0:wt.user)==null?void 0:Tr.telefone)||(($s=wt==null?void 0:wt.contato)==null?void 0:$s.telefone)||"";let Pa=(wt==null?void 0:wt.endereco)||((Za=wt==null?void 0:wt.user)==null?void 0:Za.endereco)||((ws=wt==null?void 0:wt.clinica)==null?void 0:ws.endereco)||"",ca="";typeof Pa=="string"?ca=Pa:Pa&&typeof Pa=="object"&&(ca=`${Pa.logradouro||Pa.rua||""} ${Pa.numero||""} ${Pa.bairro||""} ${Pa.cidade||""} ${Pa.estado||""}`.trim()),yt({nome:nr,crm:Zn,especialidade:es,telefone:pn,endereco:ca})}catch{}})()},[a]);const Tt=nt=>{const{name:Re,value:it}=nt.target;yt(bt=>({...bt,[Re]:it}))},hr=async()=>{var nt;Ir(!0);try{const Re={telefone:vt.telefone||"",endereco:vt.endereco||"",especialidade:vt.especialidade||""},it=await ur.updatePerfilMedico(Re);if(it){const bt=it.telefone||it.celular||vt.telefone;let Je=it.endereco||vt.endereco;Je&&typeof Je=="object"&&(Je=`${Je.logradouro||Je.rua||""} ${Je.numero||""} ${Je.bairro||""} ${Je.cidade||""} ${Je.estado||""}`.trim());let Lt=vt.especialidade;typeof(it==null?void 0:it.especialidade)=="string"?Lt=it.especialidade:it!=null&&it.especialidade&&typeof it.especialidade=="object"&&(Lt=it.especialidade.nome||it.especialidade.label||it.especialidade.titulo||Lt),yt(lr=>({...lr,telefone:bt,endereco:Je,especialidade:Lt}))}s({title:"Dados do mdico atualizados",description:"Telefone, endereo e especialidade foram salvos."})}catch(Re){const it=(nt=Re==null?void 0:Re.response)!=null&&nt.data?JSON.stringify(Re.response.data):"No foi possvel salvar os dados do mdico.";s({title:"Erro ao salvar",description:it,variant:"destructive"})}finally{Ir(!1)}};return n.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informaes pessoais e preferncias da conta"})]}),t&&n.jsx(To,{tabs:G,basePath:"/paciente"}),!t&&e==="secretaria"&&!(p!=null&&p.id)&&n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Criar perfil de paciente"}),n.jsx(cr,{children:"Para acessar as funcionalidades de paciente com esta conta, crie seu perfil de paciente."})]}),n.jsxs(Le,{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum perfil de paciente encontrado para esta conta."}),n.jsx(ye,{onClick:async()=>{var nt;ee(!0);try{const Re=await Aa.garantirPacienteDoUsuario({});v(Re),s({title:"Perfil de paciente criado",description:"Voc j pode acessar a rea do paciente."})}catch(Re){const it=(nt=Re==null?void 0:Re.response)!=null&&nt.data?JSON.stringify(Re.response.data):"No foi possvel criar o perfil.";s({title:"Erro",description:it,variant:"destructive"})}finally{ee(!1)}},disabled:R,children:R?"Criando...":"Criar meu perfil de paciente"})]})]}),n.jsxs(Vi,{defaultValue:"perfil",className:"space-y-6",children:[n.jsxs(zi,{className:`grid w-full ${a?"grid-cols-6":"grid-cols-3"}`,children:[n.jsxs(Ur,{value:"perfil",className:"flex items-center gap-2",children:[n.jsx(In,{className:"h-4 w-4"}),"Perfil"]}),n.jsxs(Ur,{value:"seguranca",className:"flex items-center gap-2",children:[n.jsx(jy,{className:"h-4 w-4"}),"Segurana"]}),n.jsxs(Ur,{value:"notificacoes",className:"flex items-center gap-2",children:[n.jsx(sm,{className:"h-4 w-4"}),"Notificaes"]}),a&&n.jsxs(n.Fragment,{children:[n.jsxs(Ur,{value:"certificado",className:"flex items-center gap-2",children:[n.jsx(ci,{className:"h-4 w-4"}),"Certificado Digital"]}),n.jsxs(Ur,{value:"dados_medico",className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4"}),"Dados do Mdico"]}),n.jsxs(Ur,{value:"templates_pdf",className:"flex items-center gap-2",children:[n.jsx(Ja,{className:"h-4 w-4"}),"Templates PDF"]})]})]}),n.jsx(Or,{value:"perfil",children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Informaes Pessoais"}),n.jsx(cr,{children:"Atualize suas informaes pessoais e de contato"})]}),n.jsx(Le,{className:"space-y-6",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):d?n.jsx("p",{className:"text-destructive",children:d}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"first_name",children:"Nome"}),n.jsx(Ke,{id:"first_name",name:"first_name",value:x.first_name,onChange:Ue})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"last_name",children:"Sobrenome"}),n.jsx(Ke,{id:"last_name",name:"last_name",value:x.last_name,onChange:Ue})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"email",children:"Email"}),n.jsx(Ke,{id:"email",name:"email",value:x.email,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"cpf",children:"CPF"}),n.jsx(Ke,{id:"cpf",name:"cpf",value:x.cpf,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Ke,{id:"telefone",name:"telefone",value:x.telefone,onChange:Ue})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"data_nascimento",children:"Data de Nascimento"}),n.jsx(Os,{id:"data_nascimento",name:"data_nascimento",value:x.data_nascimento||"",onChange:nt=>Ue({target:{name:"data_nascimento",value:nt}}),maxDate:new Date})]})]}),n.jsx(xs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"endereco",children:"Endereo"}),n.jsx(oa,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:x.endereco,onChange:Ue})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ye,{onClick:et,disabled:l,children:l?"Salvando...":"Salvar Alteraes"})}),n.jsx(xs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Mais Informaes do Paciente"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Esses dados ajudam mdicos a entender melhor seu histrico."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"tipo_sanguineo",children:"Tipo Sanguneo"}),n.jsx(Ke,{id:"tipo_sanguineo",name:"tipo_sanguineo",value:E.tipo_sanguineo,onChange:ct,placeholder:"Ex.: O+, A-, B+, AB+"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"plano_saude",children:"Plano de Sade"}),n.jsx(Ke,{id:"plano_saude",name:"plano_saude",value:E.plano_saude,onChange:ct})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"numero_carteirinha",children:"Nmero da Carteirinha"}),n.jsx(Ke,{id:"numero_carteirinha",name:"numero_carteirinha",value:E.numero_carteirinha,onChange:ct})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"contato_emergencia_nome",children:"Contato de Emergncia (Nome)"}),n.jsx(Ke,{id:"contato_emergencia_nome",name:"contato_emergencia_nome",value:E.contato_emergencia_nome,onChange:ct})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"contato_emergencia_telefone",children:"Contato de Emergncia (Telefone)"}),n.jsx(Ke,{id:"contato_emergencia_telefone",name:"contato_emergencia_telefone",value:E.contato_emergencia_telefone,onChange:ct})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"peso",children:"Peso (kg)"}),n.jsx(Ke,{id:"peso",name:"peso",type:"number",step:"0.1",value:E.peso,onChange:ct})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"altura",children:"Altura (cm)"}),n.jsx(Ke,{id:"altura",name:"altura",type:"number",step:"0.1",value:E.altura,onChange:ct})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(De,{htmlFor:"alergias",children:"Alergias"}),n.jsx(oa,{id:"alergias",name:"alergias",rows:3,value:E.alergias,onChange:ct,placeholder:"Ex.: Dipirona, poeira, frutos do mar"})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(De,{htmlFor:"condicoes_cronicas",children:"Condies Crnicas"}),n.jsx(oa,{id:"condicoes_cronicas",name:"condicoes_cronicas",rows:3,value:E.condicoes_cronicas,onChange:ct,placeholder:"Ex.: Hipertenso, Diabetes, Asma"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ye,{onClick:Ot,disabled:Q,variant:"outline",children:Q?"Salvando...":"Salvar Informaes do Paciente"})})]})]})})]})}),n.jsx(Or,{value:"seguranca",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Alterar Senha"}),n.jsx(cr,{children:"Mantenha sua conta segura com uma senha forte"})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"senha-atual",children:"Senha Atual"}),n.jsx(Ke,{id:"senha-atual",type:"password",value:j.atual,onChange:nt=>N(Re=>({...Re,atual:nt.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"nova-senha",children:"Nova Senha"}),n.jsx(Ke,{id:"nova-senha",type:"password",value:j.nova,onChange:nt=>N(Re=>({...Re,nova:nt.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"confirmar-senha",children:"Confirmar Nova Senha"}),n.jsx(Ke,{id:"confirmar-senha",type:"password",value:j.confirmar,onChange:nt=>N(Re=>({...Re,confirmar:nt.target.value}))})]}),n.jsx(ye,{onClick:He,disabled:S,children:S?"Alterando...":"Alterar Senha"})]})]}),n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Autenticao de Dois Fatores"}),n.jsx(cr,{children:"Adicione uma camada extra de segurana  sua conta"})]}),n.jsx(Le,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Autenticao de Dois Fatores"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No configurada"})]}),n.jsx(ye,{variant:"outline",disabled:!0,children:"Em breve"})]})})]})]})}),n.jsx(Or,{value:"notificacoes",children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Preferncias de Notificao"}),n.jsx(cr,{children:"Configure como voc deseja receber notificaes"})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Jt("email"),children:T.email?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Lembretes de Consulta"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes das consultas"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Jt("lembretes"),children:T.lembretes?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Resultados de Exames"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja notificado quando exames ficarem prontos"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Jt("exames"),children:T.exames?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Jt("push"),children:T.push?"Ativado":"Desativado"})]})]}),n.jsx(ye,{onClick:kt,disabled:k,children:k?"Salvando...":"Salvar Preferncias"})]})]})}),a&&n.jsx(Or,{value:"certificado",children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Configurao de Certificado Digital"}),n.jsx(cr,{children:"Envie seu certificado (.pfx/.p12 ou .crt/.cer/.pem). O arquivo  enviado com segurana ao servidor."})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-lg border p-4 bg-white",children:[X?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mr-3"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando informaes do certificado..."})]}):Bt?n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium text-green-700",children:"Certificado cadastrado"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Titular: ",(K==null?void 0:K.owner_name)||(K==null?void 0:K.subject_name)||(K==null?void 0:K.subject)||(K==null?void 0:K.nome)||""]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitente: ",(K==null?void 0:K.issuer)||(K==null?void 0:K.issuer_name)||(K==null?void 0:K.emitente)||""]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validade: ",(K==null?void 0:K.valid_from)||(K==null?void 0:K.validade_inicio)||"?","  ",(K==null?void 0:K.valid_to)||(K==null?void 0:K.validade_fim)||"?"]}),Nt!=null&&n.jsx("p",{className:`text-sm ${Nt<=0?"text-destructive":Nt<30?"text-amber-600":"text-emerald-600"}`,children:Nt<=0?"Expirado":`Expira em ${Nt} dia(s)`})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum certificado cadastrado para este mdico."}),n.jsx("div",{className:"mt-3",children:n.jsx(ye,{variant:"outline",size:"sm",onClick:jt,disabled:X,children:X?"Validando...":"Validar agora"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-gray-700",children:"Arquivo do certificado"}),n.jsx(Ke,{type:"file",accept:".pfx,.p12,.crt,.cer,.pem",onChange:nt=>{var Re;return M(((Re=nt.target.files)==null?void 0:Re[0])||null)},className:"border-gray-200 focus:border-indigo-500 focus:ring-indigo-500"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceita: .pfx, .p12, .crt, .cer, .pem. Tamanho mximo: 15MB."}),Y&&n.jsxs("p",{className:"text-xs",children:["Selecionado: ",Y.name," (",Math.ceil(Y.size/1024)," KB)"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{className:"text-sm font-medium text-gray-700",children:"Senha do certificado (se aplicvel)"}),n.jsx(mS,{delayDuration:0,children:n.jsxs(pS,{children:[n.jsx(gS,{asChild:!0,children:n.jsx(WL,{size:16,className:"text-muted-foreground cursor-help"})}),n.jsx(zy,{side:"top",children:"Certificados PKCS#12 (.pfx/.p12) contendo chave privada. O arquivo no  persistido."})]})}),n.jsx(Ke,{type:"password",value:Z,onChange:nt=>oe(nt.target.value),placeholder:"Senha do .pfx (opcional)"}),(!Z||!Z.trim())&&n.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatria para assinatura."}),Z&&Z.trim().length<4&&n.jsx("p",{className:"text-xs text-yellow-600",children:"A senha parece curta. Verifique se est correta."}),Z&&Z.trim()&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: se a senha falhar, confirme maisculas/minsculas, layout do teclado e se o certificado corresponde ao seu CRM."}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceitamos certificados no formato PKCS#12 (.pfx/.p12). A senha no  persistida e  usada somente em memria durante a assinatura."})]}),n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(ye,{onClick:Nr,disabled:ue,children:ue?"Enviando...":"Enviar Certificado"})}),n.jsx(xs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Arquivo PDF para assinar"}),n.jsx(Ke,{type:"file",accept:".pdf",onChange:nt=>{var Re;return ve(((Re=nt.target.files)==null?void 0:Re[0])||null)}}),fe&&n.jsxs("p",{className:"text-xs",children:["Selecionado: ",fe.name," (",Math.ceil(fe.size/1024)," KB)"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Motivo (opcional)"}),n.jsx(Ke,{value:Ee,onChange:nt=>_e(nt.target.value),placeholder:"Ex.: Assinatura de prescrio"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Local (opcional)"}),n.jsx(Ke,{value:xe,onChange:nt=>Ae(nt.target.value),placeholder:"Ex.: So Paulo - SP"})]})]}),n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(ye,{onClick:mt,disabled:dt||!fe,children:dt?"Assinando...":"Assinar e Baixar"})})]})]})]})}),a&&n.jsx(Or,{value:"dados_medico",children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Dados do Mdico"}),n.jsx(cr,{children:"Atualize seu telefone, endereo e especialidade."})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Nome"}),n.jsx(Ke,{value:vt.nome||"",disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"CRM"}),n.jsx(Ke,{value:vt.crm||"",disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"especialidade",children:"Especialidade"}),n.jsx(Ke,{id:"especialidade",name:"especialidade",value:vt.especialidade||"",onChange:Tt})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Ke,{id:"telefone",name:"telefone",value:vt.telefone||"",onChange:Tt})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(De,{htmlFor:"endereco",children:"Endereo"}),n.jsx(oa,{id:"endereco",name:"endereco",value:vt.endereco||"",onChange:Tt})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsx("p",{children:"Nome e CRM so gerenciados pela administrao."}),n.jsx("div",{className:"flex gap-2",children:n.jsx(ye,{onClick:hr,disabled:Qr,children:Qr?"Salvando...":"Salvar Dados do Mdico"})})]})]})]})}),a&&n.jsx(Or,{value:"templates_pdf",children:n.jsx(MX,{medicoId:h==null?void 0:h.id,medicoInfo:vt})}),t&&n.jsx(Or,{value:"medico",children:n.jsx(LX,{})})]})]})})}function OX({children:e}){const{user:r,isAuthenticated:t,loading:a}=xl(),s=Jn(),{userPermissions:i}=ac();if(a)return null;if(!t)return n.jsx(wa,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const o=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),l=(i==null?void 0:i.medicoStatus)==="approved";return o!=="medico"&&o!=="admin"&&!l?o==="paciente"?n.jsx(wa,{to:"/paciente/perfil",replace:!0}):o==="clinica"?n.jsx(wa,{to:"/clinica/dashboard",replace:!0}):n.jsx(wa,{to:"/",replace:!0}):e}function HX({children:e}){const{user:r,isAuthenticated:t,loading:a}=xl(),s=Jn();if(a)return null;if(!t)return n.jsx(wa,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="clinica"&&i!=="admin"?i==="paciente"?n.jsx(wa,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(wa,{to:"/medico/dashboard",replace:!0}):n.jsx(wa,{to:"/",replace:!0}):e}function $X({children:e}){const{user:r,isAuthenticated:t,loading:a}=xl(),s=Jn(),[i,o]=y.useState(!1),[l,A]=y.useState(!1);if(y.useEffect(()=>{let f=!0;async function h(){if(!t)return;if(((r==null?void 0:r.role)||(r==null?void 0:r.tipo))==="secretaria"){o(!0);try{const p=await Aa.getPacienteDoUsuario();if(!f)return;A(!!(p!=null&&p.id))}catch{if(!f)return;A(!1)}finally{f&&o(!1)}}}return h(),()=>{f=!1}},[t,r==null?void 0:r.role,r==null?void 0:r.tipo]),a||i)return null;if(!t)return n.jsx(wa,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const d=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return d!=="paciente"&&d!=="admin"?d==="secretaria"&&l?e:d==="medico"?n.jsx(wa,{to:"/medico/dashboard",replace:!0}):d==="clinica"?n.jsx(wa,{to:"/clinica/dashboard",replace:!0}):n.jsx(wa,{to:"/",replace:!0}):e}function KX({children:e}){const{user:r,isAuthenticated:t,loading:a}=xl(),s=Jn();if(a)return null;if(!t)return n.jsx(wa,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="admin"?i==="paciente"?n.jsx(wa,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(wa,{to:"/medico/dashboard",replace:!0}):i==="clinica"?n.jsx(wa,{to:"/clinica/dashboard",replace:!0}):n.jsx(wa,{to:"/",replace:!0}):e}const is={async getPerfil(){const{data:e}=await Ce.get("/secretarias/me/");return e},async listarMedicos(){const{data:e}=await Ce.get("/api/medicos/");return Array.isArray(e==null?void 0:e.results)?e.results:e},async listarClinicas(){const{data:e}=await Ce.get("/clinicas/");return Array.isArray(e==null?void 0:e.results)?e.results:e},async getConsultasDoMedico(e,r={}){const t="/api/consultas/",a=e?`${t}?medico=${e}`:t,{data:s}=await Ce.get(a,{params:r});return s},async agendarConsulta(e){const r="/agendamentos/",{data:t}=await Ce.post(r,e);return t},async atualizarConsulta(e,r){const t=`/agendamentos/${e}/`,{data:a}=await Ce.patch(t,r);return a},async atualizarStatus(e,r){const t=`/agendamentos/${e}/`,{data:a}=await Ce.patch(t,{status:r});return a},async confirmarConsulta(e){const r=`/agendamentos/${e}/confirmar/`,{data:t}=await Ce.post(r);return t},async cancelarConsulta(e,r){const t=`/agendamentos/${e}/cancelar/`,{data:a}=await Ce.post(t,{motivo:r});return a},async registrarPresenca(e){const r=`/agendamentos/${e}/presenca/`,{data:t}=await Ce.post(r);return t},async registrarPaciente(e){const r="/auth/register/",t=String((e==null?void 0:e.nome)||"").trim(),[a,...s]=t.split(/\s+/),i=s.join(" "),o=String((e==null?void 0:e.email)||"").trim(),l=String((e==null?void 0:e.senha)||(e==null?void 0:e.password)||""),f={username:`${(o.split("@")[0]||a||"paciente").toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.floor(Math.random()*1e4)}`,email:o,password:l,first_name:a,last_name:i,role:"paciente",cpf:(e==null?void 0:e.cpf)||"",telefone:(e==null?void 0:e.telefone)||"",data_nascimento:(e==null?void 0:e.data_nascimento)||"",endereco:(e==null?void 0:e.endereco)||""},{data:h}=await Ce.post(r,f,{});return h}},VX=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():null};function zX(){const[e,r]=y.useState([]),[t,a]=y.useState(!0),[s,i]=y.useState(!1),[o,l]=y.useState(null),{toast:A}=Va(),d=cs(),[f,h]=y.useState({medico:"",modalidade:"presencial",local:"",tipo:"primeira",preferenciaData:"",preferenciaTurno:"indiferente",motivo:"",observacoes:""}),m=N=>N?typeof N=="string"?N:[N.logradouro,N.numero,N.bairro,N.cidade,N.estado].filter(Boolean).join(" ").trim()||null:null,p=N=>{var S,F,T;return(N==null?void 0:N.local_atendimento)||(N==null?void 0:N.local)||m(N==null?void 0:N.endereco)||m((S=N==null?void 0:N.user)==null?void 0:S.endereco)||m((F=N==null?void 0:N.clinica)==null?void 0:F.endereco)||((T=N==null?void 0:N.clinica)==null?void 0:T.nome)||null};y.useEffect(()=>{let N=!0;return(async()=>{a(!0),l(null);try{const S=await Aa.getMedicos(),F=Array.isArray(S)?S:(S==null?void 0:S.results)||[];r(F)}catch(S){console.error("Erro ao buscar mdicos:",S),l("No foi possvel carregar a lista de mdicos.")}finally{N&&a(!1)}})(),()=>{N=!1}},[]),y.useEffect(()=>{if(f.modalidade!=="presencial"){f.local&&h(F=>({...F,local:""}));return}const N=e.find(F=>{var T;return String(F.id||((T=F==null?void 0:F.user)==null?void 0:T.id))===String(f.medico)}),S=N?p(N):"";h(F=>({...F,local:S||""}))},[f.medico,f.modalidade,e]);const v=N=>S=>{const F=S!=null&&S.target?S.target.value:S;h(T=>({...T,[N]:F}))},x=()=>f.medico?f.motivo?f.modalidade==="presencial"&&!f.local?"Local do mdico no definido.":f.preferenciaData?null:"Selecione uma data preferida.":"Informe o motivo principal.":"Selecione um mdico.",w=async N=>{var F,T;N.preventDefault();const S=x();if(S){A({title:"Validao",description:S,variant:"destructive"});return}i(!0),l(null);try{const D=e.find(G=>{var R;return String(G.id||((R=G==null?void 0:G.user)==null?void 0:R.id)||(G==null?void 0:G.nome))===String(f.medico)}),k=(D==null?void 0:D.id)||((F=D==null?void 0:D.user)==null?void 0:F.id)||(Number(f.medico)?Number(f.medico):void 0);if(!k)throw new Error("No foi possvel identificar o mdico selecionado.");const P=G=>!G||G==="indiferente"||G==="manha"?"08:00":G==="tarde"?"14:00":G==="noite"?"19:00":"08:00",E=await Aa.getPacienteDoUsuario();if(!(E==null?void 0:E.id))throw new Error("Paciente atual no encontrado.");const Q={medico:k,modalidade:f.modalidade,tipo:f.tipo,motivo:f.motivo};f.preferenciaData&&(Q.data=f.preferenciaData);const $=P(f.preferenciaTurno);$&&(Q.hora=$),f.observacoes&&(Q.observacoes=f.observacoes),await Aa.agendarConsulta(Q),A({title:"Solicitao enviada",description:"Sua solicitao foi enviada  Secretaria. Aguarde confirmao."}),d("/paciente/consultas")}catch(D){const k=(T=D==null?void 0:D.response)==null?void 0:T.data;let P=typeof k=="string"&&k||(k==null?void 0:k.detail)||(D==null?void 0:D.message)||"No foi possvel enviar sua solicitao.";if(k&&typeof k=="object")try{const E=Object.entries(k).map(([V,Q])=>`${V}: ${Array.isArray(Q)?Q.join(", "):typeof Q=="object"?JSON.stringify(Q):String(Q)}`);E.length&&(P=E.join(" | "))}catch{}l(P),A({title:"Erro",description:P,variant:"destructive"})}finally{i(!1)}},j=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Entrar em contato com o mdico"})]}),n.jsx(To,{tabs:j,basePath:"/paciente"}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Contato para agendamento"})}),n.jsx(Le,{children:n.jsxs("form",{onSubmit:w,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Mdico"}),n.jsxs(Gr,{value:f.medico,onValueChange:N=>h(S=>({...S,medico:N})),disabled:t,children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:t?"Carregando...":"Selecione um mdico"})}),n.jsx(zr,{children:e.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum mdico disponvel"}):e.map(N=>{var T,D,k;const S=(N==null?void 0:N.nome)||[(T=N==null?void 0:N.user)==null?void 0:T.first_name,(D=N==null?void 0:N.user)==null?void 0:D.last_name].filter(Boolean).join(" ")||(N==null?void 0:N.username)||(N==null?void 0:N.email)||`Mdico #${(N==null?void 0:N.id)||""}`,F=VX(N);return n.jsxs(st,{value:String(N.id||((k=N==null?void 0:N.user)==null?void 0:k.id)||S),children:[S,F?` - ${F}`:""]},N.id||S)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Tipo"}),n.jsxs(Gr,{value:f.tipo,onValueChange:N=>h(S=>({...S,tipo:N})),children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Selecione o tipo"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"primeira",children:"Primeira consulta"}),n.jsx(st,{value:"retorno",children:"Retorno"}),n.jsx(st,{value:"rotina",children:"Rotina"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Modalidade"}),n.jsxs(Gr,{value:f.modalidade,onValueChange:N=>h(S=>({...S,modalidade:N})),children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Selecione a modalidade"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"presencial",children:"Presencial"}),n.jsx(st,{value:"online",disabled:!0,children:"Online (em breve)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Local"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ke,{value:f.local,placeholder:"Rua das Flores, 123",readOnly:!0}),n.jsx(Wg,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),f.modalidade==="presencial"&&n.jsx("div",{className:"text-xs text-muted-foreground",children:"O local  definido pelo mdico e preenchido automaticamente."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Preferncia de Data"}),n.jsx(Os,{id:"preferenciaData",name:"preferenciaData",value:f.preferenciaData,onChange:N=>h(S=>({...S,preferenciaData:N}))}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: ajuda a secretaria a oferecer horrios prximos."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Turno perodo"}),n.jsxs(Gr,{value:f.preferenciaTurno,onValueChange:N=>h(S=>({...S,preferenciaTurno:N})),children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Selecione o perodo"})}),n.jsxs(zr,{children:[n.jsx(st,{value:"indiferente",children:"Indiferente"}),n.jsx(st,{value:"manha",children:"Manh"}),n.jsx(st,{value:"tarde",children:"Tarde"}),n.jsx(st,{value:"noite",children:"Noite"})]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: a secretaria tenta encaixar nesse perodo."})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(De,{children:"Motivo"}),n.jsx(Ke,{value:f.motivo,onChange:v("motivo"),placeholder:"Ex: dor, retorno de exame, etc."})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(De,{children:"Observaes"}),n.jsx(oa,{value:f.observacoes,onChange:v("observacoes"),placeholder:"Opcional"})]})]}),o&&n.jsx("div",{className:"text-sm text-red-600",children:o}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>d("/paciente/consultas"),children:"Cancelar"}),n.jsx(ye,{type:"submit",disabled:s,children:"Entrar em contato"})]})]})})]})]})}function qX(){const[e,r]=y.useState(!1),[t,a]=y.useState(""),[s,i]=y.useState([]),[o,l]=y.useState(0),[A,d]=y.useState(""),[f,h]=y.useState(1),[m]=y.useState(10);y.useEffect(()=>{let M=!0;const Z=setTimeout(async()=>{r(!0),a("");try{const oe={search:A||void 0,page:f,limit:m},fe=await la.getUsuarios(oe),ve=Array.isArray(fe==null?void 0:fe.results)?fe.results:Array.isArray(fe)?fe:[],Ee=typeof(fe==null?void 0:fe.count)=="number"?fe.count:ve.length;if(!M)return;i(ve),l(Ee)}catch{if(!M)return;a("No foi possvel carregar os usurios.")}finally{M&&r(!1)}},300);return()=>{M=!1,clearTimeout(Z)}},[A,f,m]);const p=y.useMemo(()=>Math.max(1,Math.ceil(o/m)),[o,m]),[v,x]=y.useState(new Set),[w,j]=y.useState(!1),[N,S]=y.useState(null),[F,T]=y.useState(!1),[D,k]=y.useState(!1),[P,E]=y.useState(""),[V,Q]=y.useState(null),[$,G]=y.useState(!1),[R,ee]=y.useState(!1),[K,z]=y.useState(""),[X,ne]=y.useState({first_name:"",last_name:"",email:"",password:"",role:""}),ue=()=>{if(s.length===0)return;const M=s.map(oe=>oe==null?void 0:oe.id).filter(Boolean),Z=M.every(oe=>v.has(oe));x(Z?new Set:new Set(M))},_=M=>{M&&x(Z=>{const oe=new Set(Z);return oe.has(M)?oe.delete(M):oe.add(M),oe})},I=async()=>{const M=Array.from(v);if(M.length===0){window.alert("Selecione ao menos um usurio com ID vlido.");return}if(window.confirm(`Confirma excluir ${M.length} usurio(s)?`))try{j(!0),await la.removerUsuariosEmMassa(M),x(new Set),r(!0),a("");const Z={search:A||void 0,page:f,limit:m},oe=await la.getUsuarios(Z),fe=Array.isArray(oe==null?void 0:oe.results)?oe.results:Array.isArray(oe)?oe:[],ve=typeof(oe==null?void 0:oe.count)=="number"?oe.count:fe.length;i(fe),l(ve)}catch{window.alert("Falha ao excluir usurios selecionados.")}finally{j(!1),r(!1)}},W=async M=>{if(!M){window.alert("ID invlido para excluso.");return}if(window.confirm("Confirma excluir este usurio?"))try{S(M),await la.removerUsuariosEmMassa([M]),r(!0),a("");const Z={search:A||void 0,page:f,limit:m},oe=await la.getUsuarios(Z),fe=Array.isArray(oe==null?void 0:oe.results)?oe.results:Array.isArray(oe)?oe:[],ve=typeof(oe==null?void 0:oe.count)=="number"?oe.count:fe.length;i(fe),l(ve),x(Ee=>{const _e=new Set(Ee);return _e.delete(M),_e})}catch{window.alert("Falha ao excluir o usurio.")}finally{S(null),r(!1)}},te=M=>{if(!M)return;const Z=M.first_name||M.firstName||"",oe=M.last_name||M.lastName||"",fe=M.email||"",ve=(M.role||M.tipo||"").toString().toLowerCase(),Ee=M.is_active??M.ativo??!0;Q({id:M.id,first_name:Z,last_name:oe,email:fe,role:ve,is_active:Ee}),E(""),T(!0)},J=async()=>{if(!(V!=null&&V.id)){E("ID do usurio indisponvel.");return}try{k(!0),E("");const M={first_name:V.first_name,last_name:V.last_name,email:V.email,role:V.role,is_active:!!V.is_active};await la.updateUsuario(V.id,M),T(!1),r(!0),a("");const Z={search:A||void 0,page:f,limit:m},oe=await la.getUsuarios(Z),fe=Array.isArray(oe==null?void 0:oe.results)?oe.results:Array.isArray(oe)?oe:[],ve=typeof(oe==null?void 0:oe.count)=="number"?oe.count:fe.length;i(fe),l(ve)}catch{E("No foi possvel salvar as alteraes.")}finally{k(!1),r(!1)}},Y=async()=>{var M;if(!X.email||!X.password||!X.role){z("Preencha e-mail, senha e tipo.");return}try{ee(!0),z("");const Z={first_name:X.first_name,last_name:X.last_name,email:X.email,password:X.password,role:X.role};await la.createUsuario(Z),G(!1),ne({first_name:"",last_name:"",email:"",password:"",role:""}),r(!0),a("");const oe={search:A||void 0,page:f,limit:m},fe=await la.getUsuarios(oe),ve=Array.isArray(fe==null?void 0:fe.results)?fe.results:Array.isArray(fe)?fe:[],Ee=typeof(fe==null?void 0:fe.count)=="number"?fe.count:ve.length;i(ve),l(Ee)}catch(Z){const oe=(M=Z==null?void 0:Z.response)!=null&&M.data?JSON.stringify(Z.response.data):"No foi possvel criar o usurio.";z(oe)}finally{ee(!1),r(!1)}};return n.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usurios"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os usurios do sistema"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome, email...",value:A,onChange:M=>{h(1),d(M.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e?"Carregando...":`${o} usurio(s)`}),n.jsxs("div",{className:"ml-auto flex gap-2",children:[n.jsxs("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50 inline-flex items-center gap-2",onClick:()=>{z(""),ne({first_name:"",last_name:"",email:"",password:"",role:""}),G(!0)},disabled:e,children:[n.jsx(Zw,{className:"w-4 h-4"}),"Novo usurio"]}),n.jsxs("button",{className:"px-3 py-2 border rounded-md text-sm bg-red-600 text-white disabled:opacity-50 inline-flex items-center gap-2",onClick:I,disabled:w||v.size===0||e,title:v.size===0?"Selecione usurios":"Excluir selecionados",children:[n.jsx(Jw,{className:"w-4 h-4"}),w?"Excluindo...":`Excluir selecionados (${v.size})`]})]})]}),t&&n.jsx("div",{className:"text-sm text-red-600",children:t}),n.jsx("div",{className:"overflow-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:n.jsx("input",{type:"checkbox",checked:s.length>0&&s.map(M=>M==null?void 0:M.id).filter(Boolean).every(M=>v.has(M)),onChange:ue})}),n.jsx("th",{className:"text-left p-3",children:"Nome"}),n.jsx("th",{className:"text-left p-3",children:"Email"}),n.jsx("th",{className:"text-left p-3",children:"Tipo"}),n.jsx("th",{className:"text-left p-3",children:"Status"}),n.jsx("th",{className:"text-left p-3",children:"Aes"})]})}),n.jsxs("tbody",{children:[s.length===0&&!e&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Nenhum usurio encontrado"})}),s.map(M=>{const Z=(M==null?void 0:M.nome)||[M==null?void 0:M.first_name,M==null?void 0:M.last_name].filter(Boolean).join(" ")||(M==null?void 0:M.name)||(M==null?void 0:M.username)||"-",oe=(M==null?void 0:M.email)||"-",fe=(M==null?void 0:M.tipo)||(M==null?void 0:M.role)||(M==null?void 0:M.perfil)||"-",ve=(M==null?void 0:M.is_active)??(M==null?void 0:M.ativo)??(M==null?void 0:M.status)??null,Ee=ve===!0?"Ativo":ve===!1?"Inativo":String(ve??"-");return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3",children:n.jsx("input",{type:"checkbox",disabled:!(M!=null&&M.id),checked:M!=null&&M.id?v.has(M.id):!1,onChange:()=>_(M==null?void 0:M.id)})}),n.jsx("td",{className:"p-3",children:Z}),n.jsx("td",{className:"p-3",children:oe}),n.jsx("td",{className:"p-3 capitalize",children:String(fe).toLowerCase()}),n.jsx("td",{className:"p-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${ve===!0?"bg-emerald-100 text-emerald-700":ve===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:Ee})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"px-3 py-1 border rounded-md text-xs inline-flex items-center gap-1.5",onClick:()=>te(M),disabled:!(M!=null&&M.id),title:M!=null&&M.id?"Editar usurio":"ID indisponvel",children:[n.jsx(nI,{className:"w-3.5 h-3.5"}),"Editar"]}),n.jsxs("button",{className:"px-3 py-1 border rounded-md text-xs bg-red-600 text-white disabled:opacity-50 inline-flex items-center gap-1.5",onClick:()=>W(M==null?void 0:M.id),disabled:!(M!=null&&M.id)||N===(M==null?void 0:M.id),title:M!=null&&M.id?"Excluir usurio":"ID indisponvel",children:[n.jsx(Jw,{className:"w-3.5 h-3.5"}),N===(M==null?void 0:M.id)?"Excluindo...":"Excluir"]})]})})]},(M==null?void 0:M.id)||`${oe}-${Z}`)})]})]})}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(M=>Math.max(1,M-1)),disabled:f<=1||e,children:"Anterior"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",f," de ",p]}),n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(M=>Math.min(p,M+1)),disabled:f>=p||e,children:"Prxima"})]}),F&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar usurio"}),P&&n.jsx("div",{className:"text-sm text-red-600 mb-2",children:P}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(V==null?void 0:V.first_name)||"",onChange:M=>Q(Z=>({...Z,first_name:M.target.value})),disabled:D})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Sobrenome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(V==null?void 0:V.last_name)||"",onChange:M=>Q(Z=>({...Z,last_name:M.target.value})),disabled:D})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(V==null?void 0:V.email)||"",onChange:M=>Q(Z=>({...Z,email:M.target.value})),disabled:D})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Tipo"}),n.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(V==null?void 0:V.role)||"",onChange:M=>Q(Z=>({...Z,role:M.target.value})),disabled:D,children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"paciente",children:"Paciente"}),n.jsx("option",{value:"medico",children:"Mdico"}),n.jsx("option",{value:"clinica",children:"Clnica"}),n.jsx("option",{value:"secretaria",children:"Secretaria"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Ativo"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:!!(V!=null&&V.is_active),onChange:M=>Q(Z=>({...Z,is_active:M.target.checked})),disabled:D}),n.jsx("span",{className:"text-sm",children:V!=null&&V.is_active?"Ativo":"Inativo"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>T(!1),disabled:D,children:"Cancelar"}),n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:J,disabled:D,children:D?"Salvando...":"Salvar"})]})]})}),$&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Novo usurio"}),K&&n.jsx("div",{className:"text-sm text-red-600 mb-2",children:K}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:X.first_name,onChange:M=>ne(Z=>({...Z,first_name:M.target.value})),disabled:R})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Sobrenome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:X.last_name,onChange:M=>ne(Z=>({...Z,last_name:M.target.value})),disabled:R})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:X.email,onChange:M=>ne(Z=>({...Z,email:M.target.value})),disabled:R})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Senha"}),n.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-md bg-background",value:X.password,onChange:M=>ne(Z=>({...Z,password:M.target.value})),disabled:R})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Tipo"}),n.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:X.role,onChange:M=>ne(Z=>({...Z,role:M.target.value})),disabled:R,children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"paciente",children:"Paciente"}),n.jsx("option",{value:"medico",children:"Mdico"}),n.jsx("option",{value:"clinica",children:"Clnica"}),n.jsx("option",{value:"secretaria",children:"Secretaria"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>G(!1),disabled:R,children:"Cancelar"}),n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:Y,disabled:R,children:R?"Criando...":"Criar"})]})]})})]})}function WX(){const[e,r]=y.useState(!1),[t,a]=y.useState(""),[s,i]=y.useState([]),[o,l]=y.useState(0),[A,d]=y.useState(""),[f,h]=y.useState(1),[m]=y.useState(10);y.useEffect(()=>{let v=!0;const x=setTimeout(async()=>{r(!0),a("");try{const w={search:A||void 0,page:f,limit:m},j=await la.getClinicas(w),N=Array.isArray(j==null?void 0:j.results)?j.results:Array.isArray(j)?j:[],S=typeof(j==null?void 0:j.count)=="number"?j.count:N.length;if(!v)return;i(N),l(S)}catch{if(!v)return;a("No foi possvel carregar as clnicas.")}finally{v&&r(!1)}},300);return()=>{v=!1,clearTimeout(x)}},[A,f,m]);const p=y.useMemo(()=>Math.max(1,Math.ceil(o/m)),[o,m]);return n.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clnicas"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie os cadastros de clnicas"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ...",value:A,onChange:v=>{h(1),d(v.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e?"Carregando...":`${o} clnica(s)`})]}),t&&n.jsx("div",{className:"text-sm text-red-600",children:t}),n.jsx("div",{className:"overflow-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:"Nome"}),n.jsx("th",{className:"text-left p-3",children:"CNPJ"}),n.jsx("th",{className:"text-left p-3",children:"Email"}),n.jsx("th",{className:"text-left p-3",children:"Status"})]})}),n.jsxs("tbody",{children:[s.length===0&&!e&&n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Nenhuma clnica encontrada"})}),s.map(v=>{const x=(v==null?void 0:v.razao_social)||(v==null?void 0:v.nome)||(v==null?void 0:v.name)||"-",w=(v==null?void 0:v.cnpj)||"-",j=(v==null?void 0:v.email)||(v==null?void 0:v.contato_email)||"-",N=(v==null?void 0:v.is_active)??(v==null?void 0:v.ativo)??(v==null?void 0:v.status)??null,S=N===!0?"Ativa":N===!1?"Inativa":String(N??"-");return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3",children:x}),n.jsx("td",{className:"p-3",children:w}),n.jsx("td",{className:"p-3",children:j}),n.jsx("td",{className:"p-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${N===!0?"bg-emerald-100 text-emerald-700":N===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:S})})]},(v==null?void 0:v.id)||`${x}-${w}`)})]})]})}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(v=>Math.max(1,v-1)),disabled:f<=1||e,children:"Anterior"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",f," de ",p]}),n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(v=>Math.min(p,v+1)),disabled:f>=p||e,children:"Prxima"})]})]})}function GX(){const{toast:e}=Va(),[r,t]=y.useState(!0),[a,s]=y.useState(!1),[i,o]=y.useState(""),[l,A]=y.useState({first_name:"",last_name:"",email:"",telefone:""}),[d,f]=y.useState({atual:"",nova:"",confirmar:""}),[h,m]=y.useState(!1),[p,v]=y.useState({email:!0,sistema:!0,auditoria:!0,push:!1}),[x,w]=y.useState(!1),[j,N]=y.useState(()=>localStorage.getItem("admin_lang")||"pt-BR"),S=E=>v(V=>({...V,[E]:!V[E]}));y.useEffect(()=>{let E=!0;return(async()=>{var V;try{t(!0),o("");const Q=await Aa.getPerfil();if(!E)return;A({first_name:(Q==null?void 0:Q.first_name)||"",last_name:(Q==null?void 0:Q.last_name)||"",email:(Q==null?void 0:Q.email)||"",telefone:(Q==null?void 0:Q.telefone)||""});try{const $=localStorage.getItem("admin_notification_prefs");$&&v(G=>({...G,...JSON.parse($)}))}catch{}}catch(Q){if(!E)return;const $=(V=Q==null?void 0:Q.response)==null?void 0:V.status;o($===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar seu perfil.")}finally{E&&t(!1)}})(),()=>{E=!1}},[]);const F=E=>{const{name:V,value:Q}=E.target;A($=>({...$,[V]:Q}))},T=async()=>{var E;s(!0),o("");try{await Aa.atualizarPerfil({first_name:l.first_name,last_name:l.last_name,email:l.email,telefone:l.telefone}),e({title:"Perfil atualizado",description:"As informaes foram salvas com sucesso."})}catch(V){const $=((E=V==null?void 0:V.response)==null?void 0:E.status)===400?"Dados invlidos. Verifique os campos.":"No foi possvel salvar as alteraes.";o($),e({title:"Erro",description:$,variant:"destructive"})}finally{s(!1)}},D=async()=>{if(!d.atual||!d.nova||!d.confirmar){e({title:"Validao",description:"Preencha todos os campos de senha.",variant:"destructive"});return}if(d.nova!==d.confirmar){e({title:"Validao",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}m(!0);try{await new Promise(E=>setTimeout(E,600)),e({title:"Em breve",description:"Alterao de senha ser integrada ao backend.",variant:"default"}),f({atual:"",nova:"",confirmar:""})}finally{m(!1)}},k=async()=>{w(!0);try{localStorage.setItem("admin_notification_prefs",JSON.stringify(p)),e({title:"Notificaes salvas",description:"Preferncias armazenadas neste dispositivo."})}catch{e({title:"Erro",description:"No foi possvel salvar as preferncias.",variant:"destructive"})}finally{w(!1)}},P=()=>{localStorage.setItem("admin_lang",j),e({title:"Idioma atualizado",description:`Idioma definido para ${j}.`})};return n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes (Admin)"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e preferncias administrativas"})]}),n.jsxs(Vi,{defaultValue:"perfil",className:"space-y-6",children:[n.jsxs(zi,{className:"grid w-full grid-cols-4",children:[n.jsx(Ur,{value:"perfil",children:"Perfil"}),n.jsx(Ur,{value:"seguranca",children:"Segurana"}),n.jsx(Ur,{value:"notificacoes",children:"Notificaes"}),n.jsx(Ur,{value:"sistema",children:"Sistema"})]}),n.jsx(Or,{value:"perfil",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Informaes do Perfil"})}),n.jsxs(Le,{className:"space-y-4",children:[i&&n.jsx("p",{className:"text-sm text-red-500",children:i}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"first_name",children:"Nome"}),n.jsx(Ke,{id:"first_name",name:"first_name",value:l.first_name,onChange:F,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"last_name",children:"Sobrenome"}),n.jsx(Ke,{id:"last_name",name:"last_name",value:l.last_name,onChange:F,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"email",children:"E-mail"}),n.jsx(Ke,{id:"email",name:"email",type:"email",value:l.email,onChange:F,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Ke,{id:"telefone",name:"telefone",value:l.telefone,onChange:F,disabled:r||a})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ye,{onClick:T,disabled:r||a,children:a?"Salvando...":"Salvar alteraes"})})]})]})}),n.jsx(Or,{value:"seguranca",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Segurana"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pwd_atual",children:"Senha atual"}),n.jsx(Ke,{id:"pwd_atual",type:"password",value:d.atual,onChange:E=>f(V=>({...V,atual:E.target.value})),disabled:h})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pwd_nova",children:"Nova senha"}),n.jsx(Ke,{id:"pwd_nova",type:"password",value:d.nova,onChange:E=>f(V=>({...V,nova:E.target.value})),disabled:h})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{htmlFor:"pwd_confirmar",children:"Confirmar nova senha"}),n.jsx(Ke,{id:"pwd_confirmar",type:"password",value:d.confirmar,onChange:E=>f(V=>({...V,confirmar:E.target.value})),disabled:h})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ye,{onClick:D,disabled:h,children:h?"Processando...":"Alterar senha"})})]})]})}),n.jsx(Or,{value:"notificacoes",children:n.jsxs(ke,{children:[n.jsxs(We,{children:[n.jsx(Xe,{children:"Preferncias de Notificao"}),n.jsx(cr,{children:"Configure como voc deseja receber notificaes"})]}),n.jsxs(Le,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>S("email"),disabled:x,children:p.email?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Eventos do Sistema"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos sobre operaes e eventos administrativos"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>S("sistema"),disabled:x,children:p.sistema?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Alteraes e Auditoria"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifique mudanas crticas e logs de auditoria"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>S("auditoria"),disabled:x,children:p.auditoria?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>S("push"),disabled:x,children:p.push?"Ativado":"Desativado"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ye,{onClick:k,disabled:x,children:x?"Salvando...":"Salvar Preferncias"})})]})]})}),n.jsx(Or,{value:"sistema",children:n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Sistema"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Tema"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(rb,{}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Alterne entre claro/escuro"})]})]}),n.jsx(xs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Idioma"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("select",{className:"border rounded px-2 py-1",value:j,onChange:E=>N(E.target.value),children:[n.jsx("option",{value:"pt-BR",children:"Portugus (Brasil)"}),n.jsx("option",{value:"en-US",children:"English (US)"})]}),n.jsx(ye,{variant:"outline",onClick:P,children:"Aplicar"})]})]})]})]})})]})]})}function YX(){const[e,r]=y.useState([]),[t,a]=y.useState(null),[s,i]=y.useState(!0),[o,l]=y.useState(!1),[A,d]=y.useState([]),{toast:f}=Va(),[h,m]=y.useState("todas"),[p,v]=y.useState(""),[x,w]=y.useState(!1),[j,N]=y.useState(!1),[S,F]=y.useState({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),[T,D]=y.useState(""),[k,P]=y.useState(!1),[E,V]=y.useState([]);y.useEffect(()=>{let _=!0;return(async()=>{i(!0);try{const I=await is.listarMedicos();if(!_)return;r(Array.isArray(I)?I:[]);const W=localStorage.getItem("secretaria.medicoId");W&&(I==null?void 0:I.some(J=>String(J.id)===String(W)))?a(W):(I==null?void 0:I.length)>0&&a(String(I[0].id))}catch(I){console.error("Erro ao carregar mdicos:",I)}finally{_&&i(!1)}})(),()=>{_=!1}},[]),y.useEffect(()=>{if(!t)return;let _=!0;return(async()=>{l(!0);try{const I=await is.listarConsultasHoje(t);if(!_)return;d(Array.isArray(I)?I:[]),localStorage.setItem("secretaria.medicoId",t)}catch(I){console.error("Erro ao carregar consultas:",I)}finally{_&&l(!1)}})(),()=>{_=!1}},[t]);const Q=y.useMemo(()=>e.map(_=>({value:String(_.id),label:_.nome})),[e]),$=y.useMemo(()=>{let _=A;if(h!=="todas"&&(_=_.filter(I=>I.status===h)),p.trim()){const I=p.toLowerCase();_=_.filter(W=>{var te;return(te=W.pacienteNome)==null?void 0:te.toLowerCase().includes(I)})}return _},[A,h,p]),G=_=>{try{const I=new Date(_);if(!isNaN(I.getTime()))return I.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof _=="string"&&/^\d{2}:\d{2}/.test(_))return _.slice(0,5)}catch{}return"-"},R=(_,I)=>{d(W=>W.map(te=>te.id===_?{...te,status:I}:te))},ee=async _=>{try{await is.confirmarConsulta(_.id),R(_.id,"Confirmada"),f({title:"Consulta confirmada",description:`Paciente ${_.pacienteNome} s ${G(_.dataHora)}`})}catch{f({title:"Erro",description:"No foi possvel confirmar a consulta.",variant:"destructive"})}},K=async _=>{try{await is.cancelarConsulta(_.id),R(_.id,"Cancelada"),f({title:"Consulta cancelada",description:`Paciente ${_.pacienteNome} s ${G(_.dataHora)}`})}catch{f({title:"Erro",description:"No foi possvel cancelar a consulta.",variant:"destructive"})}},z=async _=>{try{await is.registrarPresenca(_.id),R(_.id,"Realizada"),f({title:"Presena registrada",description:`Paciente ${_.pacienteNome} s ${G(_.dataHora)}`})}catch{f({title:"Erro",description:"No foi possvel registrar a presena.",variant:"destructive"})}},X=async _=>{if(_.preventDefault(),!S.pacienteId||!S.data||!S.hora||!t){f({title:"Erro",description:"Preencha todos os campos obrigatrios.",variant:"destructive"});return}N(!0);try{if(await is.agendarConsulta({pacienteId:S.pacienteId,medicoId:t,data:S.data,hora:S.hora,tipo:S.tipo,motivo:S.motivo,observacoes:S.observacoes}),f({title:"Sucesso",description:"Consulta agendada com sucesso!"}),w(!1),F({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),D(""),V([]),t){const I=await is.listarConsultasHoje(t);d(Array.isArray(I)?I:[])}}catch{f({title:"Erro",description:"No foi possvel agendar a consulta.",variant:"destructive"})}finally{N(!1)}},ne=async _=>{if(!_.trim()){V([]);return}P(!0);try{const I=await is.buscarPacientes(_);V(Array.isArray(I)?I:[])}catch(I){console.error("Erro ao buscar pacientes:",I),V([])}finally{P(!1)}};y.useEffect(()=>{const _=setTimeout(()=>ne(T),300);return()=>clearTimeout(_)},[T]);const ue=y.useMemo(()=>{const _=A.length,I=A.filter(J=>J.status==="Confirmada").length,W=A.filter(J=>J.status==="Agendada").length,te=A.filter(J=>J.status==="Realizada").length;return{total:_,confirmadas:I,pendentes:W,realizadas:te}},[A]);return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Dashboard Secretria"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie consultas e acompanhe a agenda dos mdicos."})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 min-w-fit",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(fr,{className:"h-5 w-5 text-blue-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Total"})]}),n.jsx("div",{className:"text-2xl font-bold",children:ue.total})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Io,{className:"h-5 w-5 text-green-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Confirmadas"})]}),n.jsx("div",{className:"text-2xl font-bold text-green-300",children:ue.confirmadas})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Pr,{className:"h-5 w-5 text-orange-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),n.jsx("div",{className:"text-2xl font-bold text-orange-300",children:ue.pendentes})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ji,{className:"h-5 w-5 text-purple-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Realizadas"})]}),n.jsx("div",{className:"text-2xl font-bold text-purple-300",children:ue.realizadas})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[n.jsx(ye,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200",asChild:!0,children:n.jsxs(vr,{to:"/secretaria/pacientes",children:[n.jsx(In,{className:"h-4 w-4 mr-2"}),"Ver Pacientes"]})}),n.jsxs(Nu,{open:x,onOpenChange:w,children:[n.jsx(f3,{asChild:!0,children:n.jsxs(ye,{className:"bg-white text-blue-600 hover:bg-blue-50 transition-all duration-200",children:[n.jsx(R0,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]})}),n.jsxs(xd,{children:[n.jsx(vd,{children:n.jsx(wd,{children:"Novo agendamento"})}),n.jsxs("form",{onSubmit:X,className:"px-6 pb-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(Gr,{value:t??void 0,onValueChange:a,children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Escolha um mdico"})}),n.jsx(zr,{children:Q.map(_=>n.jsx(st,{value:_.value,children:_.label},_.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Tipo"}),n.jsxs(Gr,{value:S.tipo,onValueChange:_=>F(I=>({...I,tipo:_})),children:[n.jsx(Vr,{children:n.jsx(Yr,{})}),n.jsxs(zr,{children:[n.jsx(st,{value:"primeira",children:"Primeira consulta"}),n.jsx(st,{value:"retorno",children:"Retorno"}),n.jsx(st,{value:"urgencia",children:"Urgncia"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),n.jsx(Os,{value:S.data,onChange:_=>F(I=>({...I,data:_})),minDate:new Date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Hora"}),n.jsx(Ke,{type:"time",value:S.hora,onChange:_=>F(I=>({...I,hora:_.target.value}))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Paciente"}),n.jsx(Ke,{placeholder:"Digite o nome do paciente...",value:T,onChange:_=>D(_.target.value)}),k&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Buscando..."}),E.length>0&&n.jsx("div",{className:"mt-2 border rounded-md max-h-32 overflow-y-auto",children:E.map(_=>n.jsxs("div",{className:"p-2 hover:bg-muted cursor-pointer text-sm",onClick:()=>{F(I=>({...I,pacienteId:_.id})),D(_.nome),V([])},children:[_.nome," - ",_.cpf]},_.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Motivo"}),n.jsx(Ke,{placeholder:"Motivo da consulta",value:S.motivo,onChange:_=>F(I=>({...I,motivo:_.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Observaes"}),n.jsx(oa,{placeholder:"Observaes adicionais",value:S.observacoes,onChange:_=>F(I=>({...I,observacoes:_.target.value}))})]}),n.jsxs(Bu,{children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),n.jsx(ye,{type:"submit",disabled:j,children:j?"Agendando...":"Agendar"})]})]})]})]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total Consultas"}),n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(fr,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:ue.total}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Consultas hoje"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Confirmadas"}),n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(Io,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:ue.confirmadas}),n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Consultas confirmadas"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-orange-700 dark:text-orange-300",children:"Pendentes"}),n.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:n.jsx(Pr,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-orange-900 dark:text-orange-100",children:ue.pendentes}),n.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Aguardando confirmao"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[n.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Xe,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Realizadas"}),n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:n.jsx(ji,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Le,{children:[n.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:ue.realizadas}),n.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Consultas finalizadas"})]})]})]}),n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(We,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Kr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-800",children:"Selecione o mdico"}),n.jsx(cr,{className:"text-slate-600",children:"Visualize rapidamente as consultas de hoje do mdico selecionado."})]})]})}),n.jsx(Le,{className:"p-6",children:s?n.jsx(Mr,{className:"h-10 w-72"}):n.jsx("div",{className:"w-72",children:n.jsxs(Gr,{value:t??void 0,onValueChange:_=>a(_),children:[n.jsx(Vr,{className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:n.jsx(Yr,{placeholder:"Escolha um mdico"})}),n.jsx(zr,{children:Q.map(_=>n.jsx(st,{value:_.value,children:_.label},_.value))})]})})})]}),n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(We,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsx("div",{className:"flex items-center justify-between gap-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(fr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Xe,{className:"text-slate-800",children:"Consultas de hoje"}),n.jsx(cr,{className:"text-slate-600",children:o?"Carregando...":`${$.length} consulta(s) encontrada(s)`})]})]})})}),n.jsxs(Le,{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Ke,{placeholder:"Buscar por paciente...",value:p,onChange:_=>v(_.target.value),className:"max-w-sm bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700"})}),n.jsxs(Gr,{value:h,onValueChange:m,children:[n.jsx(Vr,{className:"w-48 bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:n.jsx(Yr,{})}),n.jsxs(zr,{children:[n.jsx(st,{value:"todas",children:"Todas"}),n.jsx(st,{value:"Agendada",children:"Agendadas"}),n.jsx(st,{value:"Confirmada",children:"Confirmadas"}),n.jsx(st,{value:"Realizada",children:"Realizadas"}),n.jsx(st,{value:"Cancelada",children:"Canceladas"})]})]})]}),o?n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((_,I)=>n.jsx(Mr,{className:"h-16 w-full"},I))}):$.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(fr,{className:"h-8 w-8 text-slate-400"})}),n.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhuma consulta encontrada"}),n.jsx("p",{className:"text-slate-500 text-sm",children:t?"No h consultas para o mdico selecionado hoje":"Selecione um mdico para ver as consultas"})]}):n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:n.jsxs(cc,{children:[n.jsx(Ac,{children:n.jsxs(Pn,{className:"bg-slate-50 hover:bg-slate-50",children:[n.jsx(Hr,{className:"font-semibold text-slate-700",children:"Horrio"}),n.jsx(Hr,{className:"font-semibold text-slate-700",children:"Paciente"}),n.jsx(Hr,{className:"font-semibold text-slate-700",children:"Tipo"}),n.jsx(Hr,{className:"font-semibold text-slate-700",children:"Status"}),n.jsx(Hr,{className:"font-semibold text-slate-700",children:"Aes"})]})}),n.jsx(dc,{children:$.map(_=>{const I=_.status==="Agendada",W=["Agendada","Confirmada"].includes(_.status),te=_.status==="Confirmada";return n.jsxs(Pn,{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 border-b border-slate-100",children:[n.jsx(Lr,{className:"font-medium text-slate-900",children:G(_.dataHora)}),n.jsx(Lr,{className:"text-slate-700",children:_.pacienteNome}),n.jsx(Lr,{className:"text-slate-600",children:_.tipo||"Consulta"}),n.jsx(Lr,{children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${_.status==="Confirmada"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":_.status==="Agendada"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":_.status==="Realizada"?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:_.status})}),n.jsx(Lr,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{size:"sm",variant:"outline",disabled:!I,onClick:()=>ee(_),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100 disabled:opacity-50",children:[n.jsx(Io,{className:"h-4 w-4 mr-1"})," Confirmar"]}),n.jsxs(ye,{size:"sm",variant:"outline",disabled:!W,onClick:()=>K(_),className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100 disabled:opacity-50",children:[n.jsx(gs,{className:"h-4 w-4 mr-1"})," Cancelar"]}),n.jsxs(ye,{size:"sm",variant:"outline",disabled:!te,onClick:()=>z(_),className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 disabled:opacity-50",children:[n.jsx(QL,{className:"h-4 w-4 mr-1"})," Presena"]})]})})]},_.id)})})]})})]})]})]})}function XX(e={}){var i,o,l;const r=e.paciente_nome||((i=e==null?void 0:e.paciente)==null?void 0:i.nome)||((o=e==null?void 0:e.paciente)!=null&&o.user?[e.paciente.user.first_name,e.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",t=e.data_hora||e.horario||e.inicio||e.data||e.start_time||"",a=e.status||"Agendada",s=e.clinica_nome||((l=e==null?void 0:e.clinica)==null?void 0:l.nome)||e.local||"";return{id:e.id||e.consulta_id||Math.random().toString(36).slice(2),pacienteNome:r,dataHora:t,status:a,clinica:s,tipo:e.tipo||e.modalidade||"Consulta"}}function JX(){const[e,r]=y.useState([]),[t,a]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(""),[A,d]=y.useState(!1),[f,h]=y.useState([]);y.useEffect(()=>{let v=!0;return(async()=>{try{const x=await is.listarMedicos();if(!v)return;r(Array.isArray(x)?x:[]);const w=localStorage.getItem("secretaria.medicoId");w&&a(String(w))}catch{}})(),()=>{v=!1}},[]);const m=async()=>{if(!t)return h([]);d(!0);try{localStorage.setItem("secretaria.medicoId",String(t));const v={};o&&(v.date=o);const x=await ur.getConsultasDoMedico({...v,medico:t}),j=(Array.isArray(x)?x:Array.isArray(x==null?void 0:x.results)?x.results:[]).map(XX);h(s?j.filter(N=>N.pacienteNome.toLowerCase().includes(s.toLowerCase())):j)}catch{h([])}finally{d(!1)}};y.useEffect(()=>{m()},[t]);const p=y.useMemo(()=>e.map(v=>{var x;return{value:String(v.id),label:v.nome||((x=v==null?void 0:v.user)==null?void 0:x.first_name)||`Mdico #${v.id}`}}),[e]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fr,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Consultas"})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-5 w-5"})," Filtros"]})}),n.jsx(Le,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(Gr,{value:t||void 0,onValueChange:v=>a(v),children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Escolha um mdico"})}),n.jsx(zr,{children:p.map(v=>n.jsx(st,{value:v.value,children:v.label},v.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),n.jsx(Os,{value:o,onChange:l})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar por paciente"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ke,{placeholder:"Nome do paciente",value:s,onChange:v=>i(v.target.value)}),n.jsxs(ye,{onClick:m,children:[n.jsx(vs,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})]})})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Resultados"})}),n.jsx(Le,{children:A?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):f.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta encontrada."}):n.jsxs(cc,{children:[n.jsx(Ac,{children:n.jsxs(Pn,{children:[n.jsx(Hr,{children:"Paciente"}),n.jsx(Hr,{children:"Data/Hora"}),n.jsx(Hr,{children:"Tipo"}),n.jsx(Hr,{children:"Status"}),n.jsx(Hr,{children:"Clnica"})]})}),n.jsx(dc,{children:f.map(v=>n.jsxs(Pn,{children:[n.jsx(Lr,{children:v.pacienteNome}),n.jsx(Lr,{children:v.dataHora||""}),n.jsx(Lr,{children:v.tipo}),n.jsx(Lr,{children:v.status}),n.jsx(Lr,{children:v.clinica})]},v.id))})]})})]})]})}function J5(e={}){const r=(e==null?void 0:e.user)||{};return(e==null?void 0:e.nome)||[r.first_name,r.last_name].filter(Boolean).join(" ")||r.username||`Paciente #${(e==null?void 0:e.id)||"?"}`}function ZX(){const[e,r]=y.useState([]),[t,a]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(!1),[A,d]=y.useState([]),{toast:f}=Va(),[h,m]=y.useState(!1),[p,v]=y.useState(!1),[x,w]=y.useState({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""}),j=D=>{const k=String(D||"").replace(/\D/g,"").slice(0,11),P=k.slice(0,3),E=k.slice(3,6),V=k.slice(6,9),Q=k.slice(9,11);return k.length>9?`${P}.${E}.${V}-${Q}`:k.length>6?`${P}.${E}.${V}`:k.length>3?`${P}.${E}`:P},N=D=>{const{name:k,value:P}=D.target;if(k==="cpf")return w(E=>({...E,cpf:j(P)}));w(E=>({...E,[k]:P}))};y.useEffect(()=>{let D=!0;return(async()=>{try{const k=await is.listarMedicos();if(!D)return;r(Array.isArray(k)?k:[]);const P=localStorage.getItem("secretaria.medicoId");P&&a(String(P))}catch{}})(),()=>{D=!1}},[]);const S=async()=>{if(!t)return d([]);l(!0);try{const D=await ur.getPacientesVinculados(t),k=Array.isArray(D)?D:Array.isArray(D==null?void 0:D.results)?D.results:[];d(k)}catch{d([])}finally{l(!1)}};y.useEffect(()=>{S()},[t]);const F=y.useMemo(()=>A.filter(D=>J5(D).toLowerCase().includes(s.toLowerCase())),[A,s]),T=async D=>{var k,P;if((k=D==null?void 0:D.preventDefault)==null||k.call(D),!x.nome||!x.email||!x.senha||!x.confirmSenha){f({title:"Campos obrigatrios",description:"Preencha nome, email e senha.",variant:"destructive"});return}if(x.senha!==x.confirmSenha){f({title:"Senhas no conferem",description:"A confirmao deve ser igual  senha.",variant:"destructive"});return}v(!0);try{await is.registrarPaciente(x),f({title:"Paciente cadastrado",description:"O paciente foi criado com sucesso. Ele aparecer na lista do mdico aps o primeiro vnculo (ex.: agendamento de consulta)."}),m(!1),w({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""})}catch(E){const V=(P=E==null?void 0:E.response)!=null&&P.data?JSON.stringify(E.response.data):(E==null?void 0:E.message)||"Falha ao cadastrar";f({title:"Erro ao cadastrar",description:V,variant:"destructive"})}finally{v(!1)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kn,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Pacientes"})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2 justify-between",children:[n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(vs,{className:"h-5 w-5"})," Filtros"]}),n.jsxs(Nu,{open:h,onOpenChange:m,children:[n.jsx(f3,{asChild:!0,children:n.jsxs("button",{className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[n.jsx(ld,{className:"h-4 w-4 mr-2"})," Cadastrar Paciente"]})}),n.jsxs(xd,{className:"max-w-lg",children:[n.jsxs(vd,{children:[n.jsx(wd,{children:"Novo Paciente"}),n.jsx(Qm,{children:"Preencha os dados bsicos para criar a conta do paciente."})]}),n.jsxs("form",{className:"space-y-3",onSubmit:T,children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Nome completo"}),n.jsx(Ke,{name:"nome",value:x.nome,onChange:N,placeholder:"Ex.: Maria Silva"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"E-mail"}),n.jsx(Ke,{name:"email",value:x.email,onChange:N,type:"email",placeholder:"email@exemplo.com"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"CPF"}),n.jsx(Ke,{name:"cpf",value:x.cpf,onChange:N,placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Telefone"}),n.jsx(Ke,{name:"telefone",value:x.telefone,onChange:N,placeholder:"(00) 00000-0000"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data de nascimento"}),n.jsx(Os,{name:"data_nascimento",value:x.data_nascimento,onChange:D=>N({target:{name:"data_nascimento",value:D}}),maxDate:new Date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Endereo"}),n.jsx(Ke,{name:"endereco",value:x.endereco,onChange:N,placeholder:"Rua, nmero, bairro"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Senha"}),n.jsx(Ke,{name:"senha",type:"password",value:x.senha,onChange:N})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirmar senha"}),n.jsx(Ke,{name:"confirmSenha",type:"password",value:x.confirmSenha,onChange:N})]})]}),n.jsxs(Bu,{children:[n.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-2 rounded-md text-sm border mr-2",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:p,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 disabled:opacity-50",children:p?"Salvando...":"Criar"})]})]})]})]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(Gr,{value:t||void 0,onValueChange:D=>{a(D);try{localStorage.setItem("secretaria.medicoId",String(D))}catch{}},children:[n.jsx(Vr,{children:n.jsx(Yr,{placeholder:"Escolha um mdico"})}),n.jsx(zr,{children:e.map(D=>{var P,E;const k=(D==null?void 0:D.nome)||[(P=D==null?void 0:D.user)==null?void 0:P.first_name,(E=D==null?void 0:D.user)==null?void 0:E.last_name].filter(Boolean).join(" ")||`Mdico #${D==null?void 0:D.id}`;return n.jsx(st,{value:String(D.id),children:k},D.id)})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar"}),n.jsx(Ke,{placeholder:"Nome do paciente",value:s,onChange:D=>i(D.target.value)})]}),n.jsx("div",{className:"flex items-end gap-2",children:n.jsxs("button",{onClick:S,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[n.jsx(Kr,{className:"h-4 w-4 mr-2"})," Buscar"]})})]})})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Lista"})}),n.jsx(Le,{children:o?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):F.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum paciente encontrado."}):n.jsxs(cc,{children:[n.jsx(Ac,{children:n.jsxs(Pn,{children:[n.jsx(Hr,{children:"Nome"}),n.jsx(Hr,{children:"Contato"})]})}),n.jsx(dc,{children:F.map(D=>{var k,P;return n.jsxs(Pn,{children:[n.jsx(Lr,{children:J5(D)}),n.jsxs(Lr,{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx(Jc,{className:"inline h-4 w-4 mr-1"})," ",((k=D==null?void 0:D.user)==null?void 0:k.phone)||""]}),n.jsxs("div",{children:[n.jsx(fl,{className:"inline h-4 w-4 mr-1"})," ",((P=D==null?void 0:D.user)==null?void 0:P.email)||""]})]})]},D.id)})})]})})]})]})}function Z5(e){const r=(e==null?void 0:e.user)||{};return(e==null?void 0:e.nome)||[r.first_name,r.last_name].filter(Boolean).join(" ")||r.username||`Mdico #${(e==null?void 0:e.id)||"?"}`}function eJ(){const[e,r]=y.useState(""),[t,a]=y.useState([]),[s,i]=y.useState(!0);y.useEffect(()=>{let l=!0;return(async()=>{i(!0);try{const A=await is.listarMedicos();if(!l)return;a(Array.isArray(A)?A:[])}finally{l&&i(!1)}})(),()=>{l=!1}},[]);const o=y.useMemo(()=>t.filter(l=>Z5(l).toLowerCase().includes(e.toLowerCase())),[t,e]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kr,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Mdicos"})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-5 w-5"})," Buscar"]})}),n.jsx(Le,{children:n.jsx(Ke,{placeholder:"Digite o nome do mdico",value:e,onChange:l=>r(l.target.value)})})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Resultados"})}),n.jsx(Le,{children:s?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):o.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum mdico encontrado."}):n.jsxs(cc,{children:[n.jsx(Ac,{children:n.jsxs(Pn,{children:[n.jsx(Hr,{children:"Nome"}),n.jsx(Hr,{children:"CRM"}),n.jsx(Hr,{children:"Especialidade"}),n.jsx(Hr,{children:"Contato"})]})}),n.jsx(dc,{children:o.map(l=>{var A,d;return n.jsxs(Pn,{children:[n.jsxs(Lr,{className:"font-medium flex items-center gap-2",children:[n.jsx(In,{className:"h-4 w-4"})," ",Z5(l)]}),n.jsx(Lr,{children:l.crm||""}),n.jsx(Lr,{children:l.especialidade||""}),n.jsxs(Lr,{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jc,{className:"h-4 w-4"})," ",l.telefone||((A=l==null?void 0:l.user)==null?void 0:A.phone)||""]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fl,{className:"h-4 w-4"})," ",((d=l==null?void 0:l.user)==null?void 0:d.email)||""]})]})]},l.id)})})]})})]})]})}const tJ={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},rJ=(e,r,t)=>{let a;const s=tJ[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",String(r)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"em "+a:"h "+a:a},aJ={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},nJ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sJ={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iJ={date:Cf({formats:aJ,defaultWidth:"full"}),time:Cf({formats:nJ,defaultWidth:"full"}),dateTime:Cf({formats:sJ,defaultWidth:"full"})},oJ={lastWeek:e=>{const r=e.getDay();return"'"+(r===0||r===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},lJ=(e,r,t,a)=>{const s=oJ[e];return typeof s=="function"?s(r):s},cJ={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},AJ={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},dJ={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},uJ={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},fJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},hJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},mJ=(e,r)=>{const t=Number(e);return(r==null?void 0:r.unit)==="week"?t+"":t+""},pJ={ordinalNumber:mJ,era:zl({values:cJ,defaultWidth:"wide"}),quarter:zl({values:AJ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zl({values:dJ,defaultWidth:"wide"}),day:zl({values:uJ,defaultWidth:"wide"}),dayPeriod:zl({values:fJ,defaultWidth:"wide",formattingValues:hJ,defaultFormattingWidth:"wide"})},gJ=/^(\d+)[o]?/i,xJ=/\d+/i,vJ={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},wJ={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},yJ={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},bJ={any:[/1/i,/2/i,/3/i,/4/i]},jJ={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},NJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},BJ={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},CJ={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},SJ={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},EJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},_J={ordinalNumber:K_({matchPattern:gJ,parsePattern:xJ,valueCallback:e=>parseInt(e,10)}),era:ql({matchPatterns:vJ,defaultMatchWidth:"wide",parsePatterns:wJ,defaultParseWidth:"any"}),quarter:ql({matchPatterns:yJ,defaultMatchWidth:"wide",parsePatterns:bJ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ql({matchPatterns:jJ,defaultMatchWidth:"wide",parsePatterns:NJ,defaultParseWidth:"any"}),day:ql({matchPatterns:BJ,defaultMatchWidth:"wide",parsePatterns:CJ,defaultParseWidth:"any"}),dayPeriod:ql({matchPatterns:SJ,defaultMatchWidth:"any",parsePatterns:EJ,defaultParseWidth:"any"})},eC={code:"pt-BR",formatDistance:rJ,formatLong:iJ,formatRelative:lJ,localize:pJ,match:_J,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FJ(e=8,r=18){const t=[];for(let a=e;a<r;a++){const s=String(a).padStart(2,"0")+":00";t.push(s)}return t}function tC(e){const r=[e.hora,e.horario,e.data_hora,e.inicio,e.start_time];for(const t of r)if(t){if(typeof t=="string"){const a=t.match(/(\d{2}):(\d{2})/);if(a)return`${a[1]}:${a[2]}`;const s=t.match(/T(\d{2}):(\d{2})/);if(s)return`${s[1]}:${s[2]}`}if(t instanceof Date){const a=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${a}:${s}`}}return null}function rC(e){var r,t,a;return(e==null?void 0:e.paciente_nome)||((r=e==null?void 0:e.paciente)==null?void 0:r.nome)||((t=e==null?void 0:e.paciente)==null?void 0:t.fullName)||((a=e==null?void 0:e.paciente)==null?void 0:a.name)||(e==null?void 0:e.nome_paciente)||"(Paciente)"}function KA(e){return(e==null?void 0:e.id)||(e==null?void 0:e.consulta_id)||(e==null?void 0:e.agendamento_id)||(e==null?void 0:e.pk)||null}function E0(e){const r=String(e||"").toLowerCase();return r?r.includes("cancel")?"cancelada":r.includes("confirm")?"confirmada":r.includes("realiz")||r.includes("conclu")?"realizada":r.includes("andamento")||r.includes("em_andamento")?"em_andamento":r.includes("agend")?"aguardando":r:"aguardando"}function kJ(e){const r=E0(e);return{label:r==="confirmada"?"Confirmada":r==="cancelada"?"Cancelada":r==="realizada"?"Realizada":r==="em_andamento"?"Em andamento":"Aguardando",variant:r==="confirmada"?"success":r==="cancelada"?"destructive":r==="realizada"?"info":r==="em_andamento"?"warning":"outline"}}function DJ(e){const r=E0(e);return r==="confirmada"?"bg-green-50":r==="cancelada"?"bg-red-50":r==="realizada"?"bg-blue-50":r==="em_andamento"?"bg-yellow-50":""}function UJ(){const[e,r]=y.useState([]),[t,a]=y.useState(""),[s,i]=y.useState(new Date),[o,l]=y.useState([]),[A,d]=y.useState(!1),[f,h]=y.useState(!1),[m,p]=y.useState(null),[v,x]=y.useState(""),[w,j]=y.useState([]),[N,S]=y.useState(null),[F,T]=y.useState(""),[D,k]=y.useState(!1),[P,E]=y.useState(null),[V,Q]=y.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.inicio")||"8",10)),[$,G]=y.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.fim")||"18",10)),R=y.useMemo(()=>FJ(V,$),[V,$]);y.useEffect(()=>{async function J(){try{const Y=await is.listarMedicos();r(Y||[]),!t&&(Y!=null&&Y.length)&&a(String(Y[0].id||Y[0].medico_id))}catch(Y){console.error("Erro ao listar mdicos",Y)}}J()},[]),y.useEffect(()=>{async function J(){if(!(!t||!s)){d(!0);try{const Y=GA(s,"yyyy-MM-dd"),M=await ur.getConsultasDoMedico(t,{date:Y}),Z=Array.isArray(M)?M:Array.isArray(M==null?void 0:M.results)?M.results:(M==null?void 0:M.consultas)||[];l(Z||[])}catch(Y){console.error("Erro ao buscar consultas",Y)}finally{d(!1)}}}J()},[t,s]);const ee=y.useMemo(()=>{const J=new Map;for(const Y of o){const M=tC(Y);M&&J.set(M,Y)}return J},[o]);async function K(J){k(!1),E(null),p(J),h(!0),x(""),j([]),S(null),T("")}async function z(J){var oe,fe,ve,Ee;const Y=ee.get(J);if(!Y)return;k(!0),E(Y),p(J),h(!0);const M=(Y==null?void 0:Y.paciente_id)||((oe=Y==null?void 0:Y.paciente)==null?void 0:oe.id),Z=(Y==null?void 0:Y.paciente_nome)||((fe=Y==null?void 0:Y.paciente)==null?void 0:fe.nome)||((ve=Y==null?void 0:Y.paciente)==null?void 0:ve.fullName)||((Ee=Y==null?void 0:Y.paciente)==null?void 0:Ee.name);(M||Z)&&S({id:M,nome:Z}),T((Y==null?void 0:Y.observacoes)||(Y==null?void 0:Y.notes)||"")}async function X(J){if(x(J),!J||J.length<2){j([]);return}try{const Y=await is.buscarPacientes(J);j(Y||[])}catch(Y){console.error("Erro ao buscar pacientes",Y)}}async function ne(){if(D){const J=KA(P);if(!J){alert("Consulta sem ID vlido para edio.");return}try{const Y={};N!=null&&N.id&&(Y.pacienteId=N.id),F&&(Y.observacoes=F),await is.atualizarConsulta(J,Y),l(M=>M.map(Z=>KA(Z)===J?{...Z,paciente_id:(N==null?void 0:N.id)||Z.paciente_id,paciente_nome:(N==null?void 0:N.nome)||rC(Z),observacoes:F}:Z)),h(!1),k(!1),E(null)}catch(Y){console.error("Erro ao editar consulta",Y),alert("Falha ao editar consulta.")}return}if(!(!N||!m||!t)){if(ee.has(m)){alert("Horrio j ocupado. Escolha outro horrio.");return}try{const J=GA(s,"yyyy-MM-dd");try{const Y=await is.getConsultasDoMedico(t,{date:J});if(((Array.isArray(Y)?Y:Array.isArray(Y==null?void 0:Y.results)?Y.results:(Y==null?void 0:Y.consultas)||[])||[]).some(oe=>tC(oe)===m)){alert("Horrio indisponvel no servidor. Selecione outro horrio.");return}}catch{}await is.agendarConsulta({pacienteId:N.id||N.paciente_id,medicoId:t,data:J,hora:m,tipo:"rotina",motivo:"Agendado pela secretria",observacoes:F}),l(Y=>[...Y,{hora:m,paciente_nome:N.nome||N.fullName||N.name||"Paciente",status:"Confirmada"}]),h(!1)}catch(J){console.error("Erro ao agendar",J),alert("Falha ao agendar. Verifique disponibilidade ou tente novamente.")}}}async function ue(J){const Y=ee.get(J);if(!Y)return;const M=KA(Y);if(M)try{await is.confirmarConsulta(M),l(Z=>Z.map(oe=>KA(oe)===M?{...oe,status:"Confirmada"}:oe))}catch(Z){console.error("Erro ao confirmar",Z),alert("No foi possvel confirmar a consulta.")}}async function _(J){const Y=ee.get(J);if(!Y)return;const M=KA(Y);if(!M)return;const Z=window.prompt("Motivo do cancelamento:","Cancelado pela secretria");try{await is.cancelarConsulta(M,Z||""),l(oe=>oe.map(fe=>KA(fe)===M?{...fe,status:"Cancelada"}:fe))}catch(oe){console.error("Erro ao cancelar",oe),alert("No foi possvel cancelar a consulta.")}}async function I(J){const Y=ee.get(J);if(!Y)return;const M=KA(Y);if(M)try{await is.registrarPresenca(M),l(Z=>Z.map(oe=>KA(oe)===M?{...oe,status:"Realizada"}:oe))}catch(Z){console.error("Erro ao marcar presena",Z),alert("No foi possvel marcar presena.")}}function W(){const J=GA(s,"LLLL",{locale:eC}),Y=GA(s,"EEEE",{locale:eC}),M=GA(s,"d");return`${J.charAt(0).toUpperCase()+J.slice(1)}  ${Y.charAt(0).toUpperCase()+Y.slice(1)}  ${M}`}const te=Array.from({length:17},(J,Y)=>Y+6);return n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Agenda diria"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:W()})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("div",{className:"w-52",children:n.jsx(Os,{date:s,onChange:i})}),n.jsxs(Gr,{value:t,onValueChange:J=>a(String(J)),children:[n.jsx(Vr,{className:"min-w-[220px]",children:n.jsx(Yr,{placeholder:"Selecione o mdico"})}),n.jsx(zr,{children:e.map(J=>n.jsx(st,{value:String(J.id||J.medico_id),children:J.nome||J.fullName||J.name},J.id||J.medico_id))})]}),n.jsxs(Gr,{value:String(V),onValueChange:J=>{Q(Number(J)),localStorage.setItem("secretaria.agenda.inicio",String(J))},children:[n.jsx(Vr,{className:"w-24",children:n.jsx(Yr,{placeholder:"Incio"})}),n.jsx(zr,{children:te.map(J=>n.jsxs(st,{value:String(J),children:[String(J).padStart(2,"0"),":00"]},`inicio-${J}`))})]}),n.jsxs(Gr,{value:String($),onValueChange:J=>{G(Number(J)),localStorage.setItem("secretaria.agenda.fim",String(J))},children:[n.jsx(Vr,{className:"w-24",children:n.jsx(Yr,{placeholder:"Fim"})}),n.jsx(zr,{children:te.map(J=>n.jsxs(st,{value:String(J),children:[String(J).padStart(2,"0"),":00"]},`fim-${J}`))})]}),n.jsx(ye,{variant:"secondary",onClick:()=>{i(new Date(s))},children:"Atualizar"})]}),n.jsx(ke,{className:"p-0 overflow-hidden",children:n.jsx("div",{className:"divide-y",children:R.map(J=>{const Y=ee.get(J),M=Y?rC(Y):null,Z=Y?kJ(Y==null?void 0:Y.status):null,oe=Y?DJ(Y==null?void 0:Y.status):"";return n.jsxs("div",{className:`flex items-center justify-between px-4 py-3 hover:bg-muted/40 ${oe}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 text-sm font-medium",children:J}),n.jsx("div",{className:"text-sm flex items-center gap-2",children:M?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:M}),Z&&n.jsx(sr,{variant:Z.variant,className:"text-xs",children:Z.label})]}):n.jsx("span",{className:"text-muted-foreground",children:"(vago)"})})]}),n.jsx("div",{className:"flex items-center gap-2",children:M?n.jsxs(n.Fragment,{children:[n.jsx(ye,{size:"sm",variant:"outline",onClick:()=>ue(J),disabled:E0(Y==null?void 0:Y.status)==="confirmada",children:"Confirmar"}),n.jsx(ye,{size:"sm",variant:"outline",onClick:()=>I(J),disabled:E0(Y==null?void 0:Y.status)==="cancelada",children:"Presena"}),n.jsx(ye,{size:"sm",variant:"outline",onClick:()=>z(J),children:"Editar"}),n.jsx(ye,{size:"sm",variant:"destructive",onClick:()=>_(J),children:"Cancelar"})]}):n.jsx(ye,{size:"sm",onClick:()=>K(J),children:"Agendar"})})]},J)})})}),n.jsx(Nu,{open:f,onOpenChange:h,children:n.jsxs(xd,{children:[n.jsx(vd,{children:n.jsx(wd,{children:D?`Editar ${m}`:`Agendar ${m}`})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ke,{placeholder:"Buscar paciente pelo nome",value:v,onChange:J=>X(J.target.value)}),n.jsxs("div",{className:"max-h-48 overflow-auto border rounded",children:[(w||[]).map(J=>n.jsx("div",{className:`px-3 py-2 cursor-pointer hover:bg-muted ${((N==null?void 0:N.id)||(N==null?void 0:N.paciente_id))===(J.id||J.paciente_id)?"bg-muted":""}`,onClick:()=>S(J),children:J.nome||J.fullName||J.name},J.id||J.paciente_id)),(!w||w.length===0)&&n.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"Digite ao menos 2 letras para buscar"})]}),n.jsx(Ke,{placeholder:"Observaes (opcional)",value:F,onChange:J=>T(J.target.value)})]}),n.jsxs(Bu,{children:[n.jsx(ye,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(ye,{onClick:ne,disabled:!D&&!N,children:D?"Salvar":"Confirmar"})]})]})}),A&&n.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando consultas"})]})}function LJ(){const{toast:e}=Va(),r=cs(),t=Jn(),[a,s]=y.useState(!1),[i,o]=y.useState("ready"),[l,A]=y.useState(null),[d,f]=y.useState(!1),h=y.useMemo(()=>{const j=new URL(window.location.href);return{id:j.searchParams.get("id")||j.searchParams.get("receita")||j.searchParams.get("receita_id"),token:j.searchParams.get("token")||j.searchParams.get("t"),url:j.searchParams.get("url")||j.searchParams.get("download")||j.searchParams.get("arquivo")||null,email:j.searchParams.get("email")||null}},[t.search]),m=j=>{try{const N=j.replace(/\?.*$/,"");return N.toLowerCase().endsWith(".pdf")?N:`${N}.pdf`}catch{return"Receita.pdf"}},p=(j,N)=>{const S=document.createElement("a"),F=URL.createObjectURL(j);S.href=F,S.download=decodeURIComponent(N),document.body.appendChild(S),S.click(),S.remove(),setTimeout(()=>URL.revokeObjectURL(F),2e3)},v=async j=>{var S;let N=j;if(!N)return!1;try{/^https?:\/\//i.test(N)||(N=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${N.startsWith("/")?"":"/"}${N}`);const F=await Ce.get(N,{responseType:"blob",baseURL:""}),T=new Blob([F.data],{type:F.headers["content-type"]||"application/pdf"}),D=F.headers["content-disposition"]||"",k=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(D);let P=(k==null?void 0:k[1])||(k==null?void 0:k[2])||"Receita.pdf";return P=m(P),p(T,P),!0}catch(F){return console.warn("[ReceberReceita] download direto falhou:",((S=F==null?void 0:F.response)==null?void 0:S.status)||F),!1}},x=async j=>{var N;if(!j)return!1;try{const S=await Aa.getReceitas({__propagateErrors:!0}),T=(Array.isArray(S)?S:Array.isArray(S==null?void 0:S.results)?S.results:[]).find(k=>String(k.id||k.pk||k.uuid)===String(j)),D=(T==null?void 0:T.arquivo_assinado)||(T==null?void 0:T.pdf)||(T==null?void 0:T.documento)||null;return D?await v(D):!1}catch(S){return console.warn("[ReceberReceita] busca por ID falhou:",((N=S==null?void 0:S.response)==null?void 0:N.status)||S),!1}},w=async()=>{s(!0),A(null),o("processing");try{if(await v(h.url)){f(!0),o("done"),e({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}if(await x(h.id)){f(!0),o("done"),e({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}o("error"),A("No foi possvel localizar a receita. Verifique se o link no expirou ou faa login para acess-la."),e({title:"Link invlido",description:"No foi possvel localizar a receita.",variant:"destructive"})}finally{s(!1)}};return y.useEffect(()=>{(h.url||h.id)&&w()},[h.url,h.id]),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Receber Receita"})}),n.jsxs(Le,{className:"space-y-4",children:[i==="done"?n.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[n.jsx(sr,{variant:"outline",children:"Concludo"}),n.jsx("span",{children:"O download da receita foi iniciado."})]}):i==="processing"?n.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[n.jsx(sr,{variant:"outline",children:"Processando"}),n.jsx("span",{children:"Estamos validando seu link e preparando o download..."})]}):i==="error"?n.jsxs("div",{className:"text-red-700",children:[n.jsx(sr,{variant:"destructive",className:"mb-2",children:"Erro"}),n.jsx("p",{className:"text-sm",children:l||"Falha ao processar o link."})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cole o link recebido por e-mail, ou utilize o acesso direto com login."}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"Link direto do arquivo (opcional)"}),n.jsx(Ke,{defaultValue:h.url||"",placeholder:"https://.../receita.pdf",onBlur:j=>{const N=new URL(window.location.href);j.target.value?N.searchParams.set("url",j.target.value):N.searchParams.delete("url"),r({pathname:N.pathname,search:N.search})}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(De,{children:"ID da Receita (opcional)"}),n.jsx(Ke,{defaultValue:h.id||"",placeholder:"123",onBlur:j=>{const N=new URL(window.location.href);j.target.value?N.searchParams.set("id",j.target.value):N.searchParams.delete("id"),r({pathname:N.pathname,search:N.search})}})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(ye,{onClick:w,disabled:a,children:a?"Processando...":"Receber"}),n.jsx(ye,{variant:"outline",onClick:()=>r("/paciente/receitas"),children:"Ir para Minhas Receitas"})]})]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Dica: se o link tiver expirado, faa login e acesse suas receitas na rea do paciente."})]})})}function IJ(){var h,m,p,v;const{id:e}=pl(),[r,t]=y.useState(null),[a,s]=y.useState(!0),[i,o]=y.useState(null);if(y.useEffect(()=>{async function x(){var w,j;try{s(!0);const N=await Ce.get(`/receitas/${e}/verificar/`);t(N.data)}catch(N){o(((j=(w=N.response)==null?void 0:w.data)==null?void 0:j.detail)||"Receita no encontrada ou invlida")}finally{s(!1)}}e&&x()},[e]),a)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Verificando receita..."})]})});if(i)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center",children:n.jsxs(ke,{className:"w-full max-w-md",children:[n.jsxs(We,{className:"text-center",children:[n.jsx(gs,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx(Xe,{className:"text-red-700",children:"Receita Invlida"})]}),n.jsxs(Le,{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:i}),n.jsx("p",{className:"text-sm text-gray-500",children:"Esta receita pode ter sido alterada, no existe ou no foi assinada digitalmente."})]})]})});const l=(r==null?void 0:r.assinada)&&(r==null?void 0:r.hash_documento),A=r!=null&&r.assinada_em?new Date(r.assinada_em).toLocaleString("pt-BR"):null,d=(m=(h=r==null?void 0:r.consulta)==null?void 0:h.medico)!=null&&m.user?`Dr. ${r.consulta.medico.user.first_name} ${r.consulta.medico.user.last_name}`:(r==null?void 0:r.medico)||"No informado",f=((v=(p=r==null?void 0:r.consulta)==null?void 0:p.medico)==null?void 0:v.crm)||"No informado";return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8",children:n.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[l?n.jsx(Io,{className:"h-20 w-20 text-green-500 mx-auto mb-4"}):n.jsx(gs,{className:"h-20 w-20 text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Verificao de Receita Mdica"}),n.jsx(sr,{variant:l?"default":"destructive",className:"text-lg px-4 py-2",children:l?" Receita Vlida":" Receita Invlida"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(Ja,{className:"h-5 w-5"}),"Informaes da Receita"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID da Receita"}),n.jsx("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:r==null?void 0:r.id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Medicamento"}),n.jsx("p",{className:"font-medium",children:(r==null?void 0:r.medicamento)||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Dosagem"}),n.jsx("p",{children:(r==null?void 0:r.dosagem)||"No informada"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Validade"}),n.jsx("p",{children:(r==null?void 0:r.validade)||"No informada"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Criao"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),r!=null&&r.created_at?new Date(r.created_at).toLocaleString("pt-BR"):"No informada"]})]})]})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(In,{className:"h-5 w-5"}),"Paciente e Mdico"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Paciente"}),n.jsx("p",{className:"font-medium",children:(r==null?void 0:r.nome_paciente)||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Mdico Responsvel"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4"}),d]}),f!=="No informado"&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["CRM: ",f]})]}),(r==null?void 0:r.endereco_consultorio)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Consultrio"}),n.jsx("p",{children:r.endereco_consultorio})]})]})]}),n.jsxs(ke,{className:"md:col-span-2",children:[n.jsx(We,{children:n.jsxs(Xe,{className:"flex items-center gap-2",children:[n.jsx(Io,{className:"h-5 w-5"}),"Assinatura Digital"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status da Assinatura"}),n.jsx(sr,{variant:l?"default":"destructive",className:"mt-1",children:l?"Assinada Digitalmente":"No Assinada"})]}),A&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data da Assinatura"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),A]})]})]}),l&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Assinado por"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4"}),d," ",f!=="No informado"&&`(CRM: ${f})`]})]}),(r==null?void 0:r.hash_documento)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Hash de Verificao"}),n.jsx("p",{className:"font-mono text-xs bg-gray-100 p-2 rounded break-all",children:r.hash_documento})]}),(r==null?void 0:r.motivo)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Motivo da Assinatura"}),n.jsx("p",{children:r.motivo})]})]})]})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("p",{className:"text-sm text-gray-500",children:["Esta verificao confirma a autenticidade e integridade da receita mdica.",l&&" A receita foi assinada digitalmente e no foi alterada."]})})]})})}const PJ=()=>{const[e,r]=y.useState("f86c1245-2d66-4e5b-8830-e774c7c0f31f"),[t,a]=y.useState(null),[s,i]=y.useState(!1),[o,l]=y.useState(null),A=async()=>{var f,h,m;if(!e){l("Por favor, insira um ID de receita");return}i(!0),l(null),a(null);try{console.log("Tentando assinar receita com ID:",e);const p={id:e,receita_id:e,algoritmo_assinatura:"SHA256",hash_documento:`test_hash_${Date.now()}`},v=await mL.signPrescription(p);console.log("Resposta da assinatura:",v),a({success:!0,data:v})}catch(p){console.error("Erro na assinatura:",p),l({message:p.message,status:(f=p.response)==null?void 0:f.status,data:(h=p.response)==null?void 0:h.data,url:(m=p.config)==null?void 0:m.url})}finally{i(!1)}},d=async()=>{i(!0),l(null),a(null);try{const f="http://127.0.0.1:8000/api",h=["/receitas/","/receitas/f86c1245-2d66-4e5b-8830-e774c7c0f31f/","/receitas/f86c1245-2d66-4e5b-8830-e774c7c0f31f/assinar/","/auth/login/","/auth/user/"],m={},p=localStorage.getItem("token");for(const v of h)try{const x=v.includes("/assinar/"),w=x?"POST":"GET",j=x?JSON.stringify({algoritmo_assinatura:"SHA256",hash_documento:`test_hash_${Date.now()}`}):void 0,N=await fetch(`${f}${v}`,{method:w,headers:{"Content-Type":"application/json",Authorization:p?`Token ${p}`:"no-token"},body:j});if(m[v]={status:N.status,statusText:N.statusText,ok:N.ok,method:w},x&&N.ok){const S=await N.json();m[v].data=S}}catch(x){m[v]={error:x.message}}a({endpoints:m,token:p?"Token presente":"Token ausente",tokenValue:p?p.substring(0,10)+"...":"N/A"})}catch(f){l(f.message)}finally{i(!1)}};return n.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"20px",backgroundColor:"#f9f9f9"},children:[n.jsx("h3",{children:"Teste de Assinatura de Receita"}),n.jsx("div",{style:{marginBottom:"20px"},children:n.jsxs("label",{children:["ID da Receita:",n.jsx("input",{type:"text",value:e,onChange:f=>r(f.target.value),placeholder:"Digite o ID da receita",style:{marginLeft:"10px",padding:"5px"}})]})}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("button",{onClick:A,disabled:s,style:{padding:"10px 20px",marginRight:"10px",backgroundColor:"#007bff",color:"white",border:"none",cursor:s?"not-allowed":"pointer"},children:s?"Testando...":"Testar Assinatura"}),n.jsx("button",{onClick:d,disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",cursor:s?"not-allowed":"pointer"},children:s?"Testando...":"Testar Endpoints"})]}),o&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",marginBottom:"20px"},children:[n.jsx("h4",{children:"Erro:"}),n.jsx("pre",{children:JSON.stringify(o,null,2)})]}),t&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"4px"},children:[n.jsx("h4",{children:"Resultado:"}),n.jsx("pre",{children:JSON.stringify(t,null,2)})]})]})};function QJ(){const e="Trathea",[r,t]=y.useState(()=>localStorage.getItem("brand_name")||e),[a,s]=y.useState(()=>localStorage.getItem("brand_site_url")||"https://trathea.com.br"),[i,o]=y.useState(()=>Mf("brand")||null);y.useEffect(()=>{try{localStorage.setItem("brand_name",r)}catch{}},[r]),y.useEffect(()=>{try{localStorage.setItem("brand_site_url",a)}catch{}},[a]);const l=async d=>{var h;const f=(h=d.target.files)==null?void 0:h[0];if(f)try{const m=await u0("brand",f);try{const p=await ur._resolveMedicoId().catch(()=>null);p&&await u0(p,f)}catch{}o(m)}catch{}},A=y.useMemo(()=>{try{return new URL(a).href}catch{return""}},[a]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Marca"})}),n.jsx(Le,{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[i!=null&&i.data?n.jsx("img",{src:i.data,alt:"Logo",className:"h-16 w-16 object-contain rounded border"}):n.jsx("div",{className:"h-16 w-16 rounded border flex items-center justify-center text-sm",children:"Logo"}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Nome da marca"}),n.jsx(Ke,{value:r,onChange:d=>t(d.target.value),placeholder:"Trathea"})]}),n.jsxs("div",{children:[n.jsx(De,{children:"Logo"}),n.jsx(Ke,{type:"file",accept:"image/*",onChange:l})]})]})]})})]}),n.jsxs(ke,{children:[n.jsx(We,{children:n.jsx(Xe,{children:"Web View"})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(De,{children:"URL do site"}),n.jsx(Ke,{value:a,onChange:d=>s(d.target.value),placeholder:"https://exemplo.com"})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx(ye,{type:"button",onClick:()=>s(a.trim()),disabled:!a.trim(),children:"Carregar"}),A?n.jsx("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"inline-flex",children:n.jsx(ye,{type:"button",variant:"outline",children:"Abrir em nova aba"})}):null]})]}),A?n.jsxs("div",{className:"border rounded overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 border-b bg-muted/40",children:[i!=null&&i.data?n.jsx("img",{src:i.data,alt:"Logo",className:"h-6 w-6 object-contain"}):null,n.jsx("div",{className:"font-semibold",children:r}),n.jsx("div",{className:"text-xs text-muted-foreground ml-auto",children:A})]}),n.jsx("iframe",{title:"brand-webview",src:A,className:"w-full h-[70vh]"})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"Informe uma URL vlida para exibir em web view."})]})]})]})}function RJ(){return n.jsx(EL,{children:n.jsx(_L,{children:n.jsx(UU,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsxs(BU,{children:[n.jsx(Vt,{path:"/",element:n.jsx(UX,{})}),n.jsx(Vt,{path:"/login",element:n.jsx(OM,{})}),n.jsx(Vt,{path:"/registrar",element:n.jsx(HM,{})}),n.jsx(Vt,{path:"/esqueci-senha",element:n.jsx($M,{})}),n.jsx(Vt,{path:"/redefinir-senha/:uid/:token",element:n.jsx(zM,{})}),n.jsx(Vt,{path:"/receber/receita",element:n.jsx(LJ,{})}),n.jsx(Vt,{path:"/verificar/:id",element:n.jsx(IJ,{})}),n.jsx(Vt,{path:"/test-signature",element:n.jsx(PJ,{})}),n.jsx(Vt,{path:"/brand",element:n.jsx(QJ,{})}),n.jsx(Vt,{path:"/inicio",element:n.jsx(TJ,{})}),n.jsxs(Vt,{path:"/paciente",element:n.jsx($X,{children:n.jsx(NM,{})}),children:[n.jsx(Vt,{index:!0,element:n.jsx(wa,{to:"perfil",replace:!0})}),n.jsx(Vt,{path:"perfil",element:n.jsx(l9,{})}),n.jsx(Vt,{path:"prontuario",element:n.jsx(c9,{})}),n.jsx(Vt,{path:"consultas",element:n.jsx(p9,{})}),n.jsx(Vt,{path:"consultas/nova",element:n.jsx(zX,{})}),n.jsx(Vt,{path:"exames",element:n.jsx(g9,{})}),n.jsx(Vt,{path:"historico-medico",element:n.jsx(v9,{})}),n.jsx(Vt,{path:"medicos",element:n.jsx(w9,{})}),n.jsx(Vt,{path:"receitas",element:n.jsx(_9,{})}),n.jsx(Vt,{path:"configuracoes",element:n.jsx(Ow,{})})]}),n.jsxs(Vt,{path:"/medico",element:n.jsx(OX,{children:n.jsx(BM,{})}),children:[n.jsx(Vt,{index:!0,element:n.jsx(wa,{to:"dashboard",replace:!0})}),n.jsx(Vt,{path:"dashboard",element:n.jsx($Y,{})}),n.jsx(Vt,{path:"meus-pacientes",element:n.jsx(KY,{})}),n.jsx(Vt,{path:"minhas-consultas",element:n.jsx(VY,{})}),n.jsx(Vt,{path:"consultas/hoje",element:n.jsx(sX,{})}),n.jsx(Vt,{path:"paciente/:id/perfil",element:n.jsx(zY,{})}),n.jsx(Vt,{path:"paciente/:id/prontuario",element:n.jsx(qY,{})}),n.jsx(Vt,{path:"paciente/:id/exames",element:n.jsx(WY,{})}),n.jsx(Vt,{path:"paciente/:id/iniciar-consulta",element:n.jsx(GY,{})}),n.jsx(Vt,{path:"paciente/:id/consulta/resumo",element:n.jsx(uX,{})}),n.jsx(Vt,{path:"paciente/:id/receita/preview",element:n.jsx(lX,{})}),n.jsx(Vt,{path:"paciente/:id/receita/confirmacao",element:n.jsx(cX,{})}),n.jsx(Vt,{path:"configuracoes",element:n.jsx(Ow,{})})]}),n.jsxs(Vt,{path:"/clinica",element:n.jsx(HX,{children:n.jsx(zE,{})}),children:[n.jsx(Vt,{index:!0,element:n.jsx(wa,{to:"dashboard",replace:!0})}),n.jsx(Vt,{path:"dashboard",element:n.jsx(fX,{})}),n.jsx(Vt,{path:"calendario",element:n.jsx(pX,{})}),n.jsx(Vt,{path:"disponibilidade",element:n.jsx(xX,{})}),n.jsx(Vt,{path:"exames",element:n.jsx(vX,{})}),n.jsx(Vt,{path:"pacientes",element:n.jsx(wX,{})}),n.jsx(Vt,{path:"medicos",element:n.jsx(yX,{})}),n.jsx(Vt,{path:"relatorios",element:n.jsx(bX,{})}),n.jsx(Vt,{path:"configuracoes",element:n.jsx(jX,{})})]}),n.jsxs(Vt,{path:"/admin",element:n.jsx(KX,{children:n.jsx(CM,{})}),children:[n.jsx(Vt,{index:!0,element:n.jsx(wa,{to:"dashboard",replace:!0})}),n.jsx(Vt,{path:"dashboard",element:n.jsx(NX,{})}),n.jsx(Vt,{path:"solicitacoes",element:n.jsx(BX,{})}),n.jsx(Vt,{path:"solicitacoes/:id",element:n.jsx(CX,{})}),n.jsx(Vt,{path:"relatorios",element:n.jsx(FX,{})}),n.jsx(Vt,{path:"auditoria",element:n.jsx(kX,{})}),n.jsx(Vt,{path:"usuarios",element:n.jsx(qX,{})}),n.jsx(Vt,{path:"clinicas",element:n.jsx(WX,{})}),n.jsx(Vt,{path:"configuracoes",element:n.jsx(GX,{})})]}),n.jsxs(Vt,{path:"/secretaria",element:n.jsx(KM,{children:n.jsx(VM,{})}),children:[n.jsx(Vt,{index:!0,element:n.jsx(wa,{to:"dashboard",replace:!0})}),n.jsx(Vt,{path:"dashboard",element:n.jsx(YX,{})}),n.jsx(Vt,{path:"consultas",element:n.jsx(JX,{})}),n.jsx(Vt,{path:"agenda",element:n.jsx(UJ,{})}),n.jsx(Vt,{path:"pacientes",element:n.jsx(ZX,{})}),n.jsx(Vt,{path:"medicos",element:n.jsx(eJ,{})}),n.jsx(Vt,{path:"solicitacoes",element:n.jsx(N8,{})}),n.jsx(Vt,{path:"solicitacoes/:id",element:n.jsx(B8,{})}),n.jsx(Vt,{path:"configuracoes",element:n.jsx(Ow,{})})]}),n.jsx(Vt,{path:"*",element:n.jsx("div",{children:"Pgina no encontrada"})})]})})})})}function TJ(){const{isAuthenticated:e,user:r}=xl();if(!e)return n.jsx(wa,{to:"/login",replace:!0});const t=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),a=t==="admin"?"/admin/dashboard":t==="medico"?"/medico/dashboard":t==="clinica"?"/clinica/dashboard":"/paciente/perfil";return n.jsx(wa,{to:a,replace:!0})}var Cb="ToastProvider",[Sb,MJ,OJ]=rx("Toast"),[yk,RZ]=vl("Toast",[OJ]),[HJ,_x]=yk(Cb),bk=e=>{const{__scopeToast:r,label:t="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,A]=y.useState(null),[d,f]=y.useState(0),h=y.useRef(!1),m=y.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cb}\`. Expected non-empty \`string\`.`),n.jsx(Sb.Provider,{scope:r,children:n.jsx(HJ,{scope:r,label:t,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:A,onToastAdd:y.useCallback(()=>f(p=>p+1),[]),onToastRemove:y.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};bk.displayName=Cb;var jk="ToastViewport",$J=["F8"],Ay="toast.viewportPause",dy="toast.viewportResume",Nk=y.forwardRef((e,r)=>{const{__scopeToast:t,hotkey:a=$J,label:s="Notifications ({hotkey})",...i}=e,o=_x(jk,t),l=MJ(t),A=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=y.useRef(null),m=ga(r,h,o.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;y.useEffect(()=>{const w=j=>{var S;a.length!==0&&a.every(F=>j[F]||j.code===F)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[a]),y.useEffect(()=>{const w=A.current,j=h.current;if(v&&w&&j){const N=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(Ay);j.dispatchEvent(D),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(dy);j.dispatchEvent(D),o.isClosePausedRef.current=!1}},F=D=>{!w.contains(D.relatedTarget)&&S()},T=()=>{w.contains(document.activeElement)||S()};return w.addEventListener("focusin",N),w.addEventListener("focusout",F),w.addEventListener("pointermove",N),w.addEventListener("pointerleave",T),window.addEventListener("blur",N),window.addEventListener("focus",S),()=>{w.removeEventListener("focusin",N),w.removeEventListener("focusout",F),w.removeEventListener("pointermove",N),w.removeEventListener("pointerleave",T),window.removeEventListener("blur",N),window.removeEventListener("focus",S)}}},[v,o.isClosePausedRef]);const x=y.useCallback(({tabbingDirection:w})=>{const N=l().map(S=>{const F=S.ref.current,T=[F,...rZ(F)];return w==="forwards"?T:T.reverse()});return(w==="forwards"?N.reverse():N).flat()},[l]);return y.useEffect(()=>{const w=h.current;if(w){const j=N=>{var T,D,k;const S=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!S){const P=document.activeElement,E=N.shiftKey;if(N.target===w&&E){(T=d.current)==null||T.focus();return}const $=x({tabbingDirection:E?"backwards":"forwards"}),G=$.findIndex(R=>R===P);Hw($.slice(G+1))?N.preventDefault():E?(D=d.current)==null||D.focus():(k=f.current)==null||k.focus()}};return w.addEventListener("keydown",j),()=>w.removeEventListener("keydown",j)}},[l,x]),n.jsxs(DI,{ref:A,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&n.jsx(uy,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});Hw(w)}}),n.jsx(Sb.Slot,{scope:t,children:n.jsx(jr.ol,{tabIndex:-1,...i,ref:m})}),v&&n.jsx(uy,{ref:f,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});Hw(w)}})]})});Nk.displayName=jk;var Bk="ToastFocusProxy",uy=y.forwardRef((e,r)=>{const{__scopeToast:t,onFocusFromOutsideViewport:a,...s}=e,i=_x(Bk,t);return n.jsx(X0,{tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&a()}})});uy.displayName=Bk;var Om="Toast",KJ="toast.swipeStart",VJ="toast.swipeMove",zJ="toast.swipeCancel",qJ="toast.swipeEnd",Ck=y.forwardRef((e,r)=>{const{forceMount:t,open:a,defaultOpen:s,onOpenChange:i,...o}=e,[l,A]=cd({prop:a,defaultProp:s??!0,onChange:i,caller:Om});return n.jsx(oc,{present:t||l,children:n.jsx(YJ,{open:l,...o,ref:r,onClose:()=>A(!1),onPause:Bi(e.onPause),onResume:Bi(e.onResume),onSwipeStart:Ut(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ut(e.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ut(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ut(e.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),A(!1)})})})});Ck.displayName=Om;var[WJ,GJ]=yk(Om,{onClose(){}}),YJ=y.forwardRef((e,r)=>{const{__scopeToast:t,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:A,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...v}=e,x=_x(Om,t),[w,j]=y.useState(null),N=ga(r,R=>j(R)),S=y.useRef(null),F=y.useRef(null),T=s||x.duration,D=y.useRef(0),k=y.useRef(T),P=y.useRef(0),{onToastAdd:E,onToastRemove:V}=x,Q=Bi(()=>{var ee;(w==null?void 0:w.contains(document.activeElement))&&((ee=x.viewport)==null||ee.focus()),o()}),$=y.useCallback(R=>{!R||R===1/0||(window.clearTimeout(P.current),D.current=new Date().getTime(),P.current=window.setTimeout(Q,R))},[Q]);y.useEffect(()=>{const R=x.viewport;if(R){const ee=()=>{$(k.current),d==null||d()},K=()=>{const z=new Date().getTime()-D.current;k.current=k.current-z,window.clearTimeout(P.current),A==null||A()};return R.addEventListener(Ay,K),R.addEventListener(dy,ee),()=>{R.removeEventListener(Ay,K),R.removeEventListener(dy,ee)}}},[x.viewport,T,A,d,$]),y.useEffect(()=>{i&&!x.isClosePausedRef.current&&$(T)},[i,T,x.isClosePausedRef,$]),y.useEffect(()=>(E(),()=>V()),[E,V]);const G=y.useMemo(()=>w?Uk(w):null,[w]);return x.viewport?n.jsxs(n.Fragment,{children:[G&&n.jsx(XJ,{__scopeToast:t,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:G}),n.jsx(WJ,{scope:t,onClose:Q,children:Hf.createPortal(n.jsx(Sb.ItemSlot,{scope:t,children:n.jsx(kI,{asChild:!0,onEscapeKeyDown:Ut(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||Q(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(jr.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ut(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:Ut(e.onPointerDown,R=>{R.button===0&&(S.current={x:R.clientX,y:R.clientY})}),onPointerMove:Ut(e.onPointerMove,R=>{if(!S.current)return;const ee=R.clientX-S.current.x,K=R.clientY-S.current.y,z=!!F.current,X=["left","right"].includes(x.swipeDirection),ne=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,ue=X?ne(0,ee):0,_=X?0:ne(0,K),I=R.pointerType==="touch"?10:2,W={x:ue,y:_},te={originalEvent:R,delta:W};z?(F.current=W,mg(VJ,h,te,{discrete:!1})):aC(W,x.swipeDirection,I)?(F.current=W,mg(KJ,f,te,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(ee)>I||Math.abs(K)>I)&&(S.current=null)}),onPointerUp:Ut(e.onPointerUp,R=>{const ee=F.current,K=R.target;if(K.hasPointerCapture(R.pointerId)&&K.releasePointerCapture(R.pointerId),F.current=null,S.current=null,ee){const z=R.currentTarget,X={originalEvent:R,delta:ee};aC(ee,x.swipeDirection,x.swipeThreshold)?mg(qJ,p,X,{discrete:!0}):mg(zJ,m,X,{discrete:!0}),z.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),XJ=e=>{const{__scopeToast:r,children:t,...a}=e,s=_x(Om,r),[i,o]=y.useState(!1),[l,A]=y.useState(!1);return eZ(()=>o(!0)),y.useEffect(()=>{const d=window.setTimeout(()=>A(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Cm,{asChild:!0,children:n.jsx(X0,{...a,children:i&&n.jsxs(n.Fragment,{children:[s.label," ",t]})})})},JJ="ToastTitle",Sk=y.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e;return n.jsx(jr.div,{...a,ref:r})});Sk.displayName=JJ;var ZJ="ToastDescription",Ek=y.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e;return n.jsx(jr.div,{...a,ref:r})});Ek.displayName=ZJ;var _k="ToastAction",Fk=y.forwardRef((e,r)=>{const{altText:t,...a}=e;return t.trim()?n.jsx(Dk,{altText:t,asChild:!0,children:n.jsx(Eb,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${_k}\`. Expected non-empty \`string\`.`),null)});Fk.displayName=_k;var kk="ToastClose",Eb=y.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e,s=GJ(kk,t);return n.jsx(Dk,{asChild:!0,children:n.jsx(jr.button,{type:"button",...a,ref:r,onClick:Ut(e.onClick,s.onClose)})})});Eb.displayName=kk;var Dk=y.forwardRef((e,r)=>{const{__scopeToast:t,altText:a,...s}=e;return n.jsx(jr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:r})});function Uk(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),tZ(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...Uk(a))}}),r}function mg(e,r,t,{discrete:a}){const s=t.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});r&&s.addEventListener(e,r,{once:!0}),a?Sy(s,i):s.dispatchEvent(i)}var aC=(e,r,t=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return r==="left"||r==="right"?i&&a>t:!i&&s>t};function eZ(e=()=>{}){const r=Bi(e);ls(()=>{let t=0,a=0;return t=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(a)}},[r])}function tZ(e){return e.nodeType===e.ELEMENT_NODE}function rZ(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function Hw(e){const r=document.activeElement;return e.some(t=>t===r?!0:(t.focus(),document.activeElement!==r))}var aZ=bk,Lk=Nk,Ik=Ck,Pk=Sk,Qk=Ek,Rk=Fk,Tk=Eb;const nZ=aZ,Mk=y.forwardRef(({className:e,...r},t)=>n.jsx(Lk,{ref:t,className:lt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));Mk.displayName=Lk.displayName;const sZ=Q0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ok=y.forwardRef(({className:e,variant:r,...t},a)=>n.jsx(Ik,{ref:a,className:lt(sZ({variant:r}),e),...t}));Ok.displayName=Ik.displayName;const iZ=y.forwardRef(({className:e,...r},t)=>n.jsx(Rk,{ref:t,className:lt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}));iZ.displayName=Rk.displayName;const Hk=y.forwardRef(({className:e,...r},t)=>n.jsx(Tk,{ref:t,className:lt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:n.jsx(Cy,{className:"h-4 w-4"})}));Hk.displayName=Tk.displayName;const $k=y.forwardRef(({className:e,...r},t)=>n.jsx(Pk,{ref:t,className:lt("text-sm font-semibold",e),...r}));$k.displayName=Pk.displayName;const Kk=y.forwardRef(({className:e,...r},t)=>n.jsx(Qk,{ref:t,className:lt("text-sm opacity-90",e),...r}));Kk.displayName=Qk.displayName;function oZ(){const{toasts:e}=Va();return n.jsxs(nZ,{children:[e.map(({id:r,title:t,description:a,action:s,...i})=>n.jsxs(Ok,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[t&&n.jsx($k,{children:t}),a&&n.jsx(Kk,{children:a})]}),s,n.jsx(Hk,{})]},r)),n.jsx(Mk,{})]})}lC.createRoot(document.getElementById("root")).render(n.jsxs(HR,{defaultTheme:"system",storageKey:"medicinefront-theme",children:[n.jsx(RJ,{}),n.jsx(oZ,{})]}));export{La as _,Ce as a,cZ as c,iC as g};
