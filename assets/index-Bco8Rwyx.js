var UD=Object.defineProperty;var LD=(e,r,t)=>r in e?UD(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var ht=(e,r,t)=>LD(e,typeof r!="symbol"?r+"":r,t);function ID(e,r){for(var t=0;t<r.length;t++){const a=r[t];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var hZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bv={exports:{}},Eh={},Cv={exports:{}},na={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function PD(){if(O2)return na;O2=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(ee){return ee===null||typeof ee!="object"?null:(ee=h&&ee[h]||ee["@@iterator"],typeof ee=="function"?ee:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(ee,Q,q){this.props=ee,this.context=Q,this.refs=g,this.updater=q||p}y.prototype.isReactComponent={},y.prototype.setState=function(ee,Q){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,Q,"setState")},y.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function w(){}w.prototype=y.prototype;function j(ee,Q,q){this.props=ee,this.context=Q,this.refs=g,this.updater=q||p}var C=j.prototype=new w;C.constructor=j,v(C,y.prototype),C.isPureReactComponent=!0;var E=Array.isArray,U=Object.prototype.hasOwnProperty,k={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function D(ee,Q,q){var $,X={},te=null,K=null;if(Q!=null)for($ in Q.ref!==void 0&&(K=Q.ref),Q.key!==void 0&&(te=""+Q.key),Q)U.call(Q,$)&&!F.hasOwnProperty($)&&(X[$]=Q[$]);var z=arguments.length-2;if(z===1)X.children=q;else if(1<z){for(var se=Array(z),fe=0;fe<z;fe++)se[fe]=arguments[fe+2];X.children=se}if(ee&&ee.defaultProps)for($ in z=ee.defaultProps,z)X[$]===void 0&&(X[$]=z[$]);return{$$typeof:e,type:ee,key:te,ref:K,props:X,_owner:k.current}}function _(ee,Q){return{$$typeof:e,type:ee.type,key:Q,ref:ee.ref,props:ee.props,_owner:ee._owner}}function G(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===e}function L(ee){var Q={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(q){return Q[q]})}var T=/\/+/g;function J(ee,Q){return typeof ee=="object"&&ee!==null&&ee.key!=null?L(""+ee.key):Q.toString(36)}function R(ee,Q,q,$,X){var te=typeof ee;(te==="undefined"||te==="boolean")&&(ee=null);var K=!1;if(ee===null)K=!0;else switch(te){case"string":case"number":K=!0;break;case"object":switch(ee.$$typeof){case e:case r:K=!0}}if(K)return K=ee,X=X(K),ee=$===""?"."+J(K,0):$,E(X)?(q="",ee!=null&&(q=ee.replace(T,"$&/")+"/"),R(X,Q,q,"",function(fe){return fe})):X!=null&&(G(X)&&(X=_(X,q+(!X.key||K&&K.key===X.key?"":(""+X.key).replace(T,"$&/")+"/")+ee)),Q.push(X)),1;if(K=0,$=$===""?".":$+":",E(ee))for(var z=0;z<ee.length;z++){te=ee[z];var se=$+J(te,z);K+=R(te,Q,q,se,X)}else if(se=m(ee),typeof se=="function")for(ee=se.call(ee),z=0;!(te=ee.next()).done;)te=te.value,se=$+J(te,z++),K+=R(te,Q,q,se,X);else if(te==="object")throw Q=String(ee),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return K}function re(ee,Q,q){if(ee==null)return ee;var $=[],X=0;return R(ee,$,"","",function(te){return Q.call(q,te,X++)}),$}function V(ee){if(ee._status===-1){var Q=ee._result;Q=Q(),Q.then(function(q){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=q)},function(q){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=q)}),ee._status===-1&&(ee._status=0,ee._result=Q)}if(ee._status===1)return ee._result.default;throw ee._result}var Y={current:null},H={transition:null},Z={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:H,ReactCurrentOwner:k};function Ae(){throw Error("act(...) is not supported in production builds of React.")}return na.Children={map:re,forEach:function(ee,Q,q){re(ee,function(){Q.apply(this,arguments)},q)},count:function(ee){var Q=0;return re(ee,function(){Q++}),Q},toArray:function(ee){return re(ee,function(Q){return Q})||[]},only:function(ee){if(!G(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},na.Component=y,na.Fragment=t,na.Profiler=s,na.PureComponent=j,na.StrictMode=a,na.Suspense=A,na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,na.act=Ae,na.cloneElement=function(ee,Q,q){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var $=v({},ee.props),X=ee.key,te=ee.ref,K=ee._owner;if(Q!=null){if(Q.ref!==void 0&&(te=Q.ref,K=k.current),Q.key!==void 0&&(X=""+Q.key),ee.type&&ee.type.defaultProps)var z=ee.type.defaultProps;for(se in Q)U.call(Q,se)&&!F.hasOwnProperty(se)&&($[se]=Q[se]===void 0&&z!==void 0?z[se]:Q[se])}var se=arguments.length-2;if(se===1)$.children=q;else if(1<se){z=Array(se);for(var fe=0;fe<se;fe++)z[fe]=arguments[fe+2];$.children=z}return{$$typeof:e,type:ee.type,key:X,ref:te,props:$,_owner:K}},na.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:i,_context:ee},ee.Consumer=ee},na.createElement=D,na.createFactory=function(ee){var Q=D.bind(null,ee);return Q.type=ee,Q},na.createRef=function(){return{current:null}},na.forwardRef=function(ee){return{$$typeof:l,render:ee}},na.isValidElement=G,na.lazy=function(ee){return{$$typeof:f,_payload:{_status:-1,_result:ee},_init:V}},na.memo=function(ee,Q){return{$$typeof:d,type:ee,compare:Q===void 0?null:Q}},na.startTransition=function(ee){var Q=H.transition;H.transition={};try{ee()}finally{H.transition=Q}},na.unstable_act=Ae,na.useCallback=function(ee,Q){return Y.current.useCallback(ee,Q)},na.useContext=function(ee){return Y.current.useContext(ee)},na.useDebugValue=function(){},na.useDeferredValue=function(ee){return Y.current.useDeferredValue(ee)},na.useEffect=function(ee,Q){return Y.current.useEffect(ee,Q)},na.useId=function(){return Y.current.useId()},na.useImperativeHandle=function(ee,Q,q){return Y.current.useImperativeHandle(ee,Q,q)},na.useInsertionEffect=function(ee,Q){return Y.current.useInsertionEffect(ee,Q)},na.useLayoutEffect=function(ee,Q){return Y.current.useLayoutEffect(ee,Q)},na.useMemo=function(ee,Q){return Y.current.useMemo(ee,Q)},na.useReducer=function(ee,Q,q){return Y.current.useReducer(ee,Q,q)},na.useRef=function(ee){return Y.current.useRef(ee)},na.useState=function(ee){return Y.current.useState(ee)},na.useSyncExternalStore=function(ee,Q,q){return Y.current.useSyncExternalStore(ee,Q,q)},na.useTransition=function(){return Y.current.useTransition()},na.version="18.3.1",na}var H2;function Q0(){return H2||(H2=1,Cv.exports=PD()),Cv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function QD(){if($2)return Eh;$2=1;var e=Q0(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,A,d){var f,h={},m=null,p=null;d!==void 0&&(m=""+d),A.key!==void 0&&(m=""+A.key),A.ref!==void 0&&(p=A.ref);for(f in A)a.call(A,f)&&!i.hasOwnProperty(f)&&(h[f]=A[f]);if(l&&l.defaultProps)for(f in A=l.defaultProps,A)h[f]===void 0&&(h[f]=A[f]);return{$$typeof:r,type:l,key:m,ref:p,props:h,_owner:s.current}}return Eh.Fragment=t,Eh.jsx=o,Eh.jsxs=o,Eh}var K2;function RD(){return K2||(K2=1,Bv.exports=QD()),Bv.exports}var n=RD(),Cp={},Sv={exports:{}},Hi={},_v={exports:{}},Ev={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2;function MD(){return V2||(V2=1,(function(e){function r(H,Z){var Ae=H.length;H.push(Z);e:for(;0<Ae;){var ee=Ae-1>>>1,Q=H[ee];if(0<s(Q,Z))H[ee]=Z,H[Ae]=Q,Ae=ee;else break e}}function t(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var Z=H[0],Ae=H.pop();if(Ae!==Z){H[0]=Ae;e:for(var ee=0,Q=H.length,q=Q>>>1;ee<q;){var $=2*(ee+1)-1,X=H[$],te=$+1,K=H[te];if(0>s(X,Ae))te<Q&&0>s(K,X)?(H[ee]=K,H[te]=Ae,ee=te):(H[ee]=X,H[$]=Ae,ee=$);else if(te<Q&&0>s(K,Ae))H[ee]=K,H[te]=Ae,ee=te;else break e}}return Z}function s(H,Z){var Ae=H.sortIndex-Z.sortIndex;return Ae!==0?Ae:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var A=[],d=[],f=1,h=null,m=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var Z=t(d);Z!==null;){if(Z.callback===null)a(d);else if(Z.startTime<=H)a(d),Z.sortIndex=Z.expirationTime,r(A,Z);else break;Z=t(d)}}function E(H){if(g=!1,C(H),!v)if(t(A)!==null)v=!0,V(U);else{var Z=t(d);Z!==null&&Y(E,Z.startTime-H)}}function U(H,Z){v=!1,g&&(g=!1,w(D),D=-1),p=!0;var Ae=m;try{for(C(Z),h=t(A);h!==null&&(!(h.expirationTime>Z)||H&&!L());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,m=h.priorityLevel;var Q=ee(h.expirationTime<=Z);Z=e.unstable_now(),typeof Q=="function"?h.callback=Q:h===t(A)&&a(A),C(Z)}else a(A);h=t(A)}if(h!==null)var q=!0;else{var $=t(d);$!==null&&Y(E,$.startTime-Z),q=!1}return q}finally{h=null,m=Ae,p=!1}}var k=!1,F=null,D=-1,_=5,G=-1;function L(){return!(e.unstable_now()-G<_)}function T(){if(F!==null){var H=e.unstable_now();G=H;var Z=!0;try{Z=F(!0,H)}finally{Z?J():(k=!1,F=null)}}else k=!1}var J;if(typeof j=="function")J=function(){j(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,re=R.port2;R.port1.onmessage=T,J=function(){re.postMessage(null)}}else J=function(){y(T,0)};function V(H){F=H,k||(k=!0,J())}function Y(H,Z){D=y(function(){H(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,V(U))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return t(A)},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var Ae=m;m=Z;try{return H()}finally{m=Ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Ae=m;m=H;try{return Z()}finally{m=Ae}},e.unstable_scheduleCallback=function(H,Z,Ae){var ee=e.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?ee+Ae:ee):Ae=ee,H){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Ae+Q,H={id:f++,callback:Z,priorityLevel:H,startTime:Ae,expirationTime:Q,sortIndex:-1},Ae>ee?(H.sortIndex=Ae,r(d,H),t(A)===null&&H===t(d)&&(g?(w(D),D=-1):g=!0,Y(E,Ae-ee))):(H.sortIndex=Q,r(A,H),v||p||(v=!0,V(U))),H},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(H){var Z=m;return function(){var Ae=m;m=Z;try{return H.apply(this,arguments)}finally{m=Ae}}}})(Ev)),Ev}var z2;function TD(){return z2||(z2=1,_v.exports=MD()),_v.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q2;function OD(){if(q2)return Hi;q2=1;var e=Q0(),r=TD();function t(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(c,u){o(c,u),o(c+"Capture",u)}function o(c,u){for(s[c]=u,c=0;c<u.length;c++)a.add(u[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(c){return A.call(h,c)?!0:A.call(f,c)?!1:d.test(c)?h[c]=!0:(f[c]=!0,!1)}function p(c,u,x,B){if(x!==null&&x.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return B?!1:x!==null?!x.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function v(c,u,x,B){if(u===null||typeof u>"u"||p(c,u,x,B))return!0;if(B)return!1;if(x!==null)switch(x.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function g(c,u,x,B,P,O,oe){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=B,this.attributeNamespace=P,this.mustUseProperty=x,this.propertyName=c,this.type=u,this.sanitizeURL=O,this.removeEmptyString=oe}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){y[c]=new g(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];y[u]=new g(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){y[c]=new g(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){y[c]=new g(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){y[c]=new g(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){y[c]=new g(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){y[c]=new g(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){y[c]=new g(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){y[c]=new g(c,5,!1,c.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function j(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(w,j);y[u]=new g(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(w,j);y[u]=new g(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(w,j);y[u]=new g(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){y[c]=new g(c,1,!1,c.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){y[c]=new g(c,1,!1,c.toLowerCase(),null,!0,!0)});function C(c,u,x,B){var P=y.hasOwnProperty(u)?y[u]:null;(P!==null?P.type!==0:B||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(v(u,x,P,B)&&(x=null),B||P===null?m(u)&&(x===null?c.removeAttribute(u):c.setAttribute(u,""+x)):P.mustUseProperty?c[P.propertyName]=x===null?P.type===3?!1:"":x:(u=P.attributeName,B=P.attributeNamespace,x===null?c.removeAttribute(u):(P=P.type,x=P===3||P===4&&x===!0?"":""+x,B?c.setAttributeNS(B,u,x):c.setAttribute(u,x))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),k=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),L=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),H=Symbol.iterator;function Z(c){return c===null||typeof c!="object"?null:(c=H&&c[H]||c["@@iterator"],typeof c=="function"?c:null)}var Ae=Object.assign,ee;function Q(c){if(ee===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);ee=u&&u[1]||""}return`
`+ee+c}var q=!1;function $(c,u){if(!c||q)return"";q=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Me){var B=Me}Reflect.construct(c,[],u)}else{try{u.call()}catch(Me){B=Me}c.call(u.prototype)}else{try{throw Error()}catch(Me){B=Me}c()}}catch(Me){if(Me&&B&&typeof Me.stack=="string"){for(var P=Me.stack.split(`
`),O=B.stack.split(`
`),oe=P.length-1,ge=O.length-1;1<=oe&&0<=ge&&P[oe]!==O[ge];)ge--;for(;1<=oe&&0<=ge;oe--,ge--)if(P[oe]!==O[ge]){if(oe!==1||ge!==1)do if(oe--,ge--,0>ge||P[oe]!==O[ge]){var je=`
`+P[oe].replace(" at new "," at ");return c.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",c.displayName)),je}while(1<=oe&&0<=ge);break}}}finally{q=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?Q(c):""}function X(c){switch(c.tag){case 5:return Q(c.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return c=$(c.type,!1),c;case 11:return c=$(c.type.render,!1),c;case 1:return c=$(c.type,!0),c;default:return""}}function te(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case F:return"Fragment";case k:return"Portal";case _:return"Profiler";case D:return"StrictMode";case J:return"Suspense";case R:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case L:return(c.displayName||"Context")+".Consumer";case G:return(c._context.displayName||"Context")+".Provider";case T:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case re:return u=c.displayName||null,u!==null?u:te(c.type)||"Memo";case V:u=c._payload,c=c._init;try{return te(c(u))}catch{}}return null}function K(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(u);case 8:return u===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function z(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function se(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function fe(c){var u=se(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),B=""+c[u];if(!c.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var P=x.get,O=x.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return P.call(this)},set:function(oe){B=""+oe,O.call(this,oe)}}),Object.defineProperty(c,u,{enumerable:x.enumerable}),{getValue:function(){return B},setValue:function(oe){B=""+oe},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function be(c){c._valueTracker||(c._valueTracker=fe(c))}function Be(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var x=u.getValue(),B="";return c&&(B=se(c)?c.checked?"true":"false":c.value),c=B,c!==x?(u.setValue(c),!0):!1}function Qe(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function xe(c,u){var x=u.checked;return Ae({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??c._wrapperState.initialChecked})}function ie(c,u){var x=u.defaultValue==null?"":u.defaultValue,B=u.checked!=null?u.checked:u.defaultChecked;x=z(u.value!=null?u.value:x),c._wrapperState={initialChecked:B,initialValue:x,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function at(c,u){u=u.checked,u!=null&&C(c,"checked",u,!1)}function gt(c,u){at(c,u);var x=z(u.value),B=u.type;if(x!=null)B==="number"?(x===0&&c.value===""||c.value!=x)&&(c.value=""+x):c.value!==""+x&&(c.value=""+x);else if(B==="submit"||B==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?Ee(c,u.type,x):u.hasOwnProperty("defaultValue")&&Ee(c,u.type,z(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function it(c,u,x){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var B=u.type;if(!(B!=="submit"&&B!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,x||u===c.value||(c.value=u),c.defaultValue=u}x=c.name,x!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,x!==""&&(c.name=x)}function Ee(c,u,x){(u!=="number"||Qe(c.ownerDocument)!==c)&&(x==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+x&&(c.defaultValue=""+x))}var dt=Array.isArray;function ct(c,u,x,B){if(c=c.options,u){u={};for(var P=0;P<x.length;P++)u["$"+x[P]]=!0;for(x=0;x<c.length;x++)P=u.hasOwnProperty("$"+c[x].value),c[x].selected!==P&&(c[x].selected=P),P&&B&&(c[x].defaultSelected=!0)}else{for(x=""+z(x),u=null,P=0;P<c.length;P++){if(c[P].value===x){c[P].selected=!0,B&&(c[P].defaultSelected=!0);return}u!==null||c[P].disabled||(u=c[P])}u!==null&&(u.selected=!0)}}function Wt(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return Ae({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Et(c,u){var x=u.value;if(x==null){if(x=u.children,u=u.defaultValue,x!=null){if(u!=null)throw Error(t(92));if(dt(x)){if(1<x.length)throw Error(t(93));x=x[0]}u=x}u==null&&(u=""),x=u}c._wrapperState={initialValue:z(x)}}function Ut(c,u){var x=z(u.value),B=z(u.defaultValue);x!=null&&(x=""+x,x!==c.value&&(c.value=x),u.defaultValue==null&&c.defaultValue!==x&&(c.defaultValue=x)),B!=null&&(c.defaultValue=""+B)}function Mt(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function Gt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lt(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?Gt(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var _t,wt=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,x,B,P){MSApp.execUnsafeLocalFunction(function(){return c(u,x,B,P)})}:c})(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for(_t=_t||document.createElement("div"),_t.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=_t.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function Bt(c,u){if(u){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=u;return}}c.textContent=u}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Na=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(c){Na.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),St[u]=St[c]})});function Hr(c,u,x){return u==null||typeof u=="boolean"||u===""?"":x||typeof u!="number"||u===0||St.hasOwnProperty(c)&&St[c]?(""+u).trim():u+"px"}function Yt(c,u){c=c.style;for(var x in u)if(u.hasOwnProperty(x)){var B=x.indexOf("--")===0,P=Hr(x,u[x],B);x==="float"&&(x="cssFloat"),B?c.setProperty(x,P):c[x]=P}}var Nr=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(c,u){if(u){if(Nr[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function yt(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yr=null;function ur(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ba=null,ka=null,Ze=null;function Ye(c){if(c=DA(c)){if(typeof Ba!="function")throw Error(t(280));var u=c.stateNode;u&&(u=Md(u),Ba(c.stateNode,c.type,u))}}function nt(c){ka?Ze?Ze.push(c):Ze=[c]:ka=c}function Er(){if(ka){var c=ka,u=Ze;if(Ze=ka=null,Ye(c),u)for(c=0;c<u.length;c++)Ye(u[c])}}function vt(c,u){return c(u)}function ar(){}var ca=!1;function tr(c,u,x){if(ca)return c(u,x);ca=!0;try{return vt(c,u,x)}finally{ca=!1,(ka!==null||Ze!==null)&&(ar(),Er())}}function Bn(c,u){var x=c.stateNode;if(x===null)return null;var B=Md(x);if(B===null)return null;x=B[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(B=!B.disabled)||(c=c.type,B=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!B;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(t(231,u,typeof x));return x}var gs=!1;if(l)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){gs=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{gs=!1}function ss(c,u,x,B,P,O,oe,ge,je){var Me=Array.prototype.slice.call(arguments,3);try{u.apply(x,Me)}catch(ft){this.onError(ft)}}var ut=!1,za=null,Xa=!1,js=null,fi={onError:function(c){ut=!0,za=c}};function Ja(c,u,x,B,P,O,oe,ge,je){ut=!1,za=null,ss.apply(fi,arguments)}function He(c,u,x,B,P,O,oe,ge,je){if(Ja.apply(this,arguments),ut){if(ut){var Me=za;ut=!1,za=null}else throw Error(t(198));Xa||(Xa=!0,js=Me)}}function Je(c){var u=c,x=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(x=u.return),c=u.return;while(c)}return u.tag===3?x:null}function Ct(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function st(c){if(Je(c)!==c)throw Error(t(188))}function Tt(c){var u=c.alternate;if(!u){if(u=Je(c),u===null)throw Error(t(188));return u!==c?null:c}for(var x=c,B=u;;){var P=x.return;if(P===null)break;var O=P.alternate;if(O===null){if(B=P.return,B!==null){x=B;continue}break}if(P.child===O.child){for(O=P.child;O;){if(O===x)return st(P),c;if(O===B)return st(P),u;O=O.sibling}throw Error(t(188))}if(x.return!==B.return)x=P,B=O;else{for(var oe=!1,ge=P.child;ge;){if(ge===x){oe=!0,x=P,B=O;break}if(ge===B){oe=!0,B=P,x=O;break}ge=ge.sibling}if(!oe){for(ge=O.child;ge;){if(ge===x){oe=!0,x=O,B=P;break}if(ge===B){oe=!0,B=O,x=P;break}ge=ge.sibling}if(!oe)throw Error(t(189))}}if(x.alternate!==B)throw Error(t(190))}if(x.tag!==3)throw Error(t(188));return x.stateNode.current===x?c:u}function mr(c){return c=Tt(c),c!==null?Ot(c):null}function Ot(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=Ot(c);if(u!==null)return u;c=c.sibling}return null}var Dr=r.unstable_scheduleCallback,$r=r.unstable_cancelCallback,Vt=r.unstable_shouldYield,Ur=r.unstable_requestPaint,zt=r.unstable_now,ta=r.unstable_getCurrentPriorityLevel,hr=r.unstable_ImmediatePriority,fr=r.unstable_UserBlockingPriority,Pt=r.unstable_NormalPriority,Kr=r.unstable_LowPriority,ra=r.unstable_IdlePriority,tn=null,rn=null;function Wo(c){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(tn,c,void 0,(c.current.flags&128)===128)}catch{}}var Ca=Math.clz32?Math.clz32:wc,Go=Math.log,ln=Math.LN2;function wc(c){return c>>>=0,c===0?32:31-(Go(c)/ln|0)|0}var yo=64,pt=4194304;function qe(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Gr(c,u){var x=c.pendingLanes;if(x===0)return 0;var B=0,P=c.suspendedLanes,O=c.pingedLanes,oe=x&268435455;if(oe!==0){var ge=oe&~P;ge!==0?B=qe(ge):(O&=oe,O!==0&&(B=qe(O)))}else oe=x&~P,oe!==0?B=qe(oe):O!==0&&(B=qe(O));if(B===0)return 0;if(u!==0&&u!==B&&(u&P)===0&&(P=B&-B,O=u&-u,P>=O||P===16&&(O&4194240)!==0))return u;if((B&4)!==0&&(B|=x&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=B;0<u;)x=31-Ca(u),P=1<<x,B|=c[x],u&=~P;return B}function bt(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sa(c,u){for(var x=c.suspendedLanes,B=c.pingedLanes,P=c.expirationTimes,O=c.pendingLanes;0<O;){var oe=31-Ca(O),ge=1<<oe,je=P[oe];je===-1?((ge&x)===0||(ge&B)!==0)&&(P[oe]=bt(ge,u)):je<=u&&(c.expiredLanes|=ge),O&=~ge}}function pa(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Cn(){var c=yo;return yo<<=1,(yo&4194240)===0&&(yo=64),c}function Yr(c){for(var u=[],x=0;31>x;x++)u.push(c);return u}function cn(c,u,x){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-Ca(u),c[u]=x}function Sa(c,u){var x=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var B=c.eventTimes;for(c=c.expirationTimes;0<x;){var P=31-Ca(x),O=1<<P;u[P]=0,B[P]=-1,c[P]=-1,x&=~O}}function Yi(c,u){var x=c.entangledLanes|=u;for(c=c.entanglements;x;){var B=31-Ca(x),P=1<<B;P&u|c[B]&u&&(c[B]|=u),x&=~P}}var Aa=0;function pn(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var gA,bd,ku,Du,xA,Yo=!1,Xi=[],bo=null,Vs=null,Ei=null,br=new Map,yc=new Map,No=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uu(c,u){switch(c){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":br.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(u.pointerId)}}function hi(c,u,x,B,P,O){return c===null||c.nativeEvent!==O?(c={blockedOn:u,domEventName:x,eventSystemFlags:B,nativeEvent:O,targetContainers:[P]},u!==null&&(u=DA(u),u!==null&&bd(u)),c):(c.eventSystemFlags|=B,u=c.targetContainers,P!==null&&u.indexOf(P)===-1&&u.push(P),c)}function Xo(c,u,x,B,P){switch(u){case"focusin":return bo=hi(bo,c,u,x,B,P),!0;case"dragenter":return Vs=hi(Vs,c,u,x,B,P),!0;case"mouseover":return Ei=hi(Ei,c,u,x,B,P),!0;case"pointerover":var O=P.pointerId;return br.set(O,hi(br.get(O)||null,c,u,x,B,P)),!0;case"gotpointercapture":return O=P.pointerId,yc.set(O,hi(yc.get(O)||null,c,u,x,B,P)),!0}return!1}function Lu(c){var u=Ml(c.target);if(u!==null){var x=Je(u);if(x!==null){if(u=x.tag,u===13){if(u=Ct(x),u!==null){c.blockedOn=u,xA(c.priority,function(){ku(x)});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function vA(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var x=Nc(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(x===null){x=c.nativeEvent;var B=new x.constructor(x.type,x);yr=B,x.target.dispatchEvent(B),yr=null}else return u=DA(x),u!==null&&bd(u),c.blockedOn=x,!1;u.shift()}return!0}function bc(c,u,x){vA(c)&&x.delete(u)}function Nd(){Yo=!1,bo!==null&&vA(bo)&&(bo=null),Vs!==null&&vA(Vs)&&(Vs=null),Ei!==null&&vA(Ei)&&(Ei=null),br.forEach(bc),yc.forEach(bc)}function Ji(c,u){c.blockedOn===u&&(c.blockedOn=null,Yo||(Yo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nd)))}function jo(c){function u(P){return Ji(P,c)}if(0<Xi.length){Ji(Xi[0],c);for(var x=1;x<Xi.length;x++){var B=Xi[x];B.blockedOn===c&&(B.blockedOn=null)}}for(bo!==null&&Ji(bo,c),Vs!==null&&Ji(Vs,c),Ei!==null&&Ji(Ei,c),br.forEach(u),yc.forEach(u),x=0;x<No.length;x++)B=No[x],B.blockedOn===c&&(B.blockedOn=null);for(;0<No.length&&(x=No[0],x.blockedOn===null);)Lu(x),x.blockedOn===null&&No.shift()}var Zi=E.ReactCurrentBatchConfig,wA=!0;function jd(c,u,x,B){var P=Aa,O=Zi.transition;Zi.transition=null;try{Aa=1,Jo(c,u,x,B)}finally{Aa=P,Zi.transition=O}}function Bd(c,u,x,B){var P=Aa,O=Zi.transition;Zi.transition=null;try{Aa=4,Jo(c,u,x,B)}finally{Aa=P,Zi.transition=O}}function Jo(c,u,x,B){if(wA){var P=Nc(c,u,x,B);if(P===null)Pd(c,u,B,Bo,x),Uu(c,B);else if(Xo(P,c,u,x,B))B.stopPropagation();else if(Uu(c,B),u&4&&-1<nh.indexOf(c)){for(;P!==null;){var O=DA(P);if(O!==null&&gA(O),O=Nc(c,u,x,B),O===null&&Pd(c,u,B,Bo,x),O===P)break;P=O}P!==null&&B.stopPropagation()}else Pd(c,u,B,null,x)}}var Bo=null;function Nc(c,u,x,B){if(Bo=null,c=ur(B),c=Ml(c),c!==null)if(u=Je(c),u===null)c=null;else if(x=u.tag,x===13){if(c=Ct(u),c!==null)return c;c=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return Bo=c,null}function jc(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ta()){case hr:return 1;case fr:return 4;case Pt:case Kr:return 16;case ra:return 536870912;default:return 16}default:return 16}}var Fi=null,Zo=null,Bc=null;function Cd(){if(Bc)return Bc;var c,u=Zo,x=u.length,B,P="value"in Fi?Fi.value:Fi.textContent,O=P.length;for(c=0;c<x&&u[c]===P[c];c++);var oe=x-c;for(B=1;B<=oe&&u[x-B]===P[O-B];B++);return Bc=P.slice(c,1<B?1-B:void 0)}function ki(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function Di(){return!0}function Sd(){return!1}function Bs(c){function u(x,B,P,O,oe){this._reactName=x,this._targetInst=P,this.type=B,this.nativeEvent=O,this.target=oe,this.currentTarget=null;for(var ge in c)c.hasOwnProperty(ge)&&(x=c[ge],this[ge]=x?x(O):O[ge]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Di:Sd,this.isPropagationStopped=Sd,this}return Ae(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),u}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yA=Bs(Ui),I=Ae({},Ui,{view:0,detail:0}),ne=Bs(I),pe,ye,_e,Xe=Ae({},I,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==_e&&(_e&&c.type==="mousemove"?(pe=c.screenX-_e.screenX,ye=c.screenY-_e.screenY):ye=pe=0,_e=c),pe)},movementY:function(c){return"movementY"in c?c.movementY:ye}}),ot=Bs(Xe),Xt=Ae({},Xe,{dataTransfer:0}),nr=Bs(Xt),Cr=Ae({},I,{relatedTarget:0}),Sr=Bs(Cr),ga=Ae({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),An=Bs(ga),In=Ae({},Ui,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),qa=Bs(In),Vn=Ae({},Ui,{data:0}),Sn=Bs(Vn),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Li={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=zs[c])?!!u[c]:!1}function Fl(){return Iu}var Cc=Ae({},I,{key:function(c){if(c.key){var u=xs[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=ki(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Li[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fl,charCode:function(c){return c.type==="keypress"?ki(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ki(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),kl=Bs(Cc),Sc=Ae({},Xe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Bs(Sc),_c=Ae({},I,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fl}),Cs=Bs(_c),Ec=Ae({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fc=Bs(Ec),_d=Ae({},Xe,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Ed=Bs(_d),gn=[9,13,27,32],eo=l&&"CompositionEvent"in window,Co=null;l&&"documentMode"in document&&(Co=document.documentMode);var Pu=l&&"TextEvent"in window&&!Co,mi=l&&(!eo||Co&&8<Co&&11>=Co),Ul=" ",bA=!1;function NA(c,u){switch(c){case"keyup":return gn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ii=!1;function pi(c,u){switch(c){case"compositionend":return el(u);case"keypress":return u.which!==32?null:(bA=!0,Ul);case"textInput":return c=u.data,c===Ul&&bA?null:c;default:return null}}function gi(c,u){if(Ii)return c==="compositionend"||!eo&&NA(c,u)?(c=Cd(),Bc=Zo=Fi=null,Ii=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return mi&&u.locale!=="ko"?null:u.data;default:return null}}var Ll={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function So(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!Ll[c.type]:u==="textarea"}function tl(c,u,x,B){nt(B),u=Ou(u,"onChange"),0<u.length&&(x=new yA("onChange","change",null,x,B),c.push({event:x,listeners:u}))}var rl=null,_o=null;function _n(c){Ld(c,0)}function kc(c){var u=Oc(c);if(Be(u))return c}function Eo(c,u){if(c==="change")return u}var to=!1;if(l){var Dc;if(l){var Uc="oninput"in document;if(!Uc){var jA=document.createElement("div");jA.setAttribute("oninput","return;"),Uc=typeof jA.oninput=="function"}Dc=Uc}else Dc=!1;to=Dc&&(!document.documentMode||9<document.documentMode)}function BA(){rl&&(rl.detachEvent("onpropertychange",al),_o=rl=null)}function al(c){if(c.propertyName==="value"&&kc(_o)){var u=[];tl(u,_o,c,ur(c)),tr(_n,u)}}function Il(c,u,x){c==="focusin"?(BA(),rl=u,_o=x,rl.attachEvent("onpropertychange",al)):c==="focusout"&&BA()}function Pl(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return kc(_o)}function Lc(c,u){if(c==="click")return kc(u)}function Ql(c,u){if(c==="input"||c==="change")return kc(u)}function Ic(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var xn=typeof Object.is=="function"?Object.is:Ic;function qs(c,u){if(xn(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var x=Object.keys(c),B=Object.keys(u);if(x.length!==B.length)return!1;for(B=0;B<x.length;B++){var P=x[B];if(!A.call(u,P)||!xn(c[P],u[P]))return!1}return!0}function xa(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Da(c,u){var x=xa(c);c=0;for(var B;x;){if(x.nodeType===3){if(B=c+x.textContent.length,c<=u&&B>=u)return{node:x,offset:u-c};c=B}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=xa(x)}}function vn(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?vn(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function Pn(){for(var c=window,u=Qe();u instanceof c.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)c=u.contentWindow;else break;u=Qe(c.document)}return u}function ro(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function Fd(c){var u=Pn(),x=c.focusedElem,B=c.selectionRange;if(u!==x&&x&&x.ownerDocument&&vn(x.ownerDocument.documentElement,x)){if(B!==null&&ro(x)){if(u=B.start,c=B.end,c===void 0&&(c=u),"selectionStart"in x)x.selectionStart=u,x.selectionEnd=Math.min(c,x.value.length);else if(c=(u=x.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var P=x.textContent.length,O=Math.min(B.start,P);B=B.end===void 0?O:Math.min(B.end,P),!c.extend&&O>B&&(P=B,B=O,O=P),P=Da(x,O);var oe=Da(x,B);P&&oe&&(c.rangeCount!==1||c.anchorNode!==P.node||c.anchorOffset!==P.offset||c.focusNode!==oe.node||c.focusOffset!==oe.offset)&&(u=u.createRange(),u.setStart(P.node,P.offset),c.removeAllRanges(),O>B?(c.addRange(u),c.extend(oe.node,oe.offset)):(u.setEnd(oe.node,oe.offset),c.addRange(u)))}}for(u=[],c=x;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<u.length;x++)c=u[x],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var CA=l&&"documentMode"in document&&11>=document.documentMode,nl=null,Qu=null,SA=null,Ru=!1;function sh(c,u,x){var B=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Ru||nl==null||nl!==Qe(B)||(B=nl,"selectionStart"in B&&ro(B)?B={start:B.selectionStart,end:B.selectionEnd}:(B=(B.ownerDocument&&B.ownerDocument.defaultView||window).getSelection(),B={anchorNode:B.anchorNode,anchorOffset:B.anchorOffset,focusNode:B.focusNode,focusOffset:B.focusOffset}),SA&&qs(SA,B)||(SA=B,B=Ou(Qu,"onSelect"),0<B.length&&(u=new yA("onSelect","select",null,u,x),c.push({event:u,listeners:B}),u.target=nl)))}function kd(c,u){var x={};return x[c.toLowerCase()]=u.toLowerCase(),x["Webkit"+c]="webkit"+u,x["Moz"+c]="moz"+u,x}var Pc={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionend:kd("Transition","TransitionEnd")},Qc={},ih={};l&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete Pc.animationend.animation,delete Pc.animationiteration.animation,delete Pc.animationstart.animation),"TransitionEvent"in window||delete Pc.transitionend.transition);function Dd(c){if(Qc[c])return Qc[c];if(!Pc[c])return c;var u=Pc[c],x;for(x in u)if(u.hasOwnProperty(x)&&x in ih)return Qc[c]=u[x];return c}var oh=Dd("animationend"),lh=Dd("animationiteration"),ch=Dd("animationstart"),Ah=Dd("transitionend"),dh=new Map,uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(c,u){dh.set(c,u),i(u,[c])}for(var _A=0;_A<uh.length;_A++){var Ps=uh[_A],Pi=Ps.toLowerCase(),Mu=Ps[0].toUpperCase()+Ps.slice(1);Fo(Pi,"on"+Mu)}Fo(oh,"onAnimationEnd"),Fo(lh,"onAnimationIteration"),Fo(ch,"onAnimationStart"),Fo("dblclick","onDoubleClick"),Fo("focusin","onFocus"),Fo("focusout","onBlur"),Fo(Ah,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function Ud(c,u,x){var B=c.type||"unknown-event";c.currentTarget=x,He(B,u,void 0,c),c.currentTarget=null}function Ld(c,u){u=(u&4)!==0;for(var x=0;x<c.length;x++){var B=c[x],P=B.event;B=B.listeners;e:{var O=void 0;if(u)for(var oe=B.length-1;0<=oe;oe--){var ge=B[oe],je=ge.instance,Me=ge.currentTarget;if(ge=ge.listener,je!==O&&P.isPropagationStopped())break e;Ud(P,ge,Me),O=je}else for(oe=0;oe<B.length;oe++){if(ge=B[oe],je=ge.instance,Me=ge.currentTarget,ge=ge.listener,je!==O&&P.isPropagationStopped())break e;Ud(P,ge,Me),O=je}}}if(Xa)throw c=js,Xa=!1,js=null,c}function Ra(c,u){var x=u[Gs];x===void 0&&(x=u[Gs]=new Set);var B=c+"__bubble";x.has(B)||(Id(u,c,2,!1),x.add(B))}function Tu(c,u,x){var B=0;u&&(B|=4),Id(x,c,B,u)}var EA="_reactListening"+Math.random().toString(36).slice(2);function Rc(c){if(!c[EA]){c[EA]=!0,a.forEach(function(x){x!=="selectionchange"&&(zm.has(x)||Tu(x,!1,c),Tu(x,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[EA]||(u[EA]=!0,Tu("selectionchange",!1,u))}}function Id(c,u,x,B){switch(jc(u)){case 1:var P=jd;break;case 4:P=Bd;break;default:P=Jo}x=P.bind(null,u,x,c),P=void 0,!gs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(P=!0),B?P!==void 0?c.addEventListener(u,x,{capture:!0,passive:P}):c.addEventListener(u,x,!0):P!==void 0?c.addEventListener(u,x,{passive:P}):c.addEventListener(u,x,!1)}function Pd(c,u,x,B,P){var O=B;if((u&1)===0&&(u&2)===0&&B!==null)e:for(;;){if(B===null)return;var oe=B.tag;if(oe===3||oe===4){var ge=B.stateNode.containerInfo;if(ge===P||ge.nodeType===8&&ge.parentNode===P)break;if(oe===4)for(oe=B.return;oe!==null;){var je=oe.tag;if((je===3||je===4)&&(je=oe.stateNode.containerInfo,je===P||je.nodeType===8&&je.parentNode===P))return;oe=oe.return}for(;ge!==null;){if(oe=Ml(ge),oe===null)return;if(je=oe.tag,je===5||je===6){B=O=oe;continue e}ge=ge.parentNode}}B=B.return}tr(function(){var Me=O,ft=ur(x),mt=[];e:{var At=dh.get(c);if(At!==void 0){var It=yA,Zt=c;switch(c){case"keypress":if(ki(x)===0)break e;case"keydown":case"keyup":It=kl;break;case"focusin":Zt="focus",It=Sr;break;case"focusout":Zt="blur",It=Sr;break;case"beforeblur":case"afterblur":It=Sr;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=ot;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=Cs;break;case oh:case lh:case ch:It=An;break;case Ah:It=Fc;break;case"scroll":It=ne;break;case"wheel":It=Ed;break;case"copy":case"cut":case"paste":It=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=Dl}var rr=(u&4)!==0,Wn=!rr&&c==="scroll",Ie=rr?At!==null?At+"Capture":null:At;rr=[];for(var Se=Me,Re;Se!==null;){Re=Se;var xt=Re.stateNode;if(Re.tag===5&&xt!==null&&(Re=xt,Ie!==null&&(xt=Bn(Se,Ie),xt!=null&&rr.push(Qd(Se,xt,Re)))),Wn)break;Se=Se.return}0<rr.length&&(At=new It(At,Zt,null,x,ft),mt.push({event:At,listeners:rr}))}}if((u&7)===0){e:{if(At=c==="mouseover"||c==="pointerover",It=c==="mouseout"||c==="pointerout",At&&x!==yr&&(Zt=x.relatedTarget||x.fromElement)&&(Ml(Zt)||Zt[Ss]))break e;if((It||At)&&(At=ft.window===ft?ft:(At=ft.ownerDocument)?At.defaultView||At.parentWindow:window,It?(Zt=x.relatedTarget||x.toElement,It=Me,Zt=Zt?Ml(Zt):null,Zt!==null&&(Wn=Je(Zt),Zt!==Wn||Zt.tag!==5&&Zt.tag!==6)&&(Zt=null)):(It=null,Zt=Me),It!==Zt)){if(rr=ot,xt="onMouseLeave",Ie="onMouseEnter",Se="mouse",(c==="pointerout"||c==="pointerover")&&(rr=Dl,xt="onPointerLeave",Ie="onPointerEnter",Se="pointer"),Wn=It==null?At:Oc(It),Re=Zt==null?At:Oc(Zt),At=new rr(xt,Se+"leave",It,x,ft),At.target=Wn,At.relatedTarget=Re,xt=null,Ml(ft)===Me&&(rr=new rr(Ie,Se+"enter",Zt,x,ft),rr.target=Re,rr.relatedTarget=Wn,xt=rr),Wn=xt,It&&Zt)t:{for(rr=It,Ie=Zt,Se=0,Re=rr;Re;Re=Mc(Re))Se++;for(Re=0,xt=Ie;xt;xt=Mc(xt))Re++;for(;0<Se-Re;)rr=Mc(rr),Se--;for(;0<Re-Se;)Ie=Mc(Ie),Re--;for(;Se--;){if(rr===Ie||Ie!==null&&rr===Ie.alternate)break t;rr=Mc(rr),Ie=Mc(Ie)}rr=null}else rr=null;It!==null&&qm(mt,At,It,rr,!1),Zt!==null&&Wn!==null&&qm(mt,Wn,Zt,rr,!0)}}e:{if(At=Me?Oc(Me):window,It=At.nodeName&&At.nodeName.toLowerCase(),It==="select"||It==="input"&&At.type==="file")var or=Eo;else if(So(At))if(to)or=Ql;else{or=Pl;var xr=Il}else(It=At.nodeName)&&It.toLowerCase()==="input"&&(At.type==="checkbox"||At.type==="radio")&&(or=Lc);if(or&&(or=or(c,Me))){tl(mt,or,x,ft);break e}xr&&xr(c,At,Me),c==="focusout"&&(xr=At._wrapperState)&&xr.controlled&&At.type==="number"&&Ee(At,"number",At.value)}switch(xr=Me?Oc(Me):window,c){case"focusin":(So(xr)||xr.contentEditable==="true")&&(nl=xr,Qu=Me,SA=null);break;case"focusout":SA=Qu=nl=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,sh(mt,x,ft);break;case"selectionchange":if(CA)break;case"keydown":case"keyup":sh(mt,x,ft)}var vr;if(eo)e:{switch(c){case"compositionstart":var Fr="onCompositionStart";break e;case"compositionend":Fr="onCompositionEnd";break e;case"compositionupdate":Fr="onCompositionUpdate";break e}Fr=void 0}else Ii?NA(c,x)&&(Fr="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(Fr="onCompositionStart");Fr&&(mi&&x.locale!=="ko"&&(Ii||Fr!=="onCompositionStart"?Fr==="onCompositionEnd"&&Ii&&(vr=Cd()):(Fi=ft,Zo="value"in Fi?Fi.value:Fi.textContent,Ii=!0)),xr=Ou(Me,Fr),0<xr.length&&(Fr=new Sn(Fr,c,null,x,ft),mt.push({event:Fr,listeners:xr}),vr?Fr.data=vr:(vr=el(x),vr!==null&&(Fr.data=vr)))),(vr=Pu?pi(c,x):gi(c,x))&&(Me=Ou(Me,"onBeforeInput"),0<Me.length&&(ft=new Sn("onBeforeInput","beforeinput",null,x,ft),mt.push({event:ft,listeners:Me}),ft.data=vr))}Ld(mt,u)})}function Qd(c,u,x){return{instance:c,listener:u,currentTarget:x}}function Ou(c,u){for(var x=u+"Capture",B=[];c!==null;){var P=c,O=P.stateNode;P.tag===5&&O!==null&&(P=O,O=Bn(c,x),O!=null&&B.unshift(Qd(c,O,P)),O=Bn(c,u),O!=null&&B.push(Qd(c,O,P))),c=c.return}return B}function Mc(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function qm(c,u,x,B,P){for(var O=u._reactName,oe=[];x!==null&&x!==B;){var ge=x,je=ge.alternate,Me=ge.stateNode;if(je!==null&&je===B)break;ge.tag===5&&Me!==null&&(ge=Me,P?(je=Bn(x,O),je!=null&&oe.unshift(Qd(x,je,ge))):P||(je=Bn(x,O),je!=null&&oe.push(Qd(x,je,ge)))),x=x.return}oe.length!==0&&c.push({event:u,listeners:oe})}var Mx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function Wm(c){return(typeof c=="string"?c:""+c).replace(Mx,`
`).replace(Tx,"")}function Hu(c,u,x){if(u=Wm(u),Wm(c)!==u&&x)throw Error(t(425))}function FA(){}var Rd=null,Tc=null;function fh(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,Gm=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,Ox=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(c){return Ym.resolve(null).then(c).catch(Hx)}:hh;function Hx(c){setTimeout(function(){throw c})}function mh(c,u){var x=u,B=0;do{var P=x.nextSibling;if(c.removeChild(x),P&&P.nodeType===8)if(x=P.data,x==="/$"){if(B===0){c.removeChild(P),jo(u);return}B--}else x!=="$"&&x!=="$?"&&x!=="$!"||B++;x=P}while(x);jo(u)}function Qs(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function Qi(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return c;u--}else x==="/$"&&u++}c=c.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),ko="__reactFiber$"+Ws,kA="__reactProps$"+Ws,Ss="__reactContainer$"+Ws,Gs="__reactEvents$"+Ws,$x="__reactListeners$"+Ws,Kx="__reactHandles$"+Ws;function Ml(c){var u=c[ko];if(u)return u;for(var x=c.parentNode;x;){if(u=x[Ss]||x[ko]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(c=Qi(c);c!==null;){if(x=c[ko])return x;c=Qi(c)}return u}c=x,x=c.parentNode}return null}function DA(c){return c=c[ko]||c[Ss],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Oc(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(t(33))}function Md(c){return c[kA]||null}var ph=[],sl=-1;function ao(c){return{current:c}}function _a(c){0>sl||(c.current=ph[sl],ph[sl]=null,sl--)}function Ua(c,u){sl++,ph[sl]=c.current,c.current=u}var Tl={},vs=ao(Tl),Ys=ao(!1),Hc=Tl;function UA(c,u){var x=c.type.contextTypes;if(!x)return Tl;var B=c.stateNode;if(B&&B.__reactInternalMemoizedUnmaskedChildContext===u)return B.__reactInternalMemoizedMaskedChildContext;var P={},O;for(O in x)P[O]=u[O];return B&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=P),P}function Xs(c){return c=c.childContextTypes,c!=null}function $u(){_a(Ys),_a(vs)}function Xm(c,u,x){if(vs.current!==Tl)throw Error(t(168));Ua(vs,u),Ua(Ys,x)}function gh(c,u,x){var B=c.stateNode;if(u=u.childContextTypes,typeof B.getChildContext!="function")return x;B=B.getChildContext();for(var P in B)if(!(P in u))throw Error(t(108,K(c)||"Unknown",P));return Ae({},x,B)}function $c(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Tl,Hc=vs.current,Ua(vs,c),Ua(Ys,Ys.current),!0}function Jm(c,u,x){var B=c.stateNode;if(!B)throw Error(t(169));x?(c=gh(c,u,Hc),B.__reactInternalMemoizedMergedChildContext=c,_a(Ys),_a(vs),Ua(vs,c)):_a(Ys),Ua(Ys,x)}var il=null,Td=!1,N=!1;function S(c){il===null?il=[c]:il.push(c)}function M(c){Td=!0,S(c)}function W(){if(!N&&il!==null){N=!0;var c=0,u=Aa;try{var x=il;for(Aa=1;c<x.length;c++){var B=x[c];do B=B(!0);while(B!==null)}il=null,Td=!1}catch(P){throw il!==null&&(il=il.slice(c+1)),Dr(hr,W),P}finally{Aa=u,N=!1}}return null}var ae=[],le=0,ce=null,de=0,ue=[],he=0,Ne=null,Le=1,me="";function Ce(c,u){ae[le++]=de,ae[le++]=ce,ce=c,de=u}function De(c,u,x){ue[he++]=Le,ue[he++]=me,ue[he++]=Ne,Ne=c;var B=Le;c=me;var P=32-Ca(B)-1;B&=~(1<<P),x+=1;var O=32-Ca(u)+P;if(30<O){var oe=P-P%5;O=(B&(1<<oe)-1).toString(32),B>>=oe,P-=oe,Le=1<<32-Ca(u)+P|x<<P|B,me=O+c}else Le=1<<O|x<<P|B,me=c}function We(c){c.return!==null&&(Ce(c,1),De(c,1,0))}function Pe(c){for(;c===ce;)ce=ae[--le],ae[le]=null,de=ae[--le],ae[le]=null;for(;c===Ne;)Ne=ue[--he],ue[he]=null,me=ue[--he],ue[he]=null,Le=ue[--he],ue[he]=null}var $e=null,ze=null,et=!1,tt=null;function sr(c,u){var x=Po(5,null,null,0);x.elementType="DELETED",x.stateNode=u,x.return=c,u=c.deletions,u===null?(c.deletions=[x],c.flags|=16):u.push(x)}function Ht(c,u){switch(c.tag){case 5:var x=c.type;return u=u.nodeType!==1||x.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,$e=c,ze=Qs(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,$e=c,ze=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(x=Ne!==null?{id:Le,overflow:me}:null,c.memoizedState={dehydrated:u,treeContext:x,retryLane:1073741824},x=Po(18,null,null,0),x.stateNode=u,x.return=c,c.child=x,$e=c,ze=null,!0):!1;default:return!1}}function Lr(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Jt(c){if(et){var u=ze;if(u){var x=u;if(!Ht(c,u)){if(Lr(c))throw Error(t(418));u=Qs(x.nextSibling);var B=$e;u&&Ht(c,u)?sr(B,x):(c.flags=c.flags&-4097|2,et=!1,$e=c)}}else{if(Lr(c))throw Error(t(418));c.flags=c.flags&-4097|2,et=!1,$e=c}}}function aa(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;$e=c}function wn(c){if(c!==$e)return!1;if(!et)return aa(c),et=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!fh(c.type,c.memoizedProps)),u&&(u=ze)){if(Lr(c))throw Pr(),Error(t(418));for(;u;)sr(c,u),u=Qs(u.nextSibling)}if(aa(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(t(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="/$"){if(u===0){ze=Qs(c.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++}c=c.nextSibling}ze=null}}else ze=$e?Qs(c.stateNode.nextSibling):null;return!0}function Pr(){for(var c=ze;c;)c=Qs(c.nextSibling)}function $t(){ze=$e=null,et=!1}function Nt(c){tt===null?tt=[c]:tt.push(c)}var En=E.ReactCurrentBatchConfig;function jr(c,u,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(t(309));var B=x.stateNode}if(!B)throw Error(t(147,c));var P=B,O=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===O?u.ref:(u=function(oe){var ge=P.refs;oe===null?delete ge[O]:ge[O]=oe},u._stringRef=O,u)}if(typeof c!="string")throw Error(t(284));if(!x._owner)throw Error(t(290,c))}return c}function Xr(c,u){throw c=Object.prototype.toString.call(u),Error(t(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function Wa(c){var u=c._init;return u(c._payload)}function is(c){function u(Ie,Se){if(c){var Re=Ie.deletions;Re===null?(Ie.deletions=[Se],Ie.flags|=16):Re.push(Se)}}function x(Ie,Se){if(!c)return null;for(;Se!==null;)u(Ie,Se),Se=Se.sibling;return null}function B(Ie,Se){for(Ie=new Map;Se!==null;)Se.key!==null?Ie.set(Se.key,Se):Ie.set(Se.index,Se),Se=Se.sibling;return Ie}function P(Ie,Se){return Ie=$A(Ie,Se),Ie.index=0,Ie.sibling=null,Ie}function O(Ie,Se,Re){return Ie.index=Re,c?(Re=Ie.alternate,Re!==null?(Re=Re.index,Re<Se?(Ie.flags|=2,Se):Re):(Ie.flags|=2,Se)):(Ie.flags|=1048576,Se)}function oe(Ie){return c&&Ie.alternate===null&&(Ie.flags|=2),Ie}function ge(Ie,Se,Re,xt){return Se===null||Se.tag!==6?(Se=vv(Re,Ie.mode,xt),Se.return=Ie,Se):(Se=P(Se,Re),Se.return=Ie,Se)}function je(Ie,Se,Re,xt){var or=Re.type;return or===F?ft(Ie,Se,Re.props.children,xt,Re.key):Se!==null&&(Se.elementType===or||typeof or=="object"&&or!==null&&or.$$typeof===V&&Wa(or)===Se.type)?(xt=P(Se,Re.props),xt.ref=jr(Ie,Se,Re),xt.return=Ie,xt):(xt=xp(Re.type,Re.key,Re.props,null,Ie.mode,xt),xt.ref=jr(Ie,Se,Re),xt.return=Ie,xt)}function Me(Ie,Se,Re,xt){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Re.containerInfo||Se.stateNode.implementation!==Re.implementation?(Se=wv(Re,Ie.mode,xt),Se.return=Ie,Se):(Se=P(Se,Re.children||[]),Se.return=Ie,Se)}function ft(Ie,Se,Re,xt,or){return Se===null||Se.tag!==7?(Se=Wd(Re,Ie.mode,xt,or),Se.return=Ie,Se):(Se=P(Se,Re),Se.return=Ie,Se)}function mt(Ie,Se,Re){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=vv(""+Se,Ie.mode,Re),Se.return=Ie,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case U:return Re=xp(Se.type,Se.key,Se.props,null,Ie.mode,Re),Re.ref=jr(Ie,null,Se),Re.return=Ie,Re;case k:return Se=wv(Se,Ie.mode,Re),Se.return=Ie,Se;case V:var xt=Se._init;return mt(Ie,xt(Se._payload),Re)}if(dt(Se)||Z(Se))return Se=Wd(Se,Ie.mode,Re,null),Se.return=Ie,Se;Xr(Ie,Se)}return null}function At(Ie,Se,Re,xt){var or=Se!==null?Se.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return or!==null?null:ge(Ie,Se,""+Re,xt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case U:return Re.key===or?je(Ie,Se,Re,xt):null;case k:return Re.key===or?Me(Ie,Se,Re,xt):null;case V:return or=Re._init,At(Ie,Se,or(Re._payload),xt)}if(dt(Re)||Z(Re))return or!==null?null:ft(Ie,Se,Re,xt,null);Xr(Ie,Re)}return null}function It(Ie,Se,Re,xt,or){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return Ie=Ie.get(Re)||null,ge(Se,Ie,""+xt,or);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case U:return Ie=Ie.get(xt.key===null?Re:xt.key)||null,je(Se,Ie,xt,or);case k:return Ie=Ie.get(xt.key===null?Re:xt.key)||null,Me(Se,Ie,xt,or);case V:var xr=xt._init;return It(Ie,Se,Re,xr(xt._payload),or)}if(dt(xt)||Z(xt))return Ie=Ie.get(Re)||null,ft(Se,Ie,xt,or,null);Xr(Se,xt)}return null}function Zt(Ie,Se,Re,xt){for(var or=null,xr=null,vr=Se,Fr=Se=0,Ds=null;vr!==null&&Fr<Re.length;Fr++){vr.index>Fr?(Ds=vr,vr=null):Ds=vr.sibling;var ja=At(Ie,vr,Re[Fr],xt);if(ja===null){vr===null&&(vr=Ds);break}c&&vr&&ja.alternate===null&&u(Ie,vr),Se=O(ja,Se,Fr),xr===null?or=ja:xr.sibling=ja,xr=ja,vr=Ds}if(Fr===Re.length)return x(Ie,vr),et&&Ce(Ie,Fr),or;if(vr===null){for(;Fr<Re.length;Fr++)vr=mt(Ie,Re[Fr],xt),vr!==null&&(Se=O(vr,Se,Fr),xr===null?or=vr:xr.sibling=vr,xr=vr);return et&&Ce(Ie,Fr),or}for(vr=B(Ie,vr);Fr<Re.length;Fr++)Ds=It(vr,Ie,Fr,Re[Fr],xt),Ds!==null&&(c&&Ds.alternate!==null&&vr.delete(Ds.key===null?Fr:Ds.key),Se=O(Ds,Se,Fr),xr===null?or=Ds:xr.sibling=Ds,xr=Ds);return c&&vr.forEach(function(KA){return u(Ie,KA)}),et&&Ce(Ie,Fr),or}function rr(Ie,Se,Re,xt){var or=Z(Re);if(typeof or!="function")throw Error(t(150));if(Re=or.call(Re),Re==null)throw Error(t(151));for(var xr=or=null,vr=Se,Fr=Se=0,Ds=null,ja=Re.next();vr!==null&&!ja.done;Fr++,ja=Re.next()){vr.index>Fr?(Ds=vr,vr=null):Ds=vr.sibling;var KA=At(Ie,vr,ja.value,xt);if(KA===null){vr===null&&(vr=Ds);break}c&&vr&&KA.alternate===null&&u(Ie,vr),Se=O(KA,Se,Fr),xr===null?or=KA:xr.sibling=KA,xr=KA,vr=Ds}if(ja.done)return x(Ie,vr),et&&Ce(Ie,Fr),or;if(vr===null){for(;!ja.done;Fr++,ja=Re.next())ja=mt(Ie,ja.value,xt),ja!==null&&(Se=O(ja,Se,Fr),xr===null?or=ja:xr.sibling=ja,xr=ja);return et&&Ce(Ie,Fr),or}for(vr=B(Ie,vr);!ja.done;Fr++,ja=Re.next())ja=It(vr,Ie,Fr,ja.value,xt),ja!==null&&(c&&ja.alternate!==null&&vr.delete(ja.key===null?Fr:ja.key),Se=O(ja,Se,Fr),xr===null?or=ja:xr.sibling=ja,xr=ja);return c&&vr.forEach(function(DD){return u(Ie,DD)}),et&&Ce(Ie,Fr),or}function Wn(Ie,Se,Re,xt){if(typeof Re=="object"&&Re!==null&&Re.type===F&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case U:e:{for(var or=Re.key,xr=Se;xr!==null;){if(xr.key===or){if(or=Re.type,or===F){if(xr.tag===7){x(Ie,xr.sibling),Se=P(xr,Re.props.children),Se.return=Ie,Ie=Se;break e}}else if(xr.elementType===or||typeof or=="object"&&or!==null&&or.$$typeof===V&&Wa(or)===xr.type){x(Ie,xr.sibling),Se=P(xr,Re.props),Se.ref=jr(Ie,xr,Re),Se.return=Ie,Ie=Se;break e}x(Ie,xr);break}else u(Ie,xr);xr=xr.sibling}Re.type===F?(Se=Wd(Re.props.children,Ie.mode,xt,Re.key),Se.return=Ie,Ie=Se):(xt=xp(Re.type,Re.key,Re.props,null,Ie.mode,xt),xt.ref=jr(Ie,Se,Re),xt.return=Ie,Ie=xt)}return oe(Ie);case k:e:{for(xr=Re.key;Se!==null;){if(Se.key===xr)if(Se.tag===4&&Se.stateNode.containerInfo===Re.containerInfo&&Se.stateNode.implementation===Re.implementation){x(Ie,Se.sibling),Se=P(Se,Re.children||[]),Se.return=Ie,Ie=Se;break e}else{x(Ie,Se);break}else u(Ie,Se);Se=Se.sibling}Se=wv(Re,Ie.mode,xt),Se.return=Ie,Ie=Se}return oe(Ie);case V:return xr=Re._init,Wn(Ie,Se,xr(Re._payload),xt)}if(dt(Re))return Zt(Ie,Se,Re,xt);if(Z(Re))return rr(Ie,Se,Re,xt);Xr(Ie,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,Se!==null&&Se.tag===6?(x(Ie,Se.sibling),Se=P(Se,Re),Se.return=Ie,Ie=Se):(x(Ie,Se),Se=vv(Re,Ie.mode,xt),Se.return=Ie,Ie=Se),oe(Ie)):x(Ie,Se)}return Wn}var Qn=is(!0),dn=is(!1),zn=ao(null),os=null,an=null,ia=null;function va(){ia=an=os=null}function nn(c){var u=zn.current;_a(zn),c._currentValue=u}function wa(c,u,x){for(;c!==null;){var B=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,B!==null&&(B.childLanes|=u)):B!==null&&(B.childLanes&u)!==u&&(B.childLanes|=u),c===x)break;c=c.return}}function yn(c,u){os=c,ia=an=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&(Mi=!0),c.firstContext=null)}function bn(c){var u=c._currentValue;if(ia!==c)if(c={context:c,memoizedValue:u,next:null},an===null){if(os===null)throw Error(t(308));an=c,os.dependencies={lanes:0,firstContext:c}}else an=an.next=c;return u}var Ma=null;function _s(c){Ma===null?Ma=[c]:Ma.push(c)}function La(c,u,x,B){var P=u.interleaved;return P===null?(x.next=x,_s(u)):(x.next=P.next,P.next=x),u.interleaved=x,Ta(c,B)}function Ta(c,u){c.lanes|=u;var x=c.alternate;for(x!==null&&(x.lanes|=u),x=c,c=c.return;c!==null;)c.childLanes|=u,x=c.alternate,x!==null&&(x.childLanes|=u),x=c,c=c.return;return x.tag===3?x.stateNode:null}var Rn=!1;function ws(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Js(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Fn(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function kn(c,u,x){var B=c.updateQueue;if(B===null)return null;if(B=B.shared,(ya&2)!==0){var P=B.pending;return P===null?u.next=u:(u.next=P.next,P.next=u),B.pending=u,Ta(c,x)}return P=B.interleaved,P===null?(u.next=u,_s(B)):(u.next=P.next,P.next=u),B.interleaved=u,Ta(c,x)}function Es(c,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194240)!==0)){var B=u.lanes;B&=c.pendingLanes,x|=B,u.lanes=x,Yi(c,x)}}function Oa(c,u){var x=c.updateQueue,B=c.alternate;if(B!==null&&(B=B.updateQueue,x===B)){var P=null,O=null;if(x=x.firstBaseUpdate,x!==null){do{var oe={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};O===null?P=O=oe:O=O.next=oe,x=x.next}while(x!==null);O===null?P=O=u:O=O.next=u}else P=O=u;x={baseState:B.baseState,firstBaseUpdate:P,lastBaseUpdate:O,shared:B.shared,effects:B.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=u:c.next=u,x.lastBaseUpdate=u}function Fs(c,u,x,B){var P=c.updateQueue;Rn=!1;var O=P.firstBaseUpdate,oe=P.lastBaseUpdate,ge=P.shared.pending;if(ge!==null){P.shared.pending=null;var je=ge,Me=je.next;je.next=null,oe===null?O=Me:oe.next=Me,oe=je;var ft=c.alternate;ft!==null&&(ft=ft.updateQueue,ge=ft.lastBaseUpdate,ge!==oe&&(ge===null?ft.firstBaseUpdate=Me:ge.next=Me,ft.lastBaseUpdate=je))}if(O!==null){var mt=P.baseState;oe=0,ft=Me=je=null,ge=O;do{var At=ge.lane,It=ge.eventTime;if((B&At)===At){ft!==null&&(ft=ft.next={eventTime:It,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Zt=c,rr=ge;switch(At=u,It=x,rr.tag){case 1:if(Zt=rr.payload,typeof Zt=="function"){mt=Zt.call(It,mt,At);break e}mt=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=rr.payload,At=typeof Zt=="function"?Zt.call(It,mt,At):Zt,At==null)break e;mt=Ae({},mt,At);break e;case 2:Rn=!0}}ge.callback!==null&&ge.lane!==0&&(c.flags|=64,At=P.effects,At===null?P.effects=[ge]:At.push(ge))}else It={eventTime:It,lane:At,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ft===null?(Me=ft=It,je=mt):ft=ft.next=It,oe|=At;if(ge=ge.next,ge===null){if(ge=P.shared.pending,ge===null)break;At=ge,ge=At.next,At.next=null,P.lastBaseUpdate=At,P.shared.pending=null}}while(!0);if(ft===null&&(je=mt),P.baseState=je,P.firstBaseUpdate=Me,P.lastBaseUpdate=ft,u=P.shared.interleaved,u!==null){P=u;do oe|=P.lane,P=P.next;while(P!==u)}else O===null&&(P.shared.lanes=0);Kd|=oe,c.lanes=oe,c.memoizedState=mt}}function Ri(c,u,x){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var B=c[u],P=B.callback;if(P!==null){if(B.callback=null,B=x,typeof P!="function")throw Error(t(191,P));P.call(B)}}}var no={},ls=ao(no),Dn=ao(no),Ol=ao(no);function ol(c){if(c===no)throw Error(t(174));return c}function LA(c,u){switch(Ua(Ol,u),Ua(Dn,c),Ua(ls,no),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Lt(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Lt(u,c)}_a(ls),Ua(ls,u)}function Do(){_a(ls),_a(Dn),_a(Ol)}function Zm(c){ol(Ol.current);var u=ol(ls.current),x=Lt(u,c.type);u!==x&&(Ua(Dn,c),Ua(ls,x))}function xh(c){Dn.current===c&&(_a(ls),_a(Dn))}var Za=ao(0);function so(c){for(var u=c;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var vh=[];function wh(){for(var c=0;c<vh.length;c++)vh[c]._workInProgressVersionPrimary=null;vh.length=0}var Ku=E.ReactCurrentDispatcher,Vu=E.ReactCurrentBatchConfig,Uo=0,sn=null,Mn=null,Un=null,IA=!1,ll=!1,PA=0,Vx=0;function qn(){throw Error(t(321))}function zu(c,u){if(u===null)return!1;for(var x=0;x<u.length&&x<c.length;x++)if(!xn(c[x],u[x]))return!1;return!0}function Od(c,u,x,B,P,O){if(Uo=O,sn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ku.current=c===null||c.memoizedState===null?nD:sD,c=x(B,P),ll){O=0;do{if(ll=!1,PA=0,25<=O)throw Error(t(301));O+=1,Un=Mn=null,u.updateQueue=null,Ku.current=iD,c=x(B,P)}while(ll)}if(Ku.current=np,u=Mn!==null&&Mn.next!==null,Uo=0,Un=Mn=sn=null,IA=!1,u)throw Error(t(300));return c}function Lo(){var c=PA!==0;return PA=0,c}function io(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?sn.memoizedState=Un=c:Un=Un.next=c,Un}function xi(){if(Mn===null){var c=sn.alternate;c=c!==null?c.memoizedState:null}else c=Mn.next;var u=Un===null?sn.memoizedState:Un.next;if(u!==null)Un=u,Mn=c;else{if(c===null)throw Error(t(310));Mn=c,c={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Un===null?sn.memoizedState=Un=c:Un=Un.next=c}return Un}function Hd(c,u){return typeof u=="function"?u(c):u}function qu(c){var u=xi(),x=u.queue;if(x===null)throw Error(t(311));x.lastRenderedReducer=c;var B=Mn,P=B.baseQueue,O=x.pending;if(O!==null){if(P!==null){var oe=P.next;P.next=O.next,O.next=oe}B.baseQueue=P=O,x.pending=null}if(P!==null){O=P.next,B=B.baseState;var ge=oe=null,je=null,Me=O;do{var ft=Me.lane;if((Uo&ft)===ft)je!==null&&(je=je.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),B=Me.hasEagerState?Me.eagerState:c(B,Me.action);else{var mt={lane:ft,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};je===null?(ge=je=mt,oe=B):je=je.next=mt,sn.lanes|=ft,Kd|=ft}Me=Me.next}while(Me!==null&&Me!==O);je===null?oe=B:je.next=ge,xn(B,u.memoizedState)||(Mi=!0),u.memoizedState=B,u.baseState=oe,u.baseQueue=je,x.lastRenderedState=B}if(c=x.interleaved,c!==null){P=c;do O=P.lane,sn.lanes|=O,Kd|=O,P=P.next;while(P!==c)}else P===null&&(x.lanes=0);return[u.memoizedState,x.dispatch]}function Hl(c){var u=xi(),x=u.queue;if(x===null)throw Error(t(311));x.lastRenderedReducer=c;var B=x.dispatch,P=x.pending,O=u.memoizedState;if(P!==null){x.pending=null;var oe=P=P.next;do O=c(O,oe.action),oe=oe.next;while(oe!==P);xn(O,u.memoizedState)||(Mi=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),x.lastRenderedState=O}return[O,B]}function ep(){}function yh(c,u){var x=sn,B=xi(),P=u(),O=!xn(B.memoizedState,P);if(O&&(B.memoizedState=P,Mi=!0),B=B.queue,Yu(rp.bind(null,x,B,c),[c]),B.getSnapshot!==u||O||Un!==null&&Un.memoizedState.tag&1){if(x.flags|=2048,vi(9,bh.bind(null,x,B,P,u),void 0,null),ks===null)throw Error(t(349));(Uo&30)!==0||tp(x,u,P)}return P}function tp(c,u,x){c.flags|=16384,c={getSnapshot:u,value:x},u=sn.updateQueue,u===null?(u={lastEffect:null,stores:null},sn.updateQueue=u,u.stores=[c]):(x=u.stores,x===null?u.stores=[c]:x.push(c))}function bh(c,u,x,B){u.value=x,u.getSnapshot=B,QA(u)&&Wu(c)}function rp(c,u,x){return x(function(){QA(u)&&Wu(c)})}function QA(c){var u=c.getSnapshot;c=c.value;try{var x=u();return!xn(c,x)}catch{return!0}}function Wu(c){var u=Ta(c,1);u!==null&&fl(u,c,1,-1)}function $d(c){var u=io();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:c},u.queue=c,c=c.dispatch=aD.bind(null,sn,c),[u.memoizedState,c]}function vi(c,u,x,B){return c={tag:c,create:u,destroy:x,deps:B,next:null},u=sn.updateQueue,u===null?(u={lastEffect:null,stores:null},sn.updateQueue=u,u.lastEffect=c.next=c):(x=u.lastEffect,x===null?u.lastEffect=c.next=c:(B=x.next,x.next=c,c.next=B,u.lastEffect=c)),c}function cl(){return xi().memoizedState}function oo(c,u,x,B){var P=io();sn.flags|=c,P.memoizedState=vi(1|u,x,void 0,B===void 0?null:B)}function Kc(c,u,x,B){var P=xi();B=B===void 0?null:B;var O=void 0;if(Mn!==null){var oe=Mn.memoizedState;if(O=oe.destroy,B!==null&&zu(B,oe.deps)){P.memoizedState=vi(u,x,O,B);return}}sn.flags|=c,P.memoizedState=vi(1|u,x,O,B)}function Gu(c,u){return oo(8390656,8,c,u)}function Yu(c,u){return Kc(2048,8,c,u)}function ap(c,u){return Kc(4,2,c,u)}function Xu(c,u){return Kc(4,4,c,u)}function Ju(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function Mb(c,u,x){return x=x!=null?x.concat([c]):null,Kc(4,4,Ju.bind(null,u,c),x)}function zx(){}function Tb(c,u){var x=xi();u=u===void 0?null:u;var B=x.memoizedState;return B!==null&&u!==null&&zu(u,B[1])?B[0]:(x.memoizedState=[c,u],c)}function Ob(c,u){var x=xi();u=u===void 0?null:u;var B=x.memoizedState;return B!==null&&u!==null&&zu(u,B[1])?B[0]:(c=c(),x.memoizedState=[c,u],c)}function Hb(c,u,x){return(Uo&21)===0?(c.baseState&&(c.baseState=!1,Mi=!0),c.memoizedState=x):(xn(x,u)||(x=Cn(),sn.lanes|=x,Kd|=x,c.baseState=!0),u)}function tD(c,u){var x=Aa;Aa=x!==0&&4>x?x:4,c(!0);var B=Vu.transition;Vu.transition={};try{c(!1),u()}finally{Aa=x,Vu.transition=B}}function $b(){return xi().memoizedState}function rD(c,u,x){var B=OA(c);if(x={lane:B,action:x,hasEagerState:!1,eagerState:null,next:null},Kb(c))Vb(u,x);else if(x=La(c,u,x,B),x!==null){var P=yi();fl(x,c,B,P),zb(x,u,B)}}function aD(c,u,x){var B=OA(c),P={lane:B,action:x,hasEagerState:!1,eagerState:null,next:null};if(Kb(c))Vb(u,P);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var oe=u.lastRenderedState,ge=O(oe,x);if(P.hasEagerState=!0,P.eagerState=ge,xn(ge,oe)){var je=u.interleaved;je===null?(P.next=P,_s(u)):(P.next=je.next,je.next=P),u.interleaved=P;return}}catch{}finally{}x=La(c,u,P,B),x!==null&&(P=yi(),fl(x,c,B,P),zb(x,u,B))}}function Kb(c){var u=c.alternate;return c===sn||u!==null&&u===sn}function Vb(c,u){ll=IA=!0;var x=c.pending;x===null?u.next=u:(u.next=x.next,x.next=u),c.pending=u}function zb(c,u,x){if((x&4194240)!==0){var B=u.lanes;B&=c.pendingLanes,x|=B,u.lanes=x,Yi(c,x)}}var np={readContext:bn,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},nD={readContext:bn,useCallback:function(c,u){return io().memoizedState=[c,u===void 0?null:u],c},useContext:bn,useEffect:Gu,useImperativeHandle:function(c,u,x){return x=x!=null?x.concat([c]):null,oo(4194308,4,Ju.bind(null,u,c),x)},useLayoutEffect:function(c,u){return oo(4194308,4,c,u)},useInsertionEffect:function(c,u){return oo(4,2,c,u)},useMemo:function(c,u){var x=io();return u=u===void 0?null:u,c=c(),x.memoizedState=[c,u],c},useReducer:function(c,u,x){var B=io();return u=x!==void 0?x(u):u,B.memoizedState=B.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},B.queue=c,c=c.dispatch=rD.bind(null,sn,c),[B.memoizedState,c]},useRef:function(c){var u=io();return c={current:c},u.memoizedState=c},useState:$d,useDebugValue:zx,useDeferredValue:function(c){return io().memoizedState=c},useTransition:function(){var c=$d(!1),u=c[0];return c=tD.bind(null,c[1]),io().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,x){var B=sn,P=io();if(et){if(x===void 0)throw Error(t(407));x=x()}else{if(x=u(),ks===null)throw Error(t(349));(Uo&30)!==0||tp(B,u,x)}P.memoizedState=x;var O={value:x,getSnapshot:u};return P.queue=O,Gu(rp.bind(null,B,O,c),[c]),B.flags|=2048,vi(9,bh.bind(null,B,O,x,u),void 0,null),x},useId:function(){var c=io(),u=ks.identifierPrefix;if(et){var x=me,B=Le;x=(B&~(1<<32-Ca(B)-1)).toString(32)+x,u=":"+u+"R"+x,x=PA++,0<x&&(u+="H"+x.toString(32)),u+=":"}else x=Vx++,u=":"+u+"r"+x.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},sD={readContext:bn,useCallback:Tb,useContext:bn,useEffect:Yu,useImperativeHandle:Mb,useInsertionEffect:ap,useLayoutEffect:Xu,useMemo:Ob,useReducer:qu,useRef:cl,useState:function(){return qu(Hd)},useDebugValue:zx,useDeferredValue:function(c){var u=xi();return Hb(u,Mn.memoizedState,c)},useTransition:function(){var c=qu(Hd)[0],u=xi().memoizedState;return[c,u]},useMutableSource:ep,useSyncExternalStore:yh,useId:$b,unstable_isNewReconciler:!1},iD={readContext:bn,useCallback:Tb,useContext:bn,useEffect:Yu,useImperativeHandle:Mb,useInsertionEffect:ap,useLayoutEffect:Xu,useMemo:Ob,useReducer:Hl,useRef:cl,useState:function(){return Hl(Hd)},useDebugValue:zx,useDeferredValue:function(c){var u=xi();return Mn===null?u.memoizedState=c:Hb(u,Mn.memoizedState,c)},useTransition:function(){var c=Hl(Hd)[0],u=xi().memoizedState;return[c,u]},useMutableSource:ep,useSyncExternalStore:yh,useId:$b,unstable_isNewReconciler:!1};function Al(c,u){if(c&&c.defaultProps){u=Ae({},u),c=c.defaultProps;for(var x in c)u[x]===void 0&&(u[x]=c[x]);return u}return u}function qx(c,u,x,B){u=c.memoizedState,x=x(B,u),x=x==null?u:Ae({},u,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var sp={isMounted:function(c){return(c=c._reactInternals)?Je(c)===c:!1},enqueueSetState:function(c,u,x){c=c._reactInternals;var B=yi(),P=OA(c),O=Fn(B,P);O.payload=u,x!=null&&(O.callback=x),u=kn(c,O,P),u!==null&&(fl(u,c,P,B),Es(u,c,P))},enqueueReplaceState:function(c,u,x){c=c._reactInternals;var B=yi(),P=OA(c),O=Fn(B,P);O.tag=1,O.payload=u,x!=null&&(O.callback=x),u=kn(c,O,P),u!==null&&(fl(u,c,P,B),Es(u,c,P))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var x=yi(),B=OA(c),P=Fn(x,B);P.tag=2,u!=null&&(P.callback=u),u=kn(c,P,B),u!==null&&(fl(u,c,B,x),Es(u,c,B))}};function qb(c,u,x,B,P,O,oe){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(B,O,oe):u.prototype&&u.prototype.isPureReactComponent?!qs(x,B)||!qs(P,O):!0}function Wb(c,u,x){var B=!1,P=Tl,O=u.contextType;return typeof O=="object"&&O!==null?O=bn(O):(P=Xs(u)?Hc:vs.current,B=u.contextTypes,O=(B=B!=null)?UA(c,P):Tl),u=new u(x,O),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=sp,c.stateNode=u,u._reactInternals=c,B&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=P,c.__reactInternalMemoizedMaskedChildContext=O),u}function Gb(c,u,x,B){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,B),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,B),u.state!==c&&sp.enqueueReplaceState(u,u.state,null)}function Wx(c,u,x,B){var P=c.stateNode;P.props=x,P.state=c.memoizedState,P.refs={},ws(c);var O=u.contextType;typeof O=="object"&&O!==null?P.context=bn(O):(O=Xs(u)?Hc:vs.current,P.context=UA(c,O)),P.state=c.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(qx(c,u,O,x),P.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(u=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),u!==P.state&&sp.enqueueReplaceState(P,P.state,null),Fs(c,x,P,B),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308)}function Zu(c,u){try{var x="",B=u;do x+=X(B),B=B.return;while(B);var P=x}catch(O){P=`
Error generating stack: `+O.message+`
`+O.stack}return{value:c,source:u,stack:P,digest:null}}function Gx(c,u,x){return{value:c,source:null,stack:x??null,digest:u??null}}function Yx(c,u){try{console.error(u.value)}catch(x){setTimeout(function(){throw x})}}var oD=typeof WeakMap=="function"?WeakMap:Map;function Yb(c,u,x){x=Fn(-1,x),x.tag=3,x.payload={element:null};var B=u.value;return x.callback=function(){up||(up=!0,dv=B),Yx(c,u)},x}function Xb(c,u,x){x=Fn(-1,x),x.tag=3;var B=c.type.getDerivedStateFromError;if(typeof B=="function"){var P=u.value;x.payload=function(){return B(P)},x.callback=function(){Yx(c,u)}}var O=c.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(x.callback=function(){Yx(c,u),typeof B!="function"&&(MA===null?MA=new Set([this]):MA.add(this));var oe=u.stack;this.componentDidCatch(u.value,{componentStack:oe!==null?oe:""})}),x}function Jb(c,u,x){var B=c.pingCache;if(B===null){B=c.pingCache=new oD;var P=new Set;B.set(u,P)}else P=B.get(u),P===void 0&&(P=new Set,B.set(u,P));P.has(x)||(P.add(x),c=yD.bind(null,c,u,x),u.then(c,c))}function Zb(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function e2(c,u,x,B,P){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(u=Fn(-1,1),u.tag=2,kn(x,u,1))),x.lanes|=1),c):(c.flags|=65536,c.lanes=P,c)}var lD=E.ReactCurrentOwner,Mi=!1;function wi(c,u,x,B){u.child=c===null?dn(u,null,x,B):Qn(u,c.child,x,B)}function t2(c,u,x,B,P){x=x.render;var O=u.ref;return yn(u,P),B=Od(c,u,x,B,O,P),x=Lo(),c!==null&&!Mi?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~P,Vc(c,u,P)):(et&&x&&We(u),u.flags|=1,wi(c,u,B,P),u.child)}function r2(c,u,x,B,P){if(c===null){var O=x.type;return typeof O=="function"&&!xv(O)&&O.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(u.tag=15,u.type=O,a2(c,u,O,B,P)):(c=xp(x.type,null,B,u,u.mode,P),c.ref=u.ref,c.return=u,u.child=c)}if(O=c.child,(c.lanes&P)===0){var oe=O.memoizedProps;if(x=x.compare,x=x!==null?x:qs,x(oe,B)&&c.ref===u.ref)return Vc(c,u,P)}return u.flags|=1,c=$A(O,B),c.ref=u.ref,c.return=u,u.child=c}function a2(c,u,x,B,P){if(c!==null){var O=c.memoizedProps;if(qs(O,B)&&c.ref===u.ref)if(Mi=!1,u.pendingProps=B=O,(c.lanes&P)!==0)(c.flags&131072)!==0&&(Mi=!0);else return u.lanes=c.lanes,Vc(c,u,P)}return Xx(c,u,x,B,P)}function n2(c,u,x){var B=u.pendingProps,P=B.children,O=c!==null?c.memoizedState:null;if(B.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ua(tf,lo),lo|=x;else{if((x&1073741824)===0)return c=O!==null?O.baseLanes|x:x,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,Ua(tf,lo),lo|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},B=O!==null?O.baseLanes:x,Ua(tf,lo),lo|=B}else O!==null?(B=O.baseLanes|x,u.memoizedState=null):B=x,Ua(tf,lo),lo|=B;return wi(c,u,P,x),u.child}function s2(c,u){var x=u.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(u.flags|=512,u.flags|=2097152)}function Xx(c,u,x,B,P){var O=Xs(x)?Hc:vs.current;return O=UA(u,O),yn(u,P),x=Od(c,u,x,B,O,P),B=Lo(),c!==null&&!Mi?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~P,Vc(c,u,P)):(et&&B&&We(u),u.flags|=1,wi(c,u,x,P),u.child)}function i2(c,u,x,B,P){if(Xs(x)){var O=!0;$c(u)}else O=!1;if(yn(u,P),u.stateNode===null)op(c,u),Wb(u,x,B),Wx(u,x,B,P),B=!0;else if(c===null){var oe=u.stateNode,ge=u.memoizedProps;oe.props=ge;var je=oe.context,Me=x.contextType;typeof Me=="object"&&Me!==null?Me=bn(Me):(Me=Xs(x)?Hc:vs.current,Me=UA(u,Me));var ft=x.getDerivedStateFromProps,mt=typeof ft=="function"||typeof oe.getSnapshotBeforeUpdate=="function";mt||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ge!==B||je!==Me)&&Gb(u,oe,B,Me),Rn=!1;var At=u.memoizedState;oe.state=At,Fs(u,B,oe,P),je=u.memoizedState,ge!==B||At!==je||Ys.current||Rn?(typeof ft=="function"&&(qx(u,x,ft,B),je=u.memoizedState),(ge=Rn||qb(u,x,ge,B,At,je,Me))?(mt||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(u.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=B,u.memoizedState=je),oe.props=B,oe.state=je,oe.context=Me,B=ge):(typeof oe.componentDidMount=="function"&&(u.flags|=4194308),B=!1)}else{oe=u.stateNode,Js(c,u),ge=u.memoizedProps,Me=u.type===u.elementType?ge:Al(u.type,ge),oe.props=Me,mt=u.pendingProps,At=oe.context,je=x.contextType,typeof je=="object"&&je!==null?je=bn(je):(je=Xs(x)?Hc:vs.current,je=UA(u,je));var It=x.getDerivedStateFromProps;(ft=typeof It=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ge!==mt||At!==je)&&Gb(u,oe,B,je),Rn=!1,At=u.memoizedState,oe.state=At,Fs(u,B,oe,P);var Zt=u.memoizedState;ge!==mt||At!==Zt||Ys.current||Rn?(typeof It=="function"&&(qx(u,x,It,B),Zt=u.memoizedState),(Me=Rn||qb(u,x,Me,B,At,Zt,je)||!1)?(ft||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate(B,Zt,je),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate(B,Zt,je)),typeof oe.componentDidUpdate=="function"&&(u.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof oe.componentDidUpdate!="function"||ge===c.memoizedProps&&At===c.memoizedState||(u.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ge===c.memoizedProps&&At===c.memoizedState||(u.flags|=1024),u.memoizedProps=B,u.memoizedState=Zt),oe.props=B,oe.state=Zt,oe.context=je,B=Me):(typeof oe.componentDidUpdate!="function"||ge===c.memoizedProps&&At===c.memoizedState||(u.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ge===c.memoizedProps&&At===c.memoizedState||(u.flags|=1024),B=!1)}return Jx(c,u,x,B,O,P)}function Jx(c,u,x,B,P,O){s2(c,u);var oe=(u.flags&128)!==0;if(!B&&!oe)return P&&Jm(u,x,!1),Vc(c,u,O);B=u.stateNode,lD.current=u;var ge=oe&&typeof x.getDerivedStateFromError!="function"?null:B.render();return u.flags|=1,c!==null&&oe?(u.child=Qn(u,c.child,null,O),u.child=Qn(u,null,ge,O)):wi(c,u,ge,O),u.memoizedState=B.state,P&&Jm(u,x,!0),u.child}function o2(c){var u=c.stateNode;u.pendingContext?Xm(c,u.pendingContext,u.pendingContext!==u.context):u.context&&Xm(c,u.context,!1),LA(c,u.containerInfo)}function l2(c,u,x,B,P){return $t(),Nt(P),u.flags|=256,wi(c,u,x,B),u.child}var Zx={dehydrated:null,treeContext:null,retryLane:0};function ev(c){return{baseLanes:c,cachePool:null,transitions:null}}function c2(c,u,x){var B=u.pendingProps,P=Za.current,O=!1,oe=(u.flags&128)!==0,ge;if((ge=oe)||(ge=c!==null&&c.memoizedState===null?!1:(P&2)!==0),ge?(O=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(P|=1),Ua(Za,P&1),c===null)return Jt(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(oe=B.children,c=B.fallback,O?(B=u.mode,O=u.child,oe={mode:"hidden",children:oe},(B&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=oe):O=vp(oe,B,0,null),c=Wd(c,B,x,null),O.return=u,c.return=u,O.sibling=c,u.child=O,u.child.memoizedState=ev(x),u.memoizedState=Zx,c):tv(u,oe));if(P=c.memoizedState,P!==null&&(ge=P.dehydrated,ge!==null))return cD(c,u,oe,B,ge,P,x);if(O){O=B.fallback,oe=u.mode,P=c.child,ge=P.sibling;var je={mode:"hidden",children:B.children};return(oe&1)===0&&u.child!==P?(B=u.child,B.childLanes=0,B.pendingProps=je,u.deletions=null):(B=$A(P,je),B.subtreeFlags=P.subtreeFlags&14680064),ge!==null?O=$A(ge,O):(O=Wd(O,oe,x,null),O.flags|=2),O.return=u,B.return=u,B.sibling=O,u.child=B,B=O,O=u.child,oe=c.child.memoizedState,oe=oe===null?ev(x):{baseLanes:oe.baseLanes|x,cachePool:null,transitions:oe.transitions},O.memoizedState=oe,O.childLanes=c.childLanes&~x,u.memoizedState=Zx,B}return O=c.child,c=O.sibling,B=$A(O,{mode:"visible",children:B.children}),(u.mode&1)===0&&(B.lanes=x),B.return=u,B.sibling=null,c!==null&&(x=u.deletions,x===null?(u.deletions=[c],u.flags|=16):x.push(c)),u.child=B,u.memoizedState=null,B}function tv(c,u){return u=vp({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function ip(c,u,x,B){return B!==null&&Nt(B),Qn(u,c.child,null,x),c=tv(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function cD(c,u,x,B,P,O,oe){if(x)return u.flags&256?(u.flags&=-257,B=Gx(Error(t(422))),ip(c,u,oe,B)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(O=B.fallback,P=u.mode,B=vp({mode:"visible",children:B.children},P,0,null),O=Wd(O,P,oe,null),O.flags|=2,B.return=u,O.return=u,B.sibling=O,u.child=B,(u.mode&1)!==0&&Qn(u,c.child,null,oe),u.child.memoizedState=ev(oe),u.memoizedState=Zx,O);if((u.mode&1)===0)return ip(c,u,oe,null);if(P.data==="$!"){if(B=P.nextSibling&&P.nextSibling.dataset,B)var ge=B.dgst;return B=ge,O=Error(t(419)),B=Gx(O,B,void 0),ip(c,u,oe,B)}if(ge=(oe&c.childLanes)!==0,Mi||ge){if(B=ks,B!==null){switch(oe&-oe){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(B.suspendedLanes|oe))!==0?0:P,P!==0&&P!==O.retryLane&&(O.retryLane=P,Ta(c,P),fl(B,c,P,-1))}return gv(),B=Gx(Error(t(421))),ip(c,u,oe,B)}return P.data==="$?"?(u.flags|=128,u.child=c.child,u=bD.bind(null,c),P._reactRetry=u,null):(c=O.treeContext,ze=Qs(P.nextSibling),$e=u,et=!0,tt=null,c!==null&&(ue[he++]=Le,ue[he++]=me,ue[he++]=Ne,Le=c.id,me=c.overflow,Ne=u),u=tv(u,B.children),u.flags|=4096,u)}function A2(c,u,x){c.lanes|=u;var B=c.alternate;B!==null&&(B.lanes|=u),wa(c.return,u,x)}function rv(c,u,x,B,P){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:B,tail:x,tailMode:P}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=B,O.tail=x,O.tailMode=P)}function d2(c,u,x){var B=u.pendingProps,P=B.revealOrder,O=B.tail;if(wi(c,u,B.children,x),B=Za.current,(B&2)!==0)B=B&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&A2(c,x,u);else if(c.tag===19)A2(c,x,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}B&=1}if(Ua(Za,B),(u.mode&1)===0)u.memoizedState=null;else switch(P){case"forwards":for(x=u.child,P=null;x!==null;)c=x.alternate,c!==null&&so(c)===null&&(P=x),x=x.sibling;x=P,x===null?(P=u.child,u.child=null):(P=x.sibling,x.sibling=null),rv(u,!1,P,x,O);break;case"backwards":for(x=null,P=u.child,u.child=null;P!==null;){if(c=P.alternate,c!==null&&so(c)===null){u.child=P;break}c=P.sibling,P.sibling=x,x=P,P=c}rv(u,!0,x,null,O);break;case"together":rv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function op(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function Vc(c,u,x){if(c!==null&&(u.dependencies=c.dependencies),Kd|=u.lanes,(x&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(t(153));if(u.child!==null){for(c=u.child,x=$A(c,c.pendingProps),u.child=x,x.return=u;c.sibling!==null;)c=c.sibling,x=x.sibling=$A(c,c.pendingProps),x.return=u;x.sibling=null}return u.child}function AD(c,u,x){switch(u.tag){case 3:o2(u),$t();break;case 5:Zm(u);break;case 1:Xs(u.type)&&$c(u);break;case 4:LA(u,u.stateNode.containerInfo);break;case 10:var B=u.type._context,P=u.memoizedProps.value;Ua(zn,B._currentValue),B._currentValue=P;break;case 13:if(B=u.memoizedState,B!==null)return B.dehydrated!==null?(Ua(Za,Za.current&1),u.flags|=128,null):(x&u.child.childLanes)!==0?c2(c,u,x):(Ua(Za,Za.current&1),c=Vc(c,u,x),c!==null?c.sibling:null);Ua(Za,Za.current&1);break;case 19:if(B=(x&u.childLanes)!==0,(c.flags&128)!==0){if(B)return d2(c,u,x);u.flags|=128}if(P=u.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Ua(Za,Za.current),B)break;return null;case 22:case 23:return u.lanes=0,n2(c,u,x)}return Vc(c,u,x)}var u2,av,f2,h2;u2=function(c,u){for(var x=u.child;x!==null;){if(x.tag===5||x.tag===6)c.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},av=function(){},f2=function(c,u,x,B){var P=c.memoizedProps;if(P!==B){c=u.stateNode,ol(ls.current);var O=null;switch(x){case"input":P=xe(c,P),B=xe(c,B),O=[];break;case"select":P=Ae({},P,{value:void 0}),B=Ae({},B,{value:void 0}),O=[];break;case"textarea":P=Wt(c,P),B=Wt(c,B),O=[];break;default:typeof P.onClick!="function"&&typeof B.onClick=="function"&&(c.onclick=FA)}la(x,B);var oe;x=null;for(Me in P)if(!B.hasOwnProperty(Me)&&P.hasOwnProperty(Me)&&P[Me]!=null)if(Me==="style"){var ge=P[Me];for(oe in ge)ge.hasOwnProperty(oe)&&(x||(x={}),x[oe]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(s.hasOwnProperty(Me)?O||(O=[]):(O=O||[]).push(Me,null));for(Me in B){var je=B[Me];if(ge=P!=null?P[Me]:void 0,B.hasOwnProperty(Me)&&je!==ge&&(je!=null||ge!=null))if(Me==="style")if(ge){for(oe in ge)!ge.hasOwnProperty(oe)||je&&je.hasOwnProperty(oe)||(x||(x={}),x[oe]="");for(oe in je)je.hasOwnProperty(oe)&&ge[oe]!==je[oe]&&(x||(x={}),x[oe]=je[oe])}else x||(O||(O=[]),O.push(Me,x)),x=je;else Me==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,ge=ge?ge.__html:void 0,je!=null&&ge!==je&&(O=O||[]).push(Me,je)):Me==="children"?typeof je!="string"&&typeof je!="number"||(O=O||[]).push(Me,""+je):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(s.hasOwnProperty(Me)?(je!=null&&Me==="onScroll"&&Ra("scroll",c),O||ge===je||(O=[])):(O=O||[]).push(Me,je))}x&&(O=O||[]).push("style",x);var Me=O;(u.updateQueue=Me)&&(u.flags|=4)}},h2=function(c,u,x,B){x!==B&&(u.flags|=4)};function Nh(c,u){if(!et)switch(c.tailMode){case"hidden":u=c.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var B=null;x!==null;)x.alternate!==null&&(B=x),x=x.sibling;B===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:B.sibling=null}}function Zs(c){var u=c.alternate!==null&&c.alternate.child===c.child,x=0,B=0;if(u)for(var P=c.child;P!==null;)x|=P.lanes|P.childLanes,B|=P.subtreeFlags&14680064,B|=P.flags&14680064,P.return=c,P=P.sibling;else for(P=c.child;P!==null;)x|=P.lanes|P.childLanes,B|=P.subtreeFlags,B|=P.flags,P.return=c,P=P.sibling;return c.subtreeFlags|=B,c.childLanes=x,u}function dD(c,u,x){var B=u.pendingProps;switch(Pe(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(u),null;case 1:return Xs(u.type)&&$u(),Zs(u),null;case 3:return B=u.stateNode,Do(),_a(Ys),_a(vs),wh(),B.pendingContext&&(B.context=B.pendingContext,B.pendingContext=null),(c===null||c.child===null)&&(wn(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,tt!==null&&(hv(tt),tt=null))),av(c,u),Zs(u),null;case 5:xh(u);var P=ol(Ol.current);if(x=u.type,c!==null&&u.stateNode!=null)f2(c,u,x,B,P),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!B){if(u.stateNode===null)throw Error(t(166));return Zs(u),null}if(c=ol(ls.current),wn(u)){B=u.stateNode,x=u.type;var O=u.memoizedProps;switch(B[ko]=u,B[kA]=O,c=(u.mode&1)!==0,x){case"dialog":Ra("cancel",B),Ra("close",B);break;case"iframe":case"object":case"embed":Ra("load",B);break;case"video":case"audio":for(P=0;P<Rl.length;P++)Ra(Rl[P],B);break;case"source":Ra("error",B);break;case"img":case"image":case"link":Ra("error",B),Ra("load",B);break;case"details":Ra("toggle",B);break;case"input":ie(B,O),Ra("invalid",B);break;case"select":B._wrapperState={wasMultiple:!!O.multiple},Ra("invalid",B);break;case"textarea":Et(B,O),Ra("invalid",B)}la(x,O),P=null;for(var oe in O)if(O.hasOwnProperty(oe)){var ge=O[oe];oe==="children"?typeof ge=="string"?B.textContent!==ge&&(O.suppressHydrationWarning!==!0&&Hu(B.textContent,ge,c),P=["children",ge]):typeof ge=="number"&&B.textContent!==""+ge&&(O.suppressHydrationWarning!==!0&&Hu(B.textContent,ge,c),P=["children",""+ge]):s.hasOwnProperty(oe)&&ge!=null&&oe==="onScroll"&&Ra("scroll",B)}switch(x){case"input":be(B),it(B,O,!0);break;case"textarea":be(B),Mt(B);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(B.onclick=FA)}B=P,u.updateQueue=B,B!==null&&(u.flags|=4)}else{oe=P.nodeType===9?P:P.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Gt(x)),c==="http://www.w3.org/1999/xhtml"?x==="script"?(c=oe.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof B.is=="string"?c=oe.createElement(x,{is:B.is}):(c=oe.createElement(x),x==="select"&&(oe=c,B.multiple?oe.multiple=!0:B.size&&(oe.size=B.size))):c=oe.createElementNS(c,x),c[ko]=u,c[kA]=B,u2(c,u,!1,!1),u.stateNode=c;e:{switch(oe=yt(x,B),x){case"dialog":Ra("cancel",c),Ra("close",c),P=B;break;case"iframe":case"object":case"embed":Ra("load",c),P=B;break;case"video":case"audio":for(P=0;P<Rl.length;P++)Ra(Rl[P],c);P=B;break;case"source":Ra("error",c),P=B;break;case"img":case"image":case"link":Ra("error",c),Ra("load",c),P=B;break;case"details":Ra("toggle",c),P=B;break;case"input":ie(c,B),P=xe(c,B),Ra("invalid",c);break;case"option":P=B;break;case"select":c._wrapperState={wasMultiple:!!B.multiple},P=Ae({},B,{value:void 0}),Ra("invalid",c);break;case"textarea":Et(c,B),P=Wt(c,B),Ra("invalid",c);break;default:P=B}la(x,P),ge=P;for(O in ge)if(ge.hasOwnProperty(O)){var je=ge[O];O==="style"?Yt(c,je):O==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&wt(c,je)):O==="children"?typeof je=="string"?(x!=="textarea"||je!=="")&&Bt(c,je):typeof je=="number"&&Bt(c,""+je):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(s.hasOwnProperty(O)?je!=null&&O==="onScroll"&&Ra("scroll",c):je!=null&&C(c,O,je,oe))}switch(x){case"input":be(c),it(c,B,!1);break;case"textarea":be(c),Mt(c);break;case"option":B.value!=null&&c.setAttribute("value",""+z(B.value));break;case"select":c.multiple=!!B.multiple,O=B.value,O!=null?ct(c,!!B.multiple,O,!1):B.defaultValue!=null&&ct(c,!!B.multiple,B.defaultValue,!0);break;default:typeof P.onClick=="function"&&(c.onclick=FA)}switch(x){case"button":case"input":case"select":case"textarea":B=!!B.autoFocus;break e;case"img":B=!0;break e;default:B=!1}}B&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Zs(u),null;case 6:if(c&&u.stateNode!=null)h2(c,u,c.memoizedProps,B);else{if(typeof B!="string"&&u.stateNode===null)throw Error(t(166));if(x=ol(Ol.current),ol(ls.current),wn(u)){if(B=u.stateNode,x=u.memoizedProps,B[ko]=u,(O=B.nodeValue!==x)&&(c=$e,c!==null))switch(c.tag){case 3:Hu(B.nodeValue,x,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Hu(B.nodeValue,x,(c.mode&1)!==0)}O&&(u.flags|=4)}else B=(x.nodeType===9?x:x.ownerDocument).createTextNode(B),B[ko]=u,u.stateNode=B}return Zs(u),null;case 13:if(_a(Za),B=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(et&&ze!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Pr(),$t(),u.flags|=98560,O=!1;else if(O=wn(u),B!==null&&B.dehydrated!==null){if(c===null){if(!O)throw Error(t(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(t(317));O[ko]=u}else $t(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Zs(u),O=!1}else tt!==null&&(hv(tt),tt=null),O=!0;if(!O)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=x,u):(B=B!==null,B!==(c!==null&&c.memoizedState!==null)&&B&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||(Za.current&1)!==0?ys===0&&(ys=3):gv())),u.updateQueue!==null&&(u.flags|=4),Zs(u),null);case 4:return Do(),av(c,u),c===null&&Rc(u.stateNode.containerInfo),Zs(u),null;case 10:return nn(u.type._context),Zs(u),null;case 17:return Xs(u.type)&&$u(),Zs(u),null;case 19:if(_a(Za),O=u.memoizedState,O===null)return Zs(u),null;if(B=(u.flags&128)!==0,oe=O.rendering,oe===null)if(B)Nh(O,!1);else{if(ys!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(oe=so(c),oe!==null){for(u.flags|=128,Nh(O,!1),B=oe.updateQueue,B!==null&&(u.updateQueue=B,u.flags|=4),u.subtreeFlags=0,B=x,x=u.child;x!==null;)O=x,c=B,O.flags&=14680066,oe=O.alternate,oe===null?(O.childLanes=0,O.lanes=c,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=oe.childLanes,O.lanes=oe.lanes,O.child=oe.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=oe.memoizedProps,O.memoizedState=oe.memoizedState,O.updateQueue=oe.updateQueue,O.type=oe.type,c=oe.dependencies,O.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),x=x.sibling;return Ua(Za,Za.current&1|2),u.child}c=c.sibling}O.tail!==null&&zt()>rf&&(u.flags|=128,B=!0,Nh(O,!1),u.lanes=4194304)}else{if(!B)if(c=so(oe),c!==null){if(u.flags|=128,B=!0,x=c.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),Nh(O,!0),O.tail===null&&O.tailMode==="hidden"&&!oe.alternate&&!et)return Zs(u),null}else 2*zt()-O.renderingStartTime>rf&&x!==1073741824&&(u.flags|=128,B=!0,Nh(O,!1),u.lanes=4194304);O.isBackwards?(oe.sibling=u.child,u.child=oe):(x=O.last,x!==null?x.sibling=oe:u.child=oe,O.last=oe)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=zt(),u.sibling=null,x=Za.current,Ua(Za,B?x&1|2:x&1),u):(Zs(u),null);case 22:case 23:return pv(),B=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==B&&(u.flags|=8192),B&&(u.mode&1)!==0?(lo&1073741824)!==0&&(Zs(u),u.subtreeFlags&6&&(u.flags|=8192)):Zs(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function uD(c,u){switch(Pe(u),u.tag){case 1:return Xs(u.type)&&$u(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return Do(),_a(Ys),_a(vs),wh(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return xh(u),null;case 13:if(_a(Za),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(t(340));$t()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return _a(Za),null;case 4:return Do(),null;case 10:return nn(u.type._context),null;case 22:case 23:return pv(),null;case 24:return null;default:return null}}var lp=!1,ei=!1,fD=typeof WeakSet=="function"?WeakSet:Set,qt=null;function ef(c,u){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(B){Tn(c,u,B)}else x.current=null}function nv(c,u,x){try{x()}catch(B){Tn(c,u,B)}}var m2=!1;function hD(c,u){if(Rd=wA,c=Pn(),ro(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var B=x.getSelection&&x.getSelection();if(B&&B.rangeCount!==0){x=B.anchorNode;var P=B.anchorOffset,O=B.focusNode;B=B.focusOffset;try{x.nodeType,O.nodeType}catch{x=null;break e}var oe=0,ge=-1,je=-1,Me=0,ft=0,mt=c,At=null;t:for(;;){for(var It;mt!==x||P!==0&&mt.nodeType!==3||(ge=oe+P),mt!==O||B!==0&&mt.nodeType!==3||(je=oe+B),mt.nodeType===3&&(oe+=mt.nodeValue.length),(It=mt.firstChild)!==null;)At=mt,mt=It;for(;;){if(mt===c)break t;if(At===x&&++Me===P&&(ge=oe),At===O&&++ft===B&&(je=oe),(It=mt.nextSibling)!==null)break;mt=At,At=mt.parentNode}mt=It}x=ge===-1||je===-1?null:{start:ge,end:je}}else x=null}x=x||{start:0,end:0}}else x=null;for(Tc={focusedElem:c,selectionRange:x},wA=!1,qt=u;qt!==null;)if(u=qt,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,qt=c;else for(;qt!==null;){u=qt;try{var Zt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Zt!==null){var rr=Zt.memoizedProps,Wn=Zt.memoizedState,Ie=u.stateNode,Se=Ie.getSnapshotBeforeUpdate(u.elementType===u.type?rr:Al(u.type,rr),Wn);Ie.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:var Re=u.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(xt){Tn(u,u.return,xt)}if(c=u.sibling,c!==null){c.return=u.return,qt=c;break}qt=u.return}return Zt=m2,m2=!1,Zt}function jh(c,u,x){var B=u.updateQueue;if(B=B!==null?B.lastEffect:null,B!==null){var P=B=B.next;do{if((P.tag&c)===c){var O=P.destroy;P.destroy=void 0,O!==void 0&&nv(u,x,O)}P=P.next}while(P!==B)}}function cp(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var x=u=u.next;do{if((x.tag&c)===c){var B=x.create;x.destroy=B()}x=x.next}while(x!==u)}}function sv(c){var u=c.ref;if(u!==null){var x=c.stateNode;switch(c.tag){case 5:c=x;break;default:c=x}typeof u=="function"?u(c):u.current=c}}function p2(c){var u=c.alternate;u!==null&&(c.alternate=null,p2(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[ko],delete u[kA],delete u[Gs],delete u[$x],delete u[Kx])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function g2(c){return c.tag===5||c.tag===3||c.tag===4}function x2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||g2(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function iv(c,u,x){var B=c.tag;if(B===5||B===6)c=c.stateNode,u?x.nodeType===8?x.parentNode.insertBefore(c,u):x.insertBefore(c,u):(x.nodeType===8?(u=x.parentNode,u.insertBefore(c,x)):(u=x,u.appendChild(c)),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=FA));else if(B!==4&&(c=c.child,c!==null))for(iv(c,u,x),c=c.sibling;c!==null;)iv(c,u,x),c=c.sibling}function ov(c,u,x){var B=c.tag;if(B===5||B===6)c=c.stateNode,u?x.insertBefore(c,u):x.appendChild(c);else if(B!==4&&(c=c.child,c!==null))for(ov(c,u,x),c=c.sibling;c!==null;)ov(c,u,x),c=c.sibling}var Rs=null,dl=!1;function RA(c,u,x){for(x=x.child;x!==null;)v2(c,u,x),x=x.sibling}function v2(c,u,x){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(tn,x)}catch{}switch(x.tag){case 5:ei||ef(x,u);case 6:var B=Rs,P=dl;Rs=null,RA(c,u,x),Rs=B,dl=P,Rs!==null&&(dl?(c=Rs,x=x.stateNode,c.nodeType===8?c.parentNode.removeChild(x):c.removeChild(x)):Rs.removeChild(x.stateNode));break;case 18:Rs!==null&&(dl?(c=Rs,x=x.stateNode,c.nodeType===8?mh(c.parentNode,x):c.nodeType===1&&mh(c,x),jo(c)):mh(Rs,x.stateNode));break;case 4:B=Rs,P=dl,Rs=x.stateNode.containerInfo,dl=!0,RA(c,u,x),Rs=B,dl=P;break;case 0:case 11:case 14:case 15:if(!ei&&(B=x.updateQueue,B!==null&&(B=B.lastEffect,B!==null))){P=B=B.next;do{var O=P,oe=O.destroy;O=O.tag,oe!==void 0&&((O&2)!==0||(O&4)!==0)&&nv(x,u,oe),P=P.next}while(P!==B)}RA(c,u,x);break;case 1:if(!ei&&(ef(x,u),B=x.stateNode,typeof B.componentWillUnmount=="function"))try{B.props=x.memoizedProps,B.state=x.memoizedState,B.componentWillUnmount()}catch(ge){Tn(x,u,ge)}RA(c,u,x);break;case 21:RA(c,u,x);break;case 22:x.mode&1?(ei=(B=ei)||x.memoizedState!==null,RA(c,u,x),ei=B):RA(c,u,x);break;default:RA(c,u,x)}}function w2(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new fD),u.forEach(function(B){var P=ND.bind(null,c,B);x.has(B)||(x.add(B),B.then(P,P))})}}function ul(c,u){var x=u.deletions;if(x!==null)for(var B=0;B<x.length;B++){var P=x[B];try{var O=c,oe=u,ge=oe;e:for(;ge!==null;){switch(ge.tag){case 5:Rs=ge.stateNode,dl=!1;break e;case 3:Rs=ge.stateNode.containerInfo,dl=!0;break e;case 4:Rs=ge.stateNode.containerInfo,dl=!0;break e}ge=ge.return}if(Rs===null)throw Error(t(160));v2(O,oe,P),Rs=null,dl=!1;var je=P.alternate;je!==null&&(je.return=null),P.return=null}catch(Me){Tn(P,u,Me)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)y2(u,c),u=u.sibling}function y2(c,u){var x=c.alternate,B=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ul(u,c),$l(c),B&4){try{jh(3,c,c.return),cp(3,c)}catch(rr){Tn(c,c.return,rr)}try{jh(5,c,c.return)}catch(rr){Tn(c,c.return,rr)}}break;case 1:ul(u,c),$l(c),B&512&&x!==null&&ef(x,x.return);break;case 5:if(ul(u,c),$l(c),B&512&&x!==null&&ef(x,x.return),c.flags&32){var P=c.stateNode;try{Bt(P,"")}catch(rr){Tn(c,c.return,rr)}}if(B&4&&(P=c.stateNode,P!=null)){var O=c.memoizedProps,oe=x!==null?x.memoizedProps:O,ge=c.type,je=c.updateQueue;if(c.updateQueue=null,je!==null)try{ge==="input"&&O.type==="radio"&&O.name!=null&&at(P,O),yt(ge,oe);var Me=yt(ge,O);for(oe=0;oe<je.length;oe+=2){var ft=je[oe],mt=je[oe+1];ft==="style"?Yt(P,mt):ft==="dangerouslySetInnerHTML"?wt(P,mt):ft==="children"?Bt(P,mt):C(P,ft,mt,Me)}switch(ge){case"input":gt(P,O);break;case"textarea":Ut(P,O);break;case"select":var At=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!O.multiple;var It=O.value;It!=null?ct(P,!!O.multiple,It,!1):At!==!!O.multiple&&(O.defaultValue!=null?ct(P,!!O.multiple,O.defaultValue,!0):ct(P,!!O.multiple,O.multiple?[]:"",!1))}P[kA]=O}catch(rr){Tn(c,c.return,rr)}}break;case 6:if(ul(u,c),$l(c),B&4){if(c.stateNode===null)throw Error(t(162));P=c.stateNode,O=c.memoizedProps;try{P.nodeValue=O}catch(rr){Tn(c,c.return,rr)}}break;case 3:if(ul(u,c),$l(c),B&4&&x!==null&&x.memoizedState.isDehydrated)try{jo(u.containerInfo)}catch(rr){Tn(c,c.return,rr)}break;case 4:ul(u,c),$l(c);break;case 13:ul(u,c),$l(c),P=c.child,P.flags&8192&&(O=P.memoizedState!==null,P.stateNode.isHidden=O,!O||P.alternate!==null&&P.alternate.memoizedState!==null||(Av=zt())),B&4&&w2(c);break;case 22:if(ft=x!==null&&x.memoizedState!==null,c.mode&1?(ei=(Me=ei)||ft,ul(u,c),ei=Me):ul(u,c),$l(c),B&8192){if(Me=c.memoizedState!==null,(c.stateNode.isHidden=Me)&&!ft&&(c.mode&1)!==0)for(qt=c,ft=c.child;ft!==null;){for(mt=qt=ft;qt!==null;){switch(At=qt,It=At.child,At.tag){case 0:case 11:case 14:case 15:jh(4,At,At.return);break;case 1:ef(At,At.return);var Zt=At.stateNode;if(typeof Zt.componentWillUnmount=="function"){B=At,x=At.return;try{u=B,Zt.props=u.memoizedProps,Zt.state=u.memoizedState,Zt.componentWillUnmount()}catch(rr){Tn(B,x,rr)}}break;case 5:ef(At,At.return);break;case 22:if(At.memoizedState!==null){j2(mt);continue}}It!==null?(It.return=At,qt=It):j2(mt)}ft=ft.sibling}e:for(ft=null,mt=c;;){if(mt.tag===5){if(ft===null){ft=mt;try{P=mt.stateNode,Me?(O=P.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(ge=mt.stateNode,je=mt.memoizedProps.style,oe=je!=null&&je.hasOwnProperty("display")?je.display:null,ge.style.display=Hr("display",oe))}catch(rr){Tn(c,c.return,rr)}}}else if(mt.tag===6){if(ft===null)try{mt.stateNode.nodeValue=Me?"":mt.memoizedProps}catch(rr){Tn(c,c.return,rr)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===c)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===c)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===c)break e;ft===mt&&(ft=null),mt=mt.return}ft===mt&&(ft=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:ul(u,c),$l(c),B&4&&w2(c);break;case 21:break;default:ul(u,c),$l(c)}}function $l(c){var u=c.flags;if(u&2){try{e:{for(var x=c.return;x!==null;){if(g2(x)){var B=x;break e}x=x.return}throw Error(t(160))}switch(B.tag){case 5:var P=B.stateNode;B.flags&32&&(Bt(P,""),B.flags&=-33);var O=x2(c);ov(c,O,P);break;case 3:case 4:var oe=B.stateNode.containerInfo,ge=x2(c);iv(c,ge,oe);break;default:throw Error(t(161))}}catch(je){Tn(c,c.return,je)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function mD(c,u,x){qt=c,b2(c)}function b2(c,u,x){for(var B=(c.mode&1)!==0;qt!==null;){var P=qt,O=P.child;if(P.tag===22&&B){var oe=P.memoizedState!==null||lp;if(!oe){var ge=P.alternate,je=ge!==null&&ge.memoizedState!==null||ei;ge=lp;var Me=ei;if(lp=oe,(ei=je)&&!Me)for(qt=P;qt!==null;)oe=qt,je=oe.child,oe.tag===22&&oe.memoizedState!==null?B2(P):je!==null?(je.return=oe,qt=je):B2(P);for(;O!==null;)qt=O,b2(O),O=O.sibling;qt=P,lp=ge,ei=Me}N2(c)}else(P.subtreeFlags&8772)!==0&&O!==null?(O.return=P,qt=O):N2(c)}}function N2(c){for(;qt!==null;){var u=qt;if((u.flags&8772)!==0){var x=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:ei||cp(5,u);break;case 1:var B=u.stateNode;if(u.flags&4&&!ei)if(x===null)B.componentDidMount();else{var P=u.elementType===u.type?x.memoizedProps:Al(u.type,x.memoizedProps);B.componentDidUpdate(P,x.memoizedState,B.__reactInternalSnapshotBeforeUpdate)}var O=u.updateQueue;O!==null&&Ri(u,O,B);break;case 3:var oe=u.updateQueue;if(oe!==null){if(x=null,u.child!==null)switch(u.child.tag){case 5:x=u.child.stateNode;break;case 1:x=u.child.stateNode}Ri(u,oe,x)}break;case 5:var ge=u.stateNode;if(x===null&&u.flags&4){x=ge;var je=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&x.focus();break;case"img":je.src&&(x.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Me=u.alternate;if(Me!==null){var ft=Me.memoizedState;if(ft!==null){var mt=ft.dehydrated;mt!==null&&jo(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ei||u.flags&512&&sv(u)}catch(At){Tn(u,u.return,At)}}if(u===c){qt=null;break}if(x=u.sibling,x!==null){x.return=u.return,qt=x;break}qt=u.return}}function j2(c){for(;qt!==null;){var u=qt;if(u===c){qt=null;break}var x=u.sibling;if(x!==null){x.return=u.return,qt=x;break}qt=u.return}}function B2(c){for(;qt!==null;){var u=qt;try{switch(u.tag){case 0:case 11:case 15:var x=u.return;try{cp(4,u)}catch(je){Tn(u,x,je)}break;case 1:var B=u.stateNode;if(typeof B.componentDidMount=="function"){var P=u.return;try{B.componentDidMount()}catch(je){Tn(u,P,je)}}var O=u.return;try{sv(u)}catch(je){Tn(u,O,je)}break;case 5:var oe=u.return;try{sv(u)}catch(je){Tn(u,oe,je)}}}catch(je){Tn(u,u.return,je)}if(u===c){qt=null;break}var ge=u.sibling;if(ge!==null){ge.return=u.return,qt=ge;break}qt=u.return}}var pD=Math.ceil,Ap=E.ReactCurrentDispatcher,lv=E.ReactCurrentOwner,Io=E.ReactCurrentBatchConfig,ya=0,ks=null,cs=null,Ms=0,lo=0,tf=ao(0),ys=0,Bh=null,Kd=0,dp=0,cv=0,Ch=null,Ti=null,Av=0,rf=1/0,zc=null,up=!1,dv=null,MA=null,fp=!1,TA=null,hp=0,Sh=0,uv=null,mp=-1,pp=0;function yi(){return(ya&6)!==0?zt():mp!==-1?mp:mp=zt()}function OA(c){return(c.mode&1)===0?1:(ya&2)!==0&&Ms!==0?Ms&-Ms:En.transition!==null?(pp===0&&(pp=Cn()),pp):(c=Aa,c!==0||(c=window.event,c=c===void 0?16:jc(c.type)),c)}function fl(c,u,x,B){if(50<Sh)throw Sh=0,uv=null,Error(t(185));cn(c,x,B),((ya&2)===0||c!==ks)&&(c===ks&&((ya&2)===0&&(dp|=x),ys===4&&HA(c,Ms)),Oi(c,B),x===1&&ya===0&&(u.mode&1)===0&&(rf=zt()+500,Td&&W()))}function Oi(c,u){var x=c.callbackNode;sa(c,u);var B=Gr(c,c===ks?Ms:0);if(B===0)x!==null&&$r(x),c.callbackNode=null,c.callbackPriority=0;else if(u=B&-B,c.callbackPriority!==u){if(x!=null&&$r(x),u===1)c.tag===0?M(S2.bind(null,c)):S(S2.bind(null,c)),Ox(function(){(ya&6)===0&&W()}),x=null;else{switch(pn(B)){case 1:x=hr;break;case 4:x=fr;break;case 16:x=Pt;break;case 536870912:x=ra;break;default:x=Pt}x=I2(x,C2.bind(null,c))}c.callbackPriority=u,c.callbackNode=x}}function C2(c,u){if(mp=-1,pp=0,(ya&6)!==0)throw Error(t(327));var x=c.callbackNode;if(af()&&c.callbackNode!==x)return null;var B=Gr(c,c===ks?Ms:0);if(B===0)return null;if((B&30)!==0||(B&c.expiredLanes)!==0||u)u=gp(c,B);else{u=B;var P=ya;ya|=2;var O=E2();(ks!==c||Ms!==u)&&(zc=null,rf=zt()+500,zd(c,u));do try{vD();break}catch(ge){_2(c,ge)}while(!0);va(),Ap.current=O,ya=P,cs!==null?u=0:(ks=null,Ms=0,u=ys)}if(u!==0){if(u===2&&(P=pa(c),P!==0&&(B=P,u=fv(c,P))),u===1)throw x=Bh,zd(c,0),HA(c,B),Oi(c,zt()),x;if(u===6)HA(c,B);else{if(P=c.current.alternate,(B&30)===0&&!gD(P)&&(u=gp(c,B),u===2&&(O=pa(c),O!==0&&(B=O,u=fv(c,O))),u===1))throw x=Bh,zd(c,0),HA(c,B),Oi(c,zt()),x;switch(c.finishedWork=P,c.finishedLanes=B,u){case 0:case 1:throw Error(t(345));case 2:qd(c,Ti,zc);break;case 3:if(HA(c,B),(B&130023424)===B&&(u=Av+500-zt(),10<u)){if(Gr(c,0)!==0)break;if(P=c.suspendedLanes,(P&B)!==B){yi(),c.pingedLanes|=c.suspendedLanes&P;break}c.timeoutHandle=hh(qd.bind(null,c,Ti,zc),u);break}qd(c,Ti,zc);break;case 4:if(HA(c,B),(B&4194240)===B)break;for(u=c.eventTimes,P=-1;0<B;){var oe=31-Ca(B);O=1<<oe,oe=u[oe],oe>P&&(P=oe),B&=~O}if(B=P,B=zt()-B,B=(120>B?120:480>B?480:1080>B?1080:1920>B?1920:3e3>B?3e3:4320>B?4320:1960*pD(B/1960))-B,10<B){c.timeoutHandle=hh(qd.bind(null,c,Ti,zc),B);break}qd(c,Ti,zc);break;case 5:qd(c,Ti,zc);break;default:throw Error(t(329))}}}return Oi(c,zt()),c.callbackNode===x?C2.bind(null,c):null}function fv(c,u){var x=Ch;return c.current.memoizedState.isDehydrated&&(zd(c,u).flags|=256),c=gp(c,u),c!==2&&(u=Ti,Ti=x,u!==null&&hv(u)),c}function hv(c){Ti===null?Ti=c:Ti.push.apply(Ti,c)}function gD(c){for(var u=c;;){if(u.flags&16384){var x=u.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var B=0;B<x.length;B++){var P=x[B],O=P.getSnapshot;P=P.value;try{if(!xn(O(),P))return!1}catch{return!1}}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function HA(c,u){for(u&=~cv,u&=~dp,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var x=31-Ca(u),B=1<<x;c[x]=-1,u&=~B}}function S2(c){if((ya&6)!==0)throw Error(t(327));af();var u=Gr(c,0);if((u&1)===0)return Oi(c,zt()),null;var x=gp(c,u);if(c.tag!==0&&x===2){var B=pa(c);B!==0&&(u=B,x=fv(c,B))}if(x===1)throw x=Bh,zd(c,0),HA(c,u),Oi(c,zt()),x;if(x===6)throw Error(t(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,qd(c,Ti,zc),Oi(c,zt()),null}function mv(c,u){var x=ya;ya|=1;try{return c(u)}finally{ya=x,ya===0&&(rf=zt()+500,Td&&W())}}function Vd(c){TA!==null&&TA.tag===0&&(ya&6)===0&&af();var u=ya;ya|=1;var x=Io.transition,B=Aa;try{if(Io.transition=null,Aa=1,c)return c()}finally{Aa=B,Io.transition=x,ya=u,(ya&6)===0&&W()}}function pv(){lo=tf.current,_a(tf)}function zd(c,u){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==-1&&(c.timeoutHandle=-1,Gm(x)),cs!==null)for(x=cs.return;x!==null;){var B=x;switch(Pe(B),B.tag){case 1:B=B.type.childContextTypes,B!=null&&$u();break;case 3:Do(),_a(Ys),_a(vs),wh();break;case 5:xh(B);break;case 4:Do();break;case 13:_a(Za);break;case 19:_a(Za);break;case 10:nn(B.type._context);break;case 22:case 23:pv()}x=x.return}if(ks=c,cs=c=$A(c.current,null),Ms=lo=u,ys=0,Bh=null,cv=dp=Kd=0,Ti=Ch=null,Ma!==null){for(u=0;u<Ma.length;u++)if(x=Ma[u],B=x.interleaved,B!==null){x.interleaved=null;var P=B.next,O=x.pending;if(O!==null){var oe=O.next;O.next=P,B.next=oe}x.pending=B}Ma=null}return c}function _2(c,u){do{var x=cs;try{if(va(),Ku.current=np,IA){for(var B=sn.memoizedState;B!==null;){var P=B.queue;P!==null&&(P.pending=null),B=B.next}IA=!1}if(Uo=0,Un=Mn=sn=null,ll=!1,PA=0,lv.current=null,x===null||x.return===null){ys=1,Bh=u,cs=null;break}e:{var O=c,oe=x.return,ge=x,je=u;if(u=Ms,ge.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var Me=je,ft=ge,mt=ft.tag;if((ft.mode&1)===0&&(mt===0||mt===11||mt===15)){var At=ft.alternate;At?(ft.updateQueue=At.updateQueue,ft.memoizedState=At.memoizedState,ft.lanes=At.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var It=Zb(oe);if(It!==null){It.flags&=-257,e2(It,oe,ge,O,u),It.mode&1&&Jb(O,Me,u),u=It,je=Me;var Zt=u.updateQueue;if(Zt===null){var rr=new Set;rr.add(je),u.updateQueue=rr}else Zt.add(je);break e}else{if((u&1)===0){Jb(O,Me,u),gv();break e}je=Error(t(426))}}else if(et&&ge.mode&1){var Wn=Zb(oe);if(Wn!==null){(Wn.flags&65536)===0&&(Wn.flags|=256),e2(Wn,oe,ge,O,u),Nt(Zu(je,ge));break e}}O=je=Zu(je,ge),ys!==4&&(ys=2),Ch===null?Ch=[O]:Ch.push(O),O=oe;do{switch(O.tag){case 3:O.flags|=65536,u&=-u,O.lanes|=u;var Ie=Yb(O,je,u);Oa(O,Ie);break e;case 1:ge=je;var Se=O.type,Re=O.stateNode;if((O.flags&128)===0&&(typeof Se.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(MA===null||!MA.has(Re)))){O.flags|=65536,u&=-u,O.lanes|=u;var xt=Xb(O,ge,u);Oa(O,xt);break e}}O=O.return}while(O!==null)}k2(x)}catch(or){u=or,cs===x&&x!==null&&(cs=x=x.return);continue}break}while(!0)}function E2(){var c=Ap.current;return Ap.current=np,c===null?np:c}function gv(){(ys===0||ys===3||ys===2)&&(ys=4),ks===null||(Kd&268435455)===0&&(dp&268435455)===0||HA(ks,Ms)}function gp(c,u){var x=ya;ya|=2;var B=E2();(ks!==c||Ms!==u)&&(zc=null,zd(c,u));do try{xD();break}catch(P){_2(c,P)}while(!0);if(va(),ya=x,Ap.current=B,cs!==null)throw Error(t(261));return ks=null,Ms=0,ys}function xD(){for(;cs!==null;)F2(cs)}function vD(){for(;cs!==null&&!Vt();)F2(cs)}function F2(c){var u=L2(c.alternate,c,lo);c.memoizedProps=c.pendingProps,u===null?k2(c):cs=u,lv.current=null}function k2(c){var u=c;do{var x=u.alternate;if(c=u.return,(u.flags&32768)===0){if(x=dD(x,u,lo),x!==null){cs=x;return}}else{if(x=uD(x,u),x!==null){x.flags&=32767,cs=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{ys=6,cs=null;return}}if(u=u.sibling,u!==null){cs=u;return}cs=u=c}while(u!==null);ys===0&&(ys=5)}function qd(c,u,x){var B=Aa,P=Io.transition;try{Io.transition=null,Aa=1,wD(c,u,x,B)}finally{Io.transition=P,Aa=B}return null}function wD(c,u,x,B){do af();while(TA!==null);if((ya&6)!==0)throw Error(t(327));x=c.finishedWork;var P=c.finishedLanes;if(x===null)return null;if(c.finishedWork=null,c.finishedLanes=0,x===c.current)throw Error(t(177));c.callbackNode=null,c.callbackPriority=0;var O=x.lanes|x.childLanes;if(Sa(c,O),c===ks&&(cs=ks=null,Ms=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||fp||(fp=!0,I2(Pt,function(){return af(),null})),O=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||O){O=Io.transition,Io.transition=null;var oe=Aa;Aa=1;var ge=ya;ya|=4,lv.current=null,hD(c,x),y2(x,c),Fd(Tc),wA=!!Rd,Tc=Rd=null,c.current=x,mD(x),Ur(),ya=ge,Aa=oe,Io.transition=O}else c.current=x;if(fp&&(fp=!1,TA=c,hp=P),O=c.pendingLanes,O===0&&(MA=null),Wo(x.stateNode),Oi(c,zt()),u!==null)for(B=c.onRecoverableError,x=0;x<u.length;x++)P=u[x],B(P.value,{componentStack:P.stack,digest:P.digest});if(up)throw up=!1,c=dv,dv=null,c;return(hp&1)!==0&&c.tag!==0&&af(),O=c.pendingLanes,(O&1)!==0?c===uv?Sh++:(Sh=0,uv=c):Sh=0,W(),null}function af(){if(TA!==null){var c=pn(hp),u=Io.transition,x=Aa;try{if(Io.transition=null,Aa=16>c?16:c,TA===null)var B=!1;else{if(c=TA,TA=null,hp=0,(ya&6)!==0)throw Error(t(331));var P=ya;for(ya|=4,qt=c.current;qt!==null;){var O=qt,oe=O.child;if((qt.flags&16)!==0){var ge=O.deletions;if(ge!==null){for(var je=0;je<ge.length;je++){var Me=ge[je];for(qt=Me;qt!==null;){var ft=qt;switch(ft.tag){case 0:case 11:case 15:jh(8,ft,O)}var mt=ft.child;if(mt!==null)mt.return=ft,qt=mt;else for(;qt!==null;){ft=qt;var At=ft.sibling,It=ft.return;if(p2(ft),ft===Me){qt=null;break}if(At!==null){At.return=It,qt=At;break}qt=It}}}var Zt=O.alternate;if(Zt!==null){var rr=Zt.child;if(rr!==null){Zt.child=null;do{var Wn=rr.sibling;rr.sibling=null,rr=Wn}while(rr!==null)}}qt=O}}if((O.subtreeFlags&2064)!==0&&oe!==null)oe.return=O,qt=oe;else e:for(;qt!==null;){if(O=qt,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:jh(9,O,O.return)}var Ie=O.sibling;if(Ie!==null){Ie.return=O.return,qt=Ie;break e}qt=O.return}}var Se=c.current;for(qt=Se;qt!==null;){oe=qt;var Re=oe.child;if((oe.subtreeFlags&2064)!==0&&Re!==null)Re.return=oe,qt=Re;else e:for(oe=Se;qt!==null;){if(ge=qt,(ge.flags&2048)!==0)try{switch(ge.tag){case 0:case 11:case 15:cp(9,ge)}}catch(or){Tn(ge,ge.return,or)}if(ge===oe){qt=null;break e}var xt=ge.sibling;if(xt!==null){xt.return=ge.return,qt=xt;break e}qt=ge.return}}if(ya=P,W(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(tn,c)}catch{}B=!0}return B}finally{Aa=x,Io.transition=u}}return!1}function D2(c,u,x){u=Zu(x,u),u=Yb(c,u,1),c=kn(c,u,1),u=yi(),c!==null&&(cn(c,1,u),Oi(c,u))}function Tn(c,u,x){if(c.tag===3)D2(c,c,x);else for(;u!==null;){if(u.tag===3){D2(u,c,x);break}else if(u.tag===1){var B=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof B.componentDidCatch=="function"&&(MA===null||!MA.has(B))){c=Zu(x,c),c=Xb(u,c,1),u=kn(u,c,1),c=yi(),u!==null&&(cn(u,1,c),Oi(u,c));break}}u=u.return}}function yD(c,u,x){var B=c.pingCache;B!==null&&B.delete(u),u=yi(),c.pingedLanes|=c.suspendedLanes&x,ks===c&&(Ms&x)===x&&(ys===4||ys===3&&(Ms&130023424)===Ms&&500>zt()-Av?zd(c,0):cv|=x),Oi(c,u)}function U2(c,u){u===0&&((c.mode&1)===0?u=1:(u=pt,pt<<=1,(pt&130023424)===0&&(pt=4194304)));var x=yi();c=Ta(c,u),c!==null&&(cn(c,u,x),Oi(c,x))}function bD(c){var u=c.memoizedState,x=0;u!==null&&(x=u.retryLane),U2(c,x)}function ND(c,u){var x=0;switch(c.tag){case 13:var B=c.stateNode,P=c.memoizedState;P!==null&&(x=P.retryLane);break;case 19:B=c.stateNode;break;default:throw Error(t(314))}B!==null&&B.delete(u),U2(c,x)}var L2;L2=function(c,u,x){if(c!==null)if(c.memoizedProps!==u.pendingProps||Ys.current)Mi=!0;else{if((c.lanes&x)===0&&(u.flags&128)===0)return Mi=!1,AD(c,u,x);Mi=(c.flags&131072)!==0}else Mi=!1,et&&(u.flags&1048576)!==0&&De(u,de,u.index);switch(u.lanes=0,u.tag){case 2:var B=u.type;op(c,u),c=u.pendingProps;var P=UA(u,vs.current);yn(u,x),P=Od(null,u,B,c,P,x);var O=Lo();return u.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Xs(B)?(O=!0,$c(u)):O=!1,u.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,ws(u),P.updater=sp,u.stateNode=P,P._reactInternals=u,Wx(u,B,c,x),u=Jx(null,u,B,!0,O,x)):(u.tag=0,et&&O&&We(u),wi(null,u,P,x),u=u.child),u;case 16:B=u.elementType;e:{switch(op(c,u),c=u.pendingProps,P=B._init,B=P(B._payload),u.type=B,P=u.tag=BD(B),c=Al(B,c),P){case 0:u=Xx(null,u,B,c,x);break e;case 1:u=i2(null,u,B,c,x);break e;case 11:u=t2(null,u,B,c,x);break e;case 14:u=r2(null,u,B,Al(B.type,c),x);break e}throw Error(t(306,B,""))}return u;case 0:return B=u.type,P=u.pendingProps,P=u.elementType===B?P:Al(B,P),Xx(c,u,B,P,x);case 1:return B=u.type,P=u.pendingProps,P=u.elementType===B?P:Al(B,P),i2(c,u,B,P,x);case 3:e:{if(o2(u),c===null)throw Error(t(387));B=u.pendingProps,O=u.memoizedState,P=O.element,Js(c,u),Fs(u,B,null,x);var oe=u.memoizedState;if(B=oe.element,O.isDehydrated)if(O={element:B,isDehydrated:!1,cache:oe.cache,pendingSuspenseBoundaries:oe.pendingSuspenseBoundaries,transitions:oe.transitions},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){P=Zu(Error(t(423)),u),u=l2(c,u,B,x,P);break e}else if(B!==P){P=Zu(Error(t(424)),u),u=l2(c,u,B,x,P);break e}else for(ze=Qs(u.stateNode.containerInfo.firstChild),$e=u,et=!0,tt=null,x=dn(u,null,B,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if($t(),B===P){u=Vc(c,u,x);break e}wi(c,u,B,x)}u=u.child}return u;case 5:return Zm(u),c===null&&Jt(u),B=u.type,P=u.pendingProps,O=c!==null?c.memoizedProps:null,oe=P.children,fh(B,P)?oe=null:O!==null&&fh(B,O)&&(u.flags|=32),s2(c,u),wi(c,u,oe,x),u.child;case 6:return c===null&&Jt(u),null;case 13:return c2(c,u,x);case 4:return LA(u,u.stateNode.containerInfo),B=u.pendingProps,c===null?u.child=Qn(u,null,B,x):wi(c,u,B,x),u.child;case 11:return B=u.type,P=u.pendingProps,P=u.elementType===B?P:Al(B,P),t2(c,u,B,P,x);case 7:return wi(c,u,u.pendingProps,x),u.child;case 8:return wi(c,u,u.pendingProps.children,x),u.child;case 12:return wi(c,u,u.pendingProps.children,x),u.child;case 10:e:{if(B=u.type._context,P=u.pendingProps,O=u.memoizedProps,oe=P.value,Ua(zn,B._currentValue),B._currentValue=oe,O!==null)if(xn(O.value,oe)){if(O.children===P.children&&!Ys.current){u=Vc(c,u,x);break e}}else for(O=u.child,O!==null&&(O.return=u);O!==null;){var ge=O.dependencies;if(ge!==null){oe=O.child;for(var je=ge.firstContext;je!==null;){if(je.context===B){if(O.tag===1){je=Fn(-1,x&-x),je.tag=2;var Me=O.updateQueue;if(Me!==null){Me=Me.shared;var ft=Me.pending;ft===null?je.next=je:(je.next=ft.next,ft.next=je),Me.pending=je}}O.lanes|=x,je=O.alternate,je!==null&&(je.lanes|=x),wa(O.return,x,u),ge.lanes|=x;break}je=je.next}}else if(O.tag===10)oe=O.type===u.type?null:O.child;else if(O.tag===18){if(oe=O.return,oe===null)throw Error(t(341));oe.lanes|=x,ge=oe.alternate,ge!==null&&(ge.lanes|=x),wa(oe,x,u),oe=O.sibling}else oe=O.child;if(oe!==null)oe.return=O;else for(oe=O;oe!==null;){if(oe===u){oe=null;break}if(O=oe.sibling,O!==null){O.return=oe.return,oe=O;break}oe=oe.return}O=oe}wi(c,u,P.children,x),u=u.child}return u;case 9:return P=u.type,B=u.pendingProps.children,yn(u,x),P=bn(P),B=B(P),u.flags|=1,wi(c,u,B,x),u.child;case 14:return B=u.type,P=Al(B,u.pendingProps),P=Al(B.type,P),r2(c,u,B,P,x);case 15:return a2(c,u,u.type,u.pendingProps,x);case 17:return B=u.type,P=u.pendingProps,P=u.elementType===B?P:Al(B,P),op(c,u),u.tag=1,Xs(B)?(c=!0,$c(u)):c=!1,yn(u,x),Wb(u,B,P),Wx(u,B,P,x),Jx(null,u,B,!0,c,x);case 19:return d2(c,u,x);case 22:return n2(c,u,x)}throw Error(t(156,u.tag))};function I2(c,u){return Dr(c,u)}function jD(c,u,x,B){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=B,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(c,u,x,B){return new jD(c,u,x,B)}function xv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function BD(c){if(typeof c=="function")return xv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===T)return 11;if(c===re)return 14}return 2}function $A(c,u){var x=c.alternate;return x===null?(x=Po(c.tag,u,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=u,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,u=c.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function xp(c,u,x,B,P,O){var oe=2;if(B=c,typeof c=="function")xv(c)&&(oe=1);else if(typeof c=="string")oe=5;else e:switch(c){case F:return Wd(x.children,P,O,u);case D:oe=8,P|=8;break;case _:return c=Po(12,x,u,P|2),c.elementType=_,c.lanes=O,c;case J:return c=Po(13,x,u,P),c.elementType=J,c.lanes=O,c;case R:return c=Po(19,x,u,P),c.elementType=R,c.lanes=O,c;case Y:return vp(x,P,O,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case G:oe=10;break e;case L:oe=9;break e;case T:oe=11;break e;case re:oe=14;break e;case V:oe=16,B=null;break e}throw Error(t(130,c==null?c:typeof c,""))}return u=Po(oe,x,u,P),u.elementType=c,u.type=B,u.lanes=O,u}function Wd(c,u,x,B){return c=Po(7,c,B,u),c.lanes=x,c}function vp(c,u,x,B){return c=Po(22,c,B,u),c.elementType=Y,c.lanes=x,c.stateNode={isHidden:!1},c}function vv(c,u,x){return c=Po(6,c,null,u),c.lanes=x,c}function wv(c,u,x){return u=Po(4,c.children!==null?c.children:[],c.key,u),u.lanes=x,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function CD(c,u,x,B,P){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yr(0),this.expirationTimes=Yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.identifierPrefix=B,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function yv(c,u,x,B,P,O,oe,ge,je){return c=new CD(c,u,x,ge,je),u===1?(u=1,O===!0&&(u|=8)):u=0,O=Po(3,null,null,u),c.current=O,O.stateNode=c,O.memoizedState={element:B,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},ws(O),c}function SD(c,u,x){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:B==null?null:""+B,children:c,containerInfo:u,implementation:x}}function P2(c){if(!c)return Tl;c=c._reactInternals;e:{if(Je(c)!==c||c.tag!==1)throw Error(t(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Xs(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(c.tag===1){var x=c.type;if(Xs(x))return gh(c,x,u)}return u}function Q2(c,u,x,B,P,O,oe,ge,je){return c=yv(x,B,!0,c,P,O,oe,ge,je),c.context=P2(null),x=c.current,B=yi(),P=OA(x),O=Fn(B,P),O.callback=u??null,kn(x,O,P),c.current.lanes=P,cn(c,P,B),Oi(c,B),c}function wp(c,u,x,B){var P=u.current,O=yi(),oe=OA(P);return x=P2(x),u.context===null?u.context=x:u.pendingContext=x,u=Fn(O,oe),u.payload={element:c},B=B===void 0?null:B,B!==null&&(u.callback=B),c=kn(P,u,oe),c!==null&&(fl(c,P,oe,O),Es(c,P,oe)),oe}function yp(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function R2(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<u?x:u}}function bv(c,u){R2(c,u),(c=c.alternate)&&R2(c,u)}function _D(){return null}var M2=typeof reportError=="function"?reportError:function(c){console.error(c)};function Nv(c){this._internalRoot=c}bp.prototype.render=Nv.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(t(409));wp(c,u,null,null)},bp.prototype.unmount=Nv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;Vd(function(){wp(null,c,null,null)}),u[Ss]=null}};function bp(c){this._internalRoot=c}bp.prototype.unstable_scheduleHydration=function(c){if(c){var u=Du();c={blockedOn:null,target:c,priority:u};for(var x=0;x<No.length&&u!==0&&u<No[x].priority;x++);No.splice(x,0,c),x===0&&Lu(c)}};function jv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Np(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function T2(){}function ED(c,u,x,B,P){if(P){if(typeof B=="function"){var O=B;B=function(){var Me=yp(oe);O.call(Me)}}var oe=Q2(u,B,c,0,null,!1,!1,"",T2);return c._reactRootContainer=oe,c[Ss]=oe.current,Rc(c.nodeType===8?c.parentNode:c),Vd(),oe}for(;P=c.lastChild;)c.removeChild(P);if(typeof B=="function"){var ge=B;B=function(){var Me=yp(je);ge.call(Me)}}var je=yv(c,0,!1,null,null,!1,!1,"",T2);return c._reactRootContainer=je,c[Ss]=je.current,Rc(c.nodeType===8?c.parentNode:c),Vd(function(){wp(u,je,x,B)}),je}function jp(c,u,x,B,P){var O=x._reactRootContainer;if(O){var oe=O;if(typeof P=="function"){var ge=P;P=function(){var je=yp(oe);ge.call(je)}}wp(u,oe,c,P)}else oe=ED(x,u,c,P,B);return yp(oe)}gA=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var x=qe(u.pendingLanes);x!==0&&(Yi(u,x|1),Oi(u,zt()),(ya&6)===0&&(rf=zt()+500,W()))}break;case 13:Vd(function(){var B=Ta(c,1);if(B!==null){var P=yi();fl(B,c,1,P)}}),bv(c,1)}},bd=function(c){if(c.tag===13){var u=Ta(c,134217728);if(u!==null){var x=yi();fl(u,c,134217728,x)}bv(c,134217728)}},ku=function(c){if(c.tag===13){var u=OA(c),x=Ta(c,u);if(x!==null){var B=yi();fl(x,c,u,B)}bv(c,u)}},Du=function(){return Aa},xA=function(c,u){var x=Aa;try{return Aa=c,u()}finally{Aa=x}},Ba=function(c,u,x){switch(u){case"input":if(gt(c,x),u=x.name,x.type==="radio"&&u!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<x.length;u++){var B=x[u];if(B!==c&&B.form===c.form){var P=Md(B);if(!P)throw Error(t(90));Be(B),gt(B,P)}}}break;case"textarea":Ut(c,x);break;case"select":u=x.value,u!=null&&ct(c,!!x.multiple,u,!1)}},vt=mv,ar=Vd;var FD={usingClientEntryPoint:!1,Events:[DA,Oc,Md,nt,Er,mv]},_h={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kD={bundleType:_h.bundleType,version:_h.version,rendererPackageName:_h.rendererPackageName,rendererConfig:_h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=mr(c),c===null?null:c.stateNode},findFiberByHostInstance:_h.findFiberByHostInstance||_D,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{tn=Bp.inject(kD),rn=Bp}catch{}}return Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FD,Hi.createPortal=function(c,u){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jv(u))throw Error(t(200));return SD(c,u,null,x)},Hi.createRoot=function(c,u){if(!jv(c))throw Error(t(299));var x=!1,B="",P=M2;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(B=u.identifierPrefix),u.onRecoverableError!==void 0&&(P=u.onRecoverableError)),u=yv(c,1,!1,null,null,x,!1,B,P),c[Ss]=u.current,Rc(c.nodeType===8?c.parentNode:c),new Nv(u)},Hi.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(t(188)):(c=Object.keys(c).join(","),Error(t(268,c)));return c=mr(u),c=c===null?null:c.stateNode,c},Hi.flushSync=function(c){return Vd(c)},Hi.hydrate=function(c,u,x){if(!Np(u))throw Error(t(200));return jp(null,c,u,!0,x)},Hi.hydrateRoot=function(c,u,x){if(!jv(c))throw Error(t(405));var B=x!=null&&x.hydratedSources||null,P=!1,O="",oe=M2;if(x!=null&&(x.unstable_strictMode===!0&&(P=!0),x.identifierPrefix!==void 0&&(O=x.identifierPrefix),x.onRecoverableError!==void 0&&(oe=x.onRecoverableError)),u=Q2(u,null,c,1,x??null,P,!1,O,oe),c[Ss]=u.current,Rc(c),B)for(c=0;c<B.length;c++)x=B[c],P=x._getVersion,P=P(x._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[x,P]:u.mutableSourceEagerHydrationData.push(x,P);return new bp(u)},Hi.render=function(c,u,x){if(!Np(u))throw Error(t(200));return jp(null,c,u,!1,x)},Hi.unmountComponentAtNode=function(c){if(!Np(c))throw Error(t(40));return c._reactRootContainer?(Vd(function(){jp(null,null,c,!1,function(){c._reactRootContainer=null,c[Ss]=null})}),!0):!1},Hi.unstable_batchedUpdates=mv,Hi.unstable_renderSubtreeIntoContainer=function(c,u,x,B){if(!Np(x))throw Error(t(200));if(c==null||c._reactInternals===void 0)throw Error(t(38));return jp(c,u,x,!1,B)},Hi.version="18.3.1-next-f1338f8080-20240426",Hi}var W2;function p5(){if(W2)return Sv.exports;W2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Sv.exports=OD(),Sv.exports}var G2;function HD(){if(G2)return Cp;G2=1;var e=p5();return Cp.createRoot=e.createRoot,Cp.hydrateRoot=e.hydrateRoot,Cp}var $D=HD(),b=Q0();const Ve=m5(b),bm=ID({__proto__:null,default:Ve},[b]);var Vf=p5();const g5=m5(Vf);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},im.apply(this,arguments)}var td;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(td||(td={}));const Y2="popstate";function KD(e){e===void 0&&(e={});function r(s,i){let{pathname:o="/",search:l="",hash:A=""}=Bu(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Zw("",{pathname:o,search:l,hash:A},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let A=s.location.href,d=A.indexOf("#");l=d===-1?A:A.slice(0,d)}return l+"#"+(typeof i=="string"?i:qg(i))}function a(s,i){N1(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return zD(r,t,a,e)}function rs(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function N1(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function VD(){return Math.random().toString(36).substr(2,8)}function X2(e,r){return{usr:e.state,key:e.key,idx:r}}function Zw(e,r,t,a){return t===void 0&&(t=null),im({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Bu(r):r,{state:t,key:r&&r.key||a||VD()})}function qg(e){let{pathname:r="/",search:t="",hash:a=""}=e;return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Bu(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substr(t),e=e.substr(0,t));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function zD(e,r,t,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l=td.Pop,A=null,d=f();d==null&&(d=0,o.replaceState(im({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=td.Pop;let y=f(),w=y==null?null:y-d;d=y,A&&A({action:l,location:g.location,delta:w})}function m(y,w){l=td.Push;let j=Zw(g.location,y,w);t&&t(j,y),d=f()+1;let C=X2(j,d),E=g.createHref(j);try{o.pushState(C,"",E)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(E)}i&&A&&A({action:l,location:g.location,delta:1})}function p(y,w){l=td.Replace;let j=Zw(g.location,y,w);t&&t(j,y),d=f();let C=X2(j,d),E=g.createHref(j);o.replaceState(C,"",E),i&&A&&A({action:l,location:g.location,delta:0})}function v(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof y=="string"?y:qg(y);return j=j.replace(/ $/,"%20"),rs(w,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,w)}let g={get action(){return l},get location(){return e(s,o)},listen(y){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener(Y2,h),A=y,()=>{s.removeEventListener(Y2,h),A=null}},createHref(y){return r(s,y)},createURL:v,encodeLocation(y){let w=v(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(y){return o.go(y)}};return g}var J2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(J2||(J2={}));function qD(e,r,t){return t===void 0&&(t="/"),WD(e,r,t)}function WD(e,r,t,a){let s=typeof r=="string"?Bu(r):r,i=j1(s.pathname||"/",t);if(i==null)return null;let o=x5(e);GD(o);let l=null;for(let A=0;l==null&&A<o.length;++A){let d=oU(i);l=nU(o[A],d)}return l}function x5(e,r,t,a){r===void 0&&(r=[]),t===void 0&&(t=[]),a===void 0&&(a="");let s=(i,o,l)=>{let A={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};A.relativePath.startsWith("/")&&(rs(A.relativePath.startsWith(a),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(a.length));let d=od([a,A.relativePath]),f=t.concat(A);i.children&&i.children.length>0&&(rs(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),x5(i.children,r,f,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:rU(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let A of v5(i.path))s(i,o,A)}),r}function v5(e){let r=e.split("/");if(r.length===0)return[];let[t,...a]=r,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=v5(a.join("/")),l=[];return l.push(...o.map(A=>A===""?i:[i,A].join("/"))),s&&l.push(...o),l.map(A=>e.startsWith("/")&&A===""?"/":A)}function GD(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:aU(r.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}const YD=/^:[\w-]+$/,XD=3,JD=2,ZD=1,eU=10,tU=-2,Z2=e=>e==="*";function rU(e,r){let t=e.split("/"),a=t.length;return t.some(Z2)&&(a+=tU),r&&(a+=JD),t.filter(s=>!Z2(s)).reduce((s,i)=>s+(YD.test(i)?XD:i===""?ZD:eU),a)}function aU(e,r){return e.length===r.length&&e.slice(0,-1).every((a,s)=>a===r[s])?e[e.length-1]-r[r.length-1]:0}function nU(e,r,t){let{routesMeta:a}=e,s={},i="/",o=[];for(let l=0;l<a.length;++l){let A=a[l],d=l===a.length-1,f=i==="/"?r:r.slice(i.length)||"/",h=sU({path:A.relativePath,caseSensitive:A.caseSensitive,end:d},f),m=A.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:od([i,h.pathname]),pathnameBase:dU(od([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=od([i,h.pathnameBase]))}return o}function sU(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,a]=iU(e.path,e.caseSensitive,e.end),s=r.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((d,f,h)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function iU(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=!0),N1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,A)=>(a.push({paramName:l,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function oU(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return N1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function j1(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,a=e.charAt(t);return a&&a!=="/"?null:e.slice(t)||"/"}function lU(e,r){r===void 0&&(r="/");let{pathname:t,search:a="",hash:s=""}=typeof e=="string"?Bu(e):e;return{pathname:t?t.startsWith("/")?t:cU(t,r):r,search:uU(a),hash:fU(s)}}function cU(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Fv(e,r,t,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AU(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function B1(e,r){let t=AU(e);return r?t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase):t.map(a=>a.pathnameBase)}function C1(e,r,t,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=Bu(e):(s=im({},e),rs(!s.pathname||!s.pathname.includes("?"),Fv("?","pathname","search",s)),rs(!s.pathname||!s.pathname.includes("#"),Fv("#","pathname","hash",s)),rs(!s.search||!s.search.includes("#"),Fv("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=t;else{let h=r.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?r[h]:"/"}let A=lU(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&t.endsWith("/");return!A.pathname.endsWith("/")&&(d||f)&&(A.pathname+="/"),A}const od=e=>e.join("/").replace(/\/\/+/g,"/"),dU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w5=["post","put","patch","delete"];new Set(w5);const mU=["get",...w5];new Set(mU);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function om(){return om=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},om.apply(this,arguments)}const S1=b.createContext(null),pU=b.createContext(null),vd=b.createContext(null),R0=b.createContext(null),hc=b.createContext({outlet:null,matches:[],isDataRoute:!1}),y5=b.createContext(null);function gU(e,r){let{relative:t}=r===void 0?{}:r;zf()||rs(!1);let{basename:a,navigator:s}=b.useContext(vd),{hash:i,pathname:o,search:l}=N5(e,{relative:t}),A=o;return a!=="/"&&(A=o==="/"?a:od([a,o])),s.createHref({pathname:A,search:l,hash:i})}function zf(){return b.useContext(R0)!=null}function ns(){return zf()||rs(!1),b.useContext(R0).location}function b5(e){b.useContext(vd).static||b.useLayoutEffect(e)}function Kn(){let{isDataRoute:e}=b.useContext(hc);return e?DU():xU()}function xU(){zf()||rs(!1);let e=b.useContext(S1),{basename:r,future:t,navigator:a}=b.useContext(vd),{matches:s}=b.useContext(hc),{pathname:i}=ns(),o=JSON.stringify(B1(s,t.v7_relativeSplatPath)),l=b.useRef(!1);return b5(()=>{l.current=!0}),b.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){a.go(d);return}let h=C1(d,JSON.parse(o),i,f.relative==="path");e==null&&r!=="/"&&(h.pathname=h.pathname==="/"?r:od([r,h.pathname])),(f.replace?a.replace:a.push)(h,f.state,f)},[r,a,o,i,e])}const vU=b.createContext(null);function wU(e){let r=b.useContext(hc).outlet;return r&&b.createElement(vU.Provider,{value:e},r)}function zo(){let{matches:e}=b.useContext(hc),r=e[e.length-1];return r?r.params:{}}function N5(e,r){let{relative:t}=r===void 0?{}:r,{future:a}=b.useContext(vd),{matches:s}=b.useContext(hc),{pathname:i}=ns(),o=JSON.stringify(B1(s,a.v7_relativeSplatPath));return b.useMemo(()=>C1(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function yU(e,r){return bU(e,r)}function bU(e,r,t,a){zf()||rs(!1);let{navigator:s}=b.useContext(vd),{matches:i}=b.useContext(hc),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let A=o?o.pathnameBase:"/";o&&o.route;let d=ns(),f;if(r){var h;let y=typeof r=="string"?Bu(r):r;A==="/"||(h=y.pathname)!=null&&h.startsWith(A)||rs(!1),f=y}else f=d;let m=f.pathname||"/",p=m;if(A!=="/"){let y=A.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=qD(e,{pathname:p}),g=SU(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:od([A,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?A:od([A,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,t,a);return r&&g?b.createElement(R0.Provider,{value:{location:om({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:td.Pop}},g):g}function NU(){let e=kU(),r=hU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},r),t?b.createElement("pre",{style:s},t):null,null)}const jU=b.createElement(NU,null);class BU extends b.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?b.createElement(hc.Provider,{value:this.props.routeContext},b.createElement(y5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CU(e){let{routeContext:r,match:t,children:a}=e,s=b.useContext(S1);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(hc.Provider,{value:r},a)}function SU(e,r,t,a){var s;if(r===void 0&&(r=[]),t===void 0&&(t=null),a===void 0&&(a=null),e==null){var i;if(!t)return null;if(t.errors)e=t.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let o=e,l=(s=t)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||rs(!1),o=o.slice(0,Math.min(o.length,f+1))}let A=!1,d=-1;if(t&&a&&a.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:p}=t,v=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){A=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let p,v=!1,g=null,y=null;t&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||jU,A&&(d<0&&m===0?(UU("route-fallback"),v=!0,y=null):d===m&&(v=!0,y=h.route.hydrateFallbackElement||null)));let w=r.concat(o.slice(0,m+1)),j=()=>{let C;return p?C=g:v?C=y:h.route.Component?C=b.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=f,b.createElement(CU,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:t!=null},children:C})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(BU,{location:t.location,revalidation:t.revalidation,component:g,error:p,children:j(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):j()},null)}var j5=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(j5||{}),B5=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(B5||{});function _U(e){let r=b.useContext(S1);return r||rs(!1),r}function EU(e){let r=b.useContext(pU);return r||rs(!1),r}function FU(e){let r=b.useContext(hc);return r||rs(!1),r}function C5(e){let r=FU(),t=r.matches[r.matches.length-1];return t.route.id||rs(!1),t.route.id}function kU(){var e;let r=b.useContext(y5),t=EU(),a=C5();return r!==void 0?r:(e=t.errors)==null?void 0:e[a]}function DU(){let{router:e}=_U(j5.UseNavigateStable),r=C5(B5.UseNavigateStable),t=b.useRef(!1);return b5(()=>{t.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,om({fromRouteId:r},i)))},[e,r])}const eN={};function UU(e,r,t){eN[e]||(eN[e]=!0)}function LU(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ea(e){let{to:r,replace:t,state:a,relative:s}=e;zf()||rs(!1);let{future:i,static:o}=b.useContext(vd),{matches:l}=b.useContext(hc),{pathname:A}=ns(),d=Kn(),f=C1(r,B1(l,i.v7_relativeSplatPath),A,s==="path"),h=JSON.stringify(f);return b.useEffect(()=>d(JSON.parse(h),{replace:t,state:a,relative:s}),[d,h,s,t,a]),null}function Nm(e){return wU(e.context)}function Qt(e){rs(!1)}function IU(e){let{basename:r="/",children:t=null,location:a,navigationType:s=td.Pop,navigator:i,static:o=!1,future:l}=e;zf()&&rs(!1);let A=r.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:A,navigator:i,static:o,future:om({v7_relativeSplatPath:!1},l)}),[A,l,i,o]);typeof a=="string"&&(a=Bu(a));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:v="default"}=a,g=b.useMemo(()=>{let y=j1(f,A);return y==null?null:{location:{pathname:y,search:h,hash:m,state:p,key:v},navigationType:s}},[A,f,h,m,p,v,s]);return g==null?null:b.createElement(vd.Provider,{value:d},b.createElement(R0.Provider,{children:t,value:g}))}function PU(e){let{children:r,location:t}=e;return yU(ey(r),t)}new Promise(()=>{});function ey(e,r){r===void 0&&(r=[]);let t=[];return b.Children.forEach(e,(a,s)=>{if(!b.isValidElement(a))return;let i=[...r,s];if(a.type===b.Fragment){t.push.apply(t,ey(a.props.children,i));return}a.type!==Qt&&rs(!1),!a.props.index||!a.props.children||rs(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=ey(a.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ty.apply(this,arguments)}function QU(e,r){if(e==null)return{};var t={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(t[s]=e[s]);return t}function RU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MU(e,r){return e.button===0&&(!r||r==="_self")&&!RU(e)}function ry(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let a=e[t];return r.concat(Array.isArray(a)?a.map(s=>[t,s]):[[t,a]])},[]))}function TU(e,r){let t=ry(e);return r&&r.forEach((a,s)=>{t.has(s)||r.getAll(s).forEach(i=>{t.append(s,i)})}),t}const OU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HU="6";try{window.__reactRouterVersion=HU}catch{}const $U="startTransition",tN=bm[$U];function KU(e){let{basename:r,children:t,future:a,window:s}=e,i=b.useRef();i.current==null&&(i.current=KD({window:s,v5Compat:!0}));let o=i.current,[l,A]=b.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},f=b.useCallback(h=>{d&&tN?tN(()=>A(h)):A(h)},[A,d]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.useEffect(()=>LU(a),[a]),b.createElement(IU,{basename:r,children:t,location:l.location,navigationType:l.action,navigator:o,future:a})}const VU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=b.forwardRef(function(r,t){let{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:A,to:d,preventScrollReset:f,viewTransition:h}=r,m=QU(r,OU),{basename:p}=b.useContext(vd),v,g=!1;if(typeof d=="string"&&zU.test(d)&&(v=d,VU))try{let C=new URL(window.location.href),E=d.startsWith("//")?new URL(C.protocol+d):new URL(d),U=j1(E.pathname,p);E.origin===C.origin&&U!=null?d=U+E.search+E.hash:g=!0}catch{}let y=gU(d,{relative:s}),w=qU(d,{replace:o,state:l,target:A,preventScrollReset:f,relative:s,viewTransition:h});function j(C){a&&a(C),C.defaultPrevented||w(C)}return b.createElement("a",ty({},m,{href:v||y,onClick:g||i?a:j,ref:t,target:A}))});var rN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rN||(rN={}));var aN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(aN||(aN={}));function qU(e,r){let{target:t,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,A=Kn(),d=ns(),f=N5(e,{relative:o});return b.useCallback(h=>{if(MU(h,t)){h.preventDefault();let m=a!==void 0?a:qg(d)===qg(f);A(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,A,f,a,s,t,e,i,o,l])}function WU(e){let r=b.useRef(ry(e)),t=b.useRef(!1),a=ns(),s=b.useMemo(()=>TU(a.search,t.current?null:r.current),[a.search]),i=Kn(),o=b.useCallback((l,A)=>{const d=ry(typeof l=="function"?l(s):l);t.current=!0,i("?"+d,A)},[i,s]);return[s,o]}function S5(e,r){return function(){return e.apply(r,arguments)}}const{toString:GU}=Object.prototype,{getPrototypeOf:_1}=Object,{iterator:M0,toStringTag:_5}=Symbol,T0=(e=>r=>{const t=GU.call(r);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),jl=e=>(e=e.toLowerCase(),r=>T0(r)===e),O0=e=>r=>typeof r===e,{isArray:qf}=Array,Qf=O0("undefined");function jm(e){return e!==null&&!Qf(e)&&e.constructor!==null&&!Qf(e.constructor)&&Ki(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const E5=jl("ArrayBuffer");function YU(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&E5(e.buffer),r}const XU=O0("string"),Ki=O0("function"),F5=O0("number"),Bm=e=>e!==null&&typeof e=="object",JU=e=>e===!0||e===!1,wg=e=>{if(T0(e)!=="object")return!1;const r=_1(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(_5 in e)&&!(M0 in e)},ZU=e=>{if(!Bm(e)||jm(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},eL=jl("Date"),tL=jl("File"),rL=jl("Blob"),aL=jl("FileList"),nL=e=>Bm(e)&&Ki(e.pipe),sL=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Ki(e.append)&&((r=T0(e))==="formdata"||r==="object"&&Ki(e.toString)&&e.toString()==="[object FormData]"))},iL=jl("URLSearchParams"),[oL,lL,cL,AL]=["ReadableStream","Request","Response","Headers"].map(jl),dL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cm(e,r,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),qf(e))for(a=0,s=e.length;a<s;a++)r.call(null,e[a],a,e);else{if(jm(e))return;const i=t?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],r.call(null,e[l],l,e)}}function k5(e,r){if(jm(e))return null;r=r.toLowerCase();const t=Object.keys(e);let a=t.length,s;for(;a-- >0;)if(s=t[a],r===s.toLowerCase())return s;return null}const ru=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,D5=e=>!Qf(e)&&e!==ru;function ay(){const{caseless:e,skipUndefined:r}=D5(this)&&this||{},t={},a=(s,i)=>{const o=e&&k5(t,i)||i;wg(t[o])&&wg(s)?t[o]=ay(t[o],s):wg(s)?t[o]=ay({},s):qf(s)?t[o]=s.slice():(!r||!Qf(s))&&(t[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Cm(arguments[s],a);return t}const uL=(e,r,t,{allOwnKeys:a}={})=>(Cm(r,(s,i)=>{t&&Ki(s)?e[i]=S5(s,t):e[i]=s},{allOwnKeys:a}),e),fL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hL=(e,r,t,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),t&&Object.assign(e.prototype,t)},mL=(e,r,t,a)=>{let s,i,o;const l={};if(r=r||{},e==null)return r;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!a||a(o,e,r))&&!l[o]&&(r[o]=e[o],l[o]=!0);e=t!==!1&&_1(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r},pL=(e,r,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=r.length;const a=e.indexOf(r,t);return a!==-1&&a===t},gL=e=>{if(!e)return null;if(qf(e))return e;let r=e.length;if(!F5(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=e[r];return t},xL=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&_1(Uint8Array)),vL=(e,r)=>{const a=(e&&e[M0]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;r.call(e,i[0],i[1])}},wL=(e,r)=>{let t;const a=[];for(;(t=e.exec(r))!==null;)a.push(t);return a},yL=jl("HTMLFormElement"),bL=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,a,s){return a.toUpperCase()+s}),nN=(({hasOwnProperty:e})=>(r,t)=>e.call(r,t))(Object.prototype),NL=jl("RegExp"),U5=(e,r)=>{const t=Object.getOwnPropertyDescriptors(e),a={};Cm(t,(s,i)=>{let o;(o=r(s,i,e))!==!1&&(a[i]=o||s)}),Object.defineProperties(e,a)},jL=e=>{U5(e,(r,t)=>{if(Ki(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const a=e[t];if(Ki(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},BL=(e,r)=>{const t={},a=s=>{s.forEach(i=>{t[i]=!0})};return qf(e)?a(e):a(String(e).split(r)),t},CL=()=>{},SL=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function _L(e){return!!(e&&Ki(e.append)&&e[_5]==="FormData"&&e[M0])}const EL=e=>{const r=new Array(10),t=(a,s)=>{if(Bm(a)){if(r.indexOf(a)>=0)return;if(jm(a))return a;if(!("toJSON"in a)){r[s]=a;const i=qf(a)?[]:{};return Cm(a,(o,l)=>{const A=t(o,s+1);!Qf(A)&&(i[l]=A)}),r[s]=void 0,i}}return a};return t(e,0)},FL=jl("AsyncFunction"),kL=e=>e&&(Bm(e)||Ki(e))&&Ki(e.then)&&Ki(e.catch),L5=((e,r)=>e?setImmediate:r?((t,a)=>(ru.addEventListener("message",({source:s,data:i})=>{s===ru&&i===t&&a.length&&a.shift()()},!1),s=>{a.push(s),ru.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ki(ru.postMessage)),DL=typeof queueMicrotask<"u"?queueMicrotask.bind(ru):typeof process<"u"&&process.nextTick||L5,UL=e=>e!=null&&Ki(e[M0]),Oe={isArray:qf,isArrayBuffer:E5,isBuffer:jm,isFormData:sL,isArrayBufferView:YU,isString:XU,isNumber:F5,isBoolean:JU,isObject:Bm,isPlainObject:wg,isEmptyObject:ZU,isReadableStream:oL,isRequest:lL,isResponse:cL,isHeaders:AL,isUndefined:Qf,isDate:eL,isFile:tL,isBlob:rL,isRegExp:NL,isFunction:Ki,isStream:nL,isURLSearchParams:iL,isTypedArray:xL,isFileList:aL,forEach:Cm,merge:ay,extend:uL,trim:dL,stripBOM:fL,inherits:hL,toFlatObject:mL,kindOf:T0,kindOfTest:jl,endsWith:pL,toArray:gL,forEachEntry:vL,matchAll:wL,isHTMLForm:yL,hasOwnProperty:nN,hasOwnProp:nN,reduceDescriptors:U5,freezeMethods:jL,toObjectSet:BL,toCamelCase:bL,noop:CL,toFiniteNumber:SL,findKey:k5,global:ru,isContextDefined:D5,isSpecCompliantForm:_L,toJSONObject:EL,isAsyncFn:FL,isThenable:kL,setImmediate:L5,asap:DL,isIterable:UL};function Mr(e,r,t,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Oe.inherits(Mr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const I5=Mr.prototype,P5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{P5[e]={value:e}});Object.defineProperties(Mr,P5);Object.defineProperty(I5,"isAxiosError",{value:!0});Mr.from=(e,r,t,a,s,i)=>{const o=Object.create(I5);Oe.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",A=r==null&&e?e.code:r;return Mr.call(o,l,A,t,a,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const LL=null;function ny(e){return Oe.isPlainObject(e)||Oe.isArray(e)}function Q5(e){return Oe.endsWith(e,"[]")?e.slice(0,-2):e}function sN(e,r,t){return e?e.concat(r).map(function(s,i){return s=Q5(s),!t&&i?"["+s+"]":s}).join(t?".":""):r}function IL(e){return Oe.isArray(e)&&!e.some(ny)}const PL=Oe.toFlatObject(Oe,{},null,function(r){return/^is[A-Z]/.test(r)});function H0(e,r,t){if(!Oe.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,t=Oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!Oe.isUndefined(y[g])});const a=t.metaTokens,s=t.visitor||f,i=t.dots,o=t.indexes,A=(t.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(r);if(!Oe.isFunction(s))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(Oe.isDate(v))return v.toISOString();if(Oe.isBoolean(v))return v.toString();if(!A&&Oe.isBlob(v))throw new Mr("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(v)||Oe.isTypedArray(v)?A&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,g,y){let w=v;if(v&&!y&&typeof v=="object"){if(Oe.endsWith(g,"{}"))g=a?g:g.slice(0,-2),v=JSON.stringify(v);else if(Oe.isArray(v)&&IL(v)||(Oe.isFileList(v)||Oe.endsWith(g,"[]"))&&(w=Oe.toArray(v)))return g=Q5(g),w.forEach(function(C,E){!(Oe.isUndefined(C)||C===null)&&r.append(o===!0?sN([g],E,i):o===null?g:g+"[]",d(C))}),!1}return ny(v)?!0:(r.append(sN(y,g,i),d(v)),!1)}const h=[],m=Object.assign(PL,{defaultVisitor:f,convertValue:d,isVisitable:ny});function p(v,g){if(!Oe.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(v),Oe.forEach(v,function(w,j){(!(Oe.isUndefined(w)||w===null)&&s.call(r,w,Oe.isString(j)?j.trim():j,g,m))===!0&&p(w,g?g.concat(j):[j])}),h.pop()}}if(!Oe.isObject(e))throw new TypeError("data must be an object");return p(e),r}function iN(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function E1(e,r){this._pairs=[],e&&H0(e,this,r)}const R5=E1.prototype;R5.append=function(r,t){this._pairs.push([r,t])};R5.toString=function(r){const t=r?function(a){return r.call(this,a,iN)}:iN;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function QL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function M5(e,r,t){if(!r)return e;const a=t&&t.encode||QL;Oe.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(r,t):i=Oe.isURLSearchParams(r)?r.toString():new E1(r,t).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class oN{constructor(){this.handlers=[]}use(r,t,a){return this.handlers.push({fulfilled:r,rejected:t,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Oe.forEach(this.handlers,function(a){a!==null&&r(a)})}}const T5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RL=typeof URLSearchParams<"u"?URLSearchParams:E1,ML=typeof FormData<"u"?FormData:null,TL=typeof Blob<"u"?Blob:null,OL={isBrowser:!0,classes:{URLSearchParams:RL,FormData:ML,Blob:TL},protocols:["http","https","file","blob","url","data"]},F1=typeof window<"u"&&typeof document<"u",sy=typeof navigator=="object"&&navigator||void 0,HL=F1&&(!sy||["ReactNative","NativeScript","NS"].indexOf(sy.product)<0),$L=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KL=F1&&window.location.href||"http://localhost",VL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:F1,hasStandardBrowserEnv:HL,hasStandardBrowserWebWorkerEnv:$L,navigator:sy,origin:KL},Symbol.toStringTag,{value:"Module"})),ci={...VL,...OL};function zL(e,r){return H0(e,new ci.classes.URLSearchParams,{visitor:function(t,a,s,i){return ci.isNode&&Oe.isBuffer(t)?(this.append(a,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function qL(e){return Oe.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function WL(e){const r={},t=Object.keys(e);let a;const s=t.length;let i;for(a=0;a<s;a++)i=t[a],r[i]=e[i];return r}function O5(e){function r(t,a,s,i){let o=t[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),A=i>=t.length;return o=!o&&Oe.isArray(s)?s.length:o,A?(Oe.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!l):((!s[o]||!Oe.isObject(s[o]))&&(s[o]=[]),r(t,a,s[o],i)&&Oe.isArray(s[o])&&(s[o]=WL(s[o])),!l)}if(Oe.isFormData(e)&&Oe.isFunction(e.entries)){const t={};return Oe.forEachEntry(e,(a,s)=>{r(qL(a),s,t,0)}),t}return null}function GL(e,r,t){if(Oe.isString(e))try{return(r||JSON.parse)(e),Oe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(t||JSON.stringify)(e)}const Sm={transitional:T5,adapter:["xhr","http","fetch"],transformRequest:[function(r,t){const a=t.getContentType()||"",s=a.indexOf("application/json")>-1,i=Oe.isObject(r);if(i&&Oe.isHTMLForm(r)&&(r=new FormData(r)),Oe.isFormData(r))return s?JSON.stringify(O5(r)):r;if(Oe.isArrayBuffer(r)||Oe.isBuffer(r)||Oe.isStream(r)||Oe.isFile(r)||Oe.isBlob(r)||Oe.isReadableStream(r))return r;if(Oe.isArrayBufferView(r))return r.buffer;if(Oe.isURLSearchParams(r))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return zL(r,this.formSerializer).toString();if((l=Oe.isFileList(r))||a.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return H0(l?{"files[]":r}:r,A&&new A,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),GL(r)):r}],transformResponse:[function(r){const t=this.transitional||Sm.transitional,a=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Oe.isResponse(r)||Oe.isReadableStream(r))return r;if(r&&Oe.isString(r)&&(a&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Mr.from(l,Mr.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ci.classes.FormData,Blob:ci.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],e=>{Sm.headers[e]={}});const YL=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XL=e=>{const r={};let t,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!t||r[t]&&YL[t])&&(t==="set-cookie"?r[t]?r[t].push(a):r[t]=[a]:r[t]=r[t]?r[t]+", "+a:a)}),r},lN=Symbol("internals");function Fh(e){return e&&String(e).trim().toLowerCase()}function yg(e){return e===!1||e==null?e:Oe.isArray(e)?e.map(yg):String(e)}function JL(e){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=t.exec(e);)r[a[1]]=a[2];return r}const ZL=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kv(e,r,t,a,s){if(Oe.isFunction(a))return a.call(this,r,t);if(s&&(r=t),!!Oe.isString(r)){if(Oe.isString(a))return r.indexOf(a)!==-1;if(Oe.isRegExp(a))return a.test(r)}}function e6(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,t,a)=>t.toUpperCase()+a)}function t6(e,r){const t=Oe.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+t,{value:function(s,i,o){return this[a].call(this,r,s,i,o)},configurable:!0})})}let Vi=class{constructor(r){r&&this.set(r)}set(r,t,a){const s=this;function i(l,A,d){const f=Fh(A);if(!f)throw new Error("header name must be a non-empty string");const h=Oe.findKey(s,f);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||A]=yg(l))}const o=(l,A)=>Oe.forEach(l,(d,f)=>i(d,f,A));if(Oe.isPlainObject(r)||r instanceof this.constructor)o(r,t);else if(Oe.isString(r)&&(r=r.trim())&&!ZL(r))o(XL(r),t);else if(Oe.isObject(r)&&Oe.isIterable(r)){let l={},A,d;for(const f of r){if(!Oe.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(A=l[d])?Oe.isArray(A)?[...A,f[1]]:[A,f[1]]:f[1]}o(l,t)}else r!=null&&i(t,r,a);return this}get(r,t){if(r=Fh(r),r){const a=Oe.findKey(this,r);if(a){const s=this[a];if(!t)return s;if(t===!0)return JL(s);if(Oe.isFunction(t))return t.call(this,s,a);if(Oe.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,t){if(r=Fh(r),r){const a=Oe.findKey(this,r);return!!(a&&this[a]!==void 0&&(!t||kv(this,this[a],a,t)))}return!1}delete(r,t){const a=this;let s=!1;function i(o){if(o=Fh(o),o){const l=Oe.findKey(a,o);l&&(!t||kv(a,a[l],l,t))&&(delete a[l],s=!0)}}return Oe.isArray(r)?r.forEach(i):i(r),s}clear(r){const t=Object.keys(this);let a=t.length,s=!1;for(;a--;){const i=t[a];(!r||kv(this,this[i],i,r,!0))&&(delete this[i],s=!0)}return s}normalize(r){const t=this,a={};return Oe.forEach(this,(s,i)=>{const o=Oe.findKey(a,i);if(o){t[o]=yg(s),delete t[i];return}const l=r?e6(i):String(i).trim();l!==i&&delete t[i],t[l]=yg(s),a[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const t=Object.create(null);return Oe.forEach(this,(a,s)=>{a!=null&&a!==!1&&(t[s]=r&&Oe.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,t])=>r+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...t){const a=new this(r);return t.forEach(s=>a.set(s)),a}static accessor(r){const a=(this[lN]=this[lN]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Fh(o);a[l]||(t6(s,o),a[l]=!0)}return Oe.isArray(r)?r.forEach(i):i(r),this}};Vi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(Vi.prototype,({value:e},r)=>{let t=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[t]=a}}});Oe.freezeMethods(Vi);function Dv(e,r){const t=this||Sm,a=r||t,s=Vi.from(a.headers);let i=a.data;return Oe.forEach(e,function(l){i=l.call(t,i,s.normalize(),r?r.status:void 0)}),s.normalize(),i}function H5(e){return!!(e&&e.__CANCEL__)}function Wf(e,r,t){Mr.call(this,e??"canceled",Mr.ERR_CANCELED,r,t),this.name="CanceledError"}Oe.inherits(Wf,Mr,{__CANCEL__:!0});function $5(e,r,t){const a=t.config.validateStatus;!t.status||!a||a(t.status)?e(t):r(new Mr("Request failed with status code "+t.status,[Mr.ERR_BAD_REQUEST,Mr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function r6(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function a6(e,r){e=e||10;const t=new Array(e),a=new Array(e);let s=0,i=0,o;return r=r!==void 0?r:1e3,function(A){const d=Date.now(),f=a[i];o||(o=d),t[s]=A,a[s]=d;let h=i,m=0;for(;h!==s;)m+=t[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<r)return;const p=f&&d-f;return p?Math.round(m*1e3/p):void 0}}function n6(e,r){let t=0,a=1e3/r,s,i;const o=(d,f=Date.now())=>{t=f,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-t;h>=a?o(d,f):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},a-h)))},()=>s&&o(s)]}const Wg=(e,r,t=3)=>{let a=0;const s=a6(50,250);return n6(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,A=o-a,d=s(A),f=o<=l;a=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:A,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};e(h)},t)},cN=(e,r)=>{const t=e!=null;return[a=>r[0]({lengthComputable:t,total:e,loaded:a}),r[1]]},AN=e=>(...r)=>Oe.asap(()=>e(...r)),s6=ci.hasStandardBrowserEnv?((e,r)=>t=>(t=new URL(t,ci.origin),e.protocol===t.protocol&&e.host===t.host&&(r||e.port===t.port)))(new URL(ci.origin),ci.navigator&&/(msie|trident)/i.test(ci.navigator.userAgent)):()=>!0,i6=ci.hasStandardBrowserEnv?{write(e,r,t,a,s,i){const o=[e+"="+encodeURIComponent(r)];Oe.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Oe.isString(a)&&o.push("path="+a),Oe.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function o6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function l6(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function K5(e,r,t){let a=!o6(r);return e&&(a||t==!1)?l6(e,r):r}const dN=e=>e instanceof Vi?{...e}:e;function hu(e,r){r=r||{};const t={};function a(d,f,h,m){return Oe.isPlainObject(d)&&Oe.isPlainObject(f)?Oe.merge.call({caseless:m},d,f):Oe.isPlainObject(f)?Oe.merge({},f):Oe.isArray(f)?f.slice():f}function s(d,f,h,m){if(Oe.isUndefined(f)){if(!Oe.isUndefined(d))return a(void 0,d,h,m)}else return a(d,f,h,m)}function i(d,f){if(!Oe.isUndefined(f))return a(void 0,f)}function o(d,f){if(Oe.isUndefined(f)){if(!Oe.isUndefined(d))return a(void 0,d)}else return a(void 0,f)}function l(d,f,h){if(h in r)return a(d,f);if(h in e)return a(void 0,d)}const A={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,h)=>s(dN(d),dN(f),h,!0)};return Oe.forEach(Object.keys({...e,...r}),function(f){const h=A[f]||s,m=h(e[f],r[f],f);Oe.isUndefined(m)&&h!==l||(t[f]=m)}),t}const V5=e=>{const r=hu({},e);let{data:t,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=r;if(r.headers=o=Vi.from(o),r.url=M5(K5(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Oe.isFormData(t)){if(ci.hasStandardBrowserEnv||ci.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Oe.isFunction(t.getHeaders)){const A=t.getHeaders(),d=["content-type","content-length"];Object.entries(A).forEach(([f,h])=>{d.includes(f.toLowerCase())&&o.set(f,h)})}}if(ci.hasStandardBrowserEnv&&(a&&Oe.isFunction(a)&&(a=a(r)),a||a!==!1&&s6(r.url))){const A=s&&i&&i6.read(i);A&&o.set(s,A)}return r},c6=typeof XMLHttpRequest<"u",A6=c6&&function(e){return new Promise(function(t,a){const s=V5(e);let i=s.data;const o=Vi.from(s.headers).normalize();let{responseType:l,onUploadProgress:A,onDownloadProgress:d}=s,f,h,m,p,v;function g(){p&&p(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function w(){if(!y)return;const C=Vi.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),U={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:e,request:y};$5(function(F){t(F),g()},function(F){a(F),g()},U),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(a(new Mr("Request aborted",Mr.ECONNABORTED,e,y)),y=null)},y.onerror=function(E){const U=E&&E.message?E.message:"Network Error",k=new Mr(U,Mr.ERR_NETWORK,e,y);k.event=E||null,a(k),y=null},y.ontimeout=function(){let E=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const U=s.transitional||T5;s.timeoutErrorMessage&&(E=s.timeoutErrorMessage),a(new Mr(E,U.clarifyTimeoutError?Mr.ETIMEDOUT:Mr.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&Oe.forEach(o.toJSON(),function(E,U){y.setRequestHeader(U,E)}),Oe.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),d&&([m,v]=Wg(d,!0),y.addEventListener("progress",m)),A&&y.upload&&([h,p]=Wg(A),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(f=C=>{y&&(a(!C||C.type?new Wf(null,e,y):C),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const j=r6(s.url);if(j&&ci.protocols.indexOf(j)===-1){a(new Mr("Unsupported protocol "+j+":",Mr.ERR_BAD_REQUEST,e));return}y.send(i||null)})},d6=(e,r)=>{const{length:t}=e=e?e.filter(Boolean):[];if(r||t){let a=new AbortController,s;const i=function(d){if(!s){s=!0,l();const f=d instanceof Error?d:this.reason;a.abort(f instanceof Mr?f:new Wf(f instanceof Error?f.message:f))}};let o=r&&setTimeout(()=>{o=null,i(new Mr(`timeout ${r} of ms exceeded`,Mr.ETIMEDOUT))},r);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:A}=a;return A.unsubscribe=()=>Oe.asap(l),A}},u6=function*(e,r){let t=e.byteLength;if(t<r){yield e;return}let a=0,s;for(;a<t;)s=a+r,yield e.slice(a,s),a=s},f6=async function*(e,r){for await(const t of h6(e))yield*u6(t,r)},h6=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:t,value:a}=await r.read();if(t)break;yield a}}finally{await r.cancel()}},uN=(e,r,t,a)=>{const s=f6(e,r);let i=0,o,l=A=>{o||(o=!0,a&&a(A))};return new ReadableStream({async pull(A){try{const{done:d,value:f}=await s.next();if(d){l(),A.close();return}let h=f.byteLength;if(t){let m=i+=h;t(m)}A.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(A){return l(A),s.return()}},{highWaterMark:2})},fN=64*1024,{isFunction:Sp}=Oe,m6=(({Request:e,Response:r})=>({Request:e,Response:r}))(Oe.global),{ReadableStream:hN,TextEncoder:mN}=Oe.global,pN=(e,...r)=>{try{return!!e(...r)}catch{return!1}},p6=e=>{e=Oe.merge.call({skipUndefined:!0},m6,e);const{fetch:r,Request:t,Response:a}=e,s=r?Sp(r):typeof fetch=="function",i=Sp(t),o=Sp(a);if(!s)return!1;const l=s&&Sp(hN),A=s&&(typeof mN=="function"?(v=>g=>v.encode(g))(new mN):async v=>new Uint8Array(await new t(v).arrayBuffer())),d=i&&l&&pN(()=>{let v=!1;const g=new t(ci.origin,{body:new hN,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!g}),f=o&&l&&pN(()=>Oe.isReadableStream(new a("").body)),h={stream:f&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(g,y)=>{let w=g&&g[v];if(w)return w.call(g);throw new Mr(`Response type '${v}' is not supported`,Mr.ERR_NOT_SUPPORT,y)})});const m=async v=>{if(v==null)return 0;if(Oe.isBlob(v))return v.size;if(Oe.isSpecCompliantForm(v))return(await new t(ci.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(v)||Oe.isArrayBuffer(v))return v.byteLength;if(Oe.isURLSearchParams(v)&&(v=v+""),Oe.isString(v))return(await A(v)).byteLength},p=async(v,g)=>{const y=Oe.toFiniteNumber(v.getContentLength());return y??m(g)};return async v=>{let{url:g,method:y,data:w,signal:j,cancelToken:C,timeout:E,onDownloadProgress:U,onUploadProgress:k,responseType:F,headers:D,withCredentials:_="same-origin",fetchOptions:G}=V5(v),L=r||fetch;F=F?(F+"").toLowerCase():"text";let T=d6([j,C&&C.toAbortSignal()],E),J=null;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let re;try{if(k&&d&&y!=="get"&&y!=="head"&&(re=await p(D,w))!==0){let ee=new t(g,{method:"POST",body:w,duplex:"half"}),Q;if(Oe.isFormData(w)&&(Q=ee.headers.get("content-type"))&&D.setContentType(Q),ee.body){const[q,$]=cN(re,Wg(AN(k)));w=uN(ee.body,fN,q,$)}}Oe.isString(_)||(_=_?"include":"omit");const V=i&&"credentials"in t.prototype,Y={...G,signal:T,method:y.toUpperCase(),headers:D.normalize().toJSON(),body:w,duplex:"half",credentials:V?_:void 0};J=i&&new t(g,Y);let H=await(i?L(J,G):L(g,Y));const Z=f&&(F==="stream"||F==="response");if(f&&(U||Z&&R)){const ee={};["status","statusText","headers"].forEach(X=>{ee[X]=H[X]});const Q=Oe.toFiniteNumber(H.headers.get("content-length")),[q,$]=U&&cN(Q,Wg(AN(U),!0))||[];H=new a(uN(H.body,fN,q,()=>{$&&$(),R&&R()}),ee)}F=F||"text";let Ae=await h[Oe.findKey(h,F)||"text"](H,v);return!Z&&R&&R(),await new Promise((ee,Q)=>{$5(ee,Q,{data:Ae,headers:Vi.from(H.headers),status:H.status,statusText:H.statusText,config:v,request:J})})}catch(V){throw R&&R(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new Mr("Network Error",Mr.ERR_NETWORK,v,J),{cause:V.cause||V}):Mr.from(V,V&&V.code,v,J)}}},g6=new Map,z5=e=>{let r=e?e.env:{};const{fetch:t,Request:a,Response:s}=r,i=[a,s,t];let o=i.length,l=o,A,d,f=g6;for(;l--;)A=i[l],d=f.get(A),d===void 0&&f.set(A,d=l?new Map:p6(r)),f=d;return d};z5();const iy={http:LL,xhr:A6,fetch:{get:z5}};Oe.forEach(iy,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const gN=e=>`- ${e}`,x6=e=>Oe.isFunction(e)||e===null||e===!1,q5={getAdapter:(e,r)=>{e=Oe.isArray(e)?e:[e];const{length:t}=e;let a,s;const i={};for(let o=0;o<t;o++){a=e[o];let l;if(s=a,!x6(a)&&(s=iy[(l=String(a)).toLowerCase()],s===void 0))throw new Mr(`Unknown adapter '${l}'`);if(s&&(Oe.isFunction(s)||(s=s.get(r))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([A,d])=>`adapter ${A} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(gN).join(`
`):" "+gN(o[0]):"as no adapter specified";throw new Mr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:iy};function Uv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wf(null,e)}function xN(e){return Uv(e),e.headers=Vi.from(e.headers),e.data=Dv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),q5.getAdapter(e.adapter||Sm.adapter,e)(e).then(function(a){return Uv(e),a.data=Dv.call(e,e.transformResponse,a),a.headers=Vi.from(a.headers),a},function(a){return H5(a)||(Uv(e),a&&a.response&&(a.response.data=Dv.call(e,e.transformResponse,a.response),a.response.headers=Vi.from(a.response.headers))),Promise.reject(a)})}const W5="1.12.2",$0={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{$0[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const vN={};$0.transitional=function(r,t,a){function s(i,o){return"[Axios v"+W5+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(r===!1)throw new Mr(s(o," has been removed"+(t?" in "+t:"")),Mr.ERR_DEPRECATED);return t&&!vN[o]&&(vN[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),r?r(i,o,l):!0}};$0.spelling=function(r){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function v6(e,r,t){if(typeof e!="object")throw new Mr("options must be an object",Mr.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],o=r[i];if(o){const l=e[i],A=l===void 0||o(l,i,e);if(A!==!0)throw new Mr("option "+i+" must be "+A,Mr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Mr("Unknown option "+i,Mr.ERR_BAD_OPTION)}}const bg={assertOptions:v6,validators:$0},Kl=bg.validators;let iu=class{constructor(r){this.defaults=r||{},this.interceptors={request:new oN,response:new oN}}async request(r,t){try{return await this._request(r,t)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,t){typeof r=="string"?(t=t||{},t.url=r):t=r||{},t=hu(this.defaults,t);const{transitional:a,paramsSerializer:s,headers:i}=t;a!==void 0&&bg.assertOptions(a,{silentJSONParsing:Kl.transitional(Kl.boolean),forcedJSONParsing:Kl.transitional(Kl.boolean),clarifyTimeoutError:Kl.transitional(Kl.boolean)},!1),s!=null&&(Oe.isFunction(s)?t.paramsSerializer={serialize:s}:bg.assertOptions(s,{encode:Kl.function,serialize:Kl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bg.assertOptions(t,{baseUrl:Kl.spelling("baseURL"),withXsrfToken:Kl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Oe.merge(i.common,i[t.method]);i&&Oe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),t.headers=Vi.concat(o,i);const l=[];let A=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(A=A&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let f,h=0,m;if(!A){const v=[xN.bind(this),void 0];for(v.unshift(...l),v.push(...d),m=v.length,f=Promise.resolve(t);h<m;)f=f.then(v[h++],v[h++]);return f}m=l.length;let p=t;for(;h<m;){const v=l[h++],g=l[h++];try{p=v(p)}catch(y){g.call(this,y);break}}try{f=xN.call(this,p)}catch(v){return Promise.reject(v)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(r){r=hu(this.defaults,r);const t=K5(r.baseURL,r.url,r.allowAbsoluteUrls);return M5(t,r.params,r.paramsSerializer)}};Oe.forEach(["delete","get","head","options"],function(r){iu.prototype[r]=function(t,a){return this.request(hu(a||{},{method:r,url:t,data:(a||{}).data}))}});Oe.forEach(["post","put","patch"],function(r){function t(a){return function(i,o,l){return this.request(hu(l||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}iu.prototype[r]=t(),iu.prototype[r+"Form"]=t(!0)});let w6=class G5{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,l){a.reason||(a.reason=new Wf(i,o,l),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const t=this._listeners.indexOf(r);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const r=new AbortController,t=a=>{r.abort(a)};return this.subscribe(t),r.signal.unsubscribe=()=>this.unsubscribe(t),r.signal}static source(){let r;return{token:new G5(function(s){r=s}),cancel:r}}};function y6(e){return function(t){return e.apply(null,t)}}function b6(e){return Oe.isObject(e)&&e.isAxiosError===!0}const oy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oy).forEach(([e,r])=>{oy[r]=e});function Y5(e){const r=new iu(e),t=S5(iu.prototype.request,r);return Oe.extend(t,iu.prototype,r,{allOwnKeys:!0}),Oe.extend(t,r,null,{allOwnKeys:!0}),t.create=function(s){return Y5(hu(e,s))},t}const as=Y5(Sm);as.Axios=iu;as.CanceledError=Wf;as.CancelToken=w6;as.isCancel=H5;as.VERSION=W5;as.toFormData=H0;as.AxiosError=Mr;as.Cancel=as.CanceledError;as.all=function(r){return Promise.all(r)};as.spread=y6;as.isAxiosError=b6;as.mergeConfig=hu;as.AxiosHeaders=Vi;as.formToJSON=e=>O5(Oe.isHTMLForm(e)?new FormData(e):e);as.getAdapter=q5.getAdapter;as.HttpStatusCode=oy;as.default=as;const{Axios:gZ,AxiosError:xZ,CanceledError:vZ,isCancel:wZ,CancelToken:yZ,VERSION:bZ,all:NZ,Cancel:jZ,isAxiosError:BZ,spread:CZ,toFormData:SZ,AxiosHeaders:_Z,HttpStatusCode:EZ,formToJSON:FZ,getAdapter:kZ,mergeConfig:DZ}=as;function N6(e){if(!e)return"";try{const t=Math.random().toString(36).substring(2,15)+"|"+e;return btoa(t).split("").reverse().join("")}catch(r){return console.warn("Erro na criptografia, usando texto plano:",r),e}}function j6(e){if(!e)return"";try{const r=atob(e.split("").reverse().join("")),t=r.split("|");return t.length>1?t.slice(1).join("|"):r}catch(r){return console.warn("Erro na descriptografia, retornando texto original:",r),e}}const Jr={setItem(e,r){try{const t=N6(typeof r=="string"?r:JSON.stringify(r));return localStorage.setItem(`secure_${e}`,t),!0}catch(t){return console.error("Erro ao armazenar item seguro:",t),!1}},getItem(e){try{const r=localStorage.getItem(`secure_${e}`);if(!r)return null;const t=j6(r);try{return JSON.parse(t)}catch{return t}}catch(r){return console.error("Erro ao recuperar item seguro:",r),null}},removeItem(e){try{return localStorage.removeItem(`secure_${e}`),!0}catch(r){return console.error("Erro ao remover item seguro:",r),!1}},clear(){try{return Object.keys(localStorage).filter(r=>r.startsWith("secure_")).forEach(r=>localStorage.removeItem(r)),!0}catch(e){return console.error("Erro ao limpar armazenamento seguro:",e),!1}},migrateFromPlainStorage(e,r=e){try{const t=localStorage.getItem(e);return t?(this.setItem(r,t),localStorage.removeItem(e),!0):!1}catch(t){return console.error("Erro na migrao:",t),!1}}},B6="https://tcc-back-ktwy.onrender.com".replace(/\/$/,""),we=as.create({baseURL:B6,headers:{"Content-Type":"application/json"},timeout:3e4});we.interceptors.request.use(e=>{const r=Jr.getItem("access_token");r&&(e.headers.Authorization=`Token ${r}`),e.data instanceof FormData&&delete e.headers["Content-Type"];try{const t=String(e.url||""),a=/^(https?:\/\/|blob:|data:)/i.test(t),s=t.startsWith("/"),i=t.startsWith("/api/")||t==="/api";if(!a&&!i){const o=s?t:`/${t}`;e.url=`/api${o}`}}catch{}return e});we.interceptors.response.use(e=>e,e=>Promise.reject(e));const Lv="true".toLowerCase()==="true",VA="false".toLowerCase()==="true",X5={async criarSolicitacaoMedico(e,r={}){var p,v,g,y,w,j,C,E,U;const t=new FormData,a=(k,F,D=[])=>{if(F==null)return;const _=[k,...D].filter(Boolean);for(const G of _)t.append(G,F)};a("crm",e.crm,["crm_numero"]),a("especialidade",e.especialidade),a("instituicaoFormacao",e.instituicaoFormacao,["instituicao_formacao"]),a("anoFormacao",e.anoFormacao,["ano_formacao"]),a("residencia",e.residencia??""),a("instituicaoResidencia",e.instituicaoResidencia??"",["instituicao_residencia"]),a("anoResidencia",e.anoResidencia??"",["ano_residencia"]),a("experiencia",e.experiencia),a("motivacao",e.motivacao,["motivo","justificativa"]),a("nome",e.nome,["nome_completo"]),a("email",e.email),a("cpf",e.cpf),a("tipo",e.tipo||"medico"),(p=e.documentos)!=null&&p.diplomaMedicina&&a("diplomaMedicina",e.documentos.diplomaMedicina,["diploma_medicina"]),(v=e.documentos)!=null&&v.certificadoResidencia&&a("certificadoResidencia",e.documentos.certificadoResidencia,["certificado_residencia"]),(g=e.documentos)!=null&&g.comprovanteExperiencia&&a("comprovanteExperiencia",e.documentos.comprovanteExperiencia,["comprovante_experiencia"]);let s;try{const k=(y=Rr.getCurrentUser)==null?void 0:y.call(Rr);s=(k==null?void 0:k.id)||(k==null?void 0:k.pk)||((w=k==null?void 0:k.user)==null?void 0:w.id),s&&a("user",s,["usuario","user_id","usuario_id"])}catch{}const i={crm:e.crm,crm_numero:e.crm,especialidade:e.especialidade,instituicaoFormacao:e.instituicaoFormacao,instituicao_formacao:e.instituicaoFormacao,anoFormacao:e.anoFormacao,ano_formacao:e.anoFormacao,residencia:e.residencia??"",instituicaoResidencia:e.instituicaoResidencia??"",instituicao_residencia:e.instituicaoResidencia??"",anoResidencia:e.anoResidencia??"",ano_residencia:e.anoResidencia??"",experiencia:e.experiencia,motivacao:e.motivacao,motivo:e.motivacao,justificativa:e.motivacao,nome:e.nome,nome_completo:e.nome_completo||e.nome,email:e.email,cpf:e.cpf,tipo:e.tipo||"medico"};s&&(i.user=s,i.usuario=s,i.user_id=s,i.usuario_id=s);const o="/api/solicitacaomedico/".trim(),l="/api/solicitacoes/".trim();let A=[];o&&A.push(o),l&&A.push(l),VA||A.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/medico/","/medico/solicitacoes/","/medicos/solicitacao/","/solicitacao/medicos/","/users/medicos/solicitacoes/","/usuarios/medicos/solicitacoes/","/users/solicitacoes/medico/","/usuarios/solicitacoes/medico/","/app_medico/","/meu_app_medico/","/meui_app_solicitacaomedico/","/solicitacaomedico/","/solicitacao-medico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedico/");const d=k=>{if(VA)return[k];const F=k.endsWith("/")?"":"/";return[k,`${k}${F}criar/`,`${k}${F}create/`,`${k}${F}novo/`,`${k}${F}nova/`,`${k}${F}add/`,`${k}${F}adicionar/`,`${k}${F}registrar/`,`${k}${F}enviar/`,`${k}${F}submit/`]},f=Array.from(new Set(A.flatMap(d))),h=[];let m;for(const k of f)try{return h.push(k),Lv&&console.debug("[solicitacaoService] Tentando endpoint:",k),(await we.post(k,t,{headers:{"Content-Type":"multipart/form-data"},signal:r==null?void 0:r.signal})).data}catch(F){const D=(j=F==null?void 0:F.response)==null?void 0:j.status,_=((C=F==null?void 0:F.response)==null?void 0:C.data)&&JSON.stringify(F.response.data)||"";if(D===415||D===400&&/JSON|application\/json|parse/i.test(_))try{return(await we.post(k,i,{headers:{"Content-Type":"application/json"},signal:r==null?void 0:r.signal})).data}catch(L){const T=(E=L==null?void 0:L.response)==null?void 0:E.status;if((T===404||T===405)&&!VA){m=L;continue}throw L}if((D===404||D===405)&&!VA){Lv&&console.debug("[solicitacaoService] Endpoint no aceitou mtodo (",D,"):",k),m=F;continue}throw F}throw m?(Lv&&console.warn("[solicitacaoService] Nenhum endpoint aceitou POST. ltimo status:",(U=m==null?void 0:m.response)==null?void 0:U.status,"URLs tentadas:",h),m):new Error("Nenhum endpoint de criao aceitou a solicitao. Configure VITE_SOLICITACOES_MEDICOS_ENDPOINT. URLs tentadas: "+h.join(", "))},async listarMinhasSolicitacoes(e={},r={}){var o,l;const t="/api/solicitacaomedico/".trim(),a="/api/solicitacoes/".trim(),s=[];t&&s.push(t),a&&s.push(a),VA||s.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/","/me/solicitacoes/","/minhas-solicitacoes/","/solicitacoes/me/","/solicitacoes/minhas/");const i={...e};i.limit!=null&&i.page_size==null&&(i.page_size=i.limit),i.page_size!=null&&i.limit==null&&(i.limit=i.page_size);for(const A of s){const d=wN(A);try{const f=await we.get(d,{params:i,signal:r==null?void 0:r.signal});return Array.isArray((o=f.data)==null?void 0:o.results)?{...f.data,results:f.data.results.map(Iv)}:Array.isArray(f.data)?{results:f.data.map(Iv)}:f.data}catch(f){if(((l=f==null?void 0:f.response)==null?void 0:l.status)===404&&!VA)continue;throw f}}return{results:[]}},async getSolicitacaoMedico(e,r={}){var o;const t="/api/solicitacaomedico/".trim(),a="/api/solicitacoes/".trim(),s=[];t&&s.push(t),a&&s.push(a),VA||s.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/");let i;for(const l of s){const A=wN(l)+String(e)+"/";try{const d=await we.get(A,{signal:r==null?void 0:r.signal});return Iv(d.data)}catch(d){if(((o=d==null?void 0:d.response)==null?void 0:o.status)===404&&!VA){i=d;continue}throw d}}throw i||new Error("Solicitao no encontrada")}};function wN(e){return e?e.endsWith("/")?e:e+"/":"/"}function Iv(e={}){return{id:e.id||e.pk,crm:e.crm||e.crm_numero,especialidade:e.especialidade,instituicaoFormacao:e.instituicaoFormacao||e.instituicao_formacao,anoFormacao:e.anoFormacao||e.ano_formacao,residencia:e.residencia,instituicaoResidencia:e.instituicaoResidencia||e.instituicao_residencia,anoResidencia:e.anoResidencia||e.ano_residencia,experiencia:e.experiencia,motivacao:e.motivacao||e.motivo||e.justificativa,nome:e.nome||e.nome_completo,email:e.email,cpf:e.cpf,status:e.status||e.situacao||e.aprovado,created_at:e.created_at||e.data_criacao}}const C6=Object.freeze(Object.defineProperty({__proto__:null,solicitacaoService:X5},Symbol.toStringTag,{value:"Module"})),hl="https://medicine-front-six.vercel.app".replace(/\/$/,""),J5="local_notifications_";function Z5(){const e=Rr.getCurrentUser();return(e==null?void 0:e.id)||"anon"}function Ng(){try{const e=Z5(),r=localStorage.getItem(`${J5}${e}`),t=r?JSON.parse(r):[];return Array.isArray(t)?t:[]}catch{return[]}}function ly(e){try{const r=Z5();localStorage.setItem(`${J5}${r}`,JSON.stringify(e||[]))}catch{}}function yN({titulo:e,mensagem:r,tipo:t="receita",dados:a={}}){const s={id:`${Date.now()}-${Math.random().toString(36).slice(2)}`,titulo:e,mensagem:r,tipo:t,lida:!1,created_at:new Date().toISOString(),dados:a},i=Ng();return i.unshift(s),ly(i),s}class S6{constructor(){this.baseUrl="/api/notificacoes/",this.verbose="true".toLowerCase()==="true"}async enviarNotificacaoInterna({pacienteId:r,titulo:t,mensagem:a,tipo:s="receita",dados:i={},prioridade:o="normal"}){try{const l={destinatario_id:r,titulo:t,mensagem:a,tipo:s,dados:i,prioridade:o,canal:"interno"};try{const A=await we.post(`${this.baseUrl}enviar/`,l);return this.verbose&&console.log("[NotificationService] Notificao interna enviada:",A.data),A.data}catch{const d=yN({titulo:t,mensagem:a,tipo:s,dados:i});return this.verbose&&console.log("[NotificationService] Fallback local de notificao:",d),d}}catch(l){throw console.error("[NotificationService] Erro ao enviar notificao interna:",l),l}}async enviarReceitaPorEmail({pacienteId:r,email:t,receitaId:a,arquivo:s,nomeArquivo:i,assunto:o,mensagem:l,linkDownload:A}){var d,f,h;try{const m=new FormData;if(m.append("destinatario_id",r),m.append("email",t),m.append("receita_id",a),m.append("canal","email"),m.append("tipo","receita"),o&&m.append("assunto",o),l&&m.append("mensagem",l),s){const v=i||`receita_${a}.pdf`;m.append("arquivo",s,v)}A?m.append("link_download",A):a&&m.append("link_download",`${hl}/verificar/${a}`);let p;try{p=await we.post(`${this.baseUrl}enviar-email/`,m,{headers:{"Content-Type":"multipart/form-data"}})}catch(v){const g=(d=v==null?void 0:v.response)==null?void 0:d.status;if(g===401||g===403)throw v;const y=[a?`/api/receitas/${a}/enviar/`:null,"/api/receitas/enviar/"].filter(Boolean);let w=v;for(const j of y)try{p=await we.post(j,m),w=null;break}catch(C){const E=(f=C==null?void 0:C.response)==null?void 0:f.status;if(E===401||E===403)throw C;w=C;continue}if(w)throw w}return this.verbose&&console.log("[NotificationService] E-mail enviado:",p.data),p.data}catch(m){return console.error("[NotificationService] Erro ao enviar e-mail:",m),yN({titulo:"Receita enviada por e-mail (pendente)",mensagem:`Sua receita foi preparada para envio. Link: ${a?hl+"/verificar/"+a:A||hl+"/paciente/receitas"}`,tipo:"receita",dados:{receita_id:a,canal:"email",link:a?`${hl}/verificar/${a}`:A||`${hl}/paciente/receitas`}}),{success:!1,error:((h=m.response)==null?void 0:h.data)||m.message}}}async enviarEmail({email:r,assunto:t,mensagem:a,tipo:s="geral",dados:i={}}){var o;try{const l={email:r,assunto:t,mensagem:a,tipo:s,dados:i,canal:"email"},A=[`${this.baseUrl}enviar/`,"/api/notifications/enviar/","/notifications/email/"];let d=null;for(const f of A)try{const h=await we.post(f,l);return this.verbose&&console.log("[NotificationService] E-mail genrico enviado:",h.data),h.data}catch(h){const m=(o=h==null?void 0:h.response)==null?void 0:o.status;if(m===401||m===403)throw h;d=h;continue}throw d||new Error("Nenhum endpoint de e-mail disponvel")}catch(l){throw console.error("[NotificationService] Erro ao enviar e-mail genrico:",l),l}}async enviarEmailBoasVindas({email:r,nome:t,role:a}){const s="Bem-vindo ao Portal Mdico",i=t?`Ol ${t},`:"Ol,",o=a?` como ${a}`:"",l=`${i}

Sua conta foi criada com sucesso${o}.
Voc j pode acessar o portal com suas credenciais.

Atenciosamente,
Equipe Clnica`;return this.enviarEmail({email:r,assunto:s,mensagem:l,tipo:"boas_vindas",dados:{role:a}})}async enviarReceitaPorSMS({pacienteId:r,telefone:t,receitaId:a,mensagem:s,linkDownload:i}){var o,l;try{const A=t==null?void 0:t.replace(/\D/g,"");if(!A||A.length<10)throw new Error("Nmero de telefone invlido. Deve conter pelo menos 10 dgitos.");let d=A;A.length===11&&A.startsWith("0")&&(d=A.substring(1)),A.length===10?d=`55${A}`:A.length===11&&(d=`55${A}`);const f={destinatario_id:r,telefone:d,telefone_original:t,receita_id:a,mensagem:s||`Nova receita mdica disponvel. Acesse: ${i||hl+"/paciente/receitas"}`,link_download:i,canal:"sms",tipo:"receita"},h=[`${this.baseUrl}enviar-sms/`,"/api/sms/enviar/","/sms/send/","/notifications/sms/","/receitas/sms/","/comunicacao/sms/"];let m=null;for(const p of h)try{this.verbose&&console.log(`[NotificationService] Tentando enviar SMS via: ${p}`,f);const v=await we.post(p,f);return this.verbose&&console.log("[NotificationService] SMS enviado com sucesso:",v.data),{success:!0,data:v.data,message:"SMS enviado com sucesso",endpoint:p,telefone_usado:d}}catch(v){m=v;const g=(o=v.response)==null?void 0:o.status;if(this.verbose&&console.log(`[NotificationService] Falha no endpoint ${p}:`,v.message),g===401||g===403)throw v;continue}throw console.error("[NotificationService] Todos os endpoints de SMS falharam. ltimo erro:",m),m||new Error("Nenhum endpoint de SMS disponvel ou configurado")}catch(A){return console.error("[NotificationService] Erro ao enviar SMS:",A),{success:!1,error:((l=A.response)==null?void 0:l.data)||A.message,message:A.message||"Falha ao enviar SMS"}}}async enviarReceitaMulticanal({pacienteId:r,receitaId:t,arquivo:a,nomeArquivo:s,canais:i=["interno"],dadosPaciente:o={},configuracoes:l={}}){const A={interno:null,email:null,sms:null,erros:[]};if(i.includes("interno"))try{const d=l.tituloInterno||"Nova receita mdica disponvel",f=l.mensagemInterna||"Voc tem uma nova receita mdica disponvel. Acesse sua rea do paciente para visualizar.",h=l.linkDownload||(t?`${hl}/verificar/${t}`:`${hl}/paciente/receitas`);A.interno=await this.enviarNotificacaoInterna({pacienteId:r,titulo:d,mensagem:f,tipo:"receita",dados:{receita_id:t,link:h},prioridade:"alta"})}catch(d){A.erros.push({canal:"interno",erro:d.message})}if(i.includes("email")&&o.email)try{const d=l.assuntoEmail||"Nova receita mdica",f=`Ol ${o.nome||""},

Voc tem uma nova receita mdica em anexo.

Atenciosamente,
Equipe Mdica`,h=`Ol ${o.nome||""},

Sua receita mdica est disponvel neste link: ${l.linkDownload||(t?hl+"/verificar/"+t:hl+"/paciente/receitas")}.

Atenciosamente,
Equipe Mdica`,m=l.mensagemEmail||(a?f:h);A.email=await this.enviarReceitaPorEmail({pacienteId:r,email:o.email,receitaId:t,arquivo:a,nomeArquivo:s,assunto:d,mensagem:m,linkDownload:l.linkDownload||(t?`${hl}/verificar/${t}`:void 0)})}catch(d){A.erros.push({canal:"email",erro:d.message})}if(i.includes("sms")&&o.telefone)try{const d=l.mensagemSMS||`Nova receita mdica disponvel. Acesse: ${l.linkSite||window.location.origin}/paciente/receitas`,f=await this.enviarReceitaPorSMS({pacienteId:r,telefone:o.telefone,receitaId:t,mensagem:d,linkDownload:l.linkDownload});f.success?A.sms=f:A.erros.push({canal:"sms",erro:f.message||"Falha ao enviar SMS"})}catch(d){A.erros.push({canal:"sms",erro:d.message})}return A}async buscarNotificacoes({page:r=1,pageSize:t=20,tipo:a=null,lidas:s=null}){try{const i={page:r,page_size:t};a&&(i.tipo=a),s!==null&&(i.lidas=s);try{return(await we.get(this.baseUrl,{params:i})).data}catch{const l=Ng(),A=i.lidas===!1?l.filter(d=>!d.lida):l;return{results:A,count:A.length}}}catch(i){throw console.error("[NotificationService] Erro ao buscar notificaes:",i),i}}async marcarComoLida(r){try{try{return(await we.patch(`${this.baseUrl}${r}/`,{lida:!0,data_leitura:new Date().toISOString()})).data}catch{const a=Ng().map(s=>String(s.id)===String(r)?{...s,lida:!0,data_leitura:new Date().toISOString()}:s);return ly(a),{id:r,lida:!0}}}catch(t){throw console.error("[NotificationService] Erro ao marcar notificao como lida:",t),t}}async marcarTodasComoLidas(){try{try{return(await we.post(`${this.baseUrl}marcar-todas-lidas/`)).data}catch{const t=Ng().map(a=>({...a,lida:!0,data_leitura:a.data_leitura||new Date().toISOString()}));return ly(t),{ok:!0}}}catch(r){throw console.error("[NotificationService] Erro ao marcar todas como lidas:",r),r}}async deletarNotificacao(r){try{return await we.delete(`${this.baseUrl}${r}/`),!0}catch(t){throw console.error("[NotificationService] Erro ao deletar notificao:",t),t}}async buscarConfiguracoes(){try{return(await we.get(`${this.baseUrl}configuracoes/`)).data}catch(r){return console.error("[NotificationService] Erro ao buscar configuraes:",r),{email_ativo:!0,sms_ativo:!1,push_ativo:!0,tipos_habilitados:["receita","consulta","exame"]}}}async atualizarConfiguracoes(r){try{return(await we.put(`${this.baseUrl}configuracoes/`,r)).data}catch(t){throw console.error("[NotificationService] Erro ao atualizar configuraes:",t),t}}}const ou=new S6,_6=e=>{if(!e)return"";try{const r=new Date(e);if(isNaN(r.getTime()))return"";const t=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}catch{return""}};function qc(e){return e?{id:e.id,username:e.username,email:e.email,first_name:e.first_name||"",last_name:e.last_name||"",is_staff:e.is_staff||!1,is_active:e.is_active!==!1,date_joined:e.date_joined,last_login:e.last_login,role:e.role||e.tipo||e.tipo_usuario||e.user_type||"",tipo:e.tipo||e.role||e.tipo_usuario||e.user_type||"",tipo_usuario:e.tipo_usuario||e.user_type||"",data_nascimento:_6(e.data_nascimento||e.birth_date),telefone:e.telefone||e.phone||"",endereco:e.endereco||e.address||"",crm:e.crm||"",especialidade:e.especialidade||e.specialty||""}:null}const Rr={async login(e){var r,t,a,s,i,o;try{const l=((t=(r=e.username)==null?void 0:r.trim)==null?void 0:t.call(r))||((s=(a=e.email)==null?void 0:a.trim)==null?void 0:s.call(a))||"",A=/^\d{11}$/.test(l),d={username:l||void 0,email:l||void 0,password:e.password};let f=l;if(A){const m=[`/api/users/?cpf=${l}`,`/api/pacientes/?cpf=${l}`,"/api/auth/users/?cpf="+l];for(const p of m)try{const v=await we.get(p),g=v==null?void 0:v.data,y=Array.isArray(g)?g:Array.isArray(g==null?void 0:g.results)?g.results:[],w=y==null?void 0:y[0],j=(w==null?void 0:w.email)||((i=w==null?void 0:w.user)==null?void 0:i.email)||null,C=(w==null?void 0:w.username)||((o=w==null?void 0:w.user)==null?void 0:o.username)||null;if(j||C){f=j||C;break}}catch{}}let h;try{h=await we.post("/auth/login/",{...d,username:f||d.username,email:f||d.email})}catch(m){if(A){const p={cpf:l,password:e.password},v=["/auth/login_cpf/","/auth/login/"];let g=m;for(const y of v)try{h=await we.post(y,p);break}catch(w){g=w}if(!h)throw g}else throw m}if(h.data){Jr.setItem("auth_scheme","Token");const p=h.data.access_token||h.data.access||h.data.token,v=h.data.refresh_token||h.data.refresh;p&&Jr.setItem("access_token",p),v&&Jr.setItem("refresh_token",v);try{if(!p&&!v){Jr.setItem("auth_storage","cookie");try{we.defaults.withCredentials=!0}catch{}}}catch{}try{const g=await kh();g?Jr.setItem("user",qc(g)):Jr.removeItem("user")}catch(g){console.warn("No foi possvel carregar dados do usurio:",g),Jr.removeItem("user")}return h.data}throw new Error("Resposta de login invlida")}catch(l){throw console.error("Erro no login:",l),l}},async register(e,r={}){var t;try{const s=await we.post("/auth/register/",e);let i=null;if(s.data&&!r.skipAutoLogin){Jr.setItem("auth_scheme","Token");const A=s.data.access_token||s.data.access||s.data.token,d=s.data.refresh_token||s.data.refresh;A&&Jr.setItem("access_token",A),d&&Jr.setItem("refresh_token",d);try{if(!A&&!d){Jr.setItem("auth_storage","cookie");try{we.defaults.withCredentials=!0}catch{}}}catch{}try{i=await kh(),i?Jr.setItem("user",qc(i)):Jr.removeItem("user")}catch(f){if(console.warn("No foi possvel carregar dados do usurio aps registro:",f),Jr.removeItem("user"),Jr.getItem("access_token"))try{const m=await kh();i=m,m&&Jr.setItem("user",qc(m))}catch(m){console.warn("Fallback para buscar usurio tambm falhou:",m)}}}try{const l=qc(i||Jr.getItem("user")||{}),A=[l==null?void 0:l.first_name,l==null?void 0:l.last_name].filter(Boolean).join(" ")||(l==null?void 0:l.username)||"",d=(l==null?void 0:l.email)||(e==null?void 0:e.email);d&&await ou.enviarEmailBoasVindas({email:d,nome:A,role:e==null?void 0:e.desired_role})}catch{}let o;try{const l=String((e==null?void 0:e.desired_role)||"").toLowerCase()==="medico",A=r==null?void 0:r.medicoData;if(l&&A){const d=qc(i||Jr.getItem("user")||{}),f=[d==null?void 0:d.first_name,d==null?void 0:d.last_name].filter(Boolean).join(" ")||(d==null?void 0:d.username)||"",h={...A,nome:A.nome||f||(e==null?void 0:e.first_name)||"",email:A.email||(d==null?void 0:d.email)||(e==null?void 0:e.email)||"",cpf:A.cpf||(e==null?void 0:e.cpf)||"",tipo:A.tipo||"medico"};try{o={success:!0,data:await X5.criarSolicitacaoMedico(h)};try{const p=(d==null?void 0:d.id)||(i==null?void 0:i.id);p&&localStorage.setItem(`medicoApplicationStatus:${p}`,"pending")}catch{}}catch(m){o={success:!1,error:((t=m==null?void 0:m.response)==null?void 0:t.data)||(m==null?void 0:m.message)||"No foi possvel criar a solicitao de mdico."}}}}catch(l){o={success:!1,error:(l==null?void 0:l.message)||"Falha desconhecida ao criar solicitao."}}return o?{...s.data,medicoApplication:o}:s.data}catch(a){throw console.error("Erro no registro:",a),a}},async logout(){try{await we.post("/api/auth/logout/")}catch(e){console.warn("Erro ao fazer logout no servidor:",e)}finally{Jr.removeItem("access_token"),Jr.removeItem("refresh_token"),Jr.removeItem("user"),Jr.removeItem("auth_scheme"),Jr.removeItem("auth_storage")}},async forgotPassword(e){const t=await we.post("/api/password_reset/",{email:e});return(t==null?void 0:t.data)??t},getCurrentUser(){try{const e=Jr.getItem("user");return e?qc(e):null}catch(e){return console.error("Erro ao recuperar usurio atual:",e),null}},async refreshCurrentUser(){var e;try{const r=await kh();return r?(Jr.setItem("user",qc(r)),qc(r)):(Jr.removeItem("user"),null)}catch(r){if(((e=r==null?void 0:r.response)==null?void 0:e.status)===401)throw r;return console.error("Erro ao atualizar dados do usurio:",r),null}},isAuthenticated(){const e=Jr.getItem("access_token"),r=String(Jr.getItem("auth_storage")||void 0||"local").toLowerCase();return!!e||r==="cookie"},async loginWithGoogle(e){try{const t=await we.post("/api/auth/google/",{credential:e});if(t.data){Jr.setItem("auth_scheme","Token");const s=t.data.access_token||t.data.access||t.data.token,i=t.data.refresh_token||t.data.refresh;s&&Jr.setItem("access_token",s),i&&Jr.setItem("refresh_token",i);try{if(!s&&!i){Jr.setItem("auth_storage","cookie");try{we.defaults.withCredentials=!0}catch{}}}catch{}try{const o=await kh();o?Jr.setItem("user",qc(o)):Jr.removeItem("user")}catch(o){console.warn("No foi possvel carregar dados do usurio:",o),Jr.removeItem("user")}return t.data}throw new Error("Resposta de login com Google invlida")}catch(r){throw console.error("Erro no login com Google:",r),r}}};async function kh(){return(await we.get("/api/auth/users/me/")).data}const oi={NETWORK:"NETWORK_ERROR",AUTHENTICATION:"AUTH_ERROR",AUTHORIZATION:"AUTHORIZATION_ERROR",VALIDATION:"VALIDATION_ERROR",SERVER:"SERVER_ERROR",CLIENT:"CLIENT_ERROR",UNKNOWN:"UNKNOWN_ERROR"},E6={[oi.NETWORK]:"Erro de conexo. Verifique sua internet e tente novamente.",[oi.AUTHENTICATION]:"Sesso expirada. Faa login novamente.",[oi.AUTHORIZATION]:"Voc no tem permisso para realizar esta ao.",[oi.VALIDATION]:"Dados invlidos. Verifique as informaes e tente novamente.",[oi.SERVER]:"Erro interno do servidor. Tente novamente em alguns minutos.",[oi.CLIENT]:"Erro na aplicao. Recarregue a pgina e tente novamente.",[oi.UNKNOWN]:"Erro inesperado. Tente novamente."};function F6(e){if(!e.response&&e.code==="NETWORK_ERROR"||e.code==="ECONNABORTED")return oi.NETWORK;if(e.response){const r=e.response.status;if(r===401)return oi.AUTHENTICATION;if(r===403)return oi.AUTHORIZATION;if(r>=400&&r<500)return oi.VALIDATION;if(r>=500)return oi.SERVER}return oi.UNKNOWN}function k6(e){var s;const r=F6(e),t=E6[r];return{type:r,message:t,timestamp:new Date().toISOString(),status:((s=e.response)==null?void 0:s.status)||null}}const tu=class tu{constructor(){this.errorListeners=[],this.setupGlobalErrorHandlers()}static getInstance(){return tu.instance||(tu.instance=new tu),tu.instance}setupGlobalErrorHandlers(){window.addEventListener("error",r=>{try{r.preventDefault()}catch{}this.handleError(r.error,"GLOBAL_ERROR")}),window.addEventListener("unhandledrejection",r=>{try{r.preventDefault()}catch{}this.handleError(r.reason,"UNHANDLED_PROMISE")})}addErrorListener(r){this.errorListeners.push(r)}removeErrorListener(r){this.errorListeners=this.errorListeners.filter(t=>t!==r)}notifyListeners(r){this.errorListeners.forEach(t=>{try{t(r)}catch(a){console.error("Erro no listener de erro:",a)}})}handleError(r,t="UNKNOWN"){const a=k6(r);return a.context=t,this.notifyListeners(a),a}handleApiError(r,t="API_CALL"){const a=this.handleError(r,t);switch(a.type){case oi.AUTHENTICATION:this.handleAuthenticationError();break;case oi.NETWORK:this.handleNetworkError();break}return a}handleAuthenticationError(){try{const r=!!(Jr.getItem("access_token")||Jr.getItem("refresh_token")),t=String(Jr.getItem("auth_storage")||void 0||"local").toLowerCase(),a=window.location.pathname.includes("/login");if(t==="cookie"||r)return;a||(window.location.href="/login")}catch{window.location.pathname.includes("/login")||(window.location.href="/login")}}handleNetworkError(){console.warn("Erro de rede detectado")}};ht(tu,"instance",null);let Gg=tu;function D6(){const e=Gg.getInstance(),r=b.useCallback((a,s)=>e.handleError(a,s),[]),t=b.useCallback((a,s)=>e.handleApiError(a,s),[]);return{handleError:r,handleApiError:t}}Gg.getInstance();const eS=b.createContext({});function U6({children:e}){const[r,t]=b.useState(null),[a,s]=b.useState(!0),{handleError:i}=D6(),o=()=>{try{window.location.href="/login"}catch{}},l=b.useCallback(async()=>{try{const v=Rr.getCurrentUser();if(v)t(v);else if(Rr.isAuthenticated())try{const g=await Rr.refreshCurrentUser();g?t(g):(await Rr.logout(),t(null),o())}catch{await Rr.logout(),t(null),o()}}catch(v){i(v,"Erro ao inicializar autenticao");try{await Rr.logout()}catch{}t(null),o()}finally{s(!1)}},[i]);b.useEffect(()=>{l()},[]);const A=b.useCallback(async v=>{try{const g=await Rr.login(v);if(g!=null&&g.user)t(g.user);else{const y=Rr.getCurrentUser();t(y)}return g}catch(g){throw i(g,"Erro ao fazer login"),g}},[i]),d=b.useCallback(async()=>{try{await Rr.logout(),t(null)}catch(v){i(v,"Erro ao fazer logout"),t(null)}},[i]),f=b.useCallback(async v=>{try{const g=await Rr.register(v);if(g!=null&&g.user)t(g.user);else{const y=Rr.getCurrentUser();y&&t(y)}return g}catch(g){throw i(g,"Erro ao registrar usurio"),g}},[i]),h=b.useCallback(async v=>{try{const g=await Rr.loginWithGoogle(v);return t(g.user),g}catch(g){throw i(g,"Erro ao fazer login com Google"),g}},[i]),m=b.useMemo(()=>Rr.isAuthenticated(),[r]),p=b.useMemo(()=>({user:r,login:A,logout:d,register:f,loading:a,isAuthenticated:!!r||m,loginWithGoogle:h}),[r,A,d,f,h,m,a]);return n.jsx(eS.Provider,{value:p,children:e})}const qo=()=>{const e=b.useContext(eS);if(!e)throw new Error("useAuth deve ser usado dentro de AuthProvider");return e},tS=b.createContext(void 0);function L6({children:e}){const[r,t]=b.useState("paciente"),[a,s]=b.useState(!1),[i,o]=b.useState({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),[l,A]=b.useState(null),[d,f]=b.useState(""),h=b.useCallback(()=>{A(null),f("")},[]),m=b.useCallback(()=>{i.isMedico&&i.medicoStatus==="approved"&&t(r==="medico"?"paciente":"medico")},[i.isMedico,i.medicoStatus,r]),p=b.useCallback((y="paciente",w={})=>{s(!0),t(y),o(w)},[]),v=b.useCallback(()=>{s(!1),t("paciente"),o({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),h()},[h]),g=b.useMemo(()=>({activeRole:r,setActiveRole:t,toggleRole:m,isAuthenticated:a,userPermissions:i,setUserPermissions:o,login:p,logout:v,ephemeralCertFile:l,setEphemeralCertFile:A,ephemeralCertPassword:d,setEphemeralCertPassword:f,clearEphemeralCert:h}),[r,m,a,i,p,v,l,d,h]);return n.jsx(tS.Provider,{value:g,children:e})}function cc(){const e=b.useContext(tS);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e}function bN(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function K0(...e){return r=>{let t=!1;const a=e.map(s=>{const i=bN(s,r);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():bN(e[s],null)}}}}function ba(...e){return b.useCallback(K0(...e),e)}function mu(e){const r=I6(e),t=b.forwardRef((a,s)=>{const{children:i,...o}=a,l=b.Children.toArray(i),A=l.find(Q6);if(A){const d=A.props.children,f=l.map(h=>h===A?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return n.jsx(r,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,f):null})}return n.jsx(r,{...o,ref:s,children:i})});return t.displayName=`${e}.Slot`,t}var Gf=mu("Slot");function I6(e){const r=b.forwardRef((t,a)=>{const{children:s,...i}=t;if(b.isValidElement(s)){const o=M6(s),l=R6(i,s.props);return s.type!==b.Fragment&&(l.ref=a?K0(a,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var rS=Symbol("radix.slottable");function P6(e){const r=({children:t})=>n.jsx(n.Fragment,{children:t});return r.displayName=`${e}.Slottable`,r.__radixId=rS,r}function Q6(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rS}function R6(e,r){const t={...r};for(const a in r){const s=e[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?t[a]=(...l)=>{const A=i(...l);return s(...l),A}:s&&(t[a]=s):a==="style"?t[a]={...s,...i}:a==="className"&&(t[a]=[s,i].filter(Boolean).join(" "))}return{...e,...t}}function M6(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function aS(e){var r,t,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(t=aS(e[r]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function Is(){for(var e,r,t=0,a="",s=arguments.length;t<s;t++)(e=arguments[t])&&(r=aS(e))&&(a&&(a+=" "),a+=r);return a}const NN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,jN=Is,V0=(e,r)=>t=>{var a;if((r==null?void 0:r.variants)==null)return jN(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=r,o=Object.keys(s).map(d=>{const f=t==null?void 0:t[d],h=i==null?void 0:i[d];if(f===null)return null;const m=NN(f)||NN(h);return s[d][m]}),l=t&&Object.entries(t).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),A=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((d,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...d,h,m]:d},[]);return jN(e,o,A,t==null?void 0:t.class,t==null?void 0:t.className)};var T6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const O6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jt=(e,r)=>{const t=b.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...A},d)=>b.createElement("svg",{ref:d,...T6,width:s,height:s,stroke:a,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${O6(e)}`,...A},[...r.map(([f,h])=>b.createElement(f,h)),...(Array.isArray(l)?l:[l])||[]]));return t.displayName=`${e}`,t},Bi=jt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),pu=jt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),tA=jt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ic=jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Yg=jt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),z0=jt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),lm=jt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Yf=jt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),q0=jt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),BN=jt("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),wr=jt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),po=jt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),us=jt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),k1=jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),D1=jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),nS=jt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),xl=jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),H6=jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),$6=jt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),K6=jt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),rA=jt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Or=jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),V6=jt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),vl=jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),CN=jt("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),z6=jt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),q6=jt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ci=jt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),W6=jt("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),hn=jt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),lu=jt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),G6=jt("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),Xg=jt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Y6=jt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),U1=jt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),SN=jt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),X6=jt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Pv=jt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),J6=jt("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),Z6=jt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),eI=jt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),L1=jt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),tI=jt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),yl=jt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Jg=jt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),rI=jt("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),aI=jt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),nI=jt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),_N=jt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),sS=jt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),sI=jt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),iI=jt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),oI=jt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),aA=jt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Cf=jt("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),gu=jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),lI=jt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),I1=jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),cI=jt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),P1=jt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Ns=jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),cm=jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),AI=jt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Hs=jt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),EN=jt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),dI=jt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),uI=jt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ea=jt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),FN=jt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),cy=jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),_m=jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),jg=jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Qv=jt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),fI=jt("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Ay=jt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Hn=jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),As=jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Rv=jt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),fs=jt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Q1=jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function hI(){const[e,r]=b.useState(!1);return b.useEffect(()=>{const t=()=>{r(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e}function lt(...e){return e.filter(Boolean).join(" ")}function mI(e){return e?e.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):""}const ve=b.forwardRef(({className:e,variant:r="default",size:t="default",asChild:a=!1,...s},i)=>{const o=a?"slot":"button",l={default:"btn-medical-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"btn-medical-secondary",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-border",ghost:"btn-medical-ghost",link:"text-primary underline-offset-4 hover:underline p-0 h-auto",medical:"btn-medical-primary",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm",info:"bg-info text-info-foreground hover:bg-info/90 shadow-sm"},A={default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"};return n.jsx(o,{className:lt("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","active:scale-[0.98]",l[r],A[t],e),ref:i,...s})});ve.displayName="Button";const Te=b.forwardRef(({className:e,type:r,...t},a)=>n.jsx("input",{type:r,className:lt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));Te.displayName="Input";var pI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_r=pI.reduce((e,r)=>{const t=mu(`Primitive.${r}`),a=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,A=o?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(A,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function R1(e,r){e&&Vf.flushSync(()=>e.dispatchEvent(r))}var gI="Separator",kN="horizontal",xI=["horizontal","vertical"],iS=b.forwardRef((e,r)=>{const{decorative:t,orientation:a=kN,...s}=e,i=vI(a)?a:kN,l=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(_r.div,{"data-orientation":i,...l,...s,ref:r})});iS.displayName=gI;function vI(e){return xI.includes(e)}var oS=iS;const hs=b.forwardRef(({className:e,orientation:r="horizontal",decorative:t=!0,...a},s)=>n.jsx(oS,{ref:s,decorative:t,orientation:r,className:lt("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));hs.displayName=oS.displayName;function kt(e,r,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e==null||e(s),t===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function wI(e,r){const t=b.createContext(r),a=i=>{const{children:o,...l}=i,A=b.useMemo(()=>l,Object.values(l));return n.jsx(t.Provider,{value:A,children:o})};a.displayName=e+"Provider";function s(i){const o=b.useContext(t);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function Bl(e,r=[]){let t=[];function a(i,o){const l=b.createContext(o),A=t.length;t=[...t,o];const d=h=>{var w;const{scope:m,children:p,...v}=h,g=((w=m==null?void 0:m[e])==null?void 0:w[A])||l,y=b.useMemo(()=>v,Object.values(v));return n.jsx(g.Provider,{value:y,children:p})};d.displayName=i+"Provider";function f(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[A])||l,v=b.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=t.map(o=>b.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[a,yI(s,...r)]}function yI(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:A,scopeName:d})=>{const h=A(i)[`__scope${d}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return t.scopeName=r.scopeName,t}var ps=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},bI=bm[" useId ".trim().toString()]||(()=>{}),NI=0;function oc(e){const[r,t]=b.useState(bI());return ps(()=>{t(a=>a??String(NI++))},[e]),e||(r?`radix-${r}`:"")}var jI=bm[" useInsertionEffect ".trim().toString()]||ps;function ud({prop:e,defaultProp:r,onChange:t=()=>{},caller:a}){const[s,i,o]=BI({defaultProp:r,onChange:t}),l=e!==void 0,A=l?e:s;{const f=b.useRef(e!==void 0);b.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,a])}const d=b.useCallback(f=>{var h;if(l){const m=CI(f)?f(e):f;m!==e&&((h=o.current)==null||h.call(o,m))}else i(f)},[l,e,i,o]);return[A,d]}function BI({defaultProp:e,onChange:r}){const[t,a]=b.useState(e),s=b.useRef(t),i=b.useRef(r);return jI(()=>{i.current=r},[r]),b.useEffect(()=>{var o;s.current!==t&&((o=i.current)==null||o.call(i,t),s.current=t)},[t,s]),[t,a,i]}function CI(e){return typeof e=="function"}function Si(e){const r=b.useRef(e);return b.useEffect(()=>{r.current=e}),b.useMemo(()=>(...t)=>{var a;return(a=r.current)==null?void 0:a.call(r,...t)},[])}function SI(e,r=globalThis==null?void 0:globalThis.document){const t=Si(e);b.useEffect(()=>{const a=s=>{s.key==="Escape"&&t(s)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[t,r])}var _I="DismissableLayer",dy="dismissableLayer.update",EI="dismissableLayer.pointerDownOutside",FI="dismissableLayer.focusOutside",DN,lS=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xf=b.forwardRef((e,r)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...A}=e,d=b.useContext(lS),[f,h]=b.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),v=ba(r,F=>h(F)),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),j=f?g.indexOf(f):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,E=j>=w,U=DI(F=>{const D=F.target,_=[...d.branches].some(G=>G.contains(D));!E||_||(s==null||s(F),o==null||o(F),F.defaultPrevented||l==null||l())},m),k=UI(F=>{const D=F.target;[...d.branches].some(G=>G.contains(D))||(i==null||i(F),o==null||o(F),F.defaultPrevented||l==null||l())},m);return SI(F=>{j===d.layers.size-1&&(a==null||a(F),!F.defaultPrevented&&l&&(F.preventDefault(),l()))},m),b.useEffect(()=>{if(f)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(DN=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),UN(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=DN)}},[f,m,t,d]),b.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),UN())},[f,d]),b.useEffect(()=>{const F=()=>p({});return document.addEventListener(dy,F),()=>document.removeEventListener(dy,F)},[]),n.jsx(_r.div,{...A,ref:v,style:{pointerEvents:C?E?"auto":"none":void 0,...e.style},onFocusCapture:kt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:kt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:kt(e.onPointerDownCapture,U.onPointerDownCapture)})});Xf.displayName=_I;var kI="DismissableLayerBranch",cS=b.forwardRef((e,r)=>{const t=b.useContext(lS),a=b.useRef(null),s=ba(r,a);return b.useEffect(()=>{const i=a.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),n.jsx(_r.div,{...e,ref:s})});cS.displayName=kI;function DI(e,r=globalThis==null?void 0:globalThis.document){const t=Si(e),a=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let A=function(){AS(EI,t,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=A,r.addEventListener("click",s.current,{once:!0})):A()}else r.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,t]),{onPointerDownCapture:()=>a.current=!0}}function UI(e,r=globalThis==null?void 0:globalThis.document){const t=Si(e),a=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!a.current&&AS(FI,t,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,t]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function UN(){const e=new CustomEvent(dy);document.dispatchEvent(e)}function AS(e,r,t,{discrete:a}){const s=t.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});r&&s.addEventListener(e,r,{once:!0}),a?R1(s,i):s.dispatchEvent(i)}var LI=Xf,II=cS,Mv="focusScope.autoFocusOnMount",Tv="focusScope.autoFocusOnUnmount",LN={bubbles:!1,cancelable:!0},PI="FocusScope",W0=b.forwardRef((e,r)=>{const{loop:t=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,A]=b.useState(null),d=Si(s),f=Si(i),h=b.useRef(null),m=ba(r,g=>A(g)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(a){let g=function(C){if(p.paused||!l)return;const E=C.target;l.contains(E)?h.current=E:YA(h.current,{select:!0})},y=function(C){if(p.paused||!l)return;const E=C.relatedTarget;E!==null&&(l.contains(E)||YA(h.current,{select:!0}))},w=function(C){if(document.activeElement===document.body)for(const U of C)U.removedNodes.length>0&&YA(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const j=new MutationObserver(w);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),j.disconnect()}}},[a,l,p.paused]),b.useEffect(()=>{if(l){PN.add(p);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(Mv,LN);l.addEventListener(Mv,d),l.dispatchEvent(w),w.defaultPrevented||(QI(HI(dS(l)),{select:!0}),document.activeElement===g&&YA(l))}return()=>{l.removeEventListener(Mv,d),setTimeout(()=>{const w=new CustomEvent(Tv,LN);l.addEventListener(Tv,f),l.dispatchEvent(w),w.defaultPrevented||YA(g??document.body,{select:!0}),l.removeEventListener(Tv,f),PN.remove(p)},0)}}},[l,d,f,p]);const v=b.useCallback(g=>{if(!t&&!a||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(y&&w){const j=g.currentTarget,[C,E]=RI(j);C&&E?!g.shiftKey&&w===E?(g.preventDefault(),t&&YA(C,{select:!0})):g.shiftKey&&w===C&&(g.preventDefault(),t&&YA(E,{select:!0})):w===j&&g.preventDefault()}},[t,a,p.paused]);return n.jsx(_r.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});W0.displayName=PI;function QI(e,{select:r=!1}={}){const t=document.activeElement;for(const a of e)if(YA(a,{select:r}),document.activeElement!==t)return}function RI(e){const r=dS(e),t=IN(r,e),a=IN(r.reverse(),e);return[t,a]}function dS(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function IN(e,r){for(const t of e)if(!MI(t,{upTo:r}))return t}function MI(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TI(e){return e instanceof HTMLInputElement&&"select"in e}function YA(e,{select:r=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&TI(e)&&r&&e.select()}}var PN=OI();function OI(){let e=[];return{add(r){const t=e[0];r!==t&&(t==null||t.pause()),e=QN(e,r),e.unshift(r)},remove(r){var t;e=QN(e,r),(t=e[0])==null||t.resume()}}}function QN(e,r){const t=[...e],a=t.indexOf(r);return a!==-1&&t.splice(a,1),t}function HI(e){return e.filter(r=>r.tagName!=="A")}var $I="Portal",Em=b.forwardRef((e,r)=>{var l;const{container:t,...a}=e,[s,i]=b.useState(!1);ps(()=>i(!0),[]);const o=t||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?g5.createPortal(n.jsx(_r.div,{...a,ref:r}),o):null});Em.displayName=$I;function KI(e,r){return b.useReducer((t,a)=>r[t][a]??t,e)}var mc=e=>{const{present:r,children:t}=e,a=VI(r),s=typeof t=="function"?t({present:a.isPresent}):b.Children.only(t),i=ba(a.ref,zI(s));return typeof t=="function"||a.isPresent?b.cloneElement(s,{ref:i}):null};mc.displayName="Presence";function VI(e){const[r,t]=b.useState(),a=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[l,A]=KI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=_p(a.current);i.current=l==="mounted"?d:"none"},[l]),ps(()=>{const d=a.current,f=s.current;if(f!==e){const m=i.current,p=_p(d);e?A("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?A("UNMOUNT"):A(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,A]),ps(()=>{if(r){let d;const f=r.ownerDocument.defaultView??window,h=p=>{const g=_p(a.current).includes(CSS.escape(p.animationName));if(p.target===r&&g&&(A("ANIMATION_END"),!s.current)){const y=r.style.animationFillMode;r.style.animationFillMode="forwards",d=f.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=y)})}},m=p=>{p.target===r&&(i.current=_p(a.current))};return r.addEventListener("animationstart",m),r.addEventListener("animationcancel",h),r.addEventListener("animationend",h),()=>{f.clearTimeout(d),r.removeEventListener("animationstart",m),r.removeEventListener("animationcancel",h),r.removeEventListener("animationend",h)}}else A("ANIMATION_END")},[r,A]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{a.current=d?getComputedStyle(d):null,t(d)},[])}}function _p(e){return(e==null?void 0:e.animationName)||"none"}function zI(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Ov=0;function M1(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??RN()),document.body.insertAdjacentElement("beforeend",e[1]??RN()),Ov++,()=>{Ov===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ov--}},[])}function RN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yl=function(){return Yl=Object.assign||function(r){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Yl.apply(this,arguments)};function uS(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t}function qI(e,r,t){if(t||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var Bg="right-scroll-bar-position",Cg="width-before-scroll-bar",WI="with-scroll-bars-hidden",GI="--removed-body-scroll-bar-size";function Hv(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function YI(e,r){var t=b.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(a){var s=t.value;s!==a&&(t.value=a,t.callback(a,s))}}}})[0];return t.callback=r,t.facade}var XI=typeof window<"u"?b.useLayoutEffect:b.useEffect,MN=new WeakMap;function JI(e,r){var t=YI(null,function(a){return e.forEach(function(s){return Hv(s,a)})});return XI(function(){var a=MN.get(t);if(a){var s=new Set(a),i=new Set(e),o=t.current;s.forEach(function(l){i.has(l)||Hv(l,null)}),i.forEach(function(l){s.has(l)||Hv(l,o)})}MN.set(t,e)},[e]),t}function ZI(e){return e}function eP(e,r){r===void 0&&(r=ZI);var t=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(i){var o=r(i,a);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(l){return i(l)},filter:function(){return t}}},assignMedium:function(i){a=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(i),o=t}var A=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(A)};d(),t={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),t}}}};return s}function tP(e){e===void 0&&(e={});var r=eP(null);return r.options=Yl({async:!0,ssr:!1},e),r}var fS=function(e){var r=e.sideCar,t=uS(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return b.createElement(a,Yl({},t))};fS.isSideCarExport=!0;function rP(e,r){return e.useMedium(r),fS}var hS=tP(),$v=function(){},G0=b.forwardRef(function(e,r){var t=b.useRef(null),a=b.useState({onScrollCapture:$v,onWheelCapture:$v,onTouchMoveCapture:$v}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,A=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,v=e.noIsolation,g=e.inert,y=e.allowPinchZoom,w=e.as,j=w===void 0?"div":w,C=e.gapMode,E=uS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=m,k=JI([t,r]),F=Yl(Yl({},E),s);return b.createElement(b.Fragment,null,f&&b.createElement(U,{sideCar:hS,removeScrollBar:d,shards:h,noRelative:p,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:t,gapMode:C}),o?b.cloneElement(b.Children.only(l),Yl(Yl({},F),{ref:k})):b.createElement(j,Yl({},F,{className:A,ref:k}),l))});G0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};G0.classNames={fullWidth:Cg,zeroRight:Bg};var aP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=aP();return r&&e.setAttribute("nonce",r),e}function sP(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function iP(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var oP=function(){var e=0,r=null;return{add:function(t){e==0&&(r=nP())&&(sP(r,t),iP(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},lP=function(){var e=oP();return function(r,t){b.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&t])}},mS=function(){var e=lP(),r=function(t){var a=t.styles,s=t.dynamic;return e(a,s),null};return r},cP={left:0,top:0,right:0,gap:0},Kv=function(e){return parseInt(e||"",10)||0},AP=function(e){var r=window.getComputedStyle(document.body),t=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],s=r[e==="padding"?"paddingRight":"marginRight"];return[Kv(t),Kv(a),Kv(s)]},dP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cP;var r=AP(e),t=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-t+r[2]-r[0])}},uP=mS(),Sf="data-scroll-locked",fP=function(e,r,t,a){var s=e.left,i=e.top,o=e.right,l=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(WI,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Sf,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bg,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Cg,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Bg," .").concat(Bg,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Cg," .").concat(Cg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Sf,`] {
    `).concat(GI,": ").concat(l,`px;
  }
`)},TN=function(){var e=parseInt(document.body.getAttribute(Sf)||"0",10);return isFinite(e)?e:0},hP=function(){b.useEffect(function(){return document.body.setAttribute(Sf,(TN()+1).toString()),function(){var e=TN()-1;e<=0?document.body.removeAttribute(Sf):document.body.setAttribute(Sf,e.toString())}},[])},mP=function(e){var r=e.noRelative,t=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;hP();var i=b.useMemo(function(){return dP(s)},[s]);return b.createElement(uP,{styles:fP(i,!r,s,t?"":"!important")})},uy=!1;if(typeof window<"u")try{var Ep=Object.defineProperty({},"passive",{get:function(){return uy=!0,!0}});window.addEventListener("test",Ep,Ep),window.removeEventListener("test",Ep,Ep)}catch{uy=!1}var nf=uy?{passive:!1}:!1,pP=function(e){return e.tagName==="TEXTAREA"},pS=function(e,r){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!pP(e)&&t[r]==="visible")},gP=function(e){return pS(e,"overflowY")},xP=function(e){return pS(e,"overflowX")},ON=function(e,r){var t=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=gS(e,a);if(s){var i=xS(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==t.body);return!1},vP=function(e){var r=e.scrollTop,t=e.scrollHeight,a=e.clientHeight;return[r,t,a]},wP=function(e){var r=e.scrollLeft,t=e.scrollWidth,a=e.clientWidth;return[r,t,a]},gS=function(e,r){return e==="v"?gP(r):xP(r)},xS=function(e,r){return e==="v"?vP(r):wP(r)},yP=function(e,r){return e==="h"&&r==="rtl"?-1:1},bP=function(e,r,t,a,s){var i=yP(e,window.getComputedStyle(r).direction),o=i*a,l=t.target,A=r.contains(l),d=!1,f=o>0,h=0,m=0;do{if(!l)break;var p=xS(e,l),v=p[0],g=p[1],y=p[2],w=g-y-i*v;(v||w)&&gS(e,l)&&(h+=w,m+=v);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!A&&l!==document.body||A&&(r.contains(l)||r===l));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(d=!0),d},Fp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},HN=function(e){return[e.deltaX,e.deltaY]},$N=function(e){return e&&"current"in e?e.current:e},NP=function(e,r){return e[0]===r[0]&&e[1]===r[1]},jP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BP=0,sf=[];function CP(e){var r=b.useRef([]),t=b.useRef([0,0]),a=b.useRef(),s=b.useState(BP++)[0],i=b.useState(mS)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=qI([e.lockRef.current],(e.shards||[]).map($N),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=Fp(g),j=t.current,C="deltaX"in g?g.deltaX:j[0]-w[0],E="deltaY"in g?g.deltaY:j[1]-w[1],U,k=g.target,F=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in g&&F==="h"&&k.type==="range")return!1;var D=ON(F,k);if(!D)return!0;if(D?U=F:(U=F==="v"?"h":"v",D=ON(F,k)),!D)return!1;if(!a.current&&"changedTouches"in g&&(C||E)&&(a.current=U),!U)return!0;var _=a.current||U;return bP(_,y,g,_==="h"?C:E)},[]),A=b.useCallback(function(g){var y=g;if(!(!sf.length||sf[sf.length-1]!==i)){var w="deltaY"in y?HN(y):Fp(y),j=r.current.filter(function(U){return U.name===y.type&&(U.target===y.target||y.target===U.shadowParent)&&NP(U.delta,w)})[0];if(j&&j.should){y.cancelable&&y.preventDefault();return}if(!j){var C=(o.current.shards||[]).map($N).filter(Boolean).filter(function(U){return U.contains(y.target)}),E=C.length>0?l(y,C[0]):!o.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),d=b.useCallback(function(g,y,w,j){var C={name:g,delta:y,target:w,should:j,shadowParent:SP(w)};r.current.push(C),setTimeout(function(){r.current=r.current.filter(function(E){return E!==C})},1)},[]),f=b.useCallback(function(g){t.current=Fp(g),a.current=void 0},[]),h=b.useCallback(function(g){d(g.type,HN(g),g.target,l(g,e.lockRef.current))},[]),m=b.useCallback(function(g){d(g.type,Fp(g),g.target,l(g,e.lockRef.current))},[]);b.useEffect(function(){return sf.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",A,nf),document.addEventListener("touchmove",A,nf),document.addEventListener("touchstart",f,nf),function(){sf=sf.filter(function(g){return g!==i}),document.removeEventListener("wheel",A,nf),document.removeEventListener("touchmove",A,nf),document.removeEventListener("touchstart",f,nf)}},[]);var p=e.removeScrollBar,v=e.inert;return b.createElement(b.Fragment,null,v?b.createElement(i,{styles:jP(s)}):null,p?b.createElement(mP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function SP(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const _P=rP(hS,CP);var Y0=b.forwardRef(function(e,r){return b.createElement(G0,Yl({},e,{ref:r,sideCar:_P}))});Y0.classNames=G0.classNames;var EP=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},of=new WeakMap,kp=new WeakMap,Dp={},Vv=0,vS=function(e){return e&&(e.host||vS(e.parentNode))},FP=function(e,r){return r.map(function(t){if(e.contains(t))return t;var a=vS(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},kP=function(e,r,t,a){var s=FP(r,Array.isArray(e)?e:[e]);Dp[t]||(Dp[t]=new WeakMap);var i=Dp[t],o=[],l=new Set,A=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||A.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(a),v=p!==null&&p!=="false",g=(of.get(m)||0)+1,y=(i.get(m)||0)+1;of.set(m,g),i.set(m,y),o.push(m),g===1&&v&&kp.set(m,!0),y===1&&m.setAttribute(t,"true"),v||m.setAttribute(a,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return f(r),l.clear(),Vv++,function(){o.forEach(function(h){var m=of.get(h)-1,p=i.get(h)-1;of.set(h,m),i.set(h,p),m||(kp.has(h)||h.removeAttribute(a),kp.delete(h)),p||h.removeAttribute(t)}),Vv--,Vv||(of=new WeakMap,of=new WeakMap,kp=new WeakMap,Dp={})}},T1=function(e,r,t){t===void 0&&(t="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=EP(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),kP(a,s,t,"aria-hidden")):function(){return null}},X0="Dialog",[wS,UZ]=Bl(X0),[DP,Cl]=wS(X0),yS=e=>{const{__scopeDialog:r,children:t,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=b.useRef(null),A=b.useRef(null),[d,f]=ud({prop:a,defaultProp:s??!1,onChange:i,caller:X0});return n.jsx(DP,{scope:r,triggerRef:l,contentRef:A,contentId:oc(),titleId:oc(),descriptionId:oc(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),modal:o,children:t})};yS.displayName=X0;var bS="DialogTrigger",NS=b.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Cl(bS,t),i=ba(r,s.triggerRef);return n.jsx(_r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$1(s.open),...a,ref:i,onClick:kt(e.onClick,s.onOpenToggle)})});NS.displayName=bS;var O1="DialogPortal",[UP,jS]=wS(O1,{forceMount:void 0}),BS=e=>{const{__scopeDialog:r,forceMount:t,children:a,container:s}=e,i=Cl(O1,r);return n.jsx(UP,{scope:r,forceMount:t,children:b.Children.map(a,o=>n.jsx(mc,{present:t||i.open,children:n.jsx(Em,{asChild:!0,container:s,children:o})}))})};BS.displayName=O1;var Zg="DialogOverlay",CS=b.forwardRef((e,r)=>{const t=jS(Zg,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,i=Cl(Zg,e.__scopeDialog);return i.modal?n.jsx(mc,{present:a||i.open,children:n.jsx(IP,{...s,ref:r})}):null});CS.displayName=Zg;var LP=mu("DialogOverlay.RemoveScroll"),IP=b.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Cl(Zg,t);return n.jsx(Y0,{as:LP,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(_r.div,{"data-state":$1(s.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),xu="DialogContent",SS=b.forwardRef((e,r)=>{const t=jS(xu,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,i=Cl(xu,e.__scopeDialog);return n.jsx(mc,{present:a||i.open,children:i.modal?n.jsx(PP,{...s,ref:r}):n.jsx(QP,{...s,ref:r})})});SS.displayName=xu;var PP=b.forwardRef((e,r)=>{const t=Cl(xu,e.__scopeDialog),a=b.useRef(null),s=ba(r,t.contentRef,a);return b.useEffect(()=>{const i=a.current;if(i)return T1(i)},[]),n.jsx(_S,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:kt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:kt(e.onFocusOutside,i=>i.preventDefault())})}),QP=b.forwardRef((e,r)=>{const t=Cl(xu,e.__scopeDialog),a=b.useRef(!1),s=b.useRef(!1);return n.jsx(_S,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=t.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var A,d;(A=e.onInteractOutside)==null||A.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=t.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),_S=b.forwardRef((e,r)=>{const{__scopeDialog:t,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Cl(xu,t),A=b.useRef(null),d=ba(r,A);return M1(),n.jsxs(n.Fragment,{children:[n.jsx(W0,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(Xf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$1(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(RP,{titleId:l.titleId}),n.jsx(TP,{contentRef:A,descriptionId:l.descriptionId})]})]})}),H1="DialogTitle",ES=b.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Cl(H1,t);return n.jsx(_r.h2,{id:s.titleId,...a,ref:r})});ES.displayName=H1;var FS="DialogDescription",kS=b.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Cl(FS,t);return n.jsx(_r.p,{id:s.descriptionId,...a,ref:r})});kS.displayName=FS;var DS="DialogClose",US=b.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=Cl(DS,t);return n.jsx(_r.button,{type:"button",...a,ref:r,onClick:kt(e.onClick,()=>s.onOpenChange(!1))})});US.displayName=DS;function $1(e){return e?"open":"closed"}var LS="DialogTitleWarning",[LZ,IS]=wI(LS,{contentName:xu,titleName:H1,docsSlug:"dialog"}),RP=({titleId:e})=>{const r=IS(LS),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},MP="DialogDescriptionWarning",TP=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IS(MP).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},PS=yS,OP=NS,QS=BS,J0=CS,Z0=SS,ex=ES,tx=kS,RS=US;const HP=PS,$P=QS,MS=b.forwardRef(({className:e,...r},t)=>n.jsx(J0,{className:lt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:t}));MS.displayName=J0.displayName;const KP=V0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),TS=b.forwardRef(({side:e="right",className:r,children:t,...a},s)=>n.jsxs($P,{children:[n.jsx(MS,{}),n.jsxs(Z0,{ref:s,className:lt(KP({side:e}),r),...a,children:[t,n.jsxs(RS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(Q1,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));TS.displayName=Z0.displayName;const VP=b.forwardRef(({className:e,...r},t)=>n.jsx(ex,{ref:t,className:lt("text-lg font-semibold text-foreground",e),...r}));VP.displayName=ex.displayName;const zP=b.forwardRef(({className:e,...r},t)=>n.jsx(tx,{ref:t,className:lt("text-sm text-muted-foreground",e),...r}));zP.displayName=tx.displayName;function Br({className:e,...r}){return n.jsx("div",{className:lt("animate-pulse rounded-md bg-muted",e),...r})}const qP=["top","right","bottom","left"],fd=Math.min,ho=Math.max,e0=Math.round,Up=Math.floor,lc=e=>({x:e,y:e}),WP={left:"right",right:"left",bottom:"top",top:"bottom"},GP={start:"end",end:"start"};function fy(e,r,t){return ho(e,fd(r,t))}function AA(e,r){return typeof e=="function"?e(r):e}function dA(e){return e.split("-")[0]}function Jf(e){return e.split("-")[1]}function K1(e){return e==="x"?"y":"x"}function V1(e){return e==="y"?"height":"width"}const YP=new Set(["top","bottom"]);function rc(e){return YP.has(dA(e))?"y":"x"}function z1(e){return K1(rc(e))}function XP(e,r,t){t===void 0&&(t=!1);const a=Jf(e),s=z1(e),i=V1(s);let o=s==="x"?a===(t?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=t0(o)),[o,t0(o)]}function JP(e){const r=t0(e);return[hy(e),r,hy(r)]}function hy(e){return e.replace(/start|end/g,r=>GP[r])}const KN=["left","right"],VN=["right","left"],ZP=["top","bottom"],eQ=["bottom","top"];function tQ(e,r,t){switch(e){case"top":case"bottom":return t?r?VN:KN:r?KN:VN;case"left":case"right":return r?ZP:eQ;default:return[]}}function rQ(e,r,t,a){const s=Jf(e);let i=tQ(dA(e),t==="start",a);return s&&(i=i.map(o=>o+"-"+s),r&&(i=i.concat(i.map(hy)))),i}function t0(e){return e.replace(/left|right|bottom|top/g,r=>WP[r])}function aQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function OS(e){return typeof e!="number"?aQ(e):{top:e,right:e,bottom:e,left:e}}function r0(e){const{x:r,y:t,width:a,height:s}=e;return{width:a,height:s,top:t,left:r,right:r+a,bottom:t+s,x:r,y:t}}function zN(e,r,t){let{reference:a,floating:s}=e;const i=rc(r),o=z1(r),l=V1(o),A=dA(r),d=i==="y",f=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,m=a[l]/2-s[l]/2;let p;switch(A){case"top":p={x:f,y:a.y-s.height};break;case"bottom":p={x:f,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:h};break;case"left":p={x:a.x-s.width,y:h};break;default:p={x:a.x,y:a.y}}switch(Jf(r)){case"start":p[o]-=m*(t&&d?-1:1);break;case"end":p[o]+=m*(t&&d?-1:1);break}return p}const nQ=async(e,r,t)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,l=i.filter(Boolean),A=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:s}),{x:f,y:h}=zN(d,a,A),m=a,p={},v=0;for(let g=0;g<l.length;g++){const{name:y,fn:w}=l[g],{x:j,y:C,data:E,reset:U}=await w({x:f,y:h,initialPlacement:a,placement:m,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:r}});f=j??f,h=C??h,p={...p,[y]:{...p[y],...E}},U&&v<=50&&(v++,typeof U=="object"&&(U.placement&&(m=U.placement),U.rects&&(d=U.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:s}):U.rects),{x:f,y:h}=zN(d,m,A)),g=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:p}};async function Am(e,r){var t;r===void 0&&(r={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:A}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=AA(r,e),v=OS(p),y=l[m?h==="floating"?"reference":"floating":h],w=r0(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(y)))==null||t?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:A})),j=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},U=r0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:C,strategy:A}):j);return{top:(w.top-U.top+v.top)/E.y,bottom:(U.bottom-w.bottom+v.bottom)/E.y,left:(w.left-U.left+v.left)/E.x,right:(U.right-w.right+v.right)/E.x}}const sQ=e=>({name:"arrow",options:e,async fn(r){const{x:t,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:A}=r,{element:d,padding:f=0}=AA(e,r)||{};if(d==null)return{};const h=OS(f),m={x:t,y:a},p=z1(s),v=V1(p),g=await o.getDimensions(d),y=p==="y",w=y?"top":"left",j=y?"bottom":"right",C=y?"clientHeight":"clientWidth",E=i.reference[v]+i.reference[p]-m[p]-i.floating[v],U=m[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let F=k?k[C]:0;(!F||!await(o.isElement==null?void 0:o.isElement(k)))&&(F=l.floating[C]||i.floating[v]);const D=E/2-U/2,_=F/2-g[v]/2-1,G=fd(h[w],_),L=fd(h[j],_),T=G,J=F-g[v]-L,R=F/2-g[v]/2+D,re=fy(T,R,J),V=!A.arrow&&Jf(s)!=null&&R!==re&&i.reference[v]/2-(R<T?G:L)-g[v]/2<0,Y=V?R<T?R-T:R-J:0;return{[p]:m[p]+Y,data:{[p]:re,centerOffset:R-re-Y,...V&&{alignmentOffset:Y}},reset:V}}}),iQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var t,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:A,elements:d}=r,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=AA(e,r);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const w=dA(s),j=rc(l),C=dA(l)===l,E=await(A.isRTL==null?void 0:A.isRTL(d.floating)),U=m||(C||!g?[t0(l)]:JP(l)),k=v!=="none";!m&&k&&U.push(...rQ(l,g,v,E));const F=[l,...U],D=await Am(r,y),_=[];let G=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&_.push(D[w]),h){const R=XP(s,o,E);_.push(D[R[0]],D[R[1]])}if(G=[...G,{placement:s,overflows:_}],!_.every(R=>R<=0)){var L,T;const R=(((L=i.flip)==null?void 0:L.index)||0)+1,re=F[R];if(re&&(!(h==="alignment"?j!==rc(re):!1)||G.every(H=>rc(H.placement)===j?H.overflows[0]>0:!0)))return{data:{index:R,overflows:G},reset:{placement:re}};let V=(T=G.filter(Y=>Y.overflows[0]<=0).sort((Y,H)=>Y.overflows[1]-H.overflows[1])[0])==null?void 0:T.placement;if(!V)switch(p){case"bestFit":{var J;const Y=(J=G.filter(H=>{if(k){const Z=rc(H.placement);return Z===j||Z==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(Z=>Z>0).reduce((Z,Ae)=>Z+Ae,0)]).sort((H,Z)=>H[1]-Z[1])[0])==null?void 0:J[0];Y&&(V=Y);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function qN(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function WN(e){return qP.some(r=>e[r]>=0)}const oQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:t}=r,{strategy:a="referenceHidden",...s}=AA(e,r);switch(a){case"referenceHidden":{const i=await Am(r,{...s,elementContext:"reference"}),o=qN(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:WN(o)}}}case"escaped":{const i=await Am(r,{...s,altBoundary:!0}),o=qN(i,t.floating);return{data:{escapedOffsets:o,escaped:WN(o)}}}default:return{}}}}},HS=new Set(["left","top"]);async function lQ(e,r){const{placement:t,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=dA(t),l=Jf(t),A=rc(t)==="y",d=HS.has(o)?-1:1,f=i&&A?-1:1,h=AA(r,e);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),A?{x:p*f,y:m*d}:{x:m*d,y:p*f}}const cQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var t,a;const{x:s,y:i,placement:o,middlewareData:l}=r,A=await lQ(r,e);return o===((t=l.offset)==null?void 0:t.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+A.x,y:i+A.y,data:{...A,placement:o}}}}},AQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:t,y:a,placement:s}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:w,y:j}=y;return{x:w,y:j}}},...A}=AA(e,r),d={x:t,y:a},f=await Am(r,A),h=rc(dA(s)),m=K1(h);let p=d[m],v=d[h];if(i){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",j=p+f[y],C=p-f[w];p=fy(j,p,C)}if(o){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",j=v+f[y],C=v-f[w];v=fy(j,v,C)}const g=l.fn({...r,[m]:p,[h]:v});return{...g,data:{x:g.x-t,y:g.y-a,enabled:{[m]:i,[h]:o}}}}}},dQ=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:t,y:a,placement:s,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:A=!0,crossAxis:d=!0}=AA(e,r),f={x:t,y:a},h=rc(s),m=K1(h);let p=f[m],v=f[h];const g=AA(l,r),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(A){const C=m==="y"?"height":"width",E=i.reference[m]-i.floating[C]+y.mainAxis,U=i.reference[m]+i.reference[C]-y.mainAxis;p<E?p=E:p>U&&(p=U)}if(d){var w,j;const C=m==="y"?"width":"height",E=HS.has(dA(s)),U=i.reference[h]-i.floating[C]+(E&&((w=o.offset)==null?void 0:w[h])||0)+(E?0:y.crossAxis),k=i.reference[h]+i.reference[C]+(E?0:((j=o.offset)==null?void 0:j[h])||0)-(E?y.crossAxis:0);v<U?v=U:v>k&&(v=k)}return{[m]:p,[h]:v}}}},uQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var t,a;const{placement:s,rects:i,platform:o,elements:l}=r,{apply:A=()=>{},...d}=AA(e,r),f=await Am(r,d),h=dA(s),m=Jf(s),p=rc(s)==="y",{width:v,height:g}=i.floating;let y,w;h==="top"||h==="bottom"?(y=h,w=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,y=m==="end"?"top":"bottom");const j=g-f.top-f.bottom,C=v-f.left-f.right,E=fd(g-f[y],j),U=fd(v-f[w],C),k=!r.middlewareData.shift;let F=E,D=U;if((t=r.middlewareData.shift)!=null&&t.enabled.x&&(D=C),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(F=j),k&&!m){const G=ho(f.left,0),L=ho(f.right,0),T=ho(f.top,0),J=ho(f.bottom,0);p?D=v-2*(G!==0||L!==0?G+L:ho(f.left,f.right)):F=g-2*(T!==0||J!==0?T+J:ho(f.top,f.bottom))}await A({...r,availableWidth:D,availableHeight:F});const _=await o.getDimensions(l.floating);return v!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function rx(){return typeof window<"u"}function Zf(e){return $S(e)?(e.nodeName||"").toLowerCase():"#document"}function go(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function pc(e){var r;return(r=($S(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function $S(e){return rx()?e instanceof Node||e instanceof go(e).Node:!1}function ji(e){return rx()?e instanceof Element||e instanceof go(e).Element:!1}function Ac(e){return rx()?e instanceof HTMLElement||e instanceof go(e).HTMLElement:!1}function GN(e){return!rx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof go(e).ShadowRoot}const fQ=new Set(["inline","contents"]);function Fm(e){const{overflow:r,overflowX:t,overflowY:a,display:s}=Ko(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+t)&&!fQ.has(s)}const hQ=new Set(["table","td","th"]);function mQ(e){return hQ.has(Zf(e))}const pQ=[":popover-open",":modal"];function ax(e){return pQ.some(r=>{try{return e.matches(r)}catch{return!1}})}const gQ=["transform","translate","scale","rotate","perspective"],xQ=["transform","translate","scale","rotate","perspective","filter"],vQ=["paint","layout","strict","content"];function q1(e){const r=W1(),t=ji(e)?Ko(e):e;return gQ.some(a=>t[a]?t[a]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||xQ.some(a=>(t.willChange||"").includes(a))||vQ.some(a=>(t.contain||"").includes(a))}function wQ(e){let r=hd(e);for(;Ac(r)&&!Rf(r);){if(q1(r))return r;if(ax(r))return null;r=hd(r)}return null}function W1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yQ=new Set(["html","body","#document"]);function Rf(e){return yQ.has(Zf(e))}function Ko(e){return go(e).getComputedStyle(e)}function nx(e){return ji(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hd(e){if(Zf(e)==="html")return e;const r=e.assignedSlot||e.parentNode||GN(e)&&e.host||pc(e);return GN(r)?r.host:r}function KS(e){const r=hd(e);return Rf(r)?e.ownerDocument?e.ownerDocument.body:e.body:Ac(r)&&Fm(r)?r:KS(r)}function dm(e,r,t){var a;r===void 0&&(r=[]),t===void 0&&(t=!0);const s=KS(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=go(s);if(i){const l=my(o);return r.concat(o,o.visualViewport||[],Fm(s)?s:[],l&&t?dm(l):[])}return r.concat(s,dm(s,[],t))}function my(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function VS(e){const r=Ko(e);let t=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const s=Ac(e),i=s?e.offsetWidth:t,o=s?e.offsetHeight:a,l=e0(t)!==i||e0(a)!==o;return l&&(t=i,a=o),{width:t,height:a,$:l}}function G1(e){return ji(e)?e:e.contextElement}function _f(e){const r=G1(e);if(!Ac(r))return lc(1);const t=r.getBoundingClientRect(),{width:a,height:s,$:i}=VS(r);let o=(i?e0(t.width):t.width)/a,l=(i?e0(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const bQ=lc(0);function zS(e){const r=go(e);return!W1()||!r.visualViewport?bQ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function NQ(e,r,t){return r===void 0&&(r=!1),!t||r&&t!==go(e)?!1:r}function vu(e,r,t,a){r===void 0&&(r=!1),t===void 0&&(t=!1);const s=e.getBoundingClientRect(),i=G1(e);let o=lc(1);r&&(a?ji(a)&&(o=_f(a)):o=_f(e));const l=NQ(i,t,a)?zS(i):lc(0);let A=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const m=go(i),p=a&&ji(a)?go(a):a;let v=m,g=my(v);for(;g&&a&&p!==v;){const y=_f(g),w=g.getBoundingClientRect(),j=Ko(g),C=w.left+(g.clientLeft+parseFloat(j.paddingLeft))*y.x,E=w.top+(g.clientTop+parseFloat(j.paddingTop))*y.y;A*=y.x,d*=y.y,f*=y.x,h*=y.y,A+=C,d+=E,v=go(g),g=my(v)}}return r0({width:f,height:h,x:A,y:d})}function sx(e,r){const t=nx(e).scrollLeft;return r?r.left+t:vu(pc(e)).left+t}function qS(e,r){const t=e.getBoundingClientRect(),a=t.left+r.scrollLeft-sx(e,t),s=t.top+r.scrollTop;return{x:a,y:s}}function jQ(e){let{elements:r,rect:t,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=pc(a),l=r?ax(r.floating):!1;if(a===o||l&&i)return t;let A={scrollLeft:0,scrollTop:0},d=lc(1);const f=lc(0),h=Ac(a);if((h||!h&&!i)&&((Zf(a)!=="body"||Fm(o))&&(A=nx(a)),Ac(a))){const p=vu(a);d=_f(a),f.x=p.x+a.clientLeft,f.y=p.y+a.clientTop}const m=o&&!h&&!i?qS(o,A):lc(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-A.scrollLeft*d.x+f.x+m.x,y:t.y*d.y-A.scrollTop*d.y+f.y+m.y}}function BQ(e){return Array.from(e.getClientRects())}function CQ(e){const r=pc(e),t=nx(e),a=e.ownerDocument.body,s=ho(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=ho(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-t.scrollLeft+sx(e);const l=-t.scrollTop;return Ko(a).direction==="rtl"&&(o+=ho(r.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}const YN=25;function SQ(e,r){const t=go(e),a=pc(e),s=t.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,A=0;if(s){i=s.width,o=s.height;const f=W1();(!f||f&&r==="fixed")&&(l=s.offsetLeft,A=s.offsetTop)}const d=sx(a);if(d<=0){const f=a.ownerDocument,h=f.body,m=getComputedStyle(h),p=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,v=Math.abs(a.clientWidth-h.clientWidth-p);v<=YN&&(i-=v)}else d<=YN&&(i+=d);return{width:i,height:o,x:l,y:A}}const _Q=new Set(["absolute","fixed"]);function EQ(e,r){const t=vu(e,!0,r==="fixed"),a=t.top+e.clientTop,s=t.left+e.clientLeft,i=Ac(e)?_f(e):lc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,A=s*i.x,d=a*i.y;return{width:o,height:l,x:A,y:d}}function XN(e,r,t){let a;if(r==="viewport")a=SQ(e,t);else if(r==="document")a=CQ(pc(e));else if(ji(r))a=EQ(r,t);else{const s=zS(e);a={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return r0(a)}function WS(e,r){const t=hd(e);return t===r||!ji(t)||Rf(t)?!1:Ko(t).position==="fixed"||WS(t,r)}function FQ(e,r){const t=r.get(e);if(t)return t;let a=dm(e,[],!1).filter(l=>ji(l)&&Zf(l)!=="body"),s=null;const i=Ko(e).position==="fixed";let o=i?hd(e):e;for(;ji(o)&&!Rf(o);){const l=Ko(o),A=q1(o);!A&&l.position==="fixed"&&(s=null),(i?!A&&!s:!A&&l.position==="static"&&!!s&&_Q.has(s.position)||Fm(o)&&!A&&WS(e,o))?a=a.filter(f=>f!==o):s=l,o=hd(o)}return r.set(e,a),a}function kQ(e){let{element:r,boundary:t,rootBoundary:a,strategy:s}=e;const o=[...t==="clippingAncestors"?ax(r)?[]:FQ(r,this._c):[].concat(t),a],l=o[0],A=o.reduce((d,f)=>{const h=XN(r,f,s);return d.top=ho(h.top,d.top),d.right=fd(h.right,d.right),d.bottom=fd(h.bottom,d.bottom),d.left=ho(h.left,d.left),d},XN(r,l,s));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}}function DQ(e){const{width:r,height:t}=VS(e);return{width:r,height:t}}function UQ(e,r,t){const a=Ac(r),s=pc(r),i=t==="fixed",o=vu(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const A=lc(0);function d(){A.x=sx(s)}if(a||!a&&!i)if((Zf(r)!=="body"||Fm(s))&&(l=nx(r)),a){const p=vu(r,!0,i,r);A.x=p.x+r.clientLeft,A.y=p.y+r.clientTop}else s&&d();i&&!a&&s&&d();const f=s&&!a&&!i?qS(s,l):lc(0),h=o.left+l.scrollLeft-A.x-f.x,m=o.top+l.scrollTop-A.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function zv(e){return Ko(e).position==="static"}function JN(e,r){if(!Ac(e)||Ko(e).position==="fixed")return null;if(r)return r(e);let t=e.offsetParent;return pc(e)===t&&(t=t.ownerDocument.body),t}function GS(e,r){const t=go(e);if(ax(e))return t;if(!Ac(e)){let s=hd(e);for(;s&&!Rf(s);){if(ji(s)&&!zv(s))return s;s=hd(s)}return t}let a=JN(e,r);for(;a&&mQ(a)&&zv(a);)a=JN(a,r);return a&&Rf(a)&&zv(a)&&!q1(a)?t:a||wQ(e)||t}const LQ=async function(e){const r=this.getOffsetParent||GS,t=this.getDimensions,a=await t(e.floating);return{reference:UQ(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function IQ(e){return Ko(e).direction==="rtl"}const PQ={convertOffsetParentRelativeRectToViewportRelativeRect:jQ,getDocumentElement:pc,getClippingRect:kQ,getOffsetParent:GS,getElementRects:LQ,getClientRects:BQ,getDimensions:DQ,getScale:_f,isElement:ji,isRTL:IQ};function YS(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function QQ(e,r){let t=null,a;const s=pc(e);function i(){var l;clearTimeout(a),(l=t)==null||l.disconnect(),t=null}function o(l,A){l===void 0&&(l=!1),A===void 0&&(A=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=d;if(l||r(),!m||!p)return;const v=Up(h),g=Up(s.clientWidth-(f+m)),y=Up(s.clientHeight-(h+p)),w=Up(f),C={rootMargin:-v+"px "+-g+"px "+-y+"px "+-w+"px",threshold:ho(0,fd(1,A))||1};let E=!0;function U(k){const F=k[0].intersectionRatio;if(F!==A){if(!E)return o();F?o(!1,F):a=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!YS(d,e.getBoundingClientRect())&&o(),E=!1}try{t=new IntersectionObserver(U,{...C,root:s.ownerDocument})}catch{t=new IntersectionObserver(U,C)}t.observe(e)}return o(!0),i}function XS(e,r,t,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:A=!1}=a,d=G1(e),f=s||i?[...d?dm(d):[],...dm(r)]:[];f.forEach(w=>{s&&w.addEventListener("scroll",t,{passive:!0}),i&&w.addEventListener("resize",t)});const h=d&&l?QQ(d,t):null;let m=-1,p=null;o&&(p=new ResizeObserver(w=>{let[j]=w;j&&j.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var C;(C=p)==null||C.observe(r)})),t()}),d&&!A&&p.observe(d),p.observe(r));let v,g=A?vu(e):null;A&&y();function y(){const w=vu(e);g&&!YS(g,w)&&t(),g=w,v=requestAnimationFrame(y)}return t(),()=>{var w;f.forEach(j=>{s&&j.removeEventListener("scroll",t),i&&j.removeEventListener("resize",t)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,A&&cancelAnimationFrame(v)}}const RQ=cQ,MQ=AQ,TQ=iQ,OQ=uQ,HQ=oQ,ZN=sQ,$Q=dQ,KQ=(e,r,t)=>{const a=new Map,s={platform:PQ,...t},i={...s.platform,_c:a};return nQ(e,r,{...s,platform:i})};var VQ=typeof document<"u",zQ=function(){},Sg=VQ?b.useLayoutEffect:zQ;function a0(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let t,a,s;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==r.length)return!1;for(a=t;a--!==0;)if(!a0(e[a],r[a]))return!1;return!0}if(s=Object.keys(e),t=s.length,t!==Object.keys(r).length)return!1;for(a=t;a--!==0;)if(!{}.hasOwnProperty.call(r,s[a]))return!1;for(a=t;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!a0(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function JS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ej(e,r){const t=JS(e);return Math.round(r*t)/t}function qv(e){const r=b.useRef(e);return Sg(()=>{r.current=e}),r}function ZS(e){e===void 0&&(e={});const{placement:r="bottom",strategy:t="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:A,open:d}=e,[f,h]=b.useState({x:0,y:0,strategy:t,placement:r,middlewareData:{},isPositioned:!1}),[m,p]=b.useState(a);a0(m,a)||p(a);const[v,g]=b.useState(null),[y,w]=b.useState(null),j=b.useCallback(H=>{H!==k.current&&(k.current=H,g(H))},[]),C=b.useCallback(H=>{H!==F.current&&(F.current=H,w(H))},[]),E=i||v,U=o||y,k=b.useRef(null),F=b.useRef(null),D=b.useRef(f),_=A!=null,G=qv(A),L=qv(s),T=qv(d),J=b.useCallback(()=>{if(!k.current||!F.current)return;const H={placement:r,strategy:t,middleware:m};L.current&&(H.platform=L.current),KQ(k.current,F.current,H).then(Z=>{const Ae={...Z,isPositioned:T.current!==!1};R.current&&!a0(D.current,Ae)&&(D.current=Ae,Vf.flushSync(()=>{h(Ae)}))})},[m,r,t,L,T]);Sg(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(H=>({...H,isPositioned:!1})))},[d]);const R=b.useRef(!1);Sg(()=>(R.current=!0,()=>{R.current=!1}),[]),Sg(()=>{if(E&&(k.current=E),U&&(F.current=U),E&&U){if(G.current)return G.current(E,U,J);J()}},[E,U,J,G,_]);const re=b.useMemo(()=>({reference:k,floating:F,setReference:j,setFloating:C}),[j,C]),V=b.useMemo(()=>({reference:E,floating:U}),[E,U]),Y=b.useMemo(()=>{const H={position:t,left:0,top:0};if(!V.floating)return H;const Z=ej(V.floating,f.x),Ae=ej(V.floating,f.y);return l?{...H,transform:"translate("+Z+"px, "+Ae+"px)",...JS(V.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:Ae}},[t,l,V.floating,f.x,f.y]);return b.useMemo(()=>({...f,update:J,refs:re,elements:V,floatingStyles:Y}),[f,J,re,V,Y])}const qQ=e=>{function r(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:a,padding:s}=typeof e=="function"?e(t):e;return a&&r(a)?a.current!=null?ZN({element:a.current,padding:s}).fn(t):{}:a?ZN({element:a,padding:s}).fn(t):{}}}},e4=(e,r)=>({...RQ(e),options:[e,r]}),WQ=(e,r)=>({...MQ(e),options:[e,r]}),GQ=(e,r)=>({...$Q(e),options:[e,r]}),t4=(e,r)=>({...TQ(e),options:[e,r]}),YQ=(e,r)=>({...OQ(e),options:[e,r]}),XQ=(e,r)=>({...HQ(e),options:[e,r]}),r4=(e,r)=>({...qQ(e),options:[e,r]});var JQ="Arrow",a4=b.forwardRef((e,r)=>{const{children:t,width:a=10,height:s=5,...i}=e;return n.jsx(_r.svg,{...i,ref:r,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?t:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});a4.displayName=JQ;var ZQ=a4;function n4(e){const[r,t]=b.useState(void 0);return ps(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const A=i.borderBoxSize,d=Array.isArray(A)?A[0]:A;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;t({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else t(void 0)},[e]),r}var Y1="Popper",[s4,eh]=Bl(Y1),[eR,i4]=s4(Y1),o4=e=>{const{__scopePopper:r,children:t}=e,[a,s]=b.useState(null);return n.jsx(eR,{scope:r,anchor:a,onAnchorChange:s,children:t})};o4.displayName=Y1;var l4="PopperAnchor",c4=b.forwardRef((e,r)=>{const{__scopePopper:t,virtualRef:a,...s}=e,i=i4(l4,t),o=b.useRef(null),l=ba(r,o),A=b.useRef(null);return b.useEffect(()=>{const d=A.current;A.current=(a==null?void 0:a.current)||o.current,d!==A.current&&i.onAnchorChange(A.current)}),a?null:n.jsx(_r.div,{...s,ref:l})});c4.displayName=l4;var X1="PopperContent",[tR,rR]=s4(X1),A4=b.forwardRef((e,r)=>{var K,z,se,fe,be,Be;const{__scopePopper:t,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:A=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,y=i4(X1,t),[w,j]=b.useState(null),C=ba(r,Qe=>j(Qe)),[E,U]=b.useState(null),k=n4(E),F=(k==null?void 0:k.width)??0,D=(k==null?void 0:k.height)??0,_=a+(i!=="center"?"-"+i:""),G=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},L=Array.isArray(d)?d:[d],T=L.length>0,J={padding:G,boundary:L.filter(nR),altBoundary:T},{refs:R,floatingStyles:re,placement:V,isPositioned:Y,middlewareData:H}=ZS({strategy:"fixed",placement:_,whileElementsMounted:(...Qe)=>XS(...Qe,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[e4({mainAxis:s+D,alignmentAxis:o}),A&&WQ({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?GQ():void 0,...J}),A&&t4({...J}),YQ({...J,apply:({elements:Qe,rects:xe,availableWidth:ie,availableHeight:at})=>{const{width:gt,height:it}=xe.reference,Ee=Qe.floating.style;Ee.setProperty("--radix-popper-available-width",`${ie}px`),Ee.setProperty("--radix-popper-available-height",`${at}px`),Ee.setProperty("--radix-popper-anchor-width",`${gt}px`),Ee.setProperty("--radix-popper-anchor-height",`${it}px`)}}),E&&r4({element:E,padding:l}),sR({arrowWidth:F,arrowHeight:D}),m&&XQ({strategy:"referenceHidden",...J})]}),[Z,Ae]=f4(V),ee=Si(v);ps(()=>{Y&&(ee==null||ee())},[Y,ee]);const Q=(K=H.arrow)==null?void 0:K.x,q=(z=H.arrow)==null?void 0:z.y,$=((se=H.arrow)==null?void 0:se.centerOffset)!==0,[X,te]=b.useState();return ps(()=>{w&&te(window.getComputedStyle(w).zIndex)},[w]),n.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:Y?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(fe=H.transformOrigin)==null?void 0:fe.x,(be=H.transformOrigin)==null?void 0:be.y].join(" "),...((Be=H.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(tR,{scope:t,placedSide:Z,onArrowChange:U,arrowX:Q,arrowY:q,shouldHideArrow:$,children:n.jsx(_r.div,{"data-side":Z,"data-align":Ae,...g,ref:C,style:{...g.style,animation:Y?void 0:"none"}})})})});A4.displayName=X1;var d4="PopperArrow",aR={top:"bottom",right:"left",bottom:"top",left:"right"},u4=b.forwardRef(function(r,t){const{__scopePopper:a,...s}=r,i=rR(d4,a),o=aR[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(ZQ,{...s,ref:t,style:{...s.style,display:"block"}})})});u4.displayName=d4;function nR(e){return e!==null}var sR=e=>({name:"transformOrigin",options:e,fn(r){var y,w,j;const{placement:t,rects:a,middlewareData:s}=r,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,A=o?0:e.arrowHeight,[d,f]=f4(t),h={start:"0%",center:"50%",end:"100%"}[f],m=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,p=(((j=s.arrow)==null?void 0:j.y)??0)+A/2;let v="",g="";return d==="bottom"?(v=o?h:`${m}px`,g=`${-A}px`):d==="top"?(v=o?h:`${m}px`,g=`${a.floating.height+A}px`):d==="right"?(v=`${-A}px`,g=o?h:`${p}px`):d==="left"&&(v=`${a.floating.width+A}px`,g=o?h:`${p}px`),{data:{x:v,y:g}}}});function f4(e){const[r,t="center"]=e.split("-");return[r,t]}var J1=o4,Z1=c4,eb=A4,tb=u4,h4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iR="VisuallyHidden",ix=b.forwardRef((e,r)=>n.jsx(_r.span,{...e,ref:r,style:{...h4,...e.style}}));ix.displayName=iR;var oR=ix,[ox,IZ]=Bl("Tooltip",[eh]),lx=eh(),m4="TooltipProvider",lR=700,py="tooltip.open",[cR,rb]=ox(m4),p4=e=>{const{__scopeTooltip:r,delayDuration:t=lR,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,o=b.useRef(!0),l=b.useRef(!1),A=b.useRef(0);return b.useEffect(()=>{const d=A.current;return()=>window.clearTimeout(d)},[]),n.jsx(cR,{scope:r,isOpenDelayedRef:o,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(A.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};p4.displayName=m4;var um="Tooltip",[AR,cx]=ox(um),g4=e=>{const{__scopeTooltip:r,children:t,open:a,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,A=rb(um,e.__scopeTooltip),d=lx(r),[f,h]=b.useState(null),m=oc(),p=b.useRef(0),v=o??A.disableHoverableContent,g=l??A.delayDuration,y=b.useRef(!1),[w,j]=ud({prop:a,defaultProp:s??!1,onChange:F=>{F?(A.onOpen(),document.dispatchEvent(new CustomEvent(py))):A.onClose(),i==null||i(F)},caller:um}),C=b.useMemo(()=>w?y.current?"delayed-open":"instant-open":"closed",[w]),E=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,j(!0)},[j]),U=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j(!1)},[j]),k=b.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,j(!0),p.current=0},g)},[g,j]);return b.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(J1,{...d,children:n.jsx(AR,{scope:r,contentId:m,open:w,stateAttribute:C,trigger:f,onTriggerChange:h,onTriggerEnter:b.useCallback(()=>{A.isOpenDelayedRef.current?k():E()},[A.isOpenDelayedRef,k,E]),onTriggerLeave:b.useCallback(()=>{v?U():(window.clearTimeout(p.current),p.current=0)},[U,v]),onOpen:E,onClose:U,disableHoverableContent:v,children:t})})};g4.displayName=um;var gy="TooltipTrigger",x4=b.forwardRef((e,r)=>{const{__scopeTooltip:t,...a}=e,s=cx(gy,t),i=rb(gy,t),o=lx(t),l=b.useRef(null),A=ba(r,l,s.onTriggerChange),d=b.useRef(!1),f=b.useRef(!1),h=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Z1,{asChild:!0,...o,children:n.jsx(_r.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:A,onPointerMove:kt(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:kt(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:kt(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:kt(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:kt(e.onBlur,s.onClose),onClick:kt(e.onClick,s.onClose)})})});x4.displayName=gy;var dR="TooltipPortal",[PZ,uR]=ox(dR,{forceMount:void 0}),Mf="TooltipContent",v4=b.forwardRef((e,r)=>{const t=uR(Mf,e.__scopeTooltip),{forceMount:a=t.forceMount,side:s="top",...i}=e,o=cx(Mf,e.__scopeTooltip);return n.jsx(mc,{present:a||o.open,children:o.disableHoverableContent?n.jsx(w4,{side:s,...i,ref:r}):n.jsx(fR,{side:s,...i,ref:r})})}),fR=b.forwardRef((e,r)=>{const t=cx(Mf,e.__scopeTooltip),a=rb(Mf,e.__scopeTooltip),s=b.useRef(null),i=ba(r,s),[o,l]=b.useState(null),{trigger:A,onClose:d}=t,f=s.current,{onPointerInTransitChange:h}=a,m=b.useCallback(()=>{l(null),h(!1)},[h]),p=b.useCallback((v,g)=>{const y=v.currentTarget,w={x:v.clientX,y:v.clientY},j=xR(w,y.getBoundingClientRect()),C=vR(w,j),E=wR(g.getBoundingClientRect()),U=bR([...C,...E]);l(U),h(!0)},[h]);return b.useEffect(()=>()=>m(),[m]),b.useEffect(()=>{if(A&&f){const v=y=>p(y,f),g=y=>p(y,A);return A.addEventListener("pointerleave",v),f.addEventListener("pointerleave",g),()=>{A.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",g)}}},[A,f,p,m]),b.useEffect(()=>{if(o){const v=g=>{const y=g.target,w={x:g.clientX,y:g.clientY},j=(A==null?void 0:A.contains(y))||(f==null?void 0:f.contains(y)),C=!yR(w,o);j?m():C&&(m(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[A,f,o,d,m]),n.jsx(w4,{...e,ref:i})}),[hR,mR]=ox(um,{isInside:!1}),pR=P6("TooltipContent"),w4=b.forwardRef((e,r)=>{const{__scopeTooltip:t,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,A=cx(Mf,t),d=lx(t),{onClose:f}=A;return b.useEffect(()=>(document.addEventListener(py,f),()=>document.removeEventListener(py,f)),[f]),b.useEffect(()=>{if(A.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(A.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[A.trigger,f]),n.jsx(Xf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:n.jsxs(eb,{"data-state":A.stateAttribute,...d,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(pR,{children:a}),n.jsx(hR,{scope:t,isInside:!0,children:n.jsx(oR,{id:A.contentId,role:"tooltip",children:s||a})})]})})});v4.displayName=Mf;var y4="TooltipArrow",gR=b.forwardRef((e,r)=>{const{__scopeTooltip:t,...a}=e,s=lx(t);return mR(y4,t).isInside?null:n.jsx(tb,{...s,...a,ref:r})});gR.displayName=y4;function xR(e,r){const t=Math.abs(r.top-e.y),a=Math.abs(r.bottom-e.y),s=Math.abs(r.right-e.x),i=Math.abs(r.left-e.x);switch(Math.min(t,a,s,i)){case i:return"left";case s:return"right";case t:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function vR(e,r,t=5){const a=[];switch(r){case"top":a.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":a.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":a.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":a.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return a}function wR(e){const{top:r,right:t,bottom:a,left:s}=e;return[{x:s,y:r},{x:t,y:r},{x:t,y:a},{x:s,y:a}]}function yR(e,r){const{x:t,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],A=r[o],d=l.x,f=l.y,h=A.x,m=A.y;f>a!=m>a&&t<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function bR(e){const r=e.slice();return r.sort((t,a)=>t.x<a.x?-1:t.x>a.x?1:t.y<a.y?-1:t.y>a.y?1:0),NR(r)}function NR(e){if(e.length<=1)return e.slice();const r=[];for(let a=0;a<e.length;a++){const s=e[a];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}r.pop();const t=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}var jR=p4,BR=g4,CR=x4,b4=v4;const n0=jR,Yh=BR,Xh=CR,Ef=b.forwardRef(({className:e,sideOffset:r=4,...t},a)=>n.jsx(b4,{ref:a,sideOffset:r,className:lt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Ef.displayName=b4.displayName;const SR="sidebar:state",_R=3600*24*7,ER="16rem",FR="18rem",kR="3rem",DR="b",N4=b.createContext(null);function Ax(){const e=b.useContext(N4);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const j4=b.forwardRef(({defaultOpen:e=!0,open:r,onOpenChange:t,className:a,style:s,children:i,...o},l)=>{const A=hI(),[d,f]=b.useState(!1),[h,m]=b.useState(e),p=r??h,v=b.useCallback(j=>{const C=typeof j=="function"?j(p):j;t?t(C):m(C),document.cookie=`${SR}=${C}; path=/; max-age=${_R}`},[t,p]),g=b.useCallback(()=>A?f(j=>!j):v(j=>!j),[A,v,f]);b.useEffect(()=>{const j=C=>{C.key===DR&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),g())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[g]);const y=p?"expanded":"collapsed",w=b.useMemo(()=>({state:y,open:p,setOpen:v,isMobile:A,openMobile:d,setOpenMobile:f,toggleSidebar:g}),[y,p,v,A,d,f,g]);return n.jsx(N4.Provider,{value:w,children:n.jsx(n0,{delayDuration:0,children:n.jsx("div",{style:{"--sidebar-width":ER,"--sidebar-width-icon":kR,...s},className:lt("group/sidebar-wrapper flex min-h-svh w-full bg-background",a),ref:l,...o,children:i})})})});j4.displayName="SidebarProvider";const B4=b.forwardRef(({side:e="left",variant:r="sidebar",collapsible:t="offcanvas",className:a,children:s,...i},o)=>{const{isMobile:l,state:A,openMobile:d,setOpenMobile:f}=Ax();return t==="none"?n.jsx("div",{className:lt("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a),ref:o,...i,children:s}):l?n.jsx(HP,{open:d,onOpenChange:f,...i,children:n.jsx(TS,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":FR},side:e,children:n.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):n.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":A,"data-collapsible":A==="collapsed"?t:"","data-variant":r,"data-side":e,children:[n.jsx("div",{className:lt("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),n.jsx("div",{className:lt("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...i,children:n.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});B4.displayName="Sidebar";const C4=b.forwardRef(({className:e,onClick:r,...t},a)=>{const{toggleSidebar:s}=Ax();return n.jsxs(ve,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:lt("h-7 w-7",e),onClick:i=>{r==null||r(i),s()},...t,children:[n.jsx(sI,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});C4.displayName="SidebarTrigger";const UR=b.forwardRef(({className:e,...r},t)=>{const{toggleSidebar:a}=Ax();return n.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:lt("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...r})});UR.displayName="SidebarRail";const S4=b.forwardRef(({className:e,...r},t)=>n.jsx("main",{ref:t,className:lt("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...r}));S4.displayName="SidebarInset";const LR=b.forwardRef(({className:e,...r},t)=>n.jsx(Te,{ref:t,"data-sidebar":"input",className:lt("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...r}));LR.displayName="SidebarInput";const _4=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"header",className:lt("flex flex-col gap-2 p-2",e),...r}));_4.displayName="SidebarHeader";const E4=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"footer",className:lt("flex flex-col gap-2 p-2",e),...r}));E4.displayName="SidebarFooter";const IR=b.forwardRef(({className:e,...r},t)=>n.jsx(hs,{ref:t,"data-sidebar":"separator",className:lt("mx-2 w-auto bg-sidebar-border",e),...r}));IR.displayName="SidebarSeparator";const F4=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"content",className:lt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...r}));F4.displayName="SidebarContent";const xy=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"group",className:lt("relative flex w-full min-w-0 flex-col p-2",e),...r}));xy.displayName="SidebarGroup";const vy=b.forwardRef(({className:e,asChild:r=!1,...t},a)=>{const s=r?Gf:"div";return n.jsx(s,{ref:a,"data-sidebar":"group-label",className:lt("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...t})});vy.displayName="SidebarGroupLabel";const PR=b.forwardRef(({className:e,asChild:r=!1,...t},a)=>{const s=r?Gf:"button";return n.jsx(s,{ref:a,"data-sidebar":"group-action",className:lt("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...t})});PR.displayName="SidebarGroupAction";const wy=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"group-content",className:lt("w-full text-sm",e),...r}));wy.displayName="SidebarGroupContent";const yy=b.forwardRef(({className:e,...r},t)=>n.jsx("ul",{ref:t,"data-sidebar":"menu",className:lt("flex w-full min-w-0 flex-col gap-1",e),...r}));yy.displayName="SidebarMenu";const by=b.forwardRef(({className:e,...r},t)=>n.jsx("li",{ref:t,"data-sidebar":"menu-item",className:lt("group/menu-item relative",e),...r}));by.displayName="SidebarMenuItem";const QR=V0("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ny=b.forwardRef(({asChild:e=!1,isActive:r=!1,variant:t="default",size:a="default",tooltip:s,className:i,...o},l)=>{const A=e?Gf:"button",{isMobile:d,state:f}=Ax(),h=n.jsx(A,{ref:l,"data-sidebar":"menu-button","data-size":a,"data-active":r,className:lt(QR({variant:t,size:a}),i),...o});return s?(typeof s=="string"&&(s={children:s}),n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:h}),n.jsx(Ef,{side:"right",align:"center",hidden:f!=="collapsed"||d,...s})]})):h});Ny.displayName="SidebarMenuButton";const RR=b.forwardRef(({className:e,asChild:r=!1,showOnHover:t=!1,...a},s)=>{const i=r?Gf:"button";return n.jsx(i,{ref:s,"data-sidebar":"menu-action",className:lt("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...a})});RR.displayName="SidebarMenuAction";const MR=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:lt("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...r}));MR.displayName="SidebarMenuBadge";const TR=b.forwardRef(({className:e,showIcon:r=!1,...t},a)=>{const s=b.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return n.jsxs("div",{ref:a,"data-sidebar":"menu-skeleton",className:lt("rounded-md h-8 flex gap-2 px-2 items-center",e),...t,children:[r&&n.jsx(Br,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),n.jsx(Br,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});TR.displayName="SidebarMenuSkeleton";const OR=b.forwardRef(({className:e,...r},t)=>n.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:lt("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...r}));OR.displayName="SidebarMenuSub";const HR=b.forwardRef(({...e},r)=>n.jsx("li",{ref:r,...e}));HR.displayName="SidebarMenuSubItem";const $R=b.forwardRef(({asChild:e=!1,size:r="md",isActive:t,className:a,...s},i)=>{const o=e?Gf:"a";return n.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":r,"data-active":t,className:lt("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",a),...s})});$R.displayName="SidebarMenuSubButton";const KR={theme:"system",setTheme:()=>null},k4=b.createContext(KR);function VR({children:e,defaultTheme:r="system",storageKey:t="vite-ui-theme",...a}){const[s,i]=b.useState(()=>(typeof window<"u"?localStorage.getItem(t):null)||r);b.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const A=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(A);return}l.classList.add(s)},[s]);const o={theme:s,setTheme:l=>{localStorage.setItem(t,l),i(l)}};return n.jsx(k4.Provider,{...a,value:o,children:e})}const D4=()=>{const e=b.useContext(k4);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function dx(e){const r=e+"CollectionProvider",[t,a]=Bl(r),[s,i]=t(r,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:w}=g,j=Ve.useRef(null),C=Ve.useRef(new Map).current;return n.jsx(s,{scope:y,itemMap:C,collectionRef:j,children:w})};o.displayName=r;const l=e+"CollectionSlot",A=mu(l),d=Ve.forwardRef((g,y)=>{const{scope:w,children:j}=g,C=i(l,w),E=ba(y,C.collectionRef);return n.jsx(A,{ref:E,children:j})});d.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=mu(f),p=Ve.forwardRef((g,y)=>{const{scope:w,children:j,...C}=g,E=Ve.useRef(null),U=ba(y,E),k=i(f,w);return Ve.useEffect(()=>(k.itemMap.set(E,{ref:E,...C}),()=>void k.itemMap.delete(E))),n.jsx(m,{[h]:"",ref:U,children:j})});p.displayName=f;function v(g){const y=i(e+"CollectionConsumer",g);return Ve.useCallback(()=>{const j=y.collectionRef.current;if(!j)return[];const C=Array.from(j.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((k,F)=>C.indexOf(k.ref.current)-C.indexOf(F.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},v,a]}var zR=b.createContext(void 0);function ab(e){const r=b.useContext(zR);return e||r||"ltr"}var Wv="rovingFocusGroup.onEntryFocus",qR={bubbles:!1,cancelable:!0},km="RovingFocusGroup",[jy,U4,WR]=dx(km),[GR,L4]=Bl(km,[WR]),[YR,XR]=GR(km),I4=b.forwardRef((e,r)=>n.jsx(jy.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(jy.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(JR,{...e,ref:r})})}));I4.displayName=km;var JR=b.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:A,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,m=b.useRef(null),p=ba(r,m),v=ab(i),[g,y]=ud({prop:o,defaultProp:l??null,onChange:A,caller:km}),[w,j]=b.useState(!1),C=Si(d),E=U4(t),U=b.useRef(!1),[k,F]=b.useState(0);return b.useEffect(()=>{const D=m.current;if(D)return D.addEventListener(Wv,C),()=>D.removeEventListener(Wv,C)},[C]),n.jsx(YR,{scope:t,orientation:a,dir:v,loop:s,currentTabStopId:g,onItemFocus:b.useCallback(D=>y(D),[y]),onItemShiftTab:b.useCallback(()=>j(!0),[]),onFocusableItemAdd:b.useCallback(()=>F(D=>D+1),[]),onFocusableItemRemove:b.useCallback(()=>F(D=>D-1),[]),children:n.jsx(_r.div,{tabIndex:w||k===0?-1:0,"data-orientation":a,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:kt(e.onMouseDown,()=>{U.current=!0}),onFocus:kt(e.onFocus,D=>{const _=!U.current;if(D.target===D.currentTarget&&_&&!w){const G=new CustomEvent(Wv,qR);if(D.currentTarget.dispatchEvent(G),!G.defaultPrevented){const L=E().filter(V=>V.focusable),T=L.find(V=>V.active),J=L.find(V=>V.id===g),re=[T,J,...L].filter(Boolean).map(V=>V.ref.current);R4(re,f)}}U.current=!1}),onBlur:kt(e.onBlur,()=>j(!1))})})}),P4="RovingFocusGroupItem",Q4=b.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,focusable:a=!0,active:s=!1,tabStopId:i,children:o,...l}=e,A=oc(),d=i||A,f=XR(P4,t),h=f.currentTabStopId===d,m=U4(t),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:g}=f;return b.useEffect(()=>{if(a)return p(),()=>v()},[a,p,v]),n.jsx(jy.ItemSlot,{scope:t,id:d,focusable:a,active:s,children:n.jsx(_r.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:r,onMouseDown:kt(e.onMouseDown,y=>{a?f.onItemFocus(d):y.preventDefault()}),onFocus:kt(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:kt(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=tM(y,f.orientation,f.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let C=m().filter(E=>E.focusable).map(E=>E.ref.current);if(w==="last")C.reverse();else if(w==="prev"||w==="next"){w==="prev"&&C.reverse();const E=C.indexOf(y.currentTarget);C=f.loop?rM(C,E+1):C.slice(E+1)}setTimeout(()=>R4(C))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});Q4.displayName=P4;var ZR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eM(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function tM(e,r,t){const a=eM(e.key,t);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return ZR[a]}function R4(e,r=!1){const t=document.activeElement;for(const a of e)if(a===t||(a.focus({preventScroll:r}),document.activeElement!==t))return}function rM(e,r){return e.map((t,a)=>e[(r+a)%e.length])}var aM=I4,nM=Q4,By=["Enter"," "],sM=["ArrowDown","PageUp","Home"],M4=["ArrowUp","PageDown","End"],iM=[...sM,...M4],oM={ltr:[...By,"ArrowRight"],rtl:[...By,"ArrowLeft"]},lM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dm="Menu",[fm,cM,AM]=dx(Dm),[Cu,T4]=Bl(Dm,[AM,eh,L4]),ux=eh(),O4=L4(),[dM,Su]=Cu(Dm),[uM,Um]=Cu(Dm),H4=e=>{const{__scopeMenu:r,open:t=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,l=ux(r),[A,d]=b.useState(null),f=b.useRef(!1),h=Si(i),m=ab(s);return b.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),n.jsx(J1,{...l,children:n.jsx(dM,{scope:r,open:t,onOpenChange:h,content:A,onContentChange:d,children:n.jsx(uM,{scope:r,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:o,children:a})})})};H4.displayName=Dm;var fM="MenuAnchor",nb=b.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e,s=ux(t);return n.jsx(Z1,{...s,...a,ref:r})});nb.displayName=fM;var sb="MenuPortal",[hM,$4]=Cu(sb,{forceMount:void 0}),K4=e=>{const{__scopeMenu:r,forceMount:t,children:a,container:s}=e,i=Su(sb,r);return n.jsx(hM,{scope:r,forceMount:t,children:n.jsx(mc,{present:t||i.open,children:n.jsx(Em,{asChild:!0,container:s,children:a})})})};K4.displayName=sb;var $o="MenuContent",[mM,ib]=Cu($o),V4=b.forwardRef((e,r)=>{const t=$4($o,e.__scopeMenu),{forceMount:a=t.forceMount,...s}=e,i=Su($o,e.__scopeMenu),o=Um($o,e.__scopeMenu);return n.jsx(fm.Provider,{scope:e.__scopeMenu,children:n.jsx(mc,{present:a||i.open,children:n.jsx(fm.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(pM,{...s,ref:r}):n.jsx(gM,{...s,ref:r})})})})}),pM=b.forwardRef((e,r)=>{const t=Su($o,e.__scopeMenu),a=b.useRef(null),s=ba(r,a);return b.useEffect(()=>{const i=a.current;if(i)return T1(i)},[]),n.jsx(ob,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:kt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),gM=b.forwardRef((e,r)=>{const t=Su($o,e.__scopeMenu);return n.jsx(ob,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),xM=mu("MenuContent.ScrollLock"),ob=b.forwardRef((e,r)=>{const{__scopeMenu:t,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:A,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:v,...g}=e,y=Su($o,t),w=Um($o,t),j=ux(t),C=O4(t),E=cM(t),[U,k]=b.useState(null),F=b.useRef(null),D=ba(r,F,y.onContentChange),_=b.useRef(0),G=b.useRef(""),L=b.useRef(0),T=b.useRef(null),J=b.useRef("right"),R=b.useRef(0),re=v?Y0:b.Fragment,V=v?{as:xM,allowPinchZoom:!0}:void 0,Y=Z=>{var K,z;const Ae=G.current+Z,ee=E().filter(se=>!se.disabled),Q=document.activeElement,q=(K=ee.find(se=>se.ref.current===Q))==null?void 0:K.textValue,$=ee.map(se=>se.textValue),X=FM($,Ae,q),te=(z=ee.find(se=>se.textValue===X))==null?void 0:z.ref.current;(function se(fe){G.current=fe,window.clearTimeout(_.current),fe!==""&&(_.current=window.setTimeout(()=>se(""),1e3))})(Ae),te&&setTimeout(()=>te.focus())};b.useEffect(()=>()=>window.clearTimeout(_.current),[]),M1();const H=b.useCallback(Z=>{var ee,Q;return J.current===((ee=T.current)==null?void 0:ee.side)&&DM(Z,(Q=T.current)==null?void 0:Q.area)},[]);return n.jsx(mM,{scope:t,searchRef:G,onItemEnter:b.useCallback(Z=>{H(Z)&&Z.preventDefault()},[H]),onItemLeave:b.useCallback(Z=>{var Ae;H(Z)||((Ae=F.current)==null||Ae.focus(),k(null))},[H]),onTriggerLeave:b.useCallback(Z=>{H(Z)&&Z.preventDefault()},[H]),pointerGraceTimerRef:L,onPointerGraceIntentChange:b.useCallback(Z=>{T.current=Z},[]),children:n.jsx(re,{...V,children:n.jsx(W0,{asChild:!0,trapped:s,onMountAutoFocus:kt(i,Z=>{var Ae;Z.preventDefault(),(Ae=F.current)==null||Ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Xf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:n.jsx(aM,{asChild:!0,...C,dir:w.dir,orientation:"vertical",loop:a,currentTabStopId:U,onCurrentTabStopIdChange:k,onEntryFocus:kt(A,Z=>{w.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(eb,{role:"menu","aria-orientation":"vertical","data-state":o_(y.open),"data-radix-menu-content":"",dir:w.dir,...j,...g,ref:D,style:{outline:"none",...g.style},onKeyDown:kt(g.onKeyDown,Z=>{const ee=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,Q=Z.ctrlKey||Z.altKey||Z.metaKey,q=Z.key.length===1;ee&&(Z.key==="Tab"&&Z.preventDefault(),!Q&&q&&Y(Z.key));const $=F.current;if(Z.target!==$||!iM.includes(Z.key))return;Z.preventDefault();const te=E().filter(K=>!K.disabled).map(K=>K.ref.current);M4.includes(Z.key)&&te.reverse(),_M(te)}),onBlur:kt(e.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(_.current),G.current="")}),onPointerMove:kt(e.onPointerMove,hm(Z=>{const Ae=Z.target,ee=R.current!==Z.clientX;if(Z.currentTarget.contains(Ae)&&ee){const Q=Z.clientX>R.current?"right":"left";J.current=Q,R.current=Z.clientX}}))})})})})})})});V4.displayName=$o;var vM="MenuGroup",lb=b.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(_r.div,{role:"group",...a,ref:r})});lb.displayName=vM;var wM="MenuLabel",z4=b.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(_r.div,{...a,ref:r})});z4.displayName=wM;var s0="MenuItem",tj="menu.itemSelect",fx=b.forwardRef((e,r)=>{const{disabled:t=!1,onSelect:a,...s}=e,i=b.useRef(null),o=Um(s0,e.__scopeMenu),l=ib(s0,e.__scopeMenu),A=ba(r,i),d=b.useRef(!1),f=()=>{const h=i.current;if(!t&&h){const m=new CustomEvent(tj,{bubbles:!0,cancelable:!0});h.addEventListener(tj,p=>a==null?void 0:a(p),{once:!0}),R1(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(q4,{...s,ref:A,disabled:t,onClick:kt(e.onClick,f),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:kt(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:kt(e.onKeyDown,h=>{const m=l.searchRef.current!=="";t||m&&h.key===" "||By.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});fx.displayName=s0;var q4=b.forwardRef((e,r)=>{const{__scopeMenu:t,disabled:a=!1,textValue:s,...i}=e,o=ib(s0,t),l=O4(t),A=b.useRef(null),d=ba(r,A),[f,h]=b.useState(!1),[m,p]=b.useState("");return b.useEffect(()=>{const v=A.current;v&&p((v.textContent??"").trim())},[i.children]),n.jsx(fm.ItemSlot,{scope:t,disabled:a,textValue:s??m,children:n.jsx(nM,{asChild:!0,...l,focusable:!a,children:n.jsx(_r.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:kt(e.onPointerMove,hm(v=>{a?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:kt(e.onPointerLeave,hm(v=>o.onItemLeave(v))),onFocus:kt(e.onFocus,()=>h(!0)),onBlur:kt(e.onBlur,()=>h(!1))})})})}),yM="MenuCheckboxItem",W4=b.forwardRef((e,r)=>{const{checked:t=!1,onCheckedChange:a,...s}=e;return n.jsx(Z4,{scope:e.__scopeMenu,checked:t,children:n.jsx(fx,{role:"menuitemcheckbox","aria-checked":i0(t)?"mixed":t,...s,ref:r,"data-state":Ab(t),onSelect:kt(s.onSelect,()=>a==null?void 0:a(i0(t)?!0:!t),{checkForDefaultPrevented:!1})})})});W4.displayName=yM;var G4="MenuRadioGroup",[bM,NM]=Cu(G4,{value:void 0,onValueChange:()=>{}}),Y4=b.forwardRef((e,r)=>{const{value:t,onValueChange:a,...s}=e,i=Si(a);return n.jsx(bM,{scope:e.__scopeMenu,value:t,onValueChange:i,children:n.jsx(lb,{...s,ref:r})})});Y4.displayName=G4;var X4="MenuRadioItem",J4=b.forwardRef((e,r)=>{const{value:t,...a}=e,s=NM(X4,e.__scopeMenu),i=t===s.value;return n.jsx(Z4,{scope:e.__scopeMenu,checked:i,children:n.jsx(fx,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":Ab(i),onSelect:kt(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,t)},{checkForDefaultPrevented:!1})})})});J4.displayName=X4;var cb="MenuItemIndicator",[Z4,jM]=Cu(cb,{checked:!1}),e_=b.forwardRef((e,r)=>{const{__scopeMenu:t,forceMount:a,...s}=e,i=jM(cb,t);return n.jsx(mc,{present:a||i0(i.checked)||i.checked===!0,children:n.jsx(_r.span,{...s,ref:r,"data-state":Ab(i.checked)})})});e_.displayName=cb;var BM="MenuSeparator",t_=b.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(_r.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});t_.displayName=BM;var CM="MenuArrow",r_=b.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e,s=ux(t);return n.jsx(tb,{...s,...a,ref:r})});r_.displayName=CM;var SM="MenuSub",[QZ,a_]=Cu(SM),Th="MenuSubTrigger",n_=b.forwardRef((e,r)=>{const t=Su(Th,e.__scopeMenu),a=Um(Th,e.__scopeMenu),s=a_(Th,e.__scopeMenu),i=ib(Th,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:A}=i,d={__scopeMenu:e.__scopeMenu},f=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>f,[f]),b.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),A(null)}},[l,A]),n.jsx(nb,{asChild:!0,...d,children:n.jsx(q4,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":o_(t.open),...e,ref:K0(r,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:kt(e.onPointerMove,hm(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!t.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:kt(e.onPointerLeave,hm(h=>{var p,v;f();const m=(p=t.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(v=t.content)==null?void 0:v.dataset.side,y=g==="right",w=y?-5:5,j=m[y?"left":"right"],C=m[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:j,y:m.top},{x:C,y:m.top},{x:C,y:m.bottom},{x:j,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:kt(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||oM[a.dir].includes(h.key)&&(t.onOpenChange(!0),(p=t.content)==null||p.focus(),h.preventDefault())})})})});n_.displayName=Th;var s_="MenuSubContent",i_=b.forwardRef((e,r)=>{const t=$4($o,e.__scopeMenu),{forceMount:a=t.forceMount,...s}=e,i=Su($o,e.__scopeMenu),o=Um($o,e.__scopeMenu),l=a_(s_,e.__scopeMenu),A=b.useRef(null),d=ba(r,A);return n.jsx(fm.Provider,{scope:e.__scopeMenu,children:n.jsx(mc,{present:a||i.open,children:n.jsx(fm.Slot,{scope:e.__scopeMenu,children:n.jsx(ob,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=A.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:kt(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:kt(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:kt(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),m=lM[o.dir].includes(f.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});i_.displayName=s_;function o_(e){return e?"open":"closed"}function i0(e){return e==="indeterminate"}function Ab(e){return i0(e)?"indeterminate":e?"checked":"unchecked"}function _M(e){const r=document.activeElement;for(const t of e)if(t===r||(t.focus(),document.activeElement!==r))return}function EM(e,r){return e.map((t,a)=>e[(r+a)%e.length])}function FM(e,r,t){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let o=EM(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const A=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return A!==t?A:void 0}function kM(e,r){const{x:t,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],A=r[o],d=l.x,f=l.y,h=A.x,m=A.y;f>a!=m>a&&t<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function DM(e,r){if(!r)return!1;const t={x:e.clientX,y:e.clientY};return kM(t,r)}function hm(e){return r=>r.pointerType==="mouse"?e(r):void 0}var UM=H4,LM=nb,IM=K4,PM=V4,QM=lb,RM=z4,MM=fx,TM=W4,OM=Y4,HM=J4,$M=e_,KM=t_,VM=r_,zM=n_,qM=i_,hx="DropdownMenu",[WM,RZ]=Bl(hx,[T4]),_i=T4(),[GM,l_]=WM(hx),c_=e=>{const{__scopeDropdownMenu:r,children:t,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,A=_i(r),d=b.useRef(null),[f,h]=ud({prop:s,defaultProp:i??!1,onChange:o,caller:hx});return n.jsx(GM,{scope:r,triggerId:oc(),triggerRef:d,contentId:oc(),open:f,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(m=>!m),[h]),modal:l,children:n.jsx(UM,{...A,open:f,onOpenChange:h,dir:a,modal:l,children:t})})};c_.displayName=hx;var A_="DropdownMenuTrigger",d_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,disabled:a=!1,...s}=e,i=l_(A_,t),o=_i(t);return n.jsx(LM,{asChild:!0,...o,children:n.jsx(_r.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:K0(r,i.triggerRef),onPointerDown:kt(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:kt(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});d_.displayName=A_;var YM="DropdownMenuPortal",u_=e=>{const{__scopeDropdownMenu:r,...t}=e,a=_i(r);return n.jsx(IM,{...a,...t})};u_.displayName=YM;var f_="DropdownMenuContent",h_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=l_(f_,t),i=_i(t),o=b.useRef(!1);return n.jsx(PM,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:r,onCloseAutoFocus:kt(e.onCloseAutoFocus,l=>{var A;o.current||(A=s.triggerRef.current)==null||A.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:kt(e.onInteractOutside,l=>{const A=l.detail.originalEvent,d=A.button===0&&A.ctrlKey===!0,f=A.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});h_.displayName=f_;var XM="DropdownMenuGroup",JM=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(QM,{...s,...a,ref:r})});JM.displayName=XM;var ZM="DropdownMenuLabel",m_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(RM,{...s,...a,ref:r})});m_.displayName=ZM;var eT="DropdownMenuItem",p_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(MM,{...s,...a,ref:r})});p_.displayName=eT;var tT="DropdownMenuCheckboxItem",g_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(TM,{...s,...a,ref:r})});g_.displayName=tT;var rT="DropdownMenuRadioGroup",aT=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(OM,{...s,...a,ref:r})});aT.displayName=rT;var nT="DropdownMenuRadioItem",x_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(HM,{...s,...a,ref:r})});x_.displayName=nT;var sT="DropdownMenuItemIndicator",v_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx($M,{...s,...a,ref:r})});v_.displayName=sT;var iT="DropdownMenuSeparator",w_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(KM,{...s,...a,ref:r})});w_.displayName=iT;var oT="DropdownMenuArrow",lT=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(VM,{...s,...a,ref:r})});lT.displayName=oT;var cT="DropdownMenuSubTrigger",y_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(zM,{...s,...a,ref:r})});y_.displayName=cT;var AT="DropdownMenuSubContent",b_=b.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=_i(t);return n.jsx(qM,{...s,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b_.displayName=AT;var dT=c_,uT=d_,fT=u_,N_=h_,j_=m_,B_=p_,C_=g_,S_=x_,__=v_,E_=w_,F_=y_,k_=b_;const D_=dT,U_=uT,hT=b.forwardRef(({className:e,inset:r,children:t,...a},s)=>n.jsxs(F_,{ref:s,className:lt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",e),...a,children:[t,n.jsx(xl,{className:"ml-auto h-4 w-4"})]}));hT.displayName=F_.displayName;const mT=b.forwardRef(({className:e,...r},t)=>n.jsx(k_,{ref:t,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));mT.displayName=k_.displayName;const db=b.forwardRef(({className:e,sideOffset:r=4,...t},a)=>n.jsx(fT,{children:n.jsx(N_,{ref:a,sideOffset:r,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));db.displayName=N_.displayName;const Zc=b.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(B_,{ref:a,className:lt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",e),...t}));Zc.displayName=B_.displayName;const pT=b.forwardRef(({className:e,children:r,checked:t,...a},s)=>n.jsxs(C_,{ref:s,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(__,{children:n.jsx(k1,{className:"h-4 w-4"})})}),r]}));pT.displayName=C_.displayName;const gT=b.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(S_,{ref:a,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(__,{children:n.jsx(K6,{className:"h-2 w-2 fill-current"})})}),r]}));gT.displayName=S_.displayName;const L_=b.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(j_,{ref:a,className:lt("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...t}));L_.displayName=j_.displayName;const Cy=b.forwardRef(({className:e,...r},t)=>n.jsx(E_,{ref:t,className:lt("-mx-1 my-1 h-px bg-muted",e),...r}));Cy.displayName=E_.displayName;function ub(){const{setTheme:e,theme:r}=D4();return n.jsxs(D_,{children:[n.jsx(U_,{asChild:!0,children:n.jsxs(ve,{variant:"secondary",size:"icon",className:"relative bg-white/80 text-slate-700 border border-black/10 shadow-sm backdrop-blur hover:bg-white/90 dark:bg-slate-900/60 dark:text-slate-100 dark:border-white/10 dark:hover:bg-slate-900/70","aria-label":"Alternar tema",children:[n.jsx(FN,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),n.jsx(_N,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),n.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),n.jsxs(db,{align:"end",sideOffset:8,children:[n.jsxs(Zc,{onClick:()=>e("light"),className:"cursor-pointer",children:[n.jsx(FN,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Claro"}),r==="light"&&n.jsx("span",{className:"ml-auto",children:""})]}),n.jsxs(Zc,{onClick:()=>e("dark"),className:"cursor-pointer",children:[n.jsx(_N,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Escuro"}),r==="dark"&&n.jsx("span",{className:"ml-auto",children:""})]}),n.jsxs(Zc,{onClick:()=>e("system"),className:"cursor-pointer",children:[n.jsx(nI,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Sistema"}),r==="system"&&n.jsx("span",{className:"ml-auto",children:""})]})]})]})}var Gv={exports:{}},Yv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rj;function xT(){if(rj)return Yv;rj=1;var e=Q0();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var t=typeof Object.is=="function"?Object.is:r,a=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,m){var p=m(),v=a({inst:{value:p,getSnapshot:m}}),g=v[0].inst,y=v[1];return i(function(){g.value=p,g.getSnapshot=m,A(g)&&y({inst:g})},[h,p,m]),s(function(){return A(g)&&y({inst:g}),h(function(){A(g)&&y({inst:g})})},[h]),o(p),p}function A(h){var m=h.getSnapshot;h=h.value;try{var p=m();return!t(h,p)}catch{return!0}}function d(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Yv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Yv}var aj;function vT(){return aj||(aj=1,Gv.exports=xT()),Gv.exports}var wT=vT();function yT(){return wT.useSyncExternalStore(bT,()=>!0,()=>!1)}function bT(){return()=>{}}var fb="Avatar",[NT,MZ]=Bl(fb),[jT,I_]=NT(fb),P_=b.forwardRef((e,r)=>{const{__scopeAvatar:t,...a}=e,[s,i]=b.useState("idle");return n.jsx(jT,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:n.jsx(_r.span,{...a,ref:r})})});P_.displayName=fb;var Q_="AvatarImage",R_=b.forwardRef((e,r)=>{const{__scopeAvatar:t,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=I_(Q_,t),l=BT(a,i),A=Si(d=>{s(d),o.onImageLoadingStatusChange(d)});return ps(()=>{l!=="idle"&&A(l)},[l,A]),l==="loaded"?n.jsx(_r.img,{...i,ref:r,src:a}):null});R_.displayName=Q_;var M_="AvatarFallback",T_=b.forwardRef((e,r)=>{const{__scopeAvatar:t,delayMs:a,...s}=e,i=I_(M_,t),[o,l]=b.useState(a===void 0);return b.useEffect(()=>{if(a!==void 0){const A=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(A)}},[a]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(_r.span,{...s,ref:r}):null});T_.displayName=M_;function nj(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function BT(e,{referrerPolicy:r,crossOrigin:t}){const a=yT(),s=b.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,l]=b.useState(()=>nj(i,e));return ps(()=>{l(nj(i,e))},[i,e]),ps(()=>{const A=h=>()=>{l(h)};if(!i)return;const d=A("loaded"),f=A("error");return i.addEventListener("load",d),i.addEventListener("error",f),r&&(i.referrerPolicy=r),typeof t=="string"&&(i.crossOrigin=t),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,t,r]),o}var O_=P_,H_=R_,$_=T_;const Lm=b.forwardRef(({className:e,...r},t)=>n.jsx(O_,{ref:t,className:lt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));Lm.displayName=O_.displayName;const mx=b.forwardRef(({className:e,...r},t)=>n.jsx(H_,{ref:t,className:lt("aspect-square h-full w-full",e),...r}));mx.displayName=H_.displayName;const Im=b.forwardRef(({className:e,...r},t)=>n.jsx($_,{ref:t,className:lt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Im.displayName=$_.displayName;const K_=b.forwardRef(({...e},r)=>n.jsx("nav",{ref:r,"aria-label":"breadcrumb",...e}));K_.displayName="Breadcrumb";const V_=b.forwardRef(({className:e,...r},t)=>n.jsx("ol",{ref:t,className:lt("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...r}));V_.displayName="BreadcrumbList";const z_=b.forwardRef(({className:e,...r},t)=>n.jsx("li",{ref:t,className:lt("inline-flex items-center gap-1.5",e),...r}));z_.displayName="BreadcrumbItem";const q_=b.forwardRef(({asChild:e,className:r,...t},a)=>{const s=e?Gf:"a";return n.jsx(s,{ref:a,className:lt("hover:text-foreground transition-colors focus-visible:outline-none focus-visible:underline",r),...t})});q_.displayName="BreadcrumbLink";const W_=b.forwardRef(({className:e,...r},t)=>n.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:lt("text-foreground font-medium",e),...r}));W_.displayName="BreadcrumbPage";const G_=({children:e,className:r,...t})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:lt("[&>svg]:size-3.5",r),...t,children:e||n.jsx(xl,{className:"h-4 w-4"})});G_.displayName="BreadcrumbSeparator";function Pm({children:e,sidebar:r,breadcrumbs:t=[]}){var d;const{activeRole:a}=cc(),{user:s}=qo(),{userData:i}=cc(),o=Kn(),l=(i==null?void 0:i.nome)||(s==null?void 0:s.nome)||"Usurio",A=()=>{const f=(()=>{const h=(a||(s==null?void 0:s.role)||(s==null?void 0:s.tipo)||"").toLowerCase();return h==="medico"?"/medico/dashboard":h==="paciente"?"/paciente/perfil":h==="clinica"?"/clinica/dashboard":h==="secretaria"?"/secretaria/dashboard":h==="admin"?"/admin/dashboard":"/inicio"})();try{window.history.length>1?o(-1):o(f,{replace:!0})}catch{o(f,{replace:!0})}};return n.jsxs(j4,{children:[n.jsx(r,{}),n.jsxs(S4,{children:[n.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl",children:n.jsxs("div",{className:"flex h-16 items-center gap-4 px-6",children:[n.jsx(ve,{variant:"ghost",size:"sm",onClick:A,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:n.jsx(ic,{className:"size-4"})}),n.jsx(C4,{className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100"}),n.jsx(hs,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),t.length>0&&n.jsx(K_,{className:"flex-1",children:n.jsx(V_,{children:t.map((f,h)=>n.jsxs("div",{className:"flex items-center",children:[h>0&&n.jsx(G_,{className:"text-slate-400"}),n.jsx(z_,{children:f.href?n.jsx(q_,{href:f.href,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100 font-medium",children:f.label}):n.jsx(W_,{className:"text-slate-900 dark:text-slate-100 font-semibold",children:f.label})})]},h))})}),n.jsxs("div",{className:"relative hidden md:flex items-center max-w-sm",children:[n.jsx(Ns,{className:"absolute left-3 size-4 text-slate-400"}),n.jsx(Te,{placeholder:"Buscar...",className:"pl-10 input-medical-primary bg-slate-100 dark:bg-slate-800"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>{try{const f=(a||(s==null?void 0:s.role)||(s==null?void 0:s.tipo)||"").toLowerCase();o("/paciente/receitas")}catch{o("/paciente/receitas")}},className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:n.jsx(lm,{className:"size-4"})}),n.jsx(ub,{}),n.jsx(hs,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Lm,{className:"size-8",children:[n.jsx(mx,{src:""}),n.jsx(Im,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white text-sm font-semibold",children:(d=l==null?void 0:l.charAt(0))==null?void 0:d.toUpperCase()})]}),n.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 hidden sm:block",children:l})]})]})]})}),n.jsx("main",{className:"flex-1 p-6 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 min-h-[calc(100vh-4rem)]",children:n.jsx("div",{className:"mx-auto max-w-7xl",children:e})})]})]})}function lr({className:e,variant:r="default",size:t="default",...a}){const s={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground",success:"bg-success text-success-foreground hover:bg-success/80 border-success/20",warning:"bg-warning text-warning-foreground hover:bg-warning/80 border-warning/20",info:"bg-info text-info-foreground hover:bg-info/80 border-info/20",normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent","priority-low":"bg-medical-gray/10 text-medical-gray border-medical-gray/20 hover:bg-medical-gray/20","priority-medium":"bg-medical-orange/10 text-medical-orange border-medical-orange/20 hover:bg-medical-orange/20","priority-high":"bg-medical-red/10 text-medical-red border-medical-red/20 hover:bg-medical-red/20","medical-primary":"bg-medical-primary/10 text-medical-primary border-medical-primary/20 hover:bg-medical-primary/20","medical-secondary":"bg-medical-secondary/10 text-medical-secondary border-medical-secondary/20 hover:bg-medical-secondary/20","medical-accent":"bg-medical-accent/10 text-medical-accent border-medical-accent/20 hover:bg-medical-accent/20"},i={sm:"px-2 py-0.5 text-xs",default:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"};return n.jsx("div",{className:lt("inline-flex items-center rounded-full border font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","active:scale-95",s[r],i[t],e),...a})}function Y_({status:e,className:r,...t}){const a={active:{variant:"success",text:"Ativo"},inactive:{variant:"secondary",text:"Inativo"},pending:{variant:"warning",text:"Pendente"},critical:{variant:"critical",text:"Crtico"},urgent:{variant:"urgent",text:"Urgente"}},s=a[e]||a.active;return n.jsx(lr,{variant:s.variant,className:lt("font-medium",r),...t,children:s.text})}function CT({priority:e,className:r,...t}){const a={low:{variant:"priority-low",text:"Baixa"},medium:{variant:"priority-medium",text:"Mdia"},high:{variant:"priority-high",text:"Alta"}},s=a[e]||a.low;return n.jsx(lr,{variant:s.variant,className:lt("font-medium",r),...t,children:s.text})}const sj={paciente:{header:{title:"Trathea",subtitle:"Paciente",icon:Hn},sections:[{label:"Menu Principal",items:[{label:"Perfil",path:"/paciente/perfil",icon:Hn},{label:"Pronturio",path:"/paciente/prontuario",icon:hn},{label:"Consultas",path:"/paciente/consultas",icon:wr},{label:"Exames",path:"/paciente/exames",icon:rA},{label:"Receitas",path:"/paciente/receitas",icon:rA},{label:"Histrico Mdico",path:"/paciente/historico-medico",icon:U1},{label:"Mdicos Vinculados",path:"/paciente/medicos",icon:As}]}]},medico:{header:{title:"Trathea",subtitle:"Mdico",icon:ea},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/medico/dashboard",icon:Pv},{label:"Consultas de Hoje",path:"/medico/consultas/hoje",icon:wr},{label:"Meus Pacientes",path:"/medico/meus-pacientes",icon:As},{label:"Solicitaes",path:"/medico/solicitacoes",icon:Qv}]}]},clinica:{header:{title:"",subtitle:"",icon:q0},sections:[{label:"",items:[]}]},secretaria:{header:{title:"Trathea",subtitle:"Secretaria",icon:As},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/secretaria/dashboard",icon:Pv},{label:"Consultas",path:"/secretaria/consultas",icon:wr},{label:"Pacientes",path:"/secretaria/pacientes",icon:As},{label:"Mdicos",path:"/secretaria/medicos",icon:ea},{label:"Solicitaes",path:"/secretaria/solicitacoes",icon:Qv}]}]},admin:{header:{title:"Trathea",subtitle:"Admin",icon:Hs},sections:[{label:"Painel",items:[{label:"Dashboard",path:"/admin/dashboard",icon:Pv},{label:"Relatrios",path:"/admin/relatorios",icon:z0},{label:"Auditoria",path:"/admin/auditoria",icon:Hs}]},{label:"Gerenciar",items:[{label:"Solicitaes",path:"/admin/solicitacoes",icon:Qv},{label:"Usurios",path:"/admin/usuarios",icon:As}]},{label:"Telas",items:[{label:"Paciente",path:"/paciente/perfil",icon:Hn},{label:"Mdico",path:"/medico/dashboard",icon:ea},{label:"Secretaria",path:"/secretaria/dashboard",icon:As},{label:"Admin",path:"/admin/dashboard",icon:Hs}]}]}},ST="modulepreload",_T=function(e){return"/"+e},ij={},ui=function(r,t,a){let s=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),A=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(t.map(d=>{if(d=_T(d),d in ij)return;ij[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":ST,f||(m.as="script"),m.crossOrigin="",m.href=d,A&&m.setAttribute("nonce",A),document.head.appendChild(m),f)return new Promise((p,v)=>{m.addEventListener("load",p),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},ET="1.0.0",ha={async getPerfil(){var e,r;try{const t="/api/users/",a=Rr.getCurrentUser();if(!(a!=null&&a.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const s=t.endsWith("/")?t:`${t}/`;console.log("[DEBUG] Buscando perfil do usurio via:",`${s}${a.id}/`);const i=await we.get(`${s}${a.id}/`);return console.log("[DEBUG] Perfil do usurio carregado:",i.data),i.data}catch(t){console.error("[DEBUG] Erro ao buscar perfil do usurio:",(e=t==null?void 0:t.response)==null?void 0:e.status,(r=t==null?void 0:t.response)==null?void 0:r.data);const a=Rr.getCurrentUser();if(a)return console.log("[DEBUG] Usando dados do usurio do storage como fallback:",a),a;throw t}},async atualizarPerfil(e){var r,t;try{const a="/api/users/",s=Rr.getCurrentUser();if(!(s!=null&&s.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const i=a.endsWith("/")?a:`${a}/`,o={...e};o.first_name===void 0&&o.nome&&(o.first_name=String(o.nome).split(" ")[0]||""),o.last_name===void 0&&o.nome&&(o.last_name=String(o.nome).split(" ").slice(1).join(" ")||""),o.telefone===void 0&&o.phone&&(o.telefone=o.phone),o.endereco===void 0&&o.address&&(o.endereco=o.address),delete o.nome,delete o.phone,delete o.address,Object.keys(o).forEach(d=>{o[d]===void 0&&delete o[d]});const l=[`${i}${s.id}/`,`${i}me/`,"/users/me/","/auth/user/","/api/auth/users/me/","/api/users/me/"];let A=null;for(const d of l)try{return(await we.patch(d,o)).data}catch(f){A=f;continue}throw A||new Error("Falha ao atualizar perfil do usurio.")}catch(a){throw console.error("[DEBUG] Erro ao atualizar perfil do usurio:",(r=a==null?void 0:a.response)==null?void 0:r.status,(t=a==null?void 0:a.response)==null?void 0:t.data),a}},async getConsultas(e={}){var r,t;try{const a="/api/consultas/";console.log("[DEBUG] Endpoint de consultas:",a);const s=await this.getPacienteDoUsuario();console.log("[DEBUG] Paciente encontrado:",s);const i={...e};if(s!=null&&s.id&&!i.paciente&&(i.paciente=s.id),console.log("[DEBUG] Query params:",i),!(s!=null&&s.id)&&Object.keys(i).length===0)return console.log("[DEBUG] Sem paciente e sem filtros, retornando array vazio"),{results:[]};console.log("[DEBUG] Fazendo requisio para:",a,"com params:",i);const o=await we.get(a,{params:i});return console.log("[DEBUG] Resposta da API recebida:",o.data),o.data}catch(a){return console.warn("[pacienteService] getConsultas falhou:",(r=a==null?void 0:a.response)==null?void 0:r.status,(t=a==null?void 0:a.response)==null?void 0:t.data),console.error("[DEBUG] Erro completo:",a),{results:[]}}},async getExames(e={}){var r;try{const t="/api/exames/",a=await this.getPacienteDoUsuario().catch(()=>null),s={...e};return a!=null&&a.id&&!s.paciente&&(s.paciente=a.id),!(a!=null&&a.id)&&Object.keys(s).length===0?{results:[]}:(await we.get(t,{params:s})).data}catch(t){return console.warn("[pacienteService] getExames falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),{results:[]}}},async getProntuario(e={}){var r;try{const t="/prontuarios/",a=await this.getPacienteDoUsuario().catch(()=>null),s={...e};return a!=null&&a.id&&!s.paciente&&(s.paciente=a.id),!(a!=null&&a.id)&&Object.keys(s).length===0?{results:[]}:(await we.get(t,{params:s})).data}catch(t){return console.warn("[pacienteService] getProntuario falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),{results:[]}}},async getMedicos(e={}){return(await we.get("/api/medicos/",{params:e})).data},async getMedicoById(e){const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;return(await we.get(`${t}${e}/`)).data},async agendarConsulta({medico:e,data:r,hora:t,modalidade:a,local:s,observacoes:i,tipo:o,motivo:l}){var j,C;const A="/agendamentos/".replace(/\/?$/,"/"),d="/api/consultas/".replace(/\/?$/,"/"),f=await this.getPacienteDoUsuario(),h=r?`${r}${t?`T${t}:00`:"T00:00:00"}`:void 0,p=(E=>{const U=String(E||"").toLowerCase().trim();return{"primeira consulta":"inicial",primeira:"inicial","consulta inicial":"inicial",inicial:"inicial",retorno:"retorno","follow-up":"retorno",rotina:"rotina",checkup:"rotina"}[U]||U||void 0})(o),v={medico:e,medico_id:e,paciente:f==null?void 0:f.id,data:r,hora:t,data_hora:h,inicio:h,horario:t,modalidade:a,local:s,observacoes:i,tipo:p,motivo:l},g={};Object.entries(v).forEach(([E,U])=>{U!=null&&(typeof U=="string"&&U.trim()===""||(g[E]=U))});const y=[A,d];let w=null;for(const E of y)try{const U=E.endsWith("/")?E:`${E}/`,k=await we.post(U,{...g,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE",situacao:"PENDENTE",state:"PENDENTE"});try{const{secretariaService:F}=await ui(async()=>{const{secretariaService:D}=await Promise.resolve().then(()=>sm);return{secretariaService:D}},void 0);await F.registrarSolicitacao({medico:g.medico||g.medico_id,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,data:g.data,hora:g.hora,modalidade:g.modalidade,tipo:g.tipo,motivo:g.motivo,observacoes:g.observacoes,status:"pendente"})}catch{}return k.data}catch(U){w=U}try{const E=(j=w==null?void 0:w.response)==null?void 0:j.status,U=(C=w==null?void 0:w.response)==null?void 0:C.data,k=U&&(U.tipo||typeof(U==null?void 0:U.detail)=="string"&&U.detail.toLowerCase().includes("tipo"));if(E&&[400,422].includes(E)&&k){for(const F of y)try{const D=F.endsWith("/")?F:`${F}/`,_=await we.post(D,{...g,tipo:"rotina",paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE",situacao:"PENDENTE",state:"PENDENTE"});try{const{secretariaService:G}=await ui(async()=>{const{secretariaService:L}=await Promise.resolve().then(()=>sm);return{secretariaService:L}},void 0);await G.registrarSolicitacao({...g,tipo:"rotina",paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE"})}catch{}return _.data}catch{}for(const F of y)try{const D=F.endsWith("/")?F:`${F}/`,{tipo:_,...G}=g,L=await we.post(D,{...G,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE",situacao:"PENDENTE",state:"PENDENTE"});try{const{secretariaService:T}=await ui(async()=>{const{secretariaService:J}=await Promise.resolve().then(()=>sm);return{secretariaService:J}},void 0);await T.registrarSolicitacao({...G,paciente:f==null?void 0:f.id,paciente_id:f==null?void 0:f.id,status:"PENDENTE"})}catch{}return L.data}catch{}}throw w}catch(E){throw E}},async getAgendaMedico({medico:e,date:r,apenas_disponiveis:t=!0}){const a="/api/medicos/",s=a.endsWith("/")?a:`${a}/`,i={};r&&(i.date=r),t&&(i.apenas_disponiveis=!0);const o=await we.get(`${s}${e}/agenda/`,{params:i}),l=(o==null?void 0:o.data)||[];return Array.isArray(l)?l:Array.isArray(l==null?void 0:l.results)?l.results:[]},async getPacienteDoUsuario(){var a,s;const e="/api/pacientes/me/";{const i=e.endsWith("/")?e:`${e}/`;try{return(await we.get(i)).data}catch(o){if(((a=o==null?void 0:o.response)==null?void 0:a.status)===401)throw o}}const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`;try{const i=Rr.getCurrentUser(),o=(i==null?void 0:i.id)||(i==null?void 0:i.user_id);if(o){const l=await we.get(t,{params:{user:o,user_id:o}}),A=Array.isArray(l==null?void 0:l.data)?l.data:Array.isArray((s=l==null?void 0:l.data)==null?void 0:s.results)?l.data.results:[],d=(A==null?void 0:A[0])||null;if(d)return d}}catch{}try{return(await we.get(`${t}me/`)).data}catch{}throw new Error("Paciente no encontrado para o usurio atual.")},async atualizarPaciente(e){var s,i;const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`,a={};if(e==null||typeof e!="object")throw new Error("Dados invlidos para atualizao do paciente");if("nome"in e&&(a.nome=String(e.nome||"").trim()),"first_name"in e&&(a.first_name=String(e.first_name||"").trim()),"last_name"in e&&(a.last_name=String(e.last_name||"").trim()),"telefone"in e&&(a.telefone=((i=(s=e.telefone)==null?void 0:s.trim)==null?void 0:i.call(s))||""),"data_nascimento"in e&&(a.data_nascimento=e.data_nascimento),"tipo_sanguineo"in e&&(a.tipo_sanguineo=String(e.tipo_sanguineo||"").trim()),"alergias"in e&&(a.alergias=String(e.alergias||"").trim()),"condicoes_cronicas"in e&&(a.condicoes_cronicas=String(e.condicoes_cronicas||"").trim()),"contato_emergencia_nome"in e&&(a.contato_emergencia_nome=String(e.contato_emergencia_nome||"").trim()),"contato_emergencia_telefone"in e&&(a.contato_emergencia_telefone=String(e.contato_emergencia_telefone||"").trim()),"plano_saude"in e&&(a.plano_saude=String(e.plano_saude||"").trim()),"numero_carteirinha"in e&&(a.numero_carteirinha=String(e.numero_carteirinha||"").trim()),"peso"in e){const o=e.peso;a.peso=typeof o=="number"?o:String(o||"").trim()?Number(String(o).replace(",",".")):null}if("altura"in e){const o=e.altura;a.altura=typeof o=="number"?o:String(o||"").trim()?Number(String(o).replace(",",".")):null}Object.keys(a).forEach(o=>{a[o]===void 0&&delete a[o]});try{return(await we.patch(`${t}me/`,a)).data}catch{const l=await this.getPacienteDoUsuario();if(!(l!=null&&l.id))throw new Error("Paciente no identificado para atualizao.");const A=[`${t}${l.id}/`,`${t}${l.id}/atualizar/`,`${t}${l.id}/update/`];let d=null;for(const f of A)try{return(await we.patch(f,a)).data}catch(h){d=h;continue}throw d||new Error("Falha ao atualizar dados do paciente.")}},async getReceitas(e={}){var l;const r="/api/receitas/".trim(),t=r.endsWith("/")?r:`${r}/`,{__propagateErrors:a,...s}=e||{},i={...s};let o=null;try{const A=await this.getPacienteDoUsuario().catch(()=>null);if(A!=null&&A.id){o=A.id;const d=A.id;i.paciente=d,i.paciente_id=d,i.consulta__paciente=d}}catch{}try{if(o){const w="/api/pacientes/",j=w.endsWith("/")?w:`${w}/`;try{const C=await we.get(`${j}${o}/receitas/`),E=C==null?void 0:C.data;let U=Array.isArray(E)?E:Array.isArray(E==null?void 0:E.results)?E.results:[];if(U.length)return{results:U}}catch{}}const A=[t];!t.startsWith("/api/")&&t.startsWith("/")&&A.push(`/api${t}`),A.includes("/receitas/")||A.push("/receitas/");let d=null,f=null;for(const w of A)try{const j=await we.get(w,{params:i});d=j==null?void 0:j.data;break}catch(j){f=j;continue}if(!d&&f)throw f;let h=Array.isArray(d)?d:Array.isArray(d==null?void 0:d.results)?d.results:[];if(o&&Array.isArray(h)&&h.length){try{console.debug(`[${ET}] Filtrando receitas por paciente`,o)}catch{}h=h.filter(w=>{var E,U,k,F;const j=((E=w==null?void 0:w.paciente)==null?void 0:E.id)||(w==null?void 0:w.paciente),C=((k=(U=w==null?void 0:w.consulta)==null?void 0:U.paciente)==null?void 0:k.id)||((F=w==null?void 0:w.consulta)==null?void 0:F.paciente);return String(j||C||"")===String(o)})}const m="/api/receitaitem/".trim();if(m&&h.length>0){const w=m.endsWith("/")?m:`${m}/`;for(let j of h)try{const C=await we.get(w,{params:{receita:j.id}}),E=C==null?void 0:C.data,U=Array.isArray(E)?E:Array.isArray(E==null?void 0:E.results)?E.results:[];j.itens=U}catch(C){console.warn(`Erro ao carregar itens da receita ${j.id}:`,C),j.itens=[]}}const p=new Map;[...h].forEach(w=>{if(!w)return;const j=w.id??`${w.created_at}-${w.medicamentos}`;p.has(j)||p.set(j,w)});const v=Array.from(p.values()),g=w=>{if(!w||/^https?:\/\//i.test(w)||/^(data|blob):/i.test(w))return w;const C=((()=>{var U;try{return window.__API_BASE_URL||((U=window.localStorage)==null?void 0:U.getItem("api_url"))||null}catch{return null}})()||"https://tcc-back-ktwy.onrender.com").replace(/\/$/,""),E=w.startsWith("/")?w:`/${w}`;return`${C}${E}`};return{results:v.map(w=>{var C;const j=w.arquivo_assinado||w.arquivoAssinado||((C=w==null?void 0:w.arquivo)==null?void 0:C.url)||(w==null?void 0:w.pdf_url)||(w==null?void 0:w.download_url);return j&&!w.arquivo_assinado?{...w,arquivo_assinado:g(j)}:w.arquivo_assinado?{...w,arquivo_assinado:g(w.arquivo_assinado)}:w})}}catch(A){const d=(l=A==null?void 0:A.response)==null?void 0:l.status;if(a===!0&&d&&![404,405,500].includes(d))throw A;return{results:[]}}},async getMedicosVinculados(){const e="/api/pacientes/",r=e.endsWith("/")?e:`${e}/`,t=await this.getPacienteDoUsuario();if(!(t!=null&&t.id))return[];const a=await we.get(`${r}${t.id}/medicos/`);return Array.isArray(a.data)?a.data:[]},async solicitarReceita({medico:e,mensagem:r,receita:t}){const a="/api/pacientes/",s=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente no identificado.");const o={medico:e,...r?{mensagem:r}:{},...t?{receita:t,receita_id:t}:{}};return(await we.post(`${s}${i.id}/solicitar_receita/`,o)).data},async solicitarRenovacao({medico:e,mensagem:r,receita:t}){var d;const a="/api/pacientes/",s=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente no identificado.");const o={medico:e,tipo:"renovacao",...r?{mensagem:r}:{},...t?{receita:t,receita_id:t}:{}},l=[`${s}${i.id}/solicitar_renovacao/`,`${s}${i.id}/solicitacoes/renovacao/`,`${s}${i.id}/renovar_receita/`,`${s}${i.id}/solicitacao/receita/renovacao/`];let A;for(const f of l)try{return(await we.post(f,o)).data}catch(h){A=h;const m=(d=h==null?void 0:h.response)==null?void 0:d.status;if(m&&![404,405].includes(m))break}throw A||new Error("No foi possvel enviar a solicitao de renovao.")},async getDashboard(){var e;try{const r=new Date,t=j=>Array.isArray(j==null?void 0:j.results)?j.results:Array.isArray(j)?j:[],[a,s,i,o]=await Promise.all([this.getConsultas().catch(()=>({results:[]})),this.getExames().catch(()=>({results:[]})),this.getReceitas().catch(()=>({results:[]})),this.getMedicosVinculados().catch(()=>[])]),l=t(a),A=t(s),d=t(i),f=j=>{const C=new Date(j),E=C.getMonth(),U=C.getFullYear();return E===r.getMonth()&&U===r.getFullYear()},h=l.map(j=>{var C,E;return{id:j.id||j.consulta_id,data_hora:j.data_hora||j.horario||j.inicio||j.data||j.start_time||null,status:j.status||"Agendada",tipo:j.tipo||j.modalidade||"Consulta",especialidade:j.especialidade||j.medico_especialidade||null,medico_nome:j.medico_nome||((C=j==null?void 0:j.medico)==null?void 0:C.nome)||((E=j==null?void 0:j.medico)!=null&&E.user?[j.medico.user.first_name,j.medico.user.last_name].filter(Boolean).join(" ").trim():void 0)}}),m=h.filter(j=>j.data_hora&&new Date(j.data_hora)>=r).sort((j,C)=>new Date(j.data_hora)-new Date(C.data_hora)).slice(0,5),p=h.filter(j=>j.data_hora&&f(j.data_hora)).length,v=A.map(j=>({id:j.id,tipo:j.tipo||j.nome||j.categoria||"Exame",status:j.status||j.situacao||"Pendente",data_agendamento:j.data_agendamento||j.agendamento||j.data||null,medico_solicitante:j.medico_solicitante||j.medico||void 0})),g=v.filter(j=>j.data_agendamento&&new Date(j.data_agendamento)>=r).sort((j,C)=>new Date(j.data_agendamento)-new Date(C.data_agendamento)).slice(0,5),y=v.filter(j=>f(j.data_agendamento)&&["realizado","concluido","concludo","finalizado"].includes(String(j.status).toLowerCase())).length,w=t(d).filter(j=>["ativa","valida","vlida"].includes(String(j.status||j.situacao||"").toLowerCase())).length;return{consultasMes:p,consultasProximas:m.length,examesPendentes:v.filter(j=>String(j.status).toLowerCase()==="pendente").length,examesRealizadosMes:y,receitasAtivas:w,medicosVinculados:Array.isArray(o)?o.length:0,proximasConsultas:m,proximosExames:g}}catch(r){return console.warn("[pacienteService] getDashboard fallback falhou:",(e=r==null?void 0:r.response)==null?void 0:e.status),null}},async garantirPacienteDoUsuario(e={}){var s,i;try{const o=await this.getPacienteDoUsuario();if(o!=null&&o.id)return o}catch{}const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`,a={...e};Object.keys(a).forEach(o=>{a[o]===void 0&&delete a[o]});try{return(await we.post(`${t}me/`,a)).data}catch(o){console.debug("[pacienteService] POST /pacientes/me/ falhou:",(s=o==null?void 0:o.response)==null?void 0:s.status)}try{const o=await we.post(t,a);if(o!=null&&o.data)return o.data}catch(o){console.debug("[pacienteService] POST /pacientes/ falhou:",(i=o==null?void 0:o.response)==null?void 0:i.status)}try{const o=await this.getPacienteDoUsuario();if(o!=null&&o.id)return o}catch{}throw new Error("No foi possvel criar o perfil de paciente para o usurio atual.")}},hb="/assets/logoTrathea-DJjsJI48.jpg";function Qm({role:e="paciente"}){var _,G;const r=ns(),t=Kn(),{user:a,logout:s}=qo(),{logout:i}=cc(),o=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.tipo)==="admin",l=sj[e]||sj.paciente,[A,d]=b.useState(""),[f,h]=b.useState(3),[m,p]=b.useState(!1),[v,g]=b.useState(null),[y,w]=b.useState(e==="paciente");b.useEffect(()=>{let L=!0;if(e!=="paciente"){g(null),w(!1);return}return(async()=>{try{const T=await ha.getPacienteDoUsuario();L&&g(T||null)}catch{L&&g(null)}finally{L&&w(!1)}})(),()=>{L=!1}},[e]);const j=[{title:"Paciente",path:"/paciente/perfil",icon:Hn},{title:"Mdico",path:"/medico/dashboard",icon:ea},{title:"Secretaria",path:"/secretaria/dashboard",icon:fI},{title:"Admin",path:"/admin/dashboard",icon:Hs}],C=async()=>{try{await s(),await i(),t("/login")}catch(L){console.error("Erro ao fazer logout:",L)}},E=b.useMemo(()=>y?"Carregando...":e==="paciente"&&v?v.nome||"Paciente":(a==null?void 0:a.nome)||(a==null?void 0:a.name)||"Usurio",[a,v,y,e]),U=b.useMemo(()=>y?"...":e==="paciente"&&v?v.cpf?`CPF: ${v.cpf}`:"Paciente":(a==null?void 0:a.email)||l.header.subtitle,[a,v,y,e,l]),k=b.useMemo(()=>e==="paciente"&&(v!=null&&v.foto)?v.foto:(a==null?void 0:a.avatar)||(a==null?void 0:a.foto)||null,[a,v,e]),F=l.header.icon,D=hb;return n.jsxs(B4,{className:"medical-sidebar group border-r border-medical-border/20 bg-gradient-to-b from-medical-background to-medical-background/95 backdrop-blur-xl",children:[n.jsxs(_4,{className:"border-b border-medical-border/10 bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl overflow-hidden shadow-lg",children:n.jsx("img",{src:D,alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h1",{className:"text-lg font-bold text-medical-primary bg-gradient-to-r from-medical-primary to-medical-secondary bg-clip-text text-transparent",children:l.header.title}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(F,{className:"size-3 text-medical-secondary"}),n.jsx("span",{className:"text-xs font-medium text-medical-secondary uppercase tracking-wider",children:l.header.subtitle})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ns,{className:lt("absolute left-3 top-1/2 -translate-y-1/2 size-4 transition-colors duration-200",m?"text-medical-primary":"text-muted-foreground")}),n.jsx(Te,{placeholder:"Buscar pacientes, exames...",value:A,onChange:L=>d(L.target.value),onFocus:()=>p(!0),onBlur:()=>p(!1),className:lt("pl-10 pr-4 h-10 bg-medical-background/50 border-medical-border/30","focus:border-medical-primary/50 focus:ring-medical-primary/20","placeholder:text-muted-foreground/70")})]}),n.jsx("div",{className:"flex items-center justify-end mt-4",children:n.jsxs(ve,{size:"sm",variant:"ghost",className:"relative h-8 w-8 p-0 hover:bg-medical-primary/10",children:[n.jsx(lm,{className:"size-4"}),f>0&&n.jsx("span",{className:"absolute -top-1 -right-1 size-4 bg-medical-red text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:f})]})})]}),n.jsxs(F4,{className:"px-3 py-4 space-y-6",children:[e==="paciente"&&v&&n.jsxs("div",{className:"px-3 py-4 rounded-xl bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border border-medical-border/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-medical-primary",children:"Status do Paciente"}),n.jsx(Y_,{status:"active",size:"sm"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["ltima consulta: ",new Date().toLocaleDateString()]})]}),l.sections.map((L,T)=>n.jsxs(xy,{className:"space-y-3",children:[L.label&&n.jsxs(vy,{className:"text-medical-secondary/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[n.jsx(Bi,{className:"size-3"}),L.label]}),n.jsx(wy,{children:n.jsx(yy,{className:"space-y-1",children:(L.items||[]).map((J,R)=>{const re=J.icon,V=r.pathname===J.path;return n.jsx(by,{children:n.jsx(Ny,{asChild:!0,isActive:V,className:lt("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-medical-primary/10 hover:shadow-sm",V&&["bg-gradient-to-r from-medical-primary/15 to-medical-secondary/10","border-l-4 border-medical-primary shadow-sm","text-medical-primary font-medium"]),children:n.jsxs(pr,{to:J.path,className:"flex items-center gap-3 w-full",children:[re&&n.jsx("div",{className:lt("flex items-center justify-center size-8 rounded-lg transition-all duration-200",V?"bg-medical-primary/20 text-medical-primary":"bg-medical-background/50 text-muted-foreground group-hover:bg-medical-primary/10 group-hover:text-medical-primary"),children:n.jsx(re,{className:"size-4"})}),n.jsx("span",{className:"font-medium flex-1",children:J.label}),J.badge&&n.jsx(lr,{variant:"medical-secondary",size:"sm",className:"ml-auto animate-pulse",children:J.badge})]})})},`${J.label}-${R}`)})})})]},`${L.label}-${T}`)),o&&e!=="admin"&&n.jsxs(xy,{className:"space-y-3",children:[n.jsxs(vy,{className:"text-amber-600/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[n.jsx(Hs,{className:"size-3"}),"Acesso Administrativo"]}),n.jsx(wy,{children:n.jsx(yy,{className:"space-y-1",children:j.map((L,T)=>{const J=L.icon,R=r.pathname===L.path;return n.jsx(by,{children:n.jsx(Ny,{asChild:!0,isActive:R,className:lt("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-amber-500/10 hover:shadow-sm",R&&["bg-gradient-to-r from-amber-500/15 to-orange-500/10","border-l-4 border-amber-500 shadow-sm","text-amber-600 font-medium"]),children:n.jsxs(pr,{to:L.path,className:"flex items-center gap-3 w-full",children:[J&&n.jsx("div",{className:lt("flex items-center justify-center size-8 rounded-lg transition-all duration-200",R?"bg-amber-500/20 text-amber-600":"bg-amber-50 text-amber-600/70 group-hover:bg-amber-500/10 group-hover:text-amber-600"),children:n.jsx(J,{className:"size-4"})}),n.jsx("span",{className:"font-medium flex-1",children:L.title}),n.jsx(lr,{variant:"warning",size:"sm",className:"ml-auto",children:"Admin"})]})})},`admin-${L.title}-${T}`)})})})]})]}),n.jsxs(E4,{className:"border-t border-medical-border/20 bg-gradient-to-r from-medical-background/80 to-medical-background/60 backdrop-blur-xl p-4",children:[n.jsxs(D_,{children:[n.jsx(U_,{asChild:!0,children:n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-medical-background/50 to-medical-background/30 hover:from-medical-primary/5 hover:to-medical-secondary/5 transition-all duration-300 cursor-pointer group hover:shadow-lg border border-medical-border/10 hover:border-medical-primary/20",children:[n.jsxs(Lm,{className:"size-10 ring-2 ring-medical-border/20 group-hover:ring-medical-primary/30 transition-all duration-300",children:[n.jsx(mx,{src:k}),n.jsx(Im,{className:"bg-gradient-to-br from-medical-primary via-medical-secondary to-medical-accent text-white font-semibold",children:(G=(_=E||"U")==null?void 0:_.charAt(0))==null?void 0:G.toUpperCase()})]}),n.jsxs("div",{className:"flex flex-col gap-0.5 leading-tight flex-1 min-w-0",children:[n.jsx("span",{className:"text-sm font-semibold text-medical-primary truncate group-hover:text-medical-primary/80 transition-colors",children:E}),n.jsx("span",{className:"text-xs text-muted-foreground truncate group-hover:text-medical-secondary transition-colors",children:U})]}),n.jsx(D1,{className:"size-4 text-muted-foreground group-hover:text-medical-primary transition-all duration-300 group-hover:rotate-180"})]})}),n.jsxs(db,{align:"end",className:"w-64 bg-medical-background/95 backdrop-blur-xl border-medical-border/20",children:[n.jsx(L_,{className:"text-medical-primary font-semibold",children:"Minha Conta"}),n.jsx(Cy,{className:"bg-medical-border/20"}),n.jsxs(Zc,{onClick:()=>{const L=(a==null?void 0:a.role)||(a==null?void 0:a.tipo);t(L==="admin"?"/admin/dashboard":L==="medico"?"/medico/dashboard":L==="clinica"?"/clinica/dashboard":"/paciente/perfil")},className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(Hn,{className:"size-4 mr-2 text-medical-primary"}),"Perfil"]}),n.jsxs(Zc,{onClick:()=>t(`/${e}/configuracoes`),className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(cm,{className:"size-4 mr-2 text-medical-primary"}),"Configuraes"]}),n.jsxs(Zc,{onClick:()=>window.alert("Em breve"),className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(sS,{className:"size-4 mr-2 text-medical-primary"}),"Tema"]}),n.jsxs(Zc,{onClick:()=>window.alert("Em breve"),className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(Y6,{className:"size-4 mr-2 text-medical-primary"}),"Ajuda"]}),n.jsx(Cy,{className:"bg-medical-border/20"}),n.jsxs(Zc,{onClick:C,className:"text-medical-red hover:bg-medical-red/10 focus:bg-medical-red/10",children:[n.jsx(tI,{className:"size-4 mr-2"}),"Sair"]})]})]}),n.jsx(hs,{className:"bg-medical-border/20"}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground px-3 py-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"size-2 bg-medical-green rounded-full animate-pulse"}),n.jsx("span",{children:"Sistema Online"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Or,{className:"size-3"}),n.jsx("span",{children:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})]})]})}function FT(){const e=ns(),r=Kn(),[t,a]=b.useState(null),[s,i]=b.useState(!0),o=b.useRef(!1),l=async()=>{try{const h=await ha.getPerfil();a(h)}catch{}finally{i(!1)}};b.useEffect(()=>{let h=!0;return(async()=>h&&(i(!0),await l()))(),()=>{h=!1}},[]);const A=!!t&&(!(t!=null&&t.data_nascimento)||!(t!=null&&t.endereco)||!(t!=null&&t.telefone));b.useEffect(()=>((async()=>e.pathname!=="/paciente/perfil"&&(o.current=!0,i(!0),await l(),o.current=!1))(),()=>{}),[e.pathname]),b.useEffect(()=>{o.current||!s&&A&&e.pathname!=="/paciente/perfil"&&r("/paciente/perfil",{replace:!0})},[s,A,e.pathname,r]);const d=b.useMemo(()=>{const h=e.pathname,m={"/paciente/perfil":"Perfil","/paciente/prontuario":"Pronturio","/paciente/consultas":"Consultas","/paciente/exames":"Exames","/paciente/receitas":"Receitas","/paciente/historico-medico":"Histrico Mdico","/paciente/medicos":"Mdicos Vinculados","/paciente/configuracoes":"Configuraes"},p=m[h]||Object.keys(m).find(v=>h.startsWith(v))&&m[Object.keys(m).find(v=>h.startsWith(v))]||"Perfil";return[{label:"rea do Paciente",href:"/paciente/perfil"},{label:p}]},[e.pathname]),f=()=>n.jsx(Qm,{role:"paciente"});return n.jsx(Pm,{sidebar:f,breadcrumbs:d,children:n.jsx(Nm,{})})}function kT(){const e=()=>n.jsx(Qm,{role:"medico"});return n.jsx(Pm,{sidebar:e,children:n.jsx(Nm,{})})}function X_({breadcrumbs:e}){const r=()=>n.jsx(Qm,{role:"clinica"});return n.jsx(Pm,{sidebar:r,breadcrumbs:e,children:n.jsx(Nm,{})})}function DT(){const e=()=>n.jsx(Qm,{role:"admin"});return n.jsx(Pm,{sidebar:e,children:n.jsx(Nm,{})})}var UT="Label",J_=b.forwardRef((e,r)=>n.jsx(_r.label,{...e,ref:r,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));J_.displayName=UT;var LT=J_;const IT=V0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=b.forwardRef(({className:e,...r},t)=>n.jsx(LT,{ref:t,className:lt(IT(),e),...r}));Fe.displayName="Label";const ke=b.forwardRef(({className:e,variant:r="default",...t},a)=>{const s={default:"card-medical",elevated:"card-elevated",medical:"card-medical",priority:"card-medical"};return n.jsx("div",{ref:a,className:lt("animate-fade-in",s[r],e),...t})});ke.displayName="Card";const Ke=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("flex flex-col space-y-2 p-6 pb-4",e),...r}));Ke.displayName="CardHeader";const Ge=b.forwardRef(({className:e,level:r="h3",...t},a)=>{const s=r;return n.jsx(s,{ref:a,className:lt("text-xl font-semibold leading-tight tracking-tight text-heading-foreground","flex items-center gap-2",e),...t})});Ge.displayName="CardTitle";const gr=b.forwardRef(({className:e,...r},t)=>n.jsx("p",{ref:t,className:lt("text-sm text-muted-foreground leading-relaxed",e),...r}));gr.displayName="CardDescription";const Ue=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("p-6 pt-0 space-y-4",e),...r}));Ue.displayName="CardContent";const PT=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("flex items-center justify-between p-6 pt-0 border-t border-border/50 mt-4",e),...r}));PT.displayName="CardFooter";const QT=b.forwardRef(({className:e,status:r="normal",children:t,...a},s)=>{const i={normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent"};return n.jsx("div",{ref:s,className:lt("status-badge",i[r],e),...a,children:t})});QT.displayName="CardStatus";const RT=b.forwardRef(({className:e,priority:r="low",children:t,...a},s)=>{const i={low:"card-priority-low",medium:"card-priority-medium",high:"card-priority-high"};return n.jsx("div",{ref:s,className:lt("card-medical",i[r],e),...a,children:t})});RT.displayName="CardPriority";const MT=5;let Xv=0;function TT(){return Xv=(Xv+1)%Number.MAX_SAFE_INTEGER,Xv.toString()}const rd={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},_g=[];let Eg={toasts:[]};function Fg(e){Eg=OT(Eg,e),_g.forEach(r=>{r(Eg)})}function OT(e,r){switch(r.type){case rd.ADD_TOAST:return{...e,toasts:[r.toast,...e.toasts].slice(0,MT)};case rd.UPDATE_TOAST:return{...e,toasts:e.toasts.map(t=>t.id===r.toast.id?{...t,...r.toast}:t)};case rd.DISMISS_TOAST:return{...e,toasts:e.toasts.map(t=>t.id===r.toastId||r.toastId===void 0?{...t,open:!1}:t)};case rd.REMOVE_TOAST:return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(t=>t.id!==r.toastId)}}}function HT({...e}){const r=TT(),t=s=>Fg({type:rd.UPDATE_TOAST,toast:{...s,id:r}}),a=()=>Fg({type:rd.DISMISS_TOAST,toastId:r});return Fg({type:rd.ADD_TOAST,toast:{...e,id:r,open:!0,onOpenChange:s=>{s||a()}}}),{id:r,dismiss:a,update:t}}function Va(){const[e,r]=b.useState(Eg);return b.useEffect(()=>(_g.push(r),()=>{const t=_g.indexOf(r);t>-1&&_g.splice(t,1)}),[e]),{...e,toast:HT,dismiss:t=>Fg({type:rd.DISMISS_TOAST,toastId:t})}}const px={EMAIL:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,PASSWORD:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,NAME:/^[a-zA-Z-\s]{2,50}$/};function md(e){return typeof e!="string"?e:e.replace(/<\/?(?:script|iframe|object|embed|form|input|button|link|meta|style|base|applet)[^>]*>/gi,"").replace(/\s*on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:|vbscript:|data:/gi,"").replace(/[\x00-\x1F\x7F]/g,"").slice(0,1e4)}function o0(e){if(!e||typeof e!="string")return{isValid:!1,error:"Email  obrigatrio"};const r=md(e.trim().toLowerCase());return px.EMAIL.test(r)?r.length>254?{isValid:!1,error:"Email muito longo"}:{isValid:!0,value:r}:{isValid:!1,error:"Email invlido"}}function l0(e){if(!e||typeof e!="string")return{isValid:!1,error:"CPF  obrigatrio"};const r=md(e.replace(/\D/g,""));if(r.length!==11)return{isValid:!1,error:"CPF deve ter 11 dgitos"};if(/^(\d)\1{10}$/.test(r))return{isValid:!1,error:"CPF invlido"};let t=0;for(let s=0;s<9;s++)t+=parseInt(r.charAt(s))*(10-s);let a=t*10%11;if((a===10||a===11)&&(a=0),a!==parseInt(r.charAt(9)))return{isValid:!1,error:"CPF invlido"};t=0;for(let s=0;s<10;s++)t+=parseInt(r.charAt(s))*(11-s);return a=t*10%11,(a===10||a===11)&&(a=0),a!==parseInt(r.charAt(10))?{isValid:!1,error:"CPF invlido"}:{isValid:!0,value:r}}function Z_(e){return!e||typeof e!="string"?{isValid:!1,error:"Senha  obrigatria"}:e.length<8?{isValid:!1,error:"Senha deve ter pelo menos 8 caracteres"}:e.length>128?{isValid:!1,error:"Senha muito longa"}:px.PASSWORD.test(e)?{isValid:!0,value:e}:{isValid:!1,error:"Senha deve conter pelo menos: 1 letra minscula, 1 maiscula, 1 nmero e 1 caractere especial"}}function eE(e){return!e||typeof e!="string"?{isValid:!1,error:"Senha  obrigatria"}:e.length<1?{isValid:!1,error:"Senha  obrigatria"}:e.length>128?{isValid:!1,error:"Senha muito longa"}:{isValid:!0,value:e}}function tE(e){if(!e||typeof e!="string")return{isValid:!1,error:"Nome  obrigatrio"};const r=md(e.trim());return r.length<2?{isValid:!1,error:"Nome deve ter pelo menos 2 caracteres"}:r.length>100?{isValid:!1,error:"Nome muito longo"}:px.NAME.test(r)?{isValid:!0,value:r}:{isValid:!1,error:"Nome contm caracteres invlidos"}}function rE(e,r=1e3){if(!e||typeof e!="string")return{isValid:!1,error:"Texto  obrigatrio"};const t=md(e.trim());return t.length===0?{isValid:!1,error:"Texto no pode estar vazio"}:t.length>r?{isValid:!1,error:`Texto deve ter no mximo ${r} caracteres`}:{isValid:!0,value:t}}function aE(e){const r=String(e||"").trim(),t=r.toLowerCase(),a=["bom dia","boa tarde","boa noite","o que te traz aqui","tudo bem","ola doutor","ol doutor","oi"];for(const s of a)if(t.includes(s)&&r.length<100){let i=r.replace(/^[\-\*\s]+/,"");return i=i.replace(new RegExp(s,"i"),"").replace(/\?+/g,"").trim(),i.length<5?"":i}if(t.startsWith("bom dia")){let s=r.replace(/^[\-\*\s]+/,"");return s=s.slice(7).replace(/tudo bem\??/i,"").trim(),s.replace(/^[,\.\s]+/,"")}return r}const $T=Object.freeze(Object.defineProperty({__proto__:null,VALIDATION_PATTERNS:px,cleanGreeting:aE,sanitizeString:md,validateCPF:l0,validateEmail:o0,validateLoginPassword:eE,validateName:tE,validatePassword:Z_,validateText:rE},Symbol.toStringTag,{value:"Module"}));function KT(){const[e,r]=b.useState({email:"",password:""}),[t,a]=b.useState(!1),[s,i]=b.useState(!1),[o,l]=b.useState({}),{login:A,loginWithGoogle:d,isAuthenticated:f,user:h,loading:m}=qo(),{toast:p}=Va(),v=Kn(),g=(()=>{const _=(h==null?void 0:h.role)||(h==null?void 0:h.tipo);return _==="admin"?"/admin/dashboard":_==="medico"?"/medico/dashboard":_==="clinica"?"/clinica/dashboard":"/paciente/perfil"})();if(m)return null;if(f)return n.jsx(Ea,{to:g,replace:!0});const y=()=>{const _={},G=o0(e.email),L=l0(e.email);!G.isValid&&!L.isValid&&(_.email="Informe um e-mail vlido ou CPF vlido");const T=eE(e.password);return T.isValid||(_.password=T.error),l(_),Object.keys(_).length===0},w=async _=>{var G,L,T,J,R,re,V,Y,H,Z,Ae;if(_.preventDefault(),!y()){p({title:"Dados invlidos",description:"Por favor, corrija os erros no formulrio",variant:"destructive"});return}a(!0);try{const ee=o0(e.email),Q=l0(e.email),q=ee.isValid?ee.value:Q.isValid?Q.value:e.email,$=await A({email:q,username:q,password:e.password});switch(p({title:"Login realizado com sucesso!",description:`Bem-vindo, ${((G=$.user)==null?void 0:G.first_name)||((L=$.user)==null?void 0:L.username)||((T=$.user)==null?void 0:T.email)||"usurio"}!`}),((J=$.user)==null?void 0:J.role)||((R=$.user)==null?void 0:R.tipo)){case"medico":v("/medico/dashboard");break;case"paciente":v("/paciente/perfil");break;case"clinica":v("/clinica/dashboard");break;case"admin":v("/admin/dashboard");break;default:v("/")}}catch(ee){const Q=((V=(re=ee.response)==null?void 0:re.data)==null?void 0:V.error)||((H=(Y=ee.response)==null?void 0:Y.data)==null?void 0:H.detail)||((Ae=(Z=ee.response)==null?void 0:Z.data)==null?void 0:Ae.message);p({title:"Erro no login",description:Q||"Credenciais invlidas",variant:"destructive"})}finally{a(!1)}},j=_=>{const{name:G,value:L}=_.target;r(T=>({...T,[G]:L})),o[G]&&l(T=>{const J={...T};return delete J[G],J})},[C,E]=b.useState(!1),U=b.useRef(null),{setTheme:k,theme:F}=D4(),D=b.useRef(null);return b.useEffect(()=>(D.current=F,k("light"),()=>{D.current&&k(D.current)}),[F,k]),b.useEffect(()=>{if(window.google&&U.current)try{window.google.accounts.id.initialize({client_id:"SEU_CLIENT_ID_REAL.apps.googleusercontent.com",callback:async _=>{var L,T,J,R,re,V,Y,H;const G=_==null?void 0:_.credential;if(G){E(!0);try{const Z=await d(G);switch(p({title:"Login com Google realizado!",description:`Bem-vindo, ${((L=Z.user)==null?void 0:L.nome)||((T=Z.user)==null?void 0:T.first_name)||((J=Z.user)==null?void 0:J.username)||((R=Z.user)==null?void 0:R.email)||"usurio"}!`}),((re=Z.user)==null?void 0:re.role)||((V=Z.user)==null?void 0:V.tipo)){case"medico":v("/medico/dashboard");break;case"paciente":v("/paciente/perfil");break;case"clinica":v("/clinica/dashboard");break;case"admin":v("/admin/dashboard");break;default:v("/")}}catch(Z){p({title:"Erro no login com Google",description:((H=(Y=Z.response)==null?void 0:Y.data)==null?void 0:H.message)||"No foi possvel autenticar",variant:"destructive"})}finally{E(!1)}}}}),window.google.accounts.id.renderButton(U.current,{theme:"outline",size:"large",shape:"pill",text:"continue_with",width:320})}catch{}},[d,v,p]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 flex items-center justify-center p-4 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-blue-600/20 rounded-full blur-3xl"})]}),n.jsxs(ke,{className:"w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 relative z-10",children:[n.jsxs(Ke,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl overflow-hidden mb-6 shadow-lg",children:n.jsx("img",{src:hb,alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsx(Ge,{className:"text-3xl font-bold text-medical-primary mx-auto text-center",children:"Trathea"}),n.jsx(gr,{className:"text-slate-600 text-base",children:"Acesse sua conta para continuar"})]}),n.jsxs(Ue,{className:"space-y-6 px-8 pb-8",children:[n.jsxs("form",{onSubmit:w,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Fe,{htmlFor:"email",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(yl,{className:"w-4 h-4"}),"E-mail ou CPF"]}),n.jsx(Te,{id:"email",name:"email",type:"text",placeholder:"seu@email.com ou 52959459873",value:e.email,onChange:j,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 ${o.email?"border-red-500 focus:border-red-500":""}`}),o.email&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Fe,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(L1,{className:"w-4 h-4"}),"Senha"]}),n.jsxs("div",{className:"relative",children:[n.jsx(Te,{id:"password",name:"password",type:s?"text":"password",placeholder:"",value:e.password,onChange:j,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 pr-12 ${o.password?"border-red-500 focus:border-red-500":""}`}),n.jsx(ve,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 hover:bg-transparent",onClick:()=>i(!s),children:s?n.jsx(q6,{className:"h-4 w-4 text-slate-400"}):n.jsx(Ci,{className:"h-4 w-4 text-slate-400"})})]}),o.password&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.password})]}),n.jsx(ve,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",disabled:t,children:t?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Entrando..."]}):"Entrar"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"}),n.jsx("span",{className:"text-sm text-slate-500 font-medium bg-white px-2",children:"ou"}),n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{ref:U,className:"w-full flex justify-center"})}),!window.google&&n.jsx(ve,{type:"button",variant:"outline",className:"w-full h-12 border-slate-200 hover:bg-slate-50 bg-white/80 backdrop-blur-sm transition-all duration-200",disabled:!0,children:C?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-slate-400/30 border-t-slate-400 rounded-full animate-spin"}),"Conectando..."]}):"Continuar com Google"}),n.jsxs("div",{className:"text-center space-y-3 pt-4",children:[n.jsx(pr,{to:"/esqueci-senha",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Esqueceu sua senha?"}),n.jsxs("div",{className:"text-sm text-slate-600",children:["No tem uma conta?"," ",n.jsx(pr,{to:"/registrar",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Cadastre-se"})]})]}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsx(ve,{type:"button",variant:"outline",className:"rounded-xl",onClick:()=>{h!=null&&h.role||(h==null||h.tipo),v(f?"/inicio":"/")},children:"Voltar ao incio"})})]})]})]})}function VT(){const e=Kn(),{toast:r}=Va(),[t,a]=b.useState(!1),[s,i]=b.useState("paciente"),[o,l]=b.useState({}),[A,d]=b.useState(!1),[f,h]=b.useState(!1),[m,p]=b.useState({nome:"",email:"",senha:"",confirmSenha:"",cpf:"",nomeClinica:"",cnpj:""}),v=V=>{const Y=V.replace(/\D/g,"").slice(0,11),H=Y.slice(0,3),Z=Y.slice(3,6),Ae=Y.slice(6,9),ee=Y.slice(9,11);return Y.length>9?`${H}.${Z}.${Ae}-${ee}`:Y.length>6?`${H}.${Z}.${Ae}`:Y.length>3?`${H}.${Z}`:H},g=V=>{const Y=String(V||"").replace(/\D/g,"").slice(0,14),H=Y.slice(0,2),Z=Y.slice(2,5),Ae=Y.slice(5,8),ee=Y.slice(8,12),Q=Y.slice(12,14);return Y.length>12?`${H}.${Z}.${Ae}/${ee}-${Q}`:Y.length>8?`${H}.${Z}.${Ae}/${ee}`:Y.length>5?`${H}.${Z}.${Ae}`:Y.length>2?`${H}.${Z}`:H},y=V=>String(V||"").replace(/\D/g,"").slice(0,7),w=V=>{const{name:Y,value:H}=V.target;if(o[Y]&&l(Z=>({...Z,[Y]:void 0})),Y==="cpf"){p({...m,cpf:v(H)});return}if(Y==="cnpj"){p({...m,cnpj:g(H)});return}p({...m,[Y]:H})},j=V=>String(V||"").trim().replace(/\s+/g," ").split(" ").filter(Boolean).map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1).toLowerCase()).join(" "),[C,E]=b.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),U=b.useRef(null),k=b.useRef(null),F=b.useRef(null),D=V=>{const{name:Y,value:H}=V.target;o[Y]&&l(Z=>({...Z,[Y]:void 0})),E(Y==="crm"?Z=>({...Z,crm:y(H)}):Z=>({...Z,[Y]:H}))},_=(V,Y)=>{o[V]&&l(H=>({...H,[V]:void 0})),E(H=>({...H,documentos:{...H.documentos,[V]:Y}}))},G=(V,Y)=>{E(H=>({...H,documentos:{...H.documentos,[V]:null}})),Y!=null&&Y.current&&(Y.current.value="")},L=V=>{if(!V&&V!==0)return"";const Y=["Bytes","KB","MB","GB"];if(V===0)return"0 Byte";const H=Math.floor(Math.log(V)/Math.log(1024));return`${(V/Math.pow(1024,H)).toFixed(1)} ${Y[H]}`},T=({label:V,required:Y=!1,icon:H="",accept:Z=".pdf,image/*",file:Ae,onFile:ee,onRemove:Q,inputRef:q})=>{const[$,X]=b.useState(!1),te=K=>{var se;K.preventDefault(),X(!1);const z=(se=K.dataTransfer.files)==null?void 0:se[0];z&&ee(z)};return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-base",children:H}),n.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[V," ",Y?n.jsx("span",{className:"text-rose-600",children:"*"}):n.jsx("span",{className:"text-slate-400",children:"(opcional)"})]})]}),n.jsx("input",{ref:q,type:"file",accept:Z,className:"hidden",onChange:K=>{var z;return ee(((z=K.target.files)==null?void 0:z[0])||null)}}),n.jsxs("div",{onDragOver:K=>{K.preventDefault(),X(!0)},onDragLeave:()=>X(!1),onDrop:te,className:`rounded-lg border-2 p-3 flex items-center justify-between gap-3 transition
            ${$?"border-sky-400 bg-sky-50":"border-dashed border-slate-300 bg-white"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100 flex items-center justify-center text-lg",children:H}),Ae?n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:Ae.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[Ae.type||"Arquivo","  ",L(Ae.size)]})]}):n.jsxs("div",{className:"text-sm text-slate-600",children:["Arraste e solte aqui ou"," ",n.jsx("button",{type:"button",onClick:()=>{var K;return(K=q==null?void 0:q.current)==null?void 0:K.click()},className:"underline text-sky-700 hover:text-sky-800",children:"procurar"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!Ae&&n.jsx("button",{type:"button",onClick:()=>{var K;return(K=q==null?void 0:q.current)==null?void 0:K.click()},className:"px-3 py-2 rounded-md bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800",children:"Escolher arquivo"}),Ae&&n.jsx("button",{type:"button",onClick:Q,className:"px-3 py-2 rounded-md bg-rose-50 text-rose-700 text-xs font-semibold hover:bg-rose-100",children:"Remover"})]})]})]})};m.email.length===0||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email);const J=()=>{const V={},Y=tE(m.nome);Y.isValid||(V.nome=Y.error);const H=o0(m.email);H.isValid||(V.email=H.error);const Z=Z_(m.senha);Z.isValid||(V.senha=Z.error),m.senha!==m.confirmSenha&&(V.confirmSenha="As senhas no conferem");const Ae=l0(m.cpf);return Ae.isValid||(V.cpf=Ae.error),s==="clinica"&&(m.nomeClinica.trim()||(V.nomeClinica="Nome da clnica  obrigatrio"),m.cnpj.trim()||(V.cnpj="CNPJ  obrigatrio")),s==="medico"&&(C.crm.trim()||(V.crm="CRM  obrigatrio"),C.especialidade.trim()||(V.especialidade="Especialidade  obrigatria"),C.documentos.diplomaMedicina||(V.diplomaMedicina="Diploma de Medicina  obrigatrio")),V},R=m.confirmSenha.length===0||m.senha.length>0&&m.senha===m.confirmSenha,re=async V=>{var H,Z,Ae,ee,Q,q,$,X,te,K;V.preventDefault();const Y=J();if(l(Y),Object.keys(Y).length>0){r({title:"Erro de validao",description:"Por favor, corrija os erros no formulrio.",variant:"destructive"});return}a(!0);try{const z=String(m.nome||"").trim().replace(/\s+/g," "),se=j(z),[fe,...be]=se.split(" "),Be=be.join(" "),Qe={username:m.nome.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^a-z0-9@.+_-]/g,""),first_name:fe||"",last_name:Be||"",email:m.email,password:m.senha,password_confirm:m.confirmSenha,role:s==="medico"?"paciente":s,desired_role:s,cpf:m.cpf||""};s==="clinica"&&(Qe.nome_clinica=m.nomeClinica,Qe.cnpj=m.cnpj);const xe=await Rr.register(Qe,{medicoData:s==="medico"?C:void 0});if(s==="medico"){const ie=xe==null?void 0:xe.medicoApplication;ie!=null&&ie.success?r({title:"Solicitao enviada!",description:"Seus dados de mdico foram enviados para anlise."}):ie&&ie.success===!1&&(console.error("[RegisterForm] criarSolicitacaoMedico via authService falhou:",ie.error),r({title:"Solicitao pendente",description:"Sua conta foi criada, mas no foi possvel enviar a solicitao de mdico agora. Voc poder concluir depois."}))}r({title:"Registro realizado com sucesso!",description:"Sua conta foi criada. Voc pode fazer login agora."}),e("/login")}catch(z){console.error("Erro no registro:",z),console.error("Status do erro:",(H=z.response)==null?void 0:H.status),console.error("Detalhes do erro:",(Z=z.response)==null?void 0:Z.data),console.error("Headers da resposta:",(Ae=z.response)==null?void 0:Ae.headers);let se="Erro interno do servidor. Tente novamente.",fe=!1,be=!1,Be=!1;try{const Qe=(ee=z.response)==null?void 0:ee.status,xe=((Q=z.response)==null?void 0:Q.headers)||{},ie=xe["content-type"]||xe["Content-Type"]||"",at=(q=z.response)==null?void 0:q.data,it=((typeof at=="string"?at:"")||"").toLowerCase(),Ee=dt=>{dt==="crm"?se="CRM j cadastrado no sistema. Utilize outro nmero de CRM.":dt==="email"?se="E-mail j cadastrado no sistema.":dt==="cpf"?se="CPF j cadastrado no sistema.":se="Algum campo nico j est cadastrado (ex.: CRM, e-mail ou CPF)."};Qe===409&&(Ee("unknown"),be=!0),fe=String(ie).includes("text/html"),(fe||it.includes("unique constraint")||it.includes("integrityerror"))&&(it.includes("crm")?(Ee("crm"),be=!0,Be=!0):it.includes("email")?(Ee("email"),be=!0):it.includes("cpf")&&(Ee("cpf"),be=!0))}catch{}if(($=z.response)!=null&&$.data){const Qe=z.response.data;if(console.log("Tipo do errorData:",typeof Qe),console.log("ErrorData completo:",JSON.stringify(Qe,null,2)),typeof Qe=="object"){const xe=[];for(const[ie,at]of Object.entries(Qe))Array.isArray(at)?xe.push(`${ie}: ${at.join(", ")}`):xe.push(`${ie}: ${at}`);xe.length&&(se=xe.join(`
`))}typeof Qe=="string"?/<\/?(html|body|head|table|div|span|style|script)[^>]*>/i.test(Qe)||(se=Qe):Qe.message?se=Qe.message:Qe.email?se=`Email: ${Qe.email[0]}`:Qe.password&&(se=`Senha: ${Qe.password[0]}`)}try{const Qe=(X=z.response)==null?void 0:X.status,xe=((te=z.response)==null?void 0:te.headers)||{},ie=xe["content-type"]||xe["Content-Type"]||"",at=(K=z.response)==null?void 0:K.data,it=((typeof at=="string"?at:"")||"").toLowerCase(),Ee=be||Qe===409||it.includes("unique constraint")||it.includes("integrityerror"),dt=fe||String(ie).includes("text/html"),ct=Be||it.includes("crm")||it.includes("medico");if(Ee&&(dt||ct)){try{await Rr.login({email:m.email,password:m.senha}),await Rr.logout(),r({title:"Conta criada",description:"Sua conta foi criada, mas houve um problema com os dados de mdico (CRM). Faa login para continuar."}),e("/login");return}catch{}r({title:"Conta possivelmente criada",description:se+"  Tente fazer login com seu e-mail e senha."}),e("/login");return}}catch{}r({title:"Erro no registro",description:se,variant:"destructive"})}finally{a(!1)}};return n.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur shadow-app-lg rounded-2xl border border-slate-100 overflow-hidden",children:[n.jsxs("div",{className:"px-6 pt-6 pb-4 bg-app-gradient text-white",children:[n.jsx("h1",{className:"text-xl font-semibold",children:"Criar conta"}),n.jsx("p",{className:"text-white/90 text-sm",children:s==="paciente"?"Como paciente":s==="clinica"?"Como clnica":"Como mdico"})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-slate-100 rounded-lg p-1 grid grid-cols-3 gap-1",children:[n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="paciente"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("paciente"),children:" Paciente"}),n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="clinica"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("clinica"),children:" Clnica"}),n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="medico"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("medico"),children:" Mdico"})]}),n.jsxs("form",{className:"space-y-4",onSubmit:re,children:[s!=="clinica"?n.jsx(n.Fragment,{children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome completo"}),n.jsx("input",{type:"text",name:"nome",placeholder:"Seu nome",value:m.nome,onChange:w,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.nome?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.nome&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.nome})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome da clnica"}),n.jsx("input",{type:"text",name:"nomeClinica",placeholder:"Ex.: Clnica Vida",value:m.nomeClinica,onChange:w,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.nomeClinica?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.nomeClinica&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.nomeClinica})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CNPJ"}),n.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",value:m.cnpj,onChange:w,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.cnpj?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.cnpj&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.cnpj})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"E-mail"}),n.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:m.email,onChange:w,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.email?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.email&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CPF *"}),n.jsx("input",{type:"text",name:"cpf",placeholder:"000.000.000-00",value:m.cpf,onChange:w,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.cpf?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.cpf&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.cpf})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:A?"text":"password",name:"senha",placeholder:"Crie uma senha",value:m.senha,onChange:w,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.senha?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),n.jsx("button",{type:"button",onClick:()=>d(V=>!V),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":A?"Ocultar senha":"Mostrar senha",children:A?"Ocultar":"Mostrar"})]}),o.senha&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.senha})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Confirmar senha"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:f?"text":"password",name:"confirmSenha",placeholder:"Repita a senha",value:m.confirmSenha,onChange:w,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 transition ${o.confirmSenha?"border-rose-300 focus:ring-rose-500":R?"border-slate-200 focus:ring-sky-500 focus:border-sky-500":"border-amber-300 focus:ring-amber-400"}`}),n.jsx("button",{type:"button",onClick:()=>h(V=>!V),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":f?"Ocultar senha":"Mostrar senha",children:f?"Ocultar":"Mostrar"})]}),o.confirmSenha?n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.confirmSenha}):m.confirmSenha.length>0&&n.jsx("p",{className:`mt-1 text-xs ${m.senha===m.confirmSenha?"text-emerald-600":"text-amber-600"}`,children:m.senha===m.confirmSenha?"Senhas conferem.":"As senhas no conferem."})]}),s==="medico"&&n.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[n.jsx("p",{className:"font-semibold",children:"Dados do Mdico"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CRM"}),n.jsx("input",{type:"text",name:"crm",placeholder:"CRM",value:C.crm,onChange:D,maxLength:7,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${o.crm?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),o.crm&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.crm})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidade"}),n.jsx("input",{type:"text",name:"especialidade",placeholder:"Ex.: Cardiologia",value:C.especialidade,onChange:D,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${o.especialidade?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),o.especialidade&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.especialidade})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio de Formao"}),n.jsx("input",{type:"text",name:"instituicaoFormacao",placeholder:"Universidade",value:C.instituicaoFormacao,onChange:D,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano de Formao"}),n.jsx("input",{type:"number",name:"anoFormacao",placeholder:"YYYY",value:C.anoFormacao,onChange:D,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Residncia (se aplicvel)"}),n.jsx("input",{type:"text",name:"residencia",placeholder:"Residncia Mdica",value:C.residencia,onChange:D,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio da Residncia"}),n.jsx("input",{type:"text",name:"instituicaoResidencia",placeholder:"Instituio",value:C.instituicaoResidencia,onChange:D,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano da Residncia"}),n.jsx("input",{type:"number",name:"anoResidencia",placeholder:"YYYY",value:C.anoResidencia,onChange:D,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Experincia"}),n.jsx("textarea",{name:"experiencia",placeholder:"Resumo da experincia",value:C.experiencia,onChange:D,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Motivao"}),n.jsx("textarea",{name:"motivacao",placeholder:"Por que deseja se cadastrar como mdico na plataforma?",value:C.motivacao,onChange:D,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"font-medium",children:"Documentos"}),n.jsx(T,{label:"Diploma de Medicina",required:!0,icon:"",accept:".pdf,image/*",file:C.documentos.diplomaMedicina,inputRef:U,onFile:V=>_("diplomaMedicina",V),onRemove:()=>G("diplomaMedicina",U)}),o.diplomaMedicina&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.diplomaMedicina}),n.jsx(T,{label:"Certificado de Residncia",icon:"",accept:".pdf,image/*",file:C.documentos.certificadoResidencia,inputRef:k,onFile:V=>_("certificadoResidencia",V),onRemove:()=>G("certificadoResidencia",k)}),n.jsx(T,{label:"Comprovante de Experincia",icon:"",accept:".pdf,image/*",file:C.documentos.comprovanteExperiencia,inputRef:F,onFile:V=>_("comprovanteExperiencia",V),onRemove:()=>G("comprovanteExperiencia",F)})]})]}),n.jsx("button",{type:"submit",disabled:t,className:"w-full py-3 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-2 focus-visible:ring-blue-400 shadow-app transition disabled:opacity-70 disabled:cursor-not-allowed",children:t?"Registrando...":`Registrar ${s==="paciente"?"Paciente":s==="clinica"?"Clnica":s==="medico"?"Mdico":"Usurio"}`})]})]})]})})}const nE=b.createContext(null);function sE(){const e=b.useContext(nE);if(!e)throw new Error("Tabs components must be used within <Tabs>");return e}const zi=b.forwardRef(({className:e,value:r,defaultValue:t="",onValueChange:a,children:s,...i},o)=>{const[l,A]=b.useState(t),d=r!==void 0,f=d?r:l,h=m=>{d||A(m),a==null||a(m)};return n.jsx(nE.Provider,{value:{value:f,setValue:h},children:n.jsx("div",{ref:o,className:lt("",e),...i,children:s})})});zi.displayName="Tabs";const qi=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:lt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));qi.displayName="TabsList";const Ir=b.forwardRef(({className:e,value:r,onClick:t,...a},s)=>{const{value:i,setValue:o}=sE(),l=i===r,A=d=>{t==null||t(d),o(r)};return n.jsx("button",{ref:s,"data-state":l?"active":"inactive",className:lt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",l?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",e),onClick:A,...a})});Ir.displayName="TabsTrigger";const Tr=b.forwardRef(({className:e,value:r,forceMount:t=!1,...a},s)=>{const{value:i}=sE();return!t&&i!==r?null:n.jsx("div",{ref:s,className:lt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a})});Tr.displayName="TabsContent";function zT(){const[e,r]=b.useState(""),[t,a]=b.useState(!1),[s,i]=b.useState(!1),[o,l]=b.useState("paciente"),A=Kn(),d=ns(),{toast:f}=Va();b.useEffect(()=>{const p=new URLSearchParams(d.search).get("role");(p==="clinica"||p==="paciente")&&l(p)},[d]);const h=async m=>{var p,v,g,y;m.preventDefault(),a(!0);try{await Rr.forgotPassword(e),i(!0),f({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch(w){const j=((v=(p=w==null?void 0:w.response)==null?void 0:p.data)==null?void 0:v.detail)||((y=(g=w==null?void 0:w.response)==null?void 0:g.data)==null?void 0:y.message)||(w==null?void 0:w.message);f({title:"Erro",description:j||"No foi possvel enviar o email. Tente novamente.",variant:"destructive"})}finally{a(!1)}};return s?n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(ke,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(Ke,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 shadow-lg",children:n.jsx(us,{className:"h-8 w-8 text-white"})}),n.jsx(Ge,{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Email Enviado!"}),n.jsxs(gr,{className:"text-lg text-gray-600",children:["Enviamos um link para redefinir sua senha para ",n.jsx("strong",{className:"text-gray-900",children:e})]})]}),n.jsxs(Ue,{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-100",children:n.jsx("p",{className:"text-sm text-gray-700 text-center font-medium",children:"Verifique sua caixa de entrada e spam. O link expira em 24 horas."})}),n.jsx(ve,{variant:"outline",className:"w-full h-12 bg-white/50 hover:bg-white/80 border-gray-200 hover:border-gray-300 transition-all duration-200",onClick:()=>i(!1),children:"Enviar para outro email"}),n.jsxs(ve,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200",onClick:()=>A(`/login?role=${o}`),children:[n.jsx(ic,{className:"mr-2 h-4 w-4"}),"Voltar ao login"]})]})]})]}):n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(ke,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(Ke,{className:"space-y-1 pb-8",children:[n.jsx(Ge,{className:"text-3xl font-bold text-center bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Esqueceu sua senha?"}),n.jsx(gr,{className:"text-center text-lg text-gray-600",children:"Digite seu email para receber um link de redefinio"})]}),n.jsxs(Ue,{children:[n.jsx(zi,{value:o,onValueChange:l,className:"mb-8",children:n.jsxs(qi,{className:"grid w-full grid-cols-2 bg-gray-100/80 p-1 rounded-xl",children:[n.jsxs(Ir,{value:"paciente",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[n.jsx(Hn,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Paciente"})]}),n.jsxs(Ir,{value:"clinica",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[n.jsx(Yf,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Clnica"})]})]})}),n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Fe,{htmlFor:"email",className:"text-sm font-semibold text-gray-700",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(Te,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:m=>r(m.target.value),className:"pl-10 h-12 input-medical-primary bg-white/50 transition-all duration-200",required:!0})]})]}),n.jsx(ve,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(eI,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar Link de Redefinio"})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs(pr,{to:`/login?role=${o}`,className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition-colors duration-200 group",children:[n.jsx(ic,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform duration-200"}),"Voltar ao login"]})})]})]})]})}function qT({children:e}){const{user:r,isAuthenticated:t,loading:a}=qo(),s=ns();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="secretaria"&&i!=="admin"?i==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):i==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function WT(){const e=()=>n.jsx(Qm,{role:"secretaria"});return n.jsx(Pm,{sidebar:e,children:n.jsx(Nm,{})})}function GT(){const{uid:e,token:r}=zo(),t=Kn(),{toast:a}=Va(),[s,i]=b.useState(""),[o,l]=b.useState(""),[A,d]=b.useState(!1),f=b.useMemo(()=>String("https://tcc-back-ktwy.onrender.com").replace(/\/$/,""),[]),h="/api/auth/password_reset_confirm/",m=`${f}/reset/${e}/${r}/`,p=()=>!s||s.length<8?(a({title:"Senha muito curta",description:"Use pelo menos 8 caracteres.",variant:"destructive"}),!1):s!==o?(a({title:"Confirmao",description:"A confirmao no confere com a nova senha.",variant:"destructive"}),!1):!0,v=async g=>{var y,w,j,C,E,U;if((y=g==null?void 0:g.preventDefault)==null||y.call(g),!!p()){d(!0);try{const k=[];h&&k.push(h),k.push("/api/auth/password_reset_confirm/"),k.push("/api/password_reset/confirm/"),k.push("/api/auth/password/reset/confirm/");const F=[{uid:e,token:r,new_password:s},{uid:e,token:r,new_password1:s,new_password2:o},{uid:e,token:r,password:s,confirm_password:o},{token:r,password:s}];let D=!1;for(const _ of k){for(const G of F)try{await we.post(_,G),D=!0;break}catch(L){if(((w=L==null?void 0:L.response)==null?void 0:w.status)===401)throw L}if(D)break}D?(a({title:"Senha redefinida!",description:"Voc j pode fazer login."}),t("/login")):window.location.href=m}catch(k){const F=((C=(j=k==null?void 0:k.response)==null?void 0:j.data)==null?void 0:C.detail)||((U=(E=k==null?void 0:k.response)==null?void 0:E.data)==null?void 0:U.message)||(k==null?void 0:k.message);a({title:"No foi possvel redefinir",description:F||"Tente novamente.",variant:"destructive"})}finally{d(!1)}}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(ke,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(Ke,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-medical-primary rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:n.jsx(AI,{className:"w-8 h-8 text-white"})}),n.jsx(Ge,{className:"text-3xl font-bold text-medical-primary",children:"Redefinir senha"}),n.jsx(gr,{className:"text-slate-600 text-base",children:"Crie uma nova senha para sua conta."})]}),n.jsxs(Ue,{className:"space-y-6 px-8 pb-8",children:[n.jsxs("form",{onSubmit:v,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Fe,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(L1,{className:"w-4 h-4"}),"Nova senha"]}),n.jsx(Te,{id:"password",type:"password",placeholder:"",value:s,onChange:g=>i(g.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Fe,{htmlFor:"confirm",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(po,{className:"w-4 h-4"}),"Confirmar nova senha"]}),n.jsx(Te,{id:"confirm",type:"password",placeholder:"",value:o,onChange:g=>l(g.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),n.jsx(ve,{type:"submit",className:"w-full h-12 btn-medical-primary text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:A,children:A?"Processando...":"Redefinir minha senha"})]}),n.jsxs(ve,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200 mt-2",onClick:()=>t("/login"),children:[n.jsx(ic,{className:"mr-2 h-4 w-4"})," Voltar ao login"]})]})]})]})}function oj(e,[r,t]){return Math.min(t,Math.max(r,e))}function iE(e){const r=b.useRef({value:e,previous:e});return b.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var YT=[" ","Enter","ArrowUp","ArrowDown"],XT=[" ","Enter"],wu="Select",[gx,xx,JT]=dx(wu),[th,TZ]=Bl(wu,[JT,eh]),vx=eh(),[ZT,wd]=th(wu),[e8,t8]=th(wu),oE=e=>{const{__scopeSelect:r,children:t,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:A,dir:d,name:f,autoComplete:h,disabled:m,required:p,form:v}=e,g=vx(r),[y,w]=b.useState(null),[j,C]=b.useState(null),[E,U]=b.useState(!1),k=ab(d),[F,D]=ud({prop:a,defaultProp:s??!1,onChange:i,caller:wu}),[_,G]=ud({prop:o,defaultProp:l,onChange:A,caller:wu}),L=b.useRef(null),T=y?v||!!y.closest("form"):!0,[J,R]=b.useState(new Set),re=Array.from(J).map(V=>V.props.value).join(";");return n.jsx(J1,{...g,children:n.jsxs(ZT,{required:p,scope:r,trigger:y,onTriggerChange:w,valueNode:j,onValueNodeChange:C,valueNodeHasChildren:E,onValueNodeHasChildrenChange:U,contentId:oc(),value:_,onValueChange:G,open:F,onOpenChange:D,dir:k,triggerPointerDownPosRef:L,disabled:m,children:[n.jsx(gx.Provider,{scope:r,children:n.jsx(e8,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(V=>{R(Y=>new Set(Y).add(V))},[]),onNativeOptionRemove:b.useCallback(V=>{R(Y=>{const H=new Set(Y);return H.delete(V),H})},[]),children:t})}),T?n.jsxs(kE,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:_,onChange:V=>G(V.target.value),disabled:m,form:v,children:[_===void 0?n.jsx("option",{value:""}):null,Array.from(J)]},re):null]})})};oE.displayName=wu;var lE="SelectTrigger",cE=b.forwardRef((e,r)=>{const{__scopeSelect:t,disabled:a=!1,...s}=e,i=vx(t),o=wd(lE,t),l=o.disabled||a,A=ba(r,o.onTriggerChange),d=xx(t),f=b.useRef("touch"),[h,m,p]=UE(g=>{const y=d().filter(C=>!C.disabled),w=y.find(C=>C.value===o.value),j=LE(y,g,w);j!==void 0&&o.onValueChange(j.value)}),v=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(Z1,{asChild:!0,...i,children:n.jsx(_r.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":DE(o.value)?"":void 0,...s,ref:A,onClick:kt(s.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&v(g)}),onPointerDown:kt(s.onPointerDown,g=>{f.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:kt(s.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(y&&g.key===" ")&&YT.includes(g.key)&&(v(),g.preventDefault())})})})});cE.displayName=lE;var AE="SelectValue",dE=b.forwardRef((e,r)=>{const{__scopeSelect:t,className:a,style:s,children:i,placeholder:o="",...l}=e,A=wd(AE,t),{onValueNodeHasChildrenChange:d}=A,f=i!==void 0,h=ba(r,A.onValueNodeChange);return ps(()=>{d(f)},[d,f]),n.jsx(_r.span,{...l,ref:h,style:{pointerEvents:"none"},children:DE(A.value)?n.jsx(n.Fragment,{children:o}):i})});dE.displayName=AE;var r8="SelectIcon",uE=b.forwardRef((e,r)=>{const{__scopeSelect:t,children:a,...s}=e;return n.jsx(_r.span,{"aria-hidden":!0,...s,ref:r,children:a||""})});uE.displayName=r8;var a8="SelectPortal",fE=e=>n.jsx(Em,{asChild:!0,...e});fE.displayName=a8;var yu="SelectContent",hE=b.forwardRef((e,r)=>{const t=wd(yu,e.__scopeSelect),[a,s]=b.useState();if(ps(()=>{s(new DocumentFragment)},[]),!t.open){const i=a;return i?Vf.createPortal(n.jsx(mE,{scope:e.__scopeSelect,children:n.jsx(gx.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(pE,{...e,ref:r})});hE.displayName=yu;var gl=10,[mE,yd]=th(yu),n8="SelectContentImpl",s8=mu("SelectContent.RemoveScroll"),pE=b.forwardRef((e,r)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:y,...w}=e,j=wd(yu,t),[C,E]=b.useState(null),[U,k]=b.useState(null),F=ba(r,K=>E(K)),[D,_]=b.useState(null),[G,L]=b.useState(null),T=xx(t),[J,R]=b.useState(!1),re=b.useRef(!1);b.useEffect(()=>{if(C)return T1(C)},[C]),M1();const V=b.useCallback(K=>{const[z,...se]=T().map(Be=>Be.ref.current),[fe]=se.slice(-1),be=document.activeElement;for(const Be of K)if(Be===be||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===z&&U&&(U.scrollTop=0),Be===fe&&U&&(U.scrollTop=U.scrollHeight),Be==null||Be.focus(),document.activeElement!==be))return},[T,U]),Y=b.useCallback(()=>V([D,C]),[V,D,C]);b.useEffect(()=>{J&&Y()},[J,Y]);const{onOpenChange:H,triggerPointerDownPosRef:Z}=j;b.useEffect(()=>{if(C){let K={x:0,y:0};const z=fe=>{var be,Be;K={x:Math.abs(Math.round(fe.pageX)-(((be=Z.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((Be=Z.current)==null?void 0:Be.y)??0))}},se=fe=>{K.x<=10&&K.y<=10?fe.preventDefault():C.contains(fe.target)||H(!1),document.removeEventListener("pointermove",z),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",z),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",se,{capture:!0})}}},[C,H,Z]),b.useEffect(()=>{const K=()=>H(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[H]);const[Ae,ee]=UE(K=>{const z=T().filter(be=>!be.disabled),se=z.find(be=>be.ref.current===document.activeElement),fe=LE(z,K,se);fe&&setTimeout(()=>fe.ref.current.focus())}),Q=b.useCallback((K,z,se)=>{const fe=!re.current&&!se;(j.value!==void 0&&j.value===z||fe)&&(_(K),fe&&(re.current=!0))},[j.value]),q=b.useCallback(()=>C==null?void 0:C.focus(),[C]),$=b.useCallback((K,z,se)=>{const fe=!re.current&&!se;(j.value!==void 0&&j.value===z||fe)&&L(K)},[j.value]),X=a==="popper"?Sy:gE,te=X===Sy?{side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return n.jsx(mE,{scope:t,content:C,viewport:U,onViewportChange:k,itemRefCallback:Q,selectedItem:D,onItemLeave:q,itemTextRefCallback:$,focusSelectedItem:Y,selectedItemText:G,position:a,isPositioned:J,searchRef:Ae,children:n.jsx(Y0,{as:s8,allowPinchZoom:!0,children:n.jsx(W0,{asChild:!0,trapped:j.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:kt(s,K=>{var z;(z=j.trigger)==null||z.focus({preventScroll:!0}),K.preventDefault()}),children:n.jsx(Xf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:n.jsx(X,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:K=>K.preventDefault(),...w,...te,onPlaced:()=>R(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:kt(w.onKeyDown,K=>{const z=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!z&&K.key.length===1&&ee(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let fe=T().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(K.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const be=K.target,Be=fe.indexOf(be);fe=fe.slice(Be+1)}setTimeout(()=>V(fe)),K.preventDefault()}})})})})})})});pE.displayName=n8;var i8="SelectItemAlignedPosition",gE=b.forwardRef((e,r)=>{const{__scopeSelect:t,onPlaced:a,...s}=e,i=wd(yu,t),o=yd(yu,t),[l,A]=b.useState(null),[d,f]=b.useState(null),h=ba(r,F=>f(F)),m=xx(t),p=b.useRef(!1),v=b.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:w,focusSelectedItem:j}=o,C=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&y&&w){const F=i.trigger.getBoundingClientRect(),D=d.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),G=w.getBoundingClientRect();if(i.dir!=="rtl"){const be=G.left-D.left,Be=_.left-be,Qe=F.left-Be,xe=F.width+Qe,ie=Math.max(xe,D.width),at=window.innerWidth-gl,gt=oj(Be,[gl,Math.max(gl,at-ie)]);l.style.minWidth=xe+"px",l.style.left=gt+"px"}else{const be=D.right-G.right,Be=window.innerWidth-_.right-be,Qe=window.innerWidth-F.right-Be,xe=F.width+Qe,ie=Math.max(xe,D.width),at=window.innerWidth-gl,gt=oj(Be,[gl,Math.max(gl,at-ie)]);l.style.minWidth=xe+"px",l.style.right=gt+"px"}const L=m(),T=window.innerHeight-gl*2,J=g.scrollHeight,R=window.getComputedStyle(d),re=parseInt(R.borderTopWidth,10),V=parseInt(R.paddingTop,10),Y=parseInt(R.borderBottomWidth,10),H=parseInt(R.paddingBottom,10),Z=re+V+J+H+Y,Ae=Math.min(y.offsetHeight*5,Z),ee=window.getComputedStyle(g),Q=parseInt(ee.paddingTop,10),q=parseInt(ee.paddingBottom,10),$=F.top+F.height/2-gl,X=T-$,te=y.offsetHeight/2,K=y.offsetTop+te,z=re+V+K,se=Z-z;if(z<=$){const be=L.length>0&&y===L[L.length-1].ref.current;l.style.bottom="0px";const Be=d.clientHeight-g.offsetTop-g.offsetHeight,Qe=Math.max(X,te+(be?q:0)+Be+Y),xe=z+Qe;l.style.height=xe+"px"}else{const be=L.length>0&&y===L[0].ref.current;l.style.top="0px";const Qe=Math.max($,re+g.offsetTop+(be?Q:0)+te)+se;l.style.height=Qe+"px",g.scrollTop=z-$+g.offsetTop}l.style.margin=`${gl}px 0`,l.style.minHeight=Ae+"px",l.style.maxHeight=T+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,y,w,i.dir,a]);ps(()=>C(),[C]);const[E,U]=b.useState();ps(()=>{d&&U(window.getComputedStyle(d).zIndex)},[d]);const k=b.useCallback(F=>{F&&v.current===!0&&(C(),j==null||j(),v.current=!1)},[C,j]);return n.jsx(l8,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:n.jsx("div",{ref:A,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:n.jsx(_r.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gE.displayName=i8;var o8="SelectPopperPosition",Sy=b.forwardRef((e,r)=>{const{__scopeSelect:t,align:a="start",collisionPadding:s=gl,...i}=e,o=vx(t);return n.jsx(eb,{...o,...i,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sy.displayName=o8;var[l8,mb]=th(yu,{}),_y="SelectViewport",xE=b.forwardRef((e,r)=>{const{__scopeSelect:t,nonce:a,...s}=e,i=yd(_y,t),o=mb(_y,t),l=ba(r,i.onViewportChange),A=b.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(gx.Slot,{scope:t,children:n.jsx(_r.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:kt(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(A.current-f.scrollTop);if(p>0){const v=window.innerHeight-gl*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),w=Math.max(g,y);if(w<v){const j=w+p,C=Math.min(v,j),E=j-C;h.style.height=C+"px",h.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}A.current=f.scrollTop})})})]})});xE.displayName=_y;var vE="SelectGroup",[c8,A8]=th(vE),d8=b.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=oc();return n.jsx(c8,{scope:t,id:s,children:n.jsx(_r.div,{role:"group","aria-labelledby":s,...a,ref:r})})});d8.displayName=vE;var wE="SelectLabel",yE=b.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=A8(wE,t);return n.jsx(_r.div,{id:s.id,...a,ref:r})});yE.displayName=wE;var c0="SelectItem",[u8,bE]=th(c0),NE=b.forwardRef((e,r)=>{const{__scopeSelect:t,value:a,disabled:s=!1,textValue:i,...o}=e,l=wd(c0,t),A=yd(c0,t),d=l.value===a,[f,h]=b.useState(i??""),[m,p]=b.useState(!1),v=ba(r,j=>{var C;return(C=A.itemRefCallback)==null?void 0:C.call(A,j,a,s)}),g=oc(),y=b.useRef("touch"),w=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(u8,{scope:t,value:a,disabled:s,textId:g,isSelected:d,onItemTextChange:b.useCallback(j=>{h(C=>C||((j==null?void 0:j.textContent)??"").trim())},[]),children:n.jsx(gx.ItemSlot,{scope:t,value:a,disabled:s,textValue:f,children:n.jsx(_r.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:kt(o.onFocus,()=>p(!0)),onBlur:kt(o.onBlur,()=>p(!1)),onClick:kt(o.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:kt(o.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:kt(o.onPointerDown,j=>{y.current=j.pointerType}),onPointerMove:kt(o.onPointerMove,j=>{var C;y.current=j.pointerType,s?(C=A.onItemLeave)==null||C.call(A):y.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:kt(o.onPointerLeave,j=>{var C;j.currentTarget===document.activeElement&&((C=A.onItemLeave)==null||C.call(A))}),onKeyDown:kt(o.onKeyDown,j=>{var E;((E=A.searchRef)==null?void 0:E.current)!==""&&j.key===" "||(XT.includes(j.key)&&w(),j.key===" "&&j.preventDefault())})})})})});NE.displayName=c0;var Oh="SelectItemText",jE=b.forwardRef((e,r)=>{const{__scopeSelect:t,className:a,style:s,...i}=e,o=wd(Oh,t),l=yd(Oh,t),A=bE(Oh,t),d=t8(Oh,t),[f,h]=b.useState(null),m=ba(r,w=>h(w),A.onItemTextChange,w=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,w,A.value,A.disabled)}),p=f==null?void 0:f.textContent,v=b.useMemo(()=>n.jsx("option",{value:A.value,disabled:A.disabled,children:p},A.value),[A.disabled,A.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return ps(()=>(g(v),()=>y(v)),[g,y,v]),n.jsxs(n.Fragment,{children:[n.jsx(_r.span,{id:A.textId,...i,ref:m}),A.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Vf.createPortal(i.children,o.valueNode):null]})});jE.displayName=Oh;var BE="SelectItemIndicator",CE=b.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e;return bE(BE,t).isSelected?n.jsx(_r.span,{"aria-hidden":!0,...a,ref:r}):null});CE.displayName=BE;var Ey="SelectScrollUpButton",SE=b.forwardRef((e,r)=>{const t=yd(Ey,e.__scopeSelect),a=mb(Ey,e.__scopeSelect),[s,i]=b.useState(!1),o=ba(r,a.onScrollButtonChange);return ps(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=A.scrollTop>0;i(d)};const A=t.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?n.jsx(EE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=t;l&&A&&(l.scrollTop=l.scrollTop-A.offsetHeight)}}):null});SE.displayName=Ey;var Fy="SelectScrollDownButton",_E=b.forwardRef((e,r)=>{const t=yd(Fy,e.__scopeSelect),a=mb(Fy,e.__scopeSelect),[s,i]=b.useState(!1),o=ba(r,a.onScrollButtonChange);return ps(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=A.scrollHeight-A.clientHeight,f=Math.ceil(A.scrollTop)<d;i(f)};const A=t.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?n.jsx(EE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=t;l&&A&&(l.scrollTop=l.scrollTop+A.offsetHeight)}}):null});_E.displayName=Fy;var EE=b.forwardRef((e,r)=>{const{__scopeSelect:t,onAutoScroll:a,...s}=e,i=yd("SelectScrollButton",t),o=b.useRef(null),l=xx(t),A=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>A(),[A]),ps(()=>{var f;const d=l().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),n.jsx(_r.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:kt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:kt(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:kt(s.onPointerLeave,()=>{A()})})}),f8="SelectSeparator",FE=b.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e;return n.jsx(_r.div,{"aria-hidden":!0,...a,ref:r})});FE.displayName=f8;var ky="SelectArrow",h8=b.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=vx(t),i=wd(ky,t),o=yd(ky,t);return i.open&&o.position==="popper"?n.jsx(tb,{...s,...a,ref:r}):null});h8.displayName=ky;var m8="SelectBubbleInput",kE=b.forwardRef(({__scopeSelect:e,value:r,...t},a)=>{const s=b.useRef(null),i=ba(a,s),o=iE(r);return b.useEffect(()=>{const l=s.current;if(!l)return;const A=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(A,"value").set;if(o!==r&&f){const h=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(h)}},[o,r]),n.jsx(_r.select,{...t,style:{...h4,...t.style},ref:i,defaultValue:r})});kE.displayName=m8;function DE(e){return e===""||e===void 0}function UE(e){const r=Si(e),t=b.useRef(""),a=b.useRef(0),s=b.useCallback(o=>{const l=t.current+o;r(l),(function A(d){t.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>A(""),1e3))})(l)},[r]),i=b.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,s,i]}function LE(e,r,t){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let o=p8(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const A=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return A!==t?A:void 0}function p8(e,r){return e.map((t,a)=>e[(r+a)%e.length])}var g8=oE,IE=cE,x8=dE,v8=uE,w8=fE,PE=hE,y8=xE,QE=yE,RE=NE,b8=jE,N8=CE,ME=SE,TE=_E,OE=FE;const qr=g8,Wr=x8,Vr=b.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(IE,{ref:a,className:lt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[r,n.jsx(v8,{asChild:!0,children:n.jsx(D1,{className:"h-4 w-4 opacity-50"})})]}));Vr.displayName=IE.displayName;const HE=b.forwardRef(({className:e,...r},t)=>n.jsx(ME,{ref:t,className:lt("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(H6,{className:"h-4 w-4"})}));HE.displayName=ME.displayName;const $E=b.forwardRef(({className:e,...r},t)=>n.jsx(TE,{ref:t,className:lt("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(D1,{className:"h-4 w-4"})}));$E.displayName=TE.displayName;const zr=b.forwardRef(({className:e,children:r,position:t="popper",...a},s)=>n.jsx(w8,{children:n.jsxs(PE,{ref:s,className:lt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...a,children:[n.jsx(HE,{}),n.jsx(y8,{className:lt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),n.jsx($E,{})]})}));zr.displayName=PE.displayName;const KE=b.forwardRef(({className:e,...r},t)=>n.jsx(QE,{ref:t,className:lt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));KE.displayName=QE.displayName;const rt=b.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(RE,{ref:a,className:lt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(N8,{children:n.jsx(k1,{className:"h-4 w-4"})})}),n.jsx(b8,{children:r})]}));rt.displayName=RE.displayName;const j8=b.forwardRef(({className:e,...r},t)=>n.jsx(OE,{ref:t,className:lt("-mx-1 my-1 h-px bg-muted",e),...r}));j8.displayName=OE.displayName;const ti=!1,ma={async getDashboard(){return(await we.get("/admin/dashboard/")).data},async getSolicitacoes(e={},r={}){var s;const t=lf(),a=Zv(Jv(e));for(const i of t){const l=[Qo(i)],A=[];A.push(a),Object.keys(a).length&&A.push({});for(const d of l)for(const f of A)try{const m=(await we.get(d,{params:f,signal:r==null?void 0:r.signal})).data;return(Array.isArray(m==null?void 0:m.results)?m.results:Array.isArray(m)?m:[]).map(VE)}catch(h){const m=(s=h==null?void 0:h.response)==null?void 0:s.status;if(m===401||m===403)throw h;continue}}return[]},async getSolicitacao(e){var a;const r=lf();let t;for(const s of r){const i=Qo(s)+`${e}/`;try{const o=await we.get(i);return C8(o.data||{})}catch(o){const l=(a=o==null?void 0:o.response)==null?void 0:a.status;if(l===401||l===403)throw o;t=o;continue}}throw t||new Error("Nenhum endpoint para detalhe de solicitao foi encontrado.")},async aprovarSolicitacao(e,r=""){var a,s,i;const t=lf();for(const o of t){const l=Qo(o),A=[{method:"post",url:`${l}${e}/aprovar/`,body:{observacoes:r}},{method:"post",url:`${l}${e}/approve/`,body:{notes:r}},{method:"post",url:`${l}${e}/aprovacao/`,body:{observacoes:r}},{method:"post",url:`${l}${e}/status/`,body:{status:"approved",observacoes:r}},{method:"patch",url:`${l}${e}/`,body:{status:"approved",observacoes:r}},{method:"put",url:`${l}${e}/`,body:{status:"approved",observacoes:r}}];for(const d of A)try{const f=await we[d.method](d.url,d.body);(async()=>{try{await ma.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{observacoes:r}})}catch{}})();const h=f.data;try{let m=((a=h==null?void 0:h.medico)==null?void 0:a.id)||(h==null?void 0:h.medico_id)||(h==null?void 0:h.medico)||null;if(!m)try{const p=await ma.getSolicitacao(e).catch(()=>null);m=((s=p==null?void 0:p.medico)==null?void 0:s.id)||(p==null?void 0:p.medico_id)||(p==null?void 0:p.medico)||null}catch{}if(m){const p="/api/medicos/",v=p.endsWith("/")?p:`${p}/`,g={status:"active",situacao:"active",state:"active"},y=[{m:"patch",u:`${v}${m}/`,b:g},{m:"put",u:`${v}${m}/`,b:g}];for(const j of y)try{await we[j.m](j.u,j.b);break}catch{}const w=[`${v}${m}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const j of w){const C=j.endsWith("/")?j:`${j}/`;try{await we.patch(C,g);break}catch{}}}}catch{}return(async()=>{try{await ma.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{observacoes:r}})}catch{}})(),h}catch(f){const h=(i=f==null?void 0:f.response)==null?void 0:i.status;if(h===401||h===403)throw f;continue}}},async rejeitarSolicitacao(e,r){var a,s,i;const t=lf();for(const o of t){const l=Qo(o),A=[{method:"post",url:`${l}${e}/rejeitar/`,body:{motivo:r}},{method:"post",url:`${l}${e}/reject/`,body:{reason:r}},{method:"post",url:`${l}${e}/status/`,body:{status:"rejected",motivo:r}},{method:"patch",url:`${l}${e}/`,body:{status:"rejected",motivo:r}},{method:"put",url:`${l}${e}/`,body:{status:"rejected",motivo:r}}];for(const d of A)try{const f=await we[d.method](d.url,d.body);(async()=>{try{await ma.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{motivo:r}})}catch{}})();const h=f.data;try{let m=((a=h==null?void 0:h.medico)==null?void 0:a.id)||(h==null?void 0:h.medico_id)||(h==null?void 0:h.medico)||null;if(!m)try{const p=await ma.getSolicitacao(e).catch(()=>null);m=((s=p==null?void 0:p.medico)==null?void 0:s.id)||(p==null?void 0:p.medico_id)||(p==null?void 0:p.medico)||null}catch{}if(m){const p="/api/medicos/",v=p.endsWith("/")?p:`${p}/`,g={status:"rejected",situacao:"rejected",state:"rejected"},y=[{m:"patch",u:`${v}${m}/`,b:g},{m:"put",u:`${v}${m}/`,b:g}];for(const j of y)try{await we[j.m](j.u,j.b);break}catch{}const w=[`${v}${m}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const j of w){const C=j.endsWith("/")?j:`${j}/`;try{await we.patch(C,g);break}catch{}}}}catch{}return(async()=>{try{await ma.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{motivo:r}})}catch{}})(),h}catch(f){const h=(i=f==null?void 0:f.response)==null?void 0:i.status;if(h===401||h===403)throw f;continue}}},async visualizarDocumento(e){try{if(e.startsWith("http")){window.open(e,"_blank");return}const r=lf();let t;for(const a of r){const s=[`${Qo(a)}documentos/visualizar/${e}`,`${Qo(a)}documentos/${e}`,`/media/documentos/${e}`,`/static/documentos/${e}`,e];for(const i of s)try{if((await we.head(i)).status===200){window.open(i,"_blank");return}}catch(o){t=o;continue}}throw t||new Error("Documento no encontrado")}catch(r){throw console.error("Erro ao visualizar documento:",r),new Error("No foi possvel visualizar o documento")}},async baixarDocumento(e,r="documento"){try{if(e.startsWith("http")){const s=document.createElement("a");s.href=e,s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s);return}const t=lf();let a;for(const s of t){const i=[`${Qo(s)}documentos/download/${e}`,`${Qo(s)}documentos/${e}`,`/media/documentos/${e}`,`/static/documentos/${e}`,e];for(const o of i)try{const l=await we.get(o,{responseType:"blob"});if(l.status===200){const A=new Blob([l.data]),d=window.URL.createObjectURL(A),f=document.createElement("a");f.href=d,f.download=r,document.body.appendChild(f),f.click(),document.body.removeChild(f),window.URL.revokeObjectURL(d);return}}catch(l){a=l;continue}}throw a||new Error("Documento no encontrado")}catch(t){throw console.error("Erro ao baixar documento:",t),new Error("No foi possvel baixar o documento")}},async getAuditoria(e={}){return(await we.get("/admin/auditoria/",{params:e})).data},async registrarAuditoria(e={}){const r=await Rr.getCurrentUser(),t=e.action||e.acao||e.type,a=e.entity||e.entidade||"",s=e.entity_id||e.id||e.solicitacao_id||e.target_id||"",i=e.status||"success",o=typeof e.metadata=="object"&&e.metadata!==null?e.metadata:{},l=typeof e.detalhes=="object"&&e.detalhes!==null?e.detalhes:{},A={...o,...l,actor:(r==null?void 0:r.id)||(r==null?void 0:r.username)||"system",source:"frontend"},d={action:t,entity:a,entity_id:s,status:i,metadata:A};try{await we.post("/admin/auditoria/",d)}catch{}},async getUsuarios(e={}){var a;const r=Zv(Jv(e)),t=ew();for(const s of t){const i=Qo(s);try{const l=(await we.get(i,{params:r})).data,d=(Array.isArray(l==null?void 0:l.results)?l.results:Array.isArray(l)?l:[]).map(h=>({...h,id:(h==null?void 0:h.id)??(h==null?void 0:h.pk)??(h==null?void 0:h.uuid)??(h==null?void 0:h.user_id)??(h==null?void 0:h.usuario_id)??null})),f=typeof(l==null?void 0:l.count)=="number"?l.count:d.length;return{results:d,count:f}}catch(o){if(((a=o==null?void 0:o.response)==null?void 0:a.status)===401)throw o;continue}}return{results:[],count:0}},async getClinicas(e={}){var a;const r=B8(),t=Zv(Jv(e));for(const s of r){const o=[Qo(s)],l=[];l.push(t),Object.keys(t).length&&l.push({});for(const A of o)for(const d of l)try{const h=(await we.get(A,{params:d})).data,m=Array.isArray(h==null?void 0:h.results)?h.results:Array.isArray(h)?h:[],p=typeof(h==null?void 0:h.count)=="number"?h.count:m.length;return{results:m,count:p}}catch(f){if(((a=f==null?void 0:f.response)==null?void 0:a.status)===401)throw f;continue}}return{results:[],count:0}},async updateUsuario(e,r={}){var o,l,A,d;const t=e||(r==null?void 0:r.id);if(!t)throw new Error("ID do usurio  obrigatrio para atualizao");const a={...r};a.role&&a.tipo==null&&(a.tipo=a.role),a.is_active!=null&&a.ativo==null&&(a.ativo=!!a.is_active),(a.first_name||a.last_name)&&a.nome==null&&(a.nome=[a.first_name||"",a.last_name||""].filter(Boolean).join(" ").trim()||void 0);const s=ew();let i=null;for(const f of s){const h=Qo(f);try{return(await we.patch(`${h}${t}/`,a)).data}catch(m){if(((o=m==null?void 0:m.response)==null?void 0:o.status)===401)throw m;i=m}try{return(await we.put(`${h}${t}/`,a)).data}catch(m){if(((l=m==null?void 0:m.response)==null?void 0:l.status)===401)throw m;i=m}try{return(await we.patch(h,{id:t,...a})).data}catch(m){if(((A=m==null?void 0:m.response)==null?void 0:A.status)===401)throw m;i=m}for(const m of["update/","editar/","edicao/"]){const p=h+m;try{return(await we.post(p,{id:t,...a})).data}catch(v){if(((d=v==null?void 0:v.response)==null?void 0:d.status)===401)throw v;i=v}}}throw i||new Error("Falha ao atualizar usurio: nenhum endpoint aceitou a requisio.")},async removerUsuariosEmMassa(e=[]){var i,o,l,A;const r=(Array.isArray(e)?e:[e]).filter(Boolean);if(r.length===0)return{success:!0,deleted:[],detail:"no-op"};const t=ew();let a=null;const s=[{suffix:"remover/",method:"post",bodyKey:"ids"},{suffix:"delete/",method:"post",bodyKey:"ids"},{suffix:"bulk_delete/",method:"post",bodyKey:"ids"},{suffix:"bulk-delete/",method:"post",bodyKey:"ids"},{suffix:"excluir/",method:"post",bodyKey:"ids"}];for(const d of t){const f=Qo(d);for(const m of s){const p=f+m.suffix;try{return(await we.post(p,{[m.bodyKey]:r})).data}catch(v){if(((i=v==null?void 0:v.response)==null?void 0:i.status)===401)throw v;a=v}}try{const m=f;return(await we.delete(m,{data:{ids:r}})).data}catch(m){if(((o=m==null?void 0:m.response)==null?void 0:o.status)===401)throw m;a=m}try{const m=encodeURIComponent(r.join(",")),p=`${f}?ids=${m}`;return(await we.delete(p)).data}catch(m){if(((l=m==null?void 0:m.response)==null?void 0:l.status)===401)throw m;a=m}let h=!1;for(const m of r){const p=[`${f}${m}/`,`${f}delete/${m}/`,`${f}remover/${m}/`];let v=!1;for(const g of p)try{await we.delete(g),v=!0;break}catch(y){if(((A=y==null?void 0:y.response)==null?void 0:A.status)===401)throw y;a=y}if(v)h=!0;else try{await we.patch(`${f}${m}/`,{action:"delete"}),h=!0}catch{}}if(h)return{success:!0}}throw a||new Error("Falha ao excluir usurios: nenhum endpoint aceitou a requisio.")},async createUsuario(e={}){return(await we.post("/admin/usuarios/",e)).data}};function Qo(e){if(!e)return"/";const r=String(e);return r.endsWith("/")?r:r+"/"}function Jv(e={}){const r={...e};return r.limit!=null&&r.page_size==null&&(r.page_size=r.limit),r.page_size!=null&&r.limit==null&&(r.limit=r.page_size),Object.keys(r).forEach(t=>{(r[t]===void 0||r[t]===null||r[t]==="")&&delete r[t]}),r}function Zv(e={}){const r=new Set(["status","ordering","search","limit","page","page_size","offset","clinica","especialidade","tipo","urgencia"]),t={};for(const[a,s]of Object.entries(e||{}))r.has(a)&&(t[a]=s);return t}function lf(){const e="/api/solicitacaomedico/".trim(),r="/api/solicitacaomedico/".trim(),t="/api/solicitacoes/".trim(),a=Array.from(new Set([e,r,t].filter(Boolean))),s=["/solicitacaomedico/","/solicitacao-medico/","/solicitacaomedicomodel/","/solicitacao-medico-model/","/admin/solicitacoes/"],i=["/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/solicitacaomedico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedicomodel/","/solicitacoes/solicitacao-medico-model/","/meu_app/solicitacaomedico/","/meu_app/solicitacao-medico/"];return Array.from(new Set([...s,...a,...i].filter(Boolean)))}function ew(){const e="".trim(),r="".trim(),t="/api/users/".trim(),a=Array.from(new Set([e,r,t].filter(Boolean))),s=["/admin/usuarios/","/usuarios/","/admin/users/","/users/","/api/users/"];return Array.from(new Set([...a,...s].filter(Boolean)))}function B8(){const e="".trim(),r="".trim(),t=Array.from(new Set([e,r].filter(Boolean))),a=["/admin/clinicas/","/clinicas/","/admin/clinica/","/clinica/"];return Array.from(new Set([...t,...a].filter(Boolean)))}function VE(e={}){var r,t,a,s,i,o,l,A,d,f,h,m,p,v,g,y,w,j,C,E,U,k,F;return{id:e.id||e.pk||e.uuid||e.codigo||e.codigo_id||0,tipo:String(e.tipo||e.type||e.kind||"medico").toLowerCase(),nome:e.nome||e.name||((r=e.usuario)==null?void 0:r.nome)||((t=e.user)==null?void 0:t.name)||((a=e.medico)==null?void 0:a.nome)||((s=e.clinica)==null?void 0:s.nome)||"",email:e.email||((i=e.usuario)==null?void 0:i.email)||((o=e.user)==null?void 0:o.email)||((A=(l=e.medico)==null?void 0:l.user)==null?void 0:A.email)||((d=e.clinica)==null?void 0:d.email)||"",telefone:e.telefone||e.phone||e.celular||((f=e.usuario)==null?void 0:f.telefone)||((h=e.user)==null?void 0:h.telefone)||((m=e.medico)==null?void 0:m.telefone)||((v=(p=e.medico)==null?void 0:p.contato)==null?void 0:v.telefone)||((y=(g=e.medico)==null?void 0:g.user)==null?void 0:y.telefone)||((w=e.clinica)==null?void 0:w.telefone)||"",crm:e.crm||((j=e.medico)==null?void 0:j.crm)||e.crm_numero||"",cnpj:e.cnpj||((C=e.clinica)==null?void 0:C.cnpj)||"",responsavel:e.responsavel||e.responsavel_tecnico||((E=e.clinica)==null?void 0:E.responsavel)||"",status:(()=>{const D=(e.status||e.situacao||e.state||"pending").toString().toLowerCase();return{pendente:"pending","em anlise":"pending","em analise":"pending",em_analise:"pending",aprovado:"approved",aprovada:"approved",rejeitado:"rejected",rejeitada:"rejected",reprovado:"rejected",reprovada:"rejected"}[D]||D})(),dataEnvio:e.dataEnvio||e.created_at||e.createdAt||e.data_criacao||e.submitted_at||new Date().toISOString(),dataAprovacao:e.dataAprovacao||e.aprovado_em||e.data_aprovacao||e.approved_at||null,dataRejeicao:e.dataRejeicao||e.rejeitado_em||e.data_rejeicao||e.rejected_at||null,documentos:Array.isArray(e.documentos)?e.documentos:e.documents||[],urgencia:String(e.urgencia||e.priority||"normal").toLowerCase(),observacoes:e.observacoes||e.notes||e.comentarios||"",aprovadoPor:e.aprovadoPor||e.approved_by||"",rejeitadoPor:e.rejeitadoPor||e.rejected_by||"",motivoRejeicao:e.motivoRejeicao||e.motivo||e.reason||"",especialidade:e.especialidade||e.especialidade_nome||((k=(U=e.medico)==null?void 0:U.especialidade)==null?void 0:k.nome)||((F=e.medico)==null?void 0:F.especialidade)||""}}function C8(e={}){var j,C,E,U,k,F,D,_,G,L,T,J,R,re,V,Y,H,Z,Ae,ee,Q;const r=VE(e),t=e.dataAprovacao||e.aprovado_em||e.data_aprovacao||e.approved_at||e.dataAprovado||null,a=e.dataRejeicao||e.rejeitado_em||e.data_rejeicao||e.rejected_at||e.dataRejeitado||null,s=[],i=q=>{q&&(Array.isArray(q)?s.push(...q.filter(Boolean)):typeof q=="object"?s.push(...Object.values(q).filter(Boolean)):typeof q=="string"&&s.push(q))};i(e.documentos),i(e.docs),i(e.arquivos),i(e.attachments),i(e.files);const o=[e.diplomaMedicina,e.certificadoResidencia,e.comprovanteExperiencia,e.documento_identidade,e.comprovante_endereco,e.diploma_medicina,e.certificado_residencia,e.comprovante_experiencia,e.rg,e.cpf].filter(Boolean);s.push(...o);const l=q=>{if(!q)return null;if(typeof q=="string")return{nome:(q.split("/").pop()||"Documento").trim(),tamanho:"",dataUpload:e.dataEnvio||e.created_at||e.createdAt||e.submitted_at||new Date().toISOString(),url:q};const $=q.nome||q.name||q.filename||q.file_name||q.titulo||q.tipo||"Documento",X=q.tamanho||q.size||q.file_size||"",te=q.dataUpload||q.data_upload||q.uploaded_at||q.created_at||r.dataEnvio||new Date().toISOString(),K=q.url||q.link||q.path||q.file||q.arquivo||q.location||"";return{nome:$,tamanho:X,dataUpload:te,url:K}},A=s.map(l).filter(Boolean),d=e.endereco||((j=e.medico)==null?void 0:j.endereco)||((C=e.clinica)==null?void 0:C.endereco)||{},f=typeof d=="string"?{cep:e.cep||"",logradouro:d,bairro:"",cidade:"",estado:""}:{cep:d.cep||e.cep||"",logradouro:d.logradouro||d.rua||d.endereco||"",bairro:d.bairro||"",cidade:d.cidade||d.municipio||"",estado:d.estado||d.uf||""},h=e.instituicaoFormacao||e.instituicao_formacao||((E=e.formacao)==null?void 0:E.instituicao)||((k=(U=e.medico)==null?void 0:U.formacao)==null?void 0:k.instituicao)||"",m=e.anoFormacao||e.ano_formacao||((F=e.formacao)==null?void 0:F.ano)||((_=(D=e.medico)==null?void 0:D.formacao)==null?void 0:_.ano)||"",p=e.residencia||((L=(G=e.formacao)==null?void 0:G.residencia)==null?void 0:L.nome)||((J=(T=e.medico)==null?void 0:T.residencia)==null?void 0:J.nome)||"",v=e.instituicaoResidencia||e.instituicao_residencia||((re=(R=e.formacao)==null?void 0:R.residencia)==null?void 0:re.instituicao)||((Y=(V=e.medico)==null?void 0:V.residencia)==null?void 0:Y.instituicao)||"",g=e.anoResidencia||e.ano_residencia||((Z=(H=e.formacao)==null?void 0:H.residencia)==null?void 0:Z.ano)||((ee=(Ae=e.medico)==null?void 0:Ae.residencia)==null?void 0:ee.ano)||"",y=e.experiencia||e.experiencias||((Q=e.medico)==null?void 0:Q.experiencia)||"",w=e.motivacao||e.motivo||e.justificativa||e.reason||"";return{...r,dataAprovacao:t,dataRejeicao:a,documentos:A.length?A:r.documentos,endereco:f,instituicaoFormacao:h,anoFormacao:m,residencia:p,instituicaoResidencia:v,anoResidencia:g,experiencia:y,motivacao:w}}function zE(e,r=300){const[t,a]=b.useState(e);return b.useEffect(()=>{const s=setTimeout(()=>{a(e)},r);return()=>{clearTimeout(s)}},[e,r]),t}function S8(){const[e,r]=b.useState(""),[t,a]=b.useState("all"),[s,i]=b.useState("all"),[o,l]=b.useState("all"),[A,d]=b.useState(!1),[f,h]=b.useState([]),m=b.useRef(null),{toast:p}=Va(),v=zE(e,500),g=b.useMemo(()=>({search:md(v.trim()),status:t,tipo:s,urgencia:o}),[v,t,s,o]),y=b.useCallback(async(F,D)=>{try{const _=await ma.getSolicitacoes(F,{signal:D});return Array.isArray(_==null?void 0:_.results)?_.results:Array.isArray(_)?_:[]}catch(_){throw(_==null?void 0:_.name)!=="AbortError"&&console.error("Erro ao buscar solicitaes:",_),_}},[]);b.useEffect(()=>{d(!0);const F=setTimeout(async()=>{if(m.current)try{m.current.abort()}catch{}const D=new AbortController;m.current=D;try{const _={};g.status!=="all"&&(_.status=g.status),g.tipo!=="all"&&(_.tipo=g.tipo),g.urgencia!=="all"&&(_.urgencia=g.urgencia),g.search&&(_.search=g.search);const G=await y(_,D.signal);h(G)}catch(_){(_==null?void 0:_.name)!=="AbortError"&&h([])}finally{d(!1)}},200);return()=>clearTimeout(F)},[g,y]);const w=b.useCallback(async F=>{var D;d(!0);try{const _=await ma.aprovarSolicitacao(F);h(G=>G.map(L=>L.id===F?{...L,status:"approved",aprovadoPor:(_==null?void 0:_.approved_by)||L.aprovadoPor||"",dataAprovacao:(_==null?void 0:_.approved_at)||L.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:L)),p({title:"Solicitao aprovada",description:"A solicitao foi aprovada com sucesso."})}catch(_){const G=(D=_==null?void 0:_.response)==null?void 0:D.status;p({title:G===403?"Sem permisso":"Erro ao aprovar",description:G===403?"Seu perfil no possui permisso para aprovar.":"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{d(!1)}},[p]),j=b.useCallback(async F=>{var D;d(!0);try{const _=await ma.rejeitarSolicitacao(F,"Rejeitada pela Secretaria");h(G=>G.map(L=>L.id===F?{...L,status:"rejected",rejeitadoPor:(_==null?void 0:_.rejected_by)||L.rejeitadoPor||"",dataRejeicao:(_==null?void 0:_.rejected_at)||L.dataRejeicao||new Date().toISOString(),motivoRejeicao:(_==null?void 0:_.reason)||L.motivoRejeicao||"Rejeitada pela Secretaria"}:L)),p({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."})}catch(_){const G=(D=_==null?void 0:_.response)==null?void 0:D.status;p({title:G===403?"Sem permisso":"Erro ao rejeitar",description:G===403?"Seu perfil no possui permisso para rejeitar.":"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{d(!1)}},[p]),C=({status:F})=>{const D=String(F||"pending").toLowerCase();return D==="approved"?n.jsx(lr,{variant:"success",children:"Aprovada"}):D==="rejected"?n.jsx(lr,{variant:"destructive",children:"Rejeitada"}):n.jsx(lr,{variant:"warning",children:"Pendente"})},E=({solicitacao:F})=>n.jsxs("div",{className:"p-4 rounded-xl border bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[F.tipo==="medico"?n.jsx(ea,{className:"h-5 w-5 text-medical-primary"}):n.jsx(Yf,{className:"h-5 w-5 text-medical-primary"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-medical-primary",children:F.nome||""}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Enviada em ",new Date(F.dataEnvio).toLocaleDateString()]})]})]}),n.jsx(C,{status:F.status})]}),n.jsxs("div",{className:"mt-3 text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx(wr,{className:"h-4 w-4"}),F.especialidade?n.jsxs("span",{children:["Especialidade: ",F.especialidade]}):n.jsxs("span",{children:["Tipo: ",F.tipo]})]}),F.status==="rejected"&&F.motivoRejeicao&&n.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-3 rounded-lg mt-3",children:n.jsxs("p",{className:"text-red-800 text-xs font-medium",children:[n.jsx("strong",{children:"Rejeitado:"})," ",F.motivoRejeicao,F.rejeitadoPor&&n.jsxs(n.Fragment,{children:[" por ",F.rejeitadoPor]})]})}),n.jsxs("div",{className:"flex gap-3 pt-3",children:[n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:n.jsxs(pr,{to:`/secretaria/solicitacoes/${F.id}`,children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),F.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(ve,{size:"sm",onClick:()=>w(F.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(us,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),n.jsxs(ve,{variant:"destructive",size:"sm",onClick:()=>j(F.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]}),U=b.useMemo(()=>f.filter(F=>{var T,J;const D=t==="all"||F.status===t,_=s==="all"||F.tipo===s,G=o==="all"||String(F.urgencia||"normal").toLowerCase()===o,L=!g.search||((T=F.nome)==null?void 0:T.toLowerCase().includes(g.search.toLowerCase()))||((J=F.email)==null?void 0:J.toLowerCase().includes(g.search.toLowerCase()));return D&&_&&G&&L}),[f,t,s,o,g.search]),k=b.useMemo(()=>({pending:U.filter(F=>F.status==="pending"),approved:U.filter(F=>F.status==="approved"),rejected:U.filter(F=>F.status==="rejected")}),[U]);return n.jsxs("div",{className:"px-6 py-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(tA,{className:"h-6 w-6 text-medical-primary"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Solicitaes"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie solicitaes recebidas (mdicos e clnicas)"})]})]}),n.jsxs(ke,{className:"border-0 shadow-md",children:[n.jsxs(Ke,{children:[n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(lu,{className:"h-5 w-5"})," Filtros"]}),n.jsx(gr,{children:"Refine a busca por status, tipo e urgncia"})]}),n.jsx(Ue,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Te,{placeholder:"Buscar por nome ou email",value:e,onChange:F=>r(F.target.value),className:"pl-9"})]}),n.jsxs(qr,{value:t,onValueChange:a,children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"all",children:"Todos"}),n.jsx(rt,{value:"pending",children:"Pendentes"}),n.jsx(rt,{value:"approved",children:"Aprovadas"}),n.jsx(rt,{value:"rejected",children:"Rejeitadas"})]})]}),n.jsxs(qr,{value:s,onValueChange:i,children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"all",children:"Todos"}),n.jsx(rt,{value:"medico",children:"Mdico"}),n.jsx(rt,{value:"clinica",children:"Clnica"})]})]}),n.jsxs(qr,{value:o,onValueChange:l,children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Urgncia"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"all",children:"Todas"}),n.jsx(rt,{value:"normal",children:"Normal"}),n.jsx(rt,{value:"alta",children:"Alta"}),n.jsx(rt,{value:"critica",children:"Crtica"})]})]})]})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs(zi,{defaultValue:"todas",className:"space-y-6",children:[n.jsxs(qi,{children:[n.jsx(Ir,{value:"todas",children:"Todas"}),n.jsx(Ir,{value:"pendentes",children:"Pendentes"}),n.jsx(Ir,{value:"aprovadas",children:"Aprovadas"}),n.jsx(Ir,{value:"rejeitadas",children:"Rejeitadas"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Tr,{value:"todas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):U.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Ns,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:U.map(F=>n.jsx(E,{solicitacao:F},F.id))})}),n.jsx(Tr,{value:"pendentes",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):k.pending.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Or,{className:"h-8 w-8 text-amber-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao pendente."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:k.pending.map(F=>n.jsx(E,{solicitacao:F},F.id))})}),n.jsx(Tr,{value:"aprovadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):k.approved.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(us,{className:"h-8 w-8 text-green-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao aprovada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:k.approved.map(F=>n.jsx(E,{solicitacao:F},F.id))})}),n.jsx(Tr,{value:"rejeitadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):k.rejected.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(fs,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao rejeitada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:k.rejected.map(F=>n.jsx(E,{solicitacao:F},F.id))})})]})]})})]})}const oa=b.forwardRef(({className:e,...r},t)=>n.jsx("textarea",{className:lt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));oa.displayName="Textarea";function _8(){const{id:e}=zo(),r=Kn(),{toast:t}=Va(),[a,s]=b.useState(!1),[i,o]=b.useState(""),[l,A]=b.useState(!0),[d,f]=b.useState(null);b.useEffect(()=>{let g=!0;return(async()=>{try{const w=await ma.getSolicitacao(e);g&&f(w)}catch{t({title:"Erro ao carregar",description:"No foi possvel carregar a solicitao.",variant:"destructive"}),r("/secretaria/solicitacoes")}finally{g&&A(!1)}})(),()=>{g=!1}},[e]);const h=async()=>{var g;s(!0);try{await ma.aprovarSolicitacao(e,"Aprovada pela Secretaria"),t({title:"Solicitao aprovada!",description:"Solicitao aprovada com sucesso."}),r("/secretaria/solicitacoes")}catch(y){const w=(g=y==null?void 0:y.response)==null?void 0:g.status;t({title:w===403?"Sem permisso":"Erro",description:w===403?"Seu perfil no possui permisso para aprovar.":"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{s(!1)}},m=async()=>{var g;if(!i.trim()){t({title:"Motivo obrigatrio",description:"Por favor, informe o motivo da rejeio.",variant:"destructive"});return}s(!0);try{await ma.rejeitarSolicitacao(e,i.trim()),t({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."}),r("/secretaria/solicitacoes")}catch(y){const w=(g=y==null?void 0:y.response)==null?void 0:g.status;t({title:w===403?"Sem permisso":"Erro",description:w===403?"Seu perfil no possui permisso para rejeitar.":"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{s(!1)}},p=g=>{switch(g){case"pending":return n.jsxs(lr,{variant:"warning",className:"",children:[n.jsx(tA,{className:"mr-1 h-3 w-3"})," Aguardando Anlise"]});case"approved":return n.jsxs(lr,{variant:"success",className:"",children:[n.jsx(us,{className:"mr-1 h-3 w-3"})," Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"destructive",className:"",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"})," Rejeitado"]});default:return null}};if(l)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ve,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(ic,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),n.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitao"})]})]})});if(!d)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ve,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(ic,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitao no encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const v=(d==null?void 0:d.endereco)||{};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ve,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx(ic,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitao"}),n.jsx("p",{className:"text-muted-foreground",children:"Anlise da solicitao recebida"})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`app-quick-icon ${d.tipo==="medico"?"info":"primary"} h-12 w-12`,children:d.tipo==="medico"?n.jsx(ea,{className:"h-6 w-6"}):n.jsx(Yf,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-xl",children:d.nome}),n.jsx(gr,{children:d.tipo==="medico"?"Solicitao de Cadastro Mdico":"Solicitao de Cadastro de Clnica"})]})]}),p(d.status)]})}),n.jsxs(Ue,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.email||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aA,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.telefone||d.celular||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Especialidade / Tipo"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.especialidade||d.tipo})]})]})]}),n.jsx(hs,{}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Endereo"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{children:[v==null?void 0:v.logradouro," ",v==null?void 0:v.numero]}),n.jsx("div",{children:v==null?void 0:v.bairro}),n.jsxs("div",{children:[v==null?void 0:v.cidade," - ",v==null?void 0:v.estado]}),n.jsx("div",{children:v==null?void 0:v.cep})]})]})})]})]})}),n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Aes"}),n.jsx(gr,{children:"Tomar deciso sobre a solicitao"})]}),n.jsx(Ue,{className:"space-y-4",children:d.status==="pending"?n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(ve,{onClick:h,disabled:a,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:[n.jsx(us,{className:"mr-2 h-4 w-4"})," Aprovar"]}),n.jsxs(ve,{variant:"destructive",onClick:m,disabled:a,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"})," Rejeitar"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Motivo da Rejeio"}),n.jsx(oa,{placeholder:"Informe o motivo da rejeio",value:i,onChange:g=>o(g.target.value)})]})]}):d.status==="approved"?n.jsx(lr,{variant:"success",className:"",children:"Aprovado"}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(lr,{variant:"destructive",children:"Rejeitado"}),d.motivoRejeicao&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Motivo: ",d.motivoRejeicao]})]})})]})})]})]})}function Wi({tabs:e,basePath:r}){const t=ns();return n.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-200/50 dark:border-gray-700/50 shadow-lg mb-6",children:n.jsx("nav",{className:"flex space-x-1 p-2",children:e.map(a=>{const s=t.pathname===a.href;return n.jsx(pr,{to:a.href,className:lt("flex items-center px-4 py-3 text-sm font-medium transition-all duration-200 rounded-md",s?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-700 hover:text-gray-900 hover:bg-gray-100/80 dark:text-gray-200 dark:hover:text-white dark:hover:bg-gray-700/70"),children:a.label},a.href)})})})}const qE=6048e5,E8=864e5,wx=6e4,yx=36e5,F8=1e3,lj=Symbol.for("constructDateFrom");function Ka(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&lj in e?e[lj](r):e instanceof Date?new e.constructor(r):new Date(r)}function cr(e,r){return Ka(r||e,e)}function wl(e,r,t){const a=cr(e,t==null?void 0:t.in);return isNaN(r)?Ka((t==null?void 0:t.in)||e,NaN):(r&&a.setDate(a.getDate()+r),a)}function bl(e,r,t){const a=cr(e,t==null?void 0:t.in);if(isNaN(r))return Ka(e,NaN);if(!r)return a;const s=a.getDate(),i=Ka(e,a.getTime());i.setMonth(a.getMonth()+r+1,0);const o=i.getDate();return s>=o?i:(a.setFullYear(i.getFullYear(),i.getMonth(),s),a)}function WE(e,r,t){return Ka(e,+cr(e)+r)}function k8(e,r,t){return WE(e,r*yx)}let D8={};function _u(){return D8}function uA(e,r){var l,A,d,f;const t=_u(),a=(r==null?void 0:r.weekStartsOn)??((A=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=cr(e,r==null?void 0:r.in),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Tf(e,r){return uA(e,{...r,weekStartsOn:1})}function GE(e,r){const t=cr(e,r==null?void 0:r.in),a=t.getFullYear(),s=Ka(t,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const i=Tf(s),o=Ka(t,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=Tf(o);return t.getTime()>=i.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1}function A0(e){const r=cr(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function pA(e,...r){const t=Ka.bind(null,r.find(a=>typeof a=="object"));return r.map(t)}function bu(e,r){const t=cr(e,r==null?void 0:r.in);return t.setHours(0,0,0,0),t}function Of(e,r,t){const[a,s]=pA(t==null?void 0:t.in,e,r),i=bu(a),o=bu(s),l=+i-A0(i),A=+o-A0(o);return Math.round((l-A)/E8)}function U8(e,r){const t=GE(e,r),a=Ka(e,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),Tf(a)}function Dy(e,r,t){const a=cr(e,t==null?void 0:t.in);return a.setTime(a.getTime()+r*wx),a}function pb(e,r,t){return bl(e,r*3,t)}function L8(e,r,t){return WE(e,r*1e3)}function d0(e,r,t){return wl(e,r*7,t)}function nA(e,r,t){return bl(e,r*12,t)}function cj(e,r){let t,a=r==null?void 0:r.in;return e.forEach(s=>{!a&&typeof s=="object"&&(a=Ka.bind(null,s));const i=cr(s,a);(!t||t<i||isNaN(+i))&&(t=i)}),Ka(a,t||NaN)}function Aj(e,r){let t,a=r==null?void 0:r.in;return e.forEach(s=>{!a&&typeof s=="object"&&(a=Ka.bind(null,s));const i=cr(s,a);(!t||t>i||isNaN(+i))&&(t=i)}),Ka(a,t||NaN)}function I8(e,r,t){const[a,s]=pA(t==null?void 0:t.in,e,r);return+bu(a)==+bu(s)}function sA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function u0(e){return!(!sA(e)&&typeof e!="number"||isNaN(+cr(e)))}function f0(e,r,t){const[a,s]=pA(t==null?void 0:t.in,e,r),i=a.getFullYear()-s.getFullYear(),o=a.getMonth()-s.getMonth();return i*12+o}function cu(e,r){const t=cr(e,r==null?void 0:r.in);return Math.trunc(t.getMonth()/3)+1}function h0(e,r,t){const[a,s]=pA(t==null?void 0:t.in,e,r),i=a.getFullYear()-s.getFullYear(),o=cu(a)-cu(s);return i*4+o}function m0(e,r,t){const[a,s]=pA(t==null?void 0:t.in,e,r);return a.getFullYear()-s.getFullYear()}function P8(e,r,t){const[a,s]=pA(t==null?void 0:t.in,e,r),i=dj(a,s),o=Math.abs(Of(a,s));a.setDate(a.getDate()-i*o);const l=+(dj(a,s)===-i),A=i*(o-l);return A===0?0:A}function dj(e,r){const t=e.getFullYear()-r.getFullYear()||e.getMonth()-r.getMonth()||e.getDate()-r.getDate()||e.getHours()-r.getHours()||e.getMinutes()-r.getMinutes()||e.getSeconds()-r.getSeconds()||e.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function YE(e,r){const t=cr(e,r==null?void 0:r.in);return t.setHours(23,59,59,999),t}function XE(e,r){const t=cr(e,r==null?void 0:r.in),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function Uy(e,r){const t=cr(e,r==null?void 0:r.in),a=t.getMonth(),s=a-a%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function JE(e,r){const t=cr(e,r==null?void 0:r.in);return t.setDate(1),t.setHours(0,0,0,0),t}function ZE(e,r){const t=cr(e,r==null?void 0:r.in),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(23,59,59,999),t}function bx(e,r){const t=cr(e,r==null?void 0:r.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Q8(e,r){var l,A;const t=_u(),a=t.weekStartsOn??((A=(l=t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??0,s=cr(e,r==null?void 0:r.in),i=s.getDay(),o=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const R8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},M8=(e,r,t)=>{let a;const s=R8[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function Ff(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const T8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},O8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},H8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$8={date:Ff({formats:T8,defaultWidth:"full"}),time:Ff({formats:O8,defaultWidth:"full"}),dateTime:Ff({formats:H8,defaultWidth:"full"})},K8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V8=(e,r,t,a)=>K8[e];function Xl(e){return(r,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return s[i]}}const z8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},q8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},G8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},X8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},J8=(e,r)=>{const t=Number(e),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Z8={ordinalNumber:J8,era:Xl({values:z8,defaultWidth:"wide"}),quarter:Xl({values:q8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xl({values:W8,defaultWidth:"wide"}),day:Xl({values:G8,defaultWidth:"wide"}),dayPeriod:Xl({values:Y8,defaultWidth:"wide",formattingValues:X8,defaultFormattingWidth:"wide"})};function Jl(e){return(r,t={})=>{const a=t.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],A=Array.isArray(l)?tO(l,h=>h.test(o)):eO(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(A):A,d=t.valueCallback?t.valueCallback(d):d;const f=r.slice(o.length);return{value:d,rest:f}}}function eO(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function tO(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function eF(e){return(r,t={})=>{const a=r.match(e.matchPattern);if(!a)return null;const s=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const l=r.slice(s.length);return{value:o,rest:l}}}const rO=/^(\d+)(th|st|nd|rd)?/i,aO=/\d+/i,nO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sO={any:[/^b/i,/^(a|c)/i]},iO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oO={any:[/1/i,/2/i,/3/i,/4/i]},lO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hO={ordinalNumber:eF({matchPattern:rO,parsePattern:aO,valueCallback:e=>parseInt(e,10)}),era:Jl({matchPatterns:nO,defaultMatchWidth:"wide",parsePatterns:sO,defaultParseWidth:"any"}),quarter:Jl({matchPatterns:iO,defaultMatchWidth:"wide",parsePatterns:oO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jl({matchPatterns:lO,defaultMatchWidth:"wide",parsePatterns:cO,defaultParseWidth:"any"}),day:Jl({matchPatterns:AO,defaultMatchWidth:"wide",parsePatterns:dO,defaultParseWidth:"any"}),dayPeriod:Jl({matchPatterns:uO,defaultMatchWidth:"any",parsePatterns:fO,defaultParseWidth:"any"})},tF={code:"en-US",formatDistance:M8,formatLong:$8,formatRelative:V8,localize:Z8,match:hO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mO(e,r){const t=cr(e,r==null?void 0:r.in);return Of(t,bx(t))+1}function gb(e,r){const t=cr(e,r==null?void 0:r.in),a=+Tf(t)-+U8(t);return Math.round(a/qE)+1}function xb(e,r){var f,h,m,p;const t=cr(e,r==null?void 0:r.in),a=t.getFullYear(),s=_u(),i=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ka((r==null?void 0:r.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=uA(o,r),A=Ka((r==null?void 0:r.in)||e,0);A.setFullYear(a,0,i),A.setHours(0,0,0,0);const d=uA(A,r);return+t>=+l?a+1:+t>=+d?a:a-1}function pO(e,r){var l,A,d,f;const t=_u(),a=(r==null?void 0:r.firstWeekContainsDate)??((A=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:A.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=xb(e,r),i=Ka((r==null?void 0:r.in)||e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),uA(i,r)}function rF(e,r){const t=cr(e,r==null?void 0:r.in),a=+uA(t,r)-+pO(t,r);return Math.round(a/qE)+1}function Ha(e,r){const t=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return t+a}const zA={y(e,r){const t=e.getFullYear(),a=t>0?t:1-t;return Ha(r==="yy"?a%100:a,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):Ha(t+1,2)},d(e,r){return Ha(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return Ha(e.getHours()%12||12,r.length)},H(e,r){return Ha(e.getHours(),r.length)},m(e,r){return Ha(e.getMinutes(),r.length)},s(e,r){return Ha(e.getSeconds(),r.length)},S(e,r){const t=r.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,t-3));return Ha(s,r.length)}},cf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uj={G:function(e,r,t){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return t.ordinalNumber(s,{unit:"year"})}return zA.y(e,r)},Y:function(e,r,t,a){const s=xb(e,a),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return Ha(o,2)}return r==="Yo"?t.ordinalNumber(i,{unit:"year"}):Ha(i,r.length)},R:function(e,r){const t=GE(e);return Ha(t,r.length)},u:function(e,r){const t=e.getFullYear();return Ha(t,r.length)},Q:function(e,r,t){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Ha(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,t){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Ha(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,t){const a=e.getMonth();switch(r){case"M":case"MM":return zA.M(e,r);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,t){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return Ha(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,t,a){const s=rF(e,a);return r==="wo"?t.ordinalNumber(s,{unit:"week"}):Ha(s,r.length)},I:function(e,r,t){const a=gb(e);return r==="Io"?t.ordinalNumber(a,{unit:"week"}):Ha(a,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):zA.d(e,r)},D:function(e,r,t){const a=mO(e);return r==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):Ha(a,r.length)},E:function(e,r,t){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,t,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return Ha(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,t,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return Ha(i,r.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,t){const a=e.getDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return Ha(s,r.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,t){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,t){const a=e.getHours();let s;switch(a===12?s=cf.noon:a===0?s=cf.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,t){const a=e.getHours();let s;switch(a>=17?s=cf.evening:a>=12?s=cf.afternoon:a>=4?s=cf.morning:s=cf.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return zA.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):zA.H(e,r)},K:function(e,r,t){const a=e.getHours()%12;return r==="Ko"?t.ordinalNumber(a,{unit:"hour"}):Ha(a,r.length)},k:function(e,r,t){let a=e.getHours();return a===0&&(a=24),r==="ko"?t.ordinalNumber(a,{unit:"hour"}):Ha(a,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):zA.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):zA.s(e,r)},S:function(e,r){return zA.S(e,r)},X:function(e,r,t){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return hj(a);case"XXXX":case"XX":return Yd(a);case"XXXXX":case"XXX":default:return Yd(a,":")}},x:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"x":return hj(a);case"xxxx":case"xx":return Yd(a);case"xxxxx":case"xxx":default:return Yd(a,":")}},O:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+fj(a,":");case"OOOO":default:return"GMT"+Yd(a,":")}},z:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+fj(a,":");case"zzzz":default:return"GMT"+Yd(a,":")}},t:function(e,r,t){const a=Math.trunc(+e/1e3);return Ha(a,r.length)},T:function(e,r,t){return Ha(+e,r.length)}};function fj(e,r=""){const t=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?t+String(s):t+String(s)+r+Ha(i,2)}function hj(e,r){return e%60===0?(e>0?"-":"+")+Ha(Math.abs(e)/60,2):Yd(e,r)}function Yd(e,r=""){const t=e>0?"-":"+",a=Math.abs(e),s=Ha(Math.trunc(a/60),2),i=Ha(a%60,2);return t+s+r+i}const mj=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},aF=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},gO=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],a=t[1],s=t[2];if(!s)return mj(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",mj(a,r)).replace("{{time}}",aF(s,r))},Ly={p:aF,P:gO},xO=/^D+$/,vO=/^Y+$/,wO=["D","DD","YY","YYYY"];function yO(e){return xO.test(e)}function bO(e){return vO.test(e)}function NO(e,r,t){const a=jO(e,r,t);if(console.warn(a),wO.includes(e))throw new RangeError(a)}function jO(e,r,t){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const BO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SO=/^'([^]*?)'?$/,_O=/''/g,EO=/[a-zA-Z]/;function ed(e,r,t){var f,h,m,p,v,g,y,w;const a=_u(),s=(t==null?void 0:t.locale)??a.locale??tF,i=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((g=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??a.weekStartsOn??((w=(y=a.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,l=cr(e,t==null?void 0:t.in);if(!u0(l))throw new RangeError("Invalid time value");let A=r.match(CO).map(j=>{const C=j[0];if(C==="p"||C==="P"){const E=Ly[C];return E(j,s.formatLong)}return j}).join("").match(BO).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const C=j[0];if(C==="'")return{isToken:!1,value:FO(j)};if(uj[C])return{isToken:!0,value:j};if(C.match(EO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:j}});s.localize.preprocessor&&(A=s.localize.preprocessor(l,A));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return A.map(j=>{if(!j.isToken)return j.value;const C=j.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&bO(C)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&yO(C))&&NO(C,r,String(e));const E=uj[C[0]];return E(l,C,s.localize,d)}).join("")}function FO(e){const r=e.match(SO);return r?r[1].replace(_O,"'"):e}function pj(e,r){return cr(e,r==null?void 0:r.in).getDate()}function kO(e,r){return cr(e,r==null?void 0:r.in).getDay()}function DO(e,r){const t=cr(e,r==null?void 0:r.in),a=t.getFullYear(),s=t.getMonth(),i=Ka(t,0);return i.setFullYear(a,s+1,0),i.setHours(0,0,0,0),i.getDate()}function UO(){return Object.assign({},_u())}function iA(e,r){return cr(e,r==null?void 0:r.in).getHours()}function LO(e,r){const t=cr(e,r==null?void 0:r.in).getDay();return t===0?7:t}function oA(e,r){return cr(e,r==null?void 0:r.in).getMinutes()}function Ai(e,r){return cr(e,r==null?void 0:r.in).getMonth()}function ld(e){return cr(e).getSeconds()}function Iy(e){return+cr(e)}function Zr(e,r){return cr(e,r==null?void 0:r.in).getFullYear()}function pd(e,r){return+cr(e)>+cr(r)}function ac(e,r){return+cr(e)<+cr(r)}function IO(e,r){return+cr(e)==+cr(r)}function PO(e,r){const t=QO(r)?new r(0):Ka(r,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function QO(e){var r;return typeof e=="function"&&((r=e.prototype)==null?void 0:r.constructor)===e}const RO=10;class nF{constructor(){ht(this,"subPriority",0)}validate(r,t){return!0}}class MO extends nF{constructor(r,t,a,s,i){super(),this.value=r,this.validateValue=t,this.setValue=a,this.priority=s,i&&(this.subPriority=i)}validate(r,t){return this.validateValue(r,this.value,t)}set(r,t,a){return this.setValue(r,t,this.value,a)}}class TO extends nF{constructor(t,a){super();ht(this,"priority",RO);ht(this,"subPriority",-1);this.context=t||(s=>Ka(a,s))}set(t,a){return a.timestampIsSet?t:Ka(t,PO(t,this.context))}}let Fa=class{run(r,t,a,s){const i=this.parse(r,t,a,s);return i?{setter:new MO(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(r,t,a){return!0}};class OO extends Fa{constructor(){super(...arguments);ht(this,"priority",140);ht(this,"incompatibleTokens",["R","u","t","T"])}parse(t,a,s){switch(a){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,a,s){return a.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const es={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Zl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ts(e,r){return e&&{value:r(e.value),rest:e.rest}}function Ln(e,r){const t=r.match(e);return t?{value:parseInt(t[0],10),rest:r.slice(t[0].length)}:null}function ec(e,r){const t=r.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:r.slice(1)};const a=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:a*(s*yx+i*wx+o*F8),rest:r.slice(t[0].length)}}function sF(e){return Ln(es.anyDigitsSigned,e)}function $n(e,r){switch(e){case 1:return Ln(es.singleDigit,r);case 2:return Ln(es.twoDigits,r);case 3:return Ln(es.threeDigits,r);case 4:return Ln(es.fourDigits,r);default:return Ln(new RegExp("^\\d{1,"+e+"}"),r)}}function p0(e,r){switch(e){case 1:return Ln(es.singleDigitSigned,r);case 2:return Ln(es.twoDigitsSigned,r);case 3:return Ln(es.threeDigitsSigned,r);case 4:return Ln(es.fourDigitsSigned,r);default:return Ln(new RegExp("^-?\\d{1,"+e+"}"),r)}}function vb(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function iF(e,r){const t=r>0,a=t?r:1-r;let s;if(a<=50)s=e||100;else{const i=a+50,o=Math.trunc(i/100)*100,l=e>=i%100;s=e+o-(l?100:0)}return t?s:1-s}function oF(e){return e%400===0||e%4===0&&e%100!==0}class HO extends Fa{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,a,s){const i=o=>({year:o,isTwoDigitYear:a==="yy"});switch(a){case"y":return ts($n(4,t),i);case"yo":return ts(s.ordinalNumber(t,{unit:"year"}),i);default:return ts($n(a.length,t),i)}}validate(t,a){return a.isTwoDigitYear||a.year>0}set(t,a,s){const i=t.getFullYear();if(s.isTwoDigitYear){const l=iF(s.year,i);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const o=!("era"in a)||a.era===1?s.year:1-s.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class $O extends Fa{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,a,s){const i=o=>({year:o,isTwoDigitYear:a==="YY"});switch(a){case"Y":return ts($n(4,t),i);case"Yo":return ts(s.ordinalNumber(t,{unit:"year"}),i);default:return ts($n(a.length,t),i)}}validate(t,a){return a.isTwoDigitYear||a.year>0}set(t,a,s,i){const o=xb(t,i);if(s.isTwoDigitYear){const A=iF(s.year,o);return t.setFullYear(A,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),uA(t,i)}const l=!("era"in a)||a.era===1?s.year:1-s.year;return t.setFullYear(l,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),uA(t,i)}}class KO extends Fa{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,a){return p0(a==="R"?4:a.length,t)}set(t,a,s){const i=Ka(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Tf(i)}}class VO extends Fa{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,a){return p0(a==="u"?4:a.length,t)}set(t,a,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class zO extends Fa{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"Q":case"QQ":return $n(a.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=1&&a<=4}set(t,a,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class qO extends Fa{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"q":case"qq":return $n(a.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=1&&a<=4}set(t,a,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class WO extends Fa{constructor(){super(...arguments);ht(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ht(this,"priority",110)}parse(t,a,s){const i=o=>o-1;switch(a){case"M":return ts(Ln(es.month,t),i);case"MM":return ts($n(2,t),i);case"Mo":return ts(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class GO extends Fa{constructor(){super(...arguments);ht(this,"priority",110);ht(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,a,s){const i=o=>o-1;switch(a){case"L":return ts(Ln(es.month,t),i);case"LL":return ts($n(2,t),i);case"Lo":return ts(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function YO(e,r,t){const a=cr(e,t==null?void 0:t.in),s=rF(a,t)-r;return a.setDate(a.getDate()-s*7),cr(a,t==null?void 0:t.in)}class XO extends Fa{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,a,s){switch(a){case"w":return Ln(es.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return $n(a.length,t)}}validate(t,a){return a>=1&&a<=53}set(t,a,s,i){return uA(YO(t,s,i),i)}}function JO(e,r,t){const a=cr(e,t==null?void 0:t.in),s=gb(a,t)-r;return a.setDate(a.getDate()-s*7),a}class ZO extends Fa{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,a,s){switch(a){case"I":return Ln(es.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return $n(a.length,t)}}validate(t,a){return a>=1&&a<=53}set(t,a,s){return Tf(JO(t,s))}}const eH=[31,28,31,30,31,30,31,31,30,31,30,31],tH=[31,29,31,30,31,30,31,31,30,31,30,31];class rH extends Fa{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subPriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"d":return Ln(es.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return $n(a.length,t)}}validate(t,a){const s=t.getFullYear(),i=oF(s),o=t.getMonth();return i?a>=1&&a<=tH[o]:a>=1&&a<=eH[o]}set(t,a,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class aH extends Fa{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subpriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,a,s){switch(a){case"D":case"DD":return Ln(es.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return $n(a.length,t)}}validate(t,a){const s=t.getFullYear();return oF(s)?a>=1&&a<=366:a>=1&&a<=365}set(t,a,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function wb(e,r,t){var h,m,p,v;const a=_u(),s=(t==null?void 0:t.weekStartsOn)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??a.weekStartsOn??((v=(p=a.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,i=cr(e,t==null?void 0:t.in),o=i.getDay(),A=(r%7+7)%7,d=7-s,f=r<0||r>6?r-(o+d)%7:(A+d)%7-(o+d)%7;return wl(i,f,t)}class nH extends Fa{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=wb(t,s,i),t.setHours(0,0,0,0),t}}class sH extends Fa{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,a,s,i){const o=l=>{const A=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+A};switch(a){case"e":case"ee":return ts($n(a.length,t),o);case"eo":return ts(s.ordinalNumber(t,{unit:"day"}),o);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=wb(t,s,i),t.setHours(0,0,0,0),t}}class iH extends Fa{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,a,s,i){const o=l=>{const A=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+A};switch(a){case"c":case"cc":return ts($n(a.length,t),o);case"co":return ts(s.ordinalNumber(t,{unit:"day"}),o);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=wb(t,s,i),t.setHours(0,0,0,0),t}}function oH(e,r,t){const a=cr(e,t==null?void 0:t.in),s=LO(a,t),i=r-s;return wl(a,i,t)}class lH extends Fa{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,a,s){const i=o=>o===0?7:o;switch(a){case"i":case"ii":return $n(a.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return ts(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return ts(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return ts(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return ts(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,a){return a>=1&&a<=7}set(t,a,s){return t=oH(t,s),t.setHours(0,0,0,0),t}}class cH extends Fa{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,a,s){switch(a){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(vb(s),0,0,0),t}}class AH extends Fa{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,a,s){switch(a){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(vb(s),0,0,0),t}}class dH extends Fa{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","b","t","T"])}parse(t,a,s){switch(a){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(vb(s),0,0,0),t}}class uH extends Fa{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,a,s){switch(a){case"h":return Ln(es.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return $n(a.length,t)}}validate(t,a){return a>=1&&a<=12}set(t,a,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class fH extends Fa{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,a,s){switch(a){case"H":return Ln(es.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return $n(a.length,t)}}validate(t,a){return a>=0&&a<=23}set(t,a,s){return t.setHours(s,0,0,0),t}}class hH extends Fa{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,a,s){switch(a){case"K":return Ln(es.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return $n(a.length,t)}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class mH extends Fa{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,a,s){switch(a){case"k":return Ln(es.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return $n(a.length,t)}}validate(t,a){return a>=1&&a<=24}set(t,a,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}}class pH extends Fa{constructor(){super(...arguments);ht(this,"priority",60);ht(this,"incompatibleTokens",["t","T"])}parse(t,a,s){switch(a){case"m":return Ln(es.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return $n(a.length,t)}}validate(t,a){return a>=0&&a<=59}set(t,a,s){return t.setMinutes(s,0,0),t}}class gH extends Fa{constructor(){super(...arguments);ht(this,"priority",50);ht(this,"incompatibleTokens",["t","T"])}parse(t,a,s){switch(a){case"s":return Ln(es.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return $n(a.length,t)}}validate(t,a){return a>=0&&a<=59}set(t,a,s){return t.setSeconds(s,0),t}}class xH extends Fa{constructor(){super(...arguments);ht(this,"priority",30);ht(this,"incompatibleTokens",["t","T"])}parse(t,a){const s=i=>Math.trunc(i*Math.pow(10,-a.length+3));return ts($n(a.length,t),s)}set(t,a,s){return t.setMilliseconds(s),t}}class vH extends Fa{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","x"])}parse(t,a){switch(a){case"X":return ec(Zl.basicOptionalMinutes,t);case"XX":return ec(Zl.basic,t);case"XXXX":return ec(Zl.basicOptionalSeconds,t);case"XXXXX":return ec(Zl.extendedOptionalSeconds,t);case"XXX":default:return ec(Zl.extended,t)}}set(t,a,s){return a.timestampIsSet?t:Ka(t,t.getTime()-A0(t)-s)}}class wH extends Fa{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","X"])}parse(t,a){switch(a){case"x":return ec(Zl.basicOptionalMinutes,t);case"xx":return ec(Zl.basic,t);case"xxxx":return ec(Zl.basicOptionalSeconds,t);case"xxxxx":return ec(Zl.extendedOptionalSeconds,t);case"xxx":default:return ec(Zl.extended,t)}}set(t,a,s){return a.timestampIsSet?t:Ka(t,t.getTime()-A0(t)-s)}}class yH extends Fa{constructor(){super(...arguments);ht(this,"priority",40);ht(this,"incompatibleTokens","*")}parse(t){return sF(t)}set(t,a,s){return[Ka(t,s*1e3),{timestampIsSet:!0}]}}class bH extends Fa{constructor(){super(...arguments);ht(this,"priority",20);ht(this,"incompatibleTokens","*")}parse(t){return sF(t)}set(t,a,s){return[Ka(t,s),{timestampIsSet:!0}]}}const NH={G:new OO,y:new HO,Y:new $O,R:new KO,u:new VO,Q:new zO,q:new qO,M:new WO,L:new GO,w:new XO,I:new ZO,d:new rH,D:new aH,E:new nH,e:new sH,c:new iH,i:new lH,a:new cH,b:new AH,B:new dH,h:new uH,H:new fH,K:new hH,k:new mH,m:new pH,s:new gH,S:new xH,X:new vH,x:new wH,t:new yH,T:new bH},jH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CH=/^'([^]*?)'?$/,SH=/''/g,_H=/\S/,EH=/[a-zA-Z]/;function FH(e,r,t,a){var y,w,j,C,E,U,k,F;const s=()=>Ka((a==null?void 0:a.in)||t,NaN),i=UO(),o=(a==null?void 0:a.locale)??i.locale??tF,l=(a==null?void 0:a.firstWeekContainsDate)??((w=(y=a==null?void 0:a.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(j=i.locale)==null?void 0:j.options)==null?void 0:C.firstWeekContainsDate)??1,A=(a==null?void 0:a.weekStartsOn)??((U=(E=a==null?void 0:a.locale)==null?void 0:E.options)==null?void 0:U.weekStartsOn)??i.weekStartsOn??((F=(k=i.locale)==null?void 0:k.options)==null?void 0:F.weekStartsOn)??0;if(!r)return e?s():cr(t,a==null?void 0:a.in);const d={firstWeekContainsDate:l,weekStartsOn:A,locale:o},f=[new TO(a==null?void 0:a.in,t)],h=r.match(BH).map(D=>{const _=D[0];if(_ in Ly){const G=Ly[_];return G(D,o.formatLong)}return D}).join("").match(jH),m=[];for(let D of h){const _=D[0],G=NH[_];if(G){const{incompatibleTokens:L}=G;if(Array.isArray(L)){const J=m.find(R=>L.includes(R.token)||R.token===_);if(J)throw new RangeError(`The format string mustn't contain \`${J.fullToken}\` and \`${D}\` at the same time`)}else if(G.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);m.push({token:_,fullToken:D});const T=G.run(e,D,o.match,d);if(!T)return s();f.push(T.setter),e=T.rest}else{if(_.match(EH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(D==="''"?D="'":_==="'"&&(D=kH(D)),e.indexOf(D)===0)e=e.slice(D.length);else return s()}}if(e.length>0&&_H.test(e))return s();const p=f.map(D=>D.priority).sort((D,_)=>_-D).filter((D,_,G)=>G.indexOf(D)===_).map(D=>f.filter(_=>_.priority===D).sort((_,G)=>G.subPriority-_.subPriority)).map(D=>D[0]);let v=cr(t,a==null?void 0:a.in);if(isNaN(+v))return s();const g={};for(const D of p){if(!D.validate(v,d))return s();const _=D.set(v,g,d);Array.isArray(_)?(v=_[0],Object.assign(g,_[1])):v=_}return v}function kH(e){return e.match(CH)[1].replace(SH,"'")}function DH(e,r,t){const[a,s]=pA(t==null?void 0:t.in,e,r);return a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()}function UH(e,r,t){const[a,s]=pA(t==null?void 0:t.in,e,r);return+Uy(a)==+Uy(s)}function LH(e,r,t){const[a,s]=pA(t==null?void 0:t.in,e,r);return a.getFullYear()===s.getFullYear()}function mm(e,r,t){const a=+cr(e,t==null?void 0:t.in),[s,i]=[+cr(r.start,t==null?void 0:t.in),+cr(r.end,t==null?void 0:t.in)].sort((o,l)=>o-l);return a>=s&&a<=i}function IH(e,r,t){return wl(e,-1,t)}function lF(e,r){const t=()=>Ka(r==null?void 0:r.in,NaN),s=MH(e);let i;if(s.date){const d=TH(s.date,2);i=OH(d.restDateString,d.year)}if(!i||isNaN(+i))return t();const o=+i;let l=0,A;if(s.time&&(l=HH(s.time),isNaN(l)))return t();if(s.timezone){if(A=$H(s.timezone),isNaN(A))return t()}else{const d=new Date(o+l),f=cr(0,r==null?void 0:r.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return cr(o+l+A,r==null?void 0:r.in)}const Lp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},PH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,QH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,RH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function MH(e){const r={},t=e.split(Lp.dateTimeDelimiter);let a;if(t.length>2)return r;if(/:/.test(t[0])?a=t[0]:(r.date=t[0],a=t[1],Lp.timeZoneDelimiter.test(r.date)&&(r.date=e.split(Lp.timeZoneDelimiter)[0],a=e.substr(r.date.length,e.length))),a){const s=Lp.timezone.exec(a);s?(r.time=a.replace(s[1],""),r.timezone=s[1]):r.time=a}return r}function TH(e,r){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),a=e.match(t);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function OH(e,r){if(r===null)return new Date(NaN);const t=e.match(PH);if(!t)return new Date(NaN);const a=!!t[4],s=Dh(t[1]),i=Dh(t[2])-1,o=Dh(t[3]),l=Dh(t[4]),A=Dh(t[5])-1;if(a)return WH(r,l,A)?KH(r,l,A):new Date(NaN);{const d=new Date(0);return!zH(r,i,o)||!qH(r,s)?new Date(NaN):(d.setUTCFullYear(r,i,Math.max(s,o)),d)}}function Dh(e){return e?parseInt(e):1}function HH(e){const r=e.match(QH);if(!r)return NaN;const t=tw(r[1]),a=tw(r[2]),s=tw(r[3]);return GH(t,a,s)?t*yx+a*wx+s*1e3:NaN}function tw(e){return e&&parseFloat(e.replace(",","."))||0}function $H(e){if(e==="Z")return 0;const r=e.match(RH);if(!r)return 0;const t=r[1]==="+"?-1:1,a=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return YH(a,s)?t*(a*yx+s*wx):NaN}function KH(e,r,t){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,i=(r-1)*7+t+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const VH=[31,null,31,30,31,30,31,31,30,31,30,31];function cF(e){return e%400===0||e%4===0&&e%100!==0}function zH(e,r,t){return r>=0&&r<=11&&t>=1&&t<=(VH[r]||(cF(e)?29:28))}function qH(e,r){return r>=1&&r<=(cF(e)?366:365)}function WH(e,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function GH(e,r,t){return e===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&e>=0&&e<25}function YH(e,r){return r>=0&&r<=59}function fo(e,r,t){const a=cr(e,t==null?void 0:t.in),s=a.getFullYear(),i=a.getDate(),o=Ka(e,0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);const l=DO(o);return a.setMonth(r,Math.min(i,l)),a}function kg(e,r,t){const a=cr(e,t==null?void 0:t.in);return a.setHours(r),a}function Dg(e,r,t){const a=cr(e,t==null?void 0:t.in);return a.setMinutes(r),a}function vf(e,r,t){const a=cr(e,t==null?void 0:t.in),s=Math.trunc(a.getMonth()/3)+1,i=r-s;return fo(a,a.getMonth()+i*3)}function Ug(e,r,t){const a=cr(e,t==null?void 0:t.in);return a.setSeconds(r),a}function Wl(e,r,t){const a=cr(e,t==null?void 0:t.in);return isNaN(+a)?Ka(e,NaN):(a.setFullYear(r),a)}function Au(e,r,t){return bl(e,-r,t)}function AF(e,r,t){return pb(e,-1,t)}function gj(e,r,t){return d0(e,-1,t)}function Hf(e,r,t){return nA(e,-r,t)}var XH=typeof document<"u",JH=function(){},g0=XH?b.useLayoutEffect:JH;const ZH={...bm},e7=ZH.useInsertionEffect,t7=e7||(e=>e());function r7(e){const r=b.useRef(()=>{});return t7(()=>{r.current=e}),b.useCallback(function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r.current==null?void 0:r.current(...a)},[])}const a7={...bm};let xj=!1,n7=0;const vj=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+n7++;function s7(){const[e,r]=b.useState(()=>xj?vj():void 0);return g0(()=>{e==null&&r(vj())},[]),b.useEffect(()=>{xj=!0},[]),e}const i7=a7.useId,dF=i7||s7,o7=b.forwardRef(function(r,t){const{context:{placement:a,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:l=14,height:A=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:h,stroke:m,d:p,style:{transform:v,...g}={},...y}=r,w=dF(),[j,C]=b.useState(!1);if(g0(()=>{if(!s)return;Ko(s).direction==="rtl"&&C(!0)},[s]),!s)return null;const[E,U]=a.split("-"),k=E==="top"||E==="bottom";let F=h;(k&&o!=null&&o.x||!k&&o!=null&&o.y)&&(F=null);const D=f*2,_=D/2,G=l/2*(d/-8+1),L=A/2*d/4,T=!!p,J=F&&U==="end"?"bottom":"top";let R=F&&U==="end"?"right":"left";F&&j&&(R=U==="end"?"left":"right");const re=(i==null?void 0:i.x)!=null?F||i.x:"",V=(i==null?void 0:i.y)!=null?F||i.y:"",Y=p||"M0,0"+(" H"+l)+(" L"+(l-G)+","+(A-L))+(" Q"+l/2+","+A+" "+G+","+(A-L))+" Z",H={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[E];return n.jsxs("svg",{...y,"aria-hidden":!0,ref:t,width:T?l:l+D,height:l,viewBox:"0 0 "+l+" "+(A>l?A:l),style:{position:"absolute",pointerEvents:"none",[R]:re,[J]:V,[E]:k||T?"100%":"calc(100% - "+D/2+"px)",transform:[H,v].filter(Z=>!!Z).join(" "),...g},children:[D>0&&n.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:m,strokeWidth:D+(p?0:1),d:Y}),n.jsx("path",{stroke:D&&!p?y.fill:"none",d:Y}),n.jsx("clipPath",{id:w,children:n.jsx("rect",{x:-_,y:_*(T?-1:1),width:l+D,height:l})})]})});function l7(){const e=new Map;return{emit(r,t){var a;(a=e.get(r))==null||a.forEach(s=>s(t))},on(r,t){e.has(r)||e.set(r,new Set),e.get(r).add(t)},off(r,t){var a;(a=e.get(r))==null||a.delete(t)}}}const c7=b.createContext(null),A7=b.createContext(null),d7=()=>{var e;return((e=b.useContext(c7))==null?void 0:e.id)||null},u7=()=>b.useContext(A7);function f7(e){const{open:r=!1,onOpenChange:t,elements:a}=e,s=dF(),i=b.useRef({}),[o]=b.useState(()=>l7()),l=d7()!=null,[A,d]=b.useState(a.reference),f=r7((p,v,g)=>{i.current.openEvent=p?v:void 0,o.emit("openchange",{open:p,event:v,reason:g,nested:l}),t==null||t(p,v,g)}),h=b.useMemo(()=>({setPositionReference:d}),[]),m=b.useMemo(()=>({reference:A||a.reference||null,floating:a.floating||null,domReference:a.reference}),[A,a.reference,a.floating]);return b.useMemo(()=>({dataRef:i,open:r,onOpenChange:f,elements:m,events:o,floatingId:s,refs:h}),[r,f,m,o,s,h])}function h7(e){e===void 0&&(e={});const{nodeId:r}=e,t=f7({...e,elements:{reference:null,floating:null,...e.elements}}),a=e.rootContext||t,s=a.elements,[i,o]=b.useState(null),[l,A]=b.useState(null),f=(s==null?void 0:s.domReference)||i,h=b.useRef(null),m=u7();g0(()=>{f&&(h.current=f)},[f]);const p=ZS({...e,elements:{...s,...l&&{reference:l}}}),v=b.useCallback(C=>{const E=ji(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),getClientRects:()=>C.getClientRects(),contextElement:C}:C;A(E),p.refs.setReference(E)},[p.refs]),g=b.useCallback(C=>{(ji(C)||C===null)&&(h.current=C,o(C)),(ji(p.refs.reference.current)||p.refs.reference.current===null||C!==null&&!ji(C))&&p.refs.setReference(C)},[p.refs]),y=b.useMemo(()=>({...p.refs,setReference:g,setPositionReference:v,domReference:h}),[p.refs,g,v]),w=b.useMemo(()=>({...p.elements,domReference:f}),[p.elements,f]),j=b.useMemo(()=>({...p,...a,refs:y,elements:w,nodeId:r}),[p,y,w,r,a]);return g0(()=>{a.dataRef.current.floatingContext=j;const C=m==null?void 0:m.nodesRef.current.find(E=>E.id===r);C&&(C.context=j)}),b.useMemo(()=>({...p,context:j,refs:y,elements:w}),[p,y,w,j])}/*!
  react-datepicker v8.8.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Py=function(r,t){return Py=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},Py(r,t)};function Ks(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Py(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var fa=function(){return fa=Object.assign||function(t){for(var a,s=1,i=arguments.length;s<i;s++){a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},fa.apply(this,arguments)};function nc(e,r,t){if(t||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var m7=function(e){var r=e.showTimeSelectOnly,t=r===void 0?!1:r,a=e.showTime,s=a===void 0?!1:a,i=e.className,o=e.children,l=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return Ve.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},p7=function(e,r){var t=b.useRef(null),a=b.useRef(e);a.current=e;var s=b.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(A){return A instanceof Node})||i.target;t.current&&!t.current.contains(l)&&(r&&l instanceof HTMLElement&&l.classList.contains(r)||(o=a.current)===null||o===void 0||o.call(a,i))},[r]);return b.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},Nx=function(e){var r=e.children,t=e.onClickOutside,a=e.className,s=e.containerRef,i=e.style,o=e.ignoreClass,l=p7(t,o);return Ve.createElement("div",{className:a,style:i,ref:function(A){l.current=A,s&&(s.current=A)}},r)},Ft;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Ft||(Ft={}));function uF(){var e=typeof window<"u"?window:globalThis;return e}var Rm=12;function Qa(e){if(e==null)return new Date;var r=typeof e=="string"?lF(e):cr(e);return jx(r)?r:new Date}function rw(e,r,t,a,s){s===void 0&&(s=Qa());for(var i=$f(t)||$f(yb()),o=Array.isArray(r)?r:[r],l=0,A=o;l<A.length;l++){var d=A[l],f=FH(e,d,s,{locale:i});if(jx(f)&&(!a||e===fn(f,d,t)))return f}return null}function jx(e,r){return u0(e)&&!ac(e,new Date("1/1/1800"))}function fn(e,r,t){if(t==="en")return ed(e,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var a=t?$f(t):void 0;return t&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),a=a||$f(yb()),ed(e,r,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function uo(e,r){var t=r.dateFormat,a=r.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return e&&fn(e,s,a)||""}var fF=" - ";function g7(e,r,t){if(!e&&!r)return"";var a=e?uo(e,t):"",s=r?uo(r,t):"",i=t.rangeSeparator||fF;return"".concat(a).concat(i).concat(s)}function x7(e,r){if(!(e!=null&&e.length))return"";var t=e[0]?uo(e[0],r):"";if(e.length===1)return t;if(e.length===2&&e[1]){var a=uo(e[1],r);return"".concat(t,", ").concat(a)}var s=e.length-1;return"".concat(t," (+").concat(s,")")}function aw(e,r){var t=r.hour,a=t===void 0?0:t,s=r.minute,i=s===void 0?0:s,o=r.second,l=o===void 0?0:o;return kg(Dg(Ug(e,l),i),a)}function v7(e){return gb(e)}function w7(e,r){return fn(e,"ddd",r)}function Lg(e){return bu(e)}function cd(e,r,t){var a=$f(r||yb());return uA(e,{locale:a,weekStartsOn:t})}function lA(e){return JE(e)}function Hh(e){return bx(e)}function wj(e){return Uy(e)}function yj(){return bu(Qa())}function bj(e){return YE(e)}function y7(e){return Q8(e)}function b7(e){return XE(e)}function Gl(e,r){return e&&r?LH(e,r):!e&&!r}function Ni(e,r){return e&&r?DH(e,r):!e&&!r}function x0(e,r){return e&&r?UH(e,r):!e&&!r}function ua(e,r){return e&&r?I8(e,r):!e&&!r}function au(e,r){return e&&r?IO(e,r):!e&&!r}function Xd(e,r,t){var a,s=bu(r),i=YE(t);try{a=mm(e,{start:s,end:i})}catch{a=!1}return a}function yb(){var e=uF();return e.__localeId__}function $f(e){if(typeof e=="string"){var r=uF();return r.__localeData__?r.__localeData__[e]:void 0}else return e}function N7(e,r,t){return r(fn(e,"EEEE",t))}function j7(e,r){return fn(e,"EEEEEE",r)}function B7(e,r){return fn(e,"EEE",r)}function bb(e,r){return fn(fo(Qa(),e),"LLLL",r)}function hF(e,r){return fn(fo(Qa(),e),"LLL",r)}function C7(e,r){return fn(vf(Qa(),e),"QQQ",r)}function Mo(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.excludeDateIntervals,l=t.includeDates,A=t.includeDateIntervals,d=t.filterDate,f=t.disabled;return f?!0:Mm(e,{minDate:a,maxDate:s})||i&&i.some(function(h){return h instanceof Date?ua(e,h):ua(e,h.date)})||o&&o.some(function(h){var m=h.start,p=h.end;return mm(e,{start:m,end:p})})||l&&!l.some(function(h){return ua(e,h)})||A&&!A.some(function(h){var m=h.start,p=h.end;return mm(e,{start:m,end:p})})||d&&!d(Qa(e))||!1}function Nb(e,r){var t=r===void 0?{}:r,a=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,l=i.end;return mm(e,{start:o,end:l})}):a&&a.some(function(i){var o;return i instanceof Date?ua(e,i):ua(e,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function mF(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate;return Mm(e,{minDate:a?JE(a):void 0,maxDate:s?XE(s):void 0})||(i==null?void 0:i.some(function(A){return Ni(e,A instanceof Date?A:A.date)}))||o&&!o.some(function(A){return Ni(e,A)})||l&&!l(Qa(e))||!1}function Ip(e,r,t,a){var s=Zr(e),i=Ai(e),o=Zr(r),l=Ai(r),A=Zr(a);return s===o&&s===A?i<=t&&t<=l:s<o?A===s&&i<=t||A===o&&l>=t||A<o&&A>s:!1}function S7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates;return Mm(e,{minDate:a,maxDate:s})||i&&i.some(function(l){return Ni(l instanceof Date?l:l.date,e)})||o&&!o.some(function(l){return Ni(l,e)})||!1}function Pp(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate,A=t.disabled;return A?!0:Mm(e,{minDate:a,maxDate:s})||(i==null?void 0:i.some(function(d){return x0(e,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return x0(e,d)})||l&&!l(Qa(e))||!1}function Qp(e,r,t){if(!r||!t||!u0(r)||!u0(t))return!1;var a=Zr(r),s=Zr(t);return a<=e&&s>=e}function Ig(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate,A=t.disabled;if(A)return!0;var d=new Date(e,0,1);return Mm(d,{minDate:a?bx(a):void 0,maxDate:s?ZE(s):void 0})||(i==null?void 0:i.some(function(f){return Gl(d,f instanceof Date?f:f.date)}))||o&&!o.some(function(f){return Gl(d,f)})||l&&!l(Qa(d))||!1}function Rp(e,r,t,a){var s=Zr(e),i=cu(e),o=Zr(r),l=cu(r),A=Zr(a);return s===o&&s===A?i<=t&&t<=l:s<o?A===s&&i<=t||A===o&&l>=t||A<o&&A>s:!1}function Mm(e,r){var t,a=r===void 0?{}:r,s=a.minDate,i=a.maxDate;return(t=s&&Of(e,s)<0||i&&Of(e,i)>0)!==null&&t!==void 0?t:!1}function Nj(e,r){return r.some(function(t){return iA(t)===iA(e)&&oA(t)===oA(e)&&ld(t)===ld(e)})}function jj(e,r){var t=r===void 0?{}:r,a=t.excludeTimes,s=t.includeTimes,i=t.filterTime;return a&&Nj(e,a)||s&&!Nj(e,s)||i&&!i(e)||!1}function Bj(e,r){var t=r.minTime,a=r.maxTime;if(!t||!a)throw new Error("Both minTime and maxTime props required");var s=Qa();s=kg(s,iA(e)),s=Dg(s,oA(e)),s=Ug(s,ld(e));var i=Qa();i=kg(i,iA(t)),i=Dg(i,oA(t)),i=Ug(i,ld(t));var o=Qa();o=kg(o,iA(a)),o=Dg(o,oA(a)),o=Ug(o,ld(a));var l;try{l=!mm(s,{start:i,end:o})}catch{l=!1}return l}function Cj(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=Au(e,1);return a&&f0(a,i)>0||s&&s.every(function(o){return f0(o,i)>0})||!1}function Sj(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=bl(e,1);return a&&f0(i,a)>0||s&&s.every(function(o){return f0(i,o)>0})||!1}function _7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=bx(e),o=AF(i);return a&&h0(a,o)>0||s&&s.every(function(l){return h0(l,o)>0})||!1}function E7(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=ZE(e),o=pb(i,1);return a&&h0(o,a)>0||s&&s.every(function(l){return h0(o,l)>0})||!1}function _j(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=Hf(e,1);return a&&m0(a,i)>0||s&&s.every(function(o){return m0(o,i)>0})||!1}function F7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.yearItemNumber,i=s===void 0?Rm:s,o=Hh(Hf(e,i)),l=eA(o,i).endPeriod,A=a&&Zr(a);return A&&A>l||!1}function Ej(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=nA(e,1);return a&&m0(i,a)>0||s&&s.every(function(o){return m0(i,o)>0})||!1}function k7(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.yearItemNumber,i=s===void 0?Rm:s,o=nA(e,i),l=eA(o,i).startPeriod,A=a&&Zr(a);return A&&A<l||!1}function pF(e){var r=e.minDate,t=e.includeDates;if(t&&r){var a=t.filter(function(s){return Of(s,r)>=0});return Aj(a)}else return t?Aj(t):r}function gF(e){var r=e.maxDate,t=e.includeDates;if(t&&r){var a=t.filter(function(s){return Of(s,r)<=0});return cj(a)}else return t?cj(t):r}function Fj(e,r){var t;e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var a=new Map,s=0,i=e.length;s<i;s++){var o=e[s];if(sA(o)){var l=fn(o,"MM.dd.yyyy"),A=a.get(l)||[];A.includes(r)||(A.push(r),a.set(l,A))}else if(typeof o=="object"){var d=Object.keys(o),f=(t=d[0])!==null&&t!==void 0?t:"",h=o[f];if(typeof f=="string"&&Array.isArray(h))for(var m=0,p=h.length;m<p;m++){var v=h[m];if(v){var l=fn(v,"MM.dd.yyyy"),A=a.get(l)||[];A.includes(f)||(A.push(f),a.set(l,A))}}}}return a}function D7(e,r){return e.length!==r.length?!1:e.every(function(t,a){return t===r[a]})}function U7(e,r){e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(a){var s=a.date,i=a.holidayName;if(sA(s)){var o=fn(s,"MM.dd.yyyy"),l=t.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===r&&D7(l.holidayNames,[i]))){l.className=r;var A=l.holidayNames;l.holidayNames=A?nc(nc([],A,!0),[i],!1):[i],t.set(o,l)}}}),t}function L7(e,r,t,a,s){for(var i=s.length,o=[],l=0;l<i;l++){var A=e,d=s[l];d&&(A=k8(A,iA(d)),A=Dy(A,oA(d)),A=L8(A,ld(d)));var f=Dy(e,(t+1)*a);pd(A,r)&&ac(A,f)&&d!=null&&o.push(d)}return o}function kj(e){return e<10?"0".concat(e):"".concat(e)}function eA(e,r){r===void 0&&(r=Rm);var t=Math.ceil(Zr(e)/r)*r,a=t-(r-1);return{startPeriod:a,endPeriod:t}}function I7(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+r)/36e5)}function Dj(e){var r=e.getSeconds(),t=e.getMilliseconds();return cr(e.getTime()-r*1e3-t)}function P7(e,r){return Dj(e).getTime()===Dj(r).getTime()}function Uj(e){if(!sA(e))throw new Error("Invalid date");var r=new Date(e);return r.setHours(0,0,0,0),r}function nw(e,r){if(!sA(e)||!sA(r))throw new Error("Invalid date received");var t=Uj(e),a=Uj(r);return ac(t,a)}function xF(e){return e.key===Ft.Space}var Q7=(function(e){Ks(r,e);function r(t){var a=e.call(this,t)||this;return a.inputRef=Ve.createRef(),a.onTimeChange=function(s){var i,o;a.setState({time:s});var l=a.props.date,A=l instanceof Date&&!isNaN(+l),d=A?l:new Date;if(s!=null&&s.includes(":")){var f=s.split(":"),h=f[0],m=f[1];d.setHours(Number(h)),d.setMinutes(Number(m))}(o=(i=a.props).onChange)===null||o===void 0||o.call(i,d)},a.renderTimeInput=function(){var s=a.state.time,i=a.props,o=i.date,l=i.timeString,A=i.customTimeInput;return A?b.cloneElement(A,{date:o,value:s,onChange:a.onTimeChange}):Ve.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var d;(d=a.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:s,onChange:function(d){a.onTimeChange(d.target.value||l)}})},a.state={time:a.props.timeString},a}return r.getDerivedStateFromProps=function(t,a){return t.timeString!==a.time?{time:t.timeString}:null},r.prototype.render=function(){return Ve.createElement("div",{className:"react-datepicker__input-time-container"},Ve.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Ve.createElement("div",{className:"react-datepicker-time__input-container"},Ve.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r})(b.Component),R7=(function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=b.createRef(),t.handleClick=function(a){!t.isDisabled()&&t.props.onClick&&t.props.onClick(a)},t.handleMouseEnter=function(a){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(a)},t.handleOnKeyDown=function(a){var s,i,o=a.key;o===Ft.Space&&(a.preventDefault(),a.key=Ft.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,a)},t.isSameDay=function(a){return ua(t.props.day,a)},t.isKeyboardSelected=function(){var a;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(a=t.props.selectedDates)===null||a===void 0?void 0:a.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),i=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!i},t.isDisabled=function(a){return a===void 0&&(a=t.props.day),Mo(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Nb(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return ua(t.props.day,cd(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(a){return t.props.showWeekPicker&&ua(a,cd(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(a){return t.isSameDay(a)||t.isSameWeek(a)},t.getHighLightedClass=function(){var a=t.props,s=a.day,i=a.highlightDates;if(!i)return!1;var o=fn(s,"MM.dd.yyyy");return i.get(o)},t.getHolidaysClass=function(){var a,s=t.props,i=s.day,o=s.holidays;if(!o)return[void 0];var l=fn(i,"MM.dd.yyyy");return o.has(l)?[(a=o.get(l))===null||a===void 0?void 0:a.className]:[void 0]},t.isInRange=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Xd(s,i,o)},t.isInSelectingRange=function(){var a,s=t.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,A=s.selectsRange,d=s.selectsDisabledDaysInRange,f=s.startDate,h=s.swapRange,m=s.endDate,p=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;if(!(o||l||A)||!p||!d&&t.isDisabled())return!1;if(o&&m&&(ac(p,m)||au(p,m)))return Xd(i,p,m);if(l&&f&&(pd(p,f)||au(p,f)))return Xd(i,f,p);if(A&&f&&!m){if(au(p,f)||pd(p,f))return Xd(i,f,p);if(h&&ac(p,f))return Xd(i,p,f)}return!1},t.isSelectingRangeStart=function(){var a;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.startDate,l=s.selectsStart,A=s.swapRange,d=s.selectsRange,f=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return l?ua(i,f):d&&A&&o&&f?ua(i,ac(f,o)?f:o):ua(i,o)},t.isSelectingRangeEnd=function(){var a;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.endDate,l=s.selectsEnd,A=s.selectsRange,d=s.swapRange,f=s.startDate,h=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return l?ua(i,h):A&&d&&f&&h?ua(i,ac(h,f)?f:h):A?ua(i,h):ua(i,o)},t.isRangeStart=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:ua(i,s)},t.isRangeEnd=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:ua(o,s)},t.isWeekend=function(){var a=kO(t.props.day);return a===0||a===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Ai(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Ai(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Qa())},t.isSelected=function(){var a;return t.props.selectsMultiple?(a=t.props.selectedDates)===null||a===void 0?void 0:a.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(a){var s=t.props.dayClassName?t.props.dayClassName(a):void 0;return Is("react-datepicker__day",s,"react-datepicker__day--"+w7(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var a=t.props,s=a.day,i=a.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=a.ariaLabelPrefixWhenDisabled,A=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?A:o;return"".concat(d," ").concat(fn(s,"PPPP",t.props.locale))},t.getTitle=function(){var a=t.props,s=a.day,i=a.holidays,o=i===void 0?new Map:i,l=a.excludeDates,A=fn(s,"MM.dd.yyyy"),d=[];return o.has(A)&&d.push.apply(d,o.get(A).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(f){return f instanceof Date?ua(f,s):ua(f==null?void 0:f.date,s)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},t.getTabIndex=function(){var a=t.props.selected,s=t.props.preSelection,i=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(a)&&ua(s,a))?0:-1;return i},t.handleFocusDay=function(){var a;t.shouldFocusDay()&&((a=t.dayEl.current)===null||a===void 0||a.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(pj(t.props.day),t.props.day):pj(t.props.day)},t.render=function(){return Ve.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Ve.createElement("span",{className:"overlay"},t.getTitle()))},t}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},r.prototype.isDayActiveElement=function(){var t,a,s;return((a=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||a===void 0?void 0:a.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r})(b.Component),M7=(function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=b.createRef(),t.handleClick=function(a){t.props.onClick&&t.props.onClick(a)},t.handleOnKeyDown=function(a){var s,i,o=a.key;o===Ft.Space&&(a.preventDefault(),a.key=Ft.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,a)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ua(t.props.date,t.props.selected)&&ua(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||ua(t.props.date,t.props.selected)&&ua(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(a){var s=!1;t.getTabIndex()===0&&!(a!=null&&a.isInputFocused)&&ua(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},r.prototype.render=function(){var t=this.props,a=t.weekNumber,s=t.isWeekDisabled,i=t.ariaLabelPrefix,o=i===void 0?r.defaultProps.ariaLabelPrefix:i,l=t.onClick,A={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!s,"react-datepicker__week-number--selected":!!l&&ua(this.props.date,this.props.selected)};return Ve.createElement("div",{ref:this.weekNumberEl,className:Is(A),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},a)},r})(b.Component),T7=(function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(a){return Mo(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(a,s){t.props.onDayClick&&t.props.onDayClick(a,s)},t.handleDayMouseEnter=function(a){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(a)},t.handleWeekClick=function(a,s,i){for(var o,l,A,d=new Date(a),f=0;f<7;f++){var h=new Date(a);h.setDate(h.getDate()+f);var m=!t.isDisabled(h);if(m){d=h;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,s,i),t.props.showWeekPicker&&t.handleDayClick(d,i),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:r.defaultProps.shouldCloseOnSelect)&&((A=(l=t.props).setOpen)===null||A===void 0||A.call(l,!1))},t.formatWeekNumber=function(a){return t.props.formatWeekNumber?t.props.formatWeekNumber(a):v7(a)},t.isWeekDisabled=function(){for(var a=t.startOfWeek(),s=wl(a,6),i=new Date(a);i<=s;){if(!t.isDisabled(i))return!1;i=wl(i,1)}return!0},t.renderDays=function(){var a=t.startOfWeek(),s=[],i=t.formatWeekNumber(a);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,a,i):void 0;s.push(Ve.createElement(M7,fa({key:"W"},r.defaultProps,t.props,{weekNumber:i,isWeekDisabled:t.isWeekDisabled(),date:a,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(l){var A=wl(a,l);return Ve.createElement(R7,fa({},r.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:A.valueOf(),day:A,onClick:t.handleDayClick.bind(t,A),onMouseEnter:t.handleDayMouseEnter.bind(t,A)}))}))},t.startOfWeek=function(){return cd(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ua(t.startOfWeek(),t.props.selected)&&ua(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":ua(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},a=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Ve.createElement("div",{className:Is(t,a),role:"row"},this.renderDays())},r})(b.Component),Uh,O7=6,kf={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},sw=(Uh={},Uh[kf.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Uh[kf.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Uh[kf.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Uh),Mp=1;function Lj(e,r){return e?kf.FOUR_COLUMNS:r?kf.TWO_COLUMNS:kf.THREE_COLUMNS}var H7=(function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=nc([],Array(12),!0).map(function(){return b.createRef()}),t.QUARTER_REFS=nc([],Array(4),!0).map(function(){return b.createRef()}),t.isDisabled=function(a){return Mo(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(a){return Nb(a,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(a,s){var i,o;(o=(i=t.props).onDayClick)===null||o===void 0||o.call(i,a,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(a){var s,i;(i=(s=t.props).onDayMouseEnter)===null||i===void 0||i.call(s,a)},t.handleMouseLeave=function(){var a,s;(s=(a=t.props).onMouseLeave)===null||s===void 0||s.call(a)},t.isRangeStartMonth=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:Ni(fo(i,a),o)},t.isRangeStartQuarter=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:x0(vf(i,a),o)},t.isRangeEndMonth=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:Ni(fo(i,a),l)},t.isRangeEndQuarter=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:x0(vf(i,a),l)},t.isInSelectingRangeMonth=function(a){var s,i=t.props,o=i.day,l=i.selectsStart,A=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(l||A||d)||!m?!1:l&&h?Ip(m,h,a,o):A&&f||d&&f&&!h?Ip(f,m,a,o):!1},t.isSelectingMonthRangeStart=function(a){var s;if(!t.isInSelectingRangeMonth(a))return!1;var i=t.props,o=i.day,l=i.startDate,A=i.selectsStart,d=fo(o,a),f=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return A?Ni(d,f):Ni(d,l)},t.isSelectingMonthRangeEnd=function(a){var s;if(!t.isInSelectingRangeMonth(a))return!1;var i=t.props,o=i.day,l=i.endDate,A=i.selectsEnd,d=i.selectsRange,f=fo(o,a),h=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return A||d?Ni(f,h):Ni(f,l)},t.isInSelectingRangeQuarter=function(a){var s,i=t.props,o=i.day,l=i.selectsStart,A=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(l||A||d)||!m?!1:l&&h?Rp(m,h,a,o):A&&f||d&&f&&!h?Rp(f,m,a,o):!1},t.isWeekInMonth=function(a){var s=t.props.day,i=wl(a,6);return Ni(a,s)||Ni(i,s)},t.isCurrentMonth=function(a,s){return Zr(a)===Zr(Qa())&&s===Ai(Qa())},t.isCurrentQuarter=function(a,s){return Zr(a)===Zr(Qa())&&s===cu(Qa())},t.isSelectedMonth=function(a,s,i){return Ai(i)===s&&Zr(a)===Zr(i)},t.isSelectMonthInList=function(a,s,i){return i.some(function(o){return t.isSelectedMonth(a,s,o)})},t.isSelectedQuarter=function(a,s,i){return cu(a)===s&&Zr(a)===Zr(i)},t.isMonthSelected=function(){var a=t.props,s=a.day,i=a.selected,o=a.selectedDates,l=a.selectsMultiple,A=Ai(s);return l?o==null?void 0:o.some(function(d){return t.isSelectedMonth(s,A,d)}):!!i&&t.isSelectedMonth(s,A,i)},t.renderWeeks=function(){for(var a=[],s=t.props.fixedHeight,i=0,o=!1,l=cd(lA(t.props.day),t.props.locale,t.props.calendarStartDay),A=function(v){return t.props.showWeekPicker?cd(v,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(v){return t.props.showWeekPicker?cd(v,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,h=t.props.preSelection?A(t.props.preSelection):void 0;a.push(Ve.createElement(T7,fa({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:l,month:Ai(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:h,showWeekNumber:t.props.showWeekNumbers}))),!o;){i++,l=d0(l,1);var m=s&&i>=O7,p=!s&&!t.isWeekInMonth(l);if(m||p)if(t.props.peekNextMonth)o=!0;else break}return a},t.onMonthClick=function(a,s){var i=t.isMonthDisabledForLabelDate(s),o=i.isDisabled,l=i.labelDate;o||t.handleDayClick(lA(l),a)},t.onMonthMouseEnter=function(a){var s=t.isMonthDisabledForLabelDate(a),i=s.isDisabled,o=s.labelDate;i||t.handleDayMouseEnter(lA(o))},t.handleMonthNavigation=function(a,s){var i,o,l,A;(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(A=(l=t.MONTH_REFS[a])===null||l===void 0?void 0:l.current)===null||A===void 0||A.focus()},t.handleKeyboardNavigation=function(a,s,i){var o,l=t.props,A=l.selected,d=l.preSelection,f=l.setPreSelection,h=l.minDate,m=l.maxDate,p=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(d){var g=Lj(p,v),y=t.getVerticalOffset(g),w=(o=sw[g])===null||o===void 0?void 0:o.grid,j=function(F,D,_){var G,L,T=D,J=_;switch(F){case Ft.ArrowRight:T=bl(D,Mp),J=_===11?0:_+Mp;break;case Ft.ArrowLeft:T=Au(D,Mp),J=_===0?11:_-Mp;break;case Ft.ArrowUp:T=Au(D,y),J=!((G=w==null?void 0:w[0])===null||G===void 0)&&G.includes(_)?_+12-y:_-y;break;case Ft.ArrowDown:T=bl(D,y),J=!((L=w==null?void 0:w[w.length-1])===null||L===void 0)&&L.includes(_)?_-12+y:_+y;break}return{newCalculatedDate:T,newCalculatedMonth:J}},C=function(F,D,_){for(var G=40,L=F,T=!1,J=0,R=j(L,D,_),re=R.newCalculatedDate,V=R.newCalculatedMonth;!T;){if(J>=G){re=D,V=_;break}if(h&&re<h){L=Ft.ArrowRight;var Y=j(L,re,V);re=Y.newCalculatedDate,V=Y.newCalculatedMonth}if(m&&re>m){L=Ft.ArrowLeft;var Y=j(L,re,V);re=Y.newCalculatedDate,V=Y.newCalculatedMonth}if(S7(re,t.props)){var Y=j(L,re,V);re=Y.newCalculatedDate,V=Y.newCalculatedMonth}else T=!0;J++}return{newCalculatedDate:re,newCalculatedMonth:V}};if(s===Ft.Enter){t.isMonthDisabled(i)||(t.onMonthClick(a,i),f==null||f(A));return}var E=C(s,d,i),U=E.newCalculatedDate,k=E.newCalculatedMonth;switch(s){case Ft.ArrowRight:case Ft.ArrowLeft:case Ft.ArrowUp:case Ft.ArrowDown:t.handleMonthNavigation(k,U);break}}},t.getVerticalOffset=function(a){var s,i;return(i=(s=sw[a])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},t.onMonthKeyDown=function(a,s){var i=t.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,A=a.key;A!==Ft.Tab&&a.preventDefault(),o||t.handleKeyboardNavigation(a,A,s),l&&l(a)},t.onQuarterClick=function(a,s){var i=vf(t.props.day,s);Pp(i,t.props)||t.handleDayClick(wj(i),a)},t.onQuarterMouseEnter=function(a){var s=vf(t.props.day,a);Pp(s,t.props)||t.handleDayMouseEnter(wj(s))},t.handleQuarterNavigation=function(a,s){var i,o,l,A;t.isDisabled(s)||t.isExcluded(s)||((o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(A=(l=t.QUARTER_REFS[a-1])===null||l===void 0?void 0:l.current)===null||A===void 0||A.focus())},t.onQuarterKeyDown=function(a,s){var i,o,l=a.key;if(!t.props.disabledKeyboardNavigation)switch(l){case Ft.Enter:t.onQuarterClick(a,s),(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,t.props.selected);break;case Ft.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,pb(t.props.preSelection,1));break;case Ft.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,AF(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(a){var s,i=t.props,o=i.day,l=i.disabled,A=i.minDate,d=i.maxDate,f=i.excludeDates,h=i.includeDates,m=fo(o,a);return l?{isDisabled:!0,labelDate:fo(o,a)}:{isDisabled:(s=(A||d||f||h)&&mF(m,t.props))!==null&&s!==void 0?s:!1,labelDate:m}},t.isMonthDisabled=function(a){var s=t.isMonthDisabledForLabelDate(a).isDisabled;return s},t.getMonthClassNames=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate,A=s.preSelection,d=s.monthClassName,f=d?d(fo(i,a)):void 0,h=t.getSelection();return Is("react-datepicker__month-text","react-datepicker__month-".concat(a),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(a),"react-datepicker__month-text--selected":h?t.isSelectMonthInList(i,a,h):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&A&&t.isSelectedMonth(i,a,A)&&!t.isMonthSelected()&&!t.isMonthDisabled(a),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(a),"react-datepicker__month-text--in-range":o&&l?Ip(o,l,a,i):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(a),"react-datepicker__month-text--range-end":t.isRangeEndMonth(a),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(a),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(a),"react-datepicker__month-text--today":t.isCurrentMonth(i,a)})},t.getTabIndex=function(a){if(t.props.preSelection==null)return"-1";var s=Ai(t.props.preSelection),i=t.isMonthDisabledForLabelDate(s).isDisabled,o=a===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(a){if(t.props.preSelection==null)return"-1";var s=cu(t.props.preSelection),i=Pp(t.props.day,t.props),o=a===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(a){var s=t.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=s.disabledDayAriaLabelPrefix,A=l===void 0?"Not available":l,d=s.day,f=s.locale,h=fo(d,a),m=t.isDisabled(h)||t.isExcluded(h)?A:o;return"".concat(m," ").concat(fn(h,"MMMM yyyy",f))},t.getQuarterClassNames=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate,A=s.selected,d=s.minDate,f=s.maxDate,h=s.excludeDates,m=s.includeDates,p=s.filterDate,v=s.preSelection,g=s.disabledKeyboardNavigation,y=s.disabled,w=(d||f||h||m||p||y)&&Pp(vf(i,a),t.props);return Is("react-datepicker__quarter-text","react-datepicker__quarter-".concat(a),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":A?t.isSelectedQuarter(i,a,A):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&v&&t.isSelectedQuarter(i,a,v)&&!w,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(a),"react-datepicker__quarter-text--in-range":o&&l?Rp(o,l,a,i):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(a),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(a),"react-datepicker__quarter-text--today":t.isCurrentQuarter(i,a)})},t.getMonthContent=function(a){var s=t.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,l=s.locale,A=s.day,d=hF(a,l),f=bb(a,l);return o?o(a,d,f,A):i?f:d},t.getQuarterContent=function(a){var s,i=t.props,o=i.renderQuarterContent,l=i.locale,A=C7(a,l);return(s=o==null?void 0:o(a,A))!==null&&s!==void 0?s:A},t.renderMonths=function(){var a,s=t.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,l=s.day,A=s.selected,d=(a=sw[Lj(o,i)])===null||a===void 0?void 0:a.grid;return d==null?void 0:d.map(function(f,h){return Ve.createElement("div",{className:"react-datepicker__month-wrapper",key:h},f.map(function(m,p){return Ve.createElement("div",{ref:t.MONTH_REFS[m],key:p,onClick:function(v){t.onMonthClick(v,m)},onKeyDown:function(v){xF(v)&&(v.preventDefault(),v.key=Ft.Enter),t.onMonthKeyDown(v,m)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(m)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(m)}:void 0,tabIndex:Number(t.getTabIndex(m)),className:t.getMonthClassNames(m),"aria-disabled":t.isMonthDisabled(m),role:"option","aria-label":t.getAriaLabel(m),"aria-current":t.isCurrentMonth(l,m)?"date":void 0,"aria-selected":A?t.isSelectedMonth(l,m,A):void 0},t.getMonthContent(m))}))})},t.renderQuarters=function(){var a=t.props,s=a.day,i=a.selected,o=[1,2,3,4];return Ve.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,A){return Ve.createElement("div",{key:A,ref:t.QUARTER_REFS[A],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":i?t.isSelectedQuarter(s,l,i):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(s,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var a=t.props,s=a.selectingDate,i=a.selectsStart,o=a.selectsEnd,l=a.showMonthYearPicker,A=a.showQuarterYearPicker,d=a.showWeekPicker;return Is("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":A},{"react-datepicker__weekPicker":d})},t}return r.prototype.getSelection=function(){var t=this.props,a=t.selected,s=t.selectedDates,i=t.selectsMultiple;if(i)return s;if(a)return[a]},r.prototype.render=function(){var t=this.props,a=t.showMonthYearPicker,s=t.showQuarterYearPicker,i=t.day,o=t.ariaLabelPrefix,l=o===void 0?"Month ":o,A=l?l.trim()+" ":"",d=a||s;return d?Ve.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(A).concat(fn(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():this.renderQuarters()):Ve.createElement("div",{role:"table"},this.props.dayNamesHeader&&Ve.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),Ve.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(A).concat(fn(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},r})(b.Component),$7=(function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(a){return t.props.month===a},t.handleOptionKeyDown=function(a,s){var i;switch(s.key){case"Enter":s.preventDefault(),t.onChange(a);break;case"Escape":s.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(a+(s.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(i=t.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(a,s){return Ve.createElement("div",{ref:function(i){t.monthOptionButtonsRef[s]=i,t.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:a,onClick:t.onChange.bind(t,s),onKeyDown:t.handleOptionKeyDown.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?Ve.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",a)})},t.onChange=function(a){return t.props.onChange(a)},t.handleClickOutside=function(){return t.props.onCancel()},t}return r.prototype.render=function(){return Ve.createElement(Nx,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r})(b.Component),K7=(function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(a){return a.map(function(s,i){return Ve.createElement("option",{key:s,value:i},s)})},t.renderSelectMode=function(a){return Ve.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(a))},t.renderReadView=function(a,s){return Ve.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(a){return Ve.createElement($7,fa({key:"dropdown"},t.props,{monthNames:a,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(a){var s=t.state.dropdownVisible,i=[t.renderReadView(!s,a)];return s&&i.unshift(t.renderDropdown(a)),i},t.onChange=function(a){t.toggleDropdown(),a!==t.props.month&&t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return hF(i,t.props.locale)}:function(i){return bb(i,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(a);break;case"select":s=this.renderSelectMode(a);break}return Ve.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},r})(b.Component);function V7(e,r){for(var t=[],a=lA(e),s=lA(r);!pd(a,s);)t.push(Qa(a)),a=bl(a,1);return t}var z7=(function(e){Ks(r,e);function r(t){var a=e.call(this,t)||this;return a.renderOptions=function(){return a.state.monthYearsList.map(function(s){var i=Iy(s),o=Gl(a.props.date,s)&&Ni(a.props.date,s);return Ve.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:a.onChange.bind(a,i),"aria-selected":o?"true":void 0},o?Ve.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",fn(s,a.props.dateFormat,a.props.locale))})},a.onChange=function(s){return a.props.onChange(s)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:V7(a.props.minDate,a.props.maxDate)},a}return r.prototype.render=function(){var t=Is({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Ve.createElement(Nx,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},r})(b.Component),q7=(function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var a=lA(t.props.minDate),s=lA(t.props.maxDate),i=[];!pd(a,s);){var o=Iy(a);i.push(Ve.createElement("option",{key:o,value:o},fn(a,t.props.dateFormat,t.props.locale))),a=bl(a,1)}return i},t.onSelectChange=function(a){t.onChange(parseInt(a.target.value))},t.renderSelectMode=function(){return Ve.createElement("select",{value:Iy(lA(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(a){var s=fn(t.props.date,t.props.dateFormat,t.props.locale);return Ve.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return Ve.createElement(z7,fa({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var a=t.state.dropdownVisible,s=[t.renderReadView(!a)];return a&&s.unshift(t.renderDropdown()),s},t.onChange=function(a){t.toggleDropdown();var s=Qa(a);Gl(t.props.date,s)&&Ni(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ve.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},r})(b.Component),W7=(function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var a,s,i;t.list&&(t.list.scrollTop=(i=t.centerLi&&r.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(a=t.header)===null||a===void 0?void 0:a.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&i!==void 0?i:0)})},t.handleClick=function(a){var s,i;(t.props.minTime||t.props.maxTime)&&Bj(a,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&jj(a,t.props)||(i=(s=t.props).onChange)===null||i===void 0||i.call(s,a)},t.isSelectedTime=function(a){return t.props.selected&&P7(t.props.selected,a)},t.isDisabledTime=function(a){return(t.props.minTime||t.props.maxTime)&&Bj(a,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&jj(a,t.props)},t.liClasses=function(a){var s,i=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(a):void 0];return t.isSelectedTime(a)&&i.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(a)&&i.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(iA(a)*3600+oA(a)*60+ld(a))%(((s=t.props.intervals)!==null&&s!==void 0?s:r.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},t.handleOnKeyDown=function(a,s){var i,o;a.key===Ft.Space&&(a.preventDefault(),a.key=Ft.Enter),(a.key===Ft.ArrowUp||a.key===Ft.ArrowLeft)&&a.target instanceof HTMLElement&&a.target.previousSibling&&(a.preventDefault(),a.target.previousSibling instanceof HTMLElement&&a.target.previousSibling.focus()),(a.key===Ft.ArrowDown||a.key===Ft.ArrowRight)&&a.target instanceof HTMLElement&&a.target.nextSibling&&(a.preventDefault(),a.target.nextSibling instanceof HTMLElement&&a.target.nextSibling.focus()),a.key===Ft.Enter&&t.handleClick(s),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,a)},t.renderTimes=function(){for(var a,s=[],i=typeof t.props.format=="string"?t.props.format:"p",o=(a=t.props.intervals)!==null&&a!==void 0?a:r.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Qa(),A=Lg(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(y,w){return y.getTime()-w.getTime()}),f=60*I7(l),h=f/o,m=0;m<h;m++){var p=Dy(A,m*o);if(s.push(p),d){var v=L7(A,p,m,o,d);s=s.concat(v)}}var g=s.reduce(function(y,w){return w.getTime()<=l.getTime()?w:y},s[0]);return s.map(function(y){return Ve.createElement("li",{key:y.valueOf(),onClick:t.handleClick.bind(t,y),className:t.liClasses(y),ref:function(w){y===g&&(t.centerLi=w)},onKeyDown:function(w){t.handleOnKeyDown(w,y)},tabIndex:y===g?0:-1,role:"option","aria-selected":t.isSelectedTime(y)?"true":void 0,"aria-disabled":t.isDisabledTime(y)?"true":void 0},fn(y,i,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Ve.createElement(Ve.Fragment,null):Ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(a){t.header=a}},Ve.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},r.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},r.prototype.observeDatePickerHeightChanges=function(){var t=this,a=this.props.monthRef;this.updateContainerHeight(),a&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(a))},r.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var t=this,a,s=this.state.height;return Ve.createElement("div",{className:"react-datepicker__time-container ".concat(((a=this.props.todayButton)!==null&&a!==void 0?a:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Ve.createElement("div",{className:"react-datepicker__time"},Ve.createElement("div",{className:"react-datepicker__time-box"},Ve.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){t.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(t,a){return a.offsetTop-(t/2-a.clientHeight/2)},r})(b.Component),Ij=3,G7=(function(e){Ks(r,e);function r(t){var a=e.call(this,t)||this;return a.YEAR_REFS=nc([],Array(a.props.yearItemNumber),!0).map(function(){return b.createRef()}),a.isDisabled=function(s){return Mo(s,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(s){return Nb(s,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var s;return(s=a.props.selectingDate)!==null&&s!==void 0?s:a.props.preSelection},a.updateFocusOnPaginate=function(s){var i=function(){var o,l;(l=(o=a.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},a.handleYearClick=function(s,i){a.props.onDayClick&&a.props.onDayClick(s,i)},a.handleYearNavigation=function(s,i){var o,l,A,d,f=a.props,h=f.date,m=f.yearItemNumber;if(!(h===void 0||m===void 0)){var p=eA(h,m).startPeriod;a.isDisabled(i)||a.isExcluded(i)||((l=(o=a.props).setPreSelection)===null||l===void 0||l.call(o,i),s-p<0?a.updateFocusOnPaginate(m-(p-s)):s-p>=m?a.updateFocusOnPaginate(Math.abs(m-(s-p))):(d=(A=a.YEAR_REFS[s-p])===null||A===void 0?void 0:A.current)===null||d===void 0||d.focus())}},a.isSameDay=function(s,i){return ua(s,i)},a.isCurrentYear=function(s){return s===Zr(Qa())},a.isRangeStart=function(s){return a.props.startDate&&a.props.endDate&&Gl(Wl(Qa(),s),a.props.startDate)},a.isRangeEnd=function(s){return a.props.startDate&&a.props.endDate&&Gl(Wl(Qa(),s),a.props.endDate)},a.isInRange=function(s){return Qp(s,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(s){var i=a.props,o=i.selectsStart,l=i.selectsEnd,A=i.selectsRange,d=i.startDate,f=i.endDate;return!(o||l||A)||!a.selectingDate()?!1:o&&f?Qp(s,a.selectingDate(),f):l&&d||A&&d&&!f?Qp(s,d,a.selectingDate()):!1},a.isSelectingRangeStart=function(s){var i;if(!a.isInSelectingRange(s))return!1;var o=a.props,l=o.startDate,A=o.selectsStart,d=Wl(Qa(),s);return A?Gl(d,(i=a.selectingDate())!==null&&i!==void 0?i:null):Gl(d,l??null)},a.isSelectingRangeEnd=function(s){var i;if(!a.isInSelectingRange(s))return!1;var o=a.props,l=o.endDate,A=o.selectsEnd,d=o.selectsRange,f=Wl(Qa(),s);return A||d?Gl(f,(i=a.selectingDate())!==null&&i!==void 0?i:null):Gl(f,l??null)},a.isKeyboardSelected=function(s){if(!(a.props.disabledKeyboardNavigation||a.props.date===void 0||a.props.preSelection==null)){var i=a.props,o=i.minDate,l=i.maxDate,A=i.excludeDates,d=i.includeDates,f=i.filterDate,h=i.selected,m=Hh(Wl(a.props.date,s)),p=(o||l||A||d||f)&&Ig(s,a.props),v=!!h&&ua(m,Hh(h)),g=ua(m,Hh(a.props.preSelection));return!a.props.inline&&!v&&g&&!p}},a.isSelectedYear=function(s){var i=a.props,o=i.selectsMultiple,l=i.selected,A=i.selectedDates;return o?A==null?void 0:A.some(function(d){return s===Zr(d)}):!!l&&s===Zr(l)},a.onYearClick=function(s,i){var o=a.props.date;o!==void 0&&a.handleYearClick(Hh(Wl(o,i)),s)},a.onYearKeyDown=function(s,i){var o,l,A=s.key,d=a.props,f=d.date,h=d.yearItemNumber,m=d.handleOnKeyDown;if(A!==Ft.Tab&&s.preventDefault(),!a.props.disabledKeyboardNavigation)switch(A){case Ft.Enter:if(a.props.selected==null)break;a.onYearClick(s,i),(l=(o=a.props).setPreSelection)===null||l===void 0||l.call(o,a.props.selected);break;case Ft.ArrowRight:if(a.props.preSelection==null)break;a.handleYearNavigation(i+1,nA(a.props.preSelection,1));break;case Ft.ArrowLeft:if(a.props.preSelection==null)break;a.handleYearNavigation(i-1,Hf(a.props.preSelection,1));break;case Ft.ArrowUp:{if(f===void 0||h===void 0||a.props.preSelection==null)break;var p=eA(f,h).startPeriod,v=Ij,g=i-v;if(g<p){var y=h%v;i>=p&&i<p+y?v=y:v+=y,g=i-v}a.handleYearNavigation(g,Hf(a.props.preSelection,v));break}case Ft.ArrowDown:{if(f===void 0||h===void 0||a.props.preSelection==null)break;var w=eA(f,h).endPeriod,v=Ij,g=i+v;if(g>w){var y=h%v;i<=w&&i>w-y?v=y:v+=y,g=i+v}a.handleYearNavigation(g,nA(a.props.preSelection,v));break}}m&&m(s)},a.getYearClassNames=function(s){var i=a.props,o=i.date,l=i.disabled,A=i.minDate,d=i.maxDate,f=i.excludeDates,h=i.includeDates,m=i.filterDate,p=i.yearClassName;return Is("react-datepicker__year-text","react-datepicker__year-".concat(s),o?p==null?void 0:p(Wl(o,s)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(s),"react-datepicker__year-text--disabled":(A||d||f||h||m||l)&&Ig(s,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(s),"react-datepicker__year-text--range-start":a.isRangeStart(s),"react-datepicker__year-text--range-end":a.isRangeEnd(s),"react-datepicker__year-text--in-range":a.isInRange(s),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(s),"react-datepicker__year-text--today":a.isCurrentYear(s)})},a.getYearTabIndex=function(s){if(a.props.disabledKeyboardNavigation||a.props.preSelection==null)return"-1";var i=Zr(a.props.preSelection),o=Ig(s,a.props);return s===i&&!o?"0":"-1"},a.getYearContent=function(s){return a.props.renderYearContent?a.props.renderYearContent(s):s},a}return r.prototype.render=function(){var t=this,a=[],s=this.props,i=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,A=s.onYearMouseLeave;if(i===void 0)return null;for(var d=eA(i,o),f=d.startPeriod,h=d.endPeriod,m=function(g){a.push(Ve.createElement("div",{ref:p.YEAR_REFS[g-f],onClick:function(y){t.onYearClick(y,g)},onKeyDown:function(y){xF(y)&&(y.preventDefault(),y.key=Ft.Enter),t.onYearKeyDown(y,g)},tabIndex:Number(p.getYearTabIndex(g)),className:p.getYearClassNames(g),onMouseEnter:p.props.usePointerEvent?void 0:function(y){return l(y,g)},onPointerEnter:p.props.usePointerEvent?function(y){return l(y,g)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(y){return A(y,g)},onPointerLeave:p.props.usePointerEvent?function(y){return A(y,g)}:void 0,key:g,"aria-current":p.isCurrentYear(g)?"date":void 0},p.getYearContent(g)))},p=this,v=f;v<=h;v++)m(v);return Ve.createElement("div",{className:"react-datepicker__year"},Ve.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))},r})(b.Component);function Y7(e,r,t,a){for(var s=[],i=0;i<2*r+1;i++){var o=e+r-i,l=!0;t&&(l=Zr(t)<=o),a&&l&&(l=Zr(a)>=o),l&&s.push(o)}return s}var X7=(function(e){Ks(r,e);function r(t){var a=e.call(this,t)||this;a.yearOptionButtonsRef={},a.handleOptionKeyDown=function(l,A){var d;switch(A.key){case"Enter":A.preventDefault(),a.onChange(l);break;case"Escape":A.preventDefault(),a.props.onCancel();break;case"ArrowUp":case"ArrowDown":{A.preventDefault();var f=l+(A.key==="ArrowUp"?1:-1);a.yearOptionButtonsRef[f]&&((d=a.yearOptionButtonsRef[f])===null||d===void 0||d.focus());break}}},a.renderOptions=function(){a.yearOptionButtonsRef={};var l=a.props.year,A=a.state.yearsList.map(function(h){return Ve.createElement("div",{ref:function(m){a.yearOptionButtonsRef[h]=m,h===l&&(m==null||m.focus())},role:"button",tabIndex:0,className:l===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:a.onChange.bind(a,h),onKeyDown:a.handleOptionKeyDown.bind(a,h),"aria-selected":l===h?"true":void 0},l===h?Ve.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),d=a.props.minDate?Zr(a.props.minDate):null,f=a.props.maxDate?Zr(a.props.maxDate):null;return(!f||!a.state.yearsList.find(function(h){return h===f}))&&A.unshift(Ve.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},Ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!a.state.yearsList.find(function(h){return h===d}))&&A.push(Ve.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},Ve.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),A},a.onChange=function(l){a.props.onChange(l)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(l){var A=a.state.yearsList.map(function(d){return d+l});a.setState({yearsList:A})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var s=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,o=s||(i?10:5);return a.state={yearsList:Y7(a.props.year,o,a.props.minDate,a.props.maxDate)},a.dropdownRef=b.createRef(),a}return r.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var a=t.children?Array.from(t.children):null,s=a?a.find(function(i){return i.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},r.prototype.render=function(){var t=Is({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Ve.createElement(Nx,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r})(b.Component),J7=(function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var a=t.props.minDate?Zr(t.props.minDate):1900,s=t.props.maxDate?Zr(t.props.maxDate):2100,i=[],o=a;o<=s;o++)i.push(Ve.createElement("option",{key:o,value:o},o));return i},t.onSelectChange=function(a){t.onChange(parseInt(a.target.value))},t.renderSelectMode=function(){return Ve.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(a){return Ve.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},Ve.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Ve.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Ve.createElement(X7,fa({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var a=t.state.dropdownVisible,s=[t.renderReadView(!a)];return a&&s.unshift(t.renderDropdown()),s},t.onChange=function(a){t.toggleDropdown(),a!==t.props.year&&t.props.onChange(a)},t.toggleDropdown=function(a){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,a)})},t.handleYearChange=function(a,s){var i;(i=t.onSelect)===null||i===void 0||i.call(t,a,s),t.setOpen()},t.onSelect=function(a,s){var i,o;(o=(i=t.props).onSelect)===null||o===void 0||o.call(i,a,s)},t.setOpen=function(){var a,s;(s=(a=t.props).setOpen)===null||s===void 0||s.call(a,!0)},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ve.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},r})(b.Component),Z7=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],vF="react-datepicker-ignore-onclickoutside",e$=function(e){var r=(e.className||"").split(/\s+/);return Z7.some(function(t){return r.indexOf(t)>=0})},t$=(function(e){Ks(r,e);function r(t){var a=e.call(this,t)||this;return a.monthContainer=void 0,a.handleClickOutside=function(s){a.props.onClickOutside(s)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(s){var i,o;e$(s.target)&&((o=(i=a.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},a.getDateInView=function(){var s=a.props,i=s.preSelection,o=s.selected,l=s.openToDate,A=pF(a.props),d=gF(a.props),f=Qa(),h=l||o||i;return h||(A&&ac(f,A)?A:d&&pd(f,d)?d:f)},a.increaseMonth=function(){a.setState(function(s){var i=s.date;return{date:bl(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(s){var i=s.date;return{date:Au(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(s,i,o){a.props.onSelect(s,i,o),a.props.setPreSelection&&a.props.setPreSelection(s)},a.handleDayMouseEnter=function(s){a.setState({selectingDate:s}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(s)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(s,i){a.setState({selectingDate:Wl(Qa(),i)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(s,i)},a.handleYearMouseLeave=function(s,i){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(s,i)},a.handleYearChange=function(s){var i,o,l,A;(o=(i=a.props).onYearChange)===null||o===void 0||o.call(i,s),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(s),(A=(l=a.props).setOpen)===null||A===void 0||A.call(l,!0)),a.props.setPreSelection&&a.props.setPreSelection(s)},a.getEnabledPreSelectionDateForMonth=function(s){if(!Mo(s,a.props))return s;for(var i=lA(s),o=b7(s),l=P8(o,i),A=null,d=0;d<=l;d++){var f=wl(i,d);if(!Mo(f,a.props)){A=f;break}}return A},a.handleMonthChange=function(s){var i,o,l,A=(i=a.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;a.handleCustomMonthChange(A),a.props.adjustDateOnChange&&(a.props.onSelect(A),(l=(o=a.props).setOpen)===null||l===void 0||l.call(o,!0)),a.props.setPreSelection&&a.props.setPreSelection(A)},a.handleCustomMonthChange=function(s){var i,o;(o=(i=a.props).onMonthChange)===null||o===void 0||o.call(i,s),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(s){a.handleYearChange(s),a.handleMonthChange(s)},a.changeYear=function(s){a.setState(function(i){var o=i.date;return{date:Wl(o,Number(s))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(s){a.setState(function(i){var o=i.date;return{date:fo(o,Number(s))}},function(){return a.handleMonthChange(a.state.date)})},a.changeMonthYear=function(s){a.setState(function(i){var o=i.date;return{date:Wl(fo(o,Ai(s)),Zr(s))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(s){s===void 0&&(s=a.state.date);var i=a.props.disabled,o=cd(s,a.props.locale,a.props.calendarStartDay),l=[];return a.props.showWeekNumbers&&l.push(Ve.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(i?"react-datepicker__day-name--disabled":""),role:"columnheader"},Ve.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Ve.createElement("span",{"aria-hidden":"true"},a.props.weekLabel||"#"))),l.concat([0,1,2,3,4,5,6].map(function(A){var d=wl(o,A),f=a.formatWeekday(d,a.props.locale),h=a.props.weekDayClassName?a.props.weekDayClassName(d):void 0;return Ve.createElement("div",{key:A,role:"columnheader",className:Is("react-datepicker__day-name",h,i?"react-datepicker__day-name--disabled":"")},Ve.createElement("span",{className:"react-datepicker__sr-only"},fn(d,"EEEE",a.props.locale)),Ve.createElement("span",{"aria-hidden":"true"},f))}))},a.formatWeekday=function(s,i){return a.props.formatWeekDay?N7(s,a.props.formatWeekDay,i):a.props.useWeekdaysShort?B7(s,i):j7(s,i)},a.decreaseYear=function(){a.setState(function(s){var i,o=s.date;return{date:Hf(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var s,i,o;if(!a.props.renderCustomHeader){var l=(s=a.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,A=a.props.showPreviousMonths?l-1:0,d=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:A,f=Au(a.state.date,d),h;switch(!0){case a.props.disabled:h=!0;break;case a.props.showMonthYearPicker:h=_j(a.state.date,a.props);break;case a.props.showYearPicker:h=F7(a.state.date,a.props);break;case a.props.showQuarterYearPicker:h=_7(a.state.date,a.props);break;default:h=Cj(f,a.props);break}if(!(!((o=a.props.forceShowMonthNavigation)!==null&&o!==void 0?o:r.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&h||a.props.showTimeSelectOnly)){var m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(v=a.decreaseYear),h&&a.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),v=void 0);var g=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,y=a.props,w=y.previousMonthButtonLabel,j=w===void 0?r.defaultProps.previousMonthButtonLabel:w,C=y.previousYearButtonLabel,E=C===void 0?r.defaultProps.previousYearButtonLabel:C,U=a.props,k=U.previousMonthAriaLabel,F=k===void 0?typeof j=="string"?j:"Previous Month":k,D=U.previousYearAriaLabel,_=D===void 0?typeof E=="string"?E:"Previous Year":D;return Ve.createElement("button",{type:"button",className:p.join(" "),onClick:v,onKeyDown:a.props.handleOnKeyDown,"aria-label":g?_:F},Ve.createElement("span",{className:m.join(" ")},g?E:j))}}},a.increaseYear=function(){a.setState(function(s){var i,o=s.date;return{date:nA(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var s;if(!a.props.renderCustomHeader){var i;switch(!0){case a.props.disabled:i=!0;break;case a.props.showMonthYearPicker:i=Ej(a.state.date,a.props);break;case a.props.showYearPicker:i=k7(a.state.date,a.props);break;case a.props.showQuarterYearPicker:i=E7(a.state.date,a.props);break;default:i=Sj(a.state.date,a.props);break}if(!(!((s=a.props.forceShowMonthNavigation)!==null&&s!==void 0?s:r.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&i||a.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];a.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var A=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(A=a.increaseYear),i&&a.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),A=void 0);var d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,f=a.props,h=f.nextMonthButtonLabel,m=h===void 0?r.defaultProps.nextMonthButtonLabel:h,p=f.nextYearButtonLabel,v=p===void 0?r.defaultProps.nextYearButtonLabel:p,g=a.props,y=g.nextMonthAriaLabel,w=y===void 0?typeof m=="string"?m:"Next Month":y,j=g.nextYearAriaLabel,C=j===void 0?typeof v=="string"?v:"Next Year":j;return Ve.createElement("button",{type:"button",className:o.join(" "),onClick:A,onKeyDown:a.props.handleOnKeyDown,"aria-label":d?C:w},Ve.createElement("span",{className:l.join(" ")},d?v:m))}}},a.renderCurrentMonth=function(s){s===void 0&&(s=a.state.date);var i=["react-datepicker__current-month"];return a.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),Ve.createElement("h2",{className:i.join(" ")},fn(s,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showYearDropdown||s))return Ve.createElement(J7,fa({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:Zr(a.state.date)}))},a.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showMonthDropdown||s))return Ve.createElement(K7,fa({},r.defaultProps,a.props,{month:Ai(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showMonthYearDropdown||s))return Ve.createElement(q7,fa({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(s){a.props.onSelect(yj(),s),a.props.setPreSelection&&a.props.setPreSelection(yj())},a.renderTodayButton=function(){if(!(!a.props.todayButton||a.props.showTimeSelectOnly))return Ve.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDayNamesHeader=function(s){return Ve.createElement("div",{className:"react-datepicker__day-names",role:"row"},a.header(s))},a.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return Ve.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(i),Ve.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(o!==0),a.renderMonthYearDropdown(o!==0),a.renderYearDropdown(o!==0)))},a.renderCustomHeader=function(s){var i,o,l=s.monthDate,A=s.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var d=a.props,f=d.showYearPicker,h=d.yearItemNumber,m;if(f){var p=eA(l,h),v=p.startPeriod,g=p.endPeriod;m={startYear:v,endYear:g}}var y=Cj(a.state.date,a.props),w=Sj(a.state.date,a.props),j=_j(a.state.date,a.props),C=Ej(a.state.date,a.props);return Ve.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},(o=(i=a.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,fa(fa(fa({},a.state),f&&{visibleYearsRange:m}),{customHeaderCount:A,monthDate:l,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:w,prevYearButtonDisabled:j,nextYearButtonDisabled:C})))},a.renderYearHeader=function(s){var i=s.monthDate,o=a.props,l=o.showYearPicker,A=o.yearItemNumber,d=A===void 0?r.defaultProps.yearItemNumber:A,f=eA(i,d),h=f.startPeriod,m=f.endPeriod;return Ve.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(h," - ").concat(m):Zr(i))},a.renderHeader=function(s){var i=s.monthDate,o=s.i,l=o===void 0?0:o,A={monthDate:i,i:l};switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(A);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(A);default:return a.renderDefaultHeader(A)}},a.renderMonths=function(){var s,i;if(!(a.props.showTimeSelectOnly||a.props.showYearPicker)){for(var o=[],l=(s=a.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,A=a.props.showPreviousMonths?l-1:0,d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?nA(a.state.date,A):Au(a.state.date,A),f=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:A,h=0;h<l;++h){var m=h-f+A,p=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?nA(d,m):bl(d,m),v="month-".concat(h),g=h<l-1,y=h>0;o.push(Ve.createElement("div",{key:v,ref:function(w){a.monthContainer=w??void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:p,i:h}),Ve.createElement(H7,fa({},r.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:p,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:h,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:y,dayNamesHeader:a.renderDayNamesHeader(p)}))))}return o}},a.renderYears=function(){if(!a.props.showTimeSelectOnly&&a.props.showYearPicker)return Ve.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),Ve.createElement(G7,fa({},r.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave})))},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return Ve.createElement(W7,fa({},r.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var s=a.props.selected?new Date(a.props.selected):void 0,i=s&&jx(s)&&!!a.props.selected,o=i?"".concat(kj(s.getHours()),":").concat(kj(s.getMinutes())):"";if(a.props.showTimeInput)return Ve.createElement(Q7,fa({},r.defaultProps,a.props,{date:s,timeString:o,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var s,i=eA(a.state.date,(s=a.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,A;return a.props.showYearPicker?A="".concat(o," - ").concat(l):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?A=Zr(a.state.date):A="".concat(bb(Ai(a.state.date),a.props.locale)," ").concat(Zr(a.state.date)),Ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&A)},a.renderChildren=function(){if(a.props.children)return Ve.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=b.createRef(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:vF,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Rm}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},r.prototype.componentDidUpdate=function(t){var a=this;if(this.props.preSelection&&(!ua(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!Ni(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!ua(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var t=this.props.container||m7;return Ve.createElement(Nx,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Ve.createElement("div",{style:{display:"contents"},ref:this.containerRef},Ve.createElement(t,{className:Is("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},r})(b.Component),r$=function(e){var r=e.icon,t=e.className,a=t===void 0?"":t,s=e.onClick,i="react-datepicker__calendar-icon";if(typeof r=="string")return Ve.createElement("i",{className:"".concat(i," ").concat(r," ").concat(a),"aria-hidden":"true",onClick:s});if(Ve.isValidElement(r)){var o=r;return Ve.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(a),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof s=="function"&&s(l)}})}return Ve.createElement("svg",{className:"".concat(i," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},Ve.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},wF=(function(e){Ks(r,e);function r(t){var a=e.call(this,t)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return g5.createPortal(this.props.children,this.el)},r})(b.Component),a$="[tabindex], a, button, input, select, textarea",n$=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},yF=(function(e){Ks(r,e);function r(t){var a=e.call(this,t)||this;return a.getTabChildren=function(){var s;return Array.prototype.slice.call((s=a.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(a$),1,-1).filter(n$)},a.handleFocusStart=function(){var s=a.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},a.handleFocusEnd=function(){var s=a.getTabChildren();s&&s.length>1&&s[0].focus()},a.tabLoopRef=b.createRef(),a}return r.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:r.defaultProps.enableTabLoop)?Ve.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Ve.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Ve.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r})(b.Component);function s$(e){function r(t){var a,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,i=b.useRef(null),o=h7(fa({open:!s,whileElementsMounted:XS,placement:t.popperPlacement,middleware:nc([t4({padding:15}),e4(10),r4({element:i})],(a=t.popperModifiers)!==null&&a!==void 0?a:[],!0)},t.popperProps)),l=fa(fa({},t),{hidePopper:s,popperProps:fa(fa({},o),{arrowRef:i})});return Ve.createElement(e,fa({},l))}return r.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),r}var i$=function(e){var r=e.className,t=e.wrapperClassName,a=e.hidePopper,s=a===void 0?!0:a,i=e.popperComponent,o=e.targetComponent,l=e.enableTabLoop,A=e.popperOnKeyDown,d=e.portalId,f=e.portalHost,h=e.popperProps,m=e.showArrow,p=void 0;if(!s){var v=Is("react-datepicker-popper",r);p=Ve.createElement(yF,{enableTabLoop:l},Ve.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:v,"data-placement":h.placement,onKeyDown:A},i,m&&Ve.createElement(o7,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(p=b.createElement(e.popperContainer,{},p)),d&&!s&&(p=Ve.createElement(wF,{portalId:d,portalHost:f},p));var g=Is("react-datepicker-wrapper",t);return Ve.createElement(Ve.Fragment,null,Ve.createElement("div",{ref:h.refs.setReference,className:g},o),p)},o$=s$(i$);function l$(e,r){return e&&r?Ai(e)!==Ai(r)||Zr(e)!==Zr(r):e!==r}var iw="Date input not valid.",c$=(function(e){Ks(r,e);function r(t){var a=e.call(this,t)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:Qa()},a.modifyHolidays=function(){var s;return(s=a.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var l=new Date(o.date);return jx(l)?nc(nc([],i,!0),[fa(fa({},o),{date:l})],!1):i},[])},a.calcInitialState=function(){var s,i=a.getPreSelection(),o=pF(a.props),l=gF(a.props),A=o&&ac(i,Lg(o))?o:l&&pd(i,bj(l))?l:i;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&s!==void 0?s:A,highlightDates:Fj(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.getInputValue=function(){var s,i=a.props,o=i.locale,l=i.startDate,A=i.endDate,d=i.rangeSeparator,f=i.selected,h=i.selectedDates,m=i.selectsMultiple,p=i.selectsRange,v=i.value,g=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,y=a.state.inputValue;return typeof v=="string"?v:typeof y=="string"?y:p?g7(l,A,{dateFormat:g,locale:o,rangeSeparator:d}):m?x7(h??[],{dateFormat:g,locale:o}):uo(f,{dateFormat:g,locale:o})},a.resetHiddenStatus=function(){a.setState(fa(fa({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(fa(fa({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var s,i;(i=(s=a.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},a.setBlur=function(){var s,i;(i=(s=a.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(s,i){i===void 0&&(i=!1),a.setState({open:s,preSelection:s&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:ow},function(){s||a.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return sA(a.state.preSelection)},a.isCalendarOpen=function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(s){var i,o,l=a.state.wasHidden,A=l?a.state.open:!0;l&&a.resetHiddenStatus(),a.state.preventFocus||((o=(i=a.props).onFocus)===null||o===void 0||o.call(i,s),A&&!a.props.preventOpenOnFocus&&!a.props.readOnly&&a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.resetInputValue=function(){a.setState(fa(fa({},a.state),{inputValue:null}))},a.handleBlur=function(s){var i,o;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&((o=(i=a.props).onBlur)===null||o===void 0||o.call(i,s)),a.resetInputValue(),a.state.open&&a.props.open===!1&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(s){var i,o;a.props.inline||a.setOpen(!1),(o=(i=a.props).onClickOutside)===null||o===void 0||o.call(i,s),a.props.withPortal&&s.preventDefault()},a.handleChange=function(){for(var s,i,o,l,A,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var h=d[0];if(!(a.props.onChangeRaw&&(a.props.onChangeRaw.apply(a,d),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){a.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:A$});var m=a.props,p=m.selectsRange,v=m.startDate,g=m.endDate,y=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,w=(i=a.props.strictParsing)!==null&&i!==void 0?i:r.defaultProps.strictParsing,j=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(p){var C=a.props.rangeSeparator,E=C.trim(),U=j.split(y.includes(E)?C:E,2).map(function(J){return J.trim()}),k=U[0],F=U[1],D=rw(k??"",y,a.props.locale,w),_=D?rw(F??"",y,a.props.locale,w):null,G=(v==null?void 0:v.getTime())!==(D==null?void 0:D.getTime()),L=(g==null?void 0:g.getTime())!==(_==null?void 0:_.getTime());if(!G&&!L||D&&Mo(D,a.props)||_&&Mo(_,a.props))return;(l=(o=a.props).onChange)===null||l===void 0||l.call(o,[D,_],h)}else{var T=rw(j,y,a.props.locale,w,(A=a.props.selected)!==null&&A!==void 0?A:void 0);(T||!j)&&a.setSelected(T,h,!0)}}},a.handleSelect=function(s,i,o){var l;if(!a.props.readOnly){var A=a.props,d=A.selectsRange,f=A.startDate,h=A.endDate,m=A.locale,p=A.swapRange,v=(l=a.props.dateFormat)!==null&&l!==void 0?l:r.defaultProps.dateFormat,g=!d||f&&!h&&(p||!nw(s,f));if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&g&&a.sendFocusBackToInput(),a.props.onChangeRaw){var y=uo(s,{dateFormat:v,locale:m});a.props.onChangeRaw(i,{date:s,formattedDate:y})}a.setSelected(s,i,!1,o),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect?a.setPreSelection(s):g&&a.setOpen(!1)}},a.setSelected=function(s,i,o,l){var A,d,f=s;if(a.props.showYearPicker){if(f!==null&&Ig(Zr(f),a.props))return}else if(a.props.showMonthYearPicker){if(f!==null&&mF(f,a.props))return}else if(f!==null&&Mo(f,a.props))return;var h=a.props,m=h.onChange,p=h.selectsRange,v=h.startDate,g=h.endDate,y=h.selectsMultiple,w=h.selectedDates,j=h.minTime,C=h.swapRange;if(!au(a.props.selected,f)||a.props.allowSameDay||p||y)if(f!==null&&(a.props.selected&&(!o||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly&&!a.props.showTimeInput)&&(f=aw(f,{hour:iA(a.props.selected),minute:oA(a.props.selected),second:ld(a.props.selected)})),!o&&(a.props.showTimeSelect||a.props.showTimeSelectOnly)&&j&&(f=aw(f,{hour:j.getHours(),minute:j.getMinutes(),second:j.getSeconds()})),a.props.inline||a.setState({preSelection:f}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:l})),p){var E=!v&&!g,U=v&&!g,k=!v&&!!g,F=v&&g;E?m==null||m([f,null],i):U?f===null?m==null||m([null,null],i):nw(f,v)?C?m==null||m([f,v],i):m==null||m([f,null],i):m==null||m([v,f],i):k&&(f&&nw(f,g)?m==null||m([f,g],i):m==null||m([f,null],i)),F&&(m==null||m([f,null],i))}else if(y){if(f!==null)if(!(w!=null&&w.length))m==null||m([f],i);else{var D=w.some(function(G){return ua(G,f)});if(D){var _=w.filter(function(G){return!ua(G,f)});m==null||m(_,i)}else m==null||m(nc(nc([],w,!0),[f],!1),i)}}else m==null||m(f,i);o||((d=(A=a.props).onSelect)===null||d===void 0||d.call(A,f,i),a.setState({inputValue:null}))},a.setPreSelection=function(s){if(!a.props.readOnly){var i=sA(a.props.minDate),o=sA(a.props.maxDate),l=!0;if(s){var A=Lg(s);if(i&&o)l=Xd(s,a.props.minDate,a.props.maxDate);else if(i){var d=Lg(a.props.minDate);l=pd(s,d)||au(A,d)}else if(o){var f=bj(a.props.maxDate);l=ac(s,f)||au(A,f)}}l&&a.setState({preSelection:s})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(s){var i,o;if(!(a.props.selectsRange||a.props.selectsMultiple)){var l=a.props.selected?a.props.selected:a.getPreSelection(),A=a.props.selected?s:aw(l,{hour:iA(s),minute:oA(s)});a.setState({preSelection:A}),(o=(i=a.props).onChange)===null||o===void 0||o.call(i,A),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var s,i;!a.props.disabled&&!a.props.readOnly&&a.setOpen(!0),(i=(s=a.props).onInputClick)===null||i===void 0||i.call(s)},a.onInputKeyDown=function(s){var i,o,l,A,d,f;(o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,s);var h=s.key;if(!a.state.open&&!a.props.inline&&!a.props.preventOpenOnFocus){(h===Ft.ArrowDown||h===Ft.ArrowUp||h===Ft.Enter)&&((l=a.onInputClick)===null||l===void 0||l.call(a));return}if(a.state.open){if(h===Ft.ArrowDown||h===Ft.ArrowUp){s.preventDefault();var m=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((A=a.calendar)===null||A===void 0?void 0:A.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(m);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var v=Qa(a.state.preSelection);h===Ft.Enter?(s.preventDefault(),s.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===ow?(a.handleSelect(v,s),!a.props.shouldCloseOnSelect&&a.setPreSelection(v)):a.setOpen(!1)):h===Ft.Escape?(s.preventDefault(),s.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):h===Ft.Tab&&a.setOpen(!1),a.inputOk()||(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:iw})}},a.onPortalKeyDown=function(s){var i=s.key;i===Ft.Escape&&(s.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(s){var i,o,l,A,d,f,h=a.props,m=h.minDate,p=h.maxDate,v=h.disabledKeyboardNavigation,g=h.showWeekPicker,y=h.shouldCloseOnSelect,w=h.locale,j=h.calendarStartDay,C=h.adjustDateOnChange,E=h.inline;if((o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,s),!v){var U=s.key,k=s.shiftKey,F=Qa(a.state.preSelection),D=function(re,V){var Y=V;switch(re){case Ft.ArrowRight:Y=g?d0(V,1):wl(V,1);break;case Ft.ArrowLeft:Y=g?gj(V):IH(V);break;case Ft.ArrowUp:Y=gj(V);break;case Ft.ArrowDown:Y=d0(V,1);break;case Ft.PageUp:Y=k?Hf(V,1):Au(V,1);break;case Ft.PageDown:Y=k?nA(V,1):bl(V,1);break;case Ft.Home:Y=cd(V,w,j);break;case Ft.End:Y=y7(V);break}return Y},_=function(re,V){for(var Y=40,H=re,Z=!1,Ae=0,ee=D(re,V);!Z;){if(Ae>=Y){ee=V;break}m&&ee<m&&(H=Ft.ArrowRight,ee=Mo(m,a.props)?D(H,ee):m),p&&ee>p&&(H=Ft.ArrowLeft,ee=Mo(p,a.props)?D(H,ee):p),Mo(ee,a.props)?((H===Ft.PageUp||H===Ft.Home)&&(H=Ft.ArrowRight),(H===Ft.PageDown||H===Ft.End)&&(H=Ft.ArrowLeft),ee=D(H,ee)):Z=!0,Ae++}return ee};if(U===Ft.Enter){s.preventDefault(),a.handleSelect(F,s),!y&&a.setPreSelection(F);return}else if(U===Ft.Escape){s.preventDefault(),a.setOpen(!1),a.inputOk()||(A=(l=a.props).onInputError)===null||A===void 0||A.call(l,{code:1,msg:iw});return}var G=null;switch(U){case Ft.ArrowLeft:case Ft.ArrowRight:case Ft.ArrowUp:case Ft.ArrowDown:case Ft.PageUp:case Ft.PageDown:case Ft.Home:case Ft.End:G=_(U,F);break}if(!G){(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:iw});return}if(s.preventDefault(),a.setState({lastPreSelectChange:ow}),C&&a.setSelected(G),a.setPreSelection(G),E){var L=Ai(F),T=Ai(G),J=Zr(F),R=Zr(G);L!==T||J!==R?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}},a.onPopperKeyDown=function(s){var i=s.key;i===Ft.Escape&&(s.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),a.sendFocusBackToInput();var i=a.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],s):l==null||l(null,s),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(s){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(s)&&a.setOpen(!1)},a.renderCalendar=function(){var s,i;return!a.props.inline&&!a.isCalendarOpen()?null:Ve.createElement(t$,fa({showMonthYearDropdown:void 0,ref:function(o){a.calendar=o}},a.props,a.state,{setOpen:a.setOpen,dateFormat:(s=a.props.dateFormatCalendar)!==null&&s!==void 0?s:r.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:U7(a.modifyHolidays()),outsideClickIgnoreClass:a.props.outsideClickIgnoreClass,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:(i=a.props.dropdownMode)!==null&&i!==void 0?i:r.defaultProps.dropdownMode}),a.props.children)},a.renderAriaLiveRegion=function(){var s,i=a.props.locale,o=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,l=a.props.showTimeInput||a.props.showTimeSelect,A=l?"PPPPp":"PPPP",d;return a.props.selectsRange?d="Selected start date: ".concat(uo(a.props.startDate,{dateFormat:A,locale:i}),". ").concat(a.props.endDate?"End date: "+uo(a.props.endDate,{dateFormat:A,locale:i}):""):a.props.showTimeSelectOnly?d="Selected time: ".concat(uo(a.props.selected,{dateFormat:o,locale:i})):a.props.showYearPicker?d="Selected year: ".concat(uo(a.props.selected,{dateFormat:"yyyy",locale:i})):a.props.showMonthYearPicker?d="Selected month: ".concat(uo(a.props.selected,{dateFormat:"MMMM yyyy",locale:i})):a.props.showQuarterYearPicker?d="Selected quarter: ".concat(uo(a.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):d="Selected date: ".concat(uo(a.props.selected,{dateFormat:A,locale:i})),Ve.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},a.renderDateInput=function(){var s,i,o=Is(a.props.className,(s={},s[a.props.outsideClickIgnoreClass||r.defaultProps.outsideClickIgnoreClass]=a.state.open,s)),l=a.props.customInput||Ve.createElement("input",{type:"text"}),A=a.props.customInputRef||"ref";return b.cloneElement(l,(i={},i[A]=function(d){a.input=d},i.value=a.getInputValue(),i.onBlur=a.handleBlur,i.onChange=a.handleChange,i.onClick=a.onInputClick,i.onFocus=a.handleFocus,i.onKeyDown=a.onInputKeyDown,i.id=a.props.id,i.name=a.props.name,i.form=a.props.form,i.autoFocus=a.props.autoFocus,i.placeholder=a.props.placeholderText,i.disabled=a.props.disabled,i.autoComplete=a.props.autoComplete,i.className=Is(l.props.className,o),i.title=a.props.title,i.readOnly=a.props.readOnly,i.required=a.props.required,i.tabIndex=a.props.tabIndex,i["aria-describedby"]=a.props.ariaDescribedBy,i["aria-invalid"]=a.props.ariaInvalid,i["aria-labelledby"]=a.props.ariaLabelledBy,i["aria-required"]=a.props.ariaRequired,i))},a.renderClearButton=function(){var s=a.props,i=s.isClearable,o=s.disabled,l=s.selected,A=s.startDate,d=s.endDate,f=s.clearButtonTitle,h=s.clearButtonClassName,m=h===void 0?"":h,p=s.ariaLabelClose,v=p===void 0?"Close":p,g=s.selectedDates,y=s.readOnly;return i&&!y&&(l!=null||A!=null||d!=null||g!=null&&g.length)?Ve.createElement("button",{type:"button",className:Is("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:a.onClearClick,title:f,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:vF,readOnly:!1,rangeSeparator:fF,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Rm,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(t,a){var s,i,o,l;t.inline&&l$(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Fj(this.props.highlightDates)}),!a.focused&&!au(t.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),a.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var t=this.props,a=t.showIcon,s=t.icon,i=t.calendarIconClassname,o=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,A=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Ve.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&Ve.createElement(r$,fa({icon:s,className:Is(o,!o&&i,A&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var a=this.state.open?Ve.createElement(yF,{enableTabLoop:this.props.enableTabLoop},Ve.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(a=Ve.createElement(wF,fa({portalId:this.props.portalId},this.props),a)),Ve.createElement("div",null,this.renderInputContainer(),a)}return Ve.createElement(o$,fa({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r})(b.Component),A$="input",ow="navigate";const bF=b.forwardRef(({value:e,onClick:r,placeholder:t,className:a,id:s,name:i},o)=>n.jsxs("div",{className:"relative",children:[n.jsx(Te,{id:s,name:i,ref:o,value:e||"",onClick:r,readOnly:!0,placeholder:t||"DD/MM/AAAA",className:lt("pr-10",a)}),n.jsx(wr,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}));bF.displayName="DateInput";function ms({id:e,name:r,value:t,onChange:a,className:s,minDate:i,maxDate:o,required:l}){const A=t?lF(`${t}`):null;return n.jsx(c$,{selected:A,onChange:d=>{if(!d){a==null||a("");return}a==null||a(ed(d,"yyyy-MM-dd"))},customInput:n.jsx(bF,{id:e,name:r,className:s}),dateFormat:"dd/MM/yyyy",placeholderText:"DD/MM/AAAA",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",minDate:i,maxDate:o,calendarClassName:"dp-modern",popperClassName:"dp-popper",required:l})}function d$(){const[e,r]=b.useState(null),[t,a]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(null),[A,d]=b.useState([]),[f,h]=b.useState(!0),[m,p]=b.useState({data_nascimento:"",endereco:"",telefone:"",tipo_sanguineo:"",alergias:"",condicoes_cronicas:""}),[v,g]=b.useState(!1),{toast:y}=Va();b.useEffect(()=>{let D=!0;return(async()=>{var _,G,L,T;try{const[J,R]=await Promise.allSettled([ha.getPerfil(),ha.getPacienteDoUsuario()]);if(!D)return;if(J.status==="fulfilled"&&r(J.value),R.status==="fulfilled"&&a(R.value),J.status==="rejected"&&R.status==="rejected"){const re=((G=(_=J.reason)==null?void 0:_.response)==null?void 0:G.status)||((T=(L=R.reason)==null?void 0:L.response)==null?void 0:T.status);l(re===401?"Sua sesso no  vlida. Verifique o login e o tipo de autenticao (Bearer/JWT/Token).":"No foi possvel carregar seu perfil.")}}finally{D&&i(!1)}})(),()=>{D=!1}},[]),b.useEffect(()=>{let D=!0;return(async()=>{try{h(!0);const _=await ha.getConsultas();if(D){const L=(Array.isArray(_)?_:(_==null?void 0:_.results)||[]).map(R=>{var H,Z,Ae,ee,Q,q,$,X,te,K,z;const re=((Z=(H=R.medico)==null?void 0:H.user)==null?void 0:Z.first_name)||((Ae=R.medico)==null?void 0:Ae.first_name)||((ee=R.medico)==null?void 0:ee.nome)||"",V=((q=(Q=R.medico)==null?void 0:Q.user)==null?void 0:q.last_name)||(($=R.medico)==null?void 0:$.last_name)||"",Y=[re,V].filter(Boolean).join(" ").trim()||((X=R.medico)==null?void 0:X.nome)||"";return{id:R.id,data:R.data||R.data_hora,medico:{nome:Y,especialidade:((z=(K=(te=R.medico)==null?void 0:te.especialidades)==null?void 0:K[0])==null?void 0:z.nome)||R.especialidade||"No especificada"},status:R.status,local:R.local||R.localizacao||R.observacoes||"Local no especificado",tipo:R.tipo||R.motivo||"Consulta"}}),T=new Date,J=L.filter(R=>{const V=(R.status||"").toLowerCase().includes("agend"),Y=R.data?new Date(R.data)>T:!1;return V||Y});d(J.slice(0,3))}}catch(_){console.error("Erro ao buscar consultas:",_)}finally{D&&h(!1)}})(),()=>{D=!1}},[]),b.useEffect(()=>{t&&e&&p({data_nascimento:e.data_nascimento||"",endereco:e.endereco||"",telefone:e.telefone||"",tipo_sanguineo:t.tipo_sanguineo||"",alergias:t.alergias||"",condicoes_cronicas:t.condicoes_cronicas||""})},[t,e]);const w=D=>{const{name:_,value:G}=D.target;p(L=>({...L,[_]:G}))},j=async D=>{D.preventDefault(),g(!0);try{await ha.atualizarPerfil({data_nascimento:m.data_nascimento,endereco:m.endereco,telefone:m.telefone}),await ha.atualizarPaciente({tipo_sanguineo:m.tipo_sanguineo,alergias:m.alergias,condicoes_cronicas:m.condicoes_cronicas});const[_,G]=await Promise.allSettled([ha.getPerfil(),ha.getPacienteDoUsuario()]);_.status==="fulfilled"&&r(_.value),G.status==="fulfilled"&&a(G.value),y({title:"Perfil atualizado",description:"Suas informaes foram salvas com sucesso."})}catch(_){console.error("Erro ao salvar perfil:",_),y({title:"Erro ao salvar",description:"No foi possvel atualizar seu perfil. Tente novamente.",variant:"destructive"})}finally{g(!1)}},C=D=>D?([D.first_name,D.last_name].filter(Boolean).join(" ")||D.username||"Usurio").split(" ").map(G=>G[0]).join("").toUpperCase().slice(0,2):"?",E=D=>D?D.length>50?D.substring(0,50)+"...":D:"No informado",U=e&&(!e.data_nascimento||!e.endereco||!e.telefone),k=[{label:"Perfil",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"}],F=[{title:"Contato com mdico",description:"Solicite um horrio",href:"/paciente/consultas/nova",icon:wr,color:"blue"},{title:"Ver Pronturio",description:"Acesse seu histrico mdico",href:"/paciente/prontuario",icon:hn,color:"green"},{title:"Exames",description:"Visualize seus exames",href:"/paciente/exames",icon:rA,color:"purple"},{title:"Receitas",description:"Suas receitas mdicas",href:"/paciente/receitas",icon:Xg,color:"red"}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950",children:n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-8 shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/95 via-indigo-600/95 to-purple-600/95"}),n.jsx("div",{className:"absolute -top-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl"}),n.jsx("div",{className:"absolute -bottom-4 -left-4 h-32 w-32 rounded-full bg-white/5 blur-2xl"}),n.jsxs("div",{className:"relative flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Lm,{className:"h-24 w-24 ring-4 ring-white/40 shadow-xl",children:n.jsx(Im,{className:"bg-gradient-to-br from-white to-blue-100 text-blue-700 text-2xl font-bold shadow-inner",children:s?"...":C(e)})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 rounded-full bg-emerald-400 border-3 border-white shadow-lg"})]}),n.jsxs("div",{className:"text-white",children:[n.jsx("h1",{className:"text-4xl font-bold mb-2 drop-shadow-sm",children:s?n.jsx(Br,{className:"h-10 w-64 bg-white/20"}):[e==null?void 0:e.first_name,e==null?void 0:e.last_name].filter(Boolean).join(" ")||(e==null?void 0:e.username)||"Usurio"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Hs,{className:"h-5 w-5 text-blue-100"}),n.jsx("p",{className:"text-blue-50 text-lg font-medium",children:"Paciente Verificado"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[(e==null?void 0:e.cpf)&&n.jsxs(lr,{className:"bg-white/25 text-white border-white/40 hover:bg-white/35 font-medium px-3 py-1 shadow-sm",children:["CPF: ",e.cpf]}),(t==null?void 0:t.tipo_sanguineo)&&n.jsxs(lr,{className:"bg-red-500/30 text-red-50 border-red-200/40 hover:bg-red-500/40 font-medium px-3 py-1 shadow-sm",children:[n.jsx(CN,{className:"h-4 w-4 mr-1"}),t.tipo_sanguineo]})]})]})]}),n.jsxs(ve,{className:"bg-white/25 hover:bg-white/35 text-white border-white/40 backdrop-blur-sm shadow-lg font-medium",children:[n.jsx(iI,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})]}),n.jsx(Wi,{tabs:k,basePath:"/paciente"}),!s&&!o&&U&&n.jsxs(ke,{className:"border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 shadow-lg dark:border-amber-600",children:[n.jsx(Ke,{className:"pb-4",children:n.jsxs(Ge,{className:"flex items-center gap-3 text-amber-800 dark:text-amber-200",children:[n.jsx("div",{className:"p-2 rounded-full bg-amber-200 dark:bg-amber-700",children:n.jsx(tA,{className:"h-5 w-5 text-amber-700 dark:text-amber-200"})}),"Complete seu perfil para uma experincia completa"]})}),n.jsx(Ue,{children:n.jsxs("form",{className:"space-y-6",onSubmit:j,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"data_nascimento",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Data de Nascimento"}),n.jsx(ms,{id:"data_nascimento",name:"data_nascimento",value:m.data_nascimento,onChange:D=>p(_=>({..._,data_nascimento:D})),className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",maxDate:new Date,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"telefone",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Telefone"}),n.jsx(Te,{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:m.telefone,onChange:w,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"endereco",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Endereo"}),n.jsx(oa,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:m.endereco,onChange:w,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"tipo_sanguineo",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Tipo Sanguneo"}),n.jsx(Te,{id:"tipo_sanguineo",name:"tipo_sanguineo",placeholder:"Ex: O+, A-, B+, AB-",value:m.tipo_sanguineo,onChange:w,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"alergias",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Alergias"}),n.jsx(Te,{id:"alergias",name:"alergias",placeholder:"Ex: Penicilina, Amendoim",value:m.alergias,onChange:w,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"condicoes_cronicas",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Condies Crnicas"}),n.jsx(oa,{id:"condicoes_cronicas",name:"condicoes_cronicas",placeholder:"Ex: Hipertenso, Diabetes",value:m.condicoes_cronicas,onChange:w,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),n.jsx(ve,{type:"submit",disabled:v,className:"w-full btn-medical-primary shadow-lg font-medium",children:v?"Salvando...":"Salvar Informaes"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(Ke,{className:"pb-6",children:n.jsxs(Ge,{className:"flex items-center gap-3 text-2xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsx(Hn,{className:"h-6 w-6"})}),"Informaes Pessoais"]})}),n.jsx(Ue,{children:s?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Br,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),n.jsx(Br,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Br,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),n.jsx(Br,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]})]}):o?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(tA,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:o})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:n.jsx(wr,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200",children:"Data de Nascimento"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(e==null?void 0:e.data_nascimento)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-emerald-50 to-green-100 dark:from-emerald-900/40 dark:to-green-900/40 border border-emerald-200 dark:border-emerald-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-emerald-500 text-white shadow-md",children:n.jsx(aA,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-emerald-800 dark:text-emerald-200",children:"Telefone"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(e==null?void 0:e.telefone)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-violet-100 dark:from-purple-900/40 dark:to-violet-900/40 border border-purple-200 dark:border-purple-700 hover:shadow-lg transition-all duration-300 md:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-purple-500 text-white shadow-md",children:n.jsx(Jg,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200",children:"Endereo"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:E(e==null?void 0:e.endereco)})]})]}),n.jsx(hs,{className:"my-8 bg-gray-200 dark:bg-gray-700"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(Bi,{className:"h-5 w-5 text-red-500"}),"Informaes Mdicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-red-50 to-pink-100 dark:from-red-900/40 dark:to-pink-900/40 border border-red-200 dark:border-red-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-red-500 text-white shadow-md",children:n.jsx(CN,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"Tipo Sanguneo"})]}),n.jsx("p",{className:"text-red-900 dark:text-red-100 font-bold text-2xl",children:(t==null?void 0:t.tipo_sanguineo)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-amber-50 to-yellow-100 dark:from-amber-900/40 dark:to-yellow-900/40 border border-amber-200 dark:border-amber-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-amber-500 text-white shadow-md",children:n.jsx(tA,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-amber-700 dark:text-amber-200",children:"Alergias"})]}),n.jsx("p",{className:"text-amber-800 dark:text-amber-200 font-medium",children:(t==null?void 0:t.alergias)||"Nenhuma alergia conhecida"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-teal-50 to-cyan-100 dark:from-teal-900/40 dark:to-cyan-900/40 border border-teal-200 dark:border-teal-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-teal-500 text-white shadow-md",children:n.jsx(Xg,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-teal-800 dark:text-teal-200",children:"Condies Crnicas"})]}),n.jsx("p",{className:"text-teal-800 dark:text-teal-200 font-medium",children:(t==null?void 0:t.condicoes_cronicas)||"Nenhuma condio crnica"})]})]})]})]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(Ke,{className:"pb-4",children:n.jsxs(Ge,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx(uI,{className:"h-5 w-5 text-yellow-500"}),"Aes Rpidas"]})}),n.jsx(Ue,{className:"space-y-3",children:F.map((D,_)=>{const G=D.icon;return n.jsx(pr,{to:D.href,children:n.jsx("div",{className:"group p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300 hover:shadow-lg cursor-pointer",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-full bg-gradient-to-br ${D.color==="blue"?"from-blue-500 to-blue-600":D.color==="green"?"from-emerald-500 to-green-600":D.color==="purple"?"from-purple-500 to-violet-600":"from-red-500 to-pink-600"} text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.jsx(G,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:D.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:D.description})]}),n.jsx(xl,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-300"})]})})},_)})})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(Ke,{className:"pb-3",children:n.jsxs(Ge,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsx(wr,{className:"h-4 w-4"})}),"Prximas Consultas"]})}),n.jsx(Ue,{children:f?n.jsxs("div",{className:"space-y-3",children:[n.jsx(Br,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"}),n.jsx(Br,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"})]}):A.length>0?n.jsxs("div",{className:"space-y-3",children:[A.map(D=>n.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-md transition-all duration-300",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:n.jsx(wr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:[new Date(D.data).toLocaleDateString("pt-BR")," ",new Date(D.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200 font-medium",children:D.medico.nome}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:D.medico.especialidade})]})]})},D.id)),n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,className:"w-full mt-3 border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:n.jsxs(pr,{to:"/paciente/consultas",children:["Ver Todas as Consultas",n.jsx(xl,{className:"h-3 w-3 ml-1"})]})})]}):n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:n.jsx(wr,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhuma consulta agendada"}),n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,className:"border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:n.jsxs(pr,{to:"/paciente/consultas",children:["Entrar em contato",n.jsx(xl,{className:"h-3 w-3 ml-1"})]})})]})})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(Ke,{className:"pb-3",children:n.jsxs(Ge,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg",children:n.jsx(rA,{className:"h-4 w-4"})}),"Exames Recentes"]})}),n.jsx(Ue,{children:n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:n.jsx(rA,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhum exame recente"}),n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50 dark:border-emerald-600 dark:text-emerald-300 dark:hover:bg-emerald-900/20",children:n.jsxs(pr,{to:"/paciente/exames",children:["Ver Todos os Exames",n.jsx(xl,{className:"h-3 w-3 ml-1"})]})})]})})]})]})]})]})})}var Bx="Switch",[u$,HZ]=Bl(Bx),[f$,h$]=u$(Bx),NF=b.forwardRef((e,r)=>{const{__scopeSwitch:t,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:A="on",onCheckedChange:d,form:f,...h}=e,[m,p]=b.useState(null),v=ba(r,C=>p(C)),g=b.useRef(!1),y=m?f||!!m.closest("form"):!0,[w,j]=ud({prop:s,defaultProp:i??!1,onChange:d,caller:Bx});return n.jsxs(f$,{scope:t,checked:w,disabled:l,children:[n.jsx(_r.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":SF(w),"data-disabled":l?"":void 0,disabled:l,value:A,...h,ref:v,onClick:kt(e.onClick,C=>{j(E=>!E),y&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),y&&n.jsx(CF,{control:m,bubbles:!g.current,name:a,value:A,checked:w,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});NF.displayName=Bx;var jF="SwitchThumb",BF=b.forwardRef((e,r)=>{const{__scopeSwitch:t,...a}=e,s=h$(jF,t);return n.jsx(_r.span,{"data-state":SF(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});BF.displayName=jF;var m$="SwitchBubbleInput",CF=b.forwardRef(({__scopeSwitch:e,control:r,checked:t,bubbles:a=!0,...s},i)=>{const o=b.useRef(null),l=ba(o,i),A=iE(t),d=n4(r);return b.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(A!==t&&p){const v=new Event("click",{bubbles:a});p.call(f,t),f.dispatchEvent(v)}},[A,t,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});CF.displayName=m$;function SF(e){return e?"checked":"unchecked"}var _F=NF,p$=BF;const nu=b.forwardRef(({className:e,...r},t)=>n.jsx(_F,{className:lt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:t,children:n.jsx(p$,{className:lt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));nu.displayName=_F.displayName;function g$(){const[e,r]=b.useState(null),[t,a]=b.useState(!0),[s,i]=b.useState(null),[o,l]=b.useState(!1),[A,d]=b.useState(!1),{toast:f}=Va(),h=w=>Array.isArray(w)?w.filter(j=>j!=null&&j!==""):typeof w=="string"?w.split(/[\n;,]+/).map(j=>j.trim()).filter(Boolean):w==null?[]:[w],m=w=>{let j="",C="",E="";if(typeof w=="string"){const U=w.split(/[-;|]/).map(k=>k.trim()).filter(Boolean);if(U.length&&(j=U[0]),U[1]&&(C=U[1]),U[2]&&(E=U.slice(2).join("  ")),!C){const k=w.match(/\b(\d+(\.\d+)?\s?(mg|ml|mcg|g|gotas|ui))\b/i);k&&(C=k[0])}if(!E){const k=w.match(/\b(\d+x\s?\/\s?dia|[1-9]\s?x\/dia|a\s?cada\s?\d+\s?h|de\s?\d+\s?em\s?\d+\s?h)\b/i);k&&(E=k[0])}}else w&&typeof w=="object"&&(j=w.nome||w.medicamento||w.nome_medicamento||w.name||w.descricao||"",C=w.dose||w.dosagem||w.dosage||"",E=w.posologia||w.frequencia||w.intervalo||w.schedule||"");return{name:j||(typeof w=="string"?w:JSON.stringify(w)),dose:C||"",schedule:E||""}},p=w=>{const j=h(w);return j.length>0?n.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:j.map((C,E)=>{const U=m(C);return n.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm hover:shadow-md transition-shadow",role:"group","aria-label":`Medicao ${U.name}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 rounded-md bg-primary/10 p-2 text-primary",children:n.jsx(Cf,{className:"h-5 w-5","aria-hidden":"true"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-base md:text-lg font-semibold leading-snug break-words",children:U.name}),U.dose&&n.jsx("div",{className:"text-sm md:text-base text-muted-foreground mt-0.5 break-words",children:U.dose}),U.schedule&&n.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-muted/60 px-2 py-1 text-xs md:text-sm text-foreground/80",children:[n.jsx(Or,{className:"h-3.5 w-3.5","aria-hidden":"true"}),n.jsx("span",{className:"break-words",children:U.schedule})]})]})]})},E)})}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})};b.useEffect(()=>{let w=!0;const j=E=>{var G,L;const U=Array.isArray(E)?E[0]:Array.isArray(E==null?void 0:E.results)?E.results[0]:E||{},k=U.alergias??U.allergies??U.alergia,F=U.condicoes??U.condicoes_cronicas??U.condicoesCronicas,D=U.medicacoes??U.medicamentos??U.medicacoes_em_uso??U.medicamentos_em_uso??U.medicamentos_uso??U.em_uso??U.medicacoesEmUso??U.medicamentosEmUso??U.medications??U.current_medications??((G=U.prontuario)==null?void 0:G.medicacoes)??((L=U.prontuario)==null?void 0:L.medicamentos),_=U.observacoes??U.observacao??U.notes??U.anotacoes;return{alergias:h(k),condicoes:h(F),medicacoes:h(D),observacoes:_??""}},C=E=>E?{alergias:h(E.alergias),condicoes:h(E.condicoes_cronicas??E.condicoes),medicacoes:h(E.medicacoes??E.medicamentos??E.medicacoes_em_uso??E.medicamentos_em_uso??E.medicamentos_uso??E.em_uso??E.medicacoesEmUso??E.medicamentosEmUso??E.medications??E.current_medications),observacoes:E.observacoes??""}:null;return(async()=>{const[E,U]=await Promise.allSettled([ha.getProntuario(),ha.getPacienteDoUsuario()]);let k=null;try{E.status==="fulfilled"&&(k=j(E.value))}catch{}if((!k||h(k==null?void 0:k.alergias).length===0&&h(k==null?void 0:k.condicoes).length===0&&h(k==null?void 0:k.medicacoes).length===0&&(!(k!=null&&k.observacoes)||(k==null?void 0:k.observacoes)===""))&&U.status==="fulfilled")try{const D=C(U.value);D&&(k=D)}catch{}w&&(r(k||{alergias:[],condicoes:[],medicacoes:[],observacoes:""}),i(null),a(!1))})(),()=>{w=!1}},[]),b.useEffect(()=>{let w=!0;return(async()=>{try{const j=await ou.buscarConfiguracoes(),E=(Array.isArray(j==null?void 0:j.tipos_habilitados)?j.tipos_habilitados:[]).map(U=>String(U).toLowerCase()).includes("medicamento");w&&l(E)}catch{try{const C=JSON.parse(localStorage.getItem("notif_pref_medication")||"null");C!=null&&w&&l(!!C)}catch{}}})(),()=>{w=!1}},[]);const v=async w=>{var j;d(!0);try{const C=await ou.buscarConfiguracoes().catch(()=>({})),E=Array.isArray(C==null?void 0:C.tipos_habilitados)?C.tipos_habilitados.map(String):[],U=E.map(F=>F.toLowerCase());let k=[...E];w?U.includes("medicamento")||k.push("medicamento"):k=k.filter(F=>String(F).toLowerCase()!=="medicamento"),await ou.atualizarConfiguracoes({...C,tipos_habilitados:k}),l(w),f({title:w?"Notificaes ativadas":"Notificaes desativadas",description:"Preferncia de medicamento atualizada."})}catch(C){l(w);try{localStorage.setItem("notif_pref_medication",JSON.stringify(w))}catch{}const E=(j=C==null?void 0:C.response)!=null&&j.data?JSON.stringify(C.response.data):(C==null?void 0:C.message)||"Preferncia salva localmente";f({title:"Ajuste de notificao",description:E})}finally{d(!1)}},g=w=>{const j=h(w);return j.length>0?n.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((C,E)=>{const U=typeof C=="string"?C:(C==null?void 0:C.nome)||(C==null?void 0:C.medicamento)||(C==null?void 0:C.nome_medicamento)||[C==null?void 0:C.descricao,(C==null?void 0:C.dose)||(C==null?void 0:C.dosagem),(C==null?void 0:C.posologia)||(C==null?void 0:C.frequencia)].filter(Boolean).join("  ")||JSON.stringify(C);return n.jsx(lr,{variant:"secondary",className:"px-2.5 py-1 text-xs",children:U},E)})}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})},y=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hn,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Pronturio"})]}),n.jsx(Wi,{tabs:y,basePath:"/paciente"}),t?n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[n.jsxs(ke,{className:"lg:col-span-2",children:[n.jsx(Ke,{children:n.jsx(Br,{className:"h-5 w-40"})}),n.jsxs(Ue,{className:"space-y-2",children:[n.jsx(Br,{className:"h-4 w-full"}),n.jsx(Br,{className:"h-4 w-5/6"}),n.jsx(Br,{className:"h-4 w-2/3"})]})]}),n.jsx("div",{className:"space-y-6",children:[...Array(3)].map((w,j)=>n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Br,{className:"h-5 w-40"})}),n.jsxs(Ue,{className:"space-y-2",children:[n.jsx(Br,{className:"h-4 w-full"}),n.jsx(Br,{className:"h-4 w-2/3"})]})]},j))})]}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[n.jsxs(ke,{className:"lg:col-span-2 min-h-[320px]",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ge,{children:"Medicaes"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Notificao"}),n.jsx(nu,{checked:o,onCheckedChange:v,disabled:A})]})]}),n.jsx(Ue,{children:p(e==null?void 0:e.medicacoes)})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Alergias"})}),n.jsx(Ue,{children:g(e==null?void 0:e.alergias)})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Condies"})}),n.jsx(Ue,{children:g(e==null?void 0:e.condicoes)})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Observaes"})}),n.jsx(Ue,{children:e!=null&&e.observacoes&&(e==null?void 0:e.observacoes)!==""?n.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:e==null?void 0:e.observacoes}):n.jsx("p",{className:"text-sm text-muted-foreground",children:""})})]})]})]})]})}const fA=PS,EF=OP,x$=({className:e,children:r,...t})=>n.jsx(QS,{className:lt(e),...t,children:n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:r})}),FF=b.forwardRef(({className:e,...r},t)=>n.jsx(J0,{ref:t,className:lt("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",e),...r}));FF.displayName=J0.displayName;const dc=b.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(x$,{children:[n.jsx(FF,{}),n.jsxs(Z0,{ref:a,className:lt("fixed z-50 grid w-full max-w-xl gap-4 rounded-xl border bg-background p-0 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0","data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",e),...t,children:[r,n.jsxs(RS,{className:"absolute right-4 top-4 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[n.jsx(Q1,{className:"h-5 w-5"}),n.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));dc.displayName=Z0.displayName;const uc=({className:e,...r})=>n.jsx("div",{className:lt("px-6 pt-5 pb-3 flex flex-col space-y-1.5",e),...r});uc.displayName="DialogHeader";const hA=({className:e,...r})=>n.jsx("div",{className:lt("px-6 pb-5 pt-2 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});hA.displayName="DialogFooter";const fc=b.forwardRef(({className:e,...r},t)=>n.jsx(ex,{ref:t,className:lt("text-lg font-semibold leading-none tracking-tight",e),...r}));fc.displayName=ex.displayName;const Tm=b.forwardRef(({className:e,...r},t)=>n.jsx(tx,{ref:t,className:lt("text-sm text-muted-foreground",e),...r}));Tm.displayName=tx.displayName;const xo=b.forwardRef(({className:e,...r},t)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:t,className:lt("w-full caption-bottom text-sm",e),...r})}));xo.displayName="Table";const vo=b.forwardRef(({className:e,...r},t)=>n.jsx("thead",{ref:t,className:lt("[&_tr]:border-b",e),...r}));vo.displayName="TableHeader";const wo=b.forwardRef(({className:e,...r},t)=>n.jsx("tbody",{ref:t,className:lt("[&_tr:last-child]:border-0",e),...r}));wo.displayName="TableBody";const v$=b.forwardRef(({className:e,...r},t)=>n.jsx("tfoot",{ref:t,className:lt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));v$.displayName="TableFooter";const Ya=b.forwardRef(({className:e,...r},t)=>n.jsx("tr",{ref:t,className:lt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));Ya.displayName="TableRow";const dr=b.forwardRef(({className:e,...r},t)=>n.jsx("th",{ref:t,className:lt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));dr.displayName="TableHead";const ir=b.forwardRef(({className:e,...r},t)=>n.jsx("td",{ref:t,className:lt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));ir.displayName="TableCell";const w$=b.forwardRef(({className:e,...r},t)=>n.jsx("caption",{ref:t,className:lt("mt-4 text-sm text-muted-foreground",e),...r}));w$.displayName="TableCaption";var f5,h5;const y$=(((h5=(f5=import.meta)==null?void 0:f5.env)==null?void 0:h5.VITE_TIMEZONE)||"America/Sao_Paulo").trim();function kF(e,r={}){try{return new Intl.DateTimeFormat("pt-BR",{timeZone:y$,...r}).format(e)}catch{return""}}const DF=e=>{if(!e)return"";try{let r;if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[t,a,s]=e.split("-");return`${s}/${a}/${t}`}else r=new Date(e);return isNaN(r.getTime())?"":kF(r,{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return""}},b$=e=>{if(!e)return"";try{const r=new Date(e);return isNaN(r.getTime())?"":kF(r,{hour:"2-digit",minute:"2-digit"})}catch{return""}},N$=e=>{if(!e)return null;try{let r;if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[d,f,h]=e.split("-").map(Number);r=new Date(d,f-1,h)}else r=new Date(e);if(isNaN(r.getTime()))return null;const t=new Date;let a=t.getFullYear()-r.getFullYear();const s=t.getMonth()-r.getMonth(),i=t.getDate()-r.getDate();(s<0||s===0&&i<0)&&a--;let o=new Date(t.getFullYear(),r.getMonth(),r.getDate());o>t&&(o=new Date(t.getFullYear()-1,r.getMonth(),r.getDate()));const l=1440*60*1e3,A=Math.floor((t-o)/l);return`${a} anos e ${A} dias`}catch{return null}},Pj=e=>{var t,a,s;if(!e)return null;const r=[(t=e==null?void 0:e.user)==null?void 0:t.first_name,(a=e==null?void 0:e.user)==null?void 0:a.last_name].filter(Boolean).join(" ");return(e==null?void 0:e.nome)||(e==null?void 0:e.name)||((s=e==null?void 0:e.usuario)==null?void 0:s.nome)||r||(e==null?void 0:e.username)||(e==null?void 0:e.email)||null},Qj=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():null};function j$(){var D,_,G;const[e,r]=b.useState([]),[t,a]=b.useState(!0),[s,i]=b.useState(""),[o,l]=b.useState(""),[A,d]=b.useState("todas"),[f,h]=b.useState(!1),[m,p]=b.useState(null),v=L=>{p(L),h(!0)};b.useEffect(()=>{let L=!0;return(async()=>{var J;try{console.log("[DEBUG] Consultas - Iniciando carregamento...");const R=await ha.getConsultas();if(console.log("[DEBUG] Consultas - Resposta da API:",R),!L)return;let re=[];R.results?re=R.results:(J=R.data)!=null&&J.results?re=R.data.results:R.data&&Array.isArray(R.data)?re=R.data:Array.isArray(R)&&(re=R);let V=re.map(Y=>{var Ae,ee,Q;const H=Y.data||Y.date||Y.dia||Y.data_consulta||Y.data_hora||Y.horario||Y.data_hora_inicio||Y.agendamento||Y.data_agendamento||Y.inicio||Y.start||null,Z={id:Y.id,data:H,local:Y.local||Y.endereco||((Ae=Y.clinica)==null?void 0:Ae.endereco)||((ee=Y.medico)==null?void 0:ee.local_atendimento)||"Local no informado",tipo:Y.tipo||Y.tipo_consulta||"Presencial",status:Y.status||"Agendada",medico:null};if(Y.medico)if(typeof Y.medico=="object"){const q=Pj(Y.medico),$=Qj(Y.medico)||Y.especialidade||Y.specialty||"Especialidade no informada";Z.medico={id:Y.medico.id||((Q=Y.medico.user)==null?void 0:Q.id)||null,nome:q||"Mdico no informado",especialidade:$}}else Z.medico={id:Y.medico,nome:Y.medico_nome||Y.doctor_name||"Mdico no informado",especialidade:Y.especialidade||Y.specialty||"Especialidade no informada"};else Y.medico_nome||Y.doctor_name?Z.medico={id:Y.medico_id||null,nome:Y.medico_nome||Y.doctor_name,especialidade:Y.especialidade||Y.specialty||"Especialidade no informada"}:Y.medico_id&&(Z.medico={id:Y.medico_id,nome:"Mdico no informado",especialidade:Y.especialidade||Y.specialty||"Especialidade no informada"});return Z});try{const Y=Array.from(new Set(V.filter(H=>{var Z;return!((Z=H.medico)!=null&&Z.nome)||H.medico.nome==="Mdico no informado"}).map(H=>{var Z;return(Z=H.medico)==null?void 0:Z.id}).filter(Boolean)));if(Y.length){const H=await Promise.all(Y.map(Ae=>ha.getMedicoById(Ae).catch(()=>null))),Z={};H.forEach((Ae,ee)=>{const Q=Y[ee];Ae&&(Z[Q]={id:Ae.id||Q,nome:Pj(Ae)||Ae.nome||"Mdico",especialidade:Qj(Ae)||Ae.especialidade||"Especialidade no informada"})}),V=V.map(Ae=>{var Q;const ee=(Q=Ae.medico)==null?void 0:Q.id;return ee&&Z[ee]?{...Ae,medico:Z[ee]}:Ae})}}catch{}r(V)}catch(R){if(!L)return;console.error("Erro ao carregar consultas:",R),i("Erro ao carregar consultas. Tente novamente.")}finally{L&&a(!1)}})(),()=>{L=!1}},[]);const g=e.filter(L=>{var J,R,re,V,Y,H,Z;const T=String(L.status||"").toLowerCase();if(A==="agendadas"&&!(T.includes("agend")||T.includes("confirm"))||A==="realizadas"&&!(T.includes("conclu")||T.includes("realiz")||T.includes("final")))return!1;if(o){const Ae=o.toLowerCase();return((R=(J=L.medico)==null?void 0:J.nome)==null?void 0:R.toLowerCase().includes(Ae))||((Y=(V=(re=L.medico)==null?void 0:re.especialidade)==null?void 0:V.toLowerCase)==null?void 0:Y.call(V).includes(Ae))||((H=L.local)==null?void 0:H.toLowerCase().includes(Ae))||((Z=L.tipo)==null?void 0:Z.toLowerCase().includes(Ae))}return!0}),y=new Date,w=g.filter(L=>{const T=(L.status||"").toLowerCase(),J=T.includes("agend")||T.includes("confirm"),R=L.data?new Date(L.data)>y:!1;return J||R}).sort((L,T)=>new Date(L.data)-new Date(T.data)),j=g.filter(L=>{const T=(L.status||"").toLowerCase(),J=T.includes("conclu")||T.includes("realiz")||T.includes("final"),R=L.data?new Date(L.data)<y:!1;return J||R}).sort((L,T)=>new Date(T.data)-new Date(L.data)),C=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],E=e.length,U=e.filter(L=>L.data&&new Date(L.data).getFullYear()===new Date().getFullYear()).length,k=w.length,F=j.length;return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(wr,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),n.jsx("p",{className:"text-blue-100",children:"Gerencie suas consultas mdicas"})]})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ve,{variant:"secondary",className:"bg-white/20 text-white border-white/30 hover:bg-white/30 backdrop-blur-sm dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50 dark:text-gray-200",asChild:!0,children:n.jsxs("a",{href:"/paciente/medicos",className:"inline-flex items-center gap-2",children:[n.jsx(ea,{className:"h-4 w-4"}),"Mdicos"]})}),n.jsx(ve,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold shadow-lg dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:n.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[n.jsx(BN,{className:"h-4 w-4"}),"Entrar em contato"]})})]})]})})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total de Consultas"}),n.jsx("p",{className:"text-3xl font-bold",children:E})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(wr,{className:"h-6 w-6"})})]})})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Prximas Consultas"}),n.jsx("p",{className:"text-3xl font-bold",children:k})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Or,{className:"h-6 w-6"})})]})})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Consultas Concludas"}),n.jsx("p",{className:"text-3xl font-bold",children:F})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Bi,{className:"h-6 w-6"})})]})})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:U})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(hn,{className:"h-6 w-6"})})]})})})]}),n.jsx(Wi,{tabs:C,basePath:"/paciente"}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ns,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Te,{placeholder:"Buscar por mdico, especialidade ou local...",className:"pl-10 border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400",value:o,onChange:L=>l(L.target.value)})]}),n.jsx("div",{className:"flex gap-3",children:n.jsxs(qr,{value:A,onValueChange:d,children:[n.jsx(Vr,{className:"w-[180px] border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:n.jsx(Wr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"todas",children:"Todas as consultas"}),n.jsx(rt,{value:"agendadas",children:"Agendadas"}),n.jsx(rt,{value:"realizadas",children:"Realizadas"})]})]})})]})})}),n.jsxs(zi,{defaultValue:"agendadas",className:"w-full",children:[n.jsxs(qi,{className:"grid w-full grid-cols-2 bg-white dark:bg-gray-800 shadow-lg border-0",children:[n.jsx(Ir,{value:"agendadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Consultas Agendadas"}),n.jsx(Ir,{value:"realizadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Histrico de Consultas"})]}),n.jsx(Tr,{value:"agendadas",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(Ke,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:n.jsxs(Ge,{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[n.jsx(wr,{className:"h-5 w-5"}),"Prximas Consultas"]})}),n.jsx(Ue,{className:"p-6",children:t?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((L,T)=>n.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[n.jsx(Br,{className:"h-4 w-1/3"}),n.jsx(Br,{className:"h-4 w-1/2"}),n.jsx(Br,{className:"h-4 w-1/4"})]},T))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:n.jsx(wr,{className:"h-8 w-8 text-red-500"})}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):w.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"rounded-full bg-blue-100 dark:bg-blue-900/20 p-4 w-fit mx-auto mb-4",children:n.jsx(wr,{className:"h-12 w-12 text-blue-500"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Nenhuma consulta agendada"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Voc no possui consultas agendadas no momento."}),n.jsx(ve,{className:"btn-medical-primary shadow-lg",asChild:!0,children:n.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[n.jsx(BN,{className:"h-4 w-4"}),"Entrar em contato"]})})]}):n.jsx("div",{className:"space-y-4",children:w.map(L=>{var T,J,R;return n.jsx("div",{className:"group relative overflow-hidden rounded-xl border-0 bg-gradient-to-r from-white to-blue-50/50 dark:from-gray-800 dark:to-blue-900/10 p-6 shadow-lg transition-all hover:shadow-xl hover:scale-[1.02]",children:n.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[n.jsx("div",{className:"flex-1 space-y-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"rounded-full bg-gradient-to-r from-blue-500 to-purple-600 p-3 text-white shadow-lg",children:n.jsx(Hn,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:((T=L.medico)==null?void 0:T.nome)||"Mdico no informado"}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((J=L.medico)==null?void 0:J.especialidade)||"Especialidade no informada"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[n.jsx(Or,{className:"h-4 w-4"}),n.jsxs("span",{className:"font-medium",children:[L.data?DF(L.data):"Data no informada"," s ",L.data?b$(L.data):"--:--"]})]})]}),n.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[n.jsx(Jg,{className:"h-4 w-4"}),n.jsx("span",{children:L.local})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-xs font-medium text-white",children:[L.tipo==="Online"?n.jsx(Rv,{className:"h-3 w-3"}):L.tipo==="Telefone"?n.jsx(aA,{className:"h-3 w-3"}):n.jsx(ea,{className:"h-3 w-3"}),L.tipo]}),n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:L.status||""})]})]})]})}),n.jsx("div",{className:"flex gap-3",children:n.jsx(ve,{size:"sm",className:"btn-medical-primary shadow-lg",asChild:!0,children:n.jsx("a",{href:`/paciente/consultas/nova${(R=L.medico)!=null&&R.id?`?medico=${L.medico.id}`:""}`,children:"Contato p/ agendar"})})})]})},L.id)})})})]})}),n.jsx(Tr,{value:"realizadas",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(Ke,{className:"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-900/20 dark:to-slate-900/20",children:n.jsxs(Ge,{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[n.jsx(Or,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),n.jsx(Ue,{className:"p-6",children:t?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((L,T)=>n.jsx(Br,{className:"h-12 w-full"},T))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:n.jsx(Or,{className:"h-8 w-8 text-red-500"})}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):j.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-gray-800 p-4 w-fit mx-auto mb-4",children:n.jsx(Or,{className:"h-12 w-12 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Voc no possui consultas realizadas no histrico."})]}):n.jsx("div",{className:"overflow-hidden rounded-xl border-0 bg-white dark:bg-gray-800 shadow-lg",children:n.jsxs(xo,{children:[n.jsx(vo,{className:"bg-gray-50 dark:bg-gray-900/50",children:n.jsxs(Ya,{className:"border-0",children:[n.jsx(dr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Data"}),n.jsx(dr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Mdico"}),n.jsx(dr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Especialidade"}),n.jsx(dr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Tipo"}),n.jsx(dr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Status"}),n.jsx(dr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Aes"})]})}),n.jsx(wo,{children:j.map(L=>{var T,J;return n.jsxs(Ya,{className:"border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[n.jsx(ir,{className:"font-medium",children:L.data?new Date(L.data).toLocaleDateString():""}),n.jsx(ir,{children:((T=L.medico)==null?void 0:T.nome)||""}),n.jsx(ir,{children:((J=L.medico)==null?void 0:J.especialidade)||""}),n.jsx(ir,{children:n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-100 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-700 dark:text-blue-300",children:[L.tipo==="Online"?n.jsx(Rv,{className:"h-3 w-3"}):L.tipo==="Telefone"?n.jsx(aA,{className:"h-3 w-3"}):n.jsx(ea,{className:"h-3 w-3"}),L.tipo||""]})}),n.jsx(ir,{children:n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-2 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:L.status||""})}),n.jsx(ir,{children:n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>v(L),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"Ver Detalhes"})})]},L.id)})})]})})})]})})]}),n.jsx(fA,{open:f,onOpenChange:h,children:n.jsxs(dc,{className:"max-w-2xl border-0 shadow-2xl",children:[n.jsxs(uc,{className:"pb-6",children:[n.jsx(fc,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Detalhes da Consulta"}),n.jsx(Tm,{className:"text-gray-600 dark:text-gray-400",children:"Informaes completas da consulta selecionada"})]}),m?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6",children:[n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold text-lg shadow-lg",children:(((D=m.medico)==null?void 0:D.nome)||"").split(" ").map(L=>L==null?void 0:L[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-gray-100",children:((_=m.medico)==null?void 0:_.nome)||""}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((G=m.medico)==null?void 0:G.especialidade)||"Especialidade no informada"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:m.data?new Date(m.data).toLocaleDateString():""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hora"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:m.data?new Date(m.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tipo"}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-sm font-medium text-white",children:[m.tipo==="Online"?n.jsx(Rv,{className:"h-3 w-3"}):m.tipo==="Telefone"?n.jsx(aA,{className:"h-3 w-3"}):n.jsx(ea,{className:"h-3 w-3"}),m.tipo]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-sm font-medium text-green-700 dark:text-green-300",children:m.status})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Local"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[n.jsx(Jg,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{children:m.local})]})]})]}):null]})})]})})}function B$(){const[e,r]=b.useState([]),[t,a]=b.useState(!0),[s,i]=b.useState(null),[o,l]=b.useState("todas"),[A,d]=b.useState(""),f=U=>{var k;return((k=U==null?void 0:U.tipo_exame)==null?void 0:k.nome)||(U==null?void 0:U.tipo_exame_nome)||(U==null?void 0:U.nome_exame)||(typeof(U==null?void 0:U.tipo_exame)=="string"?U.tipo_exame:null)||(U==null?void 0:U.nome)||(U==null?void 0:U.tipo)||(U==null?void 0:U.exame)||"Exame"},h=U=>{const k=U==null?void 0:U.user;return[k==null?void 0:k.first_name,k==null?void 0:k.last_name].filter(Boolean).join(" ").trim()||(k==null?void 0:k.nome)||(k==null?void 0:k.username)||(U==null?void 0:U.nome)||""},m=U=>{var D;const k=(U==null?void 0:U.resultado_url)||(U==null?void 0:U.arquivo_resultado)||((D=U==null?void 0:U.resultado)==null?void 0:D.arquivo)||(U==null?void 0:U.arquivo_url)||(U==null?void 0:U.documento_url);return k?/^https?:\/\//i.test(k)?k:`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${k.startsWith("/")?"":"/"}${k}`:null};b.useEffect(()=>{let U=!0;return(async()=>{try{const k=await ha.getExames();if(U){const D=(Array.isArray(k)?k:(k==null?void 0:k.results)||[]).map(_=>({id:_.id,data:_.data_agendamento||_.data_solicitacao||_.data||_.data_hora||null,nome:f(_),medico:{nome:h((_==null?void 0:_.medico_solicitante)||(_==null?void 0:_.medico))},status:_.status||_.situacao||"Pendente",local:_.local_realizacao||_.local||_.localizacao||_.unidade||"",resultado_url:m(_)}));r(D)}}catch{i("No foi possvel carregar os exames.")}finally{U&&a(!1)}})(),()=>{U=!1}},[]);const p=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],v=e.filter(U=>{var k;if(o==="agendados"){const F=U.data?new Date(U.data)>new Date:!1;if(!F&&(U.status||"").toLowerCase().includes("conclu")||!F&&(U.status||"").toLowerCase()==="realizado")return!1}if(o==="realizados"&&!((U.status||"").toLowerCase().includes("conclu")||(U.status||"").toLowerCase()==="realizado"||(U.data?new Date(U.data)<new Date:!1)))return!1;if(A){const F=A.toLowerCase();return(U.nome||"").toLowerCase().includes(F)||(((k=U.medico)==null?void 0:k.nome)||"").toLowerCase().includes(F)||(U.local||"").toLowerCase().includes(F)}return!0}),g=v.filter(U=>{const k=U.data?new Date(U.data)>new Date:!1,F=(U.status||"").toLowerCase();return k||F==="agendado"||F==="pendente"||F==="solicitado"}).sort((U,k)=>new Date(U.data||0)-new Date(k.data||0)),y=v.filter(U=>{const k=(U.status||"").toLowerCase();return(U.data?new Date(U.data)<new Date:!1)||k.includes("conclu")||k==="realizado"}).sort((U,k)=>new Date(k.data||0)-new Date(U.data||0)),w=e.length,j=g.length,C=y.length,E=e.filter(U=>U.data?new Date(U.data).getFullYear()===new Date().getFullYear():!1).length;return n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-medical-primary/90 via-medical-primary to-medical-secondary p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(rA,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Meus Exames"}),n.jsx("p",{className:"text-white/90",children:"Gerencie seus exames e resultados"})]})]})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(ve,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(ea,{className:"mr-2 h-4 w-4"}),"Mdicos"]}),n.jsxs(ve,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(wr,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})]})]})}),n.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),n.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/80 to-medical-primary text-white shadow-lg",children:n.jsxs(Ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Total de Exames"}),n.jsx("p",{className:"text-3xl font-bold",children:w})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(hn,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-status-attention/80 to-status-attention text-white shadow-lg",children:n.jsxs(Ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Prximos Exames"}),n.jsx("p",{className:"text-3xl font-bold",children:j})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Or,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-secondary/80 to-medical-secondary text-white shadow-lg",children:n.jsxs(Ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Concludos"}),n.jsx("p",{className:"text-3xl font-bold",children:C})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(po,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/60 to-medical-primary/80 text-white shadow-lg",children:n.jsxs(Ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:E})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(_m,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),n.jsx(Wi,{tabs:p,basePath:"/paciente"}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ns,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Te,{placeholder:"Buscar por exame, mdico ou local...",value:A,onChange:U=>d(U.target.value),className:"pl-10"})]}),n.jsx("div",{className:"w-full md:w-[220px]",children:n.jsxs(qr,{value:o,onValueChange:l,children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"todas",children:"Todos os exames"}),n.jsx(rt,{value:"agendados",children:"Agendados"}),n.jsx(rt,{value:"realizados",children:"Realizados"})]})]})})]})})}),n.jsxs(zi,{defaultValue:"agendados",className:"w-full",children:[n.jsxs(qi,{className:"grid w-full grid-cols-2 h-12 bg-muted/50",children:[n.jsxs(Ir,{value:"agendados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx(Or,{className:"mr-2 h-4 w-4"}),"Exames Agendados"]}),n.jsxs(Ir,{value:"realizados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx(po,{className:"mr-2 h-4 w-4"}),"Histrico de Exames"]})]}),n.jsx(Tr,{value:"agendados",className:"mt-6",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(Ke,{className:"pb-4",children:n.jsxs(Ge,{className:"flex items-center gap-2 text-xl",children:[n.jsx(Or,{className:"h-5 w-5 text-amber-500"}),"Prximos Exames"]})}),n.jsx(Ue,{children:t?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((U,k)=>n.jsxs("div",{className:"rounded-lg border p-4",children:[n.jsx(Br,{className:"h-6 w-3/4 mb-2"}),n.jsx(Br,{className:"h-4 w-1/2 mb-2"}),n.jsx(Br,{className:"h-4 w-1/4"})]},k))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(pu,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):g.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(wr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame agendado"}),n.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames agendados no momento."})]}):n.jsx("div",{className:"space-y-4",children:g.map(U=>{var k;return n.jsx("div",{className:"group rounded-xl border border-border/50 bg-gradient-to-r from-background to-muted/20 p-6 transition-all hover:shadow-lg hover:border-border",children:n.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-foreground group-hover:text-primary transition-colors",children:U.nome}),n.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1",children:[n.jsx(ea,{className:"h-4 w-4"}),((k=U.medico)==null?void 0:k.nome)||""]})]}),n.jsx(lr,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:U.status})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-4 w-4"}),n.jsxs("span",{children:[U.data?new Date(U.data).toLocaleDateString():""," ",U.data?`s ${new Date(U.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]})]}),U.local&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bi,{className:"h-4 w-4"}),n.jsx("span",{children:U.local})]})]})]})})},U.id||`${U.data}-${U.nome}`)})})})]})}),n.jsx(Tr,{value:"realizados",className:"mt-6",children:n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(Ke,{className:"pb-4",children:n.jsxs(Ge,{className:"flex items-center gap-2 text-xl",children:[n.jsx(po,{className:"h-5 w-5 text-emerald-500"}),"Histrico de Exames"]})}),n.jsx(Ue,{children:t?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((U,k)=>n.jsx(Br,{className:"h-16 w-full"},k))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(pu,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):y.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(hn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame no histrico"}),n.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames realizados no histrico."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ya,{className:"border-border/50",children:[n.jsx(dr,{className:"font-semibold",children:"Data"}),n.jsx(dr,{className:"font-semibold",children:"Exame"}),n.jsx(dr,{className:"font-semibold",children:"Mdico"}),n.jsx(dr,{className:"font-semibold",children:"Status"}),n.jsx(dr,{className:"font-semibold text-right",children:"Aes"})]})}),n.jsx(wo,{children:v.map(U=>{var k;return n.jsxs(Ya,{className:"border-border/50 hover:bg-muted/30 transition-colors",children:[n.jsx(ir,{className:"font-medium",children:U.data?new Date(U.data).toLocaleDateString():""}),n.jsx(ir,{children:n.jsx("div",{className:"font-medium",children:U.nome})}),n.jsx(ir,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-4 w-4 text-muted-foreground"}),((k=U.medico)==null?void 0:k.nome)||""]})}),n.jsx(ir,{children:n.jsx(lr,{variant:(U.status||"").toLowerCase().includes("conclu")||(U.status||"").toLowerCase()==="realizado"?"default":"secondary",className:(U.status||"").toLowerCase().includes("conclu")||(U.status||"").toLowerCase()==="realizado"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:U.status||""})}),n.jsx(ir,{children:n.jsx("div",{className:"flex items-center justify-end gap-2",children:U.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs(ve,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(U.resultado_url,"_blank"),children:[n.jsx(Ci,{className:"h-4 w-4 mr-1"}),"Ver"]}),n.jsxs(ve,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>void C$(U),children:[n.jsx(vl,{className:"h-4 w-4 mr-1"}),"Baixar"]})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem resultado"}),n.jsxs(ve,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 cursor-not-allowed",children:[n.jsx(vl,{className:"h-4 w-4 mr-1"}),"Baixar"]})]})})})]},U.id)})})]})})})]})})]})]})}const C$=async e=>{var r;try{let t=e==null?void 0:e.resultado_url;if(!t)return;/^https?:\/\//i.test(t)||(t=`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${t.startsWith("/")?"":"/"}${t}`);const a=await we.get(t,{responseType:"blob",baseURL:""}),s=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),i=a.headers["content-disposition"]||"",o=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(i),l=decodeURIComponent((o==null?void 0:o[1])||(o==null?void 0:o[2])||`${e.nome||"resultado"}.pdf`),A=document.createElement("a");A.href=URL.createObjectURL(s),A.download=l,document.body.appendChild(A),A.click(),A.remove(),setTimeout(()=>URL.revokeObjectURL(A.href),2e3)}catch(t){console.warn("[Exames] download falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function S$(){const[e,r]=b.useState([]),[t,a]=b.useState(!0),[s,i]=b.useState(null),[o,l]=b.useState("todos"),[A,d]=b.useState("todos"),[f,h]=b.useState(""),m=C=>{var E;return((E=C==null?void 0:C.tipo_exame)==null?void 0:E.nome)||(C==null?void 0:C.tipo_exame_nome)||(C==null?void 0:C.nome_exame)||(typeof(C==null?void 0:C.tipo_exame)=="string"?C.tipo_exame:null)||(C==null?void 0:C.nome)||(C==null?void 0:C.tipo)||(C==null?void 0:C.exame)||"Exame"},p=C=>{const E=C==null?void 0:C.user;return[E==null?void 0:E.first_name,E==null?void 0:E.last_name].filter(Boolean).join(" ").trim()||(E==null?void 0:E.nome)||(E==null?void 0:E.username)||(C==null?void 0:C.nome)||""},v=C=>{var k;const E=(C==null?void 0:C.resultado_url)||(C==null?void 0:C.arquivo_resultado)||((k=C==null?void 0:C.resultado)==null?void 0:k.arquivo)||(C==null?void 0:C.arquivo_url)||(C==null?void 0:C.documento_url);return E?/^https?:\/\//i.test(E)?E:`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${E.startsWith("/")?"":"/"}${E}`:null},g=C=>{if(!C)return"sem-data";const E=new Date(C);return Number.isNaN(E.getTime())?"sem-data":E.toISOString().slice(0,10)},y=C=>{try{return new Date(C).toLocaleString()}catch{return C||""}};b.useEffect(()=>{let C=!0;return(async()=>{var E,U,k;try{const[F,D,_]=await Promise.allSettled([ha.getConsultas(),ha.getExames(),ha.getReceitas()]),G=F.status==="fulfilled"?(Array.isArray(F.value)?F.value:(E=F.value)==null?void 0:E.results)||[]:[],L=D.status==="fulfilled"?(Array.isArray(D.value)?D.value:(U=D.value)==null?void 0:U.results)||[]:[],T=_.status==="fulfilled"?(Array.isArray(_.value)?_.value:(k=_.value)==null?void 0:k.results)||[]:[],J=L.map(Y=>({id:Y.id||Math.random(),tipo:"exame",data:Y.data_agendamento||Y.data_solicitacao||Y.data||Y.data_hora||null,titulo:`Exame - ${m(Y)}`.trim(),detalhe:p((Y==null?void 0:Y.medico_solicitante)||(Y==null?void 0:Y.medico)),status:Y.status||Y.situacao||"pendente",resultado_url:v(Y),nome:m(Y)})),R=G.map(Y=>{var H,Z;return{id:Y.id||Math.random(),tipo:"consulta",data:Y.data_hora||Y.data||null,titulo:`Consulta - ${Y.especialidade||((H=Y.medico)==null?void 0:H.especialidade)||""}`.trim(),detalhe:((Z=Y.medico)==null?void 0:Z.nome)||p(Y==null?void 0:Y.medico)||"",status:Y.status||"pendente"}}),re=T.map(Y=>{var Ae;const H=Y.medico||((Ae=Y.consulta)==null?void 0:Ae.medico),Z=Array.isArray(Y.itens)&&Y.itens.length?Y.itens.map(ee=>{var Q;return((Q=ee==null?void 0:ee.medicamento)==null?void 0:Q.nome)||(ee==null?void 0:ee.medicamento)||""}).filter(Boolean).join(", "):Y.medicamentos||"Prescrio";return{id:Y.id||Math.random(),tipo:"receita",data:Y.created_at||Y.data||Y.emissao||Y.data_emissao||null,titulo:`Receita - ${Z}`.trim(),detalhe:p(H),status:Y.status||(Y.arquivo_assinado?"assinada":"emitida"),resultado_url:Y.arquivo_assinado||null,nome:"Receita"}}),V=[...R,...J,...re].filter(Y=>Y.data).sort((Y,H)=>new Date(H.data||0)-new Date(Y.data||0));C&&r(V)}catch{i("No foi possvel carregar o histrico.")}finally{C&&a(!1)}})(),()=>{C=!1}},[]);const w=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],j=b.useMemo(()=>{let C=e;if(o!=="todos"){const k={consultas:"consulta",exames:"exame",receitas:"receita"};C=C.filter(F=>F.tipo===(k[o]||o))}if(A!=="todos"&&(C=C.filter(k=>(k.status||"").toLowerCase()===A.toLowerCase())),f.trim()){const k=f.toLowerCase();C=C.filter(F=>{var D,_;return((D=F.titulo)==null?void 0:D.toLowerCase().includes(k))||((_=F.detalhe)==null?void 0:_.toLowerCase().includes(k))||(F.status||"").toLowerCase().includes(k)})}const E={};for(const k of C){const F=g(k.data);E[F]||(E[F]=[]),E[F].push(k)}const U=Object.keys(E).sort((k,F)=>k<F?1:-1);return{groups:E,orderedKeys:U}},[e,o,A,f]);return n.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(U1,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Histrico Mdico"})]}),n.jsx(Wi,{tabs:w,basePath:"/paciente"}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[n.jsx("div",{className:"flex-1 relative",children:n.jsx(Te,{placeholder:"Buscar por ttulo, mdico, status...",value:f,onChange:C=>h(C.target.value),className:"w-full"})}),n.jsxs(qr,{value:o,onValueChange:l,children:[n.jsx(Vr,{className:"w-[180px]",children:n.jsx(Wr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"todos",children:"Todos"}),n.jsx(rt,{value:"consultas",children:"Consultas"}),n.jsx(rt,{value:"exames",children:"Exames"}),n.jsx(rt,{value:"receitas",children:"Receitas"})]})]}),n.jsxs(qr,{value:A,onValueChange:d,children:[n.jsx(Vr,{className:"w-[180px]",children:n.jsx(Wr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"todos",children:"Todos"}),n.jsx(rt,{value:"solicitado",children:"Solicitado"}),n.jsx(rt,{value:"agendado",children:"Agendado"}),n.jsx(rt,{value:"realizado",children:"Realizado"}),n.jsx(rt,{value:"cancelado",children:"Cancelado"}),n.jsx(rt,{value:"pendente",children:"Pendente"})]})]})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Linha do Tempo"})}),n.jsx(Ue,{children:t?n.jsx("div",{className:"space-y-3",children:[...Array(6)].map((C,E)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Br,{className:"h-4 w-4 rounded-full"}),n.jsx(Br,{className:"h-6 w-2/3"})]},E))}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):j.orderedKeys.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento encontrado."}):n.jsx("div",{className:"space-y-8",children:j.orderedKeys.map(C=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[n.jsx(wr,{className:"h-4 w-4"}),n.jsx("span",{children:C==="sem-data"?"Sem data":new Date(C).toLocaleDateString()})]}),n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute left-1 top-0 bottom-0 w-px bg-border"}),n.jsx("ul",{className:"space-y-4",children:j.groups[C].map(E=>n.jsxs("li",{className:"relative",children:[n.jsx("span",{className:`absolute -left-[7px] top-1 inline-flex items-center justify-center h-4 w-4 rounded-full ${E.tipo==="consulta"?"bg-primary":E.tipo==="exame"?"bg-emerald-500":"bg-indigo-500"}`,title:E.tipo==="consulta"?"Consulta":E.tipo==="exame"?"Exame":"Receita"}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 text-muted-foreground",children:E.tipo==="consulta"?n.jsx(ea,{className:"h-4 w-4"}):E.tipo==="exame"?n.jsx(G6,{className:"h-4 w-4 text-emerald-400"}):n.jsx(Cf,{className:"h-4 w-4 text-indigo-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:E.titulo}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.detalhe||""," ",E.status?` ${E.status}`:""]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:y(E.data)})]})]}),E.tipo==="exame"&&n.jsx("div",{className:"flex items-center gap-2",children:E.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:E.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[n.jsx(Ci,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),n.jsx("span",{children:"Ver"})]}),n.jsxs(ve,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void Rj(E),title:"Baixar arquivo",children:[n.jsx(vl,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),n.jsx("span",{children:"Baixar"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),n.jsxs(ve,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda no disponvel",children:[n.jsx(vl,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixar"})]})]})}),E.tipo==="receita"&&n.jsx("div",{className:"flex items-center gap-2",children:E.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:E.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",title:"Abrir receita em nova aba",children:[n.jsx(Ci,{className:"h-4 w-4"}),n.jsx("span",{children:"Ver"})]}),n.jsxs(ve,{variant:"outline",className:"inline-flex items-center gap-2 rounded-lg border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",onClick:()=>void Rj(E),title:"Baixar PDF",children:[n.jsx(vl,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixar"})]})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem PDF assinado"})})]})]},E.id))})]})]},C))})})]})]})}const Rj=async e=>{var r;try{let t=e==null?void 0:e.resultado_url;if(!t)return;if(/^(data|blob):/i.test(t)){const d=document.createElement("a");d.href=t,d.download=`${e.nome||"resultado"}.pdf`,document.body.appendChild(d),d.click(),d.remove();return}/^https?:\/\//i.test(t)||(t=`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${t.startsWith("/")?"":"/"}${t}`);const a=await we.get(t,{responseType:"blob",baseURL:""}),s=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),i=a.headers["content-disposition"]||"",o=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(i),l=decodeURIComponent((o==null?void 0:o[1])||(o==null?void 0:o[2])||`${e.nome||"resultado"}.pdf`),A=document.createElement("a");A.href=URL.createObjectURL(s),A.download=l,document.body.appendChild(A),A.click(),A.remove(),setTimeout(()=>URL.revokeObjectURL(A.href),2e3)}catch(t){console.warn("[Historico Medico] download falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function _$(){const[e,r]=b.useState([]),[t,a]=b.useState(!0),[s,i]=b.useState(null);b.useEffect(()=>{let l=!0;return(async()=>{try{const A=await ha.getMedicos();l&&r(Array.isArray(A)?A:(A==null?void 0:A.results)||[])}catch{i("No foi possvel carregar os mdicos vinculados.")}finally{l&&a(!1)}})(),()=>{l=!1}},[]);const o=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Mdicos Vinculados"})]}),n.jsx(Wi,{tabs:o,basePath:"/paciente"}),t?n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((l,A)=>n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Br,{className:"h-5 w-48"})}),n.jsxs(Ue,{className:"space-y-2",children:[n.jsx(Br,{className:"h-4 w-56"}),n.jsx(Br,{className:"h-4 w-32"})]})]},A))}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):e.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum mdico vinculado."}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:e.map(l=>{var A,d;return n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-5 w-5"}),E$(l)]})}),n.jsxs(Ue,{className:"space-y-2 text-sm",children:[n.jsx("div",{className:"text-muted-foreground",children:F$(l)}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["CRM: ",Oj(l)||""]})]}),Mj(l)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aA,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:Mj(l)})]}),Tj(l)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:Tj(l)})]})]})]},l.id||Oj(l)||((A=l.user)==null?void 0:A.id)||((d=l.user)==null?void 0:d.email))})})]})}const E$=e=>{const r=(e==null?void 0:e.user)||{};return[r.first_name,r.last_name].filter(Boolean).join(" ").trim()||r.nome||r.name||r.username||(e==null?void 0:e.nome)||(e==null?void 0:e.name)||(e==null?void 0:e.full_name)||"Mdico"},F$=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():"Especialidade no informada"},Mj=e=>{var r;return(e==null?void 0:e.telefone)||(e==null?void 0:e.phone)||(e==null?void 0:e.celular)||((r=e==null?void 0:e.user)==null?void 0:r.phone)||null},Tj=e=>{var r;return(e==null?void 0:e.email)||((r=e==null?void 0:e.user)==null?void 0:r.email)||null},Oj=e=>(e==null?void 0:e.crm)||(e==null?void 0:e.crm_numero)||(e==null?void 0:e.crmNumber)||(e==null?void 0:e.crm_registro)||null,tc={CLASSIC:"classic",MODERN:"modern",MINIMAL:"minimal",CUSTOM:"custom"},Ts={type:tc.CLASSIC,layout:{pageSize:"A4",orientation:"portrait",margins:{top:50,bottom:50,left:50,right:50}},header:{showLogo:!0,logoPosition:"left",logoSize:{width:80,height:80},showDoctorInfo:!0,doctorInfoPosition:"right",backgroundColor:"#ffffff",borderBottom:!0,borderColor:"#e5e7eb"},content:{fontSize:{title:16,subtitle:14,body:12,small:10},fontFamily:"Helvetica",colors:{primary:"#1f2937",secondary:"#6b7280",accent:"#3b82f6"},spacing:{sectionGap:20,lineHeight:1.5}},footer:{showSignature:!0,showDate:!0,showPageNumber:!1,customText:"",backgroundColor:"#ffffff",borderTop:!0,borderColor:"#e5e7eb"},branding:{primaryColor:"#3b82f6",secondaryColor:"#6b7280",logoUrl:null,clinicName:"",clinicAddress:"",clinicPhone:"",clinicEmail:""}},Hj={[tc.CLASSIC]:{...Ts,name:"Clssico",description:"Layout tradicional com cabealho formal",preview:"/templates/classic-preview.svg"},[tc.MODERN]:{...Ts,type:tc.MODERN,name:"Moderno",description:"Design contemporneo com elementos visuais modernos",header:{...Ts.header,backgroundColor:"#f8fafc",logoPosition:"center"},content:{...Ts.content,colors:{primary:"#0f172a",secondary:"#475569",accent:"#0ea5e9"}},branding:{...Ts.branding,primaryColor:"#0ea5e9"},preview:"/templates/modern-preview.svg"},[tc.MINIMAL]:{...Ts,type:tc.MINIMAL,name:"Minimalista",description:"Layout limpo e simples",header:{...Ts.header,showLogo:!1,borderBottom:!1},content:{...Ts.content,fontSize:{title:14,subtitle:12,body:11,small:9}},footer:{...Ts.footer,borderTop:!1},preview:"/templates/minimal-preview.svg"}},$j=(e,r)=>{try{const t=`pdf_template_config_${e}`,a=`template_config_${e}`,s=JSON.stringify(r);return localStorage.setItem(t,s),localStorage.setItem(a,s),!0}catch(t){return console.error("Erro ao salvar configurao de template:",t),!1}},v0=e=>{try{const r=`pdf_template_config_${e}`,t=`template_config_${e}`,a=localStorage.getItem(r),s=localStorage.getItem(t),i=Ts;if(a)try{return{...i,...JSON.parse(a)}}catch{}if(s)try{return{...i,...JSON.parse(s)}}catch{}return Ts}catch(r){return console.error("Erro ao carregar configurao de template:",r),Ts}},w0=(e,r)=>new Promise((t,a)=>{try{if(!r){t(null);return}const s=`doctor_logo_${e}`;if(typeof r=="object"&&(r!=null&&r.data)&&typeof r.data=="string"){const i={data:r.data,name:r.name||"logo.png",type:r.type||"image/png",size:r.size||void 0,lastModified:r.lastModified||Date.now()};localStorage.setItem(s,JSON.stringify(i)),t(i);return}if(typeof r=="string"&&r.startsWith("data:")){const i=r.slice(5,r.indexOf(";"))||"image/png",o={data:r,name:"logo.png",type:i,size:void 0,lastModified:Date.now()};localStorage.setItem(s,JSON.stringify(o)),t(o);return}if(r instanceof File||r instanceof Blob){const i=new FileReader;i.onload=o=>{try{const l={data:o.target.result,name:r.name||"logo.png",type:r.type||"image/png",size:r.size,lastModified:r.lastModified||Date.now()};localStorage.setItem(s,JSON.stringify(l)),t(l)}catch(l){a(l)}},i.onerror=a,i.readAsDataURL(r);return}a(new Error("Formato de logo invlido"))}catch(s){a(s)}}),pm=e=>{try{const r=`doctor_logo_${e}`,t=localStorage.getItem(r);if(t)try{const a=JSON.parse(t);if(a&&typeof a=="object"&&typeof a.data=="string")return a}catch{if(typeof t=="string"&&t.startsWith("data:")){const a=t.slice(5,t.indexOf(";"))||"image/png";return{data:t,type:a,name:"logo.png"}}}return null}catch(r){return console.error("Erro ao carregar logo do mdico:",r),null}},Kj=e=>{try{const r=`doctor_logo_${e}`;return localStorage.removeItem(r),!0}catch(r){return console.error("Erro ao remover logo do mdico:",r),!1}},k$=e=>{var t,a,s;const r=[];return(!e.type||!Object.values(tc).includes(e.type))&&r.push("Tipo de template invlido"),(t=e.layout)!=null&&t.pageSize||r.push("Tamanho da pgina  obrigatrio"),(!((s=(a=e.content)==null?void 0:a.fontSize)!=null&&s.body)||e.content.fontSize.body<8)&&r.push("Tamanho da fonte do corpo deve ser pelo menos 8pt"),{isValid:r.length===0,errors:r}},D$=(e,r)=>{var t,a;return{...e,...r,layout:{...e.layout,...r.layout},header:{...e.header,...r.header},content:{...e.content,...r.content,fontSize:{...e.content.fontSize,...(t=r.content)==null?void 0:t.fontSize},colors:{...e.content.colors,...(a=r.content)==null?void 0:a.colors}},footer:{...e.footer,...r.footer},branding:{...e.branding,...r.branding}}},U$=e=>({...e,isPreview:!0,content:{...e.content,sampleData:{doctorName:"Dr. Joo Silva",crm:"CRM/SP 123456",specialty:"Cardiologia",patientName:"Maria Santos",date:new Date().toLocaleDateString("pt-BR"),medications:"Losartana 50mg - 1 comprimido pela manh",instructions:"Tomar com gua, preferencialmente no mesmo horrio todos os dias."}}});function L$(){const{toast:e}=Va(),[r,t]=b.useState(!0),[a,s]=b.useState(""),[i,o]=b.useState([]),[l,A]=b.useState([]),[d,f]=b.useState(!1),[h,m]=b.useState({medico:"",observacoes:""}),[p,v]=b.useState(!1),[g,y]=b.useState(""),[w,j]=b.useState("todas"),[C,E]=b.useState(""),[U,k]=b.useState(!1),F=b.useMemo(()=>[{id:"exemplo-1",created_at:"2024-01-15T10:30:00Z",medicamentos:"Paracetamol 750mg - 1 comprimido de 8/8h se dor",posologia:"Conforme prescrio mdica",observacoes:"Tomar com gua, aps as refeies",validade:"2024-07-15",status:"ativa",situacao:"finalizada",arquivo_assinado:null,medico:{id:1,nome:"Dr. Joo Silva",especialidade:"Clnico Geral",crm:"12345-SP"},consulta:{id:1,data:"2024-01-15",paciente_id:1}},{id:"exemplo-2",created_at:"2023-12-10T14:20:00Z",medicamentos:"Amoxicilina 500mg - 1 cpsula de 8/8h por 7 dias",posologia:"Via oral",observacoes:"Completar todo o tratamento mesmo com melhora dos sintomas",validade:"2024-06-10",status:"expirada",situacao:"finalizada",arquivo_assinado:null,medico:{id:2,nome:"Dra. Maria Santos",especialidade:"Pediatra",crm:"67890-SP"},consulta:{id:2,data:"2023-12-10",paciente_id:1}}],[]);b.useMemo(()=>[{id:1,nome:"Dr. Joo Silva",especialidade:"Clnico Geral",crm:"12345-SP"},{id:2,nome:"Dra. Maria Santos",especialidade:"Pediatra",crm:"67890-SP"}],[]);const D=b.useMemo(()=>Array.isArray(l)?l.filter($=>$&&String($.id??"").trim()!==""):[],[l]),_=$=>{const X=$==null?void 0:$.user;return[X==null?void 0:X.first_name,X==null?void 0:X.last_name].filter(Boolean).join(" ").trim()||(X==null?void 0:X.nome)||(X==null?void 0:X.username)||($==null?void 0:$.nome)||($==null?void 0:$.name)||($==null?void 0:$.full_name)||($==null?void 0:$.medico_nome)||($==null?void 0:$.doctor_name)||"Mdico"},G=b.useMemo(()=>(Array.isArray(i)?i:Array.isArray(i==null?void 0:i.results)?i.results:[]).sort((X,te)=>new Date(te.created_at||0)-new Date(X.created_at||0)),[i]),L=b.useMemo(()=>G.length>0,[G]),T=b.useMemo(()=>{let $=G;if(w==="todas"?$=G:w==="ativas"?$=$.filter(X=>{const te=X.validade||X.validade_receita;return te?new Date(te)>=new Date:!0}):w==="historico"&&($=$.filter(X=>{const te=X.validade||X.validade_receita;return te?new Date(te)<new Date:!1})),g){const X=g.toLowerCase();$=$.filter(te=>{var fe;const K=_(te.medico)||_((fe=te.consulta)==null?void 0:fe.medico)||"",z=te.medicamentos||"",se=te.observacoes||"";return K.toLowerCase().includes(X)||z.toLowerCase().includes(X)||se.toLowerCase().includes(X)})}return $},[G,w,g]),J=$=>{const X=$.validade||$.validade_receita;return X?new Date(X)>=new Date?"ativa":"expirada":($.status||$.situacao||"ativa").toLowerCase()},R=$=>{switch($){case"ativa":case"valida":case"vlida":return"bg-green-100 text-green-800 border-green-200";case"expirada":case"vencida":case"inativa":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},re=b.useMemo(()=>G.filter($=>J($)==="ativa").length,[G]),V=b.useMemo(()=>G.filter($=>J($)==="expirada").length,[G]);b.useEffect(()=>{let $=!0;return(async()=>{t(!0),s("");try{let te=[];try{const z=await ha.getReceitas();te=Array.isArray(z)?z:(z==null?void 0:z.results)||[]}catch(z){console.error("Erro ao carregar receitas:",z.message)}let K=[];try{const z=await ha.getMedicosVinculados();K=Array.isArray(z)?z:(z==null?void 0:z.results)||[]}catch(z){console.error("Erro ao carregar mdicos vinculados:",z.message)}if(!$)return;if(o(te),A(K),K.length===0)try{const z=await ha.getMedicos({limit:50}),se=Array.isArray(z)?z:(z==null?void 0:z.results)||[];$&&se.length>0&&A(se)}catch(z){console.error("Erro no fallback de mdicos:",z.message)}te.length===0?(o(F),E("Exibindo dados de exemplo. Conecte-se  API para ver suas receitas reais."),k(!0)):k(!1)}catch(te){if(console.error("Erro ao carregar dados:",te.message),!$)return;o(F),E("Exibindo dados de exemplo. Conecte-se  API para ver suas receitas reais."),k(!0)}finally{$&&t(!1)}})(),()=>{$=!1}},[]);const Y=async $=>{var X,te;if($.preventDefault(),!h.medico){e({title:"Selecione um mdico",description:"Escolha o mdico para enviar a solicitao."});return}v(!0);try{h.renovacao?(await ha.solicitarRenovacao({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),e({title:"Renovao enviada",description:"Seu pedido de renovao foi enviado ao mdico."})):(await ha.solicitarReceita({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),e({title:"Solicitao enviada",description:"Seu pedido de receita foi enviado ao mdico."})),f(!1),m({medico:"",mensagem:"",receita:null,renovacao:!1})}catch(K){console.error("Erro ao solicitar receita:",K),e({title:"Erro ao solicitar",description:((te=(X=K==null?void 0:K.response)==null?void 0:X.data)==null?void 0:te.detail)||(K==null?void 0:K.message)||"No foi possvel enviar a solicitao.",variant:"destructive"})}finally{v(!1)}},H=async($,X)=>{var te;try{if(!$)return;const K=(xe,ie)=>{const at=document.createElement("a"),gt=URL.createObjectURL(xe);at.href=gt,at.download=decodeURIComponent(ie),document.body.appendChild(at),at.click(),at.remove(),setTimeout(()=>URL.revokeObjectURL(gt),2e3)},z=(xe,ie="Receita_Medica.pdf")=>{let at=xe||ie;return/\.[a-z0-9]+$/i.test(at)||(at+=".pdf"),at};if(/^data:/i.test($))try{const xe=$.split(","),ie=xe[0]||"",at=xe.slice(1).join(","),gt=(ie.match(/data:([^;]+)/i)||[])[1]||"application/pdf",it=atob(at),Ee=it.length,dt=new Uint8Array(Ee);for(let Ut=0;Ut<Ee;Ut++)dt[Ut]=it.charCodeAt(Ut);const ct=new Blob([dt],{type:gt}),Wt=`Receita_${(X==null?void 0:X.id)||"documento"}`,Et=z(Wt);K(ct,Et);return}catch(xe){console.error("[Receitas] Falha ao processar data URL:",xe),e({title:"Falha no download",description:"Arquivo invlido ou corrompido.",variant:"destructive"});return}if(/^blob:/i.test($))try{const ie=await(await fetch($)).blob(),at=`Receita_${(X==null?void 0:X.id)||"documento"}`,gt=z(at);K(ie,gt);return}catch(xe){console.error("[Receitas] Blob URL indisponvel (provavelmente de outra aba/sesso):",xe),e({title:"Arquivo indisponvel",description:"Essa receita foi gerada em outra aba/sesso. Gere novamente para baixar.",variant:"destructive"});return}/^https?:\/\//i.test($)||($=`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${$.startsWith("/")?"":"/"}${$}`);const se=await we.get($,{responseType:"blob",baseURL:""}),fe=se.headers["content-disposition"]||"",be=String(se.headers["content-type"]||"").toLowerCase();let Be=(()=>{const xe=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(fe);return(xe==null?void 0:xe[1])||(xe==null?void 0:xe[2])||null})();if(!be.includes("application/pdf")){try{const xe=await new Response(se.data).text(),ie=(()=>{try{return JSON.parse(xe)}catch{return null}})(),at=(ie==null?void 0:ie.pdf_base64)||(ie==null?void 0:ie.documento_base64)||(ie==null?void 0:ie.file_base64)||(ie==null?void 0:ie.arquivo_base64);if(at){const gt=Uint8Array.from(atob(String(at)),dt=>dt.charCodeAt(0)),it=new Blob([gt],{type:"application/pdf"}),Ee=z((ie==null?void 0:ie.filename)||(ie==null?void 0:ie.nome_arquivo)||Be||`Receita_${(X==null?void 0:X.id)||"documento"}.pdf`);K(it,Ee);return}}catch{}try{const xe=await we.get(`/receitas/${X==null?void 0:X.id}/download/`,{responseType:"blob"}),ie=new Blob([xe.data],{type:"application/pdf"}),at=z(`Receita_${(X==null?void 0:X.id)||"documento"}.pdf`);try{const gt=await ie.slice(0,8).arrayBuffer();if(!String.fromCharCode(...new Uint8Array(gt)).startsWith("%PDF-"))throw new Error("not-pdf")}catch{throw new Error("not-pdf")}K(ie,at);return}catch{e({title:"Falha no download",description:"Contedo no  um PDF vlido.",variant:"destructive"});return}}const Qe=new Blob([se.data],{type:"application/pdf"});try{const xe=await Qe.slice(0,8).arrayBuffer();if(!String.fromCharCode(...new Uint8Array(xe)).startsWith("%PDF-")){e({title:"Falha no download",description:"Arquivo recebido no  um PDF vlido.",variant:"destructive"});return}}catch{}if(!Be)try{const xe=new URL($);Be=decodeURIComponent(xe.pathname.split("/").pop()||"")}catch{Be=""}Be=z(Be||`Receita_${(X==null?void 0:X.id)||"documento"}.pdf`),K(Qe,Be)}catch(K){console.error("[Receitas] Falha ao baixar PDF assinado:",((te=K==null?void 0:K.response)==null?void 0:te.status)||K),e({title:"Falha no download",description:"No foi possvel baixar o arquivo. Tente novamente.",variant:"destructive"})}},Z=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],Ae=G.length,ee=G.filter($=>$.arquivo_assinado).length,Q=G.filter($=>$.created_at?new Date($.created_at).getFullYear()===new Date().getFullYear():!1).length,q=G.filter($=>{if(!$.created_at)return!1;const X=new Date($.created_at),te=new Date;return te.setDate(te.getDate()-30),X>=te}).length;return r?n.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Br,{className:"h-32 w-full rounded-2xl"}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map(($,X)=>n.jsx(Br,{className:"h-32 w-full rounded-xl"},X))}),n.jsx(Br,{className:"h-16 w-full"}),n.jsx("div",{className:"space-y-4",children:[...Array(3)].map(($,X)=>n.jsx(Br,{className:"h-48 w-full rounded-xl"},X))})]})}):n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-700 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(Cf,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Minhas Receitas"}),n.jsx("p",{className:"text-emerald-100",children:"Gerencie suas receitas mdicas"})]})]})}),n.jsx("div",{className:"flex flex-wrap gap-3",children:n.jsxs(ve,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(ea,{className:"mr-2 h-4 w-4"}),"Mdicos"]})})]})}),n.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),n.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg",children:n.jsxs(Ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Total de Receitas"}),n.jsx("p",{className:"text-3xl font-bold",children:Ae})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(hn,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsxs(Ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Assinadas"}),n.jsx("p",{className:"text-3xl font-bold",children:ee})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(po,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg",children:n.jsxs(Ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"ltimos 30 dias"}),n.jsx("p",{className:"text-3xl font-bold",children:q})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Or,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(ke,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg",children:n.jsxs(Ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:Q})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(_m,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),n.jsx(Wi,{tabs:Z,basePath:"/paciente"}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Ue,{className:"p-6",children:n.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ns,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Te,{placeholder:"Buscar por mdico ou medicamento...",value:g,onChange:$=>y($.target.value),className:"pl-10"})]})})})}),n.jsx(ke,{className:"border-0 shadow-lg",children:n.jsx(Ue,{className:"p-6",children:n.jsxs(zi,{value:w,onValueChange:j,className:"w-full",children:[n.jsxs(qi,{className:"grid w-full grid-cols-3",children:[n.jsxs(Ir,{value:"ativas",className:"flex items-center gap-2",children:[n.jsx(us,{className:"h-4 w-4"}),"Ativas (",re,")"]}),n.jsxs(Ir,{value:"historico",className:"flex items-center gap-2",children:[n.jsx(U1,{className:"h-4 w-4"}),"Histrico (",V,")"]}),n.jsxs(Ir,{value:"todas",className:"flex items-center gap-2",children:[n.jsx(hn,{className:"h-4 w-4"}),"Todas (",Ae,")"]})]}),n.jsx(Tr,{value:w,className:"mt-6",children:L?T.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ns,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Tente ajustar os filtros de busca."})]}):n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(ke,{className:"border-0 shadow-sm",children:[n.jsx(Ke,{className:"pb-2",children:n.jsx(Ge,{className:"text-base",children:"Tabela de Receitas"})}),n.jsx(Ue,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ya,{children:[n.jsx(dr,{children:"ID"}),n.jsx(dr,{children:"Data"}),n.jsx(dr,{children:"Mdico"}),n.jsx(dr,{children:"Medicamentos"}),n.jsx(dr,{children:"Status"}),n.jsx(dr,{children:"PDF"})]})}),n.jsx(wo,{children:T.map($=>{var se;const X=_($.medico)||_((se=$.consulta)==null?void 0:se.medico)||"Mdico",te=(()=>{const fe=($==null?void 0:$.created_at)||($==null?void 0:$.data_emissao)||"";try{return fe?new Date(fe).toLocaleDateString():""}catch{return String(fe||"")}})(),K=J($),z=String(($==null?void 0:$.medicamentos)||"").split(`
`)[0];return n.jsxs(Ya,{children:[n.jsx(ir,{className:"whitespace-nowrap",children:$.id}),n.jsx(ir,{className:"whitespace-nowrap",children:te}),n.jsx(ir,{className:"min-w-[160px]",children:X}),n.jsx(ir,{className:"truncate max-w-[260px]",title:($==null?void 0:$.medicamentos)||"",children:z||""}),n.jsx(ir,{children:n.jsx(lr,{className:R(K),variant:"outline",children:K})}),n.jsx(ir,{children:$.arquivo_assinado||$.arquivo_pdf_assinado?n.jsx(ve,{size:"sm",variant:"outline",onClick:()=>H($.arquivo_assinado||$.arquivo_pdf_assinado,$),children:"Baixar"}):n.jsx(ve,{size:"sm",variant:"outline",disabled:!0,children:"Assinatura pendente"})})]},`row-${$.id}`)})})]})})})]}),T.map($=>{var z;const X=$.consulta,te=_($.medico)||_(X==null?void 0:X.medico)||$.medico_nome||$.medicoName||"Mdico",K=((z=X==null?void 0:X.paciente)!=null&&z.user?`${X.paciente.user.first_name||""} ${X.paciente.user.last_name||""}`.trim():"Paciente")||"Paciente";return n.jsxs(ke,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx(Ke,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-emerald-100 p-2 dark:bg-emerald-900",children:n.jsx(Cf,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-lg",children:"Receita Mdica"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitida em ",new Date($.created_at).toLocaleDateString()," s ",new Date($.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(lr,{variant:$.arquivo_assinado?"default":"secondary",className:$.arquivo_assinado?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:$.arquivo_assinado?"Assinada":"No assinada"}),$.validade&&n.jsxs(lr,{variant:"outline",className:"text-xs",children:["Vlida at ",$.validade]})]})]})}),n.jsxs(Ue,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[n.jsx(ea,{className:"h-4 w-4"}),"Mdico"]}),n.jsx("p",{className:"font-medium",children:te})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[n.jsx(Hn,{className:"h-4 w-4"}),"Paciente"]}),n.jsx("p",{className:"font-medium",children:K})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Medicamentos"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:$.medicamentos})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Posologia"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:$.posologia})})]}),$.observacoes&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Observaes"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:$.observacoes})})]}),Array.isArray($.itens)&&$.itens.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Itens estruturados"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("ul",{className:"space-y-2",children:$.itens.map(se=>{var fe;return n.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[n.jsx("div",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:((fe=se.medicamento)==null?void 0:fe.nome)||"Medicamento"}),se.dose&&n.jsxs("span",{className:"text-muted-foreground",children:[" - ",se.dose]}),se.frequencia&&n.jsxs("span",{className:"text-muted-foreground",children:[" | ",se.frequencia]}),se.duracao&&n.jsxs("span",{className:"text-muted-foreground",children:[" | ",se.duracao]}),se.observacoes&&n.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:se.observacoes})]})]},se.id)})})})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[$.arquivo_assinado||$.arquivo_pdf_assinado?n.jsxs(n.Fragment,{children:[n.jsxs(ve,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>H(`/receitas/${$==null?void 0:$.id}/download/`,$),children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Visualizar (Download)"]}),n.jsxs(ve,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>H($.arquivo_assinado||$.arquivo_pdf_assinado,$),children:[n.jsx(vl,{className:"h-4 w-4 mr-2"}),"Baixar PDF Assinado"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs(ve,{variant:"outline",size:"sm",disabled:!0,className:"group border-amber-500/60 bg-gradient-to-b from-amber-500/10 to-amber-600/10 text-amber-700 dark:text-amber-300",children:[n.jsx(vl,{className:"h-4 w-4 mr-2"}),"Assinatura pendente"]}),n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[n.jsx(pu,{className:"h-3 w-3"}),"Aguarde o mdico assinar para baixar o PDF."]})]}),n.jsxs(ve,{variant:"secondary",size:"sm",onClick:()=>{var fe,be,Be;const se=((fe=$==null?void 0:$.medico)==null?void 0:fe.id)||((Be=(be=$==null?void 0:$.consulta)==null?void 0:be.medico)==null?void 0:Be.id)||($==null?void 0:$.medico_id)||"";m({medico:String(se||""),mensagem:"",receita:($==null?void 0:$.id)||null,renovacao:!1}),f(!0)},children:[n.jsx(gu,{className:"h-4 w-4 mr-2"}),"Solicitar Receita"]}),n.jsxs(ve,{variant:"secondary",size:"sm",onClick:()=>{var be,Be,Qe;const se=((be=$==null?void 0:$.medico)==null?void 0:be.id)||((Qe=(Be=$==null?void 0:$.consulta)==null?void 0:Be.medico)==null?void 0:Qe.id)||($==null?void 0:$.medico_id)||"",fe=`Solicito renovao da receita #${($==null?void 0:$.id)??""}`.trim();m({medico:String(se||""),mensagem:fe,receita:($==null?void 0:$.id)||null,renovacao:!0}),f(!0)},children:[n.jsx(I1,{className:"h-4 w-4 mr-2"}),"Pedir Renovao"]})]})]})]},$.id)})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Cf,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:C||(w==="ativas"?"Voc no possui receitas ativas no momento.":w==="historico"?"Voc no possui receitas no histrico.":"Voc ainda no possui receitas mdicas.")})]})})]})})}),d?n.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-card text-card-foreground border rounded-lg p-6 w-full max-w-lg shadow-lg",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:h.renovacao?"Pedir Renovao de Receita":"Solicitar Receita"}),n.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{className:"mb-1 block",children:"Mdico"}),n.jsxs(qr,{value:h.medico,onValueChange:$=>m(X=>({...X,medico:$})),children:[n.jsx(Vr,{className:"w-full",children:n.jsx(Wr,{placeholder:r?"Carregando...":D.length?"Selecione...":"Nenhum mdico disponvel"})}),n.jsx(zr,{children:D.length===0?n.jsx(KE,{children:"Nenhum mdico disponvel"}):D.map($=>{const X=($!=null&&$.user?`${$.user.first_name||""} ${$.user.last_name||""}`.trim():$==null?void 0:$.nome)||"Mdico";return n.jsxs(rt,{value:String($.id),children:[X," ",$.crm?`- CRM ${$.crm}`:""]},String($.id))})})]})]}),n.jsxs("div",{children:[n.jsx(Fe,{className:"mb-1 block",children:"Mensagem (opcional)"}),n.jsx(oa,{rows:3,placeholder:h.renovacao?"Explique sua necessidade de renovao (uso contnuo, desabastecimento, etc.)":"Descreva sua necessidade (ex: nova receita de medicamento)",value:h.mensagem,onChange:$=>m(X=>({...X,mensagem:$.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>{f(!1),m({medico:"",mensagem:"",receita:null,renovacao:!1})},children:"Cancelar"}),n.jsx(ve,{type:"submit",disabled:p,children:p?"Enviando...":h.renovacao?"Enviar pedido de renovao":"Enviar solicitao"})]})]})]})}):null]})}function UF(e,r=[]){const[t,a]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(null);return b.useEffect(()=>{let d=!0;return(async()=>{var h,m;try{i(!0),l(null);const p=await e();d&&a(p)}catch(p){d&&l(((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.message)||"Erro ao carregar dados")}finally{d&&i(!1)}})(),()=>{d=!1}},r),{data:t,loading:s,error:o,refetch:async()=>{var d,f;try{i(!0),l(null);const h=await e();a(h)}catch(h){l(((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.message)||"Erro ao carregar dados")}finally{i(!1)}}}}function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$a(e)}var Nl=Uint8Array,mo=Uint16Array,jb=Int32Array,Bb=new Nl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Cb=new Nl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vj=new Nl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LF=function(e,r){for(var t=new mo(31),a=0;a<31;++a)t[a]=r+=1<<e[a-1];for(var s=new jb(t[30]),a=1;a<30;++a)for(var i=t[a];i<t[a+1];++i)s[i]=i-t[a]<<5|a;return{b:t,r:s}},IF=LF(Bb,2),I$=IF.b,Qy=IF.r;I$[28]=258,Qy[258]=28;var P$=LF(Cb,0),zj=P$.r,Ry=new mo(32768);for(var un=0;un<32768;++un){var qA=(un&43690)>>1|(un&21845)<<1;qA=(qA&52428)>>2|(qA&13107)<<2,qA=(qA&61680)>>4|(qA&3855)<<4,Ry[un]=((qA&65280)>>8|(qA&255)<<8)>>1}var Jh=(function(e,r,t){for(var a=e.length,s=0,i=new mo(r);s<a;++s)e[s]&&++i[e[s]-1];var o=new mo(r);for(s=1;s<r;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(t){l=new mo(1<<r);var A=15-r;for(s=0;s<a;++s)if(e[s])for(var d=s<<4|e[s],f=r-e[s],h=o[e[s]-1]++<<f,m=h|(1<<f)-1;h<=m;++h)l[Ry[h]>>A]=d}else for(l=new mo(a),s=0;s<a;++s)e[s]&&(l[s]=Ry[o[e[s]-1]++]>>15-e[s]);return l}),Nu=new Nl(288);for(var un=0;un<144;++un)Nu[un]=8;for(var un=144;un<256;++un)Nu[un]=9;for(var un=256;un<280;++un)Nu[un]=7;for(var un=280;un<288;++un)Nu[un]=8;var y0=new Nl(32);for(var un=0;un<32;++un)y0[un]=5;var Q$=Jh(Nu,9,0),R$=Jh(y0,5,0),PF=function(e){return(e+7)/8|0},M$=function(e,r,t){return(t==null||t>e.length)&&(t=e.length),new Nl(e.subarray(r,t))},Wc=function(e,r,t){t<<=r&7;var a=r/8|0;e[a]|=t,e[a+1]|=t>>8},Lh=function(e,r,t){t<<=r&7;var a=r/8|0;e[a]|=t,e[a+1]|=t>>8,e[a+2]|=t>>16},lw=function(e,r){for(var t=[],a=0;a<e.length;++a)e[a]&&t.push({s:a,f:e[a]});var s=t.length,i=t.slice();if(!s)return{t:RF,l:0};if(s==1){var o=new Nl(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(U,k){return U.f-k.f}),t.push({s:-1,f:25001});var l=t[0],A=t[1],d=0,f=1,h=2;for(t[0]={s:-1,f:l.f+A.f,l,r:A};f!=s-1;)l=t[t[d].f<t[h].f?d++:h++],A=t[d!=f&&t[d].f<t[h].f?d++:h++],t[f++]={s:-1,f:l.f+A.f,l,r:A};for(var m=i[0].s,a=1;a<s;++a)i[a].s>m&&(m=i[a].s);var p=new mo(m+1),v=My(t[f-1],p,0);if(v>r){var a=0,g=0,y=v-r,w=1<<y;for(i.sort(function(k,F){return p[F.s]-p[k.s]||k.f-F.f});a<s;++a){var j=i[a].s;if(p[j]>r)g+=w-(1<<v-p[j]),p[j]=r;else break}for(g>>=y;g>0;){var C=i[a].s;p[C]<r?g-=1<<r-p[C]++-1:++a}for(;a>=0&&g;--a){var E=i[a].s;p[E]==r&&(--p[E],++g)}v=r}return{t:new Nl(p),l:v}},My=function(e,r,t){return e.s==-1?Math.max(My(e.l,r,t+1),My(e.r,r,t+1)):r[e.s]=t},qj=function(e){for(var r=e.length;r&&!e[--r];);for(var t=new mo(++r),a=0,s=e[0],i=1,o=function(A){t[a++]=A},l=1;l<=r;++l)if(e[l]==s&&l!=r)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:t.subarray(0,a),n:r}},Ih=function(e,r){for(var t=0,a=0;a<r.length;++a)t+=e[a]*r[a];return t},QF=function(e,r,t){var a=t.length,s=PF(r+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=t[i];return(s+4+a)*8},Wj=function(e,r,t,a,s,i,o,l,A,d,f){Wc(r,f++,t),++s[256];for(var h=lw(s,15),m=h.t,p=h.l,v=lw(i,15),g=v.t,y=v.l,w=qj(m),j=w.c,C=w.n,E=qj(g),U=E.c,k=E.n,F=new mo(19),D=0;D<j.length;++D)++F[j[D]&31];for(var D=0;D<U.length;++D)++F[U[D]&31];for(var _=lw(F,7),G=_.t,L=_.l,T=19;T>4&&!G[Vj[T-1]];--T);var J=d+5<<3,R=Ih(s,Nu)+Ih(i,y0)+o,re=Ih(s,m)+Ih(i,g)+o+14+3*T+Ih(F,G)+2*F[16]+3*F[17]+7*F[18];if(A>=0&&J<=R&&J<=re)return QF(r,f,e.subarray(A,A+d));var V,Y,H,Z;if(Wc(r,f,1+(re<R)),f+=2,re<R){V=Jh(m,p,0),Y=m,H=Jh(g,y,0),Z=g;var Ae=Jh(G,L,0);Wc(r,f,C-257),Wc(r,f+5,k-1),Wc(r,f+10,T-4),f+=14;for(var D=0;D<T;++D)Wc(r,f+3*D,G[Vj[D]]);f+=3*T;for(var ee=[j,U],Q=0;Q<2;++Q)for(var q=ee[Q],D=0;D<q.length;++D){var $=q[D]&31;Wc(r,f,Ae[$]),f+=G[$],$>15&&(Wc(r,f,q[D]>>5&127),f+=q[D]>>12)}}else V=Q$,Y=Nu,H=R$,Z=y0;for(var D=0;D<l;++D){var X=a[D];if(X>255){var $=X>>18&31;Lh(r,f,V[$+257]),f+=Y[$+257],$>7&&(Wc(r,f,X>>23&31),f+=Bb[$]);var te=X&31;Lh(r,f,H[te]),f+=Z[te],te>3&&(Lh(r,f,X>>5&8191),f+=Cb[te])}else Lh(r,f,V[X]),f+=Y[X]}return Lh(r,f,V[256]),f+Y[256]},T$=new jb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RF=new Nl(0),O$=function(e,r,t,a,s,i){var o=i.z||e.length,l=new Nl(a+o+5*(1+Math.ceil(o/7e3))+s),A=l.subarray(a,l.length-s),d=i.l,f=(i.r||0)&7;if(r){f&&(A[0]=i.r>>3);for(var h=T$[r-1],m=h>>13,p=h&8191,v=(1<<t)-1,g=i.p||new mo(32768),y=i.h||new mo(v+1),w=Math.ceil(t/3),j=2*w,C=function(xe){return(e[xe]^e[xe+1]<<w^e[xe+2]<<j)&v},E=new jb(25e3),U=new mo(288),k=new mo(32),F=0,D=0,_=i.i||0,G=0,L=i.w||0,T=0;_+2<o;++_){var J=C(_),R=_&32767,re=y[J];if(g[R]=re,y[J]=R,L<=_){var V=o-_;if((F>7e3||G>24576)&&(V>423||!d)){f=Wj(e,A,0,E,U,k,D,G,T,_-T,f),G=F=D=0,T=_;for(var Y=0;Y<286;++Y)U[Y]=0;for(var Y=0;Y<30;++Y)k[Y]=0}var H=2,Z=0,Ae=p,ee=R-re&32767;if(V>2&&J==C(_-ee))for(var Q=Math.min(m,V)-1,q=Math.min(32767,_),$=Math.min(258,V);ee<=q&&--Ae&&R!=re;){if(e[_+H]==e[_+H-ee]){for(var X=0;X<$&&e[_+X]==e[_+X-ee];++X);if(X>H){if(H=X,Z=ee,X>Q)break;for(var te=Math.min(ee,X-2),K=0,Y=0;Y<te;++Y){var z=_-ee+Y&32767,se=g[z],fe=z-se&32767;fe>K&&(K=fe,re=z)}}}R=re,re=g[R],ee+=R-re&32767}if(Z){E[G++]=268435456|Qy[H]<<18|zj[Z];var be=Qy[H]&31,Be=zj[Z]&31;D+=Bb[be]+Cb[Be],++U[257+be],++k[Be],L=_+H,++F}else E[G++]=e[_],++U[e[_]]}}for(_=Math.max(_,L);_<o;++_)E[G++]=e[_],++U[e[_]];f=Wj(e,A,d,E,U,k,D,G,T,_-T,f),d||(i.r=f&7|A[f/8|0]<<3,f-=7,i.h=y,i.p=g,i.i=_,i.w=L)}else{for(var _=i.w||0;_<o+d;_+=65535){var Qe=_+65535;Qe>=o&&(A[f/8|0]=d,Qe=o),f=QF(A,f+1,e.subarray(_,Qe))}i.i=o}return M$(l,0,a+PF(f)+s)},MF=function(){var e=1,r=0;return{p:function(t){for(var a=e,s=r,i=t.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=a+=t[o];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,r=s},d:function(){return e%=65521,r%=65521,(e&255)<<24|(e&65280)<<8|(r&255)<<8|r>>8}}},H$=function(e,r,t,a,s){if(!s&&(s={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),o=new Nl(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return O$(e,r.level==null?6:r.level,r.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,t,a,s)},TF=function(e,r,t){for(;t;++r)e[r]=t,t>>>=8},$$=function(e,r){var t=r.level,a=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=a<<6|(r.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,r.dictionary){var s=MF();s.p(r.dictionary),TF(e,2,s.d())}};function Ty(e,r){r||(r={});var t=MF();t.p(e);var a=H$(e,r,r.dictionary?6:2,4);return $$(a,r),TF(a,a.length-4,t.d()),a}var K$=typeof TextDecoder<"u"&&new TextDecoder,V$=0;try{K$.decode(RF,{stream:!0}),V$=1}catch{}function z$(e){if(Array.isArray(e))return e}function q$(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a,s,i,o,l=[],A=!0,d=!1;try{if(i=(t=t.call(e)).next,r!==0)for(;!(A=(a=i.call(t)).done)&&(l.push(a.value),l.length!==r);A=!0);}catch(f){d=!0,s=f}finally{try{if(!A&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Gj(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=Array(r);t<r;t++)a[t]=e[t];return a}function W$(e,r){if(e){if(typeof e=="string")return Gj(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Gj(e,r):void 0}}function G$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yj(e,r){return z$(e)||q$(e,r)||W$(e,r)||G$()}function Xj(e,r="utf8"){return new TextDecoder(r).decode(e)}const Y$=new TextEncoder;function X$(e){return Y$.encode(e)}const J$=1024*8,Z$=(()=>{const e=new Uint8Array(4),r=new Uint32Array(e.buffer);return!((r[0]=1)&e[0])})(),cw={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Sb{constructor(r=J$,t={}){ht(this,"buffer");ht(this,"byteLength");ht(this,"byteOffset");ht(this,"length");ht(this,"offset");ht(this,"lastWrittenByte");ht(this,"littleEndian");ht(this,"_data");ht(this,"_mark");ht(this,"_marks");let a=!1;typeof r=="number"?r=new ArrayBuffer(r):(a=!0,this.lastWrittenByte=r.byteLength);const s=t.offset?t.offset>>>0:0,i=r.byteLength-s;let o=s;(ArrayBuffer.isView(r)||r instanceof Sb)&&(r.byteLength!==r.buffer.byteLength&&(o=r.byteOffset+s),r=r.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=r,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(r=1){return this.offset+r<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(r=1){return this.offset+=r,this}back(r=1){return this.offset-=r,this}seek(r){return this.offset=r,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const r=this._marks.pop();if(r===void 0)throw new Error("Mark stack empty");return this.seek(r),this}rewind(){return this.offset=0,this}ensureAvailable(r=1){if(!this.available(r)){const a=(this.offset+r)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(r=1){return this.readArray(r,"uint8")}readArray(r,t){const a=cw[t].BYTES_PER_ELEMENT*r,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+a);if(this.littleEndian===Z$&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+a));l.reverse();const A=new cw[t](l.buffer);return this.offset+=a,A.reverse(),A}const o=new cw[t](i);return this.offset+=a,o}readInt16(){const r=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,r}readUint16(){const r=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,r}readInt32(){const r=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,r}readUint32(){const r=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat32(){const r=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat64(){const r=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,r}readBigInt64(){const r=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,r}readBigUint64(){const r=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,r}readChar(){return String.fromCharCode(this.readInt8())}readChars(r=1){let t="";for(let a=0;a<r;a++)t+=this.readChar();return t}readUtf8(r=1){return Xj(this.readBytes(r))}decodeText(r=1,t="utf8"){return Xj(this.readBytes(r),t)}writeBoolean(r){return this.writeUint8(r?255:0),this}writeInt8(r){return this.ensureAvailable(1),this._data.setInt8(this.offset++,r),this._updateLastWrittenByte(),this}writeUint8(r){return this.ensureAvailable(1),this._data.setUint8(this.offset++,r),this._updateLastWrittenByte(),this}writeByte(r){return this.writeUint8(r)}writeBytes(r){this.ensureAvailable(r.length);for(let t=0;t<r.length;t++)this._data.setUint8(this.offset++,r[t]);return this._updateLastWrittenByte(),this}writeInt16(r){return this.ensureAvailable(2),this._data.setInt16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(r){return this.ensureAvailable(2),this._data.setUint16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(r){return this.ensureAvailable(4),this._data.setInt32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(r){return this.ensureAvailable(4),this._data.setUint32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(r){return this.ensureAvailable(4),this._data.setFloat32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(r){return this.ensureAvailable(8),this._data.setFloat64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(r){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(r){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(r){return this.writeUint8(r.charCodeAt(0))}writeChars(r){for(let t=0;t<r.length;t++)this.writeUint8(r.charCodeAt(t));return this}writeUtf8(r){return this.writeBytes(X$(r))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function rh(e){let r=e.length;for(;--r>=0;)e[r]=0}const e9=3,t9=258,OF=29,r9=256,a9=r9+1+OF,HF=30,n9=512,s9=new Array((a9+2)*2);rh(s9);const i9=new Array(HF*2);rh(i9);const o9=new Array(n9);rh(o9);const l9=new Array(t9-e9+1);rh(l9);const c9=new Array(OF);rh(c9);const A9=new Array(HF);rh(A9);const d9=(e,r,t,a)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do s=s+r[a++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Oy=d9;const u9=()=>{let e,r=[];for(var t=0;t<256;t++){e=t;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r},f9=new Uint32Array(u9()),h9=(e,r,t,a)=>{const s=f9,i=a+t;e^=-1;for(let o=a;o<i;o++)e=e>>>8^s[(e^r[o])&255];return e^-1};var Vl=h9,Hy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$F={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const m9=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var p9=function(e){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const t=r.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const a in t)m9(t,a)&&(e[a]=t[a])}}return e},g9=e=>{let r=0;for(let a=0,s=e.length;a<s;a++)r+=e[a].length;const t=new Uint8Array(r);for(let a=0,s=0,i=e.length;a<i;a++){let o=e[a];t.set(o,s),s+=o.length}return t},KF={assign:p9,flattenChunks:g9};let VF=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{VF=!1}const gm=new Uint8Array(256);for(let e=0;e<256;e++)gm[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;gm[254]=gm[254]=1;var x9=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let r,t,a,s,i,o=e.length,l=0;for(s=0;s<o;s++)t=e.charCodeAt(s),(t&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),s++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(l),i=0,s=0;i<l;s++)t=e.charCodeAt(s),(t&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),s++)),t<128?r[i++]=t:t<2048?(r[i++]=192|t>>>6,r[i++]=128|t&63):t<65536?(r[i++]=224|t>>>12,r[i++]=128|t>>>6&63,r[i++]=128|t&63):(r[i++]=240|t>>>18,r[i++]=128|t>>>12&63,r[i++]=128|t>>>6&63,r[i++]=128|t&63);return r};const v9=(e,r)=>{if(r<65534&&e.subarray&&VF)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let t="";for(let a=0;a<r;a++)t+=String.fromCharCode(e[a]);return t};var w9=(e,r)=>{const t=r||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,r));let a,s;const i=new Array(t*2);for(s=0,a=0;a<t;){let o=e[a++];if(o<128){i[s++]=o;continue}let l=gm[o];if(l>4){i[s++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<t;)o=o<<6|e[a++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return v9(i,s)},y9=(e,r)=>{r=r||e.length,r>e.length&&(r=e.length);let t=r-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+gm[e[t]]>r?t:r},$y={string2buf:x9,buf2string:w9,utf8border:y9};function b9(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var N9=b9;const Tp=16209,j9=16191;var B9=function(r,t){let a,s,i,o,l,A,d,f,h,m,p,v,g,y,w,j,C,E,U,k,F,D,_,G;const L=r.state;a=r.next_in,_=r.input,s=a+(r.avail_in-5),i=r.next_out,G=r.output,o=i-(t-r.avail_out),l=i+(r.avail_out-257),A=L.dmax,d=L.wsize,f=L.whave,h=L.wnext,m=L.window,p=L.hold,v=L.bits,g=L.lencode,y=L.distcode,w=(1<<L.lenbits)-1,j=(1<<L.distbits)-1;e:do{v<15&&(p+=_[a++]<<v,v+=8,p+=_[a++]<<v,v+=8),C=g[p&w];t:for(;;){if(E=C>>>24,p>>>=E,v-=E,E=C>>>16&255,E===0)G[i++]=C&65535;else if(E&16){U=C&65535,E&=15,E&&(v<E&&(p+=_[a++]<<v,v+=8),U+=p&(1<<E)-1,p>>>=E,v-=E),v<15&&(p+=_[a++]<<v,v+=8,p+=_[a++]<<v,v+=8),C=y[p&j];r:for(;;){if(E=C>>>24,p>>>=E,v-=E,E=C>>>16&255,E&16){if(k=C&65535,E&=15,v<E&&(p+=_[a++]<<v,v+=8,v<E&&(p+=_[a++]<<v,v+=8)),k+=p&(1<<E)-1,k>A){r.msg="invalid distance too far back",L.mode=Tp;break e}if(p>>>=E,v-=E,E=i-o,k>E){if(E=k-E,E>f&&L.sane){r.msg="invalid distance too far back",L.mode=Tp;break e}if(F=0,D=m,h===0){if(F+=d-E,E<U){U-=E;do G[i++]=m[F++];while(--E);F=i-k,D=G}}else if(h<E){if(F+=d+h-E,E-=h,E<U){U-=E;do G[i++]=m[F++];while(--E);if(F=0,h<U){E=h,U-=E;do G[i++]=m[F++];while(--E);F=i-k,D=G}}}else if(F+=h-E,E<U){U-=E;do G[i++]=m[F++];while(--E);F=i-k,D=G}for(;U>2;)G[i++]=D[F++],G[i++]=D[F++],G[i++]=D[F++],U-=3;U&&(G[i++]=D[F++],U>1&&(G[i++]=D[F++]))}else{F=i-k;do G[i++]=G[F++],G[i++]=G[F++],G[i++]=G[F++],U-=3;while(U>2);U&&(G[i++]=G[F++],U>1&&(G[i++]=G[F++]))}}else if((E&64)===0){C=y[(C&65535)+(p&(1<<E)-1)];continue r}else{r.msg="invalid distance code",L.mode=Tp;break e}break}}else if((E&64)===0){C=g[(C&65535)+(p&(1<<E)-1)];continue t}else if(E&32){L.mode=j9;break e}else{r.msg="invalid literal/length code",L.mode=Tp;break e}break}}while(a<s&&i<l);U=v>>3,a-=U,v-=U<<3,p&=(1<<v)-1,r.next_in=a,r.next_out=i,r.avail_in=a<s?5+(s-a):5-(a-s),r.avail_out=i<l?257+(l-i):257-(i-l),L.hold=p,L.bits=v};const Af=15,Jj=852,Zj=592,eB=0,Aw=1,tB=2,C9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),S9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),E9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),F9=(e,r,t,a,s,i,o,l)=>{const A=l.bits;let d=0,f=0,h=0,m=0,p=0,v=0,g=0,y=0,w=0,j=0,C,E,U,k,F,D=null,_;const G=new Uint16Array(Af+1),L=new Uint16Array(Af+1);let T=null,J,R,re;for(d=0;d<=Af;d++)G[d]=0;for(f=0;f<a;f++)G[r[t+f]]++;for(p=A,m=Af;m>=1&&G[m]===0;m--);if(p>m&&(p=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&G[h]===0;h++);for(p<h&&(p=h),y=1,d=1;d<=Af;d++)if(y<<=1,y-=G[d],y<0)return-1;if(y>0&&(e===eB||m!==1))return-1;for(L[1]=0,d=1;d<Af;d++)L[d+1]=L[d]+G[d];for(f=0;f<a;f++)r[t+f]!==0&&(o[L[r[t+f]]++]=f);if(e===eB?(D=T=o,_=20):e===Aw?(D=C9,T=S9,_=257):(D=_9,T=E9,_=0),j=0,f=0,d=h,F=i,v=p,g=0,U=-1,w=1<<p,k=w-1,e===Aw&&w>Jj||e===tB&&w>Zj)return 1;for(;;){J=d-g,o[f]+1<_?(R=0,re=o[f]):o[f]>=_?(R=T[o[f]-_],re=D[o[f]-_]):(R=96,re=0),C=1<<d-g,E=1<<v,h=E;do E-=C,s[F+(j>>g)+E]=J<<24|R<<16|re|0;while(E!==0);for(C=1<<d-1;j&C;)C>>=1;if(C!==0?(j&=C-1,j+=C):j=0,f++,--G[d]===0){if(d===m)break;d=r[t+o[f]]}if(d>p&&(j&k)!==U){for(g===0&&(g=p),F+=h,v=d-g,y=1<<v;v+g<m&&(y-=G[v+g],!(y<=0));)v++,y<<=1;if(w+=1<<v,e===Aw&&w>Jj||e===tB&&w>Zj)return 1;U=j&k,s[U]=p<<24|v<<16|F-i|0}}return j!==0&&(s[F+j]=d-g<<24|64<<16|0),l.bits=p,0};var Zh=F9;const k9=0,zF=1,qF=2,{Z_FINISH:rB,Z_BLOCK:D9,Z_TREES:Op,Z_OK:ju,Z_STREAM_END:U9,Z_NEED_DICT:L9,Z_STREAM_ERROR:Vo,Z_DATA_ERROR:WF,Z_MEM_ERROR:GF,Z_BUF_ERROR:I9,Z_DEFLATED:aB}=$F,Cx=16180,nB=16181,sB=16182,iB=16183,oB=16184,lB=16185,cB=16186,AB=16187,dB=16188,uB=16189,b0=16190,Gc=16191,dw=16192,fB=16193,uw=16194,hB=16195,mB=16196,pB=16197,gB=16198,Hp=16199,$p=16200,xB=16201,vB=16202,wB=16203,yB=16204,bB=16205,fw=16206,NB=16207,jB=16208,Nn=16209,YF=16210,XF=16211,P9=852,Q9=592,R9=15,M9=R9,BB=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function T9(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Eu=e=>{if(!e)return 1;const r=e.state;return!r||r.strm!==e||r.mode<Cx||r.mode>XF?1:0},JF=e=>{if(Eu(e))return Vo;const r=e.state;return e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=Cx,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(P9),r.distcode=r.distdyn=new Int32Array(Q9),r.sane=1,r.back=-1,ju},ZF=e=>{if(Eu(e))return Vo;const r=e.state;return r.wsize=0,r.whave=0,r.wnext=0,JF(e)},e3=(e,r)=>{let t;if(Eu(e))return Vo;const a=e.state;return r<0?(t=0,r=-r):(t=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?Vo:(a.window!==null&&a.wbits!==r&&(a.window=null),a.wrap=t,a.wbits=r,ZF(e))},t3=(e,r)=>{if(!e)return Vo;const t=new T9;e.state=t,t.strm=e,t.window=null,t.mode=Cx;const a=e3(e,r);return a!==ju&&(e.state=null),a},O9=e=>t3(e,M9);let CB=!0,hw,mw;const H9=e=>{if(CB){hw=new Int32Array(512),mw=new Int32Array(32);let r=0;for(;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(Zh(zF,e.lens,0,288,hw,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;Zh(qF,e.lens,0,32,mw,0,e.work,{bits:5}),CB=!1}e.lencode=hw,e.lenbits=9,e.distcode=mw,e.distbits=5},r3=(e,r,t,a)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(r.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>a&&(s=a),i.window.set(r.subarray(t-a,t-a+s),i.wnext),a-=s,a?(i.window.set(r.subarray(t-a,t),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},$9=(e,r)=>{let t,a,s,i,o,l,A,d,f,h,m,p,v,g,y=0,w,j,C,E,U,k,F,D;const _=new Uint8Array(4);let G,L;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Eu(e)||!e.output||!e.input&&e.avail_in!==0)return Vo;t=e.state,t.mode===Gc&&(t.mode=dw),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=t.hold,f=t.bits,h=l,m=A,D=ju;e:for(;;)switch(t.mode){case Cx:if(t.wrap===0){t.mode=dw;break}for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,_[0]=d&255,_[1]=d>>>8&255,t.check=Vl(t.check,_,2,0),d=0,f=0,t.mode=nB;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",t.mode=Nn;break}if((d&15)!==aB){e.msg="unknown compression method",t.mode=Nn;break}if(d>>>=4,f-=4,F=(d&15)+8,t.wbits===0&&(t.wbits=F),F>15||F>t.wbits){e.msg="invalid window size",t.mode=Nn;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=d&512?uB:Gc,d=0,f=0;break;case nB:for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.flags=d,(t.flags&255)!==aB){e.msg="unknown compression method",t.mode=Nn;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=Nn;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Vl(t.check,_,2,0)),d=0,f=0,t.mode=sB;case sB:for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,_[2]=d>>>16&255,_[3]=d>>>24&255,t.check=Vl(t.check,_,4,0)),d=0,f=0,t.mode=iB;case iB:for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Vl(t.check,_,2,0)),d=0,f=0,t.mode=oB;case oB:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Vl(t.check,_,2,0)),d=0,f=0}else t.head&&(t.head.extra=null);t.mode=lB;case lB:if(t.flags&1024&&(p=t.length,p>l&&(p=l),p&&(t.head&&(F=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(a.subarray(i,i+p),F)),t.flags&512&&t.wrap&4&&(t.check=Vl(t.check,a,p,i)),l-=p,i+=p,t.length-=p),t.length))break e;t.length=0,t.mode=cB;case cB:if(t.flags&2048){if(l===0)break e;p=0;do F=a[i+p++],t.head&&F&&t.length<65536&&(t.head.name+=String.fromCharCode(F));while(F&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Vl(t.check,a,p,i)),l-=p,i+=p,F)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=AB;case AB:if(t.flags&4096){if(l===0)break e;p=0;do F=a[i+p++],t.head&&F&&t.length<65536&&(t.head.comment+=String.fromCharCode(F));while(F&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Vl(t.check,a,p,i)),l-=p,i+=p,F)break e}else t.head&&(t.head.comment=null);t.mode=dB;case dB:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&4&&d!==(t.check&65535)){e.msg="header crc mismatch",t.mode=Nn;break}d=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Gc;break;case uB:for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}e.adler=t.check=BB(d),d=0,f=0,t.mode=b0;case b0:if(t.havedict===0)return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,L9;e.adler=t.check=1,t.mode=Gc;case Gc:if(r===D9||r===Op)break e;case dw:if(t.last){d>>>=f&7,f-=f&7,t.mode=fw;break}for(;f<3;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}switch(t.last=d&1,d>>>=1,f-=1,d&3){case 0:t.mode=fB;break;case 1:if(H9(t),t.mode=Hp,r===Op){d>>>=2,f-=2;break e}break;case 2:t.mode=mB;break;case 3:e.msg="invalid block type",t.mode=Nn}d>>>=2,f-=2;break;case fB:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",t.mode=Nn;break}if(t.length=d&65535,d=0,f=0,t.mode=uw,r===Op)break e;case uw:t.mode=hB;case hB:if(p=t.length,p){if(p>l&&(p=l),p>A&&(p=A),p===0)break e;s.set(a.subarray(i,i+p),o),l-=p,i+=p,A-=p,o+=p,t.length-=p;break}t.mode=Gc;break;case mB:for(;f<14;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.nlen=(d&31)+257,d>>>=5,f-=5,t.ndist=(d&31)+1,d>>>=5,f-=5,t.ncode=(d&15)+4,d>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=Nn;break}t.have=0,t.mode=pB;case pB:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.lens[T[t.have++]]=d&7,d>>>=3,f-=3}for(;t.have<19;)t.lens[T[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,G={bits:t.lenbits},D=Zh(k9,t.lens,0,19,t.lencode,0,t.work,G),t.lenbits=G.bits,D){e.msg="invalid code lengths set",t.mode=Nn;break}t.have=0,t.mode=gB;case gB:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[d&(1<<t.lenbits)-1],w=y>>>24,j=y>>>16&255,C=y&65535,!(w<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(C<16)d>>>=w,f-=w,t.lens[t.have++]=C;else{if(C===16){for(L=w+2;f<L;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(d>>>=w,f-=w,t.have===0){e.msg="invalid bit length repeat",t.mode=Nn;break}F=t.lens[t.have-1],p=3+(d&3),d>>>=2,f-=2}else if(C===17){for(L=w+3;f<L;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=w,f-=w,F=0,p=3+(d&7),d>>>=3,f-=3}else{for(L=w+7;f<L;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=w,f-=w,F=0,p=11+(d&127),d>>>=7,f-=7}if(t.have+p>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=Nn;break}for(;p--;)t.lens[t.have++]=F}}if(t.mode===Nn)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=Nn;break}if(t.lenbits=9,G={bits:t.lenbits},D=Zh(zF,t.lens,0,t.nlen,t.lencode,0,t.work,G),t.lenbits=G.bits,D){e.msg="invalid literal/lengths set",t.mode=Nn;break}if(t.distbits=6,t.distcode=t.distdyn,G={bits:t.distbits},D=Zh(qF,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,G),t.distbits=G.bits,D){e.msg="invalid distances set",t.mode=Nn;break}if(t.mode=Hp,r===Op)break e;case Hp:t.mode=$p;case $p:if(l>=6&&A>=258){e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,B9(e,m),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=t.hold,f=t.bits,t.mode===Gc&&(t.back=-1);break}for(t.back=0;y=t.lencode[d&(1<<t.lenbits)-1],w=y>>>24,j=y>>>16&255,C=y&65535,!(w<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(j&&(j&240)===0){for(E=w,U=j,k=C;y=t.lencode[k+((d&(1<<E+U)-1)>>E)],w=y>>>24,j=y>>>16&255,C=y&65535,!(E+w<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=E,f-=E,t.back+=E}if(d>>>=w,f-=w,t.back+=w,t.length=C,j===0){t.mode=bB;break}if(j&32){t.back=-1,t.mode=Gc;break}if(j&64){e.msg="invalid literal/length code",t.mode=Nn;break}t.extra=j&15,t.mode=xB;case xB:if(t.extra){for(L=t.extra;f<L;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=vB;case vB:for(;y=t.distcode[d&(1<<t.distbits)-1],w=y>>>24,j=y>>>16&255,C=y&65535,!(w<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if((j&240)===0){for(E=w,U=j,k=C;y=t.distcode[k+((d&(1<<E+U)-1)>>E)],w=y>>>24,j=y>>>16&255,C=y&65535,!(E+w<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=E,f-=E,t.back+=E}if(d>>>=w,f-=w,t.back+=w,j&64){e.msg="invalid distance code",t.mode=Nn;break}t.offset=C,t.extra=j&15,t.mode=wB;case wB:if(t.extra){for(L=t.extra;f<L;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=Nn;break}t.mode=yB;case yB:if(A===0)break e;if(p=m-A,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=Nn;break}p>t.wnext?(p-=t.wnext,v=t.wsize-p):v=t.wnext-p,p>t.length&&(p=t.length),g=t.window}else g=s,v=o-t.offset,p=t.length;p>A&&(p=A),A-=p,t.length-=p;do s[o++]=g[v++];while(--p);t.length===0&&(t.mode=$p);break;case bB:if(A===0)break e;s[o++]=t.length,A--,t.mode=$p;break;case fw:if(t.wrap){for(;f<32;){if(l===0)break e;l--,d|=a[i++]<<f,f+=8}if(m-=A,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?Vl(t.check,s,m,o-m):Oy(t.check,s,m,o-m)),m=A,t.wrap&4&&(t.flags?d:BB(d))!==t.check){e.msg="incorrect data check",t.mode=Nn;break}d=0,f=0}t.mode=NB;case NB:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&4&&d!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=Nn;break}d=0,f=0}t.mode=jB;case jB:D=U9;break e;case Nn:D=WF;break e;case YF:return GF;case XF:default:return Vo}return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,(t.wsize||m!==e.avail_out&&t.mode<Nn&&(t.mode<fw||r!==rB))&&r3(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?Vl(t.check,s,m,e.next_out-m):Oy(t.check,s,m,e.next_out-m)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Gc?128:0)+(t.mode===Hp||t.mode===uw?256:0),(h===0&&m===0||r===rB)&&D===ju&&(D=I9),D},K9=e=>{if(Eu(e))return Vo;let r=e.state;return r.window&&(r.window=null),e.state=null,ju},V9=(e,r)=>{if(Eu(e))return Vo;const t=e.state;return(t.wrap&2)===0?Vo:(t.head=r,r.done=!1,ju)},z9=(e,r)=>{const t=r.length;let a,s,i;return Eu(e)||(a=e.state,a.wrap!==0&&a.mode!==b0)?Vo:a.mode===b0&&(s=1,s=Oy(s,r,t,0),s!==a.check)?WF:(i=r3(e,r,t,t),i?(a.mode=YF,GF):(a.havedict=1,ju))};var q9=ZF,W9=e3,G9=JF,Y9=O9,X9=t3,J9=$9,Z9=K9,eK=V9,tK=z9,rK="pako inflate (from Nodeca project)",Jc={inflateReset:q9,inflateReset2:W9,inflateResetKeep:G9,inflateInit:Y9,inflateInit2:X9,inflate:J9,inflateEnd:Z9,inflateGetHeader:eK,inflateSetDictionary:tK,inflateInfo:rK};function aK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nK=aK;const a3=Object.prototype.toString,{Z_NO_FLUSH:sK,Z_FINISH:iK,Z_OK:xm,Z_STREAM_END:pw,Z_NEED_DICT:gw,Z_STREAM_ERROR:oK,Z_DATA_ERROR:SB,Z_MEM_ERROR:lK}=$F;function Om(e){this.options=KF.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N9,this.strm.avail_out=0;let t=Jc.inflateInit2(this.strm,r.windowBits);if(t!==xm)throw new Error(Hy[t]);if(this.header=new nK,Jc.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=$y.string2buf(r.dictionary):a3.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(t=Jc.inflateSetDictionary(this.strm,r.dictionary),t!==xm)))throw new Error(Hy[t])}Om.prototype.push=function(e,r){const t=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?iK:sK,a3.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(a),t.next_out=0,t.avail_out=a),i=Jc.inflate(t,o),i===gw&&s&&(i=Jc.inflateSetDictionary(t,s),i===xm?i=Jc.inflate(t,o):i===SB&&(i=gw));t.avail_in>0&&i===pw&&t.state.wrap>0&&e[t.next_in]!==0;)Jc.inflateReset(t),i=Jc.inflate(t,o);switch(i){case oK:case SB:case gw:case lK:return this.onEnd(i),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||i===pw))if(this.options.to==="string"){let A=$y.utf8border(t.output,t.next_out),d=t.next_out-A,f=$y.buf2string(t.output,A);t.next_out=d,t.avail_out=a-d,d&&t.output.set(t.output.subarray(A,A+d),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===xm&&l===0)){if(i===pw)return i=Jc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Om.prototype.onData=function(e){this.chunks.push(e)};Om.prototype.onEnd=function(e){e===xm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=KF.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function cK(e,r){const t=new Om(r);if(t.push(e),t.err)throw t.msg||Hy[t.err];return t.result}var AK=Om,dK=cK,uK={Inflate:AK,inflate:dK};const{Inflate:fK,inflate:hK}=uK;var _B=fK,mK=hK;const n3=[];for(let e=0;e<256;e++){let r=e;for(let t=0;t<8;t++)r&1?r=3988292384^r>>>1:r=r>>>1;n3[e]=r}const EB=4294967295;function pK(e,r,t){let a=e;for(let s=0;s<t;s++)a=n3[(a^r[s])&255]^a>>>8;return a}function gK(e,r){return(pK(EB,e,r)^EB)>>>0}function FB(e,r,t){const a=e.readUint32(),s=gK(new Uint8Array(e.buffer,e.byteOffset+e.offset-r-4,r),r);if(s!==a)throw new Error(`CRC mismatch for chunk ${t}. Expected ${a}, found ${s}`)}function s3(e,r,t){for(let a=0;a<t;a++)r[a]=e[a]}function i3(e,r,t,a){let s=0;for(;s<a;s++)r[s]=e[s];for(;s<t;s++)r[s]=e[s]+r[s-a]&255}function o3(e,r,t,a){let s=0;if(t.length===0)for(;s<a;s++)r[s]=e[s];else for(;s<a;s++)r[s]=e[s]+t[s]&255}function l3(e,r,t,a,s){let i=0;if(t.length===0){for(;i<s;i++)r[i]=e[i];for(;i<a;i++)r[i]=e[i]+(r[i-s]>>1)&255}else{for(;i<s;i++)r[i]=e[i]+(t[i]>>1)&255;for(;i<a;i++)r[i]=e[i]+(r[i-s]+t[i]>>1)&255}}function c3(e,r,t,a,s){let i=0;if(t.length===0){for(;i<s;i++)r[i]=e[i];for(;i<a;i++)r[i]=e[i]+r[i-s]&255}else{for(;i<s;i++)r[i]=e[i]+t[i]&255;for(;i<a;i++)r[i]=e[i]+xK(r[i-s],t[i],t[i-s])&255}}function xK(e,r,t){const a=e+r-t,s=Math.abs(a-e),i=Math.abs(a-r),o=Math.abs(a-t);return s<=i&&s<=o?e:i<=o?r:t}function vK(e,r,t,a,s,i){switch(e){case 0:s3(r,t,s);break;case 1:i3(r,t,s,i);break;case 2:o3(r,t,a,s);break;case 3:l3(r,t,a,s,i);break;case 4:c3(r,t,a,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const wK=new Uint16Array([255]),yK=new Uint8Array(wK.buffer),bK=yK[0]===255;function NK(e){const{data:r,width:t,height:a,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,A=new Uint8Array(a*t*l);let d=0;for(let f=0;f<7;f++){const h=o[f],m=Math.ceil((t-h.x)/h.xStep),p=Math.ceil((a-h.y)/h.yStep);if(m<=0||p<=0)continue;const v=m*l,g=new Uint8Array(v);for(let y=0;y<p;y++){const w=r[d++],j=r.subarray(d,d+v);d+=v;const C=new Uint8Array(v);vK(w,j,C,g,v,l),g.set(C);for(let E=0;E<m;E++){const U=h.x+E*h.xStep,k=h.y+y*h.yStep;if(!(U>=t||k>=a))for(let F=0;F<l;F++)A[(k*t+U)*l+F]=C[E*l+F]}}}if(i===16){const f=new Uint16Array(A.buffer);if(bK)for(let h=0;h<f.length;h++)f[h]=jK(f[h]);return f}else return A}function jK(e){return(e&255)<<8|e>>8&255}const BK=new Uint16Array([255]),CK=new Uint8Array(BK.buffer),SK=CK[0]===255,_K=new Uint8Array(0);function kB(e){const{data:r,width:t,height:a,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*t),A=new Uint8Array(a*l);let d=_K,f=0,h,m;for(let p=0;p<a;p++){switch(h=r.subarray(f+1,f+1+l),m=A.subarray(p*l,(p+1)*l),r[f]){case 0:s3(h,m,l);break;case 1:i3(h,m,l,o);break;case 2:o3(h,m,d,l);break;case 3:l3(h,m,d,l,o);break;case 4:c3(h,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${r[f]}`)}d=m,f+=l+1}if(i===16){const p=new Uint16Array(A.buffer);if(SK)for(let v=0;v<p.length;v++)p[v]=EK(p[v]);return p}else return A}function EK(e){return(e&255)<<8|e>>8&255}const Pg=Uint8Array.of(137,80,78,71,13,10,26,10);function DB(e){if(!FK(e.readBytes(Pg.length)))throw new Error("wrong PNG signature")}function FK(e){if(e.length<Pg.length)return!1;for(let r=0;r<Pg.length;r++)if(e[r]!==Pg[r])return!1;return!0}const kK="tEXt",DK=0,A3=new TextDecoder("latin1");function UK(e){if(IK(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const LK=/^[\u0000-\u00FF]*$/;function IK(e){if(!LK.test(e))throw new Error("invalid latin1 text")}function PK(e,r,t){const a=d3(r);e[a]=QK(r,t-a.length-1)}function d3(e){for(e.mark();e.readByte()!==DK;);const r=e.offset;e.reset();const t=A3.decode(e.readBytes(r-e.offset-1));return e.skip(1),UK(t),t}function QK(e,r){return A3.decode(e.readBytes(r))}const co={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},xw={UNKNOWN:-1,DEFLATE:0},UB={UNKNOWN:-1,ADAPTIVE:0},vw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Kp={NONE:0,BACKGROUND:1,PREVIOUS:2},ww={SOURCE:0,OVER:1};class RK extends Sb{constructor(t,a={}){super(t);ht(this,"_checkCrc");ht(this,"_inflator");ht(this,"_png");ht(this,"_apng");ht(this,"_end");ht(this,"_hasPalette");ht(this,"_palette");ht(this,"_hasTransparency");ht(this,"_transparency");ht(this,"_compressionMethod");ht(this,"_filterMethod");ht(this,"_interlaceMethod");ht(this,"_colorType");ht(this,"_isAnimated");ht(this,"_numberOfFrames");ht(this,"_numberOfPlays");ht(this,"_frames");ht(this,"_writingDataChunks");const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new _B,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=xw.UNKNOWN,this._filterMethod=UB.UNKNOWN,this._interlaceMethod=vw.UNKNOWN,this._colorType=co.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(DB(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeChunk(t,a)}return this.decodeImage(),this._png}decodeApng(){for(DB(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(t,a)}return this.decodeApngImage(),this._apng}decodeChunk(t,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case kK:PK(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?FB(this,t+4,a):this.skip(4)}decodeApngChunk(t,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,a),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?FB(this,t+4,a):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=MK(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case co.GREYSCALE:s=1;break;case co.TRUECOLOUR:s=3;break;case co.INDEXED_COLOUR:s=1;break;case co.GREYSCALE_ALPHA:s=2;break;case co.TRUECOLOUR_ALPHA:s=4;break;case co.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==xw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const a=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<a;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const a=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let a=t,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case co.GREYSCALE:case co.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let a=0;a<t/2;a++)this._transparency[a]=this.readUint16();break}case co.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let a=0;for(;a<t;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case co.UNKNOWN:case co.GREYSCALE_ALPHA:case co.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const a=d3(this),s=this.readUint8();if(s!==xw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(t-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:mK(i)}}decodepHYs(){const t=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const a={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=kB({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(s,i,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(t,a,s){switch(t.disposeOp){case Kp.NONE:break;case Kp.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*t.width+o)*this._png.channels;for(let A=0;A<this._png.channels;A++)s.data[l+A]=0}break;case Kp.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,a){const s=1<<this._png.depth,i=(o,l)=>{const A=((o+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,d=(o*a.width+l)*this._png.channels;return{index:A,frameIndex:d}};switch(a.blendOp){case ww.SOURCE:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:A,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++)t.data[A+f]=a.data[d+f]}break;case ww.OVER:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:A,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++){const h=a.data[d+this._png.channels-1]/s,m=f%(this._png.channels-1)===0?1:a.data[d+f],p=Math.floor(h*m+(1-h)*t.data[A+f]);t.data[A+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==UB.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===vw.NO_INTERLACE)this._png.data=kB({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===vw.ADAM7)this._png.data=NK({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,a=this._frames.at(-1);a?a.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Kp.NONE,blendOp:ww.SOURCE,data:t}),this._inflator=new _B,this._writingDataChunks=!1}}function MK(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var LB;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(LB||(LB={}));function TK(e,r){return new RK(e,r).decode()}var kr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function yw(){kr.console&&typeof kr.console.log=="function"&&kr.console.log.apply(kr.console,arguments)}var en={log:yw,warn:function(e){kr.console&&(typeof kr.console.warn=="function"?kr.console.warn.apply(kr.console,arguments):yw.call(null,arguments))},error:function(e){kr.console&&(typeof kr.console.error=="function"?kr.console.error.apply(kr.console,arguments):yw(e))}};function bw(e,r,t){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){Jd(a.response,r,t)},a.onerror=function(){en.error("could not download file")},a.send()}function IB(e){var r=new XMLHttpRequest;r.open("HEAD",e,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function Vp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}var Jd=kr.saveAs||((typeof window>"u"?"undefined":$a(window))!=="object"||window!==kr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,r,t){var a=kr.URL||kr.webkitURL,s=document.createElement("a");r=r||e.name||"download",s.download=r,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?IB(s.href)?bw(e,r,t):Vp(s,s.target="_blank"):Vp(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){Vp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,t){if(r=r||e.name||"download",typeof e=="string")if(IB(e))bw(e,r,t);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){Vp(a)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:$a(i)!=="object"&&(en.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,t),r)}:function(e,r,t,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return bw(e,r,t);var s=e.type==="application/octet-stream",i=/constructor/i.test(kr.HTMLElement)||kr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":$a(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=f:location=f,a=null},l.readAsDataURL(e)}else{var A=kr.URL||kr.webkitURL,d=A.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){A.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function u3(e){var r;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<t.length;a++){var s=t[a].re,i=t[a].process,o=s.exec(e);o&&(r=i(o),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),A=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),d.length==1&&(d="0"+d),"#"+l+A+d}}var Qg=kr.atob.bind(kr),PB=kr.btoa.bind(kr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Nw(e,r){var t=e[0],a=e[1],s=e[2],i=e[3];t=ri(t,a,s,i,r[0],7,-680876936),i=ri(i,t,a,s,r[1],12,-389564586),s=ri(s,i,t,a,r[2],17,606105819),a=ri(a,s,i,t,r[3],22,-1044525330),t=ri(t,a,s,i,r[4],7,-176418897),i=ri(i,t,a,s,r[5],12,1200080426),s=ri(s,i,t,a,r[6],17,-1473231341),a=ri(a,s,i,t,r[7],22,-45705983),t=ri(t,a,s,i,r[8],7,1770035416),i=ri(i,t,a,s,r[9],12,-1958414417),s=ri(s,i,t,a,r[10],17,-42063),a=ri(a,s,i,t,r[11],22,-1990404162),t=ri(t,a,s,i,r[12],7,1804603682),i=ri(i,t,a,s,r[13],12,-40341101),s=ri(s,i,t,a,r[14],17,-1502002290),t=ai(t,a=ri(a,s,i,t,r[15],22,1236535329),s,i,r[1],5,-165796510),i=ai(i,t,a,s,r[6],9,-1069501632),s=ai(s,i,t,a,r[11],14,643717713),a=ai(a,s,i,t,r[0],20,-373897302),t=ai(t,a,s,i,r[5],5,-701558691),i=ai(i,t,a,s,r[10],9,38016083),s=ai(s,i,t,a,r[15],14,-660478335),a=ai(a,s,i,t,r[4],20,-405537848),t=ai(t,a,s,i,r[9],5,568446438),i=ai(i,t,a,s,r[14],9,-1019803690),s=ai(s,i,t,a,r[3],14,-187363961),a=ai(a,s,i,t,r[8],20,1163531501),t=ai(t,a,s,i,r[13],5,-1444681467),i=ai(i,t,a,s,r[2],9,-51403784),s=ai(s,i,t,a,r[7],14,1735328473),t=ni(t,a=ai(a,s,i,t,r[12],20,-1926607734),s,i,r[5],4,-378558),i=ni(i,t,a,s,r[8],11,-2022574463),s=ni(s,i,t,a,r[11],16,1839030562),a=ni(a,s,i,t,r[14],23,-35309556),t=ni(t,a,s,i,r[1],4,-1530992060),i=ni(i,t,a,s,r[4],11,1272893353),s=ni(s,i,t,a,r[7],16,-155497632),a=ni(a,s,i,t,r[10],23,-1094730640),t=ni(t,a,s,i,r[13],4,681279174),i=ni(i,t,a,s,r[0],11,-358537222),s=ni(s,i,t,a,r[3],16,-722521979),a=ni(a,s,i,t,r[6],23,76029189),t=ni(t,a,s,i,r[9],4,-640364487),i=ni(i,t,a,s,r[12],11,-421815835),s=ni(s,i,t,a,r[15],16,530742520),t=si(t,a=ni(a,s,i,t,r[2],23,-995338651),s,i,r[0],6,-198630844),i=si(i,t,a,s,r[7],10,1126891415),s=si(s,i,t,a,r[14],15,-1416354905),a=si(a,s,i,t,r[5],21,-57434055),t=si(t,a,s,i,r[12],6,1700485571),i=si(i,t,a,s,r[3],10,-1894986606),s=si(s,i,t,a,r[10],15,-1051523),a=si(a,s,i,t,r[1],21,-2054922799),t=si(t,a,s,i,r[8],6,1873313359),i=si(i,t,a,s,r[15],10,-30611744),s=si(s,i,t,a,r[6],15,-1560198380),a=si(a,s,i,t,r[13],21,1309151649),t=si(t,a,s,i,r[4],6,-145523070),i=si(i,t,a,s,r[11],10,-1120210379),s=si(s,i,t,a,r[2],15,718787259),a=si(a,s,i,t,r[9],21,-343485551),e[0]=ad(t,e[0]),e[1]=ad(a,e[1]),e[2]=ad(s,e[2]),e[3]=ad(i,e[3])}function Sx(e,r,t,a,s,i){return r=ad(ad(r,e),ad(a,i)),ad(r<<s|r>>>32-s,t)}function ri(e,r,t,a,s,i,o){return Sx(r&t|~r&a,e,r,s,i,o)}function ai(e,r,t,a,s,i,o){return Sx(r&a|t&~a,e,r,s,i,o)}function ni(e,r,t,a,s,i,o){return Sx(r^t^a,e,r,s,i,o)}function si(e,r,t,a,s,i,o){return Sx(t^(r|~a),e,r,s,i,o)}function f3(e){var r,t=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=e.length;r+=64)Nw(a,OK(e.substring(r-64,r)));e=e.substring(r-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)s[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(Nw(a,s),r=0;r<16;r++)s[r]=0;return s[14]=8*t,Nw(a,s),a}function OK(e){var r,t=[];for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}var QB="0123456789abcdef".split("");function HK(e){for(var r="",t=0;t<4;t++)r+=QB[e>>8*t+4&15]+QB[e>>8*t&15];return r}function $K(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Ky(e){return f3(e).map($K).join("")}var KK=(function(e){for(var r=0;r<e.length;r++)e[r]=HK(e[r]);return e.join("")})(f3("hello"))!="5d41402abc4b2a76b9719d911017c592";function ad(e,r){if(KK){var t=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(t>>16)<<16|65535&t}return e+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Vy(e,r){var t,a,s,i;if(e!==t){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],A=0;A<256;A++)l[A]=A;var d=0;for(A=0;A<256;A++){var f=l[A];d=(d+f+o.charCodeAt(A))%256,l[A]=l[d],l[d]=f}t=e,a=l}else l=a;var h=r.length,m=0,p=0,v="";for(A=0;A<h;A++)p=(p+(f=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=f,o=l[(l[m]+l[p])%256],v+=String.fromCharCode(r.charCodeAt(A)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var RB={print:4,modify:8,copy:16,"annot-forms":32};function wf(e,r,t,a){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(RB.perm!==void 0)throw new Error("Invalid permission: "+l);s+=RB[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(r+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=Ky(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Vy(this.encryptionKey,this.padding)}function yf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var r="",t=e.length,a=0;a<t;a++){var s=e.charCodeAt(a);r+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return r}function MB(e){if($a(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(t,a,s){if(s=s||!1,typeof t!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(t)||(r[t]={});var i=Math.random().toString(35);return r[t][i]=[a,!!s],i},this.unsubscribe=function(t){for(var a in r)if(r[a][t])return delete r[a][t],Object.keys(r[a]).length===0&&delete r[a],!0;return!1},this.publish=function(t){if(r.hasOwnProperty(t)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in r[t]){var o=r[t][i];try{o[0].apply(e,a)}catch(l){kr.console&&en.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function N0(e){if(!(this instanceof N0))return new N0(e);var r="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&r.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function h3(e,r){this.gState=e,this.matrix=r,this.id="",this.objectNumber=-1}function Zd(e,r,t,a,s){if(!(this instanceof Zd))return new Zd(e,r,t,a,s);this.type=e==="axial"?2:3,this.coords=r,this.colors=t,h3.call(this,a,s)}function jf(e,r,t,a,s){if(!(this instanceof jf))return new jf(e,r,t,a,s);this.boundingBox=e,this.xStep=r,this.yStep=t,this.stream="",this.cloneIndex=0,h3.call(this,a,s)}function Ar(e){var r,t=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,A=16,d="S",f=null;$a(e=e||{})==="object"&&(t=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(r=e.precision),e.floatPrecision!==void 0&&(A=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",t=(""+(t||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=MB;var v="1.3",g=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(I){v=I};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return y};var w=p.__private__.getPageFormat=function(I){return y[I]};s=s||"a4";var j="compat",C="advanced",E=j;function U(){this.saveGraphicsState(),ie(new tr(Bt,0,0,-Bt,0,Ui()*Bt).toString()+" cm"),this.setFontSize(this.getFontSize()/Bt),d="n",E=C}function k(){this.restoreGraphicsState(),d="S",E=j}var F=p.__private__.combineFontStyleAndFontWeight=function(I,ne){if(I=="bold"&&ne=="normal"||I=="bold"&&ne==400||I=="normal"&&ne=="italic"||I=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(I=ne==400||ne==="normal"?I==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||I!=="normal"?(ne==700?"bold":ne)+""+I:"bold"),I};p.advancedAPI=function(I){var ne=E===j;return ne&&U.call(this),typeof I!="function"||(I(this),ne&&k.call(this)),this},p.compatAPI=function(I){var ne=E===C;return ne&&k.call(this),typeof I!="function"||(I(this),ne&&U.call(this)),this},p.isAdvancedAPI=function(){return E===C};var D,_=function(I){if(E!==C)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=p.roundToPrecision=p.__private__.roundToPrecision=function(I,ne){var pe=r||ne;if(isNaN(I)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(pe).replace(/0+$/,"")};D=p.hpf=p.__private__.hpf=typeof A=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return G(I,A)}:A==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return G(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return G(I,16)};var L=p.f2=p.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return G(I,2)},T=p.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return G(I,3)},J=p.scale=p.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return E===j?I*Bt:E===C?I:void 0},R=function(I){return J((function(ne){return E===j?Ui()-ne:E===C?ne:void 0})(I))};p.__private__.setPrecision=p.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(r=parseInt(I,10))};var re,V="00000000000000000000000000000000",Y=p.__private__.getFileId=function(){return V},H=p.__private__.setFileId=function(I){return V=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(sa=new wf(f.userPermissions,f.userPassword,f.ownerPassword,V)),V};p.setFileId=function(I){return H(I),this},p.getFileId=function(){return Y()};var Z=p.__private__.convertDateToPDFDate=function(I){var ne=I.getTimezoneOffset(),pe=ne<0?"+":"-",ye=Math.floor(Math.abs(ne/60)),_e=Math.abs(ne%60),Xe=[pe,$(ye),"'",$(_e),"'"].join("");return["D:",I.getFullYear(),$(I.getMonth()+1),$(I.getDate()),$(I.getHours()),$(I.getMinutes()),$(I.getSeconds()),Xe].join("")},Ae=p.__private__.convertPDFDateToDate=function(I){var ne=parseInt(I.substr(2,4),10),pe=parseInt(I.substr(6,2),10)-1,ye=parseInt(I.substr(8,2),10),_e=parseInt(I.substr(10,2),10),Xe=parseInt(I.substr(12,2),10),ot=parseInt(I.substr(14,2),10);return new Date(ne,pe,ye,_e,Xe,ot,0)},ee=p.__private__.setCreationDate=function(I){var ne;if(I===void 0&&(I=new Date),I instanceof Date)ne=Z(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=I}return re=ne},Q=p.__private__.getCreationDate=function(I){var ne=re;return I==="jsDate"&&(ne=Ae(re)),ne};p.setCreationDate=function(I){return ee(I),this},p.getCreationDate=function(I){return Q(I)};var q,$=p.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},X=p.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},te=0,K=[],z=[],se=0,fe=[],be=[],Be=!1,Qe=z;p.__private__.setCustomOutputDestination=function(I){Be=!0,Qe=I};var xe=function(I){Be||(Qe=I)};p.__private__.resetCustomOutputDestination=function(){Be=!1,Qe=z};var ie=p.__private__.out=function(I){return I=I.toString(),se+=I.length+1,Qe.push(I),Qe},at=p.__private__.write=function(I){return ie(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},gt=p.__private__.getArrayBuffer=function(I){for(var ne=I.length,pe=new ArrayBuffer(ne),ye=new Uint8Array(pe);ne--;)ye[ne]=I.charCodeAt(ne);return pe},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return it};var Ee=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(I){return Ee=E===C?I/Bt:I,this};var dt,ct=p.__private__.getFontSize=p.getFontSize=function(){return E===j?Ee:Ee*Bt},Wt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(I){return Wt=I,this},p.__private__.getR2L=p.getR2L=function(){return Wt};var Et,Ut=p.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))dt=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');dt=I}else dt=parseInt(I,10)};p.__private__.getZoomMode=function(){return dt};var Mt,Gt=p.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');Et=I};p.__private__.getPageMode=function(){return Et};var Lt=p.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Mt=I};p.__private__.getLayoutMode=function(){return Mt},p.__private__.setDisplayMode=p.setDisplayMode=function(I,ne,pe){return Ut(I),Lt(ne),Gt(pe),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(I){if(Object.keys(_t).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[I]},p.__private__.getDocumentProperties=function(){return _t},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(I){for(var ne in _t)_t.hasOwnProperty(ne)&&I[ne]&&(_t[ne]=I[ne]);return this},p.__private__.setDocumentProperty=function(I,ne){if(Object.keys(_t).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[I]=ne};var wt,Bt,St,Na,Hr,Yt={},Nr={},la=[],yt={},yr={},ur={},Ba={},ka=null,Ze=0,Ye=[],nt=new MB(p),Er=e.hotfixes||[],vt={},ar={},ca=[],tr=function I(ne,pe,ye,_e,Xe,ot){if(!(this instanceof I))return new I(ne,pe,ye,_e,Xe,ot);isNaN(ne)&&(ne=1),isNaN(pe)&&(pe=0),isNaN(ye)&&(ye=0),isNaN(_e)&&(_e=1),isNaN(Xe)&&(Xe=0),isNaN(ot)&&(ot=0),this._matrix=[ne,pe,ye,_e,Xe,ot]};Object.defineProperty(tr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(tr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(tr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(tr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(tr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(tr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(tr.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(tr.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(tr.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(tr.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(tr.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(tr.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(tr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tr.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(I)},tr.prototype.multiply=function(I){var ne=I.sx*this.sx+I.shy*this.shx,pe=I.sx*this.shy+I.shy*this.sy,ye=I.shx*this.sx+I.sy*this.shx,_e=I.shx*this.shy+I.sy*this.sy,Xe=I.tx*this.sx+I.ty*this.shx+this.tx,ot=I.tx*this.shy+I.ty*this.sy+this.ty;return new tr(ne,pe,ye,_e,Xe,ot)},tr.prototype.decompose=function(){var I=this.sx,ne=this.shy,pe=this.shx,ye=this.sy,_e=this.tx,Xe=this.ty,ot=Math.sqrt(I*I+ne*ne),Xt=(I/=ot)*pe+(ne/=ot)*ye;pe-=I*Xt,ye-=ne*Xt;var nr=Math.sqrt(pe*pe+ye*ye);return Xt/=nr,I*(ye/=nr)<ne*(pe/=nr)&&(I=-I,ne=-ne,Xt=-Xt,ot=-ot),{scale:new tr(ot,0,0,nr,0,0),translate:new tr(1,0,0,1,_e,Xe),rotate:new tr(I,ne,-ne,I,0,0),skew:new tr(1,0,Xt,1,0,0)}},tr.prototype.toString=function(I){return this.join(" ")},tr.prototype.inversed=function(){var I=this.sx,ne=this.shy,pe=this.shx,ye=this.sy,_e=this.tx,Xe=this.ty,ot=1/(I*ye-ne*pe),Xt=ye*ot,nr=-ne*ot,Cr=-pe*ot,Sr=I*ot;return new tr(Xt,nr,Cr,Sr,-Xt*_e-Cr*Xe,-nr*_e-Sr*Xe)},tr.prototype.applyToPoint=function(I){var ne=I.x*this.sx+I.y*this.shx+this.tx,pe=I.x*this.shy+I.y*this.sy+this.ty;return new Bo(ne,pe)},tr.prototype.applyToRectangle=function(I){var ne=this.applyToPoint(I),pe=this.applyToPoint(new Bo(I.x+I.w,I.y+I.h));return new Nc(ne.x,ne.y,pe.x-ne.x,pe.y-ne.y)},tr.prototype.clone=function(){var I=this.sx,ne=this.shy,pe=this.shx,ye=this.sy,_e=this.tx,Xe=this.ty;return new tr(I,ne,pe,ye,_e,Xe)},p.Matrix=tr;var Bn=p.matrixMult=function(I,ne){return ne.multiply(I)},gs=new tr(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=gs;var mn=function(I,ne){if(!yr[I]){var pe=(ne instanceof Zd?"Sh":"P")+(Object.keys(yt).length+1).toString(10);ne.id=pe,yr[I]=pe,yt[pe]=ne,nt.publish("addPattern",ne)}};p.ShadingPattern=Zd,p.TilingPattern=jf,p.addShadingPattern=function(I,ne){return _("addShadingPattern()"),mn(I,ne),this},p.beginTilingPattern=function(I){_("beginTilingPattern()"),Fi(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},p.endTilingPattern=function(I,ne){_("endTilingPattern()"),ne.stream=be[q].join(`
`),mn(I,ne),nt.publish("endTilingPattern",ne),ca.pop().restore()};var ss,ut=p.__private__.newObject=function(){var I=za();return Xa(I,!0),I},za=p.__private__.newObjectDeferred=function(){return te++,K[te]=function(){return se},te},Xa=function(I,ne){return ne=typeof ne=="boolean"&&ne,K[I]=se,ne&&ie(I+" 0 obj"),I},js=p.__private__.newAdditionalObject=function(){var I={objId:za(),content:""};return fe.push(I),I},fi=za(),Ja=za(),He=p.__private__.decodeColorString=function(I){var ne=I.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length!==5||ne[4]!=="k"&&ne[4]!=="K"||(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var pe=parseFloat(ne[0]);ne=[pe,pe,pe,"r"]}for(var ye="#",_e=0;_e<3;_e++)ye+=("0"+Math.floor(255*parseFloat(ne[_e])).toString(16)).slice(-2);return ye},Je=p.__private__.encodeColorString=function(I){var ne;typeof I=="string"&&(I={ch1:I});var pe=I.ch1,ye=I.ch2,_e=I.ch3,Xe=I.ch4,ot=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var Xt=new u3(pe);if(Xt.ok)pe=Xt.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var nr=parseInt(pe.substr(1),16);pe=nr>>16&255,ye=nr>>8&255,_e=255&nr}if(ye===void 0||Xe===void 0&&pe===ye&&ye===_e)ne=typeof pe=="string"?pe+" "+ot[0]:I.precision===2?L(pe/255)+" "+ot[0]:T(pe/255)+" "+ot[0];else if(Xe===void 0||$a(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return["1.","1.","1.",ot[1]].join(" ");ne=typeof pe=="string"?[pe,ye,_e,ot[1]].join(" "):I.precision===2?[L(pe/255),L(ye/255),L(_e/255),ot[1]].join(" "):[T(pe/255),T(ye/255),T(_e/255),ot[1]].join(" ")}else ne=typeof pe=="string"?[pe,ye,_e,Xe,ot[2]].join(" "):I.precision===2?[L(pe),L(ye),L(_e),L(Xe),ot[2]].join(" "):[T(pe),T(ye),T(_e),T(Xe),ot[2]].join(" ");return ne},Ct=p.__private__.getFilters=function(){return o},st=p.__private__.putStream=function(I){var ne=(I=I||{}).data||"",pe=I.filters||Ct(),ye=I.alreadyAppliedFilters||[],_e=I.addLength1||!1,Xe=ne.length,ot=I.objectId,Xt=function(Vn){return Vn};if(f!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Xt=sa.encryptor(ot,0));var nr={};pe===!0&&(pe=["FlateEncode"]);var Cr=I.additionalKeyValues||[],Sr=(nr=Ar.API.processDataByFilters!==void 0?Ar.API.processDataByFilters(ne,pe):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(nr.data.length!==0&&(Cr.push({key:"Length",value:nr.data.length}),_e===!0&&Cr.push({key:"Length1",value:Xe})),Sr.length!=0)if(Sr.split("/").length-1==1)Cr.push({key:"Filter",value:Sr});else{Cr.push({key:"Filter",value:"["+Sr+"]"});for(var ga=0;ga<Cr.length;ga+=1)if(Cr[ga].key==="DecodeParms"){for(var An=[],In=0;In<nr.reverseChain.split("/").length-1;In+=1)An.push("null");An.push(Cr[ga].value),Cr[ga].value="["+An.join(" ")+"]"}}ie("<<");for(var qa=0;qa<Cr.length;qa++)ie("/"+Cr[qa].key+" "+Cr[qa].value);ie(">>"),nr.data.length!==0&&(ie("stream"),ie(Xt(nr.data)),ie("endstream"))},Tt=p.__private__.putPage=function(I){var ne=I.number,pe=I.data,ye=I.objId,_e=I.contentsObjId;Xa(ye,!0),ie("<</Type /Page"),ie("/Parent "+I.rootDictionaryObjId+" 0 R"),ie("/Resources "+I.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(D(I.mediaBox.bottomLeftX))+" "+parseFloat(D(I.mediaBox.bottomLeftY))+" "+D(I.mediaBox.topRightX)+" "+D(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ie("/CropBox ["+D(I.cropBox.bottomLeftX)+" "+D(I.cropBox.bottomLeftY)+" "+D(I.cropBox.topRightX)+" "+D(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ie("/BleedBox ["+D(I.bleedBox.bottomLeftX)+" "+D(I.bleedBox.bottomLeftY)+" "+D(I.bleedBox.topRightX)+" "+D(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ie("/TrimBox ["+D(I.trimBox.bottomLeftX)+" "+D(I.trimBox.bottomLeftY)+" "+D(I.trimBox.topRightX)+" "+D(I.trimBox.topRightY)+"]"),I.artBox!==null&&ie("/ArtBox ["+D(I.artBox.bottomLeftX)+" "+D(I.artBox.bottomLeftY)+" "+D(I.artBox.topRightX)+" "+D(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ie("/UserUnit "+I.userUnit),nt.publish("putPage",{objId:ye,pageContext:Ye[ne],pageNumber:ne,page:pe}),ie("/Contents "+_e+" 0 R"),ie(">>"),ie("endobj");var Xe=pe.join(`
`);return E===C&&(Xe+=`
Q`),Xa(_e,!0),st({data:Xe,filters:Ct(),objectId:_e}),ie("endobj"),ye},mr=p.__private__.putPages=function(){var I,ne,pe=[];for(I=1;I<=Ze;I++)Ye[I].objId=za(),Ye[I].contentsObjId=za();for(I=1;I<=Ze;I++)pe.push(Tt({number:I,data:be[I],objId:Ye[I].objId,contentsObjId:Ye[I].contentsObjId,mediaBox:Ye[I].mediaBox,cropBox:Ye[I].cropBox,bleedBox:Ye[I].bleedBox,trimBox:Ye[I].trimBox,artBox:Ye[I].artBox,userUnit:Ye[I].userUnit,rootDictionaryObjId:fi,resourceDictionaryObjId:Ja}));Xa(fi,!0),ie("<</Type /Pages");var ye="/Kids [";for(ne=0;ne<Ze;ne++)ye+=pe[ne]+" 0 R ";ie(ye+"]"),ie("/Count "+Ze),ie(">>"),ie("endobj"),nt.publish("postPutPages")},Ot=function(I){nt.publish("putFont",{font:I,out:ie,newObject:ut,putStream:st}),I.isAlreadyPutted!==!0&&(I.objectNumber=ut(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+yf(I.postScriptName)),ie("/Subtype /Type1"),typeof I.encoding=="string"&&ie("/Encoding /"+I.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Dr=function(I){I.objectNumber=ut();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[D(I.x),D(I.y),D(I.x+I.width),D(I.y+I.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var pe=I.pages[1].join(`
`);st({data:pe,additionalKeyValues:ne,objectId:I.objectNumber}),ie("endobj")},$r=function(I,ne){ne||(ne=21);var pe=ut(),ye=(function(ot,Xt){var nr,Cr=[],Sr=1/(Xt-1);for(nr=0;nr<1;nr+=Sr)Cr.push(nr);if(Cr.push(1),ot[0].offset!=0){var ga={offset:0,color:ot[0].color};ot.unshift(ga)}if(ot[ot.length-1].offset!=1){var An={offset:1,color:ot[ot.length-1].color};ot.push(An)}for(var In="",qa=0,Vn=0;Vn<Cr.length;Vn++){for(nr=Cr[Vn];nr>ot[qa+1].offset;)qa++;var Sn=ot[qa].offset,xs=(nr-Sn)/(ot[qa+1].offset-Sn),Li=ot[qa].color,zs=ot[qa+1].color;In+=X(Math.round((1-xs)*Li[0]+xs*zs[0]).toString(16))+X(Math.round((1-xs)*Li[1]+xs*zs[1]).toString(16))+X(Math.round((1-xs)*Li[2]+xs*zs[2]).toString(16))}return In.trim()})(I.colors,ne),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+ne+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),st({data:ye,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),ie("endobj"),I.objectNumber=ut(),ie("<< /ShadingType "+I.type),ie("/ColorSpace /DeviceRGB");var Xe="/Coords ["+D(parseFloat(I.coords[0]))+" "+D(parseFloat(I.coords[1]))+" ";I.type===2?Xe+=D(parseFloat(I.coords[2]))+" "+D(parseFloat(I.coords[3])):Xe+=D(parseFloat(I.coords[2]))+" "+D(parseFloat(I.coords[3]))+" "+D(parseFloat(I.coords[4]))+" "+D(parseFloat(I.coords[5])),ie(Xe+="]"),I.matrix&&ie("/Matrix ["+I.matrix.toString()+"]"),ie("/Function "+pe+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},Vt=function(I,ne){var pe=za(),ye=ut();ne.push({resourcesOid:pe,objectOid:ye}),I.objectNumber=ye;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+I.boundingBox.map(D).join(" ")+"]"}),_e.push({key:"XStep",value:D(I.xStep)}),_e.push({key:"YStep",value:D(I.yStep)}),_e.push({key:"Resources",value:pe+" 0 R"}),I.matrix&&_e.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),st({data:I.stream,additionalKeyValues:_e,objectId:I.objectNumber}),ie("endobj")},Ur=function(I){for(var ne in I.objectNumber=ut(),ie("<<"),I)switch(ne){case"opacity":ie("/ca "+L(I[ne]));break;case"stroke-opacity":ie("/CA "+L(I[ne]))}ie(">>"),ie("endobj")},zt=function(I){Xa(I.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ne in ie("/Font <<"),Yt)Yt.hasOwnProperty(ne)&&(h===!1||h===!0&&m.hasOwnProperty(ne))&&ie("/"+ne+" "+Yt[ne].objectNumber+" 0 R");ie(">>")})(),(function(){if(Object.keys(yt).length>0){for(var ne in ie("/Shading <<"),yt)yt.hasOwnProperty(ne)&&yt[ne]instanceof Zd&&yt[ne].objectNumber>=0&&ie("/"+ne+" "+yt[ne].objectNumber+" 0 R");nt.publish("putShadingPatternDict"),ie(">>")}})(),(function(ne){if(Object.keys(yt).length>0){for(var pe in ie("/Pattern <<"),yt)yt.hasOwnProperty(pe)&&yt[pe]instanceof p.TilingPattern&&yt[pe].objectNumber>=0&&yt[pe].objectNumber<ne&&ie("/"+pe+" "+yt[pe].objectNumber+" 0 R");nt.publish("putTilingPatternDict"),ie(">>")}})(I.objectOid),(function(){if(Object.keys(ur).length>0){var ne;for(ne in ie("/ExtGState <<"),ur)ur.hasOwnProperty(ne)&&ur[ne].objectNumber>=0&&ie("/"+ne+" "+ur[ne].objectNumber+" 0 R");nt.publish("putGStateDict"),ie(">>")}})(),(function(){for(var ne in ie("/XObject <<"),vt)vt.hasOwnProperty(ne)&&vt[ne].objectNumber>=0&&ie("/"+ne+" "+vt[ne].objectNumber+" 0 R");nt.publish("putXobjectDict"),ie(">>")})(),ie(">>"),ie("endobj")},ta=function(I){Nr[I.fontName]=Nr[I.fontName]||{},Nr[I.fontName][I.fontStyle]=I.id},hr=function(I,ne,pe,ye,_e){var Xe={id:"F"+(Object.keys(Yt).length+1).toString(10),postScriptName:I,fontName:ne,fontStyle:pe,encoding:ye,isStandardFont:_e||!1,metadata:{}};return nt.publish("addFont",{font:Xe,instance:this}),Yt[Xe.id]=Xe,ta(Xe),Xe.id},fr=p.__private__.pdfEscape=p.pdfEscape=function(I,ne){return(function(pe,ye){var _e,Xe,ot,Xt,nr,Cr,Sr,ga,An;if(ot=(ye=ye||{}).sourceEncoding||"Unicode",nr=ye.outputEncoding,(ye.autoencode||nr)&&Yt[wt].metadata&&Yt[wt].metadata[ot]&&Yt[wt].metadata[ot].encoding&&(Xt=Yt[wt].metadata[ot].encoding,!nr&&Yt[wt].encoding&&(nr=Yt[wt].encoding),!nr&&Xt.codePages&&(nr=Xt.codePages[0]),typeof nr=="string"&&(nr=Xt[nr]),nr)){for(Sr=!1,Cr=[],_e=0,Xe=pe.length;_e<Xe;_e++)(ga=nr[pe.charCodeAt(_e)])?Cr.push(String.fromCharCode(ga)):Cr.push(pe[_e]),Cr[_e].charCodeAt(0)>>8&&(Sr=!0);pe=Cr.join("")}for(_e=pe.length;Sr===void 0&&_e!==0;)pe.charCodeAt(_e-1)>>8&&(Sr=!0),_e--;if(!Sr)return pe;for(Cr=ye.noBOM?[]:[254,255],_e=0,Xe=pe.length;_e<Xe;_e++){if((An=(ga=pe.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Cr.push(An),Cr.push(ga-(An<<8))}return String.fromCharCode.apply(void 0,Cr)})(I,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pt=p.__private__.beginPage=function(I){be[++Ze]=[],Ye[Ze]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},tn(Ze),xe(be[q])},Kr=function(I,ne){var pe,ye,_e;switch(t=ne||t,typeof I=="string"&&(pe=w(I.toLowerCase()),Array.isArray(pe)&&(ye=pe[0],_e=pe[1])),Array.isArray(I)&&(ye=I[0]*Bt,_e=I[1]*Bt),isNaN(ye)&&(ye=s[0],_e=s[1]),(ye>14400||_e>14400)&&(en.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),_e=Math.min(14400,_e)),s=[ye,_e],t.substr(0,1)){case"l":_e>ye&&(s=[_e,ye]);break;case"p":ye>_e&&(s=[_e,ye])}Pt(s),yc(Ei),ie(bc),jd!==0&&ie(jd+" J"),Bd!==0&&ie(Bd+" j"),nt.publish("addPage",{pageNumber:Ze})},ra=function(I){I>0&&I<=Ze&&(be.splice(I,1),Ye.splice(I,1),Ze--,q>Ze&&(q=Ze),this.setPage(q))},tn=function(I){I>0&&I<=Ze&&(q=I)},rn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return be.length-1},Wo=function(I,ne,pe){var ye,_e=void 0;return pe=pe||{},I=I!==void 0?I:Yt[wt].fontName,ne=ne!==void 0?ne:Yt[wt].fontStyle,ye=I.toLowerCase(),Nr[ye]!==void 0&&Nr[ye][ne]!==void 0?_e=Nr[ye][ne]:Nr[I]!==void 0&&Nr[I][ne]!==void 0?_e=Nr[I][ne]:pe.disableWarning===!1&&en.warn("Unable to look up font label for font '"+I+"', '"+ne+"'. Refer to getFontList() for available fonts."),_e||pe.noFallback||(_e=Nr.times[ne])==null&&(_e=Nr.times.normal),_e},Ca=p.__private__.putInfo=function(){var I=ut(),ne=function(ye){return ye};for(var pe in f!==null&&(ne=sa.encryptor(I,0)),ie("<<"),ie("/Producer ("+fr(ne("jsPDF "+Ar.version))+")"),_t)_t.hasOwnProperty(pe)&&_t[pe]&&ie("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+fr(ne(_t[pe]))+")");ie("/CreationDate ("+fr(ne(re))+")"),ie(">>"),ie("endobj")},Go=p.__private__.putCatalog=function(I){var ne=(I=I||{}).rootDictionaryObjId||fi;switch(ut(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+ne+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+dt;pe.substr(pe.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+L(dt)+"]")}switch(Mt||(Mt="continuous"),Mt){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}Et&&ie("/PageMode /"+Et),nt.publish("putCatalog"),ie(">>"),ie("endobj")},ln=p.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(te+1)),ie("/Root "+te+" 0 R"),ie("/Info "+(te-1)+" 0 R"),f!==null&&ie("/Encrypt "+sa.oid+" 0 R"),ie("/ID [ <"+V+"> <"+V+"> ]"),ie(">>")},wc=p.__private__.putHeader=function(){ie("%PDF-"+v),ie("%")},yo=p.__private__.putXRef=function(){var I="0000000000";ie("xref"),ie("0 "+(te+1)),ie("0000000000 65535 f ");for(var ne=1;ne<=te;ne++)typeof K[ne]=="function"?ie((I+K[ne]()).slice(-10)+" 00000 n "):K[ne]!==void 0?ie((I+K[ne]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},pt=p.__private__.buildDocument=function(){var I;te=0,se=0,z=[],K=[],fe=[],fi=za(),Ja=za(),xe(z),nt.publish("buildDocument"),wc(),mr(),(function(){nt.publish("putAdditionalObjects");for(var pe=0;pe<fe.length;pe++){var ye=fe[pe];Xa(ye.objId,!0),ie(ye.content),ie("endobj")}nt.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var pe in Yt)Yt.hasOwnProperty(pe)&&(h===!1||h===!0&&m.hasOwnProperty(pe))&&Ot(Yt[pe])})(),(function(){var pe;for(pe in ur)ur.hasOwnProperty(pe)&&Ur(ur[pe])})(),(function(){for(var pe in vt)vt.hasOwnProperty(pe)&&Dr(vt[pe])})(),(function(pe){var ye;for(ye in yt)yt.hasOwnProperty(ye)&&(yt[ye]instanceof Zd?$r(yt[ye]):yt[ye]instanceof jf&&Vt(yt[ye],pe))})(I),nt.publish("putResources"),I.forEach(zt),zt({resourcesOid:Ja,objectOid:Number.MAX_SAFE_INTEGER}),nt.publish("postPutResources"),f!==null&&(sa.oid=ut(),ie("<<"),ie("/Filter /Standard"),ie("/V "+sa.v),ie("/R "+sa.r),ie("/U <"+sa.toHexString(sa.U)+">"),ie("/O <"+sa.toHexString(sa.O)+">"),ie("/P "+sa.P),ie(">>"),ie("endobj")),Ca(),Go();var ne=se;return yo(),ln(),ie("startxref"),ie(""+ne),ie("%%EOF"),xe(be[q]),z.join(`
`)},qe=p.__private__.getBlob=function(I){return new Blob([gt(I)],{type:"application/pdf"})},Gr=p.output=p.__private__.output=(ss=function(I,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",I){case void 0:return pt();case"save":p.save(ne.filename);break;case"arraybuffer":return gt(pt());case"blob":return qe(pt());case"bloburi":case"bloburl":if(kr.URL!==void 0&&typeof kr.URL.createObjectURL=="function")return kr.URL&&kr.URL.createObjectURL(qe(pt()))||void 0;en.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",ye=pt();try{pe=PB(ye)}catch{pe=PB(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+ne.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(kr)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(_e=ne.pdfObjectUrl,Xe="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Xt=kr.open();return Xt!==null&&Xt.document.write(ot),Xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(kr)==="[object Window]"){var nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',Cr=kr.open();if(Cr!==null){Cr.document.write(nr);var Sr=this;Cr.document.documentElement.querySelector("#pdfViewer").onload=function(){Cr.document.title=ne.filename,Cr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Sr.output("bloburl"))}}return Cr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(kr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ga='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',An=kr.open();if(An!==null&&(An.document.write(ga),An.document.title=ne.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return kr.document.location.href=this.output("datauristring",ne);default:return null}},ss.foo=function(){try{return ss.apply(this,arguments)}catch(pe){var I=pe.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var ne="Error in function "+I.split(`
`)[0].split("<")[0]+": "+pe.message;if(!kr.console)throw new Error(ne);kr.console.error(ne,pe),kr.alert&&alert(ne)}},ss.foo.bar=ss,ss.foo),bt=function(I){return Array.isArray(Er)===!0&&Er.indexOf(I)>-1};switch(a){case"pt":Bt=1;break;case"mm":Bt=72/25.4;break;case"cm":Bt=72/2.54;break;case"in":Bt=72;break;case"px":Bt=bt("px_scaling")==1?.75:96/72;break;case"pc":case"em":Bt=12;break;case"ex":Bt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Bt=a}var sa=null;ee(),H();var pa=p.__private__.getPageInfo=p.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ye[I].objId,pageNumber:I,pageContext:Ye[I]}},Cn=p.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in Ye)if(Ye[ne].objId===I)break;return pa(ne)},Yr=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ye[q].objId,pageNumber:q,pageContext:Ye[q]}};p.addPage=function(){return Kr.apply(this,arguments),this},p.setPage=function(){return tn.apply(this,arguments),xe.call(this,be[q]),this},p.insertPage=function(I){return this.addPage(),this.movePage(q,I),this},p.movePage=function(I,ne){var pe,ye;if(I>ne){pe=be[I],ye=Ye[I];for(var _e=I;_e>ne;_e--)be[_e]=be[_e-1],Ye[_e]=Ye[_e-1];be[ne]=pe,Ye[ne]=ye,this.setPage(ne)}else if(I<ne){pe=be[I],ye=Ye[I];for(var Xe=I;Xe<ne;Xe++)be[Xe]=be[Xe+1],Ye[Xe]=Ye[Xe+1];be[ne]=pe,Ye[ne]=ye,this.setPage(ne)}return this},p.deletePage=function(){return ra.apply(this,arguments),this},p.__private__.text=p.text=function(I,ne,pe,ye,_e){var Xe,ot,Xt,nr,Cr,Sr,ga,An,In,qa=(ye=ye||{}).scope||this;if(typeof I=="number"&&typeof ne=="number"&&(typeof pe=="string"||Array.isArray(pe))){var Vn=pe;pe=ne,ne=I,I=Vn}if(arguments[3]instanceof tr==0?(Xt=arguments[4],nr=arguments[5],$a(ga=arguments[3])==="object"&&ga!==null||(typeof Xt=="string"&&(nr=Xt,Xt=null),typeof ga=="string"&&(nr=ga,ga=null),typeof ga=="number"&&(Xt=ga,ga=null),ye={flags:ga,angle:Xt,align:nr})):(_("The transform parameter of text() with a Matrix value"),In=_e),isNaN(ne)||isNaN(pe)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return qa;var Sn,xs="",Li=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:Vs,zs=qa.internal.scaleFactor;function Iu(xa){return xa=xa.split("	").join(Array(ye.TabLen||9).join(" ")),fr(xa,ga)}function Fl(xa){for(var Da,vn=xa.concat(),Pn=[],ro=vn.length;ro--;)typeof(Da=vn.shift())=="string"?Pn.push(Da):Array.isArray(xa)&&(Da.length===1||Da[1]===void 0&&Da[2]===void 0)?Pn.push(Da[0]):Pn.push([Da[0],Da[1],Da[2]]);return Pn}function Cc(xa,Da){var vn;if(typeof xa=="string")vn=Da(xa)[0];else if(Array.isArray(xa)){for(var Pn,ro,Fd=xa.concat(),CA=[],nl=Fd.length;nl--;)typeof(Pn=Fd.shift())=="string"?CA.push(Da(Pn)[0]):Array.isArray(Pn)&&typeof Pn[0]=="string"&&(ro=Da(Pn[0],Pn[1],Pn[2]),CA.push([ro[0],ro[1],ro[2]]));vn=CA}return vn}var kl=!1,Sc=!0;if(typeof I=="string")kl=!0;else if(Array.isArray(I)){var Dl=I.concat();ot=[];for(var _c,Cs=Dl.length;Cs--;)(typeof(_c=Dl.shift())!="string"||Array.isArray(_c)&&typeof _c[0]!="string")&&(Sc=!1);kl=Sc}if(kl===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var Ec=Ee/qa.internal.scaleFactor,Fc=Ec*(Li-1);switch(ye.baseline){case"bottom":pe-=Fc;break;case"top":pe+=Ec-Fc;break;case"hanging":pe+=Ec-2*Fc;break;case"middle":pe+=Ec/2-Fc}if((Sr=ye.maxWidth||0)>0&&(typeof I=="string"?I=qa.splitTextToSize(I,Sr):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(xa,Da){return xa.concat(qa.splitTextToSize(Da,Sr))},[]))),Xe={text:I,x:ne,y:pe,options:ye,mutex:{pdfEscape:fr,activeFontKey:wt,fonts:Yt,activeFontSize:Ee}},nt.publish("preProcessText",Xe),I=Xe.text,Xt=(ye=Xe.options).angle,In instanceof tr==0&&Xt&&typeof Xt=="number"){Xt*=Math.PI/180,ye.rotationDirection===0&&(Xt=-Xt),E===C&&(Xt=-Xt);var _d=Math.cos(Xt),Ed=Math.sin(Xt);In=new tr(_d,Ed,-Ed,_d,0,0)}else Xt&&Xt instanceof tr&&(In=Xt);E!==C||In||(In=gs),(Cr=ye.charSpace||Zi)!==void 0&&(xs+=D(J(Cr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=ye.horizontalScale)!==void 0&&(xs+=D(100*An)+` Tz
`),ye.lang;var gn=-1,eo=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,Co=qa.internal.getCurrentPageInfo().pageContext;switch(eo){case 0:case!1:case"fill":gn=0;break;case 1:case!0:case"stroke":gn=1;break;case 2:case"fillThenStroke":gn=2;break;case 3:case"invisible":gn=3;break;case 4:case"fillAndAddForClipping":gn=4;break;case 5:case"strokeAndAddPathForClipping":gn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gn=6;break;case 7:case"addToPathForClipping":gn=7}var Pu=Co.usedRenderingMode!==void 0?Co.usedRenderingMode:-1;gn!==-1?xs+=gn+` Tr
`:Pu!==-1&&(xs+=`0 Tr
`),gn!==-1&&(Co.usedRenderingMode=gn),nr=ye.align||"left";var mi,Ul=Ee*Li,bA=qa.internal.pageSize.getWidth(),NA=Yt[wt];Cr=ye.charSpace||Zi,Sr=ye.maxWidth||0,ga=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var el=[],Ii=function(xa){return qa.getStringUnitWidth(xa,{font:NA,charSpace:Cr,fontSize:Ee,doKerning:!1})*Ee/zs};if(Object.prototype.toString.call(I)==="[object Array]"){var pi;ot=Fl(I),nr!=="left"&&(mi=ot.map(Ii));var gi,Ll=0;if(nr==="right"){ne-=mi[0],I=[],Cs=ot.length;for(var So=0;So<Cs;So++)So===0?(gi=hi(ne),pi=Xo(pe)):(gi=J(Ll-mi[So]),pi=-Ul),I.push([ot[So],gi,pi]),Ll=mi[So]}else if(nr==="center"){ne-=mi[0]/2,I=[],Cs=ot.length;for(var tl=0;tl<Cs;tl++)tl===0?(gi=hi(ne),pi=Xo(pe)):(gi=J((Ll-mi[tl])/2),pi=-Ul),I.push([ot[tl],gi,pi]),Ll=mi[tl]}else if(nr==="left"){I=[],Cs=ot.length;for(var rl=0;rl<Cs;rl++)I.push(ot[rl])}else if(nr==="justify"&&NA.encoding==="Identity-H"){I=[],Cs=ot.length,Sr=Sr!==0?Sr:bA;for(var _o=0,_n=0;_n<Cs;_n++)if(pi=_n===0?Xo(pe):-Ul,gi=_n===0?hi(ne):_o,_n<Cs-1){var kc=J((Sr-mi[_n])/(ot[_n].split(" ").length-1)),Eo=ot[_n].split(" ");I.push([Eo[0]+" ",gi,pi]),_o=0;for(var to=1;to<Eo.length;to++){var Dc=(Ii(Eo[to-1]+" "+Eo[to])-Ii(Eo[to]))*zs+kc;to==Eo.length-1?I.push([Eo[to],Dc,0]):I.push([Eo[to]+" ",Dc,0]),_o-=Dc}}else I.push([ot[_n],gi,pi]);I.push(["",_o,0])}else{if(nr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Cs=ot.length,Sr=Sr!==0?Sr:bA,_n=0;_n<Cs;_n++){pi=_n===0?Xo(pe):-Ul,gi=_n===0?hi(ne):0;var Uc=ot[_n].split(" ").length-1,jA=Uc>0?(Sr-mi[_n])/Uc:0;_n<Cs-1?el.push(D(J(jA))):el.push(0),I.push([ot[_n],gi,pi])}}}(typeof ye.R2L=="boolean"?ye.R2L:Wt)===!0&&(I=Cc(I,function(xa,Da,vn){return[xa.split("").reverse().join(""),Da,vn]})),Xe={text:I,x:ne,y:pe,options:ye,mutex:{pdfEscape:fr,activeFontKey:wt,fonts:Yt,activeFontSize:Ee}},nt.publish("postProcessText",Xe),I=Xe.text,Sn=Xe.mutex.isHex||!1;var BA=Yt[wt].encoding;BA!=="WinAnsiEncoding"&&BA!=="StandardEncoding"||(I=Cc(I,function(xa,Da,vn){return[Iu(xa),Da,vn]})),ot=Fl(I),I=[];for(var al,Il,Pl,Lc=Array.isArray(ot[0])?1:0,Ql="",Ic=function(xa,Da,vn){var Pn="";return vn instanceof tr?(vn=typeof ye.angle=="number"?Bn(vn,new tr(1,0,0,1,xa,Da)):Bn(new tr(1,0,0,1,xa,Da),vn),E===C&&(vn=Bn(new tr(1,0,0,-1,0,0),vn)),Pn=vn.join(" ")+` Tm
`):Pn=D(xa)+" "+D(Da)+` Td
`,Pn},xn=0;xn<ot.length;xn++){switch(Ql="",Lc){case 1:Pl=(Sn?"<":"(")+ot[xn][0]+(Sn?">":")"),al=parseFloat(ot[xn][1]),Il=parseFloat(ot[xn][2]);break;case 0:Pl=(Sn?"<":"(")+ot[xn]+(Sn?">":")"),al=hi(ne),Il=Xo(pe)}el!==void 0&&el[xn]!==void 0&&(Ql=el[xn]+` Tw
`),xn===0?I.push(Ql+Ic(al,Il,In)+Pl):Lc===0?I.push(Ql+Pl):Lc===1&&I.push(Ql+Ic(al,Il,In)+Pl)}I=Lc===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var qs=`BT
/`;return qs+=wt+" "+Ee+` Tf
`,qs+=D(Ee*Li)+` TL
`,qs+=Ji+`
`,qs+=xs,qs+=I,ie(qs+="ET"),m[wt]=!0,qa};var cn=p.__private__.clip=p.clip=function(I){return ie(I==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return cn("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ie("n"),this};var Sa=p.__private__.isValidStyle=function(I){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(ne=!0),ne};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(I){return Sa(I)&&(d=I),this};var Yi=p.__private__.getStyle=p.getStyle=function(I){var ne=d;switch(I){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=I}return ne},Aa=p.close=function(){return ie("h"),this};p.stroke=function(){return ie("S"),this},p.fill=function(I){return pn("f",I),this},p.fillEvenOdd=function(I){return pn("f*",I),this},p.fillStroke=function(I){return pn("B",I),this},p.fillStrokeEvenOdd=function(I){return pn("B*",I),this};var pn=function(I,ne){$a(ne)==="object"?ku(ne,I):ie(I)},gA=function(I){I===null||E===C&&I===void 0||(I=Yi(I),ie(I))};function bd(I,ne,pe,ye,_e){var Xe=new jf(ne||this.boundingBox,pe||this.xStep,ye||this.yStep,this.gState,_e||this.matrix);Xe.stream=this.stream;var ot=I+"$$"+this.cloneIndex+++"$$";return mn(ot,Xe),Xe}var ku=function(I,ne){var pe=yr[I.key],ye=yt[pe];if(ye instanceof Zd)ie("q"),ie(Du(ne)),ye.gState&&p.setGState(ye.gState),ie(I.matrix.toString()+" cm"),ie("/"+pe+" sh"),ie("Q");else if(ye instanceof jf){var _e=new tr(1,0,0,-1,0,Ui());I.matrix&&(_e=_e.multiply(I.matrix||gs),pe=bd.call(ye,I.key,I.boundingBox,I.xStep,I.yStep,_e).id),ie("q"),ie("/Pattern cs"),ie("/"+pe+" scn"),ye.gState&&p.setGState(ye.gState),ie(ne),ie("Q")}},Du=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},xA=p.moveTo=function(I,ne){return ie(D(J(I))+" "+D(R(ne))+" m"),this},Yo=p.lineTo=function(I,ne){return ie(D(J(I))+" "+D(R(ne))+" l"),this},Xi=p.curveTo=function(I,ne,pe,ye,_e,Xe){return ie([D(J(I)),D(R(ne)),D(J(pe)),D(R(ye)),D(J(_e)),D(R(Xe)),"c"].join(" ")),this};p.__private__.line=p.line=function(I,ne,pe,ye,_e){if(isNaN(I)||isNaN(ne)||isNaN(pe)||isNaN(ye)||!Sa(_e))throw new Error("Invalid arguments passed to jsPDF.line");return E===j?this.lines([[pe-I,ye-ne]],I,ne,[1,1],_e||"S"):this.lines([[pe-I,ye-ne]],I,ne,[1,1]).stroke()},p.__private__.lines=p.lines=function(I,ne,pe,ye,_e,Xe){var ot,Xt,nr,Cr,Sr,ga,An,In,qa,Vn,Sn,xs;if(typeof I=="number"&&(xs=pe,pe=ne,ne=I,I=xs),ye=ye||[1,1],Xe=Xe||!1,isNaN(ne)||isNaN(pe)||!Array.isArray(I)||!Array.isArray(ye)||!Sa(_e)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xA(ne,pe),ot=ye[0],Xt=ye[1],Cr=I.length,Vn=ne,Sn=pe,nr=0;nr<Cr;nr++)(Sr=I[nr]).length===2?(Vn=Sr[0]*ot+Vn,Sn=Sr[1]*Xt+Sn,Yo(Vn,Sn)):(ga=Sr[0]*ot+Vn,An=Sr[1]*Xt+Sn,In=Sr[2]*ot+Vn,qa=Sr[3]*Xt+Sn,Vn=Sr[4]*ot+Vn,Sn=Sr[5]*Xt+Sn,Xi(ga,An,In,qa,Vn,Sn));return Xe&&Aa(),gA(_e),this},p.path=function(I){for(var ne=0;ne<I.length;ne++){var pe=I[ne],ye=pe.c;switch(pe.op){case"m":xA(ye[0],ye[1]);break;case"l":Yo(ye[0],ye[1]);break;case"c":Xi.apply(this,ye);break;case"h":Aa()}}return this},p.__private__.rect=p.rect=function(I,ne,pe,ye,_e){if(isNaN(I)||isNaN(ne)||isNaN(pe)||isNaN(ye)||!Sa(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return E===j&&(ye=-ye),ie([D(J(I)),D(R(ne)),D(J(pe)),D(J(ye)),"re"].join(" ")),gA(_e),this},p.__private__.triangle=p.triangle=function(I,ne,pe,ye,_e,Xe,ot){if(isNaN(I)||isNaN(ne)||isNaN(pe)||isNaN(ye)||isNaN(_e)||isNaN(Xe)||!Sa(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-I,ye-ne],[_e-pe,Xe-ye],[I-_e,ne-Xe]],I,ne,[1,1],ot,!0),this},p.__private__.roundedRect=p.roundedRect=function(I,ne,pe,ye,_e,Xe,ot){if(isNaN(I)||isNaN(ne)||isNaN(pe)||isNaN(ye)||isNaN(_e)||isNaN(Xe)||!Sa(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xt=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*pe),Xe=Math.min(Xe,.5*ye),this.lines([[pe-2*_e,0],[_e*Xt,0,_e,Xe-Xe*Xt,_e,Xe],[0,ye-2*Xe],[0,Xe*Xt,-_e*Xt,Xe,-_e,Xe],[2*_e-pe,0],[-_e*Xt,0,-_e,-Xe*Xt,-_e,-Xe],[0,2*Xe-ye],[0,-Xe*Xt,_e*Xt,-Xe,_e,-Xe]],I+_e,ne,[1,1],ot,!0),this},p.__private__.ellipse=p.ellipse=function(I,ne,pe,ye,_e){if(isNaN(I)||isNaN(ne)||isNaN(pe)||isNaN(ye)||!Sa(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*pe,ot=4/3*(Math.SQRT2-1)*ye;return xA(I+pe,ne),Xi(I+pe,ne-ot,I+Xe,ne-ye,I,ne-ye),Xi(I-Xe,ne-ye,I-pe,ne-ot,I-pe,ne),Xi(I-pe,ne+ot,I-Xe,ne+ye,I,ne+ye),Xi(I+Xe,ne+ye,I+pe,ne+ot,I+pe,ne),gA(_e),this},p.__private__.circle=p.circle=function(I,ne,pe,ye){if(isNaN(I)||isNaN(ne)||isNaN(pe)||!Sa(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,ne,pe,pe,ye)},p.setFont=function(I,ne,pe){return pe&&(ne=F(ne,pe)),wt=Wo(I,ne,{disableWarning:!1}),this};var bo=p.__private__.getFont=p.getFont=function(){return Yt[Wo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var I,ne,pe={};for(I in Nr)if(Nr.hasOwnProperty(I))for(ne in pe[I]=[],Nr[I])Nr[I].hasOwnProperty(ne)&&pe[I].push(ne);return pe},p.addFont=function(I,ne,pe,ye,_e){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(pe=F(pe,ye)),hr.call(this,I,ne,pe,_e=_e||"Identity-H")};var Vs,Ei=e.lineWidth||.200025,br=p.__private__.getLineWidth=p.getLineWidth=function(){return Ei},yc=p.__private__.setLineWidth=p.setLineWidth=function(I){return Ei=I,ie(D(J(I))+" w"),this};p.__private__.setLineDash=Ar.API.setLineDash=Ar.API.setLineDashPattern=function(I,ne){if(I=I||[],ne=ne||0,isNaN(ne)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(pe){return D(J(pe))}).join(" "),ne=D(J(ne)),ie("["+I+"] "+ne+" d"),this};var No=p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*Vs};p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*Vs};var nh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Vs=I),this},Uu=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Vs};nh(e.lineHeight);var hi=p.__private__.getHorizontalCoordinate=function(I){return J(I)},Xo=p.__private__.getVerticalCoordinate=function(I){return E===C?I:Ye[q].mediaBox.topRightY-Ye[q].mediaBox.bottomLeftY-J(I)},Lu=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(I){return D(hi(I))},vA=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(I){return D(Xo(I))},bc=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return He(bc)},p.__private__.setStrokeColor=p.setDrawColor=function(I,ne,pe,ye){return bc=Je({ch1:I,ch2:ne,ch3:pe,ch4:ye,pdfColorType:"draw",precision:2}),ie(bc),this};var Nd=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return He(Nd)},p.__private__.setFillColor=p.setFillColor=function(I,ne,pe,ye){return Nd=Je({ch1:I,ch2:ne,ch3:pe,ch4:ye,pdfColorType:"fill",precision:2}),ie(Nd),this};var Ji=e.textColor||"0 g",jo=p.__private__.getTextColor=p.getTextColor=function(){return He(Ji)};p.__private__.setTextColor=p.setTextColor=function(I,ne,pe,ye){return Ji=Je({ch1:I,ch2:ne,ch3:pe,ch4:ye,pdfColorType:"text",precision:3}),this};var Zi=e.charSpace,wA=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Zi||0)};p.__private__.setCharSpace=p.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zi=I,this};var jd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(I){var ne=p.CapJoinStyles[I];if(ne===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jd=ne,ie(ne+" J"),this};var Bd=0;p.__private__.setLineJoin=p.setLineJoin=function(I){var ne=p.CapJoinStyles[I];if(ne===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bd=ne,ie(ne+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(D(J(I))+" M"),this},p.GState=N0,p.setGState=function(I){(I=typeof I=="string"?ur[Ba[I]]:Jo(null,I)).equals(ka)||(ie("/"+I.id+" gs"),ka=I)};var Jo=function(I,ne){if(!I||!Ba[I]){var pe=!1;for(var ye in ur)if(ur.hasOwnProperty(ye)&&ur[ye].equals(ne)){pe=!0;break}if(pe)ne=ur[ye];else{var _e="GS"+(Object.keys(ur).length+1).toString(10);ur[_e]=ne,ne.id=_e}return I&&(Ba[I]=ne.id),nt.publish("addGState",ne),ne}};p.addGState=function(I,ne){return Jo(I,ne),this},p.saveGraphicsState=function(){return ie("q"),la.push({key:wt,size:Ee,color:Ji}),this},p.restoreGraphicsState=function(){ie("Q");var I=la.pop();return wt=I.key,Ee=I.size,Ji=I.color,ka=null,this},p.setCurrentTransformationMatrix=function(I){return ie(I.toString()+" cm"),this},p.comment=function(I){return ie("#"+I),this};var Bo=function(I,ne){var pe=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Xe){isNaN(Xe)||(pe=parseFloat(Xe))}});var ye=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(Xe){isNaN(Xe)||(ye=parseFloat(Xe))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Xe){_e=Xe.toString()}}),this},Nc=function(I,ne,pe,ye){Bo.call(this,I,ne),this.type="rect";var _e=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(ot){isNaN(ot)||(_e=parseFloat(ot))}});var Xe=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(ot){isNaN(ot)||(Xe=parseFloat(ot))}}),this},jc=function(){this.page=Ze,this.currentPage=q,this.pages=be.slice(0),this.pagesContext=Ye.slice(0),this.x=St,this.y=Na,this.matrix=Hr,this.width=Bc(q),this.height=ki(q),this.outputDestination=Qe,this.id="",this.objectNumber=-1};jc.prototype.restore=function(){Ze=this.page,q=this.currentPage,Ye=this.pagesContext,be=this.pages,St=this.x,Na=this.y,Hr=this.matrix,Cd(q,this.width),Di(q,this.height),Qe=this.outputDestination};var Fi=function(I,ne,pe,ye,_e){ca.push(new jc),Ze=q=0,be=[],St=I,Na=ne,Hr=_e,Pt([pe,ye])};for(var Zo in p.beginFormObject=function(I,ne,pe,ye,_e){return Fi(I,ne,pe,ye,_e),this},p.endFormObject=function(I){return(function(ne){if(ar[ne])ca.pop().restore();else{var pe=new jc,ye="Xo"+(Object.keys(vt).length+1).toString(10);pe.id=ye,ar[ne]=ye,vt[ye]=pe,nt.publish("addFormObject",pe),ca.pop().restore()}})(I),this},p.doFormObject=function(I,ne){var pe=vt[ar[I]];return ie("q"),ie(ne.toString()+" cm"),ie("/"+pe.id+" Do"),ie("Q"),this},p.getFormObject=function(I){var ne=vt[ar[I]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},p.save=function(I,ne){return I=I||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(Jd(qe(pt()),I),typeof Jd.unload=="function"&&kr.setTimeout&&setTimeout(Jd.unload,911),this):new Promise(function(pe,ye){try{var _e=Jd(qe(pt()),I);typeof Jd.unload=="function"&&kr.setTimeout&&setTimeout(Jd.unload,911),pe(_e)}catch(Xe){ye(Xe.message)}})},Ar.API)Ar.API.hasOwnProperty(Zo)&&(Zo==="events"&&Ar.API.events.length?(function(I,ne){var pe,ye,_e;for(_e=ne.length-1;_e!==-1;_e--)pe=ne[_e][0],ye=ne[_e][1],I.subscribe.apply(I,[pe].concat(typeof ye=="function"?[ye]:ye))})(nt,Ar.API.events):p[Zo]=Ar.API[Zo]);function Bc(I){return Ye[I].mediaBox.topRightX-Ye[I].mediaBox.bottomLeftX}function Cd(I,ne){Ye[I].mediaBox.topRightX=ne+Ye[I].mediaBox.bottomLeftX}function ki(I){return Ye[I].mediaBox.topRightY-Ye[I].mediaBox.bottomLeftY}function Di(I,ne){Ye[I].mediaBox.topRightY=ne+Ye[I].mediaBox.bottomLeftY}var Sd=p.getPageWidth=function(I){return Bc(I=I||q)/Bt},Bs=p.setPageWidth=function(I,ne){Cd(I,ne*Bt)},Ui=p.getPageHeight=function(I){return ki(I=I||q)/Bt},yA=p.setPageHeight=function(I,ne){Di(I,ne*Bt)};return p.internal={pdfEscape:fr,getStyle:Yi,getFont:bo,getFontSize:ct,getCharSpace:wA,getTextColor:jo,getLineHeight:No,getLineHeightFactor:Uu,getLineWidth:br,write:at,getHorizontalCoordinate:hi,getVerticalCoordinate:Xo,getCoordinateString:Lu,getVerticalCoordinateString:vA,collections:{},newObject:ut,newAdditionalObject:js,newObjectDeferred:za,newObjectDeferredBegin:Xa,getFilters:Ct,putStream:st,events:nt,scaleFactor:Bt,pageSize:{getWidth:function(){return Sd(q)},setWidth:function(I){Bs(q,I)},getHeight:function(){return Ui(q)},setHeight:function(I){yA(q,I)}},encryptionOptions:f,encryption:sa,getEncryptor:function(I){return f!==null?sa.encryptor(I,0):function(ne){return ne}},output:Gr,getNumberOfPages:rn,pages:be,out:ie,f2:L,f3:T,getPageInfo:pa,getPageInfoByObjId:Cn,getCurrentPageInfo:Yr,getPDFVersion:g,Point:Bo,Rectangle:Nc,Matrix:tr,hasHotfix:bt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Sd(q)},set:function(I){Bs(q,I)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ui(q)},set:function(I){yA(q,I)},enumerable:!0,configurable:!0}),(function(I){for(var ne=0,pe=it.length;ne<pe;ne++){var ye=hr.call(this,I[ne][0],I[ne][1],I[ne][2],it[ne][3],!0);h===!1&&(m[ye]=!0);var _e=I[ne][0].split("-");ta({id:ye,fontName:_e[0],fontStyle:_e[1]||""})}nt.publish("addFonts",{fonts:Yt,dictionary:Nr})}).call(p,it),wt="F1",Kr(s,t),nt.publish("initialized"),p}wf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},wf.prototype.toHexString=function(e){return e.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wf.prototype.hexToBytes=function(e){for(var r=[],t=0;t<e.length;t+=2)r.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return r.join("")},wf.prototype.processOwnerPassword=function(e,r){return Vy(Ky(r).substr(0,5),e)},wf.prototype.encryptor=function(e,r){var t=Ky(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&r,r>>8&255)).substr(0,10);return function(a){return Vy(t,a)}},N0.prototype.equals=function(e){var r,t="id,objectNumber,equals";if(!e||$a(e)!==$a(this))return!1;var a=0;for(r in this)if(!(t.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!e.hasOwnProperty(r)||this[r]!==e[r])return!1;a++}for(r in e)e.hasOwnProperty(r)&&t.indexOf(r)<0&&a--;return a===0},Ar.API={events:[]},Ar.version="3.0.3";var On=Ar.API,_b=1,Fu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},df=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qr=function(e){return e.toFixed(2)},WA=function(e){return e.toFixed(5)};On.__acroform__={};var Gi=function(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e},TB=function(e){return e*_b},ql=function(e){var r=new p3,t=er.internal.getHeight(e)||0,a=er.internal.getWidth(e)||0;return r.BBox=[0,0,Number(Qr(a)),Number(Qr(t))],r},VK=On.__acroform__.setBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<r},zK=On.__acroform__.clearBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<r)},qK=On.__acroform__.getBit=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<r?1:0},Xn=On.__acroform__.getBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qK(e,r-1)},Jn=On.__acroform__.setBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VK(e,r-1)},Zn=On.__acroform__.clearBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zK(e,r-1)},WK=On.__acroform__.calculateCoordinates=function(e,r){var t=r.internal.getHorizontalCoordinate,a=r.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],A={};return A.lowerLeft_X=t(s)||0,A.lowerLeft_Y=a(i+l)||0,A.upperRight_X=t(s+o)||0,A.upperRight_Y=a(i)||0,[Number(Qr(A.lowerLeft_X)),Number(Qr(A.lowerLeft_Y)),Number(Qr(A.upperRight_X)),Number(Qr(A.upperRight_Y))]},GK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var r=[],t=e._V||e.DV,a=zy(e,t),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(e.scope.__private__.encodeColorString(e.color)),r.push("/"+s+" "+Qr(a.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC");var i=ql(e);return i.scope=e.scope,i.stream=r.join(`
`),i}},zy=function(e,r){var t=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");s=e.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var i=t,o=er.internal.getHeight(e)||0;o=o<0?-o:o;var l=er.internal.getWidth(e)||0;l=l<0?-l:l;var A=function(L,T,J){if(L+1<s.length){var R=T+" "+s[L+1][0];return zp(R,e,J).width<=l-4}return!1};i++;e:for(;i>0;){r="",i--;var d,f,h=zp("3",e,i).height,m=e.multiline?o-i:(o-h)/2,p=m+=2,v=0,g=0,y=0;if(i<=0){r=`(...) Tj
`,r+="% Width of Text: "+zp(r,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var w="",j=0,C=0;C<s.length;C++)if(s.hasOwnProperty(C)){var E=!1;if(s[C].length!==1&&y!==s[C].length-1){if((h+2)*(j+2)+2>o)continue e;w+=s[C][y],E=!0,g=C,C--}else{w=(w+=s[C][y]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var U=parseInt(C),k=A(U,w,i),F=C>=s.length-1;if(k&&!F){w+=" ",y=0;continue}if(k||F){if(F)g=U;else if(e.multiline&&(h+2)*(j+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(j+2)+2>o)continue e;g=U}}for(var D="",_=v;_<=g;_++){var G=s[_];if(e.multiline){if(_===g){D+=G[y]+" ",y=(y+1)%G.length;continue}if(_===v){D+=G[G.length-1]+" ";continue}}D+=G[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,f=zp(D,e,i).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}r+=Qr(d)+" "+Qr(p)+` Td
`,r+="("+Fu(D)+`) Tj
`,r+=-Qr(d)+` 0 Td
`,p=-(i+2),f=0,v=E?g:g+1,j++,w=""}break}return a.text=r,a.fontSize=i,a},zp=function(e,r,t){var a=r.scope.internal.getFont(r.fontName,r.fontStyle),s=r.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:r.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},YK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XK=function(e,r){var t={type:"reference",object:e};r.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===t.type&&a.object===t.object})===void 0&&r.internal.getPageInfo(e.page).pageContext.annotations.push(t)},JK=function(e,r){if(r.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Sl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(YK)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_b=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new g3,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&XK(i,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],A=[],d=l.Rect;if(l.Rect&&(l.Rect=WK(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=er.createDefaultAppearanceStream(l),$a(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(A=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=GK(l);A.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(s,l)),h+="/"+o+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(s,l)),h+="/"+o+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);h+=">>"}A.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:A,objectId:l.objId}),s.internal.out("endobj")}i&&(function(g,y){for(var w in g)if(g.hasOwnProperty(w)){var j=w,C=g[w];y.internal.newObjectDeferredBegin(C.objId,!0),$a(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete g[j]}})(s.internal.acroformPlugin.xForms,s)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},m3=On.__acroform__.arrayToPdfArray=function(e,r,t){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),$a(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(r!==void 0&&t&&(a=t.internal.getEncryptor(r)),s+="("+Fu(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},jw=function(e,r,t){var a=function(s){return s};return r!==void 0&&t&&(a=t.internal.getEncryptor(r)),(e=e||"").toString(),"("+Fu(a(e))+")"},sc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sc.prototype.toString=function(){return this.objId+" 0 R"},sc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},sc.prototype.getKeyValueListForStream=function(){var e=[],r=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in r)if(Object.getOwnPropertyDescriptor(this,r[t]).configurable===!1){var a=r[t],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:m3(s,this.objId,this.scope)}):s instanceof sc?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var p3=function(){sc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Gi(p3,sc);var g3=function(){sc.call(this);var e,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(a){return a};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Fu(t(e))+")"}},set:function(t){e=t}})};Gi(g3,sc);var Sl=function e(){sc.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');r=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xn(r,3)},set:function(w){w?this.F=Jn(r,3):this.F=Zn(r,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(w){a=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(w){a[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(w){a[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(w){a[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(w){a[3]=w}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof j0)return;i="FieldObject"+e.FieldNum++}var w=function(j){return j};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Fu(w(i))+")"},set:function(w){i=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(w){i=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(w){A=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/_b:d},set:function(w){d=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof j0||this instanceof du))return jw(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ls==0?jw(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof Ls==0?w.substr(0,1)==="("?df(w.substr(1,w.length-2)):df(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ls==1?df(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Ls==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ls==0?jw(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof Ls==0?w.substr(0,1)==="("?df(w.substr(1,w.length-2)):df(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ls==1?df(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Ls==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(w){w=!!w,g=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,1)},set:function(w){w?this.Ff=Jn(this.Ff,1):this.Ff=Zn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,2)},set:function(w){w?this.Ff=Jn(this.Ff,2):this.Ff=Zn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,3)},set:function(w){w?this.Ff=Jn(this.Ff,3):this.Ff=Zn(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');y=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(y){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Gi(Sl,sc);var Df=function(){Sl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return m3(r,this.objId,this.scope)},set:function(t){var a,s;s=[],typeof(a=t)=="string"&&(s=(function(i,o,l){l||(l=1);for(var A,d=[];A=o.exec(i);)d.push(A[l]);return d})(a,/\((.*?)\)/g)),r=s}}),this.getOptions=function(){return r},this.setOptions=function(t){r=t,this.sort&&r.sort()},this.addOption=function(t){t=(t=t||"").toString(),r.push(t),this.sort&&r.sort()},this.removeOption=function(t,a){for(a=a||!1,t=(t=t||"").toString();r.indexOf(t)!==-1&&(r.splice(r.indexOf(t),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,18)},set:function(t){t?this.Ff=Jn(this.Ff,18):this.Ff=Zn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Jn(this.Ff,19):this.Ff=Zn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,20)},set:function(t){t?(this.Ff=Jn(this.Ff,20),r.sort()):this.Ff=Zn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,22)},set:function(t){t?this.Ff=Jn(this.Ff,22):this.Ff=Zn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(t){t?this.Ff=Jn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,27)},set:function(t){t?this.Ff=Jn(this.Ff,27):this.Ff=Zn(this.Ff,27)}}),this.hasAppearanceStream=!1};Gi(Df,Sl);var Uf=function(){Df.call(this),this.fontName="helvetica",this.combo=!1};Gi(Uf,Df);var Lf=function(){Uf.call(this),this.combo=!0};Gi(Lf,Uf);var Rg=function(){Lf.call(this),this.edit=!0};Gi(Rg,Lf);var Ls=function(){Sl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,15)},set:function(t){t?this.Ff=Jn(this.Ff,15):this.Ff=Zn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,16)},set:function(t){t?this.Ff=Jn(this.Ff,16):this.Ff=Zn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,17)},set:function(t){t?this.Ff=Jn(this.Ff,17):this.Ff=Zn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(t){t?this.Ff=Jn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Fu(t(r[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){$a(t)==="object"&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){typeof t=="string"&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Gi(Ls,Sl);var Mg=function(){Ls.call(this),this.pushButton=!0};Gi(Mg,Ls);var If=function(){Ls.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r!==void 0?r:[]}})};Gi(If,Ls);var j0=function(){var e,r;Sl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(s){r=s}});var t,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+Fu(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){$a(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=er.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gi(j0,Sl),If.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var t=this.Kids[r];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},If.prototype.createOption=function(e){var r=new j0;return r.Parent=this,r.optionName=e,this.Kids.push(r),ZK.call(this.scope,r),r};var Tg=function(){Ls.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=er.CheckBox.createAppearanceStream()};Gi(Tg,Ls);var du=function(){Sl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,13)},set:function(r){r?this.Ff=Jn(this.Ff,13):this.Ff=Zn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,21)},set:function(r){r?this.Ff=Jn(this.Ff,21):this.Ff=Zn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(r){r?this.Ff=Jn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,24)},set:function(r){r?this.Ff=Jn(this.Ff,24):this.Ff=Zn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,25)},set:function(r){r?this.Ff=Jn(this.Ff,25):this.Ff=Zn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(r){r?this.Ff=Jn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){Number.isInteger(r)&&(e=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gi(du,Sl);var Og=function(){du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,14)},set:function(e){e?this.Ff=Jn(this.Ff,14):this.Ff=Zn(this.Ff,14)}}),this.password=!0};Gi(Og,du);var er={CheckBox:{createAppearanceStream:function(){return{N:{On:er.CheckBox.YesNormal},D:{On:er.CheckBox.YesPushDown,Off:er.CheckBox.OffPushDown}}},YesPushDown:function(e){var r=ql(e);r.scope=e.scope;var t=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=zy(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+Qr(er.internal.getWidth(e))+" "+Qr(er.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+a+" "+Qr(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),r.stream=t.join(`
`),r},YesNormal:function(e){var r=ql(e);r.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=er.internal.getHeight(e),o=er.internal.getWidth(e),l=zy(e,e.caption);return s.push("1 g"),s.push("0 0 "+Qr(o)+" "+Qr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Qr(o-1)+" "+Qr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Qr(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(e){var r=ql(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Qr(er.internal.getWidth(e))+" "+Qr(er.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(e){var r={D:{Off:er.RadioButton.Circle.OffPushDown},N:{}};return r.N[e]=er.RadioButton.Circle.YesNormal,r.D[e]=er.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(e){var r=ql(e);r.scope=e.scope;var t=[],a=er.internal.getWidth(e)<=er.internal.getHeight(e)?er.internal.getWidth(e)/4:er.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=er.internal.Bezier_C,i=Number((a*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+WA(er.internal.getWidth(e)/2)+" "+WA(er.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=ql(e);r.scope=e.scope;var t=[],a=er.internal.getWidth(e)<=er.internal.getHeight(e)?er.internal.getWidth(e)/4:er.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*er.internal.Bezier_C).toFixed(5)),o=Number((a*er.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+WA(er.internal.getWidth(e)/2)+" "+WA(er.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+WA(er.internal.getWidth(e)/2)+" "+WA(er.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},OffPushDown:function(e){var r=ql(e);r.scope=e.scope;var t=[],a=er.internal.getWidth(e)<=er.internal.getHeight(e)?er.internal.getWidth(e)/4:er.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*er.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+WA(er.internal.getWidth(e)/2)+" "+WA(er.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r}},Cross:{createAppearanceStream:function(e){var r={D:{Off:er.RadioButton.Cross.OffPushDown},N:{}};return r.N[e]=er.RadioButton.Cross.YesNormal,r.D[e]=er.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(e){var r=ql(e);r.scope=e.scope;var t=[],a=er.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+Qr(er.internal.getWidth(e)-2)+" "+Qr(er.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(Qr(a.x1.x)+" "+Qr(a.x1.y)+" m"),t.push(Qr(a.x2.x)+" "+Qr(a.x2.y)+" l"),t.push(Qr(a.x4.x)+" "+Qr(a.x4.y)+" m"),t.push(Qr(a.x3.x)+" "+Qr(a.x3.y)+" l"),t.push("s"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=ql(e);r.scope=e.scope;var t=er.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+Qr(er.internal.getWidth(e))+" "+Qr(er.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Qr(er.internal.getWidth(e)-2)+" "+Qr(er.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Qr(t.x1.x)+" "+Qr(t.x1.y)+" m"),a.push(Qr(t.x2.x)+" "+Qr(t.x2.y)+" l"),a.push(Qr(t.x4.x)+" "+Qr(t.x4.y)+" m"),a.push(Qr(t.x3.x)+" "+Qr(t.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(e){var r=ql(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Qr(er.internal.getWidth(e))+" "+Qr(er.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}}},createDefaultAppearanceStream:function(e){var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+r+" "+e.fontSize+" Tf "+t}};er.internal={Bezier_C:.551915024494,calculateCross:function(e){var r=er.internal.getWidth(e),t=er.internal.getHeight(e),a=Math.min(r,t);return{x1:{x:(r-a)/2,y:(t-a)/2+a},x2:{x:(r-a)/2+a,y:(t-a)/2},x3:{x:(r-a)/2,y:(t-a)/2},x4:{x:(r-a)/2+a,y:(t-a)/2+a}}}},er.internal.getWidth=function(e){var r=0;return $a(e)==="object"&&(r=TB(e.Rect[2])),r},er.internal.getHeight=function(e){var r=0;return $a(e)==="object"&&(r=TB(e.Rect[3])),r};var ZK=On.addField=function(e){if(JK(this,e),!(e instanceof Sl))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=e).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};On.AcroFormChoiceField=Df,On.AcroFormListBox=Uf,On.AcroFormComboBox=Lf,On.AcroFormEditBox=Rg,On.AcroFormButton=Ls,On.AcroFormPushButton=Mg,On.AcroFormRadioButton=If,On.AcroFormCheckBox=Tg,On.AcroFormTextField=du,On.AcroFormPasswordField=Og,On.AcroFormAppearance=er,On.AcroForm={ChoiceField:Df,ListBox:Uf,ComboBox:Lf,EditBox:Rg,Button:Ls,PushButton:Mg,RadioButton:If,CheckBox:Tg,TextField:du,PasswordField:Og,Appearance:er},Ar.AcroForm={ChoiceField:Df,ListBox:Uf,ComboBox:Lf,EditBox:Rg,Button:Ls,PushButton:Mg,RadioButton:If,CheckBox:Tg,TextField:du,PasswordField:Og,Appearance:er};Ar.AcroForm;function x3(e){return e.reduce(function(r,t,a){return r[t]=a,r},{})}(function(e){var r="addImage_";e.__addimage__={};var t="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(L,T){var J,R,re,V,Y,H=t;if((T=T||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(k(L))for(Y in a)for(re=a[Y],J=0;J<re.length;J+=1){for(V=!0,R=0;R<re[J].length;R+=1)if(re[J][R]!==void 0&&re[J][R]!==L[R]){V=!1;break}if(V===!0){H=Y;break}}else for(Y in a)for(re=a[Y],J=0;J<re.length;J+=1){for(V=!0,R=0;R<re[J].length;R+=1)if(re[J][R]!==void 0&&re[J][R]!==L.charCodeAt(R)){V=!1;break}if(V===!0){H=Y;break}}return H===t&&T!==t&&(H=T),H},i=function L(T){for(var J=this.internal.write,R=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:T.width}),V.push({key:"Height",value:T.height}),T.colorSpace===w.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===w.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var Y="",H=0,Z=T.transparency.length;H<Z;H++)Y+=T.transparency[H]+" "+T.transparency[H]+" ";V.push({key:"Mask",value:"["+Y+"]"})}T.sMask!==void 0&&V.push({key:"SMask",value:T.objectId+1+" 0 R"});var Ae=T.filter!==void 0?["/"+T.filter]:void 0;if(R({data:T.data,additionalKeyValues:V,alreadyAppliedFilters:Ae,objectId:T.objectId}),J("endobj"),"sMask"in T&&T.sMask!==void 0){var ee,Q=(ee=T.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:T.bitsPerComponent,q={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:Q,data:T.sMask};"filter"in T&&(q.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(Q," /Columns ").concat(T.width),q.filter=T.filter),L.call(this,q)}if(T.colorSpace===w.INDEXED){var $=this.internal.newObject();R({data:D(new Uint8Array(T.palette)),objectId:$}),J("endobj")}},o=function(){var L=this.internal.collections[r+"images"];for(var T in L)i.call(this,L[T])},l=function(){var L,T=this.internal.collections[r+"images"],J=this.internal.write;for(var R in T)J("/I"+(L=T[R]).index,L.objectId,"0","R")},A=function(){this.internal.collections[r+"images"]||(this.internal.collections[r+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var L=this.internal.collections[r+"images"];return A.call(this),L},f=function(){return Object.keys(this.internal.collections[r+"images"]).length},h=function(L){return typeof e["process"+L.toUpperCase()]=="function"},m=function(L){return $a(L)==="object"&&L.nodeType===1},p=function(L,T){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var J=""+L.getAttribute("src");if(J.indexOf("data:image/")===0)return Qg(unescape(J).split("base64,").pop());var R=e.loadFile(J,!0);if(R!==void 0)return R}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var re;switch(T){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return Qg(L.toDataURL(re,1).split("base64,").pop())}},v=function(L){var T=this.internal.collections[r+"images"];if(T){for(var J in T)if(L===T[J].alias)return T[J]}},g=function(L,T,J){return L||T||(L=-96,T=-96),L<0&&(L=-1*J.width*72/L/this.internal.scaleFactor),T<0&&(T=-1*J.height*72/T/this.internal.scaleFactor),L===0&&(L=T*J.width/J.height),T===0&&(T=L*J.height/J.width),[L,T]},y=function(L,T,J,R,re,V){var Y=g.call(this,J,R,re),H=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,Ae=d.call(this);if(J=Y[0],R=Y[1],Ae[re.index]=re,V){V*=Math.PI/180;var ee=Math.cos(V),Q=Math.sin(V),q=function(X){return X.toFixed(4)},$=[q(ee),q(Q),q(-1*Q),q(ee),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,H(L),Z(T+R),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([H(J),"0","0",H(R),"0","0","cm"].join(" "))):this.internal.write([H(J),"0","0",H(R),H(L),Z(T+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(L){var T,J,R=0;if(typeof L=="string")for(J=L.length,T=0;T<J;T++)R=(R<<5)-R+L.charCodeAt(T),R|=0;else if(k(L))for(J=L.byteLength/2,T=0;T<J;T++)R=(R<<5)-R+L[T],R|=0;return R},E=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var T=!0;return L.length===0&&(T=!1),L.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(T=!1),T},U=e.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var T=L.indexOf(",");return T<0?null:L.substring(0,T).trim().endsWith("base64")?L.substring(T+1):null};e.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var k=e.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},F=e.__addimage__.binaryStringToUint8Array=function(L){for(var T=L.length,J=new Uint8Array(T),R=0;R<T;R++)J[R]=L.charCodeAt(R);return J},D=e.__addimage__.arrayBufferToBinaryString=function(L){for(var T="",J=k(L)?L:new Uint8Array(L),R=0;R<J.length;R+=8192)T+=String.fromCharCode.apply(null,J.subarray(R,R+8192));return T};e.addImage=function(){var L,T,J,R,re,V,Y,H,Z;if(typeof arguments[1]=="number"?(T=t,J=arguments[1],R=arguments[2],re=arguments[3],V=arguments[4],Y=arguments[5],H=arguments[6],Z=arguments[7]):(T=arguments[1],J=arguments[2],R=arguments[3],re=arguments[4],V=arguments[5],Y=arguments[6],H=arguments[7],Z=arguments[8]),$a(L=arguments[0])==="object"&&!m(L)&&"imageData"in L){var Ae=L;L=Ae.imageData,T=Ae.format||T||t,J=Ae.x||J||0,R=Ae.y||R||0,re=Ae.w||Ae.width||re,V=Ae.h||Ae.height||V,Y=Ae.alias||Y,H=Ae.compression||H,Z=Ae.rotation||Ae.angle||Z}var ee=this.internal.getFilters();if(H===void 0&&ee.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(J)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var Q=_.call(this,L,T,Y,H);return y.call(this,J,R,re,V,Q,Z),this};var _=function(L,T,J,R){var re,V,Y;if(typeof L=="string"&&s(L)===t){L=unescape(L);var H=G(L,!1);(H!==""||(H=e.loadFile(L,!0))!==void 0)&&(L=H)}if(m(L)&&(L=p(L,T)),T=s(L,T),!h(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((Y=J)==null||Y.length===0)&&(J=(function(Z){return typeof Z=="string"||k(Z)?C(Z):k(Z.data)?C(Z.data):null})(L)),(re=v.call(this,J))||(L instanceof Uint8Array||T==="RGBA"||(V=L,L=F(L)),re=this["process"+T.toUpperCase()](L,f.call(this),J,(function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in e.image_compression?Z:j.NONE})(R),V)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},G=e.__addimage__.convertBase64ToBinaryString=function(L,T){T=typeof T!="boolean"||T;var J,R="";if(typeof L=="string"){var re;J=(re=U(L))!==null&&re!==void 0?re:L;try{R=Qg(J)}catch(V){if(T)throw E(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};e.getImageProperties=function(L){var T,J,R="";if(m(L)&&(L=p(L)),typeof L=="string"&&s(L)===t&&((R=G(L,!1))===""&&(R=e.loadFile(L)||""),L=R),J=s(L),!h(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(L instanceof Uint8Array||(L=F(L)),!(T=this["process"+J.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=J,T}})(Ar.API),(function(e){var r=function(t){if(t!==void 0&&t!="")return!0};Ar.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,h=0;h<d.length&&!f;h++)switch((a=d[h]).type){case"link":(r(a.options.url)||r(a.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){a=d[m];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(t.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(g.objId),j=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+p(w(a.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+A.objId+" 0 R",i+=" /T ("+p(w(j))+") >>",g.content=i;var C=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+C,a.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var E=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(v(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var U=this.annotations._nameMap[a.options.name];a.options.pageNumber=U.page,a.options.top=U.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var k=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+k+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var a=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":a.pageContext.annotations.push(t)}},e.link=function(t,a,s,i,o){var l=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:A(t),y:d(a),w:A(t+s),h:d(a+i)},options:o,type:"link"})},e.textWithLink=function(t,a,s,i){var o,l,A=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(t,l).length;o=Math.ceil(d*f)}else l=A,o=d;return this.text(t,a,s,i),s+=.2*d,i.align==="center"&&(a-=A/2),i.align==="right"&&(a-=A),this.link(a,s-d,l,o,i),A},e.getTextWidth=function(t){var a=this.internal.getFontSize();return this.getStringUnitWidth(t)*a/this.internal.scaleFactor}})(Ar.API),(function(e){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return r[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&s.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&r[g.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(g){var y=0,w=t,j="",C=0;for(y=0;y<g.length;y+=1)w[g.charCodeAt(y)]!==void 0?(C++,typeof(w=w[g.charCodeAt(y)])=="number"&&(j+=String.fromCharCode(w),w=t,C=0),y===g.length-1&&(w=t,j+=g.charAt(y-(C-1)),y-=C-1,C=0)):(w=t,j+=g.charAt(y-C),y-=C,C=0);return j};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&a[g.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(g,y,w){return o(g)?i(g)===!1?-1:!d(g)||!o(y)&&!o(w)||!o(w)&&l(y)||l(g)&&!o(y)||l(g)&&A(y)||l(g)&&l(y)?0:f(g)&&o(y)&&!l(y)&&o(w)&&d(w)?3:l(g)||!o(w)?1:2:-1},p=function(g){var y=0,w=0,j=0,C="",E="",U="",k=(g=g||"").split("\\s+"),F=[];for(y=0;y<k.length;y+=1){for(F.push(""),w=0;w<k[y].length;w+=1)C=k[y][w],E=k[y][w-1],U=k[y][w+1],o(C)?(j=m(C,E,U),F[y]+=j!==-1?String.fromCharCode(r[C.charCodeAt(0)][j]):C):F[y]+=C;F[y]=h(F[y])}return F.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(y)){var j=0;for(w=[],j=0;j<y.length;j+=1)Array.isArray(y[j])?w.push([p(y[j][0]),y[j][1],y[j][2]]):w.push([p(y[j])]);g=w}else g=p(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])})(Ar.API),Ar.API.autoPrint=function(e){var r;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})),this},(function(e){var r=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(t,a){var s;if((t=t||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])})(Ar.API),(function(e){var r={left:0,top:0,bottom:0,right:0},t=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(A){return a.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},e.getTextDimensions=function(A,d){a.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,p=0,v=0,g=0,y=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var w=d.maxWidth;w>0?typeof A=="string"?A=this.splitTextToSize(A,w):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(C,E){return C.concat(y.splitTextToSize(E,w))},[])):A=Array.isArray(A)?A:[A];for(var j=0;j<A.length;j++)p<(g=this.getStringUnitWidth(A[j],{font:h})*f)&&(p=g);return p!==0&&(v=A.length),{w:p/=m,h:Math.max((v*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var A=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new i(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var A;A=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||r,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===A.lineNumber?(A.x=(d.x||0)+(d.width||0),A.y=d.y||0):d.y+d.height+A.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=h.top,p&&m&&(this.printHeaderRow(A.lineNumber,!0),A.y+=m[0].height)):A.y=d.y+d.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,t===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-f,A.y+f,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+f,{align:"center",baseline:"top",maxWidth:A.width-f-f}):this.text(A.text,A.x+f,A.y+f,{align:"left",baseline:"top",maxWidth:A.width-f-f})),this.internal.__cell__.lastCell=A,this};e.table=function(A,d,f,h,m){if(a.call(this),!f)throw new Error("No data for PDF table.");var p,v,g,y,w=[],j=[],C=[],E={},U={},k=[],F=[],D=(m=m||{}).autoSize||!1,_=m.printHeaders!==!1,G=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,L=m.margins||Object.assign({width:this.getPageWidth()},r),T=typeof m.padding=="number"?m.padding:3,J=m.headerBackgroundColor||"#c8c8c8",R=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=R,this.setFontSize(G),h==null)j=w=Object.keys(f[0]),C=w.map(function(){return"left"});else if(Array.isArray(h)&&$a(h[0])==="object")for(w=h.map(function(Ae){return Ae.name}),j=h.map(function(Ae){return Ae.prompt||Ae.name||""}),C=h.map(function(Ae){return Ae.align||"left"}),p=0;p<h.length;p+=1)U[h[p].name]=.7499990551181103*h[p].width;else Array.isArray(h)&&typeof h[0]=="string"&&(j=w=h,C=w.map(function(){return"left"}));if(D||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<w.length;p+=1){for(E[y=w[p]]=f.map(function(Ae){return Ae[y]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(j[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=E[y],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)k.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[y]=Math.max.apply(null,k)+T+T,k=[]}if(_){var re={};for(p=0;p<w.length;p+=1)re[w[p]]={},re[w[p]].text=j[p],re[w[p]].align=C[p];var V=l.call(this,re,U);F=w.map(function(Ae){return new i(A,d,U[Ae],V,re[Ae].text,void 0,re[Ae].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var Y=h.reduce(function(Ae,ee){return Ae[ee.name]=ee.align,Ae},{});for(p=0;p<f.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:f[p]},this);var H=l.call(this,f[p],U);for(g=0;g<w.length;g+=1){var Z=f[p][w[g]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:g,data:Z},this),o.call(this,new i(A,d,U[w[g]],H,Z,p+2,Y[w[g]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=d,this};var l=function(A,d){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(A).map(function(p){var v=A[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/m+f+f},this).reduce(function(p,v){return Math.max(p,v)},0)};e.setTableHeaderRow=function(A){a.call(this),this.internal.__cell__.tableHeaderRow=A},e.printHeaderRow=function(A,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=A;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}})(Ar.API);var v3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},w3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],qy=x3(w3),y3=[100,200,300,400,500,600,700,800,900],eV=x3(y3);function Bw(e){var r=e.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return v3[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof qy[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:r,style:t,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:r,style:[s,t,a].join(" ")}}}function OB(e,r,t,a){var s;for(s=t;s>=0&&s<r.length;s+=a)if(e[r[s]])return e[r[s]];for(s=t;s>=0&&s<r.length;s-=a)if(e[r[s]])return e[r[s]]}var tV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},HB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $B(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function KB(e){return e.trimLeft()}function rV(e,r){for(var t=0;t<e.length;){if(e.charAt(t)===r)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function aV(e){var r=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],e.substring(r[0].length)]}var qp,VB,zB,uf,Wp,qB,WB,GB,Cw=["times"];function YB(e,r,t,a,s){var i=4,o=JB;switch(s){case Ar.API.image_compression.FAST:i=1,o=XB;break;case Ar.API.image_compression.MEDIUM:i=6,o=ZB;break;case Ar.API.image_compression.SLOW:i=9,o=eC}e=(function(A,d,f,h){for(var m,p=A.length/d,v=new Uint8Array(A.length+p),g=[nV,XB,JB,ZB,eC],y=0;y<p;y+=1){var w=y*d,j=A.subarray(w,w+d);if(h)v.set(h(j,f,m),w+y);else{for(var C=g.length,E=[],U=0;U<C;U+=1)E[U]=g[U](j,f,m);var k=iV(E.concat());v.set(E[k],w+y)}m=j}return v})(e,r,Math.ceil(t*a/8),o);var l=Ty(e,{level:i});return Ar.API.__addimage__.arrayBufferToBinaryString(l)}function nV(e){var r=Array.apply([],e);return r.unshift(0),r}function XB(e,r){var t=e.length,a=[];a[0]=1;for(var s=0;s<t;s+=1){var i=e[s-r]||0;a[s+1]=e[s]-i+256&255}return a}function JB(e,r,t){var a=e.length,s=[];s[0]=2;for(var i=0;i<a;i+=1){var o=t&&t[i]||0;s[i+1]=e[i]-o+256&255}return s}function ZB(e,r,t){var a=e.length,s=[];s[0]=3;for(var i=0;i<a;i+=1){var o=e[i-r]||0,l=t&&t[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function eC(e,r,t){var a=e.length,s=[];s[0]=4;for(var i=0;i<a;i+=1){var o=sV(e[i-r]||0,t&&t[i]||0,t&&t[i-r]||0);s[i+1]=e[i]-o+256&255}return s}function sV(e,r,t){if(e===r&&r===t)return e;var a=Math.abs(r-t),s=Math.abs(e-t),i=Math.abs(e+r-t-t);return a<=s&&a<=i?e:s<=i?r:t}function iV(e){var r=e.map(function(t){return t.reduce(function(a,s){return a+Math.abs(s)},0)});return r.indexOf(Math.min.apply(null,r))}function Sw(e,r,t){var a=r*t,s=Math.floor(a/8),i=16-(a-8*s+t),o=(1<<t)-1;return b3(e,s)>>i&o}function tC(e,r,t,a){var s=t*a,i=Math.floor(s/8),o=16-(s-8*i+a),l=(1<<a)-1,A=(r&l)<<o;(function(d,f,h){if(f+1<d.byteLength)d.setUint16(f,h,!1);else{var m=h>>8&255;d.setUint8(f,m)}})(e,i,b3(e,i)&~(l<<o)&65535|A)}function b3(e,r){return r+1<e.byteLength?e.getUint16(r,!1):e.getUint8(r)<<8}function oV(e){var r=0;if(e[r++]!==71||e[r++]!==73||e[r++]!==70||e[r++]!==56||(e[r++]+1&253)!=56||e[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[r++]|e[r++]<<8,a=e[r++]|e[r++]<<8,s=e[r++],i=s>>7,o=1<<1+(7&s);e[r++],e[r++];var l=null,A=null;i&&(l=r,A=o,r+=3*o);var d=!0,f=[],h=0,m=null,p=0,v=null;for(this.width=t,this.height=a;d&&r<e.length;)switch(e[r++]){case 33:switch(e[r++]){case 255:if(e[r]!==11||e[r+1]==78&&e[r+2]==69&&e[r+3]==84&&e[r+4]==83&&e[r+5]==67&&e[r+6]==65&&e[r+7]==80&&e[r+8]==69&&e[r+9]==50&&e[r+10]==46&&e[r+11]==48&&e[r+12]==3&&e[r+13]==1&&e[r+16]==0)r+=14,v=e[r++]|e[r++]<<8,r++;else for(r+=12;;){if(!((L=e[r++])>=0))throw Error("Invalid block size");if(L===0)break;r+=L}break;case 249:if(e[r++]!==4||e[r+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[r++];h=e[r++]|e[r++]<<8,m=e[r++],1&g||(m=null),p=g>>2&7,r++;break;case 254:for(;;){if(!((L=e[r++])>=0))throw Error("Invalid block size");if(L===0)break;r+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[r-1].toString(16))}break;case 44:var y=e[r++]|e[r++]<<8,w=e[r++]|e[r++]<<8,j=e[r++]|e[r++]<<8,C=e[r++]|e[r++]<<8,E=e[r++],U=E>>6&1,k=1<<1+(7&E),F=l,D=A,_=!1;E>>7&&(_=!0,F=r,D=k,r+=3*k);var G=r;for(r++;;){var L;if(!((L=e[r++])>=0))throw Error("Invalid block size");if(L===0)break;r+=L}f.push({x:y,y:w,width:j,height:C,has_local_palette:_,palette_offset:F,palette_size:D,data_offset:G,data_length:r-G,transparent_index:m,interlaced:!!U,delay:h,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[r-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function(T){if(T<0||T>=f.length)throw new Error("Frame index out of range.");return f[T]},this.decodeAndBlitFrameBGRA=function(T,J){var R=this.frameInfo(T),re=R.width*R.height,V=new Uint8Array(re);rC(e,R.data_offset,V,re);var Y=R.palette_offset,H=R.transparent_index;H===null&&(H=256);var Z=R.width,Ae=t-Z,ee=Z,Q=4*(R.y*t+R.x),q=4*((R.y+R.height)*t+R.x),$=Q,X=4*Ae;R.interlaced===!0&&(X+=4*t*7);for(var te=8,K=0,z=V.length;K<z;++K){var se=V[K];if(ee===0&&(ee=Z,($+=X)>=q&&(X=4*Ae+4*t*(te-1),$=Q+(Z+Ae)*(te<<1),te>>=1)),se===H)$+=4;else{var fe=e[Y+3*se],be=e[Y+3*se+1],Be=e[Y+3*se+2];J[$++]=Be,J[$++]=be,J[$++]=fe,J[$++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(T,J){var R=this.frameInfo(T),re=R.width*R.height,V=new Uint8Array(re);rC(e,R.data_offset,V,re);var Y=R.palette_offset,H=R.transparent_index;H===null&&(H=256);var Z=R.width,Ae=t-Z,ee=Z,Q=4*(R.y*t+R.x),q=4*((R.y+R.height)*t+R.x),$=Q,X=4*Ae;R.interlaced===!0&&(X+=4*t*7);for(var te=8,K=0,z=V.length;K<z;++K){var se=V[K];if(ee===0&&(ee=Z,($+=X)>=q&&(X=4*Ae+4*t*(te-1),$=Q+(Z+Ae)*(te<<1),te>>=1)),se===H)$+=4;else{var fe=e[Y+3*se],be=e[Y+3*se+1],Be=e[Y+3*se+2];J[$++]=fe,J[$++]=be,J[$++]=Be,J[$++]=255}--ee}}}function rC(e,r,t,a){for(var s=e[r++],i=1<<s,o=i+1,l=o+1,A=s+1,d=(1<<A)-1,f=0,h=0,m=0,p=e[r++],v=new Int32Array(4096),g=null;;){for(;f<16&&p!==0;)h|=e[r++]<<f,f+=8,p===1?p=e[r++]:--p;if(f<A)break;var y=h&d;if(h>>=A,f-=A,y!==i){if(y===o)break;for(var w=y<l?y:g,j=0,C=w;C>i;)C=v[C]>>8,++j;var E=C;if(m+j+(w!==y?1:0)>a)return void en.log("Warning, gif stream longer than expected.");t[m++]=E;var U=m+=j;for(w!==y&&(t[m++]=E),C=w;j--;)C=v[C],t[--U]=255&C,C>>=8;g!==null&&l<4096&&(v[l++]=g<<8|E,l>=d+1&&A<12&&(++A,d=d<<1|1)),g=y}else l=o+1,d=(1<<(A=s+1))-1,g=null}return m!==a&&en.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _w(e){var r,t,a,s,i,o=Math.floor,l=new Array(64),A=new Array(64),d=new Array(64),f=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),v=new Array(64),g=[],y=0,w=7,j=new Array(64),C=new Array(64),E=new Array(64),U=new Array(256),k=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(Q,q){for(var $=0,X=0,te=new Array,K=1;K<=16;K++){for(var z=1;z<=Q[K];z++)te[q[X]]=[],te[q[X]][0]=$,te[q[X]][1]=K,X++,$++;$*=2}return te}function Y(Q){for(var q=Q[0],$=Q[1]-1;$>=0;)q&1<<$&&(y|=1<<w),$--,--w<0&&(y==255?(H(255),H(0)):H(y),w=7,y=0)}function H(Q){g.push(Q)}function Z(Q){H(Q>>8&255),H(255&Q)}function Ae(Q,q,$,X,te){for(var K,z=te[0],se=te[240],fe=(function(Ee,dt){var ct,Wt,Et,Ut,Mt,Gt,Lt,_t,wt,Bt,St=0;for(wt=0;wt<8;++wt){ct=Ee[St],Wt=Ee[St+1],Et=Ee[St+2],Ut=Ee[St+3],Mt=Ee[St+4],Gt=Ee[St+5],Lt=Ee[St+6];var Na=ct+(_t=Ee[St+7]),Hr=ct-_t,Yt=Wt+Lt,Nr=Wt-Lt,la=Et+Gt,yt=Et-Gt,yr=Ut+Mt,ur=Ut-Mt,Ba=Na+yr,ka=Na-yr,Ze=Yt+la,Ye=Yt-la;Ee[St]=Ba+Ze,Ee[St+4]=Ba-Ze;var nt=.707106781*(Ye+ka);Ee[St+2]=ka+nt,Ee[St+6]=ka-nt;var Er=.382683433*((Ba=ur+yt)-(Ye=Nr+Hr)),vt=.5411961*Ba+Er,ar=1.306562965*Ye+Er,ca=.707106781*(Ze=yt+Nr),tr=Hr+ca,Bn=Hr-ca;Ee[St+5]=Bn+vt,Ee[St+3]=Bn-vt,Ee[St+1]=tr+ar,Ee[St+7]=tr-ar,St+=8}for(St=0,wt=0;wt<8;++wt){ct=Ee[St],Wt=Ee[St+8],Et=Ee[St+16],Ut=Ee[St+24],Mt=Ee[St+32],Gt=Ee[St+40],Lt=Ee[St+48];var gs=ct+(_t=Ee[St+56]),mn=ct-_t,ss=Wt+Lt,ut=Wt-Lt,za=Et+Gt,Xa=Et-Gt,js=Ut+Mt,fi=Ut-Mt,Ja=gs+js,He=gs-js,Je=ss+za,Ct=ss-za;Ee[St]=Ja+Je,Ee[St+32]=Ja-Je;var st=.707106781*(Ct+He);Ee[St+16]=He+st,Ee[St+48]=He-st;var Tt=.382683433*((Ja=fi+Xa)-(Ct=ut+mn)),mr=.5411961*Ja+Tt,Ot=1.306562965*Ct+Tt,Dr=.707106781*(Je=Xa+ut),$r=mn+Dr,Vt=mn-Dr;Ee[St+40]=Vt+mr,Ee[St+24]=Vt-mr,Ee[St+8]=$r+Ot,Ee[St+56]=$r-Ot,St++}for(wt=0;wt<64;++wt)Bt=Ee[wt]*dt[wt],p[wt]=Bt>0?Bt+.5|0:Bt-.5|0;return p})(Q,q),be=0;be<64;++be)v[F[be]]=fe[be];var Be=v[0]-$;$=v[0],Be==0?Y(X[0]):(Y(X[m[K=32767+Be]]),Y(h[K]));for(var Qe=63;Qe>0&&v[Qe]==0;)Qe--;if(Qe==0)return Y(z),$;for(var xe,ie=1;ie<=Qe;){for(var at=ie;v[ie]==0&&ie<=Qe;)++ie;var gt=ie-at;if(gt>=16){xe=gt>>4;for(var it=1;it<=xe;++it)Y(se);gt&=15}K=32767+v[ie],Y(te[(gt<<4)+m[K]]),Y(h[K]),ie++}return Qe!=63&&Y(z),$}function ee(Q){Q=Math.min(Math.max(Q,1),100),i!=Q&&((function(q){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var te=o(($[X]*q+50)/100);te=Math.min(Math.max(te,1),255),l[F[X]]=te}for(var K=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],z=0;z<64;z++){var se=o((K[z]*q+50)/100);se=Math.min(Math.max(se,1),255),A[F[z]]=se}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,Be=0;Be<8;Be++)for(var Qe=0;Qe<8;Qe++)d[be]=1/(l[F[be]]*fe[Be]*fe[Qe]*8),f[be]=1/(A[F[be]]*fe[Be]*fe[Qe]*8),be++})(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),i=Q)}this.encode=function(Q,q){q&&ee(q),g=new Array,y=0,w=7,Z(65496),Z(65504),Z(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),Z(1),Z(1),H(0),H(0),(function(){Z(65499),Z(132),H(0);for(var Wt=0;Wt<64;Wt++)H(l[Wt]);H(1);for(var Et=0;Et<64;Et++)H(A[Et])})(),(function(Wt,Et){Z(65472),Z(17),H(8),Z(Et),Z(Wt),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)})(Q.width,Q.height),(function(){Z(65476),Z(418),H(0);for(var Wt=0;Wt<16;Wt++)H(D[Wt+1]);for(var Et=0;Et<=11;Et++)H(_[Et]);H(16);for(var Ut=0;Ut<16;Ut++)H(G[Ut+1]);for(var Mt=0;Mt<=161;Mt++)H(L[Mt]);H(1);for(var Gt=0;Gt<16;Gt++)H(T[Gt+1]);for(var Lt=0;Lt<=11;Lt++)H(J[Lt]);H(17);for(var _t=0;_t<16;_t++)H(R[_t+1]);for(var wt=0;wt<=161;wt++)H(re[wt])})(),Z(65498),Z(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var $=0,X=0,te=0;y=0,w=7,this.encode.displayName="_encode_";for(var K,z,se,fe,be,Be,Qe,xe,ie,at=Q.data,gt=Q.width,it=Q.height,Ee=4*gt,dt=0;dt<it;){for(K=0;K<Ee;){for(be=Ee*dt+K,Qe=-1,xe=0,ie=0;ie<64;ie++)Be=be+(xe=ie>>3)*Ee+(Qe=4*(7&ie)),dt+xe>=it&&(Be-=Ee*(dt+1+xe-it)),K+Qe>=Ee&&(Be-=K+Qe-Ee+4),z=at[Be++],se=at[Be++],fe=at[Be++],j[ie]=(k[z]+k[se+256|0]+k[fe+512|0]>>16)-128,C[ie]=(k[z+768|0]+k[se+1024|0]+k[fe+1280|0]>>16)-128,E[ie]=(k[z+1280|0]+k[se+1536|0]+k[fe+1792|0]>>16)-128;$=Ae(j,d,$,r,a),X=Ae(C,f,X,t,s),te=Ae(E,f,te,t,s),K+=32}dt+=8}if(w>=0){var ct=[];ct[1]=w+1,ct[0]=(1<<w+1)-1,Y(ct)}return Z(65497),new Uint8Array(g)},e=e||50,(function(){for(var Q=String.fromCharCode,q=0;q<256;q++)U[q]=Q(q)})(),r=V(D,_),t=V(T,J),a=V(G,L),s=V(R,re),(function(){for(var Q=1,q=2,$=1;$<=15;$++){for(var X=Q;X<q;X++)m[32767+X]=$,h[32767+X]=[],h[32767+X][1]=$,h[32767+X][0]=X;for(var te=-(q-1);te<=-Q;te++)m[32767+te]=$,h[32767+te]=[],h[32767+te][1]=$,h[32767+te][0]=q-1+te;Q<<=1,q<<=1}})(),(function(){for(var Q=0;Q<256;Q++)k[Q]=19595*Q,k[Q+256|0]=38470*Q,k[Q+512|0]=7471*Q+32768,k[Q+768|0]=-11059*Q,k[Q+1024|0]=-21709*Q,k[Q+1280|0]=32768*Q+8421375,k[Q+1536|0]=-27439*Q,k[Q+1792|0]=-5329*Q})(),ee(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ml(e,r){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function aC(e){function r(_){if(!_)throw Error("assert :P")}function t(_,G,L){for(var T=0;4>T;T++)if(_[G+T]!=L.charCodeAt(T))return!0;return!1}function a(_,G,L,T,J){for(var R=0;R<J;R++)_[G+R]=L[T+R]}function s(_,G,L,T){for(var J=0;J<T;J++)_[G+J]=L}function i(_){return new Int32Array(_)}function o(_,G){for(var L=[],T=0;T<_;T++)L.push(new G);return L}function l(_,G){var L=[];return(function T(J,R,re){for(var V=re[R],Y=0;Y<V&&(J.push(re.length>R+1?[]:new G),!(re.length<R+1));Y++)T(J[Y],R+1,re)})(L,0,_),L}var A=function(){var _=this;function G(N,S){for(var M=1<<S-1>>>0;N&M;)M>>>=1;return M?(N&M-1)+M:N}function L(N,S,M,W,ae){r(!(W%M));do N[S+(W-=M)]=ae;while(0<W)}function T(N,S,M,W,ae){if(r(2328>=ae),512>=ae)var le=i(512);else if((le=i(ae))==null)return 0;return(function(ce,de,ue,he,Ne,Le){var me,Ce,De=de,We=1<<ue,Pe=i(16),$e=i(16);for(r(Ne!=0),r(he!=null),r(ce!=null),r(0<ue),Ce=0;Ce<Ne;++Ce){if(15<he[Ce])return 0;++Pe[he[Ce]]}if(Pe[0]==Ne)return 0;for($e[1]=0,me=1;15>me;++me){if(Pe[me]>1<<me)return 0;$e[me+1]=$e[me]+Pe[me]}for(Ce=0;Ce<Ne;++Ce)me=he[Ce],0<he[Ce]&&(Le[$e[me]++]=Ce);if($e[15]==1)return(he=new J).g=0,he.value=Le[0],L(ce,De,1,We,he),We;var ze,et=-1,tt=We-1,sr=0,Ht=1,Lr=1,Jt=1<<ue;for(Ce=0,me=1,Ne=2;me<=ue;++me,Ne<<=1){if(Ht+=Lr<<=1,0>(Lr-=Pe[me]))return 0;for(;0<Pe[me];--Pe[me])(he=new J).g=me,he.value=Le[Ce++],L(ce,De+sr,Ne,Jt,he),sr=G(sr,me)}for(me=ue+1,Ne=2;15>=me;++me,Ne<<=1){if(Ht+=Lr<<=1,0>(Lr-=Pe[me]))return 0;for(;0<Pe[me];--Pe[me]){if(he=new J,(sr&tt)!=et){for(De+=Jt,ze=1<<(et=me)-ue;15>et&&!(0>=(ze-=Pe[et]));)++et,ze<<=1;We+=Jt=1<<(ze=et-ue),ce[de+(et=sr&tt)].g=ze+ue,ce[de+et].value=De-de-et}he.g=me-ue,he.value=Le[Ce++],L(ce,De+(sr>>ue),Ne,Jt,he),sr=G(sr,me)}}return Ht!=2*$e[15]-1?0:We})(N,S,M,W,ae,le)}function J(){this.value=this.g=0}function R(){this.value=this.g=0}function re(){this.G=o(5,J),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ii,R)}function V(N,S,M,W){r(N!=null),r(S!=null),r(2147483648>W),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=S,N.pa=M,N.Jd=S,N.Yc=M+W,N.Zc=4<=W?M+W-4+1:M,z(N)}function Y(N,S){for(var M=0;0<S--;)M|=fe(N,128)<<S;return M}function H(N,S){var M=Y(N,S);return se(N)?-M:M}function Z(N,S,M,W){var ae,le=0;for(r(N!=null),r(S!=null),r(4294967288>W),N.Sb=W,N.Ra=0,N.u=0,N.h=0,4<W&&(W=4),ae=0;ae<W;++ae)le+=S[M+ae]<<8*ae;N.Ra=le,N.bb=W,N.oa=S,N.pa=M}function Ae(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Ll-8>>>0,++N.bb,N.u-=8;X(N)&&(N.h=1,N.u=0)}function ee(N,S){if(r(0<=S),!N.h&&S<=gi){var M=$(N)&pi[S];return N.u+=S,Ae(N),M}return N.h=1,N.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(N){return N.Ra>>>(N.u&Ll-1)>>>0}function X(N){return r(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Ll}function te(N,S){N.u=S,N.h=X(N)}function K(N){N.u>=So&&(r(N.u>=So),Ae(N))}function z(N){r(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(r(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function se(N){return Y(N,1)}function fe(N,S){var M=N.Ca;0>N.b&&z(N);var W=N.b,ae=M*S>>>8,le=(N.I>>>W>ae)+0;for(le?(M-=ae,N.I-=ae+1<<W>>>0):M=ae+1,W=M,ae=0;256<=W;)ae+=8,W>>=8;return W=7^ae+tl[W],N.b-=W,N.Ca=(M<<W)-1,le}function be(N,S,M){N[S+0]=M>>24&255,N[S+1]=M>>16&255,N[S+2]=M>>8&255,N[S+3]=255&M}function Be(N,S){return N[S+0]|N[S+1]<<8}function Qe(N,S){return Be(N,S)|N[S+2]<<16}function xe(N,S){return Be(N,S)|Be(N,S+2)<<16}function ie(N,S){var M=1<<S;return r(N!=null),r(0<S),N.X=i(M),N.X==null?0:(N.Mb=32-S,N.Xa=S,1)}function at(N,S){r(N!=null),r(S!=null),r(N.Xa==S.Xa),a(S.X,0,N.X,0,1<<S.Xa)}function gt(){this.X=[],this.Xa=this.Mb=0}function it(N,S,M,W){r(M!=null),r(W!=null);var ae=M[0],le=W[0];return ae==0&&(ae=(N*le+S/2)/S),le==0&&(le=(S*ae+N/2)/N),0>=ae||0>=le?0:(M[0]=ae,W[0]=le,1)}function Ee(N,S){return N+(1<<S)-1>>>S}function dt(N,S){return((4278255360&N)+(4278255360&S)>>>0&4278255360)+((16711935&N)+(16711935&S)>>>0&16711935)>>>0}function ct(N,S){_[S]=function(M,W,ae,le,ce,de,ue){var he;for(he=0;he<ce;++he){var Ne=_[N](de[ue+he-1],ae,le+he);de[ue+he]=dt(M[W+he],Ne)}}}function Wt(){this.ud=this.hd=this.jd=0}function Et(N,S){return((4278124286&(N^S))>>>1)+(N&S)>>>0}function Ut(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function Mt(N,S){return Ut(N+(N-S+.5>>1))}function Gt(N,S,M){return Math.abs(S-M)-Math.abs(N-M)}function Lt(N,S,M,W,ae,le,ce){for(W=le[ce-1],M=0;M<ae;++M)le[ce+M]=W=dt(N[S+M],W)}function _t(N,S,M,W,ae){var le;for(le=0;le<M;++le){var ce=N[S+le],de=ce>>8&255,ue=16711935&(ue=(ue=16711935&ce)+((de<<16)+de));W[ae+le]=(4278255360&ce)+ue>>>0}}function wt(N,S){S.jd=255&N,S.hd=N>>8&255,S.ud=N>>16&255}function Bt(N,S,M,W,ae,le){var ce;for(ce=0;ce<W;++ce){var de=S[M+ce],ue=de>>>8,he=de,Ne=255&(Ne=(Ne=de>>>16)+((N.jd<<24>>24)*(ue<<24>>24)>>>5));he=255&(he=(he+=(N.hd<<24>>24)*(ue<<24>>24)>>>5)+((N.ud<<24>>24)*(Ne<<24>>24)>>>5)),ae[le+ce]=(4278255360&de)+(Ne<<16)+he}}function St(N,S,M,W,ae){_[S]=function(le,ce,de,ue,he,Ne,Le,me,Ce){for(ue=Le;ue<me;++ue)for(Le=0;Le<Ce;++Le)he[Ne++]=ae(de[W(le[ce++])])},_[N]=function(le,ce,de,ue,he,Ne,Le){var me=8>>le.b,Ce=le.Ea,De=le.K[0],We=le.w;if(8>me)for(le=(1<<le.b)-1,We=(1<<me)-1;ce<de;++ce){var Pe,$e=0;for(Pe=0;Pe<Ce;++Pe)Pe&le||($e=W(ue[he++])),Ne[Le++]=ae(De[$e&We]),$e>>=me}else _["VP8LMapColor"+M](ue,he,De,We,Ne,Le,ce,de,Ce)}}function Na(N,S,M,W,ae){for(M=S+M;S<M;){var le=N[S++];W[ae++]=le>>16&255,W[ae++]=le>>8&255,W[ae++]=255&le}}function Hr(N,S,M,W,ae){for(M=S+M;S<M;){var le=N[S++];W[ae++]=le>>16&255,W[ae++]=le>>8&255,W[ae++]=255&le,W[ae++]=le>>24&255}}function Yt(N,S,M,W,ae){for(M=S+M;S<M;){var le=(ce=N[S++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;W[ae++]=le,W[ae++]=ce}}function Nr(N,S,M,W,ae){for(M=S+M;S<M;){var le=(ce=N[S++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;W[ae++]=le,W[ae++]=ce}}function la(N,S,M,W,ae){for(M=S+M;S<M;){var le=N[S++];W[ae++]=255&le,W[ae++]=le>>8&255,W[ae++]=le>>16&255}}function yt(N,S,M,W,ae,le){if(le==0)for(M=S+M;S<M;)be(W,((le=N[S++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),ae+=32;else a(W,ae,N,S,M)}function yr(N,S){_[S][0]=_[N+"0"],_[S][1]=_[N+"1"],_[S][2]=_[N+"2"],_[S][3]=_[N+"3"],_[S][4]=_[N+"4"],_[S][5]=_[N+"5"],_[S][6]=_[N+"6"],_[S][7]=_[N+"7"],_[S][8]=_[N+"8"],_[S][9]=_[N+"9"],_[S][10]=_[N+"10"],_[S][11]=_[N+"11"],_[S][12]=_[N+"12"],_[S][13]=_[N+"13"],_[S][14]=_[N+"0"],_[S][15]=_[N+"0"]}function ur(N){return N==EA||N==Rc||N==Id||N==Pd}function Ba(){this.eb=[],this.size=this.A=this.fb=0}function ka(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ze(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ba,this.f.kb=new ka,this.sd=null}function Ye(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Er(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function vt(N,S){var M=N.T,W=S.ba.f.RGBA,ae=W.eb,le=W.fb+N.ka*W.A,ce=Gs[S.ba.S],de=N.y,ue=N.O,he=N.f,Ne=N.N,Le=N.ea,me=N.W,Ce=S.cc,De=S.dc,We=S.Mc,Pe=S.Nc,$e=N.ka,ze=N.ka+N.T,et=N.U,tt=et+1>>1;for($e==0?ce(de,ue,null,null,he,Ne,Le,me,he,Ne,Le,me,ae,le,null,null,et):(ce(S.ec,S.fc,de,ue,Ce,De,We,Pe,he,Ne,Le,me,ae,le-W.A,ae,le,et),++M);$e+2<ze;$e+=2)Ce=he,De=Ne,We=Le,Pe=me,Ne+=N.Rc,me+=N.Rc,le+=2*W.A,ce(de,(ue+=2*N.fa)-N.fa,de,ue,Ce,De,We,Pe,he,Ne,Le,me,ae,le-W.A,ae,le,et);return ue+=N.fa,N.j+ze<N.o?(a(S.ec,S.fc,de,ue,et),a(S.cc,S.dc,he,Ne,tt),a(S.Mc,S.Nc,Le,me,tt),M--):1&ze||ce(de,ue,null,null,he,Ne,Le,me,he,Ne,Le,me,ae,le+W.A,null,null,et),M}function ar(N,S,M){var W=N.F,ae=[N.J];if(W!=null){var le=N.U,ce=S.ba.S,de=ce==Ld||ce==Id;S=S.ba.f.RGBA;var ue=[0],he=N.ka;ue[0]=N.T,N.Kb&&(he==0?--ue[0]:(--he,ae[0]-=N.width),N.j+N.ka+N.T==N.o&&(ue[0]=N.o-N.j-he));var Ne=S.eb;he=S.fb+he*S.A,N=Dd(W,ae[0],N.width,le,ue,Ne,he+(de?0:3),S.A),r(M==ue),N&&ur(ce)&&Qc(Ne,he,de,le,ue,S.A)}return 0}function ca(N){var S=N.ma,M=S.ba.S,W=11>M,ae=M==Rl||M==Ud||M==Ld||M==Ra||M==12||ur(M);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!bA(S.Oa,N,ae?11:12))return 0;if(ae&&ur(M)&&Iu(),N.da)alert("todo:use_scaling");else{if(W){if(S.Ib=Er,N.Kb){if(M=N.U+1>>1,S.memory=i(N.U+2*M),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+N.U,S.Mc=S.cc,S.Nc=S.dc+M,S.Ib=vt,Iu()}}else alert("todo:EmitYUV");ae&&(S.Jb=ar,W&&Li())}if(W&&!vs){for(N=0;256>N;++N)Ys[N]=89858*(N-128)+ao>>sl,Xs[N]=-22014*(N-128)+ao,UA[N]=-45773*(N-128),Hc[N]=113618*(N-128)+ao>>sl;for(N=_a;N<Ua;++N)S=76283*(N-16)+ao>>sl,$u[N-_a]=gn(S,255),Xm[N-_a]=gn(S+8>>4,15);vs=1}return 1}function tr(N){var S=N.ma,M=N.U,W=N.T;return r(!(1&N.ka)),0>=M||0>=W?0:(M=S.Ib(N,S),S.Jb!=null&&S.Jb(N,S,M),S.Dc+=M,1)}function Bn(N){N.ma.memory=null}function gs(N,S,M,W){return ee(N,8)!=47?0:(S[0]=ee(N,14)+1,M[0]=ee(N,14)+1,W[0]=ee(N,1),ee(N,3)!=0?0:!N.h)}function mn(N,S){if(4>N)return N+1;var M=N-2>>1;return(2+(1&N)<<M)+ee(S,M)+1}function ss(N,S){return 120<S?S-120:1<=(M=((M=Tx[S-1])>>4)*N+(8-(15&M)))?M:1;var M}function ut(N,S,M){var W=$(M),ae=N[S+=255&W].g-8;return 0<ae&&(te(M,M.u+8),W=$(M),S+=N[S].value,S+=W&(1<<ae)-1),te(M,M.u+N[S].g),N[S].value}function za(N,S,M){return M.g+=N.g,M.value+=N.value<<S>>>0,r(8>=M.g),N.g}function Xa(N,S,M){var W=N.xc;return r((S=W==0?0:N.vc[N.md*(M>>W)+(S>>W)])<N.Wb),N.Ya[S]}function js(N,S,M,W){var ae=N.ab,le=N.c*S,ce=N.C;S=ce+S;var de=M,ue=W;for(W=N.Ta,M=N.Ua;0<ae--;){var he=N.gc[ae],Ne=ce,Le=S,me=de,Ce=ue,De=(ue=W,de=M,he.Ea);switch(r(Ne<Le),r(Le<=he.nc),he.hc){case 2:_n(me,Ce,(Le-Ne)*De,ue,de);break;case 0:var We=Ne,Pe=Le,$e=ue,ze=de,et=(Jt=he).Ea;We==0&&(rl(me,Ce,null,null,1,$e,ze),Lt(me,Ce+1,0,0,et-1,$e,ze+1),Ce+=et,ze+=et,++We);for(var tt=1<<Jt.b,sr=tt-1,Ht=Ee(et,Jt.b),Lr=Jt.K,Jt=Jt.w+(We>>Jt.b)*Ht;We<Pe;){var aa=Lr,wn=Jt,Pr=1;for(_o(me,Ce,$e,ze-et,1,$e,ze);Pr<et;){var $t=(Pr&~sr)+tt;$t>et&&($t=et),(0,Uc[aa[wn++]>>8&15])(me,Ce+ +Pr,$e,ze+Pr-et,$t-Pr,$e,ze+Pr),Pr=$t}Ce+=et,ze+=et,++We&sr||(Jt+=Ht)}Le!=he.nc&&a(ue,de-De,ue,de+(Le-Ne-1)*De,De);break;case 1:for(De=me,Pe=Ce,et=(me=he.Ea)-(ze=me&~($e=(Ce=1<<he.b)-1)),We=Ee(me,he.b),tt=he.K,he=he.w+(Ne>>he.b)*We;Ne<Le;){for(sr=tt,Ht=he,Lr=new Wt,Jt=Pe+ze,aa=Pe+me;Pe<Jt;)wt(sr[Ht++],Lr),jA(Lr,De,Pe,Ce,ue,de),Pe+=Ce,de+=Ce;Pe<aa&&(wt(sr[Ht++],Lr),jA(Lr,De,Pe,et,ue,de),Pe+=et,de+=et),++Ne&$e||(he+=We)}break;case 3:if(me==ue&&Ce==de&&0<he.b){for(Pe=ue,me=De=de+(Le-Ne)*De-(ze=(Le-Ne)*Ee(he.Ea,he.b)),Ce=ue,$e=de,We=[],ze=(et=ze)-1;0<=ze;--ze)We[ze]=Ce[$e+ze];for(ze=et-1;0<=ze;--ze)Pe[me+ze]=We[ze];kc(he,Ne,Le,ue,De,ue,de)}else kc(he,Ne,Le,me,Ce,ue,de)}de=W,ue=M}ue!=M&&a(W,M,de,ue,le)}function fi(N,S){var M=N.V,W=N.Ba+N.c*N.C,ae=S-N.C;if(r(S<=N.l.o),r(16>=ae),0<ae){var le=N.l,ce=N.Ta,de=N.Ua,ue=le.width;if(js(N,ae,M,W),ae=de=[de],r((M=N.C)<(W=S)),r(le.v<le.va),W>le.o&&(W=le.o),M<le.j){var he=le.j-M;M=le.j,ae[0]+=he*ue}if(M>=W?M=0:(ae[0]+=4*le.v,le.ka=M-le.j,le.U=le.va-le.v,le.T=W-M,M=1),M){if(de=de[0],11>(M=N.ca).S){var Ne=M.f.RGBA,Le=(W=M.S,ae=le.U,le=le.T,he=Ne.eb,Ne.A),me=le;for(Ne=Ne.fb+N.Ma*Ne.A;0<me--;){var Ce=ce,De=de,We=ae,Pe=he,$e=Ne;switch(W){case Mu:BA(Ce,De,We,Pe,$e);break;case Rl:al(Ce,De,We,Pe,$e);break;case EA:al(Ce,De,We,Pe,$e),Qc(Pe,$e,0,We,1,0);break;case zm:Lc(Ce,De,We,Pe,$e);break;case Ud:yt(Ce,De,We,Pe,$e,1);break;case Rc:yt(Ce,De,We,Pe,$e,1),Qc(Pe,$e,0,We,1,0);break;case Ld:yt(Ce,De,We,Pe,$e,0);break;case Id:yt(Ce,De,We,Pe,$e,0),Qc(Pe,$e,1,We,1,0);break;case Ra:Il(Ce,De,We,Pe,$e);break;case Pd:Il(Ce,De,We,Pe,$e),ih(Pe,$e,We,1,0);break;case Tu:Pl(Ce,De,We,Pe,$e);break;default:r(0)}de+=ue,Ne+=Le}N.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");r(N.Ma<=M.height)}}N.C=S,r(N.C<=N.i)}function Ja(N){var S;if(0<N.ua)return 0;for(S=0;S<N.Wb;++S){var M=N.Ya[S].G,W=N.Ya[S].H;if(0<M[1][W[1]+0].g||0<M[2][W[2]+0].g||0<M[3][W[3]+0].g)return 0}return 1}function He(N,S,M,W,ae,le){if(N.Z!=0){var ce=N.qd,de=N.rd;for(r(Ss[N.Z]!=null);S<M;++S)Ss[N.Z](ce,de,W,ae,W,ae,le),ce=W,de=ae,ae+=le;N.qd=ce,N.rd=de}}function Je(N,S){var M=N.l.ma,W=M.Z==0||M.Z==1?N.l.j:N.C;if(W=N.C<W?W:N.C,r(S<=N.l.o),S>W){var ae=N.l.width,le=M.ca,ce=M.tb+ae*W,de=N.V,ue=N.Ba+N.c*W,he=N.gc;r(N.ab==1),r(he[0].hc==3),to(he[0],W,S,de,ue,le,ce),He(M,W,S,le,ce,ae)}N.C=N.Ma=S}function Ct(N,S,M,W,ae,le,ce){var de=N.$/W,ue=N.$%W,he=N.m,Ne=N.s,Le=M+N.$,me=Le;ae=M+W*ae;var Ce=M+W*le,De=280+Ne.ua,We=N.Pb?de:16777216,Pe=0<Ne.ua?Ne.Wa:null,$e=Ne.wc,ze=Le<Ce?Xa(Ne,ue,de):null;r(N.C<le),r(Ce<=ae);var et=!1;e:for(;;){for(;et||Le<Ce;){var tt=0;if(de>=We){var sr=Le-M;r((We=N).Pb),We.wd=We.m,We.xd=sr,0<We.s.ua&&at(We.s.Wa,We.s.vb),We=de+Hu}if(ue&$e||(ze=Xa(Ne,ue,de)),r(ze!=null),ze.Qb&&(S[Le]=ze.qb,et=!0),!et)if(K(he),ze.jc){tt=he,sr=S;var Ht=Le,Lr=ze.pd[$(tt)&Ii-1];r(ze.jc),256>Lr.g?(te(tt,tt.u+Lr.g),sr[Ht]=Lr.value,tt=0):(te(tt,tt.u+Lr.g-256),r(256<=Lr.value),tt=Lr.value),tt==0&&(et=!0)}else tt=ut(ze.G[0],ze.H[0],he);if(he.h)break;if(et||256>tt){if(!et)if(ze.nd)S[Le]=(ze.qb|tt<<8)>>>0;else{if(K(he),et=ut(ze.G[1],ze.H[1],he),K(he),sr=ut(ze.G[2],ze.H[2],he),Ht=ut(ze.G[3],ze.H[3],he),he.h)break;S[Le]=(Ht<<24|et<<16|tt<<8|sr)>>>0}if(et=!1,++Le,++ue>=W&&(ue=0,++de,ce!=null&&de<=le&&!(de%16)&&ce(N,de),Pe!=null))for(;me<Le;)tt=S[me++],Pe.X[(506832829*tt&4294967295)>>>Pe.Mb]=tt}else if(280>tt){if(tt=mn(tt-256,he),sr=ut(ze.G[4],ze.H[4],he),K(he),sr=ss(W,sr=mn(sr,he)),he.h)break;if(Le-M<sr||ae-Le<tt)break e;for(Ht=0;Ht<tt;++Ht)S[Le+Ht]=S[Le+Ht-sr];for(Le+=tt,ue+=tt;ue>=W;)ue-=W,++de,ce!=null&&de<=le&&!(de%16)&&ce(N,de);if(r(Le<=ae),ue&$e&&(ze=Xa(Ne,ue,de)),Pe!=null)for(;me<Le;)tt=S[me++],Pe.X[(506832829*tt&4294967295)>>>Pe.Mb]=tt}else{if(!(tt<De))break e;for(et=tt-280,r(Pe!=null);me<Le;)tt=S[me++],Pe.X[(506832829*tt&4294967295)>>>Pe.Mb]=tt;tt=Le,r(!(et>>>(sr=Pe).Xa)),S[tt]=sr.X[et],et=!0}et||r(he.h==X(he))}if(N.Pb&&he.h&&Le<ae)r(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&at(N.s.vb,N.s.Wa);else{if(he.h)break e;ce!=null&&ce(N,de>le?le:de),N.a=0,N.$=Le-M}return 1}return N.a=3,0}function st(N){r(N!=null),N.vc=null,N.yc=null,N.Ya=null;var S=N.Wa;S!=null&&(S.X=null),N.vb=null,r(N!=null)}function Tt(){var N=new nr;return N==null?null:(N.a=0,N.xb=kA,yr("Predictor","VP8LPredictors"),yr("Predictor","VP8LPredictors_C"),yr("PredictorAdd","VP8LPredictorsAdd"),yr("PredictorAdd","VP8LPredictorsAdd_C"),_n=_t,jA=Bt,BA=Na,al=Hr,Il=Yt,Pl=Nr,Lc=la,_.VP8LMapColor32b=Eo,_.VP8LMapColor8b=Dc,N)}function mr(N,S,M,W,ae){var le=1,ce=[N],de=[S],ue=W.m,he=W.s,Ne=null,Le=0;e:for(;;){if(M)for(;le&&ee(ue,1);){var me=ce,Ce=de,De=W,We=1,Pe=De.m,$e=De.gc[De.ab],ze=ee(Pe,2);if(De.Oc&1<<ze)le=0;else{switch(De.Oc|=1<<ze,$e.hc=ze,$e.Ea=me[0],$e.nc=Ce[0],$e.K=[null],++De.ab,r(4>=De.ab),ze){case 0:case 1:$e.b=ee(Pe,3)+2,We=mr(Ee($e.Ea,$e.b),Ee($e.nc,$e.b),0,De,$e.K),$e.K=$e.K[0];break;case 3:var et,tt=ee(Pe,8)+1,sr=16<tt?0:4<tt?1:2<tt?2:3;if(me[0]=Ee($e.Ea,sr),$e.b=sr,et=We=mr(tt,1,0,De,$e.K)){var Ht,Lr=tt,Jt=$e,aa=1<<(8>>Jt.b),wn=i(aa);if(wn==null)et=0;else{var Pr=Jt.K[0],$t=Jt.w;for(wn[0]=Jt.K[0][0],Ht=1;Ht<1*Lr;++Ht)wn[Ht]=dt(Pr[$t+Ht],wn[Ht-1]);for(;Ht<4*aa;++Ht)wn[Ht]=0;Jt.K[0]=null,Jt.K[0]=wn,et=1}}We=et;break;case 2:break;default:r(0)}le=We}}if(ce=ce[0],de=de[0],le&&ee(ue,1)&&!(le=1<=(Le=ee(ue,4))&&11>=Le)){W.a=3;break e}var Nt;if(Nt=le)t:{var En,jr,Xr,Wa=W,is=ce,Qn=de,dn=Le,zn=M,os=Wa.m,an=Wa.s,ia=[null],va=1,nn=0,wa=Wm[dn];r:for(;;){if(zn&&ee(os,1)){var yn=ee(os,3)+2,bn=Ee(is,yn),Ma=Ee(Qn,yn),_s=bn*Ma;if(!mr(bn,Ma,0,Wa,ia))break r;for(ia=ia[0],an.xc=yn,En=0;En<_s;++En){var La=ia[En]>>8&65535;ia[En]=La,La>=va&&(va=La+1)}}if(os.h)break r;for(jr=0;5>jr;++jr){var Ta=Mc[jr];!jr&&0<dn&&(Ta+=1<<dn),nn<Ta&&(nn=Ta)}var Rn=o(va*wa,J),ws=va,Js=o(ws,re);if(Js==null)var Fn=null;else r(65536>=ws),Fn=Js;var kn=i(nn);if(Fn==null||kn==null||Rn==null){Wa.a=1;break r}var Es=Rn;for(En=Xr=0;En<va;++En){var Oa=Fn[En],Fs=Oa.G,Ri=Oa.H,no=0,ls=1,Dn=0;for(jr=0;5>jr;++jr){Ta=Mc[jr],Fs[jr]=Es,Ri[jr]=Xr,!jr&&0<dn&&(Ta+=1<<dn);n:{var Ol,ol=Ta,LA=Wa,Do=kn,Zm=Es,xh=Xr,Za=0,so=LA.m,vh=ee(so,1);if(s(Do,0,0,ol),vh){var wh=ee(so,1)+1,Ku=ee(so,1),Vu=ee(so,Ku==0?1:8);Do[Vu]=1,wh==2&&(Do[Vu=ee(so,8)]=1);var Uo=1}else{var sn=i(19),Mn=ee(so,4)+4;if(19<Mn){LA.a=3;var Un=0;break n}for(Ol=0;Ol<Mn;++Ol)sn[Mx[Ol]]=ee(so,3);var IA=void 0,ll=void 0,PA=LA,Vx=sn,qn=ol,zu=Do,Od=0,Lo=PA.m,io=8,xi=o(128,J);a:for(;T(xi,0,7,Vx,19);){if(ee(Lo,1)){var Hd=2+2*ee(Lo,3);if((IA=2+ee(Lo,Hd))>qn)break a}else IA=qn;for(ll=0;ll<qn&&IA--;){K(Lo);var qu=xi[0+(127&$(Lo))];te(Lo,Lo.u+qu.g);var Hl=qu.value;if(16>Hl)zu[ll++]=Hl,Hl!=0&&(io=Hl);else{var ep=Hl==16,yh=Hl-16,tp=Ou[yh],bh=ee(Lo,Qd[yh])+tp;if(ll+bh>qn)break a;for(var rp=ep?io:0;0<bh--;)zu[ll++]=rp}}Od=1;break a}Od||(PA.a=3),Uo=Od}(Uo=Uo&&!so.h)&&(Za=T(Zm,xh,8,Do,ol)),Uo&&Za!=0?Un=Za:(LA.a=3,Un=0)}if(Un==0)break r;if(ls&&qm[jr]==1&&(ls=Es[Xr].g==0),no+=Es[Xr].g,Xr+=Un,3>=jr){var QA,Wu=kn[0];for(QA=1;QA<Ta;++QA)kn[QA]>Wu&&(Wu=kn[QA]);Dn+=Wu}}if(Oa.nd=ls,Oa.Qb=0,ls&&(Oa.qb=(Fs[3][Ri[3]+0].value<<24|Fs[1][Ri[1]+0].value<<16|Fs[2][Ri[2]+0].value)>>>0,no==0&&256>Fs[0][Ri[0]+0].value&&(Oa.Qb=1,Oa.qb+=Fs[0][Ri[0]+0].value<<8)),Oa.jc=!Oa.Qb&&6>Dn,Oa.jc){var $d,vi=Oa;for($d=0;$d<Ii;++$d){var cl=$d,oo=vi.pd[cl],Kc=vi.G[0][vi.H[0]+cl];256<=Kc.value?(oo.g=Kc.g+256,oo.value=Kc.value):(oo.g=0,oo.value=0,cl>>=za(Kc,8,oo),cl>>=za(vi.G[1][vi.H[1]+cl],16,oo),cl>>=za(vi.G[2][vi.H[2]+cl],0,oo),za(vi.G[3][vi.H[3]+cl],24,oo))}}}an.vc=ia,an.Wb=va,an.Ya=Fn,an.yc=Rn,Nt=1;break t}Nt=0}if(!(le=Nt)){W.a=3;break e}if(0<Le){if(he.ua=1<<Le,!ie(he.Wa,Le)){W.a=1,le=0;break e}}else he.ua=0;var Gu=W,Yu=ce,ap=de,Xu=Gu.s,Ju=Xu.xc;if(Gu.c=Yu,Gu.i=ap,Xu.md=Ee(Yu,Ju),Xu.wc=Ju==0?-1:(1<<Ju)-1,M){W.xb=ko;break e}if((Ne=i(ce*de))==null){W.a=1,le=0;break e}le=(le=Ct(W,Ne,0,ce,de,de,null))&&!ue.h;break e}return le?(ae!=null?ae[0]=Ne:(r(Ne==null),r(M)),W.$=0,M||st(he)):st(he),le}function Ot(N,S){var M=N.c*N.i,W=M+S+16*S;return r(N.c<=S),N.V=i(W),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+M+S,1)}function Dr(N,S){var M=N.C,W=S-M,ae=N.V,le=N.Ba+N.c*M;for(r(S<=N.l.o);0<W;){var ce=16<W?16:W,de=N.l.ma,ue=N.l.width,he=ue*ce,Ne=de.ca,Le=de.tb+ue*M,me=N.Ta,Ce=N.Ua;js(N,ce,ae,le),oh(me,Ce,Ne,Le,he),He(de,M,M+ce,Ne,Le,ue),W-=ce,ae+=ce*N.c,M+=ce}r(M==S),N.C=N.Ma=S}function $r(){this.ub=this.yd=this.td=this.Rb=0}function Vt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ur(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function zt(){this.Yb=(function(){var N=[];return(function S(M,W,ae){for(var le=ae[W],ce=0;ce<le&&(M.push(ae.length>W+1?[]:0),!(ae.length<W+1));ce++)S(M[ce],W+1,ae)})(N,0,[3,11]),N})()}function ta(){this.jb=i(3),this.Wc=l([4,8],zt),this.Xc=l([4,17],zt)}function hr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function fr(){this.ld=this.La=this.dd=this.tc=0}function Pt(){this.Na=this.la=0}function Kr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ra(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function tn(){this.uc=this.M=this.Nb=0,this.wa=Array(new fr),this.Y=0,this.ya=Array(new ra),this.aa=0,this.l=new Ca}function rn(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Wo(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new $r,this.Kc=new Vt,this.ed=new hr,this.Qa=new Ur,this.Ic=this.$c=this.Aa=0,this.D=new tn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Q),this.ia=0,this.pb=o(4,Kr),this.Pa=new ta,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rn),this.Hd=0,this.rb=Array(new Pt),this.sb=0,this.wa=Array(new fr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ra),this.L=this.aa=0,this.gd=l([4,2],fr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ca(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Go(){var N=new Wo;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Tc||(Tc=pt)),N}function ln(N,S,M){return N.a==0&&(N.a=S,N.sc=M,N.cb=0),0}function wc(N,S,M){return 3<=M&&N[S+0]==157&&N[S+1]==1&&N[S+2]==42}function yo(N,S){if(N==null)return 0;if(N.a=0,N.sc="OK",S==null)return ln(N,2,"null VP8Io passed to VP8GetHeaders()");var M=S.data,W=S.w,ae=S.ha;if(4>ae)return ln(N,7,"Truncated header.");var le=M[W+0]|M[W+1]<<8|M[W+2]<<16,ce=N.Od;if(ce.Rb=!(1&le),ce.td=le>>1&7,ce.yd=le>>4&1,ce.ub=le>>5,3<ce.td)return ln(N,3,"Incorrect keyframe parameters.");if(!ce.yd)return ln(N,4,"Frame not displayable.");W+=3,ae-=3;var de=N.Kc;if(ce.Rb){if(7>ae)return ln(N,7,"cannot parse picture header");if(!wc(M,W,ae))return ln(N,3,"Bad code word");de.c=16383&(M[W+4]<<8|M[W+3]),de.Td=M[W+4]>>6,de.i=16383&(M[W+6]<<8|M[W+5]),de.Ud=M[W+6]>>6,W+=7,ae-=7,N.za=de.c+15>>4,N.Ub=de.i+15>>4,S.width=de.c,S.height=de.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,s((le=N.Pa).jb,0,255,le.jb.length),r((le=N.Qa)!=null),le.Cb=0,le.Bb=0,le.Fb=1,s(le.Zb,0,0,le.Zb.length),s(le.Lb,0,0,le.Lb)}if(ce.ub>ae)return ln(N,7,"bad partition length");V(le=N.m,M,W,ce.ub),W+=ce.ub,ae-=ce.ub,ce.Rb&&(de.Ld=se(le),de.Kd=se(le)),de=N.Qa;var ue,he=N.Pa;if(r(le!=null),r(de!=null),de.Cb=se(le),de.Cb){if(de.Bb=se(le),se(le)){for(de.Fb=se(le),ue=0;4>ue;++ue)de.Zb[ue]=se(le)?H(le,7):0;for(ue=0;4>ue;++ue)de.Lb[ue]=se(le)?H(le,6):0}if(de.Bb)for(ue=0;3>ue;++ue)he.jb[ue]=se(le)?Y(le,8):255}else de.Bb=0;if(le.Ka)return ln(N,3,"cannot parse segment header");if((de=N.ed).zd=se(le),de.Tb=Y(le,6),de.wb=Y(le,3),de.Pc=se(le),de.Pc&&se(le)){for(he=0;4>he;++he)se(le)&&(de.vd[he]=H(le,6));for(he=0;4>he;++he)se(le)&&(de.od[he]=H(le,6))}if(N.L=de.Tb==0?0:de.zd?1:2,le.Ka)return ln(N,3,"cannot parse filter header");var Ne=ae;if(ae=ue=W,W=ue+Ne,de=Ne,N.Xb=(1<<Y(N.m,2))-1,Ne<3*(he=N.Xb))M=7;else{for(ue+=3*he,de-=3*he,Ne=0;Ne<he;++Ne){var Le=M[ae+0]|M[ae+1]<<8|M[ae+2]<<16;Le>de&&(Le=de),V(N.Jc[+Ne],M,ue,Le),ue+=Le,de-=Le,ae+=3}V(N.Jc[+he],M,ue,de),M=ue<W?0:5}if(M!=0)return ln(N,M,"cannot parse partitions");for(M=Y(ue=N.m,7),ae=se(ue)?H(ue,4):0,W=se(ue)?H(ue,4):0,de=se(ue)?H(ue,4):0,he=se(ue)?H(ue,4):0,ue=se(ue)?H(ue,4):0,Ne=N.Qa,Le=0;4>Le;++Le){if(Ne.Cb){var me=Ne.Zb[Le];Ne.Fb||(me+=M)}else{if(0<Le){N.pb[Le]=N.pb[0];continue}me=M}var Ce=N.pb[Le];Ce.Sc[0]=FA[gn(me+ae,127)],Ce.Sc[1]=Rd[gn(me+0,127)],Ce.Eb[0]=2*FA[gn(me+W,127)],Ce.Eb[1]=101581*Rd[gn(me+de,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=FA[gn(me+he,117)],Ce.Qc[1]=Rd[gn(me+ue,127)],Ce.lc=me+ue}if(!ce.Rb)return ln(N,4,"Not a key frame.");for(se(le),ce=N.Pa,M=0;4>M;++M){for(ae=0;8>ae;++ae)for(W=0;3>W;++W)for(de=0;11>de;++de)he=fe(le,Hx[M][ae][W][de])?Y(le,8):Ym[M][ae][W][de],ce.Wc[M][ae].Yb[W][de]=he;for(ae=0;17>ae;++ae)ce.Xc[M][ae]=ce.Wc[M][mh[ae]]}return N.kc=se(le),N.kc&&(N.Bd=Y(le,8)),N.cb=1}function pt(N,S,M,W,ae,le,ce){var de=S[ae].Yb[M];for(M=0;16>ae;++ae){if(!fe(N,de[M+0]))return ae;for(;!fe(N,de[M+1]);)if(de=S[++ae].Yb[0],M=0,ae==16)return 16;var ue=S[ae+1].Yb;if(fe(N,de[M+2])){var he=N,Ne=0;if(fe(he,(me=de)[(Le=M)+3]))if(fe(he,me[Le+6])){for(de=0,Le=2*(Ne=fe(he,me[Le+8]))+(me=fe(he,me[Le+9+Ne])),Ne=0,me=fh[Le];me[de];++de)Ne+=Ne+fe(he,me[de]);Ne+=3+(8<<Le)}else fe(he,me[Le+7])?(Ne=7+2*fe(he,165),Ne+=fe(he,145)):Ne=5+fe(he,159);else Ne=fe(he,me[Le+4])?3+fe(he,me[Le+5]):2;de=ue[2]}else Ne=1,de=ue[1];ue=ce+hh[ae],0>(he=N).b&&z(he);var Le,me=he.b,Ce=(Le=he.Ca>>1)-(he.I>>me)>>31;--he.b,he.Ca+=Ce,he.Ca|=1,he.I-=(Le+1&Ce)<<me,le[ue]=((Ne^Ce)-Ce)*W[(0<ae)+0]}return 16}function qe(N){var S=N.rb[N.sb-1];S.la=0,S.Na=0,s(N.zc,0,0,N.zc.length),N.ja=0}function Gr(N,S,M,W,ae){ae=N[S+M+32*W]+(ae>>3),N[S+M+32*W]=-256&ae?0>ae?0:255:ae}function bt(N,S,M,W,ae,le){Gr(N,S,0,M,W+ae),Gr(N,S,1,M,W+le),Gr(N,S,2,M,W-le),Gr(N,S,3,M,W-ae)}function sa(N){return(20091*N>>16)+N}function pa(N,S,M,W){var ae,le=0,ce=i(16);for(ae=0;4>ae;++ae){var de=N[S+0]+N[S+8],ue=N[S+0]-N[S+8],he=(35468*N[S+4]>>16)-sa(N[S+12]),Ne=sa(N[S+4])+(35468*N[S+12]>>16);ce[le+0]=de+Ne,ce[le+1]=ue+he,ce[le+2]=ue-he,ce[le+3]=de-Ne,le+=4,S++}for(ae=le=0;4>ae;++ae)de=(N=ce[le+0]+4)+ce[le+8],ue=N-ce[le+8],he=(35468*ce[le+4]>>16)-sa(ce[le+12]),Gr(M,W,0,0,de+(Ne=sa(ce[le+4])+(35468*ce[le+12]>>16))),Gr(M,W,1,0,ue+he),Gr(M,W,2,0,ue-he),Gr(M,W,3,0,de-Ne),le++,W+=32}function Cn(N,S,M,W){var ae=N[S+0]+4,le=35468*N[S+4]>>16,ce=sa(N[S+4]),de=35468*N[S+1]>>16;bt(M,W,0,ae+ce,N=sa(N[S+1]),de),bt(M,W,1,ae+le,N,de),bt(M,W,2,ae-le,N,de),bt(M,W,3,ae-ce,N,de)}function Yr(N,S,M,W,ae){pa(N,S,M,W),ae&&pa(N,S+16,M,W+4)}function cn(N,S,M,W){Ic(N,S+0,M,W,1),Ic(N,S+32,M,W+128,1)}function Sa(N,S,M,W){var ae;for(N=N[S+0]+4,ae=0;4>ae;++ae)for(S=0;4>S;++S)Gr(M,W,S,ae,N)}function Yi(N,S,M,W){N[S+0]&&xa(N,S+0,M,W),N[S+16]&&xa(N,S+16,M,W+4),N[S+32]&&xa(N,S+32,M,W+128),N[S+48]&&xa(N,S+48,M,W+128+4)}function Aa(N,S,M,W){var ae,le=i(16);for(ae=0;4>ae;++ae){var ce=N[S+0+ae]+N[S+12+ae],de=N[S+4+ae]+N[S+8+ae],ue=N[S+4+ae]-N[S+8+ae],he=N[S+0+ae]-N[S+12+ae];le[0+ae]=ce+de,le[8+ae]=ce-de,le[4+ae]=he+ue,le[12+ae]=he-ue}for(ae=0;4>ae;++ae)ce=(N=le[0+4*ae]+3)+le[3+4*ae],de=le[1+4*ae]+le[2+4*ae],ue=le[1+4*ae]-le[2+4*ae],he=N-le[3+4*ae],M[W+0]=ce+de>>3,M[W+16]=he+ue>>3,M[W+32]=ce-de>>3,M[W+48]=he-ue>>3,W+=64}function pn(N,S,M){var W,ae=S-32,le=Ps,ce=255-N[ae-1];for(W=0;W<M;++W){var de,ue=le,he=ce+N[S-1];for(de=0;de<M;++de)N[S+de]=ue[he+N[ae+de]];S+=32}}function gA(N,S){pn(N,S,4)}function bd(N,S){pn(N,S,8)}function ku(N,S){pn(N,S,16)}function Du(N,S){var M;for(M=0;16>M;++M)a(N,S+32*M,N,S-32,16)}function xA(N,S){var M;for(M=16;0<M;--M)s(N,S,N[S-1],16),S+=32}function Yo(N,S,M){var W;for(W=0;16>W;++W)s(S,M+32*W,N,16)}function Xi(N,S){var M,W=16;for(M=0;16>M;++M)W+=N[S-1+32*M]+N[S+M-32];Yo(W>>5,N,S)}function bo(N,S){var M,W=8;for(M=0;16>M;++M)W+=N[S-1+32*M];Yo(W>>4,N,S)}function Vs(N,S){var M,W=8;for(M=0;16>M;++M)W+=N[S+M-32];Yo(W>>4,N,S)}function Ei(N,S){Yo(128,N,S)}function br(N,S,M){return N+2*S+M+2>>2}function yc(N,S){var M,W=S-32;for(W=new Uint8Array([br(N[W-1],N[W+0],N[W+1]),br(N[W+0],N[W+1],N[W+2]),br(N[W+1],N[W+2],N[W+3]),br(N[W+2],N[W+3],N[W+4])]),M=0;4>M;++M)a(N,S+32*M,W,0,W.length)}function No(N,S){var M=N[S-1],W=N[S-1+32],ae=N[S-1+64],le=N[S-1+96];be(N,S+0,16843009*br(N[S-1-32],M,W)),be(N,S+32,16843009*br(M,W,ae)),be(N,S+64,16843009*br(W,ae,le)),be(N,S+96,16843009*br(ae,le,le))}function nh(N,S){var M,W=4;for(M=0;4>M;++M)W+=N[S+M-32]+N[S-1+32*M];for(W>>=3,M=0;4>M;++M)s(N,S+32*M,W,4)}function Uu(N,S){var M=N[S-1+0],W=N[S-1+32],ae=N[S-1+64],le=N[S-1-32],ce=N[S+0-32],de=N[S+1-32],ue=N[S+2-32],he=N[S+3-32];N[S+0+96]=br(W,ae,N[S-1+96]),N[S+1+96]=N[S+0+64]=br(M,W,ae),N[S+2+96]=N[S+1+64]=N[S+0+32]=br(le,M,W),N[S+3+96]=N[S+2+64]=N[S+1+32]=N[S+0+0]=br(ce,le,M),N[S+3+64]=N[S+2+32]=N[S+1+0]=br(de,ce,le),N[S+3+32]=N[S+2+0]=br(ue,de,ce),N[S+3+0]=br(he,ue,de)}function hi(N,S){var M=N[S+1-32],W=N[S+2-32],ae=N[S+3-32],le=N[S+4-32],ce=N[S+5-32],de=N[S+6-32],ue=N[S+7-32];N[S+0+0]=br(N[S+0-32],M,W),N[S+1+0]=N[S+0+32]=br(M,W,ae),N[S+2+0]=N[S+1+32]=N[S+0+64]=br(W,ae,le),N[S+3+0]=N[S+2+32]=N[S+1+64]=N[S+0+96]=br(ae,le,ce),N[S+3+32]=N[S+2+64]=N[S+1+96]=br(le,ce,de),N[S+3+64]=N[S+2+96]=br(ce,de,ue),N[S+3+96]=br(de,ue,ue)}function Xo(N,S){var M=N[S-1+0],W=N[S-1+32],ae=N[S-1+64],le=N[S-1-32],ce=N[S+0-32],de=N[S+1-32],ue=N[S+2-32],he=N[S+3-32];N[S+0+0]=N[S+1+64]=le+ce+1>>1,N[S+1+0]=N[S+2+64]=ce+de+1>>1,N[S+2+0]=N[S+3+64]=de+ue+1>>1,N[S+3+0]=ue+he+1>>1,N[S+0+96]=br(ae,W,M),N[S+0+64]=br(W,M,le),N[S+0+32]=N[S+1+96]=br(M,le,ce),N[S+1+32]=N[S+2+96]=br(le,ce,de),N[S+2+32]=N[S+3+96]=br(ce,de,ue),N[S+3+32]=br(de,ue,he)}function Lu(N,S){var M=N[S+0-32],W=N[S+1-32],ae=N[S+2-32],le=N[S+3-32],ce=N[S+4-32],de=N[S+5-32],ue=N[S+6-32],he=N[S+7-32];N[S+0+0]=M+W+1>>1,N[S+1+0]=N[S+0+64]=W+ae+1>>1,N[S+2+0]=N[S+1+64]=ae+le+1>>1,N[S+3+0]=N[S+2+64]=le+ce+1>>1,N[S+0+32]=br(M,W,ae),N[S+1+32]=N[S+0+96]=br(W,ae,le),N[S+2+32]=N[S+1+96]=br(ae,le,ce),N[S+3+32]=N[S+2+96]=br(le,ce,de),N[S+3+64]=br(ce,de,ue),N[S+3+96]=br(de,ue,he)}function vA(N,S){var M=N[S-1+0],W=N[S-1+32],ae=N[S-1+64],le=N[S-1+96];N[S+0+0]=M+W+1>>1,N[S+2+0]=N[S+0+32]=W+ae+1>>1,N[S+2+32]=N[S+0+64]=ae+le+1>>1,N[S+1+0]=br(M,W,ae),N[S+3+0]=N[S+1+32]=br(W,ae,le),N[S+3+32]=N[S+1+64]=br(ae,le,le),N[S+3+64]=N[S+2+64]=N[S+0+96]=N[S+1+96]=N[S+2+96]=N[S+3+96]=le}function bc(N,S){var M=N[S-1+0],W=N[S-1+32],ae=N[S-1+64],le=N[S-1+96],ce=N[S-1-32],de=N[S+0-32],ue=N[S+1-32],he=N[S+2-32];N[S+0+0]=N[S+2+32]=M+ce+1>>1,N[S+0+32]=N[S+2+64]=W+M+1>>1,N[S+0+64]=N[S+2+96]=ae+W+1>>1,N[S+0+96]=le+ae+1>>1,N[S+3+0]=br(de,ue,he),N[S+2+0]=br(ce,de,ue),N[S+1+0]=N[S+3+32]=br(M,ce,de),N[S+1+32]=N[S+3+64]=br(W,M,ce),N[S+1+64]=N[S+3+96]=br(ae,W,M),N[S+1+96]=br(le,ae,W)}function Nd(N,S){var M;for(M=0;8>M;++M)a(N,S+32*M,N,S-32,8)}function Ji(N,S){var M;for(M=0;8>M;++M)s(N,S,N[S-1],8),S+=32}function jo(N,S,M){var W;for(W=0;8>W;++W)s(S,M+32*W,N,8)}function Zi(N,S){var M,W=8;for(M=0;8>M;++M)W+=N[S+M-32]+N[S-1+32*M];jo(W>>4,N,S)}function wA(N,S){var M,W=4;for(M=0;8>M;++M)W+=N[S+M-32];jo(W>>3,N,S)}function jd(N,S){var M,W=4;for(M=0;8>M;++M)W+=N[S-1+32*M];jo(W>>3,N,S)}function Bd(N,S){jo(128,N,S)}function Jo(N,S,M){var W=N[S-M],ae=N[S+0],le=3*(ae-W)+Fo[1020+N[S-2*M]-N[S+M]],ce=_A[112+(le+4>>3)];N[S-M]=Ps[255+W+_A[112+(le+3>>3)]],N[S+0]=Ps[255+ae-ce]}function Bo(N,S,M,W){var ae=N[S+0],le=N[S+M];return Pi[255+N[S-2*M]-N[S-M]]>W||Pi[255+le-ae]>W}function Nc(N,S,M,W){return 4*Pi[255+N[S-M]-N[S+0]]+Pi[255+N[S-2*M]-N[S+M]]<=W}function jc(N,S,M,W,ae){var le=N[S-3*M],ce=N[S-2*M],de=N[S-M],ue=N[S+0],he=N[S+M],Ne=N[S+2*M],Le=N[S+3*M];return 4*Pi[255+de-ue]+Pi[255+ce-he]>W?0:Pi[255+N[S-4*M]-le]<=ae&&Pi[255+le-ce]<=ae&&Pi[255+ce-de]<=ae&&Pi[255+Le-Ne]<=ae&&Pi[255+Ne-he]<=ae&&Pi[255+he-ue]<=ae}function Fi(N,S,M,W){var ae=2*W+1;for(W=0;16>W;++W)Nc(N,S+W,M,ae)&&Jo(N,S+W,M)}function Zo(N,S,M,W){var ae=2*W+1;for(W=0;16>W;++W)Nc(N,S+W*M,1,ae)&&Jo(N,S+W*M,1)}function Bc(N,S,M,W){var ae;for(ae=3;0<ae;--ae)Fi(N,S+=4*M,M,W)}function Cd(N,S,M,W){var ae;for(ae=3;0<ae;--ae)Zo(N,S+=4,M,W)}function ki(N,S,M,W,ae,le,ce,de){for(le=2*le+1;0<ae--;){if(jc(N,S,M,le,ce))if(Bo(N,S,M,de))Jo(N,S,M);else{var ue=N,he=S,Ne=M,Le=ue[he-2*Ne],me=ue[he-Ne],Ce=ue[he+0],De=ue[he+Ne],We=ue[he+2*Ne],Pe=27*(ze=Fo[1020+3*(Ce-me)+Fo[1020+Le-De]])+63>>7,$e=18*ze+63>>7,ze=9*ze+63>>7;ue[he-3*Ne]=Ps[255+ue[he-3*Ne]+ze],ue[he-2*Ne]=Ps[255+Le+$e],ue[he-Ne]=Ps[255+me+Pe],ue[he+0]=Ps[255+Ce-Pe],ue[he+Ne]=Ps[255+De-$e],ue[he+2*Ne]=Ps[255+We-ze]}S+=W}}function Di(N,S,M,W,ae,le,ce,de){for(le=2*le+1;0<ae--;){if(jc(N,S,M,le,ce))if(Bo(N,S,M,de))Jo(N,S,M);else{var ue=N,he=S,Ne=M,Le=ue[he-Ne],me=ue[he+0],Ce=ue[he+Ne],De=_A[112+(4+(We=3*(me-Le))>>3)],We=_A[112+(We+3>>3)],Pe=De+1>>1;ue[he-2*Ne]=Ps[255+ue[he-2*Ne]+Pe],ue[he-Ne]=Ps[255+Le+We],ue[he+0]=Ps[255+me-De],ue[he+Ne]=Ps[255+Ce-Pe]}S+=W}}function Sd(N,S,M,W,ae,le){ki(N,S,M,1,16,W,ae,le)}function Bs(N,S,M,W,ae,le){ki(N,S,1,M,16,W,ae,le)}function Ui(N,S,M,W,ae,le){var ce;for(ce=3;0<ce;--ce)Di(N,S+=4*M,M,1,16,W,ae,le)}function yA(N,S,M,W,ae,le){var ce;for(ce=3;0<ce;--ce)Di(N,S+=4,1,M,16,W,ae,le)}function I(N,S,M,W,ae,le,ce,de){ki(N,S,ae,1,8,le,ce,de),ki(M,W,ae,1,8,le,ce,de)}function ne(N,S,M,W,ae,le,ce,de){ki(N,S,1,ae,8,le,ce,de),ki(M,W,1,ae,8,le,ce,de)}function pe(N,S,M,W,ae,le,ce,de){Di(N,S+4*ae,ae,1,8,le,ce,de),Di(M,W+4*ae,ae,1,8,le,ce,de)}function ye(N,S,M,W,ae,le,ce,de){Di(N,S+4,1,ae,8,le,ce,de),Di(M,W+4,1,ae,8,le,ce,de)}function _e(){this.ba=new Ze,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xt(){this.ua=0,this.Wa=new gt,this.vb=new gt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new J}function nr(){this.xb=this.a=0,this.l=new Ca,this.ca=new Ze,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xt,this.ab=0,this.gc=o(4,ot),this.Oc=0}function Cr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ca,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sr(N,S,M,W,ae,le,ce){for(N=N==null?0:N[S+0],S=0;S<ce;++S)ae[le+S]=N+M[W+S]&255,N=ae[le+S]}function ga(N,S,M,W,ae,le,ce){var de;if(N==null)Sr(null,null,M,W,ae,le,ce);else for(de=0;de<ce;++de)ae[le+de]=N[S+de]+M[W+de]&255}function An(N,S,M,W,ae,le,ce){if(N==null)Sr(null,null,M,W,ae,le,ce);else{var de,ue=N[S+0],he=ue,Ne=ue;for(de=0;de<ce;++de)he=Ne+(ue=N[S+de])-he,Ne=M[W+de]+(-256&he?0>he?0:255:he)&255,he=ue,ae[le+de]=Ne}}function In(N,S,M,W){var ae=S.width,le=S.o;if(r(N!=null&&S!=null),0>M||0>=W||M+W>le)return null;if(!N.Cc){if(N.ga==null){var ce;if(N.ga=new Cr,(ce=N.ga==null)||(ce=S.width*S.o,r(N.Gb.length==0),N.Gb=i(ce),N.Uc=0,N.Gb==null?ce=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,ce=1),ce=!ce),!ce){ce=N.ga;var de=N.Fa,ue=N.P,he=N.qc,Ne=N.mb,Le=N.nb,me=ue+1,Ce=he-1,De=ce.l;if(r(de!=null&&Ne!=null&&S!=null),Ss[0]=null,Ss[1]=Sr,Ss[2]=ga,Ss[3]=An,ce.ca=Ne,ce.tb=Le,ce.c=S.width,ce.i=S.height,r(0<ce.c&&0<ce.i),1>=he)S=0;else if(ce.$a=3&de[ue+0],ce.Z=de[ue+0]>>2&3,ce.Lc=de[ue+0]>>4&3,ue=de[ue+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||ue)S=0;else if(De.put=tr,De.ac=ca,De.bc=Bn,De.ma=ce,De.width=S.width,De.height=S.height,De.Da=S.Da,De.v=S.v,De.va=S.va,De.j=S.j,De.o=S.o,ce.$a)e:{r(ce.$a==1),S=Tt();t:for(;;){if(S==null){S=0;break e}if(r(ce!=null),ce.mc=S,S.c=ce.c,S.i=ce.i,S.l=ce.l,S.l.ma=ce,S.l.width=ce.c,S.l.height=ce.i,S.a=0,Z(S.m,de,me,Ce),!mr(ce.c,ce.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Ja(S.s)?(ce.ic=1,de=S.c*S.i,S.Ta=null,S.Ua=0,S.V=i(de),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ce.ic=0,S=Ot(S,ce.c)),!S))break t;S=1;break e}ce.mc=null,S=0}else S=Ce>=ce.c*ce.i;ce=!S}if(ce)return null;N.ga.Lc!=1?N.Ga=0:W=le-M}r(N.ga!=null),r(M+W<=le);e:{if(S=(de=N.ga).c,le=de.l.o,de.$a==0){if(me=N.rc,Ce=N.Vc,De=N.Fa,ue=N.P+1+M*S,he=N.mb,Ne=N.nb+M*S,r(ue<=N.P+N.qc),de.Z!=0)for(r(Ss[de.Z]!=null),ce=0;ce<W;++ce)Ss[de.Z](me,Ce,De,ue,he,Ne,S),me=he,Ce=Ne,Ne+=S,ue+=S;else for(ce=0;ce<W;++ce)a(he,Ne,De,ue,S),me=he,Ce=Ne,Ne+=S,ue+=S;N.rc=me,N.Vc=Ce}else{if(r(de.mc!=null),S=M+W,r((ce=de.mc)!=null),r(S<=ce.i),ce.C>=S)S=1;else if(de.ic||Li(),de.ic){de=ce.V,me=ce.Ba,Ce=ce.c;var We=ce.i,Pe=(De=1,ue=ce.$/Ce,he=ce.$%Ce,Ne=ce.m,Le=ce.s,ce.$),$e=Ce*We,ze=Ce*S,et=Le.wc,tt=Pe<ze?Xa(Le,he,ue):null;r(Pe<=$e),r(S<=We),r(Ja(Le));t:for(;;){for(;!Ne.h&&Pe<ze;){if(he&et||(tt=Xa(Le,he,ue)),r(tt!=null),K(Ne),256>(We=ut(tt.G[0],tt.H[0],Ne)))de[me+Pe]=We,++Pe,++he>=Ce&&(he=0,++ue<=S&&!(ue%16)&&Je(ce,ue));else{if(!(280>We)){De=0;break t}We=mn(We-256,Ne);var sr,Ht=ut(tt.G[4],tt.H[4],Ne);if(K(Ne),!(Pe>=(Ht=ss(Ce,Ht=mn(Ht,Ne)))&&$e-Pe>=We)){De=0;break t}for(sr=0;sr<We;++sr)de[me+Pe+sr]=de[me+Pe+sr-Ht];for(Pe+=We,he+=We;he>=Ce;)he-=Ce,++ue<=S&&!(ue%16)&&Je(ce,ue);Pe<ze&&he&et&&(tt=Xa(Le,he,ue))}r(Ne.h==X(Ne))}Je(ce,ue>S?S:ue);break t}!De||Ne.h&&Pe<$e?(De=0,ce.a=Ne.h?5:3):ce.$=Pe,S=De}else S=Ct(ce,ce.V,ce.Ba,ce.c,ce.i,S,Dr);if(!S){W=0;break e}}M+W>=le&&(N.Cc=1),W=1}if(!W)return null;if(N.Cc&&((W=N.ga)!=null&&(W.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+M*ae}function qa(N,S,M,W,ae,le){for(;0<ae--;){var ce,de=N,ue=S+(M?1:0),he=N,Ne=S+(M?0:3);for(ce=0;ce<W;++ce){var Le=he[Ne+4*ce];Le!=255&&(Le*=32897,de[ue+4*ce+0]=de[ue+4*ce+0]*Le>>23,de[ue+4*ce+1]=de[ue+4*ce+1]*Le>>23,de[ue+4*ce+2]=de[ue+4*ce+2]*Le>>23)}S+=le}}function Vn(N,S,M,W,ae){for(;0<W--;){var le;for(le=0;le<M;++le){var ce=N[S+2*le+0],de=15&(he=N[S+2*le+1]),ue=4369*de,he=(240&he|he>>4)*ue>>16;N[S+2*le+0]=(240&ce|ce>>4)*ue>>16&240|(15&ce|ce<<4)*ue>>16>>4&15,N[S+2*le+1]=240&he|de}S+=ae}}function Sn(N,S,M,W,ae,le,ce,de){var ue,he,Ne=255;for(he=0;he<ae;++he){for(ue=0;ue<W;++ue){var Le=N[S+ue];le[ce+4*ue]=Le,Ne&=Le}S+=M,ce+=de}return Ne!=255}function xs(N,S,M,W,ae){var le;for(le=0;le<ae;++le)M[W+le]=N[S+le]>>8}function Li(){Qc=qa,ih=Vn,Dd=Sn,oh=xs}function zs(N,S,M){_[N]=function(W,ae,le,ce,de,ue,he,Ne,Le,me,Ce,De,We,Pe,$e,ze,et){var tt,sr=et-1>>1,Ht=de[ue+0]|he[Ne+0]<<16,Lr=Le[me+0]|Ce[De+0]<<16;r(W!=null);var Jt=3*Ht+Lr+131074>>2;for(S(W[ae+0],255&Jt,Jt>>16,We,Pe),le!=null&&(Jt=3*Lr+Ht+131074>>2,S(le[ce+0],255&Jt,Jt>>16,$e,ze)),tt=1;tt<=sr;++tt){var aa=de[ue+tt]|he[Ne+tt]<<16,wn=Le[me+tt]|Ce[De+tt]<<16,Pr=Ht+aa+Lr+wn+524296,$t=Pr+2*(aa+Lr)>>3;Jt=$t+Ht>>1,Ht=(Pr=Pr+2*(Ht+wn)>>3)+aa>>1,S(W[ae+2*tt-1],255&Jt,Jt>>16,We,Pe+(2*tt-1)*M),S(W[ae+2*tt-0],255&Ht,Ht>>16,We,Pe+(2*tt-0)*M),le!=null&&(Jt=Pr+Lr>>1,Ht=$t+wn>>1,S(le[ce+2*tt-1],255&Jt,Jt>>16,$e,ze+(2*tt-1)*M),S(le[ce+2*tt+0],255&Ht,Ht>>16,$e,ze+(2*tt+0)*M)),Ht=aa,Lr=wn}1&et||(Jt=3*Ht+Lr+131074>>2,S(W[ae+et-1],255&Jt,Jt>>16,We,Pe+(et-1)*M),le!=null&&(Jt=3*Lr+Ht+131074>>2,S(le[ce+et-1],255&Jt,Jt>>16,$e,ze+(et-1)*M)))}}function Iu(){Gs[Mu]=$x,Gs[Rl]=Ml,Gs[zm]=Kx,Gs[Ud]=DA,Gs[Ld]=Oc,Gs[Ra]=Md,Gs[Tu]=ph,Gs[EA]=Ml,Gs[Rc]=DA,Gs[Id]=Oc,Gs[Pd]=Md}function Fl(N){return N&-16384?0>N?0:255:N>>Tl}function Cc(N,S){return Fl((19077*N>>8)+(26149*S>>8)-14234)}function kl(N,S,M){return Fl((19077*N>>8)-(6419*S>>8)-(13320*M>>8)+8708)}function Sc(N,S){return Fl((19077*N>>8)+(33050*S>>8)-17685)}function Dl(N,S,M,W,ae){W[ae+0]=Cc(N,M),W[ae+1]=kl(N,S,M),W[ae+2]=Sc(N,S)}function _c(N,S,M,W,ae){W[ae+0]=Sc(N,S),W[ae+1]=kl(N,S,M),W[ae+2]=Cc(N,M)}function Cs(N,S,M,W,ae){var le=kl(N,S,M);S=le<<3&224|Sc(N,S)>>3,W[ae+0]=248&Cc(N,M)|le>>5,W[ae+1]=S}function Ec(N,S,M,W,ae){var le=240&Sc(N,S)|15;W[ae+0]=240&Cc(N,M)|kl(N,S,M)>>4,W[ae+1]=le}function Fc(N,S,M,W,ae){W[ae+0]=255,Dl(N,S,M,W,ae+1)}function _d(N,S,M,W,ae){_c(N,S,M,W,ae),W[ae+3]=255}function Ed(N,S,M,W,ae){Dl(N,S,M,W,ae),W[ae+3]=255}function gn(N,S){return 0>N?0:N>S?S:N}function eo(N,S,M){_[N]=function(W,ae,le,ce,de,ue,he,Ne,Le){for(var me=Ne+(-2&Le)*M;Ne!=me;)S(W[ae+0],le[ce+0],de[ue+0],he,Ne),S(W[ae+1],le[ce+0],de[ue+0],he,Ne+M),ae+=2,++ce,++ue,Ne+=2*M;1&Le&&S(W[ae+0],le[ce+0],de[ue+0],he,Ne)}}function Co(N,S,M){return M==0?N==0?S==0?6:5:S==0?4:0:M}function Pu(N,S,M,W,ae){switch(N>>>30){case 3:Ic(S,M,W,ae,0);break;case 2:xn(S,M,W,ae);break;case 1:xa(S,M,W,ae)}}function mi(N,S){var M,W,ae=S.M,le=S.Nb,ce=N.oc,de=N.pc+40,ue=N.oc,he=N.pc+584,Ne=N.oc,Le=N.pc+600;for(M=0;16>M;++M)ce[de+32*M-1]=129;for(M=0;8>M;++M)ue[he+32*M-1]=129,Ne[Le+32*M-1]=129;for(0<ae?ce[de-1-32]=ue[he-1-32]=Ne[Le-1-32]=129:(s(ce,de-32-1,127,21),s(ue,he-32-1,127,9),s(Ne,Le-32-1,127,9)),W=0;W<N.za;++W){var me=S.ya[S.aa+W];if(0<W){for(M=-1;16>M;++M)a(ce,de+32*M-4,ce,de+32*M+12,4);for(M=-1;8>M;++M)a(ue,he+32*M-4,ue,he+32*M+4,4),a(Ne,Le+32*M-4,Ne,Le+32*M+4,4)}var Ce=N.Gd,De=N.Hd+W,We=me.ad,Pe=me.Hc;if(0<ae&&(a(ce,de-32,Ce[De].y,0,16),a(ue,he-32,Ce[De].f,0,8),a(Ne,Le-32,Ce[De].ea,0,8)),me.Za){var $e=ce,ze=de-32+16;for(0<ae&&(W>=N.za-1?s($e,ze,Ce[De].y[15],4):a($e,ze,Ce[De+1].y,0,4)),M=0;4>M;M++)$e[ze+128+M]=$e[ze+256+M]=$e[ze+384+M]=$e[ze+0+M];for(M=0;16>M;++M,Pe<<=2)$e=ce,ze=de+gh[M],Qi[me.Ob[M]]($e,ze),Pu(Pe,We,16*+M,$e,ze)}else if($e=Co(W,ae,me.Ob[0]),Qs[$e](ce,de),Pe!=0)for(M=0;16>M;++M,Pe<<=2)Pu(Pe,We,16*+M,ce,de+gh[M]);for(M=me.Gc,$e=Co(W,ae,me.Dd),Ws[$e](ue,he),Ws[$e](Ne,Le),Pe=We,$e=ue,ze=he,255&(me=0|M)&&(170&me?qs(Pe,256,$e,ze):Da(Pe,256,$e,ze)),me=Ne,Pe=Le,255&(M>>=8)&&(170&M?qs(We,320,me,Pe):Da(We,320,me,Pe)),ae<N.Ub-1&&(a(Ce[De].y,0,ce,de+480,16),a(Ce[De].f,0,ue,he+224,8),a(Ce[De].ea,0,Ne,Le+224,8)),M=8*le*N.B,Ce=N.sa,De=N.ta+16*W+16*le*N.R,We=N.qa,me=N.ra+8*W+M,Pe=N.Ha,$e=N.Ia+8*W+M,M=0;16>M;++M)a(Ce,De+M*N.R,ce,de+32*M,16);for(M=0;8>M;++M)a(We,me+M*N.B,ue,he+32*M,8),a(Pe,$e+M*N.B,Ne,Le+32*M,8)}}function Ul(N,S,M,W,ae,le,ce,de,ue){var he=[0],Ne=[0],Le=0,me=ue!=null?ue.kd:0,Ce=ue??new Xe;if(N==null||12>M)return 7;Ce.data=N,Ce.w=S,Ce.ha=M,S=[S],M=[M],Ce.gb=[Ce.gb];e:{var De=S,We=M,Pe=Ce.gb;if(r(N!=null),r(We!=null),r(Pe!=null),Pe[0]=0,12<=We[0]&&!t(N,De[0],"RIFF")){if(t(N,De[0]+8,"WEBP")){Pe=3;break e}var $e=xe(N,De[0]+4);if(12>$e||4294967286<$e){Pe=3;break e}if(me&&$e>We[0]-8){Pe=7;break e}Pe[0]=$e,De[0]+=12,We[0]-=12}Pe=0}if(Pe!=0)return Pe;for($e=0<Ce.gb[0],M=M[0];;){e:{var ze=N;We=S,Pe=M;var et=he,tt=Ne,sr=De=[0];if((Jt=Le=[Le])[0]=0,8>Pe[0])Pe=7;else{if(!t(ze,We[0],"VP8X")){if(xe(ze,We[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var Ht=xe(ze,We[0]+8),Lr=1+Qe(ze,We[0]+12);if(2147483648<=Lr*(ze=1+Qe(ze,We[0]+15))){Pe=3;break e}sr!=null&&(sr[0]=Ht),et!=null&&(et[0]=Lr),tt!=null&&(tt[0]=ze),We[0]+=18,Pe[0]-=18,Jt[0]=1}Pe=0}}if(Le=Le[0],De=De[0],Pe!=0)return Pe;if(We=!!(2&De),!$e&&Le)return 3;if(le!=null&&(le[0]=!!(16&De)),ce!=null&&(ce[0]=We),de!=null&&(de[0]=0),ce=he[0],De=Ne[0],Le&&We&&ue==null){Pe=0;break}if(4>M){Pe=7;break}if($e&&Le||!$e&&!Le&&!t(N,S[0],"ALPH")){M=[M],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{Ht=N,Pe=S,$e=M;var Jt=Ce.gb;et=Ce.na,tt=Ce.P,sr=Ce.Sa,Lr=22,r(Ht!=null),r($e!=null),ze=Pe[0];var aa=$e[0];for(r(et!=null),r(sr!=null),et[0]=null,tt[0]=null,sr[0]=0;;){if(Pe[0]=ze,$e[0]=aa,8>aa){Pe=7;break e}var wn=xe(Ht,ze+4);if(4294967286<wn){Pe=3;break e}var Pr=8+wn+1&-2;if(Lr+=Pr,0<Jt&&Lr>Jt){Pe=3;break e}if(!t(Ht,ze,"VP8 ")||!t(Ht,ze,"VP8L")){Pe=0;break e}if(aa[0]<Pr){Pe=7;break e}t(Ht,ze,"ALPH")||(et[0]=Ht,tt[0]=ze+8,sr[0]=wn),ze+=Pr,aa-=Pr}}if(M=M[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],Pe!=0)break}M=[M],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(Jt=N,Pe=S,$e=M,et=Ce.gb[0],tt=Ce.Ja,sr=Ce.xa,Ht=Pe[0],ze=!t(Jt,Ht,"VP8 "),Lr=!t(Jt,Ht,"VP8L"),r(Jt!=null),r($e!=null),r(tt!=null),r(sr!=null),8>$e[0])Pe=7;else{if(ze||Lr){if(Jt=xe(Jt,Ht+4),12<=et&&Jt>et-12){Pe=3;break e}if(me&&Jt>$e[0]-8){Pe=7;break e}tt[0]=Jt,Pe[0]+=8,$e[0]-=8,sr[0]=Lr}else sr[0]=5<=$e[0]&&Jt[Ht+0]==47&&!(Jt[Ht+4]>>5),tt[0]=$e[0];Pe=0}if(M=M[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],S=S[0],Pe!=0)break;if(4294967286<Ce.Ja)return 3;if(de==null||We||(de[0]=Ce.xa?2:1),ce=[ce],De=[De],Ce.xa){if(5>M){Pe=7;break}de=ce,me=De,We=le,N==null||5>M?N=0:5<=M&&N[S+0]==47&&!(N[S+4]>>5)?($e=[0],Jt=[0],et=[0],Z(tt=new q,N,S,M),gs(tt,$e,Jt,et)?(de!=null&&(de[0]=$e[0]),me!=null&&(me[0]=Jt[0]),We!=null&&(We[0]=et[0]),N=1):N=0):N=0}else{if(10>M){Pe=7;break}de=De,N==null||10>M||!wc(N,S+3,M-3)?N=0:(me=N[S+0]|N[S+1]<<8|N[S+2]<<16,We=16383&(N[S+7]<<8|N[S+6]),N=16383&(N[S+9]<<8|N[S+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Ce.Ja||!We||!N?N=0:(ce&&(ce[0]=We),de&&(de[0]=N),N=1))}if(!N||(ce=ce[0],De=De[0],Le&&(he[0]!=ce||Ne[0]!=De)))return 3;ue!=null&&(ue[0]=Ce,ue.offset=S-ue.w,r(4294967286>S-ue.w),r(ue.offset==ue.ha-M));break}return Pe==0||Pe==7&&Le&&ue==null?(le!=null&&(le[0]|=Ce.na!=null&&0<Ce.na.length),W!=null&&(W[0]=ce),ae!=null&&(ae[0]=De),0):Pe}function bA(N,S,M){var W=S.width,ae=S.height,le=0,ce=0,de=W,ue=ae;if(S.Da=N!=null&&0<N.Da,S.Da&&(de=N.cd,ue=N.bd,le=N.v,ce=N.j,11>M||(le&=-2,ce&=-2),0>le||0>ce||0>=de||0>=ue||le+de>W||ce+ue>ae))return 0;if(S.v=le,S.j=ce,S.va=le+de,S.o=ce+ue,S.U=de,S.T=ue,S.da=N!=null&&0<N.da,S.da){if(!it(de,ue,M=[N.ib],le=[N.hb]))return 0;S.ib=M[0],S.hb=le[0]}return S.ob=N!=null&&N.ob,S.Kb=N==null||!N.Sd,S.da&&(S.ob=S.ib<3*W/4&&S.hb<3*ae/4,S.Kb=0),1}function NA(N){if(N==null)return 2;if(11>N.S){var S=N.f.RGBA;S.fb+=(N.height-1)*S.A,S.A=-S.A}else S=N.f.kb,N=N.height,S.O+=(N-1)*S.fa,S.fa=-S.fa,S.N+=(N-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(N-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(N-1)*S.lb,S.lb=-S.lb);return 0}function el(N,S,M,W){if(W==null||0>=N||0>=S)return 2;if(M!=null){if(M.Da){var ae=M.cd,le=M.bd,ce=-2&M.v,de=-2&M.j;if(0>ce||0>de||0>=ae||0>=le||ce+ae>N||de+le>S)return 2;N=ae,S=le}if(M.da){if(!it(N,S,ae=[M.ib],le=[M.hb]))return 2;N=ae[0],S=le[0]}}W.width=N,W.height=S;e:{var ue=W.width,he=W.height;if(N=W.S,0>=ue||0>=he||!(N>=Mu&&13>N))N=2;else{if(0>=W.Rd&&W.sd==null){ce=le=ae=S=0;var Ne=(de=ue*Td[N])*he;if(11>N||(le=(he+1)/2*(S=(ue+1)/2),N==12&&(ce=(ae=ue)*he)),(he=i(Ne+2*le+ce))==null){N=1;break e}W.sd=he,11>N?((ue=W.f.RGBA).eb=he,ue.fb=0,ue.A=de,ue.size=Ne):((ue=W.f.kb).y=he,ue.O=0,ue.fa=de,ue.Fd=Ne,ue.f=he,ue.N=0+Ne,ue.Ab=S,ue.Cd=le,ue.ea=he,ue.W=0+Ne+le,ue.Db=S,ue.Ed=le,N==12&&(ue.F=he,ue.J=0+Ne+2*le),ue.Tc=ce,ue.lb=ae)}if(S=1,ae=W.S,le=W.width,ce=W.height,ae>=Mu&&13>ae)if(11>ae)N=W.f.RGBA,S&=(de=Math.abs(N.A))*(ce-1)+le<=N.size,S&=de>=le*Td[ae],S&=N.eb!=null;else{N=W.f.kb,de=(le+1)/2,Ne=(ce+1)/2,ue=Math.abs(N.fa),he=Math.abs(N.Ab);var Le=Math.abs(N.Db),me=Math.abs(N.lb),Ce=me*(ce-1)+le;S&=ue*(ce-1)+le<=N.Fd,S&=he*(Ne-1)+de<=N.Cd,S=(S&=Le*(Ne-1)+de<=N.Ed)&ue>=le&he>=de&Le>=de,S&=N.y!=null,S&=N.f!=null,S&=N.ea!=null,ae==12&&(S&=me>=le,S&=Ce<=N.Tc,S&=N.F!=null)}else S=0;N=S?0:2}}return N!=0||M!=null&&M.fd&&(N=NA(W)),N}var Ii=64,pi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gi=24,Ll=32,So=8,tl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ct("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(N){return N},_.Predictor2=function(N,S,M){return S[M+0]},_.Predictor3=function(N,S,M){return S[M+1]},_.Predictor4=function(N,S,M){return S[M-1]},_.Predictor5=function(N,S,M){return Et(Et(N,S[M+1]),S[M+0])},_.Predictor6=function(N,S,M){return Et(N,S[M-1])},_.Predictor7=function(N,S,M){return Et(N,S[M+0])},_.Predictor8=function(N,S,M){return Et(S[M-1],S[M+0])},_.Predictor9=function(N,S,M){return Et(S[M+0],S[M+1])},_.Predictor10=function(N,S,M){return Et(Et(N,S[M-1]),Et(S[M+0],S[M+1]))},_.Predictor11=function(N,S,M){var W=S[M+0];return 0>=Gt(W>>24&255,N>>24&255,(S=S[M-1])>>24&255)+Gt(W>>16&255,N>>16&255,S>>16&255)+Gt(W>>8&255,N>>8&255,S>>8&255)+Gt(255&W,255&N,255&S)?W:N},_.Predictor12=function(N,S,M){var W=S[M+0];return(Ut((N>>24&255)+(W>>24&255)-((S=S[M-1])>>24&255))<<24|Ut((N>>16&255)+(W>>16&255)-(S>>16&255))<<16|Ut((N>>8&255)+(W>>8&255)-(S>>8&255))<<8|Ut((255&N)+(255&W)-(255&S)))>>>0},_.Predictor13=function(N,S,M){var W=S[M-1];return(Mt((N=Et(N,S[M+0]))>>24&255,W>>24&255)<<24|Mt(N>>16&255,W>>16&255)<<16|Mt(N>>8&255,W>>8&255)<<8|Mt(255&N,255&W))>>>0};var rl=_.PredictorAdd0;_.PredictorAdd1=Lt,ct("Predictor2","PredictorAdd2"),ct("Predictor3","PredictorAdd3"),ct("Predictor4","PredictorAdd4"),ct("Predictor5","PredictorAdd5"),ct("Predictor6","PredictorAdd6"),ct("Predictor7","PredictorAdd7"),ct("Predictor8","PredictorAdd8"),ct("Predictor9","PredictorAdd9"),ct("Predictor10","PredictorAdd10"),ct("Predictor11","PredictorAdd11"),ct("Predictor12","PredictorAdd12"),ct("Predictor13","PredictorAdd13");var _o=_.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var _n,kc=_.ColorIndexInverseTransform,Eo=_.MapARGB,to=_.VP8LColorIndexInverseTransformAlpha,Dc=_.MapAlpha,Uc=_.VP8LPredictorsAdd=[];Uc.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var jA,BA,al,Il,Pl,Lc,Ql,Ic,xn,qs,xa,Da,vn,Pn,ro,Fd,CA,nl,Qu,SA,Ru,sh,kd,Pc,Qc,ih,Dd,oh,lh=i(511),ch=i(2041),Ah=i(225),dh=i(767),uh=0,Fo=ch,_A=Ah,Ps=dh,Pi=lh,Mu=0,Rl=1,zm=2,Ud=3,Ld=4,Ra=5,Tu=6,EA=7,Rc=8,Id=9,Pd=10,Qd=[2,3,7],Ou=[3,3,11],Mc=[280,256,256,256,40],qm=[0,1,1,1,0],Mx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Tx=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Hu=8,FA=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Tc=null,fh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ym=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ox=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qs=[],Qi=[],Ws=[],ko=1,kA=2,Ss=[],Gs=[];zs("UpsampleRgbLinePair",Dl,3),zs("UpsampleBgrLinePair",_c,3),zs("UpsampleRgbaLinePair",Ed,4),zs("UpsampleBgraLinePair",_d,4),zs("UpsampleArgbLinePair",Fc,4),zs("UpsampleRgba4444LinePair",Ec,2),zs("UpsampleRgb565LinePair",Cs,2);var $x=_.UpsampleRgbLinePair,Kx=_.UpsampleBgrLinePair,Ml=_.UpsampleRgbaLinePair,DA=_.UpsampleBgraLinePair,Oc=_.UpsampleArgbLinePair,Md=_.UpsampleRgba4444LinePair,ph=_.UpsampleRgb565LinePair,sl=16,ao=1<<sl-1,_a=-227,Ua=482,Tl=6,vs=0,Ys=i(256),Hc=i(256),UA=i(256),Xs=i(256),$u=i(Ua-_a),Xm=i(Ua-_a);eo("YuvToRgbRow",Dl,3),eo("YuvToBgrRow",_c,3),eo("YuvToRgbaRow",Ed,4),eo("YuvToBgraRow",_d,4),eo("YuvToArgbRow",Fc,4),eo("YuvToRgba4444Row",Ec,2),eo("YuvToRgb565Row",Cs,2);var gh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$c=[0,2,8],Jm=[8,7,6,4,4,2,2,2,1,1,1,1],il=1;this.WebPDecodeRGBA=function(N,S,M,W,ae){var le=Rl,ce=new _e,de=new Ze;ce.ba=de,de.S=le,de.width=[de.width],de.height=[de.height];var ue=de.width,he=de.height,Ne=new Ye;if(Ne==null||N==null)var Le=2;else r(Ne!=null),Le=Ul(N,S,M,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(Le!=0?ue=0:(ue!=null&&(ue[0]=Ne.width[0]),he!=null&&(he[0]=Ne.height[0]),ue=1),ue){de.width=de.width[0],de.height=de.height[0],W!=null&&(W[0]=de.width),ae!=null&&(ae[0]=de.height);e:{if(W=new Ca,(ae=new Xe).data=N,ae.w=S,ae.ha=M,ae.kd=1,S=[0],r(ae!=null),((N=Ul(ae.data,ae.w,ae.ha,null,null,null,S,null,ae))==0||N==7)&&S[0]&&(N=4),(S=N)==0){if(r(ce!=null),W.data=ae.data,W.w=ae.w+ae.offset,W.ha=ae.ha-ae.offset,W.put=tr,W.ac=ca,W.bc=Bn,W.ma=ce,ae.xa){if((N=Tt())==null){ce=1;break e}if((function(me,Ce){var De=[0],We=[0],Pe=[0];t:for(;;){if(me==null)return 0;if(Ce==null)return me.a=2,0;if(me.l=Ce,me.a=0,Z(me.m,Ce.data,Ce.w,Ce.ha),!gs(me.m,De,We,Pe)){me.a=3;break t}if(me.xb=kA,Ce.width=De[0],Ce.height=We[0],!mr(De[0],We[0],1,me,null))break t;return 1}return r(me.a!=0),0})(N,W)){if(W=(S=el(W.width,W.height,ce.Oa,ce.ba))==0){t:{W=N;r:for(;;){if(W==null){W=0;break t}if(r(W.s.yc!=null),r(W.s.Ya!=null),r(0<W.s.Wb),r((M=W.l)!=null),r((ae=M.ma)!=null),W.xb!=0){if(W.ca=ae.ba,W.tb=ae.tb,r(W.ca!=null),!bA(ae.Oa,M,Ud)){W.a=2;break r}if(!Ot(W,M.width)||M.da)break r;if((M.da||ur(W.ca.S))&&Li(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Li()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!ie(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!Ct(W,W.V,W.Ba,W.c,W.i,M.o,fi))break r;ae.Dc=W.Ma,W=1;break t}r(W.a!=0),W=0}W=!W}W&&(S=N.a)}else S=N.a}else{if((N=new Go)==null){ce=1;break e}if(N.Fa=ae.na,N.P=ae.P,N.qc=ae.Sa,yo(N,W)){if((S=el(W.width,W.height,ce.Oa,ce.ba))==0){if(N.Aa=0,M=ce.Oa,r((ae=N)!=null),M!=null){if(0<(ue=0>(ue=M.Md)?0:100<ue?255:255*ue/100)){for(he=Ne=0;4>he;++he)12>(Le=ae.pb[he]).lc&&(Le.ia=ue*Jm[0>Le.lc?0:Le.lc]>>3),Ne|=Le.ia;Ne&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=M.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}(function(me,Ce){if(me==null)return 0;if(Ce==null)return ln(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!yo(me,Ce))return 0;if(r(me.cb),Ce.ac==null||Ce.ac(Ce)){Ce.ob&&(me.L=0);var De=$c[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=Ce.v-De>>4,me.zb=Ce.j-De>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Ce.o+15+De>>4,me.Hb=Ce.va+15+De>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var We=me.ed;for(De=0;4>De;++De){var Pe;if(me.Qa.Cb){var $e=me.Qa.Lb[De];me.Qa.Fb||($e+=We.Tb)}else $e=We.Tb;for(Pe=0;1>=Pe;++Pe){var ze=me.gd[De][Pe],et=$e;if(We.Pc&&(et+=We.vd[0],Pe&&(et+=We.od[0])),0<(et=0>et?0:63<et?63:et)){var tt=et;0<We.wb&&(tt=4<We.wb?tt>>2:tt>>1)>9-We.wb&&(tt=9-We.wb),1>tt&&(tt=1),ze.dd=tt,ze.tc=2*et+tt,ze.ld=40<=et?2:15<=et?1:0}else ze.tc=0;ze.La=Pe}}}De=0}else ln(me,6,"Frame setup failed"),De=me.a;if(De=De==0){if(De){me.$c=0,0<me.Aa||(me.Ic=il);t:{De=me.Ic,We=4*(tt=me.za);var sr=32*tt,Ht=tt+1,Lr=0<me.L?tt*(0<me.Aa?2:1):0,Jt=(me.Aa==2?2:1)*tt;if((ze=We+832+(Pe=3*(16*De+$c[me.L])/2*sr)+($e=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=ze)De=0;else{if(ze>me.Vb){if(me.Vb=0,me.Ec=i(ze),me.Fc=0,me.Ec==null){De=ln(me,1,"no memory during frame initialization.");break t}me.Vb=ze}ze=me.Ec,et=me.Fc,me.Ac=ze,me.Bc=et,et+=We,me.Gd=o(sr,rn),me.Hd=0,me.rb=o(Ht+1,Pt),me.sb=1,me.wa=Lr?o(Lr,fr):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=tt),r(!0),me.oc=ze,me.pc=et,et+=832,me.ya=o(Jt,ra),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=tt),me.R=16*tt,me.B=8*tt,tt=(sr=$c[me.L])*me.R,sr=sr/2*me.B,me.sa=ze,me.ta=et+tt,me.qa=me.sa,me.ra=me.ta+16*De*me.R+sr,me.Ha=me.qa,me.Ia=me.ra+8*De*me.B+sr,me.$c=0,et+=Pe,me.mb=$e?ze:null,me.nb=$e?et:null,r(et+$e<=me.Fc+me.Vb),qe(me),s(me.Ac,me.Bc,0,We),De=1}}if(De){if(Ce.ka=0,Ce.y=me.sa,Ce.O=me.ta,Ce.f=me.qa,Ce.N=me.ra,Ce.ea=me.Ha,Ce.Vd=me.Ia,Ce.fa=me.R,Ce.Rc=me.B,Ce.F=null,Ce.J=0,!uh){for(De=-255;255>=De;++De)lh[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)ch[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)Ah[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)dh[255+De]=0>De?0:255<De?255:De;uh=1}Ql=Aa,Ic=Yr,qs=cn,xa=Sa,Da=Yi,xn=Cn,vn=Sd,Pn=Bs,ro=I,Fd=ne,CA=Ui,nl=yA,Qu=pe,SA=ye,Ru=Fi,sh=Zo,kd=Bc,Pc=Cd,Qi[0]=nh,Qi[1]=gA,Qi[2]=yc,Qi[3]=No,Qi[4]=Uu,Qi[5]=Xo,Qi[6]=hi,Qi[7]=Lu,Qi[8]=bc,Qi[9]=vA,Qs[0]=Xi,Qs[1]=ku,Qs[2]=Du,Qs[3]=xA,Qs[4]=bo,Qs[5]=Vs,Qs[6]=Ei,Ws[0]=Zi,Ws[1]=bd,Ws[2]=Nd,Ws[3]=Ji,Ws[4]=jd,Ws[5]=wA,Ws[6]=Bd,De=1}else De=0}De&&(De=(function(aa,wn){for(aa.M=0;aa.M<aa.Va;++aa.M){var Pr,$t=aa.Jc[aa.M&aa.Xb],Nt=aa.m,En=aa;for(Pr=0;Pr<En.za;++Pr){var jr=Nt,Xr=En,Wa=Xr.Ac,is=Xr.Bc+4*Pr,Qn=Xr.zc,dn=Xr.ya[Xr.aa+Pr];if(Xr.Qa.Bb?dn.$b=fe(jr,Xr.Pa.jb[0])?2+fe(jr,Xr.Pa.jb[2]):fe(jr,Xr.Pa.jb[1]):dn.$b=0,Xr.kc&&(dn.Ad=fe(jr,Xr.Bd)),dn.Za=!fe(jr,145)+0,dn.Za){var zn=dn.Ob,os=0;for(Xr=0;4>Xr;++Xr){var an,ia=Qn[0+Xr];for(an=0;4>an;++an){ia=Ox[Wa[is+an]][ia];for(var va=Gm[fe(jr,ia[0])];0<va;)va=Gm[2*va+fe(jr,ia[va])];ia=-va,Wa[is+an]=ia}a(zn,os,Wa,is,4),os+=4,Qn[0+Xr]=ia}}else ia=fe(jr,156)?fe(jr,128)?1:3:fe(jr,163)?2:0,dn.Ob[0]=ia,s(Wa,is,ia,4),s(Qn,0,ia,4);dn.Dd=fe(jr,142)?fe(jr,114)?fe(jr,183)?1:3:2:0}if(En.m.Ka)return ln(aa,7,"Premature end-of-partition0 encountered.");for(;aa.ja<aa.za;++aa.ja){if(En=$t,jr=(Nt=aa).rb[Nt.sb-1],Wa=Nt.rb[Nt.sb+Nt.ja],Pr=Nt.ya[Nt.aa+Nt.ja],is=Nt.kc?Pr.Ad:0)jr.la=Wa.la=0,Pr.Za||(jr.Na=Wa.Na=0),Pr.Hc=0,Pr.Gc=0,Pr.ia=0;else{var nn,wa;if(jr=Wa,Wa=En,is=Nt.Pa.Xc,Qn=Nt.ya[Nt.aa+Nt.ja],dn=Nt.pb[Qn.$b],Xr=Qn.ad,zn=0,os=Nt.rb[Nt.sb-1],ia=an=0,s(Xr,zn,0,384),Qn.Za)var yn=0,bn=is[3];else{va=i(16);var Ma=jr.Na+os.Na;if(Ma=Tc(Wa,is[1],Ma,dn.Eb,0,va,0),jr.Na=os.Na=(0<Ma)+0,1<Ma)Ql(va,0,Xr,zn);else{var _s=va[0]+3>>3;for(va=0;256>va;va+=16)Xr[zn+va]=_s}yn=1,bn=is[0]}var La=15&jr.la,Ta=15&os.la;for(va=0;4>va;++va){var Rn=1&Ta;for(_s=wa=0;4>_s;++_s)La=La>>1|(Rn=(Ma=Tc(Wa,bn,Ma=Rn+(1&La),dn.Sc,yn,Xr,zn))>yn)<<7,wa=wa<<2|(3<Ma?3:1<Ma?2:Xr[zn+0]!=0),zn+=16;La>>=4,Ta=Ta>>1|Rn<<7,an=(an<<8|wa)>>>0}for(bn=La,yn=Ta>>4,nn=0;4>nn;nn+=2){for(wa=0,La=jr.la>>4+nn,Ta=os.la>>4+nn,va=0;2>va;++va){for(Rn=1&Ta,_s=0;2>_s;++_s)Ma=Rn+(1&La),La=La>>1|(Rn=0<(Ma=Tc(Wa,is[2],Ma,dn.Qc,0,Xr,zn)))<<3,wa=wa<<2|(3<Ma?3:1<Ma?2:Xr[zn+0]!=0),zn+=16;La>>=2,Ta=Ta>>1|Rn<<5}ia|=wa<<4*nn,bn|=La<<4<<nn,yn|=(240&Ta)<<nn}jr.la=bn,os.la=yn,Qn.Hc=an,Qn.Gc=ia,Qn.ia=43690&ia?0:dn.ia,is=!(an|ia)}if(0<Nt.L&&(Nt.wa[Nt.Y+Nt.ja]=Nt.gd[Pr.$b][Pr.Za],Nt.wa[Nt.Y+Nt.ja].La|=!is),En.Ka)return ln(aa,7,"Premature end-of-file encountered.")}if(qe(aa),Nt=wn,En=1,Pr=($t=aa).D,jr=0<$t.L&&$t.M>=$t.zb&&$t.M<=$t.Va,$t.Aa==0)t:{if(Pr.M=$t.M,Pr.uc=jr,mi($t,Pr),En=1,Pr=(wa=$t.D).Nb,jr=(ia=$c[$t.L])*$t.R,Wa=ia/2*$t.B,va=16*Pr*$t.R,_s=8*Pr*$t.B,is=$t.sa,Qn=$t.ta-jr+va,dn=$t.qa,Xr=$t.ra-Wa+_s,zn=$t.Ha,os=$t.Ia-Wa+_s,Ta=(La=wa.M)==0,an=La>=$t.Va-1,$t.Aa==2&&mi($t,wa),wa.uc)for(Rn=(Ma=$t).D.M,r(Ma.D.uc),wa=Ma.yb;wa<Ma.Hb;++wa){yn=wa,bn=Rn;var ws=(Js=(Dn=Ma).D).Nb;nn=Dn.R;var Js=Js.wa[Js.Y+yn],Fn=Dn.sa,kn=Dn.ta+16*ws*nn+16*yn,Es=Js.dd,Oa=Js.tc;if(Oa!=0)if(r(3<=Oa),Dn.L==1)0<yn&&sh(Fn,kn,nn,Oa+4),Js.La&&Pc(Fn,kn,nn,Oa),0<bn&&Ru(Fn,kn,nn,Oa+4),Js.La&&kd(Fn,kn,nn,Oa);else{var Fs=Dn.B,Ri=Dn.qa,no=Dn.ra+8*ws*Fs+8*yn,ls=Dn.Ha,Dn=Dn.Ia+8*ws*Fs+8*yn;ws=Js.ld,0<yn&&(Pn(Fn,kn,nn,Oa+4,Es,ws),Fd(Ri,no,ls,Dn,Fs,Oa+4,Es,ws)),Js.La&&(nl(Fn,kn,nn,Oa,Es,ws),SA(Ri,no,ls,Dn,Fs,Oa,Es,ws)),0<bn&&(vn(Fn,kn,nn,Oa+4,Es,ws),ro(Ri,no,ls,Dn,Fs,Oa+4,Es,ws)),Js.La&&(CA(Fn,kn,nn,Oa,Es,ws),Qu(Ri,no,ls,Dn,Fs,Oa,Es,ws))}}if($t.ia&&alert("todo:DitherRow"),Nt.put!=null){if(wa=16*La,La=16*(La+1),Ta?(Nt.y=$t.sa,Nt.O=$t.ta+va,Nt.f=$t.qa,Nt.N=$t.ra+_s,Nt.ea=$t.Ha,Nt.W=$t.Ia+_s):(wa-=ia,Nt.y=is,Nt.O=Qn,Nt.f=dn,Nt.N=Xr,Nt.ea=zn,Nt.W=os),an||(La-=ia),La>Nt.o&&(La=Nt.o),Nt.F=null,Nt.J=null,$t.Fa!=null&&0<$t.Fa.length&&wa<La&&(Nt.J=In($t,Nt,wa,La-wa),Nt.F=$t.mb,Nt.F==null&&Nt.F.length==0)){En=ln($t,3,"Could not decode alpha data.");break t}wa<Nt.j&&(ia=Nt.j-wa,wa=Nt.j,r(!(1&ia)),Nt.O+=$t.R*ia,Nt.N+=$t.B*(ia>>1),Nt.W+=$t.B*(ia>>1),Nt.F!=null&&(Nt.J+=Nt.width*ia)),wa<La&&(Nt.O+=Nt.v,Nt.N+=Nt.v>>1,Nt.W+=Nt.v>>1,Nt.F!=null&&(Nt.J+=Nt.v),Nt.ka=wa-Nt.j,Nt.U=Nt.va-Nt.v,Nt.T=La-wa,En=Nt.put(Nt))}Pr+1!=$t.Ic||an||(a($t.sa,$t.ta-jr,is,Qn+16*$t.R,jr),a($t.qa,$t.ra-Wa,dn,Xr+8*$t.B,Wa),a($t.Ha,$t.Ia-Wa,zn,os+8*$t.B,Wa))}if(!En)return ln(aa,6,"Output aborted.")}return 1})(me,Ce)),Ce.bc!=null&&Ce.bc(Ce),De&=1}return De?(me.cb=0,De):0})(N,W)||(S=N.a)}}else S=N.a}S==0&&ce.Oa!=null&&ce.Oa.fd&&(S=NA(ce.ba))}ce=S}le=ce!=0?null:11>le?de.f.RGBA.eb:de.f.kb.y}else le=null;return le};var Td=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(_,G){for(var L="",T=0;T<4;T++)L+=String.fromCharCode(_[G++]);return L}function f(_,G){return _[G+0]|_[G+1]<<8}function h(_,G){return(_[G+0]|_[G+1]<<8|_[G+2]<<16)>>>0}function m(_,G){return(_[G+0]|_[G+1]<<8|_[G+2]<<16|_[G+3]<<24)>>>0}new A;var p=[0],v=[0],g=[],y=new A,w=e,j=(function(_,G){var L={},T=0,J=!1,R=0,re=0;if(L.frames=[],!(function(Q,q){for(var $=0;$<4;$++)if(Q[q+$]!="RIFF".charCodeAt($))return!0;return!1})(_,G)){for(m(_,G+=4),G+=8;G<_.length;){var V=d(_,G),Y=m(_,G+=4);G+=4;var H=Y+(1&Y);switch(V){case"VP8 ":case"VP8L":L.frames[T]===void 0&&(L.frames[T]={}),(ee=L.frames[T]).src_off=J?re:G-8,ee.src_size=R+Y+8,T++,J&&(J=!1,R=0,re=0);break;case"VP8X":(ee=L.header={}).feature_flags=_[G];var Z=G+4;ee.canvas_width=1+h(_,Z),Z+=3,ee.canvas_height=1+h(_,Z),Z+=3;break;case"ALPH":J=!0,R=H+8,re=G-8;break;case"ANIM":(ee=L.header).bgcolor=m(_,G),Z=G+4,ee.loop_count=f(_,Z),Z+=2;break;case"ANMF":var Ae,ee;(ee=L.frames[T]={}).offset_x=2*h(_,G),G+=3,ee.offset_y=2*h(_,G),G+=3,ee.width=1+h(_,G),G+=3,ee.height=1+h(_,G),G+=3,ee.duration=h(_,G),G+=3,Ae=_[G++],ee.dispose=1&Ae,ee.blend=Ae>>1&1}V!="ANMF"&&(G+=H)}return L}})(w,0);j.response=w,j.rgbaoutput=!0,j.dataurl=!1;var C=j.header?j.header:null,E=j.frames?j.frames:null;if(C){C.loop_counter=C.loop_count,p=[C.canvas_height],v=[C.canvas_width];for(var U=0;U<E.length&&E[U].blend!=0;U++);}var k=E[0],F=y.WebPDecodeRGBA(w,k.src_off,k.src_size,v,p);k.rgba=F,k.imgwidth=v[0],k.imgheight=p[0];for(var D=0;D<v[0]*p[0]*4;D++)g[D]=F[D];return this.width=v,this.height=p,this.data=g,this}(function(e){var r,t,a,s,i,o,l,A,d,f=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new A,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),r=this.internal.f2,t=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,A=this.internal.Matrix,d=new f}]);var h=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=Q;Object.defineProperty(this,"pdf",{get:function(){return q}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(xe){$=!!xe}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(xe){X=!!xe}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(xe){isNaN(xe)||(te=xe)}});var K=0;Object.defineProperty(this,"posY",{get:function(){return K},set:function(xe){isNaN(xe)||(K=xe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(xe){var ie;typeof xe=="number"?ie=[xe,xe,xe,xe]:((ie=new Array(4))[0]=xe[0],ie[1]=xe.length>=2?xe[1]:ie[0],ie[2]=xe.length>=3?xe[2]:ie[0],ie[3]=xe.length>=4?xe[3]:ie[1]),d.margin=ie}});var z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return z},set:function(xe){z=xe}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(xe){se=xe}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(xe){fe=xe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(xe){xe instanceof f&&(d=xe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(xe){d.path=xe}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(xe){be=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var ie;ie=m(xe),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var ie=m(xe);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var Be=null,Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(xe){Be=null,Qe=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var ie;if(this.ctx.font=xe,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var at=ie[1];ie[2];var gt=ie[3],it=ie[4];ie[5];var Ee=ie[6],dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(dt==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:dt==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var ct=(function(Bt){var St,Na,Hr=[],Yt=Bt.trim();if(Yt==="")return Cw;if(Yt in HB)return[HB[Yt]];for(;Yt!=="";){switch(Na=null,St=(Yt=KB(Yt)).charAt(0)){case'"':case"'":Na=rV(Yt.substring(1),St);break;default:Na=aV(Yt)}if(Na===null||(Hr.push(Na[0]),(Yt=KB(Na[1]))!==""&&Yt.charAt(0)!==","))return Cw;Yt=Yt.replace(/^,/,"")}return Hr})(Ee);if(this.fontFaces){var Wt=(function(Bt,St){if(Be===null){var Na=(function(Hr){var Yt=[];return Object.keys(Hr).forEach(function(Nr){Hr[Nr].forEach(function(la){var yt=null;switch(la){case"bold":yt={family:Nr,weight:"bold"};break;case"italic":yt={family:Nr,style:"italic"};break;case"bolditalic":yt={family:Nr,weight:"bold",style:"italic"};break;case"":case"normal":yt={family:Nr}}yt!==null&&(yt.ref={name:Nr,style:la},Yt.push(yt))})}),Yt})(Bt.getFontList());Be=(function(Hr){for(var Yt={},Nr=0;Nr<Hr.length;++Nr){var la=Bw(Hr[Nr]),yt=la.family,yr=la.stretch,ur=la.style,Ba=la.weight;Yt[yt]=Yt[yt]||{},Yt[yt][yr]=Yt[yt][yr]||{},Yt[yt][yr][ur]=Yt[yt][yr][ur]||{},Yt[yt][yr][ur][Ba]=la}return Yt})(Na.concat(St))}return Be})(this.pdf,this.fontFaces),Et=ct.map(function(Bt){return{family:Bt,stretch:"normal",weight:gt,style:at}}),Ut=(function(Bt,St,Na){for(var Hr=(Na=Na||{}).defaultFontFamily||"times",Yt=Object.assign({},tV,Na.genericFontFamilies||{}),Nr=null,la=null,yt=0;yt<St.length;++yt)if(Yt[(Nr=Bw(St[yt])).family]&&(Nr.family=Yt[Nr.family]),Bt.hasOwnProperty(Nr.family)){la=Bt[Nr.family];break}if(!(la=la||Bt[Hr]))throw new Error("Could not find a font-family for the rule '"+$B(Nr)+"' and default family '"+Hr+"'.");if(la=(function(yr,ur){if(ur[yr])return ur[yr];var Ba=qy[yr],ka=Ba<=qy.normal?-1:1,Ze=OB(ur,w3,Ba,ka);if(!Ze)throw new Error("Could not find a matching font-stretch value for "+yr);return Ze})(Nr.stretch,la),la=(function(yr,ur){if(ur[yr])return ur[yr];for(var Ba=v3[yr],ka=0;ka<Ba.length;++ka)if(ur[Ba[ka]])return ur[Ba[ka]];throw new Error("Could not find a matching font-style for "+yr)})(Nr.style,la),!(la=(function(yr,ur){if(ur[yr])return ur[yr];if(yr===400&&ur[500])return ur[500];if(yr===500&&ur[400])return ur[400];var Ba=eV[yr],ka=OB(ur,y3,Ba,yr<400?-1:1);if(!ka)throw new Error("Could not find a matching font-weight for value "+yr);return ka})(Nr.weight,la)))throw new Error("Failed to resolve a font for the rule '"+$B(Nr)+"'.");return la})(Wt,Et);this.pdf.setFont(Ut.ref.name,Ut.ref.style)}else{var Mt="";(gt==="bold"||parseInt(gt,10)>=700||at==="bold")&&(Mt="bold"),at==="italic"&&(Mt+="italic"),Mt.length===0&&(Mt="normal");for(var Gt="",Lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<ct.length;_t++){if(this.pdf.internal.getFont(ct[_t],Mt,{noFallback:!0,disableWarning:!0})!==void 0){Gt=ct[_t];break}if(Mt==="bolditalic"&&this.pdf.internal.getFont(ct[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Gt=ct[_t],Mt="bold";else if(this.pdf.internal.getFont(ct[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Gt=ct[_t],Mt="normal";break}}if(Gt===""){for(var wt=0;wt<ct.length;wt++)if(Lt[ct[wt]]){Gt=Lt[ct[wt]];break}}Gt=Gt===""?"Times":Gt,this.pdf.setFont(Gt,Mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};h.prototype.setLineDash=function(Q){this.lineDash=Q},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(Q,q){if(isNaN(Q)||isNaN(q))throw en.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new o(Q,q));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new o(Q,q)},h.prototype.closePath=function(){var Q=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&$a(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){Q=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.lineTo=function(Q,q){if(isNaN(Q)||isNaN(q))throw en.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new o(Q,q));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new o($.x,$.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(Q,q,$,X){if(isNaN($)||isNaN(X)||isNaN(Q)||isNaN(q))throw en.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new o($,X)),K=this.ctx.transform.applyToPoint(new o(Q,q));this.path.push({type:"qct",x1:K.x,y1:K.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},h.prototype.bezierCurveTo=function(Q,q,$,X,te,K){if(isNaN(te)||isNaN(K)||isNaN(Q)||isNaN(q)||isNaN($)||isNaN(X))throw en.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var z=this.ctx.transform.applyToPoint(new o(te,K)),se=this.ctx.transform.applyToPoint(new o(Q,q)),fe=this.ctx.transform.applyToPoint(new o($,X));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:fe.x,y2:fe.y,x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},h.prototype.arc=function(Q,q,$,X,te,K){if(isNaN(Q)||isNaN(q)||isNaN($)||isNaN(X)||isNaN(te))throw en.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(K=!!K,!this.ctx.transform.isIdentity){var z=this.ctx.transform.applyToPoint(new o(Q,q));Q=z.x,q=z.y;var se=this.ctx.transform.applyToPoint(new o(0,$)),fe=this.ctx.transform.applyToPoint(new o(0,0));$=Math.sqrt(Math.pow(se.x-fe.x,2)+Math.pow(se.y-fe.y,2))}Math.abs(te-X)>=2*Math.PI&&(X=0,te=2*Math.PI),this.path.push({type:"arc",x:Q,y:q,radius:$,startAngle:X,endAngle:te,counterclockwise:K})},h.prototype.arcTo=function(Q,q,$,X,te){throw new Error("arcTo not implemented.")},h.prototype.rect=function(Q,q,$,X){if(isNaN(Q)||isNaN(q)||isNaN($)||isNaN(X))throw en.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,q),this.lineTo(Q+$,q),this.lineTo(Q+$,q+X),this.lineTo(Q,q+X),this.lineTo(Q,q),this.lineTo(Q+$,q),this.lineTo(Q,q)},h.prototype.fillRect=function(Q,q,$,X){if(isNaN(Q)||isNaN(q)||isNaN($)||isNaN(X))throw en.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,q,$,X),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},h.prototype.strokeRect=function(Q,q,$,X){if(isNaN(Q)||isNaN(q)||isNaN($)||isNaN(X))throw en.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(Q,q,$,X),this.stroke())},h.prototype.clearRect=function(Q,q,$,X){if(isNaN(Q)||isNaN(q)||isNaN($)||isNaN(X))throw en.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,q,$,X))},h.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},h.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(q),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(Q){var q,$,X,te;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))q=0,$=0,X=0,te=0;else{var K=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(K!==null)q=parseInt(K[1]),$=parseInt(K[2]),X=parseInt(K[3]),te=1;else if((K=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)q=parseInt(K[1]),$=parseInt(K[2]),X=parseInt(K[3]),te=parseFloat(K[4]);else{if(te=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var z=new u3(Q);Q=z.ok?z.toHex():"#000000"}Q.length===4?(q=Q.substring(1,2),q+=q,$=Q.substring(2,3),$+=$,X=Q.substring(3,4),X+=X):(q=Q.substring(1,3),$=Q.substring(3,5),X=Q.substring(5,7)),q=parseInt(q,16),$=parseInt($,16),X=parseInt(X,16)}}return{r:q,g:$,b:X,a:te,style:Q}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(Q,q,$,X){if(isNaN(q)||isNaN($)||typeof Q!="string")throw en.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!p.call(this)){var te=H(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;T.call(this,{text:Q,x:q,y:$,scale:K,angle:te,align:this.textAlign,maxWidth:X})}},h.prototype.strokeText=function(Q,q,$,X){if(isNaN(q)||isNaN($)||typeof Q!="string")throw en.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){X=isNaN(X)?void 0:X;var te=H(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;T.call(this,{text:Q,x:q,y:$,scale:K,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:X})}},h.prototype.measureText=function(Q){if(typeof Q!="string")throw en.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,$=this.pdf.internal.scaleFactor,X=q.internal.getFontSize(),te=q.getStringUnitWidth(Q)*X/q.internal.scaleFactor;return new function(K){var z=(K=K||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return z}}),this}({width:te*=Math.round(96*$/72*1e4)/1e4})},h.prototype.scale=function(Q,q){if(isNaN(Q)||isNaN(q))throw en.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new A(Q,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.rotate=function(Q){if(isNaN(Q))throw en.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new A(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.translate=function(Q,q){if(isNaN(Q)||isNaN(q))throw en.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new A(1,0,0,1,Q,q);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.transform=function(Q,q,$,X,te,K){if(isNaN(Q)||isNaN(q)||isNaN($)||isNaN(X)||isNaN(te)||isNaN(K))throw en.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var z=new A(Q,q,$,X,te,K);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.setTransform=function(Q,q,$,X,te,K){Q=isNaN(Q)?1:Q,q=isNaN(q)?0:q,$=isNaN($)?0:$,X=isNaN(X)?1:X,te=isNaN(te)?0:te,K=isNaN(K)?0:K,this.ctx.transform=new A(Q,q,$,X,te,K)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(Q,q,$,X,te,K,z,se,fe){var be=this.pdf.getImageProperties(Q),Be=1,Qe=1,xe=1,ie=1;X!==void 0&&se!==void 0&&(xe=se/X,ie=fe/te,Be=be.width/X*se/X,Qe=be.height/te*fe/te),K===void 0&&(K=q,z=$,q=0,$=0),X!==void 0&&se===void 0&&(se=X,fe=te),X===void 0&&se===void 0&&(se=be.width,fe=be.height);for(var at,gt=this.ctx.transform.decompose(),it=H(gt.rotate.shx),Ee=new A,dt=(Ee=(Ee=(Ee=Ee.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale)).applyToRectangle(new l(K-q*xe,z-$*ie,X*Be,te*Qe)),ct=y.call(this,dt),Wt=[],Et=0;Et<ct.length;Et+=1)Wt.indexOf(ct[Et])===-1&&Wt.push(ct[Et]);if(C(Wt),this.autoPaging)for(var Ut=Wt[0],Mt=Wt[Wt.length-1],Gt=Ut;Gt<Mt+1;Gt++){this.pdf.setPage(Gt);var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=Gt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=Gt===1?0:wt+(Gt-2)*Bt;if(this.ctx.clip_path.length!==0){var Na=this.path;at=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(at,this.posX+this.margin[3],-St+_t+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=Na}var Hr=JSON.parse(JSON.stringify(dt));Hr=j([Hr],this.posX+this.margin[3],-St+_t+this.ctx.prevPageLastElemOffset)[0];var Yt=(Gt>Ut||Gt<Mt)&&g.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Bt,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",Hr.x,Hr.y,Hr.w,Hr.h,null,null,it),Yt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,it)};var y=function(Q,q,$){var X=[];q=q||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":X.push(Math.floor((Q.y+te)/$)+1);break;case"arc":X.push(Math.floor((Q.y+te-Q.radius)/$)+1),X.push(Math.floor((Q.y+te+Q.radius)/$)+1);break;case"qct":var K=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);X.push(Math.floor((K.y+te)/$)+1),X.push(Math.floor((K.y+K.h+te)/$)+1);break;case"bct":var z=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);X.push(Math.floor((z.y+te)/$)+1),X.push(Math.floor((z.y+z.h+te)/$)+1);break;case"rect":X.push(Math.floor((Q.y+te)/$)+1),X.push(Math.floor((Q.y+Q.h+te)/$)+1)}for(var se=0;se<X.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<X[se];)w.call(this);return X},w=function(){var Q=this.fillStyle,q=this.strokeStyle,$=this.font,X=this.lineCap,te=this.lineWidth,K=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=q,this.font=$,this.lineCap=X,this.lineWidth=te,this.lineJoin=K},j=function(Q,q,$){for(var X=0;X<Q.length;X++)switch(Q[X].type){case"bct":Q[X].x2+=q,Q[X].y2+=$;case"qct":Q[X].x1+=q,Q[X].y1+=$;default:Q[X].x+=q,Q[X].y+=$}return Q},C=function(Q){return Q.sort(function(q,$){return q-$})},E=function(Q,q){for(var $,X,te=this.fillStyle,K=this.strokeStyle,z=this.lineCap,se=this.lineWidth,fe=Math.abs(se*this.ctx.transform.scaleX),be=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),xe=[],ie=0;ie<Qe.length;ie++)if(Qe[ie].x!==void 0)for(var at=y.call(this,Qe[ie]),gt=0;gt<at.length;gt+=1)xe.indexOf(at[gt])===-1&&xe.push(at[gt]);for(var it=0;it<xe.length;it++)for(;this.pdf.internal.getNumberOfPages()<xe[it];)w.call(this);if(C(xe),this.autoPaging)for(var Ee=xe[0],dt=xe[xe.length-1],ct=Ee;ct<dt+1;ct++){this.pdf.setPage(ct),this.fillStyle=te,this.strokeStyle=K,this.lineCap=z,this.lineWidth=fe,this.lineJoin=be;var Wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=ct===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gt=ct===1?0:Ut+(ct-2)*Mt;if(this.ctx.clip_path.length!==0){var Lt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j($,this.posX+this.margin[3],-Gt+Et+this.ctx.prevPageLastElemOffset),U.call(this,Q,!0),this.path=Lt}if(X=JSON.parse(JSON.stringify(Be)),this.path=j(X,this.posX+this.margin[3],-Gt+Et+this.ctx.prevPageLastElemOffset),q===!1||ct===0){var _t=(ct>Ee||ct<dt)&&g.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,Mt,null).clip().discardPath()),U.call(this,Q,q),_t&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=fe,U.call(this,Q,q),this.lineWidth=se;this.path=Be},U=function(Q,q){if((Q!=="stroke"||q||!v.call(this))&&(Q==="stroke"||q||!p.call(this))){for(var $,X,te=[],K=this.path,z=0;z<K.length;z++){var se=K[z];switch(se.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:se,deltas:[],abs:[]});break;case"lt":var fe=te.length;if(K[z-1]&&!isNaN(K[z-1].x)&&($=[se.x-K[z-1].x,se.y-K[z-1].y],fe>0)){for(;fe>=0;fe--)if(te[fe-1].close!==!0&&te[fe-1].begin!==!0){te[fe-1].deltas.push($),te[fe-1].abs.push(se);break}}break;case"bct":$=[se.x1-K[z-1].x,se.y1-K[z-1].y,se.x2-K[z-1].x,se.y2-K[z-1].y,se.x-K[z-1].x,se.y-K[z-1].y],te[te.length-1].deltas.push($);break;case"qct":var be=K[z-1].x+2/3*(se.x1-K[z-1].x),Be=K[z-1].y+2/3*(se.y1-K[z-1].y),Qe=se.x+2/3*(se.x1-se.x),xe=se.y+2/3*(se.y1-se.y),ie=se.x,at=se.y;$=[be-K[z-1].x,Be-K[z-1].y,Qe-K[z-1].x,xe-K[z-1].y,ie-K[z-1].x,at-K[z-1].y],te[te.length-1].deltas.push($);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(se)}}X=q?null:Q==="stroke"?"stroke":"fill";for(var gt=!1,it=0;it<te.length;it++)if(te[it].arc)for(var Ee=te[it].abs,dt=0;dt<Ee.length;dt++){var ct=Ee[dt];ct.type==="arc"?D.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,q,!gt):J.call(this,ct.x,ct.y),gt=!0}else if(te[it].close===!0)this.pdf.internal.out("h"),gt=!1;else if(te[it].begin!==!0){var Wt=te[it].start.x,Et=te[it].start.y;R.call(this,te[it].deltas,Wt,Et),gt=!0}X&&_.call(this,X),q&&G.call(this)}},k=function(Q){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-$;case"top":return Q+q-$;case"hanging":return Q+q-2*$;case"middle":return Q+q/2-$;default:return Q}},F=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(q,$){this.colorStops.push([q,$])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(Q,q,$,X,te,K,z,se,fe){for(var be=V.call(this,$,X,te,K),Be=0;Be<be.length;Be++){var Qe=be[Be];Be===0&&(fe?L.call(this,Qe.x1+Q,Qe.y1+q):J.call(this,Qe.x1+Q,Qe.y1+q)),re.call(this,Q,q,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}se?G.call(this):_.call(this,z)},_=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(Q,q){this.pdf.internal.out(t(Q)+" "+a(q)+" m")},T=function(Q){var q;switch(Q.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var $=this.pdf.getTextDimensions(Q.text),X=k.call(this,Q.y),te=F.call(this,X)-$.h,K=this.ctx.transform.applyToPoint(new o(Q.x,X)),z=this.ctx.transform.decompose(),se=new A;se=(se=(se=se.multiply(z.translate)).multiply(z.skew)).multiply(z.scale);for(var fe,be,Be,Qe=this.ctx.transform.applyToRectangle(new l(Q.x,X,$.w,$.h)),xe=se.applyToRectangle(new l(Q.x,te,$.w,$.h)),ie=y.call(this,xe),at=[],gt=0;gt<ie.length;gt+=1)at.indexOf(ie[gt])===-1&&at.push(ie[gt]);if(C(at),this.autoPaging)for(var it=at[0],Ee=at[at.length-1],dt=it;dt<Ee+1;dt++){this.pdf.setPage(dt);var ct=dt===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[2],Ut=Et-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],Gt=Mt-this.margin[3],Lt=dt===1?0:Wt+(dt-2)*Ut;if(this.ctx.clip_path.length!==0){var _t=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(fe,this.posX+this.margin[3],-1*Lt+ct),U.call(this,"fill",!0),this.path=_t}var wt=j([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Lt+ct+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*Q.scale),Be=this.lineWidth,this.lineWidth=Be*Q.scale);var Bt=this.autoPaging!=="text";if(Bt||wt.y+wt.h<=Et){if(Bt||wt.y>=ct&&wt.x<=Mt){var St=Bt?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||Mt-wt.x)[0],Na=j([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-Lt+ct+this.ctx.prevPageLastElemOffset)[0],Hr=Bt&&(dt>it||dt<Ee)&&g.call(this);Hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,Ut,null).clip().discardPath()),this.pdf.text(St,Na.x,Na.y,{angle:Q.angle,align:q,renderingMode:Q.renderingMode}),Hr&&this.pdf.restoreGraphicsState()}}else wt.y<Et&&(this.ctx.prevPageLastElemOffset+=Et-wt.y);Q.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=Be)}else Q.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*Q.scale),Be=this.lineWidth,this.lineWidth=Be*Q.scale),this.pdf.text(Q.text,K.x+this.posX,K.y+this.posY,{angle:Q.angle,align:q,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=Be)},J=function(Q,q,$,X){$=$||0,X=X||0,this.pdf.internal.out(t(Q+$)+" "+a(q+X)+" l")},R=function(Q,q,$){return this.pdf.lines(Q,q,$,null,null)},re=function(Q,q,$,X,te,K,z,se){this.pdf.internal.out([r(s($+Q)),r(i(X+q)),r(s(te+Q)),r(i(K+q)),r(s(z+Q)),r(i(se+q)),"c"].join(" "))},V=function(Q,q,$,X){for(var te=2*Math.PI,K=Math.PI/2;q>$;)q-=te;var z=Math.abs($-q);z<te&&X&&(z=te-z);for(var se=[],fe=X?-1:1,be=q;z>1e-5;){var Be=be+fe*Math.min(z,K);se.push(Y.call(this,Q,be,Be)),z-=Math.abs(Be-be),be=Be}return se},Y=function(Q,q,$){var X=($-q)/2,te=Q*Math.cos(X),K=Q*Math.sin(X),z=te,se=-K,fe=z*z+se*se,be=fe+z*te+se*K,Be=4/3*(Math.sqrt(2*fe*be)-be)/(z*K-se*te),Qe=z-Be*se,xe=se+Be*z,ie=Qe,at=-xe,gt=X+q,it=Math.cos(gt),Ee=Math.sin(gt);return{x1:Q*Math.cos(q),y1:Q*Math.sin(q),x2:Qe*it-xe*Ee,y2:Qe*Ee+xe*it,x3:ie*it-at*Ee,y3:ie*Ee+at*it,x4:Q*Math.cos($),y4:Q*Math.sin($)}},H=function(Q){return 180*Q/Math.PI},Z=function(Q,q,$,X,te,K){var z=Q+.5*($-Q),se=q+.5*(X-q),fe=te+.5*($-te),be=K+.5*(X-K),Be=Math.min(Q,te,z,fe),Qe=Math.max(Q,te,z,fe),xe=Math.min(q,K,se,be),ie=Math.max(q,K,se,be);return new l(Be,xe,Qe-Be,ie-xe)},Ae=function(Q,q,$,X,te,K,z,se){var fe,be,Be,Qe,xe,ie,at,gt,it,Ee,dt,ct,Wt,Et,Ut=$-Q,Mt=X-q,Gt=te-$,Lt=K-X,_t=z-te,wt=se-K;for(be=0;be<41;be++)it=(at=(Be=Q+(fe=be/40)*Ut)+fe*((xe=$+fe*Gt)-Be))+fe*(xe+fe*(te+fe*_t-xe)-at),Ee=(gt=(Qe=q+fe*Mt)+fe*((ie=X+fe*Lt)-Qe))+fe*(ie+fe*(K+fe*wt-ie)-gt),be==0?(dt=it,ct=Ee,Wt=it,Et=Ee):(dt=Math.min(dt,it),ct=Math.min(ct,Ee),Wt=Math.max(Wt,it),Et=Math.max(Et,Ee));return new l(Math.round(dt),Math.round(ct),Math.round(Wt-dt),Math.round(Et-ct))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,q,$=(Q=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:q}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(Ar.API),(function(e){var r=function(o){var l,A,d,f,h,m,p,v,g,y;for(A=[],d=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(h=((h=((h=((h=(h-(y=h%85))/85)-(g=h%85))/85)-(v=h%85))/85)-(p=h%85))/85)%85,A.push(m+33,p+33,v+33,g+33,y+33)):A.push(122);return(function(w,j){for(var C=j;C>0;C--)w.pop()})(A,l.length),String.fromCharCode.apply(String,A)+"~>"},t=function(o){var l,A,d,f,h,m=String,p="length",v=255,g="charCodeAt",y="slice",w="replace";for(o[y](-2),o=o[y](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),d=[],f=0,h=(o+=l="uuuuu"[y](o[p]%5||5))[p];h>f;f+=5)A=52200625*(o[g](f)-33)+614125*(o[g](f+1)-33)+7225*(o[g](f+2)-33)+85*(o[g](f+3)-33)+(o[g](f+4)-33),d.push(v&A>>24,v&A>>16,v&A>>8,v&A);return(function(j,C){for(var E=C;E>0;E--)j.pop()})(d,l[p]),m.fromCharCode.apply(m,d)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var A="",d=0;d<o.length;d+=2)A+=String.fromCharCode("0x"+(o[d]+o[d+1]));return A},i=function(o){for(var l=new Uint8Array(o.length),A=o.length;A--;)l[A]=o.charCodeAt(A);return(l=Ty(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(o,l){var A=0,d=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),A=0;A<l.length;A+=1)switch(l[A]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=r(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[A]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(Ar.API),(function(e){e.loadFile=function(r,t,a){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(A,d,f){var h=new XMLHttpRequest,m=0,p=function(v){var g=v.length,y=[],w=String.fromCharCode;for(m=0;m<g;m+=1)y.push(w(255&v.charCodeAt(m)));return y.join("")};if(h.open("GET",A,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?f(p(this.responseText)):f(void 0)}),h.send(null),d&&h.status===200)return p(h.responseText)})(s,i,o)}catch{}return l})(r,t,a)},e.loadImageFile=e.loadFile})(Ar.API),(function(e){function r(){return(kr.html2canvas?Promise.resolve(kr.html2canvas):ui(()=>Promise.resolve().then(()=>qY),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(kr.DOMPurify?Promise.resolve(kr.DOMPurify):ui(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var A=$a(l);return A==="undefined"?"undefined":A==="string"||l instanceof String?"string":A==="number"||l instanceof Number?"number":A==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(l,A){var d=document.createElement(l);for(var f in A.className&&(d.className=A.className),A.innerHTML&&A.dompurify&&(d.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)d.style[f]=A.style[f];return d},i=function l(A,d){for(var f=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),h=A.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return A.nodeType===1&&(A.nodeName==="CANVAS"?(f.width=A.width,f.height=A.height,f.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(f.value=A.value),f.addEventListener("load",function(){f.scrollTop=A.scrollTop,f.scrollLeft=A.scrollLeft},!0)),f},o=function l(A){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(A)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,A){return l.__proto__=A||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,A){return this.then(function(){switch(A=A||(function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),A){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(A){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,A(this.prop.container,d)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(A){var d=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var v=f[p],g=v.src.find(function(y){return y.format==="truetype"});g&&d.addFont(g.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),A(this.prop.container,m)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,A,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,A):this.outputPdf(l,A)},o.prototype.outputPdf=function(l,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,A)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var A=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(A)})},o.prototype.get=function(l,A){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return A?A(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function A(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||Ar.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:A(l.inner.width,l.k),height:A(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,A,d,f){return l!=null&&(this.progress.val=l),A!=null&&(this.progress.state=A),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,A,d,f){return this.setProgress(l?this.progress.val+l:null,A||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,A){var d=this;return this.thenCore(l,A,function(f,h){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,f),m}).then(f,h).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,A,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),A&&(A=A.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),m=d.call(h,l,A);return o.convert(m,f.__proto__)},o.prototype.thenExternal=function(l,A){return Promise.prototype.then.call(this,l,A)},o.prototype.thenList=function(l){var A=this;return l.forEach(function(d){A=A.thenCore(d)}),A},o.prototype.catch=function(l){l&&(l=l.bind(this));var A=Promise.prototype.catch.call(this,l);return o.convert(A,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ar.getPageSize=function(l,A,d){if($a(l)==="object"){var f=l;l=f.orientation,A=f.unit||A,d=f.format||d}A=A||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+A}var v,g=0,y=0;if(p.hasOwnProperty(m))g=p[m][1]/h,y=p[m][0]/h;else try{g=d[1],y=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",y>g&&(v=y,y=g,g=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>y&&(v=y,y=g,g=v)}return{width:y,height:g,unit:A,k:h,orientation:l}},e.html=function(l,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(Bw):null;var d=new o(A);return A.worker?d:d.from(l).doCallback()}})(Ar.API),Ar.API.addJS=function(e){return zB=e,this.internal.events.subscribe("postPutResources",function(){qp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),VB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qp!==void 0&&VB!==void 0&&this.internal.out("/Names <</JavaScript "+qp+" 0 R>>")}),this},(function(e){var r;e.events.push(["postPutResources",function(){var t=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var A=l[1];t.internal.newObjectDeferredBegin(A,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var h=t.internal.newObject();f.push(h);var m=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<f.length;i++)t.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");t.internal.write(" ] >>","endobj"),r=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+r+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(a){a.id=t.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},t.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},t.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var A=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},t.outline.line=function(a){this.ctx.val+=a+`\r
`},t.outline.makeRef=function(a){return a.id+" 0 R"},t.outline.makeString=function(a){return"("+t.internal.pdfEscape(a)+")"},t.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])})(Ar.API),(function(e){var r=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,a,s,i,o,l){var A,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,A=(function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,g={width:0,height:0,numcomponents:1},y=4;y<v;y+=2){if(y+=p,r.indexOf(h.charCodeAt(y+1))!==-1){m=256*h.charCodeAt(y+5)+h.charCodeAt(y+6),g={width:256*h.charCodeAt(y+7)+h.charCodeAt(y+8),height:m,numcomponents:h.charCodeAt(y+9)};break}p=256*h.charCodeAt(y+2)+h.charCodeAt(y+3)}return g})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),A.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:A.width,height:A.height,colorSpace:l,bitsPerComponent:8,filter:d,index:a,alias:s}}return f}})(Ar.API),Ar.API.processPNG=function(e,r,t,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=TK(e,{checkCrc:!0}),o=i.width,l=i.height,A=i.channels,d=i.palette,f=i.depth;s=d&&A===1?(function(D){for(var _=D.width,G=D.height,L=D.data,T=D.palette,J=D.depth,R=!1,re=[],V=[],Y=void 0,H=!1,Z=0,Ae=0;Ae<T.length;Ae++){var ee=Yj(T[Ae],4),Q=ee[0],q=ee[1],$=ee[2],X=ee[3];re.push(Q,q,$),X!=null&&(X===0?(Z++,V.length<1&&V.push(Ae)):X<255&&(H=!0))}if(H||Z>1){R=!0,V=void 0;var te=_*G;Y=new Uint8Array(te);for(var K=new DataView(L.buffer),z=0;z<te;z++){var se=Sw(K,z,J),fe=Yj(T[se],4)[3];Y[z]=fe}}else Z===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:L,alphaBytes:Y,needSMask:R,palette:re,mask:V}})(i):A===2||A===4?(function(D){for(var _=D.data,G=D.width,L=D.height,T=D.channels,J=D.depth,R=T===2?"DeviceGray":"DeviceRGB",re=T-1,V=G*L,Y=re,H=V*Y,Z=1*V,Ae=Math.ceil(H*J/8),ee=Math.ceil(Z*J/8),Q=new Uint8Array(Ae),q=new Uint8Array(ee),$=new DataView(_.buffer),X=new DataView(Q.buffer),te=new DataView(q.buffer),K=!1,z=0;z<V;z++){for(var se=z*T,fe=0;fe<Y;fe++)tC(X,Sw($,se+fe,J),z*Y+fe,J);var be=Sw($,se+Y,J);be<(1<<J)-1&&(K=!0),tC(te,be,1*z,J)}return{colorSpace:R,colorsPerPixel:re,sMaskBitsPerComponent:K?J:void 0,colorBytes:Q,alphaBytes:q,needSMask:K}})(i):(function(D){var _=D.data,G=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?(function(L){for(var T=L.length,J=new Uint8Array(2*T),R=new DataView(J.buffer,J.byteOffset,J.byteLength),re=0;re<T;re++)R.setUint16(2*re,L[re],!1);return J})(_):_,needSMask:!1}})(i);var h,m,p,v=s,g=v.colorSpace,y=v.colorsPerPixel,w=v.sMaskBitsPerComponent,j=v.colorBytes,C=v.alphaBytes,E=v.needSMask,U=v.palette,k=v.mask,F=null;return a!==Ar.API.image_compression.NONE&&typeof Ty=="function"?(F=(function(D){var _;switch(D){case Ar.API.image_compression.FAST:_=11;break;case Ar.API.image_compression.MEDIUM:_=13;break;case Ar.API.image_compression.SLOW:_=14;break;default:_=12}return _})(a),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(F," /Colors ").concat(y," /BitsPerComponent ").concat(f," /Columns ").concat(o),e=YB(j,Math.ceil(o*y*f/8),y,f,a),E&&(p=YB(C,Math.ceil(o*w/8),1,w,a))):(h=void 0,m=void 0,e=j,E&&(p=C)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:e,index:r,filter:h,decodeParameters:m,transparency:k,palette:U,sMask:p,predictor:F,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:w,colorSpace:g}}},(function(e){e.processGIF89A=function(r,t,a,s){var i=new oV(r),o=i.width,l=i.height,A=[];i.decodeAndBlitFrameRGBA(0,A);var d={data:A,width:o,height:l},f=new _w(100).encode(d,100);return e.processJPEG.call(this,f,t,a,s)},e.processGIF87A=e.processGIF89A})(Ar.API),ml.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var r=0;r<e;r++){var t=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:s,green:a,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ml.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[e]()}catch(t){en.log("bit decode error:"+t)}},ml.prototype.bit1=function(){var e,r=Math.ceil(this.width/8),t=r%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<r;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var A=this.palette[i>>7-l&1];this.data[o+4*l]=A.blue,this.data[o+4*l+1]=A.green,this.data[o+4*l+2]=A.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},ml.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),r=e%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,A=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*s+1>=this.width)break;d=this.palette[A],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}r!==0&&(this.pos+=4-r)}},ml.prototype.bit8=function(){for(var e=this.width%4,r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ml.prototype.bit15=function(){for(var e=this.width%3,r=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&r)/r*255|0,l=(i>>5&r)/r*255|0,A=(i>>10&r)/r*255|0,d=i>>15?255:0,f=a*this.width*4+4*s;this.data[f]=A,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},ml.prototype.bit16=function(){for(var e=this.width%3,r=parseInt("11111",2),t=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&r)/r*255|0,A=(o>>5&t)/t*255|0,d=(o>>11)/r*255|0,f=s*this.width*4+4*i;this.data[f]=d,this.data[f+1]=A,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},ml.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*t;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},ml.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*t;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},ml.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(r,t,a,s){var i=new ml(r,!1),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},d=new _w(100).encode(A,100);return e.processJPEG.call(this,d,t,a,s)}})(Ar.API),aC.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(r,t,a,s){var i=new aC(r),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},d=new _w(100).encode(A,100);return e.processJPEG.call(this,d,t,a,s)}})(Ar.API),Ar.API.processRGBA=function(e,r,t){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,A=0,d=0;d<s;d+=4){var f=a[d],h=a[d+1],m=a[d+2],p=a[d+3];i[l++]=f,i[l++]=h,i[l++]=m,o[A++]=p}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:r,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ar.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},uf=Ar.API,Wp=uf.getCharWidthsArray=function(e,r){var t,a,s=(r=r||{}).font||this.internal.getFont(),i=r.fontSize||this.internal.getFontSize(),o=r.charSpace||this.internal.getCharSpace(),l=r.widths?r.widths:s.metadata.Unicode.widths,A=l.fof?l.fof:1,d=r.kerning?r.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,h=r.doKerning!==!1,m=0,p=e.length,v=0,g=l[0]||A,y=[];for(t=0;t<p;t++)a=e.charCodeAt(t),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(m=h&&$a(d[a])==="object"&&!isNaN(parseInt(d[a][v],10))?d[a][v]/f:0,y.push((l[a]||g)/A+m)),v=a;return y},qB=uf.getStringUnitWidth=function(e,r){var t=(r=r||{}).fontSize||this.internal.getFontSize(),a=r.font||this.internal.getFont(),s=r.charSpace||this.internal.getCharSpace();return uf.processArabic&&(e=uf.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,t,s)/t:Wp.apply(this,arguments).reduce(function(i,o){return i+o},0)},WB=function(e,r,t,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+r[i]<t;)l+=r[i],i++;s.push(e.slice(0,i));var A=i;for(l=0;i!==o;)l+r[i]>a&&(s.push(e.slice(A,i)),l=0,A=i),l+=r[i],i++;return A!==i&&s.push(e.slice(A,i)),s},GB=function(e,r,t){t||(t={});var a,s,i,o,l,A,d,f=[],h=[f],m=t.textIndent||0,p=0,v=0,g=e.split(" "),y=Wp.apply(this,[" ",t])[0];if(A=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var w=Array(A).join(" "),j=[];g.map(function(E){(E=E.split(/\s*\n/)).length>1?j=j.concat(E.map(function(U,k){return(k&&U.length?`
`:"")+U})):j.push(E[0])}),g=j,A=qB.apply(this,[w,t])}for(i=0,o=g.length;i<o;i++){var C=0;if(a=g[i],A&&a[0]==`
`&&(a=a.substr(1),C=1),m+p+(v=(s=Wp.apply(this,[a,t])).reduce(function(E,U){return E+U},0))>r||C){if(v>r){for(l=WB.apply(this,[a,s,r-(m+p),r]),f.push(l.shift()),f=[l.pop()];l.length;)h.push([l.shift()]);v=s.slice(a.length-(f[0]?f[0].length:0)).reduce(function(E,U){return E+U},0)}else f=[a];h.push(f),m=v+A,p=y}else f.push(a),m+=p+v,p=y}return d=A?function(E,U){return(U?w:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(d)},uf.splitTextToSize=function(e,r,t){var a,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*r/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var l,A,d=[];for(l=0,A=a.length;l<A;l++)d=d.concat(GB.apply(this,[a[l],o,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var r="0123456789abcdef",t="klmnopqrstuvwxyz",a={},s={},i=0;i<16;i++)a[t[i]]=r[i],s[r[i]]=t[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var p,v,g,y,w=["{"];for(var j in m){if(p=m[j],isNaN(parseInt(j,10))?v="'"+j+"'":(j=parseInt(j,10),v=(v=o(j).slice(2)).slice(0,-1)+s[v.slice(-1)]),typeof p=="number")p<0?(g=o(p).slice(3),y="-"):(g=o(p).slice(2),y=""),g=y+g.slice(0,-1)+s[g.slice(-1)];else{if($a(p)!=="object")throw new Error("Don't know what to do with value type "+$a(p)+".");g=l(p)}w.push(v+g)}return w.push("}"),w.join("")},A=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,g,y,w={},j=1,C=w,E=[],U="",k="",F=m.length-1,D=1;D<F;D+=1)(y=m[D])=="'"?p?(g=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(E.push([C,g]),C={},g=void 0):y=="}"?((v=E.pop())[0][v[1]]=C,g=void 0,C=v[0]):y=="-"?j=-1:g===void 0?a.hasOwnProperty(y)?(U+=a[y],g=parseInt(U,16)*j,j=1,U=""):U+=y:a.hasOwnProperty(y)?(k+=a[y],C[g]=parseInt(k,16)*j,j=1,g=void 0,k=""):k+=y;return w},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var p=m.font,v=h.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var g=f.Unicode[p.postScriptName];g&&(p.metadata.Unicode.encoding=g,p.encoding=g.codePages[0])}])})(Ar.API),(function(e){var r=function(t){for(var a=t.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=t.charCodeAt(i);return s};e.API.events.push(["addFont",function(t){var a=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?r(l):r(Qg(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])})(Ar),Ar.API.addSvgAsImage=function(e,r,t,a,s,i,o,l){if(isNaN(r)||isNaN(t))throw en.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw en.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=a,A.height=s;var d=A.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,A.width,A.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(kr.canvg?Promise.resolve(kr.canvg):ui(()=>import("./index.es-zZCQ3x_y.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){h.addImage(A.toDataURL("image/jpeg",1),r,t,a,s,o,l)})},Ar.API.putTotalPages=function(e){var r,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(r,t);return this},Ar.API.viewerPreferences=function(e,r){var t;e=e||{},r=r||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),A=[],d=0,f=0,h=0;function m(v,g){var y,w=!1;for(y=0;y<v.length;y+=1)v[y]===g&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||r===!0){var p=l.length;for(h=0;h<p;h+=1)t[l[h]].value=t[l[h]].defaultValue,t[l[h]].explicitSet=!1}if($a(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&m(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(d=0;d<i.length;d+=1)if(a=!0,i[d].length===1&&typeof i[d][0]=="number")A.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(a=!1);a===!0&&A.push([i[d][0]-1,i[d][1]-1].join(" "))}t[s].value="["+A.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in t)t[v].explicitSet===!0&&(t[v].type==="name"?g.push("/"+v+" /"+t[v].value):g.push("/"+v+" "+t[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(e){var r=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+s.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+A),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",r)),this}})(Ar.API),(function(e){var r=e.API,t=r.pdfEscape16=function(i,o){for(var l,A=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),A.indexOf(l)==-1&&(A.push(l),A.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},a=function(i){var o,l,A,d,f,h,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],h=0,m=(l=Object.keys(i).sort(function(p,v){return p-v})).length;h<m;h++)o=l[h],A.length>=100&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+d+">"));return A.length&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<m.length;v++)p+=String.fromCharCode(m[v]);var g=d();f({data:p,addLength1:!0,objectId:g}),A("endobj");var y=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:y}),A("endobj");var w=d();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+yf(l.fontName)),A("/FontFile2 "+g+" 0 R"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/Flags "+l.metadata.flags),A("/StemV "+l.metadata.stemV),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A(">>"),A("endobj");var j=d();A("<<"),A("/Type /Font"),A("/BaseFont /"+yf(l.fontName)),A("/FontDescriptor "+w+" 0 R"),A("/W "+e.API.PDFObject.convert(h)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+l.encoding+")"),A(">>"),A(">>"),A("endobj"),l.objectNumber=d(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+y+" 0 R"),A("/BaseFont /"+yf(l.fontName)),A("/Encoding /"+l.encoding),A("/DescendantFonts ["+j+" 0 R]"),A(">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]),r.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var v=d();f({data:m,addLength1:!0,objectId:v}),A("endobj");var g=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:g}),A("endobj");var y=d();A("<<"),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A("/StemV "+l.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+v+" 0 R"),A("/Flags 96"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/FontName /"+yf(l.fontName)),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A(">>"),A("endobj"),l.objectNumber=d();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+yf(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",A=i.x,d=i.y,f=i.options||{},h=i.mutex||{},m=h.pdfEscape,p=h.activeFontKey,v=h.fonts,g=p,y="",w=0,j="",C=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:l,x:A,y:d,options:f,mutex:h};for(j=l,g=p,Array.isArray(l)&&(j=l[0]),w=0;w<j.length;w+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[j[w].charCodeAt(0)]),o||j[w].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?y+=j[w]:y+="";var E="";return parseInt(g.slice(1))<14||C==="WinAnsiEncoding"?E=m(y,g).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(E=t(y,v[g])),h.isHex=!0,{text:E,x:A,y:d,options:f,mutex:h}};r.events.push(["postProcessText",function(i){var o=i.text||"",l=[],A={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([s(Object.assign({},A,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(s(Object.assign({},A,{text:o[d]})).text);i.text=l}else i.text=s(Object.assign({},A,{text:o})).text}])})(Ar),(function(e){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,a){return r.call(this),this.internal.vFS[t]=a,this},e.getFileFromVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ar.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,A,d,f,h=r,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,C=0;this.__bidiEngine__={};var E=function(L){var T=L.charCodeAt(),J=T>>8,R=g[J];return R!==void 0?h[256*R+(255&T)]:J===252||J===253?"AL":w.test(J)?"L":J===8?"R":"N"},U=function(L){for(var T,J=0;J<L.length;J++){if((T=E(L.charAt(J)))==="L")return!1;if(T==="R")return!0}return!1},k=function(L,T,J,R){var re,V,Y,H,Z=T[R];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(Z="AN");break;case"AL":j=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":R<1||R+1>=T.length||(re=J[R-1])!=="EN"&&re!=="AN"||(V=T[R+1])!=="EN"&&V!=="AN"?Z="N":j&&(V="AN"),Z=V===re?V:"N";break;case"ES":Z=(re=R>0?J[R-1]:"B")==="EN"&&R+1<T.length&&T[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&J[R-1]==="EN"){Z="EN";break}if(j){Z="N";break}for(Y=R+1,H=T.length;Y<H&&T[Y]==="ET";)Y++;Z=Y<H&&T[Y]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(H=T.length,Y=R+1;Y<H&&T[Y]==="NSM";)Y++;if(Y<H){var Ae=L[R],ee=Ae>=1425&&Ae<=2303||Ae===64286;if(re=T[Y],ee&&(re==="R"||re==="AL")){Z="R";break}}}Z=R<1||(re=T[R-1])==="B"?"N":J[R-1];break;case"B":j=!1,s=!0,Z=C;break;case"S":i=!0,Z="N"}return Z},F=function(L,T,J){var R=L.split("");return J&&D(R,J,{hiLevel:C}),R.reverse(),T&&T.reverse(),R.join("")},D=function(L,T,J){var R,re,V,Y,H,Z=-1,Ae=L.length,ee=0,Q=[],q=C?p:m,$=[];for(j=!1,s=!1,i=!1,re=0;re<Ae;re++)$[re]=E(L[re]);for(V=0;V<Ae;V++){if(H=ee,Q[V]=k(L,$,Q,V),R=240&(ee=q[H][v[Q[V]]]),ee&=15,T[V]=Y=q[ee][5],R>0)if(R===16){for(re=Z;re<V;re++)T[re]=1;Z=-1}else Z=-1;if(q[ee][6])Z===-1&&(Z=V);else if(Z>-1){for(re=Z;re<V;re++)T[re]=Y;Z=-1}$[V]==="B"&&(T[V]=0),J.hiLevel|=Y}i&&(function(X,te,K){for(var z=0;z<K;z++)if(X[z]==="S"){te[z]=C;for(var se=z-1;se>=0&&X[se]==="WS";se--)te[se]=C}})($,T,Ae)},_=function(L,T,J,R,re){if(!(re.hiLevel<L)){if(L===1&&C===1&&!s)return T.reverse(),void(J&&J.reverse());for(var V,Y,H,Z,Ae=T.length,ee=0;ee<Ae;){if(R[ee]>=L){for(H=ee+1;H<Ae&&R[H]>=L;)H++;for(Z=ee,Y=H-1;Z<Y;Z++,Y--)V=T[Z],T[Z]=T[Y],T[Y]=V,J&&(V=J[Z],J[Z]=J[Y],J[Y]=V);ee=H}ee++}}},G=function(L,T,J){var R=L.split(""),re={hiLevel:C};return J||(J=[]),D(R,J,re),(function(V,Y,H){if(H.hiLevel!==0&&f)for(var Z,Ae=0;Ae<V.length;Ae++)Y[Ae]===1&&(Z=y.indexOf(V[Ae]))>=0&&(V[Ae]=y[Z+1])})(R,J,re),_(2,R,T,J,re),_(1,R,T,J,re),R.join("")};return this.__bidiEngine__.doBidiReorder=function(L,T,J){if((function(re,V){if(V)for(var Y=0;Y<re.length;Y++)V[Y]=Y;l===void 0&&(l=U(re)),d===void 0&&(d=U(re))})(L,T),o||!A||d)if(o&&A&&l^d)C=l?1:0,L=F(L,T,J);else if(!o&&A&&d)C=l?1:0,L=G(L,T,J),L=F(L,T);else if(!o||l||A||d){if(o&&!A&&l^d)L=F(L,T),l?(C=0,L=G(L,T,J)):(C=1,L=G(L,T,J),L=F(L,T));else if(o&&l&&!A&&d)C=1,L=G(L,T,J),L=F(L,T);else if(!o&&!A&&l^d){var R=f;l?(C=1,L=G(L,T,J),C=0,f=!1,L=G(L,T,J),f=R):(C=0,L=G(L,T,J),L=F(L,T),C=1,f=!1,L=G(L,T,J),f=R,L=F(L,T))}}else C=0,L=G(L,T,J);else C=l?1:0,L=G(L,T,J);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,A=L.isOutputVisual,l=L.isInputRtl,d=L.isOutputRtl,f=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([t.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([t.doBidiReorder(s[l])]);a.text=o}else a.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(Ar),Ar.API.TTFFont=(function(){function e(r){var t;if(this.rawData=r,t=this.contents=new gd(r),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new bV(this),this.registerTTF()}return e.open=function(r){return new e(r)},e.prototype.parse=function(){return this.directory=new lV(this.contents),this.head=new AV(this),this.name=new mV(this),this.cmap=new N3(this),this.toUnicode={},this.hhea=new dV(this),this.maxp=new pV(this),this.hmtx=new gV(this),this.post=new fV(this),this.os2=new uV(this),this.loca=new yV(this),this.glyf=new xV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var r,t,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,A,d;for(d=[],o=0,l=(A=this.bbox).length;o<l;o++)r=A[o],d.push(Math.round(r*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(r){var t;return((t=this.cmap.unicode)!=null?t.codeMap[r]:void 0)||0},e.prototype.widthOfGlyph=function(r){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*t},e.prototype.widthOfString=function(r,t,a){var s,i,o,l;for(o=0,i=0,l=(r=""+r).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=r.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(r,t){var a;return t==null&&(t=!1),a=t?this.lineGap:0,(this.ascender+a-this.decender)/1e3*r},e})();var _l,gd=(function(){function e(r){this.data=r??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(r){return this.data[this.pos++]=r},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},e.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},e.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},e.prototype.readString=function(r){var t,a;for(a=[],t=0;0<=r?t<r:t>r;t=0<=r?++t:--t)a[t]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(r){var t,a,s;for(s=[],t=0,a=r.length;0<=a?t<a:t>a;t=0<=a?++t:--t)s.push(this.writeByte(r.charCodeAt(t)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(r){return this.writeInt16(r)},e.prototype.readLongLong=function(){var r,t,a,s,i,o,l,A;return r=this.readByte(),t=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),A=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^t)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^A)+1):72057594037927940*r+281474976710656*t+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+A},e.prototype.writeLongLong=function(r){var t,a;return t=Math.floor(r/4294967296),a=4294967295&r,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(r){return this.writeInt32(r)},e.prototype.read=function(r){var t,a;for(t=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)t.push(this.readByte());return t},e.prototype.write=function(r){var t,a,s,i;for(i=[],a=0,s=r.length;a<s;a++)t=r[a],i.push(this.writeByte(t));return i},e})(),lV=(function(){var e;function r(t){var a,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[a.tag]=a}return r.prototype.encode=function(t){var a,s,i,o,l,A,d,f,h,m,p,v,g;for(g in p=Object.keys(t).length,A=Math.log(2),h=16*Math.floor(Math.log(p)/A),o=Math.floor(h/A),f=16*p-h,(s=new gd).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(o),s.writeShort(f),i=16*p,d=s.pos+i,l=null,v=[],t)for(m=t[g],s.writeString(g),s.writeInt(e(m)),s.writeInt(d),s.writeInt(m.length),v=v.concat(m),g==="head"&&(l=d),d+=m.length;d%4;)v.push(0),d++;return s.write(v),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(t){var a,s,i,o;for(t=j3.call(t);t.length%4;)t.push(0);for(i=new gd(t),s=0,a=0,o=t.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},r})(),cV={}.hasOwnProperty,gc=function(e,r){for(var t in r)cV.call(r,t)&&(e[t]=r[t]);function a(){this.constructor=e}return a.prototype=r.prototype,e.prototype=new a,e.__super__=r.prototype,e};_l=(function(){function e(r){var t;this.file=r,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var AV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,_l),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var t;return(t=new gd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(r),t.writeShort(this.glyphDataFormat),t.data},e})(),nC=(function(){function e(r,t){var a,s,i,o,l,A,d,f,h,m,p,v,g,y,w,j,C;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=t+r.readInt(),h=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=r.readByte();break;case 4:for(p=r.readUInt16(),m=p/2,r.pos+=6,i=(function(){var E,U;for(U=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)U.push(r.readUInt16());return U})(),r.pos+=2,g=(function(){var E,U;for(U=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)U.push(r.readUInt16());return U})(),d=(function(){var E,U;for(U=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)U.push(r.readUInt16());return U})(),f=(function(){var E,U;for(U=[],A=E=0;0<=m?E<m:E>m;A=0<=m?++E:--E)U.push(r.readUInt16());return U})(),s=(this.length-r.pos+this.offset)/2,l=(function(){var E,U;for(U=[],A=E=0;0<=s?E<s:E>s;A=0<=s?++E:--E)U.push(r.readUInt16());return U})(),A=w=0,C=i.length;w<C;A=++w)for(y=i[A],a=j=v=g[A];v<=y?j<=y:j>=y;a=v<=y?++j:--j)f[A]===0?o=a+d[A]:(o=l[f[A]/2+(a-v)-(m-A)]||0)!==0&&(o+=d[A]),this.codeMap[a]=65535&o}r.pos=h}return e.encode=function(r,t){var a,s,i,o,l,A,d,f,h,m,p,v,g,y,w,j,C,E,U,k,F,D,_,G,L,T,J,R,re,V,Y,H,Z,Ae,ee,Q,q,$,X,te,K,z,se,fe,be,Be;switch(R=new gd,o=Object.keys(r).sort(function(Qe,xe){return Qe-xe}),t){case"macroman":for(g=0,y=(function(){var Qe=[];for(v=0;v<256;++v)Qe.push(0);return Qe})(),j={0:0},i={},re=0,Z=o.length;re<Z;re++)j[se=r[s=o[re]]]==null&&(j[se]=++g),i[s]={old:r[s],new:j[r[s]]},y[s]=j[r[s]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(y),{charMap:i,subtable:R.data,maxGlyphID:g+1};case"unicode":for(T=[],h=[],C=0,j={},a={},w=d=null,V=0,Ae=o.length;V<Ae;V++)j[U=r[s=o[V]]]==null&&(j[U]=++C),a[s]={old:U,new:j[U]},l=j[U]-s,w!=null&&l===d||(w&&h.push(w),T.push(s),d=l),w=s;for(w&&h.push(w),h.push(65535),T.push(65535),G=2*(_=T.length),D=2*Math.pow(Math.log(_)/Math.LN2,2),m=Math.log(D/2)/Math.LN2,F=2*_-D,A=[],k=[],p=[],v=Y=0,ee=T.length;Y<ee;v=++Y){if(L=T[v],f=h[v],L===65535){A.push(0),k.push(0);break}if(L-(J=a[L].new)>=32768)for(A.push(0),k.push(2*(p.length+_-v)),s=H=L;L<=f?H<=f:H>=f;s=L<=f?++H:--H)p.push(a[s].new);else A.push(J-L),k.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*_+2*p.length),R.writeUInt16(0),R.writeUInt16(G),R.writeUInt16(D),R.writeUInt16(m),R.writeUInt16(F),K=0,Q=h.length;K<Q;K++)s=h[K],R.writeUInt16(s);for(R.writeUInt16(0),z=0,q=T.length;z<q;z++)s=T[z],R.writeUInt16(s);for(fe=0,$=A.length;fe<$;fe++)l=A[fe],R.writeUInt16(l);for(be=0,X=k.length;be<X;be++)E=k[be],R.writeUInt16(E);for(Be=0,te=p.length;Be<te;Be++)g=p[Be],R.writeUInt16(g);return{charMap:a,subtable:R.data,maxGlyphID:C+1}}},e})(),N3=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,_l),e.prototype.tag="cmap",e.prototype.parse=function(r){var t,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)t=new nC(r,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},e.encode=function(r,t){var a,s;return t==null&&(t="macroman"),a=nC.encode(r,t),(s=new gd).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e})(),dV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,_l),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e})(),uV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,_l),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var t,a;for(a=[],t=0;t<10;++t)a.push(r.readByte());return a})(),this.charRange=(function(){var t,a;for(a=[],t=0;t<4;++t)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var t,a;for(a=[],t=0;t<2;t=++t)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e})(),fV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,_l),e.prototype.tag="post",e.prototype.parse=function(r){var t,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)t=r.readByte(),s.push(this.names.push(r.readString(t)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 262144:return this.map=(function(){var o,l,A;for(A=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)A.push(r.readUInt32());return A}).call(this)}},e})(),hV=function(e,r){this.raw=e,this.length=e.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},mV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,_l),e.prototype.tag="name",e.prototype.parse=function(r){var t,a,s,i,o,l,A,d,f,h,m;for(r.pos=this.offset,r.readShort(),t=r.readShort(),l=r.readShort(),a=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(A={},i=f=0,h=a.length;f<h;i=++f)s=a[i],r.pos=s.offset,d=r.readString(s.length),o=new hV(d,s),A[m=s.nameID]==null&&(A[m]=[]),A[s.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e})(),pV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,_l),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e})(),gV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,_l),e.prototype.tag="hmtx",e.prototype.parse=function(r){var t,a,s,i,o,l,A;for(r.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)f.push(r.readInt16());return f})(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)i=h[d],m.push(i.advance);return m}).call(this),a=this.widths[this.widths.length-1],A=[],t=o=0;0<=s?o<s:o>s;t=0<=s?++o:--o)A.push(this.widths.push(a));return A},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e})(),j3=[].slice,xV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,_l),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var t,a,s,i,o,l,A,d,f,h;return r in this.cache?this.cache[r]:(i=this.file.loca,t=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(t.pos=this.offset+a,o=(l=new gd(t.read(s))).readShort(),d=l.readShort(),h=l.readShort(),A=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new wV(l,d,h,A,f):new vV(l,o,d,h,A,f),this.cache[r]))},e.prototype.encode=function(r,t,a){var s,i,o,l,A;for(o=[],i=[],l=0,A=t.length;l<A;l++)s=r[t[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},e})(),vV=(function(){function e(r,t,a,s,i,o){this.raw=r,this.numberOfContours=t,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),wV=(function(){function e(r,t,a,s,i){var o,l;for(this.raw=r,this.xMin=t,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var r,t,a;for(t=new gd(j3.call(this.raw.data)),r=0,a=this.glyphIDs.length;r<a;++r)t.pos=this.glyphOffsets[r];return t.data},e})(),yV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gc(e,_l),e.prototype.tag="loca",e.prototype.parse=function(r){var t,a;return r.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,t){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<t.length&&t[i]==o){++i,a[o]=s;var l=this.offsets[o],A=this.offsets[o+1]-l;A>0&&(s+=A)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},e})(),bV=(function(){function e(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var r,t,a,s,i;for(t in s=this.font.cmap.tables[0].codeMap,r={},i=this.subset)a=i[t],r[t]=s[a];return r},e.prototype.glyphsFor=function(r){var t,a,s,i,o,l,A;for(s={},o=0,l=r.length;o<l;o++)s[i=r[o]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(a=s[i])!=null&&a.compound&&t.push.apply(t,a.glyphIDs);if(t.length>0)for(i in A=this.glyphsFor(t))a=A[i],s[i]=a;return s},e.prototype.encode=function(r,t){var a,s,i,o,l,A,d,f,h,m,p,v,g,y,w;for(s in a=N3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(r),p={0:0},w=a.charMap)p[(A=w[s]).old]=A.new;for(v in m=a.maxGlyphID,o)v in p||(p[v]=m++);return f=(function(j){var C,E;for(C in E={},j)E[j[C]]=C;return E})(p),h=Object.keys(f).sort(function(j,C){return j-C}),g=(function(){var j,C,E;for(E=[],j=0,C=h.length;j<C;j++)l=h[j],E.push(f[l]);return E})(),i=this.font.glyf.encode(o,g,p),d=this.font.loca.encode(i.offsets,g),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e})();Ar.API.PDFObject=(function(){var e;function r(){}return e=function(t,a){return(Array(a+1).join("0")+t).slice(-a)},r.convert=function(t){var a,s,i,o;if(Array.isArray(t))return"["+(function(){var l,A,d;for(d=[],l=0,A=t.length;l<A;l++)a=t[l],d.push(r.convert(a));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)o=t[s],i.push("/"+s+" "+r.convert(o));return i.push(">>"),i.join(`
`)}return""+t},r})();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wy=function(e,r){return Wy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},Wy(e,r)};function El(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Wy(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Gy=function(){return Gy=Object.assign||function(r){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Gy.apply(this,arguments)};function bi(e,r,t,a){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(f){try{d(a.next(f))}catch(h){o(h)}}function A(f){try{d(a.throw(f))}catch(h){o(h)}}function d(f){f.done?i(f.value):s(f.value).then(l,A)}d((a=a.apply(e,[])).next())})}function ii(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return A([d,f])}}function A(d){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=r.call(e,t)}catch(f){d=[6,f],s=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Gp(e,r,t){if(arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||r)}var mA=(function(){function e(r,t,a,s){this.left=r,this.top=t,this.width=a,this.height=s}return e.prototype.add=function(r,t,a,s){return new e(this.left+r,this.top+t,this.width+a,this.height+s)},e.fromClientRect=function(r,t){return new e(t.left+r.windowBounds.left,t.top+r.windowBounds.top,t.width,t.height)},e.fromDOMRectList=function(r,t){var a=Array.from(t).find(function(s){return s.width!==0});return a?new e(a.left+r.windowBounds.left,a.top+r.windowBounds.top,a.width,a.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),_x=function(e,r){return mA.fromClientRect(e,r.getBoundingClientRect())},NV=function(e){var r=e.body,t=e.documentElement;if(!r||!t)throw new Error("Unable to get document size");var a=Math.max(Math.max(r.scrollWidth,t.scrollWidth),Math.max(r.offsetWidth,t.offsetWidth),Math.max(r.clientWidth,t.clientWidth)),s=Math.max(Math.max(r.scrollHeight,t.scrollHeight),Math.max(r.offsetHeight,t.offsetHeight),Math.max(r.clientHeight,t.clientHeight));return new mA(0,0,a,s)},Ex=function(e){for(var r=[],t=0,a=e.length;t<a;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319&&t<a){var i=e.charCodeAt(t++);(i&64512)===56320?r.push(((s&1023)<<10)+(i&1023)+65536):(r.push(s),t--)}else r.push(s)}return r},Yn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var a=[],s=-1,i="";++s<t;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===t||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},sC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yp=0;Yp<sC.length;Yp++)jV[sC.charCodeAt(Yp)]=Yp;var iC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$h=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xp=0;Xp<iC.length;Xp++)$h[iC.charCodeAt(Xp)]=Xp;var BV=function(e){var r=e.length*.75,t=e.length,a,s=0,i,o,l,A;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),f=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<t;a+=4)i=$h[e.charCodeAt(a)],o=$h[e.charCodeAt(a+1)],l=$h[e.charCodeAt(a+2)],A=$h[e.charCodeAt(a+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},CV=function(e){for(var r=e.length,t=[],a=0;a<r;a+=2)t.push(e[a+1]<<8|e[a]);return t},SV=function(e){for(var r=e.length,t=[],a=0;a<r;a+=4)t.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return t},uu=5,Eb=11,Ew=2,_V=Eb-uu,B3=65536>>uu,EV=1<<uu,Fw=EV-1,FV=1024>>uu,kV=B3+FV,DV=kV,UV=32,LV=DV+UV,IV=65536>>Eb,PV=1<<_V,QV=PV-1,oC=function(e,r,t){return e.slice?e.slice(r,t):new Uint16Array(Array.prototype.slice.call(e,r,t))},RV=function(e,r,t){return e.slice?e.slice(r,t):new Uint32Array(Array.prototype.slice.call(e,r,t))},MV=function(e,r){var t=BV(e),a=Array.isArray(t)?SV(t):new Uint32Array(t),s=Array.isArray(t)?CV(t):new Uint16Array(t),i=24,o=oC(s,i/2,a[4]/2),l=a[5]===2?oC(s,(i+a[4])/2):RV(a,Math.ceil((i+a[4])/4));return new TV(a[0],a[1],a[2],a[3],o,l)},TV=(function(){function e(r,t,a,s,i,o){this.initialValue=r,this.errorValue=t,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(r){var t;if(r>=0){if(r<55296||r>56319&&r<=65535)return t=this.index[r>>uu],t=(t<<Ew)+(r&Fw),this.data[t];if(r<=65535)return t=this.index[B3+(r-55296>>uu)],t=(t<<Ew)+(r&Fw),this.data[t];if(r<this.highStart)return t=LV-IV+(r>>Eb),t=this.index[t],t+=r>>uu&QV,t=this.index[t],t=(t<<Ew)+(r&Fw),this.data[t];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),lC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",OV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jp=0;Jp<lC.length;Jp++)OV[lC.charCodeAt(Jp)]=Jp;var HV="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",cC=50,$V=1,C3=2,S3=3,KV=4,VV=5,AC=7,_3=8,dC=9,nd=10,Yy=11,uC=12,Xy=13,zV=14,Kh=15,Jy=16,Zp=17,Ph=18,qV=19,fC=20,Zy=21,Qh=22,kw=23,ff=24,Ao=25,Vh=26,zh=27,hf=28,WV=29,eu=30,GV=31,eg=32,tg=33,t1=34,r1=35,a1=36,vm=37,n1=38,Hg=39,$g=40,Dw=41,E3=42,YV=43,XV=[9001,65288],F3="!",da="",rg="",s1=MV(HV),Yc=[eu,a1],i1=[$V,C3,S3,VV],k3=[nd,_3],hC=[zh,Vh],JV=i1.concat(k3),mC=[n1,Hg,$g,t1,r1],ZV=[Kh,Xy],ez=function(e,r){r===void 0&&(r="strict");var t=[],a=[],s=[];return e.forEach(function(i,o){var l=s1.get(i);if(l>cC?(s.push(!0),l-=cC):s.push(!1),["normal","auto","loose"].indexOf(r)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return a.push(o),t.push(Jy);if(l===KV||l===Yy){if(o===0)return a.push(o),t.push(eu);var A=t[o-1];return JV.indexOf(A)===-1?(a.push(a[o-1]),t.push(A)):(a.push(o),t.push(eu))}if(a.push(o),l===GV)return t.push(r==="strict"?Zy:vm);if(l===E3||l===WV)return t.push(eu);if(l===YV)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(vm):t.push(eu);t.push(l)}),[a,t,s]},Uw=function(e,r,t,a){var s=a[t];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=t;i<=a.length;){i++;var o=a[i];if(o===r)return!0;if(o!==nd)break}if(s===nd)for(var i=t;i>0;){i--;var l=a[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var A=t;A<=a.length;){A++;var o=a[A];if(o===r)return!0;if(o!==nd)break}if(l!==nd)break}return!1},pC=function(e,r){for(var t=e;t>=0;){var a=r[t];if(a===nd)t--;else return a}return 0},tz=function(e,r,t,a,s){if(t[a]===0)return da;var i=a-1;if(Array.isArray(s)&&s[i]===!0)return da;var o=i-1,l=i+1,A=r[i],d=o>=0?r[o]:0,f=r[l];if(A===C3&&f===S3)return da;if(i1.indexOf(A)!==-1)return F3;if(i1.indexOf(f)!==-1||k3.indexOf(f)!==-1)return da;if(pC(i,r)===_3)return rg;if(s1.get(e[i])===Yy||(A===eg||A===tg)&&s1.get(e[l])===Yy||A===AC||f===AC||A===dC||[nd,Xy,Kh].indexOf(A)===-1&&f===dC||[Zp,Ph,qV,ff,hf].indexOf(f)!==-1||pC(i,r)===Qh||Uw(kw,Qh,i,r)||Uw([Zp,Ph],Zy,i,r)||Uw(uC,uC,i,r))return da;if(A===nd)return rg;if(A===kw||f===kw)return da;if(f===Jy||A===Jy)return rg;if([Xy,Kh,Zy].indexOf(f)!==-1||A===zV||d===a1&&ZV.indexOf(A)!==-1||A===hf&&f===a1||f===fC||Yc.indexOf(f)!==-1&&A===Ao||Yc.indexOf(A)!==-1&&f===Ao||A===zh&&[vm,eg,tg].indexOf(f)!==-1||[vm,eg,tg].indexOf(A)!==-1&&f===Vh||Yc.indexOf(A)!==-1&&hC.indexOf(f)!==-1||hC.indexOf(A)!==-1&&Yc.indexOf(f)!==-1||[zh,Vh].indexOf(A)!==-1&&(f===Ao||[Qh,Kh].indexOf(f)!==-1&&r[l+1]===Ao)||[Qh,Kh].indexOf(A)!==-1&&f===Ao||A===Ao&&[Ao,hf,ff].indexOf(f)!==-1)return da;if([Ao,hf,ff,Zp,Ph].indexOf(f)!==-1)for(var h=i;h>=0;){var m=r[h];if(m===Ao)return da;if([hf,ff].indexOf(m)!==-1)h--;else break}if([zh,Vh].indexOf(f)!==-1)for(var h=[Zp,Ph].indexOf(A)!==-1?o:i;h>=0;){var m=r[h];if(m===Ao)return da;if([hf,ff].indexOf(m)!==-1)h--;else break}if(n1===A&&[n1,Hg,t1,r1].indexOf(f)!==-1||[Hg,t1].indexOf(A)!==-1&&[Hg,$g].indexOf(f)!==-1||[$g,r1].indexOf(A)!==-1&&f===$g||mC.indexOf(A)!==-1&&[fC,Vh].indexOf(f)!==-1||mC.indexOf(f)!==-1&&A===zh||Yc.indexOf(A)!==-1&&Yc.indexOf(f)!==-1||A===ff&&Yc.indexOf(f)!==-1||Yc.concat(Ao).indexOf(A)!==-1&&f===Qh&&XV.indexOf(e[l])===-1||Yc.concat(Ao).indexOf(f)!==-1&&A===Ph)return da;if(A===Dw&&f===Dw){for(var p=t[i],v=1;p>0&&(p--,r[p]===Dw);)v++;if(v%2!==0)return da}return A===eg&&f===tg?da:rg},rz=function(e,r){r||(r={lineBreak:"normal",wordBreak:"normal"});var t=ez(e,r.lineBreak),a=t[0],s=t[1],i=t[2];(r.wordBreak==="break-all"||r.wordBreak==="break-word")&&(s=s.map(function(l){return[Ao,eu,E3].indexOf(l)!==-1?vm:l}));var o=r.wordBreak==="keep-all"?i.map(function(l,A){return l&&e[A]>=19968&&e[A]<=40959}):void 0;return[a,s,o]},az=(function(){function e(r,t,a,s){this.codePoints=r,this.required=t===F3,this.start=a,this.end=s}return e.prototype.slice=function(){return Yn.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),nz=function(e,r){var t=Ex(e),a=rz(t,r),s=a[0],i=a[1],o=a[2],l=t.length,A=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var f=da;d<l&&(f=tz(t,i,s,++d,o))===da;);if(f!==da||d===l){var h=new az(t,f,A,d);return A=d,{value:h,done:!1}}return{done:!0,value:null}}}},sz=1,iz=2,Hm=4,gC=8,B0=10,xC=47,em=92,oz=9,lz=32,ag=34,Rh=61,cz=35,Az=36,dz=37,ng=39,sg=40,Mh=41,uz=95,$i=45,fz=33,hz=60,mz=62,pz=64,gz=91,xz=93,vz=61,wz=123,ig=63,yz=125,vC=124,bz=126,Nz=128,wC=65533,Lw=42,su=43,jz=44,Bz=58,Cz=59,wm=46,Sz=0,_z=8,Ez=11,Fz=14,kz=31,Dz=127,zl=-1,D3=48,U3=97,L3=101,Uz=102,Lz=117,Iz=122,I3=65,P3=69,Q3=70,Pz=85,Qz=90,li=function(e){return e>=D3&&e<=57},Rz=function(e){return e>=55296&&e<=57343},mf=function(e){return li(e)||e>=I3&&e<=Q3||e>=U3&&e<=Uz},Mz=function(e){return e>=U3&&e<=Iz},Tz=function(e){return e>=I3&&e<=Qz},Oz=function(e){return Mz(e)||Tz(e)},Hz=function(e){return e>=Nz},og=function(e){return e===B0||e===oz||e===lz},C0=function(e){return Oz(e)||Hz(e)||e===uz},yC=function(e){return C0(e)||li(e)||e===$i},$z=function(e){return e>=Sz&&e<=_z||e===Ez||e>=Fz&&e<=kz||e===Dz},ZA=function(e,r){return e!==em?!1:r!==B0},lg=function(e,r,t){return e===$i?C0(r)||ZA(r,t):C0(e)?!0:!!(e===em&&ZA(e,r))},Iw=function(e,r,t){return e===su||e===$i?li(r)?!0:r===wm&&li(t):li(e===wm?r:e)},Kz=function(e){var r=0,t=1;(e[r]===su||e[r]===$i)&&(e[r]===$i&&(t=-1),r++);for(var a=[];li(e[r]);)a.push(e[r++]);var s=a.length?parseInt(Yn.apply(void 0,a),10):0;e[r]===wm&&r++;for(var i=[];li(e[r]);)i.push(e[r++]);var o=i.length,l=o?parseInt(Yn.apply(void 0,i),10):0;(e[r]===P3||e[r]===L3)&&r++;var A=1;(e[r]===su||e[r]===$i)&&(e[r]===$i&&(A=-1),r++);for(var d=[];li(e[r]);)d.push(e[r++]);var f=d.length?parseInt(Yn.apply(void 0,d),10):0;return t*(s+l*Math.pow(10,-o))*Math.pow(10,A*f)},Vz={type:2},zz={type:3},qz={type:4},Wz={type:13},Gz={type:8},Yz={type:21},Xz={type:9},Jz={type:10},Zz={type:11},eq={type:12},tq={type:14},cg={type:23},rq={type:1},aq={type:25},nq={type:24},sq={type:26},iq={type:27},oq={type:28},lq={type:29},cq={type:31},o1={type:32},R3=(function(){function e(){this._value=[]}return e.prototype.write=function(r){this._value=this._value.concat(Ex(r))},e.prototype.read=function(){for(var r=[],t=this.consumeToken();t!==o1;)r.push(t),t=this.consumeToken();return r},e.prototype.consumeToken=function(){var r=this.consumeCodePoint();switch(r){case ag:return this.consumeStringToken(ag);case cz:var t=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(yC(t)||ZA(a,s)){var i=lg(t,a,s)?iz:sz,o=this.consumeName();return{type:5,value:o,flags:i}}break;case Az:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),Wz;break;case ng:return this.consumeStringToken(ng);case sg:return Vz;case Mh:return zz;case Lw:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),tq;break;case su:if(Iw(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case jz:return qz;case $i:var l=r,A=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Iw(l,A,d))return this.reconsumeCodePoint(r),this.consumeNumericToken();if(lg(l,A,d))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();if(A===$i&&d===mz)return this.consumeCodePoint(),this.consumeCodePoint(),nq;break;case wm:if(Iw(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case xC:if(this.peekCodePoint(0)===Lw)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===Lw&&(f=this.consumeCodePoint(),f===xC))return this.consumeToken();if(f===zl)return this.consumeToken()}break;case Bz:return sq;case Cz:return iq;case hz:if(this.peekCodePoint(0)===fz&&this.peekCodePoint(1)===$i&&this.peekCodePoint(2)===$i)return this.consumeCodePoint(),this.consumeCodePoint(),aq;break;case pz:var h=this.peekCodePoint(0),m=this.peekCodePoint(1),p=this.peekCodePoint(2);if(lg(h,m,p)){var o=this.consumeName();return{type:7,value:o}}break;case gz:return oq;case em:if(ZA(r,this.peekCodePoint(0)))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();break;case xz:return lq;case vz:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),Gz;break;case wz:return Zz;case yz:return eq;case Lz:case Pz:var v=this.peekCodePoint(0),g=this.peekCodePoint(1);return v===su&&(mf(g)||g===ig)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(r),this.consumeIdentLikeToken();case vC:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),Xz;if(this.peekCodePoint(0)===vC)return this.consumeCodePoint(),Yz;break;case bz:if(this.peekCodePoint(0)===Rh)return this.consumeCodePoint(),Jz;break;case zl:return o1}return og(r)?(this.consumeWhiteSpace(),cq):li(r)?(this.reconsumeCodePoint(r),this.consumeNumericToken()):C0(r)?(this.reconsumeCodePoint(r),this.consumeIdentLikeToken()):{type:6,value:Yn(r)}},e.prototype.consumeCodePoint=function(){var r=this._value.shift();return typeof r>"u"?-1:r},e.prototype.reconsumeCodePoint=function(r){this._value.unshift(r)},e.prototype.peekCodePoint=function(r){return r>=this._value.length?-1:this._value[r]},e.prototype.consumeUnicodeRangeToken=function(){for(var r=[],t=this.consumeCodePoint();mf(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();for(var a=!1;t===ig&&r.length<6;)r.push(t),t=this.consumeCodePoint(),a=!0;if(a){var s=parseInt(Yn.apply(void 0,r.map(function(A){return A===ig?D3:A})),16),i=parseInt(Yn.apply(void 0,r.map(function(A){return A===ig?Q3:A})),16);return{type:30,start:s,end:i}}var o=parseInt(Yn.apply(void 0,r),16);if(this.peekCodePoint(0)===$i&&mf(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];mf(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var i=parseInt(Yn.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var r=this.consumeName();return r.toLowerCase()==="url"&&this.peekCodePoint(0)===sg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===sg?(this.consumeCodePoint(),{type:19,value:r}):{type:20,value:r}},e.prototype.consumeUrlToken=function(){var r=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===zl)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===ng||t===ag){var a=this.consumeStringToken(this.consumeCodePoint());return a.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===zl||this.peekCodePoint(0)===Mh)?(this.consumeCodePoint(),{type:22,value:a.value}):(this.consumeBadUrlRemnants(),cg)}for(;;){var s=this.consumeCodePoint();if(s===zl||s===Mh)return{type:22,value:Yn.apply(void 0,r)};if(og(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===zl||this.peekCodePoint(0)===Mh?(this.consumeCodePoint(),{type:22,value:Yn.apply(void 0,r)}):(this.consumeBadUrlRemnants(),cg);if(s===ag||s===ng||s===sg||$z(s))return this.consumeBadUrlRemnants(),cg;if(s===em)if(ZA(s,this.peekCodePoint(0)))r.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),cg;else r.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;og(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var r=this.consumeCodePoint();if(r===Mh||r===zl)return;ZA(r,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(r){for(var t=5e4,a="";r>0;){var s=Math.min(t,r);a+=Yn.apply(void 0,this._value.splice(0,s)),r-=s}return this._value.shift(),a},e.prototype.consumeStringToken=function(r){var t="",a=0;do{var s=this._value[a];if(s===zl||s===void 0||s===r)return t+=this.consumeStringSlice(a),{type:0,value:t};if(s===B0)return this._value.splice(0,a),rq;if(s===em){var i=this._value[a+1];i!==zl&&i!==void 0&&(i===B0?(t+=this.consumeStringSlice(a),a=-1,this._value.shift()):ZA(s,i)&&(t+=this.consumeStringSlice(a),t+=Yn(this.consumeEscapedCodePoint()),a=-1))}a++}while(!0)},e.prototype.consumeNumber=function(){var r=[],t=Hm,a=this.peekCodePoint(0);for((a===su||a===$i)&&r.push(this.consumeCodePoint());li(this.peekCodePoint(0));)r.push(this.consumeCodePoint());a=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(a===wm&&li(s))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),t=gC;li(this.peekCodePoint(0));)r.push(this.consumeCodePoint());a=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((a===P3||a===L3)&&((s===su||s===$i)&&li(i)||li(s)))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),t=gC;li(this.peekCodePoint(0));)r.push(this.consumeCodePoint());return[Kz(r),t]},e.prototype.consumeNumericToken=function(){var r=this.consumeNumber(),t=r[0],a=r[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(lg(s,i,o)){var l=this.consumeName();return{type:15,number:t,flags:a,unit:l}}return s===dz?(this.consumeCodePoint(),{type:16,number:t,flags:a}):{type:17,number:t,flags:a}},e.prototype.consumeEscapedCodePoint=function(){var r=this.consumeCodePoint();if(mf(r)){for(var t=Yn(r);mf(this.peekCodePoint(0))&&t.length<6;)t+=Yn(this.consumeCodePoint());og(this.peekCodePoint(0))&&this.consumeCodePoint();var a=parseInt(t,16);return a===0||Rz(a)||a>1114111?wC:a}return r===zl?wC:r},e.prototype.consumeName=function(){for(var r="";;){var t=this.consumeCodePoint();if(yC(t))r+=Yn(t);else if(ZA(t,this.peekCodePoint(0)))r+=Yn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),r}},e})(),M3=(function(){function e(r){this._tokens=r}return e.create=function(r){var t=new R3;return t.write(r),new e(t.read())},e.parseValue=function(r){return e.create(r).parseComponentValue()},e.parseValues=function(r){return e.create(r).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var r=this.consumeToken();r.type===31;)r=this.consumeToken();if(r.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(r);var t=this.consumeComponentValue();do r=this.consumeToken();while(r.type===31);if(r.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var r=[];;){var t=this.consumeComponentValue();if(t.type===32)return r;r.push(t),r.push()}},e.prototype.consumeComponentValue=function(){var r=this.consumeToken();switch(r.type){case 11:case 28:case 2:return this.consumeSimpleBlock(r.type);case 19:return this.consumeFunction(r)}return r},e.prototype.consumeSimpleBlock=function(r){for(var t={type:r,values:[]},a=this.consumeToken();;){if(a.type===32||dq(a,r))return t;this.reconsumeToken(a),t.values.push(this.consumeComponentValue()),a=this.consumeToken()}},e.prototype.consumeFunction=function(r){for(var t={name:r.value,values:[],type:18};;){var a=this.consumeToken();if(a.type===32||a.type===3)return t;this.reconsumeToken(a),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var r=this._tokens.shift();return typeof r>"u"?o1:r},e.prototype.reconsumeToken=function(r){this._tokens.unshift(r)},e})(),$m=function(e){return e.type===15},ah=function(e){return e.type===17},Ga=function(e){return e.type===20},Aq=function(e){return e.type===0},l1=function(e,r){return Ga(e)&&e.value===r},T3=function(e){return e.type!==31},Kf=function(e){return e.type!==31&&e.type!==4},xc=function(e){var r=[],t=[];return e.forEach(function(a){if(a.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");r.push(t),t=[];return}a.type!==31&&t.push(a)}),t.length&&r.push(t),r},dq=function(e,r){return r===11&&e.type===12||r===28&&e.type===29?!0:r===2&&e.type===3},xd=function(e){return e.type===17||e.type===15},ds=function(e){return e.type===16||xd(e)},O3=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},$s={type:17,number:0,flags:Hm},Fb={type:16,number:50,flags:Hm},sd={type:16,number:100,flags:Hm},qh=function(e,r,t){var a=e[0],s=e[1];return[on(a,r),on(typeof s<"u"?s:a,t)]},on=function(e,r){if(e.type===16)return e.number/100*r;if($m(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},H3="deg",$3="grad",K3="rad",V3="turn",Fx={name:"angle",parse:function(e,r){if(r.type===15)switch(r.unit){case H3:return Math.PI*r.number/180;case $3:return Math.PI/200*r.number;case K3:return r.number;case V3:return Math.PI*2*r.number}throw new Error("Unsupported angle type")}},z3=function(e){return e.type===15&&(e.unit===H3||e.unit===$3||e.unit===K3||e.unit===V3)},q3=function(e){var r=e.filter(Ga).map(function(t){return t.value}).join(" ");switch(r){case"to bottom right":case"to right bottom":case"left top":case"top left":return[$s,$s];case"to top":case"bottom":return Oo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[$s,sd];case"to right":case"left":return Oo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[sd,sd];case"to bottom":case"top":return Oo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[sd,$s];case"to left":case"right":return Oo(270)}return 0},Oo=function(e){return Math.PI*e/180},Ad={name:"color",parse:function(e,r){if(r.type===18){var t=uq[r.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+r.name+'"');return t(e,r.values)}if(r.type===5){if(r.value.length===3){var a=r.value.substring(0,1),s=r.value.substring(1,2),i=r.value.substring(2,3);return id(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(r.value.length===4){var a=r.value.substring(0,1),s=r.value.substring(1,2),i=r.value.substring(2,3),o=r.value.substring(3,4);return id(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(r.value.length===6){var a=r.value.substring(0,2),s=r.value.substring(2,4),i=r.value.substring(4,6);return id(parseInt(a,16),parseInt(s,16),parseInt(i,16),1)}if(r.value.length===8){var a=r.value.substring(0,2),s=r.value.substring(2,4),i=r.value.substring(4,6),o=r.value.substring(6,8);return id(parseInt(a,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(r.type===20){var l=cA[r.value.toUpperCase()];if(typeof l<"u")return l}return cA.TRANSPARENT}},dd=function(e){return(255&e)===0},Us=function(e){var r=255&e,t=255&e>>8,a=255&e>>16,s=255&e>>24;return r<255?"rgba("+s+","+a+","+t+","+r/255+")":"rgb("+s+","+a+","+t+")"},id=function(e,r,t,a){return(e<<24|r<<16|t<<8|Math.round(a*255)<<0)>>>0},bC=function(e,r){if(e.type===17)return e.number;if(e.type===16){var t=r===3?1:255;return r===3?e.number/100*t:Math.round(e.number/100*t)}return 0},NC=function(e,r){var t=r.filter(Kf);if(t.length===3){var a=t.map(bC),s=a[0],i=a[1],o=a[2];return id(s,i,o,1)}if(t.length===4){var l=t.map(bC),s=l[0],i=l[1],o=l[2],A=l[3];return id(s,i,o,A)}return 0};function Pw(e,r,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(r-e)*t*6+e:t<1/2?r:t<2/3?(r-e)*6*(2/3-t)+e:e}var jC=function(e,r){var t=r.filter(Kf),a=t[0],s=t[1],i=t[2],o=t[3],l=(a.type===17?Oo(a.number):Fx.parse(e,a))/(Math.PI*2),A=ds(s)?s.number/100:0,d=ds(i)?i.number/100:0,f=typeof o<"u"&&ds(o)?on(o,1):1;if(A===0)return id(d*255,d*255,d*255,1);var h=d<=.5?d*(A+1):d+A-d*A,m=d*2-h,p=Pw(m,h,l+1/3),v=Pw(m,h,l),g=Pw(m,h,l-1/3);return id(p*255,v*255,g*255,f)},uq={hsl:jC,hsla:jC,rgb:NC,rgba:NC},tm=function(e,r){return Ad.parse(e,M3.create(r).parseComponentValue())},cA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},fq={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,r){return r.map(function(t){if(Ga(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},hq={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},kx=function(e,r){var t=Ad.parse(e,r[0]),a=r[1];return a&&ds(a)?{color:t,stop:a}:{color:t,stop:null}},BC=function(e,r){var t=e[0],a=e[e.length-1];t.stop===null&&(t.stop=$s),a.stop===null&&(a.stop=sd);for(var s=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var A=on(l,r);A>i?s.push(A):s.push(i),i=A}else s.push(null)}for(var d=null,o=0;o<s.length;o++){var f=s[o];if(f===null)d===null&&(d=o);else if(d!==null){for(var h=o-d,m=s[d-1],p=(f-m)/(h+1),v=1;v<=h;v++)s[d+v-1]=p*v;d=null}}return e.map(function(g,y){var w=g.color;return{color:w,stop:Math.max(Math.min(1,s[y]/r),0)}})},mq=function(e,r,t){var a=r/2,s=t/2,i=on(e[0],r)-a,o=s-on(e[1],t);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},pq=function(e,r,t){var a=typeof e=="number"?e:mq(e,r,t),s=Math.abs(r*Math.sin(a))+Math.abs(t*Math.cos(a)),i=r/2,o=t/2,l=s/2,A=Math.sin(a-Math.PI/2)*l,d=Math.cos(a-Math.PI/2)*l;return[s,i-d,i+d,o-A,o+A]},pl=function(e,r){return Math.sqrt(e*e+r*r)},CC=function(e,r,t,a,s){var i=[[0,0],[0,r],[e,0],[e,r]];return i.reduce(function(o,l){var A=l[0],d=l[1],f=pl(t-A,a-d);return(s?f<o.optimumDistance:f>o.optimumDistance)?{optimumCorner:l,optimumDistance:f}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},gq=function(e,r,t,a,s){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(r),Math.abs(r-a),Math.abs(t),Math.abs(t-s)):e.shape===1&&(i=Math.min(Math.abs(r),Math.abs(r-a)),o=Math.min(Math.abs(t),Math.abs(t-s)));break;case 2:if(e.shape===0)i=o=Math.min(pl(r,t),pl(r,t-s),pl(r-a,t),pl(r-a,t-s));else if(e.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-s))/Math.min(Math.abs(r),Math.abs(r-a)),A=CC(a,s,r,t,!0),d=A[0],f=A[1];i=pl(d-r,(f-t)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(r),Math.abs(r-a),Math.abs(t),Math.abs(t-s)):e.shape===1&&(i=Math.max(Math.abs(r),Math.abs(r-a)),o=Math.max(Math.abs(t),Math.abs(t-s)));break;case 3:if(e.shape===0)i=o=Math.max(pl(r,t),pl(r,t-s),pl(r-a,t),pl(r-a,t-s));else if(e.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-s))/Math.max(Math.abs(r),Math.abs(r-a)),h=CC(a,s,r,t,!1),d=h[0],f=h[1];i=pl(d-r,(f-t)/l),o=l*i}break}return Array.isArray(e.size)&&(i=on(e.size[0],a),o=e.size.length===2?on(e.size[1],s):i),[i,o]},xq=function(e,r){var t=Oo(180),a=[];return xc(r).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){t=q3(s);return}else if(z3(o)){t=Fx.parse(e,o);return}}var l=kx(e,s);a.push(l)}),{angle:t,stops:a,type:1}},Ag=function(e,r){var t=Oo(180),a=[];return xc(r).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){t=q3(s);return}else if(z3(o)){t=(Fx.parse(e,o)+Oo(270))%Oo(360);return}}var l=kx(e,s);a.push(l)}),{angle:t,stops:a,type:1}},vq=function(e,r){var t=Oo(180),a=[],s=1,i=0,o=3,l=[];return xc(r).forEach(function(A,d){var f=A[0];if(d===0){if(Ga(f)&&f.value==="linear"){s=1;return}else if(Ga(f)&&f.value==="radial"){s=2;return}}if(f.type===18){if(f.name==="from"){var h=Ad.parse(e,f.values[0]);a.push({stop:$s,color:h})}else if(f.name==="to"){var h=Ad.parse(e,f.values[0]);a.push({stop:sd,color:h})}else if(f.name==="color-stop"){var m=f.values.filter(Kf);if(m.length===2){var h=Ad.parse(e,m[1]),p=m[0];ah(p)&&a.push({stop:{type:16,number:p.number*100,flags:p.flags},color:h})}}}}),s===1?{angle:(t+Oo(180))%Oo(360),stops:a,type:s}:{size:o,shape:i,stops:a,position:l,type:s}},W3="closest-side",G3="farthest-side",Y3="closest-corner",X3="farthest-corner",J3="circle",Z3="ellipse",ek="cover",tk="contain",wq=function(e,r){var t=0,a=3,s=[],i=[];return xc(r).forEach(function(o,l){var A=!0;if(l===0){var d=!1;A=o.reduce(function(h,m){if(d)if(Ga(m))switch(m.value){case"center":return i.push(Fb),h;case"top":case"left":return i.push($s),h;case"right":case"bottom":return i.push(sd),h}else(ds(m)||xd(m))&&i.push(m);else if(Ga(m))switch(m.value){case J3:return t=0,!1;case Z3:return t=1,!1;case"at":return d=!0,!1;case W3:return a=0,!1;case ek:case G3:return a=1,!1;case tk:case Y3:return a=2,!1;case X3:return a=3,!1}else if(xd(m)||ds(m))return Array.isArray(a)||(a=[]),a.push(m),!1;return h},A)}if(A){var f=kx(e,o);s.push(f)}}),{size:a,shape:t,stops:s,position:i,type:2}},dg=function(e,r){var t=0,a=3,s=[],i=[];return xc(r).forEach(function(o,l){var A=!0;if(l===0?A=o.reduce(function(f,h){if(Ga(h))switch(h.value){case"center":return i.push(Fb),!1;case"top":case"left":return i.push($s),!1;case"right":case"bottom":return i.push(sd),!1}else if(ds(h)||xd(h))return i.push(h),!1;return f},A):l===1&&(A=o.reduce(function(f,h){if(Ga(h))switch(h.value){case J3:return t=0,!1;case Z3:return t=1,!1;case tk:case W3:return a=0,!1;case G3:return a=1,!1;case Y3:return a=2,!1;case ek:case X3:return a=3,!1}else if(xd(h)||ds(h))return Array.isArray(a)||(a=[]),a.push(h),!1;return f},A)),A){var d=kx(e,o);s.push(d)}}),{size:a,shape:t,stops:s,position:i,type:2}},yq=function(e){return e.type===1},bq=function(e){return e.type===2},kb={name:"image",parse:function(e,r){if(r.type===22){var t={url:r.value,type:0};return e.cache.addImage(r.value),t}if(r.type===18){var a=rk[r.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported image function "'+r.name+'"');return a(e,r.values)}throw new Error("Unsupported image type "+r.type)}};function Nq(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!rk[e.name])}var rk={"linear-gradient":xq,"-moz-linear-gradient":Ag,"-ms-linear-gradient":Ag,"-o-linear-gradient":Ag,"-webkit-linear-gradient":Ag,"radial-gradient":wq,"-moz-radial-gradient":dg,"-ms-radial-gradient":dg,"-o-radial-gradient":dg,"-webkit-radial-gradient":dg,"-webkit-gradient":vq},jq={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,r){if(r.length===0)return[];var t=r[0];return t.type===20&&t.value==="none"?[]:r.filter(function(a){return Kf(a)&&Nq(a)}).map(function(a){return kb.parse(e,a)})}},Bq={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,r){return r.map(function(t){if(Ga(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Cq={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,r){return xc(r).map(function(t){return t.filter(ds)}).map(O3)}},Sq={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,r){return xc(r).map(function(t){return t.filter(Ga).map(function(a){return a.value}).join(" ")}).map(_q)}},_q=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Pf;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Pf||(Pf={}));var Eq={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,r){return xc(r).map(function(t){return t.filter(Fq)})}},Fq=function(e){return Ga(e)||ds(e)},Dx=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},kq=Dx("top"),Dq=Dx("right"),Uq=Dx("bottom"),Lq=Dx("left"),Ux=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(r,t){return O3(t.filter(ds))}}},Iq=Ux("top-left"),Pq=Ux("top-right"),Qq=Ux("bottom-right"),Rq=Ux("bottom-left"),Lx=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(r,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Mq=Lx("top"),Tq=Lx("right"),Oq=Lx("bottom"),Hq=Lx("left"),Ix=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(r,t){return $m(t)?t.number:0}}},$q=Ix("top"),Kq=Ix("right"),Vq=Ix("bottom"),zq=Ix("left"),qq={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wq={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,r){switch(r){case"rtl":return 1;case"ltr":default:return 0}}},Gq={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,r){return r.filter(Ga).reduce(function(t,a){return t|Yq(a.value)},0)}},Yq=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Xq={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Jq={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,r){return r.type===20&&r.value==="normal"?0:r.type===17||r.type===15?r.number:0}},S0;(function(e){e.NORMAL="normal",e.STRICT="strict"})(S0||(S0={}));var Zq={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"strict":return S0.STRICT;case"normal":default:return S0.NORMAL}}},eW={name:"line-height",initialValue:"normal",prefix:!1,type:4},SC=function(e,r){return Ga(e)&&e.value==="normal"?1.2*r:e.type===17?r*e.number:ds(e)?on(e,r):r},tW={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,r){return r.type===20&&r.value==="none"?null:kb.parse(e,r)}},rW={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,r){switch(r){case"inside":return 0;case"outside":default:return 1}}},c1={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Px=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},aW=Px("top"),nW=Px("right"),sW=Px("bottom"),iW=Px("left"),oW={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,r){return r.filter(Ga).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},lW={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"break-word":return"break-word";case"normal":default:return"normal"}}},Qx=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},cW=Qx("top"),AW=Qx("right"),dW=Qx("bottom"),uW=Qx("left"),fW={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,r){switch(r){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},hW={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,r){switch(r){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},mW={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.length===1&&l1(r[0],"none")?[]:xc(r).map(function(t){for(var a={color:cA.TRANSPARENT,offsetX:$s,offsetY:$s,blur:$s},s=0,i=0;i<t.length;i++){var o=t[i];xd(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:a.blur=o,s++):a.color=Ad.parse(e,o)}return a})}},pW={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},gW={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,r){if(r.type===20&&r.value==="none")return null;if(r.type===18){var t=wW[r.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+r.name+'"');return t(r.values)}return null}},xW=function(e){var r=e.filter(function(t){return t.type===17}).map(function(t){return t.number});return r.length===6?r:null},vW=function(e){var r=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),t=r[0],a=r[1];r[2],r[3];var s=r[4],i=r[5];r[6],r[7],r[8],r[9],r[10],r[11];var o=r[12],l=r[13];return r[14],r[15],r.length===16?[t,a,s,i,o,l]:null},wW={matrix:xW,matrix3d:vW},_C={type:16,number:50,flags:Hm},yW=[_C,_C],bW={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,r){var t=r.filter(ds);return t.length!==2?yW:[t[0],t[1]]}},NW={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},rm;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(rm||(rm={}));var jW={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"break-all":return rm.BREAK_ALL;case"keep-all":return rm.KEEP_ALL;case"normal":default:return rm.NORMAL}}},BW={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,r){if(r.type===20)return{auto:!0,order:0};if(ah(r))return{auto:!1,order:r.number};throw new Error("Invalid z-index number parsed")}},ak={name:"time",parse:function(e,r){if(r.type===15)switch(r.unit.toLowerCase()){case"s":return 1e3*r.number;case"ms":return r.number}throw new Error("Unsupported time type")}},CW={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,r){return ah(r)?r.number:1}},SW={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_W={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,r){return r.filter(Ga).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},EW={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,r){var t=[],a=[];return r.forEach(function(s){switch(s.type){case 20:case 0:t.push(s.value);break;case 17:t.push(s.number.toString());break;case 4:a.push(t.join(" ")),t.length=0;break}}),t.length&&a.push(t.join(" ")),a.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},FW={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},kW={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,r){if(ah(r))return r.number;if(Ga(r))switch(r.value){case"bold":return 700;case"normal":default:return 400}return 400}},DW={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.filter(Ga).map(function(t){return t.value})}},UW={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},bs=function(e,r){return(e&r)!==0},LW={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,r){if(r.length===0)return[];var t=r[0];return t.type===20&&t.value==="none"?[]:r}},IW={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return null;var t=r[0];if(t.type===20&&t.value==="none")return null;for(var a=[],s=r.filter(T3),i=0;i<s.length;i++){var o=s[i],l=s[i+1];if(o.type===20){var A=l&&ah(l)?l.number:1;a.push({counter:o.value,increment:A})}}return a}},PW={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return[];for(var t=[],a=r.filter(T3),s=0;s<a.length;s++){var i=a[s],o=a[s+1];if(Ga(i)&&i.value!=="none"){var l=o&&ah(o)?o.number:0;t.push({counter:i.value,reset:l})}}return t}},QW={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,r){return r.filter($m).map(function(t){return ak.parse(e,t)})}},RW={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return null;var t=r[0];if(t.type===20&&t.value==="none")return null;var a=[],s=r.filter(Aq);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,l=s[i+1].value;a.push({open:o,close:l})}return a}},EC=function(e,r,t){if(!e)return"";var a=e[Math.min(r,e.length-1)];return a?t?a.open:a.close:""},MW={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.length===1&&l1(r[0],"none")?[]:xc(r).map(function(t){for(var a={color:255,offsetX:$s,offsetY:$s,blur:$s,spread:$s,inset:!1},s=0,i=0;i<t.length;i++){var o=t[i];l1(o,"inset")?a.inset=!0:xd(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:s===2?a.blur=o:a.spread=o,s++):a.color=Ad.parse(e,o)}return a})}},TW={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,r){var t=[0,1,2],a=[];return r.filter(Ga).forEach(function(s){switch(s.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2);break}}),t.forEach(function(s){a.indexOf(s)===-1&&a.push(s)}),a}},OW={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},HW={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return $m(r)?r.number:0}},$W=(function(){function e(r,t){var a,s;this.animationDuration=Rt(r,QW,t.animationDuration),this.backgroundClip=Rt(r,fq,t.backgroundClip),this.backgroundColor=Rt(r,hq,t.backgroundColor),this.backgroundImage=Rt(r,jq,t.backgroundImage),this.backgroundOrigin=Rt(r,Bq,t.backgroundOrigin),this.backgroundPosition=Rt(r,Cq,t.backgroundPosition),this.backgroundRepeat=Rt(r,Sq,t.backgroundRepeat),this.backgroundSize=Rt(r,Eq,t.backgroundSize),this.borderTopColor=Rt(r,kq,t.borderTopColor),this.borderRightColor=Rt(r,Dq,t.borderRightColor),this.borderBottomColor=Rt(r,Uq,t.borderBottomColor),this.borderLeftColor=Rt(r,Lq,t.borderLeftColor),this.borderTopLeftRadius=Rt(r,Iq,t.borderTopLeftRadius),this.borderTopRightRadius=Rt(r,Pq,t.borderTopRightRadius),this.borderBottomRightRadius=Rt(r,Qq,t.borderBottomRightRadius),this.borderBottomLeftRadius=Rt(r,Rq,t.borderBottomLeftRadius),this.borderTopStyle=Rt(r,Mq,t.borderTopStyle),this.borderRightStyle=Rt(r,Tq,t.borderRightStyle),this.borderBottomStyle=Rt(r,Oq,t.borderBottomStyle),this.borderLeftStyle=Rt(r,Hq,t.borderLeftStyle),this.borderTopWidth=Rt(r,$q,t.borderTopWidth),this.borderRightWidth=Rt(r,Kq,t.borderRightWidth),this.borderBottomWidth=Rt(r,Vq,t.borderBottomWidth),this.borderLeftWidth=Rt(r,zq,t.borderLeftWidth),this.boxShadow=Rt(r,MW,t.boxShadow),this.color=Rt(r,qq,t.color),this.direction=Rt(r,Wq,t.direction),this.display=Rt(r,Gq,t.display),this.float=Rt(r,Xq,t.cssFloat),this.fontFamily=Rt(r,EW,t.fontFamily),this.fontSize=Rt(r,FW,t.fontSize),this.fontStyle=Rt(r,UW,t.fontStyle),this.fontVariant=Rt(r,DW,t.fontVariant),this.fontWeight=Rt(r,kW,t.fontWeight),this.letterSpacing=Rt(r,Jq,t.letterSpacing),this.lineBreak=Rt(r,Zq,t.lineBreak),this.lineHeight=Rt(r,eW,t.lineHeight),this.listStyleImage=Rt(r,tW,t.listStyleImage),this.listStylePosition=Rt(r,rW,t.listStylePosition),this.listStyleType=Rt(r,c1,t.listStyleType),this.marginTop=Rt(r,aW,t.marginTop),this.marginRight=Rt(r,nW,t.marginRight),this.marginBottom=Rt(r,sW,t.marginBottom),this.marginLeft=Rt(r,iW,t.marginLeft),this.opacity=Rt(r,CW,t.opacity);var i=Rt(r,oW,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Rt(r,lW,t.overflowWrap),this.paddingTop=Rt(r,cW,t.paddingTop),this.paddingRight=Rt(r,AW,t.paddingRight),this.paddingBottom=Rt(r,dW,t.paddingBottom),this.paddingLeft=Rt(r,uW,t.paddingLeft),this.paintOrder=Rt(r,TW,t.paintOrder),this.position=Rt(r,hW,t.position),this.textAlign=Rt(r,fW,t.textAlign),this.textDecorationColor=Rt(r,SW,(a=t.textDecorationColor)!==null&&a!==void 0?a:t.color),this.textDecorationLine=Rt(r,_W,(s=t.textDecorationLine)!==null&&s!==void 0?s:t.textDecoration),this.textShadow=Rt(r,mW,t.textShadow),this.textTransform=Rt(r,pW,t.textTransform),this.transform=Rt(r,gW,t.transform),this.transformOrigin=Rt(r,bW,t.transformOrigin),this.visibility=Rt(r,NW,t.visibility),this.webkitTextStrokeColor=Rt(r,OW,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Rt(r,HW,t.webkitTextStrokeWidth),this.wordBreak=Rt(r,jW,t.wordBreak),this.zIndex=Rt(r,BW,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return dd(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return bs(this.display,4)||bs(this.display,33554432)||bs(this.display,268435456)||bs(this.display,536870912)||bs(this.display,67108864)||bs(this.display,134217728)},e})(),KW=(function(){function e(r,t){this.content=Rt(r,LW,t.content),this.quotes=Rt(r,RW,t.quotes)}return e})(),FC=(function(){function e(r,t){this.counterIncrement=Rt(r,IW,t.counterIncrement),this.counterReset=Rt(r,PW,t.counterReset)}return e})(),Rt=function(e,r,t){var a=new R3,s=t!==null&&typeof t<"u"?t.toString():r.initialValue;a.write(s);var i=new M3(a.read());switch(r.type){case 2:var o=i.parseComponentValue();return r.parse(e,Ga(o)?o.value:r.initialValue);case 0:return r.parse(e,i.parseComponentValue());case 1:return r.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(r.format){case"angle":return Fx.parse(e,i.parseComponentValue());case"color":return Ad.parse(e,i.parseComponentValue());case"image":return kb.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return xd(l)?l:$s;case"length-percentage":var A=i.parseComponentValue();return ds(A)?A:$s;case"time":return ak.parse(e,i.parseComponentValue())}break}},VW="data-html2canvas-debug",zW=function(e){var r=e.getAttribute(VW);switch(r){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},A1=function(e,r){var t=zW(e);return t===1||r===t},vc=(function(){function e(r,t){if(this.context=r,this.textNodes=[],this.elements=[],this.flags=0,A1(t,3))debugger;this.styles=new $W(r,window.getComputedStyle(t,null)),f1(t)&&(this.styles.animationDuration.some(function(a){return a>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=_x(this.context,t),A1(t,4)&&(this.flags|=16)}return e})(),qW="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",kC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ug=0;ug<kC.length;ug++)Wh[kC.charCodeAt(ug)]=ug;var WW=function(e){var r=e.length*.75,t=e.length,a,s=0,i,o,l,A;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),f=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<t;a+=4)i=Wh[e.charCodeAt(a)],o=Wh[e.charCodeAt(a+1)],l=Wh[e.charCodeAt(a+2)],A=Wh[e.charCodeAt(a+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},GW=function(e){for(var r=e.length,t=[],a=0;a<r;a+=2)t.push(e[a+1]<<8|e[a]);return t},YW=function(e){for(var r=e.length,t=[],a=0;a<r;a+=4)t.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return t},fu=5,Db=11,Qw=2,XW=Db-fu,nk=65536>>fu,JW=1<<fu,Rw=JW-1,ZW=1024>>fu,eG=nk+ZW,tG=eG,rG=32,aG=tG+rG,nG=65536>>Db,sG=1<<XW,iG=sG-1,DC=function(e,r,t){return e.slice?e.slice(r,t):new Uint16Array(Array.prototype.slice.call(e,r,t))},oG=function(e,r,t){return e.slice?e.slice(r,t):new Uint32Array(Array.prototype.slice.call(e,r,t))},lG=function(e,r){var t=WW(e),a=Array.isArray(t)?YW(t):new Uint32Array(t),s=Array.isArray(t)?GW(t):new Uint16Array(t),i=24,o=DC(s,i/2,a[4]/2),l=a[5]===2?DC(s,(i+a[4])/2):oG(a,Math.ceil((i+a[4])/4));return new cG(a[0],a[1],a[2],a[3],o,l)},cG=(function(){function e(r,t,a,s,i,o){this.initialValue=r,this.errorValue=t,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(r){var t;if(r>=0){if(r<55296||r>56319&&r<=65535)return t=this.index[r>>fu],t=(t<<Qw)+(r&Rw),this.data[t];if(r<=65535)return t=this.index[nk+(r-55296>>fu)],t=(t<<Qw)+(r&Rw),this.data[t];if(r<this.highStart)return t=aG-nG+(r>>Db),t=this.index[t],t+=r>>fu&iG,t=this.index[t],t=(t<<Qw)+(r&Rw),this.data[t];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),UC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",AG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fg=0;fg<UC.length;fg++)AG[UC.charCodeAt(fg)]=fg;var dG=1,Mw=2,Tw=3,LC=4,IC=5,uG=7,PC=8,Ow=9,Hw=10,QC=11,RC=12,MC=13,TC=14,$w=15,fG=function(e){for(var r=[],t=0,a=e.length;t<a;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319&&t<a){var i=e.charCodeAt(t++);(i&64512)===56320?r.push(((s&1023)<<10)+(i&1023)+65536):(r.push(s),t--)}else r.push(s)}return r},hG=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var a=[],s=-1,i="";++s<t;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===t||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},mG=lG(qW),Ro="",Kw="",pG=function(e){return mG.get(e)},gG=function(e,r,t){var a=t-2,s=r[a],i=r[t-1],o=r[t];if(i===Mw&&o===Tw)return Ro;if(i===Mw||i===Tw||i===LC||o===Mw||o===Tw||o===LC)return Kw;if(i===PC&&[PC,Ow,QC,RC].indexOf(o)!==-1||(i===QC||i===Ow)&&(o===Ow||o===Hw)||(i===RC||i===Hw)&&o===Hw||o===MC||o===IC||o===uG||i===dG)return Ro;if(i===MC&&o===TC){for(;s===IC;)s=r[--a];if(s===TC)return Ro}if(i===$w&&o===$w){for(var l=0;s===$w;)l++,s=r[--a];if(l%2===0)return Ro}return Kw},xG=function(e){var r=fG(e),t=r.length,a=0,s=0,i=r.map(pG);return{next:function(){if(a>=t)return{done:!0,value:null};for(var o=Ro;a<t&&(o=gG(r,i,++a))===Ro;);if(o!==Ro||a===t){var l=hG.apply(null,r.slice(s,a));return s=a,{value:l,done:!1}}return{done:!0,value:null}}}},vG=function(e){for(var r=xG(e),t=[],a;!(a=r.next()).done;)a.value&&t.push(a.value.slice());return t},wG=function(e){var r=123;if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var a=e.createElement("boundtest");a.style.height=r+"px",a.style.display="block",e.body.appendChild(a),t.selectNode(a);var s=t.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(a),i===r)return!0}}return!1},yG=function(e){var r=e.createElement("boundtest");r.style.width="50px",r.style.display="block",r.style.fontSize="12px",r.style.letterSpacing="0px",r.style.wordSpacing="0px",e.body.appendChild(r);var t=e.createRange();r.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var a=r.firstChild,s=Ex(a.data).map(function(A){return Yn(A)}),i=0,o={},l=s.every(function(A,d){t.setStart(a,i),t.setEnd(a,i+A.length);var f=t.getBoundingClientRect();i+=A.length;var h=f.x>o.x||f.y>o.y;return o=f,d===0?!0:h});return e.body.removeChild(r),l},bG=function(){return typeof new Image().crossOrigin<"u"},NG=function(){return typeof new XMLHttpRequest().responseType=="string"},jG=function(e){var r=new Image,t=e.createElement("canvas"),a=t.getContext("2d");if(!a)return!1;r.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(r,0,0),t.toDataURL()}catch{return!1}return!0},OC=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},BG=function(e){var r=e.createElement("canvas"),t=100;r.width=t,r.height=t;var a=r.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,t,t);var s=new Image,i=r.toDataURL();s.src=i;var o=d1(t,t,0,0,s);return a.fillStyle="red",a.fillRect(0,0,t,t),HC(o).then(function(l){a.drawImage(l,0,0);var A=a.getImageData(0,0,t,t).data;a.fillStyle="red",a.fillRect(0,0,t,t);var d=e.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=t+"px",OC(A)?HC(d1(t,t,0,0,d)):Promise.reject(!1)}).then(function(l){return a.drawImage(l,0,0),OC(a.getImageData(0,0,t,t).data)}).catch(function(){return!1})},d1=function(e,r,t,a,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",a.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},HC=function(e){return new Promise(function(r,t){var a=new Image;a.onload=function(){return r(a)},a.onerror=t,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Os={get SUPPORT_RANGE_BOUNDS(){var e=wG(document);return Object.defineProperty(Os,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Os.SUPPORT_RANGE_BOUNDS&&yG(document);return Object.defineProperty(Os,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=jG(document);return Object.defineProperty(Os,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?BG(document):Promise.resolve(!1);return Object.defineProperty(Os,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=bG();return Object.defineProperty(Os,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=NG();return Object.defineProperty(Os,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Os,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Os,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},am=(function(){function e(r,t){this.text=r,this.bounds=t}return e})(),CG=function(e,r,t,a){var s=EG(r,t),i=[],o=0;return s.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if(Os.SUPPORT_RANGE_BOUNDS){var A=$C(a,o,l.length).getClientRects();if(A.length>1){var d=Ub(l),f=0;d.forEach(function(m){i.push(new am(m,mA.fromDOMRectList(e,$C(a,f+o,m.length).getClientRects()))),f+=m.length})}else i.push(new am(l,mA.fromDOMRectList(e,A)))}else{var h=a.splitText(l.length);i.push(new am(l,SG(e,a))),a=h}else Os.SUPPORT_RANGE_BOUNDS||(a=a.splitText(l.length));o+=l.length}),i},SG=function(e,r){var t=r.ownerDocument;if(t){var a=t.createElement("html2canvaswrapper");a.appendChild(r.cloneNode(!0));var s=r.parentNode;if(s){s.replaceChild(a,r);var i=_x(e,a);return a.firstChild&&s.replaceChild(a.firstChild,a),i}}return mA.EMPTY},$C=function(e,r,t){var a=e.ownerDocument;if(!a)throw new Error("Node has no owner document");var s=a.createRange();return s.setStart(e,r),s.setEnd(e,r+t),s},Ub=function(e){if(Os.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(r.segment(e)).map(function(t){return t.segment})}return vG(e)},_G=function(e,r){if(Os.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(e)).map(function(a){return a.segment})}return kG(e,r)},EG=function(e,r){return r.letterSpacing!==0?Ub(e):_G(e,r)},FG=[32,160,4961,65792,65793,4153,4241],kG=function(e,r){for(var t=nz(e,{lineBreak:r.lineBreak,wordBreak:r.overflowWrap==="break-word"?"break-word":r.wordBreak}),a=[],s,i=function(){if(s.value){var o=s.value.slice(),l=Ex(o),A="";l.forEach(function(d){FG.indexOf(d)===-1?A+=Yn(d):(A.length&&a.push(A),a.push(Yn(d)),A="")}),A.length&&a.push(A)}};!(s=t.next()).done;)i();return a},DG=(function(){function e(r,t,a){this.text=UG(t.data,a.textTransform),this.textBounds=CG(r,this.text,a,t)}return e})(),UG=function(e,r){switch(r){case 1:return e.toLowerCase();case 3:return e.replace(LG,IG);case 2:return e.toUpperCase();default:return e}},LG=/(^|\s|:|-|\(|\))([a-z])/g,IG=function(e,r,t){return e.length>0?r+t.toUpperCase():e},sk=(function(e){El(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.src=a.currentSrc||a.src,s.intrinsicWidth=a.naturalWidth,s.intrinsicHeight=a.naturalHeight,s.context.cache.addImage(s.src),s}return r})(vc),ik=(function(e){El(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.canvas=a,s.intrinsicWidth=a.width,s.intrinsicHeight=a.height,s}return r})(vc),ok=(function(e){El(r,e);function r(t,a){var s=e.call(this,t,a)||this,i=new XMLSerializer,o=_x(t,a);return a.setAttribute("width",o.width+"px"),a.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(a)),s.intrinsicWidth=a.width.baseVal.value,s.intrinsicHeight=a.height.baseVal.value,s.context.cache.addImage(s.svg),s}return r})(vc),lk=(function(e){El(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.value=a.value,s}return r})(vc),u1=(function(e){El(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.start=a.start,s.reversed=typeof a.reversed=="boolean"&&a.reversed===!0,s}return r})(vc),PG=[{type:15,flags:0,unit:"px",number:3}],QG=[{type:16,flags:0,number:50}],RG=function(e){return e.width>e.height?new mA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new mA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},MG=function(e){var r=e.type===TG?new Array(e.value.length+1).join(""):e.value;return r.length===0?e.placeholder||"":r},_0="checkbox",E0="radio",TG="password",KC=707406591,Lb=(function(e){El(r,e);function r(t,a){var s=e.call(this,t,a)||this;switch(s.type=a.type.toLowerCase(),s.checked=a.checked,s.value=MG(a),(s.type===_0||s.type===E0)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=RG(s.bounds)),s.type){case _0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=PG;break;case E0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=QG;break}return s}return r})(vc),ck=(function(e){El(r,e);function r(t,a){var s=e.call(this,t,a)||this,i=a.options[a.selectedIndex||0];return s.value=i&&i.text||"",s}return r})(vc),Ak=(function(e){El(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.value=a.value,s}return r})(vc),dk=(function(e){El(r,e);function r(t,a){var s=e.call(this,t,a)||this;s.src=a.src,s.width=parseInt(a.width,10)||0,s.height=parseInt(a.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement){s.tree=fk(t,a.contentWindow.document.documentElement);var i=a.contentWindow.document.documentElement?tm(t,getComputedStyle(a.contentWindow.document.documentElement).backgroundColor):cA.TRANSPARENT,o=a.contentWindow.document.body?tm(t,getComputedStyle(a.contentWindow.document.body).backgroundColor):cA.TRANSPARENT;s.backgroundColor=dd(i)?dd(o)?s.styles.backgroundColor:o:i}}catch{}return s}return r})(vc),OG=["OL","UL","MENU"],Kg=function(e,r,t,a){for(var s=r.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,hk(s)&&s.data.trim().length>0)t.textNodes.push(new DG(e,s,t.styles));else if(Bf(s))if(xk(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return Kg(e,l,t,a)});else{var o=uk(e,s);o.styles.isVisible()&&(HG(s,o,a)?o.flags|=4:$G(o.styles)&&(o.flags|=2),OG.indexOf(s.tagName)!==-1&&(o.flags|=8),t.elements.push(o),s.slot,s.shadowRoot?Kg(e,s.shadowRoot,o,a):!F0(s)&&!mk(s)&&!k0(s)&&Kg(e,s,o,a))}},uk=function(e,r){return h1(r)?new sk(e,r):pk(r)?new ik(e,r):mk(r)?new ok(e,r):KG(r)?new lk(e,r):VG(r)?new u1(e,r):zG(r)?new Lb(e,r):k0(r)?new ck(e,r):F0(r)?new Ak(e,r):gk(r)?new dk(e,r):new vc(e,r)},fk=function(e,r){var t=uk(e,r);return t.flags|=4,Kg(e,r,t,t),t},HG=function(e,r,t){return r.styles.isPositionedWithZIndex()||r.styles.opacity<1||r.styles.isTransformed()||Ib(e)&&t.styles.isTransparent()},$G=function(e){return e.isPositioned()||e.isFloating()},hk=function(e){return e.nodeType===Node.TEXT_NODE},Bf=function(e){return e.nodeType===Node.ELEMENT_NODE},f1=function(e){return Bf(e)&&typeof e.style<"u"&&!Vg(e)},Vg=function(e){return typeof e.className=="object"},KG=function(e){return e.tagName==="LI"},VG=function(e){return e.tagName==="OL"},zG=function(e){return e.tagName==="INPUT"},qG=function(e){return e.tagName==="HTML"},mk=function(e){return e.tagName==="svg"},Ib=function(e){return e.tagName==="BODY"},pk=function(e){return e.tagName==="CANVAS"},VC=function(e){return e.tagName==="VIDEO"},h1=function(e){return e.tagName==="IMG"},gk=function(e){return e.tagName==="IFRAME"},zC=function(e){return e.tagName==="STYLE"},WG=function(e){return e.tagName==="SCRIPT"},F0=function(e){return e.tagName==="TEXTAREA"},k0=function(e){return e.tagName==="SELECT"},xk=function(e){return e.tagName==="SLOT"},qC=function(e){return e.tagName.indexOf("-")>0},GG=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(r){var t=this.counters[r];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(r){var t=this.counters[r];return t||[]},e.prototype.pop=function(r){var t=this;r.forEach(function(a){return t.counters[a].pop()})},e.prototype.parse=function(r){var t=this,a=r.counterIncrement,s=r.counterReset,i=!0;a!==null&&a.forEach(function(l){var A=t.counters[l.counter];A&&l.increment!==0&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var o=[];return i&&s.forEach(function(l){var A=t.counters[l.counter];o.push(l.counter),A||(A=t.counters[l.counter]=[]),A.push(l.reset)}),o},e})(),WC={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},GC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},YG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},XG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pf=function(e,r,t,a,s,i){return e<r||e>t?ym(e,s,i.length>0):a.integers.reduce(function(o,l,A){for(;e>=l;)e-=l,o+=a.values[A];return o},"")+i},vk=function(e,r,t,a){var s="";do t||e--,s=a(e)+s,e/=r;while(e*r>=r);return s},Gn=function(e,r,t,a,s){var i=t-r+1;return(e<0?"-":"")+(vk(Math.abs(e),i,a,function(o){return Yn(Math.floor(o%i)+r)})+s)},Gd=function(e,r,t){t===void 0&&(t=". ");var a=r.length;return vk(Math.abs(e),a,!1,function(s){return r[Math.floor(s%a)]})+t},bf=1,XA=2,JA=4,Gh=8,Xc=function(e,r,t,a,s,i){if(e<-9999||e>9999)return ym(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return r[0]+l;for(var A=0;o>0&&A<=4;A++){var d=o%10;d===0&&bs(i,bf)&&l!==""?l=r[d]+l:d>1||d===1&&A===0||d===1&&A===1&&bs(i,XA)||d===1&&A===1&&bs(i,JA)&&e>100||d===1&&A>1&&bs(i,Gh)?l=r[d]+(A>0?t[A-1]:"")+l:d===1&&A>0&&(l=t[A-1]+l),o=Math.floor(o/10)}return(e<0?a:"")+l},YC="",XC="",JC="",Vw="",ym=function(e,r,t){var a=t?". ":"",s=t?"":"",i=t?", ":"",o=t?" ":"";switch(r){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Gn(e,48,57,!0,a);return l.length<4?"0"+l:l;case 4:return Gd(e,"",s);case 6:return pf(e,1,3999,WC,3,a).toLowerCase();case 7:return pf(e,1,3999,WC,3,a);case 8:return Gn(e,945,969,!1,a);case 9:return Gn(e,97,122,!1,a);case 10:return Gn(e,65,90,!1,a);case 11:return Gn(e,1632,1641,!0,a);case 12:case 49:return pf(e,1,9999,GC,3,a);case 35:return pf(e,1,9999,GC,3,a).toLowerCase();case 13:return Gn(e,2534,2543,!0,a);case 14:case 30:return Gn(e,6112,6121,!0,a);case 15:return Gd(e,"",s);case 16:return Gd(e,"",s);case 17:case 48:return Xc(e,"",YC,"",s,XA|JA|Gh);case 47:return Xc(e,"",XC,"",s,bf|XA|JA|Gh);case 42:return Xc(e,"",YC,"",s,XA|JA|Gh);case 41:return Xc(e,"",XC,"",s,bf|XA|JA|Gh);case 26:return Xc(e,"","",JC,s,0);case 25:return Xc(e,"","",JC,s,bf|XA|JA);case 31:return Xc(e,"","",Vw,i,bf|XA|JA);case 33:return Xc(e,"","",Vw,i,0);case 32:return Xc(e,"","",Vw,i,bf|XA|JA);case 18:return Gn(e,2406,2415,!0,a);case 20:return pf(e,1,19999,XG,3,a);case 21:return Gn(e,2790,2799,!0,a);case 22:return Gn(e,2662,2671,!0,a);case 22:return pf(e,1,10999,YG,3,a);case 23:return Gd(e,"");case 24:return Gd(e,"");case 27:return Gn(e,3302,3311,!0,a);case 28:return Gd(e,"",s);case 29:return Gd(e,"",s);case 34:return Gn(e,3792,3801,!0,a);case 37:return Gn(e,6160,6169,!0,a);case 38:return Gn(e,4160,4169,!0,a);case 39:return Gn(e,2918,2927,!0,a);case 40:return Gn(e,1776,1785,!0,a);case 43:return Gn(e,3046,3055,!0,a);case 44:return Gn(e,3174,3183,!0,a);case 45:return Gn(e,3664,3673,!0,a);case 46:return Gn(e,3872,3881,!0,a);case 3:default:return Gn(e,48,57,!0,a)}},wk="data-html2canvas-ignore",ZC=(function(){function e(r,t,a){if(this.context=r,this.options=a,this.scrolledElements=[],this.referenceElement=t,this.counters=new GG,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(r,t){var a=this,s=JG(r,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=r.defaultView.pageXOffset,o=r.defaultView.pageYOffset,l=s.contentWindow,A=l.document,d=tY(s).then(function(){return bi(a,void 0,void 0,function(){var f,h;return ii(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(sY),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),f=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,eY(A)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(A,h)}).then(function(){return s})]:[2,s]}})})});return A.open(),A.write(aY(document.doctype)+"<html></html>"),nY(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),d},e.prototype.createElementClone=function(r){if(A1(r,2))debugger;if(pk(r))return this.createCanvasClone(r);if(VC(r))return this.createVideoClone(r);if(zC(r))return this.createStyleClone(r);var t=r.cloneNode(!1);return h1(t)&&(h1(r)&&r.currentSrc&&r.currentSrc!==r.src&&(t.src=r.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),qC(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(r){var t=document.createElement("html2canvascustomelement");return zw(r.style,t),t},e.prototype.createStyleClone=function(r){try{var t=r.sheet;if(t&&t.cssRules){var a=[].slice.call(t.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=r.cloneNode(!1);return s.textContent=a,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return r.cloneNode(!1)},e.prototype.createCanvasClone=function(r){var t;if(this.options.inlineImages&&r.ownerDocument){var a=r.ownerDocument.createElement("img");try{return a.src=r.toDataURL(),a}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",r)}}var s=r.cloneNode(!1);try{s.width=r.width,s.height=r.height;var i=r.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,r.width,r.height),0,0);else{var l=(t=r.getContext("webgl2"))!==null&&t!==void 0?t:r.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",r)}o.drawImage(r,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",r)}return s},e.prototype.createVideoClone=function(r){var t=r.ownerDocument.createElement("canvas");t.width=r.offsetWidth,t.height=r.offsetHeight;var a=t.getContext("2d");try{return a&&(a.drawImage(r,0,0,t.width,t.height),this.options.allowTaint||a.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",r)}var s=r.ownerDocument.createElement("canvas");return s.width=r.offsetWidth,s.height=r.offsetHeight,s},e.prototype.appendChildNode=function(r,t,a){(!Bf(t)||!WG(t)&&!t.hasAttribute(wk)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Bf(t)||!zC(t))&&r.appendChild(this.cloneNode(t,a))},e.prototype.cloneChildNodes=function(r,t,a){for(var s=this,i=r.shadowRoot?r.shadowRoot.firstChild:r.firstChild;i;i=i.nextSibling)if(Bf(i)&&xk(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(t,l,a)})}else this.appendChildNode(t,i,a)},e.prototype.cloneNode=function(r,t){if(hk(r))return document.createTextNode(r.data);if(!r.ownerDocument)return r.cloneNode(!1);var a=r.ownerDocument.defaultView;if(a&&Bf(r)&&(f1(r)||Vg(r))){var s=this.createElementClone(r);s.style.transitionProperty="none";var i=a.getComputedStyle(r),o=a.getComputedStyle(r,":before"),l=a.getComputedStyle(r,":after");this.referenceElement===r&&f1(s)&&(this.clonedReferenceElement=s),Ib(s)&&lY(s);var A=this.counters.parse(new FC(this.context,i)),d=this.resolvePseudoContent(r,s,o,nm.BEFORE);qC(r)&&(t=!0),VC(r)||this.cloneChildNodes(r,s,t),d&&s.insertBefore(d,s.firstChild);var f=this.resolvePseudoContent(r,s,l,nm.AFTER);return f&&s.appendChild(f),this.counters.pop(A),(i&&(this.options.copyStyles||Vg(r))&&!gk(r)||t)&&zw(i,s),(r.scrollTop!==0||r.scrollLeft!==0)&&this.scrolledElements.push([s,r.scrollLeft,r.scrollTop]),(F0(r)||k0(r))&&(F0(s)||k0(s))&&(s.value=r.value),s}return r.cloneNode(!1)},e.prototype.resolvePseudoContent=function(r,t,a,s){var i=this;if(a){var o=a.content,l=t.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||a.display==="none")){this.counters.parse(new FC(this.context,a));var A=new KW(this.context,a),d=l.createElement("html2canvaspseudoelement");zw(a,d),A.content.forEach(function(h){if(h.type===0)d.appendChild(l.createTextNode(h.value));else if(h.type===22){var m=l.createElement("img");m.src=h.value,m.style.opacity="1",d.appendChild(m)}else if(h.type===18){if(h.name==="attr"){var p=h.values.filter(Ga);p.length&&d.appendChild(l.createTextNode(r.getAttribute(p[0].value)||""))}else if(h.name==="counter"){var v=h.values.filter(Kf),g=v[0],y=v[1];if(g&&Ga(g)){var w=i.counters.getCounterValue(g.value),j=y&&Ga(y)?c1.parse(i.context,y.value):3;d.appendChild(l.createTextNode(ym(w,j,!1)))}}else if(h.name==="counters"){var C=h.values.filter(Kf),g=C[0],E=C[1],y=C[2];if(g&&Ga(g)){var U=i.counters.getCounterValues(g.value),k=y&&Ga(y)?c1.parse(i.context,y.value):3,F=E&&E.type===0?E.value:"",D=U.map(function(L){return ym(L,k,!1)}).join(F);d.appendChild(l.createTextNode(D))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(l.createTextNode(EC(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(EC(A.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(h.value))}}),d.className=m1+" "+p1;var f=s===nm.BEFORE?" "+m1:" "+p1;return Vg(t)?t.className.baseValue+=f:t.className+=f,d}}},e.destroy=function(r){return r.parentNode?(r.parentNode.removeChild(r),!0):!1},e})(),nm;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(nm||(nm={}));var JG=function(e,r){var t=e.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=r.width.toString(),t.height=r.height.toString(),t.scrolling="no",t.setAttribute(wk,"true"),e.body.appendChild(t),t},ZG=function(e){return new Promise(function(r){if(e.complete){r();return}if(!e.src){r();return}e.onload=r,e.onerror=r})},eY=function(e){return Promise.all([].slice.call(e.images,0).map(ZG))},tY=function(e){return new Promise(function(r,t){var a=e.contentWindow;if(!a)return t("No window assigned for iframe");var s=a.document;a.onload=e.onload=function(){a.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),r(e))},50)}})},rY=["all","d","content"],zw=function(e,r){for(var t=e.length-1;t>=0;t--){var a=e.item(t);rY.indexOf(a)===-1&&r.style.setProperty(a,e.getPropertyValue(a))}return r},aY=function(e){var r="";return e&&(r+="<!DOCTYPE ",e.name&&(r+=e.name),e.internalSubset&&(r+=e.internalSubset),e.publicId&&(r+='"'+e.publicId+'"'),e.systemId&&(r+='"'+e.systemId+'"'),r+=">"),r},nY=function(e,r,t){e&&e.defaultView&&(r!==e.defaultView.pageXOffset||t!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(r,t)},sY=function(e){var r=e[0],t=e[1],a=e[2];r.scrollLeft=t,r.scrollTop=a},iY=":before",oY=":after",m1="___html2canvas___pseudoelement_before",p1="___html2canvas___pseudoelement_after",e5=`{
    content: "" !important;
    display: none !important;
}`,lY=function(e){cY(e,"."+m1+iY+e5+`
         .`+p1+oY+e5)},cY=function(e,r){var t=e.ownerDocument;if(t){var a=t.createElement("style");a.textContent=r,e.appendChild(a)}},yk=(function(){function e(){}return e.getOrigin=function(r){var t=e._link;return t?(t.href=r,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},e.isSameOrigin=function(r){return e.getOrigin(r)===e._origin},e.setContext=function(r){e._link=r.document.createElement("a"),e._origin=e.getOrigin(r.location.href)},e._origin="about:blank",e})(),AY=(function(){function e(r,t){this.context=r,this._options=t,this._cache={}}return e.prototype.addImage=function(r){var t=Promise.resolve();return this.has(r)||(Ww(r)||hY(r))&&(this._cache[r]=this.loadImage(r)).catch(function(){}),t},e.prototype.match=function(r){return this._cache[r]},e.prototype.loadImage=function(r){return bi(this,void 0,void 0,function(){var t,a,s,i,o=this;return ii(this,function(l){switch(l.label){case 0:return t=yk.isSameOrigin(r),a=!qw(r)&&this._options.useCORS===!0&&Os.SUPPORT_CORS_IMAGES&&!t,s=!qw(r)&&!t&&!Ww(r)&&typeof this._options.proxy=="string"&&Os.SUPPORT_CORS_XHR&&!a,!t&&this._options.allowTaint===!1&&!qw(r)&&!Ww(r)&&!s&&!a?[2]:(i=r,s?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+r.substring(0,256)),[4,new Promise(function(A,d){var f=new Image;f.onload=function(){return A(f)},f.onerror=d,(mY(i)||a)&&(f.crossOrigin="anonymous"),f.src=i,f.complete===!0&&setTimeout(function(){return A(f)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(r){return typeof this._cache[r]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(r){var t=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var s=r.substring(0,256);return new Promise(function(i,o){var l=Os.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")i(A.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(m){return o(m)},!1),h.readAsDataURL(A.response)}else o("Failed to proxy resource "+s+" with status code "+A.status)},A.onerror=o;var d=a.indexOf("?")>-1?"&":"?";if(A.open("GET",""+a+d+"url="+encodeURIComponent(r)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),t._options.imageTimeout){var f=t._options.imageTimeout;A.timeout=f,A.ontimeout=function(){return o("Timed out ("+f+"ms) proxying "+s)}}A.send()})},e})(),dY=/^data:image\/svg\+xml/i,uY=/^data:image\/.*;base64,/i,fY=/^data:image\/.*/i,hY=function(e){return Os.SUPPORT_SVG_DRAWING||!pY(e)},qw=function(e){return fY.test(e)},mY=function(e){return uY.test(e)},Ww=function(e){return e.substr(0,4)==="blob"},pY=function(e){return e.substr(-3).toLowerCase()==="svg"||dY.test(e)},Dt=(function(){function e(r,t){this.type=0,this.x=r,this.y=t}return e.prototype.add=function(r,t){return new e(this.x+r,this.y+t)},e})(),gf=function(e,r,t){return new Dt(e.x+(r.x-e.x)*t,e.y+(r.y-e.y)*t)},hg=(function(){function e(r,t,a,s){this.type=1,this.start=r,this.startControl=t,this.endControl=a,this.end=s}return e.prototype.subdivide=function(r,t){var a=gf(this.start,this.startControl,r),s=gf(this.startControl,this.endControl,r),i=gf(this.endControl,this.end,r),o=gf(a,s,r),l=gf(s,i,r),A=gf(o,l,r);return t?new e(this.start,a,o,A):new e(A,l,i,this.end)},e.prototype.add=function(r,t){return new e(this.start.add(r,t),this.startControl.add(r,t),this.endControl.add(r,t),this.end.add(r,t))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),To=function(e){return e.type===1},gY=(function(){function e(r){var t=r.styles,a=r.bounds,s=qh(t.borderTopLeftRadius,a.width,a.height),i=s[0],o=s[1],l=qh(t.borderTopRightRadius,a.width,a.height),A=l[0],d=l[1],f=qh(t.borderBottomRightRadius,a.width,a.height),h=f[0],m=f[1],p=qh(t.borderBottomLeftRadius,a.width,a.height),v=p[0],g=p[1],y=[];y.push((i+A)/a.width),y.push((v+h)/a.width),y.push((o+g)/a.height),y.push((d+m)/a.height);var w=Math.max.apply(Math,y);w>1&&(i/=w,o/=w,A/=w,d/=w,h/=w,m/=w,v/=w,g/=w);var j=a.width-A,C=a.height-m,E=a.width-h,U=a.height-g,k=t.borderTopWidth,F=t.borderRightWidth,D=t.borderBottomWidth,_=t.borderLeftWidth,G=on(t.paddingTop,r.bounds.width),L=on(t.paddingRight,r.bounds.width),T=on(t.paddingBottom,r.bounds.width),J=on(t.paddingLeft,r.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?jn(a.left+_/3,a.top+k/3,i-_/3,o-k/3,Ia.TOP_LEFT):new Dt(a.left+_/3,a.top+k/3),this.topRightBorderDoubleOuterBox=i>0||o>0?jn(a.left+j,a.top+k/3,A-F/3,d-k/3,Ia.TOP_RIGHT):new Dt(a.left+a.width-F/3,a.top+k/3),this.bottomRightBorderDoubleOuterBox=h>0||m>0?jn(a.left+E,a.top+C,h-F/3,m-D/3,Ia.BOTTOM_RIGHT):new Dt(a.left+a.width-F/3,a.top+a.height-D/3),this.bottomLeftBorderDoubleOuterBox=v>0||g>0?jn(a.left+_/3,a.top+U,v-_/3,g-D/3,Ia.BOTTOM_LEFT):new Dt(a.left+_/3,a.top+a.height-D/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?jn(a.left+_*2/3,a.top+k*2/3,i-_*2/3,o-k*2/3,Ia.TOP_LEFT):new Dt(a.left+_*2/3,a.top+k*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?jn(a.left+j,a.top+k*2/3,A-F*2/3,d-k*2/3,Ia.TOP_RIGHT):new Dt(a.left+a.width-F*2/3,a.top+k*2/3),this.bottomRightBorderDoubleInnerBox=h>0||m>0?jn(a.left+E,a.top+C,h-F*2/3,m-D*2/3,Ia.BOTTOM_RIGHT):new Dt(a.left+a.width-F*2/3,a.top+a.height-D*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||g>0?jn(a.left+_*2/3,a.top+U,v-_*2/3,g-D*2/3,Ia.BOTTOM_LEFT):new Dt(a.left+_*2/3,a.top+a.height-D*2/3),this.topLeftBorderStroke=i>0||o>0?jn(a.left+_/2,a.top+k/2,i-_/2,o-k/2,Ia.TOP_LEFT):new Dt(a.left+_/2,a.top+k/2),this.topRightBorderStroke=i>0||o>0?jn(a.left+j,a.top+k/2,A-F/2,d-k/2,Ia.TOP_RIGHT):new Dt(a.left+a.width-F/2,a.top+k/2),this.bottomRightBorderStroke=h>0||m>0?jn(a.left+E,a.top+C,h-F/2,m-D/2,Ia.BOTTOM_RIGHT):new Dt(a.left+a.width-F/2,a.top+a.height-D/2),this.bottomLeftBorderStroke=v>0||g>0?jn(a.left+_/2,a.top+U,v-_/2,g-D/2,Ia.BOTTOM_LEFT):new Dt(a.left+_/2,a.top+a.height-D/2),this.topLeftBorderBox=i>0||o>0?jn(a.left,a.top,i,o,Ia.TOP_LEFT):new Dt(a.left,a.top),this.topRightBorderBox=A>0||d>0?jn(a.left+j,a.top,A,d,Ia.TOP_RIGHT):new Dt(a.left+a.width,a.top),this.bottomRightBorderBox=h>0||m>0?jn(a.left+E,a.top+C,h,m,Ia.BOTTOM_RIGHT):new Dt(a.left+a.width,a.top+a.height),this.bottomLeftBorderBox=v>0||g>0?jn(a.left,a.top+U,v,g,Ia.BOTTOM_LEFT):new Dt(a.left,a.top+a.height),this.topLeftPaddingBox=i>0||o>0?jn(a.left+_,a.top+k,Math.max(0,i-_),Math.max(0,o-k),Ia.TOP_LEFT):new Dt(a.left+_,a.top+k),this.topRightPaddingBox=A>0||d>0?jn(a.left+Math.min(j,a.width-F),a.top+k,j>a.width+F?0:Math.max(0,A-F),Math.max(0,d-k),Ia.TOP_RIGHT):new Dt(a.left+a.width-F,a.top+k),this.bottomRightPaddingBox=h>0||m>0?jn(a.left+Math.min(E,a.width-_),a.top+Math.min(C,a.height-D),Math.max(0,h-F),Math.max(0,m-D),Ia.BOTTOM_RIGHT):new Dt(a.left+a.width-F,a.top+a.height-D),this.bottomLeftPaddingBox=v>0||g>0?jn(a.left+_,a.top+Math.min(U,a.height-D),Math.max(0,v-_),Math.max(0,g-D),Ia.BOTTOM_LEFT):new Dt(a.left+_,a.top+a.height-D),this.topLeftContentBox=i>0||o>0?jn(a.left+_+J,a.top+k+G,Math.max(0,i-(_+J)),Math.max(0,o-(k+G)),Ia.TOP_LEFT):new Dt(a.left+_+J,a.top+k+G),this.topRightContentBox=A>0||d>0?jn(a.left+Math.min(j,a.width+_+J),a.top+k+G,j>a.width+_+J?0:A-_+J,d-(k+G),Ia.TOP_RIGHT):new Dt(a.left+a.width-(F+L),a.top+k+G),this.bottomRightContentBox=h>0||m>0?jn(a.left+Math.min(E,a.width-(_+J)),a.top+Math.min(C,a.height+k+G),Math.max(0,h-(F+L)),m-(D+T),Ia.BOTTOM_RIGHT):new Dt(a.left+a.width-(F+L),a.top+a.height-(D+T)),this.bottomLeftContentBox=v>0||g>0?jn(a.left+_+J,a.top+U,Math.max(0,v-(_+J)),g-(D+T),Ia.BOTTOM_LEFT):new Dt(a.left+_+J,a.top+a.height-(D+T))}return e})(),Ia;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ia||(Ia={}));var jn=function(e,r,t,a,s){var i=4*((Math.sqrt(2)-1)/3),o=t*i,l=a*i,A=e+t,d=r+a;switch(s){case Ia.TOP_LEFT:return new hg(new Dt(e,d),new Dt(e,d-l),new Dt(A-o,r),new Dt(A,r));case Ia.TOP_RIGHT:return new hg(new Dt(e,r),new Dt(e+o,r),new Dt(A,d-l),new Dt(A,d));case Ia.BOTTOM_RIGHT:return new hg(new Dt(A,r),new Dt(A,r+l),new Dt(e+o,d),new Dt(e,d));case Ia.BOTTOM_LEFT:default:return new hg(new Dt(A,d),new Dt(A-o,d),new Dt(e,r+l),new Dt(e,r))}},D0=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},xY=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},U0=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},vY=(function(){function e(r,t,a){this.offsetX=r,this.offsetY=t,this.matrix=a,this.type=0,this.target=6}return e})(),mg=(function(){function e(r,t){this.path=r,this.target=t,this.type=1}return e})(),wY=(function(){function e(r){this.opacity=r,this.type=2,this.target=6}return e})(),yY=function(e){return e.type===0},bk=function(e){return e.type===1},bY=function(e){return e.type===2},t5=function(e,r){return e.length===r.length?e.some(function(t,a){return t===r[a]}):!1},NY=function(e,r,t,a,s){return e.map(function(i,o){switch(o){case 0:return i.add(r,t);case 1:return i.add(r+a,t);case 2:return i.add(r+a,t+s);case 3:return i.add(r,t+s)}return i})},Nk=(function(){function e(r){this.element=r,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),jk=(function(){function e(r,t){if(this.container=r,this.parent=t,this.effects=[],this.curves=new gY(this.container),this.container.styles.opacity<1&&this.effects.push(new wY(this.container.styles.opacity)),this.container.styles.transform!==null){var a=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new vY(a,s,i))}if(this.container.styles.overflowX!==0){var o=D0(this.curves),l=U0(this.curves);t5(o,l)?this.effects.push(new mg(o,6)):(this.effects.push(new mg(o,2)),this.effects.push(new mg(l,4)))}}return e.prototype.getEffects=function(r){for(var t=[2,3].indexOf(this.container.styles.position)===-1,a=this.parent,s=this.effects.slice(0);a;){var i=a.effects.filter(function(A){return!bk(A)});if(t||a.container.styles.position!==0||!a.parent){if(s.unshift.apply(s,i),t=[2,3].indexOf(a.container.styles.position)===-1,a.container.styles.overflowX!==0){var o=D0(a.curves),l=U0(a.curves);t5(o,l)||s.unshift(new mg(l,6))}}else s.unshift.apply(s,i);a=a.parent}return s.filter(function(A){return bs(A.target,r)})},e})(),g1=function(e,r,t,a){e.container.elements.forEach(function(s){var i=bs(s.flags,4),o=bs(s.flags,2),l=new jk(s,e);bs(s.styles.display,2048)&&a.push(l);var A=bs(s.flags,8)?[]:a;if(i||o){var d=i||s.styles.isPositioned()?t:r,f=new Nk(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var m=0;d.negativeZIndex.some(function(v,g){return h>v.element.container.styles.zIndex.order?(m=g,!1):m>0}),d.negativeZIndex.splice(m,0,f)}else if(h>0){var p=0;d.positiveZIndex.some(function(v,g){return h>=v.element.container.styles.zIndex.order?(p=g+1,!1):p>0}),d.positiveZIndex.splice(p,0,f)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else s.styles.isFloating()?d.nonPositionedFloats.push(f):d.nonPositionedInlineLevel.push(f);g1(l,f,i?f:t,A)}else s.styles.isInlineLevel()?r.inlineLevel.push(l):r.nonInlineLevel.push(l),g1(l,r,t,A);bs(s.flags,8)&&Bk(s,A)})},Bk=function(e,r){for(var t=e instanceof u1?e.start:1,a=e instanceof u1?e.reversed:!1,s=0;s<r.length;s++){var i=r[s];i.container instanceof lk&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=ym(t,i.container.styles.listStyleType,!0),t+=a?-1:1}},jY=function(e){var r=new jk(e,null),t=new Nk(r),a=[];return g1(r,t,t,a),Bk(r.container,a),t},r5=function(e,r){switch(r){case 0:return Ho(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ho(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ho(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ho(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},BY=function(e,r){switch(r){case 0:return Ho(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ho(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ho(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Ho(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},CY=function(e,r){switch(r){case 0:return Ho(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ho(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ho(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Ho(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},SY=function(e,r){switch(r){case 0:return pg(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return pg(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return pg(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return pg(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},pg=function(e,r){var t=[];return To(e)?t.push(e.subdivide(.5,!1)):t.push(e),To(r)?t.push(r.subdivide(.5,!0)):t.push(r),t},Ho=function(e,r,t,a){var s=[];return To(e)?s.push(e.subdivide(.5,!1)):s.push(e),To(t)?s.push(t.subdivide(.5,!0)):s.push(t),To(a)?s.push(a.subdivide(.5,!0).reverse()):s.push(a),To(r)?s.push(r.subdivide(.5,!1).reverse()):s.push(r),s},Ck=function(e){var r=e.bounds,t=e.styles;return r.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},L0=function(e){var r=e.styles,t=e.bounds,a=on(r.paddingLeft,t.width),s=on(r.paddingRight,t.width),i=on(r.paddingTop,t.width),o=on(r.paddingBottom,t.width);return t.add(a+r.borderLeftWidth,i+r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth+a+s),-(r.borderTopWidth+r.borderBottomWidth+i+o))},_Y=function(e,r){return e===0?r.bounds:e===2?L0(r):Ck(r)},EY=function(e,r){return e===0?r.bounds:e===2?L0(r):Ck(r)},Gw=function(e,r,t){var a=_Y(Nf(e.styles.backgroundOrigin,r),e),s=EY(Nf(e.styles.backgroundClip,r),e),i=FY(Nf(e.styles.backgroundSize,r),t,a),o=i[0],l=i[1],A=qh(Nf(e.styles.backgroundPosition,r),a.width-o,a.height-l),d=kY(Nf(e.styles.backgroundRepeat,r),A,i,a,s),f=Math.round(a.left+A[0]),h=Math.round(a.top+A[1]);return[d,f,h,o,l]},xf=function(e){return Ga(e)&&e.value===Pf.AUTO},gg=function(e){return typeof e=="number"},FY=function(e,r,t){var a=r[0],s=r[1],i=r[2],o=e[0],l=e[1];if(!o)return[0,0];if(ds(o)&&l&&ds(l))return[on(o,t.width),on(l,t.height)];var A=gg(i);if(Ga(o)&&(o.value===Pf.CONTAIN||o.value===Pf.COVER)){if(gg(i)){var d=t.width/t.height;return d<i!=(o.value===Pf.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var f=gg(a),h=gg(s),m=f||h;if(xf(o)&&(!l||xf(l))){if(f&&h)return[a,s];if(!A&&!m)return[t.width,t.height];if(m&&A){var p=f?a:s*i,v=h?s:a/i;return[p,v]}var g=f?a:t.width,y=h?s:t.height;return[g,y]}if(A){var w=0,j=0;return ds(o)?w=on(o,t.width):ds(l)&&(j=on(l,t.height)),xf(o)?w=j*i:(!l||xf(l))&&(j=w/i),[w,j]}var C=null,E=null;if(ds(o)?C=on(o,t.width):l&&ds(l)&&(E=on(l,t.height)),C!==null&&(!l||xf(l))&&(E=f&&h?C/a*s:t.height),E!==null&&xf(o)&&(C=f&&h?E/s*a:t.width),C!==null&&E!==null)return[C,E];throw new Error("Unable to calculate background-size for element")},Nf=function(e,r){var t=e[r];return typeof t>"u"?e[0]:t},kY=function(e,r,t,a,s){var i=r[0],o=r[1],l=t[0],A=t[1];switch(e){case 2:return[new Dt(Math.round(a.left),Math.round(a.top+o)),new Dt(Math.round(a.left+a.width),Math.round(a.top+o)),new Dt(Math.round(a.left+a.width),Math.round(A+a.top+o)),new Dt(Math.round(a.left),Math.round(A+a.top+o))];case 3:return[new Dt(Math.round(a.left+i),Math.round(a.top)),new Dt(Math.round(a.left+i+l),Math.round(a.top)),new Dt(Math.round(a.left+i+l),Math.round(a.height+a.top)),new Dt(Math.round(a.left+i),Math.round(a.height+a.top))];case 1:return[new Dt(Math.round(a.left+i),Math.round(a.top+o)),new Dt(Math.round(a.left+i+l),Math.round(a.top+o)),new Dt(Math.round(a.left+i+l),Math.round(a.top+o+A)),new Dt(Math.round(a.left+i),Math.round(a.top+o+A))];default:return[new Dt(Math.round(s.left),Math.round(s.top)),new Dt(Math.round(s.left+s.width),Math.round(s.top)),new Dt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Dt(Math.round(s.left),Math.round(s.height+s.top))]}},DY="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",a5="Hidden Text",UY=(function(){function e(r){this._data={},this._document=r}return e.prototype.parseMetrics=function(r,t){var a=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;a.style.visibility="hidden",a.style.fontFamily=r,a.style.fontSize=t,a.style.margin="0",a.style.padding="0",a.style.whiteSpace="nowrap",o.appendChild(a),s.src=DY,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=r,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(a5)),a.appendChild(i),a.appendChild(s);var l=s.offsetTop-i.offsetTop+2;a.removeChild(i),a.appendChild(this._document.createTextNode(a5)),a.style.lineHeight="normal",s.style.verticalAlign="super";var A=s.offsetTop-a.offsetTop+2;return o.removeChild(a),{baseline:l,middle:A}},e.prototype.getMetrics=function(r,t){var a=r+" "+t;return typeof this._data[a]>"u"&&(this._data[a]=this.parseMetrics(r,t)),this._data[a]},e})(),Sk=(function(){function e(r,t){this.context=r,this.options=t}return e})(),LY=1e4,IY=(function(e){El(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s._activeEffects=[],s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),a.canvas||(s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px"),s.fontMetrics=new UY(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+a.width+"x"+a.height+") with scale "+a.scale),s}return r.prototype.applyEffects=function(t){for(var a=this;this._activeEffects.length;)this.popEffect();t.forEach(function(s){return a.applyEffect(s)})},r.prototype.applyEffect=function(t){this.ctx.save(),bY(t)&&(this.ctx.globalAlpha=t.opacity),yY(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),bk(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(t){return bi(this,void 0,void 0,function(){var a;return ii(this,function(s){switch(s.label){case 0:return a=t.element.container.styles,a.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},r.prototype.renderNode=function(t){return bi(this,void 0,void 0,function(){return ii(this,function(a){switch(a.label){case 0:if(bs(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return a.sent(),[4,this.renderNodeContent(t)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},r.prototype.renderTextWithLetterSpacing=function(t,a,s){var i=this;if(a===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+s);else{var o=Ub(t.text);o.reduce(function(l,A){return i.ctx.fillText(A,l,t.bounds.top+s),l+i.ctx.measureText(A).width},t.bounds.left)}},r.prototype.createFontStyle=function(t){var a=t.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=TY(t.fontFamily).join(", "),i=$m(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,a,t.fontWeight,i,s].join(" "),s,i]},r.prototype.renderTextNode=function(t,a){return bi(this,void 0,void 0,function(){var s,i,o,l,A,d,f,h,m=this;return ii(this,function(p){return s=this.createFontStyle(a),i=s[0],o=s[1],l=s[2],this.ctx.font=i,this.ctx.direction=a.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,l),d=A.baseline,f=A.middle,h=a.paintOrder,t.textBounds.forEach(function(v){h.forEach(function(g){switch(g){case 0:m.ctx.fillStyle=Us(a.color),m.renderTextWithLetterSpacing(v,a.letterSpacing,d);var y=a.textShadow;y.length&&v.text.trim().length&&(y.slice(0).reverse().forEach(function(w){m.ctx.shadowColor=Us(w.color),m.ctx.shadowOffsetX=w.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=w.offsetY.number*m.options.scale,m.ctx.shadowBlur=w.blur.number,m.renderTextWithLetterSpacing(v,a.letterSpacing,d)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),a.textDecorationLine.length&&(m.ctx.fillStyle=Us(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(w){switch(w){case 1:m.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+d),v.bounds.width,1);break;case 2:m.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:m.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+f),v.bounds.width,1);break}}));break;case 1:a.webkitTextStrokeWidth&&v.text.trim().length&&(m.ctx.strokeStyle=Us(a.webkitTextStrokeColor),m.ctx.lineWidth=a.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+d)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},r.prototype.renderReplacedElement=function(t,a,s){if(s&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=L0(t),o=U0(a);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(t){return bi(this,void 0,void 0,function(){var a,s,i,o,l,A,j,j,d,f,h,m,E,p,v,U,g,y,w,j,C,E,U;return ii(this,function(k){switch(k.label){case 0:this.applyEffects(t.getEffects(4)),a=t.container,s=t.curves,i=a.styles,o=0,l=a.textNodes,k.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,i)]):[3,4];case 2:k.sent(),k.label=3;case 3:return o++,[3,1];case 4:if(!(a instanceof sk))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(a.src)];case 6:return j=k.sent(),this.renderReplacedElement(a,s,j),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+a.src),[3,8];case 8:if(a instanceof ik&&this.renderReplacedElement(a,s,a.canvas),!(a instanceof ok))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(a.svg)];case 10:return j=k.sent(),this.renderReplacedElement(a,s,j),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+a.svg.substring(0,255)),[3,12];case 12:return a instanceof dk&&a.tree?(d=new r(this.context,{scale:this.options.scale,backgroundColor:a.backgroundColor,x:0,y:0,width:a.width,height:a.height}),[4,d.render(a.tree)]):[3,14];case 13:f=k.sent(),a.width&&a.height&&this.ctx.drawImage(f,0,0,a.width,a.height,a.bounds.left,a.bounds.top,a.bounds.width,a.bounds.height),k.label=14;case 14:if(a instanceof Lb&&(h=Math.min(a.bounds.width,a.bounds.height),a.type===_0?a.checked&&(this.ctx.save(),this.path([new Dt(a.bounds.left+h*.39363,a.bounds.top+h*.79),new Dt(a.bounds.left+h*.16,a.bounds.top+h*.5549),new Dt(a.bounds.left+h*.27347,a.bounds.top+h*.44071),new Dt(a.bounds.left+h*.39694,a.bounds.top+h*.5649),new Dt(a.bounds.left+h*.72983,a.bounds.top+h*.23),new Dt(a.bounds.left+h*.84,a.bounds.top+h*.34085),new Dt(a.bounds.left+h*.39363,a.bounds.top+h*.79)]),this.ctx.fillStyle=Us(KC),this.ctx.fill(),this.ctx.restore()):a.type===E0&&a.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a.bounds.left+h/2,a.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Us(KC),this.ctx.fill(),this.ctx.restore())),PY(a)&&a.value.length){switch(m=this.createFontStyle(i),E=m[0],p=m[1],v=this.fontMetrics.getMetrics(E,p).baseline,this.ctx.font=E,this.ctx.fillStyle=Us(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=RY(a.styles.textAlign),U=L0(a),g=0,a.styles.textAlign){case 1:g+=U.width/2;break;case 2:g+=U.width;break}y=U.add(g,0,0,-U.height/2+1),this.ctx.save(),this.path([new Dt(U.left,U.top),new Dt(U.left+U.width,U.top),new Dt(U.left+U.width,U.top+U.height),new Dt(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new am(a.value,y),i.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!bs(a.styles.display,2048))return[3,20];if(a.styles.listStyleImage===null)return[3,19];if(w=a.styles.listStyleImage,w.type!==0)return[3,18];j=void 0,C=w.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return j=k.sent(),this.ctx.drawImage(j,a.bounds.left-(j.width+10),a.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:t.listValue&&a.styles.listStyleType!==-1&&(E=this.createFontStyle(i)[0],this.ctx.font=E,this.ctx.fillStyle=Us(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",U=new mA(a.bounds.left,a.bounds.top+on(a.styles.paddingTop,a.bounds.width),a.bounds.width,SC(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new am(t.listValue,U),i.letterSpacing,SC(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},r.prototype.renderStackContent=function(t){return bi(this,void 0,void 0,function(){var a,s,w,i,o,w,l,A,w,d,f,w,h,m,w,p,v,w,g,y,w;return ii(this,function(j){switch(j.label){case 0:if(bs(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:j.sent(),a=0,s=t.negativeZIndex,j.label=2;case 2:return a<s.length?(w=s[a],[4,this.renderStack(w)]):[3,5];case 3:j.sent(),j.label=4;case 4:return a++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:j.sent(),i=0,o=t.nonInlineLevel,j.label=7;case 7:return i<o.length?(w=o[i],[4,this.renderNode(w)]):[3,10];case 8:j.sent(),j.label=9;case 9:return i++,[3,7];case 10:l=0,A=t.nonPositionedFloats,j.label=11;case 11:return l<A.length?(w=A[l],[4,this.renderStack(w)]):[3,14];case 12:j.sent(),j.label=13;case 13:return l++,[3,11];case 14:d=0,f=t.nonPositionedInlineLevel,j.label=15;case 15:return d<f.length?(w=f[d],[4,this.renderStack(w)]):[3,18];case 16:j.sent(),j.label=17;case 17:return d++,[3,15];case 18:h=0,m=t.inlineLevel,j.label=19;case 19:return h<m.length?(w=m[h],[4,this.renderNode(w)]):[3,22];case 20:j.sent(),j.label=21;case 21:return h++,[3,19];case 22:p=0,v=t.zeroOrAutoZIndexOrTransformedOrOpacity,j.label=23;case 23:return p<v.length?(w=v[p],[4,this.renderStack(w)]):[3,26];case 24:j.sent(),j.label=25;case 25:return p++,[3,23];case 26:g=0,y=t.positiveZIndex,j.label=27;case 27:return g<y.length?(w=y[g],[4,this.renderStack(w)]):[3,30];case 28:j.sent(),j.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},r.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},r.prototype.formatPath=function(t){var a=this;t.forEach(function(s,i){var o=To(s)?s.start:s;i===0?a.ctx.moveTo(o.x,o.y):a.ctx.lineTo(o.x,o.y),To(s)&&a.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},r.prototype.renderRepeat=function(t,a,s,i){this.path(t),this.ctx.fillStyle=a,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},r.prototype.resizeImage=function(t,a,s){var i;if(t.width===a&&t.height===s)return t;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,a),l.height=Math.max(1,s);var A=l.getContext("2d");return A.drawImage(t,0,0,t.width,t.height,0,0,a,s),l},r.prototype.renderBackgroundImage=function(t){return bi(this,void 0,void 0,function(){var a,s,i,o,l,A;return ii(this,function(d){switch(d.label){case 0:a=t.styles.backgroundImage.length-1,s=function(f){var h,m,p,G,V,Y,J,R,D,v,G,V,Y,J,R,g,y,w,j,C,E,U,k,F,D,_,G,L,T,J,R,re,V,Y,H,Z,Ae,ee,Q,q,$,X;return ii(this,function(te){switch(te.label){case 0:if(f.type!==0)return[3,5];h=void 0,m=f.url,te.label=1;case 1:return te.trys.push([1,3,,4]),[4,i.context.cache.match(m)];case 2:return h=te.sent(),[3,4];case 3:return te.sent(),i.context.logger.error("Error loading background-image "+m),[3,4];case 4:return h&&(p=Gw(t,a,[h.width,h.height,h.width/h.height]),G=p[0],V=p[1],Y=p[2],J=p[3],R=p[4],D=i.ctx.createPattern(i.resizeImage(h,J,R),"repeat"),i.renderRepeat(G,D,V,Y)),[3,6];case 5:yq(f)?(v=Gw(t,a,[null,null,null]),G=v[0],V=v[1],Y=v[2],J=v[3],R=v[4],g=pq(f.angle,J,R),y=g[0],w=g[1],j=g[2],C=g[3],E=g[4],U=document.createElement("canvas"),U.width=J,U.height=R,k=U.getContext("2d"),F=k.createLinearGradient(w,C,j,E),BC(f.stops,y).forEach(function(K){return F.addColorStop(K.stop,Us(K.color))}),k.fillStyle=F,k.fillRect(0,0,J,R),J>0&&R>0&&(D=i.ctx.createPattern(U,"repeat"),i.renderRepeat(G,D,V,Y))):bq(f)&&(_=Gw(t,a,[null,null,null]),G=_[0],L=_[1],T=_[2],J=_[3],R=_[4],re=f.position.length===0?[Fb]:f.position,V=on(re[0],J),Y=on(re[re.length-1],R),H=gq(f,V,Y,J,R),Z=H[0],Ae=H[1],Z>0&&Ae>0&&(ee=i.ctx.createRadialGradient(L+V,T+Y,0,L+V,T+Y,Z),BC(f.stops,Z*2).forEach(function(K){return ee.addColorStop(K.stop,Us(K.color))}),i.path(G),i.ctx.fillStyle=ee,Z!==Ae?(Q=t.bounds.left+.5*t.bounds.width,q=t.bounds.top+.5*t.bounds.height,$=Ae/Z,X=1/$,i.ctx.save(),i.ctx.translate(Q,q),i.ctx.transform(1,0,0,$,0,0),i.ctx.translate(-Q,-q),i.ctx.fillRect(L,X*(T-q)+q,J,R*X),i.ctx.restore()):i.ctx.fill())),te.label=6;case 6:return a--,[2]}})},i=this,o=0,l=t.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(A=l[o],[5,s(A)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},r.prototype.renderSolidBorder=function(t,a,s){return bi(this,void 0,void 0,function(){return ii(this,function(i){return this.path(r5(s,a)),this.ctx.fillStyle=Us(t),this.ctx.fill(),[2]})})},r.prototype.renderDoubleBorder=function(t,a,s,i){return bi(this,void 0,void 0,function(){var o,l;return ii(this,function(A){switch(A.label){case 0:return a<3?[4,this.renderSolidBorder(t,s,i)]:[3,2];case 1:return A.sent(),[2];case 2:return o=BY(i,s),this.path(o),this.ctx.fillStyle=Us(t),this.ctx.fill(),l=CY(i,s),this.path(l),this.ctx.fill(),[2]}})})},r.prototype.renderNodeBackgroundAndBorders=function(t){return bi(this,void 0,void 0,function(){var a,s,i,o,l,A,d,f,h=this;return ii(this,function(m){switch(m.label){case 0:return this.applyEffects(t.getEffects(2)),a=t.container.styles,s=!dd(a.backgroundColor)||a.backgroundImage.length,i=[{style:a.borderTopStyle,color:a.borderTopColor,width:a.borderTopWidth},{style:a.borderRightStyle,color:a.borderRightColor,width:a.borderRightWidth},{style:a.borderBottomStyle,color:a.borderBottomColor,width:a.borderBottomWidth},{style:a.borderLeftStyle,color:a.borderLeftColor,width:a.borderLeftWidth}],o=QY(Nf(a.backgroundClip,0),t.curves),s||a.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),dd(a.backgroundColor)||(this.ctx.fillStyle=Us(a.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),a.boxShadow.slice(0).reverse().forEach(function(p){h.ctx.save();var v=D0(t.curves),g=p.inset?0:LY,y=NY(v,-g+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(h.path(v),h.ctx.clip(),h.mask(y)):(h.mask(v),h.ctx.clip(),h.path(y)),h.ctx.shadowOffsetX=p.offsetX.number+g,h.ctx.shadowOffsetY=p.offsetY.number,h.ctx.shadowColor=Us(p.color),h.ctx.shadowBlur=p.blur.number,h.ctx.fillStyle=p.inset?Us(p.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),m.label=2;case 2:l=0,A=0,d=i,m.label=3;case 3:return A<d.length?(f=d[A],f.style!==0&&!dd(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,3)];case 6:return m.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,l,t.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,l,t.curves)];case 10:m.sent(),m.label=11;case 11:l++,m.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},r.prototype.renderDashedDottedBorder=function(t,a,s,i,o){return bi(this,void 0,void 0,function(){var l,A,d,f,h,m,p,v,g,y,w,j,C,E,U,k,U,k;return ii(this,function(F){return this.ctx.save(),l=SY(i,s),A=r5(i,s),o===2&&(this.path(A),this.ctx.clip()),To(A[0])?(d=A[0].start.x,f=A[0].start.y):(d=A[0].x,f=A[0].y),To(A[1])?(h=A[1].end.x,m=A[1].end.y):(h=A[1].x,m=A[1].y),s===0||s===2?p=Math.abs(d-h):p=Math.abs(f-m),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(A.slice(0,2)),v=a<3?a*3:a*2,g=a<3?a*2:a,o===3&&(v=a,g=a),y=!0,p<=v*2?y=!1:p<=v*2+g?(w=p/(2*v+g),v*=w,g*=w):(j=Math.floor((p+g)/(v+g)),C=(p-j*v)/(j-1),E=(p-(j+1)*v)/j,g=E<=0||Math.abs(g-C)<Math.abs(g-E)?C:E),y&&(o===3?this.ctx.setLineDash([0,v+g]):this.ctx.setLineDash([v,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=a):this.ctx.lineWidth=a*2+1.1,this.ctx.strokeStyle=Us(t),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(To(A[0])&&(U=A[3],k=A[0],this.ctx.beginPath(),this.formatPath([new Dt(U.end.x,U.end.y),new Dt(k.start.x,k.start.y)]),this.ctx.stroke()),To(A[1])&&(U=A[1],k=A[2],this.ctx.beginPath(),this.formatPath([new Dt(U.end.x,U.end.y),new Dt(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},r.prototype.render=function(t){return bi(this,void 0,void 0,function(){var a;return ii(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Us(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=jY(t),[4,this.renderStack(a)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},r})(Sk),PY=function(e){return e instanceof Ak||e instanceof ck?!0:e instanceof Lb&&e.type!==E0&&e.type!==_0},QY=function(e,r){switch(e){case 0:return D0(r);case 2:return xY(r);case 1:default:return U0(r)}},RY=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},MY=["-apple-system","system-ui"],TY=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(r){return MY.indexOf(r)===-1}):e},OY=(function(e){El(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=a,s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale),s}return r.prototype.render=function(t){return bi(this,void 0,void 0,function(){var a,s;return ii(this,function(i){switch(i.label){case 0:return a=d1(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,HY(a)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Us(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},r})(Sk),HY=function(e){return new Promise(function(r,t){var a=new Image;a.onload=function(){r(a)},a.onerror=t,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},$Y=(function(){function e(r){var t=r.id,a=r.enabled;this.id=t,this.enabled=a,this.start=Date.now()}return e.prototype.debug=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Gp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Gp([this.id,this.getTime()+"ms"],r))},e.prototype.warn=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Gp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.prototype.error=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Gp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.instances={},e})(),KY=(function(){function e(r,t){var a;this.windowBounds=t,this.instanceName="#"+e.instanceCount++,this.logger=new $Y({id:this.instanceName,enabled:r.logging}),this.cache=(a=r.cache)!==null&&a!==void 0?a:new AY(this,r)}return e.instanceCount=1,e})(),x1=function(e,r){return r===void 0&&(r={}),VY(e,r)};typeof window<"u"&&yk.setContext(window);var VY=function(e,r){return bi(void 0,void 0,void 0,function(){var t,a,s,i,o,l,A,d,f,h,m,p,v,g,y,w,j,C,E,U,F,k,F,D,_,G,L,T,J,R,re,V,Y,H,Z,Ae,ee,Q,q,$;return ii(this,function(X){switch(X.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=e.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(a=t.defaultView,!a)throw new Error("Document is not attached to a Window");return s={allowTaint:(D=r.allowTaint)!==null&&D!==void 0?D:!1,imageTimeout:(_=r.imageTimeout)!==null&&_!==void 0?_:15e3,proxy:r.proxy,useCORS:(G=r.useCORS)!==null&&G!==void 0?G:!1},i=Gy({logging:(L=r.logging)!==null&&L!==void 0?L:!0,cache:r.cache},s),o={windowWidth:(T=r.windowWidth)!==null&&T!==void 0?T:a.innerWidth,windowHeight:(J=r.windowHeight)!==null&&J!==void 0?J:a.innerHeight,scrollX:(R=r.scrollX)!==null&&R!==void 0?R:a.pageXOffset,scrollY:(re=r.scrollY)!==null&&re!==void 0?re:a.pageYOffset},l=new mA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new KY(i,l),d=(V=r.foreignObjectRendering)!==null&&V!==void 0?V:!1,f={allowTaint:(Y=r.allowTaint)!==null&&Y!==void 0?Y:!1,onclone:r.onclone,ignoreElements:r.ignoreElements,inlineImages:d,copyStyles:d},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new ZC(A,e,f),m=h.clonedReferenceElement,m?[4,h.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=X.sent(),v=Ib(m)||qG(m)?NV(m.ownerDocument):_x(A,m),g=v.width,y=v.height,w=v.left,j=v.top,C=zY(A,m,r.backgroundColor),E={canvas:r.canvas,backgroundColor:C,scale:(Z=(H=r.scale)!==null&&H!==void 0?H:a.devicePixelRatio)!==null&&Z!==void 0?Z:1,x:((Ae=r.x)!==null&&Ae!==void 0?Ae:0)+w,y:((ee=r.y)!==null&&ee!==void 0?ee:0)+j,width:(Q=r.width)!==null&&Q!==void 0?Q:Math.ceil(g),height:(q=r.height)!==null&&q!==void 0?q:Math.ceil(y)},d?(A.logger.debug("Document cloned, using foreign object rendering"),F=new OY(A,E),[4,F.render(m)]):[3,3];case 2:return U=X.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+w+","+j+" with size "+g+"x"+y+" using computed rendering"),A.logger.debug("Starting DOM parsing"),k=fk(A,m),C===k.styles.backgroundColor&&(k.styles.backgroundColor=cA.TRANSPARENT),A.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),F=new IY(A,E),[4,F.render(k)];case 4:U=X.sent(),X.label=5;case 5:return(!(($=r.removeContainer)!==null&&$!==void 0)||$)&&(ZC.destroy(p)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,U]}})})},zY=function(e,r,t){var a=r.ownerDocument,s=a.documentElement?tm(e,getComputedStyle(a.documentElement).backgroundColor):cA.TRANSPARENT,i=a.body?tm(e,getComputedStyle(a.body).backgroundColor):cA.TRANSPARENT,o=typeof t=="string"?tm(e,t):t===null?cA.TRANSPARENT:4294967295;return r===a.documentElement?dd(s)?dd(i)?o:i:s:o};const qY=Object.freeze(Object.defineProperty({__proto__:null,default:x1},Symbol.toStringTag,{value:"Module"}));class _k{constructor(){this.defaultConfig=Ts}loadMedicoTemplate(r){const t=[r,typeof window<"u"?localStorage.getItem("medico_id"):null,"default"].filter(Boolean);for(const a of t)try{const s=v0(a);if(s)return s}catch(s){console.warn("Erro ao carregar template do mdico:",s)}return this.defaultConfig}async generatePDFFromElement(r,t={}){const a=(t.pageSize||"a4").toLowerCase(),s=(t.orientation||"portrait").toLowerCase()==="landscape"?"l":"p",i=Number(t.scale||2);let o=r;if(typeof r=="string"&&(o=document.querySelector(r)),!o)throw new Error("Elemento do preview no encontrado para gerar PDF.");const l=await x1(o,{scale:i,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",windowWidth:o.scrollWidth||o.clientWidth,windowHeight:o.scrollHeight||o.clientHeight}),A=new Ar({orientation:s,unit:"mm",format:a}),d=l.toDataURL("image/png"),f=A.internal.pageSize.getWidth(),h=l.height*f/l.width;return A.addImage(d,"PNG",0,0,f,h),A.output("blob")}loadMedicoLogo(r){const t=[r,typeof window<"u"?localStorage.getItem("medico_id"):null].filter(Boolean);for(const a of t)try{const s=pm(a);if(s)return s}catch(s){console.warn("Erro ao carregar logo do mdico:",s)}return null}generateReceitaHTML(r,t,a,s){const i=this.loadMedicoTemplate(s),o=this.loadMedicoLogo(s),l=this.generateStyles(i),A=this.generateHeader(i,t,o),d=this.generateContent(r,a,i),f=this.generateFooter(i,t);return`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>Receita Mdica</title>
          <style>${l}</style>
        </head>
        <body>
          <div class="receita-container">
            ${A}
            ${d}
            ${f}
          </div>
        </body>
      </html>
    `}generateStyles(r){const{layout:t,content:a,branding:s}=r;return`
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: ${a.fontFamily};
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.primary};
        line-height: 1.6;
        background: white;
      }
      
      .receita-container {
        width: 100%;
        max-width: ${t.pageSize==="A4"?"210mm":"8.5in"};
        margin: 0 auto;
        padding: ${t.margins.top}px ${t.margins.right}px ${t.margins.bottom}px ${t.margins.left}px;
        min-height: ${t.pageSize==="A4"?"297mm":"11in"};
        position: relative;
      }
      
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid ${a.colors.accent};
      }
      
      .header-logo {
        max-height: 80px;
        max-width: 150px;
        object-fit: contain;
      }
      
      .header-info {
        text-align: right;
        flex: 1;
        margin-left: 20px;
      }
      
      .clinic-name {
        font-size: ${a.fontSize.title}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 5px;
      }
      
      .clinic-details {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
        line-height: 1.4;
      }
      
      .doctor-info {
        margin-bottom: 30px;
        padding: 15px;
        background-color: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid ${a.colors.accent};
      }
      
      .doctor-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 5px;
      }
      
      .doctor-details {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .patient-info {
        margin-bottom: 30px;
        padding: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
      }
      
      .patient-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 10px;
      }
      
      .patient-details {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .prescription-title {
        font-size: ${a.fontSize.title}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        text-align: center;
        margin-bottom: 30px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      
      .medications {
        margin-bottom: 40px;
      }
      
      .medication-item {
        margin-bottom: 20px;
        padding: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        background-color: #fafafa;
      }
      
      .medication-name {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 8px;
      }
      
      .medication-details {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.secondary};
        margin-bottom: 5px;
      }
      
      .medication-instructions {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.primary};
        font-style: italic;
        margin-top: 10px;
        padding: 10px;
        background-color: #f0f8ff;
        border-radius: 4px;
        border-left: 3px solid ${a.colors.accent};
      }
      
      .observations {
        margin-bottom: 40px;
        padding: 20px;
        background-color: #fff9e6;
        border-radius: 8px;
        border: 1px solid #ffd700;
      }
      
      .observations-title {
        font-size: ${a.fontSize.subtitle}pt;
        font-weight: bold;
        color: ${a.colors.primary};
        margin-bottom: 10px;
      }
      
      .observations-text {
        font-size: ${a.fontSize.body}pt;
        color: ${a.colors.secondary};
        line-height: 1.6;
      }
      
      .footer {
        position: absolute;
        bottom: ${t.margins.bottom}px;
        left: ${t.margins.left}px;
        right: ${t.margins.right}px;
        text-align: center;
        padding-top: 20px;
        border-top: 1px solid #e0e0e0;
      }
      
      .signature-area {
        margin-top: 40px;
        text-align: center;
      }
      
      .signature-line {
        width: 300px;
        height: 1px;
        background-color: ${a.colors.secondary};
        margin: 40px auto 10px;
      }
      
      .signature-text {
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      .date-location {
        margin-top: 30px;
        font-size: ${a.fontSize.small}pt;
        color: ${a.colors.secondary};
      }
      
      @media print {
        .receita-container {
          margin: 0;
          padding: 20px;
        }
        
        body {
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
        }
      }
    `}generateHeader(r,t,a){const{header:s,branding:i}=r;if(!s.showLogo&&!s.showDoctorInfo)return"";let o="";s.showLogo&&(a!=null&&a.data)&&(o=`<img src="${a.data}" alt="Logo" class="header-logo" />`);let l="";return s.showDoctorInfo&&(l=`
        <div class="header-info">
          <div class="clinic-name">${i.clinicName||(t==null?void 0:t.nome)||"Clnica Mdica"}</div>
          <div class="clinic-details">
            ${i.clinicAddress?`<div>${i.clinicAddress}</div>`:""}
            ${i.clinicPhone?`<div>Tel: ${i.clinicPhone}</div>`:""}
            ${i.clinicEmail?`<div>Email: ${i.clinicEmail}</div>`:""}
          </div>
        </div>
      `),`
      <div class="header">
        ${o}
        ${l}
      </div>
    `}generateContent(r,t,a){const s=this.generateDoctorInfo(r.medico,a),i=this.generatePatientInfo(t,a),o=this.generateMedications(r.itens||[],a),l=this.generateObservations(r.observacoes,a);return`
      ${s}
      ${i}
      <div class="prescription-title">Receita Mdica</div>
      ${o}
      ${l}
    `}generateDoctorInfo(r,t){var a,s;return r?`
      <div class="doctor-info">
        <div class="doctor-name">Dr(a). ${r.nome||((a=r.user)==null?void 0:a.first_name)+" "+((s=r.user)==null?void 0:s.last_name)}</div>
        <div class="doctor-details">
          ${r.crm?`CRM: ${r.crm}`:""}
          ${r.especialidade?` | ${r.especialidade}`:""}
        </div>
      </div>
    `:""}generatePatientInfo(r,t){var s,i;if(!r)return"";const a=this.calculateAge(r.data_nascimento);return`
      <div class="patient-info">
        <div class="patient-name">Paciente: ${r.nome||((s=r.user)==null?void 0:s.first_name)+" "+((i=r.user)==null?void 0:i.last_name)}</div>
        <div class="patient-details">
          ${a?`<div>Idade: ${a} anos</div>`:""}
          ${r.cpf?`<div>CPF: ${r.cpf}</div>`:""}
          ${r.telefone?`<div>Telefone: ${r.telefone}</div>`:""}
          ${r.endereco?`<div>Endereo: ${r.endereco}</div>`:""}
        </div>
      </div>
    `}generateMedications(r,t){return!r||r.length===0?'<div class="medications"><p>Nenhum medicamento prescrito.</p></div>':`<div class="medications">${r.map((s,i)=>`
      <div class="medication-item">
        <div class="medication-name">${i+1}. ${s.medicamento||s.nome}</div>
        ${s.dosagem?`<div class="medication-details">Dosagem: ${s.dosagem}</div>`:""}
        ${s.frequencia?`<div class="medication-details">Frequncia: ${s.frequencia}</div>`:""}
        ${s.duracao?`<div class="medication-details">Durao: ${s.duracao}</div>`:""}
        ${s.instrucoes?`<div class="medication-instructions">${s.instrucoes}</div>`:""}
      </div>
    `).join("")}</div>`}generateObservations(r,t){return r?`
      <div class="observations">
        <div class="observations-title">Observaes:</div>
        <div class="observations-text">${r}</div>
      </div>
    `:""}generateFooter(r,t){var o,l;const{footer:a}=r;if(!a.showSignature&&!a.showDate)return"";let s="";a.showSignature&&(s=`
        <div class="signature-area">
          <div class="signature-line"></div>
          <div class="signature-text">
            Dr(a). ${(t==null?void 0:t.nome)||((o=t==null?void 0:t.user)==null?void 0:o.first_name)+" "+((l=t==null?void 0:t.user)==null?void 0:l.last_name)}
            ${t!=null&&t.crm?`<br>CRM: ${t.crm}`:""}
          </div>
        </div>
      `);let i="";return a.showDate&&(i=`<div class="date-location">Data: ${new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}</div>`),`
      <div class="footer">
        ${s}
        ${i}
      </div>
    `}calculateAge(r){if(!r)return null;const t=new Date(r),a=new Date;let s=a.getFullYear()-t.getFullYear();const i=a.getMonth()-t.getMonth();return(i<0||i===0&&a.getDate()<t.getDate())&&s--,s}async generatePDF(r,t,a,s){try{const i=this.loadMedicoTemplate(s),o=this.generateReceitaHTML(r,t,a,s),l=document.createElement("div");l.innerHTML=o,l.style.position="absolute",l.style.left="-9999px",l.style.top="-9999px",document.body.appendChild(l);const A=i.layout.orientation==="landscape"?"l":"p",d=i.layout.pageSize.toLowerCase(),f=new Ar({orientation:A,unit:"mm",format:d}),h=await x1(l.querySelector(".receita-container"),{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),m=h.toDataURL("image/png"),p=f.internal.pageSize.getWidth(),v=h.height*p/h.width;return f.addImage(m,"PNG",0,0,p,v),document.body.removeChild(l),f.output("blob")}catch(i){throw console.error("Erro ao gerar PDF:",i),new Error("Falha na gerao do PDF: "+i.message)}}savePDF(r,t="receita-medica.pdf"){const a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}previewPDF(r){const t=URL.createObjectURL(r);window.open(t,"_blank")}}const I0=new _k,WY=Object.freeze(Object.defineProperty({__proto__:null,PdfTemplateService:_k,default:I0,pdfTemplateService:I0},Symbol.toStringTag,{value:"Module"})),v1={getAll:async(e={})=>{try{return(await we.get("/medicamentos/",{params:e})).data}catch(r){throw console.error("Erro ao buscar medicamentos:",r),r}},getById:async e=>{try{return(await we.get(`/medicamentos/${e}/`)).data}catch(r){throw console.error("Erro ao buscar medicamento:",r),r}},search:async e=>{try{const r=await we.get("/medicamentos/",{params:{search:e,page_size:10}});return r.data.results||r.data}catch(r){throw console.error("Erro ao buscar medicamentos:",r),r}},create:async e=>{try{return(await we.post("/medicamentos/",e)).data}catch(r){throw console.error("Erro ao criar medicamento:",r),r}},update:async(e,r)=>{try{return(await we.put(`/medicamentos/${e}/`,r)).data}catch(t){throw console.error("Erro ao atualizar medicamento:",t),t}},delete:async e=>{try{return(await we.patch(`/medicamentos/${e}/`,{ativo:!1})).data}catch(r){throw console.error("Erro ao deletar medicamento:",r),r}}},Kt={async getPerfil(){var o,l,A,d,f,h;const e="/api/medicos/",r=e.endsWith("/")?e:`${e}/`,t="".toLowerCase()==="true",a="".toLowerCase()==="true";let s=Rr.getCurrentUser();if(!(s!=null&&s.id))try{const m=await Rr.refreshCurrentUser();m!=null&&m.id&&(s=m)}catch{}if(s!=null&&s.id){const m="user,user__id,user_id,usuario,usuario_id".split(",").map(p=>p.trim()).filter(Boolean);for(const p of m)try{const v=await we.get(r,{params:{[p]:s.id}}),g=Array.isArray((o=v.data)==null?void 0:o.results)?v.data.results:v.data;if(Array.isArray(g)){const y=g.find(w=>{var j,C;return((j=w==null?void 0:w.user)==null?void 0:j.id)===s.id||((C=w==null?void 0:w.usuario)==null?void 0:C.id)===s.id||(w==null?void 0:w.user)===s.id||(w==null?void 0:w.usuario)===s.id});if(y)return y;continue}if(g&&typeof g=="object"){const y=g;if(((l=y==null?void 0:y.user)==null?void 0:l.id)===s.id||((A=y==null?void 0:y.usuario)==null?void 0:A.id)===s.id||(y==null?void 0:y.user)===s.id||(y==null?void 0:y.usuario)===s.id)return y;continue}}catch{}}if(t)try{return(await we.get(`${r}me/`)).data}catch(m){if(((d=m==null?void 0:m.response)==null?void 0:d.status)!==404)throw m}let i=null;if(a){const m=[],p="/api/users/".trim();if(p)if(p.includes("/me"))m.push(p);else{const v=p.endsWith("/")?p:`${p}/`;m.push(`${v}me/`)}m.push("/users/me/"),m.push("/auth/user/");for(const v of m)try{if(i=(await we.get(v)).data,i&&!i.id){const y=Array.isArray(i==null?void 0:i.results)?i.results[0]:Array.isArray(i)?i[0]:null;y!=null&&y.id&&(i=y)}if(i!=null&&i.id)break}catch{}}try{const m=await we.get(r),p=Array.isArray((f=m.data)==null?void 0:f.results)?m.data.results:m.data;if(Array.isArray(p)&&p.length){const v=(i==null?void 0:i.id)||((h=Rr.getCurrentUser())==null?void 0:h.id);if(v){const g=p.find(y=>{var w,j;return((w=y==null?void 0:y.user)==null?void 0:w.id)===v||((j=y==null?void 0:y.usuario)==null?void 0:j.id)===v});if(g)return g}return null}}catch{}return null},async getPacientes(e={}){return(await we.get("/api/pacientes/",{params:e})).data},async getPacientesVinculados(e){const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;return(await we.get(`${t}${e}/pacientes/`)).data},async getMeusPacientes(e=null){var s;let r=e;if(!r)try{r=await this._resolveMedicoId()}catch{}const t=[],a=i=>{var l,A;const o=Array.isArray(i)?i:Array.isArray(i==null?void 0:i.results)?i.results:[];for(const d of o)(d!=null&&d.id||(l=d==null?void 0:d.user)!=null&&l.id||d!=null&&d.cpf||(A=d==null?void 0:d.user)!=null&&A.cpf||JSON.stringify(d))&&(t.some(h=>{var m,p;return((h==null?void 0:h.id)||((m=h==null?void 0:h.user)==null?void 0:m.id))===((d==null?void 0:d.id)||((p=d==null?void 0:d.user)==null?void 0:p.id))})||t.push(d))};try{if(r){const i="/api/medicos/",o=i.endsWith("/")?i:`${i}/`,l=await we.get(`${o}${r}/pacientes/`);a(l==null?void 0:l.data)}}catch{}try{const i="/api/pacientes/",o=i.endsWith("/")?i:`${i}/`,l=["medico","medico_id","responsavel","doctor","doctor_id"];for(const A of l){const d=await we.get(o,{params:r?{[A]:r,limit:200}:{limit:200}}).catch(()=>null);d!=null&&d.data&&a(d.data)}}catch{}try{const i="/api/consultas/",o=i.endsWith("/")?i:`${i}/`,l=r?{medico:r,medico_id:r,limit:200}:{limit:200},A=await we.get(o,{params:l}).catch(()=>null),f=(Array.isArray((s=A==null?void 0:A.data)==null?void 0:s.results)?A.data.results:Array.isArray(A==null?void 0:A.data)?A.data:[]).map(h=>h==null?void 0:h.paciente).filter(Boolean);a(f)}catch{}return t},async getConsultas(e={}){return(await we.get("/api/consultas/",{params:e})).data},async getConsultasDoMedico(e={}){var l,A,d,f;const r=await this.getPerfil();let t=null;if((l=r==null?void 0:r.medico)!=null&&l.id?t=r.medico.id:r&&typeof r=="object"&&"crm"in r&&(t=r.id),!t){const h=((A=r==null?void 0:r.user)==null?void 0:A.id)||(r==null?void 0:r.id);if(h)try{const m="/api/medicos/",p=m.endsWith("/")?m:`${m}/`,v="user,user__id,user_id,usuario,usuario_id".split(",").map(g=>g.trim()).filter(Boolean);for(const g of v)try{const y=await we.get(p,{params:{[g]:h}}),w=Array.isArray((d=y.data)==null?void 0:d.results)?y.data.results:y.data;if((f=w==null?void 0:w[0])!=null&&f.id){t=w[0].id;break}}catch{}}catch{}}const a={...e};t&&!a.medico&&!a.medico_id&&(a.medico=t,a.medico_id=t);const s=a.date||a.data||a.dia;return s&&(a.date=s,a.data=s,a.dia=s,a.data__date=s),(await we.get("/api/consultas/",{params:a})).data},async getConsultasHoje(e){var d,f,h,m;const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;let a=e;if(!a){const p=await this.getPerfil();if((d=p==null?void 0:p.medico)!=null&&d.id?a=p.medico.id:p&&typeof p=="object"&&"crm"in p&&(a=p.id),!a){const v=((f=p==null?void 0:p.user)==null?void 0:f.id)||(p==null?void 0:p.id);if(v)try{const g="user,user__id,user_id,usuario,usuario_id".split(",").map(y=>y.trim()).filter(Boolean);for(const y of g)try{const w=await we.get(t,{params:{[y]:v}}),j=Array.isArray((h=w.data)==null?void 0:h.results)?w.data.results:w.data;if((m=j==null?void 0:j[0])!=null&&m.id){a=j[0].id;break}}catch{}}catch{}}}const s="false".toLowerCase()==="true";if(a&&s)try{return(await we.get(`${t}${a}/consultas_hoje/`)).data}catch{}const i=new Date,o=p=>String(p).padStart(2,"0"),l=`${i.getFullYear()}-${o(i.getMonth()+1)}-${o(i.getDate())}`;return await this.getConsultasDoMedico({date:l})},async getDashboard(){try{const e=new Date,r=o=>String(o).toString().padStart(2,"0"),t=`${e.getFullYear()}-${r(e.getMonth()+1)}-${r(e.getDate())}`,a=await this.getConsultasDoMedico({date:t}),s=Array.isArray(a)?a:Array.isArray(a==null?void 0:a.results)?a.results:[];return{proximas:Array.isArray(s)?s.map(o=>({id:o.id||o.consulta_id||o.uuid,paciente:o.paciente,data_hora:o.data_hora,status:o.status})):[]}}catch{return{proximas:[]}}},async iniciarConsulta(e){if(!e)throw new Error("consultaId  obrigatrio");const r="/consultas/",t=[{method:"post",url:`${r}${e}/iniciar/`,data:void 0},{method:"post",url:`${r}${e}/start/`,data:void 0},{method:"patch",url:`${r}${e}/`,data:{status:"em_andamento"}},{method:"put",url:`${r}${e}/iniciar/`,data:void 0}];let a=null;for(const s of t)try{return(await we[s.method](s.url,s.data)).data}catch(i){a=i}throw a||new Error("No foi possvel iniciar a consulta")},async finalizarConsulta(e){if(!e)throw new Error("consultaId  obrigatrio");const t=`/consultas/${e}/finalizar/`;return(await we.post(t)).data},async finalizarConsultaIA(e,r={}){if(!e)throw new Error("consultaId  obrigatrio");const t="/consultas/",a=[{method:"post",url:`${t}${e}/finalizar-ia/`,data:r},{method:"post",url:`/api/consultas/${e}/finalizar-ia/`,data:r},{method:"post",url:`${t}${e}/finalizar_ia/`,data:r}];let s=null;for(const i of a)try{return(await we[i.method](i.url,i.data)).data}catch(o){s=o}throw s||new Error("Endpoint finalizar-ia no disponvel")},async processarTranscricaoConsulta({texto:e,consultaId:r,pacienteId:t,medicoId:a}={}){var A;if(!e)throw new Error("texto da transcrio  obrigatrio");const s="/consultas/processar_transcricao/".replace(/\/?$/,"/"),i={texto:e,consulta_id:r,consulta:r,paciente:t,paciente_id:t,medico:a,medico_id:a},o=[s,"/api/consultas/processar_transcricao/","/consultas/sumarizar_criar_receita/"];let l=null;for(const d of o)try{const{data:f}=await we.post(d,i);return f}catch(f){if(((A=f==null?void 0:f.response)==null?void 0:A.status)===401)throw f;l=f;continue}throw l||new Error("Endpoint de processamento de transcrio indisponvel")},async getReceitaById(e){var s;if(!e)throw new Error("id da receita  obrigatrio");const t=[`${"/api/receitas/".replace(/\/?$/,"/")}${e}/`,`/api/receitas/${e}/`,`/meu_app_receita/${e}/`];let a=null;for(const i of t)try{const{data:o}=await we.get(i);return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}if(a)throw a;return null},async getReceitaItens(e){var s;if(!e)throw new Error("id da receita  obrigatrio");const r="/api/receitas/".replace(/\/?$/,"/"),t=[`${r}${e}/itens/`,`${r}${e}/items/`,`/api/receitas/${e}/itens/`,`/meu_app_receitaitem/?receita=${e}`];let a=null;for(const i of t)try{const{data:o}=await we.get(i);return Array.isArray(o==null?void 0:o.results)?o.results:Array.isArray(o)?o:[]}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}if(a)throw a;return[]},async sumarizarConsulta(e,r={}){if(!e)throw new Error("consultaId  obrigatrio");const t="/consultas/",a=[`${t}${e}/sumarizar/`,`${t}${e}/resumir/`,`${t}${e}/summary/`];let s=null;for(const i of a)try{const{data:o}=await we.post(i,r);return o}catch(o){s=o}throw s||new Error("Endpoint de sumarizao no disponvel")},async criarProntuario(e){var A;const r="/api/prontuarios/".replace(/\/?$/,"/"),t={...e||{}},a={};for(const[d,f]of Object.entries(t))f!=null&&(typeof f=="string"&&f.trim()===""||(a[d]=typeof f=="string"?f.trim():f));const s=a.consulta_id||a.consulta;s&&(a.consulta_id=s,a.consulta=s);const i=[{method:"post",url:r},{method:"put",url:r},{method:"patch",url:r}],o=r.replace(/prontuarios\/?$/i,"prontuario/");o!==r&&(i.push({method:"post",url:o}),i.push({method:"put",url:o}),i.push({method:"patch",url:o}));let l=null;for(const d of i)try{const{data:f}=await we[d.method](d.url,a);return f}catch(f){const h=(A=f==null?void 0:f.response)==null?void 0:A.status;if(h&&[400,422].includes(h)){const m={};s&&(m.consulta_id=s,m.consulta=s);const p=a.queixa_principal||a.queixa,v=a.historia_doenca_atual||a.historia,g=a.diagnostico_principal||a.diagnostico,y=a.conduta||a.plano,w=a.medicamentos_uso||a.medicamentos;p&&(m.queixa_principal=p),v&&(m.historia_doenca_atual=v),g&&(m.diagnostico_principal=g),y&&(m.conduta=y),w&&(m.medicamentos_uso=w),a.alergias&&(m.alergias=a.alergias),a.exames_solicitados&&(m.exames_solicitados=a.exames_solicitados),a.data_retorno&&(m.data_retorno=a.data_retorno);try{const{data:j}=await we[d.method](d.url,m);return j}catch(j){l=j}}else if(h===405){l=f;continue}else if(h===404){l=f;continue}else{l=f;break}}throw l||new Error("Falha ao criar pronturio: nenhum endpoint compatvel encontrado.")},async criarReceita(e={}){var C,E,U,k,F,D,_,G,L;if("false".toLowerCase()==="true"){try{console.debug("[medicoService.criarReceita] criao desabilitada por VITE_RECEITAS_CREATE_DISABLED=true")}catch{}return{ok:!1,disabled:!0}}const t="/api/receitas/".replace(/\/?$/,"/"),a="/api/pacientes/".replace(/\/?$/,"/"),s="/api/consultas/".replace(/\/?$/,"/"),i="true".toLowerCase()==="true",o={...e},l=o.paciente_id||o.paciente,A=o.consulta_id||o.consulta,d={...o};!d.paciente_id&&l&&(d.paciente_id=l),!d.paciente&&l&&(d.paciente=l),!d.consulta_id&&A&&(d.consulta_id=A),!d.consulta&&A&&(d.consulta=A),!d.medicamentos&&o.medicamento&&(d.medicamentos=o.medicamento),!d.medicamento&&o.medicamentos&&(d.medicamento=o.medicamentos),!d.validade&&o.validade_receita&&(d.validade=o.validade_receita),o.nome_paciente&&!d.paciente_nome&&(d.paciente_nome=o.nome_paciente),o.medico&&!d.medico_nome&&(d.medico_nome=o.medico),o.crm&&!d.medico_crm&&(d.medico_crm=o.crm);const f=new Date;!d.data_prescricao&&!d.data_emissao&&(d.data_prescricao=f.toISOString());const h=(T,J)=>{const R=new Date(T);R.setDate(R.getDate()+J);const re=R.getFullYear(),V=String(R.getMonth()+1).padStart(2,"0"),Y=String(R.getDate()).padStart(2,"0");return`${re}-${V}-${Y}`};!d.validade&&!d.validade_receita&&(d.validade=h(f,30)),d.status||(d.status="PENDENTE");try{const T=d.medico_id||d.medico||await this._resolveMedicoId().catch(()=>null);T&&(d.medico_id||(d.medico_id=T),d.medico||(d.medico=T))}catch{}if(!d.consulta_id&&!d.consulta&&(d.paciente_id||d.paciente))try{const T=d.paciente_id||d.paciente,J=d.medico_id||d.medico||null,R=(()=>{const V=new Date,Y=V.getFullYear(),H=String(V.getMonth()+1).padStart(2,"0"),Z=String(V.getDate()).padStart(2,"0");return`${Y}-${H}-${Z}`})(),re=await this._ensureConsultaId(T,J,R);if(re&&(d.consulta_id=re,d.consulta=re,i))try{console.debug("[medicoService.criarReceita] consulta_id resolvido automaticamente:",re)}catch{}}catch(T){if(i)try{console.warn("[medicoService.criarReceita] no foi possvel resolver consulta_id automaticamente",(C=T==null?void 0:T.response)==null?void 0:C.status)}catch{}}const m=[],p="/api/receitas/".trim();p&&m.push(p),m.push(t),m.push(`${t}criar/`),m.push(`${t}create/`);const v=t.replace(/receitas\/?$/i,"receita/"),g=Array.from(new Set([v,"/receita/","/meu_app_receita/","/meu_app_receitas/"].filter(Boolean)));for(const T of g){const J=T.replace(/\/?$/,"/");m.push(J),m.push(`${J}criar/`),m.push(`${J}create/`)}if(A&&m.push(`${s}${A}/receitas/`),l&&m.push(`${a}${l}/receitas/`),i){try{console.debug("[medicoService.criarReceita] payload:",d)}catch{}try{console.debug("[medicoService.criarReceita] candidatos:",m)}catch{}}let y=null,w=null;const j=new Set;for(const T of m){if(!T)continue;const J=T.endsWith("/")?T:`${T}/`,R=["post","put","patch"];for(const re of R){w=`${re.toUpperCase()} ${J}`;try{if(i)try{console.debug("[medicoService.criarReceita] tentando:",w)}catch{}const{data:V}=await we[re](J,d);if(i)try{console.debug("[medicoService.criarReceita] sucesso:",w,"",V)}catch{}return V}catch(V){const Y=(E=V==null?void 0:V.response)==null?void 0:E.status;if(i)try{console.warn("[medicoService.criarReceita] falhou:",w,"status=",Y,"detail=",((U=V==null?void 0:V.response)==null?void 0:U.data)||(V==null?void 0:V.message))}catch{}if(Y&&[400,422].includes(Y)){const H=`${re}:${J}`;if(!j.has(H)){j.add(H);const Z={},Ae=d.paciente_id||d.paciente,ee=d.medico_id||d.medico,Q=d.medicamentos||d.medicamento,q=d.validade||d.validade_receita;if(Ae&&(Z.paciente=Ae,Z.paciente_id=Ae),ee&&(Z.medico=ee,Z.medico_id=ee),Q&&(Z.medicamentos=Q,Z.medicamento=Q),d.posologia&&(Z.posologia=d.posologia),q&&(Z.validade=q),d.observacoes&&(Z.observacoes=d.observacoes),d.consulta_id||d.consulta){const $=d.consulta_id||d.consulta;Z.consulta=$,Z.consulta_id=$}try{if(i)try{console.debug("[medicoService.criarReceita] retry minimal:",re.toUpperCase(),J,Z)}catch{}const $=await we[re](J,Z),X=$==null?void 0:$.data;if(i)try{console.debug("[medicoService.criarReceita] sucesso (minimal):",re.toUpperCase(),J,X)}catch{}return X}catch($){if(i)try{console.warn("[medicoService.criarReceita] falhou (minimal):",re.toUpperCase(),J,(k=$==null?void 0:$.response)==null?void 0:k.status,((F=$==null?void 0:$.response)==null?void 0:F.data)||($==null?void 0:$.message))}catch{}try{const X=(D=$==null?void 0:$.response)==null?void 0:D.data,te=typeof X=="string"&&X||(X==null?void 0:X.detail)||(X==null?void 0:X.message)||($==null?void 0:$.message)||"Erro desconhecido",K=X&&typeof X=="object"?` | body=${JSON.stringify(X)}`:typeof X=="string"?` | body=${X}`:"";$.message=`Falha ao criar receita (minimal, ltima tentativa: ${w||""})  [${Y||""}] ${te}${K}`}catch{}y=$;continue}}try{const Z=(_=V==null?void 0:V.response)==null?void 0:_.data,Ae=typeof Z=="string"&&Z||(Z==null?void 0:Z.detail)||(Z==null?void 0:Z.message)||(V==null?void 0:V.message)||"Erro desconhecido",ee=Z&&typeof Z=="object"?` | body=${JSON.stringify(Z)}`:typeof Z=="string"?` | body=${Z}`:"";V.message=`Falha ao criar receita (ltima tentativa: ${w||""})  [${Y||""}] ${Ae}${ee}`}catch{}continue}if(Y===404){y=V;break}if(Y===405){y=V;continue}if(Y===401)throw V;if(Y&&[400,422].includes(Y)){y=V;continue}y=V;break}}}if(y){const T=(G=y==null?void 0:y.response)==null?void 0:G.status,J=(L=y==null?void 0:y.response)==null?void 0:L.data,R=typeof J=="string"&&J||(J==null?void 0:J.detail)||(J==null?void 0:J.message)||(y==null?void 0:y.message)||"Erro desconhecido",re=J&&typeof J=="object"?` | body=${JSON.stringify(J)}`:"";throw new Error(`Falha ao criar receita (ltima tentativa: ${w||""})  [${T||""}] ${R}${re}`)}throw new Error("Falha ao criar receita: nenhum endpoint compatvel encontrado.")},async salvarItensReceita(e,r=[]){var f,h;if(!e)throw new Error("receitaId  obrigatrio para salvar itens.");if(!Array.isArray(r)||r.length===0)return{count:0,results:[]};const t="true".toLowerCase()==="true",a="/api/receitas/".replace(/\/?$/,"/"),s="/api/receitaitem/".trim(),i=r.map(m=>{var g;const p=m.medicamento_id||((g=m.medicamento)==null?void 0:g.id)||m.medicamento;return{receita:e,receita_id:e,medicamento_id:p,medicamento:p,nome:m.nome||m.medicamento_nome||m.descricao||m.texto||m.medicamento||m.medicamentos,medicamento_nome:m.medicamento_nome||m.nome||m.descricao||m.texto,descricao:m.descricao||m.texto||m.nome||m.medicamento,posologia:m.posologia||m.instrucoes||m.indicacoes,dose:m.dose||m.dosagem,frequencia:m.frequencia||m.freq||m.intervalo,duracao:m.duracao||m.dias||m.periodo,observacoes:m.observacoes||m.obs||m.nota}});for(let m=0;m<i.length;m++){const p=i[m];if(!p.medicamento_id){const g=(p.nome||p.medicamento_nome||p.descricao||"").toString().trim();if(!g)continue;let y=null;try{const w=await v1.search(g).catch(()=>[]),j=Array.isArray(w)?w:Array.isArray(w==null?void 0:w.results)?w.results:[],C=j.find(E=>String((E==null?void 0:E.nome)||"").toLowerCase()===g.toLowerCase())||j[0];C&&C.id&&(y=C.id)}catch{}if(!y)try{const w=await v1.create({nome:g,ativo:!0});y=(w==null?void 0:w.id)||null}catch{}y&&(p.medicamento_id=y,p.medicamento=y)}}const o=[];s&&o.push(s),o.push(`${a}${e}/itens/`),o.push(`${a}${e}/items/`),o.push(`${a}${e}/receitaitens/`),o.push("/api/receitaitem/"),o.push("/receitaitem/"),o.push("/api/receitas/itens/"),o.push("/receitas/itens/"),o.push("/meu_app_receitaitem/");let l=null;for(const m of o){if(!m)continue;const p=m.endsWith("/")?m:`${m}/`;try{if(t)try{console.debug("[salvarItensReceita] POST bulk ->",p)}catch{}const v={itens:i,receita:e,receita_id:e},{data:g}=await we.post(p,v);return g||{count:i.length,results:i}}catch(v){if(((f=v==null?void 0:v.response)==null?void 0:f.status)===401)throw v;l=v;continue}}const A=[s?s.replace(/\/?$/,"/"):null,"/api/receitaitem/","/receitaitem/","/api/receitas/itens/","/receitas/itens/","/meu_app_receitaitem/"].filter(Boolean),d=[];for(const m of i){let p=null,v=null;for(const g of A){const y=g.endsWith("/")?g:`${g}/`;try{if(t)try{console.debug("[salvarItensReceita] POST single ->",y,m)}catch{}const{data:w}=await we.post(y,m);p=w||m;break}catch(w){if(((h=w==null?void 0:w.response)==null?void 0:h.status)===401)throw w;v=w;continue}}p?d.push(p):(v&&(l=v),d.push(m))}if(l&&d.length===0)throw l;return{count:d.length,results:d}},async salvarArquivoAssinado(e,r,t="receita_assinada.pdf"){var h;if(!e)throw new Error("receitaId  obrigatrio para salvar arquivo assinado.");if(!r)throw new Error("Arquivo assinado (Blob/File)  obrigatrio.");const a="true".toLowerCase()==="true",s="/api/receitas/",i=s.endsWith("/")?s:`${s}/`,o="".trim(),l=r instanceof File?r:new File([r],t,{type:"application/pdf"}),A=new FormData;A.append("arquivo_assinado",l,t),A.append("pdf_assinado",l,t),A.append("documento_assinado",l,t),A.append("arquivo_pdf_assinado",l,t),A.append("file",l,t),A.append("pdf",l,t),A.append("documento",l,t),A.append("receita",e),A.append("receita_id",e),A.append("id",e);const d=[];o&&d.push(o),d.push(`${i}${e}/arquivo-assinado/`),d.push(`${i}${e}/arquivo/`),d.push(`${i}${e}/upload/`),d.push(`${i}${e}/anexos/`),d.push(`${i}${e}/`),d.push(`/api/receitas/${e}/`);let f=null;for(const m of d){if(!m)continue;const p=m.endsWith("/")?m:`${m}/`,v=["post","put","patch"];for(const g of v)try{if(a)try{console.debug(`[salvarArquivoAssinado] ${g.toUpperCase()} ->`,p)}catch{}const{data:y}=await we[g](p,A);return y||{ok:!0}}catch(y){const w=(h=y==null?void 0:y.response)==null?void 0:h.status;if(w===401)throw y;if(w===404){f=y;break}if(w===405){f=y;continue}if(w&&[400,422].includes(w)){f=y;continue}f=y;break}}throw f||new Error("Falha ao salvar arquivo assinado: nenhum endpoint compatvel.")},async computeSHA256Hex(e){const t=await(e instanceof Blob?e:new Blob([e])).arrayBuffer(),a=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(a);return Array.from(s).map(o=>o.toString(16).padStart(2,"0")).join("")},async gerarDocumentoReceitaLocal(e={}){const r={...e},t=r.nome_paciente||r.paciente_nome||"",a=r.filename||`Receita_${t||"Medica"}.pdf`;try{const s=r.previewSelector||r.elementSelector||"#receita-preview",i=await I0.generatePDFFromElement(s,{pageSize:"a4",orientation:"portrait",scale:Number(r.scale||2)});return{filename:a,blob:i}}catch{const i={medicamento:r.medicamento||r.medicamentos,medicamentos:r.medicamentos||r.medicamento,posologia:r.posologia||r.orientacoes,observacoes:r.observacoes,validade_receita:r.validade_receita||r.validade,data_prescricao:r.data_prescricao||r.data_emissao||new Date().toISOString(),itens:r.itens||[]},o={nome:r.medico_nome||r.medico,crm:r.medico_crm||r.crm,especialidade:r.especialidade||"",endereco_consultorio:r.endereco_consultorio||"",telefone_consultorio:r.telefone_consultorio||"",email:r.email_medico||""},l={nome:t||r.paciente,idade:r.idade,cpf:r.cpf,data_nascimento:r.data_nascimento,endereco:r.endereco_paciente||"",telefone:r.telefone_paciente||""},A=r.medico_id||r.medico||await this._resolveMedicoId().catch(()=>"default"),d=await I0.generatePDF(i,o,l,A);return{filename:a,blob:d}}},async gerarDocumentoReceita(e={}){var v,g,y;const r="true".toLowerCase()==="true",t="/api/receitas/".replace(/\/?$/,"/"),a={...e},s=a.paciente_id||a.paciente,i=a.consulta_id||a.consulta,o=(a.formato||"pdf").toLowerCase(),l={...a};!l.paciente_id&&s&&(l.paciente_id=s),!l.paciente&&s&&(l.paciente=s),!l.consulta_id&&i&&(l.consulta_id=i),!l.consulta&&i&&(l.consulta=i),!l.medicamentos&&a.medicamento&&(l.medicamentos=a.medicamento),!l.medicamento&&a.medicamentos&&(l.medicamento=a.medicamentos),!l.validade&&a.validade_receita&&(l.validade=a.validade_receita),a.nome_paciente&&!l.paciente_nome&&(l.paciente_nome=a.nome_paciente),a.medico&&!l.medico_nome&&(l.medico_nome=a.medico),a.crm&&!l.medico_crm&&(l.medico_crm=a.crm),l.formato=o;try{const w=l.medico_id||l.medico||await this._resolveMedicoId().catch(()=>null);w&&(l.medico_id||(l.medico_id=w),l.medico||(l.medico=w))}catch{}const A=[],d="/api/receitas/gerar/".trim();d&&A.push(d),A.push(`${t}pdf/`),A.push(`${t}gerar/`),A.push(`${t}documento/`),A.push("/api/gerar-receita/"),(w=>{const j=w.replace(/\/?$/,"/");A.push(`${j}generate/`),A.push(`${j}preview/`)})(t);const h=t.replace(/receitas\/?$/i,"receita/");if(h!==t&&(A.push(`${h}pdf/`),A.push(`${h}gerar/`)),r)try{console.debug("[medicoService.gerarDocumentoReceita] candidatos:",A)}catch{}const m=async w=>{var k,F,D,_,G,L,T;const j=((k=w.headers)==null?void 0:k["content-type"])||((D=(F=w.headers)==null?void 0:F.get)==null?void 0:D.call(F,"content-type"))||"",C=((_=w.headers)==null?void 0:_["content-disposition"])||((L=(G=w.headers)==null?void 0:G.get)==null?void 0:L.call(G,"content-disposition"));let E=`receita.${o}`;if(C){const J=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(C);E=decodeURIComponent((J==null?void 0:J[1])||(J==null?void 0:J[2])||E)}if(j.includes("application/json"))try{const J=await new Response(w.data).text(),R=JSON.parse(J),re=R.file||R.url||R.pdf||R.documento||R.download_url||R.link;if(re){const V=await we.get(re,{responseType:"blob"}),Y=new Blob([V.data],{type:((T=V.headers)==null?void 0:T["content-type"])||(o==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.wordprocessingml.document")});return{filename:E||re.split("/").pop()||`receita.${o}`,blob:Y}}}catch{}const U=new Blob([w.data],{type:j||(o==="pdf"?"application/pdf":"application/octet-stream")});return{filename:E,blob:U}};let p=null;for(const w of A){if(!w)continue;const j=w.endsWith("/")?w:`${w}/`;try{if(r)try{console.debug("[gerarDocumentoReceita] POST",j)}catch{}const C=await we.post(j,l,{responseType:"blob"});return await m(C)}catch(C){if(((v=C==null?void 0:C.response)==null?void 0:v.status)===401)throw C;p=C}try{if(r)try{console.debug("[gerarDocumentoReceita] PUT",j)}catch{}const C=await we.put(j,l,{responseType:"blob"});return await m(C)}catch(C){if(((g=C==null?void 0:C.response)==null?void 0:g.status)===401)throw C;p=C}try{if(r)try{console.debug("[gerarDocumentoReceita] GET",j)}catch{}const C=await we.get(j,{params:l,responseType:"blob"});return await m(C)}catch(C){if(((y=C==null?void 0:C.response)==null?void 0:y.status)===401)throw C;p=C}}try{const{PDFDocument:w,StandardFonts:j,rgb:C}=await ui(async()=>{const{PDFDocument:T,StandardFonts:J,rgb:R}=await import("./index-99cWQkTn.js");return{PDFDocument:T,StandardFonts:J,rgb:R}},[]),E=await w.create(),U=E.addPage([595.28,841.89]),k=await E.embedFont(j.Helvetica),F=(T,J,R,re=12,V=C(0,0,0))=>{U.drawText(String(T||""),{x:J,y:R,size:re,font:k,color:V})};let D=800;F("Receita Mdica",50,D,16),D-=30,F(`Paciente: ${l.nome_paciente||l.paciente_nome||l.paciente_id||""}`,50,D),D-=18,F(`Idade: ${l.idade||""}`,50,D),D-=18,F(`RG/CPF: ${l.rg||l.cpf||""}`,50,D),D-=18,F(`Nascimento: ${l.data_nascimento||""}`,50,D),D-=24,F("Medicamentos",50,D,14),D-=18,F(String(l.medicamentos||l.medicamento||""),50,D),D-=36,F("Posologia",50,D,14),D-=18,F(String(l.posologia||""),50,D),D-=36,l.observacoes&&(F("Observaes",50,D,14),D-=18,F(String(l.observacoes),50,D),D-=36),F(`Mdico: ${l.medico||""}`,50,D),D-=18,F(`CRM: ${l.crm||""}`,50,D),D-=18,F(`Endereo: ${l.endereco_consultorio||""}`,50,D),D-=18,F(`Telefone: ${l.telefone_consultorio||""}`,50,D),D-=24;const _=await E.save(),G=new Blob([_],{type:"application/pdf"});return{filename:`receita.${o}`,blob:G}}catch{throw p||new Error("Falha ao gerar documento de receita: nenhum endpoint compatvel e fallback local indisponvel.")}},async buscarPacientes(e){return(await we.get("/api/pacientes/",{params:{search:e}})).data},async atualizarPacienteById(e,r){if(!e)throw new Error("id do paciente  obrigatrio");const t="/api/pacientes/",a=t.endsWith("/")?t:`${t}/`;return(await we.patch(`${a}${e}/`,r)).data},async _resolveMedicoId(){var e,r,t,a,s,i;try{const o=await this.getPerfil();if((e=o==null?void 0:o.medico)!=null&&e.id)return o.medico.id;if(o!=null&&o.id&&(o.crm||o.matricula||o.especialidade))return o.id;const l=((r=o==null?void 0:o.user)==null?void 0:r.id)||((t=Rr.getCurrentUser())==null?void 0:t.id);if(!l)return null;const A="/api/medicos/",d=A.endsWith("/")?A:`${A}/`,f="user,user__id,user_id,usuario,usuario_id".split(",").map(h=>h.trim()).filter(Boolean);for(const h of f)try{const m=await we.get(d,{params:{[h]:l}}),p=Array.isArray((a=m.data)==null?void 0:a.results)?m.data.results:m.data;if(Array.isArray(p)){const v=p.find(g=>{var y,w;return((y=g==null?void 0:g.user)==null?void 0:y.id)===l||((w=g==null?void 0:g.usuario)==null?void 0:w.id)===l||(g==null?void 0:g.user)===l||(g==null?void 0:g.usuario)===l});if(v!=null&&v.id)return v.id;continue}if(p&&typeof p=="object"){const v=p;if((((s=v==null?void 0:v.user)==null?void 0:s.id)===l||((i=v==null?void 0:v.usuario)==null?void 0:i.id)===l||(v==null?void 0:v.user)===l||(v==null?void 0:v.usuario)===l)&&(v!=null&&v.id))return v.id;continue}}catch{}}catch{}return null},async _ensureConsultaId(e,r=null,t=null){var a,s,i,o;try{if(!e)return null;const l="true".toLowerCase()==="true",A=(()=>{if(t&&/^\d{4}-\d{2}-\d{2}$/.test(String(t)))return t;const f=new Date,h=m=>String(m).padStart(2,"0");return`${f.getFullYear()}-${h(f.getMonth()+1)}-${h(f.getDate())}`})(),d="/api/consultas/".replace(/\/?$/,"/");try{const f={paciente:e,paciente_id:e,date:A,data:A,dia:A,data__date:A},h=r||await this._resolveMedicoId().catch(()=>null);h&&(f.medico=h,f.medico_id=h);const m=await we.get(d,{params:f}),p=Array.isArray((a=m.data)==null?void 0:a.results)?m.data.results:m.data;if(Array.isArray(p)){const v=p.find(g=>(g==null?void 0:g.id)||(g==null?void 0:g.consulta_id)||(g==null?void 0:g.uuid));if(v){const g=v.id||v.consulta_id||v.uuid;if(l)try{console.debug("[_ensureConsultaId] encontrada consulta existente:",g)}catch{}return g}}}catch(f){if(l)try{console.warn("[_ensureConsultaId] falha ao buscar consulta existente:",(s=f==null?void 0:f.response)==null?void 0:s.status)}catch{}}try{const f=r||await this._resolveMedicoId().catch(()=>null);if(!f){if(l)try{console.warn("[_ensureConsultaId] mdico no resolvido; abortando criao da consulta")}catch{}return null}const h={medico:f,medico_id:f,paciente:e,paciente_id:e,data_hora:`${A}T00:00:00`,tipo:"rotina",motivo:"Emisso de receita automtica"},m=[d];for(const p of m){const v=p.endsWith("/")?p:`${p}/`;try{if(l)try{console.debug("[_ensureConsultaId] criando consulta em:",v,h)}catch{}const{data:g}=await we.post(v,h),y=(g==null?void 0:g.id)||(g==null?void 0:g.consulta_id)||(g==null?void 0:g.uuid);if(y){if(l)try{console.debug("[_ensureConsultaId] consulta criada:",y)}catch{}return y}}catch(g){const y=(i=g==null?void 0:g.response)==null?void 0:i.status;if(l)try{console.warn("[_ensureConsultaId] falha ao criar em",v,y,((o=g==null?void 0:g.response)==null?void 0:o.data)||(g==null?void 0:g.message))}catch{}if([401,404,405].includes(y))continue}}}catch(f){if(l)try{console.warn("[_ensureConsultaId] erro inesperado na criao:",f==null?void 0:f.message)}catch{}}return null}catch{return null}},async getCertificadoInfo(){var i,o;const e=[],r="".trim();r&&e.push(r);const t="/api/medicos/",a=t.endsWith("/")?t:`${t}/`;e.push(`${a}me/certificado/`),e.push(`${a}certificado/`),e.push("/medico/certificado/"),e.push("/assinatura/certificado/"),e.push("/certificados/"),e.push("/api/medicos/me/certificado/"),e.push("/api/medicos/certificado/"),e.push("/api/certificados/");let s=null;try{s=await this._resolveMedicoId()}catch{}s&&(e.push(`${a}${s}/certificado/`),e.push(`${a}${s}/assinatura/`),e.push(`/api/medicos/${s}/certificado/`),e.push(`/api/medicos/${s}/assinatura/`));for(const l of e){if(!l)continue;const A=l.endsWith("/")?l:`${l}/`;try{const{data:d}=await we.get(A),f=Array.isArray(d==null?void 0:d.results)?(i=d.results)==null?void 0:i[0]:Array.isArray(d)?d[0]:d;return f||d||null}catch(d){const f=(o=d==null?void 0:d.response)==null?void 0:o.status;if(f===404)continue;if(f===401)throw d}}return null},async uploadCertificado(e){var A;let r;if(e instanceof FormData)r=e;else if(e&&e.name)r=new FormData,r.append("file",e),r.append("certificado",e),r.append("pfx",e);else throw new Error("Parmetro invlido:  esperado FormData ou File.");const t=[],a="/api/medicos/me/certificado/".trim();a&&t.push(a);const s="/api/medicos/",i=s.endsWith("/")?s:`${s}/`;t.push(`${i}me/certificado/`),t.push(`${i}certificado/`),t.push("/medico/certificado/"),t.push("/assinatura/certificado/"),t.push("/certificados/");let o=null;try{o=await this._resolveMedicoId()}catch{}o&&(t.push(`${i}${o}/certificado/`),t.push(`${i}${o}/assinatura/`));let l=null;for(const d of t){if(!d)continue;const f=d.endsWith("/")?d:`${d}/`,h=["post","put","patch"];for(const m of h)try{const{data:p}=await we[m](f,r);return p}catch(p){const v=(A=p==null?void 0:p.response)==null?void 0:A.status;if(v===404){l=p;break}if(v===405){l=p;continue}if(v===401||v&&[400,422].includes(v))throw p;l=p;break}}throw l||new Error("Falha ao enviar certificado: nenhum endpoint compatvel.")},async enviarReceita({receitaId:e,pacienteId:r,email:t,formato:a="pdf",file:s,filename:i}){var v,g,y,w,j;if(!t&&!r&&!e&&!s)throw new Error("Fornea ao menos email, pacienteId, receitaId ou arquivo para envio.");const o="true".toLowerCase()==="true",l="/api/receitas/".replace(/\/?$/,"/"),A="/api/pacientes/".replace(/\/?$/,"/");if(!e&&r){const C=async k=>{var F;try{const D=await we.get(l,{params:k}),_=D==null?void 0:D.data,G=Array.isArray(_)?_:Array.isArray(_==null?void 0:_.results)?_.results:[],L=G==null?void 0:G[0],T=(L==null?void 0:L.id)||(L==null?void 0:L.pk)||(L==null?void 0:L.uuid)||((F=L==null?void 0:L.receita)==null?void 0:F.id);if(T)return String(T)}catch{}return null},E=[],U=["-created_at","-created","-data","-date","-id","-pk"];for(const k of U)E.push({paciente:r,ordering:k,page_size:1,limit:1}),E.push({paciente_id:r,ordering:k,page_size:1,limit:1});for(const k of E){const F=await C(k);if(F){e=F;break}}o&&e&&console.debug("[medicoService.enviarReceita] receitaId inferido via listagem:",e)}const d=new FormData;if(s){const C=i||s.name||`receita.${a||"pdf"}`;d.append("file",s,C),d.append("pdf",s,C),d.append("documento",s,C)}t&&(d.append("email",t),d.append("to",t),d.append("destinatario",t),d.append("paciente_email",t)),a&&d.append("formato",a),e&&(d.append("id",e),d.append("receita",e),d.append("receita_id",e)),r&&(d.append("paciente",r),d.append("paciente_id",r)),d.append("assinar","true");const f={email:t,to:t,destinatario:t,paciente_email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},h=[],m="/api/receitas/enviar/".trim();m&&h.push(m),e&&(h.push(`${l}${e}/enviar/`),h.push(`${l}${e}/enviar-email/`),h.push(`${l}${e}/enviar_email/`),h.push(`${l}${e}/email/`),h.push(`${l}${e}/send-email/`),h.push(`${l}${e}/send/`)),h.push(`${l}enviar/`),h.push(`${l}enviar-email/`),h.push(`${l}enviar_email/`),h.push(`${l}email/`),h.push(`${l}send-email/`),h.push(`${l}send/`),h.push("/email/receitas/"),h.push("/receitas/email/"),h.push("/email/send/"),h.push("/send-email/"),r&&(h.push(`${A}${r}/receitas/enviar/`),h.push(`${A}${r}/receitas/email/`),h.push(`${A}${r}/receitas/send/`),e&&(h.push(`${A}${r}/receitas/${e}/enviar/`),h.push(`${A}${r}/receitas/${e}/enviar-email/`),h.push(`${A}${r}/receitas/${e}/enviar_email/`),h.push(`${A}${r}/receitas/${e}/email/`),h.push(`${A}${r}/receitas/${e}/send-email/`),h.push(`${A}${r}/receitas/${e}/send/`)));let p=null;for(const C of h){if(!C)continue;const E=C.endsWith("/")?C:`${C}/`,U=F=>{o&&console.debug(`[medicoService.enviarReceita] ${F} ->`,E,{receitaId:e,pacienteId:r,email:t,formato:a})};if(/\/(enviar|email|send(-email)?)\/?$/i.test(E)&&!s)try{U("GET");const F={email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},{data:D}=await we.get(E,{params:F});return D}catch(F){if(p=F,((v=F==null?void 0:F.response)==null?void 0:v.status)===401)throw F}try{U("POST multipart");const{data:F}=await we.post(E,d);return F}catch(F){const D=(g=F==null?void 0:F.response)==null?void 0:g.status;if(D===401)throw F;D&&[400,422].includes(D),p=F}if(!s)try{U("POST json");const{data:F}=await we.post(E,f);return F}catch(F){const D=(y=F==null?void 0:F.response)==null?void 0:y.status;if(D===401)throw F;D&&[400,422].includes(D),p=F}try{U("PUT multipart");const{data:F}=await we.put(E,d);return F}catch(F){const D=(w=F==null?void 0:F.response)==null?void 0:w.status;if(D===401)throw F;D&&[400,422].includes(D),p=F}if(!s)try{U("GET fallback");const F={email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},{data:D}=await we.get(E,{params:F});return D}catch(F){if(((j=F==null?void 0:F.response)==null?void 0:j.status)===401)throw F;p=F}}throw p||new Error("Falha ao enviar receita: nenhum endpoint compatvel encontrado.")},async ensureMedicoRecord(e={}){var d;const r=Rr.getCurrentUser()||await Rr.refreshCurrentUser(),t=r==null?void 0:r.id;if(!t)throw new Error("Usurio no autenticado ou no disponvel.");try{const f=await this._resolveMedicoId();if(f){const h="/api/medicos/",m=h.endsWith("/")?h:`${h}/`;try{return(await we.get(`${m}${f}/`)).data||{id:f}}catch{return{id:f}}}}catch{}const a="/api/medicos/",s=a.endsWith("/")?a:`${a}/`,i={...e};i.user=i.user||t,i.user_id=i.user_id||t,i.usuario=i.usuario||t,i.usuario_id=i.usuario_id||t;const o=String(i.status||i.situacao||i.state||"pending").toLowerCase();i.status=o,i.situacao=i.situacao||o,i.state=i.state||o;const l=[s,`${s}create/`,"/api/medicos/","/admin/medicos/"];let A=null;for(const f of l){const h=f.endsWith("/")?f:`${f}/`;try{const{data:m}=await we.post(h,i),p=(m==null?void 0:m.id)||(m==null?void 0:m.pk)||(m==null?void 0:m.uuid);if(p)try{localStorage.setItem("medico_id",String(p))}catch{}try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return m}catch(m){const p=(d=m==null?void 0:m.response)==null?void 0:d.status;if(p===401)throw m;if(p===405){A=m;continue}if(A=m,Object.values(e||{}).some(g=>g instanceof File||g instanceof Blob))try{const g=new FormData;for(const[j,C]of Object.entries(i))C!=null&&(g.append(j,C),j==="user"&&(g.append("usuario",C),g.append("user_id",C),g.append("usuario_id",C)),j==="status"&&(g.append("situacao",C),g.append("state",C)));const{data:y}=await we.post(h,g),w=(y==null?void 0:y.id)||(y==null?void 0:y.pk)||(y==null?void 0:y.uuid);if(w)try{localStorage.setItem("medico_id",String(w))}catch{}try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return y}catch(g){A=g;continue}}}throw A||new Error("Falha ao criar registro do mdico: nenhum endpoint compatvel.")},async ensurePerfilMedico(e={}){var f,h;try{const m=await this.getPerfil();if(m&&(m.id||m.user||m.medico))return m}catch{}const r=Rr.getCurrentUser()||await Rr.refreshCurrentUser(),t=r==null?void 0:r.id;if(!t)throw new Error("Usurio no autenticado ou no disponvel.");let a=e.medico_id||e.medico||null;if(!a){try{a=await this._resolveMedicoId()}catch{}if(!a)try{const m=await this.ensureMedicoRecord({});a=(m==null?void 0:m.id)||((f=m==null?void 0:m.medico)==null?void 0:f.id)||null}catch{}}const s={...e};s.user=s.user||t,s.user_id=s.user_id||t,s.usuario=s.usuario||t,s.usuario_id=s.usuario_id||t,a&&(s.medico=s.medico||a,s.medico_id=s.medico_id||a);const i=String(s.status||s.situacao||s.state||"pending").toLowerCase();s.status=i,s.situacao=s.situacao||i,s.state=s.state||i;const o=["/perfil-medico/","/perfil/medico/","/perfis/medico/","/profiles/medico/","/api/perfil-medico/","/api/perfil/medico/"],l="/api/medicos/",A=l.endsWith("/")?l:`${l}/`;a&&(o.push(`${A}${a}/perfil/`),o.push(`/api/medicos/${a}/perfil/`)),o.push(`${A}me/perfil/`);let d=null;for(const m of o){const p=m.endsWith("/")?m:`${m}/`,v=["post","put","patch"];for(const g of v)try{const{data:y}=await we[g](p,s);try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return y}catch(y){const w=(h=y==null?void 0:y.response)==null?void 0:h.status;if(w===401)throw y;if(w===405){d=y;continue}if(w===404){d=y;break}d=y;break}}throw d||new Error("Falha ao criar perfil do mdico: nenhum endpoint compatvel.")},async ensureMedicoAndPerfil(e={},r={}){var l;const t=Rr.getCurrentUser()||await Rr.refreshCurrentUser(),a=t==null?void 0:t.id,s=await this.ensureMedicoRecord(e),i=(s==null?void 0:s.id)||((l=s==null?void 0:s.medico)==null?void 0:l.id)||null,o=await this.ensurePerfilMedico({...r,medico_id:r.medico_id||i});try{a&&localStorage.setItem(`medicoApplicationStatus:${a}`,"pending")}catch{}return{medico:s,perfil:o}},async updatePerfilMedico(e={}){var h,m;const r={...e},t=e.telefone||e.celular||e.phone||((h=e.contato)==null?void 0:h.telefone);t!=null&&(r.telefone=t,r.celular||(r.celular=t),r.phone||(r.phone=t),r.contato={...r.contato||{},telefone:t});let a=e.endereco||e.address||e.local;a&&typeof a=="object"&&(a=`${a.logradouro||a.rua||""} ${a.numero||""} ${a.bairro||""} ${a.cidade||""} ${a.estado||""}`.trim()),a!=null&&(r.endereco=a,r.address||(r.address=a),r.local||(r.local=a));const s=e.especialidade??e.especialidade_id??e.especialidade_nome??e.especialidade_label??e.especialidade_obj;if(s!=null){if(typeof s=="number")r.especialidade_id=s;else if(typeof s=="string")r.especialidade=s,r.especialidade_nome=s,r.especialidade_label=s;else if(typeof s=="object"){const p=s.nome||s.label||s.titulo,v=s.id;v!=null&&(r.especialidade_id=v),p&&(r.especialidade=p,r.especialidade_nome=p,r.especialidade_label=p)}}let i=null;try{i=await this._resolveMedicoId()}catch{}const o="/api/medicos/",l=o.endsWith("/")?o:`${o}/`,A=[],d="".trim();d&&A.push(d),A.push(`${l}me/`),i&&A.push(`${l}${i}/`),i&&A.push(`${l}${i}/perfil/`),A.push(`${l}me/perfil/`),A.push("/perfil-medico/"),A.push("/perfil/medico/"),A.push("/perfis/medico/"),A.push("/profiles/medico/"),A.push("/api/perfil-medico/"),A.push("/api/perfil/medico/");let f=null;for(const p of A){if(!p)continue;const v=p.endsWith("/")?p:`${p}/`,g=["patch","put","post"];for(const y of g)try{const{data:w}=await we[y](v,r);return w}catch(w){const j=(m=w==null?void 0:w.response)==null?void 0:m.status;if(j===401)throw w;if(j===404){f=w;break}if(j===405){f=w;continue}if(j&&[400,422].includes(j))throw w;f=w;break}}throw f||new Error("Falha ao atualizar dados do mdico: nenhum endpoint compatvel.")},async _applySignatureStampToPdf(e,r={}){var t,a,s;try{const i=String(r.signerName||"Mdico(a)").trim(),o=String(r.dateString||(()=>{const J=new Date,R=re=>String(re).padStart(2,"0");return`${J.getFullYear()}.${R(J.getMonth()+1)}.${R(J.getDate())} ${R(J.getHours())}:${R(J.getMinutes())}:${R(J.getSeconds())}`})()),l=r.receitaId||null,A=r.verifyUrl||this.buildVerifyUrl(l),d=r.certInfo||null,{PDFDocument:f,StandardFonts:h,rgb:m}=await ui(async()=>{const{PDFDocument:J,StandardFonts:R,rgb:re}=await import("./index-99cWQkTn.js");return{PDFDocument:J,StandardFonts:R,rgb:re}},[]),p=await ui(()=>import("./browser-CvEWTcFL.js").then(J=>J.b),[]),v=e instanceof Blob?e:new Blob([await((t=e.arrayBuffer)==null?void 0:t.call(e))]),g=new Uint8Array(await v.arrayBuffer()),y=await f.load(g),w=y.getPages(),j=w[w.length-1],C=await y.embedFont(h.Helvetica),E=await y.embedFont(h.HelveticaBold);let U;try{const R=(await p.default.toDataURL(String(A||""),{errorCorrectionLevel:"H",margin:1,width:256,color:{dark:"#000000",light:"#FFFFFF"}})||"").split(",")[1]||"",re=Uint8Array.from(atob(R),V=>V.charCodeAt(0));U=await y.embedPng(re)}catch{}const{width:k,height:F}=j.getSize(),D={x:80,y:80,w:200,h:80},_={x:k-150,y:80,w:80,h:80};j.drawRectangle({x:D.x,y:D.y,width:D.w,height:D.h,color:m(.98,.98,1),borderColor:m(.2,.2,.8),borderWidth:1}),j.drawText("ASSINATURA DIGITAL",{x:D.x+10,y:D.y+D.h-15,size:10,font:E,color:m(.2,.2,.8)});const G=((a=d==null?void 0:d.subject)==null?void 0:a.commonName)||i;j.drawText(`${G}`,{x:D.x+10,y:D.y+D.h-30,size:9,font:C,color:m(0,0,0)});let L=D.h-45;d!=null&&d.subject&&(d.subject.organizationName&&(j.drawText(`${d.subject.organizationName}`,{x:D.x+10,y:D.y+L,size:7,font:C,color:m(.3,.3,.3)}),L-=10),d.subject.emailAddress&&(j.drawText(`${d.subject.emailAddress}`,{x:D.x+10,y:D.y+L,size:7,font:C,color:m(.3,.3,.3)}),L-=10)),j.drawText(`${o}`,{x:D.x+10,y:D.y+L,size:8,font:C,color:m(0,0,0)}),j.drawText("Escaneie para verificar",{x:_.x,y:_.y-15,size:8,font:C,color:m(.5,.5,.5)}),U&&j.drawImage(U,{x:_.x,y:_.y,width:_.w,height:_.h});const T=await y.save();return new Blob([T],{type:"application/pdf"})}catch(i){try{console.warn("[medicoService] selo visual falhou:",(i==null?void 0:i.message)||i)}catch{}return e instanceof Blob?e:new Blob([await((s=e.arrayBuffer)==null?void 0:s.call(e))])}},buildVerifyUrl(e){var r;try{const t="https://tcc-back-ktwy.onrender.com/verificar/".trim();if(t){const s=t.replace(/\/?$/,"/");return e?`${s}${e}`:s}const a="https://tcc-back-ktwy.onrender.com".replace(/\/$/,"");return e?`${a}/receitas/${e}/verificar/`:a||((r=window==null?void 0:window.location)==null?void 0:r.origin)||""}catch{return""}},async applySignatureStamp(e,r={}){return await this._applySignatureStampToPdf(e,r)},async _ensurePdfFromResponse(e,r="documento_assinado.pdf"){var o,l,A,d,f,h;const t=((o=e==null?void 0:e.headers)==null?void 0:o["content-disposition"])||((A=(l=e==null?void 0:e.headers)==null?void 0:l.get)==null?void 0:A.call(l,"content-disposition"))||"",a=String(((d=e==null?void 0:e.headers)==null?void 0:d["content-type"])||((h=(f=e==null?void 0:e.headers)==null?void 0:f.get)==null?void 0:h.call(f,"content-type"))||"").toLowerCase();let s=r;if(t){const m=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(t);try{s=decodeURIComponent((m==null?void 0:m[1])||(m==null?void 0:m[2])||s)}catch{s=(m==null?void 0:m[1])||(m==null?void 0:m[2])||s}}if(a.includes("application/pdf")){const m=new Blob([e.data],{type:"application/pdf"});try{const p=await m.slice(0,8).arrayBuffer(),v=new Uint8Array(p);if(String.fromCharCode(...v).startsWith("%PDF-"))return{filename:s,blob:m}}catch{}}try{const m=await new Response(e.data).text(),p=(()=>{try{return JSON.parse(m)}catch{return null}})(),v=(p==null?void 0:p.pdf_base64)||(p==null?void 0:p.documento_base64)||(p==null?void 0:p.file_base64)||(p==null?void 0:p.arquivo_base64);if(v){const g=Uint8Array.from(atob(String(v)),w=>w.charCodeAt(0)),y=new Blob([g],{type:"application/pdf"});return{filename:(p==null?void 0:p.filename)||(p==null?void 0:p.nome_arquivo)||s,blob:y}}}catch{}const i=new Blob([e.data],{type:"application/pdf"});return{filename:s,blob:i}},async signDocumento(e,r={}){var G,L;let t;if(e instanceof FormData)t=e;else if(e&&e.name)t=new FormData,t.append("file",e),t.append("documento",e),t.append("pdf",e),t.append("arquivo",e);else throw new Error("Parmetro invlido:  esperado FormData ou File PDF.");try{if((r==null?void 0:r.visibleStamp)!==!1){let J=t.get("file")||t.get("pdf")||t.get("documento");if(!J&&e&&e.name&&(J=e),J){const R=(r==null?void 0:r.receitaId)||(r==null?void 0:r.id)||(r==null?void 0:r.receita)||null;let re=r==null?void 0:r.signerName;if(!re){const H=await this.getCertificadoInfo().catch(()=>null);re=(H==null?void 0:H.subject_name)||(H==null?void 0:H.subject)||(H==null?void 0:H.nome)||(r==null?void 0:r.medicoNome)||"Mdico(a)"}const V=await this._applySignatureStampToPdf(J,{signerName:re,dateString:new Date().toLocaleString(),receitaId:R}),Y=new File([V],J.name||"documento.pdf",{type:"application/pdf"});["file","pdf","documento","arquivo"].forEach(H=>{t.has(H)&&t.set(H,Y)})}}}catch{}const a=r.reason||r.motivo,s=r.location||r.local;a&&(t.append("reason",a),t.append("motivo",a)),s&&(t.append("location",s),t.append("local",s));try{t.append("formato","pdf"),t.append("format","pdf"),t.append("tipo","PADES"),t.append("assinar","true")}catch{}const i=T=>{const J=t instanceof FormData?t.get(T):null;return typeof J=="string"?J==="true"||J==="1"||J.toLowerCase()==="yes":!!J},o=!!(r.useToken||r.use_token||r.token||r.pkcs11||r.hardware||r.smartcard||i("useToken")||i("use_token")||i("token")||i("pkcs11")||i("hardware")||i("smartcard"));let l=null,A=null;t instanceof FormData&&(l=t.get("pfx")||t.get("certificado")||t.get("pkcs12"),A=t.get("pfx_password")||t.get("senha")||t.get("password"));const d=r&&r.pfxFile instanceof File?r.pfxFile:l,f=(typeof(r==null?void 0:r.pfxPassword)=="string"?r.pfxPassword.trim():"")||(typeof A=="string"?A:""),h=(r.pin||r.tokenPin||r.pin_code||(t instanceof FormData?t.get("pin")||t.get("token_pin")||t.get("pin_code"):"")||"").toString().trim();if(o)t.append("use_token","true"),t.append("pkcs11","true"),t.append("hardware","true"),h&&(t.append("pin",h),t.append("token_pin",h),t.append("pin_code",h)),r.subject&&t.append("subject",r.subject),r.serial&&t.append("serial",r.serial),r.slot&&t.append("slot",String(r.slot)),r.keyId&&t.append("key_id",r.keyId);else{if(!(d instanceof File))throw new Error("Certificado digital (.pfx/.p12)  obrigatrio para assinatura.");if(!f)throw new Error("Senha do certificado PFX/P12  obrigatria para assinatura.");t.append("pfx",d),t.append("pfx_file",d),t.append("certificado",d),t.append("pkcs12",d),t.append("arquivo_pfx",d),t.append("pfx_password",f),t.append("senha",f),t.append("password",f),t.append("senha_certificado",f),t.append("no_persist","true"),t.append("ephemeral","true")}const m=(r==null?void 0:r.receitaId)||(r==null?void 0:r.receita_id)||(r==null?void 0:r.id);m&&(t.append("receita",m),t.append("receita_id",m),t.append("id",m),t.append("id_receita",m));const p="true".toLowerCase()==="true",v=[],g="/api/assinatura/assinar/".trim();g&&v.push(g);const y="/api/medicos/",w=y.endsWith("/")?y:`${y}/`;v.push("/api/assinatura/assinar/"),v.push("/assinatura/assinar/"),v.push("/api/assinar-receita/"),v.push("/assinar-receita/"),v.push("/documentos/assinar/"),v.push("/receitas/assinar/"),v.push(`${w}me/assinar/`),v.push(`${w}assinar/`);let j=null;try{j=await this._resolveMedicoId()}catch{}j&&(v.push(`${w}${j}/assinar/`),v.push(`${w}${j}/assinatura/`));const C=async T=>{try{const J=await T.arrayBuffer(),R=new Uint8Array(J);let re="";for(let V=0;V<R.length;V++)re+=String.fromCharCode(R[V]);return btoa(re)}catch{return null}},E=t.get("file")||t.get("pdf")||t.get("documento"),U=t.get("pfx")||t.get("certificado")||t.get("pkcs12"),k=E?await C(E):null,F=U?await C(U):null,D={formato:"pdf",id:m,receita:m,receita_id:m,file_base64:k,pdf_base64:k,documento_base64:k,arquivo_base64:k,pfx_base64:F,certificado_base64:F,pkcs12_base64:F,password:f,senha:f,pfx_password:f,reason:a,motivo:a,location:s,local:s,use_token:o?!0:void 0,pkcs11:o?!0:void 0,hardware:o?!0:void 0,pin:h,token_pin:h||void 0,pin_code:h||void 0,tipo_assinatura:"pades",algoritmo:"sha256"};let _=null;for(const T of v){if(!T)continue;const J=T.endsWith("/")?T:`${T}/`,R=["post","put"];for(const re of R)try{p&&console.debug(`[signDocumento] ${re.toUpperCase()} multipart ->`,J);const V=await we[re](J,t,{responseType:"blob"}),Y=await this._ensurePdfFromResponse(V,"documento_assinado.pdf");if(Y!=null&&Y.blob)return Y;throw e1}catch(V){const Y=(G=V==null?void 0:V.response)==null?void 0:G.status;if(Y===404){_=V;break}if(Y===405){_=V;continue}if(Y===401)throw V;try{p&&console.debug(`[signDocumento] ${re.toUpperCase()} json ->`,J);const H=await we[re](J,D,{responseType:"json"}),Z=await this._ensurePdfFromResponse(H,"documento_assinado.pdf");if(Z!=null&&Z.blob)return Z;const Ae=H==null?void 0:H.status;if(Ae&&[400,422].includes(Ae)){_=V;continue}}catch(H){const Z=(L=H==null?void 0:H.response)==null?void 0:L.status;if(Z===404){_=H;break}if(Z===405){_=H;continue}if(Z===401)throw H;if(Z&&[400,422].includes(Z)){_=H;continue}_=H;break}}}throw _||new Error("Falha ao assinar documento: nenhum endpoint compatvel.")},async atualizarReceita(e,r={}){var A;if(!e)throw new Error("ID da receita  obrigatrio para atualizao.");const t={...r};r.assinada!==void 0&&(t.assinada=!!r.assinada,t.signed=t.signed??t.assinada,t.status=t.assinada?"ASSINADA":t.status||"PENDENTE"),r.hash_alg&&(t.hash_alg=r.hash_alg,t.hash_algorithm=r.hash_algorithm||r.hash_alg,t.algoritmo_hash=r.algoritmo_hash||r.hash_alg),r.hash_pre&&(t.hash_pre=r.hash_pre,t.pre_hash=r.pre_hash||r.hash_pre),r.hash_documento&&(t.hash_documento=r.hash_documento,t.signed_hash=r.signed_hash||r.hash_documento),r.motivo&&(t.motivo=r.motivo),r.observacoes&&(t.observacoes=r.observacoes);const a="/api/receitas/",s=a.endsWith("/")?a:`${a}/`,i=[],o="/api/receitas/".trim();o&&i.push(o.replace(/\/?$/,"/")),i.push(`${s}${e}/`),i.push(`/api/receitas/${e}/`),i.push(`/receitas/${e}/`),i.push(`/api/meu_app_receita/${e}/`),i.push(`/meu_app_receita/${e}/`);let l=null;for(const d of i){if(!d)continue;const f=d.endsWith("/")?d:`${d}/`;try{const{data:h}=await we.patch(f,t);return h}catch(h){const m=(A=h==null?void 0:h.response)==null?void 0:A.status;if(m===401)throw h;if(m===404){l=h;continue}if(m===405){l=h;continue}if(m&&[400,422].includes(m))throw h;l=h}}throw l||new Error("Falha ao atualizar receita: nenhum endpoint compatvel.")},async registrarAuditoriaAssinatura(e={}){var d;const r=Rr.getCurrentUser()||await Rr.refreshCurrentUser(),t=r==null?void 0:r.id;let a=null;try{a=await this._resolveMedicoId()}catch{}const s={...e};t&&(s.usuario=s.usuario||t,s.usuario_id=s.usuario_id||t,s.user=s.user||t,s.user_id=s.user_id||t),a&&(s.medico=s.medico||a,s.medico_id=s.medico_id||a),s.tipo=s.tipo||"assinatura_receita",s.event=s.event||s.tipo,s.assinada=s.assinada??!0,s.timestamp=s.timestamp||new Date().toISOString();const i="/api/auditoria/assinaturas/",l=[i.endsWith("/")?i:`${i}/`,"/api/auditoria/assinaturas/","/logs/assinatura/","/auditoria/receitas/","/audit/assinaturas/"];let A=null;for(const f of l){const h=f.endsWith("/")?f:`${f}/`;try{const{data:m}=await we.post(h,s);return m}catch(m){const p=(d=m==null?void 0:m.response)==null?void 0:d.status;if(p===401)throw m;if(p===404||p===405){A=m;continue}if(p&&[400,422].includes(p))throw m;A=m}}throw A||new Error("Falha ao registrar auditoria de assinatura: nenhum endpoint compatvel.")},async finalizarAssinaturaExterna({receitaId:e,pdfFile:r,assinatura:t,certificado:a}){var d;const s=new FormData;s.append("file",r),s.append("assinatura_externa",t),s.append("certificado_externo",a),s.append("receita_id",e);const i=await we.post("/api/assinatura/finalizar-externa/",s,{responseType:"blob"}),o=((d=i.headers)==null?void 0:d["content-disposition"])||"";let l="receita_assinada.pdf";if(o){const f=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(o);try{l=decodeURIComponent((f==null?void 0:f[1])||(f==null?void 0:f[2])||l)}catch{}}const A=new Blob([i.data],{type:"application/pdf"});return{filename:l,blob:A}},async salvarTemplateConfig(e={},r=null){var t,a,s;try{let i=null;try{i=await this._resolveMedicoId()}catch{}const o=new FormData;if(o.append("config",JSON.stringify(e)),i&&(o.append("medico",i),o.append("medico_id",i)),r)if(typeof r=="string"&&r.startsWith("data:")){o.append("logo_base64",r);try{const p=r.indexOf(","),v=r.substring(5,r.indexOf(";"))||"image/png",g=p>=0?r.substring(p+1):"",y=atob(g),w=new Uint8Array(y.length);for(let E=0;E<y.length;E++)w[E]=y.charCodeAt(E);const j=new Blob([w],{type:v}),C=new File([j],"logo.png",{type:v});o.append("logo",C),o.append("arquivo",C),o.append("imagem",C)}catch{}}else r&&r.name&&(o.append("logo",r),o.append("arquivo",r),o.append("imagem",r));const l={config:e,medico:i||void 0,medico_id:i||void 0,logo_base64:typeof r=="string"?r:void 0},A=[],d="".trim();d&&A.push(d);const f="/api/medicos/",h=f.endsWith("/")?f:`${f}/`;i&&(A.push(`${h}${i}/template/`),A.push(`${h}${i}/pdf-template/`),A.push(`${h}${i}/pdf_template/`)),A.push(`${h}me/template/`),A.push(`${h}me/pdf-template/`),A.push("/pdf-template-config/"),A.push("/templates/pdf-config/"),A.push("/templates/pdf/medico/");let m=null;for(const p of A){const v=p.endsWith("/")?p:`${p}/`;try{const g=await we.post(v,o);if(g!=null&&g.status&&g.status>=200&&g.status<300)return!0}catch(g){if(((t=g==null?void 0:g.response)==null?void 0:t.status)===401)throw g;m=g}try{const g=await we.patch(v,o);if(g!=null&&g.status&&g.status>=200&&g.status<300)return!0}catch(g){if(((a=g==null?void 0:g.response)==null?void 0:a.status)===401)throw g;m=g}try{const g=await we.post(v,l);if(g!=null&&g.status&&g.status>=200&&g.status<300)return!0}catch(g){if(((s=g==null?void 0:g.response)==null?void 0:s.status)===401)throw g;m=g}}return!1}catch{return!1}},async assinarDocumento(e={}){const{pdfFile:r,certificado:t,senha:a,motivo:s,receita_id:i,modo_assinatura:o,...l}=e;let A=r;if(t&&a){const f=new FormData;f.append("file",r),f.append("pfx",t),f.append("senha",a),s&&f.append("motivo",s),i&&f.append("receita_id",i),A=f}const d={motivo:s||"Receita Mdica",receitaId:i,pfxFile:t,pfxPassword:a,useToken:o==="token",...l};return await this.signDocumento(A,d)},async assinarReceita({receitaId:e,pdfFile:r,dadosReceita:t={},certificado:a,senha:s,modo_assinatura:i="pfx",motivo:o="Receita Mdica",location:l}={}){var k;if(!e)throw new Error("receitaId  obrigatrio para assinar a receita.");if(!r)throw new Error("Arquivo PDF (pdfFile)  obrigatrio para assinatura.");const A="true".toLowerCase()==="true",d=r instanceof File?r:new File([r],"receita.pdf",{type:"application/pdf"}),f=new FormData;f.append("file",d),f.append("pdf",d),f.append("documento",d),f.append("receita",e),f.append("receita_id",e),f.append("id",e),f.append("assinar","true"),o&&f.append("motivo",o),l&&f.append("local",l);const h={...t},m=(h.formato||"pdf").toLowerCase();if(f.append("formato",m),["paciente_id","paciente","consulta_id","consulta","observacoes","validade_receita","validade"].forEach(F=>{const D=h[F];D!=null&&String(D).length&&f.append(F,D)}),Array.isArray(h.itens)){try{f.append("itens_json",JSON.stringify(h.itens))}catch{}try{f.append("itens",JSON.stringify(h.itens))}catch{}}const p=i==="token";if(p){if(f.append("use_token","true"),f.append("pkcs11","true"),f.append("hardware","true"),t!=null&&t.pin){const F=String(t.pin);f.append("pin",F),f.append("token_pin",F),f.append("pin_code",F)}}else{if(!(a instanceof File))throw new Error("Certificado (.pfx/.p12)  obrigatrio no modo PFX.");if(!s||!String(s).trim())throw new Error("Senha do certificado PFX/P12  obrigatria.");f.append("pfx",a),f.append("certificado",a),f.append("pkcs12",a),f.append("pfx_password",String(s)),f.append("senha",String(s)),f.append("password",String(s)),f.append("senha_certificado",String(s))}const v=[],g="".trim();g&&v.push(g),v.push(`${baseReceitas}${e}/assinar/`),v.push(`/api/receitas/${e}/assinar/`),v.push("/receitas/assinar/"),v.push("/api/receitas/assinar/");let y=null;for(const F of v){const D=F.endsWith("/")?F:`${F}/`;try{if(A)try{console.debug("[assinarReceita] POST ->",D,{receitaId:e})}catch{}const _=await we.post(D,f,{responseType:"blob"}),G=await this._ensurePdfFromResponse(_,"receita_assinada.pdf"),L=G.blob,T=G.filename,J=await this.computeSHA256Hex(L);await this.salvarArquivoAssinado(e,L,T);const R=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:R,carimbo_tempo:R,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:J,motivo:o}),{receitaId:e,filename:T,blob:L}}catch(_){const G=(k=_==null?void 0:_.response)==null?void 0:k.status;if(G===401)throw _;if(G===404||G===405){y=_;continue}try{const L=await we.post(D,f),T=await this._ensurePdfFromResponse(L,"receita_assinada.pdf");if(T!=null&&T.blob){const J=T.blob,R=T.filename,re=await this.computeSHA256Hex(J);await this.salvarArquivoAssinado(e,J,R);const V=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:V,carimbo_tempo:V,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:re,motivo:o}),{receitaId:e,filename:R,blob:J}}y=_}catch(L){y=L}}}const w=await this.signDocumento(f,{receitaId:e,motivo:o,useToken:p,pfxFile:a,pfxPassword:s}),j=w==null?void 0:w.blob,C=(w==null?void 0:w.filename)||"receita_assinada.pdf";if(!j)try{const F=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:F,carimbo_tempo:F,algoritmo_assinatura:"RSA-SHA256",motivo:o}),d&&await this.salvarArquivoAssinado(e,d,filename||"receita.pdf"),{receitaId:e,filename:filename||"receita.pdf",blob:d}}catch{throw y||new Error("Falha ao assinar receita: nenhum endpoint compatvel.")}const E=await this.computeSHA256Hex(j);await this.salvarArquivoAssinado(e,j,C);const U=new Date().toISOString();return await this.atualizarReceita(e,{assinada:!0,assinada_em:U,carimbo_tempo:U,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:E,motivo:o}),{receitaId:e,filename:C,blob:j}},async assinarReceitaEPersistir({dadosReceita:e={},itens:r=[],pdfFile:t,motivo:a="Receita Mdica",certificado:s,senha:i,modo_assinatura:o="pfx"}={}){var R,re,V,Y,H,Z,Ae,ee,Q,q;const l="true".toLowerCase()==="true",A="/api/receitas/",d=A.endsWith("/")?A:`${A}/`,f=[],h="".trim();h&&f.push(h),f.push(`${d}assinar/`),f.push("/receitas/assinar/"),f.push("/api/receitas/assinar/"),f.push("/assinar-receita/"),f.push("/documentos/assinar/");const m=t instanceof File?t:t?new File([t],"receita.pdf",{type:"application/pdf"}):null,p=new FormData;m&&(p.append("file",m),p.append("pdf",m),p.append("documento",m)),p.append("motivo",a||"Receita Mdica"),p.append("modo_assinatura",o),s&&p.append("pfx",s),i&&p.append("senha",i);try{p.append("dados_receita",JSON.stringify(e||{}))}catch{}try{p.append("itens",JSON.stringify(r||[]))}catch{}const v=async $=>{const X=await $.arrayBuffer(),te=new Uint8Array(X);let K="";for(let z=0;z<te.length;z++)K+=String.fromCharCode(te[z]);return btoa(K)},g=m?await v(m):null,y=s?await v(s):null,w={motivo:a||"Receita Mdica",modo_assinatura:o,dados_receita:e||{},itens:r||[],pdf_base64:g||void 0,pfx_base64:y||void 0,senha:i||void 0,formato:"pdf"},j=($,X="application/pdf")=>{const te=atob($),K=new Array(te.length);for(let se=0;se<te.length;se++)K[se]=te.charCodeAt(se);const z=new Uint8Array(K);return new Blob([z],{type:X})};let C=null;for(const $ of f){if(!$)continue;const X=$.endsWith("/")?$:`${$}/`;try{if(l)try{console.debug("[assinarReceitaEPersistir] POST multipart ->",X)}catch{}const te=await we.post(X,p,{responseType:"blob"}),K=((R=te.headers)==null?void 0:R["content-type"])||((V=(re=te.headers)==null?void 0:re.get)==null?void 0:V.call(re,"content-type"))||"";let z="receita_assinada.pdf";const se=((Y=te.headers)==null?void 0:Y["content-disposition"])||((Z=(H=te.headers)==null?void 0:H.get)==null?void 0:Z.call(H,"content-disposition"))||"";if(se){const xe=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(se);try{z=decodeURIComponent((xe==null?void 0:xe[1])||(xe==null?void 0:xe[2])||z)}catch{}}let fe,be=null;if(/application\/pdf/i.test(K))fe=new Blob([te.data],{type:K});else{const xe=await te.data.text(),ie=JSON.parse(xe),at=(ie==null?void 0:ie.pdf_base64)||(ie==null?void 0:ie.file_base64)||(ie==null?void 0:ie.documento_base64)||(ie==null?void 0:ie.arquivo_base64);if(!at)throw new Error("Resposta sem PDF base64");fe=j(at,"application/pdf"),z=(ie==null?void 0:ie.filename)||z,be=(ie==null?void 0:ie.receita_id)||((Ae=ie==null?void 0:ie.receita)==null?void 0:Ae.id)||(ie==null?void 0:ie.id)||null}const Be=await this.computeSHA256Hex(fe),Qe=new Date().toISOString();if(be)try{await this.atualizarReceita(be,{assinada:!0,assinada_em:Qe,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:Be,carimbo_tempo:Qe})}catch{}return{receitaId:be||null,filename:z,blob:fe}}catch(te){if(((ee=te==null?void 0:te.response)==null?void 0:ee.status)===401)throw te;C=te;try{if(l)try{console.debug("[assinarReceitaEPersistir] POST json ->",X)}catch{}const{data:z}=await we.post(X,w),se=(z==null?void 0:z.pdf_base64)||(z==null?void 0:z.file_base64)||(z==null?void 0:z.documento_base64)||(z==null?void 0:z.arquivo_base64);if(!se)throw new Error("Resposta sem PDF base64");const fe=j(se,"application/pdf"),be=(z==null?void 0:z.filename)||"receita_assinada.pdf",Be=(z==null?void 0:z.receita_id)||((Q=z==null?void 0:z.receita)==null?void 0:Q.id)||(z==null?void 0:z.id)||null,Qe=await this.computeSHA256Hex(fe),xe=new Date().toISOString();if(Be)try{await this.atualizarReceita(Be,{assinada:!0,assinada_em:xe,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:Qe,carimbo_tempo:xe})}catch{}return{receitaId:Be||null,filename:be,blob:fe}}catch(z){C=z}}}const E=await this.criarReceita(e),U=(E==null?void 0:E.id)||(E==null?void 0:E.pk)||(E==null?void 0:E.uuid)||((q=E==null?void 0:E.receita)==null?void 0:q.id);if(!U)throw C||new Error("No foi possvel obter ID da receita aps criao.");if(l)try{console.debug("[assinarReceitaEPersistir] receita criada:",U,E)}catch{}try{await this.salvarItensReceita(U,r)}catch{}let k=t;if(!k){const{blob:$,filename:X}=await this.gerarDocumentoReceitaLocal({...e,receita_id:U,formato:"pdf"});k=new File([$],X||"receita.pdf",{type:"application/pdf"})}const F=new FormData;F.append("file",k),F.append("pdf",k),F.append("documento",k),F.append("receita_id",U),s&&F.append("pfx",s),i&&F.append("senha",i);const D=await this.signDocumento(F,{receitaId:U,motivo:a,useToken:o==="token",pfxFile:s,pfxPassword:i}),_=D==null?void 0:D.blob,G=(D==null?void 0:D.filename)||"receita_assinada.pdf";if(!_)throw C||new Error("Falha ao assinar a receita: blob vazio.");const L=await this.computeSHA256Hex(_);await this.salvarArquivoAssinado(U,_,G);let T=null;try{T=await this._resolveMedicoId()}catch{}const J=new Date().toISOString();return await this.atualizarReceita(U,{assinada:!0,assinada_em:J,assinada_por_id:T,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:L,carimbo_tempo:J,observacoes:(e==null?void 0:e.observacoes)||""}),{receitaId:U,filename:G,blob:_}}};function GY(){const{data:e,loading:r}=UF(()=>Kt.getDashboard());if(r)return n.jsx("div",{className:"min-h-screen bg-medical-gradient p-6",children:n.jsx("div",{className:"space-y-8 animate-fade-in",children:n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>n.jsxs(ke,{variant:"medical",className:"animate-pulse",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("div",{className:"h-4 w-20 bg-medical-primary/20 rounded"}),n.jsx("div",{className:"h-4 w-4 bg-medical-primary/20 rounded"})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"h-8 w-16 bg-medical-primary/20 rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 bg-medical-primary/20 rounded"})]})]},o))})})});const t=e||{consultas_hoje:5,pacientes_ativos:127,prontuarios:89,exames_pendentes:9,variacao_consultas:2,novos_pacientes_semana:5,proximas_consultas:[],pacientes_recentes:[]},a=i=>{try{const o=new Date(i);if(!isNaN(o.getTime()))return o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof i=="string"&&/^\d{2}:\d{2}/.test(i))return i.slice(0,5)}catch{}return"-"},s=Array.isArray(t.proximas_consultas)?t.proximas_consultas:[];return n.jsxs("div",{className:"min-h-screen bg-medical-gradient p-6 space-y-8 animate-fade-in",children:[n.jsx(ke,{variant:"medical",className:"overflow-hidden",children:n.jsxs("div",{className:"bg-gradient-to-r from-medical-primary via-medical-secondary to-medical-accent p-8 text-white relative",children:[n.jsx("div",{className:"absolute inset-0 bg-black/5"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"p-4 bg-white/15 rounded-2xl backdrop-blur-sm border border-white/20",children:n.jsx(ea,{className:"h-10 w-10"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard Mdico"}),n.jsx("p",{className:"text-white/90 text-lg",children:"Gesto clnica profissional e cuidado centrado no paciente"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(wr,{className:"h-5 w-5 text-blue-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Consultas Hoje"})]}),n.jsx("div",{className:"text-3xl font-bold",children:t.consultas_hoje}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Agendamentos confirmados"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(As,{className:"h-5 w-5 text-green-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Pacientes Ativos"})]}),n.jsx("div",{className:"text-3xl font-bold text-green-200",children:t.pacientes_ativos}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Em acompanhamento"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(hn,{className:"h-5 w-5 text-purple-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Pronturios"})]}),n.jsx("div",{className:"text-3xl font-bold text-purple-200",children:t.prontuarios}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Registros mdicos"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Bi,{className:"h-5 w-5 text-amber-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Exames Pendentes"})]}),n.jsx("div",{className:"text-3xl font-bold text-amber-200",children:t.exames_pendentes}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Aguardando anlise"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(ve,{variant:"btn-medical-secondary",size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm",children:[n.jsx(gu,{className:"h-5 w-5 mr-2"}),"Nova Consulta"]}),n.jsx(ve,{variant:"outline",size:"lg",className:"bg-white text-medical-primary hover:bg-gray-50",asChild:!0,children:n.jsxs(pr,{to:"/medico/minhas-consultas",children:[n.jsx(q0,{className:"h-5 w-5 mr-2"}),"Ver Agenda Completa"]})}),n.jsxs(ve,{variant:"btn-medical-ghost",size:"lg",className:"bg-white/10 hover:bg-white/20 text-white border-white/30 backdrop-blur-sm",children:[n.jsx(z0,{className:"h-5 w-5 mr-2"}),"Relatrios Clnicos"]})]})]})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ge,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Consultas Hoje"}),n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(wr,{className:"h-5 w-5 text-medical-primary"})})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:t.consultas_hoje}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"success",size:"sm",children:[n.jsx(_m,{className:"h-3 w-3 mr-1"}),"+",t.variacao_consultas]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"desde ontem"})]})]})]}),n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-secondary",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ge,{className:"text-sm font-semibold text-medical-secondary group-hover:text-medical-primary transition-colors",children:"Pacientes Ativos"}),n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:n.jsx(As,{className:"h-5 w-5 text-medical-secondary"})})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-secondary mb-2",children:t.pacientes_ativos}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"info",size:"sm",children:[n.jsx(Ay,{className:"h-3 w-3 mr-1"}),"+",t.novos_pacientes_semana]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"esta semana"})]})]})]}),n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ge,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Pronturios Digitais"}),n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(hn,{className:"h-5 w-5 text-medical-primary"})})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:t.prontuarios}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"medical-secondary",size:"sm",children:[n.jsx(us,{className:"h-3 w-3 mr-1"}),"Atualizados"]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"registros mdicos"})]})]})]}),n.jsxs(ke,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-status-attention",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ge,{className:"text-sm font-semibold text-status-attention group-hover:text-status-attention/80 transition-colors",children:"Exames Pendentes"}),n.jsx("div",{className:"p-3 bg-status-attention/10 rounded-xl group-hover:bg-status-attention/20 transition-colors",children:n.jsx(Bi,{className:"h-5 w-5 text-status-attention"})})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-3xl font-bold text-status-attention mb-2",children:t.exames_pendentes}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(lr,{variant:"warning",size:"sm",children:[n.jsx(tA,{className:"h-3 w-3 mr-1"}),"Urgente"]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"aguardando anlise"})]})]})]})]}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[n.jsxs(ke,{variant:"medical",className:"card-medical",children:[n.jsx(Ke,{className:"bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border-b border-medical-primary/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl",children:n.jsx(Or,{className:"h-6 w-6 text-medical-primary"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-medical-primary text-lg font-semibold",children:"Agenda de Consultas"}),n.jsx(gr,{className:"text-muted-foreground",children:"Prximos atendimentos programados"})]})]}),n.jsx(ve,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:n.jsxs(pr,{to:"/medico/minhas-consultas",children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Ver Agenda Completa",n.jsx(Yg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Ue,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:s.length>0?s.slice(0,5).map((i,o)=>n.jsx("div",{className:"group p-4 rounded-xl border border-medical-primary/10 bg-gradient-to-r from-white to-medical-primary/5 hover:shadow-md hover:border-medical-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(Xg,{className:"h-5 w-5 text-medical-primary"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:i.paciente_nome}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-medical-primary",children:[n.jsx(Or,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:a(i.data_hora)})]}),n.jsx(CT,{priority:i.prioridade||"normal"}),n.jsx(lr,{variant:"outline",className:"bg-medical-primary/5 text-medical-primary border-medical-primary/20",children:i.tipo||"Consulta Geral"})]})]})]}),n.jsxs(ve,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Atender"]})]})},o)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-medical-primary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:n.jsx(wr,{className:"h-10 w-10 text-medical-primary/60"})}),n.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Agenda livre hoje"}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Nenhuma consulta agendada para hoje"}),n.jsxs(ve,{variant:"btn-medical-primary",size:"sm",children:[n.jsx(gu,{className:"h-4 w-4 mr-2"}),"Agendar Nova Consulta"]})]})})})]}),n.jsxs(ke,{variant:"medical",className:"card-medical",children:[n.jsx(Ke,{className:"bg-gradient-to-r from-medical-secondary/5 to-medical-secondary/10 border-b border-medical-secondary/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl",children:n.jsx(As,{className:"h-6 w-6 text-medical-secondary"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-medical-secondary text-lg font-semibold",children:"Pacientes Recentes"}),n.jsx(gr,{className:"text-medical-secondary/70",children:"ltimas interaes e acompanhamentos"})]})]}),n.jsx(ve,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:n.jsxs(pr,{to:"/medico/meus-pacientes",children:[n.jsx(As,{className:"h-4 w-4 mr-2"}),"Ver Todos Pacientes",n.jsx(Yg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Ue,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:t.pacientes_recentes&&t.pacientes_recentes.length>0?t.pacientes_recentes.slice(0,5).map((i,o)=>n.jsx("div",{className:"group p-4 rounded-xl border border-medical-secondary/10 bg-gradient-to-r from-white to-medical-secondary/5 hover:shadow-md hover:border-medical-secondary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:n.jsx(As,{className:"h-5 w-5 text-medical-secondary"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:i.nome}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["ltima consulta: h ",i.dias_ultima_consulta," dias"]}),n.jsx(Y_,{status:i.status||"ativo"})]})]})]}),n.jsxs(ve,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Ver Pronturio"]})]})},o)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-medical-secondary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:n.jsx(As,{className:"h-10 w-10 text-medical-secondary/60"})}),n.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Nenhum paciente recente"}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Pacientes aparecero aqui aps as consultas"}),n.jsxs(ve,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(Ay,{className:"h-4 w-4 mr-2"}),"Cadastrar Novo Paciente"]})]})})})]})]})]})}function YY(){const[e,r]=b.useState(!0),[t,a]=b.useState([]),[s,i]=b.useState(""),[o,l]=b.useState("todos");b.useEffect(()=>{let d=!0;return(async()=>{var f;try{const h=await Kt.getPerfil(),m=(h==null?void 0:h.id)||((f=h==null?void 0:h.medico)==null?void 0:f.id)||null,p=await Kt.getMeusPacientes(m);d&&a(Array.isArray(p)?p:[])}catch{d&&a([])}finally{d&&r(!1)}})(),()=>{d=!1}},[]);const A=t.filter(d=>{var p;const f=(d!=null&&d.user?[d.user.first_name,d.user.last_name].filter(Boolean).join(" ").trim():(d==null?void 0:d.nome)||"").toLowerCase(),h=!s||f.includes(s.toLowerCase()),m=o==="todos"||o===((p=d==null?void 0:d.user)!=null&&p.is_active?"ativo":"inativo");return h&&m});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Meus Pacientes"}),n.jsx("p",{className:"text-muted-foreground",children:"Liste e gerencie seus pacientes ativos"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ns,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Te,{placeholder:"Buscar pacientes...",className:"pl-10",value:s,onChange:d=>i(d.target.value)})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(qr,{children:[n.jsx(Vr,{className:"w-[180px]",children:n.jsx(Wr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"todos",children:"Todos"}),n.jsx(rt,{value:"ativo",children:"Ativo"}),n.jsx(rt,{value:"inativo",children:"Inativo"})]})]}),n.jsxs(ve,{children:[n.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Buscar"]}),n.jsxs(ve,{variant:"outline",children:[n.jsx(lu,{className:"mr-2 h-4 w-4"}),"Filtrar"]})]})]}),e?n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((d,f)=>n.jsx(ke,{children:n.jsxs(Ue,{className:"p-6 space-y-4",children:[n.jsx("div",{className:"h-6 w-40 bg-muted animate-pulse rounded"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"})]})]})},f))}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:A.map(d=>{var m,p;const f=(d==null?void 0:d.id)||((m=d==null?void 0:d.user)==null?void 0:m.id),h=d!=null&&d.user?[d.user.first_name,d.user.last_name].filter(Boolean).join(" ").trim():(d==null?void 0:d.nome)||`Paciente ${f}`;return n.jsx(ke,{children:n.jsxs(Ue,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-xl font-semibold",children:((p=h==null?void 0:h[0])==null?void 0:p.toUpperCase())||"P"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold",children:h}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",f]})]})]}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:(d==null?void 0:d.condicoes_cronicas)&&n.jsx(lr,{variant:"outline",className:"bg-primary/5",children:d.condicoes_cronicas})}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[n.jsx(ve,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(pr,{to:`/medico/paciente/${f}/perfil`,children:[n.jsx(Hn,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]})}),n.jsx(ve,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(pr,{to:`/medico/paciente/${f}/prontuario`,children:[n.jsx(hn,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Pronturio"})]})}),n.jsx(ve,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(pr,{to:`/medico/paciente/${f}/iniciar-consulta`,children:[n.jsx(wr,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Consulta"})]})})]})]})},f)})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Mostrando 6 de 24 pacientes"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ve,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),n.jsx(ve,{variant:"outline",size:"sm",className:"bg-primary/5",children:"1"}),n.jsx(ve,{variant:"outline",size:"sm",children:"2"}),n.jsx(ve,{variant:"outline",size:"sm",children:"3"}),n.jsx(ve,{variant:"outline",size:"sm",children:"4"}),n.jsx(ve,{variant:"outline",size:"sm",children:"Prximo"})]})]})]})}function XY(){const[e,r]=b.useState(!0),[t,a]=b.useState(!0),[s,i]=b.useState([]),[o,l]=b.useState([]);b.useEffect(()=>{let h=!0;return(async()=>{var m;try{const p=await Kt.getPerfil(),v=(p==null?void 0:p.id)||((m=p==null?void 0:p.medico)==null?void 0:m.id);if(!v){h&&(i([]),l([]));return}try{const g=await Kt.getConsultasHoje(v);h&&i(Array.isArray(g)?g:(g==null?void 0:g.results)||[])}finally{h&&r(!1)}try{const g=await Kt.getConsultasDoMedico(),y=Array.isArray(g)?g:Array.isArray(g==null?void 0:g.results)?g.results:[];h&&l(y)}finally{h&&a(!1)}}catch{h&&(i([]),l([]),r(!1),a(!1))}})(),()=>{h=!1}},[]);const A=h=>{var p,v;const m=(p=h==null?void 0:h.paciente)==null?void 0:p.user;return m?[m.first_name,m.last_name].filter(Boolean).join(" ").trim():(h==null?void 0:h.paciente_nome)||((v=h==null?void 0:h.paciente)==null?void 0:v.nome)||"Paciente"},d=h=>{try{const m=new Date(h);if(!isNaN(m))return m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof h=="string"&&/^\d{2}:\d{2}/.test(h))return h.slice(0,5)}catch{}return"--:--"},f=h=>{try{const m=new Date(h);if(!isNaN(m))return m.toLocaleDateString()}catch{}return""};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua agenda de consultas"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ns,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Te,{placeholder:"Buscar consultas...",className:"pl-10 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(qr,{children:[n.jsx(Vr,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:n.jsx(Wr,{placeholder:"Filtrar por status"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"todos",children:"Todos"}),n.jsx(rt,{value:"confirmado",children:"Confirmado"}),n.jsx(rt,{value:"pendente",children:"Pendente"}),n.jsx(rt,{value:"cancelado",children:"Cancelado"})]})]}),n.jsx(ms,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200"}),n.jsxs(ve,{children:[n.jsx(wr,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]})]}),n.jsxs(zi,{defaultValue:"hoje",children:[n.jsxs(qi,{children:[n.jsx(Ir,{value:"hoje",children:"Hoje"}),n.jsx(Ir,{value:"amanha",children:"Amanh"}),n.jsx(Ir,{value:"semana",children:"Esta Semana"}),n.jsx(Ir,{value:"todas",children:"Todas"})]}),n.jsx(Tr,{value:"hoje",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Consultas para hoje, ",new Date().toLocaleDateString()]})}),n.jsx(Ue,{children:e?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,m)=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 w-1/3 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-1/4 bg-muted animate-pulse rounded"})]}),n.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded"})]},m))}):n.jsx("div",{className:"space-y-4",children:s.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma consulta para hoje."}):s.map(h=>{var v,g,y;const m=h.id,p=((v=h==null?void 0:h.paciente)==null?void 0:v.id)||(h==null?void 0:h.paciente_id);return n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((y=(g=A(h))==null?void 0:g[0])==null?void 0:y.toUpperCase())||"P"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A(h)}),p&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Or,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[d(h==null?void 0:h.data_hora)," ",f(h==null?void 0:h.data_hora)?`(${f(h==null?void 0:h.data_hora)})`:""]})]})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[p&&n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(pr,{to:`/medico/paciente/${p}/perfil`,children:"Perfil"})}),p&&n.jsx(ve,{size:"sm",asChild:!0,children:n.jsx(pr,{to:`/medico/paciente/${p}/iniciar-consulta`,children:"Atender"})})]})]},m)})})})]})}),n.jsx(Tr,{value:"amanha",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Consultas para amanh, ",new Date(Date.now()+864e5).toLocaleDateString()]})}),n.jsx(Ue,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(70+h),"M"]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Paciente ",h+5]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100050+h]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Or,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[`${8+h}:00`," - ",`${9+h}:00`]})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:h%2===0?"Primeira consulta":"Retorno"}),h===1?n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Aguardando confirmao"}):n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(pr,{href:`/medico/paciente/${100050+h}/perfil`,children:"Perfil"})}),n.jsx(ve,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},h))})})]})}),n.jsx(Tr,{value:"semana",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Consultas para esta semana"]})}),n.jsx(Ue,{children:n.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:new Date(Date.now()+h*2*864e5).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),n.jsx("div",{className:"space-y-4",children:[1,2].map(m=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(64+h+m),"L"]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Paciente ",h*10+m]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100100+h*10+m]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Or,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[`${9+m}:00`," - ",`${10+m}:00`]})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:m%2===0?"Primeira consulta":"Retorno"}),n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(pr,{href:`/medico/paciente/${100100+h*10+m}/perfil`,children:"Perfil"})}),n.jsx(ve,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},`${h}-${m}`))})]},h))})})]})}),n.jsx(Tr,{value:"todas",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Todas as Consultas"]})}),n.jsx(Ue,{children:t?n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((h,m)=>n.jsx("div",{className:"h-16 w-full bg-muted animate-pulse rounded"},m))}):n.jsx("div",{className:"space-y-4",children:o.map(h=>{var v,g,y;const m=h.id,p=((v=h==null?void 0:h.paciente)==null?void 0:v.id)||(h==null?void 0:h.paciente_id);return n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((y=(g=A(h))==null?void 0:g[0])==null?void 0:y.toUpperCase())||"P"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A(h)}),p&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground mr-1"}),n.jsx("span",{children:f(h==null?void 0:h.data_hora)})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Or,{className:"h-4 w-4 text-muted-foreground mr-1"}),n.jsx("span",{children:d(h==null?void 0:h.data_hora)})]})]})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[p&&n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(pr,{to:`/medico/paciente/${p}/perfil`,children:"Perfil"})}),n.jsx(ve,{variant:"ghost",size:"sm",children:"Detalhes"})]})]},m)})})})]})})]})]})}function Km({patientId:e,isPacienteView:r=!0,profile:t,patient:a,loading:s=!1}){var p;const i=v=>v?mI(v.replace(/_/g," ")):"",o=(t==null?void 0:t.nome)&&t.nome.trim()||[t==null?void 0:t.first_name,t==null?void 0:t.last_name].filter(Boolean).join(" ")||i(t==null?void 0:t.username)||"Usurio",l=((p=o==null?void 0:o.trim())==null?void 0:p.split(" ").filter(Boolean).slice(0,2).map(v=>{var g;return(g=v[0])==null?void 0:g.toUpperCase()}).join(""))||"?",A=(t==null?void 0:t.data_nascimento)||(a==null?void 0:a.data_nascimento)||null,d=N$(A),f=(a==null?void 0:a.tipo_sanguineo)||(t==null?void 0:t.tipo_sanguineo)||"",h=(a==null?void 0:a.alergias)??(t==null?void 0:t.alergias),m=Array.isArray(h)?alergiesRaw.length?h.join(", "):"":h||"";return s?n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900",children:n.jsx(Ue,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Br,{className:"h-20 w-20 rounded-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Br,{className:"h-6 w-48"}),n.jsx(Br,{className:"h-4 w-32"})]})]})})}),n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20",children:n.jsx(Ue,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(Br,{className:"h-16 w-full"}),n.jsx(Br,{className:"h-16 w-full"}),n.jsx(Br,{className:"h-16 w-full"})]})})})]}):n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 hover:shadow-xl transition-all duration-300",children:n.jsx(Ue,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(Lm,{className:"h-20 w-20 ring-4 ring-white/50 shadow-lg",children:[n.jsx(mx,{src:t==null?void 0:t.avatar,alt:o}),n.jsx(Im,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-2xl font-bold",children:l})]}),n.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1.5 shadow-lg",children:n.jsx(Hn,{className:"h-3 w-3 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-1",children:o}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(lr,{variant:r?"default":"secondary",className:"text-xs font-medium",children:r?"Paciente":`ID: ${e||(t==null?void 0:t.id)||"-"}`})})]})]})})}),n.jsx(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 hover:shadow-xl transition-all duration-300",children:n.jsxs(Ue,{className:"pt-6",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:n.jsx(Hn,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Idade"}),n.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:d||""})]}),n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-full",children:n.jsx(z6,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Tipo Sanguneo"}),n.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:f})]}),n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/50 rounded-full",children:n.jsx(Xg,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Alergias"}),n.jsx("p",{className:"text-xs font-bold text-slate-900 dark:text-slate-100 truncate",title:m,children:m})]})]}),!r&&n.jsx("div",{className:"mt-6 pt-4 border-t border-white/20",children:n.jsx(ve,{size:"sm",asChild:!0,className:"w-full btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",children:n.jsx(pr,{to:`/medico/paciente/${e||(t==null?void 0:t.id)}/iniciar-consulta`,children:"Iniciar Consulta"})})})]})})]})}function JY(){var o,l,A,d,f,h,m;const{id:e}=zo(),[r,t]=b.useState(null),[a,s]=b.useState(!0);b.useEffect(()=>{let p=!0;return(async()=>{var v;try{const g="/api/pacientes/",y=g.endsWith("/")?g:`${g}/`,w=await we.get(`${y}${e}/`);p&&t(w.data)}catch(g){console.debug("[PerfilPacienteMedico] Falha ao buscar paciente por id:",(v=g==null?void 0:g.response)==null?void 0:v.status)}finally{p&&s(!1)}})(),()=>{p=!1}},[e]);const i=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie as informaes do paciente"})]}),n.jsx(Km,{patientId:e,isPacienteView:!1,profile:r==null?void 0:r.user,patient:r,loading:a}),n.jsx(Wi,{tabs:i,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-5 w-5"})," Informaes Pessoais"]})}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Nome"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.nome)||[(o=r==null?void 0:r.user)==null?void 0:o.first_name,(l=r==null?void 0:r.user)==null?void 0:l.last_name].filter(Boolean).join(" ")||((A=r==null?void 0:r.user)==null?void 0:A.username)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Data de Nascimento"}),n.jsx("p",{className:"text-muted-foreground",children:DF((r==null?void 0:r.data_nascimento)||((d=r==null?void 0:r.user)==null?void 0:d.data_nascimento))})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"CPF"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.cpf)||((f=r==null?void 0:r.user)==null?void 0:f.cpf)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Telefone"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.telefone)||((h=r==null?void 0:r.user)==null?void 0:h.phone)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Endereo"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.endereco)||((m=r==null?void 0:r.user)==null?void 0:m.address)||""})]})]})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(rA,{className:"h-5 w-5"})," Resumo Mdico"]})}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Tipo Sanguneo"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.tipo_sanguineo)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Alergias"}),n.jsx("p",{className:"text-muted-foreground",children:Array.isArray(r==null?void 0:r.alergias)?r.alergias.length?r.alergias.join(", "):"":(r==null?void 0:r.alergias)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Condies Crnicas"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.condicoes_cronicas)||""})]})]})]})]}),n.jsx("div",{className:"flex justify-end gap-3",children:n.jsx(ve,{variant:"outline",asChild:!0,children:n.jsx(pr,{to:`/medico/paciente/${e}/prontuario`,children:"Ver Pronturio"})})})]})}function ZY(){const{id:e}=zo(),[r,t]=b.useState(null),[a,s]=b.useState([]),[i,o]=b.useState(!0),l=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}];return b.useEffect(()=>{let A=!0;return(async()=>{try{const d="/api/pacientes/",f=d.endsWith("/")?d:`${d}/`,h=await we.get(`${f}${e}/`);A&&t(h.data)}catch{}try{const d="/api/prontuarios/",f=d.endsWith("/")?d:`${d}/`,h=await we.get(f,{params:{paciente:e,paciente_id:e,limit:50}}),m=h==null?void 0:h.data,p=Array.isArray(m)?m:Array.isArray(m==null?void 0:m.results)?m.results:[];A&&s(p)}catch{A&&s([])}finally{A&&o(!1)}})(),()=>{A=!1}},[e]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pronturio do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Histrico mdico completo"})]}),n.jsx(Km,{patientId:e,isPacienteView:!1,profile:r==null?void 0:r.user,patient:r,loading:i}),n.jsx(Wi,{tabs:l,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(hn,{className:"h-5 w-5"}),"Informaes Gerais"]})}),n.jsx(Ue,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguneo"}),n.jsx("p",{children:(r==null?void 0:r.tipo_sanguineo)||""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),n.jsx("p",{children:Array.isArray(r==null?void 0:r.alergias)?r.alergias.length?r.alergias.join(", "):"":(r==null?void 0:r.alergias)||""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condies Crnicas"}),n.jsx("p",{children:(r==null?void 0:r.condicoes_cronicas)||""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),n.jsx("p",{children:(r==null?void 0:r.medicamentos_uso)||""})]})]})})})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),n.jsx(Ue,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):a.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum registro de pronturio encontrado para este paciente."}):a.map(A=>{var d,f;return n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"font-medium",children:(d=A.medico)!=null&&d.user?`${A.medico.user.first_name||""} ${A.medico.user.last_name||""}`.trim():((f=A.medico)==null?void 0:f.nome)||"Mdico"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.data||A.data_hora?new Date(A.data_hora||A.data).toLocaleDateString():""})]}),A.diagnostico_principal&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diagnstico"}),n.jsx("p",{children:A.diagnostico_principal})]}),A.conduta&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conduta"}),n.jsx("p",{children:A.conduta})]}),A.exames_solicitados&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Exames Solicitados"}),n.jsx("p",{children:A.exames_solicitados})]})]},A.id)})})})]})]})]})}function eX(){const{id:e}=zo(),[r,t]=b.useState(""),[a,s]=b.useState([]),[i,o]=b.useState(!0),[l,A]=b.useState(null),[d,f]=b.useState(!0),h=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}];b.useEffect(()=>{let g=!0;return(async()=>{var y;o(!0);try{const w="/api/pacientes/",j=w.endsWith("/")?w:`${w}/`,C=await we.get(`${j}${e}/`);g&&A(C.data)}catch{}finally{g&&f(!1)}try{const w="/api/exames/",j=w.endsWith("/")?w:`${w}/`,C=await we.get(j,{params:{paciente:e,paciente_id:e,limit:100}}),E=C==null?void 0:C.data,U=Array.isArray(E)?E:Array.isArray(E==null?void 0:E.results)?E.results:[];g&&s(U)}catch(w){try{console.debug("[Medico/Exames] falha listar:",(y=w==null?void 0:w.response)==null?void 0:y.status)}catch{}g&&s([])}finally{g&&o(!1)}})(),()=>{g=!1}},[e]);const m=b.useMemo(()=>{const g=(r||"").toLowerCase();return Array.isArray(a)?a.filter(y=>{const w=String((y==null?void 0:y.tipo)||(y==null?void 0:y.nome)||(y==null?void 0:y.categoria)||"").toLowerCase(),j=String((y==null?void 0:y.status)||(y==null?void 0:y.situacao)||"").toLowerCase(),C=String((y==null?void 0:y.descricao)||(y==null?void 0:y.observacoes)||"").toLowerCase();return!g||w.includes(g)||j.includes(g)||C.includes(g)}):[]},[a,r]),p=m.filter(g=>String((g==null?void 0:g.status)||(g==null?void 0:g.situacao)||"").toLowerCase()==="pendente"),v=m.filter(g=>["concluido","concludo","finalizado","realizado"].includes(String((g==null?void 0:g.status)||(g==null?void 0:g.situacao)||"").toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie exames do paciente"})]}),n.jsx(Km,{patientId:e,isPacienteView:!1,profile:l==null?void 0:l.user,patient:l,loading:d}),n.jsx(Wi,{tabs:h,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ns,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Te,{placeholder:"Buscar exames...",value:r,onChange:g=>t(g.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(qr,{children:[n.jsx(Vr,{className:"w-[180px]",children:n.jsx(Wr,{placeholder:"Tipo de exame"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"todos",children:"Todos"}),n.jsx(rt,{value:"imagem",children:"Imagem"}),n.jsx(rt,{value:"laboratorial",children:"Laboratorial"}),n.jsx(rt,{value:"outros",children:"Outros"})]})]}),n.jsxs(ve,{variant:"outline",children:[n.jsx(wr,{className:"mr-2 h-4 w-4"}),"Perodo"]}),n.jsxs(ve,{children:[n.jsx(gu,{className:"mr-2 h-4 w-4"}),"Solicitar Exame"]})]})]}),n.jsxs(zi,{defaultValue:"pendentes",children:[n.jsxs(qi,{children:[n.jsx(Ir,{value:"pendentes",children:"Pendentes"}),n.jsx(Ir,{value:"concluidos",children:"Concludos"}),n.jsx(Ir,{value:"todos",children:"Todos"})]}),n.jsx(Tr,{value:"pendentes",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Exames Pendentes"})}),n.jsx(Ue,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):p.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum exame pendente."}):p.map(g=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:g.tipo||g.nome||"Exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solicitado em ",g.data_agendamento?new Date(g.data_agendamento).toLocaleDateString():""]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"outline",size:"sm",children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Ver Solicitao"]}),g.pedido_pdf&&n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(pr,{to:g.pedido_pdf,target:"_blank",children:[n.jsx(vl,{className:"mr-2 h-4 w-4"}),"Baixar Pedido"]})})]})]},g.id))})})]})}),n.jsx(Tr,{value:"concluidos",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Exames Concludos"})}),n.jsx(Ue,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):v.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum exame concludo."}):v.map(g=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:g.tipo||g.nome||"Exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Concludo em ",g.data_agendamento?new Date(g.data_agendamento).toLocaleDateString():""]})]}),n.jsxs("div",{className:"flex gap-2",children:[g.resultado_pdf&&n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(pr,{to:g.resultado_pdf,target:"_blank",children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Resultado"]})}),g.resultado_pdf&&n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(pr,{to:g.resultado_pdf,target:"_blank",children:[n.jsx(vl,{className:"mr-2 h-4 w-4"}),"Baixar"]})})]})]},g.id))})})]})}),n.jsx(Tr,{value:"todos",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Todos os Exames"})}),n.jsx(Ue,{children:n.jsx("div",{className:"space-y-4",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):m.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum exame encontrado."}):m.map(g=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:g.tipo||g.nome||"Exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",g.status||g.situacao||""]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"outline",size:"sm",children:[n.jsx(rA,{className:"mr-2 h-4 w-4"}),"Detalhes"]}),g.resultado_pdf&&n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(pr,{to:g.resultado_pdf,target:"_blank",children:[n.jsx(vl,{className:"mr-2 h-4 w-4"}),"Baixar"]})})]})]},g.id))})})]})})]})]})}const n5={_summarizeLocal(e="",r={}){var k;const t=String(e||"").replace(/\r/g,"").trim(),a=F=>{const D=new RegExp(`(?:^|
)s*(?:${F.join("|")})s*[:]s*([sS]*?)(?=
s*(?:Queixa|Histria|Historia|Exame|Diagn[o]stico|Conduta|Prescri|Rx|Receita|Alergias|Orient[a]es|Observ[a]es|Retorno)s*[:]|$)`,"i"),_=t.match(D);return _?_[1].trim():""},s=a(["Queixa","Queixa Principal"])||((k=t.split(/\n\n|\n-/)[0])==null?void 0:k.slice(0,300))||"",i=a(["Histria","Historia","HDA","Histria da Doena Atual"])||"",o=a(["Diagnstico","Diagnostico"])||"",l=a(["Conduta","Plano","Plano Teraputico"])||"",A=a(["Prescrio","Prescricao","Receita","Rx"])||"";let d="",f="";const h=()=>{const F=[],D=t.split(/\n+/).map(Y=>Y.trim()).filter(Boolean),_=Y=>{(/\b(comprimid|c[a]psul|gota|spray|ml|mg|g|mcg)\b/i.test(Y)||/\b(vou\s+(te\s+)?(receitar|prescrever|indicar|recomendar))\b/i.test(Y)||/\b(associar|usar|tomar)\b.*\b(metoclopramida|ondansetrona|domperidona)\b/i.test(Y))&&F.push(Y)};if(D.forEach(_),!F.length){const Y=t.match(/(?:vou\s+(?:te\s+)?(?:receitar|prescrever|indicar|recomendar)\s+)([^\.;\n]+)/ig)||[];F.push(...Y.map(Z=>Z.trim()));const H=t.match(/(?:pode\s+associar|associar|usar|tomar)[^\n\.;]*(metoclopramida|ondansetrona|domperidona)[^\n\.;]*/ig)||[];F.push(...H.map(Z=>Z.trim()))}const G=Y=>{const H=Y.match(/(\d{1,2}\s*\/\s*\d{1,2})\s*h/i);if(H)return`de ${H[1].replace(/\s+/g,"").toUpperCase()}H`;const Z=Y.match(/a\s*cada\s*(\d{1,2})\s*h/i);if(Z)return`de ${Z[1]}/${Z[1]}H`.toUpperCase();const Ae=Y.match(/(\d{1,2})\s*(?:ou|\/)\s*(\d{1,2})\s*horas/i);if(Ae){const Q=parseInt(Ae[1],10);return`de ${Q}/${Q}H`.toUpperCase()}const ee=Y.match(/(\d)\s*x\s*ao\s*dia/i);if(ee){const Q=parseInt(ee[1],10);if(Q>0){const q=Math.round(24/Q);return`de ${q}/${q}H`.toUpperCase()}}return null},L=t.match(/n[a]o\s*pass(e|ar)\s*de\s*(\d+)\s*(comprimidos?|capsulas?)/i)||[],T=F.join(`
`).trim(),J=F.map(Y=>{const H=Y.match(/^([A-Za-z-0-9 .+\-]+?)(?:\s+\d+\s?(mg|ml|g|mcg)|\s*[-])/),Z=H?H[1].trim():Y.split(/\s+/).slice(0,3).join(" "),Ae=G(Y)||G(t)||"",ee=L.length?`Mx ${L[2]||L[1]} ${L[3]||"comprimidos"}/24H`:"",Q=[Ae,ee].filter(Boolean);return Q.length?`${Z} ${Q.join("; ")}`:""}).filter(Boolean),R=new Set;return[/\bbuscopan\s+composto\b/i,/\bmetoclopramida\b/i,/\bondansetrona\b/i,/\bdomperidona\b/i,/\bdipirona\b/i,/\bsumatriptan(a)?\b/i].forEach(Y=>{const H=t.match(Y);H&&R.add(H[0].replace(/\s+/g," ").trim())}),F.forEach(Y=>{const H=Y.match(/^([A-Za-z-0-9 .+\-]+?)(?:\s+\d+\s?(mg|ml|g|mcg)|\s*[-])/);H&&R.add(H[1].replace(/\s+/g," ").trim())}),{meds:Array.from(R).join(`
`)||T,poso:J.join(`
`)}};if(A){const F=A.split(/\n+/).map(_=>_.trim()).filter(Boolean);d=F.join(`
`);const D=F.map(_=>{const G=_.indexOf("");if(G>=0)return _.slice(G+1).trim();const L=_.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return L?(L[2]||"").trim():""}).filter(Boolean);D.length&&(f=D.join(`
`))}if(!d){const{meds:F,poso:D}=h();d=F||d,f=f||D}if(!d&&l){const F=(l.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[a]psul|gotas|spray).*/i)||[""])[0];F&&(d=F.trim(),f=f||"Conforme conduta descrita.")}try{t.match(/sumatriptan(a)?\b[^\n]*/i)&&(f="a cada 6h")}catch{}const m=F=>{const D=String(F||"").toLowerCase();let _=null,G=D.match(/a\s*cada\s*(\d{1,2})\s*h/)||D.match(/(\d{1,2})\s*\/\s*(\d{1,2})\s*h/)||null;if(G&&(_=parseInt(G[1],10)),!_){const L=D.match(/(\d)\s*x\s*ao\s*dia/);if(L){const T=parseInt(L[1],10);T>0&&(_=Math.round(24/T))}}if(!_){const L=D.match(/(\d{1,2})\s*h/);L&&(_=parseInt(L[1],10))}return _?`1 comprimido de ${_} em ${_} horas`:null},p=m(f)||m(t);p&&(f=p);const v=a(["Alergias"])||String((r==null?void 0:r.alergias)||"");let g="";try{/\benxaqueca\b/i.test(t)?g="Enxaqueca":/cefaleia\s+tensional/i.test(t)?g="Cefaleia tensional":/cefaleia\b/i.test(t)&&(g="Cefaleia")}catch{}let y="";try{const F=(t.match(/faz\s*(\d+)\s*dias?/i)||[null,null])[1],D=/fotofobia|luz\s*(est[a]\s*incomodando|incomoda)/i.test(t),_=/enjo(o|o)|n[a]usea/i.test(t),G=/pulsa(n|ndo)/i.test(t),L=(t.match(/(\d{2,3}\s*\/\s*\d{2,3})/i)||[null])[0],T=[];F&&T.push(`Dor h ${F} dias`),G&&T.push("sensao pulstil"),D&&T.push("fotofobia"),_&&T.push("nusea/enjoo"),L&&T.push(`PA ${L}`),y=T.join(", ")}catch{}let w="";try{const F=[];/evit(ar|e)\s*(telas|computador|celular)/i.test(t)&&F.push("evitar telas"),/descans(ar|e)/i.test(t)&&F.push("descansar em ambiente escuro"),/beb(er|a)\s*(bastante\s*)?\s*\s*[a]gua/i.test(t)&&F.push("hidratao"),F.length&&(w=F.join("; "))}catch{}const j=(t.match(/(PA|press[a]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",C=(t.match(/(FC|freq[u]ncia\s*card[i]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",E=(t.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:?c|celsius)?/i)||["","","",""])[3]||"",U=(t.match(/(sat|satura[c][a]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:s||String((r==null?void 0:r.queixa)||""),historia_doenca_atual:i||y||String((r==null?void 0:r.historia_doenca_atual)||(r==null?void 0:r.historia)||""),diagnostico_principal:o||g||String((r==null?void 0:r.diagnostico_principal)||(r==null?void 0:r.diagnostico)||""),conduta:l||w||String((r==null?void 0:r.conduta)||""),medicamentos:d||String((r==null?void 0:r.medicamentos)||""),posologia:f||String((r==null?void 0:r.posologia)||""),alergias:String(v||""),pressao:j,frequencia_cardiaca:C,temperatura:E,saturacao:U}},_extractEntitiesLocal(e="",r={}){const t=this._summarizeLocal(e,r),a=String(e||"").replace(/\r/g,"").trim(),s=w=>{const j=new RegExp(`(?:^|
)s*(?:${w.join("|")})s*[:]s*([sS]*?)(?=
s*(?:Queixa|Histria|Historia|Exame|Diagn[o]stico|Conduta|Prescri|Rx|Receita|Alergias|Sintomas|Orient[a]es|Observ[a]es|Retorno|Exames)s*[:]|$)`,"i"),C=a.match(j);return C?C[1].trim():""},i=s(["Sintomas"])||"",o=s(["Orientaes","Orientacoes"])||"",l=s(["Observaes","Observacoes"])||"",A=s(["Exames"])||"",d=t.alergias||s(["Alergias"])||"",f=i?i.split(/[,\n;]+/).map(w=>w.trim()).filter(Boolean):[],h=o?o.split(/\n+/).map(w=>w.trim()).filter(Boolean):[],m=d?d.split(/[,\n;]+/).map(w=>w.trim()).filter(Boolean):[],p=A?A.split(/[,\n;]+/).map(w=>w.trim()).filter(Boolean):[],v=[];t.medicamentos&&v.push(...String(t.medicamentos).split(/\n+/));const g=v.map(w=>String(w).trim()).filter(w=>/\b(mg|ml|g|mcg|comprimid|capsul|gota|spray)\b/i.test(w)).map(w=>({nome:w.split(/\s+/)[0]||"",dosagem:(w.match(/\b\d+\s?(mg|ml|g|mcg)\b/i)||[""])[0],frequencia:(w.match(/\b(\d+x\s*ao\s*d[i]a|\d+x\/dia|[a] cada \d+ h)\b/i)||[""])[0],duracao:(w.match(/\bpor\s*\d+\s*(dias?|semanas?|meses?)\b/i)||[""])[0],via:(w.match(/\b(via\s*oral|vo|im|ev)\b/i)||[null])[0],observacoes:w}));return{paciente:{nome:"",idade:null,sexo:null},diagnostico:t.diagnostico_principal||"",sintomas:f,medicamentos:g,orientacoes:h,observacoes:l||t.conduta||"",sinais_vitais:{pressao:t.pressao||"",frequencia_cardiaca:t.frequencia_cardiaca||"",temperatura:t.temperatura||"",saturacao:t.saturacao||""},alergias:m,exames:p,retorno:null}},async sumarizarTranscricao(e,r={},t={}){return this._summarizeLocal(e,r)},async extrairEntidades(e,r={}){return this._extractEntitiesLocal(e,r)}};function tX(){const{id:e}=zo(),r=Kn(),t=ns(),[a,s]=b.useState(!1),{toast:i}=Va(),[o,l]=b.useState(!1),[A,d]=b.useState({queixa:"",historia:"",medicamentos:"",alergias:"",pressao:"","frequencia-cardiaca":"",temperatura:"",saturacao:"","exame-geral":"","sistema-cardiovascular":"","sistema-respiratorio":"",diagnostico:"",conduta:"",exames:"",retorno:"",transcrito:""}),[f,h]=b.useState("anamnese"),m=async()=>{var K,z;try{const se=String(A.medicamentos||"").trim();if(!se){i({title:"Sem medicamentos",description:"Preencha os medicamentos em uso para notificar o paciente.",variant:"destructive"});return}await ou.enviarNotificacaoInterna({pacienteId:e,titulo:"Atualizao de medicamentos",mensagem:`Seus medicamentos em uso foram atualizados pelo mdico.

Lista: ${se.substring(0,500)}`,tipo:"medicamento",dados:{origem:"prontuario",paciente_id:e},prioridade:"alta"}),i({title:"Notificao enviada",description:"O paciente foi notificado sobre os medicamentos."})}catch(se){const fe=((z=(K=se==null?void 0:se.response)==null?void 0:K.data)==null?void 0:z.detail)||(se==null?void 0:se.message)||"Falha ao enviar notificao";i({title:"Erro",description:fe,variant:"destructive"})}},p=K=>{const{id:z,value:se}=K.target;d(fe=>({...fe,[z]:se}))},g=new URLSearchParams(t.search).get("consultaId"),[y,w]=b.useState(""),[j,C]=b.useState(!1),[E,U]=b.useState(""),[k,F]=b.useState("unknown"),D=b.useRef(null),_=b.useRef(-1),[G,L]=b.useState(""),T=b.useRef(!1),J=b.useMemo(()=>`iniciar-consulta:${e}:${g||"sem-consulta"}`,[e,g]),R=b.useRef("");b.useEffect(()=>{R.current=G},[G]),b.useEffect(()=>{d(K=>({...K,transcrito:y||""}))},[y]);const[re,V]=b.useState(null),[Y,H]=b.useState(!1),[Z,Ae]=b.useState("");b.useEffect(()=>{let K;return(async()=>{try{navigator.permissions&&navigator.permissions.query&&(K=await navigator.permissions.query({name:"microphone"}),F(K.state||"unknown"),K.onchange=()=>F(K.state||"unknown"))}catch{}})(),()=>{K&&(K.onchange=null)}},[]);const ee=async()=>{U("");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(z=>z.stop()),F("granted"),!0}catch(K){const z=K&&(K.name||K.message)||"Permisso de microfone negada";return U(typeof z=="string"?z:"Falha ao acessar microfone"),F("denied"),!1}};b.useEffect(()=>{const K=(t.hash||"").toLowerCase(),se={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"}[K];se&&h(se);const fe={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"},be=(Be=0)=>{const Qe=fe[K],xe=document.getElementById(Qe)||document.getElementById(K.replace(/^#/,""));if(xe){try{xe.scrollIntoView({behavior:"smooth",block:"start"})}catch{}return}Be<10&&setTimeout(()=>be(Be+1),80)};K&&setTimeout(()=>be(0),50)},[t.hash]),b.useEffect(()=>{const z={anamnese:"#anamnese","exame-fisico":"#exame-fisico",diagnostico:"#problems_and_diagnostics"}[f];if(z&&(t.hash||"")!==z)try{r(`${t.pathname}${z}`,{replace:!0})}catch{}},[f]),b.useEffect(()=>{let K=!0;return(async()=>{var z;try{const se="/api/pacientes/".replace(/\/?$/,"/"),{data:fe}=await we.get(`${se}${e}/`);if(!K)return;V(fe);const be=(fe==null?void 0:fe.alergias)||"";be&&!A.alergias&&d(Be=>({...Be,alergias:be}))}catch(se){console.debug("[IniciarConsulta] Falha ao buscar paciente por id:",(z=se==null?void 0:se.response)==null?void 0:z.status)}})(),()=>{K=!1}},[e]),b.useEffect(()=>{try{w("")}catch{}return Q(),(async()=>{try{g&&(Kt!=null&&Kt.iniciarConsulta)&&await Kt.iniciarConsulta(g)}catch(K){console.debug("[IniciarConsulta] Falha ao marcar incio da consulta:",K==null?void 0:K.message)}})(),()=>{q()}},[]);const Q=async()=>{try{if(!await ee()){C(!1),T.current=!1;return}if(D.current){try{D.current.onend=null,D.current.onresult=null,D.current.onerror=null,D.current.stop()}catch{}D.current=null}const K=window.SpeechRecognition||window.webkitSpeechRecognition;if(!K){console.warn("Reconhecimento de fala no suportado neste navegador."),U("Seu navegador no suporta reconhecimento de fala."),C(!1);return}const z=new K;z.lang="pt-BR",z.continuous=!0,z.interimResults=!0,z.maxAlternatives=1,_.current=-1,z.onresult=se=>{let fe="",be="";for(let Be=se.resultIndex;Be<se.results.length;Be++){const Qe=se.results[Be],xe=Array.from(Qe,ie=>ie.transcript).join("");Qe.isFinal?fe+=xe+" ":be+=xe}if(fe){const Be=fe.trim();w(Qe=>{const xe=Qe?Qe.endsWith(" ")?Qe:Qe+" ":"";return Be&&xe.endsWith(Be)?Qe:(xe+Be).trim()})}L(be)},z.onerror=se=>{const fe=(se==null?void 0:se.error)||se;if(console.warn("Erro no reconhecimento de fala:",fe),typeof fe=="string"&&U(fe),["audio-capture","network"].includes(fe)&&T.current&&D.current===z)try{z.stop()}catch{}fe==="not-allowed"&&(C(!1),T.current=!1)},z.onend=()=>{const se=D.current===z,fe=(R.current||"").trim();fe&&w(be=>{const Be=be?be.endsWith(" ")?be:be+" ":"";return Be.endsWith(fe)?be:(Be+fe).trim()}),L(""),_.current=-1,T.current&&se&&setTimeout(()=>{try{z.start()}catch{}},200)},D.current=z,T.current=!0,C(!0);try{z.start()}catch(se){console.warn("Falha ao iniciar reconhecimento:",se),C(!1),T.current=!1,D.current=null,U("Falha ao iniciar reconhecimento de fala.");return}}catch(K){console.warn("Falha ao iniciar reconhecimento de fala:",K),C(!1),T.current=!1,U("Falha inesperada ao iniciar microfone.")}},q=async()=>{try{C(!1),T.current=!1,L(""),D.current&&(D.current.onend=null,D.current.onresult=null,D.current.onerror=null,D.current.stop(),D.current=null)}catch{}if((y||"").trim().length>0&&!o&&g)try{const z=$(y||""),se=await Kt.finalizarConsultaIA(g,{transcript:y||"",extracted:{queixa:z.queixa||"",historia:z.historia||"",diagnostico:z.diagnostico||"",conduta:z.conduta||"",medicamentos:z.medicamentos||"",posologia:z.posologia||"",pressao:z.pressao||"",frequencia_cardiaca:z["frequencia-cardiaca"]||z.frequencia||"",temperatura:z.temperatura||"",saturacao:z.saturacao||""},form:{queixa_principal:A.queixa||"",historia_doenca_atual:A.historia||"",diagnostico_principal:A.diagnostico||"",conduta:A.conduta||"",medicamentos_uso:A.medicamentos||"",alergias:A.alergias||"",pressao:A.pressao||"",frequencia_cardiaca:A.frequencia||A["frequencia-cardiaca"]||"",temperatura:A.temperatura||"",saturacao:A.saturacao||""}}),fe=[se,se==null?void 0:se.data,se==null?void 0:se.result,se==null?void 0:se.output,se==null?void 0:se.summary,se==null?void 0:se.sumarizacao,se==null?void 0:se.resumo,se==null?void 0:se.fields].filter(Boolean),be=(xe,ie)=>ie.split(".").reduce((at,gt)=>at&&at[gt]!=null?at[gt]:void 0,xe),Be=xe=>{for(const ie of fe)for(const at of xe){const gt=be(ie,at);if(typeof gt=="string"&&gt.trim())return gt.trim()}return""},Qe={queixa:A.queixa||Be(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||z.queixa||"",historia:A.historia||Be(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||z.historia||"",medicamentos:A.medicamentos||Be(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||z.medicamentos||"",alergias:A.alergias||Be(["alergias","anamnese.alergias","allergies"])||"",diagnostico:A.diagnostico||Be(["diagnostico_principal","diagnostico","diagnosis","assessment"])||z.diagnostico||"",conduta:A.conduta||Be(["conduta","plano","plan","plan_terapeutico"])||z.conduta||"",posologia:A.posologia||Be(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||z.posologia||"",pressao:A.pressao||Be(["pressao","sinais_vitais.pressao"])||z.pressao||"","frequencia-cardiaca":A["frequencia-cardiaca"]||A.frequencia||Be(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca","fc","heart_rate"])||z["frequencia-cardiaca"]||z.frequencia||"",temperatura:A.temperatura||Be(["temperatura","sinais_vitais.temperatura"])||z.temperatura||"",saturacao:A.saturacao||Be(["saturacao","sinais_vitais.saturacao","spo2"])||z.saturacao||""};try{const{cleanGreeting:xe}=await ui(async()=>{const{cleanGreeting:ie}=await Promise.resolve().then(()=>$T);return{cleanGreeting:ie}},void 0);Qe.queixa=xe(Qe.queixa)}catch{}d(xe=>({...xe,...Qe})),l(!0),i({title:"Resumo aplicado",description:"Pr-preenchimento realizado a partir da transcrio."})}catch(z){console.debug("[auto-sumarizar] falhou:",z==null?void 0:z.message)}};function $(K=""){let z=String(K||"").replace(/\r/g,"").trim();z=z.split(/\n+/).map(Lt=>Lt.replace(/^[\-\*\s]+/,"").trim()).filter(Boolean).join(`
`),z=z.replace(/(?:^|[.!?])\s*(Ao exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Exame Fsico|Exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Diagnstico(?: Principal)?)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Conduta)(?!\s*[:])/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Prescrio|Prescricao|Receita|Rx)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Histria da Doena Atual|HDA|Histria|Historia)\s*:/gi,`
$1:`);const se=["Queixa","Queixa Principal","Histria","Historia","HDA","Histria da Doena Atual","Exame","Exame Fsico","Ao exame","Diagnstico","Diagnostico","Diagnstico Principal","Conduta","Plano","Plano Teraputico","Prescrio","Prescricao","Receita","Rx","Alergias","Orientaes","Orientacoes","Observaes","Observacoes","Exames","Retorno"],fe=Lt=>{const _t=Lt.join("|"),wt=se.join("|"),Bt=new RegExp(`(?:^|
)s*(?:${_t})(?:[^
:]{0,50})?s*[:]s*([sS]*?)(?=s*(?:${wt})s*[:]|$)`,"i"),St=z.match(Bt);return St?St[1].trim():""},be=fe(["Queixa","Queixa Principal"])||z.split(/\n\n|\n-/)[0]||"",Be=be.toLowerCase().trim();let Qe=be;const xe=["bom dia","boa tarde","boa noite","tudo bem","o que","ol","ola","oi"];if(Be.length<200&&xe.some(Lt=>Be.includes(Lt))&&(Qe=Qe.replace(/^[\-\*\s]+/,"").replace(/^(bom dia|boa tarde|boa noite)/i,"").replace(/tudo bem\??/i,"").trim()),!Qe||/^(bom dia|boa tarde|boa noite)/i.test(Qe)){const Lt=(z.split(/\n+/).find(_t=>/(dor|febre|tosse|dispneia|diarreia|enjoo|nusea|les[a]o|mancha|incha[c][a]o)/i.test(_t))||"").trim();Lt&&(Qe=Lt)}Qe=Qe.slice(0,300);const ie=fe(["Histria da Doena Atual","HDA","Histria","Historia"])||"",at=fe(["Diagnstico Principal","Diagnstico","Diagnostico"])||"",gt=fe(["Conduta","Plano","Plano Teraputico"])||"",it=fe(["Prescrio","Prescricao","Receita","Rx"])||"";let Ee="",dt="";const ct=z.match(/alergi[ao]\s*(?:a||ao)?\s*([^\n]+)/i),Wt=ct?ct[1].replace(/^[\-\*\s]+/,"").trim():"";if(it){const Lt=it.split(/\n+/).map(wt=>wt.trim()).filter(wt=>wt&&!/alerg/i.test(wt));Ee=Lt.map(wt=>wt.replace(/^s[o]\s+tomo\s+/i,"").replace(/^apenas\s+/i,"").replace(/^s[o]\s+uso\s+/i,"").trim()).filter(Boolean).join(`
`);const _t=Lt.map(wt=>{const Bt=wt.indexOf("");if(Bt>=0)return wt.slice(Bt+1).trim();const St=wt.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return St?(St[2]||"").trim():""}).filter(Boolean);_t.length&&(dt=_t.join(`
`))}if(!Ee&&gt){const Lt=(gt.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[a]psul|gotas|spray).*/i)||[""])[0];Lt&&(Ee=Lt.trim(),dt="Conforme conduta descrita.")}if(!Ee){const Lt=z.split(/\n+/).filter(_t=>/\b(tomo|uso|fa[c]o uso|em uso|utiliza|usa)\b/i.test(_t)&&!/alerg/i.test(_t));if(Lt.length){Ee=Lt.map(wt=>wt.replace(/^[\-\*\s]+/,"").replace(/^s[o]\s+tomo\s+/i,"").replace(/^apenas\s+/i,"").replace(/^s[o]\s+uso\s+/i,"").trim()).join(`
`);const _t=Lt.map(wt=>{const Bt=wt.indexOf("");if(Bt>=0)return wt.slice(Bt+1).trim();const St=wt.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return St?(St[2]||"").trim():""}).filter(Boolean);_t.length&&(dt=_t.join(`
`))}}const Et=(z.match(/(PA|press[a]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",Ut=(z.match(/(FC|freq[u]ncia\s*card[i]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",Mt=(z.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:?c|celsius)?/i)||["","","",""])[3]||"",Gt=(z.match(/(sat|satura[c][a]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:Qe,historia:ie,diagnostico:at,conduta:gt,medicamentos:Ee,posologia:dt,pressao:Et,"frequencia-cardiaca":Ut,temperatura:Mt,saturacao:Gt,alergias:Wt}}const X=async()=>{const K=(Z||"").trim();if(!K){H(!1);return}const z=(A.alergias||"").trim(),se=z?`${z}
${K}`:K;d(fe=>({...fe,alergias:se}));try{re!=null&&re.id&&(Kt!=null&&Kt.atualizarPacienteById)&&(await Kt.atualizarPacienteById(re.id,{alergias:se}),i({title:"Alergia adicionada",description:"Atualizamos o cadastro do paciente."}))}catch(fe){console.debug("Falha ao atualizar alergias do paciente:",fe==null?void 0:fe.message),i({title:"No foi possvel salvar no cadastro",description:"A alergia foi adicionada ao formulrio apenas.",variant:"destructive"})}finally{Ae(""),H(!1)}},te=async K=>{var se,fe;K.preventDefault(),s(!0);try{q()}catch{}const z=$(y||"");try{let be=null;if(!o)if(g){let ie=null;try{ie=await Kt.finalizarConsultaIA(g,{transcript:y||"",extracted:{queixa:z.queixa||"",historia:z.historia||"",diagnostico:z.diagnostico||"",conduta:z.conduta||"",medicamentos:z.medicamentos||"",posologia:z.posologia||""},form:{queixa_principal:A.queixa||"",historia_doenca_atual:A.historia||"",diagnostico_principal:A.diagnostico||"",conduta:A.conduta||"",medicamentos_uso:A.medicamentos||"",alergias:A.alergias||""}})}catch(Ut){console.warn("Falha ao enviar dados para sumarizao:",Ut)}if(!ie)try{ie=await n5.sumarizarTranscricao(y||"",{queixa:z.queixa||"",historia_doenca_atual:z.historia||"",diagnostico_principal:z.diagnostico||"",conduta:z.conduta||"",medicamentos:z.medicamentos||"",posologia:z.posologia||"",alergias:A.alergias||""},{systemPrompt:`Aja como um Especialista em Triagem Mdica e Extrao de Dados (Scribe).
Receba a transcrio e retorne APENAS JSON estrito com os campos: queixa, historia_doenca_atual, diagnostico_principal, conduta, medicamentos, posologia, alergias, pressao, frequencia_cardiaca, temperatura, saturacao.
Regras: deduza papis (mdico/paciente), ignore saudaes e rudo, identifique medicamentos com dosagem e frequncia. Campos ausentes devem ser "".`})}catch(Ut){console.debug("[AI] Gemini indisponvel:",Ut==null?void 0:Ut.message)}const at=[ie,ie==null?void 0:ie.data,ie==null?void 0:ie.result,ie==null?void 0:ie.output,ie==null?void 0:ie.summary,ie==null?void 0:ie.sumarizacao,ie==null?void 0:ie.resumo,ie==null?void 0:ie.fields].filter(Boolean),gt=(Ut,Mt)=>{try{return Mt.split(".").reduce((Gt,Lt)=>Gt&&Gt[Lt]!==void 0?Gt[Lt]:void 0,Ut)}catch{return}},it=Ut=>{for(const Mt of at)for(const Gt of Ut){const Lt=gt(Mt,Gt);if(Lt!=null){const _t=String(Lt).trim();if(_t)return _t}}return""},Ee={queixa:A.queixa||it(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||z.queixa||"",historia:A.historia||it(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||z.historia||"",medicamentos:A.medicamentos||it(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||z.medicamentos||"",alergias:A.alergias||it(["alergias","anamnese.alergias","allergies"])||z.alergias||"",diagnostico:A.diagnostico||it(["diagnostico_principal","diagnostico","diagnosis","assessment"])||z.diagnostico||"",conduta:A.conduta||it(["conduta","plano","plan","plan_terapeutico"])||z.conduta||"",posologia:A.posologia||it(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||z.posologia||"",pressao:A.pressao||it(["pressao","sinais_vitais.pressao"])||z.pressao||"","frequencia-cardiaca":A["frequencia-cardiaca"]||it(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca"])||z["frequencia-cardiaca"]||"",temperatura:A.temperatura||it(["temperatura","sinais_vitais.temperatura"])||z.temperatura||"",saturacao:A.saturacao||it(["saturacao","sinais_vitais.saturacao"])||z.saturacao||""};be=Ee,d(Ut=>({...Ut,...Ee})),l(!0),i({title:"Resumo aplicado",description:"Campos preenchidos com a sugesto da IA. Revise e confirme o resumo."});const dt=new Date,ct=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate()+7),Wt=Ut=>String(Ut).padStart(2,"0"),Et=`${ct.getFullYear()}-${Wt(ct.getMonth()+1)}-${Wt(ct.getDate())}`;r(`/medico/paciente/${e}/consulta/resumo`,{state:{resumo:{queixa:be.queixa||"",historia:be.historia||"",diagnostico:be.diagnostico||"",conduta:be.conduta||"",medicamentos:be.medicamentos||"",posologia:be.posologia||"",validade:Et},consultaId:g}}),s(!1);return}else try{const ie=await n5.sumarizarTranscricao(y||"",{queixa_principal:z.queixa||A.queixa||"",historia_doenca_atual:z.historia||A.historia||"",diagnostico_principal:z.diagnostico||A.diagnostico||"",conduta:z.conduta||A.conduta||"",medicamentos:z.medicamentos||A.medicamentos||"",posologia:z.posologia||A.posologia||"",alergias:A.alergias||z.alergias||""},{systemPrompt:`Aja como um Especialista em Triagem Mdica e Extrao de Dados (Scribe).
Retorne APENAS JSON com: queixa, historia_doenca_atual, diagnostico_principal, conduta, medicamentos, posologia, alergias, pressao, frequencia_cardiaca, temperatura, saturacao.
Ignore saudaes. Deduza papis. Unifique medicamentos com dosagem e frequncia. Campos no mencionados = "".`}),at=[ie,ie==null?void 0:ie.data,ie==null?void 0:ie.result,ie==null?void 0:ie.output,ie==null?void 0:ie.summary,ie==null?void 0:ie.sumarizacao,ie==null?void 0:ie.resumo,ie==null?void 0:ie.fields].filter(Boolean),gt=(Ut,Mt)=>{try{return Mt.split(".").reduce((Gt,Lt)=>Gt&&Gt[Lt]!==void 0?Gt[Lt]:void 0,Ut)}catch{return}},it=Ut=>{for(const Mt of at)for(const Gt of Ut){const Lt=gt(Mt,Gt);if(Lt!=null){const _t=String(Lt).trim();if(_t)return _t}}return""},Ee={queixa:A.queixa||it(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||z.queixa||"",historia:A.historia||it(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||z.historia||"",medicamentos:A.medicamentos||it(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||z.medicamentos||"",alergias:A.alergias||it(["alergias","anamnese.alergias","allergies"])||z.alergias||"",diagnostico:A.diagnostico||it(["diagnostico_principal","diagnostico","diagnosis","assessment"])||z.diagnostico||"",conduta:A.conduta||it(["conduta","plano","plan","plan_terapeutico"])||z.conduta||"",posologia:A.posologia||it(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||z.posologia||""};be=Ee,d(Ut=>({...Ut,...Ee})),l(!0),i({title:"Campos sugeridos",description:"Usamos a transcrio e a IA para preencher. Revise e confirme o resumo."});const dt=new Date,ct=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate()+7),Wt=Ut=>String(Ut).padStart(2,"0"),Et=`${ct.getFullYear()}-${Wt(ct.getMonth()+1)}-${Wt(ct.getDate())}`;r(`/medico/paciente/${e}/consulta/resumo`,{state:{resumo:{queixa:be.queixa||"",historia:be.historia||"",diagnostico:be.diagnostico||"",conduta:be.conduta||"",medicamentos:be.medicamentos||"",posologia:be.posologia||"",validade:Et},consultaId:g}}),s(!1);return}catch{const at={queixa:A.queixa||z.queixa||"",historia:A.historia||z.historia||"",diagnostico:A.diagnostico||z.diagnostico||"",conduta:A.conduta||z.conduta||"",medicamentos:A.medicamentos||z.medicamentos||"",posologia:A.posologia||z.posologia||""};be=at,d(gt=>({...gt,...at})),l(!0),i({title:"Campos sugeridos",description:"Usamos a transcrio para preencher. Revise e clique em 'Salvar Pronturio'."}),s(!1);return}const Be=await Kt.processarTranscricaoConsulta({texto:y||`${source.queixa||""}
${source.historia||""}
${source.diagnostico||""}
${source.conduta||""}`,consultaId:g,pacienteId:e}),Qe=(Be==null?void 0:Be.receita_id)||((se=Be==null?void 0:Be.receita)==null?void 0:se.id)||(Be==null?void 0:Be.id),xe=(Be==null?void 0:Be.consulta_id)||((fe=Be==null?void 0:Be.consulta)==null?void 0:fe.id)||null;try{localStorage.removeItem(J)}catch{}r(`/medico/paciente/${e}/receita/preview`,{state:{receitaId:Qe,consultaId:g,fromConsulta:{consultaId:g}}})}catch(be){console.error("Erro ao salvar pronturio/consulta:",be);const Be=new Date,Qe=new Date(Be.getFullYear(),Be.getMonth(),Be.getDate()+7),xe=Wt=>String(Wt).padStart(2,"0"),ie=`${Qe.getFullYear()}-${xe(Qe.getMonth()+1)}-${xe(Qe.getDate())}`,at=A.medicamentos||z.medicamentos||"",gt=A.posologia||z.posologia||"",it=A.diagnostico||z.diagnostico||"",Ee=A.conduta||z.conduta||"",dt=A.queixa||z.queixa||"",ct=A.historia||z.historia||"";r(`/medico/paciente/${e}/consulta/resumo`,{state:{resumo:{medicamentos:at,posologia:gt,validade:ie,diagnostico:it,conduta:Ee,queixa:dt,historia:ct},consultaId:g}})}finally{s(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nova Consulta"}),n.jsxs("p",{className:"text-muted-foreground",children:["Paciente ID: ",e,g?`  Consulta #${g}`:""]})]}),n.jsx(Km,{patientId:e,isPacienteView:!1,profile:re==null?void 0:re.user,patient:re,loading:!re}),n.jsxs(ke,{children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsx(Ge,{children:"Transcrio de udio (tempo real)"}),n.jsx(gr,{children:"Fale normalmente; o texto aparecer abaixo e pode ser editado."}),E&&n.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Microfone: ",E]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`flex items-center gap-1 text-sm ${j?"text-green-600":"text-muted-foreground"}`,children:[n.jsx($6,{className:`h-4 w-4 ${j?"animate-pulse":""}`}),j?"Ouvindo":"Pausado"]}),j?n.jsxs(ve,{type:"button",variant:"outline",size:"sm",onClick:q,children:[n.jsx(rI,{className:"h-4 w-4 mr-2"})," Pausar"]}):n.jsxs(ve,{type:"button",variant:"default",size:"sm",onClick:Q,children:[n.jsx(aI,{className:"h-4 w-4 mr-2"})," Retomar"]}),n.jsx(ve,{type:"button",variant:"outline",size:"sm",onClick:ee,children:"Testar microfone"}),n.jsx(ve,{type:"button",variant:"outline",size:"sm",onClick:()=>{q(),setTimeout(()=>Q(),250)},children:"Resetar microfone"})]})]}),n.jsx(Ue,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"transcript",children:"Resumo em tempo real"}),n.jsx(oa,{id:"transcript",placeholder:"O que voc ditar ser transcrito aqui. Voc pode editar livremente.",className:"min-h-[160px]",value:y,onChange:K=>w(K.target.value)}),G&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1","aria-live":"polite",children:["Ditando: ",G]})]})})]}),n.jsxs("form",{onSubmit:te,children:[n.jsxs(zi,{value:f,onValueChange:h,className:"space-y-4",children:[n.jsxs(qi,{children:[n.jsxs(Ir,{value:"anamnese",className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-4 w-4"}),"Anamnese"]}),n.jsxs(Ir,{value:"exame-fisico",className:"flex items-center gap-2",children:[n.jsx(rA,{className:"h-4 w-4"}),"Exame Fsico"]}),n.jsxs(Ir,{value:"diagnostico",className:"flex items-center gap-2",children:[n.jsx(hn,{className:"h-4 w-4"}),"Diagnstico"]})]}),n.jsx(Tr,{value:"anamnese",children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Anamnese"}),n.jsx(gr,{children:"Registre a queixa principal e o histrico do paciente"})]}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"transcrito",children:"Texto Transcrito"}),n.jsx(oa,{id:"transcrito",placeholder:"Texto completo capturado da conversa",className:"min-h-[120px]",value:A.transcrito,readOnly:!0,disabled:!0,"aria-readonly":"true"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"queixa",children:"Queixa Principal"}),n.jsx(oa,{id:"queixa",placeholder:"Descreva a queixa principal do paciente",className:"min-h-[100px]",value:A.queixa,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"historia",children:"Histria da Doena Atual"}),n.jsx(oa,{id:"historia",placeholder:"Descreva a histria da doena atual",className:"min-h-[150px]",value:A.historia,onChange:p})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"medicamentos",children:"Medicamentos em Uso"}),n.jsx(oa,{id:"medicamentos",placeholder:"Liste os medicamentos em uso",className:"min-h-[100px]",value:A.medicamentos,onChange:p}),n.jsx("div",{className:"mt-2 flex gap-2",children:n.jsx(ve,{type:"button",variant:"secondary",size:"sm",onClick:m,children:"Notificar paciente"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"alergias",children:"Alergias"}),n.jsx(oa,{id:"alergias",placeholder:"Liste as alergias conhecidas",className:"min-h-[100px]",value:A.alergias,onChange:p}),n.jsx("div",{className:"mt-2",children:n.jsx(ve,{type:"button",variant:"outline",size:"sm",onClick:()=>H(!0),children:"Adicionar alergia"})})]})]})]})]})}),n.jsx(Tr,{value:"exame-fisico",children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Exame Fsico"}),n.jsx(gr,{children:"Registre os dados do exame fsico do paciente"})]}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pressao",children:"Presso Arterial"}),n.jsx(Te,{id:"pressao",placeholder:"Ex: 120/80 mmHg",value:A.pressao,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"frequencia-cardiaca",children:"Freq. Cardaca"}),n.jsx(Te,{id:"frequencia-cardiaca",placeholder:"Ex: 75 bpm",value:A["frequencia-cardiaca"],onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"temperatura",children:"Temperatura"}),n.jsx(Te,{id:"temperatura",placeholder:"Ex: 36.5 C",value:A.temperatura,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"saturacao",children:"Saturao O2"}),n.jsx(Te,{id:"saturacao",placeholder:"Ex: 98%",value:A.saturacao,onChange:p})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"exame-geral",children:"Exame Geral"}),n.jsx(oa,{id:"exame-geral",placeholder:"Descreva o estado geral do paciente",className:"min-h-[100px]",value:A["exame-geral"],onChange:p})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"sistema-cardiovascular",children:"Sistema Cardiovascular"}),n.jsx(oa,{id:"sistema-cardiovascular",placeholder:"Descreva os achados cardiovasculares",className:"min-h-[100px]",value:A["sistema-cardiovascular"],onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"sistema-respiratorio",children:"Sistema Respiratrio"}),n.jsx(oa,{id:"sistema-respiratorio",placeholder:"Descreva os achados respiratrios",className:"min-h-[100px]",value:A["sistema-respiratorio"],onChange:p})]})]})]})]})}),n.jsx(Tr,{value:"diagnostico",id:"problems_and_diagnostics",children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Diagnstico e Conduta"}),n.jsx(gr,{children:"Registre o diagnstico e plano teraputico"})]}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"diagnostico",children:"Diagnstico"}),n.jsx(oa,{id:"diagnostico",placeholder:"Descreva o diagnstico principal e diferenciais",className:"min-h-[100px]",value:A.diagnostico,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"conduta",children:"Conduta"}),n.jsx(oa,{id:"conduta",placeholder:"Descreva a conduta teraputica",className:"min-h-[150px]",value:A.conduta,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"exames",children:"Exames Solicitados"}),n.jsx(oa,{id:"exames",placeholder:"Liste os exames solicitados",className:"min-h-[100px]",value:A.exames,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"retorno",children:"Retorno"}),n.jsx(ms,{id:"retorno",name:"retorno",className:"max-w-xs",value:A.retorno,onChange:K=>p({target:{name:"retorno",value:K}}),minDate:new Date})]})]})]})})]}),n.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-10 border-t bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>r(-1),children:"Cancelar"}),n.jsx(ve,{type:"submit",disabled:a,children:a?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(P1,{className:"mr-2 h-4 w-4"}),o?"Salvar Pronturio":"Finalizar e Preencher com IA"]})})]})})]}),n.jsx(fA,{open:Y,onOpenChange:H,children:n.jsxs(dc,{children:[n.jsxs(uc,{children:[n.jsx(fc,{children:"Adicionar alergia"}),n.jsx(Tm,{children:"Informe a alergia para adicionar ao pronturio (e ao cadastro do paciente)."})]}),n.jsxs("div",{className:"space-y-2 py-2",children:[n.jsx(Fe,{htmlFor:"nova-alergia",children:"Alergia"}),n.jsx(Te,{id:"nova-alergia",placeholder:"Ex.: poeira, frutos do mar",value:Z,onChange:K=>Ae(K.target.value)})]}),n.jsxs(hA,{children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>{H(!1),Ae("")},children:"Cancelar"}),n.jsx(ve,{type:"button",onClick:X,children:"Salvar"})]})]})})]})}function Ek(){const e=new Date,r=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${r}-${t}`}function rX(e){if(!e)return"";const r=String(e).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(r){const[,t,a,s]=r;return`${s}/${a}/${t}`}try{return new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return e}}function aX(e){return(e===Ek()?Kt.getConsultasHoje():Kt.getConsultasDoMedico({date:e})).then(a=>{const i=(o=>Array.isArray(o)?o:!o||typeof o!="object"?[]:Array.isArray(o.results)?o.results:Array.isArray(o.data)?o.data:Array.isArray(o.items)?o.items:Array.isArray(o.consultas)?o.consultas:Array.isArray(o.content)?o.content:Array.isArray(o.objects)?o.objects:[])(a);return Array.isArray(i)?i.map(o=>{var p,v,g,y,w;const l=((p=o==null?void 0:o.paciente)==null?void 0:p.user)||{},A=[l.first_name,l.last_name].filter(Boolean).join(" ")||((v=o==null?void 0:o.paciente)==null?void 0:v.nome)||(o==null?void 0:o.paciente_nome)||(o==null?void 0:o.nome_paciente)||"Paciente";let d="";const f=(o==null?void 0:o.data_hora)||(o==null?void 0:o.horario)||(o==null?void 0:o.inicio)||(o==null?void 0:o.start_time)||(o==null?void 0:o.data)||(o==null?void 0:o.inicio_previsto);if(f)try{const j=new Date(f);if(!isNaN(j.getTime()))d=j.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});else throw new Error("invalid date")}catch{const j=String(f).match(/\b(\d{2}:\d{2})\b/);d=j?j[1]:""}const h=String((o==null?void 0:o.status)||(o==null?void 0:o.situacao)||"").toLowerCase();let m="pendente";return h.includes("andamento")?m="em_andamento":h.includes("finaliz")||h.includes("conclu")||h.includes("cancel")||h.includes("faltou")?m="finalizado":m="pendente",{id:o.id||o.consulta_id||o.uuid,paciente:{id:((g=o==null?void 0:o.paciente)==null?void 0:g.id)||(o==null?void 0:o.paciente_id),nome:A.trim(),avatarUrl:((y=o==null?void 0:o.paciente)==null?void 0:y.avatar_url)||((w=o==null?void 0:o.paciente)==null?void 0:w.foto)||(o==null?void 0:o.paciente_avatar)||null},hora:d,status:m}}):[]})}function nX({status:e}){const r={pendente:"bg-amber-100 text-amber-700",em_andamento:"bg-emerald-100 text-emerald-700",finalizado:"bg-gray-100 text-gray-600"},t={pendente:"Pendente",em_andamento:"Em Andamento",finalizado:"Finalizado"};return n.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${r[e]}`,children:t[e]})}function sX({url:e,name:r}){return e?n.jsx("img",{src:e,alt:`Avatar de ${r}`,className:"h-14 w-14 rounded-full object-cover"}):n.jsxs("svg",{className:"h-14 w-14 rounded-full bg-gray-100 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":!0,children:[n.jsx("circle",{cx:"12",cy:"8",r:"4"}),n.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]})}function iX(){return n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"})]})}function oX({onRetry:e}){return n.jsxs("div",{className:"mt-10 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:["Ocorreu um erro ao carregar as consultas.",n.jsx("button",{className:"ml-3 rounded-md bg-red-600 px-3 py-1 text-white",onClick:e,children:"Tentar novamente"})]})}function lX(){return n.jsx("div",{className:"mt-12 rounded-2xl border bg-white p-10 text-center text-gray-500",children:"Nenhuma consulta encontrada para este dia."})}function cX({children:e,...r}){return n.jsx("button",{...r,className:"rounded-lg bg-blue-600 px-4 py-2 text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-200",children:e})}function s5({children:e,...r}){return n.jsx("button",{...r,className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 shadow-sm transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:e})}function AX({consulta:e,onIniciar:r}){const t=b.useMemo(()=>{if(!e.hora)return"";try{const[s,i]=String(e.hora).split(":"),o=new Date;return o.setHours(Number(s),Number(i),0,0),o.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return e.hora}},[e.hora]),a=()=>e.status==="pendente"?n.jsx(cX,{onClick:()=>r(e),"aria-label":`Iniciar consulta de ${e.paciente.nome} s ${e.hora}`,children:"Iniciar Consulta"}):e.status==="em_andamento"?n.jsx(s5,{disabled:!0,children:"Em Andamento"}):n.jsx(s5,{disabled:!0,children:"Finalizado"});return n.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-white p-5 shadow-md transition-all hover:shadow-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(sX,{url:e.paciente.avatarUrl,name:e.paciente.nome}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:e.paciente.nome}),n.jsx("div",{className:"mt-1 text-sm text-gray-500",children:t})]})]}),n.jsxs("div",{className:"flex flex-col items-stretch gap-3 md:flex-row md:items-center",children:[n.jsx(nX,{status:e.status}),a()]})]})}function dX(){const e=Kn(),[r,t]=b.useState(Ek()),[a,s]=b.useState("todos"),[i,o]=b.useState(!0),[l,A]=b.useState(null),[d,f]=b.useState([]),h=async()=>{o(!0),A(null);try{const g=await aX(r);f(g)}catch(g){A(g)}finally{o(!1)}};b.useEffect(()=>{h()},[r]);const m=async g=>{var y;try{g!=null&&g.id&&await Kt.iniciarConsulta(g.id)}catch(w){console.error("Falha ao iniciar consulta no backend:",w)}finally{try{const w=g==null?void 0:g.id,j=(y=g==null?void 0:g.paciente)==null?void 0:y.id,C=w?`/medico/paciente/${j}/iniciar-consulta?consultaId=${w}`:`/medico/paciente/${j}/iniciar-consulta`;e(C)}catch{console.log("Iniciar consulta (fallback navegao)",g==null?void 0:g.id)}}},p=rX(r),v=d.filter(g=>a==="todos"?!0:g.status===a);return n.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-blue-50 p-2 text-blue-600",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),n.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas de Hoje"}),n.jsx("span",{className:"text-sm text-gray-500",children:p})]}),n.jsx("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:n.jsxs("div",{className:"flex w-full gap-3 md:w-auto",children:[n.jsxs("div",{className:"relative w-full md:w-60",children:[n.jsxs("select",{value:a,onChange:g=>s(g.target.value),className:"w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[n.jsx("option",{value:"todos",children:"Filtrar por status"}),n.jsx("option",{value:"pendente",children:"Pendentes"}),n.jsx("option",{value:"em_andamento",children:"Em Andamento"}),n.jsx("option",{value:"finalizado",children:"Finalizadas"})]}),n.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.25 4.417a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),n.jsx(ms,{value:r,onChange:g=>t(g),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:w-auto"})]})}),i&&n.jsx(iX,{}),!i&&l&&n.jsx(oX,{onRetry:h}),!i&&!l&&v.length===0&&n.jsx(lX,{}),!i&&!l&&v.length>0&&n.jsx("div",{className:"mt-6 space-y-4",children:v.map(g=>n.jsx(AX,{consulta:g,onIniciar:m},g.id))})]})}const Pa={async getPerfil(){const{data:e}=await we.get("/secretarias/me/");return e},async listarSecretarias(e={}){const r="/secretarias/".replace(/\/?$/,"/");try{const{data:t}=await we.get(r,{params:e});return Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[]}catch{return[]}},async listarMedicos(){const e="/api/medicos/".replace(/\/?$/,"/"),{data:r}=await we.get(e,{params:{limit:200}});return Array.isArray(r==null?void 0:r.results)?r.results:r},async listarClinicas(){const{data:e}=await we.get("/clinicas/");return Array.isArray(e==null?void 0:e.results)?e.results:e},async getConsultasDoMedico(e,r={}){const t="/api/consultas/",a=e?`${t}?medico=${e}`:t,{data:s}=await we.get(a,{params:r});return s},async listarConsultasHoje(e){try{const{data:r}=await we.get("/api/consultas/".replace(/\/?$/,"/"),{params:(()=>{const a=new Date,s=l=>String(l).padStart(2,"0"),i=`${a.getFullYear()}-${s(a.getMonth()+1)}-${s(a.getDate())}`,o={date:i,data:i,dia:i,data__date:i};return e&&(o.medico=e,o.medico_id=e),o})()});return Array.isArray(r==null?void 0:r.results)?r.results:Array.isArray(r)?r:[]}catch{return[]}},async listarSolicitacoesHoje(e){try{const r="/api/solicitacoes/".replace(/\/?$/,"/"),{data:t}=await we.get(r,{params:(()=>{const s=new Date,i=A=>String(A).padStart(2,"0"),o=`${s.getFullYear()}-${i(s.getMonth()+1)}-${i(s.getDate())}`,l={date:o,data:o,dia:o,data__date:o};return e&&(l.medico=e,l.medico_id=e),l})()});return Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[]}catch{return[]}},async aceitarSolicitacao(e){var s;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t=[`${r}${e}/aceitar/`,`${r}${e}/aceitar`,`${r}${e}/`];let a=null;for(const i of t)try{if(i.endsWith("/aceitar/")||i.endsWith("/aceitar")){const{data:l}=await we.post(i);return l}const{data:o}=await we.patch(i,{status:"CONFIRMADO",situacao:"CONFIRMADO",state:"CONFIRMADO"});return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}try{return await this.confirmarConsulta(e)}catch{}if(a)throw a;return{ok:!1}},async recusarSolicitacao(e){var s;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t=[`${r}${e}/recusar/`,`${r}${e}/recusar`,`${r}${e}/`];let a=null;for(const i of t)try{if(i.endsWith("/recusar/")||i.endsWith("/recusar")){const{data:l}=await we.post(i);return l}const{data:o}=await we.patch(i,{status:"CANCELADO",situacao:"CANCELADO",state:"CANCELADO"});return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}if(a)throw a;return{ok:!1}},async cancelarSolicitacao(e){var s;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t=[`${r}${e}/cancelar/`,`${r}${e}/cancelar`,`${r}${e}/`];let a=null;for(const i of t)try{if(i.endsWith("/cancelar/")||i.endsWith("/cancelar")){const{data:l}=await we.post(i);return l}const{data:o}=await we.patch(i,{status:"CANCELADO",situacao:"CANCELADO",state:"CANCELADO"});return o}catch(o){if(((s=o==null?void 0:o.response)==null?void 0:s.status)===401)throw o;a=o;continue}try{return await this.cancelarConsulta(e,"cancelado pela secretaria")}catch{}if(a)throw a;return{ok:!1}},async registrarSolicitacao(e={}){var o;const r="/api/solicitacoes/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a={...e};a.status=(a.status||a.situacao||"PENDENTE").toString().toUpperCase(),a.situacao=a.status,a.tipo=a.tipo||"inicial",a.tipo==="primeira"&&(a.tipo="inicial"),a.modalidade||(a.modalidade="presencial");const s=[r,`${r}consultas/`,`${t}solicitacoes/`,t];let i=null;for(const l of s){if(!l)continue;const A=l.endsWith("/")?l:`${l}/`;try{const{data:d}=await we.post(A,a);return d}catch(d){if(((o=d==null?void 0:d.response)==null?void 0:o.status)===401)throw d;i=d;continue}}if(i)throw i;return{ok:!1}},async agendarConsulta(e){var m;const r="/agendamentos/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a={...e||{}},s=a.pacienteId||a.paciente_id||a.paciente,i=a.medicoId||a.medico_id||a.medico,o=a.data||a.dia||a.data_consulta,l=a.hora||a.horario,A=o&&l&&/^\d{4}-\d{2}-\d{2}$/.test(String(o))&&/^\d{2}:\d{2}$/.test(String(l))?`${o}T${l}:00`:a.data_hora||null,d={paciente:s,paciente_id:s,medico:i,medico_id:i,data:o,dia:o,data_consulta:o,data__date:o,hora:l,horario:l,data_hora:A,tipo:a.tipo||"rotina",motivo:a.motivo||a.observacoes||"Agendado",observacoes:a.observacoes||void 0,status:(a.status||"PENDENTE").toString().toUpperCase(),situacao:(a.situacao||a.status||"PENDENTE").toString().toUpperCase(),state:(a.state||a.situacao||a.status||"PENDENTE").toString().toUpperCase()},f=[r,t,`${r}create/`,`${t}create/`];let h=null;for(const p of f){const v=p.endsWith("/")?p:`${p}/`;try{const{data:g}=await we.post(v,d);return g}catch(g){if(((m=g==null?void 0:g.response)==null?void 0:m.status)===401)throw g;h=g;continue}}if(h)throw h;return{ok:!1}},async atualizarConsulta(e,r){const t=`/agendamentos/${e}/`,{data:a}=await we.patch(t,r);return a},async atualizarStatus(e,r){const t=`/agendamentos/${e}/`,a=String(r||"").toLowerCase(),s={status:a,situacao:a,state:a},{data:i}=await we.patch(t,s);return i},async proporNovaData(e,r){var m;const t="/agendamentos/".replace(/\/?$/,"/"),a="/api/consultas/".replace(/\/?$/,"/"),s="/api/solicitacoes/".replace(/\/?$/,"/"),i=t.replace(/agendamentos\/?$/i,"agendamento/"),o=a.replace(/consultas\/?$/i,"consulta/"),l=s.replace(/solicitacoes\/?$/i,"solicitacao/"),d=(p=>{const v=typeof p=="string"?p:p instanceof Date?p.toISOString():String(p),g=(()=>{const j=/^(\d{4}-\d{2}-\d{2})/.exec(v);return j?j[1]:null})(),y=(()=>{const j=/T(\d{2}):(\d{2})/.exec(v);return j?`${j[1]}:${j[2]}`:null})(),w={status:"aguardando_paciente",situacao:"aguardando_paciente"};return v&&(w.data_hora=v),g&&(w.data=g,w.dia=g,w.data__date=g),y&&(w.hora=y,w.horario=y),w})(r),f=[`${t}${e}/propor/`,`${t}${e}/contraproposta/`,`${a}${e}/propor/`,`${a}${e}/contraproposta/`,`${s}${e}/propor/`,`${s}${e}/contraproposta/`,`${i}${e}/propor/`,`${i}${e}/contraproposta/`,`${o}${e}/propor/`,`${o}${e}/contraproposta/`,`${l}${e}/propor/`,`${l}${e}/contraproposta/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`,`${l}${e}/`];let h=null;for(const p of f)try{if(/\/(propor|contraproposta)\/$/.test(p)){const{data:g}=await we.post(p,d);return g}const{data:v}=await we.patch(p,d);return v}catch(v){if(((m=v==null?void 0:v.response)==null?void 0:m.status)===401)throw v;h=v;continue}throw h||new Error("Endpoint de contraproposta no encontrado")},async reagendarConsulta(e,r){var m;const t="/agendamentos/".replace(/\/?$/,"/"),a="/api/consultas/".replace(/\/?$/,"/"),s="/api/solicitacoes/".replace(/\/?$/,"/"),i=t.replace(/agendamentos\/?$/i,"agendamento/"),o=a.replace(/consultas\/?$/i,"consulta/"),l=s.replace(/solicitacoes\/?$/i,"solicitacao/"),d=(p=>{const v=typeof p=="string"?p:p instanceof Date?p.toISOString():String(p),g=(()=>{const j=/^(\d{4}-\d{2}-\d{2})/.exec(v);return j?j[1]:null})(),y=(()=>{const j=/T(\d{2}):(\d{2})/.exec(v);return j?`${j[1]}:${j[2]}`:null})(),w={status:"confirmado",situacao:"confirmada"};return v&&(w.data_hora=v),g&&(w.data=g,w.dia=g,w.data__date=g),y&&(w.hora=y,w.horario=y),w})(r),f=[`${t}${e}/reagendar/`,`${a}${e}/reagendar/`,`${s}${e}/reagendar/`,`${i}${e}/reagendar/`,`${o}${e}/reagendar/`,`${l}${e}/reagendar/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`,`${l}${e}/`];let h=null;for(const p of f)try{if(/\/(reagendar)\/$/.test(p)){const{data:g}=await we.post(p,d);return g}const{data:v}=await we.patch(p,d);return v}catch(v){if(((m=v==null?void 0:v.response)==null?void 0:m.status)===401)throw v;h=v;continue}throw h||new Error("Endpoint de reagendamento no encontrado")},async confirmarConsulta(e){var d;const r="/agendamentos/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a="/api/solicitacoes/".replace(/\/?$/,"/"),s=r.replace(/agendamentos\/?$/i,"agendamento/"),i=t.replace(/consultas\/?$/i,"consulta/"),o=a.replace(/solicitacoes\/?$/i,"solicitacao/"),l=[`${r}${e}/confirmar/`,`${t}${e}/confirmar/`,`${a}${e}/aceitar/`,`${a}${e}/confirmar/`,`${s}${e}/confirmar/`,`${i}${e}/confirmar/`,`${o}${e}/aceitar/`,`${o}${e}/confirmar/`,`${r}confirmar/${e}/`,`${t}confirmar/${e}/`,`${a}confirmar/${e}/`,`${r}${e}/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`];let A=null;for(const f of l)try{if(/[\/]confirmar\/$/.test(f)||/[\/]aceitar\/$/.test(f)){const{data:m}=await we.post(f);return m}const{data:h}=await we.patch(f,{status:"CONFIRMADO",situacao:"CONFIRMADO",state:"CONFIRMADO"});return h}catch(h){if(((d=h==null?void 0:h.response)==null?void 0:d.status)===401)throw h;A=h;continue}try{const f=a,h=["consulta","consulta_id","agendamento","agendamento_id","id","pk","uuid"];for(const m of h)try{const{data:p}=await we.get(f,{params:{[m]:e,limit:1,page_size:1}}),v=Array.isArray(p==null?void 0:p.results)?p.results:Array.isArray(p)?p:[],g=v==null?void 0:v[0],y=(g==null?void 0:g.id)||(g==null?void 0:g.pk)||(g==null?void 0:g.uuid);if(y){const w=[`${a}${y}/aceitar/`,`${o}${y}/aceitar/`,`${a}${y}/`,`${o}${y}/`];for(const j of w)try{if(/[\/]aceitar\/$/.test(j)){const{data:E}=await we.post(j);return E}const{data:C}=await we.patch(j,{status:"CONFIRMADO",situacao:"CONFIRMADO",state:"CONFIRMADO"});return C}catch(C){A=C;continue}}}catch{}}catch{}throw A||new Error("Endpoint de confirmao no encontrado")},async cancelarConsulta(e,r){var f;const t="/agendamentos/".replace(/\/?$/,"/"),a="/api/consultas/".replace(/\/?$/,"/"),s="/api/solicitacoes/".replace(/\/?$/,"/"),i=t.replace(/agendamentos\/?$/i,"agendamento/"),o=a.replace(/consultas\/?$/i,"consulta/"),l=s.replace(/solicitacoes\/?$/i,"solicitacao/"),A=[`${t}${e}/cancelar/`,`${a}${e}/cancelar/`,`${s}${e}/cancelar/`,`${i}${e}/cancelar/`,`${o}${e}/cancelar/`,`${l}${e}/cancelar/`,`${t}${e}/`,`${a}${e}/`,`${s}${e}/`,`${i}${e}/`,`${o}${e}/`,`${l}${e}/`];let d=null;for(const h of A)try{if(h.endsWith("/cancelar/")){const{data:p}=await we.post(h,{motivo:r});return p}const{data:m}=await we.patch(h,{status:"CANCELADO",situacao:"CANCELADO",state:"CANCELADO",motivo_cancelamento:r});return m}catch(m){if(((f=m==null?void 0:m.response)==null?void 0:f.status)===401)throw m;d=m;continue}throw d||new Error("Endpoint de cancelamento no encontrado")},async registrarPresenca(e){var i;const r="/agendamentos/".replace(/\/?$/,"/"),t="/api/consultas/".replace(/\/?$/,"/"),a=[`${r}${e}/presenca/`,`${t}${e}/presenca/`,`${r}${e}/`,`${t}${e}/`];let s=null;for(const o of a)try{if(o.endsWith("/presenca/")){const{data:A}=await we.post(o);return A}const{data:l}=await we.patch(o,{status:"REALIZADA",situacao:"REALIZADA",state:"REALIZADA"});return l}catch(l){if(((i=l==null?void 0:l.response)==null?void 0:i.status)===401)throw l;s=l;continue}if(s)throw s;return{ok:!1}},async registrarPaciente(e){const r="/auth/register/",t=String((e==null?void 0:e.nome)||"").trim(),[a,...s]=t.split(/\s+/),i=s.join(" "),o=String((e==null?void 0:e.email)||"").trim(),l=String((e==null?void 0:e.senha)||(e==null?void 0:e.password)||""),f={username:`${(o.split("@")[0]||a||"paciente").toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.floor(Math.random()*1e4)}`,email:o,password:l,first_name:a,last_name:i,role:"paciente",cpf:(e==null?void 0:e.cpf)||"",telefone:(e==null?void 0:e.telefone)||"",data_nascimento:(e==null?void 0:e.data_nascimento)||"",endereco:(e==null?void 0:e.endereco)||""},{data:h}=await we.post(r,f,{});return h},async buscarPacientes(e){try{const r="/api/pacientes/".replace(/\/?$/,"/"),{data:t}=await we.get(r,{params:{search:e,limit:20}});let a=Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[];if(a.length>0)return a}catch{}try{const r="/users/".replace(/\/?$/,"/"),{data:t}=await we.get(r,{params:{search:e,limit:20,role:"paciente",tipo:"paciente"}});return(Array.isArray(t==null?void 0:t.results)?t.results:Array.isArray(t)?t:[]).map(i=>({id:(i==null?void 0:i.id)||(i==null?void 0:i.user_id)||(i==null?void 0:i.pk),user:{first_name:i==null?void 0:i.first_name,last_name:i==null?void 0:i.last_name,username:i==null?void 0:i.username},nome:(i==null?void 0:i.nome)||void 0,cpf:i==null?void 0:i.cpf}))}catch{}return[]},async getMedicosDaSecretaria(e){const r=[],t=a=>{(Array.isArray(a)?a:Array.isArray(a==null?void 0:a.results)?a.results:[]).forEach(i=>{i&&r.push(i)})};if(e)try{const a="/secretarias/".replace(/\/?$/,"/"),s=await we.get(`${a}${e}/medicos/`).catch(()=>null);s!=null&&s.data&&t(s.data)}catch{}try{const a=await this.getPerfil().catch(()=>null),s=(a==null?void 0:a.medico)||(a==null?void 0:a.medico_id),i=(a==null?void 0:a.medicos)||(a==null?void 0:a.medicos_vinculados);s&&r.push(s),Array.isArray(i)&&t(i)}catch{}return r},async vincularMedico(e,r){if(!e||!r)throw new Error("IDs obrigatrios");const t="/secretarias/".replace(/\/?$/,"/"),a="/api/medicos/".replace(/\/?$/,"/"),s={medico:r,medico_id:r,secretaria:e,secretaria_id:e},i=[{m:"post",u:`${t}${e}/vincular_medico/`,b:s},{m:"post",u:`${a}${r}/vincular_secretaria/`,b:s},{m:"patch",u:`${a}${r}/`,b:{secretaria:e,secretaria_id:e}},{m:"patch",u:`${t}${e}/`,b:{medico:r,medico_id:r}}];let o=null;for(const l of i)try{const{data:A}=await we[l.m](l.u,l.b);return A}catch(A){o=A}if(o)throw o;return{ok:!1}}},sm=Object.freeze(Object.defineProperty({__proto__:null,secretariaService:Pa},Symbol.toStringTag,{value:"Module"}));function uX(){const[e,r]=b.useState(!0),[t,a]=b.useState([]),[s,i]=b.useState("pendente"),{toast:o}=Va(),[l,A]=b.useState(null),d=H=>String(H).padStart(2,"0"),f=(()=>{const H=new Date;return`${H.getFullYear()}-${d(H.getMonth()+1)}-${d(H.getDate())}`})(),[h,m]=b.useState(f),[p,v]=b.useState([]),[g,y]=b.useState(!1),[w,j]=b.useState(!1),[C,E]=b.useState(!1),[U,k]=b.useState("");b.useEffect(()=>{let H=!0;return(async()=>{r(!0);try{const Z=await Kt._resolveMedicoId().catch(()=>null),Ae=await Pa.listarSolicitacoesHoje(Z),Q=(Array.isArray(Ae)?Ae:[]).map(q=>{var K,z,se;const $=q.data_hora||q.inicio||q.horario||null,X=q.data||q.dia||(typeof $=="string"?$.slice(0,10):null),te=q.hora||q.horario||typeof $=="string"&&((K=$.match(/T(\d{2}:\d{2})/))==null?void 0:K[1])||null;return{id:q.id,paciente:((z=q.paciente)==null?void 0:z.nome)||((se=q.paciente)!=null&&se.user?`${q.paciente.user.first_name||""} ${q.paciente.user.last_name||""}`.trim():"Paciente"),dataStr:X,horaStr:te,dataHora:X&&te?`${X}T${te}:00`:$,tipo:q.tipo||q.modalidade||"consulta",status:String(q.status||q.situacao||"pendente").toLowerCase(),raw:q}});H&&a(Q)}catch{}finally{H&&r(!1)}})(),()=>{H=!1}},[]),b.useEffect(()=>{const H=l!=null&&l.dataHora?new Date(l.dataHora):null;if(H&&!isNaN(H)){const Z=`${H.getFullYear()}-${d(H.getMonth()+1)}-${d(H.getDate())}`;m(Z)}},[l==null?void 0:l.dataHora]),b.useEffect(()=>{let H=!0;return(async()=>{if(h){y(!0);try{const Z=await Kt.getConsultasDoMedico({date:h}),Ae=Array.isArray(Z)?Z:Array.isArray(Z==null?void 0:Z.results)?Z.results:[];H&&v(Ae)}catch{H&&v([])}finally{H&&y(!1)}}})(),()=>{H=!1}},[h]);const F=b.useMemo(()=>[{label:"Dashboard",href:"/medico/dashboard"},{label:"Consultas de Hoje",href:"/medico/consultas/hoje"},{label:"Meus Pacientes",href:"/medico/meus-pacientes"},{label:"Solicitaes",href:"/medico/solicitacoes"}],[]),D=b.useMemo(()=>{const H=String(s||"").toLowerCase();return!H||H==="todas"?t:t.filter(Z=>String(Z.status||"").toLowerCase()===H)},[t,s]),_=async H=>{var Q,q;const Z=t.find($=>$.id===H),Ae=(Z==null?void 0:Z.raw)||{},ee=((Q=Ae.consulta)==null?void 0:Q.id)||Ae.consulta_id||((q=Ae.agendamento)==null?void 0:q.id)||Ae.agendamento_id||Ae.id;try{await Pa.aceitarSolicitacao(H),a($=>$.map(X=>X.id===H?{...X,status:"confirmada"}:X)),o({title:"Solicitao confirmada"})}catch{try{if(ee&&ee!==H){await Pa.confirmarConsulta(ee),a(X=>X.map(te=>te.id===H?{...te,status:"confirmada"}:te)),o({title:"Solicitao confirmada"});return}throw new Error("Falha")}catch{o({title:"Erro",description:"Falha ao confirmar",variant:"destructive"})}}},G=async H=>{var Q,q;const Z=t.find($=>$.id===H),Ae=(Z==null?void 0:Z.raw)||{},ee=((Q=Ae.consulta)==null?void 0:Q.id)||Ae.consulta_id||((q=Ae.agendamento)==null?void 0:q.id)||Ae.agendamento_id||Ae.id;try{await Pa.cancelarSolicitacao(H),a($=>$.map(X=>X.id===H?{...X,status:"cancelada"}:X)),o({title:"Solicitao cancelada"})}catch{try{if(ee&&ee!==H){await Pa.cancelarConsulta(ee,"cancelado pelo mdico/secretaria"),a(X=>X.map(te=>te.id===H?{...te,status:"cancelada"}:te)),o({title:"Solicitao cancelada"});return}throw new Error("Falha")}catch{o({title:"Erro",description:"Falha ao cancelar",variant:"destructive"})}}},L=async()=>{if(!l)return;const H=h,Z=U&&/^\d{2}:\d{2}$/.test(U)?`${H}T${U}:00`:`${H}T00:00:00`;try{await Pa.proporNovaData(l.id,Z),a(Ae=>Ae.map(ee=>ee.id===l.id?{...ee,status:"aguardando_paciente",dataHora:Z,dataStr:H,horaStr:U}:ee)),j(!1),o({title:"Contraproposta enviada",description:"Aguardando resposta do paciente"})}catch{o({title:"Erro",description:"Falha ao propor nova data",variant:"destructive"})}},T=async()=>{if(!l)return;const H=h,Z=U&&/^\d{2}:\d{2}$/.test(U)?`${H}T${U}:00`:`${H}T00:00:00`;try{await Pa.reagendarConsulta(l.id,Z),a(Ae=>Ae.map(ee=>ee.id===l.id?{...ee,status:"confirmada",dataHora:Z,dataStr:H,horaStr:U}:ee)),E(!1),o({title:"Consulta reagendada"})}catch{o({title:"Erro",description:"Falha ao reagendar",variant:"destructive"})}},J=b.useMemo(()=>{const H=[];for(let Z=8;Z<18;Z++)H.push(`${String(Z).padStart(2,"0")}:00`);return H},[]),R=H=>(p||[]).some(Ae=>{var q;const ee=String((Ae==null?void 0:Ae.hora)||(Ae==null?void 0:Ae.horario)||(Ae==null?void 0:Ae.data_hora)||"");return((q=ee.match(/(\d{2}:\d{2})/)||ee.match(/T(\d{2}:\d{2})/))==null?void 0:q[1])===H}),re=H=>String(H||"").toLowerCase(),V=H=>{const Z=re(H);return Z.includes("aguardando_paciente")?"Aguardando paciente":Z.includes("confirm")?"Confirmada":Z.includes("cancel")?"Cancelada":Z.includes("agend")||Z.includes("pendente")?"Agendada":H},Y=(H,Z,Ae)=>{const ee=H?new Date(H):null,Q=!!Ae||ee&&!isNaN(ee.getTime()),q=ee&&!isNaN(ee.getTime())?ee.toLocaleDateString("pt-BR"):Z?new Date(`${Z}T00:00:00`).toLocaleDateString("pt-BR"):"",$=Ae||(ee&&!isNaN(ee.getTime())?ee.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"");return`${q}${Q?` ${$}`:""}`};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Solicitaes de Consultas"}),n.jsx(Wi,{tabs:F,basePath:"/medico"}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Solicitaes de Hoje"})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"flex items-center gap-3 mb-3",children:n.jsxs(qr,{value:s,onValueChange:i,children:[n.jsx(Vr,{className:"w-48",children:n.jsx(Wr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"pendente",children:"Pendentes"}),n.jsx(rt,{value:"confirmada",children:"Confirmadas"}),n.jsx(rt,{value:"cancelada",children:"Canceladas"}),n.jsx(rt,{value:"aguardando_paciente",children:"Aguardando paciente"}),n.jsx(rt,{value:"todas",children:"Todas"})]})]})}),e?n.jsx(Br,{className:"h-16 w-full"}):D.length===0?n.jsx("div",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ya,{children:[n.jsx(dr,{children:"Paciente"}),n.jsx(dr,{children:"Tipo"}),n.jsx(dr,{children:"Data/Hora"}),n.jsx(dr,{children:"Status"}),n.jsx(dr,{className:"text-right",children:"Aes"})]})}),n.jsx(wo,{children:D.map(H=>n.jsxs(Ya,{onClick:()=>A(H),className:(l==null?void 0:l.id)===H.id?"bg-muted/30 cursor-pointer":"cursor-pointer",children:[n.jsx(ir,{children:H.paciente}),n.jsx(ir,{children:H.tipo}),n.jsx(ir,{children:Y(H.dataHora,H.dataStr,H.horaStr)}),n.jsx(ir,{children:n.jsx(lr,{variant:"outline",className:"capitalize",children:V(H.status)})}),n.jsx(ir,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[["pendente","agendada"].includes(H.status)&&n.jsx(n0,{children:n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(ve,{"aria-label":"Confirmar",size:"icon-sm",variant:"success",onClick:()=>_(H.id),children:n.jsx(po,{className:"h-4 w-4"})})}),n.jsx(Ef,{children:"Confirmar"})]})}),["pendente","agendada","confirmada","confirmado"].includes(H.status)&&n.jsxs(ve,{size:"sm",variant:"destructive",onClick:()=>G(H.id),children:[n.jsx(fs,{className:"h-4 w-4 mr-1"})," Cancelar"]}),n.jsxs(n0,{children:[["pendente","agendada"].includes(H.status)&&n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(ve,{"aria-label":"Propor nova data",size:"icon-sm",variant:"info",onClick:()=>{A(H),j(!0)},children:n.jsx(wr,{className:"h-4 w-4"})})}),n.jsx(Ef,{children:"Propor nova data"})]}),["confirmada","confirmado"].includes(H.status)&&n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(ve,{"aria-label":"Reagendar",size:"icon-sm",variant:"info",onClick:()=>{A(H),E(!0)},children:n.jsx(wr,{className:"h-4 w-4"})})}),n.jsx(Ef,{children:"Reagendar"})]})]})]})})]},H.id))})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Agenda do dia"})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"flex items-center gap-3 mb-3",children:n.jsx(ms,{value:h,onChange:m})}),g?n.jsx(Br,{className:"h-16 w-full"}):n.jsx("div",{className:"divide-y border rounded",children:J.map(H=>n.jsxs("div",{className:`flex items-center justify-between px-3 py-2 ${R(H)?"bg-red-50 text-red-700 cursor-not-allowed":"cursor-pointer hover:bg-muted/30"}`,onClick:()=>{if(!l||R(H))return;k(H),re(l.status).includes("confirm")?E(!0):j(!0)},role:"button","aria-disabled":R(H),children:[n.jsx("span",{className:"text-sm",children:H}),n.jsx("span",{className:"text-xs text-muted-foreground",children:R(H)?"Ocupado":"Livre"})]},H))})]})]})]})]})]}),n.jsx(fA,{open:w,onOpenChange:j,children:n.jsxs(dc,{children:[n.jsx(uc,{children:n.jsx(fc,{children:"Propor nova data"})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ms,{value:h,onChange:m}),n.jsx(Te,{placeholder:"HH:MM",value:U,onChange:H=>k(H.target.value)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Dica: clique em um horrio livre na agenda ao lado para preencher automaticamente."})]}),n.jsxs(hA,{children:[n.jsx(ve,{variant:"outline",onClick:()=>j(!1),children:"Cancelar"}),n.jsx(ve,{onClick:L,children:"Enviar contraproposta"})]})]})}),n.jsx(fA,{open:C,onOpenChange:E,children:n.jsxs(dc,{children:[n.jsx(uc,{children:n.jsx(fc,{children:"Reagendar consulta"})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ms,{value:h,onChange:m}),n.jsx(Te,{placeholder:"HH:MM",value:U,onChange:H=>k(H.target.value)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Selecione um horrio livre na agenda ao lado."})]}),n.jsxs(hA,{children:[n.jsx(ve,{variant:"outline",onClick:()=>E(!1),children:"Cancelar"}),n.jsx(ve,{onClick:T,children:"Salvar"})]})]})})]})}const zg=b.forwardRef(({className:e,checked:r,onCheckedChange:t,disabled:a,...s},i)=>{const o=l=>{t&&t(l.target.checked)};return n.jsxs("div",{className:"relative inline-flex items-center",children:[n.jsx("input",{type:"checkbox",ref:i,checked:r,onChange:o,disabled:a,className:"sr-only",...s}),n.jsx("div",{className:lt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground","transition-all duration-200 cursor-pointer",r?"bg-primary border-primary text-primary-foreground":"border-input bg-background hover:border-primary/50",a&&"cursor-not-allowed opacity-50",e),onClick:()=>!a&&t&&t(!r),children:r&&n.jsx(k1,{className:"h-3 w-3 text-current flex items-center justify-center w-full h-full"})})]})});zg.displayName="Checkbox";const xg="https://tcc-back-ktwy.onrender.com/api";class fX{async checkServiceStatus(){try{if(!(await fetch(`${xg}/receitas/`,{method:"GET",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Servio de assinatura digital indisponvel");return{status:"online",message:"Servio de assinatura digital disponvel via Django API",version:"2.0.0"}}catch(r){return console.warn("Servio de assinatura digital indisponvel:",r),{status:"online",message:"Servio de assinatura digital disponvel (mock)",version:"1.0.0"}}}generateDocumentHash(r){var a,s;const t=JSON.stringify({timestamp:Date.now(),prescription_id:r.id||r.receita_id,patient:((a=r.paciente)==null?void 0:a.nome)||r.nome_paciente,doctor:((s=r.medico)==null?void 0:s.nome)||r.medico,medications:r.medicamentos||r.medicamento});return btoa(t).replace(/[^a-zA-Z0-9]/g,"").substring(0,32)}async generatePDFHash(r){try{if(!r)return`pdf_hash_${Date.now()}`;const t=await r.arrayBuffer();if(window.crypto&&window.crypto.subtle){const a=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map(i=>i.toString(16).padStart(2,"0")).join("")}return`pdf_${r.size}_${r.lastModified}_${Date.now()}`}catch(t){return console.warn("Erro ao gerar hash do PDF:",t),`pdf_hash_${Date.now()}`}}async signPrescription(r){try{const t=r.id||r.receita_id;if(!t)throw new Error("ID da receita  obrigatrio para assinatura");const a=await fetch(`${xg}/receitas/${t}/assinar/`,{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({algoritmo_assinatura:r.algoritmo_assinatura||"SHA256",hash_documento:r.hash_documento||this.generateDocumentHash(r)})});if(!a.ok)return console.warn("Servio de assinatura no disponvel, usando mock"),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),prescription_id:t};const s=await a.json();return{success:!0,message:"Receita assinada digitalmente via Django API",signature_id:s.id,signed_at:s.assinada_em,prescription_id:s.id,hash_documento:s.hash_documento,algoritmo_assinatura:s.algoritmo_assinatura}}catch(t){return console.warn("Erro na assinatura digital, usando mock:",t),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),prescription_id:r.id||"mock_prescription"}}}async signPrescriptionWithPDF(r){try{const t=r.get("receita_id")||r.get("id");if(!t)throw new Error("ID da receita  obrigatrio para assinatura");const a=r.get("pdf"),s=await this.generatePDFHash(a),i=await fetch(`${xg}/receitas/${t}/assinar/`,{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({algoritmo_assinatura:"SHA256",hash_documento:s})});if(!i.ok)return console.warn("Servio de assinatura no disponvel, usando mock"),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),download_url:URL.createObjectURL(a),prescription_id:t};const o=await i.json();return{success:!0,message:"Receita assinada digitalmente via Django API",signature_id:o.id,signed_at:o.assinada_em,download_url:URL.createObjectURL(a),prescription_id:o.id,hash_documento:o.hash_documento,algoritmo_assinatura:o.algoritmo_assinatura}}catch(t){console.warn("Erro na assinatura digital, usando mock:",t);const a=r.get("pdf");return{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),download_url:a?URL.createObjectURL(a):null,prescription_id:r.get("id")||"mock_prescription"}}}async verifySignature(r){try{const t="http://localhost:8172".replace(/\/$/,""),a=await fetch(`${t}/api/prescriptions/verify/${r}/`);return a.ok?await a.json():{status:"success",signature_id:r,verified:!0,signed_at:new Date().toISOString(),message:"Assinatura verificada (mock)"}}catch(t){return console.warn("Erro ao verificar assinatura, usando mock:",t),{status:"success",signature_id:r,verified:!0,signed_at:new Date().toISOString(),message:"Assinatura verificada (mock)"}}}async listSignedPrescriptions(){try{const r=await fetch(`${xg}/receitas/?assinada=true`,{method:"GET",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});return r.ok?(await r.json()).results||[]:[]}catch(r){return console.warn("Erro ao listar receitas assinadas, usando mock:",r),[]}}getDownloadUrl(r){return`${"http://localhost:8172".replace(/\/$/,"")}/api/prescriptions/download/${r}/`}formatPrescriptionData(r,t){return{paciente:{nome:r.nome_paciente,cpf:r.rg,data_nascimento:r.data_nascimento,endereco:r.endereco_paciente,telefone:r.telefone_paciente,idade:r.idade},medico:{nome:r.medico,crm:r.crm,especialidade:r.especialidade,endereco_consultorio:r.endereco_consultorio,telefone_consultorio:r.telefone_consultorio,email_medico:r.email_medico},medicamentos:r.medicamento?[{nome:r.medicamento,posologia:r.posologia,observacoes:r.observacoes}]:[],observacoes:r.observacoes,validade_receita:r.validade_receita,data_prescricao:new Date().toISOString(),receita_id:t,metadata:{sistema:"Medicine Front",versao:"1.0.0",timestamp:Date.now()}}}validatePrescriptionData(r){var a,s,i,o,l;const t=[];return(a=r.nome_paciente)!=null&&a.trim()||t.push("Nome do paciente  obrigatrio"),(s=r.cpf)!=null&&s.trim()||t.push("CPF do paciente  obrigatrio"),(i=r.medico)!=null&&i.trim()||t.push("Nome do mdico  obrigatrio"),(o=r.crm)!=null&&o.trim()||t.push("CRM do mdico  obrigatrio"),(l=r.medicamento)!=null&&l.trim()||t.push("Medicamento  obrigatrio"),{isValid:t.length===0,errors:t}}}const hX=new fX,Yw=async()=>(await ui(async()=>{const{default:e}=await import("./localAgent-fzBnpuGb.js");return{default:e}},[])).default;function mX(){var nt,Er,vt,ar,ca,tr,Bn,gs,mn,ss,ut,za,Xa,js,fi,Ja;const[e,r]=b.useState(!1),[t,a]=b.useState(null),[s,i]=b.useState(""),[o,l]=b.useState(null),[A,d]=b.useState(""),{id:f}=zo(),h=ns(),m=Kn(),{toast:p}=Va(),[v,g]=b.useState(((nt=h.state)==null?void 0:nt.receitaId)||null),y=async He=>{const Je=await He.arrayBuffer(),Ct=await crypto.subtle.digest("SHA-256",Je);return Array.from(new Uint8Array(Ct)).map(st=>st.toString(16).padStart(2,"0")).join("")},w=((Er=h.state)==null?void 0:Er.fromConsulta)||{},j=((vt=h.state)==null?void 0:vt.consultaId)||w.consultaId,C=w.receitaItems||[],E=Array.isArray(C)&&C.length>0,U=He=>{if(!He)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(He))return He;const Je=new Date(He);if(!isNaN(Je)){const st=Je.getFullYear(),Tt=String(Je.getMonth()+1).padStart(2,"0"),mr=String(Je.getDate()).padStart(2,"0");return`${st}-${Tt}-${mr}`}const Ct=String(He).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return Ct?`${Ct[3]}-${Ct[2]}-${Ct[1]}`:""},k=He=>{if(!He)return"";const Je=new Date(He);if(isNaN(Je))return"";const Ct=new Date;let st=Ct.getFullYear()-Je.getFullYear();const Tt=Ct.getMonth()-Je.getMonth(),mr=Ct.getDate()-Je.getDate();(Tt<0||Tt===0&&mr<0)&&st--;let Ot=new Date(Ct.getFullYear(),Je.getMonth(),Je.getDate());Ot>Ct&&(Ot=new Date(Ct.getFullYear()-1,Je.getMonth(),Je.getDate()));const Dr=1440*60*1e3,$r=Math.floor((Ct-Ot)/Dr);return`${st} anos e ${$r} dias`},F=b.useMemo(()=>new Date().toLocaleDateString(),[]),D=He=>{for(const Je of He){if(Je==null)continue;const Ct=typeof Je=="string"?Je.trim():Je;if(Ct)return typeof Ct=="string"?Ct:String(Ct)}return""},[_,G]=b.useState({nome_paciente:"",idade:"",rg:"",data_nascimento:"",medicamento:w.medicamentos||"",posologia:w.posologia||"",validade_receita:w.validade||"",medico:"",crm:"",endereco_consultorio:"",telefone_consultorio:"",observacoes:"",formato:"pdf",acao:"imprimir",email_paciente:"",email_medico:""}),[L,T]=b.useState(!1),[J,R]=b.useState(!0),[re,V]=b.useState(!1),[Y,H]=b.useState(!1),[Z,Ae]=b.useState("token"),[ee,Q]=b.useState(""),[q,$]=b.useState(Ts),[X,te]=b.useState(null);b.useEffect(()=>{let He=!0;const Je=async()=>{let Tt=_.medico_id||null;try{Tt||(Tt=await Kt._resolveMedicoId().catch(()=>null))}catch{}Tt=Tt||(typeof window<"u"?localStorage.getItem("medico_id"):null)||"default";const mr=v0(Tt),Ot=pm(Tt);He&&($(mr||Ts),te(Ot||null))};Je();const Ct=Tt=>{const mr=(Tt==null?void 0:Tt.key)||"";(mr.startsWith("pdf_template_config_")||mr.startsWith("template_config_")||mr.startsWith("doctor_logo_"))&&Je()},st=()=>{document.visibilityState==="visible"&&Je()};return window.addEventListener("focus",Je),window.addEventListener("storage",Ct),document.addEventListener("visibilitychange",st),()=>{He=!1,window.removeEventListener("storage",Ct),window.removeEventListener("focus",Je),document.removeEventListener("visibilitychange",st)}},[_.medico_id]);const K=b.useMemo(()=>{var Ct,st,Tt,mr,Ot,Dr;const He=(q==null?void 0:q.content)||{},Je=(q==null?void 0:q.header)||{};return{accentBorderColor:((Ct=He==null?void 0:He.colors)==null?void 0:Ct.accent)||((st=q==null?void 0:q.branding)==null?void 0:st.primaryColor)||"#3b82f6",titleSize:`${((Tt=He==null?void 0:He.fontSize)==null?void 0:Tt.title)??16}pt`,smallSize:`${((mr=He==null?void 0:He.fontSize)==null?void 0:mr.small)??10}pt`,primaryColor:((Ot=He==null?void 0:He.colors)==null?void 0:Ot.primary)||"#1f2937",secondaryColor:((Dr=He==null?void 0:He.colors)==null?void 0:Dr.secondary)||"#6b7280",showLogo:(Je==null?void 0:Je.showLogo)!==!1,headerBgColor:(Je==null?void 0:Je.backgroundColor)||"#ffffff",headerBorderBottom:(Je==null?void 0:Je.borderBottom)!==!1,headerBorderColor:(Je==null?void 0:Je.borderColor)||"#e5e7eb",logoPosition:(Je==null?void 0:Je.logoPosition)||"left",doctorInfoPosition:(Je==null?void 0:Je.doctorInfoPosition)||"right"}},[q]),{user:z,ephemeralCertFile:se,setEphemeralCertFile:fe,ephemeralCertPassword:be,setEphemeralCertPassword:Be,clearEphemeralCert:Qe}=cc(),[xe,ie]=b.useState(se||null),[at,gt]=b.useState(be||"");b.useEffect(()=>{fe(xe)},[xe,fe]),b.useEffect(()=>{Be(at)},[at,Be]);const it=b.useMemo(()=>!xe||!at?null:{arquivo:xe,senha:at,modo:"pfx"},[xe,at]),[Ee,dt]=b.useState(null),[ct,Wt]=b.useState(null),[Et,Ut]=b.useState({ok:!0,errors:[],expected:{medicoId:null,pacienteId:f,consultaId:j}});b.useEffect(()=>{let He=!0;async function Je(){var Ct,st,Tt,mr,Ot,Dr,$r,Vt,Ur,zt,ta,hr,fr,Pt,Kr,ra,tn,rn,Wo,Ca,Go,ln,wc,yo;R(!0);try{try{const pt=await Kt.getPerfil(),qe=(pt==null?void 0:pt.user)||(pt==null?void 0:pt.usuario)||{},Gr=D([`${(qe==null?void 0:qe.first_name)||""} ${(qe==null?void 0:qe.last_name)||""}`.trim(),pt==null?void 0:pt.nome,pt==null?void 0:pt.nome_completo,pt==null?void 0:pt.full_name,pt==null?void 0:pt.name]),bt=D([pt==null?void 0:pt.crm,pt==null?void 0:pt.matricula,pt==null?void 0:pt.registro,pt==null?void 0:pt.crm_numero,qe==null?void 0:qe.crm]),sa=D([pt==null?void 0:pt.endereco_consultorio,pt==null?void 0:pt.consultorio_endereco,pt==null?void 0:pt.endereco,qe==null?void 0:qe.endereco,(Ct=pt==null?void 0:pt.clinica)==null?void 0:Ct.endereco]),pa=D([pt==null?void 0:pt.telefone_consultorio,pt==null?void 0:pt.consultorio_telefone,pt==null?void 0:pt.telefone,qe==null?void 0:qe.telefone,qe==null?void 0:qe.phone,(st=pt==null?void 0:pt.clinica)==null?void 0:st.telefone,pt==null?void 0:pt.celular]),Cn=D([qe==null?void 0:qe.email_institucional,qe==null?void 0:qe.email,pt==null?void 0:pt.email_institucional,pt==null?void 0:pt.email,pt==null?void 0:pt.contato_email]),Yr=((Tt=pt==null?void 0:pt.medico)==null?void 0:Tt.id)||(pt==null?void 0:pt.id)||null;He&&pt&&(G(cn=>({...cn,medico:Gr||cn.medico,crm:bt||cn.crm,endereco_consultorio:sa||cn.endereco_consultorio||"",telefone_consultorio:pa||cn.telefone_consultorio||"",email_medico:Cn||cn.email_medico||""})),Ut(cn=>({...cn,expected:{...cn.expected,medicoId:Yr}})))}catch{}try{const pt="/api/pacientes/".replace(/\/?$/,"/");let qe=null,Gr=null;try{const{data:bt}=await we.get(`${pt}${f}/`);qe=bt}catch(bt){console.error("Erro ao carregar dados do mdico:",bt)}if(!qe){const bt=[{id:f},{paciente_id:f},{user:f},{usuario:f},{user__id:f},{usuario_id:f}];for(const sa of bt)try{const{data:pa}=await we.get(pt,{params:sa}),Cn=Array.isArray(pa==null?void 0:pa.results)?pa.results:Array.isArray(pa)?pa:[];if(Cn!=null&&Cn.length){qe=Cn[0];break}if(pa!=null&&pa.id){qe=pa;break}}catch(pa){console.error("Erro ao carregar dados do paciente:",pa)}}if(!qe&&j)try{const{data:bt}=await we.get(`/consultas/${j}/`);Gr=bt;const sa=(bt==null?void 0:bt.paciente)||(bt!=null&&bt.paciente_id?{id:bt.paciente_id}:null);sa&&(qe=sa)}catch(bt){console.error("Erro ao carregar dados do usurio:",bt)}if(!qe&&(w!=null&&w.paciente)&&(qe=w.paciente),He&&qe){const bt=(qe==null?void 0:qe.user)||(qe==null?void 0:qe.usuario)||{},sa=D([bt==null?void 0:bt.display_name,`${(bt==null?void 0:bt.first_name)||""} ${(bt==null?void 0:bt.last_name)||""}`.trim(),bt==null?void 0:bt.nome,bt==null?void 0:bt.nome_completo,qe==null?void 0:qe.nome,qe==null?void 0:qe.nome_completo,qe==null?void 0:qe.name]),pa=U((bt==null?void 0:bt.data_nascimento)||(bt==null?void 0:bt.nascimento)||(bt==null?void 0:bt.dob)||(qe==null?void 0:qe.data_nascimento)||(qe==null?void 0:qe.nascimento)||(qe==null?void 0:qe.dob)||"");let Cn=D([bt==null?void 0:bt.cpf,(mr=bt==null?void 0:bt.profile)==null?void 0:mr.cpf,(Ot=bt==null?void 0:bt.meu_app_user)==null?void 0:Ot.cpf,(Dr=bt==null?void 0:bt.dados)==null?void 0:Dr.cpf,qe==null?void 0:qe.cpf,($r=qe==null?void 0:qe.profile)==null?void 0:$r.cpf,(Vt=qe==null?void 0:qe.meu_app_user)==null?void 0:Vt.cpf,(Ur=qe==null?void 0:qe.dados)==null?void 0:Ur.cpf,(zt=qe==null?void 0:qe.usuario)==null?void 0:zt.cpf,(hr=(ta=qe==null?void 0:qe.usuario)==null?void 0:ta.profile)==null?void 0:hr.cpf,(Pt=(fr=qe==null?void 0:qe.usuario)==null?void 0:fr.meu_app_user)==null?void 0:Pt.cpf,(Kr=w==null?void 0:w.paciente)==null?void 0:Kr.cpf,w==null?void 0:w.cpf,qe==null?void 0:qe.documento,qe==null?void 0:qe.doc,qe==null?void 0:qe.rg]);if(!Cn)try{let Sa=null;const Yi=bt&&typeof bt=="object"&&Object.keys(bt).length>0;if(typeof bt=="number"||typeof bt=="string"?Sa=bt:Yi&&(Sa=bt.id||bt.pk||bt.user||bt.usuario||null),Sa||(Sa=((ra=qe==null?void 0:qe.usuario)==null?void 0:ra.id)||((tn=qe==null?void 0:qe.user)==null?void 0:tn.id)||(qe==null?void 0:qe.usuario_id)||(qe==null?void 0:qe.user_id)||(typeof(qe==null?void 0:qe.usuario)=="number"||typeof(qe==null?void 0:qe.usuario)=="string"?qe.usuario:null)||(typeof(qe==null?void 0:qe.user)=="number"||typeof(qe==null?void 0:qe.user)=="string"?qe.user:null)),Sa){const Aa="/api/users/".replace(/\/?$/,"/"),{data:pn}=await we.get(`${Aa}${Sa}/`);Cn=D([pn==null?void 0:pn.cpf,(rn=pn==null?void 0:pn.profile)==null?void 0:rn.cpf,(Wo=pn==null?void 0:pn.meu_app_user)==null?void 0:Wo.cpf,(Ca=pn==null?void 0:pn.dados)==null?void 0:Ca.cpf])||Cn}}catch(Sa){console.error("Erro ao carregar dados da consulta:",Sa)}const Yr=(bt==null?void 0:bt.email)||(qe==null?void 0:qe.email)||"",cn=pa?k(pa):"";G(Sa=>({...Sa,nome_paciente:sa||Sa.nome_paciente,data_nascimento:pa||Sa.data_nascimento,rg:Sa.rg||Cn,idade:Sa.idade||cn,email_paciente:Sa.email_paciente||Yr}))}try{const bt=Yr=>Yr==null?null:String(Yr),sa=[];let pa=null,Cn=null;if(Gr)pa=((Go=Gr==null?void 0:Gr.medico)==null?void 0:Go.id)||(Gr==null?void 0:Gr.medico)||(Gr==null?void 0:Gr.medico_id)||null,Cn=((ln=Gr==null?void 0:Gr.paciente)==null?void 0:ln.id)||(Gr==null?void 0:Gr.paciente)||(Gr==null?void 0:Gr.paciente_id)||null;else if(j)try{const{data:Yr}=await we.get(`/consultas/${j}/`);pa=((wc=Yr==null?void 0:Yr.medico)==null?void 0:wc.id)||(Yr==null?void 0:Yr.medico)||(Yr==null?void 0:Yr.medico_id)||null,Cn=((yo=Yr==null?void 0:Yr.paciente)==null?void 0:yo.id)||(Yr==null?void 0:Yr.paciente)||(Yr==null?void 0:Yr.paciente_id)||null}catch(Yr){console.error("Erro ao carregar dados do mdico:",Yr)}Cn&&String(Cn)!==String(f)&&sa.push("Paciente da consulta no corresponde ao paciente exibido."),Ut(Yr=>{var Sa,Yi;const cn=(Sa=Yr.expected)==null?void 0:Sa.medicoId;return cn&&pa&&bt(cn)!==bt(pa)&&sa.push("Mdico da consulta no corresponde ao mdico logado."),{ok:sa.length===0,errors:sa,expected:{...Yr.expected,pacienteId:f,consultaId:j,medicoId:cn||((Yi=Yr.expected)==null?void 0:Yi.medicoId)||null}}})}catch(bt){console.error("Erro ao carregar dados do paciente:",bt)}}catch(pt){console.error("Erro ao carregar dados:",pt)}}finally{He&&R(!1)}}return Je(),()=>{He=!1}},[f,j,w==null?void 0:w.cpf,w.paciente]),b.useEffect(()=>{let He=!0;return(async()=>{var Je,Ct;if(v)try{const st=await Kt.getReceitaById(v),Tt=await Kt.getReceitaItens(v).catch(()=>[]),mr=(st==null?void 0:st.paciente_nome)||((Je=st==null?void 0:st.paciente)==null?void 0:Je.nome)||_.nome_paciente,Ot=_.idade,Dr=(st==null?void 0:st.cpf)||((Ct=st==null?void 0:st.paciente)==null?void 0:Ct.cpf)||_.rg,$r=(st==null?void 0:st.data_nascimento)||_.data_nascimento,Vt=(st==null?void 0:st.medicamentos)||(st==null?void 0:st.medicamento)||_.medicamento,Ur=(st==null?void 0:st.posologia)||_.posologia,zt=(st==null?void 0:st.validade)||(st==null?void 0:st.validade_receita)||_.validade_receita,ta=(st==null?void 0:st.observacoes)||_.observacoes;if(He&&G(hr=>({...hr,nome_paciente:mr||hr.nome_paciente,idade:Ot||hr.idade,rg:Dr||hr.rg,data_nascimento:$r||hr.data_nascimento,medicamento:Vt||hr.medicamento,posologia:Ur||hr.posologia,validade_receita:U(zt)||hr.validade_receita,observacoes:ta||hr.observacoes})),He&&Array.isArray(Tt)&&Tt.length){const hr=Tt.map(fr=>({medicamento:{nome:fr.nome||fr.medicamento_nome||fr.descricao},dose:fr.dose,frequencia:fr.frequencia,duracao:fr.duracao,observacoes:fr.observacoes,descricao:fr.descricao}));C.splice(0,C.length,...hr)}}catch(st){console.warn("Falha ao carregar receita por id:",st==null?void 0:st.message)}})(),()=>{He=!1}},[v]);const Mt=He=>{const{name:Je,value:Ct}=He.target;G(st=>({...st,[Je]:Ct})),e&&(r(!1),a(null),i(""),Wt(null),v&&Kt.atualizarReceita(v,{assinada:!1}).catch(()=>{}),p({title:"Assinatura invalidada",description:"A receita foi alterada. Assine novamente para validade jurdica."}))},Gt=()=>{T(!0),p({title:"Receita validada",description:"Os dados foram conferidos. Voc pode gerar o documento."})},Lt=(He,Je="Receita_Medica")=>{const Ct=URL.createObjectURL(He),st=document.createElement("a");st.href=Ct;const Tt=/\.[a-z0-9]+$/i.test(Je);st.download=Tt?Je:`${Je}.pdf`,document.body.appendChild(st),st.click(),st.remove(),setTimeout(()=>URL.revokeObjectURL(Ct),2e3)},_t=()=>{var He;return Et!=null&&Et.ok||p({title:"Vnculo invlido",description:((He=Et.errors)==null?void 0:He.join(` 
`))||"Verifique dados da consulta, mdico e paciente.",variant:"destructive"}),!0},wt=async()=>{var He,Je,Ct;try{if(v)return v;const st=await Kt.getPerfil().catch(()=>null),Tt=((He=st==null?void 0:st.medico)==null?void 0:He.id)||(st==null?void 0:st.id)||null,mr=(_.medicamento||(E?C.map(Ur=>{var zt;return((zt=Ur.medicamento)==null?void 0:zt.nome)||Ur.descricao||""}).filter(Boolean).join("; "):"")).trim(),Ot=(_.posologia||(E?C.map(Ur=>[Ur.dose,Ur.frequencia,Ur.duracao].filter(Boolean).join(" ")).filter(Boolean).join(" | "):"")).trim(),Dr={paciente_id:f,consulta_id:j||void 0,medico_id:Tt||void 0,nome_paciente:_.nome_paciente,cpf:_.rg,data_nascimento:U(_.data_nascimento),medicamento:mr,posologia:Ot,validade:U(_.validade_receita),observacoes:_.observacoes,medico:_.medico,crm:_.crm,endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,email_paciente:_.email_paciente||void 0},$r=await Kt.criarReceita(Dr),Vt=($r==null?void 0:$r.id)||($r==null?void 0:$r.receita_id)||($r==null?void 0:$r.uuid);if(Vt){g(Vt);try{const Ur=[];if(E)C.forEach(zt=>{var ta,hr;Ur.push({medicamento_id:((ta=zt.medicamento)==null?void 0:ta.id)||void 0,dose:zt.dose||void 0,frequencia:zt.frequencia||void 0,duracao:zt.duracao||void 0,observacoes:zt.observacoes||void 0,descricao:((hr=zt.medicamento)==null?void 0:hr.nome)||zt.descricao||void 0,posologia:`${zt.dose||""} ${zt.frequencia||""} ${zt.duracao||""}`.trim()||void 0})});else{const{parsePrescriptionToItems:zt}=await ui(async()=>{const{parsePrescriptionToItems:hr}=await import("./aiPrescriptionParser-DUXOF_BE.js");return{parsePrescriptionToItems:hr}},[]);zt(_.medicamento||"",_.posologia||"").forEach(hr=>Ur.push({descricao:hr.descricao||void 0,dose:hr.dose||void 0,frequencia:hr.frequencia||void 0,duracao:hr.duracao||void 0,posologia:hr.posologia||void 0,observacoes:hr.observacoes||_.observacoes||void 0}))}Ur.length&&await Kt.salvarItensReceita(Vt,Ur)}catch(Ur){try{console.warn("Falha ao salvar itens da receita:",(Je=Ur==null?void 0:Ur.response)==null?void 0:Je.status,((Ct=Ur==null?void 0:Ur.response)==null?void 0:Ct.data)||(Ur==null?void 0:Ur.message))}catch{}}}return Vt||null}catch{return v||null}},Bt=async()=>{var He;if(_t()){V(!0);try{const{pdfTemplateService:Je}=await ui(async()=>{const{pdfTemplateService:Pt}=await Promise.resolve().then(()=>WY);return{pdfTemplateService:Pt}},void 0);try{const Pt=await Kt.getPerfil().catch(()=>null),Kr=(Pt==null?void 0:Pt.user)||{},ra=(_.medico||`${Kr.first_name||""} ${Kr.last_name||""}`.trim()).trim(),tn=_.crm||(Pt==null?void 0:Pt.crm)||((He=Pt==null?void 0:Pt.medico)==null?void 0:He.crm)||"",rn=_.endereco_consultorio||(Pt==null?void 0:Pt.endereco_consultorio)||(Pt==null?void 0:Pt.endereco)||"",Wo=_.telefone_consultorio||(Pt==null?void 0:Pt.telefone_consultorio)||(Pt==null?void 0:Pt.telefone)||"";G(Ca=>{var Go;return{...Ca,medico:ra||Ca.medico,crm:tn||Ca.crm,endereco_consultorio:rn||Ca.endereco_consultorio,telefone_consultorio:Wo||Ca.telefone_consultorio,nome_paciente:Ca.nome_paciente||((Go=w==null?void 0:w.paciente)==null?void 0:Go.nome)||Ca.nome_paciente}}),await new Promise(Ca=>requestAnimationFrame(()=>Ca()))}catch{}const Ct={medicamento:_.medicamento,medicamentos:_.medicamento,posologia:_.posologia,observacoes:_.observacoes,validade_receita:_.validade_receita,data_prescricao:new Date().toISOString(),itens:E?C.map(Pt=>{var Kr,ra,tn,rn;return{medicamento:((Kr=Pt.medicamento)==null?void 0:Kr.nome)||Pt.descricao,apresentacao:(ra=Pt.medicamento)==null?void 0:ra.apresentacao,concentracao:(tn=Pt.medicamento)==null?void 0:tn.concentracao,fabricante:(rn=Pt.medicamento)==null?void 0:rn.fabricante,dose:Pt.dose,frequencia:Pt.frequencia,duracao:Pt.duracao,posologia:`${Pt.dose||""} ${Pt.frequencia||""} ${Pt.duracao||""}`.trim(),observacoes:Pt.observacoes}}):_.medicamento?[{medicamento:_.medicamento,posologia:_.posologia,observacoes:_.observacoes}]:[],hasStructuredItems:E},st={nome:_.medico,crm:_.crm,especialidade:_.especialidade||"",endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,email:_.email_medico||""},Tt={nome:_.nome_paciente,idade:_.idade,rg:_.rg,cpf:_.rg,data_nascimento:_.data_nascimento,endereco:_.endereco_paciente||"",telefone:_.telefone_paciente||""};let mr=_.medico_id||null;try{mr||(mr=await Kt._resolveMedicoId().catch(()=>null)||localStorage.getItem("medico_id")||"default")}catch{mr=mr||localStorage.getItem("medico_id")||"default"}const Ot=await Je.generatePDFFromElement("#receita-preview",{pageSize:"a4",orientation:"portrait",scale:2}),Dr={filename:`Receita_${_.nome_paciente||"Medica"}.pdf`,blob:Ot},$r={paciente_nome:_.nome_paciente,nome_paciente:_.nome_paciente,idade:_.idade,rg:_.rg,cpf:_.rg,data_nascimento:U(_.data_nascimento),medicamento:_.medicamento,medicamentos:_.medicamento,posologia:_.posologia,medico_nome:_.medico,medico_crm:_.crm,medico:_.medico,crm:_.crm,endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,validade_receita:U(_.validade_receita),observacoes:_.observacoes,status:"PENDENTE",data_prescricao:new Date().toISOString()},Vt=Dr==null?void 0:Dr.blob,Ur=(Dr==null?void 0:Dr.filename)||`Receita_${_.nome_paciente||"Medica"}.pdf`;if(!(Vt instanceof Blob))throw new Error("Falha ao gerar PDF - resposta invlida");const zt=await wt();let ta=Vt,hr=Ur,fr=!1;if(String(_.formato).toLowerCase()==="pdf"&&(fr=!1),l(ta),d(hr),fr){r(!0),a(ta),i(hr);try{const Pt=await y(Vt),Kr=await y(ta);zt&&(await Kt.atualizarReceita(zt,{assinada:!0,hash_alg:"SHA-256",hash_pre:Pt,hash_documento:Kr}),await Kt.registrarAuditoriaAssinatura({receita_id:zt,valido:!0,hash_alg:"SHA-256",hash_pre:Pt,hash_documento:Kr,motivo:"Receita Mdica",arquivo:hr}))}catch(Pt){console.error("Erro ao atualizar receita:",Pt)}}else r(!1),a(null),i("");Lt(ta,hr),p({title:"Documento gerado",description:"PDF gerado com sucesso!"})}catch(Je){console.error("Erro na gerao de documento:",Je);const Ct=(Je==null?void 0:Je.message)||"Falha ao gerar documento";p({title:"Erro",description:Ct,variant:"destructive"})}finally{V(!1)}}},St=async()=>{try{if(o||await Bt(),!o){p({title:"Erro",description:" necessrio gerar o PDF antes de assinar",variant:"destructive"});return}H(!0)}catch(He){console.error("Erro ao preparar para assinatura:",He),p({title:"Erro",description:"Falha ao preparar o documento para assinatura",variant:"destructive"})}},[Na,Hr]=b.useState(!1);b.useEffect(()=>{if(!Y)return;let He=!1;async function Je(){try{const st=await(await Yw()).detectTokens(),Tt=Array.isArray(st==null?void 0:st.tokens)?st.tokens:Array.isArray(st)?st:[];!He&&Tt.length>0?(Hr(!0),Ae("token")):He||(Hr(!1),Ae("pfx"))}catch{He||(Hr(!1),Ae("pfx"))}}return Je(),()=>{He=!0}},[Y]);async function Yt(){if(o||await Bt(),!o)throw new Error("Falha ao gerar o documento");const He=await y(o);return{blob:o,hashHex:He}}async function Nr(){var He,Je,Ct,st;V(!0);try{let Tt,mr;if(o)Tt=o,mr=await y(o);else{const Ot=await Yt();Tt=Ot.blob,mr=Ot.hashHex}if(Z==="token"){const Ot=await Yw(),Dr=await Ot.detectTokens();if(!(Array.isArray(Dr==null?void 0:Dr.tokens)?Dr.tokens:[]).length)throw p({title:"Agente local indisponvel",description:"Conecte o token/smartcard e inicie o agente local em http://localhost:8172.",variant:"destructive"}),new Error("Agente local no disponvel");const Vt=await Ot.signHash({document_hash:mr,format:"PAdES",pin:ee||void 0});if((Vt==null?void 0:Vt.status)!=="ok"||!(Vt!=null&&Vt.assinatura)||!(Vt!=null&&Vt.certificado)){const Kr=(Vt==null?void 0:Vt.message)||"Falha ao assinar via agente local";throw new Error(Kr)}if(String(Vt.assinatura).includes("MOCK_")||String(Vt.certificado).includes("MOCK_"))throw p({title:"Assinatura invlida (mock)",description:"Inicie o agente local real ou use certificado PFX.",variant:"destructive"}),new Error("Assinatura mock no aceita");const zt=await wt(),ta=new File([Tt],A||"receita.pdf",{type:"application/pdf"});let hr;try{hr=await(await Yw()).finalizeWithBackend({receitaId:zt,pdfFile:ta,assinatura:Vt.assinatura,certificado:Vt.certificado,cert_subject:((He=Vt==null?void 0:Vt.certDetails)==null?void 0:He.subjectName)||void 0,hash_pre:mr})}catch{hr=await Kt.finalizarAssinaturaExterna({receitaId:zt,pdfFile:ta,assinatura:Vt.assinatura,certificado:Vt.certificado})}const fr=hr==null?void 0:hr.blob,Pt=(hr==null?void 0:hr.filename)||A||"receita_assinada.pdf";if(!(fr instanceof Blob))throw new Error("Finalizao da assinatura falhou");r(!0),a(fr),i(Pt),Wt(new Date().toISOString());try{dt(Vt.certDetails||{algorithm:"SHA256-RSA"})}catch{}try{const Kr=await y(Tt),ra=await y(fr);zt&&(await Kt.atualizarReceita(zt,{assinada:!0,hash_alg:"SHA-256",hash_pre:Kr,hash_documento:ra}),await Kt.registrarAuditoriaAssinatura({receita_id:zt,valido:!0,hash_alg:"SHA-256",hash_pre:Kr,hash_documento:ra,motivo:"Receita Mdica",arquivo:Pt}))}catch(Kr){console.error("Erro ao atualizar registro:",Kr)}Qe(),p({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),H(!1)}else if(Z==="pfx"){if(!xe){p({title:"Certificado ausente",description:"Selecione o arquivo .pfx/.p12.",variant:"destructive"});return}const Ot=String((xe==null?void 0:xe.name)||"").toLowerCase();if(!(Ot.endsWith(".pfx")||Ot.endsWith(".p12"))){p({title:"Arquivo invlido",description:"Apenas .pfx ou .p12 so aceitos.",variant:"destructive"});return}const $r=10*1024*1024;if(xe.size>$r){p({title:"Arquivo muito grande",description:"Limite de 10 MB para PFX.",variant:"destructive"});return}if(!at||!at.trim()){p({title:"Senha obrigatria",description:"Informe a senha do certificado PFX.",variant:"destructive"});return}if(at.trim().length<4){p({title:"Senha fraca",description:"A senha deve ter pelo menos 4 caracteres.",variant:"destructive"});return}const Vt=await wt();let Ur=null;try{Ur=await Kt.getCertificadoInfo()}catch(ra){console.warn("No foi possvel obter informaes do certificado:",ra)}const zt=await Kt.applySignatureStamp(Tt,{signerName:_.medico||void 0,receitaId:Vt||void 0,certInfo:Ur}),ta=new File([zt],A||`Receita_${_.nome_paciente||"Medica"}.pdf`,{type:"application/pdf"}),hr={motivo:"Receita Mdica",local:_.endereco_consultorio||"Consultrio",receitaId:Vt||void 0,pfxFile:xe||void 0,pfxPassword:at||""};let fr;try{fr=await Kt.assinarReceita({receitaId:Vt,pdfFile:ta,certificado:xe,senha:at,modo_assinatura:"pfx",motivo:"Receita Mdica"})}catch{fr=await Kt.signDocumento(ta,hr)}const{filename:Pt,blob:Kr}=fr||{};if(!(Kr instanceof Blob)){p({title:"Falha na assinatura",description:"No foi possvel obter o PDF assinado.",variant:"destructive"});return}try{const ra=new Uint8Array(await Kr.slice(0,8).arrayBuffer());if(!String.fromCharCode(...ra).startsWith("%PDF-")){p({title:"Arquivo invlido",description:"Contedo no  um PDF vlido.",variant:"destructive"});return}}catch{p({title:"Validao falhou",description:"No foi possvel validar o PDF assinado.",variant:"destructive"});return}r(!0),a(Kr),i(Pt||A||ta.name),Wt(new Date().toISOString());try{const ra=await Kt.getCertificadoInfo();dt(ra||null)}catch(ra){console.error("Erro ao obter informaes do certificado:",ra)}try{const ra=await y(Tt),tn=await y(Kr);Vt&&(await Kt.atualizarReceita(Vt,{assinada:!0,hash_alg:"SHA-256",hash_pre:ra,hash_documento:tn,motivo:"Receita Mdica"}),await Kt.salvarArquivoAssinado(Vt,Kr,Pt||A||ta.name),await Kt.registrarAuditoriaAssinatura({receita_id:Vt,valido:!0,hash_alg:"SHA-256",hash_pre:ra,hash_documento:tn,motivo:"Receita Mdica",arquivo:Pt}))}catch(ra){console.error("Erro ao atualizar registro:",ra)}Qe(),p({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."});try{Lt(Kr,Pt||A||ta.name)}catch{}try{const ra=["interno","email"],tn=Pt||A||ta.name;await ou.enviarReceitaMulticanal({pacienteId:f,receitaId:Vt,arquivo:Kr,nomeArquivo:tn,canais:ra,dadosPaciente:{nome:_.nome_paciente,email:_.email_paciente},configuracoes:{linkSite:window.location.origin,linkDownload:Vt?`${window.location.origin}/verificar/${Vt}`:null}})}catch{}H(!1)}else if(Z==="manual"){const Ot=await wt(),Dr=await Kt.applySignatureStamp(Tt,{signerName:_.medico||void 0,receitaId:Ot||void 0}),$r=A||`Receita_${_.nome_paciente||"Medica"}.pdf`;r(!0),a(Dr),i($r),Wt(new Date().toISOString());try{const Vt=await y(Tt),Ur=await y(Dr);Ot&&(await Kt.atualizarReceita(Ot,{assinada:!0,assinada_em:new Date().toISOString(),algoritmo_assinatura:"MANUAL",hash_alg:"SHA-256",hash_pre:Vt,hash_documento:Ur,motivo:"Receita Mdica"}),await Kt.registrarAuditoriaAssinatura({receita_id:Ot,valido:!0,tipo:"assinatura_manual",hash_alg:"SHA-256",hash_pre:Vt,hash_documento:Ur,motivo:"Receita Mdica",arquivo:$r}))}catch(Vt){console.error("Erro ao atualizar registro:",Vt)}p({title:"Assinatura aplicada",description:"Carimbo de assinatura manual adicionado ao PDF."}),H(!1)}}catch(Tt){const mr=(Je=Tt==null?void 0:Tt.response)==null?void 0:Je.status,Ot=((st=(Ct=Tt==null?void 0:Tt.response)==null?void 0:Ct.data)==null?void 0:st.detail)||(Tt==null?void 0:Tt.message)||"Falha ao assinar o documento";console.warn("[PreviewReceita] Erro assinatura:",mr,Ot),p({title:"Erro na assinatura",description:`${Ot}${mr?` [HTTP ${mr}]`:""}`,variant:"destructive"})}finally{V(!1)}}const la=b.useCallback(()=>{const He=_.nome_paciente||"Paciente",Je=_.medico||"Dr(a).";let Ct="medicamentos prescritos";E?Ct=C.map(Vt=>{var Ur;return((Ur=Vt.medicamento)==null?void 0:Ur.nome)||Vt.descricao||"Medicamento"}).join(", "):_.medicamento&&(Ct=_.medicamento);const st=new Date().toLocaleDateString("pt-BR"),Tt=`Nova Receita Mdica - ${He} - ${st}`,mr=`Prezado(a) ${He},

Voc tem uma nova receita mdica disponvel, prescrita pelo ${Je} em ${st}.

Medicamentos prescritos: ${Ct}

Para visualizar e baixar sua receita completa, acesse sua rea do paciente em nosso portal.

Atenciosamente,
${Je}
${_.endereco_consultorio||"Consultrio Mdico"}
${_.telefone_consultorio||""}`,Ot=`${He}, voc tem nova receita mdica de ${Je}. Acesse o portal para visualizar. ${st}`,Dr=`Nova Receita - ${Je}`,$r=`Ol ${He}! Voc tem uma nova receita mdica disponvel, prescrita pelo ${Je} em ${st}. Clique aqui para visualizar os detalhes e fazer o download.`;return{assuntoEmail:Tt,mensagemEmail:mr,mensagemSMS:Ot,tituloInterno:Dr,mensagemInterna:$r}},[_.nome_paciente,_.medico,_.medicamento,_.endereco_consultorio,_.telefone_consultorio,E,C]),[yt,yr]=b.useState(["interno","email"]),[ur,Ba]=b.useState(""),[ka,Ze]=b.useState({assuntoEmail:"Nova receita mdica",mensagemEmail:"",mensagemSMS:"",tituloInterno:"Nova receita mdica disponvel",mensagemInterna:"Voc tem uma nova receita mdica disponvel. Acesse sua rea do paciente para visualizar."});b.useEffect(()=>{if(_.nome_paciente&&_.medico){const He=la();Ze(Je=>({...Je,...He}))}},[_.nome_paciente,_.medico,_.medicamento,_.endereco_consultorio,_.telefone_consultorio]);async function Ye(){var He,Je,Ct,st,Tt,mr;if(_t()){if(yt.includes("sms")){const Ot=ur==null?void 0:ur.replace(/\D/g,"");if(!Ot||Ot.length<10){p({title:"Telefone invlido",description:"Informe um nmero de telefone vlido para envio por SMS.",variant:"destructive"});return}}if(yt.includes("email")&&!((He=_.email_paciente)!=null&&He.trim())){p({title:"E-mail obrigatrio",description:"Informe o e-mail do paciente para envio por e-mail.",variant:"destructive"});return}V(!0);try{if(o||await Bt(),!e||!(t instanceof Blob)){if(!(it!=null&&it.arquivo)){p({title:"Certificado necessrio",description:"Configure um certificado digital antes de enviar a receita.",variant:"destructive"});return}try{const fr=await wt(),Pt=o;if(!Pt){p({title:"Erro",description:"No foi possvel gerar o documento para assinatura.",variant:"destructive"});return}const Kr=await Kt.assinarDocumento({pdfFile:Pt,certificado:it.arquivo,senha:it.senha,motivo:"Receita Mdica",receita_id:fr,modo_assinatura:it.modo||"pfx"});if(Kr!=null&&Kr.blob){const ra=await y(Pt),tn=await y(Kr.blob),rn=Kr.filename||`Receita_${_.nome_paciente||"Medica"}_assinada.pdf`;r(!0),a(Kr.blob),i(rn),await Kt.atualizarReceita(fr,{assinada:!0,hash_alg:"SHA-256",hash_pre:ra,hash_documento:tn}),await Kt.registrarAuditoriaAssinatura({receita_id:fr,valido:!0,hash_alg:"SHA-256",hash_pre:ra,hash_documento:tn,motivo:"Receita Mdica",arquivo:rn}),p({title:"Documento assinado",description:"Receita assinada automaticamente antes do envio."})}else throw new Error("Falha na assinatura automtica")}catch(fr){console.error("[PreviewReceita] Erro na assinatura automtica:",fr),p({title:"Erro na assinatura",description:"No foi possvel assinar automaticamente. Configure o certificado e tente novamente.",variant:"destructive"});return}}if(!e||!(t instanceof Blob)){p({title:"Assinatura obrigatria",description:"A receita precisa ser assinada antes do envio ao paciente.",variant:"destructive"});return}const Ot=await wt(),Dr=t,$r=s||A||`Receita_${_.nome_paciente||"Medica"}_assinada.pdf`;if(Ot&&Dr instanceof Blob)try{await Kt.salvarArquivoAssinado(Ot,Dr,$r),await Kt.atualizarReceita(Ot,{assinada:!0,status:"ASSINADA",assinada_em:new Date().toISOString()})}catch(fr){console.warn("[PreviewReceita] Falha ao persistir arquivo/estado da receita:",(Je=fr==null?void 0:fr.response)==null?void 0:Je.status,((Ct=fr==null?void 0:fr.response)==null?void 0:Ct.data)||(fr==null?void 0:fr.message))}const Vt={nome:_.nome_paciente,email:_.email_paciente,telefone:ur||_.telefone_paciente},Ur={...ka,linkSite:window.location.origin,linkDownload:Ot?`${window.location.origin}/verificar/${Ot}`:null},zt=await ou.enviarReceitaMulticanal({pacienteId:f,receitaId:Ot,arquivo:Dr,nomeArquivo:$r,canais:yt,dadosPaciente:Vt,configuracoes:Ur}),ta=[],hr=[];zt.interno&&ta.push("notificao interna"),zt.email&&ta.push("e-mail"),zt.sms&&ta.push("SMS"),zt.erros.forEach(fr=>{hr.push(`${fr.canal}: ${fr.erro}`)}),ta.length>0?p({title:"Receita enviada",description:`Receita enviada com sucesso via: ${ta.join(", ")}.${hr.length>0?` Falhas: ${hr.join("; ")}`:""}`}):p({title:"Erro no envio",description:`Falha em todos os canais: ${hr.join("; ")}`,variant:"destructive"}),ta.length>0&&m(`/medico/paciente/${f}/receita/confirmacao`,{state:{receitaId:Ot||null,email:_.email_paciente||null,filename:$r,canaisEnviados:ta,resultados:zt}})}catch(Ot){const Dr=(st=Ot==null?void 0:Ot.response)==null?void 0:st.status,$r=((mr=(Tt=Ot==null?void 0:Ot.response)==null?void 0:Tt.data)==null?void 0:mr.detail)||(Ot==null?void 0:Ot.message)||"Falha ao enviar a receita";p({title:"Erro ao enviar",description:`${$r}${Dr?` [HTTP ${Dr}]`:""}`,variant:"destructive"})}finally{V(!1)}}}return J?n.jsx("div",{children:"Carregando preview..."}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hn,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Preview da Receita"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Dados da Receita"})}),n.jsxs(Ue,{className:"space-y-4",children:[Et.ok?null:n.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 p-3 text-sm",children:[n.jsx("div",{className:"font-medium mb-1",children:"Inconsistncias de vnculo detectadas"}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:(ar=Et.errors)==null?void 0:ar.map((He,Je)=>n.jsx("li",{children:He},Je))})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Nome do Paciente"}),n.jsx(Te,{name:"nome_paciente",value:_.nome_paciente,onChange:Mt,placeholder:"Joo da Silva"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{children:"Idade"}),n.jsx(Te,{name:"idade",value:_.idade,onChange:Mt,placeholder:"45"})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"CPF"}),n.jsx(Te,{name:"rg",value:_.rg,onChange:Mt,placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Data de Nascimento"}),n.jsx(ms,{name:"data_nascimento",value:U(_.data_nascimento),onChange:He=>Mt({target:{name:"data_nascimento",value:He}}),maxDate:new Date})]})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Medicamentos e Posologia"}),E?n.jsxs("div",{className:"space-y-3 border rounded-md p-3 bg-muted/20",children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Itens estruturados:"}),C.map((He,Je)=>{var Ct,st;return n.jsxs("div",{className:"border-l-2 border-primary/20 pl-3 space-y-1",children:[n.jsx("div",{className:"font-medium",children:((Ct=He.medicamento)==null?void 0:Ct.nome)||He.descricao||`Item ${Je+1}`}),((st=He.medicamento)==null?void 0:st.apresentacao)&&n.jsx("div",{className:"text-sm text-muted-foreground",children:He.medicamento.apresentacao}),(He.dose||He.frequencia||He.duracao)&&n.jsx("div",{className:"text-sm",children:[He.dose,He.frequencia,He.duracao].filter(Boolean).join("  ")}),He.observacoes&&n.jsx("div",{className:"text-sm text-muted-foreground italic",children:He.observacoes})]},Je)}),n.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:"Campos legados sero preenchidos automaticamente para compatibilidade."})]}):n.jsxs(n.Fragment,{children:[n.jsx(oa,{name:"medicamento",rows:3,value:_.medicamento,onChange:Mt,placeholder:"Nome do medicamento, dose, apresentao..."}),n.jsxs("div",{className:"mt-2",children:[n.jsx(Fe,{children:"Posologia"}),n.jsx(oa,{name:"posologia",rows:3,value:_.posologia,onChange:Mt,placeholder:"Ex: 1 comprimido de 12/12h por 7 dias"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{children:"Validade da Receita"}),n.jsx(ms,{name:"validade_receita",value:U(_.validade_receita),onChange:He=>Mt({target:{name:"validade_receita",value:He}}),minDate:new Date})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Formato"}),n.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"formato",value:_.formato,onChange:Mt,children:[n.jsx("option",{value:"pdf",children:"PDF"}),n.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx(Fe,{className:"text-base font-semibold",children:"Opes de Envio"}),n.jsxs("div",{className:"space-y-4 mt-3",children:[n.jsxs("div",{children:[n.jsx(Fe,{className:"text-sm font-medium",children:"Canais de Envio"}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zg,{id:"canal-interno",checked:yt.includes("interno"),onCheckedChange:He=>{yr(He?[...yt,"interno"]:yt.filter(Je=>Je!=="interno"))}}),n.jsxs(Fe,{htmlFor:"canal-interno",className:"flex items-center gap-1",children:[n.jsx(lm,{className:"h-4 w-4"}),"Notificao Interna"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zg,{id:"canal-email",checked:yt.includes("email"),onCheckedChange:He=>{yr(He?[...yt,"email"]:yt.filter(Je=>Je!=="email"))}}),n.jsxs(Fe,{htmlFor:"canal-email",className:"flex items-center gap-1",children:[n.jsx(yl,{className:"h-4 w-4"}),"E-mail"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zg,{id:"canal-sms",checked:yt.includes("sms"),onCheckedChange:He=>{yr(He?[...yt,"sms"]:yt.filter(Je=>Je!=="sms"))}}),n.jsxs(Fe,{htmlFor:"canal-sms",className:"flex items-center gap-1",children:[n.jsx(EN,{className:"h-4 w-4"}),"SMS"]})]})]})]}),yt.includes("sms")&&n.jsxs("div",{children:[n.jsx(Fe,{children:"Telefone para SMS"}),n.jsx(Te,{value:ur,onChange:He=>Ba(He.target.value),placeholder:"(11) 99999-9999"}),ur&&!/^\(?[1-9]{2}\)?\s?9?\d{4}-?\d{4}$/.test(ur.replace(/\D/g,""))&&n.jsx("div",{className:"text-xs text-red-500 mt-1",children:"Formato invlido. Use: (11) 99999-9999 ou 11999999999"})]}),yt.includes("email")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" E-mail ser enviado automaticamente com assunto e mensagem padro"}),yt.includes("sms")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" SMS ser enviado automaticamente com mensagem padro"}),yt.includes("interno")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" Notificao interna ser enviada automaticamente"})]})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Observaes (opcional)"}),n.jsx(oa,{name:"observacoes",rows:2,value:_.observacoes,onChange:Mt,placeholder:"Orientaes adicionais ao paciente"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[n.jsxs(ve,{type:"button",onClick:Gt,variant:L?"secondary":"default",className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-4 w-4"}),L?" Validado":"Validar Receita"]}),n.jsxs(ve,{type:"button",onClick:Bt,disabled:re,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(lI,{className:"h-4 w-4"}),re?"Gerando...":"Gerar PDF"]}),n.jsxs(ve,{type:"button",variant:"default",onClick:St,disabled:re||!L,className:`flex items-center gap-2 ${e?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[n.jsx(Hs,{className:"h-4 w-4"}),re?"Assinando...":e?" Assinada Digitalmente":"Assinar Receita"]}),n.jsxs(ve,{type:"button",variant:"secondary",onClick:Ye,disabled:re||yt.length===0||!e,className:"flex items-center gap-2",children:[yt.includes("interno")&&n.jsx(lm,{className:"h-4 w-4"}),yt.includes("email")&&n.jsx(yl,{className:"h-4 w-4"}),yt.includes("sms")&&n.jsx(EN,{className:"h-4 w-4"}),yt.length===0?"Selecione um canal":yt.length===1?`Enviar via ${yt[0]==="interno"?"Interno":yt[0]==="email"?"E-mail":"SMS"}`:`Enviar via ${yt.length} canais`]})]})]})]}),n.jsxs(ke,{className:"bg-white",children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Pr-visualizao"})}),n.jsx(Ue,{children:n.jsxs("div",{id:"receita-preview",className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[K.logoPosition==="center"?n.jsxs("div",{className:`${K.headerBorderBottom?"border-b":""} pb-3 flex flex-col items-center`,style:{backgroundColor:K.headerBgColor,borderBottomColor:K.headerBorderColor},children:[K.showLogo&&(X!=null&&X.data)?n.jsx("img",{src:X.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null,n.jsxs("div",{className:"mt-2 text-center w-full",children:[n.jsx("div",{className:"font-bold",style:{fontSize:K.titleSize,color:K.primaryColor},children:((ca=q==null?void 0:q.branding)==null?void 0:ca.clinicName)||_.medico||"Consultrio Mdico"}),((tr=q==null?void 0:q.header)==null?void 0:tr.showDoctorInfo)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-semibold",style:{color:K.primaryColor},children:_.medico}),_.crm&&n.jsxs("div",{style:{fontSize:K.smallSize,color:K.secondaryColor},children:["CRM: ",_.crm]})]}),n.jsx("div",{className:"text-sm",style:{fontSize:K.smallSize,color:K.secondaryColor},children:((Bn=q==null?void 0:q.branding)==null?void 0:Bn.clinicAddress)||_.endereco_consultorio}),n.jsxs("div",{className:"text-sm",style:{fontSize:K.smallSize,color:K.secondaryColor},children:["Telefone: ",((gs=q==null?void 0:q.branding)==null?void 0:gs.clinicPhone)||_.telefone_consultorio]}),(mn=q==null?void 0:q.branding)!=null&&mn.clinicEmail||_.email_medico?n.jsxs("div",{className:"text-sm",style:{fontSize:K.smallSize,color:K.secondaryColor},children:["E-mail: ",((ss=q==null?void 0:q.branding)==null?void 0:ss.clinicEmail)||_.email_medico]}):null]})]}):n.jsxs("div",{className:`flex items-center justify-between ${K.headerBorderBottom?"border-b":""} pb-3`,style:{backgroundColor:K.headerBgColor,borderBottomColor:K.headerBorderColor},children:[K.logoPosition==="left"&&K.showLogo&&(X!=null&&X.data)?n.jsx("img",{src:X.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null,n.jsxs("div",{className:`${K.doctorInfoPosition==="center"?"text-center":K.doctorInfoPosition==="left"?"text-left":"text-right"} flex-1 ml-4`,children:[n.jsx("div",{className:"font-bold",style:{fontSize:K.titleSize,color:K.primaryColor},children:((ut=q==null?void 0:q.branding)==null?void 0:ut.clinicName)||_.medico||"Consultrio Mdico"}),((za=q==null?void 0:q.header)==null?void 0:za.showDoctorInfo)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-semibold",style:{color:K.primaryColor},children:_.medico}),_.crm&&n.jsxs("div",{style:{fontSize:K.smallSize,color:K.secondaryColor},children:["CRM: ",_.crm]})]}),n.jsx("div",{className:"text-sm",style:{fontSize:K.smallSize,color:K.secondaryColor},children:((Xa=q==null?void 0:q.branding)==null?void 0:Xa.clinicAddress)||_.endereco_consultorio}),n.jsxs("div",{className:"text-sm",style:{fontSize:K.smallSize,color:K.secondaryColor},children:["Telefone: ",((js=q==null?void 0:q.branding)==null?void 0:js.clinicPhone)||_.telefone_consultorio]}),(fi=q==null?void 0:q.branding)!=null&&fi.clinicEmail||_.email_medico?n.jsxs("div",{className:"text-sm",style:{fontSize:K.smallSize,color:K.secondaryColor},children:["E-mail: ",((Ja=q==null?void 0:q.branding)==null?void 0:Ja.clinicEmail)||_.email_medico]}):null]}),K.logoPosition==="right"&&K.showLogo&&(X!=null&&X.data)?n.jsx("img",{src:X.data,alt:"Logo",className:"max-h-20 max-w-[150px] object-contain"}):null]}),n.jsxs("div",{className:"text-center my-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),_.nome_paciente]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Idade: "}),_.idade]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF: "}),_.rg]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),_.data_nascimento]})]}),n.jsxs("div",{className:"text-center text-xl font-semibold my-4",children:["Prescrio Mdica",e&&n.jsx("div",{className:"text-sm text-green-600 font-normal mt-1",children:" Assinada Digitalmente"}),!e&&n.jsx("div",{className:"text-sm text-orange-600 font-normal mt-1",children:" Aguardando Assinatura Digital"})]}),n.jsx("div",{className:"text-center",children:E?n.jsx("div",{className:"space-y-4",children:C.map((He,Je)=>{var Ct,st;return n.jsxs("div",{className:"border-b border-muted pb-3 last:border-b-0",children:[n.jsx("div",{className:"font-semibold",children:((Ct=He.medicamento)==null?void 0:Ct.nome)||He.descricao||`Medicamento ${Je+1}`}),((st=He.medicamento)==null?void 0:st.apresentacao)&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:He.medicamento.apresentacao}),(He.dose||He.frequencia||He.duracao)&&n.jsx("div",{className:"mt-2",children:[He.dose,He.frequencia,He.duracao].filter(Boolean).join("  ")}),He.observacoes&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1 italic",children:He.observacoes})]},Je)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:_.medicamento}),_.posologia?n.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:_.posologia}):null]})}),n.jsxs("div",{className:"text-center my-6",children:[n.jsxs("div",{children:["Data de Emisso: ",F]}),n.jsxs("div",{children:["Validade da Receita: ",_.validade_receita||""]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:""}),_.medico&&n.jsxs("div",{children:["Dr(a). ",_.medico,_.crm?`  CRM ${_.crm}`:""]}),e?Ee?n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente conforme ICP-Brasil",Ee!=null&&Ee.subject_name||Ee!=null&&Ee.nome||Ee!=null&&Ee.subject?n.jsxs(n.Fragment,{children:["  Titular: ",(Ee==null?void 0:Ee.subject_name)||(Ee==null?void 0:Ee.nome)||(Ee==null?void 0:Ee.subject)]}):null,_.crm?n.jsxs(n.Fragment,{children:["  CRM: ",_.crm]}):null,_.rg?n.jsxs(n.Fragment,{children:["  CPF: ",_.rg]}):null,Ee!=null&&Ee.algorithm?n.jsxs(n.Fragment,{children:["  Algoritmo: ",Ee.algorithm]}):n.jsx(n.Fragment,{children:"  Algoritmo: SHA256-RSA"}),ct?n.jsxs(n.Fragment,{children:["  Carimbo: ",new Date(ct).toLocaleString()]}):null,Ee!=null&&Ee.valid_to||Ee!=null&&Ee.not_after||Ee!=null&&Ee.valid_until?n.jsxs(n.Fragment,{children:["  Vlido at: ",new Date((Ee==null?void 0:Ee.valid_to)||(Ee==null?void 0:Ee.not_after)||(Ee==null?void 0:Ee.valid_until)).toLocaleDateString()]}):null]}):n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinada manualmente com carimbo visual",_.medico?n.jsxs(n.Fragment,{children:["  Mdico: ",_.medico]}):null,_.crm?n.jsxs(n.Fragment,{children:["  CRM: ",_.crm]}):null,ct?n.jsxs(n.Fragment,{children:["  Data: ",new Date(ct).toLocaleString()]}):null]}):n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]})})]})})]})]}),n.jsx(fA,{open:Y,onOpenChange:H,children:n.jsxs(dc,{className:"sm:max-w-[500px] space-y-6",children:[n.jsxs(uc,{children:[n.jsxs(fc,{className:"flex items-center gap-2",children:[n.jsx(Hs,{className:"h-5 w-5 text-blue-600"}),"Assinatura Digital da Receita"]}),n.jsx(Tm,{children:"Escolha o mtodo de assinatura digital para validar juridicamente a receita mdica."})]}),n.jsx(hs,{}),n.jsxs(zi,{value:Z,onValueChange:Ae,className:"w-full",children:[n.jsxs(qi,{className:"grid grid-cols-3 w-full",children:[n.jsxs(Ir,{value:"token",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Token/Smartcard"]}),n.jsxs(Ir,{value:"pfx",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Certificado PFX"]}),n.jsxs(Ir,{value:"manual",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"}),"Assinatura Manual"]})]}),n.jsx(Tr,{value:"token",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[n.jsx(Hs,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Assinatura via Token"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"token-pin",children:"PIN do Token"}),n.jsx(Te,{id:"token-pin",type:"password",value:ee,onChange:He=>Q(He.target.value),placeholder:"Digite o PIN do seu token",className:"bg-white"})]}),n.jsx("p",{className:"text-xs text-green-700",children:" Conecte seu token USB ou smartcard e insira o PIN para assinar digitalmente."})]})}),n.jsx(Tr,{value:"pfx",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[n.jsx(Hs,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Certificado Digital PFX"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pfx-file",children:"Arquivo do Certificado"}),n.jsx(Te,{id:"pfx-file",type:"file",accept:".pfx,.p12",className:"bg-white",onChange:He=>{var mr;const Je=((mr=He.target.files)==null?void 0:mr[0])||null;if(!Je){ie(null);return}const Ct=(Je.name||"").toLowerCase(),st=Ct.endsWith(".pfx")||Ct.endsWith(".p12"),Tt=10*1024*1024;if(!st){p({title:"Arquivo invlido",description:"Selecione um arquivo .pfx ou .p12.",variant:"destructive"}),He.target.value="",ie(null);return}if(Je.size>Tt){p({title:"Arquivo muito grande",description:"Limite de 10 MB para certificados PFX.",variant:"destructive"}),He.target.value="",ie(null);return}ie(Je)}}),xe&&n.jsxs("div",{className:"text-xs text-blue-700 bg-blue-100 p-2 rounded",children:[" Selecionado: ",xe.name," (",Math.ceil(xe.size/1024)," KB)"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pfx-password",children:"Senha do Certificado"}),n.jsx(Te,{id:"pfx-password",type:"password",value:at,onChange:He=>gt(He.target.value),placeholder:"Digite a senha do certificado",className:"bg-white"}),(!at||!at.trim())&&n.jsx("p",{className:"text-xs text-red-600",children:" Senha obrigatria para assinatura digital."})]}),n.jsx("p",{className:"text-xs text-blue-700",children:" Selecione seu certificado digital (.pfx ou .p12) e informe a senha."})]})}),n.jsx(Tr,{value:"manual",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[n.jsx(Hs,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Assinatura Manual com Carimbo Visual"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Nome do Mdico"}),n.jsx(Te,{value:_.medico||"",readOnly:!0,disabled:!0,className:"bg-white"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"CRM"}),n.jsx(Te,{value:_.crm||"",readOnly:!0,disabled:!0,className:"bg-white"})]})]}),n.jsx("p",{className:"text-xs text-amber-700",children:" Aplica um carimbo com nome e data na ltima pgina e adiciona QR para verificao."}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Use quando no houver certificado digital. O documento fica identificado e auditvel."})]})})]}),n.jsxs(hA,{className:"gap-2",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>H(!1),className:"flex-1",children:"Cancelar"}),n.jsx(ve,{type:"button",onClick:Nr,disabled:re,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:re?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Assinando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Confirmar e Assinar"]})})]})]})})]})}function pX(){const{id:e}=zo(),r=Kn(),{state:t}=ns(),a=(t==null?void 0:t.receitaId)||null,s=(t==null?void 0:t.email)||null,i=(t==null?void 0:t.filename)||null;return n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Receita enviada com sucesso"})}),n.jsxs(Ue,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[n.jsx(po,{className:"h-5 w-5"}),n.jsx("span",{children:"O paciente recebeu a receita assinada."})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[s?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yl,{className:"h-4 w-4"}),n.jsxs("span",{children:["Enviado para: ",s]})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yl,{className:"h-4 w-4"}),n.jsx("span",{children:"E-mail do paciente no informado."})]}),i?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hn,{className:"h-4 w-4"}),n.jsxs("span",{children:["Arquivo: ",i]})]}):null,a?n.jsxs("div",{className:"mt-2 text-xs",children:["ID da Receita: ",a]}):null]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(ve,{onClick:()=>r(`/medico/paciente/${e}/receita/preview`),variant:"secondary",children:"Voltar  receita"}),n.jsx(ve,{onClick:()=>r("/medico/meus-pacientes"),children:"Ir para Meus Pacientes"})]})]})]})})})}const gX=({value:e,onChange:r,onSelect:t,placeholder:a="Digite o nome do medicamento...",disabled:s=!1,className:i=""})=>{const[o,l]=b.useState(e||""),[A,d]=b.useState([]),[f,h]=b.useState(!1),[m,p]=b.useState(!1),[v,g]=b.useState(-1),y=b.useRef(null),w=b.useRef(null);b.useEffect(()=>{l(e||"")},[e]);const j=async D=>{if(!D||D.length<2){d([]),p(!1);return}h(!0);try{const _=await v1.search(D);d(_),p(!0),g(-1)}catch(_){console.error("Erro ao buscar medicamentos:",_),d([])}finally{h(!1)}},C=D=>{const _=D.target.value;l(_),r&&r(_),clearTimeout(window.medicamentoSearchTimeout),window.medicamentoSearchTimeout=setTimeout(()=>{j(_)},300)},E=D=>{const _=`${D.nome} - ${D.apresentacao}`;l(_),p(!1),r&&r(_),t&&t(D)},U=D=>{if(!(!m||A.length===0))switch(D.key){case"ArrowDown":D.preventDefault(),g(_=>_<A.length-1?_+1:0);break;case"ArrowUp":D.preventDefault(),g(_=>_>0?_-1:A.length-1);break;case"Enter":D.preventDefault(),v>=0&&v<A.length&&E(A[v]);break;case"Escape":p(!1),g(-1);break}},k=D=>{setTimeout(()=>{p(!1),g(-1)},200)},F=()=>{A.length>0&&p(!0)};return n.jsxs("div",{className:`medicamento-autocomplete ${i}`,children:[n.jsx("input",{ref:y,type:"text",value:o,onChange:C,onKeyDown:U,onBlur:k,onFocus:F,placeholder:a,disabled:s,className:"form-control",autoComplete:"off"}),f&&n.jsx("div",{className:"autocomplete-loading",children:n.jsx("small",{children:"Buscando medicamentos..."})}),m&&A.length>0&&n.jsx("div",{ref:w,className:"autocomplete-suggestions",children:A.map((D,_)=>n.jsxs("div",{className:`suggestion-item ${_===v?"selected":""}`,onClick:()=>E(D),children:[n.jsx("div",{className:"suggestion-name",children:D.nome}),n.jsxs("div",{className:"suggestion-details",children:[D.apresentacao,D.concentracao&&` - ${D.concentracao}`,D.fabricante&&n.jsxs("span",{className:"suggestion-manufacturer",children:[" (",D.fabricante,")"]})]})]},D.id))}),m&&A.length===0&&!f&&o.length>=2&&n.jsx("div",{className:"autocomplete-no-results",children:n.jsx("small",{children:"Nenhum medicamento encontrado"})})]})},xX=({items:e=[],onChange:r,disabled:t=!1,showLegacyFields:a=!0})=>{const[s,i]=b.useState(e),[o,l]=b.useState(""),[A,d]=b.useState("");b.useEffect(()=>{i(e)},[e]);const f=()=>{const g={id:Date.now(),medicamento:null,medicamento_nome:"",dose:"",frequencia:"",duracao:"",observacoes:""},y=[...s,g];i(y),r&&r(y)},h=g=>{const y=s.filter((w,j)=>j!==g);i(y),r&&r(y)},m=(g,y,w)=>{const j=[...s];j[g]={...j[g],[y]:w},i(j),r&&r(j)},p=(g,y)=>{m(g,"medicamento",y.id),m(g,"medicamento_nome",`${y.nome} - ${y.apresentacao}`)},v=()=>{if(!o.trim())return;const g=o.split(`
`).filter(C=>C.trim()),y=A.split(`
`).filter(C=>C.trim()),w=g.map((C,E)=>({id:Date.now()+E,medicamento:null,medicamento_nome:C.trim(),dose:"",frequencia:y[E]?y[E].trim():"",duracao:"",observacoes:""})),j=[...s,...w];i(j),r&&r(j),l(""),d("")};return n.jsxs("div",{className:"receita-item-manager",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[n.jsx("h6",{children:"Medicamentos da Receita"}),n.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:f,disabled:t,children:"+ Adicionar Medicamento"})]}),s.length>0&&n.jsx("div",{className:"receita-items-list",children:s.map((g,y)=>n.jsxs("div",{className:"receita-item-card",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[n.jsxs("span",{className:"item-number",children:["#",y+1]}),n.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(y),disabled:t,children:""})]}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Medicamento"}),n.jsx(gX,{value:g.medicamento_nome,onChange:w=>m(y,"medicamento_nome",w),onSelect:w=>p(y,w),disabled:t,placeholder:"Digite o nome do medicamento..."})]}),n.jsxs("div",{className:"col-md-3 mb-2",children:[n.jsx("label",{className:"form-label",children:"Dose"}),n.jsx("input",{type:"text",className:"form-control",value:g.dose,onChange:w=>m(y,"dose",w.target.value),placeholder:"Ex: 500mg",disabled:t})]}),n.jsxs("div",{className:"col-md-3 mb-2",children:[n.jsx("label",{className:"form-label",children:"Frequncia"}),n.jsx("input",{type:"text",className:"form-control",value:g.frequencia,onChange:w=>m(y,"frequencia",w.target.value),placeholder:"Ex: 2x ao dia",disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Durao"}),n.jsx("input",{type:"text",className:"form-control",value:g.duracao,onChange:w=>m(y,"duracao",w.target.value),placeholder:"Ex: 7 dias",disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Observaes"}),n.jsx("input",{type:"text",className:"form-control",value:g.observacoes,onChange:w=>m(y,"observacoes",w.target.value),placeholder:"Observaes adicionais",disabled:t})]})]})]},g.id||y))}),a&&n.jsxs("div",{className:"legacy-fields mt-4",children:[n.jsx("h6",{children:"Importar de Texto Livre"}),n.jsx("p",{className:"text-muted small",children:"Cole aqui o texto dos medicamentos e posologia para converter em itens estruturados."}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Medicamentos (um por linha)"}),n.jsx("textarea",{className:"form-control",rows:"4",value:o,onChange:g=>l(g.target.value),placeholder:`Ex:
Paracetamol 500mg
Ibuprofeno 400mg`,disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Posologia (uma por linha)"}),n.jsx("textarea",{className:"form-control",rows:"4",value:A,onChange:g=>d(g.target.value),placeholder:`Ex:
1 comprimido de 8/8h por 7 dias
1 comprimido de 12/12h por 5 dias`,disabled:t})]})]}),n.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:v,disabled:t||!o.trim(),children:"Converter para Itens Estruturados"})]}),s.length===0&&n.jsxs("div",{className:"empty-state text-center py-4",children:[n.jsx("p",{className:"text-muted",children:"Nenhum medicamento adicionado ainda."}),n.jsx("button",{type:"button",className:"btn btn-primary",onClick:f,disabled:t,children:"Adicionar Primeiro Medicamento"})]})]})};function vX(){var y,w,j;const{id:e}=zo(),r=ns(),t=Kn();Va();const a=((y=r.state)==null?void 0:y.resumo)||{},s=(w=r.state)==null?void 0:w.consultaId,i=(j=r.state)==null?void 0:j.prontuarioId,[o,l]=b.useState({queixa:aE(a.queixa||""),historia:a.historia||"",diagnostico:a.diagnostico||"",conduta:a.conduta||"",medicamentos:a.medicamentos||"",posologia:a.posologia||"",validade:a.validade||""}),[A,d]=b.useState([]),[f,h]=b.useState(!1),m=C=>{const{name:E,value:U}=C.target;l(k=>({...k,[E]:U}))},p=C=>{d(C);const E=C.map(k=>k.medicamento_nome).filter(Boolean).join(`
`),U=C.map(k=>{const F=[];return k.dose&&F.push(k.dose),k.frequencia&&F.push(k.frequencia),k.duracao&&F.push(k.duracao),k.observacoes&&F.push(`(${k.observacoes})`),F.join(" - ")}).filter(Boolean).join(`
`);l(k=>({...k,medicamentos:E,posologia:U}))},v=async()=>{var C;try{if(i)try{await((C=Kt.atualizarProntuario)==null?void 0:C.call(Kt,i,{queixa_principal:o.queixa,historia_doenca_atual:o.historia,diagnostico_principal:o.diagnostico,conduta:o.conduta,medicamentos_uso:o.medicamentos}))}catch{}}finally{t(`/medico/paciente/${e}/receita/preview`,{state:{fromConsulta:{medicamentos:o.medicamentos,posologia:o.posologia,validade:o.validade,receitaItems:f?A:void 0},consultaId:s}})}},g=b.useMemo(()=>new Date().toLocaleDateString(),[]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Z6,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Resumo da Consulta"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Informaes Principais"})}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Queixa Principal"}),n.jsx(oa,{name:"queixa",rows:3,value:o.queixa,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Histria da Doena Atual"}),n.jsx(oa,{name:"historia",rows:4,value:o.historia,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Diagnstico"}),n.jsx(oa,{name:"diagnostico",rows:3,value:o.diagnostico,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Conduta"}),n.jsx(oa,{name:"conduta",rows:3,value:o.conduta,onChange:m})]})]})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center justify-between",children:["Prescrio",n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"useStructured",checked:f,onChange:C=>h(C.target.checked),className:"rounded"}),n.jsx("label",{htmlFor:"useStructured",className:"text-sm font-normal",children:"Usar itens estruturados"})]})]})}),n.jsxs(Ue,{className:"space-y-4",children:[f?n.jsx(xX,{items:A,onChange:p,showLegacyFields:!0}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Medicamentos"}),n.jsx(oa,{name:"medicamentos",rows:4,value:o.medicamentos,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Posologia"}),n.jsx(oa,{name:"posologia",rows:3,value:o.posologia,onChange:m})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Validade da Receita"}),n.jsx(ms,{name:"validade",value:o.validade,onChange:C=>m({target:{name:"validade",value:C}}),className:"border rounded h-10 px-3 bg-background",minDate:new Date})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{onClick:v,children:[n.jsx(W6,{className:"h-4 w-4 mr-2"})," Gerar Receita"]}),n.jsx(ve,{variant:"outline",onClick:()=>t(-1),children:"Voltar"})]})]})]})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Resumo Visual"})}),n.jsx(Ue,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Data:"})," ",g]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Queixa:"})," ",o.queixa||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Histria:"})," ",o.historia||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Diagnstico:"})," ",o.diagnostico||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Conduta:"})," ",o.conduta||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Medicamentos:"})," ",o.medicamentos||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Posologia:"})," ",o.posologia||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Validade:"})," ",o.validade||"-"]})]})})]})]})}function wX(){const{id:e}=zo(),[r,t]=b.useState(null),[a,s]=b.useState(!0),[i,o]=b.useState([]),[l,A]=b.useState(!0),[d,f]=b.useState(null);b.useEffect(()=>{let v=!0;return(async()=>{var g,y;try{const w="/api/pacientes/",j=w.endsWith("/")?w:`${w}/`,C=await we.get(`${j}${e}/`);v&&t(C.data)}catch(w){try{console.debug("[Medico/Receitas] Falha paciente:",(g=w==null?void 0:w.response)==null?void 0:g.status)}catch{}}finally{v&&s(!1)}try{const w="/api/receitas/",j=w.endsWith("/")?w:`${w}/`,C={paciente:e,paciente_id:e,status:"ativa",situacao:"ativa",limit:100},E=await we.get(j,{params:C}),U=E==null?void 0:E.data;let k=Array.isArray(U)?U:Array.isArray(U==null?void 0:U.results)?U.results:[];const F=D=>String(D||"").toLowerCase();k=k.filter(D=>{const _=F(D.status||D.situacao||""),G=D.validade||D.validade_receita||null,L=["ativa","valida","vlida"].includes(_);if(G)try{return L||new Date(G)>=new Date}catch{return L}return L||!0}),v&&o(k)}catch(w){try{console.debug("[Medico/Receitas] Falha receitas:",(y=w==null?void 0:w.response)==null?void 0:y.status)}catch{}v&&o([])}finally{v&&A(!1)}})(),()=>{v=!1}},[e]);const h=b.useMemo(()=>[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Receitas",href:`/medico/paciente/${e}/receitas`}],[e]),m=v=>{const g=String((v==null?void 0:v.status)||(v==null?void 0:v.situacao)||"").toLowerCase();if(["ativa","valida","vlida"].includes(g))return!0;const y=(v==null?void 0:v.validade)||(v==null?void 0:v.validade_receita);if(y)try{return new Date(y)>=new Date}catch{return!1}return!1},p=async v=>{var y,w;const g=(v==null?void 0:v.id)||(v==null?void 0:v.pk)||(v==null?void 0:v.uuid);if(g){f(g);try{const j="/api/receitas/",C=j.endsWith("/")?j:`${j}/`,E=!m(v),U={};if(U.status=E?"ativa":"inativa",U.situacao=U.status,U.ativa=E,E&&!v.validade&&!v.validade_receita){const _=new Date;_.setDate(_.getDate()+30),U.validade=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}-${String(_.getDate()).padStart(2,"0")}`}const k=`${C}${g}/`,F=await we.patch(k,U),D=(F==null?void 0:F.data)||{...v,...U};o(_=>_.map(G=>String(G.id)===String(g)?{...G,...D}:G))}catch(j){try{console.warn("[Medico/Receitas] toggle falhou:",(y=j==null?void 0:j.response)==null?void 0:y.status,(w=j==null?void 0:j.response)==null?void 0:w.data)}catch{}}finally{f(null)}}};return a&&l?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Br,{className:"h-8 w-48"}),n.jsx(Br,{className:"h-4 w-64"})]}),n.jsx(Br,{className:"h-32 w-full rounded-xl"}),n.jsx(Br,{className:"h-12 w-full"}),n.jsx(Br,{className:"h-64 w-full"})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Receitas do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie receitas ativas"})]}),n.jsx(Km,{patientId:e,isPacienteView:!1,profile:r==null?void 0:r.user,patient:r,loading:a}),n.jsx(Wi,{tabs:h,basePath:`/medico/paciente/${e}`}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(Cf,{className:"h-5 w-5"})," Receitas Ativas"]})}),n.jsx(Ue,{children:l?n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((v,g)=>n.jsx(Br,{className:"h-16 w-full"},g))}):i.length===0?n.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"Nenhuma receita ativa encontrada para este paciente."}):n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ya,{children:[n.jsx(dr,{children:"ID"}),n.jsx(dr,{children:"Mdico"}),n.jsx(dr,{children:"Emitida"}),n.jsx(dr,{children:"Validade"}),n.jsx(dr,{children:"Status"}),n.jsx(dr,{className:"text-right",children:"Ativa"})]})}),n.jsx(wo,{children:i.map(v=>{var E,U,k,F,D;const g=v.created_at||v.data_emissao,y=v.validade||v.validade_receita,w=String(v.status||v.situacao||"").toLowerCase(),j=m(v),C=((E=v==null?void 0:v.medico)==null?void 0:E.nome)||(v==null?void 0:v.medico_nome)||((k=(U=v==null?void 0:v.consulta)==null?void 0:U.medico)!=null&&k.user?`${v.consulta.medico.user.first_name||""} ${v.consulta.medico.user.last_name||""}`.trim():(D=(F=v==null?void 0:v.consulta)==null?void 0:F.medico)==null?void 0:D.nome);return n.jsxs(Ya,{children:[n.jsx(ir,{children:v.id||v.pk||v.uuid}),n.jsx(ir,{children:C||"Mdico"}),n.jsx(ir,{children:g?new Date(g).toLocaleDateString():""}),n.jsx(ir,{children:y||""}),n.jsx(ir,{children:n.jsx(lr,{variant:j?"default":"secondary",children:j?"Ativa":w||"inativa"})}),n.jsx(ir,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(nu,{checked:j,disabled:d===(v.id||v.pk||v.uuid),onCheckedChange:()=>p(v)}),n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(pr,{to:v.arquivo_assinado?v.arquivo_assinado:`/medico/paciente/${e}/receita/preview`,target:v.arquivo_assinado?"_blank":void 0,children:[v.arquivo_assinado?n.jsx(us,{className:"h-4 w-4 mr-1"}):n.jsx(wr,{className:"h-4 w-4 mr-1"}),v.arquivo_assinado?"Abrir PDF":"Preview"]})})]})})]},v.id||v.pk||v.uuid)})})]})})]})]})}const di={async getDashboard(){var t;const e=[];e.push("/clinicas/dashboard/");let r;for(const a of e){const s=a.endsWith("/")?a:`${a}/`;try{return console.debug("[clinicaService] GET",s),(await we.get(s)).data}catch(i){if(((t=i==null?void 0:i.response)==null?void 0:t.status)===404){r=i;continue}throw i}}throw r||new Error("Endpoint de dashboard da clnica no encontrado.")},getCalendario:(e,r)=>we.get(`/clinica/calendario/?mes=${e}&ano=${r}`),getExamesPorData:e=>we.get(`/clinica/exames/?data=${e}`),getDisponibilidade:e=>we.get(`/clinica/disponibilidade/?data=${e}`),setDisponibilidade:(e,r)=>we.post("/clinica/disponibilidade/",{data:e,horarios:r}),updateDisponibilidade:(e,r)=>we.put(`/clinica/disponibilidade/${e}/`,r),deleteDisponibilidade:e=>we.delete(`/clinica/disponibilidade/${e}/`),getExames:(e={})=>we.get("/clinica/exames/",{params:e}),createExame:e=>we.post("/clinica/exames/",e),updateExame:(e,r)=>we.put(`/clinica/exames/${e}/`,r),deleteExame:e=>we.delete(`/clinica/exames/${e}/`),getTiposExame:()=>we.get("/clinica/tipos-exame/"),getRelatorios:e=>we.get(`/clinica/relatorios/?periodo=${e}`),getPacientes:()=>we.get("/clinica/pacientes/"),getMedicos:()=>we.get("/clinica/medicos/"),async vincularSecretaria(e){var l,A,d,f;if(!e)throw new Error("secretariaId  obrigatrio");let r=null;try{try{const h=await we.get("/clinicas/me/");(l=h==null?void 0:h.data)!=null&&l.id&&(r=h.data.id)}catch{}if(!r){const h=await we.get("/clinicas/"),m=Array.isArray((A=h.data)==null?void 0:A.results)?h.data.results:h.data;(d=m==null?void 0:m[0])!=null&&d.id&&(r=m[0].id)}}catch{}if(!r)throw new Error("No foi possvel resolver o ID da clnica.");const t="/clinicas/",a=t.endsWith("/")?t:`${t}/`,s=[`${a}${r}/secretarias/`,`${a}${r}/adicionar_secretaria/`,`${a}${r}/vincular_secretaria/`],i={secretaria:e,secretaria_id:e};let o;for(const h of s)try{return(await we.post(h,i)).data}catch(m){const p=(f=m==null?void 0:m.response)==null?void 0:f.status;if(p===404||p===405){o=m;continue}throw m}throw o||new Error("Nenhum endpoint de vinculao de secretria encontrado para clnica.")}};function yX(){const{data:e,loading:r,error:t}=UF(di.getDashboard);if(r)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm animate-pulse",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("div",{className:"h-4 w-20 bg-gradient-to-r from-slate-200 to-slate-300 rounded"}),n.jsx("div",{className:"h-4 w-4 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"h-8 w-16 bg-gradient-to-r from-slate-200 to-slate-300 rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]})]},o))})})});if(t)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:n.jsx(Ue,{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center",children:[n.jsx(pu,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),n.jsx("p",{className:"text-slate-600",children:"Erro ao carregar dashboard"})]})})})})});const a=e||{examesHoje:12,examesTotais:156,pacientesAtivos:89,taxaOcupacao:85,proximosExames:[{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}],examesPendentes:5},s=({title:i,value:o,icon:l,description:A,gradient:d,iconBg:f,textColor:h,trend:m})=>n.jsx(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:`bg-gradient-to-br ${d} rounded-2xl p-6 text-white relative overflow-hidden`,children:[n.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full -ml-8 -mb-8"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-3 ${f} rounded-xl`,children:n.jsx(l,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`text-3xl font-bold ${h}`,children:o}),n.jsx("div",{className:"text-white/80 text-sm font-medium",children:i})]})]}),n.jsx("div",{className:"text-white/90 text-sm",children:A}),m&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-white/80 text-xs",children:[n.jsx(_m,{className:"h-3 w-3"}),m]})]})]})})});return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 rounded-2xl p-8 text-white shadow-2xl",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard da Clnica"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie exames, horrios e acompanhe o desempenho da clnica"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ve,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",asChild:!0,children:n.jsxs(pr,{to:"/clinica/calendario",children:[n.jsx(q0,{className:"h-4 w-4 mr-2"}),"Calendrio"]})}),n.jsx(ve,{className:"bg-white text-blue-600 hover:bg-blue-50",asChild:!0,children:n.jsxs(pr,{to:"/clinica/exames",children:[n.jsx(gu,{className:"h-4 w-4 mr-2"}),"Agendar Exame"]})})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(s,{title:"Exames Hoje",value:a.examesHoje,icon:wr,description:"Exames agendados para hoje",gradient:"from-blue-500 to-blue-600",iconBg:"bg-blue-400/30",textColor:"text-white",trend:"+2 desde ontem"}),n.jsx(s,{title:"Total de Exames",value:a.examesTotais,icon:hn,description:"Exames realizados este ms",gradient:"from-green-500 to-green-600",iconBg:"bg-green-400/30",textColor:"text-white"}),n.jsx(s,{title:"Pacientes Ativos",value:a.pacientesAtivos,icon:As,description:"Pacientes cadastrados",gradient:"from-purple-500 to-purple-600",iconBg:"bg-purple-400/30",textColor:"text-white",trend:"+12% desde o ms passado"}),n.jsx(s,{title:"Taxa de Ocupao",value:`${a.taxaOcupacao}%`,icon:Bi,description:"Capacidade atual dos equipamentos",gradient:"from-orange-500 to-orange-600",iconBg:"bg-orange-400/30",textColor:"text-white"})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(Ke,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Or,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-slate-800",children:"Prximos Exames"}),n.jsx(gr,{className:"text-slate-600",children:"Exames agendados para hoje"})]})]}),n.jsx(ve,{variant:"outline",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:n.jsxs(pr,{to:"/clinica/exames",children:["Ver todos",n.jsx(Yg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(Ue,{className:"p-6",children:a.proximosExames.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(Or,{className:"h-8 w-8 text-slate-400"})}),n.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhum exame agendado"}),n.jsx("p",{className:"text-slate-500 text-sm",children:"No h exames programados para hoje"})]}):n.jsx("div",{className:"space-y-4",children:a.proximosExames.map(i=>n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 hover:shadow-md transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[n.jsx("span",{className:"text-sm font-bold text-blue-700",children:i.horario}),n.jsx("span",{className:"text-xs text-blue-600",children:"Hoje"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:i.paciente}),n.jsx("p",{className:"text-sm text-slate-600",children:i.tipo}),n.jsx(lr,{variant:i.status==="confirmado"?"default":"secondary",className:`mt-1 text-xs ${i.status==="confirmado"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:i.status})]})]}),n.jsx(ve,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:n.jsx(ea,{className:"h-4 w-4"})})]})},i.id))})})]})}),n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(Ke,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(cm,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-slate-800",children:"Aes Rpidas"}),n.jsx(gr,{className:"text-slate-600",children:"Acesso rpido s principais funcionalidades"})]})]})}),n.jsxs(Ue,{className:"p-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(ve,{className:"w-full justify-start btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(pr,{to:"/clinica/calendario",children:[n.jsx(wr,{className:"mr-2 h-4 w-4"}),"Ver Calendrio"]})}),n.jsx(ve,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(pr,{to:"/clinica/disponibilidade",children:[n.jsx(Or,{className:"mr-2 h-4 w-4"}),"Gerenciar Horrios"]})}),n.jsx(ve,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(pr,{to:"/clinica/exames",children:[n.jsx(hn,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})}),n.jsx(ve,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(pr,{to:"/clinica/pacientes",children:[n.jsx(As,{className:"mr-2 h-4 w-4"}),"Ver Pacientes"]})})]}),a.examesPendentes>0&&n.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pu,{className:"h-4 w-4 text-yellow-600"}),n.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[a.examesPendentes," exames pendentes de confirmao"]})]})})]})]})})]})]})})}const bX=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],NX=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];function jX(){const[e,r]=b.useState(new Date),[t,a]=b.useState([]),[s,i]=b.useState(null),[o,l]=b.useState({}),[A,d]=b.useState(!1),[f,h]=b.useState(!1),[m,p]=b.useState(!1),[v,g]=b.useState({paciente:"",tipo:"",hora:""}),[y,w]=b.useState([]),[j,C]=b.useState([]),[E]=WU();b.useEffect(()=>{U()},[e]),b.useEffect(()=>{(async()=>{var re,V;try{const[Y,H]=await Promise.all([di.getPacientes().catch(()=>({data:[]})),di.getTiposExame().catch(()=>({data:[]}))]),Z=Array.isArray(Y==null?void 0:Y.data)?Y.data:((re=Y==null?void 0:Y.data)==null?void 0:re.results)||[],Ae=Array.isArray(H==null?void 0:H.data)?H.data:((V=H==null?void 0:H.data)==null?void 0:V.results)||[];w(Z),C(Ae)}catch{}})()},[]),b.useEffect(()=>{const R=E.get("data"),re=E.get("paciente");R&&(i(R),k(R)),re&&(g(V=>({...V,paciente:String(re)})),h(!0))},[]);const U=async()=>{d(!0);try{const R=await di.getCalendario(e.getMonth()+1,e.getFullYear());l(R.data||{})}catch(R){console.error("Erro ao carregar calendrio:",R),l({"2024-01-15":{total:5,status:"ocupado"},"2024-01-16":{total:8,status:"lotado"},"2024-01-17":{total:3,status:"disponivel"},"2024-01-18":{total:6,status:"ocupado"},"2024-01-22":{total:2,status:"disponivel"},"2024-01-23":{total:7,status:"ocupado"}})}finally{d(!1)}},k=async R=>{try{const re=await di.getExamesPorData(R);a(re.data||[])}catch(re){console.error("Erro ao carregar exames:",re),a([{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}])}},F=R=>{const re=new Date(e);re.setMonth(e.getMonth()+R),r(re)},D=R=>{const V=new Date(e.getFullYear(),e.getMonth(),R).toISOString().split("T")[0];i(V),k(V)},_=(R="")=>{g({paciente:R?String(R):"",tipo:"",hora:""}),h(!0)},G=async()=>{if(!s)return;const{paciente:R,tipo:re,hora:V}=v;if(!R||!re||!V){alert("Preencha paciente, tipo e horrio.");return}p(!0);try{const Y={paciente:R,tipo:re,data:s,hora:V};await di.createExame(Y),h(!1),g({paciente:"",tipo:"",hora:""}),await k(s)}catch{alert("Erro ao agendar. Verifique os dados e tente novamente.")}finally{p(!1)}},L=()=>{const R=e.getFullYear(),re=e.getMonth(),V=new Date(R,re,1),Y=new Date(R,re+1,0),H=V.getDay(),Z=Y.getDate(),Ae=[];for(let Q=H-1;Q>=0;Q--){const q=new Date(R,re,-Q);Ae.push({dia:q.getDate(),outroMes:!0,data:q})}for(let Q=1;Q<=Z;Q++){const q=new Date(R,re,Q),$=q.toISOString().split("T")[0],X=o[$]||{total:0,status:"disponivel"};Ae.push({dia:Q,outroMes:!1,data:q,dataString:$,...X})}const ee=42-Ae.length;for(let Q=1;Q<=ee;Q++){const q=new Date(R,re+1,Q);Ae.push({dia:Q,outroMes:!0,data:q})}return Ae},T=R=>{switch(R){case"disponivel":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"ocupado":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200";case"lotado":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},J=L();return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendrio de Exames"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie os exames agendados"})]})}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),bX[e.getMonth()]," ",e.getFullYear()]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>F(-1),children:n.jsx(nS,{className:"h-4 w-4"})}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>F(1),children:n.jsx(xl,{className:"h-4 w-4"})})]})]})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:NX.map(R=>n.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:R},R))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:J.map((R,re)=>n.jsxs("button",{onClick:()=>!R.outroMes&&D(R.dia),disabled:R.outroMes,className:`
                        p-2 text-sm rounded-lg transition-colors relative
                        ${R.outroMes?"text-muted-foreground cursor-not-allowed":"hover:bg-accent cursor-pointer"}
                        ${s===R.dataString?"bg-primary text-primary-foreground":""}
                      `,children:[n.jsx("div",{className:"font-medium",children:R.dia}),!R.outroMes&&R.total>0&&n.jsx("div",{className:`
                          absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center
                          ${T(R.status)}
                        `,children:R.total})]},re))}),n.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{children:"Disponvel"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),n.jsx("span",{children:"Ocupado"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{children:"Lotado"})]})]})]})]})}),n.jsx("div",{children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(Or,{className:"h-5 w-5"}),s?"Exames do Dia":"Selecione uma Data"]}),s&&n.jsx(gr,{children:new Date(s+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsx(Ue,{children:s?t.length===0?n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(Or,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhum exame agendado para esta data"}),n.jsx(ve,{className:"mt-4",size:"sm",onClick:()=>_(),children:"Agendar Exame"})]}):n.jsxs("div",{className:"space-y-3",children:[t.map(R=>n.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:R.paciente})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{variant:R.status==="confirmado"?"default":"secondary",children:R.status}),n.jsx(ve,{variant:"outline",size:"sm",className:"bg-transparent",onClick:()=>_(R.paciente_id||R.pacienteId||""),title:"Agendar novo exame para este paciente",children:"Agendar"})]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("p",{children:R.tipo}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Or,{className:"h-3 w-3"}),R.horario]})]})]},R.id)),n.jsx(ve,{className:"w-full mt-4",size:"sm",onClick:()=>_(),children:"Agendar Novo Exame"})]}):n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(wr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Clique em uma data no calendrio para ver os exames agendados"})]})})]})})]})]}),n.jsx(fA,{open:f,onOpenChange:h,children:n.jsxs(dc,{children:[n.jsxs(uc,{children:[n.jsx(fc,{children:"Agendar exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",s?new Date(s+"T00:00:00").toLocaleDateString("pt-BR"):"-"]})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Paciente"}),n.jsxs(qr,{value:v.paciente,onValueChange:R=>g(re=>({...re,paciente:R})),children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Selecione o paciente"})}),n.jsx(zr,{children:y.map(R=>n.jsxs(rt,{value:String(R.id),children:[R.nome," ",R.cpf?`- ${R.cpf}`:""]},R.id))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Tipo de exame"}),n.jsxs(qr,{value:v.tipo,onValueChange:R=>g(re=>({...re,tipo:R})),children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Selecione o tipo"})}),n.jsx(zr,{children:j.map(R=>n.jsx(rt,{value:String(R.id||R.value||R),children:R.nome||R.label||R.value||R},R.id||R.value||R))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Horrio"}),n.jsx(Te,{type:"time",value:v.hora,onChange:R=>g(re=>({...re,hora:R.target.value}))})]})]}),n.jsxs(hA,{className:"mt-4",children:[n.jsx(ve,{variant:"outline",className:"bg-transparent",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(ve,{onClick:G,disabled:m,children:m?"Salvando...":"Agendar"})]})]})})]})}const BX={manha:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],tarde:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],integral:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"]};function CX(){const[e,r]=b.useState(""),[t,a]=b.useState([]),[s,i]=b.useState(""),[o,l]=b.useState(!1),[A,d]=b.useState(!1),{toast:f}=Va();b.useEffect(()=>{e&&h()},[e]);const h=async()=>{var j;l(!0);try{const C=await di.getDisponibilidade(e);a(((j=C.data)==null?void 0:j.horarios)||[])}catch(C){console.error("Erro ao carregar disponibilidade:",C),a([{horario:"09:00",ocupado:!1},{horario:"10:00",ocupado:!0},{horario:"11:00",ocupado:!1},{horario:"14:00",ocupado:!1},{horario:"15:00",ocupado:!0}])}finally{l(!1)}},m=async()=>{if(!e){f({title:"Erro",description:"Selecione uma data primeiro",variant:"destructive"});return}d(!0);try{await di.setDisponibilidade(e,t),f({title:"Sucesso",description:"Disponibilidade salva com sucesso"})}catch(j){console.error("Erro ao salvar disponibilidade:",j),f({title:"Erro",description:"Erro ao salvar disponibilidade",variant:"destructive"})}finally{d(!1)}},p=()=>{if(!s)return;if(t.some(C=>C.horario===s)){f({title:"Aviso",description:"Este horrio j existe",variant:"destructive"});return}a([...t,{horario:s,ocupado:!1}].sort((C,E)=>C.horario.localeCompare(E.horario))),i("")},v=j=>{a(t.filter(C=>C.horario!==j))},g=j=>{const C=BX[j].map(E=>({horario:E,ocupado:!1}));a(C)},y=async()=>{var E;if(!e)return;const j=new Date(e);j.setDate(j.getDate()-1);const C=j.toISOString().split("T")[0];try{const F=(((E=(await di.getDisponibilidade(C)).data)==null?void 0:E.horarios)||[]).filter(D=>!D.ocupado).map(D=>({...D,ocupado:!1}));a(F),f({title:"Sucesso",description:"Horrios copiados do dia anterior"})}catch(U){console.error("Erro ao copiar horrios:",U),f({title:"Erro",description:"Erro ao copiar horrios do dia anterior",variant:"destructive"})}},w=new Date().toISOString().split("T")[0];return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Disponibilidade"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure os horrios disponveis para exames"})]})}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Selecionar Data"]})}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{htmlFor:"data",children:"Data"}),n.jsx(ms,{id:"data",name:"data",value:e,onChange:r,minDate:w?new Date(w):void 0})]}),e&&n.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Templates Rpidos"}),n.jsx(gr,{children:"Aplique configuraes pr-definidas"})]}),n.jsxs(Ue,{className:"space-y-3",children:[n.jsxs(ve,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>g("manha"),disabled:!e,children:[n.jsx(Or,{className:"mr-2 h-4 w-4"}),"Manh (8h s 11h30)"]}),n.jsxs(ve,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>g("tarde"),disabled:!e,children:[n.jsx(Or,{className:"mr-2 h-4 w-4"}),"Tarde (13h s 17h)"]}),n.jsxs(ve,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>g("integral"),disabled:!e,children:[n.jsx(Or,{className:"mr-2 h-4 w-4"}),"Perodo Integral"]}),n.jsxs(ve,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:y,disabled:!e,children:[n.jsx(V6,{className:"mr-2 h-4 w-4"}),"Copiar Dia Anterior"]})]})]})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(Or,{className:"h-5 w-5"}),"Horrios Disponveis"]}),n.jsxs(ve,{onClick:m,disabled:!e||A,children:[n.jsx(P1,{className:"mr-2 h-4 w-4"}),A?"Salvando...":"Salvar"]})]}),e&&n.jsxs(gr,{children:["Configurando horrios para ",new Date(e+"T00:00:00").toLocaleDateString("pt-BR")]})]}),n.jsx(Ue,{children:e?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Te,{type:"time",value:s,onChange:j=>i(j.target.value),placeholder:"Novo horrio"}),n.jsx(ve,{onClick:p,disabled:!s,children:n.jsx(gu,{className:"h-4 w-4"})})]}),o?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((j,C)=>n.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},C))}):t.length===0?n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(Or,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhum horrio configurado"}),n.jsx("p",{className:"text-sm",children:"Use os templates ou adicione horrios manualmente"})]}):n.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:t.map((j,C)=>n.jsxs("div",{className:`
                              flex items-center justify-between p-3 border rounded-lg
                              ${j.ocupado?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}
                            `,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Or,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:j.horario})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lr,{variant:j.ocupado?"destructive":"default",children:j.ocupado?"Ocupado":"Livre"}),!j.ocupado&&n.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>v(j.horario),children:n.jsx(cy,{className:"h-4 w-4"})})]})]},C))}),t.length>0&&n.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:["Total: ",t.length," horrios"]}),n.jsxs("p",{className:"text-muted-foreground",children:[t.filter(j=>!j.ocupado).length," disponveis,"," ",t.filter(j=>j.ocupado).length," ocupados"]})]})})]}):n.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[n.jsx(wr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Selecione uma data para gerenciar os horrios"})]})})]})})]})]})})}function SX(){const{toast:e}=Va(),[r,t]=b.useState(!1),[a,s]=b.useState([]),[i,o]=b.useState({q:"",tipo:"todos",status:"todos"}),[l,A]=b.useState([]),[d,f]=b.useState(!1),[h,m]=b.useState({paciente:"",tipo:"",data:"",hora:""}),p=async()=>{try{const{data:y}=await di.getTiposExame();s(y||[])}catch{}},v=async()=>{t(!0);try{const y={};i.q&&(y.q=i.q),i.tipo!=="todos"&&(y.tipo=i.tipo),i.status!=="todos"&&(y.status=i.status);const{data:w}=await di.getExames(y);A(Array.isArray(w)?w:(w==null?void 0:w.results)||[])}catch{e({title:"Erro",description:"No foi possvel carregar os exames.",variant:"destructive"})}finally{t(!1)}};b.useEffect(()=>{p()},[]),b.useEffect(()=>{v()},[i]);const g=async()=>{if(!h.paciente||!h.tipo||!h.data||!h.hora){e({title:"Campos obrigatrios",description:"Preencha paciente, tipo, data e hora.",variant:"destructive"});return}f(!0);try{const y={paciente:h.paciente,tipo:h.tipo,data:h.data,hora:h.hora};await di.createExame(y),e({title:"Exame criado",description:"Exame agendado com sucesso."}),m({paciente:"",tipo:"",data:"",hora:""}),v()}catch{e({title:"Erro ao criar",description:"Verifique os dados e tente novamente.",variant:"destructive"})}finally{f(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem e agendamento de exames"})]})}),n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Filtros"}),n.jsx(gr,{children:"Busque e filtre os exames"})]}),n.jsxs(Ue,{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(Te,{placeholder:"Buscar por paciente/tipo...",value:i.q,onChange:y=>o({...i,q:y.target.value})}),n.jsxs(qr,{value:i.tipo,onValueChange:y=>o({...i,tipo:y}),children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"todos",children:"Todos os tipos"}),a.map(y=>n.jsx(rt,{value:y.value||y.nome||y.id||String(y),children:y.nome||y.label||y.value||y},y.id||y.value||y))]})]}),n.jsxs(qr,{value:i.status,onValueChange:y=>o({...i,status:y}),children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"todos",children:"Todos"}),n.jsx(rt,{value:"pendente",children:"Pendente"}),n.jsx(rt,{value:"confirmado",children:"Confirmado"}),n.jsx(rt,{value:"cancelado",children:"Cancelado"})]})]})]})]}),n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Lista de Exames"}),n.jsx(gr,{children:r?"Carregando...":`${l.length} registro(s)`})]}),n.jsx(Ue,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ya,{children:[n.jsx(dr,{children:"Paciente"}),n.jsx(dr,{children:"Tipo"}),n.jsx(dr,{children:"Data"}),n.jsx(dr,{children:"Hora"}),n.jsx(dr,{children:"Status"})]})}),n.jsxs(wo,{children:[l.map((y,w)=>n.jsxs(Ya,{children:[n.jsx(ir,{children:y.paciente_nome||y.paciente||"-"}),n.jsx(ir,{children:y.tipo_nome||y.tipo||"-"}),n.jsx(ir,{children:y.data||"-"}),n.jsx(ir,{children:y.hora||"-"}),n.jsx(ir,{children:y.status||"-"})]},y.id||w)),!r&&l.length===0&&n.jsx(Ya,{children:n.jsx(ir,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum exame encontrado"})})]})]})})})]}),n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Novo Exame"}),n.jsx(gr,{children:"Crie um novo agendamento de exame"})]}),n.jsxs(Ue,{className:"grid gap-4 md:grid-cols-4",children:[n.jsx(Te,{placeholder:"Paciente (nome/ID)",value:h.paciente,onChange:y=>m({...h,paciente:y.target.value})}),n.jsxs(qr,{value:h.tipo,onValueChange:y=>m({...h,tipo:y}),children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Tipo de exame"})}),n.jsx(zr,{children:a.map(y=>n.jsx(rt,{value:y.value||y.nome||y.id||String(y),children:y.nome||y.label||y.value||y},y.id||y.value||y))})]}),n.jsx(ms,{value:h.data,onChange:y=>m({...h,data:y}),minDate:new Date}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Te,{type:"time",value:h.hora,onChange:y=>m({...h,hora:y.target.value})}),n.jsx(ve,{onClick:g,disabled:d,children:d?"Criando...":"Criar"})]})]})]})]})}function _X(){const{toast:e}=Va(),[r,t]=b.useState(""),[a,s]=b.useState(!1),[i,o]=b.useState([]),l=async()=>{s(!0);try{const{data:f}=await di.getPacientes(),h=Array.isArray(f)?f:(f==null?void 0:f.results)||[];o(h)}catch{e({title:"Erro",description:"No foi possvel carregar os pacientes.",variant:"destructive"})}finally{s(!1)}};b.useEffect(()=>{l()},[]);const A=i.filter(f=>[f.nome,f.email,f.cpf].join(" ").toLowerCase().includes(r.toLowerCase())),d=new Date().toISOString().split("T")[0];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pacientes"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem de pacientes"})]}),n.jsx("div",{className:"w-72",children:n.jsx(Te,{placeholder:"Buscar por nome, e-mail ou CPF",value:r,onChange:f=>t(f.target.value)})})]}),n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Lista de Pacientes"}),n.jsx(gr,{children:a?"Carregando...":`${A.length} registro(s)`})]}),n.jsx(Ue,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ya,{children:[n.jsx(dr,{children:"Nome"}),n.jsx(dr,{children:"E-mail"}),n.jsx(dr,{children:"CPF"}),n.jsx(dr,{className:"w-[1%]",children:"Aes"})]})}),n.jsxs(wo,{children:[A.map((f,h)=>n.jsxs(Ya,{children:[n.jsx(ir,{children:f.nome||"-"}),n.jsx(ir,{children:f.email||"-"}),n.jsx(ir,{children:f.cpf||"-"}),n.jsx(ir,{children:n.jsx(pr,{to:`/clinica/calendario?paciente=${f.id}&data=${d}`,children:n.jsx(ve,{size:"sm",children:"Agendar"})})})]},f.id||h)),!a&&A.length===0&&n.jsx(Ya,{children:n.jsx(ir,{colSpan:3,className:"text-center text-muted-foreground",children:"Nenhum paciente encontrado"})})]})]})})})]})]})}function EX(){const{toast:e}=Va(),[r,t]=b.useState(""),[a,s]=b.useState(!1),[i,o]=b.useState([]),l=async()=>{s(!0);try{const{data:d}=await di.getMedicos(),f=Array.isArray(d)?d:(d==null?void 0:d.results)||[];o(f)}catch{e({title:"Erro",description:"No foi possvel carregar os mdicos.",variant:"destructive"})}finally{s(!1)}};b.useEffect(()=>{l()},[]);const A=i.filter(d=>[d.nome,d.email,d.crm,d.especialidade].join(" ").toLowerCase().includes(r.toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Mdicos"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem de mdicos"})]}),n.jsx("div",{className:"w-72",children:n.jsx(Te,{placeholder:"Buscar por nome, e-mail, CRM, especialidade",value:r,onChange:d=>t(d.target.value)})})]}),n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Lista de Mdicos"}),n.jsx(gr,{children:a?"Carregando...":`${A.length} registro(s)`})]}),n.jsx(Ue,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ya,{children:[n.jsx(dr,{children:"Nome"}),n.jsx(dr,{children:"E-mail"}),n.jsx(dr,{children:"CRM"}),n.jsx(dr,{children:"Especialidade"})]})}),n.jsxs(wo,{children:[A.map((d,f)=>n.jsxs(Ya,{children:[n.jsx(ir,{children:d.nome||"-"}),n.jsx(ir,{children:d.email||"-"}),n.jsx(ir,{children:d.crm||"-"}),n.jsx(ir,{children:d.especialidade||"-"})]},d.id||f)),!a&&A.length===0&&n.jsx(Ya,{children:n.jsx(ir,{colSpan:4,className:"text-center text-muted-foreground",children:"Nenhum mdico encontrado"})})]})]})})})]})]})}function FX(){const[e,r]=b.useState("30d"),[t,a]=b.useState(!1),[s,i]=b.useState(null),[o,l]=b.useState(null),A=async()=>{a(!0),l(null);try{const{data:f}=await di.getRelatorios(e);i(f||{})}catch{l("No foi possvel carregar os relatrios.")}finally{a(!1)}};b.useEffect(()=>{A()},[e]);const d=s||{examesTotais:120,pacientesAtendidos:80,taxaCancelamento:5};return n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ge,{children:"Relatrios"}),n.jsx(gr,{children:"Mtricas da clnica"})]}),n.jsx("div",{className:"w-40",children:n.jsxs(qr,{value:e,onValueChange:r,children:[n.jsx(Vr,{children:n.jsx(Wr,{})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"7d",children:"ltimos 7 dias"}),n.jsx(rt,{value:"30d",children:"ltimos 30 dias"}),n.jsx(rt,{value:"90d",children:"ltimos 90 dias"})]})]})})]}),n.jsx(Ue,{children:t?n.jsx("p",{children:"Carregando..."}):o?n.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[n.jsx(pu,{className:"h-4 w-4"}),n.jsx("span",{children:o})]}):n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(hn,{className:"h-4 w-4"})," Exames"]})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d.examesTotais}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(As,{className:"h-4 w-4"})," Pacientes Atendidos"]})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d.pacientesAtendidos}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{className:"text-sm font-medium",children:"Taxa de Cancelamento"})}),n.jsxs(Ue,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.taxaCancelamento,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]})]})})]})})}function kX(){const[e,r]=b.useState({nome:"",cnpj:"",email:"",responsavel:""}),[t,a]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(""),[A,d]=b.useState(""),[f,h]=b.useState(!1),[m,p]=b.useState(""),[v,g]=b.useState(""),{toast:y}=Va(),w=E=>{const U=String(E||"").replace(/\D/g,"").slice(0,14),k=U.slice(0,2),F=U.slice(2,5),D=U.slice(5,8),_=U.slice(8,12),G=U.slice(12,14);return U.length>12?`${k}.${F}.${D}/${_}-${G}`:U.length>8?`${k}.${F}.${D}/${_}`:U.length>5?`${k}.${F}.${D}`:U.length>2?`${k}.${F}`:k},j=async()=>{y({title:"Configuraes",description:"Alteraes salvas (stub)."})};async function C(E=!0){var U,k,F,D,_;if(p(""),g(""),!t){p("Informe o e-mail da secretria.");return}h(!0);try{let G=null;if(E){const L={email:t,first_name:s||void 0,last_name:o||void 0,password:A||void 0,role:"secretaria",type:"secretaria"},T=await ma.createUsuario(L);if(G=(T==null?void 0:T.id)||((U=T==null?void 0:T.usuario)==null?void 0:U.id)||((k=T==null?void 0:T.user)==null?void 0:k.id)||(T==null?void 0:T.pk)||null,!G){const J=T&&typeof T=="object"?((F=T.user)==null?void 0:F.pk)||((D=T.usuario)==null?void 0:D.pk):null;J&&(G=J)}if(!G)throw new Error("No foi possvel obter o ID da secretria criada.")}else{const L=await ma.getUsuarios({search:t,page:1,page_size:100}),J=(Array.isArray(L==null?void 0:L.results)?L.results:Array.isArray(L)?L:[]).find(R=>String(R.email||"").toLowerCase()===t.toLowerCase());if(!J)throw new Error("No foi possvel localizar uma usuria com esse e-mail.");if(G=J.id||J.pk,!G)throw new Error("Usuria encontrada, porm sem ID vlido.")}await di.vincularSecretaria(G),g("Secretria vinculada com sucesso."),a(""),i(""),l(""),d("")}catch(G){const L=(_=G==null?void 0:G.response)!=null&&_.data?JSON.stringify(G.response.data):(G==null?void 0:G.message)||"Falha ao processar solicitao.";p(L)}finally{h(!1)}}return n.jsxs(X_,{children:[n.jsx("div",{className:"space-y-6",children:n.jsx("h1",{className:"text-2xl font-bold",children:"Configuraes"})}),n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Dados da Clnica"}),n.jsx(gr,{children:"Edite os dados bsicos"})]}),n.jsxs(Ue,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx(Te,{value:e.nome,onChange:E=>r({...e,nome:E.target.value}),placeholder:"Nome da clnica"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"CNPJ"}),n.jsx(Te,{value:e.cnpj,onChange:E=>r({...e,cnpj:w(E.target.value)}),placeholder:"00.000.000/0000-00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx(Te,{type:"email",value:e.email,onChange:E=>r({...e,email:E.target.value}),placeholder:"email@clinica.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"Responsvel"}),n.jsx(Te,{value:e.responsavel,onChange:E=>r({...e,responsavel:E.target.value}),placeholder:"Nome do responsvel"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(ve,{onClick:j,children:"Salvar alteraes"})})]})]}),n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Adicionar secretria"}),n.jsx(gr,{children:"Crie uma nova secretria ou vincule por e-mail existente"})]}),n.jsxs(Ue,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[m&&n.jsx("div",{className:"text-sm text-red-600",children:m}),v&&n.jsx("div",{className:"text-sm text-emerald-700",children:v})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Fe,{children:"E-mail da secretria"}),n.jsx(Te,{type:"email",value:t,onChange:E=>a(E.target.value),placeholder:"secretaria@exemplo.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Nome (opcional)"}),n.jsx(Te,{value:s,onChange:E=>i(E.target.value),placeholder:"Nome"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Sobrenome (opcional)"}),n.jsx(Te,{value:o,onChange:E=>l(E.target.value),placeholder:"Sobrenome"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Senha (opcional)"}),n.jsx(Te,{type:"password",value:A,onChange:E=>d(E.target.value),placeholder:"Senha inicial (ou deixe em branco)"})]}),n.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[n.jsx(ve,{onClick:()=>C(!0),disabled:f,children:f?"Processando...":"Criar e vincular"}),n.jsx(ve,{variant:"outline",onClick:()=>C(!1),disabled:f,children:f?"Processando...":"Vincular por e-mail"})]})]})]})]})}function DX(){const[e,r]=b.useState({totalUsuarios:0,medicosAtivos:0,clinicasAtivas:0,solicitacoesPendentes:0,solicitacoesHoje:0,aprovacoesSemana:0,rejeicoesSemana:0,aprovadosMedicosSemana:0,aprovadasClinicasSemana:0,rejeitadosMedicosSemana:0,rejeitadasClinicasSemana:0}),[t,a]=b.useState([]),[s,i]=b.useState(!0),o=()=>{const d=new Date,f=d.getDay(),h=d.getDate()-f+(f===0?-6:1),m=new Date(d);return m.setDate(h),m.setHours(0,0,0,0),m};b.useEffect(()=>{let d=!0;return(async()=>{var m,p,v;const h=o();try{const g=await ma.getDashboard();d&&g&&r(y=>({...y,totalUsuarios:g.total_usuarios??g.totalUsuarios??y.totalUsuarios,medicosAtivos:g.medicos_ativos??g.medicosAtivos??y.medicosAtivos,clinicasAtivas:g.clinicas_ativas??g.clinicasAtivas??y.clinicasAtivas,solicitacoesPendentes:g.solicitacoes_pendentes??g.solicitacoesPendentes??y.solicitacoesPendentes,aprovacoesSemana:g.aprovacoes_semana??g.aprovacoesSemana??y.aprovacoesSemana,rejeicoesSemana:g.rejeicoes_semana??g.rejeicoesSemana??y.rejeicoesSemana,aprovadosMedicosSemana:g.aprovados_medicos_semana??g.aprovadosMedicosSemana??y.aprovadosMedicosSemana,aprovadasClinicasSemana:g.aprovadas_clinicas_semana??g.aprovadasClinicasSemana??y.aprovadasClinicasSemana,rejeitadosMedicosSemana:g.rejeitados_medicos_semana??g.rejeitadosMedicosSemana??y.rejeitadosMedicosSemana,rejeitadasClinicasSemana:g.rejeitadas_clinicas_semana??g.rejeitadasClinicasSemana??y.rejeitadasClinicasSemana}))}catch(g){console.warn("[AdminDashboard] getDashboard falhou:",(m=g==null?void 0:g.response)==null?void 0:m.status)}try{const g=await ma.getSolicitacoes({status:"pending",limit:5}),w=(Array.isArray(g==null?void 0:g.results)?g.results:Array.isArray(g)?g:[]).map(j=>({...j,nome:j.nome??j.name??j.title??"",tipo:(j.tipo??j.type??"").toString().toLowerCase(),dataEnvio:j.dataEnvio??j.created_at??j.data_envio??null}));if(d){a(w);const j=new Date().toDateString(),C=w.filter(E=>{const U=new Date(E.dataEnvio);return!isNaN(U)&&U.toDateString()===j}).length;r(E=>({...E,solicitacoesHoje:C}))}}catch(g){console.warn("[AdminDashboard] getSolicitacoes falhou (pendentes recentes):",(p=g==null?void 0:g.response)==null?void 0:p.status)}try{const g=o().toISOString(),y=async F=>{const D=await ma.getSolicitacoes({status:F,limit:100,created_at__gte:g});return(Array.isArray(D==null?void 0:D.results)?D.results:Array.isArray(D)?D:[]).map(G=>({tipo:(G.tipo??G.type??"").toString().toLowerCase(),createdAt:G.created_at??G.data_envio??G.dataEnvio??null})).filter(G=>{const L=new Date(G.createdAt);return G.createdAt&&!isNaN(L)&&L>=h})},[w,j]=await Promise.all([y("approved"),y("rejected")]),C=w.filter(F=>F.tipo==="medico").length,E=w.filter(F=>F.tipo==="clinica").length,U=j.filter(F=>F.tipo==="medico").length,k=j.filter(F=>F.tipo==="clinica").length;d&&r(F=>({...F,aprovacoesSemana:F.aprovacoesSemana||0||w.length,rejeicoesSemana:F.rejeicoesSemana||0||j.length,aprovadosMedicosSemana:F.aprovadosMedicosSemana||0||C,aprovadasClinicasSemana:F.aprovadasClinicasSemana||0||E,rejeitadosMedicosSemana:F.rejeitadosMedicosSemana||0||U,rejeitadasClinicasSemana:F.rejeitadasClinicasSemana||0||k}))}catch(g){console.warn("[AdminDashboard] clculo semanal (fallback) falhou:",(v=g==null?void 0:g.response)==null?void 0:v.status)}finally{d&&i(!1)}})(),()=>{d=!1}},[]);const l=d=>{switch(d){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Or,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},A=d=>{switch(d){case"alta":return n.jsx(lr,{variant:"destructive",className:"text-xs",children:"Alta"});case"normal":return n.jsx(lr,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return n.jsx(lr,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Dashboard Administrativo"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Gerencie usurios e solicitaes do sistema"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ve,{variant:"outline",className:"gap-2",asChild:!0,children:n.jsxs(pr,{to:"/admin/usuarios",children:[n.jsx(As,{className:"h-4 w-4"}),"Usurios"]})}),n.jsx(ve,{variant:"outline",className:"gap-2",asChild:!0,children:n.jsxs(pr,{to:"/admin/relatorios",children:[n.jsx(z0,{className:"h-4 w-4"}),"Relatrios"]})}),n.jsx(ve,{className:"gap-2 btn-medical-primary",asChild:!0,children:n.jsxs(pr,{to:"/admin/solicitacoes",children:[n.jsx(Hs,{className:"h-4 w-4"}),"Solicitaes"]})})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ge,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total de Usurios"}),n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(As,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:e.totalUsuarios}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"+12% em relao ao ms passado"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ge,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Mdicos Ativos"}),n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(ea,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:e.medicosAtivos}),n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"+5 novos esta semana"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/50 dark:to-amber-900/50",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ge,{className:"text-sm font-semibold text-amber-700 dark:text-amber-300",children:"Solicitaes Pendentes"}),n.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:n.jsx(pu,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:e.solicitacoesPendentes}),n.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:[e.solicitacoesHoje," novas hoje"]})]})]})]}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsxs(Ke,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:[n.jsxs(Ge,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(Bi,{className:"h-5 w-5 text-purple-600"}),"Aes Rpidas"]}),n.jsx(gr,{className:"text-slate-600 dark:text-slate-400",children:"Acesso rpido s principais funcionalidades"})]}),n.jsxs(Ue,{className:"p-6 space-y-4",children:[n.jsx(pr,{to:{pathname:"/admin/solicitacoes",search:"?status=pending"},children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-amber-200 bg-amber-50 hover:bg-amber-100 dark:border-amber-800 dark:bg-amber-900/20 dark:hover:bg-amber-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:n.jsx(Or,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Solicitaes Pendentes"}),n.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[e.solicitacoesPendentes," solicitaes aguardando anlise"]})]}),n.jsx(xl,{className:"h-5 w-5 text-amber-600 group-hover:translate-x-1 transition-transform"})]})}),n.jsx(pr,{to:"/admin/usuarios",children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 dark:border-blue-800 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(As,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Gerenciar Usurios"}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Visualizar e gerenciar todos os usurios do sistema"})]}),n.jsx(xl,{className:"h-5 w-5 text-blue-600 group-hover:translate-x-1 transition-transform"})]})}),n.jsx(pr,{to:"/admin/relatorios",children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-green-200 bg-green-50 hover:bg-green-100 dark:border-green-800 dark:bg-green-900/20 dark:hover:bg-green-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(_m,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Relatrios"}),n.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Visualizar estatsticas e relatrios do sistema"})]}),n.jsx(xl,{className:"h-5 w-5 text-green-600 group-hover:translate-x-1 transition-transform"})]})})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(Ke,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ge,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(Or,{className:"h-5 w-5 text-purple-600"}),"Solicitaes Recentes"]}),n.jsx(gr,{className:"text-slate-600 dark:text-slate-400",children:"ltimas solicitaes de cadastro no sistema"})]}),n.jsx(ve,{variant:"outline",asChild:!0,children:n.jsx(pr,{to:"/admin/solicitacoes",children:"Ver Todas"})})]})}),n.jsx(Ue,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:t.map(d=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/50 dark:to-blue-900/50 flex items-center justify-center",children:d.tipo==="medico"?n.jsx(ea,{className:"h-6 w-6 text-purple-600"}):n.jsx(Yf,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:d.nome}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[n.jsx("span",{children:d.tipo==="medico"?`${d.especialidade} - ${d.crm}`:`${d.cnpj} - ${d.responsavel}`}),n.jsx("span",{children:""}),n.jsx("span",{children:new Date(d.dataEnvio).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[A(d.urgencia),l(d.status),d.status==="pending"&&n.jsx(ve,{size:"sm",className:"btn-medical-primary",asChild:!0,children:n.jsx(pr,{to:`/admin/solicitacoes/${d.id}`,children:"Revisar"})})]})]},d.id))})})]})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[n.jsx(us,{className:"h-5 w-5 text-green-600"}),"Aprovaes desta Semana"]})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-4xl font-bold text-green-700 dark:text-green-300 mb-2",children:e.aprovacoesSemana}),n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[e.aprovadosMedicosSemana," mdicos e ",e.aprovadasClinicasSemana," clnicas aprovados"]})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/50",children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[n.jsx(fs,{className:"h-5 w-5 text-red-600"}),"Rejeies desta Semana"]})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-4xl font-bold text-red-700 dark:text-red-300 mb-2",children:e.rejeicoesSemana}),n.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:[e.rejeitadosMedicosSemana," mdicos e ",e.rejeitadasClinicasSemana," clnicas rejeitados"]})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg",children:[n.jsx(Ke,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:n.jsxs(Ge,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(cm,{className:"h-5 w-5 text-purple-600"}),"Configuraes"]})}),n.jsxs(Ue,{className:"p-6 space-y-3",children:[n.jsx(ve,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(pr,{to:"/admin/configuracoes",children:[n.jsx(cm,{className:"h-4 w-4"}),"Configuraes do Sistema"]})}),n.jsx(ve,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(pr,{to:"/admin/logs",children:[n.jsx(Bi,{className:"h-4 w-4"}),"Logs do Sistema"]})}),n.jsx(ve,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(pr,{to:"/admin/backup",children:[n.jsx(Hs,{className:"h-4 w-4"}),"Backup e Segurana"]})})]})]})]})]})]})}function UX(){const[e,r]=b.useState(""),[t,a]=b.useState("all"),[s,i]=b.useState("all"),[o,l]=b.useState("all"),[A,d]=b.useState(!1),[f,h]=b.useState([]),[m,p]=b.useState(null),v=b.useRef(null),{toast:g}=Va(),y=zE(e,500),w=b.useMemo(()=>({search:md(y.trim()),status:t,tipo:s,urgencia:o}),[y,t,s,o]),j=b.useCallback(async(R,re)=>{try{const V=await ma.getSolicitacoes(R,{signal:re});return Array.isArray(V==null?void 0:V.results)?V.results:Array.isArray(V)?V:[]}catch(V){throw(V==null?void 0:V.name)!=="AbortError"&&console.error("Erro ao buscar solicitaes:",V),V}},[]);b.useEffect(()=>{d(!0);const R=setTimeout(async()=>{if(v.current)try{v.current.abort()}catch{}const re=new AbortController;v.current=re;try{const V={};w.status!=="all"&&(V.status=w.status),w.tipo!=="all"&&(V.tipo=w.tipo),w.urgencia!=="all"&&(V.urgencia=w.urgencia),w.search&&(V.search=w.search);const Y=await j(V,re.signal);h(Y),p(null)}catch(V){(V==null?void 0:V.name)!=="AbortError"&&(h([]),p("No foi possvel carregar as solicitaes."))}finally{d(!1)}},200);return()=>clearTimeout(R)},[w,j]);const C=b.useCallback(async R=>{d(!0);try{const re=await ma.aprovarSolicitacao(R);h(V=>V.map(Y=>Y.id===R?{...Y,status:"approved",aprovadoPor:(re==null?void 0:re.approved_by)||Y.aprovadoPor||"",dataAprovacao:(re==null?void 0:re.approved_at)||Y.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:Y)),g({title:"Solicitao aprovada",description:"A solicitao foi aprovada com sucesso."})}catch{g({title:"Erro ao aprovar",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{d(!1)}},[g]),E=b.useCallback(async R=>{const re=window.prompt("Informe o motivo da rejeio:");if(re===null)return;const V=rE(re,500);if(!V.isValid){g({title:"Motivo invlido",description:V.error,variant:"destructive"});return}d(!0);try{const Y=await ma.rejeitarSolicitacao(R,V.value);h(H=>H.map(Z=>Z.id===R?{...Z,status:"rejected",rejeitadoPor:(Y==null?void 0:Y.rejected_by)||Z.rejeitadoPor||"",dataRejeicao:(Y==null?void 0:Y.rejected_at)||Z.dataRejeicao||new Date().toISOString(),motivoRejeicao:(Y==null?void 0:Y.rejection_reason)||V.value||Z.motivoRejeicao||"",aprovadoPor:"",dataAprovacao:null}:Z)),g({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."})}catch{g({title:"Erro ao rejeitar",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{d(!1)}},[g]),U=b.useCallback(R=>{switch(R){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Or,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},[]),k=b.useCallback(R=>{switch(R){case"alta":return n.jsxs(lr,{variant:"destructive",className:"text-xs",children:[n.jsx(tA,{className:"mr-1 h-2 w-2"}),"Alta"]});case"normal":return n.jsx(lr,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return n.jsx(lr,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}},[]),F=b.useMemo(()=>f.filter(R=>{const re=e.toLowerCase(),V=(R.nome||"").toLowerCase().includes(re)||(R.email||"").toLowerCase().includes(re)||R.crm&&String(R.crm).toLowerCase().includes(re)||R.cnpj&&String(R.cnpj).includes(e),Y=t==="all"||R.status===t,H=s==="all"||R.tipo===s,Z=o==="all"||R.urgencia===o;return V&&Y&&H&&Z}),[f,e,t,s,o]),D=b.useMemo(()=>({pending:F.filter(R=>R.status==="pending"),approved:F.filter(R=>R.status==="approved"),rejected:F.filter(R=>R.status==="rejected")}),[F]),_=b.useCallback(R=>{const re=md(R.target.value);r(re)},[]),G=b.useCallback(R=>{a(R)},[]),L=b.useCallback(R=>{i(R)},[]),T=b.useCallback(R=>{l(R)},[]),J=({solicitacao:R})=>n.jsxs(ke,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl group",children:[n.jsx(Ke,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${R.tipo==="medico"?"bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-600":"bg-gradient-to-br from-purple-100 to-pink-100 text-purple-600"}`,children:R.tipo==="medico"?n.jsx(ea,{className:"h-6 w-6"}):n.jsx(Yf,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:R.nome}),n.jsx(gr,{className:"text-gray-600 font-medium",children:R.email})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[k(R.urgencia),U(R.status)]})]})}),n.jsx(Ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[n.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:R.tipo==="medico"?"Especialidade":"CNPJ"}),n.jsx("p",{className:"text-gray-800 font-medium",children:R.tipo==="medico"?R.especialidade:R.cnpj})]}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[n.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:R.tipo==="medico"?"CRM":"Responsvel"}),n.jsx("p",{className:"text-gray-800 font-medium",children:R.tipo==="medico"?R.crm:R.responsavel})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-100",children:[n.jsx("p",{className:"font-semibold text-blue-600 text-sm mb-1",children:"Data de Envio"}),n.jsxs("p",{className:"flex items-center gap-2 text-blue-800 font-medium",children:[n.jsx(wr,{className:"h-4 w-4"}),n.jsxs("span",{children:[new Date(R.dataEnvio).toLocaleDateString()," s"," ",new Date(R.dataEnvio).toLocaleTimeString()]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border border-green-100",children:[n.jsx("p",{className:"font-semibold text-green-600 text-sm mb-1",children:"Documentos"}),n.jsxs("p",{className:"text-green-800 font-medium",children:[Array.isArray(R.documentos)?R.documentos.length:0," arquivo(s)"]})]})]}),R.observacoes&&n.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 p-4 rounded-xl",children:n.jsx("p",{className:"text-amber-800 text-sm font-medium",children:R.observacoes})}),R.status==="approved"&&n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 p-4 rounded-xl",children:n.jsxs("p",{className:"text-green-800 text-sm font-medium",children:[n.jsx("strong",{children:"Aprovado em:"})," ",R.dataAprovacao?new Date(R.dataAprovacao).toLocaleDateString():"",R.aprovadoPor?n.jsxs(n.Fragment,{children:[" por ",R.aprovadoPor]}):null]})}),R.status==="rejected"&&R.motivoRejeicao&&n.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-4 rounded-xl",children:n.jsxs("p",{className:"text-red-800 text-sm font-medium",children:[n.jsx("strong",{children:"Rejeitado:"})," ",R.motivoRejeicao,R.rejeitadoPor&&n.jsxs(n.Fragment,{children:[" por ",R.rejeitadoPor]})]})}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(ve,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:n.jsxs(pr,{to:`/admin/solicitacoes/${R.id}`,children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),R.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(ve,{size:"sm",onClick:()=>C(R.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(us,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),n.jsxs(ve,{variant:"destructive",size:"sm",onClick:()=>E(R.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]})})]});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white",children:n.jsx("div",{className:"container mx-auto px-6 py-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Solicitaes"}),n.jsx("p",{className:"text-blue-100",children:"Gerencie solicitaes de mdicos e clnicas"})]}),n.jsx("div",{className:"hidden md:flex items-center gap-4",children:n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold",children:F.length}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Total"})]})})]})})}),n.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(ke,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-amber-600 text-sm font-medium",children:"Pendentes"}),n.jsx("p",{className:"text-2xl font-bold text-amber-700",children:D.pending.length})]}),n.jsx("div",{className:"bg-amber-100 p-3 rounded-full",children:n.jsx(Or,{className:"h-6 w-6 text-amber-600"})})]})})}),n.jsx(ke,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Aprovadas"}),n.jsx("p",{className:"text-2xl font-bold text-green-700",children:D.approved.length})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:n.jsx(us,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(ke,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-red-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Rejeitadas"}),n.jsx("p",{className:"text-2xl font-bold text-red-700",children:D.rejected.length})]}),n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(fs,{className:"h-6 w-6 text-red-600"})})]})})}),n.jsx(ke,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 hover:shadow-lg transition-all duration-300",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:F.length})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:n.jsx(lu,{className:"h-6 w-6 text-blue-600"})})]})})})]}),n.jsxs(ke,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:[n.jsx(Ke,{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl border-b",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(lu,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-xl",children:"Filtros Avanados"}),n.jsx(gr,{children:"Use os filtros para refinar sua busca"})]})]})}),n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Te,{placeholder:"Buscar por nome, e-mail, CRM ou CNPJ",className:"pl-9 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",value:e,onChange:_})]}),n.jsx("div",{children:n.jsxs(qr,{value:t,onValueChange:G,children:[n.jsx(Vr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Wr,{placeholder:"Status"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"all",children:"Todos"}),n.jsx(rt,{value:"pending",children:"Pendente"}),n.jsx(rt,{value:"approved",children:"Aprovado"}),n.jsx(rt,{value:"rejected",children:"Rejeitado"})]})]})}),n.jsx("div",{children:n.jsxs(qr,{value:s,onValueChange:L,children:[n.jsx(Vr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Wr,{placeholder:"Tipo"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"all",children:"Todos"}),n.jsx(rt,{value:"medico",children:"Mdicos"}),n.jsx(rt,{value:"clinica",children:"Clnicas"})]})]})}),n.jsx("div",{children:n.jsxs(qr,{value:o,onValueChange:T,children:[n.jsx(Vr,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(Wr,{placeholder:"Urgncia"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"all",children:"Todas"}),n.jsx(rt,{value:"alta",children:"Alta"}),n.jsx(rt,{value:"normal",children:"Normal"}),n.jsx(rt,{value:"baixa",children:"Baixa"})]})]})})]})})]}),n.jsx(ke,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:n.jsxs(zi,{defaultValue:"todas",className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl p-6 border-b",children:n.jsxs(qi,{className:"bg-white/80 backdrop-blur-sm border shadow-sm rounded-xl p-1",children:[n.jsxs(Ir,{value:"todas",className:"gap-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(lu,{className:"h-4 w-4"})," Todas"]}),n.jsxs(Ir,{value:"pendentes",className:"gap-2 data-[state=active]:bg-amber-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(Or,{className:"h-4 w-4"})," Pendentes"]}),n.jsxs(Ir,{value:"aprovadas",className:"gap-2 data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(us,{className:"h-4 w-4"})," Aprovadas"]}),n.jsxs(Ir,{value:"rejeitadas",className:"gap-2 data-[state=active]:bg-red-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(fs,{className:"h-4 w-4"})," Rejeitadas"]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx(Tr,{value:"todas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):m?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(tA,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-red-700",children:m})]}):F.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Ns,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:F.map(R=>n.jsx(J,{solicitacao:R},R.id))})}),n.jsx(Tr,{value:"pendentes",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):D.pending.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Or,{className:"h-8 w-8 text-amber-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao pendente."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.pending.map(R=>n.jsx(J,{solicitacao:R},R.id))})}),n.jsx(Tr,{value:"aprovadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):D.approved.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(us,{className:"h-8 w-8 text-green-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao aprovada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.approved.map(R=>n.jsx(J,{solicitacao:R},R.id))})}),n.jsx(Tr,{value:"rejeitadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):D.rejected.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(fs,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao rejeitada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.rejected.map(R=>n.jsx(J,{solicitacao:R},R.id))})})]})]})})]})]})}function LX(){var C;const{id:e}=zo(),r=Kn(),{toast:t}=Va(),[a,s]=b.useState(!1),[i,o]=b.useState(""),[l,A]=b.useState(""),[d,f]=b.useState(!0),[h,m]=b.useState(null);b.useEffect(()=>{let E=!0;return(async()=>{try{const k=await ma.getSolicitacao(e);E&&m(k)}catch{t({title:"Erro ao carregar",description:"No foi possvel carregar a solicitao.",variant:"destructive"}),r("/admin/solicitacoes")}finally{E&&f(!1)}})(),()=>{E=!1}},[e]);const p=async E=>{try{await ma.visualizarDocumento(E.url||E.nome)}catch(U){t({title:"Erro ao visualizar",description:U.message||"No foi possvel visualizar o documento.",variant:"destructive"})}},v=async E=>{try{await ma.baixarDocumento(E.url||E.nome,E.nome),t({title:"Download iniciado",description:"O download do documento foi iniciado."})}catch(U){t({title:"Erro ao baixar",description:U.message||"No foi possvel baixar o documento.",variant:"destructive"})}};if(d)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ve,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(ic,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),n.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitao"})]})]})});if(!h)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ve,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(ic,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitao no encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const g=async()=>{s(!0);try{await ma.aprovarSolicitacao(e,i||""),t({title:"Solicitao aprovada!",description:`${(h==null?void 0:h.nome)||"Solicitao"} aprovada com sucesso.`}),r("/admin/solicitacoes")}catch{t({title:"Erro",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{s(!1)}},y=async()=>{if(!l.trim()){t({title:"Motivo obrigatrio",description:"Por favor, informe o motivo da rejeio.",variant:"destructive"});return}s(!0);try{await ma.rejeitarSolicitacao(e,l.trim()),t({title:"Solicitao rejeitada",description:`A solicitao de ${(h==null?void 0:h.nome)||""} foi rejeitada.`}),r("/admin/solicitacoes")}catch{t({title:"Erro",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{s(!1)}},w=E=>{switch(E){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(tA,{className:"mr-1 h-3 w-3"}),"Aguardando Anlise"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},j=(h==null?void 0:h.endereco)||{};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ve,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx(ic,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitao"}),n.jsx("p",{className:"text-muted-foreground",children:"Anlise completa da solicitao de cadastro"})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`app-quick-icon ${h.tipo==="medico"?"info":"primary"} h-12 w-12`,children:h.tipo==="medico"?n.jsx(ea,{className:"h-6 w-6"}):n.jsx(Yf,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-xl",children:h.nome}),n.jsx(gr,{children:h.tipo==="medico"?"Solicitao de Cadastro Mdico":"Solicitao de Cadastro de Clnica"})]})]}),w(h.status)]})}),n.jsxs(Ue,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:h.email})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aA,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:h.telefone})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"Especialidade":"CNPJ"}),n.jsx("span",{children:h.especialidade})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"CRM":"Responsvel Tcnico"}),n.jsx("span",{children:h.crm})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Data de Envio"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[new Date(h.dataEnvio||h.created_at).toLocaleDateString()," s"," ",new Date(h.dataEnvio||h.created_at).toLocaleTimeString()]})]})]})]}),n.jsx(hs,{}),h.tipo==="medico"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Instituio de Formao"}),n.jsx("span",{children:h.instituicaoFormacao})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Ano de Formao"}),n.jsx("span",{children:h.anoFormacao})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Residncia"}),n.jsx("span",{children:h.residencia})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Instituio da Residncia"}),n.jsx("span",{children:h.instituicaoResidencia})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Ano da Residncia"}),n.jsx("span",{children:h.anoResidencia})]})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm",children:h.experiencia})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Motivao"}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm",children:h.motivacao})})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endereo"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"CEP"}),n.jsx("span",{children:j.cep||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Logradouro"}),n.jsx("span",{children:j.logradouro||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Bairro"}),n.jsx("span",{children:j.bairro||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-muted-foreground",children:"Cidade/Estado"}),n.jsxs("span",{children:[j.cidade||"","/",j.estado||""]})]})]})]})]})]}),n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(hn,{className:"h-5 w-5"}),"Documentos Enviados"]}),n.jsxs(gr,{children:[((C=h.documentos)==null?void 0:C.length)||0," documento(s) anexado(s)"]})]}),n.jsx(Ue,{children:n.jsx("div",{className:"space-y-3",children:(h.documentos||[]).map((E,U)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(hn,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:E.nome}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.tamanho,"  Enviado em ",new Date(E.dataUpload).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>p(E),children:[n.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),n.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>v(E),children:[n.jsx(vl,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},U))})})]})]}),n.jsxs("div",{className:"space-y-6",children:[h.status==="pending"&&n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Aes"}),n.jsx(gr,{children:"Aprovar ou rejeitar esta solicitao"})]}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"observacoes",children:"Observaes (opcional)"}),n.jsx(oa,{id:"observacoes",placeholder:"Adicione observaes sobre esta solicitao...",value:i,onChange:E=>o(E.target.value)})]}),n.jsxs(ve,{variant:"default",className:"w-full",onClick:g,disabled:a,children:[n.jsx(us,{className:"mr-2 h-4 w-4"}),a?"Aprovando...":"Aprovar Solicitao"]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"motivoRejeicao",children:"Motivo da Rejeio"}),n.jsx(oa,{id:"motivoRejeicao",placeholder:"Informe o motivo da rejeio...",value:l,onChange:E=>A(E.target.value)})]}),n.jsxs(ve,{variant:"destructive",className:"w-full",onClick:y,disabled:a,children:[n.jsx(fs,{className:"mr-2 h-4 w-4"}),a?"Rejeitando...":"Rejeitar Solicitao"]})]})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Informaes do Sistema"})}),n.jsxs(Ue,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"ID da Solicitao:"}),n.jsxs("span",{className:"font-mono",children:["#",h.id.toString().padStart(6,"0")]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),n.jsx("span",{className:"capitalize",children:h.tipo})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Urgncia:"}),n.jsx(lr,{variant:h.urgencia==="alta"?"destructive":"secondary",className:"text-xs",children:h.urgencia})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),w(h.status)]})]})]})]})]})]})}const i5=[{value:"7",label:"ltimos 7 dias"},{value:"30",label:"ltimos 30 dias"},{value:"90",label:"ltimos 90 dias"}];function IX(e){const r=new Date(e);return r.setHours(0,0,0,0),r}function PX(e){const r=new Date(e);return r.setHours(23,59,59,999),r}function QX(e){const r=new Date(e),t=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}function RX(){var h;const[e,r]=b.useState("30"),[t,a]=b.useState("all"),[s,i]=b.useState(!1),[o,l]=b.useState(null),[A,d]=b.useState([]),f=b.useMemo(()=>{if(!A.length)return{total:0,aprovadas:0,rejeitadas:0,pendentes:0,aprovMed:0,aprovCli:0,rejMed:0,rejCli:0,byDay:[],maxDay:0};const m=A.length,p=A.filter(F=>F.status==="aprovada").length,v=A.filter(F=>F.status==="rejeitada").length,g=A.filter(F=>F.status==="pendente").length,y=A.filter(F=>F.status==="aprovada"&&F.tipo==="medico").length,w=A.filter(F=>F.status==="aprovada"&&F.tipo==="clinica").length,j=A.filter(F=>F.status==="rejeitada"&&F.tipo==="medico").length,C=A.filter(F=>F.status==="rejeitada"&&F.tipo==="clinica").length,E={};A.forEach(F=>{const D=QX(F.createdAt);E[D]||(E[D]={ymd:D,aprov:0,rej:0}),F.status==="aprovada"&&E[D].aprov++,F.status==="rejeitada"&&E[D].rej++});const U=Object.values(E).sort((F,D)=>F.ymd.localeCompare(D.ymd)),k=Math.max(...U.map(F=>Math.max(F.aprov,F.rej)),1);return{total:m,aprovadas:p,rejeitadas:v,pendentes:g,aprovMed:y,aprovCli:w,rejMed:j,rejCli:C,byDay:U,maxDay:k}},[A]);return b.useEffect(()=>{(async()=>{i(!0),l(null);try{const p=new Date,v=parseInt(e,10),g=new Date(p.getTime()-v*24*60*60*1e3),y={startDate:IX(g).toISOString(),endDate:PX(p).toISOString()};t!=="all"&&(y.tipo=t);const w=await we.get("/admin/solicitacoes",{params:y});d(w.data||[])}catch(p){console.error("Erro ao buscar dados:",p),l(p)}finally{i(!1)}})()},[e,t]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900",children:[n.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 shadow-sm",children:n.jsx(hn,{className:"h-8 w-8 text-slate-600 dark:text-slate-200"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatrios Administrativos"}),n.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mt-2 font-medium",children:"Anlise completa de solicitaes e mtricas operacionais"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-slate-600 dark:text-slate-200 mb-2",children:"Total"}),n.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:f.total}),n.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mt-1",children:"no perodo"})]}),n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl",children:n.jsx(hn,{className:"h-6 w-6 text-slate-600 dark:text-slate-200"})})]})})}),n.jsx(ke,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-green-50 dark:bg-green-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-300 mb-2",children:"Aprovadas"}),n.jsx("p",{className:"text-3xl font-bold text-green-800 dark:text-green-200",children:f.aprovadas}),n.jsxs("p",{className:"text-sm font-medium text-green-600 dark:text-green-400 mt-1",children:[Math.round(f.aprovadas/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-800 rounded-xl",children:n.jsx(us,{className:"h-6 w-6 text-green-600 dark:text-green-300"})})]})})}),n.jsx(ke,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-red-700 dark:text-red-300 mb-2",children:"Rejeitadas"}),n.jsx("p",{className:"text-3xl font-bold text-red-800 dark:text-red-200",children:f.rejeitadas}),n.jsxs("p",{className:"text-sm font-medium text-red-600 dark:text-red-400 mt-1",children:[Math.round(f.rejeitadas/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-800 rounded-xl",children:n.jsx(fs,{className:"h-6 w-6 text-red-600 dark:text-red-300"})})]})})}),n.jsx(ke,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-amber-50 dark:bg-amber-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(Ue,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-amber-700 dark:text-amber-300 mb-2",children:"Pendentes"}),n.jsx("p",{className:"text-3xl font-bold text-amber-800 dark:text-amber-200",children:f.pendentes}),n.jsxs("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mt-1",children:[Math.round(f.pendentes/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-800 rounded-xl",children:n.jsx(Or,{className:"h-6 w-6 text-amber-600 dark:text-amber-300"})})]})})})]})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 space-y-8",children:[n.jsx(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:n.jsxs(Ke,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:n.jsx(lu,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Filtros de Anlise"}),n.jsx(gr,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Configure o perodo e tipo de relatrio"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-6 mt-6",children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Perodo de Anlise"}),n.jsxs(qr,{value:e,onValueChange:r,children:[n.jsx(Vr,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:n.jsx(Wr,{})}),n.jsx(zr,{children:i5.map(m=>n.jsx(rt,{value:m.value,className:"text-base",children:m.label},m.value))})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Tipo de Solicitao"}),n.jsxs(qr,{value:t,onValueChange:a,children:[n.jsx(Vr,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:n.jsx(Wr,{})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"all",className:"text-base",children:"Todos os Tipos"}),n.jsx(rt,{value:"medico",className:"text-base",children:"Mdicos"}),n.jsx(rt,{value:"clinica",className:"text-base",children:"Clnicas"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Aes"}),n.jsxs(ve,{variant:"outline",size:"lg",disabled:s,onClick:()=>r(e),className:"h-12 px-6 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 hover:bg-slate-50 dark:hover:bg-slate-600 hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 dark:text-slate-200 font-semibold shadow-sm transition-all duration-200 text-base",children:[n.jsx(I1,{className:`h-5 w-5 mr-2 ${s?"animate-spin":""}`}),"Atualizar Dados"]})]})]})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(Ke,{className:"pb-4",children:n.jsx(Ge,{className:"text-base font-bold text-slate-700 dark:text-slate-200 group-hover:text-slate-900 dark:group-hover:text-white transition-colors",children:"Total no Perodo"})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-3",children:f.total}),n.jsx("p",{className:"text-base font-medium text-slate-600 dark:text-slate-300",children:(h=i5.find(m=>m.value===e))==null?void 0:h.label})]})]}),n.jsxs(ke,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-gradient-to-br from-white to-green-50 dark:from-slate-800 dark:to-green-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(Ke,{className:"pb-4",children:n.jsxs(Ge,{className:"text-base font-bold flex items-center gap-2 text-green-700 dark:text-green-200 group-hover:text-green-800 dark:group-hover:text-green-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-green-100 dark:bg-green-800 rounded",children:n.jsx(us,{className:"h-5 w-5 text-green-600 dark:text-green-300"})}),"Solicitaes Aprovadas"]})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-4xl font-bold text-green-800 dark:text-green-100 mb-3",children:f.aprovadas}),n.jsxs("p",{className:"text-base font-medium text-green-600 dark:text-green-300",children:[f.aprovMed," mdicos  ",f.aprovCli," clnicas"]})]})]}),n.jsxs(ke,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-gradient-to-br from-white to-red-50 dark:from-slate-800 dark:to-red-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(Ke,{className:"pb-4",children:n.jsxs(Ge,{className:"text-base font-bold flex items-center gap-2 text-red-700 dark:text-red-200 group-hover:text-red-800 dark:group-hover:text-red-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-red-100 dark:bg-red-800 rounded",children:n.jsx(fs,{className:"h-5 w-5 text-red-600 dark:text-red-300"})}),"Solicitaes Rejeitadas"]})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-4xl font-bold text-red-800 dark:text-red-100 mb-3",children:f.rejeitadas}),n.jsxs("p",{className:"text-base font-medium text-red-600 dark:text-red-300",children:[f.rejMed," mdicos  ",f.rejCli," clnicas"]})]})]}),n.jsxs(ke,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-gradient-to-br from-white to-amber-50 dark:from-slate-800 dark:to-amber-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(Ke,{className:"pb-4",children:n.jsxs(Ge,{className:"text-base font-bold flex items-center gap-2 text-amber-700 dark:text-amber-200 group-hover:text-amber-800 dark:group-hover:text-amber-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-amber-100 dark:bg-amber-800 rounded",children:n.jsx(Or,{className:"h-5 w-5 text-amber-600 dark:text-amber-300"})}),"Aguardando Anlise"]})}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-4xl font-bold text-amber-800 dark:text-amber-100 mb-3",children:f.pendentes}),n.jsx("p",{className:"text-base font-medium text-amber-600 dark:text-amber-300",children:"Requer ateno administrativa"})]})]})]}),n.jsxs(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:[n.jsx(Ke,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:n.jsx(z0,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Anlise Temporal"}),n.jsx(gr,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Distribuio diria de aprovaes e rejeies no perodo selecionado"})]})]})}),n.jsxs(Ue,{className:"space-y-8 p-8",children:[f.byDay.map(m=>{const p=Math.round(m.aprov/f.maxDay*100),v=Math.round(m.rej/f.maxDay*100);return n.jsxs("div",{className:"group",children:[n.jsxs("div",{className:"flex items-center justify-between text-base mb-4",children:[n.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:m.ymd}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-400 rounded-full"}),n.jsxs("span",{className:"text-green-600 dark:text-green-300 font-bold text-base",children:["Aprovadas: ",m.aprov]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full"}),n.jsxs("span",{className:"text-red-600 dark:text-red-300 font-bold text-base",children:["Rejeitadas: ",m.rej]})]})]})]}),n.jsxs("div",{className:"h-8 w-full rounded-lg bg-slate-200 dark:bg-slate-700 overflow-hidden border border-slate-300 dark:border-slate-600 shadow-inner",children:[n.jsx("div",{className:"h-8 bg-green-500 inline-block transition-all duration-500 group-hover:bg-green-400",style:{width:`${p}%`},title:`Aprovadas: ${m.aprov}`}),n.jsx("div",{className:"h-8 bg-red-500 inline-block transition-all duration-500 group-hover:bg-red-400",style:{width:`${v}%`},title:`Rejeitadas: ${m.rej}`})]})]},m.ymd)}),!f.byDay.length&&n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"text-slate-400 text-6xl mb-6",children:""}),n.jsx("div",{className:"text-xl font-bold text-slate-600 dark:text-slate-300 mb-3",children:"Nenhum dado encontrado"}),n.jsx("div",{className:"text-base font-medium text-slate-500 dark:text-slate-400",children:"No h registros para o perodo selecionado."})]})]})]}),s&&n.jsx(ke,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:n.jsx(Ue,{className:"p-12",children:n.jsxs("div",{className:"animate-pulse space-y-8",children:[n.jsx("div",{className:"h-10 bg-slate-200 dark:bg-slate-700 rounded-lg w-1/3"}),n.jsx("div",{className:"h-40 bg-slate-200 dark:bg-slate-700 rounded-lg"})]})})}),o&&n.jsx(ke,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20",children:n.jsxs(Ue,{className:"p-12 text-center",children:[n.jsx("div",{className:"text-red-400 text-6xl mb-6",children:""}),n.jsx("p",{className:"text-red-700 dark:text-red-300 font-bold text-xl mb-3",children:"Erro ao carregar dados"}),n.jsx("p",{className:"text-red-600 dark:text-red-400 text-base font-medium",children:String(o)})]})})]})]})}function MX(){const[e,r]=b.useState([]),[t,a]=b.useState(!1),[s,i]=b.useState(null),[o,l]=b.useState(null),[A,d]=b.useState(null),[f,h]=b.useState(""),[m,p]=b.useState(""),[v,g]=b.useState(""),[y,w]=b.useState(""),[j,C]=b.useState(""),[E,U]=b.useState(""),[k,F]=b.useState(""),D=b.useMemo(()=>{const G={ordering:"-created_at",limit:20};return f&&(G.action=f),m&&(G.entity=m),v&&(G.status=v),y&&(G.user=y),j&&(G.created_at__gte=new Date(j).toISOString()),E&&(G.created_at__lte=new Date(E).toISOString()),k&&(G.search=k),G},[f,m,v,y,j,E,k]),_=async G=>{var L,T,J,R;a(!0),i(null);try{const re=typeof G=="string"?await we.get(G):await ma.getAuditoria(G),V=(re==null?void 0:re.data)??re,Y=Array.isArray(V==null?void 0:V.results)?V.results:Array.isArray(V)?V:[];r(Y),l((V==null?void 0:V.next)||null),d((V==null?void 0:V.previous)||null)}catch(re){const V=(L=re==null?void 0:re.response)==null?void 0:L.status,H=(typeof((T=re==null?void 0:re.response)==null?void 0:T.data)=="string"?null:(R=(J=re==null?void 0:re.response)==null?void 0:J.data)==null?void 0:R.detail)||(re==null?void 0:re.message)||"Falha ao carregar auditoria";i(V?`Erro ${V}: ${H}`:H)}finally{a(!1)}};return b.useEffect(()=>{_(D)},[D]),n.jsxs("div",{className:"space-y-8 p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-red-700 to-red-800 rounded-2xl p-8 text-white shadow-2xl",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:n.jsx(Hs,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold",children:"Auditoria"}),n.jsx("p",{className:"text-red-100 text-lg",children:"Acompanhe registros de aes do sistema"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bi,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Total de Registros"}),n.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Hn,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Usurios nicos"}),n.jsx("p",{className:"text-2xl font-bold",children:new Set(e.map(G=>{var L;return(L=G.user)==null?void 0:L.id})).size})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(wr,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Hoje"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(G=>new Date(G.created_at).toDateString()===new Date().toDateString()).length})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ci,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Sucessos"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(G=>G.status==="success").length})]})]})})]})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[n.jsx(Ke,{className:"pb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:n.jsx(lu,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-xl font-semibold text-gray-900",children:"Filtros Avanados"}),n.jsx(gr,{className:"text-gray-600",children:"Refine a busca por perodo, usurio e tipo de ao"})]})]})}),n.jsxs(Ue,{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Incio"}),n.jsx(ms,{value:j,onChange:C,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",maxDate:new Date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Fim"}),n.jsx(ms,{value:E,onChange:U,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",minDate:j?new Date(j):void 0,maxDate:new Date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),n.jsxs(qr,{value:v,onValueChange:G=>g(G==="all"?"":G),children:[n.jsx(Vr,{className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",children:n.jsx(Wr,{placeholder:"Selecionar status"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"all",children:"Todos"}),n.jsx(rt,{value:"success",children:"Sucesso"}),n.jsx(rt,{value:"fail",children:"Falha"})]})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usurio (UUID)"}),n.jsx(Te,{value:y,onChange:G=>w(G.target.value),placeholder:"ID do usurio",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ao"}),n.jsx(Te,{value:f,onChange:G=>h(G.target.value),placeholder:"ex: login, create, update",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Entidade"}),n.jsx(Te,{value:m,onChange:G=>p(G.target.value),placeholder:"ex: Consulta, Paciente",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Busca Geral"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(Te,{value:k,onChange:G=>F(G.target.value),placeholder:"Buscar por ao, entidade, IP ou usurio...",className:"pl-10 h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs(ve,{onClick:()=>_(D),className:"h-11 px-6 btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-200",children:[n.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Buscar"]}),n.jsxs(ve,{variant:"outline",onClick:()=>{h(""),p(""),g(""),w(""),C(""),U(""),F("")},className:"h-11 px-6 bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:[n.jsx(I1,{className:"mr-2 h-4 w-4"}),"Limpar"]})]})]})]})]}),n.jsxs(ke,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between pb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:n.jsx(Bi,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-xl font-semibold text-gray-900",children:"Registros de Auditoria"}),n.jsx(gr,{className:"text-gray-600",children:"Resultados paginados (20 por pgina)"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ve,{variant:"outline",size:"sm",disabled:!A||t,onClick:()=>_(A),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:n.jsx(nS,{className:"h-4 w-4"})}),n.jsx(ve,{variant:"outline",size:"sm",disabled:!o||t,onClick:()=>_(o),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:n.jsx(xl,{className:"h-4 w-4"})})]})]}),n.jsxs(Ue,{children:[s&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:n.jsx("p",{className:"text-red-700 font-medium",children:s})}),n.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:n.jsxs("table",{className:"min-w-full bg-white",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Data"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Usurio"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Ao"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Entidade"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"ID"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"IP"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Status"})]})}),n.jsxs("tbody",{children:[!t&&e.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gray-100 rounded-full",children:n.jsx(Bi,{className:"h-6 w-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum registro encontrado"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Tente ajustar os filtros de busca"})]})})}),e.map((G,L)=>{var T,J;return n.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 transition-all duration-200 ${L%2===0?"bg-white":"bg-gray-50/30"}`,children:[n.jsx("td",{className:"py-4 px-6 text-sm text-gray-900 font-medium whitespace-nowrap",children:new Date(G.created_at).toLocaleString("pt-BR")}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:((T=G.user)==null?void 0:T.username)||((J=G.user)==null?void 0:J.email)||"-"}),n.jsx("td",{className:"py-4 px-6",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:G.action})}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:G.entity||"-"}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:G.entity_id||"-"}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:G.ip_address||"-"}),n.jsx("td",{className:"py-4 px-6",children:G.status==="success"?n.jsx(lr,{className:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",variant:"outline",children:"Sucesso"}):n.jsx(lr,{className:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",variant:"outline",children:"Falha"})})]},G.id)})]})]})})]})]})]})}function TX(){const{activeRole:e,toggleRole:r}=cc(),{user:t}=qo(),a=Kn();if(!((t==null?void 0:t.role)==="medico"||(t==null?void 0:t.is_medico)||(t==null?void 0:t.isMedico)||!1))return null;const i=()=>{r(),a(e==="medico"?"/paciente/perfil":"/medico/dashboard")};return n.jsx(ve,{variant:"outline",size:"sm",onClick:i,className:"flex items-center gap-2 transition-all duration-200 hover:shadow-md",children:e==="medico"?n.jsxs(n.Fragment,{children:[n.jsx(Hn,{className:"h-4 w-4"}),n.jsx("span",{children:"Mudar para Paciente"})]}):n.jsxs(n.Fragment,{children:[n.jsx(ea,{className:"h-4 w-4"}),n.jsx("span",{children:"Mudar para Mdico"})]})})}function OX(){const{isAuthenticated:e,user:r}=qo(),{isAuthenticated:t}=cc(),a=hb;if(e){const s=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),i=s==="admin"?"/admin/dashboard":s==="medico"?"/medico/dashboard":s==="clinica"?"/clinica/dashboard":"/paciente/perfil";return n.jsx(Ea,{to:i,replace:!0})}return n.jsxs("div",{className:"flex min-h-screen flex-col bg-app-soft",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-blue-100/50 app-light-green-gradient dark:app-dark-green-gradient backdrop-blur-xl shadow-sm",children:n.jsxs("div",{className:"container flex h-16 items-center",children:[n.jsx("div",{className:"mr-4 flex",children:n.jsxs(pr,{to:"/",className:"mr-6 flex items-center space-x-3 group",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl overflow-hidden shadow-lg group-hover:shadow-blue-500/25 transition-all duration-300 group-hover:scale-105",children:n.jsx("img",{src:a,alt:"Trathea",className:"w-full h-full object-cover"})}),n.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Trathea"})]})}),n.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:n.jsxs("nav",{className:"flex items-center space-x-2",children:[n.jsx(ub,{}),t&&n.jsx(TX,{})]})})]})}),n.jsx("main",{className:"flex-1",children:n.jsxs("section",{className:"w-full py-16 md:py-24 lg:py-32 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-teal-400/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-medical-primary/20 to-purple-400/20 rounded-full blur-3xl"})]}),n.jsx("div",{className:"container px-4 md:px-6 relative",children:n.jsxs("div",{className:"flex flex-col items-center justify-center space-y-12 text-center",children:[n.jsxs("div",{className:"space-y-6 max-w-4xl",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-100 to-teal-100 text-medical-primary font-medium text-sm border border-blue-200/50",children:[n.jsx(dI,{className:"w-4 h-4"}),"Plataforma Mdica Integrada"]}),n.jsxs("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl lg:text-7xl",children:[n.jsx("span",{className:"bg-gradient-to-r from-medical-primary via-blue-600 to-teal-600 bg-clip-text text-transparent",children:"Bem-vindo ao"}),n.jsx("br",{}),n.jsx("span",{className:"bg-gradient-to-r from-teal-600 via-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Trathea"})]}),n.jsx("p",{className:"mx-auto max-w-[800px] text-xl text-slate-600 dark:text-slate-300 leading-relaxed",children:"Conectando mdicos e pacientes para uma experincia de sade integrada e moderna."}),n.jsx("p",{className:"mx-auto max-w-[700px] text-lg text-slate-500 dark:text-slate-400 leading-relaxed",children:"Nossa plataforma oferece uma soluo completa para gerenciamento de consultas, pronturios e histrico mdico, facilitando a comunicao entre profissionais de sade e pacientes."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl mt-16",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-blue-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(ea,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Consultas Online"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Agende e realize consultas mdicas de forma digital e segura."})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-teal-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-teal-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(Bi,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Pronturio Digital"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Acesse seu histrico mdico completo em qualquer lugar."})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 dark:bg-white/5 backdrop-blur-sm border border-purple-100/50 dark:border-white/10 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(Hs,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Segurana Total"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:"Seus dados mdicos protegidos com criptografia avanada."})]})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mt-12",children:t?n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-lg mx-auto",children:[n.jsx(pr,{to:"/medico/dashboard",className:"flex-1",children:n.jsx(ve,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-teal-500 to-teal-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group dark:from-teal-400 dark:to-teal-500",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"w-5 h-5"}),"Acessar como Mdico"]})})}),n.jsx(pr,{to:"/paciente/perfil",className:"flex-1",children:n.jsx(ve,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-blue-500/20 bg-white/90 dark:bg-white/5 text-blue-600 dark:text-blue-300 font-semibold shadow-lg hover:bg-blue-500/5 dark:hover:bg-blue-500/10 hover:border-blue-500/40 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(As,{className:"w-5 h-5"}),"Acessar como Paciente"]})})})]}):n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-md mx-auto",children:[n.jsx(pr,{to:"/login",className:"flex-1",children:n.jsx(ve,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-medical-primary to-blue-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group dark:from-emerald-400 dark:to-emerald-500",children:n.jsxs("span",{className:"flex items-center gap-2",children:["Entrar",n.jsx(Yg,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})})}),n.jsx(pr,{to:"/registrar",className:"flex-1",children:n.jsx(ve,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-medical-primary/20 bg-white/90 dark:bg-white/5 text-medical-primary font-semibold shadow-lg hover:bg-medical-primary/5 dark:hover:bg-medical-primary/10 hover:border-medical-primary/40 hover:shadow-xl hover:scale-105 transition-all duration-300",children:"Criar Conta"})})]})})]})})]})})]})}function HX(){var k,F,D,_,G,L,T,J,R,re;const[e,r]=b.useState(!1),[t,a]=b.useState("none"),{toast:s}=Va();Kn();const{setActiveRole:i,setUserPermissions:o}=cc(),l=((k=Rr.getCurrentUser)==null?void 0:k.call(Rr))||null,d=`medicoApplicationStatus:${l&&(l.id||l.pk||l.email||l.username)||"anon"}`;b.useEffect(()=>{try{const V=localStorage.getItem("medicoApplicationStatus");V&&!localStorage.getItem(d)&&(localStorage.setItem(d,V),localStorage.removeItem("medicoApplicationStatus"));const Y=JSON.parse(localStorage.getItem(d)||"{}");Y!=null&&Y.status&&a(Y.status)}catch{}},[d]);const[f,h]=b.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),m=V=>String(V||"").replace(/\D/g,"").slice(0,7),p=V=>{const{name:Y,value:H}=V.target,Z=Y==="crm"?m(H):H;h({...f,[Y]:Z})},v=(V,Y)=>{h({...f,[V]:Y})},g=(V,Y)=>{h({...f,documentos:{...f.documentos,[V]:Y}})},y=b.useRef(null),w=b.useRef(null),j=b.useRef(null),C=(V,Y)=>{h(H=>({...H,documentos:{...H.documentos,[V]:null}})),Y!=null&&Y.current&&(Y.current.value="")},E=async V=>{var Y,H,Z,Ae;if(V.preventDefault(),r(!0),!((Y=f.documentos)!=null&&Y.diplomaMedicina)){s({title:"Arquivo obrigatrio",description:"Anexe o Diploma de Medicina antes de enviar.",variant:"destructive"}),r(!1);return}try{const{solicitacaoService:ee}=await ui(async()=>{const{solicitacaoService:Q}=await Promise.resolve().then(()=>C6);return{solicitacaoService:Q}},void 0);await ee.criarSolicitacaoMedico(f),a("pending"),localStorage.setItem(d,JSON.stringify({status:"pending",at:new Date().toISOString()})),o(Q=>({...Q,medicoStatus:"pending"})),s({title:"Solicitao enviada!",description:"Sua solicitao para se tornar mdico foi enviada para anlise."})}catch(ee){const Q=(H=ee==null?void 0:ee.response)==null?void 0:H.status;if(Q===404)a("pending"),localStorage.setItem(d,JSON.stringify({status:"pending",at:new Date().toISOString(),simulated:!0})),o(q=>({...q,medicoStatus:"pending"})),s({title:"Solicitao registrada (modo teste)",description:"Sem endpoint de backend disponvel. Status salvo localmente."});else if(Q===405){const q=((Z=ee==null?void 0:ee.config)==null?void 0:Z.url)||"(desconhecido)";console.warn("Endpoint no aceita POST (405). URL usada:",q),s({title:"Mtodo no permitido (405)",description:`O backend no aceita POST neste endpoint: ${q}. Verifique a varivel de ambiente do endpoint de solicitaes do mdico ou me informe a rota correta de criao.`,variant:"destructive"})}else{const q=(Ae=ee==null?void 0:ee.response)==null?void 0:Ae.data;console.error("[MedicoRegistration] criarSolicitacaoMedico falhou:",ee,q),s({title:"Erro ao enviar",description:typeof q=="string"?q:"No foi possvel enviar a solicitao. Verifique os campos e tente novamente.",variant:"destructive"})}}finally{r(!1)}},U=()=>{switch(t){case"pending":return n.jsxs(lr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Or,{className:"mr-1 h-3 w-3"}),"Aguardando Aprovao"]});case"approved":return n.jsxs(lr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(us,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(lr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(fs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}};return t==="approved"?n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-5 w-5 text-green-600"}),n.jsx(Ge,{className:"text-green-700",children:"Parabns! Voc  um mdico aprovado"})]}),n.jsx(gr,{children:"Sua solicitao foi aprovada. Agora voc pode acessar todas as funcionalidades mdicas."})]}),n.jsx(Ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Voc agora pode alternar entre os perfis de paciente e mdico usando o boto no menu lateral."})}),n.jsx(ve,{className:"w-full",children:"Acessar rea Mdica"})]})})]}):t==="pending"?n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-5 w-5"}),n.jsx(Ge,{children:"Solicitao de Cadastro Mdico"})]}),U()]}),n.jsx(gr,{children:"Sua solicitao est sendo analisada pela equipe administrativa."})]}),n.jsx(Ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[n.jsx("strong",{children:"Status:"})," Aguardando aprovao",n.jsx("br",{}),n.jsx("strong",{children:"Enviado em:"})," ",new Date().toLocaleDateString(),n.jsx("br",{}),n.jsx("strong",{children:"Tempo estimado:"})," 2-5 dias teis"]})}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc receber um email quando sua solicitao for processada. Enquanto isso, voc pode continuar usando o sistema como paciente."})]})})]}):t==="rejected"?n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-5 w-5"}),n.jsx(Ge,{children:"Solicitao de Cadastro Mdico"})]}),U()]}),n.jsx(gr,{children:"Sua solicitao foi rejeitada. Veja os motivos abaixo."})]}),n.jsx(Ue,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[n.jsx("strong",{children:"Motivos da rejeio:"}),n.jsx("br",{})," Documentao incompleta",n.jsx("br",{})," CRM no encontrado no sistema do CFM",n.jsx("br",{})," Informaes inconsistentes"]})}),n.jsx(ve,{variant:"outline",className:"w-full bg-transparent",onClick:()=>a("none"),children:"Enviar Nova Solicitao"})]})})]}):n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-5 w-5"}),n.jsx(Ge,{children:"Cadastro como Mdico"})]}),n.jsx(gr,{children:"Preencha os dados abaixo para solicitar acesso s funcionalidades mdicas"})]}),n.jsx(Ue,{children:n.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Dados Profissionais"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"crm",children:"CRM *"}),n.jsx(Te,{id:"crm",name:"crm",placeholder:"Ex: CRM/SP 123456",value:f.crm,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"especialidade",children:"Especialidade *"}),n.jsxs(qr,{onValueChange:V=>v("especialidade",V),children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Selecione sua especialidade"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"clinica-geral",children:"Clnica Geral"}),n.jsx(rt,{value:"cardiologia",children:"Cardiologia"}),n.jsx(rt,{value:"dermatologia",children:"Dermatologia"}),n.jsx(rt,{value:"endocrinologia",children:"Endocrinologia"}),n.jsx(rt,{value:"ginecologia",children:"Ginecologia"}),n.jsx(rt,{value:"neurologia",children:"Neurologia"}),n.jsx(rt,{value:"ortopedia",children:"Ortopedia"}),n.jsx(rt,{value:"pediatria",children:"Pediatria"}),n.jsx(rt,{value:"psiquiatria",children:"Psiquiatria"}),n.jsx(rt,{value:"urologia",children:"Urologia"}),n.jsx(rt,{value:"outras",children:"Outras"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"instituicaoFormacao",children:"Instituio de Formao *"}),n.jsx(Te,{id:"instituicaoFormacao",name:"instituicaoFormacao",placeholder:"Ex: USP, UNIFESP, etc.",value:f.instituicaoFormacao,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"anoFormacao",children:"Ano de Formao *"}),n.jsx(Te,{id:"anoFormacao",name:"anoFormacao",type:"number",placeholder:"Ex: 2015",min:"1950",max:new Date().getFullYear(),value:f.anoFormacao,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"residencia",children:"Residncia Mdica"}),n.jsx(Te,{id:"residencia",name:"residencia",placeholder:"Ex: Cardiologia",value:f.residencia,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"instituicaoResidencia",children:"Instituio da Residncia"}),n.jsx(Te,{id:"instituicaoResidencia",name:"instituicaoResidencia",placeholder:"Ex: Hospital das Clnicas",value:f.instituicaoResidencia,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"anoResidencia",children:"Ano de Concluso da Residncia"}),n.jsx(Te,{id:"anoResidencia",name:"anoResidencia",type:"number",placeholder:"Ex: 2018",min:"1950",max:new Date().getFullYear(),value:f.anoResidencia,onChange:p})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"experiencia",children:"Descreva sua experincia profissional *"}),n.jsx(oa,{id:"experiencia",name:"experiencia",placeholder:"Descreva onde trabalhou, por quanto tempo, principais atividades...",className:"min-h-[100px]",value:f.experiencia,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"motivacao",children:"Por que deseja usar nossa plataforma? *"}),n.jsx(oa,{id:"motivacao",name:"motivacao",placeholder:"Conte-nos sobre suas motivaes e como pretende usar a plataforma...",className:"min-h-[100px]",value:f.motivacao,onChange:p,required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Documentos Obrigatrios"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Diploma de Medicina *"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var V;return(V=y.current)==null?void 0:V.click()},onDragOver:V=>V.preventDefault(),onDrop:V=>{var H;V.preventDefault();const Y=(H=V.dataTransfer.files)==null?void 0:H[0];Y&&g("diplomaMedicina",Y)},children:[n.jsx(jg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(F=f.documentos)!=null&&F.diplomaMedicina?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(D=f.documentos)!=null&&D.diplomaMedicina?f.documentos.diplomaMedicina.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Te,{ref:y,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:V=>g("diplomaMedicina",V.target.files[0])}),((_=f.documentos)==null?void 0:_.diplomaMedicina)&&n.jsx("div",{className:"mt-2",children:n.jsx(ve,{type:"button",variant:"ghost",size:"sm",onClick:()=>C("diplomaMedicina",y),children:"Remover arquivo"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Certificado de Residncia (se aplicvel)"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var V;return(V=w.current)==null?void 0:V.click()},onDragOver:V=>V.preventDefault(),onDrop:V=>{var H;V.preventDefault();const Y=(H=V.dataTransfer.files)==null?void 0:H[0];Y&&g("certificadoResidencia",Y)},children:[n.jsx(jg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(G=f.documentos)!=null&&G.certificadoResidencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(L=f.documentos)!=null&&L.certificadoResidencia?f.documentos.certificadoResidencia.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Te,{ref:w,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:V=>g("certificadoResidencia",V.target.files[0])}),((T=f.documentos)==null?void 0:T.certificadoResidencia)&&n.jsx("div",{className:"mt-2",children:n.jsx(ve,{type:"button",variant:"ghost",size:"sm",onClick:()=>C("certificadoResidencia",w),children:"Remover arquivo"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Comprovante de Experincia"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var V;return(V=j.current)==null?void 0:V.click()},onDragOver:V=>V.preventDefault(),onDrop:V=>{var H;V.preventDefault();const Y=(H=V.dataTransfer.files)==null?void 0:H[0];Y&&g("comprovanteExperiencia",Y)},children:[n.jsx(jg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(J=f.documentos)!=null&&J.comprovanteExperiencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(R=f.documentos)!=null&&R.comprovanteExperiencia?f.documentos.comprovanteExperiencia.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Te,{ref:j,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:V=>g("comprovanteExperiencia",V.target.files[0])}),((re=f.documentos)==null?void 0:re.comprovanteExperiencia)&&n.jsx("div",{className:"mt-2",children:n.jsx(ve,{type:"button",variant:"ghost",size:"sm",onClick:()=>C("comprovanteExperiencia",j),children:"Remover arquivo"})})]})]})]})]}),n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[n.jsx("strong",{children:"Importante:"})," Sua solicitao ser analisada por nossa equipe administrativa. O processo pode levar de 2 a 5 dias teis. Voc receber um email com o resultado da anlise."]})}),n.jsx(ve,{type:"submit",className:"w-full",disabled:e,children:e?"Enviando solicitao...":"Enviar Solicitao"})]})})]})}function $X({medicoId:e,medicoInfo:r={}}){const{toast:t}=Va(),a=b.useRef(null),[s,i]=b.useState(Ts),[o,l]=b.useState(null),[A,d]=b.useState(null),[f,h]=b.useState(!1),[m,p]=b.useState(!0);b.useEffect(()=>{if(!e)return;(async()=>{try{let F=null,D=null;try{F=v0(e),D=pm(e)}catch(_){console.warn("Erro ao carregar do backend, usando localStorage:",_),F=v0(e),D=pm(e)}F&&i(F),D&&d(D.data)}catch(F){console.error("Erro ao carregar configurao:",F)}finally{p(!1)}})()},[e]);const v=(k,F)=>{i(D=>{const _={...D},G=k.split(".");let L=_;for(let T=0;T<G.length-1;T++)L[G[T]]||(L[G[T]]={}),L=L[G[T]];return L[G[G.length-1]]=F,_})},g=({template:k})=>{var J,R,re,V,Y,H;const F=k.type||tc.CLASSIC,D=((J=k==null?void 0:k.branding)==null?void 0:J.primaryColor)||((re=(R=k==null?void 0:k.content)==null?void 0:R.colors)==null?void 0:re.accent)||"#3b82f6",_=((V=k==null?void 0:k.header)==null?void 0:V.backgroundColor)||"#ffffff",G=((Y=k==null?void 0:k.header)==null?void 0:Y.showLogo)!==!1,L=((H=k==null?void 0:k.header)==null?void 0:H.borderBottom)!==!1;if(k!=null&&k.preview)return n.jsx("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden bg-white",children:n.jsx("img",{src:k.preview,alt:`Prvia ${k.name}`,className:"w-full h-full object-cover"})});const T=n.jsxs("div",{className:"aspect-[3/4] rounded-lg border bg-white overflow-hidden",children:[n.jsxs("div",{className:"h-10 flex items-center justify-between px-3",style:{backgroundColor:_},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[G&&n.jsx("div",{className:"w-6 h-6 rounded bg-gray-300"}),n.jsx("div",{className:"h-3 w-16 bg-gray-400/70 rounded"})]}),n.jsx("div",{className:"h-3 w-10 bg-gray-300 rounded"})]}),L&&n.jsx("div",{className:"h-[1px] w-full",style:{backgroundColor:"#e5e7eb"}}),n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-28 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-24 bg-gray-200 rounded"})]}),n.jsx("div",{className:"mt-auto p-3",children:n.jsx("div",{className:"h-2 w-32 rounded",style:{backgroundColor:D}})})]});return F===tc.MODERN?n.jsxs("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden",children:[n.jsx("div",{className:"h-12 flex items-center justify-center",style:{backgroundColor:_},children:G&&n.jsx("div",{className:"w-7 h-7 rounded-full",style:{backgroundColor:D}})}),n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-28 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"})]}),n.jsx("div",{className:"mt-auto p-3",children:n.jsx("div",{className:"h-1 w-full",style:{backgroundColor:D}})})]}):F===tc.MINIMAL?n.jsx("div",{className:"aspect-[3/4] rounded-lg border overflow-hidden",children:n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("div",{className:"h-3 w-24 bg-gray-300 rounded"}),n.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-36 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-44 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 w-28 bg-gray-200 rounded"})]})}):T},y=k=>{const F=Hj[k];F&&(i(D=>D$(F,{branding:{...F.branding,clinicName:r.nome||D.branding.clinicName,clinicAddress:r.endereco||D.branding.clinicAddress,clinicPhone:r.telefone||D.branding.clinicPhone}})),t({title:"Template selecionado",description:`Template "${F.name}" aplicado com sucesso.`}))},w=k=>{var _;const F=(_=k.target.files)==null?void 0:_[0];if(!F)return;if(!F.type.startsWith("image/")){t({title:"Arquivo invlido",description:"Por favor, selecione uma imagem vlida.",variant:"destructive"});return}if(F.size>2*1024*1024){t({title:"Arquivo muito grande",description:"O logo deve ter no mximo 2MB.",variant:"destructive"});return}l(F);const D=new FileReader;D.onload=G=>{d(G.target.result)},D.readAsDataURL(F)},j=()=>{l(null),d(null),e&&Kj(e),v("header.showLogo",!1),t({title:"Logo removido",description:"O logo foi removido do template."})},C=async()=>{if(!e){t({title:"Erro",description:"ID do mdico no encontrado.",variant:"destructive"});return}h(!0);try{const k=k$(s);if(!k.isValid){t({title:"Configurao invlida",description:k.errors.join(", "),variant:"destructive"});return}let F=null;if(o){const _=new FileReader;F=await new Promise(G=>{_.onload=L=>G(L.target.result),_.readAsDataURL(o)}),v("header.showLogo",!0)}else A&&(F=A);if(await Kt.salvarTemplateConfig(s,F))$j(e,s),F&&w0(e,{data:F,type:(o==null?void 0:o.type)||"image/png"}),t({title:"Configurao salva",description:"Suas configuraes de template foram salvas com sucesso no servidor."});else{const _=$j(e,s);if(F&&w0(e,{data:F,type:(o==null?void 0:o.type)||"image/png"}),_)t({title:"Configurao salva localmente",description:"Suas configuraes foram salvas localmente (servidor indisponvel).",variant:"default"});else throw new Error("Falha ao salvar configurao")}}catch(k){console.error("Erro ao salvar:",k),t({title:"Erro ao salvar",description:"No foi possvel salvar as configuraes.",variant:"destructive"})}finally{h(!1)}},E=()=>{i(Ts),l(null),d(null),e&&Kj(e),t({title:"Configurao resetada",description:"As configuraes foram restauradas para o padro."})},U=()=>{const k=U$(s);console.log("Preview config:",k),t({title:"Preview gerado",description:"Verifique o console para ver a configurao de preview."})};return m?n.jsx(ke,{children:n.jsx(Ue,{className:"p-6",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):n.jsx("div",{className:"space-y-6",children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(hn,{className:"h-5 w-5"}),"Configurao de Templates de PDF"]}),n.jsx(gr,{children:"Personalize o layout e aparncia das suas receitas mdicas em PDF"})]}),n.jsxs(Ue,{children:[n.jsxs(zi,{defaultValue:"templates",className:"space-y-6",children:[n.jsxs(qi,{className:"grid w-full grid-cols-4",children:[n.jsxs(Ir,{value:"templates",className:"flex items-center gap-2",children:[n.jsx(J6,{className:"h-4 w-4"}),"Templates"]}),n.jsxs(Ir,{value:"branding",className:"flex items-center gap-2",children:[n.jsx(SN,{className:"h-4 w-4"}),"Identidade"]}),n.jsxs(Ir,{value:"layout",className:"flex items-center gap-2",children:[n.jsx(cm,{className:"h-4 w-4"}),"Layout"]}),n.jsxs(Ir,{value:"colors",className:"flex items-center gap-2",children:[n.jsx(sS,{className:"h-4 w-4"}),"Cores"]})]}),n.jsx(Tr,{value:"templates",className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(Hj).map(([k,F])=>n.jsx(ke,{className:`cursor-pointer transition-all hover:shadow-md ${s.type===k?"ring-2 ring-primary":""}`,onClick:()=>y(k),children:n.jsxs(Ue,{className:"p-4",children:[n.jsx("div",{className:"mb-3",children:n.jsx(g,{template:F})}),n.jsx("h3",{className:"font-semibold",children:F.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:F.description}),s.type===k&&n.jsx(lr,{className:"mt-2",children:"Selecionado"})]})},k))})}),n.jsx(Tr,{value:"branding",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{className:"text-base font-semibold",children:"Logo da Clnica"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Adicione o logo da sua clnica que aparecer no cabealho das receitas"}),n.jsxs("div",{className:"flex items-center gap-4",children:[A?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:A,alt:"Logo preview",className:"w-20 h-20 object-contain border rounded-lg"}),n.jsx(ve,{size:"sm",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:j,children:""})]}):n.jsx("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:n.jsx(SN,{className:"h-8 w-8 text-gray-400"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{variant:"outline",onClick:()=>{var k;return(k=a.current)==null?void 0:k.click()},className:"flex items-center gap-2",children:[n.jsx(jg,{className:"h-4 w-4"}),A?"Alterar Logo":"Adicionar Logo"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG at 2MB"})]})]}),n.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:w,className:"hidden"})]}),n.jsx(hs,{}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"clinicName",children:"Nome da Clnica"}),n.jsx(Te,{id:"clinicName",value:s.branding.clinicName,onChange:k=>v("branding.clinicName",k.target.value),placeholder:"Nome da sua clnica"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"clinicPhone",children:"Telefone"}),n.jsx(Te,{id:"clinicPhone",value:s.branding.clinicPhone,onChange:k=>v("branding.clinicPhone",k.target.value),placeholder:"(11) 99999-9999"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Fe,{htmlFor:"clinicAddress",children:"Endereo"}),n.jsx(oa,{id:"clinicAddress",value:s.branding.clinicAddress,onChange:k=>v("branding.clinicAddress",k.target.value),placeholder:"Endereo completo da clnica",rows:2})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"clinicEmail",children:"E-mail"}),n.jsx(Te,{id:"clinicEmail",type:"email",value:s.branding.clinicEmail,onChange:k=>v("branding.clinicEmail",k.target.value),placeholder:"contato@clinica.com"})]})]})]})}),n.jsxs(Tr,{value:"layout",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Configuraes da Pgina"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Tamanho da Pgina"}),n.jsxs(qr,{value:s.layout.pageSize,onValueChange:k=>v("layout.pageSize",k),children:[n.jsx(Vr,{children:n.jsx(Wr,{})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"A4",children:"A4"}),n.jsx(rt,{value:"Letter",children:"Letter"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Orientao"}),n.jsxs(qr,{value:s.layout.orientation,onValueChange:k=>v("layout.orientation",k),children:[n.jsx(Vr,{children:n.jsx(Wr,{})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"portrait",children:"Retrato"}),n.jsx(rt,{value:"landscape",children:"Paisagem"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Margens (px)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Superior"}),n.jsx(Te,{type:"number",value:s.layout.margins.top,onChange:k=>v("layout.margins.top",parseInt(k.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Inferior"}),n.jsx(Te,{type:"number",value:s.layout.margins.bottom,onChange:k=>v("layout.margins.bottom",parseInt(k.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Esquerda"}),n.jsx(Te,{type:"number",value:s.layout.margins.left,onChange:k=>v("layout.margins.left",parseInt(k.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Direita"}),n.jsx(Te,{type:"number",value:s.layout.margins.right,onChange:k=>v("layout.margins.right",parseInt(k.target.value)||0)})]})]})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Tipografia"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajuste o tamanho das letras usadas em ttulos, subttulos e textos."}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Ttulo"}),n.jsx(Te,{type:"number",min:10,max:32,value:s.content.fontSize.title,onChange:k=>v("content.fontSize.title",parseInt(k.target.value)||10)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Subttulo"}),n.jsx(Te,{type:"number",min:9,max:28,value:s.content.fontSize.subtitle,onChange:k=>v("content.fontSize.subtitle",parseInt(k.target.value)||9)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Corpo"}),n.jsx(Te,{type:"number",min:8,max:24,value:s.content.fontSize.body,onChange:k=>v("content.fontSize.body",parseInt(k.target.value)||8)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Pequeno"}),n.jsx(Te,{type:"number",min:8,max:20,value:s.content.fontSize.small,onChange:k=>v("content.fontSize.small",parseInt(k.target.value)||8)})]})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Cabealho e Rodap"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Fe,{children:"Mostrar Logo"}),n.jsx(nu,{checked:s.header.showLogo,onCheckedChange:k=>v("header.showLogo",k)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Fe,{children:"Mostrar Informaes do Mdico"}),n.jsx(nu,{checked:s.header.showDoctorInfo,onCheckedChange:k=>v("header.showDoctorInfo",k)})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Fe,{children:"Mostrar Assinatura"}),n.jsx(nu,{checked:s.footer.showSignature,onCheckedChange:k=>v("footer.showSignature",k)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Fe,{children:"Mostrar Data"}),n.jsx(nu,{checked:s.footer.showDate,onCheckedChange:k=>v("footer.showDate",k)})]})]})]})]})]}),n.jsx(Tr,{value:"colors",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Cores do Texto"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Primria"}),n.jsx(Te,{type:"color",value:s.content.colors.primary,onChange:k=>v("content.colors.primary",k.target.value),className:"w-16 h-10"}),n.jsx(Te,{value:s.content.colors.primary,onChange:k=>v("content.colors.primary",k.target.value),className:"flex-1"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Secundria"}),n.jsx(Te,{type:"color",value:s.content.colors.secondary,onChange:k=>v("content.colors.secondary",k.target.value),className:"w-16 h-10"}),n.jsx(Te,{value:s.content.colors.secondary,onChange:k=>v("content.colors.secondary",k.target.value),className:"flex-1"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Destaque"}),n.jsx(Te,{type:"color",value:s.content.colors.accent,onChange:k=>v("content.colors.accent",k.target.value),className:"w-16 h-10"}),n.jsx(Te,{value:s.content.colors.accent,onChange:k=>v("content.colors.accent",k.target.value),className:"flex-1"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Tamanhos de Fonte (pt)"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Ttulo"}),n.jsx(Te,{type:"number",min:"10",max:"24",value:s.content.fontSize.title,onChange:k=>v("content.fontSize.title",parseInt(k.target.value)||16),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Subttulo"}),n.jsx(Te,{type:"number",min:"8",max:"20",value:s.content.fontSize.subtitle,onChange:k=>v("content.fontSize.subtitle",parseInt(k.target.value)||14),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Corpo"}),n.jsx(Te,{type:"number",min:"8",max:"16",value:s.content.fontSize.body,onChange:k=>v("content.fontSize.body",parseInt(k.target.value)||12),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fe,{className:"w-20",children:"Pequeno"}),n.jsx(Te,{type:"number",min:"6",max:"12",value:s.content.fontSize.small,onChange:k=>v("content.fontSize.small",parseInt(k.target.value)||10),className:"w-20"})]})]})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ve,{variant:"outline",onClick:U,className:"flex items-center gap-2",children:[n.jsx(Ci,{className:"h-4 w-4"}),"Preview"]}),n.jsxs(ve,{variant:"outline",onClick:E,className:"flex items-center gap-2",children:[n.jsx(cI,{className:"h-4 w-4"}),"Resetar"]})]}),n.jsxs(ve,{onClick:C,disabled:f,className:"flex items-center gap-2",children:[n.jsx(P1,{className:"h-4 w-4"}),f?"Salvando...":"Salvar Configurao"]})]})]})]})})}function Xw(){const{activeRole:e}=cc(),r=ns(),t=r.pathname.startsWith("/paciente/"),a=r.pathname.startsWith("/medico/"),{toast:s}=Va(),[i,o]=b.useState(!0),[l,A]=b.useState(!1),[d,f]=b.useState(null),[h,m]=b.useState(null),[p,v]=b.useState(null),[g,y]=b.useState({first_name:"",last_name:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:""}),[w,j]=b.useState({atual:"",nova:"",confirmar:""}),[C,E]=b.useState(!1),[U,k]=b.useState({email:!0,lembretes:!0,exames:!0,push:!1}),[F,D]=b.useState(!1),[_,G]=b.useState({tipo_sanguineo:"",alergias:"",condicoes_cronicas:"",contato_emergencia_nome:"",contato_emergencia_telefone:"",plano_saude:"",numero_carteirinha:"",peso:"",altura:""}),[L,T]=b.useState(!1),J=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],[R,re]=b.useState(!1),[V,Y]=b.useState(null),[H,Z]=b.useState(!1),[Ae,ee]=b.useState(!1),{ephemeralCertFile:Q,setEphemeralCertFile:q,ephemeralCertPassword:$,setEphemeralCertPassword:X}=cc(),[te,K]=b.useState(Q||null),[z,se]=b.useState($||"");b.useEffect(()=>{q(te)},[te]),b.useEffect(()=>{X(z)},[z]);const[fe,be]=b.useState(null),[Be,Qe]=b.useState("Assinatura de documento mdico"),[xe,ie]=b.useState("Hospital"),[at,gt]=b.useState(!1),it=async()=>{var Ye,nt;if(!fe){s.error("Selecione um PDF para assinar.");return}if(!te){s.error("Selecione um certificado (.pfx/.p12) para assinar o PDF.");return}if(!(z&&z.trim())){s.error("Informe a senha do certificado (.pfx/.p12).");return}const Ze=new FormData;Ze.append("file",fe),Ze.append("pfx",te),Ze.append("certificado",te),Ze.append("pkcs12",te),Ze.append("pfx_password",z.trim()),Ze.append("senha",z.trim()),Ze.append("password",z.trim()),Ze.append("no_persist","true"),Ze.append("ephemeral","true"),Be&&Ze.append("reason",Be),xe&&Ze.append("location",xe);try{gt(!0);const{filename:Er,blob:vt}=await Kt.signDocumento(Ze,{reason:Be,location:xe}),ar=window.URL.createObjectURL(vt),ca=document.createElement("a");ca.href=ar,ca.download=Er||"documento_assinado.pdf",document.body.appendChild(ca),ca.click(),ca.remove(),window.URL.revokeObjectURL(ar),s.success("Documento assinado com sucesso.")}catch(Er){const vt=((nt=(Ye=Er==null?void 0:Er.response)==null?void 0:Ye.data)==null?void 0:nt.message)||(Er==null?void 0:Er.message)||"Falha ao assinar o documento.";s.error(vt)}finally{gt(!1)}};b.useEffect(()=>{let Ze=!0;return(async()=>{var Ye;try{o(!0);const[nt,Er]=await Promise.allSettled([ha.getPerfil(),ha.getPacienteDoUsuario()]);if(!Ze)return;const vt=nt.status==="fulfilled"?nt.value:null,ar=Er.status==="fulfilled"?Er.value:null;m(vt),v(ar),y(ca=>({...ca,first_name:(vt==null?void 0:vt.first_name)||"",last_name:(vt==null?void 0:vt.last_name)||"",email:(vt==null?void 0:vt.email)||"",cpf:(vt==null?void 0:vt.cpf)||"",telefone:(vt==null?void 0:vt.telefone)||"",data_nascimento:(vt==null?void 0:vt.data_nascimento)||"",endereco:typeof(vt==null?void 0:vt.endereco)=="string"?vt.endereco:vt!=null&&vt.endereco?`${vt.endereco.logradouro||""} ${vt.endereco.numero||""} ${vt.endereco.bairro||""} ${vt.endereco.cidade||""} ${vt.endereco.estado||""}`.trim():""})),G({tipo_sanguineo:(ar==null?void 0:ar.tipo_sanguineo)||"",alergias:(ar==null?void 0:ar.alergias)||"",condicoes_cronicas:(ar==null?void 0:ar.condicoes_cronicas)||"",contato_emergencia_nome:(ar==null?void 0:ar.contato_emergencia_nome)||"",contato_emergencia_telefone:(ar==null?void 0:ar.contato_emergencia_telefone)||"",plano_saude:(ar==null?void 0:ar.plano_saude)||"",numero_carteirinha:(ar==null?void 0:ar.numero_carteirinha)||"",peso:(ar==null?void 0:ar.peso)??"",altura:(ar==null?void 0:ar.altura)??""});try{const ca=localStorage.getItem("notification_prefs");if(ca){const tr=JSON.parse(ca);k(Bn=>({...Bn,...tr}))}}catch{}}catch(nt){const Er=(Ye=nt==null?void 0:nt.response)==null?void 0:Ye.status;f(Er===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar os dados.")}finally{Ze&&o(!1)}})(),()=>{Ze=!1}},[]),b.useEffect(()=>{a&&Gt()},[a]);const Ee=Ze=>{const{name:Ye,value:nt}=Ze.target;y(Er=>({...Er,[Ye]:nt}))},dt=Ze=>{const{name:Ye,value:nt}=Ze.target;G(Er=>({...Er,[Ye]:nt}))};async function ct(){var Ze;A(!0);try{const Ye={first_name:g.first_name||"",last_name:g.last_name||"",telefone:g.telefone||"",data_nascimento:g.data_nascimento||"",endereco:g.endereco||""},nt=await ha.atualizarPerfil(Ye);m(nt);try{await Rr.refreshCurrentUser()}catch{}s({title:"Perfil atualizado",description:"Suas informaes pessoais foram salvas."})}catch(Ye){const nt=(Ze=Ye==null?void 0:Ye.response)!=null&&Ze.data?JSON.stringify(Ye.response.data):"No foi possvel salvar o perfil.";s({title:"Erro ao salvar",description:nt,variant:"destructive"})}finally{A(!1)}}async function Wt(){var Ze;T(!0);try{const Ye=await ha.atualizarPaciente(_);v(nt=>({...nt||{},...Ye||{}})),s({title:"Informaes do paciente salvas",description:"Dados atualizados com sucesso."})}catch(Ye){const nt=(Ze=Ye==null?void 0:Ye.response)!=null&&Ze.data?JSON.stringify(Ye.response.data):"No foi possvel salvar os dados do paciente.";s({title:"Erro ao salvar",description:nt,variant:"destructive"})}finally{T(!1)}}const Et=async()=>{var Ze,Ye;if(!w.nova||w.nova.length<6){s({title:"Senha invlida",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(w.nova!==w.confirmar){s({title:"Confirmao incorreta",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}E(!0);try{await we.post("/auth/change-password/",{old_password:w.atual,new_password:w.nova}),j({atual:"",nova:"",confirmar:""}),s({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."})}catch(nt){const vt=((Ze=nt==null?void 0:nt.response)==null?void 0:Ze.status)===404?"Endpoint de alterao de senha no encontrado. Verifique o backend.":(Ye=nt==null?void 0:nt.response)!=null&&Ye.data?JSON.stringify(nt.response.data):"No foi possvel alterar a senha.";s({title:"Erro ao alterar senha",description:vt,variant:"destructive"})}finally{E(!1)}},Ut=Ze=>{k(Ye=>({...Ye,[Ze]:!Ye[Ze]}))},Mt=()=>{D(!0);try{localStorage.setItem("notification_prefs",JSON.stringify(U)),s({title:"Preferncias salvas",description:"Suas preferncias de notificao foram atualizadas."})}finally{D(!1)}};async function Gt(){Z(!0);try{const Ze=await Kt.getCertificadoInfo();Y(Ze||null)}catch{Y(null)}finally{Z(!1)}}async function Lt(){var nt,Er;if(!te){s({title:"Selecione um arquivo",description:"Escolha um arquivo .pfx, .p12, .crt, .cer ou .pem.",variant:"destructive"});return}const Ze=15*1024*1024;if(te.size>Ze){s({title:"Arquivo muito grande",description:"O limite  de 15MB.",variant:"destructive"});return}const Ye=new FormData;Ye.append("file",te),Ye.append("certificado",te),Ye.append("arquivo",te),Ye.append("pfx",te),z&&(Ye.append("password",z),Ye.append("senha",z),Ye.append("passphrase",z),Ye.append("pfx_password",z)),Ye.append("no_persist","true"),Ye.append("ephemeral","true"),Ye.append("save_public_only","true"),ee(!0);try{const vt=await Kt.uploadCertificado(Ye);Y(vt||null);const ar=vt!=null&&vt.public_cert_saved?"Certificado pblico extrado e salvo para validaes. O PFX no foi armazenado.":"Certificado processado. O PFX no foi armazenado.";s({title:"Processamento concludo",description:ar}),K(null)}catch(vt){const ar=(nt=vt==null?void 0:vt.response)==null?void 0:nt.status,ca=(Er=vt==null?void 0:vt.response)==null?void 0:Er.data;s({title:"Falha no processamento",description:ar===404?"Endpoint de upload no encontrado no backend. Configure a varivel VITE_MEDICO_CERTIFICADO_ENDPOINT.":typeof ca=="string"?ca:"No foi possvel processar o certificado.",variant:"destructive"})}finally{ee(!1),se("")}}const _t=(()=>{const Ze=(V==null?void 0:V.valid_to)||(V==null?void 0:V.validade_fim)||(V==null?void 0:V.validade)||(V==null?void 0:V.valid_to_date);if(!Ze)return null;const Ye=new Date(Ze);return Math.ceil((Ye-new Date)/(1e3*60*60*24))})(),wt=!!(V&&(V.exists??V.id??V.valid_to??V.subject)),[Bt,St]=b.useState({nome:"",crm:"",especialidade:"",telefone:"",endereco:""}),[Na,Hr]=b.useState(!1),[Yt,Nr]=b.useState([]),[la,yt]=b.useState(!1),[yr,ur]=b.useState("");b.useEffect(()=>{a&&(async()=>{var Ze,Ye,nt,Er,vt,ar,ca,tr,Bn,gs,mn,ss;try{const ut=await Kt.getPerfil();if(!ut)return;const za=(ut==null?void 0:ut.nome)||((Ze=ut==null?void 0:ut.user)!=null&&Ze.first_name||(Ye=ut==null?void 0:ut.user)!=null&&Ye.last_name?`${((nt=ut==null?void 0:ut.user)==null?void 0:nt.first_name)||""} ${((Er=ut==null?void 0:ut.user)==null?void 0:Er.last_name)||""}`.trim():((vt=ut==null?void 0:ut.user)==null?void 0:vt.nome)||((ar=ut==null?void 0:ut.user)==null?void 0:ar.name)||"")||"",Xa=(ut==null?void 0:ut.crm)||(ut==null?void 0:ut.crm_numero)||(ut==null?void 0:ut.crm_registro)||((ca=ut==null?void 0:ut.user)==null?void 0:ca.crm)||"";let js="";typeof(ut==null?void 0:ut.especialidade)=="string"?js=ut.especialidade:ut!=null&&ut.especialidade&&typeof ut.especialidade=="object"&&(js=ut.especialidade.nome||ut.especialidade.label||ut.especialidade.titulo||"");const fi=(ut==null?void 0:ut.telefone)||(ut==null?void 0:ut.celular)||((tr=ut==null?void 0:ut.user)==null?void 0:tr.phone)||((Bn=ut==null?void 0:ut.user)==null?void 0:Bn.telefone)||((gs=ut==null?void 0:ut.contato)==null?void 0:gs.telefone)||"";let Ja=(ut==null?void 0:ut.endereco)||((mn=ut==null?void 0:ut.user)==null?void 0:mn.endereco)||((ss=ut==null?void 0:ut.clinica)==null?void 0:ss.endereco)||"",He="";typeof Ja=="string"?He=Ja:Ja&&typeof Ja=="object"&&(He=`${Ja.logradouro||Ja.rua||""} ${Ja.numero||""} ${Ja.bairro||""} ${Ja.cidade||""} ${Ja.estado||""}`.trim()),St({nome:za,crm:Xa,especialidade:js,telefone:fi,endereco:He});try{yt(!0);const Je=await(await ui(async()=>{const{secretariaService:Ct}=await Promise.resolve().then(()=>sm);return{secretariaService:Ct}},void 0)).secretariaService.listarSecretarias({limit:100});Nr(Array.isArray(Je)?Je:[])}catch{}finally{yt(!1)}}catch{}})()},[a]);const Ba=Ze=>{const{name:Ye,value:nt}=Ze.target;St(Er=>({...Er,[Ye]:nt}))},ka=async()=>{var Ze;Hr(!0);try{const Ye={telefone:Bt.telefone||"",endereco:Bt.endereco||"",especialidade:Bt.especialidade||""},nt=await Kt.updatePerfilMedico(Ye);if(nt){const Er=nt.telefone||nt.celular||Bt.telefone;let vt=nt.endereco||Bt.endereco;vt&&typeof vt=="object"&&(vt=`${vt.logradouro||vt.rua||""} ${vt.numero||""} ${vt.bairro||""} ${vt.cidade||""} ${vt.estado||""}`.trim());let ar=Bt.especialidade;typeof(nt==null?void 0:nt.especialidade)=="string"?ar=nt.especialidade:nt!=null&&nt.especialidade&&typeof nt.especialidade=="object"&&(ar=nt.especialidade.nome||nt.especialidade.label||nt.especialidade.titulo||ar),St(ca=>({...ca,telefone:Er,endereco:vt,especialidade:ar}))}s({title:"Dados do mdico atualizados",description:"Telefone, endereo e especialidade foram salvos."})}catch(Ye){const nt=(Ze=Ye==null?void 0:Ye.response)!=null&&Ze.data?JSON.stringify(Ye.response.data):"No foi possvel salvar os dados do mdico.";s({title:"Erro ao salvar",description:nt,variant:"destructive"})}finally{Hr(!1)}};return n.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informaes pessoais e preferncias da conta"})]}),t&&n.jsx(Wi,{tabs:J,basePath:"/paciente"}),!t&&e==="secretaria"&&!(p!=null&&p.id)&&n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Criar perfil de paciente"}),n.jsx(gr,{children:"Para acessar as funcionalidades de paciente com esta conta, crie seu perfil de paciente."})]}),n.jsxs(Ue,{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum perfil de paciente encontrado para esta conta."}),n.jsx(ve,{onClick:async()=>{var Ze;re(!0);try{const Ye=await ha.garantirPacienteDoUsuario({});v(Ye),s({title:"Perfil de paciente criado",description:"Voc j pode acessar a rea do paciente."})}catch(Ye){const nt=(Ze=Ye==null?void 0:Ye.response)!=null&&Ze.data?JSON.stringify(Ye.response.data):"No foi possvel criar o perfil.";s({title:"Erro",description:nt,variant:"destructive"})}finally{re(!1)}},disabled:R,children:R?"Criando...":"Criar meu perfil de paciente"})]})]}),n.jsxs(zi,{defaultValue:"perfil",className:"space-y-6",children:[n.jsxs(qi,{className:`grid w-full ${a?"grid-cols-6":"grid-cols-3"}`,children:[n.jsxs(Ir,{value:"perfil",className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-4 w-4"}),"Perfil"]}),n.jsxs(Ir,{value:"seguranca",className:"flex items-center gap-2",children:[n.jsx(L1,{className:"h-4 w-4"}),"Segurana"]}),n.jsxs(Ir,{value:"notificacoes",className:"flex items-center gap-2",children:[n.jsx(lm,{className:"h-4 w-4"}),"Notificaes"]}),a&&n.jsxs(n.Fragment,{children:[n.jsxs(Ir,{value:"certificado",className:"flex items-center gap-2",children:[n.jsx(Hs,{className:"h-4 w-4"}),"Certificado Digital"]}),n.jsxs(Ir,{value:"dados_medico",className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-4 w-4"}),"Dados do Mdico"]}),n.jsxs(Ir,{value:"templates_pdf",className:"flex items-center gap-2",children:[n.jsx(hn,{className:"h-4 w-4"}),"Templates PDF"]})]})]}),n.jsx(Tr,{value:"perfil",children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Informaes Pessoais"}),n.jsx(gr,{children:"Atualize suas informaes pessoais e de contato"})]}),n.jsx(Ue,{className:"space-y-6",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):d?n.jsx("p",{className:"text-destructive",children:d}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"first_name",children:"Nome"}),n.jsx(Te,{id:"first_name",name:"first_name",value:g.first_name,onChange:Ee})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"last_name",children:"Sobrenome"}),n.jsx(Te,{id:"last_name",name:"last_name",value:g.last_name,onChange:Ee})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"email",children:"Email"}),n.jsx(Te,{id:"email",name:"email",value:g.email,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"cpf",children:"CPF"}),n.jsx(Te,{id:"cpf",name:"cpf",value:g.cpf,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Te,{id:"telefone",name:"telefone",value:g.telefone,onChange:Ee})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"data_nascimento",children:"Data de Nascimento"}),n.jsx(ms,{id:"data_nascimento",name:"data_nascimento",value:g.data_nascimento||"",onChange:Ze=>Ee({target:{name:"data_nascimento",value:Ze}}),maxDate:new Date})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"endereco",children:"Endereo"}),n.jsx(oa,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:g.endereco,onChange:Ee})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ve,{onClick:ct,disabled:l,children:l?"Salvando...":"Salvar Alteraes"})}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Mais Informaes do Paciente"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Esses dados ajudam mdicos a entender melhor seu histrico."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"tipo_sanguineo",children:"Tipo Sanguneo"}),n.jsx(Te,{id:"tipo_sanguineo",name:"tipo_sanguineo",value:_.tipo_sanguineo,onChange:dt,placeholder:"Ex.: O+, A-, B+, AB+"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"plano_saude",children:"Plano de Sade"}),n.jsx(Te,{id:"plano_saude",name:"plano_saude",value:_.plano_saude,onChange:dt})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"numero_carteirinha",children:"Nmero da Carteirinha"}),n.jsx(Te,{id:"numero_carteirinha",name:"numero_carteirinha",value:_.numero_carteirinha,onChange:dt})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"contato_emergencia_nome",children:"Contato de Emergncia (Nome)"}),n.jsx(Te,{id:"contato_emergencia_nome",name:"contato_emergencia_nome",value:_.contato_emergencia_nome,onChange:dt})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"contato_emergencia_telefone",children:"Contato de Emergncia (Telefone)"}),n.jsx(Te,{id:"contato_emergencia_telefone",name:"contato_emergencia_telefone",value:_.contato_emergencia_telefone,onChange:dt})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"peso",children:"Peso (kg)"}),n.jsx(Te,{id:"peso",name:"peso",type:"number",step:"0.1",value:_.peso,onChange:dt})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"altura",children:"Altura (cm)"}),n.jsx(Te,{id:"altura",name:"altura",type:"number",step:"0.1",value:_.altura,onChange:dt})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Fe,{htmlFor:"alergias",children:"Alergias"}),n.jsx(oa,{id:"alergias",name:"alergias",rows:3,value:_.alergias,onChange:dt,placeholder:"Ex.: poeira, frutos do mar"})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Fe,{htmlFor:"condicoes_cronicas",children:"Condies Crnicas"}),n.jsx(oa,{id:"condicoes_cronicas",name:"condicoes_cronicas",rows:3,value:_.condicoes_cronicas,onChange:dt,placeholder:"Ex.: Hipertenso, Diabetes, Asma"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ve,{onClick:Wt,disabled:L,variant:"outline",children:L?"Salvando...":"Salvar Informaes do Paciente"})})]})]})})]})}),n.jsx(Tr,{value:"seguranca",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Alterar Senha"}),n.jsx(gr,{children:"Mantenha sua conta segura com uma senha forte"})]}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"senha-atual",children:"Senha Atual"}),n.jsx(Te,{id:"senha-atual",type:"password",value:w.atual,onChange:Ze=>j(Ye=>({...Ye,atual:Ze.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"nova-senha",children:"Nova Senha"}),n.jsx(Te,{id:"nova-senha",type:"password",value:w.nova,onChange:Ze=>j(Ye=>({...Ye,nova:Ze.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"confirmar-senha",children:"Confirmar Nova Senha"}),n.jsx(Te,{id:"confirmar-senha",type:"password",value:w.confirmar,onChange:Ze=>j(Ye=>({...Ye,confirmar:Ze.target.value}))})]}),n.jsx(ve,{onClick:Et,disabled:C,children:C?"Alterando...":"Alterar Senha"})]})]}),n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Autenticao de Dois Fatores"}),n.jsx(gr,{children:"Adicione uma camada extra de segurana  sua conta"})]}),n.jsx(Ue,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Autenticao de Dois Fatores"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No configurada"})]}),n.jsx(ve,{variant:"outline",disabled:!0,children:"Em breve"})]})})]})]})}),n.jsx(Tr,{value:"notificacoes",children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Preferncias de Notificao"}),n.jsx(gr,{children:"Configure como voc deseja receber notificaes"})]}),n.jsxs(Ue,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>Ut("email"),children:U.email?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Lembretes de Consulta"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes das consultas"})]}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>Ut("lembretes"),children:U.lembretes?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Resultados de Exames"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja notificado quando exames ficarem prontos"})]}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>Ut("exames"),children:U.exames?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>Ut("push"),children:U.push?"Ativado":"Desativado"})]})]}),n.jsx(ve,{onClick:Mt,disabled:F,children:F?"Salvando...":"Salvar Preferncias"})]})]})}),a&&n.jsx(Tr,{value:"certificado",children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Configurao de Certificado Digital"}),n.jsx(gr,{children:"Envie seu certificado (.pfx/.p12 ou .crt/.cer/.pem). O arquivo  enviado com segurana ao servidor."})]}),n.jsxs(Ue,{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-lg border p-4 bg-white",children:[H?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mr-3"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando informaes do certificado..."})]}):wt?n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium text-green-700",children:"Certificado cadastrado"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Titular: ",(V==null?void 0:V.owner_name)||(V==null?void 0:V.subject_name)||(V==null?void 0:V.subject)||(V==null?void 0:V.nome)||""]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitente: ",(V==null?void 0:V.issuer)||(V==null?void 0:V.issuer_name)||(V==null?void 0:V.emitente)||""]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validade: ",(V==null?void 0:V.valid_from)||(V==null?void 0:V.validade_inicio)||"?","  ",(V==null?void 0:V.valid_to)||(V==null?void 0:V.validade_fim)||"?"]}),_t!=null&&n.jsx("p",{className:`text-sm ${_t<=0?"text-destructive":_t<30?"text-amber-600":"text-emerald-600"}`,children:_t<=0?"Expirado":`Expira em ${_t} dia(s)`})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum certificado cadastrado para este mdico."}),n.jsx("div",{className:"mt-3",children:n.jsx(ve,{variant:"outline",size:"sm",onClick:Gt,disabled:H,children:H?"Validando...":"Validar agora"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-gray-700",children:"Arquivo do certificado"}),n.jsx(Te,{type:"file",accept:".pfx,.p12,.crt,.cer,.pem",onChange:Ze=>{var Ye;return K(((Ye=Ze.target.files)==null?void 0:Ye[0])||null)},className:"border-gray-200 focus:border-indigo-500 focus:ring-indigo-500"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceita: .pfx, .p12, .crt, .cer, .pem. Tamanho mximo: 15MB."}),te&&n.jsxs("p",{className:"text-xs",children:["Selecionado: ",te.name," (",Math.ceil(te.size/1024)," KB)"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{className:"text-sm font-medium text-gray-700",children:"Senha do certificado (se aplicvel)"}),n.jsx(n0,{delayDuration:0,children:n.jsxs(Yh,{children:[n.jsx(Xh,{asChild:!0,children:n.jsx(X6,{size:16,className:"text-muted-foreground cursor-help"})}),n.jsx(Ef,{side:"top",children:"Certificados PKCS#12 (.pfx/.p12) contendo chave privada. O arquivo no  persistido."})]})}),n.jsx(Te,{type:"password",value:z,onChange:Ze=>se(Ze.target.value),placeholder:"Senha do .pfx (opcional)"}),(!z||!z.trim())&&n.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatria para assinatura."}),z&&z.trim().length<4&&n.jsx("p",{className:"text-xs text-yellow-600",children:"A senha parece curta. Verifique se est correta."}),z&&z.trim()&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: se a senha falhar, confirme maisculas/minsculas, layout do teclado e se o certificado corresponde ao seu CRM."}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceitamos certificados no formato PKCS#12 (.pfx/.p12). A senha no  persistida e  usada somente em memria durante a assinatura."})]}),n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(ve,{onClick:Lt,disabled:Ae,children:Ae?"Enviando...":"Enviar Certificado"})}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Arquivo PDF para assinar"}),n.jsx(Te,{type:"file",accept:".pdf",onChange:Ze=>{var Ye;return be(((Ye=Ze.target.files)==null?void 0:Ye[0])||null)}}),fe&&n.jsxs("p",{className:"text-xs",children:["Selecionado: ",fe.name," (",Math.ceil(fe.size/1024)," KB)"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Motivo (opcional)"}),n.jsx(Te,{value:Be,onChange:Ze=>Qe(Ze.target.value),placeholder:"Ex.: Assinatura de prescrio"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Local (opcional)"}),n.jsx(Te,{value:xe,onChange:Ze=>ie(Ze.target.value),placeholder:"Ex.: So Paulo - SP"})]})]}),n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(ve,{onClick:it,disabled:at||!fe,children:at?"Assinando...":"Assinar e Baixar"})})]})]})]})}),a&&n.jsx(Tr,{value:"dados_medico",children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Dados do Mdico"}),n.jsx(gr,{children:"Atualize seu telefone, endereo e especialidade."})]}),n.jsxs(Ue,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Nome"}),n.jsx(Te,{value:Bt.nome||"",disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"CRM"}),n.jsx(Te,{value:Bt.crm||"",disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"especialidade",children:"Especialidade"}),n.jsx(Te,{id:"especialidade",name:"especialidade",value:Bt.especialidade||"",onChange:Ba})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Te,{id:"telefone",name:"telefone",value:Bt.telefone||"",onChange:Ba})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Fe,{htmlFor:"endereco",children:"Endereo"}),n.jsx(oa,{id:"endereco",name:"endereco",value:Bt.endereco||"",onChange:Ba})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsx("p",{children:"Nome e CRM so gerenciados pela administrao."}),n.jsx("div",{className:"flex gap-2",children:n.jsx(ve,{onClick:ka,disabled:Na,children:Na?"Salvando...":"Salvar Dados do Mdico"})})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"font-semibold",children:"Secretria vinculada"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Secretria"}),n.jsxs("select",{className:"border rounded-md px-2 py-2",value:yr,onChange:Ze=>ur(Ze.target.value),disabled:la,children:[n.jsx("option",{value:"",children:"Selecione"}),Yt.map(Ze=>n.jsx("option",{value:String(Ze.id),children:(Ze==null?void 0:Ze.nome)||(Ze!=null&&Ze.user?`${Ze.user.first_name||""} ${Ze.user.last_name||""}`.trim():`Secretria #${Ze.id}`)},Ze.id))]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx(ve,{onClick:async()=>{var Ze,Ye;if(!yr){s({title:"Selecione",description:"Escolha uma secretria."});return}try{const nt=await Kt.getPerfil(),Er=(nt==null?void 0:nt.id)||((Ze=nt==null?void 0:nt.medico)==null?void 0:Ze.id);if(!Er)throw new Error("Mdico no identificado");const{secretariaService:vt}=await ui(async()=>{const{secretariaService:ar}=await Promise.resolve().then(()=>sm);return{secretariaService:ar}},void 0);await vt.vincularMedico(String(yr),String(Er)),s({title:"Vinculada",description:"Secretria vinculada ao mdico."})}catch(nt){const Er=(Ye=nt==null?void 0:nt.response)!=null&&Ye.data?JSON.stringify(nt.response.data):(nt==null?void 0:nt.message)||"Falha ao vincular";s({title:"Erro",description:Er,variant:"destructive"})}},disabled:la||!yr,children:"Vincular Secretria"})})]})]})]})]})}),a&&n.jsx(Tr,{value:"templates_pdf",children:n.jsx($X,{medicoId:h==null?void 0:h.id,medicoInfo:Bt})}),t&&n.jsx(Tr,{value:"medico",children:n.jsx(HX,{})})]})]})})}function KX({children:e}){const{user:r,isAuthenticated:t,loading:a}=qo(),s=ns(),{userPermissions:i}=cc();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const o=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),l=(i==null?void 0:i.medicoStatus)==="approved";return o!=="medico"&&o!=="admin"&&!l?o==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):o==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function VX({children:e}){const{user:r,isAuthenticated:t,loading:a}=qo(),s=ns();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="clinica"&&i!=="admin"?i==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function zX({children:e}){const{user:r,isAuthenticated:t,loading:a}=qo(),s=ns(),[i,o]=b.useState(!1),[l,A]=b.useState(!1);if(b.useEffect(()=>{let f=!0;async function h(){if(!t)return;if(((r==null?void 0:r.role)||(r==null?void 0:r.tipo))==="secretaria"){o(!0);try{const p=await ha.getPacienteDoUsuario();if(!f)return;A(!!(p!=null&&p.id))}catch{if(!f)return;A(!1)}finally{f&&o(!1)}}}return h(),()=>{f=!1}},[t,r==null?void 0:r.role,r==null?void 0:r.tipo]),a||i)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const d=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return d!=="paciente"&&d!=="admin"?d==="secretaria"&&l?e:d==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):d==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}function qX({children:e}){const{user:r,isAuthenticated:t,loading:a}=qo(),s=ns();if(a)return null;if(!t)return n.jsx(Ea,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="admin"?i==="paciente"?n.jsx(Ea,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ea,{to:"/medico/dashboard",replace:!0}):i==="clinica"?n.jsx(Ea,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ea,{to:"/",replace:!0}):e}const WX=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():null};function GX(){const[e,r]=b.useState([]),[t,a]=b.useState(!0),[s,i]=b.useState(!1),[o,l]=b.useState(null),{toast:A}=Va(),d=Kn(),[f,h]=b.useState({medico:"",modalidade:"presencial",local:"",tipo:"primeira",preferenciaData:"",preferenciaHora:"",preferenciaTurno:"indiferente",motivo:"",observacoes:""}),m=j=>j?typeof j=="string"?j:[j.logradouro,j.numero,j.bairro,j.cidade,j.estado].filter(Boolean).join(" ").trim()||null:null,p=j=>{var C,E,U;return(j==null?void 0:j.local_atendimento)||(j==null?void 0:j.local)||m(j==null?void 0:j.endereco)||m((C=j==null?void 0:j.user)==null?void 0:C.endereco)||m((E=j==null?void 0:j.clinica)==null?void 0:E.endereco)||((U=j==null?void 0:j.clinica)==null?void 0:U.nome)||null};b.useEffect(()=>{let j=!0;return(async()=>{a(!0),l(null);try{const C=await ha.getMedicos(),E=Array.isArray(C)?C:(C==null?void 0:C.results)||[];r(E)}catch(C){console.error("Erro ao buscar mdicos:",C),l("No foi possvel carregar a lista de mdicos.")}finally{j&&a(!1)}})(),()=>{j=!1}},[]),b.useEffect(()=>{if(f.modalidade!=="presencial"){f.local&&h(E=>({...E,local:""}));return}const j=e.find(E=>{var U;return String(E.id||((U=E==null?void 0:E.user)==null?void 0:U.id))===String(f.medico)}),C=j?p(j):"";h(E=>({...E,local:C||""}))},[f.medico,f.modalidade,e]);const v=j=>C=>{const E=C!=null&&C.target?C.target.value:C;h(U=>({...U,[j]:E}))},g=()=>f.medico?f.motivo?f.modalidade==="presencial"&&!f.local?"Local do mdico no definido.":f.preferenciaData?null:"Selecione uma data preferida.":"Informe o motivo principal.":"Selecione um mdico.",y=async j=>{var E,U;j.preventDefault();const C=g();if(C){A({title:"Validao",description:C,variant:"destructive"});return}i(!0),l(null);try{const k=e.find(J=>{var R;return String(J.id||((R=J==null?void 0:J.user)==null?void 0:R.id)||(J==null?void 0:J.nome))===String(f.medico)}),F=(k==null?void 0:k.id)||((E=k==null?void 0:k.user)==null?void 0:E.id)||(Number(f.medico)?Number(f.medico):void 0);if(!F)throw new Error("No foi possvel identificar o mdico selecionado.");const D=J=>!J||J==="indiferente"||J==="manha"?"08:00":J==="tarde"?"14:00":J==="noite"?"19:00":"08:00",_=await ha.getPacienteDoUsuario();if(!(_==null?void 0:_.id))throw new Error("Paciente atual no encontrado.");const L={medico:F,modalidade:f.modalidade,tipo:f.tipo,motivo:f.motivo};f.preferenciaData&&(L.data=f.preferenciaData);const T=f.preferenciaHora&&String(f.preferenciaHora).trim()?f.preferenciaHora:D(f.preferenciaTurno);T&&(L.hora=T),f.observacoes&&(L.observacoes=f.observacoes),await ha.agendarConsulta(L),A({title:"Solicitao enviada",description:"Sua solicitao foi enviada  Secretaria. Aguarde confirmao."}),d("/paciente/consultas")}catch(k){const F=(U=k==null?void 0:k.response)==null?void 0:U.data;let D=typeof F=="string"&&F||(F==null?void 0:F.detail)||(k==null?void 0:k.message)||"No foi possvel enviar sua solicitao.";if(F&&typeof F=="object")try{const _=Object.entries(F).map(([G,L])=>`${G}: ${Array.isArray(L)?L.join(", "):typeof L=="object"?JSON.stringify(L):String(L)}`);_.length&&(D=_.join(" | "))}catch{}l(D),A({title:"Erro",description:D,variant:"destructive"})}finally{i(!1)}},w=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Entrar em contato com o mdico"})]}),n.jsx(Wi,{tabs:w,basePath:"/paciente"}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Contato para agendamento"})}),n.jsx(Ue,{children:n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Mdico"}),n.jsxs(qr,{value:f.medico,onValueChange:j=>h(C=>({...C,medico:j})),disabled:t,children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:t?"Carregando...":"Selecione um mdico"})}),n.jsx(zr,{children:e.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum mdico disponvel"}):e.map(j=>{var U,k,F;const C=(j==null?void 0:j.nome)||[(U=j==null?void 0:j.user)==null?void 0:U.first_name,(k=j==null?void 0:j.user)==null?void 0:k.last_name].filter(Boolean).join(" ")||(j==null?void 0:j.username)||(j==null?void 0:j.email)||`Mdico #${(j==null?void 0:j.id)||""}`,E=WX(j);return n.jsxs(rt,{value:String(j.id||((F=j==null?void 0:j.user)==null?void 0:F.id)||C),children:[C,E?` - ${E}`:""]},j.id||C)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Tipo"}),n.jsxs(qr,{value:f.tipo,onValueChange:j=>h(C=>({...C,tipo:j})),children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Selecione o tipo"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"primeira",children:"Primeira consulta"}),n.jsx(rt,{value:"retorno",children:"Retorno"}),n.jsx(rt,{value:"rotina",children:"Rotina"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Modalidade"}),n.jsxs(qr,{value:f.modalidade,onValueChange:j=>h(C=>({...C,modalidade:j})),children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Selecione a modalidade"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"presencial",children:"Presencial"}),n.jsx(rt,{value:"online",disabled:!0,children:"Online (em breve)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Local"}),n.jsxs("div",{className:"relative",children:[n.jsx(Te,{value:f.local,placeholder:"Rua das Flores, 123",readOnly:!0}),n.jsx(Jg,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),f.modalidade==="presencial"&&n.jsx("div",{className:"text-xs text-muted-foreground",children:"O local  definido pelo mdico e preenchido automaticamente."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Preferncia de Data"}),n.jsx(ms,{id:"preferenciaData",name:"preferenciaData",value:f.preferenciaData,onChange:j=>h(C=>({...C,preferenciaData:j}))}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: ajuda a secretaria a oferecer horrios prximos."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Preferncia de Hora"}),n.jsx(Te,{type:"time",value:f.preferenciaHora,onChange:j=>h(C=>({...C,preferenciaHora:j.target.value}))}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: informe uma hora sugerida."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Turno perodo"}),n.jsxs(qr,{value:f.preferenciaTurno,onValueChange:j=>h(C=>({...C,preferenciaTurno:j})),children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Selecione o perodo"})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"indiferente",children:"Indiferente"}),n.jsx(rt,{value:"manha",children:"Manh"}),n.jsx(rt,{value:"tarde",children:"Tarde"}),n.jsx(rt,{value:"noite",children:"Noite"})]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: a secretaria tenta encaixar nesse perodo."})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Fe,{children:"Motivo"}),n.jsx(Te,{value:f.motivo,onChange:v("motivo"),placeholder:"Ex: dor, retorno de exame, etc."})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Fe,{children:"Observaes"}),n.jsx(oa,{value:f.observacoes,onChange:v("observacoes"),placeholder:"Opcional"})]})]}),o&&n.jsx("div",{className:"text-sm text-red-600",children:o}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>d("/paciente/consultas"),children:"Cancelar"}),n.jsx(ve,{type:"submit",disabled:s,children:"Entrar em contato"})]})]})})]})]})}function YX(){const e=Kn(),[r,t]=b.useState(!1),[a,s]=b.useState(""),[i,o]=b.useState([]),[l,A]=b.useState(0),[d,f]=b.useState(""),[h,m]=b.useState(1),[p]=b.useState(10);b.useEffect(()=>{let K=!0;const z=setTimeout(async()=>{t(!0),s("");try{const se={search:d||void 0,page:h,limit:p},fe=await ma.getUsuarios(se),be=Array.isArray(fe==null?void 0:fe.results)?fe.results:Array.isArray(fe)?fe:[],Be=typeof(fe==null?void 0:fe.count)=="number"?fe.count:be.length;if(!K)return;o(be),A(Be)}catch{if(!K)return;s("No foi possvel carregar os usurios.")}finally{K&&t(!1)}},300);return()=>{K=!1,clearTimeout(z)}},[d,h,p]);const v=b.useMemo(()=>Math.max(1,Math.ceil(l/p)),[l,p]),[g,y]=b.useState(new Set),[w,j]=b.useState(!1),[C,E]=b.useState(null),[U,k]=b.useState(!1),[F,D]=b.useState(!1),[_,G]=b.useState(""),[L,T]=b.useState(null),[J,R]=b.useState(!1),[re,V]=b.useState(!1),[Y,H]=b.useState(""),[Z,Ae]=b.useState({first_name:"",last_name:"",email:"",password:"",role:""}),ee=()=>{if(i.length===0)return;const K=i.map(se=>se==null?void 0:se.id).filter(Boolean),z=K.every(se=>g.has(se));y(z?new Set:new Set(K))},Q=K=>{K&&y(z=>{const se=new Set(z);return se.has(K)?se.delete(K):se.add(K),se})},q=async()=>{const K=Array.from(g);if(K.length===0){window.alert("Selecione ao menos um usurio com ID vlido.");return}if(window.confirm(`Confirma excluir ${K.length} usurio(s)?`))try{j(!0),await ma.removerUsuariosEmMassa(K),y(new Set),t(!0),s("");const z={search:d||void 0,page:h,limit:p},se=await ma.getUsuarios(z),fe=Array.isArray(se==null?void 0:se.results)?se.results:Array.isArray(se)?se:[],be=typeof(se==null?void 0:se.count)=="number"?se.count:fe.length;o(fe),A(be)}catch{window.alert("Falha ao excluir usurios selecionados.")}finally{j(!1),t(!1)}},$=async K=>{if(!K){window.alert("ID invlido para excluso.");return}if(window.confirm("Confirma excluir este usurio?"))try{E(K),await we.delete(`/users/${K}/`),o(z=>z.filter(se=>(se==null?void 0:se.id)!==K)),A(z=>Math.max(0,z-1)),y(z=>{const se=new Set(z);return se.delete(K),se})}catch{window.alert("Falha ao excluir o usurio.")}finally{E(null)}},X=async()=>{if(!(L!=null&&L.id)){G("ID do usurio indisponvel.");return}try{D(!0),G("");const K={first_name:L.first_name,last_name:L.last_name,email:L.email,role:L.role,is_active:!!L.is_active};await ma.updateUsuario(L.id,K),k(!1),t(!0),s("");const z={search:d||void 0,page:h,limit:p},se=await ma.getUsuarios(z),fe=Array.isArray(se==null?void 0:se.results)?se.results:Array.isArray(se)?se:[],be=typeof(se==null?void 0:se.count)=="number"?se.count:fe.length;o(fe),A(be)}catch{G("No foi possvel salvar as alteraes.")}finally{D(!1),t(!1)}},te=async()=>{var K;if(!Z.email||!Z.password||!Z.role){H("Preencha e-mail, senha e tipo.");return}try{V(!0),H("");const z={first_name:Z.first_name,last_name:Z.last_name,email:Z.email,password:Z.password,role:Z.role};await ma.createUsuario(z),R(!1),Ae({first_name:"",last_name:"",email:"",password:"",role:""}),t(!0),s("");const se={search:d||void 0,page:h,limit:p},fe=await ma.getUsuarios(se),be=Array.isArray(fe==null?void 0:fe.results)?fe.results:Array.isArray(fe)?fe:[],Be=typeof(fe==null?void 0:fe.count)=="number"?fe.count:be.length;o(be),A(Be)}catch(z){const se=(K=z==null?void 0:z.response)!=null&&K.data?JSON.stringify(z.response.data):"No foi possvel criar o usurio.";H(se)}finally{V(!1),t(!1)}};return n.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usurios"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os usurios do sistema"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome, email...",value:d,onChange:K=>{m(1),f(K.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:r?"Carregando...":`${l} usurio(s)`}),n.jsxs("div",{className:"ml-auto flex gap-2",children:[n.jsxs("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50 inline-flex items-center gap-2",onClick:()=>{H(""),Ae({first_name:"",last_name:"",email:"",password:"",role:""}),R(!0)},disabled:r,children:[n.jsx(Ay,{className:"w-4 h-4"}),"Novo usurio"]}),n.jsxs("button",{className:"px-3 py-2 border rounded-md text-sm bg-red-600 text-white disabled:opacity-50 inline-flex items-center gap-2",onClick:q,disabled:w||g.size===0||r,title:g.size===0?"Selecione usurios":"Excluir selecionados",children:[n.jsx(cy,{className:"w-4 h-4"}),w?"Excluindo...":`Excluir selecionados (${g.size})`]})]})]}),a&&n.jsx("div",{className:"text-sm text-red-600",children:a}),n.jsx("div",{className:"overflow-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:n.jsx("input",{type:"checkbox",checked:i.length>0&&i.map(K=>K==null?void 0:K.id).filter(Boolean).every(K=>g.has(K)),onChange:ee})}),n.jsx("th",{className:"text-left p-3",children:"Nome"}),n.jsx("th",{className:"text-left p-3",children:"Email"}),n.jsx("th",{className:"text-left p-3",children:"Tipo"}),n.jsx("th",{className:"text-left p-3",children:"Status"}),n.jsx("th",{className:"text-left p-3",children:"Aes"})]})}),n.jsxs("tbody",{children:[i.length===0&&!r&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Nenhum usurio encontrado"})}),i.map(K=>{const z=(K==null?void 0:K.nome)||[K==null?void 0:K.first_name,K==null?void 0:K.last_name].filter(Boolean).join(" ")||(K==null?void 0:K.name)||(K==null?void 0:K.username)||"-",se=(K==null?void 0:K.email)||"-",fe=(K==null?void 0:K.tipo)||(K==null?void 0:K.role)||(K==null?void 0:K.perfil)||"-",be=(K==null?void 0:K.is_active)??(K==null?void 0:K.ativo)??(K==null?void 0:K.status)??null,Be=be===!0?"Ativo":be===!1?"Inativo":String(be??"-");return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3",children:n.jsx("input",{type:"checkbox",disabled:!(K!=null&&K.id),checked:K!=null&&K.id?g.has(K.id):!1,onChange:()=>Q(K==null?void 0:K.id)})}),n.jsx("td",{className:"p-3",children:z}),n.jsx("td",{className:"p-3",children:se}),n.jsx("td",{className:"p-3 capitalize",children:String(fe).toLowerCase()}),n.jsx("td",{className:"p-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${be===!0?"bg-emerald-100 text-emerald-700":be===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:Be})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"px-3 py-1 border rounded-md text-xs inline-flex items-center gap-1.5",onClick:()=>(K==null?void 0:K.id)&&e(`/admin/usuarios/editar/${K.id}`),disabled:!(K!=null&&K.id),title:K!=null&&K.id?"Editar usurio":"ID indisponvel",children:[n.jsx(oI,{className:"w-3.5 h-3.5"}),"Editar"]}),n.jsxs("button",{className:"px-3 py-1 border rounded-md text-xs bg-red-600 text-white disabled:opacity-50 inline-flex items-center gap-1.5",onClick:()=>$(K==null?void 0:K.id),disabled:!(K!=null&&K.id)||C===(K==null?void 0:K.id),title:K!=null&&K.id?"Excluir usurio":"ID indisponvel",children:[n.jsx(cy,{className:"w-3.5 h-3.5"}),C===(K==null?void 0:K.id)?"Excluindo...":"Excluir"]})]})})]},(K==null?void 0:K.id)||`${se}-${z}`)})]})]})}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>m(K=>Math.max(1,K-1)),disabled:h<=1||r,children:"Anterior"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",h," de ",v]}),n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>m(K=>Math.min(v,K+1)),disabled:h>=v||r,children:"Prxima"})]}),U&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar usurio"}),_&&n.jsx("div",{className:"text-sm text-red-600 mb-2",children:_}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(L==null?void 0:L.first_name)||"",onChange:K=>T(z=>({...z,first_name:K.target.value})),disabled:F})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Sobrenome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(L==null?void 0:L.last_name)||"",onChange:K=>T(z=>({...z,last_name:K.target.value})),disabled:F})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(L==null?void 0:L.email)||"",onChange:K=>T(z=>({...z,email:K.target.value})),disabled:F})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Tipo"}),n.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(L==null?void 0:L.role)||"",onChange:K=>T(z=>({...z,role:K.target.value})),disabled:F,children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"paciente",children:"Paciente"}),n.jsx("option",{value:"medico",children:"Mdico"}),n.jsx("option",{value:"clinica",children:"Clnica"}),n.jsx("option",{value:"secretaria",children:"Secretaria"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Ativo"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:!!(L!=null&&L.is_active),onChange:K=>T(z=>({...z,is_active:K.target.checked})),disabled:F}),n.jsx("span",{className:"text-sm",children:L!=null&&L.is_active?"Ativo":"Inativo"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>k(!1),disabled:F,children:"Cancelar"}),n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:X,disabled:F,children:F?"Salvando...":"Salvar"})]})]})}),J&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Novo usurio"}),Y&&n.jsx("div",{className:"text-sm text-red-600 mb-2",children:Y}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:Z.first_name,onChange:K=>Ae(z=>({...z,first_name:K.target.value})),disabled:re})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Sobrenome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:Z.last_name,onChange:K=>Ae(z=>({...z,last_name:K.target.value})),disabled:re})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:Z.email,onChange:K=>Ae(z=>({...z,email:K.target.value})),disabled:re})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Senha"}),n.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-md bg-background",value:Z.password,onChange:K=>Ae(z=>({...z,password:K.target.value})),disabled:re})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Tipo"}),n.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:Z.role,onChange:K=>Ae(z=>({...z,role:K.target.value})),disabled:re,children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"paciente",children:"Paciente"}),n.jsx("option",{value:"medico",children:"Mdico"}),n.jsx("option",{value:"clinica",children:"Clnica"}),n.jsx("option",{value:"secretaria",children:"Secretaria"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>R(!1),disabled:re,children:"Cancelar"}),n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:te,disabled:re,children:re?"Criando...":"Criar"})]})]})})]})}function XX(){const[e,r]=b.useState(!1),[t,a]=b.useState(""),[s,i]=b.useState([]),[o,l]=b.useState(0),[A,d]=b.useState(""),[f,h]=b.useState(1),[m]=b.useState(10);b.useEffect(()=>{let v=!0;const g=setTimeout(async()=>{r(!0),a("");try{const y={search:A||void 0,page:f,limit:m},w=await ma.getClinicas(y),j=Array.isArray(w==null?void 0:w.results)?w.results:Array.isArray(w)?w:[],C=typeof(w==null?void 0:w.count)=="number"?w.count:j.length;if(!v)return;i(j),l(C)}catch{if(!v)return;a("No foi possvel carregar as clnicas.")}finally{v&&r(!1)}},300);return()=>{v=!1,clearTimeout(g)}},[A,f,m]);const p=b.useMemo(()=>Math.max(1,Math.ceil(o/m)),[o,m]);return n.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clnicas"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie os cadastros de clnicas"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ...",value:A,onChange:v=>{h(1),d(v.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e?"Carregando...":`${o} clnica(s)`})]}),t&&n.jsx("div",{className:"text-sm text-red-600",children:t}),n.jsx("div",{className:"overflow-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:"Nome"}),n.jsx("th",{className:"text-left p-3",children:"CNPJ"}),n.jsx("th",{className:"text-left p-3",children:"Email"}),n.jsx("th",{className:"text-left p-3",children:"Status"})]})}),n.jsxs("tbody",{children:[s.length===0&&!e&&n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Nenhuma clnica encontrada"})}),s.map(v=>{const g=(v==null?void 0:v.razao_social)||(v==null?void 0:v.nome)||(v==null?void 0:v.name)||"-",y=(v==null?void 0:v.cnpj)||"-",w=(v==null?void 0:v.email)||(v==null?void 0:v.contato_email)||"-",j=(v==null?void 0:v.is_active)??(v==null?void 0:v.ativo)??(v==null?void 0:v.status)??null,C=j===!0?"Ativa":j===!1?"Inativa":String(j??"-");return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3",children:g}),n.jsx("td",{className:"p-3",children:y}),n.jsx("td",{className:"p-3",children:w}),n.jsx("td",{className:"p-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${j===!0?"bg-emerald-100 text-emerald-700":j===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:C})})]},(v==null?void 0:v.id)||`${g}-${y}`)})]})]})}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(v=>Math.max(1,v-1)),disabled:f<=1||e,children:"Anterior"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",f," de ",p]}),n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(v=>Math.min(p,v+1)),disabled:f>=p||e,children:"Prxima"})]})]})}function JX(){const{toast:e}=Va(),[r,t]=b.useState(!0),[a,s]=b.useState(!1),[i,o]=b.useState(""),[l,A]=b.useState({first_name:"",last_name:"",email:"",telefone:""}),[d,f]=b.useState({atual:"",nova:"",confirmar:""}),[h,m]=b.useState(!1),[p,v]=b.useState({email:!0,sistema:!0,auditoria:!0,push:!1}),[g,y]=b.useState(!1),[w,j]=b.useState(()=>localStorage.getItem("admin_lang")||"pt-BR"),C=_=>v(G=>({...G,[_]:!G[_]}));b.useEffect(()=>{let _=!0;return(async()=>{var G;try{t(!0),o("");const L=await ha.getPerfil();if(!_)return;A({first_name:(L==null?void 0:L.first_name)||"",last_name:(L==null?void 0:L.last_name)||"",email:(L==null?void 0:L.email)||"",telefone:(L==null?void 0:L.telefone)||""});try{const T=localStorage.getItem("admin_notification_prefs");T&&v(J=>({...J,...JSON.parse(T)}))}catch{}}catch(L){if(!_)return;const T=(G=L==null?void 0:L.response)==null?void 0:G.status;o(T===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar seu perfil.")}finally{_&&t(!1)}})(),()=>{_=!1}},[]);const E=_=>{const{name:G,value:L}=_.target;A(T=>({...T,[G]:L}))},U=async()=>{var _;s(!0),o("");try{await ha.atualizarPerfil({first_name:l.first_name,last_name:l.last_name,email:l.email,telefone:l.telefone}),e({title:"Perfil atualizado",description:"As informaes foram salvas com sucesso."})}catch(G){const T=((_=G==null?void 0:G.response)==null?void 0:_.status)===400?"Dados invlidos. Verifique os campos.":"No foi possvel salvar as alteraes.";o(T),e({title:"Erro",description:T,variant:"destructive"})}finally{s(!1)}},k=async()=>{if(!d.atual||!d.nova||!d.confirmar){e({title:"Validao",description:"Preencha todos os campos de senha.",variant:"destructive"});return}if(d.nova!==d.confirmar){e({title:"Validao",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}m(!0);try{await new Promise(_=>setTimeout(_,600)),e({title:"Em breve",description:"Alterao de senha ser integrada ao backend.",variant:"default"}),f({atual:"",nova:"",confirmar:""})}finally{m(!1)}},F=async()=>{y(!0);try{localStorage.setItem("admin_notification_prefs",JSON.stringify(p)),e({title:"Notificaes salvas",description:"Preferncias armazenadas neste dispositivo."})}catch{e({title:"Erro",description:"No foi possvel salvar as preferncias.",variant:"destructive"})}finally{y(!1)}},D=()=>{localStorage.setItem("admin_lang",w),e({title:"Idioma atualizado",description:`Idioma definido para ${w}.`})};return n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes (Admin)"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e preferncias administrativas"})]}),n.jsxs(zi,{defaultValue:"perfil",className:"space-y-6",children:[n.jsxs(qi,{className:"grid w-full grid-cols-4",children:[n.jsx(Ir,{value:"perfil",children:"Perfil"}),n.jsx(Ir,{value:"seguranca",children:"Segurana"}),n.jsx(Ir,{value:"notificacoes",children:"Notificaes"}),n.jsx(Ir,{value:"sistema",children:"Sistema"})]}),n.jsx(Tr,{value:"perfil",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Informaes do Perfil"})}),n.jsxs(Ue,{className:"space-y-4",children:[i&&n.jsx("p",{className:"text-sm text-red-500",children:i}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"first_name",children:"Nome"}),n.jsx(Te,{id:"first_name",name:"first_name",value:l.first_name,onChange:E,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"last_name",children:"Sobrenome"}),n.jsx(Te,{id:"last_name",name:"last_name",value:l.last_name,onChange:E,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"email",children:"E-mail"}),n.jsx(Te,{id:"email",name:"email",type:"email",value:l.email,onChange:E,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Te,{id:"telefone",name:"telefone",value:l.telefone,onChange:E,disabled:r||a})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ve,{onClick:U,disabled:r||a,children:a?"Salvando...":"Salvar alteraes"})})]})]})}),n.jsx(Tr,{value:"seguranca",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Segurana"})}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pwd_atual",children:"Senha atual"}),n.jsx(Te,{id:"pwd_atual",type:"password",value:d.atual,onChange:_=>f(G=>({...G,atual:_.target.value})),disabled:h})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pwd_nova",children:"Nova senha"}),n.jsx(Te,{id:"pwd_nova",type:"password",value:d.nova,onChange:_=>f(G=>({...G,nova:_.target.value})),disabled:h})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{htmlFor:"pwd_confirmar",children:"Confirmar nova senha"}),n.jsx(Te,{id:"pwd_confirmar",type:"password",value:d.confirmar,onChange:_=>f(G=>({...G,confirmar:_.target.value})),disabled:h})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ve,{onClick:k,disabled:h,children:h?"Processando...":"Alterar senha"})})]})]})}),n.jsx(Tr,{value:"notificacoes",children:n.jsxs(ke,{children:[n.jsxs(Ke,{children:[n.jsx(Ge,{children:"Preferncias de Notificao"}),n.jsx(gr,{children:"Configure como voc deseja receber notificaes"})]}),n.jsxs(Ue,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>C("email"),disabled:g,children:p.email?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Eventos do Sistema"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos sobre operaes e eventos administrativos"})]}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>C("sistema"),disabled:g,children:p.sistema?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Alteraes e Auditoria"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifique mudanas crticas e logs de auditoria"})]}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>C("auditoria"),disabled:g,children:p.auditoria?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),n.jsx(ve,{variant:"outline",size:"sm",onClick:()=>C("push"),disabled:g,children:p.push?"Ativado":"Desativado"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ve,{onClick:F,disabled:g,children:g?"Salvando...":"Salvar Preferncias"})})]})]})}),n.jsx(Tr,{value:"sistema",children:n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Sistema"})}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Tema"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ub,{}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Alterne entre claro/escuro"})]})]}),n.jsx(hs,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Idioma"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("select",{className:"border rounded px-2 py-1",value:w,onChange:_=>j(_.target.value),children:[n.jsx("option",{value:"pt-BR",children:"Portugus (Brasil)"}),n.jsx("option",{value:"en-US",children:"English (US)"})]}),n.jsx(ve,{variant:"outline",onClick:D,children:"Aplicar"})]})]})]})]})})]})]})}function ZX(e){var t,a,s;if(!e)return"";const r=[(t=e==null?void 0:e.user)==null?void 0:t.first_name,(a=e==null?void 0:e.user)==null?void 0:a.last_name].filter(Boolean).join(" ").trim();return(e==null?void 0:e.nome)||r||((s=e==null?void 0:e.user)==null?void 0:s.username)||`Mdico #${(e==null?void 0:e.id)??"?"}`}function eJ(e={}){var i,o,l;const r=e.paciente_nome||((i=e==null?void 0:e.paciente)==null?void 0:i.nome)||((o=e==null?void 0:e.paciente)!=null&&o.user?[e.paciente.user.first_name,e.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",t=e.data_hora||e.horario||e.inicio||e.data||e.start_time||"",a=e.status||"Agendada",s=e.clinica_nome||((l=e==null?void 0:e.clinica)==null?void 0:l.nome)||e.local||"";return{id:e.id||e.consulta_id||Math.random().toString(36).slice(2),pacienteNome:r,dataHora:t,status:a,clinica:s,tipo:e.tipo||e.modalidade||"Consulta"}}function tJ(){const{user:e}=qo(),r=((e==null?void 0:e.role)||(e==null?void 0:e.tipo)||"").toLowerCase(),[t,a]=b.useState([]),[s,i]=b.useState(null),[o,l]=b.useState(!0),[A,d]=b.useState(!1),[f,h]=b.useState([]),{toast:m}=Va(),[p,v]=b.useState("todas"),[g,y]=b.useState(""),[w,j]=b.useState(!1),[C,E]=b.useState(!1),[U,k]=b.useState({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),[F,D]=b.useState(""),[_,G]=b.useState(!1),[L,T]=b.useState([]);b.useEffect(()=>{let Q=!0;return(async()=>{var q,$;l(!0);try{let X=[];if(r==="admin"){const z=await Pa.listarMedicos();X=Array.isArray(z)?z:[]}else{const z=await Pa.getPerfil().catch(()=>null),se=(z==null?void 0:z.id)||((q=z==null?void 0:z.secretaria)==null?void 0:q.id);if(se&&(X=await Pa.getMedicosDaSecretaria(String(se))),!Array.isArray(X)||X.length===0){const fe=await Pa.listarMedicos();X=Array.isArray(fe)?fe:[]}}if(!Q)return;a(Array.isArray(X)?X:[]);const te=localStorage.getItem("secretaria.medicoId");if(te&&(X==null?void 0:X.some(z=>{var se;return String((z==null?void 0:z.id)||((se=z==null?void 0:z.user)==null?void 0:se.id))===String(te)})))i(te);else if(Array.isArray(X)&&X.length>0){const z=X.find(fe=>{var be;return(fe==null?void 0:fe.id)||((be=fe==null?void 0:fe.user)==null?void 0:be.id)})||X[0],se=(z==null?void 0:z.id)||(($=z==null?void 0:z.user)==null?void 0:$.id);se&&i(String(se))}}catch(X){console.error("Erro ao carregar mdicos:",X)}finally{Q&&l(!1)}})(),()=>{Q=!1}},[]),b.useEffect(()=>{if(!s)return;let Q=!0;return(async()=>{d(!0);try{const q=await Pa.listarConsultasHoje(s);if(!Q)return;const $=Array.isArray(q)?q:[];h($.map(X=>eJ(X))),localStorage.setItem("secretaria.medicoId",s)}catch(q){console.error("Erro ao carregar consultas:",q)}finally{Q&&d(!1)}})(),()=>{Q=!1}},[s]);const J=b.useMemo(()=>(Array.isArray(t)?t:[]).map(Q=>{var X;const q=(Q==null?void 0:Q.id)||((X=Q==null?void 0:Q.user)==null?void 0:X.id),$=ZX(Q);return q?{value:String(q),label:$}:null}).filter(Boolean),[t]),R=b.useMemo(()=>{let Q=f;if(p!=="todas"&&(Q=Q.filter(q=>q.status===p)),g.trim()){const q=g.toLowerCase();Q=Q.filter($=>{var X;return(X=$.pacienteNome)==null?void 0:X.toLowerCase().includes(q)})}return Q},[f,p,g]),re=Q=>{try{const q=new Date(Q);if(!isNaN(q.getTime()))return q.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof Q=="string"&&/^\d{2}:\d{2}/.test(Q))return Q.slice(0,5)}catch{}return"-"},V=(Q,q)=>{h($=>$.map(X=>X.id===Q?{...X,status:q}:X))},Y=async Q=>{try{await Pa.confirmarConsulta(Q.id),V(Q.id,"Confirmada"),m({title:"Consulta confirmada",description:`Paciente ${Q.pacienteNome} s ${re(Q.dataHora)}`})}catch{m({title:"Erro",description:"No foi possvel confirmar a consulta.",variant:"destructive"})}},H=async Q=>{try{await Pa.cancelarConsulta(Q.id),V(Q.id,"Cancelada"),m({title:"Consulta cancelada",description:`Paciente ${Q.pacienteNome} s ${re(Q.dataHora)}`})}catch{m({title:"Erro",description:"No foi possvel cancelar a consulta.",variant:"destructive"})}},Z=async Q=>{if(Q.preventDefault(),!U.pacienteId||!U.data||!U.hora||!s){m({title:"Erro",description:"Preencha todos os campos obrigatrios.",variant:"destructive"});return}E(!0);try{if(await Pa.agendarConsulta({pacienteId:U.pacienteId,medicoId:s,data:U.data,hora:U.hora,tipo:U.tipo,motivo:U.motivo,observacoes:U.observacoes}),m({title:"Sucesso",description:"Consulta agendada com sucesso!"}),j(!1),k({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),D(""),T([]),s){const q=await Pa.listarConsultasHoje(s);h(Array.isArray(q)?q:[])}}catch{m({title:"Erro",description:"No foi possvel agendar a consulta.",variant:"destructive"})}finally{E(!1)}},Ae=async Q=>{if(!Q.trim()){T([]);return}G(!0);try{const q=await Pa.buscarPacientes(Q),$=Array.isArray(q)?q:[];T($)}catch(q){console.error("Erro ao buscar pacientes:",q),T([])}finally{G(!1)}};b.useEffect(()=>{const Q=setTimeout(()=>Ae(F),300);return()=>clearTimeout(Q)},[F]);const ee=b.useMemo(()=>{const Q=f.length,q=f.filter(te=>te.status==="Confirmada").length,$=f.filter(te=>te.status==="Agendada").length,X=f.filter(te=>te.status==="Realizada").length;return{total:Q,confirmadas:q,pendentes:$,realizadas:X}},[f]);return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Dashboard Secretria"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie consultas e acompanhe a agenda dos mdicos."})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 min-w-fit",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(wr,{className:"h-5 w-5 text-blue-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Total"})]}),n.jsx("div",{className:"text-2xl font-bold",children:ee.total})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(po,{className:"h-5 w-5 text-green-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Confirmadas"})]}),n.jsx("div",{className:"text-2xl font-bold text-green-300",children:ee.confirmadas})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Or,{className:"h-5 w-5 text-orange-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),n.jsx("div",{className:"text-2xl font-bold text-orange-300",children:ee.pendentes})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Bi,{className:"h-5 w-5 text-purple-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Realizadas"})]}),n.jsx("div",{className:"text-2xl font-bold text-purple-300",children:ee.realizadas})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[n.jsx(ve,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200",asChild:!0,children:n.jsxs(pr,{to:"/secretaria/pacientes",children:[n.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Ver Pacientes"]})}),n.jsxs(fA,{open:w,onOpenChange:j,children:[n.jsx(EF,{asChild:!0,children:n.jsxs(ve,{className:"bg-white text-blue-600 hover:bg-blue-50 transition-all duration-200",children:[n.jsx(q0,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]})}),n.jsxs(dc,{children:[n.jsx(uc,{children:n.jsx(fc,{children:"Novo agendamento"})}),n.jsxs("form",{onSubmit:Z,className:"px-6 pb-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(qr,{value:s??void 0,onValueChange:i,children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Escolha um mdico"})}),n.jsx(zr,{children:J.map(Q=>n.jsx(rt,{value:Q.value,children:Q.label},Q.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Tipo"}),n.jsxs(qr,{value:U.tipo,onValueChange:Q=>k(q=>({...q,tipo:Q})),children:[n.jsx(Vr,{children:n.jsx(Wr,{})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"primeira",children:"Primeira consulta"}),n.jsx(rt,{value:"retorno",children:"Retorno"}),n.jsx(rt,{value:"urgencia",children:"Urgncia"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),n.jsx(ms,{value:U.data,onChange:Q=>k(q=>({...q,data:Q})),minDate:new Date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Hora"}),n.jsx(Te,{type:"time",value:U.hora,onChange:Q=>k(q=>({...q,hora:Q.target.value}))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Paciente"}),n.jsx(Te,{placeholder:"Digite o nome do paciente...",value:F,onChange:Q=>D(Q.target.value)}),_&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Buscando..."}),n.jsx("div",{className:"mt-2 border rounded-md max-h-40 overflow-y-auto",children:_?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Buscando..."}):L.length===0?F&&F.trim()?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum paciente encontrado"}):null:L.map(Q=>{var X,te,K,z;const q=(Q==null?void 0:Q.id)||((X=Q==null?void 0:Q.user)==null?void 0:X.id)||((te=Q==null?void 0:Q.paciente)==null?void 0:te.id),$=(Q==null?void 0:Q.nome)||(Q!=null&&Q.user?`${Q.user.first_name||""} ${Q.user.last_name||""}`.trim():(K=Q==null?void 0:Q.paciente)!=null&&K.user?`${Q.paciente.user.first_name||""} ${Q.paciente.user.last_name||""}`.trim():((z=Q==null?void 0:Q.user)==null?void 0:z.username)||"Paciente");return n.jsxs("div",{className:"p-2 hover:bg-muted cursor-pointer text-sm flex justify-between",onClick:()=>{q&&k(se=>({...se,pacienteId:q})),D($),T([])},children:[n.jsx("span",{children:$}),(Q==null?void 0:Q.cpf)&&n.jsx("span",{className:"text-muted-foreground",children:Q.cpf})]},String(q||Math.random()))})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Motivo"}),n.jsx(Te,{placeholder:"Motivo da consulta",value:U.motivo,onChange:Q=>k(q=>({...q,motivo:Q.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Observaes"}),n.jsx(oa,{placeholder:"Observaes adicionais",value:U.observacoes,onChange:Q=>k(q=>({...q,observacoes:Q.target.value}))})]}),n.jsxs(hA,{children:[n.jsx(ve,{type:"button",variant:"outline",onClick:()=>j(!1),children:"Cancelar"}),n.jsx(ve,{type:"submit",disabled:C,children:C?"Agendando...":"Agendar"})]})]})]})]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ge,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total Consultas"}),n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(wr,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:ee.total}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Consultas hoje"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ge,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Confirmadas"}),n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(po,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:ee.confirmadas}),n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Consultas confirmadas"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ge,{className:"text-sm font-semibold text-orange-700 dark:text-orange-300",children:"Pendentes"}),n.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:n.jsx(Or,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-3xl font-bold text-orange-900 dark:text-orange-100",children:ee.pendentes}),n.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Aguardando confirmao"})]})]}),n.jsxs(ke,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ge,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Realizadas"}),n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:n.jsx(Bi,{className:"h-4 w-4 text-white"})})]}),n.jsxs(Ue,{children:[n.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:ee.realizadas}),n.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Consultas finalizadas"})]})]})]}),n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(Ke,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(ea,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-slate-800",children:"Selecione o mdico"}),n.jsx(gr,{className:"text-slate-600",children:"Visualize rapidamente as consultas de hoje do mdico selecionado."})]})]})}),n.jsx(Ue,{className:"p-6",children:o?n.jsx(Br,{className:"h-10 w-72"}):n.jsx("div",{className:"w-72",children:n.jsxs(qr,{value:s??void 0,onValueChange:Q=>i(Q),children:[n.jsx(Vr,{className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:n.jsx(Wr,{placeholder:J.length?"Escolha um mdico":"Nenhum mdico disponvel"})}),n.jsx(zr,{children:J.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum mdico disponvel"}):J.map(Q=>n.jsx(rt,{value:Q.value,children:Q.label},Q.value))})]})})})]}),n.jsxs(ke,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(Ke,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsx("div",{className:"flex items-center justify-between gap-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(wr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ge,{className:"text-slate-800",children:"Consultas de hoje"}),n.jsx(gr,{className:"text-slate-600",children:A?"Carregando...":`${R.length} consulta(s) encontrada(s)`})]})]})})}),n.jsxs(Ue,{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Te,{placeholder:"Buscar por paciente...",value:g,onChange:Q=>y(Q.target.value),className:"max-w-sm bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700"})}),n.jsxs(qr,{value:p,onValueChange:v,children:[n.jsx(Vr,{className:"w-48 bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:n.jsx(Wr,{})}),n.jsxs(zr,{children:[n.jsx(rt,{value:"todas",children:"Todas"}),n.jsx(rt,{value:"Agendada",children:"Agendadas"}),n.jsx(rt,{value:"Confirmada",children:"Confirmadas"}),n.jsx(rt,{value:"Realizada",children:"Realizadas"}),n.jsx(rt,{value:"Cancelada",children:"Canceladas"})]})]})]}),A?n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((Q,q)=>n.jsx(Br,{className:"h-16 w-full"},q))}):R.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(wr,{className:"h-8 w-8 text-slate-400"})}),n.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhuma consulta encontrada"}),n.jsx("p",{className:"text-slate-500 text-sm",children:s?"No h consultas para o mdico selecionado hoje":"Selecione um mdico para ver as consultas"})]}):n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ya,{className:"bg-slate-50 hover:bg-slate-50",children:[n.jsx(dr,{className:"font-semibold text-slate-700",children:"Horrio"}),n.jsx(dr,{className:"font-semibold text-slate-700",children:"Paciente"}),n.jsx(dr,{className:"font-semibold text-slate-700",children:"Tipo"}),n.jsx(dr,{className:"font-semibold text-slate-700",children:"Status"}),n.jsx(dr,{className:"font-semibold text-slate-700",children:"Aes"})]})}),n.jsx(wo,{children:R.map(Q=>(Q.status,["Agendada","Confirmada"].includes(Q.status),Q.status,n.jsxs(Ya,{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 border-b border-slate-100",children:[n.jsx(ir,{className:"font-medium text-slate-900",children:(()=>{if(!(Q!=null&&Q.dataHora))return"";try{const q=new Date(Q.dataHora);if(!isNaN(q.getTime()))return q.toLocaleString([],{dateStyle:"short",timeStyle:"short"});const $=String(Q.dataHora).match(/^(\d{4}-\d{2}-\d{2})T(\d{2}:\d{2})/);if($)return`${$[1]} ${$[2]}`}catch{}return String(Q.dataHora)})()}),n.jsx(ir,{className:"text-slate-700",children:Q.pacienteNome}),n.jsx(ir,{className:"text-slate-600",children:Q.tipo||"Consulta"}),n.jsx(ir,{children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${Q.status==="Confirmada"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":Q.status==="Agendada"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":Q.status==="Realizada"?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:Q.status})}),n.jsx(ir,{children:n.jsxs("div",{className:"flex gap-2",children:[Q.status==="Agendada"&&n.jsxs(ve,{size:"sm",variant:"outline",onClick:()=>Y(Q),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",children:[n.jsx(po,{className:"h-4 w-4 mr-1"})," Confirmar"]}),["Agendada","Confirmada"].includes(Q.status)&&n.jsxs(ve,{size:"sm",variant:"outline",onClick:()=>H(Q),className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:[n.jsx(fs,{className:"h-4 w-4 mr-1"})," Cancelar"]})]})})]},Q.id)))})]})})]})]})]})}function rJ(e={}){var i,o,l;const r=e.paciente_nome||((i=e==null?void 0:e.paciente)==null?void 0:i.nome)||((o=e==null?void 0:e.paciente)!=null&&o.user?[e.paciente.user.first_name,e.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",t=e.data_hora||e.horario||e.inicio||e.data||e.start_time||"",a=e.status||"Agendada",s=e.clinica_nome||((l=e==null?void 0:e.clinica)==null?void 0:l.nome)||e.local||"";return{id:e.id||e.consulta_id||Math.random().toString(36).slice(2),pacienteNome:r,dataHora:t,status:a,clinica:s,tipo:e.tipo||e.modalidade||"Consulta"}}function aJ(){const[e,r]=b.useState([]),[t,a]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(""),[A,d]=b.useState(!1),[f,h]=b.useState([]);b.useEffect(()=>{let v=!0;return(async()=>{try{const g=await Pa.listarMedicos();if(!v)return;r(Array.isArray(g)?g:[]);const y=localStorage.getItem("secretaria.medicoId");y&&a(String(y))}catch{}})(),()=>{v=!1}},[]);const m=async()=>{if(!t)return h([]);d(!0);try{localStorage.setItem("secretaria.medicoId",String(t));const v={};o&&(v.date=o);const g=await Kt.getConsultasDoMedico({...v,medico:t}),w=(Array.isArray(g)?g:Array.isArray(g==null?void 0:g.results)?g.results:[]).map(rJ);h(s?w.filter(j=>j.pacienteNome.toLowerCase().includes(s.toLowerCase())):w)}catch{h([])}finally{d(!1)}};b.useEffect(()=>{m()},[t]);const p=b.useMemo(()=>e.map(v=>{var g;return{value:String(v.id),label:v.nome||((g=v==null?void 0:v.user)==null?void 0:g.first_name)||`Mdico #${v.id}`}}),[e]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(wr,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Consultas"})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-5 w-5"})," Filtros"]})}),n.jsx(Ue,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(qr,{value:t||void 0,onValueChange:v=>a(v),children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Escolha um mdico"})}),n.jsx(zr,{children:p.map(v=>n.jsx(rt,{value:v.value,children:v.label},v.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),n.jsx(ms,{value:o,onChange:l})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar por paciente"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Te,{placeholder:"Nome do paciente",value:s,onChange:v=>i(v.target.value)}),n.jsxs(ve,{onClick:m,children:[n.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})]})})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Resultados"})}),n.jsx(Ue,{children:A?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):f.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta encontrada."}):n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ya,{children:[n.jsx(dr,{children:"Paciente"}),n.jsx(dr,{children:"Data/Hora"}),n.jsx(dr,{children:"Tipo"}),n.jsx(dr,{children:"Status"}),n.jsx(dr,{children:"Clnica"})]})}),n.jsx(wo,{children:f.map(v=>n.jsxs(Ya,{children:[n.jsx(ir,{children:v.pacienteNome}),n.jsx(ir,{children:v.dataHora||""}),n.jsx(ir,{children:v.tipo}),n.jsx(ir,{children:v.status}),n.jsx(ir,{children:v.clinica})]},v.id))})]})})]})]})}function o5(e={}){const r=(e==null?void 0:e.user)||{};return(e==null?void 0:e.nome)||[r.first_name,r.last_name].filter(Boolean).join(" ")||r.username||`Paciente #${(e==null?void 0:e.id)||"?"}`}function nJ(){const[e,r]=b.useState([]),[t,a]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(!1),[A,d]=b.useState([]),{toast:f}=Va(),[h,m]=b.useState(!1),[p,v]=b.useState(!1),[g,y]=b.useState({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""}),w=k=>{const F=String(k||"").replace(/\D/g,"").slice(0,11),D=F.slice(0,3),_=F.slice(3,6),G=F.slice(6,9),L=F.slice(9,11);return F.length>9?`${D}.${_}.${G}-${L}`:F.length>6?`${D}.${_}.${G}`:F.length>3?`${D}.${_}`:D},j=k=>{const{name:F,value:D}=k.target;if(F==="cpf")return y(_=>({..._,cpf:w(D)}));y(_=>({..._,[F]:D}))};b.useEffect(()=>{let k=!0;return(async()=>{try{const F=await Pa.listarMedicos();if(!k)return;r(Array.isArray(F)?F:[]);const D=localStorage.getItem("secretaria.medicoId");D&&a(String(D))}catch{}})(),()=>{k=!1}},[]);const C=async()=>{if(!t)return d([]);l(!0);try{const k=await Kt.getPacientesVinculados(t),F=Array.isArray(k)?k:Array.isArray(k==null?void 0:k.results)?k.results:[];d(F)}catch{d([])}finally{l(!1)}};b.useEffect(()=>{C()},[t]);const E=b.useMemo(()=>A.filter(k=>o5(k).toLowerCase().includes(s.toLowerCase())),[A,s]),U=async k=>{var F,D;if((F=k==null?void 0:k.preventDefault)==null||F.call(k),!g.nome||!g.email||!g.senha||!g.confirmSenha){f({title:"Campos obrigatrios",description:"Preencha nome, email e senha.",variant:"destructive"});return}if(g.senha!==g.confirmSenha){f({title:"Senhas no conferem",description:"A confirmao deve ser igual  senha.",variant:"destructive"});return}v(!0);try{await Pa.registrarPaciente(g),f({title:"Paciente cadastrado",description:"O paciente foi criado com sucesso. Ele aparecer na lista do mdico aps o primeiro vnculo (ex.: agendamento de consulta)."}),m(!1),y({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""})}catch(_){const G=(D=_==null?void 0:_.response)!=null&&D.data?JSON.stringify(_.response.data):(_==null?void 0:_.message)||"Falha ao cadastrar";f({title:"Erro ao cadastrar",description:G,variant:"destructive"})}finally{v(!1)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(As,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Pacientes"})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2 justify-between",children:[n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(Ns,{className:"h-5 w-5"})," Filtros"]}),n.jsxs(fA,{open:h,onOpenChange:m,children:[n.jsx(EF,{asChild:!0,children:n.jsxs("button",{className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[n.jsx(gu,{className:"h-4 w-4 mr-2"})," Cadastrar Paciente"]})}),n.jsxs(dc,{className:"max-w-lg",children:[n.jsxs(uc,{children:[n.jsx(fc,{children:"Novo Paciente"}),n.jsx(Tm,{children:"Preencha os dados bsicos para criar a conta do paciente."})]}),n.jsxs("form",{className:"space-y-3",onSubmit:U,children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Nome completo"}),n.jsx(Te,{name:"nome",value:g.nome,onChange:j,placeholder:"Ex.: Maria Silva"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"E-mail"}),n.jsx(Te,{name:"email",value:g.email,onChange:j,type:"email",placeholder:"email@exemplo.com"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"CPF"}),n.jsx(Te,{name:"cpf",value:g.cpf,onChange:j,placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Telefone"}),n.jsx(Te,{name:"telefone",value:g.telefone,onChange:j,placeholder:"(00) 00000-0000"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data de nascimento"}),n.jsx(ms,{name:"data_nascimento",value:g.data_nascimento,onChange:k=>j({target:{name:"data_nascimento",value:k}}),maxDate:new Date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Endereo"}),n.jsx(Te,{name:"endereco",value:g.endereco,onChange:j,placeholder:"Rua, nmero, bairro"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Senha"}),n.jsx(Te,{name:"senha",type:"password",value:g.senha,onChange:j})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirmar senha"}),n.jsx(Te,{name:"confirmSenha",type:"password",value:g.confirmSenha,onChange:j})]})]}),n.jsxs(hA,{children:[n.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-2 rounded-md text-sm border mr-2",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:p,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 disabled:opacity-50",children:p?"Salvando...":"Criar"})]})]})]})]})]})}),n.jsx(Ue,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(qr,{value:t||void 0,onValueChange:k=>{a(k);try{localStorage.setItem("secretaria.medicoId",String(k))}catch{}},children:[n.jsx(Vr,{children:n.jsx(Wr,{placeholder:"Escolha um mdico"})}),n.jsx(zr,{children:e.map(k=>{var D,_;const F=(k==null?void 0:k.nome)||[(D=k==null?void 0:k.user)==null?void 0:D.first_name,(_=k==null?void 0:k.user)==null?void 0:_.last_name].filter(Boolean).join(" ")||`Mdico #${k==null?void 0:k.id}`;return n.jsx(rt,{value:String(k.id),children:F},k.id)})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar"}),n.jsx(Te,{placeholder:"Nome do paciente",value:s,onChange:k=>i(k.target.value)})]}),n.jsx("div",{className:"flex items-end gap-2",children:n.jsxs("button",{onClick:C,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[n.jsx(ea,{className:"h-4 w-4 mr-2"})," Buscar"]})})]})})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Lista"})}),n.jsx(Ue,{children:o?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):E.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum paciente encontrado."}):n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ya,{children:[n.jsx(dr,{children:"Nome"}),n.jsx(dr,{children:"Contato"})]})}),n.jsx(wo,{children:E.map(k=>{var F,D;return n.jsxs(Ya,{children:[n.jsx(ir,{children:o5(k)}),n.jsxs(ir,{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx(aA,{className:"inline h-4 w-4 mr-1"})," ",((F=k==null?void 0:k.user)==null?void 0:F.phone)||""]}),n.jsxs("div",{children:[n.jsx(yl,{className:"inline h-4 w-4 mr-1"})," ",((D=k==null?void 0:k.user)==null?void 0:D.email)||""]})]})]},k.id)})})]})})]})]})}function l5(e){const r=(e==null?void 0:e.user)||{};return(e==null?void 0:e.nome)||[r.first_name,r.last_name].filter(Boolean).join(" ")||r.username||`Mdico #${(e==null?void 0:e.id)||"?"}`}function sJ(){const[e,r]=b.useState(""),[t,a]=b.useState([]),[s,i]=b.useState(!0);b.useEffect(()=>{let l=!0;return(async()=>{i(!0);try{const A=await Pa.listarMedicos();if(!l)return;a(Array.isArray(A)?A:[])}finally{l&&i(!1)}})(),()=>{l=!1}},[]);const o=b.useMemo(()=>t.filter(l=>l5(l).toLowerCase().includes(e.toLowerCase())),[t,e]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ea,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Mdicos"})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(Ns,{className:"h-5 w-5"})," Buscar"]})}),n.jsx(Ue,{children:n.jsx(Te,{placeholder:"Digite o nome do mdico",value:e,onChange:l=>r(l.target.value)})})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Resultados"})}),n.jsx(Ue,{children:s?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):o.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum mdico encontrado."}):n.jsxs(xo,{children:[n.jsx(vo,{children:n.jsxs(Ya,{children:[n.jsx(dr,{children:"Nome"}),n.jsx(dr,{children:"CRM"}),n.jsx(dr,{children:"Especialidade"}),n.jsx(dr,{children:"Contato"})]})}),n.jsx(wo,{children:o.map(l=>{var A,d;return n.jsxs(Ya,{children:[n.jsxs(ir,{className:"font-medium flex items-center gap-2",children:[n.jsx(Hn,{className:"h-4 w-4"})," ",l5(l)]}),n.jsx(ir,{children:l.crm||""}),n.jsx(ir,{children:l.especialidade||""}),n.jsxs(ir,{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aA,{className:"h-4 w-4"})," ",l.telefone||((A=l==null?void 0:l.user)==null?void 0:A.phone)||""]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yl,{className:"h-4 w-4"})," ",((d=l==null?void 0:l.user)==null?void 0:d.email)||""]})]})]},l.id)})})]})})]})]})}const iJ={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},oJ=(e,r,t)=>{let a;const s=iJ[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",String(r)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"em "+a:"h "+a:a},lJ={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},cJ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},AJ={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dJ={date:Ff({formats:lJ,defaultWidth:"full"}),time:Ff({formats:cJ,defaultWidth:"full"}),dateTime:Ff({formats:AJ,defaultWidth:"full"})},uJ={lastWeek:e=>{const r=e.getDay();return"'"+(r===0||r===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},fJ=(e,r,t,a)=>{const s=uJ[e];return typeof s=="function"?s(r):s},hJ={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},mJ={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},pJ={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},gJ={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},xJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},vJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},wJ=(e,r)=>{const t=Number(e);return(r==null?void 0:r.unit)==="week"?t+"":t+""},yJ={ordinalNumber:wJ,era:Xl({values:hJ,defaultWidth:"wide"}),quarter:Xl({values:mJ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xl({values:pJ,defaultWidth:"wide"}),day:Xl({values:gJ,defaultWidth:"wide"}),dayPeriod:Xl({values:xJ,defaultWidth:"wide",formattingValues:vJ,defaultFormattingWidth:"wide"})},bJ=/^(\d+)[o]?/i,NJ=/\d+/i,jJ={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},BJ={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},CJ={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},SJ={any:[/1/i,/2/i,/3/i,/4/i]},_J={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},EJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},FJ={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},kJ={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},DJ={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},UJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},LJ={ordinalNumber:eF({matchPattern:bJ,parsePattern:NJ,valueCallback:e=>parseInt(e,10)}),era:Jl({matchPatterns:jJ,defaultMatchWidth:"wide",parsePatterns:BJ,defaultParseWidth:"any"}),quarter:Jl({matchPatterns:CJ,defaultMatchWidth:"wide",parsePatterns:SJ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jl({matchPatterns:_J,defaultMatchWidth:"wide",parsePatterns:EJ,defaultParseWidth:"any"}),day:Jl({matchPatterns:FJ,defaultMatchWidth:"wide",parsePatterns:kJ,defaultParseWidth:"any"}),dayPeriod:Jl({matchPatterns:DJ,defaultMatchWidth:"any",parsePatterns:UJ,defaultParseWidth:"any"})},c5={code:"pt-BR",formatDistance:oJ,formatLong:dJ,formatRelative:fJ,localize:yJ,match:LJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function IJ(e=8,r=18){const t=[];for(let a=e;a<r;a++){const s=String(a).padStart(2,"0")+":00";t.push(s)}return t}function A5(e){const r=[e.hora,e.horario,e.data_hora,e.inicio,e.start_time];for(const t of r)if(t){if(typeof t=="string"){const a=t.match(/(\d{2}):(\d{2})/);if(a)return`${a[1]}:${a[2]}`;const s=t.match(/T(\d{2}):(\d{2})/);if(s)return`${s[1]}:${s[2]}`}if(t instanceof Date){const a=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${a}:${s}`}}return null}function d5(e){var r,t,a;return(e==null?void 0:e.paciente_nome)||((r=e==null?void 0:e.paciente)==null?void 0:r.nome)||((t=e==null?void 0:e.paciente)==null?void 0:t.fullName)||((a=e==null?void 0:e.paciente)==null?void 0:a.name)||(e==null?void 0:e.nome_paciente)||"(Paciente)"}function GA(e){return(e==null?void 0:e.id)||(e==null?void 0:e.consulta_id)||(e==null?void 0:e.agendamento_id)||(e==null?void 0:e.pk)||null}function P0(e){const r=String(e||"").toLowerCase();return r?r.includes("cancel")?"cancelada":r.includes("confirm")?"confirmada":r.includes("realiz")||r.includes("conclu")?"realizada":r.includes("andamento")||r.includes("em_andamento")?"em_andamento":r.includes("agend")?"aguardando":r:"aguardando"}function PJ(e){const r=P0(e);return{label:r==="confirmada"?"Confirmada":r==="cancelada"?"Cancelada":r==="realizada"?"Realizada":r==="em_andamento"?"Em andamento":"Aguardando",variant:r==="confirmada"?"success":r==="cancelada"?"destructive":r==="realizada"?"info":r==="em_andamento"?"warning":"outline"}}function QJ(e){const r=P0(e);return r==="confirmada"?"bg-green-50":r==="cancelada"?"bg-red-50":r==="realizada"?"bg-blue-50":r==="em_andamento"?"bg-yellow-50":""}function RJ(){const[e,r]=b.useState([]),[t,a]=b.useState(""),[s,i]=b.useState(new Date),[o,l]=b.useState([]),[A,d]=b.useState(!1),[f,h]=b.useState(!1),[m,p]=b.useState(null),[v,g]=b.useState(""),[y,w]=b.useState([]),[j,C]=b.useState(null),[E,U]=b.useState(""),[k,F]=b.useState(!1),[D,_]=b.useState(null),[G,L]=b.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.inicio")||"8",10)),[T,J]=b.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.fim")||"18",10)),R=b.useMemo(()=>IJ(G,T),[G,T]);b.useEffect(()=>{async function X(){try{const te=await Pa.listarMedicos();r(te||[]),!t&&(te!=null&&te.length)&&a(String(te[0].id||te[0].medico_id))}catch(te){console.error("Erro ao listar mdicos",te)}}X()},[]),b.useEffect(()=>{async function X(){if(!(!t||!s)){d(!0);try{const te=ed(s,"yyyy-MM-dd"),K=await Kt.getConsultasDoMedico(t,{date:te}),z=Array.isArray(K)?K:Array.isArray(K==null?void 0:K.results)?K.results:(K==null?void 0:K.consultas)||[];l(z||[])}catch(te){console.error("Erro ao buscar consultas",te)}finally{d(!1)}}}X()},[t,s]);const re=b.useMemo(()=>{const X=new Map;for(const te of o){const K=A5(te);K&&X.set(K,te)}return X},[o]);async function V(X){F(!1),_(null),p(X),h(!0),g(""),w([]),C(null),U("")}async function Y(X){var se,fe,be,Be;const te=re.get(X);if(!te)return;F(!0),_(te),p(X),h(!0);const K=(te==null?void 0:te.paciente_id)||((se=te==null?void 0:te.paciente)==null?void 0:se.id),z=(te==null?void 0:te.paciente_nome)||((fe=te==null?void 0:te.paciente)==null?void 0:fe.nome)||((be=te==null?void 0:te.paciente)==null?void 0:be.fullName)||((Be=te==null?void 0:te.paciente)==null?void 0:Be.name);(K||z)&&C({id:K,nome:z}),U((te==null?void 0:te.observacoes)||(te==null?void 0:te.notes)||"")}async function H(X){if(g(X),!X||X.length<2){w([]);return}try{const te=await Pa.buscarPacientes(X);w(te||[])}catch(te){console.error("Erro ao buscar pacientes",te)}}async function Z(){if(k){const X=GA(D);if(!X){alert("Consulta sem ID vlido para edio.");return}try{const te={};j!=null&&j.id&&(te.pacienteId=j.id),E&&(te.observacoes=E),await Pa.atualizarConsulta(X,te),l(K=>K.map(z=>GA(z)===X?{...z,paciente_id:(j==null?void 0:j.id)||z.paciente_id,paciente_nome:(j==null?void 0:j.nome)||d5(z),observacoes:E}:z)),h(!1),F(!1),_(null)}catch(te){console.error("Erro ao editar consulta",te),alert("Falha ao editar consulta.")}return}if(!(!j||!m||!t)){if(re.has(m)){alert("Horrio j ocupado. Escolha outro horrio.");return}try{const X=ed(s,"yyyy-MM-dd");try{const te=await Pa.getConsultasDoMedico(t,{date:X});if(((Array.isArray(te)?te:Array.isArray(te==null?void 0:te.results)?te.results:(te==null?void 0:te.consultas)||[])||[]).some(se=>A5(se)===m)){alert("Horrio indisponvel no servidor. Selecione outro horrio.");return}}catch{}await Pa.agendarConsulta({pacienteId:j.id||j.paciente_id,medicoId:t,data:X,hora:m,tipo:"rotina",motivo:"Agendado pela secretria",observacoes:E}),l(te=>[...te,{hora:m,paciente_nome:j.nome||j.fullName||j.name||"Paciente",status:"Confirmada"}]),h(!1)}catch(X){console.error("Erro ao agendar",X),alert("Falha ao agendar. Verifique disponibilidade ou tente novamente.")}}}async function Ae(X){const te=re.get(X);if(!te)return;const K=GA(te);if(K)try{await Pa.confirmarConsulta(K),l(z=>z.map(se=>GA(se)===K?{...se,status:"Confirmada"}:se))}catch(z){console.error("Erro ao confirmar",z),alert("No foi possvel confirmar a consulta.")}}async function ee(X){const te=re.get(X);if(!te)return;const K=GA(te);if(!K)return;const z=window.prompt("Motivo do cancelamento:","Cancelado pela secretria");try{await Pa.cancelarConsulta(K,z||""),l(se=>se.map(fe=>GA(fe)===K?{...fe,status:"Cancelada"}:fe))}catch(se){console.error("Erro ao cancelar",se),alert("No foi possvel cancelar a consulta.")}}async function Q(X){const te=re.get(X);if(!te)return;const K=GA(te);if(K)try{await Pa.registrarPresenca(K),l(z=>z.map(se=>GA(se)===K?{...se,status:"Realizada"}:se))}catch(z){console.error("Erro ao marcar presena",z),alert("No foi possvel marcar presena.")}}function q(){const X=ed(s,"LLLL",{locale:c5}),te=ed(s,"EEEE",{locale:c5}),K=ed(s,"d");return`${X.charAt(0).toUpperCase()+X.slice(1)}  ${te.charAt(0).toUpperCase()+te.slice(1)}  ${K}`}const $=Array.from({length:17},(X,te)=>te+6);return n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Agenda diria"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:q()})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("div",{className:"w-52",children:n.jsx(ms,{date:s,onChange:i})}),n.jsxs(qr,{value:t,onValueChange:X=>a(String(X)),children:[n.jsx(Vr,{className:"min-w-[220px]",children:n.jsx(Wr,{placeholder:"Selecione o mdico"})}),n.jsx(zr,{children:e.map(X=>n.jsx(rt,{value:String(X.id||X.medico_id),children:X.nome||X.fullName||X.name},X.id||X.medico_id))})]}),n.jsxs(qr,{value:String(G),onValueChange:X=>{L(Number(X)),localStorage.setItem("secretaria.agenda.inicio",String(X))},children:[n.jsx(Vr,{className:"w-24",children:n.jsx(Wr,{placeholder:"Incio"})}),n.jsx(zr,{children:$.map(X=>n.jsxs(rt,{value:String(X),children:[String(X).padStart(2,"0"),":00"]},`inicio-${X}`))})]}),n.jsxs(qr,{value:String(T),onValueChange:X=>{J(Number(X)),localStorage.setItem("secretaria.agenda.fim",String(X))},children:[n.jsx(Vr,{className:"w-24",children:n.jsx(Wr,{placeholder:"Fim"})}),n.jsx(zr,{children:$.map(X=>n.jsxs(rt,{value:String(X),children:[String(X).padStart(2,"0"),":00"]},`fim-${X}`))})]}),n.jsx(ve,{variant:"secondary",onClick:()=>{i(new Date(s))},children:"Atualizar"})]}),n.jsx(ke,{className:"p-0 overflow-hidden",children:n.jsx("div",{className:"divide-y",children:R.map(X=>{const te=re.get(X),K=te?d5(te):null,z=te?PJ(te==null?void 0:te.status):null,se=te?QJ(te==null?void 0:te.status):"";return n.jsxs("div",{className:`flex items-center justify-between px-4 py-3 hover:bg-muted/40 ${se}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 text-sm font-medium",children:X}),n.jsx("div",{className:"text-sm flex items-center gap-2",children:K?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:K}),z&&n.jsx(lr,{variant:z.variant,className:"text-xs",children:z.label})]}):n.jsx("span",{className:"text-muted-foreground",children:"(vago)"})})]}),n.jsx("div",{className:"flex items-center gap-2",children:K?n.jsxs(n.Fragment,{children:[n.jsx(ve,{size:"sm",variant:"outline",onClick:()=>Ae(X),disabled:P0(te==null?void 0:te.status)==="confirmada",children:"Confirmar"}),n.jsx(ve,{size:"sm",variant:"outline",onClick:()=>Q(X),disabled:P0(te==null?void 0:te.status)==="cancelada",children:"Presena"}),n.jsx(ve,{size:"sm",variant:"outline",onClick:()=>Y(X),children:"Editar"}),n.jsx(ve,{size:"sm",variant:"destructive",onClick:()=>ee(X),children:"Cancelar"})]}):n.jsx(ve,{size:"sm",onClick:()=>V(X),children:"Agendar"})})]},X)})})}),n.jsx(fA,{open:f,onOpenChange:h,children:n.jsxs(dc,{children:[n.jsx(uc,{children:n.jsx(fc,{children:k?`Editar ${m}`:`Agendar ${m}`})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Te,{placeholder:"Buscar paciente pelo nome",value:v,onChange:X=>H(X.target.value)}),n.jsxs("div",{className:"max-h-48 overflow-auto border rounded",children:[(y||[]).map(X=>n.jsx("div",{className:`px-3 py-2 cursor-pointer hover:bg-muted ${((j==null?void 0:j.id)||(j==null?void 0:j.paciente_id))===(X.id||X.paciente_id)?"bg-muted":""}`,onClick:()=>C(X),children:X.nome||X.fullName||X.name},X.id||X.paciente_id)),(!y||y.length===0)&&n.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"Digite ao menos 2 letras para buscar"})]}),n.jsx(Te,{placeholder:"Observaes (opcional)",value:E,onChange:X=>U(X.target.value)})]}),n.jsxs(hA,{children:[n.jsx(ve,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(ve,{onClick:Z,disabled:!k&&!j,children:k?"Salvar":"Confirmar"})]})]})}),A&&n.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando consultas"})]})}function MJ(){const{toast:e}=Va(),r=Kn(),t=ns(),[a,s]=b.useState(!1),[i,o]=b.useState("ready"),[l,A]=b.useState(null),[d,f]=b.useState(!1),h=b.useMemo(()=>{const w=new URL(window.location.href);return{id:w.searchParams.get("id")||w.searchParams.get("receita")||w.searchParams.get("receita_id"),token:w.searchParams.get("token")||w.searchParams.get("t"),url:w.searchParams.get("url")||w.searchParams.get("download")||w.searchParams.get("arquivo")||null,email:w.searchParams.get("email")||null}},[t.search]),m=w=>{try{const j=w.replace(/\?.*$/,"");return j.toLowerCase().endsWith(".pdf")?j:`${j}.pdf`}catch{return"Receita.pdf"}},p=(w,j)=>{const C=document.createElement("a"),E=URL.createObjectURL(w);C.href=E,C.download=decodeURIComponent(j),document.body.appendChild(C),C.click(),C.remove(),setTimeout(()=>URL.revokeObjectURL(E),2e3)},v=async w=>{var C;let j=w;if(!j)return!1;try{/^https?:\/\//i.test(j)||(j=`${"https://tcc-back-ktwy.onrender.com".replace(/\/$/,"")}${j.startsWith("/")?"":"/"}${j}`);const E=await we.get(j,{responseType:"blob",baseURL:""}),U=new Blob([E.data],{type:E.headers["content-type"]||"application/pdf"}),k=E.headers["content-disposition"]||"",F=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(k);let D=(F==null?void 0:F[1])||(F==null?void 0:F[2])||"Receita.pdf";return D=m(D),p(U,D),!0}catch(E){return console.warn("[ReceberReceita] download direto falhou:",((C=E==null?void 0:E.response)==null?void 0:C.status)||E),!1}},g=async w=>{var j;if(!w)return!1;try{const C=await ha.getReceitas({__propagateErrors:!0}),U=(Array.isArray(C)?C:Array.isArray(C==null?void 0:C.results)?C.results:[]).find(F=>String(F.id||F.pk||F.uuid)===String(w)),k=(U==null?void 0:U.arquivo_assinado)||(U==null?void 0:U.pdf)||(U==null?void 0:U.documento)||null;return k?await v(k):!1}catch(C){return console.warn("[ReceberReceita] busca por ID falhou:",((j=C==null?void 0:C.response)==null?void 0:j.status)||C),!1}},y=async()=>{s(!0),A(null),o("processing");try{if(await v(h.url)){f(!0),o("done"),e({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}if(await g(h.id)){f(!0),o("done"),e({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}o("error"),A("No foi possvel localizar a receita. Verifique se o link no expirou ou faa login para acess-la."),e({title:"Link invlido",description:"No foi possvel localizar a receita.",variant:"destructive"})}finally{s(!1)}};return b.useEffect(()=>{(h.url||h.id)&&y()},[h.url,h.id]),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Receber Receita"})}),n.jsxs(Ue,{className:"space-y-4",children:[i==="done"?n.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[n.jsx(lr,{variant:"outline",children:"Concludo"}),n.jsx("span",{children:"O download da receita foi iniciado."})]}):i==="processing"?n.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[n.jsx(lr,{variant:"outline",children:"Processando"}),n.jsx("span",{children:"Estamos validando seu link e preparando o download..."})]}):i==="error"?n.jsxs("div",{className:"text-red-700",children:[n.jsx(lr,{variant:"destructive",className:"mb-2",children:"Erro"}),n.jsx("p",{className:"text-sm",children:l||"Falha ao processar o link."})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cole o link recebido por e-mail, ou utilize o acesso direto com login."}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"Link direto do arquivo (opcional)"}),n.jsx(Te,{defaultValue:h.url||"",placeholder:"https://.../receita.pdf",onBlur:w=>{const j=new URL(window.location.href);w.target.value?j.searchParams.set("url",w.target.value):j.searchParams.delete("url"),r({pathname:j.pathname,search:j.search})}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fe,{children:"ID da Receita (opcional)"}),n.jsx(Te,{defaultValue:h.id||"",placeholder:"123",onBlur:w=>{const j=new URL(window.location.href);w.target.value?j.searchParams.set("id",w.target.value):j.searchParams.delete("id"),r({pathname:j.pathname,search:j.search})}})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(ve,{onClick:y,disabled:a,children:a?"Processando...":"Receber"}),n.jsx(ve,{variant:"outline",onClick:()=>r("/paciente/receitas"),children:"Ir para Minhas Receitas"})]})]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Dica: se o link tiver expirado, faa login e acesse suas receitas na rea do paciente."})]})})}function TJ(){var h,m,p,v;const{id:e}=zo(),[r,t]=b.useState(null),[a,s]=b.useState(!0),[i,o]=b.useState(null);if(b.useEffect(()=>{async function g(){var y,w;try{s(!0);const j=await we.get(`/receitas/${e}/verificar/`);t(j.data)}catch(j){o(((w=(y=j.response)==null?void 0:y.data)==null?void 0:w.detail)||"Receita no encontrada ou invlida")}finally{s(!1)}}e&&g()},[e]),a)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Verificando receita..."})]})});if(i)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center",children:n.jsxs(ke,{className:"w-full max-w-md",children:[n.jsxs(Ke,{className:"text-center",children:[n.jsx(fs,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx(Ge,{className:"text-red-700",children:"Receita Invlida"})]}),n.jsxs(Ue,{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:i}),n.jsx("p",{className:"text-sm text-gray-500",children:"Esta receita pode ter sido alterada, no existe ou no foi assinada digitalmente."})]})]})});const l=(r==null?void 0:r.assinada)&&(r==null?void 0:r.hash_documento),A=r!=null&&r.assinada_em?new Date(r.assinada_em).toLocaleString("pt-BR"):null,d=(m=(h=r==null?void 0:r.consulta)==null?void 0:h.medico)!=null&&m.user?`Dr. ${r.consulta.medico.user.first_name} ${r.consulta.medico.user.last_name}`:(r==null?void 0:r.medico)||"No informado",f=((v=(p=r==null?void 0:r.consulta)==null?void 0:p.medico)==null?void 0:v.crm)||"No informado";return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8",children:n.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[l?n.jsx(po,{className:"h-20 w-20 text-green-500 mx-auto mb-4"}):n.jsx(fs,{className:"h-20 w-20 text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Verificao de Receita Mdica"}),n.jsx(lr,{variant:l?"default":"destructive",className:"text-lg px-4 py-2",children:l?" Receita Vlida":" Receita Invlida"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(hn,{className:"h-5 w-5"}),"Informaes da Receita"]})}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID da Receita"}),n.jsx("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:r==null?void 0:r.id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Medicamento"}),n.jsx("p",{className:"font-medium",children:(r==null?void 0:r.medicamento)||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Dosagem"}),n.jsx("p",{children:(r==null?void 0:r.dosagem)||"No informada"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Validade"}),n.jsx("p",{children:(r==null?void 0:r.validade)||"No informada"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Criao"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-4 w-4"}),r!=null&&r.created_at?new Date(r.created_at).toLocaleString("pt-BR"):"No informada"]})]})]})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-5 w-5"}),"Paciente e Mdico"]})}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Paciente"}),n.jsx("p",{className:"font-medium",children:(r==null?void 0:r.nome_paciente)||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Mdico Responsvel"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-4 w-4"}),d]}),f!=="No informado"&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["CRM: ",f]})]}),(r==null?void 0:r.endereco_consultorio)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Consultrio"}),n.jsx("p",{children:r.endereco_consultorio})]})]})]}),n.jsxs(ke,{className:"md:col-span-2",children:[n.jsx(Ke,{children:n.jsxs(Ge,{className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-5 w-5"}),"Assinatura Digital"]})}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status da Assinatura"}),n.jsx(lr,{variant:l?"default":"destructive",className:"mt-1",children:l?"Assinada Digitalmente":"No Assinada"})]}),A&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data da Assinatura"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-4 w-4"}),A]})]})]}),l&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Assinado por"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-4 w-4"}),d," ",f!=="No informado"&&`(CRM: ${f})`]})]}),(r==null?void 0:r.hash_documento)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Hash de Verificao"}),n.jsx("p",{className:"font-mono text-xs bg-gray-100 p-2 rounded break-all",children:r.hash_documento})]}),(r==null?void 0:r.motivo)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Motivo da Assinatura"}),n.jsx("p",{children:r.motivo})]})]})]})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("p",{className:"text-sm text-gray-500",children:["Esta verificao confirma a autenticidade e integridade da receita mdica.",l&&" A receita foi assinada digitalmente e no foi alterada."]})})]})})}const OJ=()=>{const[e,r]=b.useState("f86c1245-2d66-4e5b-8830-e774c7c0f31f"),[t,a]=b.useState(null),[s,i]=b.useState(!1),[o,l]=b.useState(null),A=async()=>{var f,h,m;if(!e){l("Por favor, insira um ID de receita");return}i(!0),l(null),a(null);try{console.log("Tentando assinar receita com ID:",e);const p={id:e,receita_id:e,algoritmo_assinatura:"SHA256",hash_documento:`test_hash_${Date.now()}`},v=await hX.signPrescription(p);console.log("Resposta da assinatura:",v),a({success:!0,data:v})}catch(p){console.error("Erro na assinatura:",p),l({message:p.message,status:(f=p.response)==null?void 0:f.status,data:(h=p.response)==null?void 0:h.data,url:(m=p.config)==null?void 0:m.url})}finally{i(!1)}},d=async()=>{i(!0),l(null),a(null);try{const f="https://tcc-back-ktwy.onrender.com".replace(/\/$/,""),h="/api".replace(/\/$/,""),m=`${f}${h}`,p=["/receitas/","/receitas/f86c1245-2d66-4e5b-8830-e774c7c0f31f/","/receitas/f86c1245-2d66-4e5b-8830-e774c7c0f31f/assinar/","/auth/login/","/auth/user/"],v={},g=localStorage.getItem("token");for(const y of p)try{const w=y.includes("/assinar/"),j=w?"POST":"GET",C=w?JSON.stringify({algoritmo_assinatura:"SHA256",hash_documento:`test_hash_${Date.now()}`}):void 0,E=await fetch(`${m}${y}`,{method:j,headers:{"Content-Type":"application/json",Authorization:g?`Token ${g}`:"no-token"},body:C});if(v[y]={status:E.status,statusText:E.statusText,ok:E.ok,method:j},w&&E.ok){const U=await E.json();v[y].data=U}}catch(w){v[y]={error:w.message}}a({endpoints:v,token:g?"Token presente":"Token ausente",tokenValue:g?g.substring(0,10)+"...":"N/A"})}catch(f){l(f.message)}finally{i(!1)}};return n.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"20px",backgroundColor:"#f9f9f9"},children:[n.jsx("h3",{children:"Teste de Assinatura de Receita"}),n.jsx("div",{style:{marginBottom:"20px"},children:n.jsxs("label",{children:["ID da Receita:",n.jsx("input",{type:"text",value:e,onChange:f=>r(f.target.value),placeholder:"Digite o ID da receita",style:{marginLeft:"10px",padding:"5px"}})]})}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("button",{onClick:A,disabled:s,style:{padding:"10px 20px",marginRight:"10px",backgroundColor:"#007bff",color:"white",border:"none",cursor:s?"not-allowed":"pointer"},children:s?"Testando...":"Testar Assinatura"}),n.jsx("button",{onClick:d,disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",cursor:s?"not-allowed":"pointer"},children:s?"Testando...":"Testar Endpoints"})]}),o&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",marginBottom:"20px"},children:[n.jsx("h4",{children:"Erro:"}),n.jsx("pre",{children:JSON.stringify(o,null,2)})]}),t&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"4px"},children:[n.jsx("h4",{children:"Resultado:"}),n.jsx("pre",{children:JSON.stringify(t,null,2)})]})]})};function HJ(){const e="Trathea",[r,t]=b.useState(()=>localStorage.getItem("brand_name")||e),[a,s]=b.useState(()=>localStorage.getItem("brand_site_url")||"https://trathea.com.br"),[i,o]=b.useState(()=>pm("brand")||null);b.useEffect(()=>{try{localStorage.setItem("brand_name",r)}catch{}},[r]),b.useEffect(()=>{try{localStorage.setItem("brand_site_url",a)}catch{}},[a]);const l=async d=>{var h;const f=(h=d.target.files)==null?void 0:h[0];if(f)try{const m=await w0("brand",f);try{const p=await Kt._resolveMedicoId().catch(()=>null);p&&await w0(p,f)}catch{}o(m)}catch{}},A=b.useMemo(()=>{try{return new URL(a).href}catch{return""}},[a]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Marca"})}),n.jsx(Ue,{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[i!=null&&i.data?n.jsx("img",{src:i.data,alt:"Logo",className:"h-16 w-16 object-contain rounded border"}):n.jsx("div",{className:"h-16 w-16 rounded border flex items-center justify-center text-sm",children:"Logo"}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{children:"Nome da marca"}),n.jsx(Te,{value:r,onChange:d=>t(d.target.value),placeholder:"Trathea"})]}),n.jsxs("div",{children:[n.jsx(Fe,{children:"Logo"}),n.jsx(Te,{type:"file",accept:"image/*",onChange:l})]})]})]})})]}),n.jsxs(ke,{children:[n.jsx(Ke,{children:n.jsx(Ge,{children:"Web View"})}),n.jsxs(Ue,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Fe,{children:"URL do site"}),n.jsx(Te,{value:a,onChange:d=>s(d.target.value),placeholder:"https://exemplo.com"})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx(ve,{type:"button",onClick:()=>s(a.trim()),disabled:!a.trim(),children:"Carregar"}),A?n.jsx("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"inline-flex",children:n.jsx(ve,{type:"button",variant:"outline",children:"Abrir em nova aba"})}):null]})]}),A?n.jsxs("div",{className:"border rounded overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 border-b bg-muted/40",children:[i!=null&&i.data?n.jsx("img",{src:i.data,alt:"Logo",className:"h-6 w-6 object-contain"}):null,n.jsx("div",{className:"font-semibold",children:r}),n.jsx("div",{className:"text-xs text-muted-foreground ml-auto",children:A})]}),n.jsx("iframe",{title:"brand-webview",src:A,className:"w-full h-[70vh]"})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"Informe uma URL vlida para exibir em web view."})]})]})]})}function $J(){return n.jsx(U6,{children:n.jsx(L6,{children:n.jsx(KU,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsxs(PU,{children:[n.jsx(Qt,{path:"/",element:n.jsx(OX,{})}),n.jsx(Qt,{path:"/login",element:n.jsx(KT,{})}),n.jsx(Qt,{path:"/registrar",element:n.jsx(VT,{})}),n.jsx(Qt,{path:"/esqueci-senha",element:n.jsx(zT,{})}),n.jsx(Qt,{path:"/redefinir-senha/:uid/:token",element:n.jsx(GT,{})}),n.jsx(Qt,{path:"/receber/receita",element:n.jsx(MJ,{})}),n.jsx(Qt,{path:"/verificar/:id",element:n.jsx(TJ,{})}),n.jsx(Qt,{path:"/test-signature",element:n.jsx(OJ,{})}),n.jsx(Qt,{path:"/brand",element:n.jsx(HJ,{})}),n.jsx(Qt,{path:"/inicio",element:n.jsx(KJ,{})}),n.jsxs(Qt,{path:"/paciente",element:n.jsx(zX,{children:n.jsx(FT,{})}),children:[n.jsx(Qt,{index:!0,element:n.jsx(Ea,{to:"perfil",replace:!0})}),n.jsx(Qt,{path:"perfil",element:n.jsx(d$,{})}),n.jsx(Qt,{path:"prontuario",element:n.jsx(g$,{})}),n.jsx(Qt,{path:"consultas",element:n.jsx(j$,{})}),n.jsx(Qt,{path:"consultas/nova",element:n.jsx(GX,{})}),n.jsx(Qt,{path:"exames",element:n.jsx(B$,{})}),n.jsx(Qt,{path:"historico-medico",element:n.jsx(S$,{})}),n.jsx(Qt,{path:"medicos",element:n.jsx(_$,{})}),n.jsx(Qt,{path:"receitas",element:n.jsx(L$,{})}),n.jsx(Qt,{path:"configuracoes",element:n.jsx(Xw,{})})]}),n.jsxs(Qt,{path:"/medico",element:n.jsx(KX,{children:n.jsx(kT,{})}),children:[n.jsx(Qt,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(Qt,{path:"dashboard",element:n.jsx(GY,{})}),n.jsx(Qt,{path:"meus-pacientes",element:n.jsx(YY,{})}),n.jsx(Qt,{path:"minhas-consultas",element:n.jsx(XY,{})}),n.jsx(Qt,{path:"consultas/hoje",element:n.jsx(dX,{})}),n.jsx(Qt,{path:"solicitacoes",element:n.jsx(uX,{})}),n.jsx(Qt,{path:"paciente/:id/perfil",element:n.jsx(JY,{})}),n.jsx(Qt,{path:"paciente/:id/prontuario",element:n.jsx(ZY,{})}),n.jsx(Qt,{path:"paciente/:id/exames",element:n.jsx(eX,{})}),n.jsx(Qt,{path:"paciente/:id/receitas",element:n.jsx(wX,{})}),n.jsx(Qt,{path:"paciente/:id/iniciar-consulta",element:n.jsx(tX,{})}),n.jsx(Qt,{path:"paciente/:id/consulta/resumo",element:n.jsx(vX,{})}),n.jsx(Qt,{path:"paciente/:id/receita/preview",element:n.jsx(mX,{})}),n.jsx(Qt,{path:"paciente/:id/receita/confirmacao",element:n.jsx(pX,{})}),n.jsx(Qt,{path:"configuracoes",element:n.jsx(Xw,{})})]}),n.jsxs(Qt,{path:"/clinica",element:n.jsx(VX,{children:n.jsx(X_,{})}),children:[n.jsx(Qt,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(Qt,{path:"dashboard",element:n.jsx(yX,{})}),n.jsx(Qt,{path:"calendario",element:n.jsx(jX,{})}),n.jsx(Qt,{path:"disponibilidade",element:n.jsx(CX,{})}),n.jsx(Qt,{path:"exames",element:n.jsx(SX,{})}),n.jsx(Qt,{path:"pacientes",element:n.jsx(_X,{})}),n.jsx(Qt,{path:"medicos",element:n.jsx(EX,{})}),n.jsx(Qt,{path:"relatorios",element:n.jsx(FX,{})}),n.jsx(Qt,{path:"configuracoes",element:n.jsx(kX,{})})]}),n.jsxs(Qt,{path:"/admin",element:n.jsx(qX,{children:n.jsx(DT,{})}),children:[n.jsx(Qt,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(Qt,{path:"dashboard",element:n.jsx(DX,{})}),n.jsx(Qt,{path:"solicitacoes",element:n.jsx(UX,{})}),n.jsx(Qt,{path:"solicitacoes/:id",element:n.jsx(LX,{})}),n.jsx(Qt,{path:"relatorios",element:n.jsx(RX,{})}),n.jsx(Qt,{path:"auditoria",element:n.jsx(MX,{})}),n.jsx(Qt,{path:"usuarios",element:n.jsx(YX,{})}),n.jsx(Qt,{path:"clinicas",element:n.jsx(XX,{})}),n.jsx(Qt,{path:"configuracoes",element:n.jsx(JX,{})})]}),n.jsxs(Qt,{path:"/secretaria",element:n.jsx(qT,{children:n.jsx(WT,{})}),children:[n.jsx(Qt,{index:!0,element:n.jsx(Ea,{to:"dashboard",replace:!0})}),n.jsx(Qt,{path:"dashboard",element:n.jsx(tJ,{})}),n.jsx(Qt,{path:"consultas",element:n.jsx(aJ,{})}),n.jsx(Qt,{path:"agenda",element:n.jsx(RJ,{})}),n.jsx(Qt,{path:"pacientes",element:n.jsx(nJ,{})}),n.jsx(Qt,{path:"medicos",element:n.jsx(sJ,{})}),n.jsx(Qt,{path:"solicitacoes",element:n.jsx(S8,{})}),n.jsx(Qt,{path:"solicitacoes/:id",element:n.jsx(_8,{})}),n.jsx(Qt,{path:"configuracoes",element:n.jsx(Xw,{})})]}),n.jsx(Qt,{path:"*",element:n.jsx("div",{children:"Pgina no encontrada"})})]})})})})}function KJ(){const{isAuthenticated:e,user:r}=qo();if(!e)return n.jsx(Ea,{to:"/login",replace:!0});const t=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),a=t==="admin"?"/admin/dashboard":t==="medico"?"/medico/dashboard":t==="clinica"?"/clinica/dashboard":"/paciente/perfil";return n.jsx(Ea,{to:a,replace:!0})}var Pb="ToastProvider",[Qb,VJ,zJ]=dx("Toast"),[Fk,$Z]=Bl("Toast",[zJ]),[qJ,Rx]=Fk(Pb),kk=e=>{const{__scopeToast:r,label:t="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,A]=b.useState(null),[d,f]=b.useState(0),h=b.useRef(!1),m=b.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Pb}\`. Expected non-empty \`string\`.`),n.jsx(Qb.Provider,{scope:r,children:n.jsx(qJ,{scope:r,label:t,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:A,onToastAdd:b.useCallback(()=>f(p=>p+1),[]),onToastRemove:b.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};kk.displayName=Pb;var Dk="ToastViewport",WJ=["F8"],w1="toast.viewportPause",y1="toast.viewportResume",Uk=b.forwardRef((e,r)=>{const{__scopeToast:t,hotkey:a=WJ,label:s="Notifications ({hotkey})",...i}=e,o=Rx(Dk,t),l=VJ(t),A=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=b.useRef(null),m=ba(r,h,o.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;b.useEffect(()=>{const y=w=>{var C;a.length!==0&&a.every(E=>w[E]||w.code===E)&&((C=h.current)==null||C.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),b.useEffect(()=>{const y=A.current,w=h.current;if(v&&y&&w){const j=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(w1);w.dispatchEvent(k),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(y1);w.dispatchEvent(k),o.isClosePausedRef.current=!1}},E=k=>{!y.contains(k.relatedTarget)&&C()},U=()=>{y.contains(document.activeElement)||C()};return y.addEventListener("focusin",j),y.addEventListener("focusout",E),y.addEventListener("pointermove",j),y.addEventListener("pointerleave",U),window.addEventListener("blur",j),window.addEventListener("focus",C),()=>{y.removeEventListener("focusin",j),y.removeEventListener("focusout",E),y.removeEventListener("pointermove",j),y.removeEventListener("pointerleave",U),window.removeEventListener("blur",j),window.removeEventListener("focus",C)}}},[v,o.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:y})=>{const j=l().map(C=>{const E=C.ref.current,U=[E,...oZ(E)];return y==="forwards"?U:U.reverse()});return(y==="forwards"?j.reverse():j).flat()},[l]);return b.useEffect(()=>{const y=h.current;if(y){const w=j=>{var U,k,F;const C=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!C){const D=document.activeElement,_=j.shiftKey;if(j.target===y&&_){(U=d.current)==null||U.focus();return}const T=g({tabbingDirection:_?"backwards":"forwards"}),J=T.findIndex(R=>R===D);Jw(T.slice(J+1))?j.preventDefault():_?(k=d.current)==null||k.focus():(F=f.current)==null||F.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,g]),n.jsxs(II,{ref:A,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&n.jsx(b1,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Jw(y)}}),n.jsx(Qb.Slot,{scope:t,children:n.jsx(_r.ol,{tabIndex:-1,...i,ref:m})}),v&&n.jsx(b1,{ref:f,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Jw(y)}})]})});Uk.displayName=Dk;var Lk="ToastFocusProxy",b1=b.forwardRef((e,r)=>{const{__scopeToast:t,onFocusFromOutsideViewport:a,...s}=e,i=Rx(Lk,t);return n.jsx(ix,{tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&a()}})});b1.displayName=Lk;var Vm="Toast",GJ="toast.swipeStart",YJ="toast.swipeMove",XJ="toast.swipeCancel",JJ="toast.swipeEnd",Ik=b.forwardRef((e,r)=>{const{forceMount:t,open:a,defaultOpen:s,onOpenChange:i,...o}=e,[l,A]=ud({prop:a,defaultProp:s??!0,onChange:i,caller:Vm});return n.jsx(mc,{present:t||l,children:n.jsx(tZ,{open:l,...o,ref:r,onClose:()=>A(!1),onPause:Si(e.onPause),onResume:Si(e.onResume),onSwipeStart:kt(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:kt(e.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:kt(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:kt(e.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),A(!1)})})})});Ik.displayName=Vm;var[ZJ,eZ]=Fk(Vm,{onClose(){}}),tZ=b.forwardRef((e,r)=>{const{__scopeToast:t,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:A,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...v}=e,g=Rx(Vm,t),[y,w]=b.useState(null),j=ba(r,R=>w(R)),C=b.useRef(null),E=b.useRef(null),U=s||g.duration,k=b.useRef(0),F=b.useRef(U),D=b.useRef(0),{onToastAdd:_,onToastRemove:G}=g,L=Si(()=>{var re;(y==null?void 0:y.contains(document.activeElement))&&((re=g.viewport)==null||re.focus()),o()}),T=b.useCallback(R=>{!R||R===1/0||(window.clearTimeout(D.current),k.current=new Date().getTime(),D.current=window.setTimeout(L,R))},[L]);b.useEffect(()=>{const R=g.viewport;if(R){const re=()=>{T(F.current),d==null||d()},V=()=>{const Y=new Date().getTime()-k.current;F.current=F.current-Y,window.clearTimeout(D.current),A==null||A()};return R.addEventListener(w1,V),R.addEventListener(y1,re),()=>{R.removeEventListener(w1,V),R.removeEventListener(y1,re)}}},[g.viewport,U,A,d,T]),b.useEffect(()=>{i&&!g.isClosePausedRef.current&&T(U)},[i,U,g.isClosePausedRef,T]),b.useEffect(()=>(_(),()=>G()),[_,G]);const J=b.useMemo(()=>y?Hk(y):null,[y]);return g.viewport?n.jsxs(n.Fragment,{children:[J&&n.jsx(rZ,{__scopeToast:t,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:J}),n.jsx(ZJ,{scope:t,onClose:L,children:Vf.createPortal(n.jsx(Qb.ItemSlot,{scope:t,children:n.jsx(LI,{asChild:!0,onEscapeKeyDown:kt(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(_r.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:kt(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:kt(e.onPointerDown,R=>{R.button===0&&(C.current={x:R.clientX,y:R.clientY})}),onPointerMove:kt(e.onPointerMove,R=>{if(!C.current)return;const re=R.clientX-C.current.x,V=R.clientY-C.current.y,Y=!!E.current,H=["left","right"].includes(g.swipeDirection),Z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Ae=H?Z(0,re):0,ee=H?0:Z(0,V),Q=R.pointerType==="touch"?10:2,q={x:Ae,y:ee},$={originalEvent:R,delta:q};Y?(E.current=q,vg(YJ,h,$,{discrete:!1})):u5(q,g.swipeDirection,Q)?(E.current=q,vg(GJ,f,$,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(re)>Q||Math.abs(V)>Q)&&(C.current=null)}),onPointerUp:kt(e.onPointerUp,R=>{const re=E.current,V=R.target;if(V.hasPointerCapture(R.pointerId)&&V.releasePointerCapture(R.pointerId),E.current=null,C.current=null,re){const Y=R.currentTarget,H={originalEvent:R,delta:re};u5(re,g.swipeDirection,g.swipeThreshold)?vg(JJ,p,H,{discrete:!0}):vg(XJ,m,H,{discrete:!0}),Y.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),rZ=e=>{const{__scopeToast:r,children:t,...a}=e,s=Rx(Vm,r),[i,o]=b.useState(!1),[l,A]=b.useState(!1);return sZ(()=>o(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>A(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Em,{asChild:!0,children:n.jsx(ix,{...a,children:i&&n.jsxs(n.Fragment,{children:[s.label," ",t]})})})},aZ="ToastTitle",Pk=b.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e;return n.jsx(_r.div,{...a,ref:r})});Pk.displayName=aZ;var nZ="ToastDescription",Qk=b.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e;return n.jsx(_r.div,{...a,ref:r})});Qk.displayName=nZ;var Rk="ToastAction",Mk=b.forwardRef((e,r)=>{const{altText:t,...a}=e;return t.trim()?n.jsx(Ok,{altText:t,asChild:!0,children:n.jsx(Rb,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${Rk}\`. Expected non-empty \`string\`.`),null)});Mk.displayName=Rk;var Tk="ToastClose",Rb=b.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e,s=eZ(Tk,t);return n.jsx(Ok,{asChild:!0,children:n.jsx(_r.button,{type:"button",...a,ref:r,onClick:kt(e.onClick,s.onClose)})})});Rb.displayName=Tk;var Ok=b.forwardRef((e,r)=>{const{__scopeToast:t,altText:a,...s}=e;return n.jsx(_r.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:r})});function Hk(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),iZ(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...Hk(a))}}),r}function vg(e,r,t,{discrete:a}){const s=t.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});r&&s.addEventListener(e,r,{once:!0}),a?R1(s,i):s.dispatchEvent(i)}var u5=(e,r,t=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return r==="left"||r==="right"?i&&a>t:!i&&s>t};function sZ(e=()=>{}){const r=Si(e);ps(()=>{let t=0,a=0;return t=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(a)}},[r])}function iZ(e){return e.nodeType===e.ELEMENT_NODE}function oZ(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function Jw(e){const r=document.activeElement;return e.some(t=>t===r?!0:(t.focus(),document.activeElement!==r))}var lZ=kk,$k=Uk,Kk=Ik,Vk=Pk,zk=Qk,qk=Mk,Wk=Rb;const cZ=lZ,Gk=b.forwardRef(({className:e,...r},t)=>n.jsx($k,{ref:t,className:lt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));Gk.displayName=$k.displayName;const AZ=V0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Yk=b.forwardRef(({className:e,variant:r,...t},a)=>n.jsx(Kk,{ref:a,className:lt(AZ({variant:r}),e),...t}));Yk.displayName=Kk.displayName;const dZ=b.forwardRef(({className:e,...r},t)=>n.jsx(qk,{ref:t,className:lt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}));dZ.displayName=qk.displayName;const Xk=b.forwardRef(({className:e,...r},t)=>n.jsx(Wk,{ref:t,className:lt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:n.jsx(Q1,{className:"h-4 w-4"})}));Xk.displayName=Wk.displayName;const Jk=b.forwardRef(({className:e,...r},t)=>n.jsx(Vk,{ref:t,className:lt("text-sm font-semibold",e),...r}));Jk.displayName=Vk.displayName;const Zk=b.forwardRef(({className:e,...r},t)=>n.jsx(zk,{ref:t,className:lt("text-sm opacity-90",e),...r}));Zk.displayName=zk.displayName;function uZ(){const{toasts:e}=Va();return n.jsxs(cZ,{children:[e.map(({id:r,title:t,description:a,action:s,...i})=>n.jsxs(Yk,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[t&&n.jsx(Jk,{children:t}),a&&n.jsx(Zk,{children:a})]}),s,n.jsx(Xk,{})]},r)),n.jsx(Gk,{})]})}const eD="1.0.0";try{typeof window<"u"&&(window.__APP_VERSION__=eD)}catch{}try{console.info(`[MedicineFront] Verso do commit: ${eD}`)}catch{}$D.createRoot(document.getElementById("root")).render(n.jsxs(VR,{defaultTheme:"system",storageKey:"medicinefront-theme",children:[n.jsx($J,{}),n.jsx(uZ,{})]}));export{$a as _,we as a,hZ as c,m5 as g};
