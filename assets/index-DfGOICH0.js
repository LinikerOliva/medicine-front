function mb(t,n){for(var a=0;a<n.length;a++){const o=n[a];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in t)){const c=Object.getOwnPropertyDescriptor(o,i);c&&Object.defineProperty(t,i,c.get?c:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=a(i);fetch(i.href,c)}})();function wg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ru={exports:{}},vo={},ou={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function fb(){if(Gh)return Je;Gh=1;var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),p=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,v={};function w(O,V,Z){this.props=O,this.context=V,this.refs=v,this.updater=Z||b}w.prototype.isReactComponent={},w.prototype.setState=function(O,V){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,V,"setState")},w.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _(){}_.prototype=w.prototype;function C(O,V,Z){this.props=O,this.context=V,this.refs=v,this.updater=Z||b}var E=C.prototype=new _;E.constructor=C,N(E,w.prototype),E.isPureReactComponent=!0;var R=Array.isArray,A=Object.prototype.hasOwnProperty,P={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(O,V,Z){var B,U={},J=null,ee=null;if(V!=null)for(B in V.ref!==void 0&&(ee=V.ref),V.key!==void 0&&(J=""+V.key),V)A.call(V,B)&&!T.hasOwnProperty(B)&&(U[B]=V[B]);var re=arguments.length-2;if(re===1)U.children=Z;else if(1<re){for(var he=Array(re),ve=0;ve<re;ve++)he[ve]=arguments[ve+2];U.children=he}if(O&&O.defaultProps)for(B in re=O.defaultProps,re)U[B]===void 0&&(U[B]=re[B]);return{$$typeof:t,type:O,key:J,ref:ee,props:U,_owner:P.current}}function $(O,V){return{$$typeof:t,type:O.type,key:V,ref:O.ref,props:O.props,_owner:O._owner}}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function I(O){var V={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Z){return V[Z]})}var z=/\/+/g;function Y(O,V){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):V.toString(36)}function F(O,V,Z,B,U){var J=typeof O;(J==="undefined"||J==="boolean")&&(O=null);var ee=!1;if(O===null)ee=!0;else switch(J){case"string":case"number":ee=!0;break;case"object":switch(O.$$typeof){case t:case n:ee=!0}}if(ee)return ee=O,U=U(ee),O=B===""?"."+Y(ee,0):B,R(U)?(Z="",O!=null&&(Z=O.replace(z,"$&/")+"/"),F(U,V,Z,"",function(ve){return ve})):U!=null&&(M(U)&&(U=$(U,Z+(!U.key||ee&&ee.key===U.key?"":(""+U.key).replace(z,"$&/")+"/")+O)),V.push(U)),1;if(ee=0,B=B===""?".":B+":",R(O))for(var re=0;re<O.length;re++){J=O[re];var he=B+Y(J,re);ee+=F(J,V,Z,he,U)}else if(he=j(O),typeof he=="function")for(O=he.call(O),re=0;!(J=O.next()).done;)J=J.value,he=B+Y(J,re++),ee+=F(J,V,Z,he,U);else if(J==="object")throw V=String(O),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return ee}function K(O,V,Z){if(O==null)return O;var B=[],U=0;return F(O,B,"","",function(J){return V.call(Z,J,U++)}),B}function D(O){if(O._status===-1){var V=O._result;V=V(),V.then(function(Z){(O._status===0||O._status===-1)&&(O._status=1,O._result=Z)},function(Z){(O._status===0||O._status===-1)&&(O._status=2,O._result=Z)}),O._status===-1&&(O._status=0,O._result=V)}if(O._status===1)return O._result.default;throw O._result}var H={current:null},q={transition:null},X={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:q,ReactCurrentOwner:P};function te(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:K,forEach:function(O,V,Z){K(O,function(){V.apply(this,arguments)},Z)},count:function(O){var V=0;return K(O,function(){V++}),V},toArray:function(O){return K(O,function(V){return V})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Je.Component=w,Je.Fragment=a,Je.Profiler=i,Je.PureComponent=C,Je.StrictMode=o,Je.Suspense=m,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Je.act=te,Je.cloneElement=function(O,V,Z){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var B=N({},O.props),U=O.key,J=O.ref,ee=O._owner;if(V!=null){if(V.ref!==void 0&&(J=V.ref,ee=P.current),V.key!==void 0&&(U=""+V.key),O.type&&O.type.defaultProps)var re=O.type.defaultProps;for(he in V)A.call(V,he)&&!T.hasOwnProperty(he)&&(B[he]=V[he]===void 0&&re!==void 0?re[he]:V[he])}var he=arguments.length-2;if(he===1)B.children=Z;else if(1<he){re=Array(he);for(var ve=0;ve<he;ve++)re[ve]=arguments[ve+2];B.children=re}return{$$typeof:t,type:O.type,key:U,ref:J,props:B,_owner:ee}},Je.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},Je.createElement=k,Je.createFactory=function(O){var V=k.bind(null,O);return V.type=O,V},Je.createRef=function(){return{current:null}},Je.forwardRef=function(O){return{$$typeof:u,render:O}},Je.isValidElement=M,Je.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:D}},Je.memo=function(O,V){return{$$typeof:h,type:O,compare:V===void 0?null:V}},Je.startTransition=function(O){var V=q.transition;q.transition={};try{O()}finally{q.transition=V}},Je.unstable_act=te,Je.useCallback=function(O,V){return H.current.useCallback(O,V)},Je.useContext=function(O){return H.current.useContext(O)},Je.useDebugValue=function(){},Je.useDeferredValue=function(O){return H.current.useDeferredValue(O)},Je.useEffect=function(O,V){return H.current.useEffect(O,V)},Je.useId=function(){return H.current.useId()},Je.useImperativeHandle=function(O,V,Z){return H.current.useImperativeHandle(O,V,Z)},Je.useInsertionEffect=function(O,V){return H.current.useInsertionEffect(O,V)},Je.useLayoutEffect=function(O,V){return H.current.useLayoutEffect(O,V)},Je.useMemo=function(O,V){return H.current.useMemo(O,V)},Je.useReducer=function(O,V,Z){return H.current.useReducer(O,V,Z)},Je.useRef=function(O){return H.current.useRef(O)},Je.useState=function(O){return H.current.useState(O)},Je.useSyncExternalStore=function(O,V,Z){return H.current.useSyncExternalStore(O,V,Z)},Je.useTransition=function(){return H.current.useTransition()},Je.version="18.3.1",Je}var Yh;function Dl(){return Yh||(Yh=1,ou.exports=fb()),ou.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function pb(){if(Jh)return vo;Jh=1;var t=Dl(),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(u,m,h){var x,p={},j=null,b=null;h!==void 0&&(j=""+h),m.key!==void 0&&(j=""+m.key),m.ref!==void 0&&(b=m.ref);for(x in m)o.call(m,x)&&!c.hasOwnProperty(x)&&(p[x]=m[x]);if(u&&u.defaultProps)for(x in m=u.defaultProps,m)p[x]===void 0&&(p[x]=m[x]);return{$$typeof:n,type:u,key:j,ref:b,props:p,_owner:i.current}}return vo.Fragment=a,vo.jsx=d,vo.jsxs=d,vo}var Qh;function hb(){return Qh||(Qh=1,ru.exports=pb()),ru.exports}var e=hb(),sl={},iu={exports:{}},xs={},lu={exports:{}},cu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function xb(){return Xh||(Xh=1,(function(t){function n(q,X){var te=q.length;q.push(X);e:for(;0<te;){var O=te-1>>>1,V=q[O];if(0<i(V,X))q[O]=X,q[te]=V,te=O;else break e}}function a(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var X=q[0],te=q.pop();if(te!==X){q[0]=te;e:for(var O=0,V=q.length,Z=V>>>1;O<Z;){var B=2*(O+1)-1,U=q[B],J=B+1,ee=q[J];if(0>i(U,te))J<V&&0>i(ee,U)?(q[O]=ee,q[J]=te,O=J):(q[O]=U,q[B]=te,O=B);else if(J<V&&0>i(ee,te))q[O]=ee,q[J]=te,O=J;else break e}}return X}function i(q,X){var te=q.sortIndex-X.sortIndex;return te!==0?te:q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,u=d.now();t.unstable_now=function(){return d.now()-u}}var m=[],h=[],x=1,p=null,j=3,b=!1,N=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(q){for(var X=a(h);X!==null;){if(X.callback===null)o(h);else if(X.startTime<=q)o(h),X.sortIndex=X.expirationTime,n(m,X);else break;X=a(h)}}function R(q){if(v=!1,E(q),!N)if(a(m)!==null)N=!0,D(A);else{var X=a(h);X!==null&&H(R,X.startTime-q)}}function A(q,X){N=!1,v&&(v=!1,_(k),k=-1),b=!0;var te=j;try{for(E(X),p=a(m);p!==null&&(!(p.expirationTime>X)||q&&!I());){var O=p.callback;if(typeof O=="function"){p.callback=null,j=p.priorityLevel;var V=O(p.expirationTime<=X);X=t.unstable_now(),typeof V=="function"?p.callback=V:p===a(m)&&o(m),E(X)}else o(m);p=a(m)}if(p!==null)var Z=!0;else{var B=a(h);B!==null&&H(R,B.startTime-X),Z=!1}return Z}finally{p=null,j=te,b=!1}}var P=!1,T=null,k=-1,$=5,M=-1;function I(){return!(t.unstable_now()-M<$)}function z(){if(T!==null){var q=t.unstable_now();M=q;var X=!0;try{X=T(!0,q)}finally{X?Y():(P=!1,T=null)}}else P=!1}var Y;if(typeof C=="function")Y=function(){C(z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=z,Y=function(){K.postMessage(null)}}else Y=function(){w(z,0)};function D(q){T=q,P||(P=!0,Y())}function H(q,X){k=w(function(){q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){N||b||(N=!0,D(A))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return a(m)},t.unstable_next=function(q){switch(j){case 1:case 2:case 3:var X=3;break;default:X=j}var te=j;j=X;try{return q()}finally{j=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=j;j=q;try{return X()}finally{j=te}},t.unstable_scheduleCallback=function(q,X,te){var O=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?O+te:O):te=O,q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=te+V,q={id:x++,callback:X,priorityLevel:q,startTime:te,expirationTime:V,sortIndex:-1},te>O?(q.sortIndex=te,n(h,q),a(m)===null&&q===a(h)&&(v?(_(k),k=-1):v=!0,H(R,te-O))):(q.sortIndex=V,n(m,q),N||b||(N=!0,D(A))),q},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(q){var X=j;return function(){var te=j;j=X;try{return q.apply(this,arguments)}finally{j=te}}}})(cu)),cu}var Zh;function gb(){return Zh||(Zh=1,lu.exports=xb()),lu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex;function vb(){if(ex)return xs;ex=1;var t=Dl(),n=gb();function a(s){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function c(s,r){d(s,r),d(s+"Capture",r)}function d(s,r){for(i[s]=r,s=0;s<r.length;s++)o.add(r[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},p={};function j(s){return m.call(p,s)?!0:m.call(x,s)?!1:h.test(s)?p[s]=!0:(x[s]=!0,!1)}function b(s,r,l,f){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,r,l,f){if(r===null||typeof r>"u"||b(s,r,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function v(s,r,l,f,y,S,L){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=l,this.propertyName=s,this.type=r,this.sanitizeURL=S,this.removeEmptyString=L}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new v(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var r=s[0];w[r]=new v(r,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new v(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new v(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new v(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new v(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new v(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new v(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new v(s,5,!1,s.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var r=s.replace(_,C);w[r]=new v(r,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var r=s.replace(_,C);w[r]=new v(r,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var r=s.replace(_,C);w[r]=new v(r,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new v(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new v(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,r,l,f){var y=w.hasOwnProperty(r)?w[r]:null;(y!==null?y.type!==0:f||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(N(r,l,y,f)&&(l=null),f||y===null?j(r)&&(l===null?s.removeAttribute(r):s.setAttribute(r,""+l)):y.mustUseProperty?s[y.propertyName]=l===null?y.type===3?!1:"":l:(r=y.attributeName,f=y.attributeNamespace,l===null?s.removeAttribute(r):(y=y.type,l=y===3||y===4&&l===!0?"":""+l,f?s.setAttributeNS(f,r,l):s.setAttribute(r,l))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),P=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),I=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),q=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,O;function V(s){if(O===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+s}var Z=!1;function B(s,r){if(!s||Z)return"";Z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(oe){var f=oe}Reflect.construct(s,[],r)}else{try{r.call()}catch(oe){f=oe}s.call(r.prototype)}else{try{throw Error()}catch(oe){f=oe}s()}}catch(oe){if(oe&&f&&typeof oe.stack=="string"){for(var y=oe.stack.split(`
`),S=f.stack.split(`
`),L=y.length-1,W=S.length-1;1<=L&&0<=W&&y[L]!==S[W];)W--;for(;1<=L&&0<=W;L--,W--)if(y[L]!==S[W]){if(L!==1||W!==1)do if(L--,W--,0>W||y[L]!==S[W]){var G=`
`+y[L].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=L&&0<=W);break}}}finally{Z=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?V(s):""}function U(s){switch(s.tag){case 5:return V(s.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return s=B(s.type,!1),s;case 11:return s=B(s.type.render,!1),s;case 1:return s=B(s.type,!0),s;default:return""}}function J(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case P:return"Portal";case $:return"Profiler";case k:return"StrictMode";case Y:return"Suspense";case F:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case I:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case z:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return r=s.displayName||null,r!==null?r:J(s.type)||"Memo";case D:r=s._payload,s=s._init;try{return J(s(r))}catch{}}return null}function ee(s){var r=s.type;switch(s.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=r.render,s=s.displayName||s.name||"",r.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(r);case 8:return r===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function re(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function he(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ve(s){var r=he(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),f=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,S=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return y.call(this)},set:function(L){f=""+L,S.call(this,L)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(L){f=""+L},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function be(s){s._valueTracker||(s._valueTracker=ve(s))}function ke(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),f="";return s&&(f=he(s)?s.checked?"true":"false":s.value),s=f,s!==l?(r.setValue(s),!0):!1}function ze(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function tt(s,r){var l=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Ze(s,r){var l=r.defaultValue==null?"":r.defaultValue,f=r.checked!=null?r.checked:r.defaultChecked;l=re(r.value!=null?r.value:l),s._wrapperState={initialChecked:f,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function et(s,r){r=r.checked,r!=null&&E(s,"checked",r,!1)}function Ct(s,r){et(s,r);var l=re(r.value),f=r.type;if(l!=null)f==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}r.hasOwnProperty("value")?_t(s,r.type,l):r.hasOwnProperty("defaultValue")&&_t(s,r.type,re(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(s.defaultChecked=!!r.defaultChecked)}function ss(s,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var f=r.type;if(!(f!=="submit"&&f!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+s._wrapperState.initialValue,l||r===s.value||(s.value=r),s.defaultValue=r}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function _t(s,r,l){(r!=="number"||ze(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Yt=Array.isArray;function Ce(s,r,l,f){if(s=s.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<s.length;l++)y=r.hasOwnProperty("$"+s[l].value),s[l].selected!==y&&(s[l].selected=y),y&&f&&(s[l].defaultSelected=!0)}else{for(l=""+re(l),r=null,y=0;y<s.length;y++){if(s[y].value===l){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}r!==null||s[y].disabled||(r=s[y])}r!==null&&(r.selected=!0)}}function ys(s,r){if(r.dangerouslySetInnerHTML!=null)throw Error(a(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Js(s,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(a(92));if(Yt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),l=r}s._wrapperState={initialValue:re(l)}}function ht(s,r){var l=re(r.value),f=re(r.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),r.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),f!=null&&(s.defaultValue=""+f)}function Qs(s){var r=s.textContent;r===s._wrapperState.initialValue&&r!==""&&r!==null&&(s.value=r)}function _e(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Se(s,r){return s==null||s==="http://www.w3.org/1999/xhtml"?_e(r):s==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var $e,Ye=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,f,y){MSApp.execUnsafeLocalFunction(function(){return s(r,l,f,y)})}:s})(function(s,r){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=r;else{for($e=$e||document.createElement("div"),$e.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=$e.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;r.firstChild;)s.appendChild(r.firstChild)}});function De(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var Ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ns=["Webkit","ms","Moz","O"];Object.keys(Ke).forEach(function(s){ns.forEach(function(r){r=r+s.charAt(0).toUpperCase()+s.substring(1),Ke[r]=Ke[s]})});function Dr(s,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||Ke.hasOwnProperty(s)&&Ke[s]?(""+r).trim():r+"px"}function Go(s,r){s=s.style;for(var l in r)if(r.hasOwnProperty(l)){var f=l.indexOf("--")===0,y=Dr(l,r[l],f);l==="float"&&(l="cssFloat"),f?s.setProperty(l,y):s[l]=y}}var gw=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gc(s,r){if(r){if(gw[s]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(a(137,s));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(a(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(a(61))}if(r.style!=null&&typeof r.style!="object")throw Error(a(62))}}function vc(s,r){if(s.indexOf("-")===-1)return typeof r.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=null;function jc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var wc=null,Ia=null,Fa=null;function uf(s){if(s=so(s)){if(typeof wc!="function")throw Error(a(280));var r=s.stateNode;r&&(r=gi(r),wc(s.stateNode,s.type,r))}}function mf(s){Ia?Fa?Fa.push(s):Fa=[s]:Ia=s}function ff(){if(Ia){var s=Ia,r=Fa;if(Fa=Ia=null,uf(s),r)for(s=0;s<r.length;s++)uf(r[s])}}function pf(s,r){return s(r)}function hf(){}var Nc=!1;function xf(s,r,l){if(Nc)return s(r,l);Nc=!0;try{return pf(s,r,l)}finally{Nc=!1,(Ia!==null||Fa!==null)&&(hf(),ff())}}function Or(s,r){var l=s.stateNode;if(l===null)return null;var f=gi(l);if(f===null)return null;l=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(a(231,r,typeof l));return l}var bc=!1;if(u)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){bc=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{bc=!1}function vw(s,r,l,f,y,S,L,W,G){var oe=Array.prototype.slice.call(arguments,3);try{r.apply(l,oe)}catch(ge){this.onError(ge)}}var $r=!1,Yo=null,Jo=!1,Sc=null,yw={onError:function(s){$r=!0,Yo=s}};function jw(s,r,l,f,y,S,L,W,G){$r=!1,Yo=null,vw.apply(yw,arguments)}function ww(s,r,l,f,y,S,L,W,G){if(jw.apply(this,arguments),$r){if($r){var oe=Yo;$r=!1,Yo=null}else throw Error(a(198));Jo||(Jo=!0,Sc=oe)}}function ma(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function gf(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function vf(s){if(ma(s)!==s)throw Error(a(188))}function Nw(s){var r=s.alternate;if(!r){if(r=ma(s),r===null)throw Error(a(188));return r!==s?null:s}for(var l=s,f=r;;){var y=l.return;if(y===null)break;var S=y.alternate;if(S===null){if(f=y.return,f!==null){l=f;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===l)return vf(y),s;if(S===f)return vf(y),r;S=S.sibling}throw Error(a(188))}if(l.return!==f.return)l=y,f=S;else{for(var L=!1,W=y.child;W;){if(W===l){L=!0,l=y,f=S;break}if(W===f){L=!0,f=y,l=S;break}W=W.sibling}if(!L){for(W=S.child;W;){if(W===l){L=!0,l=S,f=y;break}if(W===f){L=!0,f=S,l=y;break}W=W.sibling}if(!L)throw Error(a(189))}}if(l.alternate!==f)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?s:r}function yf(s){return s=Nw(s),s!==null?jf(s):null}function jf(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var r=jf(s);if(r!==null)return r;s=s.sibling}return null}var wf=n.unstable_scheduleCallback,Nf=n.unstable_cancelCallback,bw=n.unstable_shouldYield,Sw=n.unstable_requestPaint,Dt=n.unstable_now,Cw=n.unstable_getCurrentPriorityLevel,Cc=n.unstable_ImmediatePriority,bf=n.unstable_UserBlockingPriority,Qo=n.unstable_NormalPriority,_w=n.unstable_LowPriority,Sf=n.unstable_IdlePriority,Xo=null,Xs=null;function Ew(s){if(Xs&&typeof Xs.onCommitFiberRoot=="function")try{Xs.onCommitFiberRoot(Xo,s,void 0,(s.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:Pw,Rw=Math.log,kw=Math.LN2;function Pw(s){return s>>>=0,s===0?32:31-(Rw(s)/kw|0)|0}var Zo=64,ei=4194304;function Ir(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ti(s,r){var l=s.pendingLanes;if(l===0)return 0;var f=0,y=s.suspendedLanes,S=s.pingedLanes,L=l&268435455;if(L!==0){var W=L&~y;W!==0?f=Ir(W):(S&=L,S!==0&&(f=Ir(S)))}else L=l&~y,L!==0?f=Ir(L):S!==0&&(f=Ir(S));if(f===0)return 0;if(r!==0&&r!==f&&(r&y)===0&&(y=f&-f,S=r&-r,y>=S||y===16&&(S&4194240)!==0))return r;if((f&4)!==0&&(f|=l&16),r=s.entangledLanes,r!==0)for(s=s.entanglements,r&=f;0<r;)l=31-Os(r),y=1<<l,f|=s[l],r&=~y;return f}function Aw(s,r){switch(s){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tw(s,r){for(var l=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,S=s.pendingLanes;0<S;){var L=31-Os(S),W=1<<L,G=y[L];G===-1?((W&l)===0||(W&f)!==0)&&(y[L]=Aw(W,r)):G<=r&&(s.expiredLanes|=W),S&=~W}}function _c(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Cf(){var s=Zo;return Zo<<=1,(Zo&4194240)===0&&(Zo=64),s}function Ec(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Fr(s,r,l){s.pendingLanes|=r,r!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,r=31-Os(r),s[r]=l}function Mw(s,r){var l=s.pendingLanes&~r;s.pendingLanes=r,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=r,s.mutableReadLanes&=r,s.entangledLanes&=r,r=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<l;){var y=31-Os(l),S=1<<y;r[y]=0,f[y]=-1,s[y]=-1,l&=~S}}function Rc(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var f=31-Os(l),y=1<<f;y&r|s[f]&r&&(s[f]|=r),l&=~y}}var pt=0;function _f(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ef,kc,Rf,kf,Pf,Pc=!1,si=[],Tn=null,Mn=null,Dn=null,zr=new Map,Br=new Map,On=[],Dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(s,r){switch(s){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":zr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(r.pointerId)}}function Ur(s,r,l,f,y,S){return s===null||s.nativeEvent!==S?(s={blockedOn:r,domEventName:l,eventSystemFlags:f,nativeEvent:S,targetContainers:[y]},r!==null&&(r=so(r),r!==null&&kc(r)),s):(s.eventSystemFlags|=f,r=s.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),s)}function Ow(s,r,l,f,y){switch(r){case"focusin":return Tn=Ur(Tn,s,r,l,f,y),!0;case"dragenter":return Mn=Ur(Mn,s,r,l,f,y),!0;case"mouseover":return Dn=Ur(Dn,s,r,l,f,y),!0;case"pointerover":var S=y.pointerId;return zr.set(S,Ur(zr.get(S)||null,s,r,l,f,y)),!0;case"gotpointercapture":return S=y.pointerId,Br.set(S,Ur(Br.get(S)||null,s,r,l,f,y)),!0}return!1}function Tf(s){var r=fa(s.target);if(r!==null){var l=ma(r);if(l!==null){if(r=l.tag,r===13){if(r=gf(l),r!==null){s.blockedOn=r,Pf(s.priority,function(){Rf(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ni(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Tc(s.domEventName,s.eventSystemFlags,r[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var f=new l.constructor(l.type,l);yc=f,l.target.dispatchEvent(f),yc=null}else return r=so(l),r!==null&&kc(r),s.blockedOn=l,!1;r.shift()}return!0}function Mf(s,r,l){ni(s)&&l.delete(r)}function Lw(){Pc=!1,Tn!==null&&ni(Tn)&&(Tn=null),Mn!==null&&ni(Mn)&&(Mn=null),Dn!==null&&ni(Dn)&&(Dn=null),zr.forEach(Mf),Br.forEach(Mf)}function Vr(s,r){s.blockedOn===r&&(s.blockedOn=null,Pc||(Pc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Lw)))}function Hr(s){function r(y){return Vr(y,s)}if(0<si.length){Vr(si[0],s);for(var l=1;l<si.length;l++){var f=si[l];f.blockedOn===s&&(f.blockedOn=null)}}for(Tn!==null&&Vr(Tn,s),Mn!==null&&Vr(Mn,s),Dn!==null&&Vr(Dn,s),zr.forEach(r),Br.forEach(r),l=0;l<On.length;l++)f=On[l],f.blockedOn===s&&(f.blockedOn=null);for(;0<On.length&&(l=On[0],l.blockedOn===null);)Tf(l),l.blockedOn===null&&On.shift()}var za=R.ReactCurrentBatchConfig,ai=!0;function $w(s,r,l,f){var y=pt,S=za.transition;za.transition=null;try{pt=1,Ac(s,r,l,f)}finally{pt=y,za.transition=S}}function Iw(s,r,l,f){var y=pt,S=za.transition;za.transition=null;try{pt=4,Ac(s,r,l,f)}finally{pt=y,za.transition=S}}function Ac(s,r,l,f){if(ai){var y=Tc(s,r,l,f);if(y===null)Yc(s,r,f,ri,l),Af(s,f);else if(Ow(y,s,r,l,f))f.stopPropagation();else if(Af(s,f),r&4&&-1<Dw.indexOf(s)){for(;y!==null;){var S=so(y);if(S!==null&&Ef(S),S=Tc(s,r,l,f),S===null&&Yc(s,r,f,ri,l),S===y)break;y=S}y!==null&&f.stopPropagation()}else Yc(s,r,f,null,l)}}var ri=null;function Tc(s,r,l,f){if(ri=null,s=jc(f),s=fa(s),s!==null)if(r=ma(s),r===null)s=null;else if(l=r.tag,l===13){if(s=gf(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null);return ri=s,null}function Df(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cw()){case Cc:return 1;case bf:return 4;case Qo:case _w:return 16;case Sf:return 536870912;default:return 16}default:return 16}}var Ln=null,Mc=null,oi=null;function Of(){if(oi)return oi;var s,r=Mc,l=r.length,f,y="value"in Ln?Ln.value:Ln.textContent,S=y.length;for(s=0;s<l&&r[s]===y[s];s++);var L=l-s;for(f=1;f<=L&&r[l-f]===y[S-f];f++);return oi=y.slice(s,1<f?1-f:void 0)}function ii(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function li(){return!0}function Lf(){return!1}function js(s){function r(l,f,y,S,L){this._reactName=l,this._targetInst=y,this.type=f,this.nativeEvent=S,this.target=L,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(l=s[W],this[W]=l?l(S):S[W]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?li:Lf,this.isPropagationStopped=Lf,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),r}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dc=js(Ba),qr=te({},Ba,{view:0,detail:0}),Fw=js(qr),Oc,Lc,Wr,ci=te({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ic,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Wr&&(Wr&&s.type==="mousemove"?(Oc=s.screenX-Wr.screenX,Lc=s.screenY-Wr.screenY):Lc=Oc=0,Wr=s),Oc)},movementY:function(s){return"movementY"in s?s.movementY:Lc}}),$f=js(ci),zw=te({},ci,{dataTransfer:0}),Bw=js(zw),Uw=te({},qr,{relatedTarget:0}),$c=js(Uw),Vw=te({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),Hw=js(Vw),qw=te({},Ba,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ww=js(qw),Kw=te({},Ba,{data:0}),If=js(Kw),Gw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qw(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Jw[s])?!!r[s]:!1}function Ic(){return Qw}var Xw=te({},qr,{key:function(s){if(s.key){var r=Gw[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ii(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yw[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ic,charCode:function(s){return s.type==="keypress"?ii(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ii(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Zw=js(Xw),eN=te({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ff=js(eN),tN=te({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ic}),sN=js(tN),nN=te({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),aN=js(nN),rN=te({},ci,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),oN=js(rN),iN=[9,13,27,32],Fc=u&&"CompositionEvent"in window,Kr=null;u&&"documentMode"in document&&(Kr=document.documentMode);var lN=u&&"TextEvent"in window&&!Kr,zf=u&&(!Fc||Kr&&8<Kr&&11>=Kr),Bf=" ",Uf=!1;function Vf(s,r){switch(s){case"keyup":return iN.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ua=!1;function cN(s,r){switch(s){case"compositionend":return Hf(r);case"keypress":return r.which!==32?null:(Uf=!0,Bf);case"textInput":return s=r.data,s===Bf&&Uf?null:s;default:return null}}function dN(s,r){if(Ua)return s==="compositionend"||!Fc&&Vf(s,r)?(s=Of(),oi=Mc=Ln=null,Ua=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return zf&&r.locale!=="ko"?null:r.data;default:return null}}var uN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!uN[s.type]:r==="textarea"}function Wf(s,r,l,f){mf(f),r=pi(r,"onChange"),0<r.length&&(l=new Dc("onChange","change",null,l,f),s.push({event:l,listeners:r}))}var Gr=null,Yr=null;function mN(s){dp(s,0)}function di(s){var r=Ka(s);if(ke(r))return s}function fN(s,r){if(s==="change")return r}var Kf=!1;if(u){var zc;if(u){var Bc="oninput"in document;if(!Bc){var Gf=document.createElement("div");Gf.setAttribute("oninput","return;"),Bc=typeof Gf.oninput=="function"}zc=Bc}else zc=!1;Kf=zc&&(!document.documentMode||9<document.documentMode)}function Yf(){Gr&&(Gr.detachEvent("onpropertychange",Jf),Yr=Gr=null)}function Jf(s){if(s.propertyName==="value"&&di(Yr)){var r=[];Wf(r,Yr,s,jc(s)),xf(mN,r)}}function pN(s,r,l){s==="focusin"?(Yf(),Gr=r,Yr=l,Gr.attachEvent("onpropertychange",Jf)):s==="focusout"&&Yf()}function hN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return di(Yr)}function xN(s,r){if(s==="click")return di(r)}function gN(s,r){if(s==="input"||s==="change")return di(r)}function vN(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Ls=typeof Object.is=="function"?Object.is:vN;function Jr(s,r){if(Ls(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),f=Object.keys(r);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var y=l[f];if(!m.call(r,y)||!Ls(s[y],r[y]))return!1}return!0}function Qf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Xf(s,r){var l=Qf(s);s=0;for(var f;l;){if(l.nodeType===3){if(f=s+l.textContent.length,s<=r&&f>=r)return{node:l,offset:r-s};s=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qf(l)}}function Zf(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Zf(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function ep(){for(var s=window,r=ze();r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=ze(s.document)}return r}function Uc(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}function yN(s){var r=ep(),l=s.focusedElem,f=s.selectionRange;if(r!==l&&l&&l.ownerDocument&&Zf(l.ownerDocument.documentElement,l)){if(f!==null&&Uc(l)){if(r=f.start,s=f.end,s===void 0&&(s=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(s,l.value.length);else if(s=(r=l.ownerDocument||document)&&r.defaultView||window,s.getSelection){s=s.getSelection();var y=l.textContent.length,S=Math.min(f.start,y);f=f.end===void 0?S:Math.min(f.end,y),!s.extend&&S>f&&(y=f,f=S,S=y),y=Xf(l,S);var L=Xf(l,f);y&&L&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==L.node||s.focusOffset!==L.offset)&&(r=r.createRange(),r.setStart(y.node,y.offset),s.removeAllRanges(),S>f?(s.addRange(r),s.extend(L.node,L.offset)):(r.setEnd(L.node,L.offset),s.addRange(r)))}}for(r=[],s=l;s=s.parentNode;)s.nodeType===1&&r.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)s=r[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jN=u&&"documentMode"in document&&11>=document.documentMode,Va=null,Vc=null,Qr=null,Hc=!1;function tp(s,r,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hc||Va==null||Va!==ze(f)||(f=Va,"selectionStart"in f&&Uc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Qr&&Jr(Qr,f)||(Qr=f,f=pi(Vc,"onSelect"),0<f.length&&(r=new Dc("onSelect","select",null,r,l),s.push({event:r,listeners:f}),r.target=Va)))}function ui(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Ha={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionend:ui("Transition","TransitionEnd")},qc={},sp={};u&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function mi(s){if(qc[s])return qc[s];if(!Ha[s])return s;var r=Ha[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in sp)return qc[s]=r[l];return s}var np=mi("animationend"),ap=mi("animationiteration"),rp=mi("animationstart"),op=mi("transitionend"),ip=new Map,lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(s,r){ip.set(s,r),c(r,[s])}for(var Wc=0;Wc<lp.length;Wc++){var Kc=lp[Wc],wN=Kc.toLowerCase(),NN=Kc[0].toUpperCase()+Kc.slice(1);$n(wN,"on"+NN)}$n(np,"onAnimationEnd"),$n(ap,"onAnimationIteration"),$n(rp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(op,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xr));function cp(s,r,l){var f=s.type||"unknown-event";s.currentTarget=l,ww(f,r,void 0,s),s.currentTarget=null}function dp(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var f=s[l],y=f.event;f=f.listeners;e:{var S=void 0;if(r)for(var L=f.length-1;0<=L;L--){var W=f[L],G=W.instance,oe=W.currentTarget;if(W=W.listener,G!==S&&y.isPropagationStopped())break e;cp(y,W,oe),S=G}else for(L=0;L<f.length;L++){if(W=f[L],G=W.instance,oe=W.currentTarget,W=W.listener,G!==S&&y.isPropagationStopped())break e;cp(y,W,oe),S=G}}}if(Jo)throw s=Sc,Jo=!1,Sc=null,s}function jt(s,r){var l=r[td];l===void 0&&(l=r[td]=new Set);var f=s+"__bubble";l.has(f)||(up(r,s,2,!1),l.add(f))}function Gc(s,r,l){var f=0;r&&(f|=4),up(l,s,f,r)}var fi="_reactListening"+Math.random().toString(36).slice(2);function Zr(s){if(!s[fi]){s[fi]=!0,o.forEach(function(l){l!=="selectionchange"&&(bN.has(l)||Gc(l,!1,s),Gc(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[fi]||(r[fi]=!0,Gc("selectionchange",!1,r))}}function up(s,r,l,f){switch(Df(r)){case 1:var y=$w;break;case 4:y=Iw;break;default:y=Ac}l=y.bind(null,r,l,s),y=void 0,!bc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(r,l,{capture:!0,passive:y}):s.addEventListener(r,l,!0):y!==void 0?s.addEventListener(r,l,{passive:y}):s.addEventListener(r,l,!1)}function Yc(s,r,l,f,y){var S=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var L=f.tag;if(L===3||L===4){var W=f.stateNode.containerInfo;if(W===y||W.nodeType===8&&W.parentNode===y)break;if(L===4)for(L=f.return;L!==null;){var G=L.tag;if((G===3||G===4)&&(G=L.stateNode.containerInfo,G===y||G.nodeType===8&&G.parentNode===y))return;L=L.return}for(;W!==null;){if(L=fa(W),L===null)return;if(G=L.tag,G===5||G===6){f=S=L;continue e}W=W.parentNode}}f=f.return}xf(function(){var oe=S,ge=jc(l),je=[];e:{var xe=ip.get(s);if(xe!==void 0){var Re=Dc,Ae=s;switch(s){case"keypress":if(ii(l)===0)break e;case"keydown":case"keyup":Re=Zw;break;case"focusin":Ae="focus",Re=$c;break;case"focusout":Ae="blur",Re=$c;break;case"beforeblur":case"afterblur":Re=$c;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=$f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Bw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=sN;break;case np:case ap:case rp:Re=Hw;break;case op:Re=aN;break;case"scroll":Re=Fw;break;case"wheel":Re=oN;break;case"copy":case"cut":case"paste":Re=Ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=Ff}var Me=(r&4)!==0,Ot=!Me&&s==="scroll",se=Me?xe!==null?xe+"Capture":null:xe;Me=[];for(var Q=oe,ae;Q!==null;){ae=Q;var Ne=ae.stateNode;if(ae.tag===5&&Ne!==null&&(ae=Ne,se!==null&&(Ne=Or(Q,se),Ne!=null&&Me.push(eo(Q,Ne,ae)))),Ot)break;Q=Q.return}0<Me.length&&(xe=new Re(xe,Ae,null,l,ge),je.push({event:xe,listeners:Me}))}}if((r&7)===0){e:{if(xe=s==="mouseover"||s==="pointerover",Re=s==="mouseout"||s==="pointerout",xe&&l!==yc&&(Ae=l.relatedTarget||l.fromElement)&&(fa(Ae)||Ae[yn]))break e;if((Re||xe)&&(xe=ge.window===ge?ge:(xe=ge.ownerDocument)?xe.defaultView||xe.parentWindow:window,Re?(Ae=l.relatedTarget||l.toElement,Re=oe,Ae=Ae?fa(Ae):null,Ae!==null&&(Ot=ma(Ae),Ae!==Ot||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Re=null,Ae=oe),Re!==Ae)){if(Me=$f,Ne="onMouseLeave",se="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(Me=Ff,Ne="onPointerLeave",se="onPointerEnter",Q="pointer"),Ot=Re==null?xe:Ka(Re),ae=Ae==null?xe:Ka(Ae),xe=new Me(Ne,Q+"leave",Re,l,ge),xe.target=Ot,xe.relatedTarget=ae,Ne=null,fa(ge)===oe&&(Me=new Me(se,Q+"enter",Ae,l,ge),Me.target=ae,Me.relatedTarget=Ot,Ne=Me),Ot=Ne,Re&&Ae)t:{for(Me=Re,se=Ae,Q=0,ae=Me;ae;ae=qa(ae))Q++;for(ae=0,Ne=se;Ne;Ne=qa(Ne))ae++;for(;0<Q-ae;)Me=qa(Me),Q--;for(;0<ae-Q;)se=qa(se),ae--;for(;Q--;){if(Me===se||se!==null&&Me===se.alternate)break t;Me=qa(Me),se=qa(se)}Me=null}else Me=null;Re!==null&&mp(je,xe,Re,Me,!1),Ae!==null&&Ot!==null&&mp(je,Ot,Ae,Me,!0)}}e:{if(xe=oe?Ka(oe):window,Re=xe.nodeName&&xe.nodeName.toLowerCase(),Re==="select"||Re==="input"&&xe.type==="file")var Oe=fN;else if(qf(xe))if(Kf)Oe=gN;else{Oe=hN;var Ie=pN}else(Re=xe.nodeName)&&Re.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Oe=xN);if(Oe&&(Oe=Oe(s,oe))){Wf(je,Oe,l,ge);break e}Ie&&Ie(s,xe,oe),s==="focusout"&&(Ie=xe._wrapperState)&&Ie.controlled&&xe.type==="number"&&_t(xe,"number",xe.value)}switch(Ie=oe?Ka(oe):window,s){case"focusin":(qf(Ie)||Ie.contentEditable==="true")&&(Va=Ie,Vc=oe,Qr=null);break;case"focusout":Qr=Vc=Va=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,tp(je,l,ge);break;case"selectionchange":if(jN)break;case"keydown":case"keyup":tp(je,l,ge)}var Fe;if(Fc)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ua?Vf(s,l)&&(Be="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(zf&&l.locale!=="ko"&&(Ua||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ua&&(Fe=Of()):(Ln=ge,Mc="value"in Ln?Ln.value:Ln.textContent,Ua=!0)),Ie=pi(oe,Be),0<Ie.length&&(Be=new If(Be,s,null,l,ge),je.push({event:Be,listeners:Ie}),Fe?Be.data=Fe:(Fe=Hf(l),Fe!==null&&(Be.data=Fe)))),(Fe=lN?cN(s,l):dN(s,l))&&(oe=pi(oe,"onBeforeInput"),0<oe.length&&(ge=new If("onBeforeInput","beforeinput",null,l,ge),je.push({event:ge,listeners:oe}),ge.data=Fe))}dp(je,r)})}function eo(s,r,l){return{instance:s,listener:r,currentTarget:l}}function pi(s,r){for(var l=r+"Capture",f=[];s!==null;){var y=s,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=Or(s,l),S!=null&&f.unshift(eo(s,S,y)),S=Or(s,r),S!=null&&f.push(eo(s,S,y))),s=s.return}return f}function qa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function mp(s,r,l,f,y){for(var S=r._reactName,L=[];l!==null&&l!==f;){var W=l,G=W.alternate,oe=W.stateNode;if(G!==null&&G===f)break;W.tag===5&&oe!==null&&(W=oe,y?(G=Or(l,S),G!=null&&L.unshift(eo(l,G,W))):y||(G=Or(l,S),G!=null&&L.push(eo(l,G,W)))),l=l.return}L.length!==0&&s.push({event:r,listeners:L})}var SN=/\r\n?/g,CN=/\u0000|\uFFFD/g;function fp(s){return(typeof s=="string"?s:""+s).replace(SN,`
`).replace(CN,"")}function hi(s,r,l){if(r=fp(r),fp(s)!==r&&l)throw Error(a(425))}function xi(){}var Jc=null,Qc=null;function Xc(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,_N=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,EN=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(s){return pp.resolve(null).then(s).catch(RN)}:Zc;function RN(s){setTimeout(function(){throw s})}function ed(s,r){var l=r,f=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(f===0){s.removeChild(y),Hr(r);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=y}while(l);Hr(r)}function In(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return s}function hp(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),Zs="__reactFiber$"+Wa,to="__reactProps$"+Wa,yn="__reactContainer$"+Wa,td="__reactEvents$"+Wa,kN="__reactListeners$"+Wa,PN="__reactHandles$"+Wa;function fa(s){var r=s[Zs];if(r)return r;for(var l=s.parentNode;l;){if(r=l[yn]||l[Zs]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=hp(s);s!==null;){if(l=s[Zs])return l;s=hp(s)}return r}s=l,l=s.parentNode}return null}function so(s){return s=s[Zs]||s[yn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ka(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(a(33))}function gi(s){return s[to]||null}var sd=[],Ga=-1;function Fn(s){return{current:s}}function wt(s){0>Ga||(s.current=sd[Ga],sd[Ga]=null,Ga--)}function yt(s,r){Ga++,sd[Ga]=s.current,s.current=r}var zn={},Jt=Fn(zn),us=Fn(!1),pa=zn;function Ya(s,r){var l=s.type.contextTypes;if(!l)return zn;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===r)return f.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in l)y[S]=r[S];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=r,s.__reactInternalMemoizedMaskedChildContext=y),y}function ms(s){return s=s.childContextTypes,s!=null}function vi(){wt(us),wt(Jt)}function xp(s,r,l){if(Jt.current!==zn)throw Error(a(168));yt(Jt,r),yt(us,l)}function gp(s,r,l){var f=s.stateNode;if(r=r.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var y in f)if(!(y in r))throw Error(a(108,ee(s)||"Unknown",y));return te({},l,f)}function yi(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||zn,pa=Jt.current,yt(Jt,s),yt(us,us.current),!0}function vp(s,r,l){var f=s.stateNode;if(!f)throw Error(a(169));l?(s=gp(s,r,pa),f.__reactInternalMemoizedMergedChildContext=s,wt(us),wt(Jt),yt(Jt,s)):wt(us),yt(us,l)}var jn=null,ji=!1,nd=!1;function yp(s){jn===null?jn=[s]:jn.push(s)}function AN(s){ji=!0,yp(s)}function Bn(){if(!nd&&jn!==null){nd=!0;var s=0,r=pt;try{var l=jn;for(pt=1;s<l.length;s++){var f=l[s];do f=f(!0);while(f!==null)}jn=null,ji=!1}catch(y){throw jn!==null&&(jn=jn.slice(s+1)),wf(Cc,Bn),y}finally{pt=r,nd=!1}}return null}var Ja=[],Qa=0,wi=null,Ni=0,_s=[],Es=0,ha=null,wn=1,Nn="";function xa(s,r){Ja[Qa++]=Ni,Ja[Qa++]=wi,wi=s,Ni=r}function jp(s,r,l){_s[Es++]=wn,_s[Es++]=Nn,_s[Es++]=ha,ha=s;var f=wn;s=Nn;var y=32-Os(f)-1;f&=~(1<<y),l+=1;var S=32-Os(r)+y;if(30<S){var L=y-y%5;S=(f&(1<<L)-1).toString(32),f>>=L,y-=L,wn=1<<32-Os(r)+y|l<<y|f,Nn=S+s}else wn=1<<S|l<<y|f,Nn=s}function ad(s){s.return!==null&&(xa(s,1),jp(s,1,0))}function rd(s){for(;s===wi;)wi=Ja[--Qa],Ja[Qa]=null,Ni=Ja[--Qa],Ja[Qa]=null;for(;s===ha;)ha=_s[--Es],_s[Es]=null,Nn=_s[--Es],_s[Es]=null,wn=_s[--Es],_s[Es]=null}var ws=null,Ns=null,bt=!1,$s=null;function wp(s,r){var l=As(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=s,r=s.deletions,r===null?(s.deletions=[l],s.flags|=16):r.push(l)}function Np(s,r){switch(s.tag){case 5:var l=s.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(s.stateNode=r,ws=s,Ns=In(r.firstChild),!0):!1;case 6:return r=s.pendingProps===""||r.nodeType!==3?null:r,r!==null?(s.stateNode=r,ws=s,Ns=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=ha!==null?{id:wn,overflow:Nn}:null,s.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=As(18,null,null,0),l.stateNode=r,l.return=s,s.child=l,ws=s,Ns=null,!0):!1;default:return!1}}function od(s){return(s.mode&1)!==0&&(s.flags&128)===0}function id(s){if(bt){var r=Ns;if(r){var l=r;if(!Np(s,r)){if(od(s))throw Error(a(418));r=In(l.nextSibling);var f=ws;r&&Np(s,r)?wp(f,l):(s.flags=s.flags&-4097|2,bt=!1,ws=s)}}else{if(od(s))throw Error(a(418));s.flags=s.flags&-4097|2,bt=!1,ws=s}}}function bp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;ws=s}function bi(s){if(s!==ws)return!1;if(!bt)return bp(s),bt=!0,!1;var r;if((r=s.tag!==3)&&!(r=s.tag!==5)&&(r=s.type,r=r!=="head"&&r!=="body"&&!Xc(s.type,s.memoizedProps)),r&&(r=Ns)){if(od(s))throw Sp(),Error(a(418));for(;r;)wp(s,r),r=In(r.nextSibling)}if(bp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(a(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(r===0){Ns=In(s.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}s=s.nextSibling}Ns=null}}else Ns=ws?In(s.stateNode.nextSibling):null;return!0}function Sp(){for(var s=Ns;s;)s=In(s.nextSibling)}function Xa(){Ns=ws=null,bt=!1}function ld(s){$s===null?$s=[s]:$s.push(s)}var TN=R.ReactCurrentBatchConfig;function no(s,r,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(a(309));var f=l.stateNode}if(!f)throw Error(a(147,s));var y=f,S=""+s;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===S?r.ref:(r=function(L){var W=y.refs;L===null?delete W[S]:W[S]=L},r._stringRef=S,r)}if(typeof s!="string")throw Error(a(284));if(!l._owner)throw Error(a(290,s))}return s}function Si(s,r){throw s=Object.prototype.toString.call(r),Error(a(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s))}function Cp(s){var r=s._init;return r(s._payload)}function _p(s){function r(se,Q){if(s){var ae=se.deletions;ae===null?(se.deletions=[Q],se.flags|=16):ae.push(Q)}}function l(se,Q){if(!s)return null;for(;Q!==null;)r(se,Q),Q=Q.sibling;return null}function f(se,Q){for(se=new Map;Q!==null;)Q.key!==null?se.set(Q.key,Q):se.set(Q.index,Q),Q=Q.sibling;return se}function y(se,Q){return se=Yn(se,Q),se.index=0,se.sibling=null,se}function S(se,Q,ae){return se.index=ae,s?(ae=se.alternate,ae!==null?(ae=ae.index,ae<Q?(se.flags|=2,Q):ae):(se.flags|=2,Q)):(se.flags|=1048576,Q)}function L(se){return s&&se.alternate===null&&(se.flags|=2),se}function W(se,Q,ae,Ne){return Q===null||Q.tag!==6?(Q=Zd(ae,se.mode,Ne),Q.return=se,Q):(Q=y(Q,ae),Q.return=se,Q)}function G(se,Q,ae,Ne){var Oe=ae.type;return Oe===T?ge(se,Q,ae.props.children,Ne,ae.key):Q!==null&&(Q.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===D&&Cp(Oe)===Q.type)?(Ne=y(Q,ae.props),Ne.ref=no(se,Q,ae),Ne.return=se,Ne):(Ne=Gi(ae.type,ae.key,ae.props,null,se.mode,Ne),Ne.ref=no(se,Q,ae),Ne.return=se,Ne)}function oe(se,Q,ae,Ne){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?(Q=eu(ae,se.mode,Ne),Q.return=se,Q):(Q=y(Q,ae.children||[]),Q.return=se,Q)}function ge(se,Q,ae,Ne,Oe){return Q===null||Q.tag!==7?(Q=Sa(ae,se.mode,Ne,Oe),Q.return=se,Q):(Q=y(Q,ae),Q.return=se,Q)}function je(se,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Zd(""+Q,se.mode,ae),Q.return=se,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return ae=Gi(Q.type,Q.key,Q.props,null,se.mode,ae),ae.ref=no(se,null,Q),ae.return=se,ae;case P:return Q=eu(Q,se.mode,ae),Q.return=se,Q;case D:var Ne=Q._init;return je(se,Ne(Q._payload),ae)}if(Yt(Q)||X(Q))return Q=Sa(Q,se.mode,ae,null),Q.return=se,Q;Si(se,Q)}return null}function xe(se,Q,ae,Ne){var Oe=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Oe!==null?null:W(se,Q,""+ae,Ne);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return ae.key===Oe?G(se,Q,ae,Ne):null;case P:return ae.key===Oe?oe(se,Q,ae,Ne):null;case D:return Oe=ae._init,xe(se,Q,Oe(ae._payload),Ne)}if(Yt(ae)||X(ae))return Oe!==null?null:ge(se,Q,ae,Ne,null);Si(se,ae)}return null}function Re(se,Q,ae,Ne,Oe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return se=se.get(ae)||null,W(Q,se,""+Ne,Oe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case A:return se=se.get(Ne.key===null?ae:Ne.key)||null,G(Q,se,Ne,Oe);case P:return se=se.get(Ne.key===null?ae:Ne.key)||null,oe(Q,se,Ne,Oe);case D:var Ie=Ne._init;return Re(se,Q,ae,Ie(Ne._payload),Oe)}if(Yt(Ne)||X(Ne))return se=se.get(ae)||null,ge(Q,se,Ne,Oe,null);Si(Q,Ne)}return null}function Ae(se,Q,ae,Ne){for(var Oe=null,Ie=null,Fe=Q,Be=Q=0,qt=null;Fe!==null&&Be<ae.length;Be++){Fe.index>Be?(qt=Fe,Fe=null):qt=Fe.sibling;var it=xe(se,Fe,ae[Be],Ne);if(it===null){Fe===null&&(Fe=qt);break}s&&Fe&&it.alternate===null&&r(se,Fe),Q=S(it,Q,Be),Ie===null?Oe=it:Ie.sibling=it,Ie=it,Fe=qt}if(Be===ae.length)return l(se,Fe),bt&&xa(se,Be),Oe;if(Fe===null){for(;Be<ae.length;Be++)Fe=je(se,ae[Be],Ne),Fe!==null&&(Q=S(Fe,Q,Be),Ie===null?Oe=Fe:Ie.sibling=Fe,Ie=Fe);return bt&&xa(se,Be),Oe}for(Fe=f(se,Fe);Be<ae.length;Be++)qt=Re(Fe,se,Be,ae[Be],Ne),qt!==null&&(s&&qt.alternate!==null&&Fe.delete(qt.key===null?Be:qt.key),Q=S(qt,Q,Be),Ie===null?Oe=qt:Ie.sibling=qt,Ie=qt);return s&&Fe.forEach(function(Jn){return r(se,Jn)}),bt&&xa(se,Be),Oe}function Me(se,Q,ae,Ne){var Oe=X(ae);if(typeof Oe!="function")throw Error(a(150));if(ae=Oe.call(ae),ae==null)throw Error(a(151));for(var Ie=Oe=null,Fe=Q,Be=Q=0,qt=null,it=ae.next();Fe!==null&&!it.done;Be++,it=ae.next()){Fe.index>Be?(qt=Fe,Fe=null):qt=Fe.sibling;var Jn=xe(se,Fe,it.value,Ne);if(Jn===null){Fe===null&&(Fe=qt);break}s&&Fe&&Jn.alternate===null&&r(se,Fe),Q=S(Jn,Q,Be),Ie===null?Oe=Jn:Ie.sibling=Jn,Ie=Jn,Fe=qt}if(it.done)return l(se,Fe),bt&&xa(se,Be),Oe;if(Fe===null){for(;!it.done;Be++,it=ae.next())it=je(se,it.value,Ne),it!==null&&(Q=S(it,Q,Be),Ie===null?Oe=it:Ie.sibling=it,Ie=it);return bt&&xa(se,Be),Oe}for(Fe=f(se,Fe);!it.done;Be++,it=ae.next())it=Re(Fe,se,Be,it.value,Ne),it!==null&&(s&&it.alternate!==null&&Fe.delete(it.key===null?Be:it.key),Q=S(it,Q,Be),Ie===null?Oe=it:Ie.sibling=it,Ie=it);return s&&Fe.forEach(function(ub){return r(se,ub)}),bt&&xa(se,Be),Oe}function Ot(se,Q,ae,Ne){if(typeof ae=="object"&&ae!==null&&ae.type===T&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:e:{for(var Oe=ae.key,Ie=Q;Ie!==null;){if(Ie.key===Oe){if(Oe=ae.type,Oe===T){if(Ie.tag===7){l(se,Ie.sibling),Q=y(Ie,ae.props.children),Q.return=se,se=Q;break e}}else if(Ie.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===D&&Cp(Oe)===Ie.type){l(se,Ie.sibling),Q=y(Ie,ae.props),Q.ref=no(se,Ie,ae),Q.return=se,se=Q;break e}l(se,Ie);break}else r(se,Ie);Ie=Ie.sibling}ae.type===T?(Q=Sa(ae.props.children,se.mode,Ne,ae.key),Q.return=se,se=Q):(Ne=Gi(ae.type,ae.key,ae.props,null,se.mode,Ne),Ne.ref=no(se,Q,ae),Ne.return=se,se=Ne)}return L(se);case P:e:{for(Ie=ae.key;Q!==null;){if(Q.key===Ie)if(Q.tag===4&&Q.stateNode.containerInfo===ae.containerInfo&&Q.stateNode.implementation===ae.implementation){l(se,Q.sibling),Q=y(Q,ae.children||[]),Q.return=se,se=Q;break e}else{l(se,Q);break}else r(se,Q);Q=Q.sibling}Q=eu(ae,se.mode,Ne),Q.return=se,se=Q}return L(se);case D:return Ie=ae._init,Ot(se,Q,Ie(ae._payload),Ne)}if(Yt(ae))return Ae(se,Q,ae,Ne);if(X(ae))return Me(se,Q,ae,Ne);Si(se,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,Q!==null&&Q.tag===6?(l(se,Q.sibling),Q=y(Q,ae),Q.return=se,se=Q):(l(se,Q),Q=Zd(ae,se.mode,Ne),Q.return=se,se=Q),L(se)):l(se,Q)}return Ot}var Za=_p(!0),Ep=_p(!1),Ci=Fn(null),_i=null,er=null,cd=null;function dd(){cd=er=_i=null}function ud(s){var r=Ci.current;wt(Ci),s._currentValue=r}function md(s,r,l){for(;s!==null;){var f=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),s===l)break;s=s.return}}function tr(s,r){_i=s,cd=er=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&r)!==0&&(fs=!0),s.firstContext=null)}function Rs(s){var r=s._currentValue;if(cd!==s)if(s={context:s,memoizedValue:r,next:null},er===null){if(_i===null)throw Error(a(308));er=s,_i.dependencies={lanes:0,firstContext:s}}else er=er.next=s;return r}var ga=null;function fd(s){ga===null?ga=[s]:ga.push(s)}function Rp(s,r,l,f){var y=r.interleaved;return y===null?(l.next=l,fd(r)):(l.next=y.next,y.next=l),r.interleaved=l,bn(s,f)}function bn(s,r){s.lanes|=r;var l=s.alternate;for(l!==null&&(l.lanes|=r),l=s,s=s.return;s!==null;)s.childLanes|=r,l=s.alternate,l!==null&&(l.childLanes|=r),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Un=!1;function pd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kp(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Sn(s,r){return{eventTime:s,lane:r,tag:0,payload:null,callback:null,next:null}}function Vn(s,r,l){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(at&2)!==0){var y=f.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),f.pending=r,bn(s,l)}return y=f.interleaved,y===null?(r.next=r,fd(f)):(r.next=y.next,y.next=r),f.interleaved=r,bn(s,l)}function Ei(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,Rc(s,l)}}function Pp(s,r){var l=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var y=null,S=null;if(l=l.firstBaseUpdate,l!==null){do{var L={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};S===null?y=S=L:S=S.next=L,l=l.next}while(l!==null);S===null?y=S=r:S=S.next=r}else y=S=r;l={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:f.shared,effects:f.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}function Ri(s,r,l,f){var y=s.updateQueue;Un=!1;var S=y.firstBaseUpdate,L=y.lastBaseUpdate,W=y.shared.pending;if(W!==null){y.shared.pending=null;var G=W,oe=G.next;G.next=null,L===null?S=oe:L.next=oe,L=G;var ge=s.alternate;ge!==null&&(ge=ge.updateQueue,W=ge.lastBaseUpdate,W!==L&&(W===null?ge.firstBaseUpdate=oe:W.next=oe,ge.lastBaseUpdate=G))}if(S!==null){var je=y.baseState;L=0,ge=oe=G=null,W=S;do{var xe=W.lane,Re=W.eventTime;if((f&xe)===xe){ge!==null&&(ge=ge.next={eventTime:Re,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Ae=s,Me=W;switch(xe=r,Re=l,Me.tag){case 1:if(Ae=Me.payload,typeof Ae=="function"){je=Ae.call(Re,je,xe);break e}je=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Me.payload,xe=typeof Ae=="function"?Ae.call(Re,je,xe):Ae,xe==null)break e;je=te({},je,xe);break e;case 2:Un=!0}}W.callback!==null&&W.lane!==0&&(s.flags|=64,xe=y.effects,xe===null?y.effects=[W]:xe.push(W))}else Re={eventTime:Re,lane:xe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ge===null?(oe=ge=Re,G=je):ge=ge.next=Re,L|=xe;if(W=W.next,W===null){if(W=y.shared.pending,W===null)break;xe=W,W=xe.next,xe.next=null,y.lastBaseUpdate=xe,y.shared.pending=null}}while(!0);if(ge===null&&(G=je),y.baseState=G,y.firstBaseUpdate=oe,y.lastBaseUpdate=ge,r=y.shared.interleaved,r!==null){y=r;do L|=y.lane,y=y.next;while(y!==r)}else S===null&&(y.shared.lanes=0);ja|=L,s.lanes=L,s.memoizedState=je}}function Ap(s,r,l){if(s=r.effects,r.effects=null,s!==null)for(r=0;r<s.length;r++){var f=s[r],y=f.callback;if(y!==null){if(f.callback=null,f=l,typeof y!="function")throw Error(a(191,y));y.call(f)}}}var ao={},en=Fn(ao),ro=Fn(ao),oo=Fn(ao);function va(s){if(s===ao)throw Error(a(174));return s}function hd(s,r){switch(yt(oo,r),yt(ro,s),yt(en,ao),s=r.nodeType,s){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Se(null,"");break;default:s=s===8?r.parentNode:r,r=s.namespaceURI||null,s=s.tagName,r=Se(r,s)}wt(en),yt(en,r)}function sr(){wt(en),wt(ro),wt(oo)}function Tp(s){va(oo.current);var r=va(en.current),l=Se(r,s.type);r!==l&&(yt(ro,s),yt(en,l))}function xd(s){ro.current===s&&(wt(en),wt(ro))}var Et=Fn(0);function ki(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gd=[];function vd(){for(var s=0;s<gd.length;s++)gd[s]._workInProgressVersionPrimary=null;gd.length=0}var Pi=R.ReactCurrentDispatcher,yd=R.ReactCurrentBatchConfig,ya=0,Rt=null,zt=null,Vt=null,Ai=!1,io=!1,lo=0,MN=0;function Qt(){throw Error(a(321))}function jd(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!Ls(s[l],r[l]))return!1;return!0}function wd(s,r,l,f,y,S){if(ya=S,Rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Pi.current=s===null||s.memoizedState===null?$N:IN,s=l(f,y),io){S=0;do{if(io=!1,lo=0,25<=S)throw Error(a(301));S+=1,Vt=zt=null,r.updateQueue=null,Pi.current=FN,s=l(f,y)}while(io)}if(Pi.current=Di,r=zt!==null&&zt.next!==null,ya=0,Vt=zt=Rt=null,Ai=!1,r)throw Error(a(300));return s}function Nd(){var s=lo!==0;return lo=0,s}function tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Rt.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function ks(){if(zt===null){var s=Rt.alternate;s=s!==null?s.memoizedState:null}else s=zt.next;var r=Vt===null?Rt.memoizedState:Vt.next;if(r!==null)Vt=r,zt=s;else{if(s===null)throw Error(a(310));zt=s,s={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Vt===null?Rt.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function co(s,r){return typeof r=="function"?r(s):r}function bd(s){var r=ks(),l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=zt,y=f.baseQueue,S=l.pending;if(S!==null){if(y!==null){var L=y.next;y.next=S.next,S.next=L}f.baseQueue=y=S,l.pending=null}if(y!==null){S=y.next,f=f.baseState;var W=L=null,G=null,oe=S;do{var ge=oe.lane;if((ya&ge)===ge)G!==null&&(G=G.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),f=oe.hasEagerState?oe.eagerState:s(f,oe.action);else{var je={lane:ge,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};G===null?(W=G=je,L=f):G=G.next=je,Rt.lanes|=ge,ja|=ge}oe=oe.next}while(oe!==null&&oe!==S);G===null?L=f:G.next=W,Ls(f,r.memoizedState)||(fs=!0),r.memoizedState=f,r.baseState=L,r.baseQueue=G,l.lastRenderedState=f}if(s=l.interleaved,s!==null){y=s;do S=y.lane,Rt.lanes|=S,ja|=S,y=y.next;while(y!==s)}else y===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function Sd(s){var r=ks(),l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=l.dispatch,y=l.pending,S=r.memoizedState;if(y!==null){l.pending=null;var L=y=y.next;do S=s(S,L.action),L=L.next;while(L!==y);Ls(S,r.memoizedState)||(fs=!0),r.memoizedState=S,r.baseQueue===null&&(r.baseState=S),l.lastRenderedState=S}return[S,f]}function Mp(){}function Dp(s,r){var l=Rt,f=ks(),y=r(),S=!Ls(f.memoizedState,y);if(S&&(f.memoizedState=y,fs=!0),f=f.queue,Cd($p.bind(null,l,f,s),[s]),f.getSnapshot!==r||S||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,uo(9,Lp.bind(null,l,f,y,r),void 0,null),Ht===null)throw Error(a(349));(ya&30)!==0||Op(l,r,y)}return y}function Op(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Rt.updateQueue,r===null?(r={lastEffect:null,stores:null},Rt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function Lp(s,r,l,f){r.value=l,r.getSnapshot=f,Ip(r)&&Fp(s)}function $p(s,r,l){return l(function(){Ip(r)&&Fp(s)})}function Ip(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!Ls(s,l)}catch{return!0}}function Fp(s){var r=bn(s,1);r!==null&&Bs(r,s,1,-1)}function zp(s){var r=tn();return typeof s=="function"&&(s=s()),r.memoizedState=r.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:s},r.queue=s,s=s.dispatch=LN.bind(null,Rt,s),[r.memoizedState,s]}function uo(s,r,l,f){return s={tag:s,create:r,destroy:l,deps:f,next:null},r=Rt.updateQueue,r===null?(r={lastEffect:null,stores:null},Rt.updateQueue=r,r.lastEffect=s.next=s):(l=r.lastEffect,l===null?r.lastEffect=s.next=s:(f=l.next,l.next=s,s.next=f,r.lastEffect=s)),s}function Bp(){return ks().memoizedState}function Ti(s,r,l,f){var y=tn();Rt.flags|=s,y.memoizedState=uo(1|r,l,void 0,f===void 0?null:f)}function Mi(s,r,l,f){var y=ks();f=f===void 0?null:f;var S=void 0;if(zt!==null){var L=zt.memoizedState;if(S=L.destroy,f!==null&&jd(f,L.deps)){y.memoizedState=uo(r,l,S,f);return}}Rt.flags|=s,y.memoizedState=uo(1|r,l,S,f)}function Up(s,r){return Ti(8390656,8,s,r)}function Cd(s,r){return Mi(2048,8,s,r)}function Vp(s,r){return Mi(4,2,s,r)}function Hp(s,r){return Mi(4,4,s,r)}function qp(s,r){if(typeof r=="function")return s=s(),r(s),function(){r(null)};if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Wp(s,r,l){return l=l!=null?l.concat([s]):null,Mi(4,4,qp.bind(null,r,s),l)}function _d(){}function Kp(s,r){var l=ks();r=r===void 0?null:r;var f=l.memoizedState;return f!==null&&r!==null&&jd(r,f[1])?f[0]:(l.memoizedState=[s,r],s)}function Gp(s,r){var l=ks();r=r===void 0?null:r;var f=l.memoizedState;return f!==null&&r!==null&&jd(r,f[1])?f[0]:(s=s(),l.memoizedState=[s,r],s)}function Yp(s,r,l){return(ya&21)===0?(s.baseState&&(s.baseState=!1,fs=!0),s.memoizedState=l):(Ls(l,r)||(l=Cf(),Rt.lanes|=l,ja|=l,s.baseState=!0),r)}function DN(s,r){var l=pt;pt=l!==0&&4>l?l:4,s(!0);var f=yd.transition;yd.transition={};try{s(!1),r()}finally{pt=l,yd.transition=f}}function Jp(){return ks().memoizedState}function ON(s,r,l){var f=Kn(s);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Qp(s))Xp(r,l);else if(l=Rp(s,r,l,f),l!==null){var y=rs();Bs(l,s,f,y),Zp(l,r,f)}}function LN(s,r,l){var f=Kn(s),y={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qp(s))Xp(r,y);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=r.lastRenderedReducer,S!==null))try{var L=r.lastRenderedState,W=S(L,l);if(y.hasEagerState=!0,y.eagerState=W,Ls(W,L)){var G=r.interleaved;G===null?(y.next=y,fd(r)):(y.next=G.next,G.next=y),r.interleaved=y;return}}catch{}finally{}l=Rp(s,r,y,f),l!==null&&(y=rs(),Bs(l,s,f,y),Zp(l,r,f))}}function Qp(s){var r=s.alternate;return s===Rt||r!==null&&r===Rt}function Xp(s,r){io=Ai=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function Zp(s,r,l){if((l&4194240)!==0){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,Rc(s,l)}}var Di={readContext:Rs,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},$N={readContext:Rs,useCallback:function(s,r){return tn().memoizedState=[s,r===void 0?null:r],s},useContext:Rs,useEffect:Up,useImperativeHandle:function(s,r,l){return l=l!=null?l.concat([s]):null,Ti(4194308,4,qp.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Ti(4194308,4,s,r)},useInsertionEffect:function(s,r){return Ti(4,2,s,r)},useMemo:function(s,r){var l=tn();return r=r===void 0?null:r,s=s(),l.memoizedState=[s,r],s},useReducer:function(s,r,l){var f=tn();return r=l!==void 0?l(r):r,f.memoizedState=f.baseState=r,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:r},f.queue=s,s=s.dispatch=ON.bind(null,Rt,s),[f.memoizedState,s]},useRef:function(s){var r=tn();return s={current:s},r.memoizedState=s},useState:zp,useDebugValue:_d,useDeferredValue:function(s){return tn().memoizedState=s},useTransition:function(){var s=zp(!1),r=s[0];return s=DN.bind(null,s[1]),tn().memoizedState=s,[r,s]},useMutableSource:function(){},useSyncExternalStore:function(s,r,l){var f=Rt,y=tn();if(bt){if(l===void 0)throw Error(a(407));l=l()}else{if(l=r(),Ht===null)throw Error(a(349));(ya&30)!==0||Op(f,r,l)}y.memoizedState=l;var S={value:l,getSnapshot:r};return y.queue=S,Up($p.bind(null,f,S,s),[s]),f.flags|=2048,uo(9,Lp.bind(null,f,S,l,r),void 0,null),l},useId:function(){var s=tn(),r=Ht.identifierPrefix;if(bt){var l=Nn,f=wn;l=(f&~(1<<32-Os(f)-1)).toString(32)+l,r=":"+r+"R"+l,l=lo++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=MN++,r=":"+r+"r"+l.toString(32)+":";return s.memoizedState=r},unstable_isNewReconciler:!1},IN={readContext:Rs,useCallback:Kp,useContext:Rs,useEffect:Cd,useImperativeHandle:Wp,useInsertionEffect:Vp,useLayoutEffect:Hp,useMemo:Gp,useReducer:bd,useRef:Bp,useState:function(){return bd(co)},useDebugValue:_d,useDeferredValue:function(s){var r=ks();return Yp(r,zt.memoizedState,s)},useTransition:function(){var s=bd(co)[0],r=ks().memoizedState;return[s,r]},useMutableSource:Mp,useSyncExternalStore:Dp,useId:Jp,unstable_isNewReconciler:!1},FN={readContext:Rs,useCallback:Kp,useContext:Rs,useEffect:Cd,useImperativeHandle:Wp,useInsertionEffect:Vp,useLayoutEffect:Hp,useMemo:Gp,useReducer:Sd,useRef:Bp,useState:function(){return Sd(co)},useDebugValue:_d,useDeferredValue:function(s){var r=ks();return zt===null?r.memoizedState=s:Yp(r,zt.memoizedState,s)},useTransition:function(){var s=Sd(co)[0],r=ks().memoizedState;return[s,r]},useMutableSource:Mp,useSyncExternalStore:Dp,useId:Jp,unstable_isNewReconciler:!1};function Is(s,r){if(s&&s.defaultProps){r=te({},r),s=s.defaultProps;for(var l in s)r[l]===void 0&&(r[l]=s[l]);return r}return r}function Ed(s,r,l,f){r=s.memoizedState,l=l(f,r),l=l==null?r:te({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Oi={isMounted:function(s){return(s=s._reactInternals)?ma(s)===s:!1},enqueueSetState:function(s,r,l){s=s._reactInternals;var f=rs(),y=Kn(s),S=Sn(f,y);S.payload=r,l!=null&&(S.callback=l),r=Vn(s,S,y),r!==null&&(Bs(r,s,y,f),Ei(r,s,y))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var f=rs(),y=Kn(s),S=Sn(f,y);S.tag=1,S.payload=r,l!=null&&(S.callback=l),r=Vn(s,S,y),r!==null&&(Bs(r,s,y,f),Ei(r,s,y))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=rs(),f=Kn(s),y=Sn(l,f);y.tag=2,r!=null&&(y.callback=r),r=Vn(s,y,f),r!==null&&(Bs(r,s,f,l),Ei(r,s,f))}};function eh(s,r,l,f,y,S,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,S,L):r.prototype&&r.prototype.isPureReactComponent?!Jr(l,f)||!Jr(y,S):!0}function th(s,r,l){var f=!1,y=zn,S=r.contextType;return typeof S=="object"&&S!==null?S=Rs(S):(y=ms(r)?pa:Jt.current,f=r.contextTypes,S=(f=f!=null)?Ya(s,y):zn),r=new r(l,S),s.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Oi,s.stateNode=r,r._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=S),r}function sh(s,r,l,f){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,f),r.state!==s&&Oi.enqueueReplaceState(r,r.state,null)}function Rd(s,r,l,f){var y=s.stateNode;y.props=l,y.state=s.memoizedState,y.refs={},pd(s);var S=r.contextType;typeof S=="object"&&S!==null?y.context=Rs(S):(S=ms(r)?pa:Jt.current,y.context=Ya(s,S)),y.state=s.memoizedState,S=r.getDerivedStateFromProps,typeof S=="function"&&(Ed(s,r,S,l),y.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(r=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),r!==y.state&&Oi.enqueueReplaceState(y,y.state,null),Ri(s,l,y,f),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function nr(s,r){try{var l="",f=r;do l+=U(f),f=f.return;while(f);var y=l}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:r,stack:y,digest:null}}function kd(s,r,l){return{value:s,source:null,stack:l??null,digest:r??null}}function Pd(s,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var zN=typeof WeakMap=="function"?WeakMap:Map;function nh(s,r,l){l=Sn(-1,l),l.tag=3,l.payload={element:null};var f=r.value;return l.callback=function(){Ui||(Ui=!0,qd=f),Pd(s,r)},l}function ah(s,r,l){l=Sn(-1,l),l.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var y=r.value;l.payload=function(){return f(y)},l.callback=function(){Pd(s,r)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(l.callback=function(){Pd(s,r),typeof f!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var L=r.stack;this.componentDidCatch(r.value,{componentStack:L!==null?L:""})}),l}function rh(s,r,l){var f=s.pingCache;if(f===null){f=s.pingCache=new zN;var y=new Set;f.set(r,y)}else y=f.get(r),y===void 0&&(y=new Set,f.set(r,y));y.has(l)||(y.add(l),s=eb.bind(null,s,r,l),r.then(s,s))}function oh(s){do{var r;if((r=s.tag===13)&&(r=s.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return s;s=s.return}while(s!==null);return null}function ih(s,r,l,f,y){return(s.mode&1)===0?(s===r?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=Sn(-1,1),r.tag=2,Vn(l,r,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var BN=R.ReactCurrentOwner,fs=!1;function as(s,r,l,f){r.child=s===null?Ep(r,null,l,f):Za(r,s.child,l,f)}function lh(s,r,l,f,y){l=l.render;var S=r.ref;return tr(r,y),f=wd(s,r,l,f,S,y),l=Nd(),s!==null&&!fs?(r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~y,Cn(s,r,y)):(bt&&l&&ad(r),r.flags|=1,as(s,r,f,y),r.child)}function ch(s,r,l,f,y){if(s===null){var S=l.type;return typeof S=="function"&&!Xd(S)&&S.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=S,dh(s,r,S,f,y)):(s=Gi(l.type,null,f,r,r.mode,y),s.ref=r.ref,s.return=r,r.child=s)}if(S=s.child,(s.lanes&y)===0){var L=S.memoizedProps;if(l=l.compare,l=l!==null?l:Jr,l(L,f)&&s.ref===r.ref)return Cn(s,r,y)}return r.flags|=1,s=Yn(S,f),s.ref=r.ref,s.return=r,r.child=s}function dh(s,r,l,f,y){if(s!==null){var S=s.memoizedProps;if(Jr(S,f)&&s.ref===r.ref)if(fs=!1,r.pendingProps=f=S,(s.lanes&y)!==0)(s.flags&131072)!==0&&(fs=!0);else return r.lanes=s.lanes,Cn(s,r,y)}return Ad(s,r,l,f,y)}function uh(s,r,l){var f=r.pendingProps,y=f.children,S=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(rr,bs),bs|=l;else{if((l&1073741824)===0)return s=S!==null?S.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:s,cachePool:null,transitions:null},r.updateQueue=null,yt(rr,bs),bs|=s,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=S!==null?S.baseLanes:l,yt(rr,bs),bs|=f}else S!==null?(f=S.baseLanes|l,r.memoizedState=null):f=l,yt(rr,bs),bs|=f;return as(s,r,y,l),r.child}function mh(s,r){var l=r.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function Ad(s,r,l,f,y){var S=ms(l)?pa:Jt.current;return S=Ya(r,S),tr(r,y),l=wd(s,r,l,f,S,y),f=Nd(),s!==null&&!fs?(r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~y,Cn(s,r,y)):(bt&&f&&ad(r),r.flags|=1,as(s,r,l,y),r.child)}function fh(s,r,l,f,y){if(ms(l)){var S=!0;yi(r)}else S=!1;if(tr(r,y),r.stateNode===null)$i(s,r),th(r,l,f),Rd(r,l,f,y),f=!0;else if(s===null){var L=r.stateNode,W=r.memoizedProps;L.props=W;var G=L.context,oe=l.contextType;typeof oe=="object"&&oe!==null?oe=Rs(oe):(oe=ms(l)?pa:Jt.current,oe=Ya(r,oe));var ge=l.getDerivedStateFromProps,je=typeof ge=="function"||typeof L.getSnapshotBeforeUpdate=="function";je||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(W!==f||G!==oe)&&sh(r,L,f,oe),Un=!1;var xe=r.memoizedState;L.state=xe,Ri(r,f,L,y),G=r.memoizedState,W!==f||xe!==G||us.current||Un?(typeof ge=="function"&&(Ed(r,l,ge,f),G=r.memoizedState),(W=Un||eh(r,l,W,f,xe,G,oe))?(je||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(r.flags|=4194308)):(typeof L.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=G),L.props=f,L.state=G,L.context=oe,f=W):(typeof L.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{L=r.stateNode,kp(s,r),W=r.memoizedProps,oe=r.type===r.elementType?W:Is(r.type,W),L.props=oe,je=r.pendingProps,xe=L.context,G=l.contextType,typeof G=="object"&&G!==null?G=Rs(G):(G=ms(l)?pa:Jt.current,G=Ya(r,G));var Re=l.getDerivedStateFromProps;(ge=typeof Re=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(W!==je||xe!==G)&&sh(r,L,f,G),Un=!1,xe=r.memoizedState,L.state=xe,Ri(r,f,L,y);var Ae=r.memoizedState;W!==je||xe!==Ae||us.current||Un?(typeof Re=="function"&&(Ed(r,l,Re,f),Ae=r.memoizedState),(oe=Un||eh(r,l,oe,f,xe,Ae,G)||!1)?(ge||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(f,Ae,G),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(f,Ae,G)),typeof L.componentDidUpdate=="function"&&(r.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof L.componentDidUpdate!="function"||W===s.memoizedProps&&xe===s.memoizedState||(r.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&xe===s.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=Ae),L.props=f,L.state=Ae,L.context=G,f=oe):(typeof L.componentDidUpdate!="function"||W===s.memoizedProps&&xe===s.memoizedState||(r.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&xe===s.memoizedState||(r.flags|=1024),f=!1)}return Td(s,r,l,f,S,y)}function Td(s,r,l,f,y,S){mh(s,r);var L=(r.flags&128)!==0;if(!f&&!L)return y&&vp(r,l,!1),Cn(s,r,S);f=r.stateNode,BN.current=r;var W=L&&typeof l.getDerivedStateFromError!="function"?null:f.render();return r.flags|=1,s!==null&&L?(r.child=Za(r,s.child,null,S),r.child=Za(r,null,W,S)):as(s,r,W,S),r.memoizedState=f.state,y&&vp(r,l,!0),r.child}function ph(s){var r=s.stateNode;r.pendingContext?xp(s,r.pendingContext,r.pendingContext!==r.context):r.context&&xp(s,r.context,!1),hd(s,r.containerInfo)}function hh(s,r,l,f,y){return Xa(),ld(y),r.flags|=256,as(s,r,l,f),r.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function Dd(s){return{baseLanes:s,cachePool:null,transitions:null}}function xh(s,r,l){var f=r.pendingProps,y=Et.current,S=!1,L=(r.flags&128)!==0,W;if((W=L)||(W=s!==null&&s.memoizedState===null?!1:(y&2)!==0),W?(S=!0,r.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),yt(Et,y&1),s===null)return id(r),s=r.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((r.mode&1)===0?r.lanes=1:s.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(L=f.children,s=f.fallback,S?(f=r.mode,S=r.child,L={mode:"hidden",children:L},(f&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=L):S=Yi(L,f,0,null),s=Sa(s,f,l,null),S.return=r,s.return=r,S.sibling=s,r.child=S,r.child.memoizedState=Dd(l),r.memoizedState=Md,s):Od(r,L));if(y=s.memoizedState,y!==null&&(W=y.dehydrated,W!==null))return UN(s,r,L,f,W,y,l);if(S){S=f.fallback,L=r.mode,y=s.child,W=y.sibling;var G={mode:"hidden",children:f.children};return(L&1)===0&&r.child!==y?(f=r.child,f.childLanes=0,f.pendingProps=G,r.deletions=null):(f=Yn(y,G),f.subtreeFlags=y.subtreeFlags&14680064),W!==null?S=Yn(W,S):(S=Sa(S,L,l,null),S.flags|=2),S.return=r,f.return=r,f.sibling=S,r.child=f,f=S,S=r.child,L=s.child.memoizedState,L=L===null?Dd(l):{baseLanes:L.baseLanes|l,cachePool:null,transitions:L.transitions},S.memoizedState=L,S.childLanes=s.childLanes&~l,r.memoizedState=Md,f}return S=s.child,s=S.sibling,f=Yn(S,{mode:"visible",children:f.children}),(r.mode&1)===0&&(f.lanes=l),f.return=r,f.sibling=null,s!==null&&(l=r.deletions,l===null?(r.deletions=[s],r.flags|=16):l.push(s)),r.child=f,r.memoizedState=null,f}function Od(s,r){return r=Yi({mode:"visible",children:r},s.mode,0,null),r.return=s,s.child=r}function Li(s,r,l,f){return f!==null&&ld(f),Za(r,s.child,null,l),s=Od(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function UN(s,r,l,f,y,S,L){if(l)return r.flags&256?(r.flags&=-257,f=kd(Error(a(422))),Li(s,r,L,f)):r.memoizedState!==null?(r.child=s.child,r.flags|=128,null):(S=f.fallback,y=r.mode,f=Yi({mode:"visible",children:f.children},y,0,null),S=Sa(S,y,L,null),S.flags|=2,f.return=r,S.return=r,f.sibling=S,r.child=f,(r.mode&1)!==0&&Za(r,s.child,null,L),r.child.memoizedState=Dd(L),r.memoizedState=Md,S);if((r.mode&1)===0)return Li(s,r,L,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var W=f.dgst;return f=W,S=Error(a(419)),f=kd(S,f,void 0),Li(s,r,L,f)}if(W=(L&s.childLanes)!==0,fs||W){if(f=Ht,f!==null){switch(L&-L){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|L))!==0?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,bn(s,y),Bs(f,s,y,-1))}return Qd(),f=kd(Error(a(421))),Li(s,r,L,f)}return y.data==="$?"?(r.flags|=128,r.child=s.child,r=tb.bind(null,s),y._reactRetry=r,null):(s=S.treeContext,Ns=In(y.nextSibling),ws=r,bt=!0,$s=null,s!==null&&(_s[Es++]=wn,_s[Es++]=Nn,_s[Es++]=ha,wn=s.id,Nn=s.overflow,ha=r),r=Od(r,f.children),r.flags|=4096,r)}function gh(s,r,l){s.lanes|=r;var f=s.alternate;f!==null&&(f.lanes|=r),md(s.return,r,l)}function Ld(s,r,l,f,y){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:y}:(S.isBackwards=r,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=l,S.tailMode=y)}function vh(s,r,l){var f=r.pendingProps,y=f.revealOrder,S=f.tail;if(as(s,r,f.children,l),f=Et.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&gh(s,l,r);else if(s.tag===19)gh(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(yt(Et,f),(r.mode&1)===0)r.memoizedState=null;else switch(y){case"forwards":for(l=r.child,y=null;l!==null;)s=l.alternate,s!==null&&ki(s)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),Ld(r,!1,y,l,S);break;case"backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(s=y.alternate,s!==null&&ki(s)===null){r.child=y;break}s=y.sibling,y.sibling=l,l=y,y=s}Ld(r,!0,l,null,S);break;case"together":Ld(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $i(s,r){(r.mode&1)===0&&s!==null&&(s.alternate=null,r.alternate=null,r.flags|=2)}function Cn(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),ja|=r.lanes,(l&r.childLanes)===0)return null;if(s!==null&&r.child!==s.child)throw Error(a(153));if(r.child!==null){for(s=r.child,l=Yn(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=Yn(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function VN(s,r,l){switch(r.tag){case 3:ph(r),Xa();break;case 5:Tp(r);break;case 1:ms(r.type)&&yi(r);break;case 4:hd(r,r.stateNode.containerInfo);break;case 10:var f=r.type._context,y=r.memoizedProps.value;yt(Ci,f._currentValue),f._currentValue=y;break;case 13:if(f=r.memoizedState,f!==null)return f.dehydrated!==null?(yt(Et,Et.current&1),r.flags|=128,null):(l&r.child.childLanes)!==0?xh(s,r,l):(yt(Et,Et.current&1),s=Cn(s,r,l),s!==null?s.sibling:null);yt(Et,Et.current&1);break;case 19:if(f=(l&r.childLanes)!==0,(s.flags&128)!==0){if(f)return vh(s,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),yt(Et,Et.current),f)break;return null;case 22:case 23:return r.lanes=0,uh(s,r,l)}return Cn(s,r,l)}var yh,$d,jh,wh;yh=function(s,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},$d=function(){},jh=function(s,r,l,f){var y=s.memoizedProps;if(y!==f){s=r.stateNode,va(en.current);var S=null;switch(l){case"input":y=tt(s,y),f=tt(s,f),S=[];break;case"select":y=te({},y,{value:void 0}),f=te({},f,{value:void 0}),S=[];break;case"textarea":y=ys(s,y),f=ys(s,f),S=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=xi)}gc(l,f);var L;l=null;for(oe in y)if(!f.hasOwnProperty(oe)&&y.hasOwnProperty(oe)&&y[oe]!=null)if(oe==="style"){var W=y[oe];for(L in W)W.hasOwnProperty(L)&&(l||(l={}),l[L]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?S||(S=[]):(S=S||[]).push(oe,null));for(oe in f){var G=f[oe];if(W=y!=null?y[oe]:void 0,f.hasOwnProperty(oe)&&G!==W&&(G!=null||W!=null))if(oe==="style")if(W){for(L in W)!W.hasOwnProperty(L)||G&&G.hasOwnProperty(L)||(l||(l={}),l[L]="");for(L in G)G.hasOwnProperty(L)&&W[L]!==G[L]&&(l||(l={}),l[L]=G[L])}else l||(S||(S=[]),S.push(oe,l)),l=G;else oe==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,W=W?W.__html:void 0,G!=null&&W!==G&&(S=S||[]).push(oe,G)):oe==="children"?typeof G!="string"&&typeof G!="number"||(S=S||[]).push(oe,""+G):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(G!=null&&oe==="onScroll"&&jt("scroll",s),S||W===G||(S=[])):(S=S||[]).push(oe,G))}l&&(S=S||[]).push("style",l);var oe=S;(r.updateQueue=oe)&&(r.flags|=4)}},wh=function(s,r,l,f){l!==f&&(r.flags|=4)};function mo(s,r){if(!bt)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Xt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,f=0;if(r)for(var y=s.child;y!==null;)l|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)l|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=l,r}function HN(s,r,l){var f=r.pendingProps;switch(rd(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(r),null;case 1:return ms(r.type)&&vi(),Xt(r),null;case 3:return f=r.stateNode,sr(),wt(us),wt(Jt),vd(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(bi(r)?r.flags|=4:s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$s!==null&&(Gd($s),$s=null))),$d(s,r),Xt(r),null;case 5:xd(r);var y=va(oo.current);if(l=r.type,s!==null&&r.stateNode!=null)jh(s,r,l,f,y),s.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!f){if(r.stateNode===null)throw Error(a(166));return Xt(r),null}if(s=va(en.current),bi(r)){f=r.stateNode,l=r.type;var S=r.memoizedProps;switch(f[Zs]=r,f[to]=S,s=(r.mode&1)!==0,l){case"dialog":jt("cancel",f),jt("close",f);break;case"iframe":case"object":case"embed":jt("load",f);break;case"video":case"audio":for(y=0;y<Xr.length;y++)jt(Xr[y],f);break;case"source":jt("error",f);break;case"img":case"image":case"link":jt("error",f),jt("load",f);break;case"details":jt("toggle",f);break;case"input":Ze(f,S),jt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!S.multiple},jt("invalid",f);break;case"textarea":Js(f,S),jt("invalid",f)}gc(l,S),y=null;for(var L in S)if(S.hasOwnProperty(L)){var W=S[L];L==="children"?typeof W=="string"?f.textContent!==W&&(S.suppressHydrationWarning!==!0&&hi(f.textContent,W,s),y=["children",W]):typeof W=="number"&&f.textContent!==""+W&&(S.suppressHydrationWarning!==!0&&hi(f.textContent,W,s),y=["children",""+W]):i.hasOwnProperty(L)&&W!=null&&L==="onScroll"&&jt("scroll",f)}switch(l){case"input":be(f),ss(f,S,!0);break;case"textarea":be(f),Qs(f);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(f.onclick=xi)}f=y,r.updateQueue=f,f!==null&&(r.flags|=4)}else{L=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=_e(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=L.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=L.createElement(l,{is:f.is}):(s=L.createElement(l),l==="select"&&(L=s,f.multiple?L.multiple=!0:f.size&&(L.size=f.size))):s=L.createElementNS(s,l),s[Zs]=r,s[to]=f,yh(s,r,!1,!1),r.stateNode=s;e:{switch(L=vc(l,f),l){case"dialog":jt("cancel",s),jt("close",s),y=f;break;case"iframe":case"object":case"embed":jt("load",s),y=f;break;case"video":case"audio":for(y=0;y<Xr.length;y++)jt(Xr[y],s);y=f;break;case"source":jt("error",s),y=f;break;case"img":case"image":case"link":jt("error",s),jt("load",s),y=f;break;case"details":jt("toggle",s),y=f;break;case"input":Ze(s,f),y=tt(s,f),jt("invalid",s);break;case"option":y=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},y=te({},f,{value:void 0}),jt("invalid",s);break;case"textarea":Js(s,f),y=ys(s,f),jt("invalid",s);break;default:y=f}gc(l,y),W=y;for(S in W)if(W.hasOwnProperty(S)){var G=W[S];S==="style"?Go(s,G):S==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Ye(s,G)):S==="children"?typeof G=="string"?(l!=="textarea"||G!=="")&&De(s,G):typeof G=="number"&&De(s,""+G):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?G!=null&&S==="onScroll"&&jt("scroll",s):G!=null&&E(s,S,G,L))}switch(l){case"input":be(s),ss(s,f,!1);break;case"textarea":be(s),Qs(s);break;case"option":f.value!=null&&s.setAttribute("value",""+re(f.value));break;case"select":s.multiple=!!f.multiple,S=f.value,S!=null?Ce(s,!!f.multiple,S,!1):f.defaultValue!=null&&Ce(s,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=xi)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Xt(r),null;case 6:if(s&&r.stateNode!=null)wh(s,r,s.memoizedProps,f);else{if(typeof f!="string"&&r.stateNode===null)throw Error(a(166));if(l=va(oo.current),va(en.current),bi(r)){if(f=r.stateNode,l=r.memoizedProps,f[Zs]=r,(S=f.nodeValue!==l)&&(s=ws,s!==null))switch(s.tag){case 3:hi(f.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&hi(f.nodeValue,l,(s.mode&1)!==0)}S&&(r.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[Zs]=r,r.stateNode=f}return Xt(r),null;case 13:if(wt(Et),f=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(bt&&Ns!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Sp(),Xa(),r.flags|=98560,S=!1;else if(S=bi(r),f!==null&&f.dehydrated!==null){if(s===null){if(!S)throw Error(a(318));if(S=r.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(a(317));S[Zs]=r}else Xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Xt(r),S=!1}else $s!==null&&(Gd($s),$s=null),S=!0;if(!S)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=l,r):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(r.child.flags|=8192,(r.mode&1)!==0&&(s===null||(Et.current&1)!==0?Bt===0&&(Bt=3):Qd())),r.updateQueue!==null&&(r.flags|=4),Xt(r),null);case 4:return sr(),$d(s,r),s===null&&Zr(r.stateNode.containerInfo),Xt(r),null;case 10:return ud(r.type._context),Xt(r),null;case 17:return ms(r.type)&&vi(),Xt(r),null;case 19:if(wt(Et),S=r.memoizedState,S===null)return Xt(r),null;if(f=(r.flags&128)!==0,L=S.rendering,L===null)if(f)mo(S,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(L=ki(s),L!==null){for(r.flags|=128,mo(S,!1),f=L.updateQueue,f!==null&&(r.updateQueue=f,r.flags|=4),r.subtreeFlags=0,f=l,l=r.child;l!==null;)S=l,s=f,S.flags&=14680066,L=S.alternate,L===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=L.childLanes,S.lanes=L.lanes,S.child=L.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=L.memoizedProps,S.memoizedState=L.memoizedState,S.updateQueue=L.updateQueue,S.type=L.type,s=L.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return yt(Et,Et.current&1|2),r.child}s=s.sibling}S.tail!==null&&Dt()>or&&(r.flags|=128,f=!0,mo(S,!1),r.lanes=4194304)}else{if(!f)if(s=ki(L),s!==null){if(r.flags|=128,f=!0,l=s.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),mo(S,!0),S.tail===null&&S.tailMode==="hidden"&&!L.alternate&&!bt)return Xt(r),null}else 2*Dt()-S.renderingStartTime>or&&l!==1073741824&&(r.flags|=128,f=!0,mo(S,!1),r.lanes=4194304);S.isBackwards?(L.sibling=r.child,r.child=L):(l=S.last,l!==null?l.sibling=L:r.child=L,S.last=L)}return S.tail!==null?(r=S.tail,S.rendering=r,S.tail=r.sibling,S.renderingStartTime=Dt(),r.sibling=null,l=Et.current,yt(Et,f?l&1|2:l&1),r):(Xt(r),null);case 22:case 23:return Jd(),f=r.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(r.flags|=8192),f&&(r.mode&1)!==0?(bs&1073741824)!==0&&(Xt(r),r.subtreeFlags&6&&(r.flags|=8192)):Xt(r),null;case 24:return null;case 25:return null}throw Error(a(156,r.tag))}function qN(s,r){switch(rd(r),r.tag){case 1:return ms(r.type)&&vi(),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return sr(),wt(us),wt(Jt),vd(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 5:return xd(r),null;case 13:if(wt(Et),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Xa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return wt(Et),null;case 4:return sr(),null;case 10:return ud(r.type._context),null;case 22:case 23:return Jd(),null;case 24:return null;default:return null}}var Ii=!1,Zt=!1,WN=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function ar(s,r){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Pt(s,r,f)}else l.current=null}function Id(s,r,l){try{l()}catch(f){Pt(s,r,f)}}var Nh=!1;function KN(s,r){if(Jc=ai,s=ep(),Uc(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var y=f.anchorOffset,S=f.focusNode;f=f.focusOffset;try{l.nodeType,S.nodeType}catch{l=null;break e}var L=0,W=-1,G=-1,oe=0,ge=0,je=s,xe=null;t:for(;;){for(var Re;je!==l||y!==0&&je.nodeType!==3||(W=L+y),je!==S||f!==0&&je.nodeType!==3||(G=L+f),je.nodeType===3&&(L+=je.nodeValue.length),(Re=je.firstChild)!==null;)xe=je,je=Re;for(;;){if(je===s)break t;if(xe===l&&++oe===y&&(W=L),xe===S&&++ge===f&&(G=L),(Re=je.nextSibling)!==null)break;je=xe,xe=je.parentNode}je=Re}l=W===-1||G===-1?null:{start:W,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qc={focusedElem:s,selectionRange:l},ai=!1,Pe=r;Pe!==null;)if(r=Pe,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Pe=s;else for(;Pe!==null;){r=Pe;try{var Ae=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Me=Ae.memoizedProps,Ot=Ae.memoizedState,se=r.stateNode,Q=se.getSnapshotBeforeUpdate(r.elementType===r.type?Me:Is(r.type,Me),Ot);se.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ae=r.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Ne){Pt(r,r.return,Ne)}if(s=r.sibling,s!==null){s.return=r.return,Pe=s;break}Pe=r.return}return Ae=Nh,Nh=!1,Ae}function fo(s,r,l){var f=r.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&s)===s){var S=y.destroy;y.destroy=void 0,S!==void 0&&Id(r,l,S)}y=y.next}while(y!==f)}}function Fi(s,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&s)===s){var f=l.create;l.destroy=f()}l=l.next}while(l!==r)}}function Fd(s){var r=s.ref;if(r!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof r=="function"?r(s):r.current=s}}function bh(s){var r=s.alternate;r!==null&&(s.alternate=null,bh(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&(delete r[Zs],delete r[to],delete r[td],delete r[kN],delete r[PN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Sh(s){return s.tag===5||s.tag===3||s.tag===4}function Ch(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Sh(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zd(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(s,r):l.insertBefore(s,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(s,l)):(r=l,r.appendChild(s)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=xi));else if(f!==4&&(s=s.child,s!==null))for(zd(s,r,l),s=s.sibling;s!==null;)zd(s,r,l),s=s.sibling}function Bd(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Bd(s,r,l),s=s.sibling;s!==null;)Bd(s,r,l),s=s.sibling}var Kt=null,Fs=!1;function Hn(s,r,l){for(l=l.child;l!==null;)_h(s,r,l),l=l.sibling}function _h(s,r,l){if(Xs&&typeof Xs.onCommitFiberUnmount=="function")try{Xs.onCommitFiberUnmount(Xo,l)}catch{}switch(l.tag){case 5:Zt||ar(l,r);case 6:var f=Kt,y=Fs;Kt=null,Hn(s,r,l),Kt=f,Fs=y,Kt!==null&&(Fs?(s=Kt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Kt.removeChild(l.stateNode));break;case 18:Kt!==null&&(Fs?(s=Kt,l=l.stateNode,s.nodeType===8?ed(s.parentNode,l):s.nodeType===1&&ed(s,l),Hr(s)):ed(Kt,l.stateNode));break;case 4:f=Kt,y=Fs,Kt=l.stateNode.containerInfo,Fs=!0,Hn(s,r,l),Kt=f,Fs=y;break;case 0:case 11:case 14:case 15:if(!Zt&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var S=y,L=S.destroy;S=S.tag,L!==void 0&&((S&2)!==0||(S&4)!==0)&&Id(l,r,L),y=y.next}while(y!==f)}Hn(s,r,l);break;case 1:if(!Zt&&(ar(l,r),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(W){Pt(l,r,W)}Hn(s,r,l);break;case 21:Hn(s,r,l);break;case 22:l.mode&1?(Zt=(f=Zt)||l.memoizedState!==null,Hn(s,r,l),Zt=f):Hn(s,r,l);break;default:Hn(s,r,l)}}function Eh(s){var r=s.updateQueue;if(r!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new WN),r.forEach(function(f){var y=sb.bind(null,s,f);l.has(f)||(l.add(f),f.then(y,y))})}}function zs(s,r){var l=r.deletions;if(l!==null)for(var f=0;f<l.length;f++){var y=l[f];try{var S=s,L=r,W=L;e:for(;W!==null;){switch(W.tag){case 5:Kt=W.stateNode,Fs=!1;break e;case 3:Kt=W.stateNode.containerInfo,Fs=!0;break e;case 4:Kt=W.stateNode.containerInfo,Fs=!0;break e}W=W.return}if(Kt===null)throw Error(a(160));_h(S,L,y),Kt=null,Fs=!1;var G=y.alternate;G!==null&&(G.return=null),y.return=null}catch(oe){Pt(y,r,oe)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Rh(r,s),r=r.sibling}function Rh(s,r){var l=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(zs(r,s),sn(s),f&4){try{fo(3,s,s.return),Fi(3,s)}catch(Me){Pt(s,s.return,Me)}try{fo(5,s,s.return)}catch(Me){Pt(s,s.return,Me)}}break;case 1:zs(r,s),sn(s),f&512&&l!==null&&ar(l,l.return);break;case 5:if(zs(r,s),sn(s),f&512&&l!==null&&ar(l,l.return),s.flags&32){var y=s.stateNode;try{De(y,"")}catch(Me){Pt(s,s.return,Me)}}if(f&4&&(y=s.stateNode,y!=null)){var S=s.memoizedProps,L=l!==null?l.memoizedProps:S,W=s.type,G=s.updateQueue;if(s.updateQueue=null,G!==null)try{W==="input"&&S.type==="radio"&&S.name!=null&&et(y,S),vc(W,L);var oe=vc(W,S);for(L=0;L<G.length;L+=2){var ge=G[L],je=G[L+1];ge==="style"?Go(y,je):ge==="dangerouslySetInnerHTML"?Ye(y,je):ge==="children"?De(y,je):E(y,ge,je,oe)}switch(W){case"input":Ct(y,S);break;case"textarea":ht(y,S);break;case"select":var xe=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var Re=S.value;Re!=null?Ce(y,!!S.multiple,Re,!1):xe!==!!S.multiple&&(S.defaultValue!=null?Ce(y,!!S.multiple,S.defaultValue,!0):Ce(y,!!S.multiple,S.multiple?[]:"",!1))}y[to]=S}catch(Me){Pt(s,s.return,Me)}}break;case 6:if(zs(r,s),sn(s),f&4){if(s.stateNode===null)throw Error(a(162));y=s.stateNode,S=s.memoizedProps;try{y.nodeValue=S}catch(Me){Pt(s,s.return,Me)}}break;case 3:if(zs(r,s),sn(s),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Hr(r.containerInfo)}catch(Me){Pt(s,s.return,Me)}break;case 4:zs(r,s),sn(s);break;case 13:zs(r,s),sn(s),y=s.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(Hd=Dt())),f&4&&Eh(s);break;case 22:if(ge=l!==null&&l.memoizedState!==null,s.mode&1?(Zt=(oe=Zt)||ge,zs(r,s),Zt=oe):zs(r,s),sn(s),f&8192){if(oe=s.memoizedState!==null,(s.stateNode.isHidden=oe)&&!ge&&(s.mode&1)!==0)for(Pe=s,ge=s.child;ge!==null;){for(je=Pe=ge;Pe!==null;){switch(xe=Pe,Re=xe.child,xe.tag){case 0:case 11:case 14:case 15:fo(4,xe,xe.return);break;case 1:ar(xe,xe.return);var Ae=xe.stateNode;if(typeof Ae.componentWillUnmount=="function"){f=xe,l=xe.return;try{r=f,Ae.props=r.memoizedProps,Ae.state=r.memoizedState,Ae.componentWillUnmount()}catch(Me){Pt(f,l,Me)}}break;case 5:ar(xe,xe.return);break;case 22:if(xe.memoizedState!==null){Ah(je);continue}}Re!==null?(Re.return=xe,Pe=Re):Ah(je)}ge=ge.sibling}e:for(ge=null,je=s;;){if(je.tag===5){if(ge===null){ge=je;try{y=je.stateNode,oe?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(W=je.stateNode,G=je.memoizedProps.style,L=G!=null&&G.hasOwnProperty("display")?G.display:null,W.style.display=Dr("display",L))}catch(Me){Pt(s,s.return,Me)}}}else if(je.tag===6){if(ge===null)try{je.stateNode.nodeValue=oe?"":je.memoizedProps}catch(Me){Pt(s,s.return,Me)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===s)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===s)break e;for(;je.sibling===null;){if(je.return===null||je.return===s)break e;ge===je&&(ge=null),je=je.return}ge===je&&(ge=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:zs(r,s),sn(s),f&4&&Eh(s);break;case 21:break;default:zs(r,s),sn(s)}}function sn(s){var r=s.flags;if(r&2){try{e:{for(var l=s.return;l!==null;){if(Sh(l)){var f=l;break e}l=l.return}throw Error(a(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(De(y,""),f.flags&=-33);var S=Ch(s);Bd(s,S,y);break;case 3:case 4:var L=f.stateNode.containerInfo,W=Ch(s);zd(s,W,L);break;default:throw Error(a(161))}}catch(G){Pt(s,s.return,G)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function GN(s,r,l){Pe=s,kh(s)}function kh(s,r,l){for(var f=(s.mode&1)!==0;Pe!==null;){var y=Pe,S=y.child;if(y.tag===22&&f){var L=y.memoizedState!==null||Ii;if(!L){var W=y.alternate,G=W!==null&&W.memoizedState!==null||Zt;W=Ii;var oe=Zt;if(Ii=L,(Zt=G)&&!oe)for(Pe=y;Pe!==null;)L=Pe,G=L.child,L.tag===22&&L.memoizedState!==null?Th(y):G!==null?(G.return=L,Pe=G):Th(y);for(;S!==null;)Pe=S,kh(S),S=S.sibling;Pe=y,Ii=W,Zt=oe}Ph(s)}else(y.subtreeFlags&8772)!==0&&S!==null?(S.return=y,Pe=S):Ph(s)}}function Ph(s){for(;Pe!==null;){var r=Pe;if((r.flags&8772)!==0){var l=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Zt||Fi(5,r);break;case 1:var f=r.stateNode;if(r.flags&4&&!Zt)if(l===null)f.componentDidMount();else{var y=r.elementType===r.type?l.memoizedProps:Is(r.type,l.memoizedProps);f.componentDidUpdate(y,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var S=r.updateQueue;S!==null&&Ap(r,S,f);break;case 3:var L=r.updateQueue;if(L!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}Ap(r,L,l)}break;case 5:var W=r.stateNode;if(l===null&&r.flags&4){l=W;var G=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&l.focus();break;case"img":G.src&&(l.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var oe=r.alternate;if(oe!==null){var ge=oe.memoizedState;if(ge!==null){var je=ge.dehydrated;je!==null&&Hr(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Zt||r.flags&512&&Fd(r)}catch(xe){Pt(r,r.return,xe)}}if(r===s){Pe=null;break}if(l=r.sibling,l!==null){l.return=r.return,Pe=l;break}Pe=r.return}}function Ah(s){for(;Pe!==null;){var r=Pe;if(r===s){Pe=null;break}var l=r.sibling;if(l!==null){l.return=r.return,Pe=l;break}Pe=r.return}}function Th(s){for(;Pe!==null;){var r=Pe;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{Fi(4,r)}catch(G){Pt(r,l,G)}break;case 1:var f=r.stateNode;if(typeof f.componentDidMount=="function"){var y=r.return;try{f.componentDidMount()}catch(G){Pt(r,y,G)}}var S=r.return;try{Fd(r)}catch(G){Pt(r,S,G)}break;case 5:var L=r.return;try{Fd(r)}catch(G){Pt(r,L,G)}}}catch(G){Pt(r,r.return,G)}if(r===s){Pe=null;break}var W=r.sibling;if(W!==null){W.return=r.return,Pe=W;break}Pe=r.return}}var YN=Math.ceil,zi=R.ReactCurrentDispatcher,Ud=R.ReactCurrentOwner,Ps=R.ReactCurrentBatchConfig,at=0,Ht=null,It=null,Gt=0,bs=0,rr=Fn(0),Bt=0,po=null,ja=0,Bi=0,Vd=0,ho=null,ps=null,Hd=0,or=1/0,_n=null,Ui=!1,qd=null,qn=null,Vi=!1,Wn=null,Hi=0,xo=0,Wd=null,qi=-1,Wi=0;function rs(){return(at&6)!==0?Dt():qi!==-1?qi:qi=Dt()}function Kn(s){return(s.mode&1)===0?1:(at&2)!==0&&Gt!==0?Gt&-Gt:TN.transition!==null?(Wi===0&&(Wi=Cf()),Wi):(s=pt,s!==0||(s=window.event,s=s===void 0?16:Df(s.type)),s)}function Bs(s,r,l,f){if(50<xo)throw xo=0,Wd=null,Error(a(185));Fr(s,l,f),((at&2)===0||s!==Ht)&&(s===Ht&&((at&2)===0&&(Bi|=l),Bt===4&&Gn(s,Gt)),hs(s,f),l===1&&at===0&&(r.mode&1)===0&&(or=Dt()+500,ji&&Bn()))}function hs(s,r){var l=s.callbackNode;Tw(s,r);var f=ti(s,s===Ht?Gt:0);if(f===0)l!==null&&Nf(l),s.callbackNode=null,s.callbackPriority=0;else if(r=f&-f,s.callbackPriority!==r){if(l!=null&&Nf(l),r===1)s.tag===0?AN(Dh.bind(null,s)):yp(Dh.bind(null,s)),EN(function(){(at&6)===0&&Bn()}),l=null;else{switch(_f(f)){case 1:l=Cc;break;case 4:l=bf;break;case 16:l=Qo;break;case 536870912:l=Sf;break;default:l=Qo}l=Uh(l,Mh.bind(null,s))}s.callbackPriority=r,s.callbackNode=l}}function Mh(s,r){if(qi=-1,Wi=0,(at&6)!==0)throw Error(a(327));var l=s.callbackNode;if(ir()&&s.callbackNode!==l)return null;var f=ti(s,s===Ht?Gt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||r)r=Ki(s,f);else{r=f;var y=at;at|=2;var S=Lh();(Ht!==s||Gt!==r)&&(_n=null,or=Dt()+500,Na(s,r));do try{XN();break}catch(W){Oh(s,W)}while(!0);dd(),zi.current=S,at=y,It!==null?r=0:(Ht=null,Gt=0,r=Bt)}if(r!==0){if(r===2&&(y=_c(s),y!==0&&(f=y,r=Kd(s,y))),r===1)throw l=po,Na(s,0),Gn(s,f),hs(s,Dt()),l;if(r===6)Gn(s,f);else{if(y=s.current.alternate,(f&30)===0&&!JN(y)&&(r=Ki(s,f),r===2&&(S=_c(s),S!==0&&(f=S,r=Kd(s,S))),r===1))throw l=po,Na(s,0),Gn(s,f),hs(s,Dt()),l;switch(s.finishedWork=y,s.finishedLanes=f,r){case 0:case 1:throw Error(a(345));case 2:ba(s,ps,_n);break;case 3:if(Gn(s,f),(f&130023424)===f&&(r=Hd+500-Dt(),10<r)){if(ti(s,0)!==0)break;if(y=s.suspendedLanes,(y&f)!==f){rs(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Zc(ba.bind(null,s,ps,_n),r);break}ba(s,ps,_n);break;case 4:if(Gn(s,f),(f&4194240)===f)break;for(r=s.eventTimes,y=-1;0<f;){var L=31-Os(f);S=1<<L,L=r[L],L>y&&(y=L),f&=~S}if(f=y,f=Dt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*YN(f/1960))-f,10<f){s.timeoutHandle=Zc(ba.bind(null,s,ps,_n),f);break}ba(s,ps,_n);break;case 5:ba(s,ps,_n);break;default:throw Error(a(329))}}}return hs(s,Dt()),s.callbackNode===l?Mh.bind(null,s):null}function Kd(s,r){var l=ho;return s.current.memoizedState.isDehydrated&&(Na(s,r).flags|=256),s=Ki(s,r),s!==2&&(r=ps,ps=l,r!==null&&Gd(r)),s}function Gd(s){ps===null?ps=s:ps.push.apply(ps,s)}function JN(s){for(var r=s;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var y=l[f],S=y.getSnapshot;y=y.value;try{if(!Ls(S(),y))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gn(s,r){for(r&=~Vd,r&=~Bi,s.suspendedLanes|=r,s.pingedLanes&=~r,s=s.expirationTimes;0<r;){var l=31-Os(r),f=1<<l;s[l]=-1,r&=~f}}function Dh(s){if((at&6)!==0)throw Error(a(327));ir();var r=ti(s,0);if((r&1)===0)return hs(s,Dt()),null;var l=Ki(s,r);if(s.tag!==0&&l===2){var f=_c(s);f!==0&&(r=f,l=Kd(s,f))}if(l===1)throw l=po,Na(s,0),Gn(s,r),hs(s,Dt()),l;if(l===6)throw Error(a(345));return s.finishedWork=s.current.alternate,s.finishedLanes=r,ba(s,ps,_n),hs(s,Dt()),null}function Yd(s,r){var l=at;at|=1;try{return s(r)}finally{at=l,at===0&&(or=Dt()+500,ji&&Bn())}}function wa(s){Wn!==null&&Wn.tag===0&&(at&6)===0&&ir();var r=at;at|=1;var l=Ps.transition,f=pt;try{if(Ps.transition=null,pt=1,s)return s()}finally{pt=f,Ps.transition=l,at=r,(at&6)===0&&Bn()}}function Jd(){bs=rr.current,wt(rr)}function Na(s,r){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,_N(l)),It!==null)for(l=It.return;l!==null;){var f=l;switch(rd(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&vi();break;case 3:sr(),wt(us),wt(Jt),vd();break;case 5:xd(f);break;case 4:sr();break;case 13:wt(Et);break;case 19:wt(Et);break;case 10:ud(f.type._context);break;case 22:case 23:Jd()}l=l.return}if(Ht=s,It=s=Yn(s.current,null),Gt=bs=r,Bt=0,po=null,Vd=Bi=ja=0,ps=ho=null,ga!==null){for(r=0;r<ga.length;r++)if(l=ga[r],f=l.interleaved,f!==null){l.interleaved=null;var y=f.next,S=l.pending;if(S!==null){var L=S.next;S.next=y,f.next=L}l.pending=f}ga=null}return s}function Oh(s,r){do{var l=It;try{if(dd(),Pi.current=Di,Ai){for(var f=Rt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}Ai=!1}if(ya=0,Vt=zt=Rt=null,io=!1,lo=0,Ud.current=null,l===null||l.return===null){Bt=1,po=r,It=null;break}e:{var S=s,L=l.return,W=l,G=r;if(r=Gt,W.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var oe=G,ge=W,je=ge.tag;if((ge.mode&1)===0&&(je===0||je===11||je===15)){var xe=ge.alternate;xe?(ge.updateQueue=xe.updateQueue,ge.memoizedState=xe.memoizedState,ge.lanes=xe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Re=oh(L);if(Re!==null){Re.flags&=-257,ih(Re,L,W,S,r),Re.mode&1&&rh(S,oe,r),r=Re,G=oe;var Ae=r.updateQueue;if(Ae===null){var Me=new Set;Me.add(G),r.updateQueue=Me}else Ae.add(G);break e}else{if((r&1)===0){rh(S,oe,r),Qd();break e}G=Error(a(426))}}else if(bt&&W.mode&1){var Ot=oh(L);if(Ot!==null){(Ot.flags&65536)===0&&(Ot.flags|=256),ih(Ot,L,W,S,r),ld(nr(G,W));break e}}S=G=nr(G,W),Bt!==4&&(Bt=2),ho===null?ho=[S]:ho.push(S),S=L;do{switch(S.tag){case 3:S.flags|=65536,r&=-r,S.lanes|=r;var se=nh(S,G,r);Pp(S,se);break e;case 1:W=G;var Q=S.type,ae=S.stateNode;if((S.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(qn===null||!qn.has(ae)))){S.flags|=65536,r&=-r,S.lanes|=r;var Ne=ah(S,W,r);Pp(S,Ne);break e}}S=S.return}while(S!==null)}Ih(l)}catch(Oe){r=Oe,It===l&&l!==null&&(It=l=l.return);continue}break}while(!0)}function Lh(){var s=zi.current;return zi.current=Di,s===null?Di:s}function Qd(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Ht===null||(ja&268435455)===0&&(Bi&268435455)===0||Gn(Ht,Gt)}function Ki(s,r){var l=at;at|=2;var f=Lh();(Ht!==s||Gt!==r)&&(_n=null,Na(s,r));do try{QN();break}catch(y){Oh(s,y)}while(!0);if(dd(),at=l,zi.current=f,It!==null)throw Error(a(261));return Ht=null,Gt=0,Bt}function QN(){for(;It!==null;)$h(It)}function XN(){for(;It!==null&&!bw();)$h(It)}function $h(s){var r=Bh(s.alternate,s,bs);s.memoizedProps=s.pendingProps,r===null?Ih(s):It=r,Ud.current=null}function Ih(s){var r=s;do{var l=r.alternate;if(s=r.return,(r.flags&32768)===0){if(l=HN(l,r,bs),l!==null){It=l;return}}else{if(l=qN(l,r),l!==null){l.flags&=32767,It=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Bt=6,It=null;return}}if(r=r.sibling,r!==null){It=r;return}It=r=s}while(r!==null);Bt===0&&(Bt=5)}function ba(s,r,l){var f=pt,y=Ps.transition;try{Ps.transition=null,pt=1,ZN(s,r,l,f)}finally{Ps.transition=y,pt=f}return null}function ZN(s,r,l,f){do ir();while(Wn!==null);if((at&6)!==0)throw Error(a(327));l=s.finishedWork;var y=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(a(177));s.callbackNode=null,s.callbackPriority=0;var S=l.lanes|l.childLanes;if(Mw(s,S),s===Ht&&(It=Ht=null,Gt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Vi||(Vi=!0,Uh(Qo,function(){return ir(),null})),S=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||S){S=Ps.transition,Ps.transition=null;var L=pt;pt=1;var W=at;at|=4,Ud.current=null,KN(s,l),Rh(l,s),yN(Qc),ai=!!Jc,Qc=Jc=null,s.current=l,GN(l),Sw(),at=W,pt=L,Ps.transition=S}else s.current=l;if(Vi&&(Vi=!1,Wn=s,Hi=y),S=s.pendingLanes,S===0&&(qn=null),Ew(l.stateNode),hs(s,Dt()),r!==null)for(f=s.onRecoverableError,l=0;l<r.length;l++)y=r[l],f(y.value,{componentStack:y.stack,digest:y.digest});if(Ui)throw Ui=!1,s=qd,qd=null,s;return(Hi&1)!==0&&s.tag!==0&&ir(),S=s.pendingLanes,(S&1)!==0?s===Wd?xo++:(xo=0,Wd=s):xo=0,Bn(),null}function ir(){if(Wn!==null){var s=_f(Hi),r=Ps.transition,l=pt;try{if(Ps.transition=null,pt=16>s?16:s,Wn===null)var f=!1;else{if(s=Wn,Wn=null,Hi=0,(at&6)!==0)throw Error(a(331));var y=at;for(at|=4,Pe=s.current;Pe!==null;){var S=Pe,L=S.child;if((Pe.flags&16)!==0){var W=S.deletions;if(W!==null){for(var G=0;G<W.length;G++){var oe=W[G];for(Pe=oe;Pe!==null;){var ge=Pe;switch(ge.tag){case 0:case 11:case 15:fo(8,ge,S)}var je=ge.child;if(je!==null)je.return=ge,Pe=je;else for(;Pe!==null;){ge=Pe;var xe=ge.sibling,Re=ge.return;if(bh(ge),ge===oe){Pe=null;break}if(xe!==null){xe.return=Re,Pe=xe;break}Pe=Re}}}var Ae=S.alternate;if(Ae!==null){var Me=Ae.child;if(Me!==null){Ae.child=null;do{var Ot=Me.sibling;Me.sibling=null,Me=Ot}while(Me!==null)}}Pe=S}}if((S.subtreeFlags&2064)!==0&&L!==null)L.return=S,Pe=L;else e:for(;Pe!==null;){if(S=Pe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:fo(9,S,S.return)}var se=S.sibling;if(se!==null){se.return=S.return,Pe=se;break e}Pe=S.return}}var Q=s.current;for(Pe=Q;Pe!==null;){L=Pe;var ae=L.child;if((L.subtreeFlags&2064)!==0&&ae!==null)ae.return=L,Pe=ae;else e:for(L=Q;Pe!==null;){if(W=Pe,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:Fi(9,W)}}catch(Oe){Pt(W,W.return,Oe)}if(W===L){Pe=null;break e}var Ne=W.sibling;if(Ne!==null){Ne.return=W.return,Pe=Ne;break e}Pe=W.return}}if(at=y,Bn(),Xs&&typeof Xs.onPostCommitFiberRoot=="function")try{Xs.onPostCommitFiberRoot(Xo,s)}catch{}f=!0}return f}finally{pt=l,Ps.transition=r}}return!1}function Fh(s,r,l){r=nr(l,r),r=nh(s,r,1),s=Vn(s,r,1),r=rs(),s!==null&&(Fr(s,1,r),hs(s,r))}function Pt(s,r,l){if(s.tag===3)Fh(s,s,l);else for(;r!==null;){if(r.tag===3){Fh(r,s,l);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(qn===null||!qn.has(f))){s=nr(l,s),s=ah(r,s,1),r=Vn(r,s,1),s=rs(),r!==null&&(Fr(r,1,s),hs(r,s));break}}r=r.return}}function eb(s,r,l){var f=s.pingCache;f!==null&&f.delete(r),r=rs(),s.pingedLanes|=s.suspendedLanes&l,Ht===s&&(Gt&l)===l&&(Bt===4||Bt===3&&(Gt&130023424)===Gt&&500>Dt()-Hd?Na(s,0):Vd|=l),hs(s,r)}function zh(s,r){r===0&&((s.mode&1)===0?r=1:(r=ei,ei<<=1,(ei&130023424)===0&&(ei=4194304)));var l=rs();s=bn(s,r),s!==null&&(Fr(s,r,l),hs(s,l))}function tb(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),zh(s,l)}function sb(s,r){var l=0;switch(s.tag){case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(l=y.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(a(314))}f!==null&&f.delete(r),zh(s,l)}var Bh;Bh=function(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps||us.current)fs=!0;else{if((s.lanes&l)===0&&(r.flags&128)===0)return fs=!1,VN(s,r,l);fs=(s.flags&131072)!==0}else fs=!1,bt&&(r.flags&1048576)!==0&&jp(r,Ni,r.index);switch(r.lanes=0,r.tag){case 2:var f=r.type;$i(s,r),s=r.pendingProps;var y=Ya(r,Jt.current);tr(r,l),y=wd(null,r,f,s,y,l);var S=Nd();return r.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,ms(f)?(S=!0,yi(r)):S=!1,r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,pd(r),y.updater=Oi,r.stateNode=y,y._reactInternals=r,Rd(r,f,s,l),r=Td(null,r,f,!0,S,l)):(r.tag=0,bt&&S&&ad(r),as(null,r,y,l),r=r.child),r;case 16:f=r.elementType;e:{switch($i(s,r),s=r.pendingProps,y=f._init,f=y(f._payload),r.type=f,y=r.tag=ab(f),s=Is(f,s),y){case 0:r=Ad(null,r,f,s,l);break e;case 1:r=fh(null,r,f,s,l);break e;case 11:r=lh(null,r,f,s,l);break e;case 14:r=ch(null,r,f,Is(f.type,s),l);break e}throw Error(a(306,f,""))}return r;case 0:return f=r.type,y=r.pendingProps,y=r.elementType===f?y:Is(f,y),Ad(s,r,f,y,l);case 1:return f=r.type,y=r.pendingProps,y=r.elementType===f?y:Is(f,y),fh(s,r,f,y,l);case 3:e:{if(ph(r),s===null)throw Error(a(387));f=r.pendingProps,S=r.memoizedState,y=S.element,kp(s,r),Ri(r,f,null,l);var L=r.memoizedState;if(f=L.element,S.isDehydrated)if(S={element:f,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},r.updateQueue.baseState=S,r.memoizedState=S,r.flags&256){y=nr(Error(a(423)),r),r=hh(s,r,f,l,y);break e}else if(f!==y){y=nr(Error(a(424)),r),r=hh(s,r,f,l,y);break e}else for(Ns=In(r.stateNode.containerInfo.firstChild),ws=r,bt=!0,$s=null,l=Ep(r,null,f,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Xa(),f===y){r=Cn(s,r,l);break e}as(s,r,f,l)}r=r.child}return r;case 5:return Tp(r),s===null&&id(r),f=r.type,y=r.pendingProps,S=s!==null?s.memoizedProps:null,L=y.children,Xc(f,y)?L=null:S!==null&&Xc(f,S)&&(r.flags|=32),mh(s,r),as(s,r,L,l),r.child;case 6:return s===null&&id(r),null;case 13:return xh(s,r,l);case 4:return hd(r,r.stateNode.containerInfo),f=r.pendingProps,s===null?r.child=Za(r,null,f,l):as(s,r,f,l),r.child;case 11:return f=r.type,y=r.pendingProps,y=r.elementType===f?y:Is(f,y),lh(s,r,f,y,l);case 7:return as(s,r,r.pendingProps,l),r.child;case 8:return as(s,r,r.pendingProps.children,l),r.child;case 12:return as(s,r,r.pendingProps.children,l),r.child;case 10:e:{if(f=r.type._context,y=r.pendingProps,S=r.memoizedProps,L=y.value,yt(Ci,f._currentValue),f._currentValue=L,S!==null)if(Ls(S.value,L)){if(S.children===y.children&&!us.current){r=Cn(s,r,l);break e}}else for(S=r.child,S!==null&&(S.return=r);S!==null;){var W=S.dependencies;if(W!==null){L=S.child;for(var G=W.firstContext;G!==null;){if(G.context===f){if(S.tag===1){G=Sn(-1,l&-l),G.tag=2;var oe=S.updateQueue;if(oe!==null){oe=oe.shared;var ge=oe.pending;ge===null?G.next=G:(G.next=ge.next,ge.next=G),oe.pending=G}}S.lanes|=l,G=S.alternate,G!==null&&(G.lanes|=l),md(S.return,l,r),W.lanes|=l;break}G=G.next}}else if(S.tag===10)L=S.type===r.type?null:S.child;else if(S.tag===18){if(L=S.return,L===null)throw Error(a(341));L.lanes|=l,W=L.alternate,W!==null&&(W.lanes|=l),md(L,l,r),L=S.sibling}else L=S.child;if(L!==null)L.return=S;else for(L=S;L!==null;){if(L===r){L=null;break}if(S=L.sibling,S!==null){S.return=L.return,L=S;break}L=L.return}S=L}as(s,r,y.children,l),r=r.child}return r;case 9:return y=r.type,f=r.pendingProps.children,tr(r,l),y=Rs(y),f=f(y),r.flags|=1,as(s,r,f,l),r.child;case 14:return f=r.type,y=Is(f,r.pendingProps),y=Is(f.type,y),ch(s,r,f,y,l);case 15:return dh(s,r,r.type,r.pendingProps,l);case 17:return f=r.type,y=r.pendingProps,y=r.elementType===f?y:Is(f,y),$i(s,r),r.tag=1,ms(f)?(s=!0,yi(r)):s=!1,tr(r,l),th(r,f,y),Rd(r,f,y,l),Td(null,r,f,!0,s,l);case 19:return vh(s,r,l);case 22:return uh(s,r,l)}throw Error(a(156,r.tag))};function Uh(s,r){return wf(s,r)}function nb(s,r,l,f){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function As(s,r,l,f){return new nb(s,r,l,f)}function Xd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ab(s){if(typeof s=="function")return Xd(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===K)return 14}return 2}function Yn(s,r){var l=s.alternate;return l===null?(l=As(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Gi(s,r,l,f,y,S){var L=2;if(f=s,typeof s=="function")Xd(s)&&(L=1);else if(typeof s=="string")L=5;else e:switch(s){case T:return Sa(l.children,y,S,r);case k:L=8,y|=8;break;case $:return s=As(12,l,r,y|2),s.elementType=$,s.lanes=S,s;case Y:return s=As(13,l,r,y),s.elementType=Y,s.lanes=S,s;case F:return s=As(19,l,r,y),s.elementType=F,s.lanes=S,s;case H:return Yi(l,y,S,r);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:L=10;break e;case I:L=9;break e;case z:L=11;break e;case K:L=14;break e;case D:L=16,f=null;break e}throw Error(a(130,s==null?s:typeof s,""))}return r=As(L,l,r,y),r.elementType=s,r.type=f,r.lanes=S,r}function Sa(s,r,l,f){return s=As(7,s,f,r),s.lanes=l,s}function Yi(s,r,l,f){return s=As(22,s,f,r),s.elementType=H,s.lanes=l,s.stateNode={isHidden:!1},s}function Zd(s,r,l){return s=As(6,s,null,r),s.lanes=l,s}function eu(s,r,l){return r=As(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}function rb(s,r,l,f,y){this.tag=r,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function tu(s,r,l,f,y,S,L,W,G){return s=new rb(s,r,l,W,G),r===1?(r=1,S===!0&&(r|=8)):r=0,S=As(3,null,null,r),s.current=S,S.stateNode=s,S.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},pd(S),s}function ob(s,r,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:f==null?null:""+f,children:s,containerInfo:r,implementation:l}}function Vh(s){if(!s)return zn;s=s._reactInternals;e:{if(ma(s)!==s||s.tag!==1)throw Error(a(170));var r=s;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(ms(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(a(171))}if(s.tag===1){var l=s.type;if(ms(l))return gp(s,l,r)}return r}function Hh(s,r,l,f,y,S,L,W,G){return s=tu(l,f,!0,s,y,S,L,W,G),s.context=Vh(null),l=s.current,f=rs(),y=Kn(l),S=Sn(f,y),S.callback=r??null,Vn(l,S,y),s.current.lanes=y,Fr(s,y,f),hs(s,f),s}function Ji(s,r,l,f){var y=r.current,S=rs(),L=Kn(y);return l=Vh(l),r.context===null?r.context=l:r.pendingContext=l,r=Sn(S,L),r.payload={element:s},f=f===void 0?null:f,f!==null&&(r.callback=f),s=Vn(y,r,L),s!==null&&(Bs(s,y,L,S),Ei(s,y,L)),L}function Qi(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function qh(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function su(s,r){qh(s,r),(s=s.alternate)&&qh(s,r)}function ib(){return null}var Wh=typeof reportError=="function"?reportError:function(s){console.error(s)};function nu(s){this._internalRoot=s}Xi.prototype.render=nu.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(a(409));Ji(s,r,null,null)},Xi.prototype.unmount=nu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;wa(function(){Ji(null,s,null,null)}),r[yn]=null}};function Xi(s){this._internalRoot=s}Xi.prototype.unstable_scheduleHydration=function(s){if(s){var r=kf();s={blockedOn:null,target:s,priority:r};for(var l=0;l<On.length&&r!==0&&r<On[l].priority;l++);On.splice(l,0,s),l===0&&Tf(s)}};function au(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Zi(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Kh(){}function lb(s,r,l,f,y){if(y){if(typeof f=="function"){var S=f;f=function(){var oe=Qi(L);S.call(oe)}}var L=Hh(r,f,s,0,null,!1,!1,"",Kh);return s._reactRootContainer=L,s[yn]=L.current,Zr(s.nodeType===8?s.parentNode:s),wa(),L}for(;y=s.lastChild;)s.removeChild(y);if(typeof f=="function"){var W=f;f=function(){var oe=Qi(G);W.call(oe)}}var G=tu(s,0,!1,null,null,!1,!1,"",Kh);return s._reactRootContainer=G,s[yn]=G.current,Zr(s.nodeType===8?s.parentNode:s),wa(function(){Ji(r,G,l,f)}),G}function el(s,r,l,f,y){var S=l._reactRootContainer;if(S){var L=S;if(typeof y=="function"){var W=y;y=function(){var G=Qi(L);W.call(G)}}Ji(r,L,s,y)}else L=lb(l,r,s,y,f);return Qi(L)}Ef=function(s){switch(s.tag){case 3:var r=s.stateNode;if(r.current.memoizedState.isDehydrated){var l=Ir(r.pendingLanes);l!==0&&(Rc(r,l|1),hs(r,Dt()),(at&6)===0&&(or=Dt()+500,Bn()))}break;case 13:wa(function(){var f=bn(s,1);if(f!==null){var y=rs();Bs(f,s,1,y)}}),su(s,1)}},kc=function(s){if(s.tag===13){var r=bn(s,134217728);if(r!==null){var l=rs();Bs(r,s,134217728,l)}su(s,134217728)}},Rf=function(s){if(s.tag===13){var r=Kn(s),l=bn(s,r);if(l!==null){var f=rs();Bs(l,s,r,f)}su(s,r)}},kf=function(){return pt},Pf=function(s,r){var l=pt;try{return pt=s,r()}finally{pt=l}},wc=function(s,r,l){switch(r){case"input":if(Ct(s,l),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var f=l[r];if(f!==s&&f.form===s.form){var y=gi(f);if(!y)throw Error(a(90));ke(f),Ct(f,y)}}}break;case"textarea":ht(s,l);break;case"select":r=l.value,r!=null&&Ce(s,!!l.multiple,r,!1)}},pf=Yd,hf=wa;var cb={usingClientEntryPoint:!1,Events:[so,Ka,gi,mf,ff,Yd]},go={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},db={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=yf(s),s===null?null:s.stateNode},findFiberByHostInstance:go.findFiberByHostInstance||ib,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Xo=tl.inject(db),Xs=tl}catch{}}return xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cb,xs.createPortal=function(s,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!au(r))throw Error(a(200));return ob(s,r,null,l)},xs.createRoot=function(s,r){if(!au(s))throw Error(a(299));var l=!1,f="",y=Wh;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=tu(s,1,!1,null,null,l,!1,f,y),s[yn]=r.current,Zr(s.nodeType===8?s.parentNode:s),new nu(r)},xs.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(a(188)):(s=Object.keys(s).join(","),Error(a(268,s)));return s=yf(r),s=s===null?null:s.stateNode,s},xs.flushSync=function(s){return wa(s)},xs.hydrate=function(s,r,l){if(!Zi(r))throw Error(a(200));return el(null,s,r,!0,l)},xs.hydrateRoot=function(s,r,l){if(!au(s))throw Error(a(405));var f=l!=null&&l.hydratedSources||null,y=!1,S="",L=Wh;if(l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(S=l.identifierPrefix),l.onRecoverableError!==void 0&&(L=l.onRecoverableError)),r=Hh(r,null,s,1,l??null,y,!1,S,L),s[yn]=r.current,Zr(s),f)for(s=0;s<f.length;s++)l=f[s],y=l._getVersion,y=y(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,y]:r.mutableSourceEagerHydrationData.push(l,y);return new Xi(r)},xs.render=function(s,r,l){if(!Zi(r))throw Error(a(200));return el(null,s,r,!1,l)},xs.unmountComponentAtNode=function(s){if(!Zi(s))throw Error(a(40));return s._reactRootContainer?(wa(function(){el(null,null,s,!1,function(){s._reactRootContainer=null,s[yn]=null})}),!0):!1},xs.unstable_batchedUpdates=Yd,xs.unstable_renderSubtreeIntoContainer=function(s,r,l,f){if(!Zi(l))throw Error(a(200));if(s==null||s._reactInternals===void 0)throw Error(a(38));return el(s,r,l,!1,f)},xs.version="18.3.1-next-f1338f8080-20240426",xs}var tx;function Ng(){if(tx)return iu.exports;tx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),iu.exports=vb(),iu.exports}var sx;function yb(){if(sx)return sl;sx=1;var t=Ng();return sl.createRoot=t.createRoot,sl.hydrateRoot=t.hydrateRoot,sl}var jb=yb(),g=Dl();const Zn=wg(g),hm=mb({__proto__:null,default:Zn},[g]);var gr=Ng();const wb=wg(gr);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},_o.apply(this,arguments)}var ta;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ta||(ta={}));const nx="popstate";function Nb(t){t===void 0&&(t={});function n(o,i){let{pathname:c,search:d,hash:u}=o.location;return $u("",{pathname:c,search:d,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(o,i){return typeof i=="string"?i:bl(i)}return Sb(n,a,null,t)}function Lt(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function bg(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function bb(){return Math.random().toString(36).substr(2,8)}function ax(t,n){return{usr:t.state,key:t.key,idx:n}}function $u(t,n,a,o){return a===void 0&&(a=null),_o({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?vr(n):n,{state:a,key:n&&n.key||o||bb()})}function bl(t){let{pathname:n="/",search:a="",hash:o=""}=t;return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function vr(t){let n={};if(t){let a=t.indexOf("#");a>=0&&(n.hash=t.substr(a),t=t.substr(0,a));let o=t.indexOf("?");o>=0&&(n.search=t.substr(o),t=t.substr(0,o)),t&&(n.pathname=t)}return n}function Sb(t,n,a,o){o===void 0&&(o={});let{window:i=document.defaultView,v5Compat:c=!1}=o,d=i.history,u=ta.Pop,m=null,h=x();h==null&&(h=0,d.replaceState(_o({},d.state,{idx:h}),""));function x(){return(d.state||{idx:null}).idx}function p(){u=ta.Pop;let w=x(),_=w==null?null:w-h;h=w,m&&m({action:u,location:v.location,delta:_})}function j(w,_){u=ta.Push;let C=$u(v.location,w,_);h=x()+1;let E=ax(C,h),R=v.createHref(C);try{d.pushState(E,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(R)}c&&m&&m({action:u,location:v.location,delta:1})}function b(w,_){u=ta.Replace;let C=$u(v.location,w,_);h=x();let E=ax(C,h),R=v.createHref(C);d.replaceState(E,"",R),c&&m&&m({action:u,location:v.location,delta:0})}function N(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof w=="string"?w:bl(w);return C=C.replace(/ $/,"%20"),Lt(_,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,_)}let v={get action(){return u},get location(){return t(i,d)},listen(w){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(nx,p),m=w,()=>{i.removeEventListener(nx,p),m=null}},createHref(w){return n(i,w)},createURL:N,encodeLocation(w){let _=N(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:j,replace:b,go(w){return d.go(w)}};return v}var rx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rx||(rx={}));function Cb(t,n,a){return a===void 0&&(a="/"),_b(t,n,a)}function _b(t,n,a,o){let i=typeof n=="string"?vr(n):n,c=xm(i.pathname||"/",a);if(c==null)return null;let d=Sg(t);Eb(d);let u=null;for(let m=0;u==null&&m<d.length;++m){let h=Fb(c);u=Lb(d[m],h)}return u}function Sg(t,n,a,o){n===void 0&&(n=[]),a===void 0&&(a=[]),o===void 0&&(o="");let i=(c,d,u)=>{let m={relativePath:u===void 0?c.path||"":u,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};m.relativePath.startsWith("/")&&(Lt(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let h=na([o,m.relativePath]),x=a.concat(m);c.children&&c.children.length>0&&(Lt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Sg(c.children,n,x,h)),!(c.path==null&&!c.index)&&n.push({path:h,score:Db(h,c.index),routesMeta:x})};return t.forEach((c,d)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))i(c,d);else for(let m of Cg(c.path))i(c,d,m)}),n}function Cg(t){let n=t.split("/");if(n.length===0)return[];let[a,...o]=n,i=a.endsWith("?"),c=a.replace(/\?$/,"");if(o.length===0)return i?[c,""]:[c];let d=Cg(o.join("/")),u=[];return u.push(...d.map(m=>m===""?c:[c,m].join("/"))),i&&u.push(...d),u.map(m=>t.startsWith("/")&&m===""?"/":m)}function Eb(t){t.sort((n,a)=>n.score!==a.score?a.score-n.score:Ob(n.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}const Rb=/^:[\w-]+$/,kb=3,Pb=2,Ab=1,Tb=10,Mb=-2,ox=t=>t==="*";function Db(t,n){let a=t.split("/"),o=a.length;return a.some(ox)&&(o+=Mb),n&&(o+=Pb),a.filter(i=>!ox(i)).reduce((i,c)=>i+(Rb.test(c)?kb:c===""?Ab:Tb),o)}function Ob(t,n){return t.length===n.length&&t.slice(0,-1).every((o,i)=>o===n[i])?t[t.length-1]-n[n.length-1]:0}function Lb(t,n,a){let{routesMeta:o}=t,i={},c="/",d=[];for(let u=0;u<o.length;++u){let m=o[u],h=u===o.length-1,x=c==="/"?n:n.slice(c.length)||"/",p=$b({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},x),j=m.route;if(!p)return null;Object.assign(i,p.params),d.push({params:i,pathname:na([c,p.pathname]),pathnameBase:Vb(na([c,p.pathnameBase])),route:j}),p.pathnameBase!=="/"&&(c=na([c,p.pathnameBase]))}return d}function $b(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,o]=Ib(t.path,t.caseSensitive,t.end),i=n.match(a);if(!i)return null;let c=i[0],d=c.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:o.reduce((h,x,p)=>{let{paramName:j,isOptional:b}=x;if(j==="*"){let v=u[p]||"";d=c.slice(0,c.length-v.length).replace(/(.)\/+$/,"$1")}const N=u[p];return b&&!N?h[j]=void 0:h[j]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:c,pathnameBase:d,pattern:t}}function Ib(t,n,a){n===void 0&&(n=!1),a===void 0&&(a=!0),bg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,m)=>(o.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),o]}function Fb(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return bg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function xm(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,o=t.charAt(a);return o&&o!=="/"?null:t.slice(a)||"/"}function zb(t,n){n===void 0&&(n="/");let{pathname:a,search:o="",hash:i=""}=typeof t=="string"?vr(t):t;return{pathname:a?a.startsWith("/")?a:Bb(a,n):n,search:Hb(o),hash:qb(i)}}function Bb(t,n){let a=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?a.length>1&&a.pop():i!=="."&&a.push(i)}),a.length>1?a.join("/"):"/"}function du(t,n,a,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ub(t){return t.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function gm(t,n){let a=Ub(t);return n?a.map((o,i)=>i===a.length-1?o.pathname:o.pathnameBase):a.map(o=>o.pathnameBase)}function vm(t,n,a,o){o===void 0&&(o=!1);let i;typeof t=="string"?i=vr(t):(i=_o({},t),Lt(!i.pathname||!i.pathname.includes("?"),du("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),du("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),du("#","search","hash",i)));let c=t===""||i.pathname==="",d=c?"/":i.pathname,u;if(d==null)u=a;else{let p=n.length-1;if(!o&&d.startsWith("..")){let j=d.split("/");for(;j[0]==="..";)j.shift(),p-=1;i.pathname=j.join("/")}u=p>=0?n[p]:"/"}let m=zb(i,u),h=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(h||x)&&(m.pathname+="/"),m}const na=t=>t.join("/").replace(/\/\/+/g,"/"),Vb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Wb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _g=["post","put","patch","delete"];new Set(_g);const Kb=["get",..._g];new Set(Kb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},Eo.apply(this,arguments)}const ym=g.createContext(null),Gb=g.createContext(null),la=g.createContext(null),Ol=g.createContext(null),dn=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Eg=g.createContext(null);function Yb(t,n){let{relative:a}=n===void 0?{}:n;yr()||Lt(!1);let{basename:o,navigator:i}=g.useContext(la),{hash:c,pathname:d,search:u}=kg(t,{relative:a}),m=d;return o!=="/"&&(m=d==="/"?o:na([o,d])),i.createHref({pathname:m,search:u,hash:c})}function yr(){return g.useContext(Ol)!=null}function Ut(){return yr()||Lt(!1),g.useContext(Ol).location}function Rg(t){g.useContext(la).static||g.useLayoutEffect(t)}function cs(){let{isDataRoute:t}=g.useContext(dn);return t?dS():Jb()}function Jb(){yr()||Lt(!1);let t=g.useContext(ym),{basename:n,future:a,navigator:o}=g.useContext(la),{matches:i}=g.useContext(dn),{pathname:c}=Ut(),d=JSON.stringify(gm(i,a.v7_relativeSplatPath)),u=g.useRef(!1);return Rg(()=>{u.current=!0}),g.useCallback(function(h,x){if(x===void 0&&(x={}),!u.current)return;if(typeof h=="number"){o.go(h);return}let p=vm(h,JSON.parse(d),c,x.relative==="path");t==null&&n!=="/"&&(p.pathname=p.pathname==="/"?n:na([n,p.pathname])),(x.replace?o.replace:o.push)(p,x.state,x)},[n,o,d,c,t])}const Qb=g.createContext(null);function Xb(t){let n=g.useContext(dn).outlet;return n&&g.createElement(Qb.Provider,{value:t},n)}function jr(){let{matches:t}=g.useContext(dn),n=t[t.length-1];return n?n.params:{}}function kg(t,n){let{relative:a}=n===void 0?{}:n,{future:o}=g.useContext(la),{matches:i}=g.useContext(dn),{pathname:c}=Ut(),d=JSON.stringify(gm(i,o.v7_relativeSplatPath));return g.useMemo(()=>vm(t,JSON.parse(d),c,a==="path"),[t,d,c,a])}function Zb(t,n){return eS(t,n)}function eS(t,n,a,o){yr()||Lt(!1);let{navigator:i}=g.useContext(la),{matches:c}=g.useContext(dn),d=c[c.length-1],u=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let h=Ut(),x;if(n){var p;let w=typeof n=="string"?vr(n):n;m==="/"||(p=w.pathname)!=null&&p.startsWith(m)||Lt(!1),x=w}else x=h;let j=x.pathname||"/",b=j;if(m!=="/"){let w=m.replace(/^\//,"").split("/");b="/"+j.replace(/^\//,"").split("/").slice(w.length).join("/")}let N=Cb(t,{pathname:b}),v=rS(N&&N.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:na([m,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?m:na([m,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),c,a,o);return n&&v?g.createElement(Ol.Provider,{value:{location:Eo({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:ta.Pop}},v):v}function tS(){let t=cS(),n=Wb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},n),a?g.createElement("pre",{style:i},a):null,null)}const sS=g.createElement(tS,null);class nS extends g.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){console.error("React Router caught the following error during render",n,a)}render(){return this.state.error!==void 0?g.createElement(dn.Provider,{value:this.props.routeContext},g.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aS(t){let{routeContext:n,match:a,children:o}=t,i=g.useContext(ym);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(dn.Provider,{value:n},o)}function rS(t,n,a,o){var i;if(n===void 0&&(n=[]),a===void 0&&(a=null),o===void 0&&(o=null),t==null){var c;if(!a)return null;if(a.errors)t=a.matches;else if((c=o)!=null&&c.v7_partialHydration&&n.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let d=t,u=(i=a)==null?void 0:i.errors;if(u!=null){let x=d.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);x>=0||Lt(!1),d=d.slice(0,Math.min(d.length,x+1))}let m=!1,h=-1;if(a&&o&&o.v7_partialHydration)for(let x=0;x<d.length;x++){let p=d[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=x),p.route.id){let{loaderData:j,errors:b}=a,N=p.route.loader&&j[p.route.id]===void 0&&(!b||b[p.route.id]===void 0);if(p.route.lazy||N){m=!0,h>=0?d=d.slice(0,h+1):d=[d[0]];break}}}return d.reduceRight((x,p,j)=>{let b,N=!1,v=null,w=null;a&&(b=u&&p.route.id?u[p.route.id]:void 0,v=p.route.errorElement||sS,m&&(h<0&&j===0?(uS("route-fallback"),N=!0,w=null):h===j&&(N=!0,w=p.route.hydrateFallbackElement||null)));let _=n.concat(d.slice(0,j+1)),C=()=>{let E;return b?E=v:N?E=w:p.route.Component?E=g.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=x,g.createElement(aS,{match:p,routeContext:{outlet:x,matches:_,isDataRoute:a!=null},children:E})};return a&&(p.route.ErrorBoundary||p.route.errorElement||j===0)?g.createElement(nS,{location:a.location,revalidation:a.revalidation,component:v,error:b,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}var Pg=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Pg||{}),Ag=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Ag||{});function oS(t){let n=g.useContext(ym);return n||Lt(!1),n}function iS(t){let n=g.useContext(Gb);return n||Lt(!1),n}function lS(t){let n=g.useContext(dn);return n||Lt(!1),n}function Tg(t){let n=lS(),a=n.matches[n.matches.length-1];return a.route.id||Lt(!1),a.route.id}function cS(){var t;let n=g.useContext(Eg),a=iS(),o=Tg();return n!==void 0?n:(t=a.errors)==null?void 0:t[o]}function dS(){let{router:t}=oS(Pg.UseNavigateStable),n=Tg(Ag.UseNavigateStable),a=g.useRef(!1);return Rg(()=>{a.current=!0}),g.useCallback(function(i,c){c===void 0&&(c={}),a.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Eo({fromRouteId:n},c)))},[t,n])}const ix={};function uS(t,n,a){ix[t]||(ix[t]=!0)}function mS(t,n){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gt(t){let{to:n,replace:a,state:o,relative:i}=t;yr()||Lt(!1);let{future:c,static:d}=g.useContext(la),{matches:u}=g.useContext(dn),{pathname:m}=Ut(),h=cs(),x=vm(n,gm(u,c.v7_relativeSplatPath),m,i==="path"),p=JSON.stringify(x);return g.useEffect(()=>h(JSON.parse(p),{replace:a,state:o,relative:i}),[h,p,i,a,o]),null}function Mo(t){return Xb(t.context)}function Le(t){Lt(!1)}function fS(t){let{basename:n="/",children:a=null,location:o,navigationType:i=ta.Pop,navigator:c,static:d=!1,future:u}=t;yr()&&Lt(!1);let m=n.replace(/^\/*/,"/"),h=g.useMemo(()=>({basename:m,navigator:c,static:d,future:Eo({v7_relativeSplatPath:!1},u)}),[m,u,c,d]);typeof o=="string"&&(o=vr(o));let{pathname:x="/",search:p="",hash:j="",state:b=null,key:N="default"}=o,v=g.useMemo(()=>{let w=xm(x,m);return w==null?null:{location:{pathname:w,search:p,hash:j,state:b,key:N},navigationType:i}},[m,x,p,j,b,N,i]);return v==null?null:g.createElement(la.Provider,{value:h},g.createElement(Ol.Provider,{children:a,value:v}))}function pS(t){let{children:n,location:a}=t;return Zb(Iu(n),a)}new Promise(()=>{});function Iu(t,n){n===void 0&&(n=[]);let a=[];return g.Children.forEach(t,(o,i)=>{if(!g.isValidElement(o))return;let c=[...n,i];if(o.type===g.Fragment){a.push.apply(a,Iu(o.props.children,c));return}o.type!==Le&&Lt(!1),!o.props.index||!o.props.children||Lt(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Iu(o.props.children,c)),a.push(d)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},Fu.apply(this,arguments)}function hS(t,n){if(t==null)return{};var a={},o=Object.keys(t),i,c;for(c=0;c<o.length;c++)i=o[c],!(n.indexOf(i)>=0)&&(a[i]=t[i]);return a}function xS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gS(t,n){return t.button===0&&(!n||n==="_self")&&!xS(t)}function zu(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,a)=>{let o=t[a];return n.concat(Array.isArray(o)?o.map(i=>[a,i]):[[a,o]])},[]))}function vS(t,n){let a=zu(t);return n&&n.forEach((o,i)=>{a.has(i)||n.getAll(i).forEach(c=>{a.append(i,c)})}),a}const yS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jS="6";try{window.__reactRouterVersion=jS}catch{}const wS="startTransition",lx=hm[wS];function NS(t){let{basename:n,children:a,future:o,window:i}=t,c=g.useRef();c.current==null&&(c.current=Nb({window:i,v5Compat:!0}));let d=c.current,[u,m]=g.useState({action:d.action,location:d.location}),{v7_startTransition:h}=o||{},x=g.useCallback(p=>{h&&lx?lx(()=>m(p)):m(p)},[m,h]);return g.useLayoutEffect(()=>d.listen(x),[d,x]),g.useEffect(()=>mS(o),[o]),g.createElement(fS,{basename:n,children:a,location:u.location,navigationType:u.action,navigator:d,future:o})}const bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=g.forwardRef(function(n,a){let{onClick:o,relative:i,reloadDocument:c,replace:d,state:u,target:m,to:h,preventScrollReset:x,viewTransition:p}=n,j=hS(n,yS),{basename:b}=g.useContext(la),N,v=!1;if(typeof h=="string"&&SS.test(h)&&(N=h,bS))try{let E=new URL(window.location.href),R=h.startsWith("//")?new URL(E.protocol+h):new URL(h),A=xm(R.pathname,b);R.origin===E.origin&&A!=null?h=A+R.search+R.hash:v=!0}catch{}let w=Yb(h,{relative:i}),_=CS(h,{replace:d,state:u,target:m,preventScrollReset:x,relative:i,viewTransition:p});function C(E){o&&o(E),E.defaultPrevented||_(E)}return g.createElement("a",Fu({},j,{href:N||w,onClick:v||c?o:C,ref:a,target:m}))});var cx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cx||(cx={}));var dx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dx||(dx={}));function CS(t,n){let{target:a,replace:o,state:i,preventScrollReset:c,relative:d,viewTransition:u}=n===void 0?{}:n,m=cs(),h=Ut(),x=kg(t,{relative:d});return g.useCallback(p=>{if(gS(p,a)){p.preventDefault();let j=o!==void 0?o:bl(h)===bl(x);m(t,{replace:j,state:i,preventScrollReset:c,relative:d,viewTransition:u})}},[h,m,x,o,i,a,t,c,d,u])}function _S(t){let n=g.useRef(zu(t)),a=g.useRef(!1),o=Ut(),i=g.useMemo(()=>vS(o.search,a.current?null:n.current),[o.search]),c=cs(),d=g.useCallback((u,m)=>{const h=zu(typeof u=="function"?u(i):u);a.current=!0,c("?"+h,m)},[c,i]);return[i,d]}const ES="modulepreload",RS=function(t){return"/"+t},ux={},jm=function(n,a,o){let i=Promise.resolve();if(a&&a.length>0){let d=function(h){return Promise.all(h.map(x=>Promise.resolve(x).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=d(a.map(h=>{if(h=RS(h),h in ux)return;ux[h]=!0;const x=h.endsWith(".css"),p=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const j=document.createElement("link");if(j.rel=x?"stylesheet":ES,x||(j.as="script"),j.crossOrigin="",j.href=h,m&&j.setAttribute("nonce",m),document.head.appendChild(j),x)return new Promise((b,N)=>{j.addEventListener("load",b),j.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return i.then(d=>{for(const u of d||[])u.status==="rejected"&&c(u.reason);return n().catch(c)})};function Mg(t,n){return function(){return t.apply(n,arguments)}}const{toString:kS}=Object.prototype,{getPrototypeOf:wm}=Object,{iterator:Ll,toStringTag:Dg}=Symbol,$l=(t=>n=>{const a=kS.call(n);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Gs=t=>(t=t.toLowerCase(),n=>$l(n)===t),Il=t=>n=>typeof n===t,{isArray:wr}=Array,fr=Il("undefined");function Do(t){return t!==null&&!fr(t)&&t.constructor!==null&&!fr(t.constructor)&&gs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Og=Gs("ArrayBuffer");function PS(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Og(t.buffer),n}const AS=Il("string"),gs=Il("function"),Lg=Il("number"),Oo=t=>t!==null&&typeof t=="object",TS=t=>t===!0||t===!1,fl=t=>{if($l(t)!=="object")return!1;const n=wm(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Dg in t)&&!(Ll in t)},MS=t=>{if(!Oo(t)||Do(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},DS=Gs("Date"),OS=Gs("File"),LS=Gs("Blob"),$S=Gs("FileList"),IS=t=>Oo(t)&&gs(t.pipe),FS=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||gs(t.append)&&((n=$l(t))==="formdata"||n==="object"&&gs(t.toString)&&t.toString()==="[object FormData]"))},zS=Gs("URLSearchParams"),[BS,US,VS,HS]=["ReadableStream","Request","Response","Headers"].map(Gs),qS=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lo(t,n,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let o,i;if(typeof t!="object"&&(t=[t]),wr(t))for(o=0,i=t.length;o<i;o++)n.call(null,t[o],o,t);else{if(Do(t))return;const c=a?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let u;for(o=0;o<d;o++)u=c[o],n.call(null,t[u],u,t)}}function $g(t,n){if(Do(t))return null;n=n.toLowerCase();const a=Object.keys(t);let o=a.length,i;for(;o-- >0;)if(i=a[o],n===i.toLowerCase())return i;return null}const Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ig=t=>!fr(t)&&t!==Ca;function Bu(){const{caseless:t,skipUndefined:n}=Ig(this)&&this||{},a={},o=(i,c)=>{const d=t&&$g(a,c)||c;fl(a[d])&&fl(i)?a[d]=Bu(a[d],i):fl(i)?a[d]=Bu({},i):wr(i)?a[d]=i.slice():(!n||!fr(i))&&(a[d]=i)};for(let i=0,c=arguments.length;i<c;i++)arguments[i]&&Lo(arguments[i],o);return a}const WS=(t,n,a,{allOwnKeys:o}={})=>(Lo(n,(i,c)=>{a&&gs(i)?t[c]=Mg(i,a):t[c]=i},{allOwnKeys:o}),t),KS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),GS=(t,n,a,o)=>{t.prototype=Object.create(n.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),a&&Object.assign(t.prototype,a)},YS=(t,n,a,o)=>{let i,c,d;const u={};if(n=n||{},t==null)return n;do{for(i=Object.getOwnPropertyNames(t),c=i.length;c-- >0;)d=i[c],(!o||o(d,t,n))&&!u[d]&&(n[d]=t[d],u[d]=!0);t=a!==!1&&wm(t)}while(t&&(!a||a(t,n))&&t!==Object.prototype);return n},JS=(t,n,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=n.length;const o=t.indexOf(n,a);return o!==-1&&o===a},QS=t=>{if(!t)return null;if(wr(t))return t;let n=t.length;if(!Lg(n))return null;const a=new Array(n);for(;n-- >0;)a[n]=t[n];return a},XS=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&wm(Uint8Array)),ZS=(t,n)=>{const o=(t&&t[Ll]).call(t);let i;for(;(i=o.next())&&!i.done;){const c=i.value;n.call(t,c[0],c[1])}},e1=(t,n)=>{let a;const o=[];for(;(a=t.exec(n))!==null;)o.push(a);return o},t1=Gs("HTMLFormElement"),s1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,o,i){return o.toUpperCase()+i}),mx=(({hasOwnProperty:t})=>(n,a)=>t.call(n,a))(Object.prototype),n1=Gs("RegExp"),Fg=(t,n)=>{const a=Object.getOwnPropertyDescriptors(t),o={};Lo(a,(i,c)=>{let d;(d=n(i,c,t))!==!1&&(o[c]=d||i)}),Object.defineProperties(t,o)},a1=t=>{Fg(t,(n,a)=>{if(gs(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const o=t[a];if(gs(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},r1=(t,n)=>{const a={},o=i=>{i.forEach(c=>{a[c]=!0})};return wr(t)?o(t):o(String(t).split(n)),a},o1=()=>{},i1=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n;function l1(t){return!!(t&&gs(t.append)&&t[Dg]==="FormData"&&t[Ll])}const c1=t=>{const n=new Array(10),a=(o,i)=>{if(Oo(o)){if(n.indexOf(o)>=0)return;if(Do(o))return o;if(!("toJSON"in o)){n[i]=o;const c=wr(o)?[]:{};return Lo(o,(d,u)=>{const m=a(d,i+1);!fr(m)&&(c[u]=m)}),n[i]=void 0,c}}return o};return a(t,0)},d1=Gs("AsyncFunction"),u1=t=>t&&(Oo(t)||gs(t))&&gs(t.then)&&gs(t.catch),zg=((t,n)=>t?setImmediate:n?((a,o)=>(Ca.addEventListener("message",({source:i,data:c})=>{i===Ca&&c===a&&o.length&&o.shift()()},!1),i=>{o.push(i),Ca.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",gs(Ca.postMessage)),m1=typeof queueMicrotask<"u"?queueMicrotask.bind(Ca):typeof process<"u"&&process.nextTick||zg,f1=t=>t!=null&&gs(t[Ll]),ie={isArray:wr,isArrayBuffer:Og,isBuffer:Do,isFormData:FS,isArrayBufferView:PS,isString:AS,isNumber:Lg,isBoolean:TS,isObject:Oo,isPlainObject:fl,isEmptyObject:MS,isReadableStream:BS,isRequest:US,isResponse:VS,isHeaders:HS,isUndefined:fr,isDate:DS,isFile:OS,isBlob:LS,isRegExp:n1,isFunction:gs,isStream:IS,isURLSearchParams:zS,isTypedArray:XS,isFileList:$S,forEach:Lo,merge:Bu,extend:WS,trim:qS,stripBOM:KS,inherits:GS,toFlatObject:YS,kindOf:$l,kindOfTest:Gs,endsWith:JS,toArray:QS,forEachEntry:ZS,matchAll:e1,isHTMLForm:t1,hasOwnProperty:mx,hasOwnProp:mx,reduceDescriptors:Fg,freezeMethods:a1,toObjectSet:r1,toCamelCase:s1,noop:o1,toFiniteNumber:i1,findKey:$g,global:Ca,isContextDefined:Ig,isSpecCompliantForm:l1,toJSONObject:c1,isAsyncFn:d1,isThenable:u1,setImmediate:zg,asap:m1,isIterable:f1};function qe(t,n,a,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),a&&(this.config=a),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}ie.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const Bg=qe.prototype,Ug={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ug[t]={value:t}});Object.defineProperties(qe,Ug);Object.defineProperty(Bg,"isAxiosError",{value:!0});qe.from=(t,n,a,o,i,c)=>{const d=Object.create(Bg);ie.toFlatObject(t,d,function(x){return x!==Error.prototype},h=>h!=="isAxiosError");const u=t&&t.message?t.message:"Error",m=n==null&&t?t.code:n;return qe.call(d,u,m,a,o,i),t&&d.cause==null&&Object.defineProperty(d,"cause",{value:t,configurable:!0}),d.name=t&&t.name||"Error",c&&Object.assign(d,c),d};const p1=null;function Uu(t){return ie.isPlainObject(t)||ie.isArray(t)}function Vg(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function fx(t,n,a){return t?t.concat(n).map(function(i,c){return i=Vg(i),!a&&c?"["+i+"]":i}).join(a?".":""):n}function h1(t){return ie.isArray(t)&&!t.some(Uu)}const x1=ie.toFlatObject(ie,{},null,function(n){return/^is[A-Z]/.test(n)});function Fl(t,n,a){if(!ie.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,a=ie.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!ie.isUndefined(w[v])});const o=a.metaTokens,i=a.visitor||x,c=a.dots,d=a.indexes,m=(a.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(n);if(!ie.isFunction(i))throw new TypeError("visitor must be a function");function h(N){if(N===null)return"";if(ie.isDate(N))return N.toISOString();if(ie.isBoolean(N))return N.toString();if(!m&&ie.isBlob(N))throw new qe("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(N)||ie.isTypedArray(N)?m&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function x(N,v,w){let _=N;if(N&&!w&&typeof N=="object"){if(ie.endsWith(v,"{}"))v=o?v:v.slice(0,-2),N=JSON.stringify(N);else if(ie.isArray(N)&&h1(N)||(ie.isFileList(N)||ie.endsWith(v,"[]"))&&(_=ie.toArray(N)))return v=Vg(v),_.forEach(function(E,R){!(ie.isUndefined(E)||E===null)&&n.append(d===!0?fx([v],R,c):d===null?v:v+"[]",h(E))}),!1}return Uu(N)?!0:(n.append(fx(w,v,c),h(N)),!1)}const p=[],j=Object.assign(x1,{defaultVisitor:x,convertValue:h,isVisitable:Uu});function b(N,v){if(!ie.isUndefined(N)){if(p.indexOf(N)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(N),ie.forEach(N,function(_,C){(!(ie.isUndefined(_)||_===null)&&i.call(n,_,ie.isString(C)?C.trim():C,v,j))===!0&&b(_,v?v.concat(C):[C])}),p.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return b(t),n}function px(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function Nm(t,n){this._pairs=[],t&&Fl(t,this,n)}const Hg=Nm.prototype;Hg.append=function(n,a){this._pairs.push([n,a])};Hg.toString=function(n){const a=n?function(o){return n.call(this,o,px)}:px;return this._pairs.map(function(i){return a(i[0])+"="+a(i[1])},"").join("&")};function g1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qg(t,n,a){if(!n)return t;const o=a&&a.encode||g1;ie.isFunction(a)&&(a={serialize:a});const i=a&&a.serialize;let c;if(i?c=i(n,a):c=ie.isURLSearchParams(n)?n.toString():new Nm(n,a).toString(o),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class hx{constructor(){this.handlers=[]}use(n,a,o){return this.handlers.push({fulfilled:n,rejected:a,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ie.forEach(this.handlers,function(o){o!==null&&n(o)})}}const Wg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},v1=typeof URLSearchParams<"u"?URLSearchParams:Nm,y1=typeof FormData<"u"?FormData:null,j1=typeof Blob<"u"?Blob:null,w1={isBrowser:!0,classes:{URLSearchParams:v1,FormData:y1,Blob:j1},protocols:["http","https","file","blob","url","data"]},bm=typeof window<"u"&&typeof document<"u",Vu=typeof navigator=="object"&&navigator||void 0,N1=bm&&(!Vu||["ReactNative","NativeScript","NS"].indexOf(Vu.product)<0),b1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",S1=bm&&window.location.href||"http://localhost",C1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bm,hasStandardBrowserEnv:N1,hasStandardBrowserWebWorkerEnv:b1,navigator:Vu,origin:S1},Symbol.toStringTag,{value:"Module"})),es={...C1,...w1};function _1(t,n){return Fl(t,new es.classes.URLSearchParams,{visitor:function(a,o,i,c){return es.isNode&&ie.isBuffer(a)?(this.append(o,a.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...n})}function E1(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function R1(t){const n={},a=Object.keys(t);let o;const i=a.length;let c;for(o=0;o<i;o++)c=a[o],n[c]=t[c];return n}function Kg(t){function n(a,o,i,c){let d=a[c++];if(d==="__proto__")return!0;const u=Number.isFinite(+d),m=c>=a.length;return d=!d&&ie.isArray(i)?i.length:d,m?(ie.hasOwnProp(i,d)?i[d]=[i[d],o]:i[d]=o,!u):((!i[d]||!ie.isObject(i[d]))&&(i[d]=[]),n(a,o,i[d],c)&&ie.isArray(i[d])&&(i[d]=R1(i[d])),!u)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const a={};return ie.forEachEntry(t,(o,i)=>{n(E1(o),i,a,0)}),a}return null}function k1(t,n,a){if(ie.isString(t))try{return(n||JSON.parse)(t),ie.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(a||JSON.stringify)(t)}const $o={transitional:Wg,adapter:["xhr","http","fetch"],transformRequest:[function(n,a){const o=a.getContentType()||"",i=o.indexOf("application/json")>-1,c=ie.isObject(n);if(c&&ie.isHTMLForm(n)&&(n=new FormData(n)),ie.isFormData(n))return i?JSON.stringify(Kg(n)):n;if(ie.isArrayBuffer(n)||ie.isBuffer(n)||ie.isStream(n)||ie.isFile(n)||ie.isBlob(n)||ie.isReadableStream(n))return n;if(ie.isArrayBufferView(n))return n.buffer;if(ie.isURLSearchParams(n))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let u;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return _1(n,this.formSerializer).toString();if((u=ie.isFileList(n))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Fl(u?{"files[]":n}:n,m&&new m,this.formSerializer)}}return c||i?(a.setContentType("application/json",!1),k1(n)):n}],transformResponse:[function(n){const a=this.transitional||$o.transitional,o=a&&a.forcedJSONParsing,i=this.responseType==="json";if(ie.isResponse(n)||ie.isReadableStream(n))return n;if(n&&ie.isString(n)&&(o&&!this.responseType||i)){const d=!(a&&a.silentJSONParsing)&&i;try{return JSON.parse(n,this.parseReviver)}catch(u){if(d)throw u.name==="SyntaxError"?qe.from(u,qe.ERR_BAD_RESPONSE,this,null,this.response):u}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:es.classes.FormData,Blob:es.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{$o.headers[t]={}});const P1=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),A1=t=>{const n={};let a,o,i;return t&&t.split(`
`).forEach(function(d){i=d.indexOf(":"),a=d.substring(0,i).trim().toLowerCase(),o=d.substring(i+1).trim(),!(!a||n[a]&&P1[a])&&(a==="set-cookie"?n[a]?n[a].push(o):n[a]=[o]:n[a]=n[a]?n[a]+", "+o:o)}),n},xx=Symbol("internals");function yo(t){return t&&String(t).trim().toLowerCase()}function pl(t){return t===!1||t==null?t:ie.isArray(t)?t.map(pl):String(t)}function T1(t){const n=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=a.exec(t);)n[o[1]]=o[2];return n}const M1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function uu(t,n,a,o,i){if(ie.isFunction(o))return o.call(this,n,a);if(i&&(n=a),!!ie.isString(n)){if(ie.isString(o))return n.indexOf(o)!==-1;if(ie.isRegExp(o))return o.test(n)}}function D1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,a,o)=>a.toUpperCase()+o)}function O1(t,n){const a=ie.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+a,{value:function(i,c,d){return this[o].call(this,n,i,c,d)},configurable:!0})})}let vs=class{constructor(n){n&&this.set(n)}set(n,a,o){const i=this;function c(u,m,h){const x=yo(m);if(!x)throw new Error("header name must be a non-empty string");const p=ie.findKey(i,x);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||m]=pl(u))}const d=(u,m)=>ie.forEach(u,(h,x)=>c(h,x,m));if(ie.isPlainObject(n)||n instanceof this.constructor)d(n,a);else if(ie.isString(n)&&(n=n.trim())&&!M1(n))d(A1(n),a);else if(ie.isObject(n)&&ie.isIterable(n)){let u={},m,h;for(const x of n){if(!ie.isArray(x))throw TypeError("Object iterator must return a key-value pair");u[h=x[0]]=(m=u[h])?ie.isArray(m)?[...m,x[1]]:[m,x[1]]:x[1]}d(u,a)}else n!=null&&c(a,n,o);return this}get(n,a){if(n=yo(n),n){const o=ie.findKey(this,n);if(o){const i=this[o];if(!a)return i;if(a===!0)return T1(i);if(ie.isFunction(a))return a.call(this,i,o);if(ie.isRegExp(a))return a.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,a){if(n=yo(n),n){const o=ie.findKey(this,n);return!!(o&&this[o]!==void 0&&(!a||uu(this,this[o],o,a)))}return!1}delete(n,a){const o=this;let i=!1;function c(d){if(d=yo(d),d){const u=ie.findKey(o,d);u&&(!a||uu(o,o[u],u,a))&&(delete o[u],i=!0)}}return ie.isArray(n)?n.forEach(c):c(n),i}clear(n){const a=Object.keys(this);let o=a.length,i=!1;for(;o--;){const c=a[o];(!n||uu(this,this[c],c,n,!0))&&(delete this[c],i=!0)}return i}normalize(n){const a=this,o={};return ie.forEach(this,(i,c)=>{const d=ie.findKey(o,c);if(d){a[d]=pl(i),delete a[c];return}const u=n?D1(c):String(c).trim();u!==c&&delete a[c],a[u]=pl(i),o[u]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const a=Object.create(null);return ie.forEach(this,(o,i)=>{o!=null&&o!==!1&&(a[i]=n&&ie.isArray(o)?o.join(", "):o)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,a])=>n+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...a){const o=new this(n);return a.forEach(i=>o.set(i)),o}static accessor(n){const o=(this[xx]=this[xx]={accessors:{}}).accessors,i=this.prototype;function c(d){const u=yo(d);o[u]||(O1(i,d),o[u]=!0)}return ie.isArray(n)?n.forEach(c):c(n),this}};vs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(vs.prototype,({value:t},n)=>{let a=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(o){this[a]=o}}});ie.freezeMethods(vs);function mu(t,n){const a=this||$o,o=n||a,i=vs.from(o.headers);let c=o.data;return ie.forEach(t,function(u){c=u.call(a,c,i.normalize(),n?n.status:void 0)}),i.normalize(),c}function Gg(t){return!!(t&&t.__CANCEL__)}function Nr(t,n,a){qe.call(this,t??"canceled",qe.ERR_CANCELED,n,a),this.name="CanceledError"}ie.inherits(Nr,qe,{__CANCEL__:!0});function Yg(t,n,a){const o=a.config.validateStatus;!a.status||!o||o(a.status)?t(a):n(new qe("Request failed with status code "+a.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function L1(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function $1(t,n){t=t||10;const a=new Array(t),o=new Array(t);let i=0,c=0,d;return n=n!==void 0?n:1e3,function(m){const h=Date.now(),x=o[c];d||(d=h),a[i]=m,o[i]=h;let p=c,j=0;for(;p!==i;)j+=a[p++],p=p%t;if(i=(i+1)%t,i===c&&(c=(c+1)%t),h-d<n)return;const b=x&&h-x;return b?Math.round(j*1e3/b):void 0}}function I1(t,n){let a=0,o=1e3/n,i,c;const d=(h,x=Date.now())=>{a=x,i=null,c&&(clearTimeout(c),c=null),t(...h)};return[(...h)=>{const x=Date.now(),p=x-a;p>=o?d(h,x):(i=h,c||(c=setTimeout(()=>{c=null,d(i)},o-p)))},()=>i&&d(i)]}const Sl=(t,n,a=3)=>{let o=0;const i=$1(50,250);return I1(c=>{const d=c.loaded,u=c.lengthComputable?c.total:void 0,m=d-o,h=i(m),x=d<=u;o=d;const p={loaded:d,total:u,progress:u?d/u:void 0,bytes:m,rate:h||void 0,estimated:h&&u&&x?(u-d)/h:void 0,event:c,lengthComputable:u!=null,[n?"download":"upload"]:!0};t(p)},a)},gx=(t,n)=>{const a=t!=null;return[o=>n[0]({lengthComputable:a,total:t,loaded:o}),n[1]]},vx=t=>(...n)=>ie.asap(()=>t(...n)),F1=es.hasStandardBrowserEnv?((t,n)=>a=>(a=new URL(a,es.origin),t.protocol===a.protocol&&t.host===a.host&&(n||t.port===a.port)))(new URL(es.origin),es.navigator&&/(msie|trident)/i.test(es.navigator.userAgent)):()=>!0,z1=es.hasStandardBrowserEnv?{write(t,n,a,o,i,c){const d=[t+"="+encodeURIComponent(n)];ie.isNumber(a)&&d.push("expires="+new Date(a).toGMTString()),ie.isString(o)&&d.push("path="+o),ie.isString(i)&&d.push("domain="+i),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function B1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function U1(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function Jg(t,n,a){let o=!B1(n);return t&&(o||a==!1)?U1(t,n):n}const yx=t=>t instanceof vs?{...t}:t;function Ra(t,n){n=n||{};const a={};function o(h,x,p,j){return ie.isPlainObject(h)&&ie.isPlainObject(x)?ie.merge.call({caseless:j},h,x):ie.isPlainObject(x)?ie.merge({},x):ie.isArray(x)?x.slice():x}function i(h,x,p,j){if(ie.isUndefined(x)){if(!ie.isUndefined(h))return o(void 0,h,p,j)}else return o(h,x,p,j)}function c(h,x){if(!ie.isUndefined(x))return o(void 0,x)}function d(h,x){if(ie.isUndefined(x)){if(!ie.isUndefined(h))return o(void 0,h)}else return o(void 0,x)}function u(h,x,p){if(p in n)return o(h,x);if(p in t)return o(void 0,h)}const m={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:u,headers:(h,x,p)=>i(yx(h),yx(x),p,!0)};return ie.forEach(Object.keys({...t,...n}),function(x){const p=m[x]||i,j=p(t[x],n[x],x);ie.isUndefined(j)&&p!==u||(a[x]=j)}),a}const Qg=t=>{const n=Ra({},t);let{data:a,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:c,headers:d,auth:u}=n;if(n.headers=d=vs.from(d),n.url=qg(Jg(n.baseURL,n.url,n.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&d.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ie.isFormData(a)){if(es.hasStandardBrowserEnv||es.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(ie.isFunction(a.getHeaders)){const m=a.getHeaders(),h=["content-type","content-length"];Object.entries(m).forEach(([x,p])=>{h.includes(x.toLowerCase())&&d.set(x,p)})}}if(es.hasStandardBrowserEnv&&(o&&ie.isFunction(o)&&(o=o(n)),o||o!==!1&&F1(n.url))){const m=i&&c&&z1.read(c);m&&d.set(i,m)}return n},V1=typeof XMLHttpRequest<"u",H1=V1&&function(t){return new Promise(function(a,o){const i=Qg(t);let c=i.data;const d=vs.from(i.headers).normalize();let{responseType:u,onUploadProgress:m,onDownloadProgress:h}=i,x,p,j,b,N;function v(){b&&b(),N&&N(),i.cancelToken&&i.cancelToken.unsubscribe(x),i.signal&&i.signal.removeEventListener("abort",x)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function _(){if(!w)return;const E=vs.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),A={data:!u||u==="text"||u==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:t,request:w};Yg(function(T){a(T),v()},function(T){o(T),v()},A),w=null}"onloadend"in w?w.onloadend=_:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(_)},w.onabort=function(){w&&(o(new qe("Request aborted",qe.ECONNABORTED,t,w)),w=null)},w.onerror=function(R){const A=R&&R.message?R.message:"Network Error",P=new qe(A,qe.ERR_NETWORK,t,w);P.event=R||null,o(P),w=null},w.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||Wg;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),o(new qe(R,A.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,t,w)),w=null},c===void 0&&d.setContentType(null),"setRequestHeader"in w&&ie.forEach(d.toJSON(),function(R,A){w.setRequestHeader(A,R)}),ie.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),u&&u!=="json"&&(w.responseType=i.responseType),h&&([j,N]=Sl(h,!0),w.addEventListener("progress",j)),m&&w.upload&&([p,b]=Sl(m),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(x=E=>{w&&(o(!E||E.type?new Nr(null,t,w):E),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(x),i.signal&&(i.signal.aborted?x():i.signal.addEventListener("abort",x)));const C=L1(i.url);if(C&&es.protocols.indexOf(C)===-1){o(new qe("Unsupported protocol "+C+":",qe.ERR_BAD_REQUEST,t));return}w.send(c||null)})},q1=(t,n)=>{const{length:a}=t=t?t.filter(Boolean):[];if(n||a){let o=new AbortController,i;const c=function(h){if(!i){i=!0,u();const x=h instanceof Error?h:this.reason;o.abort(x instanceof qe?x:new Nr(x instanceof Error?x.message:x))}};let d=n&&setTimeout(()=>{d=null,c(new qe(`timeout ${n} of ms exceeded`,qe.ETIMEDOUT))},n);const u=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(c):h.removeEventListener("abort",c)}),t=null)};t.forEach(h=>h.addEventListener("abort",c));const{signal:m}=o;return m.unsubscribe=()=>ie.asap(u),m}},W1=function*(t,n){let a=t.byteLength;if(a<n){yield t;return}let o=0,i;for(;o<a;)i=o+n,yield t.slice(o,i),o=i},K1=async function*(t,n){for await(const a of G1(t))yield*W1(a,n)},G1=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:a,value:o}=await n.read();if(a)break;yield o}}finally{await n.cancel()}},jx=(t,n,a,o)=>{const i=K1(t,n);let c=0,d,u=m=>{d||(d=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:h,value:x}=await i.next();if(h){u(),m.close();return}let p=x.byteLength;if(a){let j=c+=p;a(j)}m.enqueue(new Uint8Array(x))}catch(h){throw u(h),h}},cancel(m){return u(m),i.return()}},{highWaterMark:2})},wx=64*1024,{isFunction:nl}=ie,Y1=(({Request:t,Response:n})=>({Request:t,Response:n}))(ie.global),{ReadableStream:Nx,TextEncoder:bx}=ie.global,Sx=(t,...n)=>{try{return!!t(...n)}catch{return!1}},J1=t=>{t=ie.merge.call({skipUndefined:!0},Y1,t);const{fetch:n,Request:a,Response:o}=t,i=n?nl(n):typeof fetch=="function",c=nl(a),d=nl(o);if(!i)return!1;const u=i&&nl(Nx),m=i&&(typeof bx=="function"?(N=>v=>N.encode(v))(new bx):async N=>new Uint8Array(await new a(N).arrayBuffer())),h=c&&u&&Sx(()=>{let N=!1;const v=new a(es.origin,{body:new Nx,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!v}),x=d&&u&&Sx(()=>ie.isReadableStream(new o("").body)),p={stream:x&&(N=>N.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!p[N]&&(p[N]=(v,w)=>{let _=v&&v[N];if(_)return _.call(v);throw new qe(`Response type '${N}' is not supported`,qe.ERR_NOT_SUPPORT,w)})});const j=async N=>{if(N==null)return 0;if(ie.isBlob(N))return N.size;if(ie.isSpecCompliantForm(N))return(await new a(es.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(N)||ie.isArrayBuffer(N))return N.byteLength;if(ie.isURLSearchParams(N)&&(N=N+""),ie.isString(N))return(await m(N)).byteLength},b=async(N,v)=>{const w=ie.toFiniteNumber(N.getContentLength());return w??j(v)};return async N=>{let{url:v,method:w,data:_,signal:C,cancelToken:E,timeout:R,onDownloadProgress:A,onUploadProgress:P,responseType:T,headers:k,withCredentials:$="same-origin",fetchOptions:M}=Qg(N),I=n||fetch;T=T?(T+"").toLowerCase():"text";let z=q1([C,E&&E.toAbortSignal()],R),Y=null;const F=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let K;try{if(P&&h&&w!=="get"&&w!=="head"&&(K=await b(k,_))!==0){let O=new a(v,{method:"POST",body:_,duplex:"half"}),V;if(ie.isFormData(_)&&(V=O.headers.get("content-type"))&&k.setContentType(V),O.body){const[Z,B]=gx(K,Sl(vx(P)));_=jx(O.body,wx,Z,B)}}ie.isString($)||($=$?"include":"omit");const D=c&&"credentials"in a.prototype,H={...M,signal:z,method:w.toUpperCase(),headers:k.normalize().toJSON(),body:_,duplex:"half",credentials:D?$:void 0};Y=c&&new a(v,H);let q=await(c?I(Y,M):I(v,H));const X=x&&(T==="stream"||T==="response");if(x&&(A||X&&F)){const O={};["status","statusText","headers"].forEach(U=>{O[U]=q[U]});const V=ie.toFiniteNumber(q.headers.get("content-length")),[Z,B]=A&&gx(V,Sl(vx(A),!0))||[];q=new o(jx(q.body,wx,Z,()=>{B&&B(),F&&F()}),O)}T=T||"text";let te=await p[ie.findKey(p,T)||"text"](q,N);return!X&&F&&F(),await new Promise((O,V)=>{Yg(O,V,{data:te,headers:vs.from(q.headers),status:q.status,statusText:q.statusText,config:N,request:Y})})}catch(D){throw F&&F(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,N,Y),{cause:D.cause||D}):qe.from(D,D&&D.code,N,Y)}}},Q1=new Map,Xg=t=>{let n=t?t.env:{};const{fetch:a,Request:o,Response:i}=n,c=[o,i,a];let d=c.length,u=d,m,h,x=Q1;for(;u--;)m=c[u],h=x.get(m),h===void 0&&x.set(m,h=u?new Map:J1(n)),x=h;return h};Xg();const Hu={http:p1,xhr:H1,fetch:{get:Xg}};ie.forEach(Hu,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const Cx=t=>`- ${t}`,X1=t=>ie.isFunction(t)||t===null||t===!1,Zg={getAdapter:(t,n)=>{t=ie.isArray(t)?t:[t];const{length:a}=t;let o,i;const c={};for(let d=0;d<a;d++){o=t[d];let u;if(i=o,!X1(o)&&(i=Hu[(u=String(o)).toLowerCase()],i===void 0))throw new qe(`Unknown adapter '${u}'`);if(i&&(ie.isFunction(i)||(i=i.get(n))))break;c[u||"#"+d]=i}if(!i){const d=Object.entries(c).map(([m,h])=>`adapter ${m} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=a?d.length>1?`since :
`+d.map(Cx).join(`
`):" "+Cx(d[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Hu};function fu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Nr(null,t)}function _x(t){return fu(t),t.headers=vs.from(t.headers),t.data=mu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Zg.getAdapter(t.adapter||$o.adapter,t)(t).then(function(o){return fu(t),o.data=mu.call(t,t.transformResponse,o),o.headers=vs.from(o.headers),o},function(o){return Gg(o)||(fu(t),o&&o.response&&(o.response.data=mu.call(t,t.transformResponse,o.response),o.response.headers=vs.from(o.response.headers))),Promise.reject(o)})}const ev="1.12.2",zl={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{zl[t]=function(o){return typeof o===t||"a"+(n<1?"n ":" ")+t}});const Ex={};zl.transitional=function(n,a,o){function i(c,d){return"[Axios v"+ev+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,u)=>{if(n===!1)throw new qe(i(d," has been removed"+(a?" in "+a:"")),qe.ERR_DEPRECATED);return a&&!Ex[d]&&(Ex[d]=!0,console.warn(i(d," has been deprecated since v"+a+" and will be removed in the near future"))),n?n(c,d,u):!0}};zl.spelling=function(n){return(a,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function Z1(t,n,a){if(typeof t!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let i=o.length;for(;i-- >0;){const c=o[i],d=n[c];if(d){const u=t[c],m=u===void 0||d(u,c,t);if(m!==!0)throw new qe("option "+c+" must be "+m,qe.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new qe("Unknown option "+c,qe.ERR_BAD_OPTION)}}const hl={assertOptions:Z1,validators:zl},nn=hl.validators;let _a=class{constructor(n){this.defaults=n||{},this.interceptors={request:new hx,response:new hx}}async request(n,a){try{return await this._request(n,a)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const c=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(n,a){typeof n=="string"?(a=a||{},a.url=n):a=n||{},a=Ra(this.defaults,a);const{transitional:o,paramsSerializer:i,headers:c}=a;o!==void 0&&hl.assertOptions(o,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1),i!=null&&(ie.isFunction(i)?a.paramsSerializer={serialize:i}:hl.assertOptions(i,{encode:nn.function,serialize:nn.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),hl.assertOptions(a,{baseUrl:nn.spelling("baseURL"),withXsrfToken:nn.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let d=c&&ie.merge(c.common,c[a.method]);c&&ie.forEach(["delete","get","head","post","put","patch","common"],N=>{delete c[N]}),a.headers=vs.concat(d,c);const u=[];let m=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(a)===!1||(m=m&&v.synchronous,u.unshift(v.fulfilled,v.rejected))});const h=[];this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});let x,p=0,j;if(!m){const N=[_x.bind(this),void 0];for(N.unshift(...u),N.push(...h),j=N.length,x=Promise.resolve(a);p<j;)x=x.then(N[p++],N[p++]);return x}j=u.length;let b=a;for(;p<j;){const N=u[p++],v=u[p++];try{b=N(b)}catch(w){v.call(this,w);break}}try{x=_x.call(this,b)}catch(N){return Promise.reject(N)}for(p=0,j=h.length;p<j;)x=x.then(h[p++],h[p++]);return x}getUri(n){n=Ra(this.defaults,n);const a=Jg(n.baseURL,n.url,n.allowAbsoluteUrls);return qg(a,n.params,n.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(n){_a.prototype[n]=function(a,o){return this.request(Ra(o||{},{method:n,url:a,data:(o||{}).data}))}});ie.forEach(["post","put","patch"],function(n){function a(o){return function(c,d,u){return this.request(Ra(u||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}_a.prototype[n]=a(),_a.prototype[n+"Form"]=a(!0)});let eC=class tv{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(c){a=c});const o=this;this.promise.then(i=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](i);o._listeners=null}),this.promise.then=i=>{let c;const d=new Promise(u=>{o.subscribe(u),c=u}).then(i);return d.cancel=function(){o.unsubscribe(c)},d},n(function(c,d,u){o.reason||(o.reason=new Nr(c,d,u),a(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const a=this._listeners.indexOf(n);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const n=new AbortController,a=o=>{n.abort(o)};return this.subscribe(a),n.signal.unsubscribe=()=>this.unsubscribe(a),n.signal}static source(){let n;return{token:new tv(function(i){n=i}),cancel:n}}};function tC(t){return function(a){return t.apply(null,a)}}function sC(t){return ie.isObject(t)&&t.isAxiosError===!0}const qu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qu).forEach(([t,n])=>{qu[n]=t});function sv(t){const n=new _a(t),a=Mg(_a.prototype.request,n);return ie.extend(a,_a.prototype,n,{allOwnKeys:!0}),ie.extend(a,n,null,{allOwnKeys:!0}),a.create=function(i){return sv(Ra(t,i))},a}const $t=sv($o);$t.Axios=_a;$t.CanceledError=Nr;$t.CancelToken=eC;$t.isCancel=Gg;$t.VERSION=ev;$t.toFormData=Fl;$t.AxiosError=qe;$t.Cancel=$t.CanceledError;$t.all=function(n){return Promise.all(n)};$t.spread=tC;$t.isAxiosError=sC;$t.mergeConfig=Ra;$t.AxiosHeaders=vs;$t.formToJSON=t=>Kg(ie.isHTMLForm(t)?new FormData(t):t);$t.getAdapter=Zg.getAdapter;$t.HttpStatusCode=qu;$t.default=$t;const{Axios:Y4,AxiosError:J4,CanceledError:Q4,isCancel:X4,CancelToken:Z4,VERSION:eT,all:tT,Cancel:sT,isAxiosError:nT,spread:aT,toFormData:rT,AxiosHeaders:oT,HttpStatusCode:iT,formToJSON:lT,getAdapter:cT,mergeConfig:dT}=$t,nv="http://127.0.0.1:8000",nC="/api";"true".toLowerCase();"false".toLowerCase();"true".toLowerCase();const aC=nv,rC=(t="")=>t.replace(/^\/+|\/+$/g,""),oC=(t="")=>t.replace(/^\/+/,""),iC=(t="")=>/^https?:\/\//i.test(t),lC=(t="")=>{const n="/"+rC(nC);if(!t)return n+"/";if(t.startsWith(n+"/")||t===n||t.startsWith(n+"?"))return t;const[a,o=""]=String(t).split("?"),i=/\/$/.test(a||""),c=oC(a||"");let d=`${n}/${c||""}`;return(i||!c)&&(d+="/"),o&&(d+=`?${o}`),d=d.replace(/\/{2,}/g,"/"),d},ue=$t.create({baseURL:aC,headers:{"Content-Type":"application/json"},timeout:15e3});ue.interceptors.request.use(t=>{const n=t.url||"";if(!iC(n)){const h=lC(n);t.baseURL=nv.replace(/\/+$/g,""),t.url=h.startsWith("/")?h:"/"+h}const a="/auth/login/",o="/auth/register/",i="/auth/forgot-password/",c="/auth/google/";if(((h="")=>[a,o,i,c].some(x=>h.includes(x)))(t.url||""))return t;const u=localStorage.getItem("access_token");let m=localStorage.getItem("auth_scheme")||"Token";if(!m){m=u&&u.includes(".")?"Bearer":"Token";try{localStorage.setItem("auth_scheme",m)}catch{}}try{u&&u.includes(".")&&/^token$/i.test(String(m))?(m="Bearer",localStorage.setItem("auth_scheme",m)):u&&!u.includes(".")&&/^bearer$/i.test(String(m))&&(m="Token",localStorage.setItem("auth_scheme",m))}catch{}return u?t.headers.Authorization=`${m} ${u}`:delete t.headers.Authorization,t.data instanceof FormData&&t.headers&&delete t.headers["Content-Type"],t});ue.interceptors.response.use(t=>t,t=>Promise.reject(t));const xt={async login(t){const n="/auth/login/",a={...t,username:t.username||t.email},o=await ue.post(n,a),{access:i,refresh:c,access_token:d,refresh_token:u,token:m,key:h,user:x}=o.data,p=i||d||m||h,j=c||u;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(m||h){const b=m||h,N=typeof b=="string"&&b.includes(".");localStorage.setItem("auth_scheme",N?"Bearer":"Token")}if(p&&localStorage.setItem("access_token",p),j&&localStorage.setItem("refresh_token",j),x!==void 0)try{x&&typeof x=="object"?localStorage.setItem("user",JSON.stringify(x)):localStorage.removeItem("user")}catch{}if(!x)try{const b=await al();b&&(localStorage.setItem("user",JSON.stringify(b)),o.data.user=b)}catch{}return o.data},async register(t,n={}){var v,w;const o=await ue.post("/auth/register/",t),{access:i,refresh:c,access_token:d,refresh_token:u,token:m,user:h}=o.data,x=i||d||m,p=c||u;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(m){const _=typeof m=="string"&&m.includes(".");localStorage.setItem("auth_scheme",_?"Bearer":"Token")}if(x&&localStorage.setItem("access_token",x),p&&localStorage.setItem("refresh_token",p),h!==void 0)localStorage.setItem("user",JSON.stringify(h));else try{const _=await al();_&&localStorage.setItem("user",JSON.stringify(_))}catch{}const j={...o.data};let b=null;const N=n==null?void 0:n.medicoData;if(N&&typeof N=="object")try{if(!!!localStorage.getItem("access_token")&&(t!=null&&t.password)){if(t!=null&&t.username)try{await xt.login({username:t.username,password:t.password})}catch{}if(!localStorage.getItem("access_token")&&(t!=null&&t.email))try{await xt.login({username:t.email,email:t.email,password:t.password})}catch{}}const C=await jm(()=>Promise.resolve().then(()=>q0),void 0),E=[t.first_name||"",t.last_name||""].filter(Boolean).join(" ")||t.username||"",R={...N,nome:N.nome||E,nome_completo:N.nome_completo||E,email:N.email||t.email,cpf:N.cpf||t.cpf,tipo:"medico"};b={success:!0,data:await C.solicitacaoService.criarSolicitacaoMedico(R)}}catch(_){console.error("[authService.register] criarSolicitacaoMedico falhou:",((v=_==null?void 0:_.response)==null?void 0:v.data)||_),b={success:!1,error:_&&(((w=_.response)==null?void 0:w.data)||_.message)||String(_)}}return b&&(j.medicoApplication=b),j},async logout(){try{await ue.post("/auth/logout/")}finally{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),localStorage.removeItem("auth_scheme");try{const t=[];for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);a&&a.startsWith("medicoApplicationStatus")&&t.push(a)}t.forEach(n=>localStorage.removeItem(n))}catch{}}},async forgotPassword(t){return(await ue.post("/auth/forgot-password/",{email:t})).data},getCurrentUser(){const t=localStorage.getItem("user");if(!t||t==="undefined"||t==="null")return null;try{return JSON.parse(t)}catch{return null}},async refreshCurrentUser(){try{const t=await al();return t?(localStorage.setItem("user",JSON.stringify(t)),t):(localStorage.removeItem("user"),null)}catch{return null}},isAuthenticated(){try{return!!localStorage.getItem("access_token")}catch{return!1}},async loginWithGoogle(t){const n="/auth/google/",a={credential:t,id_token:t},o=await ue.post(n,a),{access:i,refresh:c,access_token:d,refresh_token:u,token:m,key:h,user:x}=o.data,p=i||d||m||h,j=c||u;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(m||h){const b=m||h,N=typeof b=="string"&&b.includes(".");localStorage.setItem("auth_scheme",N?"Bearer":"Token")}if(p&&localStorage.setItem("access_token",p),j&&localStorage.setItem("refresh_token",j),x!==void 0)try{x&&typeof x=="object"?localStorage.setItem("user",JSON.stringify(x)):localStorage.removeItem("user")}catch{}else try{const b=await al();b&&localStorage.setItem("user",JSON.stringify(b)),o.data.user=b||null}catch{}return o.data}};async function al(){var i;const t="".trim(),n=[];t&&n.push(t),n.push("/auth/users/me/","/users/me/","/auth/user/","/auth/me/","/me/");const a=new Set,o=n.filter(c=>{const d=String(c).replace(/\/+$/g,"");return a.has(d)?!1:(a.add(d),!0)});for(const c of o)try{return(await ue.get(c)).data}catch(d){if(((i=d==null?void 0:d.response)==null?void 0:i.status)===404)continue}return null}const av=g.createContext({});function cC({children:t}){const[n,a]=g.useState(null),[o,i]=g.useState(!0);g.useEffect(()=>{(()=>{const p=xt.getCurrentUser();a(p),i(!1)})()},[]);const c=async x=>{const p=await xt.login(x);if(p!=null&&p.user)a(p.user);else{const j=xt.getCurrentUser();a(j)}return p},d=async()=>{await xt.logout(),a(null)},u=async x=>{const p=await xt.register(x);if(p!=null&&p.user)a(p.user);else{const j=xt.getCurrentUser();j&&a(j)}return p},m=async x=>{const p=await xt.loginWithGoogle(x);return a(p.user),p},h={user:n,login:c,logout:d,register:u,loading:o,isAuthenticated:!!n||xt.isAuthenticated(),loginWithGoogle:m};return e.jsx(av.Provider,{value:h,children:t})}const ca=()=>{const t=g.useContext(av);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},rv=g.createContext(void 0);function dC({children:t}){const[n,a]=g.useState("paciente"),[o,i]=g.useState(!1),[c,d]=g.useState({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),u=()=>{c.isMedico&&c.medicoStatus==="approved"&&a(n==="medico"?"paciente":"medico")},m=(x="paciente",p={})=>{i(!0),a(x),d(p)},h=()=>{i(!1),a("paciente"),d({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"})};return e.jsx(rv.Provider,{value:{activeRole:n,setActiveRole:a,toggleRole:u,isAuthenticated:o,userPermissions:c,setUserPermissions:d,login:m,logout:h},children:t})}function Oa(){const t=g.useContext(rv);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t}function Rx(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function Bl(...t){return n=>{let a=!1;const o=t.map(i=>{const c=Rx(i,n);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let i=0;i<o.length;i++){const c=o[i];typeof c=="function"?c():Rx(t[i],null)}}}}function mt(...t){return g.useCallback(Bl(...t),t)}function ka(t){const n=uC(t),a=g.forwardRef((o,i)=>{const{children:c,...d}=o,u=g.Children.toArray(c),m=u.find(fC);if(m){const h=m.props.children,x=u.map(p=>p===m?g.Children.count(h)>1?g.Children.only(null):g.isValidElement(h)?h.props.children:null:p);return e.jsx(n,{...d,ref:i,children:g.isValidElement(h)?g.cloneElement(h,void 0,x):null})}return e.jsx(n,{...d,ref:i,children:c})});return a.displayName=`${t}.Slot`,a}var br=ka("Slot");function uC(t){const n=g.forwardRef((a,o)=>{const{children:i,...c}=a;if(g.isValidElement(i)){const d=hC(i),u=pC(c,i.props);return i.type!==g.Fragment&&(u.ref=o?Bl(o,d):d),g.cloneElement(i,u)}return g.Children.count(i)>1?g.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var ov=Symbol("radix.slottable");function mC(t){const n=({children:a})=>e.jsx(e.Fragment,{children:a});return n.displayName=`${t}.Slottable`,n.__radixId=ov,n}function fC(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ov}function pC(t,n){const a={...n};for(const o in n){const i=t[o],c=n[o];/^on[A-Z]/.test(o)?i&&c?a[o]=(...u)=>{const m=c(...u);return i(...u),m}:i&&(a[o]=i):o==="style"?a[o]={...i,...c}:o==="className"&&(a[o]=[i,c].filter(Boolean).join(" "))}return{...t,...a}}function hC(t){var o,i;let n=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?t.ref:(n=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function iv(t){var n,a,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(a=iv(t[n]))&&(o&&(o+=" "),o+=a)}else for(a in t)t[a]&&(o&&(o+=" "),o+=a);return o}function xC(){for(var t,n,a=0,o="",i=arguments.length;a<i;a++)(t=arguments[a])&&(n=iv(t))&&(o&&(o+=" "),o+=n);return o}const kx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Px=xC,Ul=(t,n)=>a=>{var o;if((n==null?void 0:n.variants)==null)return Px(t,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:i,defaultVariants:c}=n,d=Object.keys(i).map(h=>{const x=a==null?void 0:a[h],p=c==null?void 0:c[h];if(x===null)return null;const j=kx(x)||kx(p);return i[h][j]}),u=a&&Object.entries(a).reduce((h,x)=>{let[p,j]=x;return j===void 0||(h[p]=j),h},{}),m=n==null||(o=n.compoundVariants)===null||o===void 0?void 0:o.reduce((h,x)=>{let{class:p,className:j,...b}=x;return Object.entries(b).every(N=>{let[v,w]=N;return Array.isArray(w)?w.includes({...c,...u}[v]):{...c,...u}[v]===w})?[...h,p,j]:h},[]);return Px(t,d,m,a==null?void 0:a.class,a==null?void 0:a.className)};var gC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Te=(t,n)=>{const a=g.forwardRef(({color:o="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:u,...m},h)=>g.createElement("svg",{ref:h,...gC,width:i,height:i,stroke:o,strokeWidth:d?Number(c)*24/Number(i):c,className:`lucide lucide-${vC(t)}`,...m},[...n.map(([x,p])=>g.createElement(x,p)),...(Array.isArray(u)?u:[u])||[]]));return a.displayName=`${t}`,a},yC=Te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Cl=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),bo=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),So=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ax=Te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),jC=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),aa=Te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),wC=Te("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Ge=Te("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),lv=Te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ra=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),NC=Te("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),cv=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),dv=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),uv=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Vs=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),bC=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),SC=Te("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),CC=Te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Hs=Te("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Nt=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_C=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ea=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Tx=Te("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),pr=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),EC=Te("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),is=Te("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Sm=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),RC=Te("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),kC=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),mv=Te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),PC=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),pu=Te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),AC=Te("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),TC=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),MC=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Sr=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Cm=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),DC=Te("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),OC=Te("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),LC=Te("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Mx=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),$C=Te("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),IC=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Io=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),_m=Te("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),Em=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),FC=Te("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),fv=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),pv=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),qs=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),jo=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Co=Te("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),At=Te("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Dx=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),zC=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),hv=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),hu=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),BC=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Wt=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),os=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),kn=Te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Rm=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function UC(){const[t,n]=g.useState(!1);return g.useEffect(()=>{const a=()=>{n(window.innerWidth<768)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),t}function ye(...t){return t.filter(Boolean).join(" ")}function VC(t){return t?t.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):""}const ne=g.forwardRef(({className:t,variant:n="default",size:a="default",asChild:o=!1,...i},c)=>{const d=o?"slot":"button",u={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},m={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return e.jsx(d,{className:ye("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",u[n],m[a],t),ref:c,...i})});ne.displayName="Button";const fe=g.forwardRef(({className:t,type:n,...a},o)=>e.jsx("input",{type:n,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...a}));fe.displayName="Input";var HC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=HC.reduce((t,n)=>{const a=ka(`Primitive.${n}`),o=g.forwardRef((i,c)=>{const{asChild:d,...u}=i,m=d?a:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...u,ref:c})});return o.displayName=`Primitive.${n}`,{...t,[n]:o}},{});function km(t,n){t&&gr.flushSync(()=>t.dispatchEvent(n))}var qC="Separator",Ox="horizontal",WC=["horizontal","vertical"],xv=g.forwardRef((t,n)=>{const{decorative:a,orientation:o=Ox,...i}=t,c=KC(o)?o:Ox,u=a?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(Ve.div,{"data-orientation":c,...u,...i,ref:n})});xv.displayName=qC;function KC(t){return WC.includes(t)}var gv=xv;const Ts=g.forwardRef(({className:t,orientation:n="horizontal",decorative:a=!0,...o},i)=>e.jsx(gv,{ref:i,decorative:a,orientation:n,className:ye("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...o}));Ts.displayName=gv.displayName;function Ee(t,n,{checkForDefaultPrevented:a=!0}={}){return function(i){if(t==null||t(i),a===!1||!i.defaultPrevented)return n==null?void 0:n(i)}}function GC(t,n){const a=g.createContext(n),o=c=>{const{children:d,...u}=c,m=g.useMemo(()=>u,Object.values(u));return e.jsx(a.Provider,{value:m,children:d})};o.displayName=t+"Provider";function i(c){const d=g.useContext(a);if(d)return d;if(n!==void 0)return n;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[o,i]}function un(t,n=[]){let a=[];function o(c,d){const u=g.createContext(d),m=a.length;a=[...a,d];const h=p=>{var _;const{scope:j,children:b,...N}=p,v=((_=j==null?void 0:j[t])==null?void 0:_[m])||u,w=g.useMemo(()=>N,Object.values(N));return e.jsx(v.Provider,{value:w,children:b})};h.displayName=c+"Provider";function x(p,j){var v;const b=((v=j==null?void 0:j[t])==null?void 0:v[m])||u,N=g.useContext(b);if(N)return N;if(d!==void 0)return d;throw new Error(`\`${p}\` must be used within \`${c}\``)}return[h,x]}const i=()=>{const c=a.map(d=>g.createContext(d));return function(u){const m=(u==null?void 0:u[t])||c;return g.useMemo(()=>({[`__scope${t}`]:{...u,[t]:m}}),[u,m])}};return i.scopeName=t,[o,YC(i,...n)]}function YC(...t){const n=t[0];if(t.length===1)return n;const a=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const d=o.reduce((u,{useScope:m,scopeName:h})=>{const p=m(c)[`__scope${h}`];return{...u,...p}},{});return g.useMemo(()=>({[`__scope${n.scopeName}`]:d}),[d])}};return a.scopeName=n.scopeName,a}var Ft=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},JC=hm[" useId ".trim().toString()]||(()=>{}),QC=0;function on(t){const[n,a]=g.useState(JC());return Ft(()=>{a(o=>o??String(QC++))},[t]),t||(n?`radix-${n}`:"")}var XC=hm[" useInsertionEffect ".trim().toString()]||Ft;function Pa({prop:t,defaultProp:n,onChange:a=()=>{},caller:o}){const[i,c,d]=ZC({defaultProp:n,onChange:a}),u=t!==void 0,m=u?t:i;{const x=g.useRef(t!==void 0);g.useEffect(()=>{const p=x.current;p!==u&&console.warn(`${o} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=u},[u,o])}const h=g.useCallback(x=>{var p;if(u){const j=e2(x)?x(t):x;j!==t&&((p=d.current)==null||p.call(d,j))}else c(x)},[u,t,c,d]);return[m,h]}function ZC({defaultProp:t,onChange:n}){const[a,o]=g.useState(t),i=g.useRef(a),c=g.useRef(n);return XC(()=>{c.current=n},[n]),g.useEffect(()=>{var d;i.current!==a&&((d=c.current)==null||d.call(c,a),i.current=a)},[a,i]),[a,o,c]}function e2(t){return typeof t=="function"}function ls(t){const n=g.useRef(t);return g.useEffect(()=>{n.current=t}),g.useMemo(()=>(...a)=>{var o;return(o=n.current)==null?void 0:o.call(n,...a)},[])}function t2(t,n=globalThis==null?void 0:globalThis.document){const a=ls(t);g.useEffect(()=>{const o=i=>{i.key==="Escape"&&a(i)};return n.addEventListener("keydown",o,{capture:!0}),()=>n.removeEventListener("keydown",o,{capture:!0})},[a,n])}var s2="DismissableLayer",Wu="dismissableLayer.update",n2="dismissableLayer.pointerDownOutside",a2="dismissableLayer.focusOutside",Lx,vv=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cr=g.forwardRef((t,n)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:d,onDismiss:u,...m}=t,h=g.useContext(vv),[x,p]=g.useState(null),j=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=g.useState({}),N=mt(n,T=>p(T)),v=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(w),C=x?v.indexOf(x):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,R=C>=_,A=o2(T=>{const k=T.target,$=[...h.branches].some(M=>M.contains(k));!R||$||(i==null||i(T),d==null||d(T),T.defaultPrevented||u==null||u())},j),P=i2(T=>{const k=T.target;[...h.branches].some(M=>M.contains(k))||(c==null||c(T),d==null||d(T),T.defaultPrevented||u==null||u())},j);return t2(T=>{C===h.layers.size-1&&(o==null||o(T),!T.defaultPrevented&&u&&(T.preventDefault(),u()))},j),g.useEffect(()=>{if(x)return a&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Lx=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(x)),h.layers.add(x),$x(),()=>{a&&h.layersWithOutsidePointerEventsDisabled.size===1&&(j.body.style.pointerEvents=Lx)}},[x,j,a,h]),g.useEffect(()=>()=>{x&&(h.layers.delete(x),h.layersWithOutsidePointerEventsDisabled.delete(x),$x())},[x,h]),g.useEffect(()=>{const T=()=>b({});return document.addEventListener(Wu,T),()=>document.removeEventListener(Wu,T)},[]),e.jsx(Ve.div,{...m,ref:N,style:{pointerEvents:E?R?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,A.onPointerDownCapture)})});Cr.displayName=s2;var r2="DismissableLayerBranch",yv=g.forwardRef((t,n)=>{const a=g.useContext(vv),o=g.useRef(null),i=mt(n,o);return g.useEffect(()=>{const c=o.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),e.jsx(Ve.div,{...t,ref:i})});yv.displayName=r2;function o2(t,n=globalThis==null?void 0:globalThis.document){const a=ls(t),o=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const c=u=>{if(u.target&&!o.current){let m=function(){jv(n2,a,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(n.removeEventListener("click",i.current),i.current=m,n.addEventListener("click",i.current,{once:!0})):m()}else n.removeEventListener("click",i.current);o.current=!1},d=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),n.removeEventListener("pointerdown",c),n.removeEventListener("click",i.current)}},[n,a]),{onPointerDownCapture:()=>o.current=!0}}function i2(t,n=globalThis==null?void 0:globalThis.document){const a=ls(t),o=g.useRef(!1);return g.useEffect(()=>{const i=c=>{c.target&&!o.current&&jv(a2,a,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",i),()=>n.removeEventListener("focusin",i)},[n,a]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function $x(){const t=new CustomEvent(Wu);document.dispatchEvent(t)}function jv(t,n,a,{discrete:o}){const i=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});n&&i.addEventListener(t,n,{once:!0}),o?km(i,c):i.dispatchEvent(c)}var l2=Cr,c2=yv,xu="focusScope.autoFocusOnMount",gu="focusScope.autoFocusOnUnmount",Ix={bubbles:!1,cancelable:!0},d2="FocusScope",Vl=g.forwardRef((t,n)=>{const{loop:a=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...d}=t,[u,m]=g.useState(null),h=ls(i),x=ls(c),p=g.useRef(null),j=mt(n,v=>m(v)),b=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(o){let v=function(E){if(b.paused||!u)return;const R=E.target;u.contains(R)?p.current=R:ea(p.current,{select:!0})},w=function(E){if(b.paused||!u)return;const R=E.relatedTarget;R!==null&&(u.contains(R)||ea(p.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const A of E)A.removedNodes.length>0&&ea(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const C=new MutationObserver(_);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),C.disconnect()}}},[o,u,b.paused]),g.useEffect(()=>{if(u){zx.add(b);const v=document.activeElement;if(!u.contains(v)){const _=new CustomEvent(xu,Ix);u.addEventListener(xu,h),u.dispatchEvent(_),_.defaultPrevented||(u2(x2(wv(u)),{select:!0}),document.activeElement===v&&ea(u))}return()=>{u.removeEventListener(xu,h),setTimeout(()=>{const _=new CustomEvent(gu,Ix);u.addEventListener(gu,x),u.dispatchEvent(_),_.defaultPrevented||ea(v??document.body,{select:!0}),u.removeEventListener(gu,x),zx.remove(b)},0)}}},[u,h,x,b]);const N=g.useCallback(v=>{if(!a&&!o||b.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(w&&_){const C=v.currentTarget,[E,R]=m2(C);E&&R?!v.shiftKey&&_===R?(v.preventDefault(),a&&ea(E,{select:!0})):v.shiftKey&&_===E&&(v.preventDefault(),a&&ea(R,{select:!0})):_===C&&v.preventDefault()}},[a,o,b.paused]);return e.jsx(Ve.div,{tabIndex:-1,...d,ref:j,onKeyDown:N})});Vl.displayName=d2;function u2(t,{select:n=!1}={}){const a=document.activeElement;for(const o of t)if(ea(o,{select:n}),document.activeElement!==a)return}function m2(t){const n=wv(t),a=Fx(n,t),o=Fx(n.reverse(),t);return[a,o]}function wv(t){const n=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)n.push(a.currentNode);return n}function Fx(t,n){for(const a of t)if(!f2(a,{upTo:n}))return a}function f2(t,{upTo:n}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n!==void 0&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function p2(t){return t instanceof HTMLInputElement&&"select"in t}function ea(t,{select:n=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&p2(t)&&n&&t.select()}}var zx=h2();function h2(){let t=[];return{add(n){const a=t[0];n!==a&&(a==null||a.pause()),t=Bx(t,n),t.unshift(n)},remove(n){var a;t=Bx(t,n),(a=t[0])==null||a.resume()}}}function Bx(t,n){const a=[...t],o=a.indexOf(n);return o!==-1&&a.splice(o,1),a}function x2(t){return t.filter(n=>n.tagName!=="A")}var g2="Portal",Fo=g.forwardRef((t,n)=>{var u;const{container:a,...o}=t,[i,c]=g.useState(!1);Ft(()=>c(!0),[]);const d=a||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return d?wb.createPortal(e.jsx(Ve.div,{...o,ref:n}),d):null});Fo.displayName=g2;function v2(t,n){return g.useReducer((a,o)=>n[a][o]??a,t)}var mn=t=>{const{present:n,children:a}=t,o=y2(n),i=typeof a=="function"?a({present:o.isPresent}):g.Children.only(a),c=mt(o.ref,j2(i));return typeof a=="function"||o.isPresent?g.cloneElement(i,{ref:c}):null};mn.displayName="Presence";function y2(t){const[n,a]=g.useState(),o=g.useRef(null),i=g.useRef(t),c=g.useRef("none"),d=t?"mounted":"unmounted",[u,m]=v2(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const h=rl(o.current);c.current=u==="mounted"?h:"none"},[u]),Ft(()=>{const h=o.current,x=i.current;if(x!==t){const j=c.current,b=rl(h);t?m("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?m("UNMOUNT"):m(x&&j!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,m]),Ft(()=>{if(n){let h;const x=n.ownerDocument.defaultView??window,p=b=>{const v=rl(o.current).includes(CSS.escape(b.animationName));if(b.target===n&&v&&(m("ANIMATION_END"),!i.current)){const w=n.style.animationFillMode;n.style.animationFillMode="forwards",h=x.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=w)})}},j=b=>{b.target===n&&(c.current=rl(o.current))};return n.addEventListener("animationstart",j),n.addEventListener("animationcancel",p),n.addEventListener("animationend",p),()=>{x.clearTimeout(h),n.removeEventListener("animationstart",j),n.removeEventListener("animationcancel",p),n.removeEventListener("animationend",p)}}else m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:g.useCallback(h=>{o.current=h?getComputedStyle(h):null,a(h)},[])}}function rl(t){return(t==null?void 0:t.animationName)||"none"}function j2(t){var o,i;let n=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?t.ref:(n=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var vu=0;function Pm(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ux()),document.body.insertAdjacentElement("beforeend",t[1]??Ux()),vu++,()=>{vu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),vu--}},[])}function Ux(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var an=function(){return an=Object.assign||function(n){for(var a,o=1,i=arguments.length;o<i;o++){a=arguments[o];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},an.apply(this,arguments)};function Nv(t,n){var a={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(a[o[i]]=t[o[i]]);return a}function w2(t,n,a){if(a||arguments.length===2)for(var o=0,i=n.length,c;o<i;o++)(c||!(o in n))&&(c||(c=Array.prototype.slice.call(n,0,o)),c[o]=n[o]);return t.concat(c||Array.prototype.slice.call(n))}var xl="right-scroll-bar-position",gl="width-before-scroll-bar",N2="with-scroll-bars-hidden",b2="--removed-body-scroll-bar-size";function yu(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function S2(t,n){var a=g.useState(function(){return{value:t,callback:n,facade:{get current(){return a.value},set current(o){var i=a.value;i!==o&&(a.value=o,a.callback(o,i))}}}})[0];return a.callback=n,a.facade}var C2=typeof window<"u"?g.useLayoutEffect:g.useEffect,Vx=new WeakMap;function _2(t,n){var a=S2(null,function(o){return t.forEach(function(i){return yu(i,o)})});return C2(function(){var o=Vx.get(a);if(o){var i=new Set(o),c=new Set(t),d=a.current;i.forEach(function(u){c.has(u)||yu(u,null)}),c.forEach(function(u){i.has(u)||yu(u,d)})}Vx.set(a,t)},[t]),a}function E2(t){return t}function R2(t,n){n===void 0&&(n=E2);var a=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(c){var d=n(c,o);return a.push(d),function(){a=a.filter(function(u){return u!==d})}},assignSyncMedium:function(c){for(o=!0;a.length;){var d=a;a=[],d.forEach(c)}a={push:function(u){return c(u)},filter:function(){return a}}},assignMedium:function(c){o=!0;var d=[];if(a.length){var u=a;a=[],u.forEach(c),d=a}var m=function(){var x=d;d=[],x.forEach(c)},h=function(){return Promise.resolve().then(m)};h(),a={push:function(x){d.push(x),h()},filter:function(x){return d=d.filter(x),a}}}};return i}function k2(t){t===void 0&&(t={});var n=R2(null);return n.options=an({async:!0,ssr:!1},t),n}var bv=function(t){var n=t.sideCar,a=Nv(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return g.createElement(o,an({},a))};bv.isSideCarExport=!0;function P2(t,n){return t.useMedium(n),bv}var Sv=k2(),ju=function(){},Hl=g.forwardRef(function(t,n){var a=g.useRef(null),o=g.useState({onScrollCapture:ju,onWheelCapture:ju,onTouchMoveCapture:ju}),i=o[0],c=o[1],d=t.forwardProps,u=t.children,m=t.className,h=t.removeScrollBar,x=t.enabled,p=t.shards,j=t.sideCar,b=t.noRelative,N=t.noIsolation,v=t.inert,w=t.allowPinchZoom,_=t.as,C=_===void 0?"div":_,E=t.gapMode,R=Nv(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=j,P=_2([a,n]),T=an(an({},R),i);return g.createElement(g.Fragment,null,x&&g.createElement(A,{sideCar:Sv,removeScrollBar:h,shards:p,noRelative:b,noIsolation:N,inert:v,setCallbacks:c,allowPinchZoom:!!w,lockRef:a,gapMode:E}),d?g.cloneElement(g.Children.only(u),an(an({},T),{ref:P})):g.createElement(C,an({},T,{className:m,ref:P}),u))});Hl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hl.classNames={fullWidth:gl,zeroRight:xl};var A2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function T2(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=A2();return n&&t.setAttribute("nonce",n),t}function M2(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function D2(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var O2=function(){var t=0,n=null;return{add:function(a){t==0&&(n=T2())&&(M2(n,a),D2(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},L2=function(){var t=O2();return function(n,a){g.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&a])}},Cv=function(){var t=L2(),n=function(a){var o=a.styles,i=a.dynamic;return t(o,i),null};return n},$2={left:0,top:0,right:0,gap:0},wu=function(t){return parseInt(t||"",10)||0},I2=function(t){var n=window.getComputedStyle(document.body),a=n[t==="padding"?"paddingLeft":"marginLeft"],o=n[t==="padding"?"paddingTop":"marginTop"],i=n[t==="padding"?"paddingRight":"marginRight"];return[wu(a),wu(o),wu(i)]},F2=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $2;var n=I2(t),a=document.documentElement.clientWidth,o=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,o-a+n[2]-n[0])}},z2=Cv(),ur="data-scroll-locked",B2=function(t,n,a,o){var i=t.left,c=t.top,d=t.right,u=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(N2,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(u,"px ").concat(o,`;
  }
  body[`).concat(ur,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(o,";"),a==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(o,`;
    `),a==="padding"&&"padding-right: ".concat(u,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xl,` {
    right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(gl,` {
    margin-right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(xl," .").concat(xl,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(gl," .").concat(gl,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(ur,`] {
    `).concat(b2,": ").concat(u,`px;
  }
`)},Hx=function(){var t=parseInt(document.body.getAttribute(ur)||"0",10);return isFinite(t)?t:0},U2=function(){g.useEffect(function(){return document.body.setAttribute(ur,(Hx()+1).toString()),function(){var t=Hx()-1;t<=0?document.body.removeAttribute(ur):document.body.setAttribute(ur,t.toString())}},[])},V2=function(t){var n=t.noRelative,a=t.noImportant,o=t.gapMode,i=o===void 0?"margin":o;U2();var c=g.useMemo(function(){return F2(i)},[i]);return g.createElement(z2,{styles:B2(c,!n,i,a?"":"!important")})},Ku=!1;if(typeof window<"u")try{var ol=Object.defineProperty({},"passive",{get:function(){return Ku=!0,!0}});window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{Ku=!1}var lr=Ku?{passive:!1}:!1,H2=function(t){return t.tagName==="TEXTAREA"},_v=function(t,n){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[n]!=="hidden"&&!(a.overflowY===a.overflowX&&!H2(t)&&a[n]==="visible")},q2=function(t){return _v(t,"overflowY")},W2=function(t){return _v(t,"overflowX")},qx=function(t,n){var a=n.ownerDocument,o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=Ev(t,o);if(i){var c=Rv(t,o),d=c[1],u=c[2];if(d>u)return!0}o=o.parentNode}while(o&&o!==a.body);return!1},K2=function(t){var n=t.scrollTop,a=t.scrollHeight,o=t.clientHeight;return[n,a,o]},G2=function(t){var n=t.scrollLeft,a=t.scrollWidth,o=t.clientWidth;return[n,a,o]},Ev=function(t,n){return t==="v"?q2(n):W2(n)},Rv=function(t,n){return t==="v"?K2(n):G2(n)},Y2=function(t,n){return t==="h"&&n==="rtl"?-1:1},J2=function(t,n,a,o,i){var c=Y2(t,window.getComputedStyle(n).direction),d=c*o,u=a.target,m=n.contains(u),h=!1,x=d>0,p=0,j=0;do{if(!u)break;var b=Rv(t,u),N=b[0],v=b[1],w=b[2],_=v-w-c*N;(N||_)&&Ev(t,u)&&(p+=_,j+=N);var C=u.parentNode;u=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!m&&u!==document.body||m&&(n.contains(u)||n===u));return(x&&Math.abs(p)<1||!x&&Math.abs(j)<1)&&(h=!0),h},il=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Wx=function(t){return[t.deltaX,t.deltaY]},Kx=function(t){return t&&"current"in t?t.current:t},Q2=function(t,n){return t[0]===n[0]&&t[1]===n[1]},X2=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Z2=0,cr=[];function e_(t){var n=g.useRef([]),a=g.useRef([0,0]),o=g.useRef(),i=g.useState(Z2++)[0],c=g.useState(Cv)[0],d=g.useRef(t);g.useEffect(function(){d.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=w2([t.lockRef.current],(t.shards||[]).map(Kx),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=g.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!d.current.allowPinchZoom;var _=il(v),C=a.current,E="deltaX"in v?v.deltaX:C[0]-_[0],R="deltaY"in v?v.deltaY:C[1]-_[1],A,P=v.target,T=Math.abs(E)>Math.abs(R)?"h":"v";if("touches"in v&&T==="h"&&P.type==="range")return!1;var k=qx(T,P);if(!k)return!0;if(k?A=T:(A=T==="v"?"h":"v",k=qx(T,P)),!k)return!1;if(!o.current&&"changedTouches"in v&&(E||R)&&(o.current=A),!A)return!0;var $=o.current||A;return J2($,w,v,$==="h"?E:R)},[]),m=g.useCallback(function(v){var w=v;if(!(!cr.length||cr[cr.length-1]!==c)){var _="deltaY"in w?Wx(w):il(w),C=n.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&Q2(A.delta,_)})[0];if(C&&C.should){w.cancelable&&w.preventDefault();return}if(!C){var E=(d.current.shards||[]).map(Kx).filter(Boolean).filter(function(A){return A.contains(w.target)}),R=E.length>0?u(w,E[0]):!d.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),h=g.useCallback(function(v,w,_,C){var E={name:v,delta:w,target:_,should:C,shadowParent:t_(_)};n.current.push(E),setTimeout(function(){n.current=n.current.filter(function(R){return R!==E})},1)},[]),x=g.useCallback(function(v){a.current=il(v),o.current=void 0},[]),p=g.useCallback(function(v){h(v.type,Wx(v),v.target,u(v,t.lockRef.current))},[]),j=g.useCallback(function(v){h(v.type,il(v),v.target,u(v,t.lockRef.current))},[]);g.useEffect(function(){return cr.push(c),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:j}),document.addEventListener("wheel",m,lr),document.addEventListener("touchmove",m,lr),document.addEventListener("touchstart",x,lr),function(){cr=cr.filter(function(v){return v!==c}),document.removeEventListener("wheel",m,lr),document.removeEventListener("touchmove",m,lr),document.removeEventListener("touchstart",x,lr)}},[]);var b=t.removeScrollBar,N=t.inert;return g.createElement(g.Fragment,null,N?g.createElement(c,{styles:X2(i)}):null,b?g.createElement(V2,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function t_(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const s_=P2(Sv,e_);var ql=g.forwardRef(function(t,n){return g.createElement(Hl,an({},t,{ref:n,sideCar:s_}))});ql.classNames=Hl.classNames;var n_=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},dr=new WeakMap,ll=new WeakMap,cl={},Nu=0,kv=function(t){return t&&(t.host||kv(t.parentNode))},a_=function(t,n){return n.map(function(a){if(t.contains(a))return a;var o=kv(a);return o&&t.contains(o)?o:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},r_=function(t,n,a,o){var i=a_(n,Array.isArray(t)?t:[t]);cl[a]||(cl[a]=new WeakMap);var c=cl[a],d=[],u=new Set,m=new Set(i),h=function(p){!p||u.has(p)||(u.add(p),h(p.parentNode))};i.forEach(h);var x=function(p){!p||m.has(p)||Array.prototype.forEach.call(p.children,function(j){if(u.has(j))x(j);else try{var b=j.getAttribute(o),N=b!==null&&b!=="false",v=(dr.get(j)||0)+1,w=(c.get(j)||0)+1;dr.set(j,v),c.set(j,w),d.push(j),v===1&&N&&ll.set(j,!0),w===1&&j.setAttribute(a,"true"),N||j.setAttribute(o,"true")}catch(_){console.error("aria-hidden: cannot operate on ",j,_)}})};return x(n),u.clear(),Nu++,function(){d.forEach(function(p){var j=dr.get(p)-1,b=c.get(p)-1;dr.set(p,j),c.set(p,b),j||(ll.has(p)||p.removeAttribute(o),ll.delete(p)),b||p.removeAttribute(a)}),Nu--,Nu||(dr=new WeakMap,dr=new WeakMap,ll=new WeakMap,cl={})}},Am=function(t,n,a){a===void 0&&(a="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),i=n_(t);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),r_(o,i,a,"aria-hidden")):function(){return null}},Wl="Dialog",[Pv,uT]=un(Wl),[o_,Ys]=Pv(Wl),Av=t=>{const{__scopeDialog:n,children:a,open:o,defaultOpen:i,onOpenChange:c,modal:d=!0}=t,u=g.useRef(null),m=g.useRef(null),[h,x]=Pa({prop:o,defaultProp:i??!1,onChange:c,caller:Wl});return e.jsx(o_,{scope:n,triggerRef:u,contentRef:m,contentId:on(),titleId:on(),descriptionId:on(),open:h,onOpenChange:x,onOpenToggle:g.useCallback(()=>x(p=>!p),[x]),modal:d,children:a})};Av.displayName=Wl;var Tv="DialogTrigger",Mv=g.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,i=Ys(Tv,a),c=mt(n,i.triggerRef);return e.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Dm(i.open),...o,ref:c,onClick:Ee(t.onClick,i.onOpenToggle)})});Mv.displayName=Tv;var Tm="DialogPortal",[i_,Dv]=Pv(Tm,{forceMount:void 0}),Ov=t=>{const{__scopeDialog:n,forceMount:a,children:o,container:i}=t,c=Ys(Tm,n);return e.jsx(i_,{scope:n,forceMount:a,children:g.Children.map(o,d=>e.jsx(mn,{present:a||c.open,children:e.jsx(Fo,{asChild:!0,container:i,children:d})}))})};Ov.displayName=Tm;var _l="DialogOverlay",Lv=g.forwardRef((t,n)=>{const a=Dv(_l,t.__scopeDialog),{forceMount:o=a.forceMount,...i}=t,c=Ys(_l,t.__scopeDialog);return c.modal?e.jsx(mn,{present:o||c.open,children:e.jsx(c_,{...i,ref:n})}):null});Lv.displayName=_l;var l_=ka("DialogOverlay.RemoveScroll"),c_=g.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,i=Ys(_l,a);return e.jsx(ql,{as:l_,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(Ve.div,{"data-state":Dm(i.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),Aa="DialogContent",$v=g.forwardRef((t,n)=>{const a=Dv(Aa,t.__scopeDialog),{forceMount:o=a.forceMount,...i}=t,c=Ys(Aa,t.__scopeDialog);return e.jsx(mn,{present:o||c.open,children:c.modal?e.jsx(d_,{...i,ref:n}):e.jsx(u_,{...i,ref:n})})});$v.displayName=Aa;var d_=g.forwardRef((t,n)=>{const a=Ys(Aa,t.__scopeDialog),o=g.useRef(null),i=mt(n,a.contentRef,o);return g.useEffect(()=>{const c=o.current;if(c)return Am(c)},[]),e.jsx(Iv,{...t,ref:i,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,c=>{var d;c.preventDefault(),(d=a.triggerRef.current)==null||d.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0;(d.button===2||u)&&c.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,c=>c.preventDefault())})}),u_=g.forwardRef((t,n)=>{const a=Ys(Aa,t.__scopeDialog),o=g.useRef(!1),i=g.useRef(!1);return e.jsx(Iv,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var d,u;(d=t.onCloseAutoFocus)==null||d.call(t,c),c.defaultPrevented||(o.current||(u=a.triggerRef.current)==null||u.focus(),c.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:c=>{var m,h;(m=t.onInteractOutside)==null||m.call(t,c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=c.target;((h=a.triggerRef.current)==null?void 0:h.contains(d))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),Iv=g.forwardRef((t,n)=>{const{__scopeDialog:a,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:c,...d}=t,u=Ys(Aa,a),m=g.useRef(null),h=mt(n,m);return Pm(),e.jsxs(e.Fragment,{children:[e.jsx(Vl,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:c,children:e.jsx(Cr,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Dm(u.open),...d,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(m_,{titleId:u.titleId}),e.jsx(p_,{contentRef:m,descriptionId:u.descriptionId})]})]})}),Mm="DialogTitle",Fv=g.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,i=Ys(Mm,a);return e.jsx(Ve.h2,{id:i.titleId,...o,ref:n})});Fv.displayName=Mm;var zv="DialogDescription",Bv=g.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,i=Ys(zv,a);return e.jsx(Ve.p,{id:i.descriptionId,...o,ref:n})});Bv.displayName=zv;var Uv="DialogClose",Vv=g.forwardRef((t,n)=>{const{__scopeDialog:a,...o}=t,i=Ys(Uv,a);return e.jsx(Ve.button,{type:"button",...o,ref:n,onClick:Ee(t.onClick,()=>i.onOpenChange(!1))})});Vv.displayName=Uv;function Dm(t){return t?"open":"closed"}var Hv="DialogTitleWarning",[mT,qv]=GC(Hv,{contentName:Aa,titleName:Mm,docsSlug:"dialog"}),m_=({titleId:t})=>{const n=qv(Hv),a=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},f_="DialogDescriptionWarning",p_=({contentRef:t,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qv(f_).contentName}}.`;return g.useEffect(()=>{var c;const i=(c=t.current)==null?void 0:c.getAttribute("aria-describedby");n&&i&&(document.getElementById(n)||console.warn(o))},[o,t,n]),null},Wv=Av,h_=Mv,Kv=Ov,Kl=Lv,Gl=$v,Yl=Fv,Jl=Bv,Gv=Vv;const x_=Wv,g_=Kv,Yv=g.forwardRef(({className:t,...n},a)=>e.jsx(Kl,{className:ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:a}));Yv.displayName=Kl.displayName;const v_=Ul("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Jv=g.forwardRef(({side:t="right",className:n,children:a,...o},i)=>e.jsxs(g_,{children:[e.jsx(Yv,{}),e.jsxs(Gl,{ref:i,className:ye(v_({side:t}),n),...o,children:[a,e.jsxs(Gv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Rm,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jv.displayName=Gl.displayName;const y_=g.forwardRef(({className:t,...n},a)=>e.jsx(Yl,{ref:a,className:ye("text-lg font-semibold text-foreground",t),...n}));y_.displayName=Yl.displayName;const j_=g.forwardRef(({className:t,...n},a)=>e.jsx(Jl,{ref:a,className:ye("text-sm text-muted-foreground",t),...n}));j_.displayName=Jl.displayName;function st({className:t,...n}){return e.jsx("div",{className:ye("animate-pulse rounded-md bg-muted",t),...n})}const w_=["top","right","bottom","left"],oa=Math.min,Ss=Math.max,El=Math.round,dl=Math.floor,ln=t=>({x:t,y:t}),N_={left:"right",right:"left",bottom:"top",top:"bottom"},b_={start:"end",end:"start"};function Gu(t,n,a){return Ss(t,oa(n,a))}function Pn(t,n){return typeof t=="function"?t(n):t}function An(t){return t.split("-")[0]}function _r(t){return t.split("-")[1]}function Om(t){return t==="x"?"y":"x"}function Lm(t){return t==="y"?"height":"width"}const S_=new Set(["top","bottom"]);function rn(t){return S_.has(An(t))?"y":"x"}function $m(t){return Om(rn(t))}function C_(t,n,a){a===void 0&&(a=!1);const o=_r(t),i=$m(t),c=Lm(i);let d=i==="x"?o===(a?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[c]>n.floating[c]&&(d=Rl(d)),[d,Rl(d)]}function __(t){const n=Rl(t);return[Yu(t),n,Yu(n)]}function Yu(t){return t.replace(/start|end/g,n=>b_[n])}const Gx=["left","right"],Yx=["right","left"],E_=["top","bottom"],R_=["bottom","top"];function k_(t,n,a){switch(t){case"top":case"bottom":return a?n?Yx:Gx:n?Gx:Yx;case"left":case"right":return n?E_:R_;default:return[]}}function P_(t,n,a,o){const i=_r(t);let c=k_(An(t),a==="start",o);return i&&(c=c.map(d=>d+"-"+i),n&&(c=c.concat(c.map(Yu)))),c}function Rl(t){return t.replace(/left|right|bottom|top/g,n=>N_[n])}function A_(t){return{top:0,right:0,bottom:0,left:0,...t}}function Qv(t){return typeof t!="number"?A_(t):{top:t,right:t,bottom:t,left:t}}function kl(t){const{x:n,y:a,width:o,height:i}=t;return{width:o,height:i,top:a,left:n,right:n+o,bottom:a+i,x:n,y:a}}function Jx(t,n,a){let{reference:o,floating:i}=t;const c=rn(n),d=$m(n),u=Lm(d),m=An(n),h=c==="y",x=o.x+o.width/2-i.width/2,p=o.y+o.height/2-i.height/2,j=o[u]/2-i[u]/2;let b;switch(m){case"top":b={x,y:o.y-i.height};break;case"bottom":b={x,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:p};break;case"left":b={x:o.x-i.width,y:p};break;default:b={x:o.x,y:o.y}}switch(_r(n)){case"start":b[d]-=j*(a&&h?-1:1);break;case"end":b[d]+=j*(a&&h?-1:1);break}return b}const T_=async(t,n,a)=>{const{placement:o="bottom",strategy:i="absolute",middleware:c=[],platform:d}=a,u=c.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(n));let h=await d.getElementRects({reference:t,floating:n,strategy:i}),{x,y:p}=Jx(h,o,m),j=o,b={},N=0;for(let v=0;v<u.length;v++){const{name:w,fn:_}=u[v],{x:C,y:E,data:R,reset:A}=await _({x,y:p,initialPlacement:o,placement:j,strategy:i,middlewareData:b,rects:h,platform:d,elements:{reference:t,floating:n}});x=C??x,p=E??p,b={...b,[w]:{...b[w],...R}},A&&N<=50&&(N++,typeof A=="object"&&(A.placement&&(j=A.placement),A.rects&&(h=A.rects===!0?await d.getElementRects({reference:t,floating:n,strategy:i}):A.rects),{x,y:p}=Jx(h,j,m)),v=-1)}return{x,y:p,placement:j,strategy:i,middlewareData:b}};async function Ro(t,n){var a;n===void 0&&(n={});const{x:o,y:i,platform:c,rects:d,elements:u,strategy:m}=t,{boundary:h="clippingAncestors",rootBoundary:x="viewport",elementContext:p="floating",altBoundary:j=!1,padding:b=0}=Pn(n,t),N=Qv(b),w=u[j?p==="floating"?"reference":"floating":p],_=kl(await c.getClippingRect({element:(a=await(c.isElement==null?void 0:c.isElement(w)))==null||a?w:w.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(u.floating)),boundary:h,rootBoundary:x,strategy:m})),C=p==="floating"?{x:o,y:i,width:d.floating.width,height:d.floating.height}:d.reference,E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(u.floating)),R=await(c.isElement==null?void 0:c.isElement(E))?await(c.getScale==null?void 0:c.getScale(E))||{x:1,y:1}:{x:1,y:1},A=kl(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:E,strategy:m}):C);return{top:(_.top-A.top+N.top)/R.y,bottom:(A.bottom-_.bottom+N.bottom)/R.y,left:(_.left-A.left+N.left)/R.x,right:(A.right-_.right+N.right)/R.x}}const M_=t=>({name:"arrow",options:t,async fn(n){const{x:a,y:o,placement:i,rects:c,platform:d,elements:u,middlewareData:m}=n,{element:h,padding:x=0}=Pn(t,n)||{};if(h==null)return{};const p=Qv(x),j={x:a,y:o},b=$m(i),N=Lm(b),v=await d.getDimensions(h),w=b==="y",_=w?"top":"left",C=w?"bottom":"right",E=w?"clientHeight":"clientWidth",R=c.reference[N]+c.reference[b]-j[b]-c.floating[N],A=j[b]-c.reference[b],P=await(d.getOffsetParent==null?void 0:d.getOffsetParent(h));let T=P?P[E]:0;(!T||!await(d.isElement==null?void 0:d.isElement(P)))&&(T=u.floating[E]||c.floating[N]);const k=R/2-A/2,$=T/2-v[N]/2-1,M=oa(p[_],$),I=oa(p[C],$),z=M,Y=T-v[N]-I,F=T/2-v[N]/2+k,K=Gu(z,F,Y),D=!m.arrow&&_r(i)!=null&&F!==K&&c.reference[N]/2-(F<z?M:I)-v[N]/2<0,H=D?F<z?F-z:F-Y:0;return{[b]:j[b]+H,data:{[b]:K,centerOffset:F-K-H,...D&&{alignmentOffset:H}},reset:D}}}),D_=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var a,o;const{placement:i,middlewareData:c,rects:d,initialPlacement:u,platform:m,elements:h}=n,{mainAxis:x=!0,crossAxis:p=!0,fallbackPlacements:j,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:v=!0,...w}=Pn(t,n);if((a=c.arrow)!=null&&a.alignmentOffset)return{};const _=An(i),C=rn(u),E=An(u)===u,R=await(m.isRTL==null?void 0:m.isRTL(h.floating)),A=j||(E||!v?[Rl(u)]:__(u)),P=N!=="none";!j&&P&&A.push(...P_(u,v,N,R));const T=[u,...A],k=await Ro(n,w),$=[];let M=((o=c.flip)==null?void 0:o.overflows)||[];if(x&&$.push(k[_]),p){const F=C_(i,d,R);$.push(k[F[0]],k[F[1]])}if(M=[...M,{placement:i,overflows:$}],!$.every(F=>F<=0)){var I,z;const F=(((I=c.flip)==null?void 0:I.index)||0)+1,K=T[F];if(K&&(!(p==="alignment"?C!==rn(K):!1)||M.every(q=>rn(q.placement)===C?q.overflows[0]>0:!0)))return{data:{index:F,overflows:M},reset:{placement:K}};let D=(z=M.filter(H=>H.overflows[0]<=0).sort((H,q)=>H.overflows[1]-q.overflows[1])[0])==null?void 0:z.placement;if(!D)switch(b){case"bestFit":{var Y;const H=(Y=M.filter(q=>{if(P){const X=rn(q.placement);return X===C||X==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(X=>X>0).reduce((X,te)=>X+te,0)]).sort((q,X)=>q[1]-X[1])[0])==null?void 0:Y[0];H&&(D=H);break}case"initialPlacement":D=u;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function Qx(t,n){return{top:t.top-n.height,right:t.right-n.width,bottom:t.bottom-n.height,left:t.left-n.width}}function Xx(t){return w_.some(n=>t[n]>=0)}const O_=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(n){const{rects:a}=n,{strategy:o="referenceHidden",...i}=Pn(t,n);switch(o){case"referenceHidden":{const c=await Ro(n,{...i,elementContext:"reference"}),d=Qx(c,a.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Xx(d)}}}case"escaped":{const c=await Ro(n,{...i,altBoundary:!0}),d=Qx(c,a.floating);return{data:{escapedOffsets:d,escaped:Xx(d)}}}default:return{}}}}},Xv=new Set(["left","top"]);async function L_(t,n){const{placement:a,platform:o,elements:i}=t,c=await(o.isRTL==null?void 0:o.isRTL(i.floating)),d=An(a),u=_r(a),m=rn(a)==="y",h=Xv.has(d)?-1:1,x=c&&m?-1:1,p=Pn(n,t);let{mainAxis:j,crossAxis:b,alignmentAxis:N}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof N=="number"&&(b=u==="end"?N*-1:N),m?{x:b*x,y:j*h}:{x:j*h,y:b*x}}const $_=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var a,o;const{x:i,y:c,placement:d,middlewareData:u}=n,m=await L_(n,t);return d===((a=u.offset)==null?void 0:a.placement)&&(o=u.arrow)!=null&&o.alignmentOffset?{}:{x:i+m.x,y:c+m.y,data:{...m,placement:d}}}}},I_=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:a,y:o,placement:i}=n,{mainAxis:c=!0,crossAxis:d=!1,limiter:u={fn:w=>{let{x:_,y:C}=w;return{x:_,y:C}}},...m}=Pn(t,n),h={x:a,y:o},x=await Ro(n,m),p=rn(An(i)),j=Om(p);let b=h[j],N=h[p];if(c){const w=j==="y"?"top":"left",_=j==="y"?"bottom":"right",C=b+x[w],E=b-x[_];b=Gu(C,b,E)}if(d){const w=p==="y"?"top":"left",_=p==="y"?"bottom":"right",C=N+x[w],E=N-x[_];N=Gu(C,N,E)}const v=u.fn({...n,[j]:b,[p]:N});return{...v,data:{x:v.x-a,y:v.y-o,enabled:{[j]:c,[p]:d}}}}}},F_=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:a,y:o,placement:i,rects:c,middlewareData:d}=n,{offset:u=0,mainAxis:m=!0,crossAxis:h=!0}=Pn(t,n),x={x:a,y:o},p=rn(i),j=Om(p);let b=x[j],N=x[p];const v=Pn(u,n),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(m){const E=j==="y"?"height":"width",R=c.reference[j]-c.floating[E]+w.mainAxis,A=c.reference[j]+c.reference[E]-w.mainAxis;b<R?b=R:b>A&&(b=A)}if(h){var _,C;const E=j==="y"?"width":"height",R=Xv.has(An(i)),A=c.reference[p]-c.floating[E]+(R&&((_=d.offset)==null?void 0:_[p])||0)+(R?0:w.crossAxis),P=c.reference[p]+c.reference[E]+(R?0:((C=d.offset)==null?void 0:C[p])||0)-(R?w.crossAxis:0);N<A?N=A:N>P&&(N=P)}return{[j]:b,[p]:N}}}},z_=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(n){var a,o;const{placement:i,rects:c,platform:d,elements:u}=n,{apply:m=()=>{},...h}=Pn(t,n),x=await Ro(n,h),p=An(i),j=_r(i),b=rn(i)==="y",{width:N,height:v}=c.floating;let w,_;p==="top"||p==="bottom"?(w=p,_=j===(await(d.isRTL==null?void 0:d.isRTL(u.floating))?"start":"end")?"left":"right"):(_=p,w=j==="end"?"top":"bottom");const C=v-x.top-x.bottom,E=N-x.left-x.right,R=oa(v-x[w],C),A=oa(N-x[_],E),P=!n.middlewareData.shift;let T=R,k=A;if((a=n.middlewareData.shift)!=null&&a.enabled.x&&(k=E),(o=n.middlewareData.shift)!=null&&o.enabled.y&&(T=C),P&&!j){const M=Ss(x.left,0),I=Ss(x.right,0),z=Ss(x.top,0),Y=Ss(x.bottom,0);b?k=N-2*(M!==0||I!==0?M+I:Ss(x.left,x.right)):T=v-2*(z!==0||Y!==0?z+Y:Ss(x.top,x.bottom))}await m({...n,availableWidth:k,availableHeight:T});const $=await d.getDimensions(u.floating);return N!==$.width||v!==$.height?{reset:{rects:!0}}:{}}}};function Ql(){return typeof window<"u"}function Er(t){return Zv(t)?(t.nodeName||"").toLowerCase():"#document"}function Cs(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function fn(t){var n;return(n=(Zv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function Zv(t){return Ql()?t instanceof Node||t instanceof Cs(t).Node:!1}function Ws(t){return Ql()?t instanceof Element||t instanceof Cs(t).Element:!1}function cn(t){return Ql()?t instanceof HTMLElement||t instanceof Cs(t).HTMLElement:!1}function Zx(t){return!Ql()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cs(t).ShadowRoot}const B_=new Set(["inline","contents"]);function zo(t){const{overflow:n,overflowX:a,overflowY:o,display:i}=Ks(t);return/auto|scroll|overlay|hidden|clip/.test(n+o+a)&&!B_.has(i)}const U_=new Set(["table","td","th"]);function V_(t){return U_.has(Er(t))}const H_=[":popover-open",":modal"];function Xl(t){return H_.some(n=>{try{return t.matches(n)}catch{return!1}})}const q_=["transform","translate","scale","rotate","perspective"],W_=["transform","translate","scale","rotate","perspective","filter"],K_=["paint","layout","strict","content"];function Im(t){const n=Fm(),a=Ws(t)?Ks(t):t;return q_.some(o=>a[o]?a[o]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!n&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!n&&(a.filter?a.filter!=="none":!1)||W_.some(o=>(a.willChange||"").includes(o))||K_.some(o=>(a.contain||"").includes(o))}function G_(t){let n=ia(t);for(;cn(n)&&!hr(n);){if(Im(n))return n;if(Xl(n))return null;n=ia(n)}return null}function Fm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Y_=new Set(["html","body","#document"]);function hr(t){return Y_.has(Er(t))}function Ks(t){return Cs(t).getComputedStyle(t)}function Zl(t){return Ws(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ia(t){if(Er(t)==="html")return t;const n=t.assignedSlot||t.parentNode||Zx(t)&&t.host||fn(t);return Zx(n)?n.host:n}function ey(t){const n=ia(t);return hr(n)?t.ownerDocument?t.ownerDocument.body:t.body:cn(n)&&zo(n)?n:ey(n)}function ko(t,n,a){var o;n===void 0&&(n=[]),a===void 0&&(a=!0);const i=ey(t),c=i===((o=t.ownerDocument)==null?void 0:o.body),d=Cs(i);if(c){const u=Ju(d);return n.concat(d,d.visualViewport||[],zo(i)?i:[],u&&a?ko(u):[])}return n.concat(i,ko(i,[],a))}function Ju(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ty(t){const n=Ks(t);let a=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const i=cn(t),c=i?t.offsetWidth:a,d=i?t.offsetHeight:o,u=El(a)!==c||El(o)!==d;return u&&(a=c,o=d),{width:a,height:o,$:u}}function zm(t){return Ws(t)?t:t.contextElement}function mr(t){const n=zm(t);if(!cn(n))return ln(1);const a=n.getBoundingClientRect(),{width:o,height:i,$:c}=ty(n);let d=(c?El(a.width):a.width)/o,u=(c?El(a.height):a.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!u||!Number.isFinite(u))&&(u=1),{x:d,y:u}}const J_=ln(0);function sy(t){const n=Cs(t);return!Fm()||!n.visualViewport?J_:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Q_(t,n,a){return n===void 0&&(n=!1),!a||n&&a!==Cs(t)?!1:n}function Ta(t,n,a,o){n===void 0&&(n=!1),a===void 0&&(a=!1);const i=t.getBoundingClientRect(),c=zm(t);let d=ln(1);n&&(o?Ws(o)&&(d=mr(o)):d=mr(t));const u=Q_(c,a,o)?sy(c):ln(0);let m=(i.left+u.x)/d.x,h=(i.top+u.y)/d.y,x=i.width/d.x,p=i.height/d.y;if(c){const j=Cs(c),b=o&&Ws(o)?Cs(o):o;let N=j,v=Ju(N);for(;v&&o&&b!==N;){const w=mr(v),_=v.getBoundingClientRect(),C=Ks(v),E=_.left+(v.clientLeft+parseFloat(C.paddingLeft))*w.x,R=_.top+(v.clientTop+parseFloat(C.paddingTop))*w.y;m*=w.x,h*=w.y,x*=w.x,p*=w.y,m+=E,h+=R,N=Cs(v),v=Ju(N)}}return kl({width:x,height:p,x:m,y:h})}function Bm(t,n){const a=Zl(t).scrollLeft;return n?n.left+a:Ta(fn(t)).left+a}function ny(t,n,a){a===void 0&&(a=!1);const o=t.getBoundingClientRect(),i=o.left+n.scrollLeft-(a?0:Bm(t,o)),c=o.top+n.scrollTop;return{x:i,y:c}}function X_(t){let{elements:n,rect:a,offsetParent:o,strategy:i}=t;const c=i==="fixed",d=fn(o),u=n?Xl(n.floating):!1;if(o===d||u&&c)return a;let m={scrollLeft:0,scrollTop:0},h=ln(1);const x=ln(0),p=cn(o);if((p||!p&&!c)&&((Er(o)!=="body"||zo(d))&&(m=Zl(o)),cn(o))){const b=Ta(o);h=mr(o),x.x=b.x+o.clientLeft,x.y=b.y+o.clientTop}const j=d&&!p&&!c?ny(d,m,!0):ln(0);return{width:a.width*h.x,height:a.height*h.y,x:a.x*h.x-m.scrollLeft*h.x+x.x+j.x,y:a.y*h.y-m.scrollTop*h.y+x.y+j.y}}function Z_(t){return Array.from(t.getClientRects())}function eE(t){const n=fn(t),a=Zl(t),o=t.ownerDocument.body,i=Ss(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),c=Ss(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let d=-a.scrollLeft+Bm(t);const u=-a.scrollTop;return Ks(o).direction==="rtl"&&(d+=Ss(n.clientWidth,o.clientWidth)-i),{width:i,height:c,x:d,y:u}}function tE(t,n){const a=Cs(t),o=fn(t),i=a.visualViewport;let c=o.clientWidth,d=o.clientHeight,u=0,m=0;if(i){c=i.width,d=i.height;const h=Fm();(!h||h&&n==="fixed")&&(u=i.offsetLeft,m=i.offsetTop)}return{width:c,height:d,x:u,y:m}}const sE=new Set(["absolute","fixed"]);function nE(t,n){const a=Ta(t,!0,n==="fixed"),o=a.top+t.clientTop,i=a.left+t.clientLeft,c=cn(t)?mr(t):ln(1),d=t.clientWidth*c.x,u=t.clientHeight*c.y,m=i*c.x,h=o*c.y;return{width:d,height:u,x:m,y:h}}function eg(t,n,a){let o;if(n==="viewport")o=tE(t,a);else if(n==="document")o=eE(fn(t));else if(Ws(n))o=nE(n,a);else{const i=sy(t);o={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return kl(o)}function ay(t,n){const a=ia(t);return a===n||!Ws(a)||hr(a)?!1:Ks(a).position==="fixed"||ay(a,n)}function aE(t,n){const a=n.get(t);if(a)return a;let o=ko(t,[],!1).filter(u=>Ws(u)&&Er(u)!=="body"),i=null;const c=Ks(t).position==="fixed";let d=c?ia(t):t;for(;Ws(d)&&!hr(d);){const u=Ks(d),m=Im(d);!m&&u.position==="fixed"&&(i=null),(c?!m&&!i:!m&&u.position==="static"&&!!i&&sE.has(i.position)||zo(d)&&!m&&ay(t,d))?o=o.filter(x=>x!==d):i=u,d=ia(d)}return n.set(t,o),o}function rE(t){let{element:n,boundary:a,rootBoundary:o,strategy:i}=t;const d=[...a==="clippingAncestors"?Xl(n)?[]:aE(n,this._c):[].concat(a),o],u=d[0],m=d.reduce((h,x)=>{const p=eg(n,x,i);return h.top=Ss(p.top,h.top),h.right=oa(p.right,h.right),h.bottom=oa(p.bottom,h.bottom),h.left=Ss(p.left,h.left),h},eg(n,u,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function oE(t){const{width:n,height:a}=ty(t);return{width:n,height:a}}function iE(t,n,a){const o=cn(n),i=fn(n),c=a==="fixed",d=Ta(t,!0,c,n);let u={scrollLeft:0,scrollTop:0};const m=ln(0);function h(){m.x=Bm(i)}if(o||!o&&!c)if((Er(n)!=="body"||zo(i))&&(u=Zl(n)),o){const b=Ta(n,!0,c,n);m.x=b.x+n.clientLeft,m.y=b.y+n.clientTop}else i&&h();c&&!o&&i&&h();const x=i&&!o&&!c?ny(i,u):ln(0),p=d.left+u.scrollLeft-m.x-x.x,j=d.top+u.scrollTop-m.y-x.y;return{x:p,y:j,width:d.width,height:d.height}}function bu(t){return Ks(t).position==="static"}function tg(t,n){if(!cn(t)||Ks(t).position==="fixed")return null;if(n)return n(t);let a=t.offsetParent;return fn(t)===a&&(a=a.ownerDocument.body),a}function ry(t,n){const a=Cs(t);if(Xl(t))return a;if(!cn(t)){let i=ia(t);for(;i&&!hr(i);){if(Ws(i)&&!bu(i))return i;i=ia(i)}return a}let o=tg(t,n);for(;o&&V_(o)&&bu(o);)o=tg(o,n);return o&&hr(o)&&bu(o)&&!Im(o)?a:o||G_(t)||a}const lE=async function(t){const n=this.getOffsetParent||ry,a=this.getDimensions,o=await a(t.floating);return{reference:iE(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function cE(t){return Ks(t).direction==="rtl"}const dE={convertOffsetParentRelativeRectToViewportRelativeRect:X_,getDocumentElement:fn,getClippingRect:rE,getOffsetParent:ry,getElementRects:lE,getClientRects:Z_,getDimensions:oE,getScale:mr,isElement:Ws,isRTL:cE};function oy(t,n){return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height}function uE(t,n){let a=null,o;const i=fn(t);function c(){var u;clearTimeout(o),(u=a)==null||u.disconnect(),a=null}function d(u,m){u===void 0&&(u=!1),m===void 0&&(m=1),c();const h=t.getBoundingClientRect(),{left:x,top:p,width:j,height:b}=h;if(u||n(),!j||!b)return;const N=dl(p),v=dl(i.clientWidth-(x+j)),w=dl(i.clientHeight-(p+b)),_=dl(x),E={rootMargin:-N+"px "+-v+"px "+-w+"px "+-_+"px",threshold:Ss(0,oa(1,m))||1};let R=!0;function A(P){const T=P[0].intersectionRatio;if(T!==m){if(!R)return d();T?d(!1,T):o=setTimeout(()=>{d(!1,1e-7)},1e3)}T===1&&!oy(h,t.getBoundingClientRect())&&d(),R=!1}try{a=new IntersectionObserver(A,{...E,root:i.ownerDocument})}catch{a=new IntersectionObserver(A,E)}a.observe(t)}return d(!0),c}function mE(t,n,a,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,h=zm(t),x=i||c?[...h?ko(h):[],...ko(n)]:[];x.forEach(_=>{i&&_.addEventListener("scroll",a,{passive:!0}),c&&_.addEventListener("resize",a)});const p=h&&u?uE(h,a):null;let j=-1,b=null;d&&(b=new ResizeObserver(_=>{let[C]=_;C&&C.target===h&&b&&(b.unobserve(n),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(n)})),a()}),h&&!m&&b.observe(h),b.observe(n));let N,v=m?Ta(t):null;m&&w();function w(){const _=Ta(t);v&&!oy(v,_)&&a(),v=_,N=requestAnimationFrame(w)}return a(),()=>{var _;x.forEach(C=>{i&&C.removeEventListener("scroll",a),c&&C.removeEventListener("resize",a)}),p==null||p(),(_=b)==null||_.disconnect(),b=null,m&&cancelAnimationFrame(N)}}const fE=$_,pE=I_,hE=D_,xE=z_,gE=O_,sg=M_,vE=F_,yE=(t,n,a)=>{const o=new Map,i={platform:dE,...a},c={...i.platform,_c:o};return T_(t,n,{...i,platform:c})};var jE=typeof document<"u",wE=function(){},vl=jE?g.useLayoutEffect:wE;function Pl(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(typeof t=="function"&&t.toString()===n.toString())return!0;let a,o,i;if(t&&n&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==n.length)return!1;for(o=a;o--!==0;)if(!Pl(t[o],n[o]))return!1;return!0}if(i=Object.keys(t),a=i.length,a!==Object.keys(n).length)return!1;for(o=a;o--!==0;)if(!{}.hasOwnProperty.call(n,i[o]))return!1;for(o=a;o--!==0;){const c=i[o];if(!(c==="_owner"&&t.$$typeof)&&!Pl(t[c],n[c]))return!1}return!0}return t!==t&&n!==n}function iy(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ng(t,n){const a=iy(t);return Math.round(n*a)/a}function Su(t){const n=g.useRef(t);return vl(()=>{n.current=t}),n}function NE(t){t===void 0&&(t={});const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i,elements:{reference:c,floating:d}={},transform:u=!0,whileElementsMounted:m,open:h}=t,[x,p]=g.useState({x:0,y:0,strategy:a,placement:n,middlewareData:{},isPositioned:!1}),[j,b]=g.useState(o);Pl(j,o)||b(o);const[N,v]=g.useState(null),[w,_]=g.useState(null),C=g.useCallback(q=>{q!==P.current&&(P.current=q,v(q))},[]),E=g.useCallback(q=>{q!==T.current&&(T.current=q,_(q))},[]),R=c||N,A=d||w,P=g.useRef(null),T=g.useRef(null),k=g.useRef(x),$=m!=null,M=Su(m),I=Su(i),z=Su(h),Y=g.useCallback(()=>{if(!P.current||!T.current)return;const q={placement:n,strategy:a,middleware:j};I.current&&(q.platform=I.current),yE(P.current,T.current,q).then(X=>{const te={...X,isPositioned:z.current!==!1};F.current&&!Pl(k.current,te)&&(k.current=te,gr.flushSync(()=>{p(te)}))})},[j,n,a,I,z]);vl(()=>{h===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,p(q=>({...q,isPositioned:!1})))},[h]);const F=g.useRef(!1);vl(()=>(F.current=!0,()=>{F.current=!1}),[]),vl(()=>{if(R&&(P.current=R),A&&(T.current=A),R&&A){if(M.current)return M.current(R,A,Y);Y()}},[R,A,Y,M,$]);const K=g.useMemo(()=>({reference:P,floating:T,setReference:C,setFloating:E}),[C,E]),D=g.useMemo(()=>({reference:R,floating:A}),[R,A]),H=g.useMemo(()=>{const q={position:a,left:0,top:0};if(!D.floating)return q;const X=ng(D.floating,x.x),te=ng(D.floating,x.y);return u?{...q,transform:"translate("+X+"px, "+te+"px)",...iy(D.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:X,top:te}},[a,u,D.floating,x.x,x.y]);return g.useMemo(()=>({...x,update:Y,refs:K,elements:D,floatingStyles:H}),[x,Y,K,D,H])}const bE=t=>{function n(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:o,padding:i}=typeof t=="function"?t(a):t;return o&&n(o)?o.current!=null?sg({element:o.current,padding:i}).fn(a):{}:o?sg({element:o,padding:i}).fn(a):{}}}},SE=(t,n)=>({...fE(t),options:[t,n]}),CE=(t,n)=>({...pE(t),options:[t,n]}),_E=(t,n)=>({...vE(t),options:[t,n]}),EE=(t,n)=>({...hE(t),options:[t,n]}),RE=(t,n)=>({...xE(t),options:[t,n]}),kE=(t,n)=>({...gE(t),options:[t,n]}),PE=(t,n)=>({...bE(t),options:[t,n]});var AE="Arrow",ly=g.forwardRef((t,n)=>{const{children:a,width:o=10,height:i=5,...c}=t;return e.jsx(Ve.svg,{...c,ref:n,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});ly.displayName=AE;var TE=ly;function ME(t){const[n,a]=g.useState(void 0);return Ft(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let d,u;if("borderBoxSize"in c){const m=c.borderBoxSize,h=Array.isArray(m)?m[0]:m;d=h.inlineSize,u=h.blockSize}else d=t.offsetWidth,u=t.offsetHeight;a({width:d,height:u})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else a(void 0)},[t]),n}var Um="Popper",[cy,Rr]=un(Um),[DE,dy]=cy(Um),uy=t=>{const{__scopePopper:n,children:a}=t,[o,i]=g.useState(null);return e.jsx(DE,{scope:n,anchor:o,onAnchorChange:i,children:a})};uy.displayName=Um;var my="PopperAnchor",fy=g.forwardRef((t,n)=>{const{__scopePopper:a,virtualRef:o,...i}=t,c=dy(my,a),d=g.useRef(null),u=mt(n,d),m=g.useRef(null);return g.useEffect(()=>{const h=m.current;m.current=(o==null?void 0:o.current)||d.current,h!==m.current&&c.onAnchorChange(m.current)}),o?null:e.jsx(Ve.div,{...i,ref:u})});fy.displayName=my;var Vm="PopperContent",[OE,LE]=cy(Vm),py=g.forwardRef((t,n)=>{var ee,re,he,ve,be,ke;const{__scopePopper:a,side:o="bottom",sideOffset:i=0,align:c="center",alignOffset:d=0,arrowPadding:u=0,avoidCollisions:m=!0,collisionBoundary:h=[],collisionPadding:x=0,sticky:p="partial",hideWhenDetached:j=!1,updatePositionStrategy:b="optimized",onPlaced:N,...v}=t,w=dy(Vm,a),[_,C]=g.useState(null),E=mt(n,ze=>C(ze)),[R,A]=g.useState(null),P=ME(R),T=(P==null?void 0:P.width)??0,k=(P==null?void 0:P.height)??0,$=o+(c!=="center"?"-"+c:""),M=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},I=Array.isArray(h)?h:[h],z=I.length>0,Y={padding:M,boundary:I.filter(IE),altBoundary:z},{refs:F,floatingStyles:K,placement:D,isPositioned:H,middlewareData:q}=NE({strategy:"fixed",placement:$,whileElementsMounted:(...ze)=>mE(...ze,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[SE({mainAxis:i+k,alignmentAxis:d}),m&&CE({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?_E():void 0,...Y}),m&&EE({...Y}),RE({...Y,apply:({elements:ze,rects:tt,availableWidth:Ze,availableHeight:et})=>{const{width:Ct,height:ss}=tt.reference,_t=ze.floating.style;_t.setProperty("--radix-popper-available-width",`${Ze}px`),_t.setProperty("--radix-popper-available-height",`${et}px`),_t.setProperty("--radix-popper-anchor-width",`${Ct}px`),_t.setProperty("--radix-popper-anchor-height",`${ss}px`)}}),R&&PE({element:R,padding:u}),FE({arrowWidth:T,arrowHeight:k}),j&&kE({strategy:"referenceHidden",...Y})]}),[X,te]=gy(D),O=ls(N);Ft(()=>{H&&(O==null||O())},[H,O]);const V=(ee=q.arrow)==null?void 0:ee.x,Z=(re=q.arrow)==null?void 0:re.y,B=((he=q.arrow)==null?void 0:he.centerOffset)!==0,[U,J]=g.useState();return Ft(()=>{_&&J(window.getComputedStyle(_).zIndex)},[_]),e.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:H?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(ve=q.transformOrigin)==null?void 0:ve.x,(be=q.transformOrigin)==null?void 0:be.y].join(" "),...((ke=q.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(OE,{scope:a,placedSide:X,onArrowChange:A,arrowX:V,arrowY:Z,shouldHideArrow:B,children:e.jsx(Ve.div,{"data-side":X,"data-align":te,...v,ref:E,style:{...v.style,animation:H?void 0:"none"}})})})});py.displayName=Vm;var hy="PopperArrow",$E={top:"bottom",right:"left",bottom:"top",left:"right"},xy=g.forwardRef(function(n,a){const{__scopePopper:o,...i}=n,c=LE(hy,o),d=$E[c.placedSide];return e.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:e.jsx(TE,{...i,ref:a,style:{...i.style,display:"block"}})})});xy.displayName=hy;function IE(t){return t!==null}var FE=t=>({name:"transformOrigin",options:t,fn(n){var w,_,C;const{placement:a,rects:o,middlewareData:i}=n,d=((w=i.arrow)==null?void 0:w.centerOffset)!==0,u=d?0:t.arrowWidth,m=d?0:t.arrowHeight,[h,x]=gy(a),p={start:"0%",center:"50%",end:"100%"}[x],j=(((_=i.arrow)==null?void 0:_.x)??0)+u/2,b=(((C=i.arrow)==null?void 0:C.y)??0)+m/2;let N="",v="";return h==="bottom"?(N=d?p:`${j}px`,v=`${-m}px`):h==="top"?(N=d?p:`${j}px`,v=`${o.floating.height+m}px`):h==="right"?(N=`${-m}px`,v=d?p:`${b}px`):h==="left"&&(N=`${o.floating.width+m}px`,v=d?p:`${b}px`),{data:{x:N,y:v}}}});function gy(t){const[n,a="center"]=t.split("-");return[n,a]}var Hm=uy,qm=fy,Wm=py,Km=xy,vy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zE="VisuallyHidden",ec=g.forwardRef((t,n)=>e.jsx(Ve.span,{...t,ref:n,style:{...vy,...t.style}}));ec.displayName=zE;var BE=ec,[tc,fT]=un("Tooltip",[Rr]),sc=Rr(),yy="TooltipProvider",UE=700,Qu="tooltip.open",[VE,Gm]=tc(yy),jy=t=>{const{__scopeTooltip:n,delayDuration:a=UE,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:c}=t,d=g.useRef(!0),u=g.useRef(!1),m=g.useRef(0);return g.useEffect(()=>{const h=m.current;return()=>window.clearTimeout(h)},[]),e.jsx(VE,{scope:n,isOpenDelayedRef:d,delayDuration:a,onOpen:g.useCallback(()=>{window.clearTimeout(m.current),d.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>d.current=!0,o)},[o]),isPointerInTransitRef:u,onPointerInTransitChange:g.useCallback(h=>{u.current=h},[]),disableHoverableContent:i,children:c})};jy.displayName=yy;var Po="Tooltip",[HE,nc]=tc(Po),wy=t=>{const{__scopeTooltip:n,children:a,open:o,defaultOpen:i,onOpenChange:c,disableHoverableContent:d,delayDuration:u}=t,m=Gm(Po,t.__scopeTooltip),h=sc(n),[x,p]=g.useState(null),j=on(),b=g.useRef(0),N=d??m.disableHoverableContent,v=u??m.delayDuration,w=g.useRef(!1),[_,C]=Pa({prop:o,defaultProp:i??!1,onChange:T=>{T?(m.onOpen(),document.dispatchEvent(new CustomEvent(Qu))):m.onClose(),c==null||c(T)},caller:Po}),E=g.useMemo(()=>_?w.current?"delayed-open":"instant-open":"closed",[_]),R=g.useCallback(()=>{window.clearTimeout(b.current),b.current=0,w.current=!1,C(!0)},[C]),A=g.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C(!1)},[C]),P=g.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{w.current=!0,C(!0),b.current=0},v)},[v,C]);return g.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),e.jsx(Hm,{...h,children:e.jsx(HE,{scope:n,contentId:j,open:_,stateAttribute:E,trigger:x,onTriggerChange:p,onTriggerEnter:g.useCallback(()=>{m.isOpenDelayedRef.current?P():R()},[m.isOpenDelayedRef,P,R]),onTriggerLeave:g.useCallback(()=>{N?A():(window.clearTimeout(b.current),b.current=0)},[A,N]),onOpen:R,onClose:A,disableHoverableContent:N,children:a})})};wy.displayName=Po;var Xu="TooltipTrigger",Ny=g.forwardRef((t,n)=>{const{__scopeTooltip:a,...o}=t,i=nc(Xu,a),c=Gm(Xu,a),d=sc(a),u=g.useRef(null),m=mt(n,u,i.onTriggerChange),h=g.useRef(!1),x=g.useRef(!1),p=g.useCallback(()=>h.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),e.jsx(qm,{asChild:!0,...d,children:e.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:m,onPointerMove:Ee(t.onPointerMove,j=>{j.pointerType!=="touch"&&!x.current&&!c.isPointerInTransitRef.current&&(i.onTriggerEnter(),x.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{i.onTriggerLeave(),x.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ee(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:Ee(t.onBlur,i.onClose),onClick:Ee(t.onClick,i.onClose)})})});Ny.displayName=Xu;var qE="TooltipPortal",[pT,WE]=tc(qE,{forceMount:void 0}),xr="TooltipContent",by=g.forwardRef((t,n)=>{const a=WE(xr,t.__scopeTooltip),{forceMount:o=a.forceMount,side:i="top",...c}=t,d=nc(xr,t.__scopeTooltip);return e.jsx(mn,{present:o||d.open,children:d.disableHoverableContent?e.jsx(Sy,{side:i,...c,ref:n}):e.jsx(KE,{side:i,...c,ref:n})})}),KE=g.forwardRef((t,n)=>{const a=nc(xr,t.__scopeTooltip),o=Gm(xr,t.__scopeTooltip),i=g.useRef(null),c=mt(n,i),[d,u]=g.useState(null),{trigger:m,onClose:h}=a,x=i.current,{onPointerInTransitChange:p}=o,j=g.useCallback(()=>{u(null),p(!1)},[p]),b=g.useCallback((N,v)=>{const w=N.currentTarget,_={x:N.clientX,y:N.clientY},C=XE(_,w.getBoundingClientRect()),E=ZE(_,C),R=eR(v.getBoundingClientRect()),A=sR([...E,...R]);u(A),p(!0)},[p]);return g.useEffect(()=>()=>j(),[j]),g.useEffect(()=>{if(m&&x){const N=w=>b(w,x),v=w=>b(w,m);return m.addEventListener("pointerleave",N),x.addEventListener("pointerleave",v),()=>{m.removeEventListener("pointerleave",N),x.removeEventListener("pointerleave",v)}}},[m,x,b,j]),g.useEffect(()=>{if(d){const N=v=>{const w=v.target,_={x:v.clientX,y:v.clientY},C=(m==null?void 0:m.contains(w))||(x==null?void 0:x.contains(w)),E=!tR(_,d);C?j():E&&(j(),h())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[m,x,d,h,j]),e.jsx(Sy,{...t,ref:c})}),[GE,YE]=tc(Po,{isInside:!1}),JE=mC("TooltipContent"),Sy=g.forwardRef((t,n)=>{const{__scopeTooltip:a,children:o,"aria-label":i,onEscapeKeyDown:c,onPointerDownOutside:d,...u}=t,m=nc(xr,a),h=sc(a),{onClose:x}=m;return g.useEffect(()=>(document.addEventListener(Qu,x),()=>document.removeEventListener(Qu,x)),[x]),g.useEffect(()=>{if(m.trigger){const p=j=>{const b=j.target;b!=null&&b.contains(m.trigger)&&x()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[m.trigger,x]),e.jsx(Cr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:p=>p.preventDefault(),onDismiss:x,children:e.jsxs(Wm,{"data-state":m.stateAttribute,...h,...u,ref:n,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(JE,{children:o}),e.jsx(GE,{scope:a,isInside:!0,children:e.jsx(BE,{id:m.contentId,role:"tooltip",children:i||o})})]})})});by.displayName=xr;var Cy="TooltipArrow",QE=g.forwardRef((t,n)=>{const{__scopeTooltip:a,...o}=t,i=sc(a);return YE(Cy,a).isInside?null:e.jsx(Km,{...i,...o,ref:n})});QE.displayName=Cy;function XE(t,n){const a=Math.abs(n.top-t.y),o=Math.abs(n.bottom-t.y),i=Math.abs(n.right-t.x),c=Math.abs(n.left-t.x);switch(Math.min(a,o,i,c)){case c:return"left";case i:return"right";case a:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function ZE(t,n,a=5){const o=[];switch(n){case"top":o.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":o.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":o.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":o.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return o}function eR(t){const{top:n,right:a,bottom:o,left:i}=t;return[{x:i,y:n},{x:a,y:n},{x:a,y:o},{x:i,y:o}]}function tR(t,n){const{x:a,y:o}=t;let i=!1;for(let c=0,d=n.length-1;c<n.length;d=c++){const u=n[c],m=n[d],h=u.x,x=u.y,p=m.x,j=m.y;x>o!=j>o&&a<(p-h)*(o-x)/(j-x)+h&&(i=!i)}return i}function sR(t){const n=t.slice();return n.sort((a,o)=>a.x<o.x?-1:a.x>o.x?1:a.y<o.y?-1:a.y>o.y?1:0),nR(n)}function nR(t){if(t.length<=1)return t.slice();const n=[];for(let o=0;o<t.length;o++){const i=t[o];for(;n.length>=2;){const c=n[n.length-1],d=n[n.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))n.pop();else break}n.push(i)}n.pop();const a=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;a.length>=2;){const c=a[a.length-1],d=a[a.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))a.pop();else break}a.push(i)}return a.pop(),n.length===1&&a.length===1&&n[0].x===a[0].x&&n[0].y===a[0].y?n:n.concat(a)}var aR=jy,rR=wy,oR=Ny,_y=by;const iR=aR,lR=rR,cR=oR,Ey=g.forwardRef(({className:t,sideOffset:n=4,...a},o)=>e.jsx(_y,{ref:o,sideOffset:n,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));Ey.displayName=_y.displayName;const dR="sidebar:state",uR=3600*24*7,mR="16rem",fR="18rem",pR="3rem",hR="b",Ry=g.createContext(null);function ac(){const t=g.useContext(Ry);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const ky=g.forwardRef(({defaultOpen:t=!0,open:n,onOpenChange:a,className:o,style:i,children:c,...d},u)=>{const m=UC(),[h,x]=g.useState(!1),[p,j]=g.useState(t),b=n??p,N=g.useCallback(C=>{const E=typeof C=="function"?C(b):C;a?a(E):j(E),document.cookie=`${dR}=${E}; path=/; max-age=${uR}`},[a,b]),v=g.useCallback(()=>m?x(C=>!C):N(C=>!C),[m,N,x]);g.useEffect(()=>{const C=E=>{E.key===hR&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),v())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[v]);const w=b?"expanded":"collapsed",_=g.useMemo(()=>({state:w,open:b,setOpen:N,isMobile:m,openMobile:h,setOpenMobile:x,toggleSidebar:v}),[w,b,N,m,h,x,v]);return e.jsx(Ry.Provider,{value:_,children:e.jsx(iR,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":mR,"--sidebar-width-icon":pR,...i},className:ye("group/sidebar-wrapper flex min-h-svh w-full bg-background",o),ref:u,...d,children:c})})})});ky.displayName="SidebarProvider";const Py=g.forwardRef(({side:t="left",variant:n="sidebar",collapsible:a="offcanvas",className:o,children:i,...c},d)=>{const{isMobile:u,state:m,openMobile:h,setOpenMobile:x}=ac();return a==="none"?e.jsx("div",{className:ye("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",o),ref:d,...c,children:i}):u?e.jsx(x_,{open:h,onOpenChange:x,...c,children:e.jsx(Jv,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":fR},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):e.jsxs("div",{ref:d,className:"group peer hidden md:block text-sidebar-foreground","data-state":m,"data-collapsible":m==="collapsed"?a:"","data-variant":n,"data-side":t,children:[e.jsx("div",{className:ye("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",n==="floating"||n==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:ye("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",n==="floating"||n==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",o),...c,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});Py.displayName="Sidebar";const Ay=g.forwardRef(({className:t,onClick:n,...a},o)=>{const{toggleSidebar:i}=ac();return e.jsxs(ne,{ref:o,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ye("h-7 w-7",t),onClick:c=>{n==null||n(c),i()},...a,children:[e.jsx($C,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Ay.displayName="SidebarTrigger";const xR=g.forwardRef(({className:t,...n},a)=>{const{toggleSidebar:o}=ac();return e.jsx("button",{ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:o,title:"Toggle Sidebar",className:ye("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...n})});xR.displayName="SidebarRail";const Ty=g.forwardRef(({className:t,...n},a)=>e.jsx("main",{ref:a,className:ye("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...n}));Ty.displayName="SidebarInset";const gR=g.forwardRef(({className:t,...n},a)=>e.jsx(fe,{ref:a,"data-sidebar":"input",className:ye("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...n}));gR.displayName="SidebarInput";const My=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"header",className:ye("flex flex-col gap-2 p-2",t),...n}));My.displayName="SidebarHeader";const Dy=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"footer",className:ye("flex flex-col gap-2 p-2",t),...n}));Dy.displayName="SidebarFooter";const vR=g.forwardRef(({className:t,...n},a)=>e.jsx(Ts,{ref:a,"data-sidebar":"separator",className:ye("mx-2 w-auto bg-sidebar-border",t),...n}));vR.displayName="SidebarSeparator";const Oy=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"content",className:ye("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...n}));Oy.displayName="SidebarContent";const Zu=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"group",className:ye("relative flex w-full min-w-0 flex-col p-2",t),...n}));Zu.displayName="SidebarGroup";const em=g.forwardRef(({className:t,asChild:n=!1,...a},o)=>{const i=n?br:"div";return e.jsx(i,{ref:o,"data-sidebar":"group-label",className:ye("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...a})});em.displayName="SidebarGroupLabel";const yR=g.forwardRef(({className:t,asChild:n=!1,...a},o)=>{const i=n?br:"button";return e.jsx(i,{ref:o,"data-sidebar":"group-action",className:ye("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...a})});yR.displayName="SidebarGroupAction";const tm=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"group-content",className:ye("w-full text-sm",t),...n}));tm.displayName="SidebarGroupContent";const sm=g.forwardRef(({className:t,...n},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu",className:ye("flex w-full min-w-0 flex-col gap-1",t),...n}));sm.displayName="SidebarMenu";const nm=g.forwardRef(({className:t,...n},a)=>e.jsx("li",{ref:a,"data-sidebar":"menu-item",className:ye("group/menu-item relative",t),...n}));nm.displayName="SidebarMenuItem";const jR=Ul("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),am=g.forwardRef(({asChild:t=!1,isActive:n=!1,variant:a="default",size:o="default",tooltip:i,className:c,...d},u)=>{const m=t?br:"button",{isMobile:h,state:x}=ac(),p=e.jsx(m,{ref:u,"data-sidebar":"menu-button","data-size":o,"data-active":n,className:ye(jR({variant:a,size:o}),c),...d});return i?(typeof i=="string"&&(i={children:i}),e.jsxs(lR,{children:[e.jsx(cR,{asChild:!0,children:p}),e.jsx(Ey,{side:"right",align:"center",hidden:x!=="collapsed"||h,...i})]})):p});am.displayName="SidebarMenuButton";const wR=g.forwardRef(({className:t,asChild:n=!1,showOnHover:a=!1,...o},i)=>{const c=n?br:"button";return e.jsx(c,{ref:i,"data-sidebar":"menu-action",className:ye("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...o})});wR.displayName="SidebarMenuAction";const NR=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,"data-sidebar":"menu-badge",className:ye("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...n}));NR.displayName="SidebarMenuBadge";const bR=g.forwardRef(({className:t,showIcon:n=!1,...a},o)=>{const i=g.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:o,"data-sidebar":"menu-skeleton",className:ye("rounded-md h-8 flex gap-2 px-2 items-center",t),...a,children:[n&&e.jsx(st,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(st,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});bR.displayName="SidebarMenuSkeleton";const SR=g.forwardRef(({className:t,...n},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu-sub",className:ye("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...n}));SR.displayName="SidebarMenuSub";const CR=g.forwardRef(({...t},n)=>e.jsx("li",{ref:n,...t}));CR.displayName="SidebarMenuSubItem";const _R=g.forwardRef(({asChild:t=!1,size:n="md",isActive:a,className:o,...i},c)=>{const d=t?br:"a";return e.jsx(d,{ref:c,"data-sidebar":"menu-sub-button","data-size":n,"data-active":a,className:ye("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",n==="sm"&&"text-xs",n==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",o),...i})});_R.displayName="SidebarMenuSubButton";const ER={theme:"system",setTheme:()=>null},Ly=g.createContext(ER);function RR({children:t,defaultTheme:n="system",storageKey:a="vite-ui-theme",...o}){const[i,c]=g.useState(()=>(typeof window<"u"?localStorage.getItem(a):null)||n);g.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),i==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(m);return}u.classList.add(i)},[i]);const d={theme:i,setTheme:u=>{localStorage.setItem(a,u),c(u)}};return e.jsx(Ly.Provider,{...o,value:d,children:t})}const $y=()=>{const t=g.useContext(Ly);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function rc(t){const n=t+"CollectionProvider",[a,o]=un(n),[i,c]=a(n,{collectionRef:{current:null},itemMap:new Map}),d=v=>{const{scope:w,children:_}=v,C=Zn.useRef(null),E=Zn.useRef(new Map).current;return e.jsx(i,{scope:w,itemMap:E,collectionRef:C,children:_})};d.displayName=n;const u=t+"CollectionSlot",m=ka(u),h=Zn.forwardRef((v,w)=>{const{scope:_,children:C}=v,E=c(u,_),R=mt(w,E.collectionRef);return e.jsx(m,{ref:R,children:C})});h.displayName=u;const x=t+"CollectionItemSlot",p="data-radix-collection-item",j=ka(x),b=Zn.forwardRef((v,w)=>{const{scope:_,children:C,...E}=v,R=Zn.useRef(null),A=mt(w,R),P=c(x,_);return Zn.useEffect(()=>(P.itemMap.set(R,{ref:R,...E}),()=>void P.itemMap.delete(R))),e.jsx(j,{[p]:"",ref:A,children:C})});b.displayName=x;function N(v){const w=c(t+"CollectionConsumer",v);return Zn.useCallback(()=>{const C=w.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((P,T)=>E.indexOf(P.ref.current)-E.indexOf(T.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:d,Slot:h,ItemSlot:b},N,o]}var kR=g.createContext(void 0);function Ym(t){const n=g.useContext(kR);return t||n||"ltr"}var Cu="rovingFocusGroup.onEntryFocus",PR={bubbles:!1,cancelable:!0},Bo="RovingFocusGroup",[rm,Iy,AR]=rc(Bo),[TR,Fy]=un(Bo,[AR]),[MR,DR]=TR(Bo),zy=g.forwardRef((t,n)=>e.jsx(rm.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(rm.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(OR,{...t,ref:n})})}));zy.displayName=Bo;var OR=g.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:a,orientation:o,loop:i=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:m,onEntryFocus:h,preventScrollOnEntryFocus:x=!1,...p}=t,j=g.useRef(null),b=mt(n,j),N=Ym(c),[v,w]=Pa({prop:d,defaultProp:u??null,onChange:m,caller:Bo}),[_,C]=g.useState(!1),E=ls(h),R=Iy(a),A=g.useRef(!1),[P,T]=g.useState(0);return g.useEffect(()=>{const k=j.current;if(k)return k.addEventListener(Cu,E),()=>k.removeEventListener(Cu,E)},[E]),e.jsx(MR,{scope:a,orientation:o,dir:N,loop:i,currentTabStopId:v,onItemFocus:g.useCallback(k=>w(k),[w]),onItemShiftTab:g.useCallback(()=>C(!0),[]),onFocusableItemAdd:g.useCallback(()=>T(k=>k+1),[]),onFocusableItemRemove:g.useCallback(()=>T(k=>k-1),[]),children:e.jsx(Ve.div,{tabIndex:_||P===0?-1:0,"data-orientation":o,...p,ref:b,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{A.current=!0}),onFocus:Ee(t.onFocus,k=>{const $=!A.current;if(k.target===k.currentTarget&&$&&!_){const M=new CustomEvent(Cu,PR);if(k.currentTarget.dispatchEvent(M),!M.defaultPrevented){const I=R().filter(D=>D.focusable),z=I.find(D=>D.active),Y=I.find(D=>D.id===v),K=[z,Y,...I].filter(Boolean).map(D=>D.ref.current);Vy(K,x)}}A.current=!1}),onBlur:Ee(t.onBlur,()=>C(!1))})})}),By="RovingFocusGroupItem",Uy=g.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:a,focusable:o=!0,active:i=!1,tabStopId:c,children:d,...u}=t,m=on(),h=c||m,x=DR(By,a),p=x.currentTabStopId===h,j=Iy(a),{onFocusableItemAdd:b,onFocusableItemRemove:N,currentTabStopId:v}=x;return g.useEffect(()=>{if(o)return b(),()=>N()},[o,b,N]),e.jsx(rm.ItemSlot,{scope:a,id:h,focusable:o,active:i,children:e.jsx(Ve.span,{tabIndex:p?0:-1,"data-orientation":x.orientation,...u,ref:n,onMouseDown:Ee(t.onMouseDown,w=>{o?x.onItemFocus(h):w.preventDefault()}),onFocus:Ee(t.onFocus,()=>x.onItemFocus(h)),onKeyDown:Ee(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){x.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const _=IR(w,x.orientation,x.dir);if(_!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=j().filter(R=>R.focusable).map(R=>R.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const R=E.indexOf(w.currentTarget);E=x.loop?FR(E,R+1):E.slice(R+1)}setTimeout(()=>Vy(E))}}),children:typeof d=="function"?d({isCurrentTabStop:p,hasTabStop:v!=null}):d})})});Uy.displayName=By;var LR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $R(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function IR(t,n,a){const o=$R(t.key,a);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return LR[o]}function Vy(t,n=!1){const a=document.activeElement;for(const o of t)if(o===a||(o.focus({preventScroll:n}),document.activeElement!==a))return}function FR(t,n){return t.map((a,o)=>t[(n+o)%t.length])}var zR=zy,BR=Uy,om=["Enter"," "],UR=["ArrowDown","PageUp","Home"],Hy=["ArrowUp","PageDown","End"],VR=[...UR,...Hy],HR={ltr:[...om,"ArrowRight"],rtl:[...om,"ArrowLeft"]},qR={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Uo="Menu",[Ao,WR,KR]=rc(Uo),[La,qy]=un(Uo,[KR,Rr,Fy]),oc=Rr(),Wy=Fy(),[GR,$a]=La(Uo),[YR,Vo]=La(Uo),Ky=t=>{const{__scopeMenu:n,open:a=!1,children:o,dir:i,onOpenChange:c,modal:d=!0}=t,u=oc(n),[m,h]=g.useState(null),x=g.useRef(!1),p=ls(c),j=Ym(i);return g.useEffect(()=>{const b=()=>{x.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>x.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),e.jsx(Hm,{...u,children:e.jsx(GR,{scope:n,open:a,onOpenChange:p,content:m,onContentChange:h,children:e.jsx(YR,{scope:n,onClose:g.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:x,dir:j,modal:d,children:o})})})};Ky.displayName=Uo;var JR="MenuAnchor",Jm=g.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t,i=oc(a);return e.jsx(qm,{...i,...o,ref:n})});Jm.displayName=JR;var Qm="MenuPortal",[QR,Gy]=La(Qm,{forceMount:void 0}),Yy=t=>{const{__scopeMenu:n,forceMount:a,children:o,container:i}=t,c=$a(Qm,n);return e.jsx(QR,{scope:n,forceMount:a,children:e.jsx(mn,{present:a||c.open,children:e.jsx(Fo,{asChild:!0,container:i,children:o})})})};Yy.displayName=Qm;var Ms="MenuContent",[XR,Xm]=La(Ms),Jy=g.forwardRef((t,n)=>{const a=Gy(Ms,t.__scopeMenu),{forceMount:o=a.forceMount,...i}=t,c=$a(Ms,t.__scopeMenu),d=Vo(Ms,t.__scopeMenu);return e.jsx(Ao.Provider,{scope:t.__scopeMenu,children:e.jsx(mn,{present:o||c.open,children:e.jsx(Ao.Slot,{scope:t.__scopeMenu,children:d.modal?e.jsx(ZR,{...i,ref:n}):e.jsx(ek,{...i,ref:n})})})})}),ZR=g.forwardRef((t,n)=>{const a=$a(Ms,t.__scopeMenu),o=g.useRef(null),i=mt(n,o);return g.useEffect(()=>{const c=o.current;if(c)return Am(c)},[]),e.jsx(Zm,{...t,ref:i,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),ek=g.forwardRef((t,n)=>{const a=$a(Ms,t.__scopeMenu);return e.jsx(Zm,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),tk=ka("MenuContent.ScrollLock"),Zm=g.forwardRef((t,n)=>{const{__scopeMenu:a,loop:o=!1,trapFocus:i,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:u,onEntryFocus:m,onEscapeKeyDown:h,onPointerDownOutside:x,onFocusOutside:p,onInteractOutside:j,onDismiss:b,disableOutsideScroll:N,...v}=t,w=$a(Ms,a),_=Vo(Ms,a),C=oc(a),E=Wy(a),R=WR(a),[A,P]=g.useState(null),T=g.useRef(null),k=mt(n,T,w.onContentChange),$=g.useRef(0),M=g.useRef(""),I=g.useRef(0),z=g.useRef(null),Y=g.useRef("right"),F=g.useRef(0),K=N?ql:g.Fragment,D=N?{as:tk,allowPinchZoom:!0}:void 0,H=X=>{var ee,re;const te=M.current+X,O=R().filter(he=>!he.disabled),V=document.activeElement,Z=(ee=O.find(he=>he.ref.current===V))==null?void 0:ee.textValue,B=O.map(he=>he.textValue),U=fk(B,te,Z),J=(re=O.find(he=>he.textValue===U))==null?void 0:re.ref.current;(function he(ve){M.current=ve,window.clearTimeout($.current),ve!==""&&($.current=window.setTimeout(()=>he(""),1e3))})(te),J&&setTimeout(()=>J.focus())};g.useEffect(()=>()=>window.clearTimeout($.current),[]),Pm();const q=g.useCallback(X=>{var O,V;return Y.current===((O=z.current)==null?void 0:O.side)&&hk(X,(V=z.current)==null?void 0:V.area)},[]);return e.jsx(XR,{scope:a,searchRef:M,onItemEnter:g.useCallback(X=>{q(X)&&X.preventDefault()},[q]),onItemLeave:g.useCallback(X=>{var te;q(X)||((te=T.current)==null||te.focus(),P(null))},[q]),onTriggerLeave:g.useCallback(X=>{q(X)&&X.preventDefault()},[q]),pointerGraceTimerRef:I,onPointerGraceIntentChange:g.useCallback(X=>{z.current=X},[]),children:e.jsx(K,{...D,children:e.jsx(Vl,{asChild:!0,trapped:i,onMountAutoFocus:Ee(c,X=>{var te;X.preventDefault(),(te=T.current)==null||te.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:e.jsx(Cr,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:x,onFocusOutside:p,onInteractOutside:j,onDismiss:b,children:e.jsx(zR,{asChild:!0,...E,dir:_.dir,orientation:"vertical",loop:o,currentTabStopId:A,onCurrentTabStopIdChange:P,onEntryFocus:Ee(m,X=>{_.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Wm,{role:"menu","aria-orientation":"vertical","data-state":mj(w.open),"data-radix-menu-content":"",dir:_.dir,...C,...v,ref:k,style:{outline:"none",...v.style},onKeyDown:Ee(v.onKeyDown,X=>{const O=X.target.closest("[data-radix-menu-content]")===X.currentTarget,V=X.ctrlKey||X.altKey||X.metaKey,Z=X.key.length===1;O&&(X.key==="Tab"&&X.preventDefault(),!V&&Z&&H(X.key));const B=T.current;if(X.target!==B||!VR.includes(X.key))return;X.preventDefault();const J=R().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);Hy.includes(X.key)&&J.reverse(),uk(J)}),onBlur:Ee(t.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout($.current),M.current="")}),onPointerMove:Ee(t.onPointerMove,To(X=>{const te=X.target,O=F.current!==X.clientX;if(X.currentTarget.contains(te)&&O){const V=X.clientX>F.current?"right":"left";Y.current=V,F.current=X.clientX}}))})})})})})})});Jy.displayName=Ms;var sk="MenuGroup",ef=g.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t;return e.jsx(Ve.div,{role:"group",...o,ref:n})});ef.displayName=sk;var nk="MenuLabel",Qy=g.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t;return e.jsx(Ve.div,{...o,ref:n})});Qy.displayName=nk;var Al="MenuItem",ag="menu.itemSelect",ic=g.forwardRef((t,n)=>{const{disabled:a=!1,onSelect:o,...i}=t,c=g.useRef(null),d=Vo(Al,t.__scopeMenu),u=Xm(Al,t.__scopeMenu),m=mt(n,c),h=g.useRef(!1),x=()=>{const p=c.current;if(!a&&p){const j=new CustomEvent(ag,{bubbles:!0,cancelable:!0});p.addEventListener(ag,b=>o==null?void 0:o(b),{once:!0}),km(p,j),j.defaultPrevented?h.current=!1:d.onClose()}};return e.jsx(Xy,{...i,ref:m,disabled:a,onClick:Ee(t.onClick,x),onPointerDown:p=>{var j;(j=t.onPointerDown)==null||j.call(t,p),h.current=!0},onPointerUp:Ee(t.onPointerUp,p=>{var j;h.current||(j=p.currentTarget)==null||j.click()}),onKeyDown:Ee(t.onKeyDown,p=>{const j=u.searchRef.current!=="";a||j&&p.key===" "||om.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});ic.displayName=Al;var Xy=g.forwardRef((t,n)=>{const{__scopeMenu:a,disabled:o=!1,textValue:i,...c}=t,d=Xm(Al,a),u=Wy(a),m=g.useRef(null),h=mt(n,m),[x,p]=g.useState(!1),[j,b]=g.useState("");return g.useEffect(()=>{const N=m.current;N&&b((N.textContent??"").trim())},[c.children]),e.jsx(Ao.ItemSlot,{scope:a,disabled:o,textValue:i??j,children:e.jsx(BR,{asChild:!0,...u,focusable:!o,children:e.jsx(Ve.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...c,ref:h,onPointerMove:Ee(t.onPointerMove,To(N=>{o?d.onItemLeave(N):(d.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,To(N=>d.onItemLeave(N))),onFocus:Ee(t.onFocus,()=>p(!0)),onBlur:Ee(t.onBlur,()=>p(!1))})})})}),ak="MenuCheckboxItem",Zy=g.forwardRef((t,n)=>{const{checked:a=!1,onCheckedChange:o,...i}=t;return e.jsx(aj,{scope:t.__scopeMenu,checked:a,children:e.jsx(ic,{role:"menuitemcheckbox","aria-checked":Tl(a)?"mixed":a,...i,ref:n,"data-state":sf(a),onSelect:Ee(i.onSelect,()=>o==null?void 0:o(Tl(a)?!0:!a),{checkForDefaultPrevented:!1})})})});Zy.displayName=ak;var ej="MenuRadioGroup",[rk,ok]=La(ej,{value:void 0,onValueChange:()=>{}}),tj=g.forwardRef((t,n)=>{const{value:a,onValueChange:o,...i}=t,c=ls(o);return e.jsx(rk,{scope:t.__scopeMenu,value:a,onValueChange:c,children:e.jsx(ef,{...i,ref:n})})});tj.displayName=ej;var sj="MenuRadioItem",nj=g.forwardRef((t,n)=>{const{value:a,...o}=t,i=ok(sj,t.__scopeMenu),c=a===i.value;return e.jsx(aj,{scope:t.__scopeMenu,checked:c,children:e.jsx(ic,{role:"menuitemradio","aria-checked":c,...o,ref:n,"data-state":sf(c),onSelect:Ee(o.onSelect,()=>{var d;return(d=i.onValueChange)==null?void 0:d.call(i,a)},{checkForDefaultPrevented:!1})})})});nj.displayName=sj;var tf="MenuItemIndicator",[aj,ik]=La(tf,{checked:!1}),rj=g.forwardRef((t,n)=>{const{__scopeMenu:a,forceMount:o,...i}=t,c=ik(tf,a);return e.jsx(mn,{present:o||Tl(c.checked)||c.checked===!0,children:e.jsx(Ve.span,{...i,ref:n,"data-state":sf(c.checked)})})});rj.displayName=tf;var lk="MenuSeparator",oj=g.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t;return e.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});oj.displayName=lk;var ck="MenuArrow",ij=g.forwardRef((t,n)=>{const{__scopeMenu:a,...o}=t,i=oc(a);return e.jsx(Km,{...i,...o,ref:n})});ij.displayName=ck;var dk="MenuSub",[hT,lj]=La(dk),wo="MenuSubTrigger",cj=g.forwardRef((t,n)=>{const a=$a(wo,t.__scopeMenu),o=Vo(wo,t.__scopeMenu),i=lj(wo,t.__scopeMenu),c=Xm(wo,t.__scopeMenu),d=g.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:m}=c,h={__scopeMenu:t.__scopeMenu},x=g.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return g.useEffect(()=>x,[x]),g.useEffect(()=>{const p=u.current;return()=>{window.clearTimeout(p),m(null)}},[u,m]),e.jsx(Jm,{asChild:!0,...h,children:e.jsx(Xy,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":i.contentId,"data-state":mj(a.open),...t,ref:Bl(n,i.onTriggerChange),onClick:p=>{var j;(j=t.onClick)==null||j.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,To(p=>{c.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!a.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{a.onOpenChange(!0),x()},100))})),onPointerLeave:Ee(t.onPointerLeave,To(p=>{var b,N;x();const j=(b=a.content)==null?void 0:b.getBoundingClientRect();if(j){const v=(N=a.content)==null?void 0:N.dataset.side,w=v==="right",_=w?-5:5,C=j[w?"left":"right"],E=j[w?"right":"left"];c.onPointerGraceIntentChange({area:[{x:p.clientX+_,y:p.clientY},{x:C,y:j.top},{x:E,y:j.top},{x:E,y:j.bottom},{x:C,y:j.bottom}],side:v}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(p),p.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,p=>{var b;const j=c.searchRef.current!=="";t.disabled||j&&p.key===" "||HR[o.dir].includes(p.key)&&(a.onOpenChange(!0),(b=a.content)==null||b.focus(),p.preventDefault())})})})});cj.displayName=wo;var dj="MenuSubContent",uj=g.forwardRef((t,n)=>{const a=Gy(Ms,t.__scopeMenu),{forceMount:o=a.forceMount,...i}=t,c=$a(Ms,t.__scopeMenu),d=Vo(Ms,t.__scopeMenu),u=lj(dj,t.__scopeMenu),m=g.useRef(null),h=mt(n,m);return e.jsx(Ao.Provider,{scope:t.__scopeMenu,children:e.jsx(mn,{present:o||c.open,children:e.jsx(Ao.Slot,{scope:t.__scopeMenu,children:e.jsx(Zm,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:h,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var p;d.isUsingKeyboardRef.current&&((p=m.current)==null||p.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,x=>{x.target!==u.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,x=>{d.onClose(),x.preventDefault()}),onKeyDown:Ee(t.onKeyDown,x=>{var b;const p=x.currentTarget.contains(x.target),j=qR[d.dir].includes(x.key);p&&j&&(c.onOpenChange(!1),(b=u.trigger)==null||b.focus(),x.preventDefault())})})})})})});uj.displayName=dj;function mj(t){return t?"open":"closed"}function Tl(t){return t==="indeterminate"}function sf(t){return Tl(t)?"indeterminate":t?"checked":"unchecked"}function uk(t){const n=document.activeElement;for(const a of t)if(a===n||(a.focus(),document.activeElement!==n))return}function mk(t,n){return t.map((a,o)=>t[(n+o)%t.length])}function fk(t,n,a){const i=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,c=a?t.indexOf(a):-1;let d=mk(t,Math.max(c,0));i.length===1&&(d=d.filter(h=>h!==a));const m=d.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return m!==a?m:void 0}function pk(t,n){const{x:a,y:o}=t;let i=!1;for(let c=0,d=n.length-1;c<n.length;d=c++){const u=n[c],m=n[d],h=u.x,x=u.y,p=m.x,j=m.y;x>o!=j>o&&a<(p-h)*(o-x)/(j-x)+h&&(i=!i)}return i}function hk(t,n){if(!n)return!1;const a={x:t.clientX,y:t.clientY};return pk(a,n)}function To(t){return n=>n.pointerType==="mouse"?t(n):void 0}var xk=Ky,gk=Jm,vk=Yy,yk=Jy,jk=ef,wk=Qy,Nk=ic,bk=Zy,Sk=tj,Ck=nj,_k=rj,Ek=oj,Rk=ij,kk=cj,Pk=uj,lc="DropdownMenu",[Ak,xT]=un(lc,[qy]),ds=qy(),[Tk,fj]=Ak(lc),pj=t=>{const{__scopeDropdownMenu:n,children:a,dir:o,open:i,defaultOpen:c,onOpenChange:d,modal:u=!0}=t,m=ds(n),h=g.useRef(null),[x,p]=Pa({prop:i,defaultProp:c??!1,onChange:d,caller:lc});return e.jsx(Tk,{scope:n,triggerId:on(),triggerRef:h,contentId:on(),open:x,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(j=>!j),[p]),modal:u,children:e.jsx(xk,{...m,open:x,onOpenChange:p,dir:o,modal:u,children:a})})};pj.displayName=lc;var hj="DropdownMenuTrigger",xj=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,disabled:o=!1,...i}=t,c=fj(hj,a),d=ds(a);return e.jsx(gk,{asChild:!0,...d,children:e.jsx(Ve.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...i,ref:Bl(n,c.triggerRef),onPointerDown:Ee(t.onPointerDown,u=>{!o&&u.button===0&&u.ctrlKey===!1&&(c.onOpenToggle(),c.open||u.preventDefault())}),onKeyDown:Ee(t.onKeyDown,u=>{o||(["Enter"," "].includes(u.key)&&c.onOpenToggle(),u.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});xj.displayName=hj;var Mk="DropdownMenuPortal",gj=t=>{const{__scopeDropdownMenu:n,...a}=t,o=ds(n);return e.jsx(vk,{...o,...a})};gj.displayName=Mk;var vj="DropdownMenuContent",yj=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=fj(vj,a),c=ds(a),d=g.useRef(!1);return e.jsx(yk,{id:i.contentId,"aria-labelledby":i.triggerId,...c,...o,ref:n,onCloseAutoFocus:Ee(t.onCloseAutoFocus,u=>{var m;d.current||(m=i.triggerRef.current)==null||m.focus(),d.current=!1,u.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,u=>{const m=u.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0,x=m.button===2||h;(!i.modal||x)&&(d.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yj.displayName=vj;var Dk="DropdownMenuGroup",Ok=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=ds(a);return e.jsx(jk,{...i,...o,ref:n})});Ok.displayName=Dk;var Lk="DropdownMenuLabel",jj=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=ds(a);return e.jsx(wk,{...i,...o,ref:n})});jj.displayName=Lk;var $k="DropdownMenuItem",wj=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=ds(a);return e.jsx(Nk,{...i,...o,ref:n})});wj.displayName=$k;var Ik="DropdownMenuCheckboxItem",Nj=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=ds(a);return e.jsx(bk,{...i,...o,ref:n})});Nj.displayName=Ik;var Fk="DropdownMenuRadioGroup",zk=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=ds(a);return e.jsx(Sk,{...i,...o,ref:n})});zk.displayName=Fk;var Bk="DropdownMenuRadioItem",bj=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=ds(a);return e.jsx(Ck,{...i,...o,ref:n})});bj.displayName=Bk;var Uk="DropdownMenuItemIndicator",Sj=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=ds(a);return e.jsx(_k,{...i,...o,ref:n})});Sj.displayName=Uk;var Vk="DropdownMenuSeparator",Cj=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=ds(a);return e.jsx(Ek,{...i,...o,ref:n})});Cj.displayName=Vk;var Hk="DropdownMenuArrow",qk=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=ds(a);return e.jsx(Rk,{...i,...o,ref:n})});qk.displayName=Hk;var Wk="DropdownMenuSubTrigger",_j=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=ds(a);return e.jsx(kk,{...i,...o,ref:n})});_j.displayName=Wk;var Kk="DropdownMenuSubContent",Ej=g.forwardRef((t,n)=>{const{__scopeDropdownMenu:a,...o}=t,i=ds(a);return e.jsx(Pk,{...i,...o,ref:n,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ej.displayName=Kk;var Gk=pj,Yk=xj,Jk=gj,Rj=yj,kj=jj,Pj=wj,Aj=Nj,Tj=bj,Mj=Sj,Dj=Cj,Oj=_j,Lj=Ej;const Qk=Gk,Xk=Yk,Zk=g.forwardRef(({className:t,inset:n,children:a,...o},i)=>e.jsxs(Oj,{ref:i,className:ye("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",n&&"pl-8",t),...o,children:[a,e.jsx(Vs,{className:"ml-auto h-4 w-4"})]}));Zk.displayName=Oj.displayName;const eP=g.forwardRef(({className:t,...n},a)=>e.jsx(Lj,{ref:a,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));eP.displayName=Lj.displayName;const $j=g.forwardRef(({className:t,sideOffset:n=4,...a},o)=>e.jsx(Jk,{children:e.jsx(Rj,{ref:o,sideOffset:n,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));$j.displayName=Rj.displayName;const yl=g.forwardRef(({className:t,inset:n,...a},o)=>e.jsx(Pj,{ref:o,className:ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",t),...a}));yl.displayName=Pj.displayName;const tP=g.forwardRef(({className:t,children:n,checked:a,...o},i)=>e.jsxs(Aj,{ref:i,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Mj,{children:e.jsx(cv,{className:"h-4 w-4"})})}),n]}));tP.displayName=Aj.displayName;const sP=g.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(Tj,{ref:o,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Mj,{children:e.jsx(CC,{className:"h-2 w-2 fill-current"})})}),n]}));sP.displayName=Tj.displayName;const nP=g.forwardRef(({className:t,inset:n,...a},o)=>e.jsx(kj,{ref:o,className:ye("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",t),...a}));nP.displayName=kj.displayName;const aP=g.forwardRef(({className:t,...n},a)=>e.jsx(Dj,{ref:a,className:ye("-mx-1 my-1 h-px bg-muted",t),...n}));aP.displayName=Dj.displayName;function cc(){const{setTheme:t,theme:n}=$y();return e.jsxs(Qk,{children:[e.jsx(Xk,{asChild:!0,children:e.jsxs(ne,{variant:"secondary",size:"icon",className:"relative bg-white/80 text-slate-700 border border-black/10 shadow-sm backdrop-blur hover:bg-white/90 dark:bg-slate-900/60 dark:text-slate-100 dark:border-white/10 dark:hover:bg-slate-900/70","aria-label":"Alternar tema",children:[e.jsx(Dx,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(Mx,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),e.jsxs($j,{align:"end",sideOffset:8,children:[e.jsxs(yl,{onClick:()=>t("light"),className:"cursor-pointer",children:[e.jsx(Dx,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Claro"}),n==="light"&&e.jsx("span",{className:"ml-auto",children:"✓"})]}),e.jsxs(yl,{onClick:()=>t("dark"),className:"cursor-pointer",children:[e.jsx(Mx,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Escuro"}),n==="dark"&&e.jsx("span",{className:"ml-auto",children:"✓"})]}),e.jsxs(yl,{onClick:()=>t("system"),className:"cursor-pointer",children:[e.jsx(LC,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sistema"}),n==="system"&&e.jsx("span",{className:"ml-auto",children:"✓"})]})]})]})}const Ij=g.forwardRef(({...t},n)=>e.jsx("nav",{ref:n,"aria-label":"breadcrumb",...t}));Ij.displayName="Breadcrumb";const Fj=g.forwardRef(({className:t,...n},a)=>e.jsx("ol",{ref:a,className:ye("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...n}));Fj.displayName="BreadcrumbList";const zj=g.forwardRef(({className:t,...n},a)=>e.jsx("li",{ref:a,className:ye("inline-flex items-center gap-1.5",t),...n}));zj.displayName="BreadcrumbItem";const Bj=g.forwardRef(({asChild:t,className:n,...a},o)=>{const i=t?br:"a";return e.jsx(i,{ref:o,className:ye("hover:text-foreground transition-colors focus-visible:outline-none focus-visible:underline",n),...a})});Bj.displayName="BreadcrumbLink";const Uj=g.forwardRef(({className:t,...n},a)=>e.jsx("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:ye("text-foreground font-medium",t),...n}));Uj.displayName="BreadcrumbPage";const Vj=({children:t,className:n,...a})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:ye("[&>svg]:size-3.5",n),...a,children:t||e.jsx(Vs,{className:"h-4 w-4"})});Vj.displayName="BreadcrumbSeparator";function Ho({children:t,sidebar:n,breadcrumbs:a=[]}){const{activeRole:o}=Oa();return e.jsxs(ky,{children:[e.jsx(n,{}),e.jsxs(Ty,{children:[e.jsxs("header",{className:ye("relative flex h-16 shrink-0 items-center gap-2 border-b px-6 rounded-b-xl shadow-sm backdrop-blur supports-[backdrop-filter]:backdrop-blur-md transition-all duration-300","bg-white/80 dark:bg-slate-900/70"),children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(Ay,{className:"mr-1"}),a.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Ts,{orientation:"vertical",className:"mr-2 h-4"}),e.jsx(Ij,{children:e.jsx(Fj,{children:a.map((d,u)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zj,{className:"hidden md:block",children:d.href?e.jsx(Bj,{href:d.href,className:ye("text-sm font-medium transition-colors","text-slate-800 hover:text-slate-950","dark:text-slate-200 dark:hover:text-slate-100"),children:d.label}):e.jsx(Uj,{className:ye("text-sm font-semibold","text-slate-950","dark:text-slate-100"),children:d.label})}),u<a.length-1&&e.jsx(Vj,{className:ye("hidden md:block","text-slate-400","dark:text-slate-300")})]},u))})})]})]}),e.jsx("div",{className:"ml-auto",children:e.jsx(cc,{})})]}),e.jsx("main",{className:ye("flex flex-1 flex-col gap-4 px-6 pt-10 pb-6 min-h-[calc(100svh-4rem)] transition-all duration-300","bg-background"),children:t})]})]})}var _u={exports:{}},Eu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function rP(){if(rg)return Eu;rg=1;var t=Dl();function n(p,j){return p===j&&(p!==0||1/p===1/j)||p!==p&&j!==j}var a=typeof Object.is=="function"?Object.is:n,o=t.useState,i=t.useEffect,c=t.useLayoutEffect,d=t.useDebugValue;function u(p,j){var b=j(),N=o({inst:{value:b,getSnapshot:j}}),v=N[0].inst,w=N[1];return c(function(){v.value=b,v.getSnapshot=j,m(v)&&w({inst:v})},[p,b,j]),i(function(){return m(v)&&w({inst:v}),p(function(){m(v)&&w({inst:v})})},[p]),d(b),b}function m(p){var j=p.getSnapshot;p=p.value;try{var b=j();return!a(p,b)}catch{return!0}}function h(p,j){return j()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Eu.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:x,Eu}var og;function oP(){return og||(og=1,_u.exports=rP()),_u.exports}var iP=oP();function lP(){return iP.useSyncExternalStore(cP,()=>!0,()=>!1)}function cP(){return()=>{}}var nf="Avatar",[dP,gT]=un(nf),[uP,Hj]=dP(nf),qj=g.forwardRef((t,n)=>{const{__scopeAvatar:a,...o}=t,[i,c]=g.useState("idle");return e.jsx(uP,{scope:a,imageLoadingStatus:i,onImageLoadingStatusChange:c,children:e.jsx(Ve.span,{...o,ref:n})})});qj.displayName=nf;var Wj="AvatarImage",Kj=g.forwardRef((t,n)=>{const{__scopeAvatar:a,src:o,onLoadingStatusChange:i=()=>{},...c}=t,d=Hj(Wj,a),u=mP(o,c),m=ls(h=>{i(h),d.onImageLoadingStatusChange(h)});return Ft(()=>{u!=="idle"&&m(u)},[u,m]),u==="loaded"?e.jsx(Ve.img,{...c,ref:n,src:o}):null});Kj.displayName=Wj;var Gj="AvatarFallback",Yj=g.forwardRef((t,n)=>{const{__scopeAvatar:a,delayMs:o,...i}=t,c=Hj(Gj,a),[d,u]=g.useState(o===void 0);return g.useEffect(()=>{if(o!==void 0){const m=window.setTimeout(()=>u(!0),o);return()=>window.clearTimeout(m)}},[o]),d&&c.imageLoadingStatus!=="loaded"?e.jsx(Ve.span,{...i,ref:n}):null});Yj.displayName=Gj;function ig(t,n){return t?n?(t.src!==n&&(t.src=n),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function mP(t,{referrerPolicy:n,crossOrigin:a}){const o=lP(),i=g.useRef(null),c=o?(i.current||(i.current=new window.Image),i.current):null,[d,u]=g.useState(()=>ig(c,t));return Ft(()=>{u(ig(c,t))},[c,t]),Ft(()=>{const m=p=>()=>{u(p)};if(!c)return;const h=m("loaded"),x=m("error");return c.addEventListener("load",h),c.addEventListener("error",x),n&&(c.referrerPolicy=n),typeof a=="string"&&(c.crossOrigin=a),()=>{c.removeEventListener("load",h),c.removeEventListener("error",x)}},[c,a,n]),d}var Jj=qj,Qj=Kj,Xj=Yj;const dc=g.forwardRef(({className:t,...n},a)=>e.jsx(Jj,{ref:a,className:ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...n}));dc.displayName=Jj.displayName;const af=g.forwardRef(({className:t,...n},a)=>e.jsx(Qj,{ref:a,className:ye("aspect-square h-full w-full",t),...n}));af.displayName=Qj.displayName;const uc=g.forwardRef(({className:t,...n},a)=>e.jsx(Xj,{ref:a,className:ye("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...n}));uc.displayName=Xj.displayName;const lg={paciente:{header:{title:"Portal Médico",subtitle:"Paciente",icon:Wt},sections:[{label:"Menu Principal",items:[{label:"Perfil",path:"/paciente/perfil",icon:Wt},{label:"Prontuário",path:"/paciente/prontuario",icon:is},{label:"Consultas",path:"/paciente/consultas",icon:Ge},{label:"Exames",path:"/paciente/exames",icon:Hs},{label:"Receitas",path:"/paciente/receitas",icon:Hs},{label:"Histórico Médico",path:"/paciente/historico-medico",icon:mv},{label:"Médicos Vinculados",path:"/paciente/medicos",icon:os}]},{label:"Configurações",items:[{label:"Configurações",path:"/paciente/configuracoes",icon:jo}]}]},medico:{header:{title:"Portal Médico",subtitle:"Médico",icon:At},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/medico/dashboard",icon:pu},{label:"Consultas de Hoje",path:"/medico/consultas/hoje",icon:Ge},{label:"Consultas",path:"/medico/minhas-consultas",icon:Ge},{label:"Meus Pacientes",path:"/medico/meus-pacientes",icon:os}]},{label:"Configurações",items:[{label:"Configurações",path:"/medico/configuracoes",icon:jo}]}]},clinica:{header:{title:"Portal Médico",subtitle:"Clínica",icon:wC},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/clinica/dashboard",icon:PC},{label:"Calendário",path:"/clinica/calendario",icon:Ge},{label:"Disponibilidade",path:"/clinica/disponibilidade",icon:Nt},{label:"Exames",path:"/clinica/exames",icon:is},{label:"Pacientes",path:"/clinica/pacientes",icon:os},{label:"Médicos",path:"/clinica/medicos",icon:At},{label:"Relatórios",path:"/clinica/relatorios",icon:Ax}]},{label:"Configurações",items:[{label:"Configurações",path:"/clinica/configuracoes",icon:jo}]}]},secretaria:{header:{title:"Portal Médico",subtitle:"Secretaria",icon:os},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/secretaria/dashboard",icon:pu},{label:"Consultas",path:"/secretaria/consultas",icon:Ge},{label:"Pacientes",path:"/secretaria/pacientes",icon:os},{label:"Médicos",path:"/secretaria/medicos",icon:At}]},{label:"Configurações",items:[{label:"Configurações",path:"/secretaria/configuracoes",icon:jo}]}]},admin:{header:{title:"Portal Médico",subtitle:"Admin",icon:Co},sections:[{label:"Painel",items:[{label:"Dashboard",path:"/admin/dashboard",icon:pu},{label:"Relatórios",path:"/admin/relatorios",icon:Ax},{label:"Auditoria",path:"/admin/auditoria",icon:Co}]},{label:"Gerenciar",items:[{label:"Solicitações",path:"/admin/solicitacoes",icon:BC},{label:"Usuários",path:"/admin/usuarios",icon:os},{label:"Clínicas",path:"/admin/clinicas",icon:aa}]},{label:"Telas",items:[{label:"Paciente",path:"/paciente/perfil",icon:Wt},{label:"Médico",path:"/medico/dashboard",icon:At},{label:"Clínica",path:"/clinica/dashboard",icon:aa},{label:"Secretaria",path:"/secretaria/dashboard",icon:os},{label:"Admin",path:"/admin/dashboard",icon:Co}]},{label:"Configurações",items:[{label:"Configurações",path:"/admin/configuracoes",icon:jo}]}]}},ut={async getPerfil(){const t="/users/",n=xt.getCurrentUser();if(!(n!=null&&n.id))throw new Error("Usuário não encontrado na sessão. Faça login novamente.");const a=t.endsWith("/")?t:`${t}/`;return(await ue.get(`${a}${n.id}/`)).data},async atualizarPerfil(t){const n="/users/",a=xt.getCurrentUser();if(!(a!=null&&a.id))throw new Error("Usuário não encontrado na sessão. Faça login novamente.");const o=n.endsWith("/")?n:`${n}/`;return(await ue.patch(`${o}${a.id}/`,t)).data},async getConsultas(t={}){var n;try{const a="/consultas/",o=await this.getPacienteDoUsuario(),i={...t};return o!=null&&o.id&&!i.paciente&&(i.paciente=o.id),!(o!=null&&o.id)&&Object.keys(i).length===0?{results:[]}:(await ue.get(a,{params:i})).data}catch(a){return console.warn("[pacienteService] getConsultas falhou:",(n=a==null?void 0:a.response)==null?void 0:n.status),{results:[]}}},async getExames(t={}){var d,u,m;const n="/exames/",{__propagateErrors:a,...o}=t||{};let i=null;try{i=await ut.getPacienteDoUsuario()}catch(h){console.debug("[pacienteService] getPacienteDoUsuario falhou, prosseguindo sem filtro de paciente",(d=h==null?void 0:h.response)==null?void 0:d.status)}const c={...o};if(i!=null&&i.id&&!c.paciente&&(c.paciente=i.id),Object.keys(c).forEach(h=>{(c[h]===void 0||c[h]===null||c[h]==="")&&delete c[h]}),!(i!=null&&i.id)&&Object.keys(c).length===0)return{results:[]};try{return console.debug("[pacienteService] GET exames",{endpoint:n,params:c}),(await ue.get(n,{params:c})).data}catch(h){if(console.warn("[pacienteService] getExames falhou:",(u=h==null?void 0:h.response)==null?void 0:u.status,(m=h==null?void 0:h.response)==null?void 0:m.data),a===!0)throw h;return{results:[]}}},async getProntuario(t={}){const n="/prontuarios/",{__propagateErrors:a,...o}=t||{},i={...o};let c=!1;try{const d=await this.getPacienteDoUsuario();d!=null&&d.id&&!i.consulta__paciente&&(i.consulta__paciente=d.id,c=!0)}catch{}if(!c&&Object.keys(i).length===0)return{results:[]};try{return(await ue.get(n,{params:i})).data}catch(d){if(a===!0)throw d;return{results:[]}}},async getMedicos(t={}){return(await ue.get("/medicos/",{params:t})).data},async getMedicoById(t){const n="/medicos/",a=n.endsWith("/")?n:`${n}/`;return(await ue.get(`${a}${t}/`)).data},async agendarConsulta({medico:t,data:n,hora:a,modalidade:o,local:i,observacoes:c,tipo:d,motivo:u}){const m="/consultas/",h=m.endsWith("/")?m:`${m}/`,x=await this.getPacienteDoUsuario();if(!(x!=null&&x.id))throw new Error("Não foi possível identificar o paciente autenticado.");const p=(v,w)=>{if(!v||!w)return null;const _=new Date(`${v}T${w}`);return isNaN(_)?null:_.toISOString()},j=v=>{const w={primeira:"primeira_consulta",primeira_consulta:"primeira_consulta",retorno:"retorno",urgencia:"urgencia",rotina:"rotina"},_=String(v||"").toLowerCase();return w[_]||"primeira_consulta"},b={paciente:x.id,medico:t,data_hora:p(n,a)||n||null,tipo:j(d),motivo:u,observacoes:c||void 0,duracao_minutos:30};return Object.keys(b).forEach(v=>{(b[v]===null||b[v]===void 0||b[v]==="")&&delete b[v]}),(await ue.post(h,b)).data},async getAgendaMedico({medico:t,date:n,apenas_disponiveis:a=!0}){const o="/agendamentos/",i={medico:t,medico_id:t,date:n,data:n,...a?{apenas_disponiveis:1}:{}};return(await ue.get(o,{params:i})).data},async getPacienteDoUsuario(){var i,c,d;const t="/pacientes/",n=t.endsWith("/")?t:`${t}/`;try{return(await ue.get(`${n}me/`)).data}catch(u){console.warn("[pacienteService] GET /pacientes/me/ falhou:",(i=u==null?void 0:u.response)==null?void 0:i.status)}const a=xt.getCurrentUser();if(!(a!=null&&a.id))return null;const o=["user","user__id","user_id"];for(const u of o)try{const m=await ue.get(n,{params:{[u]:a.id}}),h=Array.isArray((c=m.data)==null?void 0:c.results)?m.data.results:m.data;if(Array.isArray(h)&&h.length)return h[0]||null}catch(m){console.debug(`[pacienteService] Filtro ?${u}= falhou:`,(d=m==null?void 0:m.response)==null?void 0:d.status)}return null},async atualizarPaciente(t){var d,u,m,h,x,p,j,b,N,v,w,_;const n="/pacientes/",a=n.endsWith("/")?n:`${n}/`,o=C=>Array.isArray(C)?C.map(E=>String(E).trim()).filter(Boolean).join(", "):typeof C=="string"?C.trim():C==null?"":String(C),i=C=>{if(C==null||C==="")return;typeof C=="string"&&(C=C.replace(",",".").trim());const E=Number(C);return Number.isFinite(E)?E:void 0},c={};if("tipo_sanguineo"in t&&(c.tipo_sanguineo=t.tipo_sanguineo),"alergias"in t&&(c.alergias=o(t.alergias)),"condicoes_cronicas"in t&&(c.condicoes_cronicas=o(t.condicoes_cronicas)),"peso"in t){const C=i(t.peso);C!==void 0&&(c.peso=C)}if("altura"in t){const C=i(t.altura);C!==void 0&&(c.altura=C)}"contato_emergencia_nome"in t&&(c.contato_emergencia_nome=((u=(d=t.contato_emergencia_nome)==null?void 0:d.trim)==null?void 0:u.call(d))||""),"contato_emergencia_telefone"in t&&(c.contato_emergencia_telefone=((h=(m=t.contato_emergencia_telefone)==null?void 0:m.trim)==null?void 0:h.call(m))||""),"plano_saude"in t&&(c.plano_saude=((p=(x=t.plano_saude)==null?void 0:x.trim)==null?void 0:p.call(x))||""),"numero_carteirinha"in t&&(c.numero_carteirinha=((b=(j=t.numero_carteirinha)==null?void 0:j.trim)==null?void 0:b.call(j))||""),"endereco"in t&&(c.endereco=((v=(N=t.endereco)==null?void 0:N.trim)==null?void 0:v.call(N))||""),"telefone"in t&&(c.telefone=((_=(w=t.telefone)==null?void 0:w.trim)==null?void 0:_.call(w))||""),"data_nascimento"in t&&(c.data_nascimento=t.data_nascimento),Object.keys(c).forEach(C=>{c[C]===void 0&&delete c[C]});try{return console.debug("[pacienteService] PATCH /pacientes/me/ payload:",c),(await ue.patch(`${a}me/`,c)).data}catch{const E=await this.getPacienteDoUsuario();if(!(E!=null&&E.id))throw new Error("Paciente não identificado para atualização.");return console.debug(`[pacienteService] PATCH /pacientes/${E.id}/ payload:`,c),(await ue.patch(`${a}${E.id}/`,c)).data}},async getReceitas(t={}){const n="/receitas/",a=n.endsWith("/")?n:`${n}/`,{__propagateErrors:o,...i}=t||{},c={...i};let d=null,u=!1;try{const C=await this.getPacienteDoUsuario();C!=null&&C.id&&(d=C.id,c.paciente||(c.paciente=C.id),c.paciente_id||(c.paciente_id=C.id),u=!0)}catch{}if(!u&&Object.keys(c).length===0)return{results:[]};const m=async(C,E)=>{var R;try{const A=await ue.get(C,E?{params:E}:void 0),P=A==null?void 0:A.data;return{ok:!0,data:(Array.isArray(P)?P:Array.isArray(P==null?void 0:P.results)?P.results:null)!=null?P:{results:[]}}}catch(A){const P=(R=A==null?void 0:A.response)==null?void 0:R.status;if(o===!0&&![400,404,405,500].includes(P))throw A;return{ok:!1,err:A}}},h=[];d&&(h.push(()=>m(a,{paciente:d})),h.push(()=>m(a,{paciente_id:d})));const x={...c};delete x.consulta__paciente,h.push(()=>m(a,x));let p=null;for(const C of h){const E=await C();if(E.ok){p=E.data;break}}if(!p){const C=await m(a);if(C.ok){p=C.data;const E=Array.isArray(p)?p:Array.isArray(p==null?void 0:p.results)?p.results:[],R=d?E.filter(A=>{var P,T;return String(A.paciente_id||A.paciente||((P=A==null?void 0:A.consulta)==null?void 0:P.paciente)||((T=A==null?void 0:A.consulta)==null?void 0:T.paciente_id)||"")===String(d)}):E;p=Array.isArray(p)?R:{results:R}}else p={results:[]}}let j=[];try{const C=JSON.parse(localStorage.getItem("mock_receitas")||"[]");if(Array.isArray(C)){const E=c.consulta__paciente||c.paciente||c.paciente_id||d;j=E?C.filter(R=>{var A;return String(R.paciente_id||((A=R.consulta)==null?void 0:A.paciente_id)||"")===String(E)}):C}}catch{}const b=Array.isArray(p)?p:Array.isArray(p==null?void 0:p.results)?p.results:[],N=new Map;[...b,...j].forEach(C=>{if(!C)return;const E=C.id??`${C.created_at}-${C.medicamentos}`;N.has(E)||N.set(E,C)});const v=Array.from(N.values()),w=C=>{if(!C||/^https?:\/\//i.test(C)||/^(data|blob):/i.test(C))return C;const E="http://127.0.0.1:8000".replace(/\/$/,""),R=C.startsWith("/")?C:`/${C}`;return`${E}${R}`};return{results:v.map(C=>{var R;const E=C.arquivo_assinado||C.arquivoAssinado||((R=C==null?void 0:C.arquivo)==null?void 0:R.url)||(C==null?void 0:C.pdf_url)||(C==null?void 0:C.download_url);return E&&!C.arquivo_assinado?{...C,arquivo_assinado:w(E)}:C.arquivo_assinado?{...C,arquivo_assinado:w(C.arquivo_assinado)}:C})}},async getMedicosVinculados(){const t="/pacientes/",n=t.endsWith("/")?t:`${t}/`,a=await this.getPacienteDoUsuario();if(!(a!=null&&a.id))return[];const o=await ue.get(`${n}${a.id}/medicos/`);return Array.isArray(o.data)?o.data:[]},async solicitarReceita({medico:t,mensagem:n}){const a="/pacientes/",o=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente não identificado.");const c={medico:t,...n?{mensagem:n}:{}};return(await ue.post(`${o}${i.id}/solicitar_receita/`,c)).data},async getMedicos(t={}){return(await ue.get("/medicos/",{params:t})).data},async getDashboard(){var t;try{const n=new Date,a=new Date(n.getFullYear(),n.getMonth(),1),o=new Date(n.getFullYear(),n.getMonth()+1,0),i=R=>Array.isArray(R==null?void 0:R.results)?R.results:Array.isArray(R)?R:[],[c,d,u,m]=await Promise.all([this.getConsultas().catch(()=>({results:[]})),this.getExames().catch(()=>({results:[]})),this.getReceitas().catch(()=>({results:[]})),this.getMedicosVinculados().catch(()=>[])]),h=i(c),x=i(d),p=i(u),j=R=>{const A=new Date(R);return A.getMonth()===n.getMonth()&&A.getFullYear()===n.getFullYear()},b=h.map(R=>{var A,P;return{id:R.id||R.consulta_id,data_hora:R.data_hora||R.horario||R.inicio||R.data||R.start_time||null,status:R.status||"Agendada",tipo:R.tipo||R.modalidade||"Consulta",especialidade:R.especialidade||R.medico_especialidade||null,medico_nome:R.medico_nome||((A=R==null?void 0:R.medico)==null?void 0:A.nome)||((P=R==null?void 0:R.medico)!=null&&P.user?[R.medico.user.first_name,R.medico.user.last_name].filter(Boolean).join(" ").trim():void 0)}}),N=b.filter(R=>R.data_hora&&new Date(R.data_hora)>=n).sort((R,A)=>new Date(R.data_hora)-new Date(A.data_hora)).slice(0,5),v=b.filter(R=>R.data_hora&&j(R.data_hora)).length,w=x.map(R=>({id:R.id,tipo:R.tipo||R.nome||R.categoria||"Exame",status:R.status||R.situacao||"Pendente",data_agendamento:R.data_agendamento||R.agendamento||R.data||null,medico_solicitante:R.medico_solicitante||R.medico||void 0})),_=w.filter(R=>R.data_agendamento&&new Date(R.data_agendamento)>=n).sort((R,A)=>new Date(R.data_agendamento)-new Date(A.data_agendamento)).slice(0,5),C=w.filter(R=>j(R.data_agendamento)&&["realizado","concluido","concluído","finalizado"].includes(String(R.status).toLowerCase())).length,E=i(p).filter(R=>["ativa","valida","válida"].includes(String(R.status||R.situacao||"").toLowerCase())).length;return{consultasMes:v,consultasProximas:N.length,examesPendentes:w.filter(R=>String(R.status).toLowerCase()==="pendente").length,examesRealizadosMes:C,receitasAtivas:E,medicosVinculados:Array.isArray(m)?m.length:0,proximasConsultas:N,proximosExames:_}}catch(n){return console.warn("[pacienteService] getDashboard fallback falhou:",(t=n==null?void 0:n.response)==null?void 0:t.status),null}},async garantirPacienteDoUsuario(t={}){var i,c;try{const d=await this.getPacienteDoUsuario();if(d!=null&&d.id)return d}catch{}const n="/pacientes/",a=n.endsWith("/")?n:`${n}/`,o={...t};Object.keys(o).forEach(d=>{o[d]===void 0&&delete o[d]});try{return(await ue.post(`${a}me/`,o)).data}catch(d){console.debug("[pacienteService] POST /pacientes/me/ falhou:",(i=d==null?void 0:d.response)==null?void 0:i.status)}try{const d=await ue.post(a,o);if(d!=null&&d.data)return d.data}catch(d){console.debug("[pacienteService] POST /pacientes/ falhou:",(c=d==null?void 0:d.response)==null?void 0:c.status)}try{const d=await this.getPacienteDoUsuario();if(d!=null&&d.id)return d}catch{}throw new Error("Não foi possível criar o perfil de paciente para o usuário atual.")}};function qo({role:t="paciente"}){var E,R,A,P,T,k,$,M,I;const n=Ut(),a=cs(),{user:o,logout:i}=ca(),{logout:c}=Oa(),d=(o==null?void 0:o.role)==="admin"||(o==null?void 0:o.tipo)==="admin",u=lg[t]||lg.paciente,[m,h]=g.useState(null),[x,p]=g.useState(t==="paciente");g.useEffect(()=>{let z=!0;if(t!=="paciente"){h(null),p(!1);return}return(async()=>{try{const Y=await ut.getPacienteDoUsuario();z&&h(Y||null)}catch{z&&h(null)}finally{z&&p(!1)}})(),()=>{z=!1}},[t]);const j=[{title:"Paciente",href:"/paciente/perfil",icon:Wt},{title:"Médico",href:"/medico/dashboard",icon:At},{title:"Clínica",href:"/clinica/dashboard",icon:aa},{title:"Admin",href:"/admin/dashboard",icon:Co}],b=((E=u.header)==null?void 0:E.icon)||Wt,N=((R=u.header)==null?void 0:R.subtitle)||"Portal",v=((k=(T=(P=(A=u.sections)==null?void 0:A[0])==null?void 0:P.items)==null?void 0:T[0])==null?void 0:k.path)||"/",w=(m==null?void 0:m.foto_url)||(m==null?void 0:m.foto)||(o==null?void 0:o.avatar)||(o==null?void 0:o.avatar_url)||"/placeholder.svg",_=g.useMemo(()=>{var Y,F;const z=[((Y=m==null?void 0:m.user)==null?void 0:Y.first_name)||(m==null?void 0:m.first_name),((F=m==null?void 0:m.user)==null?void 0:F.last_name)||(m==null?void 0:m.last_name)].filter(Boolean).join(" ").trim();return(m==null?void 0:m.nome)||z||(o==null?void 0:o.nome)||(o==null?void 0:o.name)||"Usuário"},[m,o]),C=(m==null?void 0:m.plano_saude)||(o==null?void 0:o.email)||"";return e.jsxs(Py,{variant:"floating",className:ye("sidebar-green"),children:[" ",e.jsx(My,{className:"border-b border-sidebar-border",children:e.jsx("div",{className:"flex items-center justify-between px-2 py-2",children:e.jsxs(Xe,{to:v,className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(b,{className:"size-4"})}),e.jsxs("div",{className:"flex flex-col leading-none",children:[e.jsx("span",{className:"font-semibold",children:"Portal Médico"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:N})]})]})})}),e.jsxs(Oy,{children:[($=u.sections)==null?void 0:$.map((z,Y)=>e.jsxs(Zu,{children:[z.label&&e.jsx(em,{children:z.label}),e.jsx(tm,{children:e.jsx(sm,{children:(z.items||[]).map(F=>{const K=n.pathname===F.path||n.pathname.startsWith(F.path+"/"),D=F.icon;return e.jsx(nm,{children:e.jsx(am,{asChild:!0,"data-active":K,children:e.jsxs(Xe,{to:F.path,className:"flex items-center gap-2",children:[D&&e.jsx(D,{className:"size-4"}),e.jsx("span",{children:F.label})]})})},F.path)})})})]},`${z.label}-${Y}`)),d&&t!=="admin"&&e.jsxs(Zu,{children:[e.jsx(em,{children:"Telas"}),e.jsx(tm,{children:e.jsx(sm,{children:j.map(z=>{const Y=n.pathname===z.href||n.pathname.startsWith(z.href+"/"),F=z.icon;return e.jsx(nm,{children:e.jsx(am,{asChild:!0,"data-active":Y,children:e.jsxs(Xe,{to:z.href,className:"flex items-center gap-2",children:[F&&e.jsx(F,{className:"size-4"}),e.jsx("span",{children:z.title})]})})},z.href)})})})]})]}),e.jsxs(Dy,{className:"border-t border-sidebar-border",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2 py-2",children:[e.jsxs(dc,{className:"size-8",children:[e.jsx(af,{src:w}),e.jsx(uc,{children:(I=(M=_||"U")==null?void 0:M.charAt(0))==null?void 0:I.toUpperCase()})]}),e.jsxs("div",{className:"flex flex-col gap-0.5 leading-none flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-medium truncate",children:_}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:C})]}),e.jsxs(ne,{variant:"ghost",size:"sm",onClick:async()=>{try{await i()}finally{c==null||c(),a("/login")}},className:"text-xs",title:"Sair",children:[e.jsx(MC,{className:"mr-1.5 h-4 w-4"}),"Sair"]})]}),e.jsxs("div",{className:"px-2 py-1 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Tema"}),e.jsx(cc,{})]})]})]})}function fP(){const t=Ut(),n=cs(),[a,o]=g.useState(null),[i,c]=g.useState(!0),d=g.useRef(!1),u=async()=>{try{const p=await ut.getPerfil();o(p)}catch{}finally{c(!1)}};g.useEffect(()=>{let p=!0;return(async()=>p&&(c(!0),await u()))(),()=>{p=!1}},[]);const m=!!a&&(!(a!=null&&a.data_nascimento)||!(a!=null&&a.endereco)||!(a!=null&&a.telefone));g.useEffect(()=>((async()=>t.pathname!=="/paciente/perfil"&&(d.current=!0,c(!0),await u(),d.current=!1))(),()=>{}),[t.pathname]),g.useEffect(()=>{d.current||!i&&m&&t.pathname!=="/paciente/perfil"&&n("/paciente/perfil",{replace:!0})},[i,m,t.pathname,n]);const h=g.useMemo(()=>{const p=t.pathname,j={"/paciente/perfil":"Perfil","/paciente/prontuario":"Prontuário","/paciente/consultas":"Consultas","/paciente/exames":"Exames","/paciente/receitas":"Receitas","/paciente/historico-medico":"Histórico Médico","/paciente/medicos":"Médicos Vinculados","/paciente/configuracoes":"Configurações"},b=j[p]||Object.keys(j).find(N=>p.startsWith(N))&&j[Object.keys(j).find(N=>p.startsWith(N))]||"Perfil";return[{label:"Área do Paciente",href:"/paciente/perfil"},{label:b}]},[t.pathname]),x=()=>e.jsx(qo,{role:"paciente"});return e.jsx(Ho,{sidebar:x,breadcrumbs:h,children:e.jsx(Mo,{})})}function pP(){const t=()=>e.jsx(qo,{role:"medico"});return e.jsx(Ho,{sidebar:t,children:e.jsx(Mo,{})})}function Zj({breadcrumbs:t}){const n=()=>e.jsx(qo,{role:"clinica"});return e.jsx(Ho,{sidebar:n,breadcrumbs:t,children:e.jsx(Mo,{})})}function hP(){const t=()=>e.jsx(qo,{role:"admin"});return e.jsx(Ho,{sidebar:t,children:e.jsx(Mo,{})})}var xP="Label",e0=g.forwardRef((t,n)=>e.jsx(Ve.label,{...t,ref:n,onMouseDown:a=>{var i;a.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));e0.displayName=xP;var gP=e0;const vP=Ul("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=g.forwardRef(({className:t,...n},a)=>e.jsx(gP,{ref:a,className:ye(vP(),t),...n}));ce.displayName="Label";const le=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n}));le.displayName="Card";const me=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:ye("flex flex-col space-y-1.5 p-6",t),...n}));me.displayName="CardHeader";const pe=g.forwardRef(({className:t,...n},a)=>e.jsx("h3",{ref:a,className:ye("text-2xl font-semibold leading-none tracking-tight",t),...n}));pe.displayName="CardTitle";const Ue=g.forwardRef(({className:t,...n},a)=>e.jsx("p",{ref:a,className:ye("text-sm text-muted-foreground",t),...n}));Ue.displayName="CardDescription";const de=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:ye("p-6 pt-0",t),...n}));de.displayName="CardContent";const yP=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:ye("flex items-center p-6 pt-0",t),...n}));yP.displayName="CardFooter";const jP=5;let Ru=0;function wP(){return Ru=(Ru+1)%Number.MAX_SAFE_INTEGER,Ru.toString()}const sa={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},jl=[];let wl={toasts:[]};function Nl(t){wl=NP(wl,t),jl.forEach(n=>{n(wl)})}function NP(t,n){switch(n.type){case sa.ADD_TOAST:return{...t,toasts:[n.toast,...t.toasts].slice(0,jP)};case sa.UPDATE_TOAST:return{...t,toasts:t.toasts.map(a=>a.id===n.toast.id?{...a,...n.toast}:a)};case sa.DISMISS_TOAST:return{...t,toasts:t.toasts.map(a=>a.id===n.toastId||n.toastId===void 0?{...a,open:!1}:a)};case sa.REMOVE_TOAST:return n.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==n.toastId)}}}function bP({...t}){const n=wP(),a=i=>Nl({type:sa.UPDATE_TOAST,toast:{...i,id:n}}),o=()=>Nl({type:sa.DISMISS_TOAST,toastId:n});return Nl({type:sa.ADD_TOAST,toast:{...t,id:n,open:!0,onOpenChange:i=>{i||o()}}}),{id:n,dismiss:o,update:a}}function Mt(){const[t,n]=g.useState(wl);return g.useEffect(()=>(jl.push(n),()=>{const a=jl.indexOf(n);a>-1&&jl.splice(a,1)}),[t]),{...t,toast:bP,dismiss:a=>Nl({type:sa.DISMISS_TOAST,toastId:a})}}function SP(){const[t,n]=g.useState({email:"",password:""}),[a,o]=g.useState(!1),{login:i,loginWithGoogle:c}=ca(),{toast:d}=Mt(),u=cs(),m=async w=>{var _,C,E,R,A,P,T,k,$,M,I;w.preventDefault(),o(!0);try{const z=await i(t);switch(d({title:"Login realizado com sucesso!",description:`Bem-vindo, ${((_=z.user)==null?void 0:_.first_name)||((C=z.user)==null?void 0:C.username)||((E=z.user)==null?void 0:E.email)||"usuário"}!`}),((R=z.user)==null?void 0:R.role)||((A=z.user)==null?void 0:A.tipo)){case"medico":u("/medico/dashboard");break;case"paciente":u("/paciente/perfil");break;case"clinica":u("/clinica/dashboard");break;case"admin":u("/admin/dashboard");break;default:u("/")}}catch(z){const Y=((T=(P=z.response)==null?void 0:P.data)==null?void 0:T.error)||(($=(k=z.response)==null?void 0:k.data)==null?void 0:$.detail)||((I=(M=z.response)==null?void 0:M.data)==null?void 0:I.message);d({title:"Erro no login",description:Y||"Credenciais inválidas",variant:"destructive"})}finally{o(!1)}},h=w=>{n(_=>({..._,[w.target.name]:w.target.value}))},[x,p]=g.useState(!1),j=g.useRef(null),{setTheme:b,theme:N}=$y(),v=g.useRef(null);return g.useEffect(()=>(v.current=N,b("light"),()=>{v.current&&b(v.current)}),[N,b]),g.useEffect(()=>{if(window.google&&j.current)try{window.google.accounts.id.initialize({client_id:"SEU_CLIENT_ID_REAL.apps.googleusercontent.com",callback:async w=>{var C,E,R,A,P,T,k,$;const _=w==null?void 0:w.credential;if(_){p(!0);try{const M=await c(_);switch(d({title:"Login com Google realizado!",description:`Bem-vindo, ${((C=M.user)==null?void 0:C.nome)||((E=M.user)==null?void 0:E.first_name)||((R=M.user)==null?void 0:R.username)||((A=M.user)==null?void 0:A.email)||"usuário"}!`}),((P=M.user)==null?void 0:P.role)||((T=M.user)==null?void 0:T.tipo)){case"medico":u("/medico/dashboard");break;case"paciente":u("/paciente/perfil");break;case"clinica":u("/clinica/dashboard");break;case"admin":u("/admin/dashboard");break;default:u("/")}}catch(M){d({title:"Erro no login com Google",description:(($=(k=M.response)==null?void 0:k.data)==null?void 0:$.message)||"Não foi possível autenticar",variant:"destructive"})}finally{p(!1)}}}}),window.google.accounts.id.renderButton(j.current,{theme:"outline",size:"large",shape:"pill",text:"continue_with",width:320})}catch{}},[c,u,d]),e.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:e.jsxs(le,{className:"w-full max-w-md shadow-app-lg border-0 backdrop-blur-sm bg-white/95",children:[e.jsxs(me,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-app-gradient rounded-xl flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx(pe,{className:"text-2xl font-bold text-app-gradient",children:"Entrar"}),e.jsx(Ue,{className:"text-center text-slate-600",children:"Acesse sua conta no Portal Médico"})]}),e.jsxs(de,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"email",className:"text-slate-700 font-medium",children:"Email"}),e.jsx(fe,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:h,required:!0,className:"h-11 border-slate-200 focus:border-primary focus:ring-primary/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"password",className:"text-slate-700 font-medium",children:"Senha"}),e.jsx(fe,{id:"password",name:"password",type:"password",placeholder:"••••••••",value:t.password,onChange:h,required:!0,className:"h-11 border-slate-200 focus:border-primary focus:ring-primary/20"})]}),e.jsx(ne,{type:"submit",className:"w-full h-11 bg-app-gradient hover:opacity-90 text-white font-semibold shadow-app",disabled:a,children:a?"Entrando...":"Entrar"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"}),e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"ou"}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{ref:j,className:"w-full flex justify-center"})}),!window.google&&e.jsx(ne,{type:"button",variant:"outline",className:"w-full h-11 border-slate-200 hover:bg-slate-50",disabled:!0,children:x?"Conectando...":"Continuar com Google"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(Xe,{to:"/esqueci-senha",className:"text-sm text-sky-500 hover:text-sky-600 hover:underline",children:"Esqueceu sua senha?"}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Não tem uma conta?"," ",e.jsx(Xe,{to:"/registrar",className:"text-sky-500 hover:text-sky-600 hover:underline font-medium",children:"Cadastre-se"})]})]})]})]})})}function CP(){const t=cs(),{toast:n}=Mt(),[a,o]=g.useState(!1),[i,c]=g.useState("paciente"),[d,u]=g.useState(!1),[m,h]=g.useState(!1),[x,p]=g.useState({nome:"",email:"",senha:"",confirmSenha:"",cpf:"",nomeClinica:"",cnpj:""}),j=F=>{const K=F.replace(/\D/g,"").slice(0,11),D=K.slice(0,3),H=K.slice(3,6),q=K.slice(6,9),X=K.slice(9,11);return K.length>9?`${D}.${H}.${q}-${X}`:K.length>6?`${D}.${H}.${q}`:K.length>3?`${D}.${H}`:D},b=F=>{const K=String(F||"").replace(/\D/g,"").slice(0,14),D=K.slice(0,2),H=K.slice(2,5),q=K.slice(5,8),X=K.slice(8,12),te=K.slice(12,14);return K.length>12?`${D}.${H}.${q}/${X}-${te}`:K.length>8?`${D}.${H}.${q}/${X}`:K.length>5?`${D}.${H}.${q}`:K.length>2?`${D}.${H}`:D},N=F=>String(F||"").replace(/\D/g,"").slice(0,7),v=F=>{const{name:K,value:D}=F.target;if(K==="cpf"){p({...x,cpf:j(D)});return}if(K==="cnpj"){p({...x,cnpj:b(D)});return}p({...x,[K]:D})},w=F=>String(F||"").trim().replace(/\s+/g," ").split(" ").filter(Boolean).map(K=>K.charAt(0).toUpperCase()+K.slice(1).toLowerCase()).join(" "),[_,C]=g.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),E=g.useRef(null),R=g.useRef(null),A=g.useRef(null),P=F=>{const{name:K,value:D}=F.target;C(K==="crm"?H=>({...H,crm:N(D)}):H=>({...H,[K]:D}))},T=(F,K)=>{C(D=>({...D,documentos:{...D.documentos,[F]:K}}))},k=(F,K)=>{C(D=>({...D,documentos:{...D.documentos,[F]:null}})),K!=null&&K.current&&(K.current.value="")},$=F=>{if(!F&&F!==0)return"";const K=["Bytes","KB","MB","GB"];if(F===0)return"0 Byte";const D=Math.floor(Math.log(F)/Math.log(1024));return`${(F/Math.pow(1024,D)).toFixed(1)} ${K[D]}`},M=({label:F,required:K=!1,icon:D="📄",accept:H=".pdf,image/*",file:q,onFile:X,onRemove:te,inputRef:O})=>{const[V,Z]=g.useState(!1),B=U=>{var ee;U.preventDefault(),Z(!1);const J=(ee=U.dataTransfer.files)==null?void 0:ee[0];J&&X(J)};return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base",children:D}),e.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[F," ",K?e.jsx("span",{className:"text-rose-600",children:"*"}):e.jsx("span",{className:"text-slate-400",children:"(opcional)"})]})]}),e.jsx("input",{ref:O,type:"file",accept:H,className:"hidden",onChange:U=>{var J;return X(((J=U.target.files)==null?void 0:J[0])||null)}}),e.jsxs("div",{onDragOver:U=>{U.preventDefault(),Z(!0)},onDragLeave:()=>Z(!1),onDrop:B,className:`rounded-lg border-2 p-3 flex items-center justify-between gap-3 transition
            ${V?"border-sky-400 bg-sky-50":"border-dashed border-slate-300 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100 flex items-center justify-center text-lg",children:D}),q?e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:q.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[q.type||"Arquivo"," • ",$(q.size)]})]}):e.jsxs("div",{className:"text-sm text-slate-600",children:["Arraste e solte aqui ou"," ",e.jsx("button",{type:"button",onClick:()=>{var U;return(U=O==null?void 0:O.current)==null?void 0:U.click()},className:"underline text-sky-700 hover:text-sky-800",children:"procurar"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!q&&e.jsx("button",{type:"button",onClick:()=>{var U;return(U=O==null?void 0:O.current)==null?void 0:U.click()},className:"px-3 py-2 rounded-md bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800",children:"Escolher arquivo"}),q&&e.jsx("button",{type:"button",onClick:te,className:"px-3 py-2 rounded-md bg-rose-50 text-rose-700 text-xs font-semibold hover:bg-rose-100",children:"Remover"})]})]})]})},I=x.email.length===0||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email),z=x.confirmSenha.length===0||x.senha.length>0&&x.senha===x.confirmSenha,Y=async F=>{var K,D,H,q,X,te,O,V,Z,B;if(F.preventDefault(),!x.nome||!x.email||!x.senha||!x.cpf){n({title:"Erro de validação",description:"Por favor, preencha todos os campos obrigatórios.",variant:"destructive"});return}if(x.senha!==x.confirmSenha){n({title:"Erro de validação",description:"As senhas não conferem.",variant:"destructive"});return}if(x.senha.length<6){n({title:"Erro de validação",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(i==="medico"){if(!_.crm){n({title:"CRM obrigatório",description:"Informe o CRM para cadastro como médico.",variant:"destructive"});return}if(!_.documentos.diplomaMedicina){n({title:"Diploma obrigatório",description:"Anexe o Diploma de Medicina.",variant:"destructive"});return}}o(!0);try{const U=String(x.nome||"").trim().replace(/\s+/g," "),J=w(U),[ee,...re]=J.split(" "),he=re.join(" "),ve={username:x.nome.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^a-z0-9@.+_-]/g,""),first_name:ee||"",last_name:he||"",email:x.email,password:x.senha,password_confirm:x.confirmSenha,role:i,desired_role:i,cpf:x.cpf||""};i==="clinica"&&(ve.nome_clinica=x.nomeClinica,ve.cnpj=x.cnpj);const be=await xt.register(ve,{medicoData:i==="medico"?_:void 0});if(i==="medico"){const ke=be==null?void 0:be.medicoApplication;ke!=null&&ke.success?n({title:"Solicitação enviada!",description:"Seus dados de médico foram enviados para análise."}):ke&&ke.success===!1&&(console.error("[RegisterForm] criarSolicitacaoMedico via authService falhou:",ke.error),n({title:"Solicitação pendente",description:"Sua conta foi criada, mas não foi possível enviar a solicitação de médico agora. Você poderá concluir depois."}))}n({title:"Registro realizado com sucesso!",description:"Sua conta foi criada. Você pode fazer login agora."}),t("/login")}catch(U){console.error("Erro no registro:",U),console.error("Status do erro:",(K=U.response)==null?void 0:K.status),console.error("Detalhes do erro:",(D=U.response)==null?void 0:D.data),console.error("Headers da resposta:",(H=U.response)==null?void 0:H.headers);let J="Erro interno do servidor. Tente novamente.",ee=!1,re=!1,he=!1;try{const ve=(q=U.response)==null?void 0:q.status,be=((X=U.response)==null?void 0:X.headers)||{},ke=be["content-type"]||be["Content-Type"]||"",ze=(te=U.response)==null?void 0:te.data,Ze=((typeof ze=="string"?ze:"")||"").toLowerCase(),et=Ct=>{Ct==="crm"?J="CRM já cadastrado no sistema. Utilize outro número de CRM.":Ct==="email"?J="E-mail já cadastrado no sistema.":Ct==="cpf"?J="CPF já cadastrado no sistema.":J="Algum campo único já está cadastrado (ex.: CRM, e-mail ou CPF)."};ve===409&&(et("unknown"),re=!0),ee=String(ke).includes("text/html"),(ee||Ze.includes("unique constraint")||Ze.includes("integrityerror"))&&(Ze.includes("crm")?(et("crm"),re=!0,he=!0):Ze.includes("email")?(et("email"),re=!0):Ze.includes("cpf")&&(et("cpf"),re=!0))}catch{}if((O=U.response)!=null&&O.data){const ve=U.response.data;if(console.log("Tipo do errorData:",typeof ve),console.log("ErrorData completo:",JSON.stringify(ve,null,2)),typeof ve=="object"){const be=[];for(const[ke,ze]of Object.entries(ve))Array.isArray(ze)?be.push(`${ke}: ${ze.join(", ")}`):be.push(`${ke}: ${ze}`);be.length&&(J=be.join(`
`))}typeof ve=="string"?/<\/?(html|body|head|table|div|span|style|script)[^>]*>/i.test(ve)||(J=ve):ve.message?J=ve.message:ve.email?J=`Email: ${ve.email[0]}`:ve.password&&(J=`Senha: ${ve.password[0]}`)}try{const ve=(V=U.response)==null?void 0:V.status,be=((Z=U.response)==null?void 0:Z.headers)||{},ke=be["content-type"]||be["Content-Type"]||"",ze=(B=U.response)==null?void 0:B.data,Ze=((typeof ze=="string"?ze:"")||"").toLowerCase(),et=re||ve===409||Ze.includes("unique constraint")||Ze.includes("integrityerror"),Ct=ee||String(ke).includes("text/html"),ss=he||Ze.includes("crm")||Ze.includes("medico");if(et&&(Ct||ss)){try{await xt.login({email:x.email,password:x.senha}),await xt.logout(),n({title:"Conta criada",description:"Sua conta foi criada, mas houve um problema com os dados de médico (CRM). Faça login para continuar."}),t("/login");return}catch{}n({title:"Conta possivelmente criada",description:J+" — Tente fazer login com seu e-mail e senha."}),t("/login");return}}catch{}n({title:"Erro no registro",description:J,variant:"destructive"})}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur shadow-app-lg rounded-2xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 pt-6 pb-4 bg-app-gradient text-white",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Criar conta"}),e.jsx("p",{className:"text-white/90 text-sm",children:i==="paciente"?"Como paciente":i==="clinica"?"Como clínica":"Como médico"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-slate-100 rounded-lg p-1 grid grid-cols-3 gap-1",children:[e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="paciente"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("paciente"),children:"👤 Paciente"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="clinica"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("clinica"),children:"🏥 Clínica"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="medico"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("medico"),children:"🩺 Médico"})]}),e.jsxs("form",{className:"space-y-4",onSubmit:Y,children:[i!=="clinica"?e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome completo"}),e.jsx("input",{type:"text",name:"nome",placeholder:"Seu nome",value:x.nome,onChange:v,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome da clínica"}),e.jsx("input",{type:"text",name:"nomeClinica",placeholder:"Ex.: Clínica Vida",value:x.nomeClinica,onChange:v,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CNPJ"}),e.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",value:x.cnpj,onChange:v,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"E-mail"}),e.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:x.email,onChange:v,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${I?"border-slate-200 focus:ring-sky-500":"border-rose-300 focus:ring-rose-500"}`}),!I&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:"Informe um e-mail válido."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CPF *"}),e.jsx("input",{type:"text",name:"cpf",placeholder:"000.000.000-00",value:x.cpf,onChange:v,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",name:"senha",placeholder:"Crie uma senha",value:x.senha,onChange:v,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"}),e.jsx("button",{type:"button",onClick:()=>u(F=>!F),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":d?"Ocultar senha":"Mostrar senha",children:d?"Ocultar":"Mostrar"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Confirmar senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:m?"text":"password",name:"confirmSenha",placeholder:"Repita a senha",value:x.confirmSenha,onChange:v,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 transition ${z?"border-slate-200 focus:ring-sky-500 focus:border-sky-500":"border-amber-300 focus:ring-amber-400"}`}),e.jsx("button",{type:"button",onClick:()=>h(F=>!F),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":m?"Ocultar senha":"Mostrar senha",children:m?"Ocultar":"Mostrar"})]}),x.confirmSenha.length>0&&e.jsx("p",{className:`mt-1 text-xs ${x.senha===x.confirmSenha?"text-emerald-600":"text-amber-600"}`,children:x.senha===x.confirmSenha?"Senhas conferem.":"As senhas não conferem."})]}),i==="medico"&&e.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[e.jsx("p",{className:"font-semibold",children:"Dados do Médico"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CRM"}),e.jsx("input",{type:"text",name:"crm",placeholder:"CRM",value:_.crm,onChange:P,maxLength:7,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidade"}),e.jsx("input",{type:"text",name:"especialidade",placeholder:"Ex.: Cardiologia",value:_.especialidade,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituição de Formação"}),e.jsx("input",{type:"text",name:"instituicaoFormacao",placeholder:"Universidade",value:_.instituicaoFormacao,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano de Formação"}),e.jsx("input",{type:"number",name:"anoFormacao",placeholder:"YYYY",value:_.anoFormacao,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Residência (se aplicável)"}),e.jsx("input",{type:"text",name:"residencia",placeholder:"Residência Médica",value:_.residencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituição da Residência"}),e.jsx("input",{type:"text",name:"instituicaoResidencia",placeholder:"Instituição",value:_.instituicaoResidencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano da Residência"}),e.jsx("input",{type:"number",name:"anoResidencia",placeholder:"YYYY",value:_.anoResidencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Experiência"}),e.jsx("textarea",{name:"experiencia",placeholder:"Resumo da experiência",value:_.experiencia,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Motivação"}),e.jsx("textarea",{name:"motivacao",placeholder:"Por que deseja se cadastrar como médico na plataforma?",value:_.motivacao,onChange:P,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium",children:"Documentos"}),e.jsx(M,{label:"Diploma de Medicina",required:!0,icon:"🎓",accept:".pdf,image/*",file:_.documentos.diplomaMedicina,inputRef:E,onFile:F=>T("diplomaMedicina",F),onRemove:()=>k("diplomaMedicina",E)}),e.jsx(M,{label:"Certificado de Residência",icon:"🏅",accept:".pdf,image/*",file:_.documentos.certificadoResidencia,inputRef:R,onFile:F=>T("certificadoResidencia",F),onRemove:()=>k("certificadoResidencia",R)}),e.jsx(M,{label:"Comprovante de Experiência",icon:"📄",accept:".pdf,image/*",file:_.documentos.comprovanteExperiencia,inputRef:A,onFile:F=>T("comprovanteExperiencia",F),onRemove:()=>k("comprovanteExperiencia",A)})]})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full py-2.5 rounded-lg font-semibold text-white bg-app-gradient hover:opacity-90 shadow-app transition disabled:opacity-70 disabled:cursor-not-allowed",children:a?"Registrando...":`Registrar ${{paciente:"Paciente",clinica:"Clínica",medico:"Médico"}[i]||"Usuário"}`})]})]})]})})}const t0=g.createContext(null);function s0(){const t=g.useContext(t0);if(!t)throw new Error("Tabs components must be used within <Tabs>");return t}const pn=g.forwardRef(({className:t,value:n,defaultValue:a="",onValueChange:o,children:i,...c},d)=>{const[u,m]=g.useState(a),h=n!==void 0,x=h?n:u,p=j=>{h||m(j),o==null||o(j)};return e.jsx(t0.Provider,{value:{value:x,setValue:p},children:e.jsx("div",{ref:d,className:ye("",t),...c,children:i})})});pn.displayName="Tabs";const hn=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{ref:a,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n}));hn.displayName="TabsList";const ft=g.forwardRef(({className:t,value:n,onClick:a,...o},i)=>{const{value:c,setValue:d}=s0(),u=c===n,m=h=>{a==null||a(h),d(n)};return e.jsx("button",{ref:i,"data-state":u?"active":"inactive",className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",u?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",t),onClick:m,...o})});ft.displayName="TabsTrigger";const vt=g.forwardRef(({className:t,value:n,forceMount:a=!1,...o},i)=>{const{value:c}=s0();return!a&&c!==n?null:e.jsx("div",{ref:i,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...o})});vt.displayName="TabsContent";function _P(){const[t,n]=g.useState(""),[a,o]=g.useState(!1),[i,c]=g.useState(!1),[d,u]=g.useState("paciente"),m=cs(),h=Ut(),{toast:x}=Mt();g.useEffect(()=>{const b=new URLSearchParams(h.search).get("role");(b==="clinica"||b==="paciente")&&u(b)},[h]);const p=async j=>{j.preventDefault(),o(!0);try{await new Promise(b=>setTimeout(b,1500)),c(!0),x({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch{x({title:"Erro",description:"Não foi possível enviar o email. Tente novamente.",variant:"destructive"})}finally{o(!1)}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-app-soft py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(le,{className:"w-full max-w-md shadow-app-lg border-0 backdrop-blur-sm bg-white/95",children:[e.jsxs(me,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:e.jsx(Sr,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsx(pe,{className:"text-2xl font-bold",children:"Email Enviado!"}),e.jsxs(Ue,{children:["Enviamos um link para redefinir sua senha para ",e.jsx("strong",{children:t})]})]}),e.jsxs(de,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Verifique sua caixa de entrada e spam. O link expira em 24 horas."}),e.jsx(ne,{variant:"outline",className:"w-full bg-transparent",onClick:()=>c(!1),children:"Enviar para outro email"}),e.jsxs(ne,{variant:"ghost",className:"w-full",onClick:()=>m(`/login?role=${d}`),children:[e.jsx(So,{className:"mr-2 h-4 w-4"}),"Voltar ao login"]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-app-soft py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(le,{className:"w-full max-w-md shadow-app-lg border-0 backdrop-blur-sm bg-white/95",children:[e.jsxs(me,{className:"space-y-1",children:[e.jsx(pe,{className:"text-2xl font-bold text-center",children:"Esqueceu sua senha?"}),e.jsx(Ue,{className:"text-center",children:"Digite seu email para receber um link de redefinição"})]}),e.jsxs(de,{children:[e.jsx(pn,{value:d,onValueChange:u,className:"mb-6",children:e.jsxs(hn,{className:"grid w-full grid-cols-2",children:[e.jsxs(ft,{value:"paciente",className:"flex items-center justify-center gap-2",children:[e.jsx(Wt,{className:"h-4 w-4"}),e.jsx("span",{children:"Paciente"})]}),e.jsxs(ft,{value:"clinica",className:"flex items-center justify-center gap-2",children:[e.jsx(aa,{className:"h-4 w-4"}),e.jsx("span",{children:"Clínica"})]})]})}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"email",children:"Email"}),e.jsx(fe,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:j=>n(j.target.value),required:!0})]}),e.jsx(ne,{type:"submit",className:"w-full",disabled:a,children:a?"Enviando...":"Enviar Link de Redefinição"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(Xe,{to:`/login?role=${d}`,className:"text-primary hover:underline flex items-center justify-center gap-2",children:[e.jsx(So,{className:"h-4 w-4"}),"Voltar ao login"]})})]})]})})}function EP({children:t}){const{user:n,isAuthenticated:a,loading:o}=ca(),i=Ut();if(o)return null;if(!a)return e.jsx(gt,{to:"/login",state:{from:i},replace:!0});const c=(n==null?void 0:n.role)||(n==null?void 0:n.tipo);return c!=="secretaria"&&c!=="admin"?c==="paciente"?e.jsx(gt,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx(gt,{to:"/medico/dashboard",replace:!0}):c==="clinica"?e.jsx(gt,{to:"/clinica/dashboard",replace:!0}):e.jsx(gt,{to:"/",replace:!0}):t}function RP(){const t=()=>e.jsx(qo,{role:"secretaria"});return e.jsx(Ho,{sidebar:t,children:e.jsx(Mo,{})})}function Ds({tabs:t,basePath:n}){const a=Ut();return e.jsx("div",{className:"border-b",children:e.jsx("nav",{className:"flex space-x-4 px-1",children:t.map(o=>{const i=a.pathname===o.href;return e.jsx(Xe,{to:o.href,className:ye("flex items-center px-3 py-3 text-sm font-medium transition-colors",i?"border-b-2 border-slate-900 text-slate-950 dark:text-slate-100 dark:border-slate-200":"text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white"),children:o.label},o.href)})})})}function dt({className:t,variant:n="default",...a}){const o={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground"};return e.jsx("div",{className:ye("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",o[n],t),...a})}const nt=g.forwardRef(({className:t,...n},a)=>e.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));nt.displayName="Textarea";function kP(){const[t,n]=g.useState(null),[a,o]=g.useState(null),[i,c]=g.useState(!0),[d,u]=g.useState(null),[m,h]=g.useState([]),[x,p]=g.useState(!0),[j,b]=g.useState({data_nascimento:"",endereco:"",telefone:"",tipo_sanguineo:"",alergias:"",condicoes_cronicas:""}),[N,v]=g.useState(!1),{toast:w}=Mt();g.useEffect(()=>{let $=!0;return(async()=>{var M,I,z,Y;try{const[F,K]=await Promise.allSettled([ut.getPerfil(),ut.getPacienteDoUsuario()]);if(!$)return;if(F.status==="fulfilled"&&n(F.value),K.status==="fulfilled"&&o(K.value),F.status==="rejected"&&K.status==="rejected"){const D=((I=(M=F.reason)==null?void 0:M.response)==null?void 0:I.status)||((Y=(z=K.reason)==null?void 0:z.response)==null?void 0:Y.status);u(D===401?"Sua sessão não é válida. Verifique o login e o tipo de autenticação (Bearer/JWT/Token).":"Não foi possível carregar seu perfil.")}}finally{$&&c(!1)}})(),()=>{$=!1}},[]),g.useEffect(()=>{let $=!0;return(async()=>{try{p(!0);const M=await ut.getConsultas();if($){const z=(Array.isArray(M)?M:(M==null?void 0:M.results)||[]).map(D=>{var te,O,V,Z,B,U,J,ee,re,he,ve;const H=((O=(te=D.medico)==null?void 0:te.user)==null?void 0:O.first_name)||((V=D.medico)==null?void 0:V.first_name)||((Z=D.medico)==null?void 0:Z.nome)||"",q=((U=(B=D.medico)==null?void 0:B.user)==null?void 0:U.last_name)||((J=D.medico)==null?void 0:J.last_name)||"",X=[H,q].filter(Boolean).join(" ").trim()||((ee=D.medico)==null?void 0:ee.nome)||"—";return{id:D.id,data:D.data||D.data_hora,medico:{nome:X,especialidade:((ve=(he=(re=D.medico)==null?void 0:re.especialidades)==null?void 0:he[0])==null?void 0:ve.nome)||D.especialidade||"Não especificada"},status:D.status,local:D.local||D.localizacao||D.observacoes||"Local não especificado",tipo:D.tipo||D.motivo||"Consulta"}}),Y=new Date,K=z.filter(D=>{const q=(D.status||"").toLowerCase().includes("agend"),X=D.data?new Date(D.data)>Y:!1;return q||X}).filter(D=>D.data).sort((D,H)=>new Date(D.data)-new Date(H.data));h(K.slice(0,3))}}catch(M){console.error("Erro ao carregar consultas:",M)}finally{$&&p(!1)}})(),()=>{$=!1}},[]),g.useEffect(()=>{(t||a)&&b($=>({...$,data_nascimento:(t==null?void 0:t.data_nascimento)||"",endereco:(t==null?void 0:t.endereco)||"",telefone:(t==null?void 0:t.telefone)||"",tipo_sanguineo:(a==null?void 0:a.tipo_sanguineo)||"",alergias:Array.isArray(a==null?void 0:a.alergias)?a.alergias.join(", "):(a==null?void 0:a.alergias)||"",condicoes_cronicas:Array.isArray(a==null?void 0:a.condicoes_cronicas)?a.condicoes_cronicas.join(", "):(a==null?void 0:a.condicoes_cronicas)||""}))},[t,a]);const _=(!!t||!!a)&&(!(t!=null&&t.data_nascimento)||!(t!=null&&t.endereco)||!(t!=null&&t.telefone)||!(a!=null&&a.tipo_sanguineo)||!(a!=null&&a.alergias)),C=$=>{const{name:M,value:I}=$.target;b(z=>({...z,[M]:I}))},E=async $=>{var M;$.preventDefault(),v(!0);try{const I={data_nascimento:j.data_nascimento||"",endereco:j.endereco||"",telefone:j.telefone||""},z=q=>String(q||"").split(",").map(X=>X.trim()).filter(Boolean),Y=Array.isArray(a==null?void 0:a.alergias)?z(j.alergias):j.alergias||"",F=Array.isArray(a==null?void 0:a.condicoes_cronicas)?z(j.condicoes_cronicas):j.condicoes_cronicas||"",K={tipo_sanguineo:j.tipo_sanguineo||"",alergias:Y,condicoes_cronicas:F},[D,H]=await Promise.all([ut.atualizarPerfil(I),ut.atualizarPaciente(K)]);n(D),o(H),w({title:"Perfil atualizado",description:"Suas informações pessoais e médicas foram salvas com sucesso."})}catch(I){const z=(M=I==null?void 0:I.response)!=null&&M.data?JSON.stringify(I.response.data):"Tente novamente mais tarde.";w({title:"Erro ao salvar",description:z,variant:"destructive"})}finally{v(!1)}},R=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],A=[{title:"Agendar Consulta",description:"Marque uma consulta com seus médicos",icon:Ge,href:"/paciente/consultas/nova",color:"bg-primary"},{title:"Ver Exames",description:"Acesse seus resultados de exames",icon:is,href:"/paciente/exames",color:"bg-success"},{title:"Histórico Médico",description:"Consulte seu histórico completo",icon:Hs,href:"/paciente/historico-medico",color:"bg-info"}],P={"bg-primary":"primary","bg-success":"success","bg-info":"info"},T=$=>$!=null&&$.first_name&&($!=null&&$.last_name)?`${$.first_name.charAt(0)}${$.last_name.charAt(0)}`:$!=null&&$.username?$.username.substring(0,2).toUpperCase():"P",k=$=>typeof $=="string"?$:$&&`${$.logradouro||""} ${$.numero||""} ${$.bairro||""} ${$.cidade||""} ${$.estado||""}`.trim()||"—";return e.jsx("div",{className:"bg-app-soft dark:bg-background",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-10",children:[e.jsx("div",{className:"bg-card rounded-2xl shadow-sm border p-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(dc,{className:"h-20 w-20 ring-4 ring-primary/10",children:e.jsx(uc,{className:"bg-primary text-primary-foreground text-xl font-semibold",children:i?"...":T(t)})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:i?e.jsx(st,{className:"h-8 w-48"}):[t==null?void 0:t.first_name,t==null?void 0:t.last_name].filter(Boolean).join(" ")||(t==null?void 0:t.username)||"Usuário"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Paciente"}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[(t==null?void 0:t.cpf)&&e.jsxs(dt,{variant:"secondary",className:"font-medium",children:["CPF: ",t.cpf]}),(a==null?void 0:a.tipo_sanguineo)&&e.jsxs(dt,{variant:"outline",className:"border-red-500/30 text-red-600",children:[e.jsx(Tx,{className:"h-3 w-3 mr-1 text-red-500"}),a.tipo_sanguineo]})]})]})]}),e.jsxs(ne,{className:"bg-primary hover:bg-primary/90",children:[e.jsx(IC,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})}),e.jsx(Ds,{tabs:R,basePath:"/paciente"}),!i&&!d&&_&&e.jsxs(le,{className:"border-warning/30 bg-warning/10",children:[e.jsx(me,{className:"pb-4",children:e.jsxs(pe,{className:"flex items-center gap-2 text-warning",children:[e.jsx(bo,{className:"h-5 w-5"}),"Complete seu perfil"]})}),e.jsx(de,{children:e.jsxs("form",{className:"space-y-6",onSubmit:E,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"data_nascimento",className:"text-foreground font-medium",children:"Data de Nascimento"}),e.jsx(fe,{id:"data_nascimento",name:"data_nascimento",type:"date",value:j.data_nascimento,onChange:C,className:"border-input focus-visible:ring-2 focus-visible:ring-ring",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"telefone",className:"text-foreground font-medium",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:j.telefone,onChange:C,className:"border-input focus-visible:ring-2 focus-visible:ring-ring",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"endereco",className:"text-foreground font-medium",children:"Endereço"}),e.jsx(nt,{id:"endereco",name:"endereco",placeholder:"Rua, número, bairro, cidade, estado",value:j.endereco,onChange:C,className:"border-input focus-visible:ring-2 focus-visible:ring-ring",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"tipo_sanguineo",className:"text-slate-700 font-medium",children:"Tipo Sanguíneo"}),e.jsx(fe,{id:"tipo_sanguineo",name:"tipo_sanguineo",placeholder:"Ex.: O+, A-, B+, AB+",value:j.tipo_sanguineo,onChange:C,className:"border-slate-300 focus:border-blue-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"alergias",className:"text-slate-700 font-medium",children:"Alergias"}),e.jsx(nt,{id:"alergias",name:"alergias",placeholder:"Separe por vírgulas (ex.: Dipirona, Amoxicilina)",value:j.alergias,onChange:C,className:"border-slate-300 focus:border-blue-500"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{type:"submit",disabled:N,className:"bg-blue-600 hover:bg-blue-700",children:N?"Salvando...":"Salvar Informações"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(le,{className:"shadow-sm border",children:[e.jsx(me,{className:"pb-4",children:e.jsxs(pe,{className:"flex items-center gap-2 text-foreground",children:[e.jsx(Wt,{className:"h-5 w-5 text-blue-600"}),"Informações do Paciente"]})}),e.jsx(de,{className:"space-y-6",children:i?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(st,{className:"h-16 w-full"}),e.jsx(st,{className:"h-16 w-full"}),e.jsx(st,{className:"h-16 w-full"}),e.jsx(st,{className:"h-16 w-full"})]})}):d?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(bo,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 font-medium",children:d})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Data de Nascimento"})]}),e.jsx("p",{className:"text-foreground font-medium",children:(t==null?void 0:t.data_nascimento)||"Não informado"})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Io,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"})]}),e.jsx("p",{className:"text-foreground font-medium",children:(t==null?void 0:t.telefone)||"Não informado"})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Cm,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Endereço"})]}),e.jsx("p",{className:"text-foreground font-medium",children:k(t==null?void 0:t.endereco)})]})]}),e.jsx(Ts,{}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200 dark:bg-destructive/15 dark:border-destructive/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Tx,{className:"h-4 w-4 text-red-500"}),e.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-destructive",children:"Tipo Sanguíneo"})]}),e.jsx("p",{className:"text-red-700 dark:text-destructive font-semibold text-lg",children:(a==null?void 0:a.tipo_sanguineo)||"Não informado"})]}),e.jsxs("div",{className:"bg-warning/10 rounded-lg p-4 border border-warning/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(bo,{className:"h-4 w-4 text-warning"}),e.jsx("p",{className:"text-sm font-medium text-warning",children:"Alergias"})]}),e.jsx("p",{className:"text-warning font-medium",children:(a==null?void 0:a.alergias)||"Nenhuma alergia conhecida"})]}),e.jsxs("div",{className:"bg-info/10 rounded-lg p-4 border border-info/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(kC,{className:"h-4 w-4 text-info"}),e.jsx("p",{className:"text-sm font-medium text-info",children:"Condições Crônicas"})]}),e.jsx("p",{className:"text-info font-medium",children:(a==null?void 0:a.condicoes_cronicas)||"Nenhuma condição crônica"})]})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(le,{className:"shadow-sm border",children:[e.jsx(me,{className:"pb-4",children:e.jsx(pe,{className:"text-foreground",children:"Ações Rápidas"})}),e.jsx(de,{className:"space-y-3",children:A.map(($,M)=>{const I=$.icon,z=P[$.color]||"primary";return e.jsx(Xe,{to:$.href,children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:`app-quick-icon ${z}`,children:e.jsx(I,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:$.title}),e.jsx("p",{className:"app-quick-desc",children:$.description})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(Vs,{className:"h-4 w-4"})})]})},M)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(le,{className:"shadow-sm border-slate-200",children:[e.jsx(me,{className:"pb-3",children:e.jsxs(pe,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Ge,{className:"h-4 w-4 text-blue-600"}),"Próximas Consultas"]})}),e.jsx(de,{children:x?e.jsxs("div",{className:"space-y-2",children:[e.jsx(st,{className:"h-12 w-full"}),e.jsx(st,{className:"h-12 w-full"})]}):m.length>0?e.jsxs("div",{className:"space-y-3",children:[m.map($=>e.jsxs("div",{className:"flex items-center gap-3 border-b pb-2 last:border-0",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-100 text-blue-700",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-medium text-sm",children:[new Date($.data).toLocaleDateString("pt-BR")," ",new Date($.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:$.medico.nome}),e.jsx("p",{className:"text-xs text-muted-foreground",children:$.medico.especialidade})]})]},$.id)),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,className:"w-full mt-2 border-blue-200 text-blue-700 hover:bg-blue-50",children:e.jsxs(Xe,{to:"/paciente/consultas",children:["Ver Todas",e.jsx(Vs,{className:"h-3 w-3 ml-1"})]})})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-slate-500 text-sm mb-3",children:"Nenhuma consulta agendada"}),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:e.jsxs(Xe,{to:"/paciente/consultas",children:["Ver Todas",e.jsx(Vs,{className:"h-3 w-3 ml-1"})]})})]})})]}),e.jsxs(le,{className:"shadow-sm border-slate-200",children:[e.jsx(me,{className:"pb-3",children:e.jsxs(pe,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Hs,{className:"h-4 w-4 text-green-600"}),"Exames Recentes"]})}),e.jsx(de,{children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-slate-500 text-sm mb-3",children:"Nenhum exame recente"}),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,className:"border-green-200 text-green-700 hover:bg-green-50",children:e.jsxs(Xe,{to:"/paciente/exames",children:["Ver Todos",e.jsx(Vs,{className:"h-3 w-3 ml-1"})]})})]})})]})]})]})]})]})})}function PP(){const[t,n]=g.useState(null),[a,o]=g.useState(!0),[i,c]=g.useState(null),d=p=>Array.isArray(p)?p.filter(j=>j!=null&&j!==""):typeof p=="string"?p.split(/[\n;,]+/).map(j=>j.trim()).filter(Boolean):p==null?[]:[p],u=p=>{let j="",b="",N="";if(typeof p=="string"){const v=p.split(/[;•\-\|]/).map(w=>w.trim()).filter(Boolean);if(v.length&&(j=v[0]),v[1]&&(b=v[1]),v[2]&&(N=v.slice(2).join(" • ")),!b){const w=p.match(/\b(\d+(\.\d+)?\s?(mg|ml|mcg|g|gotas|ui))\b/i);w&&(b=w[0])}if(!N){const w=p.match(/\b(\d+x\s?\/\s?dia|[1-9]\s?x\/dia|a\s?cada\s?\d+\s?h|de\s?\d+\s?em\s?\d+\s?h)\b/i);w&&(N=w[0])}}else p&&typeof p=="object"&&(j=p.nome||p.medicamento||p.nome_medicamento||p.name||p.descricao||"",b=p.dose||p.dosagem||p.dosage||"",N=p.posologia||p.frequencia||p.intervalo||p.schedule||"");return{name:j||(typeof p=="string"?p:JSON.stringify(p)),dose:b||"",schedule:N||""}},m=p=>{const j=d(p);return j.length>0?e.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:j.map((b,N)=>{const v=u(b);return e.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm hover:shadow-md transition-shadow",role:"group","aria-label":`Medicação ${v.name}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 rounded-md bg-primary/10 p-2 text-primary",children:e.jsx(_m,{className:"h-5 w-5","aria-hidden":"true"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-base md:text-lg font-semibold leading-snug break-words",children:v.name}),v.dose&&e.jsx("div",{className:"text-sm md:text-base text-muted-foreground mt-0.5 break-words",children:v.dose}),v.schedule&&e.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-muted/60 px-2 py-1 text-xs md:text-sm text-foreground/80",children:[e.jsx(Nt,{className:"h-3.5 w-3.5","aria-hidden":"true"}),e.jsx("span",{className:"break-words",children:v.schedule})]})]})]})},N)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})};g.useEffect(()=>{let p=!0;const j=N=>{var R,A;const v=Array.isArray(N)?N[0]:Array.isArray(N==null?void 0:N.results)?N.results[0]:N||{},w=v.alergias??v.allergies??v.alergia,_=v.condicoes??v.condicoes_cronicas??v.condicoesCronicas,C=v.medicacoes??v.medicamentos??v.medicacoes_em_uso??v.medicamentos_em_uso??v.medicamentos_uso??v.em_uso??v.medicacoesEmUso??v.medicamentosEmUso??v.medications??v.current_medications??((R=v.prontuario)==null?void 0:R.medicacoes)??((A=v.prontuario)==null?void 0:A.medicamentos),E=v.observacoes??v.observacao??v.notes??v.anotacoes;return{alergias:d(w),condicoes:d(_),medicacoes:d(C),observacoes:E??"—"}},b=N=>N?{alergias:d(N.alergias),condicoes:d(N.condicoes_cronicas??N.condicoes),medicacoes:d(N.medicacoes??N.medicamentos??N.medicacoes_em_uso??N.medicamentos_em_uso??N.medicamentos_uso??N.em_uso??N.medicacoesEmUso??N.medicamentosEmUso??N.medications??N.current_medications),observacoes:N.observacoes??"—"}:null;return(async()=>{try{const[N,v]=await Promise.allSettled([ut.getProntuario(),ut.getPacienteDoUsuario()]);let w=null;if(N.status==="fulfilled"&&(w=j(N.value)),(!w||d(w.alergias).length===0&&d(w.condicoes).length===0&&d(w.medicacoes).length===0&&(!w.observacoes||w.observacoes==="—"))&&v.status==="fulfilled"){const C=b(v.value);C&&(w=C)}p&&n(w||{alergias:[],condicoes:[],medicacoes:[],observacoes:"—"})}catch{p&&c("Não foi possível carregar o prontuário.")}finally{p&&o(!1)}})(),()=>{p=!1}},[]);const h=p=>{const j=d(p);return j.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((b,N)=>{const v=typeof b=="string"?b:(b==null?void 0:b.nome)||(b==null?void 0:b.medicamento)||(b==null?void 0:b.nome_medicamento)||[b==null?void 0:b.descricao,(b==null?void 0:b.dose)||(b==null?void 0:b.dosagem),(b==null?void 0:b.posologia)||(b==null?void 0:b.frequencia)].filter(Boolean).join(" • ")||JSON.stringify(b);return e.jsx(dt,{variant:"secondary",className:"px-2.5 py-1 text-xs",children:v},N)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})},x=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Prontuário"})]}),e.jsx(Ds,{tabs:x,basePath:"/paciente"}),a?e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(le,{className:"lg:col-span-2",children:[e.jsx(me,{children:e.jsx(st,{className:"h-5 w-40"})}),e.jsxs(de,{className:"space-y-2",children:[e.jsx(st,{className:"h-4 w-full"}),e.jsx(st,{className:"h-4 w-5/6"}),e.jsx(st,{className:"h-4 w-2/3"})]})]}),e.jsx("div",{className:"space-y-6",children:[...Array(3)].map((p,j)=>e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(st,{className:"h-5 w-40"})}),e.jsxs(de,{className:"space-y-2",children:[e.jsx(st,{className:"h-4 w-full"}),e.jsx(st,{className:"h-4 w-2/3"})]})]},j))})]}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(le,{className:"lg:col-span-2 min-h-[320px]",children:[e.jsx(me,{children:e.jsx(pe,{children:"Medicações"})}),e.jsx(de,{children:m(t==null?void 0:t.medicacoes)})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Alergias"})}),e.jsx(de,{children:h(t==null?void 0:t.alergias)})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Condições"})}),e.jsx(de,{children:h(t==null?void 0:t.condicoes)})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Observações"})}),e.jsx(de,{children:t!=null&&t.observacoes&&(t==null?void 0:t.observacoes)!=="—"?e.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:t==null?void 0:t.observacoes}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"—"})})]})]})]})]})}const xn=g.forwardRef(({className:t,...n},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:ye("w-full caption-bottom text-sm",t),...n})}));xn.displayName="Table";const gn=g.forwardRef(({className:t,...n},a)=>e.jsx("thead",{ref:a,className:ye("[&_tr]:border-b",t),...n}));gn.displayName="TableHeader";const vn=g.forwardRef(({className:t,...n},a)=>e.jsx("tbody",{ref:a,className:ye("[&_tr:last-child]:border-0",t),...n}));vn.displayName="TableBody";const AP=g.forwardRef(({className:t,...n},a)=>e.jsx("tfoot",{ref:a,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n}));AP.displayName="TableFooter";const Tt=g.forwardRef(({className:t,...n},a)=>e.jsx("tr",{ref:a,className:ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n}));Tt.displayName="TableRow";const We=g.forwardRef(({className:t,...n},a)=>e.jsx("th",{ref:a,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...n}));We.displayName="TableHead";const He=g.forwardRef(({className:t,...n},a)=>e.jsx("td",{ref:a,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...n}));He.displayName="TableCell";const TP=g.forwardRef(({className:t,...n},a)=>e.jsx("caption",{ref:a,className:ye("mt-4 text-sm text-muted-foreground",t),...n}));TP.displayName="TableCaption";function cg(t,[n,a]){return Math.min(a,Math.max(n,t))}function MP(t){const n=g.useRef({value:t,previous:t});return g.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var DP=[" ","Enter","ArrowUp","ArrowDown"],OP=[" ","Enter"],Ma="Select",[mc,fc,LP]=rc(Ma),[kr,vT]=un(Ma,[LP,Rr]),pc=Rr(),[$P,da]=kr(Ma),[IP,FP]=kr(Ma),n0=t=>{const{__scopeSelect:n,children:a,open:o,defaultOpen:i,onOpenChange:c,value:d,defaultValue:u,onValueChange:m,dir:h,name:x,autoComplete:p,disabled:j,required:b,form:N}=t,v=pc(n),[w,_]=g.useState(null),[C,E]=g.useState(null),[R,A]=g.useState(!1),P=Ym(h),[T,k]=Pa({prop:o,defaultProp:i??!1,onChange:c,caller:Ma}),[$,M]=Pa({prop:d,defaultProp:u,onChange:m,caller:Ma}),I=g.useRef(null),z=w?N||!!w.closest("form"):!0,[Y,F]=g.useState(new Set),K=Array.from(Y).map(D=>D.props.value).join(";");return e.jsx(Hm,{...v,children:e.jsxs($P,{required:b,scope:n,trigger:w,onTriggerChange:_,valueNode:C,onValueNodeChange:E,valueNodeHasChildren:R,onValueNodeHasChildrenChange:A,contentId:on(),value:$,onValueChange:M,open:T,onOpenChange:k,dir:P,triggerPointerDownPosRef:I,disabled:j,children:[e.jsx(mc.Provider,{scope:n,children:e.jsx(IP,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(D=>{F(H=>new Set(H).add(D))},[]),onNativeOptionRemove:g.useCallback(D=>{F(H=>{const q=new Set(H);return q.delete(D),q})},[]),children:a})}),z?e.jsxs(E0,{"aria-hidden":!0,required:b,tabIndex:-1,name:x,autoComplete:p,value:$,onChange:D=>M(D.target.value),disabled:j,form:N,children:[$===void 0?e.jsx("option",{value:""}):null,Array.from(Y)]},K):null]})})};n0.displayName=Ma;var a0="SelectTrigger",r0=g.forwardRef((t,n)=>{const{__scopeSelect:a,disabled:o=!1,...i}=t,c=pc(a),d=da(a0,a),u=d.disabled||o,m=mt(n,d.onTriggerChange),h=fc(a),x=g.useRef("touch"),[p,j,b]=k0(v=>{const w=h().filter(E=>!E.disabled),_=w.find(E=>E.value===d.value),C=P0(w,v,_);C!==void 0&&d.onValueChange(C.value)}),N=v=>{u||(d.onOpenChange(!0),b()),v&&(d.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return e.jsx(qm,{asChild:!0,...c,children:e.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":R0(d.value)?"":void 0,...i,ref:m,onClick:Ee(i.onClick,v=>{v.currentTarget.focus(),x.current!=="mouse"&&N(v)}),onPointerDown:Ee(i.onPointerDown,v=>{x.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(N(v),v.preventDefault())}),onKeyDown:Ee(i.onKeyDown,v=>{const w=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&j(v.key),!(w&&v.key===" ")&&DP.includes(v.key)&&(N(),v.preventDefault())})})})});r0.displayName=a0;var o0="SelectValue",i0=g.forwardRef((t,n)=>{const{__scopeSelect:a,className:o,style:i,children:c,placeholder:d="",...u}=t,m=da(o0,a),{onValueNodeHasChildrenChange:h}=m,x=c!==void 0,p=mt(n,m.onValueNodeChange);return Ft(()=>{h(x)},[h,x]),e.jsx(Ve.span,{...u,ref:p,style:{pointerEvents:"none"},children:R0(m.value)?e.jsx(e.Fragment,{children:d}):c})});i0.displayName=o0;var zP="SelectIcon",l0=g.forwardRef((t,n)=>{const{__scopeSelect:a,children:o,...i}=t;return e.jsx(Ve.span,{"aria-hidden":!0,...i,ref:n,children:o||"▼"})});l0.displayName=zP;var BP="SelectPortal",c0=t=>e.jsx(Fo,{asChild:!0,...t});c0.displayName=BP;var Da="SelectContent",d0=g.forwardRef((t,n)=>{const a=da(Da,t.__scopeSelect),[o,i]=g.useState();if(Ft(()=>{i(new DocumentFragment)},[]),!a.open){const c=o;return c?gr.createPortal(e.jsx(u0,{scope:t.__scopeSelect,children:e.jsx(mc.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),c):null}return e.jsx(m0,{...t,ref:n})});d0.displayName=Da;var Us=10,[u0,ua]=kr(Da),UP="SelectContentImpl",VP=ka("SelectContent.RemoveScroll"),m0=g.forwardRef((t,n)=>{const{__scopeSelect:a,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:c,onPointerDownOutside:d,side:u,sideOffset:m,align:h,alignOffset:x,arrowPadding:p,collisionBoundary:j,collisionPadding:b,sticky:N,hideWhenDetached:v,avoidCollisions:w,..._}=t,C=da(Da,a),[E,R]=g.useState(null),[A,P]=g.useState(null),T=mt(n,ee=>R(ee)),[k,$]=g.useState(null),[M,I]=g.useState(null),z=fc(a),[Y,F]=g.useState(!1),K=g.useRef(!1);g.useEffect(()=>{if(E)return Am(E)},[E]),Pm();const D=g.useCallback(ee=>{const[re,...he]=z().map(ke=>ke.ref.current),[ve]=he.slice(-1),be=document.activeElement;for(const ke of ee)if(ke===be||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===re&&A&&(A.scrollTop=0),ke===ve&&A&&(A.scrollTop=A.scrollHeight),ke==null||ke.focus(),document.activeElement!==be))return},[z,A]),H=g.useCallback(()=>D([k,E]),[D,k,E]);g.useEffect(()=>{Y&&H()},[Y,H]);const{onOpenChange:q,triggerPointerDownPosRef:X}=C;g.useEffect(()=>{if(E){let ee={x:0,y:0};const re=ve=>{var be,ke;ee={x:Math.abs(Math.round(ve.pageX)-(((be=X.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((ke=X.current)==null?void 0:ke.y)??0))}},he=ve=>{ee.x<=10&&ee.y<=10?ve.preventDefault():E.contains(ve.target)||q(!1),document.removeEventListener("pointermove",re),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",he,{capture:!0})}}},[E,q,X]),g.useEffect(()=>{const ee=()=>q(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[q]);const[te,O]=k0(ee=>{const re=z().filter(be=>!be.disabled),he=re.find(be=>be.ref.current===document.activeElement),ve=P0(re,ee,he);ve&&setTimeout(()=>ve.ref.current.focus())}),V=g.useCallback((ee,re,he)=>{const ve=!K.current&&!he;(C.value!==void 0&&C.value===re||ve)&&($(ee),ve&&(K.current=!0))},[C.value]),Z=g.useCallback(()=>E==null?void 0:E.focus(),[E]),B=g.useCallback((ee,re,he)=>{const ve=!K.current&&!he;(C.value!==void 0&&C.value===re||ve)&&I(ee)},[C.value]),U=o==="popper"?im:f0,J=U===im?{side:u,sideOffset:m,align:h,alignOffset:x,arrowPadding:p,collisionBoundary:j,collisionPadding:b,sticky:N,hideWhenDetached:v,avoidCollisions:w}:{};return e.jsx(u0,{scope:a,content:E,viewport:A,onViewportChange:P,itemRefCallback:V,selectedItem:k,onItemLeave:Z,itemTextRefCallback:B,focusSelectedItem:H,selectedItemText:M,position:o,isPositioned:Y,searchRef:te,children:e.jsx(ql,{as:VP,allowPinchZoom:!0,children:e.jsx(Vl,{asChild:!0,trapped:C.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Ee(i,ee=>{var re;(re=C.trigger)==null||re.focus({preventScroll:!0}),ee.preventDefault()}),children:e.jsx(Cr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:e.jsx(U,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ee=>ee.preventDefault(),..._,...J,onPlaced:()=>F(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ee(_.onKeyDown,ee=>{const re=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!re&&ee.key.length===1&&O(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let ve=z().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const be=ee.target,ke=ve.indexOf(be);ve=ve.slice(ke+1)}setTimeout(()=>D(ve)),ee.preventDefault()}})})})})})})});m0.displayName=UP;var HP="SelectItemAlignedPosition",f0=g.forwardRef((t,n)=>{const{__scopeSelect:a,onPlaced:o,...i}=t,c=da(Da,a),d=ua(Da,a),[u,m]=g.useState(null),[h,x]=g.useState(null),p=mt(n,T=>x(T)),j=fc(a),b=g.useRef(!1),N=g.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:_,focusSelectedItem:C}=d,E=g.useCallback(()=>{if(c.trigger&&c.valueNode&&u&&h&&v&&w&&_){const T=c.trigger.getBoundingClientRect(),k=h.getBoundingClientRect(),$=c.valueNode.getBoundingClientRect(),M=_.getBoundingClientRect();if(c.dir!=="rtl"){const be=M.left-k.left,ke=$.left-be,ze=T.left-ke,tt=T.width+ze,Ze=Math.max(tt,k.width),et=window.innerWidth-Us,Ct=cg(ke,[Us,Math.max(Us,et-Ze)]);u.style.minWidth=tt+"px",u.style.left=Ct+"px"}else{const be=k.right-M.right,ke=window.innerWidth-$.right-be,ze=window.innerWidth-T.right-ke,tt=T.width+ze,Ze=Math.max(tt,k.width),et=window.innerWidth-Us,Ct=cg(ke,[Us,Math.max(Us,et-Ze)]);u.style.minWidth=tt+"px",u.style.right=Ct+"px"}const I=j(),z=window.innerHeight-Us*2,Y=v.scrollHeight,F=window.getComputedStyle(h),K=parseInt(F.borderTopWidth,10),D=parseInt(F.paddingTop,10),H=parseInt(F.borderBottomWidth,10),q=parseInt(F.paddingBottom,10),X=K+D+Y+q+H,te=Math.min(w.offsetHeight*5,X),O=window.getComputedStyle(v),V=parseInt(O.paddingTop,10),Z=parseInt(O.paddingBottom,10),B=T.top+T.height/2-Us,U=z-B,J=w.offsetHeight/2,ee=w.offsetTop+J,re=K+D+ee,he=X-re;if(re<=B){const be=I.length>0&&w===I[I.length-1].ref.current;u.style.bottom="0px";const ke=h.clientHeight-v.offsetTop-v.offsetHeight,ze=Math.max(U,J+(be?Z:0)+ke+H),tt=re+ze;u.style.height=tt+"px"}else{const be=I.length>0&&w===I[0].ref.current;u.style.top="0px";const ze=Math.max(B,K+v.offsetTop+(be?V:0)+J)+he;u.style.height=ze+"px",v.scrollTop=re-B+v.offsetTop}u.style.margin=`${Us}px 0`,u.style.minHeight=te+"px",u.style.maxHeight=z+"px",o==null||o(),requestAnimationFrame(()=>b.current=!0)}},[j,c.trigger,c.valueNode,u,h,v,w,_,c.dir,o]);Ft(()=>E(),[E]);const[R,A]=g.useState();Ft(()=>{h&&A(window.getComputedStyle(h).zIndex)},[h]);const P=g.useCallback(T=>{T&&N.current===!0&&(E(),C==null||C(),N.current=!1)},[E,C]);return e.jsx(WP,{scope:a,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:P,children:e.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:e.jsx(Ve.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});f0.displayName=HP;var qP="SelectPopperPosition",im=g.forwardRef((t,n)=>{const{__scopeSelect:a,align:o="start",collisionPadding:i=Us,...c}=t,d=pc(a);return e.jsx(Wm,{...d,...c,ref:n,align:o,collisionPadding:i,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});im.displayName=qP;var[WP,rf]=kr(Da,{}),lm="SelectViewport",p0=g.forwardRef((t,n)=>{const{__scopeSelect:a,nonce:o,...i}=t,c=ua(lm,a),d=rf(lm,a),u=mt(n,c.onViewportChange),m=g.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(mc.Slot,{scope:a,children:e.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ee(i.onScroll,h=>{const x=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:j}=d;if(j!=null&&j.current&&p){const b=Math.abs(m.current-x.scrollTop);if(b>0){const N=window.innerHeight-Us*2,v=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),_=Math.max(v,w);if(_<N){const C=_+b,E=Math.min(N,C),R=C-E;p.style.height=E+"px",p.style.bottom==="0px"&&(x.scrollTop=R>0?R:0,p.style.justifyContent="flex-end")}}}m.current=x.scrollTop})})})]})});p0.displayName=lm;var h0="SelectGroup",[KP,GP]=kr(h0),YP=g.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t,i=on();return e.jsx(KP,{scope:a,id:i,children:e.jsx(Ve.div,{role:"group","aria-labelledby":i,...o,ref:n})})});YP.displayName=h0;var x0="SelectLabel",g0=g.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t,i=GP(x0,a);return e.jsx(Ve.div,{id:i.id,...o,ref:n})});g0.displayName=x0;var Ml="SelectItem",[JP,v0]=kr(Ml),y0=g.forwardRef((t,n)=>{const{__scopeSelect:a,value:o,disabled:i=!1,textValue:c,...d}=t,u=da(Ml,a),m=ua(Ml,a),h=u.value===o,[x,p]=g.useState(c??""),[j,b]=g.useState(!1),N=mt(n,C=>{var E;return(E=m.itemRefCallback)==null?void 0:E.call(m,C,o,i)}),v=on(),w=g.useRef("touch"),_=()=>{i||(u.onValueChange(o),u.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(JP,{scope:a,value:o,disabled:i,textId:v,isSelected:h,onItemTextChange:g.useCallback(C=>{p(E=>E||((C==null?void 0:C.textContent)??"").trim())},[]),children:e.jsx(mc.ItemSlot,{scope:a,value:o,disabled:i,textValue:x,children:e.jsx(Ve.div,{role:"option","aria-labelledby":v,"data-highlighted":j?"":void 0,"aria-selected":h&&j,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:N,onFocus:Ee(d.onFocus,()=>b(!0)),onBlur:Ee(d.onBlur,()=>b(!1)),onClick:Ee(d.onClick,()=>{w.current!=="mouse"&&_()}),onPointerUp:Ee(d.onPointerUp,()=>{w.current==="mouse"&&_()}),onPointerDown:Ee(d.onPointerDown,C=>{w.current=C.pointerType}),onPointerMove:Ee(d.onPointerMove,C=>{var E;w.current=C.pointerType,i?(E=m.onItemLeave)==null||E.call(m):w.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(d.onPointerLeave,C=>{var E;C.currentTarget===document.activeElement&&((E=m.onItemLeave)==null||E.call(m))}),onKeyDown:Ee(d.onKeyDown,C=>{var R;((R=m.searchRef)==null?void 0:R.current)!==""&&C.key===" "||(OP.includes(C.key)&&_(),C.key===" "&&C.preventDefault())})})})})});y0.displayName=Ml;var No="SelectItemText",j0=g.forwardRef((t,n)=>{const{__scopeSelect:a,className:o,style:i,...c}=t,d=da(No,a),u=ua(No,a),m=v0(No,a),h=FP(No,a),[x,p]=g.useState(null),j=mt(n,_=>p(_),m.onItemTextChange,_=>{var C;return(C=u.itemTextRefCallback)==null?void 0:C.call(u,_,m.value,m.disabled)}),b=x==null?void 0:x.textContent,N=g.useMemo(()=>e.jsx("option",{value:m.value,disabled:m.disabled,children:b},m.value),[m.disabled,m.value,b]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=h;return Ft(()=>(v(N),()=>w(N)),[v,w,N]),e.jsxs(e.Fragment,{children:[e.jsx(Ve.span,{id:m.textId,...c,ref:j}),m.isSelected&&d.valueNode&&!d.valueNodeHasChildren?gr.createPortal(c.children,d.valueNode):null]})});j0.displayName=No;var w0="SelectItemIndicator",N0=g.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t;return v0(w0,a).isSelected?e.jsx(Ve.span,{"aria-hidden":!0,...o,ref:n}):null});N0.displayName=w0;var cm="SelectScrollUpButton",b0=g.forwardRef((t,n)=>{const a=ua(cm,t.__scopeSelect),o=rf(cm,t.__scopeSelect),[i,c]=g.useState(!1),d=mt(n,o.onScrollButtonChange);return Ft(()=>{if(a.viewport&&a.isPositioned){let u=function(){const h=m.scrollTop>0;c(h)};const m=a.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[a.viewport,a.isPositioned]),i?e.jsx(C0,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=a;u&&m&&(u.scrollTop=u.scrollTop-m.offsetHeight)}}):null});b0.displayName=cm;var dm="SelectScrollDownButton",S0=g.forwardRef((t,n)=>{const a=ua(dm,t.__scopeSelect),o=rf(dm,t.__scopeSelect),[i,c]=g.useState(!1),d=mt(n,o.onScrollButtonChange);return Ft(()=>{if(a.viewport&&a.isPositioned){let u=function(){const h=m.scrollHeight-m.clientHeight,x=Math.ceil(m.scrollTop)<h;c(x)};const m=a.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[a.viewport,a.isPositioned]),i?e.jsx(C0,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=a;u&&m&&(u.scrollTop=u.scrollTop+m.offsetHeight)}}):null});S0.displayName=dm;var C0=g.forwardRef((t,n)=>{const{__scopeSelect:a,onAutoScroll:o,...i}=t,c=ua("SelectScrollButton",a),d=g.useRef(null),u=fc(a),m=g.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return g.useEffect(()=>()=>m(),[m]),Ft(()=>{var x;const h=u().find(p=>p.ref.current===document.activeElement);(x=h==null?void 0:h.ref.current)==null||x.scrollIntoView({block:"nearest"})},[u]),e.jsx(Ve.div,{"aria-hidden":!0,...i,ref:n,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(o,50))}),onPointerMove:Ee(i.onPointerMove,()=>{var h;(h=c.onItemLeave)==null||h.call(c),d.current===null&&(d.current=window.setInterval(o,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{m()})})}),QP="SelectSeparator",_0=g.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t;return e.jsx(Ve.div,{"aria-hidden":!0,...o,ref:n})});_0.displayName=QP;var um="SelectArrow",XP=g.forwardRef((t,n)=>{const{__scopeSelect:a,...o}=t,i=pc(a),c=da(um,a),d=ua(um,a);return c.open&&d.position==="popper"?e.jsx(Km,{...i,...o,ref:n}):null});XP.displayName=um;var ZP="SelectBubbleInput",E0=g.forwardRef(({__scopeSelect:t,value:n,...a},o)=>{const i=g.useRef(null),c=mt(o,i),d=MP(n);return g.useEffect(()=>{const u=i.current;if(!u)return;const m=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(m,"value").set;if(d!==n&&x){const p=new Event("change",{bubbles:!0});x.call(u,n),u.dispatchEvent(p)}},[d,n]),e.jsx(Ve.select,{...a,style:{...vy,...a.style},ref:c,defaultValue:n})});E0.displayName=ZP;function R0(t){return t===""||t===void 0}function k0(t){const n=ls(t),a=g.useRef(""),o=g.useRef(0),i=g.useCallback(d=>{const u=a.current+d;n(u),(function m(h){a.current=h,window.clearTimeout(o.current),h!==""&&(o.current=window.setTimeout(()=>m(""),1e3))})(u)},[n]),c=g.useCallback(()=>{a.current="",window.clearTimeout(o.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(o.current),[]),[a,i,c]}function P0(t,n,a){const i=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,c=a?t.indexOf(a):-1;let d=eA(t,Math.max(c,0));i.length===1&&(d=d.filter(h=>h!==a));const m=d.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==a?m:void 0}function eA(t,n){return t.map((a,o)=>t[(n+o)%t.length])}var tA=n0,A0=r0,sA=i0,nA=l0,aA=c0,T0=d0,rA=p0,M0=g0,D0=y0,oA=j0,iA=N0,O0=b0,L0=S0,$0=_0;const lt=tA,ct=sA,rt=g.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(A0,{ref:o,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[n,e.jsx(nA,{asChild:!0,children:e.jsx(dv,{className:"h-4 w-4 opacity-50"})})]}));rt.displayName=A0.displayName;const I0=g.forwardRef(({className:t,...n},a)=>e.jsx(O0,{ref:a,className:ye("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(bC,{className:"h-4 w-4"})}));I0.displayName=O0.displayName;const F0=g.forwardRef(({className:t,...n},a)=>e.jsx(L0,{ref:a,className:ye("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(dv,{className:"h-4 w-4"})}));F0.displayName=L0.displayName;const ot=g.forwardRef(({className:t,children:n,position:a="popper",...o},i)=>e.jsx(aA,{children:e.jsxs(T0,{ref:i,className:ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...o,children:[e.jsx(I0,{}),e.jsx(rA,{className:ye("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(F0,{})]})}));ot.displayName=T0.displayName;const z0=g.forwardRef(({className:t,...n},a)=>e.jsx(M0,{ref:a,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...n}));z0.displayName=M0.displayName;const we=g.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(D0,{ref:o,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(iA,{children:e.jsx(cv,{className:"h-4 w-4"})})}),e.jsx(oA,{children:n})]}));we.displayName=D0.displayName;const lA=g.forwardRef(({className:t,...n},a)=>e.jsx($0,{ref:a,className:ye("-mx-1 my-1 h-px bg-muted",t),...n}));lA.displayName=$0.displayName;const Wo=Wv,B0=h_,cA=({className:t,children:n,...a})=>e.jsx(Kv,{className:ye(t),...a,children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:n})}),U0=g.forwardRef(({className:t,...n},a)=>e.jsx(Kl,{ref:a,className:ye("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",t),...n}));U0.displayName=Kl.displayName;const Pr=g.forwardRef(({className:t,children:n,...a},o)=>e.jsxs(cA,{children:[e.jsx(U0,{}),e.jsxs(Gl,{ref:o,className:ye("fixed z-50 grid w-full max-w-xl gap-4 rounded-xl border bg-background p-0 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0","data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",t),...a,children:[n,e.jsxs(Gv,{className:"absolute right-4 top-4 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[e.jsx(Rm,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));Pr.displayName=Gl.displayName;const Ar=({className:t,...n})=>e.jsx("div",{className:ye("px-6 pt-5 pb-3 flex flex-col space-y-1.5",t),...n});Ar.displayName="DialogHeader";const Tr=({className:t,...n})=>e.jsx("div",{className:ye("px-6 pb-5 pt-2 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});Tr.displayName="DialogFooter";const Mr=g.forwardRef(({className:t,...n},a)=>e.jsx(Yl,{ref:a,className:ye("text-lg font-semibold leading-none tracking-tight",t),...n}));Mr.displayName=Yl.displayName;const hc=g.forwardRef(({className:t,...n},a)=>e.jsx(Jl,{ref:a,className:ye("text-sm text-muted-foreground",t),...n}));hc.displayName=Jl.displayName;function dA(){var A,P,T;const[t,n]=g.useState([]),[a,o]=g.useState(!0),[i,c]=g.useState(null),[d,u]=g.useState("todas"),[m,h]=g.useState(""),[x,p]=g.useState(!1),[j,b]=g.useState(null),N=k=>{b(k),p(!0)},v=k=>{var M;const $=I=>(I==null?void 0:I.nome)||(I==null?void 0:I.titulo)||(I==null?void 0:I.name)||(I==null?void 0:I.descricao)||(I==null?void 0:I.description);if(Array.isArray(k==null?void 0:k.especialidades)&&k.especialidades.length){const I=k.especialidades.map(z=>$(z)||(typeof z=="string"?z:null)).filter(Boolean);if(I.length)return I.join(", ")}if(k!=null&&k.especialidade&&typeof k.especialidade=="object"){const I=$(k.especialidade);if(I)return I}return typeof(k==null?void 0:k.especialidade)=="string"&&k.especialidade.trim()?k.especialidade.trim():typeof(k==null?void 0:k.especialidade_nome)=="string"&&k.especialidade_nome.trim()?k.especialidade_nome.trim():typeof(k==null?void 0:k.specialty)=="string"&&k.specialty.trim()?k.specialty.trim():typeof(k==null?void 0:k.area)=="string"&&k.area.trim()?k.area.trim():typeof((M=k==null?void 0:k.user)==null?void 0:M.especialidade)=="string"&&k.user.especialidade.trim()?k.user.especialidade.trim():"Não especificada"};g.useEffect(()=>{let k=!0;return(async()=>{try{const $=await ut.getConsultas();if(k){const I=(Array.isArray($)?$:($==null?void 0:$.results)||[]).map(z=>{var H,q,X,te,O,V,Z,B,U,J,ee,re,he,ve,be,ke,ze,tt,Ze,et;const Y=((q=(H=z.medico)==null?void 0:H.user)==null?void 0:q.first_name)||((X=z.medico)==null?void 0:X.first_name)||((te=z.medico)==null?void 0:te.nome)||"",F=((V=(O=z.medico)==null?void 0:O.user)==null?void 0:V.last_name)||((Z=z.medico)==null?void 0:Z.last_name)||"",K=[Y,F].filter(Boolean).join(" ").trim()||((B=z.medico)==null?void 0:B.nome)||"—",D=v(z.medico||{});return{id:z.id,data:z.data||z.data_hora,medico:{id:((U=z.medico)==null?void 0:U.id)||z.medico_id,nome:K,especialidade:D,crm:((J=z.medico)==null?void 0:J.crm)||((ee=z.medico)==null?void 0:ee.crm_numero)||z.crm||null,email:((re=z.medico)==null?void 0:re.email)||((ve=(he=z.medico)==null?void 0:he.user)==null?void 0:ve.email)||null,telefone:((be=z.medico)==null?void 0:be.telefone)||((ke=z.medico)==null?void 0:ke.celular)||((tt=(ze=z.medico)==null?void 0:ze.user)==null?void 0:tt.phone)||null,raw:z.medico||null},status:z.status,local:z.local||z.localizacao||"Local não especificado",tipo:z.tipo||z.motivo||"Consulta",observacoes:z.observacoes||z.descricao||"",medicamentos:z.medicamentos||z.medicacoes||((Ze=z.prescricao)==null?void 0:Ze.medicamentos)||((et=z.receita)==null?void 0:et.medicamentos)||[],prescricao:z.prescricao||z.receita||null,raw:z}});n(I)}}catch{k&&c("Não foi possível carregar as consultas.")}finally{k&&o(!1)}})(),()=>{k=!1}},[]);const w=t.filter(k=>{var M,I,z,Y,F,K,D;const $=String(k.status||"").toLowerCase();if(d==="agendadas"&&!($.includes("agend")||$.includes("confirm"))||d==="realizadas"&&!($.includes("conclu")||$.includes("realiz")||$.includes("final")))return!1;if(m){const H=m.toLowerCase();return((I=(M=k.medico)==null?void 0:M.nome)==null?void 0:I.toLowerCase().includes(H))||((F=(Y=(z=k.medico)==null?void 0:z.especialidade)==null?void 0:Y.toLowerCase)==null?void 0:F.call(Y).includes(H))||((K=k.local)==null?void 0:K.toLowerCase().includes(H))||((D=k.tipo)==null?void 0:D.toLowerCase().includes(H))}return!0}),_=new Date,C=w.filter(k=>{const $=(k.status||"").toLowerCase(),M=$.includes("agend")||$.includes("confirm"),I=k.data?new Date(k.data)>_:!1;return M||I}).sort((k,$)=>new Date(k.data)-new Date($.data)),E=w.filter(k=>{const $=(k.status||"").toLowerCase(),M=$.includes("conclu")||$.includes("realiz")||$.includes("final"),I=k.data?new Date(k.data)<_:!1;return M||I}).sort((k,$)=>new Date($.data)-new Date(k.data)),R=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Minhas Consultas"})]}),e.jsx(ne,{variant:"outline",asChild:!0,className:"app-cta-btn",children:e.jsxs("a",{href:"/paciente/consultas/nova","aria-label":"Agendar Nova Consulta",className:"inline-flex items-center",children:[e.jsx("span",{className:"icon-pill",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-semibold tracking-tight",children:"Agendar Nova Consulta"})]})})]}),e.jsx(Ds,{tabs:R,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por médico, especialidade ou local...",className:"pl-10",value:m,onChange:k=>h(k.target.value)})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(lt,{value:d,onValueChange:u,children:[e.jsx(rt,{className:"w-[180px]",children:e.jsx(ct,{placeholder:"Filtrar por status"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"todas",children:"Todas as consultas"}),e.jsx(we,{value:"agendadas",children:"Agendadas"}),e.jsx(we,{value:"realizadas",children:"Realizadas"})]})]})})]}),e.jsxs(pn,{defaultValue:"agendadas",className:"w-full",children:[e.jsxs(hn,{className:"grid w-full grid-cols-2",children:[e.jsx(ft,{value:"agendadas",children:"Consultas Agendadas"}),e.jsx(ft,{value:"realizadas",children:"Histórico de Consultas"})]}),e.jsx(vt,{value:"agendadas",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-primary"}),"Próximas Consultas"]})}),e.jsx(de,{children:a?e.jsx("div",{className:"space-y-2",children:[...Array(3)].map((k,$)=>e.jsx(st,{className:"h-24 w-full"},$))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):C.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ge,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-medium",children:"Nenhuma consulta agendada"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Você não possui consultas agendadas no momento."}),e.jsx(ne,{className:"mt-4 app-cta-btn",variant:"outline",asChild:!0,children:e.jsxs("a",{href:"/paciente/consultas/nova","aria-label":"Agendar Nova Consulta",className:"inline-flex items-center",children:[e.jsx("span",{className:"icon-pill",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-semibold tracking-tight",children:"Agendar Nova Consulta"})]})})]}):e.jsx("div",{className:"space-y-4",children:C.map(k=>{var $,M,I;return e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 border rounded-lg p-4 bg-app-soft dark:bg-background",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:($=k.medico)==null?void 0:$.nome}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(M=k.medico)==null?void 0:M.especialidade})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("p",{className:"text-sm",children:[new Date(k.data).toLocaleDateString()," às ",new Date(k.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Cm,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("p",{className:"text-sm",children:k.local})]})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:k.tipo}),e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:k.status||"—"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{variant:"secondary",size:"sm",onClick:()=>N(k),children:"Ver Detalhes"}),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/paciente/consultas/nova${(I=k.medico)!=null&&I.id?`?medico=${k.medico.id}`:""}`,children:"Reagendar"})})]})]},k.id)})})})]})}),e.jsx(vt,{value:"realizadas",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"h-5 w-5 text-primary"}),"Histórico de Consultas"]})}),e.jsx(de,{children:a?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((k,$)=>e.jsx(st,{className:"h-10 w-full"},$))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):E.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Você não possui consultas realizadas no histórico."}):e.jsxs(xn,{children:[e.jsx(gn,{children:e.jsxs(Tt,{children:[e.jsx(We,{children:"Data"}),e.jsx(We,{children:"Médico"}),e.jsx(We,{children:"Especialidade"}),e.jsx(We,{children:"Tipo"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Ações"})]})}),e.jsx(vn,{children:E.map(k=>{var $,M;return e.jsxs(Tt,{children:[e.jsx(He,{children:new Date(k.data).toLocaleDateString()}),e.jsx(He,{children:(($=k.medico)==null?void 0:$.nome)||k.medico||"—"}),e.jsx(He,{children:((M=k.medico)==null?void 0:M.especialidade)||k.especialidade||"—"}),e.jsx(He,{children:k.tipo||"—"}),e.jsx(He,{children:e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:k.status||"—"})}),e.jsx(He,{children:e.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>N(k),children:"Ver Detalhes"})})]},k.id)})})]})})]})})]}),e.jsx(Wo,{open:x,onOpenChange:p,children:e.jsxs(Pr,{children:[e.jsxs(Ar,{children:[e.jsx(Mr,{children:"Detalhes da Consulta"}),e.jsx(hc,{children:"Informações completas da consulta selecionada"})]}),j?e.jsxs("div",{className:"px-6 pb-4 space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary font-semibold",children:(((A=j.medico)==null?void 0:A.nome)||"—").split(" ").map(k=>k==null?void 0:k[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-base",children:((P=j.medico)==null?void 0:P.nome)||"—"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:((T=j.medico)==null?void 0:T.especialidade)||"Especialidade não informada"})]})]}),e.jsx("div",{className:"h-px bg-border"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Data"}),e.jsx("p",{className:"font-medium",children:j.data?new Date(j.data).toLocaleDateString():"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Hora"}),e.jsx("p",{className:"font-medium",children:j.data?new Date(j.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tipo"}),e.jsx("span",{className:"inline-block rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:j.tipo||"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),e.jsx("span",{className:"inline-block rounded-full px-2 py-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:j.status||"—"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Local"}),e.jsx("p",{className:"text-sm",children:j.local||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Observações"}),e.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:j.observacoes||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Medicamentos"}),(()=>{var M;const k=j.medicamentos??((M=j.prescricao)==null?void 0:M.medicamentos),$=Array.isArray(k)?k:typeof k=="string"?k.split(",").map(I=>I.trim()).filter(Boolean):[];return $.length?e.jsx("div",{className:"flex flex-wrap gap-2",children:$.map((I,z)=>{const Y=typeof I=="string"?I:(I==null?void 0:I.nome)||(I==null?void 0:I.medicamento)||(I==null?void 0:I.nome_medicamento)||[I==null?void 0:I.descricao,(I==null?void 0:I.dose)||(I==null?void 0:I.dosagem),(I==null?void 0:I.posologia)||(I==null?void 0:I.frequencia)].filter(Boolean).join(" • ")||JSON.stringify(I);return e.jsx("span",{className:"rounded-full px-2.5 py-1 text-xs bg-muted text-foreground",children:Y},z)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"—"})})()]}),e.jsx(Tr,{children:e.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>p(!1),children:"Fechar"})})]}):e.jsx("div",{className:"px-6 pb-6 text-sm text-muted-foreground",children:"Selecione uma consulta para ver os detalhes."})]})})]})}function uA(){const[t,n]=g.useState([]),[a,o]=g.useState(!0),[i,c]=g.useState(null),[d,u]=g.useState("todas"),[m,h]=g.useState(""),x=_=>{var C;return((C=_==null?void 0:_.tipo_exame)==null?void 0:C.nome)||(_==null?void 0:_.tipo_exame_nome)||(_==null?void 0:_.nome_exame)||(typeof(_==null?void 0:_.tipo_exame)=="string"?_.tipo_exame:null)||(_==null?void 0:_.nome)||(_==null?void 0:_.tipo)||(_==null?void 0:_.exame)||"Exame"},p=_=>{const C=_==null?void 0:_.user;return[C==null?void 0:C.first_name,C==null?void 0:C.last_name].filter(Boolean).join(" ").trim()||(C==null?void 0:C.nome)||(C==null?void 0:C.username)||(_==null?void 0:_.nome)||"—"},j=_=>{var R;const C=(_==null?void 0:_.resultado_url)||(_==null?void 0:_.arquivo_resultado)||((R=_==null?void 0:_.resultado)==null?void 0:R.arquivo)||(_==null?void 0:_.arquivo_url)||(_==null?void 0:_.documento_url);return C?/^https?:\/\//i.test(C)?C:`http://127.0.0.1:8000${C.startsWith("/")?"":"/"}${C}`:null};g.useEffect(()=>{let _=!0;return(async()=>{try{const C=await ut.getExames();if(_){const R=(Array.isArray(C)?C:(C==null?void 0:C.results)||[]).map(A=>({id:A.id,data:A.data_agendamento||A.data_solicitacao||A.data||A.data_hora||null,nome:x(A),medico:{nome:p((A==null?void 0:A.medico_solicitante)||(A==null?void 0:A.medico))},status:A.status||A.situacao||"Pendente",local:A.local_realizacao||A.local||A.localizacao||A.unidade||"",resultado_url:j(A)}));n(R)}}catch{c("Não foi possível carregar os exames.")}finally{_&&o(!1)}})(),()=>{_=!1}},[]);const b=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],N=t.filter(_=>{var C;if(d==="agendados"){const E=_.data?new Date(_.data)>new Date:!1;if(!E&&(_.status||"").toLowerCase().includes("conclu")||!E&&(_.status||"").toLowerCase()==="realizado")return!1}if(d==="realizados"&&!((_.status||"").toLowerCase().includes("conclu")||(_.status||"").toLowerCase()==="realizado"||(_.data?new Date(_.data)<new Date:!1)))return!1;if(m){const E=m.toLowerCase();return(_.nome||"").toLowerCase().includes(E)||(((C=_.medico)==null?void 0:C.nome)||"").toLowerCase().includes(E)||(_.local||"").toLowerCase().includes(E)}return!0}),v=N.filter(_=>{const C=_.data?new Date(_.data)>new Date:!1,E=(_.status||"").toLowerCase();return C||E==="agendado"||E==="pendente"||E==="solicitado"}).sort((_,C)=>new Date(_.data||0)-new Date(C.data||0)),w=N.filter(_=>{const C=(_.status||"").toLowerCase();return(_.data?new Date(_.data)<new Date:!1)||C.includes("conclu")||C==="realizado"}).sort((_,C)=>new Date(C.data||0)-new Date(_.data||0));return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Meus Exames"})]}),e.jsx(Ds,{tabs:b,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(fe,{placeholder:"Buscar por exame, médico ou local...",value:m,onChange:_=>h(_.target.value)})}),e.jsx("div",{className:"w-full md:w-[220px]",children:e.jsxs(lt,{value:d,onValueChange:u,children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Filtrar por status"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"todas",children:"Todos os exames"}),e.jsx(we,{value:"agendados",children:"Agendados"}),e.jsx(we,{value:"realizados",children:"Realizados"})]})]})})]}),e.jsxs(pn,{defaultValue:"agendados",className:"w-full",children:[e.jsxs(hn,{className:"grid w-full grid-cols-2",children:[e.jsx(ft,{value:"agendados",children:"Exames Agendados"}),e.jsx(ft,{value:"realizados",children:"Histórico de Exames"})]}),e.jsx(vt,{value:"agendados",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Próximos Exames"})}),e.jsx(de,{children:a?e.jsx("div",{className:"space-y-2",children:[...Array(3)].map((_,C)=>e.jsx(st,{className:"h-24 w-full"},C))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):v.length===0?e.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:"Você não possui exames agendados no momento."}):e.jsx("div",{className:"space-y-4",children:v.map(_=>{var C;return e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 border rounded-lg p-4 bg-app-soft dark:bg-background",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:_.nome}),e.jsx("p",{className:"text-sm text-muted-foreground",children:((C=_.medico)==null?void 0:C.nome)||"—"})]}),e.jsxs("div",{className:"text-sm",children:[_.data?new Date(_.data).toLocaleDateString():"—"," ",_.data?`às ${new Date(_.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]})]}),e.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:_.local||"Local não especificado"}),e.jsx("div",{className:"mt-3",children:e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:_.status})})]}),e.jsx("div",{className:"flex flex-row md:flex-col gap-2 justify-end"})]},_.id||`${_.data}-${_.nome}`)})})})]})}),e.jsx(vt,{value:"realizados",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Histórico de Exames"})}),e.jsx(de,{children:a?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((_,C)=>e.jsx(st,{className:"h-10 w-full"},C))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):w.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Você não possui exames realizados no histórico."}):e.jsxs(xn,{children:[e.jsx(gn,{children:e.jsxs(Tt,{children:[e.jsx(We,{children:"Data"}),e.jsx(We,{children:"Exame"}),e.jsx(We,{children:"Médico"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Ações"})]})}),e.jsx(vn,{children:N.map(_=>{var C;return e.jsxs(Tt,{children:[e.jsx(He,{children:_.data?new Date(_.data).toLocaleDateString():"—"}),e.jsx(He,{children:_.nome}),e.jsx(He,{children:((C=_.medico)==null?void 0:C.nome)||"—"}),e.jsx(He,{children:e.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${(_.status||"").toLowerCase().includes("conclu")||(_.status||"").toLowerCase()==="realizado"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-primary/10 text-primary"}`,children:_.status||"—"})}),e.jsx(He,{children:e.jsx("div",{className:"flex items-center justify-end gap-3",children:_.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:_.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[e.jsx(pr,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(ne,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void mA(_),title:"Baixar arquivo",children:[e.jsx(Ea,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),e.jsxs(ne,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda não disponível",children:[e.jsx(Ea,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]})})})]},_.id)})})]})})]})})]})]})}const mA=async t=>{var n;try{let a=t==null?void 0:t.resultado_url;if(!a)return;/^https?:\/\//i.test(a)||(a=`http://127.0.0.1:8000${a.startsWith("/")?"":"/"}${a}`);const o=await ue.get(a,{responseType:"blob",baseURL:""}),i=new Blob([o.data],{type:o.headers["content-type"]||"application/octet-stream"}),c=o.headers["content-disposition"]||"",d=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(c),u=decodeURIComponent((d==null?void 0:d[1])||(d==null?void 0:d[2])||`${t.nome||"resultado"}.pdf`),m=document.createElement("a");m.href=URL.createObjectURL(i),m.download=u,document.body.appendChild(m),m.click(),m.remove(),setTimeout(()=>URL.revokeObjectURL(m.href),2e3)}catch(a){console.warn("[Exames] download falhou:",(n=a==null?void 0:a.response)==null?void 0:n.status),alert("Não foi possível baixar o resultado. Tente novamente.")}};function fA(){const[t,n]=g.useState([]),[a,o]=g.useState(!0),[i,c]=g.useState(null),[d,u]=g.useState("todos"),[m,h]=g.useState("todos"),[x,p]=g.useState(""),j=E=>{var R;return((R=E==null?void 0:E.tipo_exame)==null?void 0:R.nome)||(E==null?void 0:E.tipo_exame_nome)||(E==null?void 0:E.nome_exame)||(typeof(E==null?void 0:E.tipo_exame)=="string"?E.tipo_exame:null)||(E==null?void 0:E.nome)||(E==null?void 0:E.tipo)||(E==null?void 0:E.exame)||"Exame"},b=E=>{const R=E==null?void 0:E.user;return[R==null?void 0:R.first_name,R==null?void 0:R.last_name].filter(Boolean).join(" ").trim()||(R==null?void 0:R.nome)||(R==null?void 0:R.username)||(E==null?void 0:E.nome)||"—"},N=E=>{var P;const R=(E==null?void 0:E.resultado_url)||(E==null?void 0:E.arquivo_resultado)||((P=E==null?void 0:E.resultado)==null?void 0:P.arquivo)||(E==null?void 0:E.arquivo_url)||(E==null?void 0:E.documento_url);return R?/^https?:\/\//i.test(R)?R:`http://127.0.0.1:8000${R.startsWith("/")?"":"/"}${R}`:null},v=E=>{if(!E)return"sem-data";const R=new Date(E);return Number.isNaN(R.getTime())?"sem-data":R.toISOString().slice(0,10)},w=E=>{try{return new Date(E).toLocaleString()}catch{return E||"—"}};g.useEffect(()=>{let E=!0;return(async()=>{var R,A,P;try{const[T,k,$]=await Promise.allSettled([ut.getConsultas(),ut.getExames(),ut.getReceitas()]),M=T.status==="fulfilled"?(Array.isArray(T.value)?T.value:(R=T.value)==null?void 0:R.results)||[]:[],I=k.status==="fulfilled"?(Array.isArray(k.value)?k.value:(A=k.value)==null?void 0:A.results)||[]:[],z=$.status==="fulfilled"?(Array.isArray($.value)?$.value:(P=$.value)==null?void 0:P.results)||[]:[],Y=I.map(H=>({id:H.id||Math.random(),tipo:"exame",data:H.data_agendamento||H.data_solicitacao||H.data||H.data_hora||null,titulo:`Exame - ${j(H)}`.trim(),detalhe:b((H==null?void 0:H.medico_solicitante)||(H==null?void 0:H.medico)),status:H.status||H.situacao||"pendente",resultado_url:N(H),nome:j(H)})),F=M.map(H=>{var q,X;return{id:H.id||Math.random(),tipo:"consulta",data:H.data_hora||H.data||null,titulo:`Consulta - ${H.especialidade||((q=H.medico)==null?void 0:q.especialidade)||""}`.trim(),detalhe:((X=H.medico)==null?void 0:X.nome)||b(H==null?void 0:H.medico)||"",status:H.status||"pendente"}}),K=z.map(H=>{var te;const q=H.medico||((te=H.consulta)==null?void 0:te.medico),X=Array.isArray(H.itens)&&H.itens.length?H.itens.map(O=>{var V;return((V=O==null?void 0:O.medicamento)==null?void 0:V.nome)||(O==null?void 0:O.medicamento)||""}).filter(Boolean).join(", "):H.medicamentos||"Prescrição";return{id:H.id||Math.random(),tipo:"receita",data:H.created_at||H.data||H.emissao||H.data_emissao||null,titulo:`Receita - ${X}`.trim(),detalhe:b(q),status:H.status||(H.arquivo_assinado?"assinada":"emitida"),resultado_url:H.arquivo_assinado||null,nome:"Receita"}}),D=[...F,...Y,...K].filter(H=>H.data).sort((H,q)=>new Date(q.data||0)-new Date(H.data||0));E&&n(D)}catch{c("Não foi possível carregar o histórico.")}finally{E&&o(!1)}})(),()=>{E=!1}},[]);const _=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],C=g.useMemo(()=>{let E=t;if(d!=="todos"){const P={consultas:"consulta",exames:"exame",receitas:"receita"};E=E.filter(T=>T.tipo===(P[d]||d))}if(m!=="todos"&&(E=E.filter(P=>(P.status||"").toLowerCase()===m.toLowerCase())),x.trim()){const P=x.toLowerCase();E=E.filter(T=>{var k,$;return((k=T.titulo)==null?void 0:k.toLowerCase().includes(P))||(($=T.detalhe)==null?void 0:$.toLowerCase().includes(P))||(T.status||"").toLowerCase().includes(P)})}const R={};for(const P of E){const T=v(P.data);R[T]||(R[T]=[]),R[T].push(P)}const A=Object.keys(R).sort((P,T)=>P<T?1:-1);return{groups:R,orderedKeys:A}},[t,d,m,x]);return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mv,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Histórico Médico"})]}),e.jsx(Ds,{tabs:_,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx("div",{className:"flex-1 relative",children:e.jsx(fe,{placeholder:"Buscar por título, médico, status...",value:x,onChange:E=>p(E.target.value),className:"w-full"})}),e.jsxs(lt,{value:d,onValueChange:u,children:[e.jsx(rt,{className:"w-[180px]",children:e.jsx(ct,{placeholder:"Tipo"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"todos",children:"Todos"}),e.jsx(we,{value:"consultas",children:"Consultas"}),e.jsx(we,{value:"exames",children:"Exames"}),e.jsx(we,{value:"receitas",children:"Receitas"})]})]}),e.jsxs(lt,{value:m,onValueChange:h,children:[e.jsx(rt,{className:"w-[180px]",children:e.jsx(ct,{placeholder:"Status"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"todos",children:"Todos"}),e.jsx(we,{value:"solicitado",children:"Solicitado"}),e.jsx(we,{value:"agendado",children:"Agendado"}),e.jsx(we,{value:"realizado",children:"Realizado"}),e.jsx(we,{value:"cancelado",children:"Cancelado"}),e.jsx(we,{value:"pendente",children:"Pendente"})]})]})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Linha do Tempo"})}),e.jsx(de,{children:a?e.jsx("div",{className:"space-y-3",children:[...Array(6)].map((E,R)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(st,{className:"h-4 w-4 rounded-full"}),e.jsx(st,{className:"h-6 w-2/3"})]},R))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):C.orderedKeys.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento encontrado."}):e.jsx("div",{className:"space-y-8",children:C.orderedKeys.map(E=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[e.jsx(Ge,{className:"h-4 w-4"}),e.jsx("span",{children:E==="sem-data"?"Sem data":new Date(E).toLocaleDateString()})]}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute left-1 top-0 bottom-0 w-px bg-border"}),e.jsx("ul",{className:"space-y-4",children:C.groups[E].map(R=>e.jsxs("li",{className:"relative",children:[e.jsx("span",{className:`absolute -left-[7px] top-1 inline-flex items-center justify-center h-4 w-4 rounded-full ${R.tipo==="consulta"?"bg-primary":R.tipo==="exame"?"bg-emerald-500":"bg-indigo-500"}`,title:R.tipo==="consulta"?"Consulta":R.tipo==="exame"?"Exame":"Receita"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 text-muted-foreground",children:R.tipo==="consulta"?e.jsx(At,{className:"h-4 w-4"}):R.tipo==="exame"?e.jsx(RC,{className:"h-4 w-4 text-emerald-400"}):e.jsx(_m,{className:"h-4 w-4 text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:R.titulo}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[R.detalhe||"—"," ",R.status?`• ${R.status}`:""]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:w(R.data)})]})]}),R.tipo==="exame"&&e.jsx("div",{className:"flex items-center gap-2",children:R.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:R.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[e.jsx(pr,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(ne,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void dg(R),title:"Baixar arquivo",children:[e.jsx(Ea,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),e.jsxs(ne,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda não disponível",children:[e.jsx(Ea,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]})}),R.tipo==="receita"&&e.jsx("div",{className:"flex items-center gap-2",children:R.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:R.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",title:"Abrir receita em nova aba",children:[e.jsx(pr,{className:"h-4 w-4"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(ne,{variant:"outline",className:"inline-flex items-center gap-2 rounded-lg border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",onClick:()=>void dg(R),title:"Baixar PDF",children:[e.jsx(Ea,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem PDF assinado"})})]})]},R.id))})]})]},E))})})]})]})}const dg=async t=>{var n;try{let a=t==null?void 0:t.resultado_url;if(!a)return;if(/^(data|blob):/i.test(a)){const h=document.createElement("a");h.href=a,h.download=`${t.nome||"resultado"}.pdf`,document.body.appendChild(h),h.click(),h.remove();return}/^https?:\/\//i.test(a)||(a=`http://127.0.0.1:8000${a.startsWith("/")?"":"/"}${a}`);const o=await ue.get(a,{responseType:"blob",baseURL:""}),i=new Blob([o.data],{type:o.headers["content-type"]||"application/octet-stream"}),c=o.headers["content-disposition"]||"",d=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(c),u=decodeURIComponent((d==null?void 0:d[1])||(d==null?void 0:d[2])||`${t.nome||"resultado"}.pdf`),m=document.createElement("a");m.href=URL.createObjectURL(i),m.download=u,document.body.appendChild(m),m.click(),m.remove(),setTimeout(()=>URL.revokeObjectURL(m.href),2e3)}catch(a){console.warn("[Historico Medico] download falhou:",(n=a==null?void 0:a.response)==null?void 0:n.status),alert("Não foi possível baixar o resultado. Tente novamente.")}};function pA(){const[t,n]=g.useState([]),[a,o]=g.useState(!0),[i,c]=g.useState(null);g.useEffect(()=>{let u=!0;return(async()=>{try{const m=await ut.getMedicos();u&&n(Array.isArray(m)?m:(m==null?void 0:m.results)||[])}catch{c("Não foi possível carregar os médicos vinculados.")}finally{u&&o(!1)}})(),()=>{u=!1}},[]);const d=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Médicos Vinculados"})]}),e.jsx(Ds,{tabs:d,basePath:"/paciente"}),a?e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((u,m)=>e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(st,{className:"h-5 w-48"})}),e.jsxs(de,{className:"space-y-2",children:[e.jsx(st,{className:"h-4 w-56"}),e.jsx(st,{className:"h-4 w-32"})]})]},m))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):t.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum médico vinculado."}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:t.map(u=>{var m,h;return e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-5 w-5"}),hA(u)]})}),e.jsxs(de,{className:"space-y-2 text-sm",children:[e.jsx("div",{className:"text-muted-foreground",children:xA(u)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["CRM: ",fg(u)||"—"]})]}),ug(u)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Io,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:ug(u)})]}),mg(u)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Sr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:mg(u)})]})]})]},u.id||fg(u)||((m=u.user)==null?void 0:m.id)||((h=u.user)==null?void 0:h.email))})})]})}const hA=t=>{const n=(t==null?void 0:t.user)||{};return[n.first_name,n.last_name].filter(Boolean).join(" ").trim()||n.nome||n.name||n.username||(t==null?void 0:t.nome)||(t==null?void 0:t.name)||(t==null?void 0:t.full_name)||"Médico"},xA=t=>{var a;const n=o=>(o==null?void 0:o.nome)||(o==null?void 0:o.titulo)||(o==null?void 0:o.name)||(o==null?void 0:o.descricao)||(o==null?void 0:o.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const o=t.especialidades.map(i=>n(i)||(typeof i=="string"?i:null)).filter(Boolean);if(o.length)return o.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const o=n(t.especialidade);if(o)return o}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((a=t==null?void 0:t.user)==null?void 0:a.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():"Especialidade não informada"},ug=t=>{var n;return(t==null?void 0:t.telefone)||(t==null?void 0:t.phone)||(t==null?void 0:t.celular)||((n=t==null?void 0:t.user)==null?void 0:n.phone)||null},mg=t=>{var n;return(t==null?void 0:t.email)||((n=t==null?void 0:t.user)==null?void 0:n.email)||null},fg=t=>(t==null?void 0:t.crm)||(t==null?void 0:t.crm_numero)||(t==null?void 0:t.crmNumber)||(t==null?void 0:t.crm_registro)||null;function gA(){const{toast:t}=Mt(),[n,a]=g.useState(!0),[o,i]=g.useState(""),[c,d]=g.useState([]),[u,m]=g.useState([]),[h,x]=g.useState(!1),[p,j]=g.useState({medico:"",mensagem:""}),[b,N]=g.useState(!1),v=g.useMemo(()=>Array.isArray(u)?u.filter(P=>P&&String(P.id??"").trim()!==""):[],[u]),w=P=>{const T=P==null?void 0:P.user;return[T==null?void 0:T.first_name,T==null?void 0:T.last_name].filter(Boolean).join(" ").trim()||(T==null?void 0:T.nome)||(T==null?void 0:T.username)||(P==null?void 0:P.nome)||(P==null?void 0:P.name)||(P==null?void 0:P.full_name)||(P==null?void 0:P.medico_nome)||(P==null?void 0:P.doctor_name)||"Médico"},_=g.useMemo(()=>Array.isArray(c)?c.length>0:Array.isArray(c==null?void 0:c.results)?c.results.length>0:!1,[c]),C=g.useMemo(()=>[...Array.isArray(c)?c:Array.isArray(c==null?void 0:c.results)?c.results:[]].sort((T,k)=>new Date(k.created_at||0)-new Date(T.created_at||0)),[c]);g.useEffect(()=>{let P=!0;async function T(){a(!0),i("");try{const[k,$]=await Promise.all([ut.getReceitas(),ut.getMedicosVinculados()]);if(!P)return;if(d(k),m($),Array.isArray($)&&$.length===0)try{const M=await ut.getMedicos({limit:50}),I=Array.isArray(M)?M:(M==null?void 0:M.results)||[];P&&I.length>0&&m(I)}catch{}}catch{if(!P)return;i("Falha ao carregar receitas.")}finally{P&&a(!1)}}return T(),()=>{P=!1}},[]);const E=async P=>{var T,k;if(P.preventDefault(),!p.medico){t({title:"Selecione um médico",description:"Escolha o médico para enviar a solicitação."});return}N(!0);try{await ut.solicitarReceita({medico:p.medico,mensagem:p.mensagem}),t({title:"Solicitação enviada",description:"Seu pedido de receita foi enviado ao médico."}),x(!1),j({medico:"",mensagem:""})}catch($){t({title:"Erro ao solicitar",description:((k=(T=$==null?void 0:$.response)==null?void 0:T.data)==null?void 0:k.detail)||"Não foi possível enviar a solicitação.",variant:"destructive"})}finally{N(!1)}},R=async(P,T)=>{var k;try{if(!P)return;const $=(D,H)=>{const q=document.createElement("a"),X=URL.createObjectURL(D);q.href=X,q.download=decodeURIComponent(H),document.body.appendChild(q),q.click(),q.remove(),setTimeout(()=>URL.revokeObjectURL(X),2e3)},M=(D,H="Receita_Medica.pdf")=>{let q=D||H;return/\.[a-z0-9]+$/i.test(q)||(q+=".pdf"),q};if(/^data:/i.test(P))try{const D=P.split(","),H=D[0]||"",q=D.slice(1).join(","),X=(H.match(/data:([^;]+)/i)||[])[1]||"application/pdf",te=atob(q),O=te.length,V=new Uint8Array(O);for(let J=0;J<O;J++)V[J]=te.charCodeAt(J);const Z=new Blob([V],{type:X}),B=`Receita_${(T==null?void 0:T.id)||"documento"}`,U=M(B);$(Z,U);return}catch(D){console.error("[Receitas] Falha ao processar data URL:",D),t({title:"Falha no download",description:"Arquivo inválido ou corrompido.",variant:"destructive"});return}if(/^blob:/i.test(P))try{const H=await(await fetch(P)).blob(),q=`Receita_${(T==null?void 0:T.id)||"documento"}`,X=M(q);$(H,X);return}catch(D){console.error("[Receitas] Blob URL indisponível (provavelmente de outra aba/sessão):",D),t({title:"Arquivo indisponível",description:"Essa receita foi gerada em outra aba/sessão. Gere novamente para baixar.",variant:"destructive"});return}/^https?:\/\//i.test(P)||(P=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${P.startsWith("/")?"":"/"}${P}`);const I=await ue.get(P,{responseType:"blob",baseURL:""}),z=new Blob([I.data],{type:I.headers["content-type"]||"application/pdf"}),Y=I.headers["content-disposition"]||"",F=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(Y);let K=(F==null?void 0:F[1])||(F==null?void 0:F[2]);if(!K)try{const D=new URL(P);K=decodeURIComponent(D.pathname.split("/").pop()||"")}catch{K=""}K||(K=`Receita_${(T==null?void 0:T.id)||"documento"}.pdf`),K=M(K),$(z,K)}catch($){console.error("[Receitas] Falha ao baixar PDF assinado:",((k=$==null?void 0:$.response)==null?void 0:k.status)||$),t({title:"Falha no download",description:"Não foi possível baixar o arquivo. Tente novamente.",variant:"destructive"})}},A=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return n?e.jsx("div",{children:"Carregando receitas..."}):o?e.jsx("div",{className:"text-red-600",children:o}):e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_m,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Minhas Receitas"})]}),e.jsx(Ds,{tabs:A,basePath:"/paciente"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{}),e.jsx(ne,{onClick:()=>x(!0),children:"Solicitar Receita"})]}),_?e.jsx("div",{className:"grid gap-4",children:C.map(P=>{var M;const T=P.consulta,k=w(P.medico),$=((M=T==null?void 0:T.paciente)!=null&&M.user?`${T.paciente.user.first_name||""} ${T.paciente.user.last_name||""}`.trim():"Paciente")||"Paciente";return e.jsxs("div",{className:"border rounded p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-medium",children:["Emitida em: ",new Date(P.created_at).toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Validade: ",P.validade]})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Médico:"})," ",k]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Paciente:"})," ",$]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"font-semibold",children:"Medicamentos"}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:P.medicamentos})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"font-semibold",children:"Posologia"}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:P.posologia})]}),P.observacoes?e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"font-semibold",children:"Observações"}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:P.observacoes})]}):null,Array.isArray(P.itens)&&P.itens.length>0?e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"font-semibold",children:"Itens estruturados"}),e.jsx("ul",{className:"list-disc ml-6 text-sm",children:P.itens.map(I=>{var z;return e.jsxs("li",{children:[((z=I.medicamento)==null?void 0:z.nome)||"Medicamento"," - ",I.dose||""," ",I.frequencia?`| ${I.frequencia}`:""," ",I.duracao?`| ${I.duracao}`:"",I.observacoes?e.jsxs("span",{children:[" — ",I.observacoes]}):null]},I.id)})})]}):null,P.arquivo_assinado?e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",className:"text-blue-600 underline",onClick:()=>R(P.arquivo_assinado,P),children:"Baixar PDF assinado"})}):e.jsxs("div",{className:"mt-3",children:[e.jsx("button",{type:"button",className:"text-blue-600 underline",onClick:()=>vA(P),children:"Baixar PDF (gerado)"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Nenhum arquivo assinado disponível para esta receita."})]})]},P.id)})}):e.jsx("div",{className:"text-gray-600",children:"Você ainda não possui receitas."}),h?e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-card text-card-foreground border rounded-lg p-6 w-full max-w-lg shadow-lg",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Solicitar Receita"}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"mb-1 block",children:"Médico"}),e.jsxs(lt,{value:p.medico,onValueChange:P=>j(T=>({...T,medico:P})),children:[e.jsx(rt,{className:"w-full",children:e.jsx(ct,{placeholder:n?"Carregando...":v.length?"Selecione...":"Nenhum médico disponível"})}),e.jsx(ot,{children:v.length===0?e.jsx(z0,{children:"Nenhum médico disponível"}):v.map(P=>{const T=(P!=null&&P.user?`${P.user.first_name||""} ${P.user.last_name||""}`.trim():P==null?void 0:P.nome)||"Médico";return e.jsxs(we,{value:String(P.id),children:[T," ",P.crm?`- CRM ${P.crm}`:""]},String(P.id))})})]})]}),e.jsxs("div",{children:[e.jsx(ce,{className:"mb-1 block",children:"Mensagem (opcional)"}),e.jsx(nt,{rows:3,placeholder:"Descreva sua necessidade (ex: renovação de medicamento de uso contínuo)",value:p.mensagem,onChange:P=>j(T=>({...T,mensagem:P.target.value}))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(ne,{type:"button",variant:"outline",onClick:()=>{x(!1),j({medico:"",mensagem:""})},children:"Cancelar"}),e.jsx(ne,{type:"submit",disabled:b,children:b?"Enviando...":"Enviar solicitação"})]})]})]})}):null]})}const vA=async t=>{try{const{PDFDocument:n,StandardFonts:a,rgb:o}=await jm(async()=>{const{PDFDocument:v,StandardFonts:w,rgb:_}=await import("./index-DlKTu4dm.js");return{PDFDocument:v,StandardFonts:w,rgb:_}},[]),i=await n.create(),c=i.addPage([595.28,841.89]),d=await i.embedFont(a.Helvetica),u=(v,w,_,C=12,E=o(0,0,0))=>{c.drawText(String(v||""),{x:w,y:_,size:C,font:d,color:E})};let m=800;u("Receita Médica (não assinada)",50,m,16),m-=30;const h=(v,w)=>`${v}: ${w??""}`;u(h("Emitida em",(t==null?void 0:t.created_at)||(t==null?void 0:t.data_emissao)||""),50,m),m-=18,u(h("Médico",(t==null?void 0:t.medico_nome)||(t==null?void 0:t.medico)||(t==null?void 0:t.medico_id)||""),50,m),m-=18,u(h("Paciente",(t==null?void 0:t.paciente_nome)||(t==null?void 0:t.paciente)||(t==null?void 0:t.paciente_id)||""),50,m),m-=24,u("Medicamentos",50,m,14),m-=18,u(String((t==null?void 0:t.medicamentos)||(t==null?void 0:t.itens)||(t==null?void 0:t.descricao)||""),50,m),m-=36,u("Posologia",50,m,14),m-=18,u(String((t==null?void 0:t.posologia)||(t==null?void 0:t.orientacoes)||""),50,m),m-=36,t!=null&&t.observacoes&&(u("Observações",50,m,14),m-=18,u(String(t==null?void 0:t.observacoes),50,m),m-=36),Array.isArray(t==null?void 0:t.itens_estruturados)&&t.itens_estruturados.length&&(u("Itens estruturados",50,m,14),m-=18,t.itens_estruturados.forEach(v=>{const w=Object.values(v||{}).filter(Boolean).join(" · ");u(`• ${w}`,60,m),m-=16}),m-=10);const x=await i.save(),p=new Blob([x],{type:"application/pdf"}),j=`Receita_${(t==null?void 0:t.id)||"documento"}.pdf`,b=document.createElement("a"),N=URL.createObjectURL(p);b.href=N,b.download=j,document.body.appendChild(b),b.click(),b.remove(),setTimeout(()=>URL.revokeObjectURL(N),2e3)}catch(n){console.error("[Receitas] Falha ao gerar PDF local:",n),toast({title:"Falha ao gerar PDF",description:"Tente novamente.",variant:"destructive"})}};function V0(t,n=[]){const[a,o]=g.useState(null),[i,c]=g.useState(!0),[d,u]=g.useState(null);return g.useEffect(()=>{let h=!0;return(async()=>{var p,j;try{c(!0),u(null);const b=await t();h&&o(b)}catch(b){h&&u(((j=(p=b.response)==null?void 0:p.data)==null?void 0:j.message)||"Erro ao carregar dados")}finally{h&&c(!1)}})(),()=>{h=!1}},n),{data:a,loading:i,error:d,refetch:async()=>{var h,x;try{c(!0),u(null);const p=await t();o(p)}catch(p){u(((x=(h=p.response)==null?void 0:h.data)==null?void 0:x.message)||"Erro ao carregar dados")}finally{c(!1)}}}}const Qe={async getPerfil(){var d,u,m,h;const t="/medicos/",n=t.endsWith("/")?t:`${t}/`,a="".toLowerCase()==="true",o="".toLowerCase()==="true";let i=xt.getCurrentUser();if(!(i!=null&&i.id))try{const x=await xt.refreshCurrentUser();x!=null&&x.id&&(i=x)}catch{}if(i!=null&&i.id){const x="user,user__id,user_id,usuario,usuario_id".split(",").map(p=>p.trim()).filter(Boolean);for(const p of x)try{const j=await ue.get(n,{params:{[p]:i.id}}),b=Array.isArray((d=j.data)==null?void 0:d.results)?j.data.results:j.data;if(b!=null&&b[0])return b[0]}catch{}}if(a)try{return(await ue.get(`${n}me/`)).data}catch(x){if(((u=x==null?void 0:x.response)==null?void 0:u.status)!==404)throw x}let c=null;if(o){const x=[],p="/users/".trim();if(p)if(p.includes("/me"))x.push(p);else{const j=p.endsWith("/")?p:`${p}/`;x.push(`${j}me/`)}x.push("/users/me/"),x.push("/auth/user/");for(const j of x)try{if(c=(await ue.get(j)).data,c&&!c.id){const N=Array.isArray(c==null?void 0:c.results)?c.results[0]:Array.isArray(c)?c[0]:null;N!=null&&N.id&&(c=N)}if(c!=null&&c.id)break}catch{}}try{const x=await ue.get(n),p=Array.isArray((m=x.data)==null?void 0:m.results)?x.data.results:x.data;if(Array.isArray(p)&&p.length){const j=(c==null?void 0:c.id)||((h=xt.getCurrentUser())==null?void 0:h.id);if(j){const b=p.find(N=>{var v,w;return((v=N==null?void 0:N.user)==null?void 0:v.id)===j||((w=N==null?void 0:N.usuario)==null?void 0:w.id)===j});if(b)return b}return p[0]}}catch{}return null},async getPacientes(t={}){return(await ue.get("/pacientes/",{params:t})).data},async getPacientesVinculados(t){const n="/medicos/",a=n.endsWith("/")?n:`${n}/`;return(await ue.get(`${a}${t}/pacientes/`)).data},async getConsultas(t={}){return(await ue.get("/consultas/",{params:t})).data},async getConsultasDoMedico(t={}){var u,m,h,x;const n=await this.getPerfil();let a=null;if((u=n==null?void 0:n.medico)!=null&&u.id?a=n.medico.id:n&&typeof n=="object"&&"crm"in n&&(a=n.id),!a){const p=((m=n==null?void 0:n.user)==null?void 0:m.id)||(n==null?void 0:n.id);if(p)try{const j="/medicos/",b=j.endsWith("/")?j:`${j}/`,N="user,user__id,user_id,usuario,usuario_id".split(",").map(v=>v.trim()).filter(Boolean);for(const v of N)try{const w=await ue.get(b,{params:{[v]:p}}),_=Array.isArray((h=w.data)==null?void 0:h.results)?w.data.results:w.data;if((x=_==null?void 0:_[0])!=null&&x.id){a=_[0].id;break}}catch{}}catch{}}const o={...t};a&&!o.medico&&!o.medico_id&&(o.medico=a,o.medico_id=a);const i=o.date||o.data||o.dia;return i&&(o.date=i,o.data=i,o.dia=i,o.data__date=i),(await ue.get("/consultas/",{params:o})).data},async getConsultasHoje(t){var h,x,p,j;const n="/medicos/",a=n.endsWith("/")?n:`${n}/`;let o=t;if(!o){const b=await this.getPerfil();if((h=b==null?void 0:b.medico)!=null&&h.id?o=b.medico.id:b&&typeof b=="object"&&"crm"in b&&(o=b.id),!o){const N=((x=b==null?void 0:b.user)==null?void 0:x.id)||(b==null?void 0:b.id);if(N)try{const v="user,user__id,user_id,usuario,usuario_id".split(",").map(w=>w.trim()).filter(Boolean);for(const w of v)try{const _=await ue.get(a,{params:{[w]:N}}),C=Array.isArray((p=_.data)==null?void 0:p.results)?_.data.results:_.data;if((j=C==null?void 0:C[0])!=null&&j.id){o=C[0].id;break}}catch{}}catch{}}}const i="false".toLowerCase()==="true";if(o&&i)try{return(await ue.get(`${a}${o}/consultas_hoje/`)).data}catch{}const c=new Date,d=b=>String(b).padStart(2,"0"),u=`${c.getFullYear()}-${d(c.getMonth()+1)}-${d(c.getDate())}`;return await this.getConsultasDoMedico({date:u})},async getDashboard(){try{const t=new Date,n=d=>String(d).toString().padStart(2,"0"),a=`${t.getFullYear()}-${n(t.getMonth()+1)}-${n(t.getDate())}`,o=await this.getConsultasDoMedico({date:a}),i=Array.isArray(o)?o:Array.isArray(o==null?void 0:o.results)?o.results:[];return{proximas:Array.isArray(i)?i.map(d=>({id:d.id||d.consulta_id||d.uuid,paciente:d.paciente,data_hora:d.data_hora,status:d.status})):[]}}catch{return{proximas:[]}}},async iniciarConsulta(t){if(!t)throw new Error("consultaId é obrigatório");const n="/consultas/",a=[{method:"post",url:`${n}${t}/iniciar/`,data:void 0},{method:"post",url:`${n}${t}/start/`,data:void 0},{method:"patch",url:`${n}${t}/`,data:{status:"em_andamento"}},{method:"put",url:`${n}${t}/iniciar/`,data:void 0}];let o=null;for(const i of a)try{return(await ue[i.method](i.url,i.data)).data}catch(c){o=c}throw o||new Error("Não foi possível iniciar a consulta")},async finalizarConsulta(t){if(!t)throw new Error("consultaId é obrigatório");const a=`/consultas/${t}/finalizar/`;return(await ue.post(a)).data},async sumarizarConsulta(t,n={}){if(!t)throw new Error("consultaId é obrigatório");const a="/consultas/",o=[`${a}${t}/sumarizar/`,`${a}${t}/resumir/`,`${a}${t}/summary/`];let i=null;for(const c of o)try{const{data:d}=await ue.post(c,n);return d}catch(d){i=d}throw i||new Error("Endpoint de sumarização não disponível")},async criarProntuario(t){var m;const n="/prontuarios/".replace(/\/?$/,"/"),a={...t||{}},o={};for(const[h,x]of Object.entries(a))x!=null&&(typeof x=="string"&&x.trim()===""||(o[h]=typeof x=="string"?x.trim():x));const i=o.consulta_id||o.consulta;i&&(o.consulta_id=i,o.consulta=i);const c=[{method:"post",url:n},{method:"put",url:n},{method:"patch",url:n}],d=n.replace(/prontuarios\/?$/i,"prontuario/");d!==n&&(c.push({method:"post",url:d}),c.push({method:"put",url:d}),c.push({method:"patch",url:d}));let u=null;for(const h of c)try{const{data:x}=await ue[h.method](h.url,o);return x}catch(x){const p=(m=x==null?void 0:x.response)==null?void 0:m.status;if(p&&[400,422].includes(p)){const j={};i&&(j.consulta_id=i,j.consulta=i);const b=o.queixa_principal||o.queixa,N=o.historia_doenca_atual||o.historia,v=o.diagnostico_principal||o.diagnostico,w=o.conduta||o.plano,_=o.medicamentos_uso||o.medicamentos;b&&(j.queixa_principal=b),N&&(j.historia_doenca_atual=N),v&&(j.diagnostico_principal=v),w&&(j.conduta=w),_&&(j.medicamentos_uso=_),o.alergias&&(j.alergias=o.alergias),o.exames_solicitados&&(j.exames_solicitados=o.exames_solicitados),o.data_retorno&&(j.data_retorno=o.data_retorno);try{const{data:C}=await ue[h.method](h.url,j);return C}catch(C){u=C}}else if(p===405){u=x;continue}else if(p===404){u=x;continue}else{u=x;break}}throw u||new Error("Falha ao criar prontuário: nenhum endpoint compatível encontrado.")},async criarReceita(t={}){var w,_,C,E,R,A,P,T,k;const n="/receitas/".replace(/\/?$/,"/"),a="/pacientes/".replace(/\/?$/,"/"),o="/consultas/".replace(/\/?$/,"/"),i="false".toLowerCase()==="true",c={...t},d=c.paciente_id||c.paciente,u=c.consulta_id||c.consulta,m={...c};!m.paciente_id&&d&&(m.paciente_id=d),!m.paciente&&d&&(m.paciente=d),!m.consulta_id&&u&&(m.consulta_id=u),!m.consulta&&u&&(m.consulta=u),!m.medicamentos&&c.medicamento&&(m.medicamentos=c.medicamento),!m.medicamento&&c.medicamentos&&(m.medicamento=c.medicamentos),!m.validade&&c.validade_receita&&(m.validade=c.validade_receita);try{const $=m.medico_id||m.medico||await this._resolveMedicoId().catch(()=>null);$&&(m.medico_id||(m.medico_id=$),m.medico||(m.medico=$))}catch{}if(!m.consulta_id&&!m.consulta&&(m.paciente_id||m.paciente))try{const $=m.paciente_id||m.paciente,M=m.medico_id||m.medico||null,I=(()=>{const Y=new Date,F=Y.getFullYear(),K=String(Y.getMonth()+1).padStart(2,"0"),D=String(Y.getDate()).padStart(2,"0");return`${F}-${K}-${D}`})(),z=await this._ensureConsultaId($,M,I);if(z&&(m.consulta_id=z,m.consulta=z,i))try{console.debug("[medicoService.criarReceita] consulta_id resolvido automaticamente:",z)}catch{}}catch($){if(i)try{console.warn("[medicoService.criarReceita] não foi possível resolver consulta_id automaticamente",(w=$==null?void 0:$.response)==null?void 0:w.status)}catch{}}const h=[],x="".trim();x&&h.push(x),h.push(n),h.push(`${n}criar/`),h.push(`${n}create/`);const p=n.replace(/receitas\/?$/i,"receita/"),j=Array.from(new Set([p,"/receita/","/meu_app_receita/"].filter(Boolean)));for(const $ of j){const M=$.replace(/\/?$/,"/");h.push(M),h.push(`${M}criar/`),h.push(`${M}create/`)}if(u&&h.push(`${o}${u}/receitas/`),d&&h.push(`${a}${d}/receitas/`),i){try{console.debug("[medicoService.criarReceita] payload:",m)}catch{}try{console.debug("[medicoService.criarReceita] candidatos:",h)}catch{}}let b=null,N=null;const v=new Set;for(const $ of h){if(!$)continue;const M=$.endsWith("/")?$:`${$}/`,I=["post","put","patch"];for(const z of I){N=`${z.toUpperCase()} ${M}`;try{if(i)try{console.debug("[medicoService.criarReceita] tentando:",N)}catch{}const{data:Y}=await ue[z](M,m);if(i)try{console.debug("[medicoService.criarReceita] sucesso:",N,"→",Y)}catch{}return Y}catch(Y){const F=(_=Y==null?void 0:Y.response)==null?void 0:_.status;if(i)try{console.warn("[medicoService.criarReceita] falhou:",N,"status=",F,"detail=",((C=Y==null?void 0:Y.response)==null?void 0:C.data)||(Y==null?void 0:Y.message))}catch{}if(F&&[400,422].includes(F)){const K=`${z}:${M}`;if(!v.has(K)){v.add(K);const D={},H=m.paciente_id||m.paciente,q=m.medico_id||m.medico,X=m.medicamentos||m.medicamento,te=m.validade||m.validade_receita;if(H&&(D.paciente=H,D.paciente_id=H),q&&(D.medico=q,D.medico_id=q),X&&(D.medicamentos=X,D.medicamento=X),m.posologia&&(D.posologia=m.posologia),te&&(D.validade=te),m.observacoes&&(D.observacoes=m.observacoes),m.consulta_id||m.consulta){const O=m.consulta_id||m.consulta;D.consulta=O,D.consulta_id=O}try{if(i)try{console.debug("[medicoService.criarReceita] retry minimal:",z.toUpperCase(),M,D)}catch{}const{data:O}=await ue[z](M,D);if(i)try{console.debug("[medicoService.criarReceita] sucesso (minimal):",z.toUpperCase(),M,O)}catch{}return O}catch(O){if(i)try{console.warn("[medicoService.criarReceita] falhou (minimal):",z.toUpperCase(),M,(E=O==null?void 0:O.response)==null?void 0:E.status,((R=O==null?void 0:O.response)==null?void 0:R.data)||(O==null?void 0:O.message))}catch{}try{const V=(A=O==null?void 0:O.response)==null?void 0:A.data,Z=typeof V=="string"&&V||(V==null?void 0:V.detail)||(V==null?void 0:V.message)||(O==null?void 0:O.message)||"Erro desconhecido",B=V&&typeof V=="object"?` | body=${JSON.stringify(V)}`:typeof V=="string"?` | body=${V}`:"";O.message=`Falha ao criar receita (minimal, última tentativa: ${N||""}) ⇒ [${F||""}] ${Z}${B}`}catch{}throw O}}try{const D=(P=Y==null?void 0:Y.response)==null?void 0:P.data,H=typeof D=="string"&&D||(D==null?void 0:D.detail)||(D==null?void 0:D.message)||(Y==null?void 0:Y.message)||"Erro desconhecido",q=D&&typeof D=="object"?` | body=${JSON.stringify(D)}`:typeof D=="string"?` | body=${D}`:"";Y.message=`Falha ao criar receita (última tentativa: ${N||""}) ⇒ [${F||""}] ${H}${q}`}catch{}}if(F===404){b=Y;break}if(F===405){b=Y;continue}if(F===401||F&&[400,422].includes(F))throw Y;b=Y;break}}}if(b){const $=(T=b==null?void 0:b.response)==null?void 0:T.status,M=(k=b==null?void 0:b.response)==null?void 0:k.data,I=typeof M=="string"&&M||(M==null?void 0:M.detail)||(M==null?void 0:M.message)||(b==null?void 0:b.message)||"Erro desconhecido",z=M&&typeof M=="object"?` | body=${JSON.stringify(M)}`:"";throw new Error(`Falha ao criar receita (última tentativa: ${N||""}) ⇒ [${$||""}] ${I}${z}`)}throw new Error("Falha ao criar receita: nenhum endpoint compatível encontrado.")},async buscarPacientes(t){return(await ue.get("/pacientes/",{params:{search:t}})).data},async atualizarPacienteById(t,n){if(!t)throw new Error("id do paciente é obrigatório");const a="/pacientes/",o=a.endsWith("/")?a:`${a}/`;return(await ue.patch(`${o}${t}/`,n)).data},async _resolveMedicoId(){var t,n,a,o,i;try{const c=await this.getPerfil();if((t=c==null?void 0:c.medico)!=null&&t.id)return c.medico.id;if(c!=null&&c.id&&(c.crm||c.matricula||c.especialidade))return c.id;const d=((n=c==null?void 0:c.user)==null?void 0:n.id)||((a=xt.getCurrentUser())==null?void 0:a.id);if(!d)return null;const u="/medicos/",m=u.endsWith("/")?u:`${u}/`,h="user,user__id,user_id,usuario,usuario_id".split(",").map(x=>x.trim()).filter(Boolean);for(const x of h)try{const p=await ue.get(m,{params:{[x]:d}}),j=Array.isArray((o=p.data)==null?void 0:o.results)?p.data.results:p.data;if((i=j==null?void 0:j[0])!=null&&i.id)return j[0].id}catch{}}catch{}return null},async _ensureConsultaId(t,n=null,a=null){var o,i,c,d;try{if(!t)return null;const u="false".toLowerCase()==="true",m=(()=>{if(a&&/^\d{4}-\d{2}-\d{2}$/.test(String(a)))return a;const x=new Date,p=j=>String(j).padStart(2,"0");return`${x.getFullYear()}-${p(x.getMonth()+1)}-${p(x.getDate())}`})(),h="/consultas/".replace(/\/?$/,"/");try{const x={paciente:t,paciente_id:t,date:m,data:m,dia:m,data__date:m},p=n||await this._resolveMedicoId().catch(()=>null);p&&(x.medico=p,x.medico_id=p);const j=await ue.get(h,{params:x}),b=Array.isArray((o=j.data)==null?void 0:o.results)?j.data.results:j.data;if(Array.isArray(b)){const N=b.find(v=>(v==null?void 0:v.id)||(v==null?void 0:v.consulta_id)||(v==null?void 0:v.uuid));if(N){const v=N.id||N.consulta_id||N.uuid;if(u)try{console.debug("[_ensureConsultaId] encontrada consulta existente:",v)}catch{}return v}}}catch(x){if(u)try{console.warn("[_ensureConsultaId] falha ao buscar consulta existente:",(i=x==null?void 0:x.response)==null?void 0:i.status)}catch{}}try{const x=n||await this._resolveMedicoId().catch(()=>null),p={paciente:t,paciente_id:t,data:m,date:m,dia:m,data__date:m,data_hora:`${m}T00:00:00`};x&&(p.medico=x,p.medico_id=x);const j=[h,`${h}criar/`,`${h}create/`];for(const b of j){const N=b.endsWith("/")?b:`${b}/`;try{if(u)try{console.debug("[_ensureConsultaId] criando consulta em:",N,p)}catch{}const{data:v}=await ue.post(N,p),w=(v==null?void 0:v.id)||(v==null?void 0:v.consulta_id)||(v==null?void 0:v.uuid);if(w){if(u)try{console.debug("[_ensureConsultaId] consulta criada:",w)}catch{}return w}}catch(v){const w=(c=v==null?void 0:v.response)==null?void 0:c.status;if(u)try{console.warn("[_ensureConsultaId] falha ao criar em",N,w,((d=v==null?void 0:v.response)==null?void 0:d.data)||(v==null?void 0:v.message))}catch{}if([401,404,405].includes(w))continue}}}catch(x){if(u)try{console.warn("[_ensureConsultaId] erro inesperado na criação:",x==null?void 0:x.message)}catch{}}return null}catch{return null}},async getCertificadoInfo(){var d,u;const t=[],n="".trim();n&&t.push(n);const a="/medicos/",o=a.endsWith("/")?a:`${a}/`;t.push(`${o}me/certificado/`),t.push(`${o}certificado/`),t.push("/medico/certificado/"),t.push("/assinatura/certificado/"),t.push("/certificados/"),t.push("/api/medicos/me/certificado/"),t.push("/api/medicos/certificado/"),t.push("/api/certificados/");let i=null;try{i=await this._resolveMedicoId()}catch{}i&&(t.push(`${o}${i}/certificado/`),t.push(`${o}${i}/assinatura/`),t.push(`/api/medicos/${i}/certificado/`),t.push(`/api/medicos/${i}/assinatura/`));let c=null;for(const m of t){if(!m)continue;const h=m.endsWith("/")?m:`${m}/`;try{const{data:x}=await ue.get(h),p=Array.isArray(x==null?void 0:x.results)?(d=x.results)==null?void 0:d[0]:Array.isArray(x)?x[0]:x;return p||x||null}catch(x){const p=(u=x==null?void 0:x.response)==null?void 0:u.status;if(p===404){c=x;continue}if(p===401)throw x;c=x}}if(c)throw c;return null},async uploadCertificado(t){var m;let n;if(t instanceof FormData)n=t;else if(t&&t.name)n=new FormData,n.append("file",t),n.append("certificado",t),n.append("pfx",t);else throw new Error("Parâmetro inválido: é esperado FormData ou File.");const a=[],o="".trim();o&&a.push(o);const i="/medicos/",c=i.endsWith("/")?i:`${i}/`;a.push(`${c}me/certificado/`),a.push(`${c}certificado/`),a.push("/medico/certificado/"),a.push("/assinatura/certificado/"),a.push("/certificados/");let d=null;try{d=await this._resolveMedicoId()}catch{}d&&(a.push(`${c}${d}/certificado/`),a.push(`${c}${d}/assinatura/`));let u=null;for(const h of a){if(!h)continue;const x=h.endsWith("/")?h:`${h}/`,p=["post","put","patch"];for(const j of p)try{const{data:b}=await ue[j](x,n);return b}catch(b){const N=(m=b==null?void 0:b.response)==null?void 0:m.status;if(N===404){u=b;break}if(N===405){u=b;continue}if(N===401||N&&[400,422].includes(N))throw b;u=b;break}}throw u||new Error("Falha ao enviar certificado: nenhum endpoint compatível.")},async enviarReceita({receitaId:t,pacienteId:n,email:a,formato:o="pdf",file:i,filename:c}){var N,v,w,_,C;if(!a&&!n&&!t&&!i)throw new Error("Forneça ao menos email, pacienteId, receitaId ou arquivo para envio.");const d="false".toLowerCase()==="true",u="/receitas/".replace(/\/?$/,"/"),m="/pacientes/".replace(/\/?$/,"/");if(!t&&n){const E=async P=>{var T;try{const k=await ue.get(u,{params:P}),$=k==null?void 0:k.data,M=Array.isArray($)?$:Array.isArray($==null?void 0:$.results)?$.results:[],I=M==null?void 0:M[0],z=(I==null?void 0:I.id)||(I==null?void 0:I.pk)||(I==null?void 0:I.uuid)||((T=I==null?void 0:I.receita)==null?void 0:T.id);if(z)return String(z)}catch{}return null},R=[],A=["-created_at","-created","-data","-date","-id","-pk"];for(const P of A)R.push({paciente:n,ordering:P,page_size:1,limit:1}),R.push({paciente_id:n,ordering:P,page_size:1,limit:1});for(const P of R){const T=await E(P);if(T){t=T;break}}d&&t&&console.debug("[medicoService.enviarReceita] receitaId inferido via listagem:",t)}const h=new FormData;if(i){const E=c||i.name||`receita.${o||"pdf"}`;h.append("file",i,E),h.append("pdf",i,E),h.append("documento",i,E)}a&&(h.append("email",a),h.append("to",a),h.append("destinatario",a),h.append("paciente_email",a)),o&&h.append("formato",o),t&&(h.append("id",t),h.append("receita",t),h.append("receita_id",t)),n&&(h.append("paciente",n),h.append("paciente_id",n)),h.append("assinar","true");const x={email:a,to:a,destinatario:a,paciente_email:a,formato:o,id:t,receita:t,receita_id:t,paciente:n,paciente_id:n,assinar:!0},p=[],j="".trim();j&&p.push(j),t&&(p.push(`${u}${t}/enviar/`),p.push(`${u}${t}/enviar-email/`),p.push(`${u}${t}/enviar_email/`),p.push(`${u}${t}/email/`),p.push(`${u}${t}/send-email/`),p.push(`${u}${t}/send/`)),p.push(`${u}enviar/`),p.push(`${u}enviar-email/`),p.push(`${u}enviar_email/`),p.push(`${u}email/`),p.push(`${u}send-email/`),p.push(`${u}send/`),p.push("/email/receitas/"),p.push("/receitas/email/"),p.push("/email/send/"),p.push("/send-email/"),n&&(p.push(`${m}${n}/receitas/enviar/`),p.push(`${m}${n}/receitas/email/`),p.push(`${m}${n}/receitas/send/`),t&&(p.push(`${m}${n}/receitas/${t}/enviar/`),p.push(`${m}${n}/receitas/${t}/enviar-email/`),p.push(`${m}${n}/receitas/${t}/enviar_email/`),p.push(`${m}${n}/receitas/${t}/email/`),p.push(`${m}${n}/receitas/${t}/send-email/`),p.push(`${m}${n}/receitas/${t}/send/`)));let b=null;for(const E of p){if(!E)continue;const R=E.endsWith("/")?E:`${E}/`,A=T=>{d&&console.debug(`[medicoService.enviarReceita] ${T} ->`,R,{receitaId:t,pacienteId:n,email:a,formato:o})};if(/\/(enviar|email|send(-email)?)\/?$/i.test(R))try{A("GET");const T={email:a,formato:o,id:t,receita:t,receita_id:t,paciente:n,paciente_id:n,assinar:!0},{data:k}=await ue.get(R,{params:T});return k}catch(T){if(b=T,((N=T==null?void 0:T.response)==null?void 0:N.status)===401)throw T}try{A("POST multipart");const{data:T}=await ue.post(R,h);return T}catch(T){const k=(v=T==null?void 0:T.response)==null?void 0:v.status;if(k===401)throw T;k&&[400,422].includes(k),b=T}try{A("POST json");const{data:T}=await ue.post(R,x);return T}catch(T){const k=(w=T==null?void 0:T.response)==null?void 0:w.status;if(k===401)throw T;k&&[400,422].includes(k),b=T}try{A("PUT multipart");const{data:T}=await ue.put(R,h);return T}catch(T){const k=(_=T==null?void 0:T.response)==null?void 0:_.status;if(k===401)throw T;k&&[400,422].includes(k),b=T}try{A("GET fallback");const T={email:a,formato:o,id:t,receita:t,receita_id:t,paciente:n,paciente_id:n,assinar:!0},{data:k}=await ue.get(R,{params:T});return k}catch(T){if(((C=T==null?void 0:T.response)==null?void 0:C.status)===401)throw T;b=T}}throw b||new Error("Falha ao enviar receita: nenhum endpoint compatível encontrado.")},async signDocumento(t,n={}){var p,j,b,N,v;let a;if(t instanceof FormData)a=t;else if(t&&t.name)a=new FormData,a.append("file",t),a.append("documento",t),a.append("pdf",t);else throw new Error("Parâmetro inválido: é esperado FormData ou File PDF.");const o=n.reason||n.motivo,i=n.location||n.local;if(o&&(a.append("reason",o),a.append("motivo",o)),i&&(a.append("location",i),a.append("local",i)),n&&n.pfxFile instanceof File&&(a.append("pfx",n.pfxFile),a.append("certificado",n.pfxFile),a.append("pkcs12",n.pfxFile)),n&&typeof n.pfxPassword=="string"){const w=n.pfxPassword;a.append("pfx_password",w),a.append("senha",w),a.append("password",w)}a.append("no_persist","true"),a.append("ephemeral","true");const c=[],d="".trim();d&&c.push(d);const u="/medicos/",m=u.endsWith("/")?u:`${u}/`;c.push("/api/assinatura/assinar/"),c.push("/assinatura/assinar/"),c.push("/documentos/assinar/"),c.push("/receitas/assinar/"),c.push(`${m}me/assinar/`),c.push(`${m}assinar/`);let h=null;try{h=await this._resolveMedicoId()}catch{}h&&(c.push(`${m}${h}/assinar/`),c.push(`${m}${h}/assinatura/`));let x=null;for(const w of c){if(!w)continue;const _=w.endsWith("/")?w:`${w}/`,C=["post","put"];for(const E of C)try{const R=await ue[E](_,a,{responseType:"blob"}),A=((p=R.headers)==null?void 0:p["content-disposition"])||((b=(j=R.headers)==null?void 0:j.get)==null?void 0:b.call(j,"content-disposition"));let P="documento_assinado.pdf";if(A){const k=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(A);P=decodeURIComponent((k==null?void 0:k[1])||(k==null?void 0:k[2])||P)}const T=new Blob([R.data],{type:((N=R.headers)==null?void 0:N["content-type"])||"application/pdf"});return{filename:P,blob:T}}catch(R){const A=(v=R==null?void 0:R.response)==null?void 0:v.status;if(A===404){x=R;break}if(A===405){x=R;continue}if(A===401||A&&[400,422].includes(A))throw R;x=R;break}}throw x||new Error("Falha ao assinar documento: nenhum endpoint compatível.")},async gerarDocumentoReceita(t={}){var x,p,j,b,N,v,w,_,C;const n="false".toLowerCase()==="true",a="/receitas/".replace(/\/?$/,"/"),o={...t},i={...o},c=String(o.formato||o.format||"pdf").toLowerCase();i.formato=c,!i.medicamentos&&o.medicamento&&(i.medicamentos=o.medicamento),!i.medicamento&&o.medicamentos&&(i.medicamento=o.medicamentos),!i.validade&&o.validade_receita&&(i.validade=o.validade_receita),!i.paciente_id&&o.paciente&&(i.paciente_id=o.paciente),!i.paciente&&o.paciente_id&&(i.paciente=o.paciente_id),!i.consulta_id&&o.consulta&&(i.consulta_id=o.consulta),!i.consulta&&o.consulta_id&&(i.consulta=o.consulta_id);const d=[],u="".trim();u&&d.push(u),d.push(`${a}gerar-documento/`),d.push(`${a}gerar/`),d.push(`${a}pdf/`),d.push(`${a}documento/`);const m=a.replace(/receitas\/?$/i,"receita/");d.push(`${m}gerar-documento/`),d.push(`${m}gerar/`),d.push(`${m}pdf/`),d.push("/api/receitas/gerar-documento/"),d.push("/api/receitas/gerar/"),d.push("/api/receitas/pdf/");let h=null;for(const E of d){if(!E)continue;const R=E.endsWith("/")?E:`${E}/`;try{if(n)try{console.debug("[gerarDocumentoReceita] POST",R,i)}catch{}const A=await ue.post(R,i,{responseType:"blob"}),P=((x=A.headers)==null?void 0:x["content-disposition"])||((j=(p=A.headers)==null?void 0:p.get)==null?void 0:j.call(p,"content-disposition"));let T="Receita.pdf";if(P){const $=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(P);T=decodeURIComponent(($==null?void 0:$[1])||($==null?void 0:$[2])||T)}const k=(A==null?void 0:A.data)instanceof Blob?A.data:new Blob([A.data],{type:((b=A.headers)==null?void 0:b["content-type"])||"application/pdf"});return{filename:T,blob:k}}catch(A){const P=(N=A==null?void 0:A.response)==null?void 0:N.status;if(n)try{console.warn("[gerarDocumentoReceita] POST falhou",R,P,((v=A==null?void 0:A.response)==null?void 0:v.data)||(A==null?void 0:A.message))}catch{}if(P===401)throw A;[404,405].includes(P)||(h=A)}try{if(n)try{console.debug("[gerarDocumentoReceita] GET",R,i)}catch{}const{data:A,headers:P}=await ue.get(R,{params:i,responseType:"blob"}),T=(P==null?void 0:P["content-disposition"])||((w=P==null?void 0:P.get)==null?void 0:w.call(P,"content-disposition"));let k="Receita.pdf";if(T){const M=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(T);k=decodeURIComponent((M==null?void 0:M[1])||(M==null?void 0:M[2])||k)}const $=A instanceof Blob?A:new Blob([A],{type:(P==null?void 0:P["content-type"])||"application/pdf"});return{filename:k,blob:$}}catch(A){const P=(_=A==null?void 0:A.response)==null?void 0:_.status;if(n)try{console.warn("[gerarDocumentoReceita] GET falhou",R,P,((C=A==null?void 0:A.response)==null?void 0:C.data)||(A==null?void 0:A.message))}catch{}if(P===401)throw A;h=A}}throw h||new Error("Falha ao gerar documento da receita: nenhum endpoint compatível.")},async signDocumento(t,n={}){var p,j,b,N,v;let a;if(t instanceof FormData)a=t;else if(t&&t.name)a=new FormData,a.append("file",t),a.append("documento",t),a.append("pdf",t);else throw new Error("Parâmetro inválido: é esperado FormData ou File PDF.");const o=n.reason||n.motivo,i=n.location||n.local;if(o&&(a.append("reason",o),a.append("motivo",o)),i&&(a.append("location",i),a.append("local",i)),n&&n.pfxFile instanceof File&&(a.append("pfx",n.pfxFile),a.append("certificado",n.pfxFile),a.append("pkcs12",n.pfxFile)),n&&typeof n.pfxPassword=="string"){const w=n.pfxPassword;a.append("pfx_password",w),a.append("senha",w),a.append("password",w)}a.append("no_persist","true"),a.append("ephemeral","true");const c=[],d="".trim();d&&c.push(d);const u="/medicos/",m=u.endsWith("/")?u:`${u}/`;c.push("/api/assinatura/assinar/"),c.push("/assinatura/assinar/"),c.push("/documentos/assinar/"),c.push("/receitas/assinar/"),c.push(`${m}me/assinar/`),c.push(`${m}assinar/`);let h=null;try{h=await this._resolveMedicoId()}catch{}h&&(c.push(`${m}${h}/assinar/`),c.push(`${m}${h}/assinatura/`));let x=null;for(const w of c){if(!w)continue;const _=w.endsWith("/")?w:`${w}/`,C=["post","put"];for(const E of C)try{const R=await ue[E](_,a,{responseType:"blob"}),A=((p=R.headers)==null?void 0:p["content-disposition"])||((b=(j=R.headers)==null?void 0:j.get)==null?void 0:b.call(j,"content-disposition"));let P="documento_assinado.pdf";if(A){const k=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(A);P=decodeURIComponent((k==null?void 0:k[1])||(k==null?void 0:k[2])||P)}const T=new Blob([R.data],{type:((N=R.headers)==null?void 0:N["content-type"])||"application/pdf"});return{filename:P,blob:T}}catch(R){const A=(v=R==null?void 0:R.response)==null?void 0:v.status;if(A===404){x=R;break}if(A===405){x=R;continue}if(A===401||A&&[400,422].includes(A))throw R;x=R;break}}throw x||new Error("Falha ao assinar documento: nenhum endpoint compatível.")}};function yA(){var o,i;const{data:t,loading:n}=V0(()=>Qe.getDashboard());if(n)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((c,d)=>e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-20 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-4 bg-muted animate-pulse rounded"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded mb-2"}),e.jsx("div",{className:"h-3 w-24 bg-muted animate-pulse rounded"})]})]},d))})});const a=t||{consultas_hoje:5,pacientes_ativos:127,prontuarios:89,exames_pendentes:9,variacao_consultas:2,novos_pacientes_semana:5,proximas_consultas:[],pacientes_recentes:[]};return Array.isArray(a.proximas_consultas)&&a.proximas_consultas,e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Bem-vindo de volta! Aqui está um resumo das suas atividades."})]}),e.jsxs(ne,{children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Consultas Hoje"}),e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.consultas_hoje}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsxs("span",{className:"text-green-600",children:["+",a.variacao_consultas]})," desde ontem"]})]})]}),e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Pacientes Ativos"}),e.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.pacientes_ativos}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsxs("span",{className:"text-green-600",children:["+",a.novos_pacientes_semana]})," esta semana"]})]})]}),e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Prontuários"}),e.jsx(is,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.prontuarios}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de registros"})]})]}),e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Exames Pendentes"}),e.jsx(yC,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.exames_pendentes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando análise"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Próximas Consultas"}),e.jsx(Ue,{children:"Suas consultas agendadas para hoje"})]}),e.jsx(de,{children:e.jsx("div",{className:"space-y-4",children:((o=a.proximas_consultas)==null?void 0:o.length)>0?a.proximas_consultas.map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:c.paciente_nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.data_hora," - ",c.tipo]})]}),e.jsx(dt,{variant:c.status==="Confirmada"?"default":"secondary",children:c.status})]},d)):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(Ge,{className:"mx-auto h-12 w-12 mb-2 opacity-50"}),e.jsx("p",{children:"Nenhuma consulta agendada para hoje"})]})})})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Pacientes Recentes"}),e.jsx(Ue,{children:"Últimos pacientes atendidos"})]}),e.jsx(de,{children:e.jsx("div",{className:"space-y-4",children:((i=a.pacientes_recentes)==null?void 0:i.length)>0?a.pacientes_recentes.map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:c.nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Última consulta: há ",c.dias_ultima_consulta," dias"]})]}),e.jsx(ne,{variant:"outline",size:"sm",children:"Ver Perfil"})]},d)):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(os,{className:"mx-auto h-12 w-12 mb-2 opacity-50"}),e.jsx("p",{children:"Nenhum paciente recente"})]})})})]})]})]})}function jA(){const[t,n]=g.useState(!0),[a,o]=g.useState([]),[i,c]=g.useState(""),[d,u]=g.useState("todos");g.useEffect(()=>{let h=!0;return(async()=>{var x;try{const p=await Qe.getPerfil(),j=(p==null?void 0:p.id)||((x=p==null?void 0:p.medico)==null?void 0:x.id);if(j){const b=await Qe.getPacientesVinculados(j);h&&o(Array.isArray(b)?b:[])}else h&&o([])}catch{h&&o([])}finally{h&&n(!1)}})(),()=>{h=!1}},[]);const m=a.filter(h=>{var b;const x=(h!=null&&h.user?[h.user.first_name,h.user.last_name].filter(Boolean).join(" ").trim():(h==null?void 0:h.nome)||"").toLowerCase(),p=!i||x.includes(i.toLowerCase()),j=d==="todos"||d===((b=h==null?void 0:h.user)!=null&&b.is_active?"ativo":"inativo");return p&&j});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Meus Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Liste e gerencie seus pacientes ativos"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar pacientes...",className:"pl-10",value:i,onChange:h=>c(h.target.value)})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(lt,{children:[e.jsx(rt,{className:"w-[180px]",children:e.jsx(ct,{placeholder:"Filtrar por status"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"todos",children:"Todos"}),e.jsx(we,{value:"ativo",children:"Ativo"}),e.jsx(we,{value:"inativo",children:"Inativo"})]})]}),e.jsxs(ne,{children:[e.jsx(qs,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsxs(ne,{variant:"outline",children:[e.jsx(Sm,{className:"mr-2 h-4 w-4"}),"Filtrar"]})]})]}),t?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((h,x)=>e.jsx(le,{children:e.jsxs(de,{className:"p-6 space-y-4",children:[e.jsx("div",{className:"h-6 w-40 bg-muted animate-pulse rounded"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"})]})]})},x))}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:m.map(h=>{var j,b;const x=(h==null?void 0:h.id)||((j=h==null?void 0:h.user)==null?void 0:j.id),p=h!=null&&h.user?[h.user.first_name,h.user.last_name].filter(Boolean).join(" ").trim():(h==null?void 0:h.nome)||`Paciente ${x}`;return e.jsx(le,{children:e.jsxs(de,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-xl font-semibold",children:((b=p==null?void 0:p[0])==null?void 0:b.toUpperCase())||"P"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:p}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",x]})]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:(h==null?void 0:h.condicoes_cronicas)&&e.jsx(dt,{variant:"outline",className:"bg-primary/5",children:h.condicoes_cronicas})}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(Xe,{to:`/medico/paciente/${x}/perfil`,children:[e.jsx(Wt,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]})}),e.jsx(ne,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(Xe,{to:`/medico/paciente/${x}/prontuario`,children:[e.jsx(is,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prontuário"})]})}),e.jsx(ne,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(Xe,{to:`/medico/paciente/${x}/iniciar-consulta`,children:[e.jsx(Ge,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Consulta"})]})})]})]})},x)})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Mostrando 6 de 24 pacientes"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),e.jsx(ne,{variant:"outline",size:"sm",className:"bg-primary/5",children:"1"}),e.jsx(ne,{variant:"outline",size:"sm",children:"2"}),e.jsx(ne,{variant:"outline",size:"sm",children:"3"}),e.jsx(ne,{variant:"outline",size:"sm",children:"4"}),e.jsx(ne,{variant:"outline",size:"sm",children:"Próximo"})]})]})]})}function wA(){const[t,n]=g.useState(!0),[a,o]=g.useState(!0),[i,c]=g.useState([]),[d,u]=g.useState([]);g.useEffect(()=>{let p=!0;return(async()=>{var j;try{const b=await Qe.getPerfil(),N=(b==null?void 0:b.id)||((j=b==null?void 0:b.medico)==null?void 0:j.id);if(!N){p&&(c([]),u([]));return}try{const v=await Qe.getConsultasHoje(N);p&&c(Array.isArray(v)?v:(v==null?void 0:v.results)||[])}finally{p&&n(!1)}try{const v=await Qe.getConsultasDoMedico(),w=Array.isArray(v)?v:Array.isArray(v==null?void 0:v.results)?v.results:[];p&&u(w)}finally{p&&o(!1)}}catch{p&&(c([]),u([]),n(!1),o(!1))}})(),()=>{p=!1}},[]);const m=p=>{var b,N;const j=(b=p==null?void 0:p.paciente)==null?void 0:b.user;return j?[j.first_name,j.last_name].filter(Boolean).join(" ").trim():(p==null?void 0:p.paciente_nome)||((N=p==null?void 0:p.paciente)==null?void 0:N.nome)||"Paciente"},h=p=>{try{const j=new Date(p);if(!isNaN(j))return j.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof p=="string"&&/^\d{2}:\d{2}/.test(p))return p.slice(0,5)}catch{}return"--:--"},x=p=>{try{const j=new Date(p);if(!isNaN(j))return j.toLocaleDateString()}catch{}return""};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua agenda de consultas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar consultas...",className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(lt,{children:[e.jsx(rt,{className:"w-[180px]",children:e.jsx(ct,{placeholder:"Filtrar por status"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"todos",children:"Todos"}),e.jsx(we,{value:"confirmado",children:"Confirmado"}),e.jsx(we,{value:"pendente",children:"Pendente"}),e.jsx(we,{value:"cancelado",children:"Cancelado"})]})]}),e.jsx(fe,{type:"date",className:"w-[180px]"}),e.jsxs(ne,{children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]})]}),e.jsxs(pn,{defaultValue:"hoje",children:[e.jsxs(hn,{children:[e.jsx(ft,{value:"hoje",children:"Hoje"}),e.jsx(ft,{value:"amanha",children:"Amanhã"}),e.jsx(ft,{value:"semana",children:"Esta Semana"}),e.jsx(ft,{value:"todas",children:"Todas"})]}),e.jsx(vt,{value:"hoje",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Consultas para hoje, ",new Date().toLocaleDateString()]})}),e.jsx(de,{children:t?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((p,j)=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 w-1/3 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-3 w-1/4 bg-muted animate-pulse rounded"})]}),e.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded"})]},j))}):e.jsx("div",{className:"space-y-4",children:i.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma consulta para hoje."}):i.map(p=>{var N,v,w;const j=p.id,b=((N=p==null?void 0:p.paciente)==null?void 0:N.id)||(p==null?void 0:p.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((w=(v=m(p))==null?void 0:v[0])==null?void 0:w.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:m(p)}),b&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",b]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[h(p==null?void 0:p.data_hora)," ",x(p==null?void 0:p.data_hora)?`(${x(p==null?void 0:p.data_hora)})`:""]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[b&&e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Xe,{to:`/medico/paciente/${b}/perfil`,children:"Perfil"})}),b&&e.jsx(ne,{size:"sm",asChild:!0,children:e.jsx(Xe,{to:`/medico/paciente/${b}/iniciar-consulta`,children:"Atender"})})]})]},j)})})})]})}),e.jsx(vt,{value:"amanha",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Consultas para amanhã, ",new Date(Date.now()+864e5).toLocaleDateString()]})}),e.jsx(de,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(70+p),"M"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",p+5]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100050+p]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${8+p}:00`," - ",`${9+p}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:p%2===0?"Primeira consulta":"Retorno"}),p===1?e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Aguardando confirmação"}):e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Xe,{href:`/medico/paciente/${100050+p}/perfil`,children:"Perfil"})}),e.jsx(ne,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},p))})})]})}),e.jsx(vt,{value:"semana",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Consultas para esta semana"]})}),e.jsx(de,{children:e.jsx("div",{className:"space-y-6",children:[1,2,3].map(p=>e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3",children:new Date(Date.now()+p*2*864e5).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),e.jsx("div",{className:"space-y-4",children:[1,2].map(j=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(64+p+j),"L"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",p*10+j]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100100+p*10+j]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${9+j}:00`," - ",`${10+j}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:j%2===0?"Primeira consulta":"Retorno"}),e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Xe,{href:`/medico/paciente/${100100+p*10+j}/perfil`,children:"Perfil"})}),e.jsx(ne,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},`${p}-${j}`))})]},p))})})]})}),e.jsx(vt,{value:"todas",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Todas as Consultas"]})}),e.jsx(de,{children:a?e.jsx("div",{className:"space-y-4",children:[...Array(4)].map((p,j)=>e.jsx("div",{className:"h-16 w-full bg-muted animate-pulse rounded"},j))}):e.jsx("div",{className:"space-y-4",children:d.map(p=>{var N,v,w;const j=p.id,b=((N=p==null?void 0:p.paciente)==null?void 0:N.id)||(p==null?void 0:p.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((w=(v=m(p))==null?void 0:v[0])==null?void 0:w.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:m(p)}),b&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",b]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:x(p==null?void 0:p.data_hora)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Nt,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:h(p==null?void 0:p.data_hora)})]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[b&&e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Xe,{to:`/medico/paciente/${b}/perfil`,children:"Perfil"})}),e.jsx(ne,{variant:"ghost",size:"sm",children:"Detalhes"})]})]},j)})})})]})})]})]})}function of({patientId:t,isPacienteView:n=!0,profile:a,patient:o,loading:i=!1}){var b;const c=N=>N?VC(N.replace(/_/g," ")):"",d=(a==null?void 0:a.nome)&&a.nome.trim()||[a==null?void 0:a.first_name,a==null?void 0:a.last_name].filter(Boolean).join(" ")||c(a==null?void 0:a.username)||"Usuário",u=((b=d==null?void 0:d.trim())==null?void 0:b.split(" ").filter(Boolean).slice(0,2).map(N=>{var v;return(v=N[0])==null?void 0:v.toUpperCase()}).join(""))||"?",h=(N=>{if(!N)return null;const v=new Date(N);if(Number.isNaN(v.getTime()))return null;const w=Date.now()-v.getTime(),_=new Date(w).getUTCFullYear()-1970;return _>=0?_:null})(a==null?void 0:a.data_nascimento),x=(o==null?void 0:o.tipo_sanguineo)||(a==null?void 0:a.tipo_sanguineo)||"—",p=(o==null?void 0:o.alergias)??(a==null?void 0:a.alergias),j=Array.isArray(p)?alergiesRaw.length?p.join(", "):"—":p||"—";return i?e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(le,{children:e.jsx(de,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(st,{className:"h-16 w-16 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(st,{className:"h-5 w-40"}),e.jsx(st,{className:"h-4 w-24"})]})]})})}),e.jsx(le,{children:e.jsx(de,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(st,{className:"h-12 w-full"}),e.jsx(st,{className:"h-12 w-full"}),e.jsx(st,{className:"h-12 w-full"})]})})})]}):e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(le,{children:e.jsx(de,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(dc,{className:"h-16 w-16",children:[e.jsx(af,{src:a==null?void 0:a.avatar,alt:d}),e.jsx(uc,{className:"bg-muted text-xl font-semibold",children:u})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:d}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n?"Paciente":`ID: ${t||(a==null?void 0:a.id)||"-"}`})]})]})})}),e.jsx(le,{children:e.jsxs(de,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Idade"}),e.jsx("p",{children:h?`${h} anos`:"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:x})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:j})]})]}),!n&&e.jsx("div",{className:"mt-4",children:e.jsx(ne,{size:"sm",asChild:!0,children:e.jsx(Xe,{to:`/medico/paciente/${t||(a==null?void 0:a.id)}/iniciar-consulta`,children:"Iniciar Consulta"})})})]})})]})}function NA(){const{id:t}=jr(),n=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Prontuário",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie as informações do paciente"})]}),e.jsx(of,{patientId:t,isPacienteView:!1}),e.jsx(Ds,{tabs:n,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-5 w-5"}),"Informações Pessoais"]})}),e.jsx(de,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nome"}),e.jsx("p",{children:"João Silva"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Data de Nascimento"}),e.jsx("p",{children:"15/05/1985 (38 anos)"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"CPF"}),e.jsx("p",{children:"123.456.789-00"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsx("p",{children:"(11) 98765-4321"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Endereço"}),e.jsx("p",{children:"Rua das Flores, 123 - São Paulo, SP"})]})]})})})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5"}),"Resumo Médico"]})}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:"O+"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:"Penicilina, Amendoim"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condições Crônicas"}),e.jsx("p",{children:"Hipertensão"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),e.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Histórico de Consultas"]})}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-4",children:[[1,2,3].map(a=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Consulta de Rotina"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-a*30*864e5).toLocaleDateString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dr. Carlos Oliveira"})]}),e.jsx(ne,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(Xe,{to:`/medico/paciente/${t}/consultas`,children:"Ver"})})]},a)),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Xe,{to:`/medico/paciente/${t}/consultas`,children:"Ver Todas"})})]})})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-5 w-5"}),"Exames Recentes"]})}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-4",children:[[1,2,3].map(a=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Hemograma Completo"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-a*7*864e5).toLocaleDateString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitado por: Dr. Ana Souza"})]}),e.jsx(ne,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(Xe,{to:`/medico/paciente/${t}/exames`,children:"Ver"})})]},a)),e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Xe,{to:`/medico/paciente/${t}/exames`,children:"Ver Todos"})})]})})]})]})]})}function bA(){const{id:t}=jr(),n=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Prontuário",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Prontuário do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Histórico médico completo"})]}),e.jsx(of,{patientId:t,isPacienteView:!1}),e.jsx(Ds,{tabs:n,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5"}),"Informações Gerais"]})}),e.jsx(de,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:"O+"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:"Penicilina, Amendoim"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condições Crônicas"}),e.jsx("p",{children:"Hipertensão"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),e.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Histórico de Consultas"]})}),e.jsx(de,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(a=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"font-medium",children:"Dr. Carlos Oliveira"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Cardiologia"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-a*30*864e5).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diagnóstico"}),e.jsx("p",{children:"Hipertensão Arterial Estágio 1"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conduta"}),e.jsx("p",{children:"Manutenção da medicação atual. Recomendação de atividade física regular e redução do consumo de sal."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Exames Solicitados"}),e.jsx("p",{children:"Hemograma completo, Perfil lipídico, Função renal"})]})]},a))})})]})]})]})}function SA({params:t}){const{id:n}=t,a=[{label:"Resumo",href:`/medico/paciente/${n}/perfil`},{label:"Prontuário",href:`/medico/paciente/${n}/prontuario`},{label:"Consultas",href:`/medico/paciente/${n}/consultas`},{label:"Exames",href:`/medico/paciente/${n}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${n}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie exames do paciente"})]}),e.jsx(of,{patientId:n,isPacienteView:!1}),e.jsx(Ds,{tabs:a,basePath:`/medico/paciente/${n}`}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar exames...",className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(lt,{children:[e.jsx(rt,{className:"w-[180px]",children:e.jsx(ct,{placeholder:"Tipo de exame"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"todos",children:"Todos"}),e.jsx(we,{value:"laboratoriais",children:"Laboratoriais"}),e.jsx(we,{value:"imagem",children:"Imagem"}),e.jsx(we,{value:"cardio",children:"Cardiológicos"})]})]}),e.jsxs(ne,{children:[e.jsx(Hs,{className:"mr-2 h-4 w-4"}),"Solicitar Exame"]})]})]}),e.jsxs(pn,{defaultValue:"todos",children:[e.jsxs(hn,{className:"grid w-full grid-cols-4",children:[e.jsx(ft,{value:"todos",children:"Todos"}),e.jsx(ft,{value:"pendentes",children:"Pendentes"}),e.jsx(ft,{value:"realizados",children:"Realizados"}),e.jsx(ft,{value:"solicitados-por-mim",children:"Solicitados por Mim"})]}),e.jsx(vt,{value:"realizados",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-5 w-5"}),"Exames Realizados"]})}),e.jsx(de,{children:e.jsx("div",{className:"space-y-4",children:[3,4,5,6].map(o=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:o%3===0?"Hemograma Completo":o%3===1?"Perfil Lipídico":"Eletrocardiograma"}),e.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:["Solicitado por: ",o%2===0?"Dr. Carlos Oliveira":"Dra. Ana Souza"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Realizado em: ",new Date(Date.now()-o*15*864e5).toLocaleDateString()]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"rounded-full px-2 py-1 text-xs inline-flex bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Realizado"})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx(pr,{className:"mr-2 h-4 w-4"}),"Visualizar Resultado"]}),e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Baixar PDF"]}),e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx(Hs,{className:"mr-2 h-4 w-4"}),"Solicitar Novo"]})]})]},o))})})]})}),e.jsx(vt,{value:"solicitados-por-mim",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-5 w-5"}),"Exames Solicitados por Mim"]})}),e.jsx(de,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:o%2===0?"Hemograma Completo":"Perfil Lipídico"}),e.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:"Solicitado por: Você"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Solicitado em: ",new Date(Date.now()-o*10*864e5).toLocaleDateString()]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"rounded-full px-2 py-1 text-xs inline-flex bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Pendente"})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx(Em,{className:"mr-2 h-4 w-4"}),"Registrar Resultado"]}),e.jsx(ne,{variant:"outline",size:"sm",children:"Reagendar"}),e.jsx(ne,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:"Cancelar"})]})]},o))})})]})})]})]})}const pg={async sumarizarTranscricao(t,n={}){throw new Error("VITE_GEMINI_API_KEY não configurada")}};function CA(){const{id:t}=jr(),n=cs(),a=Ut(),[o,i]=g.useState(!1),{toast:c}=Mt(),[d,u]=g.useState(!1),[m,h]=g.useState({queixa:"",historia:"",medicamentos:"",alergias:"",pressao:"","frequencia-cardiaca":"",temperatura:"",saturacao:"","exame-geral":"","sistema-cardiovascular":"","sistema-respiratorio":"",diagnostico:"",conduta:"",exames:"",retorno:""}),x=B=>{const{id:U,value:J}=B.target;h(ee=>({...ee,[U]:J}))},j=new URLSearchParams(a.search).get("consultaId"),[b,N]=g.useState(""),[v,w]=g.useState(!1),[_,C]=g.useState(""),[E,R]=g.useState("unknown"),A=g.useRef(null),P=g.useRef(-1),[T,k]=g.useState(""),$=g.useRef(!1),M=g.useMemo(()=>`iniciar-consulta:${t}:${j||"sem-consulta"}`,[t,j]),I=g.useRef("");g.useEffect(()=>{I.current=T},[T]);const[z,Y]=g.useState(null),[F,K]=g.useState(!1),[D,H]=g.useState("");g.useEffect(()=>{let B;return(async()=>{try{navigator.permissions&&navigator.permissions.query&&(B=await navigator.permissions.query({name:"microphone"}),R(B.state||"unknown"),B.onchange=()=>R(B.state||"unknown"))}catch{}})(),()=>{B&&(B.onchange=null)}},[]);const q=async()=>{C("");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(U=>U.stop()),R("granted"),!0}catch(B){const U=B&&(B.name||B.message)||"Permissão de microfone negada";return C(typeof U=="string"?U:"Falha ao acessar microfone"),R("denied"),!1}};g.useEffect(()=>{try{const B=localStorage.getItem(M);B&&N(B)}catch{}},[M]),g.useEffect(()=>{let B=!0;return(async()=>{var U;try{const J="/pacientes/".replace(/\/?$/,"/"),{data:ee}=await ue.get(`${J}${t}/`);if(!B)return;Y(ee);const re=(ee==null?void 0:ee.alergias)||"";re&&!m.alergias&&h(he=>({...he,alergias:re}))}catch(J){console.debug("[IniciarConsulta] Falha ao buscar paciente por id:",(U=J==null?void 0:J.response)==null?void 0:U.status)}})(),()=>{B=!1}},[t]),g.useEffect(()=>{try{localStorage.setItem(M,b||"")}catch{}},[M,b]),g.useEffect(()=>(X(),()=>{te()}),[]);const X=async()=>{try{if(!await q()){w(!1),$.current=!1;return}if(A.current){try{A.current.onend=null,A.current.onresult=null,A.current.onerror=null,A.current.stop()}catch{}A.current=null}const B=window.SpeechRecognition||window.webkitSpeechRecognition;if(!B){console.warn("Reconhecimento de fala não suportado neste navegador."),C("Seu navegador não suporta reconhecimento de fala."),w(!1);return}const U=new B;U.lang="pt-BR",U.continuous=!0,U.interimResults=!0,U.maxAlternatives=1,P.current=-1,U.onresult=J=>{let ee="",re="";for(let he=J.resultIndex;he<J.results.length;he++){const ve=J.results[he],be=Array.from(ve,ke=>ke.transcript).join("");ve.isFinal?ee+=be+" ":re+=be}if(ee){const he=ee.trim();N(ve=>{const be=ve?ve.endsWith(" ")?ve:ve+" ":"";return he&&be.endsWith(he)?ve:(be+he).trim()})}k(re)},U.onerror=J=>{const ee=(J==null?void 0:J.error)||J;if(console.warn("Erro no reconhecimento de fala:",ee),typeof ee=="string"&&C(ee),["audio-capture","network"].includes(ee)&&$.current&&A.current===U)try{U.stop()}catch{}ee==="not-allowed"&&(w(!1),$.current=!1)},U.onend=()=>{const J=A.current===U,ee=(I.current||"").trim();ee&&N(re=>{const he=re?re.endsWith(" ")?re:re+" ":"";return he.endsWith(ee)?re:(he+ee).trim()}),k(""),P.current=-1,$.current&&J&&setTimeout(()=>{try{U.start()}catch{}},200)},A.current=U,$.current=!0,w(!0);try{U.start()}catch(J){console.warn("Falha ao iniciar reconhecimento:",J),w(!1),$.current=!1,A.current=null,C("Falha ao iniciar reconhecimento de fala.");return}}catch(B){console.warn("Falha ao iniciar reconhecimento de fala:",B),w(!1),$.current=!1,C("Falha inesperada ao iniciar microfone.")}},te=async()=>{try{w(!1),$.current=!1,k(""),A.current&&(A.current.onend=null,A.current.onresult=null,A.current.onerror=null,A.current.stop(),A.current=null)}catch{}try{if((b||"").trim().length>0&&!d&&j){try{await Qe.finalizarConsulta(j)}catch{}try{const U=O(b||""),J=await Qe.sumarizarConsulta(j,{transcript:b||"",extracted:{queixa:U.queixa||"",historia:U.historia||"",diagnostico:U.diagnostico||"",conduta:U.conduta||"",medicamentos:U.medicamentos||"",posologia:U.posologia||"",pressao:U.pressao||"",frequencia_cardiaca:U["frequencia-cardiaca"]||U.frequencia||"",temperatura:U.temperatura||"",saturacao:U.saturacao||""},form:{queixa_principal:m.queixa||"",historia_doenca_atual:m.historia||"",diagnostico_principal:m.diagnostico||"",conduta:m.conduta||"",medicamentos_uso:m.medicamentos||"",alergias:m.alergias||"",pressao:m.pressao||"",frequencia_cardiaca:m.frequencia||m["frequencia-cardiaca"]||"",temperatura:m.temperatura||"",saturacao:m.saturacao||""}}),ee=[J,J==null?void 0:J.data,J==null?void 0:J.result,J==null?void 0:J.output,J==null?void 0:J.summary,J==null?void 0:J.sumarizacao,J==null?void 0:J.resumo,J==null?void 0:J.fields].filter(Boolean),re=(be,ke)=>ke.split(".").reduce((ze,tt)=>ze&&ze[tt]!=null?ze[tt]:void 0,be),he=be=>{for(const ke of ee)for(const ze of be){const tt=re(ke,ze);if(typeof tt=="string"&&tt.trim())return tt.trim()}return""},ve={queixa:m.queixa||he(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||U.queixa||"",historia:m.historia||he(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||U.historia||"",medicamentos:m.medicamentos||he(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||U.medicamentos||"",alergias:m.alergias||he(["alergias","anamnese.alergias","allergies"])||"",diagnostico:m.diagnostico||he(["diagnostico_principal","diagnostico","diagnosis","assessment"])||U.diagnostico||"",conduta:m.conduta||he(["conduta","plano","plan","plan_terapeutico"])||U.conduta||"",posologia:m.posologia||he(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||U.posologia||"",pressao:m.pressao||he(["pressao","sinais_vitais.pressao"])||U.pressao||"","frequencia-cardiaca":m["frequencia-cardiaca"]||m.frequencia||he(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca","fc","heart_rate"])||U["frequencia-cardiaca"]||U.frequencia||"",temperatura:m.temperatura||he(["temperatura","sinais_vitais.temperatura"])||U.temperatura||"",saturacao:m.saturacao||he(["saturacao","sinais_vitais.saturacao","spo2"])||U.saturacao||""};h(be=>({...be,...ve})),u(!0),c({title:"Resumo aplicado",description:"Pré-preenchimento realizado a partir da transcrição."})}catch(U){console.debug("[auto-sumarizar] falhou:",U==null?void 0:U.message)}}}catch{}};function O(B=""){var ss;const U=B.replace(/\r/g,"").trim(),J=_t=>{const Yt=new RegExp(`(?:^|
)s*(?:${_t.join("|")})s*[:：]s*([sS]*?)(?=
s*(?:Queixa|História|Historia|Exame|Diagn[oó]stico|Conduta|Prescri|Rx|Receita)s*[:：]|$)`,"i"),Ce=U.match(Yt);return Ce?Ce[1].trim():""},ee=J(["Queixa","Queixa Principal"])||((ss=U.split(/\n\n|\n-/)[0])==null?void 0:ss.slice(0,300))||"",re=J(["História","Historia","HDA","História da Doença Atual"])||"",he=J(["Diagnóstico","Diagnostico"])||"",ve=J(["Conduta","Plano","Plano Terapêutico"])||"",be=J(["Prescrição","Prescricao","Receita","Rx"])||"";let ke="",ze="";if(be){const _t=be.split(/\n+/).map(Yt=>Yt.trim()).filter(Boolean);_t.length===1?(ke=_t[0],ze="Conforme descrito na prescrição."):_t.length>1&&(ke=_t[0],ze=_t.slice(1).join(" "))}if(!ke&&ve){const _t=(ve.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[aá]psul|gotas).*/i)||[""])[0];_t&&(ke=_t.trim(),ze="Conforme conduta descrita.")}const tt=(U.match(/(PA|press[aã]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",Ze=(U.match(/(FC|freq[uê]ncia\s*card[ií]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",et=(U.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:°?c|celsius)?/i)||["","","",""])[3]||"",Ct=(U.match(/(sat|satura[cç][aã]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:ee,historia:re,diagnostico:he,conduta:ve,medicamentos:ke,posologia:ze,pressao:tt,"frequencia-cardiaca":Ze,temperatura:et,saturacao:Ct}}const V=async()=>{const B=(D||"").trim();if(!B){K(!1);return}const U=(m.alergias||"").trim(),J=U?`${U}
${B}`:B;h(ee=>({...ee,alergias:J}));try{z!=null&&z.id&&(Qe!=null&&Qe.atualizarPacienteById)&&(await Qe.atualizarPacienteById(z.id,{alergias:J}),c({title:"Alergia adicionada",description:"Atualizamos o cadastro do paciente."}))}catch(ee){console.debug("Falha ao atualizar alergias do paciente:",ee==null?void 0:ee.message),c({title:"Não foi possível salvar no cadastro",description:"A alergia foi adicionada ao formulário apenas.",variant:"destructive"})}finally{H(""),K(!1)}},Z=async B=>{var J;B.preventDefault(),i(!0);try{te()}catch{}const U=O(b||"");try{let ee=null;if(!d)if(j){try{await Qe.finalizarConsulta(j)}catch{}let Ce=null;try{Ce=await Qe.sumarizarConsulta(j,{transcript:b||"",extracted:{queixa:U.queixa||"",historia:U.historia||"",diagnostico:U.diagnostico||"",conduta:U.conduta||"",medicamentos:U.medicamentos||"",posologia:U.posologia||""},form:{queixa_principal:m.queixa||"",historia_doenca_atual:m.historia||"",diagnostico_principal:m.diagnostico||"",conduta:m.conduta||"",medicamentos_uso:m.medicamentos||"",alergias:m.alergias||""}})}catch(_e){console.warn("Falha ao enviar dados para sumarização:",_e)}if(!Ce)try{Ce=await pg.sumarizarTranscricao(b||"",{queixa:U.queixa||"",historia_doenca_atual:U.historia||"",diagnostico_principal:U.diagnostico||"",conduta:U.conduta||"",medicamentos:U.medicamentos||"",posologia:U.posologia||"",alergias:m.alergias||""})}catch(_e){console.debug("[AI] Gemini indisponível:",_e==null?void 0:_e.message)}const ys=[Ce,Ce==null?void 0:Ce.data,Ce==null?void 0:Ce.result,Ce==null?void 0:Ce.output,Ce==null?void 0:Ce.summary,Ce==null?void 0:Ce.sumarizacao,Ce==null?void 0:Ce.resumo,Ce==null?void 0:Ce.fields].filter(Boolean),Js=(_e,Se)=>{try{return Se.split(".").reduce(($e,Ye)=>$e&&$e[Ye]!==void 0?$e[Ye]:void 0,_e)}catch{return}},ht=_e=>{for(const Se of ys)for(const $e of _e){const Ye=Js(Se,$e);if(Ye!=null){const De=String(Ye).trim();if(De)return De}}return""},Qs={queixa:m.queixa||ht(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||U.queixa||"",historia:m.historia||ht(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||U.historia||"",medicamentos:m.medicamentos||ht(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||U.medicamentos||"",alergias:m.alergias||ht(["alergias","anamnese.alergias","allergies"])||"",diagnostico:m.diagnostico||ht(["diagnostico_principal","diagnostico","diagnosis","assessment"])||U.diagnostico||"",conduta:m.conduta||ht(["conduta","plano","plan","plan_terapeutico"])||U.conduta||"",posologia:m.posologia||ht(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||U.posologia||"",pressao:m.pressao||ht(["pressao","sinais_vitais.pressao"])||U.pressao||"","frequencia-cardiaca":m["frequencia-cardiaca"]||ht(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca"])||U["frequencia-cardiaca"]||"",temperatura:m.temperatura||ht(["temperatura","sinais_vitais.temperatura"])||U.temperatura||"",saturacao:m.saturacao||ht(["saturacao","sinais_vitais.saturacao"])||U.saturacao||""};ee=Qs,h(_e=>({..._e,...Qs})),u(!0),c({title:"Resumo aplicado",description:"Campos preenchidos com a sugestão da IA. Salvando prontuário..."})}else try{const Ce=await pg.sumarizarTranscricao(b||"",{queixa_principal:U.queixa||m.queixa||"",historia_doenca_atual:U.historia||m.historia||"",diagnostico_principal:U.diagnostico||m.diagnostico||"",conduta:U.conduta||m.conduta||"",medicamentos:U.medicamentos||m.medicamentos||"",posologia:U.posologia||m.posologia||"",alergias:m.alergias||""}),ys=[Ce,Ce==null?void 0:Ce.data,Ce==null?void 0:Ce.result,Ce==null?void 0:Ce.output,Ce==null?void 0:Ce.summary,Ce==null?void 0:Ce.sumarizacao,Ce==null?void 0:Ce.resumo,Ce==null?void 0:Ce.fields].filter(Boolean),Js=(_e,Se)=>{try{return Se.split(".").reduce(($e,Ye)=>$e&&$e[Ye]!==void 0?$e[Ye]:void 0,_e)}catch{return}},ht=_e=>{for(const Se of ys)for(const $e of _e){const Ye=Js(Se,$e);if(Ye!=null){const De=String(Ye).trim();if(De)return De}}return""},Qs={queixa:m.queixa||ht(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||U.queixa||"",historia:m.historia||ht(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||U.historia||"",medicamentos:m.medicamentos||ht(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||U.medicamentos||"",alergias:m.alergias||ht(["alergias","anamnese.alergias","allergies"])||"",diagnostico:m.diagnostico||ht(["diagnostico_principal","diagnostico","diagnosis","assessment"])||U.diagnostico||"",conduta:m.conduta||ht(["conduta","plano","plan","plan_terapeutico"])||U.conduta||"",posologia:m.posologia||ht(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||U.posologia||""};ee=Qs,h(_e=>({..._e,...Qs})),u(!0),c({title:"Campos sugeridos",description:"Usamos a transcrição e a IA para preencher. Salvando prontuário..."})}catch{const ys={queixa:m.queixa||U.queixa||"",historia:m.historia||U.historia||"",diagnostico:m.diagnostico||U.diagnostico||"",conduta:m.conduta||U.conduta||"",medicamentos:m.medicamentos||U.medicamentos||"",posologia:m.posologia||U.posologia||""};ee=ys,h(Js=>({...Js,...ys})),u(!0),c({title:"Campos sugeridos",description:"Usamos a transcrição para preencher. Salvando prontuário..."})}const re=ee?{...m,...ee}:m,he={consulta_id:j,queixa_principal:(re.queixa||U.queixa||"").trim(),historia_doenca_atual:(re.historia||U.historia||"").trim(),diagnostico_principal:(re.diagnostico||U.diagnostico||"").trim(),conduta:(re.conduta||U.conduta||"").trim()};(re.medicamentos||U.medicamentos)&&(he.medicamentos_uso=(re.medicamentos||U.medicamentos).trim()),re.alergias&&(he.alergias=re.alergias),re.exames&&(he.exames_solicitados=re.exames),re.retorno&&(he.data_retorno=re.retorno);let ve=null;if(j)try{const Ce=await Qe.criarProntuario(he);ve=(Ce==null?void 0:Ce.id)||((J=Ce==null?void 0:Ce.data)==null?void 0:J.id)}catch(Ce){console.warn("Falha ao criar prontuário:",Ce)}const be=new Date,ke=new Date(be.getFullYear(),be.getMonth(),be.getDate()+7),ze=Ce=>String(Ce).padStart(2,"0"),tt=`${ke.getFullYear()}-${ze(ke.getMonth()+1)}-${ze(ke.getDate())}`,Ze=re.medicamentos||U.medicamentos||"",et=re.posologia||U.posologia||"",Ct=re.diagnostico||U.diagnostico||"",ss=re.conduta||U.conduta||"",_t=re.queixa||U.queixa||"",Yt=re.historia||U.historia||"";if(j&&(Ze||et))try{await Qe.criarReceita({consulta_id:j,paciente:t,paciente_id:t,medicamentos:Ze,posologia:et,validade:tt,observacoes:"Receita gerada automaticamente a partir do resumo da consulta."})}catch(Ce){console.warn("Falha ao criar receita automática:",Ce)}try{localStorage.removeItem(M)}catch{}n(`/medico/paciente/${t}/consulta/resumo`,{state:{resumo:{medicamentos:Ze,posologia:et,validade:tt,diagnostico:Ct,conduta:ss,queixa:_t,historia:Yt},consultaId:j,prontuarioId:ve}})}catch(ee){console.error("Erro ao salvar prontuário/consulta:",ee);const re=new Date,he=new Date(re.getFullYear(),re.getMonth(),re.getDate()+7),ve=ss=>String(ss).padStart(2,"0"),be=`${he.getFullYear()}-${ve(he.getMonth()+1)}-${ve(he.getDate())}`,ke=m.medicamentos||U.medicamentos||"",ze=m.posologia||U.posologia||"",tt=m.diagnostico||U.diagnostico||"",Ze=m.conduta||U.conduta||"",et=m.queixa||U.queixa||"",Ct=m.historia||U.historia||"";n(`/medico/paciente/${t}/consulta/resumo`,{state:{resumo:{medicamentos:ke,posologia:ze,validade:be,diagnostico:tt,conduta:Ze,queixa:et,historia:Ct},consultaId:j}})}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nova Consulta"}),e.jsxs("p",{className:"text-muted-foreground",children:["Paciente ID: ",t,j?` • Consulta #${j}`:""]})]}),e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0",children:[e.jsxs("div",{children:[e.jsx(pe,{children:"Transcrição de Áudio (tempo real)"}),e.jsx(Ue,{children:"Fale normalmente; o texto aparecerá abaixo e pode ser editado."}),_&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Microfone: ",_]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`flex items-center gap-1 text-sm ${v?"text-green-600":"text-muted-foreground"}`,children:[e.jsx(SC,{className:`h-4 w-4 ${v?"animate-pulse":""}`}),v?"Ouvindo":"Pausado"]}),v?e.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:te,children:[e.jsx(DC,{className:"h-4 w-4 mr-2"})," Pausar"]}):e.jsxs(ne,{type:"button",variant:"default",size:"sm",onClick:X,children:[e.jsx(OC,{className:"h-4 w-4 mr-2"})," Retomar"]}),e.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:q,children:"Testar microfone"}),e.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>{te(),setTimeout(()=>X(),250)},children:"Resetar microfone"})]})]}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"transcript",children:"Resumo em tempo real"}),e.jsx(nt,{id:"transcript",placeholder:"O que você ditar será transcrito aqui. Você pode editar livremente.",className:"min-h-[160px]",value:b,onChange:B=>N(B.target.value)}),T&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1","aria-live":"polite",children:["Ditando: ",T]})]})})]}),e.jsxs("form",{onSubmit:Z,children:[e.jsxs(pn,{defaultValue:"anamnese",className:"space-y-4",children:[e.jsxs(hn,{children:[e.jsxs(ft,{value:"anamnese",className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4"}),"Anamnese"]}),e.jsxs(ft,{value:"exame-fisico",className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-4 w-4"}),"Exame Físico"]}),e.jsxs(ft,{value:"diagnostico",className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),"Diagnóstico"]})]}),e.jsx(vt,{value:"anamnese",children:e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Anamnese"}),e.jsx(Ue,{children:"Registre a queixa principal e o histórico do paciente"})]}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"queixa",children:"Queixa Principal"}),e.jsx(nt,{id:"queixa",placeholder:"Descreva a queixa principal do paciente",className:"min-h-[100px]",value:m.queixa,onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"historia",children:"História da Doença Atual"}),e.jsx(nt,{id:"historia",placeholder:"Descreva a história da doença atual",className:"min-h-[150px]",value:m.historia,onChange:x})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"medicamentos",children:"Medicamentos em Uso"}),e.jsx(nt,{id:"medicamentos",placeholder:"Liste os medicamentos em uso",className:"min-h-[100px]",value:m.medicamentos,onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"alergias",children:"Alergias"}),e.jsx(nt,{id:"alergias",placeholder:"Liste as alergias conhecidas",className:"min-h-[100px]",value:m.alergias,onChange:x}),e.jsx("div",{className:"mt-2",children:e.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>K(!0),children:"Adicionar alergia"})})]})]})]})]})}),e.jsx(vt,{value:"exame-fisico",children:e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Exame Físico"}),e.jsx(Ue,{children:"Registre os dados do exame físico do paciente"})]}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"pressao",children:"Pressão Arterial"}),e.jsx(fe,{id:"pressao",placeholder:"Ex: 120/80 mmHg",value:m.pressao,onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"frequencia-cardiaca",children:"Freq. Cardíaca"}),e.jsx(fe,{id:"frequencia-cardiaca",placeholder:"Ex: 75 bpm",value:m["frequencia-cardiaca"],onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"temperatura",children:"Temperatura"}),e.jsx(fe,{id:"temperatura",placeholder:"Ex: 36.5 °C",value:m.temperatura,onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"saturacao",children:"Saturação O2"}),e.jsx(fe,{id:"saturacao",placeholder:"Ex: 98%",value:m.saturacao,onChange:x})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"exame-geral",children:"Exame Geral"}),e.jsx(nt,{id:"exame-geral",placeholder:"Descreva o estado geral do paciente",className:"min-h-[100px]",value:m["exame-geral"],onChange:x})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"sistema-cardiovascular",children:"Sistema Cardiovascular"}),e.jsx(nt,{id:"sistema-cardiovascular",placeholder:"Descreva os achados cardiovasculares",className:"min-h-[100px]",value:m["sistema-cardiovascular"],onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"sistema-respiratorio",children:"Sistema Respiratório"}),e.jsx(nt,{id:"sistema-respiratorio",placeholder:"Descreva os achados respiratórios",className:"min-h-[100px]",value:m["sistema-respiratorio"],onChange:x})]})]})]})]})}),e.jsx(vt,{value:"diagnostico",children:e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Diagnóstico e Conduta"}),e.jsx(Ue,{children:"Registre o diagnóstico e plano terapêutico"})]}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"diagnostico",children:"Diagnóstico"}),e.jsx(nt,{id:"diagnostico",placeholder:"Descreva o diagnóstico principal e diferenciais",className:"min-h-[100px]",value:m.diagnostico,onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"conduta",children:"Conduta"}),e.jsx(nt,{id:"conduta",placeholder:"Descreva a conduta terapêutica",className:"min-h-[150px]",value:m.conduta,onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"exames",children:"Exames Solicitados"}),e.jsx(nt,{id:"exames",placeholder:"Liste os exames solicitados",className:"min-h-[100px]",value:m.exames,onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"retorno",children:"Retorno"}),e.jsx(fe,{id:"retorno",type:"date",className:"max-w-xs",value:m.retorno,onChange:x})]})]})]})})]}),e.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-10 border-t bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx(ne,{type:"button",variant:"outline",onClick:()=>n(-1),children:"Cancelar"}),e.jsx(ne,{type:"submit",disabled:o,children:o?e.jsx(e.Fragment,{children:"Salvando..."}):e.jsxs(e.Fragment,{children:[e.jsx(pv,{className:"mr-2 h-4 w-4"}),d?"Salvar Prontuário":"Finalizar e Preencher com IA"]})})]})})]}),e.jsx(Wo,{open:F,onOpenChange:K,children:e.jsxs(Pr,{children:[e.jsxs(Ar,{children:[e.jsx(Mr,{children:"Adicionar alergia"}),e.jsx(hc,{children:"Informe a alergia para adicionar ao prontuário (e ao cadastro do paciente)."})]}),e.jsxs("div",{className:"space-y-2 py-2",children:[e.jsx(ce,{htmlFor:"nova-alergia",children:"Alergia"}),e.jsx(fe,{id:"nova-alergia",placeholder:"Ex.: Dipirona",value:D,onChange:B=>H(B.target.value)})]}),e.jsxs(Tr,{children:[e.jsx(ne,{type:"button",variant:"outline",onClick:()=>{K(!1),H("")},children:"Cancelar"}),e.jsx(ne,{type:"button",onClick:V,children:"Salvar"})]})]})})]})}function H0(){const t=new Date,n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${t.getFullYear()}-${n}-${a}`}function _A(t){if(!t)return"";const n=String(t).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(n){const[,a,o,i]=n;return`${i}/${o}/${a}`}try{return new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return t}}function EA(t){return(t===H0()?Qe.getConsultasHoje():Qe.getConsultasDoMedico({date:t})).then(o=>{const c=(d=>Array.isArray(d)?d:!d||typeof d!="object"?[]:Array.isArray(d.results)?d.results:Array.isArray(d.data)?d.data:Array.isArray(d.items)?d.items:Array.isArray(d.consultas)?d.consultas:Array.isArray(d.content)?d.content:Array.isArray(d.objects)?d.objects:[])(o);return Array.isArray(c)?c.map(d=>{var b,N,v,w,_;const u=((b=d==null?void 0:d.paciente)==null?void 0:b.user)||{},m=[u.first_name,u.last_name].filter(Boolean).join(" ")||((N=d==null?void 0:d.paciente)==null?void 0:N.nome)||(d==null?void 0:d.paciente_nome)||(d==null?void 0:d.nome_paciente)||"Paciente";let h="";const x=(d==null?void 0:d.data_hora)||(d==null?void 0:d.horario)||(d==null?void 0:d.inicio)||(d==null?void 0:d.start_time)||(d==null?void 0:d.data)||(d==null?void 0:d.inicio_previsto);if(x)try{const C=new Date(x);if(!isNaN(C.getTime()))h=C.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});else throw new Error("invalid date")}catch{const C=String(x).match(/\b(\d{2}:\d{2})\b/);h=C?C[1]:""}const p=String((d==null?void 0:d.status)||(d==null?void 0:d.situacao)||"").toLowerCase();let j="pendente";return p.includes("andamento")?j="em_andamento":p.includes("finaliz")||p.includes("conclu")||p.includes("cancel")||p.includes("faltou")?j="finalizado":j="pendente",{id:d.id||d.consulta_id||d.uuid,paciente:{id:((v=d==null?void 0:d.paciente)==null?void 0:v.id)||(d==null?void 0:d.paciente_id),nome:m.trim(),avatarUrl:((w=d==null?void 0:d.paciente)==null?void 0:w.avatar_url)||((_=d==null?void 0:d.paciente)==null?void 0:_.foto)||(d==null?void 0:d.paciente_avatar)||null},hora:h,status:j}}):[]})}function RA({status:t}){const n={pendente:"bg-amber-100 text-amber-700",em_andamento:"bg-emerald-100 text-emerald-700",finalizado:"bg-gray-100 text-gray-600"},a={pendente:"Pendente",em_andamento:"Em Andamento",finalizado:"Finalizado"};return e.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${n[t]}`,children:a[t]})}function kA({url:t,name:n}){return t?e.jsx("img",{src:t,alt:`Avatar de ${n}`,className:"h-14 w-14 rounded-full object-cover"}):e.jsxs("svg",{className:"h-14 w-14 rounded-full bg-gray-100 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":!0,children:[e.jsx("circle",{cx:"12",cy:"8",r:"4"}),e.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]})}function PA(){return e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"})]})}function AA({onRetry:t}){return e.jsxs("div",{className:"mt-10 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:["Ocorreu um erro ao carregar as consultas.",e.jsx("button",{className:"ml-3 rounded-md bg-red-600 px-3 py-1 text-white",onClick:t,children:"Tentar novamente"})]})}function TA(){return e.jsx("div",{className:"mt-12 rounded-2xl border bg-white p-10 text-center text-gray-500",children:"Nenhuma consulta encontrada para este dia."})}function MA({children:t,...n}){return e.jsx("button",{...n,className:"rounded-lg bg-blue-600 px-4 py-2 text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-200",children:t})}function hg({children:t,...n}){return e.jsx("button",{...n,className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 shadow-sm transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:t})}function DA({consulta:t,onIniciar:n}){const a=g.useMemo(()=>{if(!t.hora)return"";try{const[i,c]=String(t.hora).split(":"),d=new Date;return d.setHours(Number(i),Number(c),0,0),d.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return t.hora}},[t.hora]),o=()=>t.status==="pendente"?e.jsx(MA,{onClick:()=>n(t),"aria-label":`Iniciar consulta de ${t.paciente.nome} às ${t.hora}`,children:"Iniciar Consulta"}):t.status==="em_andamento"?e.jsx(hg,{disabled:!0,children:"Em Andamento"}):e.jsx(hg,{disabled:!0,children:"Finalizado"});return e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-white p-5 shadow-md transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(kA,{url:t.paciente.avatarUrl,name:t.paciente.nome}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.paciente.nome}),e.jsx("div",{className:"mt-1 text-sm text-gray-500",children:a})]})]}),e.jsxs("div",{className:"flex flex-col items-stretch gap-3 md:flex-row md:items-center",children:[e.jsx(RA,{status:t.status}),o()]})]})}function OA(){const t=cs(),[n,a]=g.useState(H0()),[o,i]=g.useState("todos"),[c,d]=g.useState(!0),[u,m]=g.useState(null),[h,x]=g.useState([]),p=async()=>{d(!0),m(null);try{const v=await EA(n);x(v)}catch(v){m(v)}finally{d(!1)}};g.useEffect(()=>{p()},[n]);const j=async v=>{var w;try{v!=null&&v.id&&await Qe.iniciarConsulta(v.id)}catch(_){console.error("Falha ao iniciar consulta no backend:",_)}finally{try{const _=v==null?void 0:v.id,C=(w=v==null?void 0:v.paciente)==null?void 0:w.id,E=_?`/medico/paciente/${C}/iniciar-consulta?consultaId=${_}`:`/medico/paciente/${C}/iniciar-consulta`;t(E)}catch{console.log("Iniciar consulta (fallback navegação)",v==null?void 0:v.id)}}},b=_A(n),N=h.filter(v=>o==="todos"?!0:v.status===o);return e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-blue-50 p-2 text-blue-600",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas de Hoje"}),e.jsx("span",{className:"text-sm text-gray-500",children:b})]}),e.jsx("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:e.jsxs("div",{className:"flex w-full gap-3 md:w-auto",children:[e.jsxs("div",{className:"relative w-full md:w-60",children:[e.jsxs("select",{value:o,onChange:v=>i(v.target.value),className:"w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[e.jsx("option",{value:"todos",children:"Filtrar por status"}),e.jsx("option",{value:"pendente",children:"Pendentes"}),e.jsx("option",{value:"em_andamento",children:"Em Andamento"}),e.jsx("option",{value:"finalizado",children:"Finalizadas"})]}),e.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.25 4.417a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),e.jsx("input",{type:"date",value:n,onChange:v=>a(v.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:w-auto"})]})}),c&&e.jsx(PA,{}),!c&&u&&e.jsx(AA,{onRetry:p}),!c&&!u&&N.length===0&&e.jsx(TA,{}),!c&&!u&&N.length>0&&e.jsx("div",{className:"mt-6 space-y-4",children:N.map(v=>e.jsx(DA,{consulta:v,onIniciar:j},v.id))})]})}function LA(){var k,$;const{id:t}=jr(),n=Ut(),{toast:a}=Mt(),o=((k=n.state)==null?void 0:k.fromConsulta)||{},i=(($=n.state)==null?void 0:$.consultaId)||o.consultaId,c=M=>{if(!M)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(M))return M;const I=new Date(M);if(!isNaN(I)){const Y=I.getFullYear(),F=String(I.getMonth()+1).padStart(2,"0"),K=String(I.getDate()).padStart(2,"0");return`${Y}-${F}-${K}`}const z=String(M).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return z?`${z[3]}-${z[2]}-${z[1]}`:""},d=g.useMemo(()=>new Date().toLocaleDateString(),[]),[u,m]=g.useState({nome_paciente:"",idade:"",rg:"",data_nascimento:"",medicamento:o.medicamentos||"",posologia:o.posologia||"",validade_receita:o.validade||"",medico:"",crm:"",endereco_consultorio:"",telefone_consultorio:"",observacoes:"",formato:"pdf",acao:"imprimir",email_paciente:""}),[h,x]=g.useState(!1),[p,j]=g.useState(!0),[b,N]=g.useState(!1),[v,w]=g.useState(null),[_,C]=g.useState("");g.useEffect(()=>{let M=!0;async function I(){j(!0);try{try{const z=await Qe.getPerfil(),Y=z!=null&&z.user?`${z.user.first_name||""} ${z.user.last_name||""}`.trim():(z==null?void 0:z.nome)||"Médico",F=(z==null?void 0:z.crm)||"";M&&m(K=>({...K,medico:Y||K.medico,crm:F||K.crm,endereco_consultorio:(z==null?void 0:z.endereco)||K.endereco_consultorio||"",telefone_consultorio:(z==null?void 0:z.telefone)||K.telefone_consultorio||""}))}catch{}try{const z="/pacientes/".replace(/\/?$/,"/"),{data:Y}=await ue.get(`${z}${t}/`),F=(Y==null?void 0:Y.user)||{},K=[F.first_name,F.last_name].filter(Boolean).join(" ")||(Y==null?void 0:Y.nome)||"",D=c((Y==null?void 0:Y.data_nascimento)||(Y==null?void 0:Y.nascimento)||""),H=(Y==null?void 0:Y.rg)||(Y==null?void 0:Y.documento)||"",q=(F==null?void 0:F.email)||(Y==null?void 0:Y.email)||"";let X="";if(D){const te=new Date(D);if(!isNaN(te)){const O=new Date;let V=O.getFullYear()-te.getFullYear();const Z=O.getMonth()-te.getMonth();(Z<0||Z===0&&O.getDate()<te.getDate())&&V--,X=String(V)}}M&&m(te=>({...te,nome_paciente:K||te.nome_paciente,data_nascimento:D||te.data_nascimento,rg:te.rg||H,idade:te.idade||X,email_paciente:te.email_paciente||q}))}catch{}}finally{M&&j(!1)}}return I(),()=>{M=!1}},[t]);const E=M=>{const{name:I,value:z}=M.target;m(Y=>({...Y,[I]:z}))},R=()=>{x(!0),a({title:"Receita validada",description:"Os dados foram conferidos. Você pode gerar o documento."})},A=(M,I="Receita_Medica")=>{const z=URL.createObjectURL(M),Y=document.createElement("a");Y.href=z;const F=/\.[a-z0-9]+$/i.test(I);Y.download=F?I:`${I}.pdf`,document.body.appendChild(Y),Y.click(),Y.remove(),setTimeout(()=>URL.revokeObjectURL(z),2e3)},P=async()=>{var M,I,z,Y,F,K;N(!0);try{const D={nome_paciente:u.nome_paciente,idade:u.idade,rg:u.rg,data_nascimento:c(u.data_nascimento),medicamento:u.medicamento,medicamentos:u.medicamento,posologia:u.posologia,medico:u.medico,crm:u.crm,endereco_consultorio:u.endereco_consultorio,telefone_consultorio:u.telefone_consultorio,validade_receita:c(u.validade_receita),observacoes:u.observacoes,formato:u.formato,paciente:t,paciente_id:t,consulta:i||void 0,consulta_id:i||void 0},H=await Qe.gerarDocumentoReceita(D),q=H==null?void 0:H.blob,X=(H==null?void 0:H.filename)||`Receita_${u.nome_paciente||"Medica"}.pdf`;if(!(q instanceof Blob))throw new Error("Resposta inválida do servidor ao gerar PDF.");let te=q,O=X;if(String(u.formato).toLowerCase()==="pdf"&&!!v)try{const Z=new File([q],O,{type:"application/pdf"}),B={reason:"Receita Médica",location:u.endereco_consultorio||void 0,pfxFile:v||void 0,pfxPassword:_??""},U=await Qe.signDocumento(Z,B);(U==null?void 0:U.blob)instanceof Blob&&(te=U.blob,U.filename&&(O=U.filename))}catch(Z){const B=(M=Z==null?void 0:Z.response)==null?void 0:M.status,U=((z=(I=Z==null?void 0:Z.response)==null?void 0:I.data)==null?void 0:z.detail)||(Z==null?void 0:Z.message)||"Falha ao assinar o PDF da receita. Continuaremos sem assinatura.";console.warn("[PreviewReceita] Falha ao assinar PDF:",B,U),a({title:"Assinatura falhou",description:`${U}${B?` [HTTP ${B}]`:""}`,variant:"destructive"})}if(u.acao==="imprimir")try{const V=URL.createObjectURL(te);if(!window.open(V))throw new Error("Popup bloqueado pelo navegador");setTimeout(()=>URL.revokeObjectURL(V),2e3)}catch{A(te,O)}else A(te,O);a({title:"Documento gerado",description:te===q?"Gerado sem assinatura.":"Gerado e assinado com sucesso."})}catch(D){const H=(Y=D==null?void 0:D.response)==null?void 0:Y.status,q=((K=(F=D==null?void 0:D.response)==null?void 0:F.data)==null?void 0:K.detail)||(D==null?void 0:D.message)||"Falha ao gerar documento";a({title:"Erro",description:`${q}${H?` [HTTP ${H}]`:""}`,variant:"destructive"})}finally{N(!1)}};async function T(){var M,I,z,Y,F,K;N(!0);try{const D={paciente:t,paciente_id:t,consulta:i||void 0,consulta_id:i||void 0,medicamento:u.medicamento||u.medicamentos,medicamentos:u.medicamentos,posologia:u.posologia,validade_receita:c(u.validade_receita),observacoes:u.observacoes},H=await Qe.criarReceita(D),q=(H==null?void 0:H.id)||(H==null?void 0:H.pk)||(H==null?void 0:H.uuid),X={nome_paciente:u.nome_paciente,idade:u.idade,rg:u.rg,data_nascimento:c(u.data_nascimento),medicamento:u.medicamento,medicamentos:u.medicamento,posologia:u.posologia,medico:u.medico,crm:u.crm,endereco_consultorio:u.endereco_consultorio,telefone_consultorio:u.telefone_consultorio,validade_receita:c(u.validade_receita),observacoes:u.observacoes,formato:"pdf",paciente:t,paciente_id:t,consulta:i||void 0,consulta_id:i||void 0},te=await Qe.gerarDocumentoReceita(X),O=te==null?void 0:te.blob,V=(te==null?void 0:te.filename)||`Receita_${u.nome_paciente||"Medica"}.pdf`;if(!(O instanceof Blob))throw new Error("Resposta inválida do servidor ao gerar PDF.");const Z=new File([O],V,{type:"application/pdf"});let B=null;if(!!v){try{B=await Qe.signDocumento(Z,{reason:"Receita Médica",location:u.endereco_consultorio||void 0,pfxFile:v||void 0,pfxPassword:_??""})}catch(re){const he=(M=re==null?void 0:re.response)==null?void 0:M.status,ve=((z=(I=re==null?void 0:re.response)==null?void 0:I.data)==null?void 0:z.detail)||(re==null?void 0:re.message)||"Falha ao assinar o PDF da receita. Enviaremos sem assinatura.";a({title:"Assinatura falhou",description:`${ve}${he?` [HTTP ${he}]`:""}`,variant:"destructive"}),B=null}(B==null?void 0:B.blob)instanceof Blob||(B=null)}const J=(B==null?void 0:B.blob)||O,ee=(B==null?void 0:B.filename)||V;await Qe.enviarReceita({receitaId:q,pacienteId:t,email:u.email_paciente||void 0,formato:"pdf",file:J,filename:ee}),a({title:"Receita enviada",description:B?"A receita assinada foi enviada ao paciente com sucesso.":"A receita foi enviada sem assinatura (certificado ausente ou senha inválida)."})}catch(D){const H=(Y=D==null?void 0:D.response)==null?void 0:Y.status,q=((K=(F=D==null?void 0:D.response)==null?void 0:F.data)==null?void 0:K.detail)||(D==null?void 0:D.message)||"Falha ao enviar a receita assinada";a({title:"Erro ao enviar",description:`${q}${H?` [HTTP ${H}]`:""}`,variant:"destructive"})}finally{N(!1)}}return p?e.jsx("div",{children:"Carregando preview..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Preview da Receita"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Dados da Receita"})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Nome do Paciente"}),e.jsx(fe,{name:"nome_paciente",value:u.nome_paciente,onChange:E,placeholder:"João da Silva"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Idade"}),e.jsx(fe,{name:"idade",value:u.idade,onChange:E,placeholder:"45"})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"RG"}),e.jsx(fe,{name:"rg",value:u.rg,onChange:E,placeholder:"12.345.678-9"})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Data de Nascimento"}),e.jsx(fe,{type:"date",name:"data_nascimento",value:c(u.data_nascimento),onChange:E})]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Medicamentos"}),e.jsx(nt,{name:"medicamento",rows:3,value:u.medicamento,onChange:E,placeholder:"Nome do medicamento, dose, apresentação..."})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Posologia"}),e.jsx(nt,{name:"posologia",rows:3,value:u.posologia,onChange:E,placeholder:"Ex: 1 comprimido de 12/12h por 7 dias"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Validade da Receita"}),e.jsx(fe,{type:"date",name:"validade_receita",value:c(u.validade_receita),onChange:E})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Formato"}),e.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"formato",value:u.formato,onChange:E,children:[e.jsx("option",{value:"pdf",children:"PDF"}),e.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Ação"}),e.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"acao",value:u.acao,onChange:E,children:[e.jsx("option",{value:"imprimir",children:"Imprimir"}),e.jsx("option",{value:"baixar",children:"Baixar arquivo"})]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"E-mail do Paciente (opcional)"}),e.jsx(fe,{name:"email_paciente",value:u.email_paciente,onChange:E,placeholder:"paciente@exemplo.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Médico"}),e.jsx(fe,{name:"medico",value:u.medico,onChange:E,placeholder:"Dr. Carlos Souza"})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"CRM"}),e.jsx(fe,{name:"crm",value:u.crm,onChange:E,placeholder:"12345-SP"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Endereço do Consultório"}),e.jsx(fe,{name:"endereco_consultorio",value:u.endereco_consultorio,onChange:E,placeholder:"Rua das Flores, 123"})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Telefone"}),e.jsx(fe,{name:"telefone_consultorio",value:u.telefone_consultorio,onChange:E,placeholder:"(11) 91234-5678"})]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Observações (opcional)"}),e.jsx(nt,{name:"observacoes",rows:2,value:u.observacoes,onChange:E,placeholder:"Orientações adicionais ao paciente"})]}),e.jsx("div",{className:"rounded-md bg-amber-50 text-amber-900 border border-amber-200 p-3 text-sm",children:"Ao gerar PDF, a assinatura digital será aplicada usando seu arquivo .pfx carregado no momento. O certificado é usado apenas em memória e descartado após a assinatura. Você pode validar seu certificado nas Configurações."}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Arquivo PFX para assinatura (não será salvo)"}),e.jsx(fe,{type:"file",accept:".pfx,.p12",onChange:M=>{var I;return w(((I=M.target.files)==null?void 0:I[0])||null)}}),v&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selecionado: ",v.name," (",Math.ceil(v.size/1024)," KB)"]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Senha do PFX"}),e.jsx(fe,{type:"password",value:_,onChange:M=>C(M.target.value),placeholder:"Informe a senha"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Usado apenas durante a assinatura. Não armazenamos esta informação."})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(ne,{type:"button",onClick:R,variant:h?"secondary":"default",children:[e.jsx(lv,{className:"h-4 w-4 mr-2"})," ",h?"Validado":"Validar receita"]}),e.jsxs(ne,{type:"button",onClick:P,disabled:b,children:[e.jsx(FC,{className:"h-4 w-4 mr-2"})," ",b?u.acao==="imprimir"?"Imprimindo...":"Gerando...":u.acao==="imprimir"?"Imprimir":"Baixar"]}),e.jsxs(ne,{type:"button",variant:"secondary",onClick:T,disabled:b,title:"Este botão salva a receita no sistema (envio por e-mail desativado temporariamente)",children:[e.jsx(Sr,{className:"h-4 w-4 mr-2"})," Enviar ao paciente"]})]})]})]}),e.jsxs(le,{className:"bg-white",children:[e.jsx(me,{children:e.jsx(pe,{children:"Pré-visualização"})}),e.jsx(de,{children:e.jsxs("div",{className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[e.jsxs("div",{className:"text-center border-b pb-3",children:[e.jsx("div",{className:"font-bold text-lg",children:"Consultório Médico"}),e.jsx("div",{className:"font-semibold",children:u.medico||"Dr(a)."}),e.jsxs("div",{children:["CRM: ",u.crm]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:u.endereco_consultorio}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Telefone: ",u.telefone_consultorio]})]}),e.jsxs("div",{className:"text-center my-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),u.nome_paciente]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Idade: "}),u.idade," ",u.idade?"anos":""]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"RG: "}),u.rg]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),u.data_nascimento]})]}),e.jsx("div",{className:"text-center text-xl font-semibold my-4",children:"Prescrição Médica"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:u.medicamento}),u.posologia?e.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:u.posologia}):null]}),e.jsxs("div",{className:"text-center my-6",children:[e.jsxs("div",{children:["Data de Emissão: ",d]}),e.jsxs("div",{children:["Validade da Receita: ",u.validade_receita||""]})]}),e.jsxs("div",{className:"text-center mt-10",children:[e.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:" "}),e.jsxs("div",{children:["Dr(a). ",u.medico," • CRM ",u.crm]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Assinado digitalmente com certificado ICP-Brasil (backend)"})]})]})})]})]})]})}function $A(){var p,j,b;const{id:t}=jr(),n=Ut(),a=cs();Mt();const o=((p=n.state)==null?void 0:p.resumo)||{},i=(j=n.state)==null?void 0:j.consultaId,c=(b=n.state)==null?void 0:b.prontuarioId,[d,u]=g.useState({queixa:o.queixa||"",historia:o.historia||"",diagnostico:o.diagnostico||"",conduta:o.conduta||"",medicamentos:o.medicamentos||"",posologia:o.posologia||"",validade:o.validade||""}),m=N=>{const{name:v,value:w}=N.target;u(_=>({..._,[v]:w}))},h=async()=>{var N;try{if(c)try{await((N=Qe.atualizarProntuario)==null?void 0:N.call(Qe,c,{queixa_principal:d.queixa,historia_doenca_atual:d.historia,diagnostico_principal:d.diagnostico,conduta:d.conduta,medicamentos_uso:d.medicamentos}))}catch{}}finally{a(`/medico/paciente/${t}/receita/preview`,{state:{fromConsulta:{medicamentos:d.medicamentos,posologia:d.posologia,validade:d.validade},consultaId:i}})}},x=g.useMemo(()=>new Date().toLocaleDateString(),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(AC,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Resumo da Consulta"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Informações Principais"})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Queixa Principal"}),e.jsx(nt,{name:"queixa",rows:3,value:d.queixa,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"História da Doença Atual"}),e.jsx(nt,{name:"historia",rows:4,value:d.historia,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Diagnóstico"}),e.jsx(nt,{name:"diagnostico",rows:3,value:d.diagnostico,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Conduta"}),e.jsx(nt,{name:"conduta",rows:3,value:d.conduta,onChange:m})]})]})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Prescrição"})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Medicamentos"}),e.jsx(nt,{name:"medicamentos",rows:4,value:d.medicamentos,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Posologia"}),e.jsx(nt,{name:"posologia",rows:3,value:d.posologia,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Validade da Receita"}),e.jsx("input",{type:"date",name:"validade",className:"border rounded h-10 px-3 bg-background",value:d.validade,onChange:m})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ne,{onClick:h,children:[e.jsx(EC,{className:"h-4 w-4 mr-2"})," Gerar Receita"]}),e.jsx(ne,{variant:"outline",onClick:()=>a(-1),children:"Voltar"})]})]})]})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Resumo Visual"})}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Data:"})," ",x]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Queixa:"})," ",d.queixa||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"História:"})," ",d.historia||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Diagnóstico:"})," ",d.diagnostico||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Conduta:"})," ",d.conduta||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Medicamentos:"})," ",d.medicamentos||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Posologia:"})," ",d.posologia||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Validade:"})," ",d.validade||"-"]})]})})]})]})}const ts={async getDashboard(){var a;const t=[];t.push("/clinicas/dashboard/");let n;for(const o of t){const i=o.endsWith("/")?o:`${o}/`;try{return console.debug("[clinicaService] GET",i),(await ue.get(i)).data}catch(c){if(((a=c==null?void 0:c.response)==null?void 0:a.status)===404){n=c;continue}throw c}}throw n||new Error("Endpoint de dashboard da clínica não encontrado.")},getCalendario:(t,n)=>ue.get(`/clinica/calendario/?mes=${t}&ano=${n}`),getExamesPorData:t=>ue.get(`/clinica/exames/?data=${t}`),getDisponibilidade:t=>ue.get(`/clinica/disponibilidade/?data=${t}`),setDisponibilidade:(t,n)=>ue.post("/clinica/disponibilidade/",{data:t,horarios:n}),updateDisponibilidade:(t,n)=>ue.put(`/clinica/disponibilidade/${t}/`,n),deleteDisponibilidade:t=>ue.delete(`/clinica/disponibilidade/${t}/`),getExames:(t={})=>ue.get("/clinica/exames/",{params:t}),createExame:t=>ue.post("/clinica/exames/",t),updateExame:(t,n)=>ue.put(`/clinica/exames/${t}/`,n),deleteExame:t=>ue.delete(`/clinica/exames/${t}/`),getTiposExame:()=>ue.get("/clinica/tipos-exame/"),getRelatorios:t=>ue.get(`/clinica/relatorios/?periodo=${t}`),getPacientes:()=>ue.get("/clinica/pacientes/"),getMedicos:()=>ue.get("/clinica/medicos/"),async vincularSecretaria(t){var u,m,h,x;if(!t)throw new Error("secretariaId é obrigatório");let n=null;try{try{const p=await ue.get("/clinicas/me/");(u=p==null?void 0:p.data)!=null&&u.id&&(n=p.data.id)}catch{}if(!n){const p=await ue.get("/clinicas/"),j=Array.isArray((m=p.data)==null?void 0:m.results)?p.data.results:p.data;(h=j==null?void 0:j[0])!=null&&h.id&&(n=j[0].id)}}catch{}if(!n)throw new Error("Não foi possível resolver o ID da clínica.");const a="/clinicas/",o=a.endsWith("/")?a:`${a}/`,i=[`${o}${n}/secretarias/`,`${o}${n}/adicionar_secretaria/`,`${o}${n}/vincular_secretaria/`],c={secretaria:t,secretaria_id:t};let d;for(const p of i)try{return(await ue.post(p,c)).data}catch(j){const b=(x=j==null?void 0:j.response)==null?void 0:x.status;if(b===404||b===405){d=j;continue}throw j}throw d||new Error("Nenhum endpoint de vinculação de secretária encontrado para clínica.")}};function IA(){const{data:t,loading:n,error:a}=V0(ts.getDashboard);if(n)return e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,c)=>e.jsxs(le,{className:"animate-pulse",children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-20"}),e.jsx("div",{className:"h-4 w-4 bg-muted rounded"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"h-8 bg-muted rounded w-16 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-24"})]})]},c))});if(a)return e.jsx(le,{children:e.jsx(de,{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cl,{className:"h-8 w-8 text-destructive mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Erro ao carregar dashboard"})]})})});const o=t||{examesHoje:12,examesTotais:156,pacientesAtivos:89,taxaOcupacao:85,proximosExames:[{id:1,paciente:"João Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}],examesPendentes:5};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Exames Hoje"}),e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.examesHoje}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 desde ontem"})]})]}),e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Total de Exames"}),e.jsx(is,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.examesTotais}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Este mês"})]})]}),e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Pacientes Ativos"}),e.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.pacientesAtivos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% desde o mês passado"})]})]}),e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Taxa de Ocupação"}),e.jsx(hv,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[o.taxaOcupacao,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Capacidade atual"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"h-5 w-5"}),"Próximos Exames"]}),e.jsx(Ue,{children:"Exames agendados para hoje"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"space-y-4",children:o.proximosExames.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:i.paciente}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.tipo})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("p",{className:"font-medium",children:i.horario}),e.jsx(dt,{variant:i.status==="confirmado"?"default":"secondary",children:i.status})]})]},i.id))}),e.jsx(ne,{variant:"outline",className:"w-full mt-4 bg-transparent",children:"Ver todos os exames"})]})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Ações Rápidas"}),e.jsx(Ue,{children:"Acesso rápido às principais funcionalidades"})]}),e.jsxs(de,{children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(ne,{className:"justify-start",asChild:!0,children:e.jsxs("a",{href:"/clinica/calendario",children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Ver Calendário"]})}),e.jsx(ne,{variant:"outline",className:"justify-start bg-transparent",asChild:!0,children:e.jsxs("a",{href:"/clinica/disponibilidade",children:[e.jsx(Nt,{className:"mr-2 h-4 w-4"}),"Gerenciar Horários"]})}),e.jsx(ne,{variant:"outline",className:"justify-start bg-transparent",asChild:!0,children:e.jsxs("a",{href:"/clinica/exames",children:[e.jsx(is,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})}),e.jsx(ne,{variant:"outline",className:"justify-start bg-transparent",asChild:!0,children:e.jsxs("a",{href:"/clinica/pacientes",children:[e.jsx(os,{className:"mr-2 h-4 w-4"}),"Ver Pacientes"]})})]}),o.examesPendentes>0&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),e.jsxs("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:[o.examesPendentes," exames pendentes de confirmação"]})]})})]})]})]})]})}const FA=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],zA=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];function BA(){const[t,n]=g.useState(new Date),[a,o]=g.useState([]),[i,c]=g.useState(null),[d,u]=g.useState({}),[m,h]=g.useState(!1),[x,p]=g.useState(!1),[j,b]=g.useState(!1),[N,v]=g.useState({paciente:"",tipo:"",hora:""}),[w,_]=g.useState([]),[C,E]=g.useState([]),[R]=_S();g.useEffect(()=>{A()},[t]),g.useEffect(()=>{(async()=>{var K,D;try{const[H,q]=await Promise.all([ts.getPacientes().catch(()=>({data:[]})),ts.getTiposExame().catch(()=>({data:[]}))]),X=Array.isArray(H==null?void 0:H.data)?H.data:((K=H==null?void 0:H.data)==null?void 0:K.results)||[],te=Array.isArray(q==null?void 0:q.data)?q.data:((D=q==null?void 0:q.data)==null?void 0:D.results)||[];_(X),E(te)}catch{}})()},[]),g.useEffect(()=>{const F=R.get("data"),K=R.get("paciente");F&&(c(F),P(F)),K&&(v(D=>({...D,paciente:String(K)})),p(!0))},[]);const A=async()=>{h(!0);try{const F=await ts.getCalendario(t.getMonth()+1,t.getFullYear());u(F.data||{})}catch(F){console.error("Erro ao carregar calendário:",F),u({"2024-01-15":{total:5,status:"ocupado"},"2024-01-16":{total:8,status:"lotado"},"2024-01-17":{total:3,status:"disponivel"},"2024-01-18":{total:6,status:"ocupado"},"2024-01-22":{total:2,status:"disponivel"},"2024-01-23":{total:7,status:"ocupado"}})}finally{h(!1)}},P=async F=>{try{const K=await ts.getExamesPorData(F);o(K.data||[])}catch(K){console.error("Erro ao carregar exames:",K),o([{id:1,paciente:"João Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}])}},T=F=>{const K=new Date(t);K.setMonth(t.getMonth()+F),n(K)},k=F=>{const D=new Date(t.getFullYear(),t.getMonth(),F).toISOString().split("T")[0];c(D),P(D)},$=(F="")=>{v({paciente:F?String(F):"",tipo:"",hora:""}),p(!0)},M=async()=>{if(!i)return;const{paciente:F,tipo:K,hora:D}=N;if(!F||!K||!D){alert("Preencha paciente, tipo e horário.");return}b(!0);try{const H={paciente:F,tipo:K,data:i,hora:D};await ts.createExame(H),p(!1),v({paciente:"",tipo:"",hora:""}),await P(i)}catch{alert("Erro ao agendar. Verifique os dados e tente novamente.")}finally{b(!1)}},I=()=>{const F=t.getFullYear(),K=t.getMonth(),D=new Date(F,K,1),H=new Date(F,K+1,0),q=D.getDay(),X=H.getDate(),te=[];for(let V=q-1;V>=0;V--){const Z=new Date(F,K,-V);te.push({dia:Z.getDate(),outroMes:!0,data:Z})}for(let V=1;V<=X;V++){const Z=new Date(F,K,V),B=Z.toISOString().split("T")[0],U=d[B]||{total:0,status:"disponivel"};te.push({dia:V,outroMes:!1,data:Z,dataString:B,...U})}const O=42-te.length;for(let V=1;V<=O;V++){const Z=new Date(F,K+1,V);te.push({dia:V,outroMes:!0,data:Z})}return te},z=F=>{switch(F){case"disponivel":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"ocupado":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200";case"lotado":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},Y=I();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendário de Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie os exames agendados"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),FA[t.getMonth()]," ",t.getFullYear()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>T(-1),children:e.jsx(uv,{className:"h-4 w-4"})}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>T(1),children:e.jsx(Vs,{className:"h-4 w-4"})})]})]})}),e.jsxs(de,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:zA.map(F=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:F},F))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:Y.map((F,K)=>e.jsxs("button",{onClick:()=>!F.outroMes&&k(F.dia),disabled:F.outroMes,className:`
                        p-2 text-sm rounded-lg transition-colors relative
                        ${F.outroMes?"text-muted-foreground cursor-not-allowed":"hover:bg-accent cursor-pointer"}
                        ${i===F.dataString?"bg-primary text-primary-foreground":""}
                      `,children:[e.jsx("div",{className:"font-medium",children:F.dia}),!F.outroMes&&F.total>0&&e.jsx("div",{className:`
                          absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center
                          ${z(F.status)}
                        `,children:F.total})]},K))}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{children:"Disponível"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("span",{children:"Ocupado"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{children:"Lotado"})]})]})]})]})}),e.jsx("div",{children:e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"h-5 w-5"}),i?"Exames do Dia":"Selecione uma Data"]}),i&&e.jsx(Ue,{children:new Date(i+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(de,{children:i?a.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(Nt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum exame agendado para esta data"}),e.jsx(ne,{className:"mt-4",size:"sm",onClick:()=>$(),children:"Agendar Exame"})]}):e.jsxs("div",{className:"space-y-3",children:[a.map(F=>e.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:F.paciente})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dt,{variant:F.status==="confirmado"?"default":"secondary",children:F.status}),e.jsx(ne,{variant:"outline",size:"sm",className:"bg-transparent",onClick:()=>$(F.paciente_id||F.pacienteId||""),title:"Agendar novo exame para este paciente",children:"Agendar"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:F.tipo}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(Nt,{className:"h-3 w-3"}),F.horario]})]})]},F.id)),e.jsx(ne,{className:"w-full mt-4",size:"sm",onClick:()=>$(),children:"Agendar Novo Exame"})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(Ge,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Clique em uma data no calendário para ver os exames agendados"})]})})]})})]})]}),e.jsx(Wo,{open:x,onOpenChange:p,children:e.jsxs(Pr,{children:[e.jsxs(Ar,{children:[e.jsx(Mr,{children:"Agendar exame"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",i?new Date(i+"T00:00:00").toLocaleDateString("pt-BR"):"-"]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Paciente"}),e.jsxs(lt,{value:N.paciente,onValueChange:F=>v(K=>({...K,paciente:F})),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Selecione o paciente"})}),e.jsx(ot,{children:w.map(F=>e.jsxs(we,{value:String(F.id),children:[F.nome," ",F.cpf?`- ${F.cpf}`:""]},F.id))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Tipo de exame"}),e.jsxs(lt,{value:N.tipo,onValueChange:F=>v(K=>({...K,tipo:F})),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Selecione o tipo"})}),e.jsx(ot,{children:C.map(F=>e.jsx(we,{value:String(F.id||F.value||F),children:F.nome||F.label||F.value||F},F.id||F.value||F))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Horário"}),e.jsx(fe,{type:"time",value:N.hora,onChange:F=>v(K=>({...K,hora:F.target.value}))})]})]}),e.jsxs(Tr,{className:"mt-4",children:[e.jsx(ne,{variant:"outline",className:"bg-transparent",onClick:()=>p(!1),children:"Cancelar"}),e.jsx(ne,{onClick:M,disabled:j,children:j?"Salvando...":"Agendar"})]})]})})]})}const UA={manha:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],tarde:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],integral:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"]};function VA(){const[t,n]=g.useState(""),[a,o]=g.useState([]),[i,c]=g.useState(""),[d,u]=g.useState(!1),[m,h]=g.useState(!1),{toast:x}=Mt();g.useEffect(()=>{t&&p()},[t]);const p=async()=>{var C;u(!0);try{const E=await ts.getDisponibilidade(t);o(((C=E.data)==null?void 0:C.horarios)||[])}catch(E){console.error("Erro ao carregar disponibilidade:",E),o([{horario:"09:00",ocupado:!1},{horario:"10:00",ocupado:!0},{horario:"11:00",ocupado:!1},{horario:"14:00",ocupado:!1},{horario:"15:00",ocupado:!0}])}finally{u(!1)}},j=async()=>{if(!t){x({title:"Erro",description:"Selecione uma data primeiro",variant:"destructive"});return}h(!0);try{await ts.setDisponibilidade(t,a),x({title:"Sucesso",description:"Disponibilidade salva com sucesso"})}catch(C){console.error("Erro ao salvar disponibilidade:",C),x({title:"Erro",description:"Erro ao salvar disponibilidade",variant:"destructive"})}finally{h(!1)}},b=()=>{if(!i)return;if(a.some(E=>E.horario===i)){x({title:"Aviso",description:"Este horário já existe",variant:"destructive"});return}o([...a,{horario:i,ocupado:!1}].sort((E,R)=>E.horario.localeCompare(R.horario))),c("")},N=C=>{o(a.filter(E=>E.horario!==C))},v=C=>{const E=UA[C].map(R=>({horario:R,ocupado:!1}));o(E)},w=async()=>{var R;if(!t)return;const C=new Date(t);C.setDate(C.getDate()-1);const E=C.toISOString().split("T")[0];try{const T=(((R=(await ts.getDisponibilidade(E)).data)==null?void 0:R.horarios)||[]).filter(k=>!k.ocupado).map(k=>({...k,ocupado:!1}));o(T),x({title:"Sucesso",description:"Horários copiados do dia anterior"})}catch(A){console.error("Erro ao copiar horários:",A),x({title:"Erro",description:"Erro ao copiar horários do dia anterior",variant:"destructive"})}},_=new Date().toISOString().split("T")[0];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Disponibilidade"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure os horários disponíveis para exames"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Selecionar Data"]})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"data",children:"Data"}),e.jsx(fe,{id:"data",type:"date",value:t,onChange:C=>n(C.target.value),min:_})]}),t&&e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(t+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Templates Rápidos"}),e.jsx(Ue,{children:"Aplique configurações pré-definidas"})]}),e.jsxs(de,{className:"space-y-3",children:[e.jsxs(ne,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>v("manha"),disabled:!t,children:[e.jsx(Nt,{className:"mr-2 h-4 w-4"}),"Manhã (8h às 11h30)"]}),e.jsxs(ne,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>v("tarde"),disabled:!t,children:[e.jsx(Nt,{className:"mr-2 h-4 w-4"}),"Tarde (13h às 17h)"]}),e.jsxs(ne,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>v("integral"),disabled:!t,children:[e.jsx(Nt,{className:"mr-2 h-4 w-4"}),"Período Integral"]}),e.jsxs(ne,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:w,disabled:!t,children:[e.jsx(_C,{className:"mr-2 h-4 w-4"}),"Copiar Dia Anterior"]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"h-5 w-5"}),"Horários Disponíveis"]}),e.jsxs(ne,{onClick:j,disabled:!t||m,children:[e.jsx(pv,{className:"mr-2 h-4 w-4"}),m?"Salvando...":"Salvar"]})]}),t&&e.jsxs(Ue,{children:["Configurando horários para ",new Date(t+"T00:00:00").toLocaleDateString("pt-BR")]})]}),e.jsx(de,{children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{type:"time",value:i,onChange:C=>c(C.target.value),placeholder:"Novo horário"}),e.jsx(ne,{onClick:b,disabled:!i,children:e.jsx(Em,{className:"h-4 w-4"})})]}),d?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((C,E)=>e.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},E))}):a.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(Nt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum horário configurado"}),e.jsx("p",{className:"text-sm",children:"Use os templates ou adicione horários manualmente"})]}):e.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:a.map((C,E)=>e.jsxs("div",{className:`
                              flex items-center justify-between p-3 border rounded-lg
                              ${C.ocupado?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}
                            `,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:C.horario})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dt,{variant:C.ocupado?"destructive":"default",children:C.ocupado?"Ocupado":"Livre"}),!C.ocupado&&e.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>N(C.horario),children:e.jsx(zC,{className:"h-4 w-4"})})]})]},E))}),a.length>0&&e.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-medium",children:["Total: ",a.length," horários"]}),e.jsxs("p",{className:"text-muted-foreground",children:[a.filter(C=>!C.ocupado).length," disponíveis,"," ",a.filter(C=>C.ocupado).length," ocupados"]})]})})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(Ge,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Selecione uma data para gerenciar os horários"})]})})]})})]})]})})}function HA(){const{toast:t}=Mt(),[n,a]=g.useState(!1),[o,i]=g.useState([]),[c,d]=g.useState({q:"",tipo:"todos",status:"todos"}),[u,m]=g.useState([]),[h,x]=g.useState(!1),[p,j]=g.useState({paciente:"",tipo:"",data:"",hora:""}),b=async()=>{try{const{data:w}=await ts.getTiposExame();i(w||[])}catch{}},N=async()=>{a(!0);try{const w={};c.q&&(w.q=c.q),c.tipo!=="todos"&&(w.tipo=c.tipo),c.status!=="todos"&&(w.status=c.status);const{data:_}=await ts.getExames(w);m(Array.isArray(_)?_:(_==null?void 0:_.results)||[])}catch{t({title:"Erro",description:"Não foi possível carregar os exames.",variant:"destructive"})}finally{a(!1)}};g.useEffect(()=>{b()},[]),g.useEffect(()=>{N()},[c]);const v=async()=>{if(!p.paciente||!p.tipo||!p.data||!p.hora){t({title:"Campos obrigatórios",description:"Preencha paciente, tipo, data e hora.",variant:"destructive"});return}x(!0);try{const w={paciente:p.paciente,tipo:p.tipo,data:p.data,hora:p.hora};await ts.createExame(w),t({title:"Exame criado",description:"Exame agendado com sucesso."}),j({paciente:"",tipo:"",data:"",hora:""}),N()}catch{t({title:"Erro ao criar",description:"Verifique os dados e tente novamente.",variant:"destructive"})}finally{x(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem e agendamento de exames"})]})}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Filtros"}),e.jsx(Ue,{children:"Busque e filtre os exames"})]}),e.jsxs(de,{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(fe,{placeholder:"Buscar por paciente/tipo...",value:c.q,onChange:w=>d({...c,q:w.target.value})}),e.jsxs(lt,{value:c.tipo,onValueChange:w=>d({...c,tipo:w}),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Tipo"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"todos",children:"Todos os tipos"}),o.map(w=>e.jsx(we,{value:w.value||w.nome||w.id||String(w),children:w.nome||w.label||w.value||w},w.id||w.value||w))]})]}),e.jsxs(lt,{value:c.status,onValueChange:w=>d({...c,status:w}),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Status"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"todos",children:"Todos"}),e.jsx(we,{value:"pendente",children:"Pendente"}),e.jsx(we,{value:"confirmado",children:"Confirmado"}),e.jsx(we,{value:"cancelado",children:"Cancelado"})]})]})]})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Lista de Exames"}),e.jsx(Ue,{children:n?"Carregando...":`${u.length} registro(s)`})]}),e.jsx(de,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(xn,{children:[e.jsx(gn,{children:e.jsxs(Tt,{children:[e.jsx(We,{children:"Paciente"}),e.jsx(We,{children:"Tipo"}),e.jsx(We,{children:"Data"}),e.jsx(We,{children:"Hora"}),e.jsx(We,{children:"Status"})]})}),e.jsxs(vn,{children:[u.map((w,_)=>e.jsxs(Tt,{children:[e.jsx(He,{children:w.paciente_nome||w.paciente||"-"}),e.jsx(He,{children:w.tipo_nome||w.tipo||"-"}),e.jsx(He,{children:w.data||"-"}),e.jsx(He,{children:w.hora||"-"}),e.jsx(He,{children:w.status||"-"})]},w.id||_)),!n&&u.length===0&&e.jsx(Tt,{children:e.jsx(He,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum exame encontrado"})})]})]})})})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Novo Exame"}),e.jsx(Ue,{children:"Crie um novo agendamento de exame"})]}),e.jsxs(de,{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(fe,{placeholder:"Paciente (nome/ID)",value:p.paciente,onChange:w=>j({...p,paciente:w.target.value})}),e.jsxs(lt,{value:p.tipo,onValueChange:w=>j({...p,tipo:w}),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Tipo de exame"})}),e.jsx(ot,{children:o.map(w=>e.jsx(we,{value:w.value||w.nome||w.id||String(w),children:w.nome||w.label||w.value||w},w.id||w.value||w))})]}),e.jsx(fe,{type:"date",value:p.data,onChange:w=>j({...p,data:w.target.value})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{type:"time",value:p.hora,onChange:w=>j({...p,hora:w.target.value})}),e.jsx(ne,{onClick:v,disabled:h,children:h?"Criando...":"Criar"})]})]})]})]})}function qA(){const{toast:t}=Mt(),[n,a]=g.useState(""),[o,i]=g.useState(!1),[c,d]=g.useState([]),u=async()=>{i(!0);try{const{data:x}=await ts.getPacientes(),p=Array.isArray(x)?x:(x==null?void 0:x.results)||[];d(p)}catch{t({title:"Erro",description:"Não foi possível carregar os pacientes.",variant:"destructive"})}finally{i(!1)}};g.useEffect(()=>{u()},[]);const m=c.filter(x=>[x.nome,x.email,x.cpf].join(" ").toLowerCase().includes(n.toLowerCase())),h=new Date().toISOString().split("T")[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de pacientes"})]}),e.jsx("div",{className:"w-72",children:e.jsx(fe,{placeholder:"Buscar por nome, e-mail ou CPF",value:n,onChange:x=>a(x.target.value)})})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Lista de Pacientes"}),e.jsx(Ue,{children:o?"Carregando...":`${m.length} registro(s)`})]}),e.jsx(de,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(xn,{children:[e.jsx(gn,{children:e.jsxs(Tt,{children:[e.jsx(We,{children:"Nome"}),e.jsx(We,{children:"E-mail"}),e.jsx(We,{children:"CPF"}),e.jsx(We,{className:"w-[1%]",children:"Ações"})]})}),e.jsxs(vn,{children:[m.map((x,p)=>e.jsxs(Tt,{children:[e.jsx(He,{children:x.nome||"-"}),e.jsx(He,{children:x.email||"-"}),e.jsx(He,{children:x.cpf||"-"}),e.jsx(He,{children:e.jsx(Xe,{to:`/clinica/calendario?paciente=${x.id}&data=${h}`,children:e.jsx(ne,{size:"sm",children:"Agendar"})})})]},x.id||p)),!o&&m.length===0&&e.jsx(Tt,{children:e.jsx(He,{colSpan:3,className:"text-center text-muted-foreground",children:"Nenhum paciente encontrado"})})]})]})})})]})]})}function WA(){const{toast:t}=Mt(),[n,a]=g.useState(""),[o,i]=g.useState(!1),[c,d]=g.useState([]),u=async()=>{i(!0);try{const{data:h}=await ts.getMedicos(),x=Array.isArray(h)?h:(h==null?void 0:h.results)||[];d(x)}catch{t({title:"Erro",description:"Não foi possível carregar os médicos.",variant:"destructive"})}finally{i(!1)}};g.useEffect(()=>{u()},[]);const m=c.filter(h=>[h.nome,h.email,h.crm,h.especialidade].join(" ").toLowerCase().includes(n.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Médicos"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de médicos"})]}),e.jsx("div",{className:"w-72",children:e.jsx(fe,{placeholder:"Buscar por nome, e-mail, CRM, especialidade",value:n,onChange:h=>a(h.target.value)})})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Lista de Médicos"}),e.jsx(Ue,{children:o?"Carregando...":`${m.length} registro(s)`})]}),e.jsx(de,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(xn,{children:[e.jsx(gn,{children:e.jsxs(Tt,{children:[e.jsx(We,{children:"Nome"}),e.jsx(We,{children:"E-mail"}),e.jsx(We,{children:"CRM"}),e.jsx(We,{children:"Especialidade"})]})}),e.jsxs(vn,{children:[m.map((h,x)=>e.jsxs(Tt,{children:[e.jsx(He,{children:h.nome||"-"}),e.jsx(He,{children:h.email||"-"}),e.jsx(He,{children:h.crm||"-"}),e.jsx(He,{children:h.especialidade||"-"})]},h.id||x)),!o&&m.length===0&&e.jsx(Tt,{children:e.jsx(He,{colSpan:4,className:"text-center text-muted-foreground",children:"Nenhum médico encontrado"})})]})]})})})]})]})}function KA(){const[t,n]=g.useState("30d"),[a,o]=g.useState(!1),[i,c]=g.useState(null),[d,u]=g.useState(null),m=async()=>{o(!0),u(null);try{const{data:x}=await ts.getRelatorios(t);c(x||{})}catch{u("Não foi possível carregar os relatórios.")}finally{o(!1)}};g.useEffect(()=>{m()},[t]);const h=i||{examesTotais:120,pacientesAtendidos:80,taxaCancelamento:5};return e.jsx("div",{className:"space-y-6",children:e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(pe,{children:"Relatórios"}),e.jsx(Ue,{children:"Métricas da clínica"})]}),e.jsx("div",{className:"w-40",children:e.jsxs(lt,{value:t,onValueChange:n,children:[e.jsx(rt,{children:e.jsx(ct,{})}),e.jsxs(ot,{children:[e.jsx(we,{value:"7d",children:"Últimos 7 dias"}),e.jsx(we,{value:"30d",children:"Últimos 30 dias"}),e.jsx(we,{value:"90d",children:"Últimos 90 dias"})]})]})})]}),e.jsx(de,{children:a?e.jsx("p",{children:"Carregando..."}):d?e.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsx(Cl,{className:"h-4 w-4"}),e.jsx("span",{children:d})]}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"})," Exames"]})}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.examesTotais}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(os,{className:"h-4 w-4"})," Pacientes Atendidos"]})}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.pacientesAtendidos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{className:"text-sm font-medium",children:"Taxa de Cancelamento"})}),e.jsxs(de,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[h.taxaCancelamento,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]})]})})]})})}const ku="false".toLowerCase()==="true",Qn="false".toLowerCase()==="true",GA={async criarSolicitacaoMedico(t,n={}){var b,N,v,w,_,C,E,R,A;const a=new FormData,o=(P,T,k=[])=>{if(T==null)return;const $=[P,...k].filter(Boolean);for(const M of $)a.append(M,T)};o("crm",t.crm,["crm_numero"]),o("especialidade",t.especialidade),o("instituicaoFormacao",t.instituicaoFormacao,["instituicao_formacao"]),o("anoFormacao",t.anoFormacao,["ano_formacao"]),o("residencia",t.residencia??""),o("instituicaoResidencia",t.instituicaoResidencia??"",["instituicao_residencia"]),o("anoResidencia",t.anoResidencia??"",["ano_residencia"]),o("experiencia",t.experiencia),o("motivacao",t.motivacao,["motivo","justificativa"]),o("nome",t.nome,["nome_completo"]),o("email",t.email),o("cpf",t.cpf),o("tipo",t.tipo||"medico"),(b=t.documentos)!=null&&b.diplomaMedicina&&o("diplomaMedicina",t.documentos.diplomaMedicina,["diploma_medicina"]),(N=t.documentos)!=null&&N.certificadoResidencia&&o("certificadoResidencia",t.documentos.certificadoResidencia,["certificado_residencia"]),(v=t.documentos)!=null&&v.comprovanteExperiencia&&o("comprovanteExperiencia",t.documentos.comprovanteExperiencia,["comprovante_experiencia"]);let i;try{const P=(w=xt.getCurrentUser)==null?void 0:w.call(xt);i=(P==null?void 0:P.id)||(P==null?void 0:P.pk)||((_=P==null?void 0:P.user)==null?void 0:_.id),i&&o("user",i,["usuario","user_id","usuario_id"])}catch{}const c={crm:t.crm,crm_numero:t.crm,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao,instituicao_formacao:t.instituicaoFormacao,anoFormacao:t.anoFormacao,ano_formacao:t.anoFormacao,residencia:t.residencia??"",instituicaoResidencia:t.instituicaoResidencia??"",instituicao_residencia:t.instituicaoResidencia??"",anoResidencia:t.anoResidencia??"",ano_residencia:t.anoResidencia??"",experiencia:t.experiencia,motivacao:t.motivacao,motivo:t.motivacao,justificativa:t.motivacao,nome:t.nome,nome_completo:t.nome_completo||t.nome,email:t.email,cpf:t.cpf,tipo:t.tipo||"medico"};i&&(c.user=i,c.usuario=i,c.user_id=i,c.usuario_id=i);const d="/solicitacaomedico/".trim(),u="/solicitacoes/".trim();let m=[];d&&m.push(d),u&&m.push(u),Qn||m.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/medico/","/medico/solicitacoes/","/medicos/solicitacao/","/solicitacao/medicos/","/users/medicos/solicitacoes/","/usuarios/medicos/solicitacoes/","/users/solicitacoes/medico/","/usuarios/solicitacoes/medico/","/app_medico/","/meu_app_medico/","/meui_app_solicitacaomedico/","/solicitacaomedico/","/solicitacao-medico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedico/");const h=P=>{if(Qn)return[P];const T=P.endsWith("/")?"":"/";return[P,`${P}${T}criar/`,`${P}${T}create/`,`${P}${T}novo/`,`${P}${T}nova/`,`${P}${T}add/`,`${P}${T}adicionar/`,`${P}${T}registrar/`,`${P}${T}enviar/`,`${P}${T}submit/`]},x=Array.from(new Set(m.flatMap(h))),p=[];let j;for(const P of x)try{return p.push(P),ku&&console.debug("[solicitacaoService] Tentando endpoint:",P),(await ue.post(P,a,{headers:{"Content-Type":"multipart/form-data"},signal:n==null?void 0:n.signal})).data}catch(T){const k=(C=T==null?void 0:T.response)==null?void 0:C.status,$=((E=T==null?void 0:T.response)==null?void 0:E.data)&&JSON.stringify(T.response.data)||"";if(k===415||k===400&&/JSON|application\/json|parse/i.test($))try{return(await ue.post(P,c,{headers:{"Content-Type":"application/json"},signal:n==null?void 0:n.signal})).data}catch(I){const z=(R=I==null?void 0:I.response)==null?void 0:R.status;if((z===404||z===405)&&!Qn){j=I;continue}throw I}if((k===404||k===405)&&!Qn){ku&&console.debug("[solicitacaoService] Endpoint não aceitou método (",k,"):",P),j=T;continue}throw T}throw j?(ku&&console.warn("[solicitacaoService] Nenhum endpoint aceitou POST. Último status:",(A=j==null?void 0:j.response)==null?void 0:A.status,"URLs tentadas:",p),j):new Error("Nenhum endpoint de criação aceitou a solicitação. Configure VITE_SOLICITACOES_MEDICOS_ENDPOINT. URLs tentadas: "+p.join(", "))},async listarMinhasSolicitacoes(t={},n={}){var d,u;const a="/solicitacaomedico/".trim(),o="/solicitacoes/".trim(),i=[];a&&i.push(a),o&&i.push(o),Qn||i.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/","/me/solicitacoes/","/minhas-solicitacoes/","/solicitacoes/me/","/solicitacoes/minhas/");const c={...t};c.limit!=null&&c.page_size==null&&(c.page_size=c.limit),c.page_size!=null&&c.limit==null&&(c.limit=c.page_size);for(const m of i){const h=xg(m);try{const x=await ue.get(h,{params:c,signal:n==null?void 0:n.signal});return Array.isArray((d=x.data)==null?void 0:d.results)?{...x.data,results:x.data.results.map(Pu)}:Array.isArray(x.data)?{results:x.data.map(Pu)}:x.data}catch(x){if(((u=x==null?void 0:x.response)==null?void 0:u.status)===404&&!Qn)continue;throw x}}return{results:[]}},async getSolicitacaoMedico(t,n={}){var d;const a="/solicitacaomedico/".trim(),o="/solicitacoes/".trim(),i=[];a&&i.push(a),o&&i.push(o),Qn||i.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/");let c;for(const u of i){const m=xg(u)+String(t)+"/";try{const h=await ue.get(m,{signal:n==null?void 0:n.signal});return Pu(h.data)}catch(h){if(((d=h==null?void 0:h.response)==null?void 0:d.status)===404&&!Qn){c=h;continue}throw h}}throw c||new Error("Solicitação não encontrada")}};function xg(t){return t?t.endsWith("/")?t:t+"/":"/"}function Pu(t={}){return{id:t.id||t.pk,crm:t.crm||t.crm_numero,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao||t.instituicao_formacao,anoFormacao:t.anoFormacao||t.ano_formacao,residencia:t.residencia,instituicaoResidencia:t.instituicaoResidencia||t.instituicao_residencia,anoResidencia:t.anoResidencia||t.ano_residencia,experiencia:t.experiencia,motivacao:t.motivacao||t.motivo||t.justificativa,nome:t.nome||t.nome_completo,email:t.email,cpf:t.cpf,status:t.status||t.situacao||t.aprovado,created_at:t.created_at||t.data_criacao}}const q0=Object.freeze(Object.defineProperty({__proto__:null,solicitacaoService:GA},Symbol.toStringTag,{value:"Module"})),En="false".toLowerCase()!=="false",St="false".toLowerCase()==="true",kt={async getDashboard(){return(await ue.get("/admin/dashboard/")).data},async getSolicitacoes(t={},n={}){var i;const a=ul(),o=Tu(Au(t));for(const c of a){const d=Xn(c),u=En?[d]:[d,d+"listar/",d+"list/",d+"todas/",d+"all/"],m=[];if(m.push(o),!En&&(o!=null&&o.ordering)){const{ordering:h,...x}=o;m.push(x)}if(!En){const h={};o.page_size!=null&&(h.page_size=o.page_size),o.limit!=null&&(h.limit=o.limit),o.page!=null&&(h.page=o.page),o.offset!=null&&(h.offset=o.offset),Object.keys(h).length&&m.push(h)}Object.keys(o).length&&m.push({});for(const h of u)for(const x of m)try{St&&console.debug("[adminService.getSolicitacoes] GET",h,x);const j=(await ue.get(h,{params:x,signal:n==null?void 0:n.signal})).data,b=Array.isArray(j==null?void 0:j.results)?j.results:Array.isArray(j)?j:[];return St&&console.debug("[adminService.getSolicitacoes] OK",h,`items=${b.length}`),b.map(W0)}catch(p){const j=(i=p==null?void 0:p.response)==null?void 0:i.status;if(St&&console.warn("[adminService.getSolicitacoes] Falhou",h,"status=",j,"params=",x),j===401||j===403)throw p;continue}}return[]},async getSolicitacao(t){var o;const n=ul();let a;for(const i of n){const c=Xn(i)+`${t}/`;try{const d=await ue.get(c);return JA(d.data||{})}catch(d){const u=(o=d==null?void 0:d.response)==null?void 0:o.status;if(St&&console.warn("[adminService.getSolicitacao] Falhou",c,"status=",u),u===401||u===403)throw d;a=d;continue}}throw a||new Error("Nenhum endpoint para detalhe de solicitação foi encontrado.")},async aprovarSolicitacao(t,n=""){var o;const a=ul();for(const i of a){const c=Xn(i),d=[{method:"post",url:`${c}${t}/aprovar/`,body:{observacoes:n}},{method:"post",url:`${c}${t}/approve/`,body:{notes:n}},{method:"post",url:`${c}${t}/aprovacao/`,body:{observacoes:n}},{method:"post",url:`${c}${t}/status/`,body:{status:"approved",observacoes:n}},{method:"patch",url:`${c}${t}/`,body:{status:"approved",observacoes:n}},{method:"put",url:`${c}${t}/`,body:{status:"approved",observacoes:n}}];for(const u of d)try{St&&console.debug("[adminService.aprovarSolicitacao]",u.method.toUpperCase(),u.url,u.body);const m=await ue[u.method](u.url,u.body);return(async()=>{var h;try{await kt.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{observacoes:n}})}catch(x){St&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(h=x==null?void 0:x.response)==null?void 0:h.status)}})(),m.data}catch(m){const h=(o=m==null?void 0:m.response)==null?void 0:o.status;if(St&&console.warn("[adminService.aprovarSolicitacao] Falhou",u.url,"status=",h),h===401||h===403)throw m;continue}}},async rejeitarSolicitacao(t,n){var o;const a=ul();for(const i of a){const c=Xn(i),d=[{method:"post",url:`${c}${t}/rejeitar/`,body:{motivo:n}},{method:"post",url:`${c}${t}/reject/`,body:{reason:n}},{method:"post",url:`${c}${t}/status/`,body:{status:"rejected",motivo:n}},{method:"patch",url:`${c}${t}/`,body:{status:"rejected",motivo:n}},{method:"put",url:`${c}${t}/`,body:{status:"rejected",motivo:n}}];for(const u of d)try{St&&console.debug("[adminService.rejeitarSolicitacao]",u.method.toUpperCase(),u.url,u.body);const m=await ue[u.method](u.url,u.body);return(async()=>{var h;try{await kt.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{motivo:n}})}catch(x){St&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(h=x==null?void 0:x.response)==null?void 0:h.status)}})(),m.data}catch(m){const h=(o=m==null?void 0:m.response)==null?void 0:o.status;if(St&&console.warn("[adminService.rejeitarSolicitacao] Falhou",u.url,"status=",h),h===401||h===403)throw m;continue}}},async getAuditoria(t={}){return(await ue.get("/admin/auditoria/",{params:t})).data},async registrarAuditoria(t={}){var x;const n=await xt.getCurrentUser(),a=t.action||t.acao||t.type,o=t.entity||t.entidade||"",i=t.entity_id||t.id||t.solicitacao_id||t.target_id||"",c=t.status||"success",d=typeof t.metadata=="object"&&t.metadata!==null?t.metadata:{},u=typeof t.detalhes=="object"&&t.detalhes!==null?t.detalhes:{},m={...d,...u,actor:(n==null?void 0:n.id)||(n==null?void 0:n.username)||"system",source:"frontend"},h={action:a,entity:o,entity_id:i,status:c,metadata:m};try{await ue.post("/admin/auditoria/",h)}catch(p){St&&console.warn("[adminService.registrarAuditoria] falhou:",(x=p==null?void 0:p.response)==null?void 0:x.status)}},async getUsuarios(t={}){var o;const n=Mu(),a=Tu(Au(t));for(const i of n){const c=Xn(i),d=En?[c]:[c,c+"listar/",c+"list/",c+"todas/",c+"all/"],u=[];if(u.push(a),!En&&(a!=null&&a.ordering)){const{ordering:m,...h}=a;u.push(h)}if(!En){const m={};a.page_size!=null&&(m.page_size=a.page_size),a.limit!=null&&(m.limit=a.limit),a.page!=null&&(m.page=a.page),a.offset!=null&&(m.offset=a.offset),Object.keys(m).length&&u.push(m)}Object.keys(a).length&&u.push({});for(const m of d)for(const h of u)try{St&&console.debug("[adminService.getUsuarios] GET",m,h);const p=(await ue.get(m,{params:h})).data,j=Array.isArray(p==null?void 0:p.results)?p.results:Array.isArray(p)?p:[],b=typeof(p==null?void 0:p.count)=="number"?p.count:j.length;return St&&console.debug("[adminService.getUsuarios] OK",m,`items=${j.length}`),{results:j,count:b}}catch(x){const p=(o=x==null?void 0:x.response)==null?void 0:o.status;if(St&&console.warn("[adminService.getUsuarios] Falhou",m,"status=",p,"params=",h),p===401)throw x;continue}}return{results:[],count:0}},async getClinicas(t={}){var o;const n=YA(),a=Tu(Au(t));for(const i of n){const c=Xn(i),d=En?[c]:[c,c+"listar/",c+"list/",c+"todas/",c+"all/"],u=[];if(u.push(a),!En&&(a!=null&&a.ordering)){const{ordering:m,...h}=a;u.push(h)}if(!En){const m={};a.page_size!=null&&(m.page_size=a.page_size),a.limit!=null&&(m.limit=a.limit),a.page!=null&&(m.page=a.page),a.offset!=null&&(m.offset=a.offset),Object.keys(m).length&&u.push(m)}Object.keys(a).length&&u.push({});for(const m of d)for(const h of u)try{St&&console.debug("[adminService.getClinicas] GET",m,h);const p=(await ue.get(m,{params:h})).data,j=Array.isArray(p==null?void 0:p.results)?p.results:Array.isArray(p)?p:[],b=typeof(p==null?void 0:p.count)=="number"?p.count:j.length;return St&&console.debug("[adminService.getClinicas] OK",m,`items=${j.length}`),{results:j,count:b}}catch(x){const p=(o=x==null?void 0:x.response)==null?void 0:o.status;if(St&&console.warn("[adminService.getClinicas] Falhou",m,"status=",p,"params=",h),p===401)throw x;continue}}return{results:[],count:0}},async updateUsuario(t,n={}){var d,u,m,h;const a=t||(n==null?void 0:n.id);if(!a)throw new Error("ID do usuário é obrigatório para atualização");const o={...n};o.role&&o.tipo==null&&(o.tipo=o.role),o.is_active!=null&&o.ativo==null&&(o.ativo=!!o.is_active),(o.first_name||o.last_name)&&o.nome==null&&(o.nome=[o.first_name||"",o.last_name||""].filter(Boolean).join(" ").trim()||void 0);const i=Mu();let c=null;for(const x of i){const p=Xn(x);try{return(await ue.patch(`${p}${a}/`,o)).data}catch(j){const b=(d=j==null?void 0:j.response)==null?void 0:d.status;if(St&&console.warn("[adminService.updateUsuario] PATCH falhou",`${p}${a}/`,"status=",b),b===401)throw j;c=j}try{return(await ue.put(`${p}${a}/`,o)).data}catch(j){const b=(u=j==null?void 0:j.response)==null?void 0:u.status;if(St&&console.warn("[adminService.updateUsuario] PUT falhou",`${p}${a}/`,"status=",b),b===401)throw j;c=j}try{return(await ue.patch(p,{id:a,...o})).data}catch(j){const b=(m=j==null?void 0:j.response)==null?void 0:m.status;if(St&&console.warn("[adminService.updateUsuario] PATCH base falhou",p,"status=",b),b===401)throw j;c=j}for(const j of["update/","editar/","edicao/"]){const b=p+j;try{return(await ue.post(b,{id:a,...o})).data}catch(N){const v=(h=N==null?void 0:N.response)==null?void 0:h.status;if(St&&console.warn("[adminService.updateUsuario] POST falhou",b,"status=",v),v===401)throw N;c=N}}}throw c||new Error("Falha ao atualizar usuário: nenhum endpoint aceitou a requisição.")},async removerUsuariosEmMassa(t=[]){var c,d,u;const n=(Array.isArray(t)?t:[t]).filter(Boolean);if(n.length===0)return{success:!0,deleted:[],detail:"no-op"};const a=Mu();let o=null;const i=[{suffix:"remover/",method:"post",bodyKey:"ids"},{suffix:"delete/",method:"post",bodyKey:"ids"},{suffix:"bulk_delete/",method:"post",bodyKey:"ids"}];for(const m of a){const h=Xn(m);for(const p of i){const j=h+p.suffix;try{return(await ue.post(j,{[p.bodyKey]:n})).data}catch(b){const N=(c=b==null?void 0:b.response)==null?void 0:c.status;if(St&&console.warn("[adminService.removerUsuariosEmMassa] POST falhou",j,"status=",N),N===401)throw b;o=b}}try{const p=h;return(await ue.delete(p,{data:{ids:n}})).data}catch(p){const j=(d=p==null?void 0:p.response)==null?void 0:d.status;if(St&&console.warn("[adminService.removerUsuariosEmMassa] DELETE bulk falhou",h,"status=",j),j===401)throw p;o=p}let x=!1;for(const p of n){const j=`${h}${p}/`;try{await ue.delete(j),x=!0}catch(b){const N=(u=b==null?void 0:b.response)==null?void 0:u.status;if(St&&console.warn("[adminService.removerUsuariosEmMassa] DELETE por id falhou",j,"status=",N),N===401)throw b;o=b}}if(x)return{success:!0}}throw o||new Error("Falha ao excluir usuários: nenhum endpoint aceitou a requisição.")},async createUsuario(t={}){return(await ue.post("/admin/usuarios/",t)).data}};function Xn(t){if(!t)return"/";const n=String(t);return n.endsWith("/")?n:n+"/"}function Au(t={}){const n={...t};return n.limit!=null&&n.page_size==null&&(n.page_size=n.limit),n.page_size!=null&&n.limit==null&&(n.limit=n.page_size),Object.keys(n).forEach(a=>{(n[a]===void 0||n[a]===null||n[a]==="")&&delete n[a]}),n}function Tu(t={}){const n=new Set(["status","ordering","search","limit","page","page_size","offset","clinica","especialidade"]),a={};for(const[o,i]of Object.entries(t||{}))n.has(o)&&(a[o]=i);return a}function ul(){const t="/solicitacaomedico/".trim(),n="/solicitacaomedico/".trim(),a="/solicitacoes/".trim(),o=Array.from(new Set([t,n,a].filter(Boolean))),i=["/solicitacaomedico/","/admin/solicitacoes/"],c=["/medicos/solicitacoes/","/solicitacoes/medicos/"];return Array.from(new Set([...i,...o,...c].filter(Boolean)))}function Mu(){const t="".trim(),n="".trim(),a=Array.from(new Set([t,n].filter(Boolean))),o=["/admin/usuarios/","/usuarios/","/admin/users/","/users/"];return Array.from(new Set([...a,...o].filter(Boolean)))}function YA(){const t="".trim(),n="".trim(),a=Array.from(new Set([t,n].filter(Boolean))),o=["/admin/clinicas/","/clinicas/","/admin/clinica/","/clinica/"];return Array.from(new Set([...a,...o].filter(Boolean)))}function W0(t={}){var n,a,o,i,c,d,u,m,h,x,p,j,b,N,v,w,_,C,E,R,A,P,T;return{id:t.id||t.pk||t.uuid||t.codigo||t.codigo_id||0,tipo:String(t.tipo||t.type||t.kind||"medico").toLowerCase(),nome:t.nome||t.name||((n=t.usuario)==null?void 0:n.nome)||((a=t.user)==null?void 0:a.name)||((o=t.medico)==null?void 0:o.nome)||((i=t.clinica)==null?void 0:i.nome)||"—",email:t.email||((c=t.usuario)==null?void 0:c.email)||((d=t.user)==null?void 0:d.email)||((m=(u=t.medico)==null?void 0:u.user)==null?void 0:m.email)||((h=t.clinica)==null?void 0:h.email)||"—",telefone:t.telefone||t.phone||t.celular||((x=t.usuario)==null?void 0:x.telefone)||((p=t.user)==null?void 0:p.telefone)||((j=t.medico)==null?void 0:j.telefone)||((N=(b=t.medico)==null?void 0:b.contato)==null?void 0:N.telefone)||((w=(v=t.medico)==null?void 0:v.user)==null?void 0:w.telefone)||((_=t.clinica)==null?void 0:_.telefone)||"",crm:t.crm||((C=t.medico)==null?void 0:C.crm)||t.crm_numero||"",cnpj:t.cnpj||((E=t.clinica)==null?void 0:E.cnpj)||"",responsavel:t.responsavel||t.responsavel_tecnico||((R=t.clinica)==null?void 0:R.responsavel)||"",status:(()=>{const k=(t.status||t.situacao||t.state||"pending").toString().toLowerCase();return{pendente:"pending","em análise":"pending","em analise":"pending",em_analise:"pending",aprovado:"approved",aprovada:"approved",rejeitado:"rejected",rejeitada:"rejected",reprovado:"rejected",reprovada:"rejected"}[k]||k})(),dataEnvio:t.dataEnvio||t.created_at||t.createdAt||t.data_criacao||t.submitted_at||new Date().toISOString(),dataAprovacao:t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||null,dataRejeicao:t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||null,documentos:Array.isArray(t.documentos)?t.documentos:t.documents||[],urgencia:String(t.urgencia||t.priority||"normal").toLowerCase(),observacoes:t.observacoes||t.notes||t.comentarios||"",aprovadoPor:t.aprovadoPor||t.approved_by||"",rejeitadoPor:t.rejeitadoPor||t.rejected_by||"",motivoRejeicao:t.motivoRejeicao||t.motivo||t.reason||"",especialidade:t.especialidade||t.especialidade_nome||((P=(A=t.medico)==null?void 0:A.especialidade)==null?void 0:P.nome)||((T=t.medico)==null?void 0:T.especialidade)||""}}function JA(t={}){var C,E,R,A,P,T,k,$,M,I,z,Y,F,K,D,H,q,X,te,O,V;const n=W0(t),a=t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||t.dataAprovado||null,o=t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||t.dataRejeitado||null,i=[],c=Z=>{Z&&(Array.isArray(Z)?i.push(...Z.filter(Boolean)):typeof Z=="object"?i.push(...Object.values(Z).filter(Boolean)):typeof Z=="string"&&i.push(Z))};c(t.documentos),c(t.docs),c(t.arquivos),c(t.attachments),c(t.files);const d=[t.diplomaMedicina,t.certificadoResidencia,t.comprovanteExperiencia,t.documento_identidade,t.comprovante_endereco,t.diploma_medicina,t.certificado_residencia,t.comprovante_experiencia,t.rg,t.cpf].filter(Boolean);i.push(...d);const u=Z=>{if(!Z)return null;if(typeof Z=="string")return{nome:(Z.split("/").pop()||"Documento").trim(),tamanho:"",dataUpload:t.dataEnvio||t.created_at||t.createdAt||t.submitted_at||new Date().toISOString(),url:Z};const B=Z.nome||Z.name||Z.filename||Z.file_name||Z.titulo||Z.tipo||"Documento",U=Z.tamanho||Z.size||Z.file_size||"",J=Z.dataUpload||Z.data_upload||Z.uploaded_at||Z.created_at||n.dataEnvio||new Date().toISOString(),ee=Z.url||Z.link||Z.path||Z.file||Z.arquivo||Z.location||"";return{nome:B,tamanho:U,dataUpload:J,url:ee}},m=i.map(u).filter(Boolean),h=t.endereco||((C=t.medico)==null?void 0:C.endereco)||((E=t.clinica)==null?void 0:E.endereco)||{},x=typeof h=="string"?{cep:t.cep||"",logradouro:h,bairro:"",cidade:"",estado:""}:{cep:h.cep||t.cep||"",logradouro:h.logradouro||h.rua||h.endereco||"",bairro:h.bairro||"",cidade:h.cidade||h.municipio||"",estado:h.estado||h.uf||""},p=t.instituicaoFormacao||t.instituicao_formacao||((R=t.formacao)==null?void 0:R.instituicao)||((P=(A=t.medico)==null?void 0:A.formacao)==null?void 0:P.instituicao)||"",j=t.anoFormacao||t.ano_formacao||((T=t.formacao)==null?void 0:T.ano)||(($=(k=t.medico)==null?void 0:k.formacao)==null?void 0:$.ano)||"",b=t.residencia||((I=(M=t.formacao)==null?void 0:M.residencia)==null?void 0:I.nome)||((Y=(z=t.medico)==null?void 0:z.residencia)==null?void 0:Y.nome)||"",N=t.instituicaoResidencia||t.instituicao_residencia||((K=(F=t.formacao)==null?void 0:F.residencia)==null?void 0:K.instituicao)||((H=(D=t.medico)==null?void 0:D.residencia)==null?void 0:H.instituicao)||"",v=t.anoResidencia||t.ano_residencia||((X=(q=t.formacao)==null?void 0:q.residencia)==null?void 0:X.ano)||((O=(te=t.medico)==null?void 0:te.residencia)==null?void 0:O.ano)||"",w=t.experiencia||t.experiencias||((V=t.medico)==null?void 0:V.experiencia)||"",_=t.motivacao||t.motivo||t.justificativa||t.reason||"";return{...n,dataAprovacao:a,dataRejeicao:o,documentos:m.length?m:n.documentos,endereco:x,instituicaoFormacao:p,anoFormacao:j,residencia:b,instituicaoResidencia:N,anoResidencia:v,experiencia:w,motivacao:_}}function QA(){const[t,n]=g.useState({nome:"",cnpj:"",email:"",responsavel:""}),[a,o]=g.useState(""),[i,c]=g.useState(""),[d,u]=g.useState(""),[m,h]=g.useState(""),[x,p]=g.useState(!1),[j,b]=g.useState(""),[N,v]=g.useState(""),{toast:w}=Mt(),_=R=>{const A=String(R||"").replace(/\D/g,"").slice(0,14),P=A.slice(0,2),T=A.slice(2,5),k=A.slice(5,8),$=A.slice(8,12),M=A.slice(12,14);return A.length>12?`${P}.${T}.${k}/${$}-${M}`:A.length>8?`${P}.${T}.${k}/${$}`:A.length>5?`${P}.${T}.${k}`:A.length>2?`${P}.${T}`:P},C=async()=>{w({title:"Configurações",description:"Alterações salvas (stub)."})};async function E(R=!0){var A,P,T,k,$;if(b(""),v(""),!a){b("Informe o e-mail da secretária.");return}p(!0);try{let M=null;if(R){const I={email:a,first_name:i||void 0,last_name:d||void 0,password:m||void 0,role:"secretaria",type:"secretaria"},z=await kt.createUsuario(I);if(M=(z==null?void 0:z.id)||((A=z==null?void 0:z.usuario)==null?void 0:A.id)||((P=z==null?void 0:z.user)==null?void 0:P.id)||(z==null?void 0:z.pk)||null,!M){const Y=z&&typeof z=="object"?((T=z.user)==null?void 0:T.pk)||((k=z.usuario)==null?void 0:k.pk):null;Y&&(M=Y)}if(!M)throw new Error("Não foi possível obter o ID da secretária criada.")}else{const I=await kt.getUsuarios({search:a,page:1,page_size:100}),Y=(Array.isArray(I==null?void 0:I.results)?I.results:Array.isArray(I)?I:[]).find(F=>String(F.email||"").toLowerCase()===a.toLowerCase());if(!Y)throw new Error("Não foi possível localizar uma usuária com esse e-mail.");if(M=Y.id||Y.pk,!M)throw new Error("Usuária encontrada, porém sem ID válido.")}await ts.vincularSecretaria(M),v("Secretária vinculada com sucesso."),o(""),c(""),u(""),h("")}catch(M){const I=($=M==null?void 0:M.response)!=null&&$.data?JSON.stringify(M.response.data):(M==null?void 0:M.message)||"Falha ao processar solicitação.";b(I)}finally{p(!1)}}return e.jsxs(Zj,{children:[e.jsx("div",{className:"space-y-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Configurações"})}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Dados da Clínica"}),e.jsx(Ue,{children:"Edite os dados básicos"})]}),e.jsxs(de,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx(fe,{value:t.nome,onChange:R=>n({...t,nome:R.target.value}),placeholder:"Nome da clínica"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"CNPJ"}),e.jsx(fe,{value:t.cnpj,onChange:R=>n({...t,cnpj:_(R.target.value)}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx(fe,{type:"email",value:t.email,onChange:R=>n({...t,email:R.target.value}),placeholder:"email@clinica.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Responsável"}),e.jsx(fe,{value:t.responsavel,onChange:R=>n({...t,responsavel:R.target.value}),placeholder:"Nome do responsável"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(ne,{onClick:C,children:"Salvar alterações"})})]})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Adicionar secretária"}),e.jsx(Ue,{children:"Crie uma nova secretária ou vincule por e-mail existente"})]}),e.jsxs(de,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[j&&e.jsx("div",{className:"text-sm text-red-600",children:j}),N&&e.jsx("div",{className:"text-sm text-emerald-700",children:N})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(ce,{children:"E-mail da secretária"}),e.jsx(fe,{type:"email",value:a,onChange:R=>o(R.target.value),placeholder:"secretaria@exemplo.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Nome (opcional)"}),e.jsx(fe,{value:i,onChange:R=>c(R.target.value),placeholder:"Nome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Sobrenome (opcional)"}),e.jsx(fe,{value:d,onChange:R=>u(R.target.value),placeholder:"Sobrenome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Senha (opcional)"}),e.jsx(fe,{type:"password",value:m,onChange:R=>h(R.target.value),placeholder:"Senha inicial (ou deixe em branco)"})]}),e.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[e.jsx(ne,{onClick:()=>E(!0),disabled:x,children:x?"Processando...":"Criar e vincular"}),e.jsx(ne,{variant:"outline",onClick:()=>E(!1),disabled:x,children:x?"Processando...":"Vincular por e-mail"})]})]})]})]})}function XA(){const[t,n]=g.useState({totalUsuarios:0,medicosAtivos:0,clinicasAtivas:0,solicitacoesPendentes:0,solicitacoesHoje:0,aprovacoesSemana:0,rejeicoesSemana:0,aprovadosMedicosSemana:0,aprovadasClinicasSemana:0,rejeitadosMedicosSemana:0,rejeitadasClinicasSemana:0}),[a,o]=g.useState([]),[i,c]=g.useState(!0),d=()=>{const h=new Date,x=h.getDay(),p=h.getDate()-x+(x===0?-6:1),j=new Date(h);return j.setDate(p),j.setHours(0,0,0,0),j};g.useEffect(()=>{let h=!0;return(async()=>{var j,b,N;const p=d();try{const v=await kt.getDashboard();h&&v&&n(w=>({...w,totalUsuarios:v.total_usuarios??v.totalUsuarios??w.totalUsuarios,medicosAtivos:v.medicos_ativos??v.medicosAtivos??w.medicosAtivos,clinicasAtivas:v.clinicas_ativas??v.clinicasAtivas??w.clinicasAtivas,solicitacoesPendentes:v.solicitacoes_pendentes??v.solicitacoesPendentes??w.solicitacoesPendentes,aprovacoesSemana:v.aprovacoes_semana??v.aprovacoesSemana??w.aprovacoesSemana,rejeicoesSemana:v.rejeicoes_semana??v.rejeicoesSemana??w.rejeicoesSemana,aprovadosMedicosSemana:v.aprovados_medicos_semana??v.aprovadosMedicosSemana??w.aprovadosMedicosSemana,aprovadasClinicasSemana:v.aprovadas_clinicas_semana??v.aprovadasClinicasSemana??w.aprovadasClinicasSemana,rejeitadosMedicosSemana:v.rejeitados_medicos_semana??v.rejeitadosMedicosSemana??w.rejeitadosMedicosSemana,rejeitadasClinicasSemana:v.rejeitadas_clinicas_semana??v.rejeitadasClinicasSemana??w.rejeitadasClinicasSemana}))}catch(v){console.warn("[AdminDashboard] getDashboard falhou:",(j=v==null?void 0:v.response)==null?void 0:j.status)}try{const v=await kt.getSolicitacoes({status:"pending",limit:5}),_=(Array.isArray(v==null?void 0:v.results)?v.results:Array.isArray(v)?v:[]).map(C=>({...C,nome:C.nome??C.name??C.title??"",tipo:(C.tipo??C.type??"").toString().toLowerCase(),dataEnvio:C.dataEnvio??C.created_at??C.data_envio??null}));if(h){o(_);const C=new Date().toDateString(),E=_.filter(R=>{const A=new Date(R.dataEnvio);return!isNaN(A)&&A.toDateString()===C}).length;n(R=>({...R,solicitacoesHoje:E}))}}catch(v){console.warn("[AdminDashboard] getSolicitacoes falhou (pendentes recentes):",(b=v==null?void 0:v.response)==null?void 0:b.status)}try{const v=d().toISOString(),w=async T=>{const k=await kt.getSolicitacoes({status:T,limit:100,created_at__gte:v});return(Array.isArray(k==null?void 0:k.results)?k.results:Array.isArray(k)?k:[]).map(M=>({tipo:(M.tipo??M.type??"").toString().toLowerCase(),createdAt:M.created_at??M.data_envio??M.dataEnvio??null})).filter(M=>{const I=new Date(M.createdAt);return M.createdAt&&!isNaN(I)&&I>=p})},[_,C]=await Promise.all([w("approved"),w("rejected")]),E=_.filter(T=>T.tipo==="medico").length,R=_.filter(T=>T.tipo==="clinica").length,A=C.filter(T=>T.tipo==="medico").length,P=C.filter(T=>T.tipo==="clinica").length;h&&n(T=>({...T,aprovacoesSemana:T.aprovacoesSemana||0||_.length,rejeicoesSemana:T.rejeicoesSemana||0||C.length,aprovadosMedicosSemana:T.aprovadosMedicosSemana||0||E,aprovadasClinicasSemana:T.aprovadasClinicasSemana||0||R,rejeitadosMedicosSemana:T.rejeitadosMedicosSemana||0||A,rejeitadasClinicasSemana:T.rejeitadasClinicasSemana||0||P}))}catch(v){console.warn("[AdminDashboard] cálculo semanal (fallback) falhou:",(N=v==null?void 0:v.response)==null?void 0:N.status)}finally{h&&c(!1)}})(),()=>{h=!1}},[]);const u=h=>{switch(h){case"pending":return e.jsxs(dt,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(Nt,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(dt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(dt,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(kn,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},m=h=>{switch(h){case"alta":return e.jsx(dt,{variant:"destructive",className:"text-xs",children:"Alta"});case"normal":return e.jsx(dt,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(dt,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Administrativo"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie usuários e solicitações do sistema"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Total de Usuários"}),e.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.totalUsuarios}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% em relação ao mês passado"})]})]}),e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Médicos Ativos"}),e.jsx(At,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.medicosAtivos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+5 novos esta semana"})]})]}),e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Clínicas Ativas"}),e.jsx(aa,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.clinicasAtivas}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 novas este mês"})]})]}),e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Solicitações Pendentes"}),e.jsx(Cl,{className:"h-4 w-4 text-amber-500"})]}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.solicitacoesPendentes}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.solicitacoesHoje," novas hoje"]})]})]})]}),e.jsxs(le,{className:"shadow-sm border",children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Ações Rápidas"}),e.jsx(Ue,{children:"Acesso rápido às principais funcionalidades"})]}),e.jsxs(de,{className:"space-y-3",children:[e.jsx(Xe,{to:{pathname:"/admin/solicitacoes",search:"?status=pending"},children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:"app-quick-icon warning",children:e.jsx(Nt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:"Solicitações Pendentes"}),e.jsxs("p",{className:"app-quick-desc",children:[t.solicitacoesPendentes," solicitações aguardando análise"]})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(Vs,{className:"h-4 w-4"})})]})}),e.jsx(Xe,{to:"/admin/usuarios",children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:"app-quick-icon info",children:e.jsx(os,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:"Gerenciar Usuários"}),e.jsx("p",{className:"app-quick-desc",children:"Visualizar e gerenciar todos os usuários do sistema"})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(Vs,{className:"h-4 w-4"})})]})}),e.jsx(Xe,{to:"/admin/relatorios",children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:"app-quick-icon success",children:e.jsx(hv,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:"Relatórios"}),e.jsx("p",{className:"app-quick-desc",children:"Visualizar estatísticas e relatórios do sistema"})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(Vs,{className:"h-4 w-4"})})]})})]})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(pe,{children:"Solicitações Recentes"}),e.jsx(Ue,{children:"Últimas solicitações de cadastro no sistema"})]}),e.jsx(ne,{variant:"outline",asChild:!0,children:e.jsx(Xe,{to:"/admin/solicitacoes",children:"Ver Todas"})})]})}),e.jsx(de,{children:e.jsx("div",{className:"space-y-4",children:a.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center",children:h.tipo==="medico"?e.jsx(At,{className:"h-5 w-5"}):e.jsx(aa,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:h.nome}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:h.tipo==="medico"?`${h.especialidade} - ${h.crm}`:`${h.cnpj} - ${h.responsavel}`}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(h.dataEnvio).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[m(h.urgencia),u(h.status),h.status==="pending"&&e.jsx(ne,{size:"sm",asChild:!0,children:e.jsx(Xe,{to:`/admin/solicitacoes/${h.id}`,children:"Revisar"})})]})]},h.id))})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(ra,{className:"h-5 w-5 text-green-500"}),"Aprovações desta Semana"]})}),e.jsxs(de,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:t.aprovacoesSemana}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.aprovadosMedicosSemana," médicos e ",t.aprovadasClinicasSemana," clínicas aprovados"]})]})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(kn,{className:"h-5 w-5 text-red-500"}),"Rejeições desta Semana"]})}),e.jsxs(de,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:t.rejeicoesSemana}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.rejeitadosMedicosSemana," médicos e ",t.rejeitadasClinicasSemana," clínicas rejeitados"]})]})]})]})]})}function ZA(){const[t,n]=g.useState(""),[a,o]=g.useState("all"),[i,c]=g.useState("all"),[d,u]=g.useState("all"),[m,h]=g.useState(!1),[x,p]=g.useState([]),j=g.useRef(null),{toast:b}=Mt(),N=g.useMemo(()=>({search:t.trim(),status:a,tipo:i,urgencia:d}),[t,a,i,d]);g.useEffect(()=>{h(!0);const k=setTimeout(async()=>{if(j.current)try{j.current.abort()}catch{}const $=new AbortController;j.current=$;try{const M={};N.status!=="all"&&(M.status=N.status),N.tipo!=="all"&&(M.tipo=N.tipo),N.urgencia!=="all"&&(M.urgencia=N.urgencia),N.search&&(M.search=N.search);const I=await kt.getSolicitacoes(M,{signal:$.signal}),z=Array.isArray(I==null?void 0:I.results)?I.results:Array.isArray(I)?I:[];p(z)}catch(M){(M==null?void 0:M.name)!=="AbortError"&&p([])}finally{h(!1)}},400);return()=>clearTimeout(k)},[N]);const v=async k=>{h(!0);try{const $=await kt.aprovarSolicitacao(k);p(M=>M.map(I=>I.id===k?{...I,status:"approved",aprovadoPor:($==null?void 0:$.approved_by)||I.aprovadoPor||"",dataAprovacao:($==null?void 0:$.approved_at)||I.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:I)),b({title:"Solicitação aprovada",description:"A solicitação foi aprovada com sucesso."})}catch{b({title:"Erro ao aprovar",description:"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{h(!1)}},w=async k=>{const $=window.prompt("Informe o motivo da rejeição:");if($!==null){h(!0);try{const M=await kt.rejeitarSolicitacao(k,($||"").trim());p(I=>I.map(z=>z.id===k?{...z,status:"rejected",rejeitadoPor:(M==null?void 0:M.rejected_by)||z.rejeitadoPor||"",dataRejeicao:(M==null?void 0:M.rejected_at)||z.dataRejeicao||new Date().toISOString(),motivoRejeicao:(M==null?void 0:M.rejection_reason)||$||z.motivoRejeicao||"",aprovadoPor:"",dataAprovacao:null}:z)),b({title:"Solicitação rejeitada",description:"A solicitação foi rejeitada."})}catch{b({title:"Erro ao rejeitar",description:"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{h(!1)}}},_=k=>{switch(k){case"pending":return e.jsxs(dt,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(Nt,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(dt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(dt,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(kn,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},C=k=>{switch(k){case"alta":return e.jsxs(dt,{variant:"destructive",className:"text-xs",children:[e.jsx(bo,{className:"mr-1 h-2 w-2"}),"Alta"]});case"normal":return e.jsx(dt,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(dt,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}},E=x.filter(k=>{const $=(k.nome||"").toLowerCase().includes(t.toLowerCase())||(k.email||"").toLowerCase().includes(t.toLowerCase())||k.crm&&String(k.crm).toLowerCase().includes(t.toLowerCase())||k.cnpj&&String(k.cnpj).includes(t),M=a==="all"||k.status===a,I=i==="all"||k.tipo===i,z=d==="all"||k.urgencia===d;return $&&M&&I&&z}),R=E.filter(k=>k.status==="pending"),A=E.filter(k=>k.status==="approved"),P=E.filter(k=>k.status==="rejected"),T=({solicitacao:k})=>e.jsxs(le,{className:"hover:shadow-md transition-shadow rounded-xl",children:[e.jsx(me,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`app-quick-icon ${k.tipo==="medico"?"info":"primary"} h-10 w-10`,children:k.tipo==="medico"?e.jsx(At,{className:"h-5 w-5"}):e.jsx(aa,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx(pe,{className:"text-lg",children:k.nome}),e.jsx(Ue,{children:k.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C(k.urgencia),_(k.status)]})]})}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:k.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("p",{children:k.tipo==="medico"?k.especialidade:k.cnpj})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:k.tipo==="medico"?"CRM":"Responsável"}),e.jsx("p",{children:k.tipo==="medico"?k.crm:k.responsavel})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Data de Envio"}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"h-3 w-3"}),new Date(k.dataEnvio).toLocaleDateString()," às"," ",new Date(k.dataEnvio).toLocaleTimeString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Documentos"}),e.jsxs("p",{children:[Array.isArray(k.documentos)?k.documentos.length:0," arquivo(s)"]})]})]}),k.observacoes&&e.jsx("div",{className:"bg-muted/50 p-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:k.observacoes})}),k.status==="approved"&&e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[e.jsx("strong",{children:"Aprovado em:"})," ",k.dataAprovacao?new Date(k.dataAprovacao).toLocaleDateString():"—",k.aprovadoPor?e.jsxs(e.Fragment,{children:[" por ",k.aprovadoPor]}):null]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(Xe,{to:`/admin/solicitacoes/${k.id}`,children:[e.jsx(pr,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),k.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(ne,{variant:"success",size:"sm",onClick:()=>v(k.id),children:"Aprovar"}),e.jsx(ne,{variant:"destructive",size:"sm",onClick:()=>w(k.id),children:"Rejeitar"})]})]})]})})]},k.id);return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Solicitações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie solicitações de médicos e clínicas."})]})}),e.jsxs(le,{className:"rounded-xl",children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Filtros"}),e.jsx(Ue,{children:"Use os filtros para refinar sua busca."})]}),e.jsx(de,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por nome, e-mail, CRM ou CNPJ",className:"pl-9",value:t,onChange:k=>n(k.target.value)})]}),e.jsx("div",{children:e.jsxs(lt,{value:a,onValueChange:o,children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Status"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"all",children:"Todos"}),e.jsx(we,{value:"pending",children:"Pendente"}),e.jsx(we,{value:"approved",children:"Aprovado"}),e.jsx(we,{value:"rejected",children:"Rejeitado"})]})]})}),e.jsx("div",{children:e.jsxs(lt,{value:i,onValueChange:c,children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Tipo"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"all",children:"Todos"}),e.jsx(we,{value:"medico",children:"Médicos"}),e.jsx(we,{value:"clinica",children:"Clínicas"})]})]})}),e.jsx("div",{children:e.jsxs(lt,{value:d,onValueChange:u,children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Urgência"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"all",children:"Todas"}),e.jsx(we,{value:"alta",children:"Alta"}),e.jsx(we,{value:"normal",children:"Normal"}),e.jsx(we,{value:"baixa",children:"Baixa"})]})]})})]})})]}),e.jsxs(pn,{defaultValue:"todas",className:"space-y-4",children:[e.jsxs(hn,{children:[e.jsxs(ft,{value:"todas",className:"gap-2",children:[e.jsx(Sm,{className:"h-4 w-4"})," Todas"]}),e.jsxs(ft,{value:"pendentes",className:"gap-2",children:[e.jsx(Nt,{className:"h-4 w-4"})," Pendentes"]}),e.jsxs(ft,{value:"aprovadas",className:"gap-2",children:[e.jsx(ra,{className:"h-4 w-4"})," Aprovadas"]}),e.jsxs(ft,{value:"rejeitadas",className:"gap-2",children:[e.jsx(kn,{className:"h-4 w-4"})," Rejeitadas"]})]}),e.jsx(vt,{value:"todas",children:m?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):E.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação encontrada."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:E.map(k=>e.jsx(T,{solicitacao:k},k.id))})}),e.jsx(vt,{value:"pendentes",children:m?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):R.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação pendente."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:R.map(k=>e.jsx(T,{solicitacao:k},k.id))})}),e.jsx(vt,{value:"aprovadas",children:m?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):A.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação aprovada."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:A.map(k=>e.jsx(T,{solicitacao:k},k.id))})}),e.jsx(vt,{value:"rejeitadas",children:m?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):P.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação rejeitada."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:P.map(k=>e.jsx(T,{solicitacao:k},k.id))})})]})]})}function e4(){var _;const{id:t}=jr(),n=cs(),{toast:a}=Mt(),[o,i]=g.useState(!1),[c,d]=g.useState(""),[u,m]=g.useState(""),[h,x]=g.useState(!0),[p,j]=g.useState(null);if(g.useEffect(()=>{let C=!0;return(async()=>{try{const R=await kt.getSolicitacao(t);C&&j(R)}catch{a({title:"Erro ao carregar",description:"Não foi possível carregar a solicitação.",variant:"destructive"}),n("/admin/solicitacoes")}finally{C&&x(!1)}})(),()=>{C=!1}},[t]),h)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ne,{variant:"ghost",onClick:()=>n("/admin/solicitacoes"),children:[e.jsx(So,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),e.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitação"})]})]})});if(!p)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ne,{variant:"ghost",onClick:()=>n("/admin/solicitacoes"),children:[e.jsx(So,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitação não encontrada"}),e.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const b=async()=>{i(!0);try{await kt.aprovarSolicitacao(t,c||""),a({title:"Solicitação aprovada!",description:`${(p==null?void 0:p.nome)||"Solicitação"} aprovada com sucesso.`}),n("/admin/solicitacoes")}catch{a({title:"Erro",description:"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{i(!1)}},N=async()=>{if(!u.trim()){a({title:"Motivo obrigatório",description:"Por favor, informe o motivo da rejeição.",variant:"destructive"});return}i(!0);try{await kt.rejeitarSolicitacao(t,u.trim()),a({title:"Solicitação rejeitada",description:`A solicitação de ${(p==null?void 0:p.nome)||""} foi rejeitada.`}),n("/admin/solicitacoes")}catch{a({title:"Erro",description:"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{i(!1)}},v=C=>{switch(C){case"pending":return e.jsxs(dt,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(bo,{className:"mr-1 h-3 w-3"}),"Aguardando Análise"]});case"approved":return e.jsxs(dt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(dt,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(kn,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},w=(p==null?void 0:p.endereco)||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ne,{variant:"ghost",onClick:()=>n("/admin/solicitacoes"),children:[e.jsx(So,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitação"}),e.jsx("p",{className:"text-muted-foreground",children:"Análise completa da solicitação de cadastro"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`app-quick-icon ${p.tipo==="medico"?"info":"primary"} h-12 w-12`,children:p.tipo==="medico"?e.jsx(At,{className:"h-6 w-6"}):e.jsx(aa,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(pe,{className:"text-xl",children:p.nome}),e.jsx(Ue,{children:p.tipo==="medico"?"Solicitação de Cadastro Médico":"Solicitação de Cadastro de Clínica"})]})]}),v(p.status)]})}),e.jsxs(de,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Sr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:p.email})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Io,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:p.telefone})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:p.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("span",{children:p.especialidade})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:p.tipo==="medico"?"CRM":"Responsável Técnico"}),e.jsx("span",{children:p.crm})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Data de Envio"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[new Date(p.dataEnvio||p.created_at).toLocaleDateString()," às"," ",new Date(p.dataEnvio||p.created_at).toLocaleTimeString()]})]})]})]}),e.jsx(Ts,{}),p.tipo==="medico"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formação Acadêmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Instituição de Formação"}),e.jsx("span",{children:p.instituicaoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Ano de Formação"}),e.jsx("span",{children:p.anoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Residência"}),e.jsx("span",{children:p.residencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Instituição da Residência"}),e.jsx("span",{children:p.instituicaoResidencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Ano da Residência"}),e.jsx("span",{children:p.anoResidencia})]})]})]}),e.jsx(Ts,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experiência Profissional"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:p.experiencia})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Motivação"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:p.motivacao})})]}),e.jsx(Ts,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Endereço"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"CEP"}),e.jsx("span",{children:w.cep||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Logradouro"}),e.jsx("span",{children:w.logradouro||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Bairro"}),e.jsx("span",{children:w.bairro||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Cidade/Estado"}),e.jsxs("span",{children:[w.cidade||"—","/",w.estado||"—"]})]})]})]})]})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5"}),"Documentos Enviados"]}),e.jsxs(Ue,{children:[((_=p.documentos)==null?void 0:_.length)||0," documento(s) anexado(s)"]})]}),e.jsx(de,{children:e.jsx("div",{className:"space-y-3",children:(p.documentos||[]).map((C,E)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(is,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:C.nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.tamanho," • Enviado em ",new Date(C.dataUpload).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx(pr,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),e.jsxs(ne,{variant:"outline",size:"sm",children:[e.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},E))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[p.status==="pending"&&e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Ações"}),e.jsx(Ue,{children:"Aprovar ou rejeitar esta solicitação"})]}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"observacoes",children:"Observações (opcional)"}),e.jsx(nt,{id:"observacoes",placeholder:"Adicione observações sobre esta solicitação...",value:c,onChange:C=>d(C.target.value)})]}),e.jsxs(ne,{variant:"default",className:"w-full",onClick:b,disabled:o,children:[e.jsx(ra,{className:"mr-2 h-4 w-4"}),o?"Aprovando...":"Aprovar Solicitação"]}),e.jsx(Ts,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"motivoRejeicao",children:"Motivo da Rejeição"}),e.jsx(nt,{id:"motivoRejeicao",placeholder:"Informe o motivo da rejeição...",value:u,onChange:C=>m(C.target.value)})]}),e.jsxs(ne,{variant:"destructive",className:"w-full",onClick:N,disabled:o,children:[e.jsx(kn,{className:"mr-2 h-4 w-4"}),o?"Rejeitando...":"Rejeitar Solicitação"]})]})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Informações do Sistema"})}),e.jsxs(de,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"ID da Solicitação:"}),e.jsxs("span",{className:"font-mono",children:["#",p.id.toString().padStart(6,"0")]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),e.jsx("span",{className:"capitalize",children:p.tipo})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Urgência:"}),e.jsx(dt,{variant:p.urgencia==="alta"?"destructive":"secondary",className:"text-xs",children:p.urgencia})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),v(p.status)]})]})]})]})]})]})}const gg=[{value:"7",label:"Últimos 7 dias"},{value:"30",label:"Últimos 30 dias"},{value:"90",label:"Últimos 90 dias"}];function t4(t){const n=new Date(t);return n.setHours(0,0,0,0),n}function s4(t){const n=new Date(t);return n.setHours(23,59,59,999),n}function Du(t){const n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return`${n}-${a}-${o}`}function n4(){var w;const[t,n]=g.useState("7"),[a,o]=g.useState("all"),[i,c]=g.useState(!1),[d,u]=g.useState(null),[m,h]=g.useState([]),{startISO:x,endISO:p,daysList:j,startDate:b,endDate:N}=g.useMemo(()=>{const _=new Date,C=s4(_),E=t4(new Date(_.getTime()-(parseInt(t)-1)*24*60*60*1e3)),R=[];let A=new Date(E);for(;A<=C;)R.push(Du(A)),A.setDate(A.getDate()+1);return{startISO:E.toISOString(),endISO:C.toISOString(),startDate:E,endDate:C,daysList:R}},[t]);g.useEffect(()=>{let _=!0;async function C(){var E,R,A,P,T,k;c(!0),u(null);try{const $={ordering:"-created_at",limit:100,created_at__gte:x,created_at__lte:p},M=await kt.getSolicitacoes($);let z=[...Array.isArray(M==null?void 0:M.results)?M.results:Array.isArray(M)?M:[]],Y=M==null?void 0:M.next,F=0;for(;Y&&F<20;){const D=await ue.get(Y),H=Array.isArray((E=D.data)==null?void 0:E.results)?D.data.results:Array.isArray(D.data)?D.data:[];z=z.concat(H),Y=(R=D.data)==null?void 0:R.next,F++}const K=z.map(D=>({id:D.id,status:String(D.status||"").toLowerCase(),tipo:String(D.tipo||D.type||"").toLowerCase(),createdAt:D.created_at||D.data_envio||D.dataEnvio||null})).filter(D=>a==="all"?!0:D.tipo===a).filter(D=>{const H=new Date(D.createdAt);return D.createdAt&&!isNaN(H)&&H>=b&&H<=N});_&&h(K)}catch($){if(_){const M=(A=$==null?void 0:$.response)==null?void 0:A.status,z=(typeof((P=$==null?void 0:$.response)==null?void 0:P.data)=="string"?null:(k=(T=$==null?void 0:$.response)==null?void 0:T.data)==null?void 0:k.detail)||($==null?void 0:$.message)||"Falha ao carregar relatórios";u(M?`Erro ${M}: ${z}`:z)}}finally{_&&c(!1)}}return C(),()=>{_=!1}},[x,p,a,b,N]);const v=g.useMemo(()=>{const _=m.length,C=m.filter(I=>I.status==="approved").length,E=m.filter(I=>I.status==="rejected").length,R=m.filter(I=>I.status==="pending").length,A=m.filter(I=>I.status==="approved"&&I.tipo==="medico").length,P=m.filter(I=>I.status==="approved"&&I.tipo==="clinica").length,T=m.filter(I=>I.status==="rejected"&&I.tipo==="medico").length,k=m.filter(I=>I.status==="rejected"&&I.tipo==="clinica").length,$=j.map(I=>{const z=m.filter(K=>K.status==="approved"&&Du(new Date(K.createdAt))===I).length,Y=m.filter(K=>K.status==="rejected"&&Du(new Date(K.createdAt))===I).length,F=z+Y;return{ymd:I,aprov:z,rej:Y,total:F}}),M=Math.max(1,...$.map(I=>I.total));return{total:_,aprovadas:C,rejeitadas:E,pendentes:R,aprovMed:A,aprovCli:P,rejMed:T,rejCli:k,byDay:$,maxDay:M}},[m,j]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Relatórios"}),e.jsx("p",{className:"text-muted-foreground",children:"Acompanhe métricas de solicitações por período"})]}),e.jsx(le,{children:e.jsxs(me,{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx(pe,{children:"Filtros"}),e.jsx(Ue,{children:"Selecione o período e o tipo de solicitação"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Sm,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(lt,{value:t,onValueChange:n,children:[e.jsx(rt,{className:"w-[180px]",children:e.jsx(ct,{placeholder:"Período"})}),e.jsx(ot,{children:gg.map(_=>e.jsx(we,{value:_.value,children:_.label},_.value))})]})]}),e.jsxs(lt,{value:a,onValueChange:o,children:[e.jsx(rt,{className:"w-[180px]",children:e.jsx(ct,{placeholder:"Tipo"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"all",children:"Todos os tipos"}),e.jsx(we,{value:"medico",children:"Médico"}),e.jsx(we,{value:"clinica",children:"Clínica"})]})]}),e.jsxs(ne,{variant:"outline",size:"sm",disabled:i,onClick:()=>n(t),children:[e.jsx(fv,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(le,{children:[e.jsx(me,{className:"pb-2",children:e.jsx(pe,{className:"text-sm font-medium",children:"Total no Período"})}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold",children:v.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:(w=gg.find(_=>_.value===t))==null?void 0:w.label})]})]}),e.jsxs(le,{children:[e.jsx(me,{className:"pb-2",children:e.jsxs(pe,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ra,{className:"h-4 w-4 text-green-500"}),"Aprovadas"]})}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.aprovadas}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.aprovMed," médicos • ",v.aprovCli," clínicas"]})]})]}),e.jsxs(le,{children:[e.jsx(me,{className:"pb-2",children:e.jsxs(pe,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(kn,{className:"h-4 w-4 text-red-500"}),"Rejeitadas"]})}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:v.rejeitadas}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.rejMed," médicos • ",v.rejCli," clínicas"]})]})]}),e.jsxs(le,{children:[e.jsx(me,{className:"pb-2",children:e.jsxs(pe,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Nt,{className:"h-4 w-4 text-amber-500"}),"Pendentes"]})}),e.jsxs(de,{children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:v.pendentes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando revisão"})]})]})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Série diária (Aprovadas x Rejeitadas)"}),e.jsx(Ue,{children:"Distribuição por dia no período filtrado"})]}),e.jsxs(de,{className:"space-y-2",children:[v.byDay.map(_=>{const C=Math.round(_.aprov/v.maxDay*100),E=Math.round(_.rej/v.maxDay*100);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[e.jsx("span",{children:_.ymd}),e.jsxs("span",{children:[e.jsxs(dt,{variant:"outline",className:"mr-1",children:["Aprovadas: ",_.aprov]}),e.jsxs(dt,{variant:"outline",children:["Rejeitadas: ",_.rej]})]})]}),e.jsxs("div",{className:"h-3 w-full rounded bg-muted overflow-hidden",children:[e.jsx("div",{className:"h-3 bg-green-500/80 inline-block",style:{width:`${C}%`},title:`Aprovadas: ${_.aprov}`}),e.jsx("div",{className:"h-3 bg-red-500/80 inline-block",style:{width:`${E}%`},title:`Rejeitadas: ${_.rej}`})]})]},_.ymd)}),!v.byDay.length&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"Sem dados no período escolhido."})]})]}),i&&e.jsx(le,{children:e.jsx(de,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-1/3"}),e.jsx("div",{className:"h-24 bg-muted rounded"})]})})}),d&&e.jsx(le,{children:e.jsx(de,{className:"p-6",children:e.jsxs("p",{className:"text-sm text-red-600",children:["Erro ao carregar: ",String(d)]})})})]})}function a4(){const[t,n]=g.useState([]),[a,o]=g.useState(!1),[i,c]=g.useState(null),[d,u]=g.useState(null),[m,h]=g.useState(null),[x,p]=g.useState(""),[j,b]=g.useState(""),[N,v]=g.useState(""),[w,_]=g.useState(""),[C,E]=g.useState(""),[R,A]=g.useState(""),[P,T]=g.useState(""),k=g.useMemo(()=>{const M={ordering:"-created_at",limit:20};return x&&(M.action=x),j&&(M.entity=j),N&&(M.status=N),w&&(M.user=w),C&&(M.created_at__gte=new Date(C).toISOString()),R&&(M.created_at__lte=new Date(R).toISOString()),P&&(M.search=P),M},[x,j,N,w,C,R,P]),$=async M=>{var I,z,Y,F;o(!0),c(null);try{const K=typeof M=="string"?await ue.get(M):await kt.getAuditoria(M),D=(K==null?void 0:K.data)??K,H=Array.isArray(D==null?void 0:D.results)?D.results:Array.isArray(D)?D:[];n(H),u((D==null?void 0:D.next)||null),h((D==null?void 0:D.previous)||null)}catch(K){const D=(I=K==null?void 0:K.response)==null?void 0:I.status,q=(typeof((z=K==null?void 0:K.response)==null?void 0:z.data)=="string"?null:(F=(Y=K==null?void 0:K.response)==null?void 0:Y.data)==null?void 0:F.detail)||(K==null?void 0:K.message)||"Falha ao carregar auditoria";c(D?`Erro ${D}: ${q}`:q)}finally{o(!1)}};return g.useEffect(()=>{$(k)},[k]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Auditoria"}),e.jsx("p",{className:"text-muted-foreground",children:"Acompanhe registros de ações do sistema"})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Filtros"}),e.jsx(Ue,{children:"Refine a busca por período, usuário e tipo de ação"})]}),e.jsxs(de,{className:"grid md:grid-cols-6 gap-3",children:[e.jsx(fe,{type:"date",value:C,onChange:M=>E(M.target.value),placeholder:"Início"}),e.jsx(fe,{type:"date",value:R,onChange:M=>A(M.target.value),placeholder:"Fim"}),e.jsx(fe,{value:w,onChange:M=>_(M.target.value),placeholder:"Usuário (UUID)"}),e.jsxs(lt,{value:N,onValueChange:M=>v(M==="all"?"":M),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Status"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"all",children:"Todos"}),e.jsx(we,{value:"success",children:"Sucesso"}),e.jsx(we,{value:"fail",children:"Falha"})]})]}),e.jsx(fe,{value:x,onChange:M=>p(M.target.value),placeholder:"Ação (ex: login)"}),e.jsx(fe,{value:j,onChange:M=>b(M.target.value),placeholder:"Entidade (ex: Consulta)"}),e.jsxs("div",{className:"md:col-span-6 flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx(fe,{value:P,onChange:M=>T(M.target.value),placeholder:"Buscar (ação, entidade, IP, usuário)"})}),e.jsxs(ne,{variant:"outline",onClick:()=>$(k),children:[e.jsx(qs,{className:"mr-2 h-4 w-4"})," Buscar"]}),e.jsxs(ne,{variant:"ghost",onClick:()=>{p(""),b(""),v(""),_(""),E(""),A(""),T("")},children:[e.jsx(fv,{className:"mr-2 h-4 w-4"})," Limpar"]})]})]})]}),e.jsxs(le,{children:[e.jsxs(me,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(pe,{children:"Registros"}),e.jsx(Ue,{children:"Resultados paginados (20 por página)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{variant:"outline",size:"sm",disabled:!m||a,onClick:()=>$(m),children:e.jsx(uv,{className:"h-4 w-4"})}),e.jsx(ne,{variant:"outline",size:"sm",disabled:!d||a,onClick:()=>$(d),children:e.jsx(Vs,{className:"h-4 w-4"})})]})]}),e.jsxs(de,{className:"overflow-x-auto",children:[i&&e.jsx("div",{className:"text-red-600 text-sm mb-2",children:i}),e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b",children:[e.jsx("th",{className:"py-2 px-3",children:"Data"}),e.jsx("th",{className:"py-2 px-3",children:"Usuário"}),e.jsx("th",{className:"py-2 px-3",children:"Ação"}),e.jsx("th",{className:"py-2 px-3",children:"Entidade"}),e.jsx("th",{className:"py-2 px-3",children:"ID"}),e.jsx("th",{className:"py-2 px-3",children:"IP"}),e.jsx("th",{className:"py-2 px-3",children:"Status"})]})}),e.jsxs("tbody",{children:[!a&&t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-6 text-center text-muted-foreground",children:"Nenhum registro encontrado."})}),t.map(M=>{var I,z;return e.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[e.jsx("td",{className:"py-2 px-3 whitespace-nowrap",children:new Date(M.created_at).toLocaleString()}),e.jsx("td",{className:"py-2 px-3",children:((I=M.user)==null?void 0:I.username)||((z=M.user)==null?void 0:z.email)||"-"}),e.jsx("td",{className:"py-2 px-3",children:M.action}),e.jsx("td",{className:"py-2 px-3",children:M.entity||"-"}),e.jsx("td",{className:"py-2 px-3",children:M.entity_id||"-"}),e.jsx("td",{className:"py-2 px-3",children:M.ip_address||"-"}),e.jsx("td",{className:"py-2 px-3",children:M.status==="success"?e.jsx(dt,{className:"bg-emerald-50 text-emerald-700 border-emerald-200",variant:"outline",children:"Sucesso"}):e.jsx(dt,{className:"bg-red-50 text-red-700 border-red-200",variant:"outline",children:"Falha"})})]},M.id)})]})]})]})]})]})}function r4(){const{activeRole:t,toggleRole:n}=Oa(),{user:a}=ca(),o=cs();if(!((a==null?void 0:a.role)==="medico"||(a==null?void 0:a.is_medico)||(a==null?void 0:a.isMedico)||!1))return null;const c=()=>{n(),o(t==="medico"?"/paciente/perfil":"/medico/dashboard")};return e.jsx(ne,{variant:"outline",size:"sm",onClick:c,className:"flex items-center gap-2 transition-all duration-200 hover:shadow-md",children:t==="medico"?e.jsxs(e.Fragment,{children:[e.jsx(Wt,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Paciente"})]}):e.jsxs(e.Fragment,{children:[e.jsx(At,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Médico"})]})})}function o4(){const{isAuthenticated:t}=Oa();return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container flex h-14 items-center",children:[e.jsx("div",{className:"mr-4 flex",children:e.jsx(Xe,{to:"/",className:"mr-6 flex items-center space-x-2",children:e.jsx("span",{className:"font-bold",children:"Portal Médico"})})}),e.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:e.jsxs("nav",{className:"flex items-center space-x-2",children:[e.jsx(cc,{}),t&&e.jsx(r4,{})]})})]})}),e.jsx("main",{className:"flex-1",children:e.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8 text-center",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl",children:"Bem-vindo ao Portal Médico"}),e.jsx("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-xl dark:text-gray-400",children:"Conectando médicos e pacientes para uma experiência de saúde integrada."}),e.jsx("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-lg dark:text-gray-400",children:"Nossa plataforma oferece uma solução completa para gerenciamento de consultas, prontuários e histórico médico, facilitando a comunicação entre profissionais de saúde e pacientes."})]}),t?e.jsxs("div",{className:"space-x-4",children:[e.jsx(Xe,{to:"/medico/dashboard",children:e.jsx(ne,{children:"Acessar como Médico"})}),e.jsx(Xe,{to:"/paciente/perfil",children:e.jsx(ne,{variant:"outline",children:"Acessar como Paciente"})})]}):e.jsx("div",{className:"w-full max-w-md mx-auto mt-8",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(Xe,{to:"/login",className:"w-full",children:e.jsx(ne,{className:"w-full h-12 rounded-xl bg-app-gradient text-white font-semibold shadow-app hover:opacity-90",children:"Entrar"})}),e.jsx(Xe,{to:"/registrar",className:"w-full",children:e.jsx(ne,{variant:"outline",className:"w-full h-12 rounded-xl border-slate-300 bg-white/90 text-slate-700 shadow-sm hover:bg-white hover:shadow-md",children:"Criar Conta"})})]})})]})})})})]})}function i4(){var P,T,k,$,M,I,z,Y,F,K;const[t,n]=g.useState(!1),[a,o]=g.useState("none"),{toast:i}=Mt();cs();const{setActiveRole:c,setUserPermissions:d}=Oa(),u=((P=xt.getCurrentUser)==null?void 0:P.call(xt))||null,h=`medicoApplicationStatus:${u&&(u.id||u.pk||u.email||u.username)||"anon"}`;g.useEffect(()=>{try{const D=localStorage.getItem("medicoApplicationStatus");D&&!localStorage.getItem(h)&&(localStorage.setItem(h,D),localStorage.removeItem("medicoApplicationStatus"));const H=JSON.parse(localStorage.getItem(h)||"{}");H!=null&&H.status&&o(H.status)}catch{}},[h]);const[x,p]=g.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),j=D=>String(D||"").replace(/\D/g,"").slice(0,7),b=D=>{const{name:H,value:q}=D.target,X=H==="crm"?j(q):q;p({...x,[H]:X})},N=(D,H)=>{p({...x,[D]:H})},v=(D,H)=>{p({...x,documentos:{...x.documentos,[D]:H}})},w=g.useRef(null),_=g.useRef(null),C=g.useRef(null),E=(D,H)=>{p(q=>({...q,documentos:{...q.documentos,[D]:null}})),H!=null&&H.current&&(H.current.value="")},R=async D=>{var H,q,X,te;if(D.preventDefault(),n(!0),!((H=x.documentos)!=null&&H.diplomaMedicina)){i({title:"Arquivo obrigatório",description:"Anexe o Diploma de Medicina antes de enviar.",variant:"destructive"}),n(!1);return}try{const{solicitacaoService:O}=await jm(async()=>{const{solicitacaoService:V}=await Promise.resolve().then(()=>q0);return{solicitacaoService:V}},void 0);await O.criarSolicitacaoMedico(x),o("pending"),localStorage.setItem(h,JSON.stringify({status:"pending",at:new Date().toISOString()})),d(V=>({...V,medicoStatus:"pending"})),i({title:"Solicitação enviada!",description:"Sua solicitação para se tornar médico foi enviada para análise."})}catch(O){const V=(q=O==null?void 0:O.response)==null?void 0:q.status;if(V===404)o("pending"),localStorage.setItem(h,JSON.stringify({status:"pending",at:new Date().toISOString(),simulated:!0})),d(Z=>({...Z,medicoStatus:"pending"})),i({title:"Solicitação registrada (modo teste)",description:"Sem endpoint de backend disponível. Status salvo localmente."});else if(V===405){const Z=((X=O==null?void 0:O.config)==null?void 0:X.url)||"(desconhecido)";console.warn("Endpoint não aceita POST (405). URL usada:",Z),i({title:"Método não permitido (405)",description:`O backend não aceita POST neste endpoint: ${Z}. Verifique a variável de ambiente do endpoint de solicitações do médico ou me informe a rota correta de criação.`,variant:"destructive"})}else{const Z=(te=O==null?void 0:O.response)==null?void 0:te.data;console.error("[MedicoRegistration] criarSolicitacaoMedico falhou:",O,Z),i({title:"Erro ao enviar",description:typeof Z=="string"?Z:"Não foi possível enviar a solicitação. Verifique os campos e tente novamente.",variant:"destructive"})}}finally{n(!1)}},A=()=>{switch(a){case"pending":return e.jsxs(dt,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(Nt,{className:"mr-1 h-3 w-3"}),"Aguardando Aprovação"]});case"approved":return e.jsxs(dt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(ra,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(dt,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(kn,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}};return a==="approved"?e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5 text-green-600"}),e.jsx(pe,{className:"text-green-700",children:"Parabéns! Você é um médico aprovado"})]}),e.jsx(Ue,{children:"Sua solicitação foi aprovada. Agora você pode acessar todas as funcionalidades médicas."})]}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Você agora pode alternar entre os perfis de paciente e médico usando o botão no menu lateral."})}),e.jsx(ne,{className:"w-full",children:"Acessar Área Médica"})]})})]}):a==="pending"?e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5"}),e.jsx(pe,{children:"Solicitação de Cadastro Médico"})]}),A()]}),e.jsx(Ue,{children:"Sua solicitação está sendo analisada pela equipe administrativa."})]}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsx("strong",{children:"Status:"})," Aguardando aprovação",e.jsx("br",{}),e.jsx("strong",{children:"Enviado em:"})," ",new Date().toLocaleDateString(),e.jsx("br",{}),e.jsx("strong",{children:"Tempo estimado:"})," 2-5 dias úteis"]})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Você receberá um email quando sua solicitação for processada. Enquanto isso, você pode continuar usando o sistema como paciente."})]})})]}):a==="rejected"?e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5"}),e.jsx(pe,{children:"Solicitação de Cadastro Médico"})]}),A()]}),e.jsx(Ue,{children:"Sua solicitação foi rejeitada. Veja os motivos abaixo."})]}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[e.jsx("strong",{children:"Motivos da rejeição:"}),e.jsx("br",{}),"• Documentação incompleta",e.jsx("br",{}),"• CRM não encontrado no sistema do CFM",e.jsx("br",{}),"• Informações inconsistentes"]})}),e.jsx(ne,{variant:"outline",className:"w-full bg-transparent",onClick:()=>o("none"),children:"Enviar Nova Solicitação"})]})})]}):e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5"}),e.jsx(pe,{children:"Cadastro como Médico"})]}),e.jsx(Ue,{children:"Preencha os dados abaixo para solicitar acesso às funcionalidades médicas"})]}),e.jsx(de,{children:e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Dados Profissionais"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"crm",children:"CRM *"}),e.jsx(fe,{id:"crm",name:"crm",placeholder:"Ex: CRM/SP 123456",value:x.crm,onChange:b,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"especialidade",children:"Especialidade *"}),e.jsxs(lt,{onValueChange:D=>N("especialidade",D),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Selecione sua especialidade"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"clinica-geral",children:"Clínica Geral"}),e.jsx(we,{value:"cardiologia",children:"Cardiologia"}),e.jsx(we,{value:"dermatologia",children:"Dermatologia"}),e.jsx(we,{value:"endocrinologia",children:"Endocrinologia"}),e.jsx(we,{value:"ginecologia",children:"Ginecologia"}),e.jsx(we,{value:"neurologia",children:"Neurologia"}),e.jsx(we,{value:"ortopedia",children:"Ortopedia"}),e.jsx(we,{value:"pediatria",children:"Pediatria"}),e.jsx(we,{value:"psiquiatria",children:"Psiquiatria"}),e.jsx(we,{value:"urologia",children:"Urologia"}),e.jsx(we,{value:"outras",children:"Outras"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formação Acadêmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"instituicaoFormacao",children:"Instituição de Formação *"}),e.jsx(fe,{id:"instituicaoFormacao",name:"instituicaoFormacao",placeholder:"Ex: USP, UNIFESP, etc.",value:x.instituicaoFormacao,onChange:b,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"anoFormacao",children:"Ano de Formação *"}),e.jsx(fe,{id:"anoFormacao",name:"anoFormacao",type:"number",placeholder:"Ex: 2015",min:"1950",max:new Date().getFullYear(),value:x.anoFormacao,onChange:b,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"residencia",children:"Residência Médica"}),e.jsx(fe,{id:"residencia",name:"residencia",placeholder:"Ex: Cardiologia",value:x.residencia,onChange:b})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"instituicaoResidencia",children:"Instituição da Residência"}),e.jsx(fe,{id:"instituicaoResidencia",name:"instituicaoResidencia",placeholder:"Ex: Hospital das Clínicas",value:x.instituicaoResidencia,onChange:b})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"anoResidencia",children:"Ano de Conclusão da Residência"}),e.jsx(fe,{id:"anoResidencia",name:"anoResidencia",type:"number",placeholder:"Ex: 2018",min:"1950",max:new Date().getFullYear(),value:x.anoResidencia,onChange:b})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experiência Profissional"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"experiencia",children:"Descreva sua experiência profissional *"}),e.jsx(nt,{id:"experiencia",name:"experiencia",placeholder:"Descreva onde trabalhou, por quanto tempo, principais atividades...",className:"min-h-[100px]",value:x.experiencia,onChange:b,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"motivacao",children:"Por que deseja usar nossa plataforma? *"}),e.jsx(nt,{id:"motivacao",name:"motivacao",placeholder:"Conte-nos sobre suas motivações e como pretende usar a plataforma...",className:"min-h-[100px]",value:x.motivacao,onChange:b,required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Documentos Obrigatórios"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Diploma de Medicina *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var D;return(D=w.current)==null?void 0:D.click()},onDragOver:D=>D.preventDefault(),onDrop:D=>{var q;D.preventDefault();const H=(q=D.dataTransfer.files)==null?void 0:q[0];H&&v("diplomaMedicina",H)},children:[e.jsx(hu,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(T=x.documentos)!=null&&T.diplomaMedicina?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(k=x.documentos)!=null&&k.diplomaMedicina?x.documentos.diplomaMedicina.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:w,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:D=>v("diplomaMedicina",D.target.files[0])}),(($=x.documentos)==null?void 0:$.diplomaMedicina)&&e.jsx("div",{className:"mt-2",children:e.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>E("diplomaMedicina",w),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Certificado de Residência (se aplicável)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var D;return(D=_.current)==null?void 0:D.click()},onDragOver:D=>D.preventDefault(),onDrop:D=>{var q;D.preventDefault();const H=(q=D.dataTransfer.files)==null?void 0:q[0];H&&v("certificadoResidencia",H)},children:[e.jsx(hu,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(M=x.documentos)!=null&&M.certificadoResidencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(I=x.documentos)!=null&&I.certificadoResidencia?x.documentos.certificadoResidencia.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:_,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:D=>v("certificadoResidencia",D.target.files[0])}),((z=x.documentos)==null?void 0:z.certificadoResidencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>E("certificadoResidencia",_),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Comprovante de Experiência"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var D;return(D=C.current)==null?void 0:D.click()},onDragOver:D=>D.preventDefault(),onDrop:D=>{var q;D.preventDefault();const H=(q=D.dataTransfer.files)==null?void 0:q[0];H&&v("comprovanteExperiencia",H)},children:[e.jsx(hu,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(Y=x.documentos)!=null&&Y.comprovanteExperiencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(F=x.documentos)!=null&&F.comprovanteExperiencia?x.documentos.comprovanteExperiencia.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:C,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:D=>v("comprovanteExperiencia",D.target.files[0])}),((K=x.documentos)==null?void 0:K.comprovanteExperiencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>E("comprovanteExperiencia",C),children:"Remover arquivo"})})]})]})]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Importante:"})," Sua solicitação será analisada por nossa equipe administrativa. O processo pode levar de 2 a 5 dias úteis. Você receberá um email com o resultado da análise."]})}),e.jsx(ne,{type:"submit",className:"w-full",disabled:t,children:t?"Enviando solicitação...":"Enviar Solicitação"})]})})]})}function Ou(){const{activeRole:t}=Oa(),n=Ut(),a=n.pathname.startsWith("/paciente/"),o=n.pathname.startsWith("/medico/"),{toast:i}=Mt(),[c,d]=g.useState(!0),[u,m]=g.useState(!1),[h,x]=g.useState(null),[p,j]=g.useState(null),[b,N]=g.useState(null),[v,w]=g.useState({first_name:"",last_name:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:""}),[_,C]=g.useState({atual:"",nova:"",confirmar:""}),[E,R]=g.useState(!1),[A,P]=g.useState({email:!0,lembretes:!0,exames:!0,push:!1}),[T,k]=g.useState(!1),[$,M]=g.useState({tipo_sanguineo:"",alergias:"",condicoes_cronicas:"",contato_emergencia_nome:"",contato_emergencia_telefone:"",plano_saude:"",numero_carteirinha:"",peso:"",altura:""}),[I,z]=g.useState(!1),Y=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],[F,K]=g.useState(!1),[D,H]=g.useState(null),[q,X]=g.useState(!1),[te,O]=g.useState(!1),[V,Z]=g.useState(null),[B,U]=g.useState(""),[J,ee]=g.useState(null),[re,he]=g.useState("Assinatura de documento médico"),[ve,be]=g.useState("Hospital"),[ke,ze]=g.useState(!1),tt=async()=>{var Se,$e;if(!J){i.error("Selecione um PDF para assinar.");return}const _e=new FormData;_e.append("file",J),re&&_e.append("reason",re),ve&&_e.append("location",ve);try{ze(!0);const{filename:Ye,blob:De}=await Qe.signDocumento(_e,{reason:re,location:ve}),Ke=window.URL.createObjectURL(De),ns=document.createElement("a");ns.href=Ke,ns.download=Ye||"documento_assinado.pdf",document.body.appendChild(ns),ns.click(),ns.remove(),window.URL.revokeObjectURL(Ke),i.success("Documento assinado com sucesso.")}catch(Ye){const De=(($e=(Se=Ye==null?void 0:Ye.response)==null?void 0:Se.data)==null?void 0:$e.message)||(Ye==null?void 0:Ye.message)||"Falha ao assinar o documento.";i.error(De)}finally{ze(!1)}};g.useEffect(()=>{let _e=!0;return(async()=>{var Se;try{d(!0);const[$e,Ye]=await Promise.allSettled([ut.getPerfil(),ut.getPacienteDoUsuario()]);if(!_e)return;const De=$e.status==="fulfilled"?$e.value:null,Ke=Ye.status==="fulfilled"?Ye.value:null;j(De),N(Ke),w(ns=>({...ns,first_name:(De==null?void 0:De.first_name)||"",last_name:(De==null?void 0:De.last_name)||"",email:(De==null?void 0:De.email)||"",cpf:(De==null?void 0:De.cpf)||"",telefone:(De==null?void 0:De.telefone)||"",data_nascimento:(De==null?void 0:De.data_nascimento)||"",endereco:typeof(De==null?void 0:De.endereco)=="string"?De.endereco:De!=null&&De.endereco?`${De.endereco.logradouro||""} ${De.endereco.numero||""} ${De.endereco.bairro||""} ${De.endereco.cidade||""} ${De.endereco.estado||""}`.trim():""})),M({tipo_sanguineo:(Ke==null?void 0:Ke.tipo_sanguineo)||"",alergias:(Ke==null?void 0:Ke.alergias)||"",condicoes_cronicas:(Ke==null?void 0:Ke.condicoes_cronicas)||"",contato_emergencia_nome:(Ke==null?void 0:Ke.contato_emergencia_nome)||"",contato_emergencia_telefone:(Ke==null?void 0:Ke.contato_emergencia_telefone)||"",plano_saude:(Ke==null?void 0:Ke.plano_saude)||"",numero_carteirinha:(Ke==null?void 0:Ke.numero_carteirinha)||"",peso:(Ke==null?void 0:Ke.peso)??"",altura:(Ke==null?void 0:Ke.altura)??""});try{const ns=localStorage.getItem("notification_prefs");if(ns){const Dr=JSON.parse(ns);P(Go=>({...Go,...Dr}))}}catch{}}catch($e){const Ye=(Se=$e==null?void 0:$e.response)==null?void 0:Se.status;x(Ye===401?"Sessão inválida. Faça login novamente.":"Não foi possível carregar os dados.")}finally{_e&&d(!1)}})(),()=>{_e=!1}},[]),g.useEffect(()=>{o&&ys()},[o]);const Ze=_e=>{const{name:Se,value:$e}=_e.target;w(Ye=>({...Ye,[Se]:$e}))},et=_e=>{const{name:Se,value:$e}=_e.target;M(Ye=>({...Ye,[Se]:$e}))};async function Ct(){var _e;m(!0);try{const Se={first_name:v.first_name||"",last_name:v.last_name||"",telefone:v.telefone||"",data_nascimento:v.data_nascimento||"",endereco:v.endereco||""},$e=await ut.atualizarPerfil(Se);j($e),i({title:"Perfil atualizado",description:"Suas informações pessoais foram salvas."})}catch(Se){const $e=(_e=Se==null?void 0:Se.response)!=null&&_e.data?JSON.stringify(Se.response.data):"Não foi possível salvar o perfil.";i({title:"Erro ao salvar",description:$e,variant:"destructive"})}finally{m(!1)}}async function ss(){var _e;z(!0);try{const Se=await ut.atualizarPaciente($);N($e=>({...$e||{},...Se||{}})),i({title:"Informações do paciente salvas",description:"Dados atualizados com sucesso."})}catch(Se){const $e=(_e=Se==null?void 0:Se.response)!=null&&_e.data?JSON.stringify(Se.response.data):"Não foi possível salvar os dados do paciente.";i({title:"Erro ao salvar",description:$e,variant:"destructive"})}finally{z(!1)}}const _t=async()=>{var _e,Se;if(!_.nova||_.nova.length<6){i({title:"Senha inválida",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(_.nova!==_.confirmar){i({title:"Confirmação incorreta",description:"A confirmação da nova senha não confere.",variant:"destructive"});return}R(!0);try{await ue.post("/auth/change-password/",{old_password:_.atual,new_password:_.nova}),C({atual:"",nova:"",confirmar:""}),i({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."})}catch($e){const De=((_e=$e==null?void 0:$e.response)==null?void 0:_e.status)===404?"Endpoint de alteração de senha não encontrado. Verifique o backend.":(Se=$e==null?void 0:$e.response)!=null&&Se.data?JSON.stringify($e.response.data):"Não foi possível alterar a senha.";i({title:"Erro ao alterar senha",description:De,variant:"destructive"})}finally{R(!1)}},Yt=_e=>{P(Se=>({...Se,[_e]:!Se[_e]}))},Ce=()=>{k(!0);try{localStorage.setItem("notification_prefs",JSON.stringify(A)),i({title:"Preferências salvas",description:"Suas preferências de notificação foram atualizadas."})}finally{k(!1)}};async function ys(){X(!0);try{const _e=await Qe.getCertificadoInfo();H(_e||null)}catch{H(null)}finally{X(!1)}}async function Js(){var $e,Ye;if(!V){i({title:"Selecione um arquivo",description:"Escolha um arquivo .pfx, .p12, .crt, .cer ou .pem.",variant:"destructive"});return}const _e=15*1024*1024;if(V.size>_e){i({title:"Arquivo muito grande",description:"O limite é de 15MB.",variant:"destructive"});return}const Se=new FormData;Se.append("file",V),Se.append("certificado",V),Se.append("arquivo",V),Se.append("pfx",V),B&&(Se.append("password",B),Se.append("senha",B),Se.append("passphrase",B),Se.append("pfx_password",B)),Se.append("no_persist","true"),Se.append("ephemeral","true"),Se.append("save_public_only","true"),O(!0);try{const De=await Qe.uploadCertificado(Se);H(De||null);const Ke=De!=null&&De.public_cert_saved?"Certificado público extraído e salvo para validações. O PFX não foi armazenado.":"Certificado processado. O PFX não foi armazenado.";i({title:"Processamento concluído",description:Ke}),Z(null)}catch(De){const Ke=($e=De==null?void 0:De.response)==null?void 0:$e.status,ns=(Ye=De==null?void 0:De.response)==null?void 0:Ye.data;i({title:"Falha no processamento",description:Ke===404?"Endpoint de upload não encontrado no backend. Configure a variável VITE_MEDICO_CERTIFICADO_ENDPOINT.":typeof ns=="string"?ns:"Não foi possível processar o certificado.",variant:"destructive"})}finally{O(!1),U("")}}const ht=(()=>{const _e=(D==null?void 0:D.valid_to)||(D==null?void 0:D.validade_fim)||(D==null?void 0:D.validade)||(D==null?void 0:D.valid_to_date);if(!_e)return null;const Se=new Date(_e);return Math.ceil((Se-new Date)/(1e3*60*60*24))})(),Qs=!!(D&&(D.exists??D.id??D.valid_to??D.subject));return e.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informações pessoais e preferências da conta"})]}),a&&e.jsx(Ds,{tabs:Y,basePath:"/paciente"}),!a&&t==="secretaria"&&!(b!=null&&b.id)&&e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Criar perfil de paciente"}),e.jsx(Ue,{children:"Para acessar as funcionalidades de paciente com esta conta, crie seu perfil de paciente."})]}),e.jsxs(de,{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum perfil de paciente encontrado para esta conta."}),e.jsx(ne,{onClick:async()=>{var _e;K(!0);try{const Se=await ut.garantirPacienteDoUsuario({});N(Se),i({title:"Perfil de paciente criado",description:"Você já pode acessar a área do paciente."})}catch(Se){const $e=(_e=Se==null?void 0:Se.response)!=null&&_e.data?JSON.stringify(Se.response.data):"Não foi possível criar o perfil.";i({title:"Erro",description:$e,variant:"destructive"})}finally{K(!1)}},disabled:F,children:F?"Criando...":"Criar meu perfil de paciente"})]})]}),e.jsxs(pn,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(hn,{className:`grid w-full ${o?"grid-cols-4":"grid-cols-3"}`,children:[e.jsxs(ft,{value:"perfil",className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-4 w-4"}),"Perfil"]}),e.jsxs(ft,{value:"seguranca",className:"flex items-center gap-2",children:[e.jsx(TC,{className:"h-4 w-4"}),"Segurança"]}),e.jsxs(ft,{value:"notificacoes",className:"flex items-center gap-2",children:[e.jsx(jC,{className:"h-4 w-4"}),"Notificações"]}),o&&e.jsxs(ft,{value:"certificado",className:"flex items-center gap-2",children:[e.jsx(Co,{className:"h-4 w-4"}),"Certificado Digital"]})]}),e.jsx(vt,{value:"perfil",children:e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Informações Pessoais"}),e.jsx(Ue,{children:"Atualize suas informações pessoais e de contato"})]}),e.jsx(de,{className:"space-y-6",children:c?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):h?e.jsx("p",{className:"text-destructive",children:h}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"first_name",children:"Nome"}),e.jsx(fe,{id:"first_name",name:"first_name",value:v.first_name,onChange:Ze})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(fe,{id:"last_name",name:"last_name",value:v.last_name,onChange:Ze})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"email",children:"Email"}),e.jsx(fe,{id:"email",name:"email",value:v.email,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"cpf",children:"CPF"}),e.jsx(fe,{id:"cpf",name:"cpf",value:v.cpf,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:v.telefone,onChange:Ze})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"data_nascimento",children:"Data de Nascimento"}),e.jsx(fe,{id:"data_nascimento",name:"data_nascimento",type:"date",value:v.data_nascimento||"",onChange:Ze})]})]}),e.jsx(Ts,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"endereco",children:"Endereço"}),e.jsx(nt,{id:"endereco",name:"endereco",placeholder:"Rua, número, bairro, cidade, estado",value:v.endereco,onChange:Ze})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{onClick:Ct,disabled:u,children:u?"Salvando...":"Salvar Alterações"})}),e.jsx(Ts,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Mais Informações do Paciente"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Esses dados ajudam médicos a entender melhor seu histórico."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"tipo_sanguineo",children:"Tipo Sanguíneo"}),e.jsx(fe,{id:"tipo_sanguineo",name:"tipo_sanguineo",value:$.tipo_sanguineo,onChange:et,placeholder:"Ex.: O+, A-, B+, AB+"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"plano_saude",children:"Plano de Saúde"}),e.jsx(fe,{id:"plano_saude",name:"plano_saude",value:$.plano_saude,onChange:et})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"numero_carteirinha",children:"Número da Carteirinha"}),e.jsx(fe,{id:"numero_carteirinha",name:"numero_carteirinha",value:$.numero_carteirinha,onChange:et})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"contato_emergencia_nome",children:"Contato de Emergência (Nome)"}),e.jsx(fe,{id:"contato_emergencia_nome",name:"contato_emergencia_nome",value:$.contato_emergencia_nome,onChange:et})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"contato_emergencia_telefone",children:"Contato de Emergência (Telefone)"}),e.jsx(fe,{id:"contato_emergencia_telefone",name:"contato_emergencia_telefone",value:$.contato_emergencia_telefone,onChange:et})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"peso",children:"Peso (kg)"}),e.jsx(fe,{id:"peso",name:"peso",type:"number",step:"0.1",value:$.peso,onChange:et})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"altura",children:"Altura (cm)"}),e.jsx(fe,{id:"altura",name:"altura",type:"number",step:"0.1",value:$.altura,onChange:et})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(ce,{htmlFor:"alergias",children:"Alergias"}),e.jsx(nt,{id:"alergias",name:"alergias",rows:3,value:$.alergias,onChange:et,placeholder:"Ex.: Dipirona, poeira, frutos do mar"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(ce,{htmlFor:"condicoes_cronicas",children:"Condições Crônicas"}),e.jsx(nt,{id:"condicoes_cronicas",name:"condicoes_cronicas",rows:3,value:$.condicoes_cronicas,onChange:et,placeholder:"Ex.: Hipertensão, Diabetes, Asma"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{onClick:ss,disabled:I,variant:"outline",children:I?"Salvando...":"Salvar Informações do Paciente"})})]})]})})]})}),e.jsx(vt,{value:"seguranca",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Alterar Senha"}),e.jsx(Ue,{children:"Mantenha sua conta segura com uma senha forte"})]}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"senha-atual",children:"Senha Atual"}),e.jsx(fe,{id:"senha-atual",type:"password",value:_.atual,onChange:_e=>C(Se=>({...Se,atual:_e.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"nova-senha",children:"Nova Senha"}),e.jsx(fe,{id:"nova-senha",type:"password",value:_.nova,onChange:_e=>C(Se=>({...Se,nova:_e.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"confirmar-senha",children:"Confirmar Nova Senha"}),e.jsx(fe,{id:"confirmar-senha",type:"password",value:_.confirmar,onChange:_e=>C(Se=>({...Se,confirmar:_e.target.value}))})]}),e.jsx(ne,{onClick:_t,disabled:E,children:E?"Alterando...":"Alterar Senha"})]})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Autenticação de Dois Fatores"}),e.jsx(Ue,{children:"Adicione uma camada extra de segurança à sua conta"})]}),e.jsx(de,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Autenticação de Dois Fatores"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Não configurada"})]}),e.jsx(ne,{variant:"outline",disabled:!0,children:"Em breve"})]})})]})]})}),e.jsx(vt,{value:"notificacoes",children:e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Preferências de Notificação"}),e.jsx(Ue,{children:"Configure como você deseja receber notificações"})]}),e.jsxs(de,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações importantes por email"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>Yt("email"),children:A.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Lembretes de Consulta"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes das consultas"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>Yt("lembretes"),children:A.lembretes?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Resultados de Exames"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja notificado quando exames ficarem prontos"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>Yt("exames"),children:A.exames?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações no navegador"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>Yt("push"),children:A.push?"Ativado":"Desativado"})]})]}),e.jsx(ne,{onClick:Ce,disabled:T,children:T?"Salvando...":"Salvar Preferências"})]})]})}),o&&e.jsx(vt,{value:"certificado",children:e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Configuração de Certificado Digital"}),e.jsx(Ue,{children:"Envie seu certificado (.pfx/.p12 ou .crt/.cer/.pem). O arquivo é enviado com segurança ao servidor."})]}),e.jsxs(de,{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border p-4 bg-muted/30",children:[q?e.jsx("p",{className:"text-muted-foreground",children:"Carregando informações do certificado..."}):Qs?e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Certificado cadastrado"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Titular: ",(D==null?void 0:D.subject_name)||(D==null?void 0:D.subject)||(D==null?void 0:D.nome)||"—"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitente: ",(D==null?void 0:D.issuer)||(D==null?void 0:D.issuer_name)||(D==null?void 0:D.emitente)||"—"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validade: ",(D==null?void 0:D.valid_from)||(D==null?void 0:D.validade_inicio)||"?"," — ",(D==null?void 0:D.valid_to)||(D==null?void 0:D.validade_fim)||"?"]}),ht!=null&&e.jsx("p",{className:`text-sm ${ht<=0?"text-destructive":ht<30?"text-amber-600":"text-emerald-600"}`,children:ht<=0?"Expirado":`Expira em ${ht} dia(s)`})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum certificado cadastrado para este médico."}),e.jsx("div",{className:"mt-3",children:e.jsx(ne,{variant:"outline",size:"sm",onClick:ys,disabled:q,children:q?"Validando...":"Validar agora"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Arquivo do certificado"}),e.jsx(fe,{type:"file",accept:".pfx,.p12,.crt,.cer,.pem",onChange:_e=>{var Se;return Z(((Se=_e.target.files)==null?void 0:Se[0])||null)}}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceita: .pfx, .p12, .crt, .cer, .pem. Tamanho máximo: 15MB."}),V&&e.jsxs("p",{className:"text-xs",children:["Selecionado: ",V.name," (",Math.ceil(V.size/1024)," KB)"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Senha do certificado (se aplicável)"}),e.jsx(fe,{type:"password",value:B,onChange:_e=>U(_e.target.value),placeholder:"Senha do .pfx (opcional)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"A senha não é armazenada no navegador; é usada apenas durante o processamento."})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(ne,{onClick:Js,disabled:te,children:te?"Enviando...":"Enviar Certificado"})}),e.jsx(Ts,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Arquivo PDF para assinar"}),e.jsx(fe,{type:"file",accept:".pdf",onChange:_e=>{var Se;return ee(((Se=_e.target.files)==null?void 0:Se[0])||null)}}),J&&e.jsxs("p",{className:"text-xs",children:["Selecionado: ",J.name," (",Math.ceil(J.size/1024)," KB)"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Motivo (opcional)"}),e.jsx(fe,{value:re,onChange:_e=>he(_e.target.value),placeholder:"Ex.: Assinatura de prescrição"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Local (opcional)"}),e.jsx(fe,{value:ve,onChange:_e=>be(_e.target.value),placeholder:"Ex.: São Paulo - SP"})]})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(ne,{onClick:tt,disabled:ke||!J,children:ke?"Assinando...":"Assinar e Baixar"})})]})]})]})}),a&&e.jsx(vt,{value:"medico",children:e.jsx(i4,{})})]})]})})}function l4({children:t}){const{user:n,isAuthenticated:a,loading:o}=ca(),i=Ut(),{userPermissions:c}=Oa();if(o)return null;if(!a)return e.jsx(gt,{to:"/login",state:{from:i},replace:!0});const d=(n==null?void 0:n.role)||(n==null?void 0:n.tipo),u=(c==null?void 0:c.medicoStatus)==="approved";return d!=="medico"&&d!=="admin"&&!u?d==="paciente"?e.jsx(gt,{to:"/paciente/perfil",replace:!0}):d==="clinica"?e.jsx(gt,{to:"/clinica/dashboard",replace:!0}):e.jsx(gt,{to:"/",replace:!0}):t}function c4({children:t}){const{user:n,isAuthenticated:a,loading:o}=ca(),i=Ut();if(o)return null;if(!a)return e.jsx(gt,{to:"/login",state:{from:i},replace:!0});const c=(n==null?void 0:n.role)||(n==null?void 0:n.tipo);return c!=="clinica"&&c!=="admin"?c==="paciente"?e.jsx(gt,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx(gt,{to:"/medico/dashboard",replace:!0}):e.jsx(gt,{to:"/",replace:!0}):t}function d4({children:t}){const{user:n,isAuthenticated:a,loading:o}=ca(),i=Ut(),[c,d]=g.useState(!1),[u,m]=g.useState(!1);if(g.useEffect(()=>{let x=!0;async function p(){if(!a)return;if(((n==null?void 0:n.role)||(n==null?void 0:n.tipo))==="secretaria"){d(!0);try{const b=await ut.getPacienteDoUsuario();if(!x)return;m(!!(b!=null&&b.id))}catch{if(!x)return;m(!1)}finally{x&&d(!1)}}}return p(),()=>{x=!1}},[a,n==null?void 0:n.role,n==null?void 0:n.tipo]),o||c)return null;if(!a)return e.jsx(gt,{to:"/login",state:{from:i},replace:!0});const h=(n==null?void 0:n.role)||(n==null?void 0:n.tipo);return h!=="paciente"&&h!=="admin"?h==="secretaria"&&u?t:h==="medico"?e.jsx(gt,{to:"/medico/dashboard",replace:!0}):h==="clinica"?e.jsx(gt,{to:"/clinica/dashboard",replace:!0}):e.jsx(gt,{to:"/",replace:!0}):t}function u4({children:t}){const{user:n,isAuthenticated:a,loading:o}=ca(),i=Ut();if(o)return null;if(!a)return e.jsx(gt,{to:"/login",state:{from:i},replace:!0});const c=(n==null?void 0:n.role)||(n==null?void 0:n.tipo);return c!=="admin"?c==="paciente"?e.jsx(gt,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx(gt,{to:"/medico/dashboard",replace:!0}):c==="clinica"?e.jsx(gt,{to:"/clinica/dashboard",replace:!0}):e.jsx(gt,{to:"/",replace:!0}):t}const m4=t=>{var a;const n=o=>(o==null?void 0:o.nome)||(o==null?void 0:o.titulo)||(o==null?void 0:o.name)||(o==null?void 0:o.descricao)||(o==null?void 0:o.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const o=t.especialidades.map(i=>n(i)||(typeof i=="string"?i:null)).filter(Boolean);if(o.length)return o.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const o=n(t.especialidade);if(o)return o}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((a=t==null?void 0:t.user)==null?void 0:a.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():null};function f4(){const[t,n]=g.useState([]),[a,o]=g.useState(!0),[i,c]=g.useState(!1),[d,u]=g.useState(null),{toast:m}=Mt(),h=cs(),[x,p]=g.useState({medico:"",data:"",hora:"",modalidade:"online",local:"",tipo:"primeira_consulta",motivo:"",observacoes:""}),[j,b]=g.useState([]),N=A=>A?typeof A=="string"?A:[A.logradouro,A.numero,A.bairro,A.cidade,A.estado].filter(Boolean).join(" ").trim()||null:null,v=A=>{var P,T,k;return(A==null?void 0:A.local_atendimento)||(A==null?void 0:A.local)||N(A==null?void 0:A.endereco)||N((P=A==null?void 0:A.user)==null?void 0:P.endereco)||N((T=A==null?void 0:A.clinica)==null?void 0:T.endereco)||((k=A==null?void 0:A.clinica)==null?void 0:k.nome)||null},w=(A,P)=>{const T=[],k=M=>{if(!M)return;const[I,z]=String(M).split(":");I!=null&&z!=null&&T.push(`${String(I).padStart(2,"0")}:${String(z).padStart(2,"0")}`)},$=(M,I)=>{const z=new Date(M),Y=new Date(I),F=new Date(z);for(;F<Y;){const K=String(F.getHours()).padStart(2,"0"),D=String(F.getMinutes()).padStart(2,"0");T.push(`${K}:${D}`),F.setMinutes(F.getMinutes()+30)}};return A.forEach(M=>{if(M!=null&&M.data_hora_inicio&&(M!=null&&M.data_hora_fim)){$(M.data_hora_inicio,M.data_hora_fim);return}if(M!=null&&M.inicio&&(M!=null&&M.fim)){$(M.inicio,M.fim);return}if(M!=null&&M.start&&(M!=null&&M.end)){$(M.start,M.end);return}if(Array.isArray(M==null?void 0:M.horarios)){M.horarios.forEach(I=>{k(typeof I=="string"?I.slice(0,5):(I==null?void 0:I.hora)||I)});return}if(M!=null&&M.hora){k(String(M.hora).slice(0,5));return}if(M!=null&&M.horario){k(String(M.horario).slice(0,5));return}if(M!=null&&M.data_hora){const I=new Date(M.data_hora);if(I.toISOString().slice(0,10)===P){const Y=String(I.getHours()).padStart(2,"0"),F=String(I.getMinutes()).padStart(2,"0");T.push(`${Y}:${F}`)}}}),Array.from(new Set(T)).sort()};g.useEffect(()=>{let A=!0;return(async()=>{o(!0),u(null);try{const P=await ut.getMedicos(),T=Array.isArray(P)?P:(P==null?void 0:P.results)||[];n(T)}catch(P){console.error("Erro ao buscar médicos:",P),u("Não foi possível carregar a lista de médicos.")}finally{A&&o(!1)}})(),()=>{A=!1}},[]),g.useEffect(()=>{(async()=>{if(!x.medico||!x.data){b([]);return}try{const P=await ut.getAgendaMedico({medico:x.medico,date:x.data,apenas_disponiveis:!0}),T=Array.isArray(P)?P:(P==null?void 0:P.results)||[],k=w(T,x.data);b(k),x.hora&&!k.includes(x.hora)&&p($=>({...$,hora:""}))}catch(P){console.error("Erro ao carregar agenda do médico:",P),b([])}})()},[x.medico,x.data]),g.useEffect(()=>{if(x.modalidade!=="presencial"){x.local&&p(T=>({...T,local:""}));return}const A=t.find(T=>{var k;return String(T.id||((k=T==null?void 0:T.user)==null?void 0:k.id))===String(x.medico)}),P=A?v(A):"";p(T=>({...T,local:P||""}))},[x.medico,x.modalidade,t]);const _=A=>P=>{const T=P!=null&&P.target?P.target.value:P;p(k=>({...k,[A]:T}))},C=()=>x.medico?x.data?x.hora?x.motivo?x.modalidade==="presencial"&&!x.local?"Este médico não possui um local de atendimento definido.":null:"Informe o motivo da consulta.":"Selecione um horário disponível.":"Selecione uma data.":"Selecione um médico.",E=async A=>{var T,k,$,M,I,z,Y;A.preventDefault();const P=C();if(P){m({title:"Validação",description:P,variant:"destructive"});return}c(!0),u(null);try{await ut.agendarConsulta({medico:x.medico,data:x.data,hora:x.hora,modalidade:x.modalidade,local:x.modalidade==="presencial"?x.local:void 0,tipo:x.tipo,motivo:x.motivo,observacoes:x.observacoes}),m({title:"Consulta agendada!",description:"Sua consulta foi marcada com sucesso."}),h("/paciente/consultas")}catch(F){console.error("Erro ao agendar consulta:",((T=F==null?void 0:F.response)==null?void 0:T.data)||F);const K=(($=(k=F==null?void 0:F.response)==null?void 0:k.data)==null?void 0:$.error)||((I=(M=F==null?void 0:F.response)==null?void 0:M.data)==null?void 0:I.detail)||((Y=(z=F==null?void 0:F.response)==null?void 0:z.data)==null?void 0:Y.message)||"Não foi possível agendar a consulta.";u(K),m({title:"Erro",description:K,variant:"destructive"})}finally{c(!1)}},R=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Agendar Consulta"})]}),e.jsx(Ds,{tabs:R,basePath:"/paciente"}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Dados da Consulta"})}),e.jsx(de,{children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Médico"}),e.jsxs(lt,{value:x.medico,onValueChange:A=>p(P=>({...P,medico:A})),disabled:a,children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:a?"Carregando...":"Selecione um médico"})}),e.jsx(ot,{children:t.length===0?e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum médico disponível"}):t.map(A=>{var k,$,M;const P=(A==null?void 0:A.nome)||[(k=A==null?void 0:A.user)==null?void 0:k.first_name,($=A==null?void 0:A.user)==null?void 0:$.last_name].filter(Boolean).join(" ")||(A==null?void 0:A.username)||(A==null?void 0:A.email)||`Médico #${(A==null?void 0:A.id)||""}`,T=m4(A);return e.jsxs(we,{value:String(A.id||((M=A==null?void 0:A.user)==null?void 0:M.id)||P),children:[P,T?` - ${T}`:""]},A.id||P)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Tipo"}),e.jsxs(lt,{value:x.tipo,onValueChange:A=>p(P=>({...P,tipo:A})),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Selecione o tipo"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"primeira_consulta",children:"Primeira consulta"}),e.jsx(we,{value:"retorno",children:"Retorno"}),e.jsx(we,{value:"urgencia",children:"Urgência"}),e.jsx(we,{value:"rotina",children:"Rotina"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Data"}),e.jsx(fe,{type:"date",value:x.data,onChange:_("data")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Hora"}),j.length>0?e.jsxs(lt,{value:x.hora,onValueChange:A=>p(P=>({...P,hora:A})),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Selecione um horário"})}),e.jsx(ot,{children:j.map(A=>e.jsx(we,{value:A,children:A},A))})]}):e.jsx(fe,{type:"time",value:x.hora,onChange:A=>p(P=>({...P,hora:A.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Modalidade"}),e.jsxs(lt,{value:x.modalidade,onValueChange:A=>p(P=>({...P,modalidade:A})),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Selecione a modalidade"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"online",children:"Online"}),e.jsx(we,{value:"presencial",children:"Presencial"})]})]})]}),x.modalidade==="presencial"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Local"}),e.jsxs("div",{className:"relative",children:[e.jsx(Cm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{className:"pl-9",placeholder:"Local de atendimento definido pelo médico",value:x.local,readOnly:!0,disabled:!0})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"O local é definido pelo médico e preenchido automaticamente."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Motivo"}),e.jsx(nt,{rows:3,placeholder:"Descreva o motivo principal da consulta (obrigatório)",value:x.motivo,onChange:_("motivo")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Obrigatório. Ex: dor de cabeça, retorno de exame, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Observações"}),e.jsx(nt,{rows:4,placeholder:"Opcional: descreva sintomas, preferências, etc.",value:x.observacoes,onChange:_("observacoes")})]}),d&&e.jsx("p",{className:"text-sm text-red-500",children:d}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(ne,{type:"button",variant:"outline",onClick:()=>h("/paciente/consultas"),disabled:i,children:"Cancelar"}),e.jsx(ne,{type:"submit",disabled:i,children:i?"Agendando...":"Agendar Consulta"})]})]})})]})]})}function p4(){const[t,n]=g.useState(!1),[a,o]=g.useState(""),[i,c]=g.useState([]),[d,u]=g.useState(0),[m,h]=g.useState(""),[x,p]=g.useState(1),[j]=g.useState(10);g.useEffect(()=>{let B=!0;const U=setTimeout(async()=>{n(!0),o("");try{const J={search:m||void 0,page:x,limit:j},ee=await kt.getUsuarios(J),re=Array.isArray(ee==null?void 0:ee.results)?ee.results:Array.isArray(ee)?ee:[],he=typeof(ee==null?void 0:ee.count)=="number"?ee.count:re.length;if(!B)return;c(re),u(he)}catch{if(!B)return;o("Não foi possível carregar os usuários.")}finally{B&&n(!1)}},300);return()=>{B=!1,clearTimeout(U)}},[m,x,j]);const b=g.useMemo(()=>Math.max(1,Math.ceil(d/j)),[d,j]),[N,v]=g.useState(new Set),[w,_]=g.useState(!1),[C,E]=g.useState(!1),[R,A]=g.useState(!1),[P,T]=g.useState(""),[k,$]=g.useState(null),[M,I]=g.useState(!1),[z,Y]=g.useState(!1),[F,K]=g.useState(""),[D,H]=g.useState({first_name:"",last_name:"",email:"",password:"",role:""}),q=()=>{if(i.length===0)return;const B=i.map(J=>J==null?void 0:J.id).filter(Boolean),U=B.every(J=>N.has(J));v(U?new Set:new Set(B))},X=B=>{B&&v(U=>{const J=new Set(U);return J.has(B)?J.delete(B):J.add(B),J})},te=async()=>{const B=Array.from(N);if(B.length===0){window.alert("Selecione ao menos um usuário com ID válido.");return}if(window.confirm(`Confirma excluir ${B.length} usuário(s)?`))try{_(!0),await kt.removerUsuariosEmMassa(B),v(new Set),n(!0),o("");const U={search:m||void 0,page:x,limit:j},J=await kt.getUsuarios(U),ee=Array.isArray(J==null?void 0:J.results)?J.results:Array.isArray(J)?J:[],re=typeof(J==null?void 0:J.count)=="number"?J.count:ee.length;c(ee),u(re)}catch{window.alert("Falha ao excluir usuários selecionados.")}finally{_(!1),n(!1)}},O=B=>{if(!B)return;const U=B.first_name||B.firstName||"",J=B.last_name||B.lastName||"",ee=B.email||"",re=(B.role||B.tipo||"").toString().toLowerCase(),he=B.is_active??B.ativo??!0;$({id:B.id,first_name:U,last_name:J,email:ee,role:re,is_active:he}),T(""),E(!0)},V=async()=>{if(!(k!=null&&k.id)){T("ID do usuário indisponível.");return}try{A(!0),T("");const B={first_name:k.first_name,last_name:k.last_name,email:k.email,role:k.role,is_active:!!k.is_active};await kt.updateUsuario(k.id,B),E(!1),n(!0),o("");const U={search:m||void 0,page:x,limit:j},J=await kt.getUsuarios(U),ee=Array.isArray(J==null?void 0:J.results)?J.results:Array.isArray(J)?J:[],re=typeof(J==null?void 0:J.count)=="number"?J.count:ee.length;c(ee),u(re)}catch{T("Não foi possível salvar as alterações.")}finally{A(!1),n(!1)}},Z=async()=>{var B;if(!D.email||!D.password||!D.role){K("Preencha e-mail, senha e tipo.");return}try{Y(!0),K("");const U={first_name:D.first_name,last_name:D.last_name,email:D.email,password:D.password,role:D.role};await kt.createUsuario(U),I(!1),H({first_name:"",last_name:"",email:"",password:"",role:""}),n(!0),o("");const J={search:m||void 0,page:x,limit:j},ee=await kt.getUsuarios(J),re=Array.isArray(ee==null?void 0:ee.results)?ee.results:Array.isArray(ee)?ee:[],he=typeof(ee==null?void 0:ee.count)=="number"?ee.count:re.length;c(re),u(he)}catch(U){const J=(B=U==null?void 0:U.response)!=null&&B.data?JSON.stringify(U.response.data):"Não foi possível criar o usuário.";K(J)}finally{Y(!1),n(!1)}};return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usuários"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os usuários do sistema"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, email...",value:m,onChange:B=>{p(1),h(B.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${d} usuário(s)`}),e.jsxs("div",{className:"ml-auto flex gap-2",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:()=>{K(""),H({first_name:"",last_name:"",email:"",password:"",role:""}),I(!0)},disabled:t,children:"Novo usuário"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-red-600 text-white disabled:opacity-50",onClick:te,disabled:w||N.size===0||t,title:N.size===0?"Selecione usuários":"Excluir selecionados",children:w?"Excluindo...":`Excluir selecionados (${N.size})`})]})]}),a&&e.jsx("div",{className:"text-sm text-red-600",children:a}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:e.jsx("input",{type:"checkbox",checked:i.length>0&&i.map(B=>B==null?void 0:B.id).filter(Boolean).every(B=>N.has(B)),onChange:q})}),e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Tipo"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Ações"})]})}),e.jsxs("tbody",{children:[i.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Nenhum usuário encontrado"})}),i.map(B=>{const U=(B==null?void 0:B.nome)||[B==null?void 0:B.first_name,B==null?void 0:B.last_name].filter(Boolean).join(" ")||(B==null?void 0:B.name)||(B==null?void 0:B.username)||"-",J=(B==null?void 0:B.email)||"-",ee=(B==null?void 0:B.tipo)||(B==null?void 0:B.role)||(B==null?void 0:B.perfil)||"-",re=(B==null?void 0:B.is_active)??(B==null?void 0:B.ativo)??(B==null?void 0:B.status)??null,he=re===!0?"Ativo":re===!1?"Inativo":String(re??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"checkbox",disabled:!(B!=null&&B.id),checked:B!=null&&B.id?N.has(B.id):!1,onChange:()=>X(B==null?void 0:B.id)})}),e.jsx("td",{className:"p-3",children:U}),e.jsx("td",{className:"p-3",children:J}),e.jsx("td",{className:"p-3 capitalize",children:String(ee).toLowerCase()}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${re===!0?"bg-emerald-100 text-emerald-700":re===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:he})}),e.jsx("td",{className:"p-3",children:e.jsx("button",{className:"px-3 py-1 border rounded-md text-xs",onClick:()=>O(B),disabled:!(B!=null&&B.id),title:B!=null&&B.id?"Editar usuário":"ID indisponível",children:"Editar"})})]},(B==null?void 0:B.id)||`${J}-${U}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>p(B=>Math.max(1,B-1)),disabled:x<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",x," de ",b]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>p(B=>Math.min(b,B+1)),disabled:x>=b||t,children:"Próxima"})]}),C&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar usuário"}),P&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:P}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(k==null?void 0:k.first_name)||"",onChange:B=>$(U=>({...U,first_name:B.target.value})),disabled:R})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(k==null?void 0:k.last_name)||"",onChange:B=>$(U=>({...U,last_name:B.target.value})),disabled:R})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(k==null?void 0:k.email)||"",onChange:B=>$(U=>({...U,email:B.target.value})),disabled:R})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(k==null?void 0:k.role)||"",onChange:B=>$(U=>({...U,role:B.target.value})),disabled:R,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Médico"}),e.jsx("option",{value:"clinica",children:"Clínica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Ativo"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!(k!=null&&k.is_active),onChange:B=>$(U=>({...U,is_active:B.target.checked})),disabled:R}),e.jsx("span",{className:"text-sm",children:k!=null&&k.is_active?"Ativo":"Inativo"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>E(!1),disabled:R,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:V,disabled:R,children:R?"Salvando...":"Salvar"})]})]})}),M&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Novo usuário"}),F&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:F}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:D.first_name,onChange:B=>H(U=>({...U,first_name:B.target.value})),disabled:z})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:D.last_name,onChange:B=>H(U=>({...U,last_name:B.target.value})),disabled:z})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:D.email,onChange:B=>H(U=>({...U,email:B.target.value})),disabled:z})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Senha"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-md bg-background",value:D.password,onChange:B=>H(U=>({...U,password:B.target.value})),disabled:z})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:D.role,onChange:B=>H(U=>({...U,role:B.target.value})),disabled:z,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Médico"}),e.jsx("option",{value:"clinica",children:"Clínica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>I(!1),disabled:z,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:Z,disabled:z,children:z?"Criando...":"Criar"})]})]})})]})}function h4(){const[t,n]=g.useState(!1),[a,o]=g.useState(""),[i,c]=g.useState([]),[d,u]=g.useState(0),[m,h]=g.useState(""),[x,p]=g.useState(1),[j]=g.useState(10);g.useEffect(()=>{let N=!0;const v=setTimeout(async()=>{n(!0),o("");try{const w={search:m||void 0,page:x,limit:j},_=await kt.getClinicas(w),C=Array.isArray(_==null?void 0:_.results)?_.results:Array.isArray(_)?_:[],E=typeof(_==null?void 0:_.count)=="number"?_.count:C.length;if(!N)return;c(C),u(E)}catch{if(!N)return;o("Não foi possível carregar as clínicas.")}finally{N&&n(!1)}},300);return()=>{N=!1,clearTimeout(v)}},[m,x,j]);const b=g.useMemo(()=>Math.max(1,Math.ceil(d/j)),[d,j]);return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clínicas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie os cadastros de clínicas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ...",value:m,onChange:N=>{p(1),h(N.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${d} clínica(s)`})]}),a&&e.jsx("div",{className:"text-sm text-red-600",children:a}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"CNPJ"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Status"})]})}),e.jsxs("tbody",{children:[i.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Nenhuma clínica encontrada"})}),i.map(N=>{const v=(N==null?void 0:N.razao_social)||(N==null?void 0:N.nome)||(N==null?void 0:N.name)||"-",w=(N==null?void 0:N.cnpj)||"-",_=(N==null?void 0:N.email)||(N==null?void 0:N.contato_email)||"-",C=(N==null?void 0:N.is_active)??(N==null?void 0:N.ativo)??(N==null?void 0:N.status)??null,E=C===!0?"Ativa":C===!1?"Inativa":String(C??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:v}),e.jsx("td",{className:"p-3",children:w}),e.jsx("td",{className:"p-3",children:_}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${C===!0?"bg-emerald-100 text-emerald-700":C===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:E})})]},(N==null?void 0:N.id)||`${v}-${w}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>p(N=>Math.max(1,N-1)),disabled:x<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",x," de ",b]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>p(N=>Math.min(b,N+1)),disabled:x>=b||t,children:"Próxima"})]})]})}function x4(){const{toast:t}=Mt(),[n,a]=g.useState(!0),[o,i]=g.useState(!1),[c,d]=g.useState(""),[u,m]=g.useState({first_name:"",last_name:"",email:"",telefone:""}),[h,x]=g.useState({atual:"",nova:"",confirmar:""}),[p,j]=g.useState(!1),[b,N]=g.useState({email:!0,sistema:!0,auditoria:!0,push:!1}),[v,w]=g.useState(!1),[_,C]=g.useState(()=>localStorage.getItem("admin_lang")||"pt-BR"),E=$=>N(M=>({...M,[$]:!M[$]}));g.useEffect(()=>{let $=!0;return(async()=>{var M;try{a(!0),d("");const I=await ut.getPerfil();if(!$)return;m({first_name:(I==null?void 0:I.first_name)||"",last_name:(I==null?void 0:I.last_name)||"",email:(I==null?void 0:I.email)||"",telefone:(I==null?void 0:I.telefone)||""});try{const z=localStorage.getItem("admin_notification_prefs");z&&N(Y=>({...Y,...JSON.parse(z)}))}catch{}}catch(I){if(!$)return;const z=(M=I==null?void 0:I.response)==null?void 0:M.status;d(z===401?"Sessão inválida. Faça login novamente.":"Não foi possível carregar seu perfil.")}finally{$&&a(!1)}})(),()=>{$=!1}},[]);const R=$=>{const{name:M,value:I}=$.target;m(z=>({...z,[M]:I}))},A=async()=>{var $;i(!0),d("");try{await ut.atualizarPerfil({first_name:u.first_name,last_name:u.last_name,email:u.email,telefone:u.telefone}),t({title:"Perfil atualizado",description:"As informações foram salvas com sucesso."})}catch(M){const z=(($=M==null?void 0:M.response)==null?void 0:$.status)===400?"Dados inválidos. Verifique os campos.":"Não foi possível salvar as alterações.";d(z),t({title:"Erro",description:z,variant:"destructive"})}finally{i(!1)}},P=async()=>{if(!h.atual||!h.nova||!h.confirmar){t({title:"Validação",description:"Preencha todos os campos de senha.",variant:"destructive"});return}if(h.nova!==h.confirmar){t({title:"Validação",description:"A confirmação da nova senha não confere.",variant:"destructive"});return}j(!0);try{await new Promise($=>setTimeout($,600)),t({title:"Em breve",description:"Alteração de senha será integrada ao backend.",variant:"default"}),x({atual:"",nova:"",confirmar:""})}finally{j(!1)}},T=async()=>{w(!0);try{localStorage.setItem("admin_notification_prefs",JSON.stringify(b)),t({title:"Notificações salvas",description:"Preferências armazenadas neste dispositivo."})}catch{t({title:"Erro",description:"Não foi possível salvar as preferências.",variant:"destructive"})}finally{w(!1)}},k=()=>{localStorage.setItem("admin_lang",_),t({title:"Idioma atualizado",description:`Idioma definido para ${_}.`})};return e.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações (Admin)"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e preferências administrativas"})]}),e.jsxs(pn,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(hn,{className:"grid w-full grid-cols-4",children:[e.jsx(ft,{value:"perfil",children:"Perfil"}),e.jsx(ft,{value:"seguranca",children:"Segurança"}),e.jsx(ft,{value:"notificacoes",children:"Notificações"}),e.jsx(ft,{value:"sistema",children:"Sistema"})]}),e.jsx(vt,{value:"perfil",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Informações do Perfil"})}),e.jsxs(de,{className:"space-y-4",children:[c&&e.jsx("p",{className:"text-sm text-red-500",children:c}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"first_name",children:"Nome"}),e.jsx(fe,{id:"first_name",name:"first_name",value:u.first_name,onChange:R,disabled:n||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(fe,{id:"last_name",name:"last_name",value:u.last_name,onChange:R,disabled:n||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"email",children:"E-mail"}),e.jsx(fe,{id:"email",name:"email",type:"email",value:u.email,onChange:R,disabled:n||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:u.telefone,onChange:R,disabled:n||o})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{onClick:A,disabled:n||o,children:o?"Salvando...":"Salvar alterações"})})]})]})}),e.jsx(vt,{value:"seguranca",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Segurança"})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"pwd_atual",children:"Senha atual"}),e.jsx(fe,{id:"pwd_atual",type:"password",value:h.atual,onChange:$=>x(M=>({...M,atual:$.target.value})),disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"pwd_nova",children:"Nova senha"}),e.jsx(fe,{id:"pwd_nova",type:"password",value:h.nova,onChange:$=>x(M=>({...M,nova:$.target.value})),disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"pwd_confirmar",children:"Confirmar nova senha"}),e.jsx(fe,{id:"pwd_confirmar",type:"password",value:h.confirmar,onChange:$=>x(M=>({...M,confirmar:$.target.value})),disabled:p})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{onClick:P,disabled:p,children:p?"Processando...":"Alterar senha"})})]})]})}),e.jsx(vt,{value:"notificacoes",children:e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Preferências de Notificação"}),e.jsx(Ue,{children:"Configure como você deseja receber notificações"})]}),e.jsxs(de,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações importantes por email"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E("email"),disabled:v,children:b.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Eventos do Sistema"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos sobre operações e eventos administrativos"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E("sistema"),disabled:v,children:b.sistema?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Alterações e Auditoria"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifique mudanças críticas e logs de auditoria"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E("auditoria"),disabled:v,children:b.auditoria?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações no navegador"})]}),e.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E("push"),disabled:v,children:b.push?"Ativado":"Desativado"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ne,{onClick:T,disabled:v,children:v?"Salvando...":"Salvar Preferências"})})]})]})}),e.jsx(vt,{value:"sistema",children:e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Sistema"})}),e.jsxs(de,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Tema"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(cc,{}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Alterne entre claro/escuro"})]})]}),e.jsx(Ts,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{children:"Idioma"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{className:"border rounded px-2 py-1",value:_,onChange:$=>C($.target.value),children:[e.jsx("option",{value:"pt-BR",children:"Português (Brasil)"}),e.jsx("option",{value:"en-US",children:"English (US)"})]}),e.jsx(ne,{variant:"outline",onClick:k,children:"Aplicar"})]})]})]})]})})]})]})}const Rn={async getPerfil(){const{data:t}=await ue.get("/secretarias/me/");return t},async listarMedicos(){const{data:t}=await ue.get("/medicos/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async listarClinicas(){const{data:t}=await ue.get("/clinicas/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async getConsultasDoMedico(t,n={}){const a="/consultas/",o=t?`${a}?medico=${t}`:a,{data:i}=await ue.get(o,{params:n});return i},async agendarConsulta(t){const n="/agendamentos/",{data:a}=await ue.post(n,t);return a},async atualizarConsulta(t,n){const a=`/agendamentos/${t}/`,{data:o}=await ue.patch(a,n);return o},async atualizarStatus(t,n){const a=`/agendamentos/${t}/`,{data:o}=await ue.patch(a,{status:n});return o},async confirmarConsulta(t){const n=`/agendamentos/${t}/confirmar/`,{data:a}=await ue.post(n);return a},async cancelarConsulta(t,n){const a=`/agendamentos/${t}/cancelar/`,{data:o}=await ue.post(a,{motivo:n});return o},async registrarPresenca(t){const n=`/agendamentos/${t}/presenca/`,{data:a}=await ue.post(n);return a},async registrarPaciente(t){const n="/auth/register/",a=String((t==null?void 0:t.nome)||"").trim(),[o,...i]=a.split(/\s+/),c=i.join(" "),d=String((t==null?void 0:t.email)||"").trim(),u=String((t==null?void 0:t.senha)||(t==null?void 0:t.password)||""),x={username:`${(d.split("@")[0]||o||"paciente").toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.floor(Math.random()*1e4)}`,email:d,password:u,first_name:o,last_name:c,role:"paciente",cpf:(t==null?void 0:t.cpf)||"",telefone:(t==null?void 0:t.telefone)||"",data_nascimento:(t==null?void 0:t.data_nascimento)||"",endereco:(t==null?void 0:t.endereco)||""},{data:p}=await ue.post(n,x,{});return p}};function g4(t){var a,o,i;if(!t)return"—";const n=[(a=t==null?void 0:t.user)==null?void 0:a.first_name,(o=t==null?void 0:t.user)==null?void 0:o.last_name].filter(Boolean).join(" ").trim();return(t==null?void 0:t.nome)||n||((i=t==null?void 0:t.user)==null?void 0:i.username)||`Médico #${(t==null?void 0:t.id)??"?"}`}function v4(t={}){var c,d,u;const n=t.paciente_nome||((c=t==null?void 0:t.paciente)==null?void 0:c.nome)||((d=t==null?void 0:t.paciente)!=null&&d.user?[t.paciente.user.first_name,t.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",a=t.data_hora||t.horario||t.inicio||t.data||t.start_time||"",o=t.status||"Agendada",i=t.clinica_nome||((u=t==null?void 0:t.clinica)==null?void 0:u.nome)||t.local||"—";return{id:t.id||t.consulta_id||Math.random().toString(36).slice(2),pacienteNome:n,dataHora:a,status:o,clinica:i,tipo:t.tipo||t.modalidade||"Consulta"}}function y4(){const[t,n]=g.useState([]),[a,o]=g.useState(null),[i,c]=g.useState(!0),[d,u]=g.useState(!1),[m,h]=g.useState([]),{toast:x}=Mt(),[p,j]=g.useState("todas"),[b,N]=g.useState(""),[v,w]=g.useState(!1),[_,C]=g.useState(!1),[E,R]=g.useState({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),[A,P]=g.useState(""),[T,k]=g.useState(!1),[$,M]=g.useState([]);g.useEffect(()=>{let O=!0;return(async()=>{var V;c(!0);try{const Z=await Rn.listarMedicos();if(!O)return;n(Array.isArray(Z)?Z:[]);const B=localStorage.getItem("secretaria.medicoId"),J=B&&(Z==null?void 0:Z.some(ee=>String(ee.id)===String(B)))?B:(V=Z==null?void 0:Z[0])==null?void 0:V.id;J&&o(String(J))}finally{O&&c(!1)}})(),()=>{O=!1}},[]);async function I(O){const V=O??a;if(V){u(!0);try{localStorage.setItem("secretaria.medicoId",String(V));const Z=await Qe.getConsultasHoje(V),B=Array.isArray(Z)?Z:Array.isArray(Z==null?void 0:Z.results)?Z.results:[];h(B.map(v4))}catch{h([])}finally{u(!1)}}}g.useEffect(()=>((async()=>a&&await I(a))(),()=>{}),[a]);const z=g.useMemo(()=>t.map(O=>({value:String(O.id),label:g4(O)})),[t]),Y=g.useMemo(()=>{const O=(b||"").toLowerCase().trim();return m.filter(V=>{const Z=String(V.status||"").toLowerCase(),B=p==="todas"||p==="pendentes"&&(Z.includes("agend")||Z.includes("pend"))||p==="confirmadas"&&Z.includes("confirm")||p==="canceladas"&&Z.includes("cancel")||p==="realizadas"&&(Z.includes("realiz")||Z.includes("conclu")||Z.includes("final")),U=O?(V.pacienteNome||"").toLowerCase().includes(O):!0;return B&&U})},[m,p,b]);function F(O){if(!O)return"—";try{return new Date(O).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return String(O).slice(11,16)||"—"}}const K=(O,V)=>{h(Z=>Z.map(B=>String(B.id)===String(O)?{...B,status:V}:B))},D=async O=>{try{await Rn.confirmarConsulta(O.id),K(O.id,"Confirmada"),x({title:"Consulta confirmada",description:`Paciente ${O.pacienteNome} às ${F(O.dataHora)}`})}catch{x({title:"Erro",description:"Não foi possível confirmar a consulta.",variant:"destructive"})}},H=async O=>{try{await Rn.cancelarConsulta(O.id),K(O.id,"Cancelada"),x({title:"Consulta cancelada",description:`Paciente ${O.pacienteNome} às ${F(O.dataHora)}`})}catch{x({title:"Erro",description:"Não foi possível cancelar a consulta.",variant:"destructive"})}},q=async O=>{try{await Rn.registrarPresenca(O.id),K(O.id,"Realizada"),x({title:"Presença registrada",description:`Paciente ${O.pacienteNome} às ${F(O.dataHora)}`})}catch{x({title:"Erro",description:"Não foi possível registrar a presença.",variant:"destructive"})}};async function X(){k(!0);try{let O=[];if(A&&A.trim().length>1)try{const V=await Qe.buscarPacientes(A.trim());O=Array.isArray(V)?V:Array.isArray(V==null?void 0:V.results)?V.results:[]}catch{if(a){const V=await Qe.getPacientesVinculados(a),Z=Array.isArray(V)?V:Array.isArray(V==null?void 0:V.results)?V.results:[],B=A.toLowerCase();O=Z.filter(U=>{var ee,re;return[U==null?void 0:U.nome,(ee=U==null?void 0:U.user)==null?void 0:ee.first_name,(re=U==null?void 0:U.user)==null?void 0:re.last_name].filter(Boolean).join(" ").toLowerCase().includes(B)})}}M(O)}finally{k(!1)}}async function te(O){var V,Z,B;if((V=O==null?void 0:O.preventDefault)==null||V.call(O),!a){x({title:"Selecione um médico",description:"Escolha o médico para agendar a consulta.",variant:"destructive"});return}if(!E.pacienteId||!E.data||!E.hora){x({title:"Campos obrigatórios",description:"Informe paciente, data e hora.",variant:"destructive"});return}C(!0);try{await Rn.agendarConsulta({paciente:E.pacienteId,medico:a,data:E.data,hora:E.hora,tipo:E.tipo,motivo:E.motivo,observacoes:E.observacoes}),x({title:"Consulta agendada",description:"O agendamento foi criado com sucesso."}),w(!1),R({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),P(""),M([]),await I(a)}catch(U){const J=((B=(Z=U==null?void 0:U.response)==null?void 0:Z.data)==null?void 0:B.detail)||"Não foi possível agendar. Verifique os dados.";x({title:"Erro ao agendar",description:J,variant:"destructive"})}finally{C(!1)}}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(At,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard da Secretária"})]}),e.jsxs(le,{children:[e.jsxs(me,{children:[e.jsx(pe,{children:"Selecione o médico"}),e.jsx(Ue,{children:"Visualize rapidamente as consultas de hoje do médico selecionado."})]}),e.jsx(de,{children:i?e.jsx(st,{className:"h-10 w-72"}):e.jsx("div",{className:"w-72",children:e.jsxs(lt,{value:a??void 0,onValueChange:O=>o(O),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Escolha um médico"})}),e.jsx(ot,{children:z.map(O=>e.jsx(we,{value:O.value,children:O.label},O.value))})]})})})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"})," Consultas de hoje"]}),e.jsx(Ue,{children:d?"Carregando...":`${Y.length} consulta(s) encontrada(s)`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{to:"/secretaria/pacientes",children:e.jsxs(ne,{variant:"outline",className:"whitespace-nowrap",children:[e.jsx(Wt,{className:"h-4 w-4 mr-1"})," Pacientes"]})}),e.jsxs(Wo,{open:v,onOpenChange:w,children:[e.jsx(B0,{asChild:!0,children:e.jsx(ne,{variant:"default",className:"whitespace-nowrap",children:"+ Agendar consulta"})}),e.jsxs(Pr,{children:[e.jsx(Ar,{children:e.jsx(Mr,{children:"Novo agendamento"})}),e.jsxs("form",{onSubmit:te,className:"px-6 pb-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(lt,{value:a??void 0,onValueChange:o,children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Escolha um médico"})}),e.jsx(ot,{children:z.map(O=>e.jsx(we,{value:O.value,children:O.label},O.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Paciente"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{placeholder:"Nome, CPF ou código",value:A,onChange:O=>P(O.target.value)}),e.jsx(ne,{type:"button",variant:"secondary",onClick:X,disabled:T,children:T?"Buscando...":"Buscar"})]}),($==null?void 0:$.length)>0&&e.jsx("div",{className:"mt-2",children:e.jsxs(lt,{value:E.pacienteId||void 0,onValueChange:O=>R(V=>({...V,pacienteId:O})),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Selecione o paciente"})}),e.jsx(ot,{children:$.map(O=>{var Z,B,U;const V=(O==null?void 0:O.nome)||[(Z=O==null?void 0:O.user)==null?void 0:Z.first_name,(B=O==null?void 0:O.user)==null?void 0:B.last_name].filter(Boolean).join(" ")||((U=O==null?void 0:O.user)==null?void 0:U.username)||`Paciente #${O==null?void 0:O.id}`;return e.jsx(we,{value:String(O.id),children:V},O.id)})})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(fe,{type:"date",value:E.data,onChange:O=>R(V=>({...V,data:O.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Hora"}),e.jsx(fe,{type:"time",value:E.hora,onChange:O=>R(V=>({...V,hora:O.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Tipo"}),e.jsxs(lt,{value:E.tipo,onValueChange:O=>R(V=>({...V,tipo:O})),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Tipo de consulta"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"primeira",children:"Primeira consulta"}),e.jsx(we,{value:"retorno",children:"Retorno"}),e.jsx(we,{value:"rotina",children:"Rotina"}),e.jsx(we,{value:"urgencia",children:"Urgência"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Motivo"}),e.jsx(fe,{value:E.motivo,onChange:O=>R(V=>({...V,motivo:O.target.value}))})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Observações"}),e.jsx(nt,{rows:3,value:E.observacoes,onChange:O=>R(V=>({...V,observacoes:O.target.value}))})]})]}),e.jsxs(Tr,{children:[e.jsx(ne,{type:"button",variant:"outline",onClick:()=>w(!1),disabled:_,children:"Cancelar"}),e.jsx(ne,{type:"submit",disabled:_,children:_?"Agendando...":"Agendar"})]})]})]})]})]})]})}),e.jsxs(de,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsxs(lt,{value:p,onValueChange:j,children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Filtrar por status"})}),e.jsxs(ot,{children:[e.jsx(we,{value:"todas",children:"Todas"}),e.jsx(we,{value:"pendentes",children:"Pendentes"}),e.jsx(we,{value:"confirmadas",children:"Confirmadas"}),e.jsx(we,{value:"canceladas",children:"Canceladas"}),e.jsx(we,{value:"realizadas",children:"Realizadas"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Buscar paciente"}),e.jsxs("div",{className:"relative",children:[e.jsx(qs,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{className:"pl-10",placeholder:"Ex.: Ana, 123.456.789-00 ou #123",value:b,onChange:O=>N(O.target.value)})]})]})]}),d?e.jsxs("div",{className:"space-y-2",children:[e.jsx(st,{className:"h-6 w-full"}),e.jsx(st,{className:"h-6 w-3/4"}),e.jsx(st,{className:"h-6 w-2/4"})]}):Y.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta para hoje com os filtros aplicados."}):e.jsxs(xn,{children:[e.jsx(gn,{children:e.jsxs(Tt,{children:[e.jsx(We,{children:"Paciente"}),e.jsx(We,{children:"Data/Hora"}),e.jsx(We,{children:"Tipo"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Clínica"}),e.jsx(We,{className:"w-[1%] text-right",children:"Ações"})]})}),e.jsx(vn,{children:Y.map(O=>{const V=String(O.status||"").toLowerCase(),Z=V.includes("agend")||V.includes("pend"),B=!V.includes("cancel")&&!V.includes("realiz")&&!V.includes("conclu"),U=V.includes("confirm")||V.includes("agend");return e.jsxs(Tt,{children:[e.jsxs(He,{className:"font-medium flex items-center gap-2",children:[e.jsx(Wt,{className:"h-4 w-4"})," ",O.pacienteNome]}),e.jsx(He,{children:O.dataHora?new Date(O.dataHora).toLocaleString():"—"}),e.jsx(He,{children:O.tipo}),e.jsx(He,{children:O.status}),e.jsx(He,{children:O.clinica}),e.jsx(He,{children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs(ne,{size:"sm",variant:"outline",disabled:!Z,onClick:()=>D(O),children:[e.jsx(lv,{className:"h-4 w-4 mr-1"})," Confirmar"]}),e.jsxs(ne,{size:"sm",variant:"destructive",disabled:!B,onClick:()=>H(O),children:[e.jsx(kn,{className:"h-4 w-4 mr-1"})," Cancelar"]}),e.jsxs(ne,{size:"sm",variant:"secondary",disabled:!U,onClick:()=>q(O),children:[e.jsx(NC,{className:"h-4 w-4 mr-1"})," Presença"]})]})})]},O.id)})})]})]})]})]})}function j4(t={}){var c,d,u;const n=t.paciente_nome||((c=t==null?void 0:t.paciente)==null?void 0:c.nome)||((d=t==null?void 0:t.paciente)!=null&&d.user?[t.paciente.user.first_name,t.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",a=t.data_hora||t.horario||t.inicio||t.data||t.start_time||"",o=t.status||"Agendada",i=t.clinica_nome||((u=t==null?void 0:t.clinica)==null?void 0:u.nome)||t.local||"—";return{id:t.id||t.consulta_id||Math.random().toString(36).slice(2),pacienteNome:n,dataHora:a,status:o,clinica:i,tipo:t.tipo||t.modalidade||"Consulta"}}function w4(){const[t,n]=g.useState([]),[a,o]=g.useState(""),[i,c]=g.useState(""),[d,u]=g.useState(""),[m,h]=g.useState(!1),[x,p]=g.useState([]);g.useEffect(()=>{let N=!0;return(async()=>{try{const v=await Rn.listarMedicos();if(!N)return;n(Array.isArray(v)?v:[]);const w=localStorage.getItem("secretaria.medicoId");w&&o(String(w))}catch{}})(),()=>{N=!1}},[]);const j=async()=>{if(!a)return p([]);h(!0);try{localStorage.setItem("secretaria.medicoId",String(a));const N={};d&&(N.date=d);const v=await Qe.getConsultasDoMedico({...N,medico:a}),_=(Array.isArray(v)?v:Array.isArray(v==null?void 0:v.results)?v.results:[]).map(j4);p(i?_.filter(C=>C.pacienteNome.toLowerCase().includes(i.toLowerCase())):_)}catch{p([])}finally{h(!1)}};g.useEffect(()=>{j()},[a]);const b=g.useMemo(()=>t.map(N=>{var v;return{value:String(N.id),label:N.nome||((v=N==null?void 0:N.user)==null?void 0:v.first_name)||`Médico #${N.id}`}}),[t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ge,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Consultas"})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5"})," Filtros"]})}),e.jsx(de,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(lt,{value:a||void 0,onValueChange:N=>o(N),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Escolha um médico"})}),e.jsx(ot,{children:b.map(N=>e.jsx(we,{value:N.value,children:N.label},N.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(fe,{type:"date",value:d,onChange:N=>u(N.target.value)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar por paciente"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{placeholder:"Nome do paciente",value:i,onChange:N=>c(N.target.value)}),e.jsxs(ne,{onClick:j,children:[e.jsx(qs,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})]})})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Resultados"})}),e.jsx(de,{children:m?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):x.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta encontrada."}):e.jsxs(xn,{children:[e.jsx(gn,{children:e.jsxs(Tt,{children:[e.jsx(We,{children:"Paciente"}),e.jsx(We,{children:"Data/Hora"}),e.jsx(We,{children:"Tipo"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Clínica"})]})}),e.jsx(vn,{children:x.map(N=>e.jsxs(Tt,{children:[e.jsx(He,{children:N.pacienteNome}),e.jsx(He,{children:N.dataHora||"—"}),e.jsx(He,{children:N.tipo}),e.jsx(He,{children:N.status}),e.jsx(He,{children:N.clinica})]},N.id))})]})})]})]})}function vg(t={}){const n=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[n.first_name,n.last_name].filter(Boolean).join(" ")||n.username||`Paciente #${(t==null?void 0:t.id)||"?"}`}function N4(){const[t,n]=g.useState([]),[a,o]=g.useState(""),[i,c]=g.useState(""),[d,u]=g.useState(!1),[m,h]=g.useState([]),{toast:x}=Mt(),[p,j]=g.useState(!1),[b,N]=g.useState(!1),[v,w]=g.useState({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""}),_=P=>{const T=String(P||"").replace(/\D/g,"").slice(0,11),k=T.slice(0,3),$=T.slice(3,6),M=T.slice(6,9),I=T.slice(9,11);return T.length>9?`${k}.${$}.${M}-${I}`:T.length>6?`${k}.${$}.${M}`:T.length>3?`${k}.${$}`:k},C=P=>{const{name:T,value:k}=P.target;if(T==="cpf")return w($=>({...$,cpf:_(k)}));w($=>({...$,[T]:k}))};g.useEffect(()=>{let P=!0;return(async()=>{try{const T=await Rn.listarMedicos();if(!P)return;n(Array.isArray(T)?T:[]);const k=localStorage.getItem("secretaria.medicoId");k&&o(String(k))}catch{}})(),()=>{P=!1}},[]);const E=async()=>{if(!a)return h([]);u(!0);try{const P=await Qe.getPacientesVinculados(a),T=Array.isArray(P)?P:Array.isArray(P==null?void 0:P.results)?P.results:[];h(T)}catch{h([])}finally{u(!1)}};g.useEffect(()=>{E()},[a]);const R=g.useMemo(()=>m.filter(P=>vg(P).toLowerCase().includes(i.toLowerCase())),[m,i]),A=async P=>{var T,k;if((T=P==null?void 0:P.preventDefault)==null||T.call(P),!v.nome||!v.email||!v.senha||!v.confirmSenha){x({title:"Campos obrigatórios",description:"Preencha nome, email e senha.",variant:"destructive"});return}if(v.senha!==v.confirmSenha){x({title:"Senhas não conferem",description:"A confirmação deve ser igual à senha.",variant:"destructive"});return}N(!0);try{await Rn.registrarPaciente(v),x({title:"Paciente cadastrado",description:"O paciente foi criado com sucesso. Ele aparecerá na lista do médico após o primeiro vínculo (ex.: agendamento de consulta)."}),j(!1),w({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""})}catch($){const M=(k=$==null?void 0:$.response)!=null&&k.data?JSON.stringify($.response.data):($==null?void 0:$.message)||"Falha ao cadastrar";x({title:"Erro ao cadastrar",description:M,variant:"destructive"})}finally{N(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(os,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Pacientes"})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2 justify-between",children:[e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(qs,{className:"h-5 w-5"})," Filtros"]}),e.jsxs(Wo,{open:p,onOpenChange:j,children:[e.jsx(B0,{asChild:!0,children:e.jsxs("button",{className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(Em,{className:"h-4 w-4 mr-2"})," Cadastrar Paciente"]})}),e.jsxs(Pr,{className:"max-w-lg",children:[e.jsxs(Ar,{children:[e.jsx(Mr,{children:"Novo Paciente"}),e.jsx(hc,{children:"Preencha os dados básicos para criar a conta do paciente."})]}),e.jsxs("form",{className:"space-y-3",onSubmit:A,children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Nome completo"}),e.jsx(fe,{name:"nome",value:v.nome,onChange:C,placeholder:"Ex.: Maria Silva"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"E-mail"}),e.jsx(fe,{name:"email",value:v.email,onChange:C,type:"email",placeholder:"email@exemplo.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"CPF"}),e.jsx(fe,{name:"cpf",value:v.cpf,onChange:C,placeholder:"000.000.000-00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Telefone"}),e.jsx(fe,{name:"telefone",value:v.telefone,onChange:C,placeholder:"(00) 00000-0000"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data de nascimento"}),e.jsx(fe,{name:"data_nascimento",type:"date",value:v.data_nascimento,onChange:C})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Endereço"}),e.jsx(fe,{name:"endereco",value:v.endereco,onChange:C,placeholder:"Rua, número, bairro"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Senha"}),e.jsx(fe,{name:"senha",type:"password",value:v.senha,onChange:C})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirmar senha"}),e.jsx(fe,{name:"confirmSenha",type:"password",value:v.confirmSenha,onChange:C})]})]}),e.jsxs(Tr,{children:[e.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-3 py-2 rounded-md text-sm border mr-2",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:b,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 disabled:opacity-50",children:b?"Salvando...":"Criar"})]})]})]})]})]})}),e.jsx(de,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(lt,{value:a||void 0,onValueChange:P=>{o(P);try{localStorage.setItem("secretaria.medicoId",String(P))}catch{}},children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Escolha um médico"})}),e.jsx(ot,{children:t.map(P=>{var k,$;const T=(P==null?void 0:P.nome)||[(k=P==null?void 0:P.user)==null?void 0:k.first_name,($=P==null?void 0:P.user)==null?void 0:$.last_name].filter(Boolean).join(" ")||`Médico #${P==null?void 0:P.id}`;return e.jsx(we,{value:String(P.id),children:T},P.id)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar"}),e.jsx(fe,{placeholder:"Nome do paciente",value:i,onChange:P=>c(P.target.value)})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsxs("button",{onClick:E,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(At,{className:"h-4 w-4 mr-2"})," Buscar"]})})]})})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Lista"})}),e.jsx(de,{children:d?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):R.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum paciente encontrado."}):e.jsxs(xn,{children:[e.jsx(gn,{children:e.jsxs(Tt,{children:[e.jsx(We,{children:"Nome"}),e.jsx(We,{children:"Contato"})]})}),e.jsx(vn,{children:R.map(P=>{var T,k;return e.jsxs(Tt,{children:[e.jsx(He,{children:vg(P)}),e.jsxs(He,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx(Io,{className:"inline h-4 w-4 mr-1"})," ",((T=P==null?void 0:P.user)==null?void 0:T.phone)||"—"]}),e.jsxs("div",{children:[e.jsx(Sr,{className:"inline h-4 w-4 mr-1"})," ",((k=P==null?void 0:P.user)==null?void 0:k.email)||"—"]})]})]},P.id)})})]})})]})]})}function yg(t){const n=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[n.first_name,n.last_name].filter(Boolean).join(" ")||n.username||`Médico #${(t==null?void 0:t.id)||"?"}`}function b4(){const[t,n]=g.useState(""),[a,o]=g.useState([]),[i,c]=g.useState(!0);g.useEffect(()=>{let u=!0;return(async()=>{c(!0);try{const m=await Rn.listarMedicos();if(!u)return;o(Array.isArray(m)?m:[])}finally{u&&c(!1)}})(),()=>{u=!1}},[]);const d=g.useMemo(()=>a.filter(u=>yg(u).toLowerCase().includes(t.toLowerCase())),[a,t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(At,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Médicos"})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(qs,{className:"h-5 w-5"})," Buscar"]})}),e.jsx(de,{children:e.jsx(fe,{placeholder:"Digite o nome do médico",value:t,onChange:u=>n(u.target.value)})})]}),e.jsxs(le,{children:[e.jsx(me,{children:e.jsx(pe,{children:"Resultados"})}),e.jsx(de,{children:i?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):d.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum médico encontrado."}):e.jsxs(xn,{children:[e.jsx(gn,{children:e.jsxs(Tt,{children:[e.jsx(We,{children:"Nome"}),e.jsx(We,{children:"CRM"}),e.jsx(We,{children:"Especialidade"}),e.jsx(We,{children:"Contato"})]})}),e.jsx(vn,{children:d.map(u=>{var m,h;return e.jsxs(Tt,{children:[e.jsxs(He,{className:"font-medium flex items-center gap-2",children:[e.jsx(Wt,{className:"h-4 w-4"})," ",yg(u)]}),e.jsx(He,{children:u.crm||"—"}),e.jsx(He,{children:u.especialidade||"—"}),e.jsxs(He,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Io,{className:"h-4 w-4"})," ",u.telefone||((m=u==null?void 0:u.user)==null?void 0:m.phone)||"—"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Sr,{className:"h-4 w-4"})," ",((h=u==null?void 0:u.user)==null?void 0:h.email)||"—"]})]})]},u.id)})})]})})]})]})}function S4(){return e.jsx(cC,{children:e.jsx(dC,{children:e.jsx(NS,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs(pS,{children:[e.jsx(Le,{path:"/",element:e.jsx(o4,{})}),e.jsx(Le,{path:"/login",element:e.jsx(SP,{})}),e.jsx(Le,{path:"/registrar",element:e.jsx(CP,{})}),e.jsx(Le,{path:"/esqueci-senha",element:e.jsx(_P,{})}),e.jsxs(Le,{path:"/paciente",element:e.jsx(d4,{children:e.jsx(fP,{})}),children:[e.jsx(Le,{index:!0,element:e.jsx(gt,{to:"perfil",replace:!0})}),e.jsx(Le,{path:"perfil",element:e.jsx(kP,{})}),e.jsx(Le,{path:"prontuario",element:e.jsx(PP,{})}),e.jsx(Le,{path:"consultas",element:e.jsx(dA,{})}),e.jsx(Le,{path:"consultas/nova",element:e.jsx(f4,{})}),e.jsx(Le,{path:"exames",element:e.jsx(uA,{})}),e.jsx(Le,{path:"historico-medico",element:e.jsx(fA,{})}),e.jsx(Le,{path:"medicos",element:e.jsx(pA,{})}),e.jsx(Le,{path:"receitas",element:e.jsx(gA,{})}),e.jsx(Le,{path:"configuracoes",element:e.jsx(Ou,{})})]}),e.jsxs(Le,{path:"/medico",element:e.jsx(l4,{children:e.jsx(pP,{})}),children:[e.jsx(Le,{index:!0,element:e.jsx(gt,{to:"dashboard",replace:!0})}),e.jsx(Le,{path:"dashboard",element:e.jsx(yA,{})}),e.jsx(Le,{path:"meus-pacientes",element:e.jsx(jA,{})}),e.jsx(Le,{path:"minhas-consultas",element:e.jsx(wA,{})}),e.jsx(Le,{path:"consultas/hoje",element:e.jsx(OA,{})}),e.jsx(Le,{path:"paciente/:id/perfil",element:e.jsx(NA,{})}),e.jsx(Le,{path:"paciente/:id/prontuario",element:e.jsx(bA,{})}),e.jsx(Le,{path:"paciente/:id/exames",element:e.jsx(SA,{})}),e.jsx(Le,{path:"paciente/:id/iniciar-consulta",element:e.jsx(CA,{})}),e.jsx(Le,{path:"paciente/:id/consulta/resumo",element:e.jsx($A,{})}),e.jsx(Le,{path:"paciente/:id/receita/preview",element:e.jsx(LA,{})}),e.jsx(Le,{path:"configuracoes",element:e.jsx(Ou,{})})]}),e.jsxs(Le,{path:"/clinica",element:e.jsx(c4,{children:e.jsx(Zj,{})}),children:[e.jsx(Le,{index:!0,element:e.jsx(gt,{to:"dashboard",replace:!0})}),e.jsx(Le,{path:"dashboard",element:e.jsx(IA,{})}),e.jsx(Le,{path:"calendario",element:e.jsx(BA,{})}),e.jsx(Le,{path:"disponibilidade",element:e.jsx(VA,{})}),e.jsx(Le,{path:"exames",element:e.jsx(HA,{})}),e.jsx(Le,{path:"pacientes",element:e.jsx(qA,{})}),e.jsx(Le,{path:"medicos",element:e.jsx(WA,{})}),e.jsx(Le,{path:"relatorios",element:e.jsx(KA,{})}),e.jsx(Le,{path:"configuracoes",element:e.jsx(QA,{})})]}),e.jsxs(Le,{path:"/admin",element:e.jsx(u4,{children:e.jsx(hP,{})}),children:[e.jsx(Le,{index:!0,element:e.jsx(gt,{to:"dashboard",replace:!0})}),e.jsx(Le,{path:"dashboard",element:e.jsx(XA,{})}),e.jsx(Le,{path:"solicitacoes",element:e.jsx(ZA,{})}),e.jsx(Le,{path:"solicitacoes/:id",element:e.jsx(e4,{})}),e.jsx(Le,{path:"relatorios",element:e.jsx(n4,{})}),e.jsx(Le,{path:"auditoria",element:e.jsx(a4,{})}),e.jsx(Le,{path:"usuarios",element:e.jsx(p4,{})}),e.jsx(Le,{path:"clinicas",element:e.jsx(h4,{})}),e.jsx(Le,{path:"configuracoes",element:e.jsx(x4,{})})]}),e.jsxs(Le,{path:"/secretaria",element:e.jsx(EP,{children:e.jsx(RP,{})}),children:[e.jsx(Le,{index:!0,element:e.jsx(gt,{to:"dashboard",replace:!0})}),e.jsx(Le,{path:"dashboard",element:e.jsx(y4,{})}),e.jsx(Le,{path:"consultas",element:e.jsx(w4,{})}),e.jsx(Le,{path:"pacientes",element:e.jsx(N4,{})}),e.jsx(Le,{path:"medicos",element:e.jsx(b4,{})}),e.jsx(Le,{path:"configuracoes",element:e.jsx(Ou,{})})]}),e.jsx(Le,{path:"*",element:e.jsx("div",{children:"Página não encontrada"})})]})})})})}var lf="ToastProvider",[cf,C4,_4]=rc("Toast"),[K0,yT]=un("Toast",[_4]),[E4,xc]=K0(lf),G0=t=>{const{__scopeToast:n,label:a="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:c=50,children:d}=t,[u,m]=g.useState(null),[h,x]=g.useState(0),p=g.useRef(!1),j=g.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${lf}\`. Expected non-empty \`string\`.`),e.jsx(cf.Provider,{scope:n,children:e.jsx(E4,{scope:n,label:a,duration:o,swipeDirection:i,swipeThreshold:c,toastCount:h,viewport:u,onViewportChange:m,onToastAdd:g.useCallback(()=>x(b=>b+1),[]),onToastRemove:g.useCallback(()=>x(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:j,children:d})})};G0.displayName=lf;var Y0="ToastViewport",R4=["F8"],mm="toast.viewportPause",fm="toast.viewportResume",J0=g.forwardRef((t,n)=>{const{__scopeToast:a,hotkey:o=R4,label:i="Notifications ({hotkey})",...c}=t,d=xc(Y0,a),u=C4(a),m=g.useRef(null),h=g.useRef(null),x=g.useRef(null),p=g.useRef(null),j=mt(n,p,d.onViewportChange),b=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=d.toastCount>0;g.useEffect(()=>{const w=_=>{var E;o.length!==0&&o.every(R=>_[R]||_.code===R)&&((E=p.current)==null||E.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[o]),g.useEffect(()=>{const w=m.current,_=p.current;if(N&&w&&_){const C=()=>{if(!d.isClosePausedRef.current){const P=new CustomEvent(mm);_.dispatchEvent(P),d.isClosePausedRef.current=!0}},E=()=>{if(d.isClosePausedRef.current){const P=new CustomEvent(fm);_.dispatchEvent(P),d.isClosePausedRef.current=!1}},R=P=>{!w.contains(P.relatedTarget)&&E()},A=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",C),w.addEventListener("focusout",R),w.addEventListener("pointermove",C),w.addEventListener("pointerleave",A),window.addEventListener("blur",C),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",C),w.removeEventListener("focusout",R),w.removeEventListener("pointermove",C),w.removeEventListener("pointerleave",A),window.removeEventListener("blur",C),window.removeEventListener("focus",E)}}},[N,d.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:w})=>{const C=u().map(E=>{const R=E.ref.current,A=[R,...B4(R)];return w==="forwards"?A:A.reverse()});return(w==="forwards"?C.reverse():C).flat()},[u]);return g.useEffect(()=>{const w=p.current;if(w){const _=C=>{var A,P,T;const E=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!E){const k=document.activeElement,$=C.shiftKey;if(C.target===w&&$){(A=h.current)==null||A.focus();return}const z=v({tabbingDirection:$?"backwards":"forwards"}),Y=z.findIndex(F=>F===k);Lu(z.slice(Y+1))?C.preventDefault():$?(P=h.current)==null||P.focus():(T=x.current)==null||T.focus()}};return w.addEventListener("keydown",_),()=>w.removeEventListener("keydown",_)}},[u,v]),e.jsxs(c2,{ref:m,role:"region","aria-label":i.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&e.jsx(pm,{ref:h,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});Lu(w)}}),e.jsx(cf.Slot,{scope:a,children:e.jsx(Ve.ol,{tabIndex:-1,...c,ref:j})}),N&&e.jsx(pm,{ref:x,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});Lu(w)}})]})});J0.displayName=Y0;var Q0="ToastFocusProxy",pm=g.forwardRef((t,n)=>{const{__scopeToast:a,onFocusFromOutsideViewport:o,...i}=t,c=xc(Q0,a);return e.jsx(ec,{tabIndex:0,...i,ref:n,style:{position:"fixed"},onFocus:d=>{var h;const u=d.relatedTarget;!((h=c.viewport)!=null&&h.contains(u))&&o()}})});pm.displayName=Q0;var Ko="Toast",k4="toast.swipeStart",P4="toast.swipeMove",A4="toast.swipeCancel",T4="toast.swipeEnd",X0=g.forwardRef((t,n)=>{const{forceMount:a,open:o,defaultOpen:i,onOpenChange:c,...d}=t,[u,m]=Pa({prop:o,defaultProp:i??!0,onChange:c,caller:Ko});return e.jsx(mn,{present:a||u,children:e.jsx(O4,{open:u,...d,ref:n,onClose:()=>m(!1),onPause:ls(t.onPause),onResume:ls(t.onResume),onSwipeStart:Ee(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,h=>{const{x,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,h=>{const{x,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),m(!1)})})})});X0.displayName=Ko;var[M4,D4]=K0(Ko,{onClose(){}}),O4=g.forwardRef((t,n)=>{const{__scopeToast:a,type:o="foreground",duration:i,open:c,onClose:d,onEscapeKeyDown:u,onPause:m,onResume:h,onSwipeStart:x,onSwipeMove:p,onSwipeCancel:j,onSwipeEnd:b,...N}=t,v=xc(Ko,a),[w,_]=g.useState(null),C=mt(n,F=>_(F)),E=g.useRef(null),R=g.useRef(null),A=i||v.duration,P=g.useRef(0),T=g.useRef(A),k=g.useRef(0),{onToastAdd:$,onToastRemove:M}=v,I=ls(()=>{var K;(w==null?void 0:w.contains(document.activeElement))&&((K=v.viewport)==null||K.focus()),d()}),z=g.useCallback(F=>{!F||F===1/0||(window.clearTimeout(k.current),P.current=new Date().getTime(),k.current=window.setTimeout(I,F))},[I]);g.useEffect(()=>{const F=v.viewport;if(F){const K=()=>{z(T.current),h==null||h()},D=()=>{const H=new Date().getTime()-P.current;T.current=T.current-H,window.clearTimeout(k.current),m==null||m()};return F.addEventListener(mm,D),F.addEventListener(fm,K),()=>{F.removeEventListener(mm,D),F.removeEventListener(fm,K)}}},[v.viewport,A,m,h,z]),g.useEffect(()=>{c&&!v.isClosePausedRef.current&&z(A)},[c,A,v.isClosePausedRef,z]),g.useEffect(()=>($(),()=>M()),[$,M]);const Y=g.useMemo(()=>w?rw(w):null,[w]);return v.viewport?e.jsxs(e.Fragment,{children:[Y&&e.jsx(L4,{__scopeToast:a,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:Y}),e.jsx(M4,{scope:a,onClose:I,children:gr.createPortal(e.jsx(cf.ItemSlot,{scope:a,children:e.jsx(l2,{asChild:!0,onEscapeKeyDown:Ee(u,()=>{v.isFocusedToastEscapeKeyDownRef.current||I(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Ve.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":v.swipeDirection,...N,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,F=>{F.key==="Escape"&&(u==null||u(F.nativeEvent),F.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ee(t.onPointerDown,F=>{F.button===0&&(E.current={x:F.clientX,y:F.clientY})}),onPointerMove:Ee(t.onPointerMove,F=>{if(!E.current)return;const K=F.clientX-E.current.x,D=F.clientY-E.current.y,H=!!R.current,q=["left","right"].includes(v.swipeDirection),X=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,te=q?X(0,K):0,O=q?0:X(0,D),V=F.pointerType==="touch"?10:2,Z={x:te,y:O},B={originalEvent:F,delta:Z};H?(R.current=Z,ml(P4,p,B,{discrete:!1})):jg(Z,v.swipeDirection,V)?(R.current=Z,ml(k4,x,B,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(K)>V||Math.abs(D)>V)&&(E.current=null)}),onPointerUp:Ee(t.onPointerUp,F=>{const K=R.current,D=F.target;if(D.hasPointerCapture(F.pointerId)&&D.releasePointerCapture(F.pointerId),R.current=null,E.current=null,K){const H=F.currentTarget,q={originalEvent:F,delta:K};jg(K,v.swipeDirection,v.swipeThreshold)?ml(T4,b,q,{discrete:!0}):ml(A4,j,q,{discrete:!0}),H.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),L4=t=>{const{__scopeToast:n,children:a,...o}=t,i=xc(Ko,n),[c,d]=g.useState(!1),[u,m]=g.useState(!1);return F4(()=>d(!0)),g.useEffect(()=>{const h=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:e.jsx(Fo,{asChild:!0,children:e.jsx(ec,{...o,children:c&&e.jsxs(e.Fragment,{children:[i.label," ",a]})})})},$4="ToastTitle",Z0=g.forwardRef((t,n)=>{const{__scopeToast:a,...o}=t;return e.jsx(Ve.div,{...o,ref:n})});Z0.displayName=$4;var I4="ToastDescription",ew=g.forwardRef((t,n)=>{const{__scopeToast:a,...o}=t;return e.jsx(Ve.div,{...o,ref:n})});ew.displayName=I4;var tw="ToastAction",sw=g.forwardRef((t,n)=>{const{altText:a,...o}=t;return a.trim()?e.jsx(aw,{altText:a,asChild:!0,children:e.jsx(df,{...o,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${tw}\`. Expected non-empty \`string\`.`),null)});sw.displayName=tw;var nw="ToastClose",df=g.forwardRef((t,n)=>{const{__scopeToast:a,...o}=t,i=D4(nw,a);return e.jsx(aw,{asChild:!0,children:e.jsx(Ve.button,{type:"button",...o,ref:n,onClick:Ee(t.onClick,i.onClose)})})});df.displayName=nw;var aw=g.forwardRef((t,n)=>{const{__scopeToast:a,altText:o,...i}=t;return e.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...i,ref:n})});function rw(t){const n=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&n.push(o.textContent),z4(o)){const i=o.ariaHidden||o.hidden||o.style.display==="none",c=o.dataset.radixToastAnnounceExclude==="";if(!i)if(c){const d=o.dataset.radixToastAnnounceAlt;d&&n.push(d)}else n.push(...rw(o))}}),n}function ml(t,n,a,{discrete:o}){const i=a.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});n&&i.addEventListener(t,n,{once:!0}),o?km(i,c):i.dispatchEvent(c)}var jg=(t,n,a=0)=>{const o=Math.abs(t.x),i=Math.abs(t.y),c=o>i;return n==="left"||n==="right"?c&&o>a:!c&&i>a};function F4(t=()=>{}){const n=ls(t);Ft(()=>{let a=0,o=0;return a=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(o)}},[n])}function z4(t){return t.nodeType===t.ELEMENT_NODE}function B4(t){const n=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)n.push(a.currentNode);return n}function Lu(t){const n=document.activeElement;return t.some(a=>a===n?!0:(a.focus(),document.activeElement!==n))}var U4=G0,ow=J0,iw=X0,lw=Z0,cw=ew,dw=sw,uw=df;const V4=U4,mw=g.forwardRef(({className:t,...n},a)=>e.jsx(ow,{ref:a,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...n}));mw.displayName=ow.displayName;const H4=Ul("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fw=g.forwardRef(({className:t,variant:n,...a},o)=>e.jsx(iw,{ref:o,className:ye(H4({variant:n}),t),...a}));fw.displayName=iw.displayName;const q4=g.forwardRef(({className:t,...n},a)=>e.jsx(dw,{ref:a,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...n}));q4.displayName=dw.displayName;const pw=g.forwardRef(({className:t,...n},a)=>e.jsx(uw,{ref:a,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...n,children:e.jsx(Rm,{className:"h-4 w-4"})}));pw.displayName=uw.displayName;const hw=g.forwardRef(({className:t,...n},a)=>e.jsx(lw,{ref:a,className:ye("text-sm font-semibold",t),...n}));hw.displayName=lw.displayName;const xw=g.forwardRef(({className:t,...n},a)=>e.jsx(cw,{ref:a,className:ye("text-sm opacity-90",t),...n}));xw.displayName=cw.displayName;function W4(){const{toasts:t}=Mt();return e.jsxs(V4,{children:[t.map(({id:n,title:a,description:o,action:i,...c})=>e.jsxs(fw,{...c,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(hw,{children:a}),o&&e.jsx(xw,{children:o})]}),i,e.jsx(pw,{})]},n)),e.jsx(mw,{})]})}jb.createRoot(document.getElementById("root")).render(e.jsxs(RR,{defaultTheme:"system",storageKey:"medicinefront-theme",children:[e.jsx(S4,{}),e.jsx(W4,{})]}));export{wg as g};
