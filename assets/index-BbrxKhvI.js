function kN(t,a){for(var r=0;r<a.length;r++){const o=a[r];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in t)){const c=Object.getOwnPropertyDescriptor(o,i);c&&Object.defineProperty(t,i,c.get?c:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=r(i);fetch(i.href,c)}})();function Bg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Au={exports:{}},Go={},Tu={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function EN(){if(fx)return mt;fx=1;var t=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=h&&M[h]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,j={};function N(M,B,re){this.props=M,this.context=B,this.refs=j,this.updater=re||w}N.prototype.isReactComponent={},N.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function P(){}P.prototype=N.prototype;function C(M,B,re){this.props=M,this.context=B,this.refs=j,this.updater=re||w}var _=C.prototype=new P;_.constructor=C,y(_,N.prototype),_.isPureReactComponent=!0;var E=Array.isArray,k=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function R(M,B,re){var F,V={},Q=null,se=null;if(B!=null)for(F in B.ref!==void 0&&(se=B.ref),B.key!==void 0&&(Q=""+B.key),B)k.call(B,F)&&!T.hasOwnProperty(F)&&(V[F]=B[F]);var ne=arguments.length-2;if(ne===1)V.children=re;else if(1<ne){for(var ve=Array(ne),ge=0;ge<ne;ge++)ve[ge]=arguments[ge+2];V.children=ve}if(M&&M.defaultProps)for(F in ne=M.defaultProps,ne)V[F]===void 0&&(V[F]=ne[F]);return{$$typeof:t,type:M,key:Q,ref:se,props:V,_owner:A.current}}function I(M,B){return{$$typeof:t,type:M.type,key:B,ref:M.ref,props:M.props,_owner:M._owner}}function L(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function U(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return B[re]})}var K=/\/+/g;function z(M,B){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):B.toString(36)}function D(M,B,re,F,V){var Q=typeof M;(Q==="undefined"||Q==="boolean")&&(M=null);var se=!1;if(M===null)se=!0;else switch(Q){case"string":case"number":se=!0;break;case"object":switch(M.$$typeof){case t:case a:se=!0}}if(se)return se=M,V=V(se),M=F===""?"."+z(se,0):F,E(V)?(re="",M!=null&&(re=M.replace(K,"$&/")+"/"),D(V,B,re,"",function(ge){return ge})):V!=null&&(L(V)&&(V=I(V,re+(!V.key||se&&se.key===V.key?"":(""+V.key).replace(K,"$&/")+"/")+M)),B.push(V)),1;if(se=0,F=F===""?".":F+":",E(M))for(var ne=0;ne<M.length;ne++){Q=M[ne];var ve=F+z(Q,ne);se+=D(Q,B,re,ve,V)}else if(ve=v(M),typeof ve=="function")for(M=ve.call(M),ne=0;!(Q=M.next()).done;)Q=Q.value,ve=F+z(Q,ne++),se+=D(Q,B,re,ve,V);else if(Q==="object")throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return se}function G(M,B,re){if(M==null)return M;var F=[],V=0;return D(M,F,"","",function(Q){return B.call(re,Q,V++)}),F}function $(M){if(M._status===-1){var B=M._result;B=B(),B.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var H={current:null},q={transition:null},Y={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:q,ReactCurrentOwner:A};function ee(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:G,forEach:function(M,B,re){G(M,function(){B.apply(this,arguments)},re)},count:function(M){var B=0;return G(M,function(){B++}),B},toArray:function(M){return G(M,function(B){return B})||[]},only:function(M){if(!L(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},mt.Component=N,mt.Fragment=r,mt.Profiler=i,mt.PureComponent=C,mt.StrictMode=o,mt.Suspense=u,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,mt.act=ee,mt.cloneElement=function(M,B,re){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var F=y({},M.props),V=M.key,Q=M.ref,se=M._owner;if(B!=null){if(B.ref!==void 0&&(Q=B.ref,se=A.current),B.key!==void 0&&(V=""+B.key),M.type&&M.type.defaultProps)var ne=M.type.defaultProps;for(ve in B)k.call(B,ve)&&!T.hasOwnProperty(ve)&&(F[ve]=B[ve]===void 0&&ne!==void 0?ne[ve]:B[ve])}var ve=arguments.length-2;if(ve===1)F.children=re;else if(1<ve){ne=Array(ve);for(var ge=0;ge<ve;ge++)ne[ge]=arguments[ge+2];F.children=ne}return{$$typeof:t,type:M.type,key:V,ref:Q,props:F,_owner:se}},mt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:c,_context:M},M.Consumer=M},mt.createElement=R,mt.createFactory=function(M){var B=R.bind(null,M);return B.type=M,B},mt.createRef=function(){return{current:null}},mt.forwardRef=function(M){return{$$typeof:p,render:M}},mt.isValidElement=L,mt.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:$}},mt.memo=function(M,B){return{$$typeof:g,type:M,compare:B===void 0?null:B}},mt.startTransition=function(M){var B=q.transition;q.transition={};try{M()}finally{q.transition=B}},mt.unstable_act=ee,mt.useCallback=function(M,B){return H.current.useCallback(M,B)},mt.useContext=function(M){return H.current.useContext(M)},mt.useDebugValue=function(){},mt.useDeferredValue=function(M){return H.current.useDeferredValue(M)},mt.useEffect=function(M,B){return H.current.useEffect(M,B)},mt.useId=function(){return H.current.useId()},mt.useImperativeHandle=function(M,B,re){return H.current.useImperativeHandle(M,B,re)},mt.useInsertionEffect=function(M,B){return H.current.useInsertionEffect(M,B)},mt.useLayoutEffect=function(M,B){return H.current.useLayoutEffect(M,B)},mt.useMemo=function(M,B){return H.current.useMemo(M,B)},mt.useReducer=function(M,B,re){return H.current.useReducer(M,B,re)},mt.useRef=function(M){return H.current.useRef(M)},mt.useState=function(M){return H.current.useState(M)},mt.useSyncExternalStore=function(M,B,re){return H.current.useSyncExternalStore(M,B,re)},mt.useTransition=function(){return H.current.useTransition()},mt.version="18.3.1",mt}var hx;function hc(){return hx||(hx=1,Tu.exports=EN()),Tu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function RN(){if(px)return Go;px=1;var t=hc(),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(p,u,g){var f,h={},v=null,w=null;g!==void 0&&(v=""+g),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(w=u.ref);for(f in u)o.call(u,f)&&!c.hasOwnProperty(f)&&(h[f]=u[f]);if(p&&p.defaultProps)for(f in u=p.defaultProps,u)h[f]===void 0&&(h[f]=u[f]);return{$$typeof:a,type:p,key:v,ref:w,props:h,_owner:i.current}}return Go.Fragment=r,Go.jsx=d,Go.jsxs=d,Go}var xx;function PN(){return xx||(xx=1,Au.exports=RN()),Au.exports}var e=PN(),Tl={},Mu={exports:{}},zs={},Du={exports:{}},Ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function AN(){return gx||(gx=1,(function(t){function a(q,Y){var ee=q.length;q.push(Y);e:for(;0<ee;){var M=ee-1>>>1,B=q[M];if(0<i(B,Y))q[M]=Y,q[ee]=B,ee=M;else break e}}function r(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var Y=q[0],ee=q.pop();if(ee!==Y){q[0]=ee;e:for(var M=0,B=q.length,re=B>>>1;M<re;){var F=2*(M+1)-1,V=q[F],Q=F+1,se=q[Q];if(0>i(V,ee))Q<B&&0>i(se,V)?(q[M]=se,q[Q]=ee,M=Q):(q[M]=V,q[F]=ee,M=F);else if(Q<B&&0>i(se,ee))q[M]=se,q[Q]=ee,M=Q;else break e}}return Y}function i(q,Y){var ee=q.sortIndex-Y.sortIndex;return ee!==0?ee:q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var u=[],g=[],f=1,h=null,v=3,w=!1,y=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var Y=r(g);Y!==null;){if(Y.callback===null)o(g);else if(Y.startTime<=q)o(g),Y.sortIndex=Y.expirationTime,a(u,Y);else break;Y=r(g)}}function E(q){if(j=!1,_(q),!y)if(r(u)!==null)y=!0,$(k);else{var Y=r(g);Y!==null&&H(E,Y.startTime-q)}}function k(q,Y){y=!1,j&&(j=!1,P(R),R=-1),w=!0;var ee=v;try{for(_(Y),h=r(u);h!==null&&(!(h.expirationTime>Y)||q&&!U());){var M=h.callback;if(typeof M=="function"){h.callback=null,v=h.priorityLevel;var B=M(h.expirationTime<=Y);Y=t.unstable_now(),typeof B=="function"?h.callback=B:h===r(u)&&o(u),_(Y)}else o(u);h=r(u)}if(h!==null)var re=!0;else{var F=r(g);F!==null&&H(E,F.startTime-Y),re=!1}return re}finally{h=null,v=ee,w=!1}}var A=!1,T=null,R=-1,I=5,L=-1;function U(){return!(t.unstable_now()-L<I)}function K(){if(T!==null){var q=t.unstable_now();L=q;var Y=!0;try{Y=T(!0,q)}finally{Y?z():(A=!1,T=null)}}else A=!1}var z;if(typeof C=="function")z=function(){C(K)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=K,z=function(){G.postMessage(null)}}else z=function(){N(K,0)};function $(q){T=q,A||(A=!0,z())}function H(q,Y){R=N(function(){q(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){y||w||(y=!0,$(k))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ee=v;v=Y;try{return q()}finally{v=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=v;v=q;try{return Y()}finally{v=ee}},t.unstable_scheduleCallback=function(q,Y,ee){var M=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?M+ee:M):ee=M,q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ee+B,q={id:f++,callback:Y,priorityLevel:q,startTime:ee,expirationTime:B,sortIndex:-1},ee>M?(q.sortIndex=ee,a(g,q),r(u)===null&&q===r(g)&&(j?(P(R),R=-1):j=!0,H(E,ee-M))):(q.sortIndex=B,a(u,q),y||w||(y=!0,$(k))),q},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(q){var Y=v;return function(){var ee=v;v=Y;try{return q.apply(this,arguments)}finally{v=ee}}}})(Ou)),Ou}var vx;function TN(){return vx||(vx=1,Du.exports=AN()),Du.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx;function MN(){if(jx)return zs;jx=1;var t=hc(),a=TN();function r(s){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function c(s,n){d(s,n),d(s+"Capture",n)}function d(s,n){for(i[s]=n,s=0;s<n.length;s++)o.add(n[s])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function v(s){return u.call(h,s)?!0:u.call(f,s)?!1:g.test(s)?h[s]=!0:(f[s]=!0,!1)}function w(s,n,l,m){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return m?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function y(s,n,l,m){if(n===null||typeof n>"u"||w(s,n,l,m))return!0;if(m)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(s,n,l,m,b,S,O){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=l,this.propertyName=s,this.type=n,this.sanitizeURL=S,this.removeEmptyString=O}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var n=s[0];N[n]=new j(n,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var n=s.replace(P,C);N[n]=new j(n,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var n=s.replace(P,C);N[n]=new j(n,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var n=s.replace(P,C);N[n]=new j(n,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function _(s,n,l,m){var b=N.hasOwnProperty(n)?N[n]:null;(b!==null?b.type!==0:m||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(y(n,l,b,m)&&(l=null),m||b===null?v(n)&&(l===null?s.removeAttribute(n):s.setAttribute(n,""+l)):b.mustUseProperty?s[b.propertyName]=l===null?b.type===3?!1:"":l:(n=b.attributeName,m=b.attributeNamespace,l===null?s.removeAttribute(n):(b=b.type,l=b===3||b===4&&l===!0?"":""+l,m?s.setAttributeNS(m,n,l):s.setAttribute(n,l))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),q=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var ee=Object.assign,M;function B(s){if(M===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||""}return`
`+M+s}var re=!1;function F(s,n){if(!s||re)return"";re=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(ce){var m=ce}Reflect.construct(s,[],n)}else{try{n.call()}catch(ce){m=ce}s.call(n.prototype)}else{try{throw Error()}catch(ce){m=ce}s()}}catch(ce){if(ce&&m&&typeof ce.stack=="string"){for(var b=ce.stack.split(`
`),S=m.stack.split(`
`),O=b.length-1,W=S.length-1;1<=O&&0<=W&&b[O]!==S[W];)W--;for(;1<=O&&0<=W;O--,W--)if(b[O]!==S[W]){if(O!==1||W!==1)do if(O--,W--,0>W||b[O]!==S[W]){var J=`
`+b[O].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=O&&0<=W);break}}}finally{re=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?B(s):""}function V(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=F(s.type,!1),s;case 11:return s=F(s.type.render,!1),s;case 1:return s=F(s.type,!0),s;default:return""}}function Q(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case A:return"Portal";case I:return"Profiler";case R:return"StrictMode";case z:return"Suspense";case D:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case K:var n=s.render;return s=s.displayName,s||(s=n.displayName||n.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return n=s.displayName||null,n!==null?n:Q(s.type)||"Memo";case $:n=s._payload,s=s._init;try{return Q(s(n))}catch{}}return null}function se(s){var n=s.type;switch(s.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=n.render,s=s.displayName||s.name||"",n.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(n);case 8:return n===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ne(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ve(s){var n=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ge(s){var n=ve(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,n),m=""+s[n];if(!s.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var b=l.get,S=l.set;return Object.defineProperty(s,n,{configurable:!0,get:function(){return b.call(this)},set:function(O){m=""+O,S.call(this,O)}}),Object.defineProperty(s,n,{enumerable:l.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){s._valueTracker=null,delete s[n]}}}}function Pe(s){s._valueTracker||(s._valueTracker=ge(s))}function Me(s){if(!s)return!1;var n=s._valueTracker;if(!n)return!0;var l=n.getValue(),m="";return s&&(m=ve(s)?s.checked?"true":"false":s.value),s=m,s!==l?(n.setValue(s),!0):!1}function Ve(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function lt(s,n){var l=n.checked;return ee({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function yt(s,n){var l=n.defaultValue==null?"":n.defaultValue,m=n.checked!=null?n.checked:n.defaultChecked;l=ne(n.value!=null?n.value:l),s._wrapperState={initialChecked:m,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Tt(s,n){n=n.checked,n!=null&&_(s,"checked",n,!1)}function It(s,n){Tt(s,n);var l=ne(n.value),m=n.type;if(l!=null)m==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}n.hasOwnProperty("value")?Et(s,n.type,l):n.hasOwnProperty("defaultValue")&&Et(s,n.type,ne(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(s.defaultChecked=!!n.defaultChecked)}function ms(s,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var m=n.type;if(!(m!=="submit"&&m!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+s._wrapperState.initialValue,l||n===s.value||(s.value=n),s.defaultValue=n}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Et(s,n,l){(n!=="number"||Ve(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Ht=Array.isArray;function he(s,n,l,m){if(s=s.options,n){n={};for(var b=0;b<l.length;b++)n["$"+l[b]]=!0;for(l=0;l<s.length;l++)b=n.hasOwnProperty("$"+s[l].value),s[l].selected!==b&&(s[l].selected=b),b&&m&&(s[l].defaultSelected=!0)}else{for(l=""+ne(l),n=null,b=0;b<s.length;b++){if(s[b].value===l){s[b].selected=!0,m&&(s[b].defaultSelected=!0);return}n!==null||s[b].disabled||(n=s[b])}n!==null&&(n.selected=!0)}}function Ie(s,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},n,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function He(s,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(r(92));if(Ht(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),l=n}s._wrapperState={initialValue:ne(l)}}function Ee(s,n){var l=ne(n.value),m=ne(n.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),n.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),m!=null&&(s.defaultValue=""+m)}function Ze(s){var n=s.textContent;n===s._wrapperState.initialValue&&n!==""&&n!==null&&(s.value=n)}function Je(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(s,n){return s==null||s==="http://www.w3.org/1999/xhtml"?Je(n):s==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ct,gt=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,m,b){MSApp.execUnsafeLocalFunction(function(){return s(n,l,m,b)})}:s})(function(s,n){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=n;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ct.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;n.firstChild;)s.appendChild(n.firstChild)}});function Mt(s,n){if(n){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=n;return}}s.textContent=n}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},js=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(s){js.forEach(function(n){n=n+s.charAt(0).toUpperCase()+s.substring(1),xs[n]=xs[s]})});function ys(s,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||xs.hasOwnProperty(s)&&xs[s]?(""+n).trim():n+"px"}function Zs(s,n){s=s.style;for(var l in n)if(n.hasOwnProperty(l)){var m=l.indexOf("--")===0,b=ys(l,n[l],m);l==="float"&&(l="cssFloat"),m?s.setProperty(l,b):s[l]=b}}var bs=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(s,n){if(n){if(bs[s]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Ne(s,n){if(s.indexOf("-")===-1)return typeof n.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Re=null;function ut(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Oe=null,qe=null,Dt=null;function da(s){if(s=To(s)){if(typeof Oe!="function")throw Error(r(280));var n=s.stateNode;n&&(n=Gi(n),Oe(s.stateNode,s.type,n))}}function Ca(s){qe?Dt?Dt.push(s):Dt=[s]:qe=s}function or(){if(qe){var s=qe,n=Dt;if(Dt=qe=null,da(s),n)for(s=0;s<n.length;s++)da(n[s])}}function ir(s,n){return s(n)}function _e(){}var Z=!1;function $t(s,n,l){if(Z)return s(n,l);Z=!0;try{return ir(s,n,l)}finally{Z=!1,(qe!==null||Dt!==null)&&(_e(),or())}}function Ae(s,n){var l=s.stateNode;if(l===null)return null;var m=Gi(l);if(m===null)return null;l=m[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,n,typeof l));return l}var Qt=!1;if(p)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Qt=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Qt=!1}function Pt(s,n,l,m,b,S,O,W,J){var ce=Array.prototype.slice.call(arguments,3);try{n.apply(l,ce)}catch(ye){this.onError(ye)}}var dt=!1,rs=null,Xt=!1,lr=null,Jc={onError:function(s){dt=!0,rs=s}};function Ds(s,n,l,m,b,S,O,W,J){dt=!1,rs=null,Pt.apply(Jc,arguments)}function $b(s,n,l,m,b,S,O,W,J){if(Ds.apply(this,arguments),dt){if(dt){var ce=rs;dt=!1,rs=null}else throw Error(r(198));Xt||(Xt=!0,lr=ce)}}function Hr(s){var n=s,l=s;if(s.alternate)for(;n.return;)n=n.return;else{s=n;do n=s,(n.flags&4098)!==0&&(l=n.return),s=n.return;while(s)}return n.tag===3?l:null}function $f(s){if(s.tag===13){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function Lf(s){if(Hr(s)!==s)throw Error(r(188))}function Lb(s){var n=s.alternate;if(!n){if(n=Hr(s),n===null)throw Error(r(188));return n!==s?null:s}for(var l=s,m=n;;){var b=l.return;if(b===null)break;var S=b.alternate;if(S===null){if(m=b.return,m!==null){l=m;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===l)return Lf(b),s;if(S===m)return Lf(b),n;S=S.sibling}throw Error(r(188))}if(l.return!==m.return)l=b,m=S;else{for(var O=!1,W=b.child;W;){if(W===l){O=!0,l=b,m=S;break}if(W===m){O=!0,m=b,l=S;break}W=W.sibling}if(!O){for(W=S.child;W;){if(W===l){O=!0,l=S,m=b;break}if(W===m){O=!0,m=S,l=b;break}W=W.sibling}if(!O)throw Error(r(189))}}if(l.alternate!==m)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:n}function If(s){return s=Lb(s),s!==null?Ff(s):null}function Ff(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var n=Ff(s);if(n!==null)return n;s=s.sibling}return null}var zf=a.unstable_scheduleCallback,Bf=a.unstable_cancelCallback,Ib=a.unstable_shouldYield,Fb=a.unstable_requestPaint,Zt=a.unstable_now,zb=a.unstable_getCurrentPriorityLevel,Qc=a.unstable_ImmediatePriority,Uf=a.unstable_UserBlockingPriority,ki=a.unstable_NormalPriority,Bb=a.unstable_LowPriority,Vf=a.unstable_IdlePriority,Ei=null,_a=null;function Ub(s){if(_a&&typeof _a.onCommitFiberRoot=="function")try{_a.onCommitFiberRoot(Ei,s,void 0,(s.current.flags&128)===128)}catch{}}var ua=Math.clz32?Math.clz32:qb,Vb=Math.log,Hb=Math.LN2;function qb(s){return s>>>=0,s===0?32:31-(Vb(s)/Hb|0)|0}var Ri=64,Pi=4194304;function ho(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ai(s,n){var l=s.pendingLanes;if(l===0)return 0;var m=0,b=s.suspendedLanes,S=s.pingedLanes,O=l&268435455;if(O!==0){var W=O&~b;W!==0?m=ho(W):(S&=O,S!==0&&(m=ho(S)))}else O=l&~b,O!==0?m=ho(O):S!==0&&(m=ho(S));if(m===0)return 0;if(n!==0&&n!==m&&(n&b)===0&&(b=m&-m,S=n&-n,b>=S||b===16&&(S&4194240)!==0))return n;if((m&4)!==0&&(m|=l&16),n=s.entangledLanes,n!==0)for(s=s.entanglements,n&=m;0<n;)l=31-ua(n),b=1<<l,m|=s[l],n&=~b;return m}function Wb(s,n){switch(s){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gb(s,n){for(var l=s.suspendedLanes,m=s.pingedLanes,b=s.expirationTimes,S=s.pendingLanes;0<S;){var O=31-ua(S),W=1<<O,J=b[O];J===-1?((W&l)===0||(W&m)!==0)&&(b[O]=Wb(W,n)):J<=n&&(s.expiredLanes|=W),S&=~W}}function Xc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Hf(){var s=Ri;return Ri<<=1,(Ri&4194240)===0&&(Ri=64),s}function Zc(s){for(var n=[],l=0;31>l;l++)n.push(s);return n}function po(s,n,l){s.pendingLanes|=n,n!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,n=31-ua(n),s[n]=l}function Kb(s,n){var l=s.pendingLanes&~n;s.pendingLanes=n,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=n,s.mutableReadLanes&=n,s.entangledLanes&=n,n=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<l;){var b=31-ua(l),S=1<<b;n[b]=0,m[b]=-1,s[b]=-1,l&=~S}}function ed(s,n){var l=s.entangledLanes|=n;for(s=s.entanglements;l;){var m=31-ua(l),b=1<<m;b&n|s[m]&n&&(s[m]|=n),l&=~b}}var At=0;function qf(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Wf,td,Gf,Kf,Yf,sd=!1,Ti=[],cr=null,dr=null,ur=null,xo=new Map,go=new Map,mr=[],Yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jf(s,n){switch(s){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":xo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(n.pointerId)}}function vo(s,n,l,m,b,S){return s===null||s.nativeEvent!==S?(s={blockedOn:n,domEventName:l,eventSystemFlags:m,nativeEvent:S,targetContainers:[b]},n!==null&&(n=To(n),n!==null&&td(n)),s):(s.eventSystemFlags|=m,n=s.targetContainers,b!==null&&n.indexOf(b)===-1&&n.push(b),s)}function Jb(s,n,l,m,b){switch(n){case"focusin":return cr=vo(cr,s,n,l,m,b),!0;case"dragenter":return dr=vo(dr,s,n,l,m,b),!0;case"mouseover":return ur=vo(ur,s,n,l,m,b),!0;case"pointerover":var S=b.pointerId;return xo.set(S,vo(xo.get(S)||null,s,n,l,m,b)),!0;case"gotpointercapture":return S=b.pointerId,go.set(S,vo(go.get(S)||null,s,n,l,m,b)),!0}return!1}function Qf(s){var n=qr(s.target);if(n!==null){var l=Hr(n);if(l!==null){if(n=l.tag,n===13){if(n=$f(l),n!==null){s.blockedOn=n,Yf(s.priority,function(){Gf(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Mi(s){if(s.blockedOn!==null)return!1;for(var n=s.targetContainers;0<n.length;){var l=rd(s.domEventName,s.eventSystemFlags,n[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var m=new l.constructor(l.type,l);Re=m,l.target.dispatchEvent(m),Re=null}else return n=To(l),n!==null&&td(n),s.blockedOn=l,!1;n.shift()}return!0}function Xf(s,n,l){Mi(s)&&l.delete(n)}function Qb(){sd=!1,cr!==null&&Mi(cr)&&(cr=null),dr!==null&&Mi(dr)&&(dr=null),ur!==null&&Mi(ur)&&(ur=null),xo.forEach(Xf),go.forEach(Xf)}function jo(s,n){s.blockedOn===n&&(s.blockedOn=null,sd||(sd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Qb)))}function yo(s){function n(b){return jo(b,s)}if(0<Ti.length){jo(Ti[0],s);for(var l=1;l<Ti.length;l++){var m=Ti[l];m.blockedOn===s&&(m.blockedOn=null)}}for(cr!==null&&jo(cr,s),dr!==null&&jo(dr,s),ur!==null&&jo(ur,s),xo.forEach(n),go.forEach(n),l=0;l<mr.length;l++)m=mr[l],m.blockedOn===s&&(m.blockedOn=null);for(;0<mr.length&&(l=mr[0],l.blockedOn===null);)Qf(l),l.blockedOn===null&&mr.shift()}var vn=E.ReactCurrentBatchConfig,Di=!0;function Xb(s,n,l,m){var b=At,S=vn.transition;vn.transition=null;try{At=1,ad(s,n,l,m)}finally{At=b,vn.transition=S}}function Zb(s,n,l,m){var b=At,S=vn.transition;vn.transition=null;try{At=4,ad(s,n,l,m)}finally{At=b,vn.transition=S}}function ad(s,n,l,m){if(Di){var b=rd(s,n,l,m);if(b===null)bd(s,n,m,Oi,l),Jf(s,m);else if(Jb(b,s,n,l,m))m.stopPropagation();else if(Jf(s,m),n&4&&-1<Yb.indexOf(s)){for(;b!==null;){var S=To(b);if(S!==null&&Wf(S),S=rd(s,n,l,m),S===null&&bd(s,n,m,Oi,l),S===b)break;b=S}b!==null&&m.stopPropagation()}else bd(s,n,m,null,l)}}var Oi=null;function rd(s,n,l,m){if(Oi=null,s=ut(m),s=qr(s),s!==null)if(n=Hr(s),n===null)s=null;else if(l=n.tag,l===13){if(s=$f(n),s!==null)return s;s=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;s=null}else n!==s&&(s=null);return Oi=s,null}function Zf(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zb()){case Qc:return 1;case Uf:return 4;case ki:case Bb:return 16;case Vf:return 536870912;default:return 16}default:return 16}}var fr=null,nd=null,$i=null;function eh(){if($i)return $i;var s,n=nd,l=n.length,m,b="value"in fr?fr.value:fr.textContent,S=b.length;for(s=0;s<l&&n[s]===b[s];s++);var O=l-s;for(m=1;m<=O&&n[l-m]===b[S-m];m++);return $i=b.slice(s,1<m?1-m:void 0)}function Li(s){var n=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&n===13&&(s=13)):s=n,s===10&&(s=13),32<=s||s===13?s:0}function Ii(){return!0}function th(){return!1}function qs(s){function n(l,m,b,S,O){this._reactName=l,this._targetInst=b,this.type=m,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(l=s[W],this[W]=l?l(S):S[W]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ii:th,this.isPropagationStopped=th,this}return ee(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},od=qs(jn),bo=ee({},jn,{view:0,detail:0}),ew=qs(bo),id,ld,wo,Fi=ee({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wo&&(wo&&s.type==="mousemove"?(id=s.screenX-wo.screenX,ld=s.screenY-wo.screenY):ld=id=0,wo=s),id)},movementY:function(s){return"movementY"in s?s.movementY:ld}}),sh=qs(Fi),tw=ee({},Fi,{dataTransfer:0}),sw=qs(tw),aw=ee({},bo,{relatedTarget:0}),cd=qs(aw),rw=ee({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),nw=qs(rw),ow=ee({},jn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),iw=qs(ow),lw=ee({},jn,{data:0}),ah=qs(lw),cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mw(s){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(s):(s=uw[s])?!!n[s]:!1}function dd(){return mw}var fw=ee({},bo,{key:function(s){if(s.key){var n=cw[s.key]||s.key;if(n!=="Unidentified")return n}return s.type==="keypress"?(s=Li(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dw[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dd,charCode:function(s){return s.type==="keypress"?Li(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Li(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),hw=qs(fw),pw=ee({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=qs(pw),xw=ee({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dd}),gw=qs(xw),vw=ee({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),jw=qs(vw),yw=ee({},Fi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),bw=qs(yw),ww=[9,13,27,32],ud=p&&"CompositionEvent"in window,No=null;p&&"documentMode"in document&&(No=document.documentMode);var Nw=p&&"TextEvent"in window&&!No,nh=p&&(!ud||No&&8<No&&11>=No),oh=" ",ih=!1;function lh(s,n){switch(s){case"keyup":return ww.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ch(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var yn=!1;function Sw(s,n){switch(s){case"compositionend":return ch(n);case"keypress":return n.which!==32?null:(ih=!0,oh);case"textInput":return s=n.data,s===oh&&ih?null:s;default:return null}}function Cw(s,n){if(yn)return s==="compositionend"||!ud&&lh(s,n)?(s=eh(),$i=nd=fr=null,yn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return nh&&n.locale!=="ko"?null:n.data;default:return null}}var _w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n==="input"?!!_w[s.type]:n==="textarea"}function uh(s,n,l,m){Ca(m),n=Hi(n,"onChange"),0<n.length&&(l=new od("onChange","change",null,l,m),s.push({event:l,listeners:n}))}var So=null,Co=null;function kw(s){Rh(s,0)}function zi(s){var n=Cn(s);if(Me(n))return s}function Ew(s,n){if(s==="change")return n}var mh=!1;if(p){var md;if(p){var fd="oninput"in document;if(!fd){var fh=document.createElement("div");fh.setAttribute("oninput","return;"),fd=typeof fh.oninput=="function"}md=fd}else md=!1;mh=md&&(!document.documentMode||9<document.documentMode)}function hh(){So&&(So.detachEvent("onpropertychange",ph),Co=So=null)}function ph(s){if(s.propertyName==="value"&&zi(Co)){var n=[];uh(n,Co,s,ut(s)),$t(kw,n)}}function Rw(s,n,l){s==="focusin"?(hh(),So=n,Co=l,So.attachEvent("onpropertychange",ph)):s==="focusout"&&hh()}function Pw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zi(Co)}function Aw(s,n){if(s==="click")return zi(n)}function Tw(s,n){if(s==="input"||s==="change")return zi(n)}function Mw(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}var ma=typeof Object.is=="function"?Object.is:Mw;function _o(s,n){if(ma(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null)return!1;var l=Object.keys(s),m=Object.keys(n);if(l.length!==m.length)return!1;for(m=0;m<l.length;m++){var b=l[m];if(!u.call(n,b)||!ma(s[b],n[b]))return!1}return!0}function xh(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function gh(s,n){var l=xh(s);s=0;for(var m;l;){if(l.nodeType===3){if(m=s+l.textContent.length,s<=n&&m>=n)return{node:l,offset:n-s};s=m}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xh(l)}}function vh(s,n){return s&&n?s===n?!0:s&&s.nodeType===3?!1:n&&n.nodeType===3?vh(s,n.parentNode):"contains"in s?s.contains(n):s.compareDocumentPosition?!!(s.compareDocumentPosition(n)&16):!1:!1}function jh(){for(var s=window,n=Ve();n instanceof s.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)s=n.contentWindow;else break;n=Ve(s.document)}return n}function hd(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n&&(n==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||n==="textarea"||s.contentEditable==="true")}function Dw(s){var n=jh(),l=s.focusedElem,m=s.selectionRange;if(n!==l&&l&&l.ownerDocument&&vh(l.ownerDocument.documentElement,l)){if(m!==null&&hd(l)){if(n=m.start,s=m.end,s===void 0&&(s=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(s,l.value.length);else if(s=(n=l.ownerDocument||document)&&n.defaultView||window,s.getSelection){s=s.getSelection();var b=l.textContent.length,S=Math.min(m.start,b);m=m.end===void 0?S:Math.min(m.end,b),!s.extend&&S>m&&(b=m,m=S,S=b),b=gh(l,S);var O=gh(l,m);b&&O&&(s.rangeCount!==1||s.anchorNode!==b.node||s.anchorOffset!==b.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(n=n.createRange(),n.setStart(b.node,b.offset),s.removeAllRanges(),S>m?(s.addRange(n),s.extend(O.node,O.offset)):(n.setEnd(O.node,O.offset),s.addRange(n)))}}for(n=[],s=l;s=s.parentNode;)s.nodeType===1&&n.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)s=n[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Ow=p&&"documentMode"in document&&11>=document.documentMode,bn=null,pd=null,ko=null,xd=!1;function yh(s,n,l){var m=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;xd||bn==null||bn!==Ve(m)||(m=bn,"selectionStart"in m&&hd(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ko&&_o(ko,m)||(ko=m,m=Hi(pd,"onSelect"),0<m.length&&(n=new od("onSelect","select",null,n,l),s.push({event:n,listeners:m}),n.target=bn)))}function Bi(s,n){var l={};return l[s.toLowerCase()]=n.toLowerCase(),l["Webkit"+s]="webkit"+n,l["Moz"+s]="moz"+n,l}var wn={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionend:Bi("Transition","TransitionEnd")},gd={},bh={};p&&(bh=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function Ui(s){if(gd[s])return gd[s];if(!wn[s])return s;var n=wn[s],l;for(l in n)if(n.hasOwnProperty(l)&&l in bh)return gd[s]=n[l];return s}var wh=Ui("animationend"),Nh=Ui("animationiteration"),Sh=Ui("animationstart"),Ch=Ui("transitionend"),_h=new Map,kh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hr(s,n){_h.set(s,n),c(n,[s])}for(var vd=0;vd<kh.length;vd++){var jd=kh[vd],$w=jd.toLowerCase(),Lw=jd[0].toUpperCase()+jd.slice(1);hr($w,"on"+Lw)}hr(wh,"onAnimationEnd"),hr(Nh,"onAnimationIteration"),hr(Sh,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(Ch,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function Eh(s,n,l){var m=s.type||"unknown-event";s.currentTarget=l,$b(m,n,void 0,s),s.currentTarget=null}function Rh(s,n){n=(n&4)!==0;for(var l=0;l<s.length;l++){var m=s[l],b=m.event;m=m.listeners;e:{var S=void 0;if(n)for(var O=m.length-1;0<=O;O--){var W=m[O],J=W.instance,ce=W.currentTarget;if(W=W.listener,J!==S&&b.isPropagationStopped())break e;Eh(b,W,ce),S=J}else for(O=0;O<m.length;O++){if(W=m[O],J=W.instance,ce=W.currentTarget,W=W.listener,J!==S&&b.isPropagationStopped())break e;Eh(b,W,ce),S=J}}}if(Xt)throw s=lr,Xt=!1,lr=null,s}function Bt(s,n){var l=n[kd];l===void 0&&(l=n[kd]=new Set);var m=s+"__bubble";l.has(m)||(Ph(n,s,2,!1),l.add(m))}function yd(s,n,l){var m=0;n&&(m|=4),Ph(l,s,m,n)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Ro(s){if(!s[Vi]){s[Vi]=!0,o.forEach(function(l){l!=="selectionchange"&&(Iw.has(l)||yd(l,!1,s),yd(l,!0,s))});var n=s.nodeType===9?s:s.ownerDocument;n===null||n[Vi]||(n[Vi]=!0,yd("selectionchange",!1,n))}}function Ph(s,n,l,m){switch(Zf(n)){case 1:var b=Xb;break;case 4:b=Zb;break;default:b=ad}l=b.bind(null,n,l,s),b=void 0,!Qt||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(b=!0),m?b!==void 0?s.addEventListener(n,l,{capture:!0,passive:b}):s.addEventListener(n,l,!0):b!==void 0?s.addEventListener(n,l,{passive:b}):s.addEventListener(n,l,!1)}function bd(s,n,l,m,b){var S=m;if((n&1)===0&&(n&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var W=m.stateNode.containerInfo;if(W===b||W.nodeType===8&&W.parentNode===b)break;if(O===4)for(O=m.return;O!==null;){var J=O.tag;if((J===3||J===4)&&(J=O.stateNode.containerInfo,J===b||J.nodeType===8&&J.parentNode===b))return;O=O.return}for(;W!==null;){if(O=qr(W),O===null)return;if(J=O.tag,J===5||J===6){m=S=O;continue e}W=W.parentNode}}m=m.return}$t(function(){var ce=S,ye=ut(l),we=[];e:{var je=_h.get(s);if(je!==void 0){var $e=od,Fe=s;switch(s){case"keypress":if(Li(l)===0)break e;case"keydown":case"keyup":$e=hw;break;case"focusin":Fe="focus",$e=cd;break;case"focusout":Fe="blur",$e=cd;break;case"beforeblur":case"afterblur":$e=cd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=sw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=gw;break;case wh:case Nh:case Sh:$e=nw;break;case Ch:$e=jw;break;case"scroll":$e=ew;break;case"wheel":$e=bw;break;case"copy":case"cut":case"paste":$e=iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=rh}var ze=(n&4)!==0,es=!ze&&s==="scroll",ae=ze?je!==null?je+"Capture":null:je;ze=[];for(var X=ce,oe;X!==null;){oe=X;var Ce=oe.stateNode;if(oe.tag===5&&Ce!==null&&(oe=Ce,ae!==null&&(Ce=Ae(X,ae),Ce!=null&&ze.push(Po(X,Ce,oe)))),es)break;X=X.return}0<ze.length&&(je=new $e(je,Fe,null,l,ye),we.push({event:je,listeners:ze}))}}if((n&7)===0){e:{if(je=s==="mouseover"||s==="pointerover",$e=s==="mouseout"||s==="pointerout",je&&l!==Re&&(Fe=l.relatedTarget||l.fromElement)&&(qr(Fe)||Fe[Ka]))break e;if(($e||je)&&(je=ye.window===ye?ye:(je=ye.ownerDocument)?je.defaultView||je.parentWindow:window,$e?(Fe=l.relatedTarget||l.toElement,$e=ce,Fe=Fe?qr(Fe):null,Fe!==null&&(es=Hr(Fe),Fe!==es||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):($e=null,Fe=ce),$e!==Fe)){if(ze=sh,Ce="onMouseLeave",ae="onMouseEnter",X="mouse",(s==="pointerout"||s==="pointerover")&&(ze=rh,Ce="onPointerLeave",ae="onPointerEnter",X="pointer"),es=$e==null?je:Cn($e),oe=Fe==null?je:Cn(Fe),je=new ze(Ce,X+"leave",$e,l,ye),je.target=es,je.relatedTarget=oe,Ce=null,qr(ye)===ce&&(ze=new ze(ae,X+"enter",Fe,l,ye),ze.target=oe,ze.relatedTarget=es,Ce=ze),es=Ce,$e&&Fe)t:{for(ze=$e,ae=Fe,X=0,oe=ze;oe;oe=Nn(oe))X++;for(oe=0,Ce=ae;Ce;Ce=Nn(Ce))oe++;for(;0<X-oe;)ze=Nn(ze),X--;for(;0<oe-X;)ae=Nn(ae),oe--;for(;X--;){if(ze===ae||ae!==null&&ze===ae.alternate)break t;ze=Nn(ze),ae=Nn(ae)}ze=null}else ze=null;$e!==null&&Ah(we,je,$e,ze,!1),Fe!==null&&es!==null&&Ah(we,es,Fe,ze,!0)}}e:{if(je=ce?Cn(ce):window,$e=je.nodeName&&je.nodeName.toLowerCase(),$e==="select"||$e==="input"&&je.type==="file")var Be=Ew;else if(dh(je))if(mh)Be=Tw;else{Be=Pw;var We=Rw}else($e=je.nodeName)&&$e.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(Be=Aw);if(Be&&(Be=Be(s,ce))){uh(we,Be,l,ye);break e}We&&We(s,je,ce),s==="focusout"&&(We=je._wrapperState)&&We.controlled&&je.type==="number"&&Et(je,"number",je.value)}switch(We=ce?Cn(ce):window,s){case"focusin":(dh(We)||We.contentEditable==="true")&&(bn=We,pd=ce,ko=null);break;case"focusout":ko=pd=bn=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,yh(we,l,ye);break;case"selectionchange":if(Ow)break;case"keydown":case"keyup":yh(we,l,ye)}var Ge;if(ud)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else yn?lh(s,l)&&(Xe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Xe="onCompositionStart");Xe&&(nh&&l.locale!=="ko"&&(yn||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&yn&&(Ge=eh()):(fr=ye,nd="value"in fr?fr.value:fr.textContent,yn=!0)),We=Hi(ce,Xe),0<We.length&&(Xe=new ah(Xe,s,null,l,ye),we.push({event:Xe,listeners:We}),Ge?Xe.data=Ge:(Ge=ch(l),Ge!==null&&(Xe.data=Ge)))),(Ge=Nw?Sw(s,l):Cw(s,l))&&(ce=Hi(ce,"onBeforeInput"),0<ce.length&&(ye=new ah("onBeforeInput","beforeinput",null,l,ye),we.push({event:ye,listeners:ce}),ye.data=Ge))}Rh(we,n)})}function Po(s,n,l){return{instance:s,listener:n,currentTarget:l}}function Hi(s,n){for(var l=n+"Capture",m=[];s!==null;){var b=s,S=b.stateNode;b.tag===5&&S!==null&&(b=S,S=Ae(s,l),S!=null&&m.unshift(Po(s,S,b)),S=Ae(s,n),S!=null&&m.push(Po(s,S,b))),s=s.return}return m}function Nn(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ah(s,n,l,m,b){for(var S=n._reactName,O=[];l!==null&&l!==m;){var W=l,J=W.alternate,ce=W.stateNode;if(J!==null&&J===m)break;W.tag===5&&ce!==null&&(W=ce,b?(J=Ae(l,S),J!=null&&O.unshift(Po(l,J,W))):b||(J=Ae(l,S),J!=null&&O.push(Po(l,J,W)))),l=l.return}O.length!==0&&s.push({event:n,listeners:O})}var Fw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function Th(s){return(typeof s=="string"?s:""+s).replace(Fw,`
`).replace(zw,"")}function qi(s,n,l){if(n=Th(n),Th(s)!==n&&l)throw Error(r(425))}function Wi(){}var wd=null,Nd=null;function Sd(s,n){return s==="textarea"||s==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,Mh=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof Mh<"u"?function(s){return Mh.resolve(null).then(s).catch(Vw)}:Cd;function Vw(s){setTimeout(function(){throw s})}function _d(s,n){var l=n,m=0;do{var b=l.nextSibling;if(s.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(m===0){s.removeChild(b),yo(n);return}m--}else l!=="$"&&l!=="$?"&&l!=="$!"||m++;l=b}while(l);yo(n)}function pr(s){for(;s!=null;s=s.nextSibling){var n=s.nodeType;if(n===1||n===3)break;if(n===8){if(n=s.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return s}function Dh(s){s=s.previousSibling;for(var n=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return s;n--}else l==="/$"&&n++}s=s.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),ka="__reactFiber$"+Sn,Ao="__reactProps$"+Sn,Ka="__reactContainer$"+Sn,kd="__reactEvents$"+Sn,Hw="__reactListeners$"+Sn,qw="__reactHandles$"+Sn;function qr(s){var n=s[ka];if(n)return n;for(var l=s.parentNode;l;){if(n=l[Ka]||l[ka]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(s=Dh(s);s!==null;){if(l=s[ka])return l;s=Dh(s)}return n}s=l,l=s.parentNode}return null}function To(s){return s=s[ka]||s[Ka],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Cn(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Gi(s){return s[Ao]||null}var Ed=[],_n=-1;function xr(s){return{current:s}}function Ut(s){0>_n||(s.current=Ed[_n],Ed[_n]=null,_n--)}function Ft(s,n){_n++,Ed[_n]=s.current,s.current=n}var gr={},ws=xr(gr),Os=xr(!1),Wr=gr;function kn(s,n){var l=s.type.contextTypes;if(!l)return gr;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===n)return m.__reactInternalMemoizedMaskedChildContext;var b={},S;for(S in l)b[S]=n[S];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=n,s.__reactInternalMemoizedMaskedChildContext=b),b}function $s(s){return s=s.childContextTypes,s!=null}function Ki(){Ut(Os),Ut(ws)}function Oh(s,n,l){if(ws.current!==gr)throw Error(r(168));Ft(ws,n),Ft(Os,l)}function $h(s,n,l){var m=s.stateNode;if(n=n.childContextTypes,typeof m.getChildContext!="function")return l;m=m.getChildContext();for(var b in m)if(!(b in n))throw Error(r(108,se(s)||"Unknown",b));return ee({},l,m)}function Yi(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||gr,Wr=ws.current,Ft(ws,s),Ft(Os,Os.current),!0}function Lh(s,n,l){var m=s.stateNode;if(!m)throw Error(r(169));l?(s=$h(s,n,Wr),m.__reactInternalMemoizedMergedChildContext=s,Ut(Os),Ut(ws),Ft(ws,s)):Ut(Os),Ft(Os,l)}var Ya=null,Ji=!1,Rd=!1;function Ih(s){Ya===null?Ya=[s]:Ya.push(s)}function Ww(s){Ji=!0,Ih(s)}function vr(){if(!Rd&&Ya!==null){Rd=!0;var s=0,n=At;try{var l=Ya;for(At=1;s<l.length;s++){var m=l[s];do m=m(!0);while(m!==null)}Ya=null,Ji=!1}catch(b){throw Ya!==null&&(Ya=Ya.slice(s+1)),zf(Qc,vr),b}finally{At=n,Rd=!1}}return null}var En=[],Rn=0,Qi=null,Xi=0,ea=[],ta=0,Gr=null,Ja=1,Qa="";function Kr(s,n){En[Rn++]=Xi,En[Rn++]=Qi,Qi=s,Xi=n}function Fh(s,n,l){ea[ta++]=Ja,ea[ta++]=Qa,ea[ta++]=Gr,Gr=s;var m=Ja;s=Qa;var b=32-ua(m)-1;m&=~(1<<b),l+=1;var S=32-ua(n)+b;if(30<S){var O=b-b%5;S=(m&(1<<O)-1).toString(32),m>>=O,b-=O,Ja=1<<32-ua(n)+b|l<<b|m,Qa=S+s}else Ja=1<<S|l<<b|m,Qa=s}function Pd(s){s.return!==null&&(Kr(s,1),Fh(s,1,0))}function Ad(s){for(;s===Qi;)Qi=En[--Rn],En[Rn]=null,Xi=En[--Rn],En[Rn]=null;for(;s===Gr;)Gr=ea[--ta],ea[ta]=null,Qa=ea[--ta],ea[ta]=null,Ja=ea[--ta],ea[ta]=null}var Ws=null,Gs=null,qt=!1,fa=null;function zh(s,n){var l=na(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=s,n=s.deletions,n===null?(s.deletions=[l],s.flags|=16):n.push(l)}function Bh(s,n){switch(s.tag){case 5:var l=s.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(s.stateNode=n,Ws=s,Gs=pr(n.firstChild),!0):!1;case 6:return n=s.pendingProps===""||n.nodeType!==3?null:n,n!==null?(s.stateNode=n,Ws=s,Gs=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=Gr!==null?{id:Ja,overflow:Qa}:null,s.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=na(18,null,null,0),l.stateNode=n,l.return=s,s.child=l,Ws=s,Gs=null,!0):!1;default:return!1}}function Td(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Md(s){if(qt){var n=Gs;if(n){var l=n;if(!Bh(s,n)){if(Td(s))throw Error(r(418));n=pr(l.nextSibling);var m=Ws;n&&Bh(s,n)?zh(m,l):(s.flags=s.flags&-4097|2,qt=!1,Ws=s)}}else{if(Td(s))throw Error(r(418));s.flags=s.flags&-4097|2,qt=!1,Ws=s}}}function Uh(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ws=s}function Zi(s){if(s!==Ws)return!1;if(!qt)return Uh(s),qt=!0,!1;var n;if((n=s.tag!==3)&&!(n=s.tag!==5)&&(n=s.type,n=n!=="head"&&n!=="body"&&!Sd(s.type,s.memoizedProps)),n&&(n=Gs)){if(Td(s))throw Vh(),Error(r(418));for(;n;)zh(s,n),n=pr(n.nextSibling)}if(Uh(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,n=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(n===0){Gs=pr(s.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}s=s.nextSibling}Gs=null}}else Gs=Ws?pr(s.stateNode.nextSibling):null;return!0}function Vh(){for(var s=Gs;s;)s=pr(s.nextSibling)}function Pn(){Gs=Ws=null,qt=!1}function Dd(s){fa===null?fa=[s]:fa.push(s)}var Gw=E.ReactCurrentBatchConfig;function Mo(s,n,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var m=l.stateNode}if(!m)throw Error(r(147,s));var b=m,S=""+s;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===S?n.ref:(n=function(O){var W=b.refs;O===null?delete W[S]:W[S]=O},n._stringRef=S,n)}if(typeof s!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,s))}return s}function el(s,n){throw s=Object.prototype.toString.call(n),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s))}function Hh(s){var n=s._init;return n(s._payload)}function qh(s){function n(ae,X){if(s){var oe=ae.deletions;oe===null?(ae.deletions=[X],ae.flags|=16):oe.push(X)}}function l(ae,X){if(!s)return null;for(;X!==null;)n(ae,X),X=X.sibling;return null}function m(ae,X){for(ae=new Map;X!==null;)X.key!==null?ae.set(X.key,X):ae.set(X.index,X),X=X.sibling;return ae}function b(ae,X){return ae=_r(ae,X),ae.index=0,ae.sibling=null,ae}function S(ae,X,oe){return ae.index=oe,s?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<X?(ae.flags|=2,X):oe):(ae.flags|=2,X)):(ae.flags|=1048576,X)}function O(ae){return s&&ae.alternate===null&&(ae.flags|=2),ae}function W(ae,X,oe,Ce){return X===null||X.tag!==6?(X=Cu(oe,ae.mode,Ce),X.return=ae,X):(X=b(X,oe),X.return=ae,X)}function J(ae,X,oe,Ce){var Be=oe.type;return Be===T?ye(ae,X,oe.props.children,Ce,oe.key):X!==null&&(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===$&&Hh(Be)===X.type)?(Ce=b(X,oe.props),Ce.ref=Mo(ae,X,oe),Ce.return=ae,Ce):(Ce=Sl(oe.type,oe.key,oe.props,null,ae.mode,Ce),Ce.ref=Mo(ae,X,oe),Ce.return=ae,Ce)}function ce(ae,X,oe,Ce){return X===null||X.tag!==4||X.stateNode.containerInfo!==oe.containerInfo||X.stateNode.implementation!==oe.implementation?(X=_u(oe,ae.mode,Ce),X.return=ae,X):(X=b(X,oe.children||[]),X.return=ae,X)}function ye(ae,X,oe,Ce,Be){return X===null||X.tag!==7?(X=sn(oe,ae.mode,Ce,Be),X.return=ae,X):(X=b(X,oe),X.return=ae,X)}function we(ae,X,oe){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Cu(""+X,ae.mode,oe),X.return=ae,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return oe=Sl(X.type,X.key,X.props,null,ae.mode,oe),oe.ref=Mo(ae,null,X),oe.return=ae,oe;case A:return X=_u(X,ae.mode,oe),X.return=ae,X;case $:var Ce=X._init;return we(ae,Ce(X._payload),oe)}if(Ht(X)||Y(X))return X=sn(X,ae.mode,oe,null),X.return=ae,X;el(ae,X)}return null}function je(ae,X,oe,Ce){var Be=X!==null?X.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Be!==null?null:W(ae,X,""+oe,Ce);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case k:return oe.key===Be?J(ae,X,oe,Ce):null;case A:return oe.key===Be?ce(ae,X,oe,Ce):null;case $:return Be=oe._init,je(ae,X,Be(oe._payload),Ce)}if(Ht(oe)||Y(oe))return Be!==null?null:ye(ae,X,oe,Ce,null);el(ae,oe)}return null}function $e(ae,X,oe,Ce,Be){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ae=ae.get(oe)||null,W(X,ae,""+Ce,Be);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case k:return ae=ae.get(Ce.key===null?oe:Ce.key)||null,J(X,ae,Ce,Be);case A:return ae=ae.get(Ce.key===null?oe:Ce.key)||null,ce(X,ae,Ce,Be);case $:var We=Ce._init;return $e(ae,X,oe,We(Ce._payload),Be)}if(Ht(Ce)||Y(Ce))return ae=ae.get(oe)||null,ye(X,ae,Ce,Be,null);el(X,Ce)}return null}function Fe(ae,X,oe,Ce){for(var Be=null,We=null,Ge=X,Xe=X=0,ps=null;Ge!==null&&Xe<oe.length;Xe++){Ge.index>Xe?(ps=Ge,Ge=null):ps=Ge.sibling;var bt=je(ae,Ge,oe[Xe],Ce);if(bt===null){Ge===null&&(Ge=ps);break}s&&Ge&&bt.alternate===null&&n(ae,Ge),X=S(bt,X,Xe),We===null?Be=bt:We.sibling=bt,We=bt,Ge=ps}if(Xe===oe.length)return l(ae,Ge),qt&&Kr(ae,Xe),Be;if(Ge===null){for(;Xe<oe.length;Xe++)Ge=we(ae,oe[Xe],Ce),Ge!==null&&(X=S(Ge,X,Xe),We===null?Be=Ge:We.sibling=Ge,We=Ge);return qt&&Kr(ae,Xe),Be}for(Ge=m(ae,Ge);Xe<oe.length;Xe++)ps=$e(Ge,ae,Xe,oe[Xe],Ce),ps!==null&&(s&&ps.alternate!==null&&Ge.delete(ps.key===null?Xe:ps.key),X=S(ps,X,Xe),We===null?Be=ps:We.sibling=ps,We=ps);return s&&Ge.forEach(function(kr){return n(ae,kr)}),qt&&Kr(ae,Xe),Be}function ze(ae,X,oe,Ce){var Be=Y(oe);if(typeof Be!="function")throw Error(r(150));if(oe=Be.call(oe),oe==null)throw Error(r(151));for(var We=Be=null,Ge=X,Xe=X=0,ps=null,bt=oe.next();Ge!==null&&!bt.done;Xe++,bt=oe.next()){Ge.index>Xe?(ps=Ge,Ge=null):ps=Ge.sibling;var kr=je(ae,Ge,bt.value,Ce);if(kr===null){Ge===null&&(Ge=ps);break}s&&Ge&&kr.alternate===null&&n(ae,Ge),X=S(kr,X,Xe),We===null?Be=kr:We.sibling=kr,We=kr,Ge=ps}if(bt.done)return l(ae,Ge),qt&&Kr(ae,Xe),Be;if(Ge===null){for(;!bt.done;Xe++,bt=oe.next())bt=we(ae,bt.value,Ce),bt!==null&&(X=S(bt,X,Xe),We===null?Be=bt:We.sibling=bt,We=bt);return qt&&Kr(ae,Xe),Be}for(Ge=m(ae,Ge);!bt.done;Xe++,bt=oe.next())bt=$e(Ge,ae,Xe,bt.value,Ce),bt!==null&&(s&&bt.alternate!==null&&Ge.delete(bt.key===null?Xe:bt.key),X=S(bt,X,Xe),We===null?Be=bt:We.sibling=bt,We=bt);return s&&Ge.forEach(function(_N){return n(ae,_N)}),qt&&Kr(ae,Xe),Be}function es(ae,X,oe,Ce){if(typeof oe=="object"&&oe!==null&&oe.type===T&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case k:e:{for(var Be=oe.key,We=X;We!==null;){if(We.key===Be){if(Be=oe.type,Be===T){if(We.tag===7){l(ae,We.sibling),X=b(We,oe.props.children),X.return=ae,ae=X;break e}}else if(We.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===$&&Hh(Be)===We.type){l(ae,We.sibling),X=b(We,oe.props),X.ref=Mo(ae,We,oe),X.return=ae,ae=X;break e}l(ae,We);break}else n(ae,We);We=We.sibling}oe.type===T?(X=sn(oe.props.children,ae.mode,Ce,oe.key),X.return=ae,ae=X):(Ce=Sl(oe.type,oe.key,oe.props,null,ae.mode,Ce),Ce.ref=Mo(ae,X,oe),Ce.return=ae,ae=Ce)}return O(ae);case A:e:{for(We=oe.key;X!==null;){if(X.key===We)if(X.tag===4&&X.stateNode.containerInfo===oe.containerInfo&&X.stateNode.implementation===oe.implementation){l(ae,X.sibling),X=b(X,oe.children||[]),X.return=ae,ae=X;break e}else{l(ae,X);break}else n(ae,X);X=X.sibling}X=_u(oe,ae.mode,Ce),X.return=ae,ae=X}return O(ae);case $:return We=oe._init,es(ae,X,We(oe._payload),Ce)}if(Ht(oe))return Fe(ae,X,oe,Ce);if(Y(oe))return ze(ae,X,oe,Ce);el(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,X!==null&&X.tag===6?(l(ae,X.sibling),X=b(X,oe),X.return=ae,ae=X):(l(ae,X),X=Cu(oe,ae.mode,Ce),X.return=ae,ae=X),O(ae)):l(ae,X)}return es}var An=qh(!0),Wh=qh(!1),tl=xr(null),sl=null,Tn=null,Od=null;function $d(){Od=Tn=sl=null}function Ld(s){var n=tl.current;Ut(tl),s._currentValue=n}function Id(s,n,l){for(;s!==null;){var m=s.alternate;if((s.childLanes&n)!==n?(s.childLanes|=n,m!==null&&(m.childLanes|=n)):m!==null&&(m.childLanes&n)!==n&&(m.childLanes|=n),s===l)break;s=s.return}}function Mn(s,n){sl=s,Od=Tn=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&n)!==0&&(Ls=!0),s.firstContext=null)}function sa(s){var n=s._currentValue;if(Od!==s)if(s={context:s,memoizedValue:n,next:null},Tn===null){if(sl===null)throw Error(r(308));Tn=s,sl.dependencies={lanes:0,firstContext:s}}else Tn=Tn.next=s;return n}var Yr=null;function Fd(s){Yr===null?Yr=[s]:Yr.push(s)}function Gh(s,n,l,m){var b=n.interleaved;return b===null?(l.next=l,Fd(n)):(l.next=b.next,b.next=l),n.interleaved=l,Xa(s,m)}function Xa(s,n){s.lanes|=n;var l=s.alternate;for(l!==null&&(l.lanes|=n),l=s,s=s.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),l=s,s=s.return;return l.tag===3?l.stateNode:null}var jr=!1;function zd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kh(s,n){s=s.updateQueue,n.updateQueue===s&&(n.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Za(s,n){return{eventTime:s,lane:n,tag:0,payload:null,callback:null,next:null}}function yr(s,n,l){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(vt&2)!==0){var b=m.pending;return b===null?n.next=n:(n.next=b.next,b.next=n),m.pending=n,Xa(s,l)}return b=m.interleaved,b===null?(n.next=n,Fd(m)):(n.next=b.next,b.next=n),m.interleaved=n,Xa(s,l)}function al(s,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var m=n.lanes;m&=s.pendingLanes,l|=m,n.lanes=l,ed(s,l)}}function Yh(s,n){var l=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,l===m)){var b=null,S=null;if(l=l.firstBaseUpdate,l!==null){do{var O={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};S===null?b=S=O:S=S.next=O,l=l.next}while(l!==null);S===null?b=S=n:S=S.next=n}else b=S=n;l={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:m.shared,effects:m.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=n:s.next=n,l.lastBaseUpdate=n}function rl(s,n,l,m){var b=s.updateQueue;jr=!1;var S=b.firstBaseUpdate,O=b.lastBaseUpdate,W=b.shared.pending;if(W!==null){b.shared.pending=null;var J=W,ce=J.next;J.next=null,O===null?S=ce:O.next=ce,O=J;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,W=ye.lastBaseUpdate,W!==O&&(W===null?ye.firstBaseUpdate=ce:W.next=ce,ye.lastBaseUpdate=J))}if(S!==null){var we=b.baseState;O=0,ye=ce=J=null,W=S;do{var je=W.lane,$e=W.eventTime;if((m&je)===je){ye!==null&&(ye=ye.next={eventTime:$e,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Fe=s,ze=W;switch(je=n,$e=l,ze.tag){case 1:if(Fe=ze.payload,typeof Fe=="function"){we=Fe.call($e,we,je);break e}we=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=ze.payload,je=typeof Fe=="function"?Fe.call($e,we,je):Fe,je==null)break e;we=ee({},we,je);break e;case 2:jr=!0}}W.callback!==null&&W.lane!==0&&(s.flags|=64,je=b.effects,je===null?b.effects=[W]:je.push(W))}else $e={eventTime:$e,lane:je,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ye===null?(ce=ye=$e,J=we):ye=ye.next=$e,O|=je;if(W=W.next,W===null){if(W=b.shared.pending,W===null)break;je=W,W=je.next,je.next=null,b.lastBaseUpdate=je,b.shared.pending=null}}while(!0);if(ye===null&&(J=we),b.baseState=J,b.firstBaseUpdate=ce,b.lastBaseUpdate=ye,n=b.shared.interleaved,n!==null){b=n;do O|=b.lane,b=b.next;while(b!==n)}else S===null&&(b.shared.lanes=0);Xr|=O,s.lanes=O,s.memoizedState=we}}function Jh(s,n,l){if(s=n.effects,n.effects=null,s!==null)for(n=0;n<s.length;n++){var m=s[n],b=m.callback;if(b!==null){if(m.callback=null,m=l,typeof b!="function")throw Error(r(191,b));b.call(m)}}}var Do={},Ea=xr(Do),Oo=xr(Do),$o=xr(Do);function Jr(s){if(s===Do)throw Error(r(174));return s}function Bd(s,n){switch(Ft($o,n),Ft(Oo,s),Ft(Ea,Do),s=n.nodeType,s){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ot(null,"");break;default:s=s===8?n.parentNode:n,n=s.namespaceURI||null,s=s.tagName,n=ot(n,s)}Ut(Ea),Ft(Ea,n)}function Dn(){Ut(Ea),Ut(Oo),Ut($o)}function Qh(s){Jr($o.current);var n=Jr(Ea.current),l=ot(n,s.type);n!==l&&(Ft(Oo,s),Ft(Ea,l))}function Ud(s){Oo.current===s&&(Ut(Ea),Ut(Oo))}var Wt=xr(0);function nl(s){for(var n=s;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vd=[];function Hd(){for(var s=0;s<Vd.length;s++)Vd[s]._workInProgressVersionPrimary=null;Vd.length=0}var ol=E.ReactCurrentDispatcher,qd=E.ReactCurrentBatchConfig,Qr=0,Gt=null,ls=null,fs=null,il=!1,Lo=!1,Io=0,Kw=0;function Ns(){throw Error(r(321))}function Wd(s,n){if(n===null)return!1;for(var l=0;l<n.length&&l<s.length;l++)if(!ma(s[l],n[l]))return!1;return!0}function Gd(s,n,l,m,b,S){if(Qr=S,Gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ol.current=s===null||s.memoizedState===null?Xw:Zw,s=l(m,b),Lo){S=0;do{if(Lo=!1,Io=0,25<=S)throw Error(r(301));S+=1,fs=ls=null,n.updateQueue=null,ol.current=eN,s=l(m,b)}while(Lo)}if(ol.current=dl,n=ls!==null&&ls.next!==null,Qr=0,fs=ls=Gt=null,il=!1,n)throw Error(r(300));return s}function Kd(){var s=Io!==0;return Io=0,s}function Ra(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?Gt.memoizedState=fs=s:fs=fs.next=s,fs}function aa(){if(ls===null){var s=Gt.alternate;s=s!==null?s.memoizedState:null}else s=ls.next;var n=fs===null?Gt.memoizedState:fs.next;if(n!==null)fs=n,ls=s;else{if(s===null)throw Error(r(310));ls=s,s={memoizedState:ls.memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},fs===null?Gt.memoizedState=fs=s:fs=fs.next=s}return fs}function Fo(s,n){return typeof n=="function"?n(s):n}function Yd(s){var n=aa(),l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var m=ls,b=m.baseQueue,S=l.pending;if(S!==null){if(b!==null){var O=b.next;b.next=S.next,S.next=O}m.baseQueue=b=S,l.pending=null}if(b!==null){S=b.next,m=m.baseState;var W=O=null,J=null,ce=S;do{var ye=ce.lane;if((Qr&ye)===ye)J!==null&&(J=J.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),m=ce.hasEagerState?ce.eagerState:s(m,ce.action);else{var we={lane:ye,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};J===null?(W=J=we,O=m):J=J.next=we,Gt.lanes|=ye,Xr|=ye}ce=ce.next}while(ce!==null&&ce!==S);J===null?O=m:J.next=W,ma(m,n.memoizedState)||(Ls=!0),n.memoizedState=m,n.baseState=O,n.baseQueue=J,l.lastRenderedState=m}if(s=l.interleaved,s!==null){b=s;do S=b.lane,Gt.lanes|=S,Xr|=S,b=b.next;while(b!==s)}else b===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function Jd(s){var n=aa(),l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var m=l.dispatch,b=l.pending,S=n.memoizedState;if(b!==null){l.pending=null;var O=b=b.next;do S=s(S,O.action),O=O.next;while(O!==b);ma(S,n.memoizedState)||(Ls=!0),n.memoizedState=S,n.baseQueue===null&&(n.baseState=S),l.lastRenderedState=S}return[S,m]}function Xh(){}function Zh(s,n){var l=Gt,m=aa(),b=n(),S=!ma(m.memoizedState,b);if(S&&(m.memoizedState=b,Ls=!0),m=m.queue,Qd(sp.bind(null,l,m,s),[s]),m.getSnapshot!==n||S||fs!==null&&fs.memoizedState.tag&1){if(l.flags|=2048,zo(9,tp.bind(null,l,m,b,n),void 0,null),hs===null)throw Error(r(349));(Qr&30)!==0||ep(l,n,b)}return b}function ep(s,n,l){s.flags|=16384,s={getSnapshot:n,value:l},n=Gt.updateQueue,n===null?(n={lastEffect:null,stores:null},Gt.updateQueue=n,n.stores=[s]):(l=n.stores,l===null?n.stores=[s]:l.push(s))}function tp(s,n,l,m){n.value=l,n.getSnapshot=m,ap(n)&&rp(s)}function sp(s,n,l){return l(function(){ap(n)&&rp(s)})}function ap(s){var n=s.getSnapshot;s=s.value;try{var l=n();return!ma(s,l)}catch{return!0}}function rp(s){var n=Xa(s,1);n!==null&&ga(n,s,1,-1)}function np(s){var n=Ra();return typeof s=="function"&&(s=s()),n.memoizedState=n.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:s},n.queue=s,s=s.dispatch=Qw.bind(null,Gt,s),[n.memoizedState,s]}function zo(s,n,l,m){return s={tag:s,create:n,destroy:l,deps:m,next:null},n=Gt.updateQueue,n===null?(n={lastEffect:null,stores:null},Gt.updateQueue=n,n.lastEffect=s.next=s):(l=n.lastEffect,l===null?n.lastEffect=s.next=s:(m=l.next,l.next=s,s.next=m,n.lastEffect=s)),s}function op(){return aa().memoizedState}function ll(s,n,l,m){var b=Ra();Gt.flags|=s,b.memoizedState=zo(1|n,l,void 0,m===void 0?null:m)}function cl(s,n,l,m){var b=aa();m=m===void 0?null:m;var S=void 0;if(ls!==null){var O=ls.memoizedState;if(S=O.destroy,m!==null&&Wd(m,O.deps)){b.memoizedState=zo(n,l,S,m);return}}Gt.flags|=s,b.memoizedState=zo(1|n,l,S,m)}function ip(s,n){return ll(8390656,8,s,n)}function Qd(s,n){return cl(2048,8,s,n)}function lp(s,n){return cl(4,2,s,n)}function cp(s,n){return cl(4,4,s,n)}function dp(s,n){if(typeof n=="function")return s=s(),n(s),function(){n(null)};if(n!=null)return s=s(),n.current=s,function(){n.current=null}}function up(s,n,l){return l=l!=null?l.concat([s]):null,cl(4,4,dp.bind(null,n,s),l)}function Xd(){}function mp(s,n){var l=aa();n=n===void 0?null:n;var m=l.memoizedState;return m!==null&&n!==null&&Wd(n,m[1])?m[0]:(l.memoizedState=[s,n],s)}function fp(s,n){var l=aa();n=n===void 0?null:n;var m=l.memoizedState;return m!==null&&n!==null&&Wd(n,m[1])?m[0]:(s=s(),l.memoizedState=[s,n],s)}function hp(s,n,l){return(Qr&21)===0?(s.baseState&&(s.baseState=!1,Ls=!0),s.memoizedState=l):(ma(l,n)||(l=Hf(),Gt.lanes|=l,Xr|=l,s.baseState=!0),n)}function Yw(s,n){var l=At;At=l!==0&&4>l?l:4,s(!0);var m=qd.transition;qd.transition={};try{s(!1),n()}finally{At=l,qd.transition=m}}function pp(){return aa().memoizedState}function Jw(s,n,l){var m=Sr(s);if(l={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null},xp(s))gp(n,l);else if(l=Gh(s,n,l,m),l!==null){var b=Ps();ga(l,s,m,b),vp(l,n,m)}}function Qw(s,n,l){var m=Sr(s),b={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null};if(xp(s))gp(n,b);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=n.lastRenderedReducer,S!==null))try{var O=n.lastRenderedState,W=S(O,l);if(b.hasEagerState=!0,b.eagerState=W,ma(W,O)){var J=n.interleaved;J===null?(b.next=b,Fd(n)):(b.next=J.next,J.next=b),n.interleaved=b;return}}catch{}finally{}l=Gh(s,n,b,m),l!==null&&(b=Ps(),ga(l,s,m,b),vp(l,n,m))}}function xp(s){var n=s.alternate;return s===Gt||n!==null&&n===Gt}function gp(s,n){Lo=il=!0;var l=s.pending;l===null?n.next=n:(n.next=l.next,l.next=n),s.pending=n}function vp(s,n,l){if((l&4194240)!==0){var m=n.lanes;m&=s.pendingLanes,l|=m,n.lanes=l,ed(s,l)}}var dl={readContext:sa,useCallback:Ns,useContext:Ns,useEffect:Ns,useImperativeHandle:Ns,useInsertionEffect:Ns,useLayoutEffect:Ns,useMemo:Ns,useReducer:Ns,useRef:Ns,useState:Ns,useDebugValue:Ns,useDeferredValue:Ns,useTransition:Ns,useMutableSource:Ns,useSyncExternalStore:Ns,useId:Ns,unstable_isNewReconciler:!1},Xw={readContext:sa,useCallback:function(s,n){return Ra().memoizedState=[s,n===void 0?null:n],s},useContext:sa,useEffect:ip,useImperativeHandle:function(s,n,l){return l=l!=null?l.concat([s]):null,ll(4194308,4,dp.bind(null,n,s),l)},useLayoutEffect:function(s,n){return ll(4194308,4,s,n)},useInsertionEffect:function(s,n){return ll(4,2,s,n)},useMemo:function(s,n){var l=Ra();return n=n===void 0?null:n,s=s(),l.memoizedState=[s,n],s},useReducer:function(s,n,l){var m=Ra();return n=l!==void 0?l(n):n,m.memoizedState=m.baseState=n,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:n},m.queue=s,s=s.dispatch=Jw.bind(null,Gt,s),[m.memoizedState,s]},useRef:function(s){var n=Ra();return s={current:s},n.memoizedState=s},useState:np,useDebugValue:Xd,useDeferredValue:function(s){return Ra().memoizedState=s},useTransition:function(){var s=np(!1),n=s[0];return s=Yw.bind(null,s[1]),Ra().memoizedState=s,[n,s]},useMutableSource:function(){},useSyncExternalStore:function(s,n,l){var m=Gt,b=Ra();if(qt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=n(),hs===null)throw Error(r(349));(Qr&30)!==0||ep(m,n,l)}b.memoizedState=l;var S={value:l,getSnapshot:n};return b.queue=S,ip(sp.bind(null,m,S,s),[s]),m.flags|=2048,zo(9,tp.bind(null,m,S,l,n),void 0,null),l},useId:function(){var s=Ra(),n=hs.identifierPrefix;if(qt){var l=Qa,m=Ja;l=(m&~(1<<32-ua(m)-1)).toString(32)+l,n=":"+n+"R"+l,l=Io++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=Kw++,n=":"+n+"r"+l.toString(32)+":";return s.memoizedState=n},unstable_isNewReconciler:!1},Zw={readContext:sa,useCallback:mp,useContext:sa,useEffect:Qd,useImperativeHandle:up,useInsertionEffect:lp,useLayoutEffect:cp,useMemo:fp,useReducer:Yd,useRef:op,useState:function(){return Yd(Fo)},useDebugValue:Xd,useDeferredValue:function(s){var n=aa();return hp(n,ls.memoizedState,s)},useTransition:function(){var s=Yd(Fo)[0],n=aa().memoizedState;return[s,n]},useMutableSource:Xh,useSyncExternalStore:Zh,useId:pp,unstable_isNewReconciler:!1},eN={readContext:sa,useCallback:mp,useContext:sa,useEffect:Qd,useImperativeHandle:up,useInsertionEffect:lp,useLayoutEffect:cp,useMemo:fp,useReducer:Jd,useRef:op,useState:function(){return Jd(Fo)},useDebugValue:Xd,useDeferredValue:function(s){var n=aa();return ls===null?n.memoizedState=s:hp(n,ls.memoizedState,s)},useTransition:function(){var s=Jd(Fo)[0],n=aa().memoizedState;return[s,n]},useMutableSource:Xh,useSyncExternalStore:Zh,useId:pp,unstable_isNewReconciler:!1};function ha(s,n){if(s&&s.defaultProps){n=ee({},n),s=s.defaultProps;for(var l in s)n[l]===void 0&&(n[l]=s[l]);return n}return n}function Zd(s,n,l,m){n=s.memoizedState,l=l(m,n),l=l==null?n:ee({},n,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var ul={isMounted:function(s){return(s=s._reactInternals)?Hr(s)===s:!1},enqueueSetState:function(s,n,l){s=s._reactInternals;var m=Ps(),b=Sr(s),S=Za(m,b);S.payload=n,l!=null&&(S.callback=l),n=yr(s,S,b),n!==null&&(ga(n,s,b,m),al(n,s,b))},enqueueReplaceState:function(s,n,l){s=s._reactInternals;var m=Ps(),b=Sr(s),S=Za(m,b);S.tag=1,S.payload=n,l!=null&&(S.callback=l),n=yr(s,S,b),n!==null&&(ga(n,s,b,m),al(n,s,b))},enqueueForceUpdate:function(s,n){s=s._reactInternals;var l=Ps(),m=Sr(s),b=Za(l,m);b.tag=2,n!=null&&(b.callback=n),n=yr(s,b,m),n!==null&&(ga(n,s,m,l),al(n,s,m))}};function jp(s,n,l,m,b,S,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,S,O):n.prototype&&n.prototype.isPureReactComponent?!_o(l,m)||!_o(b,S):!0}function yp(s,n,l){var m=!1,b=gr,S=n.contextType;return typeof S=="object"&&S!==null?S=sa(S):(b=$s(n)?Wr:ws.current,m=n.contextTypes,S=(m=m!=null)?kn(s,b):gr),n=new n(l,S),s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ul,s.stateNode=n,n._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=S),n}function bp(s,n,l,m){s=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,m),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,m),n.state!==s&&ul.enqueueReplaceState(n,n.state,null)}function eu(s,n,l,m){var b=s.stateNode;b.props=l,b.state=s.memoizedState,b.refs={},zd(s);var S=n.contextType;typeof S=="object"&&S!==null?b.context=sa(S):(S=$s(n)?Wr:ws.current,b.context=kn(s,S)),b.state=s.memoizedState,S=n.getDerivedStateFromProps,typeof S=="function"&&(Zd(s,n,S,l),b.state=s.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(n=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),n!==b.state&&ul.enqueueReplaceState(b,b.state,null),rl(s,l,b,m),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function On(s,n){try{var l="",m=n;do l+=V(m),m=m.return;while(m);var b=l}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:n,stack:b,digest:null}}function tu(s,n,l){return{value:s,source:null,stack:l??null,digest:n??null}}function su(s,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var tN=typeof WeakMap=="function"?WeakMap:Map;function wp(s,n,l){l=Za(-1,l),l.tag=3,l.payload={element:null};var m=n.value;return l.callback=function(){vl||(vl=!0,gu=m),su(s,n)},l}function Np(s,n,l){l=Za(-1,l),l.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var b=n.value;l.payload=function(){return m(b)},l.callback=function(){su(s,n)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(l.callback=function(){su(s,n),typeof m!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var O=n.stack;this.componentDidCatch(n.value,{componentStack:O!==null?O:""})}),l}function Sp(s,n,l){var m=s.pingCache;if(m===null){m=s.pingCache=new tN;var b=new Set;m.set(n,b)}else b=m.get(n),b===void 0&&(b=new Set,m.set(n,b));b.has(l)||(b.add(l),s=pN.bind(null,s,n,l),n.then(s,s))}function Cp(s){do{var n;if((n=s.tag===13)&&(n=s.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return s;s=s.return}while(s!==null);return null}function _p(s,n,l,m,b){return(s.mode&1)===0?(s===n?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=Za(-1,1),n.tag=2,yr(l,n,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=b,s)}var sN=E.ReactCurrentOwner,Ls=!1;function Rs(s,n,l,m){n.child=s===null?Wh(n,null,l,m):An(n,s.child,l,m)}function kp(s,n,l,m,b){l=l.render;var S=n.ref;return Mn(n,b),m=Gd(s,n,l,m,S,b),l=Kd(),s!==null&&!Ls?(n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~b,er(s,n,b)):(qt&&l&&Pd(n),n.flags|=1,Rs(s,n,m,b),n.child)}function Ep(s,n,l,m,b){if(s===null){var S=l.type;return typeof S=="function"&&!Su(S)&&S.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=S,Rp(s,n,S,m,b)):(s=Sl(l.type,null,m,n,n.mode,b),s.ref=n.ref,s.return=n,n.child=s)}if(S=s.child,(s.lanes&b)===0){var O=S.memoizedProps;if(l=l.compare,l=l!==null?l:_o,l(O,m)&&s.ref===n.ref)return er(s,n,b)}return n.flags|=1,s=_r(S,m),s.ref=n.ref,s.return=n,n.child=s}function Rp(s,n,l,m,b){if(s!==null){var S=s.memoizedProps;if(_o(S,m)&&s.ref===n.ref)if(Ls=!1,n.pendingProps=m=S,(s.lanes&b)!==0)(s.flags&131072)!==0&&(Ls=!0);else return n.lanes=s.lanes,er(s,n,b)}return au(s,n,l,m,b)}function Pp(s,n,l){var m=n.pendingProps,b=m.children,S=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Ln,Ks),Ks|=l;else{if((l&1073741824)===0)return s=S!==null?S.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:s,cachePool:null,transitions:null},n.updateQueue=null,Ft(Ln,Ks),Ks|=s,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:l,Ft(Ln,Ks),Ks|=m}else S!==null?(m=S.baseLanes|l,n.memoizedState=null):m=l,Ft(Ln,Ks),Ks|=m;return Rs(s,n,b,l),n.child}function Ap(s,n){var l=n.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function au(s,n,l,m,b){var S=$s(l)?Wr:ws.current;return S=kn(n,S),Mn(n,b),l=Gd(s,n,l,m,S,b),m=Kd(),s!==null&&!Ls?(n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~b,er(s,n,b)):(qt&&m&&Pd(n),n.flags|=1,Rs(s,n,l,b),n.child)}function Tp(s,n,l,m,b){if($s(l)){var S=!0;Yi(n)}else S=!1;if(Mn(n,b),n.stateNode===null)fl(s,n),yp(n,l,m),eu(n,l,m,b),m=!0;else if(s===null){var O=n.stateNode,W=n.memoizedProps;O.props=W;var J=O.context,ce=l.contextType;typeof ce=="object"&&ce!==null?ce=sa(ce):(ce=$s(l)?Wr:ws.current,ce=kn(n,ce));var ye=l.getDerivedStateFromProps,we=typeof ye=="function"||typeof O.getSnapshotBeforeUpdate=="function";we||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==m||J!==ce)&&bp(n,O,m,ce),jr=!1;var je=n.memoizedState;O.state=je,rl(n,m,O,b),J=n.memoizedState,W!==m||je!==J||Os.current||jr?(typeof ye=="function"&&(Zd(n,l,ye,m),J=n.memoizedState),(W=jr||jp(n,l,W,m,je,J,ce))?(we||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(n.flags|=4194308)):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=m,n.memoizedState=J),O.props=m,O.state=J,O.context=ce,m=W):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),m=!1)}else{O=n.stateNode,Kh(s,n),W=n.memoizedProps,ce=n.type===n.elementType?W:ha(n.type,W),O.props=ce,we=n.pendingProps,je=O.context,J=l.contextType,typeof J=="object"&&J!==null?J=sa(J):(J=$s(l)?Wr:ws.current,J=kn(n,J));var $e=l.getDerivedStateFromProps;(ye=typeof $e=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==we||je!==J)&&bp(n,O,m,J),jr=!1,je=n.memoizedState,O.state=je,rl(n,m,O,b);var Fe=n.memoizedState;W!==we||je!==Fe||Os.current||jr?(typeof $e=="function"&&(Zd(n,l,$e,m),Fe=n.memoizedState),(ce=jr||jp(n,l,ce,m,je,Fe,J)||!1)?(ye||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(m,Fe,J),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(m,Fe,J)),typeof O.componentDidUpdate=="function"&&(n.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof O.componentDidUpdate!="function"||W===s.memoizedProps&&je===s.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&je===s.memoizedState||(n.flags|=1024),n.memoizedProps=m,n.memoizedState=Fe),O.props=m,O.state=Fe,O.context=J,m=ce):(typeof O.componentDidUpdate!="function"||W===s.memoizedProps&&je===s.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&je===s.memoizedState||(n.flags|=1024),m=!1)}return ru(s,n,l,m,S,b)}function ru(s,n,l,m,b,S){Ap(s,n);var O=(n.flags&128)!==0;if(!m&&!O)return b&&Lh(n,l,!1),er(s,n,S);m=n.stateNode,sN.current=n;var W=O&&typeof l.getDerivedStateFromError!="function"?null:m.render();return n.flags|=1,s!==null&&O?(n.child=An(n,s.child,null,S),n.child=An(n,null,W,S)):Rs(s,n,W,S),n.memoizedState=m.state,b&&Lh(n,l,!0),n.child}function Mp(s){var n=s.stateNode;n.pendingContext?Oh(s,n.pendingContext,n.pendingContext!==n.context):n.context&&Oh(s,n.context,!1),Bd(s,n.containerInfo)}function Dp(s,n,l,m,b){return Pn(),Dd(b),n.flags|=256,Rs(s,n,l,m),n.child}var nu={dehydrated:null,treeContext:null,retryLane:0};function ou(s){return{baseLanes:s,cachePool:null,transitions:null}}function Op(s,n,l){var m=n.pendingProps,b=Wt.current,S=!1,O=(n.flags&128)!==0,W;if((W=O)||(W=s!==null&&s.memoizedState===null?!1:(b&2)!==0),W?(S=!0,n.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),Ft(Wt,b&1),s===null)return Md(n),s=n.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((n.mode&1)===0?n.lanes=1:s.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(O=m.children,s=m.fallback,S?(m=n.mode,S=n.child,O={mode:"hidden",children:O},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=O):S=Cl(O,m,0,null),s=sn(s,m,l,null),S.return=n,s.return=n,S.sibling=s,n.child=S,n.child.memoizedState=ou(l),n.memoizedState=nu,s):iu(n,O));if(b=s.memoizedState,b!==null&&(W=b.dehydrated,W!==null))return aN(s,n,O,m,W,b,l);if(S){S=m.fallback,O=n.mode,b=s.child,W=b.sibling;var J={mode:"hidden",children:m.children};return(O&1)===0&&n.child!==b?(m=n.child,m.childLanes=0,m.pendingProps=J,n.deletions=null):(m=_r(b,J),m.subtreeFlags=b.subtreeFlags&14680064),W!==null?S=_r(W,S):(S=sn(S,O,l,null),S.flags|=2),S.return=n,m.return=n,m.sibling=S,n.child=m,m=S,S=n.child,O=s.child.memoizedState,O=O===null?ou(l):{baseLanes:O.baseLanes|l,cachePool:null,transitions:O.transitions},S.memoizedState=O,S.childLanes=s.childLanes&~l,n.memoizedState=nu,m}return S=s.child,s=S.sibling,m=_r(S,{mode:"visible",children:m.children}),(n.mode&1)===0&&(m.lanes=l),m.return=n,m.sibling=null,s!==null&&(l=n.deletions,l===null?(n.deletions=[s],n.flags|=16):l.push(s)),n.child=m,n.memoizedState=null,m}function iu(s,n){return n=Cl({mode:"visible",children:n},s.mode,0,null),n.return=s,s.child=n}function ml(s,n,l,m){return m!==null&&Dd(m),An(n,s.child,null,l),s=iu(n,n.pendingProps.children),s.flags|=2,n.memoizedState=null,s}function aN(s,n,l,m,b,S,O){if(l)return n.flags&256?(n.flags&=-257,m=tu(Error(r(422))),ml(s,n,O,m)):n.memoizedState!==null?(n.child=s.child,n.flags|=128,null):(S=m.fallback,b=n.mode,m=Cl({mode:"visible",children:m.children},b,0,null),S=sn(S,b,O,null),S.flags|=2,m.return=n,S.return=n,m.sibling=S,n.child=m,(n.mode&1)!==0&&An(n,s.child,null,O),n.child.memoizedState=ou(O),n.memoizedState=nu,S);if((n.mode&1)===0)return ml(s,n,O,null);if(b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var W=m.dgst;return m=W,S=Error(r(419)),m=tu(S,m,void 0),ml(s,n,O,m)}if(W=(O&s.childLanes)!==0,Ls||W){if(m=hs,m!==null){switch(O&-O){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(m.suspendedLanes|O))!==0?0:b,b!==0&&b!==S.retryLane&&(S.retryLane=b,Xa(s,b),ga(m,s,b,-1))}return Nu(),m=tu(Error(r(421))),ml(s,n,O,m)}return b.data==="$?"?(n.flags|=128,n.child=s.child,n=xN.bind(null,s),b._reactRetry=n,null):(s=S.treeContext,Gs=pr(b.nextSibling),Ws=n,qt=!0,fa=null,s!==null&&(ea[ta++]=Ja,ea[ta++]=Qa,ea[ta++]=Gr,Ja=s.id,Qa=s.overflow,Gr=n),n=iu(n,m.children),n.flags|=4096,n)}function $p(s,n,l){s.lanes|=n;var m=s.alternate;m!==null&&(m.lanes|=n),Id(s.return,n,l)}function lu(s,n,l,m,b){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:m,tail:l,tailMode:b}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=l,S.tailMode=b)}function Lp(s,n,l){var m=n.pendingProps,b=m.revealOrder,S=m.tail;if(Rs(s,n,m.children,l),m=Wt.current,(m&2)!==0)m=m&1|2,n.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=n.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$p(s,l,n);else if(s.tag===19)$p(s,l,n);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Ft(Wt,m),(n.mode&1)===0)n.memoizedState=null;else switch(b){case"forwards":for(l=n.child,b=null;l!==null;)s=l.alternate,s!==null&&nl(s)===null&&(b=l),l=l.sibling;l=b,l===null?(b=n.child,n.child=null):(b=l.sibling,l.sibling=null),lu(n,!1,b,l,S);break;case"backwards":for(l=null,b=n.child,n.child=null;b!==null;){if(s=b.alternate,s!==null&&nl(s)===null){n.child=b;break}s=b.sibling,b.sibling=l,l=b,b=s}lu(n,!0,l,null,S);break;case"together":lu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function fl(s,n){(n.mode&1)===0&&s!==null&&(s.alternate=null,n.alternate=null,n.flags|=2)}function er(s,n,l){if(s!==null&&(n.dependencies=s.dependencies),Xr|=n.lanes,(l&n.childLanes)===0)return null;if(s!==null&&n.child!==s.child)throw Error(r(153));if(n.child!==null){for(s=n.child,l=_r(s,s.pendingProps),n.child=l,l.return=n;s.sibling!==null;)s=s.sibling,l=l.sibling=_r(s,s.pendingProps),l.return=n;l.sibling=null}return n.child}function rN(s,n,l){switch(n.tag){case 3:Mp(n),Pn();break;case 5:Qh(n);break;case 1:$s(n.type)&&Yi(n);break;case 4:Bd(n,n.stateNode.containerInfo);break;case 10:var m=n.type._context,b=n.memoizedProps.value;Ft(tl,m._currentValue),m._currentValue=b;break;case 13:if(m=n.memoizedState,m!==null)return m.dehydrated!==null?(Ft(Wt,Wt.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?Op(s,n,l):(Ft(Wt,Wt.current&1),s=er(s,n,l),s!==null?s.sibling:null);Ft(Wt,Wt.current&1);break;case 19:if(m=(l&n.childLanes)!==0,(s.flags&128)!==0){if(m)return Lp(s,n,l);n.flags|=128}if(b=n.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ft(Wt,Wt.current),m)break;return null;case 22:case 23:return n.lanes=0,Pp(s,n,l)}return er(s,n,l)}var Ip,cu,Fp,zp;Ip=function(s,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},cu=function(){},Fp=function(s,n,l,m){var b=s.memoizedProps;if(b!==m){s=n.stateNode,Jr(Ea.current);var S=null;switch(l){case"input":b=lt(s,b),m=lt(s,m),S=[];break;case"select":b=ee({},b,{value:void 0}),m=ee({},m,{value:void 0}),S=[];break;case"textarea":b=Ie(s,b),m=Ie(s,m),S=[];break;default:typeof b.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Wi)}ke(l,m);var O;l=null;for(ce in b)if(!m.hasOwnProperty(ce)&&b.hasOwnProperty(ce)&&b[ce]!=null)if(ce==="style"){var W=b[ce];for(O in W)W.hasOwnProperty(O)&&(l||(l={}),l[O]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?S||(S=[]):(S=S||[]).push(ce,null));for(ce in m){var J=m[ce];if(W=b!=null?b[ce]:void 0,m.hasOwnProperty(ce)&&J!==W&&(J!=null||W!=null))if(ce==="style")if(W){for(O in W)!W.hasOwnProperty(O)||J&&J.hasOwnProperty(O)||(l||(l={}),l[O]="");for(O in J)J.hasOwnProperty(O)&&W[O]!==J[O]&&(l||(l={}),l[O]=J[O])}else l||(S||(S=[]),S.push(ce,l)),l=J;else ce==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,W=W?W.__html:void 0,J!=null&&W!==J&&(S=S||[]).push(ce,J)):ce==="children"?typeof J!="string"&&typeof J!="number"||(S=S||[]).push(ce,""+J):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(J!=null&&ce==="onScroll"&&Bt("scroll",s),S||W===J||(S=[])):(S=S||[]).push(ce,J))}l&&(S=S||[]).push("style",l);var ce=S;(n.updateQueue=ce)&&(n.flags|=4)}},zp=function(s,n,l,m){l!==m&&(n.flags|=4)};function Bo(s,n){if(!qt)switch(s.tailMode){case"hidden":n=s.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?n||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Ss(s){var n=s.alternate!==null&&s.alternate.child===s.child,l=0,m=0;if(n)for(var b=s.child;b!==null;)l|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)l|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=m,s.childLanes=l,n}function nN(s,n,l){var m=n.pendingProps;switch(Ad(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ss(n),null;case 1:return $s(n.type)&&Ki(),Ss(n),null;case 3:return m=n.stateNode,Dn(),Ut(Os),Ut(ws),Hd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Zi(n)?n.flags|=4:s===null||s.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fa!==null&&(yu(fa),fa=null))),cu(s,n),Ss(n),null;case 5:Ud(n);var b=Jr($o.current);if(l=n.type,s!==null&&n.stateNode!=null)Fp(s,n,l,m,b),s.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!m){if(n.stateNode===null)throw Error(r(166));return Ss(n),null}if(s=Jr(Ea.current),Zi(n)){m=n.stateNode,l=n.type;var S=n.memoizedProps;switch(m[ka]=n,m[Ao]=S,s=(n.mode&1)!==0,l){case"dialog":Bt("cancel",m),Bt("close",m);break;case"iframe":case"object":case"embed":Bt("load",m);break;case"video":case"audio":for(b=0;b<Eo.length;b++)Bt(Eo[b],m);break;case"source":Bt("error",m);break;case"img":case"image":case"link":Bt("error",m),Bt("load",m);break;case"details":Bt("toggle",m);break;case"input":yt(m,S),Bt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},Bt("invalid",m);break;case"textarea":He(m,S),Bt("invalid",m)}ke(l,S),b=null;for(var O in S)if(S.hasOwnProperty(O)){var W=S[O];O==="children"?typeof W=="string"?m.textContent!==W&&(S.suppressHydrationWarning!==!0&&qi(m.textContent,W,s),b=["children",W]):typeof W=="number"&&m.textContent!==""+W&&(S.suppressHydrationWarning!==!0&&qi(m.textContent,W,s),b=["children",""+W]):i.hasOwnProperty(O)&&W!=null&&O==="onScroll"&&Bt("scroll",m)}switch(l){case"input":Pe(m),ms(m,S,!0);break;case"textarea":Pe(m),Ze(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=Wi)}m=b,n.updateQueue=m,m!==null&&(n.flags|=4)}else{O=b.nodeType===9?b:b.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Je(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=O.createElement(l,{is:m.is}):(s=O.createElement(l),l==="select"&&(O=s,m.multiple?O.multiple=!0:m.size&&(O.size=m.size))):s=O.createElementNS(s,l),s[ka]=n,s[Ao]=m,Ip(s,n,!1,!1),n.stateNode=s;e:{switch(O=Ne(l,m),l){case"dialog":Bt("cancel",s),Bt("close",s),b=m;break;case"iframe":case"object":case"embed":Bt("load",s),b=m;break;case"video":case"audio":for(b=0;b<Eo.length;b++)Bt(Eo[b],s);b=m;break;case"source":Bt("error",s),b=m;break;case"img":case"image":case"link":Bt("error",s),Bt("load",s),b=m;break;case"details":Bt("toggle",s),b=m;break;case"input":yt(s,m),b=lt(s,m),Bt("invalid",s);break;case"option":b=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},b=ee({},m,{value:void 0}),Bt("invalid",s);break;case"textarea":He(s,m),b=Ie(s,m),Bt("invalid",s);break;default:b=m}ke(l,b),W=b;for(S in W)if(W.hasOwnProperty(S)){var J=W[S];S==="style"?Zs(s,J):S==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&gt(s,J)):S==="children"?typeof J=="string"?(l!=="textarea"||J!=="")&&Mt(s,J):typeof J=="number"&&Mt(s,""+J):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?J!=null&&S==="onScroll"&&Bt("scroll",s):J!=null&&_(s,S,J,O))}switch(l){case"input":Pe(s),ms(s,m,!1);break;case"textarea":Pe(s),Ze(s);break;case"option":m.value!=null&&s.setAttribute("value",""+ne(m.value));break;case"select":s.multiple=!!m.multiple,S=m.value,S!=null?he(s,!!m.multiple,S,!1):m.defaultValue!=null&&he(s,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick=="function"&&(s.onclick=Wi)}switch(l){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ss(n),null;case 6:if(s&&n.stateNode!=null)zp(s,n,s.memoizedProps,m);else{if(typeof m!="string"&&n.stateNode===null)throw Error(r(166));if(l=Jr($o.current),Jr(Ea.current),Zi(n)){if(m=n.stateNode,l=n.memoizedProps,m[ka]=n,(S=m.nodeValue!==l)&&(s=Ws,s!==null))switch(s.tag){case 3:qi(m.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&qi(m.nodeValue,l,(s.mode&1)!==0)}S&&(n.flags|=4)}else m=(l.nodeType===9?l:l.ownerDocument).createTextNode(m),m[ka]=n,n.stateNode=m}return Ss(n),null;case 13:if(Ut(Wt),m=n.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(qt&&Gs!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Vh(),Pn(),n.flags|=98560,S=!1;else if(S=Zi(n),m!==null&&m.dehydrated!==null){if(s===null){if(!S)throw Error(r(318));if(S=n.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[ka]=n}else Pn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ss(n),S=!1}else fa!==null&&(yu(fa),fa=null),S=!0;if(!S)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(n.child.flags|=8192,(n.mode&1)!==0&&(s===null||(Wt.current&1)!==0?cs===0&&(cs=3):Nu())),n.updateQueue!==null&&(n.flags|=4),Ss(n),null);case 4:return Dn(),cu(s,n),s===null&&Ro(n.stateNode.containerInfo),Ss(n),null;case 10:return Ld(n.type._context),Ss(n),null;case 17:return $s(n.type)&&Ki(),Ss(n),null;case 19:if(Ut(Wt),S=n.memoizedState,S===null)return Ss(n),null;if(m=(n.flags&128)!==0,O=S.rendering,O===null)if(m)Bo(S,!1);else{if(cs!==0||s!==null&&(s.flags&128)!==0)for(s=n.child;s!==null;){if(O=nl(s),O!==null){for(n.flags|=128,Bo(S,!1),m=O.updateQueue,m!==null&&(n.updateQueue=m,n.flags|=4),n.subtreeFlags=0,m=l,l=n.child;l!==null;)S=l,s=m,S.flags&=14680066,O=S.alternate,O===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=O.childLanes,S.lanes=O.lanes,S.child=O.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=O.memoizedProps,S.memoizedState=O.memoizedState,S.updateQueue=O.updateQueue,S.type=O.type,s=O.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Ft(Wt,Wt.current&1|2),n.child}s=s.sibling}S.tail!==null&&Zt()>In&&(n.flags|=128,m=!0,Bo(S,!1),n.lanes=4194304)}else{if(!m)if(s=nl(O),s!==null){if(n.flags|=128,m=!0,l=s.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),Bo(S,!0),S.tail===null&&S.tailMode==="hidden"&&!O.alternate&&!qt)return Ss(n),null}else 2*Zt()-S.renderingStartTime>In&&l!==1073741824&&(n.flags|=128,m=!0,Bo(S,!1),n.lanes=4194304);S.isBackwards?(O.sibling=n.child,n.child=O):(l=S.last,l!==null?l.sibling=O:n.child=O,S.last=O)}return S.tail!==null?(n=S.tail,S.rendering=n,S.tail=n.sibling,S.renderingStartTime=Zt(),n.sibling=null,l=Wt.current,Ft(Wt,m?l&1|2:l&1),n):(Ss(n),null);case 22:case 23:return wu(),m=n.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(n.flags|=8192),m&&(n.mode&1)!==0?(Ks&1073741824)!==0&&(Ss(n),n.subtreeFlags&6&&(n.flags|=8192)):Ss(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function oN(s,n){switch(Ad(n),n.tag){case 1:return $s(n.type)&&Ki(),s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 3:return Dn(),Ut(Os),Ut(ws),Hd(),s=n.flags,(s&65536)!==0&&(s&128)===0?(n.flags=s&-65537|128,n):null;case 5:return Ud(n),null;case 13:if(Ut(Wt),s=n.memoizedState,s!==null&&s.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Pn()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 19:return Ut(Wt),null;case 4:return Dn(),null;case 10:return Ld(n.type._context),null;case 22:case 23:return wu(),null;case 24:return null;default:return null}}var hl=!1,Cs=!1,iN=typeof WeakSet=="function"?WeakSet:Set,Le=null;function $n(s,n){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(m){Kt(s,n,m)}else l.current=null}function du(s,n,l){try{l()}catch(m){Kt(s,n,m)}}var Bp=!1;function lN(s,n){if(wd=Di,s=jh(),hd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var m=l.getSelection&&l.getSelection();if(m&&m.rangeCount!==0){l=m.anchorNode;var b=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{l.nodeType,S.nodeType}catch{l=null;break e}var O=0,W=-1,J=-1,ce=0,ye=0,we=s,je=null;t:for(;;){for(var $e;we!==l||b!==0&&we.nodeType!==3||(W=O+b),we!==S||m!==0&&we.nodeType!==3||(J=O+m),we.nodeType===3&&(O+=we.nodeValue.length),($e=we.firstChild)!==null;)je=we,we=$e;for(;;){if(we===s)break t;if(je===l&&++ce===b&&(W=O),je===S&&++ye===m&&(J=O),($e=we.nextSibling)!==null)break;we=je,je=we.parentNode}we=$e}l=W===-1||J===-1?null:{start:W,end:J}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nd={focusedElem:s,selectionRange:l},Di=!1,Le=n;Le!==null;)if(n=Le,s=n.child,(n.subtreeFlags&1028)!==0&&s!==null)s.return=n,Le=s;else for(;Le!==null;){n=Le;try{var Fe=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var ze=Fe.memoizedProps,es=Fe.memoizedState,ae=n.stateNode,X=ae.getSnapshotBeforeUpdate(n.elementType===n.type?ze:ha(n.type,ze),es);ae.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var oe=n.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ce){Kt(n,n.return,Ce)}if(s=n.sibling,s!==null){s.return=n.return,Le=s;break}Le=n.return}return Fe=Bp,Bp=!1,Fe}function Uo(s,n,l){var m=n.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&s)===s){var S=b.destroy;b.destroy=void 0,S!==void 0&&du(n,l,S)}b=b.next}while(b!==m)}}function pl(s,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&s)===s){var m=l.create;l.destroy=m()}l=l.next}while(l!==n)}}function uu(s){var n=s.ref;if(n!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof n=="function"?n(s):n.current=s}}function Up(s){var n=s.alternate;n!==null&&(s.alternate=null,Up(n)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(n=s.stateNode,n!==null&&(delete n[ka],delete n[Ao],delete n[kd],delete n[Hw],delete n[qw])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Vp(s){return s.tag===5||s.tag===3||s.tag===4}function Hp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Vp(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function mu(s,n,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(s,n):l.insertBefore(s,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(s,l)):(n=l,n.appendChild(s)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Wi));else if(m!==4&&(s=s.child,s!==null))for(mu(s,n,l),s=s.sibling;s!==null;)mu(s,n,l),s=s.sibling}function fu(s,n,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,n?l.insertBefore(s,n):l.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(fu(s,n,l),s=s.sibling;s!==null;)fu(s,n,l),s=s.sibling}var gs=null,pa=!1;function br(s,n,l){for(l=l.child;l!==null;)qp(s,n,l),l=l.sibling}function qp(s,n,l){if(_a&&typeof _a.onCommitFiberUnmount=="function")try{_a.onCommitFiberUnmount(Ei,l)}catch{}switch(l.tag){case 5:Cs||$n(l,n);case 6:var m=gs,b=pa;gs=null,br(s,n,l),gs=m,pa=b,gs!==null&&(pa?(s=gs,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):gs.removeChild(l.stateNode));break;case 18:gs!==null&&(pa?(s=gs,l=l.stateNode,s.nodeType===8?_d(s.parentNode,l):s.nodeType===1&&_d(s,l),yo(s)):_d(gs,l.stateNode));break;case 4:m=gs,b=pa,gs=l.stateNode.containerInfo,pa=!0,br(s,n,l),gs=m,pa=b;break;case 0:case 11:case 14:case 15:if(!Cs&&(m=l.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var S=b,O=S.destroy;S=S.tag,O!==void 0&&((S&2)!==0||(S&4)!==0)&&du(l,n,O),b=b.next}while(b!==m)}br(s,n,l);break;case 1:if(!Cs&&($n(l,n),m=l.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=l.memoizedProps,m.state=l.memoizedState,m.componentWillUnmount()}catch(W){Kt(l,n,W)}br(s,n,l);break;case 21:br(s,n,l);break;case 22:l.mode&1?(Cs=(m=Cs)||l.memoizedState!==null,br(s,n,l),Cs=m):br(s,n,l);break;default:br(s,n,l)}}function Wp(s){var n=s.updateQueue;if(n!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new iN),n.forEach(function(m){var b=gN.bind(null,s,m);l.has(m)||(l.add(m),m.then(b,b))})}}function xa(s,n){var l=n.deletions;if(l!==null)for(var m=0;m<l.length;m++){var b=l[m];try{var S=s,O=n,W=O;e:for(;W!==null;){switch(W.tag){case 5:gs=W.stateNode,pa=!1;break e;case 3:gs=W.stateNode.containerInfo,pa=!0;break e;case 4:gs=W.stateNode.containerInfo,pa=!0;break e}W=W.return}if(gs===null)throw Error(r(160));qp(S,O,b),gs=null,pa=!1;var J=b.alternate;J!==null&&(J.return=null),b.return=null}catch(ce){Kt(b,n,ce)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Gp(n,s),n=n.sibling}function Gp(s,n){var l=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(xa(n,s),Pa(s),m&4){try{Uo(3,s,s.return),pl(3,s)}catch(ze){Kt(s,s.return,ze)}try{Uo(5,s,s.return)}catch(ze){Kt(s,s.return,ze)}}break;case 1:xa(n,s),Pa(s),m&512&&l!==null&&$n(l,l.return);break;case 5:if(xa(n,s),Pa(s),m&512&&l!==null&&$n(l,l.return),s.flags&32){var b=s.stateNode;try{Mt(b,"")}catch(ze){Kt(s,s.return,ze)}}if(m&4&&(b=s.stateNode,b!=null)){var S=s.memoizedProps,O=l!==null?l.memoizedProps:S,W=s.type,J=s.updateQueue;if(s.updateQueue=null,J!==null)try{W==="input"&&S.type==="radio"&&S.name!=null&&Tt(b,S),Ne(W,O);var ce=Ne(W,S);for(O=0;O<J.length;O+=2){var ye=J[O],we=J[O+1];ye==="style"?Zs(b,we):ye==="dangerouslySetInnerHTML"?gt(b,we):ye==="children"?Mt(b,we):_(b,ye,we,ce)}switch(W){case"input":It(b,S);break;case"textarea":Ee(b,S);break;case"select":var je=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!S.multiple;var $e=S.value;$e!=null?he(b,!!S.multiple,$e,!1):je!==!!S.multiple&&(S.defaultValue!=null?he(b,!!S.multiple,S.defaultValue,!0):he(b,!!S.multiple,S.multiple?[]:"",!1))}b[Ao]=S}catch(ze){Kt(s,s.return,ze)}}break;case 6:if(xa(n,s),Pa(s),m&4){if(s.stateNode===null)throw Error(r(162));b=s.stateNode,S=s.memoizedProps;try{b.nodeValue=S}catch(ze){Kt(s,s.return,ze)}}break;case 3:if(xa(n,s),Pa(s),m&4&&l!==null&&l.memoizedState.isDehydrated)try{yo(n.containerInfo)}catch(ze){Kt(s,s.return,ze)}break;case 4:xa(n,s),Pa(s);break;case 13:xa(n,s),Pa(s),b=s.child,b.flags&8192&&(S=b.memoizedState!==null,b.stateNode.isHidden=S,!S||b.alternate!==null&&b.alternate.memoizedState!==null||(xu=Zt())),m&4&&Wp(s);break;case 22:if(ye=l!==null&&l.memoizedState!==null,s.mode&1?(Cs=(ce=Cs)||ye,xa(n,s),Cs=ce):xa(n,s),Pa(s),m&8192){if(ce=s.memoizedState!==null,(s.stateNode.isHidden=ce)&&!ye&&(s.mode&1)!==0)for(Le=s,ye=s.child;ye!==null;){for(we=Le=ye;Le!==null;){switch(je=Le,$e=je.child,je.tag){case 0:case 11:case 14:case 15:Uo(4,je,je.return);break;case 1:$n(je,je.return);var Fe=je.stateNode;if(typeof Fe.componentWillUnmount=="function"){m=je,l=je.return;try{n=m,Fe.props=n.memoizedProps,Fe.state=n.memoizedState,Fe.componentWillUnmount()}catch(ze){Kt(m,l,ze)}}break;case 5:$n(je,je.return);break;case 22:if(je.memoizedState!==null){Jp(we);continue}}$e!==null?($e.return=je,Le=$e):Jp(we)}ye=ye.sibling}e:for(ye=null,we=s;;){if(we.tag===5){if(ye===null){ye=we;try{b=we.stateNode,ce?(S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(W=we.stateNode,J=we.memoizedProps.style,O=J!=null&&J.hasOwnProperty("display")?J.display:null,W.style.display=ys("display",O))}catch(ze){Kt(s,s.return,ze)}}}else if(we.tag===6){if(ye===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(ze){Kt(s,s.return,ze)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===s)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===s)break e;for(;we.sibling===null;){if(we.return===null||we.return===s)break e;ye===we&&(ye=null),we=we.return}ye===we&&(ye=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:xa(n,s),Pa(s),m&4&&Wp(s);break;case 21:break;default:xa(n,s),Pa(s)}}function Pa(s){var n=s.flags;if(n&2){try{e:{for(var l=s.return;l!==null;){if(Vp(l)){var m=l;break e}l=l.return}throw Error(r(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&(Mt(b,""),m.flags&=-33);var S=Hp(s);fu(s,S,b);break;case 3:case 4:var O=m.stateNode.containerInfo,W=Hp(s);mu(s,W,O);break;default:throw Error(r(161))}}catch(J){Kt(s,s.return,J)}s.flags&=-3}n&4096&&(s.flags&=-4097)}function cN(s,n,l){Le=s,Kp(s)}function Kp(s,n,l){for(var m=(s.mode&1)!==0;Le!==null;){var b=Le,S=b.child;if(b.tag===22&&m){var O=b.memoizedState!==null||hl;if(!O){var W=b.alternate,J=W!==null&&W.memoizedState!==null||Cs;W=hl;var ce=Cs;if(hl=O,(Cs=J)&&!ce)for(Le=b;Le!==null;)O=Le,J=O.child,O.tag===22&&O.memoizedState!==null?Qp(b):J!==null?(J.return=O,Le=J):Qp(b);for(;S!==null;)Le=S,Kp(S),S=S.sibling;Le=b,hl=W,Cs=ce}Yp(s)}else(b.subtreeFlags&8772)!==0&&S!==null?(S.return=b,Le=S):Yp(s)}}function Yp(s){for(;Le!==null;){var n=Le;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Cs||pl(5,n);break;case 1:var m=n.stateNode;if(n.flags&4&&!Cs)if(l===null)m.componentDidMount();else{var b=n.elementType===n.type?l.memoizedProps:ha(n.type,l.memoizedProps);m.componentDidUpdate(b,l.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=n.updateQueue;S!==null&&Jh(n,S,m);break;case 3:var O=n.updateQueue;if(O!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}Jh(n,O,l)}break;case 5:var W=n.stateNode;if(l===null&&n.flags&4){l=W;var J=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&l.focus();break;case"img":J.src&&(l.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var ce=n.alternate;if(ce!==null){var ye=ce.memoizedState;if(ye!==null){var we=ye.dehydrated;we!==null&&yo(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Cs||n.flags&512&&uu(n)}catch(je){Kt(n,n.return,je)}}if(n===s){Le=null;break}if(l=n.sibling,l!==null){l.return=n.return,Le=l;break}Le=n.return}}function Jp(s){for(;Le!==null;){var n=Le;if(n===s){Le=null;break}var l=n.sibling;if(l!==null){l.return=n.return,Le=l;break}Le=n.return}}function Qp(s){for(;Le!==null;){var n=Le;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{pl(4,n)}catch(J){Kt(n,l,J)}break;case 1:var m=n.stateNode;if(typeof m.componentDidMount=="function"){var b=n.return;try{m.componentDidMount()}catch(J){Kt(n,b,J)}}var S=n.return;try{uu(n)}catch(J){Kt(n,S,J)}break;case 5:var O=n.return;try{uu(n)}catch(J){Kt(n,O,J)}}}catch(J){Kt(n,n.return,J)}if(n===s){Le=null;break}var W=n.sibling;if(W!==null){W.return=n.return,Le=W;break}Le=n.return}}var dN=Math.ceil,xl=E.ReactCurrentDispatcher,hu=E.ReactCurrentOwner,ra=E.ReactCurrentBatchConfig,vt=0,hs=null,ns=null,vs=0,Ks=0,Ln=xr(0),cs=0,Vo=null,Xr=0,gl=0,pu=0,Ho=null,Is=null,xu=0,In=1/0,tr=null,vl=!1,gu=null,wr=null,jl=!1,Nr=null,yl=0,qo=0,vu=null,bl=-1,wl=0;function Ps(){return(vt&6)!==0?Zt():bl!==-1?bl:bl=Zt()}function Sr(s){return(s.mode&1)===0?1:(vt&2)!==0&&vs!==0?vs&-vs:Gw.transition!==null?(wl===0&&(wl=Hf()),wl):(s=At,s!==0||(s=window.event,s=s===void 0?16:Zf(s.type)),s)}function ga(s,n,l,m){if(50<qo)throw qo=0,vu=null,Error(r(185));po(s,l,m),((vt&2)===0||s!==hs)&&(s===hs&&((vt&2)===0&&(gl|=l),cs===4&&Cr(s,vs)),Fs(s,m),l===1&&vt===0&&(n.mode&1)===0&&(In=Zt()+500,Ji&&vr()))}function Fs(s,n){var l=s.callbackNode;Gb(s,n);var m=Ai(s,s===hs?vs:0);if(m===0)l!==null&&Bf(l),s.callbackNode=null,s.callbackPriority=0;else if(n=m&-m,s.callbackPriority!==n){if(l!=null&&Bf(l),n===1)s.tag===0?Ww(Zp.bind(null,s)):Ih(Zp.bind(null,s)),Uw(function(){(vt&6)===0&&vr()}),l=null;else{switch(qf(m)){case 1:l=Qc;break;case 4:l=Uf;break;case 16:l=ki;break;case 536870912:l=Vf;break;default:l=ki}l=ix(l,Xp.bind(null,s))}s.callbackPriority=n,s.callbackNode=l}}function Xp(s,n){if(bl=-1,wl=0,(vt&6)!==0)throw Error(r(327));var l=s.callbackNode;if(Fn()&&s.callbackNode!==l)return null;var m=Ai(s,s===hs?vs:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||n)n=Nl(s,m);else{n=m;var b=vt;vt|=2;var S=tx();(hs!==s||vs!==n)&&(tr=null,In=Zt()+500,en(s,n));do try{fN();break}catch(W){ex(s,W)}while(!0);$d(),xl.current=S,vt=b,ns!==null?n=0:(hs=null,vs=0,n=cs)}if(n!==0){if(n===2&&(b=Xc(s),b!==0&&(m=b,n=ju(s,b))),n===1)throw l=Vo,en(s,0),Cr(s,m),Fs(s,Zt()),l;if(n===6)Cr(s,m);else{if(b=s.current.alternate,(m&30)===0&&!uN(b)&&(n=Nl(s,m),n===2&&(S=Xc(s),S!==0&&(m=S,n=ju(s,S))),n===1))throw l=Vo,en(s,0),Cr(s,m),Fs(s,Zt()),l;switch(s.finishedWork=b,s.finishedLanes=m,n){case 0:case 1:throw Error(r(345));case 2:tn(s,Is,tr);break;case 3:if(Cr(s,m),(m&130023424)===m&&(n=xu+500-Zt(),10<n)){if(Ai(s,0)!==0)break;if(b=s.suspendedLanes,(b&m)!==m){Ps(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=Cd(tn.bind(null,s,Is,tr),n);break}tn(s,Is,tr);break;case 4:if(Cr(s,m),(m&4194240)===m)break;for(n=s.eventTimes,b=-1;0<m;){var O=31-ua(m);S=1<<O,O=n[O],O>b&&(b=O),m&=~S}if(m=b,m=Zt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*dN(m/1960))-m,10<m){s.timeoutHandle=Cd(tn.bind(null,s,Is,tr),m);break}tn(s,Is,tr);break;case 5:tn(s,Is,tr);break;default:throw Error(r(329))}}}return Fs(s,Zt()),s.callbackNode===l?Xp.bind(null,s):null}function ju(s,n){var l=Ho;return s.current.memoizedState.isDehydrated&&(en(s,n).flags|=256),s=Nl(s,n),s!==2&&(n=Is,Is=l,n!==null&&yu(n)),s}function yu(s){Is===null?Is=s:Is.push.apply(Is,s)}function uN(s){for(var n=s;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var m=0;m<l.length;m++){var b=l[m],S=b.getSnapshot;b=b.value;try{if(!ma(S(),b))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cr(s,n){for(n&=~pu,n&=~gl,s.suspendedLanes|=n,s.pingedLanes&=~n,s=s.expirationTimes;0<n;){var l=31-ua(n),m=1<<l;s[l]=-1,n&=~m}}function Zp(s){if((vt&6)!==0)throw Error(r(327));Fn();var n=Ai(s,0);if((n&1)===0)return Fs(s,Zt()),null;var l=Nl(s,n);if(s.tag!==0&&l===2){var m=Xc(s);m!==0&&(n=m,l=ju(s,m))}if(l===1)throw l=Vo,en(s,0),Cr(s,n),Fs(s,Zt()),l;if(l===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=n,tn(s,Is,tr),Fs(s,Zt()),null}function bu(s,n){var l=vt;vt|=1;try{return s(n)}finally{vt=l,vt===0&&(In=Zt()+500,Ji&&vr())}}function Zr(s){Nr!==null&&Nr.tag===0&&(vt&6)===0&&Fn();var n=vt;vt|=1;var l=ra.transition,m=At;try{if(ra.transition=null,At=1,s)return s()}finally{At=m,ra.transition=l,vt=n,(vt&6)===0&&vr()}}function wu(){Ks=Ln.current,Ut(Ln)}function en(s,n){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,Bw(l)),ns!==null)for(l=ns.return;l!==null;){var m=l;switch(Ad(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ki();break;case 3:Dn(),Ut(Os),Ut(ws),Hd();break;case 5:Ud(m);break;case 4:Dn();break;case 13:Ut(Wt);break;case 19:Ut(Wt);break;case 10:Ld(m.type._context);break;case 22:case 23:wu()}l=l.return}if(hs=s,ns=s=_r(s.current,null),vs=Ks=n,cs=0,Vo=null,pu=gl=Xr=0,Is=Ho=null,Yr!==null){for(n=0;n<Yr.length;n++)if(l=Yr[n],m=l.interleaved,m!==null){l.interleaved=null;var b=m.next,S=l.pending;if(S!==null){var O=S.next;S.next=b,m.next=O}l.pending=m}Yr=null}return s}function ex(s,n){do{var l=ns;try{if($d(),ol.current=dl,il){for(var m=Gt.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}il=!1}if(Qr=0,fs=ls=Gt=null,Lo=!1,Io=0,hu.current=null,l===null||l.return===null){cs=1,Vo=n,ns=null;break}e:{var S=s,O=l.return,W=l,J=n;if(n=vs,W.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=J,ye=W,we=ye.tag;if((ye.mode&1)===0&&(we===0||we===11||we===15)){var je=ye.alternate;je?(ye.updateQueue=je.updateQueue,ye.memoizedState=je.memoizedState,ye.lanes=je.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var $e=Cp(O);if($e!==null){$e.flags&=-257,_p($e,O,W,S,n),$e.mode&1&&Sp(S,ce,n),n=$e,J=ce;var Fe=n.updateQueue;if(Fe===null){var ze=new Set;ze.add(J),n.updateQueue=ze}else Fe.add(J);break e}else{if((n&1)===0){Sp(S,ce,n),Nu();break e}J=Error(r(426))}}else if(qt&&W.mode&1){var es=Cp(O);if(es!==null){(es.flags&65536)===0&&(es.flags|=256),_p(es,O,W,S,n),Dd(On(J,W));break e}}S=J=On(J,W),cs!==4&&(cs=2),Ho===null?Ho=[S]:Ho.push(S),S=O;do{switch(S.tag){case 3:S.flags|=65536,n&=-n,S.lanes|=n;var ae=wp(S,J,n);Yh(S,ae);break e;case 1:W=J;var X=S.type,oe=S.stateNode;if((S.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(wr===null||!wr.has(oe)))){S.flags|=65536,n&=-n,S.lanes|=n;var Ce=Np(S,W,n);Yh(S,Ce);break e}}S=S.return}while(S!==null)}ax(l)}catch(Be){n=Be,ns===l&&l!==null&&(ns=l=l.return);continue}break}while(!0)}function tx(){var s=xl.current;return xl.current=dl,s===null?dl:s}function Nu(){(cs===0||cs===3||cs===2)&&(cs=4),hs===null||(Xr&268435455)===0&&(gl&268435455)===0||Cr(hs,vs)}function Nl(s,n){var l=vt;vt|=2;var m=tx();(hs!==s||vs!==n)&&(tr=null,en(s,n));do try{mN();break}catch(b){ex(s,b)}while(!0);if($d(),vt=l,xl.current=m,ns!==null)throw Error(r(261));return hs=null,vs=0,cs}function mN(){for(;ns!==null;)sx(ns)}function fN(){for(;ns!==null&&!Ib();)sx(ns)}function sx(s){var n=ox(s.alternate,s,Ks);s.memoizedProps=s.pendingProps,n===null?ax(s):ns=n,hu.current=null}function ax(s){var n=s;do{var l=n.alternate;if(s=n.return,(n.flags&32768)===0){if(l=nN(l,n,Ks),l!==null){ns=l;return}}else{if(l=oN(l,n),l!==null){l.flags&=32767,ns=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cs=6,ns=null;return}}if(n=n.sibling,n!==null){ns=n;return}ns=n=s}while(n!==null);cs===0&&(cs=5)}function tn(s,n,l){var m=At,b=ra.transition;try{ra.transition=null,At=1,hN(s,n,l,m)}finally{ra.transition=b,At=m}return null}function hN(s,n,l,m){do Fn();while(Nr!==null);if((vt&6)!==0)throw Error(r(327));l=s.finishedWork;var b=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var S=l.lanes|l.childLanes;if(Kb(s,S),s===hs&&(ns=hs=null,vs=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||jl||(jl=!0,ix(ki,function(){return Fn(),null})),S=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||S){S=ra.transition,ra.transition=null;var O=At;At=1;var W=vt;vt|=4,hu.current=null,lN(s,l),Gp(l,s),Dw(Nd),Di=!!wd,Nd=wd=null,s.current=l,cN(l),Fb(),vt=W,At=O,ra.transition=S}else s.current=l;if(jl&&(jl=!1,Nr=s,yl=b),S=s.pendingLanes,S===0&&(wr=null),Ub(l.stateNode),Fs(s,Zt()),n!==null)for(m=s.onRecoverableError,l=0;l<n.length;l++)b=n[l],m(b.value,{componentStack:b.stack,digest:b.digest});if(vl)throw vl=!1,s=gu,gu=null,s;return(yl&1)!==0&&s.tag!==0&&Fn(),S=s.pendingLanes,(S&1)!==0?s===vu?qo++:(qo=0,vu=s):qo=0,vr(),null}function Fn(){if(Nr!==null){var s=qf(yl),n=ra.transition,l=At;try{if(ra.transition=null,At=16>s?16:s,Nr===null)var m=!1;else{if(s=Nr,Nr=null,yl=0,(vt&6)!==0)throw Error(r(331));var b=vt;for(vt|=4,Le=s.current;Le!==null;){var S=Le,O=S.child;if((Le.flags&16)!==0){var W=S.deletions;if(W!==null){for(var J=0;J<W.length;J++){var ce=W[J];for(Le=ce;Le!==null;){var ye=Le;switch(ye.tag){case 0:case 11:case 15:Uo(8,ye,S)}var we=ye.child;if(we!==null)we.return=ye,Le=we;else for(;Le!==null;){ye=Le;var je=ye.sibling,$e=ye.return;if(Up(ye),ye===ce){Le=null;break}if(je!==null){je.return=$e,Le=je;break}Le=$e}}}var Fe=S.alternate;if(Fe!==null){var ze=Fe.child;if(ze!==null){Fe.child=null;do{var es=ze.sibling;ze.sibling=null,ze=es}while(ze!==null)}}Le=S}}if((S.subtreeFlags&2064)!==0&&O!==null)O.return=S,Le=O;else e:for(;Le!==null;){if(S=Le,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Uo(9,S,S.return)}var ae=S.sibling;if(ae!==null){ae.return=S.return,Le=ae;break e}Le=S.return}}var X=s.current;for(Le=X;Le!==null;){O=Le;var oe=O.child;if((O.subtreeFlags&2064)!==0&&oe!==null)oe.return=O,Le=oe;else e:for(O=X;Le!==null;){if(W=Le,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:pl(9,W)}}catch(Be){Kt(W,W.return,Be)}if(W===O){Le=null;break e}var Ce=W.sibling;if(Ce!==null){Ce.return=W.return,Le=Ce;break e}Le=W.return}}if(vt=b,vr(),_a&&typeof _a.onPostCommitFiberRoot=="function")try{_a.onPostCommitFiberRoot(Ei,s)}catch{}m=!0}return m}finally{At=l,ra.transition=n}}return!1}function rx(s,n,l){n=On(l,n),n=wp(s,n,1),s=yr(s,n,1),n=Ps(),s!==null&&(po(s,1,n),Fs(s,n))}function Kt(s,n,l){if(s.tag===3)rx(s,s,l);else for(;n!==null;){if(n.tag===3){rx(n,s,l);break}else if(n.tag===1){var m=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(wr===null||!wr.has(m))){s=On(l,s),s=Np(n,s,1),n=yr(n,s,1),s=Ps(),n!==null&&(po(n,1,s),Fs(n,s));break}}n=n.return}}function pN(s,n,l){var m=s.pingCache;m!==null&&m.delete(n),n=Ps(),s.pingedLanes|=s.suspendedLanes&l,hs===s&&(vs&l)===l&&(cs===4||cs===3&&(vs&130023424)===vs&&500>Zt()-xu?en(s,0):pu|=l),Fs(s,n)}function nx(s,n){n===0&&((s.mode&1)===0?n=1:(n=Pi,Pi<<=1,(Pi&130023424)===0&&(Pi=4194304)));var l=Ps();s=Xa(s,n),s!==null&&(po(s,n,l),Fs(s,l))}function xN(s){var n=s.memoizedState,l=0;n!==null&&(l=n.retryLane),nx(s,l)}function gN(s,n){var l=0;switch(s.tag){case 13:var m=s.stateNode,b=s.memoizedState;b!==null&&(l=b.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(n),nx(s,l)}var ox;ox=function(s,n,l){if(s!==null)if(s.memoizedProps!==n.pendingProps||Os.current)Ls=!0;else{if((s.lanes&l)===0&&(n.flags&128)===0)return Ls=!1,rN(s,n,l);Ls=(s.flags&131072)!==0}else Ls=!1,qt&&(n.flags&1048576)!==0&&Fh(n,Xi,n.index);switch(n.lanes=0,n.tag){case 2:var m=n.type;fl(s,n),s=n.pendingProps;var b=kn(n,ws.current);Mn(n,l),b=Gd(null,n,m,s,b,l);var S=Kd();return n.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,$s(m)?(S=!0,Yi(n)):S=!1,n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,zd(n),b.updater=ul,n.stateNode=b,b._reactInternals=n,eu(n,m,s,l),n=ru(null,n,m,!0,S,l)):(n.tag=0,qt&&S&&Pd(n),Rs(null,n,b,l),n=n.child),n;case 16:m=n.elementType;e:{switch(fl(s,n),s=n.pendingProps,b=m._init,m=b(m._payload),n.type=m,b=n.tag=jN(m),s=ha(m,s),b){case 0:n=au(null,n,m,s,l);break e;case 1:n=Tp(null,n,m,s,l);break e;case 11:n=kp(null,n,m,s,l);break e;case 14:n=Ep(null,n,m,ha(m.type,s),l);break e}throw Error(r(306,m,""))}return n;case 0:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:ha(m,b),au(s,n,m,b,l);case 1:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:ha(m,b),Tp(s,n,m,b,l);case 3:e:{if(Mp(n),s===null)throw Error(r(387));m=n.pendingProps,S=n.memoizedState,b=S.element,Kh(s,n),rl(n,m,null,l);var O=n.memoizedState;if(m=O.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},n.updateQueue.baseState=S,n.memoizedState=S,n.flags&256){b=On(Error(r(423)),n),n=Dp(s,n,m,l,b);break e}else if(m!==b){b=On(Error(r(424)),n),n=Dp(s,n,m,l,b);break e}else for(Gs=pr(n.stateNode.containerInfo.firstChild),Ws=n,qt=!0,fa=null,l=Wh(n,null,m,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Pn(),m===b){n=er(s,n,l);break e}Rs(s,n,m,l)}n=n.child}return n;case 5:return Qh(n),s===null&&Md(n),m=n.type,b=n.pendingProps,S=s!==null?s.memoizedProps:null,O=b.children,Sd(m,b)?O=null:S!==null&&Sd(m,S)&&(n.flags|=32),Ap(s,n),Rs(s,n,O,l),n.child;case 6:return s===null&&Md(n),null;case 13:return Op(s,n,l);case 4:return Bd(n,n.stateNode.containerInfo),m=n.pendingProps,s===null?n.child=An(n,null,m,l):Rs(s,n,m,l),n.child;case 11:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:ha(m,b),kp(s,n,m,b,l);case 7:return Rs(s,n,n.pendingProps,l),n.child;case 8:return Rs(s,n,n.pendingProps.children,l),n.child;case 12:return Rs(s,n,n.pendingProps.children,l),n.child;case 10:e:{if(m=n.type._context,b=n.pendingProps,S=n.memoizedProps,O=b.value,Ft(tl,m._currentValue),m._currentValue=O,S!==null)if(ma(S.value,O)){if(S.children===b.children&&!Os.current){n=er(s,n,l);break e}}else for(S=n.child,S!==null&&(S.return=n);S!==null;){var W=S.dependencies;if(W!==null){O=S.child;for(var J=W.firstContext;J!==null;){if(J.context===m){if(S.tag===1){J=Za(-1,l&-l),J.tag=2;var ce=S.updateQueue;if(ce!==null){ce=ce.shared;var ye=ce.pending;ye===null?J.next=J:(J.next=ye.next,ye.next=J),ce.pending=J}}S.lanes|=l,J=S.alternate,J!==null&&(J.lanes|=l),Id(S.return,l,n),W.lanes|=l;break}J=J.next}}else if(S.tag===10)O=S.type===n.type?null:S.child;else if(S.tag===18){if(O=S.return,O===null)throw Error(r(341));O.lanes|=l,W=O.alternate,W!==null&&(W.lanes|=l),Id(O,l,n),O=S.sibling}else O=S.child;if(O!==null)O.return=S;else for(O=S;O!==null;){if(O===n){O=null;break}if(S=O.sibling,S!==null){S.return=O.return,O=S;break}O=O.return}S=O}Rs(s,n,b.children,l),n=n.child}return n;case 9:return b=n.type,m=n.pendingProps.children,Mn(n,l),b=sa(b),m=m(b),n.flags|=1,Rs(s,n,m,l),n.child;case 14:return m=n.type,b=ha(m,n.pendingProps),b=ha(m.type,b),Ep(s,n,m,b,l);case 15:return Rp(s,n,n.type,n.pendingProps,l);case 17:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:ha(m,b),fl(s,n),n.tag=1,$s(m)?(s=!0,Yi(n)):s=!1,Mn(n,l),yp(n,m,b),eu(n,m,b,l),ru(null,n,m,!0,s,l);case 19:return Lp(s,n,l);case 22:return Pp(s,n,l)}throw Error(r(156,n.tag))};function ix(s,n){return zf(s,n)}function vN(s,n,l,m){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(s,n,l,m){return new vN(s,n,l,m)}function Su(s){return s=s.prototype,!(!s||!s.isReactComponent)}function jN(s){if(typeof s=="function")return Su(s)?1:0;if(s!=null){if(s=s.$$typeof,s===K)return 11;if(s===G)return 14}return 2}function _r(s,n){var l=s.alternate;return l===null?(l=na(s.tag,n,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=n,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,n=s.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Sl(s,n,l,m,b,S){var O=2;if(m=s,typeof s=="function")Su(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case T:return sn(l.children,b,S,n);case R:O=8,b|=8;break;case I:return s=na(12,l,n,b|2),s.elementType=I,s.lanes=S,s;case z:return s=na(13,l,n,b),s.elementType=z,s.lanes=S,s;case D:return s=na(19,l,n,b),s.elementType=D,s.lanes=S,s;case H:return Cl(l,b,S,n);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:O=10;break e;case U:O=9;break e;case K:O=11;break e;case G:O=14;break e;case $:O=16,m=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return n=na(O,l,n,b),n.elementType=s,n.type=m,n.lanes=S,n}function sn(s,n,l,m){return s=na(7,s,m,n),s.lanes=l,s}function Cl(s,n,l,m){return s=na(22,s,m,n),s.elementType=H,s.lanes=l,s.stateNode={isHidden:!1},s}function Cu(s,n,l){return s=na(6,s,null,n),s.lanes=l,s}function _u(s,n,l){return n=na(4,s.children!==null?s.children:[],s.key,n),n.lanes=l,n.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},n}function yN(s,n,l,m,b){this.tag=n,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function ku(s,n,l,m,b,S,O,W,J){return s=new yN(s,n,l,W,J),n===1?(n=1,S===!0&&(n|=8)):n=0,S=na(3,null,null,n),s.current=S,S.stateNode=s,S.memoizedState={element:m,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},zd(S),s}function bN(s,n,l){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:m==null?null:""+m,children:s,containerInfo:n,implementation:l}}function lx(s){if(!s)return gr;s=s._reactInternals;e:{if(Hr(s)!==s||s.tag!==1)throw Error(r(170));var n=s;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if($s(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(s.tag===1){var l=s.type;if($s(l))return $h(s,l,n)}return n}function cx(s,n,l,m,b,S,O,W,J){return s=ku(l,m,!0,s,b,S,O,W,J),s.context=lx(null),l=s.current,m=Ps(),b=Sr(l),S=Za(m,b),S.callback=n??null,yr(l,S,b),s.current.lanes=b,po(s,b,m),Fs(s,m),s}function _l(s,n,l,m){var b=n.current,S=Ps(),O=Sr(b);return l=lx(l),n.context===null?n.context=l:n.pendingContext=l,n=Za(S,O),n.payload={element:s},m=m===void 0?null:m,m!==null&&(n.callback=m),s=yr(b,n,O),s!==null&&(ga(s,b,O,S),al(s,b,O)),O}function kl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function dx(s,n){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<n?l:n}}function Eu(s,n){dx(s,n),(s=s.alternate)&&dx(s,n)}function wN(){return null}var ux=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ru(s){this._internalRoot=s}El.prototype.render=Ru.prototype.render=function(s){var n=this._internalRoot;if(n===null)throw Error(r(409));_l(s,n,null,null)},El.prototype.unmount=Ru.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var n=s.containerInfo;Zr(function(){_l(null,s,null,null)}),n[Ka]=null}};function El(s){this._internalRoot=s}El.prototype.unstable_scheduleHydration=function(s){if(s){var n=Kf();s={blockedOn:null,target:s,priority:n};for(var l=0;l<mr.length&&n!==0&&n<mr[l].priority;l++);mr.splice(l,0,s),l===0&&Qf(s)}};function Pu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Rl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function mx(){}function NN(s,n,l,m,b){if(b){if(typeof m=="function"){var S=m;m=function(){var ce=kl(O);S.call(ce)}}var O=cx(n,m,s,0,null,!1,!1,"",mx);return s._reactRootContainer=O,s[Ka]=O.current,Ro(s.nodeType===8?s.parentNode:s),Zr(),O}for(;b=s.lastChild;)s.removeChild(b);if(typeof m=="function"){var W=m;m=function(){var ce=kl(J);W.call(ce)}}var J=ku(s,0,!1,null,null,!1,!1,"",mx);return s._reactRootContainer=J,s[Ka]=J.current,Ro(s.nodeType===8?s.parentNode:s),Zr(function(){_l(n,J,l,m)}),J}function Pl(s,n,l,m,b){var S=l._reactRootContainer;if(S){var O=S;if(typeof b=="function"){var W=b;b=function(){var J=kl(O);W.call(J)}}_l(n,O,s,b)}else O=NN(l,n,s,b,m);return kl(O)}Wf=function(s){switch(s.tag){case 3:var n=s.stateNode;if(n.current.memoizedState.isDehydrated){var l=ho(n.pendingLanes);l!==0&&(ed(n,l|1),Fs(n,Zt()),(vt&6)===0&&(In=Zt()+500,vr()))}break;case 13:Zr(function(){var m=Xa(s,1);if(m!==null){var b=Ps();ga(m,s,1,b)}}),Eu(s,1)}},td=function(s){if(s.tag===13){var n=Xa(s,134217728);if(n!==null){var l=Ps();ga(n,s,134217728,l)}Eu(s,134217728)}},Gf=function(s){if(s.tag===13){var n=Sr(s),l=Xa(s,n);if(l!==null){var m=Ps();ga(l,s,n,m)}Eu(s,n)}},Kf=function(){return At},Yf=function(s,n){var l=At;try{return At=s,n()}finally{At=l}},Oe=function(s,n,l){switch(n){case"input":if(It(s,l),n=l.name,l.type==="radio"&&n!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var m=l[n];if(m!==s&&m.form===s.form){var b=Gi(m);if(!b)throw Error(r(90));Me(m),It(m,b)}}}break;case"textarea":Ee(s,l);break;case"select":n=l.value,n!=null&&he(s,!!l.multiple,n,!1)}},ir=bu,_e=Zr;var SN={usingClientEntryPoint:!1,Events:[To,Cn,Gi,Ca,or,bu]},Wo={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CN={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=If(s),s===null?null:s.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||wN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{Ei=Al.inject(CN),_a=Al}catch{}}return zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SN,zs.createPortal=function(s,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(n))throw Error(r(200));return bN(s,n,null,l)},zs.createRoot=function(s,n){if(!Pu(s))throw Error(r(299));var l=!1,m="",b=ux;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(m=n.identifierPrefix),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=ku(s,1,!1,null,null,l,!1,m,b),s[Ka]=n.current,Ro(s.nodeType===8?s.parentNode:s),new Ru(n)},zs.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var n=s._reactInternals;if(n===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=If(n),s=s===null?null:s.stateNode,s},zs.flushSync=function(s){return Zr(s)},zs.hydrate=function(s,n,l){if(!Rl(n))throw Error(r(200));return Pl(null,s,n,!0,l)},zs.hydrateRoot=function(s,n,l){if(!Pu(s))throw Error(r(405));var m=l!=null&&l.hydratedSources||null,b=!1,S="",O=ux;if(l!=null&&(l.unstable_strictMode===!0&&(b=!0),l.identifierPrefix!==void 0&&(S=l.identifierPrefix),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),n=cx(n,null,s,1,l??null,b,!1,S,O),s[Ka]=n.current,Ro(s),m)for(s=0;s<m.length;s++)l=m[s],b=l._getVersion,b=b(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,b]:n.mutableSourceEagerHydrationData.push(l,b);return new El(n)},zs.render=function(s,n,l){if(!Rl(n))throw Error(r(200));return Pl(null,s,n,!1,l)},zs.unmountComponentAtNode=function(s){if(!Rl(s))throw Error(r(40));return s._reactRootContainer?(Zr(function(){Pl(null,null,s,!1,function(){s._reactRootContainer=null,s[Ka]=null})}),!0):!1},zs.unstable_batchedUpdates=bu,zs.unstable_renderSubtreeIntoContainer=function(s,n,l,m){if(!Rl(l))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Pl(s,n,l,!1,m)},zs.version="18.3.1-next-f1338f8080-20240426",zs}var yx;function Ug(){if(yx)return Mu.exports;yx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Mu.exports=MN(),Mu.exports}var bx;function DN(){if(bx)return Tl;bx=1;var t=Ug();return Tl.createRoot=t.createRoot,Tl.hydrateRoot=t.hydrateRoot,Tl}var ON=DN(),x=hc();const Pr=Bg(x),Um=kN({__proto__:null,default:Pr},[x]);var Qn=Ug();const $N=Bg(Qn);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ei(){return ei=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ei.apply(this,arguments)}var Tr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tr||(Tr={}));const wx="popstate";function LN(t){t===void 0&&(t={});function a(o,i){let{pathname:c,search:d,hash:p}=o.location;return lm("",{pathname:c,search:d,hash:p},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(o,i){return typeof i=="string"?i:Xl(i)}return FN(a,r,null,t)}function ts(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Vg(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function IN(){return Math.random().toString(36).substr(2,8)}function Nx(t,a){return{usr:t.state,key:t.key,idx:a}}function lm(t,a,r,o){return r===void 0&&(r=null),ei({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof a=="string"?Xn(a):a,{state:r,key:a&&a.key||o||IN()})}function Xl(t){let{pathname:a="/",search:r="",hash:o=""}=t;return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(a+=o.charAt(0)==="#"?o:"#"+o),a}function Xn(t){let a={};if(t){let r=t.indexOf("#");r>=0&&(a.hash=t.substr(r),t=t.substr(0,r));let o=t.indexOf("?");o>=0&&(a.search=t.substr(o),t=t.substr(0,o)),t&&(a.pathname=t)}return a}function FN(t,a,r,o){o===void 0&&(o={});let{window:i=document.defaultView,v5Compat:c=!1}=o,d=i.history,p=Tr.Pop,u=null,g=f();g==null&&(g=0,d.replaceState(ei({},d.state,{idx:g}),""));function f(){return(d.state||{idx:null}).idx}function h(){p=Tr.Pop;let N=f(),P=N==null?null:N-g;g=N,u&&u({action:p,location:j.location,delta:P})}function v(N,P){p=Tr.Push;let C=lm(j.location,N,P);g=f()+1;let _=Nx(C,g),E=j.createHref(C);try{d.pushState(_,"",E)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(E)}c&&u&&u({action:p,location:j.location,delta:1})}function w(N,P){p=Tr.Replace;let C=lm(j.location,N,P);g=f();let _=Nx(C,g),E=j.createHref(C);d.replaceState(_,"",E),c&&u&&u({action:p,location:j.location,delta:0})}function y(N){let P=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof N=="string"?N:Xl(N);return C=C.replace(/ $/,"%20"),ts(P,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,P)}let j={get action(){return p},get location(){return t(i,d)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(wx,h),u=N,()=>{i.removeEventListener(wx,h),u=null}},createHref(N){return a(i,N)},createURL:y,encodeLocation(N){let P=y(N);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:w,go(N){return d.go(N)}};return j}var Sx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sx||(Sx={}));function zN(t,a,r){return r===void 0&&(r="/"),BN(t,a,r)}function BN(t,a,r,o){let i=typeof a=="string"?Xn(a):a,c=Vm(i.pathname||"/",r);if(c==null)return null;let d=Hg(t);UN(d);let p=null;for(let u=0;p==null&&u<d.length;++u){let g=e1(c);p=QN(d[u],g)}return p}function Hg(t,a,r,o){a===void 0&&(a=[]),r===void 0&&(r=[]),o===void 0&&(o="");let i=(c,d,p)=>{let u={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};u.relativePath.startsWith("/")&&(ts(u.relativePath.startsWith(o),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(o.length));let g=Dr([o,u.relativePath]),f=r.concat(u);c.children&&c.children.length>0&&(ts(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Hg(c.children,a,f,g)),!(c.path==null&&!c.index)&&a.push({path:g,score:YN(g,c.index),routesMeta:f})};return t.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))i(c,d);else for(let u of qg(c.path))i(c,d,u)}),a}function qg(t){let a=t.split("/");if(a.length===0)return[];let[r,...o]=a,i=r.endsWith("?"),c=r.replace(/\?$/,"");if(o.length===0)return i?[c,""]:[c];let d=qg(o.join("/")),p=[];return p.push(...d.map(u=>u===""?c:[c,u].join("/"))),i&&p.push(...d),p.map(u=>t.startsWith("/")&&u===""?"/":u)}function UN(t){t.sort((a,r)=>a.score!==r.score?r.score-a.score:JN(a.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const VN=/^:[\w-]+$/,HN=3,qN=2,WN=1,GN=10,KN=-2,Cx=t=>t==="*";function YN(t,a){let r=t.split("/"),o=r.length;return r.some(Cx)&&(o+=KN),a&&(o+=qN),r.filter(i=>!Cx(i)).reduce((i,c)=>i+(VN.test(c)?HN:c===""?WN:GN),o)}function JN(t,a){return t.length===a.length&&t.slice(0,-1).every((o,i)=>o===a[i])?t[t.length-1]-a[a.length-1]:0}function QN(t,a,r){let{routesMeta:o}=t,i={},c="/",d=[];for(let p=0;p<o.length;++p){let u=o[p],g=p===o.length-1,f=c==="/"?a:a.slice(c.length)||"/",h=XN({path:u.relativePath,caseSensitive:u.caseSensitive,end:g},f),v=u.route;if(!h)return null;Object.assign(i,h.params),d.push({params:i,pathname:Dr([c,h.pathname]),pathnameBase:r1(Dr([c,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(c=Dr([c,h.pathnameBase]))}return d}function XN(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=ZN(t.path,t.caseSensitive,t.end),i=a.match(r);if(!i)return null;let c=i[0],d=c.replace(/(.)\/+$/,"$1"),p=i.slice(1);return{params:o.reduce((g,f,h)=>{let{paramName:v,isOptional:w}=f;if(v==="*"){let j=p[h]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const y=p[h];return w&&!y?g[v]=void 0:g[v]=(y||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:t}}function ZN(t,a,r){a===void 0&&(a=!1),r===void 0&&(r=!0),Vg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,u)=>(o.push({paramName:p,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,a?void 0:"i"),o]}function e1(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Vg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),t}}function Vm(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}function t1(t,a){a===void 0&&(a="/");let{pathname:r,search:o="",hash:i=""}=typeof t=="string"?Xn(t):t;return{pathname:r?r.startsWith("/")?r:s1(r,a):a,search:n1(o),hash:o1(i)}}function s1(t,a){let r=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $u(t,a,r,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a1(t){return t.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function Hm(t,a){let r=a1(t);return a?r.map((o,i)=>i===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function qm(t,a,r,o){o===void 0&&(o=!1);let i;typeof t=="string"?i=Xn(t):(i=ei({},t),ts(!i.pathname||!i.pathname.includes("?"),$u("?","pathname","search",i)),ts(!i.pathname||!i.pathname.includes("#"),$u("#","pathname","hash",i)),ts(!i.search||!i.search.includes("#"),$u("#","search","hash",i)));let c=t===""||i.pathname==="",d=c?"/":i.pathname,p;if(d==null)p=r;else{let h=a.length-1;if(!o&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),h-=1;i.pathname=v.join("/")}p=h>=0?a[h]:"/"}let u=t1(i,p),g=d&&d!=="/"&&d.endsWith("/"),f=(c||d===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(g||f)&&(u.pathname+="/"),u}const Dr=t=>t.join("/").replace(/\/\/+/g,"/"),r1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Wg=["post","put","patch","delete"];new Set(Wg);const l1=["get",...Wg];new Set(l1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ti(){return ti=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ti.apply(this,arguments)}const Wm=x.createContext(null),c1=x.createContext(null),Br=x.createContext(null),pc=x.createContext(null),Fa=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Gg=x.createContext(null);function d1(t,a){let{relative:r}=a===void 0?{}:a;Zn()||ts(!1);let{basename:o,navigator:i}=x.useContext(Br),{hash:c,pathname:d,search:p}=Yg(t,{relative:r}),u=d;return o!=="/"&&(u=d==="/"?o:Dr([o,d])),i.createHref({pathname:u,search:p,hash:c})}function Zn(){return x.useContext(pc)!=null}function us(){return Zn()||ts(!1),x.useContext(pc).location}function Kg(t){x.useContext(Br).static||x.useLayoutEffect(t)}function Ts(){let{isDataRoute:t}=x.useContext(Fa);return t?C1():u1()}function u1(){Zn()||ts(!1);let t=x.useContext(Wm),{basename:a,future:r,navigator:o}=x.useContext(Br),{matches:i}=x.useContext(Fa),{pathname:c}=us(),d=JSON.stringify(Hm(i,r.v7_relativeSplatPath)),p=x.useRef(!1);return Kg(()=>{p.current=!0}),x.useCallback(function(g,f){if(f===void 0&&(f={}),!p.current)return;if(typeof g=="number"){o.go(g);return}let h=qm(g,JSON.parse(d),c,f.relative==="path");t==null&&a!=="/"&&(h.pathname=h.pathname==="/"?a:Dr([a,h.pathname])),(f.replace?o.replace:o.push)(h,f.state,f)},[a,o,d,c,t])}const m1=x.createContext(null);function f1(t){let a=x.useContext(Fa).outlet;return a&&x.createElement(m1.Provider,{value:t},a)}function eo(){let{matches:t}=x.useContext(Fa),a=t[t.length-1];return a?a.params:{}}function Yg(t,a){let{relative:r}=a===void 0?{}:a,{future:o}=x.useContext(Br),{matches:i}=x.useContext(Fa),{pathname:c}=us(),d=JSON.stringify(Hm(i,o.v7_relativeSplatPath));return x.useMemo(()=>qm(t,JSON.parse(d),c,r==="path"),[t,d,c,r])}function h1(t,a){return p1(t,a)}function p1(t,a,r,o){Zn()||ts(!1);let{navigator:i}=x.useContext(Br),{matches:c}=x.useContext(Fa),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let u=d?d.pathnameBase:"/";d&&d.route;let g=us(),f;if(a){var h;let N=typeof a=="string"?Xn(a):a;u==="/"||(h=N.pathname)!=null&&h.startsWith(u)||ts(!1),f=N}else f=g;let v=f.pathname||"/",w=v;if(u!=="/"){let N=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let y=zN(t,{pathname:w}),j=y1(y&&y.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:Dr([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Dr([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,r,o);return a&&j?x.createElement(pc.Provider,{value:{location:ti({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Tr.Pop}},j):j}function x1(){let t=S1(),a=i1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},a),r?x.createElement("pre",{style:i},r):null,null)}const g1=x.createElement(x1,null);class v1 extends x.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){console.error("React Router caught the following error during render",a,r)}render(){return this.state.error!==void 0?x.createElement(Fa.Provider,{value:this.props.routeContext},x.createElement(Gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j1(t){let{routeContext:a,match:r,children:o}=t,i=x.useContext(Wm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Fa.Provider,{value:a},o)}function y1(t,a,r,o){var i;if(a===void 0&&(a=[]),r===void 0&&(r=null),o===void 0&&(o=null),t==null){var c;if(!r)return null;if(r.errors)t=r.matches;else if((c=o)!=null&&c.v7_partialHydration&&a.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let d=t,p=(i=r)==null?void 0:i.errors;if(p!=null){let f=d.findIndex(h=>h.route.id&&(p==null?void 0:p[h.route.id])!==void 0);f>=0||ts(!1),d=d.slice(0,Math.min(d.length,f+1))}let u=!1,g=-1;if(r&&o&&o.v7_partialHydration)for(let f=0;f<d.length;f++){let h=d[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(g=f),h.route.id){let{loaderData:v,errors:w}=r,y=h.route.loader&&v[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||y){u=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((f,h,v)=>{let w,y=!1,j=null,N=null;r&&(w=p&&h.route.id?p[h.route.id]:void 0,j=h.route.errorElement||g1,u&&(g<0&&v===0?(_1("route-fallback"),y=!0,N=null):g===v&&(y=!0,N=h.route.hydrateFallbackElement||null)));let P=a.concat(d.slice(0,v+1)),C=()=>{let _;return w?_=j:y?_=N:h.route.Component?_=x.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,x.createElement(j1,{match:h,routeContext:{outlet:f,matches:P,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?x.createElement(v1,{location:r.location,revalidation:r.revalidation,component:j,error:w,children:C(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):C()},null)}var Jg=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Jg||{}),Qg=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Qg||{});function b1(t){let a=x.useContext(Wm);return a||ts(!1),a}function w1(t){let a=x.useContext(c1);return a||ts(!1),a}function N1(t){let a=x.useContext(Fa);return a||ts(!1),a}function Xg(t){let a=N1(),r=a.matches[a.matches.length-1];return r.route.id||ts(!1),r.route.id}function S1(){var t;let a=x.useContext(Gg),r=w1(),o=Xg();return a!==void 0?a:(t=r.errors)==null?void 0:t[o]}function C1(){let{router:t}=b1(Jg.UseNavigateStable),a=Xg(Qg.UseNavigateStable),r=x.useRef(!1);return Kg(()=>{r.current=!0}),x.useCallback(function(i,c){c===void 0&&(c={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ti({fromRouteId:a},c)))},[t,a])}const _x={};function _1(t,a,r){_x[t]||(_x[t]=!0)}function k1(t,a){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Lt(t){let{to:a,replace:r,state:o,relative:i}=t;Zn()||ts(!1);let{future:c,static:d}=x.useContext(Br),{matches:p}=x.useContext(Fa),{pathname:u}=us(),g=Ts(),f=qm(a,Hm(p,c.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(f);return x.useEffect(()=>g(JSON.parse(h),{replace:r,state:o,relative:i}),[g,h,i,r,o]),null}function di(t){return f1(t.context)}function Ue(t){ts(!1)}function E1(t){let{basename:a="/",children:r=null,location:o,navigationType:i=Tr.Pop,navigator:c,static:d=!1,future:p}=t;Zn()&&ts(!1);let u=a.replace(/^\/*/,"/"),g=x.useMemo(()=>({basename:u,navigator:c,static:d,future:ti({v7_relativeSplatPath:!1},p)}),[u,p,c,d]);typeof o=="string"&&(o=Xn(o));let{pathname:f="/",search:h="",hash:v="",state:w=null,key:y="default"}=o,j=x.useMemo(()=>{let N=Vm(f,u);return N==null?null:{location:{pathname:N,search:h,hash:v,state:w,key:y},navigationType:i}},[u,f,h,v,w,y,i]);return j==null?null:x.createElement(Br.Provider,{value:g},x.createElement(pc.Provider,{children:r,value:j}))}function R1(t){let{children:a,location:r}=t;return h1(cm(a),r)}new Promise(()=>{});function cm(t,a){a===void 0&&(a=[]);let r=[];return x.Children.forEach(t,(o,i)=>{if(!x.isValidElement(o))return;let c=[...a,i];if(o.type===x.Fragment){r.push.apply(r,cm(o.props.children,c));return}o.type!==Ue&&ts(!1),!o.props.index||!o.props.children||ts(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=cm(o.props.children,c)),r.push(d)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},dm.apply(this,arguments)}function P1(t,a){if(t==null)return{};var r={},o=Object.keys(t),i,c;for(c=0;c<o.length;c++)i=o[c],!(a.indexOf(i)>=0)&&(r[i]=t[i]);return r}function A1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function T1(t,a){return t.button===0&&(!a||a==="_self")&&!A1(t)}function um(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,r)=>{let o=t[r];return a.concat(Array.isArray(o)?o.map(i=>[r,i]):[[r,o]])},[]))}function M1(t,a){let r=um(t);return a&&a.forEach((o,i)=>{r.has(i)||a.getAll(i).forEach(c=>{r.append(i,c)})}),r}const D1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O1="6";try{window.__reactRouterVersion=O1}catch{}const $1="startTransition",kx=Um[$1];function L1(t){let{basename:a,children:r,future:o,window:i}=t,c=x.useRef();c.current==null&&(c.current=LN({window:i,v5Compat:!0}));let d=c.current,[p,u]=x.useState({action:d.action,location:d.location}),{v7_startTransition:g}=o||{},f=x.useCallback(h=>{g&&kx?kx(()=>u(h)):u(h)},[u,g]);return x.useLayoutEffect(()=>d.listen(f),[d,f]),x.useEffect(()=>k1(o),[o]),x.createElement(E1,{basename:a,children:r,location:p.location,navigationType:p.action,navigator:d,future:o})}const I1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=x.forwardRef(function(a,r){let{onClick:o,relative:i,reloadDocument:c,replace:d,state:p,target:u,to:g,preventScrollReset:f,viewTransition:h}=a,v=P1(a,D1),{basename:w}=x.useContext(Br),y,j=!1;if(typeof g=="string"&&F1.test(g)&&(y=g,I1))try{let _=new URL(window.location.href),E=g.startsWith("//")?new URL(_.protocol+g):new URL(g),k=Vm(E.pathname,w);E.origin===_.origin&&k!=null?g=k+E.search+E.hash:j=!0}catch{}let N=d1(g,{relative:i}),P=z1(g,{replace:d,state:p,target:u,preventScrollReset:f,relative:i,viewTransition:h});function C(_){o&&o(_),_.defaultPrevented||P(_)}return x.createElement("a",dm({},v,{href:y||N,onClick:j||c?o:C,ref:r,target:u}))});var Ex;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ex||(Ex={}));var Rx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rx||(Rx={}));function z1(t,a){let{target:r,replace:o,state:i,preventScrollReset:c,relative:d,viewTransition:p}=a===void 0?{}:a,u=Ts(),g=us(),f=Yg(t,{relative:d});return x.useCallback(h=>{if(T1(h,r)){h.preventDefault();let v=o!==void 0?o:Xl(g)===Xl(f);u(t,{replace:v,state:i,preventScrollReset:c,relative:d,viewTransition:p})}},[g,u,f,o,i,r,t,c,d,p])}function B1(t){let a=x.useRef(um(t)),r=x.useRef(!1),o=us(),i=x.useMemo(()=>M1(o.search,r.current?null:a.current),[o.search]),c=Ts(),d=x.useCallback((p,u)=>{const g=um(typeof p=="function"?p(i):p);r.current=!0,c("?"+g,u)},[c,i]);return[i,d]}const U1="modulepreload",V1=function(t){return"/"+t},Px={},si=function(a,r,o){let i=Promise.resolve();if(r&&r.length>0){let d=function(g){return Promise.all(g.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),u=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));i=d(r.map(g=>{if(g=V1(g),g in Px)return;Px[g]=!0;const f=g.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${h}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":U1,f||(v.as="script"),v.crossOrigin="",v.href=g,u&&v.setAttribute("nonce",u),document.head.appendChild(v),f)return new Promise((w,y)=>{v.addEventListener("load",w),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return i.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return a().catch(c)})};function Zg(t,a){return function(){return t.apply(a,arguments)}}const{toString:H1}=Object.prototype,{getPrototypeOf:Gm}=Object,{iterator:xc,toStringTag:e0}=Symbol,gc=(t=>a=>{const r=H1.call(a);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Na=t=>(t=t.toLowerCase(),a=>gc(a)===t),vc=t=>a=>typeof a===t,{isArray:to}=Array,Gn=vc("undefined");function ui(t){return t!==null&&!Gn(t)&&t.constructor!==null&&!Gn(t.constructor)&&Us(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const t0=Na("ArrayBuffer");function q1(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&t0(t.buffer),a}const W1=vc("string"),Us=vc("function"),s0=vc("number"),mi=t=>t!==null&&typeof t=="object",G1=t=>t===!0||t===!1,Vl=t=>{if(gc(t)!=="object")return!1;const a=Gm(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(e0 in t)&&!(xc in t)},K1=t=>{if(!mi(t)||ui(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Y1=Na("Date"),J1=Na("File"),Q1=Na("Blob"),X1=Na("FileList"),Z1=t=>mi(t)&&Us(t.pipe),e2=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||Us(t.append)&&((a=gc(t))==="formdata"||a==="object"&&Us(t.toString)&&t.toString()==="[object FormData]"))},t2=Na("URLSearchParams"),[s2,a2,r2,n2]=["ReadableStream","Request","Response","Headers"].map(Na),o2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fi(t,a,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,i;if(typeof t!="object"&&(t=[t]),to(t))for(o=0,i=t.length;o<i;o++)a.call(null,t[o],o,t);else{if(ui(t))return;const c=r?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let p;for(o=0;o<d;o++)p=c[o],a.call(null,t[p],p,t)}}function a0(t,a){if(ui(t))return null;a=a.toLowerCase();const r=Object.keys(t);let o=r.length,i;for(;o-- >0;)if(i=r[o],a===i.toLowerCase())return i;return null}const rn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,r0=t=>!Gn(t)&&t!==rn;function mm(){const{caseless:t,skipUndefined:a}=r0(this)&&this||{},r={},o=(i,c)=>{const d=t&&a0(r,c)||c;Vl(r[d])&&Vl(i)?r[d]=mm(r[d],i):Vl(i)?r[d]=mm({},i):to(i)?r[d]=i.slice():(!a||!Gn(i))&&(r[d]=i)};for(let i=0,c=arguments.length;i<c;i++)arguments[i]&&fi(arguments[i],o);return r}const i2=(t,a,r,{allOwnKeys:o}={})=>(fi(a,(i,c)=>{r&&Us(i)?t[c]=Zg(i,r):t[c]=i},{allOwnKeys:o}),t),l2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),c2=(t,a,r,o)=>{t.prototype=Object.create(a.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),r&&Object.assign(t.prototype,r)},d2=(t,a,r,o)=>{let i,c,d;const p={};if(a=a||{},t==null)return a;do{for(i=Object.getOwnPropertyNames(t),c=i.length;c-- >0;)d=i[c],(!o||o(d,t,a))&&!p[d]&&(a[d]=t[d],p[d]=!0);t=r!==!1&&Gm(t)}while(t&&(!r||r(t,a))&&t!==Object.prototype);return a},u2=(t,a,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=a.length;const o=t.indexOf(a,r);return o!==-1&&o===r},m2=t=>{if(!t)return null;if(to(t))return t;let a=t.length;if(!s0(a))return null;const r=new Array(a);for(;a-- >0;)r[a]=t[a];return r},f2=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&Gm(Uint8Array)),h2=(t,a)=>{const o=(t&&t[xc]).call(t);let i;for(;(i=o.next())&&!i.done;){const c=i.value;a.call(t,c[0],c[1])}},p2=(t,a)=>{let r;const o=[];for(;(r=t.exec(a))!==null;)o.push(r);return o},x2=Na("HTMLFormElement"),g2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,i){return o.toUpperCase()+i}),Ax=(({hasOwnProperty:t})=>(a,r)=>t.call(a,r))(Object.prototype),v2=Na("RegExp"),n0=(t,a)=>{const r=Object.getOwnPropertyDescriptors(t),o={};fi(r,(i,c)=>{let d;(d=a(i,c,t))!==!1&&(o[c]=d||i)}),Object.defineProperties(t,o)},j2=t=>{n0(t,(a,r)=>{if(Us(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(Us(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},y2=(t,a)=>{const r={},o=i=>{i.forEach(c=>{r[c]=!0})};return to(t)?o(t):o(String(t).split(a)),r},b2=()=>{},w2=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function N2(t){return!!(t&&Us(t.append)&&t[e0]==="FormData"&&t[xc])}const S2=t=>{const a=new Array(10),r=(o,i)=>{if(mi(o)){if(a.indexOf(o)>=0)return;if(ui(o))return o;if(!("toJSON"in o)){a[i]=o;const c=to(o)?[]:{};return fi(o,(d,p)=>{const u=r(d,i+1);!Gn(u)&&(c[p]=u)}),a[i]=void 0,c}}return o};return r(t,0)},C2=Na("AsyncFunction"),_2=t=>t&&(mi(t)||Us(t))&&Us(t.then)&&Us(t.catch),o0=((t,a)=>t?setImmediate:a?((r,o)=>(rn.addEventListener("message",({source:i,data:c})=>{i===rn&&c===r&&o.length&&o.shift()()},!1),i=>{o.push(i),rn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Us(rn.postMessage)),k2=typeof queueMicrotask<"u"?queueMicrotask.bind(rn):typeof process<"u"&&process.nextTick||o0,E2=t=>t!=null&&Us(t[xc]),de={isArray:to,isArrayBuffer:t0,isBuffer:ui,isFormData:e2,isArrayBufferView:q1,isString:W1,isNumber:s0,isBoolean:G1,isObject:mi,isPlainObject:Vl,isEmptyObject:K1,isReadableStream:s2,isRequest:a2,isResponse:r2,isHeaders:n2,isUndefined:Gn,isDate:Y1,isFile:J1,isBlob:Q1,isRegExp:v2,isFunction:Us,isStream:Z1,isURLSearchParams:t2,isTypedArray:f2,isFileList:X1,forEach:fi,merge:mm,extend:i2,trim:o2,stripBOM:l2,inherits:c2,toFlatObject:d2,kindOf:gc,kindOfTest:Na,endsWith:u2,toArray:m2,forEachEntry:h2,matchAll:p2,isHTMLForm:x2,hasOwnProperty:Ax,hasOwnProp:Ax,reduceDescriptors:n0,freezeMethods:j2,toObjectSet:y2,toCamelCase:g2,noop:b2,toFiniteNumber:w2,findKey:a0,global:rn,isContextDefined:r0,isSpecCompliantForm:N2,toJSONObject:S2,isAsyncFn:C2,isThenable:_2,setImmediate:o0,asap:k2,isIterable:E2};function st(t,a,r,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),r&&(this.config=r),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}de.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const i0=st.prototype,l0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{l0[t]={value:t}});Object.defineProperties(st,l0);Object.defineProperty(i0,"isAxiosError",{value:!0});st.from=(t,a,r,o,i,c)=>{const d=Object.create(i0);de.toFlatObject(t,d,function(f){return f!==Error.prototype},g=>g!=="isAxiosError");const p=t&&t.message?t.message:"Error",u=a==null&&t?t.code:a;return st.call(d,p,u,r,o,i),t&&d.cause==null&&Object.defineProperty(d,"cause",{value:t,configurable:!0}),d.name=t&&t.name||"Error",c&&Object.assign(d,c),d};const R2=null;function fm(t){return de.isPlainObject(t)||de.isArray(t)}function c0(t){return de.endsWith(t,"[]")?t.slice(0,-2):t}function Tx(t,a,r){return t?t.concat(a).map(function(i,c){return i=c0(i),!r&&c?"["+i+"]":i}).join(r?".":""):a}function P2(t){return de.isArray(t)&&!t.some(fm)}const A2=de.toFlatObject(de,{},null,function(a){return/^is[A-Z]/.test(a)});function jc(t,a,r){if(!de.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,r=de.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,N){return!de.isUndefined(N[j])});const o=r.metaTokens,i=r.visitor||f,c=r.dots,d=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(a);if(!de.isFunction(i))throw new TypeError("visitor must be a function");function g(y){if(y===null)return"";if(de.isDate(y))return y.toISOString();if(de.isBoolean(y))return y.toString();if(!u&&de.isBlob(y))throw new st("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(y)||de.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,j,N){let P=y;if(y&&!N&&typeof y=="object"){if(de.endsWith(j,"{}"))j=o?j:j.slice(0,-2),y=JSON.stringify(y);else if(de.isArray(y)&&P2(y)||(de.isFileList(y)||de.endsWith(j,"[]"))&&(P=de.toArray(y)))return j=c0(j),P.forEach(function(_,E){!(de.isUndefined(_)||_===null)&&a.append(d===!0?Tx([j],E,c):d===null?j:j+"[]",g(_))}),!1}return fm(y)?!0:(a.append(Tx(N,j,c),g(y)),!1)}const h=[],v=Object.assign(A2,{defaultVisitor:f,convertValue:g,isVisitable:fm});function w(y,j){if(!de.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+j.join("."));h.push(y),de.forEach(y,function(P,C){(!(de.isUndefined(P)||P===null)&&i.call(a,P,de.isString(C)?C.trim():C,j,v))===!0&&w(P,j?j.concat(C):[C])}),h.pop()}}if(!de.isObject(t))throw new TypeError("data must be an object");return w(t),a}function Mx(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function Km(t,a){this._pairs=[],t&&jc(t,this,a)}const d0=Km.prototype;d0.append=function(a,r){this._pairs.push([a,r])};d0.toString=function(a){const r=a?function(o){return a.call(this,o,Mx)}:Mx;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function T2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function u0(t,a,r){if(!a)return t;const o=r&&r.encode||T2;de.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let c;if(i?c=i(a,r):c=de.isURLSearchParams(a)?a.toString():new Km(a,r).toString(o),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class Dx{constructor(){this.handlers=[]}use(a,r,o){return this.handlers.push({fulfilled:a,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){de.forEach(this.handlers,function(o){o!==null&&a(o)})}}const m0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M2=typeof URLSearchParams<"u"?URLSearchParams:Km,D2=typeof FormData<"u"?FormData:null,O2=typeof Blob<"u"?Blob:null,$2={isBrowser:!0,classes:{URLSearchParams:M2,FormData:D2,Blob:O2},protocols:["http","https","file","blob","url","data"]},Ym=typeof window<"u"&&typeof document<"u",hm=typeof navigator=="object"&&navigator||void 0,L2=Ym&&(!hm||["ReactNative","NativeScript","NS"].indexOf(hm.product)<0),I2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",F2=Ym&&window.location.href||"http://localhost",z2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ym,hasStandardBrowserEnv:L2,hasStandardBrowserWebWorkerEnv:I2,navigator:hm,origin:F2},Symbol.toStringTag,{value:"Module"})),_s={...z2,...$2};function B2(t,a){return jc(t,new _s.classes.URLSearchParams,{visitor:function(r,o,i,c){return _s.isNode&&de.isBuffer(r)?(this.append(o,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...a})}function U2(t){return de.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function V2(t){const a={},r=Object.keys(t);let o;const i=r.length;let c;for(o=0;o<i;o++)c=r[o],a[c]=t[c];return a}function f0(t){function a(r,o,i,c){let d=r[c++];if(d==="__proto__")return!0;const p=Number.isFinite(+d),u=c>=r.length;return d=!d&&de.isArray(i)?i.length:d,u?(de.hasOwnProp(i,d)?i[d]=[i[d],o]:i[d]=o,!p):((!i[d]||!de.isObject(i[d]))&&(i[d]=[]),a(r,o,i[d],c)&&de.isArray(i[d])&&(i[d]=V2(i[d])),!p)}if(de.isFormData(t)&&de.isFunction(t.entries)){const r={};return de.forEachEntry(t,(o,i)=>{a(U2(o),i,r,0)}),r}return null}function H2(t,a,r){if(de.isString(t))try{return(a||JSON.parse)(t),de.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const hi={transitional:m0,adapter:["xhr","http","fetch"],transformRequest:[function(a,r){const o=r.getContentType()||"",i=o.indexOf("application/json")>-1,c=de.isObject(a);if(c&&de.isHTMLForm(a)&&(a=new FormData(a)),de.isFormData(a))return i?JSON.stringify(f0(a)):a;if(de.isArrayBuffer(a)||de.isBuffer(a)||de.isStream(a)||de.isFile(a)||de.isBlob(a)||de.isReadableStream(a))return a;if(de.isArrayBufferView(a))return a.buffer;if(de.isURLSearchParams(a))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let p;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return B2(a,this.formSerializer).toString();if((p=de.isFileList(a))||o.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return jc(p?{"files[]":a}:a,u&&new u,this.formSerializer)}}return c||i?(r.setContentType("application/json",!1),H2(a)):a}],transformResponse:[function(a){const r=this.transitional||hi.transitional,o=r&&r.forcedJSONParsing,i=this.responseType==="json";if(de.isResponse(a)||de.isReadableStream(a))return a;if(a&&de.isString(a)&&(o&&!this.responseType||i)){const d=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(a,this.parseReviver)}catch(p){if(d)throw p.name==="SyntaxError"?st.from(p,st.ERR_BAD_RESPONSE,this,null,this.response):p}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_s.classes.FormData,Blob:_s.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],t=>{hi.headers[t]={}});const q2=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),W2=t=>{const a={};let r,o,i;return t&&t.split(`
`).forEach(function(d){i=d.indexOf(":"),r=d.substring(0,i).trim().toLowerCase(),o=d.substring(i+1).trim(),!(!r||a[r]&&q2[r])&&(r==="set-cookie"?a[r]?a[r].push(o):a[r]=[o]:a[r]=a[r]?a[r]+", "+o:o)}),a},Ox=Symbol("internals");function Ko(t){return t&&String(t).trim().toLowerCase()}function Hl(t){return t===!1||t==null?t:de.isArray(t)?t.map(Hl):String(t)}function G2(t){const a=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)a[o[1]]=o[2];return a}const K2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Lu(t,a,r,o,i){if(de.isFunction(o))return o.call(this,a,r);if(i&&(a=r),!!de.isString(a)){if(de.isString(o))return a.indexOf(o)!==-1;if(de.isRegExp(o))return o.test(a)}}function Y2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,r,o)=>r.toUpperCase()+o)}function J2(t,a){const r=de.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(i,c,d){return this[o].call(this,a,i,c,d)},configurable:!0})})}let Vs=class{constructor(a){a&&this.set(a)}set(a,r,o){const i=this;function c(p,u,g){const f=Ko(u);if(!f)throw new Error("header name must be a non-empty string");const h=de.findKey(i,f);(!h||i[h]===void 0||g===!0||g===void 0&&i[h]!==!1)&&(i[h||u]=Hl(p))}const d=(p,u)=>de.forEach(p,(g,f)=>c(g,f,u));if(de.isPlainObject(a)||a instanceof this.constructor)d(a,r);else if(de.isString(a)&&(a=a.trim())&&!K2(a))d(W2(a),r);else if(de.isObject(a)&&de.isIterable(a)){let p={},u,g;for(const f of a){if(!de.isArray(f))throw TypeError("Object iterator must return a key-value pair");p[g=f[0]]=(u=p[g])?de.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}d(p,r)}else a!=null&&c(r,a,o);return this}get(a,r){if(a=Ko(a),a){const o=de.findKey(this,a);if(o){const i=this[o];if(!r)return i;if(r===!0)return G2(i);if(de.isFunction(r))return r.call(this,i,o);if(de.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,r){if(a=Ko(a),a){const o=de.findKey(this,a);return!!(o&&this[o]!==void 0&&(!r||Lu(this,this[o],o,r)))}return!1}delete(a,r){const o=this;let i=!1;function c(d){if(d=Ko(d),d){const p=de.findKey(o,d);p&&(!r||Lu(o,o[p],p,r))&&(delete o[p],i=!0)}}return de.isArray(a)?a.forEach(c):c(a),i}clear(a){const r=Object.keys(this);let o=r.length,i=!1;for(;o--;){const c=r[o];(!a||Lu(this,this[c],c,a,!0))&&(delete this[c],i=!0)}return i}normalize(a){const r=this,o={};return de.forEach(this,(i,c)=>{const d=de.findKey(o,c);if(d){r[d]=Hl(i),delete r[c];return}const p=a?Y2(c):String(c).trim();p!==c&&delete r[c],r[p]=Hl(i),o[p]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const r=Object.create(null);return de.forEach(this,(o,i)=>{o!=null&&o!==!1&&(r[i]=a&&de.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,r])=>a+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...r){const o=new this(a);return r.forEach(i=>o.set(i)),o}static accessor(a){const o=(this[Ox]=this[Ox]={accessors:{}}).accessors,i=this.prototype;function c(d){const p=Ko(d);o[p]||(J2(i,d),o[p]=!0)}return de.isArray(a)?a.forEach(c):c(a),this}};Vs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(Vs.prototype,({value:t},a)=>{let r=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(o){this[r]=o}}});de.freezeMethods(Vs);function Iu(t,a){const r=this||hi,o=a||r,i=Vs.from(o.headers);let c=o.data;return de.forEach(t,function(p){c=p.call(r,c,i.normalize(),a?a.status:void 0)}),i.normalize(),c}function h0(t){return!!(t&&t.__CANCEL__)}function so(t,a,r){st.call(this,t??"canceled",st.ERR_CANCELED,a,r),this.name="CanceledError"}de.inherits(so,st,{__CANCEL__:!0});function p0(t,a,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):a(new st("Request failed with status code "+r.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Q2(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function X2(t,a){t=t||10;const r=new Array(t),o=new Array(t);let i=0,c=0,d;return a=a!==void 0?a:1e3,function(u){const g=Date.now(),f=o[c];d||(d=g),r[i]=u,o[i]=g;let h=c,v=0;for(;h!==i;)v+=r[h++],h=h%t;if(i=(i+1)%t,i===c&&(c=(c+1)%t),g-d<a)return;const w=f&&g-f;return w?Math.round(v*1e3/w):void 0}}function Z2(t,a){let r=0,o=1e3/a,i,c;const d=(g,f=Date.now())=>{r=f,i=null,c&&(clearTimeout(c),c=null),t(...g)};return[(...g)=>{const f=Date.now(),h=f-r;h>=o?d(g,f):(i=g,c||(c=setTimeout(()=>{c=null,d(i)},o-h)))},()=>i&&d(i)]}const Zl=(t,a,r=3)=>{let o=0;const i=X2(50,250);return Z2(c=>{const d=c.loaded,p=c.lengthComputable?c.total:void 0,u=d-o,g=i(u),f=d<=p;o=d;const h={loaded:d,total:p,progress:p?d/p:void 0,bytes:u,rate:g||void 0,estimated:g&&p&&f?(p-d)/g:void 0,event:c,lengthComputable:p!=null,[a?"download":"upload"]:!0};t(h)},r)},$x=(t,a)=>{const r=t!=null;return[o=>a[0]({lengthComputable:r,total:t,loaded:o}),a[1]]},Lx=t=>(...a)=>de.asap(()=>t(...a)),eS=_s.hasStandardBrowserEnv?((t,a)=>r=>(r=new URL(r,_s.origin),t.protocol===r.protocol&&t.host===r.host&&(a||t.port===r.port)))(new URL(_s.origin),_s.navigator&&/(msie|trident)/i.test(_s.navigator.userAgent)):()=>!0,tS=_s.hasStandardBrowserEnv?{write(t,a,r,o,i,c){const d=[t+"="+encodeURIComponent(a)];de.isNumber(r)&&d.push("expires="+new Date(r).toGMTString()),de.isString(o)&&d.push("path="+o),de.isString(i)&&d.push("domain="+i),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const a=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sS(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function aS(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function x0(t,a,r){let o=!sS(a);return t&&(o||r==!1)?aS(t,a):a}const Ix=t=>t instanceof Vs?{...t}:t;function ln(t,a){a=a||{};const r={};function o(g,f,h,v){return de.isPlainObject(g)&&de.isPlainObject(f)?de.merge.call({caseless:v},g,f):de.isPlainObject(f)?de.merge({},f):de.isArray(f)?f.slice():f}function i(g,f,h,v){if(de.isUndefined(f)){if(!de.isUndefined(g))return o(void 0,g,h,v)}else return o(g,f,h,v)}function c(g,f){if(!de.isUndefined(f))return o(void 0,f)}function d(g,f){if(de.isUndefined(f)){if(!de.isUndefined(g))return o(void 0,g)}else return o(void 0,f)}function p(g,f,h){if(h in a)return o(g,f);if(h in t)return o(void 0,g)}const u={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(g,f,h)=>i(Ix(g),Ix(f),h,!0)};return de.forEach(Object.keys({...t,...a}),function(f){const h=u[f]||i,v=h(t[f],a[f],f);de.isUndefined(v)&&h!==p||(r[f]=v)}),r}const g0=t=>{const a=ln({},t);let{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:c,headers:d,auth:p}=a;if(a.headers=d=Vs.from(d),a.url=u0(x0(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),p&&d.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),de.isFormData(r)){if(_s.hasStandardBrowserEnv||_s.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(de.isFunction(r.getHeaders)){const u=r.getHeaders(),g=["content-type","content-length"];Object.entries(u).forEach(([f,h])=>{g.includes(f.toLowerCase())&&d.set(f,h)})}}if(_s.hasStandardBrowserEnv&&(o&&de.isFunction(o)&&(o=o(a)),o||o!==!1&&eS(a.url))){const u=i&&c&&tS.read(c);u&&d.set(i,u)}return a},rS=typeof XMLHttpRequest<"u",nS=rS&&function(t){return new Promise(function(r,o){const i=g0(t);let c=i.data;const d=Vs.from(i.headers).normalize();let{responseType:p,onUploadProgress:u,onDownloadProgress:g}=i,f,h,v,w,y;function j(){w&&w(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function P(){if(!N)return;const _=Vs.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),k={data:!p||p==="text"||p==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:_,config:t,request:N};p0(function(T){r(T),j()},function(T){o(T),j()},k),N=null}"onloadend"in N?N.onloadend=P:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(P)},N.onabort=function(){N&&(o(new st("Request aborted",st.ECONNABORTED,t,N)),N=null)},N.onerror=function(E){const k=E&&E.message?E.message:"Network Error",A=new st(k,st.ERR_NETWORK,t,N);A.event=E||null,o(A),N=null},N.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||m0;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),o(new st(E,k.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,t,N)),N=null},c===void 0&&d.setContentType(null),"setRequestHeader"in N&&de.forEach(d.toJSON(),function(E,k){N.setRequestHeader(k,E)}),de.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),p&&p!=="json"&&(N.responseType=i.responseType),g&&([v,y]=Zl(g,!0),N.addEventListener("progress",v)),u&&N.upload&&([h,w]=Zl(u),N.upload.addEventListener("progress",h),N.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(f=_=>{N&&(o(!_||_.type?new so(null,t,N):_),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const C=Q2(i.url);if(C&&_s.protocols.indexOf(C)===-1){o(new st("Unsupported protocol "+C+":",st.ERR_BAD_REQUEST,t));return}N.send(c||null)})},oS=(t,a)=>{const{length:r}=t=t?t.filter(Boolean):[];if(a||r){let o=new AbortController,i;const c=function(g){if(!i){i=!0,p();const f=g instanceof Error?g:this.reason;o.abort(f instanceof st?f:new so(f instanceof Error?f.message:f))}};let d=a&&setTimeout(()=>{d=null,c(new st(`timeout ${a} of ms exceeded`,st.ETIMEDOUT))},a);const p=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(c):g.removeEventListener("abort",c)}),t=null)};t.forEach(g=>g.addEventListener("abort",c));const{signal:u}=o;return u.unsubscribe=()=>de.asap(p),u}},iS=function*(t,a){let r=t.byteLength;if(r<a){yield t;return}let o=0,i;for(;o<r;)i=o+a,yield t.slice(o,i),o=i},lS=async function*(t,a){for await(const r of cS(t))yield*iS(r,a)},cS=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:r,value:o}=await a.read();if(r)break;yield o}}finally{await a.cancel()}},Fx=(t,a,r,o)=>{const i=lS(t,a);let c=0,d,p=u=>{d||(d=!0,o&&o(u))};return new ReadableStream({async pull(u){try{const{done:g,value:f}=await i.next();if(g){p(),u.close();return}let h=f.byteLength;if(r){let v=c+=h;r(v)}u.enqueue(new Uint8Array(f))}catch(g){throw p(g),g}},cancel(u){return p(u),i.return()}},{highWaterMark:2})},zx=64*1024,{isFunction:Ml}=de,dS=(({Request:t,Response:a})=>({Request:t,Response:a}))(de.global),{ReadableStream:Bx,TextEncoder:Ux}=de.global,Vx=(t,...a)=>{try{return!!t(...a)}catch{return!1}},uS=t=>{t=de.merge.call({skipUndefined:!0},dS,t);const{fetch:a,Request:r,Response:o}=t,i=a?Ml(a):typeof fetch=="function",c=Ml(r),d=Ml(o);if(!i)return!1;const p=i&&Ml(Bx),u=i&&(typeof Ux=="function"?(y=>j=>y.encode(j))(new Ux):async y=>new Uint8Array(await new r(y).arrayBuffer())),g=c&&p&&Vx(()=>{let y=!1;const j=new r(_s.origin,{body:new Bx,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!j}),f=d&&p&&Vx(()=>de.isReadableStream(new o("").body)),h={stream:f&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(j,N)=>{let P=j&&j[y];if(P)return P.call(j);throw new st(`Response type '${y}' is not supported`,st.ERR_NOT_SUPPORT,N)})});const v=async y=>{if(y==null)return 0;if(de.isBlob(y))return y.size;if(de.isSpecCompliantForm(y))return(await new r(_s.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(de.isArrayBufferView(y)||de.isArrayBuffer(y))return y.byteLength;if(de.isURLSearchParams(y)&&(y=y+""),de.isString(y))return(await u(y)).byteLength},w=async(y,j)=>{const N=de.toFiniteNumber(y.getContentLength());return N??v(j)};return async y=>{let{url:j,method:N,data:P,signal:C,cancelToken:_,timeout:E,onDownloadProgress:k,onUploadProgress:A,responseType:T,headers:R,withCredentials:I="same-origin",fetchOptions:L}=g0(y),U=a||fetch;T=T?(T+"").toLowerCase():"text";let K=oS([C,_&&_.toAbortSignal()],E),z=null;const D=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let G;try{if(A&&g&&N!=="get"&&N!=="head"&&(G=await w(R,P))!==0){let M=new r(j,{method:"POST",body:P,duplex:"half"}),B;if(de.isFormData(P)&&(B=M.headers.get("content-type"))&&R.setContentType(B),M.body){const[re,F]=$x(G,Zl(Lx(A)));P=Fx(M.body,zx,re,F)}}de.isString(I)||(I=I?"include":"omit");const $=c&&"credentials"in r.prototype,H={...L,signal:K,method:N.toUpperCase(),headers:R.normalize().toJSON(),body:P,duplex:"half",credentials:$?I:void 0};z=c&&new r(j,H);let q=await(c?U(z,L):U(j,H));const Y=f&&(T==="stream"||T==="response");if(f&&(k||Y&&D)){const M={};["status","statusText","headers"].forEach(V=>{M[V]=q[V]});const B=de.toFiniteNumber(q.headers.get("content-length")),[re,F]=k&&$x(B,Zl(Lx(k),!0))||[];q=new o(Fx(q.body,zx,re,()=>{F&&F(),D&&D()}),M)}T=T||"text";let ee=await h[de.findKey(h,T)||"text"](q,y);return!Y&&D&&D(),await new Promise((M,B)=>{p0(M,B,{data:ee,headers:Vs.from(q.headers),status:q.status,statusText:q.statusText,config:y,request:z})})}catch($){throw D&&D(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,y,z),{cause:$.cause||$}):st.from($,$&&$.code,y,z)}}},mS=new Map,v0=t=>{let a=t?t.env:{};const{fetch:r,Request:o,Response:i}=a,c=[o,i,r];let d=c.length,p=d,u,g,f=mS;for(;p--;)u=c[p],g=f.get(u),g===void 0&&f.set(u,g=p?new Map:uS(a)),f=g;return g};v0();const pm={http:R2,xhr:nS,fetch:{get:v0}};de.forEach(pm,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const Hx=t=>`- ${t}`,fS=t=>de.isFunction(t)||t===null||t===!1,j0={getAdapter:(t,a)=>{t=de.isArray(t)?t:[t];const{length:r}=t;let o,i;const c={};for(let d=0;d<r;d++){o=t[d];let p;if(i=o,!fS(o)&&(i=pm[(p=String(o)).toLowerCase()],i===void 0))throw new st(`Unknown adapter '${p}'`);if(i&&(de.isFunction(i)||(i=i.get(a))))break;c[p||"#"+d]=i}if(!i){const d=Object.entries(c).map(([u,g])=>`adapter ${u} `+(g===!1?"is not supported by the environment":"is not available in the build"));let p=r?d.length>1?`since :
`+d.map(Hx).join(`
`):" "+Hx(d[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return i},adapters:pm};function Fu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new so(null,t)}function qx(t){return Fu(t),t.headers=Vs.from(t.headers),t.data=Iu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),j0.getAdapter(t.adapter||hi.adapter,t)(t).then(function(o){return Fu(t),o.data=Iu.call(t,t.transformResponse,o),o.headers=Vs.from(o.headers),o},function(o){return h0(o)||(Fu(t),o&&o.response&&(o.response.data=Iu.call(t,t.transformResponse,o.response),o.response.headers=Vs.from(o.response.headers))),Promise.reject(o)})}const y0="1.12.2",yc={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{yc[t]=function(o){return typeof o===t||"a"+(a<1?"n ":" ")+t}});const Wx={};yc.transitional=function(a,r,o){function i(c,d){return"[Axios v"+y0+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,p)=>{if(a===!1)throw new st(i(d," has been removed"+(r?" in "+r:"")),st.ERR_DEPRECATED);return r&&!Wx[d]&&(Wx[d]=!0,console.warn(i(d," has been deprecated since v"+r+" and will be removed in the near future"))),a?a(c,d,p):!0}};yc.spelling=function(a){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function hS(t,a,r){if(typeof t!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let i=o.length;for(;i-- >0;){const c=o[i],d=a[c];if(d){const p=t[c],u=p===void 0||d(p,c,t);if(u!==!0)throw new st("option "+c+" must be "+u,st.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new st("Unknown option "+c,st.ERR_BAD_OPTION)}}const ql={assertOptions:hS,validators:yc},Aa=ql.validators;let nn=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Dx,response:new Dx}}async request(a,r){try{return await this._request(a,r)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const c=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(a,r){typeof a=="string"?(r=r||{},r.url=a):r=a||{},r=ln(this.defaults,r);const{transitional:o,paramsSerializer:i,headers:c}=r;o!==void 0&&ql.assertOptions(o,{silentJSONParsing:Aa.transitional(Aa.boolean),forcedJSONParsing:Aa.transitional(Aa.boolean),clarifyTimeoutError:Aa.transitional(Aa.boolean)},!1),i!=null&&(de.isFunction(i)?r.paramsSerializer={serialize:i}:ql.assertOptions(i,{encode:Aa.function,serialize:Aa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ql.assertOptions(r,{baseUrl:Aa.spelling("baseURL"),withXsrfToken:Aa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=c&&de.merge(c.common,c[r.method]);c&&de.forEach(["delete","get","head","post","put","patch","common"],y=>{delete c[y]}),r.headers=Vs.concat(d,c);const p=[];let u=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(u=u&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const g=[];this.interceptors.response.forEach(function(j){g.push(j.fulfilled,j.rejected)});let f,h=0,v;if(!u){const y=[qx.bind(this),void 0];for(y.unshift(...p),y.push(...g),v=y.length,f=Promise.resolve(r);h<v;)f=f.then(y[h++],y[h++]);return f}v=p.length;let w=r;for(;h<v;){const y=p[h++],j=p[h++];try{w=y(w)}catch(N){j.call(this,N);break}}try{f=qx.call(this,w)}catch(y){return Promise.reject(y)}for(h=0,v=g.length;h<v;)f=f.then(g[h++],g[h++]);return f}getUri(a){a=ln(this.defaults,a);const r=x0(a.baseURL,a.url,a.allowAbsoluteUrls);return u0(r,a.params,a.paramsSerializer)}};de.forEach(["delete","get","head","options"],function(a){nn.prototype[a]=function(r,o){return this.request(ln(o||{},{method:a,url:r,data:(o||{}).data}))}});de.forEach(["post","put","patch"],function(a){function r(o){return function(c,d,p){return this.request(ln(p||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}nn.prototype[a]=r(),nn.prototype[a+"Form"]=r(!0)});let pS=class b0{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(c){r=c});const o=this;this.promise.then(i=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](i);o._listeners=null}),this.promise.then=i=>{let c;const d=new Promise(p=>{o.subscribe(p),c=p}).then(i);return d.cancel=function(){o.unsubscribe(c)},d},a(function(c,d,p){o.reason||(o.reason=new so(c,d,p),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const r=this._listeners.indexOf(a);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const a=new AbortController,r=o=>{a.abort(o)};return this.subscribe(r),a.signal.unsubscribe=()=>this.unsubscribe(r),a.signal}static source(){let a;return{token:new b0(function(i){a=i}),cancel:a}}};function xS(t){return function(r){return t.apply(null,r)}}function gS(t){return de.isObject(t)&&t.isAxiosError===!0}const xm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xm).forEach(([t,a])=>{xm[a]=t});function w0(t){const a=new nn(t),r=Zg(nn.prototype.request,a);return de.extend(r,nn.prototype,a,{allOwnKeys:!0}),de.extend(r,a,null,{allOwnKeys:!0}),r.create=function(i){return w0(ln(t,i))},r}const as=w0(hi);as.Axios=nn;as.CanceledError=so;as.CancelToken=pS;as.isCancel=h0;as.VERSION=y0;as.toFormData=jc;as.AxiosError=st;as.Cancel=as.CanceledError;as.all=function(a){return Promise.all(a)};as.spread=xS;as.isAxiosError=gS;as.mergeConfig=ln;as.AxiosHeaders=Vs;as.formToJSON=t=>f0(de.isHTMLForm(t)?new FormData(t):t);as.getAdapter=j0.getAdapter;as.HttpStatusCode=xm;as.default=as;const{Axios:l5,AxiosError:c5,CanceledError:d5,isCancel:u5,CancelToken:m5,VERSION:f5,all:h5,Cancel:p5,isAxiosError:x5,spread:g5,toFormData:v5,AxiosHeaders:j5,HttpStatusCode:y5,formToJSON:b5,getAdapter:w5,mergeConfig:N5}=as,N0="http://127.0.0.1:8000",vS="/api";"true".toLowerCase();"false".toLowerCase();"true".toLowerCase();const jS=N0,yS=(t="")=>t.replace(/^\/+|\/+$/g,""),bS=(t="")=>t.replace(/^\/+/,""),wS=(t="")=>/^https?:\/\//i.test(t),NS=(t="")=>{const a="/"+yS(vS);if(!t)return a+"/";if(t.startsWith(a+"/")||t===a||t.startsWith(a+"?"))return t;const[r,o=""]=String(t).split("?"),i=/\/$/.test(r||""),c=bS(r||"");let d=`${a}/${c||""}`;return(i||!c)&&(d+="/"),o&&(d+=`?${o}`),d=d.replace(/\/{2,}/g,"/"),d},ue=as.create({baseURL:jS,headers:{"Content-Type":"application/json"},timeout:15e3});ue.interceptors.request.use(t=>{const a=t.url||"";if(!wS(a)){const g=NS(a);t.baseURL=N0.replace(/\/+$/g,""),t.url=g.startsWith("/")?g:"/"+g}const r="/auth/login/",o="/auth/register/",i="/auth/forgot-password/",c="/auth/google/";if(((g="")=>[r,o,i,c].some(f=>g.includes(f)))(t.url||""))return t;const p=localStorage.getItem("access_token");let u=localStorage.getItem("auth_scheme")||"Token";if(!u){u=p&&p.includes(".")?"Bearer":"Token";try{localStorage.setItem("auth_scheme",u)}catch{}}try{p&&p.includes(".")&&/^token$/i.test(String(u))?(u="Bearer",localStorage.setItem("auth_scheme",u)):p&&!p.includes(".")&&/^bearer$/i.test(String(u))&&(u="Token",localStorage.setItem("auth_scheme",u))}catch{}return p?t.headers.Authorization=`${u} ${p}`:delete t.headers.Authorization,t.data instanceof FormData&&t.headers&&delete t.headers["Content-Type"],t});ue.interceptors.response.use(t=>t,t=>Promise.reject(t));const SS=t=>{if(!t)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const a=new Date(t);if(!isNaN(a)){const o=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");return`${o}-${i}-${c}`}const r=String(t).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return r?`${r[3]}-${r[2]}-${r[1]}`:""};function Er(t){if(!t||typeof t!="object")return t;const a={...t},r=[a.first_name,a.last_name].filter(Boolean).join(" ")||a.display_name||a.nome||a.nome_completo||a.username||a.email||"";a.display_name=r;const o=a.cpf||a.documento||a.doc||a.rg||a.cpf_number||a.profile&&(a.profile.cpf||a.profile.documento)||"";o&&(a.cpf=o,a.rg||(a.rg=o));const i=a.data_nascimento||a.nascimento||a.dob||a.birth_date||a.profile&&(a.profile.data_nascimento||a.profile.nascimento)||"",c=SS(i);return c&&(a.data_nascimento=c),a}const ht={async login(t){const a="/auth/login/",r={...t,username:t.username||t.email},o=await ue.post(a,r),{access:i,refresh:c,access_token:d,refresh_token:p,token:u,key:g,user:f}=o.data,h=i||d||u||g,v=c||p;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(u||g){const w=u||g,y=typeof w=="string"&&w.includes(".");localStorage.setItem("auth_scheme",y?"Bearer":"Token")}if(h&&localStorage.setItem("access_token",h),v&&localStorage.setItem("refresh_token",v),f!==void 0)try{if(f&&typeof f=="object"){const w=Er(f);localStorage.setItem("user",JSON.stringify(w)),o.data.user=w}else localStorage.removeItem("user")}catch{}if(!o.data.user)try{const w=await Dl();if(w){const y=Er(w);localStorage.setItem("user",JSON.stringify(y)),o.data.user=y}}catch{}return o.data},async register(t,a={}){var j,N,P;const o=await ue.post("/auth/register/",t),{access:i,refresh:c,access_token:d,refresh_token:p,token:u,user:g}=o.data,f=i||d||u,h=c||p;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(u){const C=typeof u=="string"&&u.includes(".");localStorage.setItem("auth_scheme",C?"Bearer":"Token")}if(f&&localStorage.setItem("access_token",f),h&&localStorage.setItem("refresh_token",h),g!==void 0){const C=g&&typeof g=="object"?Er(g):g;C&&typeof C=="object"?(localStorage.setItem("user",JSON.stringify(C)),o.data.user=C):localStorage.removeItem("user")}else try{const C=await Dl();if(C){const _=Er(C);localStorage.setItem("user",JSON.stringify(_)),o.data.user=_}}catch{}const v={...o.data};let w=null;const y=a==null?void 0:a.medicoData;if(y&&typeof y=="object")try{if(!!!localStorage.getItem("access_token")&&(t!=null&&t.password)){if(t!=null&&t.username)try{await ht.login({username:t.username,password:t.password})}catch{}if(!localStorage.getItem("access_token")&&(t!=null&&t.email))try{await ht.login({username:t.email,email:t.email,password:t.password})}catch{}}const _=await si(()=>Promise.resolve().then(()=>db),void 0),E=[t.first_name||"",t.last_name||""].filter(Boolean).join(" ")||t.username||"",k={...y,nome:y.nome||E,nome_completo:y.nome_completo||E,email:y.email||t.email,cpf:y.cpf||t.cpf,tipo:"medico"};w={success:!0,data:await _.solicitacaoService.criarSolicitacaoMedico(k)};try{const{medicoService:T}=await si(async()=>{const{medicoService:R}=await Promise.resolve().then(()=>TP);return{medicoService:R}},void 0);await T.ensureMedicoAndPerfil(k,{})}catch(T){console.warn("[authService.register] ensureMedicoAndPerfil falhou:",((j=T==null?void 0:T.response)==null?void 0:j.data)||T)}}catch(C){console.error("[authService.register] criarSolicitacaoMedico falhou:",((N=C==null?void 0:C.response)==null?void 0:N.data)||C),w={success:!1,error:C&&(((P=C.response)==null?void 0:P.data)||C.message)||String(C)}}return w&&(v.medicoApplication=w),v},async logout(){try{await ue.post("/auth/logout/")}finally{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),localStorage.removeItem("auth_scheme");try{const t=[];for(let a=0;a<localStorage.length;a++){const r=localStorage.key(a);r&&r.startsWith("medicoApplicationStatus")&&t.push(r)}t.forEach(a=>localStorage.removeItem(a))}catch{}}},async forgotPassword(t){return(await ue.post("/auth/forgot-password/",{email:t})).data},getCurrentUser(){const t=localStorage.getItem("user");if(!t||t==="undefined"||t==="null")return null;try{const a=JSON.parse(t);return Er(a)}catch{return null}},async refreshCurrentUser(){try{const t=await Dl();if(t){const a=Er(t);return localStorage.setItem("user",JSON.stringify(a)),a}else return localStorage.removeItem("user"),null}catch{return null}},isAuthenticated(){try{return!!localStorage.getItem("access_token")}catch{return!1}},async loginWithGoogle(t){const a="/auth/google/",r={credential:t,id_token:t},o=await ue.post(a,r),{access:i,refresh:c,access_token:d,refresh_token:p,token:u,key:g,user:f}=o.data,h=i||d||u||g,v=c||p;if(i||d)localStorage.setItem("auth_scheme","Bearer");else if(u||g){const w=u||g,y=typeof w=="string"&&w.includes(".");localStorage.setItem("auth_scheme",y?"Bearer":"Token")}if(h&&localStorage.setItem("access_token",h),v&&localStorage.setItem("refresh_token",v),f!==void 0)try{if(f&&typeof f=="object"){const w=Er(f);localStorage.setItem("user",JSON.stringify(w)),o.data.user=w}else localStorage.removeItem("user")}catch{}else try{const w=await Dl();if(w){const y=Er(w);localStorage.setItem("user",JSON.stringify(y)),o.data.user=y}else o.data.user=null}catch{}return o.data}};async function Dl(){var i;const t="".trim(),a=[];t&&a.push(t),a.push("/auth/users/me/","/users/me/","/auth/user/","/auth/me/","/me/");const r=new Set,o=a.filter(c=>{const d=String(c).replace(/\/+$/g,"");return r.has(d)?!1:(r.add(d),!0)});for(const c of o)try{return(await ue.get(c)).data}catch(d){if(((i=d==null?void 0:d.response)==null?void 0:i.status)===404)continue}return null}const S0=x.createContext({});function CS({children:t}){const[a,r]=x.useState(null),[o,i]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const h=ht.getCurrentUser();if(h)r(h);else{const v=await ht.refreshCurrentUser().catch(()=>null);v!=null&&v.user&&r(v.user)}}finally{i(!1)}})()},[]);const c=async f=>{const h=await ht.login(f);if(h!=null&&h.user)r(h.user);else{const v=ht.getCurrentUser();r(v)}return h},d=async()=>{await ht.logout(),r(null)},p=async f=>{const h=await ht.register(f);if(h!=null&&h.user)r(h.user);else{const v=ht.getCurrentUser();v&&r(v)}return h},u=async f=>{const h=await ht.loginWithGoogle(f);return r(h.user),h},g={user:a,login:c,logout:d,register:p,loading:o,isAuthenticated:!!a||ht.isAuthenticated(),loginWithGoogle:u};return e.jsx(S0.Provider,{value:g,children:t})}const nr=()=>{const t=x.useContext(S0);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},C0=x.createContext(void 0);function _S({children:t}){const[a,r]=x.useState("paciente"),[o,i]=x.useState(!1),[c,d]=x.useState({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),[p,u]=x.useState(null),[g,f]=x.useState(""),h=()=>{u(null),f("")},v=()=>{c.isMedico&&c.medicoStatus==="approved"&&r(a==="medico"?"paciente":"medico")},w=(j="paciente",N={})=>{i(!0),r(j),d(N)},y=()=>{i(!1),r("paciente"),d({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),h()};return e.jsx(C0.Provider,{value:{activeRole:a,setActiveRole:r,toggleRole:v,isAuthenticated:o,userPermissions:c,setUserPermissions:d,login:w,logout:y,ephemeralCertFile:p,setEphemeralCertFile:u,ephemeralCertPassword:g,setEphemeralCertPassword:f,clearEphemeralCert:h},children:t})}function La(){const t=x.useContext(C0);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t}function Gx(t,a){if(typeof t=="function")return t(a);t!=null&&(t.current=a)}function bc(...t){return a=>{let r=!1;const o=t.map(i=>{const c=Gx(i,a);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let i=0;i<o.length;i++){const c=o[i];typeof c=="function"?c():Gx(t[i],null)}}}}function kt(...t){return x.useCallback(bc(...t),t)}function cn(t){const a=kS(t),r=x.forwardRef((o,i)=>{const{children:c,...d}=o,p=x.Children.toArray(c),u=p.find(RS);if(u){const g=u.props.children,f=p.map(h=>h===u?x.Children.count(g)>1?x.Children.only(null):x.isValidElement(g)?g.props.children:null:h);return e.jsx(a,{...d,ref:i,children:x.isValidElement(g)?x.cloneElement(g,void 0,f):null})}return e.jsx(a,{...d,ref:i,children:c})});return r.displayName=`${t}.Slot`,r}var ao=cn("Slot");function kS(t){const a=x.forwardRef((r,o)=>{const{children:i,...c}=r;if(x.isValidElement(i)){const d=AS(i),p=PS(c,i.props);return i.type!==x.Fragment&&(p.ref=o?bc(o,d):d),x.cloneElement(i,p)}return x.Children.count(i)>1?x.Children.only(null):null});return a.displayName=`${t}.SlotClone`,a}var _0=Symbol("radix.slottable");function ES(t){const a=({children:r})=>e.jsx(e.Fragment,{children:r});return a.displayName=`${t}.Slottable`,a.__radixId=_0,a}function RS(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_0}function PS(t,a){const r={...a};for(const o in a){const i=t[o],c=a[o];/^on[A-Z]/.test(o)?i&&c?r[o]=(...p)=>{const u=c(...p);return i(...p),u}:i&&(r[o]=i):o==="style"?r[o]={...i,...c}:o==="className"&&(r[o]=[i,c].filter(Boolean).join(" "))}return{...t,...r}}function AS(t){var o,i;let a=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?t.ref:(a=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function k0(t){var a,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(r=k0(t[a]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function TS(){for(var t,a,r=0,o="",i=arguments.length;r<i;r++)(t=arguments[r])&&(a=k0(t))&&(o&&(o+=" "),o+=a);return o}const Kx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Yx=TS,wc=(t,a)=>r=>{var o;if((a==null?void 0:a.variants)==null)return Yx(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:c}=a,d=Object.keys(i).map(g=>{const f=r==null?void 0:r[g],h=c==null?void 0:c[g];if(f===null)return null;const v=Kx(f)||Kx(h);return i[g][v]}),p=r&&Object.entries(r).reduce((g,f)=>{let[h,v]=f;return v===void 0||(g[h]=v),g},{}),u=a==null||(o=a.compoundVariants)===null||o===void 0?void 0:o.reduce((g,f)=>{let{class:h,className:v,...w}=f;return Object.entries(w).every(y=>{let[j,N]=y;return Array.isArray(N)?N.includes({...c,...p}[j]):{...c,...p}[j]===N})?[...g,h,v]:g},[]);return Yx(t,d,u,r==null?void 0:r.class,r==null?void 0:r.className)};var MS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Te=(t,a)=>{const r=x.forwardRef(({color:o="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:p,...u},g)=>x.createElement("svg",{ref:g,...MS,width:i,height:i,stroke:o,strokeWidth:d?Number(c)*24/Number(i):c,className:`lucide lucide-${DS(t)}`,...u},[...a.map(([f,h])=>x.createElement(f,h)),...(Array.isArray(p)?p:[p])||[]]));return r.displayName=`${t}`,r},Hs=Te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Lr=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Qo=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Xo=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),OS=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ai=Te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Jm=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Ir=Te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Nc=Te("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Jx=Te("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),Ye=Te("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Or=Te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Js=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),$S=Te("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),E0=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Qm=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),R0=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ja=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),LS=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),IS=Te("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),FS=Te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ia=Te("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),rt=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),zS=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),sr=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Qx=Te("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),BS=Te("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),US=Te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ya=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),VS=Te("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),os=Te("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Hn=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),HS=Te("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),ec=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),qS=Te("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),P0=Te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),WS=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),gm=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),zu=Te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),GS=Te("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),KS=Te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),A0=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),YS=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),pn=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),tc=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),JS=Te("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),QS=Te("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),XS=Te("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Xx=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),ZS=Te("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),eC=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),$r=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Zo=Te("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),Kn=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),tC=Te("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),T0=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),M0=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Es=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),sc=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Da=Te("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),sC=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),xt=Te("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Zx=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),aC=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ro=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Bu=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),rC=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),nC=Te("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),oC=Te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ss=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ds=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Uu=Te("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Qs=Te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Xm=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),iC=Te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function lC(){const[t,a]=x.useState(!1);return x.useEffect(()=>{const r=()=>{a(window.innerWidth<768)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}function be(...t){return t.filter(Boolean).join(" ")}function cC(t){return t?t.split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "):""}const te=x.forwardRef(({className:t,variant:a="default",size:r="default",asChild:o=!1,...i},c)=>{const d=o?"slot":"button",p={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},u={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return e.jsx(d,{className:be("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",p[a],u[r],t),ref:c,...i})});te.displayName="Button";const fe=x.forwardRef(({className:t,type:a,...r},o)=>e.jsx("input",{type:a,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...r}));fe.displayName="Input";var dC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=dC.reduce((t,a)=>{const r=cn(`Primitive.${a}`),o=x.forwardRef((i,c)=>{const{asChild:d,...p}=i,u=d?r:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...p,ref:c})});return o.displayName=`Primitive.${a}`,{...t,[a]:o}},{});function Zm(t,a){t&&Qn.flushSync(()=>t.dispatchEvent(a))}var uC="Separator",eg="horizontal",mC=["horizontal","vertical"],D0=x.forwardRef((t,a)=>{const{decorative:r,orientation:o=eg,...i}=t,c=fC(o)?o:eg,p=r?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(et.div,{"data-orientation":c,...p,...i,ref:a})});D0.displayName=uC;function fC(t){return mC.includes(t)}var O0=D0;const Bs=x.forwardRef(({className:t,orientation:a="horizontal",decorative:r=!0,...o},i)=>e.jsx(O0,{ref:i,decorative:r,orientation:a,className:be("shrink-0 bg-border",a==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...o}));Bs.displayName=O0.displayName;function De(t,a,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return a==null?void 0:a(i)}}function hC(t,a){const r=x.createContext(a),o=c=>{const{children:d,...p}=c,u=x.useMemo(()=>p,Object.values(p));return e.jsx(r.Provider,{value:u,children:d})};o.displayName=t+"Provider";function i(c){const d=x.useContext(r);if(d)return d;if(a!==void 0)return a;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[o,i]}function za(t,a=[]){let r=[];function o(c,d){const p=x.createContext(d),u=r.length;r=[...r,d];const g=h=>{var P;const{scope:v,children:w,...y}=h,j=((P=v==null?void 0:v[t])==null?void 0:P[u])||p,N=x.useMemo(()=>y,Object.values(y));return e.jsx(j.Provider,{value:N,children:w})};g.displayName=c+"Provider";function f(h,v){var j;const w=((j=v==null?void 0:v[t])==null?void 0:j[u])||p,y=x.useContext(w);if(y)return y;if(d!==void 0)return d;throw new Error(`\`${h}\` must be used within \`${c}\``)}return[g,f]}const i=()=>{const c=r.map(d=>x.createContext(d));return function(p){const u=(p==null?void 0:p[t])||c;return x.useMemo(()=>({[`__scope${t}`]:{...p,[t]:u}}),[p,u])}};return i.scopeName=t,[o,pC(i,...a)]}function pC(...t){const a=t[0];if(t.length===1)return a;const r=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const d=o.reduce((p,{useScope:u,scopeName:g})=>{const h=u(c)[`__scope${g}`];return{...p,...h}},{});return x.useMemo(()=>({[`__scope${a.scopeName}`]:d}),[d])}};return r.scopeName=a.scopeName,r}var is=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},xC=Um[" useId ".trim().toString()]||(()=>{}),gC=0;function Oa(t){const[a,r]=x.useState(xC());return is(()=>{r(o=>o??String(gC++))},[t]),t||(a?`radix-${a}`:"")}var vC=Um[" useInsertionEffect ".trim().toString()]||is;function dn({prop:t,defaultProp:a,onChange:r=()=>{},caller:o}){const[i,c,d]=jC({defaultProp:a,onChange:r}),p=t!==void 0,u=p?t:i;{const f=x.useRef(t!==void 0);x.useEffect(()=>{const h=f.current;h!==p&&console.warn(`${o} is changing from ${h?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=p},[p,o])}const g=x.useCallback(f=>{var h;if(p){const v=yC(f)?f(t):f;v!==t&&((h=d.current)==null||h.call(d,v))}else c(f)},[p,t,c,d]);return[u,g]}function jC({defaultProp:t,onChange:a}){const[r,o]=x.useState(t),i=x.useRef(r),c=x.useRef(a);return vC(()=>{c.current=a},[a]),x.useEffect(()=>{var d;i.current!==r&&((d=c.current)==null||d.call(c,r),i.current=r)},[r,i]),[r,o,c]}function yC(t){return typeof t=="function"}function As(t){const a=x.useRef(t);return x.useEffect(()=>{a.current=t}),x.useMemo(()=>(...r)=>{var o;return(o=a.current)==null?void 0:o.call(a,...r)},[])}function bC(t,a=globalThis==null?void 0:globalThis.document){const r=As(t);x.useEffect(()=>{const o=i=>{i.key==="Escape"&&r(i)};return a.addEventListener("keydown",o,{capture:!0}),()=>a.removeEventListener("keydown",o,{capture:!0})},[r,a])}var wC="DismissableLayer",vm="dismissableLayer.update",NC="dismissableLayer.pointerDownOutside",SC="dismissableLayer.focusOutside",tg,$0=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),no=x.forwardRef((t,a)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:d,onDismiss:p,...u}=t,g=x.useContext($0),[f,h]=x.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),y=kt(a,T=>h(T)),j=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),P=j.indexOf(N),C=f?j.indexOf(f):-1,_=g.layersWithOutsidePointerEventsDisabled.size>0,E=C>=P,k=_C(T=>{const R=T.target,I=[...g.branches].some(L=>L.contains(R));!E||I||(i==null||i(T),d==null||d(T),T.defaultPrevented||p==null||p())},v),A=kC(T=>{const R=T.target;[...g.branches].some(L=>L.contains(R))||(c==null||c(T),d==null||d(T),T.defaultPrevented||p==null||p())},v);return bC(T=>{C===g.layers.size-1&&(o==null||o(T),!T.defaultPrevented&&p&&(T.preventDefault(),p()))},v),x.useEffect(()=>{if(f)return r&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(tg=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(f)),g.layers.add(f),sg(),()=>{r&&g.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=tg)}},[f,v,r,g]),x.useEffect(()=>()=>{f&&(g.layers.delete(f),g.layersWithOutsidePointerEventsDisabled.delete(f),sg())},[f,g]),x.useEffect(()=>{const T=()=>w({});return document.addEventListener(vm,T),()=>document.removeEventListener(vm,T)},[]),e.jsx(et.div,{...u,ref:y,style:{pointerEvents:_?E?"auto":"none":void 0,...t.style},onFocusCapture:De(t.onFocusCapture,A.onFocusCapture),onBlurCapture:De(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:De(t.onPointerDownCapture,k.onPointerDownCapture)})});no.displayName=wC;var CC="DismissableLayerBranch",L0=x.forwardRef((t,a)=>{const r=x.useContext($0),o=x.useRef(null),i=kt(a,o);return x.useEffect(()=>{const c=o.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),e.jsx(et.div,{...t,ref:i})});L0.displayName=CC;function _C(t,a=globalThis==null?void 0:globalThis.document){const r=As(t),o=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const c=p=>{if(p.target&&!o.current){let u=function(){I0(NC,r,g,{discrete:!0})};const g={originalEvent:p};p.pointerType==="touch"?(a.removeEventListener("click",i.current),i.current=u,a.addEventListener("click",i.current,{once:!0})):u()}else a.removeEventListener("click",i.current);o.current=!1},d=window.setTimeout(()=>{a.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),a.removeEventListener("pointerdown",c),a.removeEventListener("click",i.current)}},[a,r]),{onPointerDownCapture:()=>o.current=!0}}function kC(t,a=globalThis==null?void 0:globalThis.document){const r=As(t),o=x.useRef(!1);return x.useEffect(()=>{const i=c=>{c.target&&!o.current&&I0(SC,r,{originalEvent:c},{discrete:!1})};return a.addEventListener("focusin",i),()=>a.removeEventListener("focusin",i)},[a,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function sg(){const t=new CustomEvent(vm);document.dispatchEvent(t)}function I0(t,a,r,{discrete:o}){const i=r.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});a&&i.addEventListener(t,a,{once:!0}),o?Zm(i,c):i.dispatchEvent(c)}var EC=no,RC=L0,Vu="focusScope.autoFocusOnMount",Hu="focusScope.autoFocusOnUnmount",ag={bubbles:!1,cancelable:!0},PC="FocusScope",Sc=x.forwardRef((t,a)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...d}=t,[p,u]=x.useState(null),g=As(i),f=As(c),h=x.useRef(null),v=kt(a,j=>u(j)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(o){let j=function(_){if(w.paused||!p)return;const E=_.target;p.contains(E)?h.current=E:Ar(h.current,{select:!0})},N=function(_){if(w.paused||!p)return;const E=_.relatedTarget;E!==null&&(p.contains(E)||Ar(h.current,{select:!0}))},P=function(_){if(document.activeElement===document.body)for(const k of _)k.removedNodes.length>0&&Ar(p)};document.addEventListener("focusin",j),document.addEventListener("focusout",N);const C=new MutationObserver(P);return p&&C.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",N),C.disconnect()}}},[o,p,w.paused]),x.useEffect(()=>{if(p){ng.add(w);const j=document.activeElement;if(!p.contains(j)){const P=new CustomEvent(Vu,ag);p.addEventListener(Vu,g),p.dispatchEvent(P),P.defaultPrevented||(AC($C(F0(p)),{select:!0}),document.activeElement===j&&Ar(p))}return()=>{p.removeEventListener(Vu,g),setTimeout(()=>{const P=new CustomEvent(Hu,ag);p.addEventListener(Hu,f),p.dispatchEvent(P),P.defaultPrevented||Ar(j??document.body,{select:!0}),p.removeEventListener(Hu,f),ng.remove(w)},0)}}},[p,g,f,w]);const y=x.useCallback(j=>{if(!r&&!o||w.paused)return;const N=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,P=document.activeElement;if(N&&P){const C=j.currentTarget,[_,E]=TC(C);_&&E?!j.shiftKey&&P===E?(j.preventDefault(),r&&Ar(_,{select:!0})):j.shiftKey&&P===_&&(j.preventDefault(),r&&Ar(E,{select:!0})):P===C&&j.preventDefault()}},[r,o,w.paused]);return e.jsx(et.div,{tabIndex:-1,...d,ref:v,onKeyDown:y})});Sc.displayName=PC;function AC(t,{select:a=!1}={}){const r=document.activeElement;for(const o of t)if(Ar(o,{select:a}),document.activeElement!==r)return}function TC(t){const a=F0(t),r=rg(a,t),o=rg(a.reverse(),t);return[r,o]}function F0(t){const a=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)a.push(r.currentNode);return a}function rg(t,a){for(const r of t)if(!MC(r,{upTo:a}))return r}function MC(t,{upTo:a}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(a!==void 0&&t===a)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function DC(t){return t instanceof HTMLInputElement&&"select"in t}function Ar(t,{select:a=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&DC(t)&&a&&t.select()}}var ng=OC();function OC(){let t=[];return{add(a){const r=t[0];a!==r&&(r==null||r.pause()),t=og(t,a),t.unshift(a)},remove(a){var r;t=og(t,a),(r=t[0])==null||r.resume()}}}function og(t,a){const r=[...t],o=r.indexOf(a);return o!==-1&&r.splice(o,1),r}function $C(t){return t.filter(a=>a.tagName!=="A")}var LC="Portal",pi=x.forwardRef((t,a)=>{var p;const{container:r,...o}=t,[i,c]=x.useState(!1);is(()=>c(!0),[]);const d=r||i&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return d?$N.createPortal(e.jsx(et.div,{...o,ref:a}),d):null});pi.displayName=LC;function IC(t,a){return x.useReducer((r,o)=>a[r][o]??r,t)}var Ba=t=>{const{present:a,children:r}=t,o=FC(a),i=typeof r=="function"?r({present:o.isPresent}):x.Children.only(r),c=kt(o.ref,zC(i));return typeof r=="function"||o.isPresent?x.cloneElement(i,{ref:c}):null};Ba.displayName="Presence";function FC(t){const[a,r]=x.useState(),o=x.useRef(null),i=x.useRef(t),c=x.useRef("none"),d=t?"mounted":"unmounted",[p,u]=IC(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const g=Ol(o.current);c.current=p==="mounted"?g:"none"},[p]),is(()=>{const g=o.current,f=i.current;if(f!==t){const v=c.current,w=Ol(g);t?u("MOUNT"):w==="none"||(g==null?void 0:g.display)==="none"?u("UNMOUNT"):u(f&&v!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),is(()=>{if(a){let g;const f=a.ownerDocument.defaultView??window,h=w=>{const j=Ol(o.current).includes(CSS.escape(w.animationName));if(w.target===a&&j&&(u("ANIMATION_END"),!i.current)){const N=a.style.animationFillMode;a.style.animationFillMode="forwards",g=f.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=N)})}},v=w=>{w.target===a&&(c.current=Ol(o.current))};return a.addEventListener("animationstart",v),a.addEventListener("animationcancel",h),a.addEventListener("animationend",h),()=>{f.clearTimeout(g),a.removeEventListener("animationstart",v),a.removeEventListener("animationcancel",h),a.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[a,u]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:x.useCallback(g=>{o.current=g?getComputedStyle(g):null,r(g)},[])}}function Ol(t){return(t==null?void 0:t.animationName)||"none"}function zC(t){var o,i;let a=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?t.ref:(a=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qu=0;function ef(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ig()),document.body.insertAdjacentElement("beforeend",t[1]??ig()),qu++,()=>{qu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),qu--}},[])}function ig(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ta=function(){return Ta=Object.assign||function(a){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])}return a},Ta.apply(this,arguments)};function z0(t,a){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&a.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)a.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(r[o[i]]=t[o[i]]);return r}function BC(t,a,r){if(r||arguments.length===2)for(var o=0,i=a.length,c;o<i;o++)(c||!(o in a))&&(c||(c=Array.prototype.slice.call(a,0,o)),c[o]=a[o]);return t.concat(c||Array.prototype.slice.call(a))}var Wl="right-scroll-bar-position",Gl="width-before-scroll-bar",UC="with-scroll-bars-hidden",VC="--removed-body-scroll-bar-size";function Wu(t,a){return typeof t=="function"?t(a):t&&(t.current=a),t}function HC(t,a){var r=x.useState(function(){return{value:t,callback:a,facade:{get current(){return r.value},set current(o){var i=r.value;i!==o&&(r.value=o,r.callback(o,i))}}}})[0];return r.callback=a,r.facade}var qC=typeof window<"u"?x.useLayoutEffect:x.useEffect,lg=new WeakMap;function WC(t,a){var r=HC(null,function(o){return t.forEach(function(i){return Wu(i,o)})});return qC(function(){var o=lg.get(r);if(o){var i=new Set(o),c=new Set(t),d=r.current;i.forEach(function(p){c.has(p)||Wu(p,null)}),c.forEach(function(p){i.has(p)||Wu(p,d)})}lg.set(r,t)},[t]),r}function GC(t){return t}function KC(t,a){a===void 0&&(a=GC);var r=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(c){var d=a(c,o);return r.push(d),function(){r=r.filter(function(p){return p!==d})}},assignSyncMedium:function(c){for(o=!0;r.length;){var d=r;r=[],d.forEach(c)}r={push:function(p){return c(p)},filter:function(){return r}}},assignMedium:function(c){o=!0;var d=[];if(r.length){var p=r;r=[],p.forEach(c),d=r}var u=function(){var f=d;d=[],f.forEach(c)},g=function(){return Promise.resolve().then(u)};g(),r={push:function(f){d.push(f),g()},filter:function(f){return d=d.filter(f),r}}}};return i}function YC(t){t===void 0&&(t={});var a=KC(null);return a.options=Ta({async:!0,ssr:!1},t),a}var B0=function(t){var a=t.sideCar,r=z0(t,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=a.read();if(!o)throw new Error("Sidecar medium not found");return x.createElement(o,Ta({},r))};B0.isSideCarExport=!0;function JC(t,a){return t.useMedium(a),B0}var U0=YC(),Gu=function(){},Cc=x.forwardRef(function(t,a){var r=x.useRef(null),o=x.useState({onScrollCapture:Gu,onWheelCapture:Gu,onTouchMoveCapture:Gu}),i=o[0],c=o[1],d=t.forwardProps,p=t.children,u=t.className,g=t.removeScrollBar,f=t.enabled,h=t.shards,v=t.sideCar,w=t.noRelative,y=t.noIsolation,j=t.inert,N=t.allowPinchZoom,P=t.as,C=P===void 0?"div":P,_=t.gapMode,E=z0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=v,A=WC([r,a]),T=Ta(Ta({},E),i);return x.createElement(x.Fragment,null,f&&x.createElement(k,{sideCar:U0,removeScrollBar:g,shards:h,noRelative:w,noIsolation:y,inert:j,setCallbacks:c,allowPinchZoom:!!N,lockRef:r,gapMode:_}),d?x.cloneElement(x.Children.only(p),Ta(Ta({},T),{ref:A})):x.createElement(C,Ta({},T,{className:u,ref:A}),p))});Cc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cc.classNames={fullWidth:Gl,zeroRight:Wl};var QC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XC(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var a=QC();return a&&t.setAttribute("nonce",a),t}function ZC(t,a){t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a))}function e_(t){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(t)}var t_=function(){var t=0,a=null;return{add:function(r){t==0&&(a=XC())&&(ZC(a,r),e_(a)),t++},remove:function(){t--,!t&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},s_=function(){var t=t_();return function(a,r){x.useEffect(function(){return t.add(a),function(){t.remove()}},[a&&r])}},V0=function(){var t=s_(),a=function(r){var o=r.styles,i=r.dynamic;return t(o,i),null};return a},a_={left:0,top:0,right:0,gap:0},Ku=function(t){return parseInt(t||"",10)||0},r_=function(t){var a=window.getComputedStyle(document.body),r=a[t==="padding"?"paddingLeft":"marginLeft"],o=a[t==="padding"?"paddingTop":"marginTop"],i=a[t==="padding"?"paddingRight":"marginRight"];return[Ku(r),Ku(o),Ku(i)]},n_=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return a_;var a=r_(t),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,o-r+a[2]-a[0])}},o_=V0(),qn="data-scroll-locked",i_=function(t,a,r,o){var i=t.left,c=t.top,d=t.right,p=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(UC,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(p,"px ").concat(o,`;
  }
  body[`).concat(qn,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wl,` {
    right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(Gl,` {
    margin-right: `).concat(p,"px ").concat(o,`;
  }
  
  .`).concat(Wl," .").concat(Wl,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Gl," .").concat(Gl,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(qn,`] {
    `).concat(VC,": ").concat(p,`px;
  }
`)},cg=function(){var t=parseInt(document.body.getAttribute(qn)||"0",10);return isFinite(t)?t:0},l_=function(){x.useEffect(function(){return document.body.setAttribute(qn,(cg()+1).toString()),function(){var t=cg()-1;t<=0?document.body.removeAttribute(qn):document.body.setAttribute(qn,t.toString())}},[])},c_=function(t){var a=t.noRelative,r=t.noImportant,o=t.gapMode,i=o===void 0?"margin":o;l_();var c=x.useMemo(function(){return n_(i)},[i]);return x.createElement(o_,{styles:i_(c,!a,i,r?"":"!important")})},jm=!1;if(typeof window<"u")try{var $l=Object.defineProperty({},"passive",{get:function(){return jm=!0,!0}});window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{jm=!1}var zn=jm?{passive:!1}:!1,d_=function(t){return t.tagName==="TEXTAREA"},H0=function(t,a){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[a]!=="hidden"&&!(r.overflowY===r.overflowX&&!d_(t)&&r[a]==="visible")},u_=function(t){return H0(t,"overflowY")},m_=function(t){return H0(t,"overflowX")},dg=function(t,a){var r=a.ownerDocument,o=a;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=q0(t,o);if(i){var c=W0(t,o),d=c[1],p=c[2];if(d>p)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},f_=function(t){var a=t.scrollTop,r=t.scrollHeight,o=t.clientHeight;return[a,r,o]},h_=function(t){var a=t.scrollLeft,r=t.scrollWidth,o=t.clientWidth;return[a,r,o]},q0=function(t,a){return t==="v"?u_(a):m_(a)},W0=function(t,a){return t==="v"?f_(a):h_(a)},p_=function(t,a){return t==="h"&&a==="rtl"?-1:1},x_=function(t,a,r,o,i){var c=p_(t,window.getComputedStyle(a).direction),d=c*o,p=r.target,u=a.contains(p),g=!1,f=d>0,h=0,v=0;do{if(!p)break;var w=W0(t,p),y=w[0],j=w[1],N=w[2],P=j-N-c*y;(y||P)&&q0(t,p)&&(h+=P,v+=y);var C=p.parentNode;p=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!u&&p!==document.body||u&&(a.contains(p)||a===p));return(f&&Math.abs(h)<1||!f&&Math.abs(v)<1)&&(g=!0),g},Ll=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ug=function(t){return[t.deltaX,t.deltaY]},mg=function(t){return t&&"current"in t?t.current:t},g_=function(t,a){return t[0]===a[0]&&t[1]===a[1]},v_=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},j_=0,Bn=[];function y_(t){var a=x.useRef([]),r=x.useRef([0,0]),o=x.useRef(),i=x.useState(j_++)[0],c=x.useState(V0)[0],d=x.useRef(t);x.useEffect(function(){d.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var j=BC([t.lockRef.current],(t.shards||[]).map(mg),!0).filter(Boolean);return j.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var p=x.useCallback(function(j,N){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!d.current.allowPinchZoom;var P=Ll(j),C=r.current,_="deltaX"in j?j.deltaX:C[0]-P[0],E="deltaY"in j?j.deltaY:C[1]-P[1],k,A=j.target,T=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in j&&T==="h"&&A.type==="range")return!1;var R=dg(T,A);if(!R)return!0;if(R?k=T:(k=T==="v"?"h":"v",R=dg(T,A)),!R)return!1;if(!o.current&&"changedTouches"in j&&(_||E)&&(o.current=k),!k)return!0;var I=o.current||k;return x_(I,N,j,I==="h"?_:E)},[]),u=x.useCallback(function(j){var N=j;if(!(!Bn.length||Bn[Bn.length-1]!==c)){var P="deltaY"in N?ug(N):Ll(N),C=a.current.filter(function(k){return k.name===N.type&&(k.target===N.target||N.target===k.shadowParent)&&g_(k.delta,P)})[0];if(C&&C.should){N.cancelable&&N.preventDefault();return}if(!C){var _=(d.current.shards||[]).map(mg).filter(Boolean).filter(function(k){return k.contains(N.target)}),E=_.length>0?p(N,_[0]):!d.current.noIsolation;E&&N.cancelable&&N.preventDefault()}}},[]),g=x.useCallback(function(j,N,P,C){var _={name:j,delta:N,target:P,should:C,shadowParent:b_(P)};a.current.push(_),setTimeout(function(){a.current=a.current.filter(function(E){return E!==_})},1)},[]),f=x.useCallback(function(j){r.current=Ll(j),o.current=void 0},[]),h=x.useCallback(function(j){g(j.type,ug(j),j.target,p(j,t.lockRef.current))},[]),v=x.useCallback(function(j){g(j.type,Ll(j),j.target,p(j,t.lockRef.current))},[]);x.useEffect(function(){return Bn.push(c),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:v}),document.addEventListener("wheel",u,zn),document.addEventListener("touchmove",u,zn),document.addEventListener("touchstart",f,zn),function(){Bn=Bn.filter(function(j){return j!==c}),document.removeEventListener("wheel",u,zn),document.removeEventListener("touchmove",u,zn),document.removeEventListener("touchstart",f,zn)}},[]);var w=t.removeScrollBar,y=t.inert;return x.createElement(x.Fragment,null,y?x.createElement(c,{styles:v_(i)}):null,w?x.createElement(c_,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function b_(t){for(var a=null;t!==null;)t instanceof ShadowRoot&&(a=t.host,t=t.host),t=t.parentNode;return a}const w_=JC(U0,y_);var _c=x.forwardRef(function(t,a){return x.createElement(Cc,Ta({},t,{ref:a,sideCar:w_}))});_c.classNames=Cc.classNames;var N_=function(t){if(typeof document>"u")return null;var a=Array.isArray(t)?t[0]:t;return a.ownerDocument.body},Un=new WeakMap,Il=new WeakMap,Fl={},Yu=0,G0=function(t){return t&&(t.host||G0(t.parentNode))},S_=function(t,a){return a.map(function(r){if(t.contains(r))return r;var o=G0(r);return o&&t.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},C_=function(t,a,r,o){var i=S_(a,Array.isArray(t)?t:[t]);Fl[r]||(Fl[r]=new WeakMap);var c=Fl[r],d=[],p=new Set,u=new Set(i),g=function(h){!h||p.has(h)||(p.add(h),g(h.parentNode))};i.forEach(g);var f=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(v){if(p.has(v))f(v);else try{var w=v.getAttribute(o),y=w!==null&&w!=="false",j=(Un.get(v)||0)+1,N=(c.get(v)||0)+1;Un.set(v,j),c.set(v,N),d.push(v),j===1&&y&&Il.set(v,!0),N===1&&v.setAttribute(r,"true"),y||v.setAttribute(o,"true")}catch(P){console.error("aria-hidden: cannot operate on ",v,P)}})};return f(a),p.clear(),Yu++,function(){d.forEach(function(h){var v=Un.get(h)-1,w=c.get(h)-1;Un.set(h,v),c.set(h,w),v||(Il.has(h)||h.removeAttribute(o),Il.delete(h)),w||h.removeAttribute(r)}),Yu--,Yu||(Un=new WeakMap,Un=new WeakMap,Il=new WeakMap,Fl={})}},tf=function(t,a,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),i=N_(t);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),C_(o,i,r,"aria-hidden")):function(){return null}},kc="Dialog",[K0,S5]=za(kc),[__,Sa]=K0(kc),Y0=t=>{const{__scopeDialog:a,children:r,open:o,defaultOpen:i,onOpenChange:c,modal:d=!0}=t,p=x.useRef(null),u=x.useRef(null),[g,f]=dn({prop:o,defaultProp:i??!1,onChange:c,caller:kc});return e.jsx(__,{scope:a,triggerRef:p,contentRef:u,contentId:Oa(),titleId:Oa(),descriptionId:Oa(),open:g,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:d,children:r})};Y0.displayName=kc;var J0="DialogTrigger",Q0=x.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,i=Sa(J0,r),c=kt(a,i.triggerRef);return e.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":rf(i.open),...o,ref:c,onClick:De(t.onClick,i.onOpenToggle)})});Q0.displayName=J0;var sf="DialogPortal",[k_,X0]=K0(sf,{forceMount:void 0}),Z0=t=>{const{__scopeDialog:a,forceMount:r,children:o,container:i}=t,c=Sa(sf,a);return e.jsx(k_,{scope:a,forceMount:r,children:x.Children.map(o,d=>e.jsx(Ba,{present:r||c.open,children:e.jsx(pi,{asChild:!0,container:i,children:d})}))})};Z0.displayName=sf;var ac="DialogOverlay",ev=x.forwardRef((t,a)=>{const r=X0(ac,t.__scopeDialog),{forceMount:o=r.forceMount,...i}=t,c=Sa(ac,t.__scopeDialog);return c.modal?e.jsx(Ba,{present:o||c.open,children:e.jsx(R_,{...i,ref:a})}):null});ev.displayName=ac;var E_=cn("DialogOverlay.RemoveScroll"),R_=x.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,i=Sa(ac,r);return e.jsx(_c,{as:E_,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(et.div,{"data-state":rf(i.open),...o,ref:a,style:{pointerEvents:"auto",...o.style}})})}),un="DialogContent",tv=x.forwardRef((t,a)=>{const r=X0(un,t.__scopeDialog),{forceMount:o=r.forceMount,...i}=t,c=Sa(un,t.__scopeDialog);return e.jsx(Ba,{present:o||c.open,children:c.modal?e.jsx(P_,{...i,ref:a}):e.jsx(A_,{...i,ref:a})})});tv.displayName=un;var P_=x.forwardRef((t,a)=>{const r=Sa(un,t.__scopeDialog),o=x.useRef(null),i=kt(a,r.contentRef,o);return x.useEffect(()=>{const c=o.current;if(c)return tf(c)},[]),e.jsx(sv,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(t.onCloseAutoFocus,c=>{var d;c.preventDefault(),(d=r.triggerRef.current)==null||d.focus()}),onPointerDownOutside:De(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0;(d.button===2||p)&&c.preventDefault()}),onFocusOutside:De(t.onFocusOutside,c=>c.preventDefault())})}),A_=x.forwardRef((t,a)=>{const r=Sa(un,t.__scopeDialog),o=x.useRef(!1),i=x.useRef(!1);return e.jsx(sv,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var d,p;(d=t.onCloseAutoFocus)==null||d.call(t,c),c.defaultPrevented||(o.current||(p=r.triggerRef.current)==null||p.focus(),c.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:c=>{var u,g;(u=t.onInteractOutside)==null||u.call(t,c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=c.target;((g=r.triggerRef.current)==null?void 0:g.contains(d))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),sv=x.forwardRef((t,a)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:c,...d}=t,p=Sa(un,r),u=x.useRef(null),g=kt(a,u);return ef(),e.jsxs(e.Fragment,{children:[e.jsx(Sc,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:c,children:e.jsx(no,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":rf(p.open),...d,ref:g,onDismiss:()=>p.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(T_,{titleId:p.titleId}),e.jsx(D_,{contentRef:u,descriptionId:p.descriptionId})]})]})}),af="DialogTitle",av=x.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,i=Sa(af,r);return e.jsx(et.h2,{id:i.titleId,...o,ref:a})});av.displayName=af;var rv="DialogDescription",nv=x.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,i=Sa(rv,r);return e.jsx(et.p,{id:i.descriptionId,...o,ref:a})});nv.displayName=rv;var ov="DialogClose",iv=x.forwardRef((t,a)=>{const{__scopeDialog:r,...o}=t,i=Sa(ov,r);return e.jsx(et.button,{type:"button",...o,ref:a,onClick:De(t.onClick,()=>i.onOpenChange(!1))})});iv.displayName=ov;function rf(t){return t?"open":"closed"}var lv="DialogTitleWarning",[C5,cv]=hC(lv,{contentName:un,titleName:af,docsSlug:"dialog"}),T_=({titleId:t})=>{const a=cv(lv),r=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},M_="DialogDescriptionWarning",D_=({contentRef:t,descriptionId:a})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cv(M_).contentName}}.`;return x.useEffect(()=>{var c;const i=(c=t.current)==null?void 0:c.getAttribute("aria-describedby");a&&i&&(document.getElementById(a)||console.warn(o))},[o,t,a]),null},dv=Y0,O_=Q0,uv=Z0,Ec=ev,Rc=tv,Pc=av,Ac=nv,mv=iv;const $_=dv,L_=uv,fv=x.forwardRef(({className:t,...a},r)=>e.jsx(Ec,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:r}));fv.displayName=Ec.displayName;const I_=wc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),hv=x.forwardRef(({side:t="right",className:a,children:r,...o},i)=>e.jsxs(L_,{children:[e.jsx(fv,{}),e.jsxs(Rc,{ref:i,className:be(I_({side:t}),a),...o,children:[r,e.jsxs(mv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Xm,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hv.displayName=Rc.displayName;const F_=x.forwardRef(({className:t,...a},r)=>e.jsx(Pc,{ref:r,className:be("text-lg font-semibold text-foreground",t),...a}));F_.displayName=Pc.displayName;const z_=x.forwardRef(({className:t,...a},r)=>e.jsx(Ac,{ref:r,className:be("text-sm text-muted-foreground",t),...a}));z_.displayName=Ac.displayName;function at({className:t,...a}){return e.jsx("div",{className:be("animate-pulse rounded-md bg-muted",t),...a})}const B_=["top","right","bottom","left"],Fr=Math.min,Ys=Math.max,rc=Math.round,zl=Math.floor,$a=t=>({x:t,y:t}),U_={left:"right",right:"left",bottom:"top",top:"bottom"},V_={start:"end",end:"start"};function ym(t,a,r){return Ys(t,Fr(a,r))}function ar(t,a){return typeof t=="function"?t(a):t}function rr(t){return t.split("-")[0]}function oo(t){return t.split("-")[1]}function nf(t){return t==="x"?"y":"x"}function of(t){return t==="y"?"height":"width"}const H_=new Set(["top","bottom"]);function Ma(t){return H_.has(rr(t))?"y":"x"}function lf(t){return nf(Ma(t))}function q_(t,a,r){r===void 0&&(r=!1);const o=oo(t),i=lf(t),c=of(i);let d=i==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return a.reference[c]>a.floating[c]&&(d=nc(d)),[d,nc(d)]}function W_(t){const a=nc(t);return[bm(t),a,bm(a)]}function bm(t){return t.replace(/start|end/g,a=>V_[a])}const fg=["left","right"],hg=["right","left"],G_=["top","bottom"],K_=["bottom","top"];function Y_(t,a,r){switch(t){case"top":case"bottom":return r?a?hg:fg:a?fg:hg;case"left":case"right":return a?G_:K_;default:return[]}}function J_(t,a,r,o){const i=oo(t);let c=Y_(rr(t),r==="start",o);return i&&(c=c.map(d=>d+"-"+i),a&&(c=c.concat(c.map(bm)))),c}function nc(t){return t.replace(/left|right|bottom|top/g,a=>U_[a])}function Q_(t){return{top:0,right:0,bottom:0,left:0,...t}}function pv(t){return typeof t!="number"?Q_(t):{top:t,right:t,bottom:t,left:t}}function oc(t){const{x:a,y:r,width:o,height:i}=t;return{width:o,height:i,top:r,left:a,right:a+o,bottom:r+i,x:a,y:r}}function pg(t,a,r){let{reference:o,floating:i}=t;const c=Ma(a),d=lf(a),p=of(d),u=rr(a),g=c==="y",f=o.x+o.width/2-i.width/2,h=o.y+o.height/2-i.height/2,v=o[p]/2-i[p]/2;let w;switch(u){case"top":w={x:f,y:o.y-i.height};break;case"bottom":w={x:f,y:o.y+o.height};break;case"right":w={x:o.x+o.width,y:h};break;case"left":w={x:o.x-i.width,y:h};break;default:w={x:o.x,y:o.y}}switch(oo(a)){case"start":w[d]-=v*(r&&g?-1:1);break;case"end":w[d]+=v*(r&&g?-1:1);break}return w}const X_=async(t,a,r)=>{const{placement:o="bottom",strategy:i="absolute",middleware:c=[],platform:d}=r,p=c.filter(Boolean),u=await(d.isRTL==null?void 0:d.isRTL(a));let g=await d.getElementRects({reference:t,floating:a,strategy:i}),{x:f,y:h}=pg(g,o,u),v=o,w={},y=0;for(let j=0;j<p.length;j++){const{name:N,fn:P}=p[j],{x:C,y:_,data:E,reset:k}=await P({x:f,y:h,initialPlacement:o,placement:v,strategy:i,middlewareData:w,rects:g,platform:d,elements:{reference:t,floating:a}});f=C??f,h=_??h,w={...w,[N]:{...w[N],...E}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(v=k.placement),k.rects&&(g=k.rects===!0?await d.getElementRects({reference:t,floating:a,strategy:i}):k.rects),{x:f,y:h}=pg(g,v,u)),j=-1)}return{x:f,y:h,placement:v,strategy:i,middlewareData:w}};async function ri(t,a){var r;a===void 0&&(a={});const{x:o,y:i,platform:c,rects:d,elements:p,strategy:u}=t,{boundary:g="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:v=!1,padding:w=0}=ar(a,t),y=pv(w),N=p[v?h==="floating"?"reference":"floating":h],P=oc(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(N)))==null||r?N:N.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(p.floating)),boundary:g,rootBoundary:f,strategy:u})),C=h==="floating"?{x:o,y:i,width:d.floating.width,height:d.floating.height}:d.reference,_=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p.floating)),E=await(c.isElement==null?void 0:c.isElement(_))?await(c.getScale==null?void 0:c.getScale(_))||{x:1,y:1}:{x:1,y:1},k=oc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:C,offsetParent:_,strategy:u}):C);return{top:(P.top-k.top+y.top)/E.y,bottom:(k.bottom-P.bottom+y.bottom)/E.y,left:(P.left-k.left+y.left)/E.x,right:(k.right-P.right+y.right)/E.x}}const Z_=t=>({name:"arrow",options:t,async fn(a){const{x:r,y:o,placement:i,rects:c,platform:d,elements:p,middlewareData:u}=a,{element:g,padding:f=0}=ar(t,a)||{};if(g==null)return{};const h=pv(f),v={x:r,y:o},w=lf(i),y=of(w),j=await d.getDimensions(g),N=w==="y",P=N?"top":"left",C=N?"bottom":"right",_=N?"clientHeight":"clientWidth",E=c.reference[y]+c.reference[w]-v[w]-c.floating[y],k=v[w]-c.reference[w],A=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let T=A?A[_]:0;(!T||!await(d.isElement==null?void 0:d.isElement(A)))&&(T=p.floating[_]||c.floating[y]);const R=E/2-k/2,I=T/2-j[y]/2-1,L=Fr(h[P],I),U=Fr(h[C],I),K=L,z=T-j[y]-U,D=T/2-j[y]/2+R,G=ym(K,D,z),$=!u.arrow&&oo(i)!=null&&D!==G&&c.reference[y]/2-(D<K?L:U)-j[y]/2<0,H=$?D<K?D-K:D-z:0;return{[w]:v[w]+H,data:{[w]:G,centerOffset:D-G-H,...$&&{alignmentOffset:H}},reset:$}}}),ek=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var r,o;const{placement:i,middlewareData:c,rects:d,initialPlacement:p,platform:u,elements:g}=a,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:j=!0,...N}=ar(t,a);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const P=rr(i),C=Ma(p),_=rr(p)===p,E=await(u.isRTL==null?void 0:u.isRTL(g.floating)),k=v||(_||!j?[nc(p)]:W_(p)),A=y!=="none";!v&&A&&k.push(...J_(p,j,y,E));const T=[p,...k],R=await ri(a,N),I=[];let L=((o=c.flip)==null?void 0:o.overflows)||[];if(f&&I.push(R[P]),h){const D=q_(i,d,E);I.push(R[D[0]],R[D[1]])}if(L=[...L,{placement:i,overflows:I}],!I.every(D=>D<=0)){var U,K;const D=(((U=c.flip)==null?void 0:U.index)||0)+1,G=T[D];if(G&&(!(h==="alignment"?C!==Ma(G):!1)||L.every(q=>Ma(q.placement)===C?q.overflows[0]>0:!0)))return{data:{index:D,overflows:L},reset:{placement:G}};let $=(K=L.filter(H=>H.overflows[0]<=0).sort((H,q)=>H.overflows[1]-q.overflows[1])[0])==null?void 0:K.placement;if(!$)switch(w){case"bestFit":{var z;const H=(z=L.filter(q=>{if(A){const Y=Ma(q.placement);return Y===C||Y==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Y=>Y>0).reduce((Y,ee)=>Y+ee,0)]).sort((q,Y)=>q[1]-Y[1])[0])==null?void 0:z[0];H&&($=H);break}case"initialPlacement":$=p;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function xg(t,a){return{top:t.top-a.height,right:t.right-a.width,bottom:t.bottom-a.height,left:t.left-a.width}}function gg(t){return B_.some(a=>t[a]>=0)}const tk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(a){const{rects:r}=a,{strategy:o="referenceHidden",...i}=ar(t,a);switch(o){case"referenceHidden":{const c=await ri(a,{...i,elementContext:"reference"}),d=xg(c,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:gg(d)}}}case"escaped":{const c=await ri(a,{...i,altBoundary:!0}),d=xg(c,r.floating);return{data:{escapedOffsets:d,escaped:gg(d)}}}default:return{}}}}},xv=new Set(["left","top"]);async function sk(t,a){const{placement:r,platform:o,elements:i}=t,c=await(o.isRTL==null?void 0:o.isRTL(i.floating)),d=rr(r),p=oo(r),u=Ma(r)==="y",g=xv.has(d)?-1:1,f=c&&u?-1:1,h=ar(a,t);let{mainAxis:v,crossAxis:w,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return p&&typeof y=="number"&&(w=p==="end"?y*-1:y),u?{x:w*f,y:v*g}:{x:v*g,y:w*f}}const ak=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var r,o;const{x:i,y:c,placement:d,middlewareData:p}=a,u=await sk(a,t);return d===((r=p.offset)==null?void 0:r.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:i+u.x,y:c+u.y,data:{...u,placement:d}}}}},rk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(a){const{x:r,y:o,placement:i}=a,{mainAxis:c=!0,crossAxis:d=!1,limiter:p={fn:N=>{let{x:P,y:C}=N;return{x:P,y:C}}},...u}=ar(t,a),g={x:r,y:o},f=await ri(a,u),h=Ma(rr(i)),v=nf(h);let w=g[v],y=g[h];if(c){const N=v==="y"?"top":"left",P=v==="y"?"bottom":"right",C=w+f[N],_=w-f[P];w=ym(C,w,_)}if(d){const N=h==="y"?"top":"left",P=h==="y"?"bottom":"right",C=y+f[N],_=y-f[P];y=ym(C,y,_)}const j=p.fn({...a,[v]:w,[h]:y});return{...j,data:{x:j.x-r,y:j.y-o,enabled:{[v]:c,[h]:d}}}}}},nk=function(t){return t===void 0&&(t={}),{options:t,fn(a){const{x:r,y:o,placement:i,rects:c,middlewareData:d}=a,{offset:p=0,mainAxis:u=!0,crossAxis:g=!0}=ar(t,a),f={x:r,y:o},h=Ma(i),v=nf(h);let w=f[v],y=f[h];const j=ar(p,a),N=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(u){const _=v==="y"?"height":"width",E=c.reference[v]-c.floating[_]+N.mainAxis,k=c.reference[v]+c.reference[_]-N.mainAxis;w<E?w=E:w>k&&(w=k)}if(g){var P,C;const _=v==="y"?"width":"height",E=xv.has(rr(i)),k=c.reference[h]-c.floating[_]+(E&&((P=d.offset)==null?void 0:P[h])||0)+(E?0:N.crossAxis),A=c.reference[h]+c.reference[_]+(E?0:((C=d.offset)==null?void 0:C[h])||0)-(E?N.crossAxis:0);y<k?y=k:y>A&&(y=A)}return{[v]:w,[h]:y}}}},ok=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(a){var r,o;const{placement:i,rects:c,platform:d,elements:p}=a,{apply:u=()=>{},...g}=ar(t,a),f=await ri(a,g),h=rr(i),v=oo(i),w=Ma(i)==="y",{width:y,height:j}=c.floating;let N,P;h==="top"||h==="bottom"?(N=h,P=v===(await(d.isRTL==null?void 0:d.isRTL(p.floating))?"start":"end")?"left":"right"):(P=h,N=v==="end"?"top":"bottom");const C=j-f.top-f.bottom,_=y-f.left-f.right,E=Fr(j-f[N],C),k=Fr(y-f[P],_),A=!a.middlewareData.shift;let T=E,R=k;if((r=a.middlewareData.shift)!=null&&r.enabled.x&&(R=_),(o=a.middlewareData.shift)!=null&&o.enabled.y&&(T=C),A&&!v){const L=Ys(f.left,0),U=Ys(f.right,0),K=Ys(f.top,0),z=Ys(f.bottom,0);w?R=y-2*(L!==0||U!==0?L+U:Ys(f.left,f.right)):T=j-2*(K!==0||z!==0?K+z:Ys(f.top,f.bottom))}await u({...a,availableWidth:R,availableHeight:T});const I=await d.getDimensions(p.floating);return y!==I.width||j!==I.height?{reset:{rects:!0}}:{}}}};function Tc(){return typeof window<"u"}function io(t){return gv(t)?(t.nodeName||"").toLowerCase():"#document"}function Xs(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function Ua(t){var a;return(a=(gv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function gv(t){return Tc()?t instanceof Node||t instanceof Xs(t).Node:!1}function ba(t){return Tc()?t instanceof Element||t instanceof Xs(t).Element:!1}function Ia(t){return Tc()?t instanceof HTMLElement||t instanceof Xs(t).HTMLElement:!1}function vg(t){return!Tc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xs(t).ShadowRoot}const ik=new Set(["inline","contents"]);function xi(t){const{overflow:a,overflowX:r,overflowY:o,display:i}=wa(t);return/auto|scroll|overlay|hidden|clip/.test(a+o+r)&&!ik.has(i)}const lk=new Set(["table","td","th"]);function ck(t){return lk.has(io(t))}const dk=[":popover-open",":modal"];function Mc(t){return dk.some(a=>{try{return t.matches(a)}catch{return!1}})}const uk=["transform","translate","scale","rotate","perspective"],mk=["transform","translate","scale","rotate","perspective","filter"],fk=["paint","layout","strict","content"];function cf(t){const a=df(),r=ba(t)?wa(t):t;return uk.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!a&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!a&&(r.filter?r.filter!=="none":!1)||mk.some(o=>(r.willChange||"").includes(o))||fk.some(o=>(r.contain||"").includes(o))}function hk(t){let a=zr(t);for(;Ia(a)&&!Yn(a);){if(cf(a))return a;if(Mc(a))return null;a=zr(a)}return null}function df(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pk=new Set(["html","body","#document"]);function Yn(t){return pk.has(io(t))}function wa(t){return Xs(t).getComputedStyle(t)}function Dc(t){return ba(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zr(t){if(io(t)==="html")return t;const a=t.assignedSlot||t.parentNode||vg(t)&&t.host||Ua(t);return vg(a)?a.host:a}function vv(t){const a=zr(t);return Yn(a)?t.ownerDocument?t.ownerDocument.body:t.body:Ia(a)&&xi(a)?a:vv(a)}function ni(t,a,r){var o;a===void 0&&(a=[]),r===void 0&&(r=!0);const i=vv(t),c=i===((o=t.ownerDocument)==null?void 0:o.body),d=Xs(i);if(c){const p=wm(d);return a.concat(d,d.visualViewport||[],xi(i)?i:[],p&&r?ni(p):[])}return a.concat(i,ni(i,[],r))}function wm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jv(t){const a=wa(t);let r=parseFloat(a.width)||0,o=parseFloat(a.height)||0;const i=Ia(t),c=i?t.offsetWidth:r,d=i?t.offsetHeight:o,p=rc(r)!==c||rc(o)!==d;return p&&(r=c,o=d),{width:r,height:o,$:p}}function uf(t){return ba(t)?t:t.contextElement}function Wn(t){const a=uf(t);if(!Ia(a))return $a(1);const r=a.getBoundingClientRect(),{width:o,height:i,$:c}=jv(a);let d=(c?rc(r.width):r.width)/o,p=(c?rc(r.height):r.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const xk=$a(0);function yv(t){const a=Xs(t);return!df()||!a.visualViewport?xk:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function gk(t,a,r){return a===void 0&&(a=!1),!r||a&&r!==Xs(t)?!1:a}function mn(t,a,r,o){a===void 0&&(a=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),c=uf(t);let d=$a(1);a&&(o?ba(o)&&(d=Wn(o)):d=Wn(t));const p=gk(c,r,o)?yv(c):$a(0);let u=(i.left+p.x)/d.x,g=(i.top+p.y)/d.y,f=i.width/d.x,h=i.height/d.y;if(c){const v=Xs(c),w=o&&ba(o)?Xs(o):o;let y=v,j=wm(y);for(;j&&o&&w!==y;){const N=Wn(j),P=j.getBoundingClientRect(),C=wa(j),_=P.left+(j.clientLeft+parseFloat(C.paddingLeft))*N.x,E=P.top+(j.clientTop+parseFloat(C.paddingTop))*N.y;u*=N.x,g*=N.y,f*=N.x,h*=N.y,u+=_,g+=E,y=Xs(j),j=wm(y)}}return oc({width:f,height:h,x:u,y:g})}function mf(t,a){const r=Dc(t).scrollLeft;return a?a.left+r:mn(Ua(t)).left+r}function bv(t,a,r){r===void 0&&(r=!1);const o=t.getBoundingClientRect(),i=o.left+a.scrollLeft-(r?0:mf(t,o)),c=o.top+a.scrollTop;return{x:i,y:c}}function vk(t){let{elements:a,rect:r,offsetParent:o,strategy:i}=t;const c=i==="fixed",d=Ua(o),p=a?Mc(a.floating):!1;if(o===d||p&&c)return r;let u={scrollLeft:0,scrollTop:0},g=$a(1);const f=$a(0),h=Ia(o);if((h||!h&&!c)&&((io(o)!=="body"||xi(d))&&(u=Dc(o)),Ia(o))){const w=mn(o);g=Wn(o),f.x=w.x+o.clientLeft,f.y=w.y+o.clientTop}const v=d&&!h&&!c?bv(d,u,!0):$a(0);return{width:r.width*g.x,height:r.height*g.y,x:r.x*g.x-u.scrollLeft*g.x+f.x+v.x,y:r.y*g.y-u.scrollTop*g.y+f.y+v.y}}function jk(t){return Array.from(t.getClientRects())}function yk(t){const a=Ua(t),r=Dc(t),o=t.ownerDocument.body,i=Ys(a.scrollWidth,a.clientWidth,o.scrollWidth,o.clientWidth),c=Ys(a.scrollHeight,a.clientHeight,o.scrollHeight,o.clientHeight);let d=-r.scrollLeft+mf(t);const p=-r.scrollTop;return wa(o).direction==="rtl"&&(d+=Ys(a.clientWidth,o.clientWidth)-i),{width:i,height:c,x:d,y:p}}function bk(t,a){const r=Xs(t),o=Ua(t),i=r.visualViewport;let c=o.clientWidth,d=o.clientHeight,p=0,u=0;if(i){c=i.width,d=i.height;const g=df();(!g||g&&a==="fixed")&&(p=i.offsetLeft,u=i.offsetTop)}return{width:c,height:d,x:p,y:u}}const wk=new Set(["absolute","fixed"]);function Nk(t,a){const r=mn(t,!0,a==="fixed"),o=r.top+t.clientTop,i=r.left+t.clientLeft,c=Ia(t)?Wn(t):$a(1),d=t.clientWidth*c.x,p=t.clientHeight*c.y,u=i*c.x,g=o*c.y;return{width:d,height:p,x:u,y:g}}function jg(t,a,r){let o;if(a==="viewport")o=bk(t,r);else if(a==="document")o=yk(Ua(t));else if(ba(a))o=Nk(a,r);else{const i=yv(t);o={x:a.x-i.x,y:a.y-i.y,width:a.width,height:a.height}}return oc(o)}function wv(t,a){const r=zr(t);return r===a||!ba(r)||Yn(r)?!1:wa(r).position==="fixed"||wv(r,a)}function Sk(t,a){const r=a.get(t);if(r)return r;let o=ni(t,[],!1).filter(p=>ba(p)&&io(p)!=="body"),i=null;const c=wa(t).position==="fixed";let d=c?zr(t):t;for(;ba(d)&&!Yn(d);){const p=wa(d),u=cf(d);!u&&p.position==="fixed"&&(i=null),(c?!u&&!i:!u&&p.position==="static"&&!!i&&wk.has(i.position)||xi(d)&&!u&&wv(t,d))?o=o.filter(f=>f!==d):i=p,d=zr(d)}return a.set(t,o),o}function Ck(t){let{element:a,boundary:r,rootBoundary:o,strategy:i}=t;const d=[...r==="clippingAncestors"?Mc(a)?[]:Sk(a,this._c):[].concat(r),o],p=d[0],u=d.reduce((g,f)=>{const h=jg(a,f,i);return g.top=Ys(h.top,g.top),g.right=Fr(h.right,g.right),g.bottom=Fr(h.bottom,g.bottom),g.left=Ys(h.left,g.left),g},jg(a,p,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function _k(t){const{width:a,height:r}=jv(t);return{width:a,height:r}}function kk(t,a,r){const o=Ia(a),i=Ua(a),c=r==="fixed",d=mn(t,!0,c,a);let p={scrollLeft:0,scrollTop:0};const u=$a(0);function g(){u.x=mf(i)}if(o||!o&&!c)if((io(a)!=="body"||xi(i))&&(p=Dc(a)),o){const w=mn(a,!0,c,a);u.x=w.x+a.clientLeft,u.y=w.y+a.clientTop}else i&&g();c&&!o&&i&&g();const f=i&&!o&&!c?bv(i,p):$a(0),h=d.left+p.scrollLeft-u.x-f.x,v=d.top+p.scrollTop-u.y-f.y;return{x:h,y:v,width:d.width,height:d.height}}function Ju(t){return wa(t).position==="static"}function yg(t,a){if(!Ia(t)||wa(t).position==="fixed")return null;if(a)return a(t);let r=t.offsetParent;return Ua(t)===r&&(r=r.ownerDocument.body),r}function Nv(t,a){const r=Xs(t);if(Mc(t))return r;if(!Ia(t)){let i=zr(t);for(;i&&!Yn(i);){if(ba(i)&&!Ju(i))return i;i=zr(i)}return r}let o=yg(t,a);for(;o&&ck(o)&&Ju(o);)o=yg(o,a);return o&&Yn(o)&&Ju(o)&&!cf(o)?r:o||hk(t)||r}const Ek=async function(t){const a=this.getOffsetParent||Nv,r=this.getDimensions,o=await r(t.floating);return{reference:kk(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Rk(t){return wa(t).direction==="rtl"}const Pk={convertOffsetParentRelativeRectToViewportRelativeRect:vk,getDocumentElement:Ua,getClippingRect:Ck,getOffsetParent:Nv,getElementRects:Ek,getClientRects:jk,getDimensions:_k,getScale:Wn,isElement:ba,isRTL:Rk};function Sv(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}function Ak(t,a){let r=null,o;const i=Ua(t);function c(){var p;clearTimeout(o),(p=r)==null||p.disconnect(),r=null}function d(p,u){p===void 0&&(p=!1),u===void 0&&(u=1),c();const g=t.getBoundingClientRect(),{left:f,top:h,width:v,height:w}=g;if(p||a(),!v||!w)return;const y=zl(h),j=zl(i.clientWidth-(f+v)),N=zl(i.clientHeight-(h+w)),P=zl(f),_={rootMargin:-y+"px "+-j+"px "+-N+"px "+-P+"px",threshold:Ys(0,Fr(1,u))||1};let E=!0;function k(A){const T=A[0].intersectionRatio;if(T!==u){if(!E)return d();T?d(!1,T):o=setTimeout(()=>{d(!1,1e-7)},1e3)}T===1&&!Sv(g,t.getBoundingClientRect())&&d(),E=!1}try{r=new IntersectionObserver(k,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(k,_)}r.observe(t)}return d(!0),c}function Tk(t,a,r,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,g=uf(t),f=i||c?[...g?ni(g):[],...ni(a)]:[];f.forEach(P=>{i&&P.addEventListener("scroll",r,{passive:!0}),c&&P.addEventListener("resize",r)});const h=g&&p?Ak(g,r):null;let v=-1,w=null;d&&(w=new ResizeObserver(P=>{let[C]=P;C&&C.target===g&&w&&(w.unobserve(a),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var _;(_=w)==null||_.observe(a)})),r()}),g&&!u&&w.observe(g),w.observe(a));let y,j=u?mn(t):null;u&&N();function N(){const P=mn(t);j&&!Sv(j,P)&&r(),j=P,y=requestAnimationFrame(N)}return r(),()=>{var P;f.forEach(C=>{i&&C.removeEventListener("scroll",r),c&&C.removeEventListener("resize",r)}),h==null||h(),(P=w)==null||P.disconnect(),w=null,u&&cancelAnimationFrame(y)}}const Mk=ak,Dk=rk,Ok=ek,$k=ok,Lk=tk,bg=Z_,Ik=nk,Fk=(t,a,r)=>{const o=new Map,i={platform:Pk,...r},c={...i.platform,_c:o};return X_(t,a,{...i,platform:c})};var zk=typeof document<"u",Bk=function(){},Kl=zk?x.useLayoutEffect:Bk;function ic(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let r,o,i;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==a.length)return!1;for(o=r;o--!==0;)if(!ic(t[o],a[o]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(a).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(a,i[o]))return!1;for(o=r;o--!==0;){const c=i[o];if(!(c==="_owner"&&t.$$typeof)&&!ic(t[c],a[c]))return!1}return!0}return t!==t&&a!==a}function Cv(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function wg(t,a){const r=Cv(t);return Math.round(a*r)/r}function Qu(t){const a=x.useRef(t);return Kl(()=>{a.current=t}),a}function Uk(t){t===void 0&&(t={});const{placement:a="bottom",strategy:r="absolute",middleware:o=[],platform:i,elements:{reference:c,floating:d}={},transform:p=!0,whileElementsMounted:u,open:g}=t,[f,h]=x.useState({x:0,y:0,strategy:r,placement:a,middlewareData:{},isPositioned:!1}),[v,w]=x.useState(o);ic(v,o)||w(o);const[y,j]=x.useState(null),[N,P]=x.useState(null),C=x.useCallback(q=>{q!==A.current&&(A.current=q,j(q))},[]),_=x.useCallback(q=>{q!==T.current&&(T.current=q,P(q))},[]),E=c||y,k=d||N,A=x.useRef(null),T=x.useRef(null),R=x.useRef(f),I=u!=null,L=Qu(u),U=Qu(i),K=Qu(g),z=x.useCallback(()=>{if(!A.current||!T.current)return;const q={placement:a,strategy:r,middleware:v};U.current&&(q.platform=U.current),Fk(A.current,T.current,q).then(Y=>{const ee={...Y,isPositioned:K.current!==!1};D.current&&!ic(R.current,ee)&&(R.current=ee,Qn.flushSync(()=>{h(ee)}))})},[v,a,r,U,K]);Kl(()=>{g===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[g]);const D=x.useRef(!1);Kl(()=>(D.current=!0,()=>{D.current=!1}),[]),Kl(()=>{if(E&&(A.current=E),k&&(T.current=k),E&&k){if(L.current)return L.current(E,k,z);z()}},[E,k,z,L,I]);const G=x.useMemo(()=>({reference:A,floating:T,setReference:C,setFloating:_}),[C,_]),$=x.useMemo(()=>({reference:E,floating:k}),[E,k]),H=x.useMemo(()=>{const q={position:r,left:0,top:0};if(!$.floating)return q;const Y=wg($.floating,f.x),ee=wg($.floating,f.y);return p?{...q,transform:"translate("+Y+"px, "+ee+"px)",...Cv($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Y,top:ee}},[r,p,$.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:z,refs:G,elements:$,floatingStyles:H}),[f,z,G,$,H])}const Vk=t=>{function a(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:o,padding:i}=typeof t=="function"?t(r):t;return o&&a(o)?o.current!=null?bg({element:o.current,padding:i}).fn(r):{}:o?bg({element:o,padding:i}).fn(r):{}}}},Hk=(t,a)=>({...Mk(t),options:[t,a]}),qk=(t,a)=>({...Dk(t),options:[t,a]}),Wk=(t,a)=>({...Ik(t),options:[t,a]}),Gk=(t,a)=>({...Ok(t),options:[t,a]}),Kk=(t,a)=>({...$k(t),options:[t,a]}),Yk=(t,a)=>({...Lk(t),options:[t,a]}),Jk=(t,a)=>({...Vk(t),options:[t,a]});var Qk="Arrow",_v=x.forwardRef((t,a)=>{const{children:r,width:o=10,height:i=5,...c}=t;return e.jsx(et.svg,{...c,ref:a,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});_v.displayName=Qk;var Xk=_v;function Zk(t){const[a,r]=x.useState(void 0);return is(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let d,p;if("borderBoxSize"in c){const u=c.borderBoxSize,g=Array.isArray(u)?u[0]:u;d=g.inlineSize,p=g.blockSize}else d=t.offsetWidth,p=t.offsetHeight;r({width:d,height:p})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else r(void 0)},[t]),a}var ff="Popper",[kv,lo]=za(ff),[eE,Ev]=kv(ff),Rv=t=>{const{__scopePopper:a,children:r}=t,[o,i]=x.useState(null);return e.jsx(eE,{scope:a,anchor:o,onAnchorChange:i,children:r})};Rv.displayName=ff;var Pv="PopperAnchor",Av=x.forwardRef((t,a)=>{const{__scopePopper:r,virtualRef:o,...i}=t,c=Ev(Pv,r),d=x.useRef(null),p=kt(a,d),u=x.useRef(null);return x.useEffect(()=>{const g=u.current;u.current=(o==null?void 0:o.current)||d.current,g!==u.current&&c.onAnchorChange(u.current)}),o?null:e.jsx(et.div,{...i,ref:p})});Av.displayName=Pv;var hf="PopperContent",[tE,sE]=kv(hf),Tv=x.forwardRef((t,a)=>{var se,ne,ve,ge,Pe,Me;const{__scopePopper:r,side:o="bottom",sideOffset:i=0,align:c="center",alignOffset:d=0,arrowPadding:p=0,avoidCollisions:u=!0,collisionBoundary:g=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:y,...j}=t,N=Ev(hf,r),[P,C]=x.useState(null),_=kt(a,Ve=>C(Ve)),[E,k]=x.useState(null),A=Zk(E),T=(A==null?void 0:A.width)??0,R=(A==null?void 0:A.height)??0,I=o+(c!=="center"?"-"+c:""),L=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},U=Array.isArray(g)?g:[g],K=U.length>0,z={padding:L,boundary:U.filter(rE),altBoundary:K},{refs:D,floatingStyles:G,placement:$,isPositioned:H,middlewareData:q}=Uk({strategy:"fixed",placement:I,whileElementsMounted:(...Ve)=>Tk(...Ve,{animationFrame:w==="always"}),elements:{reference:N.anchor},middleware:[Hk({mainAxis:i+R,alignmentAxis:d}),u&&qk({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Wk():void 0,...z}),u&&Gk({...z}),Kk({...z,apply:({elements:Ve,rects:lt,availableWidth:yt,availableHeight:Tt})=>{const{width:It,height:ms}=lt.reference,Et=Ve.floating.style;Et.setProperty("--radix-popper-available-width",`${yt}px`),Et.setProperty("--radix-popper-available-height",`${Tt}px`),Et.setProperty("--radix-popper-anchor-width",`${It}px`),Et.setProperty("--radix-popper-anchor-height",`${ms}px`)}}),E&&Jk({element:E,padding:p}),nE({arrowWidth:T,arrowHeight:R}),v&&Yk({strategy:"referenceHidden",...z})]}),[Y,ee]=Ov($),M=As(y);is(()=>{H&&(M==null||M())},[H,M]);const B=(se=q.arrow)==null?void 0:se.x,re=(ne=q.arrow)==null?void 0:ne.y,F=((ve=q.arrow)==null?void 0:ve.centerOffset)!==0,[V,Q]=x.useState();return is(()=>{P&&Q(window.getComputedStyle(P).zIndex)},[P]),e.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:H?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(ge=q.transformOrigin)==null?void 0:ge.x,(Pe=q.transformOrigin)==null?void 0:Pe.y].join(" "),...((Me=q.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(tE,{scope:r,placedSide:Y,onArrowChange:k,arrowX:B,arrowY:re,shouldHideArrow:F,children:e.jsx(et.div,{"data-side":Y,"data-align":ee,...j,ref:_,style:{...j.style,animation:H?void 0:"none"}})})})});Tv.displayName=hf;var Mv="PopperArrow",aE={top:"bottom",right:"left",bottom:"top",left:"right"},Dv=x.forwardRef(function(a,r){const{__scopePopper:o,...i}=a,c=sE(Mv,o),d=aE[c.placedSide];return e.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:e.jsx(Xk,{...i,ref:r,style:{...i.style,display:"block"}})})});Dv.displayName=Mv;function rE(t){return t!==null}var nE=t=>({name:"transformOrigin",options:t,fn(a){var N,P,C;const{placement:r,rects:o,middlewareData:i}=a,d=((N=i.arrow)==null?void 0:N.centerOffset)!==0,p=d?0:t.arrowWidth,u=d?0:t.arrowHeight,[g,f]=Ov(r),h={start:"0%",center:"50%",end:"100%"}[f],v=(((P=i.arrow)==null?void 0:P.x)??0)+p/2,w=(((C=i.arrow)==null?void 0:C.y)??0)+u/2;let y="",j="";return g==="bottom"?(y=d?h:`${v}px`,j=`${-u}px`):g==="top"?(y=d?h:`${v}px`,j=`${o.floating.height+u}px`):g==="right"?(y=`${-u}px`,j=d?h:`${w}px`):g==="left"&&(y=`${o.floating.width+u}px`,j=d?h:`${w}px`),{data:{x:y,y:j}}}});function Ov(t){const[a,r="center"]=t.split("-");return[a,r]}var pf=Rv,xf=Av,gf=Tv,vf=Dv,$v=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oE="VisuallyHidden",Oc=x.forwardRef((t,a)=>e.jsx(et.span,{...t,ref:a,style:{...$v,...t.style}}));Oc.displayName=oE;var iE=Oc,[$c,_5]=za("Tooltip",[lo]),Lc=lo(),Lv="TooltipProvider",lE=700,Nm="tooltip.open",[cE,jf]=$c(Lv),Iv=t=>{const{__scopeTooltip:a,delayDuration:r=lE,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:c}=t,d=x.useRef(!0),p=x.useRef(!1),u=x.useRef(0);return x.useEffect(()=>{const g=u.current;return()=>window.clearTimeout(g)},[]),e.jsx(cE,{scope:a,isOpenDelayedRef:d,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(u.current),d.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>d.current=!0,o)},[o]),isPointerInTransitRef:p,onPointerInTransitChange:x.useCallback(g=>{p.current=g},[]),disableHoverableContent:i,children:c})};Iv.displayName=Lv;var oi="Tooltip",[dE,Ic]=$c(oi),Fv=t=>{const{__scopeTooltip:a,children:r,open:o,defaultOpen:i,onOpenChange:c,disableHoverableContent:d,delayDuration:p}=t,u=jf(oi,t.__scopeTooltip),g=Lc(a),[f,h]=x.useState(null),v=Oa(),w=x.useRef(0),y=d??u.disableHoverableContent,j=p??u.delayDuration,N=x.useRef(!1),[P,C]=dn({prop:o,defaultProp:i??!1,onChange:T=>{T?(u.onOpen(),document.dispatchEvent(new CustomEvent(Nm))):u.onClose(),c==null||c(T)},caller:oi}),_=x.useMemo(()=>P?N.current?"delayed-open":"instant-open":"closed",[P]),E=x.useCallback(()=>{window.clearTimeout(w.current),w.current=0,N.current=!1,C(!0)},[C]),k=x.useCallback(()=>{window.clearTimeout(w.current),w.current=0,C(!1)},[C]),A=x.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{N.current=!0,C(!0),w.current=0},j)},[j,C]);return x.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),e.jsx(pf,{...g,children:e.jsx(dE,{scope:a,contentId:v,open:P,stateAttribute:_,trigger:f,onTriggerChange:h,onTriggerEnter:x.useCallback(()=>{u.isOpenDelayedRef.current?A():E()},[u.isOpenDelayedRef,A,E]),onTriggerLeave:x.useCallback(()=>{y?k():(window.clearTimeout(w.current),w.current=0)},[k,y]),onOpen:E,onClose:k,disableHoverableContent:y,children:r})})};Fv.displayName=oi;var Sm="TooltipTrigger",zv=x.forwardRef((t,a)=>{const{__scopeTooltip:r,...o}=t,i=Ic(Sm,r),c=jf(Sm,r),d=Lc(r),p=x.useRef(null),u=kt(a,p,i.onTriggerChange),g=x.useRef(!1),f=x.useRef(!1),h=x.useCallback(()=>g.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),e.jsx(xf,{asChild:!0,...d,children:e.jsx(et.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:u,onPointerMove:De(t.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!c.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:De(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:De(t.onPointerDown,()=>{i.open&&i.onClose(),g.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:De(t.onFocus,()=>{g.current||i.onOpen()}),onBlur:De(t.onBlur,i.onClose),onClick:De(t.onClick,i.onClose)})})});zv.displayName=Sm;var uE="TooltipPortal",[k5,mE]=$c(uE,{forceMount:void 0}),Jn="TooltipContent",Bv=x.forwardRef((t,a)=>{const r=mE(Jn,t.__scopeTooltip),{forceMount:o=r.forceMount,side:i="top",...c}=t,d=Ic(Jn,t.__scopeTooltip);return e.jsx(Ba,{present:o||d.open,children:d.disableHoverableContent?e.jsx(Uv,{side:i,...c,ref:a}):e.jsx(fE,{side:i,...c,ref:a})})}),fE=x.forwardRef((t,a)=>{const r=Ic(Jn,t.__scopeTooltip),o=jf(Jn,t.__scopeTooltip),i=x.useRef(null),c=kt(a,i),[d,p]=x.useState(null),{trigger:u,onClose:g}=r,f=i.current,{onPointerInTransitChange:h}=o,v=x.useCallback(()=>{p(null),h(!1)},[h]),w=x.useCallback((y,j)=>{const N=y.currentTarget,P={x:y.clientX,y:y.clientY},C=vE(P,N.getBoundingClientRect()),_=jE(P,C),E=yE(j.getBoundingClientRect()),k=wE([..._,...E]);p(k),h(!0)},[h]);return x.useEffect(()=>()=>v(),[v]),x.useEffect(()=>{if(u&&f){const y=N=>w(N,f),j=N=>w(N,u);return u.addEventListener("pointerleave",y),f.addEventListener("pointerleave",j),()=>{u.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",j)}}},[u,f,w,v]),x.useEffect(()=>{if(d){const y=j=>{const N=j.target,P={x:j.clientX,y:j.clientY},C=(u==null?void 0:u.contains(N))||(f==null?void 0:f.contains(N)),_=!bE(P,d);C?v():_&&(v(),g())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[u,f,d,g,v]),e.jsx(Uv,{...t,ref:c})}),[hE,pE]=$c(oi,{isInside:!1}),xE=ES("TooltipContent"),Uv=x.forwardRef((t,a)=>{const{__scopeTooltip:r,children:o,"aria-label":i,onEscapeKeyDown:c,onPointerDownOutside:d,...p}=t,u=Ic(Jn,r),g=Lc(r),{onClose:f}=u;return x.useEffect(()=>(document.addEventListener(Nm,f),()=>document.removeEventListener(Nm,f)),[f]),x.useEffect(()=>{if(u.trigger){const h=v=>{const w=v.target;w!=null&&w.contains(u.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,f]),e.jsx(no,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:e.jsxs(gf,{"data-state":u.stateAttribute,...g,...p,ref:a,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(xE,{children:o}),e.jsx(hE,{scope:r,isInside:!0,children:e.jsx(iE,{id:u.contentId,role:"tooltip",children:i||o})})]})})});Bv.displayName=Jn;var Vv="TooltipArrow",gE=x.forwardRef((t,a)=>{const{__scopeTooltip:r,...o}=t,i=Lc(r);return pE(Vv,r).isInside?null:e.jsx(vf,{...i,...o,ref:a})});gE.displayName=Vv;function vE(t,a){const r=Math.abs(a.top-t.y),o=Math.abs(a.bottom-t.y),i=Math.abs(a.right-t.x),c=Math.abs(a.left-t.x);switch(Math.min(r,o,i,c)){case c:return"left";case i:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function jE(t,a,r=5){const o=[];switch(a){case"top":o.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":o.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":o.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":o.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return o}function yE(t){const{top:a,right:r,bottom:o,left:i}=t;return[{x:i,y:a},{x:r,y:a},{x:r,y:o},{x:i,y:o}]}function bE(t,a){const{x:r,y:o}=t;let i=!1;for(let c=0,d=a.length-1;c<a.length;d=c++){const p=a[c],u=a[d],g=p.x,f=p.y,h=u.x,v=u.y;f>o!=v>o&&r<(h-g)*(o-f)/(v-f)+g&&(i=!i)}return i}function wE(t){const a=t.slice();return a.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),NE(a)}function NE(t){if(t.length<=1)return t.slice();const a=[];for(let o=0;o<t.length;o++){const i=t[o];for(;a.length>=2;){const c=a[a.length-1],d=a[a.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))a.pop();else break}a.push(i)}a.pop();const r=[];for(let o=t.length-1;o>=0;o--){const i=t[o];for(;r.length>=2;){const c=r[r.length-1],d=r[r.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))r.pop();else break}r.push(i)}return r.pop(),a.length===1&&r.length===1&&a[0].x===r[0].x&&a[0].y===r[0].y?a:a.concat(r)}var SE=Iv,CE=Fv,_E=zv,Hv=Bv;const lc=SE,cc=CE,dc=_E,ii=x.forwardRef(({className:t,sideOffset:a=4,...r},o)=>e.jsx(Hv,{ref:o,sideOffset:a,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));ii.displayName=Hv.displayName;const kE="sidebar:state",EE=3600*24*7,RE="16rem",PE="18rem",AE="3rem",TE="b",qv=x.createContext(null);function Fc(){const t=x.useContext(qv);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const Wv=x.forwardRef(({defaultOpen:t=!0,open:a,onOpenChange:r,className:o,style:i,children:c,...d},p)=>{const u=lC(),[g,f]=x.useState(!1),[h,v]=x.useState(t),w=a??h,y=x.useCallback(C=>{const _=typeof C=="function"?C(w):C;r?r(_):v(_),document.cookie=`${kE}=${_}; path=/; max-age=${EE}`},[r,w]),j=x.useCallback(()=>u?f(C=>!C):y(C=>!C),[u,y,f]);x.useEffect(()=>{const C=_=>{_.key===TE&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),j())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[j]);const N=w?"expanded":"collapsed",P=x.useMemo(()=>({state:N,open:w,setOpen:y,isMobile:u,openMobile:g,setOpenMobile:f,toggleSidebar:j}),[N,w,y,u,g,f,j]);return e.jsx(qv.Provider,{value:P,children:e.jsx(lc,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":RE,"--sidebar-width-icon":AE,...i},className:be("group/sidebar-wrapper flex min-h-svh w-full bg-background",o),ref:p,...d,children:c})})})});Wv.displayName="SidebarProvider";const Gv=x.forwardRef(({side:t="left",variant:a="sidebar",collapsible:r="offcanvas",className:o,children:i,...c},d)=>{const{isMobile:p,state:u,openMobile:g,setOpenMobile:f}=Fc();return r==="none"?e.jsx("div",{className:be("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",o),ref:d,...c,children:i}):p?e.jsx($_,{open:g,onOpenChange:f,...c,children:e.jsx(hv,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":PE},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):e.jsxs("div",{ref:d,className:"group peer hidden md:block text-sidebar-foreground","data-state":u,"data-collapsible":u==="collapsed"?r:"","data-variant":a,"data-side":t,children:[e.jsx("div",{className:be("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",a==="floating"||a==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:be("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",a==="floating"||a==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",o),...c,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});Gv.displayName="Sidebar";const Kv=x.forwardRef(({className:t,onClick:a,...r},o)=>{const{toggleSidebar:i}=Fc();return e.jsxs(te,{ref:o,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:be("h-7 w-7",t),onClick:c=>{a==null||a(c),i()},...r,children:[e.jsx(ZS,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Kv.displayName="SidebarTrigger";const ME=x.forwardRef(({className:t,...a},r)=>{const{toggleSidebar:o}=Fc();return e.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:o,title:"Toggle Sidebar",className:be("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...a})});ME.displayName="SidebarRail";const Yv=x.forwardRef(({className:t,...a},r)=>e.jsx("main",{ref:r,className:be("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...a}));Yv.displayName="SidebarInset";const DE=x.forwardRef(({className:t,...a},r)=>e.jsx(fe,{ref:r,"data-sidebar":"input",className:be("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...a}));DE.displayName="SidebarInput";const Jv=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"header",className:be("flex flex-col gap-2 p-2",t),...a}));Jv.displayName="SidebarHeader";const Qv=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"footer",className:be("flex flex-col gap-2 p-2",t),...a}));Qv.displayName="SidebarFooter";const OE=x.forwardRef(({className:t,...a},r)=>e.jsx(Bs,{ref:r,"data-sidebar":"separator",className:be("mx-2 w-auto bg-sidebar-border",t),...a}));OE.displayName="SidebarSeparator";const Xv=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"content",className:be("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...a}));Xv.displayName="SidebarContent";const Cm=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"group",className:be("relative flex w-full min-w-0 flex-col p-2",t),...a}));Cm.displayName="SidebarGroup";const _m=x.forwardRef(({className:t,asChild:a=!1,...r},o)=>{const i=a?ao:"div";return e.jsx(i,{ref:o,"data-sidebar":"group-label",className:be("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});_m.displayName="SidebarGroupLabel";const $E=x.forwardRef(({className:t,asChild:a=!1,...r},o)=>{const i=a?ao:"button";return e.jsx(i,{ref:o,"data-sidebar":"group-action",className:be("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});$E.displayName="SidebarGroupAction";const km=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"group-content",className:be("w-full text-sm",t),...a}));km.displayName="SidebarGroupContent";const Em=x.forwardRef(({className:t,...a},r)=>e.jsx("ul",{ref:r,"data-sidebar":"menu",className:be("flex w-full min-w-0 flex-col gap-1",t),...a}));Em.displayName="SidebarMenu";const Rm=x.forwardRef(({className:t,...a},r)=>e.jsx("li",{ref:r,"data-sidebar":"menu-item",className:be("group/menu-item relative",t),...a}));Rm.displayName="SidebarMenuItem";const LE=wc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Pm=x.forwardRef(({asChild:t=!1,isActive:a=!1,variant:r="default",size:o="default",tooltip:i,className:c,...d},p)=>{const u=t?ao:"button",{isMobile:g,state:f}=Fc(),h=e.jsx(u,{ref:p,"data-sidebar":"menu-button","data-size":o,"data-active":a,className:be(LE({variant:r,size:o}),c),...d});return i?(typeof i=="string"&&(i={children:i}),e.jsxs(cc,{children:[e.jsx(dc,{asChild:!0,children:h}),e.jsx(ii,{side:"right",align:"center",hidden:f!=="collapsed"||g,...i})]})):h});Pm.displayName="SidebarMenuButton";const IE=x.forwardRef(({className:t,asChild:a=!1,showOnHover:r=!1,...o},i)=>{const c=a?ao:"button";return e.jsx(c,{ref:i,"data-sidebar":"menu-action",className:be("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...o})});IE.displayName="SidebarMenuAction";const FE=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:be("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...a}));FE.displayName="SidebarMenuBadge";const zE=x.forwardRef(({className:t,showIcon:a=!1,...r},o)=>{const i=x.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:o,"data-sidebar":"menu-skeleton",className:be("rounded-md h-8 flex gap-2 px-2 items-center",t),...r,children:[a&&e.jsx(at,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(at,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});zE.displayName="SidebarMenuSkeleton";const BE=x.forwardRef(({className:t,...a},r)=>e.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:be("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...a}));BE.displayName="SidebarMenuSub";const UE=x.forwardRef(({...t},a)=>e.jsx("li",{ref:a,...t}));UE.displayName="SidebarMenuSubItem";const VE=x.forwardRef(({asChild:t=!1,size:a="md",isActive:r,className:o,...i},c)=>{const d=t?ao:"a";return e.jsx(d,{ref:c,"data-sidebar":"menu-sub-button","data-size":a,"data-active":r,className:be("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",a==="sm"&&"text-xs",a==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",o),...i})});VE.displayName="SidebarMenuSubButton";const HE={theme:"system",setTheme:()=>null},Zv=x.createContext(HE);function qE({children:t,defaultTheme:a="system",storageKey:r="vite-ui-theme",...o}){const[i,c]=x.useState(()=>(typeof window<"u"?localStorage.getItem(r):null)||a);x.useEffect(()=>{const p=window.document.documentElement;if(p.classList.remove("light","dark"),i==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";p.classList.add(u);return}p.classList.add(i)},[i]);const d={theme:i,setTheme:p=>{localStorage.setItem(r,p),c(p)}};return e.jsx(Zv.Provider,{...o,value:d,children:t})}const ej=()=>{const t=x.useContext(Zv);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function zc(t){const a=t+"CollectionProvider",[r,o]=za(a),[i,c]=r(a,{collectionRef:{current:null},itemMap:new Map}),d=j=>{const{scope:N,children:P}=j,C=Pr.useRef(null),_=Pr.useRef(new Map).current;return e.jsx(i,{scope:N,itemMap:_,collectionRef:C,children:P})};d.displayName=a;const p=t+"CollectionSlot",u=cn(p),g=Pr.forwardRef((j,N)=>{const{scope:P,children:C}=j,_=c(p,P),E=kt(N,_.collectionRef);return e.jsx(u,{ref:E,children:C})});g.displayName=p;const f=t+"CollectionItemSlot",h="data-radix-collection-item",v=cn(f),w=Pr.forwardRef((j,N)=>{const{scope:P,children:C,..._}=j,E=Pr.useRef(null),k=kt(N,E),A=c(f,P);return Pr.useEffect(()=>(A.itemMap.set(E,{ref:E,..._}),()=>void A.itemMap.delete(E))),e.jsx(v,{[h]:"",ref:k,children:C})});w.displayName=f;function y(j){const N=c(t+"CollectionConsumer",j);return Pr.useCallback(()=>{const C=N.collectionRef.current;if(!C)return[];const _=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(N.itemMap.values()).sort((A,T)=>_.indexOf(A.ref.current)-_.indexOf(T.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:d,Slot:g,ItemSlot:w},y,o]}var WE=x.createContext(void 0);function yf(t){const a=x.useContext(WE);return t||a||"ltr"}var Xu="rovingFocusGroup.onEntryFocus",GE={bubbles:!1,cancelable:!0},gi="RovingFocusGroup",[Am,tj,KE]=zc(gi),[YE,sj]=za(gi,[KE]),[JE,QE]=YE(gi),aj=x.forwardRef((t,a)=>e.jsx(Am.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Am.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(XE,{...t,ref:a})})}));aj.displayName=gi;var XE=x.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:i=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:u,onEntryFocus:g,preventScrollOnEntryFocus:f=!1,...h}=t,v=x.useRef(null),w=kt(a,v),y=yf(c),[j,N]=dn({prop:d,defaultProp:p??null,onChange:u,caller:gi}),[P,C]=x.useState(!1),_=As(g),E=tj(r),k=x.useRef(!1),[A,T]=x.useState(0);return x.useEffect(()=>{const R=v.current;if(R)return R.addEventListener(Xu,_),()=>R.removeEventListener(Xu,_)},[_]),e.jsx(JE,{scope:r,orientation:o,dir:y,loop:i,currentTabStopId:j,onItemFocus:x.useCallback(R=>N(R),[N]),onItemShiftTab:x.useCallback(()=>C(!0),[]),onFocusableItemAdd:x.useCallback(()=>T(R=>R+1),[]),onFocusableItemRemove:x.useCallback(()=>T(R=>R-1),[]),children:e.jsx(et.div,{tabIndex:P||A===0?-1:0,"data-orientation":o,...h,ref:w,style:{outline:"none",...t.style},onMouseDown:De(t.onMouseDown,()=>{k.current=!0}),onFocus:De(t.onFocus,R=>{const I=!k.current;if(R.target===R.currentTarget&&I&&!P){const L=new CustomEvent(Xu,GE);if(R.currentTarget.dispatchEvent(L),!L.defaultPrevented){const U=E().filter($=>$.focusable),K=U.find($=>$.active),z=U.find($=>$.id===j),G=[K,z,...U].filter(Boolean).map($=>$.ref.current);oj(G,f)}}k.current=!1}),onBlur:De(t.onBlur,()=>C(!1))})})}),rj="RovingFocusGroupItem",nj=x.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:i=!1,tabStopId:c,children:d,...p}=t,u=Oa(),g=c||u,f=QE(rj,r),h=f.currentTabStopId===g,v=tj(r),{onFocusableItemAdd:w,onFocusableItemRemove:y,currentTabStopId:j}=f;return x.useEffect(()=>{if(o)return w(),()=>y()},[o,w,y]),e.jsx(Am.ItemSlot,{scope:r,id:g,focusable:o,active:i,children:e.jsx(et.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...p,ref:a,onMouseDown:De(t.onMouseDown,N=>{o?f.onItemFocus(g):N.preventDefault()}),onFocus:De(t.onFocus,()=>f.onItemFocus(g)),onKeyDown:De(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){f.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const P=t4(N,f.orientation,f.dir);if(P!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let _=v().filter(E=>E.focusable).map(E=>E.ref.current);if(P==="last")_.reverse();else if(P==="prev"||P==="next"){P==="prev"&&_.reverse();const E=_.indexOf(N.currentTarget);_=f.loop?s4(_,E+1):_.slice(E+1)}setTimeout(()=>oj(_))}}),children:typeof d=="function"?d({isCurrentTabStop:h,hasTabStop:j!=null}):d})})});nj.displayName=rj;var ZE={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e4(t,a){return a!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function t4(t,a,r){const o=e4(t.key,r);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ZE[o]}function oj(t,a=!1){const r=document.activeElement;for(const o of t)if(o===r||(o.focus({preventScroll:a}),document.activeElement!==r))return}function s4(t,a){return t.map((r,o)=>t[(a+o)%t.length])}var a4=aj,r4=nj,Tm=["Enter"," "],n4=["ArrowDown","PageUp","Home"],ij=["ArrowUp","PageDown","End"],o4=[...n4,...ij],i4={ltr:[...Tm,"ArrowRight"],rtl:[...Tm,"ArrowLeft"]},l4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vi="Menu",[li,c4,d4]=zc(vi),[xn,lj]=za(vi,[d4,lo,sj]),Bc=lo(),cj=sj(),[u4,gn]=xn(vi),[m4,ji]=xn(vi),dj=t=>{const{__scopeMenu:a,open:r=!1,children:o,dir:i,onOpenChange:c,modal:d=!0}=t,p=Bc(a),[u,g]=x.useState(null),f=x.useRef(!1),h=As(c),v=yf(i);return x.useEffect(()=>{const w=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),e.jsx(pf,{...p,children:e.jsx(u4,{scope:a,open:r,onOpenChange:h,content:u,onContentChange:g,children:e.jsx(m4,{scope:a,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:v,modal:d,children:o})})})};dj.displayName=vi;var f4="MenuAnchor",bf=x.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t,i=Bc(r);return e.jsx(xf,{...i,...o,ref:a})});bf.displayName=f4;var wf="MenuPortal",[h4,uj]=xn(wf,{forceMount:void 0}),mj=t=>{const{__scopeMenu:a,forceMount:r,children:o,container:i}=t,c=gn(wf,a);return e.jsx(h4,{scope:a,forceMount:r,children:e.jsx(Ba,{present:r||c.open,children:e.jsx(pi,{asChild:!0,container:i,children:o})})})};mj.displayName=wf;var la="MenuContent",[p4,Nf]=xn(la),fj=x.forwardRef((t,a)=>{const r=uj(la,t.__scopeMenu),{forceMount:o=r.forceMount,...i}=t,c=gn(la,t.__scopeMenu),d=ji(la,t.__scopeMenu);return e.jsx(li.Provider,{scope:t.__scopeMenu,children:e.jsx(Ba,{present:o||c.open,children:e.jsx(li.Slot,{scope:t.__scopeMenu,children:d.modal?e.jsx(x4,{...i,ref:a}):e.jsx(g4,{...i,ref:a})})})})}),x4=x.forwardRef((t,a)=>{const r=gn(la,t.__scopeMenu),o=x.useRef(null),i=kt(a,o);return x.useEffect(()=>{const c=o.current;if(c)return tf(c)},[]),e.jsx(Sf,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:De(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),g4=x.forwardRef((t,a)=>{const r=gn(la,t.__scopeMenu);return e.jsx(Sf,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),v4=cn("MenuContent.ScrollLock"),Sf=x.forwardRef((t,a)=>{const{__scopeMenu:r,loop:o=!1,trapFocus:i,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:p,onEntryFocus:u,onEscapeKeyDown:g,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:v,onDismiss:w,disableOutsideScroll:y,...j}=t,N=gn(la,r),P=ji(la,r),C=Bc(r),_=cj(r),E=c4(r),[k,A]=x.useState(null),T=x.useRef(null),R=kt(a,T,N.onContentChange),I=x.useRef(0),L=x.useRef(""),U=x.useRef(0),K=x.useRef(null),z=x.useRef("right"),D=x.useRef(0),G=y?_c:x.Fragment,$=y?{as:v4,allowPinchZoom:!0}:void 0,H=Y=>{var se,ne;const ee=L.current+Y,M=E().filter(ve=>!ve.disabled),B=document.activeElement,re=(se=M.find(ve=>ve.ref.current===B))==null?void 0:se.textValue,F=M.map(ve=>ve.textValue),V=P4(F,ee,re),Q=(ne=M.find(ve=>ve.textValue===V))==null?void 0:ne.ref.current;(function ve(ge){L.current=ge,window.clearTimeout(I.current),ge!==""&&(I.current=window.setTimeout(()=>ve(""),1e3))})(ee),Q&&setTimeout(()=>Q.focus())};x.useEffect(()=>()=>window.clearTimeout(I.current),[]),ef();const q=x.useCallback(Y=>{var M,B;return z.current===((M=K.current)==null?void 0:M.side)&&T4(Y,(B=K.current)==null?void 0:B.area)},[]);return e.jsx(p4,{scope:r,searchRef:L,onItemEnter:x.useCallback(Y=>{q(Y)&&Y.preventDefault()},[q]),onItemLeave:x.useCallback(Y=>{var ee;q(Y)||((ee=T.current)==null||ee.focus(),A(null))},[q]),onTriggerLeave:x.useCallback(Y=>{q(Y)&&Y.preventDefault()},[q]),pointerGraceTimerRef:U,onPointerGraceIntentChange:x.useCallback(Y=>{K.current=Y},[]),children:e.jsx(G,{...$,children:e.jsx(Sc,{asChild:!0,trapped:i,onMountAutoFocus:De(c,Y=>{var ee;Y.preventDefault(),(ee=T.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:e.jsx(no,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:g,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:v,onDismiss:w,children:e.jsx(a4,{asChild:!0,..._,dir:P.dir,orientation:"vertical",loop:o,currentTabStopId:k,onCurrentTabStopIdChange:A,onEntryFocus:De(u,Y=>{P.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(gf,{role:"menu","aria-orientation":"vertical","data-state":Rj(N.open),"data-radix-menu-content":"",dir:P.dir,...C,...j,ref:R,style:{outline:"none",...j.style},onKeyDown:De(j.onKeyDown,Y=>{const M=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,B=Y.ctrlKey||Y.altKey||Y.metaKey,re=Y.key.length===1;M&&(Y.key==="Tab"&&Y.preventDefault(),!B&&re&&H(Y.key));const F=T.current;if(Y.target!==F||!o4.includes(Y.key))return;Y.preventDefault();const Q=E().filter(se=>!se.disabled).map(se=>se.ref.current);ij.includes(Y.key)&&Q.reverse(),E4(Q)}),onBlur:De(t.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(I.current),L.current="")}),onPointerMove:De(t.onPointerMove,ci(Y=>{const ee=Y.target,M=D.current!==Y.clientX;if(Y.currentTarget.contains(ee)&&M){const B=Y.clientX>D.current?"right":"left";z.current=B,D.current=Y.clientX}}))})})})})})})});fj.displayName=la;var j4="MenuGroup",Cf=x.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t;return e.jsx(et.div,{role:"group",...o,ref:a})});Cf.displayName=j4;var y4="MenuLabel",hj=x.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t;return e.jsx(et.div,{...o,ref:a})});hj.displayName=y4;var uc="MenuItem",Ng="menu.itemSelect",Uc=x.forwardRef((t,a)=>{const{disabled:r=!1,onSelect:o,...i}=t,c=x.useRef(null),d=ji(uc,t.__scopeMenu),p=Nf(uc,t.__scopeMenu),u=kt(a,c),g=x.useRef(!1),f=()=>{const h=c.current;if(!r&&h){const v=new CustomEvent(Ng,{bubbles:!0,cancelable:!0});h.addEventListener(Ng,w=>o==null?void 0:o(w),{once:!0}),Zm(h,v),v.defaultPrevented?g.current=!1:d.onClose()}};return e.jsx(pj,{...i,ref:u,disabled:r,onClick:De(t.onClick,f),onPointerDown:h=>{var v;(v=t.onPointerDown)==null||v.call(t,h),g.current=!0},onPointerUp:De(t.onPointerUp,h=>{var v;g.current||(v=h.currentTarget)==null||v.click()}),onKeyDown:De(t.onKeyDown,h=>{const v=p.searchRef.current!=="";r||v&&h.key===" "||Tm.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Uc.displayName=uc;var pj=x.forwardRef((t,a)=>{const{__scopeMenu:r,disabled:o=!1,textValue:i,...c}=t,d=Nf(uc,r),p=cj(r),u=x.useRef(null),g=kt(a,u),[f,h]=x.useState(!1),[v,w]=x.useState("");return x.useEffect(()=>{const y=u.current;y&&w((y.textContent??"").trim())},[c.children]),e.jsx(li.ItemSlot,{scope:r,disabled:o,textValue:i??v,children:e.jsx(r4,{asChild:!0,...p,focusable:!o,children:e.jsx(et.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...c,ref:g,onPointerMove:De(t.onPointerMove,ci(y=>{o?d.onItemLeave(y):(d.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:De(t.onPointerLeave,ci(y=>d.onItemLeave(y))),onFocus:De(t.onFocus,()=>h(!0)),onBlur:De(t.onBlur,()=>h(!1))})})})}),b4="MenuCheckboxItem",xj=x.forwardRef((t,a)=>{const{checked:r=!1,onCheckedChange:o,...i}=t;return e.jsx(bj,{scope:t.__scopeMenu,checked:r,children:e.jsx(Uc,{role:"menuitemcheckbox","aria-checked":mc(r)?"mixed":r,...i,ref:a,"data-state":kf(r),onSelect:De(i.onSelect,()=>o==null?void 0:o(mc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});xj.displayName=b4;var gj="MenuRadioGroup",[w4,N4]=xn(gj,{value:void 0,onValueChange:()=>{}}),vj=x.forwardRef((t,a)=>{const{value:r,onValueChange:o,...i}=t,c=As(o);return e.jsx(w4,{scope:t.__scopeMenu,value:r,onValueChange:c,children:e.jsx(Cf,{...i,ref:a})})});vj.displayName=gj;var jj="MenuRadioItem",yj=x.forwardRef((t,a)=>{const{value:r,...o}=t,i=N4(jj,t.__scopeMenu),c=r===i.value;return e.jsx(bj,{scope:t.__scopeMenu,checked:c,children:e.jsx(Uc,{role:"menuitemradio","aria-checked":c,...o,ref:a,"data-state":kf(c),onSelect:De(o.onSelect,()=>{var d;return(d=i.onValueChange)==null?void 0:d.call(i,r)},{checkForDefaultPrevented:!1})})})});yj.displayName=jj;var _f="MenuItemIndicator",[bj,S4]=xn(_f,{checked:!1}),wj=x.forwardRef((t,a)=>{const{__scopeMenu:r,forceMount:o,...i}=t,c=S4(_f,r);return e.jsx(Ba,{present:o||mc(c.checked)||c.checked===!0,children:e.jsx(et.span,{...i,ref:a,"data-state":kf(c.checked)})})});wj.displayName=_f;var C4="MenuSeparator",Nj=x.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t;return e.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...o,ref:a})});Nj.displayName=C4;var _4="MenuArrow",Sj=x.forwardRef((t,a)=>{const{__scopeMenu:r,...o}=t,i=Bc(r);return e.jsx(vf,{...i,...o,ref:a})});Sj.displayName=_4;var k4="MenuSub",[E5,Cj]=xn(k4),Yo="MenuSubTrigger",_j=x.forwardRef((t,a)=>{const r=gn(Yo,t.__scopeMenu),o=ji(Yo,t.__scopeMenu),i=Cj(Yo,t.__scopeMenu),c=Nf(Yo,t.__scopeMenu),d=x.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:u}=c,g={__scopeMenu:t.__scopeMenu},f=x.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return x.useEffect(()=>f,[f]),x.useEffect(()=>{const h=p.current;return()=>{window.clearTimeout(h),u(null)}},[p,u]),e.jsx(bf,{asChild:!0,...g,children:e.jsx(pj,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":Rj(r.open),...t,ref:bc(a,i.onTriggerChange),onClick:h=>{var v;(v=t.onClick)==null||v.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:De(t.onPointerMove,ci(h=>{c.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:De(t.onPointerLeave,ci(h=>{var w,y;f();const v=(w=r.content)==null?void 0:w.getBoundingClientRect();if(v){const j=(y=r.content)==null?void 0:y.dataset.side,N=j==="right",P=N?-5:5,C=v[N?"left":"right"],_=v[N?"right":"left"];c.onPointerGraceIntentChange({area:[{x:h.clientX+P,y:h.clientY},{x:C,y:v.top},{x:_,y:v.top},{x:_,y:v.bottom},{x:C,y:v.bottom}],side:j}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(h),h.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:De(t.onKeyDown,h=>{var w;const v=c.searchRef.current!=="";t.disabled||v&&h.key===" "||i4[o.dir].includes(h.key)&&(r.onOpenChange(!0),(w=r.content)==null||w.focus(),h.preventDefault())})})})});_j.displayName=Yo;var kj="MenuSubContent",Ej=x.forwardRef((t,a)=>{const r=uj(la,t.__scopeMenu),{forceMount:o=r.forceMount,...i}=t,c=gn(la,t.__scopeMenu),d=ji(la,t.__scopeMenu),p=Cj(kj,t.__scopeMenu),u=x.useRef(null),g=kt(a,u);return e.jsx(li.Provider,{scope:t.__scopeMenu,children:e.jsx(Ba,{present:o||c.open,children:e.jsx(li.Slot,{scope:t.__scopeMenu,children:e.jsx(Sf,{id:p.contentId,"aria-labelledby":p.triggerId,...i,ref:g,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;d.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:De(t.onFocusOutside,f=>{f.target!==p.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:De(t.onEscapeKeyDown,f=>{d.onClose(),f.preventDefault()}),onKeyDown:De(t.onKeyDown,f=>{var w;const h=f.currentTarget.contains(f.target),v=l4[d.dir].includes(f.key);h&&v&&(c.onOpenChange(!1),(w=p.trigger)==null||w.focus(),f.preventDefault())})})})})})});Ej.displayName=kj;function Rj(t){return t?"open":"closed"}function mc(t){return t==="indeterminate"}function kf(t){return mc(t)?"indeterminate":t?"checked":"unchecked"}function E4(t){const a=document.activeElement;for(const r of t)if(r===a||(r.focus(),document.activeElement!==a))return}function R4(t,a){return t.map((r,o)=>t[(a+o)%t.length])}function P4(t,a,r){const i=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,c=r?t.indexOf(r):-1;let d=R4(t,Math.max(c,0));i.length===1&&(d=d.filter(g=>g!==r));const u=d.find(g=>g.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function A4(t,a){const{x:r,y:o}=t;let i=!1;for(let c=0,d=a.length-1;c<a.length;d=c++){const p=a[c],u=a[d],g=p.x,f=p.y,h=u.x,v=u.y;f>o!=v>o&&r<(h-g)*(o-f)/(v-f)+g&&(i=!i)}return i}function T4(t,a){if(!a)return!1;const r={x:t.clientX,y:t.clientY};return A4(r,a)}function ci(t){return a=>a.pointerType==="mouse"?t(a):void 0}var M4=dj,D4=bf,O4=mj,$4=fj,L4=Cf,I4=hj,F4=Uc,z4=xj,B4=vj,U4=yj,V4=wj,H4=Nj,q4=Sj,W4=_j,G4=Ej,Vc="DropdownMenu",[K4,R5]=za(Vc,[lj]),Ms=lj(),[Y4,Pj]=K4(Vc),Aj=t=>{const{__scopeDropdownMenu:a,children:r,dir:o,open:i,defaultOpen:c,onOpenChange:d,modal:p=!0}=t,u=Ms(a),g=x.useRef(null),[f,h]=dn({prop:i,defaultProp:c??!1,onChange:d,caller:Vc});return e.jsx(Y4,{scope:a,triggerId:Oa(),triggerRef:g,contentId:Oa(),open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(v=>!v),[h]),modal:p,children:e.jsx(M4,{...u,open:f,onOpenChange:h,dir:o,modal:p,children:r})})};Aj.displayName=Vc;var Tj="DropdownMenuTrigger",Mj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,disabled:o=!1,...i}=t,c=Pj(Tj,r),d=Ms(r);return e.jsx(D4,{asChild:!0,...d,children:e.jsx(et.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...i,ref:bc(a,c.triggerRef),onPointerDown:De(t.onPointerDown,p=>{!o&&p.button===0&&p.ctrlKey===!1&&(c.onOpenToggle(),c.open||p.preventDefault())}),onKeyDown:De(t.onKeyDown,p=>{o||(["Enter"," "].includes(p.key)&&c.onOpenToggle(),p.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});Mj.displayName=Tj;var J4="DropdownMenuPortal",Dj=t=>{const{__scopeDropdownMenu:a,...r}=t,o=Ms(a);return e.jsx(O4,{...o,...r})};Dj.displayName=J4;var Oj="DropdownMenuContent",$j=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Pj(Oj,r),c=Ms(r),d=x.useRef(!1);return e.jsx($4,{id:i.contentId,"aria-labelledby":i.triggerId,...c,...o,ref:a,onCloseAutoFocus:De(t.onCloseAutoFocus,p=>{var u;d.current||(u=i.triggerRef.current)==null||u.focus(),d.current=!1,p.preventDefault()}),onInteractOutside:De(t.onInteractOutside,p=>{const u=p.detail.originalEvent,g=u.button===0&&u.ctrlKey===!0,f=u.button===2||g;(!i.modal||f)&&(d.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$j.displayName=Oj;var Q4="DropdownMenuGroup",X4=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Ms(r);return e.jsx(L4,{...i,...o,ref:a})});X4.displayName=Q4;var Z4="DropdownMenuLabel",Lj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Ms(r);return e.jsx(I4,{...i,...o,ref:a})});Lj.displayName=Z4;var eR="DropdownMenuItem",Ij=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Ms(r);return e.jsx(F4,{...i,...o,ref:a})});Ij.displayName=eR;var tR="DropdownMenuCheckboxItem",Fj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Ms(r);return e.jsx(z4,{...i,...o,ref:a})});Fj.displayName=tR;var sR="DropdownMenuRadioGroup",aR=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Ms(r);return e.jsx(B4,{...i,...o,ref:a})});aR.displayName=sR;var rR="DropdownMenuRadioItem",zj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Ms(r);return e.jsx(U4,{...i,...o,ref:a})});zj.displayName=rR;var nR="DropdownMenuItemIndicator",Bj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Ms(r);return e.jsx(V4,{...i,...o,ref:a})});Bj.displayName=nR;var oR="DropdownMenuSeparator",Uj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Ms(r);return e.jsx(H4,{...i,...o,ref:a})});Uj.displayName=oR;var iR="DropdownMenuArrow",lR=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Ms(r);return e.jsx(q4,{...i,...o,ref:a})});lR.displayName=iR;var cR="DropdownMenuSubTrigger",Vj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Ms(r);return e.jsx(W4,{...i,...o,ref:a})});Vj.displayName=cR;var dR="DropdownMenuSubContent",Hj=x.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...o}=t,i=Ms(r);return e.jsx(G4,{...i,...o,ref:a,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Hj.displayName=dR;var uR=Aj,mR=Mj,fR=Dj,qj=$j,Wj=Lj,Gj=Ij,Kj=Fj,Yj=zj,Jj=Bj,Qj=Uj,Xj=Vj,Zj=Hj;const ey=uR,ty=mR,hR=x.forwardRef(({className:t,inset:a,children:r,...o},i)=>e.jsxs(Xj,{ref:i,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",t),...o,children:[r,e.jsx(ja,{className:"ml-auto h-4 w-4"})]}));hR.displayName=Xj.displayName;const pR=x.forwardRef(({className:t,...a},r)=>e.jsx(Zj,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));pR.displayName=Zj.displayName;const Ef=x.forwardRef(({className:t,sideOffset:a=4,...r},o)=>e.jsx(fR,{children:e.jsx(qj,{ref:o,sideOffset:a,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ef.displayName=qj.displayName;const on=x.forwardRef(({className:t,inset:a,...r},o)=>e.jsx(Gj,{ref:o,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",t),...r}));on.displayName=Gj.displayName;const xR=x.forwardRef(({className:t,children:a,checked:r,...o},i)=>e.jsxs(Kj,{ref:i,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Jj,{children:e.jsx(E0,{className:"h-4 w-4"})})}),a]}));xR.displayName=Kj.displayName;const gR=x.forwardRef(({className:t,children:a,...r},o)=>e.jsxs(Yj,{ref:o,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Jj,{children:e.jsx(FS,{className:"h-2 w-2 fill-current"})})}),a]}));gR.displayName=Yj.displayName;const sy=x.forwardRef(({className:t,inset:a,...r},o)=>e.jsx(Wj,{ref:o,className:be("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...r}));sy.displayName=Wj.displayName;const Mm=x.forwardRef(({className:t,...a},r)=>e.jsx(Qj,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",t),...a}));Mm.displayName=Qj.displayName;function Rf(){const{setTheme:t,theme:a}=ej();return e.jsxs(ey,{children:[e.jsx(ty,{asChild:!0,children:e.jsxs(te,{variant:"secondary",size:"icon",className:"relative bg-white/80 text-slate-700 border border-black/10 shadow-sm backdrop-blur hover:bg-white/90 dark:bg-slate-900/60 dark:text-slate-100 dark:border-white/10 dark:hover:bg-slate-900/70","aria-label":"Alternar tema",children:[e.jsx(Zx,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(Xx,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),e.jsxs(Ef,{align:"end",sideOffset:8,children:[e.jsxs(on,{onClick:()=>t("light"),className:"cursor-pointer",children:[e.jsx(Zx,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Claro"}),a==="light"&&e.jsx("span",{className:"ml-auto",children:""})]}),e.jsxs(on,{onClick:()=>t("dark"),className:"cursor-pointer",children:[e.jsx(Xx,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Escuro"}),a==="dark"&&e.jsx("span",{className:"ml-auto",children:""})]}),e.jsxs(on,{onClick:()=>t("system"),className:"cursor-pointer",children:[e.jsx(XS,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sistema"}),a==="system"&&e.jsx("span",{className:"ml-auto",children:""})]})]})]})}var Zu={exports:{}},em={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function vR(){if(Sg)return em;Sg=1;var t=hc();function a(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var r=typeof Object.is=="function"?Object.is:a,o=t.useState,i=t.useEffect,c=t.useLayoutEffect,d=t.useDebugValue;function p(h,v){var w=v(),y=o({inst:{value:w,getSnapshot:v}}),j=y[0].inst,N=y[1];return c(function(){j.value=w,j.getSnapshot=v,u(j)&&N({inst:j})},[h,w,v]),i(function(){return u(j)&&N({inst:j}),h(function(){u(j)&&N({inst:j})})},[h]),d(w),w}function u(h){var v=h.getSnapshot;h=h.value;try{var w=v();return!r(h,w)}catch{return!0}}function g(h,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:p;return em.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,em}var Cg;function jR(){return Cg||(Cg=1,Zu.exports=vR()),Zu.exports}var yR=jR();function bR(){return yR.useSyncExternalStore(wR,()=>!0,()=>!1)}function wR(){return()=>{}}var Pf="Avatar",[NR,P5]=za(Pf),[SR,ay]=NR(Pf),ry=x.forwardRef((t,a)=>{const{__scopeAvatar:r,...o}=t,[i,c]=x.useState("idle");return e.jsx(SR,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:c,children:e.jsx(et.span,{...o,ref:a})})});ry.displayName=Pf;var ny="AvatarImage",oy=x.forwardRef((t,a)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:i=()=>{},...c}=t,d=ay(ny,r),p=CR(o,c),u=As(g=>{i(g),d.onImageLoadingStatusChange(g)});return is(()=>{p!=="idle"&&u(p)},[p,u]),p==="loaded"?e.jsx(et.img,{...c,ref:a,src:o}):null});oy.displayName=ny;var iy="AvatarFallback",ly=x.forwardRef((t,a)=>{const{__scopeAvatar:r,delayMs:o,...i}=t,c=ay(iy,r),[d,p]=x.useState(o===void 0);return x.useEffect(()=>{if(o!==void 0){const u=window.setTimeout(()=>p(!0),o);return()=>window.clearTimeout(u)}},[o]),d&&c.imageLoadingStatus!=="loaded"?e.jsx(et.span,{...i,ref:a}):null});ly.displayName=iy;function _g(t,a){return t?a?(t.src!==a&&(t.src=a),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function CR(t,{referrerPolicy:a,crossOrigin:r}){const o=bR(),i=x.useRef(null),c=o?(i.current||(i.current=new window.Image),i.current):null,[d,p]=x.useState(()=>_g(c,t));return is(()=>{p(_g(c,t))},[c,t]),is(()=>{const u=h=>()=>{p(h)};if(!c)return;const g=u("loaded"),f=u("error");return c.addEventListener("load",g),c.addEventListener("error",f),a&&(c.referrerPolicy=a),typeof r=="string"&&(c.crossOrigin=r),()=>{c.removeEventListener("load",g),c.removeEventListener("error",f)}},[c,r,a]),d}var cy=ry,dy=oy,uy=ly;const yi=x.forwardRef(({className:t,...a},r)=>e.jsx(cy,{ref:r,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a}));yi.displayName=cy.displayName;const Hc=x.forwardRef(({className:t,...a},r)=>e.jsx(dy,{ref:r,className:be("aspect-square h-full w-full",t),...a}));Hc.displayName=dy.displayName;const bi=x.forwardRef(({className:t,...a},r)=>e.jsx(uy,{ref:r,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a}));bi.displayName=uy.displayName;const my=x.forwardRef(({...t},a)=>e.jsx("nav",{ref:a,"aria-label":"breadcrumb",...t}));my.displayName="Breadcrumb";const fy=x.forwardRef(({className:t,...a},r)=>e.jsx("ol",{ref:r,className:be("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...a}));fy.displayName="BreadcrumbList";const hy=x.forwardRef(({className:t,...a},r)=>e.jsx("li",{ref:r,className:be("inline-flex items-center gap-1.5",t),...a}));hy.displayName="BreadcrumbItem";const py=x.forwardRef(({asChild:t,className:a,...r},o)=>{const i=t?ao:"a";return e.jsx(i,{ref:o,className:be("hover:text-foreground transition-colors focus-visible:outline-none focus-visible:underline",a),...r})});py.displayName="BreadcrumbLink";const xy=x.forwardRef(({className:t,...a},r)=>e.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:be("text-foreground font-medium",t),...a}));xy.displayName="BreadcrumbPage";const gy=({children:t,className:a,...r})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:be("[&>svg]:size-3.5",a),...r,children:t||e.jsx(ja,{className:"h-4 w-4"})});gy.displayName="BreadcrumbSeparator";function wi({children:t,sidebar:a,breadcrumbs:r=[]}){var p;const{activeRole:o}=La(),{user:i}=nr(),{userData:c}=La(),d=(c==null?void 0:c.nome)||(i==null?void 0:i.nome)||"Usurio";return e.jsxs(Wv,{children:[e.jsx(a,{}),e.jsxs(Yv,{children:[e.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl",children:e.jsxs("div",{className:"flex h-16 items-center gap-4 px-6",children:[e.jsx(Kv,{className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100"}),e.jsx(Bs,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),r.length>0&&e.jsx(my,{className:"flex-1",children:e.jsx(fy,{children:r.map((u,g)=>e.jsxs("div",{className:"flex items-center",children:[g>0&&e.jsx(gy,{className:"text-slate-400"}),e.jsx(hy,{children:u.href?e.jsx(py,{href:u.href,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100 font-medium",children:u.label}):e.jsx(xy,{className:"text-slate-900 dark:text-slate-100 font-semibold",children:u.label})})]},g))})}),e.jsxs("div",{className:"relative hidden md:flex items-center max-w-sm",children:[e.jsx(Es,{className:"absolute left-3 size-4 text-slate-400"}),e.jsx(fe,{placeholder:"Buscar...",className:"pl-10 bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:e.jsx(Jm,{className:"size-4"})}),e.jsx(Rf,{}),e.jsx(Bs,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(yi,{className:"size-8",children:[e.jsx(Hc,{src:""}),e.jsx(bi,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white text-sm font-semibold",children:(p=d==null?void 0:d.charAt(0))==null?void 0:p.toUpperCase()})]}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 hidden sm:block",children:d})]})]})]})}),e.jsx("main",{className:"flex-1 p-6 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 min-h-[calc(100vh-4rem)]",children:e.jsx("div",{className:"mx-auto max-w-7xl",children:t})})]})]})}function ft({className:t,variant:a="default",...r}){const o={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground"};return e.jsx("div",{className:be("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",o[a],t),...r})}const kg={paciente:{header:{title:"Portal Mdico",subtitle:"Paciente",icon:ss},sections:[{label:"Menu Principal",items:[{label:"Perfil",path:"/paciente/perfil",icon:ss},{label:"Pronturio",path:"/paciente/prontuario",icon:os},{label:"Consultas",path:"/paciente/consultas",icon:Ye},{label:"Exames",path:"/paciente/exames",icon:ia},{label:"Receitas",path:"/paciente/receitas",icon:ia},{label:"Histrico Mdico",path:"/paciente/historico-medico",icon:P0},{label:"Mdicos Vinculados",path:"/paciente/medicos",icon:ds}]}]},medico:{header:{title:"Portal Mdico",subtitle:"Mdico",icon:xt},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/medico/dashboard",icon:zu},{label:"Consultas de Hoje",path:"/medico/consultas/hoje",icon:Ye},{label:"Consultas",path:"/medico/minhas-consultas",icon:Ye},{label:"Meus Pacientes",path:"/medico/meus-pacientes",icon:ds}]}]},clinica:{header:{title:"Portal Mdico",subtitle:"Clnica",icon:Nc},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/clinica/dashboard",icon:WS},{label:"Calendrio",path:"/clinica/calendario",icon:Ye},{label:"Disponibilidade",path:"/clinica/disponibilidade",icon:rt},{label:"Exames",path:"/clinica/exames",icon:os},{label:"Pacientes",path:"/clinica/pacientes",icon:ds},{label:"Mdicos",path:"/clinica/medicos",icon:xt},{label:"Relatrios",path:"/clinica/relatorios",icon:ai}]}]},secretaria:{header:{title:"Portal Mdico",subtitle:"Secretaria",icon:ds},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/secretaria/dashboard",icon:zu},{label:"Consultas",path:"/secretaria/consultas",icon:Ye},{label:"Pacientes",path:"/secretaria/pacientes",icon:ds},{label:"Mdicos",path:"/secretaria/medicos",icon:xt}]}]},admin:{header:{title:"Portal Mdico",subtitle:"Admin",icon:Da},sections:[{label:"Painel",items:[{label:"Dashboard",path:"/admin/dashboard",icon:zu},{label:"Relatrios",path:"/admin/relatorios",icon:ai},{label:"Auditoria",path:"/admin/auditoria",icon:Da}]},{label:"Gerenciar",items:[{label:"Solicitaes",path:"/admin/solicitacoes",icon:rC},{label:"Usurios",path:"/admin/usuarios",icon:ds},{label:"Clnicas",path:"/admin/clinicas",icon:Ir}]},{label:"Telas",items:[{label:"Paciente",path:"/paciente/perfil",icon:ss},{label:"Mdico",path:"/medico/dashboard",icon:xt},{label:"Clnica",path:"/clinica/dashboard",icon:Ir},{label:"Secretaria",path:"/secretaria/dashboard",icon:ds},{label:"Admin",path:"/admin/dashboard",icon:Da}]}]}},jt={async getPerfil(){const t="/users/",a=ht.getCurrentUser();if(!(a!=null&&a.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const r=t.endsWith("/")?t:`${t}/`;return(await ue.get(`${r}${a.id}/`)).data},async atualizarPerfil(t){const a="/users/",r=ht.getCurrentUser();if(!(r!=null&&r.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const o=a.endsWith("/")?a:`${a}/`;return(await ue.patch(`${o}${r.id}/`,t)).data},async getConsultas(t={}){var a,r;try{const o="/consultas/";console.log("[DEBUG] Endpoint de consultas:",o);const i=await this.getPacienteDoUsuario();console.log("[DEBUG] Paciente encontrado:",i);const c={...t};if(i!=null&&i.id&&!c.paciente&&(c.paciente=i.id),console.log("[DEBUG] Query params:",c),!(i!=null&&i.id)&&Object.keys(c).length===0)return console.log("[DEBUG] Sem paciente e sem filtros, retornando array vazio"),{results:[]};console.log("[DEBUG] Fazendo requisio para:",o,"com params:",c);const d=await ue.get(o,{params:c});return console.log("[DEBUG] Resposta da API recebida:",d.data),d.data}catch(o){return console.warn("[pacienteService] getConsultas falhou:",(a=o==null?void 0:o.response)==null?void 0:a.status,(r=o==null?void 0:o.response)==null?void 0:r.data),console.error("[DEBUG] Erro completo:",o),{results:[]}}},async getExames(t={}){var d,p,u;const a="/exames/",{__propagateErrors:r,...o}=t||{};let i=null;try{i=await jt.getPacienteDoUsuario()}catch(g){console.debug("[pacienteService] getPacienteDoUsuario falhou, prosseguindo sem filtro de paciente",(d=g==null?void 0:g.response)==null?void 0:d.status)}const c={...o};if(i!=null&&i.id&&!c.paciente&&(c.paciente=i.id),Object.keys(c).forEach(g=>{(c[g]===void 0||c[g]===null||c[g]==="")&&delete c[g]}),!(i!=null&&i.id)&&Object.keys(c).length===0)return{results:[]};try{return console.debug("[pacienteService] GET exames",{endpoint:a,params:c}),(await ue.get(a,{params:c})).data}catch(g){if(console.warn("[pacienteService] getExames falhou:",(p=g==null?void 0:g.response)==null?void 0:p.status,(u=g==null?void 0:g.response)==null?void 0:u.data),r===!0)throw g;return{results:[]}}},async getProntuario(t={}){const a="/prontuarios/",{__propagateErrors:r,...o}=t||{},i={...o};let c=!1;try{const d=await this.getPacienteDoUsuario();d!=null&&d.id&&!i.consulta__paciente&&(i.consulta__paciente=d.id,c=!0)}catch{}if(!c&&Object.keys(i).length===0)return{results:[]};try{return(await ue.get(a,{params:i})).data}catch(d){if(r===!0)throw d;return{results:[]}}},async getMedicos(t={}){return(await ue.get("/medicos/",{params:t})).data},async getMedicoById(t){const a="/medicos/",r=a.endsWith("/")?a:`${a}/`;return(await ue.get(`${r}${t}/`)).data},async agendarConsulta({medico:t,data:a,hora:r,modalidade:o,local:i,observacoes:c,tipo:d,motivo:p}){const u="/consultas/",g=u.endsWith("/")?u:`${u}/`,f=await this.getPacienteDoUsuario();if(!(f!=null&&f.id))throw new Error("No foi possvel identificar o paciente autenticado.");const h=(j,N)=>{if(!j||!N)return null;const P=new Date(`${j}T${N}`);return isNaN(P)?null:P.toISOString()},v=j=>{const N={primeira:"primeira_consulta",primeira_consulta:"primeira_consulta",retorno:"retorno",urgencia:"urgencia",rotina:"rotina"},P=String(j||"").toLowerCase();return N[P]||"primeira_consulta"},w={paciente:f.id,medico:t,data_hora:h(a,r)||a||null,tipo:v(d),motivo:p,observacoes:c||void 0,duracao_minutos:30};return Object.keys(w).forEach(j=>{(w[j]===null||w[j]===void 0||w[j]==="")&&delete w[j]}),(await ue.post(g,w)).data},async getAgendaMedico({medico:t,date:a,apenas_disponiveis:r=!0}){const o="/agendamentos/",i={medico:t,medico_id:t,date:a,data:a,...r?{apenas_disponiveis:1}:{}};return(await ue.get(o,{params:i})).data},async getPacienteDoUsuario(){var i,c,d,p;const t="/pacientes/",a=t.endsWith("/")?t:`${t}/`;console.log("[DEBUG] getPacienteDoUsuario - Base endpoint:",a);try{console.log("[DEBUG] Tentando /pacientes/me/");const u=await ue.get(`${a}me/`);return console.log("[DEBUG] Sucesso /pacientes/me/:",u.data),u.data}catch(u){console.warn("[pacienteService] GET /pacientes/me/ falhou:",(i=u==null?void 0:u.response)==null?void 0:i.status),console.log("[DEBUG] Erro /pacientes/me/:",(c=u==null?void 0:u.response)==null?void 0:c.data)}const r=ht.getCurrentUser();if(console.log("[DEBUG] Usurio atual:",r),!(r!=null&&r.id))return console.log("[DEBUG] Nenhum usurio logado"),null;const o=["user","user__id","user_id"];for(const u of o)try{console.log(`[DEBUG] Tentando filtro ?${u}=${r.id}`);const g=await ue.get(a,{params:{[u]:r.id}}),f=Array.isArray((d=g.data)==null?void 0:d.results)?g.data.results:g.data;if(console.log(`[DEBUG] Resposta filtro ${u}:`,f),Array.isArray(f)&&f.length)return console.log("[DEBUG] Paciente encontrado via filtro:",f[0]),f[0]||null}catch(g){console.debug(`[pacienteService] Filtro ?${u}= falhou:`,(p=g==null?void 0:g.response)==null?void 0:p.status)}return console.log("[DEBUG] Nenhum paciente encontrado"),null},async atualizarPaciente(t){var d,p,u,g,f,h,v,w,y,j,N,P;const a="/pacientes/",r=a.endsWith("/")?a:`${a}/`,o=C=>Array.isArray(C)?C.map(_=>String(_).trim()).filter(Boolean).join(", "):typeof C=="string"?C.trim():C==null?"":String(C),i=C=>{if(C==null||C==="")return;typeof C=="string"&&(C=C.replace(",",".").trim());const _=Number(C);return Number.isFinite(_)?_:void 0},c={};if("tipo_sanguineo"in t&&(c.tipo_sanguineo=t.tipo_sanguineo),"alergias"in t&&(c.alergias=o(t.alergias)),"condicoes_cronicas"in t&&(c.condicoes_cronicas=o(t.condicoes_cronicas)),"peso"in t){const C=i(t.peso);C!==void 0&&(c.peso=C)}if("altura"in t){const C=i(t.altura);C!==void 0&&(c.altura=C)}"contato_emergencia_nome"in t&&(c.contato_emergencia_nome=((p=(d=t.contato_emergencia_nome)==null?void 0:d.trim)==null?void 0:p.call(d))||""),"contato_emergencia_telefone"in t&&(c.contato_emergencia_telefone=((g=(u=t.contato_emergencia_telefone)==null?void 0:u.trim)==null?void 0:g.call(u))||""),"plano_saude"in t&&(c.plano_saude=((h=(f=t.plano_saude)==null?void 0:f.trim)==null?void 0:h.call(f))||""),"numero_carteirinha"in t&&(c.numero_carteirinha=((w=(v=t.numero_carteirinha)==null?void 0:v.trim)==null?void 0:w.call(v))||""),"endereco"in t&&(c.endereco=((j=(y=t.endereco)==null?void 0:y.trim)==null?void 0:j.call(y))||""),"telefone"in t&&(c.telefone=((P=(N=t.telefone)==null?void 0:N.trim)==null?void 0:P.call(N))||""),"data_nascimento"in t&&(c.data_nascimento=t.data_nascimento),Object.keys(c).forEach(C=>{c[C]===void 0&&delete c[C]});try{return console.debug("[pacienteService] PATCH /pacientes/me/ payload:",c),(await ue.patch(`${r}me/`,c)).data}catch{const _=await this.getPacienteDoUsuario();if(!(_!=null&&_.id))throw new Error("Paciente no identificado para atualizao.");return console.debug(`[pacienteService] PATCH /pacientes/${_.id}/ payload:`,c),(await ue.patch(`${r}${_.id}/`,c)).data}},async getReceitas(t={}){const a="/receitas/",r=a.endsWith("/")?a:`${a}/`,{__propagateErrors:o,...i}=t||{},c={...i};let d=null,p=!1;try{const C=await this.getPacienteDoUsuario();C!=null&&C.id&&(d=C.id,c.paciente||(c.paciente=C.id),c.paciente_id||(c.paciente_id=C.id),p=!0)}catch{}if(!p&&Object.keys(c).length===0)return{results:[]};const u=async(C,_)=>{var E;try{const k=await ue.get(C,_?{params:_}:void 0),A=k==null?void 0:k.data;return{ok:!0,data:(Array.isArray(A)?A:Array.isArray(A==null?void 0:A.results)?A.results:null)!=null?A:{results:[]}}}catch(k){const A=(E=k==null?void 0:k.response)==null?void 0:E.status;if(o===!0&&![400,404,405,500].includes(A))throw k;return{ok:!1,err:k}}},g=[];d&&(g.push(()=>u(r,{paciente:d})),g.push(()=>u(r,{paciente_id:d})));const f={...c};delete f.consulta__paciente,g.push(()=>u(r,f));let h=null;for(const C of g){const _=await C();if(_.ok){h=_.data;break}}if(!h){const C=await u(r);if(C.ok){h=C.data;const _=Array.isArray(h)?h:Array.isArray(h==null?void 0:h.results)?h.results:[],E=d?_.filter(k=>{var A,T;return String(k.paciente_id||k.paciente||((A=k==null?void 0:k.consulta)==null?void 0:A.paciente)||((T=k==null?void 0:k.consulta)==null?void 0:T.paciente_id)||"")===String(d)}):_;h=Array.isArray(h)?E:{results:E}}else h={results:[]}}let v=[];try{const C=JSON.parse(localStorage.getItem("mock_receitas")||"[]");if(Array.isArray(C)){const _=c.consulta__paciente||c.paciente||c.paciente_id||d;v=_?C.filter(E=>{var k;return String(E.paciente_id||((k=E.consulta)==null?void 0:k.paciente_id)||"")===String(_)}):C}}catch{}const w=Array.isArray(h)?h:Array.isArray(h==null?void 0:h.results)?h.results:[],y=new Map;[...w,...v].forEach(C=>{if(!C)return;const _=C.id??`${C.created_at}-${C.medicamentos}`;y.has(_)||y.set(_,C)});const j=Array.from(y.values()),N=C=>{if(!C||/^https?:\/\//i.test(C)||/^(data|blob):/i.test(C))return C;const _="http://127.0.0.1:8000".replace(/\/$/,""),E=C.startsWith("/")?C:`/${C}`;return`${_}${E}`};return{results:j.map(C=>{var E;const _=C.arquivo_assinado||C.arquivoAssinado||((E=C==null?void 0:C.arquivo)==null?void 0:E.url)||(C==null?void 0:C.pdf_url)||(C==null?void 0:C.download_url);return _&&!C.arquivo_assinado?{...C,arquivo_assinado:N(_)}:C.arquivo_assinado?{...C,arquivo_assinado:N(C.arquivo_assinado)}:C})}},async getMedicosVinculados(){const t="/pacientes/",a=t.endsWith("/")?t:`${t}/`,r=await this.getPacienteDoUsuario();if(!(r!=null&&r.id))return[];const o=await ue.get(`${a}${r.id}/medicos/`);return Array.isArray(o.data)?o.data:[]},async solicitarReceita({medico:t,mensagem:a}){const r="/pacientes/",o=r.endsWith("/")?r:`${r}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente no identificado.");const c={medico:t,...a?{mensagem:a}:{}};return(await ue.post(`${o}${i.id}/solicitar_receita/`,c)).data},async getMedicos(t={}){return(await ue.get("/medicos/",{params:t})).data},async getDashboard(){var t;try{const a=new Date,r=new Date(a.getFullYear(),a.getMonth(),1),o=new Date(a.getFullYear(),a.getMonth()+1,0),i=E=>Array.isArray(E==null?void 0:E.results)?E.results:Array.isArray(E)?E:[],[c,d,p,u]=await Promise.all([this.getConsultas().catch(()=>({results:[]})),this.getExames().catch(()=>({results:[]})),this.getReceitas().catch(()=>({results:[]})),this.getMedicosVinculados().catch(()=>[])]),g=i(c),f=i(d),h=i(p),v=E=>{const k=new Date(E);return k.getMonth()===a.getMonth()&&k.getFullYear()===a.getFullYear()},w=g.map(E=>{var k,A;return{id:E.id||E.consulta_id,data_hora:E.data_hora||E.horario||E.inicio||E.data||E.start_time||null,status:E.status||"Agendada",tipo:E.tipo||E.modalidade||"Consulta",especialidade:E.especialidade||E.medico_especialidade||null,medico_nome:E.medico_nome||((k=E==null?void 0:E.medico)==null?void 0:k.nome)||((A=E==null?void 0:E.medico)!=null&&A.user?[E.medico.user.first_name,E.medico.user.last_name].filter(Boolean).join(" ").trim():void 0)}}),y=w.filter(E=>E.data_hora&&new Date(E.data_hora)>=a).sort((E,k)=>new Date(E.data_hora)-new Date(k.data_hora)).slice(0,5),j=w.filter(E=>E.data_hora&&v(E.data_hora)).length,N=f.map(E=>({id:E.id,tipo:E.tipo||E.nome||E.categoria||"Exame",status:E.status||E.situacao||"Pendente",data_agendamento:E.data_agendamento||E.agendamento||E.data||null,medico_solicitante:E.medico_solicitante||E.medico||void 0})),P=N.filter(E=>E.data_agendamento&&new Date(E.data_agendamento)>=a).sort((E,k)=>new Date(E.data_agendamento)-new Date(k.data_agendamento)).slice(0,5),C=N.filter(E=>v(E.data_agendamento)&&["realizado","concluido","concludo","finalizado"].includes(String(E.status).toLowerCase())).length,_=i(h).filter(E=>["ativa","valida","vlida"].includes(String(E.status||E.situacao||"").toLowerCase())).length;return{consultasMes:j,consultasProximas:y.length,examesPendentes:N.filter(E=>String(E.status).toLowerCase()==="pendente").length,examesRealizadosMes:C,receitasAtivas:_,medicosVinculados:Array.isArray(u)?u.length:0,proximasConsultas:y,proximosExames:P}}catch(a){return console.warn("[pacienteService] getDashboard fallback falhou:",(t=a==null?void 0:a.response)==null?void 0:t.status),null}},async garantirPacienteDoUsuario(t={}){var i,c;try{const d=await this.getPacienteDoUsuario();if(d!=null&&d.id)return d}catch{}const a="/pacientes/",r=a.endsWith("/")?a:`${a}/`,o={...t};Object.keys(o).forEach(d=>{o[d]===void 0&&delete o[d]});try{return(await ue.post(`${r}me/`,o)).data}catch(d){console.debug("[pacienteService] POST /pacientes/me/ falhou:",(i=d==null?void 0:d.response)==null?void 0:i.status)}try{const d=await ue.post(r,o);if(d!=null&&d.data)return d.data}catch(d){console.debug("[pacienteService] POST /pacientes/ falhou:",(c=d==null?void 0:d.response)==null?void 0:c.status)}try{const d=await this.getPacienteDoUsuario();if(d!=null&&d.id)return d}catch{}throw new Error("No foi possvel criar o perfil de paciente para o usurio atual.")}};function Ni({role:t="paciente"}){var U,K,z,D,G,$,H,q;const a=us(),r=Ts(),{user:o,logout:i}=nr(),{logout:c}=La(),d=(o==null?void 0:o.role)==="admin"||(o==null?void 0:o.tipo)==="admin",p=kg[t]||kg.paciente,[u,g]=x.useState(""),[f,h]=x.useState(3),[v,w]=x.useState(!1),[y,j]=x.useState(null),[N,P]=x.useState(t==="paciente");x.useEffect(()=>{let Y=!0;if(t!=="paciente"){j(null),P(!1);return}return(async()=>{try{const ee=await jt.getPacienteDoUsuario();Y&&j(ee||null)}catch{Y&&j(null)}finally{Y&&P(!1)}})(),()=>{Y=!1}},[t]);const C=[{title:"Paciente",href:"/paciente/perfil",icon:ss},{title:"Mdico",href:"/medico/dashboard",icon:xt},{title:"Clnica",href:"/clinica/dashboard",icon:Ir},{title:"Admin",href:"/admin/dashboard",icon:Da}],_=((U=p.header)==null?void 0:U.icon)||ss,E=((K=p.header)==null?void 0:K.subtitle)||"Portal",k=(($=(G=(D=(z=p.sections)==null?void 0:z[0])==null?void 0:D.items)==null?void 0:G[0])==null?void 0:$.path)||"/",A=(y==null?void 0:y.foto_url)||(y==null?void 0:y.foto)||(o==null?void 0:o.avatar)||(o==null?void 0:o.avatar_url)||"/placeholder.svg",T=x.useMemo(()=>{var ee,M,B;const Y=[(ee=y==null?void 0:y.user)==null?void 0:ee.display_name,[((M=y==null?void 0:y.user)==null?void 0:M.first_name)||(y==null?void 0:y.first_name),((B=y==null?void 0:y.user)==null?void 0:B.last_name)||(y==null?void 0:y.last_name)].filter(Boolean).join(" ").trim()].filter(Boolean).shift();return(y==null?void 0:y.nome)||(y==null?void 0:y.display_name)||Y||(o==null?void 0:o.display_name)||(o==null?void 0:o.nome)||[o==null?void 0:o.first_name,o==null?void 0:o.last_name].filter(Boolean).join(" ").trim()||(o==null?void 0:o.name)||"Usurio"},[y,o]),R=x.useMemo(()=>{var Y,ee;return(y==null?void 0:y.cpf)||((Y=y==null?void 0:y.user)==null?void 0:Y.cpf)||(o==null?void 0:o.cpf)||((ee=o==null?void 0:o.profile)==null?void 0:ee.cpf)||""},[y,o]),I=x.useMemo(()=>{var Y;return u.trim()?((Y=p.sections)==null?void 0:Y.map(ee=>{var M;return{...ee,items:((M=ee.items)==null?void 0:M.filter(B=>B.label.toLowerCase().includes(u.toLowerCase())))||[]}}).filter(ee=>ee.items.length>0))||[]:p.sections||[]},[p.sections,u]),L=R||(y==null?void 0:y.plano_saude)||(o==null?void 0:o.email)||"";return e.jsxs(Gv,{variant:"floating",className:be("bg-gradient-to-b from-slate-900 to-slate-950 border-slate-800 text-white shadow-2xl"),children:[e.jsxs(Jv,{className:"border-b border-slate-800/50 bg-gradient-to-r from-slate-900/80 to-slate-800/80 backdrop-blur-xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs(Ke,{to:k,className:"flex items-center gap-3 group",children:[e.jsx("div",{className:"flex aspect-square size-10 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 via-blue-600 to-purple-600 text-white shadow-lg group-hover:shadow-blue-500/25 transition-all duration-300 group-hover:scale-105",children:e.jsx(_,{className:"size-5"})}),e.jsxs("div",{className:"flex flex-col leading-tight",children:[e.jsx("span",{className:"font-bold text-white text-lg group-hover:text-blue-200 transition-colors",children:"Portal Mdico"}),e.jsx("span",{className:"text-xs text-slate-400 group-hover:text-slate-300 transition-colors",children:E})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(te,{variant:"ghost",size:"sm",className:"relative text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all duration-200 hover:scale-105",children:[e.jsx(Jm,{className:"size-4"}),f>0&&e.jsx("span",{className:"absolute -top-1 -right-1 size-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:f})]}),e.jsx(te,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all duration-200 hover:scale-105",children:e.jsx(qS,{className:"size-4"})})]})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:be("relative transition-all duration-300",v&&"transform scale-[1.02]"),children:[e.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-slate-400"}),e.jsx(fe,{placeholder:"Pesquisar no menu...",value:u,onChange:Y=>g(Y.target.value),onFocus:()=>w(!0),onBlur:()=>w(!1),className:be("pl-10 bg-slate-800/50 border-slate-700 text-white placeholder:text-slate-400","focus:bg-slate-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20","transition-all duration-300")})]})})]}),e.jsxs(Xv,{className:"bg-gradient-to-b from-slate-900 to-slate-950",children:[I==null?void 0:I.map((Y,ee)=>e.jsxs(Cm,{className:"px-3 py-2",children:[Y.label&&e.jsxs(_m,{className:"text-slate-400 text-xs font-semibold uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(Hs,{className:"size-3"}),Y.label]}),e.jsx(km,{children:e.jsx(Em,{className:"space-y-1",children:(Y.items||[]).map((M,B)=>{const re=a.pathname===M.path||a.pathname.startsWith(M.path+"/"),F=M.icon;return e.jsx(Rm,{children:e.jsx(Pm,{asChild:!0,"data-active":re,className:be("group flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-300","text-slate-300 hover:text-white hover:bg-gradient-to-r hover:from-slate-800/50 hover:to-slate-700/50","hover:shadow-lg hover:shadow-slate-900/20 hover:scale-[1.02] hover:translate-x-1",re&&"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg shadow-blue-600/30 scale-[1.02] translate-x-1"),style:{animationDelay:`${B*50}ms`},children:e.jsxs(Ke,{to:M.path,className:"flex items-center gap-3 w-full",children:[F&&e.jsx("div",{className:be("p-1.5 rounded-lg transition-all duration-300",re?"bg-white/20":"bg-slate-800/50 group-hover:bg-slate-700/50"),children:e.jsx(F,{className:"size-4 flex-shrink-0"})}),e.jsx("span",{className:"font-medium",children:M.label}),M.badge&&e.jsx(ft,{variant:"secondary",className:"ml-auto bg-slate-700 text-slate-200 text-xs animate-pulse",children:M.badge})]})})},M.path)})})})]},`${Y.label}-${ee}`)),d&&t!=="admin"&&e.jsxs(Cm,{className:"px-3 py-2",children:[e.jsxs(_m,{className:"text-slate-400 text-xs font-semibold uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(Da,{className:"size-3"}),"Telas Administrativas"]}),e.jsx(km,{children:e.jsx(Em,{className:"space-y-1",children:C.map((Y,ee)=>{const M=a.pathname===Y.href||a.pathname.startsWith(Y.href+"/"),B=Y.icon;return e.jsx(Rm,{children:e.jsx(Pm,{asChild:!0,"data-active":M,className:be("group flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-300","text-slate-300 hover:text-white hover:bg-gradient-to-r hover:from-amber-800/30 hover:to-amber-700/30","hover:shadow-lg hover:shadow-amber-900/20 hover:scale-[1.02] hover:translate-x-1",M&&"bg-gradient-to-r from-amber-600 to-amber-700 text-white shadow-lg shadow-amber-600/30 scale-[1.02] translate-x-1"),style:{animationDelay:`${ee*50}ms`},children:e.jsxs(Ke,{to:Y.href,className:"flex items-center gap-3 w-full",children:[B&&e.jsx("div",{className:be("p-1.5 rounded-lg transition-all duration-300",M?"bg-white/20":"bg-slate-800/50 group-hover:bg-amber-700/30"),children:e.jsx(B,{className:"size-4 flex-shrink-0"})}),e.jsx("span",{className:"font-medium",children:Y.title}),e.jsx(ft,{variant:"outline",className:"ml-auto border-amber-500/50 text-amber-400 text-xs",children:"Admin"})]})})},Y.href)})})})]})]}),e.jsxs(Qv,{className:"border-t border-slate-800/50 bg-gradient-to-r from-slate-900/80 to-slate-800/80 backdrop-blur-xl",children:[e.jsx("div",{className:"px-4 py-3",children:e.jsxs(ey,{children:[e.jsx(ty,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-slate-800/50 to-slate-700/50 hover:from-slate-800 hover:to-slate-700 transition-all duration-300 cursor-pointer group hover:shadow-lg hover:shadow-slate-900/20 hover:scale-[1.02]",children:[e.jsxs(yi,{className:"size-10 ring-2 ring-slate-700 group-hover:ring-blue-500/50 transition-all duration-300",children:[e.jsx(Hc,{src:A}),e.jsx(bi,{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-purple-600 text-white font-semibold",children:(q=(H=T||"U")==null?void 0:H.charAt(0))==null?void 0:q.toUpperCase()})]}),e.jsxs("div",{className:"flex flex-col gap-0.5 leading-tight flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-semibold text-white truncate group-hover:text-blue-200 transition-colors",children:T}),e.jsx("span",{className:"text-xs text-slate-400 truncate group-hover:text-slate-300 transition-colors",children:L})]}),e.jsx(Qm,{className:"size-4 text-slate-400 group-hover:text-white transition-all duration-300 group-hover:rotate-180"})]})}),e.jsxs(Ef,{align:"end",className:"w-56 bg-slate-800 border-slate-700 text-white shadow-2xl",children:[e.jsx(sy,{className:"text-slate-300",children:"Minha Conta"}),e.jsx(Mm,{className:"bg-slate-700"}),e.jsxs(on,{className:"hover:bg-slate-700 focus:bg-slate-700 cursor-pointer",children:[e.jsx(nC,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Perfil"})]}),e.jsxs(on,{className:"hover:bg-slate-700 focus:bg-slate-700 cursor-pointer",onClick:()=>{const Y=a.pathname.split("/")[1];r(`/${Y}/configuracoes`)},children:[e.jsx(sc,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Configuraes"})]}),e.jsx(Mm,{className:"bg-slate-700"}),e.jsxs(on,{className:"hover:bg-red-900/50 focus:bg-red-900/50 cursor-pointer text-red-400",onClick:async()=>{try{await i()}finally{c==null||c(),r("/login")}},children:[e.jsx(YS,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sair da Conta"})]})]})]})}),e.jsx(Bs,{className:"bg-slate-800/50"}),e.jsx("div",{className:"px-4 py-3 space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"size-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Online"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(iC,{className:"size-3"}),e.jsx("span",{children:"v2.1.0"})]})]})})]})]})}function _R(){const t=us(),a=Ts(),[r,o]=x.useState(null),[i,c]=x.useState(!0),d=x.useRef(!1),p=async()=>{try{const h=await jt.getPerfil();o(h)}catch{}finally{c(!1)}};x.useEffect(()=>{let h=!0;return(async()=>h&&(c(!0),await p()))(),()=>{h=!1}},[]);const u=!!r&&(!(r!=null&&r.data_nascimento)||!(r!=null&&r.endereco)||!(r!=null&&r.telefone));x.useEffect(()=>((async()=>t.pathname!=="/paciente/perfil"&&(d.current=!0,c(!0),await p(),d.current=!1))(),()=>{}),[t.pathname]),x.useEffect(()=>{d.current||!i&&u&&t.pathname!=="/paciente/perfil"&&a("/paciente/perfil",{replace:!0})},[i,u,t.pathname,a]);const g=x.useMemo(()=>{const h=t.pathname,v={"/paciente/perfil":"Perfil","/paciente/prontuario":"Pronturio","/paciente/consultas":"Consultas","/paciente/exames":"Exames","/paciente/receitas":"Receitas","/paciente/historico-medico":"Histrico Mdico","/paciente/medicos":"Mdicos Vinculados","/paciente/configuracoes":"Configuraes"},w=v[h]||Object.keys(v).find(y=>h.startsWith(y))&&v[Object.keys(v).find(y=>h.startsWith(y))]||"Perfil";return[{label:"rea do Paciente",href:"/paciente/perfil"},{label:w}]},[t.pathname]),f=()=>e.jsx(Ni,{role:"paciente"});return e.jsx(wi,{sidebar:f,breadcrumbs:g,children:e.jsx(di,{})})}function kR(){const t=()=>e.jsx(Ni,{role:"medico"});return e.jsx(wi,{sidebar:t,children:e.jsx(di,{})})}function vy({breadcrumbs:t}){const a=()=>e.jsx(Ni,{role:"clinica"});return e.jsx(wi,{sidebar:a,breadcrumbs:t,children:e.jsx(di,{})})}function ER(){const t=()=>e.jsx(Ni,{role:"admin"});return e.jsx(wi,{sidebar:t,children:e.jsx(di,{})})}var RR="Label",jy=x.forwardRef((t,a)=>e.jsx(et.label,{...t,ref:a,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));jy.displayName=RR;var PR=jy;const AR=wc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),me=x.forwardRef(({className:t,...a},r)=>e.jsx(PR,{ref:r,className:be(AR(),t),...a}));me.displayName="Label";const ie=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a}));ie.displayName="Card";const pe=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",t),...a}));pe.displayName="CardHeader";const xe=x.forwardRef(({className:t,...a},r)=>e.jsx("h3",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",t),...a}));xe.displayName="CardTitle";const Qe=x.forwardRef(({className:t,...a},r)=>e.jsx("p",{ref:r,className:be("text-sm text-muted-foreground",t),...a}));Qe.displayName="CardDescription";const le=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:be("p-6 pt-0",t),...a}));le.displayName="CardContent";const TR=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",t),...a}));TR.displayName="CardFooter";const MR=5;let tm=0;function DR(){return tm=(tm+1)%Number.MAX_SAFE_INTEGER,tm.toString()}const Mr={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},Yl=[];let Jl={toasts:[]};function Ql(t){Jl=OR(Jl,t),Yl.forEach(a=>{a(Jl)})}function OR(t,a){switch(a.type){case Mr.ADD_TOAST:return{...t,toasts:[a.toast,...t.toasts].slice(0,MR)};case Mr.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===a.toast.id?{...r,...a.toast}:r)};case Mr.DISMISS_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===a.toastId||a.toastId===void 0?{...r,open:!1}:r)};case Mr.REMOVE_TOAST:return a.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==a.toastId)}}}function $R({...t}){const a=DR(),r=i=>Ql({type:Mr.UPDATE_TOAST,toast:{...i,id:a}}),o=()=>Ql({type:Mr.DISMISS_TOAST,toastId:a});return Ql({type:Mr.ADD_TOAST,toast:{...t,id:a,open:!0,onOpenChange:i=>{i||o()}}}),{id:a,dismiss:o,update:r}}function Jt(){const[t,a]=x.useState(Jl);return x.useEffect(()=>(Yl.push(a),()=>{const r=Yl.indexOf(a);r>-1&&Yl.splice(r,1)}),[t]),{...t,toast:$R,dismiss:r=>Ql({type:Mr.DISMISS_TOAST,toastId:r})}}function LR(){const[t,a]=x.useState({email:"",password:""}),[r,o]=x.useState(!1),[i,c]=x.useState(!1),{login:d,loginWithGoogle:p}=nr(),{toast:u}=Jt(),g=Ts(),f=async C=>{var _,E,k,A,T,R,I,L,U,K,z;C.preventDefault(),o(!0);try{const D=await d(t);switch(u({title:"Login realizado com sucesso!",description:`Bem-vindo, ${((_=D.user)==null?void 0:_.first_name)||((E=D.user)==null?void 0:E.username)||((k=D.user)==null?void 0:k.email)||"usurio"}!`}),((A=D.user)==null?void 0:A.role)||((T=D.user)==null?void 0:T.tipo)){case"medico":g("/medico/dashboard");break;case"paciente":g("/paciente/perfil");break;case"clinica":g("/clinica/dashboard");break;case"admin":g("/admin/dashboard");break;default:g("/")}}catch(D){const G=((I=(R=D.response)==null?void 0:R.data)==null?void 0:I.error)||((U=(L=D.response)==null?void 0:L.data)==null?void 0:U.detail)||((z=(K=D.response)==null?void 0:K.data)==null?void 0:z.message);u({title:"Erro no login",description:G||"Credenciais invlidas",variant:"destructive"})}finally{o(!1)}},h=C=>{a(_=>({..._,[C.target.name]:C.target.value}))},[v,w]=x.useState(!1),y=x.useRef(null),{setTheme:j,theme:N}=ej(),P=x.useRef(null);return x.useEffect(()=>(P.current=N,j("light"),()=>{P.current&&j(P.current)}),[N,j]),x.useEffect(()=>{if(window.google&&y.current)try{window.google.accounts.id.initialize({client_id:"SEU_CLIENT_ID_REAL.apps.googleusercontent.com",callback:async C=>{var E,k,A,T,R,I,L,U;const _=C==null?void 0:C.credential;if(_){w(!0);try{const K=await p(_);switch(u({title:"Login com Google realizado!",description:`Bem-vindo, ${((E=K.user)==null?void 0:E.nome)||((k=K.user)==null?void 0:k.first_name)||((A=K.user)==null?void 0:A.username)||((T=K.user)==null?void 0:T.email)||"usurio"}!`}),((R=K.user)==null?void 0:R.role)||((I=K.user)==null?void 0:I.tipo)){case"medico":g("/medico/dashboard");break;case"paciente":g("/paciente/perfil");break;case"clinica":g("/clinica/dashboard");break;case"admin":g("/admin/dashboard");break;default:g("/")}}catch(K){u({title:"Erro no login com Google",description:((U=(L=K.response)==null?void 0:L.data)==null?void 0:U.message)||"No foi possvel autenticar",variant:"destructive"})}finally{w(!1)}}}}),window.google.accounts.id.renderButton(y.current,{theme:"outline",size:"large",shape:"pill",text:"continue_with",width:320})}catch{}},[p,g,u]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-blue-600/20 rounded-full blur-3xl"})]}),e.jsxs(ie,{className:"w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 relative z-10",children:[e.jsxs(pe,{className:"space-y-1 text-center pb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:e.jsx(xt,{className:"w-8 h-8 text-white"})}),e.jsx(xe,{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Portal Mdico"}),e.jsx(Qe,{className:"text-slate-600 text-base",children:"Acesse sua conta para continuar"})]}),e.jsxs(le,{className:"space-y-6 px-8 pb-8",children:[e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(me,{htmlFor:"email",className:"text-slate-700 font-medium flex items-center gap-2",children:[e.jsx(pn,{className:"w-4 h-4"}),"Email"]}),e.jsx(fe,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:h,required:!0,className:"h-12 border-slate-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/80 backdrop-blur-sm transition-all duration-200"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(me,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[e.jsx(A0,{className:"w-4 h-4"}),"Senha"]}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{id:"password",name:"password",type:i?"text":"password",placeholder:"",value:t.password,onChange:h,required:!0,className:"h-12 border-slate-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/80 backdrop-blur-sm transition-all duration-200 pr-12"}),e.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 hover:bg-transparent",onClick:()=>c(!i),children:i?e.jsx(US,{className:"h-4 w-4 text-slate-400"}):e.jsx(ya,{className:"h-4 w-4 text-slate-400"})})]})]}),e.jsx(te,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",disabled:r,children:r?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Entrando..."]}):"Entrar"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"}),e.jsx("span",{className:"text-sm text-slate-500 font-medium bg-white px-2",children:"ou"}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{ref:y,className:"w-full flex justify-center"})}),!window.google&&e.jsx(te,{type:"button",variant:"outline",className:"w-full h-12 border-slate-200 hover:bg-slate-50 bg-white/80 backdrop-blur-sm transition-all duration-200",disabled:!0,children:v?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-slate-400/30 border-t-slate-400 rounded-full animate-spin"}),"Conectando..."]}):"Continuar com Google"}),e.jsxs("div",{className:"text-center space-y-3 pt-4",children:[e.jsx(Ke,{to:"/esqueci-senha",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Esqueceu sua senha?"}),e.jsxs("div",{className:"text-sm text-slate-600",children:["No tem uma conta?"," ",e.jsx(Ke,{to:"/registrar",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Cadastre-se"})]})]})]})]})]})}function IR(){const t=Ts(),{toast:a}=Jt(),[r,o]=x.useState(!1),[i,c]=x.useState("paciente"),[d,p]=x.useState(!1),[u,g]=x.useState(!1),[f,h]=x.useState({nome:"",email:"",senha:"",confirmSenha:"",cpf:"",nomeClinica:"",cnpj:""}),v=D=>{const G=D.replace(/\D/g,"").slice(0,11),$=G.slice(0,3),H=G.slice(3,6),q=G.slice(6,9),Y=G.slice(9,11);return G.length>9?`${$}.${H}.${q}-${Y}`:G.length>6?`${$}.${H}.${q}`:G.length>3?`${$}.${H}`:$},w=D=>{const G=String(D||"").replace(/\D/g,"").slice(0,14),$=G.slice(0,2),H=G.slice(2,5),q=G.slice(5,8),Y=G.slice(8,12),ee=G.slice(12,14);return G.length>12?`${$}.${H}.${q}/${Y}-${ee}`:G.length>8?`${$}.${H}.${q}/${Y}`:G.length>5?`${$}.${H}.${q}`:G.length>2?`${$}.${H}`:$},y=D=>String(D||"").replace(/\D/g,"").slice(0,7),j=D=>{const{name:G,value:$}=D.target;if(G==="cpf"){h({...f,cpf:v($)});return}if(G==="cnpj"){h({...f,cnpj:w($)});return}h({...f,[G]:$})},N=D=>String(D||"").trim().replace(/\s+/g," ").split(" ").filter(Boolean).map(G=>G.charAt(0).toUpperCase()+G.slice(1).toLowerCase()).join(" "),[P,C]=x.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),_=x.useRef(null),E=x.useRef(null),k=x.useRef(null),A=D=>{const{name:G,value:$}=D.target;C(G==="crm"?H=>({...H,crm:y($)}):H=>({...H,[G]:$}))},T=(D,G)=>{C($=>({...$,documentos:{...$.documentos,[D]:G}}))},R=(D,G)=>{C($=>({...$,documentos:{...$.documentos,[D]:null}})),G!=null&&G.current&&(G.current.value="")},I=D=>{if(!D&&D!==0)return"";const G=["Bytes","KB","MB","GB"];if(D===0)return"0 Byte";const $=Math.floor(Math.log(D)/Math.log(1024));return`${(D/Math.pow(1024,$)).toFixed(1)} ${G[$]}`},L=({label:D,required:G=!1,icon:$="",accept:H=".pdf,image/*",file:q,onFile:Y,onRemove:ee,inputRef:M})=>{const[B,re]=x.useState(!1),F=V=>{var se;V.preventDefault(),re(!1);const Q=(se=V.dataTransfer.files)==null?void 0:se[0];Q&&Y(Q)};return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base",children:$}),e.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[D," ",G?e.jsx("span",{className:"text-rose-600",children:"*"}):e.jsx("span",{className:"text-slate-400",children:"(opcional)"})]})]}),e.jsx("input",{ref:M,type:"file",accept:H,className:"hidden",onChange:V=>{var Q;return Y(((Q=V.target.files)==null?void 0:Q[0])||null)}}),e.jsxs("div",{onDragOver:V=>{V.preventDefault(),re(!0)},onDragLeave:()=>re(!1),onDrop:F,className:`rounded-lg border-2 p-3 flex items-center justify-between gap-3 transition
            ${B?"border-sky-400 bg-sky-50":"border-dashed border-slate-300 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100 flex items-center justify-center text-lg",children:$}),q?e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:q.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[q.type||"Arquivo","  ",I(q.size)]})]}):e.jsxs("div",{className:"text-sm text-slate-600",children:["Arraste e solte aqui ou"," ",e.jsx("button",{type:"button",onClick:()=>{var V;return(V=M==null?void 0:M.current)==null?void 0:V.click()},className:"underline text-sky-700 hover:text-sky-800",children:"procurar"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!q&&e.jsx("button",{type:"button",onClick:()=>{var V;return(V=M==null?void 0:M.current)==null?void 0:V.click()},className:"px-3 py-2 rounded-md bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800",children:"Escolher arquivo"}),q&&e.jsx("button",{type:"button",onClick:ee,className:"px-3 py-2 rounded-md bg-rose-50 text-rose-700 text-xs font-semibold hover:bg-rose-100",children:"Remover"})]})]})]})},U=f.email.length===0||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email),K=f.confirmSenha.length===0||f.senha.length>0&&f.senha===f.confirmSenha,z=async D=>{var G,$,H,q,Y,ee,M,B,re,F;if(D.preventDefault(),!f.nome||!f.email||!f.senha||!f.cpf){a({title:"Erro de validao",description:"Por favor, preencha todos os campos obrigatrios.",variant:"destructive"});return}if(f.senha!==f.confirmSenha){a({title:"Erro de validao",description:"As senhas no conferem.",variant:"destructive"});return}if(f.senha.length<6){a({title:"Erro de validao",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(i==="medico"){if(!P.crm){a({title:"CRM obrigatrio",description:"Informe o CRM para cadastro como mdico.",variant:"destructive"});return}if(!P.documentos.diplomaMedicina){a({title:"Diploma obrigatrio",description:"Anexe o Diploma de Medicina.",variant:"destructive"});return}}o(!0);try{const V=String(f.nome||"").trim().replace(/\s+/g," "),Q=N(V),[se,...ne]=Q.split(" "),ve=ne.join(" "),ge={username:f.nome.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^a-z0-9@.+_-]/g,""),first_name:se||"",last_name:ve||"",email:f.email,password:f.senha,password_confirm:f.confirmSenha,role:i==="medico"?"paciente":i,desired_role:i,cpf:f.cpf||""};i==="clinica"&&(ge.nome_clinica=f.nomeClinica,ge.cnpj=f.cnpj);const Pe=await ht.register(ge,{medicoData:i==="medico"?P:void 0});if(i==="medico"){const Me=Pe==null?void 0:Pe.medicoApplication;Me!=null&&Me.success?a({title:"Solicitao enviada!",description:"Seus dados de mdico foram enviados para anlise."}):Me&&Me.success===!1&&(console.error("[RegisterForm] criarSolicitacaoMedico via authService falhou:",Me.error),a({title:"Solicitao pendente",description:"Sua conta foi criada, mas no foi possvel enviar a solicitao de mdico agora. Voc poder concluir depois."}))}a({title:"Registro realizado com sucesso!",description:"Sua conta foi criada. Voc pode fazer login agora."}),t("/login")}catch(V){console.error("Erro no registro:",V),console.error("Status do erro:",(G=V.response)==null?void 0:G.status),console.error("Detalhes do erro:",($=V.response)==null?void 0:$.data),console.error("Headers da resposta:",(H=V.response)==null?void 0:H.headers);let Q="Erro interno do servidor. Tente novamente.",se=!1,ne=!1,ve=!1;try{const ge=(q=V.response)==null?void 0:q.status,Pe=((Y=V.response)==null?void 0:Y.headers)||{},Me=Pe["content-type"]||Pe["Content-Type"]||"",Ve=(ee=V.response)==null?void 0:ee.data,yt=((typeof Ve=="string"?Ve:"")||"").toLowerCase(),Tt=It=>{It==="crm"?Q="CRM j cadastrado no sistema. Utilize outro nmero de CRM.":It==="email"?Q="E-mail j cadastrado no sistema.":It==="cpf"?Q="CPF j cadastrado no sistema.":Q="Algum campo nico j est cadastrado (ex.: CRM, e-mail ou CPF)."};ge===409&&(Tt("unknown"),ne=!0),se=String(Me).includes("text/html"),(se||yt.includes("unique constraint")||yt.includes("integrityerror"))&&(yt.includes("crm")?(Tt("crm"),ne=!0,ve=!0):yt.includes("email")?(Tt("email"),ne=!0):yt.includes("cpf")&&(Tt("cpf"),ne=!0))}catch{}if((M=V.response)!=null&&M.data){const ge=V.response.data;if(console.log("Tipo do errorData:",typeof ge),console.log("ErrorData completo:",JSON.stringify(ge,null,2)),typeof ge=="object"){const Pe=[];for(const[Me,Ve]of Object.entries(ge))Array.isArray(Ve)?Pe.push(`${Me}: ${Ve.join(", ")}`):Pe.push(`${Me}: ${Ve}`);Pe.length&&(Q=Pe.join(`
`))}typeof ge=="string"?/<\/?(html|body|head|table|div|span|style|script)[^>]*>/i.test(ge)||(Q=ge):ge.message?Q=ge.message:ge.email?Q=`Email: ${ge.email[0]}`:ge.password&&(Q=`Senha: ${ge.password[0]}`)}try{const ge=(B=V.response)==null?void 0:B.status,Pe=((re=V.response)==null?void 0:re.headers)||{},Me=Pe["content-type"]||Pe["Content-Type"]||"",Ve=(F=V.response)==null?void 0:F.data,yt=((typeof Ve=="string"?Ve:"")||"").toLowerCase(),Tt=ne||ge===409||yt.includes("unique constraint")||yt.includes("integrityerror"),It=se||String(Me).includes("text/html"),ms=ve||yt.includes("crm")||yt.includes("medico");if(Tt&&(It||ms)){try{await ht.login({email:f.email,password:f.senha}),await ht.logout(),a({title:"Conta criada",description:"Sua conta foi criada, mas houve um problema com os dados de mdico (CRM). Faa login para continuar."}),t("/login");return}catch{}a({title:"Conta possivelmente criada",description:Q+"  Tente fazer login com seu e-mail e senha."}),t("/login");return}}catch{}a({title:"Erro no registro",description:Q,variant:"destructive"})}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur shadow-app-lg rounded-2xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 pt-6 pb-4 bg-app-gradient text-white",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Criar conta"}),e.jsx("p",{className:"text-white/90 text-sm",children:i==="paciente"?"Como paciente":i==="clinica"?"Como clnica":"Como mdico"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-slate-100 rounded-lg p-1 grid grid-cols-3 gap-1",children:[e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="paciente"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("paciente"),children:" Paciente"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="clinica"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("clinica"),children:" Clnica"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${i==="medico"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("medico"),children:" Mdico"})]}),e.jsxs("form",{className:"space-y-4",onSubmit:z,children:[i!=="clinica"?e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome completo"}),e.jsx("input",{type:"text",name:"nome",placeholder:"Seu nome",value:f.nome,onChange:j,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome da clnica"}),e.jsx("input",{type:"text",name:"nomeClinica",placeholder:"Ex.: Clnica Vida",value:f.nomeClinica,onChange:j,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CNPJ"}),e.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",value:f.cnpj,onChange:j,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"E-mail"}),e.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:f.email,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${U?"border-slate-200 focus:ring-sky-500":"border-rose-300 focus:ring-rose-500"}`}),!U&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:"Informe um e-mail vlido."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CPF *"}),e.jsx("input",{type:"text",name:"cpf",placeholder:"000.000.000-00",value:f.cpf,onChange:j,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",name:"senha",placeholder:"Crie uma senha",value:f.senha,onChange:j,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"}),e.jsx("button",{type:"button",onClick:()=>p(D=>!D),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":d?"Ocultar senha":"Mostrar senha",children:d?"Ocultar":"Mostrar"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Confirmar senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",name:"confirmSenha",placeholder:"Repita a senha",value:f.confirmSenha,onChange:j,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 transition ${K?"border-slate-200 focus:ring-sky-500 focus:border-sky-500":"border-amber-300 focus:ring-amber-400"}`}),e.jsx("button",{type:"button",onClick:()=>g(D=>!D),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":u?"Ocultar senha":"Mostrar senha",children:u?"Ocultar":"Mostrar"})]}),f.confirmSenha.length>0&&e.jsx("p",{className:`mt-1 text-xs ${f.senha===f.confirmSenha?"text-emerald-600":"text-amber-600"}`,children:f.senha===f.confirmSenha?"Senhas conferem.":"As senhas no conferem."})]}),i==="medico"&&e.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[e.jsx("p",{className:"font-semibold",children:"Dados do Mdico"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CRM"}),e.jsx("input",{type:"text",name:"crm",placeholder:"CRM",value:P.crm,onChange:A,maxLength:7,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidade"}),e.jsx("input",{type:"text",name:"especialidade",placeholder:"Ex.: Cardiologia",value:P.especialidade,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio de Formao"}),e.jsx("input",{type:"text",name:"instituicaoFormacao",placeholder:"Universidade",value:P.instituicaoFormacao,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano de Formao"}),e.jsx("input",{type:"number",name:"anoFormacao",placeholder:"YYYY",value:P.anoFormacao,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Residncia (se aplicvel)"}),e.jsx("input",{type:"text",name:"residencia",placeholder:"Residncia Mdica",value:P.residencia,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio da Residncia"}),e.jsx("input",{type:"text",name:"instituicaoResidencia",placeholder:"Instituio",value:P.instituicaoResidencia,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano da Residncia"}),e.jsx("input",{type:"number",name:"anoResidencia",placeholder:"YYYY",value:P.anoResidencia,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Experincia"}),e.jsx("textarea",{name:"experiencia",placeholder:"Resumo da experincia",value:P.experiencia,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Motivao"}),e.jsx("textarea",{name:"motivacao",placeholder:"Por que deseja se cadastrar como mdico na plataforma?",value:P.motivacao,onChange:A,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium",children:"Documentos"}),e.jsx(L,{label:"Diploma de Medicina",required:!0,icon:"",accept:".pdf,image/*",file:P.documentos.diplomaMedicina,inputRef:_,onFile:D=>T("diplomaMedicina",D),onRemove:()=>R("diplomaMedicina",_)}),e.jsx(L,{label:"Certificado de Residncia",icon:"",accept:".pdf,image/*",file:P.documentos.certificadoResidencia,inputRef:E,onFile:D=>T("certificadoResidencia",D),onRemove:()=>R("certificadoResidencia",E)}),e.jsx(L,{label:"Comprovante de Experincia",icon:"",accept:".pdf,image/*",file:P.documentos.comprovanteExperiencia,inputRef:k,onFile:D=>T("comprovanteExperiencia",D),onRemove:()=>R("comprovanteExperiencia",k)})]})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full py-2.5 rounded-lg font-semibold text-white bg-app-gradient hover:opacity-90 shadow-app transition disabled:opacity-70 disabled:cursor-not-allowed",children:r?"Registrando...":`Registrar ${{paciente:"Paciente",clinica:"Clnica",medico:"Mdico"}[i]||"Usurio"}`})]})]})]})})}const yy=x.createContext(null);function by(){const t=x.useContext(yy);if(!t)throw new Error("Tabs components must be used within <Tabs>");return t}const Va=x.forwardRef(({className:t,value:a,defaultValue:r="",onValueChange:o,children:i,...c},d)=>{const[p,u]=x.useState(r),g=a!==void 0,f=g?a:p,h=v=>{g||u(v),o==null||o(v)};return e.jsx(yy.Provider,{value:{value:f,setValue:h},children:e.jsx("div",{ref:d,className:be("",t),...c,children:i})})});Va.displayName="Tabs";const Ha=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a}));Ha.displayName="TabsList";const St=x.forwardRef(({className:t,value:a,onClick:r,...o},i)=>{const{value:c,setValue:d}=by(),p=c===a,u=g=>{r==null||r(g),d(a)};return e.jsx("button",{ref:i,"data-state":p?"active":"inactive",className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",p?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",t),onClick:u,...o})});St.displayName="TabsTrigger";const Ot=x.forwardRef(({className:t,value:a,forceMount:r=!1,...o},i)=>{const{value:c}=by();return!r&&c!==a?null:e.jsx("div",{ref:i,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...o})});Ot.displayName="TabsContent";function FR(){const[t,a]=x.useState(""),[r,o]=x.useState(!1),[i,c]=x.useState(!1),[d,p]=x.useState("paciente"),u=Ts(),g=us(),{toast:f}=Jt();x.useEffect(()=>{const w=new URLSearchParams(g.search).get("role");(w==="clinica"||w==="paciente")&&p(w)},[g]);const h=async v=>{v.preventDefault(),o(!0);try{await new Promise(w=>setTimeout(w,1500)),c(!0),f({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch{f({title:"Erro",description:"No foi possvel enviar o email. Tente novamente.",variant:"destructive"})}finally{o(!1)}};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),e.jsxs(ie,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[e.jsxs(pe,{className:"space-y-1 text-center pb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 shadow-lg",children:e.jsx(Js,{className:"h-8 w-8 text-white"})}),e.jsx(xe,{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Email Enviado!"}),e.jsxs(Qe,{className:"text-lg text-gray-600",children:["Enviamos um link para redefinir sua senha para ",e.jsx("strong",{className:"text-gray-900",children:t})]})]}),e.jsxs(le,{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-100",children:e.jsx("p",{className:"text-sm text-gray-700 text-center font-medium",children:"Verifique sua caixa de entrada e spam. O link expira em 24 horas."})}),e.jsx(te,{variant:"outline",className:"w-full h-12 bg-white/50 hover:bg-white/80 border-gray-200 hover:border-gray-300 transition-all duration-200",onClick:()=>c(!1),children:"Enviar para outro email"}),e.jsxs(te,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200",onClick:()=>u(`/login?role=${d}`),children:[e.jsx(Xo,{className:"mr-2 h-4 w-4"}),"Voltar ao login"]})]})]})]}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),e.jsxs(ie,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[e.jsxs(pe,{className:"space-y-1 pb-8",children:[e.jsx(xe,{className:"text-3xl font-bold text-center bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Esqueceu sua senha?"}),e.jsx(Qe,{className:"text-center text-lg text-gray-600",children:"Digite seu email para receber um link de redefinio"})]}),e.jsxs(le,{children:[e.jsx(Va,{value:d,onValueChange:p,className:"mb-8",children:e.jsxs(Ha,{className:"grid w-full grid-cols-2 bg-gray-100/80 p-1 rounded-xl",children:[e.jsxs(St,{value:"paciente",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[e.jsx(ss,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Paciente"})]}),e.jsxs(St,{value:"clinica",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[e.jsx(Ir,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Clnica"})]})]})}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(me,{htmlFor:"email",className:"text-sm font-semibold text-gray-700",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(fe,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:v=>a(v.target.value),className:"pl-10 h-12 bg-white/50 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 transition-all duration-200",required:!0})]})]}),e.jsx(te,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(KS,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar Link de Redefinio"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(Ke,{to:`/login?role=${d}`,className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition-colors duration-200 group",children:[e.jsx(Xo,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform duration-200"}),"Voltar ao login"]})})]})]})]})}function zR({children:t}){const{user:a,isAuthenticated:r,loading:o}=nr(),i=us();if(o)return null;if(!r)return e.jsx(Lt,{to:"/login",state:{from:i},replace:!0});const c=(a==null?void 0:a.role)||(a==null?void 0:a.tipo);return c!=="secretaria"&&c!=="admin"?c==="paciente"?e.jsx(Lt,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx(Lt,{to:"/medico/dashboard",replace:!0}):c==="clinica"?e.jsx(Lt,{to:"/clinica/dashboard",replace:!0}):e.jsx(Lt,{to:"/",replace:!0}):t}function BR(){const t=()=>e.jsx(Ni,{role:"secretaria"});return e.jsx(wi,{sidebar:t,children:e.jsx(di,{})})}function ca({tabs:t,basePath:a}){const r=us();return e.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-200/50 dark:border-gray-700/50 shadow-lg mb-6",children:e.jsx("nav",{className:"flex space-x-1 p-2",children:t.map(o=>{const i=r.pathname===o.href;return e.jsx(Ke,{to:o.href,className:be("flex items-center px-4 py-3 text-sm font-medium transition-all duration-200 rounded-md",i?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-700 hover:text-gray-900 hover:bg-gray-100/80 dark:text-gray-200 dark:hover:text-white dark:hover:bg-gray-700/70"),children:o.label},o.href)})})})}const pt=x.forwardRef(({className:t,...a},r)=>e.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a}));pt.displayName="Textarea";function UR(){const[t,a]=x.useState(null),[r,o]=x.useState(null),[i,c]=x.useState(!0),[d,p]=x.useState(null),[u,g]=x.useState([]),[f,h]=x.useState(!0),[v,w]=x.useState({data_nascimento:"",endereco:"",telefone:"",tipo_sanguineo:"",alergias:"",condicoes_cronicas:""}),[y,j]=x.useState(!1),{toast:N}=Jt();x.useEffect(()=>{let R=!0;return(async()=>{var I,L,U,K;try{const[z,D]=await Promise.allSettled([jt.getPerfil(),jt.getPacienteDoUsuario()]);if(!R)return;if(z.status==="fulfilled"&&a(z.value),D.status==="fulfilled"&&o(D.value),z.status==="rejected"&&D.status==="rejected"){const G=((L=(I=z.reason)==null?void 0:I.response)==null?void 0:L.status)||((K=(U=D.reason)==null?void 0:U.response)==null?void 0:K.status);p(G===401?"Sua sesso no  vlida. Verifique o login e o tipo de autenticao (Bearer/JWT/Token).":"No foi possvel carregar seu perfil.")}}finally{R&&c(!1)}})(),()=>{R=!1}},[]),x.useEffect(()=>{let R=!0;return(async()=>{try{h(!0);const I=await jt.getConsultas();if(R){const U=(Array.isArray(I)?I:(I==null?void 0:I.results)||[]).map(D=>{var q,Y,ee,M,B,re,F,V,Q,se,ne;const G=((Y=(q=D.medico)==null?void 0:q.user)==null?void 0:Y.first_name)||((ee=D.medico)==null?void 0:ee.first_name)||((M=D.medico)==null?void 0:M.nome)||"",$=((re=(B=D.medico)==null?void 0:B.user)==null?void 0:re.last_name)||((F=D.medico)==null?void 0:F.last_name)||"",H=[G,$].filter(Boolean).join(" ").trim()||((V=D.medico)==null?void 0:V.nome)||"";return{id:D.id,data:D.data||D.data_hora,medico:{nome:H,especialidade:((ne=(se=(Q=D.medico)==null?void 0:Q.especialidades)==null?void 0:se[0])==null?void 0:ne.nome)||D.especialidade||"No especificada"},status:D.status,local:D.local||D.localizacao||D.observacoes||"Local no especificado",tipo:D.tipo||D.motivo||"Consulta"}}),K=new Date,z=U.filter(D=>{const $=(D.status||"").toLowerCase().includes("agend"),H=D.data?new Date(D.data)>K:!1;return $||H});g(z.slice(0,3))}}catch(I){console.error("Erro ao buscar consultas:",I)}finally{R&&h(!1)}})(),()=>{R=!1}},[]),x.useEffect(()=>{r&&t&&w({data_nascimento:t.data_nascimento||"",endereco:t.endereco||"",telefone:t.telefone||"",tipo_sanguineo:r.tipo_sanguineo||"",alergias:r.alergias||"",condicoes_cronicas:r.condicoes_cronicas||""})},[r,t]);const P=R=>{const{name:I,value:L}=R.target;w(U=>({...U,[I]:L}))},C=async R=>{R.preventDefault(),j(!0);try{await jt.updatePerfil({data_nascimento:v.data_nascimento,endereco:v.endereco,telefone:v.telefone}),await jt.updatePaciente({tipo_sanguineo:v.tipo_sanguineo,alergias:v.alergias,condicoes_cronicas:v.condicoes_cronicas});const[I,L]=await Promise.allSettled([jt.getPerfil(),jt.getPacienteDoUsuario()]);I.status==="fulfilled"&&a(I.value),L.status==="fulfilled"&&o(L.value),N({title:"Perfil atualizado",description:"Suas informaes foram salvas com sucesso."})}catch(I){console.error("Erro ao salvar perfil:",I),N({title:"Erro ao salvar",description:"No foi possvel atualizar seu perfil. Tente novamente.",variant:"destructive"})}finally{j(!1)}},_=R=>R?([R.first_name,R.last_name].filter(Boolean).join(" ")||R.username||"Usurio").split(" ").map(L=>L[0]).join("").toUpperCase().slice(0,2):"?",E=R=>R?R.length>50?R.substring(0,50)+"...":R:"No informado",k=t&&(!t.data_nascimento||!t.endereco||!t.telefone),A=[{label:"Perfil",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"}],T=[{title:"Agendar Consulta",description:"Marque uma nova consulta",href:"/paciente/consultas",icon:Ye,color:"blue"},{title:"Ver Pronturio",description:"Acesse seu histrico mdico",href:"/paciente/prontuario",icon:os,color:"green"},{title:"Exames",description:"Visualize seus exames",href:"/paciente/exames",icon:ia,color:"purple"},{title:"Receitas",description:"Suas receitas mdicas",href:"/paciente/receitas",icon:ec,color:"red"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-8 shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/95 via-indigo-600/95 to-purple-600/95"}),e.jsx("div",{className:"absolute -top-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl"}),e.jsx("div",{className:"absolute -bottom-4 -left-4 h-32 w-32 rounded-full bg-white/5 blur-2xl"}),e.jsxs("div",{className:"relative flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(yi,{className:"h-24 w-24 ring-4 ring-white/40 shadow-xl",children:e.jsx(bi,{className:"bg-gradient-to-br from-white to-blue-100 text-blue-700 text-2xl font-bold shadow-inner",children:i?"...":_(t)})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 rounded-full bg-emerald-400 border-3 border-white shadow-lg"})]}),e.jsxs("div",{className:"text-white",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 drop-shadow-sm",children:i?e.jsx(at,{className:"h-10 w-64 bg-white/20"}):[t==null?void 0:t.first_name,t==null?void 0:t.last_name].filter(Boolean).join(" ")||(t==null?void 0:t.username)||"Usurio"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Da,{className:"h-5 w-5 text-blue-100"}),e.jsx("p",{className:"text-blue-50 text-lg font-medium",children:"Paciente Verificado"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[(t==null?void 0:t.cpf)&&e.jsxs(ft,{className:"bg-white/25 text-white border-white/40 hover:bg-white/35 font-medium px-3 py-1 shadow-sm",children:["CPF: ",t.cpf]}),(r==null?void 0:r.tipo_sanguineo)&&e.jsxs(ft,{className:"bg-red-500/30 text-red-50 border-red-200/40 hover:bg-red-500/40 font-medium px-3 py-1 shadow-sm",children:[e.jsx(Qx,{className:"h-4 w-4 mr-1"}),r.tipo_sanguineo]})]})]})]}),e.jsxs(te,{className:"bg-white/25 hover:bg-white/35 text-white border-white/40 backdrop-blur-sm shadow-lg font-medium",children:[e.jsx(eC,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})]}),e.jsx(ca,{tabs:A,basePath:"/paciente"}),!i&&!d&&k&&e.jsxs(ie,{className:"border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 shadow-lg dark:border-amber-600",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(xe,{className:"flex items-center gap-3 text-amber-800 dark:text-amber-200",children:[e.jsx("div",{className:"p-2 rounded-full bg-amber-200 dark:bg-amber-700",children:e.jsx(Qo,{className:"h-5 w-5 text-amber-700 dark:text-amber-200"})}),"Complete seu perfil para uma experincia completa"]})}),e.jsx(le,{children:e.jsxs("form",{className:"space-y-6",onSubmit:C,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"data_nascimento",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Data de Nascimento"}),e.jsx(fe,{id:"data_nascimento",name:"data_nascimento",type:"date",value:v.data_nascimento,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"telefone",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:v.telefone,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"endereco",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Endereo"}),e.jsx(pt,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:v.endereco,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"tipo_sanguineo",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Tipo Sanguneo"}),e.jsx(fe,{id:"tipo_sanguineo",name:"tipo_sanguineo",placeholder:"Ex: O+, A-, B+, AB-",value:v.tipo_sanguineo,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"alergias",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Alergias"}),e.jsx(fe,{id:"alergias",name:"alergias",placeholder:"Ex: Penicilina, Amendoim",value:v.alergias,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"condicoes_cronicas",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Condies Crnicas"}),e.jsx(pt,{id:"condicoes_cronicas",name:"condicoes_cronicas",placeholder:"Ex: Hipertenso, Diabetes",value:v.condicoes_cronicas,onChange:P,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),e.jsx(te,{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg font-medium",children:y?"Salvando...":"Salvar Informaes"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(ie,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(pe,{className:"pb-6",children:e.jsxs(xe,{className:"flex items-center gap-3 text-2xl text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:e.jsx(ss,{className:"h-6 w-6"})}),"Informaes Pessoais"]})}),e.jsx(le,{children:i?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(at,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),e.jsx(at,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(at,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),e.jsx(at,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]})]}):d?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Qo,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:d})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:e.jsx(Ye,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200",children:"Data de Nascimento"})]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(t==null?void 0:t.data_nascimento)||"No informado"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-emerald-50 to-green-100 dark:from-emerald-900/40 dark:to-green-900/40 border border-emerald-200 dark:border-emerald-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-emerald-500 text-white shadow-md",children:e.jsx($r,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-emerald-800 dark:text-emerald-200",children:"Telefone"})]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(t==null?void 0:t.telefone)||"No informado"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-violet-100 dark:from-purple-900/40 dark:to-violet-900/40 border border-purple-200 dark:border-purple-700 hover:shadow-lg transition-all duration-300 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-purple-500 text-white shadow-md",children:e.jsx(tc,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200",children:"Endereo"})]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:E(t==null?void 0:t.endereco)})]})]}),e.jsx(Bs,{className:"my-8 bg-gray-200 dark:bg-gray-700"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(Hs,{className:"h-5 w-5 text-red-500"}),"Informaes Mdicas"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-red-50 to-pink-100 dark:from-red-900/40 dark:to-pink-900/40 border border-red-200 dark:border-red-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-red-500 text-white shadow-md",children:e.jsx(Qx,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"Tipo Sanguneo"})]}),e.jsx("p",{className:"text-red-900 dark:text-red-100 font-bold text-2xl",children:(r==null?void 0:r.tipo_sanguineo)||"No informado"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-amber-50 to-yellow-100 dark:from-amber-900/40 dark:to-yellow-900/40 border border-amber-200 dark:border-amber-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-amber-500 text-white shadow-md",children:e.jsx(Qo,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-amber-700 dark:text-amber-200",children:"Alergias"})]}),e.jsx("p",{className:"text-amber-800 dark:text-amber-200 font-medium",children:(r==null?void 0:r.alergias)||"Nenhuma alergia conhecida"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-teal-50 to-cyan-100 dark:from-teal-900/40 dark:to-cyan-900/40 border border-teal-200 dark:border-teal-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-teal-500 text-white shadow-md",children:e.jsx(ec,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-teal-800 dark:text-teal-200",children:"Condies Crnicas"})]}),e.jsx("p",{className:"text-teal-800 dark:text-teal-200 font-medium",children:(r==null?void 0:r.condicoes_cronicas)||"Nenhuma condio crnica"})]})]})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[e.jsx(sC,{className:"h-5 w-5 text-yellow-500"}),"Aes Rpidas"]})}),e.jsx(le,{className:"space-y-3",children:T.map((R,I)=>{const L=R.icon;return e.jsx(Ke,{to:R.href,children:e.jsx("div",{className:"group p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300 hover:shadow-lg cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-full bg-gradient-to-br ${R.color==="blue"?"from-blue-500 to-blue-600":R.color==="green"?"from-emerald-500 to-green-600":R.color==="purple"?"from-purple-500 to-violet-600":"from-red-500 to-pink-600"} text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:e.jsx(L,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:R.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:R.description})]}),e.jsx(ja,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-300"})]})})},I)})})]}),e.jsxs(ie,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(pe,{className:"pb-3",children:e.jsxs(xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:e.jsx(Ye,{className:"h-4 w-4"})}),"Prximas Consultas"]})}),e.jsx(le,{children:f?e.jsxs("div",{className:"space-y-3",children:[e.jsx(at,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"}),e.jsx(at,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"})]}):u.length>0?e.jsxs("div",{className:"space-y-3",children:[u.map(R=>e.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-md transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:e.jsx(Ye,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:[new Date(R.data).toLocaleDateString("pt-BR")," ",new Date(R.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200 font-medium",children:R.medico.nome}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:R.medico.especialidade})]})]})},R.id)),e.jsx(te,{variant:"outline",size:"sm",asChild:!0,className:"w-full mt-3 border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:e.jsxs(Ke,{to:"/paciente/consultas",children:["Ver Todas as Consultas",e.jsx(ja,{className:"h-3 w-3 ml-1"})]})})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:e.jsx(Ye,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhuma consulta agendada"}),e.jsx(te,{variant:"outline",size:"sm",asChild:!0,className:"border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:e.jsxs(Ke,{to:"/paciente/consultas",children:["Agendar Consulta",e.jsx(ja,{className:"h-3 w-3 ml-1"})]})})]})})]}),e.jsxs(ie,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(pe,{className:"pb-3",children:e.jsxs(xe,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg",children:e.jsx(ia,{className:"h-4 w-4"})}),"Exames Recentes"]})}),e.jsx(le,{children:e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:e.jsx(ia,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhum exame recente"}),e.jsx(te,{variant:"outline",size:"sm",asChild:!0,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50 dark:border-emerald-600 dark:text-emerald-300 dark:hover:bg-emerald-900/20",children:e.jsxs(Ke,{to:"/paciente/exames",children:["Ver Todos os Exames",e.jsx(ja,{className:"h-3 w-3 ml-1"})]})})]})})]})]})]})]})})}function VR(){const[t,a]=x.useState(null),[r,o]=x.useState(!0),[i,c]=x.useState(null),d=h=>Array.isArray(h)?h.filter(v=>v!=null&&v!==""):typeof h=="string"?h.split(/[\n;,]+/).map(v=>v.trim()).filter(Boolean):h==null?[]:[h],p=h=>{let v="",w="",y="";if(typeof h=="string"){const j=h.split(/[;\-\|]/).map(N=>N.trim()).filter(Boolean);if(j.length&&(v=j[0]),j[1]&&(w=j[1]),j[2]&&(y=j.slice(2).join("  ")),!w){const N=h.match(/\b(\d+(\.\d+)?\s?(mg|ml|mcg|g|gotas|ui))\b/i);N&&(w=N[0])}if(!y){const N=h.match(/\b(\d+x\s?\/\s?dia|[1-9]\s?x\/dia|a\s?cada\s?\d+\s?h|de\s?\d+\s?em\s?\d+\s?h)\b/i);N&&(y=N[0])}}else h&&typeof h=="object"&&(v=h.nome||h.medicamento||h.nome_medicamento||h.name||h.descricao||"",w=h.dose||h.dosagem||h.dosage||"",y=h.posologia||h.frequencia||h.intervalo||h.schedule||"");return{name:v||(typeof h=="string"?h:JSON.stringify(h)),dose:w||"",schedule:y||""}},u=h=>{const v=d(h);return v.length>0?e.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:v.map((w,y)=>{const j=p(w);return e.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm hover:shadow-md transition-shadow",role:"group","aria-label":`Medicao ${j.name}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 rounded-md bg-primary/10 p-2 text-primary",children:e.jsx(Zo,{className:"h-5 w-5","aria-hidden":"true"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-base md:text-lg font-semibold leading-snug break-words",children:j.name}),j.dose&&e.jsx("div",{className:"text-sm md:text-base text-muted-foreground mt-0.5 break-words",children:j.dose}),j.schedule&&e.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-muted/60 px-2 py-1 text-xs md:text-sm text-foreground/80",children:[e.jsx(rt,{className:"h-3.5 w-3.5","aria-hidden":"true"}),e.jsx("span",{className:"break-words",children:j.schedule})]})]})]})},y)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})};x.useEffect(()=>{let h=!0;const v=y=>{var E,k;const j=Array.isArray(y)?y[0]:Array.isArray(y==null?void 0:y.results)?y.results[0]:y||{},N=j.alergias??j.allergies??j.alergia,P=j.condicoes??j.condicoes_cronicas??j.condicoesCronicas,C=j.medicacoes??j.medicamentos??j.medicacoes_em_uso??j.medicamentos_em_uso??j.medicamentos_uso??j.em_uso??j.medicacoesEmUso??j.medicamentosEmUso??j.medications??j.current_medications??((E=j.prontuario)==null?void 0:E.medicacoes)??((k=j.prontuario)==null?void 0:k.medicamentos),_=j.observacoes??j.observacao??j.notes??j.anotacoes;return{alergias:d(N),condicoes:d(P),medicacoes:d(C),observacoes:_??""}},w=y=>y?{alergias:d(y.alergias),condicoes:d(y.condicoes_cronicas??y.condicoes),medicacoes:d(y.medicacoes??y.medicamentos??y.medicacoes_em_uso??y.medicamentos_em_uso??y.medicamentos_uso??y.em_uso??y.medicacoesEmUso??y.medicamentosEmUso??y.medications??y.current_medications),observacoes:y.observacoes??""}:null;return(async()=>{try{const[y,j]=await Promise.allSettled([jt.getProntuario(),jt.getPacienteDoUsuario()]);let N=null;if(y.status==="fulfilled"&&(N=v(y.value)),(!N||d(N.alergias).length===0&&d(N.condicoes).length===0&&d(N.medicacoes).length===0&&(!N.observacoes||N.observacoes===""))&&j.status==="fulfilled"){const C=w(j.value);C&&(N=C)}h&&a(N||{alergias:[],condicoes:[],medicacoes:[],observacoes:""})}catch{h&&c("No foi possvel carregar o pronturio.")}finally{h&&o(!1)}})(),()=>{h=!1}},[]);const g=h=>{const v=d(h);return v.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((w,y)=>{const j=typeof w=="string"?w:(w==null?void 0:w.nome)||(w==null?void 0:w.medicamento)||(w==null?void 0:w.nome_medicamento)||[w==null?void 0:w.descricao,(w==null?void 0:w.dose)||(w==null?void 0:w.dosagem),(w==null?void 0:w.posologia)||(w==null?void 0:w.frequencia)].filter(Boolean).join("  ")||JSON.stringify(w);return e.jsx(ft,{variant:"secondary",className:"px-2.5 py-1 text-xs",children:j},y)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})},f=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Pronturio"})]}),e.jsx(ca,{tabs:f,basePath:"/paciente"}),r?e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(ie,{className:"lg:col-span-2",children:[e.jsx(pe,{children:e.jsx(at,{className:"h-5 w-40"})}),e.jsxs(le,{className:"space-y-2",children:[e.jsx(at,{className:"h-4 w-full"}),e.jsx(at,{className:"h-4 w-5/6"}),e.jsx(at,{className:"h-4 w-2/3"})]})]}),e.jsx("div",{className:"space-y-6",children:[...Array(3)].map((h,v)=>e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(at,{className:"h-5 w-40"})}),e.jsxs(le,{className:"space-y-2",children:[e.jsx(at,{className:"h-4 w-full"}),e.jsx(at,{className:"h-4 w-2/3"})]})]},v))})]}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(ie,{className:"lg:col-span-2 min-h-[320px]",children:[e.jsx(pe,{children:e.jsx(xe,{children:"Medicaes"})}),e.jsx(le,{children:u(t==null?void 0:t.medicacoes)})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Alergias"})}),e.jsx(le,{children:g(t==null?void 0:t.alergias)})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Condies"})}),e.jsx(le,{children:g(t==null?void 0:t.condicoes)})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Observaes"})}),e.jsx(le,{children:t!=null&&t.observacoes&&(t==null?void 0:t.observacoes)!==""?e.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:t==null?void 0:t.observacoes}):e.jsx("p",{className:"text-sm text-muted-foreground",children:""})})]})]})]})]})}function Eg(t,[a,r]){return Math.min(r,Math.max(a,t))}function HR(t){const a=x.useRef({value:t,previous:t});return x.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}var qR=[" ","Enter","ArrowUp","ArrowDown"],WR=[" ","Enter"],fn="Select",[qc,Wc,GR]=zc(fn),[co,A5]=za(fn,[GR,lo]),Gc=lo(),[KR,Ur]=co(fn),[YR,JR]=co(fn),wy=t=>{const{__scopeSelect:a,children:r,open:o,defaultOpen:i,onOpenChange:c,value:d,defaultValue:p,onValueChange:u,dir:g,name:f,autoComplete:h,disabled:v,required:w,form:y}=t,j=Gc(a),[N,P]=x.useState(null),[C,_]=x.useState(null),[E,k]=x.useState(!1),A=yf(g),[T,R]=dn({prop:o,defaultProp:i??!1,onChange:c,caller:fn}),[I,L]=dn({prop:d,defaultProp:p,onChange:u,caller:fn}),U=x.useRef(null),K=N?y||!!N.closest("form"):!0,[z,D]=x.useState(new Set),G=Array.from(z).map($=>$.props.value).join(";");return e.jsx(pf,{...j,children:e.jsxs(KR,{required:w,scope:a,trigger:N,onTriggerChange:P,valueNode:C,onValueNodeChange:_,valueNodeHasChildren:E,onValueNodeHasChildrenChange:k,contentId:Oa(),value:I,onValueChange:L,open:T,onOpenChange:R,dir:A,triggerPointerDownPosRef:U,disabled:v,children:[e.jsx(qc.Provider,{scope:a,children:e.jsx(YR,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback($=>{D(H=>new Set(H).add($))},[]),onNativeOptionRemove:x.useCallback($=>{D(H=>{const q=new Set(H);return q.delete($),q})},[]),children:r})}),K?e.jsxs(Wy,{"aria-hidden":!0,required:w,tabIndex:-1,name:f,autoComplete:h,value:I,onChange:$=>L($.target.value),disabled:v,form:y,children:[I===void 0?e.jsx("option",{value:""}):null,Array.from(z)]},G):null]})})};wy.displayName=fn;var Ny="SelectTrigger",Sy=x.forwardRef((t,a)=>{const{__scopeSelect:r,disabled:o=!1,...i}=t,c=Gc(r),d=Ur(Ny,r),p=d.disabled||o,u=kt(a,d.onTriggerChange),g=Wc(r),f=x.useRef("touch"),[h,v,w]=Ky(j=>{const N=g().filter(_=>!_.disabled),P=N.find(_=>_.value===d.value),C=Yy(N,j,P);C!==void 0&&d.onValueChange(C.value)}),y=j=>{p||(d.onOpenChange(!0),w()),j&&(d.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return e.jsx(xf,{asChild:!0,...c,children:e.jsx(et.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":Gy(d.value)?"":void 0,...i,ref:u,onClick:De(i.onClick,j=>{j.currentTarget.focus(),f.current!=="mouse"&&y(j)}),onPointerDown:De(i.onPointerDown,j=>{f.current=j.pointerType;const N=j.target;N.hasPointerCapture(j.pointerId)&&N.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(y(j),j.preventDefault())}),onKeyDown:De(i.onKeyDown,j=>{const N=h.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&v(j.key),!(N&&j.key===" ")&&qR.includes(j.key)&&(y(),j.preventDefault())})})})});Sy.displayName=Ny;var Cy="SelectValue",_y=x.forwardRef((t,a)=>{const{__scopeSelect:r,className:o,style:i,children:c,placeholder:d="",...p}=t,u=Ur(Cy,r),{onValueNodeHasChildrenChange:g}=u,f=c!==void 0,h=kt(a,u.onValueNodeChange);return is(()=>{g(f)},[g,f]),e.jsx(et.span,{...p,ref:h,style:{pointerEvents:"none"},children:Gy(u.value)?e.jsx(e.Fragment,{children:d}):c})});_y.displayName=Cy;var QR="SelectIcon",ky=x.forwardRef((t,a)=>{const{__scopeSelect:r,children:o,...i}=t;return e.jsx(et.span,{"aria-hidden":!0,...i,ref:a,children:o||""})});ky.displayName=QR;var XR="SelectPortal",Ey=t=>e.jsx(pi,{asChild:!0,...t});Ey.displayName=XR;var hn="SelectContent",Ry=x.forwardRef((t,a)=>{const r=Ur(hn,t.__scopeSelect),[o,i]=x.useState();if(is(()=>{i(new DocumentFragment)},[]),!r.open){const c=o;return c?Qn.createPortal(e.jsx(Py,{scope:t.__scopeSelect,children:e.jsx(qc.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),c):null}return e.jsx(Ay,{...t,ref:a})});Ry.displayName=hn;var va=10,[Py,Vr]=co(hn),ZR="SelectContentImpl",eP=cn("SelectContent.RemoveScroll"),Ay=x.forwardRef((t,a)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:c,onPointerDownOutside:d,side:p,sideOffset:u,align:g,alignOffset:f,arrowPadding:h,collisionBoundary:v,collisionPadding:w,sticky:y,hideWhenDetached:j,avoidCollisions:N,...P}=t,C=Ur(hn,r),[_,E]=x.useState(null),[k,A]=x.useState(null),T=kt(a,se=>E(se)),[R,I]=x.useState(null),[L,U]=x.useState(null),K=Wc(r),[z,D]=x.useState(!1),G=x.useRef(!1);x.useEffect(()=>{if(_)return tf(_)},[_]),ef();const $=x.useCallback(se=>{const[ne,...ve]=K().map(Me=>Me.ref.current),[ge]=ve.slice(-1),Pe=document.activeElement;for(const Me of se)if(Me===Pe||(Me==null||Me.scrollIntoView({block:"nearest"}),Me===ne&&k&&(k.scrollTop=0),Me===ge&&k&&(k.scrollTop=k.scrollHeight),Me==null||Me.focus(),document.activeElement!==Pe))return},[K,k]),H=x.useCallback(()=>$([R,_]),[$,R,_]);x.useEffect(()=>{z&&H()},[z,H]);const{onOpenChange:q,triggerPointerDownPosRef:Y}=C;x.useEffect(()=>{if(_){let se={x:0,y:0};const ne=ge=>{var Pe,Me;se={x:Math.abs(Math.round(ge.pageX)-(((Pe=Y.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((Me=Y.current)==null?void 0:Me.y)??0))}},ve=ge=>{se.x<=10&&se.y<=10?ge.preventDefault():_.contains(ge.target)||q(!1),document.removeEventListener("pointermove",ne),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",ve,{capture:!0})}}},[_,q,Y]),x.useEffect(()=>{const se=()=>q(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[q]);const[ee,M]=Ky(se=>{const ne=K().filter(Pe=>!Pe.disabled),ve=ne.find(Pe=>Pe.ref.current===document.activeElement),ge=Yy(ne,se,ve);ge&&setTimeout(()=>ge.ref.current.focus())}),B=x.useCallback((se,ne,ve)=>{const ge=!G.current&&!ve;(C.value!==void 0&&C.value===ne||ge)&&(I(se),ge&&(G.current=!0))},[C.value]),re=x.useCallback(()=>_==null?void 0:_.focus(),[_]),F=x.useCallback((se,ne,ve)=>{const ge=!G.current&&!ve;(C.value!==void 0&&C.value===ne||ge)&&U(se)},[C.value]),V=o==="popper"?Dm:Ty,Q=V===Dm?{side:p,sideOffset:u,align:g,alignOffset:f,arrowPadding:h,collisionBoundary:v,collisionPadding:w,sticky:y,hideWhenDetached:j,avoidCollisions:N}:{};return e.jsx(Py,{scope:r,content:_,viewport:k,onViewportChange:A,itemRefCallback:B,selectedItem:R,onItemLeave:re,itemTextRefCallback:F,focusSelectedItem:H,selectedItemText:L,position:o,isPositioned:z,searchRef:ee,children:e.jsx(_c,{as:eP,allowPinchZoom:!0,children:e.jsx(Sc,{asChild:!0,trapped:C.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:De(i,se=>{var ne;(ne=C.trigger)==null||ne.focus({preventScroll:!0}),se.preventDefault()}),children:e.jsx(no,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:e.jsx(V,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:se=>se.preventDefault(),...P,...Q,onPlaced:()=>D(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:De(P.onKeyDown,se=>{const ne=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ne&&se.key.length===1&&M(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ge=K().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Pe=se.target,Me=ge.indexOf(Pe);ge=ge.slice(Me+1)}setTimeout(()=>$(ge)),se.preventDefault()}})})})})})})});Ay.displayName=ZR;var tP="SelectItemAlignedPosition",Ty=x.forwardRef((t,a)=>{const{__scopeSelect:r,onPlaced:o,...i}=t,c=Ur(hn,r),d=Vr(hn,r),[p,u]=x.useState(null),[g,f]=x.useState(null),h=kt(a,T=>f(T)),v=Wc(r),w=x.useRef(!1),y=x.useRef(!0),{viewport:j,selectedItem:N,selectedItemText:P,focusSelectedItem:C}=d,_=x.useCallback(()=>{if(c.trigger&&c.valueNode&&p&&g&&j&&N&&P){const T=c.trigger.getBoundingClientRect(),R=g.getBoundingClientRect(),I=c.valueNode.getBoundingClientRect(),L=P.getBoundingClientRect();if(c.dir!=="rtl"){const Pe=L.left-R.left,Me=I.left-Pe,Ve=T.left-Me,lt=T.width+Ve,yt=Math.max(lt,R.width),Tt=window.innerWidth-va,It=Eg(Me,[va,Math.max(va,Tt-yt)]);p.style.minWidth=lt+"px",p.style.left=It+"px"}else{const Pe=R.right-L.right,Me=window.innerWidth-I.right-Pe,Ve=window.innerWidth-T.right-Me,lt=T.width+Ve,yt=Math.max(lt,R.width),Tt=window.innerWidth-va,It=Eg(Me,[va,Math.max(va,Tt-yt)]);p.style.minWidth=lt+"px",p.style.right=It+"px"}const U=v(),K=window.innerHeight-va*2,z=j.scrollHeight,D=window.getComputedStyle(g),G=parseInt(D.borderTopWidth,10),$=parseInt(D.paddingTop,10),H=parseInt(D.borderBottomWidth,10),q=parseInt(D.paddingBottom,10),Y=G+$+z+q+H,ee=Math.min(N.offsetHeight*5,Y),M=window.getComputedStyle(j),B=parseInt(M.paddingTop,10),re=parseInt(M.paddingBottom,10),F=T.top+T.height/2-va,V=K-F,Q=N.offsetHeight/2,se=N.offsetTop+Q,ne=G+$+se,ve=Y-ne;if(ne<=F){const Pe=U.length>0&&N===U[U.length-1].ref.current;p.style.bottom="0px";const Me=g.clientHeight-j.offsetTop-j.offsetHeight,Ve=Math.max(V,Q+(Pe?re:0)+Me+H),lt=ne+Ve;p.style.height=lt+"px"}else{const Pe=U.length>0&&N===U[0].ref.current;p.style.top="0px";const Ve=Math.max(F,G+j.offsetTop+(Pe?B:0)+Q)+ve;p.style.height=Ve+"px",j.scrollTop=ne-F+j.offsetTop}p.style.margin=`${va}px 0`,p.style.minHeight=ee+"px",p.style.maxHeight=K+"px",o==null||o(),requestAnimationFrame(()=>w.current=!0)}},[v,c.trigger,c.valueNode,p,g,j,N,P,c.dir,o]);is(()=>_(),[_]);const[E,k]=x.useState();is(()=>{g&&k(window.getComputedStyle(g).zIndex)},[g]);const A=x.useCallback(T=>{T&&y.current===!0&&(_(),C==null||C(),y.current=!1)},[_,C]);return e.jsx(aP,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:w,onScrollButtonChange:A,children:e.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:e.jsx(et.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Ty.displayName=tP;var sP="SelectPopperPosition",Dm=x.forwardRef((t,a)=>{const{__scopeSelect:r,align:o="start",collisionPadding:i=va,...c}=t,d=Gc(r);return e.jsx(gf,{...d,...c,ref:a,align:o,collisionPadding:i,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dm.displayName=sP;var[aP,Af]=co(hn,{}),Om="SelectViewport",My=x.forwardRef((t,a)=>{const{__scopeSelect:r,nonce:o,...i}=t,c=Vr(Om,r),d=Af(Om,r),p=kt(a,c.onViewportChange),u=x.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(qc.Slot,{scope:r,children:e.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:De(i.onScroll,g=>{const f=g.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:v}=d;if(v!=null&&v.current&&h){const w=Math.abs(u.current-f.scrollTop);if(w>0){const y=window.innerHeight-va*2,j=parseFloat(h.style.minHeight),N=parseFloat(h.style.height),P=Math.max(j,N);if(P<y){const C=P+w,_=Math.min(y,C),E=C-_;h.style.height=_+"px",h.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});My.displayName=Om;var Dy="SelectGroup",[rP,nP]=co(Dy),oP=x.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t,i=Oa();return e.jsx(rP,{scope:r,id:i,children:e.jsx(et.div,{role:"group","aria-labelledby":i,...o,ref:a})})});oP.displayName=Dy;var Oy="SelectLabel",$y=x.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t,i=nP(Oy,r);return e.jsx(et.div,{id:i.id,...o,ref:a})});$y.displayName=Oy;var fc="SelectItem",[iP,Ly]=co(fc),Iy=x.forwardRef((t,a)=>{const{__scopeSelect:r,value:o,disabled:i=!1,textValue:c,...d}=t,p=Ur(fc,r),u=Vr(fc,r),g=p.value===o,[f,h]=x.useState(c??""),[v,w]=x.useState(!1),y=kt(a,C=>{var _;return(_=u.itemRefCallback)==null?void 0:_.call(u,C,o,i)}),j=Oa(),N=x.useRef("touch"),P=()=>{i||(p.onValueChange(o),p.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(iP,{scope:r,value:o,disabled:i,textId:j,isSelected:g,onItemTextChange:x.useCallback(C=>{h(_=>_||((C==null?void 0:C.textContent)??"").trim())},[]),children:e.jsx(qc.ItemSlot,{scope:r,value:o,disabled:i,textValue:f,children:e.jsx(et.div,{role:"option","aria-labelledby":j,"data-highlighted":v?"":void 0,"aria-selected":g&&v,"data-state":g?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:y,onFocus:De(d.onFocus,()=>w(!0)),onBlur:De(d.onBlur,()=>w(!1)),onClick:De(d.onClick,()=>{N.current!=="mouse"&&P()}),onPointerUp:De(d.onPointerUp,()=>{N.current==="mouse"&&P()}),onPointerDown:De(d.onPointerDown,C=>{N.current=C.pointerType}),onPointerMove:De(d.onPointerMove,C=>{var _;N.current=C.pointerType,i?(_=u.onItemLeave)==null||_.call(u):N.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(d.onPointerLeave,C=>{var _;C.currentTarget===document.activeElement&&((_=u.onItemLeave)==null||_.call(u))}),onKeyDown:De(d.onKeyDown,C=>{var E;((E=u.searchRef)==null?void 0:E.current)!==""&&C.key===" "||(WR.includes(C.key)&&P(),C.key===" "&&C.preventDefault())})})})})});Iy.displayName=fc;var Jo="SelectItemText",Fy=x.forwardRef((t,a)=>{const{__scopeSelect:r,className:o,style:i,...c}=t,d=Ur(Jo,r),p=Vr(Jo,r),u=Ly(Jo,r),g=JR(Jo,r),[f,h]=x.useState(null),v=kt(a,P=>h(P),u.onItemTextChange,P=>{var C;return(C=p.itemTextRefCallback)==null?void 0:C.call(p,P,u.value,u.disabled)}),w=f==null?void 0:f.textContent,y=x.useMemo(()=>e.jsx("option",{value:u.value,disabled:u.disabled,children:w},u.value),[u.disabled,u.value,w]),{onNativeOptionAdd:j,onNativeOptionRemove:N}=g;return is(()=>(j(y),()=>N(y)),[j,N,y]),e.jsxs(e.Fragment,{children:[e.jsx(et.span,{id:u.textId,...c,ref:v}),u.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Qn.createPortal(c.children,d.valueNode):null]})});Fy.displayName=Jo;var zy="SelectItemIndicator",By=x.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t;return Ly(zy,r).isSelected?e.jsx(et.span,{"aria-hidden":!0,...o,ref:a}):null});By.displayName=zy;var $m="SelectScrollUpButton",Uy=x.forwardRef((t,a)=>{const r=Vr($m,t.__scopeSelect),o=Af($m,t.__scopeSelect),[i,c]=x.useState(!1),d=kt(a,o.onScrollButtonChange);return is(()=>{if(r.viewport&&r.isPositioned){let p=function(){const g=u.scrollTop>0;c(g)};const u=r.viewport;return p(),u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),i?e.jsx(Hy,{...t,ref:d,onAutoScroll:()=>{const{viewport:p,selectedItem:u}=r;p&&u&&(p.scrollTop=p.scrollTop-u.offsetHeight)}}):null});Uy.displayName=$m;var Lm="SelectScrollDownButton",Vy=x.forwardRef((t,a)=>{const r=Vr(Lm,t.__scopeSelect),o=Af(Lm,t.__scopeSelect),[i,c]=x.useState(!1),d=kt(a,o.onScrollButtonChange);return is(()=>{if(r.viewport&&r.isPositioned){let p=function(){const g=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<g;c(f)};const u=r.viewport;return p(),u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),i?e.jsx(Hy,{...t,ref:d,onAutoScroll:()=>{const{viewport:p,selectedItem:u}=r;p&&u&&(p.scrollTop=p.scrollTop+u.offsetHeight)}}):null});Vy.displayName=Lm;var Hy=x.forwardRef((t,a)=>{const{__scopeSelect:r,onAutoScroll:o,...i}=t,c=Vr("SelectScrollButton",r),d=x.useRef(null),p=Wc(r),u=x.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return x.useEffect(()=>()=>u(),[u]),is(()=>{var f;const g=p().find(h=>h.ref.current===document.activeElement);(f=g==null?void 0:g.ref.current)==null||f.scrollIntoView({block:"nearest"})},[p]),e.jsx(et.div,{"aria-hidden":!0,...i,ref:a,style:{flexShrink:0,...i.style},onPointerDown:De(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(o,50))}),onPointerMove:De(i.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),d.current===null&&(d.current=window.setInterval(o,50))}),onPointerLeave:De(i.onPointerLeave,()=>{u()})})}),lP="SelectSeparator",qy=x.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t;return e.jsx(et.div,{"aria-hidden":!0,...o,ref:a})});qy.displayName=lP;var Im="SelectArrow",cP=x.forwardRef((t,a)=>{const{__scopeSelect:r,...o}=t,i=Gc(r),c=Ur(Im,r),d=Vr(Im,r);return c.open&&d.position==="popper"?e.jsx(vf,{...i,...o,ref:a}):null});cP.displayName=Im;var dP="SelectBubbleInput",Wy=x.forwardRef(({__scopeSelect:t,value:a,...r},o)=>{const i=x.useRef(null),c=kt(o,i),d=HR(a);return x.useEffect(()=>{const p=i.current;if(!p)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(d!==a&&f){const h=new Event("change",{bubbles:!0});f.call(p,a),p.dispatchEvent(h)}},[d,a]),e.jsx(et.select,{...r,style:{...$v,...r.style},ref:c,defaultValue:a})});Wy.displayName=dP;function Gy(t){return t===""||t===void 0}function Ky(t){const a=As(t),r=x.useRef(""),o=x.useRef(0),i=x.useCallback(d=>{const p=r.current+d;a(p),(function u(g){r.current=g,window.clearTimeout(o.current),g!==""&&(o.current=window.setTimeout(()=>u(""),1e3))})(p)},[a]),c=x.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,i,c]}function Yy(t,a,r){const i=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,c=r?t.indexOf(r):-1;let d=uP(t,Math.max(c,0));i.length===1&&(d=d.filter(g=>g!==r));const u=d.find(g=>g.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function uP(t,a){return t.map((r,o)=>t[(a+o)%t.length])}var mP=wy,Jy=Sy,fP=_y,hP=ky,pP=Ey,Qy=Ry,xP=My,Xy=$y,Zy=Iy,gP=Fy,vP=By,eb=Uy,tb=Vy,sb=qy;const Ct=mP,_t=fP,wt=x.forwardRef(({className:t,children:a,...r},o)=>e.jsxs(Jy,{ref:o,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[a,e.jsx(hP,{asChild:!0,children:e.jsx(Qm,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=Jy.displayName;const ab=x.forwardRef(({className:t,...a},r)=>e.jsx(eb,{ref:r,className:be("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(LS,{className:"h-4 w-4"})}));ab.displayName=eb.displayName;const rb=x.forwardRef(({className:t,...a},r)=>e.jsx(tb,{ref:r,className:be("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(Qm,{className:"h-4 w-4"})}));rb.displayName=tb.displayName;const Nt=x.forwardRef(({className:t,children:a,position:r="popper",...o},i)=>e.jsx(pP,{children:e.jsxs(Qy,{ref:i,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...o,children:[e.jsx(ab,{}),e.jsx(xP,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(rb,{})]})}));Nt.displayName=Qy.displayName;const nb=x.forwardRef(({className:t,...a},r)=>e.jsx(Xy,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a}));nb.displayName=Xy.displayName;const Se=x.forwardRef(({className:t,children:a,...r},o)=>e.jsxs(Zy,{ref:o,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(vP,{children:e.jsx(E0,{className:"h-4 w-4"})})}),e.jsx(gP,{children:a})]}));Se.displayName=Zy.displayName;const jP=x.forwardRef(({className:t,...a},r)=>e.jsx(sb,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",t),...a}));jP.displayName=sb.displayName;const Si=dv,ob=O_,yP=({className:t,children:a,...r})=>e.jsx(uv,{className:be(t),...r,children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:a})}),ib=x.forwardRef(({className:t,...a},r)=>e.jsx(Ec,{ref:r,className:be("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",t),...a}));ib.displayName=Ec.displayName;const uo=x.forwardRef(({className:t,children:a,...r},o)=>e.jsxs(yP,{children:[e.jsx(ib,{}),e.jsxs(Rc,{ref:o,className:be("fixed z-50 grid w-full max-w-xl gap-4 rounded-xl border bg-background p-0 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0","data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",t),...r,children:[a,e.jsxs(mv,{className:"absolute right-4 top-4 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[e.jsx(Xm,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));uo.displayName=Rc.displayName;const mo=({className:t,...a})=>e.jsx("div",{className:be("px-6 pt-5 pb-3 flex flex-col space-y-1.5",t),...a});mo.displayName="DialogHeader";const Ci=({className:t,...a})=>e.jsx("div",{className:be("px-6 pb-5 pt-2 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});Ci.displayName="DialogFooter";const fo=x.forwardRef(({className:t,...a},r)=>e.jsx(Pc,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",t),...a}));fo.displayName=Pc.displayName;const Kc=x.forwardRef(({className:t,...a},r)=>e.jsx(Ac,{ref:r,className:be("text-sm text-muted-foreground",t),...a}));Kc.displayName=Ac.displayName;const qa=x.forwardRef(({className:t,...a},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:be("w-full caption-bottom text-sm",t),...a})}));qa.displayName="Table";const Wa=x.forwardRef(({className:t,...a},r)=>e.jsx("thead",{ref:r,className:be("[&_tr]:border-b",t),...a}));Wa.displayName="TableHeader";const Ga=x.forwardRef(({className:t,...a},r)=>e.jsx("tbody",{ref:r,className:be("[&_tr:last-child]:border-0",t),...a}));Ga.displayName="TableBody";const bP=x.forwardRef(({className:t,...a},r)=>e.jsx("tfoot",{ref:r,className:be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a}));bP.displayName="TableFooter";const Yt=x.forwardRef(({className:t,...a},r)=>e.jsx("tr",{ref:r,className:be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a}));Yt.displayName="TableRow";const nt=x.forwardRef(({className:t,...a},r)=>e.jsx("th",{ref:r,className:be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a}));nt.displayName="TableHead";const tt=x.forwardRef(({className:t,...a},r)=>e.jsx("td",{ref:r,className:be("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a}));tt.displayName="TableCell";const wP=x.forwardRef(({className:t,...a},r)=>e.jsx("caption",{ref:r,className:be("mt-4 text-sm text-muted-foreground",t),...a}));wP.displayName="TableCaption";function NP(){var R,I,L;const[t,a]=x.useState([]),[r,o]=x.useState(!0),[i,c]=x.useState(""),[d,p]=x.useState(""),[u,g]=x.useState("todas"),[f,h]=x.useState(!1),[v,w]=x.useState(null),y=U=>{w(U),h(!0)};x.useEffect(()=>{let U=!0;return(async()=>{var z;try{console.log("[DEBUG] Consultas - Iniciando carregamento...");const D=await jt.getConsultas();if(console.log("[DEBUG] Consultas - Resposta da API:",D),!U)return;let G=[];D.results?(console.log("[DEBUG] Consultas - Usando response.results"),G=D.results):(z=D.data)!=null&&z.results?(console.log("[DEBUG] Consultas - Usando response.data.results"),G=D.data.results):D.data&&Array.isArray(D.data)?(console.log("[DEBUG] Consultas - Usando response.data (array)"),G=D.data):Array.isArray(D)&&(console.log("[DEBUG] Consultas - Usando response direto (array)"),G=D);const $=G.map(H=>{var Y,ee;console.log("[DEBUG] Consultas - Consulta original:",H);const q={id:H.id,data:H.data||H.data_consulta,local:H.local||H.endereco||"Local no informado",tipo:H.tipo||H.tipo_consulta||"Presencial",status:H.status||"Agendada",medico:null};return H.medico?typeof H.medico=="object"?(console.log("[DEBUG] Consultas - Mdico como objeto:",H.medico),q.medico={id:H.medico.id,nome:H.medico.nome||H.medico.name||((Y=H.medico.usuario)==null?void 0:Y.nome)||((ee=H.medico.usuario)==null?void 0:ee.name),especialidade:H.medico.especialidade||H.medico.specialty||"Especialidade no informada"}):(console.log("[DEBUG] Consultas - Mdico como string/ID:",H.medico),q.medico={id:H.medico,nome:"Mdico no identificado",especialidade:"Especialidade no informada"}):(H.medico_nome||H.doctor_name)&&(console.log("[DEBUG] Consultas - Mdico por nome direto:",H.medico_nome||H.doctor_name),q.medico={id:H.medico_id||null,nome:H.medico_nome||H.doctor_name,especialidade:H.especialidade||H.specialty||"Especialidade no informada"}),console.log("[DEBUG] Consultas - Consulta normalizada:",q),q});console.log("[DEBUG] Consultas - Todas as consultas normalizadas:",$),a($)}catch(D){if(!U)return;console.error("Erro ao carregar consultas:",D),c("Erro ao carregar consultas. Tente novamente.")}finally{U&&o(!1)}})(),()=>{U=!1}},[]);const j=t.filter(U=>{var z,D,G,$,H,q,Y;const K=String(U.status||"").toLowerCase();if(u==="agendadas"&&!(K.includes("agend")||K.includes("confirm"))||u==="realizadas"&&!(K.includes("conclu")||K.includes("realiz")||K.includes("final")))return!1;if(d){const ee=d.toLowerCase();return((D=(z=U.medico)==null?void 0:z.nome)==null?void 0:D.toLowerCase().includes(ee))||((H=($=(G=U.medico)==null?void 0:G.especialidade)==null?void 0:$.toLowerCase)==null?void 0:H.call($).includes(ee))||((q=U.local)==null?void 0:q.toLowerCase().includes(ee))||((Y=U.tipo)==null?void 0:Y.toLowerCase().includes(ee))}return!0}),N=new Date,P=j.filter(U=>{const K=(U.status||"").toLowerCase(),z=K.includes("agend")||K.includes("confirm"),D=U.data?new Date(U.data)>N:!1;return z||D}).sort((U,K)=>new Date(U.data)-new Date(K.data)),C=j.filter(U=>{const K=(U.status||"").toLowerCase(),z=K.includes("conclu")||K.includes("realiz")||K.includes("final"),D=U.data?new Date(U.data)<N:!1;return z||D}).sort((U,K)=>new Date(K.data)-new Date(U.data)),_=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],E=t.length,k=t.filter(U=>U.data&&new Date(U.data).getFullYear()===new Date().getFullYear()).length,A=P.length,T=C.length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:e.jsx(Ye,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),e.jsx("p",{className:"text-blue-100",children:"Gerencie suas consultas mdicas"})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(te,{variant:"secondary",className:"bg-white/20 text-white border-white/30 hover:bg-white/30 backdrop-blur-sm dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50 dark:text-gray-200",asChild:!0,children:e.jsxs("a",{href:"/paciente/medicos",className:"inline-flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4"}),"Mdicos"]})}),e.jsx(te,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold shadow-lg dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:e.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[e.jsx(Jx,{className:"h-4 w-4"}),"Agendar Consulta"]})})]})]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total de Consultas"}),e.jsx("p",{className:"text-3xl font-bold",children:E})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(Ye,{className:"h-6 w-6"})})]})})}),e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Prximas Consultas"}),e.jsx("p",{className:"text-3xl font-bold",children:A})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(rt,{className:"h-6 w-6"})})]})})}),e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Consultas Concludas"}),e.jsx("p",{className:"text-3xl font-bold",children:T})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(Hs,{className:"h-6 w-6"})})]})})}),e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Este Ano"}),e.jsx("p",{className:"text-3xl font-bold",children:k})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(os,{className:"h-6 w-6"})})]})})})]}),e.jsx(ca,{tabs:_,basePath:"/paciente"}),e.jsx(ie,{className:"border-0 shadow-lg",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Es,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por mdico, especialidade ou local...",className:"pl-10 border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400",value:d,onChange:U=>p(U.target.value)})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(Ct,{value:u,onValueChange:g,children:[e.jsx(wt,{className:"w-[180px] border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:e.jsx(_t,{placeholder:"Filtrar por status"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"todas",children:"Todas as consultas"}),e.jsx(Se,{value:"agendadas",children:"Agendadas"}),e.jsx(Se,{value:"realizadas",children:"Realizadas"})]})]})})]})})}),e.jsxs(Va,{defaultValue:"agendadas",className:"w-full",children:[e.jsxs(Ha,{className:"grid w-full grid-cols-2 bg-white dark:bg-gray-800 shadow-lg border-0",children:[e.jsx(St,{value:"agendadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Consultas Agendadas"}),e.jsx(St,{value:"realizadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Histrico de Consultas"})]}),e.jsx(Ot,{value:"agendadas",children:e.jsxs(ie,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:e.jsxs(xe,{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Prximas Consultas"]})}),e.jsx(le,{className:"p-6",children:r?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((U,K)=>e.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[e.jsx(at,{className:"h-4 w-1/3"}),e.jsx(at,{className:"h-4 w-1/2"}),e.jsx(at,{className:"h-4 w-1/4"})]},K))}):i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:e.jsx(Ye,{className:"h-8 w-8 text-red-500"})}),e.jsx("p",{className:"text-red-500 font-medium",children:i})]}):P.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full bg-blue-100 dark:bg-blue-900/20 p-4 w-fit mx-auto mb-4",children:e.jsx(Ye,{className:"h-12 w-12 text-blue-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Nenhuma consulta agendada"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Voc no possui consultas agendadas no momento."}),e.jsx(te,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg",asChild:!0,children:e.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[e.jsx(Jx,{className:"h-4 w-4"}),"Agendar Nova Consulta"]})})]}):e.jsx("div",{className:"space-y-4",children:P.map(U=>{var K,z,D;return e.jsx("div",{className:"group relative overflow-hidden rounded-xl border-0 bg-gradient-to-r from-white to-blue-50/50 dark:from-gray-800 dark:to-blue-900/10 p-6 shadow-lg transition-all hover:shadow-xl hover:scale-[1.02]",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("div",{className:"flex-1 space-y-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"rounded-full bg-gradient-to-r from-blue-500 to-purple-600 p-3 text-white shadow-lg",children:e.jsx(ss,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:((K=U.medico)==null?void 0:K.nome)||"Mdico no informado"}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((z=U.medico)==null?void 0:z.especialidade)||"Especialidade no informada"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(rt,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[U.data?new Date(U.data).toLocaleDateString():"Data no informada"," s ",U.data?new Date(U.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(tc,{className:"h-4 w-4"}),e.jsx("span",{children:U.local})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-xs font-medium text-white",children:[U.tipo==="Online"?e.jsx(Uu,{className:"h-3 w-3"}):U.tipo==="Telefone"?e.jsx($r,{className:"h-3 w-3"}):e.jsx(xt,{className:"h-3 w-3"}),U.tipo]}),e.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:U.status||""})]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(te,{variant:"outline",size:"sm",onClick:()=>y(U),className:"border-blue-200 text-blue-600 hover:bg-blue-50 dark:border-blue-800 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"Ver Detalhes"}),e.jsx(te,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg",asChild:!0,children:e.jsx("a",{href:`/paciente/consultas/nova${(D=U.medico)!=null&&D.id?`?medico=${U.medico.id}`:""}`,children:"Reagendar"})})]})]})},U.id)})})})]})}),e.jsx(Ot,{value:"realizadas",children:e.jsxs(ie,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-900/20 dark:to-slate-900/20",children:e.jsxs(xe,{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(rt,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),e.jsx(le,{className:"p-6",children:r?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((U,K)=>e.jsx(at,{className:"h-12 w-full"},K))}):i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:e.jsx(rt,{className:"h-8 w-8 text-red-500"})}),e.jsx("p",{className:"text-red-500 font-medium",children:i})]}):C.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-gray-800 p-4 w-fit mx-auto mb-4",children:e.jsx(rt,{className:"h-12 w-12 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Voc no possui consultas realizadas no histrico."})]}):e.jsx("div",{className:"overflow-hidden rounded-xl border-0 bg-white dark:bg-gray-800 shadow-lg",children:e.jsxs(qa,{children:[e.jsx(Wa,{className:"bg-gray-50 dark:bg-gray-900/50",children:e.jsxs(Yt,{className:"border-0",children:[e.jsx(nt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Data"}),e.jsx(nt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Mdico"}),e.jsx(nt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Especialidade"}),e.jsx(nt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Tipo"}),e.jsx(nt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Status"}),e.jsx(nt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Aes"})]})}),e.jsx(Ga,{children:C.map(U=>{var K,z;return e.jsxs(Yt,{className:"border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[e.jsx(tt,{className:"font-medium",children:U.data?new Date(U.data).toLocaleDateString():""}),e.jsx(tt,{children:((K=U.medico)==null?void 0:K.nome)||""}),e.jsx(tt,{children:((z=U.medico)==null?void 0:z.especialidade)||""}),e.jsx(tt,{children:e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-100 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-700 dark:text-blue-300",children:[U.tipo==="Online"?e.jsx(Uu,{className:"h-3 w-3"}):U.tipo==="Telefone"?e.jsx($r,{className:"h-3 w-3"}):e.jsx(xt,{className:"h-3 w-3"}),U.tipo||""]})}),e.jsx(tt,{children:e.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-2 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:U.status||""})}),e.jsx(tt,{children:e.jsx(te,{variant:"ghost",size:"sm",onClick:()=>y(U),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"Ver Detalhes"})})]},U.id)})})]})})})]})})]}),e.jsx(Si,{open:f,onOpenChange:h,children:e.jsxs(uo,{className:"max-w-2xl border-0 shadow-2xl",children:[e.jsxs(mo,{className:"pb-6",children:[e.jsx(fo,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Detalhes da Consulta"}),e.jsx(Kc,{className:"text-gray-600 dark:text-gray-400",children:"Informaes completas da consulta selecionada"})]}),v?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold text-lg shadow-lg",children:(((R=v.medico)==null?void 0:R.nome)||"").split(" ").map(U=>U==null?void 0:U[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-gray-100",children:((I=v.medico)==null?void 0:I.nome)||""}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((L=v.medico)==null?void 0:L.especialidade)||"Especialidade no informada"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:v.data?new Date(v.data).toLocaleDateString():""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hora"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:v.data?new Date(v.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tipo"}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-sm font-medium text-white",children:[v.tipo==="Online"?e.jsx(Uu,{className:"h-3 w-3"}):v.tipo==="Telefone"?e.jsx($r,{className:"h-3 w-3"}):e.jsx(xt,{className:"h-3 w-3"}),v.tipo]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-sm font-medium text-green-700 dark:text-green-300",children:v.status})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Local"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[e.jsx(tc,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:v.local})]})]})]}):null]})})]})})}function SP(){const[t,a]=x.useState([]),[r,o]=x.useState(!0),[i,c]=x.useState(null),[d,p]=x.useState("todas"),[u,g]=x.useState(""),f=k=>{var A;return((A=k==null?void 0:k.tipo_exame)==null?void 0:A.nome)||(k==null?void 0:k.tipo_exame_nome)||(k==null?void 0:k.nome_exame)||(typeof(k==null?void 0:k.tipo_exame)=="string"?k.tipo_exame:null)||(k==null?void 0:k.nome)||(k==null?void 0:k.tipo)||(k==null?void 0:k.exame)||"Exame"},h=k=>{const A=k==null?void 0:k.user;return[A==null?void 0:A.first_name,A==null?void 0:A.last_name].filter(Boolean).join(" ").trim()||(A==null?void 0:A.nome)||(A==null?void 0:A.username)||(k==null?void 0:k.nome)||""},v=k=>{var R;const A=(k==null?void 0:k.resultado_url)||(k==null?void 0:k.arquivo_resultado)||((R=k==null?void 0:k.resultado)==null?void 0:R.arquivo)||(k==null?void 0:k.arquivo_url)||(k==null?void 0:k.documento_url);return A?/^https?:\/\//i.test(A)?A:`http://127.0.0.1:8000${A.startsWith("/")?"":"/"}${A}`:null};x.useEffect(()=>{let k=!0;return(async()=>{try{const A=await jt.getExames();if(k){const R=(Array.isArray(A)?A:(A==null?void 0:A.results)||[]).map(I=>({id:I.id,data:I.data_agendamento||I.data_solicitacao||I.data||I.data_hora||null,nome:f(I),medico:{nome:h((I==null?void 0:I.medico_solicitante)||(I==null?void 0:I.medico))},status:I.status||I.situacao||"Pendente",local:I.local_realizacao||I.local||I.localizacao||I.unidade||"",resultado_url:v(I)}));a(R)}}catch{c("No foi possvel carregar os exames.")}finally{k&&o(!1)}})(),()=>{k=!1}},[]);const w=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],y=t.filter(k=>{var A;if(d==="agendados"){const T=k.data?new Date(k.data)>new Date:!1;if(!T&&(k.status||"").toLowerCase().includes("conclu")||!T&&(k.status||"").toLowerCase()==="realizado")return!1}if(d==="realizados"&&!((k.status||"").toLowerCase().includes("conclu")||(k.status||"").toLowerCase()==="realizado"||(k.data?new Date(k.data)<new Date:!1)))return!1;if(u){const T=u.toLowerCase();return(k.nome||"").toLowerCase().includes(T)||(((A=k.medico)==null?void 0:A.nome)||"").toLowerCase().includes(T)||(k.local||"").toLowerCase().includes(T)}return!0}),j=y.filter(k=>{const A=k.data?new Date(k.data)>new Date:!1,T=(k.status||"").toLowerCase();return A||T==="agendado"||T==="pendente"||T==="solicitado"}).sort((k,A)=>new Date(k.data||0)-new Date(A.data||0)),N=y.filter(k=>{const A=(k.status||"").toLowerCase();return(k.data?new Date(k.data)<new Date:!1)||A.includes("conclu")||A==="realizado"}).sort((k,A)=>new Date(A.data||0)-new Date(k.data||0)),P=t.length,C=j.length,_=N.length,E=t.filter(k=>k.data?new Date(k.data).getFullYear()===new Date().getFullYear():!1).length;return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:e.jsx(ia,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Meus Exames"}),e.jsx("p",{className:"text-blue-100",children:"Gerencie seus exames e resultados"})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(te,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(xt,{className:"mr-2 h-4 w-4"}),"Mdicos"]}),e.jsxs(te,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})]})]})}),e.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),e.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsxs(le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total de Exames"}),e.jsx("p",{className:"text-3xl font-bold",children:P})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(os,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg",children:e.jsxs(le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"Prximos Exames"}),e.jsx("p",{className:"text-3xl font-bold",children:C})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(rt,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg",children:e.jsxs(le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Concludos"}),e.jsx("p",{className:"text-3xl font-bold",children:_})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(Or,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg",children:e.jsxs(le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Este Ano"}),e.jsx("p",{className:"text-3xl font-bold",children:E})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(ro,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),e.jsx(ca,{tabs:w,basePath:"/paciente"}),e.jsx(ie,{className:"border-0 shadow-lg",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Es,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por exame, mdico ou local...",value:u,onChange:k=>g(k.target.value),className:"pl-10"})]}),e.jsx("div",{className:"w-full md:w-[220px]",children:e.jsxs(Ct,{value:d,onValueChange:p,children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Filtrar por status"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"todas",children:"Todos os exames"}),e.jsx(Se,{value:"agendados",children:"Agendados"}),e.jsx(Se,{value:"realizados",children:"Realizados"})]})]})})]})})}),e.jsxs(Va,{defaultValue:"agendados",className:"w-full",children:[e.jsxs(Ha,{className:"grid w-full grid-cols-2 h-12 bg-muted/50",children:[e.jsxs(St,{value:"agendados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx(rt,{className:"mr-2 h-4 w-4"}),"Exames Agendados"]}),e.jsxs(St,{value:"realizados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx(Or,{className:"mr-2 h-4 w-4"}),"Histrico de Exames"]})]}),e.jsx(Ot,{value:"agendados",className:"mt-6",children:e.jsxs(ie,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(xe,{className:"flex items-center gap-2 text-xl",children:[e.jsx(rt,{className:"h-5 w-5 text-amber-500"}),"Prximos Exames"]})}),e.jsx(le,{children:r?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((k,A)=>e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsx(at,{className:"h-6 w-3/4 mb-2"}),e.jsx(at,{className:"h-4 w-1/2 mb-2"}),e.jsx(at,{className:"h-4 w-1/4"})]},A))}):i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Lr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 font-medium",children:i})]}):j.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ye,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame agendado"}),e.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames agendados no momento."})]}):e.jsx("div",{className:"space-y-4",children:j.map(k=>{var A;return e.jsx("div",{className:"group rounded-xl border border-border/50 bg-gradient-to-r from-background to-muted/20 p-6 transition-all hover:shadow-lg hover:border-border",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-foreground group-hover:text-primary transition-colors",children:k.nome}),e.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1",children:[e.jsx(xt,{className:"h-4 w-4"}),((A=k.medico)==null?void 0:A.nome)||""]})]}),e.jsx(ft,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:k.status})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsxs("span",{children:[k.data?new Date(k.data).toLocaleDateString():""," ",k.data?`s ${new Date(k.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]})]}),k.local&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-4 w-4"}),e.jsx("span",{children:k.local})]})]})]})})},k.id||`${k.data}-${k.nome}`)})})})]})}),e.jsx(Ot,{value:"realizados",className:"mt-6",children:e.jsxs(ie,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(xe,{className:"flex items-center gap-2 text-xl",children:[e.jsx(Or,{className:"h-5 w-5 text-emerald-500"}),"Histrico de Exames"]})}),e.jsx(le,{children:r?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((k,A)=>e.jsx(at,{className:"h-16 w-full"},A))}):i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Lr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 font-medium",children:i})]}):N.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(os,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame no histrico"}),e.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames realizados no histrico."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(qa,{children:[e.jsx(Wa,{children:e.jsxs(Yt,{className:"border-border/50",children:[e.jsx(nt,{className:"font-semibold",children:"Data"}),e.jsx(nt,{className:"font-semibold",children:"Exame"}),e.jsx(nt,{className:"font-semibold",children:"Mdico"}),e.jsx(nt,{className:"font-semibold",children:"Status"}),e.jsx(nt,{className:"font-semibold text-right",children:"Aes"})]})}),e.jsx(Ga,{children:y.map(k=>{var A;return e.jsxs(Yt,{className:"border-border/50 hover:bg-muted/30 transition-colors",children:[e.jsx(tt,{className:"font-medium",children:k.data?new Date(k.data).toLocaleDateString():""}),e.jsx(tt,{children:e.jsx("div",{className:"font-medium",children:k.nome})}),e.jsx(tt,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4 text-muted-foreground"}),((A=k.medico)==null?void 0:A.nome)||""]})}),e.jsx(tt,{children:e.jsx(ft,{variant:(k.status||"").toLowerCase().includes("conclu")||(k.status||"").toLowerCase()==="realizado"?"default":"secondary",className:(k.status||"").toLowerCase().includes("conclu")||(k.status||"").toLowerCase()==="realizado"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:k.status||""})}),e.jsx(tt,{children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:k.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs(te,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(k.resultado_url,"_blank"),children:[e.jsx(ya,{className:"h-4 w-4 mr-1"}),"Ver"]}),e.jsxs(te,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>void CP(k),children:[e.jsx(sr,{className:"h-4 w-4 mr-1"}),"Baixar"]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem resultado"}),e.jsxs(te,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 cursor-not-allowed",children:[e.jsx(sr,{className:"h-4 w-4 mr-1"}),"Baixar"]})]})})})]},k.id)})})]})})})]})})]})]})}const CP=async t=>{var a;try{let r=t==null?void 0:t.resultado_url;if(!r)return;/^https?:\/\//i.test(r)||(r=`http://127.0.0.1:8000${r.startsWith("/")?"":"/"}${r}`);const o=await ue.get(r,{responseType:"blob",baseURL:""}),i=new Blob([o.data],{type:o.headers["content-type"]||"application/octet-stream"}),c=o.headers["content-disposition"]||"",d=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(c),p=decodeURIComponent((d==null?void 0:d[1])||(d==null?void 0:d[2])||`${t.nome||"resultado"}.pdf`),u=document.createElement("a");u.href=URL.createObjectURL(i),u.download=p,document.body.appendChild(u),u.click(),u.remove(),setTimeout(()=>URL.revokeObjectURL(u.href),2e3)}catch(r){console.warn("[Exames] download falhou:",(a=r==null?void 0:r.response)==null?void 0:a.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function _P(){const[t,a]=x.useState([]),[r,o]=x.useState(!0),[i,c]=x.useState(null),[d,p]=x.useState("todos"),[u,g]=x.useState("todos"),[f,h]=x.useState(""),v=_=>{var E;return((E=_==null?void 0:_.tipo_exame)==null?void 0:E.nome)||(_==null?void 0:_.tipo_exame_nome)||(_==null?void 0:_.nome_exame)||(typeof(_==null?void 0:_.tipo_exame)=="string"?_.tipo_exame:null)||(_==null?void 0:_.nome)||(_==null?void 0:_.tipo)||(_==null?void 0:_.exame)||"Exame"},w=_=>{const E=_==null?void 0:_.user;return[E==null?void 0:E.first_name,E==null?void 0:E.last_name].filter(Boolean).join(" ").trim()||(E==null?void 0:E.nome)||(E==null?void 0:E.username)||(_==null?void 0:_.nome)||""},y=_=>{var A;const E=(_==null?void 0:_.resultado_url)||(_==null?void 0:_.arquivo_resultado)||((A=_==null?void 0:_.resultado)==null?void 0:A.arquivo)||(_==null?void 0:_.arquivo_url)||(_==null?void 0:_.documento_url);return E?/^https?:\/\//i.test(E)?E:`http://127.0.0.1:8000${E.startsWith("/")?"":"/"}${E}`:null},j=_=>{if(!_)return"sem-data";const E=new Date(_);return Number.isNaN(E.getTime())?"sem-data":E.toISOString().slice(0,10)},N=_=>{try{return new Date(_).toLocaleString()}catch{return _||""}};x.useEffect(()=>{let _=!0;return(async()=>{var E,k,A;try{const[T,R,I]=await Promise.allSettled([jt.getConsultas(),jt.getExames(),jt.getReceitas()]),L=T.status==="fulfilled"?(Array.isArray(T.value)?T.value:(E=T.value)==null?void 0:E.results)||[]:[],U=R.status==="fulfilled"?(Array.isArray(R.value)?R.value:(k=R.value)==null?void 0:k.results)||[]:[],K=I.status==="fulfilled"?(Array.isArray(I.value)?I.value:(A=I.value)==null?void 0:A.results)||[]:[],z=U.map(H=>({id:H.id||Math.random(),tipo:"exame",data:H.data_agendamento||H.data_solicitacao||H.data||H.data_hora||null,titulo:`Exame - ${v(H)}`.trim(),detalhe:w((H==null?void 0:H.medico_solicitante)||(H==null?void 0:H.medico)),status:H.status||H.situacao||"pendente",resultado_url:y(H),nome:v(H)})),D=L.map(H=>{var q,Y;return{id:H.id||Math.random(),tipo:"consulta",data:H.data_hora||H.data||null,titulo:`Consulta - ${H.especialidade||((q=H.medico)==null?void 0:q.especialidade)||""}`.trim(),detalhe:((Y=H.medico)==null?void 0:Y.nome)||w(H==null?void 0:H.medico)||"",status:H.status||"pendente"}}),G=K.map(H=>{var ee;const q=H.medico||((ee=H.consulta)==null?void 0:ee.medico),Y=Array.isArray(H.itens)&&H.itens.length?H.itens.map(M=>{var B;return((B=M==null?void 0:M.medicamento)==null?void 0:B.nome)||(M==null?void 0:M.medicamento)||""}).filter(Boolean).join(", "):H.medicamentos||"Prescrio";return{id:H.id||Math.random(),tipo:"receita",data:H.created_at||H.data||H.emissao||H.data_emissao||null,titulo:`Receita - ${Y}`.trim(),detalhe:w(q),status:H.status||(H.arquivo_assinado?"assinada":"emitida"),resultado_url:H.arquivo_assinado||null,nome:"Receita"}}),$=[...D,...z,...G].filter(H=>H.data).sort((H,q)=>new Date(q.data||0)-new Date(H.data||0));_&&a($)}catch{c("No foi possvel carregar o histrico.")}finally{_&&o(!1)}})(),()=>{_=!1}},[]);const P=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],C=x.useMemo(()=>{let _=t;if(d!=="todos"){const A={consultas:"consulta",exames:"exame",receitas:"receita"};_=_.filter(T=>T.tipo===(A[d]||d))}if(u!=="todos"&&(_=_.filter(A=>(A.status||"").toLowerCase()===u.toLowerCase())),f.trim()){const A=f.toLowerCase();_=_.filter(T=>{var R,I;return((R=T.titulo)==null?void 0:R.toLowerCase().includes(A))||((I=T.detalhe)==null?void 0:I.toLowerCase().includes(A))||(T.status||"").toLowerCase().includes(A)})}const E={};for(const A of _){const T=j(A.data);E[T]||(E[T]=[]),E[T].push(A)}const k=Object.keys(E).sort((A,T)=>A<T?1:-1);return{groups:E,orderedKeys:k}},[t,d,u,f]);return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P0,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Histrico Mdico"})]}),e.jsx(ca,{tabs:P,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx("div",{className:"flex-1 relative",children:e.jsx(fe,{placeholder:"Buscar por ttulo, mdico, status...",value:f,onChange:_=>h(_.target.value),className:"w-full"})}),e.jsxs(Ct,{value:d,onValueChange:p,children:[e.jsx(wt,{className:"w-[180px]",children:e.jsx(_t,{placeholder:"Tipo"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"consultas",children:"Consultas"}),e.jsx(Se,{value:"exames",children:"Exames"}),e.jsx(Se,{value:"receitas",children:"Receitas"})]})]}),e.jsxs(Ct,{value:u,onValueChange:g,children:[e.jsx(wt,{className:"w-[180px]",children:e.jsx(_t,{placeholder:"Status"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"solicitado",children:"Solicitado"}),e.jsx(Se,{value:"agendado",children:"Agendado"}),e.jsx(Se,{value:"realizado",children:"Realizado"}),e.jsx(Se,{value:"cancelado",children:"Cancelado"}),e.jsx(Se,{value:"pendente",children:"Pendente"})]})]})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Linha do Tempo"})}),e.jsx(le,{children:r?e.jsx("div",{className:"space-y-3",children:[...Array(6)].map((_,E)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(at,{className:"h-4 w-4 rounded-full"}),e.jsx(at,{className:"h-6 w-2/3"})]},E))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):C.orderedKeys.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento encontrado."}):e.jsx("div",{className:"space-y-8",children:C.orderedKeys.map(_=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{children:_==="sem-data"?"Sem data":new Date(_).toLocaleDateString()})]}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute left-1 top-0 bottom-0 w-px bg-border"}),e.jsx("ul",{className:"space-y-4",children:C.groups[_].map(E=>e.jsxs("li",{className:"relative",children:[e.jsx("span",{className:`absolute -left-[7px] top-1 inline-flex items-center justify-center h-4 w-4 rounded-full ${E.tipo==="consulta"?"bg-primary":E.tipo==="exame"?"bg-emerald-500":"bg-indigo-500"}`,title:E.tipo==="consulta"?"Consulta":E.tipo==="exame"?"Exame":"Receita"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 text-muted-foreground",children:E.tipo==="consulta"?e.jsx(xt,{className:"h-4 w-4"}):E.tipo==="exame"?e.jsx(HS,{className:"h-4 w-4 text-emerald-400"}):e.jsx(Zo,{className:"h-4 w-4 text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:E.titulo}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.detalhe||""," ",E.status?` ${E.status}`:""]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:N(E.data)})]})]}),E.tipo==="exame"&&e.jsx("div",{className:"flex items-center gap-2",children:E.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:E.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[e.jsx(ya,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(te,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void Rg(E),title:"Baixar arquivo",children:[e.jsx(sr,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),e.jsxs(te,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda no disponvel",children:[e.jsx(sr,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]})}),E.tipo==="receita"&&e.jsx("div",{className:"flex items-center gap-2",children:E.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:E.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",title:"Abrir receita em nova aba",children:[e.jsx(ya,{className:"h-4 w-4"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(te,{variant:"outline",className:"inline-flex items-center gap-2 rounded-lg border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",onClick:()=>void Rg(E),title:"Baixar PDF",children:[e.jsx(sr,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem PDF assinado"})})]})]},E.id))})]})]},_))})})]})]})}const Rg=async t=>{var a;try{let r=t==null?void 0:t.resultado_url;if(!r)return;if(/^(data|blob):/i.test(r)){const g=document.createElement("a");g.href=r,g.download=`${t.nome||"resultado"}.pdf`,document.body.appendChild(g),g.click(),g.remove();return}/^https?:\/\//i.test(r)||(r=`http://127.0.0.1:8000${r.startsWith("/")?"":"/"}${r}`);const o=await ue.get(r,{responseType:"blob",baseURL:""}),i=new Blob([o.data],{type:o.headers["content-type"]||"application/octet-stream"}),c=o.headers["content-disposition"]||"",d=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(c),p=decodeURIComponent((d==null?void 0:d[1])||(d==null?void 0:d[2])||`${t.nome||"resultado"}.pdf`),u=document.createElement("a");u.href=URL.createObjectURL(i),u.download=p,document.body.appendChild(u),u.click(),u.remove(),setTimeout(()=>URL.revokeObjectURL(u.href),2e3)}catch(r){console.warn("[Historico Medico] download falhou:",(a=r==null?void 0:r.response)==null?void 0:a.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function kP(){const[t,a]=x.useState([]),[r,o]=x.useState(!0),[i,c]=x.useState(null);x.useEffect(()=>{let p=!0;return(async()=>{try{const u=await jt.getMedicos();p&&a(Array.isArray(u)?u:(u==null?void 0:u.results)||[])}catch{c("No foi possvel carregar os mdicos vinculados.")}finally{p&&o(!1)}})(),()=>{p=!1}},[]);const d=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Mdicos Vinculados"})]}),e.jsx(ca,{tabs:d,basePath:"/paciente"}),r?e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((p,u)=>e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(at,{className:"h-5 w-48"})}),e.jsxs(le,{className:"space-y-2",children:[e.jsx(at,{className:"h-4 w-56"}),e.jsx(at,{className:"h-4 w-32"})]})]},u))}):i?e.jsx("p",{className:"text-sm text-red-500",children:i}):t.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum mdico vinculado."}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:t.map(p=>{var u,g;return e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-5 w-5"}),EP(p)]})}),e.jsxs(le,{className:"space-y-2 text-sm",children:[e.jsx("div",{className:"text-muted-foreground",children:RP(p)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["CRM: ",Tg(p)||""]})]}),Pg(p)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($r,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:Pg(p)})]}),Ag(p)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:Ag(p)})]})]})]},p.id||Tg(p)||((u=p.user)==null?void 0:u.id)||((g=p.user)==null?void 0:g.email))})})]})}const EP=t=>{const a=(t==null?void 0:t.user)||{};return[a.first_name,a.last_name].filter(Boolean).join(" ").trim()||a.nome||a.name||a.username||(t==null?void 0:t.nome)||(t==null?void 0:t.name)||(t==null?void 0:t.full_name)||"Mdico"},RP=t=>{var r;const a=o=>(o==null?void 0:o.nome)||(o==null?void 0:o.titulo)||(o==null?void 0:o.name)||(o==null?void 0:o.descricao)||(o==null?void 0:o.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const o=t.especialidades.map(i=>a(i)||(typeof i=="string"?i:null)).filter(Boolean);if(o.length)return o.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const o=a(t.especialidade);if(o)return o}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((r=t==null?void 0:t.user)==null?void 0:r.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():"Especialidade no informada"},Pg=t=>{var a;return(t==null?void 0:t.telefone)||(t==null?void 0:t.phone)||(t==null?void 0:t.celular)||((a=t==null?void 0:t.user)==null?void 0:a.phone)||null},Ag=t=>{var a;return(t==null?void 0:t.email)||((a=t==null?void 0:t.user)==null?void 0:a.email)||null},Tg=t=>(t==null?void 0:t.crm)||(t==null?void 0:t.crm_numero)||(t==null?void 0:t.crmNumber)||(t==null?void 0:t.crm_registro)||null;function PP(){const{toast:t}=Jt(),[a,r]=x.useState(!0),[o,i]=x.useState(""),[c,d]=x.useState([]),[p,u]=x.useState([]),[g,f]=x.useState(!1),[h,v]=x.useState({medico:"",mensagem:""}),[w,y]=x.useState(!1),[j,N]=x.useState(""),P=x.useMemo(()=>Array.isArray(p)?p.filter(z=>z&&String(z.id??"").trim()!==""):[],[p]),C=z=>{const D=z==null?void 0:z.user;return[D==null?void 0:D.first_name,D==null?void 0:D.last_name].filter(Boolean).join(" ").trim()||(D==null?void 0:D.nome)||(D==null?void 0:D.username)||(z==null?void 0:z.nome)||(z==null?void 0:z.name)||(z==null?void 0:z.full_name)||(z==null?void 0:z.medico_nome)||(z==null?void 0:z.doctor_name)||"Mdico"},_=x.useMemo(()=>Array.isArray(c)?c.length>0:Array.isArray(c==null?void 0:c.results)?c.results.length>0:!1,[c]),E=x.useMemo(()=>[...Array.isArray(c)?c:Array.isArray(c==null?void 0:c.results)?c.results:[]].sort((D,G)=>new Date(G.created_at||0)-new Date(D.created_at||0)),[c]),k=x.useMemo(()=>{if(!j)return E;const z=j.toLowerCase();return E.filter(D=>{var H;const G=C(D.medico)||C((H=D.consulta)==null?void 0:H.medico)||"",$=D.medicamentos||"";return G.toLowerCase().includes(z)||$.toLowerCase().includes(z)})},[E,j]);x.useEffect(()=>{let z=!0;async function D(){r(!0),i("");try{const[G,$]=await Promise.all([jt.getReceitas(),jt.getMedicosVinculados()]);if(!z)return;if(d(G),u($),Array.isArray($)&&$.length===0)try{const H=await jt.getMedicos({limit:50}),q=Array.isArray(H)?H:(H==null?void 0:H.results)||[];z&&q.length>0&&u(q)}catch{}}catch{if(!z)return;i("Falha ao carregar receitas.")}finally{z&&r(!1)}}return D(),()=>{z=!1}},[]);const A=async z=>{var D,G;if(z.preventDefault(),!h.medico){t({title:"Selecione um mdico",description:"Escolha o mdico para enviar a solicitao."});return}y(!0);try{await jt.solicitarReceita({medico:h.medico,mensagem:h.mensagem}),t({title:"Solicitao enviada",description:"Seu pedido de receita foi enviado ao mdico."}),f(!1),v({medico:"",mensagem:""})}catch($){t({title:"Erro ao solicitar",description:((G=(D=$==null?void 0:$.response)==null?void 0:D.data)==null?void 0:G.detail)||"No foi possvel enviar a solicitao.",variant:"destructive"})}finally{y(!1)}},T=async(z,D)=>{var G;try{if(!z)return;const $=(re,F)=>{const V=document.createElement("a"),Q=URL.createObjectURL(re);V.href=Q,V.download=decodeURIComponent(F),document.body.appendChild(V),V.click(),V.remove(),setTimeout(()=>URL.revokeObjectURL(Q),2e3)},H=(re,F="Receita_Medica.pdf")=>{let V=re||F;return/\.[a-z0-9]+$/i.test(V)||(V+=".pdf"),V};if(/^data:/i.test(z))try{const re=z.split(","),F=re[0]||"",V=re.slice(1).join(","),Q=(F.match(/data:([^;]+)/i)||[])[1]||"application/pdf",se=atob(V),ne=se.length,ve=new Uint8Array(ne);for(let Ve=0;Ve<ne;Ve++)ve[Ve]=se.charCodeAt(Ve);const ge=new Blob([ve],{type:Q}),Pe=`Receita_${(D==null?void 0:D.id)||"documento"}`,Me=H(Pe);$(ge,Me);return}catch(re){console.error("[Receitas] Falha ao processar data URL:",re),t({title:"Falha no download",description:"Arquivo invlido ou corrompido.",variant:"destructive"});return}if(/^blob:/i.test(z))try{const F=await(await fetch(z)).blob(),V=`Receita_${(D==null?void 0:D.id)||"documento"}`,Q=H(V);$(F,Q);return}catch(re){console.error("[Receitas] Blob URL indisponvel (provavelmente de outra aba/sesso):",re),t({title:"Arquivo indisponvel",description:"Essa receita foi gerada em outra aba/sesso. Gere novamente para baixar.",variant:"destructive"});return}/^https?:\/\//i.test(z)||(z=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${z.startsWith("/")?"":"/"}${z}`);const q=await ue.get(z,{responseType:"blob",baseURL:""}),Y=new Blob([q.data],{type:q.headers["content-type"]||"application/pdf"}),ee=q.headers["content-disposition"]||"",M=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(ee);let B=(M==null?void 0:M[1])||(M==null?void 0:M[2]);if(!B)try{const re=new URL(z);B=decodeURIComponent(re.pathname.split("/").pop()||"")}catch{B=""}B||(B=`Receita_${(D==null?void 0:D.id)||"documento"}.pdf`),B=H(B),$(Y,B)}catch($){console.error("[Receitas] Falha ao baixar PDF assinado:",((G=$==null?void 0:$.response)==null?void 0:G.status)||$),t({title:"Falha no download",description:"No foi possvel baixar o arquivo. Tente novamente.",variant:"destructive"})}},R=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],I=E.length,L=E.filter(z=>z.arquivo_assinado).length,U=E.filter(z=>z.created_at?new Date(z.created_at).getFullYear()===new Date().getFullYear():!1).length,K=E.filter(z=>{if(!z.created_at)return!1;const D=new Date(z.created_at),G=new Date;return G.setDate(G.getDate()-30),D>=G}).length;return a?e.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(at,{className:"h-32 w-full rounded-2xl"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((z,D)=>e.jsx(at,{className:"h-32 w-full rounded-xl"},D))}),e.jsx(at,{className:"h-16 w-full"}),e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((z,D)=>e.jsx(at,{className:"h-48 w-full rounded-xl"},D))})]})}):o?e.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Lr,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-500 mb-2",children:"Erro ao carregar receitas"}),e.jsx("p",{className:"text-red-500",children:o})]})}):e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-700 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:e.jsx(Zo,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Minhas Receitas"}),e.jsx("p",{className:"text-emerald-100",children:"Gerencie suas receitas mdicas"})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(te,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(xt,{className:"mr-2 h-4 w-4"}),"Mdicos"]}),e.jsxs(te,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",onClick:()=>f(!0),children:[e.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Solicitar Receita"]})]})]})}),e.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),e.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg",children:e.jsxs(le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Total de Receitas"}),e.jsx("p",{className:"text-3xl font-bold",children:I})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(os,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:e.jsxs(le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Assinadas"}),e.jsx("p",{className:"text-3xl font-bold",children:L})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(Or,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg",children:e.jsxs(le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"ltimos 30 dias"}),e.jsx("p",{className:"text-3xl font-bold",children:K})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(rt,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ie,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg",children:e.jsxs(le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Este Ano"}),e.jsx("p",{className:"text-3xl font-bold",children:U})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(ro,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),e.jsx(ca,{tabs:R,basePath:"/paciente"}),e.jsx(ie,{className:"border-0 shadow-lg",children:e.jsx(le,{className:"p-6",children:e.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Es,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por mdico ou medicamento...",value:j,onChange:z=>N(z.target.value),className:"pl-10"})]})})})}),_?e.jsx("div",{className:"grid gap-6",children:k.map(z=>{var H;const D=z.consulta,G=C(z.medico)||C(D==null?void 0:D.medico)||z.medico_nome||z.medicoName||"Mdico",$=((H=D==null?void 0:D.paciente)!=null&&H.user?`${D.paciente.user.first_name||""} ${D.paciente.user.last_name||""}`.trim():"Paciente")||"Paciente";return e.jsxs(ie,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-emerald-100 p-2 dark:bg-emerald-900",children:e.jsx(Zo,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-lg",children:"Receita Mdica"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitida em ",new Date(z.created_at).toLocaleDateString()," s ",new Date(z.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ft,{variant:z.arquivo_assinado?"default":"secondary",className:z.arquivo_assinado?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:z.arquivo_assinado?"Assinada":"No assinada"}),z.validade&&e.jsxs(ft,{variant:"outline",className:"text-xs",children:["Vlida at ",z.validade]})]})]})}),e.jsxs(le,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(xt,{className:"h-4 w-4"}),"Mdico"]}),e.jsx("p",{className:"font-medium",children:G})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(ss,{className:"h-4 w-4"}),"Paciente"]}),e.jsx("p",{className:"font-medium",children:$})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Medicamentos"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:z.medicamentos})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Posologia"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:z.posologia})})]}),z.observacoes&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Observaes"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:z.observacoes})})]}),Array.isArray(z.itens)&&z.itens.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Itens estruturados"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("ul",{className:"space-y-2",children:z.itens.map(q=>{var Y;return e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx("div",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:((Y=q.medicamento)==null?void 0:Y.nome)||"Medicamento"}),q.dose&&e.jsxs("span",{className:"text-muted-foreground",children:[" - ",q.dose]}),q.frequencia&&e.jsxs("span",{className:"text-muted-foreground",children:[" | ",q.frequencia]}),q.duracao&&e.jsxs("span",{className:"text-muted-foreground",children:[" | ",q.duracao]}),q.observacoes&&e.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:q.observacoes})]})]},q.id)})})})]}),e.jsx("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:z.arquivo_assinado?e.jsxs(e.Fragment,{children:[e.jsxs(te,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(z.arquivo_assinado,"_blank"),children:[e.jsx(ya,{className:"h-4 w-4 mr-2"}),"Visualizar PDF"]}),e.jsxs(te,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>T(z.arquivo_assinado,z),children:[e.jsx(sr,{className:"h-4 w-4 mr-2"}),"Baixar PDF Assinado"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(te,{variant:"outline",size:"sm",className:"group border-amber-500/60 bg-gradient-to-b from-amber-500/10 to-amber-600/10 text-amber-700 hover:from-amber-500/20 hover:to-amber-600/20 hover:text-amber-800 dark:text-amber-300 dark:hover:text-amber-100",onClick:()=>AP(z),children:[e.jsx(sr,{className:"h-4 w-4 mr-2"}),"Baixar PDF (Gerado)"]}),e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[e.jsx(Lr,{className:"h-3 w-3"}),"Receita no assinada digitalmente"]})]})})]})]},z.id)})}):e.jsx(ie,{className:"border-0 shadow-lg",children:e.jsx(le,{className:"p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Zo,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Voc ainda no possui receitas mdicas."}),e.jsxs(te,{onClick:()=>f(!0),children:[e.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Solicitar Receita"]})]})})}),g?e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-card text-card-foreground border rounded-lg p-6 w-full max-w-lg shadow-lg",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Solicitar Receita"}),e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(me,{className:"mb-1 block",children:"Mdico"}),e.jsxs(Ct,{value:h.medico,onValueChange:z=>v(D=>({...D,medico:z})),children:[e.jsx(wt,{className:"w-full",children:e.jsx(_t,{placeholder:a?"Carregando...":P.length?"Selecione...":"Nenhum mdico disponvel"})}),e.jsx(Nt,{children:P.length===0?e.jsx(nb,{children:"Nenhum mdico disponvel"}):P.map(z=>{const D=(z!=null&&z.user?`${z.user.first_name||""} ${z.user.last_name||""}`.trim():z==null?void 0:z.nome)||"Mdico";return e.jsxs(Se,{value:String(z.id),children:[D," ",z.crm?`- CRM ${z.crm}`:""]},String(z.id))})})]})]}),e.jsxs("div",{children:[e.jsx(me,{className:"mb-1 block",children:"Mensagem (opcional)"}),e.jsx(pt,{rows:3,placeholder:"Descreva sua necessidade (ex: renovao de medicamento de uso contnuo)",value:h.mensagem,onChange:z=>v(D=>({...D,mensagem:z.target.value}))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(te,{type:"button",variant:"outline",onClick:()=>{f(!1),v({medico:"",mensagem:""})},children:"Cancelar"}),e.jsx(te,{type:"submit",disabled:w,children:w?"Enviando...":"Enviar solicitao"})]})]})]})}):null]})}const AP=async t=>{try{const{PDFDocument:a,StandardFonts:r,rgb:o}=await si(async()=>{const{PDFDocument:j,StandardFonts:N,rgb:P}=await import("./index-Dg6S4NTB.js");return{PDFDocument:j,StandardFonts:N,rgb:P}},[]),i=await a.create(),c=i.addPage([595.28,841.89]),d=await i.embedFont(r.Helvetica),p=(j,N,P,C=12,_=o(0,0,0))=>{c.drawText(String(j||""),{x:N,y:P,size:C,font:d,color:_})};let u=800;p("Receita Mdica (pr-assinatura, no assinada)",50,u,16),u-=30;const g=(j,N)=>`${j}: ${N??""}`;p(g("Emitida em",(t==null?void 0:t.created_at)||(t==null?void 0:t.data_emissao)||""),50,u),u-=18,p(g("Mdico",(t==null?void 0:t.medico_nome)||(t==null?void 0:t.medico)||(t==null?void 0:t.medico_id)||""),50,u),u-=18,p(g("Paciente",(t==null?void 0:t.paciente_nome)||(t==null?void 0:t.paciente)||(t==null?void 0:t.paciente_id)||""),50,u),u-=24,p("Medicamentos",50,u,14),u-=18,p(String((t==null?void 0:t.medicamentos)||(t==null?void 0:t.itens)||(t==null?void 0:t.descricao)||""),50,u),u-=36,p("Posologia",50,u,14),u-=18,p(String((t==null?void 0:t.posologia)||(t==null?void 0:t.orientacoes)||""),50,u),u-=36,t!=null&&t.observacoes&&(p("Observaes",50,u,14),u-=18,p(String(t==null?void 0:t.observacoes),50,u),u-=36),Array.isArray(t==null?void 0:t.itens_estruturados)&&t.itens_estruturados.length&&(p("Itens estruturados",50,u,14),u-=18,t.itens_estruturados.forEach(j=>{const N=Object.values(j||{}).filter(Boolean).join("  ");p(` ${N}`,60,u),u-=16}),u-=10);const f=await i.save(),h=new Blob([f],{type:"application/pdf"}),v=`Receita_${(t==null?void 0:t.id)||"documento"}.pdf`,w=document.createElement("a"),y=URL.createObjectURL(h);w.href=y,w.download=v,document.body.appendChild(w),w.click(),w.remove(),setTimeout(()=>URL.revokeObjectURL(y),2e3)}catch(a){console.error("[Receitas] Falha ao gerar PDF local:",a),toast({title:"Falha ao gerar PDF",description:"Tente novamente.",variant:"destructive"})}};function lb(t,a=[]){const[r,o]=x.useState(null),[i,c]=x.useState(!0),[d,p]=x.useState(null);return x.useEffect(()=>{let g=!0;return(async()=>{var h,v;try{c(!0),p(null);const w=await t();g&&o(w)}catch(w){g&&p(((v=(h=w.response)==null?void 0:h.data)==null?void 0:v.message)||"Erro ao carregar dados")}finally{g&&c(!1)}})(),()=>{g=!1}},a),{data:r,loading:i,error:d,refetch:async()=>{var g,f;try{c(!0),p(null);const h=await t();o(h)}catch(h){p(((f=(g=h.response)==null?void 0:g.data)==null?void 0:f.message)||"Erro ao carregar dados")}finally{c(!1)}}}}const it={async getPerfil(){var d,p,u,g,f,h;const t="/medicos/",a=t.endsWith("/")?t:`${t}/`,r="".toLowerCase()==="true",o="".toLowerCase()==="true";let i=ht.getCurrentUser();if(!(i!=null&&i.id))try{const v=await ht.refreshCurrentUser();v!=null&&v.id&&(i=v)}catch{}if(i!=null&&i.id){const v="user,user__id,user_id,usuario,usuario_id".split(",").map(w=>w.trim()).filter(Boolean);for(const w of v)try{const y=await ue.get(a,{params:{[w]:i.id}}),j=Array.isArray((d=y.data)==null?void 0:d.results)?y.data.results:y.data;if(Array.isArray(j)){const N=j.find(P=>{var C,_;return((C=P==null?void 0:P.user)==null?void 0:C.id)===i.id||((_=P==null?void 0:P.usuario)==null?void 0:_.id)===i.id||(P==null?void 0:P.user)===i.id||(P==null?void 0:P.usuario)===i.id});if(N)return N;continue}if(j&&typeof j=="object"){const N=j;if(((p=N==null?void 0:N.user)==null?void 0:p.id)===i.id||((u=N==null?void 0:N.usuario)==null?void 0:u.id)===i.id||(N==null?void 0:N.user)===i.id||(N==null?void 0:N.usuario)===i.id)return N;continue}}catch{}}if(r)try{return(await ue.get(`${a}me/`)).data}catch(v){if(((g=v==null?void 0:v.response)==null?void 0:g.status)!==404)throw v}let c=null;if(o){const v=[],w="/users/".trim();if(w)if(w.includes("/me"))v.push(w);else{const y=w.endsWith("/")?w:`${w}/`;v.push(`${y}me/`)}v.push("/users/me/"),v.push("/auth/user/");for(const y of v)try{if(c=(await ue.get(y)).data,c&&!c.id){const N=Array.isArray(c==null?void 0:c.results)?c.results[0]:Array.isArray(c)?c[0]:null;N!=null&&N.id&&(c=N)}if(c!=null&&c.id)break}catch{}}try{const v=await ue.get(a),w=Array.isArray((f=v.data)==null?void 0:f.results)?v.data.results:v.data;if(Array.isArray(w)&&w.length){const y=(c==null?void 0:c.id)||((h=ht.getCurrentUser())==null?void 0:h.id);if(y){const j=w.find(N=>{var P,C;return((P=N==null?void 0:N.user)==null?void 0:P.id)===y||((C=N==null?void 0:N.usuario)==null?void 0:C.id)===y});if(j)return j}return null}}catch{}return null},async getPacientes(t={}){return(await ue.get("/pacientes/",{params:t})).data},async getPacientesVinculados(t){const a="/medicos/",r=a.endsWith("/")?a:`${a}/`;return(await ue.get(`${r}${t}/pacientes/`)).data},async getConsultas(t={}){return(await ue.get("/consultas/",{params:t})).data},async getConsultasDoMedico(t={}){var p,u,g,f;const a=await this.getPerfil();let r=null;if((p=a==null?void 0:a.medico)!=null&&p.id?r=a.medico.id:a&&typeof a=="object"&&"crm"in a&&(r=a.id),!r){const h=((u=a==null?void 0:a.user)==null?void 0:u.id)||(a==null?void 0:a.id);if(h)try{const v="/medicos/",w=v.endsWith("/")?v:`${v}/`,y="user,user__id,user_id,usuario,usuario_id".split(",").map(j=>j.trim()).filter(Boolean);for(const j of y)try{const N=await ue.get(w,{params:{[j]:h}}),P=Array.isArray((g=N.data)==null?void 0:g.results)?N.data.results:N.data;if((f=P==null?void 0:P[0])!=null&&f.id){r=P[0].id;break}}catch{}}catch{}}const o={...t};r&&!o.medico&&!o.medico_id&&(o.medico=r,o.medico_id=r);const i=o.date||o.data||o.dia;return i&&(o.date=i,o.data=i,o.dia=i,o.data__date=i),(await ue.get("/consultas/",{params:o})).data},async getConsultasHoje(t){var g,f,h,v;const a="/medicos/",r=a.endsWith("/")?a:`${a}/`;let o=t;if(!o){const w=await this.getPerfil();if((g=w==null?void 0:w.medico)!=null&&g.id?o=w.medico.id:w&&typeof w=="object"&&"crm"in w&&(o=w.id),!o){const y=((f=w==null?void 0:w.user)==null?void 0:f.id)||(w==null?void 0:w.id);if(y)try{const j="user,user__id,user_id,usuario,usuario_id".split(",").map(N=>N.trim()).filter(Boolean);for(const N of j)try{const P=await ue.get(r,{params:{[N]:y}}),C=Array.isArray((h=P.data)==null?void 0:h.results)?P.data.results:P.data;if((v=C==null?void 0:C[0])!=null&&v.id){o=C[0].id;break}}catch{}}catch{}}}const i="false".toLowerCase()==="true";if(o&&i)try{return(await ue.get(`${r}${o}/consultas_hoje/`)).data}catch{}const c=new Date,d=w=>String(w).padStart(2,"0"),p=`${c.getFullYear()}-${d(c.getMonth()+1)}-${d(c.getDate())}`;return await this.getConsultasDoMedico({date:p})},async getDashboard(){try{const t=new Date,a=d=>String(d).toString().padStart(2,"0"),r=`${t.getFullYear()}-${a(t.getMonth()+1)}-${a(t.getDate())}`,o=await this.getConsultasDoMedico({date:r}),i=Array.isArray(o)?o:Array.isArray(o==null?void 0:o.results)?o.results:[];return{proximas:Array.isArray(i)?i.map(d=>({id:d.id||d.consulta_id||d.uuid,paciente:d.paciente,data_hora:d.data_hora,status:d.status})):[]}}catch{return{proximas:[]}}},async iniciarConsulta(t){if(!t)throw new Error("consultaId  obrigatrio");const a="/consultas/",r=[{method:"post",url:`${a}${t}/iniciar/`,data:void 0},{method:"post",url:`${a}${t}/start/`,data:void 0},{method:"patch",url:`${a}${t}/`,data:{status:"em_andamento"}},{method:"put",url:`${a}${t}/iniciar/`,data:void 0}];let o=null;for(const i of r)try{return(await ue[i.method](i.url,i.data)).data}catch(c){o=c}throw o||new Error("No foi possvel iniciar a consulta")},async finalizarConsulta(t){if(!t)throw new Error("consultaId  obrigatrio");const r=`/consultas/${t}/finalizar/`;return(await ue.post(r)).data},async sumarizarConsulta(t,a={}){if(!t)throw new Error("consultaId  obrigatrio");const r="/consultas/",o=[`${r}${t}/sumarizar/`,`${r}${t}/resumir/`,`${r}${t}/summary/`];let i=null;for(const c of o)try{const{data:d}=await ue.post(c,a);return d}catch(d){i=d}throw i||new Error("Endpoint de sumarizao no disponvel")},async criarProntuario(t){var u;const a="/prontuarios/".replace(/\/?$/,"/"),r={...t||{}},o={};for(const[g,f]of Object.entries(r))f!=null&&(typeof f=="string"&&f.trim()===""||(o[g]=typeof f=="string"?f.trim():f));const i=o.consulta_id||o.consulta;i&&(o.consulta_id=i,o.consulta=i);const c=[{method:"post",url:a},{method:"put",url:a},{method:"patch",url:a}],d=a.replace(/prontuarios\/?$/i,"prontuario/");d!==a&&(c.push({method:"post",url:d}),c.push({method:"put",url:d}),c.push({method:"patch",url:d}));let p=null;for(const g of c)try{const{data:f}=await ue[g.method](g.url,o);return f}catch(f){const h=(u=f==null?void 0:f.response)==null?void 0:u.status;if(h&&[400,422].includes(h)){const v={};i&&(v.consulta_id=i,v.consulta=i);const w=o.queixa_principal||o.queixa,y=o.historia_doenca_atual||o.historia,j=o.diagnostico_principal||o.diagnostico,N=o.conduta||o.plano,P=o.medicamentos_uso||o.medicamentos;w&&(v.queixa_principal=w),y&&(v.historia_doenca_atual=y),j&&(v.diagnostico_principal=j),N&&(v.conduta=N),P&&(v.medicamentos_uso=P),o.alergias&&(v.alergias=o.alergias),o.exames_solicitados&&(v.exames_solicitados=o.exames_solicitados),o.data_retorno&&(v.data_retorno=o.data_retorno);try{const{data:C}=await ue[g.method](g.url,v);return C}catch(C){p=C}}else if(h===405){p=f;continue}else if(h===404){p=f;continue}else{p=f;break}}throw p||new Error("Falha ao criar pronturio: nenhum endpoint compatvel encontrado.")},async criarReceita(t={}){var N,P,C,_,E,k,A,T,R;const a="/receitas/".replace(/\/?$/,"/"),r="/pacientes/".replace(/\/?$/,"/"),o="/consultas/".replace(/\/?$/,"/"),i="false".toLowerCase()==="true",c={...t},d=c.paciente_id||c.paciente,p=c.consulta_id||c.consulta,u={...c};!u.paciente_id&&d&&(u.paciente_id=d),!u.paciente&&d&&(u.paciente=d),!u.consulta_id&&p&&(u.consulta_id=p),!u.consulta&&p&&(u.consulta=p),!u.medicamentos&&c.medicamento&&(u.medicamentos=c.medicamento),!u.medicamento&&c.medicamentos&&(u.medicamento=c.medicamentos),!u.validade&&c.validade_receita&&(u.validade=c.validade_receita);try{const I=u.medico_id||u.medico||await this._resolveMedicoId().catch(()=>null);I&&(u.medico_id||(u.medico_id=I),u.medico||(u.medico=I))}catch{}if(!u.consulta_id&&!u.consulta&&(u.paciente_id||u.paciente))try{const I=u.paciente_id||u.paciente,L=u.medico_id||u.medico||null,U=(()=>{const z=new Date,D=z.getFullYear(),G=String(z.getMonth()+1).padStart(2,"0"),$=String(z.getDate()).padStart(2,"0");return`${D}-${G}-${$}`})(),K=await this._ensureConsultaId(I,L,U);if(K&&(u.consulta_id=K,u.consulta=K,i))try{console.debug("[medicoService.criarReceita] consulta_id resolvido automaticamente:",K)}catch{}}catch(I){if(i)try{console.warn("[medicoService.criarReceita] no foi possvel resolver consulta_id automaticamente",(N=I==null?void 0:I.response)==null?void 0:N.status)}catch{}}const g=[],f="".trim();f&&g.push(f),g.push(a),g.push(`${a}criar/`),g.push(`${a}create/`);const h=a.replace(/receitas\/?$/i,"receita/"),v=Array.from(new Set([h,"/receita/","/meu_app_receita/"].filter(Boolean)));for(const I of v){const L=I.replace(/\/?$/,"/");g.push(L),g.push(`${L}criar/`),g.push(`${L}create/`)}if(p&&g.push(`${o}${p}/receitas/`),d&&g.push(`${r}${d}/receitas/`),i){try{console.debug("[medicoService.criarReceita] payload:",u)}catch{}try{console.debug("[medicoService.criarReceita] candidatos:",g)}catch{}}let w=null,y=null;const j=new Set;for(const I of g){if(!I)continue;const L=I.endsWith("/")?I:`${I}/`,U=["post","put","patch"];for(const K of U){y=`${K.toUpperCase()} ${L}`;try{if(i)try{console.debug("[medicoService.criarReceita] tentando:",y)}catch{}const{data:z}=await ue[K](L,u);if(i)try{console.debug("[medicoService.criarReceita] sucesso:",y,"",z)}catch{}return z}catch(z){const D=(P=z==null?void 0:z.response)==null?void 0:P.status;if(i)try{console.warn("[medicoService.criarReceita] falhou:",y,"status=",D,"detail=",((C=z==null?void 0:z.response)==null?void 0:C.data)||(z==null?void 0:z.message))}catch{}if(D&&[400,422].includes(D)){const G=`${K}:${L}`;if(!j.has(G)){j.add(G);const $={},H=u.paciente_id||u.paciente,q=u.medico_id||u.medico,Y=u.medicamentos||u.medicamento,ee=u.validade||u.validade_receita;if(H&&($.paciente=H,$.paciente_id=H),q&&($.medico=q,$.medico_id=q),Y&&($.medicamentos=Y,$.medicamento=Y),u.posologia&&($.posologia=u.posologia),ee&&($.validade=ee),u.observacoes&&($.observacoes=u.observacoes),u.consulta_id||u.consulta){const M=u.consulta_id||u.consulta;$.consulta=M,$.consulta_id=M}try{if(i)try{console.debug("[medicoService.criarReceita] retry minimal:",K.toUpperCase(),L,$)}catch{}const{data:M}=await ue[K](L,$);if(i)try{console.debug("[medicoService.criarReceita] sucesso (minimal):",K.toUpperCase(),L,M)}catch{}return M}catch(M){if(i)try{console.warn("[medicoService.criarReceita] falhou (minimal):",K.toUpperCase(),L,(_=M==null?void 0:M.response)==null?void 0:_.status,((E=M==null?void 0:M.response)==null?void 0:E.data)||(M==null?void 0:M.message))}catch{}try{const B=(k=M==null?void 0:M.response)==null?void 0:k.data,re=typeof B=="string"&&B||(B==null?void 0:B.detail)||(B==null?void 0:B.message)||(M==null?void 0:M.message)||"Erro desconhecido",F=B&&typeof B=="object"?` | body=${JSON.stringify(B)}`:typeof B=="string"?` | body=${B}`:"";M.message=`Falha ao criar receita (minimal, ltima tentativa: ${y||""})  [${D||""}] ${re}${F}`}catch{}throw M}}try{const $=(A=z==null?void 0:z.response)==null?void 0:A.data,H=typeof $=="string"&&$||($==null?void 0:$.detail)||($==null?void 0:$.message)||(z==null?void 0:z.message)||"Erro desconhecido",q=$&&typeof $=="object"?` | body=${JSON.stringify($)}`:typeof $=="string"?` | body=${$}`:"";z.message=`Falha ao criar receita (ltima tentativa: ${y||""})  [${D||""}] ${H}${q}`}catch{}}if(D===404){w=z;break}if(D===405){w=z;continue}if(D===401||D&&[400,422].includes(D))throw z;w=z;break}}}if(w){const I=(T=w==null?void 0:w.response)==null?void 0:T.status,L=(R=w==null?void 0:w.response)==null?void 0:R.data,U=typeof L=="string"&&L||(L==null?void 0:L.detail)||(L==null?void 0:L.message)||(w==null?void 0:w.message)||"Erro desconhecido",K=L&&typeof L=="object"?` | body=${JSON.stringify(L)}`:"";throw new Error(`Falha ao criar receita (ltima tentativa: ${y||""})  [${I||""}] ${U}${K}`)}throw new Error("Falha ao criar receita: nenhum endpoint compatvel encontrado.")},async gerarDocumentoReceita(t={}){var P,C,_;const a="false".toLowerCase()==="true",r="/receitas/".replace(/\/?$/,"/"),o="/consultas/".replace(/\/?$/,"/"),i="/medicos/",c=i.endsWith("/")?i:`${i}/`,d={...t},p=d.paciente_id||d.paciente,u=d.consulta_id||d.consulta,g=(d.formato||"pdf").toLowerCase(),f={...d};!f.paciente_id&&p&&(f.paciente_id=p),!f.paciente&&p&&(f.paciente=p),!f.consulta_id&&u&&(f.consulta_id=u),!f.consulta&&u&&(f.consulta=u),!f.medicamentos&&d.medicamento&&(f.medicamentos=d.medicamento),!f.medicamento&&d.medicamentos&&(f.medicamento=d.medicamentos),!f.validade&&d.validade_receita&&(f.validade=d.validade_receita),f.formato=g;try{const E=f.medico_id||f.medico||await this._resolveMedicoId().catch(()=>null);E&&(f.medico_id||(f.medico_id=E),f.medico||(f.medico=E))}catch{}const h=[],v="".trim();v&&h.push(v);const w=E=>{const k=E.replace(/\/?$/,"/");h.push(`${k}gerar/`),h.push(`${k}generate/`),h.push(`${k}documento/`),h.push(`${k}pdf/`),h.push(`${k}preview/`)};w(r),[r.replace(/receitas\/?$/i,"receita/"),"/receita/","/meu_app_receita/"].forEach(E=>E&&w(E)),u&&h.push(`${o}${u}/gerar_receita/`);try{const E=await this._resolveMedicoId().catch(()=>null);E&&(h.push(`${c}${E}/gerar_receita/`),h.push(`${c}${E}/receitas/gerar/`)),h.push(`${c}me/gerar_receita/`)}catch{}if(a)try{console.debug("[medicoService.gerarDocumentoReceita] candidatos:",h)}catch{}const j=async E=>{var I,L,U,K,z,D,G;const k=((I=E.headers)==null?void 0:I["content-type"])||((U=(L=E.headers)==null?void 0:L.get)==null?void 0:U.call(L,"content-type"))||"",A=((K=E.headers)==null?void 0:K["content-disposition"])||((D=(z=E.headers)==null?void 0:z.get)==null?void 0:D.call(z,"content-disposition"));let T=`receita.${g}`;if(A){const $=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(A);T=decodeURIComponent(($==null?void 0:$[1])||($==null?void 0:$[2])||T)}if(k.includes("application/json"))try{const $=await new Response(E.data).text(),H=JSON.parse($),q=H.file||H.url||H.pdf||H.documento||H.download_url||H.link;if(q){const Y=await ue.get(q,{responseType:"blob"}),ee=new Blob([Y.data],{type:((G=Y.headers)==null?void 0:G["content-type"])||(g==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.wordprocessingml.document")});return{filename:T||q.split("/").pop()||`receita.${g}`,blob:ee}}}catch{}const R=new Blob([E.data],{type:k||(g==="pdf"?"application/pdf":"application/octet-stream")});return{filename:T,blob:R}};let N=null;for(const E of h){if(!E)continue;const k=E.endsWith("/")?E:`${E}/`;try{if(a)try{console.debug("[gerarDocumentoReceita] POST",k)}catch{}const A=await ue.post(k,f,{responseType:"blob"});return await j(A)}catch(A){if(((P=A==null?void 0:A.response)==null?void 0:P.status)===401)throw A;N=A}try{if(a)try{console.debug("[gerarDocumentoReceita] PUT",k)}catch{}const A=await ue.put(k,f,{responseType:"blob"});return await j(A)}catch(A){if(((C=A==null?void 0:A.response)==null?void 0:C.status)===401)throw A;N=A}try{if(a)try{console.debug("[gerarDocumentoReceita] GET",k)}catch{}const A=await ue.get(k,{params:f,responseType:"blob"});return await j(A)}catch(A){if(((_=A==null?void 0:A.response)==null?void 0:_.status)===401)throw A;N=A}}throw N||new Error("Falha ao gerar documento de receita: nenhum endpoint compatvel encontrado.")},async buscarPacientes(t){return(await ue.get("/pacientes/",{params:{search:t}})).data},async atualizarPacienteById(t,a){if(!t)throw new Error("id do paciente  obrigatrio");const r="/pacientes/",o=r.endsWith("/")?r:`${r}/`;return(await ue.patch(`${o}${t}/`,a)).data},async _resolveMedicoId(){var t,a,r,o,i,c;try{const d=await this.getPerfil();if((t=d==null?void 0:d.medico)!=null&&t.id)return d.medico.id;if(d!=null&&d.id&&(d.crm||d.matricula||d.especialidade))return d.id;const p=((a=d==null?void 0:d.user)==null?void 0:a.id)||((r=ht.getCurrentUser())==null?void 0:r.id);if(!p)return null;const u="/medicos/",g=u.endsWith("/")?u:`${u}/`,f="user,user__id,user_id,usuario,usuario_id".split(",").map(h=>h.trim()).filter(Boolean);for(const h of f)try{const v=await ue.get(g,{params:{[h]:p}}),w=Array.isArray((o=v.data)==null?void 0:o.results)?v.data.results:v.data;if(Array.isArray(w)){const y=w.find(j=>{var N,P;return((N=j==null?void 0:j.user)==null?void 0:N.id)===p||((P=j==null?void 0:j.usuario)==null?void 0:P.id)===p||(j==null?void 0:j.user)===p||(j==null?void 0:j.usuario)===p});if(y!=null&&y.id)return y.id;continue}if(w&&typeof w=="object"){const y=w;if((((i=y==null?void 0:y.user)==null?void 0:i.id)===p||((c=y==null?void 0:y.usuario)==null?void 0:c.id)===p||(y==null?void 0:y.user)===p||(y==null?void 0:y.usuario)===p)&&(y!=null&&y.id))return y.id;continue}}catch{}}catch{}return null},async _ensureConsultaId(t,a=null,r=null){var o,i,c,d;try{if(!t)return null;const p="false".toLowerCase()==="true",u=(()=>{if(r&&/^\d{4}-\d{2}-\d{2}$/.test(String(r)))return r;const f=new Date,h=v=>String(v).padStart(2,"0");return`${f.getFullYear()}-${h(f.getMonth()+1)}-${h(f.getDate())}`})(),g="/consultas/".replace(/\/?$/,"/");try{const f={paciente:t,paciente_id:t,date:u,data:u,dia:u,data__date:u},h=a||await this._resolveMedicoId().catch(()=>null);h&&(f.medico=h,f.medico_id=h);const v=await ue.get(g,{params:f}),w=Array.isArray((o=v.data)==null?void 0:o.results)?v.data.results:v.data;if(Array.isArray(w)){const y=w.find(j=>(j==null?void 0:j.id)||(j==null?void 0:j.consulta_id)||(j==null?void 0:j.uuid));if(y){const j=y.id||y.consulta_id||y.uuid;if(p)try{console.debug("[_ensureConsultaId] encontrada consulta existente:",j)}catch{}return j}}}catch(f){if(p)try{console.warn("[_ensureConsultaId] falha ao buscar consulta existente:",(i=f==null?void 0:f.response)==null?void 0:i.status)}catch{}}try{const f=a||await this._resolveMedicoId().catch(()=>null),h={paciente:t,paciente_id:t,data:u,date:u,dia:u,data__date:u,data_hora:`${u}T00:00:00`};f&&(h.medico=f,h.medico_id=f);const v=[g,`${g}criar/`,`${g}create/`];for(const w of v){const y=w.endsWith("/")?w:`${w}/`;try{if(p)try{console.debug("[_ensureConsultaId] criando consulta em:",y,h)}catch{}const{data:j}=await ue.post(y,h),N=(j==null?void 0:j.id)||(j==null?void 0:j.consulta_id)||(j==null?void 0:j.uuid);if(N){if(p)try{console.debug("[_ensureConsultaId] consulta criada:",N)}catch{}return N}}catch(j){const N=(c=j==null?void 0:j.response)==null?void 0:c.status;if(p)try{console.warn("[_ensureConsultaId] falha ao criar em",y,N,((d=j==null?void 0:j.response)==null?void 0:d.data)||(j==null?void 0:j.message))}catch{}if([401,404,405].includes(N))continue}}}catch(f){if(p)try{console.warn("[_ensureConsultaId] erro inesperado na criao:",f==null?void 0:f.message)}catch{}}return null}catch{return null}},async getCertificadoInfo(){var d,p;const t=[],a="".trim();a&&t.push(a);const r="/medicos/",o=r.endsWith("/")?r:`${r}/`;t.push(`${o}me/certificado/`),t.push(`${o}certificado/`),t.push("/medico/certificado/"),t.push("/assinatura/certificado/"),t.push("/certificados/"),t.push("/api/medicos/me/certificado/"),t.push("/api/medicos/certificado/"),t.push("/api/certificados/");let i=null;try{i=await this._resolveMedicoId()}catch{}i&&(t.push(`${o}${i}/certificado/`),t.push(`${o}${i}/assinatura/`),t.push(`/api/medicos/${i}/certificado/`),t.push(`/api/medicos/${i}/assinatura/`));let c=null;for(const u of t){if(!u)continue;const g=u.endsWith("/")?u:`${u}/`;try{const{data:f}=await ue.get(g),h=Array.isArray(f==null?void 0:f.results)?(d=f.results)==null?void 0:d[0]:Array.isArray(f)?f[0]:f;return h||f||null}catch(f){const h=(p=f==null?void 0:f.response)==null?void 0:p.status;if(h===404){c=f;continue}if(h===401)throw f;c=f}}if(c)throw c;return null},async uploadCertificado(t){var u;let a;if(t instanceof FormData)a=t;else if(t&&t.name)a=new FormData,a.append("file",t),a.append("certificado",t),a.append("pfx",t);else throw new Error("Parmetro invlido:  esperado FormData ou File.");const r=[],o="".trim();o&&r.push(o);const i="/medicos/",c=i.endsWith("/")?i:`${i}/`;r.push(`${c}me/certificado/`),r.push(`${c}certificado/`),r.push("/medico/certificado/"),r.push("/assinatura/certificado/"),r.push("/certificados/");let d=null;try{d=await this._resolveMedicoId()}catch{}d&&(r.push(`${c}${d}/certificado/`),r.push(`${c}${d}/assinatura/`));let p=null;for(const g of r){if(!g)continue;const f=g.endsWith("/")?g:`${g}/`,h=["post","put","patch"];for(const v of h)try{const{data:w}=await ue[v](f,a);return w}catch(w){const y=(u=w==null?void 0:w.response)==null?void 0:u.status;if(y===404){p=w;break}if(y===405){p=w;continue}if(y===401||y&&[400,422].includes(y))throw w;p=w;break}}throw p||new Error("Falha ao enviar certificado: nenhum endpoint compatvel.")},async enviarReceita({receitaId:t,pacienteId:a,email:r,formato:o="pdf",file:i,filename:c}){var y,j,N,P,C;if(!r&&!a&&!t&&!i)throw new Error("Fornea ao menos email, pacienteId, receitaId ou arquivo para envio.");const d="false".toLowerCase()==="true",p="/receitas/".replace(/\/?$/,"/"),u="/pacientes/".replace(/\/?$/,"/");if(!t&&a){const _=async A=>{var T;try{const R=await ue.get(p,{params:A}),I=R==null?void 0:R.data,L=Array.isArray(I)?I:Array.isArray(I==null?void 0:I.results)?I.results:[],U=L==null?void 0:L[0],K=(U==null?void 0:U.id)||(U==null?void 0:U.pk)||(U==null?void 0:U.uuid)||((T=U==null?void 0:U.receita)==null?void 0:T.id);if(K)return String(K)}catch{}return null},E=[],k=["-created_at","-created","-data","-date","-id","-pk"];for(const A of k)E.push({paciente:a,ordering:A,page_size:1,limit:1}),E.push({paciente_id:a,ordering:A,page_size:1,limit:1});for(const A of E){const T=await _(A);if(T){t=T;break}}d&&t&&console.debug("[medicoService.enviarReceita] receitaId inferido via listagem:",t)}const g=new FormData;if(i){const _=c||i.name||`receita.${o||"pdf"}`;g.append("file",i,_),g.append("pdf",i,_),g.append("documento",i,_)}r&&(g.append("email",r),g.append("to",r),g.append("destinatario",r),g.append("paciente_email",r)),o&&g.append("formato",o),t&&(g.append("id",t),g.append("receita",t),g.append("receita_id",t)),a&&(g.append("paciente",a),g.append("paciente_id",a)),g.append("assinar","true");const f={email:r,to:r,destinatario:r,paciente_email:r,formato:o,id:t,receita:t,receita_id:t,paciente:a,paciente_id:a,assinar:!0},h=[],v="".trim();v&&h.push(v),t&&(h.push(`${p}${t}/enviar/`),h.push(`${p}${t}/enviar-email/`),h.push(`${p}${t}/enviar_email/`),h.push(`${p}${t}/email/`),h.push(`${p}${t}/send-email/`),h.push(`${p}${t}/send/`)),h.push(`${p}enviar/`),h.push(`${p}enviar-email/`),h.push(`${p}enviar_email/`),h.push(`${p}email/`),h.push(`${p}send-email/`),h.push(`${p}send/`),h.push("/email/receitas/"),h.push("/receitas/email/"),h.push("/email/send/"),h.push("/send-email/"),a&&(h.push(`${u}${a}/receitas/enviar/`),h.push(`${u}${a}/receitas/email/`),h.push(`${u}${a}/receitas/send/`),t&&(h.push(`${u}${a}/receitas/${t}/enviar/`),h.push(`${u}${a}/receitas/${t}/enviar-email/`),h.push(`${u}${a}/receitas/${t}/enviar_email/`),h.push(`${u}${a}/receitas/${t}/email/`),h.push(`${u}${a}/receitas/${t}/send-email/`),h.push(`${u}${a}/receitas/${t}/send/`)));let w=null;for(const _ of h){if(!_)continue;const E=_.endsWith("/")?_:`${_}/`,k=T=>{d&&console.debug(`[medicoService.enviarReceita] ${T} ->`,E,{receitaId:t,pacienteId:a,email:r,formato:o})};if(/\/(enviar|email|send(-email)?)\/?$/i.test(E)&&!i)try{k("GET");const T={email:r,formato:o,id:t,receita:t,receita_id:t,paciente:a,paciente_id:a,assinar:!0},{data:R}=await ue.get(E,{params:T});return R}catch(T){if(w=T,((y=T==null?void 0:T.response)==null?void 0:y.status)===401)throw T}try{k("POST multipart");const{data:T}=await ue.post(E,g);return T}catch(T){const R=(j=T==null?void 0:T.response)==null?void 0:j.status;if(R===401)throw T;R&&[400,422].includes(R),w=T}if(!i)try{k("POST json");const{data:T}=await ue.post(E,f);return T}catch(T){const R=(N=T==null?void 0:T.response)==null?void 0:N.status;if(R===401)throw T;R&&[400,422].includes(R),w=T}try{k("PUT multipart");const{data:T}=await ue.put(E,g);return T}catch(T){const R=(P=T==null?void 0:T.response)==null?void 0:P.status;if(R===401)throw T;R&&[400,422].includes(R),w=T}if(!i)try{k("GET fallback");const T={email:r,formato:o,id:t,receita:t,receita_id:t,paciente:a,paciente_id:a,assinar:!0},{data:R}=await ue.get(E,{params:T});return R}catch(T){if(((C=T==null?void 0:T.response)==null?void 0:C.status)===401)throw T;w=T}}throw w||new Error("Falha ao enviar receita: nenhum endpoint compatvel encontrado.")},async ensureMedicoRecord(t={}){var g;const a=ht.getCurrentUser()||await ht.refreshCurrentUser(),r=a==null?void 0:a.id;if(!r)throw new Error("Usurio no autenticado ou no disponvel.");try{const f=await this._resolveMedicoId();if(f){const h="/medicos/",v=h.endsWith("/")?h:`${h}/`;try{return(await ue.get(`${v}${f}/`)).data||{id:f}}catch{return{id:f}}}}catch{}const o="/medicos/",i=o.endsWith("/")?o:`${o}/`,c={...t};c.user=c.user||r,c.user_id=c.user_id||r,c.usuario=c.usuario||r,c.usuario_id=c.usuario_id||r;const d=String(c.status||c.situacao||c.state||"pending").toLowerCase();c.status=d,c.situacao=c.situacao||d,c.state=c.state||d;const p=[i,`${i}create/`,"/api/medicos/","/admin/medicos/"];let u=null;for(const f of p){const h=f.endsWith("/")?f:`${f}/`;try{const{data:v}=await ue.post(h,c),w=(v==null?void 0:v.id)||(v==null?void 0:v.pk)||(v==null?void 0:v.uuid);if(w)try{localStorage.setItem("medico_id",String(w))}catch{}try{r&&localStorage.setItem(`medicoApplicationStatus:${r}`,"pending")}catch{}return v}catch(v){const w=(g=v==null?void 0:v.response)==null?void 0:g.status;if(w===401)throw v;if(w===405){u=v;continue}if(u=v,Object.values(t||{}).some(j=>j instanceof File||j instanceof Blob))try{const j=new FormData;for(const[C,_]of Object.entries(c))_!=null&&(j.append(C,_),C==="user"&&(j.append("usuario",_),j.append("user_id",_),j.append("usuario_id",_)),C==="status"&&(j.append("situacao",_),j.append("state",_)));const{data:N}=await ue.post(h,j),P=(N==null?void 0:N.id)||(N==null?void 0:N.pk)||(N==null?void 0:N.uuid);if(P)try{localStorage.setItem("medico_id",String(P))}catch{}try{r&&localStorage.setItem(`medicoApplicationStatus:${r}`,"pending")}catch{}return N}catch(j){u=j;continue}}}throw u||new Error("Falha ao criar registro do mdico: nenhum endpoint compatvel.")},async ensurePerfilMedico(t={}){var f,h;try{const v=await this.getPerfil();if(v&&(v.id||v.user||v.medico))return v}catch{}const a=ht.getCurrentUser()||await ht.refreshCurrentUser(),r=a==null?void 0:a.id;if(!r)throw new Error("Usurio no autenticado ou no disponvel.");let o=t.medico_id||t.medico||null;if(!o){try{o=await this._resolveMedicoId()}catch{}if(!o)try{const v=await this.ensureMedicoRecord({});o=(v==null?void 0:v.id)||((f=v==null?void 0:v.medico)==null?void 0:f.id)||null}catch{}}const i={...t};i.user=i.user||r,i.user_id=i.user_id||r,i.usuario=i.usuario||r,i.usuario_id=i.usuario_id||r,o&&(i.medico=i.medico||o,i.medico_id=i.medico_id||o);const c=String(i.status||i.situacao||i.state||"pending").toLowerCase();i.status=c,i.situacao=i.situacao||c,i.state=i.state||c;const d=["/perfil-medico/","/perfil/medico/","/perfis/medico/","/profiles/medico/","/api/perfil-medico/","/api/perfil/medico/"],p="/medicos/",u=p.endsWith("/")?p:`${p}/`;o&&(d.push(`${u}${o}/perfil/`),d.push(`/api/medicos/${o}/perfil/`)),d.push(`${u}me/perfil/`);let g=null;for(const v of d){const w=v.endsWith("/")?v:`${v}/`,y=["post","put","patch"];for(const j of y)try{const{data:N}=await ue[j](w,i);try{r&&localStorage.setItem(`medicoApplicationStatus:${r}`,"pending")}catch{}return N}catch(N){const P=(h=N==null?void 0:N.response)==null?void 0:h.status;if(P===401)throw N;if(P===405){g=N;continue}if(P===404){g=N;break}g=N;break}}throw g||new Error("Falha ao criar perfil do mdico: nenhum endpoint compatvel.")},async ensureMedicoAndPerfil(t={},a={}){var p;const r=ht.getCurrentUser()||await ht.refreshCurrentUser(),o=r==null?void 0:r.id,i=await this.ensureMedicoRecord(t),c=(i==null?void 0:i.id)||((p=i==null?void 0:i.medico)==null?void 0:p.id)||null,d=await this.ensurePerfilMedico({...a,medico_id:a.medico_id||c});try{o&&localStorage.setItem(`medicoApplicationStatus:${o}`,"pending")}catch{}return{medico:i,perfil:d}},async updatePerfilMedico(t={}){var h,v;const a={...t},r=t.telefone||t.celular||t.phone||((h=t.contato)==null?void 0:h.telefone);r!=null&&(a.telefone=r,a.celular||(a.celular=r),a.phone||(a.phone=r),a.contato={...a.contato||{},telefone:r});let o=t.endereco||t.address||t.local;o&&typeof o=="object"&&(o=`${o.logradouro||o.rua||""} ${o.numero||""} ${o.bairro||""} ${o.cidade||""} ${o.estado||""}`.trim()),o!=null&&(a.endereco=o,a.address||(a.address=o),a.local||(a.local=o));const i=t.especialidade??t.especialidade_id??t.especialidade_nome??t.especialidade_label??t.especialidade_obj;if(i!=null){if(typeof i=="number")a.especialidade_id=i;else if(typeof i=="string")a.especialidade=i,a.especialidade_nome=i,a.especialidade_label=i;else if(typeof i=="object"){const w=i.nome||i.label||i.titulo,y=i.id;y!=null&&(a.especialidade_id=y),w&&(a.especialidade=w,a.especialidade_nome=w,a.especialidade_label=w)}}let c=null;try{c=await this._resolveMedicoId()}catch{}const d="/medicos/",p=d.endsWith("/")?d:`${d}/`,u=[],g="".trim();g&&u.push(g),u.push(`${p}me/`),c&&u.push(`${p}${c}/`),c&&u.push(`${p}${c}/perfil/`),u.push(`${p}me/perfil/`),u.push("/perfil-medico/"),u.push("/perfil/medico/"),u.push("/perfis/medico/"),u.push("/profiles/medico/"),u.push("/api/perfil-medico/"),u.push("/api/perfil/medico/");let f=null;for(const w of u){if(!w)continue;const y=w.endsWith("/")?w:`${w}/`,j=["patch","put","post"];for(const N of j)try{const{data:P}=await ue[N](y,a);return P}catch(P){const C=(v=P==null?void 0:P.response)==null?void 0:v.status;if(C===401)throw P;if(C===404){f=P;break}if(C===405){f=P;continue}if(C&&[400,422].includes(C))throw P;f=P;break}}throw f||new Error("Falha ao atualizar dados do mdico: nenhum endpoint compatvel.")},async signDocumento(t,a={}){var N,P,C,_,E;let r;if(t instanceof FormData)r=t;else if(t&&t.name)r=new FormData,r.append("file",t),r.append("documento",t),r.append("pdf",t);else throw new Error("Parmetro invlido:  esperado FormData ou File PDF.");const o=a.reason||a.motivo,i=a.location||a.local;o&&(r.append("reason",o),r.append("motivo",o)),i&&(r.append("location",i),r.append("local",i));let c=null,d=null;r instanceof FormData&&(c=r.get("pfx")||r.get("certificado")||r.get("pkcs12"),d=r.get("pfx_password")||r.get("senha")||r.get("password"));const p=a&&a.pfxFile instanceof File?a.pfxFile:c,u=(typeof(a==null?void 0:a.pfxPassword)=="string"?a.pfxPassword.trim():"")||(typeof d=="string"?d:"");if(!(p instanceof File))throw new Error("Certificado digital (.pfx/.p12)  obrigatrio para assinatura.");if(!u)throw new Error("Senha do certificado PFX/P12  obrigatria para assinatura.");r.append("pfx",p),r.append("certificado",p),r.append("pkcs12",p),r.append("pfx_password",u),r.append("senha",u),r.append("password",u),r.append("no_persist","true"),r.append("ephemeral","true");const g=(a==null?void 0:a.receitaId)||(a==null?void 0:a.receita_id)||(a==null?void 0:a.id);g&&(r.append("receita",g),r.append("receita_id",g),r.append("id",g));const f=[],h="".trim();h&&f.push(h);const v="/medicos/",w=v.endsWith("/")?v:`${v}/`;f.push("/api/assinatura/assinar/"),f.push("/assinatura/assinar/"),f.push("/documentos/assinar/"),f.push("/receitas/assinar/"),f.push(`${w}me/assinar/`),f.push(`${w}assinar/`);let y=null;try{y=await this._resolveMedicoId()}catch{}y&&(f.push(`${w}${y}/assinar/`),f.push(`${w}${y}/assinatura/`));let j=null;for(const k of f){if(!k)continue;const A=k.endsWith("/")?k:`${k}/`,T=["post","put"];for(const R of T)try{const I=await ue[R](A,r,{responseType:"blob"}),L=((N=I.headers)==null?void 0:N["content-disposition"])||((C=(P=I.headers)==null?void 0:P.get)==null?void 0:C.call(P,"content-disposition"));let U="documento_assinado.pdf";if(L){const z=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(L);U=decodeURIComponent((z==null?void 0:z[1])||(z==null?void 0:z[2])||U)}const K=new Blob([I.data],{type:((_=I.headers)==null?void 0:_["content-type"])||"application/pdf"});return{filename:U,blob:K}}catch(I){const L=(E=I==null?void 0:I.response)==null?void 0:E.status;if(L===404){j=I;break}if(L===405){j=I;continue}if(L===401||L&&[400,422].includes(L))throw I;j=I;break}}throw j||new Error("Falha ao assinar documento: nenhum endpoint compatvel.")},async atualizarReceita(t,a={}){var u;if(!t)throw new Error("ID da receita  obrigatrio para atualizao.");const r={...a};a.assinada!==void 0&&(r.assinada=!!a.assinada,r.signed=r.signed??r.assinada,r.status=r.assinada?"assinada":r.status||"emitida"),a.hash_alg&&(r.hash_alg=a.hash_alg,r.hash_algorithm=a.hash_algorithm||a.hash_alg,r.algoritmo_hash=a.algoritmo_hash||a.hash_alg),a.hash_pre&&(r.hash_pre=a.hash_pre,r.pre_hash=a.pre_hash||a.hash_pre),a.hash_signed&&(r.hash_signed=a.hash_signed,r.signed_hash=a.signed_hash||a.hash_signed),a.motivo&&(r.motivo=a.motivo),a.observacoes&&(r.observacoes=a.observacoes);const o="/receitas/",i=o.endsWith("/")?o:`${o}/`,c=[],d="".trim();d&&c.push(d.replace(/\/?$/,"/")),c.push(`${i}${t}/`),c.push(`${i}${t}/update/`),c.push(`${i}${t}/editar/`),c.push(`/api/receitas/${t}/`),c.push(`/receitas/${t}/`);let p=null;for(const g of c){if(!g)continue;const f=g.endsWith("/")?g:`${g}/`,h=["patch","put","post"];for(const v of h)try{const{data:w}=await ue[v](f,r);return w}catch(w){const y=(u=w==null?void 0:w.response)==null?void 0:u.status;if(y===401)throw w;if(y===404){p=w;break}if(y===405){p=w;continue}if(y&&[400,422].includes(y))throw w;p=w;break}}throw p||new Error("Falha ao atualizar receita: nenhum endpoint compatvel.")},async registrarAuditoriaAssinatura(t={}){var g;const a=ht.getCurrentUser()||await ht.refreshCurrentUser(),r=a==null?void 0:a.id;let o=null;try{o=await this._resolveMedicoId()}catch{}const i={...t};r&&(i.usuario=i.usuario||r,i.usuario_id=i.usuario_id||r,i.user=i.user||r,i.user_id=i.user_id||r),o&&(i.medico=i.medico||o,i.medico_id=i.medico_id||o),i.tipo=i.tipo||"assinatura_receita",i.event=i.event||i.tipo,i.assinada=i.assinada??!0,i.timestamp=i.timestamp||new Date().toISOString();const c="/auditoria/assinaturas/",p=[c.endsWith("/")?c:`${c}/`,"/api/auditoria/assinaturas/","/logs/assinatura/","/auditoria/receitas/","/audit/assinaturas/"];let u=null;for(const f of p){const h=f.endsWith("/")?f:`${f}/`;try{const{data:v}=await ue.post(h,i);return v}catch(v){const w=(g=v==null?void 0:v.response)==null?void 0:g.status;if(w===401)throw v;if(w===404||w===405){u=v;continue}if(w&&[400,422].includes(w))throw v;u=v}}throw u||new Error("Falha ao registrar auditoria de assinatura: nenhum endpoint compatvel.")}},TP=Object.freeze(Object.defineProperty({__proto__:null,medicoService:it},Symbol.toStringTag,{value:"Module"}));function MP(){const{data:t,loading:a}=lb(()=>it.getDashboard());if(a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((c,d)=>e.jsxs(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm animate-pulse",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-20 bg-gradient-to-r from-slate-200 to-slate-300 rounded"}),e.jsx("div",{className:"h-4 w-4 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]}),e.jsxs(le,{children:[e.jsx("div",{className:"h-8 w-16 bg-gradient-to-r from-slate-200 to-slate-300 rounded mb-2"}),e.jsx("div",{className:"h-3 w-24 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]})]},d))})})});const r=t||{consultas_hoje:5,pacientes_ativos:127,prontuarios:89,exames_pendentes:9,variacao_consultas:2,novos_pacientes_semana:5,proximas_consultas:[],pacientes_recentes:[]},o=c=>{try{const d=new Date(c);if(!isNaN(d.getTime()))return d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof c=="string"&&/^\d{2}:\d{2}/.test(c))return c.slice(0,5)}catch{}return"-"},i=Array.isArray(r.proximas_consultas)?r.proximas_consultas:[];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6 space-y-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(xt,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard Mdico"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Bem-vindo de volta! Gerencie suas consultas e pacientes."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ye,{className:"h-5 w-5 text-blue-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Hoje"})]}),e.jsx("div",{className:"text-2xl font-bold",children:r.consultas_hoje})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ds,{className:"h-5 w-5 text-green-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pacientes"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-300",children:r.pacientes_ativos})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(os,{className:"h-5 w-5 text-purple-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pronturios"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-300",children:r.prontuarios})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Hs,{className:"h-5 w-5 text-amber-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),e.jsx("div",{className:"text-2xl font-bold text-amber-300",children:r.exames_pendentes})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.jsxs(te,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200 dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50",children:[e.jsx(Nc,{className:"h-4 w-4 mr-2"}),"Ver Agenda"]}),e.jsxs(te,{className:"bg-white text-blue-600 hover:bg-blue-50 transition-all duration-200 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Nova Consulta"]}),e.jsxs(te,{variant:"outline",className:"bg-white/10 hover:bg-white/20 text-white border-white/30 backdrop-blur-sm dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50",children:[e.jsx(ai,{className:"h-4 w-4 mr-2"}),"Relatrios"]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{className:"border-0 shadow-xl bg-gradient-to-br from-blue-50 to-blue-100 hover:shadow-2xl transition-all duration-300 group",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(xe,{className:"text-sm font-semibold text-blue-700 group-hover:text-blue-800 transition-colors",children:"Consultas Hoje"}),e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg group-hover:bg-blue-600 transition-colors",children:e.jsx(Ye,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 mb-2",children:r.consultas_hoje}),e.jsxs("p",{className:"text-sm text-blue-600 flex items-center gap-1",children:[e.jsx(ro,{className:"h-3 w-3"}),"+",r.variacao_consultas," desde ontem"]})]})]}),e.jsxs(ie,{className:"border-0 shadow-xl bg-gradient-to-br from-green-50 to-emerald-100 hover:shadow-2xl transition-all duration-300 group",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(xe,{className:"text-sm font-semibold text-green-700 group-hover:text-green-800 transition-colors",children:"Pacientes Ativos"}),e.jsx("div",{className:"p-2 bg-green-500 rounded-lg group-hover:bg-green-600 transition-colors",children:e.jsx(ds,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 mb-2",children:r.pacientes_ativos}),e.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[e.jsx(oC,{className:"h-3 w-3"}),"+",r.novos_pacientes_semana," esta semana"]})]})]}),e.jsxs(ie,{className:"border-0 shadow-xl bg-gradient-to-br from-purple-50 to-purple-100 hover:shadow-2xl transition-all duration-300 group",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(xe,{className:"text-sm font-semibold text-purple-700 group-hover:text-purple-800 transition-colors",children:"Pronturios"}),e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg group-hover:bg-purple-600 transition-colors",children:e.jsx(os,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 mb-2",children:r.prontuarios}),e.jsx("p",{className:"text-sm text-purple-600",children:"Registros mdicos"})]})]}),e.jsxs(ie,{className:"border-0 shadow-xl bg-gradient-to-br from-amber-50 to-orange-100 hover:shadow-2xl transition-all duration-300 group",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(xe,{className:"text-sm font-semibold text-amber-700 group-hover:text-amber-800 transition-colors",children:"Exames Pendentes"}),e.jsx("div",{className:"p-2 bg-amber-500 rounded-lg group-hover:bg-amber-600 transition-colors",children:e.jsx(Hs,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-amber-900 mb-2",children:r.exames_pendentes}),e.jsx("p",{className:"text-sm text-amber-600",children:"Aguardando anlise"})]})]})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[e.jsxs(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(rt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Prximas Consultas"}),e.jsx(Qe,{className:"text-slate-600",children:"Agenda do dia"})]})]}),e.jsxs(te,{variant:"outline",size:"sm",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:[e.jsx(ya,{className:"h-4 w-4 mr-2"}),"Ver Todas"]})]})}),e.jsx(le,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:i.length>0?i.slice(0,5).map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl border border-slate-200/50 hover:shadow-md transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:e.jsx(ec,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:c.paciente_nome}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"h-3 w-3"}),o(c.data_hora)]}),e.jsx(ft,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:c.tipo||"Consulta"})]})]})]}),e.jsx(te,{variant:"outline",size:"sm",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:"Ver Detalhes"})]},d)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(Ye,{className:"h-8 w-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhuma consulta agendada"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Sua agenda est livre para hoje"})]})})})]}),e.jsxs(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-green-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ds,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Pacientes Recentes"}),e.jsx(Qe,{className:"text-slate-600",children:"ltimas interaes"})]})]}),e.jsx(Ke,{to:"/medico/meus-pacientes",children:e.jsxs(te,{variant:"outline",size:"sm",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:[e.jsx(ya,{className:"h-4 w-4 mr-2"}),"Ver Todos"]})})]})}),e.jsx(le,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:r.pacientes_recentes&&r.pacientes_recentes.length>0?r.pacientes_recentes.slice(0,5).map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-green-50 rounded-xl border border-slate-200/50 hover:shadow-md transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg group-hover:bg-green-200 transition-colors",children:e.jsx(ds,{className:"h-4 w-4 text-green-600"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:c.nome}),e.jsxs("p",{className:"text-sm text-slate-600",children:["ltima consulta: h ",c.dias_ultima_consulta," dias"]})]})]}),e.jsx(te,{variant:"outline",size:"sm",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:"Ver Perfil"})]},d)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(ds,{className:"h-8 w-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhum paciente recente"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Pacientes aparecero aqui aps as consultas"})]})})})]})]})]})}function DP(){const[t,a]=x.useState(!0),[r,o]=x.useState([]),[i,c]=x.useState(""),[d,p]=x.useState("todos");x.useEffect(()=>{let g=!0;return(async()=>{var f;try{const h=await it.getPerfil(),v=(h==null?void 0:h.id)||((f=h==null?void 0:h.medico)==null?void 0:f.id);if(v){const w=await it.getPacientesVinculados(v);g&&o(Array.isArray(w)?w:[])}else g&&o([])}catch{g&&o([])}finally{g&&a(!1)}})(),()=>{g=!1}},[]);const u=r.filter(g=>{var w;const f=(g!=null&&g.user?[g.user.first_name,g.user.last_name].filter(Boolean).join(" ").trim():(g==null?void 0:g.nome)||"").toLowerCase(),h=!i||f.includes(i.toLowerCase()),v=d==="todos"||d===((w=g==null?void 0:g.user)!=null&&w.is_active?"ativo":"inativo");return h&&v});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Meus Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Liste e gerencie seus pacientes ativos"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Es,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar pacientes...",className:"pl-10",value:i,onChange:g=>c(g.target.value)})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Ct,{children:[e.jsx(wt,{className:"w-[180px]",children:e.jsx(_t,{placeholder:"Filtrar por status"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"ativo",children:"Ativo"}),e.jsx(Se,{value:"inativo",children:"Inativo"})]})]}),e.jsxs(te,{children:[e.jsx(Es,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsxs(te,{variant:"outline",children:[e.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Filtrar"]})]})]}),t?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((g,f)=>e.jsx(ie,{children:e.jsxs(le,{className:"p-6 space-y-4",children:[e.jsx("div",{className:"h-6 w-40 bg-muted animate-pulse rounded"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"})]})]})},f))}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:u.map(g=>{var v,w;const f=(g==null?void 0:g.id)||((v=g==null?void 0:g.user)==null?void 0:v.id),h=g!=null&&g.user?[g.user.first_name,g.user.last_name].filter(Boolean).join(" ").trim():(g==null?void 0:g.nome)||`Paciente ${f}`;return e.jsx(ie,{children:e.jsxs(le,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-xl font-semibold",children:((w=h==null?void 0:h[0])==null?void 0:w.toUpperCase())||"P"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:h}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",f]})]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:(g==null?void 0:g.condicoes_cronicas)&&e.jsx(ft,{variant:"outline",className:"bg-primary/5",children:g.condicoes_cronicas})}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[e.jsx(te,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(Ke,{to:`/medico/paciente/${f}/perfil`,children:[e.jsx(ss,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]})}),e.jsx(te,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(Ke,{to:`/medico/paciente/${f}/prontuario`,children:[e.jsx(os,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Pronturio"})]})}),e.jsx(te,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(Ke,{to:`/medico/paciente/${f}/iniciar-consulta`,children:[e.jsx(Ye,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Consulta"})]})})]})]})},f)})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Mostrando 6 de 24 pacientes"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),e.jsx(te,{variant:"outline",size:"sm",className:"bg-primary/5",children:"1"}),e.jsx(te,{variant:"outline",size:"sm",children:"2"}),e.jsx(te,{variant:"outline",size:"sm",children:"3"}),e.jsx(te,{variant:"outline",size:"sm",children:"4"}),e.jsx(te,{variant:"outline",size:"sm",children:"Prximo"})]})]})]})}function OP(){const[t,a]=x.useState(!0),[r,o]=x.useState(!0),[i,c]=x.useState([]),[d,p]=x.useState([]);x.useEffect(()=>{let h=!0;return(async()=>{var v;try{const w=await it.getPerfil(),y=(w==null?void 0:w.id)||((v=w==null?void 0:w.medico)==null?void 0:v.id);if(!y){h&&(c([]),p([]));return}try{const j=await it.getConsultasHoje(y);h&&c(Array.isArray(j)?j:(j==null?void 0:j.results)||[])}finally{h&&a(!1)}try{const j=await it.getConsultasDoMedico(),N=Array.isArray(j)?j:Array.isArray(j==null?void 0:j.results)?j.results:[];h&&p(N)}finally{h&&o(!1)}}catch{h&&(c([]),p([]),a(!1),o(!1))}})(),()=>{h=!1}},[]);const u=h=>{var w,y;const v=(w=h==null?void 0:h.paciente)==null?void 0:w.user;return v?[v.first_name,v.last_name].filter(Boolean).join(" ").trim():(h==null?void 0:h.paciente_nome)||((y=h==null?void 0:h.paciente)==null?void 0:y.nome)||"Paciente"},g=h=>{try{const v=new Date(h);if(!isNaN(v))return v.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof h=="string"&&/^\d{2}:\d{2}/.test(h))return h.slice(0,5)}catch{}return"--:--"},f=h=>{try{const v=new Date(h);if(!isNaN(v))return v.toLocaleDateString()}catch{}return""};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua agenda de consultas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Es,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar consultas...",className:"pl-10 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Ct,{children:[e.jsx(wt,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:e.jsx(_t,{placeholder:"Filtrar por status"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"confirmado",children:"Confirmado"}),e.jsx(Se,{value:"pendente",children:"Pendente"}),e.jsx(Se,{value:"cancelado",children:"Cancelado"})]})]}),e.jsx(fe,{type:"date",className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200"}),e.jsxs(te,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]})]}),e.jsxs(Va,{defaultValue:"hoje",children:[e.jsxs(Ha,{children:[e.jsx(St,{value:"hoje",children:"Hoje"}),e.jsx(St,{value:"amanha",children:"Amanh"}),e.jsx(St,{value:"semana",children:"Esta Semana"}),e.jsx(St,{value:"todas",children:"Todas"})]}),e.jsx(Ot,{value:"hoje",children:e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Consultas para hoje, ",new Date().toLocaleDateString()]})}),e.jsx(le,{children:t?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,v)=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 w-1/3 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-3 w-1/4 bg-muted animate-pulse rounded"})]}),e.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded"})]},v))}):e.jsx("div",{className:"space-y-4",children:i.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma consulta para hoje."}):i.map(h=>{var y,j,N;const v=h.id,w=((y=h==null?void 0:h.paciente)==null?void 0:y.id)||(h==null?void 0:h.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((N=(j=u(h))==null?void 0:j[0])==null?void 0:N.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:u(h)}),w&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",w]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[g(h==null?void 0:h.data_hora)," ",f(h==null?void 0:h.data_hora)?`(${f(h==null?void 0:h.data_hora)})`:""]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[w&&e.jsx(te,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Ke,{to:`/medico/paciente/${w}/perfil`,children:"Perfil"})}),w&&e.jsx(te,{size:"sm",asChild:!0,children:e.jsx(Ke,{to:`/medico/paciente/${w}/iniciar-consulta`,children:"Atender"})})]})]},v)})})})]})}),e.jsx(Ot,{value:"amanha",children:e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Consultas para amanh, ",new Date(Date.now()+864e5).toLocaleDateString()]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(70+h),"M"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",h+5]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100050+h]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${8+h}:00`," - ",`${9+h}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:h%2===0?"Primeira consulta":"Retorno"}),h===1?e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Aguardando confirmao"}):e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(te,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Ke,{href:`/medico/paciente/${100050+h}/perfil`,children:"Perfil"})}),e.jsx(te,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},h))})})]})}),e.jsx(Ot,{value:"semana",children:e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Consultas para esta semana"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3",children:new Date(Date.now()+h*2*864e5).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),e.jsx("div",{className:"space-y-4",children:[1,2].map(v=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(64+h+v),"L"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",h*10+v]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100100+h*10+v]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${9+v}:00`," - ",`${10+v}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:v%2===0?"Primeira consulta":"Retorno"}),e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(te,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Ke,{href:`/medico/paciente/${100100+h*10+v}/perfil`,children:"Perfil"})}),e.jsx(te,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},`${h}-${v}`))})]},h))})})]})}),e.jsx(Ot,{value:"todas",children:e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Todas as Consultas"]})}),e.jsx(le,{children:r?e.jsx("div",{className:"space-y-4",children:[...Array(4)].map((h,v)=>e.jsx("div",{className:"h-16 w-full bg-muted animate-pulse rounded"},v))}):e.jsx("div",{className:"space-y-4",children:d.map(h=>{var y,j,N;const v=h.id,w=((y=h==null?void 0:h.paciente)==null?void 0:y.id)||(h==null?void 0:h.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((N=(j=u(h))==null?void 0:j[0])==null?void 0:N.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:u(h)}),w&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",w]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ye,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:f(h==null?void 0:h.data_hora)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(rt,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:g(h==null?void 0:h.data_hora)})]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[w&&e.jsx(te,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Ke,{to:`/medico/paciente/${w}/perfil`,children:"Perfil"})}),e.jsx(te,{variant:"ghost",size:"sm",children:"Detalhes"})]})]},v)})})})]})})]})]})}function Tf({patientId:t,isPacienteView:a=!0,profile:r,patient:o,loading:i=!1}){var y;const c=j=>j?cC(j.replace(/_/g," ")):"",d=(r==null?void 0:r.nome)&&r.nome.trim()||[r==null?void 0:r.first_name,r==null?void 0:r.last_name].filter(Boolean).join(" ")||c(r==null?void 0:r.username)||"Usurio",p=((y=d==null?void 0:d.trim())==null?void 0:y.split(" ").filter(Boolean).slice(0,2).map(j=>{var N;return(N=j[0])==null?void 0:N.toUpperCase()}).join(""))||"?",u=j=>{if(!j)return null;const N=new Date(j);if(Number.isNaN(N.getTime()))return null;const P=new Date;let C=P.getFullYear()-N.getFullYear();const _=P.getMonth()-N.getMonth(),E=P.getDate()-N.getDate();(_<0||_===0&&E<0)&&C--;let k=new Date(P.getFullYear(),N.getMonth(),N.getDate());k>P&&(k=new Date(P.getFullYear()-1,N.getMonth(),N.getDate()));const A=1440*60*1e3,T=Math.floor((P-k)/A);return`${C} anos e ${T} dias`},g=(r==null?void 0:r.data_nascimento)||(o==null?void 0:o.data_nascimento)||null,f=u(g),h=(o==null?void 0:o.tipo_sanguineo)||(r==null?void 0:r.tipo_sanguineo)||"",v=(o==null?void 0:o.alergias)??(r==null?void 0:r.alergias),w=Array.isArray(v)?alergiesRaw.length?v.join(", "):"":v||"";return i?e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900",children:e.jsx(le,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(at,{className:"h-20 w-20 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(at,{className:"h-6 w-48"}),e.jsx(at,{className:"h-4 w-32"})]})]})})}),e.jsx(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20",children:e.jsx(le,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(at,{className:"h-16 w-full"}),e.jsx(at,{className:"h-16 w-full"}),e.jsx(at,{className:"h-16 w-full"})]})})})]}):e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 hover:shadow-xl transition-all duration-300",children:e.jsx(le,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(yi,{className:"h-20 w-20 ring-4 ring-white/50 shadow-lg",children:[e.jsx(Hc,{src:r==null?void 0:r.avatar,alt:d}),e.jsx(bi,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-2xl font-bold",children:p})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1.5 shadow-lg",children:e.jsx(ss,{className:"h-3 w-3 text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-1",children:d}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(ft,{variant:a?"default":"secondary",className:"text-xs font-medium",children:a?"Paciente":`ID: ${t||(r==null?void 0:r.id)||"-"}`})})]})]})})}),e.jsx(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 hover:shadow-xl transition-all duration-300",children:e.jsxs(le,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:e.jsx(ss,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})}),e.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Idade"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:f||""})]}),e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-full",children:e.jsx(BS,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})}),e.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Tipo Sanguneo"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:h})]}),e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/50 rounded-full",children:e.jsx(ec,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})})}),e.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Alergias"}),e.jsx("p",{className:"text-xs font-bold text-slate-900 dark:text-slate-100 truncate",title:w,children:w})]})]}),!a&&e.jsx("div",{className:"mt-6 pt-4 border-t border-white/20",children:e.jsx(te,{size:"sm",asChild:!0,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(Ke,{to:`/medico/paciente/${t||(r==null?void 0:r.id)}/iniciar-consulta`,children:"Iniciar Consulta"})})})]})})]})}function $P(){const{id:t}=eo(),a=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Pronturio",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie as informaes do paciente"})]}),e.jsx(Tf,{patientId:t,isPacienteView:!1}),e.jsx(ca,{tabs:a,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-5 w-5"}),"Informaes Pessoais"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nome"}),e.jsx("p",{className:"text-muted-foreground",children:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Data de Nascimento"}),e.jsx("p",{className:"text-muted-foreground",children:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"CPF"}),e.jsx("p",{className:"text-muted-foreground",children:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsx("p",{className:"text-muted-foreground",children:""})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Endereo"}),e.jsx("p",{className:"text-muted-foreground",children:""})]})]})})})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5"}),"Resumo Mdico"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguneo"}),e.jsx("p",{children:"O+"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:"Penicilina, Amendoim"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condies Crnicas"}),e.jsx("p",{children:"Hipertenso"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),e.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[[1,2,3].map(r=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Consulta de Rotina"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-r*30*864e5).toLocaleDateString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dr. Carlos Oliveira"})]}),e.jsx(te,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(Ke,{to:`/medico/paciente/${t}/consultas`,children:"Ver"})})]},r)),e.jsx(te,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Ke,{to:`/medico/paciente/${t}/consultas`,children:"Ver Todas"})})]})})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(ia,{className:"h-5 w-5"}),"Exames Recentes"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[[1,2,3].map(r=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Hemograma Completo"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-r*7*864e5).toLocaleDateString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitado por: Dr. Ana Souza"})]}),e.jsx(te,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(Ke,{to:`/medico/paciente/${t}/exames`,children:"Ver"})})]},r)),e.jsx(te,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Ke,{to:`/medico/paciente/${t}/exames`,children:"Ver Todos"})})]})})]})]})]})}function LP(){const{id:t}=eo(),a=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Pronturio",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pronturio do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Histrico mdico completo"})]}),e.jsx(Tf,{patientId:t,isPacienteView:!1}),e.jsx(ca,{tabs:a,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5"}),"Informaes Gerais"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguneo"}),e.jsx("p",{children:"O+"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:"Penicilina, Amendoim"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condies Crnicas"}),e.jsx("p",{children:"Hipertenso"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),e.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(r=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"font-medium",children:"Dr. Carlos Oliveira"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Cardiologia"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-r*30*864e5).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diagnstico"}),e.jsx("p",{children:"Hipertenso Arterial Estgio 1"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conduta"}),e.jsx("p",{children:"Manuteno da medicao atual. Recomendao de atividade fsica regular e reduo do consumo de sal."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Exames Solicitados"}),e.jsx("p",{children:"Hemograma completo, Perfil lipdico, Funo renal"})]})]},r))})})]})]})]})}function IP({params:t}){const{id:a}=t,r=[{label:"Resumo",href:`/medico/paciente/${a}/perfil`},{label:"Pronturio",href:`/medico/paciente/${a}/prontuario`},{label:"Consultas",href:`/medico/paciente/${a}/consultas`},{label:"Exames",href:`/medico/paciente/${a}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${a}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie exames do paciente"})]}),e.jsx(Tf,{patientId:a,isPacienteView:!1}),e.jsx(ca,{tabs:r,basePath:`/medico/paciente/${a}`}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Es,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar exames...",className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Ct,{children:[e.jsx(wt,{className:"w-[180px]",children:e.jsx(_t,{placeholder:"Tipo de exame"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"laboratoriais",children:"Laboratoriais"}),e.jsx(Se,{value:"imagem",children:"Imagem"}),e.jsx(Se,{value:"cardio",children:"Cardiolgicos"})]})]}),e.jsxs(te,{children:[e.jsx(ia,{className:"mr-2 h-4 w-4"}),"Solicitar Exame"]})]})]}),e.jsxs(Va,{defaultValue:"todos",children:[e.jsxs(Ha,{className:"grid w-full grid-cols-4",children:[e.jsx(St,{value:"todos",children:"Todos"}),e.jsx(St,{value:"pendentes",children:"Pendentes"}),e.jsx(St,{value:"realizados",children:"Realizados"}),e.jsx(St,{value:"solicitados-por-mim",children:"Solicitados por Mim"})]}),e.jsx(Ot,{value:"realizados",children:e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(ia,{className:"h-5 w-5"}),"Exames Realizados"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-4",children:[3,4,5,6].map(o=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:o%3===0?"Hemograma Completo":o%3===1?"Perfil Lipdico":"Eletrocardiograma"}),e.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:["Solicitado por: ",o%2===0?"Dr. Carlos Oliveira":"Dra. Ana Souza"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Realizado em: ",new Date(Date.now()-o*15*864e5).toLocaleDateString()]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"rounded-full px-2 py-1 text-xs inline-flex bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Realizado"})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs(te,{variant:"outline",size:"sm",children:[e.jsx(ya,{className:"mr-2 h-4 w-4"}),"Visualizar Resultado"]}),e.jsxs(te,{variant:"outline",size:"sm",children:[e.jsx(sr,{className:"mr-2 h-4 w-4"}),"Baixar PDF"]}),e.jsxs(te,{variant:"outline",size:"sm",children:[e.jsx(ia,{className:"mr-2 h-4 w-4"}),"Solicitar Novo"]})]})]},o))})})]})}),e.jsx(Ot,{value:"solicitados-por-mim",children:e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(ia,{className:"h-5 w-5"}),"Exames Solicitados por Mim"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:o%2===0?"Hemograma Completo":"Perfil Lipdico"}),e.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:"Solicitado por: Voc"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Solicitado em: ",new Date(Date.now()-o*10*864e5).toLocaleDateString()]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"rounded-full px-2 py-1 text-xs inline-flex bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Pendente"})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs(te,{variant:"outline",size:"sm",children:[e.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Registrar Resultado"]}),e.jsx(te,{variant:"outline",size:"sm",children:"Reagendar"}),e.jsx(te,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:"Cancelar"})]})]},o))})})]})})]})]})}const Mg={async sumarizarTranscricao(t,a={}){throw new Error("VITE_GEMINI_API_KEY no configurada")}};function FP(){const{id:t}=eo(),a=Ts(),r=us(),[o,i]=x.useState(!1),{toast:c}=Jt(),[d,p]=x.useState(!1),[u,g]=x.useState({queixa:"",historia:"",medicamentos:"",alergias:"",pressao:"","frequencia-cardiaca":"",temperatura:"",saturacao:"","exame-geral":"","sistema-cardiovascular":"","sistema-respiratorio":"",diagnostico:"",conduta:"",exames:"",retorno:""}),f=F=>{const{id:V,value:Q}=F.target;g(se=>({...se,[V]:Q}))},v=new URLSearchParams(r.search).get("consultaId"),[w,y]=x.useState(""),[j,N]=x.useState(!1),[P,C]=x.useState(""),[_,E]=x.useState("unknown"),k=x.useRef(null),A=x.useRef(-1),[T,R]=x.useState(""),I=x.useRef(!1),L=x.useMemo(()=>`iniciar-consulta:${t}:${v||"sem-consulta"}`,[t,v]),U=x.useRef("");x.useEffect(()=>{U.current=T},[T]);const[K,z]=x.useState(null),[D,G]=x.useState(!1),[$,H]=x.useState("");x.useEffect(()=>{let F;return(async()=>{try{navigator.permissions&&navigator.permissions.query&&(F=await navigator.permissions.query({name:"microphone"}),E(F.state||"unknown"),F.onchange=()=>E(F.state||"unknown"))}catch{}})(),()=>{F&&(F.onchange=null)}},[]);const q=async()=>{C("");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(V=>V.stop()),E("granted"),!0}catch(F){const V=F&&(F.name||F.message)||"Permisso de microfone negada";return C(typeof V=="string"?V:"Falha ao acessar microfone"),E("denied"),!1}};x.useEffect(()=>{try{const F=localStorage.getItem(L);F&&y(F)}catch{}},[L]),x.useEffect(()=>{let F=!0;return(async()=>{var V;try{const Q="/pacientes/".replace(/\/?$/,"/"),{data:se}=await ue.get(`${Q}${t}/`);if(!F)return;z(se);const ne=(se==null?void 0:se.alergias)||"";ne&&!u.alergias&&g(ve=>({...ve,alergias:ne}))}catch(Q){console.debug("[IniciarConsulta] Falha ao buscar paciente por id:",(V=Q==null?void 0:Q.response)==null?void 0:V.status)}})(),()=>{F=!1}},[t]),x.useEffect(()=>{try{localStorage.setItem(L,w||"")}catch{}},[L,w]),x.useEffect(()=>(Y(),()=>{ee()}),[]);const Y=async()=>{try{if(!await q()){N(!1),I.current=!1;return}if(k.current){try{k.current.onend=null,k.current.onresult=null,k.current.onerror=null,k.current.stop()}catch{}k.current=null}const F=window.SpeechRecognition||window.webkitSpeechRecognition;if(!F){console.warn("Reconhecimento de fala no suportado neste navegador."),C("Seu navegador no suporta reconhecimento de fala."),N(!1);return}const V=new F;V.lang="pt-BR",V.continuous=!0,V.interimResults=!0,V.maxAlternatives=1,A.current=-1,V.onresult=Q=>{let se="",ne="";for(let ve=Q.resultIndex;ve<Q.results.length;ve++){const ge=Q.results[ve],Pe=Array.from(ge,Me=>Me.transcript).join("");ge.isFinal?se+=Pe+" ":ne+=Pe}if(se){const ve=se.trim();y(ge=>{const Pe=ge?ge.endsWith(" ")?ge:ge+" ":"";return ve&&Pe.endsWith(ve)?ge:(Pe+ve).trim()})}R(ne)},V.onerror=Q=>{const se=(Q==null?void 0:Q.error)||Q;if(console.warn("Erro no reconhecimento de fala:",se),typeof se=="string"&&C(se),["audio-capture","network"].includes(se)&&I.current&&k.current===V)try{V.stop()}catch{}se==="not-allowed"&&(N(!1),I.current=!1)},V.onend=()=>{const Q=k.current===V,se=(U.current||"").trim();se&&y(ne=>{const ve=ne?ne.endsWith(" ")?ne:ne+" ":"";return ve.endsWith(se)?ne:(ve+se).trim()}),R(""),A.current=-1,I.current&&Q&&setTimeout(()=>{try{V.start()}catch{}},200)},k.current=V,I.current=!0,N(!0);try{V.start()}catch(Q){console.warn("Falha ao iniciar reconhecimento:",Q),N(!1),I.current=!1,k.current=null,C("Falha ao iniciar reconhecimento de fala.");return}}catch(F){console.warn("Falha ao iniciar reconhecimento de fala:",F),N(!1),I.current=!1,C("Falha inesperada ao iniciar microfone.")}},ee=async()=>{try{N(!1),I.current=!1,R(""),k.current&&(k.current.onend=null,k.current.onresult=null,k.current.onerror=null,k.current.stop(),k.current=null)}catch{}try{if((w||"").trim().length>0&&!d&&v){try{await it.finalizarConsulta(v)}catch{}try{const V=M(w||""),Q=await it.sumarizarConsulta(v,{transcript:w||"",extracted:{queixa:V.queixa||"",historia:V.historia||"",diagnostico:V.diagnostico||"",conduta:V.conduta||"",medicamentos:V.medicamentos||"",posologia:V.posologia||"",pressao:V.pressao||"",frequencia_cardiaca:V["frequencia-cardiaca"]||V.frequencia||"",temperatura:V.temperatura||"",saturacao:V.saturacao||""},form:{queixa_principal:u.queixa||"",historia_doenca_atual:u.historia||"",diagnostico_principal:u.diagnostico||"",conduta:u.conduta||"",medicamentos_uso:u.medicamentos||"",alergias:u.alergias||"",pressao:u.pressao||"",frequencia_cardiaca:u.frequencia||u["frequencia-cardiaca"]||"",temperatura:u.temperatura||"",saturacao:u.saturacao||""}}),se=[Q,Q==null?void 0:Q.data,Q==null?void 0:Q.result,Q==null?void 0:Q.output,Q==null?void 0:Q.summary,Q==null?void 0:Q.sumarizacao,Q==null?void 0:Q.resumo,Q==null?void 0:Q.fields].filter(Boolean),ne=(Pe,Me)=>Me.split(".").reduce((Ve,lt)=>Ve&&Ve[lt]!=null?Ve[lt]:void 0,Pe),ve=Pe=>{for(const Me of se)for(const Ve of Pe){const lt=ne(Me,Ve);if(typeof lt=="string"&&lt.trim())return lt.trim()}return""},ge={queixa:u.queixa||ve(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||V.queixa||"",historia:u.historia||ve(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||V.historia||"",medicamentos:u.medicamentos||ve(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||V.medicamentos||"",alergias:u.alergias||ve(["alergias","anamnese.alergias","allergies"])||"",diagnostico:u.diagnostico||ve(["diagnostico_principal","diagnostico","diagnosis","assessment"])||V.diagnostico||"",conduta:u.conduta||ve(["conduta","plano","plan","plan_terapeutico"])||V.conduta||"",posologia:u.posologia||ve(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||V.posologia||"",pressao:u.pressao||ve(["pressao","sinais_vitais.pressao"])||V.pressao||"","frequencia-cardiaca":u["frequencia-cardiaca"]||u.frequencia||ve(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca","fc","heart_rate"])||V["frequencia-cardiaca"]||V.frequencia||"",temperatura:u.temperatura||ve(["temperatura","sinais_vitais.temperatura"])||V.temperatura||"",saturacao:u.saturacao||ve(["saturacao","sinais_vitais.saturacao","spo2"])||V.saturacao||""};g(Pe=>({...Pe,...ge})),p(!0),c({title:"Resumo aplicado",description:"Pr-preenchimento realizado a partir da transcrio."})}catch(V){console.debug("[auto-sumarizar] falhou:",V==null?void 0:V.message)}}}catch{}};function M(F=""){var ms;const V=F.replace(/\r/g,"").trim(),Q=Et=>{const Ht=new RegExp(`(?:^|
)s*(?:${Et.join("|")})s*[:]s*([sS]*?)(?=
s*(?:Queixa|Histria|Historia|Exame|Diagn[o]stico|Conduta|Prescri|Rx|Receita)s*[:]|$)`,"i"),he=V.match(Ht);return he?he[1].trim():""},se=Q(["Queixa","Queixa Principal"])||((ms=V.split(/\n\n|\n-/)[0])==null?void 0:ms.slice(0,300))||"",ne=Q(["Histria","Historia","HDA","Histria da Doena Atual"])||"",ve=Q(["Diagnstico","Diagnostico"])||"",ge=Q(["Conduta","Plano","Plano Teraputico"])||"",Pe=Q(["Prescrio","Prescricao","Receita","Rx"])||"";let Me="",Ve="";if(Pe){const Et=Pe.split(/\n+/).map(Ht=>Ht.trim()).filter(Boolean);Et.length===1?(Me=Et[0],Ve="Conforme descrito na prescrio."):Et.length>1&&(Me=Et[0],Ve=Et.slice(1).join(" "))}if(!Me&&ge){const Et=(ge.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[a]psul|gotas).*/i)||[""])[0];Et&&(Me=Et.trim(),Ve="Conforme conduta descrita.")}const lt=(V.match(/(PA|press[a]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",yt=(V.match(/(FC|freq[u]ncia\s*card[i]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",Tt=(V.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:?c|celsius)?/i)||["","","",""])[3]||"",It=(V.match(/(sat|satura[c][a]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:se,historia:ne,diagnostico:ve,conduta:ge,medicamentos:Me,posologia:Ve,pressao:lt,"frequencia-cardiaca":yt,temperatura:Tt,saturacao:It}}const B=async()=>{const F=($||"").trim();if(!F){G(!1);return}const V=(u.alergias||"").trim(),Q=V?`${V}
${F}`:F;g(se=>({...se,alergias:Q}));try{K!=null&&K.id&&(it!=null&&it.atualizarPacienteById)&&(await it.atualizarPacienteById(K.id,{alergias:Q}),c({title:"Alergia adicionada",description:"Atualizamos o cadastro do paciente."}))}catch(se){console.debug("Falha ao atualizar alergias do paciente:",se==null?void 0:se.message),c({title:"No foi possvel salvar no cadastro",description:"A alergia foi adicionada ao formulrio apenas.",variant:"destructive"})}finally{H(""),G(!1)}},re=async F=>{var Q;F.preventDefault(),i(!0);try{ee()}catch{}const V=M(w||"");try{let se=null;if(!d)if(v){try{await it.finalizarConsulta(v)}catch{}let he=null;try{he=await it.sumarizarConsulta(v,{transcript:w||"",extracted:{queixa:V.queixa||"",historia:V.historia||"",diagnostico:V.diagnostico||"",conduta:V.conduta||"",medicamentos:V.medicamentos||"",posologia:V.posologia||""},form:{queixa_principal:u.queixa||"",historia_doenca_atual:u.historia||"",diagnostico_principal:u.diagnostico||"",conduta:u.conduta||"",medicamentos_uso:u.medicamentos||"",alergias:u.alergias||""}})}catch(Je){console.warn("Falha ao enviar dados para sumarizao:",Je)}if(!he)try{he=await Mg.sumarizarTranscricao(w||"",{queixa:V.queixa||"",historia_doenca_atual:V.historia||"",diagnostico_principal:V.diagnostico||"",conduta:V.conduta||"",medicamentos:V.medicamentos||"",posologia:V.posologia||"",alergias:u.alergias||""})}catch(Je){console.debug("[AI] Gemini indisponvel:",Je==null?void 0:Je.message)}const Ie=[he,he==null?void 0:he.data,he==null?void 0:he.result,he==null?void 0:he.output,he==null?void 0:he.summary,he==null?void 0:he.sumarizacao,he==null?void 0:he.resumo,he==null?void 0:he.fields].filter(Boolean),He=(Je,ot)=>{try{return ot.split(".").reduce((ct,gt)=>ct&&ct[gt]!==void 0?ct[gt]:void 0,Je)}catch{return}},Ee=Je=>{for(const ot of Ie)for(const ct of Je){const gt=He(ot,ct);if(gt!=null){const Mt=String(gt).trim();if(Mt)return Mt}}return""},Ze={queixa:u.queixa||Ee(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||V.queixa||"",historia:u.historia||Ee(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||V.historia||"",medicamentos:u.medicamentos||Ee(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||V.medicamentos||"",alergias:u.alergias||Ee(["alergias","anamnese.alergias","allergies"])||"",diagnostico:u.diagnostico||Ee(["diagnostico_principal","diagnostico","diagnosis","assessment"])||V.diagnostico||"",conduta:u.conduta||Ee(["conduta","plano","plan","plan_terapeutico"])||V.conduta||"",posologia:u.posologia||Ee(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||V.posologia||"",pressao:u.pressao||Ee(["pressao","sinais_vitais.pressao"])||V.pressao||"","frequencia-cardiaca":u["frequencia-cardiaca"]||Ee(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca"])||V["frequencia-cardiaca"]||"",temperatura:u.temperatura||Ee(["temperatura","sinais_vitais.temperatura"])||V.temperatura||"",saturacao:u.saturacao||Ee(["saturacao","sinais_vitais.saturacao"])||V.saturacao||""};se=Ze,g(Je=>({...Je,...Ze})),p(!0),c({title:"Resumo aplicado",description:"Campos preenchidos com a sugesto da IA. Salvando pronturio..."})}else try{const he=await Mg.sumarizarTranscricao(w||"",{queixa_principal:V.queixa||u.queixa||"",historia_doenca_atual:V.historia||u.historia||"",diagnostico_principal:V.diagnostico||u.diagnostico||"",conduta:V.conduta||u.conduta||"",medicamentos:V.medicamentos||u.medicamentos||"",posologia:V.posologia||u.posologia||"",alergias:u.alergias||""}),Ie=[he,he==null?void 0:he.data,he==null?void 0:he.result,he==null?void 0:he.output,he==null?void 0:he.summary,he==null?void 0:he.sumarizacao,he==null?void 0:he.resumo,he==null?void 0:he.fields].filter(Boolean),He=(Je,ot)=>{try{return ot.split(".").reduce((ct,gt)=>ct&&ct[gt]!==void 0?ct[gt]:void 0,Je)}catch{return}},Ee=Je=>{for(const ot of Ie)for(const ct of Je){const gt=He(ot,ct);if(gt!=null){const Mt=String(gt).trim();if(Mt)return Mt}}return""},Ze={queixa:u.queixa||Ee(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||V.queixa||"",historia:u.historia||Ee(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||V.historia||"",medicamentos:u.medicamentos||Ee(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||V.medicamentos||"",alergias:u.alergias||Ee(["alergias","anamnese.alergias","allergies"])||"",diagnostico:u.diagnostico||Ee(["diagnostico_principal","diagnostico","diagnosis","assessment"])||V.diagnostico||"",conduta:u.conduta||Ee(["conduta","plano","plan","plan_terapeutico"])||V.conduta||"",posologia:u.posologia||Ee(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||V.posologia||""};se=Ze,g(Je=>({...Je,...Ze})),p(!0),c({title:"Campos sugeridos",description:"Usamos a transcrio e a IA para preencher. Salvando pronturio..."})}catch{const Ie={queixa:u.queixa||V.queixa||"",historia:u.historia||V.historia||"",diagnostico:u.diagnostico||V.diagnostico||"",conduta:u.conduta||V.conduta||"",medicamentos:u.medicamentos||V.medicamentos||"",posologia:u.posologia||V.posologia||""};se=Ie,g(He=>({...He,...Ie})),p(!0),c({title:"Campos sugeridos",description:"Usamos a transcrio para preencher. Salvando pronturio..."})}const ne=se?{...u,...se}:u,ve={consulta_id:v,queixa_principal:(ne.queixa||V.queixa||"").trim(),historia_doenca_atual:(ne.historia||V.historia||"").trim(),diagnostico_principal:(ne.diagnostico||V.diagnostico||"").trim(),conduta:(ne.conduta||V.conduta||"").trim()};(ne.medicamentos||V.medicamentos)&&(ve.medicamentos_uso=(ne.medicamentos||V.medicamentos).trim()),ne.alergias&&(ve.alergias=ne.alergias),ne.exames&&(ve.exames_solicitados=ne.exames),ne.retorno&&(ve.data_retorno=ne.retorno);let ge=null;if(v)try{const he=await it.criarProntuario(ve);ge=(he==null?void 0:he.id)||((Q=he==null?void 0:he.data)==null?void 0:Q.id)}catch(he){console.warn("Falha ao criar pronturio:",he)}const Pe=new Date,Me=new Date(Pe.getFullYear(),Pe.getMonth(),Pe.getDate()+7),Ve=he=>String(he).padStart(2,"0"),lt=`${Me.getFullYear()}-${Ve(Me.getMonth()+1)}-${Ve(Me.getDate())}`,yt=ne.medicamentos||V.medicamentos||"",Tt=ne.posologia||V.posologia||"",It=ne.diagnostico||V.diagnostico||"",ms=ne.conduta||V.conduta||"",Et=ne.queixa||V.queixa||"",Ht=ne.historia||V.historia||"";if(v&&(yt||Tt))try{await it.criarReceita({consulta_id:v,paciente:t,paciente_id:t,medicamentos:yt,posologia:Tt,validade:lt,observacoes:"Receita gerada automaticamente a partir do resumo da consulta."})}catch(he){console.warn("Falha ao criar receita automtica:",he)}try{localStorage.removeItem(L)}catch{}a(`/medico/paciente/${t}/consulta/resumo`,{state:{resumo:{medicamentos:yt,posologia:Tt,validade:lt,diagnostico:It,conduta:ms,queixa:Et,historia:Ht},consultaId:v,prontuarioId:ge}})}catch(se){console.error("Erro ao salvar pronturio/consulta:",se);const ne=new Date,ve=new Date(ne.getFullYear(),ne.getMonth(),ne.getDate()+7),ge=ms=>String(ms).padStart(2,"0"),Pe=`${ve.getFullYear()}-${ge(ve.getMonth()+1)}-${ge(ve.getDate())}`,Me=u.medicamentos||V.medicamentos||"",Ve=u.posologia||V.posologia||"",lt=u.diagnostico||V.diagnostico||"",yt=u.conduta||V.conduta||"",Tt=u.queixa||V.queixa||"",It=u.historia||V.historia||"";a(`/medico/paciente/${t}/consulta/resumo`,{state:{resumo:{medicamentos:Me,posologia:Ve,validade:Pe,diagnostico:lt,conduta:yt,queixa:Tt,historia:It},consultaId:v}})}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nova Consulta"}),e.jsxs("p",{className:"text-muted-foreground",children:["Paciente ID: ",t,v?`  Consulta #${v}`:""]})]}),e.jsxs(ie,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0",children:[e.jsxs("div",{children:[e.jsx(xe,{children:"Transcrio de udio (tempo real)"}),e.jsx(Qe,{children:"Fale normalmente; o texto aparecer abaixo e pode ser editado."}),P&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Microfone: ",P]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`flex items-center gap-1 text-sm ${j?"text-green-600":"text-muted-foreground"}`,children:[e.jsx(IS,{className:`h-4 w-4 ${j?"animate-pulse":""}`}),j?"Ouvindo":"Pausado"]}),j?e.jsxs(te,{type:"button",variant:"outline",size:"sm",onClick:ee,children:[e.jsx(JS,{className:"h-4 w-4 mr-2"})," Pausar"]}):e.jsxs(te,{type:"button",variant:"default",size:"sm",onClick:Y,children:[e.jsx(QS,{className:"h-4 w-4 mr-2"})," Retomar"]}),e.jsx(te,{type:"button",variant:"outline",size:"sm",onClick:q,children:"Testar microfone"}),e.jsx(te,{type:"button",variant:"outline",size:"sm",onClick:()=>{ee(),setTimeout(()=>Y(),250)},children:"Resetar microfone"})]})]}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"transcript",children:"Resumo em tempo real"}),e.jsx(pt,{id:"transcript",placeholder:"O que voc ditar ser transcrito aqui. Voc pode editar livremente.",className:"min-h-[160px]",value:w,onChange:F=>y(F.target.value)}),T&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1","aria-live":"polite",children:["Ditando: ",T]})]})})]}),e.jsxs("form",{onSubmit:re,children:[e.jsxs(Va,{defaultValue:"anamnese",className:"space-y-4",children:[e.jsxs(Ha,{children:[e.jsxs(St,{value:"anamnese",className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4"}),"Anamnese"]}),e.jsxs(St,{value:"exame-fisico",className:"flex items-center gap-2",children:[e.jsx(ia,{className:"h-4 w-4"}),"Exame Fsico"]}),e.jsxs(St,{value:"diagnostico",className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-4 w-4"}),"Diagnstico"]})]}),e.jsx(Ot,{value:"anamnese",children:e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Anamnese"}),e.jsx(Qe,{children:"Registre a queixa principal e o histrico do paciente"})]}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"queixa",children:"Queixa Principal"}),e.jsx(pt,{id:"queixa",placeholder:"Descreva a queixa principal do paciente",className:"min-h-[100px]",value:u.queixa,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"historia",children:"Histria da Doena Atual"}),e.jsx(pt,{id:"historia",placeholder:"Descreva a histria da doena atual",className:"min-h-[150px]",value:u.historia,onChange:f})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"medicamentos",children:"Medicamentos em Uso"}),e.jsx(pt,{id:"medicamentos",placeholder:"Liste os medicamentos em uso",className:"min-h-[100px]",value:u.medicamentos,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"alergias",children:"Alergias"}),e.jsx(pt,{id:"alergias",placeholder:"Liste as alergias conhecidas",className:"min-h-[100px]",value:u.alergias,onChange:f}),e.jsx("div",{className:"mt-2",children:e.jsx(te,{type:"button",variant:"outline",size:"sm",onClick:()=>G(!0),children:"Adicionar alergia"})})]})]})]})]})}),e.jsx(Ot,{value:"exame-fisico",children:e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Exame Fsico"}),e.jsx(Qe,{children:"Registre os dados do exame fsico do paciente"})]}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"pressao",children:"Presso Arterial"}),e.jsx(fe,{id:"pressao",placeholder:"Ex: 120/80 mmHg",value:u.pressao,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"frequencia-cardiaca",children:"Freq. Cardaca"}),e.jsx(fe,{id:"frequencia-cardiaca",placeholder:"Ex: 75 bpm",value:u["frequencia-cardiaca"],onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"temperatura",children:"Temperatura"}),e.jsx(fe,{id:"temperatura",placeholder:"Ex: 36.5 C",value:u.temperatura,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"saturacao",children:"Saturao O2"}),e.jsx(fe,{id:"saturacao",placeholder:"Ex: 98%",value:u.saturacao,onChange:f})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"exame-geral",children:"Exame Geral"}),e.jsx(pt,{id:"exame-geral",placeholder:"Descreva o estado geral do paciente",className:"min-h-[100px]",value:u["exame-geral"],onChange:f})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"sistema-cardiovascular",children:"Sistema Cardiovascular"}),e.jsx(pt,{id:"sistema-cardiovascular",placeholder:"Descreva os achados cardiovasculares",className:"min-h-[100px]",value:u["sistema-cardiovascular"],onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"sistema-respiratorio",children:"Sistema Respiratrio"}),e.jsx(pt,{id:"sistema-respiratorio",placeholder:"Descreva os achados respiratrios",className:"min-h-[100px]",value:u["sistema-respiratorio"],onChange:f})]})]})]})]})}),e.jsx(Ot,{value:"diagnostico",children:e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Diagnstico e Conduta"}),e.jsx(Qe,{children:"Registre o diagnstico e plano teraputico"})]}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"diagnostico",children:"Diagnstico"}),e.jsx(pt,{id:"diagnostico",placeholder:"Descreva o diagnstico principal e diferenciais",className:"min-h-[100px]",value:u.diagnostico,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"conduta",children:"Conduta"}),e.jsx(pt,{id:"conduta",placeholder:"Descreva a conduta teraputica",className:"min-h-[150px]",value:u.conduta,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"exames",children:"Exames Solicitados"}),e.jsx(pt,{id:"exames",placeholder:"Liste os exames solicitados",className:"min-h-[100px]",value:u.exames,onChange:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"retorno",children:"Retorno"}),e.jsx(fe,{id:"retorno",type:"date",className:"max-w-xs",value:u.retorno,onChange:f})]})]})]})})]}),e.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-10 border-t bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx(te,{type:"button",variant:"outline",onClick:()=>a(-1),children:"Cancelar"}),e.jsx(te,{type:"submit",disabled:o,children:o?e.jsx(e.Fragment,{children:"Salvando..."}):e.jsxs(e.Fragment,{children:[e.jsx(M0,{className:"mr-2 h-4 w-4"}),d?"Salvar Pronturio":"Finalizar e Preencher com IA"]})})]})})]}),e.jsx(Si,{open:D,onOpenChange:G,children:e.jsxs(uo,{children:[e.jsxs(mo,{children:[e.jsx(fo,{children:"Adicionar alergia"}),e.jsx(Kc,{children:"Informe a alergia para adicionar ao pronturio (e ao cadastro do paciente)."})]}),e.jsxs("div",{className:"space-y-2 py-2",children:[e.jsx(me,{htmlFor:"nova-alergia",children:"Alergia"}),e.jsx(fe,{id:"nova-alergia",placeholder:"Ex.: Dipirona",value:$,onChange:F=>H(F.target.value)})]}),e.jsxs(Ci,{children:[e.jsx(te,{type:"button",variant:"outline",onClick:()=>{G(!1),H("")},children:"Cancelar"}),e.jsx(te,{type:"button",onClick:B,children:"Salvar"})]})]})})]})}function cb(){const t=new Date,a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${t.getFullYear()}-${a}-${r}`}function zP(t){if(!t)return"";const a=String(t).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(a){const[,r,o,i]=a;return`${i}/${o}/${r}`}try{return new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return t}}function BP(t){return(t===cb()?it.getConsultasHoje():it.getConsultasDoMedico({date:t})).then(o=>{const c=(d=>Array.isArray(d)?d:!d||typeof d!="object"?[]:Array.isArray(d.results)?d.results:Array.isArray(d.data)?d.data:Array.isArray(d.items)?d.items:Array.isArray(d.consultas)?d.consultas:Array.isArray(d.content)?d.content:Array.isArray(d.objects)?d.objects:[])(o);return Array.isArray(c)?c.map(d=>{var w,y,j,N,P;const p=((w=d==null?void 0:d.paciente)==null?void 0:w.user)||{},u=[p.first_name,p.last_name].filter(Boolean).join(" ")||((y=d==null?void 0:d.paciente)==null?void 0:y.nome)||(d==null?void 0:d.paciente_nome)||(d==null?void 0:d.nome_paciente)||"Paciente";let g="";const f=(d==null?void 0:d.data_hora)||(d==null?void 0:d.horario)||(d==null?void 0:d.inicio)||(d==null?void 0:d.start_time)||(d==null?void 0:d.data)||(d==null?void 0:d.inicio_previsto);if(f)try{const C=new Date(f);if(!isNaN(C.getTime()))g=C.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});else throw new Error("invalid date")}catch{const C=String(f).match(/\b(\d{2}:\d{2})\b/);g=C?C[1]:""}const h=String((d==null?void 0:d.status)||(d==null?void 0:d.situacao)||"").toLowerCase();let v="pendente";return h.includes("andamento")?v="em_andamento":h.includes("finaliz")||h.includes("conclu")||h.includes("cancel")||h.includes("faltou")?v="finalizado":v="pendente",{id:d.id||d.consulta_id||d.uuid,paciente:{id:((j=d==null?void 0:d.paciente)==null?void 0:j.id)||(d==null?void 0:d.paciente_id),nome:u.trim(),avatarUrl:((N=d==null?void 0:d.paciente)==null?void 0:N.avatar_url)||((P=d==null?void 0:d.paciente)==null?void 0:P.foto)||(d==null?void 0:d.paciente_avatar)||null},hora:g,status:v}}):[]})}function UP({status:t}){const a={pendente:"bg-amber-100 text-amber-700",em_andamento:"bg-emerald-100 text-emerald-700",finalizado:"bg-gray-100 text-gray-600"},r={pendente:"Pendente",em_andamento:"Em Andamento",finalizado:"Finalizado"};return e.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${a[t]}`,children:r[t]})}function VP({url:t,name:a}){return t?e.jsx("img",{src:t,alt:`Avatar de ${a}`,className:"h-14 w-14 rounded-full object-cover"}):e.jsxs("svg",{className:"h-14 w-14 rounded-full bg-gray-100 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":!0,children:[e.jsx("circle",{cx:"12",cy:"8",r:"4"}),e.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]})}function HP(){return e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"})]})}function qP({onRetry:t}){return e.jsxs("div",{className:"mt-10 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:["Ocorreu um erro ao carregar as consultas.",e.jsx("button",{className:"ml-3 rounded-md bg-red-600 px-3 py-1 text-white",onClick:t,children:"Tentar novamente"})]})}function WP(){return e.jsx("div",{className:"mt-12 rounded-2xl border bg-white p-10 text-center text-gray-500",children:"Nenhuma consulta encontrada para este dia."})}function GP({children:t,...a}){return e.jsx("button",{...a,className:"rounded-lg bg-blue-600 px-4 py-2 text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-200",children:t})}function Dg({children:t,...a}){return e.jsx("button",{...a,className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 shadow-sm transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:t})}function KP({consulta:t,onIniciar:a}){const r=x.useMemo(()=>{if(!t.hora)return"";try{const[i,c]=String(t.hora).split(":"),d=new Date;return d.setHours(Number(i),Number(c),0,0),d.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return t.hora}},[t.hora]),o=()=>t.status==="pendente"?e.jsx(GP,{onClick:()=>a(t),"aria-label":`Iniciar consulta de ${t.paciente.nome} s ${t.hora}`,children:"Iniciar Consulta"}):t.status==="em_andamento"?e.jsx(Dg,{disabled:!0,children:"Em Andamento"}):e.jsx(Dg,{disabled:!0,children:"Finalizado"});return e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-white p-5 shadow-md transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(VP,{url:t.paciente.avatarUrl,name:t.paciente.nome}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.paciente.nome}),e.jsx("div",{className:"mt-1 text-sm text-gray-500",children:r})]})]}),e.jsxs("div",{className:"flex flex-col items-stretch gap-3 md:flex-row md:items-center",children:[e.jsx(UP,{status:t.status}),o()]})]})}function YP(){const t=Ts(),[a,r]=x.useState(cb()),[o,i]=x.useState("todos"),[c,d]=x.useState(!0),[p,u]=x.useState(null),[g,f]=x.useState([]),h=async()=>{d(!0),u(null);try{const j=await BP(a);f(j)}catch(j){u(j)}finally{d(!1)}};x.useEffect(()=>{h()},[a]);const v=async j=>{var N;try{j!=null&&j.id&&await it.iniciarConsulta(j.id)}catch(P){console.error("Falha ao iniciar consulta no backend:",P)}finally{try{const P=j==null?void 0:j.id,C=(N=j==null?void 0:j.paciente)==null?void 0:N.id,_=P?`/medico/paciente/${C}/iniciar-consulta?consultaId=${P}`:`/medico/paciente/${C}/iniciar-consulta`;t(_)}catch{console.log("Iniciar consulta (fallback navegao)",j==null?void 0:j.id)}}},w=zP(a),y=g.filter(j=>o==="todos"?!0:j.status===o);return e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-blue-50 p-2 text-blue-600",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas de Hoje"}),e.jsx("span",{className:"text-sm text-gray-500",children:w})]}),e.jsx("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:e.jsxs("div",{className:"flex w-full gap-3 md:w-auto",children:[e.jsxs("div",{className:"relative w-full md:w-60",children:[e.jsxs("select",{value:o,onChange:j=>i(j.target.value),className:"w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[e.jsx("option",{value:"todos",children:"Filtrar por status"}),e.jsx("option",{value:"pendente",children:"Pendentes"}),e.jsx("option",{value:"em_andamento",children:"Em Andamento"}),e.jsx("option",{value:"finalizado",children:"Finalizadas"})]}),e.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.25 4.417a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),e.jsx("input",{type:"date",value:a,onChange:j=>r(j.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:w-auto"})]})}),c&&e.jsx(HP,{}),!c&&p&&e.jsx(qP,{onRetry:h}),!c&&!p&&y.length===0&&e.jsx(WP,{}),!c&&!p&&y.length>0&&e.jsx("div",{className:"mt-6 space-y-4",children:y.map(j=>e.jsx(KP,{consulta:j,onIniciar:v},j.id))})]})}function JP(){var ms,Et,Ht;const[t,a]=x.useState(!1),[r,o]=x.useState(null),[i,c]=x.useState(""),[d,p]=x.useState(null),[u,g]=x.useState(""),{id:f}=eo(),h=us(),{toast:v}=Jt(),[w,y]=x.useState(""),[j,N]=x.useState(null),P=async he=>{const Ie=await he.arrayBuffer(),He=await crypto.subtle.digest("SHA-256",Ie);return Array.from(new Uint8Array(He)).map(Ee=>Ee.toString(16).padStart(2,"0")).join("")};x.useEffect(()=>{let he=!0;async function Ie(){try{if(!t||!j){y("");return}const He=j,Ee="http://127.0.0.1:8000".replace(/\/$/,""),Ze=`/receitas/validar/${He}/`,{toDataURL:Je}=await si(async()=>{const{toDataURL:ct}=await import("./browser-BjcGmAWY.js").then(gt=>gt.b);return{toDataURL:ct}},[]),ot=await Je(`${Ee}${Ze}`,{width:196,margin:0});he&&y(ot)}catch(He){try{console.warn("[PreviewReceita] Falha ao gerar QR:",He)}catch{}he&&y("")}}return Ie(),()=>{he=!1}},[t,j,f]);const C=((ms=h.state)==null?void 0:ms.fromConsulta)||{},_=((Et=h.state)==null?void 0:Et.consultaId)||C.consultaId,E=he=>{if(!he)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(he))return he;const Ie=new Date(he);if(!isNaN(Ie)){const Ee=Ie.getFullYear(),Ze=String(Ie.getMonth()+1).padStart(2,"0"),Je=String(Ie.getDate()).padStart(2,"0");return`${Ee}-${Ze}-${Je}`}const He=String(he).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return He?`${He[3]}-${He[2]}-${He[1]}`:""},k=he=>{if(!he)return"";const Ie=new Date(he);if(isNaN(Ie))return"";const He=new Date;let Ee=He.getFullYear()-Ie.getFullYear();const Ze=He.getMonth()-Ie.getMonth(),Je=He.getDate()-Ie.getDate();(Ze<0||Ze===0&&Je<0)&&Ee--;let ot=new Date(He.getFullYear(),Ie.getMonth(),Ie.getDate());ot>He&&(ot=new Date(He.getFullYear()-1,Ie.getMonth(),Ie.getDate()));const ct=1440*60*1e3,gt=Math.floor((He-ot)/ct);return`${Ee} anos e ${gt} dias`},A=x.useMemo(()=>new Date().toLocaleDateString(),[]),T=he=>{for(const Ie of he){if(Ie==null)continue;const He=typeof Ie=="string"?Ie.trim():Ie;if(He)return typeof He=="string"?He:String(He)}return""},[R,I]=x.useState({nome_paciente:"",idade:"",rg:"",data_nascimento:"",medicamento:C.medicamentos||"",posologia:C.posologia||"",validade_receita:C.validade||"",medico:"",crm:"",endereco_consultorio:"",telefone_consultorio:"",observacoes:"",formato:"pdf",acao:"imprimir",email_paciente:"",email_medico:""}),[L,U]=x.useState(!1),[K,z]=x.useState(!0),[D,G]=x.useState(!1),{ephemeralCertFile:$,setEphemeralCertFile:H,ephemeralCertPassword:q,setEphemeralCertPassword:Y}=La(),[ee,M]=x.useState($||null),[B,re]=x.useState(q||"");x.useEffect(()=>{H(ee)},[ee,H]),x.useEffect(()=>{Y(B)},[B,Y]);const[F,V]=x.useState(null),[Q,se]=x.useState(null),[ne,ve]=x.useState({ok:!0,errors:[],expected:{medicoId:null,pacienteId:f,consultaId:_}});x.useEffect(()=>{let he=!0;async function Ie(){var He,Ee,Ze,Je,ot,ct,gt,Mt,xs,js,ys,Zs,bs,ke,Ne,Re,ut,Oe,qe,Dt,da,Ca,or,ir;z(!0);try{try{const _e=await it.getPerfil(),Z=(_e==null?void 0:_e.user)||(_e==null?void 0:_e.usuario)||{},$t=T([`${(Z==null?void 0:Z.first_name)||""} ${(Z==null?void 0:Z.last_name)||""}`.trim(),_e==null?void 0:_e.nome,_e==null?void 0:_e.nome_completo,_e==null?void 0:_e.full_name,_e==null?void 0:_e.name]),Ae=T([_e==null?void 0:_e.crm,_e==null?void 0:_e.matricula,_e==null?void 0:_e.registro,_e==null?void 0:_e.crm_numero,Z==null?void 0:Z.crm]),Qt=T([_e==null?void 0:_e.endereco_consultorio,_e==null?void 0:_e.consultorio_endereco,_e==null?void 0:_e.endereco,Z==null?void 0:Z.endereco,(He=_e==null?void 0:_e.clinica)==null?void 0:He.endereco]),Rt=T([_e==null?void 0:_e.telefone_consultorio,_e==null?void 0:_e.consultorio_telefone,_e==null?void 0:_e.telefone,Z==null?void 0:Z.telefone,Z==null?void 0:Z.phone,(Ee=_e==null?void 0:_e.clinica)==null?void 0:Ee.telefone,_e==null?void 0:_e.celular]),Pt=T([Z==null?void 0:Z.email_institucional,Z==null?void 0:Z.email,_e==null?void 0:_e.email_institucional,_e==null?void 0:_e.email,_e==null?void 0:_e.contato_email]),dt=((Ze=_e==null?void 0:_e.medico)==null?void 0:Ze.id)||(_e==null?void 0:_e.id)||null;he&&_e&&(I(rs=>({...rs,medico:$t||rs.medico,crm:Ae||rs.crm,endereco_consultorio:Qt||rs.endereco_consultorio||"",telefone_consultorio:Rt||rs.telefone_consultorio||"",email_medico:Pt||rs.email_medico||""})),ve(rs=>({...rs,expected:{...rs.expected,medicoId:dt}})))}catch{}try{const _e="/pacientes/".replace(/\/?$/,"/");let Z=null,$t=null;try{const{data:Ae}=await ue.get(`${_e}${f}/`);Z=Ae}catch{}if(!Z){const Ae=[{id:f},{paciente_id:f},{user:f},{usuario:f},{user__id:f},{usuario_id:f}];for(const Qt of Ae)try{const{data:Rt}=await ue.get(_e,{params:Qt}),Pt=Array.isArray(Rt==null?void 0:Rt.results)?Rt.results:Array.isArray(Rt)?Rt:[];if(Pt!=null&&Pt.length){Z=Pt[0];break}if(Rt!=null&&Rt.id){Z=Rt;break}}catch{}}if(!Z&&_)try{const{data:Ae}=await ue.get(`/consultas/${_}/`);$t=Ae;const Qt=(Ae==null?void 0:Ae.paciente)||(Ae!=null&&Ae.paciente_id?{id:Ae.paciente_id}:null);Qt&&(Z=Qt)}catch{}if(!Z&&(C!=null&&C.paciente)&&(Z=C.paciente),he&&Z){const Ae=(Z==null?void 0:Z.user)||(Z==null?void 0:Z.usuario)||{},Qt=T([Ae==null?void 0:Ae.display_name,`${(Ae==null?void 0:Ae.first_name)||""} ${(Ae==null?void 0:Ae.last_name)||""}`.trim(),Ae==null?void 0:Ae.nome,Ae==null?void 0:Ae.nome_completo,Z==null?void 0:Z.nome,Z==null?void 0:Z.nome_completo,Z==null?void 0:Z.name]),Rt=E((Ae==null?void 0:Ae.data_nascimento)||(Ae==null?void 0:Ae.nascimento)||(Ae==null?void 0:Ae.dob)||(Z==null?void 0:Z.data_nascimento)||(Z==null?void 0:Z.nascimento)||(Z==null?void 0:Z.dob)||"");let Pt=T([Ae==null?void 0:Ae.cpf,(Je=Ae==null?void 0:Ae.profile)==null?void 0:Je.cpf,(ot=Ae==null?void 0:Ae.meu_app_user)==null?void 0:ot.cpf,(ct=Ae==null?void 0:Ae.dados)==null?void 0:ct.cpf,Z==null?void 0:Z.cpf,(gt=Z==null?void 0:Z.profile)==null?void 0:gt.cpf,(Mt=Z==null?void 0:Z.meu_app_user)==null?void 0:Mt.cpf,(xs=Z==null?void 0:Z.dados)==null?void 0:xs.cpf,(js=Z==null?void 0:Z.usuario)==null?void 0:js.cpf,(Zs=(ys=Z==null?void 0:Z.usuario)==null?void 0:ys.profile)==null?void 0:Zs.cpf,(ke=(bs=Z==null?void 0:Z.usuario)==null?void 0:bs.meu_app_user)==null?void 0:ke.cpf,(Ne=C==null?void 0:C.paciente)==null?void 0:Ne.cpf,C==null?void 0:C.cpf,Z==null?void 0:Z.documento,Z==null?void 0:Z.doc,Z==null?void 0:Z.rg]);if(!Pt)try{let Xt=null;const lr=Ae&&typeof Ae=="object"&&Object.keys(Ae).length>0;if(typeof Ae=="number"||typeof Ae=="string"?Xt=Ae:lr&&(Xt=Ae.id||Ae.pk||Ae.user||Ae.usuario||null),Xt||(Xt=((Re=Z==null?void 0:Z.usuario)==null?void 0:Re.id)||((ut=Z==null?void 0:Z.user)==null?void 0:ut.id)||(Z==null?void 0:Z.usuario_id)||(Z==null?void 0:Z.user_id)||(typeof(Z==null?void 0:Z.usuario)=="number"||typeof(Z==null?void 0:Z.usuario)=="string"?Z.usuario:null)||(typeof(Z==null?void 0:Z.user)=="number"||typeof(Z==null?void 0:Z.user)=="string"?Z.user:null)),Xt){const Jc="/users/".replace(/\/?$/,"/"),{data:Ds}=await ue.get(`${Jc}${Xt}/`);Pt=T([Ds==null?void 0:Ds.cpf,(Oe=Ds==null?void 0:Ds.profile)==null?void 0:Oe.cpf,(qe=Ds==null?void 0:Ds.meu_app_user)==null?void 0:qe.cpf,(Dt=Ds==null?void 0:Ds.dados)==null?void 0:Dt.cpf])||Pt}}catch{}const dt=(Ae==null?void 0:Ae.email)||(Z==null?void 0:Z.email)||"",rs=Rt?k(Rt):"";I(Xt=>({...Xt,nome_paciente:Qt||Xt.nome_paciente,data_nascimento:Rt||Xt.data_nascimento,rg:Xt.rg||Pt,idade:Xt.idade||rs,email_paciente:Xt.email_paciente||dt}))}try{const Ae=dt=>dt==null?null:String(dt),Qt=[];let Rt=null,Pt=null;if($t)Rt=((da=$t==null?void 0:$t.medico)==null?void 0:da.id)||($t==null?void 0:$t.medico)||($t==null?void 0:$t.medico_id)||null,Pt=((Ca=$t==null?void 0:$t.paciente)==null?void 0:Ca.id)||($t==null?void 0:$t.paciente)||($t==null?void 0:$t.paciente_id)||null;else if(_)try{const{data:dt}=await ue.get(`/consultas/${_}/`);Rt=((or=dt==null?void 0:dt.medico)==null?void 0:or.id)||(dt==null?void 0:dt.medico)||(dt==null?void 0:dt.medico_id)||null,Pt=((ir=dt==null?void 0:dt.paciente)==null?void 0:ir.id)||(dt==null?void 0:dt.paciente)||(dt==null?void 0:dt.paciente_id)||null}catch{}Pt&&String(Pt)!==String(f)&&Qt.push("Paciente da consulta no corresponde ao paciente exibido."),ve(dt=>{var Xt,lr;const rs=(Xt=dt.expected)==null?void 0:Xt.medicoId;return rs&&Rt&&Ae(rs)!==Ae(Rt)&&Qt.push("Mdico da consulta no corresponde ao mdico logado."),{ok:Qt.length===0,errors:Qt,expected:{...dt.expected,pacienteId:f,consultaId:_,medicoId:rs||((lr=dt.expected)==null?void 0:lr.medicoId)||null}}})}catch{}}catch{}}finally{he&&z(!1)}}return Ie(),()=>{he=!1}},[f,_]);const ge=he=>{const{name:Ie,value:He}=he.target;I(Ee=>({...Ee,[Ie]:He})),t&&(a(!1),o(null),c(""),se(null),j&&it.atualizarReceita(j,{assinada:!1}).catch(()=>{}),v({title:"Assinatura invalidada",description:"A receita foi alterada. Assine novamente para validade jurdica."}))},Pe=()=>{U(!0),v({title:"Receita validada",description:"Os dados foram conferidos. Voc pode gerar o documento."})},Me=(he,Ie="Receita_Medica")=>{const He=URL.createObjectURL(he),Ee=document.createElement("a");Ee.href=He;const Ze=/\.[a-z0-9]+$/i.test(Ie);Ee.download=Ze?Ie:`${Ie}.pdf`,document.body.appendChild(Ee),Ee.click(),Ee.remove(),setTimeout(()=>URL.revokeObjectURL(He),2e3)},Ve=()=>{var he;return ne!=null&&ne.ok||v({title:"Vnculo invlido",description:((he=ne.errors)==null?void 0:he.join(` 
`))||"Verifique dados da consulta, mdico e paciente.",variant:"destructive"}),!0},lt=async()=>{var he;try{if(j)return j;const Ie=await it.getPerfil().catch(()=>null),He=((he=Ie==null?void 0:Ie.medico)==null?void 0:he.id)||(Ie==null?void 0:Ie.id)||null,Ee={paciente_id:f,consulta_id:_||void 0,medico_id:He||void 0,nome_paciente:R.nome_paciente,cpf:R.rg,data_nascimento:E(R.data_nascimento),medicamento:R.medicamento,posologia:R.posologia,validade:E(R.validade_receita),observacoes:R.observacoes,medico:R.medico,crm:R.crm,endereco_consultorio:R.endereco_consultorio,telefone_consultorio:R.telefone_consultorio,email_paciente:R.email_paciente||void 0},Ze=await it.criarReceita(Ee),Je=(Ze==null?void 0:Ze.id)||(Ze==null?void 0:Ze.receita_id)||(Ze==null?void 0:Ze.uuid);return Je&&N(Je),Je||null}catch{return j||null}},yt=async()=>{var he,Ie,He,Ee,Ze,Je;if(Ve()){G(!0);try{const ot={nome_paciente:R.nome_paciente,idade:R.idade,rg:R.rg,cpf:R.rg,data_nascimento:E(R.data_nascimento),medicamento:R.medicamento,medicamentos:R.medicamento,posologia:R.posologia,medico:R.medico,crm:R.crm,endereco_consultorio:R.endereco_consultorio,telefone_consultorio:R.telefone_consultorio,validade_receita:E(R.validade_receita),observacoes:R.observacoes},ct=await it.gerarDocumentoReceita(ot),gt=ct==null?void 0:ct.blob,Mt=(ct==null?void 0:ct.filename)||`Receita_${R.nome_paciente||"Medica"}.pdf`;if(!(gt instanceof Blob))throw new Error("Resposta invlida do servidor ao gerar PDF.");const xs=await lt();let js=gt,ys=Mt,Zs=!1;if(String(R.formato).toLowerCase()==="pdf"){if(!ee)throw v({title:"Certificado obrigatrio",description:"Selecione um arquivo de certificado (.pfx/.p12) para assinar a receita.",variant:"destructive"}),new Error("Certificado PFX/P12 ausente");if(!(B&&B.trim()))throw v({title:"Senha obrigatria",description:"Informe a senha do arquivo PFX/P12 para assinar a receita.",variant:"destructive"}),new Error("Senha do PFX/P12 ausente");const bs=xs||j||null,ke={reason:"Receita Mdica",location:R.endereco_consultorio||void 0,pfxFile:ee,pfxPassword:B.trim(),receitaId:bs||void 0,receita_id:bs||void 0};try{const Ne=new File([gt],ys,{type:"application/pdf"}),Re=await it.signDocumento(Ne,ke);(Re==null?void 0:Re.blob)instanceof Blob&&(js=Re.blob,Re.filename&&(ys=Re.filename),Zs=!0,se(new Date().toISOString()))}catch(Ne){const Re=(he=Ne==null?void 0:Ne.response)==null?void 0:he.status,ut=((He=(Ie=Ne==null?void 0:Ne.response)==null?void 0:Ie.data)==null?void 0:He.detail)||(Ne==null?void 0:Ne.message)||"Falha ao assinar o PDF da receita. Continuaremos sem assinatura.";console.warn("[PreviewReceita] Falha ao assinar PDF:",Re,ut),v({title:"Assinatura falhou",description:`${ut}${Re?` [HTTP ${Re}]`:""}`,variant:"destructive"})}}if(p(js),g(ys),Zs){a(!0),o(js),c(ys);try{const bs=await P(gt),ke=await P(js);xs&&(await it.atualizarReceita(xs,{assinada:!0,hash_alg:"SHA-256",hash_pre:bs,hash_signed:ke}),await it.registrarAuditoriaAssinatura({receita_id:xs,valido:!0,hash_alg:"SHA-256",hash_pre:bs,hash_signed:ke,motivo:"Receita Mdica",arquivo:ys}))}catch{}}else a(!1),o(null),c("");if(R.acao==="imprimir")try{const bs=URL.createObjectURL(js);if(!window.open(bs))throw new Error("Popup bloqueado pelo navegador");setTimeout(()=>URL.revokeObjectURL(bs),2e3)}catch{Me(js,ys)}else Me(js,ys);v({title:"Documento gerado",description:js===gt?"Gerado sem assinatura.":"Gerado e assinado com sucesso."})}catch(ot){const ct=(Ee=ot==null?void 0:ot.response)==null?void 0:Ee.status,gt=((Je=(Ze=ot==null?void 0:ot.response)==null?void 0:Ze.data)==null?void 0:Je.detail)||(ot==null?void 0:ot.message)||"Falha ao gerar documento";v({title:"Erro",description:`${gt}${ct?` [HTTP ${ct}]`:""}`,variant:"destructive"})}finally{G(!1)}}},Tt=async()=>{var he,Ie,He;try{if(d||await yt(),!d){v({title:"Falha ao gerar",description:"No foi possvel gerar o documento para assinatura.",variant:"destructive"});return}if(!ee){v({title:"Certificado obrigatrio",description:"Selecione um arquivo de certificado (.pfx/.p12) para assinar a receita.",variant:"destructive"});return}if(!(B&&B.trim())){v({title:"Senha obrigatria",description:"Informe a senha do arquivo PFX/P12 para assinar a receita.",variant:"destructive"});return}const Ee=j||await lt(),Ze={reason:"Assinatura de prescrio",location:R.endereco_consultorio||"",pfxFile:ee,pfxPassword:B.trim(),receitaId:Ee||void 0,receita_id:Ee||void 0},Je=new File([d],u||"receita.pdf",{type:"application/pdf"}),ot=await it.signDocumento(Je,Ze);(ot==null?void 0:ot.blob)instanceof Blob?(o(ot.blob),c(ot.filename||u||"receita_assinada.pdf"),a(!0),se(new Date().toISOString()),v({title:"Receita assinada",description:"A assinatura digital foi aplicada com sucesso."})):(a(!1),o(null),c(""),v({title:"Assinatura falhou",description:"No foi possvel aplicar a assinatura digital.",variant:"destructive"}))}catch(Ee){const Ze=(he=Ee==null?void 0:Ee.response)==null?void 0:he.status,Je=((He=(Ie=Ee==null?void 0:Ee.response)==null?void 0:Ie.data)==null?void 0:He.detail)||(Ee==null?void 0:Ee.message)||"Falha ao assinar o PDF da receita.";console.warn("[PreviewReceita] Falha ao assinar PDF:",Ze,Je),a(!1),o(null),c(""),v({title:"Assinatura falhou",description:`${Je}${Ze?` [HTTP ${Ze}]`:""}`,variant:"destructive"})}};async function It(){var he,Ie,He;if(Ve()){if(!t||!(r instanceof Blob)){v({title:"Assinatura obrigatria",description:"A receita precisa ser assinada antes do envio ao paciente.",variant:"destructive"});return}G(!0);try{const Ee=await lt(),Ze=r,Je=i||u||`Receita_${R.nome_paciente||"Medica"}_assinada.pdf`;await it.enviarReceita({receitaId:Ee||void 0,pacienteId:f,email:R.email_paciente||void 0,formato:"pdf",file:Ze,filename:Je}),v({title:"Receita enviada",description:"A receita assinada foi enviada ao paciente com sucesso."})}catch(Ee){const Ze=(he=Ee==null?void 0:Ee.response)==null?void 0:he.status,Je=((He=(Ie=Ee==null?void 0:Ee.response)==null?void 0:Ie.data)==null?void 0:He.detail)||(Ee==null?void 0:Ee.message)||"Falha ao enviar a receita assinada";v({title:"Erro ao enviar",description:`${Je}${Ze?` [HTTP ${Ze}]`:""}`,variant:"destructive"})}finally{G(!1)}}}return K?e.jsx("div",{children:"Carregando preview..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Preview da Receita"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Dados da Receita"})}),e.jsxs(le,{className:"space-y-4",children:[ne.ok?null:e.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 p-3 text-sm",children:[e.jsx("div",{className:"font-medium mb-1",children:"Inconsistncias de vnculo detectadas"}),e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:(Ht=ne.errors)==null?void 0:Ht.map((he,Ie)=>e.jsx("li",{children:he},Ie))})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Nome do Paciente"}),e.jsx(fe,{name:"nome_paciente",value:R.nome_paciente,onChange:ge,placeholder:"Joo da Silva"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Idade"}),e.jsx(fe,{name:"idade",value:R.idade,onChange:ge,placeholder:"45"})]}),e.jsxs("div",{children:[e.jsx(me,{children:"CPF"}),e.jsx(fe,{name:"rg",value:R.rg,onChange:ge,placeholder:"000.000.000-00"})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Data de Nascimento"}),e.jsx(fe,{type:"date",name:"data_nascimento",value:E(R.data_nascimento),onChange:ge})]})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Medicamentos"}),e.jsx(pt,{name:"medicamento",rows:3,value:R.medicamento,onChange:ge,placeholder:"Nome do medicamento, dose, apresentao..."})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Posologia"}),e.jsx(pt,{name:"posologia",rows:3,value:R.posologia,onChange:ge,placeholder:"Ex: 1 comprimido de 12/12h por 7 dias"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Validade da Receita"}),e.jsx(fe,{type:"date",name:"validade_receita",value:E(R.validade_receita),onChange:ge})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Formato"}),e.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"formato",value:R.formato,onChange:ge,children:[e.jsx("option",{value:"pdf",children:"PDF"}),e.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Ao"}),e.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"acao",value:R.acao,onChange:ge,children:[e.jsx("option",{value:"imprimir",children:"Imprimir"}),e.jsx("option",{value:"baixar",children:"Baixar arquivo"})]})]}),e.jsxs("div",{children:[e.jsx(me,{children:"E-mail do Paciente (opcional)"}),e.jsx(fe,{name:"email_paciente",value:R.email_paciente,onChange:ge,placeholder:"paciente@exemplo.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Mdico"}),e.jsx(fe,{name:"medico",value:R.medico,onChange:ge,placeholder:"Dr. Carlos Souza"})]}),e.jsxs("div",{children:[e.jsx(me,{children:"CRM"}),e.jsx(fe,{name:"crm",value:R.crm,onChange:ge,placeholder:"12345-SP"})]})]}),e.jsxs("div",{children:[e.jsx(me,{children:"E-mail institucional (mdico)"}),e.jsx(fe,{name:"email_medico",value:R.email_medico,onChange:ge,placeholder:"dr.carlos@hospital.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Endereo do Consultrio"}),e.jsx(fe,{name:"endereco_consultorio",value:R.endereco_consultorio,onChange:ge,placeholder:""})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Telefone"}),e.jsx(fe,{name:"telefone_consultorio",value:R.telefone_consultorio,onChange:ge,placeholder:""})]})]}),e.jsxs("div",{children:[e.jsx(me,{children:"Observaes (opcional)"}),e.jsx(pt,{name:"observacoes",rows:2,value:R.observacoes,onChange:ge,placeholder:"Orientaes adicionais ao paciente"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{children:"Arquivo PFX para assinatura (no ser salvo)"}),e.jsx(lc,{delayDuration:0,children:e.jsxs(cc,{children:[e.jsx(dc,{asChild:!0,children:e.jsx(gm,{size:16,className:"text-muted-foreground cursor-help"})}),e.jsx(ii,{side:"top",children:"Aceitamos certificados PKCS#12 (.pfx/.p12). O arquivo  usado apenas para assinar e no  persistido."})]})})]}),e.jsx(fe,{type:"file",accept:".pfx,.p12",onChange:he=>{var Ie;return M(((Ie=he.target.files)==null?void 0:Ie[0])||null)}}),ee&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selecionado: ",ee.name," (",Math.ceil(ee.size/1024)," KB)"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{children:"Senha do PFX"}),e.jsx(lc,{delayDuration:0,children:e.jsxs(cc,{children:[e.jsx(dc,{asChild:!0,children:e.jsx(gm,{size:16,className:"text-muted-foreground cursor-help"})}),e.jsx(ii,{side:"top",children:"A senha do certificado  necessria para desbloquear a chave privada e aplicar a assinatura digital."})]})})]}),e.jsx(fe,{type:"password",value:B,onChange:he=>re(he.target.value),placeholder:"Informe a senha"}),(!B||!B.trim())&&e.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatria para assinatura."}),B&&B.trim().length<4&&e.jsx("p",{className:"text-xs text-yellow-600",children:"A senha parece curta. Verifique se est correta."}),B&&B.trim()&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: em caso de erro de senha, verifique maisculas/minsculas e se o teclado est no layout correto."})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(te,{type:"button",onClick:Pe,variant:L?"secondary":"default",children:[e.jsx(Or,{className:"h-4 w-4 mr-2"})," ",L?"Validado":"Validar receita"]}),e.jsxs(te,{type:"button",onClick:yt,disabled:D,children:[e.jsx(tC,{className:"h-4 w-4 mr-2"})," ",D?R.acao==="imprimir"?"Imprimindo...":"Gerando...":R.acao==="imprimir"?"Imprimir":"Baixar"]}),e.jsx(te,{type:"button",variant:"default",onClick:Tt,disabled:D,children:"Assinar Receita"}),e.jsxs(te,{type:"button",variant:"secondary",onClick:It,disabled:D||!t,children:[e.jsx(pn,{className:"h-4 w-4 mr-2"})," Enviar ao paciente"]})]})]})]}),e.jsxs(ie,{className:"bg-white",children:[e.jsx(pe,{children:e.jsx(xe,{children:"Pr-visualizao"})}),e.jsx(le,{children:e.jsxs("div",{className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[e.jsxs("div",{className:"text-center border-b pb-3",children:[e.jsx("div",{className:"font-bold text-lg",children:"Consultrio Mdico"}),e.jsx("div",{className:"font-semibold",children:R.medico}),R.crm&&e.jsxs("div",{children:["CRM: ",R.crm]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:R.endereco_consultorio}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Telefone: ",R.telefone_consultorio]}),R.email_medico?e.jsxs("div",{className:"text-sm text-muted-foreground",children:["E-mail: ",R.email_medico]}):null]}),e.jsxs("div",{className:"text-center my-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),R.nome_paciente]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Idade: "}),R.idade]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"CPF: "}),R.rg]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),R.data_nascimento]})]}),e.jsx("div",{className:"text-center text-xl font-semibold my-4",children:"Prescrio Mdica"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:R.medicamento}),R.posologia?e.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:R.posologia}):null]}),e.jsxs("div",{className:"text-center my-6",children:[e.jsxs("div",{children:["Data de Emisso: ",A]}),e.jsxs("div",{children:["Validade da Receita: ",R.validade_receita||""]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:""}),R.medico&&e.jsxs("div",{children:["Dr(a). ",R.medico,R.crm?`  CRM ${R.crm}`:""]}),t?e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente",F!=null&&F.subject_name||F!=null&&F.nome||F!=null&&F.subject?e.jsxs(e.Fragment,{children:["  Titular: ",(F==null?void 0:F.subject_name)||(F==null?void 0:F.nome)||(F==null?void 0:F.subject)]}):null,(F!=null&&F.algorithm,e.jsxs(e.Fragment,{children:["  Algoritmo: ",(F==null?void 0:F.algorithm)||"SHA256-RSA"]})),Q?e.jsxs(e.Fragment,{children:["  Data: ",new Date(Q).toLocaleString()]}):null]}):e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]}),e.jsx("div",{className:"flex justify-center",children:t&&w?e.jsx("img",{src:w,alt:"QR Code de verificao",className:"w-24 h-24 border rounded"}):null})]})]})})]})]})]})}function QP(){var h,v,w;const{id:t}=eo(),a=us(),r=Ts();Jt();const o=((h=a.state)==null?void 0:h.resumo)||{},i=(v=a.state)==null?void 0:v.consultaId,c=(w=a.state)==null?void 0:w.prontuarioId,[d,p]=x.useState({queixa:o.queixa||"",historia:o.historia||"",diagnostico:o.diagnostico||"",conduta:o.conduta||"",medicamentos:o.medicamentos||"",posologia:o.posologia||"",validade:o.validade||""}),u=y=>{const{name:j,value:N}=y.target;p(P=>({...P,[j]:N}))},g=async()=>{var y;try{if(c)try{await((y=it.atualizarProntuario)==null?void 0:y.call(it,c,{queixa_principal:d.queixa,historia_doenca_atual:d.historia,diagnostico_principal:d.diagnostico,conduta:d.conduta,medicamentos_uso:d.medicamentos}))}catch{}}finally{r(`/medico/paciente/${t}/receita/preview`,{state:{fromConsulta:{medicamentos:d.medicamentos,posologia:d.posologia,validade:d.validade},consultaId:i}})}},f=x.useMemo(()=>new Date().toLocaleDateString(),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(GS,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Resumo da Consulta"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Informaes Principais"})}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Queixa Principal"}),e.jsx(pt,{name:"queixa",rows:3,value:d.queixa,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Histria da Doena Atual"}),e.jsx(pt,{name:"historia",rows:4,value:d.historia,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Diagnstico"}),e.jsx(pt,{name:"diagnostico",rows:3,value:d.diagnostico,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Conduta"}),e.jsx(pt,{name:"conduta",rows:3,value:d.conduta,onChange:u})]})]})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Prescrio"})}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Medicamentos"}),e.jsx(pt,{name:"medicamentos",rows:4,value:d.medicamentos,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Posologia"}),e.jsx(pt,{name:"posologia",rows:3,value:d.posologia,onChange:u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Validade da Receita"}),e.jsx("input",{type:"date",name:"validade",className:"border rounded h-10 px-3 bg-background",value:d.validade,onChange:u})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(te,{onClick:g,children:[e.jsx(VS,{className:"h-4 w-4 mr-2"})," Gerar Receita"]}),e.jsx(te,{variant:"outline",onClick:()=>r(-1),children:"Voltar"})]})]})]})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Resumo Visual"})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Data:"})," ",f]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Queixa:"})," ",d.queixa||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Histria:"})," ",d.historia||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Diagnstico:"})," ",d.diagnostico||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Conduta:"})," ",d.conduta||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Medicamentos:"})," ",d.medicamentos||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Posologia:"})," ",d.posologia||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Validade:"})," ",d.validade||"-"]})]})})]})]})}const ks={async getDashboard(){var r;const t=[];t.push("/clinicas/dashboard/");let a;for(const o of t){const i=o.endsWith("/")?o:`${o}/`;try{return console.debug("[clinicaService] GET",i),(await ue.get(i)).data}catch(c){if(((r=c==null?void 0:c.response)==null?void 0:r.status)===404){a=c;continue}throw c}}throw a||new Error("Endpoint de dashboard da clnica no encontrado.")},getCalendario:(t,a)=>ue.get(`/clinica/calendario/?mes=${t}&ano=${a}`),getExamesPorData:t=>ue.get(`/clinica/exames/?data=${t}`),getDisponibilidade:t=>ue.get(`/clinica/disponibilidade/?data=${t}`),setDisponibilidade:(t,a)=>ue.post("/clinica/disponibilidade/",{data:t,horarios:a}),updateDisponibilidade:(t,a)=>ue.put(`/clinica/disponibilidade/${t}/`,a),deleteDisponibilidade:t=>ue.delete(`/clinica/disponibilidade/${t}/`),getExames:(t={})=>ue.get("/clinica/exames/",{params:t}),createExame:t=>ue.post("/clinica/exames/",t),updateExame:(t,a)=>ue.put(`/clinica/exames/${t}/`,a),deleteExame:t=>ue.delete(`/clinica/exames/${t}/`),getTiposExame:()=>ue.get("/clinica/tipos-exame/"),getRelatorios:t=>ue.get(`/clinica/relatorios/?periodo=${t}`),getPacientes:()=>ue.get("/clinica/pacientes/"),getMedicos:()=>ue.get("/clinica/medicos/"),async vincularSecretaria(t){var p,u,g,f;if(!t)throw new Error("secretariaId  obrigatrio");let a=null;try{try{const h=await ue.get("/clinicas/me/");(p=h==null?void 0:h.data)!=null&&p.id&&(a=h.data.id)}catch{}if(!a){const h=await ue.get("/clinicas/"),v=Array.isArray((u=h.data)==null?void 0:u.results)?h.data.results:h.data;(g=v==null?void 0:v[0])!=null&&g.id&&(a=v[0].id)}}catch{}if(!a)throw new Error("No foi possvel resolver o ID da clnica.");const r="/clinicas/",o=r.endsWith("/")?r:`${r}/`,i=[`${o}${a}/secretarias/`,`${o}${a}/adicionar_secretaria/`,`${o}${a}/vincular_secretaria/`],c={secretaria:t,secretaria_id:t};let d;for(const h of i)try{return(await ue.post(h,c)).data}catch(v){const w=(f=v==null?void 0:v.response)==null?void 0:f.status;if(w===404||w===405){d=v;continue}throw v}throw d||new Error("Nenhum endpoint de vinculao de secretria encontrado para clnica.")}};function XP(){const{data:t,loading:a,error:r}=lb(ks.getDashboard);if(a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((c,d)=>e.jsxs(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm animate-pulse",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-20 bg-gradient-to-r from-slate-200 to-slate-300 rounded"}),e.jsx("div",{className:"h-4 w-4 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]}),e.jsxs(le,{children:[e.jsx("div",{className:"h-8 w-16 bg-gradient-to-r from-slate-200 to-slate-300 rounded mb-2"}),e.jsx("div",{className:"h-3 w-24 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]})]},d))})})});if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:e.jsx(le,{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Lr,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-slate-600",children:"Erro ao carregar dashboard"})]})})})})});const o=t||{examesHoje:12,examesTotais:156,pacientesAtivos:89,taxaOcupacao:85,proximosExames:[{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}],examesPendentes:5},i=({title:c,value:d,icon:p,description:u,gradient:g,iconBg:f,textColor:h,trend:v})=>e.jsx(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:`bg-gradient-to-br ${g} rounded-2xl p-6 text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full -ml-8 -mb-8"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 ${f} rounded-xl`,children:e.jsx(p,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-3xl font-bold ${h}`,children:d}),e.jsx("div",{className:"text-white/80 text-sm font-medium",children:c})]})]}),e.jsx("div",{className:"text-white/90 text-sm",children:u}),v&&e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-white/80 text-xs",children:[e.jsx(ro,{className:"h-3 w-3"}),v]})]})]})})});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 rounded-2xl p-8 text-white shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard da Clnica"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie exames, horrios e acompanhe o desempenho da clnica"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(te,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",asChild:!0,children:e.jsxs(Ke,{to:"/clinica/calendario",children:[e.jsx(Nc,{className:"h-4 w-4 mr-2"}),"Calendrio"]})}),e.jsx(te,{className:"bg-white text-blue-600 hover:bg-blue-50",asChild:!0,children:e.jsxs(Ke,{to:"/clinica/exames",children:[e.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Agendar Exame"]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(i,{title:"Exames Hoje",value:o.examesHoje,icon:Ye,description:"Exames agendados para hoje",gradient:"from-blue-500 to-blue-600",iconBg:"bg-blue-400/30",textColor:"text-white",trend:"+2 desde ontem"}),e.jsx(i,{title:"Total de Exames",value:o.examesTotais,icon:os,description:"Exames realizados este ms",gradient:"from-green-500 to-green-600",iconBg:"bg-green-400/30",textColor:"text-white"}),e.jsx(i,{title:"Pacientes Ativos",value:o.pacientesAtivos,icon:ds,description:"Pacientes cadastrados",gradient:"from-purple-500 to-purple-600",iconBg:"bg-purple-400/30",textColor:"text-white",trend:"+12% desde o ms passado"}),e.jsx(i,{title:"Taxa de Ocupao",value:`${o.taxaOcupacao}%`,icon:Hs,description:"Capacidade atual dos equipamentos",gradient:"from-orange-500 to-orange-600",iconBg:"bg-orange-400/30",textColor:"text-white"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(rt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Prximos Exames"}),e.jsx(Qe,{className:"text-slate-600",children:"Exames agendados para hoje"})]})]}),e.jsx(te,{variant:"outline",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:e.jsxs(Ke,{to:"/clinica/exames",children:["Ver todos",e.jsx(OS,{className:"h-4 w-4 ml-2"})]})})]})}),e.jsx(le,{className:"p-6",children:o.proximosExames.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(rt,{className:"h-8 w-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhum exame agendado"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"No h exames programados para hoje"})]}):e.jsx("div",{className:"space-y-4",children:o.proximosExames.map(c=>e.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[e.jsx("span",{className:"text-sm font-bold text-blue-700",children:c.horario}),e.jsx("span",{className:"text-xs text-blue-600",children:"Hoje"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900",children:c.paciente}),e.jsx("p",{className:"text-sm text-slate-600",children:c.tipo}),e.jsx(ft,{variant:c.status==="confirmado"?"default":"secondary",className:`mt-1 text-xs ${c.status==="confirmado"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:c.status})]})]}),e.jsx(te,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:e.jsx(xt,{className:"h-4 w-4"})})]})},c.id))})})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(sc,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Aes Rpidas"}),e.jsx(Qe,{className:"text-slate-600",children:"Acesso rpido s principais funcionalidades"})]})]})}),e.jsxs(le,{className:"p-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(te,{className:"w-full justify-start bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(Ke,{to:"/clinica/calendario",children:[e.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Ver Calendrio"]})}),e.jsx(te,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(Ke,{to:"/clinica/disponibilidade",children:[e.jsx(rt,{className:"mr-2 h-4 w-4"}),"Gerenciar Horrios"]})}),e.jsx(te,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(Ke,{to:"/clinica/exames",children:[e.jsx(os,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})}),e.jsx(te,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(Ke,{to:"/clinica/pacientes",children:[e.jsx(ds,{className:"mr-2 h-4 w-4"}),"Ver Pacientes"]})})]}),o.examesPendentes>0&&e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lr,{className:"h-4 w-4 text-yellow-600"}),e.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[o.examesPendentes," exames pendentes de confirmao"]})]})})]})]})})]})]})})}const ZP=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],eA=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];function tA(){const[t,a]=x.useState(new Date),[r,o]=x.useState([]),[i,c]=x.useState(null),[d,p]=x.useState({}),[u,g]=x.useState(!1),[f,h]=x.useState(!1),[v,w]=x.useState(!1),[y,j]=x.useState({paciente:"",tipo:"",hora:""}),[N,P]=x.useState([]),[C,_]=x.useState([]),[E]=B1();x.useEffect(()=>{k()},[t]),x.useEffect(()=>{(async()=>{var G,$;try{const[H,q]=await Promise.all([ks.getPacientes().catch(()=>({data:[]})),ks.getTiposExame().catch(()=>({data:[]}))]),Y=Array.isArray(H==null?void 0:H.data)?H.data:((G=H==null?void 0:H.data)==null?void 0:G.results)||[],ee=Array.isArray(q==null?void 0:q.data)?q.data:(($=q==null?void 0:q.data)==null?void 0:$.results)||[];P(Y),_(ee)}catch{}})()},[]),x.useEffect(()=>{const D=E.get("data"),G=E.get("paciente");D&&(c(D),A(D)),G&&(j($=>({...$,paciente:String(G)})),h(!0))},[]);const k=async()=>{g(!0);try{const D=await ks.getCalendario(t.getMonth()+1,t.getFullYear());p(D.data||{})}catch(D){console.error("Erro ao carregar calendrio:",D),p({"2024-01-15":{total:5,status:"ocupado"},"2024-01-16":{total:8,status:"lotado"},"2024-01-17":{total:3,status:"disponivel"},"2024-01-18":{total:6,status:"ocupado"},"2024-01-22":{total:2,status:"disponivel"},"2024-01-23":{total:7,status:"ocupado"}})}finally{g(!1)}},A=async D=>{try{const G=await ks.getExamesPorData(D);o(G.data||[])}catch(G){console.error("Erro ao carregar exames:",G),o([{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}])}},T=D=>{const G=new Date(t);G.setMonth(t.getMonth()+D),a(G)},R=D=>{const $=new Date(t.getFullYear(),t.getMonth(),D).toISOString().split("T")[0];c($),A($)},I=(D="")=>{j({paciente:D?String(D):"",tipo:"",hora:""}),h(!0)},L=async()=>{if(!i)return;const{paciente:D,tipo:G,hora:$}=y;if(!D||!G||!$){alert("Preencha paciente, tipo e horrio.");return}w(!0);try{const H={paciente:D,tipo:G,data:i,hora:$};await ks.createExame(H),h(!1),j({paciente:"",tipo:"",hora:""}),await A(i)}catch{alert("Erro ao agendar. Verifique os dados e tente novamente.")}finally{w(!1)}},U=()=>{const D=t.getFullYear(),G=t.getMonth(),$=new Date(D,G,1),H=new Date(D,G+1,0),q=$.getDay(),Y=H.getDate(),ee=[];for(let B=q-1;B>=0;B--){const re=new Date(D,G,-B);ee.push({dia:re.getDate(),outroMes:!0,data:re})}for(let B=1;B<=Y;B++){const re=new Date(D,G,B),F=re.toISOString().split("T")[0],V=d[F]||{total:0,status:"disponivel"};ee.push({dia:B,outroMes:!1,data:re,dataString:F,...V})}const M=42-ee.length;for(let B=1;B<=M;B++){const re=new Date(D,G+1,B);ee.push({dia:B,outroMes:!0,data:re})}return ee},K=D=>{switch(D){case"disponivel":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"ocupado":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200";case"lotado":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},z=U();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendrio de Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie os exames agendados"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),ZP[t.getMonth()]," ",t.getFullYear()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(te,{variant:"outline",size:"sm",onClick:()=>T(-1),children:e.jsx(R0,{className:"h-4 w-4"})}),e.jsx(te,{variant:"outline",size:"sm",onClick:()=>T(1),children:e.jsx(ja,{className:"h-4 w-4"})})]})]})}),e.jsxs(le,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:eA.map(D=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:D},D))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:z.map((D,G)=>e.jsxs("button",{onClick:()=>!D.outroMes&&R(D.dia),disabled:D.outroMes,className:`
                        p-2 text-sm rounded-lg transition-colors relative
                        ${D.outroMes?"text-muted-foreground cursor-not-allowed":"hover:bg-accent cursor-pointer"}
                        ${i===D.dataString?"bg-primary text-primary-foreground":""}
                      `,children:[e.jsx("div",{className:"font-medium",children:D.dia}),!D.outroMes&&D.total>0&&e.jsx("div",{className:`
                          absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center
                          ${K(D.status)}
                        `,children:D.total})]},G))}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{children:"Disponvel"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("span",{children:"Ocupado"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{children:"Lotado"})]})]})]})]})}),e.jsx("div",{children:e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),i?"Exames do Dia":"Selecione uma Data"]}),i&&e.jsx(Qe,{children:new Date(i+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(le,{children:i?r.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(rt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum exame agendado para esta data"}),e.jsx(te,{className:"mt-4",size:"sm",onClick:()=>I(),children:"Agendar Exame"})]}):e.jsxs("div",{className:"space-y-3",children:[r.map(D=>e.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:D.paciente})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{variant:D.status==="confirmado"?"default":"secondary",children:D.status}),e.jsx(te,{variant:"outline",size:"sm",className:"bg-transparent",onClick:()=>I(D.paciente_id||D.pacienteId||""),title:"Agendar novo exame para este paciente",children:"Agendar"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:D.tipo}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"h-3 w-3"}),D.horario]})]})]},D.id)),e.jsx(te,{className:"w-full mt-4",size:"sm",onClick:()=>I(),children:"Agendar Novo Exame"})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(Ye,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Clique em uma data no calendrio para ver os exames agendados"})]})})]})})]})]}),e.jsx(Si,{open:f,onOpenChange:h,children:e.jsxs(uo,{children:[e.jsxs(mo,{children:[e.jsx(fo,{children:"Agendar exame"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",i?new Date(i+"T00:00:00").toLocaleDateString("pt-BR"):"-"]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Paciente"}),e.jsxs(Ct,{value:y.paciente,onValueChange:D=>j(G=>({...G,paciente:D})),children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Selecione o paciente"})}),e.jsx(Nt,{children:N.map(D=>e.jsxs(Se,{value:String(D.id),children:[D.nome," ",D.cpf?`- ${D.cpf}`:""]},D.id))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Tipo de exame"}),e.jsxs(Ct,{value:y.tipo,onValueChange:D=>j(G=>({...G,tipo:D})),children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Selecione o tipo"})}),e.jsx(Nt,{children:C.map(D=>e.jsx(Se,{value:String(D.id||D.value||D),children:D.nome||D.label||D.value||D},D.id||D.value||D))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Horrio"}),e.jsx(fe,{type:"time",value:y.hora,onChange:D=>j(G=>({...G,hora:D.target.value}))})]})]}),e.jsxs(Ci,{className:"mt-4",children:[e.jsx(te,{variant:"outline",className:"bg-transparent",onClick:()=>h(!1),children:"Cancelar"}),e.jsx(te,{onClick:L,disabled:v,children:v?"Salvando...":"Agendar"})]})]})})]})}const sA={manha:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],tarde:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],integral:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"]};function aA(){const[t,a]=x.useState(""),[r,o]=x.useState([]),[i,c]=x.useState(""),[d,p]=x.useState(!1),[u,g]=x.useState(!1),{toast:f}=Jt();x.useEffect(()=>{t&&h()},[t]);const h=async()=>{var C;p(!0);try{const _=await ks.getDisponibilidade(t);o(((C=_.data)==null?void 0:C.horarios)||[])}catch(_){console.error("Erro ao carregar disponibilidade:",_),o([{horario:"09:00",ocupado:!1},{horario:"10:00",ocupado:!0},{horario:"11:00",ocupado:!1},{horario:"14:00",ocupado:!1},{horario:"15:00",ocupado:!0}])}finally{p(!1)}},v=async()=>{if(!t){f({title:"Erro",description:"Selecione uma data primeiro",variant:"destructive"});return}g(!0);try{await ks.setDisponibilidade(t,r),f({title:"Sucesso",description:"Disponibilidade salva com sucesso"})}catch(C){console.error("Erro ao salvar disponibilidade:",C),f({title:"Erro",description:"Erro ao salvar disponibilidade",variant:"destructive"})}finally{g(!1)}},w=()=>{if(!i)return;if(r.some(_=>_.horario===i)){f({title:"Aviso",description:"Este horrio j existe",variant:"destructive"});return}o([...r,{horario:i,ocupado:!1}].sort((_,E)=>_.horario.localeCompare(E.horario))),c("")},y=C=>{o(r.filter(_=>_.horario!==C))},j=C=>{const _=sA[C].map(E=>({horario:E,ocupado:!1}));o(_)},N=async()=>{var E;if(!t)return;const C=new Date(t);C.setDate(C.getDate()-1);const _=C.toISOString().split("T")[0];try{const T=(((E=(await ks.getDisponibilidade(_)).data)==null?void 0:E.horarios)||[]).filter(R=>!R.ocupado).map(R=>({...R,ocupado:!1}));o(T),f({title:"Sucesso",description:"Horrios copiados do dia anterior"})}catch(k){console.error("Erro ao copiar horrios:",k),f({title:"Erro",description:"Erro ao copiar horrios do dia anterior",variant:"destructive"})}},P=new Date().toISOString().split("T")[0];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Disponibilidade"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure os horrios disponveis para exames"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Selecionar Data"]})}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(me,{htmlFor:"data",children:"Data"}),e.jsx(fe,{id:"data",type:"date",value:t,onChange:C=>a(C.target.value),min:P})]}),t&&e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(t+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Templates Rpidos"}),e.jsx(Qe,{children:"Aplique configuraes pr-definidas"})]}),e.jsxs(le,{className:"space-y-3",children:[e.jsxs(te,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>j("manha"),disabled:!t,children:[e.jsx(rt,{className:"mr-2 h-4 w-4"}),"Manh (8h s 11h30)"]}),e.jsxs(te,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>j("tarde"),disabled:!t,children:[e.jsx(rt,{className:"mr-2 h-4 w-4"}),"Tarde (13h s 17h)"]}),e.jsxs(te,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>j("integral"),disabled:!t,children:[e.jsx(rt,{className:"mr-2 h-4 w-4"}),"Perodo Integral"]}),e.jsxs(te,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:N,disabled:!t,children:[e.jsx(zS,{className:"mr-2 h-4 w-4"}),"Copiar Dia Anterior"]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"Horrios Disponveis"]}),e.jsxs(te,{onClick:v,disabled:!t||u,children:[e.jsx(M0,{className:"mr-2 h-4 w-4"}),u?"Salvando...":"Salvar"]})]}),t&&e.jsxs(Qe,{children:["Configurando horrios para ",new Date(t+"T00:00:00").toLocaleDateString("pt-BR")]})]}),e.jsx(le,{children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{type:"time",value:i,onChange:C=>c(C.target.value),placeholder:"Novo horrio"}),e.jsx(te,{onClick:w,disabled:!i,children:e.jsx(Kn,{className:"h-4 w-4"})})]}),d?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((C,_)=>e.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},_))}):r.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(rt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum horrio configurado"}),e.jsx("p",{className:"text-sm",children:"Use os templates ou adicione horrios manualmente"})]}):e.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:r.map((C,_)=>e.jsxs("div",{className:`
                              flex items-center justify-between p-3 border rounded-lg
                              ${C.ocupado?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}
                            `,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:C.horario})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{variant:C.ocupado?"destructive":"default",children:C.ocupado?"Ocupado":"Livre"}),!C.ocupado&&e.jsx(te,{variant:"ghost",size:"sm",onClick:()=>y(C.horario),children:e.jsx(aC,{className:"h-4 w-4"})})]})]},_))}),r.length>0&&e.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-medium",children:["Total: ",r.length," horrios"]}),e.jsxs("p",{className:"text-muted-foreground",children:[r.filter(C=>!C.ocupado).length," disponveis,"," ",r.filter(C=>C.ocupado).length," ocupados"]})]})})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(Ye,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Selecione uma data para gerenciar os horrios"})]})})]})})]})]})})}function rA(){const{toast:t}=Jt(),[a,r]=x.useState(!1),[o,i]=x.useState([]),[c,d]=x.useState({q:"",tipo:"todos",status:"todos"}),[p,u]=x.useState([]),[g,f]=x.useState(!1),[h,v]=x.useState({paciente:"",tipo:"",data:"",hora:""}),w=async()=>{try{const{data:N}=await ks.getTiposExame();i(N||[])}catch{}},y=async()=>{r(!0);try{const N={};c.q&&(N.q=c.q),c.tipo!=="todos"&&(N.tipo=c.tipo),c.status!=="todos"&&(N.status=c.status);const{data:P}=await ks.getExames(N);u(Array.isArray(P)?P:(P==null?void 0:P.results)||[])}catch{t({title:"Erro",description:"No foi possvel carregar os exames.",variant:"destructive"})}finally{r(!1)}};x.useEffect(()=>{w()},[]),x.useEffect(()=>{y()},[c]);const j=async()=>{if(!h.paciente||!h.tipo||!h.data||!h.hora){t({title:"Campos obrigatrios",description:"Preencha paciente, tipo, data e hora.",variant:"destructive"});return}f(!0);try{const N={paciente:h.paciente,tipo:h.tipo,data:h.data,hora:h.hora};await ks.createExame(N),t({title:"Exame criado",description:"Exame agendado com sucesso."}),v({paciente:"",tipo:"",data:"",hora:""}),y()}catch{t({title:"Erro ao criar",description:"Verifique os dados e tente novamente.",variant:"destructive"})}finally{f(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem e agendamento de exames"})]})}),e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Filtros"}),e.jsx(Qe,{children:"Busque e filtre os exames"})]}),e.jsxs(le,{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(fe,{placeholder:"Buscar por paciente/tipo...",value:c.q,onChange:N=>d({...c,q:N.target.value})}),e.jsxs(Ct,{value:c.tipo,onValueChange:N=>d({...c,tipo:N}),children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Tipo"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"todos",children:"Todos os tipos"}),o.map(N=>e.jsx(Se,{value:N.value||N.nome||N.id||String(N),children:N.nome||N.label||N.value||N},N.id||N.value||N))]})]}),e.jsxs(Ct,{value:c.status,onValueChange:N=>d({...c,status:N}),children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Status"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"todos",children:"Todos"}),e.jsx(Se,{value:"pendente",children:"Pendente"}),e.jsx(Se,{value:"confirmado",children:"Confirmado"}),e.jsx(Se,{value:"cancelado",children:"Cancelado"})]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Lista de Exames"}),e.jsx(Qe,{children:a?"Carregando...":`${p.length} registro(s)`})]}),e.jsx(le,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(qa,{children:[e.jsx(Wa,{children:e.jsxs(Yt,{children:[e.jsx(nt,{children:"Paciente"}),e.jsx(nt,{children:"Tipo"}),e.jsx(nt,{children:"Data"}),e.jsx(nt,{children:"Hora"}),e.jsx(nt,{children:"Status"})]})}),e.jsxs(Ga,{children:[p.map((N,P)=>e.jsxs(Yt,{children:[e.jsx(tt,{children:N.paciente_nome||N.paciente||"-"}),e.jsx(tt,{children:N.tipo_nome||N.tipo||"-"}),e.jsx(tt,{children:N.data||"-"}),e.jsx(tt,{children:N.hora||"-"}),e.jsx(tt,{children:N.status||"-"})]},N.id||P)),!a&&p.length===0&&e.jsx(Yt,{children:e.jsx(tt,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum exame encontrado"})})]})]})})})]}),e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Novo Exame"}),e.jsx(Qe,{children:"Crie um novo agendamento de exame"})]}),e.jsxs(le,{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(fe,{placeholder:"Paciente (nome/ID)",value:h.paciente,onChange:N=>v({...h,paciente:N.target.value})}),e.jsxs(Ct,{value:h.tipo,onValueChange:N=>v({...h,tipo:N}),children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Tipo de exame"})}),e.jsx(Nt,{children:o.map(N=>e.jsx(Se,{value:N.value||N.nome||N.id||String(N),children:N.nome||N.label||N.value||N},N.id||N.value||N))})]}),e.jsx(fe,{type:"date",value:h.data,onChange:N=>v({...h,data:N.target.value})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{type:"time",value:h.hora,onChange:N=>v({...h,hora:N.target.value})}),e.jsx(te,{onClick:j,disabled:g,children:g?"Criando...":"Criar"})]})]})]})]})}function nA(){const{toast:t}=Jt(),[a,r]=x.useState(""),[o,i]=x.useState(!1),[c,d]=x.useState([]),p=async()=>{i(!0);try{const{data:f}=await ks.getPacientes(),h=Array.isArray(f)?f:(f==null?void 0:f.results)||[];d(h)}catch{t({title:"Erro",description:"No foi possvel carregar os pacientes.",variant:"destructive"})}finally{i(!1)}};x.useEffect(()=>{p()},[]);const u=c.filter(f=>[f.nome,f.email,f.cpf].join(" ").toLowerCase().includes(a.toLowerCase())),g=new Date().toISOString().split("T")[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de pacientes"})]}),e.jsx("div",{className:"w-72",children:e.jsx(fe,{placeholder:"Buscar por nome, e-mail ou CPF",value:a,onChange:f=>r(f.target.value)})})]}),e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Lista de Pacientes"}),e.jsx(Qe,{children:o?"Carregando...":`${u.length} registro(s)`})]}),e.jsx(le,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(qa,{children:[e.jsx(Wa,{children:e.jsxs(Yt,{children:[e.jsx(nt,{children:"Nome"}),e.jsx(nt,{children:"E-mail"}),e.jsx(nt,{children:"CPF"}),e.jsx(nt,{className:"w-[1%]",children:"Aes"})]})}),e.jsxs(Ga,{children:[u.map((f,h)=>e.jsxs(Yt,{children:[e.jsx(tt,{children:f.nome||"-"}),e.jsx(tt,{children:f.email||"-"}),e.jsx(tt,{children:f.cpf||"-"}),e.jsx(tt,{children:e.jsx(Ke,{to:`/clinica/calendario?paciente=${f.id}&data=${g}`,children:e.jsx(te,{size:"sm",children:"Agendar"})})})]},f.id||h)),!o&&u.length===0&&e.jsx(Yt,{children:e.jsx(tt,{colSpan:3,className:"text-center text-muted-foreground",children:"Nenhum paciente encontrado"})})]})]})})})]})]})}function oA(){const{toast:t}=Jt(),[a,r]=x.useState(""),[o,i]=x.useState(!1),[c,d]=x.useState([]),p=async()=>{i(!0);try{const{data:g}=await ks.getMedicos(),f=Array.isArray(g)?g:(g==null?void 0:g.results)||[];d(f)}catch{t({title:"Erro",description:"No foi possvel carregar os mdicos.",variant:"destructive"})}finally{i(!1)}};x.useEffect(()=>{p()},[]);const u=c.filter(g=>[g.nome,g.email,g.crm,g.especialidade].join(" ").toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Mdicos"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de mdicos"})]}),e.jsx("div",{className:"w-72",children:e.jsx(fe,{placeholder:"Buscar por nome, e-mail, CRM, especialidade",value:a,onChange:g=>r(g.target.value)})})]}),e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Lista de Mdicos"}),e.jsx(Qe,{children:o?"Carregando...":`${u.length} registro(s)`})]}),e.jsx(le,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(qa,{children:[e.jsx(Wa,{children:e.jsxs(Yt,{children:[e.jsx(nt,{children:"Nome"}),e.jsx(nt,{children:"E-mail"}),e.jsx(nt,{children:"CRM"}),e.jsx(nt,{children:"Especialidade"})]})}),e.jsxs(Ga,{children:[u.map((g,f)=>e.jsxs(Yt,{children:[e.jsx(tt,{children:g.nome||"-"}),e.jsx(tt,{children:g.email||"-"}),e.jsx(tt,{children:g.crm||"-"}),e.jsx(tt,{children:g.especialidade||"-"})]},g.id||f)),!o&&u.length===0&&e.jsx(Yt,{children:e.jsx(tt,{colSpan:4,className:"text-center text-muted-foreground",children:"Nenhum mdico encontrado"})})]})]})})})]})]})}function iA(){const[t,a]=x.useState("30d"),[r,o]=x.useState(!1),[i,c]=x.useState(null),[d,p]=x.useState(null),u=async()=>{o(!0),p(null);try{const{data:f}=await ks.getRelatorios(t);c(f||{})}catch{p("No foi possvel carregar os relatrios.")}finally{o(!1)}};x.useEffect(()=>{u()},[t]);const g=i||{examesTotais:120,pacientesAtendidos:80,taxaCancelamento:5};return e.jsx("div",{className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(xe,{children:"Relatrios"}),e.jsx(Qe,{children:"Mtricas da clnica"})]}),e.jsx("div",{className:"w-40",children:e.jsxs(Ct,{value:t,onValueChange:a,children:[e.jsx(wt,{children:e.jsx(_t,{})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"7d",children:"ltimos 7 dias"}),e.jsx(Se,{value:"30d",children:"ltimos 30 dias"}),e.jsx(Se,{value:"90d",children:"ltimos 90 dias"})]})]})})]}),e.jsx(le,{children:r?e.jsx("p",{children:"Carregando..."}):d?e.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsx(Lr,{className:"h-4 w-4"}),e.jsx("span",{children:d})]}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(os,{className:"h-4 w-4"})," Exames"]})}),e.jsxs(le,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.examesTotais}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ds,{className:"h-4 w-4"})," Pacientes Atendidos"]})}),e.jsxs(le,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.pacientesAtendidos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{className:"text-sm font-medium",children:"Taxa de Cancelamento"})}),e.jsxs(le,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[g.taxaCancelamento,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]})]})})]})})}const sm="false".toLowerCase()==="true",Rr="false".toLowerCase()==="true",lA={async criarSolicitacaoMedico(t,a={}){var w,y,j,N,P,C,_,E,k;const r=new FormData,o=(A,T,R=[])=>{if(T==null)return;const I=[A,...R].filter(Boolean);for(const L of I)r.append(L,T)};o("crm",t.crm,["crm_numero"]),o("especialidade",t.especialidade),o("instituicaoFormacao",t.instituicaoFormacao,["instituicao_formacao"]),o("anoFormacao",t.anoFormacao,["ano_formacao"]),o("residencia",t.residencia??""),o("instituicaoResidencia",t.instituicaoResidencia??"",["instituicao_residencia"]),o("anoResidencia",t.anoResidencia??"",["ano_residencia"]),o("experiencia",t.experiencia),o("motivacao",t.motivacao,["motivo","justificativa"]),o("nome",t.nome,["nome_completo"]),o("email",t.email),o("cpf",t.cpf),o("tipo",t.tipo||"medico"),(w=t.documentos)!=null&&w.diplomaMedicina&&o("diplomaMedicina",t.documentos.diplomaMedicina,["diploma_medicina"]),(y=t.documentos)!=null&&y.certificadoResidencia&&o("certificadoResidencia",t.documentos.certificadoResidencia,["certificado_residencia"]),(j=t.documentos)!=null&&j.comprovanteExperiencia&&o("comprovanteExperiencia",t.documentos.comprovanteExperiencia,["comprovante_experiencia"]);let i;try{const A=(N=ht.getCurrentUser)==null?void 0:N.call(ht);i=(A==null?void 0:A.id)||(A==null?void 0:A.pk)||((P=A==null?void 0:A.user)==null?void 0:P.id),i&&o("user",i,["usuario","user_id","usuario_id"])}catch{}const c={crm:t.crm,crm_numero:t.crm,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao,instituicao_formacao:t.instituicaoFormacao,anoFormacao:t.anoFormacao,ano_formacao:t.anoFormacao,residencia:t.residencia??"",instituicaoResidencia:t.instituicaoResidencia??"",instituicao_residencia:t.instituicaoResidencia??"",anoResidencia:t.anoResidencia??"",ano_residencia:t.anoResidencia??"",experiencia:t.experiencia,motivacao:t.motivacao,motivo:t.motivacao,justificativa:t.motivacao,nome:t.nome,nome_completo:t.nome_completo||t.nome,email:t.email,cpf:t.cpf,tipo:t.tipo||"medico"};i&&(c.user=i,c.usuario=i,c.user_id=i,c.usuario_id=i);const d="/solicitacaomedico/".trim(),p="/solicitacoes/".trim();let u=[];d&&u.push(d),p&&u.push(p),Rr||u.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/medico/","/medico/solicitacoes/","/medicos/solicitacao/","/solicitacao/medicos/","/users/medicos/solicitacoes/","/usuarios/medicos/solicitacoes/","/users/solicitacoes/medico/","/usuarios/solicitacoes/medico/","/app_medico/","/meu_app_medico/","/meui_app_solicitacaomedico/","/solicitacaomedico/","/solicitacao-medico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedico/");const g=A=>{if(Rr)return[A];const T=A.endsWith("/")?"":"/";return[A,`${A}${T}criar/`,`${A}${T}create/`,`${A}${T}novo/`,`${A}${T}nova/`,`${A}${T}add/`,`${A}${T}adicionar/`,`${A}${T}registrar/`,`${A}${T}enviar/`,`${A}${T}submit/`]},f=Array.from(new Set(u.flatMap(g))),h=[];let v;for(const A of f)try{return h.push(A),sm&&console.debug("[solicitacaoService] Tentando endpoint:",A),(await ue.post(A,r,{headers:{"Content-Type":"multipart/form-data"},signal:a==null?void 0:a.signal})).data}catch(T){const R=(C=T==null?void 0:T.response)==null?void 0:C.status,I=((_=T==null?void 0:T.response)==null?void 0:_.data)&&JSON.stringify(T.response.data)||"";if(R===415||R===400&&/JSON|application\/json|parse/i.test(I))try{return(await ue.post(A,c,{headers:{"Content-Type":"application/json"},signal:a==null?void 0:a.signal})).data}catch(U){const K=(E=U==null?void 0:U.response)==null?void 0:E.status;if((K===404||K===405)&&!Rr){v=U;continue}throw U}if((R===404||R===405)&&!Rr){sm&&console.debug("[solicitacaoService] Endpoint no aceitou mtodo (",R,"):",A),v=T;continue}throw T}throw v?(sm&&console.warn("[solicitacaoService] Nenhum endpoint aceitou POST. ltimo status:",(k=v==null?void 0:v.response)==null?void 0:k.status,"URLs tentadas:",h),v):new Error("Nenhum endpoint de criao aceitou a solicitao. Configure VITE_SOLICITACOES_MEDICOS_ENDPOINT. URLs tentadas: "+h.join(", "))},async listarMinhasSolicitacoes(t={},a={}){var d,p;const r="/solicitacaomedico/".trim(),o="/solicitacoes/".trim(),i=[];r&&i.push(r),o&&i.push(o),Rr||i.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/","/me/solicitacoes/","/minhas-solicitacoes/","/solicitacoes/me/","/solicitacoes/minhas/");const c={...t};c.limit!=null&&c.page_size==null&&(c.page_size=c.limit),c.page_size!=null&&c.limit==null&&(c.limit=c.page_size);for(const u of i){const g=Og(u);try{const f=await ue.get(g,{params:c,signal:a==null?void 0:a.signal});return Array.isArray((d=f.data)==null?void 0:d.results)?{...f.data,results:f.data.results.map(am)}:Array.isArray(f.data)?{results:f.data.map(am)}:f.data}catch(f){if(((p=f==null?void 0:f.response)==null?void 0:p.status)===404&&!Rr)continue;throw f}}return{results:[]}},async getSolicitacaoMedico(t,a={}){var d;const r="/solicitacaomedico/".trim(),o="/solicitacoes/".trim(),i=[];r&&i.push(r),o&&i.push(o),Rr||i.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/");let c;for(const p of i){const u=Og(p)+String(t)+"/";try{const g=await ue.get(u,{signal:a==null?void 0:a.signal});return am(g.data)}catch(g){if(((d=g==null?void 0:g.response)==null?void 0:d.status)===404&&!Rr){c=g;continue}throw g}}throw c||new Error("Solicitao no encontrada")}};function Og(t){return t?t.endsWith("/")?t:t+"/":"/"}function am(t={}){return{id:t.id||t.pk,crm:t.crm||t.crm_numero,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao||t.instituicao_formacao,anoFormacao:t.anoFormacao||t.ano_formacao,residencia:t.residencia,instituicaoResidencia:t.instituicaoResidencia||t.instituicao_residencia,anoResidencia:t.anoResidencia||t.ano_residencia,experiencia:t.experiencia,motivacao:t.motivacao||t.motivo||t.justificativa,nome:t.nome||t.nome_completo,email:t.email,cpf:t.cpf,status:t.status||t.situacao||t.aprovado,created_at:t.created_at||t.data_criacao}}const db=Object.freeze(Object.defineProperty({__proto__:null,solicitacaoService:lA},Symbol.toStringTag,{value:"Module"})),Vn="false".toLowerCase()!=="false",Vt="false".toLowerCase()==="true",zt={async getDashboard(){return(await ue.get("/admin/dashboard/")).data},async getSolicitacoes(t={},a={}){var i;const r=Bl(),o=nm(rm(t));for(const c of r){const d=an(c),p=Vn?[d]:[d,d+"listar/",d+"list/",d+"todas/",d+"all/"],u=[];if(u.push(o),!Vn&&(o!=null&&o.ordering)){const{ordering:g,...f}=o;u.push(f)}if(!Vn){const g={};o.page_size!=null&&(g.page_size=o.page_size),o.limit!=null&&(g.limit=o.limit),o.page!=null&&(g.page=o.page),o.offset!=null&&(g.offset=o.offset),Object.keys(g).length&&u.push(g)}Object.keys(o).length&&u.push({});for(const g of p)for(const f of u)try{Vt&&console.debug("[adminService.getSolicitacoes] GET",g,f);const v=(await ue.get(g,{params:f,signal:a==null?void 0:a.signal})).data,w=Array.isArray(v==null?void 0:v.results)?v.results:Array.isArray(v)?v:[];return Vt&&console.debug("[adminService.getSolicitacoes] OK",g,`items=${w.length}`),w.map(ub)}catch(h){const v=(i=h==null?void 0:h.response)==null?void 0:i.status;if(Vt&&console.warn("[adminService.getSolicitacoes] Falhou",g,"status=",v,"params=",f),v===401||v===403)throw h;continue}}return[]},async getSolicitacao(t){var o;const a=Bl();let r;for(const i of a){const c=an(i)+`${t}/`;try{const d=await ue.get(c);return dA(d.data||{})}catch(d){const p=(o=d==null?void 0:d.response)==null?void 0:o.status;if(Vt&&console.warn("[adminService.getSolicitacao] Falhou",c,"status=",p),p===401||p===403)throw d;r=d;continue}}throw r||new Error("Nenhum endpoint para detalhe de solicitao foi encontrado.")},async aprovarSolicitacao(t,a=""){var o,i,c,d;const r=Bl();for(const p of r){const u=an(p),g=[{method:"post",url:`${u}${t}/aprovar/`,body:{observacoes:a}},{method:"post",url:`${u}${t}/approve/`,body:{notes:a}},{method:"post",url:`${u}${t}/aprovacao/`,body:{observacoes:a}},{method:"post",url:`${u}${t}/status/`,body:{status:"approved",observacoes:a}},{method:"patch",url:`${u}${t}/`,body:{status:"approved",observacoes:a}},{method:"put",url:`${u}${t}/`,body:{status:"approved",observacoes:a}}];for(const f of g)try{Vt&&console.debug("[adminService.aprovarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const h=await ue[f.method](f.url,f.body);(async()=>{var w;try{await zt.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{observacoes:a}})}catch(y){Vt&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(w=y==null?void 0:y.response)==null?void 0:w.status)}})();const v=h.data;try{let w=((o=v==null?void 0:v.medico)==null?void 0:o.id)||(v==null?void 0:v.medico_id)||(v==null?void 0:v.medico)||null;if(!w)try{const y=await zt.getSolicitacao(t).catch(()=>null);w=((i=y==null?void 0:y.medico)==null?void 0:i.id)||(y==null?void 0:y.medico_id)||(y==null?void 0:y.medico)||null}catch{}if(w){const y="/medicos/",j=y.endsWith("/")?y:`${y}/`,N={status:"active",situacao:"active",state:"active"},P=[{m:"patch",u:`${j}${w}/`,b:N},{m:"put",u:`${j}${w}/`,b:N}];for(const _ of P)try{await ue[_.m](_.u,_.b);break}catch{}const C=[`${j}${w}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const _ of C){const E=_.endsWith("/")?_:`${_}/`;try{await ue.patch(E,N);break}catch{}}}}catch(w){Vt&&console.warn("[adminService.aprovarSolicitacao] ps-ao falhou",(c=w==null?void 0:w.response)==null?void 0:c.status)}return(async()=>{var w;try{await zt.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{observacoes:a}})}catch(y){Vt&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(w=y==null?void 0:y.response)==null?void 0:w.status)}})(),v}catch(h){const v=(d=h==null?void 0:h.response)==null?void 0:d.status;if(Vt&&console.warn("[adminService.aprovarSolicitacao] Falhou",f.url,"status=",v),v===401||v===403)throw h;continue}}},async rejeitarSolicitacao(t,a){var o,i,c,d;const r=Bl();for(const p of r){const u=an(p),g=[{method:"post",url:`${u}${t}/rejeitar/`,body:{motivo:a}},{method:"post",url:`${u}${t}/reject/`,body:{reason:a}},{method:"post",url:`${u}${t}/status/`,body:{status:"rejected",motivo:a}},{method:"patch",url:`${u}${t}/`,body:{status:"rejected",motivo:a}},{method:"put",url:`${u}${t}/`,body:{status:"rejected",motivo:a}}];for(const f of g)try{Vt&&console.debug("[adminService.rejeitarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const h=await ue[f.method](f.url,f.body);(async()=>{var w;try{await zt.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{motivo:a}})}catch(y){Vt&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(w=y==null?void 0:y.response)==null?void 0:w.status)}})();const v=h.data;try{let w=((o=v==null?void 0:v.medico)==null?void 0:o.id)||(v==null?void 0:v.medico_id)||(v==null?void 0:v.medico)||null;if(!w)try{const y=await zt.getSolicitacao(t).catch(()=>null);w=((i=y==null?void 0:y.medico)==null?void 0:i.id)||(y==null?void 0:y.medico_id)||(y==null?void 0:y.medico)||null}catch{}if(w){const y="/medicos/",j=y.endsWith("/")?y:`${y}/`,N={status:"rejected",situacao:"rejected",state:"rejected"},P=[{m:"patch",u:`${j}${w}/`,b:N},{m:"put",u:`${j}${w}/`,b:N}];for(const _ of P)try{await ue[_.m](_.u,_.b);break}catch{}const C=[`${j}${w}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const _ of C){const E=_.endsWith("/")?_:`${_}/`;try{await ue.patch(E,N);break}catch{}}}}catch(w){Vt&&console.warn("[adminService.rejeitarSolicitacao] ps-ao falhou",(c=w==null?void 0:w.response)==null?void 0:c.status)}return(async()=>{var w;try{await zt.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{motivo:a}})}catch(y){Vt&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(w=y==null?void 0:y.response)==null?void 0:w.status)}})(),v}catch(h){const v=(d=h==null?void 0:h.response)==null?void 0:d.status;if(Vt&&console.warn("[adminService.rejeitarSolicitacao] Falhou",f.url,"status=",v),v===401||v===403)throw h;continue}}},async getAuditoria(t={}){return(await ue.get("/admin/auditoria/",{params:t})).data},async registrarAuditoria(t={}){var f;const a=await ht.getCurrentUser(),r=t.action||t.acao||t.type,o=t.entity||t.entidade||"",i=t.entity_id||t.id||t.solicitacao_id||t.target_id||"",c=t.status||"success",d=typeof t.metadata=="object"&&t.metadata!==null?t.metadata:{},p=typeof t.detalhes=="object"&&t.detalhes!==null?t.detalhes:{},u={...d,...p,actor:(a==null?void 0:a.id)||(a==null?void 0:a.username)||"system",source:"frontend"},g={action:r,entity:o,entity_id:i,status:c,metadata:u};try{await ue.post("/admin/auditoria/",g)}catch(h){Vt&&console.warn("[adminService.registrarAuditoria] falhou:",(f=h==null?void 0:h.response)==null?void 0:f.status)}},async getUsuarios(t={}){const a=nm(rm(t)),o=(await ue.get("/users/",{params:a})).data,i=Array.isArray(o==null?void 0:o.results)?o.results:Array.isArray(o)?o:[],c=typeof(o==null?void 0:o.count)=="number"?o.count:i.length;return{results:i,count:c}},async getClinicas(t={}){var o;const a=cA(),r=nm(rm(t));for(const i of a){const c=an(i),d=Vn?[c]:[c,c+"listar/",c+"list/",c+"todas/",c+"all/"],p=[];if(p.push(r),!Vn&&(r!=null&&r.ordering)){const{ordering:u,...g}=r;p.push(g)}if(!Vn){const u={};r.page_size!=null&&(u.page_size=r.page_size),r.limit!=null&&(u.limit=r.limit),r.page!=null&&(u.page=r.page),r.offset!=null&&(u.offset=r.offset),Object.keys(u).length&&p.push(u)}Object.keys(r).length&&p.push({});for(const u of d)for(const g of p)try{Vt&&console.debug("[adminService.getClinicas] GET",u,g);const h=(await ue.get(u,{params:g})).data,v=Array.isArray(h==null?void 0:h.results)?h.results:Array.isArray(h)?h:[],w=typeof(h==null?void 0:h.count)=="number"?h.count:v.length;return Vt&&console.debug("[adminService.getClinicas] OK",u,`items=${v.length}`),{results:v,count:w}}catch(f){const h=(o=f==null?void 0:f.response)==null?void 0:o.status;if(Vt&&console.warn("[adminService.getClinicas] Falhou",u,"status=",h,"params=",g),h===401)throw f;continue}}return{results:[],count:0}},async updateUsuario(t,a={}){var d,p,u,g;const r=t||(a==null?void 0:a.id);if(!r)throw new Error("ID do usurio  obrigatrio para atualizao");const o={...a};o.role&&o.tipo==null&&(o.tipo=o.role),o.is_active!=null&&o.ativo==null&&(o.ativo=!!o.is_active),(o.first_name||o.last_name)&&o.nome==null&&(o.nome=[o.first_name||"",o.last_name||""].filter(Boolean).join(" ").trim()||void 0);const i=$g();let c=null;for(const f of i){const h=an(f);try{return(await ue.patch(`${h}${r}/`,o)).data}catch(v){const w=(d=v==null?void 0:v.response)==null?void 0:d.status;if(Vt&&console.warn("[adminService.updateUsuario] PATCH falhou",`${h}${r}/`,"status=",w),w===401)throw v;c=v}try{return(await ue.put(`${h}${r}/`,o)).data}catch(v){const w=(p=v==null?void 0:v.response)==null?void 0:p.status;if(Vt&&console.warn("[adminService.updateUsuario] PUT falhou",`${h}${r}/`,"status=",w),w===401)throw v;c=v}try{return(await ue.patch(h,{id:r,...o})).data}catch(v){const w=(u=v==null?void 0:v.response)==null?void 0:u.status;if(Vt&&console.warn("[adminService.updateUsuario] PATCH base falhou",h,"status=",w),w===401)throw v;c=v}for(const v of["update/","editar/","edicao/"]){const w=h+v;try{return(await ue.post(w,{id:r,...o})).data}catch(y){const j=(g=y==null?void 0:y.response)==null?void 0:g.status;if(Vt&&console.warn("[adminService.updateUsuario] POST falhou",w,"status=",j),j===401)throw y;c=y}}}throw c||new Error("Falha ao atualizar usurio: nenhum endpoint aceitou a requisio.")},async removerUsuariosEmMassa(t=[]){var c,d,p;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(a.length===0)return{success:!0,deleted:[],detail:"no-op"};const r=$g();let o=null;const i=[{suffix:"remover/",method:"post",bodyKey:"ids"},{suffix:"delete/",method:"post",bodyKey:"ids"},{suffix:"bulk_delete/",method:"post",bodyKey:"ids"}];for(const u of r){const g=an(u);for(const h of i){const v=g+h.suffix;try{return(await ue.post(v,{[h.bodyKey]:a})).data}catch(w){const y=(c=w==null?void 0:w.response)==null?void 0:c.status;if(Vt&&console.warn("[adminService.removerUsuariosEmMassa] POST falhou",v,"status=",y),y===401)throw w;o=w}}try{const h=g;return(await ue.delete(h,{data:{ids:a}})).data}catch(h){const v=(d=h==null?void 0:h.response)==null?void 0:d.status;if(Vt&&console.warn("[adminService.removerUsuariosEmMassa] DELETE bulk falhou",g,"status=",v),v===401)throw h;o=h}let f=!1;for(const h of a){const v=`${g}${h}/`;try{await ue.delete(v),f=!0}catch(w){const y=(p=w==null?void 0:w.response)==null?void 0:p.status;if(Vt&&console.warn("[adminService.removerUsuariosEmMassa] DELETE por id falhou",v,"status=",y),y===401)throw w;o=w}}if(f)return{success:!0}}throw o||new Error("Falha ao excluir usurios: nenhum endpoint aceitou a requisio.")},async createUsuario(t={}){return(await ue.post("/admin/usuarios/",t)).data}};function an(t){if(!t)return"/";const a=String(t);return a.endsWith("/")?a:a+"/"}function rm(t={}){const a={...t};return a.limit!=null&&a.page_size==null&&(a.page_size=a.limit),a.page_size!=null&&a.limit==null&&(a.limit=a.page_size),Object.keys(a).forEach(r=>{(a[r]===void 0||a[r]===null||a[r]==="")&&delete a[r]}),a}function nm(t={}){const a=new Set(["status","ordering","search","limit","page","page_size","offset","clinica","especialidade"]),r={};for(const[o,i]of Object.entries(t||{}))a.has(o)&&(r[o]=i);return r}function Bl(){const t="/solicitacaomedico/".trim(),a="/solicitacaomedico/".trim(),r="/solicitacoes/".trim(),o=Array.from(new Set([t,a,r].filter(Boolean))),i=["/solicitacaomedico/","/admin/solicitacoes/"],c=["/medicos/solicitacoes/","/solicitacoes/medicos/"];return Array.from(new Set([...i,...o,...c].filter(Boolean)))}function $g(){const t="".trim(),a="".trim(),r=Array.from(new Set([t,a].filter(Boolean))),o=["/admin/usuarios/","/usuarios/","/admin/users/","/users/"];return Array.from(new Set([...r,...o].filter(Boolean)))}function cA(){const t="".trim(),a="".trim(),r=Array.from(new Set([t,a].filter(Boolean))),o=["/admin/clinicas/","/clinicas/","/admin/clinica/","/clinica/"];return Array.from(new Set([...r,...o].filter(Boolean)))}function ub(t={}){var a,r,o,i,c,d,p,u,g,f,h,v,w,y,j,N,P,C,_,E,k,A,T;return{id:t.id||t.pk||t.uuid||t.codigo||t.codigo_id||0,tipo:String(t.tipo||t.type||t.kind||"medico").toLowerCase(),nome:t.nome||t.name||((a=t.usuario)==null?void 0:a.nome)||((r=t.user)==null?void 0:r.name)||((o=t.medico)==null?void 0:o.nome)||((i=t.clinica)==null?void 0:i.nome)||"",email:t.email||((c=t.usuario)==null?void 0:c.email)||((d=t.user)==null?void 0:d.email)||((u=(p=t.medico)==null?void 0:p.user)==null?void 0:u.email)||((g=t.clinica)==null?void 0:g.email)||"",telefone:t.telefone||t.phone||t.celular||((f=t.usuario)==null?void 0:f.telefone)||((h=t.user)==null?void 0:h.telefone)||((v=t.medico)==null?void 0:v.telefone)||((y=(w=t.medico)==null?void 0:w.contato)==null?void 0:y.telefone)||((N=(j=t.medico)==null?void 0:j.user)==null?void 0:N.telefone)||((P=t.clinica)==null?void 0:P.telefone)||"",crm:t.crm||((C=t.medico)==null?void 0:C.crm)||t.crm_numero||"",cnpj:t.cnpj||((_=t.clinica)==null?void 0:_.cnpj)||"",responsavel:t.responsavel||t.responsavel_tecnico||((E=t.clinica)==null?void 0:E.responsavel)||"",status:(()=>{const R=(t.status||t.situacao||t.state||"pending").toString().toLowerCase();return{pendente:"pending","em anlise":"pending","em analise":"pending",em_analise:"pending",aprovado:"approved",aprovada:"approved",rejeitado:"rejected",rejeitada:"rejected",reprovado:"rejected",reprovada:"rejected"}[R]||R})(),dataEnvio:t.dataEnvio||t.created_at||t.createdAt||t.data_criacao||t.submitted_at||new Date().toISOString(),dataAprovacao:t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||null,dataRejeicao:t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||null,documentos:Array.isArray(t.documentos)?t.documentos:t.documents||[],urgencia:String(t.urgencia||t.priority||"normal").toLowerCase(),observacoes:t.observacoes||t.notes||t.comentarios||"",aprovadoPor:t.aprovadoPor||t.approved_by||"",rejeitadoPor:t.rejeitadoPor||t.rejected_by||"",motivoRejeicao:t.motivoRejeicao||t.motivo||t.reason||"",especialidade:t.especialidade||t.especialidade_nome||((A=(k=t.medico)==null?void 0:k.especialidade)==null?void 0:A.nome)||((T=t.medico)==null?void 0:T.especialidade)||""}}function dA(t={}){var C,_,E,k,A,T,R,I,L,U,K,z,D,G,$,H,q,Y,ee,M,B;const a=ub(t),r=t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||t.dataAprovado||null,o=t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||t.dataRejeitado||null,i=[],c=re=>{re&&(Array.isArray(re)?i.push(...re.filter(Boolean)):typeof re=="object"?i.push(...Object.values(re).filter(Boolean)):typeof re=="string"&&i.push(re))};c(t.documentos),c(t.docs),c(t.arquivos),c(t.attachments),c(t.files);const d=[t.diplomaMedicina,t.certificadoResidencia,t.comprovanteExperiencia,t.documento_identidade,t.comprovante_endereco,t.diploma_medicina,t.certificado_residencia,t.comprovante_experiencia,t.rg,t.cpf].filter(Boolean);i.push(...d);const p=re=>{if(!re)return null;if(typeof re=="string")return{nome:(re.split("/").pop()||"Documento").trim(),tamanho:"",dataUpload:t.dataEnvio||t.created_at||t.createdAt||t.submitted_at||new Date().toISOString(),url:re};const F=re.nome||re.name||re.filename||re.file_name||re.titulo||re.tipo||"Documento",V=re.tamanho||re.size||re.file_size||"",Q=re.dataUpload||re.data_upload||re.uploaded_at||re.created_at||a.dataEnvio||new Date().toISOString(),se=re.url||re.link||re.path||re.file||re.arquivo||re.location||"";return{nome:F,tamanho:V,dataUpload:Q,url:se}},u=i.map(p).filter(Boolean),g=t.endereco||((C=t.medico)==null?void 0:C.endereco)||((_=t.clinica)==null?void 0:_.endereco)||{},f=typeof g=="string"?{cep:t.cep||"",logradouro:g,bairro:"",cidade:"",estado:""}:{cep:g.cep||t.cep||"",logradouro:g.logradouro||g.rua||g.endereco||"",bairro:g.bairro||"",cidade:g.cidade||g.municipio||"",estado:g.estado||g.uf||""},h=t.instituicaoFormacao||t.instituicao_formacao||((E=t.formacao)==null?void 0:E.instituicao)||((A=(k=t.medico)==null?void 0:k.formacao)==null?void 0:A.instituicao)||"",v=t.anoFormacao||t.ano_formacao||((T=t.formacao)==null?void 0:T.ano)||((I=(R=t.medico)==null?void 0:R.formacao)==null?void 0:I.ano)||"",w=t.residencia||((U=(L=t.formacao)==null?void 0:L.residencia)==null?void 0:U.nome)||((z=(K=t.medico)==null?void 0:K.residencia)==null?void 0:z.nome)||"",y=t.instituicaoResidencia||t.instituicao_residencia||((G=(D=t.formacao)==null?void 0:D.residencia)==null?void 0:G.instituicao)||((H=($=t.medico)==null?void 0:$.residencia)==null?void 0:H.instituicao)||"",j=t.anoResidencia||t.ano_residencia||((Y=(q=t.formacao)==null?void 0:q.residencia)==null?void 0:Y.ano)||((M=(ee=t.medico)==null?void 0:ee.residencia)==null?void 0:M.ano)||"",N=t.experiencia||t.experiencias||((B=t.medico)==null?void 0:B.experiencia)||"",P=t.motivacao||t.motivo||t.justificativa||t.reason||"";return{...a,dataAprovacao:r,dataRejeicao:o,documentos:u.length?u:a.documentos,endereco:f,instituicaoFormacao:h,anoFormacao:v,residencia:w,instituicaoResidencia:y,anoResidencia:j,experiencia:N,motivacao:P}}function uA(){const[t,a]=x.useState({nome:"",cnpj:"",email:"",responsavel:""}),[r,o]=x.useState(""),[i,c]=x.useState(""),[d,p]=x.useState(""),[u,g]=x.useState(""),[f,h]=x.useState(!1),[v,w]=x.useState(""),[y,j]=x.useState(""),{toast:N}=Jt(),P=E=>{const k=String(E||"").replace(/\D/g,"").slice(0,14),A=k.slice(0,2),T=k.slice(2,5),R=k.slice(5,8),I=k.slice(8,12),L=k.slice(12,14);return k.length>12?`${A}.${T}.${R}/${I}-${L}`:k.length>8?`${A}.${T}.${R}/${I}`:k.length>5?`${A}.${T}.${R}`:k.length>2?`${A}.${T}`:A},C=async()=>{N({title:"Configuraes",description:"Alteraes salvas (stub)."})};async function _(E=!0){var k,A,T,R,I;if(w(""),j(""),!r){w("Informe o e-mail da secretria.");return}h(!0);try{let L=null;if(E){const U={email:r,first_name:i||void 0,last_name:d||void 0,password:u||void 0,role:"secretaria",type:"secretaria"},K=await zt.createUsuario(U);if(L=(K==null?void 0:K.id)||((k=K==null?void 0:K.usuario)==null?void 0:k.id)||((A=K==null?void 0:K.user)==null?void 0:A.id)||(K==null?void 0:K.pk)||null,!L){const z=K&&typeof K=="object"?((T=K.user)==null?void 0:T.pk)||((R=K.usuario)==null?void 0:R.pk):null;z&&(L=z)}if(!L)throw new Error("No foi possvel obter o ID da secretria criada.")}else{const U=await zt.getUsuarios({search:r,page:1,page_size:100}),z=(Array.isArray(U==null?void 0:U.results)?U.results:Array.isArray(U)?U:[]).find(D=>String(D.email||"").toLowerCase()===r.toLowerCase());if(!z)throw new Error("No foi possvel localizar uma usuria com esse e-mail.");if(L=z.id||z.pk,!L)throw new Error("Usuria encontrada, porm sem ID vlido.")}await ks.vincularSecretaria(L),j("Secretria vinculada com sucesso."),o(""),c(""),p(""),g("")}catch(L){const U=(I=L==null?void 0:L.response)!=null&&I.data?JSON.stringify(L.response.data):(L==null?void 0:L.message)||"Falha ao processar solicitao.";w(U)}finally{h(!1)}}return e.jsxs(vy,{children:[e.jsx("div",{className:"space-y-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Configuraes"})}),e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Dados da Clnica"}),e.jsx(Qe,{children:"Edite os dados bsicos"})]}),e.jsxs(le,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx(fe,{value:t.nome,onChange:E=>a({...t,nome:E.target.value}),placeholder:"Nome da clnica"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"CNPJ"}),e.jsx(fe,{value:t.cnpj,onChange:E=>a({...t,cnpj:P(E.target.value)}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx(fe,{type:"email",value:t.email,onChange:E=>a({...t,email:E.target.value}),placeholder:"email@clinica.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Responsvel"}),e.jsx(fe,{value:t.responsavel,onChange:E=>a({...t,responsavel:E.target.value}),placeholder:"Nome do responsvel"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(te,{onClick:C,children:"Salvar alteraes"})})]})]}),e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Adicionar secretria"}),e.jsx(Qe,{children:"Crie uma nova secretria ou vincule por e-mail existente"})]}),e.jsxs(le,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[v&&e.jsx("div",{className:"text-sm text-red-600",children:v}),y&&e.jsx("div",{className:"text-sm text-emerald-700",children:y})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(me,{children:"E-mail da secretria"}),e.jsx(fe,{type:"email",value:r,onChange:E=>o(E.target.value),placeholder:"secretaria@exemplo.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Nome (opcional)"}),e.jsx(fe,{value:i,onChange:E=>c(E.target.value),placeholder:"Nome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Sobrenome (opcional)"}),e.jsx(fe,{value:d,onChange:E=>p(E.target.value),placeholder:"Sobrenome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Senha (opcional)"}),e.jsx(fe,{type:"password",value:u,onChange:E=>g(E.target.value),placeholder:"Senha inicial (ou deixe em branco)"})]}),e.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[e.jsx(te,{onClick:()=>_(!0),disabled:f,children:f?"Processando...":"Criar e vincular"}),e.jsx(te,{variant:"outline",onClick:()=>_(!1),disabled:f,children:f?"Processando...":"Vincular por e-mail"})]})]})]})]})}function mA(){const[t,a]=x.useState({totalUsuarios:0,medicosAtivos:0,clinicasAtivas:0,solicitacoesPendentes:0,solicitacoesHoje:0,aprovacoesSemana:0,rejeicoesSemana:0,aprovadosMedicosSemana:0,aprovadasClinicasSemana:0,rejeitadosMedicosSemana:0,rejeitadasClinicasSemana:0}),[r,o]=x.useState([]),[i,c]=x.useState(!0),d=()=>{const g=new Date,f=g.getDay(),h=g.getDate()-f+(f===0?-6:1),v=new Date(g);return v.setDate(h),v.setHours(0,0,0,0),v};x.useEffect(()=>{let g=!0;return(async()=>{var v,w,y;const h=d();try{const j=await zt.getDashboard();g&&j&&a(N=>({...N,totalUsuarios:j.total_usuarios??j.totalUsuarios??N.totalUsuarios,medicosAtivos:j.medicos_ativos??j.medicosAtivos??N.medicosAtivos,clinicasAtivas:j.clinicas_ativas??j.clinicasAtivas??N.clinicasAtivas,solicitacoesPendentes:j.solicitacoes_pendentes??j.solicitacoesPendentes??N.solicitacoesPendentes,aprovacoesSemana:j.aprovacoes_semana??j.aprovacoesSemana??N.aprovacoesSemana,rejeicoesSemana:j.rejeicoes_semana??j.rejeicoesSemana??N.rejeicoesSemana,aprovadosMedicosSemana:j.aprovados_medicos_semana??j.aprovadosMedicosSemana??N.aprovadosMedicosSemana,aprovadasClinicasSemana:j.aprovadas_clinicas_semana??j.aprovadasClinicasSemana??N.aprovadasClinicasSemana,rejeitadosMedicosSemana:j.rejeitados_medicos_semana??j.rejeitadosMedicosSemana??N.rejeitadosMedicosSemana,rejeitadasClinicasSemana:j.rejeitadas_clinicas_semana??j.rejeitadasClinicasSemana??N.rejeitadasClinicasSemana}))}catch(j){console.warn("[AdminDashboard] getDashboard falhou:",(v=j==null?void 0:j.response)==null?void 0:v.status)}try{const j=await zt.getSolicitacoes({status:"pending",limit:5}),P=(Array.isArray(j==null?void 0:j.results)?j.results:Array.isArray(j)?j:[]).map(C=>({...C,nome:C.nome??C.name??C.title??"",tipo:(C.tipo??C.type??"").toString().toLowerCase(),dataEnvio:C.dataEnvio??C.created_at??C.data_envio??null}));if(g){o(P);const C=new Date().toDateString(),_=P.filter(E=>{const k=new Date(E.dataEnvio);return!isNaN(k)&&k.toDateString()===C}).length;a(E=>({...E,solicitacoesHoje:_}))}}catch(j){console.warn("[AdminDashboard] getSolicitacoes falhou (pendentes recentes):",(w=j==null?void 0:j.response)==null?void 0:w.status)}try{const j=d().toISOString(),N=async T=>{const R=await zt.getSolicitacoes({status:T,limit:100,created_at__gte:j});return(Array.isArray(R==null?void 0:R.results)?R.results:Array.isArray(R)?R:[]).map(L=>({tipo:(L.tipo??L.type??"").toString().toLowerCase(),createdAt:L.created_at??L.data_envio??L.dataEnvio??null})).filter(L=>{const U=new Date(L.createdAt);return L.createdAt&&!isNaN(U)&&U>=h})},[P,C]=await Promise.all([N("approved"),N("rejected")]),_=P.filter(T=>T.tipo==="medico").length,E=P.filter(T=>T.tipo==="clinica").length,k=C.filter(T=>T.tipo==="medico").length,A=C.filter(T=>T.tipo==="clinica").length;g&&a(T=>({...T,aprovacoesSemana:T.aprovacoesSemana||0||P.length,rejeicoesSemana:T.rejeicoesSemana||0||C.length,aprovadosMedicosSemana:T.aprovadosMedicosSemana||0||_,aprovadasClinicasSemana:T.aprovadasClinicasSemana||0||E,rejeitadosMedicosSemana:T.rejeitadosMedicosSemana||0||k,rejeitadasClinicasSemana:T.rejeitadasClinicasSemana||0||A}))}catch(j){console.warn("[AdminDashboard] clculo semanal (fallback) falhou:",(y=j==null?void 0:j.response)==null?void 0:y.status)}finally{g&&c(!1)}})(),()=>{g=!1}},[]);const p=g=>{switch(g){case"pending":return e.jsxs(ft,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800",children:[e.jsx(rt,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(ft,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800",children:[e.jsx(Js,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(ft,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800",children:[e.jsx(Qs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},u=g=>{switch(g){case"alta":return e.jsx(ft,{variant:"destructive",className:"text-xs",children:"Alta"});case"normal":return e.jsx(ft,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(ft,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Dashboard Administrativo"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Gerencie usurios e solicitaes do sistema"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(te,{variant:"outline",className:"gap-2",asChild:!0,children:e.jsxs(Ke,{to:"/admin/usuarios",children:[e.jsx(ds,{className:"h-4 w-4"}),"Usurios"]})}),e.jsx(te,{variant:"outline",className:"gap-2",asChild:!0,children:e.jsxs(Ke,{to:"/admin/relatorios",children:[e.jsx(ai,{className:"h-4 w-4"}),"Relatrios"]})}),e.jsx(te,{className:"gap-2 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800",asChild:!0,children:e.jsxs(Ke,{to:"/admin/solicitacoes",children:[e.jsx(Da,{className:"h-4 w-4"}),"Solicitaes"]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total de Usurios"}),e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(ds,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:t.totalUsuarios}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"+12% em relao ao ms passado"})]})]}),e.jsxs(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Mdicos Ativos"}),e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(xt,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:t.medicosAtivos}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"+5 novos esta semana"})]})]}),e.jsxs(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Clnicas Ativas"}),e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(Ir,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:t.clinicasAtivas}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"+2 novas este ms"})]})]}),e.jsxs(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/50 dark:to-amber-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-amber-700 dark:text-amber-300",children:"Solicitaes Pendentes"}),e.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:e.jsx(Lr,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:t.solicitacoesPendentes}),e.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:[t.solicitacoesHoje," novas hoje"]})]})]})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs(ie,{className:"border-0 shadow-lg",children:[e.jsxs(pe,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:[e.jsxs(xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[e.jsx(Hs,{className:"h-5 w-5 text-purple-600"}),"Aes Rpidas"]}),e.jsx(Qe,{className:"text-slate-600 dark:text-slate-400",children:"Acesso rpido s principais funcionalidades"})]}),e.jsxs(le,{className:"p-6 space-y-4",children:[e.jsx(Ke,{to:{pathname:"/admin/solicitacoes",search:"?status=pending"},children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-amber-200 bg-amber-50 hover:bg-amber-100 dark:border-amber-800 dark:bg-amber-900/20 dark:hover:bg-amber-900/30 transition-colors group cursor-pointer",children:[e.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:e.jsx(rt,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Solicitaes Pendentes"}),e.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[t.solicitacoesPendentes," solicitaes aguardando anlise"]})]}),e.jsx(ja,{className:"h-5 w-5 text-amber-600 group-hover:translate-x-1 transition-transform"})]})}),e.jsx(Ke,{to:"/admin/usuarios",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 dark:border-blue-800 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 transition-colors group cursor-pointer",children:[e.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:e.jsx(ds,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Gerenciar Usurios"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Visualizar e gerenciar todos os usurios do sistema"})]}),e.jsx(ja,{className:"h-5 w-5 text-blue-600 group-hover:translate-x-1 transition-transform"})]})}),e.jsx(Ke,{to:"/admin/relatorios",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-green-200 bg-green-50 hover:bg-green-100 dark:border-green-800 dark:bg-green-900/20 dark:hover:bg-green-900/30 transition-colors group cursor-pointer",children:[e.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:e.jsx(ro,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Relatrios"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Visualizar estatsticas e relatrios do sistema"})]}),e.jsx(ja,{className:"h-5 w-5 text-green-600 group-hover:translate-x-1 transition-transform"})]})})]})]}),e.jsxs(ie,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[e.jsx(rt,{className:"h-5 w-5 text-purple-600"}),"Solicitaes Recentes"]}),e.jsx(Qe,{className:"text-slate-600 dark:text-slate-400",children:"ltimas solicitaes de cadastro no sistema"})]}),e.jsx(te,{variant:"outline",asChild:!0,children:e.jsx(Ke,{to:"/admin/solicitacoes",children:"Ver Todas"})})]})}),e.jsx(le,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:r.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/50 dark:to-blue-900/50 flex items-center justify-center",children:g.tipo==="medico"?e.jsx(xt,{className:"h-6 w-6 text-purple-600"}):e.jsx(Ir,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:g.nome}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx("span",{children:g.tipo==="medico"?`${g.especialidade} - ${g.crm}`:`${g.cnpj} - ${g.responsavel}`}),e.jsx("span",{children:""}),e.jsx("span",{children:new Date(g.dataEnvio).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[u(g.urgencia),p(g.status),g.status==="pending"&&e.jsx(te,{size:"sm",className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800",asChild:!0,children:e.jsx(Ke,{to:`/admin/solicitacoes/${g.id}`,children:"Revisar"})})]})]},g.id))})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[e.jsx(Js,{className:"h-5 w-5 text-green-600"}),"Aprovaes desta Semana"]})}),e.jsxs(le,{children:[e.jsx("div",{className:"text-4xl font-bold text-green-700 dark:text-green-300 mb-2",children:t.aprovacoesSemana}),e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[t.aprovadosMedicosSemana," mdicos e ",t.aprovadasClinicasSemana," clnicas aprovados"]})]})]}),e.jsxs(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/50",children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[e.jsx(Qs,{className:"h-5 w-5 text-red-600"}),"Rejeies desta Semana"]})}),e.jsxs(le,{children:[e.jsx("div",{className:"text-4xl font-bold text-red-700 dark:text-red-300 mb-2",children:t.rejeicoesSemana}),e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:[t.rejeitadosMedicosSemana," mdicos e ",t.rejeitadasClinicasSemana," clnicas rejeitados"]})]})]}),e.jsxs(ie,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:e.jsxs(xe,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[e.jsx(sc,{className:"h-5 w-5 text-purple-600"}),"Configuraes"]})}),e.jsxs(le,{className:"p-6 space-y-3",children:[e.jsx(te,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:e.jsxs(Ke,{to:"/admin/configuracoes",children:[e.jsx(sc,{className:"h-4 w-4"}),"Configuraes do Sistema"]})}),e.jsx(te,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:e.jsxs(Ke,{to:"/admin/logs",children:[e.jsx(Hs,{className:"h-4 w-4"}),"Logs do Sistema"]})}),e.jsx(te,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:e.jsxs(Ke,{to:"/admin/backup",children:[e.jsx(Da,{className:"h-4 w-4"}),"Backup e Segurana"]})})]})]})]})]})]})}function fA(){const[t,a]=x.useState(""),[r,o]=x.useState("all"),[i,c]=x.useState("all"),[d,p]=x.useState("all"),[u,g]=x.useState(!1),[f,h]=x.useState([]),v=x.useRef(null),{toast:w}=Jt(),y=x.useMemo(()=>({search:t.trim(),status:r,tipo:i,urgencia:d}),[t,r,i,d]);x.useEffect(()=>{g(!0);const R=setTimeout(async()=>{if(v.current)try{v.current.abort()}catch{}const I=new AbortController;v.current=I;try{const L={};y.status!=="all"&&(L.status=y.status),y.tipo!=="all"&&(L.tipo=y.tipo),y.urgencia!=="all"&&(L.urgencia=y.urgencia),y.search&&(L.search=y.search);const U=await zt.getSolicitacoes(L,{signal:I.signal}),K=Array.isArray(U==null?void 0:U.results)?U.results:Array.isArray(U)?U:[];h(K)}catch(L){(L==null?void 0:L.name)!=="AbortError"&&h([])}finally{g(!1)}},400);return()=>clearTimeout(R)},[y]);const j=async R=>{g(!0);try{const I=await zt.aprovarSolicitacao(R);h(L=>L.map(U=>U.id===R?{...U,status:"approved",aprovadoPor:(I==null?void 0:I.approved_by)||U.aprovadoPor||"",dataAprovacao:(I==null?void 0:I.approved_at)||U.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:U)),w({title:"Solicitao aprovada",description:"A solicitao foi aprovada com sucesso."})}catch{w({title:"Erro ao aprovar",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{g(!1)}},N=async R=>{const I=window.prompt("Informe o motivo da rejeio:");if(I!==null){g(!0);try{const L=await zt.rejeitarSolicitacao(R,(I||"").trim());h(U=>U.map(K=>K.id===R?{...K,status:"rejected",rejeitadoPor:(L==null?void 0:L.rejected_by)||K.rejeitadoPor||"",dataRejeicao:(L==null?void 0:L.rejected_at)||K.dataRejeicao||new Date().toISOString(),motivoRejeicao:(L==null?void 0:L.rejection_reason)||I||K.motivoRejeicao||"",aprovadoPor:"",dataAprovacao:null}:K)),w({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."})}catch{w({title:"Erro ao rejeitar",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{g(!1)}}},P=R=>{switch(R){case"pending":return e.jsxs(ft,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(rt,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(ft,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Js,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(ft,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(Qs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},C=R=>{switch(R){case"alta":return e.jsxs(ft,{variant:"destructive",className:"text-xs",children:[e.jsx(Qo,{className:"mr-1 h-2 w-2"}),"Alta"]});case"normal":return e.jsx(ft,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(ft,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}},_=f.filter(R=>{const I=(R.nome||"").toLowerCase().includes(t.toLowerCase())||(R.email||"").toLowerCase().includes(t.toLowerCase())||R.crm&&String(R.crm).toLowerCase().includes(t.toLowerCase())||R.cnpj&&String(R.cnpj).includes(t),L=r==="all"||R.status===r,U=i==="all"||R.tipo===i,K=d==="all"||R.urgencia===d;return I&&L&&U&&K}),E=_.filter(R=>R.status==="pending"),k=_.filter(R=>R.status==="approved"),A=_.filter(R=>R.status==="rejected"),T=({solicitacao:R})=>e.jsxs(ie,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl group",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${R.tipo==="medico"?"bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-600":"bg-gradient-to-br from-purple-100 to-pink-100 text-purple-600"}`,children:R.tipo==="medico"?e.jsx(xt,{className:"h-6 w-6"}):e.jsx(Ir,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:R.nome}),e.jsx(Qe,{className:"text-gray-600 font-medium",children:R.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C(R.urgencia),P(R.status)]})]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:R.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("p",{className:"text-gray-800 font-medium",children:R.tipo==="medico"?R.especialidade:R.cnpj})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:R.tipo==="medico"?"CRM":"Responsvel"}),e.jsx("p",{className:"text-gray-800 font-medium",children:R.tipo==="medico"?R.crm:R.responsavel})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-100",children:[e.jsx("p",{className:"font-semibold text-blue-600 text-sm mb-1",children:"Data de Envio"}),e.jsxs("p",{className:"flex items-center gap-2 text-blue-800 font-medium",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsxs("span",{children:[new Date(R.dataEnvio).toLocaleDateString()," s"," ",new Date(R.dataEnvio).toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border border-green-100",children:[e.jsx("p",{className:"font-semibold text-green-600 text-sm mb-1",children:"Documentos"}),e.jsxs("p",{className:"text-green-800 font-medium",children:[Array.isArray(R.documentos)?R.documentos.length:0," arquivo(s)"]})]})]}),R.observacoes&&e.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 p-4 rounded-xl",children:e.jsx("p",{className:"text-amber-800 text-sm font-medium",children:R.observacoes})}),R.status==="approved"&&e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 p-4 rounded-xl",children:e.jsxs("p",{className:"text-green-800 text-sm font-medium",children:[e.jsx("strong",{children:"Aprovado em:"})," ",R.dataAprovacao?new Date(R.dataAprovacao).toLocaleDateString():"",R.aprovadoPor?e.jsxs(e.Fragment,{children:[" por ",R.aprovadoPor]}):null]})}),R.status==="rejected"&&R.motivoRejeicao&&e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-4 rounded-xl",children:e.jsxs("p",{className:"text-red-800 text-sm font-medium",children:[e.jsx("strong",{children:"Rejeitado:"})," ",R.motivoRejeicao,R.rejeitadoPor&&e.jsxs(e.Fragment,{children:[" por ",R.rejeitadoPor]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(te,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:e.jsxs(Ke,{to:`/admin/solicitacoes/${R.id}`,children:[e.jsx(ya,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),R.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(te,{size:"sm",onClick:()=>j(R.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:u,children:[e.jsx(Js,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),e.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>N(R.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:u,children:[e.jsx(Qs,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]})})]});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white",children:e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Solicitaes"}),e.jsx("p",{className:"text-blue-100",children:"Gerencie solicitaes de mdicos e clnicas"})]}),e.jsx("div",{className:"hidden md:flex items-center gap-4",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold",children:_.length}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Total"})]})})]})})}),e.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(ie,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 hover:shadow-lg transition-all duration-300",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-600 text-sm font-medium",children:"Pendentes"}),e.jsx("p",{className:"text-2xl font-bold text-amber-700",children:E.length})]}),e.jsx("div",{className:"bg-amber-100 p-3 rounded-full",children:e.jsx(rt,{className:"h-6 w-6 text-amber-600"})})]})})}),e.jsx(ie,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:shadow-lg transition-all duration-300",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Aprovadas"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:k.length})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(Js,{className:"h-6 w-6 text-green-600"})})]})})}),e.jsx(ie,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-red-200 hover:shadow-lg transition-all duration-300",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Rejeitadas"}),e.jsx("p",{className:"text-2xl font-bold text-red-700",children:A.length})]}),e.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:e.jsx(Qs,{className:"h-6 w-6 text-red-600"})})]})})}),e.jsx(ie,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 hover:shadow-lg transition-all duration-300",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:_.length})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(Hn,{className:"h-6 w-6 text-blue-600"})})]})})})]}),e.jsxs(ie,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl border-b",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx(Hn,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-xl",children:"Filtros Avanados"}),e.jsx(Qe,{children:"Use os filtros para refinar sua busca"})]})]})}),e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por nome, e-mail, CRM ou CNPJ",className:"pl-9 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",value:t,onChange:R=>a(R.target.value)})]}),e.jsx("div",{children:e.jsxs(Ct,{value:r,onValueChange:o,children:[e.jsx(wt,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:e.jsx(_t,{placeholder:"Status"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"all",children:"Todos"}),e.jsx(Se,{value:"pending",children:"Pendente"}),e.jsx(Se,{value:"approved",children:"Aprovado"}),e.jsx(Se,{value:"rejected",children:"Rejeitado"})]})]})}),e.jsx("div",{children:e.jsxs(Ct,{value:i,onValueChange:c,children:[e.jsx(wt,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:e.jsx(_t,{placeholder:"Tipo"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"all",children:"Todos"}),e.jsx(Se,{value:"medico",children:"Mdicos"}),e.jsx(Se,{value:"clinica",children:"Clnicas"})]})]})}),e.jsx("div",{children:e.jsxs(Ct,{value:d,onValueChange:p,children:[e.jsx(wt,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:e.jsx(_t,{placeholder:"Urgncia"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"all",children:"Todas"}),e.jsx(Se,{value:"alta",children:"Alta"}),e.jsx(Se,{value:"normal",children:"Normal"}),e.jsx(Se,{value:"baixa",children:"Baixa"})]})]})})]})})]}),e.jsx(ie,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:e.jsxs(Va,{defaultValue:"todas",className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl p-6 border-b",children:e.jsxs(Ha,{className:"bg-white/80 backdrop-blur-sm border shadow-sm rounded-xl p-1",children:[e.jsxs(St,{value:"todas",className:"gap-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(Hn,{className:"h-4 w-4"})," Todas"]}),e.jsxs(St,{value:"pendentes",className:"gap-2 data-[state=active]:bg-amber-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(rt,{className:"h-4 w-4"})," Pendentes"]}),e.jsxs(St,{value:"aprovadas",className:"gap-2 data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(Js,{className:"h-4 w-4"})," Aprovadas"]}),e.jsxs(St,{value:"rejeitadas",className:"gap-2 data-[state=active]:bg-red-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(Qs,{className:"h-4 w-4"})," Rejeitadas"]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx(Ot,{value:"todas",children:u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):_.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(Es,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:_.map(R=>e.jsx(T,{solicitacao:R},R.id))})}),e.jsx(Ot,{value:"pendentes",children:u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):E.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(rt,{className:"h-8 w-8 text-amber-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao pendente."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:E.map(R=>e.jsx(T,{solicitacao:R},R.id))})}),e.jsx(Ot,{value:"aprovadas",children:u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):k.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(Js,{className:"h-8 w-8 text-green-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao aprovada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:k.map(R=>e.jsx(T,{solicitacao:R},R.id))})}),e.jsx(Ot,{value:"rejeitadas",children:u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):A.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(Qs,{className:"h-8 w-8 text-red-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao rejeitada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:A.map(R=>e.jsx(T,{solicitacao:R},R.id))})})]})]})})]})]})}function hA(){var P;const{id:t}=eo(),a=Ts(),{toast:r}=Jt(),[o,i]=x.useState(!1),[c,d]=x.useState(""),[p,u]=x.useState(""),[g,f]=x.useState(!0),[h,v]=x.useState(null);if(x.useEffect(()=>{let C=!0;return(async()=>{try{const E=await zt.getSolicitacao(t);C&&v(E)}catch{r({title:"Erro ao carregar",description:"No foi possvel carregar a solicitao.",variant:"destructive"}),a("/admin/solicitacoes")}finally{C&&f(!1)}})(),()=>{C=!1}},[t]),g)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(te,{variant:"ghost",onClick:()=>a("/admin/solicitacoes"),children:[e.jsx(Xo,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),e.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitao"})]})]})});if(!h)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(te,{variant:"ghost",onClick:()=>a("/admin/solicitacoes"),children:[e.jsx(Xo,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitao no encontrada"}),e.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const w=async()=>{i(!0);try{await zt.aprovarSolicitacao(t,c||""),r({title:"Solicitao aprovada!",description:`${(h==null?void 0:h.nome)||"Solicitao"} aprovada com sucesso.`}),a("/admin/solicitacoes")}catch{r({title:"Erro",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{i(!1)}},y=async()=>{if(!p.trim()){r({title:"Motivo obrigatrio",description:"Por favor, informe o motivo da rejeio.",variant:"destructive"});return}i(!0);try{await zt.rejeitarSolicitacao(t,p.trim()),r({title:"Solicitao rejeitada",description:`A solicitao de ${(h==null?void 0:h.nome)||""} foi rejeitada.`}),a("/admin/solicitacoes")}catch{r({title:"Erro",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{i(!1)}},j=C=>{switch(C){case"pending":return e.jsxs(ft,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(Qo,{className:"mr-1 h-3 w-3"}),"Aguardando Anlise"]});case"approved":return e.jsxs(ft,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Js,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(ft,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(Qs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},N=(h==null?void 0:h.endereco)||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(te,{variant:"ghost",onClick:()=>a("/admin/solicitacoes"),children:[e.jsx(Xo,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitao"}),e.jsx("p",{className:"text-muted-foreground",children:"Anlise completa da solicitao de cadastro"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`app-quick-icon ${h.tipo==="medico"?"info":"primary"} h-12 w-12`,children:h.tipo==="medico"?e.jsx(xt,{className:"h-6 w-6"}):e.jsx(Ir,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-xl",children:h.nome}),e.jsx(Qe,{children:h.tipo==="medico"?"Solicitao de Cadastro Mdico":"Solicitao de Cadastro de Clnica"})]})]}),j(h.status)]})}),e.jsxs(le,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:h.email})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($r,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:h.telefone})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("span",{children:h.especialidade})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"CRM":"Responsvel Tcnico"}),e.jsx("span",{children:h.crm})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Data de Envio"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[new Date(h.dataEnvio||h.created_at).toLocaleDateString()," s"," ",new Date(h.dataEnvio||h.created_at).toLocaleTimeString()]})]})]})]}),e.jsx(Bs,{}),h.tipo==="medico"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Instituio de Formao"}),e.jsx("span",{children:h.instituicaoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Ano de Formao"}),e.jsx("span",{children:h.anoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Residncia"}),e.jsx("span",{children:h.residencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Instituio da Residncia"}),e.jsx("span",{children:h.instituicaoResidencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Ano da Residncia"}),e.jsx("span",{children:h.anoResidencia})]})]})]}),e.jsx(Bs,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h.experiencia})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Motivao"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h.motivacao})})]}),e.jsx(Bs,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Endereo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"CEP"}),e.jsx("span",{children:N.cep||""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Logradouro"}),e.jsx("span",{children:N.logradouro||""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Bairro"}),e.jsx("span",{children:N.bairro||""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:"Cidade/Estado"}),e.jsxs("span",{children:[N.cidade||"","/",N.estado||""]})]})]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5"}),"Documentos Enviados"]}),e.jsxs(Qe,{children:[((P=h.documentos)==null?void 0:P.length)||0," documento(s) anexado(s)"]})]}),e.jsx(le,{children:e.jsx("div",{className:"space-y-3",children:(h.documentos||[]).map((C,_)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(os,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:C.nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.tamanho,"  Enviado em ",new Date(C.dataUpload).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(te,{variant:"outline",size:"sm",children:[e.jsx(ya,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),e.jsxs(te,{variant:"outline",size:"sm",children:[e.jsx(sr,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},_))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[h.status==="pending"&&e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Aes"}),e.jsx(Qe,{children:"Aprovar ou rejeitar esta solicitao"})]}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"observacoes",children:"Observaes (opcional)"}),e.jsx(pt,{id:"observacoes",placeholder:"Adicione observaes sobre esta solicitao...",value:c,onChange:C=>d(C.target.value)})]}),e.jsxs(te,{variant:"default",className:"w-full",onClick:w,disabled:o,children:[e.jsx(Js,{className:"mr-2 h-4 w-4"}),o?"Aprovando...":"Aprovar Solicitao"]}),e.jsx(Bs,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"motivoRejeicao",children:"Motivo da Rejeio"}),e.jsx(pt,{id:"motivoRejeicao",placeholder:"Informe o motivo da rejeio...",value:p,onChange:C=>u(C.target.value)})]}),e.jsxs(te,{variant:"destructive",className:"w-full",onClick:y,disabled:o,children:[e.jsx(Qs,{className:"mr-2 h-4 w-4"}),o?"Rejeitando...":"Rejeitar Solicitao"]})]})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Informaes do Sistema"})}),e.jsxs(le,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"ID da Solicitao:"}),e.jsxs("span",{className:"font-mono",children:["#",h.id.toString().padStart(6,"0")]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),e.jsx("span",{className:"capitalize",children:h.tipo})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Urgncia:"}),e.jsx(ft,{variant:h.urgencia==="alta"?"destructive":"secondary",className:"text-xs",children:h.urgencia})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),j(h.status)]})]})]})]})]})]})}const Lg=[{value:"7",label:"ltimos 7 dias"},{value:"30",label:"ltimos 30 dias"},{value:"90",label:"ltimos 90 dias"}];function pA(t){const a=new Date(t);return a.setHours(0,0,0,0),a}function xA(t){const a=new Date(t);return a.setHours(23,59,59,999),a}function gA(t){const a=new Date(t),r=a.getFullYear(),o=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");return`${r}-${o}-${i}`}function vA(){var h;const[t,a]=x.useState("30"),[r,o]=x.useState("all"),[i,c]=x.useState(!1),[d,p]=x.useState(null),[u,g]=x.useState([]),f=x.useMemo(()=>{if(!u.length)return{total:0,aprovadas:0,rejeitadas:0,pendentes:0,aprovMed:0,aprovCli:0,rejMed:0,rejCli:0,byDay:[],maxDay:0};const v=u.length,w=u.filter(T=>T.status==="aprovada").length,y=u.filter(T=>T.status==="rejeitada").length,j=u.filter(T=>T.status==="pendente").length,N=u.filter(T=>T.status==="aprovada"&&T.tipo==="medico").length,P=u.filter(T=>T.status==="aprovada"&&T.tipo==="clinica").length,C=u.filter(T=>T.status==="rejeitada"&&T.tipo==="medico").length,_=u.filter(T=>T.status==="rejeitada"&&T.tipo==="clinica").length,E={};u.forEach(T=>{const R=gA(T.createdAt);E[R]||(E[R]={ymd:R,aprov:0,rej:0}),T.status==="aprovada"&&E[R].aprov++,T.status==="rejeitada"&&E[R].rej++});const k=Object.values(E).sort((T,R)=>T.ymd.localeCompare(R.ymd)),A=Math.max(...k.map(T=>Math.max(T.aprov,T.rej)),1);return{total:v,aprovadas:w,rejeitadas:y,pendentes:j,aprovMed:N,aprovCli:P,rejMed:C,rejCli:_,byDay:k,maxDay:A}},[u]);return x.useEffect(()=>{(async()=>{c(!0),p(null);try{const w=new Date,y=parseInt(t,10),j=new Date(w.getTime()-y*24*60*60*1e3),N={startDate:pA(j).toISOString(),endDate:xA(w).toISOString()};r!=="all"&&(N.tipo=r);const P=await ue.get("/admin/solicitacoes",{params:N});g(P.data||[])}catch(w){console.error("Erro ao buscar dados:",w),p(w)}finally{c(!1)}})()},[t,r]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6 space-y-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(ai,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Relatrios Administrativos"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Anlise detalhada de solicitaes e mtricas do sistema"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ro,{className:"h-5 w-5 text-green-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Total"})]}),e.jsx("div",{className:"text-2xl font-bold",children:f.total})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Js,{className:"h-5 w-5 text-green-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Aprovadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-300",children:f.aprovadas})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Qs,{className:"h-5 w-5 text-red-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Rejeitadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-red-300",children:f.rejeitadas})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(rt,{className:"h-5 w-5 text-amber-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),e.jsx("div",{className:"text-2xl font-bold text-amber-300",children:f.pendentes})]})]})]})]}),e.jsx(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:e.jsxs(pe,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Hn,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Filtros Avanados"}),e.jsx(Qe,{className:"text-slate-600",children:"Configure o perodo e tipo de anlise"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Perodo"}),e.jsxs(Ct,{value:t,onValueChange:a,children:[e.jsx(wt,{className:"w-48 bg-white border-slate-200 focus:border-blue-500 focus:ring-blue-500/20",children:e.jsx(_t,{})}),e.jsx(Nt,{children:Lg.map(v=>e.jsx(Se,{value:v.value,children:v.label},v.value))})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Tipo"}),e.jsxs(Ct,{value:r,onValueChange:o,children:[e.jsx(wt,{className:"w-48 bg-white border-slate-200 focus:border-blue-500 focus:ring-blue-500/20",children:e.jsx(_t,{})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"all",children:"Todos"}),e.jsx(Se,{value:"medico",children:"Mdico"}),e.jsx(Se,{value:"clinica",children:"Clnica"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Aes"}),e.jsxs(te,{variant:"outline",size:"sm",disabled:i,onClick:()=>a(t),className:"bg-white border-slate-200 hover:bg-slate-50 hover:border-blue-300 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:border-blue-400 transition-all duration-200",children:[e.jsx(T0,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Atualizar"]})]})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-slate-50 hover:shadow-2xl transition-all duration-300 group",children:[e.jsx(pe,{className:"pb-3",children:e.jsx(xe,{className:"text-sm font-medium text-slate-600 group-hover:text-slate-800 transition-colors",children:"Total no Perodo"})}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-slate-800 mb-2",children:f.total}),e.jsx("p",{className:"text-sm text-slate-500",children:(h=Lg.find(v=>v.value===t))==null?void 0:h.label})]})]}),e.jsxs(ie,{className:"border-0 shadow-xl bg-gradient-to-br from-green-50 to-emerald-50 hover:shadow-2xl transition-all duration-300 group",children:[e.jsx(pe,{className:"pb-3",children:e.jsxs(xe,{className:"text-sm font-medium flex items-center gap-2 text-green-700 group-hover:text-green-800 transition-colors",children:[e.jsx(Js,{className:"h-4 w-4"}),"Aprovadas"]})}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:f.aprovadas}),e.jsxs("p",{className:"text-sm text-green-600/70",children:[f.aprovMed," mdicos  ",f.aprovCli," clnicas"]})]})]}),e.jsxs(ie,{className:"border-0 shadow-xl bg-gradient-to-br from-red-50 to-rose-50 hover:shadow-2xl transition-all duration-300 group",children:[e.jsx(pe,{className:"pb-3",children:e.jsxs(xe,{className:"text-sm font-medium flex items-center gap-2 text-red-700 group-hover:text-red-800 transition-colors",children:[e.jsx(Qs,{className:"h-4 w-4"}),"Rejeitadas"]})}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:f.rejeitadas}),e.jsxs("p",{className:"text-sm text-red-600/70",children:[f.rejMed," mdicos  ",f.rejCli," clnicas"]})]})]}),e.jsxs(ie,{className:"border-0 shadow-xl bg-gradient-to-br from-amber-50 to-yellow-50 hover:shadow-2xl transition-all duration-300 group",children:[e.jsx(pe,{className:"pb-3",children:e.jsxs(xe,{className:"text-sm font-medium flex items-center gap-2 text-amber-700 group-hover:text-amber-800 transition-colors",children:[e.jsx(rt,{className:"h-4 w-4"}),"Pendentes"]})}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600 mb-2",children:f.pendentes}),e.jsx("p",{className:"text-sm text-amber-600/70",children:"Aguardando reviso"})]})]})]}),e.jsxs(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsxs(pe,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:[e.jsx(xe,{className:"text-slate-800",children:"Srie diria (Aprovadas x Rejeitadas)"}),e.jsx(Qe,{className:"text-slate-600",children:"Distribuio por dia no perodo filtrado"})]}),e.jsxs(le,{className:"space-y-4 p-6",children:[f.byDay.map(v=>{const w=Math.round(v.aprov/f.maxDay*100),y=Math.round(v.rej/f.maxDay*100);return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 mb-2",children:[e.jsx("span",{className:"font-medium",children:v.ymd}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ft,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:["Aprovadas: ",v.aprov]}),e.jsxs(ft,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:["Rejeitadas: ",v.rej]})]})]}),e.jsxs("div",{className:"h-4 w-full rounded-lg bg-slate-100 overflow-hidden shadow-inner",children:[e.jsx("div",{className:"h-4 bg-gradient-to-r from-green-400 to-green-500 inline-block transition-all duration-500 group-hover:from-green-500 group-hover:to-green-600",style:{width:`${w}%`},title:`Aprovadas: ${v.aprov}`}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-red-400 to-red-500 inline-block transition-all duration-500 group-hover:from-red-500 group-hover:to-red-600",style:{width:`${y}%`},title:`Rejeitadas: ${v.rej}`})]})]},v.ymd)}),!f.byDay.length&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-slate-400 text-lg mb-2",children:""}),e.jsx("div",{className:"text-sm text-slate-500",children:"Sem dados no perodo escolhido."})]})]})]}),i&&e.jsx(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:e.jsx(le,{className:"p-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gradient-to-r from-slate-200 to-slate-300 rounded-lg w-1/3"}),e.jsx("div",{className:"h-32 bg-gradient-to-r from-slate-200 to-slate-300 rounded-lg"})]})})}),d&&e.jsx(ie,{className:"border-0 shadow-xl bg-gradient-to-br from-red-50 to-rose-50",children:e.jsxs(le,{className:"p-8 text-center",children:[e.jsx("div",{className:"text-red-400 text-4xl mb-4",children:""}),e.jsx("p",{className:"text-red-600 font-medium",children:"Erro ao carregar dados"}),e.jsx("p",{className:"text-red-500 text-sm mt-2",children:String(d)})]})})]})}function jA(){const[t,a]=x.useState([]),[r,o]=x.useState(!1),[i,c]=x.useState(null),[d,p]=x.useState(null),[u,g]=x.useState(null),[f,h]=x.useState(""),[v,w]=x.useState(""),[y,j]=x.useState(""),[N,P]=x.useState(""),[C,_]=x.useState(""),[E,k]=x.useState(""),[A,T]=x.useState(""),R=x.useMemo(()=>{const L={ordering:"-created_at",limit:20};return f&&(L.action=f),v&&(L.entity=v),y&&(L.status=y),N&&(L.user=N),C&&(L.created_at__gte=new Date(C).toISOString()),E&&(L.created_at__lte=new Date(E).toISOString()),A&&(L.search=A),L},[f,v,y,N,C,E,A]),I=async L=>{var U,K,z,D;o(!0),c(null);try{const G=typeof L=="string"?await ue.get(L):await zt.getAuditoria(L),$=(G==null?void 0:G.data)??G,H=Array.isArray($==null?void 0:$.results)?$.results:Array.isArray($)?$:[];a(H),p(($==null?void 0:$.next)||null),g(($==null?void 0:$.previous)||null)}catch(G){const $=(U=G==null?void 0:G.response)==null?void 0:U.status,q=(typeof((K=G==null?void 0:G.response)==null?void 0:K.data)=="string"?null:(D=(z=G==null?void 0:G.response)==null?void 0:z.data)==null?void 0:D.detail)||(G==null?void 0:G.message)||"Falha ao carregar auditoria";c($?`Erro ${$}: ${q}`:q)}finally{o(!1)}};return x.useEffect(()=>{I(R)},[R]),e.jsxs("div",{className:"space-y-8 p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-red-700 to-red-800 rounded-2xl p-8 text-white shadow-2xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(Da,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Auditoria"}),e.jsx("p",{className:"text-red-100 text-lg",children:"Acompanhe registros de aes do sistema"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Hs,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Total de Registros"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ss,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Usurios nicos"}),e.jsx("p",{className:"text-2xl font-bold",children:new Set(t.map(L=>{var U;return(U=L.user)==null?void 0:U.id})).size})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ye,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Hoje"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(L=>new Date(L.created_at).toDateString()===new Date().toDateString()).length})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ya,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Sucessos"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(L=>L.status==="success").length})]})]})})]})]}),e.jsxs(ie,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"pb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:e.jsx(Hn,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-xl font-semibold text-gray-900",children:"Filtros Avanados"}),e.jsx(Qe,{className:"text-gray-600",children:"Refine a busca por perodo, usurio e tipo de ao"})]})]})}),e.jsxs(le,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Incio"}),e.jsx(fe,{type:"date",value:C,onChange:L=>_(L.target.value),className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Fim"}),e.jsx(fe,{type:"date",value:E,onChange:L=>k(L.target.value),className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),e.jsxs(Ct,{value:y,onValueChange:L=>j(L==="all"?"":L),children:[e.jsx(wt,{className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",children:e.jsx(_t,{placeholder:"Selecionar status"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"all",children:"Todos"}),e.jsx(Se,{value:"success",children:"Sucesso"}),e.jsx(Se,{value:"fail",children:"Falha"})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usurio (UUID)"}),e.jsx(fe,{value:N,onChange:L=>P(L.target.value),placeholder:"ID do usurio",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ao"}),e.jsx(fe,{value:f,onChange:L=>h(L.target.value),placeholder:"ex: login, create, update",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Entidade"}),e.jsx(fe,{value:v,onChange:L=>w(L.target.value),placeholder:"ex: Consulta, Paciente",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Busca Geral"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(fe,{value:A,onChange:L=>T(L.target.value),placeholder:"Buscar por ao, entidade, IP ou usurio...",className:"pl-10 h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs(te,{onClick:()=>I(R),className:"h-11 px-6 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(Es,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsxs(te,{variant:"outline",onClick:()=>{h(""),w(""),j(""),P(""),_(""),k(""),T("")},className:"h-11 px-6 bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:[e.jsx(T0,{className:"mr-2 h-4 w-4"}),"Limpar"]})]})]})]})]}),e.jsxs(ie,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between pb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:e.jsx(Hs,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-xl font-semibold text-gray-900",children:"Registros de Auditoria"}),e.jsx(Qe,{className:"text-gray-600",children:"Resultados paginados (20 por pgina)"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{variant:"outline",size:"sm",disabled:!u||r,onClick:()=>I(u),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:e.jsx(R0,{className:"h-4 w-4"})}),e.jsx(te,{variant:"outline",size:"sm",disabled:!d||r,onClick:()=>I(d),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:e.jsx(ja,{className:"h-4 w-4"})})]})]}),e.jsxs(le,{children:[i&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:e.jsx("p",{className:"text-red-700 font-medium",children:i})}),e.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Data"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Usurio"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Ao"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Entidade"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"ID"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"IP"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Status"})]})}),e.jsxs("tbody",{children:[!r&&t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gray-100 rounded-full",children:e.jsx(Hs,{className:"h-6 w-6 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum registro encontrado"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Tente ajustar os filtros de busca"})]})})}),t.map((L,U)=>{var K,z;return e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 transition-all duration-200 ${U%2===0?"bg-white":"bg-gray-50/30"}`,children:[e.jsx("td",{className:"py-4 px-6 text-sm text-gray-900 font-medium whitespace-nowrap",children:new Date(L.created_at).toLocaleString("pt-BR")}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:((K=L.user)==null?void 0:K.username)||((z=L.user)==null?void 0:z.email)||"-"}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:L.action})}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:L.entity||"-"}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:L.entity_id||"-"}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:L.ip_address||"-"}),e.jsx("td",{className:"py-4 px-6",children:L.status==="success"?e.jsx(ft,{className:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",variant:"outline",children:"Sucesso"}):e.jsx(ft,{className:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",variant:"outline",children:"Falha"})})]},L.id)})]})]})})]})]})]})}function yA(){const{activeRole:t,toggleRole:a}=La(),{user:r}=nr(),o=Ts();if(!((r==null?void 0:r.role)==="medico"||(r==null?void 0:r.is_medico)||(r==null?void 0:r.isMedico)||!1))return null;const c=()=>{a(),o(t==="medico"?"/paciente/perfil":"/medico/dashboard")};return e.jsx(te,{variant:"outline",size:"sm",onClick:c,className:"flex items-center gap-2 transition-all duration-200 hover:shadow-md",children:t==="medico"?e.jsxs(e.Fragment,{children:[e.jsx(ss,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Paciente"})]}):e.jsxs(e.Fragment,{children:[e.jsx(xt,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Mdico"})]})})}function bA(){const{isAuthenticated:t}=La();return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container flex h-14 items-center",children:[e.jsx("div",{className:"mr-4 flex",children:e.jsx(Ke,{to:"/",className:"mr-6 flex items-center space-x-2",children:e.jsx("span",{className:"font-bold",children:"Portal Mdico"})})}),e.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:e.jsxs("nav",{className:"flex items-center space-x-2",children:[e.jsx(Rf,{}),t&&e.jsx(yA,{})]})})]})}),e.jsx("main",{className:"flex-1",children:e.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8 text-center",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl",children:"Bem-vindo ao Portal Mdico"}),e.jsx("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-xl dark:text-gray-400",children:"Conectando mdicos e pacientes para uma experincia de sade integrada."}),e.jsx("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-lg dark:text-gray-400",children:"Nossa plataforma oferece uma soluo completa para gerenciamento de consultas, pronturios e histrico mdico, facilitando a comunicao entre profissionais de sade e pacientes."})]}),t?e.jsxs("div",{className:"space-x-4",children:[e.jsx(Ke,{to:"/medico/dashboard",children:e.jsx(te,{children:"Acessar como Mdico"})}),e.jsx(Ke,{to:"/paciente/perfil",children:e.jsx(te,{variant:"outline",children:"Acessar como Paciente"})})]}):e.jsx("div",{className:"w-full max-w-md mx-auto mt-8",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(Ke,{to:"/login",className:"w-full",children:e.jsx(te,{className:"w-full h-12 rounded-xl bg-app-gradient text-white font-semibold shadow-app hover:opacity-90",children:"Entrar"})}),e.jsx(Ke,{to:"/registrar",className:"w-full",children:e.jsx(te,{variant:"outline",className:"w-full h-12 rounded-xl border-slate-300 bg-white/90 text-slate-700 shadow-sm hover:bg-white hover:shadow-md",children:"Criar Conta"})})]})})]})})})})]})}function wA(){var A,T,R,I,L,U,K,z,D,G;const[t,a]=x.useState(!1),[r,o]=x.useState("none"),{toast:i}=Jt();Ts();const{setActiveRole:c,setUserPermissions:d}=La(),p=((A=ht.getCurrentUser)==null?void 0:A.call(ht))||null,g=`medicoApplicationStatus:${p&&(p.id||p.pk||p.email||p.username)||"anon"}`;x.useEffect(()=>{try{const $=localStorage.getItem("medicoApplicationStatus");$&&!localStorage.getItem(g)&&(localStorage.setItem(g,$),localStorage.removeItem("medicoApplicationStatus"));const H=JSON.parse(localStorage.getItem(g)||"{}");H!=null&&H.status&&o(H.status)}catch{}},[g]);const[f,h]=x.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),v=$=>String($||"").replace(/\D/g,"").slice(0,7),w=$=>{const{name:H,value:q}=$.target,Y=H==="crm"?v(q):q;h({...f,[H]:Y})},y=($,H)=>{h({...f,[$]:H})},j=($,H)=>{h({...f,documentos:{...f.documentos,[$]:H}})},N=x.useRef(null),P=x.useRef(null),C=x.useRef(null),_=($,H)=>{h(q=>({...q,documentos:{...q.documentos,[$]:null}})),H!=null&&H.current&&(H.current.value="")},E=async $=>{var H,q,Y,ee;if($.preventDefault(),a(!0),!((H=f.documentos)!=null&&H.diplomaMedicina)){i({title:"Arquivo obrigatrio",description:"Anexe o Diploma de Medicina antes de enviar.",variant:"destructive"}),a(!1);return}try{const{solicitacaoService:M}=await si(async()=>{const{solicitacaoService:B}=await Promise.resolve().then(()=>db);return{solicitacaoService:B}},void 0);await M.criarSolicitacaoMedico(f),o("pending"),localStorage.setItem(g,JSON.stringify({status:"pending",at:new Date().toISOString()})),d(B=>({...B,medicoStatus:"pending"})),i({title:"Solicitao enviada!",description:"Sua solicitao para se tornar mdico foi enviada para anlise."})}catch(M){const B=(q=M==null?void 0:M.response)==null?void 0:q.status;if(B===404)o("pending"),localStorage.setItem(g,JSON.stringify({status:"pending",at:new Date().toISOString(),simulated:!0})),d(re=>({...re,medicoStatus:"pending"})),i({title:"Solicitao registrada (modo teste)",description:"Sem endpoint de backend disponvel. Status salvo localmente."});else if(B===405){const re=((Y=M==null?void 0:M.config)==null?void 0:Y.url)||"(desconhecido)";console.warn("Endpoint no aceita POST (405). URL usada:",re),i({title:"Mtodo no permitido (405)",description:`O backend no aceita POST neste endpoint: ${re}. Verifique a varivel de ambiente do endpoint de solicitaes do mdico ou me informe a rota correta de criao.`,variant:"destructive"})}else{const re=(ee=M==null?void 0:M.response)==null?void 0:ee.data;console.error("[MedicoRegistration] criarSolicitacaoMedico falhou:",M,re),i({title:"Erro ao enviar",description:typeof re=="string"?re:"No foi possvel enviar a solicitao. Verifique os campos e tente novamente.",variant:"destructive"})}}finally{a(!1)}},k=()=>{switch(r){case"pending":return e.jsxs(ft,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(rt,{className:"mr-1 h-3 w-3"}),"Aguardando Aprovao"]});case"approved":return e.jsxs(ft,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Js,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(ft,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(Qs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}};return r==="approved"?e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5 text-green-600"}),e.jsx(xe,{className:"text-green-700",children:"Parabns! Voc  um mdico aprovado"})]}),e.jsx(Qe,{children:"Sua solicitao foi aprovada. Agora voc pode acessar todas as funcionalidades mdicas."})]}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Voc agora pode alternar entre os perfis de paciente e mdico usando o boto no menu lateral."})}),e.jsx(te,{className:"w-full",children:"Acessar rea Mdica"})]})})]}):r==="pending"?e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"}),e.jsx(xe,{children:"Solicitao de Cadastro Mdico"})]}),k()]}),e.jsx(Qe,{children:"Sua solicitao est sendo analisada pela equipe administrativa."})]}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsx("strong",{children:"Status:"})," Aguardando aprovao",e.jsx("br",{}),e.jsx("strong",{children:"Enviado em:"})," ",new Date().toLocaleDateString(),e.jsx("br",{}),e.jsx("strong",{children:"Tempo estimado:"})," 2-5 dias teis"]})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc receber um email quando sua solicitao for processada. Enquanto isso, voc pode continuar usando o sistema como paciente."})]})})]}):r==="rejected"?e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"}),e.jsx(xe,{children:"Solicitao de Cadastro Mdico"})]}),k()]}),e.jsx(Qe,{children:"Sua solicitao foi rejeitada. Veja os motivos abaixo."})]}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[e.jsx("strong",{children:"Motivos da rejeio:"}),e.jsx("br",{})," Documentao incompleta",e.jsx("br",{})," CRM no encontrado no sistema do CFM",e.jsx("br",{})," Informaes inconsistentes"]})}),e.jsx(te,{variant:"outline",className:"w-full bg-transparent",onClick:()=>o("none"),children:"Enviar Nova Solicitao"})]})})]}):e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"}),e.jsx(xe,{children:"Cadastro como Mdico"})]}),e.jsx(Qe,{children:"Preencha os dados abaixo para solicitar acesso s funcionalidades mdicas"})]}),e.jsx(le,{children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Dados Profissionais"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"crm",children:"CRM *"}),e.jsx(fe,{id:"crm",name:"crm",placeholder:"Ex: CRM/SP 123456",value:f.crm,onChange:w,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"especialidade",children:"Especialidade *"}),e.jsxs(Ct,{onValueChange:$=>y("especialidade",$),children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Selecione sua especialidade"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"clinica-geral",children:"Clnica Geral"}),e.jsx(Se,{value:"cardiologia",children:"Cardiologia"}),e.jsx(Se,{value:"dermatologia",children:"Dermatologia"}),e.jsx(Se,{value:"endocrinologia",children:"Endocrinologia"}),e.jsx(Se,{value:"ginecologia",children:"Ginecologia"}),e.jsx(Se,{value:"neurologia",children:"Neurologia"}),e.jsx(Se,{value:"ortopedia",children:"Ortopedia"}),e.jsx(Se,{value:"pediatria",children:"Pediatria"}),e.jsx(Se,{value:"psiquiatria",children:"Psiquiatria"}),e.jsx(Se,{value:"urologia",children:"Urologia"}),e.jsx(Se,{value:"outras",children:"Outras"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"instituicaoFormacao",children:"Instituio de Formao *"}),e.jsx(fe,{id:"instituicaoFormacao",name:"instituicaoFormacao",placeholder:"Ex: USP, UNIFESP, etc.",value:f.instituicaoFormacao,onChange:w,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"anoFormacao",children:"Ano de Formao *"}),e.jsx(fe,{id:"anoFormacao",name:"anoFormacao",type:"number",placeholder:"Ex: 2015",min:"1950",max:new Date().getFullYear(),value:f.anoFormacao,onChange:w,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"residencia",children:"Residncia Mdica"}),e.jsx(fe,{id:"residencia",name:"residencia",placeholder:"Ex: Cardiologia",value:f.residencia,onChange:w})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"instituicaoResidencia",children:"Instituio da Residncia"}),e.jsx(fe,{id:"instituicaoResidencia",name:"instituicaoResidencia",placeholder:"Ex: Hospital das Clnicas",value:f.instituicaoResidencia,onChange:w})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"anoResidencia",children:"Ano de Concluso da Residncia"}),e.jsx(fe,{id:"anoResidencia",name:"anoResidencia",type:"number",placeholder:"Ex: 2018",min:"1950",max:new Date().getFullYear(),value:f.anoResidencia,onChange:w})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"experiencia",children:"Descreva sua experincia profissional *"}),e.jsx(pt,{id:"experiencia",name:"experiencia",placeholder:"Descreva onde trabalhou, por quanto tempo, principais atividades...",className:"min-h-[100px]",value:f.experiencia,onChange:w,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"motivacao",children:"Por que deseja usar nossa plataforma? *"}),e.jsx(pt,{id:"motivacao",name:"motivacao",placeholder:"Conte-nos sobre suas motivaes e como pretende usar a plataforma...",className:"min-h-[100px]",value:f.motivacao,onChange:w,required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Documentos Obrigatrios"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Diploma de Medicina *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var $;return($=N.current)==null?void 0:$.click()},onDragOver:$=>$.preventDefault(),onDrop:$=>{var q;$.preventDefault();const H=(q=$.dataTransfer.files)==null?void 0:q[0];H&&j("diplomaMedicina",H)},children:[e.jsx(Bu,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(T=f.documentos)!=null&&T.diplomaMedicina?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(R=f.documentos)!=null&&R.diplomaMedicina?f.documentos.diplomaMedicina.name:"PDF, JPG ou PNG at 5MB"}),e.jsx(fe,{ref:N,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:$=>j("diplomaMedicina",$.target.files[0])}),((I=f.documentos)==null?void 0:I.diplomaMedicina)&&e.jsx("div",{className:"mt-2",children:e.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>_("diplomaMedicina",N),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Certificado de Residncia (se aplicvel)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var $;return($=P.current)==null?void 0:$.click()},onDragOver:$=>$.preventDefault(),onDrop:$=>{var q;$.preventDefault();const H=(q=$.dataTransfer.files)==null?void 0:q[0];H&&j("certificadoResidencia",H)},children:[e.jsx(Bu,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(L=f.documentos)!=null&&L.certificadoResidencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(U=f.documentos)!=null&&U.certificadoResidencia?f.documentos.certificadoResidencia.name:"PDF, JPG ou PNG at 5MB"}),e.jsx(fe,{ref:P,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:$=>j("certificadoResidencia",$.target.files[0])}),((K=f.documentos)==null?void 0:K.certificadoResidencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>_("certificadoResidencia",P),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Comprovante de Experincia"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var $;return($=C.current)==null?void 0:$.click()},onDragOver:$=>$.preventDefault(),onDrop:$=>{var q;$.preventDefault();const H=(q=$.dataTransfer.files)==null?void 0:q[0];H&&j("comprovanteExperiencia",H)},children:[e.jsx(Bu,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(z=f.documentos)!=null&&z.comprovanteExperiencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(D=f.documentos)!=null&&D.comprovanteExperiencia?f.documentos.comprovanteExperiencia.name:"PDF, JPG ou PNG at 5MB"}),e.jsx(fe,{ref:C,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:$=>j("comprovanteExperiencia",$.target.files[0])}),((G=f.documentos)==null?void 0:G.comprovanteExperiencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>_("comprovanteExperiencia",C),children:"Remover arquivo"})})]})]})]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Importante:"})," Sua solicitao ser analisada por nossa equipe administrativa. O processo pode levar de 2 a 5 dias teis. Voc receber um email com o resultado da anlise."]})}),e.jsx(te,{type:"submit",className:"w-full",disabled:t,children:t?"Enviando solicitao...":"Enviar Solicitao"})]})})]})}function om(){const{activeRole:t}=La(),a=us(),r=a.pathname.startsWith("/paciente/"),o=a.pathname.startsWith("/medico/"),{toast:i}=Jt(),[c,d]=x.useState(!0),[p,u]=x.useState(!1),[g,f]=x.useState(null),[h,v]=x.useState(null),[w,y]=x.useState(null),[j,N]=x.useState({first_name:"",last_name:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:""}),[P,C]=x.useState({atual:"",nova:"",confirmar:""}),[_,E]=x.useState(!1),[k,A]=x.useState({email:!0,lembretes:!0,exames:!0,push:!1}),[T,R]=x.useState(!1),[I,L]=x.useState({tipo_sanguineo:"",alergias:"",condicoes_cronicas:"",contato_emergencia_nome:"",contato_emergencia_telefone:"",plano_saude:"",numero_carteirinha:"",peso:"",altura:""}),[U,K]=x.useState(!1),z=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],[D,G]=x.useState(!1),[$,H]=x.useState(null),[q,Y]=x.useState(!1),[ee,M]=x.useState(!1),{ephemeralCertFile:B,setEphemeralCertFile:re,ephemeralCertPassword:F,setEphemeralCertPassword:V}=La(),[Q,se]=x.useState(B||null),[ne,ve]=x.useState(F||"");x.useEffect(()=>{re(Q)},[Q]),x.useEffect(()=>{V(ne)},[ne]);const[ge,Pe]=x.useState(null),[Me,Ve]=x.useState("Assinatura de documento mdico"),[lt,yt]=x.useState("Hospital"),[Tt,It]=x.useState(!1),ms=async()=>{var Ne,Re;if(!ge){i.error("Selecione um PDF para assinar.");return}if(!Q){i.error("Selecione um certificado (.pfx/.p12) para assinar o PDF.");return}if(!(ne&&ne.trim())){i.error("Informe a senha do certificado (.pfx/.p12).");return}const ke=new FormData;ke.append("file",ge),ke.append("pfx",Q),ke.append("certificado",Q),ke.append("pkcs12",Q),ke.append("pfx_password",ne.trim()),ke.append("senha",ne.trim()),ke.append("password",ne.trim()),ke.append("no_persist","true"),ke.append("ephemeral","true"),Me&&ke.append("reason",Me),lt&&ke.append("location",lt);try{It(!0);const{filename:ut,blob:Oe}=await it.signDocumento(ke,{reason:Me,location:lt}),qe=window.URL.createObjectURL(Oe),Dt=document.createElement("a");Dt.href=qe,Dt.download=ut||"documento_assinado.pdf",document.body.appendChild(Dt),Dt.click(),Dt.remove(),window.URL.revokeObjectURL(qe),i.success("Documento assinado com sucesso.")}catch(ut){const Oe=((Re=(Ne=ut==null?void 0:ut.response)==null?void 0:Ne.data)==null?void 0:Re.message)||(ut==null?void 0:ut.message)||"Falha ao assinar o documento.";i.error(Oe)}finally{It(!1)}};x.useEffect(()=>{let ke=!0;return(async()=>{var Ne;try{d(!0);const[Re,ut]=await Promise.allSettled([jt.getPerfil(),jt.getPacienteDoUsuario()]);if(!ke)return;const Oe=Re.status==="fulfilled"?Re.value:null,qe=ut.status==="fulfilled"?ut.value:null;v(Oe),y(qe),N(Dt=>({...Dt,first_name:(Oe==null?void 0:Oe.first_name)||"",last_name:(Oe==null?void 0:Oe.last_name)||"",email:(Oe==null?void 0:Oe.email)||"",cpf:(Oe==null?void 0:Oe.cpf)||"",telefone:(Oe==null?void 0:Oe.telefone)||"",data_nascimento:(Oe==null?void 0:Oe.data_nascimento)||"",endereco:typeof(Oe==null?void 0:Oe.endereco)=="string"?Oe.endereco:Oe!=null&&Oe.endereco?`${Oe.endereco.logradouro||""} ${Oe.endereco.numero||""} ${Oe.endereco.bairro||""} ${Oe.endereco.cidade||""} ${Oe.endereco.estado||""}`.trim():""})),L({tipo_sanguineo:(qe==null?void 0:qe.tipo_sanguineo)||"",alergias:(qe==null?void 0:qe.alergias)||"",condicoes_cronicas:(qe==null?void 0:qe.condicoes_cronicas)||"",contato_emergencia_nome:(qe==null?void 0:qe.contato_emergencia_nome)||"",contato_emergencia_telefone:(qe==null?void 0:qe.contato_emergencia_telefone)||"",plano_saude:(qe==null?void 0:qe.plano_saude)||"",numero_carteirinha:(qe==null?void 0:qe.numero_carteirinha)||"",peso:(qe==null?void 0:qe.peso)??"",altura:(qe==null?void 0:qe.altura)??""});try{const Dt=localStorage.getItem("notification_prefs");if(Dt){const da=JSON.parse(Dt);A(Ca=>({...Ca,...da}))}}catch{}}catch(Re){const ut=(Ne=Re==null?void 0:Re.response)==null?void 0:Ne.status;f(ut===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar os dados.")}finally{ke&&d(!1)}})(),()=>{ke=!1}},[]),x.useEffect(()=>{o&&Je()},[o]);const Et=ke=>{const{name:Ne,value:Re}=ke.target;N(ut=>({...ut,[Ne]:Re}))},Ht=ke=>{const{name:Ne,value:Re}=ke.target;L(ut=>({...ut,[Ne]:Re}))};async function he(){var ke;u(!0);try{const Ne={first_name:j.first_name||"",last_name:j.last_name||"",telefone:j.telefone||"",data_nascimento:j.data_nascimento||"",endereco:j.endereco||""},Re=await jt.atualizarPerfil(Ne);v(Re),i({title:"Perfil atualizado",description:"Suas informaes pessoais foram salvas."})}catch(Ne){const Re=(ke=Ne==null?void 0:Ne.response)!=null&&ke.data?JSON.stringify(Ne.response.data):"No foi possvel salvar o perfil.";i({title:"Erro ao salvar",description:Re,variant:"destructive"})}finally{u(!1)}}async function Ie(){var ke;K(!0);try{const Ne=await jt.atualizarPaciente(I);y(Re=>({...Re||{},...Ne||{}})),i({title:"Informaes do paciente salvas",description:"Dados atualizados com sucesso."})}catch(Ne){const Re=(ke=Ne==null?void 0:Ne.response)!=null&&ke.data?JSON.stringify(Ne.response.data):"No foi possvel salvar os dados do paciente.";i({title:"Erro ao salvar",description:Re,variant:"destructive"})}finally{K(!1)}}const He=async()=>{var ke,Ne;if(!P.nova||P.nova.length<6){i({title:"Senha invlida",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(P.nova!==P.confirmar){i({title:"Confirmao incorreta",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}E(!0);try{await ue.post("/auth/change-password/",{old_password:P.atual,new_password:P.nova}),C({atual:"",nova:"",confirmar:""}),i({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."})}catch(Re){const Oe=((ke=Re==null?void 0:Re.response)==null?void 0:ke.status)===404?"Endpoint de alterao de senha no encontrado. Verifique o backend.":(Ne=Re==null?void 0:Re.response)!=null&&Ne.data?JSON.stringify(Re.response.data):"No foi possvel alterar a senha.";i({title:"Erro ao alterar senha",description:Oe,variant:"destructive"})}finally{E(!1)}},Ee=ke=>{A(Ne=>({...Ne,[ke]:!Ne[ke]}))},Ze=()=>{R(!0);try{localStorage.setItem("notification_prefs",JSON.stringify(k)),i({title:"Preferncias salvas",description:"Suas preferncias de notificao foram atualizadas."})}finally{R(!1)}};async function Je(){Y(!0);try{const ke=await it.getCertificadoInfo();H(ke||null)}catch{H(null)}finally{Y(!1)}}async function ot(){var Re,ut;if(!Q){i({title:"Selecione um arquivo",description:"Escolha um arquivo .pfx, .p12, .crt, .cer ou .pem.",variant:"destructive"});return}const ke=15*1024*1024;if(Q.size>ke){i({title:"Arquivo muito grande",description:"O limite  de 15MB.",variant:"destructive"});return}const Ne=new FormData;Ne.append("file",Q),Ne.append("certificado",Q),Ne.append("arquivo",Q),Ne.append("pfx",Q),ne&&(Ne.append("password",ne),Ne.append("senha",ne),Ne.append("passphrase",ne),Ne.append("pfx_password",ne)),Ne.append("no_persist","true"),Ne.append("ephemeral","true"),Ne.append("save_public_only","true"),M(!0);try{const Oe=await it.uploadCertificado(Ne);H(Oe||null);const qe=Oe!=null&&Oe.public_cert_saved?"Certificado pblico extrado e salvo para validaes. O PFX no foi armazenado.":"Certificado processado. O PFX no foi armazenado.";i({title:"Processamento concludo",description:qe}),se(null)}catch(Oe){const qe=(Re=Oe==null?void 0:Oe.response)==null?void 0:Re.status,Dt=(ut=Oe==null?void 0:Oe.response)==null?void 0:ut.data;i({title:"Falha no processamento",description:qe===404?"Endpoint de upload no encontrado no backend. Configure a varivel VITE_MEDICO_CERTIFICADO_ENDPOINT.":typeof Dt=="string"?Dt:"No foi possvel processar o certificado.",variant:"destructive"})}finally{M(!1),ve("")}}const ct=(()=>{const ke=($==null?void 0:$.valid_to)||($==null?void 0:$.validade_fim)||($==null?void 0:$.validade)||($==null?void 0:$.valid_to_date);if(!ke)return null;const Ne=new Date(ke);return Math.ceil((Ne-new Date)/(1e3*60*60*24))})(),gt=!!($&&($.exists??$.id??$.valid_to??$.subject)),[Mt,xs]=x.useState({nome:"",crm:"",especialidade:"",telefone:"",endereco:""}),[js,ys]=x.useState(!1);x.useEffect(()=>{o&&(async()=>{var ke,Ne,Re,ut,Oe,qe,Dt,da,Ca,or,ir,_e;try{const Z=await it.getPerfil();if(!Z)return;const $t=(Z==null?void 0:Z.nome)||((ke=Z==null?void 0:Z.user)!=null&&ke.first_name||(Ne=Z==null?void 0:Z.user)!=null&&Ne.last_name?`${((Re=Z==null?void 0:Z.user)==null?void 0:Re.first_name)||""} ${((ut=Z==null?void 0:Z.user)==null?void 0:ut.last_name)||""}`.trim():((Oe=Z==null?void 0:Z.user)==null?void 0:Oe.nome)||((qe=Z==null?void 0:Z.user)==null?void 0:qe.name)||"")||"",Ae=(Z==null?void 0:Z.crm)||(Z==null?void 0:Z.crm_numero)||(Z==null?void 0:Z.crm_registro)||((Dt=Z==null?void 0:Z.user)==null?void 0:Dt.crm)||"";let Qt="";typeof(Z==null?void 0:Z.especialidade)=="string"?Qt=Z.especialidade:Z!=null&&Z.especialidade&&typeof Z.especialidade=="object"&&(Qt=Z.especialidade.nome||Z.especialidade.label||Z.especialidade.titulo||"");const Rt=(Z==null?void 0:Z.telefone)||(Z==null?void 0:Z.celular)||((da=Z==null?void 0:Z.user)==null?void 0:da.phone)||((Ca=Z==null?void 0:Z.user)==null?void 0:Ca.telefone)||((or=Z==null?void 0:Z.contato)==null?void 0:or.telefone)||"";let Pt=(Z==null?void 0:Z.endereco)||((ir=Z==null?void 0:Z.user)==null?void 0:ir.endereco)||((_e=Z==null?void 0:Z.clinica)==null?void 0:_e.endereco)||"",dt="";typeof Pt=="string"?dt=Pt:Pt&&typeof Pt=="object"&&(dt=`${Pt.logradouro||Pt.rua||""} ${Pt.numero||""} ${Pt.bairro||""} ${Pt.cidade||""} ${Pt.estado||""}`.trim()),xs({nome:$t,crm:Ae,especialidade:Qt,telefone:Rt,endereco:dt})}catch{}})()},[o]);const Zs=ke=>{const{name:Ne,value:Re}=ke.target;xs(ut=>({...ut,[Ne]:Re}))},bs=async()=>{var ke;ys(!0);try{const Ne={telefone:Mt.telefone||"",endereco:Mt.endereco||"",especialidade:Mt.especialidade||""},Re=await it.updatePerfilMedico(Ne);if(Re){const ut=Re.telefone||Re.celular||Mt.telefone;let Oe=Re.endereco||Mt.endereco;Oe&&typeof Oe=="object"&&(Oe=`${Oe.logradouro||Oe.rua||""} ${Oe.numero||""} ${Oe.bairro||""} ${Oe.cidade||""} ${Oe.estado||""}`.trim());let qe=Mt.especialidade;typeof(Re==null?void 0:Re.especialidade)=="string"?qe=Re.especialidade:Re!=null&&Re.especialidade&&typeof Re.especialidade=="object"&&(qe=Re.especialidade.nome||Re.especialidade.label||Re.especialidade.titulo||qe),xs(Dt=>({...Dt,telefone:ut,endereco:Oe,especialidade:qe}))}i({title:"Dados do mdico atualizados",description:"Telefone, endereo e especialidade foram salvos."})}catch(Ne){const Re=(ke=Ne==null?void 0:Ne.response)!=null&&ke.data?JSON.stringify(Ne.response.data):"No foi possvel salvar os dados do mdico.";i({title:"Erro ao salvar",description:Re,variant:"destructive"})}finally{ys(!1)}};return e.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informaes pessoais e preferncias da conta"})]}),r&&e.jsx(ca,{tabs:z,basePath:"/paciente"}),!r&&t==="secretaria"&&!(w!=null&&w.id)&&e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Criar perfil de paciente"}),e.jsx(Qe,{children:"Para acessar as funcionalidades de paciente com esta conta, crie seu perfil de paciente."})]}),e.jsxs(le,{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum perfil de paciente encontrado para esta conta."}),e.jsx(te,{onClick:async()=>{var ke;G(!0);try{const Ne=await jt.garantirPacienteDoUsuario({});y(Ne),i({title:"Perfil de paciente criado",description:"Voc j pode acessar a rea do paciente."})}catch(Ne){const Re=(ke=Ne==null?void 0:Ne.response)!=null&&ke.data?JSON.stringify(Ne.response.data):"No foi possvel criar o perfil.";i({title:"Erro",description:Re,variant:"destructive"})}finally{G(!1)}},disabled:D,children:D?"Criando...":"Criar meu perfil de paciente"})]})]}),e.jsxs(Va,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(Ha,{className:`grid w-full ${o?"grid-cols-5":"grid-cols-3"}`,children:[e.jsxs(St,{value:"perfil",className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"}),"Perfil"]}),e.jsxs(St,{value:"seguranca",className:"flex items-center gap-2",children:[e.jsx(A0,{className:"h-4 w-4"}),"Segurana"]}),e.jsxs(St,{value:"notificacoes",className:"flex items-center gap-2",children:[e.jsx(Jm,{className:"h-4 w-4"}),"Notificaes"]}),o&&e.jsxs(e.Fragment,{children:[e.jsxs(St,{value:"certificado",className:"flex items-center gap-2",children:[e.jsx(Da,{className:"h-4 w-4"}),"Certificado Digital"]}),e.jsxs(St,{value:"dados_medico",className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-4 w-4"}),"Dados do Mdico"]})]})]}),e.jsx(Ot,{value:"perfil",children:e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Informaes Pessoais"}),e.jsx(Qe,{children:"Atualize suas informaes pessoais e de contato"})]}),e.jsx(le,{className:"space-y-6",children:c?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):g?e.jsx("p",{className:"text-destructive",children:g}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"first_name",children:"Nome"}),e.jsx(fe,{id:"first_name",name:"first_name",value:j.first_name,onChange:Et})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(fe,{id:"last_name",name:"last_name",value:j.last_name,onChange:Et})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"email",children:"Email"}),e.jsx(fe,{id:"email",name:"email",value:j.email,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"cpf",children:"CPF"}),e.jsx(fe,{id:"cpf",name:"cpf",value:j.cpf,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:j.telefone,onChange:Et})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"data_nascimento",children:"Data de Nascimento"}),e.jsx(fe,{id:"data_nascimento",name:"data_nascimento",type:"date",value:j.data_nascimento||"",onChange:Et})]})]}),e.jsx(Bs,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"endereco",children:"Endereo"}),e.jsx(pt,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:j.endereco,onChange:Et})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(te,{onClick:he,disabled:p,children:p?"Salvando...":"Salvar Alteraes"})}),e.jsx(Bs,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Mais Informaes do Paciente"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Esses dados ajudam mdicos a entender melhor seu histrico."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"tipo_sanguineo",children:"Tipo Sanguneo"}),e.jsx(fe,{id:"tipo_sanguineo",name:"tipo_sanguineo",value:I.tipo_sanguineo,onChange:Ht,placeholder:"Ex.: O+, A-, B+, AB+"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"plano_saude",children:"Plano de Sade"}),e.jsx(fe,{id:"plano_saude",name:"plano_saude",value:I.plano_saude,onChange:Ht})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"numero_carteirinha",children:"Nmero da Carteirinha"}),e.jsx(fe,{id:"numero_carteirinha",name:"numero_carteirinha",value:I.numero_carteirinha,onChange:Ht})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"contato_emergencia_nome",children:"Contato de Emergncia (Nome)"}),e.jsx(fe,{id:"contato_emergencia_nome",name:"contato_emergencia_nome",value:I.contato_emergencia_nome,onChange:Ht})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"contato_emergencia_telefone",children:"Contato de Emergncia (Telefone)"}),e.jsx(fe,{id:"contato_emergencia_telefone",name:"contato_emergencia_telefone",value:I.contato_emergencia_telefone,onChange:Ht})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"peso",children:"Peso (kg)"}),e.jsx(fe,{id:"peso",name:"peso",type:"number",step:"0.1",value:I.peso,onChange:Ht})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"altura",children:"Altura (cm)"}),e.jsx(fe,{id:"altura",name:"altura",type:"number",step:"0.1",value:I.altura,onChange:Ht})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(me,{htmlFor:"alergias",children:"Alergias"}),e.jsx(pt,{id:"alergias",name:"alergias",rows:3,value:I.alergias,onChange:Ht,placeholder:"Ex.: Dipirona, poeira, frutos do mar"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(me,{htmlFor:"condicoes_cronicas",children:"Condies Crnicas"}),e.jsx(pt,{id:"condicoes_cronicas",name:"condicoes_cronicas",rows:3,value:I.condicoes_cronicas,onChange:Ht,placeholder:"Ex.: Hipertenso, Diabetes, Asma"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(te,{onClick:Ie,disabled:U,variant:"outline",children:U?"Salvando...":"Salvar Informaes do Paciente"})})]})]})})]})}),e.jsx(Ot,{value:"seguranca",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Alterar Senha"}),e.jsx(Qe,{children:"Mantenha sua conta segura com uma senha forte"})]}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"senha-atual",children:"Senha Atual"}),e.jsx(fe,{id:"senha-atual",type:"password",value:P.atual,onChange:ke=>C(Ne=>({...Ne,atual:ke.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"nova-senha",children:"Nova Senha"}),e.jsx(fe,{id:"nova-senha",type:"password",value:P.nova,onChange:ke=>C(Ne=>({...Ne,nova:ke.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"confirmar-senha",children:"Confirmar Nova Senha"}),e.jsx(fe,{id:"confirmar-senha",type:"password",value:P.confirmar,onChange:ke=>C(Ne=>({...Ne,confirmar:ke.target.value}))})]}),e.jsx(te,{onClick:He,disabled:_,children:_?"Alterando...":"Alterar Senha"})]})]}),e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Autenticao de Dois Fatores"}),e.jsx(Qe,{children:"Adicione uma camada extra de segurana  sua conta"})]}),e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Autenticao de Dois Fatores"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No configurada"})]}),e.jsx(te,{variant:"outline",disabled:!0,children:"Em breve"})]})})]})]})}),e.jsx(Ot,{value:"notificacoes",children:e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Preferncias de Notificao"}),e.jsx(Qe,{children:"Configure como voc deseja receber notificaes"})]}),e.jsxs(le,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),e.jsx(te,{variant:"outline",size:"sm",onClick:()=>Ee("email"),children:k.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Lembretes de Consulta"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes das consultas"})]}),e.jsx(te,{variant:"outline",size:"sm",onClick:()=>Ee("lembretes"),children:k.lembretes?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Resultados de Exames"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja notificado quando exames ficarem prontos"})]}),e.jsx(te,{variant:"outline",size:"sm",onClick:()=>Ee("exames"),children:k.exames?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificaes Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),e.jsx(te,{variant:"outline",size:"sm",onClick:()=>Ee("push"),children:k.push?"Ativado":"Desativado"})]})]}),e.jsx(te,{onClick:Ze,disabled:T,children:T?"Salvando...":"Salvar Preferncias"})]})]})}),o&&e.jsx(Ot,{value:"certificado",children:e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Configurao de Certificado Digital"}),e.jsx(Qe,{children:"Envie seu certificado (.pfx/.p12 ou .crt/.cer/.pem). O arquivo  enviado com segurana ao servidor."})]}),e.jsxs(le,{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border p-4 bg-white",children:[q?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mr-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando informaes do certificado..."})]}):gt?e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-green-700",children:"Certificado cadastrado"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Titular: ",($==null?void 0:$.subject_name)||($==null?void 0:$.subject)||($==null?void 0:$.nome)||""]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitente: ",($==null?void 0:$.issuer)||($==null?void 0:$.issuer_name)||($==null?void 0:$.emitente)||""]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validade: ",($==null?void 0:$.valid_from)||($==null?void 0:$.validade_inicio)||"?","  ",($==null?void 0:$.valid_to)||($==null?void 0:$.validade_fim)||"?"]}),ct!=null&&e.jsx("p",{className:`text-sm ${ct<=0?"text-destructive":ct<30?"text-amber-600":"text-emerald-600"}`,children:ct<=0?"Expirado":`Expira em ${ct} dia(s)`})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum certificado cadastrado para este mdico."}),e.jsx("div",{className:"mt-3",children:e.jsx(te,{variant:"outline",size:"sm",onClick:Je,disabled:q,children:q?"Validando...":"Validar agora"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-gray-700",children:"Arquivo do certificado"}),e.jsx(fe,{type:"file",accept:".pfx,.p12,.crt,.cer,.pem",onChange:ke=>{var Ne;return se(((Ne=ke.target.files)==null?void 0:Ne[0])||null)},className:"border-gray-200 focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceita: .pfx, .p12, .crt, .cer, .pem. Tamanho mximo: 15MB."}),Q&&e.jsxs("p",{className:"text-xs",children:["Selecionado: ",Q.name," (",Math.ceil(Q.size/1024)," KB)"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"text-sm font-medium text-gray-700",children:"Senha do certificado (se aplicvel)"}),e.jsx(lc,{delayDuration:0,children:e.jsxs(cc,{children:[e.jsx(dc,{asChild:!0,children:e.jsx(gm,{size:16,className:"text-muted-foreground cursor-help"})}),e.jsx(ii,{side:"top",children:"Certificados PKCS#12 (.pfx/.p12) contendo chave privada. O arquivo no  persistido."})]})}),e.jsx(fe,{type:"password",value:ne,onChange:ke=>ve(ke.target.value),placeholder:"Senha do .pfx (opcional)"}),(!ne||!ne.trim())&&e.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatria para assinatura."}),ne&&ne.trim().length<4&&e.jsx("p",{className:"text-xs text-yellow-600",children:"A senha parece curta. Verifique se est correta."}),ne&&ne.trim()&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: se a senha falhar, confirme maisculas/minsculas, layout do teclado e se o certificado corresponde ao seu CRM."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceitamos certificados no formato PKCS#12 (.pfx/.p12). A senha no  persistida e  usada somente em memria durante a assinatura."})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(te,{onClick:ot,disabled:ee,children:ee?"Enviando...":"Enviar Certificado"})}),e.jsx(Bs,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Arquivo PDF para assinar"}),e.jsx(fe,{type:"file",accept:".pdf",onChange:ke=>{var Ne;return Pe(((Ne=ke.target.files)==null?void 0:Ne[0])||null)}}),ge&&e.jsxs("p",{className:"text-xs",children:["Selecionado: ",ge.name," (",Math.ceil(ge.size/1024)," KB)"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Motivo (opcional)"}),e.jsx(fe,{value:Me,onChange:ke=>Ve(ke.target.value),placeholder:"Ex.: Assinatura de prescrio"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Local (opcional)"}),e.jsx(fe,{value:lt,onChange:ke=>yt(ke.target.value),placeholder:"Ex.: So Paulo - SP"})]})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(te,{onClick:ms,disabled:Tt||!ge,children:Tt?"Assinando...":"Assinar e Baixar"})})]})]})]})}),o&&e.jsx(Ot,{value:"dados_medico",children:e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Dados do Mdico"}),e.jsx(Qe,{children:"Atualize seu telefone, endereo e especialidade."})]}),e.jsxs(le,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Nome"}),e.jsx(fe,{value:Mt.nome||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"CRM"}),e.jsx(fe,{value:Mt.crm||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"especialidade",children:"Especialidade"}),e.jsx(fe,{id:"especialidade",name:"especialidade",value:Mt.especialidade||"",onChange:Zs})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:Mt.telefone||"",onChange:Zs})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(me,{htmlFor:"endereco",children:"Endereo"}),e.jsx(pt,{id:"endereco",name:"endereco",value:Mt.endereco||"",onChange:Zs})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("p",{children:"Nome e CRM so gerenciados pela administrao."}),e.jsx("div",{className:"flex gap-2",children:e.jsx(te,{onClick:bs,disabled:js,children:js?"Salvando...":"Salvar Dados do Mdico"})})]})]})]})}),r&&e.jsx(Ot,{value:"medico",children:e.jsx(wA,{})})]})]})})}function NA({children:t}){const{user:a,isAuthenticated:r,loading:o}=nr(),i=us(),{userPermissions:c}=La();if(o)return null;if(!r)return e.jsx(Lt,{to:"/login",state:{from:i},replace:!0});const d=(a==null?void 0:a.role)||(a==null?void 0:a.tipo),p=(c==null?void 0:c.medicoStatus)==="approved";return d!=="medico"&&d!=="admin"&&!p?d==="paciente"?e.jsx(Lt,{to:"/paciente/perfil",replace:!0}):d==="clinica"?e.jsx(Lt,{to:"/clinica/dashboard",replace:!0}):e.jsx(Lt,{to:"/",replace:!0}):t}function SA({children:t}){const{user:a,isAuthenticated:r,loading:o}=nr(),i=us();if(o)return null;if(!r)return e.jsx(Lt,{to:"/login",state:{from:i},replace:!0});const c=(a==null?void 0:a.role)||(a==null?void 0:a.tipo);return c!=="clinica"&&c!=="admin"?c==="paciente"?e.jsx(Lt,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx(Lt,{to:"/medico/dashboard",replace:!0}):e.jsx(Lt,{to:"/",replace:!0}):t}function CA({children:t}){const{user:a,isAuthenticated:r,loading:o}=nr(),i=us(),[c,d]=x.useState(!1),[p,u]=x.useState(!1);if(x.useEffect(()=>{let f=!0;async function h(){if(!r)return;if(((a==null?void 0:a.role)||(a==null?void 0:a.tipo))==="secretaria"){d(!0);try{const w=await jt.getPacienteDoUsuario();if(!f)return;u(!!(w!=null&&w.id))}catch{if(!f)return;u(!1)}finally{f&&d(!1)}}}return h(),()=>{f=!1}},[r,a==null?void 0:a.role,a==null?void 0:a.tipo]),o||c)return null;if(!r)return e.jsx(Lt,{to:"/login",state:{from:i},replace:!0});const g=(a==null?void 0:a.role)||(a==null?void 0:a.tipo);return g!=="paciente"&&g!=="admin"?g==="secretaria"&&p?t:g==="medico"?e.jsx(Lt,{to:"/medico/dashboard",replace:!0}):g==="clinica"?e.jsx(Lt,{to:"/clinica/dashboard",replace:!0}):e.jsx(Lt,{to:"/",replace:!0}):t}function _A({children:t}){const{user:a,isAuthenticated:r,loading:o}=nr(),i=us();if(o)return null;if(!r)return e.jsx(Lt,{to:"/login",state:{from:i},replace:!0});const c=(a==null?void 0:a.role)||(a==null?void 0:a.tipo);return c!=="admin"?c==="paciente"?e.jsx(Lt,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx(Lt,{to:"/medico/dashboard",replace:!0}):c==="clinica"?e.jsx(Lt,{to:"/clinica/dashboard",replace:!0}):e.jsx(Lt,{to:"/",replace:!0}):t}const kA=t=>{var r;const a=o=>(o==null?void 0:o.nome)||(o==null?void 0:o.titulo)||(o==null?void 0:o.name)||(o==null?void 0:o.descricao)||(o==null?void 0:o.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const o=t.especialidades.map(i=>a(i)||(typeof i=="string"?i:null)).filter(Boolean);if(o.length)return o.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const o=a(t.especialidade);if(o)return o}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((r=t==null?void 0:t.user)==null?void 0:r.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():null};function EA(){const[t,a]=x.useState([]),[r,o]=x.useState(!0),[i,c]=x.useState(!1),[d,p]=x.useState(null),{toast:u}=Jt(),g=Ts(),[f,h]=x.useState({medico:"",data:"",hora:"",modalidade:"online",local:"",tipo:"primeira_consulta",motivo:"",observacoes:""}),[v,w]=x.useState([]),y=k=>k?typeof k=="string"?k:[k.logradouro,k.numero,k.bairro,k.cidade,k.estado].filter(Boolean).join(" ").trim()||null:null,j=k=>{var A,T,R;return(k==null?void 0:k.local_atendimento)||(k==null?void 0:k.local)||y(k==null?void 0:k.endereco)||y((A=k==null?void 0:k.user)==null?void 0:A.endereco)||y((T=k==null?void 0:k.clinica)==null?void 0:T.endereco)||((R=k==null?void 0:k.clinica)==null?void 0:R.nome)||null},N=(k,A)=>{const T=[],R=L=>{if(!L)return;const[U,K]=String(L).split(":");U!=null&&K!=null&&T.push(`${String(U).padStart(2,"0")}:${String(K).padStart(2,"0")}`)},I=(L,U)=>{const K=new Date(L),z=new Date(U),D=new Date(K);for(;D<z;){const G=String(D.getHours()).padStart(2,"0"),$=String(D.getMinutes()).padStart(2,"0");T.push(`${G}:${$}`),D.setMinutes(D.getMinutes()+30)}};return k.forEach(L=>{if(L!=null&&L.data_hora_inicio&&(L!=null&&L.data_hora_fim)){I(L.data_hora_inicio,L.data_hora_fim);return}if(L!=null&&L.inicio&&(L!=null&&L.fim)){I(L.inicio,L.fim);return}if(L!=null&&L.start&&(L!=null&&L.end)){I(L.start,L.end);return}if(Array.isArray(L==null?void 0:L.horarios)){L.horarios.forEach(U=>{R(typeof U=="string"?U.slice(0,5):(U==null?void 0:U.hora)||U)});return}if(L!=null&&L.hora){R(String(L.hora).slice(0,5));return}if(L!=null&&L.horario){R(String(L.horario).slice(0,5));return}if(L!=null&&L.data_hora){const U=new Date(L.data_hora);if(U.toISOString().slice(0,10)===A){const z=String(U.getHours()).padStart(2,"0"),D=String(U.getMinutes()).padStart(2,"0");T.push(`${z}:${D}`)}}}),Array.from(new Set(T)).sort()};x.useEffect(()=>{let k=!0;return(async()=>{o(!0),p(null);try{const A=await jt.getMedicos(),T=Array.isArray(A)?A:(A==null?void 0:A.results)||[];a(T)}catch(A){console.error("Erro ao buscar mdicos:",A),p("No foi possvel carregar a lista de mdicos.")}finally{k&&o(!1)}})(),()=>{k=!1}},[]),x.useEffect(()=>{(async()=>{if(!f.medico||!f.data){w([]);return}try{const A=await jt.getAgendaMedico({medico:f.medico,date:f.data,apenas_disponiveis:!0}),T=Array.isArray(A)?A:(A==null?void 0:A.results)||[],R=N(T,f.data);w(R),f.hora&&!R.includes(f.hora)&&h(I=>({...I,hora:""}))}catch(A){console.error("Erro ao carregar agenda do mdico:",A),w([])}})()},[f.medico,f.data]),x.useEffect(()=>{if(f.modalidade!=="presencial"){f.local&&h(T=>({...T,local:""}));return}const k=t.find(T=>{var R;return String(T.id||((R=T==null?void 0:T.user)==null?void 0:R.id))===String(f.medico)}),A=k?j(k):"";h(T=>({...T,local:A||""}))},[f.medico,f.modalidade,t]);const P=k=>A=>{const T=A!=null&&A.target?A.target.value:A;h(R=>({...R,[k]:T}))},C=()=>f.medico?f.data?f.hora?f.motivo?f.modalidade==="presencial"&&!f.local?"Este mdico no possui um local de atendimento definido.":null:"Informe o motivo da consulta.":"Selecione um horrio disponvel.":"Selecione uma data.":"Selecione um mdico.",_=async k=>{var T,R,I,L,U,K,z;k.preventDefault();const A=C();if(A){u({title:"Validao",description:A,variant:"destructive"});return}c(!0),p(null);try{await jt.agendarConsulta({medico:f.medico,data:f.data,hora:f.hora,modalidade:f.modalidade,local:f.modalidade==="presencial"?f.local:void 0,tipo:f.tipo,motivo:f.motivo,observacoes:f.observacoes}),u({title:"Consulta agendada!",description:"Sua consulta foi marcada com sucesso."}),g("/paciente/consultas")}catch(D){console.error("Erro ao agendar consulta:",((T=D==null?void 0:D.response)==null?void 0:T.data)||D);const G=((I=(R=D==null?void 0:D.response)==null?void 0:R.data)==null?void 0:I.error)||((U=(L=D==null?void 0:D.response)==null?void 0:L.data)==null?void 0:U.detail)||((z=(K=D==null?void 0:D.response)==null?void 0:K.data)==null?void 0:z.message)||"No foi possvel agendar a consulta.";p(G),u({title:"Erro",description:G,variant:"destructive"})}finally{c(!1)}},E=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Agendar Consulta"})]}),e.jsx(ca,{tabs:E,basePath:"/paciente"}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Dados da Consulta"})}),e.jsx(le,{children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Mdico"}),e.jsxs(Ct,{value:f.medico,onValueChange:k=>h(A=>({...A,medico:k})),disabled:r,children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:r?"Carregando...":"Selecione um mdico"})}),e.jsx(Nt,{children:t.length===0?e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum mdico disponvel"}):t.map(k=>{var R,I,L;const A=(k==null?void 0:k.nome)||[(R=k==null?void 0:k.user)==null?void 0:R.first_name,(I=k==null?void 0:k.user)==null?void 0:I.last_name].filter(Boolean).join(" ")||(k==null?void 0:k.username)||(k==null?void 0:k.email)||`Mdico #${(k==null?void 0:k.id)||""}`,T=kA(k);return e.jsxs(Se,{value:String(k.id||((L=k==null?void 0:k.user)==null?void 0:L.id)||A),children:[A,T?` - ${T}`:""]},k.id||A)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Tipo"}),e.jsxs(Ct,{value:f.tipo,onValueChange:k=>h(A=>({...A,tipo:k})),children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Selecione o tipo"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"primeira_consulta",children:"Primeira consulta"}),e.jsx(Se,{value:"retorno",children:"Retorno"}),e.jsx(Se,{value:"urgencia",children:"Urgncia"}),e.jsx(Se,{value:"rotina",children:"Rotina"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Data"}),e.jsx(fe,{type:"date",value:f.data,onChange:P("data")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Hora"}),v.length>0?e.jsxs(Ct,{value:f.hora,onValueChange:k=>h(A=>({...A,hora:k})),children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Selecione um horrio"})}),e.jsx(Nt,{children:v.map(k=>e.jsx(Se,{value:k,children:k},k))})]}):e.jsx(fe,{type:"time",value:f.hora,onChange:k=>h(A=>({...A,hora:k.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Modalidade"}),e.jsxs(Ct,{value:f.modalidade,onValueChange:k=>h(A=>({...A,modalidade:k})),children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Selecione a modalidade"})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"online",children:"Online"}),e.jsx(Se,{value:"presencial",children:"Presencial"})]})]})]}),f.modalidade==="presencial"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Local"}),e.jsxs("div",{className:"relative",children:[e.jsx(tc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{className:"pl-9",placeholder:"Local de atendimento definido pelo mdico",value:f.local,readOnly:!0,disabled:!0})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"O local  definido pelo mdico e preenchido automaticamente."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Motivo"}),e.jsx(pt,{rows:3,placeholder:"Descreva o motivo principal da consulta (obrigatrio)",value:f.motivo,onChange:P("motivo")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Obrigatrio. Ex: dor de cabea, retorno de exame, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Observaes"}),e.jsx(pt,{rows:4,placeholder:"Opcional: descreva sintomas, preferncias, etc.",value:f.observacoes,onChange:P("observacoes")})]}),d&&e.jsx("p",{className:"text-sm text-red-500",children:d}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(te,{type:"button",variant:"outline",onClick:()=>g("/paciente/consultas"),disabled:i,children:"Cancelar"}),e.jsx(te,{type:"submit",disabled:i,children:i?"Agendando...":"Agendar Consulta"})]})]})})]})]})}function RA(){const[t,a]=x.useState(!1),[r,o]=x.useState(""),[i,c]=x.useState([]),[d,p]=x.useState(0),[u,g]=x.useState(""),[f,h]=x.useState(1),[v]=x.useState(10);x.useEffect(()=>{let F=!0;const V=setTimeout(async()=>{a(!0),o("");try{const Q={search:u||void 0,page:f,limit:v},se=await zt.getUsuarios(Q),ne=Array.isArray(se==null?void 0:se.results)?se.results:Array.isArray(se)?se:[],ve=typeof(se==null?void 0:se.count)=="number"?se.count:ne.length;if(!F)return;c(ne),p(ve)}catch{if(!F)return;o("No foi possvel carregar os usurios.")}finally{F&&a(!1)}},300);return()=>{F=!1,clearTimeout(V)}},[u,f,v]);const w=x.useMemo(()=>Math.max(1,Math.ceil(d/v)),[d,v]),[y,j]=x.useState(new Set),[N,P]=x.useState(!1),[C,_]=x.useState(!1),[E,k]=x.useState(!1),[A,T]=x.useState(""),[R,I]=x.useState(null),[L,U]=x.useState(!1),[K,z]=x.useState(!1),[D,G]=x.useState(""),[$,H]=x.useState({first_name:"",last_name:"",email:"",password:"",role:""}),q=()=>{if(i.length===0)return;const F=i.map(Q=>Q==null?void 0:Q.id).filter(Boolean),V=F.every(Q=>y.has(Q));j(V?new Set:new Set(F))},Y=F=>{F&&j(V=>{const Q=new Set(V);return Q.has(F)?Q.delete(F):Q.add(F),Q})},ee=async()=>{const F=Array.from(y);if(F.length===0){window.alert("Selecione ao menos um usurio com ID vlido.");return}if(window.confirm(`Confirma excluir ${F.length} usurio(s)?`))try{P(!0),await zt.removerUsuariosEmMassa(F),j(new Set),a(!0),o("");const V={search:u||void 0,page:f,limit:v},Q=await zt.getUsuarios(V),se=Array.isArray(Q==null?void 0:Q.results)?Q.results:Array.isArray(Q)?Q:[],ne=typeof(Q==null?void 0:Q.count)=="number"?Q.count:se.length;c(se),p(ne)}catch{window.alert("Falha ao excluir usurios selecionados.")}finally{P(!1),a(!1)}},M=F=>{if(!F)return;const V=F.first_name||F.firstName||"",Q=F.last_name||F.lastName||"",se=F.email||"",ne=(F.role||F.tipo||"").toString().toLowerCase(),ve=F.is_active??F.ativo??!0;I({id:F.id,first_name:V,last_name:Q,email:se,role:ne,is_active:ve}),T(""),_(!0)},B=async()=>{if(!(R!=null&&R.id)){T("ID do usurio indisponvel.");return}try{k(!0),T("");const F={first_name:R.first_name,last_name:R.last_name,email:R.email,role:R.role,is_active:!!R.is_active};await zt.updateUsuario(R.id,F),_(!1),a(!0),o("");const V={search:u||void 0,page:f,limit:v},Q=await zt.getUsuarios(V),se=Array.isArray(Q==null?void 0:Q.results)?Q.results:Array.isArray(Q)?Q:[],ne=typeof(Q==null?void 0:Q.count)=="number"?Q.count:se.length;c(se),p(ne)}catch{T("No foi possvel salvar as alteraes.")}finally{k(!1),a(!1)}},re=async()=>{var F;if(!$.email||!$.password||!$.role){G("Preencha e-mail, senha e tipo.");return}try{z(!0),G("");const V={first_name:$.first_name,last_name:$.last_name,email:$.email,password:$.password,role:$.role};await zt.createUsuario(V),U(!1),H({first_name:"",last_name:"",email:"",password:"",role:""}),a(!0),o("");const Q={search:u||void 0,page:f,limit:v},se=await zt.getUsuarios(Q),ne=Array.isArray(se==null?void 0:se.results)?se.results:Array.isArray(se)?se:[],ve=typeof(se==null?void 0:se.count)=="number"?se.count:ne.length;c(ne),p(ve)}catch(V){const Q=(F=V==null?void 0:V.response)!=null&&F.data?JSON.stringify(V.response.data):"No foi possvel criar o usurio.";G(Q)}finally{z(!1),a(!1)}};return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usurios"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os usurios do sistema"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, email...",value:u,onChange:F=>{h(1),g(F.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${d} usurio(s)`}),e.jsxs("div",{className:"ml-auto flex gap-2",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:()=>{G(""),H({first_name:"",last_name:"",email:"",password:"",role:""}),U(!0)},disabled:t,children:"Novo usurio"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-red-600 text-white disabled:opacity-50",onClick:ee,disabled:N||y.size===0||t,title:y.size===0?"Selecione usurios":"Excluir selecionados",children:N?"Excluindo...":`Excluir selecionados (${y.size})`})]})]}),r&&e.jsx("div",{className:"text-sm text-red-600",children:r}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:e.jsx("input",{type:"checkbox",checked:i.length>0&&i.map(F=>F==null?void 0:F.id).filter(Boolean).every(F=>y.has(F)),onChange:q})}),e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Tipo"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Aes"})]})}),e.jsxs("tbody",{children:[i.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Nenhum usurio encontrado"})}),i.map(F=>{const V=(F==null?void 0:F.nome)||[F==null?void 0:F.first_name,F==null?void 0:F.last_name].filter(Boolean).join(" ")||(F==null?void 0:F.name)||(F==null?void 0:F.username)||"-",Q=(F==null?void 0:F.email)||"-",se=(F==null?void 0:F.tipo)||(F==null?void 0:F.role)||(F==null?void 0:F.perfil)||"-",ne=(F==null?void 0:F.is_active)??(F==null?void 0:F.ativo)??(F==null?void 0:F.status)??null,ve=ne===!0?"Ativo":ne===!1?"Inativo":String(ne??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"checkbox",disabled:!(F!=null&&F.id),checked:F!=null&&F.id?y.has(F.id):!1,onChange:()=>Y(F==null?void 0:F.id)})}),e.jsx("td",{className:"p-3",children:V}),e.jsx("td",{className:"p-3",children:Q}),e.jsx("td",{className:"p-3 capitalize",children:String(se).toLowerCase()}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${ne===!0?"bg-emerald-100 text-emerald-700":ne===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:ve})}),e.jsx("td",{className:"p-3",children:e.jsx("button",{className:"px-3 py-1 border rounded-md text-xs",onClick:()=>M(F),disabled:!(F!=null&&F.id),title:F!=null&&F.id?"Editar usurio":"ID indisponvel",children:"Editar"})})]},(F==null?void 0:F.id)||`${Q}-${V}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(F=>Math.max(1,F-1)),disabled:f<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",f," de ",w]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(F=>Math.min(w,F+1)),disabled:f>=w||t,children:"Prxima"})]}),C&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar usurio"}),A&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:A}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.first_name)||"",onChange:F=>I(V=>({...V,first_name:F.target.value})),disabled:E})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.last_name)||"",onChange:F=>I(V=>({...V,last_name:F.target.value})),disabled:E})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.email)||"",onChange:F=>I(V=>({...V,email:F.target.value})),disabled:E})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(R==null?void 0:R.role)||"",onChange:F=>I(V=>({...V,role:F.target.value})),disabled:E,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Mdico"}),e.jsx("option",{value:"clinica",children:"Clnica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Ativo"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!(R!=null&&R.is_active),onChange:F=>I(V=>({...V,is_active:F.target.checked})),disabled:E}),e.jsx("span",{className:"text-sm",children:R!=null&&R.is_active?"Ativo":"Inativo"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>_(!1),disabled:E,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:B,disabled:E,children:E?"Salvando...":"Salvar"})]})]})}),L&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Novo usurio"}),D&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:D}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.first_name,onChange:F=>H(V=>({...V,first_name:F.target.value})),disabled:K})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.last_name,onChange:F=>H(V=>({...V,last_name:F.target.value})),disabled:K})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.email,onChange:F=>H(V=>({...V,email:F.target.value})),disabled:K})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Senha"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-md bg-background",value:$.password,onChange:F=>H(V=>({...V,password:F.target.value})),disabled:K})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.role,onChange:F=>H(V=>({...V,role:F.target.value})),disabled:K,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Mdico"}),e.jsx("option",{value:"clinica",children:"Clnica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>U(!1),disabled:K,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:re,disabled:K,children:K?"Criando...":"Criar"})]})]})})]})}function PA(){const[t,a]=x.useState(!1),[r,o]=x.useState(""),[i,c]=x.useState([]),[d,p]=x.useState(0),[u,g]=x.useState(""),[f,h]=x.useState(1),[v]=x.useState(10);x.useEffect(()=>{let y=!0;const j=setTimeout(async()=>{a(!0),o("");try{const N={search:u||void 0,page:f,limit:v},P=await zt.getClinicas(N),C=Array.isArray(P==null?void 0:P.results)?P.results:Array.isArray(P)?P:[],_=typeof(P==null?void 0:P.count)=="number"?P.count:C.length;if(!y)return;c(C),p(_)}catch{if(!y)return;o("No foi possvel carregar as clnicas.")}finally{y&&a(!1)}},300);return()=>{y=!1,clearTimeout(j)}},[u,f,v]);const w=x.useMemo(()=>Math.max(1,Math.ceil(d/v)),[d,v]);return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clnicas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie os cadastros de clnicas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ...",value:u,onChange:y=>{h(1),g(y.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${d} clnica(s)`})]}),r&&e.jsx("div",{className:"text-sm text-red-600",children:r}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"CNPJ"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Status"})]})}),e.jsxs("tbody",{children:[i.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Nenhuma clnica encontrada"})}),i.map(y=>{const j=(y==null?void 0:y.razao_social)||(y==null?void 0:y.nome)||(y==null?void 0:y.name)||"-",N=(y==null?void 0:y.cnpj)||"-",P=(y==null?void 0:y.email)||(y==null?void 0:y.contato_email)||"-",C=(y==null?void 0:y.is_active)??(y==null?void 0:y.ativo)??(y==null?void 0:y.status)??null,_=C===!0?"Ativa":C===!1?"Inativa":String(C??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:j}),e.jsx("td",{className:"p-3",children:N}),e.jsx("td",{className:"p-3",children:P}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${C===!0?"bg-emerald-100 text-emerald-700":C===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:_})})]},(y==null?void 0:y.id)||`${j}-${N}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(y=>Math.max(1,y-1)),disabled:f<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",f," de ",w]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(y=>Math.min(w,y+1)),disabled:f>=w||t,children:"Prxima"})]})]})}function AA(){const{toast:t}=Jt(),[a,r]=x.useState(!0),[o,i]=x.useState(!1),[c,d]=x.useState(""),[p,u]=x.useState({first_name:"",last_name:"",email:"",telefone:""}),[g,f]=x.useState({atual:"",nova:"",confirmar:""}),[h,v]=x.useState(!1),[w,y]=x.useState({email:!0,sistema:!0,auditoria:!0,push:!1}),[j,N]=x.useState(!1),[P,C]=x.useState(()=>localStorage.getItem("admin_lang")||"pt-BR"),_=I=>y(L=>({...L,[I]:!L[I]}));x.useEffect(()=>{let I=!0;return(async()=>{var L;try{r(!0),d("");const U=await jt.getPerfil();if(!I)return;u({first_name:(U==null?void 0:U.first_name)||"",last_name:(U==null?void 0:U.last_name)||"",email:(U==null?void 0:U.email)||"",telefone:(U==null?void 0:U.telefone)||""});try{const K=localStorage.getItem("admin_notification_prefs");K&&y(z=>({...z,...JSON.parse(K)}))}catch{}}catch(U){if(!I)return;const K=(L=U==null?void 0:U.response)==null?void 0:L.status;d(K===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar seu perfil.")}finally{I&&r(!1)}})(),()=>{I=!1}},[]);const E=I=>{const{name:L,value:U}=I.target;u(K=>({...K,[L]:U}))},k=async()=>{var I;i(!0),d("");try{await jt.atualizarPerfil({first_name:p.first_name,last_name:p.last_name,email:p.email,telefone:p.telefone}),t({title:"Perfil atualizado",description:"As informaes foram salvas com sucesso."})}catch(L){const K=((I=L==null?void 0:L.response)==null?void 0:I.status)===400?"Dados invlidos. Verifique os campos.":"No foi possvel salvar as alteraes.";d(K),t({title:"Erro",description:K,variant:"destructive"})}finally{i(!1)}},A=async()=>{if(!g.atual||!g.nova||!g.confirmar){t({title:"Validao",description:"Preencha todos os campos de senha.",variant:"destructive"});return}if(g.nova!==g.confirmar){t({title:"Validao",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}v(!0);try{await new Promise(I=>setTimeout(I,600)),t({title:"Em breve",description:"Alterao de senha ser integrada ao backend.",variant:"default"}),f({atual:"",nova:"",confirmar:""})}finally{v(!1)}},T=async()=>{N(!0);try{localStorage.setItem("admin_notification_prefs",JSON.stringify(w)),t({title:"Notificaes salvas",description:"Preferncias armazenadas neste dispositivo."})}catch{t({title:"Erro",description:"No foi possvel salvar as preferncias.",variant:"destructive"})}finally{N(!1)}},R=()=>{localStorage.setItem("admin_lang",P),t({title:"Idioma atualizado",description:`Idioma definido para ${P}.`})};return e.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes (Admin)"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e preferncias administrativas"})]}),e.jsxs(Va,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(Ha,{className:"grid w-full grid-cols-4",children:[e.jsx(St,{value:"perfil",children:"Perfil"}),e.jsx(St,{value:"seguranca",children:"Segurana"}),e.jsx(St,{value:"notificacoes",children:"Notificaes"}),e.jsx(St,{value:"sistema",children:"Sistema"})]}),e.jsx(Ot,{value:"perfil",children:e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Informaes do Perfil"})}),e.jsxs(le,{className:"space-y-4",children:[c&&e.jsx("p",{className:"text-sm text-red-500",children:c}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"first_name",children:"Nome"}),e.jsx(fe,{id:"first_name",name:"first_name",value:p.first_name,onChange:E,disabled:a||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(fe,{id:"last_name",name:"last_name",value:p.last_name,onChange:E,disabled:a||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"email",children:"E-mail"}),e.jsx(fe,{id:"email",name:"email",type:"email",value:p.email,onChange:E,disabled:a||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:p.telefone,onChange:E,disabled:a||o})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(te,{onClick:k,disabled:a||o,children:o?"Salvando...":"Salvar alteraes"})})]})]})}),e.jsx(Ot,{value:"seguranca",children:e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Segurana"})}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"pwd_atual",children:"Senha atual"}),e.jsx(fe,{id:"pwd_atual",type:"password",value:g.atual,onChange:I=>f(L=>({...L,atual:I.target.value})),disabled:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"pwd_nova",children:"Nova senha"}),e.jsx(fe,{id:"pwd_nova",type:"password",value:g.nova,onChange:I=>f(L=>({...L,nova:I.target.value})),disabled:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"pwd_confirmar",children:"Confirmar nova senha"}),e.jsx(fe,{id:"pwd_confirmar",type:"password",value:g.confirmar,onChange:I=>f(L=>({...L,confirmar:I.target.value})),disabled:h})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(te,{onClick:A,disabled:h,children:h?"Processando...":"Alterar senha"})})]})]})}),e.jsx(Ot,{value:"notificacoes",children:e.jsxs(ie,{children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Preferncias de Notificao"}),e.jsx(Qe,{children:"Configure como voc deseja receber notificaes"})]}),e.jsxs(le,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),e.jsx(te,{variant:"outline",size:"sm",onClick:()=>_("email"),disabled:j,children:w.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Eventos do Sistema"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos sobre operaes e eventos administrativos"})]}),e.jsx(te,{variant:"outline",size:"sm",onClick:()=>_("sistema"),disabled:j,children:w.sistema?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Alteraes e Auditoria"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifique mudanas crticas e logs de auditoria"})]}),e.jsx(te,{variant:"outline",size:"sm",onClick:()=>_("auditoria"),disabled:j,children:w.auditoria?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificaes Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),e.jsx(te,{variant:"outline",size:"sm",onClick:()=>_("push"),disabled:j,children:w.push?"Ativado":"Desativado"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(te,{onClick:T,disabled:j,children:j?"Salvando...":"Salvar Preferncias"})})]})]})}),e.jsx(Ot,{value:"sistema",children:e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Sistema"})}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Tema"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Rf,{}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Alterne entre claro/escuro"})]})]}),e.jsx(Bs,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{children:"Idioma"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{className:"border rounded px-2 py-1",value:P,onChange:I=>C(I.target.value),children:[e.jsx("option",{value:"pt-BR",children:"Portugus (Brasil)"}),e.jsx("option",{value:"en-US",children:"English (US)"})]}),e.jsx(te,{variant:"outline",onClick:R,children:"Aplicar"})]})]})]})]})})]})]})}const oa={async getPerfil(){const{data:t}=await ue.get("/secretarias/me/");return t},async listarMedicos(){const{data:t}=await ue.get("/medicos/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async listarClinicas(){const{data:t}=await ue.get("/clinicas/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async getConsultasDoMedico(t,a={}){const r="/consultas/",o=t?`${r}?medico=${t}`:r,{data:i}=await ue.get(o,{params:a});return i},async agendarConsulta(t){const a="/agendamentos/",{data:r}=await ue.post(a,t);return r},async atualizarConsulta(t,a){const r=`/agendamentos/${t}/`,{data:o}=await ue.patch(r,a);return o},async atualizarStatus(t,a){const r=`/agendamentos/${t}/`,{data:o}=await ue.patch(r,{status:a});return o},async confirmarConsulta(t){const a=`/agendamentos/${t}/confirmar/`,{data:r}=await ue.post(a);return r},async cancelarConsulta(t,a){const r=`/agendamentos/${t}/cancelar/`,{data:o}=await ue.post(r,{motivo:a});return o},async registrarPresenca(t){const a=`/agendamentos/${t}/presenca/`,{data:r}=await ue.post(a);return r},async registrarPaciente(t){const a="/auth/register/",r=String((t==null?void 0:t.nome)||"").trim(),[o,...i]=r.split(/\s+/),c=i.join(" "),d=String((t==null?void 0:t.email)||"").trim(),p=String((t==null?void 0:t.senha)||(t==null?void 0:t.password)||""),f={username:`${(d.split("@")[0]||o||"paciente").toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.floor(Math.random()*1e4)}`,email:d,password:p,first_name:o,last_name:c,role:"paciente",cpf:(t==null?void 0:t.cpf)||"",telefone:(t==null?void 0:t.telefone)||"",data_nascimento:(t==null?void 0:t.data_nascimento)||"",endereco:(t==null?void 0:t.endereco)||""},{data:h}=await ue.post(a,f,{});return h}};function TA(){const[t,a]=x.useState([]),[r,o]=x.useState(null),[i,c]=x.useState(!0),[d,p]=x.useState(!1),[u,g]=x.useState([]),{toast:f}=Jt(),[h,v]=x.useState("todas"),[w,y]=x.useState(""),[j,N]=x.useState(!1),[P,C]=x.useState(!1),[_,E]=x.useState({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),[k,A]=x.useState(""),[T,R]=x.useState(!1),[I,L]=x.useState([]);x.useEffect(()=>{let M=!0;return(async()=>{c(!0);try{const B=await oa.listarMedicos();if(!M)return;a(Array.isArray(B)?B:[]);const re=localStorage.getItem("secretaria.medicoId");re&&(B==null?void 0:B.some(V=>String(V.id)===String(re)))?o(re):(B==null?void 0:B.length)>0&&o(String(B[0].id))}catch(B){console.error("Erro ao carregar mdicos:",B)}finally{M&&c(!1)}})(),()=>{M=!1}},[]),x.useEffect(()=>{if(!r)return;let M=!0;return(async()=>{p(!0);try{const B=await oa.listarConsultasHoje(r);if(!M)return;g(Array.isArray(B)?B:[]),localStorage.setItem("secretaria.medicoId",r)}catch(B){console.error("Erro ao carregar consultas:",B)}finally{M&&p(!1)}})(),()=>{M=!1}},[r]);const U=x.useMemo(()=>t.map(M=>({value:String(M.id),label:M.nome})),[t]),K=x.useMemo(()=>{let M=u;if(h!=="todas"&&(M=M.filter(B=>B.status===h)),w.trim()){const B=w.toLowerCase();M=M.filter(re=>{var F;return(F=re.pacienteNome)==null?void 0:F.toLowerCase().includes(B)})}return M},[u,h,w]),z=M=>{try{const B=new Date(M);if(!isNaN(B.getTime()))return B.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof M=="string"&&/^\d{2}:\d{2}/.test(M))return M.slice(0,5)}catch{}return"-"},D=(M,B)=>{g(re=>re.map(F=>F.id===M?{...F,status:B}:F))},G=async M=>{try{await oa.confirmarConsulta(M.id),D(M.id,"Confirmada"),f({title:"Consulta confirmada",description:`Paciente ${M.pacienteNome} s ${z(M.dataHora)}`})}catch{f({title:"Erro",description:"No foi possvel confirmar a consulta.",variant:"destructive"})}},$=async M=>{try{await oa.cancelarConsulta(M.id),D(M.id,"Cancelada"),f({title:"Consulta cancelada",description:`Paciente ${M.pacienteNome} s ${z(M.dataHora)}`})}catch{f({title:"Erro",description:"No foi possvel cancelar a consulta.",variant:"destructive"})}},H=async M=>{try{await oa.registrarPresenca(M.id),D(M.id,"Realizada"),f({title:"Presena registrada",description:`Paciente ${M.pacienteNome} s ${z(M.dataHora)}`})}catch{f({title:"Erro",description:"No foi possvel registrar a presena.",variant:"destructive"})}},q=async M=>{if(M.preventDefault(),!_.pacienteId||!_.data||!_.hora||!r){f({title:"Erro",description:"Preencha todos os campos obrigatrios.",variant:"destructive"});return}C(!0);try{if(await oa.agendarConsulta({pacienteId:_.pacienteId,medicoId:r,data:_.data,hora:_.hora,tipo:_.tipo,motivo:_.motivo,observacoes:_.observacoes}),f({title:"Sucesso",description:"Consulta agendada com sucesso!"}),N(!1),E({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),A(""),L([]),r){const B=await oa.listarConsultasHoje(r);g(Array.isArray(B)?B:[])}}catch{f({title:"Erro",description:"No foi possvel agendar a consulta.",variant:"destructive"})}finally{C(!1)}},Y=async M=>{if(!M.trim()){L([]);return}R(!0);try{const B=await oa.buscarPacientes(M);L(Array.isArray(B)?B:[])}catch(B){console.error("Erro ao buscar pacientes:",B),L([])}finally{R(!1)}};x.useEffect(()=>{const M=setTimeout(()=>Y(k),300);return()=>clearTimeout(M)},[k]);const ee=x.useMemo(()=>{const M=u.length,B=u.filter(V=>V.status==="Confirmada").length,re=u.filter(V=>V.status==="Agendada").length,F=u.filter(V=>V.status==="Realizada").length;return{total:M,confirmadas:B,pendentes:re,realizadas:F}},[u]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Dashboard Secretria"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie consultas e acompanhe a agenda dos mdicos."})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 min-w-fit",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ye,{className:"h-5 w-5 text-blue-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Total"})]}),e.jsx("div",{className:"text-2xl font-bold",children:ee.total})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Or,{className:"h-5 w-5 text-green-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Confirmadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-300",children:ee.confirmadas})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(rt,{className:"h-5 w-5 text-orange-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),e.jsx("div",{className:"text-2xl font-bold text-orange-300",children:ee.pendentes})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Hs,{className:"h-5 w-5 text-purple-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Realizadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-300",children:ee.realizadas})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.jsx(te,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200",asChild:!0,children:e.jsxs(Ke,{to:"/secretaria/pacientes",children:[e.jsx(ss,{className:"h-4 w-4 mr-2"}),"Ver Pacientes"]})}),e.jsxs(Si,{open:j,onOpenChange:N,children:[e.jsx(ob,{asChild:!0,children:e.jsxs(te,{className:"bg-white text-blue-600 hover:bg-blue-50 transition-all duration-200",children:[e.jsx(Nc,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]})}),e.jsxs(uo,{children:[e.jsx(mo,{children:e.jsx(fo,{children:"Novo agendamento"})}),e.jsxs("form",{onSubmit:q,className:"px-6 pb-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),e.jsxs(Ct,{value:r??void 0,onValueChange:o,children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Escolha um mdico"})}),e.jsx(Nt,{children:U.map(M=>e.jsx(Se,{value:M.value,children:M.label},M.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Tipo"}),e.jsxs(Ct,{value:_.tipo,onValueChange:M=>E(B=>({...B,tipo:M})),children:[e.jsx(wt,{children:e.jsx(_t,{})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"primeira",children:"Primeira consulta"}),e.jsx(Se,{value:"retorno",children:"Retorno"}),e.jsx(Se,{value:"urgencia",children:"Urgncia"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(fe,{type:"date",value:_.data,onChange:M=>E(B=>({...B,data:M.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Hora"}),e.jsx(fe,{type:"time",value:_.hora,onChange:M=>E(B=>({...B,hora:M.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Paciente"}),e.jsx(fe,{placeholder:"Digite o nome do paciente...",value:k,onChange:M=>A(M.target.value)}),T&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Buscando..."}),I.length>0&&e.jsx("div",{className:"mt-2 border rounded-md max-h-32 overflow-y-auto",children:I.map(M=>e.jsxs("div",{className:"p-2 hover:bg-muted cursor-pointer text-sm",onClick:()=>{E(B=>({...B,pacienteId:M.id})),A(M.nome),L([])},children:[M.nome," - ",M.cpf]},M.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Motivo"}),e.jsx(fe,{placeholder:"Motivo da consulta",value:_.motivo,onChange:M=>E(B=>({...B,motivo:M.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Observaes"}),e.jsx(pt,{placeholder:"Observaes adicionais",value:_.observacoes,onChange:M=>E(B=>({...B,observacoes:M.target.value}))})]}),e.jsxs(Ci,{children:[e.jsx(te,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),e.jsx(te,{type:"submit",disabled:P,children:P?"Agendando...":"Agendar"})]})]})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total Consultas"}),e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(Ye,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:ee.total}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Consultas hoje"})]})]}),e.jsxs(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Confirmadas"}),e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(Or,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:ee.confirmadas}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Consultas confirmadas"})]})]}),e.jsxs(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-orange-700 dark:text-orange-300",children:"Pendentes"}),e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:e.jsx(rt,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-900 dark:text-orange-100",children:ee.pendentes}),e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Aguardando confirmao"})]})]}),e.jsxs(ie,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(xe,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Realizadas"}),e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(Hs,{className:"h-4 w-4 text-white"})})]}),e.jsxs(le,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:ee.realizadas}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Consultas finalizadas"})]})]})]}),e.jsxs(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(xt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Selecione o mdico"}),e.jsx(Qe,{className:"text-slate-600",children:"Visualize rapidamente as consultas de hoje do mdico selecionado."})]})]})}),e.jsx(le,{className:"p-6",children:i?e.jsx(at,{className:"h-10 w-72"}):e.jsx("div",{className:"w-72",children:e.jsxs(Ct,{value:r??void 0,onValueChange:M=>o(M),children:[e.jsx(wt,{className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:e.jsx(_t,{placeholder:"Escolha um mdico"})}),e.jsx(Nt,{children:U.map(M=>e.jsx(Se,{value:M.value,children:M.label},M.value))})]})})})]}),e.jsxs(ie,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsx("div",{className:"flex items-center justify-between gap-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ye,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(xe,{className:"text-slate-800",children:"Consultas de hoje"}),e.jsx(Qe,{className:"text-slate-600",children:d?"Carregando...":`${K.length} consulta(s) encontrada(s)`})]})]})})}),e.jsxs(le,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"flex-1",children:e.jsx(fe,{placeholder:"Buscar por paciente...",value:w,onChange:M=>y(M.target.value),className:"max-w-sm bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700"})}),e.jsxs(Ct,{value:h,onValueChange:v,children:[e.jsx(wt,{className:"w-48 bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:e.jsx(_t,{})}),e.jsxs(Nt,{children:[e.jsx(Se,{value:"todas",children:"Todas"}),e.jsx(Se,{value:"Agendada",children:"Agendadas"}),e.jsx(Se,{value:"Confirmada",children:"Confirmadas"}),e.jsx(Se,{value:"Realizada",children:"Realizadas"}),e.jsx(Se,{value:"Cancelada",children:"Canceladas"})]})]})]}),d?e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((M,B)=>e.jsx(at,{className:"h-16 w-full"},B))}):K.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(Ye,{className:"h-8 w-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhuma consulta encontrada"}),e.jsx("p",{className:"text-slate-500 text-sm",children:r?"No h consultas para o mdico selecionado hoje":"Selecione um mdico para ver as consultas"})]}):e.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:e.jsxs(qa,{children:[e.jsx(Wa,{children:e.jsxs(Yt,{className:"bg-slate-50 hover:bg-slate-50",children:[e.jsx(nt,{className:"font-semibold text-slate-700",children:"Horrio"}),e.jsx(nt,{className:"font-semibold text-slate-700",children:"Paciente"}),e.jsx(nt,{className:"font-semibold text-slate-700",children:"Tipo"}),e.jsx(nt,{className:"font-semibold text-slate-700",children:"Status"}),e.jsx(nt,{className:"font-semibold text-slate-700",children:"Aes"})]})}),e.jsx(Ga,{children:K.map(M=>{const B=M.status==="Agendada",re=["Agendada","Confirmada"].includes(M.status),F=M.status==="Confirmada";return e.jsxs(Yt,{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 border-b border-slate-100",children:[e.jsx(tt,{className:"font-medium text-slate-900",children:z(M.dataHora)}),e.jsx(tt,{className:"text-slate-700",children:M.pacienteNome}),e.jsx(tt,{className:"text-slate-600",children:M.tipo||"Consulta"}),e.jsx(tt,{children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${M.status==="Confirmada"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":M.status==="Agendada"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":M.status==="Realizada"?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:M.status})}),e.jsx(tt,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(te,{size:"sm",variant:"outline",disabled:!B,onClick:()=>G(M),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100 disabled:opacity-50",children:[e.jsx(Or,{className:"h-4 w-4 mr-1"})," Confirmar"]}),e.jsxs(te,{size:"sm",variant:"outline",disabled:!re,onClick:()=>$(M),className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100 disabled:opacity-50",children:[e.jsx(Qs,{className:"h-4 w-4 mr-1"})," Cancelar"]}),e.jsxs(te,{size:"sm",variant:"outline",disabled:!F,onClick:()=>H(M),className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 disabled:opacity-50",children:[e.jsx($S,{className:"h-4 w-4 mr-1"})," Presena"]})]})})]},M.id)})})]})})]})]})]})}function MA(t={}){var c,d,p;const a=t.paciente_nome||((c=t==null?void 0:t.paciente)==null?void 0:c.nome)||((d=t==null?void 0:t.paciente)!=null&&d.user?[t.paciente.user.first_name,t.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",r=t.data_hora||t.horario||t.inicio||t.data||t.start_time||"",o=t.status||"Agendada",i=t.clinica_nome||((p=t==null?void 0:t.clinica)==null?void 0:p.nome)||t.local||"";return{id:t.id||t.consulta_id||Math.random().toString(36).slice(2),pacienteNome:a,dataHora:r,status:o,clinica:i,tipo:t.tipo||t.modalidade||"Consulta"}}function DA(){const[t,a]=x.useState([]),[r,o]=x.useState(""),[i,c]=x.useState(""),[d,p]=x.useState(""),[u,g]=x.useState(!1),[f,h]=x.useState([]);x.useEffect(()=>{let y=!0;return(async()=>{try{const j=await oa.listarMedicos();if(!y)return;a(Array.isArray(j)?j:[]);const N=localStorage.getItem("secretaria.medicoId");N&&o(String(N))}catch{}})(),()=>{y=!1}},[]);const v=async()=>{if(!r)return h([]);g(!0);try{localStorage.setItem("secretaria.medicoId",String(r));const y={};d&&(y.date=d);const j=await it.getConsultasDoMedico({...y,medico:r}),P=(Array.isArray(j)?j:Array.isArray(j==null?void 0:j.results)?j.results:[]).map(MA);h(i?P.filter(C=>C.pacienteNome.toLowerCase().includes(i.toLowerCase())):P)}catch{h([])}finally{g(!1)}};x.useEffect(()=>{v()},[r]);const w=x.useMemo(()=>t.map(y=>{var j;return{value:String(y.id),label:y.nome||((j=y==null?void 0:y.user)==null?void 0:j.first_name)||`Mdico #${y.id}`}}),[t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ye,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Consultas"})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"})," Filtros"]})}),e.jsx(le,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),e.jsxs(Ct,{value:r||void 0,onValueChange:y=>o(y),children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Escolha um mdico"})}),e.jsx(Nt,{children:w.map(y=>e.jsx(Se,{value:y.value,children:y.label},y.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(fe,{type:"date",value:d,onChange:y=>p(y.target.value)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar por paciente"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{placeholder:"Nome do paciente",value:i,onChange:y=>c(y.target.value)}),e.jsxs(te,{onClick:v,children:[e.jsx(Es,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})]})})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Resultados"})}),e.jsx(le,{children:u?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):f.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta encontrada."}):e.jsxs(qa,{children:[e.jsx(Wa,{children:e.jsxs(Yt,{children:[e.jsx(nt,{children:"Paciente"}),e.jsx(nt,{children:"Data/Hora"}),e.jsx(nt,{children:"Tipo"}),e.jsx(nt,{children:"Status"}),e.jsx(nt,{children:"Clnica"})]})}),e.jsx(Ga,{children:f.map(y=>e.jsxs(Yt,{children:[e.jsx(tt,{children:y.pacienteNome}),e.jsx(tt,{children:y.dataHora||""}),e.jsx(tt,{children:y.tipo}),e.jsx(tt,{children:y.status}),e.jsx(tt,{children:y.clinica})]},y.id))})]})})]})]})}function Ig(t={}){const a=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[a.first_name,a.last_name].filter(Boolean).join(" ")||a.username||`Paciente #${(t==null?void 0:t.id)||"?"}`}function OA(){const[t,a]=x.useState([]),[r,o]=x.useState(""),[i,c]=x.useState(""),[d,p]=x.useState(!1),[u,g]=x.useState([]),{toast:f}=Jt(),[h,v]=x.useState(!1),[w,y]=x.useState(!1),[j,N]=x.useState({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""}),P=A=>{const T=String(A||"").replace(/\D/g,"").slice(0,11),R=T.slice(0,3),I=T.slice(3,6),L=T.slice(6,9),U=T.slice(9,11);return T.length>9?`${R}.${I}.${L}-${U}`:T.length>6?`${R}.${I}.${L}`:T.length>3?`${R}.${I}`:R},C=A=>{const{name:T,value:R}=A.target;if(T==="cpf")return N(I=>({...I,cpf:P(R)}));N(I=>({...I,[T]:R}))};x.useEffect(()=>{let A=!0;return(async()=>{try{const T=await oa.listarMedicos();if(!A)return;a(Array.isArray(T)?T:[]);const R=localStorage.getItem("secretaria.medicoId");R&&o(String(R))}catch{}})(),()=>{A=!1}},[]);const _=async()=>{if(!r)return g([]);p(!0);try{const A=await it.getPacientesVinculados(r),T=Array.isArray(A)?A:Array.isArray(A==null?void 0:A.results)?A.results:[];g(T)}catch{g([])}finally{p(!1)}};x.useEffect(()=>{_()},[r]);const E=x.useMemo(()=>u.filter(A=>Ig(A).toLowerCase().includes(i.toLowerCase())),[u,i]),k=async A=>{var T,R;if((T=A==null?void 0:A.preventDefault)==null||T.call(A),!j.nome||!j.email||!j.senha||!j.confirmSenha){f({title:"Campos obrigatrios",description:"Preencha nome, email e senha.",variant:"destructive"});return}if(j.senha!==j.confirmSenha){f({title:"Senhas no conferem",description:"A confirmao deve ser igual  senha.",variant:"destructive"});return}y(!0);try{await oa.registrarPaciente(j),f({title:"Paciente cadastrado",description:"O paciente foi criado com sucesso. Ele aparecer na lista do mdico aps o primeiro vnculo (ex.: agendamento de consulta)."}),v(!1),N({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""})}catch(I){const L=(R=I==null?void 0:I.response)!=null&&R.data?JSON.stringify(I.response.data):(I==null?void 0:I.message)||"Falha ao cadastrar";f({title:"Erro ao cadastrar",description:L,variant:"destructive"})}finally{y(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ds,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Pacientes"})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2 justify-between",children:[e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(Es,{className:"h-5 w-5"})," Filtros"]}),e.jsxs(Si,{open:h,onOpenChange:v,children:[e.jsx(ob,{asChild:!0,children:e.jsxs("button",{className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(Kn,{className:"h-4 w-4 mr-2"})," Cadastrar Paciente"]})}),e.jsxs(uo,{className:"max-w-lg",children:[e.jsxs(mo,{children:[e.jsx(fo,{children:"Novo Paciente"}),e.jsx(Kc,{children:"Preencha os dados bsicos para criar a conta do paciente."})]}),e.jsxs("form",{className:"space-y-3",onSubmit:k,children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Nome completo"}),e.jsx(fe,{name:"nome",value:j.nome,onChange:C,placeholder:"Ex.: Maria Silva"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"E-mail"}),e.jsx(fe,{name:"email",value:j.email,onChange:C,type:"email",placeholder:"email@exemplo.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"CPF"}),e.jsx(fe,{name:"cpf",value:j.cpf,onChange:C,placeholder:"000.000.000-00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Telefone"}),e.jsx(fe,{name:"telefone",value:j.telefone,onChange:C,placeholder:"(00) 00000-0000"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data de nascimento"}),e.jsx(fe,{name:"data_nascimento",type:"date",value:j.data_nascimento,onChange:C})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Endereo"}),e.jsx(fe,{name:"endereco",value:j.endereco,onChange:C,placeholder:"Rua, nmero, bairro"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Senha"}),e.jsx(fe,{name:"senha",type:"password",value:j.senha,onChange:C})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirmar senha"}),e.jsx(fe,{name:"confirmSenha",type:"password",value:j.confirmSenha,onChange:C})]})]}),e.jsxs(Ci,{children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-3 py-2 rounded-md text-sm border mr-2",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:w,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 disabled:opacity-50",children:w?"Salvando...":"Criar"})]})]})]})]})]})}),e.jsx(le,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),e.jsxs(Ct,{value:r||void 0,onValueChange:A=>{o(A);try{localStorage.setItem("secretaria.medicoId",String(A))}catch{}},children:[e.jsx(wt,{children:e.jsx(_t,{placeholder:"Escolha um mdico"})}),e.jsx(Nt,{children:t.map(A=>{var R,I;const T=(A==null?void 0:A.nome)||[(R=A==null?void 0:A.user)==null?void 0:R.first_name,(I=A==null?void 0:A.user)==null?void 0:I.last_name].filter(Boolean).join(" ")||`Mdico #${A==null?void 0:A.id}`;return e.jsx(Se,{value:String(A.id),children:T},A.id)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar"}),e.jsx(fe,{placeholder:"Nome do paciente",value:i,onChange:A=>c(A.target.value)})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsxs("button",{onClick:_,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(xt,{className:"h-4 w-4 mr-2"})," Buscar"]})})]})})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Lista"})}),e.jsx(le,{children:d?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):E.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum paciente encontrado."}):e.jsxs(qa,{children:[e.jsx(Wa,{children:e.jsxs(Yt,{children:[e.jsx(nt,{children:"Nome"}),e.jsx(nt,{children:"Contato"})]})}),e.jsx(Ga,{children:E.map(A=>{var T,R;return e.jsxs(Yt,{children:[e.jsx(tt,{children:Ig(A)}),e.jsxs(tt,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx($r,{className:"inline h-4 w-4 mr-1"})," ",((T=A==null?void 0:A.user)==null?void 0:T.phone)||""]}),e.jsxs("div",{children:[e.jsx(pn,{className:"inline h-4 w-4 mr-1"})," ",((R=A==null?void 0:A.user)==null?void 0:R.email)||""]})]})]},A.id)})})]})})]})]})}function Fg(t){const a=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[a.first_name,a.last_name].filter(Boolean).join(" ")||a.username||`Mdico #${(t==null?void 0:t.id)||"?"}`}function $A(){const[t,a]=x.useState(""),[r,o]=x.useState([]),[i,c]=x.useState(!0);x.useEffect(()=>{let p=!0;return(async()=>{c(!0);try{const u=await oa.listarMedicos();if(!p)return;o(Array.isArray(u)?u:[])}finally{p&&c(!1)}})(),()=>{p=!1}},[]);const d=x.useMemo(()=>r.filter(p=>Fg(p).toLowerCase().includes(t.toLowerCase())),[r,t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xt,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Mdicos"})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center gap-2",children:[e.jsx(Es,{className:"h-5 w-5"})," Buscar"]})}),e.jsx(le,{children:e.jsx(fe,{placeholder:"Digite o nome do mdico",value:t,onChange:p=>a(p.target.value)})})]}),e.jsxs(ie,{children:[e.jsx(pe,{children:e.jsx(xe,{children:"Resultados"})}),e.jsx(le,{children:i?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):d.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum mdico encontrado."}):e.jsxs(qa,{children:[e.jsx(Wa,{children:e.jsxs(Yt,{children:[e.jsx(nt,{children:"Nome"}),e.jsx(nt,{children:"CRM"}),e.jsx(nt,{children:"Especialidade"}),e.jsx(nt,{children:"Contato"})]})}),e.jsx(Ga,{children:d.map(p=>{var u,g;return e.jsxs(Yt,{children:[e.jsxs(tt,{className:"font-medium flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"})," ",Fg(p)]}),e.jsx(tt,{children:p.crm||""}),e.jsx(tt,{children:p.especialidade||""}),e.jsxs(tt,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($r,{className:"h-4 w-4"})," ",p.telefone||((u=p==null?void 0:p.user)==null?void 0:u.phone)||""]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pn,{className:"h-4 w-4"})," ",((g=p==null?void 0:p.user)==null?void 0:g.email)||""]})]})]},p.id)})})]})})]})]})}function LA(){return e.jsx(CS,{children:e.jsx(_S,{children:e.jsx(L1,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs(R1,{children:[e.jsx(Ue,{path:"/",element:e.jsx(bA,{})}),e.jsx(Ue,{path:"/login",element:e.jsx(LR,{})}),e.jsx(Ue,{path:"/registrar",element:e.jsx(IR,{})}),e.jsx(Ue,{path:"/esqueci-senha",element:e.jsx(FR,{})}),e.jsxs(Ue,{path:"/paciente",element:e.jsx(CA,{children:e.jsx(_R,{})}),children:[e.jsx(Ue,{index:!0,element:e.jsx(Lt,{to:"perfil",replace:!0})}),e.jsx(Ue,{path:"perfil",element:e.jsx(UR,{})}),e.jsx(Ue,{path:"prontuario",element:e.jsx(VR,{})}),e.jsx(Ue,{path:"consultas",element:e.jsx(NP,{})}),e.jsx(Ue,{path:"consultas/nova",element:e.jsx(EA,{})}),e.jsx(Ue,{path:"exames",element:e.jsx(SP,{})}),e.jsx(Ue,{path:"historico-medico",element:e.jsx(_P,{})}),e.jsx(Ue,{path:"medicos",element:e.jsx(kP,{})}),e.jsx(Ue,{path:"receitas",element:e.jsx(PP,{})}),e.jsx(Ue,{path:"configuracoes",element:e.jsx(om,{})})]}),e.jsxs(Ue,{path:"/medico",element:e.jsx(NA,{children:e.jsx(kR,{})}),children:[e.jsx(Ue,{index:!0,element:e.jsx(Lt,{to:"dashboard",replace:!0})}),e.jsx(Ue,{path:"dashboard",element:e.jsx(MP,{})}),e.jsx(Ue,{path:"meus-pacientes",element:e.jsx(DP,{})}),e.jsx(Ue,{path:"minhas-consultas",element:e.jsx(OP,{})}),e.jsx(Ue,{path:"consultas/hoje",element:e.jsx(YP,{})}),e.jsx(Ue,{path:"paciente/:id/perfil",element:e.jsx($P,{})}),e.jsx(Ue,{path:"paciente/:id/prontuario",element:e.jsx(LP,{})}),e.jsx(Ue,{path:"paciente/:id/exames",element:e.jsx(IP,{})}),e.jsx(Ue,{path:"paciente/:id/iniciar-consulta",element:e.jsx(FP,{})}),e.jsx(Ue,{path:"paciente/:id/consulta/resumo",element:e.jsx(QP,{})}),e.jsx(Ue,{path:"paciente/:id/receita/preview",element:e.jsx(JP,{})}),e.jsx(Ue,{path:"configuracoes",element:e.jsx(om,{})})]}),e.jsxs(Ue,{path:"/clinica",element:e.jsx(SA,{children:e.jsx(vy,{})}),children:[e.jsx(Ue,{index:!0,element:e.jsx(Lt,{to:"dashboard",replace:!0})}),e.jsx(Ue,{path:"dashboard",element:e.jsx(XP,{})}),e.jsx(Ue,{path:"calendario",element:e.jsx(tA,{})}),e.jsx(Ue,{path:"disponibilidade",element:e.jsx(aA,{})}),e.jsx(Ue,{path:"exames",element:e.jsx(rA,{})}),e.jsx(Ue,{path:"pacientes",element:e.jsx(nA,{})}),e.jsx(Ue,{path:"medicos",element:e.jsx(oA,{})}),e.jsx(Ue,{path:"relatorios",element:e.jsx(iA,{})}),e.jsx(Ue,{path:"configuracoes",element:e.jsx(uA,{})})]}),e.jsxs(Ue,{path:"/admin",element:e.jsx(_A,{children:e.jsx(ER,{})}),children:[e.jsx(Ue,{index:!0,element:e.jsx(Lt,{to:"dashboard",replace:!0})}),e.jsx(Ue,{path:"dashboard",element:e.jsx(mA,{})}),e.jsx(Ue,{path:"solicitacoes",element:e.jsx(fA,{})}),e.jsx(Ue,{path:"solicitacoes/:id",element:e.jsx(hA,{})}),e.jsx(Ue,{path:"relatorios",element:e.jsx(vA,{})}),e.jsx(Ue,{path:"auditoria",element:e.jsx(jA,{})}),e.jsx(Ue,{path:"usuarios",element:e.jsx(RA,{})}),e.jsx(Ue,{path:"clinicas",element:e.jsx(PA,{})}),e.jsx(Ue,{path:"configuracoes",element:e.jsx(AA,{})})]}),e.jsxs(Ue,{path:"/secretaria",element:e.jsx(zR,{children:e.jsx(BR,{})}),children:[e.jsx(Ue,{index:!0,element:e.jsx(Lt,{to:"dashboard",replace:!0})}),e.jsx(Ue,{path:"dashboard",element:e.jsx(TA,{})}),e.jsx(Ue,{path:"consultas",element:e.jsx(DA,{})}),e.jsx(Ue,{path:"pacientes",element:e.jsx(OA,{})}),e.jsx(Ue,{path:"medicos",element:e.jsx($A,{})}),e.jsx(Ue,{path:"configuracoes",element:e.jsx(om,{})})]}),e.jsx(Ue,{path:"*",element:e.jsx("div",{children:"Pgina no encontrada"})})]})})})})}var Mf="ToastProvider",[Df,IA,FA]=zc("Toast"),[mb,T5]=za("Toast",[FA]),[zA,Yc]=mb(Mf),fb=t=>{const{__scopeToast:a,label:r="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:c=50,children:d}=t,[p,u]=x.useState(null),[g,f]=x.useState(0),h=x.useRef(!1),v=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mf}\`. Expected non-empty \`string\`.`),e.jsx(Df.Provider,{scope:a,children:e.jsx(zA,{scope:a,label:r,duration:o,swipeDirection:i,swipeThreshold:c,toastCount:g,viewport:p,onViewportChange:u,onToastAdd:x.useCallback(()=>f(w=>w+1),[]),onToastRemove:x.useCallback(()=>f(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:v,children:d})})};fb.displayName=Mf;var hb="ToastViewport",BA=["F8"],Fm="toast.viewportPause",zm="toast.viewportResume",pb=x.forwardRef((t,a)=>{const{__scopeToast:r,hotkey:o=BA,label:i="Notifications ({hotkey})",...c}=t,d=Yc(hb,r),p=IA(r),u=x.useRef(null),g=x.useRef(null),f=x.useRef(null),h=x.useRef(null),v=kt(a,h,d.onViewportChange),w=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=d.toastCount>0;x.useEffect(()=>{const N=P=>{var _;o.length!==0&&o.every(E=>P[E]||P.code===E)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[o]),x.useEffect(()=>{const N=u.current,P=h.current;if(y&&N&&P){const C=()=>{if(!d.isClosePausedRef.current){const A=new CustomEvent(Fm);P.dispatchEvent(A),d.isClosePausedRef.current=!0}},_=()=>{if(d.isClosePausedRef.current){const A=new CustomEvent(zm);P.dispatchEvent(A),d.isClosePausedRef.current=!1}},E=A=>{!N.contains(A.relatedTarget)&&_()},k=()=>{N.contains(document.activeElement)||_()};return N.addEventListener("focusin",C),N.addEventListener("focusout",E),N.addEventListener("pointermove",C),N.addEventListener("pointerleave",k),window.addEventListener("blur",C),window.addEventListener("focus",_),()=>{N.removeEventListener("focusin",C),N.removeEventListener("focusout",E),N.removeEventListener("pointermove",C),N.removeEventListener("pointerleave",k),window.removeEventListener("blur",C),window.removeEventListener("focus",_)}}},[y,d.isClosePausedRef]);const j=x.useCallback(({tabbingDirection:N})=>{const C=p().map(_=>{const E=_.ref.current,k=[E,...e5(E)];return N==="forwards"?k:k.reverse()});return(N==="forwards"?C.reverse():C).flat()},[p]);return x.useEffect(()=>{const N=h.current;if(N){const P=C=>{var k,A,T;const _=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!_){const R=document.activeElement,I=C.shiftKey;if(C.target===N&&I){(k=g.current)==null||k.focus();return}const K=j({tabbingDirection:I?"backwards":"forwards"}),z=K.findIndex(D=>D===R);im(K.slice(z+1))?C.preventDefault():I?(A=g.current)==null||A.focus():(T=f.current)==null||T.focus()}};return N.addEventListener("keydown",P),()=>N.removeEventListener("keydown",P)}},[p,j]),e.jsxs(RC,{ref:u,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&e.jsx(Bm,{ref:g,onFocusFromOutsideViewport:()=>{const N=j({tabbingDirection:"forwards"});im(N)}}),e.jsx(Df.Slot,{scope:r,children:e.jsx(et.ol,{tabIndex:-1,...c,ref:v})}),y&&e.jsx(Bm,{ref:f,onFocusFromOutsideViewport:()=>{const N=j({tabbingDirection:"backwards"});im(N)}})]})});pb.displayName=hb;var xb="ToastFocusProxy",Bm=x.forwardRef((t,a)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...i}=t,c=Yc(xb,r);return e.jsx(Oc,{tabIndex:0,...i,ref:a,style:{position:"fixed"},onFocus:d=>{var g;const p=d.relatedTarget;!((g=c.viewport)!=null&&g.contains(p))&&o()}})});Bm.displayName=xb;var _i="Toast",UA="toast.swipeStart",VA="toast.swipeMove",HA="toast.swipeCancel",qA="toast.swipeEnd",gb=x.forwardRef((t,a)=>{const{forceMount:r,open:o,defaultOpen:i,onOpenChange:c,...d}=t,[p,u]=dn({prop:o,defaultProp:i??!0,onChange:c,caller:_i});return e.jsx(Ba,{present:r||p,children:e.jsx(KA,{open:p,...d,ref:a,onClose:()=>u(!1),onPause:As(t.onPause),onResume:As(t.onResume),onSwipeStart:De(t.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:De(t.onSwipeMove,g=>{const{x:f,y:h}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:De(t.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:De(t.onSwipeEnd,g=>{const{x:f,y:h}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),u(!1)})})})});gb.displayName=_i;var[WA,GA]=mb(_i,{onClose(){}}),KA=x.forwardRef((t,a)=>{const{__scopeToast:r,type:o="foreground",duration:i,open:c,onClose:d,onEscapeKeyDown:p,onPause:u,onResume:g,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:v,onSwipeEnd:w,...y}=t,j=Yc(_i,r),[N,P]=x.useState(null),C=kt(a,D=>P(D)),_=x.useRef(null),E=x.useRef(null),k=i||j.duration,A=x.useRef(0),T=x.useRef(k),R=x.useRef(0),{onToastAdd:I,onToastRemove:L}=j,U=As(()=>{var G;(N==null?void 0:N.contains(document.activeElement))&&((G=j.viewport)==null||G.focus()),d()}),K=x.useCallback(D=>{!D||D===1/0||(window.clearTimeout(R.current),A.current=new Date().getTime(),R.current=window.setTimeout(U,D))},[U]);x.useEffect(()=>{const D=j.viewport;if(D){const G=()=>{K(T.current),g==null||g()},$=()=>{const H=new Date().getTime()-A.current;T.current=T.current-H,window.clearTimeout(R.current),u==null||u()};return D.addEventListener(Fm,$),D.addEventListener(zm,G),()=>{D.removeEventListener(Fm,$),D.removeEventListener(zm,G)}}},[j.viewport,k,u,g,K]),x.useEffect(()=>{c&&!j.isClosePausedRef.current&&K(k)},[c,k,j.isClosePausedRef,K]),x.useEffect(()=>(I(),()=>L()),[I,L]);const z=x.useMemo(()=>N?Sb(N):null,[N]);return j.viewport?e.jsxs(e.Fragment,{children:[z&&e.jsx(YA,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:z}),e.jsx(WA,{scope:r,onClose:U,children:Qn.createPortal(e.jsx(Df.ItemSlot,{scope:r,children:e.jsx(EC,{asChild:!0,onEscapeKeyDown:De(p,()=>{j.isFocusedToastEscapeKeyDownRef.current||U(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(et.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":j.swipeDirection,...y,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:De(t.onKeyDown,D=>{D.key==="Escape"&&(p==null||p(D.nativeEvent),D.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:De(t.onPointerDown,D=>{D.button===0&&(_.current={x:D.clientX,y:D.clientY})}),onPointerMove:De(t.onPointerMove,D=>{if(!_.current)return;const G=D.clientX-_.current.x,$=D.clientY-_.current.y,H=!!E.current,q=["left","right"].includes(j.swipeDirection),Y=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ee=q?Y(0,G):0,M=q?0:Y(0,$),B=D.pointerType==="touch"?10:2,re={x:ee,y:M},F={originalEvent:D,delta:re};H?(E.current=re,Ul(VA,h,F,{discrete:!1})):zg(re,j.swipeDirection,B)?(E.current=re,Ul(UA,f,F,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(G)>B||Math.abs($)>B)&&(_.current=null)}),onPointerUp:De(t.onPointerUp,D=>{const G=E.current,$=D.target;if($.hasPointerCapture(D.pointerId)&&$.releasePointerCapture(D.pointerId),E.current=null,_.current=null,G){const H=D.currentTarget,q={originalEvent:D,delta:G};zg(G,j.swipeDirection,j.swipeThreshold)?Ul(qA,w,q,{discrete:!0}):Ul(HA,v,q,{discrete:!0}),H.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),YA=t=>{const{__scopeToast:a,children:r,...o}=t,i=Yc(_i,a),[c,d]=x.useState(!1),[p,u]=x.useState(!1);return XA(()=>d(!0)),x.useEffect(()=>{const g=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(g)},[]),p?null:e.jsx(pi,{asChild:!0,children:e.jsx(Oc,{...o,children:c&&e.jsxs(e.Fragment,{children:[i.label," ",r]})})})},JA="ToastTitle",vb=x.forwardRef((t,a)=>{const{__scopeToast:r,...o}=t;return e.jsx(et.div,{...o,ref:a})});vb.displayName=JA;var QA="ToastDescription",jb=x.forwardRef((t,a)=>{const{__scopeToast:r,...o}=t;return e.jsx(et.div,{...o,ref:a})});jb.displayName=QA;var yb="ToastAction",bb=x.forwardRef((t,a)=>{const{altText:r,...o}=t;return r.trim()?e.jsx(Nb,{altText:r,asChild:!0,children:e.jsx(Of,{...o,ref:a})}):(console.error(`Invalid prop \`altText\` supplied to \`${yb}\`. Expected non-empty \`string\`.`),null)});bb.displayName=yb;var wb="ToastClose",Of=x.forwardRef((t,a)=>{const{__scopeToast:r,...o}=t,i=GA(wb,r);return e.jsx(Nb,{asChild:!0,children:e.jsx(et.button,{type:"button",...o,ref:a,onClick:De(t.onClick,i.onClose)})})});Of.displayName=wb;var Nb=x.forwardRef((t,a)=>{const{__scopeToast:r,altText:o,...i}=t;return e.jsx(et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...i,ref:a})});function Sb(t){const a=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&a.push(o.textContent),ZA(o)){const i=o.ariaHidden||o.hidden||o.style.display==="none",c=o.dataset.radixToastAnnounceExclude==="";if(!i)if(c){const d=o.dataset.radixToastAnnounceAlt;d&&a.push(d)}else a.push(...Sb(o))}}),a}function Ul(t,a,r,{discrete:o}){const i=r.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});a&&i.addEventListener(t,a,{once:!0}),o?Zm(i,c):i.dispatchEvent(c)}var zg=(t,a,r=0)=>{const o=Math.abs(t.x),i=Math.abs(t.y),c=o>i;return a==="left"||a==="right"?c&&o>r:!c&&i>r};function XA(t=()=>{}){const a=As(t);is(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(a)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[a])}function ZA(t){return t.nodeType===t.ELEMENT_NODE}function e5(t){const a=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)a.push(r.currentNode);return a}function im(t){const a=document.activeElement;return t.some(r=>r===a?!0:(r.focus(),document.activeElement!==a))}var t5=fb,Cb=pb,_b=gb,kb=vb,Eb=jb,Rb=bb,Pb=Of;const s5=t5,Ab=x.forwardRef(({className:t,...a},r)=>e.jsx(Cb,{ref:r,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...a}));Ab.displayName=Cb.displayName;const a5=wc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Tb=x.forwardRef(({className:t,variant:a,...r},o)=>e.jsx(_b,{ref:o,className:be(a5({variant:a}),t),...r}));Tb.displayName=_b.displayName;const r5=x.forwardRef(({className:t,...a},r)=>e.jsx(Rb,{ref:r,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...a}));r5.displayName=Rb.displayName;const Mb=x.forwardRef(({className:t,...a},r)=>e.jsx(Pb,{ref:r,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...a,children:e.jsx(Xm,{className:"h-4 w-4"})}));Mb.displayName=Pb.displayName;const Db=x.forwardRef(({className:t,...a},r)=>e.jsx(kb,{ref:r,className:be("text-sm font-semibold",t),...a}));Db.displayName=kb.displayName;const Ob=x.forwardRef(({className:t,...a},r)=>e.jsx(Eb,{ref:r,className:be("text-sm opacity-90",t),...a}));Ob.displayName=Eb.displayName;function n5(){const{toasts:t}=Jt();return e.jsxs(s5,{children:[t.map(({id:a,title:r,description:o,action:i,...c})=>e.jsxs(Tb,{...c,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(Db,{children:r}),o&&e.jsx(Ob,{children:o})]}),i,e.jsx(Mb,{})]},a)),e.jsx(Ab,{})]})}ON.createRoot(document.getElementById("root")).render(e.jsxs(qE,{defaultTheme:"system",storageKey:"medicinefront-theme",children:[e.jsx(LA,{}),e.jsx(n5,{})]}));export{Bg as g};
