var AD=Object.defineProperty;var dD=(e,r,t)=>r in e?AD(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var ft=(e,r,t)=>dD(e,typeof r!="symbol"?r+"":r,t);function uD(e,r){for(var t=0;t<r.length;t++){const a=r[t];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var rZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uv={exports:{}},Ch={},fv={exports:{}},Gr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function fD(){if(w2)return Gr;w2=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(E){return E===null||typeof E!="object"?null:(E=h&&E[h]||E["@@iterator"],typeof E=="function"?E:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function b(E,P,Y){this.props=E,this.context=P,this.refs=v,this.updater=Y||p}b.prototype.isReactComponent={},b.prototype.setState=function(E,P){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,P,"setState")},b.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function N(){}N.prototype=b.prototype;function B(E,P,Y){this.props=E,this.context=P,this.refs=v,this.updater=Y||p}var S=B.prototype=new N;S.constructor=B,x(S,b.prototype),S.isPureReactComponent=!0;var F=Array.isArray,L=Object.prototype.hasOwnProperty,M={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function I(E,P,Y){var z,J={},q=null,G=null;if(P!=null)for(z in P.ref!==void 0&&(G=P.ref),P.key!==void 0&&(q=""+P.key),P)L.call(P,z)&&!U.hasOwnProperty(z)&&(J[z]=P[z]);var ne=arguments.length-2;if(ne===1)J.children=Y;else if(1<ne){for(var ce=Array(ne),pe=0;pe<ne;pe++)ce[pe]=arguments[pe+2];J.children=ce}if(E&&E.defaultProps)for(z in ne=E.defaultProps,ne)J[z]===void 0&&(J[z]=ne[z]);return{$$typeof:e,type:E,key:q,ref:G,props:J,_owner:M.current}}function _(E,P){return{$$typeof:e,type:E.type,key:P,ref:E.ref,props:E.props,_owner:E._owner}}function W(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function Q(E){var P={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return P[Y]})}var K=/\/+/g;function X(E,P){return typeof E=="object"&&E!==null&&E.key!=null?Q(""+E.key):P.toString(36)}function R(E,P,Y,z,J){var q=typeof E;(q==="undefined"||q==="boolean")&&(E=null);var G=!1;if(E===null)G=!0;else switch(q){case"string":case"number":G=!0;break;case"object":switch(E.$$typeof){case e:case r:G=!0}}if(G)return G=E,J=J(G),E=z===""?"."+X(G,0):z,F(J)?(Y="",E!=null&&(Y=E.replace(K,"$&/")+"/"),R(J,P,Y,"",function(pe){return pe})):J!=null&&(W(J)&&(J=_(J,Y+(!J.key||G&&G.key===J.key?"":(""+J.key).replace(K,"$&/")+"/")+E)),P.push(J)),1;if(G=0,z=z===""?".":z+":",F(E))for(var ne=0;ne<E.length;ne++){q=E[ne];var ce=z+X(q,ne);G+=R(q,P,Y,ce,J)}else if(ce=m(E),typeof ce=="function")for(E=ce.call(E),ne=0;!(q=E.next()).done;)q=q.value,ce=z+X(q,ne++),G+=R(q,P,Y,ce,J);else if(q==="object")throw P=String(E),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return G}function re(E,P,Y){if(E==null)return E;var z=[],J=0;return R(E,z,"","",function(q){return P.call(Y,q,J++)}),z}function $(E){if(E._status===-1){var P=E._result;P=P(),P.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=P)}if(E._status===1)return E._result.default;throw E._result}var V={current:null},Z={transition:null},ie={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:Z,ReactCurrentOwner:M};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Gr.Children={map:re,forEach:function(E,P,Y){re(E,function(){P.apply(this,arguments)},Y)},count:function(E){var P=0;return re(E,function(){P++}),P},toArray:function(E){return re(E,function(P){return P})||[]},only:function(E){if(!W(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Gr.Component=b,Gr.Fragment=t,Gr.Profiler=s,Gr.PureComponent=B,Gr.StrictMode=a,Gr.Suspense=A,Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Gr.act=ue,Gr.cloneElement=function(E,P,Y){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var z=x({},E.props),J=E.key,q=E.ref,G=E._owner;if(P!=null){if(P.ref!==void 0&&(q=P.ref,G=M.current),P.key!==void 0&&(J=""+P.key),E.type&&E.type.defaultProps)var ne=E.type.defaultProps;for(ce in P)L.call(P,ce)&&!U.hasOwnProperty(ce)&&(z[ce]=P[ce]===void 0&&ne!==void 0?ne[ce]:P[ce])}var ce=arguments.length-2;if(ce===1)z.children=Y;else if(1<ce){ne=Array(ce);for(var pe=0;pe<ce;pe++)ne[pe]=arguments[pe+2];z.children=ne}return{$$typeof:e,type:E.type,key:J,ref:q,props:z,_owner:G}},Gr.createContext=function(E){return E={$$typeof:o,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:i,_context:E},E.Consumer=E},Gr.createElement=I,Gr.createFactory=function(E){var P=I.bind(null,E);return P.type=E,P},Gr.createRef=function(){return{current:null}},Gr.forwardRef=function(E){return{$$typeof:l,render:E}},Gr.isValidElement=W,Gr.lazy=function(E){return{$$typeof:f,_payload:{_status:-1,_result:E},_init:$}},Gr.memo=function(E,P){return{$$typeof:d,type:E,compare:P===void 0?null:P}},Gr.startTransition=function(E){var P=Z.transition;Z.transition={};try{E()}finally{Z.transition=P}},Gr.unstable_act=ue,Gr.useCallback=function(E,P){return V.current.useCallback(E,P)},Gr.useContext=function(E){return V.current.useContext(E)},Gr.useDebugValue=function(){},Gr.useDeferredValue=function(E){return V.current.useDeferredValue(E)},Gr.useEffect=function(E,P){return V.current.useEffect(E,P)},Gr.useId=function(){return V.current.useId()},Gr.useImperativeHandle=function(E,P,Y){return V.current.useImperativeHandle(E,P,Y)},Gr.useInsertionEffect=function(E,P){return V.current.useInsertionEffect(E,P)},Gr.useLayoutEffect=function(E,P){return V.current.useLayoutEffect(E,P)},Gr.useMemo=function(E,P){return V.current.useMemo(E,P)},Gr.useReducer=function(E,P,Y){return V.current.useReducer(E,P,Y)},Gr.useRef=function(E){return V.current.useRef(E)},Gr.useState=function(E){return V.current.useState(E)},Gr.useSyncExternalStore=function(E,P,Y){return V.current.useSyncExternalStore(E,P,Y)},Gr.useTransition=function(){return V.current.useTransition()},Gr.version="18.3.1",Gr}var y2;function B0(){return y2||(y2=1,fv.exports=fD()),fv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function hD(){if(b2)return Ch;b2=1;var e=B0(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,A,d){var f,h={},m=null,p=null;d!==void 0&&(m=""+d),A.key!==void 0&&(m=""+A.key),A.ref!==void 0&&(p=A.ref);for(f in A)a.call(A,f)&&!i.hasOwnProperty(f)&&(h[f]=A[f]);if(l&&l.defaultProps)for(f in A=l.defaultProps,A)h[f]===void 0&&(h[f]=A[f]);return{$$typeof:r,type:l,key:m,ref:p,props:h,_owner:s.current}}return Ch.Fragment=t,Ch.jsx=o,Ch.jsxs=o,Ch}var N2;function mD(){return N2||(N2=1,uv.exports=hD()),uv.exports}var n=mD(),yp={},hv={exports:{}},Fi={},mv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function pD(){return j2||(j2=1,(function(e){function r(Z,ie){var ue=Z.length;Z.push(ie);e:for(;0<ue;){var E=ue-1>>>1,P=Z[E];if(0<s(P,ie))Z[E]=ie,Z[ue]=P,ue=E;else break e}}function t(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var ie=Z[0],ue=Z.pop();if(ue!==ie){Z[0]=ue;e:for(var E=0,P=Z.length,Y=P>>>1;E<Y;){var z=2*(E+1)-1,J=Z[z],q=z+1,G=Z[q];if(0>s(J,ue))q<P&&0>s(G,J)?(Z[E]=G,Z[q]=ue,E=q):(Z[E]=J,Z[z]=ue,E=z);else if(q<P&&0>s(G,ue))Z[E]=G,Z[q]=ue,E=q;else break e}}return ie}function s(Z,ie){var ue=Z.sortIndex-ie.sortIndex;return ue!==0?ue:Z.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var A=[],d=[],f=1,h=null,m=3,p=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Z){for(var ie=t(d);ie!==null;){if(ie.callback===null)a(d);else if(ie.startTime<=Z)a(d),ie.sortIndex=ie.expirationTime,r(A,ie);else break;ie=t(d)}}function F(Z){if(v=!1,S(Z),!x)if(t(A)!==null)x=!0,$(L);else{var ie=t(d);ie!==null&&V(F,ie.startTime-Z)}}function L(Z,ie){x=!1,v&&(v=!1,N(I),I=-1),p=!0;var ue=m;try{for(S(ie),h=t(A);h!==null&&(!(h.expirationTime>ie)||Z&&!Q());){var E=h.callback;if(typeof E=="function"){h.callback=null,m=h.priorityLevel;var P=E(h.expirationTime<=ie);ie=e.unstable_now(),typeof P=="function"?h.callback=P:h===t(A)&&a(A),S(ie)}else a(A);h=t(A)}if(h!==null)var Y=!0;else{var z=t(d);z!==null&&V(F,z.startTime-ie),Y=!1}return Y}finally{h=null,m=ue,p=!1}}var M=!1,U=null,I=-1,_=5,W=-1;function Q(){return!(e.unstable_now()-W<_)}function K(){if(U!==null){var Z=e.unstable_now();W=Z;var ie=!0;try{ie=U(!0,Z)}finally{ie?X():(M=!1,U=null)}}else M=!1}var X;if(typeof B=="function")X=function(){B(K)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,re=R.port2;R.port1.onmessage=K,X=function(){re.postMessage(null)}}else X=function(){b(K,0)};function $(Z){U=Z,M||(M=!0,X())}function V(Z,ie){I=b(function(){Z(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,$(L))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return t(A)},e.unstable_next=function(Z){switch(m){case 1:case 2:case 3:var ie=3;break;default:ie=m}var ue=m;m=ie;try{return Z()}finally{m=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ue=m;m=Z;try{return ie()}finally{m=ue}},e.unstable_scheduleCallback=function(Z,ie,ue){var E=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?E+ue:E):ue=E,Z){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ue+P,Z={id:f++,callback:ie,priorityLevel:Z,startTime:ue,expirationTime:P,sortIndex:-1},ue>E?(Z.sortIndex=ue,r(d,Z),t(A)===null&&Z===t(d)&&(v?(N(I),I=-1):v=!0,V(F,ue-E))):(Z.sortIndex=P,r(A,Z),x||p||(x=!0,$(L))),Z},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(Z){var ie=m;return function(){var ue=m;m=ie;try{return Z.apply(this,arguments)}finally{m=ue}}}})(pv)),pv}var B2;function gD(){return B2||(B2=1,mv.exports=pD()),mv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function xD(){if(C2)return Fi;C2=1;var e=B0(),r=gD();function t(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(c,u){o(c,u),o(c+"Capture",u)}function o(c,u){for(s[c]=u,c=0;c<u.length;c++)a.add(u[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(c){return A.call(h,c)?!0:A.call(f,c)?!1:d.test(c)?h[c]=!0:(f[c]=!0,!1)}function p(c,u,g,j){if(g!==null&&g.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return j?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function x(c,u,g,j){if(u===null||typeof u>"u"||p(c,u,g,j))return!0;if(j)return!1;if(g!==null)switch(g.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function v(c,u,g,j,D,O,ae){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=j,this.attributeNamespace=D,this.mustUseProperty=g,this.propertyName=c,this.type=u,this.sanitizeURL=O,this.removeEmptyString=ae}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){b[c]=new v(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];b[u]=new v(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){b[c]=new v(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){b[c]=new v(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){b[c]=new v(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){b[c]=new v(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){b[c]=new v(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){b[c]=new v(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){b[c]=new v(c,5,!1,c.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function B(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(N,B);b[u]=new v(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(N,B);b[u]=new v(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(N,B);b[u]=new v(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){b[c]=new v(c,1,!1,c.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){b[c]=new v(c,1,!1,c.toLowerCase(),null,!0,!0)});function S(c,u,g,j){var D=b.hasOwnProperty(u)?b[u]:null;(D!==null?D.type!==0:j||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,g,D,j)&&(g=null),j||D===null?m(u)&&(g===null?c.removeAttribute(u):c.setAttribute(u,""+g)):D.mustUseProperty?c[D.propertyName]=g===null?D.type===3?!1:"":g:(u=D.attributeName,j=D.attributeNamespace,g===null?c.removeAttribute(u):(D=D.type,g=D===3||D===4&&g===!0?"":""+g,j?c.setAttributeNS(j,u,g):c.setAttribute(u,g))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),Q=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ie(c){return c===null||typeof c!="object"?null:(c=Z&&c[Z]||c["@@iterator"],typeof c=="function"?c:null)}var ue=Object.assign,E;function P(c){if(E===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);E=u&&u[1]||""}return`
`+E+c}var Y=!1;function z(c,u){if(!c||Y)return"";Y=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Te){var j=Te}Reflect.construct(c,[],u)}else{try{u.call()}catch(Te){j=Te}c.call(u.prototype)}else{try{throw Error()}catch(Te){j=Te}c()}}catch(Te){if(Te&&j&&typeof Te.stack=="string"){for(var D=Te.stack.split(`
`),O=j.stack.split(`
`),ae=D.length-1,ge=O.length-1;1<=ae&&0<=ge&&D[ae]!==O[ge];)ge--;for(;1<=ae&&0<=ge;ae--,ge--)if(D[ae]!==O[ge]){if(ae!==1||ge!==1)do if(ae--,ge--,0>ge||D[ae]!==O[ge]){var Ne=`
`+D[ae].replace(" at new "," at ");return c.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",c.displayName)),Ne}while(1<=ae&&0<=ge);break}}}finally{Y=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?P(c):""}function J(c){switch(c.tag){case 5:return P(c.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return c=z(c.type,!1),c;case 11:return c=z(c.type.render,!1),c;case 1:return c=z(c.type,!0),c;default:return""}}function q(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case U:return"Fragment";case M:return"Portal";case _:return"Profiler";case I:return"StrictMode";case X:return"Suspense";case R:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Q:return(c.displayName||"Context")+".Consumer";case W:return(c._context.displayName||"Context")+".Provider";case K:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case re:return u=c.displayName||null,u!==null?u:q(c.type)||"Memo";case $:u=c._payload,c=c._init;try{return q(c(u))}catch{}}return null}function G(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ne(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ce(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function pe(c){var u=ce(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),j=""+c[u];if(!c.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var D=g.get,O=g.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return D.call(this)},set:function(ae){j=""+ae,O.call(this,ae)}}),Object.defineProperty(c,u,{enumerable:g.enumerable}),{getValue:function(){return j},setValue:function(ae){j=""+ae},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function ve(c){c._valueTracker||(c._valueTracker=pe(c))}function Pe(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var g=u.getValue(),j="";return c&&(j=ce(c)?c.checked?"true":"false":c.value),c=j,c!==g?(u.setValue(c),!0):!1}function ke(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function xe(c,u){var g=u.checked;return ue({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function de(c,u){var g=u.defaultValue==null?"":u.defaultValue,j=u.checked!=null?u.checked:u.defaultChecked;g=ne(u.value!=null?u.value:g),c._wrapperState={initialChecked:j,initialValue:g,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function wt(c,u){u=u.checked,u!=null&&S(c,"checked",u,!1)}function bt(c,u){wt(c,u);var g=ne(u.value),j=u.type;if(g!=null)j==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(j==="submit"||j==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?qe(c,u.type,g):u.hasOwnProperty("defaultValue")&&qe(c,u.type,ne(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function mt(c,u,g){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var j=u.type;if(!(j!=="submit"&&j!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,g||u===c.value||(c.value=u),c.defaultValue=u}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function qe(c,u,g){(u!=="number"||ke(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var dt=Array.isArray;function ut(c,u,g,j){if(c=c.options,u){u={};for(var D=0;D<g.length;D++)u["$"+g[D]]=!0;for(g=0;g<c.length;g++)D=u.hasOwnProperty("$"+c[g].value),c[g].selected!==D&&(c[g].selected=D),D&&j&&(c[g].defaultSelected=!0)}else{for(g=""+ne(g),u=null,D=0;D<c.length;D++){if(c[D].value===g){c[D].selected=!0,j&&(c[D].defaultSelected=!0);return}u!==null||c[D].disabled||(u=c[D])}u!==null&&(u.selected=!0)}}function er(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function We(c,u){var g=u.value;if(g==null){if(g=u.children,u=u.defaultValue,g!=null){if(u!=null)throw Error(t(92));if(dt(g)){if(1<g.length)throw Error(t(93));g=g[0]}u=g}u==null&&(u=""),g=u}c._wrapperState={initialValue:ne(g)}}function Xt(c,u){var g=ne(u.value),j=ne(u.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),u.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),j!=null&&(c.defaultValue=""+j)}function Vt(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function Et(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pr(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?Et(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var _t,It=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,g,j,D){MSApp.execUnsafeLocalFunction(function(){return c(u,g,j,D)})}:c})(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for(_t=_t||document.createElement("div"),_t.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=_t.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function Bt(c,u){if(u){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=u;return}}c.textContent=u}var Nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wt=["Webkit","ms","Moz","O"];Object.keys(Nt).forEach(function(c){Wt.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),Nt[u]=Nt[c]})});function Er(c,u,g){return u==null||typeof u=="boolean"||u===""?"":g||typeof u!="number"||u===0||Nt.hasOwnProperty(c)&&Nt[c]?(""+u).trim():u+"px"}function Ft(c,u){c=c.style;for(var g in u)if(u.hasOwnProperty(g)){var j=g.indexOf("--")===0,D=Er(g,u[g],j);g==="float"&&(g="cssFloat"),j?c.setProperty(g,D):c[g]=D}}var xr=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function it(c,u){if(u){if(xr[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function $e(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lt=null;function St(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var pt=null,kt=null,Qe=null;function Xe(c){if(c=yA(c)){if(typeof pt!="function")throw Error(t(280));var u=c.stateNode;u&&(u=Ld(u),pt(c.stateNode,c.type,u))}}function gt(c){kt?Qe?Qe.push(c):Qe=[c]:kt=c}function Mt(){if(kt){var c=kt,u=Qe;if(Qe=kt=null,Xe(c),u)for(c=0;c<u.length;c++)Xe(u[c])}}function Gt(c,u){return c(u)}function ir(){}var et=!1;function Ct(c,u,g){if(et)return c(u,g);et=!0;try{return Gt(c,u,g)}finally{et=!1,(kt!==null||Qe!==null)&&(ir(),Mt())}}function or(c,u){var g=c.stateNode;if(g===null)return null;var j=Ld(g);if(j===null)return null;g=j[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(t(231,u,typeof g));return g}var mr=!1;if(l)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){mr=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{mr=!1}function Cr(c,u,g,j,D,O,ae,ge,Ne){var Te=Array.prototype.slice.call(arguments,3);try{u.apply(g,Te)}catch(At){this.onError(At)}}var cr=!1,Kr=null,ar=!1,Jr=null,Va={onError:function(c){cr=!0,Kr=c}};function Zr(c,u,g,j,D,O,ae,ge,Ne){cr=!1,Kr=null,Cr.apply(Va,arguments)}function Sn(c,u,g,j,D,O,ae,ge,Ne){if(Zr.apply(this,arguments),cr){if(cr){var Te=Kr;cr=!1,Kr=null}else throw Error(t(198));ar||(ar=!0,Jr=Te)}}function hn(c){var u=c,g=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(g=u.return),c=u.return;while(c)}return u.tag===3?g:null}function ys(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function os(c){if(hn(c)!==c)throw Error(t(188))}function so(c){var u=c.alternate;if(!u){if(u=hn(c),u===null)throw Error(t(188));return u!==c?null:c}for(var g=c,j=u;;){var D=g.return;if(D===null)break;var O=D.alternate;if(O===null){if(j=D.return,j!==null){g=j;continue}break}if(D.child===O.child){for(O=D.child;O;){if(O===g)return os(D),c;if(O===j)return os(D),u;O=O.sibling}throw Error(t(188))}if(g.return!==j.return)g=D,j=O;else{for(var ae=!1,ge=D.child;ge;){if(ge===g){ae=!0,g=D,j=O;break}if(ge===j){ae=!0,j=D,g=O;break}ge=ge.sibling}if(!ae){for(ge=O.child;ge;){if(ge===g){ae=!0,g=O,j=D;break}if(ge===j){ae=!0,j=O,g=D;break}ge=ge.sibling}if(!ae)throw Error(t(189))}}if(g.alternate!==j)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?c:u}function ks(c){return c=so(c),c!==null?Ri(c):null}function Ri(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=Ri(c);if(u!==null)return u;c=c.sibling}return null}var io=r.unstable_scheduleCallback,xt=r.unstable_cancelCallback,Je=r.unstable_shouldYield,ka=r.unstable_requestPaint,ct=r.unstable_now,Kn=r.unstable_getCurrentPriorityLevel,fa=r.unstable_ImmediatePriority,ha=r.unstable_UserBlockingPriority,Lr=r.unstable_NormalPriority,mn=r.unstable_LowPriority,Ia=r.unstable_IdlePriority,mi=null,bs=null;function Jn(c){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(mi,c,void 0,(c.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:Bu,eh=Math.log,pn=Math.LN2;function Bu(c){return c>>>=0,c===0?32:31-(eh(c)/pn|0)|0}var ic=64,pi=4194304;function Ti(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ds(c,u){var g=c.pendingLanes;if(g===0)return 0;var j=0,D=c.suspendedLanes,O=c.pingedLanes,ae=g&268435455;if(ae!==0){var ge=ae&~D;ge!==0?j=Ti(ge):(O&=ae,O!==0&&(j=Ti(O)))}else ae=g&~D,ae!==0?j=Ti(ae):O!==0&&(j=Ti(O));if(j===0)return 0;if(u!==0&&u!==j&&(u&D)===0&&(D=j&-j,O=u&-u,D>=O||D===16&&(O&4194240)!==0))return u;if((j&4)!==0&&(j|=g&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=j;0<u;)g=31-ls(u),D=1<<g,j|=c[g],u&=~D;return j}function oc(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nn(c,u){for(var g=c.suspendedLanes,j=c.pingedLanes,D=c.expirationTimes,O=c.pendingLanes;0<O;){var ae=31-ls(O),ge=1<<ae,Ne=D[ae];Ne===-1?((ge&g)===0||(ge&j)!==0)&&(D[ae]=oc(ge,u)):Ne<=u&&(c.expiredLanes|=ge),O&=~ge}}function lc(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Cu(){var c=ic;return ic<<=1,(ic&4194240)===0&&(ic=64),c}function pd(c){for(var u=[],g=0;31>g;g++)u.push(c);return u}function cc(c,u,g){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-ls(u),c[u]=g}function oo(c,u){var g=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var j=c.eventTimes;for(c=c.expirationTimes;0<g;){var D=31-ls(g),O=1<<D;u[D]=0,j[D]=-1,c[D]=-1,g&=~O}}function sA(c,u){var g=c.entangledLanes|=u;for(c=c.entanglements;g;){var j=31-ls(g),D=1<<j;D&u|c[j]&u&&(c[j]|=u),g&=~D}}var sa=0;function Lo(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var iA,gd,Su,Eu,oA,Io=!1,Mi=[],lo=null,Us=null,gi=null,hr=new Map,Ac=new Map,co=[],th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(c,u){switch(c){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":hr.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(u.pointerId)}}function ei(c,u,g,j,D,O){return c===null||c.nativeEvent!==O?(c={blockedOn:u,domEventName:g,eventSystemFlags:j,nativeEvent:O,targetContainers:[D]},u!==null&&(u=yA(u),u!==null&&gd(u)),c):(c.eventSystemFlags|=j,u=c.targetContainers,D!==null&&u.indexOf(D)===-1&&u.push(D),c)}function Po(c,u,g,j,D){switch(u){case"focusin":return lo=ei(lo,c,u,g,j,D),!0;case"dragenter":return Us=ei(Us,c,u,g,j,D),!0;case"mouseover":return gi=ei(gi,c,u,g,j,D),!0;case"pointerover":var O=D.pointerId;return hr.set(O,ei(hr.get(O)||null,c,u,g,j,D)),!0;case"gotpointercapture":return O=D.pointerId,Ac.set(O,ei(Ac.get(O)||null,c,u,g,j,D)),!0}return!1}function Fu(c){var u=Cl(c.target);if(u!==null){var g=hn(u);if(g!==null){if(u=g.tag,u===13){if(u=ys(g),u!==null){c.blockedOn=u,oA(c.priority,function(){Su(g)});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function lA(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var g=uc(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var j=new g.constructor(g.type,g);lt=j,g.target.dispatchEvent(j),lt=null}else return u=yA(g),u!==null&&gd(u),c.blockedOn=g,!1;u.shift()}return!0}function dc(c,u,g){lA(c)&&g.delete(u)}function xd(){Io=!1,lo!==null&&lA(lo)&&(lo=null),Us!==null&&lA(Us)&&(Us=null),gi!==null&&lA(gi)&&(gi=null),hr.forEach(dc),Ac.forEach(dc)}function Oi(c,u){c.blockedOn===u&&(c.blockedOn=null,Io||(Io=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xd)))}function Ao(c){function u(D){return Oi(D,c)}if(0<Mi.length){Oi(Mi[0],c);for(var g=1;g<Mi.length;g++){var j=Mi[g];j.blockedOn===c&&(j.blockedOn=null)}}for(lo!==null&&Oi(lo,c),Us!==null&&Oi(Us,c),gi!==null&&Oi(gi,c),hr.forEach(u),Ac.forEach(u),g=0;g<co.length;g++)j=co[g],j.blockedOn===c&&(j.blockedOn=null);for(;0<co.length&&(g=co[0],g.blockedOn===null);)Fu(g),g.blockedOn===null&&co.shift()}var Hi=F.ReactCurrentBatchConfig,cA=!0;function vd(c,u,g,j){var D=sa,O=Hi.transition;Hi.transition=null;try{sa=1,Qo(c,u,g,j)}finally{sa=D,Hi.transition=O}}function wd(c,u,g,j){var D=sa,O=Hi.transition;Hi.transition=null;try{sa=4,Qo(c,u,g,j)}finally{sa=D,Hi.transition=O}}function Qo(c,u,g,j){if(cA){var D=uc(c,u,g,j);if(D===null)kd(c,u,j,uo,g),_u(c,j);else if(Po(D,c,u,g,j))j.stopPropagation();else if(_u(c,j),u&4&&-1<th.indexOf(c)){for(;D!==null;){var O=yA(D);if(O!==null&&iA(O),O=uc(c,u,g,j),O===null&&kd(c,u,j,uo,g),O===D)break;D=O}D!==null&&j.stopPropagation()}else kd(c,u,j,null,g)}}var uo=null;function uc(c,u,g,j){if(uo=null,c=St(j),c=Cl(c),c!==null)if(u=hn(c),u===null)c=null;else if(g=u.tag,g===13){if(c=ys(u),c!==null)return c;c=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return uo=c,null}function fc(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kn()){case fa:return 1;case ha:return 4;case Lr:case mn:return 16;case Ia:return 536870912;default:return 16}default:return 16}}var xi=null,Ro=null,hc=null;function yd(){if(hc)return hc;var c,u=Ro,g=u.length,j,D="value"in xi?xi.value:xi.textContent,O=D.length;for(c=0;c<g&&u[c]===D[c];c++);var ae=g-c;for(j=1;j<=ae&&u[g-j]===D[O-j];j++);return hc=D.slice(c,1<j?1-j:void 0)}function vi(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function wi(){return!0}function bd(){return!1}function cs(c){function u(g,j,D,O,ae){this._reactName=g,this._targetInst=D,this.type=j,this.nativeEvent=O,this.target=ae,this.currentTarget=null;for(var ge in c)c.hasOwnProperty(ge)&&(g=c[ge],this[ge]=g?g(O):O[ge]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?wi:bd,this.isPropagationStopped=bd,this}return ue(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),u}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AA=cs(yi),k=ue({},yi,{view:0,detail:0}),te=cs(k),me,we,Ce,Ye=ue({},k,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ce&&(Ce&&c.type==="mousemove"?(me=c.screenX-Ce.screenX,we=c.screenY-Ce.screenY):we=me=0,Ce=c),me)},movementY:function(c){return"movementY"in c?c.movementY:we}}),nt=cs(Ye),Ht=ue({},Ye,{dataTransfer:0}),Jt=cs(Ht),wr=ue({},k,{relatedTarget:0}),yr=cs(wr),oa=ue({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),za=cs(oa),gn=ue({},yi,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Da=cs(gn),En=ue({},yi,{data:0}),sn=cs(En),Zn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ls={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=Ls[c])?!!u[c]:!1}function gl(){return ku}var mc=ue({},k,{key:function(c){if(c.key){var u=Zn[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=vi(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?bi[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gl,charCode:function(c){return c.type==="keypress"?vi(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?vi(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),xl=cs(mc),pc=ue({},Ye,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vl=cs(pc),gc=ue({},k,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gl}),As=cs(gc),xc=ue({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vc=cs(xc),Nd=ue({},Ye,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),jd=cs(Nd),Ya=[9,13,27,32],Ki=l&&"CompositionEvent"in window,fo=null;l&&"documentMode"in document&&(fo=document.documentMode);var Du=l&&"TextEvent"in window&&!fo,ti=l&&(!Ki||fo&&8<fo&&11>=fo),wl=" ",dA=!1;function uA(c,u){switch(c){case"keyup":return Ya.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function To(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ni=!1;function ri(c,u){switch(c){case"compositionend":return To(u);case"keypress":return u.which!==32?null:(dA=!0,wl);case"textInput":return c=u.data,c===wl&&dA?null:c;default:return null}}function ai(c,u){if(Ni)return c==="compositionend"||!Ki&&uA(c,u)?(c=yd(),hc=Ro=xi=null,Ni=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ti&&u.locale!=="ko"?null:u.data;default:return null}}var yl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ho(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!yl[c.type]:u==="textarea"}function Mo(c,u,g,j){gt(j),u=Qu(u,"onChange"),0<u.length&&(g=new AA("onChange","change",null,g,j),c.push({event:g,listeners:u}))}var Oo=null,mo=null;function on(c){_d(c,0)}function wc(c){var u=Fc(c);if(Pe(u))return c}function po(c,u){if(c==="change")return u}var $i=!1;if(l){var yc;if(l){var bc="oninput"in document;if(!bc){var fA=document.createElement("div");fA.setAttribute("oninput","return;"),bc=typeof fA.oninput=="function"}yc=bc}else yc=!1;$i=yc&&(!document.documentMode||9<document.documentMode)}function hA(){Oo&&(Oo.detachEvent("onpropertychange",Ho),mo=Oo=null)}function Ho(c){if(c.propertyName==="value"&&wc(mo)){var u=[];Mo(u,mo,c,St(c)),Ct(on,u)}}function bl(c,u,g){c==="focusin"?(hA(),Oo=u,mo=g,Oo.attachEvent("onpropertychange",Ho)):c==="focusout"&&hA()}function Nl(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return wc(mo)}function Nc(c,u){if(c==="click")return wc(u)}function jl(c,u){if(c==="input"||c==="change")return wc(u)}function jc(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var Xa=typeof Object.is=="function"?Object.is:jc;function Is(c,u){if(Xa(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var g=Object.keys(c),j=Object.keys(u);if(g.length!==j.length)return!1;for(j=0;j<g.length;j++){var D=g[j];if(!A.call(u,D)||!Xa(c[D],u[D]))return!1}return!0}function la(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function xa(c,u){var g=la(c);c=0;for(var j;g;){if(g.nodeType===3){if(j=c+g.textContent.length,c<=u&&j>=u)return{node:g,offset:u-c};c=j}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=la(g)}}function Ja(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?Ja(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function xn(){for(var c=window,u=ke();u instanceof c.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)c=u.contentWindow;else break;u=ke(c.document)}return u}function Vi(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function Bd(c){var u=xn(),g=c.focusedElem,j=c.selectionRange;if(u!==g&&g&&g.ownerDocument&&Ja(g.ownerDocument.documentElement,g)){if(j!==null&&Vi(g)){if(u=j.start,c=j.end,c===void 0&&(c=u),"selectionStart"in g)g.selectionStart=u,g.selectionEnd=Math.min(c,g.value.length);else if(c=(u=g.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var D=g.textContent.length,O=Math.min(j.start,D);j=j.end===void 0?O:Math.min(j.end,D),!c.extend&&O>j&&(D=j,j=O,O=D),D=xa(g,O);var ae=xa(g,j);D&&ae&&(c.rangeCount!==1||c.anchorNode!==D.node||c.anchorOffset!==D.offset||c.focusNode!==ae.node||c.focusOffset!==ae.offset)&&(u=u.createRange(),u.setStart(D.node,D.offset),c.removeAllRanges(),O>j?(c.addRange(u),c.extend(ae.node,ae.offset)):(u.setEnd(ae.node,ae.offset),c.addRange(u)))}}for(u=[],c=g;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<u.length;g++)c=u[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var mA=l&&"documentMode"in document&&11>=document.documentMode,Ko=null,Uu=null,pA=null,Lu=!1;function rh(c,u,g){var j=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Lu||Ko==null||Ko!==ke(j)||(j=Ko,"selectionStart"in j&&Vi(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),pA&&Is(pA,j)||(pA=j,j=Qu(Uu,"onSelect"),0<j.length&&(u=new AA("onSelect","select",null,u,g),c.push({event:u,listeners:j}),u.target=Ko)))}function Cd(c,u){var g={};return g[c.toLowerCase()]=u.toLowerCase(),g["Webkit"+c]="webkit"+u,g["Moz"+c]="moz"+u,g}var Bc={animationend:Cd("Animation","AnimationEnd"),animationiteration:Cd("Animation","AnimationIteration"),animationstart:Cd("Animation","AnimationStart"),transitionend:Cd("Transition","TransitionEnd")},Cc={},ah={};l&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function Sd(c){if(Cc[c])return Cc[c];if(!Bc[c])return c;var u=Bc[c],g;for(g in u)if(u.hasOwnProperty(g)&&g in ah)return Cc[c]=u[g];return c}var nh=Sd("animationend"),sh=Sd("animationiteration"),ih=Sd("animationstart"),oh=Sd("transitionend"),lh=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(c,u){lh.set(c,u),i(u,[c])}for(var gA=0;gA<ch.length;gA++){var Ns=ch[gA],ji=Ns.toLowerCase(),Iu=Ns[0].toUpperCase()+Ns.slice(1);go(ji,"on"+Iu)}go(nh,"onAnimationEnd"),go(sh,"onAnimationIteration"),go(ih,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(oh,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Om=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function Ed(c,u,g){var j=c.type||"unknown-event";c.currentTarget=g,Sn(j,u,void 0,c),c.currentTarget=null}function _d(c,u){u=(u&4)!==0;for(var g=0;g<c.length;g++){var j=c[g],D=j.event;j=j.listeners;e:{var O=void 0;if(u)for(var ae=j.length-1;0<=ae;ae--){var ge=j[ae],Ne=ge.instance,Te=ge.currentTarget;if(ge=ge.listener,Ne!==O&&D.isPropagationStopped())break e;Ed(D,ge,Te),O=Ne}else for(ae=0;ae<j.length;ae++){if(ge=j[ae],Ne=ge.instance,Te=ge.currentTarget,ge=ge.listener,Ne!==O&&D.isPropagationStopped())break e;Ed(D,ge,Te),O=Ne}}}if(ar)throw c=Jr,ar=!1,Jr=null,c}function Na(c,u){var g=u[Qs];g===void 0&&(g=u[Qs]=new Set);var j=c+"__bubble";g.has(j)||(Fd(u,c,2,!1),g.add(j))}function Pu(c,u,g){var j=0;u&&(j|=4),Fd(g,c,j,u)}var xA="_reactListening"+Math.random().toString(36).slice(2);function Sc(c){if(!c[xA]){c[xA]=!0,a.forEach(function(g){g!=="selectionchange"&&(Om.has(g)||Pu(g,!1,c),Pu(g,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[xA]||(u[xA]=!0,Pu("selectionchange",!1,u))}}function Fd(c,u,g,j){switch(fc(u)){case 1:var D=vd;break;case 4:D=wd;break;default:D=Qo}g=D.bind(null,u,g,c),D=void 0,!mr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(D=!0),j?D!==void 0?c.addEventListener(u,g,{capture:!0,passive:D}):c.addEventListener(u,g,!0):D!==void 0?c.addEventListener(u,g,{passive:D}):c.addEventListener(u,g,!1)}function kd(c,u,g,j,D){var O=j;if((u&1)===0&&(u&2)===0&&j!==null)e:for(;;){if(j===null)return;var ae=j.tag;if(ae===3||ae===4){var ge=j.stateNode.containerInfo;if(ge===D||ge.nodeType===8&&ge.parentNode===D)break;if(ae===4)for(ae=j.return;ae!==null;){var Ne=ae.tag;if((Ne===3||Ne===4)&&(Ne=ae.stateNode.containerInfo,Ne===D||Ne.nodeType===8&&Ne.parentNode===D))return;ae=ae.return}for(;ge!==null;){if(ae=Cl(ge),ae===null)return;if(Ne=ae.tag,Ne===5||Ne===6){j=O=ae;continue e}ge=ge.parentNode}}j=j.return}Ct(function(){var Te=O,At=St(g),ht=[];e:{var ot=lh.get(c);if(ot!==void 0){var Pt=AA,zt=c;switch(c){case"keypress":if(vi(g)===0)break e;case"keydown":case"keyup":Pt=xl;break;case"focusin":zt="focus",Pt=yr;break;case"focusout":zt="blur",Pt=yr;break;case"beforeblur":case"afterblur":Pt=yr;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pt=nt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pt=Jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pt=As;break;case nh:case sh:case ih:Pt=za;break;case oh:Pt=vc;break;case"scroll":Pt=te;break;case"wheel":Pt=jd;break;case"copy":case"cut":case"paste":Pt=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pt=vl}var Yt=(u&4)!==0,kn=!Yt&&c==="scroll",Ue=Yt?ot!==null?ot+"Capture":null:ot;Yt=[];for(var Be=Te,Re;Be!==null;){Re=Be;var vt=Re.stateNode;if(Re.tag===5&&vt!==null&&(Re=vt,Ue!==null&&(vt=or(Be,Ue),vt!=null&&Yt.push(Dd(Be,vt,Re)))),kn)break;Be=Be.return}0<Yt.length&&(ot=new Pt(ot,zt,null,g,At),ht.push({event:ot,listeners:Yt}))}}if((u&7)===0){e:{if(ot=c==="mouseover"||c==="pointerover",Pt=c==="mouseout"||c==="pointerout",ot&&g!==lt&&(zt=g.relatedTarget||g.fromElement)&&(Cl(zt)||zt[ds]))break e;if((Pt||ot)&&(ot=At.window===At?At:(ot=At.ownerDocument)?ot.defaultView||ot.parentWindow:window,Pt?(zt=g.relatedTarget||g.toElement,Pt=Te,zt=zt?Cl(zt):null,zt!==null&&(kn=hn(zt),zt!==kn||zt.tag!==5&&zt.tag!==6)&&(zt=null)):(Pt=null,zt=Te),Pt!==zt)){if(Yt=nt,vt="onMouseLeave",Ue="onMouseEnter",Be="mouse",(c==="pointerout"||c==="pointerover")&&(Yt=vl,vt="onPointerLeave",Ue="onPointerEnter",Be="pointer"),kn=Pt==null?ot:Fc(Pt),Re=zt==null?ot:Fc(zt),ot=new Yt(vt,Be+"leave",Pt,g,At),ot.target=kn,ot.relatedTarget=Re,vt=null,Cl(At)===Te&&(Yt=new Yt(Ue,Be+"enter",zt,g,At),Yt.target=Re,Yt.relatedTarget=kn,vt=Yt),kn=vt,Pt&&zt)t:{for(Yt=Pt,Ue=zt,Be=0,Re=Yt;Re;Re=Ec(Re))Be++;for(Re=0,vt=Ue;vt;vt=Ec(vt))Re++;for(;0<Be-Re;)Yt=Ec(Yt),Be--;for(;0<Re-Be;)Ue=Ec(Ue),Re--;for(;Be--;){if(Yt===Ue||Ue!==null&&Yt===Ue.alternate)break t;Yt=Ec(Yt),Ue=Ec(Ue)}Yt=null}else Yt=null;Pt!==null&&Hm(ht,ot,Pt,Yt,!1),zt!==null&&kn!==null&&Hm(ht,kn,zt,Yt,!0)}}e:{if(ot=Te?Fc(Te):window,Pt=ot.nodeName&&ot.nodeName.toLowerCase(),Pt==="select"||Pt==="input"&&ot.type==="file")var tr=po;else if(ho(ot))if($i)tr=jl;else{tr=Nl;var dr=bl}else(Pt=ot.nodeName)&&Pt.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(tr=Nc);if(tr&&(tr=tr(c,Te))){Mo(ht,tr,g,At);break e}dr&&dr(c,ot,Te),c==="focusout"&&(dr=ot._wrapperState)&&dr.controlled&&ot.type==="number"&&qe(ot,"number",ot.value)}switch(dr=Te?Fc(Te):window,c){case"focusin":(ho(dr)||dr.contentEditable==="true")&&(Ko=dr,Uu=Te,pA=null);break;case"focusout":pA=Uu=Ko=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,rh(ht,g,At);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":rh(ht,g,At)}var ur;if(Ki)e:{switch(c){case"compositionstart":var jr="onCompositionStart";break e;case"compositionend":jr="onCompositionEnd";break e;case"compositionupdate":jr="onCompositionUpdate";break e}jr=void 0}else Ni?uA(c,g)&&(jr="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(jr="onCompositionStart");jr&&(ti&&g.locale!=="ko"&&(Ni||jr!=="onCompositionStart"?jr==="onCompositionEnd"&&Ni&&(ur=yd()):(xi=At,Ro="value"in xi?xi.value:xi.textContent,Ni=!0)),dr=Qu(Te,jr),0<dr.length&&(jr=new sn(jr,c,null,g,At),ht.push({event:jr,listeners:dr}),ur?jr.data=ur:(ur=To(g),ur!==null&&(jr.data=ur)))),(ur=Du?ri(c,g):ai(c,g))&&(Te=Qu(Te,"onBeforeInput"),0<Te.length&&(At=new sn("onBeforeInput","beforeinput",null,g,At),ht.push({event:At,listeners:Te}),At.data=ur))}_d(ht,u)})}function Dd(c,u,g){return{instance:c,listener:u,currentTarget:g}}function Qu(c,u){for(var g=u+"Capture",j=[];c!==null;){var D=c,O=D.stateNode;D.tag===5&&O!==null&&(D=O,O=or(c,g),O!=null&&j.unshift(Dd(c,O,D)),O=or(c,u),O!=null&&j.push(Dd(c,O,D))),c=c.return}return j}function Ec(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function Hm(c,u,g,j,D){for(var O=u._reactName,ae=[];g!==null&&g!==j;){var ge=g,Ne=ge.alternate,Te=ge.stateNode;if(Ne!==null&&Ne===j)break;ge.tag===5&&Te!==null&&(ge=Te,D?(Ne=or(g,O),Ne!=null&&ae.unshift(Dd(g,Ne,ge))):D||(Ne=or(g,O),Ne!=null&&ae.push(Dd(g,Ne,ge)))),g=g.return}ae.length!==0&&c.push({event:u,listeners:ae})}var Cx=/\r\n?/g,Sx=/\u0000|\uFFFD/g;function Km(c){return(typeof c=="string"?c:""+c).replace(Cx,`
`).replace(Sx,"")}function Ru(c,u,g){if(u=Km(u),Km(c)!==u&&g)throw Error(t(425))}function vA(){}var Ud=null,_c=null;function Ah(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var dh=typeof setTimeout=="function"?setTimeout:void 0,$m=typeof clearTimeout=="function"?clearTimeout:void 0,Vm=typeof Promise=="function"?Promise:void 0,Ex=typeof queueMicrotask=="function"?queueMicrotask:typeof Vm<"u"?function(c){return Vm.resolve(null).then(c).catch(_x)}:dh;function _x(c){setTimeout(function(){throw c})}function uh(c,u){var g=u,j=0;do{var D=g.nextSibling;if(c.removeChild(g),D&&D.nodeType===8)if(g=D.data,g==="/$"){if(j===0){c.removeChild(D),Ao(u);return}j--}else g!=="$"&&g!=="$?"&&g!=="$!"||j++;g=D}while(g);Ao(u)}function js(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function Bi(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return c;u--}else g==="/$"&&u++}c=c.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),xo="__reactFiber$"+Ps,wA="__reactProps$"+Ps,ds="__reactContainer$"+Ps,Qs="__reactEvents$"+Ps,Fx="__reactListeners$"+Ps,kx="__reactHandles$"+Ps;function Cl(c){var u=c[xo];if(u)return u;for(var g=c.parentNode;g;){if(u=g[ds]||g[xo]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(c=Bi(c);c!==null;){if(g=c[xo])return g;c=Bi(c)}return u}c=g,g=c.parentNode}return null}function yA(c){return c=c[xo]||c[ds],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Fc(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(t(33))}function Ld(c){return c[wA]||null}var fh=[],$o=-1;function zi(c){return{current:c}}function pa(c){0>$o||(c.current=fh[$o],fh[$o]=null,$o--)}function va(c,u){$o++,fh[$o]=c.current,c.current=u}var Sl={},es=zi(Sl),Rs=zi(!1),kc=Sl;function bA(c,u){var g=c.type.contextTypes;if(!g)return Sl;var j=c.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===u)return j.__reactInternalMemoizedMaskedChildContext;var D={},O;for(O in g)D[O]=u[O];return j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=D),D}function Ts(c){return c=c.childContextTypes,c!=null}function Tu(){pa(Rs),pa(es)}function zm(c,u,g){if(es.current!==Sl)throw Error(t(168));va(es,u),va(Rs,g)}function hh(c,u,g){var j=c.stateNode;if(u=u.childContextTypes,typeof j.getChildContext!="function")return g;j=j.getChildContext();for(var D in j)if(!(D in u))throw Error(t(108,G(c)||"Unknown",D));return ue({},g,j)}function Dc(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Sl,kc=es.current,va(es,c),va(Rs,Rs.current),!0}function qm(c,u,g){var j=c.stateNode;if(!j)throw Error(t(169));g?(c=hh(c,u,kc),j.__reactInternalMemoizedMergedChildContext=c,pa(Rs),pa(es),va(es,c)):pa(Rs),va(Rs,g)}var Vo=null,Id=!1,y=!1;function C(c){Vo===null?Vo=[c]:Vo.push(c)}function T(c){Id=!0,C(c)}function H(){if(!y&&Vo!==null){y=!0;var c=0,u=sa;try{var g=Vo;for(sa=1;c<g.length;c++){var j=g[c];do j=j(!0);while(j!==null)}Vo=null,Id=!1}catch(D){throw Vo!==null&&(Vo=Vo.slice(c+1)),io(fa,H),D}finally{sa=u,y=!1}}return null}var ee=[],se=0,oe=null,le=0,Ae=[],fe=0,be=null,Fe=1,he="";function je(c,u){ee[se++]=le,ee[se++]=oe,oe=c,le=u}function Se(c,u,g){Ae[fe++]=Fe,Ae[fe++]=he,Ae[fe++]=be,be=c;var j=Fe;c=he;var D=32-ls(j)-1;j&=~(1<<D),g+=1;var O=32-ls(u)+D;if(30<O){var ae=D-D%5;O=(j&(1<<ae)-1).toString(32),j>>=ae,D-=ae,Fe=1<<32-ls(u)+D|g<<D|j,he=O+c}else Fe=1<<O|g<<D|j,he=c}function Ve(c){c.return!==null&&(je(c,1),Se(c,1,0))}function Ie(c){for(;c===oe;)oe=ee[--se],ee[se]=null,le=ee[--se],ee[se]=null;for(;c===be;)be=Ae[--fe],Ae[fe]=null,he=Ae[--fe],Ae[fe]=null,Fe=Ae[--fe],Ae[fe]=null}var Oe=null,Ke=null,tt=!1,rt=null;function Zt(c,u){var g=No(5,null,null,0);g.elementType="DELETED",g.stateNode=u,g.return=c,u=c.deletions,u===null?(c.deletions=[g],c.flags|=16):u.push(g)}function Rt(c,u){switch(c.tag){case 5:var g=c.type;return u=u.nodeType!==1||g.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,Oe=c,Ke=js(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,Oe=c,Ke=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(g=be!==null?{id:Fe,overflow:he}:null,c.memoizedState={dehydrated:u,treeContext:g,retryLane:1073741824},g=No(18,null,null,0),g.stateNode=u,g.return=c,c.child=g,Oe=c,Ke=null,!0):!1;default:return!1}}function Sr(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Kt(c){if(tt){var u=Ke;if(u){var g=u;if(!Rt(c,u)){if(Sr(c))throw Error(t(418));u=js(g.nextSibling);var j=Oe;u&&Rt(c,u)?Zt(j,g):(c.flags=c.flags&-4097|2,tt=!1,Oe=c)}}else{if(Sr(c))throw Error(t(418));c.flags=c.flags&-4097|2,tt=!1,Oe=c}}}function Wr(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Oe=c}function Za(c){if(c!==Oe)return!1;if(!tt)return Wr(c),tt=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!Ah(c.type,c.memoizedProps)),u&&(u=Ke)){if(Sr(c))throw _r(),Error(t(418));for(;u;)Zt(c,u),u=js(u.nextSibling)}if(Wr(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(t(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(u===0){Ke=js(c.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++}c=c.nextSibling}Ke=null}}else Ke=Oe?js(c.stateNode.nextSibling):null;return!0}function _r(){for(var c=Ke;c;)c=js(c.nextSibling)}function Tt(){Ke=Oe=null,tt=!1}function yt(c){rt===null?rt=[c]:rt.push(c)}var ln=F.ReactCurrentBatchConfig;function vr(c,u,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var j=g.stateNode}if(!j)throw Error(t(147,c));var D=j,O=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===O?u.ref:(u=function(ae){var ge=D.refs;ae===null?delete ge[O]:ge[O]=ae},u._stringRef=O,u)}if(typeof c!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,c))}return c}function $r(c,u){throw c=Object.prototype.toString.call(u),Error(t(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function Ua(c){var u=c._init;return u(c._payload)}function $n(c){function u(Ue,Be){if(c){var Re=Ue.deletions;Re===null?(Ue.deletions=[Be],Ue.flags|=16):Re.push(Be)}}function g(Ue,Be){if(!c)return null;for(;Be!==null;)u(Ue,Be),Be=Be.sibling;return null}function j(Ue,Be){for(Ue=new Map;Be!==null;)Be.key!==null?Ue.set(Be.key,Be):Ue.set(Be.index,Be),Be=Be.sibling;return Ue}function D(Ue,Be){return Ue=DA(Ue,Be),Ue.index=0,Ue.sibling=null,Ue}function O(Ue,Be,Re){return Ue.index=Re,c?(Re=Ue.alternate,Re!==null?(Re=Re.index,Re<Be?(Ue.flags|=2,Be):Re):(Ue.flags|=2,Be)):(Ue.flags|=1048576,Be)}function ae(Ue){return c&&Ue.alternate===null&&(Ue.flags|=2),Ue}function ge(Ue,Be,Re,vt){return Be===null||Be.tag!==6?(Be=iv(Re,Ue.mode,vt),Be.return=Ue,Be):(Be=D(Be,Re),Be.return=Ue,Be)}function Ne(Ue,Be,Re,vt){var tr=Re.type;return tr===U?At(Ue,Be,Re.props.children,vt,Re.key):Be!==null&&(Be.elementType===tr||typeof tr=="object"&&tr!==null&&tr.$$typeof===$&&Ua(tr)===Be.type)?(vt=D(Be,Re.props),vt.ref=vr(Ue,Be,Re),vt.return=Ue,vt):(vt=fp(Re.type,Re.key,Re.props,null,Ue.mode,vt),vt.ref=vr(Ue,Be,Re),vt.return=Ue,vt)}function Te(Ue,Be,Re,vt){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Re.containerInfo||Be.stateNode.implementation!==Re.implementation?(Be=ov(Re,Ue.mode,vt),Be.return=Ue,Be):(Be=D(Be,Re.children||[]),Be.return=Ue,Be)}function At(Ue,Be,Re,vt,tr){return Be===null||Be.tag!==7?(Be=Kd(Re,Ue.mode,vt,tr),Be.return=Ue,Be):(Be=D(Be,Re),Be.return=Ue,Be)}function ht(Ue,Be,Re){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Be=iv(""+Be,Ue.mode,Re),Be.return=Ue,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case L:return Re=fp(Be.type,Be.key,Be.props,null,Ue.mode,Re),Re.ref=vr(Ue,null,Be),Re.return=Ue,Re;case M:return Be=ov(Be,Ue.mode,Re),Be.return=Ue,Be;case $:var vt=Be._init;return ht(Ue,vt(Be._payload),Re)}if(dt(Be)||ie(Be))return Be=Kd(Be,Ue.mode,Re,null),Be.return=Ue,Be;$r(Ue,Be)}return null}function ot(Ue,Be,Re,vt){var tr=Be!==null?Be.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return tr!==null?null:ge(Ue,Be,""+Re,vt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case L:return Re.key===tr?Ne(Ue,Be,Re,vt):null;case M:return Re.key===tr?Te(Ue,Be,Re,vt):null;case $:return tr=Re._init,ot(Ue,Be,tr(Re._payload),vt)}if(dt(Re)||ie(Re))return tr!==null?null:At(Ue,Be,Re,vt,null);$r(Ue,Re)}return null}function Pt(Ue,Be,Re,vt,tr){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return Ue=Ue.get(Re)||null,ge(Be,Ue,""+vt,tr);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case L:return Ue=Ue.get(vt.key===null?Re:vt.key)||null,Ne(Be,Ue,vt,tr);case M:return Ue=Ue.get(vt.key===null?Re:vt.key)||null,Te(Be,Ue,vt,tr);case $:var dr=vt._init;return Pt(Ue,Be,Re,dr(vt._payload),tr)}if(dt(vt)||ie(vt))return Ue=Ue.get(Re)||null,At(Be,Ue,vt,tr,null);$r(Be,vt)}return null}function zt(Ue,Be,Re,vt){for(var tr=null,dr=null,ur=Be,jr=Be=0,ps=null;ur!==null&&jr<Re.length;jr++){ur.index>jr?(ps=ur,ur=null):ps=ur.sibling;var ma=ot(Ue,ur,Re[jr],vt);if(ma===null){ur===null&&(ur=ps);break}c&&ur&&ma.alternate===null&&u(Ue,ur),Be=O(ma,Be,jr),dr===null?tr=ma:dr.sibling=ma,dr=ma,ur=ps}if(jr===Re.length)return g(Ue,ur),tt&&je(Ue,jr),tr;if(ur===null){for(;jr<Re.length;jr++)ur=ht(Ue,Re[jr],vt),ur!==null&&(Be=O(ur,Be,jr),dr===null?tr=ur:dr.sibling=ur,dr=ur);return tt&&je(Ue,jr),tr}for(ur=j(Ue,ur);jr<Re.length;jr++)ps=Pt(ur,Ue,jr,Re[jr],vt),ps!==null&&(c&&ps.alternate!==null&&ur.delete(ps.key===null?jr:ps.key),Be=O(ps,Be,jr),dr===null?tr=ps:dr.sibling=ps,dr=ps);return c&&ur.forEach(function(UA){return u(Ue,UA)}),tt&&je(Ue,jr),tr}function Yt(Ue,Be,Re,vt){var tr=ie(Re);if(typeof tr!="function")throw Error(t(150));if(Re=tr.call(Re),Re==null)throw Error(t(151));for(var dr=tr=null,ur=Be,jr=Be=0,ps=null,ma=Re.next();ur!==null&&!ma.done;jr++,ma=Re.next()){ur.index>jr?(ps=ur,ur=null):ps=ur.sibling;var UA=ot(Ue,ur,ma.value,vt);if(UA===null){ur===null&&(ur=ps);break}c&&ur&&UA.alternate===null&&u(Ue,ur),Be=O(UA,Be,jr),dr===null?tr=UA:dr.sibling=UA,dr=UA,ur=ps}if(ma.done)return g(Ue,ur),tt&&je(Ue,jr),tr;if(ur===null){for(;!ma.done;jr++,ma=Re.next())ma=ht(Ue,ma.value,vt),ma!==null&&(Be=O(ma,Be,jr),dr===null?tr=ma:dr.sibling=ma,dr=ma);return tt&&je(Ue,jr),tr}for(ur=j(Ue,ur);!ma.done;jr++,ma=Re.next())ma=Pt(ur,Ue,jr,ma.value,vt),ma!==null&&(c&&ma.alternate!==null&&ur.delete(ma.key===null?jr:ma.key),Be=O(ma,Be,jr),dr===null?tr=ma:dr.sibling=ma,dr=ma);return c&&ur.forEach(function(cD){return u(Ue,cD)}),tt&&je(Ue,jr),tr}function kn(Ue,Be,Re,vt){if(typeof Re=="object"&&Re!==null&&Re.type===U&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case L:e:{for(var tr=Re.key,dr=Be;dr!==null;){if(dr.key===tr){if(tr=Re.type,tr===U){if(dr.tag===7){g(Ue,dr.sibling),Be=D(dr,Re.props.children),Be.return=Ue,Ue=Be;break e}}else if(dr.elementType===tr||typeof tr=="object"&&tr!==null&&tr.$$typeof===$&&Ua(tr)===dr.type){g(Ue,dr.sibling),Be=D(dr,Re.props),Be.ref=vr(Ue,dr,Re),Be.return=Ue,Ue=Be;break e}g(Ue,dr);break}else u(Ue,dr);dr=dr.sibling}Re.type===U?(Be=Kd(Re.props.children,Ue.mode,vt,Re.key),Be.return=Ue,Ue=Be):(vt=fp(Re.type,Re.key,Re.props,null,Ue.mode,vt),vt.ref=vr(Ue,Be,Re),vt.return=Ue,Ue=vt)}return ae(Ue);case M:e:{for(dr=Re.key;Be!==null;){if(Be.key===dr)if(Be.tag===4&&Be.stateNode.containerInfo===Re.containerInfo&&Be.stateNode.implementation===Re.implementation){g(Ue,Be.sibling),Be=D(Be,Re.children||[]),Be.return=Ue,Ue=Be;break e}else{g(Ue,Be);break}else u(Ue,Be);Be=Be.sibling}Be=ov(Re,Ue.mode,vt),Be.return=Ue,Ue=Be}return ae(Ue);case $:return dr=Re._init,kn(Ue,Be,dr(Re._payload),vt)}if(dt(Re))return zt(Ue,Be,Re,vt);if(ie(Re))return Yt(Ue,Be,Re,vt);$r(Ue,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,Be!==null&&Be.tag===6?(g(Ue,Be.sibling),Be=D(Be,Re),Be.return=Ue,Ue=Be):(g(Ue,Be),Be=iv(Re,Ue.mode,vt),Be.return=Ue,Ue=Be),ae(Ue)):g(Ue,Be)}return kn}var vn=$n(!0),qa=$n(!1),_n=zi(null),Vn=null,Oa=null,Yr=null;function ca(){Yr=Oa=Vn=null}function Ha(c){var u=_n.current;pa(_n),c._currentValue=u}function Aa(c,u,g){for(;c!==null;){var j=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,j!==null&&(j.childLanes|=u)):j!==null&&(j.childLanes&u)!==u&&(j.childLanes|=u),c===g)break;c=c.return}}function en(c,u){Vn=c,Yr=Oa=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&(Si=!0),c.firstContext=null)}function tn(c){var u=c._currentValue;if(Yr!==c)if(c={context:c,memoizedValue:u,next:null},Oa===null){if(Vn===null)throw Error(t(308));Oa=c,Vn.dependencies={lanes:0,firstContext:c}}else Oa=Oa.next=c;return u}var ja=null;function us(c){ja===null?ja=[c]:ja.push(c)}function wa(c,u,g,j){var D=u.interleaved;return D===null?(g.next=g,us(u)):(g.next=D.next,D.next=g),u.interleaved=g,Ba(c,j)}function Ba(c,u){c.lanes|=u;var g=c.alternate;for(g!==null&&(g.lanes|=u),g=c,c=c.return;c!==null;)c.childLanes|=u,g=c.alternate,g!==null&&(g.childLanes|=u),g=c,c=c.return;return g.tag===3?g.stateNode:null}var wn=!1;function ts(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function cn(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function An(c,u,g){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,(da&2)!==0){var D=j.pending;return D===null?u.next=u:(u.next=D.next,D.next=u),j.pending=u,Ba(c,g)}return D=j.interleaved,D===null?(u.next=u,us(j)):(u.next=D.next,D.next=u),j.interleaved=u,Ba(c,g)}function fs(c,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194240)!==0)){var j=u.lanes;j&=c.pendingLanes,g|=j,u.lanes=g,sA(c,g)}}function Ca(c,u){var g=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,g===j)){var D=null,O=null;if(g=g.firstBaseUpdate,g!==null){do{var ae={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};O===null?D=O=ae:O=O.next=ae,g=g.next}while(g!==null);O===null?D=O=u:O=O.next=u}else D=O=u;g={baseState:j.baseState,firstBaseUpdate:D,lastBaseUpdate:O,shared:j.shared,effects:j.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=u:c.next=u,g.lastBaseUpdate=u}function hs(c,u,g,j){var D=c.updateQueue;wn=!1;var O=D.firstBaseUpdate,ae=D.lastBaseUpdate,ge=D.shared.pending;if(ge!==null){D.shared.pending=null;var Ne=ge,Te=Ne.next;Ne.next=null,ae===null?O=Te:ae.next=Te,ae=Ne;var At=c.alternate;At!==null&&(At=At.updateQueue,ge=At.lastBaseUpdate,ge!==ae&&(ge===null?At.firstBaseUpdate=Te:ge.next=Te,At.lastBaseUpdate=Ne))}if(O!==null){var ht=D.baseState;ae=0,At=Te=Ne=null,ge=O;do{var ot=ge.lane,Pt=ge.eventTime;if((j&ot)===ot){At!==null&&(At=At.next={eventTime:Pt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var zt=c,Yt=ge;switch(ot=u,Pt=g,Yt.tag){case 1:if(zt=Yt.payload,typeof zt=="function"){ht=zt.call(Pt,ht,ot);break e}ht=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Yt.payload,ot=typeof zt=="function"?zt.call(Pt,ht,ot):zt,ot==null)break e;ht=ue({},ht,ot);break e;case 2:wn=!0}}ge.callback!==null&&ge.lane!==0&&(c.flags|=64,ot=D.effects,ot===null?D.effects=[ge]:ot.push(ge))}else Pt={eventTime:Pt,lane:ot,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},At===null?(Te=At=Pt,Ne=ht):At=At.next=Pt,ae|=ot;if(ge=ge.next,ge===null){if(ge=D.shared.pending,ge===null)break;ot=ge,ge=ot.next,ot.next=null,D.lastBaseUpdate=ot,D.shared.pending=null}}while(!0);if(At===null&&(Ne=ht),D.baseState=Ne,D.firstBaseUpdate=Te,D.lastBaseUpdate=At,u=D.shared.interleaved,u!==null){D=u;do ae|=D.lane,D=D.next;while(D!==u)}else O===null&&(D.shared.lanes=0);Td|=ae,c.lanes=ae,c.memoizedState=ht}}function Ci(c,u,g){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var j=c[u],D=j.callback;if(D!==null){if(j.callback=null,j=g,typeof D!="function")throw Error(t(191,D));D.call(j)}}}var qi={},zn=zi(qi),dn=zi(qi),El=zi(qi);function zo(c){if(c===qi)throw Error(t(174));return c}function NA(c,u){switch(va(El,u),va(dn,c),va(zn,qi),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Pr(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Pr(u,c)}pa(zn),va(zn,u)}function vo(){pa(zn),pa(dn),pa(El)}function Wm(c){zo(El.current);var u=zo(zn.current),g=Pr(u,c.type);u!==g&&(va(dn,c),va(zn,g))}function mh(c){dn.current===c&&(pa(zn),pa(dn))}var Pa=zi(0);function Wi(c){for(var u=c;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ph=[];function gh(){for(var c=0;c<ph.length;c++)ph[c]._workInProgressVersionPrimary=null;ph.length=0}var Mu=F.ReactCurrentDispatcher,Ou=F.ReactCurrentBatchConfig,wo=0,Ka=null,yn=null,un=null,jA=!1,qo=!1,BA=0,Dx=0;function Fn(){throw Error(t(321))}function Hu(c,u){if(u===null)return!1;for(var g=0;g<u.length&&g<c.length;g++)if(!Xa(c[g],u[g]))return!1;return!0}function Pd(c,u,g,j,D,O){if(wo=O,Ka=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Mu.current=c===null||c.memoizedState===null?Ik:Pk,c=g(j,D),qo){O=0;do{if(qo=!1,BA=0,25<=O)throw Error(t(301));O+=1,un=yn=null,u.updateQueue=null,Mu.current=Qk,c=g(j,D)}while(qo)}if(Mu.current=Zm,u=yn!==null&&yn.next!==null,wo=0,un=yn=Ka=null,jA=!1,u)throw Error(t(300));return c}function yo(){var c=BA!==0;return BA=0,c}function Gi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Ka.memoizedState=un=c:un=un.next=c,un}function ni(){if(yn===null){var c=Ka.alternate;c=c!==null?c.memoizedState:null}else c=yn.next;var u=un===null?Ka.memoizedState:un.next;if(u!==null)un=u,yn=c;else{if(c===null)throw Error(t(310));yn=c,c={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},un===null?Ka.memoizedState=un=c:un=un.next=c}return un}function Qd(c,u){return typeof u=="function"?u(c):u}function Ku(c){var u=ni(),g=u.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=c;var j=yn,D=j.baseQueue,O=g.pending;if(O!==null){if(D!==null){var ae=D.next;D.next=O.next,O.next=ae}j.baseQueue=D=O,g.pending=null}if(D!==null){O=D.next,j=j.baseState;var ge=ae=null,Ne=null,Te=O;do{var At=Te.lane;if((wo&At)===At)Ne!==null&&(Ne=Ne.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),j=Te.hasEagerState?Te.eagerState:c(j,Te.action);else{var ht={lane:At,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};Ne===null?(ge=Ne=ht,ae=j):Ne=Ne.next=ht,Ka.lanes|=At,Td|=At}Te=Te.next}while(Te!==null&&Te!==O);Ne===null?ae=j:Ne.next=ge,Xa(j,u.memoizedState)||(Si=!0),u.memoizedState=j,u.baseState=ae,u.baseQueue=Ne,g.lastRenderedState=j}if(c=g.interleaved,c!==null){D=c;do O=D.lane,Ka.lanes|=O,Td|=O,D=D.next;while(D!==c)}else D===null&&(g.lanes=0);return[u.memoizedState,g.dispatch]}function _l(c){var u=ni(),g=u.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=c;var j=g.dispatch,D=g.pending,O=u.memoizedState;if(D!==null){g.pending=null;var ae=D=D.next;do O=c(O,ae.action),ae=ae.next;while(ae!==D);Xa(O,u.memoizedState)||(Si=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),g.lastRenderedState=O}return[O,j]}function Gm(){}function xh(c,u){var g=Ka,j=ni(),D=u(),O=!Xa(j.memoizedState,D);if(O&&(j.memoizedState=D,Si=!0),j=j.queue,zu(Xm.bind(null,g,j,c),[c]),j.getSnapshot!==u||O||un!==null&&un.memoizedState.tag&1){if(g.flags|=2048,si(9,vh.bind(null,g,j,D,u),void 0,null),ms===null)throw Error(t(349));(wo&30)!==0||Ym(g,u,D)}return D}function Ym(c,u,g){c.flags|=16384,c={getSnapshot:u,value:g},u=Ka.updateQueue,u===null?(u={lastEffect:null,stores:null},Ka.updateQueue=u,u.stores=[c]):(g=u.stores,g===null?u.stores=[c]:g.push(c))}function vh(c,u,g,j){u.value=g,u.getSnapshot=j,CA(u)&&$u(c)}function Xm(c,u,g){return g(function(){CA(u)&&$u(c)})}function CA(c){var u=c.getSnapshot;c=c.value;try{var g=u();return!Xa(c,g)}catch{return!0}}function $u(c){var u=Ba(c,1);u!==null&&Jo(u,c,1,-1)}function Rd(c){var u=Gi();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:c},u.queue=c,c=c.dispatch=Lk.bind(null,Ka,c),[u.memoizedState,c]}function si(c,u,g,j){return c={tag:c,create:u,destroy:g,deps:j,next:null},u=Ka.updateQueue,u===null?(u={lastEffect:null,stores:null},Ka.updateQueue=u,u.lastEffect=c.next=c):(g=u.lastEffect,g===null?u.lastEffect=c.next=c:(j=g.next,g.next=c,c.next=j,u.lastEffect=c)),c}function Wo(){return ni().memoizedState}function Yi(c,u,g,j){var D=Gi();Ka.flags|=c,D.memoizedState=si(1|u,g,void 0,j===void 0?null:j)}function Uc(c,u,g,j){var D=ni();j=j===void 0?null:j;var O=void 0;if(yn!==null){var ae=yn.memoizedState;if(O=ae.destroy,j!==null&&Hu(j,ae.deps)){D.memoizedState=si(u,g,O,j);return}}Ka.flags|=c,D.memoizedState=si(1|u,g,O,j)}function Vu(c,u){return Yi(8390656,8,c,u)}function zu(c,u){return Uc(2048,8,c,u)}function Jm(c,u){return Uc(4,2,c,u)}function qu(c,u){return Uc(4,4,c,u)}function Wu(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function xb(c,u,g){return g=g!=null?g.concat([c]):null,Uc(4,4,Wu.bind(null,u,c),g)}function Ux(){}function vb(c,u){var g=ni();u=u===void 0?null:u;var j=g.memoizedState;return j!==null&&u!==null&&Hu(u,j[1])?j[0]:(g.memoizedState=[c,u],c)}function wb(c,u){var g=ni();u=u===void 0?null:u;var j=g.memoizedState;return j!==null&&u!==null&&Hu(u,j[1])?j[0]:(c=c(),g.memoizedState=[c,u],c)}function yb(c,u,g){return(wo&21)===0?(c.baseState&&(c.baseState=!1,Si=!0),c.memoizedState=g):(Xa(g,u)||(g=Cu(),Ka.lanes|=g,Td|=g,c.baseState=!0),u)}function Dk(c,u){var g=sa;sa=g!==0&&4>g?g:4,c(!0);var j=Ou.transition;Ou.transition={};try{c(!1),u()}finally{sa=g,Ou.transition=j}}function bb(){return ni().memoizedState}function Uk(c,u,g){var j=FA(c);if(g={lane:j,action:g,hasEagerState:!1,eagerState:null,next:null},Nb(c))jb(u,g);else if(g=wa(c,u,g,j),g!==null){var D=oi();Jo(g,c,j,D),Bb(g,u,j)}}function Lk(c,u,g){var j=FA(c),D={lane:j,action:g,hasEagerState:!1,eagerState:null,next:null};if(Nb(c))jb(u,D);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var ae=u.lastRenderedState,ge=O(ae,g);if(D.hasEagerState=!0,D.eagerState=ge,Xa(ge,ae)){var Ne=u.interleaved;Ne===null?(D.next=D,us(u)):(D.next=Ne.next,Ne.next=D),u.interleaved=D;return}}catch{}finally{}g=wa(c,u,D,j),g!==null&&(D=oi(),Jo(g,c,j,D),Bb(g,u,j))}}function Nb(c){var u=c.alternate;return c===Ka||u!==null&&u===Ka}function jb(c,u){qo=jA=!0;var g=c.pending;g===null?u.next=u:(u.next=g.next,g.next=u),c.pending=u}function Bb(c,u,g){if((g&4194240)!==0){var j=u.lanes;j&=c.pendingLanes,g|=j,u.lanes=g,sA(c,g)}}var Zm={readContext:tn,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},Ik={readContext:tn,useCallback:function(c,u){return Gi().memoizedState=[c,u===void 0?null:u],c},useContext:tn,useEffect:Vu,useImperativeHandle:function(c,u,g){return g=g!=null?g.concat([c]):null,Yi(4194308,4,Wu.bind(null,u,c),g)},useLayoutEffect:function(c,u){return Yi(4194308,4,c,u)},useInsertionEffect:function(c,u){return Yi(4,2,c,u)},useMemo:function(c,u){var g=Gi();return u=u===void 0?null:u,c=c(),g.memoizedState=[c,u],c},useReducer:function(c,u,g){var j=Gi();return u=g!==void 0?g(u):u,j.memoizedState=j.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},j.queue=c,c=c.dispatch=Uk.bind(null,Ka,c),[j.memoizedState,c]},useRef:function(c){var u=Gi();return c={current:c},u.memoizedState=c},useState:Rd,useDebugValue:Ux,useDeferredValue:function(c){return Gi().memoizedState=c},useTransition:function(){var c=Rd(!1),u=c[0];return c=Dk.bind(null,c[1]),Gi().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,g){var j=Ka,D=Gi();if(tt){if(g===void 0)throw Error(t(407));g=g()}else{if(g=u(),ms===null)throw Error(t(349));(wo&30)!==0||Ym(j,u,g)}D.memoizedState=g;var O={value:g,getSnapshot:u};return D.queue=O,Vu(Xm.bind(null,j,O,c),[c]),j.flags|=2048,si(9,vh.bind(null,j,O,g,u),void 0,null),g},useId:function(){var c=Gi(),u=ms.identifierPrefix;if(tt){var g=he,j=Fe;g=(j&~(1<<32-ls(j)-1)).toString(32)+g,u=":"+u+"R"+g,g=BA++,0<g&&(u+="H"+g.toString(32)),u+=":"}else g=Dx++,u=":"+u+"r"+g.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},Pk={readContext:tn,useCallback:vb,useContext:tn,useEffect:zu,useImperativeHandle:xb,useInsertionEffect:Jm,useLayoutEffect:qu,useMemo:wb,useReducer:Ku,useRef:Wo,useState:function(){return Ku(Qd)},useDebugValue:Ux,useDeferredValue:function(c){var u=ni();return yb(u,yn.memoizedState,c)},useTransition:function(){var c=Ku(Qd)[0],u=ni().memoizedState;return[c,u]},useMutableSource:Gm,useSyncExternalStore:xh,useId:bb,unstable_isNewReconciler:!1},Qk={readContext:tn,useCallback:vb,useContext:tn,useEffect:zu,useImperativeHandle:xb,useInsertionEffect:Jm,useLayoutEffect:qu,useMemo:wb,useReducer:_l,useRef:Wo,useState:function(){return _l(Qd)},useDebugValue:Ux,useDeferredValue:function(c){var u=ni();return yn===null?u.memoizedState=c:yb(u,yn.memoizedState,c)},useTransition:function(){var c=_l(Qd)[0],u=ni().memoizedState;return[c,u]},useMutableSource:Gm,useSyncExternalStore:xh,useId:bb,unstable_isNewReconciler:!1};function Go(c,u){if(c&&c.defaultProps){u=ue({},u),c=c.defaultProps;for(var g in c)u[g]===void 0&&(u[g]=c[g]);return u}return u}function Lx(c,u,g,j){u=c.memoizedState,g=g(j,u),g=g==null?u:ue({},u,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var ep={isMounted:function(c){return(c=c._reactInternals)?hn(c)===c:!1},enqueueSetState:function(c,u,g){c=c._reactInternals;var j=oi(),D=FA(c),O=cn(j,D);O.payload=u,g!=null&&(O.callback=g),u=An(c,O,D),u!==null&&(Jo(u,c,D,j),fs(u,c,D))},enqueueReplaceState:function(c,u,g){c=c._reactInternals;var j=oi(),D=FA(c),O=cn(j,D);O.tag=1,O.payload=u,g!=null&&(O.callback=g),u=An(c,O,D),u!==null&&(Jo(u,c,D,j),fs(u,c,D))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var g=oi(),j=FA(c),D=cn(g,j);D.tag=2,u!=null&&(D.callback=u),u=An(c,D,j),u!==null&&(Jo(u,c,j,g),fs(u,c,j))}};function Cb(c,u,g,j,D,O,ae){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,O,ae):u.prototype&&u.prototype.isPureReactComponent?!Is(g,j)||!Is(D,O):!0}function Sb(c,u,g){var j=!1,D=Sl,O=u.contextType;return typeof O=="object"&&O!==null?O=tn(O):(D=Ts(u)?kc:es.current,j=u.contextTypes,O=(j=j!=null)?bA(c,D):Sl),u=new u(g,O),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ep,c.stateNode=u,u._reactInternals=c,j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=D,c.__reactInternalMemoizedMaskedChildContext=O),u}function Eb(c,u,g,j){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,j),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,j),u.state!==c&&ep.enqueueReplaceState(u,u.state,null)}function Ix(c,u,g,j){var D=c.stateNode;D.props=g,D.state=c.memoizedState,D.refs={},ts(c);var O=u.contextType;typeof O=="object"&&O!==null?D.context=tn(O):(O=Ts(u)?kc:es.current,D.context=bA(c,O)),D.state=c.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Lx(c,u,O,g),D.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(u=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),u!==D.state&&ep.enqueueReplaceState(D,D.state,null),hs(c,g,D,j),D.state=c.memoizedState),typeof D.componentDidMount=="function"&&(c.flags|=4194308)}function Gu(c,u){try{var g="",j=u;do g+=J(j),j=j.return;while(j);var D=g}catch(O){D=`
Error generating stack: `+O.message+`
`+O.stack}return{value:c,source:u,stack:D,digest:null}}function Px(c,u,g){return{value:c,source:null,stack:g??null,digest:u??null}}function Qx(c,u){try{console.error(u.value)}catch(g){setTimeout(function(){throw g})}}var Rk=typeof WeakMap=="function"?WeakMap:Map;function _b(c,u,g){g=cn(-1,g),g.tag=3,g.payload={element:null};var j=u.value;return g.callback=function(){op||(op=!0,Jx=j),Qx(c,u)},g}function Fb(c,u,g){g=cn(-1,g),g.tag=3;var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var D=u.value;g.payload=function(){return j(D)},g.callback=function(){Qx(c,u)}}var O=c.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(g.callback=function(){Qx(c,u),typeof j!="function"&&(EA===null?EA=new Set([this]):EA.add(this));var ae=u.stack;this.componentDidCatch(u.value,{componentStack:ae!==null?ae:""})}),g}function kb(c,u,g){var j=c.pingCache;if(j===null){j=c.pingCache=new Rk;var D=new Set;j.set(u,D)}else D=j.get(u),D===void 0&&(D=new Set,j.set(u,D));D.has(g)||(D.add(g),c=Jk.bind(null,c,u,g),u.then(c,c))}function Db(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function Ub(c,u,g,j,D){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(u=cn(-1,1),u.tag=2,An(g,u,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=D,c)}var Tk=F.ReactCurrentOwner,Si=!1;function ii(c,u,g,j){u.child=c===null?qa(u,null,g,j):vn(u,c.child,g,j)}function Lb(c,u,g,j,D){g=g.render;var O=u.ref;return en(u,D),j=Pd(c,u,g,j,O,D),g=yo(),c!==null&&!Si?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~D,Lc(c,u,D)):(tt&&g&&Ve(u),u.flags|=1,ii(c,u,j,D),u.child)}function Ib(c,u,g,j,D){if(c===null){var O=g.type;return typeof O=="function"&&!sv(O)&&O.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(u.tag=15,u.type=O,Pb(c,u,O,j,D)):(c=fp(g.type,null,j,u,u.mode,D),c.ref=u.ref,c.return=u,u.child=c)}if(O=c.child,(c.lanes&D)===0){var ae=O.memoizedProps;if(g=g.compare,g=g!==null?g:Is,g(ae,j)&&c.ref===u.ref)return Lc(c,u,D)}return u.flags|=1,c=DA(O,j),c.ref=u.ref,c.return=u,u.child=c}function Pb(c,u,g,j,D){if(c!==null){var O=c.memoizedProps;if(Is(O,j)&&c.ref===u.ref)if(Si=!1,u.pendingProps=j=O,(c.lanes&D)!==0)(c.flags&131072)!==0&&(Si=!0);else return u.lanes=c.lanes,Lc(c,u,D)}return Rx(c,u,g,j,D)}function Qb(c,u,g){var j=u.pendingProps,D=j.children,O=c!==null?c.memoizedState:null;if(j.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},va(Xu,Xi),Xi|=g;else{if((g&1073741824)===0)return c=O!==null?O.baseLanes|g:g,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,va(Xu,Xi),Xi|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=O!==null?O.baseLanes:g,va(Xu,Xi),Xi|=j}else O!==null?(j=O.baseLanes|g,u.memoizedState=null):j=g,va(Xu,Xi),Xi|=j;return ii(c,u,D,g),u.child}function Rb(c,u){var g=u.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(u.flags|=512,u.flags|=2097152)}function Rx(c,u,g,j,D){var O=Ts(g)?kc:es.current;return O=bA(u,O),en(u,D),g=Pd(c,u,g,j,O,D),j=yo(),c!==null&&!Si?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~D,Lc(c,u,D)):(tt&&j&&Ve(u),u.flags|=1,ii(c,u,g,D),u.child)}function Tb(c,u,g,j,D){if(Ts(g)){var O=!0;Dc(u)}else O=!1;if(en(u,D),u.stateNode===null)rp(c,u),Sb(u,g,j),Ix(u,g,j,D),j=!0;else if(c===null){var ae=u.stateNode,ge=u.memoizedProps;ae.props=ge;var Ne=ae.context,Te=g.contextType;typeof Te=="object"&&Te!==null?Te=tn(Te):(Te=Ts(g)?kc:es.current,Te=bA(u,Te));var At=g.getDerivedStateFromProps,ht=typeof At=="function"||typeof ae.getSnapshotBeforeUpdate=="function";ht||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ge!==j||Ne!==Te)&&Eb(u,ae,j,Te),wn=!1;var ot=u.memoizedState;ae.state=ot,hs(u,j,ae,D),Ne=u.memoizedState,ge!==j||ot!==Ne||Rs.current||wn?(typeof At=="function"&&(Lx(u,g,At,j),Ne=u.memoizedState),(ge=wn||Cb(u,g,ge,j,ot,Ne,Te))?(ht||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(u.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=j,u.memoizedState=Ne),ae.props=j,ae.state=Ne,ae.context=Te,j=ge):(typeof ae.componentDidMount=="function"&&(u.flags|=4194308),j=!1)}else{ae=u.stateNode,Ms(c,u),ge=u.memoizedProps,Te=u.type===u.elementType?ge:Go(u.type,ge),ae.props=Te,ht=u.pendingProps,ot=ae.context,Ne=g.contextType,typeof Ne=="object"&&Ne!==null?Ne=tn(Ne):(Ne=Ts(g)?kc:es.current,Ne=bA(u,Ne));var Pt=g.getDerivedStateFromProps;(At=typeof Pt=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ge!==ht||ot!==Ne)&&Eb(u,ae,j,Ne),wn=!1,ot=u.memoizedState,ae.state=ot,hs(u,j,ae,D);var zt=u.memoizedState;ge!==ht||ot!==zt||Rs.current||wn?(typeof Pt=="function"&&(Lx(u,g,Pt,j),zt=u.memoizedState),(Te=wn||Cb(u,g,Te,j,ot,zt,Ne)||!1)?(At||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(j,zt,Ne),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(j,zt,Ne)),typeof ae.componentDidUpdate=="function"&&(u.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof ae.componentDidUpdate!="function"||ge===c.memoizedProps&&ot===c.memoizedState||(u.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ge===c.memoizedProps&&ot===c.memoizedState||(u.flags|=1024),u.memoizedProps=j,u.memoizedState=zt),ae.props=j,ae.state=zt,ae.context=Ne,j=Te):(typeof ae.componentDidUpdate!="function"||ge===c.memoizedProps&&ot===c.memoizedState||(u.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ge===c.memoizedProps&&ot===c.memoizedState||(u.flags|=1024),j=!1)}return Tx(c,u,g,j,O,D)}function Tx(c,u,g,j,D,O){Rb(c,u);var ae=(u.flags&128)!==0;if(!j&&!ae)return D&&qm(u,g,!1),Lc(c,u,O);j=u.stateNode,Tk.current=u;var ge=ae&&typeof g.getDerivedStateFromError!="function"?null:j.render();return u.flags|=1,c!==null&&ae?(u.child=vn(u,c.child,null,O),u.child=vn(u,null,ge,O)):ii(c,u,ge,O),u.memoizedState=j.state,D&&qm(u,g,!0),u.child}function Mb(c){var u=c.stateNode;u.pendingContext?zm(c,u.pendingContext,u.pendingContext!==u.context):u.context&&zm(c,u.context,!1),NA(c,u.containerInfo)}function Ob(c,u,g,j,D){return Tt(),yt(D),u.flags|=256,ii(c,u,g,j),u.child}var Mx={dehydrated:null,treeContext:null,retryLane:0};function Ox(c){return{baseLanes:c,cachePool:null,transitions:null}}function Hb(c,u,g){var j=u.pendingProps,D=Pa.current,O=!1,ae=(u.flags&128)!==0,ge;if((ge=ae)||(ge=c!==null&&c.memoizedState===null?!1:(D&2)!==0),ge?(O=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(D|=1),va(Pa,D&1),c===null)return Kt(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(ae=j.children,c=j.fallback,O?(j=u.mode,O=u.child,ae={mode:"hidden",children:ae},(j&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=ae):O=hp(ae,j,0,null),c=Kd(c,j,g,null),O.return=u,c.return=u,O.sibling=c,u.child=O,u.child.memoizedState=Ox(g),u.memoizedState=Mx,c):Hx(u,ae));if(D=c.memoizedState,D!==null&&(ge=D.dehydrated,ge!==null))return Mk(c,u,ae,j,ge,D,g);if(O){O=j.fallback,ae=u.mode,D=c.child,ge=D.sibling;var Ne={mode:"hidden",children:j.children};return(ae&1)===0&&u.child!==D?(j=u.child,j.childLanes=0,j.pendingProps=Ne,u.deletions=null):(j=DA(D,Ne),j.subtreeFlags=D.subtreeFlags&14680064),ge!==null?O=DA(ge,O):(O=Kd(O,ae,g,null),O.flags|=2),O.return=u,j.return=u,j.sibling=O,u.child=j,j=O,O=u.child,ae=c.child.memoizedState,ae=ae===null?Ox(g):{baseLanes:ae.baseLanes|g,cachePool:null,transitions:ae.transitions},O.memoizedState=ae,O.childLanes=c.childLanes&~g,u.memoizedState=Mx,j}return O=c.child,c=O.sibling,j=DA(O,{mode:"visible",children:j.children}),(u.mode&1)===0&&(j.lanes=g),j.return=u,j.sibling=null,c!==null&&(g=u.deletions,g===null?(u.deletions=[c],u.flags|=16):g.push(c)),u.child=j,u.memoizedState=null,j}function Hx(c,u){return u=hp({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function tp(c,u,g,j){return j!==null&&yt(j),vn(u,c.child,null,g),c=Hx(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function Mk(c,u,g,j,D,O,ae){if(g)return u.flags&256?(u.flags&=-257,j=Px(Error(t(422))),tp(c,u,ae,j)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(O=j.fallback,D=u.mode,j=hp({mode:"visible",children:j.children},D,0,null),O=Kd(O,D,ae,null),O.flags|=2,j.return=u,O.return=u,j.sibling=O,u.child=j,(u.mode&1)!==0&&vn(u,c.child,null,ae),u.child.memoizedState=Ox(ae),u.memoizedState=Mx,O);if((u.mode&1)===0)return tp(c,u,ae,null);if(D.data==="$!"){if(j=D.nextSibling&&D.nextSibling.dataset,j)var ge=j.dgst;return j=ge,O=Error(t(419)),j=Px(O,j,void 0),tp(c,u,ae,j)}if(ge=(ae&c.childLanes)!==0,Si||ge){if(j=ms,j!==null){switch(ae&-ae){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=(D&(j.suspendedLanes|ae))!==0?0:D,D!==0&&D!==O.retryLane&&(O.retryLane=D,Ba(c,D),Jo(j,c,D,-1))}return nv(),j=Px(Error(t(421))),tp(c,u,ae,j)}return D.data==="$?"?(u.flags|=128,u.child=c.child,u=Zk.bind(null,c),D._reactRetry=u,null):(c=O.treeContext,Ke=js(D.nextSibling),Oe=u,tt=!0,rt=null,c!==null&&(Ae[fe++]=Fe,Ae[fe++]=he,Ae[fe++]=be,Fe=c.id,he=c.overflow,be=u),u=Hx(u,j.children),u.flags|=4096,u)}function Kb(c,u,g){c.lanes|=u;var j=c.alternate;j!==null&&(j.lanes|=u),Aa(c.return,u,g)}function Kx(c,u,g,j,D){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:j,tail:g,tailMode:D}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=j,O.tail=g,O.tailMode=D)}function $b(c,u,g){var j=u.pendingProps,D=j.revealOrder,O=j.tail;if(ii(c,u,j.children,g),j=Pa.current,(j&2)!==0)j=j&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Kb(c,g,u);else if(c.tag===19)Kb(c,g,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}if(va(Pa,j),(u.mode&1)===0)u.memoizedState=null;else switch(D){case"forwards":for(g=u.child,D=null;g!==null;)c=g.alternate,c!==null&&Wi(c)===null&&(D=g),g=g.sibling;g=D,g===null?(D=u.child,u.child=null):(D=g.sibling,g.sibling=null),Kx(u,!1,D,g,O);break;case"backwards":for(g=null,D=u.child,u.child=null;D!==null;){if(c=D.alternate,c!==null&&Wi(c)===null){u.child=D;break}c=D.sibling,D.sibling=g,g=D,D=c}Kx(u,!0,g,null,O);break;case"together":Kx(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function rp(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function Lc(c,u,g){if(c!==null&&(u.dependencies=c.dependencies),Td|=u.lanes,(g&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(t(153));if(u.child!==null){for(c=u.child,g=DA(c,c.pendingProps),u.child=g,g.return=u;c.sibling!==null;)c=c.sibling,g=g.sibling=DA(c,c.pendingProps),g.return=u;g.sibling=null}return u.child}function Ok(c,u,g){switch(u.tag){case 3:Mb(u),Tt();break;case 5:Wm(u);break;case 1:Ts(u.type)&&Dc(u);break;case 4:NA(u,u.stateNode.containerInfo);break;case 10:var j=u.type._context,D=u.memoizedProps.value;va(_n,j._currentValue),j._currentValue=D;break;case 13:if(j=u.memoizedState,j!==null)return j.dehydrated!==null?(va(Pa,Pa.current&1),u.flags|=128,null):(g&u.child.childLanes)!==0?Hb(c,u,g):(va(Pa,Pa.current&1),c=Lc(c,u,g),c!==null?c.sibling:null);va(Pa,Pa.current&1);break;case 19:if(j=(g&u.childLanes)!==0,(c.flags&128)!==0){if(j)return $b(c,u,g);u.flags|=128}if(D=u.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),va(Pa,Pa.current),j)break;return null;case 22:case 23:return u.lanes=0,Qb(c,u,g)}return Lc(c,u,g)}var Vb,$x,zb,qb;Vb=function(c,u){for(var g=u.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},$x=function(){},zb=function(c,u,g,j){var D=c.memoizedProps;if(D!==j){c=u.stateNode,zo(zn.current);var O=null;switch(g){case"input":D=xe(c,D),j=xe(c,j),O=[];break;case"select":D=ue({},D,{value:void 0}),j=ue({},j,{value:void 0}),O=[];break;case"textarea":D=er(c,D),j=er(c,j),O=[];break;default:typeof D.onClick!="function"&&typeof j.onClick=="function"&&(c.onclick=vA)}it(g,j);var ae;g=null;for(Te in D)if(!j.hasOwnProperty(Te)&&D.hasOwnProperty(Te)&&D[Te]!=null)if(Te==="style"){var ge=D[Te];for(ae in ge)ge.hasOwnProperty(ae)&&(g||(g={}),g[ae]="")}else Te!=="dangerouslySetInnerHTML"&&Te!=="children"&&Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(s.hasOwnProperty(Te)?O||(O=[]):(O=O||[]).push(Te,null));for(Te in j){var Ne=j[Te];if(ge=D!=null?D[Te]:void 0,j.hasOwnProperty(Te)&&Ne!==ge&&(Ne!=null||ge!=null))if(Te==="style")if(ge){for(ae in ge)!ge.hasOwnProperty(ae)||Ne&&Ne.hasOwnProperty(ae)||(g||(g={}),g[ae]="");for(ae in Ne)Ne.hasOwnProperty(ae)&&ge[ae]!==Ne[ae]&&(g||(g={}),g[ae]=Ne[ae])}else g||(O||(O=[]),O.push(Te,g)),g=Ne;else Te==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,ge=ge?ge.__html:void 0,Ne!=null&&ge!==Ne&&(O=O||[]).push(Te,Ne)):Te==="children"?typeof Ne!="string"&&typeof Ne!="number"||(O=O||[]).push(Te,""+Ne):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&(s.hasOwnProperty(Te)?(Ne!=null&&Te==="onScroll"&&Na("scroll",c),O||ge===Ne||(O=[])):(O=O||[]).push(Te,Ne))}g&&(O=O||[]).push("style",g);var Te=O;(u.updateQueue=Te)&&(u.flags|=4)}},qb=function(c,u,g,j){g!==j&&(u.flags|=4)};function wh(c,u){if(!tt)switch(c.tailMode){case"hidden":u=c.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var j=null;g!==null;)g.alternate!==null&&(j=g),g=g.sibling;j===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function Os(c){var u=c.alternate!==null&&c.alternate.child===c.child,g=0,j=0;if(u)for(var D=c.child;D!==null;)g|=D.lanes|D.childLanes,j|=D.subtreeFlags&14680064,j|=D.flags&14680064,D.return=c,D=D.sibling;else for(D=c.child;D!==null;)g|=D.lanes|D.childLanes,j|=D.subtreeFlags,j|=D.flags,D.return=c,D=D.sibling;return c.subtreeFlags|=j,c.childLanes=g,u}function Hk(c,u,g){var j=u.pendingProps;switch(Ie(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Os(u),null;case 1:return Ts(u.type)&&Tu(),Os(u),null;case 3:return j=u.stateNode,vo(),pa(Rs),pa(es),gh(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(c===null||c.child===null)&&(Za(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,rt!==null&&(tv(rt),rt=null))),$x(c,u),Os(u),null;case 5:mh(u);var D=zo(El.current);if(g=u.type,c!==null&&u.stateNode!=null)zb(c,u,g,j,D),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!j){if(u.stateNode===null)throw Error(t(166));return Os(u),null}if(c=zo(zn.current),Za(u)){j=u.stateNode,g=u.type;var O=u.memoizedProps;switch(j[xo]=u,j[wA]=O,c=(u.mode&1)!==0,g){case"dialog":Na("cancel",j),Na("close",j);break;case"iframe":case"object":case"embed":Na("load",j);break;case"video":case"audio":for(D=0;D<Bl.length;D++)Na(Bl[D],j);break;case"source":Na("error",j);break;case"img":case"image":case"link":Na("error",j),Na("load",j);break;case"details":Na("toggle",j);break;case"input":de(j,O),Na("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!O.multiple},Na("invalid",j);break;case"textarea":We(j,O),Na("invalid",j)}it(g,O),D=null;for(var ae in O)if(O.hasOwnProperty(ae)){var ge=O[ae];ae==="children"?typeof ge=="string"?j.textContent!==ge&&(O.suppressHydrationWarning!==!0&&Ru(j.textContent,ge,c),D=["children",ge]):typeof ge=="number"&&j.textContent!==""+ge&&(O.suppressHydrationWarning!==!0&&Ru(j.textContent,ge,c),D=["children",""+ge]):s.hasOwnProperty(ae)&&ge!=null&&ae==="onScroll"&&Na("scroll",j)}switch(g){case"input":ve(j),mt(j,O,!0);break;case"textarea":ve(j),Vt(j);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(j.onclick=vA)}j=D,u.updateQueue=j,j!==null&&(u.flags|=4)}else{ae=D.nodeType===9?D:D.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Et(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=ae.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof j.is=="string"?c=ae.createElement(g,{is:j.is}):(c=ae.createElement(g),g==="select"&&(ae=c,j.multiple?ae.multiple=!0:j.size&&(ae.size=j.size))):c=ae.createElementNS(c,g),c[xo]=u,c[wA]=j,Vb(c,u,!1,!1),u.stateNode=c;e:{switch(ae=$e(g,j),g){case"dialog":Na("cancel",c),Na("close",c),D=j;break;case"iframe":case"object":case"embed":Na("load",c),D=j;break;case"video":case"audio":for(D=0;D<Bl.length;D++)Na(Bl[D],c);D=j;break;case"source":Na("error",c),D=j;break;case"img":case"image":case"link":Na("error",c),Na("load",c),D=j;break;case"details":Na("toggle",c),D=j;break;case"input":de(c,j),D=xe(c,j),Na("invalid",c);break;case"option":D=j;break;case"select":c._wrapperState={wasMultiple:!!j.multiple},D=ue({},j,{value:void 0}),Na("invalid",c);break;case"textarea":We(c,j),D=er(c,j),Na("invalid",c);break;default:D=j}it(g,D),ge=D;for(O in ge)if(ge.hasOwnProperty(O)){var Ne=ge[O];O==="style"?Ft(c,Ne):O==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,Ne!=null&&It(c,Ne)):O==="children"?typeof Ne=="string"?(g!=="textarea"||Ne!=="")&&Bt(c,Ne):typeof Ne=="number"&&Bt(c,""+Ne):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(s.hasOwnProperty(O)?Ne!=null&&O==="onScroll"&&Na("scroll",c):Ne!=null&&S(c,O,Ne,ae))}switch(g){case"input":ve(c),mt(c,j,!1);break;case"textarea":ve(c),Vt(c);break;case"option":j.value!=null&&c.setAttribute("value",""+ne(j.value));break;case"select":c.multiple=!!j.multiple,O=j.value,O!=null?ut(c,!!j.multiple,O,!1):j.defaultValue!=null&&ut(c,!!j.multiple,j.defaultValue,!0);break;default:typeof D.onClick=="function"&&(c.onclick=vA)}switch(g){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Os(u),null;case 6:if(c&&u.stateNode!=null)qb(c,u,c.memoizedProps,j);else{if(typeof j!="string"&&u.stateNode===null)throw Error(t(166));if(g=zo(El.current),zo(zn.current),Za(u)){if(j=u.stateNode,g=u.memoizedProps,j[xo]=u,(O=j.nodeValue!==g)&&(c=Oe,c!==null))switch(c.tag){case 3:Ru(j.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Ru(j.nodeValue,g,(c.mode&1)!==0)}O&&(u.flags|=4)}else j=(g.nodeType===9?g:g.ownerDocument).createTextNode(j),j[xo]=u,u.stateNode=j}return Os(u),null;case 13:if(pa(Pa),j=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(tt&&Ke!==null&&(u.mode&1)!==0&&(u.flags&128)===0)_r(),Tt(),u.flags|=98560,O=!1;else if(O=Za(u),j!==null&&j.dehydrated!==null){if(c===null){if(!O)throw Error(t(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(t(317));O[xo]=u}else Tt(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Os(u),O=!1}else rt!==null&&(tv(rt),rt=null),O=!0;if(!O)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=g,u):(j=j!==null,j!==(c!==null&&c.memoizedState!==null)&&j&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||(Pa.current&1)!==0?rs===0&&(rs=3):nv())),u.updateQueue!==null&&(u.flags|=4),Os(u),null);case 4:return vo(),$x(c,u),c===null&&Sc(u.stateNode.containerInfo),Os(u),null;case 10:return Ha(u.type._context),Os(u),null;case 17:return Ts(u.type)&&Tu(),Os(u),null;case 19:if(pa(Pa),O=u.memoizedState,O===null)return Os(u),null;if(j=(u.flags&128)!==0,ae=O.rendering,ae===null)if(j)wh(O,!1);else{if(rs!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(ae=Wi(c),ae!==null){for(u.flags|=128,wh(O,!1),j=ae.updateQueue,j!==null&&(u.updateQueue=j,u.flags|=4),u.subtreeFlags=0,j=g,g=u.child;g!==null;)O=g,c=j,O.flags&=14680066,ae=O.alternate,ae===null?(O.childLanes=0,O.lanes=c,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=ae.childLanes,O.lanes=ae.lanes,O.child=ae.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=ae.memoizedProps,O.memoizedState=ae.memoizedState,O.updateQueue=ae.updateQueue,O.type=ae.type,c=ae.dependencies,O.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return va(Pa,Pa.current&1|2),u.child}c=c.sibling}O.tail!==null&&ct()>Ju&&(u.flags|=128,j=!0,wh(O,!1),u.lanes=4194304)}else{if(!j)if(c=Wi(ae),c!==null){if(u.flags|=128,j=!0,g=c.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),wh(O,!0),O.tail===null&&O.tailMode==="hidden"&&!ae.alternate&&!tt)return Os(u),null}else 2*ct()-O.renderingStartTime>Ju&&g!==1073741824&&(u.flags|=128,j=!0,wh(O,!1),u.lanes=4194304);O.isBackwards?(ae.sibling=u.child,u.child=ae):(g=O.last,g!==null?g.sibling=ae:u.child=ae,O.last=ae)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=ct(),u.sibling=null,g=Pa.current,va(Pa,j?g&1|2:g&1),u):(Os(u),null);case 22:case 23:return av(),j=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==j&&(u.flags|=8192),j&&(u.mode&1)!==0?(Xi&1073741824)!==0&&(Os(u),u.subtreeFlags&6&&(u.flags|=8192)):Os(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function Kk(c,u){switch(Ie(u),u.tag){case 1:return Ts(u.type)&&Tu(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return vo(),pa(Rs),pa(es),gh(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return mh(u),null;case 13:if(pa(Pa),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(t(340));Tt()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return pa(Pa),null;case 4:return vo(),null;case 10:return Ha(u.type._context),null;case 22:case 23:return av(),null;case 24:return null;default:return null}}var ap=!1,Hs=!1,$k=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Yu(c,u){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(j){bn(c,u,j)}else g.current=null}function Vx(c,u,g){try{g()}catch(j){bn(c,u,j)}}var Wb=!1;function Vk(c,u){if(Ud=cA,c=xn(),Vi(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var j=g.getSelection&&g.getSelection();if(j&&j.rangeCount!==0){g=j.anchorNode;var D=j.anchorOffset,O=j.focusNode;j=j.focusOffset;try{g.nodeType,O.nodeType}catch{g=null;break e}var ae=0,ge=-1,Ne=-1,Te=0,At=0,ht=c,ot=null;t:for(;;){for(var Pt;ht!==g||D!==0&&ht.nodeType!==3||(ge=ae+D),ht!==O||j!==0&&ht.nodeType!==3||(Ne=ae+j),ht.nodeType===3&&(ae+=ht.nodeValue.length),(Pt=ht.firstChild)!==null;)ot=ht,ht=Pt;for(;;){if(ht===c)break t;if(ot===g&&++Te===D&&(ge=ae),ot===O&&++At===j&&(Ne=ae),(Pt=ht.nextSibling)!==null)break;ht=ot,ot=ht.parentNode}ht=Pt}g=ge===-1||Ne===-1?null:{start:ge,end:Ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(_c={focusedElem:c,selectionRange:g},cA=!1,Ot=u;Ot!==null;)if(u=Ot,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Ot=c;else for(;Ot!==null;){u=Ot;try{var zt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(zt!==null){var Yt=zt.memoizedProps,kn=zt.memoizedState,Ue=u.stateNode,Be=Ue.getSnapshotBeforeUpdate(u.elementType===u.type?Yt:Go(u.type,Yt),kn);Ue.__reactInternalSnapshotBeforeUpdate=Be}break;case 3:var Re=u.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(vt){bn(u,u.return,vt)}if(c=u.sibling,c!==null){c.return=u.return,Ot=c;break}Ot=u.return}return zt=Wb,Wb=!1,zt}function yh(c,u,g){var j=u.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var D=j=j.next;do{if((D.tag&c)===c){var O=D.destroy;D.destroy=void 0,O!==void 0&&Vx(u,g,O)}D=D.next}while(D!==j)}}function np(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var g=u=u.next;do{if((g.tag&c)===c){var j=g.create;g.destroy=j()}g=g.next}while(g!==u)}}function zx(c){var u=c.ref;if(u!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof u=="function"?u(c):u.current=c}}function Gb(c){var u=c.alternate;u!==null&&(c.alternate=null,Gb(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[xo],delete u[wA],delete u[Qs],delete u[Fx],delete u[kx])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Yb(c){return c.tag===5||c.tag===3||c.tag===4}function Xb(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Yb(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function qx(c,u,g){var j=c.tag;if(j===5||j===6)c=c.stateNode,u?g.nodeType===8?g.parentNode.insertBefore(c,u):g.insertBefore(c,u):(g.nodeType===8?(u=g.parentNode,u.insertBefore(c,g)):(u=g,u.appendChild(c)),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=vA));else if(j!==4&&(c=c.child,c!==null))for(qx(c,u,g),c=c.sibling;c!==null;)qx(c,u,g),c=c.sibling}function Wx(c,u,g){var j=c.tag;if(j===5||j===6)c=c.stateNode,u?g.insertBefore(c,u):g.appendChild(c);else if(j!==4&&(c=c.child,c!==null))for(Wx(c,u,g),c=c.sibling;c!==null;)Wx(c,u,g),c=c.sibling}var Bs=null,Yo=!1;function SA(c,u,g){for(g=g.child;g!==null;)Jb(c,u,g),g=g.sibling}function Jb(c,u,g){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(mi,g)}catch{}switch(g.tag){case 5:Hs||Yu(g,u);case 6:var j=Bs,D=Yo;Bs=null,SA(c,u,g),Bs=j,Yo=D,Bs!==null&&(Yo?(c=Bs,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):Bs.removeChild(g.stateNode));break;case 18:Bs!==null&&(Yo?(c=Bs,g=g.stateNode,c.nodeType===8?uh(c.parentNode,g):c.nodeType===1&&uh(c,g),Ao(c)):uh(Bs,g.stateNode));break;case 4:j=Bs,D=Yo,Bs=g.stateNode.containerInfo,Yo=!0,SA(c,u,g),Bs=j,Yo=D;break;case 0:case 11:case 14:case 15:if(!Hs&&(j=g.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){D=j=j.next;do{var O=D,ae=O.destroy;O=O.tag,ae!==void 0&&((O&2)!==0||(O&4)!==0)&&Vx(g,u,ae),D=D.next}while(D!==j)}SA(c,u,g);break;case 1:if(!Hs&&(Yu(g,u),j=g.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=g.memoizedProps,j.state=g.memoizedState,j.componentWillUnmount()}catch(ge){bn(g,u,ge)}SA(c,u,g);break;case 21:SA(c,u,g);break;case 22:g.mode&1?(Hs=(j=Hs)||g.memoizedState!==null,SA(c,u,g),Hs=j):SA(c,u,g);break;default:SA(c,u,g)}}function Zb(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new $k),u.forEach(function(j){var D=eD.bind(null,c,j);g.has(j)||(g.add(j),j.then(D,D))})}}function Xo(c,u){var g=u.deletions;if(g!==null)for(var j=0;j<g.length;j++){var D=g[j];try{var O=c,ae=u,ge=ae;e:for(;ge!==null;){switch(ge.tag){case 5:Bs=ge.stateNode,Yo=!1;break e;case 3:Bs=ge.stateNode.containerInfo,Yo=!0;break e;case 4:Bs=ge.stateNode.containerInfo,Yo=!0;break e}ge=ge.return}if(Bs===null)throw Error(t(160));Jb(O,ae,D),Bs=null,Yo=!1;var Ne=D.alternate;Ne!==null&&(Ne.return=null),D.return=null}catch(Te){bn(D,u,Te)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)e2(u,c),u=u.sibling}function e2(c,u){var g=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Xo(u,c),Fl(c),j&4){try{yh(3,c,c.return),np(3,c)}catch(Yt){bn(c,c.return,Yt)}try{yh(5,c,c.return)}catch(Yt){bn(c,c.return,Yt)}}break;case 1:Xo(u,c),Fl(c),j&512&&g!==null&&Yu(g,g.return);break;case 5:if(Xo(u,c),Fl(c),j&512&&g!==null&&Yu(g,g.return),c.flags&32){var D=c.stateNode;try{Bt(D,"")}catch(Yt){bn(c,c.return,Yt)}}if(j&4&&(D=c.stateNode,D!=null)){var O=c.memoizedProps,ae=g!==null?g.memoizedProps:O,ge=c.type,Ne=c.updateQueue;if(c.updateQueue=null,Ne!==null)try{ge==="input"&&O.type==="radio"&&O.name!=null&&wt(D,O),$e(ge,ae);var Te=$e(ge,O);for(ae=0;ae<Ne.length;ae+=2){var At=Ne[ae],ht=Ne[ae+1];At==="style"?Ft(D,ht):At==="dangerouslySetInnerHTML"?It(D,ht):At==="children"?Bt(D,ht):S(D,At,ht,Te)}switch(ge){case"input":bt(D,O);break;case"textarea":Xt(D,O);break;case"select":var ot=D._wrapperState.wasMultiple;D._wrapperState.wasMultiple=!!O.multiple;var Pt=O.value;Pt!=null?ut(D,!!O.multiple,Pt,!1):ot!==!!O.multiple&&(O.defaultValue!=null?ut(D,!!O.multiple,O.defaultValue,!0):ut(D,!!O.multiple,O.multiple?[]:"",!1))}D[wA]=O}catch(Yt){bn(c,c.return,Yt)}}break;case 6:if(Xo(u,c),Fl(c),j&4){if(c.stateNode===null)throw Error(t(162));D=c.stateNode,O=c.memoizedProps;try{D.nodeValue=O}catch(Yt){bn(c,c.return,Yt)}}break;case 3:if(Xo(u,c),Fl(c),j&4&&g!==null&&g.memoizedState.isDehydrated)try{Ao(u.containerInfo)}catch(Yt){bn(c,c.return,Yt)}break;case 4:Xo(u,c),Fl(c);break;case 13:Xo(u,c),Fl(c),D=c.child,D.flags&8192&&(O=D.memoizedState!==null,D.stateNode.isHidden=O,!O||D.alternate!==null&&D.alternate.memoizedState!==null||(Xx=ct())),j&4&&Zb(c);break;case 22:if(At=g!==null&&g.memoizedState!==null,c.mode&1?(Hs=(Te=Hs)||At,Xo(u,c),Hs=Te):Xo(u,c),Fl(c),j&8192){if(Te=c.memoizedState!==null,(c.stateNode.isHidden=Te)&&!At&&(c.mode&1)!==0)for(Ot=c,At=c.child;At!==null;){for(ht=Ot=At;Ot!==null;){switch(ot=Ot,Pt=ot.child,ot.tag){case 0:case 11:case 14:case 15:yh(4,ot,ot.return);break;case 1:Yu(ot,ot.return);var zt=ot.stateNode;if(typeof zt.componentWillUnmount=="function"){j=ot,g=ot.return;try{u=j,zt.props=u.memoizedProps,zt.state=u.memoizedState,zt.componentWillUnmount()}catch(Yt){bn(j,g,Yt)}}break;case 5:Yu(ot,ot.return);break;case 22:if(ot.memoizedState!==null){a2(ht);continue}}Pt!==null?(Pt.return=ot,Ot=Pt):a2(ht)}At=At.sibling}e:for(At=null,ht=c;;){if(ht.tag===5){if(At===null){At=ht;try{D=ht.stateNode,Te?(O=D.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(ge=ht.stateNode,Ne=ht.memoizedProps.style,ae=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null,ge.style.display=Er("display",ae))}catch(Yt){bn(c,c.return,Yt)}}}else if(ht.tag===6){if(At===null)try{ht.stateNode.nodeValue=Te?"":ht.memoizedProps}catch(Yt){bn(c,c.return,Yt)}}else if((ht.tag!==22&&ht.tag!==23||ht.memoizedState===null||ht===c)&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===c)break e;for(;ht.sibling===null;){if(ht.return===null||ht.return===c)break e;At===ht&&(At=null),ht=ht.return}At===ht&&(At=null),ht.sibling.return=ht.return,ht=ht.sibling}}break;case 19:Xo(u,c),Fl(c),j&4&&Zb(c);break;case 21:break;default:Xo(u,c),Fl(c)}}function Fl(c){var u=c.flags;if(u&2){try{e:{for(var g=c.return;g!==null;){if(Yb(g)){var j=g;break e}g=g.return}throw Error(t(160))}switch(j.tag){case 5:var D=j.stateNode;j.flags&32&&(Bt(D,""),j.flags&=-33);var O=Xb(c);Wx(c,O,D);break;case 3:case 4:var ae=j.stateNode.containerInfo,ge=Xb(c);qx(c,ge,ae);break;default:throw Error(t(161))}}catch(Ne){bn(c,c.return,Ne)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function zk(c,u,g){Ot=c,t2(c)}function t2(c,u,g){for(var j=(c.mode&1)!==0;Ot!==null;){var D=Ot,O=D.child;if(D.tag===22&&j){var ae=D.memoizedState!==null||ap;if(!ae){var ge=D.alternate,Ne=ge!==null&&ge.memoizedState!==null||Hs;ge=ap;var Te=Hs;if(ap=ae,(Hs=Ne)&&!Te)for(Ot=D;Ot!==null;)ae=Ot,Ne=ae.child,ae.tag===22&&ae.memoizedState!==null?n2(D):Ne!==null?(Ne.return=ae,Ot=Ne):n2(D);for(;O!==null;)Ot=O,t2(O),O=O.sibling;Ot=D,ap=ge,Hs=Te}r2(c)}else(D.subtreeFlags&8772)!==0&&O!==null?(O.return=D,Ot=O):r2(c)}}function r2(c){for(;Ot!==null;){var u=Ot;if((u.flags&8772)!==0){var g=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Hs||np(5,u);break;case 1:var j=u.stateNode;if(u.flags&4&&!Hs)if(g===null)j.componentDidMount();else{var D=u.elementType===u.type?g.memoizedProps:Go(u.type,g.memoizedProps);j.componentDidUpdate(D,g.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var O=u.updateQueue;O!==null&&Ci(u,O,j);break;case 3:var ae=u.updateQueue;if(ae!==null){if(g=null,u.child!==null)switch(u.child.tag){case 5:g=u.child.stateNode;break;case 1:g=u.child.stateNode}Ci(u,ae,g)}break;case 5:var ge=u.stateNode;if(g===null&&u.flags&4){g=ge;var Ne=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Ne.autoFocus&&g.focus();break;case"img":Ne.src&&(g.src=Ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Te=u.alternate;if(Te!==null){var At=Te.memoizedState;if(At!==null){var ht=At.dehydrated;ht!==null&&Ao(ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Hs||u.flags&512&&zx(u)}catch(ot){bn(u,u.return,ot)}}if(u===c){Ot=null;break}if(g=u.sibling,g!==null){g.return=u.return,Ot=g;break}Ot=u.return}}function a2(c){for(;Ot!==null;){var u=Ot;if(u===c){Ot=null;break}var g=u.sibling;if(g!==null){g.return=u.return,Ot=g;break}Ot=u.return}}function n2(c){for(;Ot!==null;){var u=Ot;try{switch(u.tag){case 0:case 11:case 15:var g=u.return;try{np(4,u)}catch(Ne){bn(u,g,Ne)}break;case 1:var j=u.stateNode;if(typeof j.componentDidMount=="function"){var D=u.return;try{j.componentDidMount()}catch(Ne){bn(u,D,Ne)}}var O=u.return;try{zx(u)}catch(Ne){bn(u,O,Ne)}break;case 5:var ae=u.return;try{zx(u)}catch(Ne){bn(u,ae,Ne)}}}catch(Ne){bn(u,u.return,Ne)}if(u===c){Ot=null;break}var ge=u.sibling;if(ge!==null){ge.return=u.return,Ot=ge;break}Ot=u.return}}var qk=Math.ceil,sp=F.ReactCurrentDispatcher,Gx=F.ReactCurrentOwner,bo=F.ReactCurrentBatchConfig,da=0,ms=null,qn=null,Cs=0,Xi=0,Xu=zi(0),rs=0,bh=null,Td=0,ip=0,Yx=0,Nh=null,Ei=null,Xx=0,Ju=1/0,Ic=null,op=!1,Jx=null,EA=null,lp=!1,_A=null,cp=0,jh=0,Zx=null,Ap=-1,dp=0;function oi(){return(da&6)!==0?ct():Ap!==-1?Ap:Ap=ct()}function FA(c){return(c.mode&1)===0?1:(da&2)!==0&&Cs!==0?Cs&-Cs:ln.transition!==null?(dp===0&&(dp=Cu()),dp):(c=sa,c!==0||(c=window.event,c=c===void 0?16:fc(c.type)),c)}function Jo(c,u,g,j){if(50<jh)throw jh=0,Zx=null,Error(t(185));cc(c,g,j),((da&2)===0||c!==ms)&&(c===ms&&((da&2)===0&&(ip|=g),rs===4&&kA(c,Cs)),_i(c,j),g===1&&da===0&&(u.mode&1)===0&&(Ju=ct()+500,Id&&H()))}function _i(c,u){var g=c.callbackNode;nn(c,u);var j=Ds(c,c===ms?Cs:0);if(j===0)g!==null&&xt(g),c.callbackNode=null,c.callbackPriority=0;else if(u=j&-j,c.callbackPriority!==u){if(g!=null&&xt(g),u===1)c.tag===0?T(i2.bind(null,c)):C(i2.bind(null,c)),Ex(function(){(da&6)===0&&H()}),g=null;else{switch(Lo(j)){case 1:g=fa;break;case 4:g=ha;break;case 16:g=Lr;break;case 536870912:g=Ia;break;default:g=Lr}g=h2(g,s2.bind(null,c))}c.callbackPriority=u,c.callbackNode=g}}function s2(c,u){if(Ap=-1,dp=0,(da&6)!==0)throw Error(t(327));var g=c.callbackNode;if(Zu()&&c.callbackNode!==g)return null;var j=Ds(c,c===ms?Cs:0);if(j===0)return null;if((j&30)!==0||(j&c.expiredLanes)!==0||u)u=up(c,j);else{u=j;var D=da;da|=2;var O=l2();(ms!==c||Cs!==u)&&(Ic=null,Ju=ct()+500,Od(c,u));do try{Yk();break}catch(ge){o2(c,ge)}while(!0);ca(),sp.current=O,da=D,qn!==null?u=0:(ms=null,Cs=0,u=rs)}if(u!==0){if(u===2&&(D=lc(c),D!==0&&(j=D,u=ev(c,D))),u===1)throw g=bh,Od(c,0),kA(c,j),_i(c,ct()),g;if(u===6)kA(c,j);else{if(D=c.current.alternate,(j&30)===0&&!Wk(D)&&(u=up(c,j),u===2&&(O=lc(c),O!==0&&(j=O,u=ev(c,O))),u===1))throw g=bh,Od(c,0),kA(c,j),_i(c,ct()),g;switch(c.finishedWork=D,c.finishedLanes=j,u){case 0:case 1:throw Error(t(345));case 2:Hd(c,Ei,Ic);break;case 3:if(kA(c,j),(j&130023424)===j&&(u=Xx+500-ct(),10<u)){if(Ds(c,0)!==0)break;if(D=c.suspendedLanes,(D&j)!==j){oi(),c.pingedLanes|=c.suspendedLanes&D;break}c.timeoutHandle=dh(Hd.bind(null,c,Ei,Ic),u);break}Hd(c,Ei,Ic);break;case 4:if(kA(c,j),(j&4194240)===j)break;for(u=c.eventTimes,D=-1;0<j;){var ae=31-ls(j);O=1<<ae,ae=u[ae],ae>D&&(D=ae),j&=~O}if(j=D,j=ct()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*qk(j/1960))-j,10<j){c.timeoutHandle=dh(Hd.bind(null,c,Ei,Ic),j);break}Hd(c,Ei,Ic);break;case 5:Hd(c,Ei,Ic);break;default:throw Error(t(329))}}}return _i(c,ct()),c.callbackNode===g?s2.bind(null,c):null}function ev(c,u){var g=Nh;return c.current.memoizedState.isDehydrated&&(Od(c,u).flags|=256),c=up(c,u),c!==2&&(u=Ei,Ei=g,u!==null&&tv(u)),c}function tv(c){Ei===null?Ei=c:Ei.push.apply(Ei,c)}function Wk(c){for(var u=c;;){if(u.flags&16384){var g=u.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var j=0;j<g.length;j++){var D=g[j],O=D.getSnapshot;D=D.value;try{if(!Xa(O(),D))return!1}catch{return!1}}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function kA(c,u){for(u&=~Yx,u&=~ip,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var g=31-ls(u),j=1<<g;c[g]=-1,u&=~j}}function i2(c){if((da&6)!==0)throw Error(t(327));Zu();var u=Ds(c,0);if((u&1)===0)return _i(c,ct()),null;var g=up(c,u);if(c.tag!==0&&g===2){var j=lc(c);j!==0&&(u=j,g=ev(c,j))}if(g===1)throw g=bh,Od(c,0),kA(c,u),_i(c,ct()),g;if(g===6)throw Error(t(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,Hd(c,Ei,Ic),_i(c,ct()),null}function rv(c,u){var g=da;da|=1;try{return c(u)}finally{da=g,da===0&&(Ju=ct()+500,Id&&H())}}function Md(c){_A!==null&&_A.tag===0&&(da&6)===0&&Zu();var u=da;da|=1;var g=bo.transition,j=sa;try{if(bo.transition=null,sa=1,c)return c()}finally{sa=j,bo.transition=g,da=u,(da&6)===0&&H()}}function av(){Xi=Xu.current,pa(Xu)}function Od(c,u){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,$m(g)),qn!==null)for(g=qn.return;g!==null;){var j=g;switch(Ie(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&Tu();break;case 3:vo(),pa(Rs),pa(es),gh();break;case 5:mh(j);break;case 4:vo();break;case 13:pa(Pa);break;case 19:pa(Pa);break;case 10:Ha(j.type._context);break;case 22:case 23:av()}g=g.return}if(ms=c,qn=c=DA(c.current,null),Cs=Xi=u,rs=0,bh=null,Yx=ip=Td=0,Ei=Nh=null,ja!==null){for(u=0;u<ja.length;u++)if(g=ja[u],j=g.interleaved,j!==null){g.interleaved=null;var D=j.next,O=g.pending;if(O!==null){var ae=O.next;O.next=D,j.next=ae}g.pending=j}ja=null}return c}function o2(c,u){do{var g=qn;try{if(ca(),Mu.current=Zm,jA){for(var j=Ka.memoizedState;j!==null;){var D=j.queue;D!==null&&(D.pending=null),j=j.next}jA=!1}if(wo=0,un=yn=Ka=null,qo=!1,BA=0,Gx.current=null,g===null||g.return===null){rs=1,bh=u,qn=null;break}e:{var O=c,ae=g.return,ge=g,Ne=u;if(u=Cs,ge.flags|=32768,Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var Te=Ne,At=ge,ht=At.tag;if((At.mode&1)===0&&(ht===0||ht===11||ht===15)){var ot=At.alternate;ot?(At.updateQueue=ot.updateQueue,At.memoizedState=ot.memoizedState,At.lanes=ot.lanes):(At.updateQueue=null,At.memoizedState=null)}var Pt=Db(ae);if(Pt!==null){Pt.flags&=-257,Ub(Pt,ae,ge,O,u),Pt.mode&1&&kb(O,Te,u),u=Pt,Ne=Te;var zt=u.updateQueue;if(zt===null){var Yt=new Set;Yt.add(Ne),u.updateQueue=Yt}else zt.add(Ne);break e}else{if((u&1)===0){kb(O,Te,u),nv();break e}Ne=Error(t(426))}}else if(tt&&ge.mode&1){var kn=Db(ae);if(kn!==null){(kn.flags&65536)===0&&(kn.flags|=256),Ub(kn,ae,ge,O,u),yt(Gu(Ne,ge));break e}}O=Ne=Gu(Ne,ge),rs!==4&&(rs=2),Nh===null?Nh=[O]:Nh.push(O),O=ae;do{switch(O.tag){case 3:O.flags|=65536,u&=-u,O.lanes|=u;var Ue=_b(O,Ne,u);Ca(O,Ue);break e;case 1:ge=Ne;var Be=O.type,Re=O.stateNode;if((O.flags&128)===0&&(typeof Be.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(EA===null||!EA.has(Re)))){O.flags|=65536,u&=-u,O.lanes|=u;var vt=Fb(O,ge,u);Ca(O,vt);break e}}O=O.return}while(O!==null)}A2(g)}catch(tr){u=tr,qn===g&&g!==null&&(qn=g=g.return);continue}break}while(!0)}function l2(){var c=sp.current;return sp.current=Zm,c===null?Zm:c}function nv(){(rs===0||rs===3||rs===2)&&(rs=4),ms===null||(Td&268435455)===0&&(ip&268435455)===0||kA(ms,Cs)}function up(c,u){var g=da;da|=2;var j=l2();(ms!==c||Cs!==u)&&(Ic=null,Od(c,u));do try{Gk();break}catch(D){o2(c,D)}while(!0);if(ca(),da=g,sp.current=j,qn!==null)throw Error(t(261));return ms=null,Cs=0,rs}function Gk(){for(;qn!==null;)c2(qn)}function Yk(){for(;qn!==null&&!Je();)c2(qn)}function c2(c){var u=f2(c.alternate,c,Xi);c.memoizedProps=c.pendingProps,u===null?A2(c):qn=u,Gx.current=null}function A2(c){var u=c;do{var g=u.alternate;if(c=u.return,(u.flags&32768)===0){if(g=Hk(g,u,Xi),g!==null){qn=g;return}}else{if(g=Kk(g,u),g!==null){g.flags&=32767,qn=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{rs=6,qn=null;return}}if(u=u.sibling,u!==null){qn=u;return}qn=u=c}while(u!==null);rs===0&&(rs=5)}function Hd(c,u,g){var j=sa,D=bo.transition;try{bo.transition=null,sa=1,Xk(c,u,g,j)}finally{bo.transition=D,sa=j}return null}function Xk(c,u,g,j){do Zu();while(_A!==null);if((da&6)!==0)throw Error(t(327));g=c.finishedWork;var D=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(t(177));c.callbackNode=null,c.callbackPriority=0;var O=g.lanes|g.childLanes;if(oo(c,O),c===ms&&(qn=ms=null,Cs=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||lp||(lp=!0,h2(Lr,function(){return Zu(),null})),O=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||O){O=bo.transition,bo.transition=null;var ae=sa;sa=1;var ge=da;da|=4,Gx.current=null,Vk(c,g),e2(g,c),Bd(_c),cA=!!Ud,_c=Ud=null,c.current=g,zk(g),ka(),da=ge,sa=ae,bo.transition=O}else c.current=g;if(lp&&(lp=!1,_A=c,cp=D),O=c.pendingLanes,O===0&&(EA=null),Jn(g.stateNode),_i(c,ct()),u!==null)for(j=c.onRecoverableError,g=0;g<u.length;g++)D=u[g],j(D.value,{componentStack:D.stack,digest:D.digest});if(op)throw op=!1,c=Jx,Jx=null,c;return(cp&1)!==0&&c.tag!==0&&Zu(),O=c.pendingLanes,(O&1)!==0?c===Zx?jh++:(jh=0,Zx=c):jh=0,H(),null}function Zu(){if(_A!==null){var c=Lo(cp),u=bo.transition,g=sa;try{if(bo.transition=null,sa=16>c?16:c,_A===null)var j=!1;else{if(c=_A,_A=null,cp=0,(da&6)!==0)throw Error(t(331));var D=da;for(da|=4,Ot=c.current;Ot!==null;){var O=Ot,ae=O.child;if((Ot.flags&16)!==0){var ge=O.deletions;if(ge!==null){for(var Ne=0;Ne<ge.length;Ne++){var Te=ge[Ne];for(Ot=Te;Ot!==null;){var At=Ot;switch(At.tag){case 0:case 11:case 15:yh(8,At,O)}var ht=At.child;if(ht!==null)ht.return=At,Ot=ht;else for(;Ot!==null;){At=Ot;var ot=At.sibling,Pt=At.return;if(Gb(At),At===Te){Ot=null;break}if(ot!==null){ot.return=Pt,Ot=ot;break}Ot=Pt}}}var zt=O.alternate;if(zt!==null){var Yt=zt.child;if(Yt!==null){zt.child=null;do{var kn=Yt.sibling;Yt.sibling=null,Yt=kn}while(Yt!==null)}}Ot=O}}if((O.subtreeFlags&2064)!==0&&ae!==null)ae.return=O,Ot=ae;else e:for(;Ot!==null;){if(O=Ot,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:yh(9,O,O.return)}var Ue=O.sibling;if(Ue!==null){Ue.return=O.return,Ot=Ue;break e}Ot=O.return}}var Be=c.current;for(Ot=Be;Ot!==null;){ae=Ot;var Re=ae.child;if((ae.subtreeFlags&2064)!==0&&Re!==null)Re.return=ae,Ot=Re;else e:for(ae=Be;Ot!==null;){if(ge=Ot,(ge.flags&2048)!==0)try{switch(ge.tag){case 0:case 11:case 15:np(9,ge)}}catch(tr){bn(ge,ge.return,tr)}if(ge===ae){Ot=null;break e}var vt=ge.sibling;if(vt!==null){vt.return=ge.return,Ot=vt;break e}Ot=ge.return}}if(da=D,H(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(mi,c)}catch{}j=!0}return j}finally{sa=g,bo.transition=u}}return!1}function d2(c,u,g){u=Gu(g,u),u=_b(c,u,1),c=An(c,u,1),u=oi(),c!==null&&(cc(c,1,u),_i(c,u))}function bn(c,u,g){if(c.tag===3)d2(c,c,g);else for(;u!==null;){if(u.tag===3){d2(u,c,g);break}else if(u.tag===1){var j=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(EA===null||!EA.has(j))){c=Gu(g,c),c=Fb(u,c,1),u=An(u,c,1),c=oi(),u!==null&&(cc(u,1,c),_i(u,c));break}}u=u.return}}function Jk(c,u,g){var j=c.pingCache;j!==null&&j.delete(u),u=oi(),c.pingedLanes|=c.suspendedLanes&g,ms===c&&(Cs&g)===g&&(rs===4||rs===3&&(Cs&130023424)===Cs&&500>ct()-Xx?Od(c,0):Yx|=g),_i(c,u)}function u2(c,u){u===0&&((c.mode&1)===0?u=1:(u=pi,pi<<=1,(pi&130023424)===0&&(pi=4194304)));var g=oi();c=Ba(c,u),c!==null&&(cc(c,u,g),_i(c,g))}function Zk(c){var u=c.memoizedState,g=0;u!==null&&(g=u.retryLane),u2(c,g)}function eD(c,u){var g=0;switch(c.tag){case 13:var j=c.stateNode,D=c.memoizedState;D!==null&&(g=D.retryLane);break;case 19:j=c.stateNode;break;default:throw Error(t(314))}j!==null&&j.delete(u),u2(c,g)}var f2;f2=function(c,u,g){if(c!==null)if(c.memoizedProps!==u.pendingProps||Rs.current)Si=!0;else{if((c.lanes&g)===0&&(u.flags&128)===0)return Si=!1,Ok(c,u,g);Si=(c.flags&131072)!==0}else Si=!1,tt&&(u.flags&1048576)!==0&&Se(u,le,u.index);switch(u.lanes=0,u.tag){case 2:var j=u.type;rp(c,u),c=u.pendingProps;var D=bA(u,es.current);en(u,g),D=Pd(null,u,j,c,D,g);var O=yo();return u.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Ts(j)?(O=!0,Dc(u)):O=!1,u.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,ts(u),D.updater=ep,u.stateNode=D,D._reactInternals=u,Ix(u,j,c,g),u=Tx(null,u,j,!0,O,g)):(u.tag=0,tt&&O&&Ve(u),ii(null,u,D,g),u=u.child),u;case 16:j=u.elementType;e:{switch(rp(c,u),c=u.pendingProps,D=j._init,j=D(j._payload),u.type=j,D=u.tag=rD(j),c=Go(j,c),D){case 0:u=Rx(null,u,j,c,g);break e;case 1:u=Tb(null,u,j,c,g);break e;case 11:u=Lb(null,u,j,c,g);break e;case 14:u=Ib(null,u,j,Go(j.type,c),g);break e}throw Error(t(306,j,""))}return u;case 0:return j=u.type,D=u.pendingProps,D=u.elementType===j?D:Go(j,D),Rx(c,u,j,D,g);case 1:return j=u.type,D=u.pendingProps,D=u.elementType===j?D:Go(j,D),Tb(c,u,j,D,g);case 3:e:{if(Mb(u),c===null)throw Error(t(387));j=u.pendingProps,O=u.memoizedState,D=O.element,Ms(c,u),hs(u,j,null,g);var ae=u.memoizedState;if(j=ae.element,O.isDehydrated)if(O={element:j,isDehydrated:!1,cache:ae.cache,pendingSuspenseBoundaries:ae.pendingSuspenseBoundaries,transitions:ae.transitions},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){D=Gu(Error(t(423)),u),u=Ob(c,u,j,g,D);break e}else if(j!==D){D=Gu(Error(t(424)),u),u=Ob(c,u,j,g,D);break e}else for(Ke=js(u.stateNode.containerInfo.firstChild),Oe=u,tt=!0,rt=null,g=qa(u,null,j,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Tt(),j===D){u=Lc(c,u,g);break e}ii(c,u,j,g)}u=u.child}return u;case 5:return Wm(u),c===null&&Kt(u),j=u.type,D=u.pendingProps,O=c!==null?c.memoizedProps:null,ae=D.children,Ah(j,D)?ae=null:O!==null&&Ah(j,O)&&(u.flags|=32),Rb(c,u),ii(c,u,ae,g),u.child;case 6:return c===null&&Kt(u),null;case 13:return Hb(c,u,g);case 4:return NA(u,u.stateNode.containerInfo),j=u.pendingProps,c===null?u.child=vn(u,null,j,g):ii(c,u,j,g),u.child;case 11:return j=u.type,D=u.pendingProps,D=u.elementType===j?D:Go(j,D),Lb(c,u,j,D,g);case 7:return ii(c,u,u.pendingProps,g),u.child;case 8:return ii(c,u,u.pendingProps.children,g),u.child;case 12:return ii(c,u,u.pendingProps.children,g),u.child;case 10:e:{if(j=u.type._context,D=u.pendingProps,O=u.memoizedProps,ae=D.value,va(_n,j._currentValue),j._currentValue=ae,O!==null)if(Xa(O.value,ae)){if(O.children===D.children&&!Rs.current){u=Lc(c,u,g);break e}}else for(O=u.child,O!==null&&(O.return=u);O!==null;){var ge=O.dependencies;if(ge!==null){ae=O.child;for(var Ne=ge.firstContext;Ne!==null;){if(Ne.context===j){if(O.tag===1){Ne=cn(-1,g&-g),Ne.tag=2;var Te=O.updateQueue;if(Te!==null){Te=Te.shared;var At=Te.pending;At===null?Ne.next=Ne:(Ne.next=At.next,At.next=Ne),Te.pending=Ne}}O.lanes|=g,Ne=O.alternate,Ne!==null&&(Ne.lanes|=g),Aa(O.return,g,u),ge.lanes|=g;break}Ne=Ne.next}}else if(O.tag===10)ae=O.type===u.type?null:O.child;else if(O.tag===18){if(ae=O.return,ae===null)throw Error(t(341));ae.lanes|=g,ge=ae.alternate,ge!==null&&(ge.lanes|=g),Aa(ae,g,u),ae=O.sibling}else ae=O.child;if(ae!==null)ae.return=O;else for(ae=O;ae!==null;){if(ae===u){ae=null;break}if(O=ae.sibling,O!==null){O.return=ae.return,ae=O;break}ae=ae.return}O=ae}ii(c,u,D.children,g),u=u.child}return u;case 9:return D=u.type,j=u.pendingProps.children,en(u,g),D=tn(D),j=j(D),u.flags|=1,ii(c,u,j,g),u.child;case 14:return j=u.type,D=Go(j,u.pendingProps),D=Go(j.type,D),Ib(c,u,j,D,g);case 15:return Pb(c,u,u.type,u.pendingProps,g);case 17:return j=u.type,D=u.pendingProps,D=u.elementType===j?D:Go(j,D),rp(c,u),u.tag=1,Ts(j)?(c=!0,Dc(u)):c=!1,en(u,g),Sb(u,j,D),Ix(u,j,D,g),Tx(null,u,j,!0,c,g);case 19:return $b(c,u,g);case 22:return Qb(c,u,g)}throw Error(t(156,u.tag))};function h2(c,u){return io(c,u)}function tD(c,u,g,j){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function No(c,u,g,j){return new tD(c,u,g,j)}function sv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function rD(c){if(typeof c=="function")return sv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===K)return 11;if(c===re)return 14}return 2}function DA(c,u){var g=c.alternate;return g===null?(g=No(c.tag,u,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=u,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,u=c.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function fp(c,u,g,j,D,O){var ae=2;if(j=c,typeof c=="function")sv(c)&&(ae=1);else if(typeof c=="string")ae=5;else e:switch(c){case U:return Kd(g.children,D,O,u);case I:ae=8,D|=8;break;case _:return c=No(12,g,u,D|2),c.elementType=_,c.lanes=O,c;case X:return c=No(13,g,u,D),c.elementType=X,c.lanes=O,c;case R:return c=No(19,g,u,D),c.elementType=R,c.lanes=O,c;case V:return hp(g,D,O,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case W:ae=10;break e;case Q:ae=9;break e;case K:ae=11;break e;case re:ae=14;break e;case $:ae=16,j=null;break e}throw Error(t(130,c==null?c:typeof c,""))}return u=No(ae,g,u,D),u.elementType=c,u.type=j,u.lanes=O,u}function Kd(c,u,g,j){return c=No(7,c,j,u),c.lanes=g,c}function hp(c,u,g,j){return c=No(22,c,j,u),c.elementType=V,c.lanes=g,c.stateNode={isHidden:!1},c}function iv(c,u,g){return c=No(6,c,null,u),c.lanes=g,c}function ov(c,u,g){return u=No(4,c.children!==null?c.children:[],c.key,u),u.lanes=g,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function aD(c,u,g,j,D){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pd(0),this.expirationTimes=pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pd(0),this.identifierPrefix=j,this.onRecoverableError=D,this.mutableSourceEagerHydrationData=null}function lv(c,u,g,j,D,O,ae,ge,Ne){return c=new aD(c,u,g,ge,Ne),u===1?(u=1,O===!0&&(u|=8)):u=0,O=No(3,null,null,u),c.current=O,O.stateNode=c,O.memoizedState={element:j,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},ts(O),c}function nD(c,u,g){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:j==null?null:""+j,children:c,containerInfo:u,implementation:g}}function m2(c){if(!c)return Sl;c=c._reactInternals;e:{if(hn(c)!==c||c.tag!==1)throw Error(t(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Ts(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(c.tag===1){var g=c.type;if(Ts(g))return hh(c,g,u)}return u}function p2(c,u,g,j,D,O,ae,ge,Ne){return c=lv(g,j,!0,c,D,O,ae,ge,Ne),c.context=m2(null),g=c.current,j=oi(),D=FA(g),O=cn(j,D),O.callback=u??null,An(g,O,D),c.current.lanes=D,cc(c,D,j),_i(c,j),c}function mp(c,u,g,j){var D=u.current,O=oi(),ae=FA(D);return g=m2(g),u.context===null?u.context=g:u.pendingContext=g,u=cn(O,ae),u.payload={element:c},j=j===void 0?null:j,j!==null&&(u.callback=j),c=An(D,u,ae),c!==null&&(Jo(c,D,ae,O),fs(c,D,ae)),ae}function pp(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function g2(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<u?g:u}}function cv(c,u){g2(c,u),(c=c.alternate)&&g2(c,u)}function sD(){return null}var x2=typeof reportError=="function"?reportError:function(c){console.error(c)};function Av(c){this._internalRoot=c}gp.prototype.render=Av.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(t(409));mp(c,u,null,null)},gp.prototype.unmount=Av.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;Md(function(){mp(null,c,null,null)}),u[ds]=null}};function gp(c){this._internalRoot=c}gp.prototype.unstable_scheduleHydration=function(c){if(c){var u=Eu();c={blockedOn:null,target:c,priority:u};for(var g=0;g<co.length&&u!==0&&u<co[g].priority;g++);co.splice(g,0,c),g===0&&Fu(c)}};function dv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function xp(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function v2(){}function iD(c,u,g,j,D){if(D){if(typeof j=="function"){var O=j;j=function(){var Te=pp(ae);O.call(Te)}}var ae=p2(u,j,c,0,null,!1,!1,"",v2);return c._reactRootContainer=ae,c[ds]=ae.current,Sc(c.nodeType===8?c.parentNode:c),Md(),ae}for(;D=c.lastChild;)c.removeChild(D);if(typeof j=="function"){var ge=j;j=function(){var Te=pp(Ne);ge.call(Te)}}var Ne=lv(c,0,!1,null,null,!1,!1,"",v2);return c._reactRootContainer=Ne,c[ds]=Ne.current,Sc(c.nodeType===8?c.parentNode:c),Md(function(){mp(u,Ne,g,j)}),Ne}function vp(c,u,g,j,D){var O=g._reactRootContainer;if(O){var ae=O;if(typeof D=="function"){var ge=D;D=function(){var Ne=pp(ae);ge.call(Ne)}}mp(u,ae,c,D)}else ae=iD(g,u,c,D,j);return pp(ae)}iA=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var g=Ti(u.pendingLanes);g!==0&&(sA(u,g|1),_i(u,ct()),(da&6)===0&&(Ju=ct()+500,H()))}break;case 13:Md(function(){var j=Ba(c,1);if(j!==null){var D=oi();Jo(j,c,1,D)}}),cv(c,1)}},gd=function(c){if(c.tag===13){var u=Ba(c,134217728);if(u!==null){var g=oi();Jo(u,c,134217728,g)}cv(c,134217728)}},Su=function(c){if(c.tag===13){var u=FA(c),g=Ba(c,u);if(g!==null){var j=oi();Jo(g,c,u,j)}cv(c,u)}},Eu=function(){return sa},oA=function(c,u){var g=sa;try{return sa=c,u()}finally{sa=g}},pt=function(c,u,g){switch(u){case"input":if(bt(c,g),u=g.name,g.type==="radio"&&u!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<g.length;u++){var j=g[u];if(j!==c&&j.form===c.form){var D=Ld(j);if(!D)throw Error(t(90));Pe(j),bt(j,D)}}}break;case"textarea":Xt(c,g);break;case"select":u=g.value,u!=null&&ut(c,!!g.multiple,u,!1)}},Gt=rv,ir=Md;var oD={usingClientEntryPoint:!1,Events:[yA,Fc,Ld,gt,Mt,rv]},Bh={findFiberByHostInstance:Cl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lD={bundleType:Bh.bundleType,version:Bh.version,rendererPackageName:Bh.rendererPackageName,rendererConfig:Bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=ks(c),c===null?null:c.stateNode},findFiberByHostInstance:Bh.findFiberByHostInstance||sD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wp.isDisabled&&wp.supportsFiber)try{mi=wp.inject(lD),bs=wp}catch{}}return Fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oD,Fi.createPortal=function(c,u){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dv(u))throw Error(t(200));return nD(c,u,null,g)},Fi.createRoot=function(c,u){if(!dv(c))throw Error(t(299));var g=!1,j="",D=x2;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),u=lv(c,1,!1,null,null,g,!1,j,D),c[ds]=u.current,Sc(c.nodeType===8?c.parentNode:c),new Av(u)},Fi.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(t(188)):(c=Object.keys(c).join(","),Error(t(268,c)));return c=ks(u),c=c===null?null:c.stateNode,c},Fi.flushSync=function(c){return Md(c)},Fi.hydrate=function(c,u,g){if(!xp(u))throw Error(t(200));return vp(null,c,u,!0,g)},Fi.hydrateRoot=function(c,u,g){if(!dv(c))throw Error(t(405));var j=g!=null&&g.hydratedSources||null,D=!1,O="",ae=x2;if(g!=null&&(g.unstable_strictMode===!0&&(D=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onRecoverableError!==void 0&&(ae=g.onRecoverableError)),u=p2(u,null,c,1,g??null,D,!1,O,ae),c[ds]=u.current,Sc(c),j)for(c=0;c<j.length;c++)g=j[c],D=g._getVersion,D=D(g._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[g,D]:u.mutableSourceEagerHydrationData.push(g,D);return new gp(u)},Fi.render=function(c,u,g){if(!xp(u))throw Error(t(200));return vp(null,c,u,!1,g)},Fi.unmountComponentAtNode=function(c){if(!xp(c))throw Error(t(40));return c._reactRootContainer?(Md(function(){vp(null,null,c,!1,function(){c._reactRootContainer=null,c[ds]=null})}),!0):!1},Fi.unstable_batchedUpdates=rv,Fi.unstable_renderSubtreeIntoContainer=function(c,u,g,j){if(!xp(g))throw Error(t(200));if(c==null||c._reactInternals===void 0)throw Error(t(38));return vp(c,u,g,!1,j)},Fi.version="18.3.1-next-f1338f8080-20240426",Fi}var S2;function Y5(){if(S2)return hv.exports;S2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),hv.exports=xD(),hv.exports}var E2;function vD(){if(E2)return yp;E2=1;var e=Y5();return yp.createRoot=e.createRoot,yp.hydrateRoot=e.hydrateRoot,yp}var wD=vD(),w=B0();const He=G5(w),xm=uD({__proto__:null,default:He},[w]);var Of=Y5();const X5=G5(Of);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},rm.apply(this,arguments)}var VA;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(VA||(VA={}));const _2="popstate";function yD(e){e===void 0&&(e={});function r(a,s){let{pathname:i,search:o,hash:l}=a.location;return Rw("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(a,s){return typeof s=="string"?s:Og(s)}return ND(r,t,null,e)}function Mn(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function J5(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function bD(){return Math.random().toString(36).substr(2,8)}function F2(e,r){return{usr:e.state,key:e.key,idx:r}}function Rw(e,r,t,a){return t===void 0&&(t=null),rm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Hf(r):r,{state:t,key:r&&r.key||a||bD()})}function Og(e){let{pathname:r="/",search:t="",hash:a=""}=e;return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Hf(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substr(t),e=e.substr(0,t));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function ND(e,r,t,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l=VA.Pop,A=null,d=f();d==null&&(d=0,o.replaceState(rm({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=VA.Pop;let b=f(),N=b==null?null:b-d;d=b,A&&A({action:l,location:v.location,delta:N})}function m(b,N){l=VA.Push;let B=Rw(v.location,b,N);d=f()+1;let S=F2(B,d),F=v.createHref(B);try{o.pushState(S,"",F)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(F)}i&&A&&A({action:l,location:v.location,delta:1})}function p(b,N){l=VA.Replace;let B=Rw(v.location,b,N);d=f();let S=F2(B,d),F=v.createHref(B);o.replaceState(S,"",F),i&&A&&A({action:l,location:v.location,delta:0})}function x(b){let N=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof b=="string"?b:Og(b);return B=B.replace(/ $/,"%20"),Mn(N,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,N)}let v={get action(){return l},get location(){return e(s,o)},listen(b){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener(_2,h),A=b,()=>{s.removeEventListener(_2,h),A=null}},createHref(b){return r(s,b)},createURL:x,encodeLocation(b){let N=x(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:p,go(b){return o.go(b)}};return v}var k2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k2||(k2={}));function jD(e,r,t){return t===void 0&&(t="/"),BD(e,r,t)}function BD(e,r,t,a){let s=typeof r=="string"?Hf(r):r,i=ry(s.pathname||"/",t);if(i==null)return null;let o=Z5(e);CD(o);let l=null;for(let A=0;l==null&&A<o.length;++A){let d=RD(i);l=ID(o[A],d)}return l}function Z5(e,r,t,a){r===void 0&&(r=[]),t===void 0&&(t=[]),a===void 0&&(a="");let s=(i,o,l)=>{let A={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};A.relativePath.startsWith("/")&&(Mn(A.relativePath.startsWith(a),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(a.length));let d=XA([a,A.relativePath]),f=t.concat(A);i.children&&i.children.length>0&&(Mn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Z5(i.children,r,f,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:UD(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let A of eC(i.path))s(i,o,A)}),r}function eC(e){let r=e.split("/");if(r.length===0)return[];let[t,...a]=r,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=eC(a.join("/")),l=[];return l.push(...o.map(A=>A===""?i:[i,A].join("/"))),s&&l.push(...o),l.map(A=>e.startsWith("/")&&A===""?"/":A)}function CD(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:LD(r.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}const SD=/^:[\w-]+$/,ED=3,_D=2,FD=1,kD=10,DD=-2,D2=e=>e==="*";function UD(e,r){let t=e.split("/"),a=t.length;return t.some(D2)&&(a+=DD),r&&(a+=_D),t.filter(s=>!D2(s)).reduce((s,i)=>s+(SD.test(i)?ED:i===""?FD:kD),a)}function LD(e,r){return e.length===r.length&&e.slice(0,-1).every((a,s)=>a===r[s])?e[e.length-1]-r[r.length-1]:0}function ID(e,r,t){let{routesMeta:a}=e,s={},i="/",o=[];for(let l=0;l<a.length;++l){let A=a[l],d=l===a.length-1,f=i==="/"?r:r.slice(i.length)||"/",h=PD({path:A.relativePath,caseSensitive:A.caseSensitive,end:d},f),m=A.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:XA([i,h.pathname]),pathnameBase:HD(XA([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=XA([i,h.pathnameBase]))}return o}function PD(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,a]=QD(e.path,e.caseSensitive,e.end),s=r.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((d,f,h)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function QD(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=!0),J5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,A)=>(a.push({paramName:l,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function RD(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return J5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function ry(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,a=e.charAt(t);return a&&a!=="/"?null:e.slice(t)||"/"}function TD(e,r){r===void 0&&(r="/");let{pathname:t,search:a="",hash:s=""}=typeof e=="string"?Hf(e):e;return{pathname:t?t.startsWith("/")?t:MD(t,r):r,search:KD(a),hash:$D(s)}}function MD(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function gv(e,r,t,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OD(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function ay(e,r){let t=OD(e);return r?t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase):t.map(a=>a.pathnameBase)}function ny(e,r,t,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=Hf(e):(s=rm({},e),Mn(!s.pathname||!s.pathname.includes("?"),gv("?","pathname","search",s)),Mn(!s.pathname||!s.pathname.includes("#"),gv("#","pathname","hash",s)),Mn(!s.search||!s.search.includes("#"),gv("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=t;else{let h=r.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?r[h]:"/"}let A=TD(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&t.endsWith("/");return!A.pathname.endsWith("/")&&(d||f)&&(A.pathname+="/"),A}const XA=e=>e.join("/").replace(/\/\/+/g,"/"),HD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$D=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tC=["post","put","patch","delete"];new Set(tC);const zD=["get",...tC];new Set(zD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},am.apply(this,arguments)}const sy=w.createContext(null),qD=w.createContext(null),Ad=w.createContext(null),C0=w.createContext(null),Xl=w.createContext({outlet:null,matches:[],isDataRoute:!1}),rC=w.createContext(null);function WD(e,r){let{relative:t}=r===void 0?{}:r;Kf()||Mn(!1);let{basename:a,navigator:s}=w.useContext(Ad),{hash:i,pathname:o,search:l}=nC(e,{relative:t}),A=o;return a!=="/"&&(A=o==="/"?a:XA([a,o])),s.createHref({pathname:A,search:l,hash:i})}function Kf(){return w.useContext(C0)!=null}function Hn(){return Kf()||Mn(!1),w.useContext(C0).location}function aC(e){w.useContext(Ad).static||w.useLayoutEffect(e)}function Xn(){let{isDataRoute:e}=w.useContext(Xl);return e?cU():GD()}function GD(){Kf()||Mn(!1);let e=w.useContext(sy),{basename:r,future:t,navigator:a}=w.useContext(Ad),{matches:s}=w.useContext(Xl),{pathname:i}=Hn(),o=JSON.stringify(ay(s,t.v7_relativeSplatPath)),l=w.useRef(!1);return aC(()=>{l.current=!0}),w.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){a.go(d);return}let h=ny(d,JSON.parse(o),i,f.relative==="path");e==null&&r!=="/"&&(h.pathname=h.pathname==="/"?r:XA([r,h.pathname])),(f.replace?a.replace:a.push)(h,f.state,f)},[r,a,o,i,e])}const YD=w.createContext(null);function XD(e){let r=w.useContext(Xl).outlet;return r&&w.createElement(YD.Provider,{value:e},r)}function Al(){let{matches:e}=w.useContext(Xl),r=e[e.length-1];return r?r.params:{}}function nC(e,r){let{relative:t}=r===void 0?{}:r,{future:a}=w.useContext(Ad),{matches:s}=w.useContext(Xl),{pathname:i}=Hn(),o=JSON.stringify(ay(s,a.v7_relativeSplatPath));return w.useMemo(()=>ny(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function JD(e,r){return ZD(e,r)}function ZD(e,r,t,a){Kf()||Mn(!1);let{navigator:s}=w.useContext(Ad),{matches:i}=w.useContext(Xl),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let A=o?o.pathnameBase:"/";o&&o.route;let d=Hn(),f;if(r){var h;let b=typeof r=="string"?Hf(r):r;A==="/"||(h=b.pathname)!=null&&h.startsWith(A)||Mn(!1),f=b}else f=d;let m=f.pathname||"/",p=m;if(A!=="/"){let b=A.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=jD(e,{pathname:p}),v=nU(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:XA([A,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?A:XA([A,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,t,a);return r&&v?w.createElement(C0.Provider,{value:{location:am({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:VA.Pop}},v):v}function eU(){let e=lU(),r=VD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},r),t?w.createElement("pre",{style:s},t):null,null)}const tU=w.createElement(eU,null);class rU extends w.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?w.createElement(Xl.Provider,{value:this.props.routeContext},w.createElement(rC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aU(e){let{routeContext:r,match:t,children:a}=e,s=w.useContext(sy);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Xl.Provider,{value:r},a)}function nU(e,r,t,a){var s;if(r===void 0&&(r=[]),t===void 0&&(t=null),a===void 0&&(a=null),e==null){var i;if(!t)return null;if(t.errors)e=t.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let o=e,l=(s=t)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||Mn(!1),o=o.slice(0,Math.min(o.length,f+1))}let A=!1,d=-1;if(t&&a&&a.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:p}=t,x=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){A=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let p,x=!1,v=null,b=null;t&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||tU,A&&(d<0&&m===0?(AU("route-fallback"),x=!0,b=null):d===m&&(x=!0,b=h.route.hydrateFallbackElement||null)));let N=r.concat(o.slice(0,m+1)),B=()=>{let S;return p?S=v:x?S=b:h.route.Component?S=w.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,w.createElement(aU,{match:h,routeContext:{outlet:f,matches:N,isDataRoute:t!=null},children:S})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?w.createElement(rU,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:B(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):B()},null)}var sC=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(sC||{}),iC=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(iC||{});function sU(e){let r=w.useContext(sy);return r||Mn(!1),r}function iU(e){let r=w.useContext(qD);return r||Mn(!1),r}function oU(e){let r=w.useContext(Xl);return r||Mn(!1),r}function oC(e){let r=oU(),t=r.matches[r.matches.length-1];return t.route.id||Mn(!1),t.route.id}function lU(){var e;let r=w.useContext(rC),t=iU(),a=oC();return r!==void 0?r:(e=t.errors)==null?void 0:e[a]}function cU(){let{router:e}=sU(sC.UseNavigateStable),r=oC(iC.UseNavigateStable),t=w.useRef(!1);return aC(()=>{t.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,am({fromRouteId:r},i)))},[e,r])}const U2={};function AU(e,r,t){U2[e]||(U2[e]=!0)}function dU(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ra(e){let{to:r,replace:t,state:a,relative:s}=e;Kf()||Mn(!1);let{future:i,static:o}=w.useContext(Ad),{matches:l}=w.useContext(Xl),{pathname:A}=Hn(),d=Xn(),f=ny(r,ay(l,i.v7_relativeSplatPath),A,s==="path"),h=JSON.stringify(f);return w.useEffect(()=>d(JSON.parse(h),{replace:t,state:a,relative:s}),[d,h,s,t,a]),null}function vm(e){return XD(e.context)}function $t(e){Mn(!1)}function uU(e){let{basename:r="/",children:t=null,location:a,navigationType:s=VA.Pop,navigator:i,static:o=!1,future:l}=e;Kf()&&Mn(!1);let A=r.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:A,navigator:i,static:o,future:am({v7_relativeSplatPath:!1},l)}),[A,l,i,o]);typeof a=="string"&&(a=Hf(a));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:x="default"}=a,v=w.useMemo(()=>{let b=ry(f,A);return b==null?null:{location:{pathname:b,search:h,hash:m,state:p,key:x},navigationType:s}},[A,f,h,m,p,x,s]);return v==null?null:w.createElement(Ad.Provider,{value:d},w.createElement(C0.Provider,{children:t,value:v}))}function fU(e){let{children:r,location:t}=e;return JD(Tw(r),t)}new Promise(()=>{});function Tw(e,r){r===void 0&&(r=[]);let t=[];return w.Children.forEach(e,(a,s)=>{if(!w.isValidElement(a))return;let i=[...r,s];if(a.type===w.Fragment){t.push.apply(t,Tw(a.props.children,i));return}a.type!==$t&&Mn(!1),!a.props.index||!a.props.children||Mn(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Tw(a.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Mw.apply(this,arguments)}function hU(e,r){if(e==null)return{};var t={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(t[s]=e[s]);return t}function mU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pU(e,r){return e.button===0&&(!r||r==="_self")&&!mU(e)}function Ow(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let a=e[t];return r.concat(Array.isArray(a)?a.map(s=>[t,s]):[[t,a]])},[]))}function gU(e,r){let t=Ow(e);return r&&r.forEach((a,s)=>{t.has(s)||r.getAll(s).forEach(i=>{t.append(s,i)})}),t}const xU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vU="6";try{window.__reactRouterVersion=vU}catch{}const wU="startTransition",L2=xm[wU];function yU(e){let{basename:r,children:t,future:a,window:s}=e,i=w.useRef();i.current==null&&(i.current=yD({window:s,v5Compat:!0}));let o=i.current,[l,A]=w.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},f=w.useCallback(h=>{d&&L2?L2(()=>A(h)):A(h)},[A,d]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.useEffect(()=>dU(a),[a]),w.createElement(uU,{basename:r,children:t,location:l.location,navigationType:l.action,navigator:o,future:a})}const bU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gr=w.forwardRef(function(r,t){let{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:A,to:d,preventScrollReset:f,viewTransition:h}=r,m=hU(r,xU),{basename:p}=w.useContext(Ad),x,v=!1;if(typeof d=="string"&&NU.test(d)&&(x=d,bU))try{let S=new URL(window.location.href),F=d.startsWith("//")?new URL(S.protocol+d):new URL(d),L=ry(F.pathname,p);F.origin===S.origin&&L!=null?d=L+F.search+F.hash:v=!0}catch{}let b=WD(d,{relative:s}),N=jU(d,{replace:o,state:l,target:A,preventScrollReset:f,relative:s,viewTransition:h});function B(S){a&&a(S),S.defaultPrevented||N(S)}return w.createElement("a",Mw({},m,{href:x||b,onClick:v||i?a:B,ref:t,target:A}))});var I2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I2||(I2={}));var P2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(P2||(P2={}));function jU(e,r){let{target:t,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,A=Xn(),d=Hn(),f=nC(e,{relative:o});return w.useCallback(h=>{if(pU(h,t)){h.preventDefault();let m=a!==void 0?a:Og(d)===Og(f);A(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,A,f,a,s,t,e,i,o,l])}function BU(e){let r=w.useRef(Ow(e)),t=w.useRef(!1),a=Hn(),s=w.useMemo(()=>gU(a.search,t.current?null:r.current),[a.search]),i=Xn(),o=w.useCallback((l,A)=>{const d=Ow(typeof l=="function"?l(s):l);t.current=!0,i("?"+d,A)},[i,s]);return[s,o]}function lC(e,r){return function(){return e.apply(r,arguments)}}const{toString:CU}=Object.prototype,{getPrototypeOf:iy}=Object,{iterator:S0,toStringTag:cC}=Symbol,E0=(e=>r=>{const t=CU.call(r);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),dl=e=>(e=e.toLowerCase(),r=>E0(r)===e),_0=e=>r=>typeof r===e,{isArray:$f}=Array,Df=_0("undefined");function wm(e){return e!==null&&!Df(e)&&e.constructor!==null&&!Df(e.constructor)&&Ui(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const AC=dl("ArrayBuffer");function SU(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&AC(e.buffer),r}const EU=_0("string"),Ui=_0("function"),dC=_0("number"),ym=e=>e!==null&&typeof e=="object",_U=e=>e===!0||e===!1,mg=e=>{if(E0(e)!=="object")return!1;const r=iy(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(cC in e)&&!(S0 in e)},FU=e=>{if(!ym(e)||wm(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},kU=dl("Date"),DU=dl("File"),UU=dl("Blob"),LU=dl("FileList"),IU=e=>ym(e)&&Ui(e.pipe),PU=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Ui(e.append)&&((r=E0(e))==="formdata"||r==="object"&&Ui(e.toString)&&e.toString()==="[object FormData]"))},QU=dl("URLSearchParams"),[RU,TU,MU,OU]=["ReadableStream","Request","Response","Headers"].map(dl),HU=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bm(e,r,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),$f(e))for(a=0,s=e.length;a<s;a++)r.call(null,e[a],a,e);else{if(wm(e))return;const i=t?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],r.call(null,e[l],l,e)}}function uC(e,r){if(wm(e))return null;r=r.toLowerCase();const t=Object.keys(e);let a=t.length,s;for(;a-- >0;)if(s=t[a],r===s.toLowerCase())return s;return null}const Jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fC=e=>!Df(e)&&e!==Jd;function Hw(){const{caseless:e,skipUndefined:r}=fC(this)&&this||{},t={},a=(s,i)=>{const o=e&&uC(t,i)||i;mg(t[o])&&mg(s)?t[o]=Hw(t[o],s):mg(s)?t[o]=Hw({},s):$f(s)?t[o]=s.slice():(!r||!Df(s))&&(t[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&bm(arguments[s],a);return t}const KU=(e,r,t,{allOwnKeys:a}={})=>(bm(r,(s,i)=>{t&&Ui(s)?e[i]=lC(s,t):e[i]=s},{allOwnKeys:a}),e),$U=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),VU=(e,r,t,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),t&&Object.assign(e.prototype,t)},zU=(e,r,t,a)=>{let s,i,o;const l={};if(r=r||{},e==null)return r;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!a||a(o,e,r))&&!l[o]&&(r[o]=e[o],l[o]=!0);e=t!==!1&&iy(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r},qU=(e,r,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=r.length;const a=e.indexOf(r,t);return a!==-1&&a===t},WU=e=>{if(!e)return null;if($f(e))return e;let r=e.length;if(!dC(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=e[r];return t},GU=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&iy(Uint8Array)),YU=(e,r)=>{const a=(e&&e[S0]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;r.call(e,i[0],i[1])}},XU=(e,r)=>{let t;const a=[];for(;(t=e.exec(r))!==null;)a.push(t);return a},JU=dl("HTMLFormElement"),ZU=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,a,s){return a.toUpperCase()+s}),Q2=(({hasOwnProperty:e})=>(r,t)=>e.call(r,t))(Object.prototype),e6=dl("RegExp"),hC=(e,r)=>{const t=Object.getOwnPropertyDescriptors(e),a={};bm(t,(s,i)=>{let o;(o=r(s,i,e))!==!1&&(a[i]=o||s)}),Object.defineProperties(e,a)},t6=e=>{hC(e,(r,t)=>{if(Ui(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const a=e[t];if(Ui(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},r6=(e,r)=>{const t={},a=s=>{s.forEach(i=>{t[i]=!0})};return $f(e)?a(e):a(String(e).split(r)),t},a6=()=>{},n6=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function s6(e){return!!(e&&Ui(e.append)&&e[cC]==="FormData"&&e[S0])}const i6=e=>{const r=new Array(10),t=(a,s)=>{if(ym(a)){if(r.indexOf(a)>=0)return;if(wm(a))return a;if(!("toJSON"in a)){r[s]=a;const i=$f(a)?[]:{};return bm(a,(o,l)=>{const A=t(o,s+1);!Df(A)&&(i[l]=A)}),r[s]=void 0,i}}return a};return t(e,0)},o6=dl("AsyncFunction"),l6=e=>e&&(ym(e)||Ui(e))&&Ui(e.then)&&Ui(e.catch),mC=((e,r)=>e?setImmediate:r?((t,a)=>(Jd.addEventListener("message",({source:s,data:i})=>{s===Jd&&i===t&&a.length&&a.shift()()},!1),s=>{a.push(s),Jd.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ui(Jd.postMessage)),c6=typeof queueMicrotask<"u"?queueMicrotask.bind(Jd):typeof process<"u"&&process.nextTick||mC,A6=e=>e!=null&&Ui(e[S0]),Me={isArray:$f,isArrayBuffer:AC,isBuffer:wm,isFormData:PU,isArrayBufferView:SU,isString:EU,isNumber:dC,isBoolean:_U,isObject:ym,isPlainObject:mg,isEmptyObject:FU,isReadableStream:RU,isRequest:TU,isResponse:MU,isHeaders:OU,isUndefined:Df,isDate:kU,isFile:DU,isBlob:UU,isRegExp:e6,isFunction:Ui,isStream:IU,isURLSearchParams:QU,isTypedArray:GU,isFileList:LU,forEach:bm,merge:Hw,extend:KU,trim:HU,stripBOM:$U,inherits:VU,toFlatObject:zU,kindOf:E0,kindOfTest:dl,endsWith:qU,toArray:WU,forEachEntry:YU,matchAll:XU,isHTMLForm:JU,hasOwnProperty:Q2,hasOwnProp:Q2,reduceDescriptors:hC,freezeMethods:t6,toObjectSet:r6,toCamelCase:ZU,noop:a6,toFiniteNumber:n6,findKey:uC,global:Jd,isContextDefined:fC,isSpecCompliantForm:s6,toJSONObject:i6,isAsyncFn:o6,isThenable:l6,setImmediate:mC,asap:c6,isIterable:A6};function Ir(e,r,t,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Me.inherits(Ir,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}});const pC=Ir.prototype,gC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gC[e]={value:e}});Object.defineProperties(Ir,gC);Object.defineProperty(pC,"isAxiosError",{value:!0});Ir.from=(e,r,t,a,s,i)=>{const o=Object.create(pC);Me.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",A=r==null&&e?e.code:r;return Ir.call(o,l,A,t,a,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const d6=null;function Kw(e){return Me.isPlainObject(e)||Me.isArray(e)}function xC(e){return Me.endsWith(e,"[]")?e.slice(0,-2):e}function R2(e,r,t){return e?e.concat(r).map(function(s,i){return s=xC(s),!t&&i?"["+s+"]":s}).join(t?".":""):r}function u6(e){return Me.isArray(e)&&!e.some(Kw)}const f6=Me.toFlatObject(Me,{},null,function(r){return/^is[A-Z]/.test(r)});function F0(e,r,t){if(!Me.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,t=Me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!Me.isUndefined(b[v])});const a=t.metaTokens,s=t.visitor||f,i=t.dots,o=t.indexes,A=(t.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(r);if(!Me.isFunction(s))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(Me.isDate(x))return x.toISOString();if(Me.isBoolean(x))return x.toString();if(!A&&Me.isBlob(x))throw new Ir("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(x)||Me.isTypedArray(x)?A&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,v,b){let N=x;if(x&&!b&&typeof x=="object"){if(Me.endsWith(v,"{}"))v=a?v:v.slice(0,-2),x=JSON.stringify(x);else if(Me.isArray(x)&&u6(x)||(Me.isFileList(x)||Me.endsWith(v,"[]"))&&(N=Me.toArray(x)))return v=xC(v),N.forEach(function(S,F){!(Me.isUndefined(S)||S===null)&&r.append(o===!0?R2([v],F,i):o===null?v:v+"[]",d(S))}),!1}return Kw(x)?!0:(r.append(R2(b,v,i),d(x)),!1)}const h=[],m=Object.assign(f6,{defaultVisitor:f,convertValue:d,isVisitable:Kw});function p(x,v){if(!Me.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(x),Me.forEach(x,function(N,B){(!(Me.isUndefined(N)||N===null)&&s.call(r,N,Me.isString(B)?B.trim():B,v,m))===!0&&p(N,v?v.concat(B):[B])}),h.pop()}}if(!Me.isObject(e))throw new TypeError("data must be an object");return p(e),r}function T2(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function oy(e,r){this._pairs=[],e&&F0(e,this,r)}const vC=oy.prototype;vC.append=function(r,t){this._pairs.push([r,t])};vC.toString=function(r){const t=r?function(a){return r.call(this,a,T2)}:T2;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function h6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wC(e,r,t){if(!r)return e;const a=t&&t.encode||h6;Me.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(r,t):i=Me.isURLSearchParams(r)?r.toString():new oy(r,t).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class M2{constructor(){this.handlers=[]}use(r,t,a){return this.handlers.push({fulfilled:r,rejected:t,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Me.forEach(this.handlers,function(a){a!==null&&r(a)})}}const yC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},m6=typeof URLSearchParams<"u"?URLSearchParams:oy,p6=typeof FormData<"u"?FormData:null,g6=typeof Blob<"u"?Blob:null,x6={isBrowser:!0,classes:{URLSearchParams:m6,FormData:p6,Blob:g6},protocols:["http","https","file","blob","url","data"]},ly=typeof window<"u"&&typeof document<"u",$w=typeof navigator=="object"&&navigator||void 0,v6=ly&&(!$w||["ReactNative","NativeScript","NS"].indexOf($w.product)<0),w6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",y6=ly&&window.location.href||"http://localhost",b6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ly,hasStandardBrowserEnv:v6,hasStandardBrowserWebWorkerEnv:w6,navigator:$w,origin:y6},Symbol.toStringTag,{value:"Module"})),Ys={...b6,...x6};function N6(e,r){return F0(e,new Ys.classes.URLSearchParams,{visitor:function(t,a,s,i){return Ys.isNode&&Me.isBuffer(t)?(this.append(a,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function j6(e){return Me.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function B6(e){const r={},t=Object.keys(e);let a;const s=t.length;let i;for(a=0;a<s;a++)i=t[a],r[i]=e[i];return r}function bC(e){function r(t,a,s,i){let o=t[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),A=i>=t.length;return o=!o&&Me.isArray(s)?s.length:o,A?(Me.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!l):((!s[o]||!Me.isObject(s[o]))&&(s[o]=[]),r(t,a,s[o],i)&&Me.isArray(s[o])&&(s[o]=B6(s[o])),!l)}if(Me.isFormData(e)&&Me.isFunction(e.entries)){const t={};return Me.forEachEntry(e,(a,s)=>{r(j6(a),s,t,0)}),t}return null}function C6(e,r,t){if(Me.isString(e))try{return(r||JSON.parse)(e),Me.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(t||JSON.stringify)(e)}const Nm={transitional:yC,adapter:["xhr","http","fetch"],transformRequest:[function(r,t){const a=t.getContentType()||"",s=a.indexOf("application/json")>-1,i=Me.isObject(r);if(i&&Me.isHTMLForm(r)&&(r=new FormData(r)),Me.isFormData(r))return s?JSON.stringify(bC(r)):r;if(Me.isArrayBuffer(r)||Me.isBuffer(r)||Me.isStream(r)||Me.isFile(r)||Me.isBlob(r)||Me.isReadableStream(r))return r;if(Me.isArrayBufferView(r))return r.buffer;if(Me.isURLSearchParams(r))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return N6(r,this.formSerializer).toString();if((l=Me.isFileList(r))||a.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return F0(l?{"files[]":r}:r,A&&new A,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),C6(r)):r}],transformResponse:[function(r){const t=this.transitional||Nm.transitional,a=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Me.isResponse(r)||Me.isReadableStream(r))return r;if(r&&Me.isString(r)&&(a&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Ir.from(l,Ir.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ys.classes.FormData,Blob:Ys.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],e=>{Nm.headers[e]={}});const S6=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),E6=e=>{const r={};let t,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!t||r[t]&&S6[t])&&(t==="set-cookie"?r[t]?r[t].push(a):r[t]=[a]:r[t]=r[t]?r[t]+", "+a:a)}),r},O2=Symbol("internals");function Sh(e){return e&&String(e).trim().toLowerCase()}function pg(e){return e===!1||e==null?e:Me.isArray(e)?e.map(pg):String(e)}function _6(e){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=t.exec(e);)r[a[1]]=a[2];return r}const F6=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function xv(e,r,t,a,s){if(Me.isFunction(a))return a.call(this,r,t);if(s&&(r=t),!!Me.isString(r)){if(Me.isString(a))return r.indexOf(a)!==-1;if(Me.isRegExp(a))return a.test(r)}}function k6(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,t,a)=>t.toUpperCase()+a)}function D6(e,r){const t=Me.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+t,{value:function(s,i,o){return this[a].call(this,r,s,i,o)},configurable:!0})})}let Li=class{constructor(r){r&&this.set(r)}set(r,t,a){const s=this;function i(l,A,d){const f=Sh(A);if(!f)throw new Error("header name must be a non-empty string");const h=Me.findKey(s,f);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||A]=pg(l))}const o=(l,A)=>Me.forEach(l,(d,f)=>i(d,f,A));if(Me.isPlainObject(r)||r instanceof this.constructor)o(r,t);else if(Me.isString(r)&&(r=r.trim())&&!F6(r))o(E6(r),t);else if(Me.isObject(r)&&Me.isIterable(r)){let l={},A,d;for(const f of r){if(!Me.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(A=l[d])?Me.isArray(A)?[...A,f[1]]:[A,f[1]]:f[1]}o(l,t)}else r!=null&&i(t,r,a);return this}get(r,t){if(r=Sh(r),r){const a=Me.findKey(this,r);if(a){const s=this[a];if(!t)return s;if(t===!0)return _6(s);if(Me.isFunction(t))return t.call(this,s,a);if(Me.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,t){if(r=Sh(r),r){const a=Me.findKey(this,r);return!!(a&&this[a]!==void 0&&(!t||xv(this,this[a],a,t)))}return!1}delete(r,t){const a=this;let s=!1;function i(o){if(o=Sh(o),o){const l=Me.findKey(a,o);l&&(!t||xv(a,a[l],l,t))&&(delete a[l],s=!0)}}return Me.isArray(r)?r.forEach(i):i(r),s}clear(r){const t=Object.keys(this);let a=t.length,s=!1;for(;a--;){const i=t[a];(!r||xv(this,this[i],i,r,!0))&&(delete this[i],s=!0)}return s}normalize(r){const t=this,a={};return Me.forEach(this,(s,i)=>{const o=Me.findKey(a,i);if(o){t[o]=pg(s),delete t[i];return}const l=r?k6(i):String(i).trim();l!==i&&delete t[i],t[l]=pg(s),a[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const t=Object.create(null);return Me.forEach(this,(a,s)=>{a!=null&&a!==!1&&(t[s]=r&&Me.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,t])=>r+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...t){const a=new this(r);return t.forEach(s=>a.set(s)),a}static accessor(r){const a=(this[O2]=this[O2]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Sh(o);a[l]||(D6(s,o),a[l]=!0)}return Me.isArray(r)?r.forEach(i):i(r),this}};Li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(Li.prototype,({value:e},r)=>{let t=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[t]=a}}});Me.freezeMethods(Li);function vv(e,r){const t=this||Nm,a=r||t,s=Li.from(a.headers);let i=a.data;return Me.forEach(e,function(l){i=l.call(t,i,s.normalize(),r?r.status:void 0)}),s.normalize(),i}function NC(e){return!!(e&&e.__CANCEL__)}function Vf(e,r,t){Ir.call(this,e??"canceled",Ir.ERR_CANCELED,r,t),this.name="CanceledError"}Me.inherits(Vf,Ir,{__CANCEL__:!0});function jC(e,r,t){const a=t.config.validateStatus;!t.status||!a||a(t.status)?e(t):r(new Ir("Request failed with status code "+t.status,[Ir.ERR_BAD_REQUEST,Ir.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function U6(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function L6(e,r){e=e||10;const t=new Array(e),a=new Array(e);let s=0,i=0,o;return r=r!==void 0?r:1e3,function(A){const d=Date.now(),f=a[i];o||(o=d),t[s]=A,a[s]=d;let h=i,m=0;for(;h!==s;)m+=t[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<r)return;const p=f&&d-f;return p?Math.round(m*1e3/p):void 0}}function I6(e,r){let t=0,a=1e3/r,s,i;const o=(d,f=Date.now())=>{t=f,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-t;h>=a?o(d,f):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},a-h)))},()=>s&&o(s)]}const Hg=(e,r,t=3)=>{let a=0;const s=L6(50,250);return I6(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,A=o-a,d=s(A),f=o<=l;a=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:A,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};e(h)},t)},H2=(e,r)=>{const t=e!=null;return[a=>r[0]({lengthComputable:t,total:e,loaded:a}),r[1]]},K2=e=>(...r)=>Me.asap(()=>e(...r)),P6=Ys.hasStandardBrowserEnv?((e,r)=>t=>(t=new URL(t,Ys.origin),e.protocol===t.protocol&&e.host===t.host&&(r||e.port===t.port)))(new URL(Ys.origin),Ys.navigator&&/(msie|trident)/i.test(Ys.navigator.userAgent)):()=>!0,Q6=Ys.hasStandardBrowserEnv?{write(e,r,t,a,s,i){const o=[e+"="+encodeURIComponent(r)];Me.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Me.isString(a)&&o.push("path="+a),Me.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function R6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function T6(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function BC(e,r,t){let a=!R6(r);return e&&(a||t==!1)?T6(e,r):r}const $2=e=>e instanceof Li?{...e}:e;function lu(e,r){r=r||{};const t={};function a(d,f,h,m){return Me.isPlainObject(d)&&Me.isPlainObject(f)?Me.merge.call({caseless:m},d,f):Me.isPlainObject(f)?Me.merge({},f):Me.isArray(f)?f.slice():f}function s(d,f,h,m){if(Me.isUndefined(f)){if(!Me.isUndefined(d))return a(void 0,d,h,m)}else return a(d,f,h,m)}function i(d,f){if(!Me.isUndefined(f))return a(void 0,f)}function o(d,f){if(Me.isUndefined(f)){if(!Me.isUndefined(d))return a(void 0,d)}else return a(void 0,f)}function l(d,f,h){if(h in r)return a(d,f);if(h in e)return a(void 0,d)}const A={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,h)=>s($2(d),$2(f),h,!0)};return Me.forEach(Object.keys({...e,...r}),function(f){const h=A[f]||s,m=h(e[f],r[f],f);Me.isUndefined(m)&&h!==l||(t[f]=m)}),t}const CC=e=>{const r=lu({},e);let{data:t,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=r;if(r.headers=o=Li.from(o),r.url=wC(BC(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Me.isFormData(t)){if(Ys.hasStandardBrowserEnv||Ys.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Me.isFunction(t.getHeaders)){const A=t.getHeaders(),d=["content-type","content-length"];Object.entries(A).forEach(([f,h])=>{d.includes(f.toLowerCase())&&o.set(f,h)})}}if(Ys.hasStandardBrowserEnv&&(a&&Me.isFunction(a)&&(a=a(r)),a||a!==!1&&P6(r.url))){const A=s&&i&&Q6.read(i);A&&o.set(s,A)}return r},M6=typeof XMLHttpRequest<"u",O6=M6&&function(e){return new Promise(function(t,a){const s=CC(e);let i=s.data;const o=Li.from(s.headers).normalize();let{responseType:l,onUploadProgress:A,onDownloadProgress:d}=s,f,h,m,p,x;function v(){p&&p(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function N(){if(!b)return;const S=Li.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),L={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:e,request:b};jC(function(U){t(U),v()},function(U){a(U),v()},L),b=null}"onloadend"in b?b.onloadend=N:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(N)},b.onabort=function(){b&&(a(new Ir("Request aborted",Ir.ECONNABORTED,e,b)),b=null)},b.onerror=function(F){const L=F&&F.message?F.message:"Network Error",M=new Ir(L,Ir.ERR_NETWORK,e,b);M.event=F||null,a(M),b=null},b.ontimeout=function(){let F=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const L=s.transitional||yC;s.timeoutErrorMessage&&(F=s.timeoutErrorMessage),a(new Ir(F,L.clarifyTimeoutError?Ir.ETIMEDOUT:Ir.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&Me.forEach(o.toJSON(),function(F,L){b.setRequestHeader(L,F)}),Me.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),d&&([m,x]=Hg(d,!0),b.addEventListener("progress",m)),A&&b.upload&&([h,p]=Hg(A),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(f=S=>{b&&(a(!S||S.type?new Vf(null,e,b):S),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const B=U6(s.url);if(B&&Ys.protocols.indexOf(B)===-1){a(new Ir("Unsupported protocol "+B+":",Ir.ERR_BAD_REQUEST,e));return}b.send(i||null)})},H6=(e,r)=>{const{length:t}=e=e?e.filter(Boolean):[];if(r||t){let a=new AbortController,s;const i=function(d){if(!s){s=!0,l();const f=d instanceof Error?d:this.reason;a.abort(f instanceof Ir?f:new Vf(f instanceof Error?f.message:f))}};let o=r&&setTimeout(()=>{o=null,i(new Ir(`timeout ${r} of ms exceeded`,Ir.ETIMEDOUT))},r);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:A}=a;return A.unsubscribe=()=>Me.asap(l),A}},K6=function*(e,r){let t=e.byteLength;if(t<r){yield e;return}let a=0,s;for(;a<t;)s=a+r,yield e.slice(a,s),a=s},$6=async function*(e,r){for await(const t of V6(e))yield*K6(t,r)},V6=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:t,value:a}=await r.read();if(t)break;yield a}}finally{await r.cancel()}},V2=(e,r,t,a)=>{const s=$6(e,r);let i=0,o,l=A=>{o||(o=!0,a&&a(A))};return new ReadableStream({async pull(A){try{const{done:d,value:f}=await s.next();if(d){l(),A.close();return}let h=f.byteLength;if(t){let m=i+=h;t(m)}A.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(A){return l(A),s.return()}},{highWaterMark:2})},z2=64*1024,{isFunction:bp}=Me,z6=(({Request:e,Response:r})=>({Request:e,Response:r}))(Me.global),{ReadableStream:q2,TextEncoder:W2}=Me.global,G2=(e,...r)=>{try{return!!e(...r)}catch{return!1}},q6=e=>{e=Me.merge.call({skipUndefined:!0},z6,e);const{fetch:r,Request:t,Response:a}=e,s=r?bp(r):typeof fetch=="function",i=bp(t),o=bp(a);if(!s)return!1;const l=s&&bp(q2),A=s&&(typeof W2=="function"?(x=>v=>x.encode(v))(new W2):async x=>new Uint8Array(await new t(x).arrayBuffer())),d=i&&l&&G2(()=>{let x=!1;const v=new t(Ys.origin,{body:new q2,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!v}),f=o&&l&&G2(()=>Me.isReadableStream(new a("").body)),h={stream:f&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(v,b)=>{let N=v&&v[x];if(N)return N.call(v);throw new Ir(`Response type '${x}' is not supported`,Ir.ERR_NOT_SUPPORT,b)})});const m=async x=>{if(x==null)return 0;if(Me.isBlob(x))return x.size;if(Me.isSpecCompliantForm(x))return(await new t(Ys.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(x)||Me.isArrayBuffer(x))return x.byteLength;if(Me.isURLSearchParams(x)&&(x=x+""),Me.isString(x))return(await A(x)).byteLength},p=async(x,v)=>{const b=Me.toFiniteNumber(x.getContentLength());return b??m(v)};return async x=>{let{url:v,method:b,data:N,signal:B,cancelToken:S,timeout:F,onDownloadProgress:L,onUploadProgress:M,responseType:U,headers:I,withCredentials:_="same-origin",fetchOptions:W}=CC(x),Q=r||fetch;U=U?(U+"").toLowerCase():"text";let K=H6([B,S&&S.toAbortSignal()],F),X=null;const R=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let re;try{if(M&&d&&b!=="get"&&b!=="head"&&(re=await p(I,N))!==0){let E=new t(v,{method:"POST",body:N,duplex:"half"}),P;if(Me.isFormData(N)&&(P=E.headers.get("content-type"))&&I.setContentType(P),E.body){const[Y,z]=H2(re,Hg(K2(M)));N=V2(E.body,z2,Y,z)}}Me.isString(_)||(_=_?"include":"omit");const $=i&&"credentials"in t.prototype,V={...W,signal:K,method:b.toUpperCase(),headers:I.normalize().toJSON(),body:N,duplex:"half",credentials:$?_:void 0};X=i&&new t(v,V);let Z=await(i?Q(X,W):Q(v,V));const ie=f&&(U==="stream"||U==="response");if(f&&(L||ie&&R)){const E={};["status","statusText","headers"].forEach(J=>{E[J]=Z[J]});const P=Me.toFiniteNumber(Z.headers.get("content-length")),[Y,z]=L&&H2(P,Hg(K2(L),!0))||[];Z=new a(V2(Z.body,z2,Y,()=>{z&&z(),R&&R()}),E)}U=U||"text";let ue=await h[Me.findKey(h,U)||"text"](Z,x);return!ie&&R&&R(),await new Promise((E,P)=>{jC(E,P,{data:ue,headers:Li.from(Z.headers),status:Z.status,statusText:Z.statusText,config:x,request:X})})}catch($){throw R&&R(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Ir("Network Error",Ir.ERR_NETWORK,x,X),{cause:$.cause||$}):Ir.from($,$&&$.code,x,X)}}},W6=new Map,SC=e=>{let r=e?e.env:{};const{fetch:t,Request:a,Response:s}=r,i=[a,s,t];let o=i.length,l=o,A,d,f=W6;for(;l--;)A=i[l],d=f.get(A),d===void 0&&f.set(A,d=l?new Map:q6(r)),f=d;return d};SC();const Vw={http:d6,xhr:O6,fetch:{get:SC}};Me.forEach(Vw,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const Y2=e=>`- ${e}`,G6=e=>Me.isFunction(e)||e===null||e===!1,EC={getAdapter:(e,r)=>{e=Me.isArray(e)?e:[e];const{length:t}=e;let a,s;const i={};for(let o=0;o<t;o++){a=e[o];let l;if(s=a,!G6(a)&&(s=Vw[(l=String(a)).toLowerCase()],s===void 0))throw new Ir(`Unknown adapter '${l}'`);if(s&&(Me.isFunction(s)||(s=s.get(r))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([A,d])=>`adapter ${A} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(Y2).join(`
`):" "+Y2(o[0]):"as no adapter specified";throw new Ir("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Vw};function wv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vf(null,e)}function X2(e){return wv(e),e.headers=Li.from(e.headers),e.data=vv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),EC.getAdapter(e.adapter||Nm.adapter,e)(e).then(function(a){return wv(e),a.data=vv.call(e,e.transformResponse,a),a.headers=Li.from(a.headers),a},function(a){return NC(a)||(wv(e),a&&a.response&&(a.response.data=vv.call(e,e.transformResponse,a.response),a.response.headers=Li.from(a.response.headers))),Promise.reject(a)})}const _C="1.12.2",k0={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{k0[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const J2={};k0.transitional=function(r,t,a){function s(i,o){return"[Axios v"+_C+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(r===!1)throw new Ir(s(o," has been removed"+(t?" in "+t:"")),Ir.ERR_DEPRECATED);return t&&!J2[o]&&(J2[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),r?r(i,o,l):!0}};k0.spelling=function(r){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function Y6(e,r,t){if(typeof e!="object")throw new Ir("options must be an object",Ir.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],o=r[i];if(o){const l=e[i],A=l===void 0||o(l,i,e);if(A!==!0)throw new Ir("option "+i+" must be "+A,Ir.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ir("Unknown option "+i,Ir.ERR_BAD_OPTION)}}const gg={assertOptions:Y6,validators:k0},kl=gg.validators;let tu=class{constructor(r){this.defaults=r||{},this.interceptors={request:new M2,response:new M2}}async request(r,t){try{return await this._request(r,t)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,t){typeof r=="string"?(t=t||{},t.url=r):t=r||{},t=lu(this.defaults,t);const{transitional:a,paramsSerializer:s,headers:i}=t;a!==void 0&&gg.assertOptions(a,{silentJSONParsing:kl.transitional(kl.boolean),forcedJSONParsing:kl.transitional(kl.boolean),clarifyTimeoutError:kl.transitional(kl.boolean)},!1),s!=null&&(Me.isFunction(s)?t.paramsSerializer={serialize:s}:gg.assertOptions(s,{encode:kl.function,serialize:kl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),gg.assertOptions(t,{baseUrl:kl.spelling("baseURL"),withXsrfToken:kl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Me.merge(i.common,i[t.method]);i&&Me.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),t.headers=Li.concat(o,i);const l=[];let A=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(A=A&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let f,h=0,m;if(!A){const x=[X2.bind(this),void 0];for(x.unshift(...l),x.push(...d),m=x.length,f=Promise.resolve(t);h<m;)f=f.then(x[h++],x[h++]);return f}m=l.length;let p=t;for(;h<m;){const x=l[h++],v=l[h++];try{p=x(p)}catch(b){v.call(this,b);break}}try{f=X2.call(this,p)}catch(x){return Promise.reject(x)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(r){r=lu(this.defaults,r);const t=BC(r.baseURL,r.url,r.allowAbsoluteUrls);return wC(t,r.params,r.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(r){tu.prototype[r]=function(t,a){return this.request(lu(a||{},{method:r,url:t,data:(a||{}).data}))}});Me.forEach(["post","put","patch"],function(r){function t(a){return function(i,o,l){return this.request(lu(l||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}tu.prototype[r]=t(),tu.prototype[r+"Form"]=t(!0)});let X6=class FC{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,l){a.reason||(a.reason=new Vf(i,o,l),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const t=this._listeners.indexOf(r);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const r=new AbortController,t=a=>{r.abort(a)};return this.subscribe(t),r.signal.unsubscribe=()=>this.unsubscribe(t),r.signal}static source(){let r;return{token:new FC(function(s){r=s}),cancel:r}}};function J6(e){return function(t){return e.apply(null,t)}}function Z6(e){return Me.isObject(e)&&e.isAxiosError===!0}const zw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zw).forEach(([e,r])=>{zw[r]=e});function kC(e){const r=new tu(e),t=lC(tu.prototype.request,r);return Me.extend(t,tu.prototype,r,{allOwnKeys:!0}),Me.extend(t,r,null,{allOwnKeys:!0}),t.create=function(s){return kC(lu(e,s))},t}const On=kC(Nm);On.Axios=tu;On.CanceledError=Vf;On.CancelToken=X6;On.isCancel=NC;On.VERSION=_C;On.toFormData=F0;On.AxiosError=Ir;On.Cancel=On.CanceledError;On.all=function(r){return Promise.all(r)};On.spread=J6;On.isAxiosError=Z6;On.mergeConfig=lu;On.AxiosHeaders=Li;On.formToJSON=e=>bC(Me.isHTMLForm(e)?new FormData(e):e);On.getAdapter=EC.getAdapter;On.HttpStatusCode=zw;On.default=On;const{Axios:sZ,AxiosError:iZ,CanceledError:oZ,isCancel:lZ,CancelToken:cZ,VERSION:AZ,all:dZ,Cancel:uZ,isAxiosError:fZ,spread:hZ,toFormData:mZ,AxiosHeaders:pZ,HttpStatusCode:gZ,formToJSON:xZ,getAdapter:vZ,mergeConfig:wZ}=On;function eL(e){if(!e)return"";try{const t=Math.random().toString(36).substring(2,15)+"|"+e;return btoa(t).split("").reverse().join("")}catch(r){return console.warn("Erro na criptografia, usando texto plano:",r),e}}function tL(e){if(!e)return"";try{const r=atob(e.split("").reverse().join("")),t=r.split("|");return t.length>1?t.slice(1).join("|"):r}catch(r){return console.warn("Erro na descriptografia, retornando texto original:",r),e}}const pr={setItem(e,r){try{const t=eL(typeof r=="string"?r:JSON.stringify(r));return localStorage.setItem(`secure_${e}`,t),!0}catch(t){return console.error("Erro ao armazenar item seguro:",t),!1}},getItem(e){try{const r=localStorage.getItem(`secure_${e}`);if(!r)return null;const t=tL(r);try{return JSON.parse(t)}catch{return t}}catch(r){return console.error("Erro ao recuperar item seguro:",r),null}},removeItem(e){try{return localStorage.removeItem(`secure_${e}`),!0}catch(r){return console.error("Erro ao remover item seguro:",r),!1}},clear(){try{return Object.keys(localStorage).filter(r=>r.startsWith("secure_")).forEach(r=>localStorage.removeItem(r)),!0}catch(e){return console.error("Erro ao limpar armazenamento seguro:",e),!1}},migrateFromPlainStorage(e,r=e){try{const t=localStorage.getItem(e);return t?(this.setItem(r,t),localStorage.removeItem(e),!0):!1}catch(t){return console.error("Erro na migrao:",t),!1}}},yv={mockData:{medicos:[{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia",telefone:"(11) 99999-9999",email:"joao.silva@hospital.com",user:{id:"550e8400-e29b-41d4-a716-446655440000",username:"dr.joao",email:"joao.silva@hospital.com",first_name:"Joo",last_name:"Silva"}}],pacientes:[{id:1,nome:"Maria Santos",cpf:"123.456.789-00",email:"maria@exemplo.com",telefone:"(11) 99999-9999",user:{id:2,username:"maria.santos",email:"maria@exemplo.com"}}],consultas:[{id:1,data:new Date().toISOString().split("T")[0],hora:"14:00",medico:1,paciente:1,status:"agendada"}],receitas:[{id:1,medico:1,paciente:1,data:new Date().toISOString().split("T")[0],medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",status:"ativa",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null}],notificacoes:[{id:1,titulo:"Nova consulta agendada",mensagem:"Voc tem uma nova consulta agendada para hoje s 14:00",lida:!1,data:new Date().toISOString()}]},shouldMock(e){return["/api/medicos/me/","/api/pacientes/me/","/api/users/me/","/api/auth/user/","/api/clinica/","/api/clinicas/","/api/admin/","/api/auditoria/","/api/assinatura/","/api/documentos/","/api/secretarias/","/api/solicitacaomedico/","/api/solicitacoes/","/api/notificacoes/","/api/exames/","/api/prontuarios/","/api/receita/gerar/","/api/receita/generate/","/api/receita/documento/","/api/receita/pdf/","/api/receitas/preview/"].some(t=>e.includes(t))},getMockResponse(e,r="GET"){if(console.log(`[MOCK] Interceptando ${r} ${e}`),e.includes("/medicos"))return e.includes("/me/")||e.includes("/perfil/")?{data:{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia",telefone:"(11) 99999-9999",email:"joao.silva@hospital.com",user:{id:"550e8400-e29b-41d4-a716-446655440000",username:"dr.joao",email:"joao.silva@hospital.com",first_name:"Joo",last_name:"Silva"},medico:{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia"}}}:{data:{results:this.mockData.medicos,count:this.mockData.medicos.length}};if(e.includes("/pacientes"))return e.includes("/me/")?{data:this.mockData.pacientes[0]}:{data:{results:this.mockData.pacientes,count:this.mockData.pacientes.length}};if(e.includes("/consultas"))return{data:{results:this.mockData.consultas,count:this.mockData.consultas.length}};if(e.includes("/receitas"))return e.includes("/preview/")?{data:{id:"preview-123",nome_paciente:"Liniker Oliva",idade:"22 anos e 339 dias",rg:"529.594.598-73",cpf:"529.594.598-73",data_nascimento:"2002-11-25",medicamento:"Paracetamol 500mg",medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",posologia:"Tomar 1 comprimido a cada 8 horas",medico:"Dr. Joo Silva",crm:"CRM-12345",endereco_consultorio:"Rua das Flores, 123",telefone_consultorio:"(11) 98888-7777",validade_receita:"2025-11-05",observacoes:"",validade:"2025-11-05",formato:"pdf",medico_id:"550e8400-e29b-41d4-a716-446655440000",status:"gerada",data_criacao:new Date().toISOString(),validade:"2025-11-05",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null,assinatura_digital:{assinado:!1,certificado:null,timestamp:null}}}:{data:{results:this.mockData.receitas,count:this.mockData.receitas.length}};if(e.includes("/receita/gerar/")||e.includes("/receita/generate/")||e.includes("/receita/documento/")||e.includes("/receita/pdf/"))return r==="POST"||r==="PUT"?{data:{id:"receita-"+Date.now(),status:"success",message:"Receita gerada com sucesso",documento_url:"/api/receitas/documento/receita-"+Date.now()+".pdf",receita:{id:"receita-"+Date.now(),nome_paciente:"Liniker Oliva",idade:"22 anos e 339 dias",medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",medico:"Dr. Joo Silva",crm:"CRM-12345",data_criacao:new Date().toISOString(),validade:"2025-11-05",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null,assinatura_digital:{assinado:!1,certificado:null,timestamp:null}}}}:{data:{id:"receita-123",nome_paciente:"Liniker Oliva",idade:"22 anos e 339 dias",medicamentos:"Paracetamol 500mg - 1 comprimido a cada 8 horas",medico:"Dr. Joo Silva",crm:"CRM-12345",data_criacao:new Date().toISOString(),validade:"2025-11-05",status:"pendente_assinatura",assinada:!1,arquivo_assinado:null,data_assinatura:null,hash_assinatura:null,assinatura_digital:{assinado:!1,certificado:null,timestamp:null}}};if(e.includes("/api/assinatura/assinar/")||e.includes("/assinatura/assinar/")||e.includes("/assinar-receita/")||e.includes("/documentos/assinar/")||e.includes("/receitas/assinar/"))return{data:new Blob(["%PDF-1.4 mock signed pdf content"],{type:"application/pdf"}),headers:{"content-type":"application/pdf","content-disposition":'attachment; filename="receita_assinada.pdf"'}};if(e.includes("digitalsignatureservice.test:8010")||e.includes("/api/prescriptions/status/"))return{data:{status:"success",signed:!1,message:"Servio de assinatura disponvel"}};if(e.includes("/admin/solicitacoes")||e.includes("/solicitacoes")){const t=[{id:1,tipo:"medico",status:"aprovada",nome:"Dr. Carlos Oliveira",email:"carlos.oliveira@email.com",crm:"54321-RJ",especialidade:"Pediatria",createdAt:new Date(Date.now()-432e6).toISOString(),updatedAt:new Date(Date.now()-2592e5).toISOString()},{id:2,tipo:"clinica",status:"pendente",nome:"Clnica So Paulo",email:"contato@clinicasp.com",cnpj:"12.345.678/0001-90",endereco:"Av. Paulista, 1000",createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-1728e5).toISOString()},{id:3,tipo:"medico",status:"rejeitada",nome:"Dra. Ana Santos",email:"ana.santos@email.com",crm:"98765-MG",especialidade:"Dermatologia",createdAt:new Date(Date.now()-864e6).toISOString(),updatedAt:new Date(Date.now()-6912e5).toISOString()},{id:4,tipo:"medico",status:"aprovada",nome:"Dr. Roberto Lima",email:"roberto.lima@email.com",crm:"11111-SP",especialidade:"Ortopedia",createdAt:new Date(Date.now()-1296e6).toISOString(),updatedAt:new Date(Date.now()-10368e5).toISOString()},{id:5,tipo:"clinica",status:"aprovada",nome:"Hospital Central",email:"admin@hospitalcentral.com",cnpj:"98.765.432/0001-10",endereco:"Rua Central, 500",createdAt:new Date(Date.now()-1728e6).toISOString(),updatedAt:new Date(Date.now()-15552e5).toISOString()},{id:6,tipo:"medico",status:"pendente",nome:"Dr. Fernando Costa",email:"fernando.costa@email.com",crm:"22222-RJ",especialidade:"Neurologia",createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-864e5).toISOString()}];return{data:t,count:t.length,results:t}}return e.includes("/notificacoes")?{data:{results:this.mockData.notificacoes,count:this.mockData.notificacoes.length}}:e.includes("/users/me/")||e.includes("/auth/user/")?{data:{id:"550e8400-e29b-41d4-a716-446655440000",username:"dr.joao",email:"joao.silva@hospital.com",first_name:"Joo",last_name:"Silva",is_staff:!0,is_active:!0,medico:{id:"550e8400-e29b-41d4-a716-446655440000",nome:"Dr. Joo Silva",crm:"12345-SP",especialidade:"Cardiologia"}}}:{data:{message:"Endpoint mockado - dados no disponveis",results:[],count:0}}},async simulateNetworkDelay(e=100){return new Promise(r=>setTimeout(r,e))}},Np="http://127.0.0.1:8000/api";class rL{async checkServiceStatus(){try{if(!(await fetch(`${Np}/receitas/`,{method:"GET",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Servio de assinatura digital indisponvel");return{status:"online",message:"Servio de assinatura digital disponvel via Django API",version:"2.0.0"}}catch(r){return console.warn("Servio de assinatura digital indisponvel:",r),{status:"online",message:"Servio de assinatura digital disponvel (mock)",version:"1.0.0"}}}generateDocumentHash(r){var a,s;const t=JSON.stringify({timestamp:Date.now(),prescription_id:r.id||r.receita_id,patient:((a=r.paciente)==null?void 0:a.nome)||r.nome_paciente,doctor:((s=r.medico)==null?void 0:s.nome)||r.medico,medications:r.medicamentos||r.medicamento});return btoa(t).replace(/[^a-zA-Z0-9]/g,"").substring(0,32)}async generatePDFHash(r){try{if(!r)return`pdf_hash_${Date.now()}`;const t=await r.arrayBuffer();if(window.crypto&&window.crypto.subtle){const a=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map(i=>i.toString(16).padStart(2,"0")).join("")}return`pdf_${r.size}_${r.lastModified}_${Date.now()}`}catch(t){return console.warn("Erro ao gerar hash do PDF:",t),`pdf_hash_${Date.now()}`}}async signPrescription(r){try{const t=r.id||r.receita_id;if(!t)throw new Error("ID da receita  obrigatrio para assinatura");const a=await fetch(`${Np}/receitas/${t}/assinar/`,{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({algoritmo_assinatura:r.algoritmo_assinatura||"SHA256",hash_documento:r.hash_documento||this.generateDocumentHash(r)})});if(!a.ok)return console.warn("Servio de assinatura no disponvel, usando mock"),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),prescription_id:t};const s=await a.json();return{success:!0,message:"Receita assinada digitalmente via Django API",signature_id:s.id,signed_at:s.assinada_em,prescription_id:s.id,hash_documento:s.hash_documento,algoritmo_assinatura:s.algoritmo_assinatura}}catch(t){return console.warn("Erro na assinatura digital, usando mock:",t),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),prescription_id:r.id||"mock_prescription"}}}async signPrescriptionWithPDF(r){try{const t=r.get("receita_id")||r.get("id");if(!t)throw new Error("ID da receita  obrigatrio para assinatura");const a=r.get("pdf"),s=await this.generatePDFHash(a),i=await fetch(`${Np}/receitas/${t}/assinar/`,{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({algoritmo_assinatura:"SHA256",hash_documento:s})});if(!i.ok)return console.warn("Servio de assinatura no disponvel, usando mock"),{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),download_url:URL.createObjectURL(a),prescription_id:t};const o=await i.json();return{success:!0,message:"Receita assinada digitalmente via Django API",signature_id:o.id,signed_at:o.assinada_em,download_url:URL.createObjectURL(a),prescription_id:o.id,hash_documento:o.hash_documento,algoritmo_assinatura:o.algoritmo_assinatura}}catch(t){console.warn("Erro na assinatura digital, usando mock:",t);const a=r.get("pdf");return{success:!0,message:"Receita assinada digitalmente (mock)",signature_id:`mock_${Date.now()}`,signed_at:new Date().toISOString(),download_url:a?URL.createObjectURL(a):null,prescription_id:r.get("id")||"mock_prescription"}}}async verifySignature(r){try{const t=await fetch(`http://localhost:8172/api/prescriptions/verify/${r}/`);return t.ok?await t.json():{status:"success",signature_id:r,verified:!0,signed_at:new Date().toISOString(),message:"Assinatura verificada (mock)"}}catch(t){return console.warn("Erro ao verificar assinatura, usando mock:",t),{status:"success",signature_id:r,verified:!0,signed_at:new Date().toISOString(),message:"Assinatura verificada (mock)"}}}async listSignedPrescriptions(){try{const r=await fetch(`${Np}/receitas/?assinada=true`,{method:"GET",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});return r.ok?(await r.json()).results||[]:[]}catch(r){return console.warn("Erro ao listar receitas assinadas, usando mock:",r),[]}}getDownloadUrl(r){return`http://localhost:8172/api/prescriptions/download/${r}/`}formatPrescriptionData(r,t){return{paciente:{nome:r.nome_paciente,cpf:r.rg,data_nascimento:r.data_nascimento,endereco:r.endereco_paciente,telefone:r.telefone_paciente,idade:r.idade},medico:{nome:r.medico,crm:r.crm,especialidade:r.especialidade,endereco_consultorio:r.endereco_consultorio,telefone_consultorio:r.telefone_consultorio,email_medico:r.email_medico},medicamentos:r.medicamento?[{nome:r.medicamento,posologia:r.posologia,observacoes:r.observacoes}]:[],observacoes:r.observacoes,validade_receita:r.validade_receita,data_prescricao:new Date().toISOString(),receita_id:t,metadata:{sistema:"Medicine Front",versao:"1.0.0",timestamp:Date.now()}}}validatePrescriptionData(r){var a,s,i,o,l;const t=[];return(a=r.nome_paciente)!=null&&a.trim()||t.push("Nome do paciente  obrigatrio"),(s=r.rg)!=null&&s.trim()||t.push("CPF do paciente  obrigatrio"),(i=r.medico)!=null&&i.trim()||t.push("Nome do mdico  obrigatrio"),(o=r.crm)!=null&&o.trim()||t.push("CRM do mdico  obrigatrio"),(l=r.medicamento)!=null&&l.trim()||t.push("Medicamento  obrigatrio"),{isValid:t.length===0,errors:t}}}const aL=new rL,DC="http://127.0.0.1:8000",nL="/api";"true".toLowerCase();"true".toLowerCase();"true".toLowerCase();const Kg="local".toLowerCase(),sL=DC,iL=(e="")=>e.replace(/^\/+|\/+$/g,""),oL=(e="")=>e.replace(/^\/+/,""),lL=(e="")=>/^https?:\/\//i.test(e),cL=(e="")=>{const r="/"+iL(nL);if(!e)return r+"/";if(e.startsWith(r+"/")||e===r||e.startsWith(r+"?"))return e;const[t,a=""]=String(e).split("?"),s=/\/$/.test(t||""),i=oL(t||"");let o=`${r}/${i||""}`;return(s||!i)&&(o+="/"),a&&(o+=`?${a}`),o=o.replace(/\/{2,}/g,"/"),o},Ee=On.create({baseURL:sL,headers:{"Content-Type":"application/json"},timeout:15e3,withCredentials:Kg==="cookie"});Ee.interceptors.request.use(e=>{const r=e.url||"";if(!lL(r)){const d=cL(r);e.baseURL=DC.replace(/\/+$/g,""),e.url=d.startsWith("/")?d:"/"+d}try{const d=String(pr.getItem("auth_storage")||Kg).toLowerCase();e.withCredentials=d==="cookie"}catch{}const t="/api/auth/login/",a="/api/auth/register/",s="/auth/forgot-password/",i="/api/auth/google/",o="/api/auth/token/refresh/";if(((d="")=>[t,a,s,i,o].some(f=>d.includes(f)))(e.url||""))return e;if(String(pr.getItem("auth_storage")||Kg).toLowerCase()!=="cookie"){const d=pr.getItem("access_token");let f=pr.getItem("auth_scheme")||"Token";if(!f){f=d&&d.includes(".")?"Bearer":"Token";try{pr.setItem("auth_scheme",f)}catch{}}try{d&&d.includes(".")&&/^token$/i.test(String(f))?(f="Bearer",pr.setItem("auth_scheme",f)):d&&!d.includes(".")&&/^bearer$/i.test(String(f))&&(f="Token",pr.setItem("auth_scheme",f))}catch{}d?e.headers.Authorization=`${f} ${d}`:delete e.headers.Authorization}else e.headers&&e.headers.Authorization&&delete e.headers.Authorization;return e.data instanceof FormData&&e.headers&&delete e.headers["Content-Type"],e});Ee.interceptors.response.use(e=>e,async e=>{var a,s,i,o,l,A;const r=(a=e==null?void 0:e.response)==null?void 0:a.status,t=(e==null?void 0:e.config)||{};if(r===404&&yv.shouldMock(t.url||""))return console.log(`[MOCK] Interceptando erro 404 para ${t.url}`),await yv.simulateNetworkDelay(50),Promise.resolve(yv.getMockResponse(t.url,t.method));if(r===401&&!t._retry){t._retry=!0;try{if(String(pr.getItem("auth_storage")||Kg).toLowerCase()==="cookie")return await Ee.post("/auth/refresh/",{},{withCredentials:!0}),Ee(t);{const f="/api/auth/token/refresh/",h=pr.getItem("refresh_token");if(h){const m=await Ee.post(f,{refresh:h}),p=((s=m==null?void 0:m.data)==null?void 0:s.access)||((i=m==null?void 0:m.data)==null?void 0:i.access_token)||((o=m==null?void 0:m.data)==null?void 0:o.token),x=((l=m==null?void 0:m.data)==null?void 0:l.refresh)||((A=m==null?void 0:m.data)==null?void 0:A.refresh_token);p&&pr.setItem("access_token",p),x&&pr.setItem("refresh_token",x),t.headers=t.headers||{};const v=pr.getItem("auth_scheme")||(p&&p.includes(".")?"Bearer":"Token");return t.headers.Authorization=`${v} ${pr.getItem("access_token")}`,Ee(t)}}}catch{}}return Promise.reject(e)});const bv="true".toLowerCase()==="true",LA="false".toLowerCase()==="true",UC={async criarSolicitacaoMedico(e,r={}){var p,x,v,b,N,B,S,F,L;const t=new FormData,a=(M,U,I=[])=>{if(U==null)return;const _=[M,...I].filter(Boolean);for(const W of _)t.append(W,U)};a("crm",e.crm,["crm_numero"]),a("especialidade",e.especialidade),a("instituicaoFormacao",e.instituicaoFormacao,["instituicao_formacao"]),a("anoFormacao",e.anoFormacao,["ano_formacao"]),a("residencia",e.residencia??""),a("instituicaoResidencia",e.instituicaoResidencia??"",["instituicao_residencia"]),a("anoResidencia",e.anoResidencia??"",["ano_residencia"]),a("experiencia",e.experiencia),a("motivacao",e.motivacao,["motivo","justificativa"]),a("nome",e.nome,["nome_completo"]),a("email",e.email),a("cpf",e.cpf),a("tipo",e.tipo||"medico"),(p=e.documentos)!=null&&p.diplomaMedicina&&a("diplomaMedicina",e.documentos.diplomaMedicina,["diploma_medicina"]),(x=e.documentos)!=null&&x.certificadoResidencia&&a("certificadoResidencia",e.documentos.certificadoResidencia,["certificado_residencia"]),(v=e.documentos)!=null&&v.comprovanteExperiencia&&a("comprovanteExperiencia",e.documentos.comprovanteExperiencia,["comprovante_experiencia"]);let s;try{const M=(b=Xr.getCurrentUser)==null?void 0:b.call(Xr);s=(M==null?void 0:M.id)||(M==null?void 0:M.pk)||((N=M==null?void 0:M.user)==null?void 0:N.id),s&&a("user",s,["usuario","user_id","usuario_id"])}catch{}const i={crm:e.crm,crm_numero:e.crm,especialidade:e.especialidade,instituicaoFormacao:e.instituicaoFormacao,instituicao_formacao:e.instituicaoFormacao,anoFormacao:e.anoFormacao,ano_formacao:e.anoFormacao,residencia:e.residencia??"",instituicaoResidencia:e.instituicaoResidencia??"",instituicao_residencia:e.instituicaoResidencia??"",anoResidencia:e.anoResidencia??"",ano_residencia:e.anoResidencia??"",experiencia:e.experiencia,motivacao:e.motivacao,motivo:e.motivacao,justificativa:e.motivacao,nome:e.nome,nome_completo:e.nome_completo||e.nome,email:e.email,cpf:e.cpf,tipo:e.tipo||"medico"};s&&(i.user=s,i.usuario=s,i.user_id=s,i.usuario_id=s);const o="/api/solicitacaomedico/".trim(),l="/api/solicitacoes/".trim();let A=[];o&&A.push(o),l&&A.push(l),LA||A.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/medico/","/medico/solicitacoes/","/medicos/solicitacao/","/solicitacao/medicos/","/users/medicos/solicitacoes/","/usuarios/medicos/solicitacoes/","/users/solicitacoes/medico/","/usuarios/solicitacoes/medico/","/app_medico/","/meu_app_medico/","/meui_app_solicitacaomedico/","/solicitacaomedico/","/solicitacao-medico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedico/");const d=M=>{if(LA)return[M];const U=M.endsWith("/")?"":"/";return[M,`${M}${U}criar/`,`${M}${U}create/`,`${M}${U}novo/`,`${M}${U}nova/`,`${M}${U}add/`,`${M}${U}adicionar/`,`${M}${U}registrar/`,`${M}${U}enviar/`,`${M}${U}submit/`]},f=Array.from(new Set(A.flatMap(d))),h=[];let m;for(const M of f)try{return h.push(M),bv&&console.debug("[solicitacaoService] Tentando endpoint:",M),(await Ee.post(M,t,{headers:{"Content-Type":"multipart/form-data"},signal:r==null?void 0:r.signal})).data}catch(U){const I=(B=U==null?void 0:U.response)==null?void 0:B.status,_=((S=U==null?void 0:U.response)==null?void 0:S.data)&&JSON.stringify(U.response.data)||"";if(I===415||I===400&&/JSON|application\/json|parse/i.test(_))try{return(await Ee.post(M,i,{headers:{"Content-Type":"application/json"},signal:r==null?void 0:r.signal})).data}catch(Q){const K=(F=Q==null?void 0:Q.response)==null?void 0:F.status;if((K===404||K===405)&&!LA){m=Q;continue}throw Q}if((I===404||I===405)&&!LA){bv&&console.debug("[solicitacaoService] Endpoint no aceitou mtodo (",I,"):",M),m=U;continue}throw U}throw m?(bv&&console.warn("[solicitacaoService] Nenhum endpoint aceitou POST. ltimo status:",(L=m==null?void 0:m.response)==null?void 0:L.status,"URLs tentadas:",h),m):new Error("Nenhum endpoint de criao aceitou a solicitao. Configure VITE_SOLICITACOES_MEDICOS_ENDPOINT. URLs tentadas: "+h.join(", "))},async listarMinhasSolicitacoes(e={},r={}){var o,l;const t="/api/solicitacaomedico/".trim(),a="/api/solicitacoes/".trim(),s=[];t&&s.push(t),a&&s.push(a),LA||s.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/","/me/solicitacoes/","/minhas-solicitacoes/","/solicitacoes/me/","/solicitacoes/minhas/");const i={...e};i.limit!=null&&i.page_size==null&&(i.page_size=i.limit),i.page_size!=null&&i.limit==null&&(i.limit=i.page_size);for(const A of s){const d=Z2(A);try{const f=await Ee.get(d,{params:i,signal:r==null?void 0:r.signal});return Array.isArray((o=f.data)==null?void 0:o.results)?{...f.data,results:f.data.results.map(Nv)}:Array.isArray(f.data)?{results:f.data.map(Nv)}:f.data}catch(f){if(((l=f==null?void 0:f.response)==null?void 0:l.status)===404&&!LA)continue;throw f}}return{results:[]}},async getSolicitacaoMedico(e,r={}){var o;const t="/api/solicitacaomedico/".trim(),a="/api/solicitacoes/".trim(),s=[];t&&s.push(t),a&&s.push(a),LA||s.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/");let i;for(const l of s){const A=Z2(l)+String(e)+"/";try{const d=await Ee.get(A,{signal:r==null?void 0:r.signal});return Nv(d.data)}catch(d){if(((o=d==null?void 0:d.response)==null?void 0:o.status)===404&&!LA){i=d;continue}throw d}}throw i||new Error("Solicitao no encontrada")}};function Z2(e){return e?e.endsWith("/")?e:e+"/":"/"}function Nv(e={}){return{id:e.id||e.pk,crm:e.crm||e.crm_numero,especialidade:e.especialidade,instituicaoFormacao:e.instituicaoFormacao||e.instituicao_formacao,anoFormacao:e.anoFormacao||e.ano_formacao,residencia:e.residencia,instituicaoResidencia:e.instituicaoResidencia||e.instituicao_residencia,anoResidencia:e.anoResidencia||e.ano_residencia,experiencia:e.experiencia,motivacao:e.motivacao||e.motivo||e.justificativa,nome:e.nome||e.nome_completo,email:e.email,cpf:e.cpf,status:e.status||e.situacao||e.aprovado,created_at:e.created_at||e.data_criacao}}const AL=Object.freeze(Object.defineProperty({__proto__:null,solicitacaoService:UC},Symbol.toStringTag,{value:"Module"})),dL=e=>{if(!e)return"";try{const r=new Date(e);if(isNaN(r.getTime()))return"";const t=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}catch{return""}};function IA(e){return e?{id:e.id,username:e.username,email:e.email,first_name:e.first_name||"",last_name:e.last_name||"",is_staff:e.is_staff||!1,is_active:e.is_active!==!1,date_joined:e.date_joined,last_login:e.last_login,role:e.role||e.tipo||e.tipo_usuario||e.user_type||"",tipo:e.tipo||e.role||e.tipo_usuario||e.user_type||"",tipo_usuario:e.tipo_usuario||e.user_type||"",data_nascimento:dL(e.data_nascimento||e.birth_date),telefone:e.telefone||e.phone||"",endereco:e.endereco||e.address||"",crm:e.crm||"",especialidade:e.especialidade||e.specialty||""}:null}const Xr={async login(e){var r,t,a,s,i,o,l,A;try{const d={username:((t=(r=e.username)==null?void 0:r.trim)==null?void 0:t.call(r))||((s=(a=e.email)==null?void 0:a.trim)==null?void 0:s.call(a))||void 0,email:((o=(i=e.email)==null?void 0:i.trim)==null?void 0:o.call(i))||((A=(l=e.username)==null?void 0:l.trim)==null?void 0:A.call(l))||void 0,password:e.password},f=await Ee.post("/api/auth/login/",d);if(f.data){pr.setItem("auth_scheme","Token");const m=f.data.access_token||f.data.access||f.data.token,p=f.data.refresh_token||f.data.refresh;m&&pr.setItem("access_token",m),p&&pr.setItem("refresh_token",p);try{if(!m&&!p){pr.setItem("auth_storage","cookie");try{Ee.defaults.withCredentials=!0}catch{}}}catch{}try{const x=await Eh();x?pr.setItem("user",IA(x)):pr.removeItem("user")}catch(x){console.warn("No foi possvel carregar dados do usurio:",x),pr.removeItem("user")}return f.data}throw new Error("Resposta de login invlida")}catch(d){throw console.error("Erro no login:",d),d}},async register(e,r={}){var t;try{const s=await Ee.post("/api/auth/register/",e);let i=null;if(s.data&&!r.skipAutoLogin){pr.setItem("auth_scheme","Token");const A=s.data.access_token||s.data.access||s.data.token,d=s.data.refresh_token||s.data.refresh;A&&pr.setItem("access_token",A),d&&pr.setItem("refresh_token",d);try{if(!A&&!d){pr.setItem("auth_storage","cookie");try{Ee.defaults.withCredentials=!0}catch{}}}catch{}try{i=await Eh(),i?pr.setItem("user",IA(i)):pr.removeItem("user")}catch(f){if(console.warn("No foi possvel carregar dados do usurio aps registro:",f),pr.removeItem("user"),pr.getItem("access_token"))try{const m=await Eh();i=m,m&&pr.setItem("user",IA(m))}catch(m){console.warn("Fallback para buscar usurio tambm falhou:",m)}}}let o;try{const l=String((e==null?void 0:e.desired_role)||"").toLowerCase()==="medico",A=r==null?void 0:r.medicoData;if(l&&A){const d=IA(i||pr.getItem("user")||{}),f=[d==null?void 0:d.first_name,d==null?void 0:d.last_name].filter(Boolean).join(" ")||(d==null?void 0:d.username)||"",h={...A,nome:A.nome||f||(e==null?void 0:e.first_name)||"",email:A.email||(d==null?void 0:d.email)||(e==null?void 0:e.email)||"",cpf:A.cpf||(e==null?void 0:e.cpf)||"",tipo:A.tipo||"medico"};try{o={success:!0,data:await UC.criarSolicitacaoMedico(h)};try{const p=(d==null?void 0:d.id)||(i==null?void 0:i.id);p&&localStorage.setItem(`medicoApplicationStatus:${p}`,"pending")}catch{}}catch(m){o={success:!1,error:((t=m==null?void 0:m.response)==null?void 0:t.data)||(m==null?void 0:m.message)||"No foi possvel criar a solicitao de mdico."}}}}catch(l){o={success:!1,error:(l==null?void 0:l.message)||"Falha desconhecida ao criar solicitao."}}return o?{...s.data,medicoApplication:o}:s.data}catch(a){throw console.error("Erro no registro:",a),a}},async logout(){try{await Ee.post("/api/auth/logout/")}catch(e){console.warn("Erro ao fazer logout no servidor:",e)}finally{pr.removeItem("access_token"),pr.removeItem("refresh_token"),pr.removeItem("user"),pr.removeItem("auth_scheme"),pr.removeItem("auth_storage")}},async forgotPassword(e){const t=await Ee.post("/api/password_reset/",{email:e});return(t==null?void 0:t.data)??t},getCurrentUser(){try{const e=pr.getItem("user");return e?IA(e):null}catch(e){return console.error("Erro ao recuperar usurio atual:",e),null}},async refreshCurrentUser(){var e;try{const r=await Eh();return r?(pr.setItem("user",IA(r)),IA(r)):(pr.removeItem("user"),null)}catch(r){if(((e=r==null?void 0:r.response)==null?void 0:e.status)===401)throw r;return console.error("Erro ao atualizar dados do usurio:",r),null}},isAuthenticated(){const e=pr.getItem("access_token"),r=String(pr.getItem("auth_storage")||void 0||"local").toLowerCase();return!!e||r==="cookie"},async loginWithGoogle(e){try{const t=await Ee.post("/api/auth/google/",{credential:e});if(t.data){pr.setItem("auth_scheme","Token");const s=t.data.access_token||t.data.access||t.data.token,i=t.data.refresh_token||t.data.refresh;s&&pr.setItem("access_token",s),i&&pr.setItem("refresh_token",i);try{if(!s&&!i){pr.setItem("auth_storage","cookie");try{Ee.defaults.withCredentials=!0}catch{}}}catch{}try{const o=await Eh();o?pr.setItem("user",IA(o)):pr.removeItem("user")}catch(o){console.warn("No foi possvel carregar dados do usurio:",o),pr.removeItem("user")}return t.data}throw new Error("Resposta de login com Google invlida")}catch(r){throw console.error("Erro no login com Google:",r),r}}};async function Eh(){return(await Ee.get("/api/auth/users/me/")).data}const Ws={NETWORK:"NETWORK_ERROR",AUTHENTICATION:"AUTH_ERROR",AUTHORIZATION:"AUTHORIZATION_ERROR",VALIDATION:"VALIDATION_ERROR",SERVER:"SERVER_ERROR",CLIENT:"CLIENT_ERROR",UNKNOWN:"UNKNOWN_ERROR"},uL={[Ws.NETWORK]:"Erro de conexo. Verifique sua internet e tente novamente.",[Ws.AUTHENTICATION]:"Sesso expirada. Faa login novamente.",[Ws.AUTHORIZATION]:"Voc no tem permisso para realizar esta ao.",[Ws.VALIDATION]:"Dados invlidos. Verifique as informaes e tente novamente.",[Ws.SERVER]:"Erro interno do servidor. Tente novamente em alguns minutos.",[Ws.CLIENT]:"Erro na aplicao. Recarregue a pgina e tente novamente.",[Ws.UNKNOWN]:"Erro inesperado. Tente novamente."};function fL(e){if(!e.response&&e.code==="NETWORK_ERROR"||e.code==="ECONNABORTED")return Ws.NETWORK;if(e.response){const r=e.response.status;if(r===401)return Ws.AUTHENTICATION;if(r===403)return Ws.AUTHORIZATION;if(r>=400&&r<500)return Ws.VALIDATION;if(r>=500)return Ws.SERVER}return Ws.UNKNOWN}function hL(e){var s;const r=fL(e),t=uL[r];return{type:r,message:t,timestamp:new Date().toISOString(),status:((s=e.response)==null?void 0:s.status)||null}}const Xd=class Xd{constructor(){this.errorListeners=[],this.setupGlobalErrorHandlers()}static getInstance(){return Xd.instance||(Xd.instance=new Xd),Xd.instance}setupGlobalErrorHandlers(){window.addEventListener("error",r=>{this.handleError(r.error,"GLOBAL_ERROR")}),window.addEventListener("unhandledrejection",r=>{this.handleError(r.reason,"UNHANDLED_PROMISE")})}addErrorListener(r){this.errorListeners.push(r)}removeErrorListener(r){this.errorListeners=this.errorListeners.filter(t=>t!==r)}notifyListeners(r){this.errorListeners.forEach(t=>{try{t(r)}catch(a){console.error("Erro no listener de erro:",a)}})}handleError(r,t="UNKNOWN"){const a=hL(r);return a.context=t,this.notifyListeners(a),a}handleApiError(r,t="API_CALL"){const a=this.handleError(r,t);switch(a.type){case Ws.AUTHENTICATION:this.handleAuthenticationError();break;case Ws.NETWORK:this.handleNetworkError();break}return a}handleAuthenticationError(){try{const r=!!(pr.getItem("access_token")||pr.getItem("refresh_token")),t=String(pr.getItem("auth_storage")||void 0||"local").toLowerCase(),a=window.location.pathname.includes("/login");if(t==="cookie"||r)return;a||(window.location.href="/login")}catch{window.location.pathname.includes("/login")||(window.location.href="/login")}}handleNetworkError(){console.warn("Erro de rede detectado")}};ft(Xd,"instance",null);let $g=Xd;function mL(){const e=$g.getInstance(),r=w.useCallback((a,s)=>e.handleError(a,s),[]),t=w.useCallback((a,s)=>e.handleApiError(a,s),[]);return{handleError:r,handleApiError:t}}$g.getInstance();const LC=w.createContext({});function pL({children:e}){const[r,t]=w.useState(null),[a,s]=w.useState(!0),{handleError:i}=mL(),o=w.useCallback(async()=>{try{const p=Xr.getCurrentUser();if(p)t(p);else if(Xr.isAuthenticated())try{const x=await Xr.refreshCurrentUser();x&&t(x)}catch{t(null)}}catch(p){i(p,"Erro ao inicializar autenticao")}finally{s(!1)}},[i]);w.useEffect(()=>{o()},[]);const l=w.useCallback(async p=>{try{const x=await Xr.login(p);if(x!=null&&x.user)t(x.user);else{const v=Xr.getCurrentUser();t(v)}return x}catch(x){throw i(x,"Erro ao fazer login"),x}},[i]),A=w.useCallback(async()=>{try{await Xr.logout(),t(null)}catch(p){i(p,"Erro ao fazer logout"),t(null)}},[i]),d=w.useCallback(async p=>{try{const x=await Xr.register(p);if(x!=null&&x.user)t(x.user);else{const v=Xr.getCurrentUser();v&&t(v)}return x}catch(x){throw i(x,"Erro ao registrar usurio"),x}},[i]),f=w.useCallback(async p=>{try{const x=await Xr.loginWithGoogle(p);return t(x.user),x}catch(x){throw i(x,"Erro ao fazer login com Google"),x}},[i]),h=w.useMemo(()=>Xr.isAuthenticated(),[r]),m=w.useMemo(()=>({user:r,login:l,logout:A,register:d,loading:a,isAuthenticated:!!r||h,loginWithGoogle:f}),[r,l,A,d,f,h,a]);return n.jsx(LC.Provider,{value:m,children:e})}const aA=()=>{const e=w.useContext(LC);if(!e)throw new Error("useAuth deve ser usado dentro de AuthProvider");return e},IC=w.createContext(void 0);function gL({children:e}){const[r,t]=w.useState("paciente"),[a,s]=w.useState(!1),[i,o]=w.useState({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),[l,A]=w.useState(null),[d,f]=w.useState(""),h=w.useCallback(()=>{A(null),f("")},[]),m=w.useCallback(()=>{i.isMedico&&i.medicoStatus==="approved"&&t(r==="medico"?"paciente":"medico")},[i.isMedico,i.medicoStatus,r]),p=w.useCallback((b="paciente",N={})=>{s(!0),t(b),o(N)},[]),x=w.useCallback(()=>{s(!1),t("paciente"),o({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),h()},[h]),v=w.useMemo(()=>({activeRole:r,setActiveRole:t,toggleRole:m,isAuthenticated:a,userPermissions:i,setUserPermissions:o,login:p,logout:x,ephemeralCertFile:l,setEphemeralCertFile:A,ephemeralCertPassword:d,setEphemeralCertPassword:f,clearEphemeralCert:h}),[r,m,a,i,p,x,l,d,h]);return n.jsx(IC.Provider,{value:v,children:e})}function Wl(){const e=w.useContext(IC);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e}function eN(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function D0(...e){return r=>{let t=!1;const a=e.map(s=>{const i=eN(s,r);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():eN(e[s],null)}}}}function ua(...e){return w.useCallback(D0(...e),e)}function cu(e){const r=xL(e),t=w.forwardRef((a,s)=>{const{children:i,...o}=a,l=w.Children.toArray(i),A=l.find(wL);if(A){const d=A.props.children,f=l.map(h=>h===A?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return n.jsx(r,{...o,ref:s,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return n.jsx(r,{...o,ref:s,children:i})});return t.displayName=`${e}.Slot`,t}var zf=cu("Slot");function xL(e){const r=w.forwardRef((t,a)=>{const{children:s,...i}=t;if(w.isValidElement(s)){const o=bL(s),l=yL(i,s.props);return s.type!==w.Fragment&&(l.ref=a?D0(a,o):o),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var PC=Symbol("radix.slottable");function vL(e){const r=({children:t})=>n.jsx(n.Fragment,{children:t});return r.displayName=`${e}.Slottable`,r.__radixId=PC,r}function wL(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PC}function yL(e,r){const t={...r};for(const a in r){const s=e[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?t[a]=(...l)=>{const A=i(...l);return s(...l),A}:s&&(t[a]=s):a==="style"?t[a]={...s,...i}:a==="className"&&(t[a]=[s,i].filter(Boolean).join(" "))}return{...e,...t}}function bL(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function QC(e){var r,t,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(t=QC(e[r]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function vs(){for(var e,r,t=0,a="",s=arguments.length;t<s;t++)(e=arguments[t])&&(r=QC(e))&&(a&&(a+=" "),a+=r);return a}const tN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,rN=vs,U0=(e,r)=>t=>{var a;if((r==null?void 0:r.variants)==null)return rN(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=r,o=Object.keys(s).map(d=>{const f=t==null?void 0:t[d],h=i==null?void 0:i[d];if(f===null)return null;const m=tN(f)||tN(h);return s[d][m]}),l=t&&Object.entries(t).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),A=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((d,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(x=>{let[v,b]=x;return Array.isArray(b)?b.includes({...i,...l}[v]):{...i,...l}[v]===b})?[...d,h,m]:d},[]);return rN(e,o,A,t==null?void 0:t.class,t==null?void 0:t.className)};var NL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jt=(e,r)=>{const t=w.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...A},d)=>w.createElement("svg",{ref:d,...NL,width:s,height:s,stroke:a,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${jL(e)}`,...A},[...r.map(([f,h])=>w.createElement(f,h)),...(Array.isArray(l)?l:[l])||[]]));return t.displayName=`${e}`,t},di=jt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),rd=jt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Kc=jt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),$c=jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Vg=jt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),nm=jt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),sm=jt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Gl=jt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),L0=jt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),aN=jt("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),fr=jt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),_o=jt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ns=jt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),BL=jt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),cy=jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ay=jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),RC=jt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),al=jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),CL=jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),SL=jt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),EL=jt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Vc=jt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Ur=jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_L=jt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),nl=jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),nN=jt("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),FL=jt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),kL=jt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ui=jt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),DL=jt("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),Ta=jt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ru=jt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),UL=jt("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),Uf=jt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),LL=jt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),dy=jt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),IL=jt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),sN=jt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),PL=jt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),jv=jt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),QL=jt("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),RL=jt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),TL=jt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),uy=jt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ML=jt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ol=jt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),zg=jt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),OL=jt("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),HL=jt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),KL=jt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),iN=jt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),TC=jt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),$L=jt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),VL=jt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),zc=jt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Wh=jt("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),ad=jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),zL=jt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),fy=jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),qL=jt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),hy=jt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),is=jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),im=jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),WL=jt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Xs=jt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),oN=jt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),GL=jt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),YL=jt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Mr=jt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),lN=jt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),XL=jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),jm=jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),xg=jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),cN=jt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),JL=jt("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),AN=jt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),jn=jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ln=jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Bv=jt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),ss=jt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),my=jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ZL(){const[e,r]=w.useState(!1);return w.useEffect(()=>{const t=()=>{r(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e}function st(...e){return e.filter(Boolean).join(" ")}function eI(e){return e?e.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):""}const ye=w.forwardRef(({className:e,variant:r="default",size:t="default",asChild:a=!1,...s},i)=>{const o=a?"slot":"button",l={default:"btn-medical-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"btn-medical-secondary",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-border",ghost:"btn-medical-ghost",link:"text-primary underline-offset-4 hover:underline p-0 h-auto",medical:"btn-medical-primary",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm",info:"bg-info text-info-foreground hover:bg-info/90 shadow-sm"},A={default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"};return n.jsx(o,{className:st("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","active:scale-[0.98]",l[r],A[t],e),ref:i,...s})});ye.displayName="Button";const Ge=w.forwardRef(({className:e,type:r,...t},a)=>n.jsx("input",{type:r,className:st("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));Ge.displayName="Input";var tI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nr=tI.reduce((e,r)=>{const t=cu(`Primitive.${r}`),a=w.forwardRef((s,i)=>{const{asChild:o,...l}=s,A=o?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(A,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function py(e,r){e&&Of.flushSync(()=>e.dispatchEvent(r))}var rI="Separator",dN="horizontal",aI=["horizontal","vertical"],MC=w.forwardRef((e,r)=>{const{decorative:t,orientation:a=dN,...s}=e,i=nI(a)?a:dN,l=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(Nr.div,{"data-orientation":i,...l,...s,ref:r})});MC.displayName=rI;function nI(e){return aI.includes(e)}var OC=MC;const ws=w.forwardRef(({className:e,orientation:r="horizontal",decorative:t=!0,...a},s)=>n.jsx(OC,{ref:s,decorative:t,orientation:r,className:st("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));ws.displayName=OC.displayName;function Ut(e,r,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e==null||e(s),t===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function sI(e,r){const t=w.createContext(r),a=i=>{const{children:o,...l}=i,A=w.useMemo(()=>l,Object.values(l));return n.jsx(t.Provider,{value:A,children:o})};a.displayName=e+"Provider";function s(i){const o=w.useContext(t);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function ul(e,r=[]){let t=[];function a(i,o){const l=w.createContext(o),A=t.length;t=[...t,o];const d=h=>{var N;const{scope:m,children:p,...x}=h,v=((N=m==null?void 0:m[e])==null?void 0:N[A])||l,b=w.useMemo(()=>x,Object.values(x));return n.jsx(v.Provider,{value:b,children:p})};d.displayName=i+"Provider";function f(h,m){var v;const p=((v=m==null?void 0:m[e])==null?void 0:v[A])||l,x=w.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=t.map(o=>w.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[a,iI(s,...r)]}function iI(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:A,scopeName:d})=>{const h=A(i)[`__scope${d}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return t.scopeName=r.scopeName,t}var Yn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},oI=xm[" useId ".trim().toString()]||(()=>{}),lI=0;function zl(e){const[r,t]=w.useState(oI());return Yn(()=>{t(a=>a??String(lI++))},[e]),e||(r?`radix-${r}`:"")}var cI=xm[" useInsertionEffect ".trim().toString()]||Yn;function nd({prop:e,defaultProp:r,onChange:t=()=>{},caller:a}){const[s,i,o]=AI({defaultProp:r,onChange:t}),l=e!==void 0,A=l?e:s;{const f=w.useRef(e!==void 0);w.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,a])}const d=w.useCallback(f=>{var h;if(l){const m=dI(f)?f(e):f;m!==e&&((h=o.current)==null||h.call(o,m))}else i(f)},[l,e,i,o]);return[A,d]}function AI({defaultProp:e,onChange:r}){const[t,a]=w.useState(e),s=w.useRef(t),i=w.useRef(r);return cI(()=>{i.current=r},[r]),w.useEffect(()=>{var o;s.current!==t&&((o=i.current)==null||o.call(i,t),s.current=t)},[t,s]),[t,a,i]}function dI(e){return typeof e=="function"}function fi(e){const r=w.useRef(e);return w.useEffect(()=>{r.current=e}),w.useMemo(()=>(...t)=>{var a;return(a=r.current)==null?void 0:a.call(r,...t)},[])}function uI(e,r=globalThis==null?void 0:globalThis.document){const t=fi(e);w.useEffect(()=>{const a=s=>{s.key==="Escape"&&t(s)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[t,r])}var fI="DismissableLayer",qw="dismissableLayer.update",hI="dismissableLayer.pointerDownOutside",mI="dismissableLayer.focusOutside",uN,HC=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qf=w.forwardRef((e,r)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...A}=e,d=w.useContext(HC),[f,h]=w.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),x=ua(r,U=>h(U)),v=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(b),B=f?v.indexOf(f):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,F=B>=N,L=gI(U=>{const I=U.target,_=[...d.branches].some(W=>W.contains(I));!F||_||(s==null||s(U),o==null||o(U),U.defaultPrevented||l==null||l())},m),M=xI(U=>{const I=U.target;[...d.branches].some(W=>W.contains(I))||(i==null||i(U),o==null||o(U),U.defaultPrevented||l==null||l())},m);return uI(U=>{B===d.layers.size-1&&(a==null||a(U),!U.defaultPrevented&&l&&(U.preventDefault(),l()))},m),w.useEffect(()=>{if(f)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(uN=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),fN(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=uN)}},[f,m,t,d]),w.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),fN())},[f,d]),w.useEffect(()=>{const U=()=>p({});return document.addEventListener(qw,U),()=>document.removeEventListener(qw,U)},[]),n.jsx(Nr.div,{...A,ref:x,style:{pointerEvents:S?F?"auto":"none":void 0,...e.style},onFocusCapture:Ut(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Ut(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ut(e.onPointerDownCapture,L.onPointerDownCapture)})});qf.displayName=fI;var pI="DismissableLayerBranch",KC=w.forwardRef((e,r)=>{const t=w.useContext(HC),a=w.useRef(null),s=ua(r,a);return w.useEffect(()=>{const i=a.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),n.jsx(Nr.div,{...e,ref:s})});KC.displayName=pI;function gI(e,r=globalThis==null?void 0:globalThis.document){const t=fi(e),a=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let A=function(){$C(hI,t,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=A,r.addEventListener("click",s.current,{once:!0})):A()}else r.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,t]),{onPointerDownCapture:()=>a.current=!0}}function xI(e,r=globalThis==null?void 0:globalThis.document){const t=fi(e),a=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!a.current&&$C(mI,t,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,t]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function fN(){const e=new CustomEvent(qw);document.dispatchEvent(e)}function $C(e,r,t,{discrete:a}){const s=t.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});r&&s.addEventListener(e,r,{once:!0}),a?py(s,i):s.dispatchEvent(i)}var vI=qf,wI=KC,Cv="focusScope.autoFocusOnMount",Sv="focusScope.autoFocusOnUnmount",hN={bubbles:!1,cancelable:!0},yI="FocusScope",I0=w.forwardRef((e,r)=>{const{loop:t=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,A]=w.useState(null),d=fi(s),f=fi(i),h=w.useRef(null),m=ua(r,v=>A(v)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(a){let v=function(S){if(p.paused||!l)return;const F=S.target;l.contains(F)?h.current=F:MA(h.current,{select:!0})},b=function(S){if(p.paused||!l)return;const F=S.relatedTarget;F!==null&&(l.contains(F)||MA(h.current,{select:!0}))},N=function(S){if(document.activeElement===document.body)for(const L of S)L.removedNodes.length>0&&MA(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const B=new MutationObserver(N);return l&&B.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),B.disconnect()}}},[a,l,p.paused]),w.useEffect(()=>{if(l){pN.add(p);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(Cv,hN);l.addEventListener(Cv,d),l.dispatchEvent(N),N.defaultPrevented||(bI(SI(VC(l)),{select:!0}),document.activeElement===v&&MA(l))}return()=>{l.removeEventListener(Cv,d),setTimeout(()=>{const N=new CustomEvent(Sv,hN);l.addEventListener(Sv,f),l.dispatchEvent(N),N.defaultPrevented||MA(v??document.body,{select:!0}),l.removeEventListener(Sv,f),pN.remove(p)},0)}}},[l,d,f,p]);const x=w.useCallback(v=>{if(!t&&!a||p.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(b&&N){const B=v.currentTarget,[S,F]=NI(B);S&&F?!v.shiftKey&&N===F?(v.preventDefault(),t&&MA(S,{select:!0})):v.shiftKey&&N===S&&(v.preventDefault(),t&&MA(F,{select:!0})):N===B&&v.preventDefault()}},[t,a,p.paused]);return n.jsx(Nr.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});I0.displayName=yI;function bI(e,{select:r=!1}={}){const t=document.activeElement;for(const a of e)if(MA(a,{select:r}),document.activeElement!==t)return}function NI(e){const r=VC(e),t=mN(r,e),a=mN(r.reverse(),e);return[t,a]}function VC(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function mN(e,r){for(const t of e)if(!jI(t,{upTo:r}))return t}function jI(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function BI(e){return e instanceof HTMLInputElement&&"select"in e}function MA(e,{select:r=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&BI(e)&&r&&e.select()}}var pN=CI();function CI(){let e=[];return{add(r){const t=e[0];r!==t&&(t==null||t.pause()),e=gN(e,r),e.unshift(r)},remove(r){var t;e=gN(e,r),(t=e[0])==null||t.resume()}}}function gN(e,r){const t=[...e],a=t.indexOf(r);return a!==-1&&t.splice(a,1),t}function SI(e){return e.filter(r=>r.tagName!=="A")}var EI="Portal",Bm=w.forwardRef((e,r)=>{var l;const{container:t,...a}=e,[s,i]=w.useState(!1);Yn(()=>i(!0),[]);const o=t||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?X5.createPortal(n.jsx(Nr.div,{...a,ref:r}),o):null});Bm.displayName=EI;function _I(e,r){return w.useReducer((t,a)=>r[t][a]??t,e)}var Jl=e=>{const{present:r,children:t}=e,a=FI(r),s=typeof t=="function"?t({present:a.isPresent}):w.Children.only(t),i=ua(a.ref,kI(s));return typeof t=="function"||a.isPresent?w.cloneElement(s,{ref:i}):null};Jl.displayName="Presence";function FI(e){const[r,t]=w.useState(),a=w.useRef(null),s=w.useRef(e),i=w.useRef("none"),o=e?"mounted":"unmounted",[l,A]=_I(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=jp(a.current);i.current=l==="mounted"?d:"none"},[l]),Yn(()=>{const d=a.current,f=s.current;if(f!==e){const m=i.current,p=jp(d);e?A("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?A("UNMOUNT"):A(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,A]),Yn(()=>{if(r){let d;const f=r.ownerDocument.defaultView??window,h=p=>{const v=jp(a.current).includes(CSS.escape(p.animationName));if(p.target===r&&v&&(A("ANIMATION_END"),!s.current)){const b=r.style.animationFillMode;r.style.animationFillMode="forwards",d=f.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=b)})}},m=p=>{p.target===r&&(i.current=jp(a.current))};return r.addEventListener("animationstart",m),r.addEventListener("animationcancel",h),r.addEventListener("animationend",h),()=>{f.clearTimeout(d),r.removeEventListener("animationstart",m),r.removeEventListener("animationcancel",h),r.removeEventListener("animationend",h)}}else A("ANIMATION_END")},[r,A]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(d=>{a.current=d?getComputedStyle(d):null,t(d)},[])}}function jp(e){return(e==null?void 0:e.animationName)||"none"}function kI(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Ev=0;function gy(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??xN()),document.body.insertAdjacentElement("beforeend",e[1]??xN()),Ev++,()=>{Ev===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ev--}},[])}function xN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ql=function(){return Ql=Object.assign||function(r){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ql.apply(this,arguments)};function zC(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t}function DI(e,r,t){if(t||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var vg="right-scroll-bar-position",wg="width-before-scroll-bar",UI="with-scroll-bars-hidden",LI="--removed-body-scroll-bar-size";function _v(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function II(e,r){var t=w.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(a){var s=t.value;s!==a&&(t.value=a,t.callback(a,s))}}}})[0];return t.callback=r,t.facade}var PI=typeof window<"u"?w.useLayoutEffect:w.useEffect,vN=new WeakMap;function QI(e,r){var t=II(null,function(a){return e.forEach(function(s){return _v(s,a)})});return PI(function(){var a=vN.get(t);if(a){var s=new Set(a),i=new Set(e),o=t.current;s.forEach(function(l){i.has(l)||_v(l,null)}),i.forEach(function(l){s.has(l)||_v(l,o)})}vN.set(t,e)},[e]),t}function RI(e){return e}function TI(e,r){r===void 0&&(r=RI);var t=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(i){var o=r(i,a);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(l){return i(l)},filter:function(){return t}}},assignMedium:function(i){a=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(i),o=t}var A=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(A)};d(),t={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),t}}}};return s}function MI(e){e===void 0&&(e={});var r=TI(null);return r.options=Ql({async:!0,ssr:!1},e),r}var qC=function(e){var r=e.sideCar,t=zC(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return w.createElement(a,Ql({},t))};qC.isSideCarExport=!0;function OI(e,r){return e.useMedium(r),qC}var WC=MI(),Fv=function(){},P0=w.forwardRef(function(e,r){var t=w.useRef(null),a=w.useState({onScrollCapture:Fv,onWheelCapture:Fv,onTouchMoveCapture:Fv}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,A=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,v=e.inert,b=e.allowPinchZoom,N=e.as,B=N===void 0?"div":N,S=e.gapMode,F=zC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=m,M=QI([t,r]),U=Ql(Ql({},F),s);return w.createElement(w.Fragment,null,f&&w.createElement(L,{sideCar:WC,removeScrollBar:d,shards:h,noRelative:p,noIsolation:x,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:t,gapMode:S}),o?w.cloneElement(w.Children.only(l),Ql(Ql({},U),{ref:M})):w.createElement(B,Ql({},U,{className:A,ref:M}),l))});P0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};P0.classNames={fullWidth:wg,zeroRight:vg};var HI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=HI();return r&&e.setAttribute("nonce",r),e}function $I(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function VI(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var zI=function(){var e=0,r=null;return{add:function(t){e==0&&(r=KI())&&($I(r,t),VI(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},qI=function(){var e=zI();return function(r,t){w.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&t])}},GC=function(){var e=qI(),r=function(t){var a=t.styles,s=t.dynamic;return e(a,s),null};return r},WI={left:0,top:0,right:0,gap:0},kv=function(e){return parseInt(e||"",10)||0},GI=function(e){var r=window.getComputedStyle(document.body),t=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],s=r[e==="padding"?"paddingRight":"marginRight"];return[kv(t),kv(a),kv(s)]},YI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return WI;var r=GI(e),t=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-t+r[2]-r[0])}},XI=GC(),Nf="data-scroll-locked",JI=function(e,r,t,a){var s=e.left,i=e.top,o=e.right,l=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(UI,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Nf,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vg,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(wg,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(vg," .").concat(vg,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(wg," .").concat(wg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Nf,`] {
    `).concat(LI,": ").concat(l,`px;
  }
`)},wN=function(){var e=parseInt(document.body.getAttribute(Nf)||"0",10);return isFinite(e)?e:0},ZI=function(){w.useEffect(function(){return document.body.setAttribute(Nf,(wN()+1).toString()),function(){var e=wN()-1;e<=0?document.body.removeAttribute(Nf):document.body.setAttribute(Nf,e.toString())}},[])},eP=function(e){var r=e.noRelative,t=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;ZI();var i=w.useMemo(function(){return YI(s)},[s]);return w.createElement(XI,{styles:JI(i,!r,s,t?"":"!important")})},Ww=!1;if(typeof window<"u")try{var Bp=Object.defineProperty({},"passive",{get:function(){return Ww=!0,!0}});window.addEventListener("test",Bp,Bp),window.removeEventListener("test",Bp,Bp)}catch{Ww=!1}var ef=Ww?{passive:!1}:!1,tP=function(e){return e.tagName==="TEXTAREA"},YC=function(e,r){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!tP(e)&&t[r]==="visible")},rP=function(e){return YC(e,"overflowY")},aP=function(e){return YC(e,"overflowX")},yN=function(e,r){var t=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=XC(e,a);if(s){var i=JC(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==t.body);return!1},nP=function(e){var r=e.scrollTop,t=e.scrollHeight,a=e.clientHeight;return[r,t,a]},sP=function(e){var r=e.scrollLeft,t=e.scrollWidth,a=e.clientWidth;return[r,t,a]},XC=function(e,r){return e==="v"?rP(r):aP(r)},JC=function(e,r){return e==="v"?nP(r):sP(r)},iP=function(e,r){return e==="h"&&r==="rtl"?-1:1},oP=function(e,r,t,a,s){var i=iP(e,window.getComputedStyle(r).direction),o=i*a,l=t.target,A=r.contains(l),d=!1,f=o>0,h=0,m=0;do{if(!l)break;var p=JC(e,l),x=p[0],v=p[1],b=p[2],N=v-b-i*x;(x||N)&&XC(e,l)&&(h+=N,m+=x);var B=l.parentNode;l=B&&B.nodeType===Node.DOCUMENT_FRAGMENT_NODE?B.host:B}while(!A&&l!==document.body||A&&(r.contains(l)||r===l));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(d=!0),d},Cp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bN=function(e){return[e.deltaX,e.deltaY]},NN=function(e){return e&&"current"in e?e.current:e},lP=function(e,r){return e[0]===r[0]&&e[1]===r[1]},cP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},AP=0,tf=[];function dP(e){var r=w.useRef([]),t=w.useRef([0,0]),a=w.useRef(),s=w.useState(AP++)[0],i=w.useState(GC)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=DI([e.lockRef.current],(e.shards||[]).map(NN),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=Cp(v),B=t.current,S="deltaX"in v?v.deltaX:B[0]-N[0],F="deltaY"in v?v.deltaY:B[1]-N[1],L,M=v.target,U=Math.abs(S)>Math.abs(F)?"h":"v";if("touches"in v&&U==="h"&&M.type==="range")return!1;var I=yN(U,M);if(!I)return!0;if(I?L=U:(L=U==="v"?"h":"v",I=yN(U,M)),!I)return!1;if(!a.current&&"changedTouches"in v&&(S||F)&&(a.current=L),!L)return!0;var _=a.current||L;return oP(_,b,v,_==="h"?S:F)},[]),A=w.useCallback(function(v){var b=v;if(!(!tf.length||tf[tf.length-1]!==i)){var N="deltaY"in b?bN(b):Cp(b),B=r.current.filter(function(L){return L.name===b.type&&(L.target===b.target||b.target===L.shadowParent)&&lP(L.delta,N)})[0];if(B&&B.should){b.cancelable&&b.preventDefault();return}if(!B){var S=(o.current.shards||[]).map(NN).filter(Boolean).filter(function(L){return L.contains(b.target)}),F=S.length>0?l(b,S[0]):!o.current.noIsolation;F&&b.cancelable&&b.preventDefault()}}},[]),d=w.useCallback(function(v,b,N,B){var S={name:v,delta:b,target:N,should:B,shadowParent:uP(N)};r.current.push(S),setTimeout(function(){r.current=r.current.filter(function(F){return F!==S})},1)},[]),f=w.useCallback(function(v){t.current=Cp(v),a.current=void 0},[]),h=w.useCallback(function(v){d(v.type,bN(v),v.target,l(v,e.lockRef.current))},[]),m=w.useCallback(function(v){d(v.type,Cp(v),v.target,l(v,e.lockRef.current))},[]);w.useEffect(function(){return tf.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",A,ef),document.addEventListener("touchmove",A,ef),document.addEventListener("touchstart",f,ef),function(){tf=tf.filter(function(v){return v!==i}),document.removeEventListener("wheel",A,ef),document.removeEventListener("touchmove",A,ef),document.removeEventListener("touchstart",f,ef)}},[]);var p=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(i,{styles:cP(s)}):null,p?w.createElement(eP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function uP(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const fP=OI(WC,dP);var Q0=w.forwardRef(function(e,r){return w.createElement(P0,Ql({},e,{ref:r,sideCar:fP}))});Q0.classNames=P0.classNames;var hP=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},rf=new WeakMap,Sp=new WeakMap,Ep={},Dv=0,ZC=function(e){return e&&(e.host||ZC(e.parentNode))},mP=function(e,r){return r.map(function(t){if(e.contains(t))return t;var a=ZC(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},pP=function(e,r,t,a){var s=mP(r,Array.isArray(e)?e:[e]);Ep[t]||(Ep[t]=new WeakMap);var i=Ep[t],o=[],l=new Set,A=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||A.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(a),x=p!==null&&p!=="false",v=(rf.get(m)||0)+1,b=(i.get(m)||0)+1;rf.set(m,v),i.set(m,b),o.push(m),v===1&&x&&Sp.set(m,!0),b===1&&m.setAttribute(t,"true"),x||m.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",m,N)}})};return f(r),l.clear(),Dv++,function(){o.forEach(function(h){var m=rf.get(h)-1,p=i.get(h)-1;rf.set(h,m),i.set(h,p),m||(Sp.has(h)||h.removeAttribute(a),Sp.delete(h)),p||h.removeAttribute(t)}),Dv--,Dv||(rf=new WeakMap,rf=new WeakMap,Sp=new WeakMap,Ep={})}},xy=function(e,r,t){t===void 0&&(t="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=hP(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),pP(a,s,t,"aria-hidden")):function(){return null}},R0="Dialog",[e4,yZ]=ul(R0),[gP,fl]=e4(R0),t4=e=>{const{__scopeDialog:r,children:t,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=w.useRef(null),A=w.useRef(null),[d,f]=nd({prop:a,defaultProp:s??!1,onChange:i,caller:R0});return n.jsx(gP,{scope:r,triggerRef:l,contentRef:A,contentId:zl(),titleId:zl(),descriptionId:zl(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),modal:o,children:t})};t4.displayName=R0;var r4="DialogTrigger",a4=w.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=fl(r4,t),i=ua(r,s.triggerRef);return n.jsx(Nr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":yy(s.open),...a,ref:i,onClick:Ut(e.onClick,s.onOpenToggle)})});a4.displayName=r4;var vy="DialogPortal",[xP,n4]=e4(vy,{forceMount:void 0}),s4=e=>{const{__scopeDialog:r,forceMount:t,children:a,container:s}=e,i=fl(vy,r);return n.jsx(xP,{scope:r,forceMount:t,children:w.Children.map(a,o=>n.jsx(Jl,{present:t||i.open,children:n.jsx(Bm,{asChild:!0,container:s,children:o})}))})};s4.displayName=vy;var qg="DialogOverlay",i4=w.forwardRef((e,r)=>{const t=n4(qg,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,i=fl(qg,e.__scopeDialog);return i.modal?n.jsx(Jl,{present:a||i.open,children:n.jsx(wP,{...s,ref:r})}):null});i4.displayName=qg;var vP=cu("DialogOverlay.RemoveScroll"),wP=w.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=fl(qg,t);return n.jsx(Q0,{as:vP,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(Nr.div,{"data-state":yy(s.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),Au="DialogContent",o4=w.forwardRef((e,r)=>{const t=n4(Au,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,i=fl(Au,e.__scopeDialog);return n.jsx(Jl,{present:a||i.open,children:i.modal?n.jsx(yP,{...s,ref:r}):n.jsx(bP,{...s,ref:r})})});o4.displayName=Au;var yP=w.forwardRef((e,r)=>{const t=fl(Au,e.__scopeDialog),a=w.useRef(null),s=ua(r,t.contentRef,a);return w.useEffect(()=>{const i=a.current;if(i)return xy(i)},[]),n.jsx(l4,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ut(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ut(e.onFocusOutside,i=>i.preventDefault())})}),bP=w.forwardRef((e,r)=>{const t=fl(Au,e.__scopeDialog),a=w.useRef(!1),s=w.useRef(!1);return n.jsx(l4,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=t.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var A,d;(A=e.onInteractOutside)==null||A.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=t.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),l4=w.forwardRef((e,r)=>{const{__scopeDialog:t,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=fl(Au,t),A=w.useRef(null),d=ua(r,A);return gy(),n.jsxs(n.Fragment,{children:[n.jsx(I0,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(qf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":yy(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(NP,{titleId:l.titleId}),n.jsx(BP,{contentRef:A,descriptionId:l.descriptionId})]})]})}),wy="DialogTitle",c4=w.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=fl(wy,t);return n.jsx(Nr.h2,{id:s.titleId,...a,ref:r})});c4.displayName=wy;var A4="DialogDescription",d4=w.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=fl(A4,t);return n.jsx(Nr.p,{id:s.descriptionId,...a,ref:r})});d4.displayName=A4;var u4="DialogClose",f4=w.forwardRef((e,r)=>{const{__scopeDialog:t,...a}=e,s=fl(u4,t);return n.jsx(Nr.button,{type:"button",...a,ref:r,onClick:Ut(e.onClick,()=>s.onOpenChange(!1))})});f4.displayName=u4;function yy(e){return e?"open":"closed"}var h4="DialogTitleWarning",[bZ,m4]=sI(h4,{contentName:Au,titleName:wy,docsSlug:"dialog"}),NP=({titleId:e})=>{const r=m4(h4),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},jP="DialogDescriptionWarning",BP=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${m4(jP).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},p4=t4,CP=a4,g4=s4,T0=i4,M0=o4,O0=c4,H0=d4,x4=f4;const SP=p4,EP=g4,v4=w.forwardRef(({className:e,...r},t)=>n.jsx(T0,{className:st("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:t}));v4.displayName=T0.displayName;const _P=U0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),w4=w.forwardRef(({side:e="right",className:r,children:t,...a},s)=>n.jsxs(EP,{children:[n.jsx(v4,{}),n.jsxs(M0,{ref:s,className:st(_P({side:e}),r),...a,children:[t,n.jsxs(x4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(my,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));w4.displayName=M0.displayName;const FP=w.forwardRef(({className:e,...r},t)=>n.jsx(O0,{ref:t,className:st("text-lg font-semibold text-foreground",e),...r}));FP.displayName=O0.displayName;const kP=w.forwardRef(({className:e,...r},t)=>n.jsx(H0,{ref:t,className:st("text-sm text-muted-foreground",e),...r}));kP.displayName=H0.displayName;function Qr({className:e,...r}){return n.jsx("div",{className:st("animate-pulse rounded-md bg-muted",e),...r})}const DP=["top","right","bottom","left"],sd=Math.min,ro=Math.max,Wg=Math.round,_p=Math.floor,ql=e=>({x:e,y:e}),UP={left:"right",right:"left",bottom:"top",top:"bottom"},LP={start:"end",end:"start"};function Gw(e,r,t){return ro(e,sd(r,t))}function Zc(e,r){return typeof e=="function"?e(r):e}function eA(e){return e.split("-")[0]}function Wf(e){return e.split("-")[1]}function by(e){return e==="x"?"y":"x"}function Ny(e){return e==="y"?"height":"width"}const IP=new Set(["top","bottom"]);function Hl(e){return IP.has(eA(e))?"y":"x"}function jy(e){return by(Hl(e))}function PP(e,r,t){t===void 0&&(t=!1);const a=Wf(e),s=jy(e),i=Ny(s);let o=s==="x"?a===(t?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=Gg(o)),[o,Gg(o)]}function QP(e){const r=Gg(e);return[Yw(e),r,Yw(r)]}function Yw(e){return e.replace(/start|end/g,r=>LP[r])}const jN=["left","right"],BN=["right","left"],RP=["top","bottom"],TP=["bottom","top"];function MP(e,r,t){switch(e){case"top":case"bottom":return t?r?BN:jN:r?jN:BN;case"left":case"right":return r?RP:TP;default:return[]}}function OP(e,r,t,a){const s=Wf(e);let i=MP(eA(e),t==="start",a);return s&&(i=i.map(o=>o+"-"+s),r&&(i=i.concat(i.map(Yw)))),i}function Gg(e){return e.replace(/left|right|bottom|top/g,r=>UP[r])}function HP(e){return{top:0,right:0,bottom:0,left:0,...e}}function y4(e){return typeof e!="number"?HP(e):{top:e,right:e,bottom:e,left:e}}function Yg(e){const{x:r,y:t,width:a,height:s}=e;return{width:a,height:s,top:t,left:r,right:r+a,bottom:t+s,x:r,y:t}}function CN(e,r,t){let{reference:a,floating:s}=e;const i=Hl(r),o=jy(r),l=Ny(o),A=eA(r),d=i==="y",f=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,m=a[l]/2-s[l]/2;let p;switch(A){case"top":p={x:f,y:a.y-s.height};break;case"bottom":p={x:f,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:h};break;case"left":p={x:a.x-s.width,y:h};break;default:p={x:a.x,y:a.y}}switch(Wf(r)){case"start":p[o]-=m*(t&&d?-1:1);break;case"end":p[o]+=m*(t&&d?-1:1);break}return p}const KP=async(e,r,t)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,l=i.filter(Boolean),A=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:s}),{x:f,y:h}=CN(d,a,A),m=a,p={},x=0;for(let v=0;v<l.length;v++){const{name:b,fn:N}=l[v],{x:B,y:S,data:F,reset:L}=await N({x:f,y:h,initialPlacement:a,placement:m,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:r}});f=B??f,h=S??h,p={...p,[b]:{...p[b],...F}},L&&x<=50&&(x++,typeof L=="object"&&(L.placement&&(m=L.placement),L.rects&&(d=L.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:s}):L.rects),{x:f,y:h}=CN(d,m,A)),v=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:p}};async function om(e,r){var t;r===void 0&&(r={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:A}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=Zc(r,e),x=y4(p),b=l[m?h==="floating"?"reference":"floating":h],N=Yg(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(b)))==null||t?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:A})),B=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),F=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},L=Yg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:B,offsetParent:S,strategy:A}):B);return{top:(N.top-L.top+x.top)/F.y,bottom:(L.bottom-N.bottom+x.bottom)/F.y,left:(N.left-L.left+x.left)/F.x,right:(L.right-N.right+x.right)/F.x}}const $P=e=>({name:"arrow",options:e,async fn(r){const{x:t,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:A}=r,{element:d,padding:f=0}=Zc(e,r)||{};if(d==null)return{};const h=y4(f),m={x:t,y:a},p=jy(s),x=Ny(p),v=await o.getDimensions(d),b=p==="y",N=b?"top":"left",B=b?"bottom":"right",S=b?"clientHeight":"clientWidth",F=i.reference[x]+i.reference[p]-m[p]-i.floating[x],L=m[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let U=M?M[S]:0;(!U||!await(o.isElement==null?void 0:o.isElement(M)))&&(U=l.floating[S]||i.floating[x]);const I=F/2-L/2,_=U/2-v[x]/2-1,W=sd(h[N],_),Q=sd(h[B],_),K=W,X=U-v[x]-Q,R=U/2-v[x]/2+I,re=Gw(K,R,X),$=!A.arrow&&Wf(s)!=null&&R!==re&&i.reference[x]/2-(R<K?W:Q)-v[x]/2<0,V=$?R<K?R-K:R-X:0;return{[p]:m[p]+V,data:{[p]:re,centerOffset:R-re-V,...$&&{alignmentOffset:V}},reset:$}}}),VP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var t,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:A,elements:d}=r,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...b}=Zc(e,r);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const N=eA(s),B=Hl(l),S=eA(l)===l,F=await(A.isRTL==null?void 0:A.isRTL(d.floating)),L=m||(S||!v?[Gg(l)]:QP(l)),M=x!=="none";!m&&M&&L.push(...OP(l,v,x,F));const U=[l,...L],I=await om(r,b),_=[];let W=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&_.push(I[N]),h){const R=PP(s,o,F);_.push(I[R[0]],I[R[1]])}if(W=[...W,{placement:s,overflows:_}],!_.every(R=>R<=0)){var Q,K;const R=(((Q=i.flip)==null?void 0:Q.index)||0)+1,re=U[R];if(re&&(!(h==="alignment"?B!==Hl(re):!1)||W.every(Z=>Hl(Z.placement)===B?Z.overflows[0]>0:!0)))return{data:{index:R,overflows:W},reset:{placement:re}};let $=(K=W.filter(V=>V.overflows[0]<=0).sort((V,Z)=>V.overflows[1]-Z.overflows[1])[0])==null?void 0:K.placement;if(!$)switch(p){case"bestFit":{var X;const V=(X=W.filter(Z=>{if(M){const ie=Hl(Z.placement);return ie===B||ie==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ie=>ie>0).reduce((ie,ue)=>ie+ue,0)]).sort((Z,ie)=>Z[1]-ie[1])[0])==null?void 0:X[0];V&&($=V);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function SN(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function EN(e){return DP.some(r=>e[r]>=0)}const zP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:t}=r,{strategy:a="referenceHidden",...s}=Zc(e,r);switch(a){case"referenceHidden":{const i=await om(r,{...s,elementContext:"reference"}),o=SN(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:EN(o)}}}case"escaped":{const i=await om(r,{...s,altBoundary:!0}),o=SN(i,t.floating);return{data:{escapedOffsets:o,escaped:EN(o)}}}default:return{}}}}},b4=new Set(["left","top"]);async function qP(e,r){const{placement:t,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=eA(t),l=Wf(t),A=Hl(t)==="y",d=b4.has(o)?-1:1,f=i&&A?-1:1,h=Zc(r,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),A?{x:p*f,y:m*d}:{x:m*d,y:p*f}}const WP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var t,a;const{x:s,y:i,placement:o,middlewareData:l}=r,A=await qP(r,e);return o===((t=l.offset)==null?void 0:t.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+A.x,y:i+A.y,data:{...A,placement:o}}}}},GP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:t,y:a,placement:s}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:N,y:B}=b;return{x:N,y:B}}},...A}=Zc(e,r),d={x:t,y:a},f=await om(r,A),h=Hl(eA(s)),m=by(h);let p=d[m],x=d[h];if(i){const b=m==="y"?"top":"left",N=m==="y"?"bottom":"right",B=p+f[b],S=p-f[N];p=Gw(B,p,S)}if(o){const b=h==="y"?"top":"left",N=h==="y"?"bottom":"right",B=x+f[b],S=x-f[N];x=Gw(B,x,S)}const v=l.fn({...r,[m]:p,[h]:x});return{...v,data:{x:v.x-t,y:v.y-a,enabled:{[m]:i,[h]:o}}}}}},YP=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:t,y:a,placement:s,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:A=!0,crossAxis:d=!0}=Zc(e,r),f={x:t,y:a},h=Hl(s),m=by(h);let p=f[m],x=f[h];const v=Zc(l,r),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(A){const S=m==="y"?"height":"width",F=i.reference[m]-i.floating[S]+b.mainAxis,L=i.reference[m]+i.reference[S]-b.mainAxis;p<F?p=F:p>L&&(p=L)}if(d){var N,B;const S=m==="y"?"width":"height",F=b4.has(eA(s)),L=i.reference[h]-i.floating[S]+(F&&((N=o.offset)==null?void 0:N[h])||0)+(F?0:b.crossAxis),M=i.reference[h]+i.reference[S]+(F?0:((B=o.offset)==null?void 0:B[h])||0)-(F?b.crossAxis:0);x<L?x=L:x>M&&(x=M)}return{[m]:p,[h]:x}}}},XP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var t,a;const{placement:s,rects:i,platform:o,elements:l}=r,{apply:A=()=>{},...d}=Zc(e,r),f=await om(r,d),h=eA(s),m=Wf(s),p=Hl(s)==="y",{width:x,height:v}=i.floating;let b,N;h==="top"||h==="bottom"?(b=h,N=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=h,b=m==="end"?"top":"bottom");const B=v-f.top-f.bottom,S=x-f.left-f.right,F=sd(v-f[b],B),L=sd(x-f[N],S),M=!r.middlewareData.shift;let U=F,I=L;if((t=r.middlewareData.shift)!=null&&t.enabled.x&&(I=S),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(U=B),M&&!m){const W=ro(f.left,0),Q=ro(f.right,0),K=ro(f.top,0),X=ro(f.bottom,0);p?I=x-2*(W!==0||Q!==0?W+Q:ro(f.left,f.right)):U=v-2*(K!==0||X!==0?K+X:ro(f.top,f.bottom))}await A({...r,availableWidth:I,availableHeight:U});const _=await o.getDimensions(l.floating);return x!==_.width||v!==_.height?{reset:{rects:!0}}:{}}}};function K0(){return typeof window<"u"}function Gf(e){return N4(e)?(e.nodeName||"").toLowerCase():"#document"}function no(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Zl(e){var r;return(r=(N4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function N4(e){return K0()?e instanceof Node||e instanceof no(e).Node:!1}function Ai(e){return K0()?e instanceof Element||e instanceof no(e).Element:!1}function Yl(e){return K0()?e instanceof HTMLElement||e instanceof no(e).HTMLElement:!1}function _N(e){return!K0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof no(e).ShadowRoot}const JP=new Set(["inline","contents"]);function Cm(e){const{overflow:r,overflowX:t,overflowY:a,display:s}=ko(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+t)&&!JP.has(s)}const ZP=new Set(["table","td","th"]);function eQ(e){return ZP.has(Gf(e))}const tQ=[":popover-open",":modal"];function $0(e){return tQ.some(r=>{try{return e.matches(r)}catch{return!1}})}const rQ=["transform","translate","scale","rotate","perspective"],aQ=["transform","translate","scale","rotate","perspective","filter"],nQ=["paint","layout","strict","content"];function By(e){const r=Cy(),t=Ai(e)?ko(e):e;return rQ.some(a=>t[a]?t[a]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||aQ.some(a=>(t.willChange||"").includes(a))||nQ.some(a=>(t.contain||"").includes(a))}function sQ(e){let r=id(e);for(;Yl(r)&&!Lf(r);){if(By(r))return r;if($0(r))return null;r=id(r)}return null}function Cy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iQ=new Set(["html","body","#document"]);function Lf(e){return iQ.has(Gf(e))}function ko(e){return no(e).getComputedStyle(e)}function V0(e){return Ai(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function id(e){if(Gf(e)==="html")return e;const r=e.assignedSlot||e.parentNode||_N(e)&&e.host||Zl(e);return _N(r)?r.host:r}function j4(e){const r=id(e);return Lf(r)?e.ownerDocument?e.ownerDocument.body:e.body:Yl(r)&&Cm(r)?r:j4(r)}function lm(e,r,t){var a;r===void 0&&(r=[]),t===void 0&&(t=!0);const s=j4(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=no(s);if(i){const l=Xw(o);return r.concat(o,o.visualViewport||[],Cm(s)?s:[],l&&t?lm(l):[])}return r.concat(s,lm(s,[],t))}function Xw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function B4(e){const r=ko(e);let t=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const s=Yl(e),i=s?e.offsetWidth:t,o=s?e.offsetHeight:a,l=Wg(t)!==i||Wg(a)!==o;return l&&(t=i,a=o),{width:t,height:a,$:l}}function Sy(e){return Ai(e)?e:e.contextElement}function jf(e){const r=Sy(e);if(!Yl(r))return ql(1);const t=r.getBoundingClientRect(),{width:a,height:s,$:i}=B4(r);let o=(i?Wg(t.width):t.width)/a,l=(i?Wg(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const oQ=ql(0);function C4(e){const r=no(e);return!Cy()||!r.visualViewport?oQ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function lQ(e,r,t){return r===void 0&&(r=!1),!t||r&&t!==no(e)?!1:r}function du(e,r,t,a){r===void 0&&(r=!1),t===void 0&&(t=!1);const s=e.getBoundingClientRect(),i=Sy(e);let o=ql(1);r&&(a?Ai(a)&&(o=jf(a)):o=jf(e));const l=lQ(i,t,a)?C4(i):ql(0);let A=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const m=no(i),p=a&&Ai(a)?no(a):a;let x=m,v=Xw(x);for(;v&&a&&p!==x;){const b=jf(v),N=v.getBoundingClientRect(),B=ko(v),S=N.left+(v.clientLeft+parseFloat(B.paddingLeft))*b.x,F=N.top+(v.clientTop+parseFloat(B.paddingTop))*b.y;A*=b.x,d*=b.y,f*=b.x,h*=b.y,A+=S,d+=F,x=no(v),v=Xw(x)}}return Yg({width:f,height:h,x:A,y:d})}function z0(e,r){const t=V0(e).scrollLeft;return r?r.left+t:du(Zl(e)).left+t}function S4(e,r){const t=e.getBoundingClientRect(),a=t.left+r.scrollLeft-z0(e,t),s=t.top+r.scrollTop;return{x:a,y:s}}function cQ(e){let{elements:r,rect:t,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=Zl(a),l=r?$0(r.floating):!1;if(a===o||l&&i)return t;let A={scrollLeft:0,scrollTop:0},d=ql(1);const f=ql(0),h=Yl(a);if((h||!h&&!i)&&((Gf(a)!=="body"||Cm(o))&&(A=V0(a)),Yl(a))){const p=du(a);d=jf(a),f.x=p.x+a.clientLeft,f.y=p.y+a.clientTop}const m=o&&!h&&!i?S4(o,A):ql(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-A.scrollLeft*d.x+f.x+m.x,y:t.y*d.y-A.scrollTop*d.y+f.y+m.y}}function AQ(e){return Array.from(e.getClientRects())}function dQ(e){const r=Zl(e),t=V0(e),a=e.ownerDocument.body,s=ro(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=ro(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-t.scrollLeft+z0(e);const l=-t.scrollTop;return ko(a).direction==="rtl"&&(o+=ro(r.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}const FN=25;function uQ(e,r){const t=no(e),a=Zl(e),s=t.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,A=0;if(s){i=s.width,o=s.height;const f=Cy();(!f||f&&r==="fixed")&&(l=s.offsetLeft,A=s.offsetTop)}const d=z0(a);if(d<=0){const f=a.ownerDocument,h=f.body,m=getComputedStyle(h),p=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(a.clientWidth-h.clientWidth-p);x<=FN&&(i-=x)}else d<=FN&&(i+=d);return{width:i,height:o,x:l,y:A}}const fQ=new Set(["absolute","fixed"]);function hQ(e,r){const t=du(e,!0,r==="fixed"),a=t.top+e.clientTop,s=t.left+e.clientLeft,i=Yl(e)?jf(e):ql(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,A=s*i.x,d=a*i.y;return{width:o,height:l,x:A,y:d}}function kN(e,r,t){let a;if(r==="viewport")a=uQ(e,t);else if(r==="document")a=dQ(Zl(e));else if(Ai(r))a=hQ(r,t);else{const s=C4(e);a={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return Yg(a)}function E4(e,r){const t=id(e);return t===r||!Ai(t)||Lf(t)?!1:ko(t).position==="fixed"||E4(t,r)}function mQ(e,r){const t=r.get(e);if(t)return t;let a=lm(e,[],!1).filter(l=>Ai(l)&&Gf(l)!=="body"),s=null;const i=ko(e).position==="fixed";let o=i?id(e):e;for(;Ai(o)&&!Lf(o);){const l=ko(o),A=By(o);!A&&l.position==="fixed"&&(s=null),(i?!A&&!s:!A&&l.position==="static"&&!!s&&fQ.has(s.position)||Cm(o)&&!A&&E4(e,o))?a=a.filter(f=>f!==o):s=l,o=id(o)}return r.set(e,a),a}function pQ(e){let{element:r,boundary:t,rootBoundary:a,strategy:s}=e;const o=[...t==="clippingAncestors"?$0(r)?[]:mQ(r,this._c):[].concat(t),a],l=o[0],A=o.reduce((d,f)=>{const h=kN(r,f,s);return d.top=ro(h.top,d.top),d.right=sd(h.right,d.right),d.bottom=sd(h.bottom,d.bottom),d.left=ro(h.left,d.left),d},kN(r,l,s));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}}function gQ(e){const{width:r,height:t}=B4(e);return{width:r,height:t}}function xQ(e,r,t){const a=Yl(r),s=Zl(r),i=t==="fixed",o=du(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const A=ql(0);function d(){A.x=z0(s)}if(a||!a&&!i)if((Gf(r)!=="body"||Cm(s))&&(l=V0(r)),a){const p=du(r,!0,i,r);A.x=p.x+r.clientLeft,A.y=p.y+r.clientTop}else s&&d();i&&!a&&s&&d();const f=s&&!a&&!i?S4(s,l):ql(0),h=o.left+l.scrollLeft-A.x-f.x,m=o.top+l.scrollTop-A.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function Uv(e){return ko(e).position==="static"}function DN(e,r){if(!Yl(e)||ko(e).position==="fixed")return null;if(r)return r(e);let t=e.offsetParent;return Zl(e)===t&&(t=t.ownerDocument.body),t}function _4(e,r){const t=no(e);if($0(e))return t;if(!Yl(e)){let s=id(e);for(;s&&!Lf(s);){if(Ai(s)&&!Uv(s))return s;s=id(s)}return t}let a=DN(e,r);for(;a&&eQ(a)&&Uv(a);)a=DN(a,r);return a&&Lf(a)&&Uv(a)&&!By(a)?t:a||sQ(e)||t}const vQ=async function(e){const r=this.getOffsetParent||_4,t=this.getDimensions,a=await t(e.floating);return{reference:xQ(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function wQ(e){return ko(e).direction==="rtl"}const yQ={convertOffsetParentRelativeRectToViewportRelativeRect:cQ,getDocumentElement:Zl,getClippingRect:pQ,getOffsetParent:_4,getElementRects:vQ,getClientRects:AQ,getDimensions:gQ,getScale:jf,isElement:Ai,isRTL:wQ};function F4(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function bQ(e,r){let t=null,a;const s=Zl(e);function i(){var l;clearTimeout(a),(l=t)==null||l.disconnect(),t=null}function o(l,A){l===void 0&&(l=!1),A===void 0&&(A=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=d;if(l||r(),!m||!p)return;const x=_p(h),v=_p(s.clientWidth-(f+m)),b=_p(s.clientHeight-(h+p)),N=_p(f),S={rootMargin:-x+"px "+-v+"px "+-b+"px "+-N+"px",threshold:ro(0,sd(1,A))||1};let F=!0;function L(M){const U=M[0].intersectionRatio;if(U!==A){if(!F)return o();U?o(!1,U):a=setTimeout(()=>{o(!1,1e-7)},1e3)}U===1&&!F4(d,e.getBoundingClientRect())&&o(),F=!1}try{t=new IntersectionObserver(L,{...S,root:s.ownerDocument})}catch{t=new IntersectionObserver(L,S)}t.observe(e)}return o(!0),i}function k4(e,r,t,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:A=!1}=a,d=Sy(e),f=s||i?[...d?lm(d):[],...lm(r)]:[];f.forEach(N=>{s&&N.addEventListener("scroll",t,{passive:!0}),i&&N.addEventListener("resize",t)});const h=d&&l?bQ(d,t):null;let m=-1,p=null;o&&(p=new ResizeObserver(N=>{let[B]=N;B&&B.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(r)})),t()}),d&&!A&&p.observe(d),p.observe(r));let x,v=A?du(e):null;A&&b();function b(){const N=du(e);v&&!F4(v,N)&&t(),v=N,x=requestAnimationFrame(b)}return t(),()=>{var N;f.forEach(B=>{s&&B.removeEventListener("scroll",t),i&&B.removeEventListener("resize",t)}),h==null||h(),(N=p)==null||N.disconnect(),p=null,A&&cancelAnimationFrame(x)}}const NQ=WP,jQ=GP,BQ=VP,CQ=XP,SQ=zP,UN=$P,EQ=YP,_Q=(e,r,t)=>{const a=new Map,s={platform:yQ,...t},i={...s.platform,_c:a};return KP(e,r,{...s,platform:i})};var FQ=typeof document<"u",kQ=function(){},yg=FQ?w.useLayoutEffect:kQ;function Xg(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let t,a,s;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==r.length)return!1;for(a=t;a--!==0;)if(!Xg(e[a],r[a]))return!1;return!0}if(s=Object.keys(e),t=s.length,t!==Object.keys(r).length)return!1;for(a=t;a--!==0;)if(!{}.hasOwnProperty.call(r,s[a]))return!1;for(a=t;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!Xg(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function D4(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function LN(e,r){const t=D4(e);return Math.round(r*t)/t}function Lv(e){const r=w.useRef(e);return yg(()=>{r.current=e}),r}function U4(e){e===void 0&&(e={});const{placement:r="bottom",strategy:t="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:A,open:d}=e,[f,h]=w.useState({x:0,y:0,strategy:t,placement:r,middlewareData:{},isPositioned:!1}),[m,p]=w.useState(a);Xg(m,a)||p(a);const[x,v]=w.useState(null),[b,N]=w.useState(null),B=w.useCallback(Z=>{Z!==M.current&&(M.current=Z,v(Z))},[]),S=w.useCallback(Z=>{Z!==U.current&&(U.current=Z,N(Z))},[]),F=i||x,L=o||b,M=w.useRef(null),U=w.useRef(null),I=w.useRef(f),_=A!=null,W=Lv(A),Q=Lv(s),K=Lv(d),X=w.useCallback(()=>{if(!M.current||!U.current)return;const Z={placement:r,strategy:t,middleware:m};Q.current&&(Z.platform=Q.current),_Q(M.current,U.current,Z).then(ie=>{const ue={...ie,isPositioned:K.current!==!1};R.current&&!Xg(I.current,ue)&&(I.current=ue,Of.flushSync(()=>{h(ue)}))})},[m,r,t,Q,K]);yg(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(Z=>({...Z,isPositioned:!1})))},[d]);const R=w.useRef(!1);yg(()=>(R.current=!0,()=>{R.current=!1}),[]),yg(()=>{if(F&&(M.current=F),L&&(U.current=L),F&&L){if(W.current)return W.current(F,L,X);X()}},[F,L,X,W,_]);const re=w.useMemo(()=>({reference:M,floating:U,setReference:B,setFloating:S}),[B,S]),$=w.useMemo(()=>({reference:F,floating:L}),[F,L]),V=w.useMemo(()=>{const Z={position:t,left:0,top:0};if(!$.floating)return Z;const ie=LN($.floating,f.x),ue=LN($.floating,f.y);return l?{...Z,transform:"translate("+ie+"px, "+ue+"px)",...D4($.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ie,top:ue}},[t,l,$.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:X,refs:re,elements:$,floatingStyles:V}),[f,X,re,$,V])}const DQ=e=>{function r(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:a,padding:s}=typeof e=="function"?e(t):e;return a&&r(a)?a.current!=null?UN({element:a.current,padding:s}).fn(t):{}:a?UN({element:a,padding:s}).fn(t):{}}}},L4=(e,r)=>({...NQ(e),options:[e,r]}),UQ=(e,r)=>({...jQ(e),options:[e,r]}),LQ=(e,r)=>({...EQ(e),options:[e,r]}),I4=(e,r)=>({...BQ(e),options:[e,r]}),IQ=(e,r)=>({...CQ(e),options:[e,r]}),PQ=(e,r)=>({...SQ(e),options:[e,r]}),P4=(e,r)=>({...DQ(e),options:[e,r]});var QQ="Arrow",Q4=w.forwardRef((e,r)=>{const{children:t,width:a=10,height:s=5,...i}=e;return n.jsx(Nr.svg,{...i,ref:r,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?t:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});Q4.displayName=QQ;var RQ=Q4;function R4(e){const[r,t]=w.useState(void 0);return Yn(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const A=i.borderBoxSize,d=Array.isArray(A)?A[0]:A;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;t({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else t(void 0)},[e]),r}var Ey="Popper",[T4,Yf]=ul(Ey),[TQ,M4]=T4(Ey),O4=e=>{const{__scopePopper:r,children:t}=e,[a,s]=w.useState(null);return n.jsx(TQ,{scope:r,anchor:a,onAnchorChange:s,children:t})};O4.displayName=Ey;var H4="PopperAnchor",K4=w.forwardRef((e,r)=>{const{__scopePopper:t,virtualRef:a,...s}=e,i=M4(H4,t),o=w.useRef(null),l=ua(r,o),A=w.useRef(null);return w.useEffect(()=>{const d=A.current;A.current=(a==null?void 0:a.current)||o.current,d!==A.current&&i.onAnchorChange(A.current)}),a?null:n.jsx(Nr.div,{...s,ref:l})});K4.displayName=H4;var _y="PopperContent",[MQ,OQ]=T4(_y),$4=w.forwardRef((e,r)=>{var G,ne,ce,pe,ve,Pe;const{__scopePopper:t,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:A=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...v}=e,b=M4(_y,t),[N,B]=w.useState(null),S=ua(r,ke=>B(ke)),[F,L]=w.useState(null),M=R4(F),U=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,_=a+(i!=="center"?"-"+i:""),W=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Q=Array.isArray(d)?d:[d],K=Q.length>0,X={padding:W,boundary:Q.filter(KQ),altBoundary:K},{refs:R,floatingStyles:re,placement:$,isPositioned:V,middlewareData:Z}=U4({strategy:"fixed",placement:_,whileElementsMounted:(...ke)=>k4(...ke,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[L4({mainAxis:s+I,alignmentAxis:o}),A&&UQ({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?LQ():void 0,...X}),A&&I4({...X}),IQ({...X,apply:({elements:ke,rects:xe,availableWidth:de,availableHeight:wt})=>{const{width:bt,height:mt}=xe.reference,qe=ke.floating.style;qe.setProperty("--radix-popper-available-width",`${de}px`),qe.setProperty("--radix-popper-available-height",`${wt}px`),qe.setProperty("--radix-popper-anchor-width",`${bt}px`),qe.setProperty("--radix-popper-anchor-height",`${mt}px`)}}),F&&P4({element:F,padding:l}),$Q({arrowWidth:U,arrowHeight:I}),m&&PQ({strategy:"referenceHidden",...X})]}),[ie,ue]=q4($),E=fi(x);Yn(()=>{V&&(E==null||E())},[V,E]);const P=(G=Z.arrow)==null?void 0:G.x,Y=(ne=Z.arrow)==null?void 0:ne.y,z=((ce=Z.arrow)==null?void 0:ce.centerOffset)!==0,[J,q]=w.useState();return Yn(()=>{N&&q(window.getComputedStyle(N).zIndex)},[N]),n.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:V?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(pe=Z.transformOrigin)==null?void 0:pe.x,(ve=Z.transformOrigin)==null?void 0:ve.y].join(" "),...((Pe=Z.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(MQ,{scope:t,placedSide:ie,onArrowChange:L,arrowX:P,arrowY:Y,shouldHideArrow:z,children:n.jsx(Nr.div,{"data-side":ie,"data-align":ue,...v,ref:S,style:{...v.style,animation:V?void 0:"none"}})})})});$4.displayName=_y;var V4="PopperArrow",HQ={top:"bottom",right:"left",bottom:"top",left:"right"},z4=w.forwardRef(function(r,t){const{__scopePopper:a,...s}=r,i=OQ(V4,a),o=HQ[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(RQ,{...s,ref:t,style:{...s.style,display:"block"}})})});z4.displayName=V4;function KQ(e){return e!==null}var $Q=e=>({name:"transformOrigin",options:e,fn(r){var b,N,B;const{placement:t,rects:a,middlewareData:s}=r,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,A=o?0:e.arrowHeight,[d,f]=q4(t),h={start:"0%",center:"50%",end:"100%"}[f],m=(((N=s.arrow)==null?void 0:N.x)??0)+l/2,p=(((B=s.arrow)==null?void 0:B.y)??0)+A/2;let x="",v="";return d==="bottom"?(x=o?h:`${m}px`,v=`${-A}px`):d==="top"?(x=o?h:`${m}px`,v=`${a.floating.height+A}px`):d==="right"?(x=`${-A}px`,v=o?h:`${p}px`):d==="left"&&(x=`${a.floating.width+A}px`,v=o?h:`${p}px`),{data:{x,y:v}}}});function q4(e){const[r,t="center"]=e.split("-");return[r,t]}var Fy=O4,ky=K4,Dy=$4,Uy=z4,W4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VQ="VisuallyHidden",q0=w.forwardRef((e,r)=>n.jsx(Nr.span,{...e,ref:r,style:{...W4,...e.style}}));q0.displayName=VQ;var zQ=q0,[W0,NZ]=ul("Tooltip",[Yf]),G0=Yf(),G4="TooltipProvider",qQ=700,Jw="tooltip.open",[WQ,Ly]=W0(G4),Y4=e=>{const{__scopeTooltip:r,delayDuration:t=qQ,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,o=w.useRef(!0),l=w.useRef(!1),A=w.useRef(0);return w.useEffect(()=>{const d=A.current;return()=>window.clearTimeout(d)},[]),n.jsx(WQ,{scope:r,isOpenDelayedRef:o,delayDuration:t,onOpen:w.useCallback(()=>{window.clearTimeout(A.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};Y4.displayName=G4;var cm="Tooltip",[GQ,Y0]=W0(cm),X4=e=>{const{__scopeTooltip:r,children:t,open:a,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,A=Ly(cm,e.__scopeTooltip),d=G0(r),[f,h]=w.useState(null),m=zl(),p=w.useRef(0),x=o??A.disableHoverableContent,v=l??A.delayDuration,b=w.useRef(!1),[N,B]=nd({prop:a,defaultProp:s??!1,onChange:U=>{U?(A.onOpen(),document.dispatchEvent(new CustomEvent(Jw))):A.onClose(),i==null||i(U)},caller:cm}),S=w.useMemo(()=>N?b.current?"delayed-open":"instant-open":"closed",[N]),F=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,B(!0)},[B]),L=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,B(!1)},[B]),M=w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,B(!0),p.current=0},v)},[v,B]);return w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(Fy,{...d,children:n.jsx(GQ,{scope:r,contentId:m,open:N,stateAttribute:S,trigger:f,onTriggerChange:h,onTriggerEnter:w.useCallback(()=>{A.isOpenDelayedRef.current?M():F()},[A.isOpenDelayedRef,M,F]),onTriggerLeave:w.useCallback(()=>{x?L():(window.clearTimeout(p.current),p.current=0)},[L,x]),onOpen:F,onClose:L,disableHoverableContent:x,children:t})})};X4.displayName=cm;var Zw="TooltipTrigger",J4=w.forwardRef((e,r)=>{const{__scopeTooltip:t,...a}=e,s=Y0(Zw,t),i=Ly(Zw,t),o=G0(t),l=w.useRef(null),A=ua(r,l,s.onTriggerChange),d=w.useRef(!1),f=w.useRef(!1),h=w.useCallback(()=>d.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(ky,{asChild:!0,...o,children:n.jsx(Nr.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:A,onPointerMove:Ut(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ut(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Ut(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ut(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ut(e.onBlur,s.onClose),onClick:Ut(e.onClick,s.onClose)})})});J4.displayName=Zw;var YQ="TooltipPortal",[jZ,XQ]=W0(YQ,{forceMount:void 0}),If="TooltipContent",Z4=w.forwardRef((e,r)=>{const t=XQ(If,e.__scopeTooltip),{forceMount:a=t.forceMount,side:s="top",...i}=e,o=Y0(If,e.__scopeTooltip);return n.jsx(Jl,{present:a||o.open,children:o.disableHoverableContent?n.jsx(eS,{side:s,...i,ref:r}):n.jsx(JQ,{side:s,...i,ref:r})})}),JQ=w.forwardRef((e,r)=>{const t=Y0(If,e.__scopeTooltip),a=Ly(If,e.__scopeTooltip),s=w.useRef(null),i=ua(r,s),[o,l]=w.useState(null),{trigger:A,onClose:d}=t,f=s.current,{onPointerInTransitChange:h}=a,m=w.useCallback(()=>{l(null),h(!1)},[h]),p=w.useCallback((x,v)=>{const b=x.currentTarget,N={x:x.clientX,y:x.clientY},B=aR(N,b.getBoundingClientRect()),S=nR(N,B),F=sR(v.getBoundingClientRect()),L=oR([...S,...F]);l(L),h(!0)},[h]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(A&&f){const x=b=>p(b,f),v=b=>p(b,A);return A.addEventListener("pointerleave",x),f.addEventListener("pointerleave",v),()=>{A.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",v)}}},[A,f,p,m]),w.useEffect(()=>{if(o){const x=v=>{const b=v.target,N={x:v.clientX,y:v.clientY},B=(A==null?void 0:A.contains(b))||(f==null?void 0:f.contains(b)),S=!iR(N,o);B?m():S&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[A,f,o,d,m]),n.jsx(eS,{...e,ref:i})}),[ZQ,eR]=W0(cm,{isInside:!1}),tR=vL("TooltipContent"),eS=w.forwardRef((e,r)=>{const{__scopeTooltip:t,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,A=Y0(If,t),d=G0(t),{onClose:f}=A;return w.useEffect(()=>(document.addEventListener(Jw,f),()=>document.removeEventListener(Jw,f)),[f]),w.useEffect(()=>{if(A.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(A.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[A.trigger,f]),n.jsx(qf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:n.jsxs(Dy,{"data-state":A.stateAttribute,...d,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(tR,{children:a}),n.jsx(ZQ,{scope:t,isInside:!0,children:n.jsx(zQ,{id:A.contentId,role:"tooltip",children:s||a})})]})})});Z4.displayName=If;var tS="TooltipArrow",rR=w.forwardRef((e,r)=>{const{__scopeTooltip:t,...a}=e,s=G0(t);return eR(tS,t).isInside?null:n.jsx(Uy,{...s,...a,ref:r})});rR.displayName=tS;function aR(e,r){const t=Math.abs(r.top-e.y),a=Math.abs(r.bottom-e.y),s=Math.abs(r.right-e.x),i=Math.abs(r.left-e.x);switch(Math.min(t,a,s,i)){case i:return"left";case s:return"right";case t:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function nR(e,r,t=5){const a=[];switch(r){case"top":a.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":a.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":a.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":a.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return a}function sR(e){const{top:r,right:t,bottom:a,left:s}=e;return[{x:s,y:r},{x:t,y:r},{x:t,y:a},{x:s,y:a}]}function iR(e,r){const{x:t,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],A=r[o],d=l.x,f=l.y,h=A.x,m=A.y;f>a!=m>a&&t<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function oR(e){const r=e.slice();return r.sort((t,a)=>t.x<a.x?-1:t.x>a.x?1:t.y<a.y?-1:t.y>a.y?1:0),lR(r)}function lR(e){if(e.length<=1)return e.slice();const r=[];for(let a=0;a<e.length;a++){const s=e[a];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}r.pop();const t=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}var cR=Y4,AR=X4,dR=J4,rS=Z4;const aS=cR,nS=AR,sS=dR,Iy=w.forwardRef(({className:e,sideOffset:r=4,...t},a)=>n.jsx(rS,{ref:a,sideOffset:r,className:st("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Iy.displayName=rS.displayName;const uR="sidebar:state",fR=3600*24*7,hR="16rem",mR="18rem",pR="3rem",gR="b",iS=w.createContext(null);function X0(){const e=w.useContext(iS);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const oS=w.forwardRef(({defaultOpen:e=!0,open:r,onOpenChange:t,className:a,style:s,children:i,...o},l)=>{const A=ZL(),[d,f]=w.useState(!1),[h,m]=w.useState(e),p=r??h,x=w.useCallback(B=>{const S=typeof B=="function"?B(p):B;t?t(S):m(S),document.cookie=`${uR}=${S}; path=/; max-age=${fR}`},[t,p]),v=w.useCallback(()=>A?f(B=>!B):x(B=>!B),[A,x,f]);w.useEffect(()=>{const B=S=>{S.key===gR&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),v())};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[v]);const b=p?"expanded":"collapsed",N=w.useMemo(()=>({state:b,open:p,setOpen:x,isMobile:A,openMobile:d,setOpenMobile:f,toggleSidebar:v}),[b,p,x,A,d,f,v]);return n.jsx(iS.Provider,{value:N,children:n.jsx(aS,{delayDuration:0,children:n.jsx("div",{style:{"--sidebar-width":hR,"--sidebar-width-icon":pR,...s},className:st("group/sidebar-wrapper flex min-h-svh w-full bg-background",a),ref:l,...o,children:i})})})});oS.displayName="SidebarProvider";const lS=w.forwardRef(({side:e="left",variant:r="sidebar",collapsible:t="offcanvas",className:a,children:s,...i},o)=>{const{isMobile:l,state:A,openMobile:d,setOpenMobile:f}=X0();return t==="none"?n.jsx("div",{className:st("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a),ref:o,...i,children:s}):l?n.jsx(SP,{open:d,onOpenChange:f,...i,children:n.jsx(w4,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":mR},side:e,children:n.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):n.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":A,"data-collapsible":A==="collapsed"?t:"","data-variant":r,"data-side":e,children:[n.jsx("div",{className:st("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),n.jsx("div",{className:st("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...i,children:n.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});lS.displayName="Sidebar";const cS=w.forwardRef(({className:e,onClick:r,...t},a)=>{const{toggleSidebar:s}=X0();return n.jsxs(ye,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:st("h-7 w-7",e),onClick:i=>{r==null||r(i),s()},...t,children:[n.jsx($L,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});cS.displayName="SidebarTrigger";const xR=w.forwardRef(({className:e,...r},t)=>{const{toggleSidebar:a}=X0();return n.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:st("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...r})});xR.displayName="SidebarRail";const AS=w.forwardRef(({className:e,...r},t)=>n.jsx("main",{ref:t,className:st("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...r}));AS.displayName="SidebarInset";const vR=w.forwardRef(({className:e,...r},t)=>n.jsx(Ge,{ref:t,"data-sidebar":"input",className:st("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...r}));vR.displayName="SidebarInput";const dS=w.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"header",className:st("flex flex-col gap-2 p-2",e),...r}));dS.displayName="SidebarHeader";const uS=w.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"footer",className:st("flex flex-col gap-2 p-2",e),...r}));uS.displayName="SidebarFooter";const wR=w.forwardRef(({className:e,...r},t)=>n.jsx(ws,{ref:t,"data-sidebar":"separator",className:st("mx-2 w-auto bg-sidebar-border",e),...r}));wR.displayName="SidebarSeparator";const fS=w.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"content",className:st("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...r}));fS.displayName="SidebarContent";const e1=w.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"group",className:st("relative flex w-full min-w-0 flex-col p-2",e),...r}));e1.displayName="SidebarGroup";const t1=w.forwardRef(({className:e,asChild:r=!1,...t},a)=>{const s=r?zf:"div";return n.jsx(s,{ref:a,"data-sidebar":"group-label",className:st("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...t})});t1.displayName="SidebarGroupLabel";const yR=w.forwardRef(({className:e,asChild:r=!1,...t},a)=>{const s=r?zf:"button";return n.jsx(s,{ref:a,"data-sidebar":"group-action",className:st("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...t})});yR.displayName="SidebarGroupAction";const r1=w.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"group-content",className:st("w-full text-sm",e),...r}));r1.displayName="SidebarGroupContent";const a1=w.forwardRef(({className:e,...r},t)=>n.jsx("ul",{ref:t,"data-sidebar":"menu",className:st("flex w-full min-w-0 flex-col gap-1",e),...r}));a1.displayName="SidebarMenu";const n1=w.forwardRef(({className:e,...r},t)=>n.jsx("li",{ref:t,"data-sidebar":"menu-item",className:st("group/menu-item relative",e),...r}));n1.displayName="SidebarMenuItem";const bR=U0("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),s1=w.forwardRef(({asChild:e=!1,isActive:r=!1,variant:t="default",size:a="default",tooltip:s,className:i,...o},l)=>{const A=e?zf:"button",{isMobile:d,state:f}=X0(),h=n.jsx(A,{ref:l,"data-sidebar":"menu-button","data-size":a,"data-active":r,className:st(bR({variant:t,size:a}),i),...o});return s?(typeof s=="string"&&(s={children:s}),n.jsxs(nS,{children:[n.jsx(sS,{asChild:!0,children:h}),n.jsx(Iy,{side:"right",align:"center",hidden:f!=="collapsed"||d,...s})]})):h});s1.displayName="SidebarMenuButton";const NR=w.forwardRef(({className:e,asChild:r=!1,showOnHover:t=!1,...a},s)=>{const i=r?zf:"button";return n.jsx(i,{ref:s,"data-sidebar":"menu-action",className:st("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...a})});NR.displayName="SidebarMenuAction";const jR=w.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:st("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...r}));jR.displayName="SidebarMenuBadge";const BR=w.forwardRef(({className:e,showIcon:r=!1,...t},a)=>{const s=w.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return n.jsxs("div",{ref:a,"data-sidebar":"menu-skeleton",className:st("rounded-md h-8 flex gap-2 px-2 items-center",e),...t,children:[r&&n.jsx(Qr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),n.jsx(Qr,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});BR.displayName="SidebarMenuSkeleton";const CR=w.forwardRef(({className:e,...r},t)=>n.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:st("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...r}));CR.displayName="SidebarMenuSub";const SR=w.forwardRef(({...e},r)=>n.jsx("li",{ref:r,...e}));SR.displayName="SidebarMenuSubItem";const ER=w.forwardRef(({asChild:e=!1,size:r="md",isActive:t,className:a,...s},i)=>{const o=e?zf:"a";return n.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":r,"data-active":t,className:st("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",a),...s})});ER.displayName="SidebarMenuSubButton";const _R={theme:"system",setTheme:()=>null},hS=w.createContext(_R);function FR({children:e,defaultTheme:r="system",storageKey:t="vite-ui-theme",...a}){const[s,i]=w.useState(()=>(typeof window<"u"?localStorage.getItem(t):null)||r);w.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const A=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(A);return}l.classList.add(s)},[s]);const o={theme:s,setTheme:l=>{localStorage.setItem(t,l),i(l)}};return n.jsx(hS.Provider,{...a,value:o,children:e})}const mS=()=>{const e=w.useContext(hS);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function J0(e){const r=e+"CollectionProvider",[t,a]=ul(r),[s,i]=t(r,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:N}=v,B=He.useRef(null),S=He.useRef(new Map).current;return n.jsx(s,{scope:b,itemMap:S,collectionRef:B,children:N})};o.displayName=r;const l=e+"CollectionSlot",A=cu(l),d=He.forwardRef((v,b)=>{const{scope:N,children:B}=v,S=i(l,N),F=ua(b,S.collectionRef);return n.jsx(A,{ref:F,children:B})});d.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=cu(f),p=He.forwardRef((v,b)=>{const{scope:N,children:B,...S}=v,F=He.useRef(null),L=ua(b,F),M=i(f,N);return He.useEffect(()=>(M.itemMap.set(F,{ref:F,...S}),()=>void M.itemMap.delete(F))),n.jsx(m,{[h]:"",ref:L,children:B})});p.displayName=f;function x(v){const b=i(e+"CollectionConsumer",v);return He.useCallback(()=>{const B=b.collectionRef.current;if(!B)return[];const S=Array.from(B.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((M,U)=>S.indexOf(M.ref.current)-S.indexOf(U.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},x,a]}var kR=w.createContext(void 0);function Py(e){const r=w.useContext(kR);return e||r||"ltr"}var Iv="rovingFocusGroup.onEntryFocus",DR={bubbles:!1,cancelable:!0},Sm="RovingFocusGroup",[i1,pS,UR]=J0(Sm),[LR,gS]=ul(Sm,[UR]),[IR,PR]=LR(Sm),xS=w.forwardRef((e,r)=>n.jsx(i1.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(i1.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(QR,{...e,ref:r})})}));xS.displayName=Sm;var QR=w.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:A,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,m=w.useRef(null),p=ua(r,m),x=Py(i),[v,b]=nd({prop:o,defaultProp:l??null,onChange:A,caller:Sm}),[N,B]=w.useState(!1),S=fi(d),F=pS(t),L=w.useRef(!1),[M,U]=w.useState(0);return w.useEffect(()=>{const I=m.current;if(I)return I.addEventListener(Iv,S),()=>I.removeEventListener(Iv,S)},[S]),n.jsx(IR,{scope:t,orientation:a,dir:x,loop:s,currentTabStopId:v,onItemFocus:w.useCallback(I=>b(I),[b]),onItemShiftTab:w.useCallback(()=>B(!0),[]),onFocusableItemAdd:w.useCallback(()=>U(I=>I+1),[]),onFocusableItemRemove:w.useCallback(()=>U(I=>I-1),[]),children:n.jsx(Nr.div,{tabIndex:N||M===0?-1:0,"data-orientation":a,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Ut(e.onMouseDown,()=>{L.current=!0}),onFocus:Ut(e.onFocus,I=>{const _=!L.current;if(I.target===I.currentTarget&&_&&!N){const W=new CustomEvent(Iv,DR);if(I.currentTarget.dispatchEvent(W),!W.defaultPrevented){const Q=F().filter($=>$.focusable),K=Q.find($=>$.active),X=Q.find($=>$.id===v),re=[K,X,...Q].filter(Boolean).map($=>$.ref.current);yS(re,f)}}L.current=!1}),onBlur:Ut(e.onBlur,()=>B(!1))})})}),vS="RovingFocusGroupItem",wS=w.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,focusable:a=!0,active:s=!1,tabStopId:i,children:o,...l}=e,A=zl(),d=i||A,f=PR(vS,t),h=f.currentTabStopId===d,m=pS(t),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:v}=f;return w.useEffect(()=>{if(a)return p(),()=>x()},[a,p,x]),n.jsx(i1.ItemSlot,{scope:t,id:d,focusable:a,active:s,children:n.jsx(Nr.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:r,onMouseDown:Ut(e.onMouseDown,b=>{a?f.onItemFocus(d):b.preventDefault()}),onFocus:Ut(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:Ut(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const N=MR(b,f.orientation,f.dir);if(N!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=m().filter(F=>F.focusable).map(F=>F.ref.current);if(N==="last")S.reverse();else if(N==="prev"||N==="next"){N==="prev"&&S.reverse();const F=S.indexOf(b.currentTarget);S=f.loop?OR(S,F+1):S.slice(F+1)}setTimeout(()=>yS(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});wS.displayName=vS;var RR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TR(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function MR(e,r,t){const a=TR(e.key,t);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return RR[a]}function yS(e,r=!1){const t=document.activeElement;for(const a of e)if(a===t||(a.focus({preventScroll:r}),document.activeElement!==t))return}function OR(e,r){return e.map((t,a)=>e[(r+a)%e.length])}var HR=xS,KR=wS,o1=["Enter"," "],$R=["ArrowDown","PageUp","Home"],bS=["ArrowUp","PageDown","End"],VR=[...$R,...bS],zR={ltr:[...o1,"ArrowRight"],rtl:[...o1,"ArrowLeft"]},qR={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Em="Menu",[Am,WR,GR]=J0(Em),[xu,NS]=ul(Em,[GR,Yf,gS]),Z0=Yf(),jS=gS(),[YR,vu]=xu(Em),[XR,_m]=xu(Em),BS=e=>{const{__scopeMenu:r,open:t=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,l=Z0(r),[A,d]=w.useState(null),f=w.useRef(!1),h=fi(i),m=Py(s);return w.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(Fy,{...l,children:n.jsx(YR,{scope:r,open:t,onOpenChange:h,content:A,onContentChange:d,children:n.jsx(XR,{scope:r,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:o,children:a})})})};BS.displayName=Em;var JR="MenuAnchor",Qy=w.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e,s=Z0(t);return n.jsx(ky,{...s,...a,ref:r})});Qy.displayName=JR;var Ry="MenuPortal",[ZR,CS]=xu(Ry,{forceMount:void 0}),SS=e=>{const{__scopeMenu:r,forceMount:t,children:a,container:s}=e,i=vu(Ry,r);return n.jsx(ZR,{scope:r,forceMount:t,children:n.jsx(Jl,{present:t||i.open,children:n.jsx(Bm,{asChild:!0,container:s,children:a})})})};SS.displayName=Ry;var Fo="MenuContent",[eT,Ty]=xu(Fo),ES=w.forwardRef((e,r)=>{const t=CS(Fo,e.__scopeMenu),{forceMount:a=t.forceMount,...s}=e,i=vu(Fo,e.__scopeMenu),o=_m(Fo,e.__scopeMenu);return n.jsx(Am.Provider,{scope:e.__scopeMenu,children:n.jsx(Jl,{present:a||i.open,children:n.jsx(Am.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(tT,{...s,ref:r}):n.jsx(rT,{...s,ref:r})})})})}),tT=w.forwardRef((e,r)=>{const t=vu(Fo,e.__scopeMenu),a=w.useRef(null),s=ua(r,a);return w.useEffect(()=>{const i=a.current;if(i)return xy(i)},[]),n.jsx(My,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ut(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),rT=w.forwardRef((e,r)=>{const t=vu(Fo,e.__scopeMenu);return n.jsx(My,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),aT=cu("MenuContent.ScrollLock"),My=w.forwardRef((e,r)=>{const{__scopeMenu:t,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:A,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...v}=e,b=vu(Fo,t),N=_m(Fo,t),B=Z0(t),S=jS(t),F=WR(t),[L,M]=w.useState(null),U=w.useRef(null),I=ua(r,U,b.onContentChange),_=w.useRef(0),W=w.useRef(""),Q=w.useRef(0),K=w.useRef(null),X=w.useRef("right"),R=w.useRef(0),re=x?Q0:w.Fragment,$=x?{as:aT,allowPinchZoom:!0}:void 0,V=ie=>{var G,ne;const ue=W.current+ie,E=F().filter(ce=>!ce.disabled),P=document.activeElement,Y=(G=E.find(ce=>ce.ref.current===P))==null?void 0:G.textValue,z=E.map(ce=>ce.textValue),J=mT(z,ue,Y),q=(ne=E.find(ce=>ce.textValue===J))==null?void 0:ne.ref.current;(function ce(pe){W.current=pe,window.clearTimeout(_.current),pe!==""&&(_.current=window.setTimeout(()=>ce(""),1e3))})(ue),q&&setTimeout(()=>q.focus())};w.useEffect(()=>()=>window.clearTimeout(_.current),[]),gy();const Z=w.useCallback(ie=>{var E,P;return X.current===((E=K.current)==null?void 0:E.side)&&gT(ie,(P=K.current)==null?void 0:P.area)},[]);return n.jsx(eT,{scope:t,searchRef:W,onItemEnter:w.useCallback(ie=>{Z(ie)&&ie.preventDefault()},[Z]),onItemLeave:w.useCallback(ie=>{var ue;Z(ie)||((ue=U.current)==null||ue.focus(),M(null))},[Z]),onTriggerLeave:w.useCallback(ie=>{Z(ie)&&ie.preventDefault()},[Z]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:w.useCallback(ie=>{K.current=ie},[]),children:n.jsx(re,{...$,children:n.jsx(I0,{asChild:!0,trapped:s,onMountAutoFocus:Ut(i,ie=>{var ue;ie.preventDefault(),(ue=U.current)==null||ue.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(qf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:n.jsx(HR,{asChild:!0,...S,dir:N.dir,orientation:"vertical",loop:a,currentTabStopId:L,onCurrentTabStopIdChange:M,onEntryFocus:Ut(A,ie=>{N.isUsingKeyboardRef.current||ie.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(Dy,{role:"menu","aria-orientation":"vertical","data-state":$S(b.open),"data-radix-menu-content":"",dir:N.dir,...B,...v,ref:I,style:{outline:"none",...v.style},onKeyDown:Ut(v.onKeyDown,ie=>{const E=ie.target.closest("[data-radix-menu-content]")===ie.currentTarget,P=ie.ctrlKey||ie.altKey||ie.metaKey,Y=ie.key.length===1;E&&(ie.key==="Tab"&&ie.preventDefault(),!P&&Y&&V(ie.key));const z=U.current;if(ie.target!==z||!VR.includes(ie.key))return;ie.preventDefault();const q=F().filter(G=>!G.disabled).map(G=>G.ref.current);bS.includes(ie.key)&&q.reverse(),fT(q)}),onBlur:Ut(e.onBlur,ie=>{ie.currentTarget.contains(ie.target)||(window.clearTimeout(_.current),W.current="")}),onPointerMove:Ut(e.onPointerMove,dm(ie=>{const ue=ie.target,E=R.current!==ie.clientX;if(ie.currentTarget.contains(ue)&&E){const P=ie.clientX>R.current?"right":"left";X.current=P,R.current=ie.clientX}}))})})})})})})});ES.displayName=Fo;var nT="MenuGroup",Oy=w.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(Nr.div,{role:"group",...a,ref:r})});Oy.displayName=nT;var sT="MenuLabel",_S=w.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(Nr.div,{...a,ref:r})});_S.displayName=sT;var Jg="MenuItem",IN="menu.itemSelect",ex=w.forwardRef((e,r)=>{const{disabled:t=!1,onSelect:a,...s}=e,i=w.useRef(null),o=_m(Jg,e.__scopeMenu),l=Ty(Jg,e.__scopeMenu),A=ua(r,i),d=w.useRef(!1),f=()=>{const h=i.current;if(!t&&h){const m=new CustomEvent(IN,{bubbles:!0,cancelable:!0});h.addEventListener(IN,p=>a==null?void 0:a(p),{once:!0}),py(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(FS,{...s,ref:A,disabled:t,onClick:Ut(e.onClick,f),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:Ut(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Ut(e.onKeyDown,h=>{const m=l.searchRef.current!=="";t||m&&h.key===" "||o1.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ex.displayName=Jg;var FS=w.forwardRef((e,r)=>{const{__scopeMenu:t,disabled:a=!1,textValue:s,...i}=e,o=Ty(Jg,t),l=jS(t),A=w.useRef(null),d=ua(r,A),[f,h]=w.useState(!1),[m,p]=w.useState("");return w.useEffect(()=>{const x=A.current;x&&p((x.textContent??"").trim())},[i.children]),n.jsx(Am.ItemSlot,{scope:t,disabled:a,textValue:s??m,children:n.jsx(KR,{asChild:!0,...l,focusable:!a,children:n.jsx(Nr.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:Ut(e.onPointerMove,dm(x=>{a?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ut(e.onPointerLeave,dm(x=>o.onItemLeave(x))),onFocus:Ut(e.onFocus,()=>h(!0)),onBlur:Ut(e.onBlur,()=>h(!1))})})})}),iT="MenuCheckboxItem",kS=w.forwardRef((e,r)=>{const{checked:t=!1,onCheckedChange:a,...s}=e;return n.jsx(PS,{scope:e.__scopeMenu,checked:t,children:n.jsx(ex,{role:"menuitemcheckbox","aria-checked":Zg(t)?"mixed":t,...s,ref:r,"data-state":Ky(t),onSelect:Ut(s.onSelect,()=>a==null?void 0:a(Zg(t)?!0:!t),{checkForDefaultPrevented:!1})})})});kS.displayName=iT;var DS="MenuRadioGroup",[oT,lT]=xu(DS,{value:void 0,onValueChange:()=>{}}),US=w.forwardRef((e,r)=>{const{value:t,onValueChange:a,...s}=e,i=fi(a);return n.jsx(oT,{scope:e.__scopeMenu,value:t,onValueChange:i,children:n.jsx(Oy,{...s,ref:r})})});US.displayName=DS;var LS="MenuRadioItem",IS=w.forwardRef((e,r)=>{const{value:t,...a}=e,s=lT(LS,e.__scopeMenu),i=t===s.value;return n.jsx(PS,{scope:e.__scopeMenu,checked:i,children:n.jsx(ex,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":Ky(i),onSelect:Ut(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,t)},{checkForDefaultPrevented:!1})})})});IS.displayName=LS;var Hy="MenuItemIndicator",[PS,cT]=xu(Hy,{checked:!1}),QS=w.forwardRef((e,r)=>{const{__scopeMenu:t,forceMount:a,...s}=e,i=cT(Hy,t);return n.jsx(Jl,{present:a||Zg(i.checked)||i.checked===!0,children:n.jsx(Nr.span,{...s,ref:r,"data-state":Ky(i.checked)})})});QS.displayName=Hy;var AT="MenuSeparator",RS=w.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e;return n.jsx(Nr.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});RS.displayName=AT;var dT="MenuArrow",TS=w.forwardRef((e,r)=>{const{__scopeMenu:t,...a}=e,s=Z0(t);return n.jsx(Uy,{...s,...a,ref:r})});TS.displayName=dT;var uT="MenuSub",[BZ,MS]=xu(uT),Qh="MenuSubTrigger",OS=w.forwardRef((e,r)=>{const t=vu(Qh,e.__scopeMenu),a=_m(Qh,e.__scopeMenu),s=MS(Qh,e.__scopeMenu),i=Ty(Qh,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:A}=i,d={__scopeMenu:e.__scopeMenu},f=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>f,[f]),w.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),A(null)}},[l,A]),n.jsx(Qy,{asChild:!0,...d,children:n.jsx(FS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":$S(t.open),...e,ref:D0(r,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ut(e.onPointerMove,dm(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!t.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:Ut(e.onPointerLeave,dm(h=>{var p,x;f();const m=(p=t.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(x=t.content)==null?void 0:x.dataset.side,b=v==="right",N=b?-5:5,B=m[b?"left":"right"],S=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+N,y:h.clientY},{x:B,y:m.top},{x:S,y:m.top},{x:S,y:m.bottom},{x:B,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ut(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||zR[a.dir].includes(h.key)&&(t.onOpenChange(!0),(p=t.content)==null||p.focus(),h.preventDefault())})})})});OS.displayName=Qh;var HS="MenuSubContent",KS=w.forwardRef((e,r)=>{const t=CS(Fo,e.__scopeMenu),{forceMount:a=t.forceMount,...s}=e,i=vu(Fo,e.__scopeMenu),o=_m(Fo,e.__scopeMenu),l=MS(HS,e.__scopeMenu),A=w.useRef(null),d=ua(r,A);return n.jsx(Am.Provider,{scope:e.__scopeMenu,children:n.jsx(Jl,{present:a||i.open,children:n.jsx(Am.Slot,{scope:e.__scopeMenu,children:n.jsx(My,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=A.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ut(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ut(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ut(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),m=qR[o.dir].includes(f.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});KS.displayName=HS;function $S(e){return e?"open":"closed"}function Zg(e){return e==="indeterminate"}function Ky(e){return Zg(e)?"indeterminate":e?"checked":"unchecked"}function fT(e){const r=document.activeElement;for(const t of e)if(t===r||(t.focus(),document.activeElement!==r))return}function hT(e,r){return e.map((t,a)=>e[(r+a)%e.length])}function mT(e,r,t){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let o=hT(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const A=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return A!==t?A:void 0}function pT(e,r){const{x:t,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],A=r[o],d=l.x,f=l.y,h=A.x,m=A.y;f>a!=m>a&&t<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function gT(e,r){if(!r)return!1;const t={x:e.clientX,y:e.clientY};return pT(t,r)}function dm(e){return r=>r.pointerType==="mouse"?e(r):void 0}var xT=BS,vT=Qy,wT=SS,yT=ES,bT=Oy,NT=_S,jT=ex,BT=kS,CT=US,ST=IS,ET=QS,_T=RS,FT=TS,kT=OS,DT=KS,tx="DropdownMenu",[UT,CZ]=ul(tx,[NS]),hi=NS(),[LT,VS]=UT(tx),zS=e=>{const{__scopeDropdownMenu:r,children:t,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,A=hi(r),d=w.useRef(null),[f,h]=nd({prop:s,defaultProp:i??!1,onChange:o,caller:tx});return n.jsx(LT,{scope:r,triggerId:zl(),triggerRef:d,contentId:zl(),open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(m=>!m),[h]),modal:l,children:n.jsx(xT,{...A,open:f,onOpenChange:h,dir:a,modal:l,children:t})})};zS.displayName=tx;var qS="DropdownMenuTrigger",WS=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,disabled:a=!1,...s}=e,i=VS(qS,t),o=hi(t);return n.jsx(vT,{asChild:!0,...o,children:n.jsx(Nr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:D0(r,i.triggerRef),onPointerDown:Ut(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ut(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});WS.displayName=qS;var IT="DropdownMenuPortal",GS=e=>{const{__scopeDropdownMenu:r,...t}=e,a=hi(r);return n.jsx(wT,{...a,...t})};GS.displayName=IT;var YS="DropdownMenuContent",XS=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=VS(YS,t),i=hi(t),o=w.useRef(!1);return n.jsx(yT,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:r,onCloseAutoFocus:Ut(e.onCloseAutoFocus,l=>{var A;o.current||(A=s.triggerRef.current)==null||A.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ut(e.onInteractOutside,l=>{const A=l.detail.originalEvent,d=A.button===0&&A.ctrlKey===!0,f=A.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XS.displayName=YS;var PT="DropdownMenuGroup",QT=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=hi(t);return n.jsx(bT,{...s,...a,ref:r})});QT.displayName=PT;var RT="DropdownMenuLabel",JS=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=hi(t);return n.jsx(NT,{...s,...a,ref:r})});JS.displayName=RT;var TT="DropdownMenuItem",ZS=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=hi(t);return n.jsx(jT,{...s,...a,ref:r})});ZS.displayName=TT;var MT="DropdownMenuCheckboxItem",eE=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=hi(t);return n.jsx(BT,{...s,...a,ref:r})});eE.displayName=MT;var OT="DropdownMenuRadioGroup",HT=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=hi(t);return n.jsx(CT,{...s,...a,ref:r})});HT.displayName=OT;var KT="DropdownMenuRadioItem",tE=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=hi(t);return n.jsx(ST,{...s,...a,ref:r})});tE.displayName=KT;var $T="DropdownMenuItemIndicator",rE=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=hi(t);return n.jsx(ET,{...s,...a,ref:r})});rE.displayName=$T;var VT="DropdownMenuSeparator",aE=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=hi(t);return n.jsx(_T,{...s,...a,ref:r})});aE.displayName=VT;var zT="DropdownMenuArrow",qT=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=hi(t);return n.jsx(FT,{...s,...a,ref:r})});qT.displayName=zT;var WT="DropdownMenuSubTrigger",nE=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=hi(t);return n.jsx(kT,{...s,...a,ref:r})});nE.displayName=WT;var GT="DropdownMenuSubContent",sE=w.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...a}=e,s=hi(t);return n.jsx(DT,{...s,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sE.displayName=GT;var YT=zS,XT=WS,JT=GS,iE=XS,oE=JS,lE=ZS,cE=eE,AE=tE,dE=rE,uE=aE,fE=nE,hE=sE;const mE=YT,pE=XT,ZT=w.forwardRef(({className:e,inset:r,children:t,...a},s)=>n.jsxs(fE,{ref:s,className:st("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",e),...a,children:[t,n.jsx(al,{className:"ml-auto h-4 w-4"})]}));ZT.displayName=fE.displayName;const eM=w.forwardRef(({className:e,...r},t)=>n.jsx(hE,{ref:t,className:st("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));eM.displayName=hE.displayName;const $y=w.forwardRef(({className:e,sideOffset:r=4,...t},a)=>n.jsx(JT,{children:n.jsx(iE,{ref:a,sideOffset:r,className:st("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));$y.displayName=iE.displayName;const Oc=w.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(lE,{ref:a,className:st("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",e),...t}));Oc.displayName=lE.displayName;const tM=w.forwardRef(({className:e,children:r,checked:t,...a},s)=>n.jsxs(cE,{ref:s,className:st("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(dE,{children:n.jsx(cy,{className:"h-4 w-4"})})}),r]}));tM.displayName=cE.displayName;const rM=w.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(AE,{ref:a,className:st("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(dE,{children:n.jsx(EL,{className:"h-2 w-2 fill-current"})})}),r]}));rM.displayName=AE.displayName;const gE=w.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(oE,{ref:a,className:st("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...t}));gE.displayName=oE.displayName;const l1=w.forwardRef(({className:e,...r},t)=>n.jsx(uE,{ref:t,className:st("-mx-1 my-1 h-px bg-muted",e),...r}));l1.displayName=uE.displayName;function Vy(){const{setTheme:e,theme:r}=mS();return n.jsxs(mE,{children:[n.jsx(pE,{asChild:!0,children:n.jsxs(ye,{variant:"secondary",size:"icon",className:"relative bg-white/80 text-slate-700 border border-black/10 shadow-sm backdrop-blur hover:bg-white/90 dark:bg-slate-900/60 dark:text-slate-100 dark:border-white/10 dark:hover:bg-slate-900/70","aria-label":"Alternar tema",children:[n.jsx(lN,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),n.jsx(iN,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),n.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),n.jsxs($y,{align:"end",sideOffset:8,children:[n.jsxs(Oc,{onClick:()=>e("light"),className:"cursor-pointer",children:[n.jsx(lN,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Claro"}),r==="light"&&n.jsx("span",{className:"ml-auto",children:""})]}),n.jsxs(Oc,{onClick:()=>e("dark"),className:"cursor-pointer",children:[n.jsx(iN,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Escuro"}),r==="dark"&&n.jsx("span",{className:"ml-auto",children:""})]}),n.jsxs(Oc,{onClick:()=>e("system"),className:"cursor-pointer",children:[n.jsx(KL,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Sistema"}),r==="system"&&n.jsx("span",{className:"ml-auto",children:""})]})]})]})}var Pv={exports:{}},Qv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PN;function aM(){if(PN)return Qv;PN=1;var e=B0();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var t=typeof Object.is=="function"?Object.is:r,a=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,m){var p=m(),x=a({inst:{value:p,getSnapshot:m}}),v=x[0].inst,b=x[1];return i(function(){v.value=p,v.getSnapshot=m,A(v)&&b({inst:v})},[h,p,m]),s(function(){return A(v)&&b({inst:v}),h(function(){A(v)&&b({inst:v})})},[h]),o(p),p}function A(h){var m=h.getSnapshot;h=h.value;try{var p=m();return!t(h,p)}catch{return!0}}function d(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Qv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Qv}var QN;function nM(){return QN||(QN=1,Pv.exports=aM()),Pv.exports}var sM=nM();function iM(){return sM.useSyncExternalStore(oM,()=>!0,()=>!1)}function oM(){return()=>{}}var zy="Avatar",[lM,SZ]=ul(zy),[cM,xE]=lM(zy),vE=w.forwardRef((e,r)=>{const{__scopeAvatar:t,...a}=e,[s,i]=w.useState("idle");return n.jsx(cM,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:n.jsx(Nr.span,{...a,ref:r})})});vE.displayName=zy;var wE="AvatarImage",yE=w.forwardRef((e,r)=>{const{__scopeAvatar:t,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=xE(wE,t),l=AM(a,i),A=fi(d=>{s(d),o.onImageLoadingStatusChange(d)});return Yn(()=>{l!=="idle"&&A(l)},[l,A]),l==="loaded"?n.jsx(Nr.img,{...i,ref:r,src:a}):null});yE.displayName=wE;var bE="AvatarFallback",NE=w.forwardRef((e,r)=>{const{__scopeAvatar:t,delayMs:a,...s}=e,i=xE(bE,t),[o,l]=w.useState(a===void 0);return w.useEffect(()=>{if(a!==void 0){const A=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(A)}},[a]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(Nr.span,{...s,ref:r}):null});NE.displayName=bE;function RN(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function AM(e,{referrerPolicy:r,crossOrigin:t}){const a=iM(),s=w.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,l]=w.useState(()=>RN(i,e));return Yn(()=>{l(RN(i,e))},[i,e]),Yn(()=>{const A=h=>()=>{l(h)};if(!i)return;const d=A("loaded"),f=A("error");return i.addEventListener("load",d),i.addEventListener("error",f),r&&(i.referrerPolicy=r),typeof t=="string"&&(i.crossOrigin=t),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,t,r]),o}var jE=vE,BE=yE,CE=NE;const Fm=w.forwardRef(({className:e,...r},t)=>n.jsx(jE,{ref:t,className:st("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));Fm.displayName=jE.displayName;const rx=w.forwardRef(({className:e,...r},t)=>n.jsx(BE,{ref:t,className:st("aspect-square h-full w-full",e),...r}));rx.displayName=BE.displayName;const km=w.forwardRef(({className:e,...r},t)=>n.jsx(CE,{ref:t,className:st("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));km.displayName=CE.displayName;const SE=w.forwardRef(({...e},r)=>n.jsx("nav",{ref:r,"aria-label":"breadcrumb",...e}));SE.displayName="Breadcrumb";const EE=w.forwardRef(({className:e,...r},t)=>n.jsx("ol",{ref:t,className:st("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...r}));EE.displayName="BreadcrumbList";const _E=w.forwardRef(({className:e,...r},t)=>n.jsx("li",{ref:t,className:st("inline-flex items-center gap-1.5",e),...r}));_E.displayName="BreadcrumbItem";const FE=w.forwardRef(({asChild:e,className:r,...t},a)=>{const s=e?zf:"a";return n.jsx(s,{ref:a,className:st("hover:text-foreground transition-colors focus-visible:outline-none focus-visible:underline",r),...t})});FE.displayName="BreadcrumbLink";const kE=w.forwardRef(({className:e,...r},t)=>n.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:st("text-foreground font-medium",e),...r}));kE.displayName="BreadcrumbPage";const DE=({children:e,className:r,...t})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:st("[&>svg]:size-3.5",r),...t,children:e||n.jsx(al,{className:"h-4 w-4"})});DE.displayName="BreadcrumbSeparator";function Dm({children:e,sidebar:r,breadcrumbs:t=[]}){var l;const{activeRole:a}=Wl(),{user:s}=aA(),{userData:i}=Wl(),o=(i==null?void 0:i.nome)||(s==null?void 0:s.nome)||"Usurio";return n.jsxs(oS,{children:[n.jsx(r,{}),n.jsxs(AS,{children:[n.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl",children:n.jsxs("div",{className:"flex h-16 items-center gap-4 px-6",children:[n.jsx(cS,{className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100"}),n.jsx(ws,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),t.length>0&&n.jsx(SE,{className:"flex-1",children:n.jsx(EE,{children:t.map((A,d)=>n.jsxs("div",{className:"flex items-center",children:[d>0&&n.jsx(DE,{className:"text-slate-400"}),n.jsx(_E,{children:A.href?n.jsx(FE,{href:A.href,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100 font-medium",children:A.label}):n.jsx(kE,{className:"text-slate-900 dark:text-slate-100 font-semibold",children:A.label})})]},d))})}),n.jsxs("div",{className:"relative hidden md:flex items-center max-w-sm",children:[n.jsx(is,{className:"absolute left-3 size-4 text-slate-400"}),n.jsx(Ge,{placeholder:"Buscar...",className:"pl-10 input-medical-primary bg-slate-100 dark:bg-slate-800"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ye,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:n.jsx(sm,{className:"size-4"})}),n.jsx(Vy,{}),n.jsx(ws,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Fm,{className:"size-8",children:[n.jsx(rx,{src:""}),n.jsx(km,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white text-sm font-semibold",children:(l=o==null?void 0:o.charAt(0))==null?void 0:l.toUpperCase()})]}),n.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 hidden sm:block",children:o})]})]})]})}),n.jsx("main",{className:"flex-1 p-6 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 min-h-[calc(100vh-4rem)]",children:n.jsx("div",{className:"mx-auto max-w-7xl",children:e})})]})]})}function sr({className:e,variant:r="default",size:t="default",...a}){const s={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground",success:"bg-success text-success-foreground hover:bg-success/80 border-success/20",warning:"bg-warning text-warning-foreground hover:bg-warning/80 border-warning/20",info:"bg-info text-info-foreground hover:bg-info/80 border-info/20",normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent","priority-low":"bg-medical-gray/10 text-medical-gray border-medical-gray/20 hover:bg-medical-gray/20","priority-medium":"bg-medical-orange/10 text-medical-orange border-medical-orange/20 hover:bg-medical-orange/20","priority-high":"bg-medical-red/10 text-medical-red border-medical-red/20 hover:bg-medical-red/20","medical-primary":"bg-medical-primary/10 text-medical-primary border-medical-primary/20 hover:bg-medical-primary/20","medical-secondary":"bg-medical-secondary/10 text-medical-secondary border-medical-secondary/20 hover:bg-medical-secondary/20","medical-accent":"bg-medical-accent/10 text-medical-accent border-medical-accent/20 hover:bg-medical-accent/20"},i={sm:"px-2 py-0.5 text-xs",default:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"};return n.jsx("div",{className:st("inline-flex items-center rounded-full border font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","active:scale-95",s[r],i[t],e),...a})}function UE({status:e,className:r,...t}){const a={active:{variant:"success",text:"Ativo"},inactive:{variant:"secondary",text:"Inativo"},pending:{variant:"warning",text:"Pendente"},critical:{variant:"critical",text:"Crtico"},urgent:{variant:"urgent",text:"Urgente"}},s=a[e]||a.active;return n.jsx(sr,{variant:s.variant,className:st("font-medium",r),...t,children:s.text})}function dM({priority:e,className:r,...t}){const a={low:{variant:"priority-low",text:"Baixa"},medium:{variant:"priority-medium",text:"Mdia"},high:{variant:"priority-high",text:"Alta"}},s=a[e]||a.low;return n.jsx(sr,{variant:s.variant,className:st("font-medium",r),...t,children:s.text})}const TN={paciente:{header:{title:"Portal Mdico",subtitle:"Paciente",icon:jn},sections:[{label:"Menu Principal",items:[{label:"Perfil",path:"/paciente/perfil",icon:jn},{label:"Pronturio",path:"/paciente/prontuario",icon:Ta},{label:"Consultas",path:"/paciente/consultas",icon:fr},{label:"Exames",path:"/paciente/exames",icon:Vc},{label:"Receitas",path:"/paciente/receitas",icon:Vc},{label:"Histrico Mdico",path:"/paciente/historico-medico",icon:dy},{label:"Mdicos Vinculados",path:"/paciente/medicos",icon:Ln}]}]},medico:{header:{title:"Portal Mdico",subtitle:"Mdico",icon:Mr},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/medico/dashboard",icon:jv},{label:"Consultas de Hoje",path:"/medico/consultas/hoje",icon:fr},{label:"Consultas",path:"/medico/minhas-consultas",icon:fr},{label:"Meus Pacientes",path:"/medico/meus-pacientes",icon:Ln}]}]},clinica:{header:{title:"Portal Mdico",subtitle:"Clnica",icon:L0},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/clinica/dashboard",icon:IL},{label:"Calendrio",path:"/clinica/calendario",icon:fr},{label:"Disponibilidade",path:"/clinica/disponibilidade",icon:Ur},{label:"Exames",path:"/clinica/exames",icon:Ta},{label:"Pacientes",path:"/clinica/pacientes",icon:Ln},{label:"Mdicos",path:"/clinica/medicos",icon:Mr},{label:"Relatrios",path:"/clinica/relatorios",icon:nm}]}]},secretaria:{header:{title:"Portal Mdico",subtitle:"Secretaria",icon:Ln},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/secretaria/dashboard",icon:jv},{label:"Consultas",path:"/secretaria/consultas",icon:fr},{label:"Pacientes",path:"/secretaria/pacientes",icon:Ln},{label:"Mdicos",path:"/secretaria/medicos",icon:Mr},{label:"Solicitaes",path:"/secretaria/solicitacoes",icon:cN}]}]},admin:{header:{title:"Portal Mdico",subtitle:"Admin",icon:Xs},sections:[{label:"Painel",items:[{label:"Dashboard",path:"/admin/dashboard",icon:jv},{label:"Relatrios",path:"/admin/relatorios",icon:nm},{label:"Auditoria",path:"/admin/auditoria",icon:Xs}]},{label:"Gerenciar",items:[{label:"Solicitaes",path:"/admin/solicitacoes",icon:cN},{label:"Usurios",path:"/admin/usuarios",icon:Ln},{label:"Clnicas",path:"/admin/clinicas",icon:Gl}]},{label:"Telas",items:[{label:"Paciente",path:"/paciente/perfil",icon:jn},{label:"Mdico",path:"/medico/dashboard",icon:Mr},{label:"Clnica",path:"/clinica/dashboard",icon:Gl},{label:"Secretaria",path:"/secretaria/dashboard",icon:Ln},{label:"Admin",path:"/admin/dashboard",icon:Xs}]}]}},na={async getPerfil(){var e,r;try{const t="/api/users/",a=Xr.getCurrentUser();if(!(a!=null&&a.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const s=t.endsWith("/")?t:`${t}/`;console.log("[DEBUG] Buscando perfil do usurio via:",`${s}${a.id}/`);const i=await Ee.get(`${s}${a.id}/`);return console.log("[DEBUG] Perfil do usurio carregado:",i.data),i.data}catch(t){console.error("[DEBUG] Erro ao buscar perfil do usurio:",(e=t==null?void 0:t.response)==null?void 0:e.status,(r=t==null?void 0:t.response)==null?void 0:r.data);const a=Xr.getCurrentUser();if(a)return console.log("[DEBUG] Usando dados do usurio do storage como fallback:",a),a;throw t}},async atualizarPerfil(e){var r,t;try{const a="/api/users/",s=Xr.getCurrentUser();if(!(s!=null&&s.id))throw new Error("Usurio no encontrado na sesso. Faa login novamente.");const i=a.endsWith("/")?a:`${a}/`,o={...e};return o.first_name===void 0&&o.nome&&(o.first_name=String(o.nome).split(" ")[0]||""),o.last_name===void 0&&o.nome&&(o.last_name=String(o.nome).split(" ").slice(1).join(" ")||""),o.telefone===void 0&&o.phone&&(o.telefone=o.phone),o.endereco===void 0&&o.address&&(o.endereco=o.address),delete o.nome,delete o.phone,delete o.address,Object.keys(o).forEach(A=>{o[A]===void 0&&delete o[A]}),(await Ee.patch(`${i}${s.id}/`,o)).data}catch(a){throw console.error("[DEBUG] Erro ao atualizar perfil do usurio:",(r=a==null?void 0:a.response)==null?void 0:r.status,(t=a==null?void 0:a.response)==null?void 0:t.data),a}},async getConsultas(e={}){var r,t;try{const a="/api/consultas/";console.log("[DEBUG] Endpoint de consultas:",a);const s=await this.getPacienteDoUsuario();console.log("[DEBUG] Paciente encontrado:",s);const i={...e};if(s!=null&&s.id&&!i.paciente&&(i.paciente=s.id),console.log("[DEBUG] Query params:",i),!(s!=null&&s.id)&&Object.keys(i).length===0)return console.log("[DEBUG] Sem paciente e sem filtros, retornando array vazio"),{results:[]};console.log("[DEBUG] Fazendo requisio para:",a,"com params:",i);const o=await Ee.get(a,{params:i});return console.log("[DEBUG] Resposta da API recebida:",o.data),o.data}catch(a){return console.warn("[pacienteService] getConsultas falhou:",(r=a==null?void 0:a.response)==null?void 0:r.status,(t=a==null?void 0:a.response)==null?void 0:t.data),console.error("[DEBUG] Erro completo:",a),{results:[]}}},async getExames(e={}){var r;try{const t="/api/exames/",a=await this.getPacienteDoUsuario().catch(()=>null),s={...e};return a!=null&&a.id&&!s.paciente&&(s.paciente=a.id),!(a!=null&&a.id)&&Object.keys(s).length===0?{results:[]}:(await Ee.get(t,{params:s})).data}catch(t){return console.warn("[pacienteService] getExames falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),{results:[]}}},async getProntuario(e={}){var r;try{const t="/prontuarios/",a=await this.getPacienteDoUsuario().catch(()=>null),s={...e};return a!=null&&a.id&&!s.paciente&&(s.paciente=a.id),!(a!=null&&a.id)&&Object.keys(s).length===0?{results:[]}:(await Ee.get(t,{params:s})).data}catch(t){return console.warn("[pacienteService] getProntuario falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),{results:[]}}},async getMedicos(e={}){return(await Ee.get("/api/medicos/",{params:e})).data},async getMedicoById(e){const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;return(await Ee.get(`${t}${e}/`)).data},async agendarConsulta({medico:e,data:r,hora:t,modalidade:a,local:s,observacoes:i,tipo:o,motivo:l}){const A="/api/consultas/",d=await this.getPacienteDoUsuario(),f=r?`${r}${t?`T${t}:00`:"T00:00:00"}`:void 0,h={medico:e,paciente:d==null?void 0:d.id,data:r,hora:t,data_hora:f,inicio:f,horario:f,modalidade:a,local:s,observacoes:i,tipo:o,motivo:l};return(await Ee.post(A,h)).data},async getAgendaMedico({medico:e,date:r,apenas_disponiveis:t=!0}){const a="/api/medicos/",s=a.endsWith("/")?a:`${a}/`,i={};r&&(i.date=r),t&&(i.apenas_disponiveis=!0);const o=await Ee.get(`${s}${e}/agenda/`,{params:i}),l=(o==null?void 0:o.data)||[];return Array.isArray(l)?l:Array.isArray(l==null?void 0:l.results)?l.results:[]},async getPacienteDoUsuario(){var a,s;const e="/api/pacientes/me/";{const i=e.endsWith("/")?e:`${e}/`;try{return(await Ee.get(i)).data}catch(o){if(((a=o==null?void 0:o.response)==null?void 0:a.status)===401)throw o}}const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`;try{const i=Xr.getCurrentUser(),o=(i==null?void 0:i.id)||(i==null?void 0:i.user_id);if(o){const l=await Ee.get(t,{params:{user:o,user_id:o}}),A=Array.isArray(l==null?void 0:l.data)?l.data:Array.isArray((s=l==null?void 0:l.data)==null?void 0:s.results)?l.data.results:[],d=(A==null?void 0:A[0])||null;if(d)return d}}catch{}try{return(await Ee.get(`${t}me/`)).data}catch{}throw new Error("Paciente no encontrado para o usurio atual.")},async atualizarPaciente(e){var s,i;const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`,a={};if(e==null||typeof e!="object")throw new Error("Dados invlidos para atualizao do paciente");"nome"in e&&(a.nome=String(e.nome||"").trim()),"first_name"in e&&(a.first_name=String(e.first_name||"").trim()),"last_name"in e&&(a.last_name=String(e.last_name||"").trim()),"telefone"in e&&(a.telefone=((i=(s=e.telefone)==null?void 0:s.trim)==null?void 0:i.call(s))||""),"data_nascimento"in e&&(a.data_nascimento=e.data_nascimento),Object.keys(a).forEach(o=>{a[o]===void 0&&delete a[o]});try{return(await Ee.patch(`${t}me/`,a)).data}catch{const l=await this.getPacienteDoUsuario();if(!(l!=null&&l.id))throw new Error("Paciente no identificado para atualizao.");return(await Ee.patch(`${t}${l.id}/`,a)).data}},async getReceitas(e={}){var l;const r="/api/receitas/".trim();if(!r)return{results:[]};const t=r.endsWith("/")?r:`${r}/`,{__propagateErrors:a,...s}=e||{},i={...s};let o=null;try{const A=await this.getPacienteDoUsuario().catch(()=>null);A!=null&&A.id&&(o=A.id,i.paciente||(i.paciente=A.id))}catch{}if(!o&&Object.keys(i).length===0)return{results:[]};try{const A=await Ee.get(t,{params:i}),d=A==null?void 0:A.data;let f=Array.isArray(d)?d:Array.isArray(d==null?void 0:d.results)?d.results:[];const h="/api/receitaitem/".trim();if(h&&f.length>0){const N=h.endsWith("/")?h:`${h}/`;for(let B of f)try{const S=await Ee.get(N,{params:{receita:B.id}}),F=S==null?void 0:S.data,L=Array.isArray(F)?F:Array.isArray(F==null?void 0:F.results)?F.results:[];B.itens=L}catch(S){console.warn(`Erro ao carregar itens da receita ${B.id}:`,S),B.itens=[]}}let m=[];try{const N=JSON.parse(localStorage.getItem("mock_receitas")||"[]");if(Array.isArray(N)){const B=i.paciente||o;m=B?N.filter(S=>{var F;return String(S.paciente_id||((F=S.consulta)==null?void 0:F.paciente_id)||"")===String(B)}):N}}catch{}const p=new Map;[...f,...m].forEach(N=>{if(!N)return;const B=N.id??`${N.created_at}-${N.medicamentos}`;p.has(B)||p.set(B,N)});const x=Array.from(p.values()),v=N=>{if(!N||/^https?:\/\//i.test(N)||/^(data|blob):/i.test(N))return N;const B="http://127.0.0.1:8000".replace(/\/$/,""),S=N.startsWith("/")?N:`/${N}`;return`${B}${S}`};return{results:x.map(N=>{var S;const B=N.arquivo_assinado||N.arquivoAssinado||((S=N==null?void 0:N.arquivo)==null?void 0:S.url)||(N==null?void 0:N.pdf_url)||(N==null?void 0:N.download_url);return B&&!N.arquivo_assinado?{...N,arquivo_assinado:v(B)}:N.arquivo_assinado?{...N,arquivo_assinado:v(N.arquivo_assinado)}:N})}}catch(A){const d=(l=A==null?void 0:A.response)==null?void 0:l.status;if(a===!0&&d&&![404,405,500].includes(d))throw A;return{results:[]}}},async getMedicosVinculados(){const e="/api/pacientes/",r=e.endsWith("/")?e:`${e}/`,t=await this.getPacienteDoUsuario();if(!(t!=null&&t.id))return[];const a=await Ee.get(`${r}${t.id}/medicos/`);return Array.isArray(a.data)?a.data:[]},async solicitarReceita({medico:e,mensagem:r,receita:t}){const a="/api/pacientes/",s=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente no identificado.");const o={medico:e,...r?{mensagem:r}:{},...t?{receita:t,receita_id:t}:{}};return(await Ee.post(`${s}${i.id}/solicitar_receita/`,o)).data},async solicitarRenovacao({medico:e,mensagem:r,receita:t}){var d;const a="/api/pacientes/",s=a.endsWith("/")?a:`${a}/`,i=await this.getPacienteDoUsuario();if(!(i!=null&&i.id))throw new Error("Paciente no identificado.");const o={medico:e,tipo:"renovacao",...r?{mensagem:r}:{},...t?{receita:t,receita_id:t}:{}},l=[`${s}${i.id}/solicitar_renovacao/`,`${s}${i.id}/solicitacoes/renovacao/`,`${s}${i.id}/renovar_receita/`,`${s}${i.id}/solicitacao/receita/renovacao/`];let A;for(const f of l)try{return(await Ee.post(f,o)).data}catch(h){A=h;const m=(d=h==null?void 0:h.response)==null?void 0:d.status;if(m&&![404,405].includes(m))break}throw A||new Error("No foi possvel enviar a solicitao de renovao.")},async getDashboard(){var e;try{const r=new Date,t=B=>Array.isArray(B==null?void 0:B.results)?B.results:Array.isArray(B)?B:[],[a,s,i,o]=await Promise.all([this.getConsultas().catch(()=>({results:[]})),this.getExames().catch(()=>({results:[]})),this.getReceitas().catch(()=>({results:[]})),this.getMedicosVinculados().catch(()=>[])]),l=t(a),A=t(s),d=t(i),f=B=>{const S=new Date(B),F=S.getMonth(),L=S.getFullYear();return F===r.getMonth()&&L===r.getFullYear()},h=l.map(B=>{var S,F;return{id:B.id||B.consulta_id,data_hora:B.data_hora||B.horario||B.inicio||B.data||B.start_time||null,status:B.status||"Agendada",tipo:B.tipo||B.modalidade||"Consulta",especialidade:B.especialidade||B.medico_especialidade||null,medico_nome:B.medico_nome||((S=B==null?void 0:B.medico)==null?void 0:S.nome)||((F=B==null?void 0:B.medico)!=null&&F.user?[B.medico.user.first_name,B.medico.user.last_name].filter(Boolean).join(" ").trim():void 0)}}),m=h.filter(B=>B.data_hora&&new Date(B.data_hora)>=r).sort((B,S)=>new Date(B.data_hora)-new Date(S.data_hora)).slice(0,5),p=h.filter(B=>B.data_hora&&f(B.data_hora)).length,x=A.map(B=>({id:B.id,tipo:B.tipo||B.nome||B.categoria||"Exame",status:B.status||B.situacao||"Pendente",data_agendamento:B.data_agendamento||B.agendamento||B.data||null,medico_solicitante:B.medico_solicitante||B.medico||void 0})),v=x.filter(B=>B.data_agendamento&&new Date(B.data_agendamento)>=r).sort((B,S)=>new Date(B.data_agendamento)-new Date(S.data_agendamento)).slice(0,5),b=x.filter(B=>f(B.data_agendamento)&&["realizado","concluido","concludo","finalizado"].includes(String(B.status).toLowerCase())).length,N=t(d).filter(B=>["ativa","valida","vlida"].includes(String(B.status||B.situacao||"").toLowerCase())).length;return{consultasMes:p,consultasProximas:m.length,examesPendentes:x.filter(B=>String(B.status).toLowerCase()==="pendente").length,examesRealizadosMes:b,receitasAtivas:N,medicosVinculados:Array.isArray(o)?o.length:0,proximasConsultas:m,proximosExames:v}}catch(r){return console.warn("[pacienteService] getDashboard fallback falhou:",(e=r==null?void 0:r.response)==null?void 0:e.status),null}},async garantirPacienteDoUsuario(e={}){var s,i;try{const o=await this.getPacienteDoUsuario();if(o!=null&&o.id)return o}catch{}const r="/api/pacientes/",t=r.endsWith("/")?r:`${r}/`,a={...e};Object.keys(a).forEach(o=>{a[o]===void 0&&delete a[o]});try{return(await Ee.post(`${t}me/`,a)).data}catch(o){console.debug("[pacienteService] POST /pacientes/me/ falhou:",(s=o==null?void 0:o.response)==null?void 0:s.status)}try{const o=await Ee.post(t,a);if(o!=null&&o.data)return o.data}catch(o){console.debug("[pacienteService] POST /pacientes/ falhou:",(i=o==null?void 0:o.response)==null?void 0:i.status)}try{const o=await this.getPacienteDoUsuario();if(o!=null&&o.id)return o}catch{}throw new Error("No foi possvel criar o perfil de paciente para o usurio atual.")}};function Um({role:e="paciente"}){var I,_;const r=Hn(),t=Xn(),{user:a,logout:s}=aA(),{logout:i}=Wl(),o=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.tipo)==="admin",l=TN[e]||TN.paciente,[A,d]=w.useState(""),[f,h]=w.useState(3),[m,p]=w.useState(!1),[x,v]=w.useState(null),[b,N]=w.useState(e==="paciente");w.useEffect(()=>{let W=!0;if(e!=="paciente"){v(null),N(!1);return}return(async()=>{try{const Q=await na.getPacienteDoUsuario();W&&v(Q||null)}catch{W&&v(null)}finally{W&&N(!1)}})(),()=>{W=!1}},[e]);const B=[{title:"Paciente",path:"/paciente/perfil",icon:jn},{title:"Mdico",path:"/medico/dashboard",icon:Mr},{title:"Clnica",path:"/clinica/dashboard",icon:Gl},{title:"Secretaria",path:"/secretaria/dashboard",icon:JL},{title:"Admin",path:"/admin/dashboard",icon:Xs}],S=async()=>{try{await s(),await i(),t("/login")}catch(W){console.error("Erro ao fazer logout:",W)}},F=w.useMemo(()=>b?"Carregando...":e==="paciente"&&x?x.nome||"Paciente":(a==null?void 0:a.nome)||(a==null?void 0:a.name)||"Usurio",[a,x,b,e]),L=w.useMemo(()=>b?"...":e==="paciente"&&x?x.cpf?`CPF: ${x.cpf}`:"Paciente":(a==null?void 0:a.email)||l.header.subtitle,[a,x,b,e,l]),M=w.useMemo(()=>e==="paciente"&&(x!=null&&x.foto)?x.foto:(a==null?void 0:a.avatar)||(a==null?void 0:a.foto)||null,[a,x,e]),U=l.header.icon;return n.jsxs(lS,{className:"medical-sidebar group border-r border-medical-border/20 bg-gradient-to-b from-medical-background to-medical-background/95 backdrop-blur-xl",children:[n.jsxs(dS,{className:"border-b border-medical-border/10 bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-gradient-to-br from-medical-primary to-medical-secondary shadow-lg",children:n.jsx(Uf,{className:"size-5 text-white"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h1",{className:"text-lg font-bold text-medical-primary bg-gradient-to-r from-medical-primary to-medical-secondary bg-clip-text text-transparent",children:l.header.title}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(U,{className:"size-3 text-medical-secondary"}),n.jsx("span",{className:"text-xs font-medium text-medical-secondary uppercase tracking-wider",children:l.header.subtitle})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(is,{className:st("absolute left-3 top-1/2 -translate-y-1/2 size-4 transition-colors duration-200",m?"text-medical-primary":"text-muted-foreground")}),n.jsx(Ge,{placeholder:"Buscar pacientes, exames...",value:A,onChange:W=>d(W.target.value),onFocus:()=>p(!0),onBlur:()=>p(!1),className:st("pl-10 pr-4 h-10 bg-medical-background/50 border-medical-border/30","focus:border-medical-primary/50 focus:ring-medical-primary/20","placeholder:text-muted-foreground/70")})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ye,{size:"sm",variant:"btn-medical-ghost",className:"h-8 px-3 text-xs",children:[n.jsx(ad,{className:"size-3 mr-1"}),"Novo"]}),n.jsxs(ye,{size:"sm",variant:"btn-medical-ghost",className:"h-8 px-3 text-xs",children:[n.jsx(fr,{className:"size-3 mr-1"}),"Agenda"]})]}),n.jsxs(ye,{size:"sm",variant:"ghost",className:"relative h-8 w-8 p-0 hover:bg-medical-primary/10",children:[n.jsx(sm,{className:"size-4"}),f>0&&n.jsx("span",{className:"absolute -top-1 -right-1 size-4 bg-medical-red text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:f})]})]})]}),n.jsxs(fS,{className:"px-3 py-4 space-y-6",children:[e==="paciente"&&x&&n.jsxs("div",{className:"px-3 py-4 rounded-xl bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border border-medical-border/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-medical-primary",children:"Status do Paciente"}),n.jsx(UE,{status:"active",size:"sm"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["ltima consulta: ",new Date().toLocaleDateString()]})]}),l.sections.map((W,Q)=>n.jsxs(e1,{className:"space-y-3",children:[W.label&&n.jsxs(t1,{className:"text-medical-secondary/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[n.jsx(di,{className:"size-3"}),W.label]}),n.jsx(r1,{children:n.jsx(a1,{className:"space-y-1",children:(W.items||[]).map((K,X)=>{const R=K.icon,re=r.pathname===K.path;return n.jsx(n1,{children:n.jsx(s1,{asChild:!0,isActive:re,className:st("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-medical-primary/10 hover:shadow-sm",re&&["bg-gradient-to-r from-medical-primary/15 to-medical-secondary/10","border-l-4 border-medical-primary shadow-sm","text-medical-primary font-medium"]),children:n.jsxs(gr,{to:K.path,className:"flex items-center gap-3 w-full",children:[R&&n.jsx("div",{className:st("flex items-center justify-center size-8 rounded-lg transition-all duration-200",re?"bg-medical-primary/20 text-medical-primary":"bg-medical-background/50 text-muted-foreground group-hover:bg-medical-primary/10 group-hover:text-medical-primary"),children:n.jsx(R,{className:"size-4"})}),n.jsx("span",{className:"font-medium flex-1",children:K.label}),K.badge&&n.jsx(sr,{variant:"medical-secondary",size:"sm",className:"ml-auto animate-pulse",children:K.badge})]})})},`${K.label}-${X}`)})})})]},`${W.label}-${Q}`)),o&&e!=="admin"&&n.jsxs(e1,{className:"space-y-3",children:[n.jsxs(t1,{className:"text-amber-600/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[n.jsx(Xs,{className:"size-3"}),"Acesso Administrativo"]}),n.jsx(r1,{children:n.jsx(a1,{className:"space-y-1",children:B.map((W,Q)=>{const K=W.icon,X=r.pathname===W.path;return n.jsx(n1,{children:n.jsx(s1,{asChild:!0,isActive:X,className:st("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-amber-500/10 hover:shadow-sm",X&&["bg-gradient-to-r from-amber-500/15 to-orange-500/10","border-l-4 border-amber-500 shadow-sm","text-amber-600 font-medium"]),children:n.jsxs(gr,{to:W.path,className:"flex items-center gap-3 w-full",children:[K&&n.jsx("div",{className:st("flex items-center justify-center size-8 rounded-lg transition-all duration-200",X?"bg-amber-500/20 text-amber-600":"bg-amber-50 text-amber-600/70 group-hover:bg-amber-500/10 group-hover:text-amber-600"),children:n.jsx(K,{className:"size-4"})}),n.jsx("span",{className:"font-medium flex-1",children:W.title}),n.jsx(sr,{variant:"warning",size:"sm",className:"ml-auto",children:"Admin"})]})})},`admin-${W.title}-${Q}`)})})})]})]}),n.jsxs(uS,{className:"border-t border-medical-border/20 bg-gradient-to-r from-medical-background/80 to-medical-background/60 backdrop-blur-xl p-4",children:[n.jsxs(mE,{children:[n.jsx(pE,{asChild:!0,children:n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-medical-background/50 to-medical-background/30 hover:from-medical-primary/5 hover:to-medical-secondary/5 transition-all duration-300 cursor-pointer group hover:shadow-lg border border-medical-border/10 hover:border-medical-primary/20",children:[n.jsxs(Fm,{className:"size-10 ring-2 ring-medical-border/20 group-hover:ring-medical-primary/30 transition-all duration-300",children:[n.jsx(rx,{src:M}),n.jsx(km,{className:"bg-gradient-to-br from-medical-primary via-medical-secondary to-medical-accent text-white font-semibold",children:(_=(I=F||"U")==null?void 0:I.charAt(0))==null?void 0:_.toUpperCase()})]}),n.jsxs("div",{className:"flex flex-col gap-0.5 leading-tight flex-1 min-w-0",children:[n.jsx("span",{className:"text-sm font-semibold text-medical-primary truncate group-hover:text-medical-primary/80 transition-colors",children:F}),n.jsx("span",{className:"text-xs text-muted-foreground truncate group-hover:text-medical-secondary transition-colors",children:L})]}),n.jsx(Ay,{className:"size-4 text-muted-foreground group-hover:text-medical-primary transition-all duration-300 group-hover:rotate-180"})]})}),n.jsxs($y,{align:"end",className:"w-64 bg-medical-background/95 backdrop-blur-xl border-medical-border/20",children:[n.jsx(gE,{className:"text-medical-primary font-semibold",children:"Minha Conta"}),n.jsx(l1,{className:"bg-medical-border/20"}),n.jsxs(Oc,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(jn,{className:"size-4 mr-2 text-medical-primary"}),"Perfil"]}),n.jsxs(Oc,{onClick:()=>t(`/${e}/configuracoes`),className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(im,{className:"size-4 mr-2 text-medical-primary"}),"Configuraes"]}),n.jsxs(Oc,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(TC,{className:"size-4 mr-2 text-medical-primary"}),"Tema"]}),n.jsxs(Oc,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[n.jsx(LL,{className:"size-4 mr-2 text-medical-primary"}),"Ajuda"]}),n.jsx(l1,{className:"bg-medical-border/20"}),n.jsxs(Oc,{onClick:S,className:"text-medical-red hover:bg-medical-red/10 focus:bg-medical-red/10",children:[n.jsx(ML,{className:"size-4 mr-2"}),"Sair"]})]})]}),n.jsx(ws,{className:"bg-medical-border/20"}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground px-3 py-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"size-2 bg-medical-green rounded-full animate-pulse"}),n.jsx("span",{children:"Sistema Online"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"size-3"}),n.jsx("span",{children:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})]})]})}function uM(){const e=Hn(),r=Xn(),[t,a]=w.useState(null),[s,i]=w.useState(!0),o=w.useRef(!1),l=async()=>{try{const h=await na.getPerfil();a(h)}catch{}finally{i(!1)}};w.useEffect(()=>{let h=!0;return(async()=>h&&(i(!0),await l()))(),()=>{h=!1}},[]);const A=!!t&&(!(t!=null&&t.data_nascimento)||!(t!=null&&t.endereco)||!(t!=null&&t.telefone));w.useEffect(()=>((async()=>e.pathname!=="/paciente/perfil"&&(o.current=!0,i(!0),await l(),o.current=!1))(),()=>{}),[e.pathname]),w.useEffect(()=>{o.current||!s&&A&&e.pathname!=="/paciente/perfil"&&r("/paciente/perfil",{replace:!0})},[s,A,e.pathname,r]);const d=w.useMemo(()=>{const h=e.pathname,m={"/paciente/perfil":"Perfil","/paciente/prontuario":"Pronturio","/paciente/consultas":"Consultas","/paciente/exames":"Exames","/paciente/receitas":"Receitas","/paciente/historico-medico":"Histrico Mdico","/paciente/medicos":"Mdicos Vinculados","/paciente/configuracoes":"Configuraes"},p=m[h]||Object.keys(m).find(x=>h.startsWith(x))&&m[Object.keys(m).find(x=>h.startsWith(x))]||"Perfil";return[{label:"rea do Paciente",href:"/paciente/perfil"},{label:p}]},[e.pathname]),f=()=>n.jsx(Um,{role:"paciente"});return n.jsx(Dm,{sidebar:f,breadcrumbs:d,children:n.jsx(vm,{})})}function fM(){const e=()=>n.jsx(Um,{role:"medico"});return n.jsx(Dm,{sidebar:e,children:n.jsx(vm,{})})}function LE({breadcrumbs:e}){const r=()=>n.jsx(Um,{role:"clinica"});return n.jsx(Dm,{sidebar:r,breadcrumbs:e,children:n.jsx(vm,{})})}function hM(){const e=()=>n.jsx(Um,{role:"admin"});return n.jsx(Dm,{sidebar:e,children:n.jsx(vm,{})})}var mM="Label",IE=w.forwardRef((e,r)=>n.jsx(Nr.label,{...e,ref:r,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));IE.displayName=mM;var pM=IE;const gM=U0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=w.forwardRef(({className:e,...r},t)=>n.jsx(pM,{ref:t,className:st(gM(),e),...r}));Le.displayName="Label";const _e=w.forwardRef(({className:e,variant:r="default",...t},a)=>{const s={default:"card-medical",elevated:"card-elevated",medical:"card-medical",priority:"card-medical"};return n.jsx("div",{ref:a,className:st("animate-fade-in",s[r],e),...t})});_e.displayName="Card";const ze=w.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:st("flex flex-col space-y-2 p-6 pb-4",e),...r}));ze.displayName="CardHeader";const Ze=w.forwardRef(({className:e,level:r="h3",...t},a)=>{const s=r;return n.jsx(s,{ref:a,className:st("text-xl font-semibold leading-tight tracking-tight text-heading-foreground","flex items-center gap-2",e),...t})});Ze.displayName="CardTitle";const Ar=w.forwardRef(({className:e,...r},t)=>n.jsx("p",{ref:t,className:st("text-sm text-muted-foreground leading-relaxed",e),...r}));Ar.displayName="CardDescription";const De=w.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:st("p-6 pt-0 space-y-4",e),...r}));De.displayName="CardContent";const xM=w.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:st("flex items-center justify-between p-6 pt-0 border-t border-border/50 mt-4",e),...r}));xM.displayName="CardFooter";const vM=w.forwardRef(({className:e,status:r="normal",children:t,...a},s)=>{const i={normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent"};return n.jsx("div",{ref:s,className:st("status-badge",i[r],e),...a,children:t})});vM.displayName="CardStatus";const wM=w.forwardRef(({className:e,priority:r="low",children:t,...a},s)=>{const i={low:"card-priority-low",medium:"card-priority-medium",high:"card-priority-high"};return n.jsx("div",{ref:s,className:st("card-medical",i[r],e),...a,children:t})});wM.displayName="CardPriority";const yM=5;let Rv=0;function bM(){return Rv=(Rv+1)%Number.MAX_SAFE_INTEGER,Rv.toString()}const zA={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},bg=[];let Ng={toasts:[]};function jg(e){Ng=NM(Ng,e),bg.forEach(r=>{r(Ng)})}function NM(e,r){switch(r.type){case zA.ADD_TOAST:return{...e,toasts:[r.toast,...e.toasts].slice(0,yM)};case zA.UPDATE_TOAST:return{...e,toasts:e.toasts.map(t=>t.id===r.toast.id?{...t,...r.toast}:t)};case zA.DISMISS_TOAST:return{...e,toasts:e.toasts.map(t=>t.id===r.toastId||r.toastId===void 0?{...t,open:!1}:t)};case zA.REMOVE_TOAST:return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(t=>t.id!==r.toastId)}}}function jM({...e}){const r=bM(),t=s=>jg({type:zA.UPDATE_TOAST,toast:{...s,id:r}}),a=()=>jg({type:zA.DISMISS_TOAST,toastId:r});return jg({type:zA.ADD_TOAST,toast:{...e,id:r,open:!0,onOpenChange:s=>{s||a()}}}),{id:r,dismiss:a,update:t}}function Ma(){const[e,r]=w.useState(Ng);return w.useEffect(()=>(bg.push(r),()=>{const t=bg.indexOf(r);t>-1&&bg.splice(t,1)}),[e]),{...e,toast:jM,dismiss:t=>jg({type:zA.DISMISS_TOAST,toastId:t})}}const qy={EMAIL:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,PASSWORD:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,NAME:/^[a-zA-Z-\s]{2,50}$/};function uu(e){return typeof e!="string"?e:e.replace(/<\/?(?:script|iframe|object|embed|form|input|button|link|meta|style|base|applet)[^>]*>/gi,"").replace(/\s*on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:|vbscript:|data:/gi,"").replace(/[\x00-\x1F\x7F]/g,"").slice(0,1e4)}function PE(e){if(!e||typeof e!="string")return{isValid:!1,error:"Email  obrigatrio"};const r=uu(e.trim().toLowerCase());return qy.EMAIL.test(r)?r.length>254?{isValid:!1,error:"Email muito longo"}:{isValid:!0,value:r}:{isValid:!1,error:"Email invlido"}}function BM(e){if(!e||typeof e!="string")return{isValid:!1,error:"CPF  obrigatrio"};const r=uu(e.replace(/\D/g,""));if(r.length!==11)return{isValid:!1,error:"CPF deve ter 11 dgitos"};if(/^(\d)\1{10}$/.test(r))return{isValid:!1,error:"CPF invlido"};let t=0;for(let s=0;s<9;s++)t+=parseInt(r.charAt(s))*(10-s);let a=t*10%11;if((a===10||a===11)&&(a=0),a!==parseInt(r.charAt(9)))return{isValid:!1,error:"CPF invlido"};t=0;for(let s=0;s<10;s++)t+=parseInt(r.charAt(s))*(11-s);return a=t*10%11,(a===10||a===11)&&(a=0),a!==parseInt(r.charAt(10))?{isValid:!1,error:"CPF invlido"}:{isValid:!0,value:r}}function CM(e){return!e||typeof e!="string"?{isValid:!1,error:"Senha  obrigatria"}:e.length<8?{isValid:!1,error:"Senha deve ter pelo menos 8 caracteres"}:e.length>128?{isValid:!1,error:"Senha muito longa"}:qy.PASSWORD.test(e)?{isValid:!0,value:e}:{isValid:!1,error:"Senha deve conter pelo menos: 1 letra minscula, 1 maiscula, 1 nmero e 1 caractere especial"}}function SM(e){return!e||typeof e!="string"?{isValid:!1,error:"Senha  obrigatria"}:e.length<1?{isValid:!1,error:"Senha  obrigatria"}:e.length>128?{isValid:!1,error:"Senha muito longa"}:{isValid:!0,value:e}}function EM(e){if(!e||typeof e!="string")return{isValid:!1,error:"Nome  obrigatrio"};const r=uu(e.trim());return r.length<2?{isValid:!1,error:"Nome deve ter pelo menos 2 caracteres"}:r.length>100?{isValid:!1,error:"Nome muito longo"}:qy.NAME.test(r)?{isValid:!0,value:r}:{isValid:!1,error:"Nome contm caracteres invlidos"}}function _M(e,r=1e3){if(!e||typeof e!="string")return{isValid:!1,error:"Texto  obrigatrio"};const t=uu(e.trim());return t.length===0?{isValid:!1,error:"Texto no pode estar vazio"}:t.length>r?{isValid:!1,error:`Texto deve ter no mximo ${r} caracteres`}:{isValid:!0,value:t}}function FM(){const[e,r]=w.useState({email:"",password:""}),[t,a]=w.useState(!1),[s,i]=w.useState(!1),[o,l]=w.useState({}),{login:A,loginWithGoogle:d}=aA(),{toast:f}=Ma(),h=Xn(),m=()=>{const L={},M=PE(e.email);M.isValid||(L.email=M.error);const U=SM(e.password);return U.isValid||(L.password=U.error),l(L),Object.keys(L).length===0},p=async L=>{var M,U,I,_,W,Q,K,X,R,re,$;if(L.preventDefault(),!m()){f({title:"Dados invlidos",description:"Por favor, corrija os erros no formulrio",variant:"destructive"});return}a(!0);try{const V=await A(e);switch(f({title:"Login realizado com sucesso!",description:`Bem-vindo, ${((M=V.user)==null?void 0:M.first_name)||((U=V.user)==null?void 0:U.username)||((I=V.user)==null?void 0:I.email)||"usurio"}!`}),((_=V.user)==null?void 0:_.role)||((W=V.user)==null?void 0:W.tipo)){case"medico":h("/medico/dashboard");break;case"paciente":h("/paciente/perfil");break;case"clinica":h("/clinica/dashboard");break;case"admin":h("/admin/dashboard");break;default:h("/")}}catch(V){const Z=((K=(Q=V.response)==null?void 0:Q.data)==null?void 0:K.error)||((R=(X=V.response)==null?void 0:X.data)==null?void 0:R.detail)||(($=(re=V.response)==null?void 0:re.data)==null?void 0:$.message);f({title:"Erro no login",description:Z||"Credenciais invlidas",variant:"destructive"})}finally{a(!1)}},x=L=>{const{name:M,value:U}=L.target;r(I=>({...I,[M]:U})),o[M]&&l(I=>{const _={...I};return delete _[M],_})},[v,b]=w.useState(!1),N=w.useRef(null),{setTheme:B,theme:S}=mS(),F=w.useRef(null);return w.useEffect(()=>(F.current=S,B("light"),()=>{F.current&&B(F.current)}),[S,B]),w.useEffect(()=>{if(window.google&&N.current)try{window.google.accounts.id.initialize({client_id:"SEU_CLIENT_ID_REAL.apps.googleusercontent.com",callback:async L=>{var U,I,_,W,Q,K,X,R;const M=L==null?void 0:L.credential;if(M){b(!0);try{const re=await d(M);switch(f({title:"Login com Google realizado!",description:`Bem-vindo, ${((U=re.user)==null?void 0:U.nome)||((I=re.user)==null?void 0:I.first_name)||((_=re.user)==null?void 0:_.username)||((W=re.user)==null?void 0:W.email)||"usurio"}!`}),((Q=re.user)==null?void 0:Q.role)||((K=re.user)==null?void 0:K.tipo)){case"medico":h("/medico/dashboard");break;case"paciente":h("/paciente/perfil");break;case"clinica":h("/clinica/dashboard");break;case"admin":h("/admin/dashboard");break;default:h("/")}}catch(re){f({title:"Erro no login com Google",description:((R=(X=re.response)==null?void 0:X.data)==null?void 0:R.message)||"No foi possvel autenticar",variant:"destructive"})}finally{b(!1)}}}}),window.google.accounts.id.renderButton(N.current,{theme:"outline",size:"large",shape:"pill",text:"continue_with",width:320})}catch{}},[d,h,f]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 flex items-center justify-center p-4 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-blue-600/20 rounded-full blur-3xl"})]}),n.jsxs(_e,{className:"w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 relative z-10",children:[n.jsxs(ze,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-medical-primary rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:n.jsx(Mr,{className:"w-8 h-8 text-white"})}),n.jsx(Ze,{className:"text-3xl font-bold text-medical-primary",children:"Portal Mdico"}),n.jsx(Ar,{className:"text-slate-600 text-base",children:"Acesse sua conta para continuar"})]}),n.jsxs(De,{className:"space-y-6 px-8 pb-8",children:[n.jsxs("form",{onSubmit:p,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Le,{htmlFor:"email",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(ol,{className:"w-4 h-4"}),"Email"]}),n.jsx(Ge,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:e.email,onChange:x,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 ${o.email?"border-red-500 focus:border-red-500":""}`}),o.email&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Le,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(uy,{className:"w-4 h-4"}),"Senha"]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ge,{id:"password",name:"password",type:s?"text":"password",placeholder:"",value:e.password,onChange:x,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 pr-12 ${o.password?"border-red-500 focus:border-red-500":""}`}),n.jsx(ye,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 hover:bg-transparent",onClick:()=>i(!s),children:s?n.jsx(kL,{className:"h-4 w-4 text-slate-400"}):n.jsx(ui,{className:"h-4 w-4 text-slate-400"})})]}),o.password&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.password})]}),n.jsx(ye,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",disabled:t,children:t?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Entrando..."]}):"Entrar"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"}),n.jsx("span",{className:"text-sm text-slate-500 font-medium bg-white px-2",children:"ou"}),n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{ref:N,className:"w-full flex justify-center"})}),!window.google&&n.jsx(ye,{type:"button",variant:"outline",className:"w-full h-12 border-slate-200 hover:bg-slate-50 bg-white/80 backdrop-blur-sm transition-all duration-200",disabled:!0,children:v?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-slate-400/30 border-t-slate-400 rounded-full animate-spin"}),"Conectando..."]}):"Continuar com Google"}),n.jsxs("div",{className:"text-center space-y-3 pt-4",children:[n.jsx(gr,{to:"/esqueci-senha",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Esqueceu sua senha?"}),n.jsxs("div",{className:"text-sm text-slate-600",children:["No tem uma conta?"," ",n.jsx(gr,{to:"/registrar",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Cadastre-se"})]})]})]})]})]})}function kM(){const e=Xn(),{toast:r}=Ma(),[t,a]=w.useState(!1),[s,i]=w.useState("paciente"),[o,l]=w.useState({}),[A,d]=w.useState(!1),[f,h]=w.useState(!1),[m,p]=w.useState({nome:"",email:"",senha:"",confirmSenha:"",cpf:"",nomeClinica:"",cnpj:""}),x=$=>{const V=$.replace(/\D/g,"").slice(0,11),Z=V.slice(0,3),ie=V.slice(3,6),ue=V.slice(6,9),E=V.slice(9,11);return V.length>9?`${Z}.${ie}.${ue}-${E}`:V.length>6?`${Z}.${ie}.${ue}`:V.length>3?`${Z}.${ie}`:Z},v=$=>{const V=String($||"").replace(/\D/g,"").slice(0,14),Z=V.slice(0,2),ie=V.slice(2,5),ue=V.slice(5,8),E=V.slice(8,12),P=V.slice(12,14);return V.length>12?`${Z}.${ie}.${ue}/${E}-${P}`:V.length>8?`${Z}.${ie}.${ue}/${E}`:V.length>5?`${Z}.${ie}.${ue}`:V.length>2?`${Z}.${ie}`:Z},b=$=>String($||"").replace(/\D/g,"").slice(0,7),N=$=>{const{name:V,value:Z}=$.target;if(o[V]&&l(ie=>({...ie,[V]:void 0})),V==="cpf"){p({...m,cpf:x(Z)});return}if(V==="cnpj"){p({...m,cnpj:v(Z)});return}p({...m,[V]:Z})},B=$=>String($||"").trim().replace(/\s+/g," ").split(" ").filter(Boolean).map(V=>V.charAt(0).toUpperCase()+V.slice(1).toLowerCase()).join(" "),[S,F]=w.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),L=w.useRef(null),M=w.useRef(null),U=w.useRef(null),I=$=>{const{name:V,value:Z}=$.target;o[V]&&l(ie=>({...ie,[V]:void 0})),F(V==="crm"?ie=>({...ie,crm:b(Z)}):ie=>({...ie,[V]:Z}))},_=($,V)=>{o[$]&&l(Z=>({...Z,[$]:void 0})),F(Z=>({...Z,documentos:{...Z.documentos,[$]:V}}))},W=($,V)=>{F(Z=>({...Z,documentos:{...Z.documentos,[$]:null}})),V!=null&&V.current&&(V.current.value="")},Q=$=>{if(!$&&$!==0)return"";const V=["Bytes","KB","MB","GB"];if($===0)return"0 Byte";const Z=Math.floor(Math.log($)/Math.log(1024));return`${($/Math.pow(1024,Z)).toFixed(1)} ${V[Z]}`},K=({label:$,required:V=!1,icon:Z="",accept:ie=".pdf,image/*",file:ue,onFile:E,onRemove:P,inputRef:Y})=>{const[z,J]=w.useState(!1),q=G=>{var ce;G.preventDefault(),J(!1);const ne=(ce=G.dataTransfer.files)==null?void 0:ce[0];ne&&E(ne)};return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-base",children:Z}),n.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[$," ",V?n.jsx("span",{className:"text-rose-600",children:"*"}):n.jsx("span",{className:"text-slate-400",children:"(opcional)"})]})]}),n.jsx("input",{ref:Y,type:"file",accept:ie,className:"hidden",onChange:G=>{var ne;return E(((ne=G.target.files)==null?void 0:ne[0])||null)}}),n.jsxs("div",{onDragOver:G=>{G.preventDefault(),J(!0)},onDragLeave:()=>J(!1),onDrop:q,className:`rounded-lg border-2 p-3 flex items-center justify-between gap-3 transition
            ${z?"border-sky-400 bg-sky-50":"border-dashed border-slate-300 bg-white"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100 flex items-center justify-center text-lg",children:Z}),ue?n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:ue.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[ue.type||"Arquivo","  ",Q(ue.size)]})]}):n.jsxs("div",{className:"text-sm text-slate-600",children:["Arraste e solte aqui ou"," ",n.jsx("button",{type:"button",onClick:()=>{var G;return(G=Y==null?void 0:Y.current)==null?void 0:G.click()},className:"underline text-sky-700 hover:text-sky-800",children:"procurar"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!ue&&n.jsx("button",{type:"button",onClick:()=>{var G;return(G=Y==null?void 0:Y.current)==null?void 0:G.click()},className:"px-3 py-2 rounded-md bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800",children:"Escolher arquivo"}),ue&&n.jsx("button",{type:"button",onClick:P,className:"px-3 py-2 rounded-md bg-rose-50 text-rose-700 text-xs font-semibold hover:bg-rose-100",children:"Remover"})]})]})]})};m.email.length===0||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email);const X=()=>{const $={},V=EM(m.nome);V.isValid||($.nome=V.error);const Z=PE(m.email);Z.isValid||($.email=Z.error);const ie=CM(m.senha);ie.isValid||($.senha=ie.error),m.senha!==m.confirmSenha&&($.confirmSenha="As senhas no conferem");const ue=BM(m.cpf);return ue.isValid||($.cpf=ue.error),s==="clinica"&&(m.nomeClinica.trim()||($.nomeClinica="Nome da clnica  obrigatrio"),m.cnpj.trim()||($.cnpj="CNPJ  obrigatrio")),s==="medico"&&(S.crm.trim()||($.crm="CRM  obrigatrio"),S.especialidade.trim()||($.especialidade="Especialidade  obrigatria"),S.documentos.diplomaMedicina||($.diplomaMedicina="Diploma de Medicina  obrigatrio")),$},R=m.confirmSenha.length===0||m.senha.length>0&&m.senha===m.confirmSenha,re=async $=>{var Z,ie,ue,E,P,Y,z,J,q,G;$.preventDefault();const V=X();if(l(V),Object.keys(V).length>0){r({title:"Erro de validao",description:"Por favor, corrija os erros no formulrio.",variant:"destructive"});return}a(!0);try{const ne=String(m.nome||"").trim().replace(/\s+/g," "),ce=B(ne),[pe,...ve]=ce.split(" "),Pe=ve.join(" "),ke={username:m.nome.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^a-z0-9@.+_-]/g,""),first_name:pe||"",last_name:Pe||"",email:m.email,password:m.senha,password_confirm:m.confirmSenha,role:s==="medico"?"paciente":s,desired_role:s,cpf:m.cpf||""};s==="clinica"&&(ke.nome_clinica=m.nomeClinica,ke.cnpj=m.cnpj);const xe=await Xr.register(ke,{medicoData:s==="medico"?S:void 0});if(s==="medico"){const de=xe==null?void 0:xe.medicoApplication;de!=null&&de.success?r({title:"Solicitao enviada!",description:"Seus dados de mdico foram enviados para anlise."}):de&&de.success===!1&&(console.error("[RegisterForm] criarSolicitacaoMedico via authService falhou:",de.error),r({title:"Solicitao pendente",description:"Sua conta foi criada, mas no foi possvel enviar a solicitao de mdico agora. Voc poder concluir depois."}))}r({title:"Registro realizado com sucesso!",description:"Sua conta foi criada. Voc pode fazer login agora."}),e("/login")}catch(ne){console.error("Erro no registro:",ne),console.error("Status do erro:",(Z=ne.response)==null?void 0:Z.status),console.error("Detalhes do erro:",(ie=ne.response)==null?void 0:ie.data),console.error("Headers da resposta:",(ue=ne.response)==null?void 0:ue.headers);let ce="Erro interno do servidor. Tente novamente.",pe=!1,ve=!1,Pe=!1;try{const ke=(E=ne.response)==null?void 0:E.status,xe=((P=ne.response)==null?void 0:P.headers)||{},de=xe["content-type"]||xe["Content-Type"]||"",wt=(Y=ne.response)==null?void 0:Y.data,mt=((typeof wt=="string"?wt:"")||"").toLowerCase(),qe=dt=>{dt==="crm"?ce="CRM j cadastrado no sistema. Utilize outro nmero de CRM.":dt==="email"?ce="E-mail j cadastrado no sistema.":dt==="cpf"?ce="CPF j cadastrado no sistema.":ce="Algum campo nico j est cadastrado (ex.: CRM, e-mail ou CPF)."};ke===409&&(qe("unknown"),ve=!0),pe=String(de).includes("text/html"),(pe||mt.includes("unique constraint")||mt.includes("integrityerror"))&&(mt.includes("crm")?(qe("crm"),ve=!0,Pe=!0):mt.includes("email")?(qe("email"),ve=!0):mt.includes("cpf")&&(qe("cpf"),ve=!0))}catch{}if((z=ne.response)!=null&&z.data){const ke=ne.response.data;if(console.log("Tipo do errorData:",typeof ke),console.log("ErrorData completo:",JSON.stringify(ke,null,2)),typeof ke=="object"){const xe=[];for(const[de,wt]of Object.entries(ke))Array.isArray(wt)?xe.push(`${de}: ${wt.join(", ")}`):xe.push(`${de}: ${wt}`);xe.length&&(ce=xe.join(`
`))}typeof ke=="string"?/<\/?(html|body|head|table|div|span|style|script)[^>]*>/i.test(ke)||(ce=ke):ke.message?ce=ke.message:ke.email?ce=`Email: ${ke.email[0]}`:ke.password&&(ce=`Senha: ${ke.password[0]}`)}try{const ke=(J=ne.response)==null?void 0:J.status,xe=((q=ne.response)==null?void 0:q.headers)||{},de=xe["content-type"]||xe["Content-Type"]||"",wt=(G=ne.response)==null?void 0:G.data,mt=((typeof wt=="string"?wt:"")||"").toLowerCase(),qe=ve||ke===409||mt.includes("unique constraint")||mt.includes("integrityerror"),dt=pe||String(de).includes("text/html"),ut=Pe||mt.includes("crm")||mt.includes("medico");if(qe&&(dt||ut)){try{await Xr.login({email:m.email,password:m.senha}),await Xr.logout(),r({title:"Conta criada",description:"Sua conta foi criada, mas houve um problema com os dados de mdico (CRM). Faa login para continuar."}),e("/login");return}catch{}r({title:"Conta possivelmente criada",description:ce+"  Tente fazer login com seu e-mail e senha."}),e("/login");return}}catch{}r({title:"Erro no registro",description:ce,variant:"destructive"})}finally{a(!1)}};return n.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur shadow-app-lg rounded-2xl border border-slate-100 overflow-hidden",children:[n.jsxs("div",{className:"px-6 pt-6 pb-4 bg-app-gradient text-white",children:[n.jsx("h1",{className:"text-xl font-semibold",children:"Criar conta"}),n.jsx("p",{className:"text-white/90 text-sm",children:s==="paciente"?"Como paciente":s==="clinica"?"Como clnica":"Como mdico"})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-slate-100 rounded-lg p-1 grid grid-cols-3 gap-1",children:[n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="paciente"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("paciente"),children:" Paciente"}),n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="clinica"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("clinica"),children:" Clnica"}),n.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${s==="medico"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>i("medico"),children:" Mdico"})]}),n.jsxs("form",{className:"space-y-4",onSubmit:re,children:[s!=="clinica"?n.jsx(n.Fragment,{children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome completo"}),n.jsx("input",{type:"text",name:"nome",placeholder:"Seu nome",value:m.nome,onChange:N,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.nome?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.nome&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.nome})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome da clnica"}),n.jsx("input",{type:"text",name:"nomeClinica",placeholder:"Ex.: Clnica Vida",value:m.nomeClinica,onChange:N,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.nomeClinica?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.nomeClinica&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.nomeClinica})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CNPJ"}),n.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",value:m.cnpj,onChange:N,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.cnpj?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.cnpj&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.cnpj})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"E-mail"}),n.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:m.email,onChange:N,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.email?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.email&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CPF *"}),n.jsx("input",{type:"text",name:"cpf",placeholder:"000.000.000-00",value:m.cpf,onChange:N,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.cpf?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),o.cpf&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.cpf})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:A?"text":"password",name:"senha",placeholder:"Crie uma senha",value:m.senha,onChange:N,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${o.senha?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),n.jsx("button",{type:"button",onClick:()=>d($=>!$),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":A?"Ocultar senha":"Mostrar senha",children:A?"Ocultar":"Mostrar"})]}),o.senha&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.senha})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Confirmar senha"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:f?"text":"password",name:"confirmSenha",placeholder:"Repita a senha",value:m.confirmSenha,onChange:N,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 transition ${o.confirmSenha?"border-rose-300 focus:ring-rose-500":R?"border-slate-200 focus:ring-sky-500 focus:border-sky-500":"border-amber-300 focus:ring-amber-400"}`}),n.jsx("button",{type:"button",onClick:()=>h($=>!$),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":f?"Ocultar senha":"Mostrar senha",children:f?"Ocultar":"Mostrar"})]}),o.confirmSenha?n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.confirmSenha}):m.confirmSenha.length>0&&n.jsx("p",{className:`mt-1 text-xs ${m.senha===m.confirmSenha?"text-emerald-600":"text-amber-600"}`,children:m.senha===m.confirmSenha?"Senhas conferem.":"As senhas no conferem."})]}),s==="medico"&&n.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[n.jsx("p",{className:"font-semibold",children:"Dados do Mdico"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CRM"}),n.jsx("input",{type:"text",name:"crm",placeholder:"CRM",value:S.crm,onChange:I,maxLength:7,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${o.crm?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),o.crm&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.crm})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidade"}),n.jsx("input",{type:"text",name:"especialidade",placeholder:"Ex.: Cardiologia",value:S.especialidade,onChange:I,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${o.especialidade?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),o.especialidade&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.especialidade})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio de Formao"}),n.jsx("input",{type:"text",name:"instituicaoFormacao",placeholder:"Universidade",value:S.instituicaoFormacao,onChange:I,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano de Formao"}),n.jsx("input",{type:"number",name:"anoFormacao",placeholder:"YYYY",value:S.anoFormacao,onChange:I,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Residncia (se aplicvel)"}),n.jsx("input",{type:"text",name:"residencia",placeholder:"Residncia Mdica",value:S.residencia,onChange:I,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituio da Residncia"}),n.jsx("input",{type:"text",name:"instituicaoResidencia",placeholder:"Instituio",value:S.instituicaoResidencia,onChange:I,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano da Residncia"}),n.jsx("input",{type:"number",name:"anoResidencia",placeholder:"YYYY",value:S.anoResidencia,onChange:I,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Experincia"}),n.jsx("textarea",{name:"experiencia",placeholder:"Resumo da experincia",value:S.experiencia,onChange:I,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Motivao"}),n.jsx("textarea",{name:"motivacao",placeholder:"Por que deseja se cadastrar como mdico na plataforma?",value:S.motivacao,onChange:I,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"font-medium",children:"Documentos"}),n.jsx(K,{label:"Diploma de Medicina",required:!0,icon:"",accept:".pdf,image/*",file:S.documentos.diplomaMedicina,inputRef:L,onFile:$=>_("diplomaMedicina",$),onRemove:()=>W("diplomaMedicina",L)}),o.diplomaMedicina&&n.jsx("p",{className:"mt-1 text-xs text-rose-600",children:o.diplomaMedicina}),n.jsx(K,{label:"Certificado de Residncia",icon:"",accept:".pdf,image/*",file:S.documentos.certificadoResidencia,inputRef:M,onFile:$=>_("certificadoResidencia",$),onRemove:()=>W("certificadoResidencia",M)}),n.jsx(K,{label:"Comprovante de Experincia",icon:"",accept:".pdf,image/*",file:S.documentos.comprovanteExperiencia,inputRef:U,onFile:$=>_("comprovanteExperiencia",$),onRemove:()=>W("comprovanteExperiencia",U)})]})]}),n.jsx("button",{type:"submit",disabled:t,className:"w-full py-3 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-2 focus-visible:ring-blue-400 shadow-app transition disabled:opacity-70 disabled:cursor-not-allowed",children:t?"Registrando...":`Registrar ${s==="paciente"?"Paciente":s==="clinica"?"Clnica":s==="medico"?"Mdico":"Usurio"}`})]})]})]})})}const QE=w.createContext(null);function RE(){const e=w.useContext(QE);if(!e)throw new Error("Tabs components must be used within <Tabs>");return e}const Ii=w.forwardRef(({className:e,value:r,defaultValue:t="",onValueChange:a,children:s,...i},o)=>{const[l,A]=w.useState(t),d=r!==void 0,f=d?r:l,h=m=>{d||A(m),a==null||a(m)};return n.jsx(QE.Provider,{value:{value:f,setValue:h},children:n.jsx("div",{ref:o,className:st("",e),...i,children:s})})});Ii.displayName="Tabs";const Pi=w.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:st("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));Pi.displayName="TabsList";const kr=w.forwardRef(({className:e,value:r,onClick:t,...a},s)=>{const{value:i,setValue:o}=RE(),l=i===r,A=d=>{t==null||t(d),o(r)};return n.jsx("button",{ref:s,"data-state":l?"active":"inactive",className:st("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",l?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",e),onClick:A,...a})});kr.displayName="TabsTrigger";const Rr=w.forwardRef(({className:e,value:r,forceMount:t=!1,...a},s)=>{const{value:i}=RE();return!t&&i!==r?null:n.jsx("div",{ref:s,className:st("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a})});Rr.displayName="TabsContent";function DM(){const[e,r]=w.useState(""),[t,a]=w.useState(!1),[s,i]=w.useState(!1),[o,l]=w.useState("paciente"),A=Xn(),d=Hn(),{toast:f}=Ma();w.useEffect(()=>{const p=new URLSearchParams(d.search).get("role");(p==="clinica"||p==="paciente")&&l(p)},[d]);const h=async m=>{var p,x,v,b;m.preventDefault(),a(!0);try{await Xr.forgotPassword(e),i(!0),f({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch(N){const B=((x=(p=N==null?void 0:N.response)==null?void 0:p.data)==null?void 0:x.detail)||((b=(v=N==null?void 0:N.response)==null?void 0:v.data)==null?void 0:b.message)||(N==null?void 0:N.message);f({title:"Erro",description:B||"No foi possvel enviar o email. Tente novamente.",variant:"destructive"})}finally{a(!1)}};return s?n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(_e,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(ze,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 shadow-lg",children:n.jsx(ns,{className:"h-8 w-8 text-white"})}),n.jsx(Ze,{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Email Enviado!"}),n.jsxs(Ar,{className:"text-lg text-gray-600",children:["Enviamos um link para redefinir sua senha para ",n.jsx("strong",{className:"text-gray-900",children:e})]})]}),n.jsxs(De,{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-100",children:n.jsx("p",{className:"text-sm text-gray-700 text-center font-medium",children:"Verifique sua caixa de entrada e spam. O link expira em 24 horas."})}),n.jsx(ye,{variant:"outline",className:"w-full h-12 bg-white/50 hover:bg-white/80 border-gray-200 hover:border-gray-300 transition-all duration-200",onClick:()=>i(!1),children:"Enviar para outro email"}),n.jsxs(ye,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200",onClick:()=>A(`/login?role=${o}`),children:[n.jsx($c,{className:"mr-2 h-4 w-4"}),"Voltar ao login"]})]})]})]}):n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(_e,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(ze,{className:"space-y-1 pb-8",children:[n.jsx(Ze,{className:"text-3xl font-bold text-center bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Esqueceu sua senha?"}),n.jsx(Ar,{className:"text-center text-lg text-gray-600",children:"Digite seu email para receber um link de redefinio"})]}),n.jsxs(De,{children:[n.jsx(Ii,{value:o,onValueChange:l,className:"mb-8",children:n.jsxs(Pi,{className:"grid w-full grid-cols-2 bg-gray-100/80 p-1 rounded-xl",children:[n.jsxs(kr,{value:"paciente",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[n.jsx(jn,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Paciente"})]}),n.jsxs(kr,{value:"clinica",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[n.jsx(Gl,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Clnica"})]})]})}),n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Le,{htmlFor:"email",className:"text-sm font-semibold text-gray-700",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(Ge,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:m=>r(m.target.value),className:"pl-10 h-12 input-medical-primary bg-white/50 transition-all duration-200",required:!0})]})]}),n.jsx(ye,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(TL,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar Link de Redefinio"})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs(gr,{to:`/login?role=${o}`,className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition-colors duration-200 group",children:[n.jsx($c,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform duration-200"}),"Voltar ao login"]})})]})]})]})}function UM({children:e}){const{user:r,isAuthenticated:t,loading:a}=aA(),s=Hn();if(a)return null;if(!t)return n.jsx(Ra,{to:"/login",state:{from:s},replace:!0});const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="secretaria"&&i!=="admin"?i==="paciente"?n.jsx(Ra,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ra,{to:"/medico/dashboard",replace:!0}):i==="clinica"?n.jsx(Ra,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ra,{to:"/",replace:!0}):e}function LM(){const e=()=>n.jsx(Um,{role:"secretaria"});return n.jsx(Dm,{sidebar:e,children:n.jsx(vm,{})})}function IM(){const{uid:e,token:r}=Al(),t=Xn(),{toast:a}=Ma(),[s,i]=w.useState(""),[o,l]=w.useState(""),[A,d]=w.useState(!1),f=w.useMemo(()=>"http://127.0.0.1:8000".replace(/\/$/,""),[]),h="/api/auth/password_reset_confirm/",m=`${f}/reset/${e}/${r}/`,p=()=>!s||s.length<8?(a({title:"Senha muito curta",description:"Use pelo menos 8 caracteres.",variant:"destructive"}),!1):s!==o?(a({title:"Confirmao",description:"A confirmao no confere com a nova senha.",variant:"destructive"}),!1):!0,x=async v=>{var b,N,B,S,F;if((b=v==null?void 0:v.preventDefault)==null||b.call(v),!!p()){d(!0);try{h&&(await Ee.post(h,{uid:e,token:r,new_password:s}),a({title:"Senha redefinida!",description:"Voc j pode fazer login."}),t("/login"))}catch(L){const M=((B=(N=L==null?void 0:L.response)==null?void 0:N.data)==null?void 0:B.detail)||((F=(S=L==null?void 0:L.response)==null?void 0:S.data)==null?void 0:F.message)||(L==null?void 0:L.message);a({title:"No foi possvel redefinir",description:M||"Tente novamente.",variant:"destructive"})}finally{d(!1)}}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),n.jsxs(_e,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[n.jsxs(ze,{className:"space-y-1 text-center pb-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-medical-primary rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:n.jsx(WL,{className:"w-8 h-8 text-white"})}),n.jsx(Ze,{className:"text-3xl font-bold text-medical-primary",children:"Redefinir senha"}),n.jsx(Ar,{className:"text-slate-600 text-base",children:"Crie uma nova senha para sua conta."})]}),n.jsxs(De,{className:"space-y-6 px-8 pb-8",children:[n.jsxs("form",{onSubmit:x,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Le,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(uy,{className:"w-4 h-4"}),"Nova senha"]}),n.jsx(Ge,{id:"password",type:"password",placeholder:"",value:s,onChange:v=>i(v.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Le,{htmlFor:"confirm",className:"text-slate-700 font-medium flex items-center gap-2",children:[n.jsx(_o,{className:"w-4 h-4"}),"Confirmar nova senha"]}),n.jsx(Ge,{id:"confirm",type:"password",placeholder:"",value:o,onChange:v=>l(v.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),n.jsx(ye,{type:"submit",className:"w-full h-12 btn-medical-primary text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:A,children:A?"Processando...":"Redefinir minha senha"})]}),n.jsxs(ye,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200 mt-2",onClick:()=>t("/login"),children:[n.jsx($c,{className:"mr-2 h-4 w-4"})," Voltar ao login"]})]})]})]})}function MN(e,[r,t]){return Math.min(t,Math.max(r,e))}function TE(e){const r=w.useRef({value:e,previous:e});return w.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var PM=[" ","Enter","ArrowUp","ArrowDown"],QM=[" ","Enter"],fu="Select",[ax,nx,RM]=J0(fu),[Xf,EZ]=ul(fu,[RM,Yf]),sx=Yf(),[TM,dd]=Xf(fu),[MM,OM]=Xf(fu),ME=e=>{const{__scopeSelect:r,children:t,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:A,dir:d,name:f,autoComplete:h,disabled:m,required:p,form:x}=e,v=sx(r),[b,N]=w.useState(null),[B,S]=w.useState(null),[F,L]=w.useState(!1),M=Py(d),[U,I]=nd({prop:a,defaultProp:s??!1,onChange:i,caller:fu}),[_,W]=nd({prop:o,defaultProp:l,onChange:A,caller:fu}),Q=w.useRef(null),K=b?x||!!b.closest("form"):!0,[X,R]=w.useState(new Set),re=Array.from(X).map($=>$.props.value).join(";");return n.jsx(Fy,{...v,children:n.jsxs(TM,{required:p,scope:r,trigger:b,onTriggerChange:N,valueNode:B,onValueNodeChange:S,valueNodeHasChildren:F,onValueNodeHasChildrenChange:L,contentId:zl(),value:_,onValueChange:W,open:U,onOpenChange:I,dir:M,triggerPointerDownPosRef:Q,disabled:m,children:[n.jsx(ax.Provider,{scope:r,children:n.jsx(MM,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback($=>{R(V=>new Set(V).add($))},[]),onNativeOptionRemove:w.useCallback($=>{R(V=>{const Z=new Set(V);return Z.delete($),Z})},[]),children:t})}),K?n.jsxs(A_,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:_,onChange:$=>W($.target.value),disabled:m,form:x,children:[_===void 0?n.jsx("option",{value:""}):null,Array.from(X)]},re):null]})})};ME.displayName=fu;var OE="SelectTrigger",HE=w.forwardRef((e,r)=>{const{__scopeSelect:t,disabled:a=!1,...s}=e,i=sx(t),o=dd(OE,t),l=o.disabled||a,A=ua(r,o.onTriggerChange),d=nx(t),f=w.useRef("touch"),[h,m,p]=u_(v=>{const b=d().filter(S=>!S.disabled),N=b.find(S=>S.value===o.value),B=f_(b,v,N);B!==void 0&&o.onValueChange(B.value)}),x=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return n.jsx(ky,{asChild:!0,...i,children:n.jsx(Nr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":d_(o.value)?"":void 0,...s,ref:A,onClick:Ut(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&x(v)}),onPointerDown:Ut(s.onPointerDown,v=>{f.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:Ut(s.onKeyDown,v=>{const b=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(b&&v.key===" ")&&PM.includes(v.key)&&(x(),v.preventDefault())})})})});HE.displayName=OE;var KE="SelectValue",$E=w.forwardRef((e,r)=>{const{__scopeSelect:t,className:a,style:s,children:i,placeholder:o="",...l}=e,A=dd(KE,t),{onValueNodeHasChildrenChange:d}=A,f=i!==void 0,h=ua(r,A.onValueNodeChange);return Yn(()=>{d(f)},[d,f]),n.jsx(Nr.span,{...l,ref:h,style:{pointerEvents:"none"},children:d_(A.value)?n.jsx(n.Fragment,{children:o}):i})});$E.displayName=KE;var HM="SelectIcon",VE=w.forwardRef((e,r)=>{const{__scopeSelect:t,children:a,...s}=e;return n.jsx(Nr.span,{"aria-hidden":!0,...s,ref:r,children:a||""})});VE.displayName=HM;var KM="SelectPortal",zE=e=>n.jsx(Bm,{asChild:!0,...e});zE.displayName=KM;var hu="SelectContent",qE=w.forwardRef((e,r)=>{const t=dd(hu,e.__scopeSelect),[a,s]=w.useState();if(Yn(()=>{s(new DocumentFragment)},[]),!t.open){const i=a;return i?Of.createPortal(n.jsx(WE,{scope:e.__scopeSelect,children:n.jsx(ax.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(GE,{...e,ref:r})});qE.displayName=hu;var rl=10,[WE,ud]=Xf(hu),$M="SelectContentImpl",VM=cu("SelectContent.RemoveScroll"),GE=w.forwardRef((e,r)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:b,...N}=e,B=dd(hu,t),[S,F]=w.useState(null),[L,M]=w.useState(null),U=ua(r,G=>F(G)),[I,_]=w.useState(null),[W,Q]=w.useState(null),K=nx(t),[X,R]=w.useState(!1),re=w.useRef(!1);w.useEffect(()=>{if(S)return xy(S)},[S]),gy();const $=w.useCallback(G=>{const[ne,...ce]=K().map(Pe=>Pe.ref.current),[pe]=ce.slice(-1),ve=document.activeElement;for(const Pe of G)if(Pe===ve||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===ne&&L&&(L.scrollTop=0),Pe===pe&&L&&(L.scrollTop=L.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==ve))return},[K,L]),V=w.useCallback(()=>$([I,S]),[$,I,S]);w.useEffect(()=>{X&&V()},[X,V]);const{onOpenChange:Z,triggerPointerDownPosRef:ie}=B;w.useEffect(()=>{if(S){let G={x:0,y:0};const ne=pe=>{var ve,Pe;G={x:Math.abs(Math.round(pe.pageX)-(((ve=ie.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((Pe=ie.current)==null?void 0:Pe.y)??0))}},ce=pe=>{G.x<=10&&G.y<=10?pe.preventDefault():S.contains(pe.target)||Z(!1),document.removeEventListener("pointermove",ne),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",ce,{capture:!0})}}},[S,Z,ie]),w.useEffect(()=>{const G=()=>Z(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[Z]);const[ue,E]=u_(G=>{const ne=K().filter(ve=>!ve.disabled),ce=ne.find(ve=>ve.ref.current===document.activeElement),pe=f_(ne,G,ce);pe&&setTimeout(()=>pe.ref.current.focus())}),P=w.useCallback((G,ne,ce)=>{const pe=!re.current&&!ce;(B.value!==void 0&&B.value===ne||pe)&&(_(G),pe&&(re.current=!0))},[B.value]),Y=w.useCallback(()=>S==null?void 0:S.focus(),[S]),z=w.useCallback((G,ne,ce)=>{const pe=!re.current&&!ce;(B.value!==void 0&&B.value===ne||pe)&&Q(G)},[B.value]),J=a==="popper"?c1:YE,q=J===c1?{side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:b}:{};return n.jsx(WE,{scope:t,content:S,viewport:L,onViewportChange:M,itemRefCallback:P,selectedItem:I,onItemLeave:Y,itemTextRefCallback:z,focusSelectedItem:V,selectedItemText:W,position:a,isPositioned:X,searchRef:ue,children:n.jsx(Q0,{as:VM,allowPinchZoom:!0,children:n.jsx(I0,{asChild:!0,trapped:B.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:Ut(s,G=>{var ne;(ne=B.trigger)==null||ne.focus({preventScroll:!0}),G.preventDefault()}),children:n.jsx(qf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>B.onOpenChange(!1),children:n.jsx(J,{role:"listbox",id:B.contentId,"data-state":B.open?"open":"closed",dir:B.dir,onContextMenu:G=>G.preventDefault(),...N,...q,onPlaced:()=>R(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ut(N.onKeyDown,G=>{const ne=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ne&&G.key.length===1&&E(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let pe=K().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(G.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const ve=G.target,Pe=pe.indexOf(ve);pe=pe.slice(Pe+1)}setTimeout(()=>$(pe)),G.preventDefault()}})})})})})})});GE.displayName=$M;var zM="SelectItemAlignedPosition",YE=w.forwardRef((e,r)=>{const{__scopeSelect:t,onPlaced:a,...s}=e,i=dd(hu,t),o=ud(hu,t),[l,A]=w.useState(null),[d,f]=w.useState(null),h=ua(r,U=>f(U)),m=nx(t),p=w.useRef(!1),x=w.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:N,focusSelectedItem:B}=o,S=w.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&b&&N){const U=i.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),W=N.getBoundingClientRect();if(i.dir!=="rtl"){const ve=W.left-I.left,Pe=_.left-ve,ke=U.left-Pe,xe=U.width+ke,de=Math.max(xe,I.width),wt=window.innerWidth-rl,bt=MN(Pe,[rl,Math.max(rl,wt-de)]);l.style.minWidth=xe+"px",l.style.left=bt+"px"}else{const ve=I.right-W.right,Pe=window.innerWidth-_.right-ve,ke=window.innerWidth-U.right-Pe,xe=U.width+ke,de=Math.max(xe,I.width),wt=window.innerWidth-rl,bt=MN(Pe,[rl,Math.max(rl,wt-de)]);l.style.minWidth=xe+"px",l.style.right=bt+"px"}const Q=m(),K=window.innerHeight-rl*2,X=v.scrollHeight,R=window.getComputedStyle(d),re=parseInt(R.borderTopWidth,10),$=parseInt(R.paddingTop,10),V=parseInt(R.borderBottomWidth,10),Z=parseInt(R.paddingBottom,10),ie=re+$+X+Z+V,ue=Math.min(b.offsetHeight*5,ie),E=window.getComputedStyle(v),P=parseInt(E.paddingTop,10),Y=parseInt(E.paddingBottom,10),z=U.top+U.height/2-rl,J=K-z,q=b.offsetHeight/2,G=b.offsetTop+q,ne=re+$+G,ce=ie-ne;if(ne<=z){const ve=Q.length>0&&b===Q[Q.length-1].ref.current;l.style.bottom="0px";const Pe=d.clientHeight-v.offsetTop-v.offsetHeight,ke=Math.max(J,q+(ve?Y:0)+Pe+V),xe=ne+ke;l.style.height=xe+"px"}else{const ve=Q.length>0&&b===Q[0].ref.current;l.style.top="0px";const ke=Math.max(z,re+v.offsetTop+(ve?P:0)+q)+ce;l.style.height=ke+"px",v.scrollTop=ne-z+v.offsetTop}l.style.margin=`${rl}px 0`,l.style.minHeight=ue+"px",l.style.maxHeight=K+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,v,b,N,i.dir,a]);Yn(()=>S(),[S]);const[F,L]=w.useState();Yn(()=>{d&&L(window.getComputedStyle(d).zIndex)},[d]);const M=w.useCallback(U=>{U&&x.current===!0&&(S(),B==null||B(),x.current=!1)},[S,B]);return n.jsx(WM,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:M,children:n.jsx("div",{ref:A,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:n.jsx(Nr.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});YE.displayName=zM;var qM="SelectPopperPosition",c1=w.forwardRef((e,r)=>{const{__scopeSelect:t,align:a="start",collisionPadding:s=rl,...i}=e,o=sx(t);return n.jsx(Dy,{...o,...i,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});c1.displayName=qM;var[WM,Wy]=Xf(hu,{}),A1="SelectViewport",XE=w.forwardRef((e,r)=>{const{__scopeSelect:t,nonce:a,...s}=e,i=ud(A1,t),o=Wy(A1,t),l=ua(r,i.onViewportChange),A=w.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(ax.Slot,{scope:t,children:n.jsx(Nr.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ut(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(A.current-f.scrollTop);if(p>0){const x=window.innerHeight-rl*2,v=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),N=Math.max(v,b);if(N<x){const B=N+p,S=Math.min(x,B),F=B-S;h.style.height=S+"px",h.style.bottom==="0px"&&(f.scrollTop=F>0?F:0,h.style.justifyContent="flex-end")}}}A.current=f.scrollTop})})})]})});XE.displayName=A1;var JE="SelectGroup",[GM,YM]=Xf(JE),XM=w.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=zl();return n.jsx(GM,{scope:t,id:s,children:n.jsx(Nr.div,{role:"group","aria-labelledby":s,...a,ref:r})})});XM.displayName=JE;var ZE="SelectLabel",e_=w.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=YM(ZE,t);return n.jsx(Nr.div,{id:s.id,...a,ref:r})});e_.displayName=ZE;var e0="SelectItem",[JM,t_]=Xf(e0),r_=w.forwardRef((e,r)=>{const{__scopeSelect:t,value:a,disabled:s=!1,textValue:i,...o}=e,l=dd(e0,t),A=ud(e0,t),d=l.value===a,[f,h]=w.useState(i??""),[m,p]=w.useState(!1),x=ua(r,B=>{var S;return(S=A.itemRefCallback)==null?void 0:S.call(A,B,a,s)}),v=zl(),b=w.useRef("touch"),N=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(JM,{scope:t,value:a,disabled:s,textId:v,isSelected:d,onItemTextChange:w.useCallback(B=>{h(S=>S||((B==null?void 0:B.textContent)??"").trim())},[]),children:n.jsx(ax.ItemSlot,{scope:t,value:a,disabled:s,textValue:f,children:n.jsx(Nr.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Ut(o.onFocus,()=>p(!0)),onBlur:Ut(o.onBlur,()=>p(!1)),onClick:Ut(o.onClick,()=>{b.current!=="mouse"&&N()}),onPointerUp:Ut(o.onPointerUp,()=>{b.current==="mouse"&&N()}),onPointerDown:Ut(o.onPointerDown,B=>{b.current=B.pointerType}),onPointerMove:Ut(o.onPointerMove,B=>{var S;b.current=B.pointerType,s?(S=A.onItemLeave)==null||S.call(A):b.current==="mouse"&&B.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ut(o.onPointerLeave,B=>{var S;B.currentTarget===document.activeElement&&((S=A.onItemLeave)==null||S.call(A))}),onKeyDown:Ut(o.onKeyDown,B=>{var F;((F=A.searchRef)==null?void 0:F.current)!==""&&B.key===" "||(QM.includes(B.key)&&N(),B.key===" "&&B.preventDefault())})})})})});r_.displayName=e0;var Rh="SelectItemText",a_=w.forwardRef((e,r)=>{const{__scopeSelect:t,className:a,style:s,...i}=e,o=dd(Rh,t),l=ud(Rh,t),A=t_(Rh,t),d=OM(Rh,t),[f,h]=w.useState(null),m=ua(r,N=>h(N),A.onItemTextChange,N=>{var B;return(B=l.itemTextRefCallback)==null?void 0:B.call(l,N,A.value,A.disabled)}),p=f==null?void 0:f.textContent,x=w.useMemo(()=>n.jsx("option",{value:A.value,disabled:A.disabled,children:p},A.value),[A.disabled,A.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=d;return Yn(()=>(v(x),()=>b(x)),[v,b,x]),n.jsxs(n.Fragment,{children:[n.jsx(Nr.span,{id:A.textId,...i,ref:m}),A.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Of.createPortal(i.children,o.valueNode):null]})});a_.displayName=Rh;var n_="SelectItemIndicator",s_=w.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e;return t_(n_,t).isSelected?n.jsx(Nr.span,{"aria-hidden":!0,...a,ref:r}):null});s_.displayName=n_;var d1="SelectScrollUpButton",i_=w.forwardRef((e,r)=>{const t=ud(d1,e.__scopeSelect),a=Wy(d1,e.__scopeSelect),[s,i]=w.useState(!1),o=ua(r,a.onScrollButtonChange);return Yn(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=A.scrollTop>0;i(d)};const A=t.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?n.jsx(l_,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=t;l&&A&&(l.scrollTop=l.scrollTop-A.offsetHeight)}}):null});i_.displayName=d1;var u1="SelectScrollDownButton",o_=w.forwardRef((e,r)=>{const t=ud(u1,e.__scopeSelect),a=Wy(u1,e.__scopeSelect),[s,i]=w.useState(!1),o=ua(r,a.onScrollButtonChange);return Yn(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=A.scrollHeight-A.clientHeight,f=Math.ceil(A.scrollTop)<d;i(f)};const A=t.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?n.jsx(l_,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=t;l&&A&&(l.scrollTop=l.scrollTop+A.offsetHeight)}}):null});o_.displayName=u1;var l_=w.forwardRef((e,r)=>{const{__scopeSelect:t,onAutoScroll:a,...s}=e,i=ud("SelectScrollButton",t),o=w.useRef(null),l=nx(t),A=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>A(),[A]),Yn(()=>{var f;const d=l().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),n.jsx(Nr.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:Ut(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:Ut(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:Ut(s.onPointerLeave,()=>{A()})})}),ZM="SelectSeparator",c_=w.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e;return n.jsx(Nr.div,{"aria-hidden":!0,...a,ref:r})});c_.displayName=ZM;var f1="SelectArrow",e8=w.forwardRef((e,r)=>{const{__scopeSelect:t,...a}=e,s=sx(t),i=dd(f1,t),o=ud(f1,t);return i.open&&o.position==="popper"?n.jsx(Uy,{...s,...a,ref:r}):null});e8.displayName=f1;var t8="SelectBubbleInput",A_=w.forwardRef(({__scopeSelect:e,value:r,...t},a)=>{const s=w.useRef(null),i=ua(a,s),o=TE(r);return w.useEffect(()=>{const l=s.current;if(!l)return;const A=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(A,"value").set;if(o!==r&&f){const h=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(h)}},[o,r]),n.jsx(Nr.select,{...t,style:{...W4,...t.style},ref:i,defaultValue:r})});A_.displayName=t8;function d_(e){return e===""||e===void 0}function u_(e){const r=fi(e),t=w.useRef(""),a=w.useRef(0),s=w.useCallback(o=>{const l=t.current+o;r(l),(function A(d){t.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>A(""),1e3))})(l)},[r]),i=w.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,s,i]}function f_(e,r,t){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let o=r8(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==t));const A=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return A!==t?A:void 0}function r8(e,r){return e.map((t,a)=>e[(r+a)%e.length])}var a8=ME,h_=HE,n8=$E,s8=VE,i8=zE,m_=qE,o8=XE,p_=e_,g_=r_,l8=a_,c8=s_,x_=i_,v_=o_,w_=c_;const zr=a8,qr=n8,Or=w.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(h_,{ref:a,className:st("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[r,n.jsx(s8,{asChild:!0,children:n.jsx(Ay,{className:"h-4 w-4 opacity-50"})})]}));Or.displayName=h_.displayName;const y_=w.forwardRef(({className:e,...r},t)=>n.jsx(x_,{ref:t,className:st("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(CL,{className:"h-4 w-4"})}));y_.displayName=x_.displayName;const b_=w.forwardRef(({className:e,...r},t)=>n.jsx(v_,{ref:t,className:st("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(Ay,{className:"h-4 w-4"})}));b_.displayName=v_.displayName;const Hr=w.forwardRef(({className:e,children:r,position:t="popper",...a},s)=>n.jsx(i8,{children:n.jsxs(m_,{ref:s,className:st("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...a,children:[n.jsx(y_,{}),n.jsx(o8,{className:st("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),n.jsx(b_,{})]})}));Hr.displayName=m_.displayName;const N_=w.forwardRef(({className:e,...r},t)=>n.jsx(p_,{ref:t,className:st("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));N_.displayName=p_.displayName;const at=w.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(g_,{ref:a,className:st("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(c8,{children:n.jsx(cy,{className:"h-4 w-4"})})}),n.jsx(l8,{children:r})]}));at.displayName=g_.displayName;const A8=w.forwardRef(({className:e,...r},t)=>n.jsx(w_,{ref:t,className:st("-mx-1 my-1 h-px bg-muted",e),...r}));A8.displayName=w_.displayName;const af="false".toLowerCase()!=="false",Sa="true".toLowerCase()==="true",ia={async getDashboard(){return(await Ee.get("/admin/dashboard/")).data},async getSolicitacoes(e={},r={}){var s;const t=nf(),a=Mv(Tv(e));for(const i of t){const o=Zo(i),l=af?[o]:[o,o+"listar/",o+"list/",o+"todas/",o+"all/"],A=[];if(A.push(a),!af&&(a!=null&&a.ordering)){const{ordering:d,...f}=a;A.push(f)}if(!af){const d={};a.page_size!=null&&(d.page_size=a.page_size),a.limit!=null&&(d.limit=a.limit),a.page!=null&&(d.page=a.page),a.offset!=null&&(d.offset=a.offset),Object.keys(d).length&&A.push(d)}Object.keys(a).length&&A.push({});for(const d of l)for(const f of A)try{Sa&&console.debug("[adminService.getSolicitacoes] GET",d,f);const m=(await Ee.get(d,{params:f,signal:r==null?void 0:r.signal})).data,p=Array.isArray(m==null?void 0:m.results)?m.results:Array.isArray(m)?m:[];return Sa&&console.debug("[adminService.getSolicitacoes] OK",d,`items=${p.length}`),p.map(j_)}catch(h){const m=(s=h==null?void 0:h.response)==null?void 0:s.status;if(Sa&&console.warn("[adminService.getSolicitacoes] Falhou",d,"status=",m,"params=",f),m===401||m===403)throw h;continue}}return[]},async getSolicitacao(e){var a;const r=nf();let t;for(const s of r){const i=Zo(s)+`${e}/`;try{const o=await Ee.get(i);return u8(o.data||{})}catch(o){const l=(a=o==null?void 0:o.response)==null?void 0:a.status;if(Sa&&console.warn("[adminService.getSolicitacao] Falhou",i,"status=",l),l===401||l===403)throw o;t=o;continue}}throw t||new Error("Nenhum endpoint para detalhe de solicitao foi encontrado.")},async aprovarSolicitacao(e,r=""){var a,s,i,o;const t=nf();for(const l of t){const A=Zo(l),d=[{method:"post",url:`${A}${e}/aprovar/`,body:{observacoes:r}},{method:"post",url:`${A}${e}/approve/`,body:{notes:r}},{method:"post",url:`${A}${e}/aprovacao/`,body:{observacoes:r}},{method:"post",url:`${A}${e}/status/`,body:{status:"approved",observacoes:r}},{method:"patch",url:`${A}${e}/`,body:{status:"approved",observacoes:r}},{method:"put",url:`${A}${e}/`,body:{status:"approved",observacoes:r}}];for(const f of d)try{Sa&&console.debug("[adminService.aprovarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const h=await Ee[f.method](f.url,f.body);(async()=>{var p;try{await ia.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{observacoes:r}})}catch(x){Sa&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(p=x==null?void 0:x.response)==null?void 0:p.status)}})();const m=h.data;try{let p=((a=m==null?void 0:m.medico)==null?void 0:a.id)||(m==null?void 0:m.medico_id)||(m==null?void 0:m.medico)||null;if(!p)try{const x=await ia.getSolicitacao(e).catch(()=>null);p=((s=x==null?void 0:x.medico)==null?void 0:s.id)||(x==null?void 0:x.medico_id)||(x==null?void 0:x.medico)||null}catch{}if(p){const x="/api/medicos/",v=x.endsWith("/")?x:`${x}/`,b={status:"active",situacao:"active",state:"active"},N=[{m:"patch",u:`${v}${p}/`,b},{m:"put",u:`${v}${p}/`,b}];for(const S of N)try{await Ee[S.m](S.u,S.b);break}catch{}const B=[`${v}${p}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const S of B){const F=S.endsWith("/")?S:`${S}/`;try{await Ee.patch(F,b);break}catch{}}}}catch(p){Sa&&console.warn("[adminService.aprovarSolicitacao] ps-ao falhou",(i=p==null?void 0:p.response)==null?void 0:i.status)}return(async()=>{var p;try{await ia.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{observacoes:r}})}catch(x){Sa&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(p=x==null?void 0:x.response)==null?void 0:p.status)}})(),m}catch(h){const m=(o=h==null?void 0:h.response)==null?void 0:o.status;if(Sa&&console.warn("[adminService.aprovarSolicitacao] Falhou",f.url,"status=",m),m===401||m===403)throw h;continue}}},async rejeitarSolicitacao(e,r){var a,s,i,o;const t=nf();for(const l of t){const A=Zo(l),d=[{method:"post",url:`${A}${e}/rejeitar/`,body:{motivo:r}},{method:"post",url:`${A}${e}/reject/`,body:{reason:r}},{method:"post",url:`${A}${e}/status/`,body:{status:"rejected",motivo:r}},{method:"patch",url:`${A}${e}/`,body:{status:"rejected",motivo:r}},{method:"put",url:`${A}${e}/`,body:{status:"rejected",motivo:r}}];for(const f of d)try{Sa&&console.debug("[adminService.rejeitarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const h=await Ee[f.method](f.url,f.body);(async()=>{var p;try{await ia.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{motivo:r}})}catch(x){Sa&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(p=x==null?void 0:x.response)==null?void 0:p.status)}})();const m=h.data;try{let p=((a=m==null?void 0:m.medico)==null?void 0:a.id)||(m==null?void 0:m.medico_id)||(m==null?void 0:m.medico)||null;if(!p)try{const x=await ia.getSolicitacao(e).catch(()=>null);p=((s=x==null?void 0:x.medico)==null?void 0:s.id)||(x==null?void 0:x.medico_id)||(x==null?void 0:x.medico)||null}catch{}if(p){const x="/api/medicos/",v=x.endsWith("/")?x:`${x}/`,b={status:"rejected",situacao:"rejected",state:"rejected"},N=[{m:"patch",u:`${v}${p}/`,b},{m:"put",u:`${v}${p}/`,b}];for(const S of N)try{await Ee[S.m](S.u,S.b);break}catch{}const B=[`${v}${p}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const S of B){const F=S.endsWith("/")?S:`${S}/`;try{await Ee.patch(F,b);break}catch{}}}}catch(p){Sa&&console.warn("[adminService.rejeitarSolicitacao] ps-ao falhou",(i=p==null?void 0:p.response)==null?void 0:i.status)}return(async()=>{var p;try{await ia.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:e,status:"success",metadata:{motivo:r}})}catch(x){Sa&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(p=x==null?void 0:x.response)==null?void 0:p.status)}})(),m}catch(h){const m=(o=h==null?void 0:h.response)==null?void 0:o.status;if(Sa&&console.warn("[adminService.rejeitarSolicitacao] Falhou",f.url,"status=",m),m===401||m===403)throw h;continue}}},async visualizarDocumento(e){var r;try{if(e.startsWith("http")){window.open(e,"_blank");return}const t=nf();let a;for(const s of t){const i=[`${Zo(s)}documentos/visualizar/${e}`,`${Zo(s)}documentos/${e}`,`/media/documentos/${e}`,`/static/documentos/${e}`,e];for(const o of i)try{if(Sa&&console.debug("[adminService.visualizarDocumento] Tentando",o),(await Ee.head(o)).status===200){window.open(o,"_blank");return}}catch(l){Sa&&console.warn("[adminService.visualizarDocumento] Falhou",o,(r=l==null?void 0:l.response)==null?void 0:r.status),a=l;continue}}throw a||new Error("Documento no encontrado")}catch(t){throw console.error("Erro ao visualizar documento:",t),new Error("No foi possvel visualizar o documento")}},async baixarDocumento(e,r="documento"){var t;try{if(e.startsWith("http")){const i=document.createElement("a");i.href=e,i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i);return}const a=nf();let s;for(const i of a){const o=[`${Zo(i)}documentos/download/${e}`,`${Zo(i)}documentos/${e}`,`/media/documentos/${e}`,`/static/documentos/${e}`,e];for(const l of o)try{Sa&&console.debug("[adminService.baixarDocumento] Tentando",l);const A=await Ee.get(l,{responseType:"blob"});if(A.status===200){const d=new Blob([A.data]),f=window.URL.createObjectURL(d),h=document.createElement("a");h.href=f,h.download=r,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(f);return}}catch(A){Sa&&console.warn("[adminService.baixarDocumento] Falhou",l,(t=A==null?void 0:A.response)==null?void 0:t.status),s=A;continue}}throw s||new Error("Documento no encontrado")}catch(a){throw console.error("Erro ao baixar documento:",a),new Error("No foi possvel baixar o documento")}},async getAuditoria(e={}){return(await Ee.get("/admin/auditoria/",{params:e})).data},async registrarAuditoria(e={}){var f;const r=await Xr.getCurrentUser(),t=e.action||e.acao||e.type,a=e.entity||e.entidade||"",s=e.entity_id||e.id||e.solicitacao_id||e.target_id||"",i=e.status||"success",o=typeof e.metadata=="object"&&e.metadata!==null?e.metadata:{},l=typeof e.detalhes=="object"&&e.detalhes!==null?e.detalhes:{},A={...o,...l,actor:(r==null?void 0:r.id)||(r==null?void 0:r.username)||"system",source:"frontend"},d={action:t,entity:a,entity_id:s,status:i,metadata:A};try{await Ee.post("/admin/auditoria/",d)}catch(h){Sa&&console.warn("[adminService.registrarAuditoria] falhou:",(f=h==null?void 0:h.response)==null?void 0:f.status)}},async getUsuarios(e={}){const r=Mv(Tv(e)),a=(await Ee.get("/users/",{params:r})).data,s=Array.isArray(a==null?void 0:a.results)?a.results:Array.isArray(a)?a:[],i=typeof(a==null?void 0:a.count)=="number"?a.count:s.length;return{results:s,count:i}},async getClinicas(e={}){var a;const r=d8(),t=Mv(Tv(e));for(const s of r){const i=Zo(s),o=af?[i]:[i,i+"listar/",i+"list/",i+"todas/",i+"all/"],l=[];if(l.push(t),!af&&(t!=null&&t.ordering)){const{ordering:A,...d}=t;l.push(d)}if(!af){const A={};t.page_size!=null&&(A.page_size=t.page_size),t.limit!=null&&(A.limit=t.limit),t.page!=null&&(A.page=t.page),t.offset!=null&&(A.offset=t.offset),Object.keys(A).length&&l.push(A)}Object.keys(t).length&&l.push({});for(const A of o)for(const d of l)try{Sa&&console.debug("[adminService.getClinicas] GET",A,d);const h=(await Ee.get(A,{params:d})).data,m=Array.isArray(h==null?void 0:h.results)?h.results:Array.isArray(h)?h:[],p=typeof(h==null?void 0:h.count)=="number"?h.count:m.length;return Sa&&console.debug("[adminService.getClinicas] OK",A,`items=${m.length}`),{results:m,count:p}}catch(f){const h=(a=f==null?void 0:f.response)==null?void 0:a.status;if(Sa&&console.warn("[adminService.getClinicas] Falhou",A,"status=",h,"params=",d),h===401)throw f;continue}}return{results:[],count:0}},async updateUsuario(e,r={}){var o,l,A,d;const t=e||(r==null?void 0:r.id);if(!t)throw new Error("ID do usurio  obrigatrio para atualizao");const a={...r};a.role&&a.tipo==null&&(a.tipo=a.role),a.is_active!=null&&a.ativo==null&&(a.ativo=!!a.is_active),(a.first_name||a.last_name)&&a.nome==null&&(a.nome=[a.first_name||"",a.last_name||""].filter(Boolean).join(" ").trim()||void 0);const s=ON();let i=null;for(const f of s){const h=Zo(f);try{return(await Ee.patch(`${h}${t}/`,a)).data}catch(m){const p=(o=m==null?void 0:m.response)==null?void 0:o.status;if(Sa&&console.warn("[adminService.updateUsuario] PATCH falhou",`${h}${t}/`,"status=",p),p===401)throw m;i=m}try{return(await Ee.put(`${h}${t}/`,a)).data}catch(m){const p=(l=m==null?void 0:m.response)==null?void 0:l.status;if(Sa&&console.warn("[adminService.updateUsuario] PUT falhou",`${h}${t}/`,"status=",p),p===401)throw m;i=m}try{return(await Ee.patch(h,{id:t,...a})).data}catch(m){const p=(A=m==null?void 0:m.response)==null?void 0:A.status;if(Sa&&console.warn("[adminService.updateUsuario] PATCH base falhou",h,"status=",p),p===401)throw m;i=m}for(const m of["update/","editar/","edicao/"]){const p=h+m;try{return(await Ee.post(p,{id:t,...a})).data}catch(x){const v=(d=x==null?void 0:x.response)==null?void 0:d.status;if(Sa&&console.warn("[adminService.updateUsuario] POST falhou",p,"status=",v),v===401)throw x;i=x}}}throw i||new Error("Falha ao atualizar usurio: nenhum endpoint aceitou a requisio.")},async removerUsuariosEmMassa(e=[]){var i,o,l;const r=(Array.isArray(e)?e:[e]).filter(Boolean);if(r.length===0)return{success:!0,deleted:[],detail:"no-op"};const t=ON();let a=null;const s=[{suffix:"remover/",method:"post",bodyKey:"ids"},{suffix:"delete/",method:"post",bodyKey:"ids"},{suffix:"bulk_delete/",method:"post",bodyKey:"ids"}];for(const A of t){const d=Zo(A);for(const h of s){const m=d+h.suffix;try{return(await Ee.post(m,{[h.bodyKey]:r})).data}catch(p){const x=(i=p==null?void 0:p.response)==null?void 0:i.status;if(Sa&&console.warn("[adminService.removerUsuariosEmMassa] POST falhou",m,"status=",x),x===401)throw p;a=p}}try{const h=d;return(await Ee.delete(h,{data:{ids:r}})).data}catch(h){const m=(o=h==null?void 0:h.response)==null?void 0:o.status;if(Sa&&console.warn("[adminService.removerUsuariosEmMassa] DELETE bulk falhou",d,"status=",m),m===401)throw h;a=h}let f=!1;for(const h of r){const m=`${d}${h}/`;try{await Ee.delete(m),f=!0}catch(p){const x=(l=p==null?void 0:p.response)==null?void 0:l.status;if(Sa&&console.warn("[adminService.removerUsuariosEmMassa] DELETE por id falhou",m,"status=",x),x===401)throw p;a=p}}if(f)return{success:!0}}throw a||new Error("Falha ao excluir usurios: nenhum endpoint aceitou a requisio.")},async createUsuario(e={}){return(await Ee.post("/admin/usuarios/",e)).data}};function Zo(e){if(!e)return"/";const r=String(e);return r.endsWith("/")?r:r+"/"}function Tv(e={}){const r={...e};return r.limit!=null&&r.page_size==null&&(r.page_size=r.limit),r.page_size!=null&&r.limit==null&&(r.limit=r.page_size),Object.keys(r).forEach(t=>{(r[t]===void 0||r[t]===null||r[t]==="")&&delete r[t]}),r}function Mv(e={}){const r=new Set(["status","ordering","search","limit","page","page_size","offset","clinica","especialidade","tipo","urgencia"]),t={};for(const[a,s]of Object.entries(e||{}))r.has(a)&&(t[a]=s);return t}function nf(){const e="/api/solicitacaomedico/".trim(),r="/api/solicitacaomedico/".trim(),t="/api/solicitacoes/".trim(),a=Array.from(new Set([e,r,t].filter(Boolean))),s=["/solicitacaomedico/","/solicitacao-medico/","/solicitacaomedicomodel/","/solicitacao-medico-model/","/admin/solicitacoes/"],i=["/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/solicitacaomedico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedicomodel/","/solicitacoes/solicitacao-medico-model/","/meu_app/solicitacaomedico/","/meu_app/solicitacao-medico/"];return Array.from(new Set([...s,...a,...i].filter(Boolean)))}function ON(){const e="".trim(),r="".trim(),t=Array.from(new Set([e,r].filter(Boolean))),a=["/admin/usuarios/","/usuarios/","/admin/users/","/users/"];return Array.from(new Set([...t,...a].filter(Boolean)))}function d8(){const e="".trim(),r="".trim(),t=Array.from(new Set([e,r].filter(Boolean))),a=["/admin/clinicas/","/clinicas/","/admin/clinica/","/clinica/"];return Array.from(new Set([...t,...a].filter(Boolean)))}function j_(e={}){var r,t,a,s,i,o,l,A,d,f,h,m,p,x,v,b,N,B,S,F,L,M,U;return{id:e.id||e.pk||e.uuid||e.codigo||e.codigo_id||0,tipo:String(e.tipo||e.type||e.kind||"medico").toLowerCase(),nome:e.nome||e.name||((r=e.usuario)==null?void 0:r.nome)||((t=e.user)==null?void 0:t.name)||((a=e.medico)==null?void 0:a.nome)||((s=e.clinica)==null?void 0:s.nome)||"",email:e.email||((i=e.usuario)==null?void 0:i.email)||((o=e.user)==null?void 0:o.email)||((A=(l=e.medico)==null?void 0:l.user)==null?void 0:A.email)||((d=e.clinica)==null?void 0:d.email)||"",telefone:e.telefone||e.phone||e.celular||((f=e.usuario)==null?void 0:f.telefone)||((h=e.user)==null?void 0:h.telefone)||((m=e.medico)==null?void 0:m.telefone)||((x=(p=e.medico)==null?void 0:p.contato)==null?void 0:x.telefone)||((b=(v=e.medico)==null?void 0:v.user)==null?void 0:b.telefone)||((N=e.clinica)==null?void 0:N.telefone)||"",crm:e.crm||((B=e.medico)==null?void 0:B.crm)||e.crm_numero||"",cnpj:e.cnpj||((S=e.clinica)==null?void 0:S.cnpj)||"",responsavel:e.responsavel||e.responsavel_tecnico||((F=e.clinica)==null?void 0:F.responsavel)||"",status:(()=>{const I=(e.status||e.situacao||e.state||"pending").toString().toLowerCase();return{pendente:"pending","em anlise":"pending","em analise":"pending",em_analise:"pending",aprovado:"approved",aprovada:"approved",rejeitado:"rejected",rejeitada:"rejected",reprovado:"rejected",reprovada:"rejected"}[I]||I})(),dataEnvio:e.dataEnvio||e.created_at||e.createdAt||e.data_criacao||e.submitted_at||new Date().toISOString(),dataAprovacao:e.dataAprovacao||e.aprovado_em||e.data_aprovacao||e.approved_at||null,dataRejeicao:e.dataRejeicao||e.rejeitado_em||e.data_rejeicao||e.rejected_at||null,documentos:Array.isArray(e.documentos)?e.documentos:e.documents||[],urgencia:String(e.urgencia||e.priority||"normal").toLowerCase(),observacoes:e.observacoes||e.notes||e.comentarios||"",aprovadoPor:e.aprovadoPor||e.approved_by||"",rejeitadoPor:e.rejeitadoPor||e.rejected_by||"",motivoRejeicao:e.motivoRejeicao||e.motivo||e.reason||"",especialidade:e.especialidade||e.especialidade_nome||((M=(L=e.medico)==null?void 0:L.especialidade)==null?void 0:M.nome)||((U=e.medico)==null?void 0:U.especialidade)||""}}function u8(e={}){var B,S,F,L,M,U,I,_,W,Q,K,X,R,re,$,V,Z,ie,ue,E,P;const r=j_(e),t=e.dataAprovacao||e.aprovado_em||e.data_aprovacao||e.approved_at||e.dataAprovado||null,a=e.dataRejeicao||e.rejeitado_em||e.data_rejeicao||e.rejected_at||e.dataRejeitado||null,s=[],i=Y=>{Y&&(Array.isArray(Y)?s.push(...Y.filter(Boolean)):typeof Y=="object"?s.push(...Object.values(Y).filter(Boolean)):typeof Y=="string"&&s.push(Y))};i(e.documentos),i(e.docs),i(e.arquivos),i(e.attachments),i(e.files);const o=[e.diplomaMedicina,e.certificadoResidencia,e.comprovanteExperiencia,e.documento_identidade,e.comprovante_endereco,e.diploma_medicina,e.certificado_residencia,e.comprovante_experiencia,e.rg,e.cpf].filter(Boolean);s.push(...o);const l=Y=>{if(!Y)return null;if(typeof Y=="string")return{nome:(Y.split("/").pop()||"Documento").trim(),tamanho:"",dataUpload:e.dataEnvio||e.created_at||e.createdAt||e.submitted_at||new Date().toISOString(),url:Y};const z=Y.nome||Y.name||Y.filename||Y.file_name||Y.titulo||Y.tipo||"Documento",J=Y.tamanho||Y.size||Y.file_size||"",q=Y.dataUpload||Y.data_upload||Y.uploaded_at||Y.created_at||r.dataEnvio||new Date().toISOString(),G=Y.url||Y.link||Y.path||Y.file||Y.arquivo||Y.location||"";return{nome:z,tamanho:J,dataUpload:q,url:G}},A=s.map(l).filter(Boolean),d=e.endereco||((B=e.medico)==null?void 0:B.endereco)||((S=e.clinica)==null?void 0:S.endereco)||{},f=typeof d=="string"?{cep:e.cep||"",logradouro:d,bairro:"",cidade:"",estado:""}:{cep:d.cep||e.cep||"",logradouro:d.logradouro||d.rua||d.endereco||"",bairro:d.bairro||"",cidade:d.cidade||d.municipio||"",estado:d.estado||d.uf||""},h=e.instituicaoFormacao||e.instituicao_formacao||((F=e.formacao)==null?void 0:F.instituicao)||((M=(L=e.medico)==null?void 0:L.formacao)==null?void 0:M.instituicao)||"",m=e.anoFormacao||e.ano_formacao||((U=e.formacao)==null?void 0:U.ano)||((_=(I=e.medico)==null?void 0:I.formacao)==null?void 0:_.ano)||"",p=e.residencia||((Q=(W=e.formacao)==null?void 0:W.residencia)==null?void 0:Q.nome)||((X=(K=e.medico)==null?void 0:K.residencia)==null?void 0:X.nome)||"",x=e.instituicaoResidencia||e.instituicao_residencia||((re=(R=e.formacao)==null?void 0:R.residencia)==null?void 0:re.instituicao)||((V=($=e.medico)==null?void 0:$.residencia)==null?void 0:V.instituicao)||"",v=e.anoResidencia||e.ano_residencia||((ie=(Z=e.formacao)==null?void 0:Z.residencia)==null?void 0:ie.ano)||((E=(ue=e.medico)==null?void 0:ue.residencia)==null?void 0:E.ano)||"",b=e.experiencia||e.experiencias||((P=e.medico)==null?void 0:P.experiencia)||"",N=e.motivacao||e.motivo||e.justificativa||e.reason||"";return{...r,dataAprovacao:t,dataRejeicao:a,documentos:A.length?A:r.documentos,endereco:f,instituicaoFormacao:h,anoFormacao:m,residencia:p,instituicaoResidencia:x,anoResidencia:v,experiencia:b,motivacao:N}}function B_(e,r=300){const[t,a]=w.useState(e);return w.useEffect(()=>{const s=setTimeout(()=>{a(e)},r);return()=>{clearTimeout(s)}},[e,r]),t}function f8(){const[e,r]=w.useState(""),[t,a]=w.useState("all"),[s,i]=w.useState("all"),[o,l]=w.useState("all"),[A,d]=w.useState(!1),[f,h]=w.useState([]),m=w.useRef(null),{toast:p}=Ma(),x=B_(e,500),v=w.useMemo(()=>({search:uu(x.trim()),status:t,tipo:s,urgencia:o}),[x,t,s,o]),b=w.useCallback(async(U,I)=>{try{const _=await ia.getSolicitacoes(U,{signal:I});return Array.isArray(_==null?void 0:_.results)?_.results:Array.isArray(_)?_:[]}catch(_){throw(_==null?void 0:_.name)!=="AbortError"&&console.error("Erro ao buscar solicitaes:",_),_}},[]);w.useEffect(()=>{d(!0);const U=setTimeout(async()=>{if(m.current)try{m.current.abort()}catch{}const I=new AbortController;m.current=I;try{const _={};v.status!=="all"&&(_.status=v.status),v.tipo!=="all"&&(_.tipo=v.tipo),v.urgencia!=="all"&&(_.urgencia=v.urgencia),v.search&&(_.search=v.search);const W=await b(_,I.signal);h(W)}catch(_){(_==null?void 0:_.name)!=="AbortError"&&h([])}finally{d(!1)}},200);return()=>clearTimeout(U)},[v,b]);const N=w.useCallback(async U=>{var I;d(!0);try{const _=await ia.aprovarSolicitacao(U);h(W=>W.map(Q=>Q.id===U?{...Q,status:"approved",aprovadoPor:(_==null?void 0:_.approved_by)||Q.aprovadoPor||"",dataAprovacao:(_==null?void 0:_.approved_at)||Q.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:Q)),p({title:"Solicitao aprovada",description:"A solicitao foi aprovada com sucesso."})}catch(_){const W=(I=_==null?void 0:_.response)==null?void 0:I.status;p({title:W===403?"Sem permisso":"Erro ao aprovar",description:W===403?"Seu perfil no possui permisso para aprovar.":"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{d(!1)}},[p]),B=w.useCallback(async U=>{var I;d(!0);try{const _=await ia.rejeitarSolicitacao(U,"Rejeitada pela Secretaria");h(W=>W.map(Q=>Q.id===U?{...Q,status:"rejected",rejeitadoPor:(_==null?void 0:_.rejected_by)||Q.rejeitadoPor||"",dataRejeicao:(_==null?void 0:_.rejected_at)||Q.dataRejeicao||new Date().toISOString(),motivoRejeicao:(_==null?void 0:_.reason)||Q.motivoRejeicao||"Rejeitada pela Secretaria"}:Q)),p({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."})}catch(_){const W=(I=_==null?void 0:_.response)==null?void 0:I.status;p({title:W===403?"Sem permisso":"Erro ao rejeitar",description:W===403?"Seu perfil no possui permisso para rejeitar.":"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{d(!1)}},[p]),S=({status:U})=>{const I=String(U||"pending").toLowerCase();return I==="approved"?n.jsx(sr,{variant:"success",children:"Aprovada"}):I==="rejected"?n.jsx(sr,{variant:"destructive",children:"Rejeitada"}):n.jsx(sr,{variant:"warning",children:"Pendente"})},F=({solicitacao:U})=>n.jsxs("div",{className:"p-4 rounded-xl border bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[U.tipo==="medico"?n.jsx(Mr,{className:"h-5 w-5 text-medical-primary"}):n.jsx(Gl,{className:"h-5 w-5 text-medical-primary"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-medical-primary",children:U.nome||""}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Enviada em ",new Date(U.dataEnvio).toLocaleDateString()]})]})]}),n.jsx(S,{status:U.status})]}),n.jsxs("div",{className:"mt-3 text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),U.especialidade?n.jsxs("span",{children:["Especialidade: ",U.especialidade]}):n.jsxs("span",{children:["Tipo: ",U.tipo]})]}),U.status==="rejected"&&U.motivoRejeicao&&n.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-3 rounded-lg mt-3",children:n.jsxs("p",{className:"text-red-800 text-xs font-medium",children:[n.jsx("strong",{children:"Rejeitado:"})," ",U.motivoRejeicao,U.rejeitadoPor&&n.jsxs(n.Fragment,{children:[" por ",U.rejeitadoPor]})]})}),n.jsxs("div",{className:"flex gap-3 pt-3",children:[n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:n.jsxs(gr,{to:`/secretaria/solicitacoes/${U.id}`,children:[n.jsx(ui,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),U.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(ye,{size:"sm",onClick:()=>N(U.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(ns,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),n.jsxs(ye,{variant:"destructive",size:"sm",onClick:()=>B(U.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(ss,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]}),L=w.useMemo(()=>f.filter(U=>{var K,X;const I=t==="all"||U.status===t,_=s==="all"||U.tipo===s,W=o==="all"||String(U.urgencia||"normal").toLowerCase()===o,Q=!v.search||((K=U.nome)==null?void 0:K.toLowerCase().includes(v.search.toLowerCase()))||((X=U.email)==null?void 0:X.toLowerCase().includes(v.search.toLowerCase()));return I&&_&&W&&Q}),[f,t,s,o,v.search]),M=w.useMemo(()=>({pending:L.filter(U=>U.status==="pending"),approved:L.filter(U=>U.status==="approved"),rejected:L.filter(U=>U.status==="rejected")}),[L]);return n.jsxs("div",{className:"px-6 py-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(Kc,{className:"h-6 w-6 text-medical-primary"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Solicitaes"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie solicitaes recebidas (mdicos e clnicas)"})]})]}),n.jsxs(_e,{className:"border-0 shadow-md",children:[n.jsxs(ze,{children:[n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(ru,{className:"h-5 w-5"})," Filtros"]}),n.jsx(Ar,{children:"Refine a busca por status, tipo e urgncia"})]}),n.jsx(De,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ge,{placeholder:"Buscar por nome ou email",value:e,onChange:U=>r(U.target.value),className:"pl-9"})]}),n.jsxs(zr,{value:t,onValueChange:a,children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Status"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"all",children:"Todos"}),n.jsx(at,{value:"pending",children:"Pendentes"}),n.jsx(at,{value:"approved",children:"Aprovadas"}),n.jsx(at,{value:"rejected",children:"Rejeitadas"})]})]}),n.jsxs(zr,{value:s,onValueChange:i,children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Tipo"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"all",children:"Todos"}),n.jsx(at,{value:"medico",children:"Mdico"}),n.jsx(at,{value:"clinica",children:"Clnica"})]})]}),n.jsxs(zr,{value:o,onValueChange:l,children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Urgncia"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"all",children:"Todas"}),n.jsx(at,{value:"normal",children:"Normal"}),n.jsx(at,{value:"alta",children:"Alta"}),n.jsx(at,{value:"critica",children:"Crtica"})]})]})]})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs(Ii,{defaultValue:"todas",className:"space-y-6",children:[n.jsxs(Pi,{children:[n.jsx(kr,{value:"todas",children:"Todas"}),n.jsx(kr,{value:"pendentes",children:"Pendentes"}),n.jsx(kr,{value:"aprovadas",children:"Aprovadas"}),n.jsx(kr,{value:"rejeitadas",children:"Rejeitadas"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Rr,{value:"todas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):L.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(is,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:L.map(U=>n.jsx(F,{solicitacao:U},U.id))})}),n.jsx(Rr,{value:"pendentes",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):M.pending.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Ur,{className:"h-8 w-8 text-amber-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao pendente."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:M.pending.map(U=>n.jsx(F,{solicitacao:U},U.id))})}),n.jsx(Rr,{value:"aprovadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):M.approved.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(ns,{className:"h-8 w-8 text-green-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao aprovada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:M.approved.map(U=>n.jsx(F,{solicitacao:U},U.id))})}),n.jsx(Rr,{value:"rejeitadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):M.rejected.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(ss,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao rejeitada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:M.rejected.map(U=>n.jsx(F,{solicitacao:U},U.id))})})]})]})})]})}const aa=w.forwardRef(({className:e,...r},t)=>n.jsx("textarea",{className:st("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));aa.displayName="Textarea";function h8(){const{id:e}=Al(),r=Xn(),{toast:t}=Ma(),[a,s]=w.useState(!1),[i,o]=w.useState(""),[l,A]=w.useState(!0),[d,f]=w.useState(null);w.useEffect(()=>{let v=!0;return(async()=>{try{const N=await ia.getSolicitacao(e);v&&f(N)}catch{t({title:"Erro ao carregar",description:"No foi possvel carregar a solicitao.",variant:"destructive"}),r("/secretaria/solicitacoes")}finally{v&&A(!1)}})(),()=>{v=!1}},[e]);const h=async()=>{var v;s(!0);try{await ia.aprovarSolicitacao(e,"Aprovada pela Secretaria"),t({title:"Solicitao aprovada!",description:"Solicitao aprovada com sucesso."}),r("/secretaria/solicitacoes")}catch(b){const N=(v=b==null?void 0:b.response)==null?void 0:v.status;t({title:N===403?"Sem permisso":"Erro",description:N===403?"Seu perfil no possui permisso para aprovar.":"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{s(!1)}},m=async()=>{var v;if(!i.trim()){t({title:"Motivo obrigatrio",description:"Por favor, informe o motivo da rejeio.",variant:"destructive"});return}s(!0);try{await ia.rejeitarSolicitacao(e,i.trim()),t({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."}),r("/secretaria/solicitacoes")}catch(b){const N=(v=b==null?void 0:b.response)==null?void 0:v.status;t({title:N===403?"Sem permisso":"Erro",description:N===403?"Seu perfil no possui permisso para rejeitar.":"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{s(!1)}},p=v=>{switch(v){case"pending":return n.jsxs(sr,{variant:"warning",className:"",children:[n.jsx(Kc,{className:"mr-1 h-3 w-3"})," Aguardando Anlise"]});case"approved":return n.jsxs(sr,{variant:"success",className:"",children:[n.jsx(ns,{className:"mr-1 h-3 w-3"})," Aprovado"]});case"rejected":return n.jsxs(sr,{variant:"destructive",className:"",children:[n.jsx(ss,{className:"mr-1 h-3 w-3"})," Rejeitado"]});default:return null}};if(l)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx($c,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),n.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitao"})]})]})});if(!d)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx($c,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitao no encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const x=(d==null?void 0:d.endereco)||{};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/secretaria/solicitacoes"),children:[n.jsx($c,{className:"mr-2 h-4 w-4"})," Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitao"}),n.jsx("p",{className:"text-muted-foreground",children:"Anlise da solicitao recebida"})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`app-quick-icon ${d.tipo==="medico"?"info":"primary"} h-12 w-12`,children:d.tipo==="medico"?n.jsx(Mr,{className:"h-6 w-6"}):n.jsx(Gl,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-xl",children:d.nome}),n.jsx(Ar,{children:d.tipo==="medico"?"Solicitao de Cadastro Mdico":"Solicitao de Cadastro de Clnica"})]})]}),p(d.status)]})}),n.jsxs(De,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ol,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.email||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.telefone||d.celular||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Especialidade / Tipo"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:d.especialidade||d.tipo})]})]})]}),n.jsx(ws,{}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Endereo"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{children:[x==null?void 0:x.logradouro," ",x==null?void 0:x.numero]}),n.jsx("div",{children:x==null?void 0:x.bairro}),n.jsxs("div",{children:[x==null?void 0:x.cidade," - ",x==null?void 0:x.estado]}),n.jsx("div",{children:x==null?void 0:x.cep})]})]})})]})]})}),n.jsx("div",{className:"space-y-6",children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Aes"}),n.jsx(Ar,{children:"Tomar deciso sobre a solicitao"})]}),n.jsx(De,{className:"space-y-4",children:d.status==="pending"?n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(ye,{onClick:h,disabled:a,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:[n.jsx(ns,{className:"mr-2 h-4 w-4"})," Aprovar"]}),n.jsxs(ye,{variant:"destructive",onClick:m,disabled:a,children:[n.jsx(ss,{className:"mr-2 h-4 w-4"})," Rejeitar"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Motivo da Rejeio"}),n.jsx(aa,{placeholder:"Informe o motivo da rejeio",value:i,onChange:v=>o(v.target.value)})]})]}):d.status==="approved"?n.jsx(sr,{variant:"success",className:"",children:"Aprovado"}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(sr,{variant:"destructive",children:"Rejeitado"}),d.motivoRejeicao&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Motivo: ",d.motivoRejeicao]})]})})]})})]})]})}function Uo({tabs:e,basePath:r}){const t=Hn();return n.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-200/50 dark:border-gray-700/50 shadow-lg mb-6",children:n.jsx("nav",{className:"flex space-x-1 p-2",children:e.map(a=>{const s=t.pathname===a.href;return n.jsx(gr,{to:a.href,className:st("flex items-center px-4 py-3 text-sm font-medium transition-all duration-200 rounded-md",s?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-700 hover:text-gray-900 hover:bg-gray-100/80 dark:text-gray-200 dark:hover:text-white dark:hover:bg-gray-700/70"),children:a.label},a.href)})})})}const C_=6048e5,m8=864e5,ix=6e4,ox=36e5,p8=1e3,HN=Symbol.for("constructDateFrom");function Fa(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&HN in e?e[HN](r):e instanceof Date?new e.constructor(r):new Date(r)}function rr(e,r){return Fa(r||e,e)}function sl(e,r,t){const a=rr(e,t==null?void 0:t.in);return isNaN(r)?Fa((t==null?void 0:t.in)||e,NaN):(r&&a.setDate(a.getDate()+r),a)}function ll(e,r,t){const a=rr(e,t==null?void 0:t.in);if(isNaN(r))return Fa(e,NaN);if(!r)return a;const s=a.getDate(),i=Fa(e,a.getTime());i.setMonth(a.getMonth()+r+1,0);const o=i.getDate();return s>=o?i:(a.setFullYear(i.getFullYear(),i.getMonth(),s),a)}function S_(e,r,t){return Fa(e,+rr(e)+r)}function g8(e,r,t){return S_(e,r*ox)}let x8={};function wu(){return x8}function tA(e,r){var l,A,d,f;const t=wu(),a=(r==null?void 0:r.weekStartsOn)??((A=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=rr(e,r==null?void 0:r.in),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Pf(e,r){return tA(e,{...r,weekStartsOn:1})}function E_(e,r){const t=rr(e,r==null?void 0:r.in),a=t.getFullYear(),s=Fa(t,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const i=Pf(s),o=Fa(t,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=Pf(o);return t.getTime()>=i.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1}function t0(e){const r=rr(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function nA(e,...r){const t=Fa.bind(null,r.find(a=>typeof a=="object"));return r.map(t)}function mu(e,r){const t=rr(e,r==null?void 0:r.in);return t.setHours(0,0,0,0),t}function Qf(e,r,t){const[a,s]=nA(t==null?void 0:t.in,e,r),i=mu(a),o=mu(s),l=+i-t0(i),A=+o-t0(o);return Math.round((l-A)/m8)}function v8(e,r){const t=E_(e,r),a=Fa(e,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),Pf(a)}function h1(e,r,t){const a=rr(e,t==null?void 0:t.in);return a.setTime(a.getTime()+r*ix),a}function Gy(e,r,t){return ll(e,r*3,t)}function w8(e,r,t){return S_(e,r*1e3)}function r0(e,r,t){return sl(e,r*7,t)}function qc(e,r,t){return ll(e,r*12,t)}function KN(e,r){let t,a=r==null?void 0:r.in;return e.forEach(s=>{!a&&typeof s=="object"&&(a=Fa.bind(null,s));const i=rr(s,a);(!t||t<i||isNaN(+i))&&(t=i)}),Fa(a,t||NaN)}function $N(e,r){let t,a=r==null?void 0:r.in;return e.forEach(s=>{!a&&typeof s=="object"&&(a=Fa.bind(null,s));const i=rr(s,a);(!t||t>i||isNaN(+i))&&(t=i)}),Fa(a,t||NaN)}function y8(e,r,t){const[a,s]=nA(t==null?void 0:t.in,e,r);return+mu(a)==+mu(s)}function Wc(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function a0(e){return!(!Wc(e)&&typeof e!="number"||isNaN(+rr(e)))}function n0(e,r,t){const[a,s]=nA(t==null?void 0:t.in,e,r),i=a.getFullYear()-s.getFullYear(),o=a.getMonth()-s.getMonth();return i*12+o}function au(e,r){const t=rr(e,r==null?void 0:r.in);return Math.trunc(t.getMonth()/3)+1}function s0(e,r,t){const[a,s]=nA(t==null?void 0:t.in,e,r),i=a.getFullYear()-s.getFullYear(),o=au(a)-au(s);return i*4+o}function i0(e,r,t){const[a,s]=nA(t==null?void 0:t.in,e,r);return a.getFullYear()-s.getFullYear()}function b8(e,r,t){const[a,s]=nA(t==null?void 0:t.in,e,r),i=VN(a,s),o=Math.abs(Qf(a,s));a.setDate(a.getDate()-i*o);const l=+(VN(a,s)===-i),A=i*(o-l);return A===0?0:A}function VN(e,r){const t=e.getFullYear()-r.getFullYear()||e.getMonth()-r.getMonth()||e.getDate()-r.getDate()||e.getHours()-r.getHours()||e.getMinutes()-r.getMinutes()||e.getSeconds()-r.getSeconds()||e.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function __(e,r){const t=rr(e,r==null?void 0:r.in);return t.setHours(23,59,59,999),t}function F_(e,r){const t=rr(e,r==null?void 0:r.in),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function m1(e,r){const t=rr(e,r==null?void 0:r.in),a=t.getMonth(),s=a-a%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function k_(e,r){const t=rr(e,r==null?void 0:r.in);return t.setDate(1),t.setHours(0,0,0,0),t}function D_(e,r){const t=rr(e,r==null?void 0:r.in),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(23,59,59,999),t}function lx(e,r){const t=rr(e,r==null?void 0:r.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function N8(e,r){var l,A;const t=wu(),a=t.weekStartsOn??((A=(l=t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??0,s=rr(e,r==null?void 0:r.in),i=s.getDay(),o=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const j8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},B8=(e,r,t)=>{let a;const s=j8[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function Bf(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const C8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},S8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},E8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_8={date:Bf({formats:C8,defaultWidth:"full"}),time:Bf({formats:S8,defaultWidth:"full"}),dateTime:Bf({formats:E8,defaultWidth:"full"})},F8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},k8=(e,r,t,a)=>F8[e];function Rl(e){return(r,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return s[i]}}const D8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},U8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},L8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},I8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},P8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Q8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},R8=(e,r)=>{const t=Number(e),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},T8={ordinalNumber:R8,era:Rl({values:D8,defaultWidth:"wide"}),quarter:Rl({values:U8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rl({values:L8,defaultWidth:"wide"}),day:Rl({values:I8,defaultWidth:"wide"}),dayPeriod:Rl({values:P8,defaultWidth:"wide",formattingValues:Q8,defaultFormattingWidth:"wide"})};function Tl(e){return(r,t={})=>{const a=t.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],A=Array.isArray(l)?O8(l,h=>h.test(o)):M8(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(A):A,d=t.valueCallback?t.valueCallback(d):d;const f=r.slice(o.length);return{value:d,rest:f}}}function M8(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function O8(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function U_(e){return(r,t={})=>{const a=r.match(e.matchPattern);if(!a)return null;const s=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const l=r.slice(s.length);return{value:o,rest:l}}}const H8=/^(\d+)(th|st|nd|rd)?/i,K8=/\d+/i,$8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},V8={any:[/^b/i,/^(a|c)/i]},z8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},q8={any:[/1/i,/2/i,/3/i,/4/i]},W8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},G8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Y8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},X8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},J8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Z8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eO={ordinalNumber:U_({matchPattern:H8,parsePattern:K8,valueCallback:e=>parseInt(e,10)}),era:Tl({matchPatterns:$8,defaultMatchWidth:"wide",parsePatterns:V8,defaultParseWidth:"any"}),quarter:Tl({matchPatterns:z8,defaultMatchWidth:"wide",parsePatterns:q8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Tl({matchPatterns:W8,defaultMatchWidth:"wide",parsePatterns:G8,defaultParseWidth:"any"}),day:Tl({matchPatterns:Y8,defaultMatchWidth:"wide",parsePatterns:X8,defaultParseWidth:"any"}),dayPeriod:Tl({matchPatterns:J8,defaultMatchWidth:"any",parsePatterns:Z8,defaultParseWidth:"any"})},L_={code:"en-US",formatDistance:B8,formatLong:_8,formatRelative:k8,localize:T8,match:eO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tO(e,r){const t=rr(e,r==null?void 0:r.in);return Qf(t,lx(t))+1}function Yy(e,r){const t=rr(e,r==null?void 0:r.in),a=+Pf(t)-+v8(t);return Math.round(a/C_)+1}function Xy(e,r){var f,h,m,p;const t=rr(e,r==null?void 0:r.in),a=t.getFullYear(),s=wu(),i=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Fa((r==null?void 0:r.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=tA(o,r),A=Fa((r==null?void 0:r.in)||e,0);A.setFullYear(a,0,i),A.setHours(0,0,0,0);const d=tA(A,r);return+t>=+l?a+1:+t>=+d?a:a-1}function rO(e,r){var l,A,d,f;const t=wu(),a=(r==null?void 0:r.firstWeekContainsDate)??((A=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:A.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=Xy(e,r),i=Fa((r==null?void 0:r.in)||e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),tA(i,r)}function I_(e,r){const t=rr(e,r==null?void 0:r.in),a=+tA(t,r)-+rO(t,r);return Math.round(a/C_)+1}function Ea(e,r){const t=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return t+a}const PA={y(e,r){const t=e.getFullYear(),a=t>0?t:1-t;return Ea(r==="yy"?a%100:a,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):Ea(t+1,2)},d(e,r){return Ea(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return Ea(e.getHours()%12||12,r.length)},H(e,r){return Ea(e.getHours(),r.length)},m(e,r){return Ea(e.getMinutes(),r.length)},s(e,r){return Ea(e.getSeconds(),r.length)},S(e,r){const t=r.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,t-3));return Ea(s,r.length)}},sf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zN={G:function(e,r,t){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return t.ordinalNumber(s,{unit:"year"})}return PA.y(e,r)},Y:function(e,r,t,a){const s=Xy(e,a),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return Ea(o,2)}return r==="Yo"?t.ordinalNumber(i,{unit:"year"}):Ea(i,r.length)},R:function(e,r){const t=E_(e);return Ea(t,r.length)},u:function(e,r){const t=e.getFullYear();return Ea(t,r.length)},Q:function(e,r,t){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Ea(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,t){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Ea(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,t){const a=e.getMonth();switch(r){case"M":case"MM":return PA.M(e,r);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,t){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return Ea(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,t,a){const s=I_(e,a);return r==="wo"?t.ordinalNumber(s,{unit:"week"}):Ea(s,r.length)},I:function(e,r,t){const a=Yy(e);return r==="Io"?t.ordinalNumber(a,{unit:"week"}):Ea(a,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):PA.d(e,r)},D:function(e,r,t){const a=tO(e);return r==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):Ea(a,r.length)},E:function(e,r,t){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,t,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return Ea(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,t,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return Ea(i,r.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,t){const a=e.getDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return Ea(s,r.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,t){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,t){const a=e.getHours();let s;switch(a===12?s=sf.noon:a===0?s=sf.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,t){const a=e.getHours();let s;switch(a>=17?s=sf.evening:a>=12?s=sf.afternoon:a>=4?s=sf.morning:s=sf.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return PA.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):PA.H(e,r)},K:function(e,r,t){const a=e.getHours()%12;return r==="Ko"?t.ordinalNumber(a,{unit:"hour"}):Ea(a,r.length)},k:function(e,r,t){let a=e.getHours();return a===0&&(a=24),r==="ko"?t.ordinalNumber(a,{unit:"hour"}):Ea(a,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):PA.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):PA.s(e,r)},S:function(e,r){return PA.S(e,r)},X:function(e,r,t){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return WN(a);case"XXXX":case"XX":return Vd(a);case"XXXXX":case"XXX":default:return Vd(a,":")}},x:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"x":return WN(a);case"xxxx":case"xx":return Vd(a);case"xxxxx":case"xxx":default:return Vd(a,":")}},O:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+qN(a,":");case"OOOO":default:return"GMT"+Vd(a,":")}},z:function(e,r,t){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+qN(a,":");case"zzzz":default:return"GMT"+Vd(a,":")}},t:function(e,r,t){const a=Math.trunc(+e/1e3);return Ea(a,r.length)},T:function(e,r,t){return Ea(+e,r.length)}};function qN(e,r=""){const t=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?t+String(s):t+String(s)+r+Ea(i,2)}function WN(e,r){return e%60===0?(e>0?"-":"+")+Ea(Math.abs(e)/60,2):Vd(e,r)}function Vd(e,r=""){const t=e>0?"-":"+",a=Math.abs(e),s=Ea(Math.trunc(a/60),2),i=Ea(a%60,2);return t+s+r+i}const GN=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},P_=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},aO=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],a=t[1],s=t[2];if(!s)return GN(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",GN(a,r)).replace("{{time}}",P_(s,r))},p1={p:P_,P:aO},nO=/^D+$/,sO=/^Y+$/,iO=["D","DD","YY","YYYY"];function oO(e){return nO.test(e)}function lO(e){return sO.test(e)}function cO(e,r,t){const a=AO(e,r,t);if(console.warn(a),iO.includes(e))throw new RangeError(a)}function AO(e,r,t){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fO=/^'([^]*?)'?$/,hO=/''/g,mO=/[a-zA-Z]/;function $A(e,r,t){var f,h,m,p,x,v,b,N;const a=wu(),s=(t==null?void 0:t.locale)??a.locale??L_,i=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((v=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??a.weekStartsOn??((N=(b=a.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??0,l=rr(e,t==null?void 0:t.in);if(!a0(l))throw new RangeError("Invalid time value");let A=r.match(uO).map(B=>{const S=B[0];if(S==="p"||S==="P"){const F=p1[S];return F(B,s.formatLong)}return B}).join("").match(dO).map(B=>{if(B==="''")return{isToken:!1,value:"'"};const S=B[0];if(S==="'")return{isToken:!1,value:pO(B)};if(zN[S])return{isToken:!0,value:B};if(S.match(mO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:B}});s.localize.preprocessor&&(A=s.localize.preprocessor(l,A));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return A.map(B=>{if(!B.isToken)return B.value;const S=B.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&lO(S)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&oO(S))&&cO(S,r,String(e));const F=zN[S[0]];return F(l,S,s.localize,d)}).join("")}function pO(e){const r=e.match(fO);return r?r[1].replace(hO,"'"):e}function YN(e,r){return rr(e,r==null?void 0:r.in).getDate()}function gO(e,r){return rr(e,r==null?void 0:r.in).getDay()}function xO(e,r){const t=rr(e,r==null?void 0:r.in),a=t.getFullYear(),s=t.getMonth(),i=Fa(t,0);return i.setFullYear(a,s+1,0),i.setHours(0,0,0,0),i.getDate()}function vO(){return Object.assign({},wu())}function Gc(e,r){return rr(e,r==null?void 0:r.in).getHours()}function wO(e,r){const t=rr(e,r==null?void 0:r.in).getDay();return t===0?7:t}function Yc(e,r){return rr(e,r==null?void 0:r.in).getMinutes()}function Js(e,r){return rr(e,r==null?void 0:r.in).getMonth()}function JA(e){return rr(e).getSeconds()}function g1(e){return+rr(e)}function Vr(e,r){return rr(e,r==null?void 0:r.in).getFullYear()}function od(e,r){return+rr(e)>+rr(r)}function Kl(e,r){return+rr(e)<+rr(r)}function yO(e,r){return+rr(e)==+rr(r)}function bO(e,r){const t=NO(r)?new r(0):Fa(r,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function NO(e){var r;return typeof e=="function"&&((r=e.prototype)==null?void 0:r.constructor)===e}const jO=10;class Q_{constructor(){ft(this,"subPriority",0)}validate(r,t){return!0}}class BO extends Q_{constructor(r,t,a,s,i){super(),this.value=r,this.validateValue=t,this.setValue=a,this.priority=s,i&&(this.subPriority=i)}validate(r,t){return this.validateValue(r,this.value,t)}set(r,t,a){return this.setValue(r,t,this.value,a)}}class CO extends Q_{constructor(t,a){super();ft(this,"priority",jO);ft(this,"subPriority",-1);this.context=t||(s=>Fa(a,s))}set(t,a){return a.timestampIsSet?t:Fa(t,bO(t,this.context))}}let ga=class{run(r,t,a,s){const i=this.parse(r,t,a,s);return i?{setter:new BO(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(r,t,a){return!0}};class SO extends ga{constructor(){super(...arguments);ft(this,"priority",140);ft(this,"incompatibleTokens",["R","u","t","T"])}parse(t,a,s){switch(a){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,a,s){return a.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const Rn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ml={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tn(e,r){return e&&{value:r(e.value),rest:e.rest}}function fn(e,r){const t=r.match(e);return t?{value:parseInt(t[0],10),rest:r.slice(t[0].length)}:null}function Ol(e,r){const t=r.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:r.slice(1)};const a=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:a*(s*ox+i*ix+o*p8),rest:r.slice(t[0].length)}}function R_(e){return fn(Rn.anyDigitsSigned,e)}function Cn(e,r){switch(e){case 1:return fn(Rn.singleDigit,r);case 2:return fn(Rn.twoDigits,r);case 3:return fn(Rn.threeDigits,r);case 4:return fn(Rn.fourDigits,r);default:return fn(new RegExp("^\\d{1,"+e+"}"),r)}}function o0(e,r){switch(e){case 1:return fn(Rn.singleDigitSigned,r);case 2:return fn(Rn.twoDigitsSigned,r);case 3:return fn(Rn.threeDigitsSigned,r);case 4:return fn(Rn.fourDigitsSigned,r);default:return fn(new RegExp("^-?\\d{1,"+e+"}"),r)}}function Jy(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function T_(e,r){const t=r>0,a=t?r:1-r;let s;if(a<=50)s=e||100;else{const i=a+50,o=Math.trunc(i/100)*100,l=e>=i%100;s=e+o-(l?100:0)}return t?s:1-s}function M_(e){return e%400===0||e%4===0&&e%100!==0}class EO extends ga{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,a,s){const i=o=>({year:o,isTwoDigitYear:a==="yy"});switch(a){case"y":return Tn(Cn(4,t),i);case"yo":return Tn(s.ordinalNumber(t,{unit:"year"}),i);default:return Tn(Cn(a.length,t),i)}}validate(t,a){return a.isTwoDigitYear||a.year>0}set(t,a,s){const i=t.getFullYear();if(s.isTwoDigitYear){const l=T_(s.year,i);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const o=!("era"in a)||a.era===1?s.year:1-s.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class _O extends ga{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,a,s){const i=o=>({year:o,isTwoDigitYear:a==="YY"});switch(a){case"Y":return Tn(Cn(4,t),i);case"Yo":return Tn(s.ordinalNumber(t,{unit:"year"}),i);default:return Tn(Cn(a.length,t),i)}}validate(t,a){return a.isTwoDigitYear||a.year>0}set(t,a,s,i){const o=Xy(t,i);if(s.isTwoDigitYear){const A=T_(s.year,o);return t.setFullYear(A,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),tA(t,i)}const l=!("era"in a)||a.era===1?s.year:1-s.year;return t.setFullYear(l,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),tA(t,i)}}class FO extends ga{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,a){return o0(a==="R"?4:a.length,t)}set(t,a,s){const i=Fa(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Pf(i)}}class kO extends ga{constructor(){super(...arguments);ft(this,"priority",130);ft(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,a){return o0(a==="u"?4:a.length,t)}set(t,a,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class DO extends ga{constructor(){super(...arguments);ft(this,"priority",120);ft(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"Q":case"QQ":return Cn(a.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=1&&a<=4}set(t,a,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class UO extends ga{constructor(){super(...arguments);ft(this,"priority",120);ft(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"q":case"qq":return Cn(a.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=1&&a<=4}set(t,a,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class LO extends ga{constructor(){super(...arguments);ft(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ft(this,"priority",110)}parse(t,a,s){const i=o=>o-1;switch(a){case"M":return Tn(fn(Rn.month,t),i);case"MM":return Tn(Cn(2,t),i);case"Mo":return Tn(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class IO extends ga{constructor(){super(...arguments);ft(this,"priority",110);ft(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,a,s){const i=o=>o-1;switch(a){case"L":return Tn(fn(Rn.month,t),i);case"LL":return Tn(Cn(2,t),i);case"Lo":return Tn(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function PO(e,r,t){const a=rr(e,t==null?void 0:t.in),s=I_(a,t)-r;return a.setDate(a.getDate()-s*7),rr(a,t==null?void 0:t.in)}class QO extends ga{constructor(){super(...arguments);ft(this,"priority",100);ft(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,a,s){switch(a){case"w":return fn(Rn.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return Cn(a.length,t)}}validate(t,a){return a>=1&&a<=53}set(t,a,s,i){return tA(PO(t,s,i),i)}}function RO(e,r,t){const a=rr(e,t==null?void 0:t.in),s=Yy(a,t)-r;return a.setDate(a.getDate()-s*7),a}class TO extends ga{constructor(){super(...arguments);ft(this,"priority",100);ft(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,a,s){switch(a){case"I":return fn(Rn.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return Cn(a.length,t)}}validate(t,a){return a>=1&&a<=53}set(t,a,s){return Pf(RO(t,s))}}const MO=[31,28,31,30,31,30,31,31,30,31,30,31],OO=[31,29,31,30,31,30,31,31,30,31,30,31];class HO extends ga{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"subPriority",1);ft(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"d":return fn(Rn.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return Cn(a.length,t)}}validate(t,a){const s=t.getFullYear(),i=M_(s),o=t.getMonth();return i?a>=1&&a<=OO[o]:a>=1&&a<=MO[o]}set(t,a,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class KO extends ga{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"subpriority",1);ft(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,a,s){switch(a){case"D":case"DD":return fn(Rn.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return Cn(a.length,t)}}validate(t,a){const s=t.getFullYear();return M_(s)?a>=1&&a<=366:a>=1&&a<=365}set(t,a,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function Zy(e,r,t){var h,m,p,x;const a=wu(),s=(t==null?void 0:t.weekStartsOn)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??a.weekStartsOn??((x=(p=a.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??0,i=rr(e,t==null?void 0:t.in),o=i.getDay(),A=(r%7+7)%7,d=7-s,f=r<0||r>6?r-(o+d)%7:(A+d)%7-(o+d)%7;return sl(i,f,t)}class $O extends ga{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,a,s){switch(a){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=Zy(t,s,i),t.setHours(0,0,0,0),t}}class VO extends ga{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,a,s,i){const o=l=>{const A=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+A};switch(a){case"e":case"ee":return Tn(Cn(a.length,t),o);case"eo":return Tn(s.ordinalNumber(t,{unit:"day"}),o);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=Zy(t,s,i),t.setHours(0,0,0,0),t}}class zO extends ga{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,a,s,i){const o=l=>{const A=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+A};switch(a){case"c":case"cc":return Tn(Cn(a.length,t),o);case"co":return Tn(s.ordinalNumber(t,{unit:"day"}),o);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,a){return a>=0&&a<=6}set(t,a,s,i){return t=Zy(t,s,i),t.setHours(0,0,0,0),t}}function qO(e,r,t){const a=rr(e,t==null?void 0:t.in),s=wO(a,t),i=r-s;return sl(a,i,t)}class WO extends ga{constructor(){super(...arguments);ft(this,"priority",90);ft(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,a,s){const i=o=>o===0?7:o;switch(a){case"i":case"ii":return Cn(a.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return Tn(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return Tn(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Tn(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Tn(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,a){return a>=1&&a<=7}set(t,a,s){return t=qO(t,s),t.setHours(0,0,0,0),t}}class GO extends ga{constructor(){super(...arguments);ft(this,"priority",80);ft(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,a,s){switch(a){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(Jy(s),0,0,0),t}}class YO extends ga{constructor(){super(...arguments);ft(this,"priority",80);ft(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,a,s){switch(a){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(Jy(s),0,0,0),t}}class XO extends ga{constructor(){super(...arguments);ft(this,"priority",80);ft(this,"incompatibleTokens",["a","b","t","T"])}parse(t,a,s){switch(a){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,a,s){return t.setHours(Jy(s),0,0,0),t}}class JO extends ga{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,a,s){switch(a){case"h":return fn(Rn.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return Cn(a.length,t)}}validate(t,a){return a>=1&&a<=12}set(t,a,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class ZO extends ga{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,a,s){switch(a){case"H":return fn(Rn.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return Cn(a.length,t)}}validate(t,a){return a>=0&&a<=23}set(t,a,s){return t.setHours(s,0,0,0),t}}class eH extends ga{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,a,s){switch(a){case"K":return fn(Rn.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return Cn(a.length,t)}}validate(t,a){return a>=0&&a<=11}set(t,a,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class tH extends ga{constructor(){super(...arguments);ft(this,"priority",70);ft(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,a,s){switch(a){case"k":return fn(Rn.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return Cn(a.length,t)}}validate(t,a){return a>=1&&a<=24}set(t,a,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}}class rH extends ga{constructor(){super(...arguments);ft(this,"priority",60);ft(this,"incompatibleTokens",["t","T"])}parse(t,a,s){switch(a){case"m":return fn(Rn.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return Cn(a.length,t)}}validate(t,a){return a>=0&&a<=59}set(t,a,s){return t.setMinutes(s,0,0),t}}class aH extends ga{constructor(){super(...arguments);ft(this,"priority",50);ft(this,"incompatibleTokens",["t","T"])}parse(t,a,s){switch(a){case"s":return fn(Rn.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return Cn(a.length,t)}}validate(t,a){return a>=0&&a<=59}set(t,a,s){return t.setSeconds(s,0),t}}class nH extends ga{constructor(){super(...arguments);ft(this,"priority",30);ft(this,"incompatibleTokens",["t","T"])}parse(t,a){const s=i=>Math.trunc(i*Math.pow(10,-a.length+3));return Tn(Cn(a.length,t),s)}set(t,a,s){return t.setMilliseconds(s),t}}class sH extends ga{constructor(){super(...arguments);ft(this,"priority",10);ft(this,"incompatibleTokens",["t","T","x"])}parse(t,a){switch(a){case"X":return Ol(Ml.basicOptionalMinutes,t);case"XX":return Ol(Ml.basic,t);case"XXXX":return Ol(Ml.basicOptionalSeconds,t);case"XXXXX":return Ol(Ml.extendedOptionalSeconds,t);case"XXX":default:return Ol(Ml.extended,t)}}set(t,a,s){return a.timestampIsSet?t:Fa(t,t.getTime()-t0(t)-s)}}class iH extends ga{constructor(){super(...arguments);ft(this,"priority",10);ft(this,"incompatibleTokens",["t","T","X"])}parse(t,a){switch(a){case"x":return Ol(Ml.basicOptionalMinutes,t);case"xx":return Ol(Ml.basic,t);case"xxxx":return Ol(Ml.basicOptionalSeconds,t);case"xxxxx":return Ol(Ml.extendedOptionalSeconds,t);case"xxx":default:return Ol(Ml.extended,t)}}set(t,a,s){return a.timestampIsSet?t:Fa(t,t.getTime()-t0(t)-s)}}class oH extends ga{constructor(){super(...arguments);ft(this,"priority",40);ft(this,"incompatibleTokens","*")}parse(t){return R_(t)}set(t,a,s){return[Fa(t,s*1e3),{timestampIsSet:!0}]}}class lH extends ga{constructor(){super(...arguments);ft(this,"priority",20);ft(this,"incompatibleTokens","*")}parse(t){return R_(t)}set(t,a,s){return[Fa(t,s),{timestampIsSet:!0}]}}const cH={G:new SO,y:new EO,Y:new _O,R:new FO,u:new kO,Q:new DO,q:new UO,M:new LO,L:new IO,w:new QO,I:new TO,d:new HO,D:new KO,E:new $O,e:new VO,c:new zO,i:new WO,a:new GO,b:new YO,B:new XO,h:new JO,H:new ZO,K:new eH,k:new tH,m:new rH,s:new aH,S:new nH,X:new sH,x:new iH,t:new oH,T:new lH},AH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uH=/^'([^]*?)'?$/,fH=/''/g,hH=/\S/,mH=/[a-zA-Z]/;function pH(e,r,t,a){var b,N,B,S,F,L,M,U;const s=()=>Fa((a==null?void 0:a.in)||t,NaN),i=vO(),o=(a==null?void 0:a.locale)??i.locale??L_,l=(a==null?void 0:a.firstWeekContainsDate)??((N=(b=a==null?void 0:a.locale)==null?void 0:b.options)==null?void 0:N.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(B=i.locale)==null?void 0:B.options)==null?void 0:S.firstWeekContainsDate)??1,A=(a==null?void 0:a.weekStartsOn)??((L=(F=a==null?void 0:a.locale)==null?void 0:F.options)==null?void 0:L.weekStartsOn)??i.weekStartsOn??((U=(M=i.locale)==null?void 0:M.options)==null?void 0:U.weekStartsOn)??0;if(!r)return e?s():rr(t,a==null?void 0:a.in);const d={firstWeekContainsDate:l,weekStartsOn:A,locale:o},f=[new CO(a==null?void 0:a.in,t)],h=r.match(dH).map(I=>{const _=I[0];if(_ in p1){const W=p1[_];return W(I,o.formatLong)}return I}).join("").match(AH),m=[];for(let I of h){const _=I[0],W=cH[_];if(W){const{incompatibleTokens:Q}=W;if(Array.isArray(Q)){const X=m.find(R=>Q.includes(R.token)||R.token===_);if(X)throw new RangeError(`The format string mustn't contain \`${X.fullToken}\` and \`${I}\` at the same time`)}else if(W.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);m.push({token:_,fullToken:I});const K=W.run(e,I,o.match,d);if(!K)return s();f.push(K.setter),e=K.rest}else{if(_.match(mH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(I==="''"?I="'":_==="'"&&(I=gH(I)),e.indexOf(I)===0)e=e.slice(I.length);else return s()}}if(e.length>0&&hH.test(e))return s();const p=f.map(I=>I.priority).sort((I,_)=>_-I).filter((I,_,W)=>W.indexOf(I)===_).map(I=>f.filter(_=>_.priority===I).sort((_,W)=>W.subPriority-_.subPriority)).map(I=>I[0]);let x=rr(t,a==null?void 0:a.in);if(isNaN(+x))return s();const v={};for(const I of p){if(!I.validate(x,d))return s();const _=I.set(x,v,d);Array.isArray(_)?(x=_[0],Object.assign(v,_[1])):x=_}return x}function gH(e){return e.match(uH)[1].replace(fH,"'")}function xH(e,r,t){const[a,s]=nA(t==null?void 0:t.in,e,r);return a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()}function vH(e,r,t){const[a,s]=nA(t==null?void 0:t.in,e,r);return+m1(a)==+m1(s)}function wH(e,r,t){const[a,s]=nA(t==null?void 0:t.in,e,r);return a.getFullYear()===s.getFullYear()}function um(e,r,t){const a=+rr(e,t==null?void 0:t.in),[s,i]=[+rr(r.start,t==null?void 0:t.in),+rr(r.end,t==null?void 0:t.in)].sort((o,l)=>o-l);return a>=s&&a<=i}function yH(e,r,t){return sl(e,-1,t)}function O_(e,r){const t=()=>Fa(r==null?void 0:r.in,NaN),s=BH(e);let i;if(s.date){const d=CH(s.date,2);i=SH(d.restDateString,d.year)}if(!i||isNaN(+i))return t();const o=+i;let l=0,A;if(s.time&&(l=EH(s.time),isNaN(l)))return t();if(s.timezone){if(A=_H(s.timezone),isNaN(A))return t()}else{const d=new Date(o+l),f=rr(0,r==null?void 0:r.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return rr(o+l+A,r==null?void 0:r.in)}const Fp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,NH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function BH(e){const r={},t=e.split(Fp.dateTimeDelimiter);let a;if(t.length>2)return r;if(/:/.test(t[0])?a=t[0]:(r.date=t[0],a=t[1],Fp.timeZoneDelimiter.test(r.date)&&(r.date=e.split(Fp.timeZoneDelimiter)[0],a=e.substr(r.date.length,e.length))),a){const s=Fp.timezone.exec(a);s?(r.time=a.replace(s[1],""),r.timezone=s[1]):r.time=a}return r}function CH(e,r){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),a=e.match(t);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function SH(e,r){if(r===null)return new Date(NaN);const t=e.match(bH);if(!t)return new Date(NaN);const a=!!t[4],s=_h(t[1]),i=_h(t[2])-1,o=_h(t[3]),l=_h(t[4]),A=_h(t[5])-1;if(a)return LH(r,l,A)?FH(r,l,A):new Date(NaN);{const d=new Date(0);return!DH(r,i,o)||!UH(r,s)?new Date(NaN):(d.setUTCFullYear(r,i,Math.max(s,o)),d)}}function _h(e){return e?parseInt(e):1}function EH(e){const r=e.match(NH);if(!r)return NaN;const t=Ov(r[1]),a=Ov(r[2]),s=Ov(r[3]);return IH(t,a,s)?t*ox+a*ix+s*1e3:NaN}function Ov(e){return e&&parseFloat(e.replace(",","."))||0}function _H(e){if(e==="Z")return 0;const r=e.match(jH);if(!r)return 0;const t=r[1]==="+"?-1:1,a=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return PH(a,s)?t*(a*ox+s*ix):NaN}function FH(e,r,t){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,i=(r-1)*7+t+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const kH=[31,null,31,30,31,30,31,31,30,31,30,31];function H_(e){return e%400===0||e%4===0&&e%100!==0}function DH(e,r,t){return r>=0&&r<=11&&t>=1&&t<=(kH[r]||(H_(e)?29:28))}function UH(e,r){return r>=1&&r<=(H_(e)?366:365)}function LH(e,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function IH(e,r,t){return e===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&e>=0&&e<25}function PH(e,r){return r>=0&&r<=59}function to(e,r,t){const a=rr(e,t==null?void 0:t.in),s=a.getFullYear(),i=a.getDate(),o=Fa(e,0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);const l=xO(o);return a.setMonth(r,Math.min(i,l)),a}function Bg(e,r,t){const a=rr(e,t==null?void 0:t.in);return a.setHours(r),a}function Cg(e,r,t){const a=rr(e,t==null?void 0:t.in);return a.setMinutes(r),a}function pf(e,r,t){const a=rr(e,t==null?void 0:t.in),s=Math.trunc(a.getMonth()/3)+1,i=r-s;return to(a,a.getMonth()+i*3)}function Sg(e,r,t){const a=rr(e,t==null?void 0:t.in);return a.setSeconds(r),a}function Il(e,r,t){const a=rr(e,t==null?void 0:t.in);return isNaN(+a)?Fa(e,NaN):(a.setFullYear(r),a)}function nu(e,r,t){return ll(e,-r,t)}function K_(e,r,t){return Gy(e,-1,t)}function XN(e,r,t){return r0(e,-1,t)}function Rf(e,r,t){return qc(e,-r,t)}var QH=typeof document<"u",RH=function(){},l0=QH?w.useLayoutEffect:RH;const TH={...xm},MH=TH.useInsertionEffect,OH=MH||(e=>e());function HH(e){const r=w.useRef(()=>{});return OH(()=>{r.current=e}),w.useCallback(function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r.current==null?void 0:r.current(...a)},[])}const KH={...xm};let JN=!1,$H=0;const ZN=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+$H++;function VH(){const[e,r]=w.useState(()=>JN?ZN():void 0);return l0(()=>{e==null&&r(ZN())},[]),w.useEffect(()=>{JN=!0},[]),e}const zH=KH.useId,$_=zH||VH,qH=w.forwardRef(function(r,t){const{context:{placement:a,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:l=14,height:A=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:h,stroke:m,d:p,style:{transform:x,...v}={},...b}=r,N=$_(),[B,S]=w.useState(!1);if(l0(()=>{if(!s)return;ko(s).direction==="rtl"&&S(!0)},[s]),!s)return null;const[F,L]=a.split("-"),M=F==="top"||F==="bottom";let U=h;(M&&o!=null&&o.x||!M&&o!=null&&o.y)&&(U=null);const I=f*2,_=I/2,W=l/2*(d/-8+1),Q=A/2*d/4,K=!!p,X=U&&L==="end"?"bottom":"top";let R=U&&L==="end"?"right":"left";U&&B&&(R=L==="end"?"left":"right");const re=(i==null?void 0:i.x)!=null?U||i.x:"",$=(i==null?void 0:i.y)!=null?U||i.y:"",V=p||"M0,0"+(" H"+l)+(" L"+(l-W)+","+(A-Q))+(" Q"+l/2+","+A+" "+W+","+(A-Q))+" Z",Z={top:K?"rotate(180deg)":"",left:K?"rotate(90deg)":"rotate(-90deg)",bottom:K?"":"rotate(180deg)",right:K?"rotate(-90deg)":"rotate(90deg)"}[F];return n.jsxs("svg",{...b,"aria-hidden":!0,ref:t,width:K?l:l+I,height:l,viewBox:"0 0 "+l+" "+(A>l?A:l),style:{position:"absolute",pointerEvents:"none",[R]:re,[X]:$,[F]:M||K?"100%":"calc(100% - "+I/2+"px)",transform:[Z,x].filter(ie=>!!ie).join(" "),...v},children:[I>0&&n.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:m,strokeWidth:I+(p?0:1),d:V}),n.jsx("path",{stroke:I&&!p?b.fill:"none",d:V}),n.jsx("clipPath",{id:N,children:n.jsx("rect",{x:-_,y:_*(K?-1:1),width:l+I,height:l})})]})});function WH(){const e=new Map;return{emit(r,t){var a;(a=e.get(r))==null||a.forEach(s=>s(t))},on(r,t){e.has(r)||e.set(r,new Set),e.get(r).add(t)},off(r,t){var a;(a=e.get(r))==null||a.delete(t)}}}const GH=w.createContext(null),YH=w.createContext(null),XH=()=>{var e;return((e=w.useContext(GH))==null?void 0:e.id)||null},JH=()=>w.useContext(YH);function ZH(e){const{open:r=!1,onOpenChange:t,elements:a}=e,s=$_(),i=w.useRef({}),[o]=w.useState(()=>WH()),l=XH()!=null,[A,d]=w.useState(a.reference),f=HH((p,x,v)=>{i.current.openEvent=p?x:void 0,o.emit("openchange",{open:p,event:x,reason:v,nested:l}),t==null||t(p,x,v)}),h=w.useMemo(()=>({setPositionReference:d}),[]),m=w.useMemo(()=>({reference:A||a.reference||null,floating:a.floating||null,domReference:a.reference}),[A,a.reference,a.floating]);return w.useMemo(()=>({dataRef:i,open:r,onOpenChange:f,elements:m,events:o,floatingId:s,refs:h}),[r,f,m,o,s,h])}function e7(e){e===void 0&&(e={});const{nodeId:r}=e,t=ZH({...e,elements:{reference:null,floating:null,...e.elements}}),a=e.rootContext||t,s=a.elements,[i,o]=w.useState(null),[l,A]=w.useState(null),f=(s==null?void 0:s.domReference)||i,h=w.useRef(null),m=JH();l0(()=>{f&&(h.current=f)},[f]);const p=U4({...e,elements:{...s,...l&&{reference:l}}}),x=w.useCallback(S=>{const F=Ai(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;A(F),p.refs.setReference(F)},[p.refs]),v=w.useCallback(S=>{(Ai(S)||S===null)&&(h.current=S,o(S)),(Ai(p.refs.reference.current)||p.refs.reference.current===null||S!==null&&!Ai(S))&&p.refs.setReference(S)},[p.refs]),b=w.useMemo(()=>({...p.refs,setReference:v,setPositionReference:x,domReference:h}),[p.refs,v,x]),N=w.useMemo(()=>({...p.elements,domReference:f}),[p.elements,f]),B=w.useMemo(()=>({...p,...a,refs:b,elements:N,nodeId:r}),[p,b,N,r,a]);return l0(()=>{a.dataRef.current.floatingContext=B;const S=m==null?void 0:m.nodesRef.current.find(F=>F.id===r);S&&(S.context=B)}),w.useMemo(()=>({...p,context:B,refs:b,elements:N}),[p,b,N,B])}/*!
  react-datepicker v8.8.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var x1=function(r,t){return x1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},x1(r,t)};function Fs(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");x1(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var ra=function(){return ra=Object.assign||function(t){for(var a,s=1,i=arguments.length;s<i;s++){a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},ra.apply(this,arguments)};function $l(e,r,t){if(t||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var t7=function(e){var r=e.showTimeSelectOnly,t=r===void 0?!1:r,a=e.showTime,s=a===void 0?!1:a,i=e.className,o=e.children,l=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return He.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},r7=function(e,r){var t=w.useRef(null),a=w.useRef(e);a.current=e;var s=w.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(A){return A instanceof Node})||i.target;t.current&&!t.current.contains(l)&&(r&&l instanceof HTMLElement&&l.classList.contains(r)||(o=a.current)===null||o===void 0||o.call(a,i))},[r]);return w.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},cx=function(e){var r=e.children,t=e.onClickOutside,a=e.className,s=e.containerRef,i=e.style,o=e.ignoreClass,l=r7(t,o);return He.createElement("div",{className:a,style:i,ref:function(A){l.current=A,s&&(s.current=A)}},r)},Dt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Dt||(Dt={}));function V_(){var e=typeof window<"u"?window:globalThis;return e}var Lm=12;function ba(e){if(e==null)return new Date;var r=typeof e=="string"?O_(e):rr(e);return Ax(r)?r:new Date}function Hv(e,r,t,a,s){s===void 0&&(s=ba());for(var i=Tf(t)||Tf(eb()),o=Array.isArray(r)?r:[r],l=0,A=o;l<A.length;l++){var d=A[l],f=pH(e,d,s,{locale:i});if(Ax(f)&&(!a||e===Ga(f,d,t)))return f}return null}function Ax(e,r){return a0(e)&&!Kl(e,new Date("1/1/1800"))}function Ga(e,r,t){if(t==="en")return $A(e,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var a=t?Tf(t):void 0;return t&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),a=a||Tf(eb()),$A(e,r,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function eo(e,r){var t=r.dateFormat,a=r.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return e&&Ga(e,s,a)||""}var z_=" - ";function a7(e,r,t){if(!e&&!r)return"";var a=e?eo(e,t):"",s=r?eo(r,t):"",i=t.rangeSeparator||z_;return"".concat(a).concat(i).concat(s)}function n7(e,r){if(!(e!=null&&e.length))return"";var t=e[0]?eo(e[0],r):"";if(e.length===1)return t;if(e.length===2&&e[1]){var a=eo(e[1],r);return"".concat(t,", ").concat(a)}var s=e.length-1;return"".concat(t," (+").concat(s,")")}function Kv(e,r){var t=r.hour,a=t===void 0?0:t,s=r.minute,i=s===void 0?0:s,o=r.second,l=o===void 0?0:o;return Bg(Cg(Sg(e,l),i),a)}function s7(e){return Yy(e)}function i7(e,r){return Ga(e,"ddd",r)}function Eg(e){return mu(e)}function ZA(e,r,t){var a=Tf(r||eb());return tA(e,{locale:a,weekStartsOn:t})}function Xc(e){return k_(e)}function Th(e){return lx(e)}function ej(e){return m1(e)}function tj(){return mu(ba())}function rj(e){return __(e)}function o7(e){return N8(e)}function l7(e){return F_(e)}function Pl(e,r){return e&&r?wH(e,r):!e&&!r}function ci(e,r){return e&&r?xH(e,r):!e&&!r}function c0(e,r){return e&&r?vH(e,r):!e&&!r}function ta(e,r){return e&&r?y8(e,r):!e&&!r}function Zd(e,r){return e&&r?yO(e,r):!e&&!r}function zd(e,r,t){var a,s=mu(r),i=__(t);try{a=um(e,{start:s,end:i})}catch{a=!1}return a}function eb(){var e=V_();return e.__localeId__}function Tf(e){if(typeof e=="string"){var r=V_();return r.__localeData__?r.__localeData__[e]:void 0}else return e}function c7(e,r,t){return r(Ga(e,"EEEE",t))}function A7(e,r){return Ga(e,"EEEEEE",r)}function d7(e,r){return Ga(e,"EEE",r)}function tb(e,r){return Ga(to(ba(),e),"LLLL",r)}function q_(e,r){return Ga(to(ba(),e),"LLL",r)}function u7(e,r){return Ga(pf(ba(),e),"QQQ",r)}function Bo(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.excludeDateIntervals,l=t.includeDates,A=t.includeDateIntervals,d=t.filterDate,f=t.disabled;return f?!0:Im(e,{minDate:a,maxDate:s})||i&&i.some(function(h){return h instanceof Date?ta(e,h):ta(e,h.date)})||o&&o.some(function(h){var m=h.start,p=h.end;return um(e,{start:m,end:p})})||l&&!l.some(function(h){return ta(e,h)})||A&&!A.some(function(h){var m=h.start,p=h.end;return um(e,{start:m,end:p})})||d&&!d(ba(e))||!1}function rb(e,r){var t=r===void 0?{}:r,a=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,l=i.end;return um(e,{start:o,end:l})}):a&&a.some(function(i){var o;return i instanceof Date?ta(e,i):ta(e,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function W_(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate;return Im(e,{minDate:a?k_(a):void 0,maxDate:s?F_(s):void 0})||(i==null?void 0:i.some(function(A){return ci(e,A instanceof Date?A:A.date)}))||o&&!o.some(function(A){return ci(e,A)})||l&&!l(ba(e))||!1}function kp(e,r,t,a){var s=Vr(e),i=Js(e),o=Vr(r),l=Js(r),A=Vr(a);return s===o&&s===A?i<=t&&t<=l:s<o?A===s&&i<=t||A===o&&l>=t||A<o&&A>s:!1}function f7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates;return Im(e,{minDate:a,maxDate:s})||i&&i.some(function(l){return ci(l instanceof Date?l:l.date,e)})||o&&!o.some(function(l){return ci(l,e)})||!1}function Dp(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate,A=t.disabled;return A?!0:Im(e,{minDate:a,maxDate:s})||(i==null?void 0:i.some(function(d){return c0(e,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return c0(e,d)})||l&&!l(ba(e))||!1}function Up(e,r,t){if(!r||!t||!a0(r)||!a0(t))return!1;var a=Vr(r),s=Vr(t);return a<=e&&s>=e}function _g(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,l=t.filterDate,A=t.disabled;if(A)return!0;var d=new Date(e,0,1);return Im(d,{minDate:a?lx(a):void 0,maxDate:s?D_(s):void 0})||(i==null?void 0:i.some(function(f){return Pl(d,f instanceof Date?f:f.date)}))||o&&!o.some(function(f){return Pl(d,f)})||l&&!l(ba(d))||!1}function Lp(e,r,t,a){var s=Vr(e),i=au(e),o=Vr(r),l=au(r),A=Vr(a);return s===o&&s===A?i<=t&&t<=l:s<o?A===s&&i<=t||A===o&&l>=t||A<o&&A>s:!1}function Im(e,r){var t,a=r===void 0?{}:r,s=a.minDate,i=a.maxDate;return(t=s&&Qf(e,s)<0||i&&Qf(e,i)>0)!==null&&t!==void 0?t:!1}function aj(e,r){return r.some(function(t){return Gc(t)===Gc(e)&&Yc(t)===Yc(e)&&JA(t)===JA(e)})}function nj(e,r){var t=r===void 0?{}:r,a=t.excludeTimes,s=t.includeTimes,i=t.filterTime;return a&&aj(e,a)||s&&!aj(e,s)||i&&!i(e)||!1}function sj(e,r){var t=r.minTime,a=r.maxTime;if(!t||!a)throw new Error("Both minTime and maxTime props required");var s=ba();s=Bg(s,Gc(e)),s=Cg(s,Yc(e)),s=Sg(s,JA(e));var i=ba();i=Bg(i,Gc(t)),i=Cg(i,Yc(t)),i=Sg(i,JA(t));var o=ba();o=Bg(o,Gc(a)),o=Cg(o,Yc(a)),o=Sg(o,JA(a));var l;try{l=!um(s,{start:i,end:o})}catch{l=!1}return l}function ij(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=nu(e,1);return a&&n0(a,i)>0||s&&s.every(function(o){return n0(o,i)>0})||!1}function oj(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=ll(e,1);return a&&n0(i,a)>0||s&&s.every(function(o){return n0(i,o)>0})||!1}function h7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=lx(e),o=K_(i);return a&&s0(a,o)>0||s&&s.every(function(l){return s0(l,o)>0})||!1}function m7(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=D_(e),o=Gy(i,1);return a&&s0(o,a)>0||s&&s.every(function(l){return s0(o,l)>0})||!1}function lj(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.includeDates,i=Rf(e,1);return a&&i0(a,i)>0||s&&s.every(function(o){return i0(o,i)>0})||!1}function p7(e,r){var t=r===void 0?{}:r,a=t.minDate,s=t.yearItemNumber,i=s===void 0?Lm:s,o=Th(Rf(e,i)),l=Hc(o,i).endPeriod,A=a&&Vr(a);return A&&A>l||!1}function cj(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.includeDates,i=qc(e,1);return a&&i0(i,a)>0||s&&s.every(function(o){return i0(i,o)>0})||!1}function g7(e,r){var t=r===void 0?{}:r,a=t.maxDate,s=t.yearItemNumber,i=s===void 0?Lm:s,o=qc(e,i),l=Hc(o,i).startPeriod,A=a&&Vr(a);return A&&A<l||!1}function G_(e){var r=e.minDate,t=e.includeDates;if(t&&r){var a=t.filter(function(s){return Qf(s,r)>=0});return $N(a)}else return t?$N(t):r}function Y_(e){var r=e.maxDate,t=e.includeDates;if(t&&r){var a=t.filter(function(s){return Qf(s,r)<=0});return KN(a)}else return t?KN(t):r}function Aj(e,r){var t;e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var a=new Map,s=0,i=e.length;s<i;s++){var o=e[s];if(Wc(o)){var l=Ga(o,"MM.dd.yyyy"),A=a.get(l)||[];A.includes(r)||(A.push(r),a.set(l,A))}else if(typeof o=="object"){var d=Object.keys(o),f=(t=d[0])!==null&&t!==void 0?t:"",h=o[f];if(typeof f=="string"&&Array.isArray(h))for(var m=0,p=h.length;m<p;m++){var x=h[m];if(x){var l=Ga(x,"MM.dd.yyyy"),A=a.get(l)||[];A.includes(f)||(A.push(f),a.set(l,A))}}}}return a}function x7(e,r){return e.length!==r.length?!1:e.every(function(t,a){return t===r[a]})}function v7(e,r){e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(a){var s=a.date,i=a.holidayName;if(Wc(s)){var o=Ga(s,"MM.dd.yyyy"),l=t.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===r&&x7(l.holidayNames,[i]))){l.className=r;var A=l.holidayNames;l.holidayNames=A?$l($l([],A,!0),[i],!1):[i],t.set(o,l)}}}),t}function w7(e,r,t,a,s){for(var i=s.length,o=[],l=0;l<i;l++){var A=e,d=s[l];d&&(A=g8(A,Gc(d)),A=h1(A,Yc(d)),A=w8(A,JA(d)));var f=h1(e,(t+1)*a);od(A,r)&&Kl(A,f)&&d!=null&&o.push(d)}return o}function dj(e){return e<10?"0".concat(e):"".concat(e)}function Hc(e,r){r===void 0&&(r=Lm);var t=Math.ceil(Vr(e)/r)*r,a=t-(r-1);return{startPeriod:a,endPeriod:t}}function y7(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+r)/36e5)}function uj(e){var r=e.getSeconds(),t=e.getMilliseconds();return rr(e.getTime()-r*1e3-t)}function b7(e,r){return uj(e).getTime()===uj(r).getTime()}function fj(e){if(!Wc(e))throw new Error("Invalid date");var r=new Date(e);return r.setHours(0,0,0,0),r}function $v(e,r){if(!Wc(e)||!Wc(r))throw new Error("Invalid date received");var t=fj(e),a=fj(r);return Kl(t,a)}function X_(e){return e.key===Dt.Space}var N7=(function(e){Fs(r,e);function r(t){var a=e.call(this,t)||this;return a.inputRef=He.createRef(),a.onTimeChange=function(s){var i,o;a.setState({time:s});var l=a.props.date,A=l instanceof Date&&!isNaN(+l),d=A?l:new Date;if(s!=null&&s.includes(":")){var f=s.split(":"),h=f[0],m=f[1];d.setHours(Number(h)),d.setMinutes(Number(m))}(o=(i=a.props).onChange)===null||o===void 0||o.call(i,d)},a.renderTimeInput=function(){var s=a.state.time,i=a.props,o=i.date,l=i.timeString,A=i.customTimeInput;return A?w.cloneElement(A,{date:o,value:s,onChange:a.onTimeChange}):He.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var d;(d=a.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:s,onChange:function(d){a.onTimeChange(d.target.value||l)}})},a.state={time:a.props.timeString},a}return r.getDerivedStateFromProps=function(t,a){return t.timeString!==a.time?{time:t.timeString}:null},r.prototype.render=function(){return He.createElement("div",{className:"react-datepicker__input-time-container"},He.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),He.createElement("div",{className:"react-datepicker-time__input-container"},He.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r})(w.Component),j7=(function(e){Fs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=w.createRef(),t.handleClick=function(a){!t.isDisabled()&&t.props.onClick&&t.props.onClick(a)},t.handleMouseEnter=function(a){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(a)},t.handleOnKeyDown=function(a){var s,i,o=a.key;o===Dt.Space&&(a.preventDefault(),a.key=Dt.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,a)},t.isSameDay=function(a){return ta(t.props.day,a)},t.isKeyboardSelected=function(){var a;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(a=t.props.selectedDates)===null||a===void 0?void 0:a.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),i=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!i},t.isDisabled=function(a){return a===void 0&&(a=t.props.day),Bo(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return rb(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return ta(t.props.day,ZA(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(a){return t.props.showWeekPicker&&ta(a,ZA(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(a){return t.isSameDay(a)||t.isSameWeek(a)},t.getHighLightedClass=function(){var a=t.props,s=a.day,i=a.highlightDates;if(!i)return!1;var o=Ga(s,"MM.dd.yyyy");return i.get(o)},t.getHolidaysClass=function(){var a,s=t.props,i=s.day,o=s.holidays;if(!o)return[void 0];var l=Ga(i,"MM.dd.yyyy");return o.has(l)?[(a=o.get(l))===null||a===void 0?void 0:a.className]:[void 0]},t.isInRange=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:zd(s,i,o)},t.isInSelectingRange=function(){var a,s=t.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,A=s.selectsRange,d=s.selectsDisabledDaysInRange,f=s.startDate,h=s.swapRange,m=s.endDate,p=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;if(!(o||l||A)||!p||!d&&t.isDisabled())return!1;if(o&&m&&(Kl(p,m)||Zd(p,m)))return zd(i,p,m);if(l&&f&&(od(p,f)||Zd(p,f)))return zd(i,f,p);if(A&&f&&!m){if(Zd(p,f)||od(p,f))return zd(i,f,p);if(h&&Kl(p,f))return zd(i,p,f)}return!1},t.isSelectingRangeStart=function(){var a;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.startDate,l=s.selectsStart,A=s.swapRange,d=s.selectsRange,f=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return l?ta(i,f):d&&A&&o&&f?ta(i,Kl(f,o)?f:o):ta(i,o)},t.isSelectingRangeEnd=function(){var a;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.endDate,l=s.selectsEnd,A=s.selectsRange,d=s.swapRange,f=s.startDate,h=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return l?ta(i,h):A&&d&&f&&h?ta(i,Kl(h,f)?f:h):A?ta(i,h):ta(i,o)},t.isRangeStart=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:ta(i,s)},t.isRangeEnd=function(){var a=t.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:ta(o,s)},t.isWeekend=function(){var a=gO(t.props.day);return a===0||a===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Js(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Js(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ba())},t.isSelected=function(){var a;return t.props.selectsMultiple?(a=t.props.selectedDates)===null||a===void 0?void 0:a.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(a){var s=t.props.dayClassName?t.props.dayClassName(a):void 0;return vs("react-datepicker__day",s,"react-datepicker__day--"+i7(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var a=t.props,s=a.day,i=a.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=a.ariaLabelPrefixWhenDisabled,A=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?A:o;return"".concat(d," ").concat(Ga(s,"PPPP",t.props.locale))},t.getTitle=function(){var a=t.props,s=a.day,i=a.holidays,o=i===void 0?new Map:i,l=a.excludeDates,A=Ga(s,"MM.dd.yyyy"),d=[];return o.has(A)&&d.push.apply(d,o.get(A).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(f){return f instanceof Date?ta(f,s):ta(f==null?void 0:f.date,s)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},t.getTabIndex=function(){var a=t.props.selected,s=t.props.preSelection,i=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(a)&&ta(s,a))?0:-1;return i},t.handleFocusDay=function(){var a;t.shouldFocusDay()&&((a=t.dayEl.current)===null||a===void 0||a.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(YN(t.props.day),t.props.day):YN(t.props.day)},t.render=function(){return He.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&He.createElement("span",{className:"overlay"},t.getTitle()))},t}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},r.prototype.isDayActiveElement=function(){var t,a,s;return((a=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||a===void 0?void 0:a.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r})(w.Component),B7=(function(e){Fs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=w.createRef(),t.handleClick=function(a){t.props.onClick&&t.props.onClick(a)},t.handleOnKeyDown=function(a){var s,i,o=a.key;o===Dt.Space&&(a.preventDefault(),a.key=Dt.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,a)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ta(t.props.date,t.props.selected)&&ta(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||ta(t.props.date,t.props.selected)&&ta(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(a){var s=!1;t.getTabIndex()===0&&!(a!=null&&a.isInputFocused)&&ta(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},r.prototype.render=function(){var t=this.props,a=t.weekNumber,s=t.isWeekDisabled,i=t.ariaLabelPrefix,o=i===void 0?r.defaultProps.ariaLabelPrefix:i,l=t.onClick,A={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!s,"react-datepicker__week-number--selected":!!l&&ta(this.props.date,this.props.selected)};return He.createElement("div",{ref:this.weekNumberEl,className:vs(A),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},a)},r})(w.Component),C7=(function(e){Fs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(a){return Bo(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(a,s){t.props.onDayClick&&t.props.onDayClick(a,s)},t.handleDayMouseEnter=function(a){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(a)},t.handleWeekClick=function(a,s,i){for(var o,l,A,d=new Date(a),f=0;f<7;f++){var h=new Date(a);h.setDate(h.getDate()+f);var m=!t.isDisabled(h);if(m){d=h;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,s,i),t.props.showWeekPicker&&t.handleDayClick(d,i),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:r.defaultProps.shouldCloseOnSelect)&&((A=(l=t.props).setOpen)===null||A===void 0||A.call(l,!1))},t.formatWeekNumber=function(a){return t.props.formatWeekNumber?t.props.formatWeekNumber(a):s7(a)},t.isWeekDisabled=function(){for(var a=t.startOfWeek(),s=sl(a,6),i=new Date(a);i<=s;){if(!t.isDisabled(i))return!1;i=sl(i,1)}return!0},t.renderDays=function(){var a=t.startOfWeek(),s=[],i=t.formatWeekNumber(a);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,a,i):void 0;s.push(He.createElement(B7,ra({key:"W"},r.defaultProps,t.props,{weekNumber:i,isWeekDisabled:t.isWeekDisabled(),date:a,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(l){var A=sl(a,l);return He.createElement(j7,ra({},r.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:A.valueOf(),day:A,onClick:t.handleDayClick.bind(t,A),onMouseEnter:t.handleDayMouseEnter.bind(t,A)}))}))},t.startOfWeek=function(){return ZA(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ta(t.startOfWeek(),t.props.selected)&&ta(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":ta(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},a=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return He.createElement("div",{className:vs(t,a),role:"row"},this.renderDays())},r})(w.Component),Fh,S7=6,Cf={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Vv=(Fh={},Fh[Cf.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Fh[Cf.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Fh[Cf.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Fh),Ip=1;function hj(e,r){return e?Cf.FOUR_COLUMNS:r?Cf.TWO_COLUMNS:Cf.THREE_COLUMNS}var E7=(function(e){Fs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=$l([],Array(12),!0).map(function(){return w.createRef()}),t.QUARTER_REFS=$l([],Array(4),!0).map(function(){return w.createRef()}),t.isDisabled=function(a){return Bo(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(a){return rb(a,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(a,s){var i,o;(o=(i=t.props).onDayClick)===null||o===void 0||o.call(i,a,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(a){var s,i;(i=(s=t.props).onDayMouseEnter)===null||i===void 0||i.call(s,a)},t.handleMouseLeave=function(){var a,s;(s=(a=t.props).onMouseLeave)===null||s===void 0||s.call(a)},t.isRangeStartMonth=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:ci(to(i,a),o)},t.isRangeStartQuarter=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:c0(pf(i,a),o)},t.isRangeEndMonth=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:ci(to(i,a),l)},t.isRangeEndQuarter=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:c0(pf(i,a),l)},t.isInSelectingRangeMonth=function(a){var s,i=t.props,o=i.day,l=i.selectsStart,A=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(l||A||d)||!m?!1:l&&h?kp(m,h,a,o):A&&f||d&&f&&!h?kp(f,m,a,o):!1},t.isSelectingMonthRangeStart=function(a){var s;if(!t.isInSelectingRangeMonth(a))return!1;var i=t.props,o=i.day,l=i.startDate,A=i.selectsStart,d=to(o,a),f=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return A?ci(d,f):ci(d,l)},t.isSelectingMonthRangeEnd=function(a){var s;if(!t.isInSelectingRangeMonth(a))return!1;var i=t.props,o=i.day,l=i.endDate,A=i.selectsEnd,d=i.selectsRange,f=to(o,a),h=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return A||d?ci(f,h):ci(f,l)},t.isInSelectingRangeQuarter=function(a){var s,i=t.props,o=i.day,l=i.selectsStart,A=i.selectsEnd,d=i.selectsRange,f=i.startDate,h=i.endDate,m=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(l||A||d)||!m?!1:l&&h?Lp(m,h,a,o):A&&f||d&&f&&!h?Lp(f,m,a,o):!1},t.isWeekInMonth=function(a){var s=t.props.day,i=sl(a,6);return ci(a,s)||ci(i,s)},t.isCurrentMonth=function(a,s){return Vr(a)===Vr(ba())&&s===Js(ba())},t.isCurrentQuarter=function(a,s){return Vr(a)===Vr(ba())&&s===au(ba())},t.isSelectedMonth=function(a,s,i){return Js(i)===s&&Vr(a)===Vr(i)},t.isSelectMonthInList=function(a,s,i){return i.some(function(o){return t.isSelectedMonth(a,s,o)})},t.isSelectedQuarter=function(a,s,i){return au(a)===s&&Vr(a)===Vr(i)},t.isMonthSelected=function(){var a=t.props,s=a.day,i=a.selected,o=a.selectedDates,l=a.selectsMultiple,A=Js(s);return l?o==null?void 0:o.some(function(d){return t.isSelectedMonth(s,A,d)}):!!i&&t.isSelectedMonth(s,A,i)},t.renderWeeks=function(){for(var a=[],s=t.props.fixedHeight,i=0,o=!1,l=ZA(Xc(t.props.day),t.props.locale,t.props.calendarStartDay),A=function(x){return t.props.showWeekPicker?ZA(x,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(x){return t.props.showWeekPicker?ZA(x,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,h=t.props.preSelection?A(t.props.preSelection):void 0;a.push(He.createElement(C7,ra({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:l,month:Js(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:h,showWeekNumber:t.props.showWeekNumbers}))),!o;){i++,l=r0(l,1);var m=s&&i>=S7,p=!s&&!t.isWeekInMonth(l);if(m||p)if(t.props.peekNextMonth)o=!0;else break}return a},t.onMonthClick=function(a,s){var i=t.isMonthDisabledForLabelDate(s),o=i.isDisabled,l=i.labelDate;o||t.handleDayClick(Xc(l),a)},t.onMonthMouseEnter=function(a){var s=t.isMonthDisabledForLabelDate(a),i=s.isDisabled,o=s.labelDate;i||t.handleDayMouseEnter(Xc(o))},t.handleMonthNavigation=function(a,s){var i,o,l,A;(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(A=(l=t.MONTH_REFS[a])===null||l===void 0?void 0:l.current)===null||A===void 0||A.focus()},t.handleKeyboardNavigation=function(a,s,i){var o,l=t.props,A=l.selected,d=l.preSelection,f=l.setPreSelection,h=l.minDate,m=l.maxDate,p=l.showFourColumnMonthYearPicker,x=l.showTwoColumnMonthYearPicker;if(d){var v=hj(p,x),b=t.getVerticalOffset(v),N=(o=Vv[v])===null||o===void 0?void 0:o.grid,B=function(U,I,_){var W,Q,K=I,X=_;switch(U){case Dt.ArrowRight:K=ll(I,Ip),X=_===11?0:_+Ip;break;case Dt.ArrowLeft:K=nu(I,Ip),X=_===0?11:_-Ip;break;case Dt.ArrowUp:K=nu(I,b),X=!((W=N==null?void 0:N[0])===null||W===void 0)&&W.includes(_)?_+12-b:_-b;break;case Dt.ArrowDown:K=ll(I,b),X=!((Q=N==null?void 0:N[N.length-1])===null||Q===void 0)&&Q.includes(_)?_-12+b:_+b;break}return{newCalculatedDate:K,newCalculatedMonth:X}},S=function(U,I,_){for(var W=40,Q=U,K=!1,X=0,R=B(Q,I,_),re=R.newCalculatedDate,$=R.newCalculatedMonth;!K;){if(X>=W){re=I,$=_;break}if(h&&re<h){Q=Dt.ArrowRight;var V=B(Q,re,$);re=V.newCalculatedDate,$=V.newCalculatedMonth}if(m&&re>m){Q=Dt.ArrowLeft;var V=B(Q,re,$);re=V.newCalculatedDate,$=V.newCalculatedMonth}if(f7(re,t.props)){var V=B(Q,re,$);re=V.newCalculatedDate,$=V.newCalculatedMonth}else K=!0;X++}return{newCalculatedDate:re,newCalculatedMonth:$}};if(s===Dt.Enter){t.isMonthDisabled(i)||(t.onMonthClick(a,i),f==null||f(A));return}var F=S(s,d,i),L=F.newCalculatedDate,M=F.newCalculatedMonth;switch(s){case Dt.ArrowRight:case Dt.ArrowLeft:case Dt.ArrowUp:case Dt.ArrowDown:t.handleMonthNavigation(M,L);break}}},t.getVerticalOffset=function(a){var s,i;return(i=(s=Vv[a])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},t.onMonthKeyDown=function(a,s){var i=t.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,A=a.key;A!==Dt.Tab&&a.preventDefault(),o||t.handleKeyboardNavigation(a,A,s),l&&l(a)},t.onQuarterClick=function(a,s){var i=pf(t.props.day,s);Dp(i,t.props)||t.handleDayClick(ej(i),a)},t.onQuarterMouseEnter=function(a){var s=pf(t.props.day,a);Dp(s,t.props)||t.handleDayMouseEnter(ej(s))},t.handleQuarterNavigation=function(a,s){var i,o,l,A;t.isDisabled(s)||t.isExcluded(s)||((o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(A=(l=t.QUARTER_REFS[a-1])===null||l===void 0?void 0:l.current)===null||A===void 0||A.focus())},t.onQuarterKeyDown=function(a,s){var i,o,l=a.key;if(!t.props.disabledKeyboardNavigation)switch(l){case Dt.Enter:t.onQuarterClick(a,s),(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,t.props.selected);break;case Dt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,Gy(t.props.preSelection,1));break;case Dt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,K_(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(a){var s,i=t.props,o=i.day,l=i.disabled,A=i.minDate,d=i.maxDate,f=i.excludeDates,h=i.includeDates,m=to(o,a);return l?{isDisabled:!0,labelDate:to(o,a)}:{isDisabled:(s=(A||d||f||h)&&W_(m,t.props))!==null&&s!==void 0?s:!1,labelDate:m}},t.isMonthDisabled=function(a){var s=t.isMonthDisabledForLabelDate(a).isDisabled;return s},t.getMonthClassNames=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate,A=s.preSelection,d=s.monthClassName,f=d?d(to(i,a)):void 0,h=t.getSelection();return vs("react-datepicker__month-text","react-datepicker__month-".concat(a),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(a),"react-datepicker__month-text--selected":h?t.isSelectMonthInList(i,a,h):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&A&&t.isSelectedMonth(i,a,A)&&!t.isMonthSelected()&&!t.isMonthDisabled(a),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(a),"react-datepicker__month-text--in-range":o&&l?kp(o,l,a,i):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(a),"react-datepicker__month-text--range-end":t.isRangeEndMonth(a),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(a),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(a),"react-datepicker__month-text--today":t.isCurrentMonth(i,a)})},t.getTabIndex=function(a){if(t.props.preSelection==null)return"-1";var s=Js(t.props.preSelection),i=t.isMonthDisabledForLabelDate(s).isDisabled,o=a===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(a){if(t.props.preSelection==null)return"-1";var s=au(t.props.preSelection),i=Dp(t.props.day,t.props),o=a===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(a){var s=t.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=s.disabledDayAriaLabelPrefix,A=l===void 0?"Not available":l,d=s.day,f=s.locale,h=to(d,a),m=t.isDisabled(h)||t.isExcluded(h)?A:o;return"".concat(m," ").concat(Ga(h,"MMMM yyyy",f))},t.getQuarterClassNames=function(a){var s=t.props,i=s.day,o=s.startDate,l=s.endDate,A=s.selected,d=s.minDate,f=s.maxDate,h=s.excludeDates,m=s.includeDates,p=s.filterDate,x=s.preSelection,v=s.disabledKeyboardNavigation,b=s.disabled,N=(d||f||h||m||p||b)&&Dp(pf(i,a),t.props);return vs("react-datepicker__quarter-text","react-datepicker__quarter-".concat(a),{"react-datepicker__quarter-text--disabled":N,"react-datepicker__quarter-text--selected":A?t.isSelectedQuarter(i,a,A):void 0,"react-datepicker__quarter-text--keyboard-selected":!v&&x&&t.isSelectedQuarter(i,a,x)&&!N,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(a),"react-datepicker__quarter-text--in-range":o&&l?Lp(o,l,a,i):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(a),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(a),"react-datepicker__quarter-text--today":t.isCurrentQuarter(i,a)})},t.getMonthContent=function(a){var s=t.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,l=s.locale,A=s.day,d=q_(a,l),f=tb(a,l);return o?o(a,d,f,A):i?f:d},t.getQuarterContent=function(a){var s,i=t.props,o=i.renderQuarterContent,l=i.locale,A=u7(a,l);return(s=o==null?void 0:o(a,A))!==null&&s!==void 0?s:A},t.renderMonths=function(){var a,s=t.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,l=s.day,A=s.selected,d=(a=Vv[hj(o,i)])===null||a===void 0?void 0:a.grid;return d==null?void 0:d.map(function(f,h){return He.createElement("div",{className:"react-datepicker__month-wrapper",key:h},f.map(function(m,p){return He.createElement("div",{ref:t.MONTH_REFS[m],key:p,onClick:function(x){t.onMonthClick(x,m)},onKeyDown:function(x){X_(x)&&(x.preventDefault(),x.key=Dt.Enter),t.onMonthKeyDown(x,m)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(m)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(m)}:void 0,tabIndex:Number(t.getTabIndex(m)),className:t.getMonthClassNames(m),"aria-disabled":t.isMonthDisabled(m),role:"option","aria-label":t.getAriaLabel(m),"aria-current":t.isCurrentMonth(l,m)?"date":void 0,"aria-selected":A?t.isSelectedMonth(l,m,A):void 0},t.getMonthContent(m))}))})},t.renderQuarters=function(){var a=t.props,s=a.day,i=a.selected,o=[1,2,3,4];return He.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,A){return He.createElement("div",{key:A,ref:t.QUARTER_REFS[A],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":i?t.isSelectedQuarter(s,l,i):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(s,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var a=t.props,s=a.selectingDate,i=a.selectsStart,o=a.selectsEnd,l=a.showMonthYearPicker,A=a.showQuarterYearPicker,d=a.showWeekPicker;return vs("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":A},{"react-datepicker__weekPicker":d})},t}return r.prototype.getSelection=function(){var t=this.props,a=t.selected,s=t.selectedDates,i=t.selectsMultiple;if(i)return s;if(a)return[a]},r.prototype.render=function(){var t=this.props,a=t.showMonthYearPicker,s=t.showQuarterYearPicker,i=t.day,o=t.ariaLabelPrefix,l=o===void 0?"Month ":o,A=l?l.trim()+" ":"",d=a||s;return d?He.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(A).concat(Ga(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():this.renderQuarters()):He.createElement("div",{role:"table"},this.props.dayNamesHeader&&He.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),He.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(A).concat(Ga(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},r})(w.Component),_7=(function(e){Fs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(a){return t.props.month===a},t.handleOptionKeyDown=function(a,s){var i;switch(s.key){case"Enter":s.preventDefault(),t.onChange(a);break;case"Escape":s.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(a+(s.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(i=t.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(a,s){return He.createElement("div",{ref:function(i){t.monthOptionButtonsRef[s]=i,t.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:a,onClick:t.onChange.bind(t,s),onKeyDown:t.handleOptionKeyDown.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?He.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",a)})},t.onChange=function(a){return t.props.onChange(a)},t.handleClickOutside=function(){return t.props.onCancel()},t}return r.prototype.render=function(){return He.createElement(cx,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r})(w.Component),F7=(function(e){Fs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(a){return a.map(function(s,i){return He.createElement("option",{key:s,value:i},s)})},t.renderSelectMode=function(a){return He.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(a))},t.renderReadView=function(a,s){return He.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},He.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),He.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(a){return He.createElement(_7,ra({key:"dropdown"},t.props,{monthNames:a,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(a){var s=t.state.dropdownVisible,i=[t.renderReadView(!s,a)];return s&&i.unshift(t.renderDropdown(a)),i},t.onChange=function(a){t.toggleDropdown(),a!==t.props.month&&t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return q_(i,t.props.locale)}:function(i){return tb(i,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(a);break;case"select":s=this.renderSelectMode(a);break}return He.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},r})(w.Component);function k7(e,r){for(var t=[],a=Xc(e),s=Xc(r);!od(a,s);)t.push(ba(a)),a=ll(a,1);return t}var D7=(function(e){Fs(r,e);function r(t){var a=e.call(this,t)||this;return a.renderOptions=function(){return a.state.monthYearsList.map(function(s){var i=g1(s),o=Pl(a.props.date,s)&&ci(a.props.date,s);return He.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:a.onChange.bind(a,i),"aria-selected":o?"true":void 0},o?He.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ga(s,a.props.dateFormat,a.props.locale))})},a.onChange=function(s){return a.props.onChange(s)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:k7(a.props.minDate,a.props.maxDate)},a}return r.prototype.render=function(){var t=vs({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return He.createElement(cx,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},r})(w.Component),U7=(function(e){Fs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var a=Xc(t.props.minDate),s=Xc(t.props.maxDate),i=[];!od(a,s);){var o=g1(a);i.push(He.createElement("option",{key:o,value:o},Ga(a,t.props.dateFormat,t.props.locale))),a=ll(a,1)}return i},t.onSelectChange=function(a){t.onChange(parseInt(a.target.value))},t.renderSelectMode=function(){return He.createElement("select",{value:g1(Xc(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(a){var s=Ga(t.props.date,t.props.dateFormat,t.props.locale);return He.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},He.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),He.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return He.createElement(D7,ra({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var a=t.state.dropdownVisible,s=[t.renderReadView(!a)];return a&&s.unshift(t.renderDropdown()),s},t.onChange=function(a){t.toggleDropdown();var s=ba(a);Pl(t.props.date,s)&&ci(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return He.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},r})(w.Component),L7=(function(e){Fs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var a,s,i;t.list&&(t.list.scrollTop=(i=t.centerLi&&r.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(a=t.header)===null||a===void 0?void 0:a.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&i!==void 0?i:0)})},t.handleClick=function(a){var s,i;(t.props.minTime||t.props.maxTime)&&sj(a,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&nj(a,t.props)||(i=(s=t.props).onChange)===null||i===void 0||i.call(s,a)},t.isSelectedTime=function(a){return t.props.selected&&b7(t.props.selected,a)},t.isDisabledTime=function(a){return(t.props.minTime||t.props.maxTime)&&sj(a,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&nj(a,t.props)},t.liClasses=function(a){var s,i=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(a):void 0];return t.isSelectedTime(a)&&i.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(a)&&i.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Gc(a)*3600+Yc(a)*60+JA(a))%(((s=t.props.intervals)!==null&&s!==void 0?s:r.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},t.handleOnKeyDown=function(a,s){var i,o;a.key===Dt.Space&&(a.preventDefault(),a.key=Dt.Enter),(a.key===Dt.ArrowUp||a.key===Dt.ArrowLeft)&&a.target instanceof HTMLElement&&a.target.previousSibling&&(a.preventDefault(),a.target.previousSibling instanceof HTMLElement&&a.target.previousSibling.focus()),(a.key===Dt.ArrowDown||a.key===Dt.ArrowRight)&&a.target instanceof HTMLElement&&a.target.nextSibling&&(a.preventDefault(),a.target.nextSibling instanceof HTMLElement&&a.target.nextSibling.focus()),a.key===Dt.Enter&&t.handleClick(s),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,a)},t.renderTimes=function(){for(var a,s=[],i=typeof t.props.format=="string"?t.props.format:"p",o=(a=t.props.intervals)!==null&&a!==void 0?a:r.defaultProps.intervals,l=t.props.selected||t.props.openToDate||ba(),A=Eg(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(b,N){return b.getTime()-N.getTime()}),f=60*y7(l),h=f/o,m=0;m<h;m++){var p=h1(A,m*o);if(s.push(p),d){var x=w7(A,p,m,o,d);s=s.concat(x)}}var v=s.reduce(function(b,N){return N.getTime()<=l.getTime()?N:b},s[0]);return s.map(function(b){return He.createElement("li",{key:b.valueOf(),onClick:t.handleClick.bind(t,b),className:t.liClasses(b),ref:function(N){b===v&&(t.centerLi=N)},onKeyDown:function(N){t.handleOnKeyDown(N,b)},tabIndex:b===v?0:-1,role:"option","aria-selected":t.isSelectedTime(b)?"true":void 0,"aria-disabled":t.isDisabledTime(b)?"true":void 0},Ga(b,i,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?He.createElement(He.Fragment,null):He.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(a){t.header=a}},He.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},r.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},r.prototype.observeDatePickerHeightChanges=function(){var t=this,a=this.props.monthRef;this.updateContainerHeight(),a&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(a))},r.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var t=this,a,s=this.state.height;return He.createElement("div",{className:"react-datepicker__time-container ".concat(((a=this.props.todayButton)!==null&&a!==void 0?a:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),He.createElement("div",{className:"react-datepicker__time"},He.createElement("div",{className:"react-datepicker__time-box"},He.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){t.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(t,a){return a.offsetTop-(t/2-a.clientHeight/2)},r})(w.Component),mj=3,I7=(function(e){Fs(r,e);function r(t){var a=e.call(this,t)||this;return a.YEAR_REFS=$l([],Array(a.props.yearItemNumber),!0).map(function(){return w.createRef()}),a.isDisabled=function(s){return Bo(s,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(s){return rb(s,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var s;return(s=a.props.selectingDate)!==null&&s!==void 0?s:a.props.preSelection},a.updateFocusOnPaginate=function(s){var i=function(){var o,l;(l=(o=a.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},a.handleYearClick=function(s,i){a.props.onDayClick&&a.props.onDayClick(s,i)},a.handleYearNavigation=function(s,i){var o,l,A,d,f=a.props,h=f.date,m=f.yearItemNumber;if(!(h===void 0||m===void 0)){var p=Hc(h,m).startPeriod;a.isDisabled(i)||a.isExcluded(i)||((l=(o=a.props).setPreSelection)===null||l===void 0||l.call(o,i),s-p<0?a.updateFocusOnPaginate(m-(p-s)):s-p>=m?a.updateFocusOnPaginate(Math.abs(m-(s-p))):(d=(A=a.YEAR_REFS[s-p])===null||A===void 0?void 0:A.current)===null||d===void 0||d.focus())}},a.isSameDay=function(s,i){return ta(s,i)},a.isCurrentYear=function(s){return s===Vr(ba())},a.isRangeStart=function(s){return a.props.startDate&&a.props.endDate&&Pl(Il(ba(),s),a.props.startDate)},a.isRangeEnd=function(s){return a.props.startDate&&a.props.endDate&&Pl(Il(ba(),s),a.props.endDate)},a.isInRange=function(s){return Up(s,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(s){var i=a.props,o=i.selectsStart,l=i.selectsEnd,A=i.selectsRange,d=i.startDate,f=i.endDate;return!(o||l||A)||!a.selectingDate()?!1:o&&f?Up(s,a.selectingDate(),f):l&&d||A&&d&&!f?Up(s,d,a.selectingDate()):!1},a.isSelectingRangeStart=function(s){var i;if(!a.isInSelectingRange(s))return!1;var o=a.props,l=o.startDate,A=o.selectsStart,d=Il(ba(),s);return A?Pl(d,(i=a.selectingDate())!==null&&i!==void 0?i:null):Pl(d,l??null)},a.isSelectingRangeEnd=function(s){var i;if(!a.isInSelectingRange(s))return!1;var o=a.props,l=o.endDate,A=o.selectsEnd,d=o.selectsRange,f=Il(ba(),s);return A||d?Pl(f,(i=a.selectingDate())!==null&&i!==void 0?i:null):Pl(f,l??null)},a.isKeyboardSelected=function(s){if(!(a.props.disabledKeyboardNavigation||a.props.date===void 0||a.props.preSelection==null)){var i=a.props,o=i.minDate,l=i.maxDate,A=i.excludeDates,d=i.includeDates,f=i.filterDate,h=i.selected,m=Th(Il(a.props.date,s)),p=(o||l||A||d||f)&&_g(s,a.props),x=!!h&&ta(m,Th(h)),v=ta(m,Th(a.props.preSelection));return!a.props.inline&&!x&&v&&!p}},a.isSelectedYear=function(s){var i=a.props,o=i.selectsMultiple,l=i.selected,A=i.selectedDates;return o?A==null?void 0:A.some(function(d){return s===Vr(d)}):!!l&&s===Vr(l)},a.onYearClick=function(s,i){var o=a.props.date;o!==void 0&&a.handleYearClick(Th(Il(o,i)),s)},a.onYearKeyDown=function(s,i){var o,l,A=s.key,d=a.props,f=d.date,h=d.yearItemNumber,m=d.handleOnKeyDown;if(A!==Dt.Tab&&s.preventDefault(),!a.props.disabledKeyboardNavigation)switch(A){case Dt.Enter:if(a.props.selected==null)break;a.onYearClick(s,i),(l=(o=a.props).setPreSelection)===null||l===void 0||l.call(o,a.props.selected);break;case Dt.ArrowRight:if(a.props.preSelection==null)break;a.handleYearNavigation(i+1,qc(a.props.preSelection,1));break;case Dt.ArrowLeft:if(a.props.preSelection==null)break;a.handleYearNavigation(i-1,Rf(a.props.preSelection,1));break;case Dt.ArrowUp:{if(f===void 0||h===void 0||a.props.preSelection==null)break;var p=Hc(f,h).startPeriod,x=mj,v=i-x;if(v<p){var b=h%x;i>=p&&i<p+b?x=b:x+=b,v=i-x}a.handleYearNavigation(v,Rf(a.props.preSelection,x));break}case Dt.ArrowDown:{if(f===void 0||h===void 0||a.props.preSelection==null)break;var N=Hc(f,h).endPeriod,x=mj,v=i+x;if(v>N){var b=h%x;i<=N&&i>N-b?x=b:x+=b,v=i+x}a.handleYearNavigation(v,qc(a.props.preSelection,x));break}}m&&m(s)},a.getYearClassNames=function(s){var i=a.props,o=i.date,l=i.disabled,A=i.minDate,d=i.maxDate,f=i.excludeDates,h=i.includeDates,m=i.filterDate,p=i.yearClassName;return vs("react-datepicker__year-text","react-datepicker__year-".concat(s),o?p==null?void 0:p(Il(o,s)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(s),"react-datepicker__year-text--disabled":(A||d||f||h||m||l)&&_g(s,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(s),"react-datepicker__year-text--range-start":a.isRangeStart(s),"react-datepicker__year-text--range-end":a.isRangeEnd(s),"react-datepicker__year-text--in-range":a.isInRange(s),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(s),"react-datepicker__year-text--today":a.isCurrentYear(s)})},a.getYearTabIndex=function(s){if(a.props.disabledKeyboardNavigation||a.props.preSelection==null)return"-1";var i=Vr(a.props.preSelection),o=_g(s,a.props);return s===i&&!o?"0":"-1"},a.getYearContent=function(s){return a.props.renderYearContent?a.props.renderYearContent(s):s},a}return r.prototype.render=function(){var t=this,a=[],s=this.props,i=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,A=s.onYearMouseLeave;if(i===void 0)return null;for(var d=Hc(i,o),f=d.startPeriod,h=d.endPeriod,m=function(v){a.push(He.createElement("div",{ref:p.YEAR_REFS[v-f],onClick:function(b){t.onYearClick(b,v)},onKeyDown:function(b){X_(b)&&(b.preventDefault(),b.key=Dt.Enter),t.onYearKeyDown(b,v)},tabIndex:Number(p.getYearTabIndex(v)),className:p.getYearClassNames(v),onMouseEnter:p.props.usePointerEvent?void 0:function(b){return l(b,v)},onPointerEnter:p.props.usePointerEvent?function(b){return l(b,v)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(b){return A(b,v)},onPointerLeave:p.props.usePointerEvent?function(b){return A(b,v)}:void 0,key:v,"aria-current":p.isCurrentYear(v)?"date":void 0},p.getYearContent(v)))},p=this,x=f;x<=h;x++)m(x);return He.createElement("div",{className:"react-datepicker__year"},He.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))},r})(w.Component);function P7(e,r,t,a){for(var s=[],i=0;i<2*r+1;i++){var o=e+r-i,l=!0;t&&(l=Vr(t)<=o),a&&l&&(l=Vr(a)>=o),l&&s.push(o)}return s}var Q7=(function(e){Fs(r,e);function r(t){var a=e.call(this,t)||this;a.yearOptionButtonsRef={},a.handleOptionKeyDown=function(l,A){var d;switch(A.key){case"Enter":A.preventDefault(),a.onChange(l);break;case"Escape":A.preventDefault(),a.props.onCancel();break;case"ArrowUp":case"ArrowDown":{A.preventDefault();var f=l+(A.key==="ArrowUp"?1:-1);a.yearOptionButtonsRef[f]&&((d=a.yearOptionButtonsRef[f])===null||d===void 0||d.focus());break}}},a.renderOptions=function(){a.yearOptionButtonsRef={};var l=a.props.year,A=a.state.yearsList.map(function(h){return He.createElement("div",{ref:function(m){a.yearOptionButtonsRef[h]=m,h===l&&(m==null||m.focus())},role:"button",tabIndex:0,className:l===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:a.onChange.bind(a,h),onKeyDown:a.handleOptionKeyDown.bind(a,h),"aria-selected":l===h?"true":void 0},l===h?He.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),d=a.props.minDate?Vr(a.props.minDate):null,f=a.props.maxDate?Vr(a.props.maxDate):null;return(!f||!a.state.yearsList.find(function(h){return h===f}))&&A.unshift(He.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},He.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!a.state.yearsList.find(function(h){return h===d}))&&A.push(He.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},He.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),A},a.onChange=function(l){a.props.onChange(l)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(l){var A=a.state.yearsList.map(function(d){return d+l});a.setState({yearsList:A})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var s=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,o=s||(i?10:5);return a.state={yearsList:P7(a.props.year,o,a.props.minDate,a.props.maxDate)},a.dropdownRef=w.createRef(),a}return r.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var a=t.children?Array.from(t.children):null,s=a?a.find(function(i){return i.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},r.prototype.render=function(){var t=vs({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return He.createElement(cx,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r})(w.Component),R7=(function(e){Fs(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var a=t.props.minDate?Vr(t.props.minDate):1900,s=t.props.maxDate?Vr(t.props.maxDate):2100,i=[],o=a;o<=s;o++)i.push(He.createElement("option",{key:o,value:o},o));return i},t.onSelectChange=function(a){t.onChange(parseInt(a.target.value))},t.renderSelectMode=function(){return He.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(a){return He.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},He.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),He.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return He.createElement(Q7,ra({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var a=t.state.dropdownVisible,s=[t.renderReadView(!a)];return a&&s.unshift(t.renderDropdown()),s},t.onChange=function(a){t.toggleDropdown(),a!==t.props.year&&t.props.onChange(a)},t.toggleDropdown=function(a){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,a)})},t.handleYearChange=function(a,s){var i;(i=t.onSelect)===null||i===void 0||i.call(t,a,s),t.setOpen()},t.onSelect=function(a,s){var i,o;(o=(i=t.props).onSelect)===null||o===void 0||o.call(i,a,s)},t.setOpen=function(){var a,s;(s=(a=t.props).setOpen)===null||s===void 0||s.call(a,!0)},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return He.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},r})(w.Component),T7=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],J_="react-datepicker-ignore-onclickoutside",M7=function(e){var r=(e.className||"").split(/\s+/);return T7.some(function(t){return r.indexOf(t)>=0})},O7=(function(e){Fs(r,e);function r(t){var a=e.call(this,t)||this;return a.monthContainer=void 0,a.handleClickOutside=function(s){a.props.onClickOutside(s)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(s){var i,o;M7(s.target)&&((o=(i=a.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},a.getDateInView=function(){var s=a.props,i=s.preSelection,o=s.selected,l=s.openToDate,A=G_(a.props),d=Y_(a.props),f=ba(),h=l||o||i;return h||(A&&Kl(f,A)?A:d&&od(f,d)?d:f)},a.increaseMonth=function(){a.setState(function(s){var i=s.date;return{date:ll(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(s){var i=s.date;return{date:nu(i,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(s,i,o){a.props.onSelect(s,i,o),a.props.setPreSelection&&a.props.setPreSelection(s)},a.handleDayMouseEnter=function(s){a.setState({selectingDate:s}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(s)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(s,i){a.setState({selectingDate:Il(ba(),i)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(s,i)},a.handleYearMouseLeave=function(s,i){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(s,i)},a.handleYearChange=function(s){var i,o,l,A;(o=(i=a.props).onYearChange)===null||o===void 0||o.call(i,s),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(s),(A=(l=a.props).setOpen)===null||A===void 0||A.call(l,!0)),a.props.setPreSelection&&a.props.setPreSelection(s)},a.getEnabledPreSelectionDateForMonth=function(s){if(!Bo(s,a.props))return s;for(var i=Xc(s),o=l7(s),l=b8(o,i),A=null,d=0;d<=l;d++){var f=sl(i,d);if(!Bo(f,a.props)){A=f;break}}return A},a.handleMonthChange=function(s){var i,o,l,A=(i=a.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;a.handleCustomMonthChange(A),a.props.adjustDateOnChange&&(a.props.onSelect(A),(l=(o=a.props).setOpen)===null||l===void 0||l.call(o,!0)),a.props.setPreSelection&&a.props.setPreSelection(A)},a.handleCustomMonthChange=function(s){var i,o;(o=(i=a.props).onMonthChange)===null||o===void 0||o.call(i,s),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(s){a.handleYearChange(s),a.handleMonthChange(s)},a.changeYear=function(s){a.setState(function(i){var o=i.date;return{date:Il(o,Number(s))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(s){a.setState(function(i){var o=i.date;return{date:to(o,Number(s))}},function(){return a.handleMonthChange(a.state.date)})},a.changeMonthYear=function(s){a.setState(function(i){var o=i.date;return{date:Il(to(o,Js(s)),Vr(s))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(s){s===void 0&&(s=a.state.date);var i=a.props.disabled,o=ZA(s,a.props.locale,a.props.calendarStartDay),l=[];return a.props.showWeekNumbers&&l.push(He.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(i?"react-datepicker__day-name--disabled":""),role:"columnheader"},He.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),He.createElement("span",{"aria-hidden":"true"},a.props.weekLabel||"#"))),l.concat([0,1,2,3,4,5,6].map(function(A){var d=sl(o,A),f=a.formatWeekday(d,a.props.locale),h=a.props.weekDayClassName?a.props.weekDayClassName(d):void 0;return He.createElement("div",{key:A,role:"columnheader",className:vs("react-datepicker__day-name",h,i?"react-datepicker__day-name--disabled":"")},He.createElement("span",{className:"react-datepicker__sr-only"},Ga(d,"EEEE",a.props.locale)),He.createElement("span",{"aria-hidden":"true"},f))}))},a.formatWeekday=function(s,i){return a.props.formatWeekDay?c7(s,a.props.formatWeekDay,i):a.props.useWeekdaysShort?d7(s,i):A7(s,i)},a.decreaseYear=function(){a.setState(function(s){var i,o=s.date;return{date:Rf(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var s,i,o;if(!a.props.renderCustomHeader){var l=(s=a.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,A=a.props.showPreviousMonths?l-1:0,d=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:A,f=nu(a.state.date,d),h;switch(!0){case a.props.disabled:h=!0;break;case a.props.showMonthYearPicker:h=lj(a.state.date,a.props);break;case a.props.showYearPicker:h=p7(a.state.date,a.props);break;case a.props.showQuarterYearPicker:h=h7(a.state.date,a.props);break;default:h=ij(f,a.props);break}if(!(!((o=a.props.forceShowMonthNavigation)!==null&&o!==void 0?o:r.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&h||a.props.showTimeSelectOnly)){var m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(x=a.decreaseYear),h&&a.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),x=void 0);var v=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,b=a.props,N=b.previousMonthButtonLabel,B=N===void 0?r.defaultProps.previousMonthButtonLabel:N,S=b.previousYearButtonLabel,F=S===void 0?r.defaultProps.previousYearButtonLabel:S,L=a.props,M=L.previousMonthAriaLabel,U=M===void 0?typeof B=="string"?B:"Previous Month":M,I=L.previousYearAriaLabel,_=I===void 0?typeof F=="string"?F:"Previous Year":I;return He.createElement("button",{type:"button",className:p.join(" "),onClick:x,onKeyDown:a.props.handleOnKeyDown,"aria-label":v?_:U},He.createElement("span",{className:m.join(" ")},v?F:B))}}},a.increaseYear=function(){a.setState(function(s){var i,o=s.date;return{date:qc(o,a.props.showYearPicker?(i=a.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var s;if(!a.props.renderCustomHeader){var i;switch(!0){case a.props.disabled:i=!0;break;case a.props.showMonthYearPicker:i=cj(a.state.date,a.props);break;case a.props.showYearPicker:i=g7(a.state.date,a.props);break;case a.props.showQuarterYearPicker:i=m7(a.state.date,a.props);break;default:i=oj(a.state.date,a.props);break}if(!(!((s=a.props.forceShowMonthNavigation)!==null&&s!==void 0?s:r.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&i||a.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];a.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var A=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(A=a.increaseYear),i&&a.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),A=void 0);var d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,f=a.props,h=f.nextMonthButtonLabel,m=h===void 0?r.defaultProps.nextMonthButtonLabel:h,p=f.nextYearButtonLabel,x=p===void 0?r.defaultProps.nextYearButtonLabel:p,v=a.props,b=v.nextMonthAriaLabel,N=b===void 0?typeof m=="string"?m:"Next Month":b,B=v.nextYearAriaLabel,S=B===void 0?typeof x=="string"?x:"Next Year":B;return He.createElement("button",{type:"button",className:o.join(" "),onClick:A,onKeyDown:a.props.handleOnKeyDown,"aria-label":d?S:N},He.createElement("span",{className:l.join(" ")},d?x:m))}}},a.renderCurrentMonth=function(s){s===void 0&&(s=a.state.date);var i=["react-datepicker__current-month"];return a.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),He.createElement("h2",{className:i.join(" ")},Ga(s,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showYearDropdown||s))return He.createElement(R7,ra({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:Vr(a.state.date)}))},a.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showMonthDropdown||s))return He.createElement(F7,ra({},r.defaultProps,a.props,{month:Js(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!a.props.showMonthYearDropdown||s))return He.createElement(U7,ra({},r.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(s){a.props.onSelect(tj(),s),a.props.setPreSelection&&a.props.setPreSelection(tj())},a.renderTodayButton=function(){if(!(!a.props.todayButton||a.props.showTimeSelectOnly))return He.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDayNamesHeader=function(s){return He.createElement("div",{className:"react-datepicker__day-names",role:"row"},a.header(s))},a.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return He.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(i),He.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(o!==0),a.renderMonthYearDropdown(o!==0),a.renderYearDropdown(o!==0)))},a.renderCustomHeader=function(s){var i,o,l=s.monthDate,A=s.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var d=a.props,f=d.showYearPicker,h=d.yearItemNumber,m;if(f){var p=Hc(l,h),x=p.startPeriod,v=p.endPeriod;m={startYear:x,endYear:v}}var b=ij(a.state.date,a.props),N=oj(a.state.date,a.props),B=lj(a.state.date,a.props),S=cj(a.state.date,a.props);return He.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},(o=(i=a.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,ra(ra(ra({},a.state),f&&{visibleYearsRange:m}),{customHeaderCount:A,monthDate:l,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:b,nextMonthButtonDisabled:N,prevYearButtonDisabled:B,nextYearButtonDisabled:S})))},a.renderYearHeader=function(s){var i=s.monthDate,o=a.props,l=o.showYearPicker,A=o.yearItemNumber,d=A===void 0?r.defaultProps.yearItemNumber:A,f=Hc(i,d),h=f.startPeriod,m=f.endPeriod;return He.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(h," - ").concat(m):Vr(i))},a.renderHeader=function(s){var i=s.monthDate,o=s.i,l=o===void 0?0:o,A={monthDate:i,i:l};switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(A);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(A);default:return a.renderDefaultHeader(A)}},a.renderMonths=function(){var s,i;if(!(a.props.showTimeSelectOnly||a.props.showYearPicker)){for(var o=[],l=(s=a.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,A=a.props.showPreviousMonths?l-1:0,d=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?qc(a.state.date,A):nu(a.state.date,A),f=(i=a.props.monthSelectedIn)!==null&&i!==void 0?i:A,h=0;h<l;++h){var m=h-f+A,p=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?qc(d,m):ll(d,m),x="month-".concat(h),v=h<l-1,b=h>0;o.push(He.createElement("div",{key:x,ref:function(N){a.monthContainer=N??void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:p,i:h}),He.createElement(E7,ra({},r.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:p,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:h,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:v,monthShowsDuplicateDaysStart:b,dayNamesHeader:a.renderDayNamesHeader(p)}))))}return o}},a.renderYears=function(){if(!a.props.showTimeSelectOnly&&a.props.showYearPicker)return He.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),He.createElement(I7,ra({},r.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave})))},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return He.createElement(L7,ra({},r.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var s=a.props.selected?new Date(a.props.selected):void 0,i=s&&Ax(s)&&!!a.props.selected,o=i?"".concat(dj(s.getHours()),":").concat(dj(s.getMinutes())):"";if(a.props.showTimeInput)return He.createElement(N7,ra({},r.defaultProps,a.props,{date:s,timeString:o,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var s,i=Hc(a.state.date,(s=a.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,A;return a.props.showYearPicker?A="".concat(o," - ").concat(l):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?A=Vr(a.state.date):A="".concat(tb(Js(a.state.date),a.props.locale)," ").concat(Vr(a.state.date)),He.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&A)},a.renderChildren=function(){if(a.props.children)return He.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=w.createRef(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:J_,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Lm}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},r.prototype.componentDidUpdate=function(t){var a=this;if(this.props.preSelection&&(!ta(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!ci(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!ta(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var t=this.props.container||t7;return He.createElement(cx,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},He.createElement("div",{style:{display:"contents"},ref:this.containerRef},He.createElement(t,{className:vs("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},r})(w.Component),H7=function(e){var r=e.icon,t=e.className,a=t===void 0?"":t,s=e.onClick,i="react-datepicker__calendar-icon";if(typeof r=="string")return He.createElement("i",{className:"".concat(i," ").concat(r," ").concat(a),"aria-hidden":"true",onClick:s});if(He.isValidElement(r)){var o=r;return He.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(a),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof s=="function"&&s(l)}})}return He.createElement("svg",{className:"".concat(i," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},He.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Z_=(function(e){Fs(r,e);function r(t){var a=e.call(this,t)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return X5.createPortal(this.props.children,this.el)},r})(w.Component),K7="[tabindex], a, button, input, select, textarea",$7=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},eF=(function(e){Fs(r,e);function r(t){var a=e.call(this,t)||this;return a.getTabChildren=function(){var s;return Array.prototype.slice.call((s=a.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(K7),1,-1).filter($7)},a.handleFocusStart=function(){var s=a.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},a.handleFocusEnd=function(){var s=a.getTabChildren();s&&s.length>1&&s[0].focus()},a.tabLoopRef=w.createRef(),a}return r.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:r.defaultProps.enableTabLoop)?He.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},He.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,He.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r})(w.Component);function V7(e){function r(t){var a,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,i=w.useRef(null),o=e7(ra({open:!s,whileElementsMounted:k4,placement:t.popperPlacement,middleware:$l([I4({padding:15}),L4(10),P4({element:i})],(a=t.popperModifiers)!==null&&a!==void 0?a:[],!0)},t.popperProps)),l=ra(ra({},t),{hidePopper:s,popperProps:ra(ra({},o),{arrowRef:i})});return He.createElement(e,ra({},l))}return r.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),r}var z7=function(e){var r=e.className,t=e.wrapperClassName,a=e.hidePopper,s=a===void 0?!0:a,i=e.popperComponent,o=e.targetComponent,l=e.enableTabLoop,A=e.popperOnKeyDown,d=e.portalId,f=e.portalHost,h=e.popperProps,m=e.showArrow,p=void 0;if(!s){var x=vs("react-datepicker-popper",r);p=He.createElement(eF,{enableTabLoop:l},He.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:x,"data-placement":h.placement,onKeyDown:A},i,m&&He.createElement(qH,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(p=w.createElement(e.popperContainer,{},p)),d&&!s&&(p=He.createElement(Z_,{portalId:d,portalHost:f},p));var v=vs("react-datepicker-wrapper",t);return He.createElement(He.Fragment,null,He.createElement("div",{ref:h.refs.setReference,className:v},o),p)},q7=V7(z7);function W7(e,r){return e&&r?Js(e)!==Js(r)||Vr(e)!==Vr(r):e!==r}var zv="Date input not valid.",G7=(function(e){Fs(r,e);function r(t){var a=e.call(this,t)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:ba()},a.modifyHolidays=function(){var s;return(s=a.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var l=new Date(o.date);return Ax(l)?$l($l([],i,!0),[ra(ra({},o),{date:l})],!1):i},[])},a.calcInitialState=function(){var s,i=a.getPreSelection(),o=G_(a.props),l=Y_(a.props),A=o&&Kl(i,Eg(o))?o:l&&od(i,rj(l))?l:i;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&s!==void 0?s:A,highlightDates:Aj(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.getInputValue=function(){var s,i=a.props,o=i.locale,l=i.startDate,A=i.endDate,d=i.rangeSeparator,f=i.selected,h=i.selectedDates,m=i.selectsMultiple,p=i.selectsRange,x=i.value,v=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,b=a.state.inputValue;return typeof x=="string"?x:typeof b=="string"?b:p?a7(l,A,{dateFormat:v,locale:o,rangeSeparator:d}):m?n7(h??[],{dateFormat:v,locale:o}):eo(f,{dateFormat:v,locale:o})},a.resetHiddenStatus=function(){a.setState(ra(ra({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(ra(ra({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var s,i;(i=(s=a.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},a.setBlur=function(){var s,i;(i=(s=a.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(s,i){i===void 0&&(i=!1),a.setState({open:s,preSelection:s&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:qv},function(){s||a.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return Wc(a.state.preSelection)},a.isCalendarOpen=function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(s){var i,o,l=a.state.wasHidden,A=l?a.state.open:!0;l&&a.resetHiddenStatus(),a.state.preventFocus||((o=(i=a.props).onFocus)===null||o===void 0||o.call(i,s),A&&!a.props.preventOpenOnFocus&&!a.props.readOnly&&a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.resetInputValue=function(){a.setState(ra(ra({},a.state),{inputValue:null}))},a.handleBlur=function(s){var i,o;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&((o=(i=a.props).onBlur)===null||o===void 0||o.call(i,s)),a.resetInputValue(),a.state.open&&a.props.open===!1&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(s){var i,o;a.props.inline||a.setOpen(!1),(o=(i=a.props).onClickOutside)===null||o===void 0||o.call(i,s),a.props.withPortal&&s.preventDefault()},a.handleChange=function(){for(var s,i,o,l,A,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var h=d[0];if(!(a.props.onChangeRaw&&(a.props.onChangeRaw.apply(a,d),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){a.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:Y7});var m=a.props,p=m.selectsRange,x=m.startDate,v=m.endDate,b=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,N=(i=a.props.strictParsing)!==null&&i!==void 0?i:r.defaultProps.strictParsing,B=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(p){var S=a.props.rangeSeparator,F=S.trim(),L=B.split(b.includes(F)?S:F,2).map(function(X){return X.trim()}),M=L[0],U=L[1],I=Hv(M??"",b,a.props.locale,N),_=I?Hv(U??"",b,a.props.locale,N):null,W=(x==null?void 0:x.getTime())!==(I==null?void 0:I.getTime()),Q=(v==null?void 0:v.getTime())!==(_==null?void 0:_.getTime());if(!W&&!Q||I&&Bo(I,a.props)||_&&Bo(_,a.props))return;(l=(o=a.props).onChange)===null||l===void 0||l.call(o,[I,_],h)}else{var K=Hv(B,b,a.props.locale,N,(A=a.props.selected)!==null&&A!==void 0?A:void 0);(K||!B)&&a.setSelected(K,h,!0)}}},a.handleSelect=function(s,i,o){var l;if(!a.props.readOnly){var A=a.props,d=A.selectsRange,f=A.startDate,h=A.endDate,m=A.locale,p=A.swapRange,x=(l=a.props.dateFormat)!==null&&l!==void 0?l:r.defaultProps.dateFormat,v=!d||f&&!h&&(p||!$v(s,f));if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&v&&a.sendFocusBackToInput(),a.props.onChangeRaw){var b=eo(s,{dateFormat:x,locale:m});a.props.onChangeRaw(i,{date:s,formattedDate:b})}a.setSelected(s,i,!1,o),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect?a.setPreSelection(s):v&&a.setOpen(!1)}},a.setSelected=function(s,i,o,l){var A,d,f=s;if(a.props.showYearPicker){if(f!==null&&_g(Vr(f),a.props))return}else if(a.props.showMonthYearPicker){if(f!==null&&W_(f,a.props))return}else if(f!==null&&Bo(f,a.props))return;var h=a.props,m=h.onChange,p=h.selectsRange,x=h.startDate,v=h.endDate,b=h.selectsMultiple,N=h.selectedDates,B=h.minTime,S=h.swapRange;if(!Zd(a.props.selected,f)||a.props.allowSameDay||p||b)if(f!==null&&(a.props.selected&&(!o||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly&&!a.props.showTimeInput)&&(f=Kv(f,{hour:Gc(a.props.selected),minute:Yc(a.props.selected),second:JA(a.props.selected)})),!o&&(a.props.showTimeSelect||a.props.showTimeSelectOnly)&&B&&(f=Kv(f,{hour:B.getHours(),minute:B.getMinutes(),second:B.getSeconds()})),a.props.inline||a.setState({preSelection:f}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:l})),p){var F=!x&&!v,L=x&&!v,M=!x&&!!v,U=x&&v;F?m==null||m([f,null],i):L?f===null?m==null||m([null,null],i):$v(f,x)?S?m==null||m([f,x],i):m==null||m([f,null],i):m==null||m([x,f],i):M&&(f&&$v(f,v)?m==null||m([f,v],i):m==null||m([f,null],i)),U&&(m==null||m([f,null],i))}else if(b){if(f!==null)if(!(N!=null&&N.length))m==null||m([f],i);else{var I=N.some(function(W){return ta(W,f)});if(I){var _=N.filter(function(W){return!ta(W,f)});m==null||m(_,i)}else m==null||m($l($l([],N,!0),[f],!1),i)}}else m==null||m(f,i);o||((d=(A=a.props).onSelect)===null||d===void 0||d.call(A,f,i),a.setState({inputValue:null}))},a.setPreSelection=function(s){if(!a.props.readOnly){var i=Wc(a.props.minDate),o=Wc(a.props.maxDate),l=!0;if(s){var A=Eg(s);if(i&&o)l=zd(s,a.props.minDate,a.props.maxDate);else if(i){var d=Eg(a.props.minDate);l=od(s,d)||Zd(A,d)}else if(o){var f=rj(a.props.maxDate);l=Kl(s,f)||Zd(A,f)}}l&&a.setState({preSelection:s})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(s){var i,o;if(!(a.props.selectsRange||a.props.selectsMultiple)){var l=a.props.selected?a.props.selected:a.getPreSelection(),A=a.props.selected?s:Kv(l,{hour:Gc(s),minute:Yc(s)});a.setState({preSelection:A}),(o=(i=a.props).onChange)===null||o===void 0||o.call(i,A),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var s,i;!a.props.disabled&&!a.props.readOnly&&a.setOpen(!0),(i=(s=a.props).onInputClick)===null||i===void 0||i.call(s)},a.onInputKeyDown=function(s){var i,o,l,A,d,f;(o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,s);var h=s.key;if(!a.state.open&&!a.props.inline&&!a.props.preventOpenOnFocus){(h===Dt.ArrowDown||h===Dt.ArrowUp||h===Dt.Enter)&&((l=a.onInputClick)===null||l===void 0||l.call(a));return}if(a.state.open){if(h===Dt.ArrowDown||h===Dt.ArrowUp){s.preventDefault();var m=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((A=a.calendar)===null||A===void 0?void 0:A.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(m);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var x=ba(a.state.preSelection);h===Dt.Enter?(s.preventDefault(),s.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===qv?(a.handleSelect(x,s),!a.props.shouldCloseOnSelect&&a.setPreSelection(x)):a.setOpen(!1)):h===Dt.Escape?(s.preventDefault(),s.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):h===Dt.Tab&&a.setOpen(!1),a.inputOk()||(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:zv})}},a.onPortalKeyDown=function(s){var i=s.key;i===Dt.Escape&&(s.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(s){var i,o,l,A,d,f,h=a.props,m=h.minDate,p=h.maxDate,x=h.disabledKeyboardNavigation,v=h.showWeekPicker,b=h.shouldCloseOnSelect,N=h.locale,B=h.calendarStartDay,S=h.adjustDateOnChange,F=h.inline;if((o=(i=a.props).onKeyDown)===null||o===void 0||o.call(i,s),!x){var L=s.key,M=s.shiftKey,U=ba(a.state.preSelection),I=function(re,$){var V=$;switch(re){case Dt.ArrowRight:V=v?r0($,1):sl($,1);break;case Dt.ArrowLeft:V=v?XN($):yH($);break;case Dt.ArrowUp:V=XN($);break;case Dt.ArrowDown:V=r0($,1);break;case Dt.PageUp:V=M?Rf($,1):nu($,1);break;case Dt.PageDown:V=M?qc($,1):ll($,1);break;case Dt.Home:V=ZA($,N,B);break;case Dt.End:V=o7($);break}return V},_=function(re,$){for(var V=40,Z=re,ie=!1,ue=0,E=I(re,$);!ie;){if(ue>=V){E=$;break}m&&E<m&&(Z=Dt.ArrowRight,E=Bo(m,a.props)?I(Z,E):m),p&&E>p&&(Z=Dt.ArrowLeft,E=Bo(p,a.props)?I(Z,E):p),Bo(E,a.props)?((Z===Dt.PageUp||Z===Dt.Home)&&(Z=Dt.ArrowRight),(Z===Dt.PageDown||Z===Dt.End)&&(Z=Dt.ArrowLeft),E=I(Z,E)):ie=!0,ue++}return E};if(L===Dt.Enter){s.preventDefault(),a.handleSelect(U,s),!b&&a.setPreSelection(U);return}else if(L===Dt.Escape){s.preventDefault(),a.setOpen(!1),a.inputOk()||(A=(l=a.props).onInputError)===null||A===void 0||A.call(l,{code:1,msg:zv});return}var W=null;switch(L){case Dt.ArrowLeft:case Dt.ArrowRight:case Dt.ArrowUp:case Dt.ArrowDown:case Dt.PageUp:case Dt.PageDown:case Dt.Home:case Dt.End:W=_(L,U);break}if(!W){(f=(d=a.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:zv});return}if(s.preventDefault(),a.setState({lastPreSelectChange:qv}),S&&a.setSelected(W),a.setPreSelection(W),F){var Q=Js(U),K=Js(W),X=Vr(U),R=Vr(W);Q!==K||X!==R?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}},a.onPopperKeyDown=function(s){var i=s.key;i===Dt.Escape&&(s.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),a.sendFocusBackToInput();var i=a.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],s):l==null||l(null,s),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(s){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(s)&&a.setOpen(!1)},a.renderCalendar=function(){var s,i;return!a.props.inline&&!a.isCalendarOpen()?null:He.createElement(O7,ra({showMonthYearDropdown:void 0,ref:function(o){a.calendar=o}},a.props,a.state,{setOpen:a.setOpen,dateFormat:(s=a.props.dateFormatCalendar)!==null&&s!==void 0?s:r.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:v7(a.modifyHolidays()),outsideClickIgnoreClass:a.props.outsideClickIgnoreClass,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:(i=a.props.dropdownMode)!==null&&i!==void 0?i:r.defaultProps.dropdownMode}),a.props.children)},a.renderAriaLiveRegion=function(){var s,i=a.props.locale,o=(s=a.props.dateFormat)!==null&&s!==void 0?s:r.defaultProps.dateFormat,l=a.props.showTimeInput||a.props.showTimeSelect,A=l?"PPPPp":"PPPP",d;return a.props.selectsRange?d="Selected start date: ".concat(eo(a.props.startDate,{dateFormat:A,locale:i}),". ").concat(a.props.endDate?"End date: "+eo(a.props.endDate,{dateFormat:A,locale:i}):""):a.props.showTimeSelectOnly?d="Selected time: ".concat(eo(a.props.selected,{dateFormat:o,locale:i})):a.props.showYearPicker?d="Selected year: ".concat(eo(a.props.selected,{dateFormat:"yyyy",locale:i})):a.props.showMonthYearPicker?d="Selected month: ".concat(eo(a.props.selected,{dateFormat:"MMMM yyyy",locale:i})):a.props.showQuarterYearPicker?d="Selected quarter: ".concat(eo(a.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):d="Selected date: ".concat(eo(a.props.selected,{dateFormat:A,locale:i})),He.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},a.renderDateInput=function(){var s,i,o=vs(a.props.className,(s={},s[a.props.outsideClickIgnoreClass||r.defaultProps.outsideClickIgnoreClass]=a.state.open,s)),l=a.props.customInput||He.createElement("input",{type:"text"}),A=a.props.customInputRef||"ref";return w.cloneElement(l,(i={},i[A]=function(d){a.input=d},i.value=a.getInputValue(),i.onBlur=a.handleBlur,i.onChange=a.handleChange,i.onClick=a.onInputClick,i.onFocus=a.handleFocus,i.onKeyDown=a.onInputKeyDown,i.id=a.props.id,i.name=a.props.name,i.form=a.props.form,i.autoFocus=a.props.autoFocus,i.placeholder=a.props.placeholderText,i.disabled=a.props.disabled,i.autoComplete=a.props.autoComplete,i.className=vs(l.props.className,o),i.title=a.props.title,i.readOnly=a.props.readOnly,i.required=a.props.required,i.tabIndex=a.props.tabIndex,i["aria-describedby"]=a.props.ariaDescribedBy,i["aria-invalid"]=a.props.ariaInvalid,i["aria-labelledby"]=a.props.ariaLabelledBy,i["aria-required"]=a.props.ariaRequired,i))},a.renderClearButton=function(){var s=a.props,i=s.isClearable,o=s.disabled,l=s.selected,A=s.startDate,d=s.endDate,f=s.clearButtonTitle,h=s.clearButtonClassName,m=h===void 0?"":h,p=s.ariaLabelClose,x=p===void 0?"Close":p,v=s.selectedDates,b=s.readOnly;return i&&!b&&(l!=null||A!=null||d!=null||v!=null&&v.length)?He.createElement("button",{type:"button",className:vs("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":x,onClick:a.onClearClick,title:f,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:J_,readOnly:!1,rangeSeparator:z_,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Lm,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(t,a){var s,i,o,l;t.inline&&W7(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Aj(this.props.highlightDates)}),!a.focused&&!Zd(t.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),a.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var t=this.props,a=t.showIcon,s=t.icon,i=t.calendarIconClassname,o=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,A=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),He.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&He.createElement(H7,ra({icon:s,className:vs(o,!o&&i,A&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var a=this.state.open?He.createElement(eF,{enableTabLoop:this.props.enableTabLoop},He.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(a=He.createElement(Z_,ra({portalId:this.props.portalId},this.props),a)),He.createElement("div",null,this.renderInputContainer(),a)}return He.createElement(q7,ra({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r})(w.Component),Y7="input",qv="navigate";const tF=w.forwardRef(({value:e,onClick:r,placeholder:t,className:a,id:s,name:i},o)=>n.jsxs("div",{className:"relative",children:[n.jsx(Ge,{id:s,name:i,ref:o,value:e||"",onClick:r,readOnly:!0,placeholder:t||"DD/MM/AAAA",className:st("pr-10",a)}),n.jsx(fr,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}));tF.displayName="DateInput";function _s({id:e,name:r,value:t,onChange:a,className:s,minDate:i,maxDate:o,required:l}){const A=t?O_(`${t}`):null;return n.jsx(G7,{selected:A,onChange:d=>{if(!d){a==null||a("");return}a==null||a($A(d,"yyyy-MM-dd"))},customInput:n.jsx(tF,{id:e,name:r,className:s}),dateFormat:"dd/MM/yyyy",placeholderText:"DD/MM/AAAA",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",minDate:i,maxDate:o,calendarClassName:"dp-modern",popperClassName:"dp-popper",required:l})}function X7(){const[e,r]=w.useState(null),[t,a]=w.useState(null),[s,i]=w.useState(!0),[o,l]=w.useState(null),[A,d]=w.useState([]),[f,h]=w.useState(!0),[m,p]=w.useState({data_nascimento:"",endereco:"",telefone:"",tipo_sanguineo:"",alergias:"",condicoes_cronicas:""}),[x,v]=w.useState(!1),{toast:b}=Ma();w.useEffect(()=>{let I=!0;return(async()=>{var _,W,Q,K;try{const[X,R]=await Promise.allSettled([na.getPerfil(),na.getPacienteDoUsuario()]);if(!I)return;if(X.status==="fulfilled"&&r(X.value),R.status==="fulfilled"&&a(R.value),X.status==="rejected"&&R.status==="rejected"){const re=((W=(_=X.reason)==null?void 0:_.response)==null?void 0:W.status)||((K=(Q=R.reason)==null?void 0:Q.response)==null?void 0:K.status);l(re===401?"Sua sesso no  vlida. Verifique o login e o tipo de autenticao (Bearer/JWT/Token).":"No foi possvel carregar seu perfil.")}}finally{I&&i(!1)}})(),()=>{I=!1}},[]),w.useEffect(()=>{let I=!0;return(async()=>{try{h(!0);const _=await na.getConsultas();if(I){const Q=(Array.isArray(_)?_:(_==null?void 0:_.results)||[]).map(R=>{var Z,ie,ue,E,P,Y,z,J,q,G,ne;const re=((ie=(Z=R.medico)==null?void 0:Z.user)==null?void 0:ie.first_name)||((ue=R.medico)==null?void 0:ue.first_name)||((E=R.medico)==null?void 0:E.nome)||"",$=((Y=(P=R.medico)==null?void 0:P.user)==null?void 0:Y.last_name)||((z=R.medico)==null?void 0:z.last_name)||"",V=[re,$].filter(Boolean).join(" ").trim()||((J=R.medico)==null?void 0:J.nome)||"";return{id:R.id,data:R.data||R.data_hora,medico:{nome:V,especialidade:((ne=(G=(q=R.medico)==null?void 0:q.especialidades)==null?void 0:G[0])==null?void 0:ne.nome)||R.especialidade||"No especificada"},status:R.status,local:R.local||R.localizacao||R.observacoes||"Local no especificado",tipo:R.tipo||R.motivo||"Consulta"}}),K=new Date,X=Q.filter(R=>{const $=(R.status||"").toLowerCase().includes("agend"),V=R.data?new Date(R.data)>K:!1;return $||V});d(X.slice(0,3))}}catch(_){console.error("Erro ao buscar consultas:",_)}finally{I&&h(!1)}})(),()=>{I=!1}},[]),w.useEffect(()=>{t&&e&&p({data_nascimento:e.data_nascimento||"",endereco:e.endereco||"",telefone:e.telefone||"",tipo_sanguineo:t.tipo_sanguineo||"",alergias:t.alergias||"",condicoes_cronicas:t.condicoes_cronicas||""})},[t,e]);const N=I=>{const{name:_,value:W}=I.target;p(Q=>({...Q,[_]:W}))},B=async I=>{I.preventDefault(),v(!0);try{await na.atualizarPerfil({data_nascimento:m.data_nascimento,endereco:m.endereco,telefone:m.telefone}),await na.atualizarPaciente({tipo_sanguineo:m.tipo_sanguineo,alergias:m.alergias,condicoes_cronicas:m.condicoes_cronicas});const[_,W]=await Promise.allSettled([na.getPerfil(),na.getPacienteDoUsuario()]);_.status==="fulfilled"&&r(_.value),W.status==="fulfilled"&&a(W.value),b({title:"Perfil atualizado",description:"Suas informaes foram salvas com sucesso."})}catch(_){console.error("Erro ao salvar perfil:",_),b({title:"Erro ao salvar",description:"No foi possvel atualizar seu perfil. Tente novamente.",variant:"destructive"})}finally{v(!1)}},S=I=>I?([I.first_name,I.last_name].filter(Boolean).join(" ")||I.username||"Usurio").split(" ").map(W=>W[0]).join("").toUpperCase().slice(0,2):"?",F=I=>I?I.length>50?I.substring(0,50)+"...":I:"No informado",L=e&&(!e.data_nascimento||!e.endereco||!e.telefone),M=[{label:"Perfil",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"}],U=[{title:"Contato com mdico",description:"Solicite um horrio",href:"/paciente/consultas/nova",icon:fr,color:"blue"},{title:"Ver Pronturio",description:"Acesse seu histrico mdico",href:"/paciente/prontuario",icon:Ta,color:"green"},{title:"Exames",description:"Visualize seus exames",href:"/paciente/exames",icon:Vc,color:"purple"},{title:"Receitas",description:"Suas receitas mdicas",href:"/paciente/receitas",icon:Uf,color:"red"}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950",children:n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-8 shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/95 via-indigo-600/95 to-purple-600/95"}),n.jsx("div",{className:"absolute -top-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl"}),n.jsx("div",{className:"absolute -bottom-4 -left-4 h-32 w-32 rounded-full bg-white/5 blur-2xl"}),n.jsxs("div",{className:"relative flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Fm,{className:"h-24 w-24 ring-4 ring-white/40 shadow-xl",children:n.jsx(km,{className:"bg-gradient-to-br from-white to-blue-100 text-blue-700 text-2xl font-bold shadow-inner",children:s?"...":S(e)})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 rounded-full bg-emerald-400 border-3 border-white shadow-lg"})]}),n.jsxs("div",{className:"text-white",children:[n.jsx("h1",{className:"text-4xl font-bold mb-2 drop-shadow-sm",children:s?n.jsx(Qr,{className:"h-10 w-64 bg-white/20"}):[e==null?void 0:e.first_name,e==null?void 0:e.last_name].filter(Boolean).join(" ")||(e==null?void 0:e.username)||"Usurio"}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Xs,{className:"h-5 w-5 text-blue-100"}),n.jsx("p",{className:"text-blue-50 text-lg font-medium",children:"Paciente Verificado"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[(e==null?void 0:e.cpf)&&n.jsxs(sr,{className:"bg-white/25 text-white border-white/40 hover:bg-white/35 font-medium px-3 py-1 shadow-sm",children:["CPF: ",e.cpf]}),(t==null?void 0:t.tipo_sanguineo)&&n.jsxs(sr,{className:"bg-red-500/30 text-red-50 border-red-200/40 hover:bg-red-500/40 font-medium px-3 py-1 shadow-sm",children:[n.jsx(nN,{className:"h-4 w-4 mr-1"}),t.tipo_sanguineo]})]})]})]}),n.jsxs(ye,{className:"bg-white/25 hover:bg-white/35 text-white border-white/40 backdrop-blur-sm shadow-lg font-medium",children:[n.jsx(VL,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})]}),n.jsx(Uo,{tabs:M,basePath:"/paciente"}),!s&&!o&&L&&n.jsxs(_e,{className:"border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 shadow-lg dark:border-amber-600",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ze,{className:"flex items-center gap-3 text-amber-800 dark:text-amber-200",children:[n.jsx("div",{className:"p-2 rounded-full bg-amber-200 dark:bg-amber-700",children:n.jsx(Kc,{className:"h-5 w-5 text-amber-700 dark:text-amber-200"})}),"Complete seu perfil para uma experincia completa"]})}),n.jsx(De,{children:n.jsxs("form",{className:"space-y-6",onSubmit:B,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"data_nascimento",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Data de Nascimento"}),n.jsx(_s,{id:"data_nascimento",name:"data_nascimento",value:m.data_nascimento,onChange:I=>p(_=>({..._,data_nascimento:I})),className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",maxDate:new Date,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"telefone",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Telefone"}),n.jsx(Ge,{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:m.telefone,onChange:N,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"endereco",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Endereo"}),n.jsx(aa,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:m.endereco,onChange:N,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"tipo_sanguineo",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Tipo Sanguneo"}),n.jsx(Ge,{id:"tipo_sanguineo",name:"tipo_sanguineo",placeholder:"Ex: O+, A-, B+, AB-",value:m.tipo_sanguineo,onChange:N,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"alergias",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Alergias"}),n.jsx(Ge,{id:"alergias",name:"alergias",placeholder:"Ex: Penicilina, Amendoim",value:m.alergias,onChange:N,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"condicoes_cronicas",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Condies Crnicas"}),n.jsx(aa,{id:"condicoes_cronicas",name:"condicoes_cronicas",placeholder:"Ex: Hipertenso, Diabetes",value:m.condicoes_cronicas,onChange:N,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),n.jsx(ye,{type:"submit",disabled:x,className:"w-full btn-medical-primary shadow-lg font-medium",children:x?"Salvando...":"Salvar Informaes"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs(_e,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(ze,{className:"pb-6",children:n.jsxs(Ze,{className:"flex items-center gap-3 text-2xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsx(jn,{className:"h-6 w-6"})}),"Informaes Pessoais"]})}),n.jsx(De,{children:s?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Qr,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),n.jsx(Qr,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Qr,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),n.jsx(Qr,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]})]}):o?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Kc,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:o})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:n.jsx(fr,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200",children:"Data de Nascimento"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(e==null?void 0:e.data_nascimento)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-emerald-50 to-green-100 dark:from-emerald-900/40 dark:to-green-900/40 border border-emerald-200 dark:border-emerald-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-emerald-500 text-white shadow-md",children:n.jsx(zc,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-emerald-800 dark:text-emerald-200",children:"Telefone"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(e==null?void 0:e.telefone)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-violet-100 dark:from-purple-900/40 dark:to-violet-900/40 border border-purple-200 dark:border-purple-700 hover:shadow-lg transition-all duration-300 md:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-purple-500 text-white shadow-md",children:n.jsx(zg,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200",children:"Endereo"})]}),n.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:F(e==null?void 0:e.endereco)})]})]}),n.jsx(ws,{className:"my-8 bg-gray-200 dark:bg-gray-700"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(di,{className:"h-5 w-5 text-red-500"}),"Informaes Mdicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-red-50 to-pink-100 dark:from-red-900/40 dark:to-pink-900/40 border border-red-200 dark:border-red-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-red-500 text-white shadow-md",children:n.jsx(nN,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"Tipo Sanguneo"})]}),n.jsx("p",{className:"text-red-900 dark:text-red-100 font-bold text-2xl",children:(t==null?void 0:t.tipo_sanguineo)||"No informado"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-amber-50 to-yellow-100 dark:from-amber-900/40 dark:to-yellow-900/40 border border-amber-200 dark:border-amber-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-amber-500 text-white shadow-md",children:n.jsx(Kc,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-amber-700 dark:text-amber-200",children:"Alergias"})]}),n.jsx("p",{className:"text-amber-800 dark:text-amber-200 font-medium",children:(t==null?void 0:t.alergias)||"Nenhuma alergia conhecida"})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-teal-50 to-cyan-100 dark:from-teal-900/40 dark:to-cyan-900/40 border border-teal-200 dark:border-teal-700 hover:shadow-lg transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-teal-500 text-white shadow-md",children:n.jsx(Uf,{className:"h-4 w-4"})}),n.jsx("p",{className:"text-sm font-semibold text-teal-800 dark:text-teal-200",children:"Condies Crnicas"})]}),n.jsx("p",{className:"text-teal-800 dark:text-teal-200 font-medium",children:(t==null?void 0:t.condicoes_cronicas)||"Nenhuma condio crnica"})]})]})]})]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(_e,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ze,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx(YL,{className:"h-5 w-5 text-yellow-500"}),"Aes Rpidas"]})}),n.jsx(De,{className:"space-y-3",children:U.map((I,_)=>{const W=I.icon;return n.jsx(gr,{to:I.href,children:n.jsx("div",{className:"group p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300 hover:shadow-lg cursor-pointer",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-full bg-gradient-to-br ${I.color==="blue"?"from-blue-500 to-blue-600":I.color==="green"?"from-emerald-500 to-green-600":I.color==="purple"?"from-purple-500 to-violet-600":"from-red-500 to-pink-600"} text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.jsx(W,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:I.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:I.description})]}),n.jsx(al,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-300"})]})})},_)})})]}),n.jsxs(_e,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(ze,{className:"pb-3",children:n.jsxs(Ze,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsx(fr,{className:"h-4 w-4"})}),"Prximas Consultas"]})}),n.jsx(De,{children:f?n.jsxs("div",{className:"space-y-3",children:[n.jsx(Qr,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"}),n.jsx(Qr,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"})]}):A.length>0?n.jsxs("div",{className:"space-y-3",children:[A.map(I=>n.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-md transition-all duration-300",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:n.jsx(fr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:[new Date(I.data).toLocaleDateString("pt-BR")," ",new Date(I.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200 font-medium",children:I.medico.nome}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:I.medico.especialidade})]})]})},I.id)),n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,className:"w-full mt-3 border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:n.jsxs(gr,{to:"/paciente/consultas",children:["Ver Todas as Consultas",n.jsx(al,{className:"h-3 w-3 ml-1"})]})})]}):n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:n.jsx(fr,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhuma consulta agendada"}),n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,className:"border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:n.jsxs(gr,{to:"/paciente/consultas",children:["Entrar em contato",n.jsx(al,{className:"h-3 w-3 ml-1"})]})})]})})]}),n.jsxs(_e,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[n.jsx(ze,{className:"pb-3",children:n.jsxs(Ze,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[n.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg",children:n.jsx(Vc,{className:"h-4 w-4"})}),"Exames Recentes"]})}),n.jsx(De,{children:n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:n.jsx(Vc,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhum exame recente"}),n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50 dark:border-emerald-600 dark:text-emerald-300 dark:hover:bg-emerald-900/20",children:n.jsxs(gr,{to:"/paciente/exames",children:["Ver Todos os Exames",n.jsx(al,{className:"h-3 w-3 ml-1"})]})})]})})]})]})]})]})})}function J7(){const[e,r]=w.useState(null),[t,a]=w.useState(!0),[s,i]=w.useState(null),o=h=>Array.isArray(h)?h.filter(m=>m!=null&&m!==""):typeof h=="string"?h.split(/[\n;,]+/).map(m=>m.trim()).filter(Boolean):h==null?[]:[h],l=h=>{let m="",p="",x="";if(typeof h=="string"){const v=h.split(/[;\-\|]/).map(b=>b.trim()).filter(Boolean);if(v.length&&(m=v[0]),v[1]&&(p=v[1]),v[2]&&(x=v.slice(2).join("  ")),!p){const b=h.match(/\b(\d+(\.\d+)?\s?(mg|ml|mcg|g|gotas|ui))\b/i);b&&(p=b[0])}if(!x){const b=h.match(/\b(\d+x\s?\/\s?dia|[1-9]\s?x\/dia|a\s?cada\s?\d+\s?h|de\s?\d+\s?em\s?\d+\s?h)\b/i);b&&(x=b[0])}}else h&&typeof h=="object"&&(m=h.nome||h.medicamento||h.nome_medicamento||h.name||h.descricao||"",p=h.dose||h.dosagem||h.dosage||"",x=h.posologia||h.frequencia||h.intervalo||h.schedule||"");return{name:m||(typeof h=="string"?h:JSON.stringify(h)),dose:p||"",schedule:x||""}},A=h=>{const m=o(h);return m.length>0?n.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:m.map((p,x)=>{const v=l(p);return n.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm hover:shadow-md transition-shadow",role:"group","aria-label":`Medicao ${v.name}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 rounded-md bg-primary/10 p-2 text-primary",children:n.jsx(Wh,{className:"h-5 w-5","aria-hidden":"true"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-base md:text-lg font-semibold leading-snug break-words",children:v.name}),v.dose&&n.jsx("div",{className:"text-sm md:text-base text-muted-foreground mt-0.5 break-words",children:v.dose}),v.schedule&&n.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-muted/60 px-2 py-1 text-xs md:text-sm text-foreground/80",children:[n.jsx(Ur,{className:"h-3.5 w-3.5","aria-hidden":"true"}),n.jsx("span",{className:"break-words",children:v.schedule})]})]})]})},x)})}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})};w.useEffect(()=>{let h=!0;const m=x=>{var F,L;const v=Array.isArray(x)?x[0]:Array.isArray(x==null?void 0:x.results)?x.results[0]:x||{},b=v.alergias??v.allergies??v.alergia,N=v.condicoes??v.condicoes_cronicas??v.condicoesCronicas,B=v.medicacoes??v.medicamentos??v.medicacoes_em_uso??v.medicamentos_em_uso??v.medicamentos_uso??v.em_uso??v.medicacoesEmUso??v.medicamentosEmUso??v.medications??v.current_medications??((F=v.prontuario)==null?void 0:F.medicacoes)??((L=v.prontuario)==null?void 0:L.medicamentos),S=v.observacoes??v.observacao??v.notes??v.anotacoes;return{alergias:o(b),condicoes:o(N),medicacoes:o(B),observacoes:S??""}},p=x=>x?{alergias:o(x.alergias),condicoes:o(x.condicoes_cronicas??x.condicoes),medicacoes:o(x.medicacoes??x.medicamentos??x.medicacoes_em_uso??x.medicamentos_em_uso??x.medicamentos_uso??x.em_uso??x.medicacoesEmUso??x.medicamentosEmUso??x.medications??x.current_medications),observacoes:x.observacoes??""}:null;return(async()=>{try{const[x,v]=await Promise.allSettled([na.getProntuario(),na.getPacienteDoUsuario()]);let b=null;if(x.status==="fulfilled"&&(b=m(x.value)),(!b||o(b.alergias).length===0&&o(b.condicoes).length===0&&o(b.medicacoes).length===0&&(!b.observacoes||b.observacoes===""))&&v.status==="fulfilled"){const B=p(v.value);B&&(b=B)}h&&r(b||{alergias:[],condicoes:[],medicacoes:[],observacoes:""})}catch{h&&i("No foi possvel carregar o pronturio.")}finally{h&&a(!1)}})(),()=>{h=!1}},[]);const d=h=>{const m=o(h);return m.length>0?n.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((p,x)=>{const v=typeof p=="string"?p:(p==null?void 0:p.nome)||(p==null?void 0:p.medicamento)||(p==null?void 0:p.nome_medicamento)||[p==null?void 0:p.descricao,(p==null?void 0:p.dose)||(p==null?void 0:p.dosagem),(p==null?void 0:p.posologia)||(p==null?void 0:p.frequencia)].filter(Boolean).join("  ")||JSON.stringify(p);return n.jsx(sr,{variant:"secondary",className:"px-2.5 py-1 text-xs",children:v},x)})}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})},f=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Pronturio"})]}),n.jsx(Uo,{tabs:f,basePath:"/paciente"}),t?n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[n.jsxs(_e,{className:"lg:col-span-2",children:[n.jsx(ze,{children:n.jsx(Qr,{className:"h-5 w-40"})}),n.jsxs(De,{className:"space-y-2",children:[n.jsx(Qr,{className:"h-4 w-full"}),n.jsx(Qr,{className:"h-4 w-5/6"}),n.jsx(Qr,{className:"h-4 w-2/3"})]})]}),n.jsx("div",{className:"space-y-6",children:[...Array(3)].map((h,m)=>n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Qr,{className:"h-5 w-40"})}),n.jsxs(De,{className:"space-y-2",children:[n.jsx(Qr,{className:"h-4 w-full"}),n.jsx(Qr,{className:"h-4 w-2/3"})]})]},m))})]}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[n.jsxs(_e,{className:"lg:col-span-2 min-h-[320px]",children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Medicaes"})}),n.jsx(De,{children:A(e==null?void 0:e.medicacoes)})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Alergias"})}),n.jsx(De,{children:d(e==null?void 0:e.alergias)})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Condies"})}),n.jsx(De,{children:d(e==null?void 0:e.condicoes)})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Observaes"})}),n.jsx(De,{children:e!=null&&e.observacoes&&(e==null?void 0:e.observacoes)!==""?n.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:e==null?void 0:e.observacoes}):n.jsx("p",{className:"text-sm text-muted-foreground",children:""})})]})]})]})]})}const yu=p4,rF=CP,Z7=({className:e,children:r,...t})=>n.jsx(g4,{className:st(e),...t,children:n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:r})}),aF=w.forwardRef(({className:e,...r},t)=>n.jsx(T0,{ref:t,className:st("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",e),...r}));aF.displayName=T0.displayName;const fd=w.forwardRef(({className:e,children:r,...t},a)=>n.jsxs(Z7,{children:[n.jsx(aF,{}),n.jsxs(M0,{ref:a,className:st("fixed z-50 grid w-full max-w-xl gap-4 rounded-xl border bg-background p-0 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0","data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",e),...t,children:[r,n.jsxs(x4,{className:"absolute right-4 top-4 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[n.jsx(my,{className:"h-5 w-5"}),n.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));fd.displayName=M0.displayName;const hd=({className:e,...r})=>n.jsx("div",{className:st("px-6 pt-5 pb-3 flex flex-col space-y-1.5",e),...r});hd.displayName="DialogHeader";const bu=({className:e,...r})=>n.jsx("div",{className:st("px-6 pb-5 pt-2 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});bu.displayName="DialogFooter";const md=w.forwardRef(({className:e,...r},t)=>n.jsx(O0,{ref:t,className:st("text-lg font-semibold leading-none tracking-tight",e),...r}));md.displayName=O0.displayName;const Pm=w.forwardRef(({className:e,...r},t)=>n.jsx(H0,{ref:t,className:st("text-sm text-muted-foreground",e),...r}));Pm.displayName=H0.displayName;const ec=w.forwardRef(({className:e,...r},t)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:t,className:st("w-full caption-bottom text-sm",e),...r})}));ec.displayName="Table";const tc=w.forwardRef(({className:e,...r},t)=>n.jsx("thead",{ref:t,className:st("[&_tr]:border-b",e),...r}));tc.displayName="TableHeader";const rc=w.forwardRef(({className:e,...r},t)=>n.jsx("tbody",{ref:t,className:st("[&_tr:last-child]:border-0",e),...r}));rc.displayName="TableBody";const e9=w.forwardRef(({className:e,...r},t)=>n.jsx("tfoot",{ref:t,className:st("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));e9.displayName="TableFooter";const Bn=w.forwardRef(({className:e,...r},t)=>n.jsx("tr",{ref:t,className:st("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));Bn.displayName="TableRow";const Tr=w.forwardRef(({className:e,...r},t)=>n.jsx("th",{ref:t,className:st("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));Tr.displayName="TableHead";const Dr=w.forwardRef(({className:e,...r},t)=>n.jsx("td",{ref:t,className:st("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));Dr.displayName="TableCell";const t9=w.forwardRef(({className:e,...r},t)=>n.jsx("caption",{ref:t,className:st("mt-4 text-sm text-muted-foreground",e),...r}));t9.displayName="TableCaption";var q5,W5;const r9=(((W5=(q5=import.meta)==null?void 0:q5.env)==null?void 0:W5.VITE_TIMEZONE)||"America/Sao_Paulo").trim();function nF(e,r={}){try{return new Intl.DateTimeFormat("pt-BR",{timeZone:r9,...r}).format(e)}catch{return""}}const sF=e=>{if(!e)return"";try{let r;if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[t,a,s]=e.split("-");return`${s}/${a}/${t}`}else r=new Date(e);return isNaN(r.getTime())?"":nF(r,{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return""}},a9=e=>{if(!e)return"";try{const r=new Date(e);return isNaN(r.getTime())?"":nF(r,{hour:"2-digit",minute:"2-digit"})}catch{return""}},n9=e=>{if(!e)return null;try{let r;if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[d,f,h]=e.split("-").map(Number);r=new Date(d,f-1,h)}else r=new Date(e);if(isNaN(r.getTime()))return null;const t=new Date;let a=t.getFullYear()-r.getFullYear();const s=t.getMonth()-r.getMonth(),i=t.getDate()-r.getDate();(s<0||s===0&&i<0)&&a--;let o=new Date(t.getFullYear(),r.getMonth(),r.getDate());o>t&&(o=new Date(t.getFullYear()-1,r.getMonth(),r.getDate()));const l=1440*60*1e3,A=Math.floor((t-o)/l);return`${a} anos e ${A} dias`}catch{return null}},pj=e=>{var t,a,s;if(!e)return null;const r=[(t=e==null?void 0:e.user)==null?void 0:t.first_name,(a=e==null?void 0:e.user)==null?void 0:a.last_name].filter(Boolean).join(" ");return(e==null?void 0:e.nome)||(e==null?void 0:e.name)||((s=e==null?void 0:e.usuario)==null?void 0:s.nome)||r||(e==null?void 0:e.username)||(e==null?void 0:e.email)||null},gj=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():null};function s9(){var I,_,W;const[e,r]=w.useState([]),[t,a]=w.useState(!0),[s,i]=w.useState(""),[o,l]=w.useState(""),[A,d]=w.useState("todas"),[f,h]=w.useState(!1),[m,p]=w.useState(null),x=Q=>{p(Q),h(!0)};w.useEffect(()=>{let Q=!0;return(async()=>{var X;try{console.log("[DEBUG] Consultas - Iniciando carregamento...");const R=await na.getConsultas();if(console.log("[DEBUG] Consultas - Resposta da API:",R),!Q)return;let re=[];R.results?re=R.results:(X=R.data)!=null&&X.results?re=R.data.results:R.data&&Array.isArray(R.data)?re=R.data:Array.isArray(R)&&(re=R);let $=re.map(V=>{var ue,E,P;const Z=V.data||V.date||V.dia||V.data_consulta||V.data_hora||V.horario||V.data_hora_inicio||V.agendamento||V.data_agendamento||V.inicio||V.start||null,ie={id:V.id,data:Z,local:V.local||V.endereco||((ue=V.clinica)==null?void 0:ue.endereco)||((E=V.medico)==null?void 0:E.local_atendimento)||"Local no informado",tipo:V.tipo||V.tipo_consulta||"Presencial",status:V.status||"Agendada",medico:null};if(V.medico)if(typeof V.medico=="object"){const Y=pj(V.medico),z=gj(V.medico)||V.especialidade||V.specialty||"Especialidade no informada";ie.medico={id:V.medico.id||((P=V.medico.user)==null?void 0:P.id)||null,nome:Y||"Mdico no informado",especialidade:z}}else ie.medico={id:V.medico,nome:V.medico_nome||V.doctor_name||"Mdico no informado",especialidade:V.especialidade||V.specialty||"Especialidade no informada"};else V.medico_nome||V.doctor_name?ie.medico={id:V.medico_id||null,nome:V.medico_nome||V.doctor_name,especialidade:V.especialidade||V.specialty||"Especialidade no informada"}:V.medico_id&&(ie.medico={id:V.medico_id,nome:"Mdico no informado",especialidade:V.especialidade||V.specialty||"Especialidade no informada"});return ie});try{const V=Array.from(new Set($.filter(Z=>{var ie;return!((ie=Z.medico)!=null&&ie.nome)||Z.medico.nome==="Mdico no informado"}).map(Z=>{var ie;return(ie=Z.medico)==null?void 0:ie.id}).filter(Boolean)));if(V.length){const Z=await Promise.all(V.map(ue=>na.getMedicoById(ue).catch(()=>null))),ie={};Z.forEach((ue,E)=>{const P=V[E];ue&&(ie[P]={id:ue.id||P,nome:pj(ue)||ue.nome||"Mdico",especialidade:gj(ue)||ue.especialidade||"Especialidade no informada"})}),$=$.map(ue=>{var P;const E=(P=ue.medico)==null?void 0:P.id;return E&&ie[E]?{...ue,medico:ie[E]}:ue})}}catch{}r($)}catch(R){if(!Q)return;console.error("Erro ao carregar consultas:",R),i("Erro ao carregar consultas. Tente novamente.")}finally{Q&&a(!1)}})(),()=>{Q=!1}},[]);const v=e.filter(Q=>{var X,R,re,$,V,Z,ie;const K=String(Q.status||"").toLowerCase();if(A==="agendadas"&&!(K.includes("agend")||K.includes("confirm"))||A==="realizadas"&&!(K.includes("conclu")||K.includes("realiz")||K.includes("final")))return!1;if(o){const ue=o.toLowerCase();return((R=(X=Q.medico)==null?void 0:X.nome)==null?void 0:R.toLowerCase().includes(ue))||((V=($=(re=Q.medico)==null?void 0:re.especialidade)==null?void 0:$.toLowerCase)==null?void 0:V.call($).includes(ue))||((Z=Q.local)==null?void 0:Z.toLowerCase().includes(ue))||((ie=Q.tipo)==null?void 0:ie.toLowerCase().includes(ue))}return!0}),b=new Date,N=v.filter(Q=>{const K=(Q.status||"").toLowerCase(),X=K.includes("agend")||K.includes("confirm"),R=Q.data?new Date(Q.data)>b:!1;return X||R}).sort((Q,K)=>new Date(Q.data)-new Date(K.data)),B=v.filter(Q=>{const K=(Q.status||"").toLowerCase(),X=K.includes("conclu")||K.includes("realiz")||K.includes("final"),R=Q.data?new Date(Q.data)<b:!1;return X||R}).sort((Q,K)=>new Date(K.data)-new Date(Q.data)),S=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],F=e.length,L=e.filter(Q=>Q.data&&new Date(Q.data).getFullYear()===new Date().getFullYear()).length,M=N.length,U=B.length;return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(fr,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),n.jsx("p",{className:"text-blue-100",children:"Gerencie suas consultas mdicas"})]})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ye,{variant:"secondary",className:"bg-white/20 text-white border-white/30 hover:bg-white/30 backdrop-blur-sm dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50 dark:text-gray-200",asChild:!0,children:n.jsxs("a",{href:"/paciente/medicos",className:"inline-flex items-center gap-2",children:[n.jsx(Mr,{className:"h-4 w-4"}),"Mdicos"]})}),n.jsx(ye,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold shadow-lg dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:n.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[n.jsx(aN,{className:"h-4 w-4"}),"Entrar em contato"]})})]})]})})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total de Consultas"}),n.jsx("p",{className:"text-3xl font-bold",children:F})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(fr,{className:"h-6 w-6"})})]})})}),n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Prximas Consultas"}),n.jsx("p",{className:"text-3xl font-bold",children:M})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Ur,{className:"h-6 w-6"})})]})})}),n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Consultas Concludas"}),n.jsx("p",{className:"text-3xl font-bold",children:U})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(di,{className:"h-6 w-6"})})]})})}),n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:L})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Ta,{className:"h-6 w-6"})})]})})})]}),n.jsx(Uo,{tabs:S,basePath:"/paciente"}),n.jsx(_e,{className:"border-0 shadow-lg",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(is,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ge,{placeholder:"Buscar por mdico, especialidade ou local...",className:"pl-10 border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400",value:o,onChange:Q=>l(Q.target.value)})]}),n.jsx("div",{className:"flex gap-3",children:n.jsxs(zr,{value:A,onValueChange:d,children:[n.jsx(Or,{className:"w-[180px] border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:n.jsx(qr,{placeholder:"Filtrar por status"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"todas",children:"Todas as consultas"}),n.jsx(at,{value:"agendadas",children:"Agendadas"}),n.jsx(at,{value:"realizadas",children:"Realizadas"})]})]})})]})})}),n.jsxs(Ii,{defaultValue:"agendadas",className:"w-full",children:[n.jsxs(Pi,{className:"grid w-full grid-cols-2 bg-white dark:bg-gray-800 shadow-lg border-0",children:[n.jsx(kr,{value:"agendadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Consultas Agendadas"}),n.jsx(kr,{value:"realizadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Histrico de Consultas"})]}),n.jsx(Rr,{value:"agendadas",children:n.jsxs(_e,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:n.jsxs(Ze,{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[n.jsx(fr,{className:"h-5 w-5"}),"Prximas Consultas"]})}),n.jsx(De,{className:"p-6",children:t?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((Q,K)=>n.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[n.jsx(Qr,{className:"h-4 w-1/3"}),n.jsx(Qr,{className:"h-4 w-1/2"}),n.jsx(Qr,{className:"h-4 w-1/4"})]},K))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:n.jsx(fr,{className:"h-8 w-8 text-red-500"})}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):N.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"rounded-full bg-blue-100 dark:bg-blue-900/20 p-4 w-fit mx-auto mb-4",children:n.jsx(fr,{className:"h-12 w-12 text-blue-500"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Nenhuma consulta agendada"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Voc no possui consultas agendadas no momento."}),n.jsx(ye,{className:"btn-medical-primary shadow-lg",asChild:!0,children:n.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[n.jsx(aN,{className:"h-4 w-4"}),"Entrar em contato"]})})]}):n.jsx("div",{className:"space-y-4",children:N.map(Q=>{var K,X,R;return n.jsx("div",{className:"group relative overflow-hidden rounded-xl border-0 bg-gradient-to-r from-white to-blue-50/50 dark:from-gray-800 dark:to-blue-900/10 p-6 shadow-lg transition-all hover:shadow-xl hover:scale-[1.02]",children:n.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[n.jsx("div",{className:"flex-1 space-y-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"rounded-full bg-gradient-to-r from-blue-500 to-purple-600 p-3 text-white shadow-lg",children:n.jsx(jn,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:((K=Q.medico)==null?void 0:K.nome)||"Mdico no informado"}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((X=Q.medico)==null?void 0:X.especialidade)||"Especialidade no informada"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[n.jsx(Ur,{className:"h-4 w-4"}),n.jsxs("span",{className:"font-medium",children:[Q.data?sF(Q.data):"Data no informada"," s ",Q.data?a9(Q.data):"--:--"]})]})]}),n.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[n.jsx(zg,{className:"h-4 w-4"}),n.jsx("span",{children:Q.local})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-xs font-medium text-white",children:[Q.tipo==="Online"?n.jsx(Bv,{className:"h-3 w-3"}):Q.tipo==="Telefone"?n.jsx(zc,{className:"h-3 w-3"}):n.jsx(Mr,{className:"h-3 w-3"}),Q.tipo]}),n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:Q.status||""})]})]})]})}),n.jsx("div",{className:"flex gap-3",children:n.jsx(ye,{size:"sm",className:"btn-medical-primary shadow-lg",asChild:!0,children:n.jsx("a",{href:`/paciente/consultas/nova${(R=Q.medico)!=null&&R.id?`?medico=${Q.medico.id}`:""}`,children:"Contato p/ agendar"})})})]})},Q.id)})})})]})}),n.jsx(Rr,{value:"realizadas",children:n.jsxs(_e,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-900/20 dark:to-slate-900/20",children:n.jsxs(Ze,{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[n.jsx(Ur,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),n.jsx(De,{className:"p-6",children:t?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((Q,K)=>n.jsx(Qr,{className:"h-12 w-full"},K))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:n.jsx(Ur,{className:"h-8 w-8 text-red-500"})}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):B.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-gray-800 p-4 w-fit mx-auto mb-4",children:n.jsx(Ur,{className:"h-12 w-12 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Voc no possui consultas realizadas no histrico."})]}):n.jsx("div",{className:"overflow-hidden rounded-xl border-0 bg-white dark:bg-gray-800 shadow-lg",children:n.jsxs(ec,{children:[n.jsx(tc,{className:"bg-gray-50 dark:bg-gray-900/50",children:n.jsxs(Bn,{className:"border-0",children:[n.jsx(Tr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Data"}),n.jsx(Tr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Mdico"}),n.jsx(Tr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Especialidade"}),n.jsx(Tr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Tipo"}),n.jsx(Tr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Status"}),n.jsx(Tr,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Aes"})]})}),n.jsx(rc,{children:B.map(Q=>{var K,X;return n.jsxs(Bn,{className:"border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[n.jsx(Dr,{className:"font-medium",children:Q.data?new Date(Q.data).toLocaleDateString():""}),n.jsx(Dr,{children:((K=Q.medico)==null?void 0:K.nome)||""}),n.jsx(Dr,{children:((X=Q.medico)==null?void 0:X.especialidade)||""}),n.jsx(Dr,{children:n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-100 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-700 dark:text-blue-300",children:[Q.tipo==="Online"?n.jsx(Bv,{className:"h-3 w-3"}):Q.tipo==="Telefone"?n.jsx(zc,{className:"h-3 w-3"}):n.jsx(Mr,{className:"h-3 w-3"}),Q.tipo||""]})}),n.jsx(Dr,{children:n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-2 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:Q.status||""})}),n.jsx(Dr,{children:n.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>x(Q),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"Ver Detalhes"})})]},Q.id)})})]})})})]})})]}),n.jsx(yu,{open:f,onOpenChange:h,children:n.jsxs(fd,{className:"max-w-2xl border-0 shadow-2xl",children:[n.jsxs(hd,{className:"pb-6",children:[n.jsx(md,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Detalhes da Consulta"}),n.jsx(Pm,{className:"text-gray-600 dark:text-gray-400",children:"Informaes completas da consulta selecionada"})]}),m?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6",children:[n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold text-lg shadow-lg",children:(((I=m.medico)==null?void 0:I.nome)||"").split(" ").map(Q=>Q==null?void 0:Q[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-gray-100",children:((_=m.medico)==null?void 0:_.nome)||""}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((W=m.medico)==null?void 0:W.especialidade)||"Especialidade no informada"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:m.data?new Date(m.data).toLocaleDateString():""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hora"}),n.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:m.data?new Date(m.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tipo"}),n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-sm font-medium text-white",children:[m.tipo==="Online"?n.jsx(Bv,{className:"h-3 w-3"}):m.tipo==="Telefone"?n.jsx(zc,{className:"h-3 w-3"}):n.jsx(Mr,{className:"h-3 w-3"}),m.tipo]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-sm font-medium text-green-700 dark:text-green-300",children:m.status})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Local"}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[n.jsx(zg,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{children:m.local})]})]})]}):null]})})]})})}function i9(){const[e,r]=w.useState([]),[t,a]=w.useState(!0),[s,i]=w.useState(null),[o,l]=w.useState("todas"),[A,d]=w.useState(""),f=L=>{var M;return((M=L==null?void 0:L.tipo_exame)==null?void 0:M.nome)||(L==null?void 0:L.tipo_exame_nome)||(L==null?void 0:L.nome_exame)||(typeof(L==null?void 0:L.tipo_exame)=="string"?L.tipo_exame:null)||(L==null?void 0:L.nome)||(L==null?void 0:L.tipo)||(L==null?void 0:L.exame)||"Exame"},h=L=>{const M=L==null?void 0:L.user;return[M==null?void 0:M.first_name,M==null?void 0:M.last_name].filter(Boolean).join(" ").trim()||(M==null?void 0:M.nome)||(M==null?void 0:M.username)||(L==null?void 0:L.nome)||""},m=L=>{var I;const M=(L==null?void 0:L.resultado_url)||(L==null?void 0:L.arquivo_resultado)||((I=L==null?void 0:L.resultado)==null?void 0:I.arquivo)||(L==null?void 0:L.arquivo_url)||(L==null?void 0:L.documento_url);return M?/^https?:\/\//i.test(M)?M:`http://127.0.0.1:8000${M.startsWith("/")?"":"/"}${M}`:null};w.useEffect(()=>{let L=!0;return(async()=>{try{const M=await na.getExames();if(L){const I=(Array.isArray(M)?M:(M==null?void 0:M.results)||[]).map(_=>({id:_.id,data:_.data_agendamento||_.data_solicitacao||_.data||_.data_hora||null,nome:f(_),medico:{nome:h((_==null?void 0:_.medico_solicitante)||(_==null?void 0:_.medico))},status:_.status||_.situacao||"Pendente",local:_.local_realizacao||_.local||_.localizacao||_.unidade||"",resultado_url:m(_)}));r(I)}}catch{i("No foi possvel carregar os exames.")}finally{L&&a(!1)}})(),()=>{L=!1}},[]);const p=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],x=e.filter(L=>{var M;if(o==="agendados"){const U=L.data?new Date(L.data)>new Date:!1;if(!U&&(L.status||"").toLowerCase().includes("conclu")||!U&&(L.status||"").toLowerCase()==="realizado")return!1}if(o==="realizados"&&!((L.status||"").toLowerCase().includes("conclu")||(L.status||"").toLowerCase()==="realizado"||(L.data?new Date(L.data)<new Date:!1)))return!1;if(A){const U=A.toLowerCase();return(L.nome||"").toLowerCase().includes(U)||(((M=L.medico)==null?void 0:M.nome)||"").toLowerCase().includes(U)||(L.local||"").toLowerCase().includes(U)}return!0}),v=x.filter(L=>{const M=L.data?new Date(L.data)>new Date:!1,U=(L.status||"").toLowerCase();return M||U==="agendado"||U==="pendente"||U==="solicitado"}).sort((L,M)=>new Date(L.data||0)-new Date(M.data||0)),b=x.filter(L=>{const M=(L.status||"").toLowerCase();return(L.data?new Date(L.data)<new Date:!1)||M.includes("conclu")||M==="realizado"}).sort((L,M)=>new Date(M.data||0)-new Date(L.data||0)),N=e.length,B=v.length,S=b.length,F=e.filter(L=>L.data?new Date(L.data).getFullYear()===new Date().getFullYear():!1).length;return n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-medical-primary/90 via-medical-primary to-medical-secondary p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(Vc,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Meus Exames"}),n.jsx("p",{className:"text-white/90",children:"Gerencie seus exames e resultados"})]})]})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(ye,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Mdicos"]}),n.jsxs(ye,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(fr,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})]})]})}),n.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),n.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/80 to-medical-primary text-white shadow-lg",children:n.jsxs(De,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Total de Exames"}),n.jsx("p",{className:"text-3xl font-bold",children:N})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Ta,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-status-attention/80 to-status-attention text-white shadow-lg",children:n.jsxs(De,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Prximos Exames"}),n.jsx("p",{className:"text-3xl font-bold",children:B})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Ur,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-secondary/80 to-medical-secondary text-white shadow-lg",children:n.jsxs(De,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Concludos"}),n.jsx("p",{className:"text-3xl font-bold",children:S})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(_o,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/60 to-medical-primary/80 text-white shadow-lg",children:n.jsxs(De,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:F})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(jm,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),n.jsx(Uo,{tabs:p,basePath:"/paciente"}),n.jsx(_e,{className:"border-0 shadow-lg",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(is,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ge,{placeholder:"Buscar por exame, mdico ou local...",value:A,onChange:L=>d(L.target.value),className:"pl-10"})]}),n.jsx("div",{className:"w-full md:w-[220px]",children:n.jsxs(zr,{value:o,onValueChange:l,children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Filtrar por status"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"todas",children:"Todos os exames"}),n.jsx(at,{value:"agendados",children:"Agendados"}),n.jsx(at,{value:"realizados",children:"Realizados"})]})]})})]})})}),n.jsxs(Ii,{defaultValue:"agendados",className:"w-full",children:[n.jsxs(Pi,{className:"grid w-full grid-cols-2 h-12 bg-muted/50",children:[n.jsxs(kr,{value:"agendados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Exames Agendados"]}),n.jsxs(kr,{value:"realizados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx(_o,{className:"mr-2 h-4 w-4"}),"Histrico de Exames"]})]}),n.jsx(Rr,{value:"agendados",className:"mt-6",children:n.jsxs(_e,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ze,{className:"flex items-center gap-2 text-xl",children:[n.jsx(Ur,{className:"h-5 w-5 text-amber-500"}),"Prximos Exames"]})}),n.jsx(De,{children:t?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((L,M)=>n.jsxs("div",{className:"rounded-lg border p-4",children:[n.jsx(Qr,{className:"h-6 w-3/4 mb-2"}),n.jsx(Qr,{className:"h-4 w-1/2 mb-2"}),n.jsx(Qr,{className:"h-4 w-1/4"})]},M))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(rd,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):v.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(fr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame agendado"}),n.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames agendados no momento."})]}):n.jsx("div",{className:"space-y-4",children:v.map(L=>{var M;return n.jsx("div",{className:"group rounded-xl border border-border/50 bg-gradient-to-r from-background to-muted/20 p-6 transition-all hover:shadow-lg hover:border-border",children:n.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-foreground group-hover:text-primary transition-colors",children:L.nome}),n.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1",children:[n.jsx(Mr,{className:"h-4 w-4"}),((M=L.medico)==null?void 0:M.nome)||""]})]}),n.jsx(sr,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:L.status})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsxs("span",{children:[L.data?new Date(L.data).toLocaleDateString():""," ",L.data?`s ${new Date(L.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]})]}),L.local&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(di,{className:"h-4 w-4"}),n.jsx("span",{children:L.local})]})]})]})})},L.id||`${L.data}-${L.nome}`)})})})]})}),n.jsx(Rr,{value:"realizados",className:"mt-6",children:n.jsxs(_e,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ze,{className:"flex items-center gap-2 text-xl",children:[n.jsx(_o,{className:"h-5 w-5 text-emerald-500"}),"Histrico de Exames"]})}),n.jsx(De,{children:t?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((L,M)=>n.jsx(Qr,{className:"h-16 w-full"},M))}):s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(rd,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("p",{className:"text-red-500 font-medium",children:s})]}):b.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ta,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame no histrico"}),n.jsx("p",{className:"text-muted-foreground",children:"Voc no possui exames realizados no histrico."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(ec,{children:[n.jsx(tc,{children:n.jsxs(Bn,{className:"border-border/50",children:[n.jsx(Tr,{className:"font-semibold",children:"Data"}),n.jsx(Tr,{className:"font-semibold",children:"Exame"}),n.jsx(Tr,{className:"font-semibold",children:"Mdico"}),n.jsx(Tr,{className:"font-semibold",children:"Status"}),n.jsx(Tr,{className:"font-semibold text-right",children:"Aes"})]})}),n.jsx(rc,{children:x.map(L=>{var M;return n.jsxs(Bn,{className:"border-border/50 hover:bg-muted/30 transition-colors",children:[n.jsx(Dr,{className:"font-medium",children:L.data?new Date(L.data).toLocaleDateString():""}),n.jsx(Dr,{children:n.jsx("div",{className:"font-medium",children:L.nome})}),n.jsx(Dr,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"}),((M=L.medico)==null?void 0:M.nome)||""]})}),n.jsx(Dr,{children:n.jsx(sr,{variant:(L.status||"").toLowerCase().includes("conclu")||(L.status||"").toLowerCase()==="realizado"?"default":"secondary",className:(L.status||"").toLowerCase().includes("conclu")||(L.status||"").toLowerCase()==="realizado"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:L.status||""})}),n.jsx(Dr,{children:n.jsx("div",{className:"flex items-center justify-end gap-2",children:L.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs(ye,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(L.resultado_url,"_blank"),children:[n.jsx(ui,{className:"h-4 w-4 mr-1"}),"Ver"]}),n.jsxs(ye,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>void o9(L),children:[n.jsx(nl,{className:"h-4 w-4 mr-1"}),"Baixar"]})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem resultado"}),n.jsxs(ye,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 cursor-not-allowed",children:[n.jsx(nl,{className:"h-4 w-4 mr-1"}),"Baixar"]})]})})})]},L.id)})})]})})})]})})]})]})}const o9=async e=>{var r;try{let t=e==null?void 0:e.resultado_url;if(!t)return;/^https?:\/\//i.test(t)||(t=`http://127.0.0.1:8000${t.startsWith("/")?"":"/"}${t}`);const a=await Ee.get(t,{responseType:"blob",baseURL:""}),s=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),i=a.headers["content-disposition"]||"",o=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(i),l=decodeURIComponent((o==null?void 0:o[1])||(o==null?void 0:o[2])||`${e.nome||"resultado"}.pdf`),A=document.createElement("a");A.href=URL.createObjectURL(s),A.download=l,document.body.appendChild(A),A.click(),A.remove(),setTimeout(()=>URL.revokeObjectURL(A.href),2e3)}catch(t){console.warn("[Exames] download falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function l9(){const[e,r]=w.useState([]),[t,a]=w.useState(!0),[s,i]=w.useState(null),[o,l]=w.useState("todos"),[A,d]=w.useState("todos"),[f,h]=w.useState(""),m=S=>{var F;return((F=S==null?void 0:S.tipo_exame)==null?void 0:F.nome)||(S==null?void 0:S.tipo_exame_nome)||(S==null?void 0:S.nome_exame)||(typeof(S==null?void 0:S.tipo_exame)=="string"?S.tipo_exame:null)||(S==null?void 0:S.nome)||(S==null?void 0:S.tipo)||(S==null?void 0:S.exame)||"Exame"},p=S=>{const F=S==null?void 0:S.user;return[F==null?void 0:F.first_name,F==null?void 0:F.last_name].filter(Boolean).join(" ").trim()||(F==null?void 0:F.nome)||(F==null?void 0:F.username)||(S==null?void 0:S.nome)||""},x=S=>{var M;const F=(S==null?void 0:S.resultado_url)||(S==null?void 0:S.arquivo_resultado)||((M=S==null?void 0:S.resultado)==null?void 0:M.arquivo)||(S==null?void 0:S.arquivo_url)||(S==null?void 0:S.documento_url);return F?/^https?:\/\//i.test(F)?F:`http://127.0.0.1:8000${F.startsWith("/")?"":"/"}${F}`:null},v=S=>{if(!S)return"sem-data";const F=new Date(S);return Number.isNaN(F.getTime())?"sem-data":F.toISOString().slice(0,10)},b=S=>{try{return new Date(S).toLocaleString()}catch{return S||""}};w.useEffect(()=>{let S=!0;return(async()=>{var F,L,M;try{const[U,I,_]=await Promise.allSettled([na.getConsultas(),na.getExames(),na.getReceitas()]),W=U.status==="fulfilled"?(Array.isArray(U.value)?U.value:(F=U.value)==null?void 0:F.results)||[]:[],Q=I.status==="fulfilled"?(Array.isArray(I.value)?I.value:(L=I.value)==null?void 0:L.results)||[]:[],K=_.status==="fulfilled"?(Array.isArray(_.value)?_.value:(M=_.value)==null?void 0:M.results)||[]:[],X=Q.map(V=>({id:V.id||Math.random(),tipo:"exame",data:V.data_agendamento||V.data_solicitacao||V.data||V.data_hora||null,titulo:`Exame - ${m(V)}`.trim(),detalhe:p((V==null?void 0:V.medico_solicitante)||(V==null?void 0:V.medico)),status:V.status||V.situacao||"pendente",resultado_url:x(V),nome:m(V)})),R=W.map(V=>{var Z,ie;return{id:V.id||Math.random(),tipo:"consulta",data:V.data_hora||V.data||null,titulo:`Consulta - ${V.especialidade||((Z=V.medico)==null?void 0:Z.especialidade)||""}`.trim(),detalhe:((ie=V.medico)==null?void 0:ie.nome)||p(V==null?void 0:V.medico)||"",status:V.status||"pendente"}}),re=K.map(V=>{var ue;const Z=V.medico||((ue=V.consulta)==null?void 0:ue.medico),ie=Array.isArray(V.itens)&&V.itens.length?V.itens.map(E=>{var P;return((P=E==null?void 0:E.medicamento)==null?void 0:P.nome)||(E==null?void 0:E.medicamento)||""}).filter(Boolean).join(", "):V.medicamentos||"Prescrio";return{id:V.id||Math.random(),tipo:"receita",data:V.created_at||V.data||V.emissao||V.data_emissao||null,titulo:`Receita - ${ie}`.trim(),detalhe:p(Z),status:V.status||(V.arquivo_assinado?"assinada":"emitida"),resultado_url:V.arquivo_assinado||null,nome:"Receita"}}),$=[...R,...X,...re].filter(V=>V.data).sort((V,Z)=>new Date(Z.data||0)-new Date(V.data||0));S&&r($)}catch{i("No foi possvel carregar o histrico.")}finally{S&&a(!1)}})(),()=>{S=!1}},[]);const N=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],B=w.useMemo(()=>{let S=e;if(o!=="todos"){const M={consultas:"consulta",exames:"exame",receitas:"receita"};S=S.filter(U=>U.tipo===(M[o]||o))}if(A!=="todos"&&(S=S.filter(M=>(M.status||"").toLowerCase()===A.toLowerCase())),f.trim()){const M=f.toLowerCase();S=S.filter(U=>{var I,_;return((I=U.titulo)==null?void 0:I.toLowerCase().includes(M))||((_=U.detalhe)==null?void 0:_.toLowerCase().includes(M))||(U.status||"").toLowerCase().includes(M)})}const F={};for(const M of S){const U=v(M.data);F[U]||(F[U]=[]),F[U].push(M)}const L=Object.keys(F).sort((M,U)=>M<U?1:-1);return{groups:F,orderedKeys:L}},[e,o,A,f]);return n.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dy,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Histrico Mdico"})]}),n.jsx(Uo,{tabs:N,basePath:"/paciente"}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[n.jsx("div",{className:"flex-1 relative",children:n.jsx(Ge,{placeholder:"Buscar por ttulo, mdico, status...",value:f,onChange:S=>h(S.target.value),className:"w-full"})}),n.jsxs(zr,{value:o,onValueChange:l,children:[n.jsx(Or,{className:"w-[180px]",children:n.jsx(qr,{placeholder:"Tipo"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"consultas",children:"Consultas"}),n.jsx(at,{value:"exames",children:"Exames"}),n.jsx(at,{value:"receitas",children:"Receitas"})]})]}),n.jsxs(zr,{value:A,onValueChange:d,children:[n.jsx(Or,{className:"w-[180px]",children:n.jsx(qr,{placeholder:"Status"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"solicitado",children:"Solicitado"}),n.jsx(at,{value:"agendado",children:"Agendado"}),n.jsx(at,{value:"realizado",children:"Realizado"}),n.jsx(at,{value:"cancelado",children:"Cancelado"}),n.jsx(at,{value:"pendente",children:"Pendente"})]})]})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Linha do Tempo"})}),n.jsx(De,{children:t?n.jsx("div",{className:"space-y-3",children:[...Array(6)].map((S,F)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Qr,{className:"h-4 w-4 rounded-full"}),n.jsx(Qr,{className:"h-6 w-2/3"})]},F))}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):B.orderedKeys.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento encontrado."}):n.jsx("div",{className:"space-y-8",children:B.orderedKeys.map(S=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsx("span",{children:S==="sem-data"?"Sem data":new Date(S).toLocaleDateString()})]}),n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute left-1 top-0 bottom-0 w-px bg-border"}),n.jsx("ul",{className:"space-y-4",children:B.groups[S].map(F=>n.jsxs("li",{className:"relative",children:[n.jsx("span",{className:`absolute -left-[7px] top-1 inline-flex items-center justify-center h-4 w-4 rounded-full ${F.tipo==="consulta"?"bg-primary":F.tipo==="exame"?"bg-emerald-500":"bg-indigo-500"}`,title:F.tipo==="consulta"?"Consulta":F.tipo==="exame"?"Exame":"Receita"}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 text-muted-foreground",children:F.tipo==="consulta"?n.jsx(Mr,{className:"h-4 w-4"}):F.tipo==="exame"?n.jsx(UL,{className:"h-4 w-4 text-emerald-400"}):n.jsx(Wh,{className:"h-4 w-4 text-indigo-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:F.titulo}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.detalhe||""," ",F.status?` ${F.status}`:""]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:b(F.data)})]})]}),F.tipo==="exame"&&n.jsx("div",{className:"flex items-center gap-2",children:F.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:F.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[n.jsx(ui,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),n.jsx("span",{children:"Ver"})]}),n.jsxs(ye,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void xj(F),title:"Baixar arquivo",children:[n.jsx(nl,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),n.jsx("span",{children:"Baixar"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),n.jsxs(ye,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda no disponvel",children:[n.jsx(nl,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixar"})]})]})}),F.tipo==="receita"&&n.jsx("div",{className:"flex items-center gap-2",children:F.resultado_url?n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:F.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",title:"Abrir receita em nova aba",children:[n.jsx(ui,{className:"h-4 w-4"}),n.jsx("span",{children:"Ver"})]}),n.jsxs(ye,{variant:"outline",className:"inline-flex items-center gap-2 rounded-lg border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",onClick:()=>void xj(F),title:"Baixar PDF",children:[n.jsx(nl,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixar"})]})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem PDF assinado"})})]})]},F.id))})]})]},S))})})]})]})}const xj=async e=>{var r;try{let t=e==null?void 0:e.resultado_url;if(!t)return;if(/^(data|blob):/i.test(t)){const d=document.createElement("a");d.href=t,d.download=`${e.nome||"resultado"}.pdf`,document.body.appendChild(d),d.click(),d.remove();return}/^https?:\/\//i.test(t)||(t=`http://127.0.0.1:8000${t.startsWith("/")?"":"/"}${t}`);const a=await Ee.get(t,{responseType:"blob",baseURL:""}),s=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),i=a.headers["content-disposition"]||"",o=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(i),l=decodeURIComponent((o==null?void 0:o[1])||(o==null?void 0:o[2])||`${e.nome||"resultado"}.pdf`),A=document.createElement("a");A.href=URL.createObjectURL(s),A.download=l,document.body.appendChild(A),A.click(),A.remove(),setTimeout(()=>URL.revokeObjectURL(A.href),2e3)}catch(t){console.warn("[Historico Medico] download falhou:",(r=t==null?void 0:t.response)==null?void 0:r.status),alert("No foi possvel baixar o resultado. Tente novamente.")}};function c9(){const[e,r]=w.useState([]),[t,a]=w.useState(!0),[s,i]=w.useState(null);w.useEffect(()=>{let l=!0;return(async()=>{try{const A=await na.getMedicos();l&&r(Array.isArray(A)?A:(A==null?void 0:A.results)||[])}catch{i("No foi possvel carregar os mdicos vinculados.")}finally{l&&a(!1)}})(),()=>{l=!1}},[]);const o=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Mdicos Vinculados"})]}),n.jsx(Uo,{tabs:o,basePath:"/paciente"}),t?n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((l,A)=>n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Qr,{className:"h-5 w-48"})}),n.jsxs(De,{className:"space-y-2",children:[n.jsx(Qr,{className:"h-4 w-56"}),n.jsx(Qr,{className:"h-4 w-32"})]})]},A))}):s?n.jsx("p",{className:"text-sm text-red-500",children:s}):e.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum mdico vinculado."}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:e.map(l=>{var A,d;return n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(jn,{className:"h-5 w-5"}),A9(l)]})}),n.jsxs(De,{className:"space-y-2 text-sm",children:[n.jsx("div",{className:"text-muted-foreground",children:d9(l)}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["CRM: ",yj(l)||""]})]}),vj(l)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:vj(l)})]}),wj(l)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ol,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:wj(l)})]})]})]},l.id||yj(l)||((A=l.user)==null?void 0:A.id)||((d=l.user)==null?void 0:d.email))})})]})}const A9=e=>{const r=(e==null?void 0:e.user)||{};return[r.first_name,r.last_name].filter(Boolean).join(" ").trim()||r.nome||r.name||r.username||(e==null?void 0:e.nome)||(e==null?void 0:e.name)||(e==null?void 0:e.full_name)||"Mdico"},d9=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():"Especialidade no informada"},vj=e=>{var r;return(e==null?void 0:e.telefone)||(e==null?void 0:e.phone)||(e==null?void 0:e.celular)||((r=e==null?void 0:e.user)==null?void 0:r.phone)||null},wj=e=>{var r;return(e==null?void 0:e.email)||((r=e==null?void 0:e.user)==null?void 0:r.email)||null},yj=e=>(e==null?void 0:e.crm)||(e==null?void 0:e.crm_numero)||(e==null?void 0:e.crmNumber)||(e==null?void 0:e.crm_registro)||null,u9="modulepreload",f9=function(e){return"/"+e},bj={},il=function(r,t,a){let s=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),A=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(t.map(d=>{if(d=f9(d),d in bj)return;bj[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":u9,f||(m.as="script"),m.crossOrigin="",m.href=d,A&&m.setAttribute("nonce",A),document.head.appendChild(m),f)return new Promise((p,x)=>{m.addEventListener("load",p),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})};function h9(){const{toast:e}=Ma(),[r,t]=w.useState(!0),[a,s]=w.useState(""),[i,o]=w.useState([]),[l,A]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState({medico:"",observacoes:""}),[p,x]=w.useState(!1),[v,b]=w.useState(""),[N,B]=w.useState("todas"),S=w.useMemo(()=>[{id:"exemplo-1",created_at:"2024-01-15T10:30:00Z",medicamentos:`Dipirona 500mg - 1 comprimido de 6/6h por 5 dias
Paracetamol 750mg - 1 comprimido de 8/8h se dor`,posologia:"Conforme prescrio mdica",observacoes:"Tomar com gua, aps as refeies",validade:"2024-07-15",status:"ativa",situacao:"finalizada",arquivo_assinado:null,medico:{id:1,nome:"Dr. Joo Silva",especialidade:"Clnico Geral",crm:"12345-SP"},consulta:{id:1,data:"2024-01-15",paciente_id:1}},{id:"exemplo-2",created_at:"2023-12-10T14:20:00Z",medicamentos:"Amoxicilina 500mg - 1 cpsula de 8/8h por 7 dias",posologia:"Via oral",observacoes:"Completar todo o tratamento mesmo com melhora dos sintomas",validade:"2024-06-10",status:"expirada",situacao:"finalizada",arquivo_assinado:null,medico:{id:2,nome:"Dra. Maria Santos",especialidade:"Pediatra",crm:"67890-SP"},consulta:{id:2,data:"2023-12-10",paciente_id:1}}],[]),F=w.useMemo(()=>[{id:1,nome:"Dr. Joo Silva",especialidade:"Clnico Geral",crm:"12345-SP"},{id:2,nome:"Dra. Maria Santos",especialidade:"Pediatra",crm:"67890-SP"}],[]),L=w.useMemo(()=>Array.isArray(l)?l.filter(E=>E&&String(E.id??"").trim()!==""):[],[l]),M=E=>{const P=E==null?void 0:E.user;return[P==null?void 0:P.first_name,P==null?void 0:P.last_name].filter(Boolean).join(" ").trim()||(P==null?void 0:P.nome)||(P==null?void 0:P.username)||(E==null?void 0:E.nome)||(E==null?void 0:E.name)||(E==null?void 0:E.full_name)||(E==null?void 0:E.medico_nome)||(E==null?void 0:E.doctor_name)||"Mdico"},U=w.useMemo(()=>(Array.isArray(i)?i:Array.isArray(i==null?void 0:i.results)?i.results:[]).sort((P,Y)=>new Date(Y.created_at||0)-new Date(P.created_at||0)),[i]),I=w.useMemo(()=>U.length>0,[U]),_=w.useMemo(()=>{let E=U;if(N==="todas"?E=U:N==="ativas"?E=E.filter(P=>{const Y=P.validade||P.validade_receita;return Y?new Date(Y)>=new Date:!0}):N==="historico"&&(E=E.filter(P=>{const Y=P.validade||P.validade_receita;return Y?new Date(Y)<new Date:!1})),v){const P=v.toLowerCase();E=E.filter(Y=>{var G;const z=M(Y.medico)||M((G=Y.consulta)==null?void 0:G.medico)||"",J=Y.medicamentos||"",q=Y.observacoes||"";return z.toLowerCase().includes(P)||J.toLowerCase().includes(P)||q.toLowerCase().includes(P)})}return E},[U,N,v]),W=E=>{const P=E.validade||E.validade_receita;return P?new Date(P)>=new Date?"ativa":"expirada":(E.status||E.situacao||"ativa").toLowerCase()},Q=w.useMemo(()=>U.filter(E=>W(E)==="ativa").length,[U]),K=w.useMemo(()=>U.filter(E=>W(E)==="expirada").length,[U]);w.useEffect(()=>{let E=!0;return(async()=>{t(!0),s("");try{let Y=[];try{const J=await na.getReceitas();Y=Array.isArray(J)?J:(J==null?void 0:J.results)||[]}catch(J){console.error("Erro ao carregar receitas:",J.message)}let z=[];try{const J=await na.getMedicosVinculados();z=Array.isArray(J)?J:(J==null?void 0:J.results)||[]}catch(J){console.error("Erro ao carregar mdicos vinculados:",J.message)}if(!E)return;if(o(Y),A(z),z.length===0)try{const J=await na.getMedicos({limit:50}),q=Array.isArray(J)?J:(J==null?void 0:J.results)||[];E&&q.length>0&&A(q)}catch(J){console.error("Erro no fallback de mdicos:",J.message)}Y.length===0&&z.length===0?(o(S),A(F),s("Exibindo dados de exemplo. Conecte-se  API para ver suas receitas reais.")):Y.length===0&&(o(S),s("Nenhuma receita encontrada na API. Exibindo exemplos."))}catch(Y){if(console.error("Erro ao carregar dados:",Y.message),!E)return;s(`Falha ao carregar receitas: ${Y.message||"Erro desconhecido"}`)}finally{E&&t(!1)}})(),()=>{E=!1}},[]);const X=async E=>{var P,Y;if(E.preventDefault(),!h.medico){e({title:"Selecione um mdico",description:"Escolha o mdico para enviar a solicitao."});return}x(!0);try{h.renovacao?(await na.solicitarRenovacao({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),e({title:"Renovao enviada",description:"Seu pedido de renovao foi enviado ao mdico."})):(await na.solicitarReceita({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),e({title:"Solicitao enviada",description:"Seu pedido de receita foi enviado ao mdico."})),f(!1),m({medico:"",mensagem:"",receita:null,renovacao:!1})}catch(z){console.error("Erro ao solicitar receita:",z),e({title:"Erro ao solicitar",description:((Y=(P=z==null?void 0:z.response)==null?void 0:P.data)==null?void 0:Y.detail)||(z==null?void 0:z.message)||"No foi possvel enviar a solicitao.",variant:"destructive"})}finally{x(!1)}},R=async(E,P)=>{var Y;try{if(!E)return;const z=(ve,Pe)=>{const ke=document.createElement("a"),xe=URL.createObjectURL(ve);ke.href=xe,ke.download=decodeURIComponent(Pe),document.body.appendChild(ke),ke.click(),ke.remove(),setTimeout(()=>URL.revokeObjectURL(xe),2e3)},J=(ve,Pe="Receita_Medica.pdf")=>{let ke=ve||Pe;return/\.[a-z0-9]+$/i.test(ke)||(ke+=".pdf"),ke};if(/^data:/i.test(E))try{const ve=E.split(","),Pe=ve[0]||"",ke=ve.slice(1).join(","),xe=(Pe.match(/data:([^;]+)/i)||[])[1]||"application/pdf",de=atob(ke),wt=de.length,bt=new Uint8Array(wt);for(let ut=0;ut<wt;ut++)bt[ut]=de.charCodeAt(ut);const mt=new Blob([bt],{type:xe}),qe=`Receita_${(P==null?void 0:P.id)||"documento"}`,dt=J(qe);z(mt,dt);return}catch(ve){console.error("[Receitas] Falha ao processar data URL:",ve),e({title:"Falha no download",description:"Arquivo invlido ou corrompido.",variant:"destructive"});return}if(/^blob:/i.test(E))try{const Pe=await(await fetch(E)).blob(),ke=`Receita_${(P==null?void 0:P.id)||"documento"}`,xe=J(ke);z(Pe,xe);return}catch(ve){console.error("[Receitas] Blob URL indisponvel (provavelmente de outra aba/sesso):",ve),e({title:"Arquivo indisponvel",description:"Essa receita foi gerada em outra aba/sesso. Gere novamente para baixar.",variant:"destructive"});return}/^https?:\/\//i.test(E)||(E=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${E.startsWith("/")?"":"/"}${E}`);const q=await Ee.get(E,{responseType:"blob",baseURL:""}),G=new Blob([q.data],{type:q.headers["content-type"]||"application/pdf"}),ne=q.headers["content-disposition"]||"",ce=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(ne);let pe=(ce==null?void 0:ce[1])||(ce==null?void 0:ce[2]);if(!pe)try{const ve=new URL(E);pe=decodeURIComponent(ve.pathname.split("/").pop()||"")}catch{pe=""}pe||(pe=`Receita_${(P==null?void 0:P.id)||"documento"}.pdf`),pe=J(pe),z(G,pe)}catch(z){console.error("[Receitas] Falha ao baixar PDF assinado:",((Y=z==null?void 0:z.response)==null?void 0:Y.status)||z),e({title:"Falha no download",description:"No foi possvel baixar o arquivo. Tente novamente.",variant:"destructive"})}},re=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],$=U.length,V=U.filter(E=>E.arquivo_assinado).length,Z=U.filter(E=>E.created_at?new Date(E.created_at).getFullYear()===new Date().getFullYear():!1).length,ie=U.filter(E=>{if(!E.created_at)return!1;const P=new Date(E.created_at),Y=new Date;return Y.setDate(Y.getDate()-30),P>=Y}).length;async function ue(E){try{const{pdfTemplateService:P}=await il(async()=>{const{pdfTemplateService:ce}=await import("./pdfTemplateService-DPUkRXqS.js");return{pdfTemplateService:ce}},[]),Y={medicamento:(E==null?void 0:E.medicamentos)||(E==null?void 0:E.itens)||(E==null?void 0:E.descricao)||"",medicamentos:(E==null?void 0:E.medicamentos)||(E==null?void 0:E.itens)||(E==null?void 0:E.descricao)||"",posologia:(E==null?void 0:E.posologia)||(E==null?void 0:E.orientacoes)||"",observacoes:(E==null?void 0:E.observacoes)||"",validade_receita:(E==null?void 0:E.validade_receita)||"",data_prescricao:(E==null?void 0:E.created_at)||(E==null?void 0:E.data_emissao)||new Date().toISOString(),itens:Array.isArray(E==null?void 0:E.itens_estruturados)&&E.itens_estruturados.length?E.itens_estruturados:[{medicamento:(E==null?void 0:E.medicamentos)||(E==null?void 0:E.itens)||(E==null?void 0:E.descricao)||"",posologia:(E==null?void 0:E.posologia)||(E==null?void 0:E.orientacoes)||"",observacoes:(E==null?void 0:E.observacoes)||""}]},z={nome:(E==null?void 0:E.medico_nome)||(E==null?void 0:E.medico)||"Mdico",crm:(E==null?void 0:E.medico_crm)||"",especialidade:(E==null?void 0:E.especialidade)||"",endereco_consultorio:(E==null?void 0:E.endereco_consultorio)||"",telefone_consultorio:(E==null?void 0:E.telefone_consultorio)||"",email:(E==null?void 0:E.email_medico)||""},J={nome:(E==null?void 0:E.paciente_nome)||(E==null?void 0:E.paciente)||"Paciente",idade:(E==null?void 0:E.idade)||"",rg:(E==null?void 0:E.rg)||"",cpf:(E==null?void 0:E.cpf)||(E==null?void 0:E.rg)||"",data_nascimento:(E==null?void 0:E.data_nascimento)||"",endereco:(E==null?void 0:E.endereco_paciente)||"",telefone:(E==null?void 0:E.telefone_paciente)||""},q=(E==null?void 0:E.medico_id)||"default",G=await P.generatePDF(Y,z,J,q),ne=`Receita_${J.nome.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;P.savePDF(G,ne)}catch(P){console.error("Erro ao gerar PDF:",P);try{const{PDFDocument:Y,StandardFonts:z,rgb:J}=await il(async()=>{const{PDFDocument:bt,StandardFonts:mt,rgb:qe}=await import("./index-CBp2li34.js");return{PDFDocument:bt,StandardFonts:mt,rgb:qe}},[]),q=await Y.create(),G=q.addPage([595.28,841.89]),ne=await q.embedFont(z.Helvetica),ce=(bt,mt,qe,dt=12,ut=J(0,0,0))=>{G.drawText(String(bt||""),{x:mt,y:qe,size:dt,font:ne,color:ut})};let pe=800;ce("Receita Mdica",50,pe,16),pe-=30;const ve=(bt,mt)=>`${bt}: ${mt??""}`;ce(ve("Emitida em",(E==null?void 0:E.created_at)||(E==null?void 0:E.data_emissao)||""),50,pe),pe-=18,ce(ve("Mdico",(E==null?void 0:E.medico_nome)||(E==null?void 0:E.medico)||(E==null?void 0:E.medico_id)||""),50,pe),pe-=18,ce(ve("Paciente",(E==null?void 0:E.paciente_nome)||(E==null?void 0:E.paciente)||(E==null?void 0:E.paciente_id)||""),50,pe),pe-=24,ce("Medicamentos",50,pe,14),pe-=18,ce(String((E==null?void 0:E.medicamentos)||(E==null?void 0:E.itens)||(E==null?void 0:E.descricao)||""),50,pe),pe-=36,ce("Posologia",50,pe,14),pe-=18,ce(String((E==null?void 0:E.posologia)||(E==null?void 0:E.orientacoes)||""),50,pe),pe-=36,E!=null&&E.observacoes&&(ce("Observaes",50,pe,14),pe-=18,ce(String(E==null?void 0:E.observacoes),50,pe),pe-=36),Array.isArray(E==null?void 0:E.itens_estruturados)&&E.itens_estruturados.length&&(ce("Itens estruturados",50,pe,14),pe-=18,E.itens_estruturados.forEach(bt=>{const mt=Object.values(bt||{}).filter(Boolean).join("  ");ce(` ${mt}`,60,pe),pe-=16}),pe-=10);const Pe=await q.save(),ke=new Blob([Pe],{type:"application/pdf"}),xe=`Receita_${(E==null?void 0:E.id)||"documento"}.pdf`,de=document.createElement("a"),wt=URL.createObjectURL(ke);de.href=wt,de.download=xe,document.body.appendChild(de),de.click(),de.remove(),setTimeout(()=>URL.revokeObjectURL(wt),2e3)}catch(Y){console.error("[Receitas] Falha ao gerar PDF local:",Y),e({title:"Falha ao gerar PDF",description:"Tente novamente.",variant:"destructive"})}}}return r?n.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Qr,{className:"h-32 w-full rounded-2xl"}),n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((E,P)=>n.jsx(Qr,{className:"h-32 w-full rounded-xl"},P))}),n.jsx(Qr,{className:"h-16 w-full"}),n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((E,P)=>n.jsx(Qr,{className:"h-48 w-full rounded-xl"},P))})]})}):a?n.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(rd,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-red-500 mb-2",children:"Erro ao carregar receitas"}),n.jsx("p",{className:"text-red-500",children:a})]})}):n.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-700 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:n.jsx(Wh,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Minhas Receitas"}),n.jsx("p",{className:"text-emerald-100",children:"Gerencie suas receitas mdicas"})]})]})}),n.jsx("div",{className:"flex flex-wrap gap-3",children:n.jsxs(ye,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[n.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Mdicos"]})})]})}),n.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),n.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg",children:n.jsxs(De,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Total de Receitas"}),n.jsx("p",{className:"text-3xl font-bold",children:$})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Ta,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:n.jsxs(De,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Assinadas"}),n.jsx("p",{className:"text-3xl font-bold",children:V})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(_o,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg",children:n.jsxs(De,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"ltimos 30 dias"}),n.jsx("p",{className:"text-3xl font-bold",children:ie})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(Ur,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),n.jsx(_e,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg",children:n.jsxs(De,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Este Ano"}),n.jsx("p",{className:"text-3xl font-bold",children:Z})]}),n.jsx("div",{className:"rounded-full bg-white/20 p-3",children:n.jsx(jm,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),n.jsx(Uo,{tabs:re,basePath:"/paciente"}),n.jsx(_e,{className:"border-0 shadow-lg",children:n.jsx(De,{className:"p-6",children:n.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(is,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ge,{placeholder:"Buscar por mdico ou medicamento...",value:v,onChange:E=>b(E.target.value),className:"pl-10"})]})})})}),n.jsx(_e,{className:"border-0 shadow-lg",children:n.jsx(De,{className:"p-6",children:n.jsxs(Ii,{value:N,onValueChange:B,className:"w-full",children:[n.jsxs(Pi,{className:"grid w-full grid-cols-3",children:[n.jsxs(kr,{value:"ativas",className:"flex items-center gap-2",children:[n.jsx(ns,{className:"h-4 w-4"}),"Ativas (",Q,")"]}),n.jsxs(kr,{value:"historico",className:"flex items-center gap-2",children:[n.jsx(dy,{className:"h-4 w-4"}),"Histrico (",K,")"]}),n.jsxs(kr,{value:"todas",className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-4 w-4"}),"Todas (",$,")"]})]}),n.jsx(Rr,{value:N,className:"mt-6",children:I?_.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(is,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Tente ajustar os filtros de busca."})]}):n.jsx("div",{className:"grid gap-6",children:_.map(E=>{var J;const P=E.consulta,Y=M(E.medico)||M(P==null?void 0:P.medico)||E.medico_nome||E.medicoName||"Mdico",z=((J=P==null?void 0:P.paciente)!=null&&J.user?`${P.paciente.user.first_name||""} ${P.paciente.user.last_name||""}`.trim():"Paciente")||"Paciente";return n.jsxs(_e,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-lg bg-emerald-100 p-2 dark:bg-emerald-900",children:n.jsx(Wh,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-lg",children:"Receita Mdica"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitida em ",new Date(E.created_at).toLocaleDateString()," s ",new Date(E.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(sr,{variant:E.arquivo_assinado?"default":"secondary",className:E.arquivo_assinado?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:E.arquivo_assinado?"Assinada":"No assinada"}),E.validade&&n.jsxs(sr,{variant:"outline",className:"text-xs",children:["Vlida at ",E.validade]})]})]})}),n.jsxs(De,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[n.jsx(Mr,{className:"h-4 w-4"}),"Mdico"]}),n.jsx("p",{className:"font-medium",children:Y})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[n.jsx(jn,{className:"h-4 w-4"}),"Paciente"]}),n.jsx("p",{className:"font-medium",children:z})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Medicamentos"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:E.medicamentos})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Posologia"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:E.posologia})})]}),E.observacoes&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Observaes"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:E.observacoes})})]}),Array.isArray(E.itens)&&E.itens.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:"Itens estruturados"}),n.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:n.jsx("ul",{className:"space-y-2",children:E.itens.map(q=>{var G;return n.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[n.jsx("div",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:((G=q.medicamento)==null?void 0:G.nome)||"Medicamento"}),q.dose&&n.jsxs("span",{className:"text-muted-foreground",children:[" - ",q.dose]}),q.frequencia&&n.jsxs("span",{className:"text-muted-foreground",children:[" | ",q.frequencia]}),q.duracao&&n.jsxs("span",{className:"text-muted-foreground",children:[" | ",q.duracao]}),q.observacoes&&n.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:q.observacoes})]})]},q.id)})})})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[E.arquivo_assinado?n.jsxs(n.Fragment,{children:[n.jsxs(ye,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(E.arquivo_assinado,"_blank"),children:[n.jsx(ui,{className:"h-4 w-4 mr-2"}),"Visualizar PDF"]}),n.jsxs(ye,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>R(E.arquivo_assinado,E),children:[n.jsx(nl,{className:"h-4 w-4 mr-2"}),"Baixar PDF Assinado"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs(ye,{variant:"outline",size:"sm",className:"group border-amber-500/60 bg-gradient-to-b from-amber-500/10 to-amber-600/10 text-amber-700 hover:from-amber-500/20 hover:to-amber-600/20 hover:text-amber-800 dark:text-amber-300 dark:hover:text-amber-100",onClick:()=>ue(E),children:[n.jsx(nl,{className:"h-4 w-4 mr-2"}),"Baixar PDF (Gerado)"]}),n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[n.jsx(rd,{className:"h-3 w-3"}),"Receita no assinada digitalmente"]})]}),n.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>{var G,ne,ce;const q=((G=E==null?void 0:E.medico)==null?void 0:G.id)||((ce=(ne=E==null?void 0:E.consulta)==null?void 0:ne.medico)==null?void 0:ce.id)||(E==null?void 0:E.medico_id)||"";m({medico:String(q||""),mensagem:"",receita:(E==null?void 0:E.id)||null,renovacao:!1}),f(!0)},children:[n.jsx(ad,{className:"h-4 w-4 mr-2"}),"Solicitar Receita"]}),n.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>{var ne,ce,pe;const q=((ne=E==null?void 0:E.medico)==null?void 0:ne.id)||((pe=(ce=E==null?void 0:E.consulta)==null?void 0:ce.medico)==null?void 0:pe.id)||(E==null?void 0:E.medico_id)||"",G=`Solicito renovao da receita #${(E==null?void 0:E.id)??""}`.trim();m({medico:String(q||""),mensagem:G,receita:(E==null?void 0:E.id)||null,renovacao:!0}),f(!0)},children:[n.jsx(fy,{className:"h-4 w-4 mr-2"}),"Pedir Renovao"]})]})]})]},E.id)})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Wh,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:N==="ativas"?"Voc no possui receitas ativas no momento.":N==="historico"?"Voc no possui receitas no histrico.":"Voc ainda no possui receitas mdicas."})]})})]})})}),d?n.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-card text-card-foreground border rounded-lg p-6 w-full max-w-lg shadow-lg",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:h.renovacao?"Pedir Renovao de Receita":"Solicitar Receita"}),n.jsxs("form",{onSubmit:X,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Le,{className:"mb-1 block",children:"Mdico"}),n.jsxs(zr,{value:h.medico,onValueChange:E=>m(P=>({...P,medico:E})),children:[n.jsx(Or,{className:"w-full",children:n.jsx(qr,{placeholder:r?"Carregando...":L.length?"Selecione...":"Nenhum mdico disponvel"})}),n.jsx(Hr,{children:L.length===0?n.jsx(N_,{children:"Nenhum mdico disponvel"}):L.map(E=>{const P=(E!=null&&E.user?`${E.user.first_name||""} ${E.user.last_name||""}`.trim():E==null?void 0:E.nome)||"Mdico";return n.jsxs(at,{value:String(E.id),children:[P," ",E.crm?`- CRM ${E.crm}`:""]},String(E.id))})})]})]}),n.jsxs("div",{children:[n.jsx(Le,{className:"mb-1 block",children:"Mensagem (opcional)"}),n.jsx(aa,{rows:3,placeholder:h.renovacao?"Explique sua necessidade de renovao (uso contnuo, desabastecimento, etc.)":"Descreva sua necessidade (ex: nova receita de medicamento)",value:h.mensagem,onChange:E=>m(P=>({...P,mensagem:E.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>{f(!1),m({medico:"",mensagem:"",receita:null,renovacao:!1})},children:"Cancelar"}),n.jsx(ye,{type:"submit",disabled:p,children:p?"Enviando...":h.renovacao?"Enviar pedido de renovao":"Enviar solicitao"})]})]})]})}):null]})}function iF(e,r=[]){const[t,a]=w.useState(null),[s,i]=w.useState(!0),[o,l]=w.useState(null);return w.useEffect(()=>{let d=!0;return(async()=>{var h,m;try{i(!0),l(null);const p=await e();d&&a(p)}catch(p){d&&l(((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.message)||"Erro ao carregar dados")}finally{d&&i(!1)}})(),()=>{d=!1}},r),{data:t,loading:s,error:o,refetch:async()=>{var d,f;try{i(!0),l(null);const h=await e();a(h)}catch(h){l(((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.message)||"Erro ao carregar dados")}finally{i(!1)}}}}const br={async getPerfil(){var o,l,A,d,f,h;const e="/api/medicos/",r=e.endsWith("/")?e:`${e}/`,t="".toLowerCase()==="true",a="".toLowerCase()==="true";let s=Xr.getCurrentUser();if(!(s!=null&&s.id))try{const m=await Xr.refreshCurrentUser();m!=null&&m.id&&(s=m)}catch{}if(s!=null&&s.id){const m="user,user__id,user_id,usuario,usuario_id".split(",").map(p=>p.trim()).filter(Boolean);for(const p of m)try{const x=await Ee.get(r,{params:{[p]:s.id}}),v=Array.isArray((o=x.data)==null?void 0:o.results)?x.data.results:x.data;if(Array.isArray(v)){const b=v.find(N=>{var B,S;return((B=N==null?void 0:N.user)==null?void 0:B.id)===s.id||((S=N==null?void 0:N.usuario)==null?void 0:S.id)===s.id||(N==null?void 0:N.user)===s.id||(N==null?void 0:N.usuario)===s.id});if(b)return b;continue}if(v&&typeof v=="object"){const b=v;if(((l=b==null?void 0:b.user)==null?void 0:l.id)===s.id||((A=b==null?void 0:b.usuario)==null?void 0:A.id)===s.id||(b==null?void 0:b.user)===s.id||(b==null?void 0:b.usuario)===s.id)return b;continue}}catch{}}if(t)try{return(await Ee.get(`${r}me/`)).data}catch(m){if(((d=m==null?void 0:m.response)==null?void 0:d.status)!==404)throw m}let i=null;if(a){const m=[],p="/api/users/".trim();if(p)if(p.includes("/me"))m.push(p);else{const x=p.endsWith("/")?p:`${p}/`;m.push(`${x}me/`)}m.push("/users/me/"),m.push("/auth/user/");for(const x of m)try{if(i=(await Ee.get(x)).data,i&&!i.id){const b=Array.isArray(i==null?void 0:i.results)?i.results[0]:Array.isArray(i)?i[0]:null;b!=null&&b.id&&(i=b)}if(i!=null&&i.id)break}catch{}}try{const m=await Ee.get(r),p=Array.isArray((f=m.data)==null?void 0:f.results)?m.data.results:m.data;if(Array.isArray(p)&&p.length){const x=(i==null?void 0:i.id)||((h=Xr.getCurrentUser())==null?void 0:h.id);if(x){const v=p.find(b=>{var N,B;return((N=b==null?void 0:b.user)==null?void 0:N.id)===x||((B=b==null?void 0:b.usuario)==null?void 0:B.id)===x});if(v)return v}return null}}catch{}return null},async getPacientes(e={}){return(await Ee.get("/api/pacientes/",{params:e})).data},async getPacientesVinculados(e){const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;return(await Ee.get(`${t}${e}/pacientes/`)).data},async getConsultas(e={}){return(await Ee.get("/api/consultas/",{params:e})).data},async getConsultasDoMedico(e={}){var l,A,d,f;const r=await this.getPerfil();let t=null;if((l=r==null?void 0:r.medico)!=null&&l.id?t=r.medico.id:r&&typeof r=="object"&&"crm"in r&&(t=r.id),!t){const h=((A=r==null?void 0:r.user)==null?void 0:A.id)||(r==null?void 0:r.id);if(h)try{const m="/api/medicos/",p=m.endsWith("/")?m:`${m}/`,x="user,user__id,user_id,usuario,usuario_id".split(",").map(v=>v.trim()).filter(Boolean);for(const v of x)try{const b=await Ee.get(p,{params:{[v]:h}}),N=Array.isArray((d=b.data)==null?void 0:d.results)?b.data.results:b.data;if((f=N==null?void 0:N[0])!=null&&f.id){t=N[0].id;break}}catch{}}catch{}}const a={...e};t&&!a.medico&&!a.medico_id&&(a.medico=t,a.medico_id=t);const s=a.date||a.data||a.dia;return s&&(a.date=s,a.data=s,a.dia=s,a.data__date=s),(await Ee.get("/api/consultas/",{params:a})).data},async getConsultasHoje(e){var d,f,h,m;const r="/api/medicos/",t=r.endsWith("/")?r:`${r}/`;let a=e;if(!a){const p=await this.getPerfil();if((d=p==null?void 0:p.medico)!=null&&d.id?a=p.medico.id:p&&typeof p=="object"&&"crm"in p&&(a=p.id),!a){const x=((f=p==null?void 0:p.user)==null?void 0:f.id)||(p==null?void 0:p.id);if(x)try{const v="user,user__id,user_id,usuario,usuario_id".split(",").map(b=>b.trim()).filter(Boolean);for(const b of v)try{const N=await Ee.get(t,{params:{[b]:x}}),B=Array.isArray((h=N.data)==null?void 0:h.results)?N.data.results:N.data;if((m=B==null?void 0:B[0])!=null&&m.id){a=B[0].id;break}}catch{}}catch{}}}const s="false".toLowerCase()==="true";if(a&&s)try{return(await Ee.get(`${t}${a}/consultas_hoje/`)).data}catch{}const i=new Date,o=p=>String(p).padStart(2,"0"),l=`${i.getFullYear()}-${o(i.getMonth()+1)}-${o(i.getDate())}`;return await this.getConsultasDoMedico({date:l})},async getDashboard(){try{const e=new Date,r=o=>String(o).toString().padStart(2,"0"),t=`${e.getFullYear()}-${r(e.getMonth()+1)}-${r(e.getDate())}`,a=await this.getConsultasDoMedico({date:t}),s=Array.isArray(a)?a:Array.isArray(a==null?void 0:a.results)?a.results:[];return{proximas:Array.isArray(s)?s.map(o=>({id:o.id||o.consulta_id||o.uuid,paciente:o.paciente,data_hora:o.data_hora,status:o.status})):[]}}catch{return{proximas:[]}}},async iniciarConsulta(e){if(!e)throw new Error("consultaId  obrigatrio");const r="/consultas/",t=[{method:"post",url:`${r}${e}/iniciar/`,data:void 0},{method:"post",url:`${r}${e}/start/`,data:void 0},{method:"patch",url:`${r}${e}/`,data:{status:"em_andamento"}},{method:"put",url:`${r}${e}/iniciar/`,data:void 0}];let a=null;for(const s of t)try{return(await Ee[s.method](s.url,s.data)).data}catch(i){a=i}throw a||new Error("No foi possvel iniciar a consulta")},async finalizarConsulta(e){if(!e)throw new Error("consultaId  obrigatrio");const t=`/consultas/${e}/finalizar/`;return(await Ee.post(t)).data},async sumarizarConsulta(e,r={}){if(!e)throw new Error("consultaId  obrigatrio");const t="/consultas/",a=[`${t}${e}/sumarizar/`,`${t}${e}/resumir/`,`${t}${e}/summary/`];let s=null;for(const i of a)try{const{data:o}=await Ee.post(i,r);return o}catch(o){s=o}throw s||new Error("Endpoint de sumarizao no disponvel")},async criarProntuario(e){var A;const r="/api/prontuarios/".replace(/\/?$/,"/"),t={...e||{}},a={};for(const[d,f]of Object.entries(t))f!=null&&(typeof f=="string"&&f.trim()===""||(a[d]=typeof f=="string"?f.trim():f));const s=a.consulta_id||a.consulta;s&&(a.consulta_id=s,a.consulta=s);const i=[{method:"post",url:r},{method:"put",url:r},{method:"patch",url:r}],o=r.replace(/prontuarios\/?$/i,"prontuario/");o!==r&&(i.push({method:"post",url:o}),i.push({method:"put",url:o}),i.push({method:"patch",url:o}));let l=null;for(const d of i)try{const{data:f}=await Ee[d.method](d.url,a);return f}catch(f){const h=(A=f==null?void 0:f.response)==null?void 0:A.status;if(h&&[400,422].includes(h)){const m={};s&&(m.consulta_id=s,m.consulta=s);const p=a.queixa_principal||a.queixa,x=a.historia_doenca_atual||a.historia,v=a.diagnostico_principal||a.diagnostico,b=a.conduta||a.plano,N=a.medicamentos_uso||a.medicamentos;p&&(m.queixa_principal=p),x&&(m.historia_doenca_atual=x),v&&(m.diagnostico_principal=v),b&&(m.conduta=b),N&&(m.medicamentos_uso=N),a.alergias&&(m.alergias=a.alergias),a.exames_solicitados&&(m.exames_solicitados=a.exames_solicitados),a.data_retorno&&(m.data_retorno=a.data_retorno);try{const{data:B}=await Ee[d.method](d.url,m);return B}catch(B){l=B}}else if(h===405){l=f;continue}else if(h===404){l=f;continue}else{l=f;break}}throw l||new Error("Falha ao criar pronturio: nenhum endpoint compatvel encontrado.")},async criarReceita(e={}){var N,B,S,F,L,M,U,I,_;if("true".toLowerCase()==="true"){try{console.debug("[medicoService.criarReceita] criao desabilitada por VITE_RECEITAS_CREATE_DISABLED=true")}catch{}return{ok:!1,disabled:!0}}const t="/api/receitas/".replace(/\/?$/,"/"),a="/api/pacientes/".replace(/\/?$/,"/"),s="/api/consultas/".replace(/\/?$/,"/"),i="true".toLowerCase()==="true",o={...e},l=o.paciente_id||o.paciente,A=o.consulta_id||o.consulta,d={...o};!d.paciente_id&&l&&(d.paciente_id=l),!d.paciente&&l&&(d.paciente=l),!d.consulta_id&&A&&(d.consulta_id=A),!d.consulta&&A&&(d.consulta=A),!d.medicamentos&&o.medicamento&&(d.medicamentos=o.medicamento),!d.medicamento&&o.medicamentos&&(d.medicamento=o.medicamentos),!d.validade&&o.validade_receita&&(d.validade=o.validade_receita);try{const W=d.medico_id||d.medico||await this._resolveMedicoId().catch(()=>null);W&&(d.medico_id||(d.medico_id=W),d.medico||(d.medico=W))}catch{}if(!d.consulta_id&&!d.consulta&&(d.paciente_id||d.paciente))try{const W=d.paciente_id||d.paciente,Q=d.medico_id||d.medico||null,K=(()=>{const R=new Date,re=R.getFullYear(),$=String(R.getMonth()+1).padStart(2,"0"),V=String(R.getDate()).padStart(2,"0");return`${re}-${$}-${V}`})(),X=await this._ensureConsultaId(W,Q,K);if(X&&(d.consulta_id=X,d.consulta=X,i))try{console.debug("[medicoService.criarReceita] consulta_id resolvido automaticamente:",X)}catch{}}catch(W){if(i)try{console.warn("[medicoService.criarReceita] no foi possvel resolver consulta_id automaticamente",(N=W==null?void 0:W.response)==null?void 0:N.status)}catch{}}const f=[],h="/api/receitas/".trim();h&&f.push(h),f.push(t),f.push(`${t}criar/`),f.push(`${t}create/`);const m=t.replace(/receitas\/?$/i,"receita/"),p=Array.from(new Set([m,"/receita/"].filter(Boolean)));for(const W of p){const Q=W.replace(/\/?$/,"/");f.push(Q),f.push(`${Q}criar/`),f.push(`${Q}create/`)}if(A&&f.push(`${s}${A}/receitas/`),l&&f.push(`${a}${l}/receitas/`),i){try{console.debug("[medicoService.criarReceita] payload:",d)}catch{}try{console.debug("[medicoService.criarReceita] candidatos:",f)}catch{}}let x=null,v=null;const b=new Set;for(const W of f){if(!W)continue;const Q=W.endsWith("/")?W:`${W}/`,K=["post","put","patch"];for(const X of K){v=`${X.toUpperCase()} ${Q}`;try{if(i)try{console.debug("[medicoService.criarReceita] tentando:",v)}catch{}const{data:R}=await Ee[X](Q,d);if(i)try{console.debug("[medicoService.criarReceita] sucesso:",v,"",R)}catch{}return R}catch(R){const re=(B=R==null?void 0:R.response)==null?void 0:B.status;if(i)try{console.warn("[medicoService.criarReceita] falhou:",v,"status=",re,"detail=",((S=R==null?void 0:R.response)==null?void 0:S.data)||(R==null?void 0:R.message))}catch{}if(re&&[400,422].includes(re)){const $=`${X}:${Q}`;if(!b.has($)){b.add($);const V={},Z=d.paciente_id||d.paciente,ie=d.medico_id||d.medico,ue=d.medicamentos||d.medicamento,E=d.validade||d.validade_receita;if(Z&&(V.paciente=Z,V.paciente_id=Z),ie&&(V.medico=ie,V.medico_id=ie),ue&&(V.medicamentos=ue,V.medicamento=ue),d.posologia&&(V.posologia=d.posologia),E&&(V.validade=E),d.observacoes&&(V.observacoes=d.observacoes),d.consulta_id||d.consulta){const P=d.consulta_id||d.consulta;V.consulta=P,V.consulta_id=P}try{if(i)try{console.debug("[medicoService.criarReceita] retry minimal:",X.toUpperCase(),Q,V)}catch{}const{data:P}=await Ee[X](Q,V);if(i)try{console.debug("[medicoService.criarReceita] sucesso (minimal):",X.toUpperCase(),Q,P)}catch{}return P}catch(P){if(i)try{console.warn("[medicoService.criarReceita] falhou (minimal):",X.toUpperCase(),Q,(F=P==null?void 0:P.response)==null?void 0:F.status,((L=P==null?void 0:P.response)==null?void 0:L.data)||(P==null?void 0:P.message))}catch{}try{const Y=(M=P==null?void 0:P.response)==null?void 0:M.data,z=typeof Y=="string"&&Y||(Y==null?void 0:Y.detail)||(Y==null?void 0:Y.message)||(P==null?void 0:P.message)||"Erro desconhecido",J=Y&&typeof Y=="object"?` | body=${JSON.stringify(Y)}`:typeof Y=="string"?` | body=${Y}`:"";P.message=`Falha ao criar receita (minimal, ltima tentativa: ${v||""})  [${re||""}] ${z}${J}`}catch{}x=P;continue}}try{const V=(U=R==null?void 0:R.response)==null?void 0:U.data,Z=typeof V=="string"&&V||(V==null?void 0:V.detail)||(V==null?void 0:V.message)||(R==null?void 0:R.message)||"Erro desconhecido",ie=V&&typeof V=="object"?` | body=${JSON.stringify(V)}`:typeof V=="string"?` | body=${V}`:"";R.message=`Falha ao criar receita (ltima tentativa: ${v||""})  [${re||""}] ${Z}${ie}`}catch{}continue}if(re===404){x=R;break}if(re===405){x=R;continue}if(re===401)throw R;if(re&&[400,422].includes(re)){x=R;continue}x=R;break}}}if(x){const W=(I=x==null?void 0:x.response)==null?void 0:I.status,Q=(_=x==null?void 0:x.response)==null?void 0:_.data,K=typeof Q=="string"&&Q||(Q==null?void 0:Q.detail)||(Q==null?void 0:Q.message)||(x==null?void 0:x.message)||"Erro desconhecido",X=Q&&typeof Q=="object"?` | body=${JSON.stringify(Q)}`:"";throw new Error(`Falha ao criar receita (ltima tentativa: ${v||""})  [${W||""}] ${K}${X}`)}throw new Error("Falha ao criar receita: nenhum endpoint compatvel encontrado.")},async salvarItensReceita(e,r=[]){var f,h;if(!e)throw new Error("receitaId  obrigatrio para salvar itens.");if(!Array.isArray(r)||r.length===0)return{count:0,results:[]};const t="true".toLowerCase()==="true",a="/api/receitas/".replace(/\/?$/,"/"),s="/api/receitaitem/".trim(),i=r.map(m=>{var v;const p=m.medicamento_id||((v=m.medicamento)==null?void 0:v.id)||m.medicamento;return{receita:e,receita_id:e,medicamento_id:p,medicamento:p,nome:m.nome||m.medicamento_nome||m.descricao||m.texto||m.medicamento||m.medicamentos,medicamento_nome:m.medicamento_nome||m.nome||m.descricao||m.texto,descricao:m.descricao||m.texto||m.nome||m.medicamento,posologia:m.posologia||m.instrucoes||m.indicacoes,dose:m.dose||m.dosagem,frequencia:m.frequencia||m.freq||m.intervalo,duracao:m.duracao||m.dias||m.periodo,observacoes:m.observacoes||m.obs||m.nota}}),o=[];s&&o.push(s),o.push(`${a}${e}/itens/`),o.push(`${a}${e}/items/`),o.push(`${a}${e}/receitaitens/`),o.push("/api/receitaitem/"),o.push("/receitaitem/"),o.push("/api/receitas/itens/"),o.push("/receitas/itens/"),o.push("/meu_app_receitaitem/");let l=null;for(const m of o){if(!m)continue;const p=m.endsWith("/")?m:`${m}/`;try{if(t)try{console.debug("[salvarItensReceita] POST bulk ->",p)}catch{}const x={itens:i,receita:e,receita_id:e},{data:v}=await Ee.post(p,x);return v||{count:i.length,results:i}}catch(x){if(((f=x==null?void 0:x.response)==null?void 0:f.status)===401)throw x;l=x;continue}}const A=[s?s.replace(/\/?$/,"/"):null,"/api/receitaitem/","/receitaitem/","/api/receitas/itens/","/receitas/itens/","/meu_app_receitaitem/"].filter(Boolean),d=[];for(const m of i){let p=null,x=null;for(const v of A){const b=v.endsWith("/")?v:`${v}/`;try{if(t)try{console.debug("[salvarItensReceita] POST single ->",b,m)}catch{}const{data:N}=await Ee.post(b,m);p=N||m;break}catch(N){if(((h=N==null?void 0:N.response)==null?void 0:h.status)===401)throw N;x=N;continue}}p?d.push(p):(x&&(l=x),d.push(m))}if(l&&d.length===0)throw l;return{count:d.length,results:d}},async salvarArquivoAssinado(e,r,t="receita_assinada.pdf"){var h;if(!e)throw new Error("receitaId  obrigatrio para salvar arquivo assinado.");if(!r)throw new Error("Arquivo assinado (Blob/File)  obrigatrio.");const a="true".toLowerCase()==="true",s="/api/receitas/",i=s.endsWith("/")?s:`${s}/`,o="".trim(),l=r instanceof File?r:new File([r],t,{type:"application/pdf"}),A=new FormData;A.append("arquivo_assinado",l,t),A.append("pdf_assinado",l,t),A.append("documento_assinado",l,t),A.append("file",l,t),A.append("pdf",l,t),A.append("documento",l,t),A.append("receita",e),A.append("receita_id",e),A.append("id",e);const d=[];o&&d.push(o),d.push(`${i}${e}/arquivo-assinado/`),d.push(`${i}${e}/arquivo/`),d.push(`${i}${e}/upload/`),d.push(`${i}${e}/anexos/`),d.push(`${i}${e}/`),d.push(`/api/receitas/${e}/`);let f=null;for(const m of d){if(!m)continue;const p=m.endsWith("/")?m:`${m}/`,x=["post","put","patch"];for(const v of x)try{if(a)try{console.debug(`[salvarArquivoAssinado] ${v.toUpperCase()} ->`,p)}catch{}const{data:b}=await Ee[v](p,A);return b||{ok:!0}}catch(b){const N=(h=b==null?void 0:b.response)==null?void 0:h.status;if(N===401)throw b;if(N===404){f=b;break}if(N===405){f=b;continue}if(N&&[400,422].includes(N)){f=b;continue}f=b;break}}throw f||new Error("Falha ao salvar arquivo assinado: nenhum endpoint compatvel.")},async computeSHA256Hex(e){const t=await(e instanceof Blob?e:new Blob([e])).arrayBuffer(),a=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(a);return Array.from(s).map(o=>o.toString(16).padStart(2,"0")).join("")},async gerarDocumentoReceita(e={}){var x,v,b;const r="true".toLowerCase()==="true",t="/api/receitas/".replace(/\/?$/,"/"),a={...e},s=a.paciente_id||a.paciente,i=a.consulta_id||a.consulta,o=(a.formato||"pdf").toLowerCase(),l={...a};!l.paciente_id&&s&&(l.paciente_id=s),!l.paciente&&s&&(l.paciente=s),!l.consulta_id&&i&&(l.consulta_id=i),!l.consulta&&i&&(l.consulta=i),!l.medicamentos&&a.medicamento&&(l.medicamentos=a.medicamento),!l.medicamento&&a.medicamentos&&(l.medicamento=a.medicamentos),!l.validade&&a.validade_receita&&(l.validade=a.validade_receita),a.nome_paciente&&!l.paciente_nome&&(l.paciente_nome=a.nome_paciente),a.medico&&!l.medico_nome&&(l.medico_nome=a.medico),a.crm&&!l.medico_crm&&(l.medico_crm=a.crm),l.formato=o;try{const N=l.medico_id||l.medico||await this._resolveMedicoId().catch(()=>null);N&&(l.medico_id||(l.medico_id=N),l.medico||(l.medico=N))}catch{}const A=[],d="/api/receitas/gerar/".trim();d&&A.push(d),A.push(`${t}pdf/`),A.push(`${t}gerar/`),A.push(`${t}documento/`),A.push("/api/gerar-receita/"),(N=>{const B=N.replace(/\/?$/,"/");A.push(`${B}generate/`),A.push(`${B}preview/`)})(t);const h=t.replace(/receitas\/?$/i,"receita/");if(h!==t&&(A.push(`${h}pdf/`),A.push(`${h}gerar/`)),r)try{console.debug("[medicoService.gerarDocumentoReceita] candidatos:",A)}catch{}const m=async N=>{var M,U,I,_,W,Q,K;const B=((M=N.headers)==null?void 0:M["content-type"])||((I=(U=N.headers)==null?void 0:U.get)==null?void 0:I.call(U,"content-type"))||"",S=((_=N.headers)==null?void 0:_["content-disposition"])||((Q=(W=N.headers)==null?void 0:W.get)==null?void 0:Q.call(W,"content-disposition"));let F=`receita.${o}`;if(S){const X=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(S);F=decodeURIComponent((X==null?void 0:X[1])||(X==null?void 0:X[2])||F)}if(B.includes("application/json"))try{const X=await new Response(N.data).text(),R=JSON.parse(X),re=R.file||R.url||R.pdf||R.documento||R.download_url||R.link;if(re){const $=await Ee.get(re,{responseType:"blob"}),V=new Blob([$.data],{type:((K=$.headers)==null?void 0:K["content-type"])||(o==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.wordprocessingml.document")});return{filename:F||re.split("/").pop()||`receita.${o}`,blob:V}}}catch{}const L=new Blob([N.data],{type:B||(o==="pdf"?"application/pdf":"application/octet-stream")});return{filename:F,blob:L}};let p=null;for(const N of A){if(!N)continue;const B=N.endsWith("/")?N:`${N}/`;try{if(r)try{console.debug("[gerarDocumentoReceita] POST",B)}catch{}const S=await Ee.post(B,l,{responseType:"blob"});return await m(S)}catch(S){if(((x=S==null?void 0:S.response)==null?void 0:x.status)===401)throw S;p=S}try{if(r)try{console.debug("[gerarDocumentoReceita] PUT",B)}catch{}const S=await Ee.put(B,l,{responseType:"blob"});return await m(S)}catch(S){if(((v=S==null?void 0:S.response)==null?void 0:v.status)===401)throw S;p=S}try{if(r)try{console.debug("[gerarDocumentoReceita] GET",B)}catch{}const S=await Ee.get(B,{params:l,responseType:"blob"});return await m(S)}catch(S){if(((b=S==null?void 0:S.response)==null?void 0:b.status)===401)throw S;p=S}}try{const{PDFDocument:N,StandardFonts:B,rgb:S}=await il(async()=>{const{PDFDocument:K,StandardFonts:X,rgb:R}=await import("./index-CBp2li34.js");return{PDFDocument:K,StandardFonts:X,rgb:R}},[]),F=await N.create(),L=F.addPage([595.28,841.89]),M=await F.embedFont(B.Helvetica),U=(K,X,R,re=12,$=S(0,0,0))=>{L.drawText(String(K||""),{x:X,y:R,size:re,font:M,color:$})};let I=800;U("Receita Mdica",50,I,16),I-=30,U(`Paciente: ${l.nome_paciente||l.paciente_nome||l.paciente_id||""}`,50,I),I-=18,U(`Idade: ${l.idade||""}`,50,I),I-=18,U(`RG/CPF: ${l.rg||l.cpf||""}`,50,I),I-=18,U(`Nascimento: ${l.data_nascimento||""}`,50,I),I-=24,U("Medicamentos",50,I,14),I-=18,U(String(l.medicamentos||l.medicamento||""),50,I),I-=36,U("Posologia",50,I,14),I-=18,U(String(l.posologia||""),50,I),I-=36,l.observacoes&&(U("Observaes",50,I,14),I-=18,U(String(l.observacoes),50,I),I-=36),U(`Mdico: ${l.medico||""}`,50,I),I-=18,U(`CRM: ${l.crm||""}`,50,I),I-=18,U(`Endereo: ${l.endereco_consultorio||""}`,50,I),I-=18,U(`Telefone: ${l.telefone_consultorio||""}`,50,I),I-=24;const _=await F.save(),W=new Blob([_],{type:"application/pdf"});return{filename:`receita.${o}`,blob:W}}catch{throw p||new Error("Falha ao gerar documento de receita: nenhum endpoint compatvel e fallback local indisponvel.")}},async buscarPacientes(e){return(await Ee.get("/api/pacientes/",{params:{search:e}})).data},async atualizarPacienteById(e,r){if(!e)throw new Error("id do paciente  obrigatrio");const t="/api/pacientes/",a=t.endsWith("/")?t:`${t}/`;return(await Ee.patch(`${a}${e}/`,r)).data},async _resolveMedicoId(){var e,r,t,a,s,i;try{const o=await this.getPerfil();if((e=o==null?void 0:o.medico)!=null&&e.id)return o.medico.id;if(o!=null&&o.id&&(o.crm||o.matricula||o.especialidade))return o.id;const l=((r=o==null?void 0:o.user)==null?void 0:r.id)||((t=Xr.getCurrentUser())==null?void 0:t.id);if(!l)return null;const A="/api/medicos/",d=A.endsWith("/")?A:`${A}/`,f="user,user__id,user_id,usuario,usuario_id".split(",").map(h=>h.trim()).filter(Boolean);for(const h of f)try{const m=await Ee.get(d,{params:{[h]:l}}),p=Array.isArray((a=m.data)==null?void 0:a.results)?m.data.results:m.data;if(Array.isArray(p)){const x=p.find(v=>{var b,N;return((b=v==null?void 0:v.user)==null?void 0:b.id)===l||((N=v==null?void 0:v.usuario)==null?void 0:N.id)===l||(v==null?void 0:v.user)===l||(v==null?void 0:v.usuario)===l});if(x!=null&&x.id)return x.id;continue}if(p&&typeof p=="object"){const x=p;if((((s=x==null?void 0:x.user)==null?void 0:s.id)===l||((i=x==null?void 0:x.usuario)==null?void 0:i.id)===l||(x==null?void 0:x.user)===l||(x==null?void 0:x.usuario)===l)&&(x!=null&&x.id))return x.id;continue}}catch{}}catch{}return null},async _ensureConsultaId(e,r=null,t=null){var a,s,i,o;try{if(!e)return null;const l="true".toLowerCase()==="true",A=(()=>{if(t&&/^\d{4}-\d{2}-\d{2}$/.test(String(t)))return t;const f=new Date,h=m=>String(m).padStart(2,"0");return`${f.getFullYear()}-${h(f.getMonth()+1)}-${h(f.getDate())}`})(),d="/api/consultas/".replace(/\/?$/,"/");try{const f={paciente:e,paciente_id:e,date:A,data:A,dia:A,data__date:A},h=r||await this._resolveMedicoId().catch(()=>null);h&&(f.medico=h,f.medico_id=h);const m=await Ee.get(d,{params:f}),p=Array.isArray((a=m.data)==null?void 0:a.results)?m.data.results:m.data;if(Array.isArray(p)){const x=p.find(v=>(v==null?void 0:v.id)||(v==null?void 0:v.consulta_id)||(v==null?void 0:v.uuid));if(x){const v=x.id||x.consulta_id||x.uuid;if(l)try{console.debug("[_ensureConsultaId] encontrada consulta existente:",v)}catch{}return v}}}catch(f){if(l)try{console.warn("[_ensureConsultaId] falha ao buscar consulta existente:",(s=f==null?void 0:f.response)==null?void 0:s.status)}catch{}}try{const f=r||await this._resolveMedicoId().catch(()=>null);if(!f){if(l)try{console.warn("[_ensureConsultaId] mdico no resolvido; abortando criao da consulta")}catch{}return null}const h={medico:f,medico_id:f,paciente:e,paciente_id:e,data_hora:`${A}T00:00:00`,tipo:"rotina",motivo:"Emisso de receita automtica"},m=[d];for(const p of m){const x=p.endsWith("/")?p:`${p}/`;try{if(l)try{console.debug("[_ensureConsultaId] criando consulta em:",x,h)}catch{}const{data:v}=await Ee.post(x,h),b=(v==null?void 0:v.id)||(v==null?void 0:v.consulta_id)||(v==null?void 0:v.uuid);if(b){if(l)try{console.debug("[_ensureConsultaId] consulta criada:",b)}catch{}return b}}catch(v){const b=(i=v==null?void 0:v.response)==null?void 0:i.status;if(l)try{console.warn("[_ensureConsultaId] falha ao criar em",x,b,((o=v==null?void 0:v.response)==null?void 0:o.data)||(v==null?void 0:v.message))}catch{}if([401,404,405].includes(b))continue}}}catch(f){if(l)try{console.warn("[_ensureConsultaId] erro inesperado na criao:",f==null?void 0:f.message)}catch{}}return null}catch{return null}},async getCertificadoInfo(){var o,l;const e=[],r="".trim();r&&e.push(r);const t="/api/medicos/",a=t.endsWith("/")?t:`${t}/`;e.push(`${a}me/certificado/`),e.push(`${a}certificado/`),e.push("/medico/certificado/"),e.push("/assinatura/certificado/"),e.push("/certificados/"),e.push("/api/medicos/me/certificado/"),e.push("/api/medicos/certificado/"),e.push("/api/certificados/");let s=null;try{s=await this._resolveMedicoId()}catch{}s&&(e.push(`${a}${s}/certificado/`),e.push(`${a}${s}/assinatura/`),e.push(`/api/medicos/${s}/certificado/`),e.push(`/api/medicos/${s}/assinatura/`));let i=null;for(const A of e){if(!A)continue;const d=A.endsWith("/")?A:`${A}/`;try{const{data:f}=await Ee.get(d),h=Array.isArray(f==null?void 0:f.results)?(o=f.results)==null?void 0:o[0]:Array.isArray(f)?f[0]:f;return h||f||null}catch(f){const h=(l=f==null?void 0:f.response)==null?void 0:l.status;if(h===404){i=f;continue}if(h===401)throw f;i=f}}if(i)throw i;return null},async uploadCertificado(e){var A;let r;if(e instanceof FormData)r=e;else if(e&&e.name)r=new FormData,r.append("file",e),r.append("certificado",e),r.append("pfx",e);else throw new Error("Parmetro invlido:  esperado FormData ou File.");const t=[],a="/api/medicos/me/certificado/".trim();a&&t.push(a);const s="/api/medicos/",i=s.endsWith("/")?s:`${s}/`;t.push(`${i}me/certificado/`),t.push(`${i}certificado/`),t.push("/medico/certificado/"),t.push("/assinatura/certificado/"),t.push("/certificados/");let o=null;try{o=await this._resolveMedicoId()}catch{}o&&(t.push(`${i}${o}/certificado/`),t.push(`${i}${o}/assinatura/`));let l=null;for(const d of t){if(!d)continue;const f=d.endsWith("/")?d:`${d}/`,h=["post","put","patch"];for(const m of h)try{const{data:p}=await Ee[m](f,r);return p}catch(p){const x=(A=p==null?void 0:p.response)==null?void 0:A.status;if(x===404){l=p;break}if(x===405){l=p;continue}if(x===401||x&&[400,422].includes(x))throw p;l=p;break}}throw l||new Error("Falha ao enviar certificado: nenhum endpoint compatvel.")},async enviarReceita({receitaId:e,pacienteId:r,email:t,formato:a="pdf",file:s,filename:i}){var x,v,b,N,B;if(!t&&!r&&!e&&!s)throw new Error("Fornea ao menos email, pacienteId, receitaId ou arquivo para envio.");const o="true".toLowerCase()==="true",l="/api/receitas/".replace(/\/?$/,"/"),A="/api/pacientes/".replace(/\/?$/,"/");if(!e&&r){const S=async M=>{var U;try{const I=await Ee.get(l,{params:M}),_=I==null?void 0:I.data,W=Array.isArray(_)?_:Array.isArray(_==null?void 0:_.results)?_.results:[],Q=W==null?void 0:W[0],K=(Q==null?void 0:Q.id)||(Q==null?void 0:Q.pk)||(Q==null?void 0:Q.uuid)||((U=Q==null?void 0:Q.receita)==null?void 0:U.id);if(K)return String(K)}catch{}return null},F=[],L=["-created_at","-created","-data","-date","-id","-pk"];for(const M of L)F.push({paciente:r,ordering:M,page_size:1,limit:1}),F.push({paciente_id:r,ordering:M,page_size:1,limit:1});for(const M of F){const U=await S(M);if(U){e=U;break}}o&&e&&console.debug("[medicoService.enviarReceita] receitaId inferido via listagem:",e)}const d=new FormData;if(s){const S=i||s.name||`receita.${a||"pdf"}`;d.append("file",s,S),d.append("pdf",s,S),d.append("documento",s,S)}t&&(d.append("email",t),d.append("to",t),d.append("destinatario",t),d.append("paciente_email",t)),a&&d.append("formato",a),e&&(d.append("id",e),d.append("receita",e),d.append("receita_id",e)),r&&(d.append("paciente",r),d.append("paciente_id",r)),d.append("assinar","true");const f={email:t,to:t,destinatario:t,paciente_email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},h=[],m="/api/receitas/enviar/".trim();m&&h.push(m),e&&(h.push(`${l}${e}/enviar/`),h.push(`${l}${e}/enviar-email/`),h.push(`${l}${e}/enviar_email/`),h.push(`${l}${e}/email/`),h.push(`${l}${e}/send-email/`),h.push(`${l}${e}/send/`)),h.push(`${l}enviar/`),h.push(`${l}enviar-email/`),h.push(`${l}enviar_email/`),h.push(`${l}email/`),h.push(`${l}send-email/`),h.push(`${l}send/`),h.push("/email/receitas/"),h.push("/receitas/email/"),h.push("/email/send/"),h.push("/send-email/"),r&&(h.push(`${A}${r}/receitas/enviar/`),h.push(`${A}${r}/receitas/email/`),h.push(`${A}${r}/receitas/send/`),e&&(h.push(`${A}${r}/receitas/${e}/enviar/`),h.push(`${A}${r}/receitas/${e}/enviar-email/`),h.push(`${A}${r}/receitas/${e}/enviar_email/`),h.push(`${A}${r}/receitas/${e}/email/`),h.push(`${A}${r}/receitas/${e}/send-email/`),h.push(`${A}${r}/receitas/${e}/send/`)));let p=null;for(const S of h){if(!S)continue;const F=S.endsWith("/")?S:`${S}/`,L=U=>{o&&console.debug(`[medicoService.enviarReceita] ${U} ->`,F,{receitaId:e,pacienteId:r,email:t,formato:a})};if(/\/(enviar|email|send(-email)?)\/?$/i.test(F)&&!s)try{L("GET");const U={email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},{data:I}=await Ee.get(F,{params:U});return I}catch(U){if(p=U,((x=U==null?void 0:U.response)==null?void 0:x.status)===401)throw U}try{L("POST multipart");const{data:U}=await Ee.post(F,d);return U}catch(U){const I=(v=U==null?void 0:U.response)==null?void 0:v.status;if(I===401)throw U;I&&[400,422].includes(I),p=U}if(!s)try{L("POST json");const{data:U}=await Ee.post(F,f);return U}catch(U){const I=(b=U==null?void 0:U.response)==null?void 0:b.status;if(I===401)throw U;I&&[400,422].includes(I),p=U}try{L("PUT multipart");const{data:U}=await Ee.put(F,d);return U}catch(U){const I=(N=U==null?void 0:U.response)==null?void 0:N.status;if(I===401)throw U;I&&[400,422].includes(I),p=U}if(!s)try{L("GET fallback");const U={email:t,formato:a,id:e,receita:e,receita_id:e,paciente:r,paciente_id:r,assinar:!0},{data:I}=await Ee.get(F,{params:U});return I}catch(U){if(((B=U==null?void 0:U.response)==null?void 0:B.status)===401)throw U;p=U}}throw p||new Error("Falha ao enviar receita: nenhum endpoint compatvel encontrado.")},async ensureMedicoRecord(e={}){var d;const r=Xr.getCurrentUser()||await Xr.refreshCurrentUser(),t=r==null?void 0:r.id;if(!t)throw new Error("Usurio no autenticado ou no disponvel.");try{const f=await this._resolveMedicoId();if(f){const h="/api/medicos/",m=h.endsWith("/")?h:`${h}/`;try{return(await Ee.get(`${m}${f}/`)).data||{id:f}}catch{return{id:f}}}}catch{}const a="/api/medicos/",s=a.endsWith("/")?a:`${a}/`,i={...e};i.user=i.user||t,i.user_id=i.user_id||t,i.usuario=i.usuario||t,i.usuario_id=i.usuario_id||t;const o=String(i.status||i.situacao||i.state||"pending").toLowerCase();i.status=o,i.situacao=i.situacao||o,i.state=i.state||o;const l=[s,`${s}create/`,"/api/medicos/","/admin/medicos/"];let A=null;for(const f of l){const h=f.endsWith("/")?f:`${f}/`;try{const{data:m}=await Ee.post(h,i),p=(m==null?void 0:m.id)||(m==null?void 0:m.pk)||(m==null?void 0:m.uuid);if(p)try{localStorage.setItem("medico_id",String(p))}catch{}try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return m}catch(m){const p=(d=m==null?void 0:m.response)==null?void 0:d.status;if(p===401)throw m;if(p===405){A=m;continue}if(A=m,Object.values(e||{}).some(v=>v instanceof File||v instanceof Blob))try{const v=new FormData;for(const[B,S]of Object.entries(i))S!=null&&(v.append(B,S),B==="user"&&(v.append("usuario",S),v.append("user_id",S),v.append("usuario_id",S)),B==="status"&&(v.append("situacao",S),v.append("state",S)));const{data:b}=await Ee.post(h,v),N=(b==null?void 0:b.id)||(b==null?void 0:b.pk)||(b==null?void 0:b.uuid);if(N)try{localStorage.setItem("medico_id",String(N))}catch{}try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return b}catch(v){A=v;continue}}}throw A||new Error("Falha ao criar registro do mdico: nenhum endpoint compatvel.")},async ensurePerfilMedico(e={}){var f,h;try{const m=await this.getPerfil();if(m&&(m.id||m.user||m.medico))return m}catch{}const r=Xr.getCurrentUser()||await Xr.refreshCurrentUser(),t=r==null?void 0:r.id;if(!t)throw new Error("Usurio no autenticado ou no disponvel.");let a=e.medico_id||e.medico||null;if(!a){try{a=await this._resolveMedicoId()}catch{}if(!a)try{const m=await this.ensureMedicoRecord({});a=(m==null?void 0:m.id)||((f=m==null?void 0:m.medico)==null?void 0:f.id)||null}catch{}}const s={...e};s.user=s.user||t,s.user_id=s.user_id||t,s.usuario=s.usuario||t,s.usuario_id=s.usuario_id||t,a&&(s.medico=s.medico||a,s.medico_id=s.medico_id||a);const i=String(s.status||s.situacao||s.state||"pending").toLowerCase();s.status=i,s.situacao=s.situacao||i,s.state=s.state||i;const o=["/perfil-medico/","/perfil/medico/","/perfis/medico/","/profiles/medico/","/api/perfil-medico/","/api/perfil/medico/"],l="/api/medicos/",A=l.endsWith("/")?l:`${l}/`;a&&(o.push(`${A}${a}/perfil/`),o.push(`/api/medicos/${a}/perfil/`)),o.push(`${A}me/perfil/`);let d=null;for(const m of o){const p=m.endsWith("/")?m:`${m}/`,x=["post","put","patch"];for(const v of x)try{const{data:b}=await Ee[v](p,s);try{t&&localStorage.setItem(`medicoApplicationStatus:${t}`,"pending")}catch{}return b}catch(b){const N=(h=b==null?void 0:b.response)==null?void 0:h.status;if(N===401)throw b;if(N===405){d=b;continue}if(N===404){d=b;break}d=b;break}}throw d||new Error("Falha ao criar perfil do mdico: nenhum endpoint compatvel.")},async ensureMedicoAndPerfil(e={},r={}){var l;const t=Xr.getCurrentUser()||await Xr.refreshCurrentUser(),a=t==null?void 0:t.id,s=await this.ensureMedicoRecord(e),i=(s==null?void 0:s.id)||((l=s==null?void 0:s.medico)==null?void 0:l.id)||null,o=await this.ensurePerfilMedico({...r,medico_id:r.medico_id||i});try{a&&localStorage.setItem(`medicoApplicationStatus:${a}`,"pending")}catch{}return{medico:s,perfil:o}},async updatePerfilMedico(e={}){var h,m;const r={...e},t=e.telefone||e.celular||e.phone||((h=e.contato)==null?void 0:h.telefone);t!=null&&(r.telefone=t,r.celular||(r.celular=t),r.phone||(r.phone=t),r.contato={...r.contato||{},telefone:t});let a=e.endereco||e.address||e.local;a&&typeof a=="object"&&(a=`${a.logradouro||a.rua||""} ${a.numero||""} ${a.bairro||""} ${a.cidade||""} ${a.estado||""}`.trim()),a!=null&&(r.endereco=a,r.address||(r.address=a),r.local||(r.local=a));const s=e.especialidade??e.especialidade_id??e.especialidade_nome??e.especialidade_label??e.especialidade_obj;if(s!=null){if(typeof s=="number")r.especialidade_id=s;else if(typeof s=="string")r.especialidade=s,r.especialidade_nome=s,r.especialidade_label=s;else if(typeof s=="object"){const p=s.nome||s.label||s.titulo,x=s.id;x!=null&&(r.especialidade_id=x),p&&(r.especialidade=p,r.especialidade_nome=p,r.especialidade_label=p)}}let i=null;try{i=await this._resolveMedicoId()}catch{}const o="/api/medicos/",l=o.endsWith("/")?o:`${o}/`,A=[],d="".trim();d&&A.push(d),A.push(`${l}me/`),i&&A.push(`${l}${i}/`),i&&A.push(`${l}${i}/perfil/`),A.push(`${l}me/perfil/`),A.push("/perfil-medico/"),A.push("/perfil/medico/"),A.push("/perfis/medico/"),A.push("/profiles/medico/"),A.push("/api/perfil-medico/"),A.push("/api/perfil/medico/");let f=null;for(const p of A){if(!p)continue;const x=p.endsWith("/")?p:`${p}/`,v=["patch","put","post"];for(const b of v)try{const{data:N}=await Ee[b](x,r);return N}catch(N){const B=(m=N==null?void 0:N.response)==null?void 0:m.status;if(B===401)throw N;if(B===404){f=N;break}if(B===405){f=N;continue}if(B&&[400,422].includes(B))throw N;f=N;break}}throw f||new Error("Falha ao atualizar dados do mdico: nenhum endpoint compatvel.")},async _applySignatureStampToPdf(e,r={}){var t,a,s;try{const i=String(r.signerName||"Mdico(a)").trim(),o=String(r.dateString||(()=>{const X=new Date,R=re=>String(re).padStart(2,"0");return`${X.getFullYear()}.${R(X.getMonth()+1)}.${R(X.getDate())} ${R(X.getHours())}:${R(X.getMinutes())}:${R(X.getSeconds())}`})()),l=r.receitaId||null,A=r.verifyUrl||this.buildVerifyUrl(l),d=r.certInfo||null,{PDFDocument:f,StandardFonts:h,rgb:m}=await il(async()=>{const{PDFDocument:X,StandardFonts:R,rgb:re}=await import("./index-CBp2li34.js");return{PDFDocument:X,StandardFonts:R,rgb:re}},[]),p=await il(()=>import("./browser-H3_C0QDG.js").then(X=>X.b),[]),x=e instanceof Blob?e:new Blob([await((t=e.arrayBuffer)==null?void 0:t.call(e))]),v=new Uint8Array(await x.arrayBuffer()),b=await f.load(v),N=b.getPages(),B=N[N.length-1],S=await b.embedFont(h.Helvetica),F=await b.embedFont(h.HelveticaBold);let L;try{const R=(await p.default.toDataURL(String(A||""),{errorCorrectionLevel:"H",margin:1,width:256,color:{dark:"#000000",light:"#FFFFFF"}})||"").split(",")[1]||"",re=Uint8Array.from(atob(R),$=>$.charCodeAt(0));L=await b.embedPng(re)}catch{}const{width:M,height:U}=B.getSize(),I={x:80,y:80,w:200,h:80},_={x:M-150,y:80,w:80,h:80};B.drawRectangle({x:I.x,y:I.y,width:I.w,height:I.h,color:m(.98,.98,1),borderColor:m(.2,.2,.8),borderWidth:1}),B.drawText("ASSINATURA DIGITAL",{x:I.x+10,y:I.y+I.h-15,size:10,font:F,color:m(.2,.2,.8)});const W=((a=d==null?void 0:d.subject)==null?void 0:a.commonName)||i;B.drawText(`${W}`,{x:I.x+10,y:I.y+I.h-30,size:9,font:S,color:m(0,0,0)});let Q=I.h-45;d!=null&&d.subject&&(d.subject.organizationName&&(B.drawText(`${d.subject.organizationName}`,{x:I.x+10,y:I.y+Q,size:7,font:S,color:m(.3,.3,.3)}),Q-=10),d.subject.emailAddress&&(B.drawText(`${d.subject.emailAddress}`,{x:I.x+10,y:I.y+Q,size:7,font:S,color:m(.3,.3,.3)}),Q-=10)),B.drawText(`${o}`,{x:I.x+10,y:I.y+Q,size:8,font:S,color:m(0,0,0)}),B.drawText("Escaneie para verificar",{x:_.x,y:_.y-15,size:8,font:S,color:m(.5,.5,.5)}),L&&B.drawImage(L,{x:_.x,y:_.y,width:_.w,height:_.h});const K=await b.save();return new Blob([K],{type:"application/pdf"})}catch(i){try{console.warn("[medicoService] selo visual falhou:",(i==null?void 0:i.message)||i)}catch{}return e instanceof Blob?e:new Blob([await((s=e.arrayBuffer)==null?void 0:s.call(e))])}},buildVerifyUrl(e){var r;try{const t="http://127.0.0.1:8000/verificar/".trim();if(t){const s=t.replace(/\/?$/,"/");return e?`${s}${e}`:s}const a="http://127.0.0.1:8000".replace(/\/$/,"");return e?`${a}/receitas/${e}/verificar/`:a||((r=window==null?void 0:window.location)==null?void 0:r.origin)||""}catch{return""}},async applySignatureStamp(e,r={}){return await this._applySignatureStampToPdf(e,r)},async signDocumento(e,r={}){var W,Q,K,X,R,re,$,V,Z,ie;let t;if(e instanceof FormData)t=e;else if(e&&e.name)t=new FormData,t.append("file",e),t.append("documento",e),t.append("pdf",e),t.append("arquivo",e);else throw new Error("Parmetro invlido:  esperado FormData ou File PDF.");try{if((r==null?void 0:r.visibleStamp)!==!1){let E=t.get("file")||t.get("pdf")||t.get("documento");if(!E&&e&&e.name&&(E=e),E){const P=(r==null?void 0:r.receitaId)||(r==null?void 0:r.id)||(r==null?void 0:r.receita)||null;let Y=r==null?void 0:r.signerName;if(!Y){const q=await this.getCertificadoInfo().catch(()=>null);Y=(q==null?void 0:q.subject_name)||(q==null?void 0:q.subject)||(q==null?void 0:q.nome)||(r==null?void 0:r.medicoNome)||"Mdico(a)"}const z=await this._applySignatureStampToPdf(E,{signerName:Y,dateString:new Date().toLocaleString(),receitaId:P}),J=new File([z],E.name||"documento.pdf",{type:"application/pdf"});["file","pdf","documento","arquivo"].forEach(q=>{t.has(q)&&t.set(q,J)})}}}catch{}const a=r.reason||r.motivo,s=r.location||r.local;a&&(t.append("reason",a),t.append("motivo",a)),s&&(t.append("location",s),t.append("local",s));try{t.append("formato","pdf"),t.append("format","pdf"),t.append("tipo","PADES"),t.append("assinar","true")}catch{}const i=ue=>{const E=t instanceof FormData?t.get(ue):null;return typeof E=="string"?E==="true"||E==="1"||E.toLowerCase()==="yes":!!E},o=!!(r.useToken||r.use_token||r.token||r.pkcs11||r.hardware||r.smartcard||i("useToken")||i("use_token")||i("token")||i("pkcs11")||i("hardware")||i("smartcard"));let l=null,A=null;t instanceof FormData&&(l=t.get("pfx")||t.get("certificado")||t.get("pkcs12"),A=t.get("pfx_password")||t.get("senha")||t.get("password"));const d=r&&r.pfxFile instanceof File?r.pfxFile:l,f=(typeof(r==null?void 0:r.pfxPassword)=="string"?r.pfxPassword.trim():"")||(typeof A=="string"?A:""),h=(r.pin||r.tokenPin||r.pin_code||(t instanceof FormData?t.get("pin")||t.get("token_pin")||t.get("pin_code"):"")||"").toString().trim();if(o)t.append("use_token","true"),t.append("pkcs11","true"),t.append("hardware","true"),h&&(t.append("pin",h),t.append("token_pin",h),t.append("pin_code",h)),r.subject&&t.append("subject",r.subject),r.serial&&t.append("serial",r.serial),r.slot&&t.append("slot",String(r.slot)),r.keyId&&t.append("key_id",r.keyId);else{if(!(d instanceof File))throw new Error("Certificado digital (.pfx/.p12)  obrigatrio para assinatura.");if(!f)throw new Error("Senha do certificado PFX/P12  obrigatria para assinatura.");t.append("pfx",d),t.append("certificado",d),t.append("pkcs12",d),t.append("arquivo_pfx",d),t.append("pfx_password",f),t.append("senha",f),t.append("password",f),t.append("senha_certificado",f),t.append("no_persist","true"),t.append("ephemeral","true")}const m=(r==null?void 0:r.receitaId)||(r==null?void 0:r.receita_id)||(r==null?void 0:r.id);m&&(t.append("receita",m),t.append("receita_id",m),t.append("id",m),t.append("id_receita",m));const p="true".toLowerCase()==="true",x=[],v="/api/assinatura/assinar/".trim();v&&x.push(v);const b="/api/medicos/",N=b.endsWith("/")?b:`${b}/`;x.push("/api/assinatura/assinar/"),x.push("/assinatura/assinar/"),x.push("/api/assinar-receita/"),x.push("/assinar-receita/"),x.push("/documentos/assinar/"),x.push("/receitas/assinar/"),x.push(`${N}me/assinar/`),x.push(`${N}assinar/`);let B=null;try{B=await this._resolveMedicoId()}catch{}B&&(x.push(`${N}${B}/assinar/`),x.push(`${N}${B}/assinatura/`));const S=async ue=>{try{const E=await ue.arrayBuffer(),P=new Uint8Array(E);let Y="";for(let z=0;z<P.length;z++)Y+=String.fromCharCode(P[z]);return btoa(Y)}catch{return null}},F=t.get("file")||t.get("pdf")||t.get("documento"),L=t.get("pfx")||t.get("certificado")||t.get("pkcs12"),M=F?await S(F):null,U=L?await S(L):null,I={formato:"pdf",id:m,receita:m,receita_id:m,file_base64:M,pdf_base64:M,documento_base64:M,arquivo_base64:M,pfx_base64:U,certificado_base64:U,pkcs12_base64:U,password:f,senha:f,pfx_password:f,reason:a,motivo:a,location:s,local:s,use_token:o?!0:void 0,pkcs11:o?!0:void 0,hardware:o?!0:void 0,pin:h,token_pin:h||void 0,pin_code:h||void 0,tipo_assinatura:"pades",algoritmo:"sha256"};let _=null;for(const ue of x){if(!ue)continue;const E=ue.endsWith("/")?ue:`${ue}/`,P=["post","put"];for(const Y of P)try{p&&console.debug(`[signDocumento] ${Y.toUpperCase()} multipart ->`,E);const z=await Ee[Y](E,t,{responseType:"blob"}),J=((W=z.headers)==null?void 0:W["content-disposition"])||((K=(Q=z.headers)==null?void 0:Q.get)==null?void 0:K.call(Q,"content-disposition"));let q="documento_assinado.pdf";if(J){const ne=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(J);try{q=decodeURIComponent((ne==null?void 0:ne[1])||(ne==null?void 0:ne[2])||q)}catch{q=(ne==null?void 0:ne[1])||(ne==null?void 0:ne[2])||q}}const G=new Blob([z.data],{type:((X=z.headers)==null?void 0:X["content-type"])||"application/pdf"});return{filename:q,blob:G}}catch(z){const J=(R=z==null?void 0:z.response)==null?void 0:R.status;if(J===404){_=z;break}if(J===405){_=z;continue}if(J===401)throw z;try{p&&console.debug(`[signDocumento] ${Y.toUpperCase()} json ->`,E);const q=await Ee[Y](E,I,{responseType:"json"}),G=((re=q.headers)==null?void 0:re["content-type"])||"";if(/application\/pdf/i.test(G)){const ve=(($=q.headers)==null?void 0:$["content-disposition"])||((Z=(V=q.headers)==null?void 0:V.get)==null?void 0:Z.call(V,"content-disposition"));let Pe="documento_assinado.pdf";if(ve){const xe=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(ve);try{Pe=decodeURIComponent((xe==null?void 0:xe[1])||(xe==null?void 0:xe[2])||Pe)}catch{Pe=(xe==null?void 0:xe[1])||(xe==null?void 0:xe[2])||Pe}}const ke=new Blob([q.data],{type:"application/pdf"});return{filename:Pe,blob:ke}}const ne=q.data||{},ce=(ne==null?void 0:ne.pdf_base64)||(ne==null?void 0:ne.documento_base64)||(ne==null?void 0:ne.file_base64)||(ne==null?void 0:ne.arquivo_base64)||null;if(ce){const ve=atob(String(ce)),Pe=new Array(ve.length);for(let wt=0;wt<ve.length;wt++)Pe[wt]=ve.charCodeAt(wt);const ke=new Uint8Array(Pe),xe=new Blob([ke],{type:"application/pdf"});return{filename:(ne==null?void 0:ne.filename)||(ne==null?void 0:ne.nome_arquivo)||"documento_assinado.pdf",blob:xe}}const pe=q==null?void 0:q.status;if(pe&&[400,422].includes(pe)){_=z;continue}}catch(q){const G=(ie=q==null?void 0:q.response)==null?void 0:ie.status;if(G===404){_=q;break}if(G===405){_=q;continue}if(G===401)throw q;if(G&&[400,422].includes(G)){_=q;continue}_=q;break}}}throw _||new Error("Falha ao assinar documento: nenhum endpoint compatvel.")},async atualizarReceita(e,r={}){var A;if(!e)throw new Error("ID da receita  obrigatrio para atualizao.");const t={...r};r.assinada!==void 0&&(t.assinada=!!r.assinada,t.signed=t.signed??t.assinada,t.status=t.assinada?"assinada":t.status||"emitida"),r.hash_alg&&(t.hash_alg=r.hash_alg,t.hash_algorithm=r.hash_algorithm||r.hash_alg,t.algoritmo_hash=r.algoritmo_hash||r.hash_alg),r.hash_pre&&(t.hash_pre=r.hash_pre,t.pre_hash=r.pre_hash||r.hash_pre),r.hash_documento&&(t.hash_documento=r.hash_documento,t.signed_hash=r.signed_hash||r.hash_documento),r.motivo&&(t.motivo=r.motivo),r.observacoes&&(t.observacoes=r.observacoes);const a="/api/receitas/",s=a.endsWith("/")?a:`${a}/`,i=[],o="/api/receitas/".trim();o&&i.push(o.replace(/\/?$/,"/")),i.push(`${s}${e}/`),i.push(`${s}${e}/update/`),i.push(`${s}${e}/editar/`),i.push(`/api/receitas/${e}/`),i.push(`/receitas/${e}/`),i.push(`/api/meu_app_receita/${e}/`),i.push(`/meu_app_receita/${e}/`);let l=null;for(const d of i){if(!d)continue;const f=d.endsWith("/")?d:`${d}/`,h=["patch","put","post"];for(const m of h)try{const{data:p}=await Ee[m](f,t);return p}catch(p){const x=(A=p==null?void 0:p.response)==null?void 0:A.status;if(x===401)throw p;if(x===404){l=p;break}if(x===405){l=p;continue}if(x&&[400,422].includes(x))throw p;l=p;break}}throw l||new Error("Falha ao atualizar receita: nenhum endpoint compatvel.")},async registrarAuditoriaAssinatura(e={}){var d;const r=Xr.getCurrentUser()||await Xr.refreshCurrentUser(),t=r==null?void 0:r.id;let a=null;try{a=await this._resolveMedicoId()}catch{}const s={...e};t&&(s.usuario=s.usuario||t,s.usuario_id=s.usuario_id||t,s.user=s.user||t,s.user_id=s.user_id||t),a&&(s.medico=s.medico||a,s.medico_id=s.medico_id||a),s.tipo=s.tipo||"assinatura_receita",s.event=s.event||s.tipo,s.assinada=s.assinada??!0,s.timestamp=s.timestamp||new Date().toISOString();const i="/api/auditoria/assinaturas/",l=[i.endsWith("/")?i:`${i}/`,"/api/auditoria/assinaturas/","/logs/assinatura/","/auditoria/receitas/","/audit/assinaturas/"];let A=null;for(const f of l){const h=f.endsWith("/")?f:`${f}/`;try{const{data:m}=await Ee.post(h,s);return m}catch(m){const p=(d=m==null?void 0:m.response)==null?void 0:d.status;if(p===401)throw m;if(p===404||p===405){A=m;continue}if(p&&[400,422].includes(p))throw m;A=m}}throw A||new Error("Falha ao registrar auditoria de assinatura: nenhum endpoint compatvel.")},async finalizarAssinaturaExterna({receitaId:e,pdfFile:r,assinatura:t,certificado:a}){var d;const s=new FormData;s.append("file",r),s.append("assinatura_externa",t),s.append("certificado_externo",a),s.append("receita_id",e);const i=await Ee.post("/api/assinatura/finalizar-externa/",s,{responseType:"blob"}),o=((d=i.headers)==null?void 0:d["content-disposition"])||"";let l="receita_assinada.pdf";if(o){const f=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(o);try{l=decodeURIComponent((f==null?void 0:f[1])||(f==null?void 0:f[2])||l)}catch{}}const A=new Blob([i.data],{type:"application/pdf"});return{filename:l,blob:A}},async assinarDocumento(e={}){const{pdfFile:r,certificado:t,senha:a,motivo:s,receita_id:i,modo_assinatura:o,...l}=e;let A=r;if(t&&a){const f=new FormData;f.append("file",r),f.append("pfx",t),f.append("senha",a),s&&f.append("motivo",s),i&&f.append("receita_id",i),A=f}const d={motivo:s||"Receita Mdica",receitaId:i,pfxFile:t,pfxPassword:a,useToken:o==="token",...l};return await this.signDocumento(A,d)},async assinarReceitaEPersistir({dadosReceita:e={},itens:r=[],pdfFile:t,motivo:a="Receita Mdica",certificado:s,senha:i,modo_assinatura:o="pfx"}={}){var B;const l="true".toLowerCase()==="true",A=await this.criarReceita(e),d=(A==null?void 0:A.id)||(A==null?void 0:A.pk)||(A==null?void 0:A.uuid)||((B=A==null?void 0:A.receita)==null?void 0:B.id);if(!d)throw new Error("No foi possvel obter ID da receita aps criao.");if(l)try{console.debug("[assinarReceitaEPersistir] receita criada:",d,A)}catch{}try{await this.salvarItensReceita(d,r)}catch{}let f=t;if(!f){const{blob:S,filename:F}=await this.gerarDocumentoReceita({...e,receita_id:d,formato:"pdf"});f=new File([S],F||"receita.pdf",{type:"application/pdf"})}const h=new FormData;h.append("file",f),h.append("pdf",f),h.append("documento",f),h.append("receita_id",d),s&&h.append("pfx",s),i&&h.append("senha",i);const m=await this.signDocumento(h,{receitaId:d,motivo:a,useToken:o==="token",pfxFile:s,pfxPassword:i}),p=m==null?void 0:m.blob,x=(m==null?void 0:m.filename)||"receita_assinada.pdf";if(!p)throw new Error("Falha ao assinar a receita: blob vazio.");const v=await this.computeSHA256Hex(p);await this.salvarArquivoAssinado(d,p,x);let b=null;try{b=await this._resolveMedicoId()}catch{}const N=new Date().toISOString();return await this.atualizarReceita(d,{assinada:!0,assinada_em:N,assinada_por_id:b,algoritmo_assinatura:"RSA-SHA256-PADES",hash_documento:v,carimbo_tempo:N,observacoes:(e==null?void 0:e.observacoes)||""}),{receitaId:d,filename:x,blob:p}}};function m9(){const{data:e,loading:r}=iF(()=>br.getDashboard());if(r)return n.jsx("div",{className:"min-h-screen bg-medical-gradient p-6",children:n.jsx("div",{className:"space-y-8 animate-fade-in",children:n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>n.jsxs(_e,{variant:"medical",className:"animate-pulse",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("div",{className:"h-4 w-20 bg-medical-primary/20 rounded"}),n.jsx("div",{className:"h-4 w-4 bg-medical-primary/20 rounded"})]}),n.jsxs(De,{children:[n.jsx("div",{className:"h-8 w-16 bg-medical-primary/20 rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 bg-medical-primary/20 rounded"})]})]},o))})})});const t=e||{consultas_hoje:5,pacientes_ativos:127,prontuarios:89,exames_pendentes:9,variacao_consultas:2,novos_pacientes_semana:5,proximas_consultas:[],pacientes_recentes:[]},a=i=>{try{const o=new Date(i);if(!isNaN(o.getTime()))return o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof i=="string"&&/^\d{2}:\d{2}/.test(i))return i.slice(0,5)}catch{}return"-"},s=Array.isArray(t.proximas_consultas)?t.proximas_consultas:[];return n.jsxs("div",{className:"min-h-screen bg-medical-gradient p-6 space-y-8 animate-fade-in",children:[n.jsx(_e,{variant:"medical",className:"overflow-hidden",children:n.jsxs("div",{className:"bg-gradient-to-r from-medical-primary via-medical-secondary to-medical-accent p-8 text-white relative",children:[n.jsx("div",{className:"absolute inset-0 bg-black/5"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"p-4 bg-white/15 rounded-2xl backdrop-blur-sm border border-white/20",children:n.jsx(Mr,{className:"h-10 w-10"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard Mdico"}),n.jsx("p",{className:"text-white/90 text-lg",children:"Gesto clnica profissional e cuidado centrado no paciente"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(fr,{className:"h-5 w-5 text-blue-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Consultas Hoje"})]}),n.jsx("div",{className:"text-3xl font-bold",children:t.consultas_hoje}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Agendamentos confirmados"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Ln,{className:"h-5 w-5 text-green-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Pacientes Ativos"})]}),n.jsx("div",{className:"text-3xl font-bold text-green-200",children:t.pacientes_ativos}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Em acompanhamento"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Ta,{className:"h-5 w-5 text-purple-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Pronturios"})]}),n.jsx("div",{className:"text-3xl font-bold text-purple-200",children:t.prontuarios}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Registros mdicos"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(di,{className:"h-5 w-5 text-amber-200"}),n.jsx("span",{className:"text-sm font-medium text-white/90",children:"Exames Pendentes"})]}),n.jsx("div",{className:"text-3xl font-bold text-amber-200",children:t.exames_pendentes}),n.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Aguardando anlise"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(ye,{variant:"btn-medical-secondary",size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm",children:[n.jsx(ad,{className:"h-5 w-5 mr-2"}),"Nova Consulta"]}),n.jsxs(ye,{variant:"outline",size:"lg",className:"bg-white text-medical-primary hover:bg-gray-50",children:[n.jsx(L0,{className:"h-5 w-5 mr-2"}),"Ver Agenda Completa"]}),n.jsxs(ye,{variant:"btn-medical-ghost",size:"lg",className:"bg-white/10 hover:bg-white/20 text-white border-white/30 backdrop-blur-sm",children:[n.jsx(nm,{className:"h-5 w-5 mr-2"}),"Relatrios Clnicos"]})]})]})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(_e,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ze,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Consultas Hoje"}),n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(fr,{className:"h-5 w-5 text-medical-primary"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:t.consultas_hoje}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(sr,{variant:"success",size:"sm",children:[n.jsx(jm,{className:"h-3 w-3 mr-1"}),"+",t.variacao_consultas]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"desde ontem"})]})]})]}),n.jsxs(_e,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-secondary",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ze,{className:"text-sm font-semibold text-medical-secondary group-hover:text-medical-primary transition-colors",children:"Pacientes Ativos"}),n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:n.jsx(Ln,{className:"h-5 w-5 text-medical-secondary"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-secondary mb-2",children:t.pacientes_ativos}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(sr,{variant:"info",size:"sm",children:[n.jsx(AN,{className:"h-3 w-3 mr-1"}),"+",t.novos_pacientes_semana]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"esta semana"})]})]})]}),n.jsxs(_e,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ze,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Pronturios Digitais"}),n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(Ta,{className:"h-5 w-5 text-medical-primary"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:t.prontuarios}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(sr,{variant:"medical-secondary",size:"sm",children:[n.jsx(ns,{className:"h-3 w-3 mr-1"}),"Atualizados"]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"registros mdicos"})]})]})]}),n.jsxs(_e,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-status-attention",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[n.jsx(Ze,{className:"text-sm font-semibold text-status-attention group-hover:text-status-attention/80 transition-colors",children:"Exames Pendentes"}),n.jsx("div",{className:"p-3 bg-status-attention/10 rounded-xl group-hover:bg-status-attention/20 transition-colors",children:n.jsx(di,{className:"h-5 w-5 text-status-attention"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-status-attention mb-2",children:t.exames_pendentes}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(sr,{variant:"warning",size:"sm",children:[n.jsx(Kc,{className:"h-3 w-3 mr-1"}),"Urgente"]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"aguardando anlise"})]})]})]})]}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[n.jsxs(_e,{variant:"medical",className:"card-medical",children:[n.jsx(ze,{className:"bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border-b border-medical-primary/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl",children:n.jsx(Ur,{className:"h-6 w-6 text-medical-primary"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-medical-primary text-lg font-semibold",children:"Agenda de Consultas"}),n.jsx(Ar,{className:"text-muted-foreground",children:"Prximos atendimentos programados"})]})]}),n.jsx(ye,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:n.jsxs(gr,{to:"/medico/consultas",children:[n.jsx(ui,{className:"h-4 w-4 mr-2"}),"Ver Agenda Completa",n.jsx(Vg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(De,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:s.length>0?s.slice(0,5).map((i,o)=>n.jsx("div",{className:"group p-4 rounded-xl border border-medical-primary/10 bg-gradient-to-r from-white to-medical-primary/5 hover:shadow-md hover:border-medical-primary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:n.jsx(Uf,{className:"h-5 w-5 text-medical-primary"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:i.paciente_nome}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-medical-primary",children:[n.jsx(Ur,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:a(i.data_hora)})]}),n.jsx(dM,{priority:i.prioridade||"normal"}),n.jsx(sr,{variant:"outline",className:"bg-medical-primary/5 text-medical-primary border-medical-primary/20",children:i.tipo||"Consulta Geral"})]})]})]}),n.jsxs(ye,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(ui,{className:"h-4 w-4 mr-2"}),"Atender"]})]})},o)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-medical-primary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:n.jsx(fr,{className:"h-10 w-10 text-medical-primary/60"})}),n.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Agenda livre hoje"}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Nenhuma consulta agendada para hoje"}),n.jsxs(ye,{variant:"btn-medical-primary",size:"sm",children:[n.jsx(ad,{className:"h-4 w-4 mr-2"}),"Agendar Nova Consulta"]})]})})})]}),n.jsxs(_e,{variant:"medical",className:"card-medical",children:[n.jsx(ze,{className:"bg-gradient-to-r from-medical-secondary/5 to-medical-secondary/10 border-b border-medical-secondary/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl",children:n.jsx(Ln,{className:"h-6 w-6 text-medical-secondary"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-medical-secondary text-lg font-semibold",children:"Pacientes Recentes"}),n.jsx(Ar,{className:"text-medical-secondary/70",children:"ltimas interaes e acompanhamentos"})]})]}),n.jsx(ye,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:n.jsxs(gr,{to:"/medico/meus-pacientes",children:[n.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Ver Todos Pacientes",n.jsx(Vg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(De,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:t.pacientes_recentes&&t.pacientes_recentes.length>0?t.pacientes_recentes.slice(0,5).map((i,o)=>n.jsx("div",{className:"group p-4 rounded-xl border border-medical-secondary/10 bg-gradient-to-r from-white to-medical-secondary/5 hover:shadow-md hover:border-medical-secondary/20 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:n.jsx(Ln,{className:"h-5 w-5 text-medical-secondary"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:i.nome}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["ltima consulta: h ",i.dias_ultima_consulta," dias"]}),n.jsx(UE,{status:i.status||"ativo"})]})]})]}),n.jsxs(ye,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(ui,{className:"h-4 w-4 mr-2"}),"Ver Pronturio"]})]})},o)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-medical-secondary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:n.jsx(Ln,{className:"h-10 w-10 text-medical-secondary/60"})}),n.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Nenhum paciente recente"}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Pacientes aparecero aqui aps as consultas"}),n.jsxs(ye,{variant:"btn-medical-secondary",size:"sm",children:[n.jsx(AN,{className:"h-4 w-4 mr-2"}),"Cadastrar Novo Paciente"]})]})})})]})]})]})}function p9(){const[e,r]=w.useState(!0),[t,a]=w.useState([]),[s,i]=w.useState(""),[o,l]=w.useState("todos");w.useEffect(()=>{let d=!0;return(async()=>{var f;try{const h=await br.getPerfil(),m=(h==null?void 0:h.id)||((f=h==null?void 0:h.medico)==null?void 0:f.id);if(m){const p=await br.getPacientesVinculados(m);d&&a(Array.isArray(p)?p:[])}else d&&a([])}catch{d&&a([])}finally{d&&r(!1)}})(),()=>{d=!1}},[]);const A=t.filter(d=>{var p;const f=(d!=null&&d.user?[d.user.first_name,d.user.last_name].filter(Boolean).join(" ").trim():(d==null?void 0:d.nome)||"").toLowerCase(),h=!s||f.includes(s.toLowerCase()),m=o==="todos"||o===((p=d==null?void 0:d.user)!=null&&p.is_active?"ativo":"inativo");return h&&m});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Meus Pacientes"}),n.jsx("p",{className:"text-muted-foreground",children:"Liste e gerencie seus pacientes ativos"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(is,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ge,{placeholder:"Buscar pacientes...",className:"pl-10",value:s,onChange:d=>i(d.target.value)})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(zr,{children:[n.jsx(Or,{className:"w-[180px]",children:n.jsx(qr,{placeholder:"Filtrar por status"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"ativo",children:"Ativo"}),n.jsx(at,{value:"inativo",children:"Inativo"})]})]}),n.jsxs(ye,{children:[n.jsx(is,{className:"mr-2 h-4 w-4"}),"Buscar"]}),n.jsxs(ye,{variant:"outline",children:[n.jsx(ru,{className:"mr-2 h-4 w-4"}),"Filtrar"]})]})]}),e?n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((d,f)=>n.jsx(_e,{children:n.jsxs(De,{className:"p-6 space-y-4",children:[n.jsx("div",{className:"h-6 w-40 bg-muted animate-pulse rounded"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"})]})]})},f))}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:A.map(d=>{var m,p;const f=(d==null?void 0:d.id)||((m=d==null?void 0:d.user)==null?void 0:m.id),h=d!=null&&d.user?[d.user.first_name,d.user.last_name].filter(Boolean).join(" ").trim():(d==null?void 0:d.nome)||`Paciente ${f}`;return n.jsx(_e,{children:n.jsxs(De,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-xl font-semibold",children:((p=h==null?void 0:h[0])==null?void 0:p.toUpperCase())||"P"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold",children:h}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",f]})]})]}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:(d==null?void 0:d.condicoes_cronicas)&&n.jsx(sr,{variant:"outline",className:"bg-primary/5",children:d.condicoes_cronicas})}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(gr,{to:`/medico/paciente/${f}/perfil`,children:[n.jsx(jn,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]})}),n.jsx(ye,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(gr,{to:`/medico/paciente/${f}/prontuario`,children:[n.jsx(Ta,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Pronturio"})]})}),n.jsx(ye,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:n.jsxs(gr,{to:`/medico/paciente/${f}/iniciar-consulta`,children:[n.jsx(fr,{className:"mr-1 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Consulta"})]})})]})]})},f)})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Mostrando 6 de 24 pacientes"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),n.jsx(ye,{variant:"outline",size:"sm",className:"bg-primary/5",children:"1"}),n.jsx(ye,{variant:"outline",size:"sm",children:"2"}),n.jsx(ye,{variant:"outline",size:"sm",children:"3"}),n.jsx(ye,{variant:"outline",size:"sm",children:"4"}),n.jsx(ye,{variant:"outline",size:"sm",children:"Prximo"})]})]})]})}function g9(){const[e,r]=w.useState(!0),[t,a]=w.useState(!0),[s,i]=w.useState([]),[o,l]=w.useState([]);w.useEffect(()=>{let h=!0;return(async()=>{var m;try{const p=await br.getPerfil(),x=(p==null?void 0:p.id)||((m=p==null?void 0:p.medico)==null?void 0:m.id);if(!x){h&&(i([]),l([]));return}try{const v=await br.getConsultasHoje(x);h&&i(Array.isArray(v)?v:(v==null?void 0:v.results)||[])}finally{h&&r(!1)}try{const v=await br.getConsultasDoMedico(),b=Array.isArray(v)?v:Array.isArray(v==null?void 0:v.results)?v.results:[];h&&l(b)}finally{h&&a(!1)}}catch{h&&(i([]),l([]),r(!1),a(!1))}})(),()=>{h=!1}},[]);const A=h=>{var p,x;const m=(p=h==null?void 0:h.paciente)==null?void 0:p.user;return m?[m.first_name,m.last_name].filter(Boolean).join(" ").trim():(h==null?void 0:h.paciente_nome)||((x=h==null?void 0:h.paciente)==null?void 0:x.nome)||"Paciente"},d=h=>{try{const m=new Date(h);if(!isNaN(m))return m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof h=="string"&&/^\d{2}:\d{2}/.test(h))return h.slice(0,5)}catch{}return"--:--"},f=h=>{try{const m=new Date(h);if(!isNaN(m))return m.toLocaleDateString()}catch{}return""};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua agenda de consultas"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(is,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ge,{placeholder:"Buscar consultas...",className:"pl-10 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(zr,{children:[n.jsx(Or,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:n.jsx(qr,{placeholder:"Filtrar por status"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"confirmado",children:"Confirmado"}),n.jsx(at,{value:"pendente",children:"Pendente"}),n.jsx(at,{value:"cancelado",children:"Cancelado"})]})]}),n.jsx(_s,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200"}),n.jsxs(ye,{children:[n.jsx(fr,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]})]}),n.jsxs(Ii,{defaultValue:"hoje",children:[n.jsxs(Pi,{children:[n.jsx(kr,{value:"hoje",children:"Hoje"}),n.jsx(kr,{value:"amanha",children:"Amanh"}),n.jsx(kr,{value:"semana",children:"Esta Semana"}),n.jsx(kr,{value:"todas",children:"Todas"})]}),n.jsx(Rr,{value:"hoje",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Consultas para hoje, ",new Date().toLocaleDateString()]})}),n.jsx(De,{children:e?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,m)=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 w-1/3 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-1/4 bg-muted animate-pulse rounded"})]}),n.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded"})]},m))}):n.jsx("div",{className:"space-y-4",children:s.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma consulta para hoje."}):s.map(h=>{var x,v,b;const m=h.id,p=((x=h==null?void 0:h.paciente)==null?void 0:x.id)||(h==null?void 0:h.paciente_id);return n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((b=(v=A(h))==null?void 0:v[0])==null?void 0:b.toUpperCase())||"P"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A(h)}),p&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ur,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[d(h==null?void 0:h.data_hora)," ",f(h==null?void 0:h.data_hora)?`(${f(h==null?void 0:h.data_hora)})`:""]})]})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[p&&n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(gr,{to:`/medico/paciente/${p}/perfil`,children:"Perfil"})}),p&&n.jsx(ye,{size:"sm",asChild:!0,children:n.jsx(gr,{to:`/medico/paciente/${p}/iniciar-consulta`,children:"Atender"})})]})]},m)})})})]})}),n.jsx(Rr,{value:"amanha",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Consultas para amanh, ",new Date(Date.now()+864e5).toLocaleDateString()]})}),n.jsx(De,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(70+h),"M"]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Paciente ",h+5]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100050+h]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ur,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[`${8+h}:00`," - ",`${9+h}:00`]})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:h%2===0?"Primeira consulta":"Retorno"}),h===1?n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Aguardando confirmao"}):n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(gr,{href:`/medico/paciente/${100050+h}/perfil`,children:"Perfil"})}),n.jsx(ye,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},h))})})]})}),n.jsx(Rr,{value:"semana",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Consultas para esta semana"]})}),n.jsx(De,{children:n.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:new Date(Date.now()+h*2*864e5).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),n.jsx("div",{className:"space-y-4",children:[1,2].map(m=>n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(64+h+m),"L"]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["Paciente ",h*10+m]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100100+h*10+m]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ur,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[`${9+m}:00`," - ",`${10+m}:00`]})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:m%2===0?"Primeira consulta":"Retorno"}),n.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(gr,{href:`/medico/paciente/${100100+h*10+m}/perfil`,children:"Perfil"})}),n.jsx(ye,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},`${h}-${m}`))})]},h))})})]})}),n.jsx(Rr,{value:"todas",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Todas as Consultas"]})}),n.jsx(De,{children:t?n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((h,m)=>n.jsx("div",{className:"h-16 w-full bg-muted animate-pulse rounded"},m))}):n.jsx("div",{className:"space-y-4",children:o.map(h=>{var x,v,b;const m=h.id,p=((x=h==null?void 0:h.paciente)==null?void 0:x.id)||(h==null?void 0:h.paciente_id);return n.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((b=(v=A(h))==null?void 0:v[0])==null?void 0:b.toUpperCase())||"P"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A(h)}),p&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground mr-1"}),n.jsx("span",{children:f(h==null?void 0:h.data_hora)})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ur,{className:"h-4 w-4 text-muted-foreground mr-1"}),n.jsx("span",{children:d(h==null?void 0:h.data_hora)})]})]})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[p&&n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:n.jsx(gr,{to:`/medico/paciente/${p}/perfil`,children:"Perfil"})}),n.jsx(ye,{variant:"ghost",size:"sm",children:"Detalhes"})]})]},m)})})})]})})]})]})}function dx({patientId:e,isPacienteView:r=!0,profile:t,patient:a,loading:s=!1}){var p;const i=x=>x?eI(x.replace(/_/g," ")):"",o=(t==null?void 0:t.nome)&&t.nome.trim()||[t==null?void 0:t.first_name,t==null?void 0:t.last_name].filter(Boolean).join(" ")||i(t==null?void 0:t.username)||"Usurio",l=((p=o==null?void 0:o.trim())==null?void 0:p.split(" ").filter(Boolean).slice(0,2).map(x=>{var v;return(v=x[0])==null?void 0:v.toUpperCase()}).join(""))||"?",A=(t==null?void 0:t.data_nascimento)||(a==null?void 0:a.data_nascimento)||null,d=n9(A),f=(a==null?void 0:a.tipo_sanguineo)||(t==null?void 0:t.tipo_sanguineo)||"",h=(a==null?void 0:a.alergias)??(t==null?void 0:t.alergias),m=Array.isArray(h)?alergiesRaw.length?h.join(", "):"":h||"";return s?n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsx(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900",children:n.jsx(De,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Qr,{className:"h-20 w-20 rounded-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Qr,{className:"h-6 w-48"}),n.jsx(Qr,{className:"h-4 w-32"})]})]})})}),n.jsx(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20",children:n.jsx(De,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(Qr,{className:"h-16 w-full"}),n.jsx(Qr,{className:"h-16 w-full"}),n.jsx(Qr,{className:"h-16 w-full"})]})})})]}):n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsx(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 hover:shadow-xl transition-all duration-300",children:n.jsx(De,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(Fm,{className:"h-20 w-20 ring-4 ring-white/50 shadow-lg",children:[n.jsx(rx,{src:t==null?void 0:t.avatar,alt:o}),n.jsx(km,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-2xl font-bold",children:l})]}),n.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1.5 shadow-lg",children:n.jsx(jn,{className:"h-3 w-3 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-1",children:o}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(sr,{variant:r?"default":"secondary",className:"text-xs font-medium",children:r?"Paciente":`ID: ${e||(t==null?void 0:t.id)||"-"}`})})]})]})})}),n.jsx(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 hover:shadow-xl transition-all duration-300",children:n.jsxs(De,{className:"pt-6",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:n.jsx(jn,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Idade"}),n.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:d||""})]}),n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-full",children:n.jsx(FL,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Tipo Sanguneo"}),n.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:f})]}),n.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/50 rounded-full",children:n.jsx(Uf,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})})}),n.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Alergias"}),n.jsx("p",{className:"text-xs font-bold text-slate-900 dark:text-slate-100 truncate",title:m,children:m})]})]}),!r&&n.jsx("div",{className:"mt-6 pt-4 border-t border-white/20",children:n.jsx(ye,{size:"sm",asChild:!0,className:"w-full btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",children:n.jsx(gr,{to:`/medico/paciente/${e||(t==null?void 0:t.id)}/iniciar-consulta`,children:"Iniciar Consulta"})})})]})})]})}function x9(){var o,l,A,d,f,h,m;const{id:e}=Al(),[r,t]=w.useState(null),[a,s]=w.useState(!0);w.useEffect(()=>{let p=!0;return(async()=>{var x;try{const v="/api/pacientes/",b=v.endsWith("/")?v:`${v}/`,N=await Ee.get(`${b}${e}/`);p&&t(N.data)}catch(v){console.debug("[PerfilPacienteMedico] Falha ao buscar paciente por id:",(x=v==null?void 0:v.response)==null?void 0:x.status)}finally{p&&s(!1)}})(),()=>{p=!1}},[e]);const i=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${e}/iniciar-consulta`}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie as informaes do paciente"})]}),n.jsx(dx,{patientId:e,isPacienteView:!1,profile:r==null?void 0:r.user,patient:r,loading:a}),n.jsx(Uo,{tabs:i,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(jn,{className:"h-5 w-5"})," Informaes Pessoais"]})}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Nome"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.nome)||[(o=r==null?void 0:r.user)==null?void 0:o.first_name,(l=r==null?void 0:r.user)==null?void 0:l.last_name].filter(Boolean).join(" ")||((A=r==null?void 0:r.user)==null?void 0:A.username)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Data de Nascimento"}),n.jsx("p",{className:"text-muted-foreground",children:sF((r==null?void 0:r.data_nascimento)||((d=r==null?void 0:r.user)==null?void 0:d.data_nascimento))})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"CPF"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.cpf)||((f=r==null?void 0:r.user)==null?void 0:f.cpf)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Telefone"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.telefone)||((h=r==null?void 0:r.user)==null?void 0:h.phone)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Endereo"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.endereco)||((m=r==null?void 0:r.user)==null?void 0:m.address)||""})]})]})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(Vc,{className:"h-5 w-5"})," Resumo Mdico"]})}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Tipo Sanguneo"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.tipo_sanguineo)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Alergias"}),n.jsx("p",{className:"text-muted-foreground",children:Array.isArray(r==null?void 0:r.alergias)?r.alergias.length?r.alergias.join(", "):"":(r==null?void 0:r.alergias)||""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"Condies Crnicas"}),n.jsx("p",{className:"text-muted-foreground",children:(r==null?void 0:r.condicoes_cronicas)||""})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ye,{asChild:!0,children:n.jsx(gr,{to:`/medico/paciente/${e}/iniciar-consulta`,children:"Iniciar Consulta"})}),n.jsx(ye,{variant:"outline",asChild:!0,children:n.jsx(gr,{to:`/medico/paciente/${e}/prontuario`,children:"Ver Pronturio"})})]})]})}function v9(){const{id:e}=Al(),r=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${e}/iniciar-consulta`}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pronturio do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Histrico mdico completo"})]}),n.jsx(dx,{patientId:e,isPacienteView:!1}),n.jsx(Uo,{tabs:r,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-5 w-5"}),"Informaes Gerais"]})}),n.jsx(De,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguneo"}),n.jsx("p",{children:"O+"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),n.jsx("p",{children:"Penicilina, Amendoim"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condies Crnicas"}),n.jsx("p",{children:"Hipertenso"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),n.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Histrico de Consultas"]})}),n.jsx(De,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(t=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"font-medium",children:"Dr. Carlos Oliveira"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Cardiologia"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-t*30*864e5).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diagnstico"}),n.jsx("p",{children:"Hipertenso Arterial Estgio 1"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conduta"}),n.jsx("p",{children:"Manuteno da medicao atual. Recomendao de atividade fsica regular e reduo do consumo de sal."})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Exames Solicitados"}),n.jsx("p",{children:"Hemograma completo, Perfil lipdico, Funo renal"})]})]},t))})})]})]})]})}function w9(){const{id:e}=Al(),r=[{label:"Resumo",href:`/medico/paciente/${e}/perfil`},{label:"Pronturio",href:`/medico/paciente/${e}/prontuario`},{label:"Consultas",href:`/medico/paciente/${e}/consultas`},{label:"Exames",href:`/medico/paciente/${e}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${e}/iniciar-consulta`}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames do Paciente"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie exames do paciente"})]}),n.jsx(dx,{patientId:e,isPacienteView:!1}),n.jsx(Uo,{tabs:r,basePath:`/medico/paciente/${e}`}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(is,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(Ge,{placeholder:"Buscar exames...",className:"pl-10"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(zr,{children:[n.jsx(Or,{className:"w-[180px]",children:n.jsx(qr,{placeholder:"Tipo de exame"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"imagem",children:"Imagem"}),n.jsx(at,{value:"laboratorial",children:"Laboratorial"}),n.jsx(at,{value:"outros",children:"Outros"})]})]}),n.jsxs(ye,{variant:"outline",children:[n.jsx(fr,{className:"mr-2 h-4 w-4"}),"Perodo"]}),n.jsxs(ye,{children:[n.jsx(ad,{className:"mr-2 h-4 w-4"}),"Solicitar Exame"]})]})]}),n.jsxs(Ii,{defaultValue:"pendentes",children:[n.jsxs(Pi,{children:[n.jsx(kr,{value:"pendentes",children:"Pendentes"}),n.jsx(kr,{value:"concluidos",children:"Concludos"}),n.jsx(kr,{value:"todos",children:"Todos"})]}),n.jsx(Rr,{value:"pendentes",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Exames Pendentes"})}),n.jsx(De,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:"Hemograma Completo"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solicitado em ",new Date(Date.now()-t*864e5).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(ui,{className:"mr-2 h-4 w-4"}),"Ver Solicitao"]}),n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(nl,{className:"mr-2 h-4 w-4"}),"Baixar Pedido"]})]})]},t))})})]})}),n.jsx(Rr,{value:"concluidos",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Exames Concludos"})}),n.jsx(De,{children:n.jsx("div",{className:"space-y-4",children:[1,2].map(t=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:"Raio-X de Trax"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Concludo em ",new Date(Date.now()-t*3*864e5).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(ui,{className:"mr-2 h-4 w-4"}),"Visualizar Resultado"]}),n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(nl,{className:"mr-2 h-4 w-4"}),"Baixar Resultado"]})]})]},t))})})]})}),n.jsx(Rr,{value:"todos",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Todos os Exames"})}),n.jsx(De,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(t=>n.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"font-medium",children:["Exame #",t]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",t%2===0?"Concludo":"Pendente"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(Vc,{className:"mr-2 h-4 w-4"}),"Detalhes"]}),n.jsxs(ye,{variant:"outline",size:"sm",children:[n.jsx(nl,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},t))})})]})})]})]})}const Nj={_summarizeLocal(e="",r={}){var b;const t=String(e||"").replace(/\r/g,"").trim(),a=N=>{const B=new RegExp(`(?:^|
)s*(?:${N.join("|")})s*[:]s*([sS]*?)(?=
s*(?:Queixa|Histria|Historia|Exame|Diagn[o]stico|Conduta|Prescri|Rx|Receita|Alergias|Orient[a]es|Observ[a]es|Retorno)s*[:]|$)`,"i"),S=t.match(B);return S?S[1].trim():""},s=a(["Queixa","Queixa Principal"])||((b=t.split(/\n\n|\n-/)[0])==null?void 0:b.slice(0,300))||"",i=a(["Histria","Historia","HDA","Histria da Doena Atual"])||"",o=a(["Diagnstico","Diagnostico"])||"",l=a(["Conduta","Plano","Plano Teraputico"])||"",A=a(["Prescrio","Prescricao","Receita","Rx"])||"";let d="",f="";if(A){const N=A.split(/\n+/).map(B=>B.trim()).filter(Boolean);N.length===1?(d=N[0],f="Conforme descrito na prescrio."):N.length>1&&(d=N[0],f=N.slice(1).join(" "))}if(!d&&l){const N=(l.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[a]psul|gotas).*/i)||[""])[0];N&&(d=N.trim(),f="Conforme conduta descrita.")}const h=a(["Alergias"])||String((r==null?void 0:r.alergias)||""),m=(t.match(/(PA|press[a]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",p=(t.match(/(FC|freq[u]ncia\s*card[i]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",x=(t.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:?c|celsius)?/i)||["","","",""])[3]||"",v=(t.match(/(sat|satura[c][a]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:s||String((r==null?void 0:r.queixa)||""),historia_doenca_atual:i||String((r==null?void 0:r.historia_doenca_atual)||(r==null?void 0:r.historia)||""),diagnostico_principal:o||String((r==null?void 0:r.diagnostico_principal)||(r==null?void 0:r.diagnostico)||""),conduta:l||String((r==null?void 0:r.conduta)||""),medicamentos:d||String((r==null?void 0:r.medicamentos)||""),posologia:f||String((r==null?void 0:r.posologia)||""),alergias:String(h||""),pressao:m,frequencia_cardiaca:p,temperatura:x,saturacao:v}},_extractEntitiesLocal(e="",r={}){const t=this._summarizeLocal(e,r),a=String(e||"").replace(/\r/g,"").trim(),s=N=>{const B=new RegExp(`(?:^|
)s*(?:${N.join("|")})s*[:]s*([sS]*?)(?=
s*(?:Queixa|Histria|Historia|Exame|Diagn[o]stico|Conduta|Prescri|Rx|Receita|Alergias|Sintomas|Orient[a]es|Observ[a]es|Retorno|Exames)s*[:]|$)`,"i"),S=a.match(B);return S?S[1].trim():""},i=s(["Sintomas"])||"",o=s(["Orientaes","Orientacoes"])||"",l=s(["Observaes","Observacoes"])||"",A=s(["Exames"])||"",d=t.alergias||s(["Alergias"])||"",f=i?i.split(/[,\n;]+/).map(N=>N.trim()).filter(Boolean):[],h=o?o.split(/\n+/).map(N=>N.trim()).filter(Boolean):[],m=d?d.split(/[,\n;]+/).map(N=>N.trim()).filter(Boolean):[],p=A?A.split(/[,\n;]+/).map(N=>N.trim()).filter(Boolean):[],x=[];t.medicamentos&&x.push(...String(t.medicamentos).split(/\n+/));const v=x.map(N=>String(N).trim()).filter(N=>/\b(mg|ml|g|mcg|comprimid|capsul|gota|spray)\b/i.test(N)).map(N=>({nome:N.split(/\s+/)[0]||"",dosagem:(N.match(/\b\d+\s?(mg|ml|g|mcg)\b/i)||[""])[0],frequencia:(N.match(/\b(\d+x\s*ao\s*d[i]a|\d+x\/dia|[a] cada \d+ h)\b/i)||[""])[0],duracao:(N.match(/\bpor\s*\d+\s*(dias?|semanas?|meses?)\b/i)||[""])[0],via:(N.match(/\b(via\s*oral|vo|im|ev)\b/i)||[null])[0],observacoes:N}));return{paciente:{nome:"",idade:null,sexo:null},diagnostico:t.diagnostico_principal||"",sintomas:f,medicamentos:v,orientacoes:h,observacoes:l||t.conduta||"",sinais_vitais:{pressao:t.pressao||"",frequencia_cardiaca:t.frequencia_cardiaca||"",temperatura:t.temperatura||"",saturacao:t.saturacao||""},alergias:m,exames:p,retorno:null}},async sumarizarTranscricao(e,r={}){return this._summarizeLocal(e,r)},async extrairEntidades(e,r={}){return this._extractEntitiesLocal(e,r)}};function y9(){const{id:e}=Al(),r=Xn(),t=Hn(),[a,s]=w.useState(!1),{toast:i}=Ma(),[o,l]=w.useState(!1),[A,d]=w.useState({queixa:"",historia:"",medicamentos:"",alergias:"",pressao:"","frequencia-cardiaca":"",temperatura:"",saturacao:"","exame-geral":"","sistema-cardiovascular":"","sistema-respiratorio":"",diagnostico:"",conduta:"",exames:"",retorno:""}),[f,h]=w.useState("anamnese"),m=q=>{const{id:G,value:ne}=q.target;d(ce=>({...ce,[G]:ne}))},x=new URLSearchParams(t.search).get("consultaId"),[v,b]=w.useState(""),[N,B]=w.useState(!1),[S,F]=w.useState(""),[L,M]=w.useState("unknown"),U=w.useRef(null),I=w.useRef(-1),[_,W]=w.useState(""),Q=w.useRef(!1),K=w.useMemo(()=>`iniciar-consulta:${e}:${x||"sem-consulta"}`,[e,x]),X=w.useRef("");w.useEffect(()=>{X.current=_},[_]);const[R,re]=w.useState(null),[$,V]=w.useState(!1),[Z,ie]=w.useState("");w.useEffect(()=>{let q;return(async()=>{try{navigator.permissions&&navigator.permissions.query&&(q=await navigator.permissions.query({name:"microphone"}),M(q.state||"unknown"),q.onchange=()=>M(q.state||"unknown"))}catch{}})(),()=>{q&&(q.onchange=null)}},[]);const ue=async()=>{F("");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(G=>G.stop()),M("granted"),!0}catch(q){const G=q&&(q.name||q.message)||"Permisso de microfone negada";return F(typeof G=="string"?G:"Falha ao acessar microfone"),M("denied"),!1}};w.useEffect(()=>{try{const q=localStorage.getItem(K);q&&b(q)}catch{}},[K]),w.useEffect(()=>{const q=(t.hash||"").toLowerCase(),ne={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"}[q];ne&&h(ne);const ce={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"},pe=(ve=0)=>{const Pe=ce[q],ke=document.getElementById(Pe)||document.getElementById(q.replace(/^#/,""));if(ke){try{ke.scrollIntoView({behavior:"smooth",block:"start"})}catch{}return}ve<10&&setTimeout(()=>pe(ve+1),80)};q&&setTimeout(()=>pe(0),50)},[t.hash]),w.useEffect(()=>{const G={anamnese:"#anamnese","exame-fisico":"#exame-fisico",diagnostico:"#problems_and_diagnostics"}[f];if(G&&(t.hash||"")!==G)try{r(`${t.pathname}${G}`,{replace:!0})}catch{}},[f]),w.useEffect(()=>{let q=!0;return(async()=>{var G;try{const ne="/api/pacientes/".replace(/\/?$/,"/"),{data:ce}=await Ee.get(`${ne}${e}/`);if(!q)return;re(ce);const pe=(ce==null?void 0:ce.alergias)||"";pe&&!A.alergias&&d(ve=>({...ve,alergias:pe}))}catch(ne){console.debug("[IniciarConsulta] Falha ao buscar paciente por id:",(G=ne==null?void 0:ne.response)==null?void 0:G.status)}})(),()=>{q=!1}},[e]),w.useEffect(()=>{try{localStorage.setItem(K,v||"")}catch{}},[K,v]),w.useEffect(()=>(E(),()=>{P()}),[]);const E=async()=>{try{if(!await ue()){B(!1),Q.current=!1;return}if(U.current){try{U.current.onend=null,U.current.onresult=null,U.current.onerror=null,U.current.stop()}catch{}U.current=null}const q=window.SpeechRecognition||window.webkitSpeechRecognition;if(!q){console.warn("Reconhecimento de fala no suportado neste navegador."),F("Seu navegador no suporta reconhecimento de fala."),B(!1);return}const G=new q;G.lang="pt-BR",G.continuous=!0,G.interimResults=!0,G.maxAlternatives=1,I.current=-1,G.onresult=ne=>{let ce="",pe="";for(let ve=ne.resultIndex;ve<ne.results.length;ve++){const Pe=ne.results[ve],ke=Array.from(Pe,xe=>xe.transcript).join("");Pe.isFinal?ce+=ke+" ":pe+=ke}if(ce){const ve=ce.trim();b(Pe=>{const ke=Pe?Pe.endsWith(" ")?Pe:Pe+" ":"";return ve&&ke.endsWith(ve)?Pe:(ke+ve).trim()})}W(pe)},G.onerror=ne=>{const ce=(ne==null?void 0:ne.error)||ne;if(console.warn("Erro no reconhecimento de fala:",ce),typeof ce=="string"&&F(ce),["audio-capture","network"].includes(ce)&&Q.current&&U.current===G)try{G.stop()}catch{}ce==="not-allowed"&&(B(!1),Q.current=!1)},G.onend=()=>{const ne=U.current===G,ce=(X.current||"").trim();ce&&b(pe=>{const ve=pe?pe.endsWith(" ")?pe:pe+" ":"";return ve.endsWith(ce)?pe:(ve+ce).trim()}),W(""),I.current=-1,Q.current&&ne&&setTimeout(()=>{try{G.start()}catch{}},200)},U.current=G,Q.current=!0,B(!0);try{G.start()}catch(ne){console.warn("Falha ao iniciar reconhecimento:",ne),B(!1),Q.current=!1,U.current=null,F("Falha ao iniciar reconhecimento de fala.");return}}catch(q){console.warn("Falha ao iniciar reconhecimento de fala:",q),B(!1),Q.current=!1,F("Falha inesperada ao iniciar microfone.")}},P=async()=>{try{B(!1),Q.current=!1,W(""),U.current&&(U.current.onend=null,U.current.onresult=null,U.current.onerror=null,U.current.stop(),U.current=null)}catch{}if((v||"").trim().length>0&&!o&&x)try{const G=Y(v||""),ne=await br.finalizarConsultaIA(x,{transcript:v||"",extracted:{queixa:G.queixa||"",historia:G.historia||"",diagnostico:G.diagnostico||"",conduta:G.conduta||"",medicamentos:G.medicamentos||"",posologia:G.posologia||"",pressao:G.pressao||"",frequencia_cardiaca:G["frequencia-cardiaca"]||G.frequencia||"",temperatura:G.temperatura||"",saturacao:G.saturacao||""},form:{queixa_principal:A.queixa||"",historia_doenca_atual:A.historia||"",diagnostico_principal:A.diagnostico||"",conduta:A.conduta||"",medicamentos_uso:A.medicamentos||"",alergias:A.alergias||"",pressao:A.pressao||"",frequencia_cardiaca:A.frequencia||A["frequencia-cardiaca"]||"",temperatura:A.temperatura||"",saturacao:A.saturacao||""}}),ce=[ne,ne==null?void 0:ne.data,ne==null?void 0:ne.result,ne==null?void 0:ne.output,ne==null?void 0:ne.summary,ne==null?void 0:ne.sumarizacao,ne==null?void 0:ne.resumo,ne==null?void 0:ne.fields].filter(Boolean),pe=(ke,xe)=>xe.split(".").reduce((de,wt)=>de&&de[wt]!=null?de[wt]:void 0,ke),ve=ke=>{for(const xe of ce)for(const de of ke){const wt=pe(xe,de);if(typeof wt=="string"&&wt.trim())return wt.trim()}return""},Pe={queixa:A.queixa||ve(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||G.queixa||"",historia:A.historia||ve(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||G.historia||"",medicamentos:A.medicamentos||ve(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||G.medicamentos||"",alergias:A.alergias||ve(["alergias","anamnese.alergias","allergies"])||"",diagnostico:A.diagnostico||ve(["diagnostico_principal","diagnostico","diagnosis","assessment"])||G.diagnostico||"",conduta:A.conduta||ve(["conduta","plano","plan","plan_terapeutico"])||G.conduta||"",posologia:A.posologia||ve(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||G.posologia||"",pressao:A.pressao||ve(["pressao","sinais_vitais.pressao"])||G.pressao||"","frequencia-cardiaca":A["frequencia-cardiaca"]||A.frequencia||ve(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca","fc","heart_rate"])||G["frequencia-cardiaca"]||G.frequencia||"",temperatura:A.temperatura||ve(["temperatura","sinais_vitais.temperatura"])||G.temperatura||"",saturacao:A.saturacao||ve(["saturacao","sinais_vitais.saturacao","spo2"])||G.saturacao||""};d(ke=>({...ke,...Pe})),l(!0),i({title:"Resumo aplicado",description:"Pr-preenchimento realizado a partir da transcrio."})}catch(G){console.debug("[auto-sumarizar] falhou:",G==null?void 0:G.message)}};function Y(q=""){var ut;let G=String(q||"").replace(/\r/g,"").trim();G=G.replace(/(?:^|[.!?])\s*(Ao exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Exame Fsico|Exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Diagnstico(?: Principal)?)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Conduta)(?!\s*[:])/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Prescrio|Prescricao|Receita|Rx)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Histria da Doena Atual|HDA|Histria|Historia)\s*:/gi,`
$1:`);const ne=["Queixa","Queixa Principal","Histria","Historia","HDA","Histria da Doena Atual","Exame","Exame Fsico","Ao exame","Diagnstico","Diagnostico","Diagnstico Principal","Conduta","Plano","Plano Teraputico","Prescrio","Prescricao","Receita","Rx","Alergias","Orientaes","Orientacoes","Observaes","Observacoes","Exames","Retorno"],ce=er=>{const We=er.join("|"),Xt=ne.join("|"),Vt=new RegExp(`(?:^|
)s*(?:${We})(?:[^
:]{0,50})?s*[:]s*([sS]*?)(?=s*(?:${Xt})s*[:]|$)`,"i"),Et=G.match(Vt);return Et?Et[1].trim():""},pe=ce(["Queixa","Queixa Principal"])||((ut=G.split(/\n\n|\n-/)[0])==null?void 0:ut.slice(0,300))||"",ve=ce(["Histria da Doena Atual","HDA","Histria","Historia"])||"",Pe=ce(["Diagnstico Principal","Diagnstico","Diagnostico"])||"",ke=ce(["Conduta","Plano","Plano Teraputico"])||"",xe=ce(["Prescrio","Prescricao","Receita","Rx"])||"";let de="",wt="";if(xe){const er=xe.split(/\n+/).map(Xt=>Xt.trim()).filter(Boolean);de=er.join(`
`);const We=er.map(Xt=>{const Vt=Xt.indexOf("");if(Vt>=0)return Xt.slice(Vt+1).trim();const Et=Xt.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return Et?(Et[2]||"").trim():""}).filter(Boolean);We.length&&(wt=We.join(`
`))}if(!de&&ke){const er=(ke.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[a]psul|gotas|spray).*/i)||[""])[0];er&&(de=er.trim(),wt="Conforme conduta descrita.")}const bt=(G.match(/(PA|press[a]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",mt=(G.match(/(FC|freq[u]ncia\s*card[i]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",qe=(G.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:?c|celsius)?/i)||["","","",""])[3]||"",dt=(G.match(/(sat|satura[c][a]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:pe,historia:ve,diagnostico:Pe,conduta:ke,medicamentos:de,posologia:wt,pressao:bt,"frequencia-cardiaca":mt,temperatura:qe,saturacao:dt}}const z=async()=>{const q=(Z||"").trim();if(!q){V(!1);return}const G=(A.alergias||"").trim(),ne=G?`${G}
${q}`:q;d(ce=>({...ce,alergias:ne}));try{R!=null&&R.id&&(br!=null&&br.atualizarPacienteById)&&(await br.atualizarPacienteById(R.id,{alergias:ne}),i({title:"Alergia adicionada",description:"Atualizamos o cadastro do paciente."}))}catch(ce){console.debug("Falha ao atualizar alergias do paciente:",ce==null?void 0:ce.message),i({title:"No foi possvel salvar no cadastro",description:"A alergia foi adicionada ao formulrio apenas.",variant:"destructive"})}finally{ie(""),V(!1)}},J=async q=>{var ne;q.preventDefault(),s(!0);try{P()}catch{}const G=Y(v||"");try{let ce=null;if(!o)if(x){let We=null;try{We=await br.finalizarConsultaIA(x,{transcript:v||"",extracted:{queixa:G.queixa||"",historia:G.historia||"",diagnostico:G.diagnostico||"",conduta:G.conduta||"",medicamentos:G.medicamentos||"",posologia:G.posologia||""},form:{queixa_principal:A.queixa||"",historia_doenca_atual:A.historia||"",diagnostico_principal:A.diagnostico||"",conduta:A.conduta||"",medicamentos_uso:A.medicamentos||"",alergias:A.alergias||""}})}catch(_t){console.warn("Falha ao enviar dados para sumarizao:",_t)}if(!We)try{We=await Nj.sumarizarTranscricao(v||"",{queixa:G.queixa||"",historia_doenca_atual:G.historia||"",diagnostico_principal:G.diagnostico||"",conduta:G.conduta||"",medicamentos:G.medicamentos||"",posologia:G.posologia||"",alergias:A.alergias||""})}catch(_t){console.debug("[AI] Gemini indisponvel:",_t==null?void 0:_t.message)}const Xt=[We,We==null?void 0:We.data,We==null?void 0:We.result,We==null?void 0:We.output,We==null?void 0:We.summary,We==null?void 0:We.sumarizacao,We==null?void 0:We.resumo,We==null?void 0:We.fields].filter(Boolean),Vt=(_t,It)=>{try{return It.split(".").reduce((Bt,Nt)=>Bt&&Bt[Nt]!==void 0?Bt[Nt]:void 0,_t)}catch{return}},Et=_t=>{for(const It of Xt)for(const Bt of _t){const Nt=Vt(It,Bt);if(Nt!=null){const Wt=String(Nt).trim();if(Wt)return Wt}}return""},Pr={queixa:A.queixa||Et(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||G.queixa||"",historia:A.historia||Et(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||G.historia||"",medicamentos:A.medicamentos||Et(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||G.medicamentos||"",alergias:A.alergias||Et(["alergias","anamnese.alergias","allergies"])||"",diagnostico:A.diagnostico||Et(["diagnostico_principal","diagnostico","diagnosis","assessment"])||G.diagnostico||"",conduta:A.conduta||Et(["conduta","plano","plan","plan_terapeutico"])||G.conduta||"",posologia:A.posologia||Et(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||G.posologia||"",pressao:A.pressao||Et(["pressao","sinais_vitais.pressao"])||G.pressao||"","frequencia-cardiaca":A["frequencia-cardiaca"]||Et(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca"])||G["frequencia-cardiaca"]||"",temperatura:A.temperatura||Et(["temperatura","sinais_vitais.temperatura"])||G.temperatura||"",saturacao:A.saturacao||Et(["saturacao","sinais_vitais.saturacao"])||G.saturacao||""};ce=Pr,d(_t=>({..._t,...Pr})),l(!0),i({title:"Resumo aplicado",description:"Campos preenchidos com a sugesto da IA. Revise e clique em 'Salvar Pronturio'."}),s(!1);return}else try{const We=await Nj.sumarizarTranscricao(v||"",{queixa_principal:G.queixa||A.queixa||"",historia_doenca_atual:G.historia||A.historia||"",diagnostico_principal:G.diagnostico||A.diagnostico||"",conduta:G.conduta||A.conduta||"",medicamentos:G.medicamentos||A.medicamentos||"",posologia:G.posologia||A.posologia||"",alergias:A.alergias||""}),Xt=[We,We==null?void 0:We.data,We==null?void 0:We.result,We==null?void 0:We.output,We==null?void 0:We.summary,We==null?void 0:We.sumarizacao,We==null?void 0:We.resumo,We==null?void 0:We.fields].filter(Boolean),Vt=(_t,It)=>{try{return It.split(".").reduce((Bt,Nt)=>Bt&&Bt[Nt]!==void 0?Bt[Nt]:void 0,_t)}catch{return}},Et=_t=>{for(const It of Xt)for(const Bt of _t){const Nt=Vt(It,Bt);if(Nt!=null){const Wt=String(Nt).trim();if(Wt)return Wt}}return""},Pr={queixa:A.queixa||Et(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||G.queixa||"",historia:A.historia||Et(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||G.historia||"",medicamentos:A.medicamentos||Et(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||G.medicamentos||"",alergias:A.alergias||Et(["alergias","anamnese.alergias","allergies"])||"",diagnostico:A.diagnostico||Et(["diagnostico_principal","diagnostico","diagnosis","assessment"])||G.diagnostico||"",conduta:A.conduta||Et(["conduta","plano","plan","plan_terapeutico"])||G.conduta||"",posologia:A.posologia||Et(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||G.posologia||""};ce=Pr,d(_t=>({..._t,...Pr})),l(!0),i({title:"Campos sugeridos",description:"Usamos a transcrio e a IA para preencher. Revise e clique em 'Salvar Pronturio'."}),s(!1);return}catch{const Xt={queixa:A.queixa||G.queixa||"",historia:A.historia||G.historia||"",diagnostico:A.diagnostico||G.diagnostico||"",conduta:A.conduta||G.conduta||"",medicamentos:A.medicamentos||G.medicamentos||"",posologia:A.posologia||G.posologia||""};ce=Xt,d(Vt=>({...Vt,...Xt})),l(!0),i({title:"Campos sugeridos",description:"Usamos a transcrio para preencher. Revise e clique em 'Salvar Pronturio'."}),s(!1);return}const pe=ce?{...A,...ce}:A,ve={consulta_id:x,queixa_principal:(pe.queixa||G.queixa||"").trim(),historia_doenca_atual:(pe.historia||G.historia||"").trim(),diagnostico_principal:(pe.diagnostico||G.diagnostico||"").trim(),conduta:(pe.conduta||G.conduta||"").trim()};(pe.medicamentos||G.medicamentos)&&(ve.medicamentos_uso=(pe.medicamentos||G.medicamentos).trim()),pe.alergias&&(ve.alergias=pe.alergias),pe.exames&&(ve.exames_solicitados=pe.exames),pe.retorno&&(ve.data_retorno=pe.retorno);let Pe=null;if(x)try{const We=await br.criarProntuario(ve);Pe=(We==null?void 0:We.id)||((ne=We==null?void 0:We.data)==null?void 0:ne.id)}catch(We){console.warn("Falha ao criar pronturio:",We)}const ke=new Date,xe=new Date(ke.getFullYear(),ke.getMonth(),ke.getDate()+7),de=We=>String(We).padStart(2,"0"),wt=`${xe.getFullYear()}-${de(xe.getMonth()+1)}-${de(xe.getDate())}`,bt=pe.medicamentos||G.medicamentos||"",mt=pe.posologia||G.posologia||"",qe=pe.diagnostico||G.diagnostico||"",dt=pe.conduta||G.conduta||"",ut=pe.queixa||G.queixa||"",er=pe.historia||G.historia||"";if(x&&(bt||mt))try{await br.criarReceita({consulta_id:x,paciente:e,paciente_id:e,medicamentos:bt,posologia:mt,validade:wt,observacoes:"Receita gerada automaticamente a partir do resumo da consulta."})}catch(We){console.warn("Falha ao criar receita automtica:",We)}try{localStorage.removeItem(K)}catch{}r(`/medico/paciente/${e}/consulta/resumo`,{state:{resumo:{medicamentos:bt,posologia:mt,validade:wt,diagnostico:qe,conduta:dt,queixa:ut,historia:er},consultaId:x,prontuarioId:Pe}})}catch(ce){console.error("Erro ao salvar pronturio/consulta:",ce);const pe=new Date,ve=new Date(pe.getFullYear(),pe.getMonth(),pe.getDate()+7),Pe=dt=>String(dt).padStart(2,"0"),ke=`${ve.getFullYear()}-${Pe(ve.getMonth()+1)}-${Pe(ve.getDate())}`,xe=A.medicamentos||G.medicamentos||"",de=A.posologia||G.posologia||"",wt=A.diagnostico||G.diagnostico||"",bt=A.conduta||G.conduta||"",mt=A.queixa||G.queixa||"",qe=A.historia||G.historia||"";r(`/medico/paciente/${e}/consulta/resumo`,{state:{resumo:{medicamentos:xe,posologia:de,validade:ke,diagnostico:wt,conduta:bt,queixa:mt,historia:qe},consultaId:x}})}finally{s(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nova Consulta"}),n.jsxs("p",{className:"text-muted-foreground",children:["Paciente ID: ",e,x?`  Consulta #${x}`:""]})]}),n.jsx(dx,{patientId:e,isPacienteView:!1,profile:R==null?void 0:R.user,patient:R,loading:!R}),n.jsxs(_e,{children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsx(Ze,{children:"Transcrio de udio (tempo real)"}),n.jsx(Ar,{children:"Fale normalmente; o texto aparecer abaixo e pode ser editado."}),S&&n.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Microfone: ",S]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`flex items-center gap-1 text-sm ${N?"text-green-600":"text-muted-foreground"}`,children:[n.jsx(SL,{className:`h-4 w-4 ${N?"animate-pulse":""}`}),N?"Ouvindo":"Pausado"]}),N?n.jsxs(ye,{type:"button",variant:"outline",size:"sm",onClick:P,children:[n.jsx(OL,{className:"h-4 w-4 mr-2"})," Pausar"]}):n.jsxs(ye,{type:"button",variant:"default",size:"sm",onClick:E,children:[n.jsx(HL,{className:"h-4 w-4 mr-2"})," Retomar"]}),n.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:ue,children:"Testar microfone"}),n.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>{P(),setTimeout(()=>E(),250)},children:"Resetar microfone"})]})]}),n.jsx(De,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"transcript",children:"Resumo em tempo real"}),n.jsx(aa,{id:"transcript",placeholder:"O que voc ditar ser transcrito aqui. Voc pode editar livremente.",className:"min-h-[160px]",value:v,onChange:q=>b(q.target.value)}),_&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1","aria-live":"polite",children:["Ditando: ",_]})]})})]}),n.jsxs("form",{onSubmit:J,children:[n.jsxs(Ii,{value:f,onValueChange:h,className:"space-y-4",children:[n.jsxs(Pi,{children:[n.jsxs(kr,{value:"anamnese",className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-4 w-4"}),"Anamnese"]}),n.jsxs(kr,{value:"exame-fisico",className:"flex items-center gap-2",children:[n.jsx(Vc,{className:"h-4 w-4"}),"Exame Fsico"]}),n.jsxs(kr,{value:"diagnostico",className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-4 w-4"}),"Diagnstico"]})]}),n.jsx(Rr,{value:"anamnese",children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Anamnese"}),n.jsx(Ar,{children:"Registre a queixa principal e o histrico do paciente"})]}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"queixa",children:"Queixa Principal"}),n.jsx(aa,{id:"queixa",placeholder:"Descreva a queixa principal do paciente",className:"min-h-[100px]",value:A.queixa,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"historia",children:"Histria da Doena Atual"}),n.jsx(aa,{id:"historia",placeholder:"Descreva a histria da doena atual",className:"min-h-[150px]",value:A.historia,onChange:m})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"medicamentos",children:"Medicamentos em Uso"}),n.jsx(aa,{id:"medicamentos",placeholder:"Liste os medicamentos em uso",className:"min-h-[100px]",value:A.medicamentos,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"alergias",children:"Alergias"}),n.jsx(aa,{id:"alergias",placeholder:"Liste as alergias conhecidas",className:"min-h-[100px]",value:A.alergias,onChange:m}),n.jsx("div",{className:"mt-2",children:n.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>V(!0),children:"Adicionar alergia"})})]})]})]})]})}),n.jsx(Rr,{value:"exame-fisico",children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Exame Fsico"}),n.jsx(Ar,{children:"Registre os dados do exame fsico do paciente"})]}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"pressao",children:"Presso Arterial"}),n.jsx(Ge,{id:"pressao",placeholder:"Ex: 120/80 mmHg",value:A.pressao,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"frequencia-cardiaca",children:"Freq. Cardaca"}),n.jsx(Ge,{id:"frequencia-cardiaca",placeholder:"Ex: 75 bpm",value:A["frequencia-cardiaca"],onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"temperatura",children:"Temperatura"}),n.jsx(Ge,{id:"temperatura",placeholder:"Ex: 36.5 C",value:A.temperatura,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"saturacao",children:"Saturao O2"}),n.jsx(Ge,{id:"saturacao",placeholder:"Ex: 98%",value:A.saturacao,onChange:m})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"exame-geral",children:"Exame Geral"}),n.jsx(aa,{id:"exame-geral",placeholder:"Descreva o estado geral do paciente",className:"min-h-[100px]",value:A["exame-geral"],onChange:m})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"sistema-cardiovascular",children:"Sistema Cardiovascular"}),n.jsx(aa,{id:"sistema-cardiovascular",placeholder:"Descreva os achados cardiovasculares",className:"min-h-[100px]",value:A["sistema-cardiovascular"],onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"sistema-respiratorio",children:"Sistema Respiratrio"}),n.jsx(aa,{id:"sistema-respiratorio",placeholder:"Descreva os achados respiratrios",className:"min-h-[100px]",value:A["sistema-respiratorio"],onChange:m})]})]})]})]})}),n.jsx(Rr,{value:"diagnostico",id:"problems_and_diagnostics",children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Diagnstico e Conduta"}),n.jsx(Ar,{children:"Registre o diagnstico e plano teraputico"})]}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"diagnostico",children:"Diagnstico"}),n.jsx(aa,{id:"diagnostico",placeholder:"Descreva o diagnstico principal e diferenciais",className:"min-h-[100px]",value:A.diagnostico,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"conduta",children:"Conduta"}),n.jsx(aa,{id:"conduta",placeholder:"Descreva a conduta teraputica",className:"min-h-[150px]",value:A.conduta,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"exames",children:"Exames Solicitados"}),n.jsx(aa,{id:"exames",placeholder:"Liste os exames solicitados",className:"min-h-[100px]",value:A.exames,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"retorno",children:"Retorno"}),n.jsx(_s,{id:"retorno",name:"retorno",className:"max-w-xs",value:A.retorno,onChange:q=>m({target:{name:"retorno",value:q}}),minDate:new Date})]})]})]})})]}),n.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-10 border-t bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>r(-1),children:"Cancelar"}),n.jsx(ye,{type:"submit",disabled:a,children:a?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(hy,{className:"mr-2 h-4 w-4"}),o?"Salvar Pronturio":"Finalizar e Preencher com IA"]})})]})})]}),n.jsx(yu,{open:$,onOpenChange:V,children:n.jsxs(fd,{children:[n.jsxs(hd,{children:[n.jsx(md,{children:"Adicionar alergia"}),n.jsx(Pm,{children:"Informe a alergia para adicionar ao pronturio (e ao cadastro do paciente)."})]}),n.jsxs("div",{className:"space-y-2 py-2",children:[n.jsx(Le,{htmlFor:"nova-alergia",children:"Alergia"}),n.jsx(Ge,{id:"nova-alergia",placeholder:"Ex.: Dipirona",value:Z,onChange:q=>ie(q.target.value)})]}),n.jsxs(bu,{children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>{V(!1),ie("")},children:"Cancelar"}),n.jsx(ye,{type:"button",onClick:z,children:"Salvar"})]})]})})]})}function oF(){const e=new Date,r=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${r}-${t}`}function b9(e){if(!e)return"";const r=String(e).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(r){const[,t,a,s]=r;return`${s}/${a}/${t}`}try{return new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return e}}function N9(e){return(e===oF()?br.getConsultasHoje():br.getConsultasDoMedico({date:e})).then(a=>{const i=(o=>Array.isArray(o)?o:!o||typeof o!="object"?[]:Array.isArray(o.results)?o.results:Array.isArray(o.data)?o.data:Array.isArray(o.items)?o.items:Array.isArray(o.consultas)?o.consultas:Array.isArray(o.content)?o.content:Array.isArray(o.objects)?o.objects:[])(a);return Array.isArray(i)?i.map(o=>{var p,x,v,b,N;const l=((p=o==null?void 0:o.paciente)==null?void 0:p.user)||{},A=[l.first_name,l.last_name].filter(Boolean).join(" ")||((x=o==null?void 0:o.paciente)==null?void 0:x.nome)||(o==null?void 0:o.paciente_nome)||(o==null?void 0:o.nome_paciente)||"Paciente";let d="";const f=(o==null?void 0:o.data_hora)||(o==null?void 0:o.horario)||(o==null?void 0:o.inicio)||(o==null?void 0:o.start_time)||(o==null?void 0:o.data)||(o==null?void 0:o.inicio_previsto);if(f)try{const B=new Date(f);if(!isNaN(B.getTime()))d=B.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});else throw new Error("invalid date")}catch{const B=String(f).match(/\b(\d{2}:\d{2})\b/);d=B?B[1]:""}const h=String((o==null?void 0:o.status)||(o==null?void 0:o.situacao)||"").toLowerCase();let m="pendente";return h.includes("andamento")?m="em_andamento":h.includes("finaliz")||h.includes("conclu")||h.includes("cancel")||h.includes("faltou")?m="finalizado":m="pendente",{id:o.id||o.consulta_id||o.uuid,paciente:{id:((v=o==null?void 0:o.paciente)==null?void 0:v.id)||(o==null?void 0:o.paciente_id),nome:A.trim(),avatarUrl:((b=o==null?void 0:o.paciente)==null?void 0:b.avatar_url)||((N=o==null?void 0:o.paciente)==null?void 0:N.foto)||(o==null?void 0:o.paciente_avatar)||null},hora:d,status:m}}):[]})}function j9({status:e}){const r={pendente:"bg-amber-100 text-amber-700",em_andamento:"bg-emerald-100 text-emerald-700",finalizado:"bg-gray-100 text-gray-600"},t={pendente:"Pendente",em_andamento:"Em Andamento",finalizado:"Finalizado"};return n.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${r[e]}`,children:t[e]})}function B9({url:e,name:r}){return e?n.jsx("img",{src:e,alt:`Avatar de ${r}`,className:"h-14 w-14 rounded-full object-cover"}):n.jsxs("svg",{className:"h-14 w-14 rounded-full bg-gray-100 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":!0,children:[n.jsx("circle",{cx:"12",cy:"8",r:"4"}),n.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]})}function C9(){return n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),n.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"})]})}function S9({onRetry:e}){return n.jsxs("div",{className:"mt-10 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:["Ocorreu um erro ao carregar as consultas.",n.jsx("button",{className:"ml-3 rounded-md bg-red-600 px-3 py-1 text-white",onClick:e,children:"Tentar novamente"})]})}function E9(){return n.jsx("div",{className:"mt-12 rounded-2xl border bg-white p-10 text-center text-gray-500",children:"Nenhuma consulta encontrada para este dia."})}function _9({children:e,...r}){return n.jsx("button",{...r,className:"rounded-lg bg-blue-600 px-4 py-2 text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-200",children:e})}function jj({children:e,...r}){return n.jsx("button",{...r,className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 shadow-sm transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:e})}function F9({consulta:e,onIniciar:r}){const t=w.useMemo(()=>{if(!e.hora)return"";try{const[s,i]=String(e.hora).split(":"),o=new Date;return o.setHours(Number(s),Number(i),0,0),o.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return e.hora}},[e.hora]),a=()=>e.status==="pendente"?n.jsx(_9,{onClick:()=>r(e),"aria-label":`Iniciar consulta de ${e.paciente.nome} s ${e.hora}`,children:"Iniciar Consulta"}):e.status==="em_andamento"?n.jsx(jj,{disabled:!0,children:"Em Andamento"}):n.jsx(jj,{disabled:!0,children:"Finalizado"});return n.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-white p-5 shadow-md transition-all hover:shadow-lg",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(B9,{url:e.paciente.avatarUrl,name:e.paciente.nome}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:e.paciente.nome}),n.jsx("div",{className:"mt-1 text-sm text-gray-500",children:t})]})]}),n.jsxs("div",{className:"flex flex-col items-stretch gap-3 md:flex-row md:items-center",children:[n.jsx(j9,{status:e.status}),a()]})]})}function k9(){const e=Xn(),[r,t]=w.useState(oF()),[a,s]=w.useState("todos"),[i,o]=w.useState(!0),[l,A]=w.useState(null),[d,f]=w.useState([]),h=async()=>{o(!0),A(null);try{const v=await N9(r);f(v)}catch(v){A(v)}finally{o(!1)}};w.useEffect(()=>{h()},[r]);const m=async v=>{var b;try{v!=null&&v.id&&await br.iniciarConsulta(v.id)}catch(N){console.error("Falha ao iniciar consulta no backend:",N)}finally{try{const N=v==null?void 0:v.id,B=(b=v==null?void 0:v.paciente)==null?void 0:b.id,S=N?`/medico/paciente/${B}/iniciar-consulta?consultaId=${N}`:`/medico/paciente/${B}/iniciar-consulta`;e(S)}catch{console.log("Iniciar consulta (fallback navegao)",v==null?void 0:v.id)}}},p=b9(r),x=d.filter(v=>a==="todos"?!0:v.status===a);return n.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-xl bg-blue-50 p-2 text-blue-600",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5",children:[n.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),n.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas de Hoje"}),n.jsx("span",{className:"text-sm text-gray-500",children:p})]}),n.jsx("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:n.jsxs("div",{className:"flex w-full gap-3 md:w-auto",children:[n.jsxs("div",{className:"relative w-full md:w-60",children:[n.jsxs("select",{value:a,onChange:v=>s(v.target.value),className:"w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[n.jsx("option",{value:"todos",children:"Filtrar por status"}),n.jsx("option",{value:"pendente",children:"Pendentes"}),n.jsx("option",{value:"em_andamento",children:"Em Andamento"}),n.jsx("option",{value:"finalizado",children:"Finalizadas"})]}),n.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.25 4.417a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),n.jsx(_s,{value:r,onChange:v=>t(v),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:w-auto"})]})}),i&&n.jsx(C9,{}),!i&&l&&n.jsx(S9,{onRetry:h}),!i&&!l&&x.length===0&&n.jsx(E9,{}),!i&&!l&&x.length>0&&n.jsx("div",{className:"mt-6 space-y-4",children:x.map(v=>n.jsx(F9,{consulta:v,onIniciar:m},v.id))})]})}const Fg=w.forwardRef(({className:e,checked:r,onCheckedChange:t,disabled:a,...s},i)=>{const o=l=>{t&&t(l.target.checked)};return n.jsxs("div",{className:"relative inline-flex items-center",children:[n.jsx("input",{type:"checkbox",ref:i,checked:r,onChange:o,disabled:a,className:"sr-only",...s}),n.jsx("div",{className:st("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground","transition-all duration-200 cursor-pointer",r?"bg-primary border-primary text-primary-foreground":"border-input bg-background hover:border-primary/50",a&&"cursor-not-allowed opacity-50",e),onClick:()=>!a&&t&&t(!r),children:r&&n.jsx(cy,{className:"h-3 w-3 text-current flex items-center justify-center w-full h-full"})})]})});Fg.displayName="Checkbox";class D9{constructor(){this.baseUrl="/api/notificacoes/",this.verbose="true".toLowerCase()==="true"}async enviarNotificacaoInterna({pacienteId:r,titulo:t,mensagem:a,tipo:s="receita",dados:i={},prioridade:o="normal"}){try{const l={destinatario_id:r,titulo:t,mensagem:a,tipo:s,dados:i,prioridade:o,canal:"interno"},A=await Ee.post(`${this.baseUrl}enviar/`,l);return this.verbose&&console.log("[NotificationService] Notificao interna enviada:",A.data),A.data}catch(l){throw console.error("[NotificationService] Erro ao enviar notificao interna:",l),l}}async enviarReceitaPorEmail({pacienteId:r,email:t,receitaId:a,arquivo:s,nomeArquivo:i,assunto:o,mensagem:l}){try{const A=new FormData;if(A.append("destinatario_id",r),A.append("email",t),A.append("receita_id",a),A.append("canal","email"),A.append("tipo","receita"),o&&A.append("assunto",o),l&&A.append("mensagem",l),s){const f=i||`receita_${a}.pdf`;A.append("arquivo",s,f)}const d=await Ee.post(`${this.baseUrl}enviar-email/`,A,{headers:{"Content-Type":"multipart/form-data"}});return this.verbose&&console.log("[NotificationService] E-mail enviado:",d.data),d.data}catch(A){throw console.error("[NotificationService] Erro ao enviar e-mail:",A),A}}async enviarReceitaPorSMS({pacienteId:r,telefone:t,receitaId:a,mensagem:s,linkDownload:i}){var o,l;try{const A=t==null?void 0:t.replace(/\D/g,"");if(!A||A.length<10)throw new Error("Nmero de telefone invlido. Deve conter pelo menos 10 dgitos.");let d=A;A.length===11&&A.startsWith("0")&&(d=A.substring(1)),A.length===10?d=`55${A}`:A.length===11&&(d=`55${A}`);const f={destinatario_id:r,telefone:d,telefone_original:t,receita_id:a,mensagem:s||`Nova receita mdica disponvel. Acesse: ${i||window.location.origin}/paciente/receitas`,link_download:i,canal:"sms",tipo:"receita"},h=[`${this.baseUrl}enviar-sms/`,"/api/sms/enviar/","/sms/send/","/notifications/sms/","/receitas/sms/","/comunicacao/sms/"];let m=null;for(const p of h)try{this.verbose&&console.log(`[NotificationService] Tentando enviar SMS via: ${p}`,f);const x=await Ee.post(p,f);return this.verbose&&console.log("[NotificationService] SMS enviado com sucesso:",x.data),{success:!0,data:x.data,message:"SMS enviado com sucesso",endpoint:p,telefone_usado:d}}catch(x){m=x;const v=(o=x.response)==null?void 0:o.status;if(this.verbose&&console.log(`[NotificationService] Falha no endpoint ${p}:`,x.message),v===401||v===403)throw x;continue}throw console.error("[NotificationService] Todos os endpoints de SMS falharam. ltimo erro:",m),m||new Error("Nenhum endpoint de SMS disponvel ou configurado")}catch(A){return console.error("[NotificationService] Erro ao enviar SMS:",A),{success:!1,error:((l=A.response)==null?void 0:l.data)||A.message,message:A.message||"Falha ao enviar SMS"}}}async enviarReceitaMulticanal({pacienteId:r,receitaId:t,arquivo:a,nomeArquivo:s,canais:i=["interno"],dadosPaciente:o={},configuracoes:l={}}){const A={interno:null,email:null,sms:null,erros:[]};if(i.includes("interno"))try{const d=l.tituloInterno||"Nova receita mdica disponvel",f=l.mensagemInterna||"Voc tem uma nova receita mdica disponvel. Acesse sua rea do paciente para visualizar.";A.interno=await this.enviarNotificacaoInterna({pacienteId:r,titulo:d,mensagem:f,tipo:"receita",dados:{receita_id:t},prioridade:"alta"})}catch(d){A.erros.push({canal:"interno",erro:d.message})}if(i.includes("email")&&o.email)try{const d=l.assuntoEmail||"Nova receita mdica",f=l.mensagemEmail||`Ol ${o.nome||""},

Voc tem uma nova receita mdica em anexo.

Atenciosamente,
Equipe Mdica`;A.email=await this.enviarReceitaPorEmail({pacienteId:r,email:o.email,receitaId:t,arquivo:a,nomeArquivo:s,assunto:d,mensagem:f})}catch(d){A.erros.push({canal:"email",erro:d.message})}if(i.includes("sms")&&o.telefone)try{const d=l.mensagemSMS||`Nova receita mdica disponvel. Acesse: ${l.linkSite||window.location.origin}/paciente/receitas`,f=await this.enviarReceitaPorSMS({pacienteId:r,telefone:o.telefone,receitaId:t,mensagem:d,linkDownload:l.linkDownload});f.success?A.sms=f:A.erros.push({canal:"sms",erro:f.message||"Falha ao enviar SMS"})}catch(d){A.erros.push({canal:"sms",erro:d.message})}return A}async buscarNotificacoes({page:r=1,pageSize:t=20,tipo:a=null,lidas:s=null}){try{const i={page:r,page_size:t};return a&&(i.tipo=a),s!==null&&(i.lidas=s),(await Ee.get(this.baseUrl,{params:i})).data}catch(i){throw console.error("[NotificationService] Erro ao buscar notificaes:",i),i}}async marcarComoLida(r){try{return(await Ee.patch(`${this.baseUrl}${r}/`,{lida:!0,data_leitura:new Date().toISOString()})).data}catch(t){throw console.error("[NotificationService] Erro ao marcar notificao como lida:",t),t}}async marcarTodasComoLidas(){try{return(await Ee.post(`${this.baseUrl}marcar-todas-lidas/`)).data}catch(r){throw console.error("[NotificationService] Erro ao marcar todas como lidas:",r),r}}async deletarNotificacao(r){try{return await Ee.delete(`${this.baseUrl}${r}/`),!0}catch(t){throw console.error("[NotificationService] Erro ao deletar notificao:",t),t}}async buscarConfiguracoes(){try{return(await Ee.get(`${this.baseUrl}configuracoes/`)).data}catch(r){return console.error("[NotificationService] Erro ao buscar configuraes:",r),{email_ativo:!0,sms_ativo:!1,push_ativo:!0,tipos_habilitados:["receita","consulta","exame"]}}}async atualizarConfiguracoes(r){try{return(await Ee.put(`${this.baseUrl}configuracoes/`,r)).data}catch(t){throw console.error("[NotificationService] Erro ao atualizar configuraes:",t),t}}}const U9=new D9;/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v1=function(e,r){return v1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},v1(e,r)};function hl(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");v1(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var w1=function(){return w1=Object.assign||function(r){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},w1.apply(this,arguments)};function li(e,r,t,a){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(f){try{d(a.next(f))}catch(h){o(h)}}function A(f){try{d(a.throw(f))}catch(h){o(h)}}function d(f){f.done?i(f.value):s(f.value).then(l,A)}d((a=a.apply(e,[])).next())})}function qs(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return A([d,f])}}function A(d){if(a)throw new TypeError("Generator is already executing.");for(;t;)try{if(a=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){t.label=d[1];break}if(d[0]===6&&t.label<i[1]){t.label=i[1],i=d;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(d);break}i[2]&&t.ops.pop(),t.trys.pop();continue}d=r.call(e,t)}catch(f){d=[6,f],s=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Pp(e,r,t){if(arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||r)}var rA=(function(){function e(r,t,a,s){this.left=r,this.top=t,this.width=a,this.height=s}return e.prototype.add=function(r,t,a,s){return new e(this.left+r,this.top+t,this.width+a,this.height+s)},e.fromClientRect=function(r,t){return new e(t.left+r.windowBounds.left,t.top+r.windowBounds.top,t.width,t.height)},e.fromDOMRectList=function(r,t){var a=Array.from(t).find(function(s){return s.width!==0});return a?new e(a.left+r.windowBounds.left,a.top+r.windowBounds.top,a.width,a.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),ux=function(e,r){return rA.fromClientRect(e,r.getBoundingClientRect())},L9=function(e){var r=e.body,t=e.documentElement;if(!r||!t)throw new Error("Unable to get document size");var a=Math.max(Math.max(r.scrollWidth,t.scrollWidth),Math.max(r.offsetWidth,t.offsetWidth),Math.max(r.clientWidth,t.clientWidth)),s=Math.max(Math.max(r.scrollHeight,t.scrollHeight),Math.max(r.offsetHeight,t.offsetHeight),Math.max(r.clientHeight,t.clientHeight));return new rA(0,0,a,s)},fx=function(e){for(var r=[],t=0,a=e.length;t<a;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319&&t<a){var i=e.charCodeAt(t++);(i&64512)===56320?r.push(((s&1023)<<10)+(i&1023)+65536):(r.push(s),t--)}else r.push(s)}return r},Un=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var a=[],s=-1,i="";++s<t;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===t||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},Bj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qp=0;Qp<Bj.length;Qp++)I9[Bj.charCodeAt(Qp)]=Qp;var Cj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rp=0;Rp<Cj.length;Rp++)Mh[Cj.charCodeAt(Rp)]=Rp;var P9=function(e){var r=e.length*.75,t=e.length,a,s=0,i,o,l,A;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),f=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<t;a+=4)i=Mh[e.charCodeAt(a)],o=Mh[e.charCodeAt(a+1)],l=Mh[e.charCodeAt(a+2)],A=Mh[e.charCodeAt(a+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},Q9=function(e){for(var r=e.length,t=[],a=0;a<r;a+=2)t.push(e[a+1]<<8|e[a]);return t},R9=function(e){for(var r=e.length,t=[],a=0;a<r;a+=4)t.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return t},su=5,ab=11,Wv=2,T9=ab-su,lF=65536>>su,M9=1<<su,Gv=M9-1,O9=1024>>su,H9=lF+O9,K9=H9,$9=32,V9=K9+$9,z9=65536>>ab,q9=1<<T9,W9=q9-1,Sj=function(e,r,t){return e.slice?e.slice(r,t):new Uint16Array(Array.prototype.slice.call(e,r,t))},G9=function(e,r,t){return e.slice?e.slice(r,t):new Uint32Array(Array.prototype.slice.call(e,r,t))},Y9=function(e,r){var t=P9(e),a=Array.isArray(t)?R9(t):new Uint32Array(t),s=Array.isArray(t)?Q9(t):new Uint16Array(t),i=24,o=Sj(s,i/2,a[4]/2),l=a[5]===2?Sj(s,(i+a[4])/2):G9(a,Math.ceil((i+a[4])/4));return new X9(a[0],a[1],a[2],a[3],o,l)},X9=(function(){function e(r,t,a,s,i,o){this.initialValue=r,this.errorValue=t,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(r){var t;if(r>=0){if(r<55296||r>56319&&r<=65535)return t=this.index[r>>su],t=(t<<Wv)+(r&Gv),this.data[t];if(r<=65535)return t=this.index[lF+(r-55296>>su)],t=(t<<Wv)+(r&Gv),this.data[t];if(r<this.highStart)return t=V9-z9+(r>>ab),t=this.index[t],t+=r>>su&W9,t=this.index[t],t=(t<<Wv)+(r&Gv),this.data[t];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),Ej="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Tp=0;Tp<Ej.length;Tp++)J9[Ej.charCodeAt(Tp)]=Tp;var Z9="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",_j=50,eK=1,cF=2,AF=3,tK=4,rK=5,Fj=7,dF=8,kj=9,qA=10,y1=11,Dj=12,b1=13,aK=14,Oh=15,N1=16,Mp=17,kh=18,nK=19,Uj=20,j1=21,Dh=22,Yv=23,of=24,Zi=25,Hh=26,Kh=27,lf=28,sK=29,Wd=30,iK=31,Op=32,Hp=33,B1=34,C1=35,S1=36,fm=37,E1=38,kg=39,Dg=40,Xv=41,uF=42,oK=43,lK=[9001,65288],fF="!",ea="",Kp="",_1=Y9(Z9),Pc=[Wd,S1],F1=[eK,cF,AF,rK],hF=[qA,dF],Lj=[Kh,Hh],cK=F1.concat(hF),Ij=[E1,kg,Dg,B1,C1],AK=[Oh,b1],dK=function(e,r){r===void 0&&(r="strict");var t=[],a=[],s=[];return e.forEach(function(i,o){var l=_1.get(i);if(l>_j?(s.push(!0),l-=_j):s.push(!1),["normal","auto","loose"].indexOf(r)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return a.push(o),t.push(N1);if(l===tK||l===y1){if(o===0)return a.push(o),t.push(Wd);var A=t[o-1];return cK.indexOf(A)===-1?(a.push(a[o-1]),t.push(A)):(a.push(o),t.push(Wd))}if(a.push(o),l===iK)return t.push(r==="strict"?j1:fm);if(l===uF||l===sK)return t.push(Wd);if(l===oK)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(fm):t.push(Wd);t.push(l)}),[a,t,s]},Jv=function(e,r,t,a){var s=a[t];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=t;i<=a.length;){i++;var o=a[i];if(o===r)return!0;if(o!==qA)break}if(s===qA)for(var i=t;i>0;){i--;var l=a[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var A=t;A<=a.length;){A++;var o=a[A];if(o===r)return!0;if(o!==qA)break}if(l!==qA)break}return!1},Pj=function(e,r){for(var t=e;t>=0;){var a=r[t];if(a===qA)t--;else return a}return 0},uK=function(e,r,t,a,s){if(t[a]===0)return ea;var i=a-1;if(Array.isArray(s)&&s[i]===!0)return ea;var o=i-1,l=i+1,A=r[i],d=o>=0?r[o]:0,f=r[l];if(A===cF&&f===AF)return ea;if(F1.indexOf(A)!==-1)return fF;if(F1.indexOf(f)!==-1||hF.indexOf(f)!==-1)return ea;if(Pj(i,r)===dF)return Kp;if(_1.get(e[i])===y1||(A===Op||A===Hp)&&_1.get(e[l])===y1||A===Fj||f===Fj||A===kj||[qA,b1,Oh].indexOf(A)===-1&&f===kj||[Mp,kh,nK,of,lf].indexOf(f)!==-1||Pj(i,r)===Dh||Jv(Yv,Dh,i,r)||Jv([Mp,kh],j1,i,r)||Jv(Dj,Dj,i,r))return ea;if(A===qA)return Kp;if(A===Yv||f===Yv)return ea;if(f===N1||A===N1)return Kp;if([b1,Oh,j1].indexOf(f)!==-1||A===aK||d===S1&&AK.indexOf(A)!==-1||A===lf&&f===S1||f===Uj||Pc.indexOf(f)!==-1&&A===Zi||Pc.indexOf(A)!==-1&&f===Zi||A===Kh&&[fm,Op,Hp].indexOf(f)!==-1||[fm,Op,Hp].indexOf(A)!==-1&&f===Hh||Pc.indexOf(A)!==-1&&Lj.indexOf(f)!==-1||Lj.indexOf(A)!==-1&&Pc.indexOf(f)!==-1||[Kh,Hh].indexOf(A)!==-1&&(f===Zi||[Dh,Oh].indexOf(f)!==-1&&r[l+1]===Zi)||[Dh,Oh].indexOf(A)!==-1&&f===Zi||A===Zi&&[Zi,lf,of].indexOf(f)!==-1)return ea;if([Zi,lf,of,Mp,kh].indexOf(f)!==-1)for(var h=i;h>=0;){var m=r[h];if(m===Zi)return ea;if([lf,of].indexOf(m)!==-1)h--;else break}if([Kh,Hh].indexOf(f)!==-1)for(var h=[Mp,kh].indexOf(A)!==-1?o:i;h>=0;){var m=r[h];if(m===Zi)return ea;if([lf,of].indexOf(m)!==-1)h--;else break}if(E1===A&&[E1,kg,B1,C1].indexOf(f)!==-1||[kg,B1].indexOf(A)!==-1&&[kg,Dg].indexOf(f)!==-1||[Dg,C1].indexOf(A)!==-1&&f===Dg||Ij.indexOf(A)!==-1&&[Uj,Hh].indexOf(f)!==-1||Ij.indexOf(f)!==-1&&A===Kh||Pc.indexOf(A)!==-1&&Pc.indexOf(f)!==-1||A===of&&Pc.indexOf(f)!==-1||Pc.concat(Zi).indexOf(A)!==-1&&f===Dh&&lK.indexOf(e[l])===-1||Pc.concat(Zi).indexOf(f)!==-1&&A===kh)return ea;if(A===Xv&&f===Xv){for(var p=t[i],x=1;p>0&&(p--,r[p]===Xv);)x++;if(x%2!==0)return ea}return A===Op&&f===Hp?ea:Kp},fK=function(e,r){r||(r={lineBreak:"normal",wordBreak:"normal"});var t=dK(e,r.lineBreak),a=t[0],s=t[1],i=t[2];(r.wordBreak==="break-all"||r.wordBreak==="break-word")&&(s=s.map(function(l){return[Zi,Wd,uF].indexOf(l)!==-1?fm:l}));var o=r.wordBreak==="keep-all"?i.map(function(l,A){return l&&e[A]>=19968&&e[A]<=40959}):void 0;return[a,s,o]},hK=(function(){function e(r,t,a,s){this.codePoints=r,this.required=t===fF,this.start=a,this.end=s}return e.prototype.slice=function(){return Un.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),mK=function(e,r){var t=fx(e),a=fK(t,r),s=a[0],i=a[1],o=a[2],l=t.length,A=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var f=ea;d<l&&(f=uK(t,i,s,++d,o))===ea;);if(f!==ea||d===l){var h=new hK(t,f,A,d);return A=d,{value:h,done:!1}}return{done:!0,value:null}}}},pK=1,gK=2,Qm=4,Qj=8,A0=10,Rj=47,Gh=92,xK=9,vK=32,$p=34,Uh=61,wK=35,yK=36,bK=37,Vp=39,zp=40,Lh=41,NK=95,Di=45,jK=33,BK=60,CK=62,SK=64,EK=91,_K=93,FK=61,kK=123,qp=63,DK=125,Tj=124,UK=126,LK=128,Mj=65533,Zv=42,eu=43,IK=44,PK=58,QK=59,hm=46,RK=0,TK=8,MK=11,OK=14,HK=31,KK=127,Dl=-1,mF=48,pF=97,gF=101,$K=102,VK=117,zK=122,xF=65,vF=69,wF=70,qK=85,WK=90,Gs=function(e){return e>=mF&&e<=57},GK=function(e){return e>=55296&&e<=57343},cf=function(e){return Gs(e)||e>=xF&&e<=wF||e>=pF&&e<=$K},YK=function(e){return e>=pF&&e<=zK},XK=function(e){return e>=xF&&e<=WK},JK=function(e){return YK(e)||XK(e)},ZK=function(e){return e>=LK},Wp=function(e){return e===A0||e===xK||e===vK},d0=function(e){return JK(e)||ZK(e)||e===NK},Oj=function(e){return d0(e)||Gs(e)||e===Di},e$=function(e){return e>=RK&&e<=TK||e===MK||e>=OK&&e<=HK||e===KK},KA=function(e,r){return e!==Gh?!1:r!==A0},Gp=function(e,r,t){return e===Di?d0(r)||KA(r,t):d0(e)?!0:!!(e===Gh&&KA(e,r))},ew=function(e,r,t){return e===eu||e===Di?Gs(r)?!0:r===hm&&Gs(t):Gs(e===hm?r:e)},t$=function(e){var r=0,t=1;(e[r]===eu||e[r]===Di)&&(e[r]===Di&&(t=-1),r++);for(var a=[];Gs(e[r]);)a.push(e[r++]);var s=a.length?parseInt(Un.apply(void 0,a),10):0;e[r]===hm&&r++;for(var i=[];Gs(e[r]);)i.push(e[r++]);var o=i.length,l=o?parseInt(Un.apply(void 0,i),10):0;(e[r]===vF||e[r]===gF)&&r++;var A=1;(e[r]===eu||e[r]===Di)&&(e[r]===Di&&(A=-1),r++);for(var d=[];Gs(e[r]);)d.push(e[r++]);var f=d.length?parseInt(Un.apply(void 0,d),10):0;return t*(s+l*Math.pow(10,-o))*Math.pow(10,A*f)},r$={type:2},a$={type:3},n$={type:4},s$={type:13},i$={type:8},o$={type:21},l$={type:9},c$={type:10},A$={type:11},d$={type:12},u$={type:14},Yp={type:23},f$={type:1},h$={type:25},m$={type:24},p$={type:26},g$={type:27},x$={type:28},v$={type:29},w$={type:31},k1={type:32},yF=(function(){function e(){this._value=[]}return e.prototype.write=function(r){this._value=this._value.concat(fx(r))},e.prototype.read=function(){for(var r=[],t=this.consumeToken();t!==k1;)r.push(t),t=this.consumeToken();return r},e.prototype.consumeToken=function(){var r=this.consumeCodePoint();switch(r){case $p:return this.consumeStringToken($p);case wK:var t=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Oj(t)||KA(a,s)){var i=Gp(t,a,s)?gK:pK,o=this.consumeName();return{type:5,value:o,flags:i}}break;case yK:if(this.peekCodePoint(0)===Uh)return this.consumeCodePoint(),s$;break;case Vp:return this.consumeStringToken(Vp);case zp:return r$;case Lh:return a$;case Zv:if(this.peekCodePoint(0)===Uh)return this.consumeCodePoint(),u$;break;case eu:if(ew(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case IK:return n$;case Di:var l=r,A=this.peekCodePoint(0),d=this.peekCodePoint(1);if(ew(l,A,d))return this.reconsumeCodePoint(r),this.consumeNumericToken();if(Gp(l,A,d))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();if(A===Di&&d===CK)return this.consumeCodePoint(),this.consumeCodePoint(),m$;break;case hm:if(ew(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case Rj:if(this.peekCodePoint(0)===Zv)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===Zv&&(f=this.consumeCodePoint(),f===Rj))return this.consumeToken();if(f===Dl)return this.consumeToken()}break;case PK:return p$;case QK:return g$;case BK:if(this.peekCodePoint(0)===jK&&this.peekCodePoint(1)===Di&&this.peekCodePoint(2)===Di)return this.consumeCodePoint(),this.consumeCodePoint(),h$;break;case SK:var h=this.peekCodePoint(0),m=this.peekCodePoint(1),p=this.peekCodePoint(2);if(Gp(h,m,p)){var o=this.consumeName();return{type:7,value:o}}break;case EK:return x$;case Gh:if(KA(r,this.peekCodePoint(0)))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();break;case _K:return v$;case FK:if(this.peekCodePoint(0)===Uh)return this.consumeCodePoint(),i$;break;case kK:return A$;case DK:return d$;case VK:case qK:var x=this.peekCodePoint(0),v=this.peekCodePoint(1);return x===eu&&(cf(v)||v===qp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(r),this.consumeIdentLikeToken();case Tj:if(this.peekCodePoint(0)===Uh)return this.consumeCodePoint(),l$;if(this.peekCodePoint(0)===Tj)return this.consumeCodePoint(),o$;break;case UK:if(this.peekCodePoint(0)===Uh)return this.consumeCodePoint(),c$;break;case Dl:return k1}return Wp(r)?(this.consumeWhiteSpace(),w$):Gs(r)?(this.reconsumeCodePoint(r),this.consumeNumericToken()):d0(r)?(this.reconsumeCodePoint(r),this.consumeIdentLikeToken()):{type:6,value:Un(r)}},e.prototype.consumeCodePoint=function(){var r=this._value.shift();return typeof r>"u"?-1:r},e.prototype.reconsumeCodePoint=function(r){this._value.unshift(r)},e.prototype.peekCodePoint=function(r){return r>=this._value.length?-1:this._value[r]},e.prototype.consumeUnicodeRangeToken=function(){for(var r=[],t=this.consumeCodePoint();cf(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();for(var a=!1;t===qp&&r.length<6;)r.push(t),t=this.consumeCodePoint(),a=!0;if(a){var s=parseInt(Un.apply(void 0,r.map(function(A){return A===qp?mF:A})),16),i=parseInt(Un.apply(void 0,r.map(function(A){return A===qp?wF:A})),16);return{type:30,start:s,end:i}}var o=parseInt(Un.apply(void 0,r),16);if(this.peekCodePoint(0)===Di&&cf(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];cf(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var i=parseInt(Un.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var r=this.consumeName();return r.toLowerCase()==="url"&&this.peekCodePoint(0)===zp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===zp?(this.consumeCodePoint(),{type:19,value:r}):{type:20,value:r}},e.prototype.consumeUrlToken=function(){var r=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Dl)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Vp||t===$p){var a=this.consumeStringToken(this.consumeCodePoint());return a.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Dl||this.peekCodePoint(0)===Lh)?(this.consumeCodePoint(),{type:22,value:a.value}):(this.consumeBadUrlRemnants(),Yp)}for(;;){var s=this.consumeCodePoint();if(s===Dl||s===Lh)return{type:22,value:Un.apply(void 0,r)};if(Wp(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Dl||this.peekCodePoint(0)===Lh?(this.consumeCodePoint(),{type:22,value:Un.apply(void 0,r)}):(this.consumeBadUrlRemnants(),Yp);if(s===$p||s===Vp||s===zp||e$(s))return this.consumeBadUrlRemnants(),Yp;if(s===Gh)if(KA(s,this.peekCodePoint(0)))r.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Yp;else r.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;Wp(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var r=this.consumeCodePoint();if(r===Lh||r===Dl)return;KA(r,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(r){for(var t=5e4,a="";r>0;){var s=Math.min(t,r);a+=Un.apply(void 0,this._value.splice(0,s)),r-=s}return this._value.shift(),a},e.prototype.consumeStringToken=function(r){var t="",a=0;do{var s=this._value[a];if(s===Dl||s===void 0||s===r)return t+=this.consumeStringSlice(a),{type:0,value:t};if(s===A0)return this._value.splice(0,a),f$;if(s===Gh){var i=this._value[a+1];i!==Dl&&i!==void 0&&(i===A0?(t+=this.consumeStringSlice(a),a=-1,this._value.shift()):KA(s,i)&&(t+=this.consumeStringSlice(a),t+=Un(this.consumeEscapedCodePoint()),a=-1))}a++}while(!0)},e.prototype.consumeNumber=function(){var r=[],t=Qm,a=this.peekCodePoint(0);for((a===eu||a===Di)&&r.push(this.consumeCodePoint());Gs(this.peekCodePoint(0));)r.push(this.consumeCodePoint());a=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(a===hm&&Gs(s))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Qj;Gs(this.peekCodePoint(0));)r.push(this.consumeCodePoint());a=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((a===vF||a===gF)&&((s===eu||s===Di)&&Gs(i)||Gs(s)))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Qj;Gs(this.peekCodePoint(0));)r.push(this.consumeCodePoint());return[t$(r),t]},e.prototype.consumeNumericToken=function(){var r=this.consumeNumber(),t=r[0],a=r[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Gp(s,i,o)){var l=this.consumeName();return{type:15,number:t,flags:a,unit:l}}return s===bK?(this.consumeCodePoint(),{type:16,number:t,flags:a}):{type:17,number:t,flags:a}},e.prototype.consumeEscapedCodePoint=function(){var r=this.consumeCodePoint();if(cf(r)){for(var t=Un(r);cf(this.peekCodePoint(0))&&t.length<6;)t+=Un(this.consumeCodePoint());Wp(this.peekCodePoint(0))&&this.consumeCodePoint();var a=parseInt(t,16);return a===0||GK(a)||a>1114111?Mj:a}return r===Dl?Mj:r},e.prototype.consumeName=function(){for(var r="";;){var t=this.consumeCodePoint();if(Oj(t))r+=Un(t);else if(KA(t,this.peekCodePoint(0)))r+=Un(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),r}},e})(),bF=(function(){function e(r){this._tokens=r}return e.create=function(r){var t=new yF;return t.write(r),new e(t.read())},e.parseValue=function(r){return e.create(r).parseComponentValue()},e.parseValues=function(r){return e.create(r).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var r=this.consumeToken();r.type===31;)r=this.consumeToken();if(r.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(r);var t=this.consumeComponentValue();do r=this.consumeToken();while(r.type===31);if(r.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var r=[];;){var t=this.consumeComponentValue();if(t.type===32)return r;r.push(t),r.push()}},e.prototype.consumeComponentValue=function(){var r=this.consumeToken();switch(r.type){case 11:case 28:case 2:return this.consumeSimpleBlock(r.type);case 19:return this.consumeFunction(r)}return r},e.prototype.consumeSimpleBlock=function(r){for(var t={type:r,values:[]},a=this.consumeToken();;){if(a.type===32||b$(a,r))return t;this.reconsumeToken(a),t.values.push(this.consumeComponentValue()),a=this.consumeToken()}},e.prototype.consumeFunction=function(r){for(var t={name:r.value,values:[],type:18};;){var a=this.consumeToken();if(a.type===32||a.type===3)return t;this.reconsumeToken(a),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var r=this._tokens.shift();return typeof r>"u"?k1:r},e.prototype.reconsumeToken=function(r){this._tokens.unshift(r)},e})(),Rm=function(e){return e.type===15},Jf=function(e){return e.type===17},La=function(e){return e.type===20},y$=function(e){return e.type===0},D1=function(e,r){return La(e)&&e.value===r},NF=function(e){return e.type!==31},Mf=function(e){return e.type!==31&&e.type!==4},ac=function(e){var r=[],t=[];return e.forEach(function(a){if(a.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");r.push(t),t=[];return}a.type!==31&&t.push(a)}),t.length&&r.push(t),r},b$=function(e,r){return r===11&&e.type===12||r===28&&e.type===29?!0:r===2&&e.type===3},ld=function(e){return e.type===17||e.type===15},Gn=function(e){return e.type===16||ld(e)},jF=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Es={type:17,number:0,flags:Qm},nb={type:16,number:50,flags:Qm},WA={type:16,number:100,flags:Qm},$h=function(e,r,t){var a=e[0],s=e[1];return[$a(a,r),$a(typeof s<"u"?s:a,t)]},$a=function(e,r){if(e.type===16)return e.number/100*r;if(Rm(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},BF="deg",CF="grad",SF="rad",EF="turn",hx={name:"angle",parse:function(e,r){if(r.type===15)switch(r.unit){case BF:return Math.PI*r.number/180;case CF:return Math.PI/200*r.number;case SF:return r.number;case EF:return Math.PI*2*r.number}throw new Error("Unsupported angle type")}},_F=function(e){return e.type===15&&(e.unit===BF||e.unit===CF||e.unit===SF||e.unit===EF)},FF=function(e){var r=e.filter(La).map(function(t){return t.value}).join(" ");switch(r){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Es,Es];case"to top":case"bottom":return So(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Es,WA];case"to right":case"left":return So(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[WA,WA];case"to bottom":case"top":return So(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[WA,Es];case"to left":case"right":return So(270)}return 0},So=function(e){return Math.PI*e/180},ed={name:"color",parse:function(e,r){if(r.type===18){var t=N$[r.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+r.name+'"');return t(e,r.values)}if(r.type===5){if(r.value.length===3){var a=r.value.substring(0,1),s=r.value.substring(1,2),i=r.value.substring(2,3);return GA(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(r.value.length===4){var a=r.value.substring(0,1),s=r.value.substring(1,2),i=r.value.substring(2,3),o=r.value.substring(3,4);return GA(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(r.value.length===6){var a=r.value.substring(0,2),s=r.value.substring(2,4),i=r.value.substring(4,6);return GA(parseInt(a,16),parseInt(s,16),parseInt(i,16),1)}if(r.value.length===8){var a=r.value.substring(0,2),s=r.value.substring(2,4),i=r.value.substring(4,6),o=r.value.substring(6,8);return GA(parseInt(a,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(r.type===20){var l=Jc[r.value.toUpperCase()];if(typeof l<"u")return l}return Jc.TRANSPARENT}},td=function(e){return(255&e)===0},gs=function(e){var r=255&e,t=255&e>>8,a=255&e>>16,s=255&e>>24;return r<255?"rgba("+s+","+a+","+t+","+r/255+")":"rgb("+s+","+a+","+t+")"},GA=function(e,r,t,a){return(e<<24|r<<16|t<<8|Math.round(a*255)<<0)>>>0},Hj=function(e,r){if(e.type===17)return e.number;if(e.type===16){var t=r===3?1:255;return r===3?e.number/100*t:Math.round(e.number/100*t)}return 0},Kj=function(e,r){var t=r.filter(Mf);if(t.length===3){var a=t.map(Hj),s=a[0],i=a[1],o=a[2];return GA(s,i,o,1)}if(t.length===4){var l=t.map(Hj),s=l[0],i=l[1],o=l[2],A=l[3];return GA(s,i,o,A)}return 0};function tw(e,r,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(r-e)*t*6+e:t<1/2?r:t<2/3?(r-e)*6*(2/3-t)+e:e}var $j=function(e,r){var t=r.filter(Mf),a=t[0],s=t[1],i=t[2],o=t[3],l=(a.type===17?So(a.number):hx.parse(e,a))/(Math.PI*2),A=Gn(s)?s.number/100:0,d=Gn(i)?i.number/100:0,f=typeof o<"u"&&Gn(o)?$a(o,1):1;if(A===0)return GA(d*255,d*255,d*255,1);var h=d<=.5?d*(A+1):d+A-d*A,m=d*2-h,p=tw(m,h,l+1/3),x=tw(m,h,l),v=tw(m,h,l-1/3);return GA(p*255,x*255,v*255,f)},N$={hsl:$j,hsla:$j,rgb:Kj,rgba:Kj},Yh=function(e,r){return ed.parse(e,bF.create(r).parseComponentValue())},Jc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},j$={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,r){return r.map(function(t){if(La(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},B$={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mx=function(e,r){var t=ed.parse(e,r[0]),a=r[1];return a&&Gn(a)?{color:t,stop:a}:{color:t,stop:null}},Vj=function(e,r){var t=e[0],a=e[e.length-1];t.stop===null&&(t.stop=Es),a.stop===null&&(a.stop=WA);for(var s=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var A=$a(l,r);A>i?s.push(A):s.push(i),i=A}else s.push(null)}for(var d=null,o=0;o<s.length;o++){var f=s[o];if(f===null)d===null&&(d=o);else if(d!==null){for(var h=o-d,m=s[d-1],p=(f-m)/(h+1),x=1;x<=h;x++)s[d+x-1]=p*x;d=null}}return e.map(function(v,b){var N=v.color;return{color:N,stop:Math.max(Math.min(1,s[b]/r),0)}})},C$=function(e,r,t){var a=r/2,s=t/2,i=$a(e[0],r)-a,o=s-$a(e[1],t);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},S$=function(e,r,t){var a=typeof e=="number"?e:C$(e,r,t),s=Math.abs(r*Math.sin(a))+Math.abs(t*Math.cos(a)),i=r/2,o=t/2,l=s/2,A=Math.sin(a-Math.PI/2)*l,d=Math.cos(a-Math.PI/2)*l;return[s,i-d,i+d,o-A,o+A]},tl=function(e,r){return Math.sqrt(e*e+r*r)},zj=function(e,r,t,a,s){var i=[[0,0],[0,r],[e,0],[e,r]];return i.reduce(function(o,l){var A=l[0],d=l[1],f=tl(t-A,a-d);return(s?f<o.optimumDistance:f>o.optimumDistance)?{optimumCorner:l,optimumDistance:f}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},E$=function(e,r,t,a,s){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(r),Math.abs(r-a),Math.abs(t),Math.abs(t-s)):e.shape===1&&(i=Math.min(Math.abs(r),Math.abs(r-a)),o=Math.min(Math.abs(t),Math.abs(t-s)));break;case 2:if(e.shape===0)i=o=Math.min(tl(r,t),tl(r,t-s),tl(r-a,t),tl(r-a,t-s));else if(e.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-s))/Math.min(Math.abs(r),Math.abs(r-a)),A=zj(a,s,r,t,!0),d=A[0],f=A[1];i=tl(d-r,(f-t)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(r),Math.abs(r-a),Math.abs(t),Math.abs(t-s)):e.shape===1&&(i=Math.max(Math.abs(r),Math.abs(r-a)),o=Math.max(Math.abs(t),Math.abs(t-s)));break;case 3:if(e.shape===0)i=o=Math.max(tl(r,t),tl(r,t-s),tl(r-a,t),tl(r-a,t-s));else if(e.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-s))/Math.max(Math.abs(r),Math.abs(r-a)),h=zj(a,s,r,t,!1),d=h[0],f=h[1];i=tl(d-r,(f-t)/l),o=l*i}break}return Array.isArray(e.size)&&(i=$a(e.size[0],a),o=e.size.length===2?$a(e.size[1],s):i),[i,o]},_$=function(e,r){var t=So(180),a=[];return ac(r).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){t=FF(s);return}else if(_F(o)){t=hx.parse(e,o);return}}var l=mx(e,s);a.push(l)}),{angle:t,stops:a,type:1}},Xp=function(e,r){var t=So(180),a=[];return ac(r).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){t=FF(s);return}else if(_F(o)){t=(hx.parse(e,o)+So(270))%So(360);return}}var l=mx(e,s);a.push(l)}),{angle:t,stops:a,type:1}},F$=function(e,r){var t=So(180),a=[],s=1,i=0,o=3,l=[];return ac(r).forEach(function(A,d){var f=A[0];if(d===0){if(La(f)&&f.value==="linear"){s=1;return}else if(La(f)&&f.value==="radial"){s=2;return}}if(f.type===18){if(f.name==="from"){var h=ed.parse(e,f.values[0]);a.push({stop:Es,color:h})}else if(f.name==="to"){var h=ed.parse(e,f.values[0]);a.push({stop:WA,color:h})}else if(f.name==="color-stop"){var m=f.values.filter(Mf);if(m.length===2){var h=ed.parse(e,m[1]),p=m[0];Jf(p)&&a.push({stop:{type:16,number:p.number*100,flags:p.flags},color:h})}}}}),s===1?{angle:(t+So(180))%So(360),stops:a,type:s}:{size:o,shape:i,stops:a,position:l,type:s}},kF="closest-side",DF="farthest-side",UF="closest-corner",LF="farthest-corner",IF="circle",PF="ellipse",QF="cover",RF="contain",k$=function(e,r){var t=0,a=3,s=[],i=[];return ac(r).forEach(function(o,l){var A=!0;if(l===0){var d=!1;A=o.reduce(function(h,m){if(d)if(La(m))switch(m.value){case"center":return i.push(nb),h;case"top":case"left":return i.push(Es),h;case"right":case"bottom":return i.push(WA),h}else(Gn(m)||ld(m))&&i.push(m);else if(La(m))switch(m.value){case IF:return t=0,!1;case PF:return t=1,!1;case"at":return d=!0,!1;case kF:return a=0,!1;case QF:case DF:return a=1,!1;case RF:case UF:return a=2,!1;case LF:return a=3,!1}else if(ld(m)||Gn(m))return Array.isArray(a)||(a=[]),a.push(m),!1;return h},A)}if(A){var f=mx(e,o);s.push(f)}}),{size:a,shape:t,stops:s,position:i,type:2}},Jp=function(e,r){var t=0,a=3,s=[],i=[];return ac(r).forEach(function(o,l){var A=!0;if(l===0?A=o.reduce(function(f,h){if(La(h))switch(h.value){case"center":return i.push(nb),!1;case"top":case"left":return i.push(Es),!1;case"right":case"bottom":return i.push(WA),!1}else if(Gn(h)||ld(h))return i.push(h),!1;return f},A):l===1&&(A=o.reduce(function(f,h){if(La(h))switch(h.value){case IF:return t=0,!1;case PF:return t=1,!1;case RF:case kF:return a=0,!1;case DF:return a=1,!1;case UF:return a=2,!1;case QF:case LF:return a=3,!1}else if(ld(h)||Gn(h))return Array.isArray(a)||(a=[]),a.push(h),!1;return f},A)),A){var d=mx(e,o);s.push(d)}}),{size:a,shape:t,stops:s,position:i,type:2}},D$=function(e){return e.type===1},U$=function(e){return e.type===2},sb={name:"image",parse:function(e,r){if(r.type===22){var t={url:r.value,type:0};return e.cache.addImage(r.value),t}if(r.type===18){var a=TF[r.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported image function "'+r.name+'"');return a(e,r.values)}throw new Error("Unsupported image type "+r.type)}};function L$(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!TF[e.name])}var TF={"linear-gradient":_$,"-moz-linear-gradient":Xp,"-ms-linear-gradient":Xp,"-o-linear-gradient":Xp,"-webkit-linear-gradient":Xp,"radial-gradient":k$,"-moz-radial-gradient":Jp,"-ms-radial-gradient":Jp,"-o-radial-gradient":Jp,"-webkit-radial-gradient":Jp,"-webkit-gradient":F$},I$={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,r){if(r.length===0)return[];var t=r[0];return t.type===20&&t.value==="none"?[]:r.filter(function(a){return Mf(a)&&L$(a)}).map(function(a){return sb.parse(e,a)})}},P$={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,r){return r.map(function(t){if(La(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Q$={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,r){return ac(r).map(function(t){return t.filter(Gn)}).map(jF)}},R$={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,r){return ac(r).map(function(t){return t.filter(La).map(function(a){return a.value}).join(" ")}).map(T$)}},T$=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Sf;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Sf||(Sf={}));var M$={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,r){return ac(r).map(function(t){return t.filter(O$)})}},O$=function(e){return La(e)||Gn(e)},px=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},H$=px("top"),K$=px("right"),$$=px("bottom"),V$=px("left"),gx=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(r,t){return jF(t.filter(Gn))}}},z$=gx("top-left"),q$=gx("top-right"),W$=gx("bottom-right"),G$=gx("bottom-left"),xx=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(r,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Y$=xx("top"),X$=xx("right"),J$=xx("bottom"),Z$=xx("left"),vx=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(r,t){return Rm(t)?t.number:0}}},eV=vx("top"),tV=vx("right"),rV=vx("bottom"),aV=vx("left"),nV={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},sV={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,r){switch(r){case"rtl":return 1;case"ltr":default:return 0}}},iV={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,r){return r.filter(La).reduce(function(t,a){return t|oV(a.value)},0)}},oV=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},lV={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},cV={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,r){return r.type===20&&r.value==="normal"?0:r.type===17||r.type===15?r.number:0}},u0;(function(e){e.NORMAL="normal",e.STRICT="strict"})(u0||(u0={}));var AV={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"strict":return u0.STRICT;case"normal":default:return u0.NORMAL}}},dV={name:"line-height",initialValue:"normal",prefix:!1,type:4},qj=function(e,r){return La(e)&&e.value==="normal"?1.2*r:e.type===17?r*e.number:Gn(e)?$a(e,r):r},uV={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,r){return r.type===20&&r.value==="none"?null:sb.parse(e,r)}},fV={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,r){switch(r){case"inside":return 0;case"outside":default:return 1}}},U1={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},wx=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},hV=wx("top"),mV=wx("right"),pV=wx("bottom"),gV=wx("left"),xV={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,r){return r.filter(La).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},vV={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"break-word":return"break-word";case"normal":default:return"normal"}}},yx=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},wV=yx("top"),yV=yx("right"),bV=yx("bottom"),NV=yx("left"),jV={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,r){switch(r){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},BV={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,r){switch(r){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},CV={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.length===1&&D1(r[0],"none")?[]:ac(r).map(function(t){for(var a={color:Jc.TRANSPARENT,offsetX:Es,offsetY:Es,blur:Es},s=0,i=0;i<t.length;i++){var o=t[i];ld(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:a.blur=o,s++):a.color=ed.parse(e,o)}return a})}},SV={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},EV={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,r){if(r.type===20&&r.value==="none")return null;if(r.type===18){var t=kV[r.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+r.name+'"');return t(r.values)}return null}},_V=function(e){var r=e.filter(function(t){return t.type===17}).map(function(t){return t.number});return r.length===6?r:null},FV=function(e){var r=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),t=r[0],a=r[1];r[2],r[3];var s=r[4],i=r[5];r[6],r[7],r[8],r[9],r[10],r[11];var o=r[12],l=r[13];return r[14],r[15],r.length===16?[t,a,s,i,o,l]:null},kV={matrix:_V,matrix3d:FV},Wj={type:16,number:50,flags:Qm},DV=[Wj,Wj],UV={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,r){var t=r.filter(Gn);return t.length!==2?DV:[t[0],t[1]]}},LV={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,r){switch(r){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Xh;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Xh||(Xh={}));var IV={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"break-all":return Xh.BREAK_ALL;case"keep-all":return Xh.KEEP_ALL;case"normal":default:return Xh.NORMAL}}},PV={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,r){if(r.type===20)return{auto:!0,order:0};if(Jf(r))return{auto:!1,order:r.number};throw new Error("Invalid z-index number parsed")}},MF={name:"time",parse:function(e,r){if(r.type===15)switch(r.unit.toLowerCase()){case"s":return 1e3*r.number;case"ms":return r.number}throw new Error("Unsupported time type")}},QV={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,r){return Jf(r)?r.number:1}},RV={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},TV={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,r){return r.filter(La).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},MV={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,r){var t=[],a=[];return r.forEach(function(s){switch(s.type){case 20:case 0:t.push(s.value);break;case 17:t.push(s.number.toString());break;case 4:a.push(t.join(" ")),t.length=0;break}}),t.length&&a.push(t.join(" ")),a.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},OV={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},HV={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,r){if(Jf(r))return r.number;if(La(r))switch(r.value){case"bold":return 700;case"normal":default:return 400}return 400}},KV={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.filter(La).map(function(t){return t.value})}},$V={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,r){switch(r){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},as=function(e,r){return(e&r)!==0},VV={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,r){if(r.length===0)return[];var t=r[0];return t.type===20&&t.value==="none"?[]:r}},zV={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return null;var t=r[0];if(t.type===20&&t.value==="none")return null;for(var a=[],s=r.filter(NF),i=0;i<s.length;i++){var o=s[i],l=s[i+1];if(o.type===20){var A=l&&Jf(l)?l.number:1;a.push({counter:o.value,increment:A})}}return a}},qV={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return[];for(var t=[],a=r.filter(NF),s=0;s<a.length;s++){var i=a[s],o=a[s+1];if(La(i)&&i.value!=="none"){var l=o&&Jf(o)?o.number:0;t.push({counter:i.value,reset:l})}}return t}},WV={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,r){return r.filter(Rm).map(function(t){return MF.parse(e,t)})}},GV={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,r){if(r.length===0)return null;var t=r[0];if(t.type===20&&t.value==="none")return null;var a=[],s=r.filter(y$);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,l=s[i+1].value;a.push({open:o,close:l})}return a}},Gj=function(e,r,t){if(!e)return"";var a=e[Math.min(r,e.length-1)];return a?t?a.open:a.close:""},YV={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,r){return r.length===1&&D1(r[0],"none")?[]:ac(r).map(function(t){for(var a={color:255,offsetX:Es,offsetY:Es,blur:Es,spread:Es,inset:!1},s=0,i=0;i<t.length;i++){var o=t[i];D1(o,"inset")?a.inset=!0:ld(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:s===2?a.blur=o:a.spread=o,s++):a.color=ed.parse(e,o)}return a})}},XV={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,r){var t=[0,1,2],a=[];return r.filter(La).forEach(function(s){switch(s.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2);break}}),t.forEach(function(s){a.indexOf(s)===-1&&a.push(s)}),a}},JV={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ZV={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Rm(r)?r.number:0}},ez=(function(){function e(r,t){var a,s;this.animationDuration=Qt(r,WV,t.animationDuration),this.backgroundClip=Qt(r,j$,t.backgroundClip),this.backgroundColor=Qt(r,B$,t.backgroundColor),this.backgroundImage=Qt(r,I$,t.backgroundImage),this.backgroundOrigin=Qt(r,P$,t.backgroundOrigin),this.backgroundPosition=Qt(r,Q$,t.backgroundPosition),this.backgroundRepeat=Qt(r,R$,t.backgroundRepeat),this.backgroundSize=Qt(r,M$,t.backgroundSize),this.borderTopColor=Qt(r,H$,t.borderTopColor),this.borderRightColor=Qt(r,K$,t.borderRightColor),this.borderBottomColor=Qt(r,$$,t.borderBottomColor),this.borderLeftColor=Qt(r,V$,t.borderLeftColor),this.borderTopLeftRadius=Qt(r,z$,t.borderTopLeftRadius),this.borderTopRightRadius=Qt(r,q$,t.borderTopRightRadius),this.borderBottomRightRadius=Qt(r,W$,t.borderBottomRightRadius),this.borderBottomLeftRadius=Qt(r,G$,t.borderBottomLeftRadius),this.borderTopStyle=Qt(r,Y$,t.borderTopStyle),this.borderRightStyle=Qt(r,X$,t.borderRightStyle),this.borderBottomStyle=Qt(r,J$,t.borderBottomStyle),this.borderLeftStyle=Qt(r,Z$,t.borderLeftStyle),this.borderTopWidth=Qt(r,eV,t.borderTopWidth),this.borderRightWidth=Qt(r,tV,t.borderRightWidth),this.borderBottomWidth=Qt(r,rV,t.borderBottomWidth),this.borderLeftWidth=Qt(r,aV,t.borderLeftWidth),this.boxShadow=Qt(r,YV,t.boxShadow),this.color=Qt(r,nV,t.color),this.direction=Qt(r,sV,t.direction),this.display=Qt(r,iV,t.display),this.float=Qt(r,lV,t.cssFloat),this.fontFamily=Qt(r,MV,t.fontFamily),this.fontSize=Qt(r,OV,t.fontSize),this.fontStyle=Qt(r,$V,t.fontStyle),this.fontVariant=Qt(r,KV,t.fontVariant),this.fontWeight=Qt(r,HV,t.fontWeight),this.letterSpacing=Qt(r,cV,t.letterSpacing),this.lineBreak=Qt(r,AV,t.lineBreak),this.lineHeight=Qt(r,dV,t.lineHeight),this.listStyleImage=Qt(r,uV,t.listStyleImage),this.listStylePosition=Qt(r,fV,t.listStylePosition),this.listStyleType=Qt(r,U1,t.listStyleType),this.marginTop=Qt(r,hV,t.marginTop),this.marginRight=Qt(r,mV,t.marginRight),this.marginBottom=Qt(r,pV,t.marginBottom),this.marginLeft=Qt(r,gV,t.marginLeft),this.opacity=Qt(r,QV,t.opacity);var i=Qt(r,xV,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Qt(r,vV,t.overflowWrap),this.paddingTop=Qt(r,wV,t.paddingTop),this.paddingRight=Qt(r,yV,t.paddingRight),this.paddingBottom=Qt(r,bV,t.paddingBottom),this.paddingLeft=Qt(r,NV,t.paddingLeft),this.paintOrder=Qt(r,XV,t.paintOrder),this.position=Qt(r,BV,t.position),this.textAlign=Qt(r,jV,t.textAlign),this.textDecorationColor=Qt(r,RV,(a=t.textDecorationColor)!==null&&a!==void 0?a:t.color),this.textDecorationLine=Qt(r,TV,(s=t.textDecorationLine)!==null&&s!==void 0?s:t.textDecoration),this.textShadow=Qt(r,CV,t.textShadow),this.textTransform=Qt(r,SV,t.textTransform),this.transform=Qt(r,EV,t.transform),this.transformOrigin=Qt(r,UV,t.transformOrigin),this.visibility=Qt(r,LV,t.visibility),this.webkitTextStrokeColor=Qt(r,JV,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Qt(r,ZV,t.webkitTextStrokeWidth),this.wordBreak=Qt(r,IV,t.wordBreak),this.zIndex=Qt(r,PV,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return td(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return as(this.display,4)||as(this.display,33554432)||as(this.display,268435456)||as(this.display,536870912)||as(this.display,67108864)||as(this.display,134217728)},e})(),tz=(function(){function e(r,t){this.content=Qt(r,VV,t.content),this.quotes=Qt(r,GV,t.quotes)}return e})(),Yj=(function(){function e(r,t){this.counterIncrement=Qt(r,zV,t.counterIncrement),this.counterReset=Qt(r,qV,t.counterReset)}return e})(),Qt=function(e,r,t){var a=new yF,s=t!==null&&typeof t<"u"?t.toString():r.initialValue;a.write(s);var i=new bF(a.read());switch(r.type){case 2:var o=i.parseComponentValue();return r.parse(e,La(o)?o.value:r.initialValue);case 0:return r.parse(e,i.parseComponentValue());case 1:return r.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(r.format){case"angle":return hx.parse(e,i.parseComponentValue());case"color":return ed.parse(e,i.parseComponentValue());case"image":return sb.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return ld(l)?l:Es;case"length-percentage":var A=i.parseComponentValue();return Gn(A)?A:Es;case"time":return MF.parse(e,i.parseComponentValue())}break}},rz="data-html2canvas-debug",az=function(e){var r=e.getAttribute(rz);switch(r){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},L1=function(e,r){var t=az(e);return t===1||r===t},nc=(function(){function e(r,t){if(this.context=r,this.textNodes=[],this.elements=[],this.flags=0,L1(t,3))debugger;this.styles=new ez(r,window.getComputedStyle(t,null)),Q1(t)&&(this.styles.animationDuration.some(function(a){return a>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=ux(this.context,t),L1(t,4)&&(this.flags|=16)}return e})(),nz="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Xj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zp=0;Zp<Xj.length;Zp++)Vh[Xj.charCodeAt(Zp)]=Zp;var sz=function(e){var r=e.length*.75,t=e.length,a,s=0,i,o,l,A;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),f=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<t;a+=4)i=Vh[e.charCodeAt(a)],o=Vh[e.charCodeAt(a+1)],l=Vh[e.charCodeAt(a+2)],A=Vh[e.charCodeAt(a+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},iz=function(e){for(var r=e.length,t=[],a=0;a<r;a+=2)t.push(e[a+1]<<8|e[a]);return t},oz=function(e){for(var r=e.length,t=[],a=0;a<r;a+=4)t.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return t},iu=5,ib=11,rw=2,lz=ib-iu,OF=65536>>iu,cz=1<<iu,aw=cz-1,Az=1024>>iu,dz=OF+Az,uz=dz,fz=32,hz=uz+fz,mz=65536>>ib,pz=1<<lz,gz=pz-1,Jj=function(e,r,t){return e.slice?e.slice(r,t):new Uint16Array(Array.prototype.slice.call(e,r,t))},xz=function(e,r,t){return e.slice?e.slice(r,t):new Uint32Array(Array.prototype.slice.call(e,r,t))},vz=function(e,r){var t=sz(e),a=Array.isArray(t)?oz(t):new Uint32Array(t),s=Array.isArray(t)?iz(t):new Uint16Array(t),i=24,o=Jj(s,i/2,a[4]/2),l=a[5]===2?Jj(s,(i+a[4])/2):xz(a,Math.ceil((i+a[4])/4));return new wz(a[0],a[1],a[2],a[3],o,l)},wz=(function(){function e(r,t,a,s,i,o){this.initialValue=r,this.errorValue=t,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(r){var t;if(r>=0){if(r<55296||r>56319&&r<=65535)return t=this.index[r>>iu],t=(t<<rw)+(r&aw),this.data[t];if(r<=65535)return t=this.index[OF+(r-55296>>iu)],t=(t<<rw)+(r&aw),this.data[t];if(r<this.highStart)return t=hz-mz+(r>>ib),t=this.index[t],t+=r>>iu&gz,t=this.index[t],t=(t<<rw)+(r&aw),this.data[t];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),Zj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var eg=0;eg<Zj.length;eg++)yz[Zj.charCodeAt(eg)]=eg;var bz=1,nw=2,sw=3,eB=4,tB=5,Nz=7,rB=8,iw=9,ow=10,aB=11,nB=12,sB=13,iB=14,lw=15,jz=function(e){for(var r=[],t=0,a=e.length;t<a;){var s=e.charCodeAt(t++);if(s>=55296&&s<=56319&&t<a){var i=e.charCodeAt(t++);(i&64512)===56320?r.push(((s&1023)<<10)+(i&1023)+65536):(r.push(s),t--)}else r.push(s)}return r},Bz=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var a=[],s=-1,i="";++s<t;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===t||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},Cz=vz(nz),jo="",cw="",Sz=function(e){return Cz.get(e)},Ez=function(e,r,t){var a=t-2,s=r[a],i=r[t-1],o=r[t];if(i===nw&&o===sw)return jo;if(i===nw||i===sw||i===eB||o===nw||o===sw||o===eB)return cw;if(i===rB&&[rB,iw,aB,nB].indexOf(o)!==-1||(i===aB||i===iw)&&(o===iw||o===ow)||(i===nB||i===ow)&&o===ow||o===sB||o===tB||o===Nz||i===bz)return jo;if(i===sB&&o===iB){for(;s===tB;)s=r[--a];if(s===iB)return jo}if(i===lw&&o===lw){for(var l=0;s===lw;)l++,s=r[--a];if(l%2===0)return jo}return cw},_z=function(e){var r=jz(e),t=r.length,a=0,s=0,i=r.map(Sz);return{next:function(){if(a>=t)return{done:!0,value:null};for(var o=jo;a<t&&(o=Ez(r,i,++a))===jo;);if(o!==jo||a===t){var l=Bz.apply(null,r.slice(s,a));return s=a,{value:l,done:!1}}return{done:!0,value:null}}}},Fz=function(e){for(var r=_z(e),t=[],a;!(a=r.next()).done;)a.value&&t.push(a.value.slice());return t},kz=function(e){var r=123;if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var a=e.createElement("boundtest");a.style.height=r+"px",a.style.display="block",e.body.appendChild(a),t.selectNode(a);var s=t.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(a),i===r)return!0}}return!1},Dz=function(e){var r=e.createElement("boundtest");r.style.width="50px",r.style.display="block",r.style.fontSize="12px",r.style.letterSpacing="0px",r.style.wordSpacing="0px",e.body.appendChild(r);var t=e.createRange();r.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var a=r.firstChild,s=fx(a.data).map(function(A){return Un(A)}),i=0,o={},l=s.every(function(A,d){t.setStart(a,i),t.setEnd(a,i+A.length);var f=t.getBoundingClientRect();i+=A.length;var h=f.x>o.x||f.y>o.y;return o=f,d===0?!0:h});return e.body.removeChild(r),l},Uz=function(){return typeof new Image().crossOrigin<"u"},Lz=function(){return typeof new XMLHttpRequest().responseType=="string"},Iz=function(e){var r=new Image,t=e.createElement("canvas"),a=t.getContext("2d");if(!a)return!1;r.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(r,0,0),t.toDataURL()}catch{return!1}return!0},oB=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},Pz=function(e){var r=e.createElement("canvas"),t=100;r.width=t,r.height=t;var a=r.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,t,t);var s=new Image,i=r.toDataURL();s.src=i;var o=I1(t,t,0,0,s);return a.fillStyle="red",a.fillRect(0,0,t,t),lB(o).then(function(l){a.drawImage(l,0,0);var A=a.getImageData(0,0,t,t).data;a.fillStyle="red",a.fillRect(0,0,t,t);var d=e.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=t+"px",oB(A)?lB(I1(t,t,0,0,d)):Promise.reject(!1)}).then(function(l){return a.drawImage(l,0,0),oB(a.getImageData(0,0,t,t).data)}).catch(function(){return!1})},I1=function(e,r,t,a,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",a.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},lB=function(e){return new Promise(function(r,t){var a=new Image;a.onload=function(){return r(a)},a.onerror=t,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ss={get SUPPORT_RANGE_BOUNDS(){var e=kz(document);return Object.defineProperty(Ss,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ss.SUPPORT_RANGE_BOUNDS&&Dz(document);return Object.defineProperty(Ss,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Iz(document);return Object.defineProperty(Ss,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?Pz(document):Promise.resolve(!1);return Object.defineProperty(Ss,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=Uz();return Object.defineProperty(Ss,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Lz();return Object.defineProperty(Ss,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ss,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ss,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Jh=(function(){function e(r,t){this.text=r,this.bounds=t}return e})(),Qz=function(e,r,t,a){var s=Mz(r,t),i=[],o=0;return s.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if(Ss.SUPPORT_RANGE_BOUNDS){var A=cB(a,o,l.length).getClientRects();if(A.length>1){var d=ob(l),f=0;d.forEach(function(m){i.push(new Jh(m,rA.fromDOMRectList(e,cB(a,f+o,m.length).getClientRects()))),f+=m.length})}else i.push(new Jh(l,rA.fromDOMRectList(e,A)))}else{var h=a.splitText(l.length);i.push(new Jh(l,Rz(e,a))),a=h}else Ss.SUPPORT_RANGE_BOUNDS||(a=a.splitText(l.length));o+=l.length}),i},Rz=function(e,r){var t=r.ownerDocument;if(t){var a=t.createElement("html2canvaswrapper");a.appendChild(r.cloneNode(!0));var s=r.parentNode;if(s){s.replaceChild(a,r);var i=ux(e,a);return a.firstChild&&s.replaceChild(a.firstChild,a),i}}return rA.EMPTY},cB=function(e,r,t){var a=e.ownerDocument;if(!a)throw new Error("Node has no owner document");var s=a.createRange();return s.setStart(e,r),s.setEnd(e,r+t),s},ob=function(e){if(Ss.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(r.segment(e)).map(function(t){return t.segment})}return Fz(e)},Tz=function(e,r){if(Ss.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(e)).map(function(a){return a.segment})}return Hz(e,r)},Mz=function(e,r){return r.letterSpacing!==0?ob(e):Tz(e,r)},Oz=[32,160,4961,65792,65793,4153,4241],Hz=function(e,r){for(var t=mK(e,{lineBreak:r.lineBreak,wordBreak:r.overflowWrap==="break-word"?"break-word":r.wordBreak}),a=[],s,i=function(){if(s.value){var o=s.value.slice(),l=fx(o),A="";l.forEach(function(d){Oz.indexOf(d)===-1?A+=Un(d):(A.length&&a.push(A),a.push(Un(d)),A="")}),A.length&&a.push(A)}};!(s=t.next()).done;)i();return a},Kz=(function(){function e(r,t,a){this.text=$z(t.data,a.textTransform),this.textBounds=Qz(r,this.text,a,t)}return e})(),$z=function(e,r){switch(r){case 1:return e.toLowerCase();case 3:return e.replace(Vz,zz);case 2:return e.toUpperCase();default:return e}},Vz=/(^|\s|:|-|\(|\))([a-z])/g,zz=function(e,r,t){return e.length>0?r+t.toUpperCase():e},HF=(function(e){hl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.src=a.currentSrc||a.src,s.intrinsicWidth=a.naturalWidth,s.intrinsicHeight=a.naturalHeight,s.context.cache.addImage(s.src),s}return r})(nc),KF=(function(e){hl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.canvas=a,s.intrinsicWidth=a.width,s.intrinsicHeight=a.height,s}return r})(nc),$F=(function(e){hl(r,e);function r(t,a){var s=e.call(this,t,a)||this,i=new XMLSerializer,o=ux(t,a);return a.setAttribute("width",o.width+"px"),a.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(a)),s.intrinsicWidth=a.width.baseVal.value,s.intrinsicHeight=a.height.baseVal.value,s.context.cache.addImage(s.svg),s}return r})(nc),VF=(function(e){hl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.value=a.value,s}return r})(nc),P1=(function(e){hl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.start=a.start,s.reversed=typeof a.reversed=="boolean"&&a.reversed===!0,s}return r})(nc),qz=[{type:15,flags:0,unit:"px",number:3}],Wz=[{type:16,flags:0,number:50}],Gz=function(e){return e.width>e.height?new rA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new rA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Yz=function(e){var r=e.type===Xz?new Array(e.value.length+1).join(""):e.value;return r.length===0?e.placeholder||"":r},f0="checkbox",h0="radio",Xz="password",AB=707406591,lb=(function(e){hl(r,e);function r(t,a){var s=e.call(this,t,a)||this;switch(s.type=a.type.toLowerCase(),s.checked=a.checked,s.value=Yz(a),(s.type===f0||s.type===h0)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=Gz(s.bounds)),s.type){case f0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=qz;break;case h0:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Wz;break}return s}return r})(nc),zF=(function(e){hl(r,e);function r(t,a){var s=e.call(this,t,a)||this,i=a.options[a.selectedIndex||0];return s.value=i&&i.text||"",s}return r})(nc),qF=(function(e){hl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.value=a.value,s}return r})(nc),WF=(function(e){hl(r,e);function r(t,a){var s=e.call(this,t,a)||this;s.src=a.src,s.width=parseInt(a.width,10)||0,s.height=parseInt(a.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement){s.tree=YF(t,a.contentWindow.document.documentElement);var i=a.contentWindow.document.documentElement?Yh(t,getComputedStyle(a.contentWindow.document.documentElement).backgroundColor):Jc.TRANSPARENT,o=a.contentWindow.document.body?Yh(t,getComputedStyle(a.contentWindow.document.body).backgroundColor):Jc.TRANSPARENT;s.backgroundColor=td(i)?td(o)?s.styles.backgroundColor:o:i}}catch{}return s}return r})(nc),Jz=["OL","UL","MENU"],Ug=function(e,r,t,a){for(var s=r.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,XF(s)&&s.data.trim().length>0)t.textNodes.push(new Kz(e,s,t.styles));else if(yf(s))if(t3(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return Ug(e,l,t,a)});else{var o=GF(e,s);o.styles.isVisible()&&(Zz(s,o,a)?o.flags|=4:eq(o.styles)&&(o.flags|=2),Jz.indexOf(s.tagName)!==-1&&(o.flags|=8),t.elements.push(o),s.slot,s.shadowRoot?Ug(e,s.shadowRoot,o,a):!m0(s)&&!JF(s)&&!p0(s)&&Ug(e,s,o,a))}},GF=function(e,r){return R1(r)?new HF(e,r):ZF(r)?new KF(e,r):JF(r)?new $F(e,r):tq(r)?new VF(e,r):rq(r)?new P1(e,r):aq(r)?new lb(e,r):p0(r)?new zF(e,r):m0(r)?new qF(e,r):e3(r)?new WF(e,r):new nc(e,r)},YF=function(e,r){var t=GF(e,r);return t.flags|=4,Ug(e,r,t,t),t},Zz=function(e,r,t){return r.styles.isPositionedWithZIndex()||r.styles.opacity<1||r.styles.isTransformed()||cb(e)&&t.styles.isTransparent()},eq=function(e){return e.isPositioned()||e.isFloating()},XF=function(e){return e.nodeType===Node.TEXT_NODE},yf=function(e){return e.nodeType===Node.ELEMENT_NODE},Q1=function(e){return yf(e)&&typeof e.style<"u"&&!Lg(e)},Lg=function(e){return typeof e.className=="object"},tq=function(e){return e.tagName==="LI"},rq=function(e){return e.tagName==="OL"},aq=function(e){return e.tagName==="INPUT"},nq=function(e){return e.tagName==="HTML"},JF=function(e){return e.tagName==="svg"},cb=function(e){return e.tagName==="BODY"},ZF=function(e){return e.tagName==="CANVAS"},dB=function(e){return e.tagName==="VIDEO"},R1=function(e){return e.tagName==="IMG"},e3=function(e){return e.tagName==="IFRAME"},uB=function(e){return e.tagName==="STYLE"},sq=function(e){return e.tagName==="SCRIPT"},m0=function(e){return e.tagName==="TEXTAREA"},p0=function(e){return e.tagName==="SELECT"},t3=function(e){return e.tagName==="SLOT"},fB=function(e){return e.tagName.indexOf("-")>0},iq=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(r){var t=this.counters[r];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(r){var t=this.counters[r];return t||[]},e.prototype.pop=function(r){var t=this;r.forEach(function(a){return t.counters[a].pop()})},e.prototype.parse=function(r){var t=this,a=r.counterIncrement,s=r.counterReset,i=!0;a!==null&&a.forEach(function(l){var A=t.counters[l.counter];A&&l.increment!==0&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var o=[];return i&&s.forEach(function(l){var A=t.counters[l.counter];o.push(l.counter),A||(A=t.counters[l.counter]=[]),A.push(l.reset)}),o},e})(),hB={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},mB={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},oq={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},lq={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Af=function(e,r,t,a,s,i){return e<r||e>t?mm(e,s,i.length>0):a.integers.reduce(function(o,l,A){for(;e>=l;)e-=l,o+=a.values[A];return o},"")+i},r3=function(e,r,t,a){var s="";do t||e--,s=a(e)+s,e/=r;while(e*r>=r);return s},Dn=function(e,r,t,a,s){var i=t-r+1;return(e<0?"-":"")+(r3(Math.abs(e),i,a,function(o){return Un(Math.floor(o%i)+r)})+s)},$d=function(e,r,t){t===void 0&&(t=". ");var a=r.length;return r3(Math.abs(e),a,!1,function(s){return r[Math.floor(s%a)]})+t},gf=1,OA=2,HA=4,zh=8,Qc=function(e,r,t,a,s,i){if(e<-9999||e>9999)return mm(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return r[0]+l;for(var A=0;o>0&&A<=4;A++){var d=o%10;d===0&&as(i,gf)&&l!==""?l=r[d]+l:d>1||d===1&&A===0||d===1&&A===1&&as(i,OA)||d===1&&A===1&&as(i,HA)&&e>100||d===1&&A>1&&as(i,zh)?l=r[d]+(A>0?t[A-1]:"")+l:d===1&&A>0&&(l=t[A-1]+l),o=Math.floor(o/10)}return(e<0?a:"")+l},pB="",gB="",xB="",Aw="",mm=function(e,r,t){var a=t?". ":"",s=t?"":"",i=t?", ":"",o=t?" ":"";switch(r){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Dn(e,48,57,!0,a);return l.length<4?"0"+l:l;case 4:return $d(e,"",s);case 6:return Af(e,1,3999,hB,3,a).toLowerCase();case 7:return Af(e,1,3999,hB,3,a);case 8:return Dn(e,945,969,!1,a);case 9:return Dn(e,97,122,!1,a);case 10:return Dn(e,65,90,!1,a);case 11:return Dn(e,1632,1641,!0,a);case 12:case 49:return Af(e,1,9999,mB,3,a);case 35:return Af(e,1,9999,mB,3,a).toLowerCase();case 13:return Dn(e,2534,2543,!0,a);case 14:case 30:return Dn(e,6112,6121,!0,a);case 15:return $d(e,"",s);case 16:return $d(e,"",s);case 17:case 48:return Qc(e,"",pB,"",s,OA|HA|zh);case 47:return Qc(e,"",gB,"",s,gf|OA|HA|zh);case 42:return Qc(e,"",pB,"",s,OA|HA|zh);case 41:return Qc(e,"",gB,"",s,gf|OA|HA|zh);case 26:return Qc(e,"","",xB,s,0);case 25:return Qc(e,"","",xB,s,gf|OA|HA);case 31:return Qc(e,"","",Aw,i,gf|OA|HA);case 33:return Qc(e,"","",Aw,i,0);case 32:return Qc(e,"","",Aw,i,gf|OA|HA);case 18:return Dn(e,2406,2415,!0,a);case 20:return Af(e,1,19999,lq,3,a);case 21:return Dn(e,2790,2799,!0,a);case 22:return Dn(e,2662,2671,!0,a);case 22:return Af(e,1,10999,oq,3,a);case 23:return $d(e,"");case 24:return $d(e,"");case 27:return Dn(e,3302,3311,!0,a);case 28:return $d(e,"",s);case 29:return $d(e,"",s);case 34:return Dn(e,3792,3801,!0,a);case 37:return Dn(e,6160,6169,!0,a);case 38:return Dn(e,4160,4169,!0,a);case 39:return Dn(e,2918,2927,!0,a);case 40:return Dn(e,1776,1785,!0,a);case 43:return Dn(e,3046,3055,!0,a);case 44:return Dn(e,3174,3183,!0,a);case 45:return Dn(e,3664,3673,!0,a);case 46:return Dn(e,3872,3881,!0,a);case 3:default:return Dn(e,48,57,!0,a)}},a3="data-html2canvas-ignore",vB=(function(){function e(r,t,a){if(this.context=r,this.options=a,this.scrolledElements=[],this.referenceElement=t,this.counters=new iq,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(r,t){var a=this,s=cq(r,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=r.defaultView.pageXOffset,o=r.defaultView.pageYOffset,l=s.contentWindow,A=l.document,d=uq(s).then(function(){return li(a,void 0,void 0,function(){var f,h;return qs(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(pq),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),f=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,dq(A)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(A,h)}).then(function(){return s})]:[2,s]}})})});return A.open(),A.write(hq(document.doctype)+"<html></html>"),mq(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),d},e.prototype.createElementClone=function(r){if(L1(r,2))debugger;if(ZF(r))return this.createCanvasClone(r);if(dB(r))return this.createVideoClone(r);if(uB(r))return this.createStyleClone(r);var t=r.cloneNode(!1);return R1(t)&&(R1(r)&&r.currentSrc&&r.currentSrc!==r.src&&(t.src=r.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),fB(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(r){var t=document.createElement("html2canvascustomelement");return dw(r.style,t),t},e.prototype.createStyleClone=function(r){try{var t=r.sheet;if(t&&t.cssRules){var a=[].slice.call(t.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=r.cloneNode(!1);return s.textContent=a,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return r.cloneNode(!1)},e.prototype.createCanvasClone=function(r){var t;if(this.options.inlineImages&&r.ownerDocument){var a=r.ownerDocument.createElement("img");try{return a.src=r.toDataURL(),a}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",r)}}var s=r.cloneNode(!1);try{s.width=r.width,s.height=r.height;var i=r.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,r.width,r.height),0,0);else{var l=(t=r.getContext("webgl2"))!==null&&t!==void 0?t:r.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",r)}o.drawImage(r,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",r)}return s},e.prototype.createVideoClone=function(r){var t=r.ownerDocument.createElement("canvas");t.width=r.offsetWidth,t.height=r.offsetHeight;var a=t.getContext("2d");try{return a&&(a.drawImage(r,0,0,t.width,t.height),this.options.allowTaint||a.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",r)}var s=r.ownerDocument.createElement("canvas");return s.width=r.offsetWidth,s.height=r.offsetHeight,s},e.prototype.appendChildNode=function(r,t,a){(!yf(t)||!sq(t)&&!t.hasAttribute(a3)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!yf(t)||!uB(t))&&r.appendChild(this.cloneNode(t,a))},e.prototype.cloneChildNodes=function(r,t,a){for(var s=this,i=r.shadowRoot?r.shadowRoot.firstChild:r.firstChild;i;i=i.nextSibling)if(yf(i)&&t3(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(t,l,a)})}else this.appendChildNode(t,i,a)},e.prototype.cloneNode=function(r,t){if(XF(r))return document.createTextNode(r.data);if(!r.ownerDocument)return r.cloneNode(!1);var a=r.ownerDocument.defaultView;if(a&&yf(r)&&(Q1(r)||Lg(r))){var s=this.createElementClone(r);s.style.transitionProperty="none";var i=a.getComputedStyle(r),o=a.getComputedStyle(r,":before"),l=a.getComputedStyle(r,":after");this.referenceElement===r&&Q1(s)&&(this.clonedReferenceElement=s),cb(s)&&vq(s);var A=this.counters.parse(new Yj(this.context,i)),d=this.resolvePseudoContent(r,s,o,Zh.BEFORE);fB(r)&&(t=!0),dB(r)||this.cloneChildNodes(r,s,t),d&&s.insertBefore(d,s.firstChild);var f=this.resolvePseudoContent(r,s,l,Zh.AFTER);return f&&s.appendChild(f),this.counters.pop(A),(i&&(this.options.copyStyles||Lg(r))&&!e3(r)||t)&&dw(i,s),(r.scrollTop!==0||r.scrollLeft!==0)&&this.scrolledElements.push([s,r.scrollLeft,r.scrollTop]),(m0(r)||p0(r))&&(m0(s)||p0(s))&&(s.value=r.value),s}return r.cloneNode(!1)},e.prototype.resolvePseudoContent=function(r,t,a,s){var i=this;if(a){var o=a.content,l=t.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||a.display==="none")){this.counters.parse(new Yj(this.context,a));var A=new tz(this.context,a),d=l.createElement("html2canvaspseudoelement");dw(a,d),A.content.forEach(function(h){if(h.type===0)d.appendChild(l.createTextNode(h.value));else if(h.type===22){var m=l.createElement("img");m.src=h.value,m.style.opacity="1",d.appendChild(m)}else if(h.type===18){if(h.name==="attr"){var p=h.values.filter(La);p.length&&d.appendChild(l.createTextNode(r.getAttribute(p[0].value)||""))}else if(h.name==="counter"){var x=h.values.filter(Mf),v=x[0],b=x[1];if(v&&La(v)){var N=i.counters.getCounterValue(v.value),B=b&&La(b)?U1.parse(i.context,b.value):3;d.appendChild(l.createTextNode(mm(N,B,!1)))}}else if(h.name==="counters"){var S=h.values.filter(Mf),v=S[0],F=S[1],b=S[2];if(v&&La(v)){var L=i.counters.getCounterValues(v.value),M=b&&La(b)?U1.parse(i.context,b.value):3,U=F&&F.type===0?F.value:"",I=L.map(function(Q){return mm(Q,M,!1)}).join(U);d.appendChild(l.createTextNode(I))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(l.createTextNode(Gj(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(Gj(A.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(h.value))}}),d.className=T1+" "+M1;var f=s===Zh.BEFORE?" "+T1:" "+M1;return Lg(t)?t.className.baseValue+=f:t.className+=f,d}}},e.destroy=function(r){return r.parentNode?(r.parentNode.removeChild(r),!0):!1},e})(),Zh;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Zh||(Zh={}));var cq=function(e,r){var t=e.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=r.width.toString(),t.height=r.height.toString(),t.scrolling="no",t.setAttribute(a3,"true"),e.body.appendChild(t),t},Aq=function(e){return new Promise(function(r){if(e.complete){r();return}if(!e.src){r();return}e.onload=r,e.onerror=r})},dq=function(e){return Promise.all([].slice.call(e.images,0).map(Aq))},uq=function(e){return new Promise(function(r,t){var a=e.contentWindow;if(!a)return t("No window assigned for iframe");var s=a.document;a.onload=e.onload=function(){a.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),r(e))},50)}})},fq=["all","d","content"],dw=function(e,r){for(var t=e.length-1;t>=0;t--){var a=e.item(t);fq.indexOf(a)===-1&&r.style.setProperty(a,e.getPropertyValue(a))}return r},hq=function(e){var r="";return e&&(r+="<!DOCTYPE ",e.name&&(r+=e.name),e.internalSubset&&(r+=e.internalSubset),e.publicId&&(r+='"'+e.publicId+'"'),e.systemId&&(r+='"'+e.systemId+'"'),r+=">"),r},mq=function(e,r,t){e&&e.defaultView&&(r!==e.defaultView.pageXOffset||t!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(r,t)},pq=function(e){var r=e[0],t=e[1],a=e[2];r.scrollLeft=t,r.scrollTop=a},gq=":before",xq=":after",T1="___html2canvas___pseudoelement_before",M1="___html2canvas___pseudoelement_after",wB=`{
    content: "" !important;
    display: none !important;
}`,vq=function(e){wq(e,"."+T1+gq+wB+`
         .`+M1+xq+wB)},wq=function(e,r){var t=e.ownerDocument;if(t){var a=t.createElement("style");a.textContent=r,e.appendChild(a)}},n3=(function(){function e(){}return e.getOrigin=function(r){var t=e._link;return t?(t.href=r,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},e.isSameOrigin=function(r){return e.getOrigin(r)===e._origin},e.setContext=function(r){e._link=r.document.createElement("a"),e._origin=e.getOrigin(r.location.href)},e._origin="about:blank",e})(),yq=(function(){function e(r,t){this.context=r,this._options=t,this._cache={}}return e.prototype.addImage=function(r){var t=Promise.resolve();return this.has(r)||(fw(r)||Bq(r))&&(this._cache[r]=this.loadImage(r)).catch(function(){}),t},e.prototype.match=function(r){return this._cache[r]},e.prototype.loadImage=function(r){return li(this,void 0,void 0,function(){var t,a,s,i,o=this;return qs(this,function(l){switch(l.label){case 0:return t=n3.isSameOrigin(r),a=!uw(r)&&this._options.useCORS===!0&&Ss.SUPPORT_CORS_IMAGES&&!t,s=!uw(r)&&!t&&!fw(r)&&typeof this._options.proxy=="string"&&Ss.SUPPORT_CORS_XHR&&!a,!t&&this._options.allowTaint===!1&&!uw(r)&&!fw(r)&&!s&&!a?[2]:(i=r,s?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+r.substring(0,256)),[4,new Promise(function(A,d){var f=new Image;f.onload=function(){return A(f)},f.onerror=d,(Cq(i)||a)&&(f.crossOrigin="anonymous"),f.src=i,f.complete===!0&&setTimeout(function(){return A(f)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(r){return typeof this._cache[r]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(r){var t=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var s=r.substring(0,256);return new Promise(function(i,o){var l=Ss.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")i(A.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(m){return o(m)},!1),h.readAsDataURL(A.response)}else o("Failed to proxy resource "+s+" with status code "+A.status)},A.onerror=o;var d=a.indexOf("?")>-1?"&":"?";if(A.open("GET",""+a+d+"url="+encodeURIComponent(r)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),t._options.imageTimeout){var f=t._options.imageTimeout;A.timeout=f,A.ontimeout=function(){return o("Timed out ("+f+"ms) proxying "+s)}}A.send()})},e})(),bq=/^data:image\/svg\+xml/i,Nq=/^data:image\/.*;base64,/i,jq=/^data:image\/.*/i,Bq=function(e){return Ss.SUPPORT_SVG_DRAWING||!Sq(e)},uw=function(e){return jq.test(e)},Cq=function(e){return Nq.test(e)},fw=function(e){return e.substr(0,4)==="blob"},Sq=function(e){return e.substr(-3).toLowerCase()==="svg"||bq.test(e)},Lt=(function(){function e(r,t){this.type=0,this.x=r,this.y=t}return e.prototype.add=function(r,t){return new e(this.x+r,this.y+t)},e})(),df=function(e,r,t){return new Lt(e.x+(r.x-e.x)*t,e.y+(r.y-e.y)*t)},tg=(function(){function e(r,t,a,s){this.type=1,this.start=r,this.startControl=t,this.endControl=a,this.end=s}return e.prototype.subdivide=function(r,t){var a=df(this.start,this.startControl,r),s=df(this.startControl,this.endControl,r),i=df(this.endControl,this.end,r),o=df(a,s,r),l=df(s,i,r),A=df(o,l,r);return t?new e(this.start,a,o,A):new e(A,l,i,this.end)},e.prototype.add=function(r,t){return new e(this.start.add(r,t),this.startControl.add(r,t),this.endControl.add(r,t),this.end.add(r,t))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),Co=function(e){return e.type===1},Eq=(function(){function e(r){var t=r.styles,a=r.bounds,s=$h(t.borderTopLeftRadius,a.width,a.height),i=s[0],o=s[1],l=$h(t.borderTopRightRadius,a.width,a.height),A=l[0],d=l[1],f=$h(t.borderBottomRightRadius,a.width,a.height),h=f[0],m=f[1],p=$h(t.borderBottomLeftRadius,a.width,a.height),x=p[0],v=p[1],b=[];b.push((i+A)/a.width),b.push((x+h)/a.width),b.push((o+v)/a.height),b.push((d+m)/a.height);var N=Math.max.apply(Math,b);N>1&&(i/=N,o/=N,A/=N,d/=N,h/=N,m/=N,x/=N,v/=N);var B=a.width-A,S=a.height-m,F=a.width-h,L=a.height-v,M=t.borderTopWidth,U=t.borderRightWidth,I=t.borderBottomWidth,_=t.borderLeftWidth,W=$a(t.paddingTop,r.bounds.width),Q=$a(t.paddingRight,r.bounds.width),K=$a(t.paddingBottom,r.bounds.width),X=$a(t.paddingLeft,r.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?rn(a.left+_/3,a.top+M/3,i-_/3,o-M/3,ya.TOP_LEFT):new Lt(a.left+_/3,a.top+M/3),this.topRightBorderDoubleOuterBox=i>0||o>0?rn(a.left+B,a.top+M/3,A-U/3,d-M/3,ya.TOP_RIGHT):new Lt(a.left+a.width-U/3,a.top+M/3),this.bottomRightBorderDoubleOuterBox=h>0||m>0?rn(a.left+F,a.top+S,h-U/3,m-I/3,ya.BOTTOM_RIGHT):new Lt(a.left+a.width-U/3,a.top+a.height-I/3),this.bottomLeftBorderDoubleOuterBox=x>0||v>0?rn(a.left+_/3,a.top+L,x-_/3,v-I/3,ya.BOTTOM_LEFT):new Lt(a.left+_/3,a.top+a.height-I/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?rn(a.left+_*2/3,a.top+M*2/3,i-_*2/3,o-M*2/3,ya.TOP_LEFT):new Lt(a.left+_*2/3,a.top+M*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?rn(a.left+B,a.top+M*2/3,A-U*2/3,d-M*2/3,ya.TOP_RIGHT):new Lt(a.left+a.width-U*2/3,a.top+M*2/3),this.bottomRightBorderDoubleInnerBox=h>0||m>0?rn(a.left+F,a.top+S,h-U*2/3,m-I*2/3,ya.BOTTOM_RIGHT):new Lt(a.left+a.width-U*2/3,a.top+a.height-I*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||v>0?rn(a.left+_*2/3,a.top+L,x-_*2/3,v-I*2/3,ya.BOTTOM_LEFT):new Lt(a.left+_*2/3,a.top+a.height-I*2/3),this.topLeftBorderStroke=i>0||o>0?rn(a.left+_/2,a.top+M/2,i-_/2,o-M/2,ya.TOP_LEFT):new Lt(a.left+_/2,a.top+M/2),this.topRightBorderStroke=i>0||o>0?rn(a.left+B,a.top+M/2,A-U/2,d-M/2,ya.TOP_RIGHT):new Lt(a.left+a.width-U/2,a.top+M/2),this.bottomRightBorderStroke=h>0||m>0?rn(a.left+F,a.top+S,h-U/2,m-I/2,ya.BOTTOM_RIGHT):new Lt(a.left+a.width-U/2,a.top+a.height-I/2),this.bottomLeftBorderStroke=x>0||v>0?rn(a.left+_/2,a.top+L,x-_/2,v-I/2,ya.BOTTOM_LEFT):new Lt(a.left+_/2,a.top+a.height-I/2),this.topLeftBorderBox=i>0||o>0?rn(a.left,a.top,i,o,ya.TOP_LEFT):new Lt(a.left,a.top),this.topRightBorderBox=A>0||d>0?rn(a.left+B,a.top,A,d,ya.TOP_RIGHT):new Lt(a.left+a.width,a.top),this.bottomRightBorderBox=h>0||m>0?rn(a.left+F,a.top+S,h,m,ya.BOTTOM_RIGHT):new Lt(a.left+a.width,a.top+a.height),this.bottomLeftBorderBox=x>0||v>0?rn(a.left,a.top+L,x,v,ya.BOTTOM_LEFT):new Lt(a.left,a.top+a.height),this.topLeftPaddingBox=i>0||o>0?rn(a.left+_,a.top+M,Math.max(0,i-_),Math.max(0,o-M),ya.TOP_LEFT):new Lt(a.left+_,a.top+M),this.topRightPaddingBox=A>0||d>0?rn(a.left+Math.min(B,a.width-U),a.top+M,B>a.width+U?0:Math.max(0,A-U),Math.max(0,d-M),ya.TOP_RIGHT):new Lt(a.left+a.width-U,a.top+M),this.bottomRightPaddingBox=h>0||m>0?rn(a.left+Math.min(F,a.width-_),a.top+Math.min(S,a.height-I),Math.max(0,h-U),Math.max(0,m-I),ya.BOTTOM_RIGHT):new Lt(a.left+a.width-U,a.top+a.height-I),this.bottomLeftPaddingBox=x>0||v>0?rn(a.left+_,a.top+Math.min(L,a.height-I),Math.max(0,x-_),Math.max(0,v-I),ya.BOTTOM_LEFT):new Lt(a.left+_,a.top+a.height-I),this.topLeftContentBox=i>0||o>0?rn(a.left+_+X,a.top+M+W,Math.max(0,i-(_+X)),Math.max(0,o-(M+W)),ya.TOP_LEFT):new Lt(a.left+_+X,a.top+M+W),this.topRightContentBox=A>0||d>0?rn(a.left+Math.min(B,a.width+_+X),a.top+M+W,B>a.width+_+X?0:A-_+X,d-(M+W),ya.TOP_RIGHT):new Lt(a.left+a.width-(U+Q),a.top+M+W),this.bottomRightContentBox=h>0||m>0?rn(a.left+Math.min(F,a.width-(_+X)),a.top+Math.min(S,a.height+M+W),Math.max(0,h-(U+Q)),m-(I+K),ya.BOTTOM_RIGHT):new Lt(a.left+a.width-(U+Q),a.top+a.height-(I+K)),this.bottomLeftContentBox=x>0||v>0?rn(a.left+_+X,a.top+L,Math.max(0,x-(_+X)),v-(I+K),ya.BOTTOM_LEFT):new Lt(a.left+_+X,a.top+a.height-(I+K))}return e})(),ya;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ya||(ya={}));var rn=function(e,r,t,a,s){var i=4*((Math.sqrt(2)-1)/3),o=t*i,l=a*i,A=e+t,d=r+a;switch(s){case ya.TOP_LEFT:return new tg(new Lt(e,d),new Lt(e,d-l),new Lt(A-o,r),new Lt(A,r));case ya.TOP_RIGHT:return new tg(new Lt(e,r),new Lt(e+o,r),new Lt(A,d-l),new Lt(A,d));case ya.BOTTOM_RIGHT:return new tg(new Lt(A,r),new Lt(A,r+l),new Lt(e+o,d),new Lt(e,d));case ya.BOTTOM_LEFT:default:return new tg(new Lt(A,d),new Lt(A-o,d),new Lt(e,r+l),new Lt(e,r))}},g0=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},_q=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},x0=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Fq=(function(){function e(r,t,a){this.offsetX=r,this.offsetY=t,this.matrix=a,this.type=0,this.target=6}return e})(),rg=(function(){function e(r,t){this.path=r,this.target=t,this.type=1}return e})(),kq=(function(){function e(r){this.opacity=r,this.type=2,this.target=6}return e})(),Dq=function(e){return e.type===0},s3=function(e){return e.type===1},Uq=function(e){return e.type===2},yB=function(e,r){return e.length===r.length?e.some(function(t,a){return t===r[a]}):!1},Lq=function(e,r,t,a,s){return e.map(function(i,o){switch(o){case 0:return i.add(r,t);case 1:return i.add(r+a,t);case 2:return i.add(r+a,t+s);case 3:return i.add(r,t+s)}return i})},i3=(function(){function e(r){this.element=r,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),o3=(function(){function e(r,t){if(this.container=r,this.parent=t,this.effects=[],this.curves=new Eq(this.container),this.container.styles.opacity<1&&this.effects.push(new kq(this.container.styles.opacity)),this.container.styles.transform!==null){var a=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Fq(a,s,i))}if(this.container.styles.overflowX!==0){var o=g0(this.curves),l=x0(this.curves);yB(o,l)?this.effects.push(new rg(o,6)):(this.effects.push(new rg(o,2)),this.effects.push(new rg(l,4)))}}return e.prototype.getEffects=function(r){for(var t=[2,3].indexOf(this.container.styles.position)===-1,a=this.parent,s=this.effects.slice(0);a;){var i=a.effects.filter(function(A){return!s3(A)});if(t||a.container.styles.position!==0||!a.parent){if(s.unshift.apply(s,i),t=[2,3].indexOf(a.container.styles.position)===-1,a.container.styles.overflowX!==0){var o=g0(a.curves),l=x0(a.curves);yB(o,l)||s.unshift(new rg(l,6))}}else s.unshift.apply(s,i);a=a.parent}return s.filter(function(A){return as(A.target,r)})},e})(),O1=function(e,r,t,a){e.container.elements.forEach(function(s){var i=as(s.flags,4),o=as(s.flags,2),l=new o3(s,e);as(s.styles.display,2048)&&a.push(l);var A=as(s.flags,8)?[]:a;if(i||o){var d=i||s.styles.isPositioned()?t:r,f=new i3(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var m=0;d.negativeZIndex.some(function(x,v){return h>x.element.container.styles.zIndex.order?(m=v,!1):m>0}),d.negativeZIndex.splice(m,0,f)}else if(h>0){var p=0;d.positiveZIndex.some(function(x,v){return h>=x.element.container.styles.zIndex.order?(p=v+1,!1):p>0}),d.positiveZIndex.splice(p,0,f)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else s.styles.isFloating()?d.nonPositionedFloats.push(f):d.nonPositionedInlineLevel.push(f);O1(l,f,i?f:t,A)}else s.styles.isInlineLevel()?r.inlineLevel.push(l):r.nonInlineLevel.push(l),O1(l,r,t,A);as(s.flags,8)&&l3(s,A)})},l3=function(e,r){for(var t=e instanceof P1?e.start:1,a=e instanceof P1?e.reversed:!1,s=0;s<r.length;s++){var i=r[s];i.container instanceof VF&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=mm(t,i.container.styles.listStyleType,!0),t+=a?-1:1}},Iq=function(e){var r=new o3(e,null),t=new i3(r),a=[];return O1(r,t,t,a),l3(r.container,a),t},bB=function(e,r){switch(r){case 0:return Eo(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Eo(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Eo(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Eo(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Pq=function(e,r){switch(r){case 0:return Eo(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Eo(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Eo(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Eo(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Qq=function(e,r){switch(r){case 0:return Eo(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Eo(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Eo(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Eo(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Rq=function(e,r){switch(r){case 0:return ag(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ag(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ag(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return ag(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},ag=function(e,r){var t=[];return Co(e)?t.push(e.subdivide(.5,!1)):t.push(e),Co(r)?t.push(r.subdivide(.5,!0)):t.push(r),t},Eo=function(e,r,t,a){var s=[];return Co(e)?s.push(e.subdivide(.5,!1)):s.push(e),Co(t)?s.push(t.subdivide(.5,!0)):s.push(t),Co(a)?s.push(a.subdivide(.5,!0).reverse()):s.push(a),Co(r)?s.push(r.subdivide(.5,!1).reverse()):s.push(r),s},c3=function(e){var r=e.bounds,t=e.styles;return r.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},v0=function(e){var r=e.styles,t=e.bounds,a=$a(r.paddingLeft,t.width),s=$a(r.paddingRight,t.width),i=$a(r.paddingTop,t.width),o=$a(r.paddingBottom,t.width);return t.add(a+r.borderLeftWidth,i+r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth+a+s),-(r.borderTopWidth+r.borderBottomWidth+i+o))},Tq=function(e,r){return e===0?r.bounds:e===2?v0(r):c3(r)},Mq=function(e,r){return e===0?r.bounds:e===2?v0(r):c3(r)},hw=function(e,r,t){var a=Tq(xf(e.styles.backgroundOrigin,r),e),s=Mq(xf(e.styles.backgroundClip,r),e),i=Oq(xf(e.styles.backgroundSize,r),t,a),o=i[0],l=i[1],A=$h(xf(e.styles.backgroundPosition,r),a.width-o,a.height-l),d=Hq(xf(e.styles.backgroundRepeat,r),A,i,a,s),f=Math.round(a.left+A[0]),h=Math.round(a.top+A[1]);return[d,f,h,o,l]},uf=function(e){return La(e)&&e.value===Sf.AUTO},ng=function(e){return typeof e=="number"},Oq=function(e,r,t){var a=r[0],s=r[1],i=r[2],o=e[0],l=e[1];if(!o)return[0,0];if(Gn(o)&&l&&Gn(l))return[$a(o,t.width),$a(l,t.height)];var A=ng(i);if(La(o)&&(o.value===Sf.CONTAIN||o.value===Sf.COVER)){if(ng(i)){var d=t.width/t.height;return d<i!=(o.value===Sf.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var f=ng(a),h=ng(s),m=f||h;if(uf(o)&&(!l||uf(l))){if(f&&h)return[a,s];if(!A&&!m)return[t.width,t.height];if(m&&A){var p=f?a:s*i,x=h?s:a/i;return[p,x]}var v=f?a:t.width,b=h?s:t.height;return[v,b]}if(A){var N=0,B=0;return Gn(o)?N=$a(o,t.width):Gn(l)&&(B=$a(l,t.height)),uf(o)?N=B*i:(!l||uf(l))&&(B=N/i),[N,B]}var S=null,F=null;if(Gn(o)?S=$a(o,t.width):l&&Gn(l)&&(F=$a(l,t.height)),S!==null&&(!l||uf(l))&&(F=f&&h?S/a*s:t.height),F!==null&&uf(o)&&(S=f&&h?F/s*a:t.width),S!==null&&F!==null)return[S,F];throw new Error("Unable to calculate background-size for element")},xf=function(e,r){var t=e[r];return typeof t>"u"?e[0]:t},Hq=function(e,r,t,a,s){var i=r[0],o=r[1],l=t[0],A=t[1];switch(e){case 2:return[new Lt(Math.round(a.left),Math.round(a.top+o)),new Lt(Math.round(a.left+a.width),Math.round(a.top+o)),new Lt(Math.round(a.left+a.width),Math.round(A+a.top+o)),new Lt(Math.round(a.left),Math.round(A+a.top+o))];case 3:return[new Lt(Math.round(a.left+i),Math.round(a.top)),new Lt(Math.round(a.left+i+l),Math.round(a.top)),new Lt(Math.round(a.left+i+l),Math.round(a.height+a.top)),new Lt(Math.round(a.left+i),Math.round(a.height+a.top))];case 1:return[new Lt(Math.round(a.left+i),Math.round(a.top+o)),new Lt(Math.round(a.left+i+l),Math.round(a.top+o)),new Lt(Math.round(a.left+i+l),Math.round(a.top+o+A)),new Lt(Math.round(a.left+i),Math.round(a.top+o+A))];default:return[new Lt(Math.round(s.left),Math.round(s.top)),new Lt(Math.round(s.left+s.width),Math.round(s.top)),new Lt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Lt(Math.round(s.left),Math.round(s.height+s.top))]}},Kq="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",NB="Hidden Text",$q=(function(){function e(r){this._data={},this._document=r}return e.prototype.parseMetrics=function(r,t){var a=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;a.style.visibility="hidden",a.style.fontFamily=r,a.style.fontSize=t,a.style.margin="0",a.style.padding="0",a.style.whiteSpace="nowrap",o.appendChild(a),s.src=Kq,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=r,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(NB)),a.appendChild(i),a.appendChild(s);var l=s.offsetTop-i.offsetTop+2;a.removeChild(i),a.appendChild(this._document.createTextNode(NB)),a.style.lineHeight="normal",s.style.verticalAlign="super";var A=s.offsetTop-a.offsetTop+2;return o.removeChild(a),{baseline:l,middle:A}},e.prototype.getMetrics=function(r,t){var a=r+" "+t;return typeof this._data[a]>"u"&&(this._data[a]=this.parseMetrics(r,t)),this._data[a]},e})(),A3=(function(){function e(r,t){this.context=r,this.options=t}return e})(),Vq=1e4,zq=(function(e){hl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s._activeEffects=[],s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),a.canvas||(s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px"),s.fontMetrics=new $q(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+a.width+"x"+a.height+") with scale "+a.scale),s}return r.prototype.applyEffects=function(t){for(var a=this;this._activeEffects.length;)this.popEffect();t.forEach(function(s){return a.applyEffect(s)})},r.prototype.applyEffect=function(t){this.ctx.save(),Uq(t)&&(this.ctx.globalAlpha=t.opacity),Dq(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),s3(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(t){return li(this,void 0,void 0,function(){var a;return qs(this,function(s){switch(s.label){case 0:return a=t.element.container.styles,a.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},r.prototype.renderNode=function(t){return li(this,void 0,void 0,function(){return qs(this,function(a){switch(a.label){case 0:if(as(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return a.sent(),[4,this.renderNodeContent(t)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},r.prototype.renderTextWithLetterSpacing=function(t,a,s){var i=this;if(a===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+s);else{var o=ob(t.text);o.reduce(function(l,A){return i.ctx.fillText(A,l,t.bounds.top+s),l+i.ctx.measureText(A).width},t.bounds.left)}},r.prototype.createFontStyle=function(t){var a=t.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=Xq(t.fontFamily).join(", "),i=Rm(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,a,t.fontWeight,i,s].join(" "),s,i]},r.prototype.renderTextNode=function(t,a){return li(this,void 0,void 0,function(){var s,i,o,l,A,d,f,h,m=this;return qs(this,function(p){return s=this.createFontStyle(a),i=s[0],o=s[1],l=s[2],this.ctx.font=i,this.ctx.direction=a.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,l),d=A.baseline,f=A.middle,h=a.paintOrder,t.textBounds.forEach(function(x){h.forEach(function(v){switch(v){case 0:m.ctx.fillStyle=gs(a.color),m.renderTextWithLetterSpacing(x,a.letterSpacing,d);var b=a.textShadow;b.length&&x.text.trim().length&&(b.slice(0).reverse().forEach(function(N){m.ctx.shadowColor=gs(N.color),m.ctx.shadowOffsetX=N.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=N.offsetY.number*m.options.scale,m.ctx.shadowBlur=N.blur.number,m.renderTextWithLetterSpacing(x,a.letterSpacing,d)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),a.textDecorationLine.length&&(m.ctx.fillStyle=gs(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(N){switch(N){case 1:m.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+d),x.bounds.width,1);break;case 2:m.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:m.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+f),x.bounds.width,1);break}}));break;case 1:a.webkitTextStrokeWidth&&x.text.trim().length&&(m.ctx.strokeStyle=gs(a.webkitTextStrokeColor),m.ctx.lineWidth=a.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+d)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},r.prototype.renderReplacedElement=function(t,a,s){if(s&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=v0(t),o=x0(a);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(t){return li(this,void 0,void 0,function(){var a,s,i,o,l,A,B,B,d,f,h,m,F,p,x,L,v,b,N,B,S,F,L;return qs(this,function(M){switch(M.label){case 0:this.applyEffects(t.getEffects(4)),a=t.container,s=t.curves,i=a.styles,o=0,l=a.textNodes,M.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,i)]):[3,4];case 2:M.sent(),M.label=3;case 3:return o++,[3,1];case 4:if(!(a instanceof HF))return[3,8];M.label=5;case 5:return M.trys.push([5,7,,8]),[4,this.context.cache.match(a.src)];case 6:return B=M.sent(),this.renderReplacedElement(a,s,B),[3,8];case 7:return M.sent(),this.context.logger.error("Error loading image "+a.src),[3,8];case 8:if(a instanceof KF&&this.renderReplacedElement(a,s,a.canvas),!(a instanceof $F))return[3,12];M.label=9;case 9:return M.trys.push([9,11,,12]),[4,this.context.cache.match(a.svg)];case 10:return B=M.sent(),this.renderReplacedElement(a,s,B),[3,12];case 11:return M.sent(),this.context.logger.error("Error loading svg "+a.svg.substring(0,255)),[3,12];case 12:return a instanceof WF&&a.tree?(d=new r(this.context,{scale:this.options.scale,backgroundColor:a.backgroundColor,x:0,y:0,width:a.width,height:a.height}),[4,d.render(a.tree)]):[3,14];case 13:f=M.sent(),a.width&&a.height&&this.ctx.drawImage(f,0,0,a.width,a.height,a.bounds.left,a.bounds.top,a.bounds.width,a.bounds.height),M.label=14;case 14:if(a instanceof lb&&(h=Math.min(a.bounds.width,a.bounds.height),a.type===f0?a.checked&&(this.ctx.save(),this.path([new Lt(a.bounds.left+h*.39363,a.bounds.top+h*.79),new Lt(a.bounds.left+h*.16,a.bounds.top+h*.5549),new Lt(a.bounds.left+h*.27347,a.bounds.top+h*.44071),new Lt(a.bounds.left+h*.39694,a.bounds.top+h*.5649),new Lt(a.bounds.left+h*.72983,a.bounds.top+h*.23),new Lt(a.bounds.left+h*.84,a.bounds.top+h*.34085),new Lt(a.bounds.left+h*.39363,a.bounds.top+h*.79)]),this.ctx.fillStyle=gs(AB),this.ctx.fill(),this.ctx.restore()):a.type===h0&&a.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a.bounds.left+h/2,a.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=gs(AB),this.ctx.fill(),this.ctx.restore())),qq(a)&&a.value.length){switch(m=this.createFontStyle(i),F=m[0],p=m[1],x=this.fontMetrics.getMetrics(F,p).baseline,this.ctx.font=F,this.ctx.fillStyle=gs(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Gq(a.styles.textAlign),L=v0(a),v=0,a.styles.textAlign){case 1:v+=L.width/2;break;case 2:v+=L.width;break}b=L.add(v,0,0,-L.height/2+1),this.ctx.save(),this.path([new Lt(L.left,L.top),new Lt(L.left+L.width,L.top),new Lt(L.left+L.width,L.top+L.height),new Lt(L.left,L.top+L.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Jh(a.value,b),i.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!as(a.styles.display,2048))return[3,20];if(a.styles.listStyleImage===null)return[3,19];if(N=a.styles.listStyleImage,N.type!==0)return[3,18];B=void 0,S=N.url,M.label=15;case 15:return M.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return B=M.sent(),this.ctx.drawImage(B,a.bounds.left-(B.width+10),a.bounds.top),[3,18];case 17:return M.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:t.listValue&&a.styles.listStyleType!==-1&&(F=this.createFontStyle(i)[0],this.ctx.font=F,this.ctx.fillStyle=gs(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",L=new rA(a.bounds.left,a.bounds.top+$a(a.styles.paddingTop,a.bounds.width),a.bounds.width,qj(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Jh(t.listValue,L),i.letterSpacing,qj(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),M.label=20;case 20:return[2]}})})},r.prototype.renderStackContent=function(t){return li(this,void 0,void 0,function(){var a,s,N,i,o,N,l,A,N,d,f,N,h,m,N,p,x,N,v,b,N;return qs(this,function(B){switch(B.label){case 0:if(as(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:B.sent(),a=0,s=t.negativeZIndex,B.label=2;case 2:return a<s.length?(N=s[a],[4,this.renderStack(N)]):[3,5];case 3:B.sent(),B.label=4;case 4:return a++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:B.sent(),i=0,o=t.nonInlineLevel,B.label=7;case 7:return i<o.length?(N=o[i],[4,this.renderNode(N)]):[3,10];case 8:B.sent(),B.label=9;case 9:return i++,[3,7];case 10:l=0,A=t.nonPositionedFloats,B.label=11;case 11:return l<A.length?(N=A[l],[4,this.renderStack(N)]):[3,14];case 12:B.sent(),B.label=13;case 13:return l++,[3,11];case 14:d=0,f=t.nonPositionedInlineLevel,B.label=15;case 15:return d<f.length?(N=f[d],[4,this.renderStack(N)]):[3,18];case 16:B.sent(),B.label=17;case 17:return d++,[3,15];case 18:h=0,m=t.inlineLevel,B.label=19;case 19:return h<m.length?(N=m[h],[4,this.renderNode(N)]):[3,22];case 20:B.sent(),B.label=21;case 21:return h++,[3,19];case 22:p=0,x=t.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return p<x.length?(N=x[p],[4,this.renderStack(N)]):[3,26];case 24:B.sent(),B.label=25;case 25:return p++,[3,23];case 26:v=0,b=t.positiveZIndex,B.label=27;case 27:return v<b.length?(N=b[v],[4,this.renderStack(N)]):[3,30];case 28:B.sent(),B.label=29;case 29:return v++,[3,27];case 30:return[2]}})})},r.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},r.prototype.formatPath=function(t){var a=this;t.forEach(function(s,i){var o=Co(s)?s.start:s;i===0?a.ctx.moveTo(o.x,o.y):a.ctx.lineTo(o.x,o.y),Co(s)&&a.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},r.prototype.renderRepeat=function(t,a,s,i){this.path(t),this.ctx.fillStyle=a,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},r.prototype.resizeImage=function(t,a,s){var i;if(t.width===a&&t.height===s)return t;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,a),l.height=Math.max(1,s);var A=l.getContext("2d");return A.drawImage(t,0,0,t.width,t.height,0,0,a,s),l},r.prototype.renderBackgroundImage=function(t){return li(this,void 0,void 0,function(){var a,s,i,o,l,A;return qs(this,function(d){switch(d.label){case 0:a=t.styles.backgroundImage.length-1,s=function(f){var h,m,p,W,$,V,X,R,I,x,W,$,V,X,R,v,b,N,B,S,F,L,M,U,I,_,W,Q,K,X,R,re,$,V,Z,ie,ue,E,P,Y,z,J;return qs(this,function(q){switch(q.label){case 0:if(f.type!==0)return[3,5];h=void 0,m=f.url,q.label=1;case 1:return q.trys.push([1,3,,4]),[4,i.context.cache.match(m)];case 2:return h=q.sent(),[3,4];case 3:return q.sent(),i.context.logger.error("Error loading background-image "+m),[3,4];case 4:return h&&(p=hw(t,a,[h.width,h.height,h.width/h.height]),W=p[0],$=p[1],V=p[2],X=p[3],R=p[4],I=i.ctx.createPattern(i.resizeImage(h,X,R),"repeat"),i.renderRepeat(W,I,$,V)),[3,6];case 5:D$(f)?(x=hw(t,a,[null,null,null]),W=x[0],$=x[1],V=x[2],X=x[3],R=x[4],v=S$(f.angle,X,R),b=v[0],N=v[1],B=v[2],S=v[3],F=v[4],L=document.createElement("canvas"),L.width=X,L.height=R,M=L.getContext("2d"),U=M.createLinearGradient(N,S,B,F),Vj(f.stops,b).forEach(function(G){return U.addColorStop(G.stop,gs(G.color))}),M.fillStyle=U,M.fillRect(0,0,X,R),X>0&&R>0&&(I=i.ctx.createPattern(L,"repeat"),i.renderRepeat(W,I,$,V))):U$(f)&&(_=hw(t,a,[null,null,null]),W=_[0],Q=_[1],K=_[2],X=_[3],R=_[4],re=f.position.length===0?[nb]:f.position,$=$a(re[0],X),V=$a(re[re.length-1],R),Z=E$(f,$,V,X,R),ie=Z[0],ue=Z[1],ie>0&&ue>0&&(E=i.ctx.createRadialGradient(Q+$,K+V,0,Q+$,K+V,ie),Vj(f.stops,ie*2).forEach(function(G){return E.addColorStop(G.stop,gs(G.color))}),i.path(W),i.ctx.fillStyle=E,ie!==ue?(P=t.bounds.left+.5*t.bounds.width,Y=t.bounds.top+.5*t.bounds.height,z=ue/ie,J=1/z,i.ctx.save(),i.ctx.translate(P,Y),i.ctx.transform(1,0,0,z,0,0),i.ctx.translate(-P,-Y),i.ctx.fillRect(Q,J*(K-Y)+Y,X,R*J),i.ctx.restore()):i.ctx.fill())),q.label=6;case 6:return a--,[2]}})},i=this,o=0,l=t.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(A=l[o],[5,s(A)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},r.prototype.renderSolidBorder=function(t,a,s){return li(this,void 0,void 0,function(){return qs(this,function(i){return this.path(bB(s,a)),this.ctx.fillStyle=gs(t),this.ctx.fill(),[2]})})},r.prototype.renderDoubleBorder=function(t,a,s,i){return li(this,void 0,void 0,function(){var o,l;return qs(this,function(A){switch(A.label){case 0:return a<3?[4,this.renderSolidBorder(t,s,i)]:[3,2];case 1:return A.sent(),[2];case 2:return o=Pq(i,s),this.path(o),this.ctx.fillStyle=gs(t),this.ctx.fill(),l=Qq(i,s),this.path(l),this.ctx.fill(),[2]}})})},r.prototype.renderNodeBackgroundAndBorders=function(t){return li(this,void 0,void 0,function(){var a,s,i,o,l,A,d,f,h=this;return qs(this,function(m){switch(m.label){case 0:return this.applyEffects(t.getEffects(2)),a=t.container.styles,s=!td(a.backgroundColor)||a.backgroundImage.length,i=[{style:a.borderTopStyle,color:a.borderTopColor,width:a.borderTopWidth},{style:a.borderRightStyle,color:a.borderRightColor,width:a.borderRightWidth},{style:a.borderBottomStyle,color:a.borderBottomColor,width:a.borderBottomWidth},{style:a.borderLeftStyle,color:a.borderLeftColor,width:a.borderLeftWidth}],o=Wq(xf(a.backgroundClip,0),t.curves),s||a.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),td(a.backgroundColor)||(this.ctx.fillStyle=gs(a.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),a.boxShadow.slice(0).reverse().forEach(function(p){h.ctx.save();var x=g0(t.curves),v=p.inset?0:Vq,b=Lq(x,-v+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(h.path(x),h.ctx.clip(),h.mask(b)):(h.mask(x),h.ctx.clip(),h.path(b)),h.ctx.shadowOffsetX=p.offsetX.number+v,h.ctx.shadowOffsetY=p.offsetY.number,h.ctx.shadowColor=gs(p.color),h.ctx.shadowBlur=p.blur.number,h.ctx.fillStyle=p.inset?gs(p.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),m.label=2;case 2:l=0,A=0,d=i,m.label=3;case 3:return A<d.length?(f=d[A],f.style!==0&&!td(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,l,t.curves,3)];case 6:return m.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,l,t.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,l,t.curves)];case 10:m.sent(),m.label=11;case 11:l++,m.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},r.prototype.renderDashedDottedBorder=function(t,a,s,i,o){return li(this,void 0,void 0,function(){var l,A,d,f,h,m,p,x,v,b,N,B,S,F,L,M,L,M;return qs(this,function(U){return this.ctx.save(),l=Rq(i,s),A=bB(i,s),o===2&&(this.path(A),this.ctx.clip()),Co(A[0])?(d=A[0].start.x,f=A[0].start.y):(d=A[0].x,f=A[0].y),Co(A[1])?(h=A[1].end.x,m=A[1].end.y):(h=A[1].x,m=A[1].y),s===0||s===2?p=Math.abs(d-h):p=Math.abs(f-m),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(A.slice(0,2)),x=a<3?a*3:a*2,v=a<3?a*2:a,o===3&&(x=a,v=a),b=!0,p<=x*2?b=!1:p<=x*2+v?(N=p/(2*x+v),x*=N,v*=N):(B=Math.floor((p+v)/(x+v)),S=(p-B*x)/(B-1),F=(p-(B+1)*x)/B,v=F<=0||Math.abs(v-S)<Math.abs(v-F)?S:F),b&&(o===3?this.ctx.setLineDash([0,x+v]):this.ctx.setLineDash([x,v])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=a):this.ctx.lineWidth=a*2+1.1,this.ctx.strokeStyle=gs(t),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Co(A[0])&&(L=A[3],M=A[0],this.ctx.beginPath(),this.formatPath([new Lt(L.end.x,L.end.y),new Lt(M.start.x,M.start.y)]),this.ctx.stroke()),Co(A[1])&&(L=A[1],M=A[2],this.ctx.beginPath(),this.formatPath([new Lt(L.end.x,L.end.y),new Lt(M.start.x,M.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},r.prototype.render=function(t){return li(this,void 0,void 0,function(){var a;return qs(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=gs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=Iq(t),[4,this.renderStack(a)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},r})(A3),qq=function(e){return e instanceof qF||e instanceof zF?!0:e instanceof lb&&e.type!==h0&&e.type!==f0},Wq=function(e,r){switch(e){case 0:return g0(r);case 2:return _q(r);case 1:default:return x0(r)}},Gq=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Yq=["-apple-system","system-ui"],Xq=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(r){return Yq.indexOf(r)===-1}):e},Jq=(function(e){hl(r,e);function r(t,a){var s=e.call(this,t,a)||this;return s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=a,s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale),s}return r.prototype.render=function(t){return li(this,void 0,void 0,function(){var a,s;return qs(this,function(i){switch(i.label){case 0:return a=I1(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Zq(a)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=gs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},r})(A3),Zq=function(e){return new Promise(function(r,t){var a=new Image;a.onload=function(){r(a)},a.onerror=t,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},eW=(function(){function e(r){var t=r.id,a=r.enabled;this.id=t,this.enabled=a,this.start=Date.now()}return e.prototype.debug=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Pp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Pp([this.id,this.getTime()+"ms"],r))},e.prototype.warn=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Pp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.prototype.error=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Pp([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},e.instances={},e})(),tW=(function(){function e(r,t){var a;this.windowBounds=t,this.instanceName="#"+e.instanceCount++,this.logger=new eW({id:this.instanceName,enabled:r.logging}),this.cache=(a=r.cache)!==null&&a!==void 0?a:new yq(this,r)}return e.instanceCount=1,e})(),rW=function(e,r){return r===void 0&&(r={}),aW(e,r)};typeof window<"u"&&n3.setContext(window);var aW=function(e,r){return li(void 0,void 0,void 0,function(){var t,a,s,i,o,l,A,d,f,h,m,p,x,v,b,N,B,S,F,L,U,M,U,I,_,W,Q,K,X,R,re,$,V,Z,ie,ue,E,P,Y,z;return qs(this,function(J){switch(J.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=e.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(a=t.defaultView,!a)throw new Error("Document is not attached to a Window");return s={allowTaint:(I=r.allowTaint)!==null&&I!==void 0?I:!1,imageTimeout:(_=r.imageTimeout)!==null&&_!==void 0?_:15e3,proxy:r.proxy,useCORS:(W=r.useCORS)!==null&&W!==void 0?W:!1},i=w1({logging:(Q=r.logging)!==null&&Q!==void 0?Q:!0,cache:r.cache},s),o={windowWidth:(K=r.windowWidth)!==null&&K!==void 0?K:a.innerWidth,windowHeight:(X=r.windowHeight)!==null&&X!==void 0?X:a.innerHeight,scrollX:(R=r.scrollX)!==null&&R!==void 0?R:a.pageXOffset,scrollY:(re=r.scrollY)!==null&&re!==void 0?re:a.pageYOffset},l=new rA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new tW(i,l),d=($=r.foreignObjectRendering)!==null&&$!==void 0?$:!1,f={allowTaint:(V=r.allowTaint)!==null&&V!==void 0?V:!1,onclone:r.onclone,ignoreElements:r.ignoreElements,inlineImages:d,copyStyles:d},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new vB(A,e,f),m=h.clonedReferenceElement,m?[4,h.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=J.sent(),x=cb(m)||nq(m)?L9(m.ownerDocument):ux(A,m),v=x.width,b=x.height,N=x.left,B=x.top,S=nW(A,m,r.backgroundColor),F={canvas:r.canvas,backgroundColor:S,scale:(ie=(Z=r.scale)!==null&&Z!==void 0?Z:a.devicePixelRatio)!==null&&ie!==void 0?ie:1,x:((ue=r.x)!==null&&ue!==void 0?ue:0)+N,y:((E=r.y)!==null&&E!==void 0?E:0)+B,width:(P=r.width)!==null&&P!==void 0?P:Math.ceil(v),height:(Y=r.height)!==null&&Y!==void 0?Y:Math.ceil(b)},d?(A.logger.debug("Document cloned, using foreign object rendering"),U=new Jq(A,F),[4,U.render(m)]):[3,3];case 2:return L=J.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+N+","+B+" with size "+v+"x"+b+" using computed rendering"),A.logger.debug("Starting DOM parsing"),M=YF(A,m),S===M.styles.backgroundColor&&(M.styles.backgroundColor=Jc.TRANSPARENT),A.logger.debug("Starting renderer for element at "+F.x+","+F.y+" with size "+F.width+"x"+F.height),U=new zq(A,F),[4,U.render(M)];case 4:L=J.sent(),J.label=5;case 5:return(!((z=r.removeContainer)!==null&&z!==void 0)||z)&&(vB.destroy(p)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,L]}})})},nW=function(e,r,t){var a=r.ownerDocument,s=a.documentElement?Yh(e,getComputedStyle(a.documentElement).backgroundColor):Jc.TRANSPARENT,i=a.body?Yh(e,getComputedStyle(a.body).backgroundColor):Jc.TRANSPARENT,o=typeof t=="string"?Yh(e,t):t===null?Jc.TRANSPARENT:4294967295;return r===a.documentElement?td(s)?td(i)?o:i:s:o};const sW=Object.freeze(Object.defineProperty({__proto__:null,default:rW},Symbol.toStringTag,{value:"Module"}));function _a(e){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_a(e)}var cl=Uint8Array,ao=Uint16Array,Ab=Int32Array,db=new cl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ub=new cl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jB=new cl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d3=function(e,r){for(var t=new ao(31),a=0;a<31;++a)t[a]=r+=1<<e[a-1];for(var s=new Ab(t[30]),a=1;a<30;++a)for(var i=t[a];i<t[a+1];++i)s[i]=i-t[a]<<5|a;return{b:t,r:s}},u3=d3(db,2),iW=u3.b,H1=u3.r;iW[28]=258,H1[258]=28;var oW=d3(ub,0),BB=oW.r,K1=new ao(32768);for(var Wa=0;Wa<32768;++Wa){var QA=(Wa&43690)>>1|(Wa&21845)<<1;QA=(QA&52428)>>2|(QA&13107)<<2,QA=(QA&61680)>>4|(QA&3855)<<4,K1[Wa]=((QA&65280)>>8|(QA&255)<<8)>>1}var em=(function(e,r,t){for(var a=e.length,s=0,i=new ao(r);s<a;++s)e[s]&&++i[e[s]-1];var o=new ao(r);for(s=1;s<r;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(t){l=new ao(1<<r);var A=15-r;for(s=0;s<a;++s)if(e[s])for(var d=s<<4|e[s],f=r-e[s],h=o[e[s]-1]++<<f,m=h|(1<<f)-1;h<=m;++h)l[K1[h]>>A]=d}else for(l=new ao(a),s=0;s<a;++s)e[s]&&(l[s]=K1[o[e[s]-1]++]>>15-e[s]);return l}),pu=new cl(288);for(var Wa=0;Wa<144;++Wa)pu[Wa]=8;for(var Wa=144;Wa<256;++Wa)pu[Wa]=9;for(var Wa=256;Wa<280;++Wa)pu[Wa]=7;for(var Wa=280;Wa<288;++Wa)pu[Wa]=8;var w0=new cl(32);for(var Wa=0;Wa<32;++Wa)w0[Wa]=5;var lW=em(pu,9,0),cW=em(w0,5,0),f3=function(e){return(e+7)/8|0},AW=function(e,r,t){return(t==null||t>e.length)&&(t=e.length),new cl(e.subarray(r,t))},Rc=function(e,r,t){t<<=r&7;var a=r/8|0;e[a]|=t,e[a+1]|=t>>8},Ih=function(e,r,t){t<<=r&7;var a=r/8|0;e[a]|=t,e[a+1]|=t>>8,e[a+2]|=t>>16},mw=function(e,r){for(var t=[],a=0;a<e.length;++a)e[a]&&t.push({s:a,f:e[a]});var s=t.length,i=t.slice();if(!s)return{t:m3,l:0};if(s==1){var o=new cl(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(L,M){return L.f-M.f}),t.push({s:-1,f:25001});var l=t[0],A=t[1],d=0,f=1,h=2;for(t[0]={s:-1,f:l.f+A.f,l,r:A};f!=s-1;)l=t[t[d].f<t[h].f?d++:h++],A=t[d!=f&&t[d].f<t[h].f?d++:h++],t[f++]={s:-1,f:l.f+A.f,l,r:A};for(var m=i[0].s,a=1;a<s;++a)i[a].s>m&&(m=i[a].s);var p=new ao(m+1),x=$1(t[f-1],p,0);if(x>r){var a=0,v=0,b=x-r,N=1<<b;for(i.sort(function(M,U){return p[U.s]-p[M.s]||M.f-U.f});a<s;++a){var B=i[a].s;if(p[B]>r)v+=N-(1<<x-p[B]),p[B]=r;else break}for(v>>=b;v>0;){var S=i[a].s;p[S]<r?v-=1<<r-p[S]++-1:++a}for(;a>=0&&v;--a){var F=i[a].s;p[F]==r&&(--p[F],++v)}x=r}return{t:new cl(p),l:x}},$1=function(e,r,t){return e.s==-1?Math.max($1(e.l,r,t+1),$1(e.r,r,t+1)):r[e.s]=t},CB=function(e){for(var r=e.length;r&&!e[--r];);for(var t=new ao(++r),a=0,s=e[0],i=1,o=function(A){t[a++]=A},l=1;l<=r;++l)if(e[l]==s&&l!=r)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:t.subarray(0,a),n:r}},Ph=function(e,r){for(var t=0,a=0;a<r.length;++a)t+=e[a]*r[a];return t},h3=function(e,r,t){var a=t.length,s=f3(r+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=t[i];return(s+4+a)*8},SB=function(e,r,t,a,s,i,o,l,A,d,f){Rc(r,f++,t),++s[256];for(var h=mw(s,15),m=h.t,p=h.l,x=mw(i,15),v=x.t,b=x.l,N=CB(m),B=N.c,S=N.n,F=CB(v),L=F.c,M=F.n,U=new ao(19),I=0;I<B.length;++I)++U[B[I]&31];for(var I=0;I<L.length;++I)++U[L[I]&31];for(var _=mw(U,7),W=_.t,Q=_.l,K=19;K>4&&!W[jB[K-1]];--K);var X=d+5<<3,R=Ph(s,pu)+Ph(i,w0)+o,re=Ph(s,m)+Ph(i,v)+o+14+3*K+Ph(U,W)+2*U[16]+3*U[17]+7*U[18];if(A>=0&&X<=R&&X<=re)return h3(r,f,e.subarray(A,A+d));var $,V,Z,ie;if(Rc(r,f,1+(re<R)),f+=2,re<R){$=em(m,p,0),V=m,Z=em(v,b,0),ie=v;var ue=em(W,Q,0);Rc(r,f,S-257),Rc(r,f+5,M-1),Rc(r,f+10,K-4),f+=14;for(var I=0;I<K;++I)Rc(r,f+3*I,W[jB[I]]);f+=3*K;for(var E=[B,L],P=0;P<2;++P)for(var Y=E[P],I=0;I<Y.length;++I){var z=Y[I]&31;Rc(r,f,ue[z]),f+=W[z],z>15&&(Rc(r,f,Y[I]>>5&127),f+=Y[I]>>12)}}else $=lW,V=pu,Z=cW,ie=w0;for(var I=0;I<l;++I){var J=a[I];if(J>255){var z=J>>18&31;Ih(r,f,$[z+257]),f+=V[z+257],z>7&&(Rc(r,f,J>>23&31),f+=db[z]);var q=J&31;Ih(r,f,Z[q]),f+=ie[q],q>3&&(Ih(r,f,J>>5&8191),f+=ub[q])}else Ih(r,f,$[J]),f+=V[J]}return Ih(r,f,$[256]),f+V[256]},dW=new Ab([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),m3=new cl(0),uW=function(e,r,t,a,s,i){var o=i.z||e.length,l=new cl(a+o+5*(1+Math.ceil(o/7e3))+s),A=l.subarray(a,l.length-s),d=i.l,f=(i.r||0)&7;if(r){f&&(A[0]=i.r>>3);for(var h=dW[r-1],m=h>>13,p=h&8191,x=(1<<t)-1,v=i.p||new ao(32768),b=i.h||new ao(x+1),N=Math.ceil(t/3),B=2*N,S=function(xe){return(e[xe]^e[xe+1]<<N^e[xe+2]<<B)&x},F=new Ab(25e3),L=new ao(288),M=new ao(32),U=0,I=0,_=i.i||0,W=0,Q=i.w||0,K=0;_+2<o;++_){var X=S(_),R=_&32767,re=b[X];if(v[R]=re,b[X]=R,Q<=_){var $=o-_;if((U>7e3||W>24576)&&($>423||!d)){f=SB(e,A,0,F,L,M,I,W,K,_-K,f),W=U=I=0,K=_;for(var V=0;V<286;++V)L[V]=0;for(var V=0;V<30;++V)M[V]=0}var Z=2,ie=0,ue=p,E=R-re&32767;if($>2&&X==S(_-E))for(var P=Math.min(m,$)-1,Y=Math.min(32767,_),z=Math.min(258,$);E<=Y&&--ue&&R!=re;){if(e[_+Z]==e[_+Z-E]){for(var J=0;J<z&&e[_+J]==e[_+J-E];++J);if(J>Z){if(Z=J,ie=E,J>P)break;for(var q=Math.min(E,J-2),G=0,V=0;V<q;++V){var ne=_-E+V&32767,ce=v[ne],pe=ne-ce&32767;pe>G&&(G=pe,re=ne)}}}R=re,re=v[R],E+=R-re&32767}if(ie){F[W++]=268435456|H1[Z]<<18|BB[ie];var ve=H1[Z]&31,Pe=BB[ie]&31;I+=db[ve]+ub[Pe],++L[257+ve],++M[Pe],Q=_+Z,++U}else F[W++]=e[_],++L[e[_]]}}for(_=Math.max(_,Q);_<o;++_)F[W++]=e[_],++L[e[_]];f=SB(e,A,d,F,L,M,I,W,K,_-K,f),d||(i.r=f&7|A[f/8|0]<<3,f-=7,i.h=b,i.p=v,i.i=_,i.w=Q)}else{for(var _=i.w||0;_<o+d;_+=65535){var ke=_+65535;ke>=o&&(A[f/8|0]=d,ke=o),f=h3(A,f+1,e.subarray(_,ke))}i.i=o}return AW(l,0,a+f3(f)+s)},p3=function(){var e=1,r=0;return{p:function(t){for(var a=e,s=r,i=t.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=a+=t[o];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,r=s},d:function(){return e%=65521,r%=65521,(e&255)<<24|(e&65280)<<8|(r&255)<<8|r>>8}}},fW=function(e,r,t,a,s){if(!s&&(s={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),o=new cl(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return uW(e,r.level==null?6:r.level,r.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,t,a,s)},g3=function(e,r,t){for(;t;++r)e[r]=t,t>>>=8},hW=function(e,r){var t=r.level,a=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=a<<6|(r.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,r.dictionary){var s=p3();s.p(r.dictionary),g3(e,2,s.d())}};function V1(e,r){r||(r={});var t=p3();t.p(e);var a=fW(e,r,r.dictionary?6:2,4);return hW(a,r),g3(a,a.length-4,t.d()),a}var mW=typeof TextDecoder<"u"&&new TextDecoder,pW=0;try{mW.decode(m3,{stream:!0}),pW=1}catch{}function gW(e){if(Array.isArray(e))return e}function xW(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a,s,i,o,l=[],A=!0,d=!1;try{if(i=(t=t.call(e)).next,r!==0)for(;!(A=(a=i.call(t)).done)&&(l.push(a.value),l.length!==r);A=!0);}catch(f){d=!0,s=f}finally{try{if(!A&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function EB(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=Array(r);t<r;t++)a[t]=e[t];return a}function vW(e,r){if(e){if(typeof e=="string")return EB(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?EB(e,r):void 0}}function wW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _B(e,r){return gW(e)||xW(e,r)||vW(e,r)||wW()}function FB(e,r="utf8"){return new TextDecoder(r).decode(e)}const yW=new TextEncoder;function bW(e){return yW.encode(e)}const NW=1024*8,jW=(()=>{const e=new Uint8Array(4),r=new Uint32Array(e.buffer);return!((r[0]=1)&e[0])})(),pw={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class fb{constructor(r=NW,t={}){ft(this,"buffer");ft(this,"byteLength");ft(this,"byteOffset");ft(this,"length");ft(this,"offset");ft(this,"lastWrittenByte");ft(this,"littleEndian");ft(this,"_data");ft(this,"_mark");ft(this,"_marks");let a=!1;typeof r=="number"?r=new ArrayBuffer(r):(a=!0,this.lastWrittenByte=r.byteLength);const s=t.offset?t.offset>>>0:0,i=r.byteLength-s;let o=s;(ArrayBuffer.isView(r)||r instanceof fb)&&(r.byteLength!==r.buffer.byteLength&&(o=r.byteOffset+s),r=r.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=r,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(r=1){return this.offset+r<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(r=1){return this.offset+=r,this}back(r=1){return this.offset-=r,this}seek(r){return this.offset=r,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const r=this._marks.pop();if(r===void 0)throw new Error("Mark stack empty");return this.seek(r),this}rewind(){return this.offset=0,this}ensureAvailable(r=1){if(!this.available(r)){const a=(this.offset+r)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(r=1){return this.readArray(r,"uint8")}readArray(r,t){const a=pw[t].BYTES_PER_ELEMENT*r,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+a);if(this.littleEndian===jW&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+a));l.reverse();const A=new pw[t](l.buffer);return this.offset+=a,A.reverse(),A}const o=new pw[t](i);return this.offset+=a,o}readInt16(){const r=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,r}readUint16(){const r=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,r}readInt32(){const r=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,r}readUint32(){const r=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat32(){const r=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat64(){const r=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,r}readBigInt64(){const r=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,r}readBigUint64(){const r=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,r}readChar(){return String.fromCharCode(this.readInt8())}readChars(r=1){let t="";for(let a=0;a<r;a++)t+=this.readChar();return t}readUtf8(r=1){return FB(this.readBytes(r))}decodeText(r=1,t="utf8"){return FB(this.readBytes(r),t)}writeBoolean(r){return this.writeUint8(r?255:0),this}writeInt8(r){return this.ensureAvailable(1),this._data.setInt8(this.offset++,r),this._updateLastWrittenByte(),this}writeUint8(r){return this.ensureAvailable(1),this._data.setUint8(this.offset++,r),this._updateLastWrittenByte(),this}writeByte(r){return this.writeUint8(r)}writeBytes(r){this.ensureAvailable(r.length);for(let t=0;t<r.length;t++)this._data.setUint8(this.offset++,r[t]);return this._updateLastWrittenByte(),this}writeInt16(r){return this.ensureAvailable(2),this._data.setInt16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(r){return this.ensureAvailable(2),this._data.setUint16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(r){return this.ensureAvailable(4),this._data.setInt32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(r){return this.ensureAvailable(4),this._data.setUint32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(r){return this.ensureAvailable(4),this._data.setFloat32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(r){return this.ensureAvailable(8),this._data.setFloat64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(r){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(r){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(r){return this.writeUint8(r.charCodeAt(0))}writeChars(r){for(let t=0;t<r.length;t++)this.writeUint8(r.charCodeAt(t));return this}writeUtf8(r){return this.writeBytes(bW(r))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Zf(e){let r=e.length;for(;--r>=0;)e[r]=0}const BW=3,CW=258,x3=29,SW=256,EW=SW+1+x3,v3=30,_W=512,FW=new Array((EW+2)*2);Zf(FW);const kW=new Array(v3*2);Zf(kW);const DW=new Array(_W);Zf(DW);const UW=new Array(CW-BW+1);Zf(UW);const LW=new Array(x3);Zf(LW);const IW=new Array(v3);Zf(IW);const PW=(e,r,t,a)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do s=s+r[a++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var z1=PW;const QW=()=>{let e,r=[];for(var t=0;t<256;t++){e=t;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r},RW=new Uint32Array(QW()),TW=(e,r,t,a)=>{const s=RW,i=a+t;e^=-1;for(let o=a;o<i;o++)e=e>>>8^s[(e^r[o])&255];return e^-1};var Ul=TW,q1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},w3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const MW=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var OW=function(e){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const t=r.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const a in t)MW(t,a)&&(e[a]=t[a])}}return e},HW=e=>{let r=0;for(let a=0,s=e.length;a<s;a++)r+=e[a].length;const t=new Uint8Array(r);for(let a=0,s=0,i=e.length;a<i;a++){let o=e[a];t.set(o,s),s+=o.length}return t},y3={assign:OW,flattenChunks:HW};let b3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b3=!1}const pm=new Uint8Array(256);for(let e=0;e<256;e++)pm[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;pm[254]=pm[254]=1;var KW=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let r,t,a,s,i,o=e.length,l=0;for(s=0;s<o;s++)t=e.charCodeAt(s),(t&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),s++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(l),i=0,s=0;i<l;s++)t=e.charCodeAt(s),(t&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),s++)),t<128?r[i++]=t:t<2048?(r[i++]=192|t>>>6,r[i++]=128|t&63):t<65536?(r[i++]=224|t>>>12,r[i++]=128|t>>>6&63,r[i++]=128|t&63):(r[i++]=240|t>>>18,r[i++]=128|t>>>12&63,r[i++]=128|t>>>6&63,r[i++]=128|t&63);return r};const $W=(e,r)=>{if(r<65534&&e.subarray&&b3)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let t="";for(let a=0;a<r;a++)t+=String.fromCharCode(e[a]);return t};var VW=(e,r)=>{const t=r||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,r));let a,s;const i=new Array(t*2);for(s=0,a=0;a<t;){let o=e[a++];if(o<128){i[s++]=o;continue}let l=pm[o];if(l>4){i[s++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<t;)o=o<<6|e[a++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return $W(i,s)},zW=(e,r)=>{r=r||e.length,r>e.length&&(r=e.length);let t=r-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+pm[e[t]]>r?t:r},W1={string2buf:KW,buf2string:VW,utf8border:zW};function qW(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var WW=qW;const sg=16209,GW=16191;var YW=function(r,t){let a,s,i,o,l,A,d,f,h,m,p,x,v,b,N,B,S,F,L,M,U,I,_,W;const Q=r.state;a=r.next_in,_=r.input,s=a+(r.avail_in-5),i=r.next_out,W=r.output,o=i-(t-r.avail_out),l=i+(r.avail_out-257),A=Q.dmax,d=Q.wsize,f=Q.whave,h=Q.wnext,m=Q.window,p=Q.hold,x=Q.bits,v=Q.lencode,b=Q.distcode,N=(1<<Q.lenbits)-1,B=(1<<Q.distbits)-1;e:do{x<15&&(p+=_[a++]<<x,x+=8,p+=_[a++]<<x,x+=8),S=v[p&N];t:for(;;){if(F=S>>>24,p>>>=F,x-=F,F=S>>>16&255,F===0)W[i++]=S&65535;else if(F&16){L=S&65535,F&=15,F&&(x<F&&(p+=_[a++]<<x,x+=8),L+=p&(1<<F)-1,p>>>=F,x-=F),x<15&&(p+=_[a++]<<x,x+=8,p+=_[a++]<<x,x+=8),S=b[p&B];r:for(;;){if(F=S>>>24,p>>>=F,x-=F,F=S>>>16&255,F&16){if(M=S&65535,F&=15,x<F&&(p+=_[a++]<<x,x+=8,x<F&&(p+=_[a++]<<x,x+=8)),M+=p&(1<<F)-1,M>A){r.msg="invalid distance too far back",Q.mode=sg;break e}if(p>>>=F,x-=F,F=i-o,M>F){if(F=M-F,F>f&&Q.sane){r.msg="invalid distance too far back",Q.mode=sg;break e}if(U=0,I=m,h===0){if(U+=d-F,F<L){L-=F;do W[i++]=m[U++];while(--F);U=i-M,I=W}}else if(h<F){if(U+=d+h-F,F-=h,F<L){L-=F;do W[i++]=m[U++];while(--F);if(U=0,h<L){F=h,L-=F;do W[i++]=m[U++];while(--F);U=i-M,I=W}}}else if(U+=h-F,F<L){L-=F;do W[i++]=m[U++];while(--F);U=i-M,I=W}for(;L>2;)W[i++]=I[U++],W[i++]=I[U++],W[i++]=I[U++],L-=3;L&&(W[i++]=I[U++],L>1&&(W[i++]=I[U++]))}else{U=i-M;do W[i++]=W[U++],W[i++]=W[U++],W[i++]=W[U++],L-=3;while(L>2);L&&(W[i++]=W[U++],L>1&&(W[i++]=W[U++]))}}else if((F&64)===0){S=b[(S&65535)+(p&(1<<F)-1)];continue r}else{r.msg="invalid distance code",Q.mode=sg;break e}break}}else if((F&64)===0){S=v[(S&65535)+(p&(1<<F)-1)];continue t}else if(F&32){Q.mode=GW;break e}else{r.msg="invalid literal/length code",Q.mode=sg;break e}break}}while(a<s&&i<l);L=x>>3,a-=L,x-=L<<3,p&=(1<<x)-1,r.next_in=a,r.next_out=i,r.avail_in=a<s?5+(s-a):5-(a-s),r.avail_out=i<l?257+(l-i):257-(i-l),Q.hold=p,Q.bits=x};const ff=15,kB=852,DB=592,UB=0,gw=1,LB=2,XW=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),JW=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ZW=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),eG=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),tG=(e,r,t,a,s,i,o,l)=>{const A=l.bits;let d=0,f=0,h=0,m=0,p=0,x=0,v=0,b=0,N=0,B=0,S,F,L,M,U,I=null,_;const W=new Uint16Array(ff+1),Q=new Uint16Array(ff+1);let K=null,X,R,re;for(d=0;d<=ff;d++)W[d]=0;for(f=0;f<a;f++)W[r[t+f]]++;for(p=A,m=ff;m>=1&&W[m]===0;m--);if(p>m&&(p=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&W[h]===0;h++);for(p<h&&(p=h),b=1,d=1;d<=ff;d++)if(b<<=1,b-=W[d],b<0)return-1;if(b>0&&(e===UB||m!==1))return-1;for(Q[1]=0,d=1;d<ff;d++)Q[d+1]=Q[d]+W[d];for(f=0;f<a;f++)r[t+f]!==0&&(o[Q[r[t+f]]++]=f);if(e===UB?(I=K=o,_=20):e===gw?(I=XW,K=JW,_=257):(I=ZW,K=eG,_=0),B=0,f=0,d=h,U=i,x=p,v=0,L=-1,N=1<<p,M=N-1,e===gw&&N>kB||e===LB&&N>DB)return 1;for(;;){X=d-v,o[f]+1<_?(R=0,re=o[f]):o[f]>=_?(R=K[o[f]-_],re=I[o[f]-_]):(R=96,re=0),S=1<<d-v,F=1<<x,h=F;do F-=S,s[U+(B>>v)+F]=X<<24|R<<16|re|0;while(F!==0);for(S=1<<d-1;B&S;)S>>=1;if(S!==0?(B&=S-1,B+=S):B=0,f++,--W[d]===0){if(d===m)break;d=r[t+o[f]]}if(d>p&&(B&M)!==L){for(v===0&&(v=p),U+=h,x=d-v,b=1<<x;x+v<m&&(b-=W[x+v],!(b<=0));)x++,b<<=1;if(N+=1<<x,e===gw&&N>kB||e===LB&&N>DB)return 1;L=B&M,s[L]=p<<24|x<<16|U-i|0}}return B!==0&&(s[U+B]=d-v<<24|64<<16|0),l.bits=p,0};var tm=tG;const rG=0,N3=1,j3=2,{Z_FINISH:IB,Z_BLOCK:aG,Z_TREES:ig,Z_OK:gu,Z_STREAM_END:nG,Z_NEED_DICT:sG,Z_STREAM_ERROR:Do,Z_DATA_ERROR:B3,Z_MEM_ERROR:C3,Z_BUF_ERROR:iG,Z_DEFLATED:PB}=w3,bx=16180,QB=16181,RB=16182,TB=16183,MB=16184,OB=16185,HB=16186,KB=16187,$B=16188,VB=16189,y0=16190,Tc=16191,xw=16192,zB=16193,vw=16194,qB=16195,WB=16196,GB=16197,YB=16198,og=16199,lg=16200,XB=16201,JB=16202,ZB=16203,e5=16204,t5=16205,ww=16206,r5=16207,a5=16208,an=16209,S3=16210,E3=16211,oG=852,lG=592,cG=15,AG=cG,n5=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function dG(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nu=e=>{if(!e)return 1;const r=e.state;return!r||r.strm!==e||r.mode<bx||r.mode>E3?1:0},_3=e=>{if(Nu(e))return Do;const r=e.state;return e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=bx,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(oG),r.distcode=r.distdyn=new Int32Array(lG),r.sane=1,r.back=-1,gu},F3=e=>{if(Nu(e))return Do;const r=e.state;return r.wsize=0,r.whave=0,r.wnext=0,_3(e)},k3=(e,r)=>{let t;if(Nu(e))return Do;const a=e.state;return r<0?(t=0,r=-r):(t=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?Do:(a.window!==null&&a.wbits!==r&&(a.window=null),a.wrap=t,a.wbits=r,F3(e))},D3=(e,r)=>{if(!e)return Do;const t=new dG;e.state=t,t.strm=e,t.window=null,t.mode=bx;const a=k3(e,r);return a!==gu&&(e.state=null),a},uG=e=>D3(e,AG);let s5=!0,yw,bw;const fG=e=>{if(s5){yw=new Int32Array(512),bw=new Int32Array(32);let r=0;for(;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(tm(N3,e.lens,0,288,yw,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;tm(j3,e.lens,0,32,bw,0,e.work,{bits:5}),s5=!1}e.lencode=yw,e.lenbits=9,e.distcode=bw,e.distbits=5},U3=(e,r,t,a)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(r.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>a&&(s=a),i.window.set(r.subarray(t-a,t-a+s),i.wnext),a-=s,a?(i.window.set(r.subarray(t-a,t),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},hG=(e,r)=>{let t,a,s,i,o,l,A,d,f,h,m,p,x,v,b=0,N,B,S,F,L,M,U,I;const _=new Uint8Array(4);let W,Q;const K=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nu(e)||!e.output||!e.input&&e.avail_in!==0)return Do;t=e.state,t.mode===Tc&&(t.mode=xw),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=t.hold,f=t.bits,h=l,m=A,I=gu;e:for(;;)switch(t.mode){case bx:if(t.wrap===0){t.mode=xw;break}for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,_[0]=d&255,_[1]=d>>>8&255,t.check=Ul(t.check,_,2,0),d=0,f=0,t.mode=QB;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",t.mode=an;break}if((d&15)!==PB){e.msg="unknown compression method",t.mode=an;break}if(d>>>=4,f-=4,U=(d&15)+8,t.wbits===0&&(t.wbits=U),U>15||U>t.wbits){e.msg="invalid window size",t.mode=an;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=d&512?VB:Tc,d=0,f=0;break;case QB:for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.flags=d,(t.flags&255)!==PB){e.msg="unknown compression method",t.mode=an;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=an;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Ul(t.check,_,2,0)),d=0,f=0,t.mode=RB;case RB:for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,_[2]=d>>>16&255,_[3]=d>>>24&255,t.check=Ul(t.check,_,4,0)),d=0,f=0,t.mode=TB;case TB:for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Ul(t.check,_,2,0)),d=0,f=0,t.mode=MB;case MB:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,t.check=Ul(t.check,_,2,0)),d=0,f=0}else t.head&&(t.head.extra=null);t.mode=OB;case OB:if(t.flags&1024&&(p=t.length,p>l&&(p=l),p&&(t.head&&(U=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(a.subarray(i,i+p),U)),t.flags&512&&t.wrap&4&&(t.check=Ul(t.check,a,p,i)),l-=p,i+=p,t.length-=p),t.length))break e;t.length=0,t.mode=HB;case HB:if(t.flags&2048){if(l===0)break e;p=0;do U=a[i+p++],t.head&&U&&t.length<65536&&(t.head.name+=String.fromCharCode(U));while(U&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Ul(t.check,a,p,i)),l-=p,i+=p,U)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=KB;case KB:if(t.flags&4096){if(l===0)break e;p=0;do U=a[i+p++],t.head&&U&&t.length<65536&&(t.head.comment+=String.fromCharCode(U));while(U&&p<l);if(t.flags&512&&t.wrap&4&&(t.check=Ul(t.check,a,p,i)),l-=p,i+=p,U)break e}else t.head&&(t.head.comment=null);t.mode=$B;case $B:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&4&&d!==(t.check&65535)){e.msg="header crc mismatch",t.mode=an;break}d=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Tc;break;case VB:for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}e.adler=t.check=n5(d),d=0,f=0,t.mode=y0;case y0:if(t.havedict===0)return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,sG;e.adler=t.check=1,t.mode=Tc;case Tc:if(r===aG||r===ig)break e;case xw:if(t.last){d>>>=f&7,f-=f&7,t.mode=ww;break}for(;f<3;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}switch(t.last=d&1,d>>>=1,f-=1,d&3){case 0:t.mode=zB;break;case 1:if(fG(t),t.mode=og,r===ig){d>>>=2,f-=2;break e}break;case 2:t.mode=WB;break;case 3:e.msg="invalid block type",t.mode=an}d>>>=2,f-=2;break;case zB:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",t.mode=an;break}if(t.length=d&65535,d=0,f=0,t.mode=vw,r===ig)break e;case vw:t.mode=qB;case qB:if(p=t.length,p){if(p>l&&(p=l),p>A&&(p=A),p===0)break e;s.set(a.subarray(i,i+p),o),l-=p,i+=p,A-=p,o+=p,t.length-=p;break}t.mode=Tc;break;case WB:for(;f<14;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.nlen=(d&31)+257,d>>>=5,f-=5,t.ndist=(d&31)+1,d>>>=5,f-=5,t.ncode=(d&15)+4,d>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=an;break}t.have=0,t.mode=GB;case GB:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.lens[K[t.have++]]=d&7,d>>>=3,f-=3}for(;t.have<19;)t.lens[K[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,W={bits:t.lenbits},I=tm(rG,t.lens,0,19,t.lencode,0,t.work,W),t.lenbits=W.bits,I){e.msg="invalid code lengths set",t.mode=an;break}t.have=0,t.mode=YB;case YB:for(;t.have<t.nlen+t.ndist;){for(;b=t.lencode[d&(1<<t.lenbits)-1],N=b>>>24,B=b>>>16&255,S=b&65535,!(N<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(S<16)d>>>=N,f-=N,t.lens[t.have++]=S;else{if(S===16){for(Q=N+2;f<Q;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(d>>>=N,f-=N,t.have===0){e.msg="invalid bit length repeat",t.mode=an;break}U=t.lens[t.have-1],p=3+(d&3),d>>>=2,f-=2}else if(S===17){for(Q=N+3;f<Q;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=N,f-=N,U=0,p=3+(d&7),d>>>=3,f-=3}else{for(Q=N+7;f<Q;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=N,f-=N,U=0,p=11+(d&127),d>>>=7,f-=7}if(t.have+p>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=an;break}for(;p--;)t.lens[t.have++]=U}}if(t.mode===an)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=an;break}if(t.lenbits=9,W={bits:t.lenbits},I=tm(N3,t.lens,0,t.nlen,t.lencode,0,t.work,W),t.lenbits=W.bits,I){e.msg="invalid literal/lengths set",t.mode=an;break}if(t.distbits=6,t.distcode=t.distdyn,W={bits:t.distbits},I=tm(j3,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,W),t.distbits=W.bits,I){e.msg="invalid distances set",t.mode=an;break}if(t.mode=og,r===ig)break e;case og:t.mode=lg;case lg:if(l>=6&&A>=258){e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,YW(e,m),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=t.hold,f=t.bits,t.mode===Tc&&(t.back=-1);break}for(t.back=0;b=t.lencode[d&(1<<t.lenbits)-1],N=b>>>24,B=b>>>16&255,S=b&65535,!(N<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(B&&(B&240)===0){for(F=N,L=B,M=S;b=t.lencode[M+((d&(1<<F+L)-1)>>F)],N=b>>>24,B=b>>>16&255,S=b&65535,!(F+N<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=F,f-=F,t.back+=F}if(d>>>=N,f-=N,t.back+=N,t.length=S,B===0){t.mode=t5;break}if(B&32){t.back=-1,t.mode=Tc;break}if(B&64){e.msg="invalid literal/length code",t.mode=an;break}t.extra=B&15,t.mode=XB;case XB:if(t.extra){for(Q=t.extra;f<Q;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=JB;case JB:for(;b=t.distcode[d&(1<<t.distbits)-1],N=b>>>24,B=b>>>16&255,S=b&65535,!(N<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if((B&240)===0){for(F=N,L=B,M=S;b=t.distcode[M+((d&(1<<F+L)-1)>>F)],N=b>>>24,B=b>>>16&255,S=b&65535,!(F+N<=f);){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}d>>>=F,f-=F,t.back+=F}if(d>>>=N,f-=N,t.back+=N,B&64){e.msg="invalid distance code",t.mode=an;break}t.offset=S,t.extra=B&15,t.mode=ZB;case ZB:if(t.extra){for(Q=t.extra;f<Q;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=an;break}t.mode=e5;case e5:if(A===0)break e;if(p=m-A,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=an;break}p>t.wnext?(p-=t.wnext,x=t.wsize-p):x=t.wnext-p,p>t.length&&(p=t.length),v=t.window}else v=s,x=o-t.offset,p=t.length;p>A&&(p=A),A-=p,t.length-=p;do s[o++]=v[x++];while(--p);t.length===0&&(t.mode=lg);break;case t5:if(A===0)break e;s[o++]=t.length,A--,t.mode=lg;break;case ww:if(t.wrap){for(;f<32;){if(l===0)break e;l--,d|=a[i++]<<f,f+=8}if(m-=A,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?Ul(t.check,s,m,o-m):z1(t.check,s,m,o-m)),m=A,t.wrap&4&&(t.flags?d:n5(d))!==t.check){e.msg="incorrect data check",t.mode=an;break}d=0,f=0}t.mode=r5;case r5:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,d+=a[i++]<<f,f+=8}if(t.wrap&4&&d!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=an;break}d=0,f=0}t.mode=a5;case a5:I=nG;break e;case an:I=B3;break e;case S3:return C3;case E3:default:return Do}return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,t.hold=d,t.bits=f,(t.wsize||m!==e.avail_out&&t.mode<an&&(t.mode<ww||r!==IB))&&U3(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,t.total+=m,t.wrap&4&&m&&(e.adler=t.check=t.flags?Ul(t.check,s,m,e.next_out-m):z1(t.check,s,m,e.next_out-m)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Tc?128:0)+(t.mode===og||t.mode===vw?256:0),(h===0&&m===0||r===IB)&&I===gu&&(I=iG),I},mG=e=>{if(Nu(e))return Do;let r=e.state;return r.window&&(r.window=null),e.state=null,gu},pG=(e,r)=>{if(Nu(e))return Do;const t=e.state;return(t.wrap&2)===0?Do:(t.head=r,r.done=!1,gu)},gG=(e,r)=>{const t=r.length;let a,s,i;return Nu(e)||(a=e.state,a.wrap!==0&&a.mode!==y0)?Do:a.mode===y0&&(s=1,s=z1(s,r,t,0),s!==a.check)?B3:(i=U3(e,r,t,t),i?(a.mode=S3,C3):(a.havedict=1,gu))};var xG=F3,vG=k3,wG=_3,yG=uG,bG=D3,NG=hG,jG=mG,BG=pG,CG=gG,SG="pako inflate (from Nodeca project)",Mc={inflateReset:xG,inflateReset2:vG,inflateResetKeep:wG,inflateInit:yG,inflateInit2:bG,inflate:NG,inflateEnd:jG,inflateGetHeader:BG,inflateSetDictionary:CG,inflateInfo:SG};function EG(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _G=EG;const L3=Object.prototype.toString,{Z_NO_FLUSH:FG,Z_FINISH:kG,Z_OK:gm,Z_STREAM_END:Nw,Z_NEED_DICT:jw,Z_STREAM_ERROR:DG,Z_DATA_ERROR:i5,Z_MEM_ERROR:UG}=w3;function Tm(e){this.options=y3.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WW,this.strm.avail_out=0;let t=Mc.inflateInit2(this.strm,r.windowBits);if(t!==gm)throw new Error(q1[t]);if(this.header=new _G,Mc.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=W1.string2buf(r.dictionary):L3.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(t=Mc.inflateSetDictionary(this.strm,r.dictionary),t!==gm)))throw new Error(q1[t])}Tm.prototype.push=function(e,r){const t=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?kG:FG,L3.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(a),t.next_out=0,t.avail_out=a),i=Mc.inflate(t,o),i===jw&&s&&(i=Mc.inflateSetDictionary(t,s),i===gm?i=Mc.inflate(t,o):i===i5&&(i=jw));t.avail_in>0&&i===Nw&&t.state.wrap>0&&e[t.next_in]!==0;)Mc.inflateReset(t),i=Mc.inflate(t,o);switch(i){case DG:case i5:case jw:case UG:return this.onEnd(i),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||i===Nw))if(this.options.to==="string"){let A=W1.utf8border(t.output,t.next_out),d=t.next_out-A,f=W1.buf2string(t.output,A);t.next_out=d,t.avail_out=a-d,d&&t.output.set(t.output.subarray(A,A+d),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===gm&&l===0)){if(i===Nw)return i=Mc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Tm.prototype.onData=function(e){this.chunks.push(e)};Tm.prototype.onEnd=function(e){e===gm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y3.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function LG(e,r){const t=new Tm(r);if(t.push(e),t.err)throw t.msg||q1[t.err];return t.result}var IG=Tm,PG=LG,QG={Inflate:IG,inflate:PG};const{Inflate:RG,inflate:TG}=QG;var o5=RG,MG=TG;const I3=[];for(let e=0;e<256;e++){let r=e;for(let t=0;t<8;t++)r&1?r=3988292384^r>>>1:r=r>>>1;I3[e]=r}const l5=4294967295;function OG(e,r,t){let a=e;for(let s=0;s<t;s++)a=I3[(a^r[s])&255]^a>>>8;return a}function HG(e,r){return(OG(l5,e,r)^l5)>>>0}function c5(e,r,t){const a=e.readUint32(),s=HG(new Uint8Array(e.buffer,e.byteOffset+e.offset-r-4,r),r);if(s!==a)throw new Error(`CRC mismatch for chunk ${t}. Expected ${a}, found ${s}`)}function P3(e,r,t){for(let a=0;a<t;a++)r[a]=e[a]}function Q3(e,r,t,a){let s=0;for(;s<a;s++)r[s]=e[s];for(;s<t;s++)r[s]=e[s]+r[s-a]&255}function R3(e,r,t,a){let s=0;if(t.length===0)for(;s<a;s++)r[s]=e[s];else for(;s<a;s++)r[s]=e[s]+t[s]&255}function T3(e,r,t,a,s){let i=0;if(t.length===0){for(;i<s;i++)r[i]=e[i];for(;i<a;i++)r[i]=e[i]+(r[i-s]>>1)&255}else{for(;i<s;i++)r[i]=e[i]+(t[i]>>1)&255;for(;i<a;i++)r[i]=e[i]+(r[i-s]+t[i]>>1)&255}}function M3(e,r,t,a,s){let i=0;if(t.length===0){for(;i<s;i++)r[i]=e[i];for(;i<a;i++)r[i]=e[i]+r[i-s]&255}else{for(;i<s;i++)r[i]=e[i]+t[i]&255;for(;i<a;i++)r[i]=e[i]+KG(r[i-s],t[i],t[i-s])&255}}function KG(e,r,t){const a=e+r-t,s=Math.abs(a-e),i=Math.abs(a-r),o=Math.abs(a-t);return s<=i&&s<=o?e:i<=o?r:t}function $G(e,r,t,a,s,i){switch(e){case 0:P3(r,t,s);break;case 1:Q3(r,t,s,i);break;case 2:R3(r,t,a,s);break;case 3:T3(r,t,a,s,i);break;case 4:M3(r,t,a,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const VG=new Uint16Array([255]),zG=new Uint8Array(VG.buffer),qG=zG[0]===255;function WG(e){const{data:r,width:t,height:a,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,A=new Uint8Array(a*t*l);let d=0;for(let f=0;f<7;f++){const h=o[f],m=Math.ceil((t-h.x)/h.xStep),p=Math.ceil((a-h.y)/h.yStep);if(m<=0||p<=0)continue;const x=m*l,v=new Uint8Array(x);for(let b=0;b<p;b++){const N=r[d++],B=r.subarray(d,d+x);d+=x;const S=new Uint8Array(x);$G(N,B,S,v,x,l),v.set(S);for(let F=0;F<m;F++){const L=h.x+F*h.xStep,M=h.y+b*h.yStep;if(!(L>=t||M>=a))for(let U=0;U<l;U++)A[(M*t+L)*l+U]=S[F*l+U]}}}if(i===16){const f=new Uint16Array(A.buffer);if(qG)for(let h=0;h<f.length;h++)f[h]=GG(f[h]);return f}else return A}function GG(e){return(e&255)<<8|e>>8&255}const YG=new Uint16Array([255]),XG=new Uint8Array(YG.buffer),JG=XG[0]===255,ZG=new Uint8Array(0);function A5(e){const{data:r,width:t,height:a,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*t),A=new Uint8Array(a*l);let d=ZG,f=0,h,m;for(let p=0;p<a;p++){switch(h=r.subarray(f+1,f+1+l),m=A.subarray(p*l,(p+1)*l),r[f]){case 0:P3(h,m,l);break;case 1:Q3(h,m,l,o);break;case 2:R3(h,m,d,l);break;case 3:T3(h,m,d,l,o);break;case 4:M3(h,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${r[f]}`)}d=m,f+=l+1}if(i===16){const p=new Uint16Array(A.buffer);if(JG)for(let x=0;x<p.length;x++)p[x]=eY(p[x]);return p}else return A}function eY(e){return(e&255)<<8|e>>8&255}const Ig=Uint8Array.of(137,80,78,71,13,10,26,10);function d5(e){if(!tY(e.readBytes(Ig.length)))throw new Error("wrong PNG signature")}function tY(e){if(e.length<Ig.length)return!1;for(let r=0;r<Ig.length;r++)if(e[r]!==Ig[r])return!1;return!0}const rY="tEXt",aY=0,O3=new TextDecoder("latin1");function nY(e){if(iY(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const sY=/^[\u0000-\u00FF]*$/;function iY(e){if(!sY.test(e))throw new Error("invalid latin1 text")}function oY(e,r,t){const a=H3(r);e[a]=lY(r,t-a.length-1)}function H3(e){for(e.mark();e.readByte()!==aY;);const r=e.offset;e.reset();const t=O3.decode(e.readBytes(r-e.offset-1));return e.skip(1),nY(t),t}function lY(e,r){return O3.decode(e.readBytes(r))}const Ji={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Bw={UNKNOWN:-1,DEFLATE:0},u5={UNKNOWN:-1,ADAPTIVE:0},Cw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},cg={NONE:0,BACKGROUND:1,PREVIOUS:2},Sw={SOURCE:0,OVER:1};class cY extends fb{constructor(t,a={}){super(t);ft(this,"_checkCrc");ft(this,"_inflator");ft(this,"_png");ft(this,"_apng");ft(this,"_end");ft(this,"_hasPalette");ft(this,"_palette");ft(this,"_hasTransparency");ft(this,"_transparency");ft(this,"_compressionMethod");ft(this,"_filterMethod");ft(this,"_interlaceMethod");ft(this,"_colorType");ft(this,"_isAnimated");ft(this,"_numberOfFrames");ft(this,"_numberOfPlays");ft(this,"_frames");ft(this,"_writingDataChunks");const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new o5,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Bw.UNKNOWN,this._filterMethod=u5.UNKNOWN,this._interlaceMethod=Cw.UNKNOWN,this._colorType=Ji.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(d5(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeChunk(t,a)}return this.decodeImage(),this._png}decodeApng(){for(d5(this);!this._end;){const t=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(t,a)}return this.decodeApngImage(),this._apng}decodeChunk(t,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case rY:oY(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?c5(this,t+4,a):this.skip(4)}decodeApngChunk(t,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,a),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?c5(this,t+4,a):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=AY(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case Ji.GREYSCALE:s=1;break;case Ji.TRUECOLOUR:s=3;break;case Ji.INDEXED_COLOUR:s=1;break;case Ji.GREYSCALE_ALPHA:s=2;break;case Ji.TRUECOLOUR_ALPHA:s=4;break;case Ji.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Bw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const a=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<a;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const a=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let a=t,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Ji.GREYSCALE:case Ji.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let a=0;a<t/2;a++)this._transparency[a]=this.readUint16();break}case Ji.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let a=0;for(;a<t;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case Ji.UNKNOWN:case Ji.GREYSCALE_ALPHA:case Ji.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const a=H3(this),s=this.readUint8();if(s!==Bw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(t-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:MG(i)}}decodepHYs(){const t=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const a={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=A5({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(s,i,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(t,a,s){switch(t.disposeOp){case cg.NONE:break;case cg.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*t.width+o)*this._png.channels;for(let A=0;A<this._png.channels;A++)s.data[l+A]=0}break;case cg.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,a){const s=1<<this._png.depth,i=(o,l)=>{const A=((o+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,d=(o*a.width+l)*this._png.channels;return{index:A,frameIndex:d}};switch(a.blendOp){case Sw.SOURCE:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:A,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++)t.data[A+f]=a.data[d+f]}break;case Sw.OVER:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:A,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++){const h=a.data[d+this._png.channels-1]/s,m=f%(this._png.channels-1)===0?1:a.data[d+f],p=Math.floor(h*m+(1-h)*t.data[A+f]);t.data[A+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==u5.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Cw.NO_INTERLACE)this._png.data=A5({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Cw.ADAM7)this._png.data=WG({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,a=this._frames.at(-1);a?a.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:cg.NONE,blendOp:Sw.SOURCE,data:t}),this._inflator=new o5,this._writingDataChunks=!1}}function AY(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var f5;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(f5||(f5={}));function dY(e,r){return new cY(e,r).decode()}var Br=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Ew(){Br.console&&typeof Br.console.log=="function"&&Br.console.log.apply(Br.console,arguments)}var Qa={log:Ew,warn:function(e){Br.console&&(typeof Br.console.warn=="function"?Br.console.warn.apply(Br.console,arguments):Ew.call(null,arguments))},error:function(e){Br.console&&(typeof Br.console.error=="function"?Br.console.error.apply(Br.console,arguments):Ew(e))}};function _w(e,r,t){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){qd(a.response,r,t)},a.onerror=function(){Qa.error("could not download file")},a.send()}function h5(e){var r=new XMLHttpRequest;r.open("HEAD",e,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function Ag(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}var qd=Br.saveAs||((typeof window>"u"?"undefined":_a(window))!=="object"||window!==Br?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,r,t){var a=Br.URL||Br.webkitURL,s=document.createElement("a");r=r||e.name||"download",s.download=r,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?h5(s.href)?_w(e,r,t):Ag(s,s.target="_blank"):Ag(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){Ag(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,t){if(r=r||e.name||"download",typeof e=="string")if(h5(e))_w(e,r,t);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){Ag(a)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:_a(i)!=="object"&&(Qa.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,t),r)}:function(e,r,t,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return _w(e,r,t);var s=e.type==="application/octet-stream",i=/constructor/i.test(Br.HTMLElement)||Br.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":_a(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=f:location=f,a=null},l.readAsDataURL(e)}else{var A=Br.URL||Br.webkitURL,d=A.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){A.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function K3(e){var r;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<t.length;a++){var s=t[a].re,i=t[a].process,o=s.exec(e);o&&(r=i(o),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),A=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),d.length==1&&(d="0"+d),"#"+l+A+d}}var Pg=Br.atob.bind(Br),m5=Br.btoa.bind(Br);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Fw(e,r){var t=e[0],a=e[1],s=e[2],i=e[3];t=Ks(t,a,s,i,r[0],7,-680876936),i=Ks(i,t,a,s,r[1],12,-389564586),s=Ks(s,i,t,a,r[2],17,606105819),a=Ks(a,s,i,t,r[3],22,-1044525330),t=Ks(t,a,s,i,r[4],7,-176418897),i=Ks(i,t,a,s,r[5],12,1200080426),s=Ks(s,i,t,a,r[6],17,-1473231341),a=Ks(a,s,i,t,r[7],22,-45705983),t=Ks(t,a,s,i,r[8],7,1770035416),i=Ks(i,t,a,s,r[9],12,-1958414417),s=Ks(s,i,t,a,r[10],17,-42063),a=Ks(a,s,i,t,r[11],22,-1990404162),t=Ks(t,a,s,i,r[12],7,1804603682),i=Ks(i,t,a,s,r[13],12,-40341101),s=Ks(s,i,t,a,r[14],17,-1502002290),t=$s(t,a=Ks(a,s,i,t,r[15],22,1236535329),s,i,r[1],5,-165796510),i=$s(i,t,a,s,r[6],9,-1069501632),s=$s(s,i,t,a,r[11],14,643717713),a=$s(a,s,i,t,r[0],20,-373897302),t=$s(t,a,s,i,r[5],5,-701558691),i=$s(i,t,a,s,r[10],9,38016083),s=$s(s,i,t,a,r[15],14,-660478335),a=$s(a,s,i,t,r[4],20,-405537848),t=$s(t,a,s,i,r[9],5,568446438),i=$s(i,t,a,s,r[14],9,-1019803690),s=$s(s,i,t,a,r[3],14,-187363961),a=$s(a,s,i,t,r[8],20,1163531501),t=$s(t,a,s,i,r[13],5,-1444681467),i=$s(i,t,a,s,r[2],9,-51403784),s=$s(s,i,t,a,r[7],14,1735328473),t=Vs(t,a=$s(a,s,i,t,r[12],20,-1926607734),s,i,r[5],4,-378558),i=Vs(i,t,a,s,r[8],11,-2022574463),s=Vs(s,i,t,a,r[11],16,1839030562),a=Vs(a,s,i,t,r[14],23,-35309556),t=Vs(t,a,s,i,r[1],4,-1530992060),i=Vs(i,t,a,s,r[4],11,1272893353),s=Vs(s,i,t,a,r[7],16,-155497632),a=Vs(a,s,i,t,r[10],23,-1094730640),t=Vs(t,a,s,i,r[13],4,681279174),i=Vs(i,t,a,s,r[0],11,-358537222),s=Vs(s,i,t,a,r[3],16,-722521979),a=Vs(a,s,i,t,r[6],23,76029189),t=Vs(t,a,s,i,r[9],4,-640364487),i=Vs(i,t,a,s,r[12],11,-421815835),s=Vs(s,i,t,a,r[15],16,530742520),t=zs(t,a=Vs(a,s,i,t,r[2],23,-995338651),s,i,r[0],6,-198630844),i=zs(i,t,a,s,r[7],10,1126891415),s=zs(s,i,t,a,r[14],15,-1416354905),a=zs(a,s,i,t,r[5],21,-57434055),t=zs(t,a,s,i,r[12],6,1700485571),i=zs(i,t,a,s,r[3],10,-1894986606),s=zs(s,i,t,a,r[10],15,-1051523),a=zs(a,s,i,t,r[1],21,-2054922799),t=zs(t,a,s,i,r[8],6,1873313359),i=zs(i,t,a,s,r[15],10,-30611744),s=zs(s,i,t,a,r[6],15,-1560198380),a=zs(a,s,i,t,r[13],21,1309151649),t=zs(t,a,s,i,r[4],6,-145523070),i=zs(i,t,a,s,r[11],10,-1120210379),s=zs(s,i,t,a,r[2],15,718787259),a=zs(a,s,i,t,r[9],21,-343485551),e[0]=YA(t,e[0]),e[1]=YA(a,e[1]),e[2]=YA(s,e[2]),e[3]=YA(i,e[3])}function Nx(e,r,t,a,s,i){return r=YA(YA(r,e),YA(a,i)),YA(r<<s|r>>>32-s,t)}function Ks(e,r,t,a,s,i,o){return Nx(r&t|~r&a,e,r,s,i,o)}function $s(e,r,t,a,s,i,o){return Nx(r&a|t&~a,e,r,s,i,o)}function Vs(e,r,t,a,s,i,o){return Nx(r^t^a,e,r,s,i,o)}function zs(e,r,t,a,s,i,o){return Nx(t^(r|~a),e,r,s,i,o)}function $3(e){var r,t=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=e.length;r+=64)Fw(a,uY(e.substring(r-64,r)));e=e.substring(r-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)s[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(Fw(a,s),r=0;r<16;r++)s[r]=0;return s[14]=8*t,Fw(a,s),a}function uY(e){var r,t=[];for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}var p5="0123456789abcdef".split("");function fY(e){for(var r="",t=0;t<4;t++)r+=p5[e>>8*t+4&15]+p5[e>>8*t&15];return r}function hY(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function G1(e){return $3(e).map(hY).join("")}var mY=(function(e){for(var r=0;r<e.length;r++)e[r]=fY(e[r]);return e.join("")})($3("hello"))!="5d41402abc4b2a76b9719d911017c592";function YA(e,r){if(mY){var t=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(t>>16)<<16|65535&t}return e+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Y1(e,r){var t,a,s,i;if(e!==t){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],A=0;A<256;A++)l[A]=A;var d=0;for(A=0;A<256;A++){var f=l[A];d=(d+f+o.charCodeAt(A))%256,l[A]=l[d],l[d]=f}t=e,a=l}else l=a;var h=r.length,m=0,p=0,x="";for(A=0;A<h;A++)p=(p+(f=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=f,o=l[(l[m]+l[p])%256],x+=String.fromCharCode(r.charCodeAt(A)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var g5={print:4,modify:8,copy:16,"annot-forms":32};function vf(e,r,t,a){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(g5.perm!==void 0)throw new Error("Invalid permission: "+l);s+=g5[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(r+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=G1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Y1(this.encryptionKey,this.padding)}function wf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var r="",t=e.length,a=0;a<t;a++){var s=e.charCodeAt(a);r+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return r}function x5(e){if(_a(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(t,a,s){if(s=s||!1,typeof t!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(t)||(r[t]={});var i=Math.random().toString(35);return r[t][i]=[a,!!s],i},this.unsubscribe=function(t){for(var a in r)if(r[a][t])return delete r[a][t],Object.keys(r[a]).length===0&&delete r[a],!0;return!1},this.publish=function(t){if(r.hasOwnProperty(t)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in r[t]){var o=r[t][i];try{o[0].apply(e,a)}catch(l){Br.console&&Qa.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function b0(e){if(!(this instanceof b0))return new b0(e);var r="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&r.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function V3(e,r){this.gState=e,this.matrix=r,this.id="",this.objectNumber=-1}function Gd(e,r,t,a,s){if(!(this instanceof Gd))return new Gd(e,r,t,a,s);this.type=e==="axial"?2:3,this.coords=r,this.colors=t,V3.call(this,a,s)}function bf(e,r,t,a,s){if(!(this instanceof bf))return new bf(e,r,t,a,s);this.boundingBox=e,this.xStep=r,this.yStep=t,this.stream="",this.cloneIndex=0,V3.call(this,a,s)}function nr(e){var r,t=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,A=16,d="S",f=null;_a(e=e||{})==="object"&&(t=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(r=e.precision),e.floatPrecision!==void 0&&(A=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",t=(""+(t||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=x5;var x="1.3",v=p.__private__.getPdfVersion=function(){return x};p.__private__.setPdfVersion=function(k){x=k};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var N=p.__private__.getPageFormat=function(k){return b[k]};s=s||"a4";var B="compat",S="advanced",F=B;function L(){this.saveGraphicsState(),de(new Ct(Bt,0,0,-Bt,0,yi()*Bt).toString()+" cm"),this.setFontSize(this.getFontSize()/Bt),d="n",F=S}function M(){this.restoreGraphicsState(),d="S",F=B}var U=p.__private__.combineFontStyleAndFontWeight=function(k,te){if(k=="bold"&&te=="normal"||k=="bold"&&te==400||k=="normal"&&te=="italic"||k=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(k=te==400||te==="normal"?k==="italic"?"italic":"normal":te!=700&&te!=="bold"||k!=="normal"?(te==700?"bold":te)+""+k:"bold"),k};p.advancedAPI=function(k){var te=F===B;return te&&L.call(this),typeof k!="function"||(k(this),te&&M.call(this)),this},p.compatAPI=function(k){var te=F===S;return te&&M.call(this),typeof k!="function"||(k(this),te&&L.call(this)),this},p.isAdvancedAPI=function(){return F===S};var I,_=function(k){if(F!==S)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=p.roundToPrecision=p.__private__.roundToPrecision=function(k,te){var me=r||te;if(isNaN(k)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(me).replace(/0+$/,"")};I=p.hpf=p.__private__.hpf=typeof A=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return W(k,A)}:A==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return W(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return W(k,16)};var Q=p.f2=p.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return W(k,2)},K=p.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return W(k,3)},X=p.scale=p.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return F===B?k*Bt:F===S?k:void 0},R=function(k){return X((function(te){return F===B?yi()-te:F===S?te:void 0})(k))};p.__private__.setPrecision=p.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(r=parseInt(k,10))};var re,$="00000000000000000000000000000000",V=p.__private__.getFileId=function(){return $},Z=p.__private__.setFileId=function(k){return $=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(nn=new vf(f.userPermissions,f.userPassword,f.ownerPassword,$)),$};p.setFileId=function(k){return Z(k),this},p.getFileId=function(){return V()};var ie=p.__private__.convertDateToPDFDate=function(k){var te=k.getTimezoneOffset(),me=te<0?"+":"-",we=Math.floor(Math.abs(te/60)),Ce=Math.abs(te%60),Ye=[me,z(we),"'",z(Ce),"'"].join("");return["D:",k.getFullYear(),z(k.getMonth()+1),z(k.getDate()),z(k.getHours()),z(k.getMinutes()),z(k.getSeconds()),Ye].join("")},ue=p.__private__.convertPDFDateToDate=function(k){var te=parseInt(k.substr(2,4),10),me=parseInt(k.substr(6,2),10)-1,we=parseInt(k.substr(8,2),10),Ce=parseInt(k.substr(10,2),10),Ye=parseInt(k.substr(12,2),10),nt=parseInt(k.substr(14,2),10);return new Date(te,me,we,Ce,Ye,nt,0)},E=p.__private__.setCreationDate=function(k){var te;if(k===void 0&&(k=new Date),k instanceof Date)te=ie(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=k}return re=te},P=p.__private__.getCreationDate=function(k){var te=re;return k==="jsDate"&&(te=ue(re)),te};p.setCreationDate=function(k){return E(k),this},p.getCreationDate=function(k){return P(k)};var Y,z=p.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},J=p.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},q=0,G=[],ne=[],ce=0,pe=[],ve=[],Pe=!1,ke=ne;p.__private__.setCustomOutputDestination=function(k){Pe=!0,ke=k};var xe=function(k){Pe||(ke=k)};p.__private__.resetCustomOutputDestination=function(){Pe=!1,ke=ne};var de=p.__private__.out=function(k){return k=k.toString(),ce+=k.length+1,ke.push(k),ke},wt=p.__private__.write=function(k){return de(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},bt=p.__private__.getArrayBuffer=function(k){for(var te=k.length,me=new ArrayBuffer(te),we=new Uint8Array(me);te--;)we[te]=k.charCodeAt(te);return me},mt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return mt};var qe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(k){return qe=F===S?k/Bt:k,this};var dt,ut=p.__private__.getFontSize=p.getFontSize=function(){return F===B?qe:qe*Bt},er=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(k){return er=k,this},p.__private__.getR2L=p.getR2L=function(){return er};var We,Xt=p.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))dt=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');dt=k}else dt=parseInt(k,10)};p.__private__.getZoomMode=function(){return dt};var Vt,Et=p.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');We=k};p.__private__.getPageMode=function(){return We};var Pr=p.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Vt=k};p.__private__.getLayoutMode=function(){return Vt},p.__private__.setDisplayMode=p.setDisplayMode=function(k,te,me){return Xt(k),Pr(te),Et(me),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(k){if(Object.keys(_t).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[k]},p.__private__.getDocumentProperties=function(){return _t},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(k){for(var te in _t)_t.hasOwnProperty(te)&&k[te]&&(_t[te]=k[te]);return this},p.__private__.setDocumentProperty=function(k,te){if(Object.keys(_t).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[k]=te};var It,Bt,Nt,Wt,Er,Ft={},xr={},it=[],$e={},lt={},St={},pt={},kt=null,Qe=0,Xe=[],gt=new x5(p),Mt=e.hotfixes||[],Gt={},ir={},et=[],Ct=function k(te,me,we,Ce,Ye,nt){if(!(this instanceof k))return new k(te,me,we,Ce,Ye,nt);isNaN(te)&&(te=1),isNaN(me)&&(me=0),isNaN(we)&&(we=0),isNaN(Ce)&&(Ce=1),isNaN(Ye)&&(Ye=0),isNaN(nt)&&(nt=0),this._matrix=[te,me,we,Ce,Ye,nt]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(k)},Ct.prototype.multiply=function(k){var te=k.sx*this.sx+k.shy*this.shx,me=k.sx*this.shy+k.shy*this.sy,we=k.shx*this.sx+k.sy*this.shx,Ce=k.shx*this.shy+k.sy*this.sy,Ye=k.tx*this.sx+k.ty*this.shx+this.tx,nt=k.tx*this.shy+k.ty*this.sy+this.ty;return new Ct(te,me,we,Ce,Ye,nt)},Ct.prototype.decompose=function(){var k=this.sx,te=this.shy,me=this.shx,we=this.sy,Ce=this.tx,Ye=this.ty,nt=Math.sqrt(k*k+te*te),Ht=(k/=nt)*me+(te/=nt)*we;me-=k*Ht,we-=te*Ht;var Jt=Math.sqrt(me*me+we*we);return Ht/=Jt,k*(we/=Jt)<te*(me/=Jt)&&(k=-k,te=-te,Ht=-Ht,nt=-nt),{scale:new Ct(nt,0,0,Jt,0,0),translate:new Ct(1,0,0,1,Ce,Ye),rotate:new Ct(k,te,-te,k,0,0),skew:new Ct(1,0,Ht,1,0,0)}},Ct.prototype.toString=function(k){return this.join(" ")},Ct.prototype.inversed=function(){var k=this.sx,te=this.shy,me=this.shx,we=this.sy,Ce=this.tx,Ye=this.ty,nt=1/(k*we-te*me),Ht=we*nt,Jt=-te*nt,wr=-me*nt,yr=k*nt;return new Ct(Ht,Jt,wr,yr,-Ht*Ce-wr*Ye,-Jt*Ce-yr*Ye)},Ct.prototype.applyToPoint=function(k){var te=k.x*this.sx+k.y*this.shx+this.tx,me=k.x*this.shy+k.y*this.sy+this.ty;return new uo(te,me)},Ct.prototype.applyToRectangle=function(k){var te=this.applyToPoint(k),me=this.applyToPoint(new uo(k.x+k.w,k.y+k.h));return new uc(te.x,te.y,me.x-te.x,me.y-te.y)},Ct.prototype.clone=function(){var k=this.sx,te=this.shy,me=this.shx,we=this.sy,Ce=this.tx,Ye=this.ty;return new Ct(k,te,me,we,Ce,Ye)},p.Matrix=Ct;var or=p.matrixMult=function(k,te){return te.multiply(k)},mr=new Ct(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=mr;var lr=function(k,te){if(!lt[k]){var me=(te instanceof Gd?"Sh":"P")+(Object.keys($e).length+1).toString(10);te.id=me,lt[k]=me,$e[me]=te,gt.publish("addPattern",te)}};p.ShadingPattern=Gd,p.TilingPattern=bf,p.addShadingPattern=function(k,te){return _("addShadingPattern()"),lr(k,te),this},p.beginTilingPattern=function(k){_("beginTilingPattern()"),xi(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},p.endTilingPattern=function(k,te){_("endTilingPattern()"),te.stream=ve[Y].join(`
`),lr(k,te),gt.publish("endTilingPattern",te),et.pop().restore()};var Cr,cr=p.__private__.newObject=function(){var k=Kr();return ar(k,!0),k},Kr=p.__private__.newObjectDeferred=function(){return q++,G[q]=function(){return ce},q},ar=function(k,te){return te=typeof te=="boolean"&&te,G[k]=ce,te&&de(k+" 0 obj"),k},Jr=p.__private__.newAdditionalObject=function(){var k={objId:Kr(),content:""};return pe.push(k),k},Va=Kr(),Zr=Kr(),Sn=p.__private__.decodeColorString=function(k){var te=k.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length!==5||te[4]!=="k"&&te[4]!=="K"||(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var me=parseFloat(te[0]);te=[me,me,me,"r"]}for(var we="#",Ce=0;Ce<3;Ce++)we+=("0"+Math.floor(255*parseFloat(te[Ce])).toString(16)).slice(-2);return we},hn=p.__private__.encodeColorString=function(k){var te;typeof k=="string"&&(k={ch1:k});var me=k.ch1,we=k.ch2,Ce=k.ch3,Ye=k.ch4,nt=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var Ht=new K3(me);if(Ht.ok)me=Ht.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Jt=parseInt(me.substr(1),16);me=Jt>>16&255,we=Jt>>8&255,Ce=255&Jt}if(we===void 0||Ye===void 0&&me===we&&we===Ce)te=typeof me=="string"?me+" "+nt[0]:k.precision===2?Q(me/255)+" "+nt[0]:K(me/255)+" "+nt[0];else if(Ye===void 0||_a(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",nt[1]].join(" ");te=typeof me=="string"?[me,we,Ce,nt[1]].join(" "):k.precision===2?[Q(me/255),Q(we/255),Q(Ce/255),nt[1]].join(" "):[K(me/255),K(we/255),K(Ce/255),nt[1]].join(" ")}else te=typeof me=="string"?[me,we,Ce,Ye,nt[2]].join(" "):k.precision===2?[Q(me),Q(we),Q(Ce),Q(Ye),nt[2]].join(" "):[K(me),K(we),K(Ce),K(Ye),nt[2]].join(" ");return te},ys=p.__private__.getFilters=function(){return o},os=p.__private__.putStream=function(k){var te=(k=k||{}).data||"",me=k.filters||ys(),we=k.alreadyAppliedFilters||[],Ce=k.addLength1||!1,Ye=te.length,nt=k.objectId,Ht=function(En){return En};if(f!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ht=nn.encryptor(nt,0));var Jt={};me===!0&&(me=["FlateEncode"]);var wr=k.additionalKeyValues||[],yr=(Jt=nr.API.processDataByFilters!==void 0?nr.API.processDataByFilters(te,me):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(Jt.data.length!==0&&(wr.push({key:"Length",value:Jt.data.length}),Ce===!0&&wr.push({key:"Length1",value:Ye})),yr.length!=0)if(yr.split("/").length-1==1)wr.push({key:"Filter",value:yr});else{wr.push({key:"Filter",value:"["+yr+"]"});for(var oa=0;oa<wr.length;oa+=1)if(wr[oa].key==="DecodeParms"){for(var za=[],gn=0;gn<Jt.reverseChain.split("/").length-1;gn+=1)za.push("null");za.push(wr[oa].value),wr[oa].value="["+za.join(" ")+"]"}}de("<<");for(var Da=0;Da<wr.length;Da++)de("/"+wr[Da].key+" "+wr[Da].value);de(">>"),Jt.data.length!==0&&(de("stream"),de(Ht(Jt.data)),de("endstream"))},so=p.__private__.putPage=function(k){var te=k.number,me=k.data,we=k.objId,Ce=k.contentsObjId;ar(we,!0),de("<</Type /Page"),de("/Parent "+k.rootDictionaryObjId+" 0 R"),de("/Resources "+k.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(I(k.mediaBox.bottomLeftX))+" "+parseFloat(I(k.mediaBox.bottomLeftY))+" "+I(k.mediaBox.topRightX)+" "+I(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&de("/CropBox ["+I(k.cropBox.bottomLeftX)+" "+I(k.cropBox.bottomLeftY)+" "+I(k.cropBox.topRightX)+" "+I(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&de("/BleedBox ["+I(k.bleedBox.bottomLeftX)+" "+I(k.bleedBox.bottomLeftY)+" "+I(k.bleedBox.topRightX)+" "+I(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&de("/TrimBox ["+I(k.trimBox.bottomLeftX)+" "+I(k.trimBox.bottomLeftY)+" "+I(k.trimBox.topRightX)+" "+I(k.trimBox.topRightY)+"]"),k.artBox!==null&&de("/ArtBox ["+I(k.artBox.bottomLeftX)+" "+I(k.artBox.bottomLeftY)+" "+I(k.artBox.topRightX)+" "+I(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&de("/UserUnit "+k.userUnit),gt.publish("putPage",{objId:we,pageContext:Xe[te],pageNumber:te,page:me}),de("/Contents "+Ce+" 0 R"),de(">>"),de("endobj");var Ye=me.join(`
`);return F===S&&(Ye+=`
Q`),ar(Ce,!0),os({data:Ye,filters:ys(),objectId:Ce}),de("endobj"),we},ks=p.__private__.putPages=function(){var k,te,me=[];for(k=1;k<=Qe;k++)Xe[k].objId=Kr(),Xe[k].contentsObjId=Kr();for(k=1;k<=Qe;k++)me.push(so({number:k,data:ve[k],objId:Xe[k].objId,contentsObjId:Xe[k].contentsObjId,mediaBox:Xe[k].mediaBox,cropBox:Xe[k].cropBox,bleedBox:Xe[k].bleedBox,trimBox:Xe[k].trimBox,artBox:Xe[k].artBox,userUnit:Xe[k].userUnit,rootDictionaryObjId:Va,resourceDictionaryObjId:Zr}));ar(Va,!0),de("<</Type /Pages");var we="/Kids [";for(te=0;te<Qe;te++)we+=me[te]+" 0 R ";de(we+"]"),de("/Count "+Qe),de(">>"),de("endobj"),gt.publish("postPutPages")},Ri=function(k){gt.publish("putFont",{font:k,out:de,newObject:cr,putStream:os}),k.isAlreadyPutted!==!0&&(k.objectNumber=cr(),de("<<"),de("/Type /Font"),de("/BaseFont /"+wf(k.postScriptName)),de("/Subtype /Type1"),typeof k.encoding=="string"&&de("/Encoding /"+k.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},io=function(k){k.objectNumber=cr();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[I(k.x),I(k.y),I(k.x+k.width),I(k.y+k.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var me=k.pages[1].join(`
`);os({data:me,additionalKeyValues:te,objectId:k.objectNumber}),de("endobj")},xt=function(k,te){te||(te=21);var me=cr(),we=(function(nt,Ht){var Jt,wr=[],yr=1/(Ht-1);for(Jt=0;Jt<1;Jt+=yr)wr.push(Jt);if(wr.push(1),nt[0].offset!=0){var oa={offset:0,color:nt[0].color};nt.unshift(oa)}if(nt[nt.length-1].offset!=1){var za={offset:1,color:nt[nt.length-1].color};nt.push(za)}for(var gn="",Da=0,En=0;En<wr.length;En++){for(Jt=wr[En];Jt>nt[Da+1].offset;)Da++;var sn=nt[Da].offset,Zn=(Jt-sn)/(nt[Da+1].offset-sn),bi=nt[Da].color,Ls=nt[Da+1].color;gn+=J(Math.round((1-Zn)*bi[0]+Zn*Ls[0]).toString(16))+J(Math.round((1-Zn)*bi[1]+Zn*Ls[1]).toString(16))+J(Math.round((1-Zn)*bi[2]+Zn*Ls[2]).toString(16))}return gn.trim()})(k.colors,te),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+te+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),os({data:we,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),de("endobj"),k.objectNumber=cr(),de("<< /ShadingType "+k.type),de("/ColorSpace /DeviceRGB");var Ye="/Coords ["+I(parseFloat(k.coords[0]))+" "+I(parseFloat(k.coords[1]))+" ";k.type===2?Ye+=I(parseFloat(k.coords[2]))+" "+I(parseFloat(k.coords[3])):Ye+=I(parseFloat(k.coords[2]))+" "+I(parseFloat(k.coords[3]))+" "+I(parseFloat(k.coords[4]))+" "+I(parseFloat(k.coords[5])),de(Ye+="]"),k.matrix&&de("/Matrix ["+k.matrix.toString()+"]"),de("/Function "+me+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},Je=function(k,te){var me=Kr(),we=cr();te.push({resourcesOid:me,objectOid:we}),k.objectNumber=we;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+k.boundingBox.map(I).join(" ")+"]"}),Ce.push({key:"XStep",value:I(k.xStep)}),Ce.push({key:"YStep",value:I(k.yStep)}),Ce.push({key:"Resources",value:me+" 0 R"}),k.matrix&&Ce.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),os({data:k.stream,additionalKeyValues:Ce,objectId:k.objectNumber}),de("endobj")},ka=function(k){for(var te in k.objectNumber=cr(),de("<<"),k)switch(te){case"opacity":de("/ca "+Q(k[te]));break;case"stroke-opacity":de("/CA "+Q(k[te]))}de(">>"),de("endobj")},ct=function(k){ar(k.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var te in de("/Font <<"),Ft)Ft.hasOwnProperty(te)&&(h===!1||h===!0&&m.hasOwnProperty(te))&&de("/"+te+" "+Ft[te].objectNumber+" 0 R");de(">>")})(),(function(){if(Object.keys($e).length>0){for(var te in de("/Shading <<"),$e)$e.hasOwnProperty(te)&&$e[te]instanceof Gd&&$e[te].objectNumber>=0&&de("/"+te+" "+$e[te].objectNumber+" 0 R");gt.publish("putShadingPatternDict"),de(">>")}})(),(function(te){if(Object.keys($e).length>0){for(var me in de("/Pattern <<"),$e)$e.hasOwnProperty(me)&&$e[me]instanceof p.TilingPattern&&$e[me].objectNumber>=0&&$e[me].objectNumber<te&&de("/"+me+" "+$e[me].objectNumber+" 0 R");gt.publish("putTilingPatternDict"),de(">>")}})(k.objectOid),(function(){if(Object.keys(St).length>0){var te;for(te in de("/ExtGState <<"),St)St.hasOwnProperty(te)&&St[te].objectNumber>=0&&de("/"+te+" "+St[te].objectNumber+" 0 R");gt.publish("putGStateDict"),de(">>")}})(),(function(){for(var te in de("/XObject <<"),Gt)Gt.hasOwnProperty(te)&&Gt[te].objectNumber>=0&&de("/"+te+" "+Gt[te].objectNumber+" 0 R");gt.publish("putXobjectDict"),de(">>")})(),de(">>"),de("endobj")},Kn=function(k){xr[k.fontName]=xr[k.fontName]||{},xr[k.fontName][k.fontStyle]=k.id},fa=function(k,te,me,we,Ce){var Ye={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:k,fontName:te,fontStyle:me,encoding:we,isStandardFont:Ce||!1,metadata:{}};return gt.publish("addFont",{font:Ye,instance:this}),Ft[Ye.id]=Ye,Kn(Ye),Ye.id},ha=p.__private__.pdfEscape=p.pdfEscape=function(k,te){return(function(me,we){var Ce,Ye,nt,Ht,Jt,wr,yr,oa,za;if(nt=(we=we||{}).sourceEncoding||"Unicode",Jt=we.outputEncoding,(we.autoencode||Jt)&&Ft[It].metadata&&Ft[It].metadata[nt]&&Ft[It].metadata[nt].encoding&&(Ht=Ft[It].metadata[nt].encoding,!Jt&&Ft[It].encoding&&(Jt=Ft[It].encoding),!Jt&&Ht.codePages&&(Jt=Ht.codePages[0]),typeof Jt=="string"&&(Jt=Ht[Jt]),Jt)){for(yr=!1,wr=[],Ce=0,Ye=me.length;Ce<Ye;Ce++)(oa=Jt[me.charCodeAt(Ce)])?wr.push(String.fromCharCode(oa)):wr.push(me[Ce]),wr[Ce].charCodeAt(0)>>8&&(yr=!0);me=wr.join("")}for(Ce=me.length;yr===void 0&&Ce!==0;)me.charCodeAt(Ce-1)>>8&&(yr=!0),Ce--;if(!yr)return me;for(wr=we.noBOM?[]:[254,255],Ce=0,Ye=me.length;Ce<Ye;Ce++){if((za=(oa=me.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wr.push(za),wr.push(oa-(za<<8))}return String.fromCharCode.apply(void 0,wr)})(k,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lr=p.__private__.beginPage=function(k){ve[++Qe]=[],Xe[Qe]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},mi(Qe),xe(ve[Y])},mn=function(k,te){var me,we,Ce;switch(t=te||t,typeof k=="string"&&(me=N(k.toLowerCase()),Array.isArray(me)&&(we=me[0],Ce=me[1])),Array.isArray(k)&&(we=k[0]*Bt,Ce=k[1]*Bt),isNaN(we)&&(we=s[0],Ce=s[1]),(we>14400||Ce>14400)&&(Qa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Ce=Math.min(14400,Ce)),s=[we,Ce],t.substr(0,1)){case"l":Ce>we&&(s=[Ce,we]);break;case"p":we>Ce&&(s=[Ce,we])}Lr(s),Ac(gi),de(dc),vd!==0&&de(vd+" J"),wd!==0&&de(wd+" j"),gt.publish("addPage",{pageNumber:Qe})},Ia=function(k){k>0&&k<=Qe&&(ve.splice(k,1),Xe.splice(k,1),Qe--,Y>Qe&&(Y=Qe),this.setPage(Y))},mi=function(k){k>0&&k<=Qe&&(Y=k)},bs=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ve.length-1},Jn=function(k,te,me){var we,Ce=void 0;return me=me||{},k=k!==void 0?k:Ft[It].fontName,te=te!==void 0?te:Ft[It].fontStyle,we=k.toLowerCase(),xr[we]!==void 0&&xr[we][te]!==void 0?Ce=xr[we][te]:xr[k]!==void 0&&xr[k][te]!==void 0?Ce=xr[k][te]:me.disableWarning===!1&&Qa.warn("Unable to look up font label for font '"+k+"', '"+te+"'. Refer to getFontList() for available fonts."),Ce||me.noFallback||(Ce=xr.times[te])==null&&(Ce=xr.times.normal),Ce},ls=p.__private__.putInfo=function(){var k=cr(),te=function(we){return we};for(var me in f!==null&&(te=nn.encryptor(k,0)),de("<<"),de("/Producer ("+ha(te("jsPDF "+nr.version))+")"),_t)_t.hasOwnProperty(me)&&_t[me]&&de("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+ha(te(_t[me]))+")");de("/CreationDate ("+ha(te(re))+")"),de(">>"),de("endobj")},eh=p.__private__.putCatalog=function(k){var te=(k=k||{}).rootDictionaryObjId||Va;switch(cr(),de("<<"),de("/Type /Catalog"),de("/Pages "+te+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+dt;me.substr(me.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&de("/OpenAction [3 0 R /XYZ null null "+Q(dt)+"]")}switch(Vt||(Vt="continuous"),Vt){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}We&&de("/PageMode /"+We),gt.publish("putCatalog"),de(">>"),de("endobj")},pn=p.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(q+1)),de("/Root "+q+" 0 R"),de("/Info "+(q-1)+" 0 R"),f!==null&&de("/Encrypt "+nn.oid+" 0 R"),de("/ID [ <"+$+"> <"+$+"> ]"),de(">>")},Bu=p.__private__.putHeader=function(){de("%PDF-"+x),de("%")},ic=p.__private__.putXRef=function(){var k="0000000000";de("xref"),de("0 "+(q+1)),de("0000000000 65535 f ");for(var te=1;te<=q;te++)typeof G[te]=="function"?de((k+G[te]()).slice(-10)+" 00000 n "):G[te]!==void 0?de((k+G[te]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},pi=p.__private__.buildDocument=function(){var k;q=0,ce=0,ne=[],G=[],pe=[],Va=Kr(),Zr=Kr(),xe(ne),gt.publish("buildDocument"),Bu(),ks(),(function(){gt.publish("putAdditionalObjects");for(var me=0;me<pe.length;me++){var we=pe[me];ar(we.objId,!0),de(we.content),de("endobj")}gt.publish("postPutAdditionalObjects")})(),k=[],(function(){for(var me in Ft)Ft.hasOwnProperty(me)&&(h===!1||h===!0&&m.hasOwnProperty(me))&&Ri(Ft[me])})(),(function(){var me;for(me in St)St.hasOwnProperty(me)&&ka(St[me])})(),(function(){for(var me in Gt)Gt.hasOwnProperty(me)&&io(Gt[me])})(),(function(me){var we;for(we in $e)$e.hasOwnProperty(we)&&($e[we]instanceof Gd?xt($e[we]):$e[we]instanceof bf&&Je($e[we],me))})(k),gt.publish("putResources"),k.forEach(ct),ct({resourcesOid:Zr,objectOid:Number.MAX_SAFE_INTEGER}),gt.publish("postPutResources"),f!==null&&(nn.oid=cr(),de("<<"),de("/Filter /Standard"),de("/V "+nn.v),de("/R "+nn.r),de("/U <"+nn.toHexString(nn.U)+">"),de("/O <"+nn.toHexString(nn.O)+">"),de("/P "+nn.P),de(">>"),de("endobj")),ls(),eh();var te=ce;return ic(),pn(),de("startxref"),de(""+te),de("%%EOF"),xe(ve[Y]),ne.join(`
`)},Ti=p.__private__.getBlob=function(k){return new Blob([bt(k)],{type:"application/pdf"})},Ds=p.output=p.__private__.output=(Cr=function(k,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",k){case void 0:return pi();case"save":p.save(te.filename);break;case"arraybuffer":return bt(pi());case"blob":return Ti(pi());case"bloburi":case"bloburl":if(Br.URL!==void 0&&typeof Br.URL.createObjectURL=="function")return Br.URL&&Br.URL.createObjectURL(Ti(pi()))||void 0;Qa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",we=pi();try{me=m5(we)}catch{me=m5(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+te.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Br)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Ce=te.pdfObjectUrl,Ye="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Ht=Br.open();return Ht!==null&&Ht.document.write(nt),Ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Br)==="[object Window]"){var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',wr=Br.open();if(wr!==null){wr.document.write(Jt);var yr=this;wr.document.documentElement.querySelector("#pdfViewer").onload=function(){wr.document.title=te.filename,wr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(yr.output("bloburl"))}}return wr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Br)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var oa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',za=Br.open();if(za!==null&&(za.document.write(oa),za.document.title=te.filename),za||typeof safari>"u")return za;break;case"datauri":case"dataurl":return Br.document.location.href=this.output("datauristring",te);default:return null}},Cr.foo=function(){try{return Cr.apply(this,arguments)}catch(me){var k=me.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var te="Error in function "+k.split(`
`)[0].split("<")[0]+": "+me.message;if(!Br.console)throw new Error(te);Br.console.error(te,me),Br.alert&&alert(te)}},Cr.foo.bar=Cr,Cr.foo),oc=function(k){return Array.isArray(Mt)===!0&&Mt.indexOf(k)>-1};switch(a){case"pt":Bt=1;break;case"mm":Bt=72/25.4;break;case"cm":Bt=72/2.54;break;case"in":Bt=72;break;case"px":Bt=oc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Bt=12;break;case"ex":Bt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Bt=a}var nn=null;E(),Z();var lc=p.__private__.getPageInfo=p.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[k].objId,pageNumber:k,pageContext:Xe[k]}},Cu=p.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Xe)if(Xe[te].objId===k)break;return lc(te)},pd=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Xe[Y].objId,pageNumber:Y,pageContext:Xe[Y]}};p.addPage=function(){return mn.apply(this,arguments),this},p.setPage=function(){return mi.apply(this,arguments),xe.call(this,ve[Y]),this},p.insertPage=function(k){return this.addPage(),this.movePage(Y,k),this},p.movePage=function(k,te){var me,we;if(k>te){me=ve[k],we=Xe[k];for(var Ce=k;Ce>te;Ce--)ve[Ce]=ve[Ce-1],Xe[Ce]=Xe[Ce-1];ve[te]=me,Xe[te]=we,this.setPage(te)}else if(k<te){me=ve[k],we=Xe[k];for(var Ye=k;Ye<te;Ye++)ve[Ye]=ve[Ye+1],Xe[Ye]=Xe[Ye+1];ve[te]=me,Xe[te]=we,this.setPage(te)}return this},p.deletePage=function(){return Ia.apply(this,arguments),this},p.__private__.text=p.text=function(k,te,me,we,Ce){var Ye,nt,Ht,Jt,wr,yr,oa,za,gn,Da=(we=we||{}).scope||this;if(typeof k=="number"&&typeof te=="number"&&(typeof me=="string"||Array.isArray(me))){var En=me;me=te,te=k,k=En}if(arguments[3]instanceof Ct==0?(Ht=arguments[4],Jt=arguments[5],_a(oa=arguments[3])==="object"&&oa!==null||(typeof Ht=="string"&&(Jt=Ht,Ht=null),typeof oa=="string"&&(Jt=oa,oa=null),typeof oa=="number"&&(Ht=oa,oa=null),we={flags:oa,angle:Ht,align:Jt})):(_("The transform parameter of text() with a Matrix value"),gn=Ce),isNaN(te)||isNaN(me)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return Da;var sn,Zn="",bi=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:Us,Ls=Da.internal.scaleFactor;function ku(la){return la=la.split("	").join(Array(we.TabLen||9).join(" ")),ha(la,oa)}function gl(la){for(var xa,Ja=la.concat(),xn=[],Vi=Ja.length;Vi--;)typeof(xa=Ja.shift())=="string"?xn.push(xa):Array.isArray(la)&&(xa.length===1||xa[1]===void 0&&xa[2]===void 0)?xn.push(xa[0]):xn.push([xa[0],xa[1],xa[2]]);return xn}function mc(la,xa){var Ja;if(typeof la=="string")Ja=xa(la)[0];else if(Array.isArray(la)){for(var xn,Vi,Bd=la.concat(),mA=[],Ko=Bd.length;Ko--;)typeof(xn=Bd.shift())=="string"?mA.push(xa(xn)[0]):Array.isArray(xn)&&typeof xn[0]=="string"&&(Vi=xa(xn[0],xn[1],xn[2]),mA.push([Vi[0],Vi[1],Vi[2]]));Ja=mA}return Ja}var xl=!1,pc=!0;if(typeof k=="string")xl=!0;else if(Array.isArray(k)){var vl=k.concat();nt=[];for(var gc,As=vl.length;As--;)(typeof(gc=vl.shift())!="string"||Array.isArray(gc)&&typeof gc[0]!="string")&&(pc=!1);xl=pc}if(xl===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var xc=qe/Da.internal.scaleFactor,vc=xc*(bi-1);switch(we.baseline){case"bottom":me-=vc;break;case"top":me+=xc-vc;break;case"hanging":me+=xc-2*vc;break;case"middle":me+=xc/2-vc}if((yr=we.maxWidth||0)>0&&(typeof k=="string"?k=Da.splitTextToSize(k,yr):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(la,xa){return la.concat(Da.splitTextToSize(xa,yr))},[]))),Ye={text:k,x:te,y:me,options:we,mutex:{pdfEscape:ha,activeFontKey:It,fonts:Ft,activeFontSize:qe}},gt.publish("preProcessText",Ye),k=Ye.text,Ht=(we=Ye.options).angle,gn instanceof Ct==0&&Ht&&typeof Ht=="number"){Ht*=Math.PI/180,we.rotationDirection===0&&(Ht=-Ht),F===S&&(Ht=-Ht);var Nd=Math.cos(Ht),jd=Math.sin(Ht);gn=new Ct(Nd,jd,-jd,Nd,0,0)}else Ht&&Ht instanceof Ct&&(gn=Ht);F!==S||gn||(gn=mr),(wr=we.charSpace||Hi)!==void 0&&(Zn+=I(X(wr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(za=we.horizontalScale)!==void 0&&(Zn+=I(100*za)+` Tz
`),we.lang;var Ya=-1,Ki=we.renderingMode!==void 0?we.renderingMode:we.stroke,fo=Da.internal.getCurrentPageInfo().pageContext;switch(Ki){case 0:case!1:case"fill":Ya=0;break;case 1:case!0:case"stroke":Ya=1;break;case 2:case"fillThenStroke":Ya=2;break;case 3:case"invisible":Ya=3;break;case 4:case"fillAndAddForClipping":Ya=4;break;case 5:case"strokeAndAddPathForClipping":Ya=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ya=6;break;case 7:case"addToPathForClipping":Ya=7}var Du=fo.usedRenderingMode!==void 0?fo.usedRenderingMode:-1;Ya!==-1?Zn+=Ya+` Tr
`:Du!==-1&&(Zn+=`0 Tr
`),Ya!==-1&&(fo.usedRenderingMode=Ya),Jt=we.align||"left";var ti,wl=qe*bi,dA=Da.internal.pageSize.getWidth(),uA=Ft[It];wr=we.charSpace||Hi,yr=we.maxWidth||0,oa=Object.assign({autoencode:!0,noBOM:!0},we.flags);var To=[],Ni=function(la){return Da.getStringUnitWidth(la,{font:uA,charSpace:wr,fontSize:qe,doKerning:!1})*qe/Ls};if(Object.prototype.toString.call(k)==="[object Array]"){var ri;nt=gl(k),Jt!=="left"&&(ti=nt.map(Ni));var ai,yl=0;if(Jt==="right"){te-=ti[0],k=[],As=nt.length;for(var ho=0;ho<As;ho++)ho===0?(ai=ei(te),ri=Po(me)):(ai=X(yl-ti[ho]),ri=-wl),k.push([nt[ho],ai,ri]),yl=ti[ho]}else if(Jt==="center"){te-=ti[0]/2,k=[],As=nt.length;for(var Mo=0;Mo<As;Mo++)Mo===0?(ai=ei(te),ri=Po(me)):(ai=X((yl-ti[Mo])/2),ri=-wl),k.push([nt[Mo],ai,ri]),yl=ti[Mo]}else if(Jt==="left"){k=[],As=nt.length;for(var Oo=0;Oo<As;Oo++)k.push(nt[Oo])}else if(Jt==="justify"&&uA.encoding==="Identity-H"){k=[],As=nt.length,yr=yr!==0?yr:dA;for(var mo=0,on=0;on<As;on++)if(ri=on===0?Po(me):-wl,ai=on===0?ei(te):mo,on<As-1){var wc=X((yr-ti[on])/(nt[on].split(" ").length-1)),po=nt[on].split(" ");k.push([po[0]+" ",ai,ri]),mo=0;for(var $i=1;$i<po.length;$i++){var yc=(Ni(po[$i-1]+" "+po[$i])-Ni(po[$i]))*Ls+wc;$i==po.length-1?k.push([po[$i],yc,0]):k.push([po[$i]+" ",yc,0]),mo-=yc}}else k.push([nt[on],ai,ri]);k.push(["",mo,0])}else{if(Jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],As=nt.length,yr=yr!==0?yr:dA,on=0;on<As;on++){ri=on===0?Po(me):-wl,ai=on===0?ei(te):0;var bc=nt[on].split(" ").length-1,fA=bc>0?(yr-ti[on])/bc:0;on<As-1?To.push(I(X(fA))):To.push(0),k.push([nt[on],ai,ri])}}}(typeof we.R2L=="boolean"?we.R2L:er)===!0&&(k=mc(k,function(la,xa,Ja){return[la.split("").reverse().join(""),xa,Ja]})),Ye={text:k,x:te,y:me,options:we,mutex:{pdfEscape:ha,activeFontKey:It,fonts:Ft,activeFontSize:qe}},gt.publish("postProcessText",Ye),k=Ye.text,sn=Ye.mutex.isHex||!1;var hA=Ft[It].encoding;hA!=="WinAnsiEncoding"&&hA!=="StandardEncoding"||(k=mc(k,function(la,xa,Ja){return[ku(la),xa,Ja]})),nt=gl(k),k=[];for(var Ho,bl,Nl,Nc=Array.isArray(nt[0])?1:0,jl="",jc=function(la,xa,Ja){var xn="";return Ja instanceof Ct?(Ja=typeof we.angle=="number"?or(Ja,new Ct(1,0,0,1,la,xa)):or(new Ct(1,0,0,1,la,xa),Ja),F===S&&(Ja=or(new Ct(1,0,0,-1,0,0),Ja)),xn=Ja.join(" ")+` Tm
`):xn=I(la)+" "+I(xa)+` Td
`,xn},Xa=0;Xa<nt.length;Xa++){switch(jl="",Nc){case 1:Nl=(sn?"<":"(")+nt[Xa][0]+(sn?">":")"),Ho=parseFloat(nt[Xa][1]),bl=parseFloat(nt[Xa][2]);break;case 0:Nl=(sn?"<":"(")+nt[Xa]+(sn?">":")"),Ho=ei(te),bl=Po(me)}To!==void 0&&To[Xa]!==void 0&&(jl=To[Xa]+` Tw
`),Xa===0?k.push(jl+jc(Ho,bl,gn)+Nl):Nc===0?k.push(jl+Nl):Nc===1&&k.push(jl+jc(Ho,bl,gn)+Nl)}k=Nc===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var Is=`BT
/`;return Is+=It+" "+qe+` Tf
`,Is+=I(qe*bi)+` TL
`,Is+=Oi+`
`,Is+=Zn,Is+=k,de(Is+="ET"),m[It]=!0,Da};var cc=p.__private__.clip=p.clip=function(k){return de(k==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return cc("evenodd")},p.__private__.discardPath=p.discardPath=function(){return de("n"),this};var oo=p.__private__.isValidStyle=function(k){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(te=!0),te};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(k){return oo(k)&&(d=k),this};var sA=p.__private__.getStyle=p.getStyle=function(k){var te=d;switch(k){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=k}return te},sa=p.close=function(){return de("h"),this};p.stroke=function(){return de("S"),this},p.fill=function(k){return Lo("f",k),this},p.fillEvenOdd=function(k){return Lo("f*",k),this},p.fillStroke=function(k){return Lo("B",k),this},p.fillStrokeEvenOdd=function(k){return Lo("B*",k),this};var Lo=function(k,te){_a(te)==="object"?Su(te,k):de(k)},iA=function(k){k===null||F===S&&k===void 0||(k=sA(k),de(k))};function gd(k,te,me,we,Ce){var Ye=new bf(te||this.boundingBox,me||this.xStep,we||this.yStep,this.gState,Ce||this.matrix);Ye.stream=this.stream;var nt=k+"$$"+this.cloneIndex+++"$$";return lr(nt,Ye),Ye}var Su=function(k,te){var me=lt[k.key],we=$e[me];if(we instanceof Gd)de("q"),de(Eu(te)),we.gState&&p.setGState(we.gState),de(k.matrix.toString()+" cm"),de("/"+me+" sh"),de("Q");else if(we instanceof bf){var Ce=new Ct(1,0,0,-1,0,yi());k.matrix&&(Ce=Ce.multiply(k.matrix||mr),me=gd.call(we,k.key,k.boundingBox,k.xStep,k.yStep,Ce).id),de("q"),de("/Pattern cs"),de("/"+me+" scn"),we.gState&&p.setGState(we.gState),de(te),de("Q")}},Eu=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},oA=p.moveTo=function(k,te){return de(I(X(k))+" "+I(R(te))+" m"),this},Io=p.lineTo=function(k,te){return de(I(X(k))+" "+I(R(te))+" l"),this},Mi=p.curveTo=function(k,te,me,we,Ce,Ye){return de([I(X(k)),I(R(te)),I(X(me)),I(R(we)),I(X(Ce)),I(R(Ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(k,te,me,we,Ce){if(isNaN(k)||isNaN(te)||isNaN(me)||isNaN(we)||!oo(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return F===B?this.lines([[me-k,we-te]],k,te,[1,1],Ce||"S"):this.lines([[me-k,we-te]],k,te,[1,1]).stroke()},p.__private__.lines=p.lines=function(k,te,me,we,Ce,Ye){var nt,Ht,Jt,wr,yr,oa,za,gn,Da,En,sn,Zn;if(typeof k=="number"&&(Zn=me,me=te,te=k,k=Zn),we=we||[1,1],Ye=Ye||!1,isNaN(te)||isNaN(me)||!Array.isArray(k)||!Array.isArray(we)||!oo(Ce)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oA(te,me),nt=we[0],Ht=we[1],wr=k.length,En=te,sn=me,Jt=0;Jt<wr;Jt++)(yr=k[Jt]).length===2?(En=yr[0]*nt+En,sn=yr[1]*Ht+sn,Io(En,sn)):(oa=yr[0]*nt+En,za=yr[1]*Ht+sn,gn=yr[2]*nt+En,Da=yr[3]*Ht+sn,En=yr[4]*nt+En,sn=yr[5]*Ht+sn,Mi(oa,za,gn,Da,En,sn));return Ye&&sa(),iA(Ce),this},p.path=function(k){for(var te=0;te<k.length;te++){var me=k[te],we=me.c;switch(me.op){case"m":oA(we[0],we[1]);break;case"l":Io(we[0],we[1]);break;case"c":Mi.apply(this,we);break;case"h":sa()}}return this},p.__private__.rect=p.rect=function(k,te,me,we,Ce){if(isNaN(k)||isNaN(te)||isNaN(me)||isNaN(we)||!oo(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return F===B&&(we=-we),de([I(X(k)),I(R(te)),I(X(me)),I(X(we)),"re"].join(" ")),iA(Ce),this},p.__private__.triangle=p.triangle=function(k,te,me,we,Ce,Ye,nt){if(isNaN(k)||isNaN(te)||isNaN(me)||isNaN(we)||isNaN(Ce)||isNaN(Ye)||!oo(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-k,we-te],[Ce-me,Ye-we],[k-Ce,te-Ye]],k,te,[1,1],nt,!0),this},p.__private__.roundedRect=p.roundedRect=function(k,te,me,we,Ce,Ye,nt){if(isNaN(k)||isNaN(te)||isNaN(me)||isNaN(we)||isNaN(Ce)||isNaN(Ye)||!oo(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ht=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*me),Ye=Math.min(Ye,.5*we),this.lines([[me-2*Ce,0],[Ce*Ht,0,Ce,Ye-Ye*Ht,Ce,Ye],[0,we-2*Ye],[0,Ye*Ht,-Ce*Ht,Ye,-Ce,Ye],[2*Ce-me,0],[-Ce*Ht,0,-Ce,-Ye*Ht,-Ce,-Ye],[0,2*Ye-we],[0,-Ye*Ht,Ce*Ht,-Ye,Ce,-Ye]],k+Ce,te,[1,1],nt,!0),this},p.__private__.ellipse=p.ellipse=function(k,te,me,we,Ce){if(isNaN(k)||isNaN(te)||isNaN(me)||isNaN(we)||!oo(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*me,nt=4/3*(Math.SQRT2-1)*we;return oA(k+me,te),Mi(k+me,te-nt,k+Ye,te-we,k,te-we),Mi(k-Ye,te-we,k-me,te-nt,k-me,te),Mi(k-me,te+nt,k-Ye,te+we,k,te+we),Mi(k+Ye,te+we,k+me,te+nt,k+me,te),iA(Ce),this},p.__private__.circle=p.circle=function(k,te,me,we){if(isNaN(k)||isNaN(te)||isNaN(me)||!oo(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,te,me,me,we)},p.setFont=function(k,te,me){return me&&(te=U(te,me)),It=Jn(k,te,{disableWarning:!1}),this};var lo=p.__private__.getFont=p.getFont=function(){return Ft[Jn.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var k,te,me={};for(k in xr)if(xr.hasOwnProperty(k))for(te in me[k]=[],xr[k])xr[k].hasOwnProperty(te)&&me[k].push(te);return me},p.addFont=function(k,te,me,we,Ce){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(me=U(me,we)),fa.call(this,k,te,me,Ce=Ce||"Identity-H")};var Us,gi=e.lineWidth||.200025,hr=p.__private__.getLineWidth=p.getLineWidth=function(){return gi},Ac=p.__private__.setLineWidth=p.setLineWidth=function(k){return gi=k,de(I(X(k))+" w"),this};p.__private__.setLineDash=nr.API.setLineDash=nr.API.setLineDashPattern=function(k,te){if(k=k||[],te=te||0,isNaN(te)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(me){return I(X(me))}).join(" "),te=I(X(te)),de("["+k+"] "+te+" d"),this};var co=p.__private__.getLineHeight=p.getLineHeight=function(){return qe*Us};p.__private__.getLineHeight=p.getLineHeight=function(){return qe*Us};var th=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(Us=k),this},_u=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Us};th(e.lineHeight);var ei=p.__private__.getHorizontalCoordinate=function(k){return X(k)},Po=p.__private__.getVerticalCoordinate=function(k){return F===S?k:Xe[Y].mediaBox.topRightY-Xe[Y].mediaBox.bottomLeftY-X(k)},Fu=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(k){return I(ei(k))},lA=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(k){return I(Po(k))},dc=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Sn(dc)},p.__private__.setStrokeColor=p.setDrawColor=function(k,te,me,we){return dc=hn({ch1:k,ch2:te,ch3:me,ch4:we,pdfColorType:"draw",precision:2}),de(dc),this};var xd=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Sn(xd)},p.__private__.setFillColor=p.setFillColor=function(k,te,me,we){return xd=hn({ch1:k,ch2:te,ch3:me,ch4:we,pdfColorType:"fill",precision:2}),de(xd),this};var Oi=e.textColor||"0 g",Ao=p.__private__.getTextColor=p.getTextColor=function(){return Sn(Oi)};p.__private__.setTextColor=p.setTextColor=function(k,te,me,we){return Oi=hn({ch1:k,ch2:te,ch3:me,ch4:we,pdfColorType:"text",precision:3}),this};var Hi=e.charSpace,cA=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Hi||0)};p.__private__.setCharSpace=p.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hi=k,this};var vd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(k){var te=p.CapJoinStyles[k];if(te===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vd=te,de(te+" J"),this};var wd=0;p.__private__.setLineJoin=p.setLineJoin=function(k){var te=p.CapJoinStyles[k];if(te===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wd=te,de(te+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(I(X(k))+" M"),this},p.GState=b0,p.setGState=function(k){(k=typeof k=="string"?St[pt[k]]:Qo(null,k)).equals(kt)||(de("/"+k.id+" gs"),kt=k)};var Qo=function(k,te){if(!k||!pt[k]){var me=!1;for(var we in St)if(St.hasOwnProperty(we)&&St[we].equals(te)){me=!0;break}if(me)te=St[we];else{var Ce="GS"+(Object.keys(St).length+1).toString(10);St[Ce]=te,te.id=Ce}return k&&(pt[k]=te.id),gt.publish("addGState",te),te}};p.addGState=function(k,te){return Qo(k,te),this},p.saveGraphicsState=function(){return de("q"),it.push({key:It,size:qe,color:Oi}),this},p.restoreGraphicsState=function(){de("Q");var k=it.pop();return It=k.key,qe=k.size,Oi=k.color,kt=null,this},p.setCurrentTransformationMatrix=function(k){return de(k.toString()+" cm"),this},p.comment=function(k){return de("#"+k),this};var uo=function(k,te){var me=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(Ye){isNaN(Ye)||(me=parseFloat(Ye))}});var we=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Ye){isNaN(Ye)||(we=parseFloat(Ye))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Ye){Ce=Ye.toString()}}),this},uc=function(k,te,me,we){uo.call(this,k,te),this.type="rect";var Ce=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(nt){isNaN(nt)||(Ce=parseFloat(nt))}});var Ye=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(nt){isNaN(nt)||(Ye=parseFloat(nt))}}),this},fc=function(){this.page=Qe,this.currentPage=Y,this.pages=ve.slice(0),this.pagesContext=Xe.slice(0),this.x=Nt,this.y=Wt,this.matrix=Er,this.width=hc(Y),this.height=vi(Y),this.outputDestination=ke,this.id="",this.objectNumber=-1};fc.prototype.restore=function(){Qe=this.page,Y=this.currentPage,Xe=this.pagesContext,ve=this.pages,Nt=this.x,Wt=this.y,Er=this.matrix,yd(Y,this.width),wi(Y,this.height),ke=this.outputDestination};var xi=function(k,te,me,we,Ce){et.push(new fc),Qe=Y=0,ve=[],Nt=k,Wt=te,Er=Ce,Lr([me,we])};for(var Ro in p.beginFormObject=function(k,te,me,we,Ce){return xi(k,te,me,we,Ce),this},p.endFormObject=function(k){return(function(te){if(ir[te])et.pop().restore();else{var me=new fc,we="Xo"+(Object.keys(Gt).length+1).toString(10);me.id=we,ir[te]=we,Gt[we]=me,gt.publish("addFormObject",me),et.pop().restore()}})(k),this},p.doFormObject=function(k,te){var me=Gt[ir[k]];return de("q"),de(te.toString()+" cm"),de("/"+me.id+" Do"),de("Q"),this},p.getFormObject=function(k){var te=Gt[ir[k]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},p.save=function(k,te){return k=k||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(qd(Ti(pi()),k),typeof qd.unload=="function"&&Br.setTimeout&&setTimeout(qd.unload,911),this):new Promise(function(me,we){try{var Ce=qd(Ti(pi()),k);typeof qd.unload=="function"&&Br.setTimeout&&setTimeout(qd.unload,911),me(Ce)}catch(Ye){we(Ye.message)}})},nr.API)nr.API.hasOwnProperty(Ro)&&(Ro==="events"&&nr.API.events.length?(function(k,te){var me,we,Ce;for(Ce=te.length-1;Ce!==-1;Ce--)me=te[Ce][0],we=te[Ce][1],k.subscribe.apply(k,[me].concat(typeof we=="function"?[we]:we))})(gt,nr.API.events):p[Ro]=nr.API[Ro]);function hc(k){return Xe[k].mediaBox.topRightX-Xe[k].mediaBox.bottomLeftX}function yd(k,te){Xe[k].mediaBox.topRightX=te+Xe[k].mediaBox.bottomLeftX}function vi(k){return Xe[k].mediaBox.topRightY-Xe[k].mediaBox.bottomLeftY}function wi(k,te){Xe[k].mediaBox.topRightY=te+Xe[k].mediaBox.bottomLeftY}var bd=p.getPageWidth=function(k){return hc(k=k||Y)/Bt},cs=p.setPageWidth=function(k,te){yd(k,te*Bt)},yi=p.getPageHeight=function(k){return vi(k=k||Y)/Bt},AA=p.setPageHeight=function(k,te){wi(k,te*Bt)};return p.internal={pdfEscape:ha,getStyle:sA,getFont:lo,getFontSize:ut,getCharSpace:cA,getTextColor:Ao,getLineHeight:co,getLineHeightFactor:_u,getLineWidth:hr,write:wt,getHorizontalCoordinate:ei,getVerticalCoordinate:Po,getCoordinateString:Fu,getVerticalCoordinateString:lA,collections:{},newObject:cr,newAdditionalObject:Jr,newObjectDeferred:Kr,newObjectDeferredBegin:ar,getFilters:ys,putStream:os,events:gt,scaleFactor:Bt,pageSize:{getWidth:function(){return bd(Y)},setWidth:function(k){cs(Y,k)},getHeight:function(){return yi(Y)},setHeight:function(k){AA(Y,k)}},encryptionOptions:f,encryption:nn,getEncryptor:function(k){return f!==null?nn.encryptor(k,0):function(te){return te}},output:Ds,getNumberOfPages:bs,pages:ve,out:de,f2:Q,f3:K,getPageInfo:lc,getPageInfoByObjId:Cu,getCurrentPageInfo:pd,getPDFVersion:v,Point:uo,Rectangle:uc,Matrix:Ct,hasHotfix:oc},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return bd(Y)},set:function(k){cs(Y,k)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return yi(Y)},set:function(k){AA(Y,k)},enumerable:!0,configurable:!0}),(function(k){for(var te=0,me=mt.length;te<me;te++){var we=fa.call(this,k[te][0],k[te][1],k[te][2],mt[te][3],!0);h===!1&&(m[we]=!0);var Ce=k[te][0].split("-");Kn({id:we,fontName:Ce[0],fontStyle:Ce[1]||""})}gt.publish("addFonts",{fonts:Ft,dictionary:xr})}).call(p,mt),It="F1",mn(s,t),gt.publish("initialized"),p}vf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},vf.prototype.toHexString=function(e){return e.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vf.prototype.hexToBytes=function(e){for(var r=[],t=0;t<e.length;t+=2)r.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return r.join("")},vf.prototype.processOwnerPassword=function(e,r){return Y1(G1(r).substr(0,5),e)},vf.prototype.encryptor=function(e,r){var t=G1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&r,r>>8&255)).substr(0,10);return function(a){return Y1(t,a)}},b0.prototype.equals=function(e){var r,t="id,objectNumber,equals";if(!e||_a(e)!==_a(this))return!1;var a=0;for(r in this)if(!(t.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!e.hasOwnProperty(r)||this[r]!==e[r])return!1;a++}for(r in e)e.hasOwnProperty(r)&&t.indexOf(r)<0&&a--;return a===0},nr.API={events:[]},nr.version="3.0.3";var Nn=nr.API,hb=1,ju=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fr=function(e){return e.toFixed(2)},RA=function(e){return e.toFixed(5)};Nn.__acroform__={};var Qi=function(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e},v5=function(e){return e*hb},Ll=function(e){var r=new q3,t=qt.internal.getHeight(e)||0,a=qt.internal.getWidth(e)||0;return r.BBox=[0,0,Number(Fr(a)),Number(Fr(t))],r},pY=Nn.__acroform__.setBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<r},gY=Nn.__acroform__.clearBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<r)},xY=Nn.__acroform__.getBit=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<r?1:0},In=Nn.__acroform__.getBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xY(e,r-1)},Pn=Nn.__acroform__.setBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pY(e,r-1)},Qn=Nn.__acroform__.clearBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gY(e,r-1)},vY=Nn.__acroform__.calculateCoordinates=function(e,r){var t=r.internal.getHorizontalCoordinate,a=r.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],A={};return A.lowerLeft_X=t(s)||0,A.lowerLeft_Y=a(i+l)||0,A.upperRight_X=t(s+o)||0,A.upperRight_Y=a(i)||0,[Number(Fr(A.lowerLeft_X)),Number(Fr(A.lowerLeft_Y)),Number(Fr(A.upperRight_X)),Number(Fr(A.upperRight_Y))]},wY=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var r=[],t=e._V||e.DV,a=X1(e,t),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(e.scope.__private__.encodeColorString(e.color)),r.push("/"+s+" "+Fr(a.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC");var i=Ll(e);return i.scope=e.scope,i.stream=r.join(`
`),i}},X1=function(e,r){var t=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");s=e.multiline?s.map(function(Q){return Q.split(`
`)}):s.map(function(Q){return[Q]});var i=t,o=qt.internal.getHeight(e)||0;o=o<0?-o:o;var l=qt.internal.getWidth(e)||0;l=l<0?-l:l;var A=function(Q,K,X){if(Q+1<s.length){var R=K+" "+s[Q+1][0];return dg(R,e,X).width<=l-4}return!1};i++;e:for(;i>0;){r="",i--;var d,f,h=dg("3",e,i).height,m=e.multiline?o-i:(o-h)/2,p=m+=2,x=0,v=0,b=0;if(i<=0){r=`(...) Tj
`,r+="% Width of Text: "+dg(r,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var N="",B=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var F=!1;if(s[S].length!==1&&b!==s[S].length-1){if((h+2)*(B+2)+2>o)continue e;N+=s[S][b],F=!0,v=S,S--}else{N=(N+=s[S][b]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var L=parseInt(S),M=A(L,N,i),U=S>=s.length-1;if(M&&!U){N+=" ",b=0;continue}if(M||U){if(U)v=L;else if(e.multiline&&(h+2)*(B+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(B+2)+2>o)continue e;v=L}}for(var I="",_=x;_<=v;_++){var W=s[_];if(e.multiline){if(_===v){I+=W[b]+" ",b=(b+1)%W.length;continue}if(_===x){I+=W[W.length-1]+" ";continue}}I+=W[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,f=dg(I,e,i).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}r+=Fr(d)+" "+Fr(p)+` Td
`,r+="("+ju(I)+`) Tj
`,r+=-Fr(d)+` 0 Td
`,p=-(i+2),f=0,x=F?v:v+1,B++,N=""}break}return a.text=r,a.fontSize=i,a},dg=function(e,r,t){var a=r.scope.internal.getFont(r.fontName,r.fontStyle),s=r.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:r.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},yY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bY=function(e,r){var t={type:"reference",object:e};r.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===t.type&&a.object===t.object})===void 0&&r.internal.getPageInfo(e.page).pageContext.annotations.push(t)},NY=function(e,r){if(r.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ml.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(yY)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hb=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new W3,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&bY(i,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],A=[],d=l.Rect;if(l.Rect&&(l.Rect=vY(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=qt.createDefaultAppearanceStream(l),_a(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(A=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=wY(l);A.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var x=p[o];typeof x=="function"&&(x=x.call(s,l)),h+="/"+o+" "+x+" ",s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x)}}else typeof(x=p)=="function"&&(x=x.call(s,l)),h+="/"+o+" "+x,s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x);h+=">>"}A.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:A,objectId:l.objId}),s.internal.out("endobj")}i&&(function(v,b){for(var N in v)if(v.hasOwnProperty(N)){var B=N,S=v[N];b.internal.newObjectDeferredBegin(S.objId,!0),_a(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete v[B]}})(s.internal.acroformPlugin.xForms,s)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},z3=Nn.__acroform__.arrayToPdfArray=function(e,r,t){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),_a(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(r!==void 0&&t&&(a=t.internal.getEncryptor(r)),s+="("+ju(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kw=function(e,r,t){var a=function(s){return s};return r!==void 0&&t&&(a=t.internal.getEncryptor(r)),(e=e||"").toString(),"("+ju(a(e))+")"},Vl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vl.prototype.toString=function(){return this.objId+" 0 R"},Vl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Vl.prototype.getKeyValueListForStream=function(){var e=[],r=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in r)if(Object.getOwnPropertyDescriptor(this,r[t]).configurable===!1){var a=r[t],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:z3(s,this.objId,this.scope)}):s instanceof Vl?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var q3=function(){Vl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Qi(q3,Vl);var W3=function(){Vl.call(this);var e,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(a){return a};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ju(t(e))+")"}},set:function(t){e=t}})};Qi(W3,Vl);var ml=function e(){Vl.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');r=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!In(r,3)},set:function(N){N?this.F=Pn(r,3):this.F=Qn(r,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');t=N}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(N){a=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(N){a[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(N){a[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(N){a[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(N){a[3]=N}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof N0)return;i="FieldObject"+e.FieldNum++}var N=function(B){return B};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+ju(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(N){A=N}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/hb:d},set:function(N){d=N}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof N0||this instanceof ou))return kw(h,this.objId,this.scope)},set:function(N){N=N.toString(),h=N}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof xs==0?kw(m,this.objId,this.scope):m},set:function(N){N=N.toString(),m=this instanceof xs==0?N.substr(0,1)==="("?hf(N.substr(1,N.length-2)):hf(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xs==1?hf(m.substr(1,m.length-1)):m},set:function(N){N=N.toString(),m=this instanceof xs==1?"/"+N:N}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xs==0?kw(p,this.objId,this.scope):p},set:function(N){N=N.toString(),p=this instanceof xs==0?N.substr(0,1)==="("?hf(N.substr(1,N.length-2)):hf(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xs==1?hf(p.substr(1,p.length-1)):p},set:function(N){N=N.toString(),p=this instanceof xs==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(N){N=!!N,v=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(N){x=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,1)},set:function(N){N?this.Ff=Pn(this.Ff,1):this.Ff=Qn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,2)},set:function(N){N?this.Ff=Pn(this.Ff,2):this.Ff=Qn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,3)},set:function(N){N?this.Ff=Pn(this.Ff,3):this.Ff=Qn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');b=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(b){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Qi(ml,Vl);var Ef=function(){ml.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return z3(r,this.objId,this.scope)},set:function(t){var a,s;s=[],typeof(a=t)=="string"&&(s=(function(i,o,l){l||(l=1);for(var A,d=[];A=o.exec(i);)d.push(A[l]);return d})(a,/\((.*?)\)/g)),r=s}}),this.getOptions=function(){return r},this.setOptions=function(t){r=t,this.sort&&r.sort()},this.addOption=function(t){t=(t=t||"").toString(),r.push(t),this.sort&&r.sort()},this.removeOption=function(t,a){for(a=a||!1,t=(t=t||"").toString();r.indexOf(t)!==-1&&(r.splice(r.indexOf(t),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,18)},set:function(t){t?this.Ff=Pn(this.Ff,18):this.Ff=Qn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Pn(this.Ff,19):this.Ff=Qn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,20)},set:function(t){t?(this.Ff=Pn(this.Ff,20),r.sort()):this.Ff=Qn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,22)},set:function(t){t?this.Ff=Pn(this.Ff,22):this.Ff=Qn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,23)},set:function(t){t?this.Ff=Pn(this.Ff,23):this.Ff=Qn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,27)},set:function(t){t?this.Ff=Pn(this.Ff,27):this.Ff=Qn(this.Ff,27)}}),this.hasAppearanceStream=!1};Qi(Ef,ml);var _f=function(){Ef.call(this),this.fontName="helvetica",this.combo=!1};Qi(_f,Ef);var Ff=function(){_f.call(this),this.combo=!0};Qi(Ff,_f);var Qg=function(){Ff.call(this),this.edit=!0};Qi(Qg,Ff);var xs=function(){ml.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,15)},set:function(t){t?this.Ff=Pn(this.Ff,15):this.Ff=Qn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,16)},set:function(t){t?this.Ff=Pn(this.Ff,16):this.Ff=Qn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,17)},set:function(t){t?this.Ff=Pn(this.Ff,17):this.Ff=Qn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,26)},set:function(t){t?this.Ff=Pn(this.Ff,26):this.Ff=Qn(this.Ff,26)}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+ju(t(r[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){_a(t)==="object"&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){typeof t=="string"&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Qi(xs,ml);var Rg=function(){xs.call(this),this.pushButton=!0};Qi(Rg,xs);var kf=function(){xs.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r!==void 0?r:[]}})};Qi(kf,xs);var N0=function(){var e,r;ml.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(s){r=s}});var t,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+ju(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){_a(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qi(N0,ml),kf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var t=this.Kids[r];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},kf.prototype.createOption=function(e){var r=new N0;return r.Parent=this,r.optionName=e,this.Kids.push(r),jY.call(this.scope,r),r};var Tg=function(){xs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qt.CheckBox.createAppearanceStream()};Qi(Tg,xs);var ou=function(){ml.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,13)},set:function(r){r?this.Ff=Pn(this.Ff,13):this.Ff=Qn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,21)},set:function(r){r?this.Ff=Pn(this.Ff,21):this.Ff=Qn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,23)},set:function(r){r?this.Ff=Pn(this.Ff,23):this.Ff=Qn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,24)},set:function(r){r?this.Ff=Pn(this.Ff,24):this.Ff=Qn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,25)},set:function(r){r?this.Ff=Pn(this.Ff,25):this.Ff=Qn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,26)},set:function(r){r?this.Ff=Pn(this.Ff,26):this.Ff=Qn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){Number.isInteger(r)&&(e=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qi(ou,ml);var Mg=function(){ou.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,14)},set:function(e){e?this.Ff=Pn(this.Ff,14):this.Ff=Qn(this.Ff,14)}}),this.password=!0};Qi(Mg,ou);var qt={CheckBox:{createAppearanceStream:function(){return{N:{On:qt.CheckBox.YesNormal},D:{On:qt.CheckBox.YesPushDown,Off:qt.CheckBox.OffPushDown}}},YesPushDown:function(e){var r=Ll(e);r.scope=e.scope;var t=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=X1(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+Fr(qt.internal.getWidth(e))+" "+Fr(qt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+a+" "+Fr(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),r.stream=t.join(`
`),r},YesNormal:function(e){var r=Ll(e);r.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=qt.internal.getHeight(e),o=qt.internal.getWidth(e),l=X1(e,e.caption);return s.push("1 g"),s.push("0 0 "+Fr(o)+" "+Fr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Fr(o-1)+" "+Fr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Fr(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(e){var r=Ll(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Fr(qt.internal.getWidth(e))+" "+Fr(qt.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(e){var r={D:{Off:qt.RadioButton.Circle.OffPushDown},N:{}};return r.N[e]=qt.RadioButton.Circle.YesNormal,r.D[e]=qt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(e){var r=Ll(e);r.scope=e.scope;var t=[],a=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=qt.internal.Bezier_C,i=Number((a*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+RA(qt.internal.getWidth(e)/2)+" "+RA(qt.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=Ll(e);r.scope=e.scope;var t=[],a=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*qt.internal.Bezier_C).toFixed(5)),o=Number((a*qt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+RA(qt.internal.getWidth(e)/2)+" "+RA(qt.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+RA(qt.internal.getWidth(e)/2)+" "+RA(qt.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},OffPushDown:function(e){var r=Ll(e);r.scope=e.scope;var t=[],a=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*qt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+RA(qt.internal.getWidth(e)/2)+" "+RA(qt.internal.getHeight(e)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r}},Cross:{createAppearanceStream:function(e){var r={D:{Off:qt.RadioButton.Cross.OffPushDown},N:{}};return r.N[e]=qt.RadioButton.Cross.YesNormal,r.D[e]=qt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(e){var r=Ll(e);r.scope=e.scope;var t=[],a=qt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+Fr(qt.internal.getWidth(e)-2)+" "+Fr(qt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(Fr(a.x1.x)+" "+Fr(a.x1.y)+" m"),t.push(Fr(a.x2.x)+" "+Fr(a.x2.y)+" l"),t.push(Fr(a.x4.x)+" "+Fr(a.x4.y)+" m"),t.push(Fr(a.x3.x)+" "+Fr(a.x3.y)+" l"),t.push("s"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=Ll(e);r.scope=e.scope;var t=qt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+Fr(qt.internal.getWidth(e))+" "+Fr(qt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Fr(qt.internal.getWidth(e)-2)+" "+Fr(qt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Fr(t.x1.x)+" "+Fr(t.x1.y)+" m"),a.push(Fr(t.x2.x)+" "+Fr(t.x2.y)+" l"),a.push(Fr(t.x4.x)+" "+Fr(t.x4.y)+" m"),a.push(Fr(t.x3.x)+" "+Fr(t.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(e){var r=Ll(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Fr(qt.internal.getWidth(e))+" "+Fr(qt.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}}},createDefaultAppearanceStream:function(e){var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+r+" "+e.fontSize+" Tf "+t}};qt.internal={Bezier_C:.551915024494,calculateCross:function(e){var r=qt.internal.getWidth(e),t=qt.internal.getHeight(e),a=Math.min(r,t);return{x1:{x:(r-a)/2,y:(t-a)/2+a},x2:{x:(r-a)/2+a,y:(t-a)/2},x3:{x:(r-a)/2,y:(t-a)/2},x4:{x:(r-a)/2+a,y:(t-a)/2+a}}}},qt.internal.getWidth=function(e){var r=0;return _a(e)==="object"&&(r=v5(e.Rect[2])),r},qt.internal.getHeight=function(e){var r=0;return _a(e)==="object"&&(r=v5(e.Rect[3])),r};var jY=Nn.addField=function(e){if(NY(this,e),!(e instanceof ml))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=e).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Nn.AcroFormChoiceField=Ef,Nn.AcroFormListBox=_f,Nn.AcroFormComboBox=Ff,Nn.AcroFormEditBox=Qg,Nn.AcroFormButton=xs,Nn.AcroFormPushButton=Rg,Nn.AcroFormRadioButton=kf,Nn.AcroFormCheckBox=Tg,Nn.AcroFormTextField=ou,Nn.AcroFormPasswordField=Mg,Nn.AcroFormAppearance=qt,Nn.AcroForm={ChoiceField:Ef,ListBox:_f,ComboBox:Ff,EditBox:Qg,Button:xs,PushButton:Rg,RadioButton:kf,CheckBox:Tg,TextField:ou,PasswordField:Mg,Appearance:qt},nr.AcroForm={ChoiceField:Ef,ListBox:_f,ComboBox:Ff,EditBox:Qg,Button:xs,PushButton:Rg,RadioButton:kf,CheckBox:Tg,TextField:ou,PasswordField:Mg,Appearance:qt};nr.AcroForm;function G3(e){return e.reduce(function(r,t,a){return r[t]=a,r},{})}(function(e){var r="addImage_";e.__addimage__={};var t="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(Q,K){var X,R,re,$,V,Z=t;if((K=K||t)==="RGBA"||Q.data!==void 0&&Q.data instanceof Uint8ClampedArray&&"height"in Q&&"width"in Q)return"RGBA";if(M(Q))for(V in a)for(re=a[V],X=0;X<re.length;X+=1){for($=!0,R=0;R<re[X].length;R+=1)if(re[X][R]!==void 0&&re[X][R]!==Q[R]){$=!1;break}if($===!0){Z=V;break}}else for(V in a)for(re=a[V],X=0;X<re.length;X+=1){for($=!0,R=0;R<re[X].length;R+=1)if(re[X][R]!==void 0&&re[X][R]!==Q.charCodeAt(R)){$=!1;break}if($===!0){Z=V;break}}return Z===t&&K!==t&&(Z=K),Z},i=function Q(K){for(var X=this.internal.write,R=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);K.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:K.width}),$.push({key:"Height",value:K.height}),K.colorSpace===N.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(K.palette.length/3-1)+" "+("sMask"in K&&K.sMask!==void 0?K.objectId+2:K.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+K.colorSpace}),K.colorSpace===N.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:K.bitsPerComponent}),"decodeParameters"in K&&K.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+K.decodeParameters+">>"}),"transparency"in K&&Array.isArray(K.transparency)&&K.transparency.length>0){for(var V="",Z=0,ie=K.transparency.length;Z<ie;Z++)V+=K.transparency[Z]+" "+K.transparency[Z]+" ";$.push({key:"Mask",value:"["+V+"]"})}K.sMask!==void 0&&$.push({key:"SMask",value:K.objectId+1+" 0 R"});var ue=K.filter!==void 0?["/"+K.filter]:void 0;if(R({data:K.data,additionalKeyValues:$,alreadyAppliedFilters:ue,objectId:K.objectId}),X("endobj"),"sMask"in K&&K.sMask!==void 0){var E,P=(E=K.sMaskBitsPerComponent)!==null&&E!==void 0?E:K.bitsPerComponent,Y={width:K.width,height:K.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:K.sMask};"filter"in K&&(Y.decodeParameters="/Predictor ".concat(K.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(K.width),Y.filter=K.filter),Q.call(this,Y)}if(K.colorSpace===N.INDEXED){var z=this.internal.newObject();R({data:I(new Uint8Array(K.palette)),objectId:z}),X("endobj")}},o=function(){var Q=this.internal.collections[r+"images"];for(var K in Q)i.call(this,Q[K])},l=function(){var Q,K=this.internal.collections[r+"images"],X=this.internal.write;for(var R in K)X("/I"+(Q=K[R]).index,Q.objectId,"0","R")},A=function(){this.internal.collections[r+"images"]||(this.internal.collections[r+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var Q=this.internal.collections[r+"images"];return A.call(this),Q},f=function(){return Object.keys(this.internal.collections[r+"images"]).length},h=function(Q){return typeof e["process"+Q.toUpperCase()]=="function"},m=function(Q){return _a(Q)==="object"&&Q.nodeType===1},p=function(Q,K){if(Q.nodeName==="IMG"&&Q.hasAttribute("src")){var X=""+Q.getAttribute("src");if(X.indexOf("data:image/")===0)return Pg(unescape(X).split("base64,").pop());var R=e.loadFile(X,!0);if(R!==void 0)return R}if(Q.nodeName==="CANVAS"){if(Q.width===0||Q.height===0)throw new Error("Given canvas must have data. Canvas width: "+Q.width+", height: "+Q.height);var re;switch(K){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return Pg(Q.toDataURL(re,1).split("base64,").pop())}},x=function(Q){var K=this.internal.collections[r+"images"];if(K){for(var X in K)if(Q===K[X].alias)return K[X]}},v=function(Q,K,X){return Q||K||(Q=-96,K=-96),Q<0&&(Q=-1*X.width*72/Q/this.internal.scaleFactor),K<0&&(K=-1*X.height*72/K/this.internal.scaleFactor),Q===0&&(Q=K*X.width/X.height),K===0&&(K=Q*X.height/X.width),[Q,K]},b=function(Q,K,X,R,re,$){var V=v.call(this,X,R,re),Z=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,ue=d.call(this);if(X=V[0],R=V[1],ue[re.index]=re,$){$*=Math.PI/180;var E=Math.cos($),P=Math.sin($),Y=function(J){return J.toFixed(4)},z=[Y(E),Y(P),Y(-1*P),Y(E),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,Z(Q),ie(K+R),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([Z(X),"0","0",Z(R),"0","0","cm"].join(" "))):this.internal.write([Z(X),"0","0",Z(R),Z(Q),ie(K+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(Q){var K,X,R=0;if(typeof Q=="string")for(X=Q.length,K=0;K<X;K++)R=(R<<5)-R+Q.charCodeAt(K),R|=0;else if(M(Q))for(X=Q.byteLength/2,K=0;K<X;K++)R=(R<<5)-R+Q[K],R|=0;return R},F=e.__addimage__.validateStringAsBase64=function(Q){(Q=Q||"").toString().trim();var K=!0;return Q.length===0&&(K=!1),Q.length%4!=0&&(K=!1),/^[A-Za-z0-9+/]+$/.test(Q.substr(0,Q.length-2))===!1&&(K=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Q.substr(-2))===!1&&(K=!1),K},L=e.__addimage__.extractImageFromDataUrl=function(Q){if(Q==null||!(Q=Q.trim()).startsWith("data:"))return null;var K=Q.indexOf(",");return K<0?null:Q.substring(0,K).trim().endsWith("base64")?Q.substring(K+1):null};e.__addimage__.isArrayBuffer=function(Q){return Q instanceof ArrayBuffer};var M=e.__addimage__.isArrayBufferView=function(Q){return Q instanceof Int8Array||Q instanceof Uint8Array||Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array},U=e.__addimage__.binaryStringToUint8Array=function(Q){for(var K=Q.length,X=new Uint8Array(K),R=0;R<K;R++)X[R]=Q.charCodeAt(R);return X},I=e.__addimage__.arrayBufferToBinaryString=function(Q){for(var K="",X=M(Q)?Q:new Uint8Array(Q),R=0;R<X.length;R+=8192)K+=String.fromCharCode.apply(null,X.subarray(R,R+8192));return K};e.addImage=function(){var Q,K,X,R,re,$,V,Z,ie;if(typeof arguments[1]=="number"?(K=t,X=arguments[1],R=arguments[2],re=arguments[3],$=arguments[4],V=arguments[5],Z=arguments[6],ie=arguments[7]):(K=arguments[1],X=arguments[2],R=arguments[3],re=arguments[4],$=arguments[5],V=arguments[6],Z=arguments[7],ie=arguments[8]),_a(Q=arguments[0])==="object"&&!m(Q)&&"imageData"in Q){var ue=Q;Q=ue.imageData,K=ue.format||K||t,X=ue.x||X||0,R=ue.y||R||0,re=ue.w||ue.width||re,$=ue.h||ue.height||$,V=ue.alias||V,Z=ue.compression||Z,ie=ue.rotation||ue.angle||ie}var E=this.internal.getFilters();if(Z===void 0&&E.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(X)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var P=_.call(this,Q,K,V,Z);return b.call(this,X,R,re,$,P,ie),this};var _=function(Q,K,X,R){var re,$,V;if(typeof Q=="string"&&s(Q)===t){Q=unescape(Q);var Z=W(Q,!1);(Z!==""||(Z=e.loadFile(Q,!0))!==void 0)&&(Q=Z)}if(m(Q)&&(Q=p(Q,K)),K=s(Q,K),!h(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(((V=X)==null||V.length===0)&&(X=(function(ie){return typeof ie=="string"||M(ie)?S(ie):M(ie.data)?S(ie.data):null})(Q)),(re=x.call(this,X))||(Q instanceof Uint8Array||K==="RGBA"||($=Q,Q=U(Q)),re=this["process"+K.toUpperCase()](Q,f.call(this),X,(function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in e.image_compression?ie:B.NONE})(R),$)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},W=e.__addimage__.convertBase64ToBinaryString=function(Q,K){K=typeof K!="boolean"||K;var X,R="";if(typeof Q=="string"){var re;X=(re=L(Q))!==null&&re!==void 0?re:Q;try{R=Pg(X)}catch($){if(K)throw F(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};e.getImageProperties=function(Q){var K,X,R="";if(m(Q)&&(Q=p(Q)),typeof Q=="string"&&s(Q)===t&&((R=W(Q,!1))===""&&(R=e.loadFile(Q)||""),Q=R),X=s(Q),!h(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(Q instanceof Uint8Array||(Q=U(Q)),!(K=this["process"+X.toUpperCase()](Q)))throw new Error("An unknown error occurred whilst processing the image");return K.fileType=X,K}})(nr.API),(function(e){var r=function(t){if(t!==void 0&&t!="")return!0};nr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,h=0;h<d.length&&!f;h++)switch((a=d[h]).type){case"link":(r(a.options.url)||r(a.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){a=d[m];var p=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(v.objId),B=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+p(N(a.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+A.objId+" 0 R",i+=" /T ("+p(N(B))+") >>",v.content=i;var S=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+S,a.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var F=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(x(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var L=this.annotations._nameMap[a.options.name];a.options.pageNumber=L.page,a.options.top=L.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(x(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var M=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+M+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var a=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":a.pageContext.annotations.push(t)}},e.link=function(t,a,s,i,o){var l=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:A(t),y:d(a),w:A(t+s),h:d(a+i)},options:o,type:"link"})},e.textWithLink=function(t,a,s,i){var o,l,A=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(t,l).length;o=Math.ceil(d*f)}else l=A,o=d;return this.text(t,a,s,i),s+=.2*d,i.align==="center"&&(a-=A/2),i.align==="right"&&(a-=A),this.link(a,s-d,l,o,i),A},e.getTextWidth=function(t){var a=this.internal.getFontSize();return this.getStringUnitWidth(t)*a/this.internal.scaleFactor}})(nr.API),(function(e){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return r[v.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=e.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&i(v)&&r[v.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&s.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&i(v)&&r[v.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&i(v)&&r[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&i(v)&&r[v.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&i(v)&&r[v.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(v){var b=0,N=t,B="",S=0;for(b=0;b<v.length;b+=1)N[v.charCodeAt(b)]!==void 0?(S++,typeof(N=N[v.charCodeAt(b)])=="number"&&(B+=String.fromCharCode(N),N=t,S=0),b===v.length-1&&(N=t,B+=v.charAt(b-(S-1)),b-=S-1,S=0)):(N=t,B+=v.charAt(b-S),b-=S,S=0);return B};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&a[v.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(v,b,N){return o(v)?i(v)===!1?-1:!d(v)||!o(b)&&!o(N)||!o(N)&&l(b)||l(v)&&!o(b)||l(v)&&A(b)||l(v)&&l(b)?0:f(v)&&o(b)&&!l(b)&&o(N)&&d(N)?3:l(v)||!o(N)?1:2:-1},p=function(v){var b=0,N=0,B=0,S="",F="",L="",M=(v=v||"").split("\\s+"),U=[];for(b=0;b<M.length;b+=1){for(U.push(""),N=0;N<M[b].length;N+=1)S=M[b][N],F=M[b][N-1],L=M[b][N+1],o(S)?(B=m(S,F,L),U[b]+=B!==-1?String.fromCharCode(r[S.charCodeAt(0)][B]):S):U[b]+=S;U[b]=h(U[b])}return U.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(b)){var B=0;for(N=[],B=0;B<b.length;B+=1)Array.isArray(b[B])?N.push([p(b[B][0]),b[B][1],b[B][2]]):N.push([p(b[B])]);v=N}else v=p(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",x])})(nr.API),nr.API.autoPrint=function(e){var r;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})),this},(function(e){var r=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(t,a){var s;if((t=t||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])})(nr.API),(function(e){var r={left:0,top:0,bottom:0,right:0},t=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(v){A=v}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(v){x=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(A){return a.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},e.getTextDimensions=function(A,d){a.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,p=0,x=0,v=0,b=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var N=d.maxWidth;N>0?typeof A=="string"?A=this.splitTextToSize(A,N):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(S,F){return S.concat(b.splitTextToSize(F,N))},[])):A=Array.isArray(A)?A:[A];for(var B=0;B<A.length;B++)p<(v=this.getStringUnitWidth(A[B],{font:h})*f)&&(p=v);return p!==0&&(x=A.length),{w:p/=m,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var A=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new i(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var A;A=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||r,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===A.lineNumber?(A.x=(d.x||0)+(d.width||0),A.y=d.y||0):d.y+d.height+A.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=h.top,p&&m&&(this.printHeaderRow(A.lineNumber,!0),A.y+=m[0].height)):A.y=d.y+d.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,t===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-f,A.y+f,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+f,{align:"center",baseline:"top",maxWidth:A.width-f-f}):this.text(A.text,A.x+f,A.y+f,{align:"left",baseline:"top",maxWidth:A.width-f-f})),this.internal.__cell__.lastCell=A,this};e.table=function(A,d,f,h,m){if(a.call(this),!f)throw new Error("No data for PDF table.");var p,x,v,b,N=[],B=[],S=[],F={},L={},M=[],U=[],I=(m=m||{}).autoSize||!1,_=m.printHeaders!==!1,W=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,Q=m.margins||Object.assign({width:this.getPageWidth()},r),K=typeof m.padding=="number"?m.padding:3,X=m.headerBackgroundColor||"#c8c8c8",R=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=Q,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=K,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=R,this.setFontSize(W),h==null)B=N=Object.keys(f[0]),S=N.map(function(){return"left"});else if(Array.isArray(h)&&_a(h[0])==="object")for(N=h.map(function(ue){return ue.name}),B=h.map(function(ue){return ue.prompt||ue.name||""}),S=h.map(function(ue){return ue.align||"left"}),p=0;p<h.length;p+=1)L[h[p].name]=.7499990551181103*h[p].width;else Array.isArray(h)&&typeof h[0]=="string"&&(B=N=h,S=N.map(function(){return"left"}));if(I||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<N.length;p+=1){for(F[b=N[p]]=f.map(function(ue){return ue[b]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(B[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=F[b],this.setFont(void 0,"normal"),v=0;v<x.length;v+=1)M.push(this.getTextDimensions(x[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[b]=Math.max.apply(null,M)+K+K,M=[]}if(_){var re={};for(p=0;p<N.length;p+=1)re[N[p]]={},re[N[p]].text=B[p],re[N[p]].align=S[p];var $=l.call(this,re,L);U=N.map(function(ue){return new i(A,d,L[ue],$,re[ue].text,void 0,re[ue].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var V=h.reduce(function(ue,E){return ue[E.name]=E.align,ue},{});for(p=0;p<f.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:f[p]},this);var Z=l.call(this,f[p],L);for(v=0;v<N.length;v+=1){var ie=f[p][N[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:v,data:ie},this),o.call(this,new i(A,d,L[N[v]],Z,ie,p+2,V[N[v]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=d,this};var l=function(A,d){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(A).map(function(p){var x=A[p];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/m+f+f},this).reduce(function(p,x){return Math.max(p,x)},0)};e.setTableHeaderRow=function(A){a.call(this),this.internal.__cell__.tableHeaderRow=A},e.printHeaderRow=function(A,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=A;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}})(nr.API);var Y3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},X3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J1=G3(X3),J3=[100,200,300,400,500,600,700,800,900],BY=G3(J3);function Dw(e){var r=e.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return Y3[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof J1[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:r,style:t,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:r,style:[s,t,a].join(" ")}}}function w5(e,r,t,a){var s;for(s=t;s>=0&&s<r.length;s+=a)if(e[r[s]])return e[r[s]];for(s=t;s>=0&&s<r.length;s-=a)if(e[r[s]])return e[r[s]]}var CY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},y5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function b5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function N5(e){return e.trimLeft()}function SY(e,r){for(var t=0;t<e.length;){if(e.charAt(t)===r)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function EY(e){var r=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],e.substring(r[0].length)]}var ug,j5,B5,mf,fg,C5,S5,E5,Uw=["times"];function _5(e,r,t,a,s){var i=4,o=k5;switch(s){case nr.API.image_compression.FAST:i=1,o=F5;break;case nr.API.image_compression.MEDIUM:i=6,o=D5;break;case nr.API.image_compression.SLOW:i=9,o=U5}e=(function(A,d,f,h){for(var m,p=A.length/d,x=new Uint8Array(A.length+p),v=[_Y,F5,k5,D5,U5],b=0;b<p;b+=1){var N=b*d,B=A.subarray(N,N+d);if(h)x.set(h(B,f,m),N+b);else{for(var S=v.length,F=[],L=0;L<S;L+=1)F[L]=v[L](B,f,m);var M=kY(F.concat());x.set(F[M],N+b)}m=B}return x})(e,r,Math.ceil(t*a/8),o);var l=V1(e,{level:i});return nr.API.__addimage__.arrayBufferToBinaryString(l)}function _Y(e){var r=Array.apply([],e);return r.unshift(0),r}function F5(e,r){var t=e.length,a=[];a[0]=1;for(var s=0;s<t;s+=1){var i=e[s-r]||0;a[s+1]=e[s]-i+256&255}return a}function k5(e,r,t){var a=e.length,s=[];s[0]=2;for(var i=0;i<a;i+=1){var o=t&&t[i]||0;s[i+1]=e[i]-o+256&255}return s}function D5(e,r,t){var a=e.length,s=[];s[0]=3;for(var i=0;i<a;i+=1){var o=e[i-r]||0,l=t&&t[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function U5(e,r,t){var a=e.length,s=[];s[0]=4;for(var i=0;i<a;i+=1){var o=FY(e[i-r]||0,t&&t[i]||0,t&&t[i-r]||0);s[i+1]=e[i]-o+256&255}return s}function FY(e,r,t){if(e===r&&r===t)return e;var a=Math.abs(r-t),s=Math.abs(e-t),i=Math.abs(e+r-t-t);return a<=s&&a<=i?e:s<=i?r:t}function kY(e){var r=e.map(function(t){return t.reduce(function(a,s){return a+Math.abs(s)},0)});return r.indexOf(Math.min.apply(null,r))}function Lw(e,r,t){var a=r*t,s=Math.floor(a/8),i=16-(a-8*s+t),o=(1<<t)-1;return Z3(e,s)>>i&o}function L5(e,r,t,a){var s=t*a,i=Math.floor(s/8),o=16-(s-8*i+a),l=(1<<a)-1,A=(r&l)<<o;(function(d,f,h){if(f+1<d.byteLength)d.setUint16(f,h,!1);else{var m=h>>8&255;d.setUint8(f,m)}})(e,i,Z3(e,i)&~(l<<o)&65535|A)}function Z3(e,r){return r+1<e.byteLength?e.getUint16(r,!1):e.getUint8(r)<<8}function DY(e){var r=0;if(e[r++]!==71||e[r++]!==73||e[r++]!==70||e[r++]!==56||(e[r++]+1&253)!=56||e[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[r++]|e[r++]<<8,a=e[r++]|e[r++]<<8,s=e[r++],i=s>>7,o=1<<1+(7&s);e[r++],e[r++];var l=null,A=null;i&&(l=r,A=o,r+=3*o);var d=!0,f=[],h=0,m=null,p=0,x=null;for(this.width=t,this.height=a;d&&r<e.length;)switch(e[r++]){case 33:switch(e[r++]){case 255:if(e[r]!==11||e[r+1]==78&&e[r+2]==69&&e[r+3]==84&&e[r+4]==83&&e[r+5]==67&&e[r+6]==65&&e[r+7]==80&&e[r+8]==69&&e[r+9]==50&&e[r+10]==46&&e[r+11]==48&&e[r+12]==3&&e[r+13]==1&&e[r+16]==0)r+=14,x=e[r++]|e[r++]<<8,r++;else for(r+=12;;){if(!((Q=e[r++])>=0))throw Error("Invalid block size");if(Q===0)break;r+=Q}break;case 249:if(e[r++]!==4||e[r+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[r++];h=e[r++]|e[r++]<<8,m=e[r++],1&v||(m=null),p=v>>2&7,r++;break;case 254:for(;;){if(!((Q=e[r++])>=0))throw Error("Invalid block size");if(Q===0)break;r+=Q}break;default:throw new Error("Unknown graphic control label: 0x"+e[r-1].toString(16))}break;case 44:var b=e[r++]|e[r++]<<8,N=e[r++]|e[r++]<<8,B=e[r++]|e[r++]<<8,S=e[r++]|e[r++]<<8,F=e[r++],L=F>>6&1,M=1<<1+(7&F),U=l,I=A,_=!1;F>>7&&(_=!0,U=r,I=M,r+=3*M);var W=r;for(r++;;){var Q;if(!((Q=e[r++])>=0))throw Error("Invalid block size");if(Q===0)break;r+=Q}f.push({x:b,y:N,width:B,height:S,has_local_palette:_,palette_offset:U,palette_size:I,data_offset:W,data_length:r-W,transparent_index:m,interlaced:!!L,delay:h,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[r-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(K){if(K<0||K>=f.length)throw new Error("Frame index out of range.");return f[K]},this.decodeAndBlitFrameBGRA=function(K,X){var R=this.frameInfo(K),re=R.width*R.height,$=new Uint8Array(re);I5(e,R.data_offset,$,re);var V=R.palette_offset,Z=R.transparent_index;Z===null&&(Z=256);var ie=R.width,ue=t-ie,E=ie,P=4*(R.y*t+R.x),Y=4*((R.y+R.height)*t+R.x),z=P,J=4*ue;R.interlaced===!0&&(J+=4*t*7);for(var q=8,G=0,ne=$.length;G<ne;++G){var ce=$[G];if(E===0&&(E=ie,(z+=J)>=Y&&(J=4*ue+4*t*(q-1),z=P+(ie+ue)*(q<<1),q>>=1)),ce===Z)z+=4;else{var pe=e[V+3*ce],ve=e[V+3*ce+1],Pe=e[V+3*ce+2];X[z++]=Pe,X[z++]=ve,X[z++]=pe,X[z++]=255}--E}},this.decodeAndBlitFrameRGBA=function(K,X){var R=this.frameInfo(K),re=R.width*R.height,$=new Uint8Array(re);I5(e,R.data_offset,$,re);var V=R.palette_offset,Z=R.transparent_index;Z===null&&(Z=256);var ie=R.width,ue=t-ie,E=ie,P=4*(R.y*t+R.x),Y=4*((R.y+R.height)*t+R.x),z=P,J=4*ue;R.interlaced===!0&&(J+=4*t*7);for(var q=8,G=0,ne=$.length;G<ne;++G){var ce=$[G];if(E===0&&(E=ie,(z+=J)>=Y&&(J=4*ue+4*t*(q-1),z=P+(ie+ue)*(q<<1),q>>=1)),ce===Z)z+=4;else{var pe=e[V+3*ce],ve=e[V+3*ce+1],Pe=e[V+3*ce+2];X[z++]=pe,X[z++]=ve,X[z++]=Pe,X[z++]=255}--E}}}function I5(e,r,t,a){for(var s=e[r++],i=1<<s,o=i+1,l=o+1,A=s+1,d=(1<<A)-1,f=0,h=0,m=0,p=e[r++],x=new Int32Array(4096),v=null;;){for(;f<16&&p!==0;)h|=e[r++]<<f,f+=8,p===1?p=e[r++]:--p;if(f<A)break;var b=h&d;if(h>>=A,f-=A,b!==i){if(b===o)break;for(var N=b<l?b:v,B=0,S=N;S>i;)S=x[S]>>8,++B;var F=S;if(m+B+(N!==b?1:0)>a)return void Qa.log("Warning, gif stream longer than expected.");t[m++]=F;var L=m+=B;for(N!==b&&(t[m++]=F),S=N;B--;)S=x[S],t[--L]=255&S,S>>=8;v!==null&&l<4096&&(x[l++]=v<<8|F,l>=d+1&&A<12&&(++A,d=d<<1|1)),v=b}else l=o+1,d=(1<<(A=s+1))-1,v=null}return m!==a&&Qa.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Iw(e){var r,t,a,s,i,o=Math.floor,l=new Array(64),A=new Array(64),d=new Array(64),f=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),x=new Array(64),v=[],b=0,N=7,B=new Array(64),S=new Array(64),F=new Array(64),L=new Array(256),M=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],K=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(P,Y){for(var z=0,J=0,q=new Array,G=1;G<=16;G++){for(var ne=1;ne<=P[G];ne++)q[Y[J]]=[],q[Y[J]][0]=z,q[Y[J]][1]=G,J++,z++;z*=2}return q}function V(P){for(var Y=P[0],z=P[1]-1;z>=0;)Y&1<<z&&(b|=1<<N),z--,--N<0&&(b==255?(Z(255),Z(0)):Z(b),N=7,b=0)}function Z(P){v.push(P)}function ie(P){Z(P>>8&255),Z(255&P)}function ue(P,Y,z,J,q){for(var G,ne=q[0],ce=q[240],pe=(function(qe,dt){var ut,er,We,Xt,Vt,Et,Pr,_t,It,Bt,Nt=0;for(It=0;It<8;++It){ut=qe[Nt],er=qe[Nt+1],We=qe[Nt+2],Xt=qe[Nt+3],Vt=qe[Nt+4],Et=qe[Nt+5],Pr=qe[Nt+6];var Wt=ut+(_t=qe[Nt+7]),Er=ut-_t,Ft=er+Pr,xr=er-Pr,it=We+Et,$e=We-Et,lt=Xt+Vt,St=Xt-Vt,pt=Wt+lt,kt=Wt-lt,Qe=Ft+it,Xe=Ft-it;qe[Nt]=pt+Qe,qe[Nt+4]=pt-Qe;var gt=.707106781*(Xe+kt);qe[Nt+2]=kt+gt,qe[Nt+6]=kt-gt;var Mt=.382683433*((pt=St+$e)-(Xe=xr+Er)),Gt=.5411961*pt+Mt,ir=1.306562965*Xe+Mt,et=.707106781*(Qe=$e+xr),Ct=Er+et,or=Er-et;qe[Nt+5]=or+Gt,qe[Nt+3]=or-Gt,qe[Nt+1]=Ct+ir,qe[Nt+7]=Ct-ir,Nt+=8}for(Nt=0,It=0;It<8;++It){ut=qe[Nt],er=qe[Nt+8],We=qe[Nt+16],Xt=qe[Nt+24],Vt=qe[Nt+32],Et=qe[Nt+40],Pr=qe[Nt+48];var mr=ut+(_t=qe[Nt+56]),lr=ut-_t,Cr=er+Pr,cr=er-Pr,Kr=We+Et,ar=We-Et,Jr=Xt+Vt,Va=Xt-Vt,Zr=mr+Jr,Sn=mr-Jr,hn=Cr+Kr,ys=Cr-Kr;qe[Nt]=Zr+hn,qe[Nt+32]=Zr-hn;var os=.707106781*(ys+Sn);qe[Nt+16]=Sn+os,qe[Nt+48]=Sn-os;var so=.382683433*((Zr=Va+ar)-(ys=cr+lr)),ks=.5411961*Zr+so,Ri=1.306562965*ys+so,io=.707106781*(hn=ar+cr),xt=lr+io,Je=lr-io;qe[Nt+40]=Je+ks,qe[Nt+24]=Je-ks,qe[Nt+8]=xt+Ri,qe[Nt+56]=xt-Ri,Nt++}for(It=0;It<64;++It)Bt=qe[It]*dt[It],p[It]=Bt>0?Bt+.5|0:Bt-.5|0;return p})(P,Y),ve=0;ve<64;++ve)x[U[ve]]=pe[ve];var Pe=x[0]-z;z=x[0],Pe==0?V(J[0]):(V(J[m[G=32767+Pe]]),V(h[G]));for(var ke=63;ke>0&&x[ke]==0;)ke--;if(ke==0)return V(ne),z;for(var xe,de=1;de<=ke;){for(var wt=de;x[de]==0&&de<=ke;)++de;var bt=de-wt;if(bt>=16){xe=bt>>4;for(var mt=1;mt<=xe;++mt)V(ce);bt&=15}G=32767+x[de],V(q[(bt<<4)+m[G]]),V(h[G]),de++}return ke!=63&&V(ne),z}function E(P){P=Math.min(Math.max(P,1),100),i!=P&&((function(Y){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var q=o((z[J]*Y+50)/100);q=Math.min(Math.max(q,1),255),l[U[J]]=q}for(var G=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ne=0;ne<64;ne++){var ce=o((G[ne]*Y+50)/100);ce=Math.min(Math.max(ce,1),255),A[U[ne]]=ce}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,Pe=0;Pe<8;Pe++)for(var ke=0;ke<8;ke++)d[ve]=1/(l[U[ve]]*pe[Pe]*pe[ke]*8),f[ve]=1/(A[U[ve]]*pe[Pe]*pe[ke]*8),ve++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,Y){Y&&E(Y),v=new Array,b=0,N=7,ie(65496),ie(65504),ie(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),ie(1),ie(1),Z(0),Z(0),(function(){ie(65499),ie(132),Z(0);for(var er=0;er<64;er++)Z(l[er]);Z(1);for(var We=0;We<64;We++)Z(A[We])})(),(function(er,We){ie(65472),ie(17),Z(8),ie(We),ie(er),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)})(P.width,P.height),(function(){ie(65476),ie(418),Z(0);for(var er=0;er<16;er++)Z(I[er+1]);for(var We=0;We<=11;We++)Z(_[We]);Z(16);for(var Xt=0;Xt<16;Xt++)Z(W[Xt+1]);for(var Vt=0;Vt<=161;Vt++)Z(Q[Vt]);Z(1);for(var Et=0;Et<16;Et++)Z(K[Et+1]);for(var Pr=0;Pr<=11;Pr++)Z(X[Pr]);Z(17);for(var _t=0;_t<16;_t++)Z(R[_t+1]);for(var It=0;It<=161;It++)Z(re[It])})(),ie(65498),ie(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var z=0,J=0,q=0;b=0,N=7,this.encode.displayName="_encode_";for(var G,ne,ce,pe,ve,Pe,ke,xe,de,wt=P.data,bt=P.width,mt=P.height,qe=4*bt,dt=0;dt<mt;){for(G=0;G<qe;){for(ve=qe*dt+G,ke=-1,xe=0,de=0;de<64;de++)Pe=ve+(xe=de>>3)*qe+(ke=4*(7&de)),dt+xe>=mt&&(Pe-=qe*(dt+1+xe-mt)),G+ke>=qe&&(Pe-=G+ke-qe+4),ne=wt[Pe++],ce=wt[Pe++],pe=wt[Pe++],B[de]=(M[ne]+M[ce+256|0]+M[pe+512|0]>>16)-128,S[de]=(M[ne+768|0]+M[ce+1024|0]+M[pe+1280|0]>>16)-128,F[de]=(M[ne+1280|0]+M[ce+1536|0]+M[pe+1792|0]>>16)-128;z=ue(B,d,z,r,a),J=ue(S,f,J,t,s),q=ue(F,f,q,t,s),G+=32}dt+=8}if(N>=0){var ut=[];ut[1]=N+1,ut[0]=(1<<N+1)-1,V(ut)}return ie(65497),new Uint8Array(v)},e=e||50,(function(){for(var P=String.fromCharCode,Y=0;Y<256;Y++)L[Y]=P(Y)})(),r=$(I,_),t=$(K,X),a=$(W,Q),s=$(R,re),(function(){for(var P=1,Y=2,z=1;z<=15;z++){for(var J=P;J<Y;J++)m[32767+J]=z,h[32767+J]=[],h[32767+J][1]=z,h[32767+J][0]=J;for(var q=-(Y-1);q<=-P;q++)m[32767+q]=z,h[32767+q]=[],h[32767+q][1]=z,h[32767+q][0]=Y-1+q;P<<=1,Y<<=1}})(),(function(){for(var P=0;P<256;P++)M[P]=19595*P,M[P+256|0]=38470*P,M[P+512|0]=7471*P+32768,M[P+768|0]=-11059*P,M[P+1024|0]=-21709*P,M[P+1280|0]=32768*P+8421375,M[P+1536|0]=-27439*P,M[P+1792|0]=-5329*P})(),E(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function el(e,r){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function P5(e){function r(_){if(!_)throw Error("assert :P")}function t(_,W,Q){for(var K=0;4>K;K++)if(_[W+K]!=Q.charCodeAt(K))return!0;return!1}function a(_,W,Q,K,X){for(var R=0;R<X;R++)_[W+R]=Q[K+R]}function s(_,W,Q,K){for(var X=0;X<K;X++)_[W+X]=Q}function i(_){return new Int32Array(_)}function o(_,W){for(var Q=[],K=0;K<_;K++)Q.push(new W);return Q}function l(_,W){var Q=[];return(function K(X,R,re){for(var $=re[R],V=0;V<$&&(X.push(re.length>R+1?[]:new W),!(re.length<R+1));V++)K(X[V],R+1,re)})(Q,0,_),Q}var A=function(){var _=this;function W(y,C){for(var T=1<<C-1>>>0;y&T;)T>>>=1;return T?(y&T-1)+T:y}function Q(y,C,T,H,ee){r(!(H%T));do y[C+(H-=T)]=ee;while(0<H)}function K(y,C,T,H,ee){if(r(2328>=ee),512>=ee)var se=i(512);else if((se=i(ee))==null)return 0;return(function(oe,le,Ae,fe,be,Fe){var he,je,Se=le,Ve=1<<Ae,Ie=i(16),Oe=i(16);for(r(be!=0),r(fe!=null),r(oe!=null),r(0<Ae),je=0;je<be;++je){if(15<fe[je])return 0;++Ie[fe[je]]}if(Ie[0]==be)return 0;for(Oe[1]=0,he=1;15>he;++he){if(Ie[he]>1<<he)return 0;Oe[he+1]=Oe[he]+Ie[he]}for(je=0;je<be;++je)he=fe[je],0<fe[je]&&(Fe[Oe[he]++]=je);if(Oe[15]==1)return(fe=new X).g=0,fe.value=Fe[0],Q(oe,Se,1,Ve,fe),Ve;var Ke,tt=-1,rt=Ve-1,Zt=0,Rt=1,Sr=1,Kt=1<<Ae;for(je=0,he=1,be=2;he<=Ae;++he,be<<=1){if(Rt+=Sr<<=1,0>(Sr-=Ie[he]))return 0;for(;0<Ie[he];--Ie[he])(fe=new X).g=he,fe.value=Fe[je++],Q(oe,Se+Zt,be,Kt,fe),Zt=W(Zt,he)}for(he=Ae+1,be=2;15>=he;++he,be<<=1){if(Rt+=Sr<<=1,0>(Sr-=Ie[he]))return 0;for(;0<Ie[he];--Ie[he]){if(fe=new X,(Zt&rt)!=tt){for(Se+=Kt,Ke=1<<(tt=he)-Ae;15>tt&&!(0>=(Ke-=Ie[tt]));)++tt,Ke<<=1;Ve+=Kt=1<<(Ke=tt-Ae),oe[le+(tt=Zt&rt)].g=Ke+Ae,oe[le+tt].value=Se-le-tt}fe.g=he-Ae,fe.value=Fe[je++],Q(oe,Se+(Zt>>Ae),be,Kt,fe),Zt=W(Zt,he)}}return Rt!=2*Oe[15]-1?0:Ve})(y,C,T,H,ee,se)}function X(){this.value=this.g=0}function R(){this.value=this.g=0}function re(){this.G=o(5,X),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ni,R)}function $(y,C,T,H){r(y!=null),r(C!=null),r(2147483648>H),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=C,y.pa=T,y.Jd=C,y.Yc=T+H,y.Zc=4<=H?T+H-4+1:T,ne(y)}function V(y,C){for(var T=0;0<C--;)T|=pe(y,128)<<C;return T}function Z(y,C){var T=V(y,C);return ce(y)?-T:T}function ie(y,C,T,H){var ee,se=0;for(r(y!=null),r(C!=null),r(4294967288>H),y.Sb=H,y.Ra=0,y.u=0,y.h=0,4<H&&(H=4),ee=0;ee<H;++ee)se+=C[T+ee]<<8*ee;y.Ra=se,y.bb=H,y.oa=C,y.pa=T}function ue(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<yl-8>>>0,++y.bb,y.u-=8;J(y)&&(y.h=1,y.u=0)}function E(y,C){if(r(0<=C),!y.h&&C<=ai){var T=z(y)&ri[C];return y.u+=C,ue(y),T}return y.h=1,y.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(y){return y.Ra>>>(y.u&yl-1)>>>0}function J(y){return r(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>yl}function q(y,C){y.u=C,y.h=J(y)}function G(y){y.u>=ho&&(r(y.u>=ho),ue(y))}function ne(y){r(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(r(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ce(y){return V(y,1)}function pe(y,C){var T=y.Ca;0>y.b&&ne(y);var H=y.b,ee=T*C>>>8,se=(y.I>>>H>ee)+0;for(se?(T-=ee,y.I-=ee+1<<H>>>0):T=ee+1,H=T,ee=0;256<=H;)ee+=8,H>>=8;return H=7^ee+Mo[H],y.b-=H,y.Ca=(T<<H)-1,se}function ve(y,C,T){y[C+0]=T>>24&255,y[C+1]=T>>16&255,y[C+2]=T>>8&255,y[C+3]=255&T}function Pe(y,C){return y[C+0]|y[C+1]<<8}function ke(y,C){return Pe(y,C)|y[C+2]<<16}function xe(y,C){return Pe(y,C)|Pe(y,C+2)<<16}function de(y,C){var T=1<<C;return r(y!=null),r(0<C),y.X=i(T),y.X==null?0:(y.Mb=32-C,y.Xa=C,1)}function wt(y,C){r(y!=null),r(C!=null),r(y.Xa==C.Xa),a(C.X,0,y.X,0,1<<C.Xa)}function bt(){this.X=[],this.Xa=this.Mb=0}function mt(y,C,T,H){r(T!=null),r(H!=null);var ee=T[0],se=H[0];return ee==0&&(ee=(y*se+C/2)/C),se==0&&(se=(C*ee+y/2)/y),0>=ee||0>=se?0:(T[0]=ee,H[0]=se,1)}function qe(y,C){return y+(1<<C)-1>>>C}function dt(y,C){return((4278255360&y)+(4278255360&C)>>>0&4278255360)+((16711935&y)+(16711935&C)>>>0&16711935)>>>0}function ut(y,C){_[C]=function(T,H,ee,se,oe,le,Ae){var fe;for(fe=0;fe<oe;++fe){var be=_[y](le[Ae+fe-1],ee,se+fe);le[Ae+fe]=dt(T[H+fe],be)}}}function er(){this.ud=this.hd=this.jd=0}function We(y,C){return((4278124286&(y^C))>>>1)+(y&C)>>>0}function Xt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Vt(y,C){return Xt(y+(y-C+.5>>1))}function Et(y,C,T){return Math.abs(C-T)-Math.abs(y-T)}function Pr(y,C,T,H,ee,se,oe){for(H=se[oe-1],T=0;T<ee;++T)se[oe+T]=H=dt(y[C+T],H)}function _t(y,C,T,H,ee){var se;for(se=0;se<T;++se){var oe=y[C+se],le=oe>>8&255,Ae=16711935&(Ae=(Ae=16711935&oe)+((le<<16)+le));H[ee+se]=(4278255360&oe)+Ae>>>0}}function It(y,C){C.jd=255&y,C.hd=y>>8&255,C.ud=y>>16&255}function Bt(y,C,T,H,ee,se){var oe;for(oe=0;oe<H;++oe){var le=C[T+oe],Ae=le>>>8,fe=le,be=255&(be=(be=le>>>16)+((y.jd<<24>>24)*(Ae<<24>>24)>>>5));fe=255&(fe=(fe+=(y.hd<<24>>24)*(Ae<<24>>24)>>>5)+((y.ud<<24>>24)*(be<<24>>24)>>>5)),ee[se+oe]=(4278255360&le)+(be<<16)+fe}}function Nt(y,C,T,H,ee){_[C]=function(se,oe,le,Ae,fe,be,Fe,he,je){for(Ae=Fe;Ae<he;++Ae)for(Fe=0;Fe<je;++Fe)fe[be++]=ee(le[H(se[oe++])])},_[y]=function(se,oe,le,Ae,fe,be,Fe){var he=8>>se.b,je=se.Ea,Se=se.K[0],Ve=se.w;if(8>he)for(se=(1<<se.b)-1,Ve=(1<<he)-1;oe<le;++oe){var Ie,Oe=0;for(Ie=0;Ie<je;++Ie)Ie&se||(Oe=H(Ae[fe++])),be[Fe++]=ee(Se[Oe&Ve]),Oe>>=he}else _["VP8LMapColor"+T](Ae,fe,Se,Ve,be,Fe,oe,le,je)}}function Wt(y,C,T,H,ee){for(T=C+T;C<T;){var se=y[C++];H[ee++]=se>>16&255,H[ee++]=se>>8&255,H[ee++]=255&se}}function Er(y,C,T,H,ee){for(T=C+T;C<T;){var se=y[C++];H[ee++]=se>>16&255,H[ee++]=se>>8&255,H[ee++]=255&se,H[ee++]=se>>24&255}}function Ft(y,C,T,H,ee){for(T=C+T;C<T;){var se=(oe=y[C++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;H[ee++]=se,H[ee++]=oe}}function xr(y,C,T,H,ee){for(T=C+T;C<T;){var se=(oe=y[C++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;H[ee++]=se,H[ee++]=oe}}function it(y,C,T,H,ee){for(T=C+T;C<T;){var se=y[C++];H[ee++]=255&se,H[ee++]=se>>8&255,H[ee++]=se>>16&255}}function $e(y,C,T,H,ee,se){if(se==0)for(T=C+T;C<T;)ve(H,((se=y[C++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),ee+=32;else a(H,ee,y,C,T)}function lt(y,C){_[C][0]=_[y+"0"],_[C][1]=_[y+"1"],_[C][2]=_[y+"2"],_[C][3]=_[y+"3"],_[C][4]=_[y+"4"],_[C][5]=_[y+"5"],_[C][6]=_[y+"6"],_[C][7]=_[y+"7"],_[C][8]=_[y+"8"],_[C][9]=_[y+"9"],_[C][10]=_[y+"10"],_[C][11]=_[y+"11"],_[C][12]=_[y+"12"],_[C][13]=_[y+"13"],_[C][14]=_[y+"0"],_[C][15]=_[y+"0"]}function St(y){return y==xA||y==Sc||y==Fd||y==kd}function pt(){this.eb=[],this.size=this.A=this.fb=0}function kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pt,this.f.kb=new kt,this.sd=null}function Xe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Mt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Gt(y,C){var T=y.T,H=C.ba.f.RGBA,ee=H.eb,se=H.fb+y.ka*H.A,oe=Qs[C.ba.S],le=y.y,Ae=y.O,fe=y.f,be=y.N,Fe=y.ea,he=y.W,je=C.cc,Se=C.dc,Ve=C.Mc,Ie=C.Nc,Oe=y.ka,Ke=y.ka+y.T,tt=y.U,rt=tt+1>>1;for(Oe==0?oe(le,Ae,null,null,fe,be,Fe,he,fe,be,Fe,he,ee,se,null,null,tt):(oe(C.ec,C.fc,le,Ae,je,Se,Ve,Ie,fe,be,Fe,he,ee,se-H.A,ee,se,tt),++T);Oe+2<Ke;Oe+=2)je=fe,Se=be,Ve=Fe,Ie=he,be+=y.Rc,he+=y.Rc,se+=2*H.A,oe(le,(Ae+=2*y.fa)-y.fa,le,Ae,je,Se,Ve,Ie,fe,be,Fe,he,ee,se-H.A,ee,se,tt);return Ae+=y.fa,y.j+Ke<y.o?(a(C.ec,C.fc,le,Ae,tt),a(C.cc,C.dc,fe,be,rt),a(C.Mc,C.Nc,Fe,he,rt),T--):1&Ke||oe(le,Ae,null,null,fe,be,Fe,he,fe,be,Fe,he,ee,se+H.A,null,null,tt),T}function ir(y,C,T){var H=y.F,ee=[y.J];if(H!=null){var se=y.U,oe=C.ba.S,le=oe==_d||oe==Fd;C=C.ba.f.RGBA;var Ae=[0],fe=y.ka;Ae[0]=y.T,y.Kb&&(fe==0?--Ae[0]:(--fe,ee[0]-=y.width),y.j+y.ka+y.T==y.o&&(Ae[0]=y.o-y.j-fe));var be=C.eb;fe=C.fb+fe*C.A,y=Sd(H,ee[0],y.width,se,Ae,be,fe+(le?0:3),C.A),r(T==Ae),y&&St(oe)&&Cc(be,fe,le,se,Ae,C.A)}return 0}function et(y){var C=y.ma,T=C.ba.S,H=11>T,ee=T==Bl||T==Ed||T==_d||T==Na||T==12||St(T);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!dA(C.Oa,y,ee?11:12))return 0;if(ee&&St(T)&&ku(),y.da)alert("todo:use_scaling");else{if(H){if(C.Ib=Mt,y.Kb){if(T=y.U+1>>1,C.memory=i(y.U+2*T),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+y.U,C.Mc=C.cc,C.Nc=C.dc+T,C.Ib=Gt,ku()}}else alert("todo:EmitYUV");ee&&(C.Jb=ir,H&&bi())}if(H&&!es){for(y=0;256>y;++y)Rs[y]=89858*(y-128)+zi>>$o,Ts[y]=-22014*(y-128)+zi,bA[y]=-45773*(y-128),kc[y]=113618*(y-128)+zi>>$o;for(y=pa;y<va;++y)C=76283*(y-16)+zi>>$o,Tu[y-pa]=Ya(C,255),zm[y-pa]=Ya(C+8>>4,15);es=1}return 1}function Ct(y){var C=y.ma,T=y.U,H=y.T;return r(!(1&y.ka)),0>=T||0>=H?0:(T=C.Ib(y,C),C.Jb!=null&&C.Jb(y,C,T),C.Dc+=T,1)}function or(y){y.ma.memory=null}function mr(y,C,T,H){return E(y,8)!=47?0:(C[0]=E(y,14)+1,T[0]=E(y,14)+1,H[0]=E(y,1),E(y,3)!=0?0:!y.h)}function lr(y,C){if(4>y)return y+1;var T=y-2>>1;return(2+(1&y)<<T)+E(C,T)+1}function Cr(y,C){return 120<C?C-120:1<=(T=((T=Sx[C-1])>>4)*y+(8-(15&T)))?T:1;var T}function cr(y,C,T){var H=z(T),ee=y[C+=255&H].g-8;return 0<ee&&(q(T,T.u+8),H=z(T),C+=y[C].value,C+=H&(1<<ee)-1),q(T,T.u+y[C].g),y[C].value}function Kr(y,C,T){return T.g+=y.g,T.value+=y.value<<C>>>0,r(8>=T.g),y.g}function ar(y,C,T){var H=y.xc;return r((C=H==0?0:y.vc[y.md*(T>>H)+(C>>H)])<y.Wb),y.Ya[C]}function Jr(y,C,T,H){var ee=y.ab,se=y.c*C,oe=y.C;C=oe+C;var le=T,Ae=H;for(H=y.Ta,T=y.Ua;0<ee--;){var fe=y.gc[ee],be=oe,Fe=C,he=le,je=Ae,Se=(Ae=H,le=T,fe.Ea);switch(r(be<Fe),r(Fe<=fe.nc),fe.hc){case 2:on(he,je,(Fe-be)*Se,Ae,le);break;case 0:var Ve=be,Ie=Fe,Oe=Ae,Ke=le,tt=(Kt=fe).Ea;Ve==0&&(Oo(he,je,null,null,1,Oe,Ke),Pr(he,je+1,0,0,tt-1,Oe,Ke+1),je+=tt,Ke+=tt,++Ve);for(var rt=1<<Kt.b,Zt=rt-1,Rt=qe(tt,Kt.b),Sr=Kt.K,Kt=Kt.w+(Ve>>Kt.b)*Rt;Ve<Ie;){var Wr=Sr,Za=Kt,_r=1;for(mo(he,je,Oe,Ke-tt,1,Oe,Ke);_r<tt;){var Tt=(_r&~Zt)+rt;Tt>tt&&(Tt=tt),(0,bc[Wr[Za++]>>8&15])(he,je+ +_r,Oe,Ke+_r-tt,Tt-_r,Oe,Ke+_r),_r=Tt}je+=tt,Ke+=tt,++Ve&Zt||(Kt+=Rt)}Fe!=fe.nc&&a(Ae,le-Se,Ae,le+(Fe-be-1)*Se,Se);break;case 1:for(Se=he,Ie=je,tt=(he=fe.Ea)-(Ke=he&~(Oe=(je=1<<fe.b)-1)),Ve=qe(he,fe.b),rt=fe.K,fe=fe.w+(be>>fe.b)*Ve;be<Fe;){for(Zt=rt,Rt=fe,Sr=new er,Kt=Ie+Ke,Wr=Ie+he;Ie<Kt;)It(Zt[Rt++],Sr),fA(Sr,Se,Ie,je,Ae,le),Ie+=je,le+=je;Ie<Wr&&(It(Zt[Rt++],Sr),fA(Sr,Se,Ie,tt,Ae,le),Ie+=tt,le+=tt),++be&Oe||(fe+=Ve)}break;case 3:if(he==Ae&&je==le&&0<fe.b){for(Ie=Ae,he=Se=le+(Fe-be)*Se-(Ke=(Fe-be)*qe(fe.Ea,fe.b)),je=Ae,Oe=le,Ve=[],Ke=(tt=Ke)-1;0<=Ke;--Ke)Ve[Ke]=je[Oe+Ke];for(Ke=tt-1;0<=Ke;--Ke)Ie[he+Ke]=Ve[Ke];wc(fe,be,Fe,Ae,Se,Ae,le)}else wc(fe,be,Fe,he,je,Ae,le)}le=H,Ae=T}Ae!=T&&a(H,T,le,Ae,se)}function Va(y,C){var T=y.V,H=y.Ba+y.c*y.C,ee=C-y.C;if(r(C<=y.l.o),r(16>=ee),0<ee){var se=y.l,oe=y.Ta,le=y.Ua,Ae=se.width;if(Jr(y,ee,T,H),ee=le=[le],r((T=y.C)<(H=C)),r(se.v<se.va),H>se.o&&(H=se.o),T<se.j){var fe=se.j-T;T=se.j,ee[0]+=fe*Ae}if(T>=H?T=0:(ee[0]+=4*se.v,se.ka=T-se.j,se.U=se.va-se.v,se.T=H-T,T=1),T){if(le=le[0],11>(T=y.ca).S){var be=T.f.RGBA,Fe=(H=T.S,ee=se.U,se=se.T,fe=be.eb,be.A),he=se;for(be=be.fb+y.Ma*be.A;0<he--;){var je=oe,Se=le,Ve=ee,Ie=fe,Oe=be;switch(H){case Iu:hA(je,Se,Ve,Ie,Oe);break;case Bl:Ho(je,Se,Ve,Ie,Oe);break;case xA:Ho(je,Se,Ve,Ie,Oe),Cc(Ie,Oe,0,Ve,1,0);break;case Om:Nc(je,Se,Ve,Ie,Oe);break;case Ed:$e(je,Se,Ve,Ie,Oe,1);break;case Sc:$e(je,Se,Ve,Ie,Oe,1),Cc(Ie,Oe,0,Ve,1,0);break;case _d:$e(je,Se,Ve,Ie,Oe,0);break;case Fd:$e(je,Se,Ve,Ie,Oe,0),Cc(Ie,Oe,1,Ve,1,0);break;case Na:bl(je,Se,Ve,Ie,Oe);break;case kd:bl(je,Se,Ve,Ie,Oe),ah(Ie,Oe,Ve,1,0);break;case Pu:Nl(je,Se,Ve,Ie,Oe);break;default:r(0)}le+=Ae,be+=Fe}y.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");r(y.Ma<=T.height)}}y.C=C,r(y.C<=y.i)}function Zr(y){var C;if(0<y.ua)return 0;for(C=0;C<y.Wb;++C){var T=y.Ya[C].G,H=y.Ya[C].H;if(0<T[1][H[1]+0].g||0<T[2][H[2]+0].g||0<T[3][H[3]+0].g)return 0}return 1}function Sn(y,C,T,H,ee,se){if(y.Z!=0){var oe=y.qd,le=y.rd;for(r(ds[y.Z]!=null);C<T;++C)ds[y.Z](oe,le,H,ee,H,ee,se),oe=H,le=ee,ee+=se;y.qd=oe,y.rd=le}}function hn(y,C){var T=y.l.ma,H=T.Z==0||T.Z==1?y.l.j:y.C;if(H=y.C<H?H:y.C,r(C<=y.l.o),C>H){var ee=y.l.width,se=T.ca,oe=T.tb+ee*H,le=y.V,Ae=y.Ba+y.c*H,fe=y.gc;r(y.ab==1),r(fe[0].hc==3),$i(fe[0],H,C,le,Ae,se,oe),Sn(T,H,C,se,oe,ee)}y.C=y.Ma=C}function ys(y,C,T,H,ee,se,oe){var le=y.$/H,Ae=y.$%H,fe=y.m,be=y.s,Fe=T+y.$,he=Fe;ee=T+H*ee;var je=T+H*se,Se=280+be.ua,Ve=y.Pb?le:16777216,Ie=0<be.ua?be.Wa:null,Oe=be.wc,Ke=Fe<je?ar(be,Ae,le):null;r(y.C<se),r(je<=ee);var tt=!1;e:for(;;){for(;tt||Fe<je;){var rt=0;if(le>=Ve){var Zt=Fe-T;r((Ve=y).Pb),Ve.wd=Ve.m,Ve.xd=Zt,0<Ve.s.ua&&wt(Ve.s.Wa,Ve.s.vb),Ve=le+Ru}if(Ae&Oe||(Ke=ar(be,Ae,le)),r(Ke!=null),Ke.Qb&&(C[Fe]=Ke.qb,tt=!0),!tt)if(G(fe),Ke.jc){rt=fe,Zt=C;var Rt=Fe,Sr=Ke.pd[z(rt)&Ni-1];r(Ke.jc),256>Sr.g?(q(rt,rt.u+Sr.g),Zt[Rt]=Sr.value,rt=0):(q(rt,rt.u+Sr.g-256),r(256<=Sr.value),rt=Sr.value),rt==0&&(tt=!0)}else rt=cr(Ke.G[0],Ke.H[0],fe);if(fe.h)break;if(tt||256>rt){if(!tt)if(Ke.nd)C[Fe]=(Ke.qb|rt<<8)>>>0;else{if(G(fe),tt=cr(Ke.G[1],Ke.H[1],fe),G(fe),Zt=cr(Ke.G[2],Ke.H[2],fe),Rt=cr(Ke.G[3],Ke.H[3],fe),fe.h)break;C[Fe]=(Rt<<24|tt<<16|rt<<8|Zt)>>>0}if(tt=!1,++Fe,++Ae>=H&&(Ae=0,++le,oe!=null&&le<=se&&!(le%16)&&oe(y,le),Ie!=null))for(;he<Fe;)rt=C[he++],Ie.X[(506832829*rt&4294967295)>>>Ie.Mb]=rt}else if(280>rt){if(rt=lr(rt-256,fe),Zt=cr(Ke.G[4],Ke.H[4],fe),G(fe),Zt=Cr(H,Zt=lr(Zt,fe)),fe.h)break;if(Fe-T<Zt||ee-Fe<rt)break e;for(Rt=0;Rt<rt;++Rt)C[Fe+Rt]=C[Fe+Rt-Zt];for(Fe+=rt,Ae+=rt;Ae>=H;)Ae-=H,++le,oe!=null&&le<=se&&!(le%16)&&oe(y,le);if(r(Fe<=ee),Ae&Oe&&(Ke=ar(be,Ae,le)),Ie!=null)for(;he<Fe;)rt=C[he++],Ie.X[(506832829*rt&4294967295)>>>Ie.Mb]=rt}else{if(!(rt<Se))break e;for(tt=rt-280,r(Ie!=null);he<Fe;)rt=C[he++],Ie.X[(506832829*rt&4294967295)>>>Ie.Mb]=rt;rt=Fe,r(!(tt>>>(Zt=Ie).Xa)),C[rt]=Zt.X[tt],tt=!0}tt||r(fe.h==J(fe))}if(y.Pb&&fe.h&&Fe<ee)r(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&wt(y.s.vb,y.s.Wa);else{if(fe.h)break e;oe!=null&&oe(y,le>se?se:le),y.a=0,y.$=Fe-T}return 1}return y.a=3,0}function os(y){r(y!=null),y.vc=null,y.yc=null,y.Ya=null;var C=y.Wa;C!=null&&(C.X=null),y.vb=null,r(y!=null)}function so(){var y=new Jt;return y==null?null:(y.a=0,y.xb=wA,lt("Predictor","VP8LPredictors"),lt("Predictor","VP8LPredictors_C"),lt("PredictorAdd","VP8LPredictorsAdd"),lt("PredictorAdd","VP8LPredictorsAdd_C"),on=_t,fA=Bt,hA=Wt,Ho=Er,bl=Ft,Nl=xr,Nc=it,_.VP8LMapColor32b=po,_.VP8LMapColor8b=yc,y)}function ks(y,C,T,H,ee){var se=1,oe=[y],le=[C],Ae=H.m,fe=H.s,be=null,Fe=0;e:for(;;){if(T)for(;se&&E(Ae,1);){var he=oe,je=le,Se=H,Ve=1,Ie=Se.m,Oe=Se.gc[Se.ab],Ke=E(Ie,2);if(Se.Oc&1<<Ke)se=0;else{switch(Se.Oc|=1<<Ke,Oe.hc=Ke,Oe.Ea=he[0],Oe.nc=je[0],Oe.K=[null],++Se.ab,r(4>=Se.ab),Ke){case 0:case 1:Oe.b=E(Ie,3)+2,Ve=ks(qe(Oe.Ea,Oe.b),qe(Oe.nc,Oe.b),0,Se,Oe.K),Oe.K=Oe.K[0];break;case 3:var tt,rt=E(Ie,8)+1,Zt=16<rt?0:4<rt?1:2<rt?2:3;if(he[0]=qe(Oe.Ea,Zt),Oe.b=Zt,tt=Ve=ks(rt,1,0,Se,Oe.K)){var Rt,Sr=rt,Kt=Oe,Wr=1<<(8>>Kt.b),Za=i(Wr);if(Za==null)tt=0;else{var _r=Kt.K[0],Tt=Kt.w;for(Za[0]=Kt.K[0][0],Rt=1;Rt<1*Sr;++Rt)Za[Rt]=dt(_r[Tt+Rt],Za[Rt-1]);for(;Rt<4*Wr;++Rt)Za[Rt]=0;Kt.K[0]=null,Kt.K[0]=Za,tt=1}}Ve=tt;break;case 2:break;default:r(0)}se=Ve}}if(oe=oe[0],le=le[0],se&&E(Ae,1)&&!(se=1<=(Fe=E(Ae,4))&&11>=Fe)){H.a=3;break e}var yt;if(yt=se)t:{var ln,vr,$r,Ua=H,$n=oe,vn=le,qa=Fe,_n=T,Vn=Ua.m,Oa=Ua.s,Yr=[null],ca=1,Ha=0,Aa=Km[qa];r:for(;;){if(_n&&E(Vn,1)){var en=E(Vn,3)+2,tn=qe($n,en),ja=qe(vn,en),us=tn*ja;if(!ks(tn,ja,0,Ua,Yr))break r;for(Yr=Yr[0],Oa.xc=en,ln=0;ln<us;++ln){var wa=Yr[ln]>>8&65535;Yr[ln]=wa,wa>=ca&&(ca=wa+1)}}if(Vn.h)break r;for(vr=0;5>vr;++vr){var Ba=Ec[vr];!vr&&0<qa&&(Ba+=1<<qa),Ha<Ba&&(Ha=Ba)}var wn=o(ca*Aa,X),ts=ca,Ms=o(ts,re);if(Ms==null)var cn=null;else r(65536>=ts),cn=Ms;var An=i(Ha);if(cn==null||An==null||wn==null){Ua.a=1;break r}var fs=wn;for(ln=$r=0;ln<ca;++ln){var Ca=cn[ln],hs=Ca.G,Ci=Ca.H,qi=0,zn=1,dn=0;for(vr=0;5>vr;++vr){Ba=Ec[vr],hs[vr]=fs,Ci[vr]=$r,!vr&&0<qa&&(Ba+=1<<qa);n:{var El,zo=Ba,NA=Ua,vo=An,Wm=fs,mh=$r,Pa=0,Wi=NA.m,ph=E(Wi,1);if(s(vo,0,0,zo),ph){var gh=E(Wi,1)+1,Mu=E(Wi,1),Ou=E(Wi,Mu==0?1:8);vo[Ou]=1,gh==2&&(vo[Ou=E(Wi,8)]=1);var wo=1}else{var Ka=i(19),yn=E(Wi,4)+4;if(19<yn){NA.a=3;var un=0;break n}for(El=0;El<yn;++El)Ka[Cx[El]]=E(Wi,3);var jA=void 0,qo=void 0,BA=NA,Dx=Ka,Fn=zo,Hu=vo,Pd=0,yo=BA.m,Gi=8,ni=o(128,X);a:for(;K(ni,0,7,Dx,19);){if(E(yo,1)){var Qd=2+2*E(yo,3);if((jA=2+E(yo,Qd))>Fn)break a}else jA=Fn;for(qo=0;qo<Fn&&jA--;){G(yo);var Ku=ni[0+(127&z(yo))];q(yo,yo.u+Ku.g);var _l=Ku.value;if(16>_l)Hu[qo++]=_l,_l!=0&&(Gi=_l);else{var Gm=_l==16,xh=_l-16,Ym=Qu[xh],vh=E(yo,Dd[xh])+Ym;if(qo+vh>Fn)break a;for(var Xm=Gm?Gi:0;0<vh--;)Hu[qo++]=Xm}}Pd=1;break a}Pd||(BA.a=3),wo=Pd}(wo=wo&&!Wi.h)&&(Pa=K(Wm,mh,8,vo,zo)),wo&&Pa!=0?un=Pa:(NA.a=3,un=0)}if(un==0)break r;if(zn&&Hm[vr]==1&&(zn=fs[$r].g==0),qi+=fs[$r].g,$r+=un,3>=vr){var CA,$u=An[0];for(CA=1;CA<Ba;++CA)An[CA]>$u&&($u=An[CA]);dn+=$u}}if(Ca.nd=zn,Ca.Qb=0,zn&&(Ca.qb=(hs[3][Ci[3]+0].value<<24|hs[1][Ci[1]+0].value<<16|hs[2][Ci[2]+0].value)>>>0,qi==0&&256>hs[0][Ci[0]+0].value&&(Ca.Qb=1,Ca.qb+=hs[0][Ci[0]+0].value<<8)),Ca.jc=!Ca.Qb&&6>dn,Ca.jc){var Rd,si=Ca;for(Rd=0;Rd<Ni;++Rd){var Wo=Rd,Yi=si.pd[Wo],Uc=si.G[0][si.H[0]+Wo];256<=Uc.value?(Yi.g=Uc.g+256,Yi.value=Uc.value):(Yi.g=0,Yi.value=0,Wo>>=Kr(Uc,8,Yi),Wo>>=Kr(si.G[1][si.H[1]+Wo],16,Yi),Wo>>=Kr(si.G[2][si.H[2]+Wo],0,Yi),Kr(si.G[3][si.H[3]+Wo],24,Yi))}}}Oa.vc=Yr,Oa.Wb=ca,Oa.Ya=cn,Oa.yc=wn,yt=1;break t}yt=0}if(!(se=yt)){H.a=3;break e}if(0<Fe){if(fe.ua=1<<Fe,!de(fe.Wa,Fe)){H.a=1,se=0;break e}}else fe.ua=0;var Vu=H,zu=oe,Jm=le,qu=Vu.s,Wu=qu.xc;if(Vu.c=zu,Vu.i=Jm,qu.md=qe(zu,Wu),qu.wc=Wu==0?-1:(1<<Wu)-1,T){H.xb=xo;break e}if((be=i(oe*le))==null){H.a=1,se=0;break e}se=(se=ys(H,be,0,oe,le,le,null))&&!Ae.h;break e}return se?(ee!=null?ee[0]=be:(r(be==null),r(T)),H.$=0,T||os(fe)):os(fe),se}function Ri(y,C){var T=y.c*y.i,H=T+C+16*C;return r(y.c<=C),y.V=i(H),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+T+C,1)}function io(y,C){var T=y.C,H=C-T,ee=y.V,se=y.Ba+y.c*T;for(r(C<=y.l.o);0<H;){var oe=16<H?16:H,le=y.l.ma,Ae=y.l.width,fe=Ae*oe,be=le.ca,Fe=le.tb+Ae*T,he=y.Ta,je=y.Ua;Jr(y,oe,ee,se),nh(he,je,be,Fe,fe),Sn(le,T,T+oe,be,Fe,Ae),H-=oe,ee+=oe*y.c,T+=oe}r(T==C),y.C=y.Ma=C}function xt(){this.ub=this.yd=this.td=this.Rb=0}function Je(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ka(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ct(){this.Yb=(function(){var y=[];return(function C(T,H,ee){for(var se=ee[H],oe=0;oe<se&&(T.push(ee.length>H+1?[]:0),!(ee.length<H+1));oe++)C(T[oe],H+1,ee)})(y,0,[3,11]),y})()}function Kn(){this.jb=i(3),this.Wc=l([4,8],ct),this.Xc=l([4,17],ct)}function fa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ha(){this.ld=this.La=this.dd=this.tc=0}function Lr(){this.Na=this.la=0}function mn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ia(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mi(){this.uc=this.M=this.Nb=0,this.wa=Array(new ha),this.Y=0,this.ya=Array(new Ia),this.aa=0,this.l=new ls}function bs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Jn(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new xt,this.Kc=new Je,this.ed=new fa,this.Qa=new ka,this.Ic=this.$c=this.Aa=0,this.D=new mi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,P),this.ia=0,this.pb=o(4,mn),this.Pa=new Kn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bs),this.Hd=0,this.rb=Array(new Lr),this.sb=0,this.wa=Array(new ha),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ia),this.L=this.aa=0,this.gd=l([4,2],ha),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ls(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function eh(){var y=new Jn;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,_c||(_c=pi)),y}function pn(y,C,T){return y.a==0&&(y.a=C,y.sc=T,y.cb=0),0}function Bu(y,C,T){return 3<=T&&y[C+0]==157&&y[C+1]==1&&y[C+2]==42}function ic(y,C){if(y==null)return 0;if(y.a=0,y.sc="OK",C==null)return pn(y,2,"null VP8Io passed to VP8GetHeaders()");var T=C.data,H=C.w,ee=C.ha;if(4>ee)return pn(y,7,"Truncated header.");var se=T[H+0]|T[H+1]<<8|T[H+2]<<16,oe=y.Od;if(oe.Rb=!(1&se),oe.td=se>>1&7,oe.yd=se>>4&1,oe.ub=se>>5,3<oe.td)return pn(y,3,"Incorrect keyframe parameters.");if(!oe.yd)return pn(y,4,"Frame not displayable.");H+=3,ee-=3;var le=y.Kc;if(oe.Rb){if(7>ee)return pn(y,7,"cannot parse picture header");if(!Bu(T,H,ee))return pn(y,3,"Bad code word");le.c=16383&(T[H+4]<<8|T[H+3]),le.Td=T[H+4]>>6,le.i=16383&(T[H+6]<<8|T[H+5]),le.Ud=T[H+6]>>6,H+=7,ee-=7,y.za=le.c+15>>4,y.Ub=le.i+15>>4,C.width=le.c,C.height=le.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,s((se=y.Pa).jb,0,255,se.jb.length),r((se=y.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,s(se.Zb,0,0,se.Zb.length),s(se.Lb,0,0,se.Lb)}if(oe.ub>ee)return pn(y,7,"bad partition length");$(se=y.m,T,H,oe.ub),H+=oe.ub,ee-=oe.ub,oe.Rb&&(le.Ld=ce(se),le.Kd=ce(se)),le=y.Qa;var Ae,fe=y.Pa;if(r(se!=null),r(le!=null),le.Cb=ce(se),le.Cb){if(le.Bb=ce(se),ce(se)){for(le.Fb=ce(se),Ae=0;4>Ae;++Ae)le.Zb[Ae]=ce(se)?Z(se,7):0;for(Ae=0;4>Ae;++Ae)le.Lb[Ae]=ce(se)?Z(se,6):0}if(le.Bb)for(Ae=0;3>Ae;++Ae)fe.jb[Ae]=ce(se)?V(se,8):255}else le.Bb=0;if(se.Ka)return pn(y,3,"cannot parse segment header");if((le=y.ed).zd=ce(se),le.Tb=V(se,6),le.wb=V(se,3),le.Pc=ce(se),le.Pc&&ce(se)){for(fe=0;4>fe;++fe)ce(se)&&(le.vd[fe]=Z(se,6));for(fe=0;4>fe;++fe)ce(se)&&(le.od[fe]=Z(se,6))}if(y.L=le.Tb==0?0:le.zd?1:2,se.Ka)return pn(y,3,"cannot parse filter header");var be=ee;if(ee=Ae=H,H=Ae+be,le=be,y.Xb=(1<<V(y.m,2))-1,be<3*(fe=y.Xb))T=7;else{for(Ae+=3*fe,le-=3*fe,be=0;be<fe;++be){var Fe=T[ee+0]|T[ee+1]<<8|T[ee+2]<<16;Fe>le&&(Fe=le),$(y.Jc[+be],T,Ae,Fe),Ae+=Fe,le-=Fe,ee+=3}$(y.Jc[+fe],T,Ae,le),T=Ae<H?0:5}if(T!=0)return pn(y,T,"cannot parse partitions");for(T=V(Ae=y.m,7),ee=ce(Ae)?Z(Ae,4):0,H=ce(Ae)?Z(Ae,4):0,le=ce(Ae)?Z(Ae,4):0,fe=ce(Ae)?Z(Ae,4):0,Ae=ce(Ae)?Z(Ae,4):0,be=y.Qa,Fe=0;4>Fe;++Fe){if(be.Cb){var he=be.Zb[Fe];be.Fb||(he+=T)}else{if(0<Fe){y.pb[Fe]=y.pb[0];continue}he=T}var je=y.pb[Fe];je.Sc[0]=vA[Ya(he+ee,127)],je.Sc[1]=Ud[Ya(he+0,127)],je.Eb[0]=2*vA[Ya(he+H,127)],je.Eb[1]=101581*Ud[Ya(he+le,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=vA[Ya(he+fe,117)],je.Qc[1]=Ud[Ya(he+Ae,127)],je.lc=he+Ae}if(!oe.Rb)return pn(y,4,"Not a key frame.");for(ce(se),oe=y.Pa,T=0;4>T;++T){for(ee=0;8>ee;++ee)for(H=0;3>H;++H)for(le=0;11>le;++le)fe=pe(se,_x[T][ee][H][le])?V(se,8):Vm[T][ee][H][le],oe.Wc[T][ee].Yb[H][le]=fe;for(ee=0;17>ee;++ee)oe.Xc[T][ee]=oe.Wc[T][uh[ee]]}return y.kc=ce(se),y.kc&&(y.Bd=V(se,8)),y.cb=1}function pi(y,C,T,H,ee,se,oe){var le=C[ee].Yb[T];for(T=0;16>ee;++ee){if(!pe(y,le[T+0]))return ee;for(;!pe(y,le[T+1]);)if(le=C[++ee].Yb[0],T=0,ee==16)return 16;var Ae=C[ee+1].Yb;if(pe(y,le[T+2])){var fe=y,be=0;if(pe(fe,(he=le)[(Fe=T)+3]))if(pe(fe,he[Fe+6])){for(le=0,Fe=2*(be=pe(fe,he[Fe+8]))+(he=pe(fe,he[Fe+9+be])),be=0,he=Ah[Fe];he[le];++le)be+=be+pe(fe,he[le]);be+=3+(8<<Fe)}else pe(fe,he[Fe+7])?(be=7+2*pe(fe,165),be+=pe(fe,145)):be=5+pe(fe,159);else be=pe(fe,he[Fe+4])?3+pe(fe,he[Fe+5]):2;le=Ae[2]}else be=1,le=Ae[1];Ae=oe+dh[ee],0>(fe=y).b&&ne(fe);var Fe,he=fe.b,je=(Fe=fe.Ca>>1)-(fe.I>>he)>>31;--fe.b,fe.Ca+=je,fe.Ca|=1,fe.I-=(Fe+1&je)<<he,se[Ae]=((be^je)-je)*H[(0<ee)+0]}return 16}function Ti(y){var C=y.rb[y.sb-1];C.la=0,C.Na=0,s(y.zc,0,0,y.zc.length),y.ja=0}function Ds(y,C,T,H,ee){ee=y[C+T+32*H]+(ee>>3),y[C+T+32*H]=-256&ee?0>ee?0:255:ee}function oc(y,C,T,H,ee,se){Ds(y,C,0,T,H+ee),Ds(y,C,1,T,H+se),Ds(y,C,2,T,H-se),Ds(y,C,3,T,H-ee)}function nn(y){return(20091*y>>16)+y}function lc(y,C,T,H){var ee,se=0,oe=i(16);for(ee=0;4>ee;++ee){var le=y[C+0]+y[C+8],Ae=y[C+0]-y[C+8],fe=(35468*y[C+4]>>16)-nn(y[C+12]),be=nn(y[C+4])+(35468*y[C+12]>>16);oe[se+0]=le+be,oe[se+1]=Ae+fe,oe[se+2]=Ae-fe,oe[se+3]=le-be,se+=4,C++}for(ee=se=0;4>ee;++ee)le=(y=oe[se+0]+4)+oe[se+8],Ae=y-oe[se+8],fe=(35468*oe[se+4]>>16)-nn(oe[se+12]),Ds(T,H,0,0,le+(be=nn(oe[se+4])+(35468*oe[se+12]>>16))),Ds(T,H,1,0,Ae+fe),Ds(T,H,2,0,Ae-fe),Ds(T,H,3,0,le-be),se++,H+=32}function Cu(y,C,T,H){var ee=y[C+0]+4,se=35468*y[C+4]>>16,oe=nn(y[C+4]),le=35468*y[C+1]>>16;oc(T,H,0,ee+oe,y=nn(y[C+1]),le),oc(T,H,1,ee+se,y,le),oc(T,H,2,ee-se,y,le),oc(T,H,3,ee-oe,y,le)}function pd(y,C,T,H,ee){lc(y,C,T,H),ee&&lc(y,C+16,T,H+4)}function cc(y,C,T,H){jc(y,C+0,T,H,1),jc(y,C+32,T,H+128,1)}function oo(y,C,T,H){var ee;for(y=y[C+0]+4,ee=0;4>ee;++ee)for(C=0;4>C;++C)Ds(T,H,C,ee,y)}function sA(y,C,T,H){y[C+0]&&la(y,C+0,T,H),y[C+16]&&la(y,C+16,T,H+4),y[C+32]&&la(y,C+32,T,H+128),y[C+48]&&la(y,C+48,T,H+128+4)}function sa(y,C,T,H){var ee,se=i(16);for(ee=0;4>ee;++ee){var oe=y[C+0+ee]+y[C+12+ee],le=y[C+4+ee]+y[C+8+ee],Ae=y[C+4+ee]-y[C+8+ee],fe=y[C+0+ee]-y[C+12+ee];se[0+ee]=oe+le,se[8+ee]=oe-le,se[4+ee]=fe+Ae,se[12+ee]=fe-Ae}for(ee=0;4>ee;++ee)oe=(y=se[0+4*ee]+3)+se[3+4*ee],le=se[1+4*ee]+se[2+4*ee],Ae=se[1+4*ee]-se[2+4*ee],fe=y-se[3+4*ee],T[H+0]=oe+le>>3,T[H+16]=fe+Ae>>3,T[H+32]=oe-le>>3,T[H+48]=fe-Ae>>3,H+=64}function Lo(y,C,T){var H,ee=C-32,se=Ns,oe=255-y[ee-1];for(H=0;H<T;++H){var le,Ae=se,fe=oe+y[C-1];for(le=0;le<T;++le)y[C+le]=Ae[fe+y[ee+le]];C+=32}}function iA(y,C){Lo(y,C,4)}function gd(y,C){Lo(y,C,8)}function Su(y,C){Lo(y,C,16)}function Eu(y,C){var T;for(T=0;16>T;++T)a(y,C+32*T,y,C-32,16)}function oA(y,C){var T;for(T=16;0<T;--T)s(y,C,y[C-1],16),C+=32}function Io(y,C,T){var H;for(H=0;16>H;++H)s(C,T+32*H,y,16)}function Mi(y,C){var T,H=16;for(T=0;16>T;++T)H+=y[C-1+32*T]+y[C+T-32];Io(H>>5,y,C)}function lo(y,C){var T,H=8;for(T=0;16>T;++T)H+=y[C-1+32*T];Io(H>>4,y,C)}function Us(y,C){var T,H=8;for(T=0;16>T;++T)H+=y[C+T-32];Io(H>>4,y,C)}function gi(y,C){Io(128,y,C)}function hr(y,C,T){return y+2*C+T+2>>2}function Ac(y,C){var T,H=C-32;for(H=new Uint8Array([hr(y[H-1],y[H+0],y[H+1]),hr(y[H+0],y[H+1],y[H+2]),hr(y[H+1],y[H+2],y[H+3]),hr(y[H+2],y[H+3],y[H+4])]),T=0;4>T;++T)a(y,C+32*T,H,0,H.length)}function co(y,C){var T=y[C-1],H=y[C-1+32],ee=y[C-1+64],se=y[C-1+96];ve(y,C+0,16843009*hr(y[C-1-32],T,H)),ve(y,C+32,16843009*hr(T,H,ee)),ve(y,C+64,16843009*hr(H,ee,se)),ve(y,C+96,16843009*hr(ee,se,se))}function th(y,C){var T,H=4;for(T=0;4>T;++T)H+=y[C+T-32]+y[C-1+32*T];for(H>>=3,T=0;4>T;++T)s(y,C+32*T,H,4)}function _u(y,C){var T=y[C-1+0],H=y[C-1+32],ee=y[C-1+64],se=y[C-1-32],oe=y[C+0-32],le=y[C+1-32],Ae=y[C+2-32],fe=y[C+3-32];y[C+0+96]=hr(H,ee,y[C-1+96]),y[C+1+96]=y[C+0+64]=hr(T,H,ee),y[C+2+96]=y[C+1+64]=y[C+0+32]=hr(se,T,H),y[C+3+96]=y[C+2+64]=y[C+1+32]=y[C+0+0]=hr(oe,se,T),y[C+3+64]=y[C+2+32]=y[C+1+0]=hr(le,oe,se),y[C+3+32]=y[C+2+0]=hr(Ae,le,oe),y[C+3+0]=hr(fe,Ae,le)}function ei(y,C){var T=y[C+1-32],H=y[C+2-32],ee=y[C+3-32],se=y[C+4-32],oe=y[C+5-32],le=y[C+6-32],Ae=y[C+7-32];y[C+0+0]=hr(y[C+0-32],T,H),y[C+1+0]=y[C+0+32]=hr(T,H,ee),y[C+2+0]=y[C+1+32]=y[C+0+64]=hr(H,ee,se),y[C+3+0]=y[C+2+32]=y[C+1+64]=y[C+0+96]=hr(ee,se,oe),y[C+3+32]=y[C+2+64]=y[C+1+96]=hr(se,oe,le),y[C+3+64]=y[C+2+96]=hr(oe,le,Ae),y[C+3+96]=hr(le,Ae,Ae)}function Po(y,C){var T=y[C-1+0],H=y[C-1+32],ee=y[C-1+64],se=y[C-1-32],oe=y[C+0-32],le=y[C+1-32],Ae=y[C+2-32],fe=y[C+3-32];y[C+0+0]=y[C+1+64]=se+oe+1>>1,y[C+1+0]=y[C+2+64]=oe+le+1>>1,y[C+2+0]=y[C+3+64]=le+Ae+1>>1,y[C+3+0]=Ae+fe+1>>1,y[C+0+96]=hr(ee,H,T),y[C+0+64]=hr(H,T,se),y[C+0+32]=y[C+1+96]=hr(T,se,oe),y[C+1+32]=y[C+2+96]=hr(se,oe,le),y[C+2+32]=y[C+3+96]=hr(oe,le,Ae),y[C+3+32]=hr(le,Ae,fe)}function Fu(y,C){var T=y[C+0-32],H=y[C+1-32],ee=y[C+2-32],se=y[C+3-32],oe=y[C+4-32],le=y[C+5-32],Ae=y[C+6-32],fe=y[C+7-32];y[C+0+0]=T+H+1>>1,y[C+1+0]=y[C+0+64]=H+ee+1>>1,y[C+2+0]=y[C+1+64]=ee+se+1>>1,y[C+3+0]=y[C+2+64]=se+oe+1>>1,y[C+0+32]=hr(T,H,ee),y[C+1+32]=y[C+0+96]=hr(H,ee,se),y[C+2+32]=y[C+1+96]=hr(ee,se,oe),y[C+3+32]=y[C+2+96]=hr(se,oe,le),y[C+3+64]=hr(oe,le,Ae),y[C+3+96]=hr(le,Ae,fe)}function lA(y,C){var T=y[C-1+0],H=y[C-1+32],ee=y[C-1+64],se=y[C-1+96];y[C+0+0]=T+H+1>>1,y[C+2+0]=y[C+0+32]=H+ee+1>>1,y[C+2+32]=y[C+0+64]=ee+se+1>>1,y[C+1+0]=hr(T,H,ee),y[C+3+0]=y[C+1+32]=hr(H,ee,se),y[C+3+32]=y[C+1+64]=hr(ee,se,se),y[C+3+64]=y[C+2+64]=y[C+0+96]=y[C+1+96]=y[C+2+96]=y[C+3+96]=se}function dc(y,C){var T=y[C-1+0],H=y[C-1+32],ee=y[C-1+64],se=y[C-1+96],oe=y[C-1-32],le=y[C+0-32],Ae=y[C+1-32],fe=y[C+2-32];y[C+0+0]=y[C+2+32]=T+oe+1>>1,y[C+0+32]=y[C+2+64]=H+T+1>>1,y[C+0+64]=y[C+2+96]=ee+H+1>>1,y[C+0+96]=se+ee+1>>1,y[C+3+0]=hr(le,Ae,fe),y[C+2+0]=hr(oe,le,Ae),y[C+1+0]=y[C+3+32]=hr(T,oe,le),y[C+1+32]=y[C+3+64]=hr(H,T,oe),y[C+1+64]=y[C+3+96]=hr(ee,H,T),y[C+1+96]=hr(se,ee,H)}function xd(y,C){var T;for(T=0;8>T;++T)a(y,C+32*T,y,C-32,8)}function Oi(y,C){var T;for(T=0;8>T;++T)s(y,C,y[C-1],8),C+=32}function Ao(y,C,T){var H;for(H=0;8>H;++H)s(C,T+32*H,y,8)}function Hi(y,C){var T,H=8;for(T=0;8>T;++T)H+=y[C+T-32]+y[C-1+32*T];Ao(H>>4,y,C)}function cA(y,C){var T,H=4;for(T=0;8>T;++T)H+=y[C+T-32];Ao(H>>3,y,C)}function vd(y,C){var T,H=4;for(T=0;8>T;++T)H+=y[C-1+32*T];Ao(H>>3,y,C)}function wd(y,C){Ao(128,y,C)}function Qo(y,C,T){var H=y[C-T],ee=y[C+0],se=3*(ee-H)+go[1020+y[C-2*T]-y[C+T]],oe=gA[112+(se+4>>3)];y[C-T]=Ns[255+H+gA[112+(se+3>>3)]],y[C+0]=Ns[255+ee-oe]}function uo(y,C,T,H){var ee=y[C+0],se=y[C+T];return ji[255+y[C-2*T]-y[C-T]]>H||ji[255+se-ee]>H}function uc(y,C,T,H){return 4*ji[255+y[C-T]-y[C+0]]+ji[255+y[C-2*T]-y[C+T]]<=H}function fc(y,C,T,H,ee){var se=y[C-3*T],oe=y[C-2*T],le=y[C-T],Ae=y[C+0],fe=y[C+T],be=y[C+2*T],Fe=y[C+3*T];return 4*ji[255+le-Ae]+ji[255+oe-fe]>H?0:ji[255+y[C-4*T]-se]<=ee&&ji[255+se-oe]<=ee&&ji[255+oe-le]<=ee&&ji[255+Fe-be]<=ee&&ji[255+be-fe]<=ee&&ji[255+fe-Ae]<=ee}function xi(y,C,T,H){var ee=2*H+1;for(H=0;16>H;++H)uc(y,C+H,T,ee)&&Qo(y,C+H,T)}function Ro(y,C,T,H){var ee=2*H+1;for(H=0;16>H;++H)uc(y,C+H*T,1,ee)&&Qo(y,C+H*T,1)}function hc(y,C,T,H){var ee;for(ee=3;0<ee;--ee)xi(y,C+=4*T,T,H)}function yd(y,C,T,H){var ee;for(ee=3;0<ee;--ee)Ro(y,C+=4,T,H)}function vi(y,C,T,H,ee,se,oe,le){for(se=2*se+1;0<ee--;){if(fc(y,C,T,se,oe))if(uo(y,C,T,le))Qo(y,C,T);else{var Ae=y,fe=C,be=T,Fe=Ae[fe-2*be],he=Ae[fe-be],je=Ae[fe+0],Se=Ae[fe+be],Ve=Ae[fe+2*be],Ie=27*(Ke=go[1020+3*(je-he)+go[1020+Fe-Se]])+63>>7,Oe=18*Ke+63>>7,Ke=9*Ke+63>>7;Ae[fe-3*be]=Ns[255+Ae[fe-3*be]+Ke],Ae[fe-2*be]=Ns[255+Fe+Oe],Ae[fe-be]=Ns[255+he+Ie],Ae[fe+0]=Ns[255+je-Ie],Ae[fe+be]=Ns[255+Se-Oe],Ae[fe+2*be]=Ns[255+Ve-Ke]}C+=H}}function wi(y,C,T,H,ee,se,oe,le){for(se=2*se+1;0<ee--;){if(fc(y,C,T,se,oe))if(uo(y,C,T,le))Qo(y,C,T);else{var Ae=y,fe=C,be=T,Fe=Ae[fe-be],he=Ae[fe+0],je=Ae[fe+be],Se=gA[112+(4+(Ve=3*(he-Fe))>>3)],Ve=gA[112+(Ve+3>>3)],Ie=Se+1>>1;Ae[fe-2*be]=Ns[255+Ae[fe-2*be]+Ie],Ae[fe-be]=Ns[255+Fe+Ve],Ae[fe+0]=Ns[255+he-Se],Ae[fe+be]=Ns[255+je-Ie]}C+=H}}function bd(y,C,T,H,ee,se){vi(y,C,T,1,16,H,ee,se)}function cs(y,C,T,H,ee,se){vi(y,C,1,T,16,H,ee,se)}function yi(y,C,T,H,ee,se){var oe;for(oe=3;0<oe;--oe)wi(y,C+=4*T,T,1,16,H,ee,se)}function AA(y,C,T,H,ee,se){var oe;for(oe=3;0<oe;--oe)wi(y,C+=4,1,T,16,H,ee,se)}function k(y,C,T,H,ee,se,oe,le){vi(y,C,ee,1,8,se,oe,le),vi(T,H,ee,1,8,se,oe,le)}function te(y,C,T,H,ee,se,oe,le){vi(y,C,1,ee,8,se,oe,le),vi(T,H,1,ee,8,se,oe,le)}function me(y,C,T,H,ee,se,oe,le){wi(y,C+4*ee,ee,1,8,se,oe,le),wi(T,H+4*ee,ee,1,8,se,oe,le)}function we(y,C,T,H,ee,se,oe,le){wi(y,C+4,1,ee,8,se,oe,le),wi(T,H+4,1,ee,8,se,oe,le)}function Ce(){this.ba=new Qe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ht(){this.ua=0,this.Wa=new bt,this.vb=new bt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new X}function Jt(){this.xb=this.a=0,this.l=new ls,this.ca=new Qe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ht,this.ab=0,this.gc=o(4,nt),this.Oc=0}function wr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ls,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yr(y,C,T,H,ee,se,oe){for(y=y==null?0:y[C+0],C=0;C<oe;++C)ee[se+C]=y+T[H+C]&255,y=ee[se+C]}function oa(y,C,T,H,ee,se,oe){var le;if(y==null)yr(null,null,T,H,ee,se,oe);else for(le=0;le<oe;++le)ee[se+le]=y[C+le]+T[H+le]&255}function za(y,C,T,H,ee,se,oe){if(y==null)yr(null,null,T,H,ee,se,oe);else{var le,Ae=y[C+0],fe=Ae,be=Ae;for(le=0;le<oe;++le)fe=be+(Ae=y[C+le])-fe,be=T[H+le]+(-256&fe?0>fe?0:255:fe)&255,fe=Ae,ee[se+le]=be}}function gn(y,C,T,H){var ee=C.width,se=C.o;if(r(y!=null&&C!=null),0>T||0>=H||T+H>se)return null;if(!y.Cc){if(y.ga==null){var oe;if(y.ga=new wr,(oe=y.ga==null)||(oe=C.width*C.o,r(y.Gb.length==0),y.Gb=i(oe),y.Uc=0,y.Gb==null?oe=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,oe=1),oe=!oe),!oe){oe=y.ga;var le=y.Fa,Ae=y.P,fe=y.qc,be=y.mb,Fe=y.nb,he=Ae+1,je=fe-1,Se=oe.l;if(r(le!=null&&be!=null&&C!=null),ds[0]=null,ds[1]=yr,ds[2]=oa,ds[3]=za,oe.ca=be,oe.tb=Fe,oe.c=C.width,oe.i=C.height,r(0<oe.c&&0<oe.i),1>=fe)C=0;else if(oe.$a=3&le[Ae+0],oe.Z=le[Ae+0]>>2&3,oe.Lc=le[Ae+0]>>4&3,Ae=le[Ae+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||Ae)C=0;else if(Se.put=Ct,Se.ac=et,Se.bc=or,Se.ma=oe,Se.width=C.width,Se.height=C.height,Se.Da=C.Da,Se.v=C.v,Se.va=C.va,Se.j=C.j,Se.o=C.o,oe.$a)e:{r(oe.$a==1),C=so();t:for(;;){if(C==null){C=0;break e}if(r(oe!=null),oe.mc=C,C.c=oe.c,C.i=oe.i,C.l=oe.l,C.l.ma=oe,C.l.width=oe.c,C.l.height=oe.i,C.a=0,ie(C.m,le,he,je),!ks(oe.c,oe.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&Zr(C.s)?(oe.ic=1,le=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(le),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(oe.ic=0,C=Ri(C,oe.c)),!C))break t;C=1;break e}oe.mc=null,C=0}else C=je>=oe.c*oe.i;oe=!C}if(oe)return null;y.ga.Lc!=1?y.Ga=0:H=se-T}r(y.ga!=null),r(T+H<=se);e:{if(C=(le=y.ga).c,se=le.l.o,le.$a==0){if(he=y.rc,je=y.Vc,Se=y.Fa,Ae=y.P+1+T*C,fe=y.mb,be=y.nb+T*C,r(Ae<=y.P+y.qc),le.Z!=0)for(r(ds[le.Z]!=null),oe=0;oe<H;++oe)ds[le.Z](he,je,Se,Ae,fe,be,C),he=fe,je=be,be+=C,Ae+=C;else for(oe=0;oe<H;++oe)a(fe,be,Se,Ae,C),he=fe,je=be,be+=C,Ae+=C;y.rc=he,y.Vc=je}else{if(r(le.mc!=null),C=T+H,r((oe=le.mc)!=null),r(C<=oe.i),oe.C>=C)C=1;else if(le.ic||bi(),le.ic){le=oe.V,he=oe.Ba,je=oe.c;var Ve=oe.i,Ie=(Se=1,Ae=oe.$/je,fe=oe.$%je,be=oe.m,Fe=oe.s,oe.$),Oe=je*Ve,Ke=je*C,tt=Fe.wc,rt=Ie<Ke?ar(Fe,fe,Ae):null;r(Ie<=Oe),r(C<=Ve),r(Zr(Fe));t:for(;;){for(;!be.h&&Ie<Ke;){if(fe&tt||(rt=ar(Fe,fe,Ae)),r(rt!=null),G(be),256>(Ve=cr(rt.G[0],rt.H[0],be)))le[he+Ie]=Ve,++Ie,++fe>=je&&(fe=0,++Ae<=C&&!(Ae%16)&&hn(oe,Ae));else{if(!(280>Ve)){Se=0;break t}Ve=lr(Ve-256,be);var Zt,Rt=cr(rt.G[4],rt.H[4],be);if(G(be),!(Ie>=(Rt=Cr(je,Rt=lr(Rt,be)))&&Oe-Ie>=Ve)){Se=0;break t}for(Zt=0;Zt<Ve;++Zt)le[he+Ie+Zt]=le[he+Ie+Zt-Rt];for(Ie+=Ve,fe+=Ve;fe>=je;)fe-=je,++Ae<=C&&!(Ae%16)&&hn(oe,Ae);Ie<Ke&&fe&tt&&(rt=ar(Fe,fe,Ae))}r(be.h==J(be))}hn(oe,Ae>C?C:Ae);break t}!Se||be.h&&Ie<Oe?(Se=0,oe.a=be.h?5:3):oe.$=Ie,C=Se}else C=ys(oe,oe.V,oe.Ba,oe.c,oe.i,C,io);if(!C){H=0;break e}}T+H>=se&&(y.Cc=1),H=1}if(!H)return null;if(y.Cc&&((H=y.ga)!=null&&(H.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+T*ee}function Da(y,C,T,H,ee,se){for(;0<ee--;){var oe,le=y,Ae=C+(T?1:0),fe=y,be=C+(T?0:3);for(oe=0;oe<H;++oe){var Fe=fe[be+4*oe];Fe!=255&&(Fe*=32897,le[Ae+4*oe+0]=le[Ae+4*oe+0]*Fe>>23,le[Ae+4*oe+1]=le[Ae+4*oe+1]*Fe>>23,le[Ae+4*oe+2]=le[Ae+4*oe+2]*Fe>>23)}C+=se}}function En(y,C,T,H,ee){for(;0<H--;){var se;for(se=0;se<T;++se){var oe=y[C+2*se+0],le=15&(fe=y[C+2*se+1]),Ae=4369*le,fe=(240&fe|fe>>4)*Ae>>16;y[C+2*se+0]=(240&oe|oe>>4)*Ae>>16&240|(15&oe|oe<<4)*Ae>>16>>4&15,y[C+2*se+1]=240&fe|le}C+=ee}}function sn(y,C,T,H,ee,se,oe,le){var Ae,fe,be=255;for(fe=0;fe<ee;++fe){for(Ae=0;Ae<H;++Ae){var Fe=y[C+Ae];se[oe+4*Ae]=Fe,be&=Fe}C+=T,oe+=le}return be!=255}function Zn(y,C,T,H,ee){var se;for(se=0;se<ee;++se)T[H+se]=y[C+se]>>8}function bi(){Cc=Da,ah=En,Sd=sn,nh=Zn}function Ls(y,C,T){_[y]=function(H,ee,se,oe,le,Ae,fe,be,Fe,he,je,Se,Ve,Ie,Oe,Ke,tt){var rt,Zt=tt-1>>1,Rt=le[Ae+0]|fe[be+0]<<16,Sr=Fe[he+0]|je[Se+0]<<16;r(H!=null);var Kt=3*Rt+Sr+131074>>2;for(C(H[ee+0],255&Kt,Kt>>16,Ve,Ie),se!=null&&(Kt=3*Sr+Rt+131074>>2,C(se[oe+0],255&Kt,Kt>>16,Oe,Ke)),rt=1;rt<=Zt;++rt){var Wr=le[Ae+rt]|fe[be+rt]<<16,Za=Fe[he+rt]|je[Se+rt]<<16,_r=Rt+Wr+Sr+Za+524296,Tt=_r+2*(Wr+Sr)>>3;Kt=Tt+Rt>>1,Rt=(_r=_r+2*(Rt+Za)>>3)+Wr>>1,C(H[ee+2*rt-1],255&Kt,Kt>>16,Ve,Ie+(2*rt-1)*T),C(H[ee+2*rt-0],255&Rt,Rt>>16,Ve,Ie+(2*rt-0)*T),se!=null&&(Kt=_r+Sr>>1,Rt=Tt+Za>>1,C(se[oe+2*rt-1],255&Kt,Kt>>16,Oe,Ke+(2*rt-1)*T),C(se[oe+2*rt+0],255&Rt,Rt>>16,Oe,Ke+(2*rt+0)*T)),Rt=Wr,Sr=Za}1&tt||(Kt=3*Rt+Sr+131074>>2,C(H[ee+tt-1],255&Kt,Kt>>16,Ve,Ie+(tt-1)*T),se!=null&&(Kt=3*Sr+Rt+131074>>2,C(se[oe+tt-1],255&Kt,Kt>>16,Oe,Ke+(tt-1)*T)))}}function ku(){Qs[Iu]=Fx,Qs[Bl]=Cl,Qs[Om]=kx,Qs[Ed]=yA,Qs[_d]=Fc,Qs[Na]=Ld,Qs[Pu]=fh,Qs[xA]=Cl,Qs[Sc]=yA,Qs[Fd]=Fc,Qs[kd]=Ld}function gl(y){return y&-16384?0>y?0:255:y>>Sl}function mc(y,C){return gl((19077*y>>8)+(26149*C>>8)-14234)}function xl(y,C,T){return gl((19077*y>>8)-(6419*C>>8)-(13320*T>>8)+8708)}function pc(y,C){return gl((19077*y>>8)+(33050*C>>8)-17685)}function vl(y,C,T,H,ee){H[ee+0]=mc(y,T),H[ee+1]=xl(y,C,T),H[ee+2]=pc(y,C)}function gc(y,C,T,H,ee){H[ee+0]=pc(y,C),H[ee+1]=xl(y,C,T),H[ee+2]=mc(y,T)}function As(y,C,T,H,ee){var se=xl(y,C,T);C=se<<3&224|pc(y,C)>>3,H[ee+0]=248&mc(y,T)|se>>5,H[ee+1]=C}function xc(y,C,T,H,ee){var se=240&pc(y,C)|15;H[ee+0]=240&mc(y,T)|xl(y,C,T)>>4,H[ee+1]=se}function vc(y,C,T,H,ee){H[ee+0]=255,vl(y,C,T,H,ee+1)}function Nd(y,C,T,H,ee){gc(y,C,T,H,ee),H[ee+3]=255}function jd(y,C,T,H,ee){vl(y,C,T,H,ee),H[ee+3]=255}function Ya(y,C){return 0>y?0:y>C?C:y}function Ki(y,C,T){_[y]=function(H,ee,se,oe,le,Ae,fe,be,Fe){for(var he=be+(-2&Fe)*T;be!=he;)C(H[ee+0],se[oe+0],le[Ae+0],fe,be),C(H[ee+1],se[oe+0],le[Ae+0],fe,be+T),ee+=2,++oe,++Ae,be+=2*T;1&Fe&&C(H[ee+0],se[oe+0],le[Ae+0],fe,be)}}function fo(y,C,T){return T==0?y==0?C==0?6:5:C==0?4:0:T}function Du(y,C,T,H,ee){switch(y>>>30){case 3:jc(C,T,H,ee,0);break;case 2:Xa(C,T,H,ee);break;case 1:la(C,T,H,ee)}}function ti(y,C){var T,H,ee=C.M,se=C.Nb,oe=y.oc,le=y.pc+40,Ae=y.oc,fe=y.pc+584,be=y.oc,Fe=y.pc+600;for(T=0;16>T;++T)oe[le+32*T-1]=129;for(T=0;8>T;++T)Ae[fe+32*T-1]=129,be[Fe+32*T-1]=129;for(0<ee?oe[le-1-32]=Ae[fe-1-32]=be[Fe-1-32]=129:(s(oe,le-32-1,127,21),s(Ae,fe-32-1,127,9),s(be,Fe-32-1,127,9)),H=0;H<y.za;++H){var he=C.ya[C.aa+H];if(0<H){for(T=-1;16>T;++T)a(oe,le+32*T-4,oe,le+32*T+12,4);for(T=-1;8>T;++T)a(Ae,fe+32*T-4,Ae,fe+32*T+4,4),a(be,Fe+32*T-4,be,Fe+32*T+4,4)}var je=y.Gd,Se=y.Hd+H,Ve=he.ad,Ie=he.Hc;if(0<ee&&(a(oe,le-32,je[Se].y,0,16),a(Ae,fe-32,je[Se].f,0,8),a(be,Fe-32,je[Se].ea,0,8)),he.Za){var Oe=oe,Ke=le-32+16;for(0<ee&&(H>=y.za-1?s(Oe,Ke,je[Se].y[15],4):a(Oe,Ke,je[Se+1].y,0,4)),T=0;4>T;T++)Oe[Ke+128+T]=Oe[Ke+256+T]=Oe[Ke+384+T]=Oe[Ke+0+T];for(T=0;16>T;++T,Ie<<=2)Oe=oe,Ke=le+hh[T],Bi[he.Ob[T]](Oe,Ke),Du(Ie,Ve,16*+T,Oe,Ke)}else if(Oe=fo(H,ee,he.Ob[0]),js[Oe](oe,le),Ie!=0)for(T=0;16>T;++T,Ie<<=2)Du(Ie,Ve,16*+T,oe,le+hh[T]);for(T=he.Gc,Oe=fo(H,ee,he.Dd),Ps[Oe](Ae,fe),Ps[Oe](be,Fe),Ie=Ve,Oe=Ae,Ke=fe,255&(he=0|T)&&(170&he?Is(Ie,256,Oe,Ke):xa(Ie,256,Oe,Ke)),he=be,Ie=Fe,255&(T>>=8)&&(170&T?Is(Ve,320,he,Ie):xa(Ve,320,he,Ie)),ee<y.Ub-1&&(a(je[Se].y,0,oe,le+480,16),a(je[Se].f,0,Ae,fe+224,8),a(je[Se].ea,0,be,Fe+224,8)),T=8*se*y.B,je=y.sa,Se=y.ta+16*H+16*se*y.R,Ve=y.qa,he=y.ra+8*H+T,Ie=y.Ha,Oe=y.Ia+8*H+T,T=0;16>T;++T)a(je,Se+T*y.R,oe,le+32*T,16);for(T=0;8>T;++T)a(Ve,he+T*y.B,Ae,fe+32*T,8),a(Ie,Oe+T*y.B,be,Fe+32*T,8)}}function wl(y,C,T,H,ee,se,oe,le,Ae){var fe=[0],be=[0],Fe=0,he=Ae!=null?Ae.kd:0,je=Ae??new Ye;if(y==null||12>T)return 7;je.data=y,je.w=C,je.ha=T,C=[C],T=[T],je.gb=[je.gb];e:{var Se=C,Ve=T,Ie=je.gb;if(r(y!=null),r(Ve!=null),r(Ie!=null),Ie[0]=0,12<=Ve[0]&&!t(y,Se[0],"RIFF")){if(t(y,Se[0]+8,"WEBP")){Ie=3;break e}var Oe=xe(y,Se[0]+4);if(12>Oe||4294967286<Oe){Ie=3;break e}if(he&&Oe>Ve[0]-8){Ie=7;break e}Ie[0]=Oe,Se[0]+=12,Ve[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Oe=0<je.gb[0],T=T[0];;){e:{var Ke=y;Ve=C,Ie=T;var tt=fe,rt=be,Zt=Se=[0];if((Kt=Fe=[Fe])[0]=0,8>Ie[0])Ie=7;else{if(!t(Ke,Ve[0],"VP8X")){if(xe(Ke,Ve[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var Rt=xe(Ke,Ve[0]+8),Sr=1+ke(Ke,Ve[0]+12);if(2147483648<=Sr*(Ke=1+ke(Ke,Ve[0]+15))){Ie=3;break e}Zt!=null&&(Zt[0]=Rt),tt!=null&&(tt[0]=Sr),rt!=null&&(rt[0]=Ke),Ve[0]+=18,Ie[0]-=18,Kt[0]=1}Ie=0}}if(Fe=Fe[0],Se=Se[0],Ie!=0)return Ie;if(Ve=!!(2&Se),!Oe&&Fe)return 3;if(se!=null&&(se[0]=!!(16&Se)),oe!=null&&(oe[0]=Ve),le!=null&&(le[0]=0),oe=fe[0],Se=be[0],Fe&&Ve&&Ae==null){Ie=0;break}if(4>T){Ie=7;break}if(Oe&&Fe||!Oe&&!Fe&&!t(y,C[0],"ALPH")){T=[T],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{Rt=y,Ie=C,Oe=T;var Kt=je.gb;tt=je.na,rt=je.P,Zt=je.Sa,Sr=22,r(Rt!=null),r(Oe!=null),Ke=Ie[0];var Wr=Oe[0];for(r(tt!=null),r(Zt!=null),tt[0]=null,rt[0]=null,Zt[0]=0;;){if(Ie[0]=Ke,Oe[0]=Wr,8>Wr){Ie=7;break e}var Za=xe(Rt,Ke+4);if(4294967286<Za){Ie=3;break e}var _r=8+Za+1&-2;if(Sr+=_r,0<Kt&&Sr>Kt){Ie=3;break e}if(!t(Rt,Ke,"VP8 ")||!t(Rt,Ke,"VP8L")){Ie=0;break e}if(Wr[0]<_r){Ie=7;break e}t(Rt,Ke,"ALPH")||(tt[0]=Rt,rt[0]=Ke+8,Zt[0]=Za),Ke+=_r,Wr-=_r}}if(T=T[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],Ie!=0)break}T=[T],je.Ja=[je.Ja],je.xa=[je.xa];e:if(Kt=y,Ie=C,Oe=T,tt=je.gb[0],rt=je.Ja,Zt=je.xa,Rt=Ie[0],Ke=!t(Kt,Rt,"VP8 "),Sr=!t(Kt,Rt,"VP8L"),r(Kt!=null),r(Oe!=null),r(rt!=null),r(Zt!=null),8>Oe[0])Ie=7;else{if(Ke||Sr){if(Kt=xe(Kt,Rt+4),12<=tt&&Kt>tt-12){Ie=3;break e}if(he&&Kt>Oe[0]-8){Ie=7;break e}rt[0]=Kt,Ie[0]+=8,Oe[0]-=8,Zt[0]=Sr}else Zt[0]=5<=Oe[0]&&Kt[Rt+0]==47&&!(Kt[Rt+4]>>5),rt[0]=Oe[0];Ie=0}if(T=T[0],je.Ja=je.Ja[0],je.xa=je.xa[0],C=C[0],Ie!=0)break;if(4294967286<je.Ja)return 3;if(le==null||Ve||(le[0]=je.xa?2:1),oe=[oe],Se=[Se],je.xa){if(5>T){Ie=7;break}le=oe,he=Se,Ve=se,y==null||5>T?y=0:5<=T&&y[C+0]==47&&!(y[C+4]>>5)?(Oe=[0],Kt=[0],tt=[0],ie(rt=new Y,y,C,T),mr(rt,Oe,Kt,tt)?(le!=null&&(le[0]=Oe[0]),he!=null&&(he[0]=Kt[0]),Ve!=null&&(Ve[0]=tt[0]),y=1):y=0):y=0}else{if(10>T){Ie=7;break}le=Se,y==null||10>T||!Bu(y,C+3,T-3)?y=0:(he=y[C+0]|y[C+1]<<8|y[C+2]<<16,Ve=16383&(y[C+7]<<8|y[C+6]),y=16383&(y[C+9]<<8|y[C+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=je.Ja||!Ve||!y?y=0:(oe&&(oe[0]=Ve),le&&(le[0]=y),y=1))}if(!y||(oe=oe[0],Se=Se[0],Fe&&(fe[0]!=oe||be[0]!=Se)))return 3;Ae!=null&&(Ae[0]=je,Ae.offset=C-Ae.w,r(4294967286>C-Ae.w),r(Ae.offset==Ae.ha-T));break}return Ie==0||Ie==7&&Fe&&Ae==null?(se!=null&&(se[0]|=je.na!=null&&0<je.na.length),H!=null&&(H[0]=oe),ee!=null&&(ee[0]=Se),0):Ie}function dA(y,C,T){var H=C.width,ee=C.height,se=0,oe=0,le=H,Ae=ee;if(C.Da=y!=null&&0<y.Da,C.Da&&(le=y.cd,Ae=y.bd,se=y.v,oe=y.j,11>T||(se&=-2,oe&=-2),0>se||0>oe||0>=le||0>=Ae||se+le>H||oe+Ae>ee))return 0;if(C.v=se,C.j=oe,C.va=se+le,C.o=oe+Ae,C.U=le,C.T=Ae,C.da=y!=null&&0<y.da,C.da){if(!mt(le,Ae,T=[y.ib],se=[y.hb]))return 0;C.ib=T[0],C.hb=se[0]}return C.ob=y!=null&&y.ob,C.Kb=y==null||!y.Sd,C.da&&(C.ob=C.ib<3*H/4&&C.hb<3*ee/4,C.Kb=0),1}function uA(y){if(y==null)return 2;if(11>y.S){var C=y.f.RGBA;C.fb+=(y.height-1)*C.A,C.A=-C.A}else C=y.f.kb,y=y.height,C.O+=(y-1)*C.fa,C.fa=-C.fa,C.N+=(y-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(y-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(y-1)*C.lb,C.lb=-C.lb);return 0}function To(y,C,T,H){if(H==null||0>=y||0>=C)return 2;if(T!=null){if(T.Da){var ee=T.cd,se=T.bd,oe=-2&T.v,le=-2&T.j;if(0>oe||0>le||0>=ee||0>=se||oe+ee>y||le+se>C)return 2;y=ee,C=se}if(T.da){if(!mt(y,C,ee=[T.ib],se=[T.hb]))return 2;y=ee[0],C=se[0]}}H.width=y,H.height=C;e:{var Ae=H.width,fe=H.height;if(y=H.S,0>=Ae||0>=fe||!(y>=Iu&&13>y))y=2;else{if(0>=H.Rd&&H.sd==null){oe=se=ee=C=0;var be=(le=Ae*Id[y])*fe;if(11>y||(se=(fe+1)/2*(C=(Ae+1)/2),y==12&&(oe=(ee=Ae)*fe)),(fe=i(be+2*se+oe))==null){y=1;break e}H.sd=fe,11>y?((Ae=H.f.RGBA).eb=fe,Ae.fb=0,Ae.A=le,Ae.size=be):((Ae=H.f.kb).y=fe,Ae.O=0,Ae.fa=le,Ae.Fd=be,Ae.f=fe,Ae.N=0+be,Ae.Ab=C,Ae.Cd=se,Ae.ea=fe,Ae.W=0+be+se,Ae.Db=C,Ae.Ed=se,y==12&&(Ae.F=fe,Ae.J=0+be+2*se),Ae.Tc=oe,Ae.lb=ee)}if(C=1,ee=H.S,se=H.width,oe=H.height,ee>=Iu&&13>ee)if(11>ee)y=H.f.RGBA,C&=(le=Math.abs(y.A))*(oe-1)+se<=y.size,C&=le>=se*Id[ee],C&=y.eb!=null;else{y=H.f.kb,le=(se+1)/2,be=(oe+1)/2,Ae=Math.abs(y.fa),fe=Math.abs(y.Ab);var Fe=Math.abs(y.Db),he=Math.abs(y.lb),je=he*(oe-1)+se;C&=Ae*(oe-1)+se<=y.Fd,C&=fe*(be-1)+le<=y.Cd,C=(C&=Fe*(be-1)+le<=y.Ed)&Ae>=se&fe>=le&Fe>=le,C&=y.y!=null,C&=y.f!=null,C&=y.ea!=null,ee==12&&(C&=he>=se,C&=je<=y.Tc,C&=y.F!=null)}else C=0;y=C?0:2}}return y!=0||T!=null&&T.fd&&(y=uA(H)),y}var Ni=64,ri=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ai=24,yl=32,ho=8,Mo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ut("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(y){return y},_.Predictor2=function(y,C,T){return C[T+0]},_.Predictor3=function(y,C,T){return C[T+1]},_.Predictor4=function(y,C,T){return C[T-1]},_.Predictor5=function(y,C,T){return We(We(y,C[T+1]),C[T+0])},_.Predictor6=function(y,C,T){return We(y,C[T-1])},_.Predictor7=function(y,C,T){return We(y,C[T+0])},_.Predictor8=function(y,C,T){return We(C[T-1],C[T+0])},_.Predictor9=function(y,C,T){return We(C[T+0],C[T+1])},_.Predictor10=function(y,C,T){return We(We(y,C[T-1]),We(C[T+0],C[T+1]))},_.Predictor11=function(y,C,T){var H=C[T+0];return 0>=Et(H>>24&255,y>>24&255,(C=C[T-1])>>24&255)+Et(H>>16&255,y>>16&255,C>>16&255)+Et(H>>8&255,y>>8&255,C>>8&255)+Et(255&H,255&y,255&C)?H:y},_.Predictor12=function(y,C,T){var H=C[T+0];return(Xt((y>>24&255)+(H>>24&255)-((C=C[T-1])>>24&255))<<24|Xt((y>>16&255)+(H>>16&255)-(C>>16&255))<<16|Xt((y>>8&255)+(H>>8&255)-(C>>8&255))<<8|Xt((255&y)+(255&H)-(255&C)))>>>0},_.Predictor13=function(y,C,T){var H=C[T-1];return(Vt((y=We(y,C[T+0]))>>24&255,H>>24&255)<<24|Vt(y>>16&255,H>>16&255)<<16|Vt(y>>8&255,H>>8&255)<<8|Vt(255&y,255&H))>>>0};var Oo=_.PredictorAdd0;_.PredictorAdd1=Pr,ut("Predictor2","PredictorAdd2"),ut("Predictor3","PredictorAdd3"),ut("Predictor4","PredictorAdd4"),ut("Predictor5","PredictorAdd5"),ut("Predictor6","PredictorAdd6"),ut("Predictor7","PredictorAdd7"),ut("Predictor8","PredictorAdd8"),ut("Predictor9","PredictorAdd9"),ut("Predictor10","PredictorAdd10"),ut("Predictor11","PredictorAdd11"),ut("Predictor12","PredictorAdd12"),ut("Predictor13","PredictorAdd13");var mo=_.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var on,wc=_.ColorIndexInverseTransform,po=_.MapARGB,$i=_.VP8LColorIndexInverseTransformAlpha,yc=_.MapAlpha,bc=_.VP8LPredictorsAdd=[];bc.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var fA,hA,Ho,bl,Nl,Nc,jl,jc,Xa,Is,la,xa,Ja,xn,Vi,Bd,mA,Ko,Uu,pA,Lu,rh,Cd,Bc,Cc,ah,Sd,nh,sh=i(511),ih=i(2041),oh=i(225),lh=i(767),ch=0,go=ih,gA=oh,Ns=lh,ji=sh,Iu=0,Bl=1,Om=2,Ed=3,_d=4,Na=5,Pu=6,xA=7,Sc=8,Fd=9,kd=10,Dd=[2,3,7],Qu=[3,3,11],Ec=[280,256,256,256,40],Hm=[0,1,1,1,0],Cx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Sx=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Km=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ru=8,vA=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ud=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_c=null,Ah=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],dh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$m=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Vm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ex=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_x=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],js=[],Bi=[],Ps=[],xo=1,wA=2,ds=[],Qs=[];Ls("UpsampleRgbLinePair",vl,3),Ls("UpsampleBgrLinePair",gc,3),Ls("UpsampleRgbaLinePair",jd,4),Ls("UpsampleBgraLinePair",Nd,4),Ls("UpsampleArgbLinePair",vc,4),Ls("UpsampleRgba4444LinePair",xc,2),Ls("UpsampleRgb565LinePair",As,2);var Fx=_.UpsampleRgbLinePair,kx=_.UpsampleBgrLinePair,Cl=_.UpsampleRgbaLinePair,yA=_.UpsampleBgraLinePair,Fc=_.UpsampleArgbLinePair,Ld=_.UpsampleRgba4444LinePair,fh=_.UpsampleRgb565LinePair,$o=16,zi=1<<$o-1,pa=-227,va=482,Sl=6,es=0,Rs=i(256),kc=i(256),bA=i(256),Ts=i(256),Tu=i(va-pa),zm=i(va-pa);Ki("YuvToRgbRow",vl,3),Ki("YuvToBgrRow",gc,3),Ki("YuvToRgbaRow",jd,4),Ki("YuvToBgraRow",Nd,4),Ki("YuvToArgbRow",vc,4),Ki("YuvToRgba4444Row",xc,2),Ki("YuvToRgb565Row",As,2);var hh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Dc=[0,2,8],qm=[8,7,6,4,4,2,2,2,1,1,1,1],Vo=1;this.WebPDecodeRGBA=function(y,C,T,H,ee){var se=Bl,oe=new Ce,le=new Qe;oe.ba=le,le.S=se,le.width=[le.width],le.height=[le.height];var Ae=le.width,fe=le.height,be=new Xe;if(be==null||y==null)var Fe=2;else r(be!=null),Fe=wl(y,C,T,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Fe!=0?Ae=0:(Ae!=null&&(Ae[0]=be.width[0]),fe!=null&&(fe[0]=be.height[0]),Ae=1),Ae){le.width=le.width[0],le.height=le.height[0],H!=null&&(H[0]=le.width),ee!=null&&(ee[0]=le.height);e:{if(H=new ls,(ee=new Ye).data=y,ee.w=C,ee.ha=T,ee.kd=1,C=[0],r(ee!=null),((y=wl(ee.data,ee.w,ee.ha,null,null,null,C,null,ee))==0||y==7)&&C[0]&&(y=4),(C=y)==0){if(r(oe!=null),H.data=ee.data,H.w=ee.w+ee.offset,H.ha=ee.ha-ee.offset,H.put=Ct,H.ac=et,H.bc=or,H.ma=oe,ee.xa){if((y=so())==null){oe=1;break e}if((function(he,je){var Se=[0],Ve=[0],Ie=[0];t:for(;;){if(he==null)return 0;if(je==null)return he.a=2,0;if(he.l=je,he.a=0,ie(he.m,je.data,je.w,je.ha),!mr(he.m,Se,Ve,Ie)){he.a=3;break t}if(he.xb=wA,je.width=Se[0],je.height=Ve[0],!ks(Se[0],Ve[0],1,he,null))break t;return 1}return r(he.a!=0),0})(y,H)){if(H=(C=To(H.width,H.height,oe.Oa,oe.ba))==0){t:{H=y;r:for(;;){if(H==null){H=0;break t}if(r(H.s.yc!=null),r(H.s.Ya!=null),r(0<H.s.Wb),r((T=H.l)!=null),r((ee=T.ma)!=null),H.xb!=0){if(H.ca=ee.ba,H.tb=ee.tb,r(H.ca!=null),!dA(ee.Oa,T,Ed)){H.a=2;break r}if(!Ri(H,T.width)||T.da)break r;if((T.da||St(H.ca.S))&&bi(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&bi()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!de(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!ys(H,H.V,H.Ba,H.c,H.i,T.o,Va))break r;ee.Dc=H.Ma,H=1;break t}r(H.a!=0),H=0}H=!H}H&&(C=y.a)}else C=y.a}else{if((y=new eh)==null){oe=1;break e}if(y.Fa=ee.na,y.P=ee.P,y.qc=ee.Sa,ic(y,H)){if((C=To(H.width,H.height,oe.Oa,oe.ba))==0){if(y.Aa=0,T=oe.Oa,r((ee=y)!=null),T!=null){if(0<(Ae=0>(Ae=T.Md)?0:100<Ae?255:255*Ae/100)){for(fe=be=0;4>fe;++fe)12>(Fe=ee.pb[fe]).lc&&(Fe.ia=Ae*qm[0>Fe.lc?0:Fe.lc]>>3),be|=Fe.ia;be&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=T.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(he,je){if(he==null)return 0;if(je==null)return pn(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!ic(he,je))return 0;if(r(he.cb),je.ac==null||je.ac(je)){je.ob&&(he.L=0);var Se=Dc[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=je.v-Se>>4,he.zb=je.j-Se>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=je.o+15+Se>>4,he.Hb=je.va+15+Se>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var Ve=he.ed;for(Se=0;4>Se;++Se){var Ie;if(he.Qa.Cb){var Oe=he.Qa.Lb[Se];he.Qa.Fb||(Oe+=Ve.Tb)}else Oe=Ve.Tb;for(Ie=0;1>=Ie;++Ie){var Ke=he.gd[Se][Ie],tt=Oe;if(Ve.Pc&&(tt+=Ve.vd[0],Ie&&(tt+=Ve.od[0])),0<(tt=0>tt?0:63<tt?63:tt)){var rt=tt;0<Ve.wb&&(rt=4<Ve.wb?rt>>2:rt>>1)>9-Ve.wb&&(rt=9-Ve.wb),1>rt&&(rt=1),Ke.dd=rt,Ke.tc=2*tt+rt,Ke.ld=40<=tt?2:15<=tt?1:0}else Ke.tc=0;Ke.La=Ie}}}Se=0}else pn(he,6,"Frame setup failed"),Se=he.a;if(Se=Se==0){if(Se){he.$c=0,0<he.Aa||(he.Ic=Vo);t:{Se=he.Ic,Ve=4*(rt=he.za);var Zt=32*rt,Rt=rt+1,Sr=0<he.L?rt*(0<he.Aa?2:1):0,Kt=(he.Aa==2?2:1)*rt;if((Ke=Ve+832+(Ie=3*(16*Se+Dc[he.L])/2*Zt)+(Oe=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=Ke)Se=0;else{if(Ke>he.Vb){if(he.Vb=0,he.Ec=i(Ke),he.Fc=0,he.Ec==null){Se=pn(he,1,"no memory during frame initialization.");break t}he.Vb=Ke}Ke=he.Ec,tt=he.Fc,he.Ac=Ke,he.Bc=tt,tt+=Ve,he.Gd=o(Zt,bs),he.Hd=0,he.rb=o(Rt+1,Lr),he.sb=1,he.wa=Sr?o(Sr,ha):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=rt),r(!0),he.oc=Ke,he.pc=tt,tt+=832,he.ya=o(Kt,Ia),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=rt),he.R=16*rt,he.B=8*rt,rt=(Zt=Dc[he.L])*he.R,Zt=Zt/2*he.B,he.sa=Ke,he.ta=tt+rt,he.qa=he.sa,he.ra=he.ta+16*Se*he.R+Zt,he.Ha=he.qa,he.Ia=he.ra+8*Se*he.B+Zt,he.$c=0,tt+=Ie,he.mb=Oe?Ke:null,he.nb=Oe?tt:null,r(tt+Oe<=he.Fc+he.Vb),Ti(he),s(he.Ac,he.Bc,0,Ve),Se=1}}if(Se){if(je.ka=0,je.y=he.sa,je.O=he.ta,je.f=he.qa,je.N=he.ra,je.ea=he.Ha,je.Vd=he.Ia,je.fa=he.R,je.Rc=he.B,je.F=null,je.J=0,!ch){for(Se=-255;255>=Se;++Se)sh[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)ih[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)oh[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)lh[255+Se]=0>Se?0:255<Se?255:Se;ch=1}jl=sa,jc=pd,Is=cc,la=oo,xa=sA,Xa=Cu,Ja=bd,xn=cs,Vi=k,Bd=te,mA=yi,Ko=AA,Uu=me,pA=we,Lu=xi,rh=Ro,Cd=hc,Bc=yd,Bi[0]=th,Bi[1]=iA,Bi[2]=Ac,Bi[3]=co,Bi[4]=_u,Bi[5]=Po,Bi[6]=ei,Bi[7]=Fu,Bi[8]=dc,Bi[9]=lA,js[0]=Mi,js[1]=Su,js[2]=Eu,js[3]=oA,js[4]=lo,js[5]=Us,js[6]=gi,Ps[0]=Hi,Ps[1]=gd,Ps[2]=xd,Ps[3]=Oi,Ps[4]=vd,Ps[5]=cA,Ps[6]=wd,Se=1}else Se=0}Se&&(Se=(function(Wr,Za){for(Wr.M=0;Wr.M<Wr.Va;++Wr.M){var _r,Tt=Wr.Jc[Wr.M&Wr.Xb],yt=Wr.m,ln=Wr;for(_r=0;_r<ln.za;++_r){var vr=yt,$r=ln,Ua=$r.Ac,$n=$r.Bc+4*_r,vn=$r.zc,qa=$r.ya[$r.aa+_r];if($r.Qa.Bb?qa.$b=pe(vr,$r.Pa.jb[0])?2+pe(vr,$r.Pa.jb[2]):pe(vr,$r.Pa.jb[1]):qa.$b=0,$r.kc&&(qa.Ad=pe(vr,$r.Bd)),qa.Za=!pe(vr,145)+0,qa.Za){var _n=qa.Ob,Vn=0;for($r=0;4>$r;++$r){var Oa,Yr=vn[0+$r];for(Oa=0;4>Oa;++Oa){Yr=Ex[Ua[$n+Oa]][Yr];for(var ca=$m[pe(vr,Yr[0])];0<ca;)ca=$m[2*ca+pe(vr,Yr[ca])];Yr=-ca,Ua[$n+Oa]=Yr}a(_n,Vn,Ua,$n,4),Vn+=4,vn[0+$r]=Yr}}else Yr=pe(vr,156)?pe(vr,128)?1:3:pe(vr,163)?2:0,qa.Ob[0]=Yr,s(Ua,$n,Yr,4),s(vn,0,Yr,4);qa.Dd=pe(vr,142)?pe(vr,114)?pe(vr,183)?1:3:2:0}if(ln.m.Ka)return pn(Wr,7,"Premature end-of-partition0 encountered.");for(;Wr.ja<Wr.za;++Wr.ja){if(ln=Tt,vr=(yt=Wr).rb[yt.sb-1],Ua=yt.rb[yt.sb+yt.ja],_r=yt.ya[yt.aa+yt.ja],$n=yt.kc?_r.Ad:0)vr.la=Ua.la=0,_r.Za||(vr.Na=Ua.Na=0),_r.Hc=0,_r.Gc=0,_r.ia=0;else{var Ha,Aa;if(vr=Ua,Ua=ln,$n=yt.Pa.Xc,vn=yt.ya[yt.aa+yt.ja],qa=yt.pb[vn.$b],$r=vn.ad,_n=0,Vn=yt.rb[yt.sb-1],Yr=Oa=0,s($r,_n,0,384),vn.Za)var en=0,tn=$n[3];else{ca=i(16);var ja=vr.Na+Vn.Na;if(ja=_c(Ua,$n[1],ja,qa.Eb,0,ca,0),vr.Na=Vn.Na=(0<ja)+0,1<ja)jl(ca,0,$r,_n);else{var us=ca[0]+3>>3;for(ca=0;256>ca;ca+=16)$r[_n+ca]=us}en=1,tn=$n[0]}var wa=15&vr.la,Ba=15&Vn.la;for(ca=0;4>ca;++ca){var wn=1&Ba;for(us=Aa=0;4>us;++us)wa=wa>>1|(wn=(ja=_c(Ua,tn,ja=wn+(1&wa),qa.Sc,en,$r,_n))>en)<<7,Aa=Aa<<2|(3<ja?3:1<ja?2:$r[_n+0]!=0),_n+=16;wa>>=4,Ba=Ba>>1|wn<<7,Oa=(Oa<<8|Aa)>>>0}for(tn=wa,en=Ba>>4,Ha=0;4>Ha;Ha+=2){for(Aa=0,wa=vr.la>>4+Ha,Ba=Vn.la>>4+Ha,ca=0;2>ca;++ca){for(wn=1&Ba,us=0;2>us;++us)ja=wn+(1&wa),wa=wa>>1|(wn=0<(ja=_c(Ua,$n[2],ja,qa.Qc,0,$r,_n)))<<3,Aa=Aa<<2|(3<ja?3:1<ja?2:$r[_n+0]!=0),_n+=16;wa>>=2,Ba=Ba>>1|wn<<5}Yr|=Aa<<4*Ha,tn|=wa<<4<<Ha,en|=(240&Ba)<<Ha}vr.la=tn,Vn.la=en,vn.Hc=Oa,vn.Gc=Yr,vn.ia=43690&Yr?0:qa.ia,$n=!(Oa|Yr)}if(0<yt.L&&(yt.wa[yt.Y+yt.ja]=yt.gd[_r.$b][_r.Za],yt.wa[yt.Y+yt.ja].La|=!$n),ln.Ka)return pn(Wr,7,"Premature end-of-file encountered.")}if(Ti(Wr),yt=Za,ln=1,_r=(Tt=Wr).D,vr=0<Tt.L&&Tt.M>=Tt.zb&&Tt.M<=Tt.Va,Tt.Aa==0)t:{if(_r.M=Tt.M,_r.uc=vr,ti(Tt,_r),ln=1,_r=(Aa=Tt.D).Nb,vr=(Yr=Dc[Tt.L])*Tt.R,Ua=Yr/2*Tt.B,ca=16*_r*Tt.R,us=8*_r*Tt.B,$n=Tt.sa,vn=Tt.ta-vr+ca,qa=Tt.qa,$r=Tt.ra-Ua+us,_n=Tt.Ha,Vn=Tt.Ia-Ua+us,Ba=(wa=Aa.M)==0,Oa=wa>=Tt.Va-1,Tt.Aa==2&&ti(Tt,Aa),Aa.uc)for(wn=(ja=Tt).D.M,r(ja.D.uc),Aa=ja.yb;Aa<ja.Hb;++Aa){en=Aa,tn=wn;var ts=(Ms=(dn=ja).D).Nb;Ha=dn.R;var Ms=Ms.wa[Ms.Y+en],cn=dn.sa,An=dn.ta+16*ts*Ha+16*en,fs=Ms.dd,Ca=Ms.tc;if(Ca!=0)if(r(3<=Ca),dn.L==1)0<en&&rh(cn,An,Ha,Ca+4),Ms.La&&Bc(cn,An,Ha,Ca),0<tn&&Lu(cn,An,Ha,Ca+4),Ms.La&&Cd(cn,An,Ha,Ca);else{var hs=dn.B,Ci=dn.qa,qi=dn.ra+8*ts*hs+8*en,zn=dn.Ha,dn=dn.Ia+8*ts*hs+8*en;ts=Ms.ld,0<en&&(xn(cn,An,Ha,Ca+4,fs,ts),Bd(Ci,qi,zn,dn,hs,Ca+4,fs,ts)),Ms.La&&(Ko(cn,An,Ha,Ca,fs,ts),pA(Ci,qi,zn,dn,hs,Ca,fs,ts)),0<tn&&(Ja(cn,An,Ha,Ca+4,fs,ts),Vi(Ci,qi,zn,dn,hs,Ca+4,fs,ts)),Ms.La&&(mA(cn,An,Ha,Ca,fs,ts),Uu(Ci,qi,zn,dn,hs,Ca,fs,ts))}}if(Tt.ia&&alert("todo:DitherRow"),yt.put!=null){if(Aa=16*wa,wa=16*(wa+1),Ba?(yt.y=Tt.sa,yt.O=Tt.ta+ca,yt.f=Tt.qa,yt.N=Tt.ra+us,yt.ea=Tt.Ha,yt.W=Tt.Ia+us):(Aa-=Yr,yt.y=$n,yt.O=vn,yt.f=qa,yt.N=$r,yt.ea=_n,yt.W=Vn),Oa||(wa-=Yr),wa>yt.o&&(wa=yt.o),yt.F=null,yt.J=null,Tt.Fa!=null&&0<Tt.Fa.length&&Aa<wa&&(yt.J=gn(Tt,yt,Aa,wa-Aa),yt.F=Tt.mb,yt.F==null&&yt.F.length==0)){ln=pn(Tt,3,"Could not decode alpha data.");break t}Aa<yt.j&&(Yr=yt.j-Aa,Aa=yt.j,r(!(1&Yr)),yt.O+=Tt.R*Yr,yt.N+=Tt.B*(Yr>>1),yt.W+=Tt.B*(Yr>>1),yt.F!=null&&(yt.J+=yt.width*Yr)),Aa<wa&&(yt.O+=yt.v,yt.N+=yt.v>>1,yt.W+=yt.v>>1,yt.F!=null&&(yt.J+=yt.v),yt.ka=Aa-yt.j,yt.U=yt.va-yt.v,yt.T=wa-Aa,ln=yt.put(yt))}_r+1!=Tt.Ic||Oa||(a(Tt.sa,Tt.ta-vr,$n,vn+16*Tt.R,vr),a(Tt.qa,Tt.ra-Ua,qa,$r+8*Tt.B,Ua),a(Tt.Ha,Tt.Ia-Ua,_n,Vn+8*Tt.B,Ua))}if(!ln)return pn(Wr,6,"Output aborted.")}return 1})(he,je)),je.bc!=null&&je.bc(je),Se&=1}return Se?(he.cb=0,Se):0})(y,H)||(C=y.a)}}else C=y.a}C==0&&oe.Oa!=null&&oe.Oa.fd&&(C=uA(oe.ba))}oe=C}se=oe!=0?null:11>se?le.f.RGBA.eb:le.f.kb.y}else se=null;return se};var Id=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(_,W){for(var Q="",K=0;K<4;K++)Q+=String.fromCharCode(_[W++]);return Q}function f(_,W){return _[W+0]|_[W+1]<<8}function h(_,W){return(_[W+0]|_[W+1]<<8|_[W+2]<<16)>>>0}function m(_,W){return(_[W+0]|_[W+1]<<8|_[W+2]<<16|_[W+3]<<24)>>>0}new A;var p=[0],x=[0],v=[],b=new A,N=e,B=(function(_,W){var Q={},K=0,X=!1,R=0,re=0;if(Q.frames=[],!(function(P,Y){for(var z=0;z<4;z++)if(P[Y+z]!="RIFF".charCodeAt(z))return!0;return!1})(_,W)){for(m(_,W+=4),W+=8;W<_.length;){var $=d(_,W),V=m(_,W+=4);W+=4;var Z=V+(1&V);switch($){case"VP8 ":case"VP8L":Q.frames[K]===void 0&&(Q.frames[K]={}),(E=Q.frames[K]).src_off=X?re:W-8,E.src_size=R+V+8,K++,X&&(X=!1,R=0,re=0);break;case"VP8X":(E=Q.header={}).feature_flags=_[W];var ie=W+4;E.canvas_width=1+h(_,ie),ie+=3,E.canvas_height=1+h(_,ie),ie+=3;break;case"ALPH":X=!0,R=Z+8,re=W-8;break;case"ANIM":(E=Q.header).bgcolor=m(_,W),ie=W+4,E.loop_count=f(_,ie),ie+=2;break;case"ANMF":var ue,E;(E=Q.frames[K]={}).offset_x=2*h(_,W),W+=3,E.offset_y=2*h(_,W),W+=3,E.width=1+h(_,W),W+=3,E.height=1+h(_,W),W+=3,E.duration=h(_,W),W+=3,ue=_[W++],E.dispose=1&ue,E.blend=ue>>1&1}$!="ANMF"&&(W+=Z)}return Q}})(N,0);B.response=N,B.rgbaoutput=!0,B.dataurl=!1;var S=B.header?B.header:null,F=B.frames?B.frames:null;if(S){S.loop_counter=S.loop_count,p=[S.canvas_height],x=[S.canvas_width];for(var L=0;L<F.length&&F[L].blend!=0;L++);}var M=F[0],U=b.WebPDecodeRGBA(N,M.src_off,M.src_size,x,p);M.rgba=U,M.imgwidth=x[0],M.imgheight=p[0];for(var I=0;I<x[0]*p[0]*4;I++)v[I]=U[I];return this.width=x,this.height=p,this.data=v,this}(function(e){var r,t,a,s,i,o,l,A,d,f=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new A,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),r=this.internal.f2,t=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,A=this.internal.Matrix,d=new f}]);var h=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=P;Object.defineProperty(this,"pdf",{get:function(){return Y}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(xe){z=!!xe}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(xe){J=!!xe}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(xe){isNaN(xe)||(q=xe)}});var G=0;Object.defineProperty(this,"posY",{get:function(){return G},set:function(xe){isNaN(xe)||(G=xe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(xe){var de;typeof xe=="number"?de=[xe,xe,xe,xe]:((de=new Array(4))[0]=xe[0],de[1]=xe.length>=2?xe[1]:de[0],de[2]=xe.length>=3?xe[2]:de[0],de[3]=xe.length>=4?xe[3]:de[1]),d.margin=de}});var ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ne},set:function(xe){ne=xe}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(xe){ce=xe}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(xe){pe=xe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(xe){xe instanceof f&&(d=xe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(xe){d.path=xe}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(xe){ve=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var de;de=m(xe),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var de=m(xe);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var Pe=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(xe){Pe=null,ke=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var de;if(this.ctx.font=xe,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var wt=de[1];de[2];var bt=de[3],mt=de[4];de[5];var qe=de[6],dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(mt)[2];mt=Math.floor(dt==="px"?parseFloat(mt)*this.pdf.internal.scaleFactor:dt==="em"?parseFloat(mt)*this.pdf.getFontSize():parseFloat(mt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(mt);var ut=(function(Bt){var Nt,Wt,Er=[],Ft=Bt.trim();if(Ft==="")return Uw;if(Ft in y5)return[y5[Ft]];for(;Ft!=="";){switch(Wt=null,Nt=(Ft=N5(Ft)).charAt(0)){case'"':case"'":Wt=SY(Ft.substring(1),Nt);break;default:Wt=EY(Ft)}if(Wt===null||(Er.push(Wt[0]),(Ft=N5(Wt[1]))!==""&&Ft.charAt(0)!==","))return Uw;Ft=Ft.replace(/^,/,"")}return Er})(qe);if(this.fontFaces){var er=(function(Bt,Nt){if(Pe===null){var Wt=(function(Er){var Ft=[];return Object.keys(Er).forEach(function(xr){Er[xr].forEach(function(it){var $e=null;switch(it){case"bold":$e={family:xr,weight:"bold"};break;case"italic":$e={family:xr,style:"italic"};break;case"bolditalic":$e={family:xr,weight:"bold",style:"italic"};break;case"":case"normal":$e={family:xr}}$e!==null&&($e.ref={name:xr,style:it},Ft.push($e))})}),Ft})(Bt.getFontList());Pe=(function(Er){for(var Ft={},xr=0;xr<Er.length;++xr){var it=Dw(Er[xr]),$e=it.family,lt=it.stretch,St=it.style,pt=it.weight;Ft[$e]=Ft[$e]||{},Ft[$e][lt]=Ft[$e][lt]||{},Ft[$e][lt][St]=Ft[$e][lt][St]||{},Ft[$e][lt][St][pt]=it}return Ft})(Wt.concat(Nt))}return Pe})(this.pdf,this.fontFaces),We=ut.map(function(Bt){return{family:Bt,stretch:"normal",weight:bt,style:wt}}),Xt=(function(Bt,Nt,Wt){for(var Er=(Wt=Wt||{}).defaultFontFamily||"times",Ft=Object.assign({},CY,Wt.genericFontFamilies||{}),xr=null,it=null,$e=0;$e<Nt.length;++$e)if(Ft[(xr=Dw(Nt[$e])).family]&&(xr.family=Ft[xr.family]),Bt.hasOwnProperty(xr.family)){it=Bt[xr.family];break}if(!(it=it||Bt[Er]))throw new Error("Could not find a font-family for the rule '"+b5(xr)+"' and default family '"+Er+"'.");if(it=(function(lt,St){if(St[lt])return St[lt];var pt=J1[lt],kt=pt<=J1.normal?-1:1,Qe=w5(St,X3,pt,kt);if(!Qe)throw new Error("Could not find a matching font-stretch value for "+lt);return Qe})(xr.stretch,it),it=(function(lt,St){if(St[lt])return St[lt];for(var pt=Y3[lt],kt=0;kt<pt.length;++kt)if(St[pt[kt]])return St[pt[kt]];throw new Error("Could not find a matching font-style for "+lt)})(xr.style,it),!(it=(function(lt,St){if(St[lt])return St[lt];if(lt===400&&St[500])return St[500];if(lt===500&&St[400])return St[400];var pt=BY[lt],kt=w5(St,J3,pt,lt<400?-1:1);if(!kt)throw new Error("Could not find a matching font-weight for value "+lt);return kt})(xr.weight,it)))throw new Error("Failed to resolve a font for the rule '"+b5(xr)+"'.");return it})(er,We);this.pdf.setFont(Xt.ref.name,Xt.ref.style)}else{var Vt="";(bt==="bold"||parseInt(bt,10)>=700||wt==="bold")&&(Vt="bold"),wt==="italic"&&(Vt+="italic"),Vt.length===0&&(Vt="normal");for(var Et="",Pr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<ut.length;_t++){if(this.pdf.internal.getFont(ut[_t],Vt,{noFallback:!0,disableWarning:!0})!==void 0){Et=ut[_t];break}if(Vt==="bolditalic"&&this.pdf.internal.getFont(ut[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Et=ut[_t],Vt="bold";else if(this.pdf.internal.getFont(ut[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Et=ut[_t],Vt="normal";break}}if(Et===""){for(var It=0;It<ut.length;It++)if(Pr[ut[It]]){Et=Pr[ut[It]];break}}Et=Et===""?"Times":Et,this.pdf.setFont(Et,Vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,E.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,E.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};h.prototype.setLineDash=function(P){this.lineDash=P},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){F.call(this,"fill",!1)},h.prototype.stroke=function(){F.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(P,Y){if(isNaN(P)||isNaN(Y))throw Qa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(P,Y));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(P,Y)},h.prototype.closePath=function(){var P=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&_a(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){P=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y)},h.prototype.lineTo=function(P,Y){if(isNaN(P)||isNaN(Y))throw Qa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(P,Y));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},h.prototype.quadraticCurveTo=function(P,Y,z,J){if(isNaN(z)||isNaN(J)||isNaN(P)||isNaN(Y))throw Qa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new o(z,J)),G=this.ctx.transform.applyToPoint(new o(P,Y));this.path.push({type:"qct",x1:G.x,y1:G.y,x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},h.prototype.bezierCurveTo=function(P,Y,z,J,q,G){if(isNaN(q)||isNaN(G)||isNaN(P)||isNaN(Y)||isNaN(z)||isNaN(J))throw Qa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ne=this.ctx.transform.applyToPoint(new o(q,G)),ce=this.ctx.transform.applyToPoint(new o(P,Y)),pe=this.ctx.transform.applyToPoint(new o(z,J));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:pe.x,y2:pe.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},h.prototype.arc=function(P,Y,z,J,q,G){if(isNaN(P)||isNaN(Y)||isNaN(z)||isNaN(J)||isNaN(q))throw Qa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(G=!!G,!this.ctx.transform.isIdentity){var ne=this.ctx.transform.applyToPoint(new o(P,Y));P=ne.x,Y=ne.y;var ce=this.ctx.transform.applyToPoint(new o(0,z)),pe=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(ce.x-pe.x,2)+Math.pow(ce.y-pe.y,2))}Math.abs(q-J)>=2*Math.PI&&(J=0,q=2*Math.PI),this.path.push({type:"arc",x:P,y:Y,radius:z,startAngle:J,endAngle:q,counterclockwise:G})},h.prototype.arcTo=function(P,Y,z,J,q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(P,Y,z,J){if(isNaN(P)||isNaN(Y)||isNaN(z)||isNaN(J))throw Qa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,Y),this.lineTo(P+z,Y),this.lineTo(P+z,Y+J),this.lineTo(P,Y+J),this.lineTo(P,Y),this.lineTo(P+z,Y),this.lineTo(P,Y)},h.prototype.fillRect=function(P,Y,z,J){if(isNaN(P)||isNaN(Y)||isNaN(z)||isNaN(J))throw Qa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,Y,z,J),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},h.prototype.strokeRect=function(P,Y,z,J){if(isNaN(P)||isNaN(Y)||isNaN(z)||isNaN(J))throw Qa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(P,Y,z,J),this.stroke())},h.prototype.clearRect=function(P,Y,z,J){if(isNaN(P)||isNaN(Y)||isNaN(z)||isNaN(J))throw Qa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,Y,z,J))},h.prototype.save=function(P){P=typeof P!="boolean"||P;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},h.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(P){var Y,z,J,q;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))Y=0,z=0,J=0,q=0;else{var G=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(G!==null)Y=parseInt(G[1]),z=parseInt(G[2]),J=parseInt(G[3]),q=1;else if((G=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)Y=parseInt(G[1]),z=parseInt(G[2]),J=parseInt(G[3]),q=parseFloat(G[4]);else{if(q=1,typeof P=="string"&&P.charAt(0)!=="#"){var ne=new K3(P);P=ne.ok?ne.toHex():"#000000"}P.length===4?(Y=P.substring(1,2),Y+=Y,z=P.substring(2,3),z+=z,J=P.substring(3,4),J+=J):(Y=P.substring(1,3),z=P.substring(3,5),J=P.substring(5,7)),Y=parseInt(Y,16),z=parseInt(z,16),J=parseInt(J,16)}}return{r:Y,g:z,b:J,a:q,style:P}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(P,Y,z,J){if(isNaN(Y)||isNaN(z)||typeof P!="string")throw Qa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!p.call(this)){var q=Z(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;K.call(this,{text:P,x:Y,y:z,scale:G,angle:q,align:this.textAlign,maxWidth:J})}},h.prototype.strokeText=function(P,Y,z,J){if(isNaN(Y)||isNaN(z)||typeof P!="string")throw Qa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){J=isNaN(J)?void 0:J;var q=Z(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;K.call(this,{text:P,x:Y,y:z,scale:G,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:J})}},h.prototype.measureText=function(P){if(typeof P!="string")throw Qa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,z=this.pdf.internal.scaleFactor,J=Y.internal.getFontSize(),q=Y.getStringUnitWidth(P)*J/Y.internal.scaleFactor;return new function(G){var ne=(G=G||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this}({width:q*=Math.round(96*z/72*1e4)/1e4})},h.prototype.scale=function(P,Y){if(isNaN(P)||isNaN(Y))throw Qa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new A(P,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.rotate=function(P){if(isNaN(P))throw Qa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new A(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.translate=function(P,Y){if(isNaN(P)||isNaN(Y))throw Qa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new A(1,0,0,1,P,Y);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.transform=function(P,Y,z,J,q,G){if(isNaN(P)||isNaN(Y)||isNaN(z)||isNaN(J)||isNaN(q)||isNaN(G))throw Qa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ne=new A(P,Y,z,J,q,G);this.ctx.transform=this.ctx.transform.multiply(ne)},h.prototype.setTransform=function(P,Y,z,J,q,G){P=isNaN(P)?1:P,Y=isNaN(Y)?0:Y,z=isNaN(z)?0:z,J=isNaN(J)?1:J,q=isNaN(q)?0:q,G=isNaN(G)?0:G,this.ctx.transform=new A(P,Y,z,J,q,G)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(P,Y,z,J,q,G,ne,ce,pe){var ve=this.pdf.getImageProperties(P),Pe=1,ke=1,xe=1,de=1;J!==void 0&&ce!==void 0&&(xe=ce/J,de=pe/q,Pe=ve.width/J*ce/J,ke=ve.height/q*pe/q),G===void 0&&(G=Y,ne=z,Y=0,z=0),J!==void 0&&ce===void 0&&(ce=J,pe=q),J===void 0&&ce===void 0&&(ce=ve.width,pe=ve.height);for(var wt,bt=this.ctx.transform.decompose(),mt=Z(bt.rotate.shx),qe=new A,dt=(qe=(qe=(qe=qe.multiply(bt.translate)).multiply(bt.skew)).multiply(bt.scale)).applyToRectangle(new l(G-Y*xe,ne-z*de,J*Pe,q*ke)),ut=b.call(this,dt),er=[],We=0;We<ut.length;We+=1)er.indexOf(ut[We])===-1&&er.push(ut[We]);if(S(er),this.autoPaging)for(var Xt=er[0],Vt=er[er.length-1],Et=Xt;Et<Vt+1;Et++){this.pdf.setPage(Et);var Pr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=Et===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=Et===1?0:It+(Et-2)*Bt;if(this.ctx.clip_path.length!==0){var Wt=this.path;wt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(wt,this.posX+this.margin[3],-Nt+_t+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=Wt}var Er=JSON.parse(JSON.stringify(dt));Er=B([Er],this.posX+this.margin[3],-Nt+_t+this.ctx.prevPageLastElemOffset)[0];var Ft=(Et>Xt||Et<Vt)&&v.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pr,Bt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Er.x,Er.y,Er.w,Er.h,null,null,mt),Ft&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,mt)};var b=function(P,Y,z){var J=[];Y=Y||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":J.push(Math.floor((P.y+q)/z)+1);break;case"arc":J.push(Math.floor((P.y+q-P.radius)/z)+1),J.push(Math.floor((P.y+q+P.radius)/z)+1);break;case"qct":var G=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);J.push(Math.floor((G.y+q)/z)+1),J.push(Math.floor((G.y+G.h+q)/z)+1);break;case"bct":var ne=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);J.push(Math.floor((ne.y+q)/z)+1),J.push(Math.floor((ne.y+ne.h+q)/z)+1);break;case"rect":J.push(Math.floor((P.y+q)/z)+1),J.push(Math.floor((P.y+P.h+q)/z)+1)}for(var ce=0;ce<J.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<J[ce];)N.call(this);return J},N=function(){var P=this.fillStyle,Y=this.strokeStyle,z=this.font,J=this.lineCap,q=this.lineWidth,G=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=Y,this.font=z,this.lineCap=J,this.lineWidth=q,this.lineJoin=G},B=function(P,Y,z){for(var J=0;J<P.length;J++)switch(P[J].type){case"bct":P[J].x2+=Y,P[J].y2+=z;case"qct":P[J].x1+=Y,P[J].y1+=z;default:P[J].x+=Y,P[J].y+=z}return P},S=function(P){return P.sort(function(Y,z){return Y-z})},F=function(P,Y){for(var z,J,q=this.fillStyle,G=this.strokeStyle,ne=this.lineCap,ce=this.lineWidth,pe=Math.abs(ce*this.ctx.transform.scaleX),ve=this.lineJoin,Pe=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),xe=[],de=0;de<ke.length;de++)if(ke[de].x!==void 0)for(var wt=b.call(this,ke[de]),bt=0;bt<wt.length;bt+=1)xe.indexOf(wt[bt])===-1&&xe.push(wt[bt]);for(var mt=0;mt<xe.length;mt++)for(;this.pdf.internal.getNumberOfPages()<xe[mt];)N.call(this);if(S(xe),this.autoPaging)for(var qe=xe[0],dt=xe[xe.length-1],ut=qe;ut<dt+1;ut++){this.pdf.setPage(ut),this.fillStyle=q,this.strokeStyle=G,this.lineCap=ne,this.lineWidth=pe,this.lineJoin=ve;var er=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=ut===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=ut===1?0:Xt+(ut-2)*Vt;if(this.ctx.clip_path.length!==0){var Pr=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(z,this.posX+this.margin[3],-Et+We+this.ctx.prevPageLastElemOffset),L.call(this,P,!0),this.path=Pr}if(J=JSON.parse(JSON.stringify(Pe)),this.path=B(J,this.posX+this.margin[3],-Et+We+this.ctx.prevPageLastElemOffset),Y===!1||ut===0){var _t=(ut>qe||ut<dt)&&v.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],er,Vt,null).clip().discardPath()),L.call(this,P,Y),_t&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=pe,L.call(this,P,Y),this.lineWidth=ce;this.path=Pe},L=function(P,Y){if((P!=="stroke"||Y||!x.call(this))&&(P==="stroke"||Y||!p.call(this))){for(var z,J,q=[],G=this.path,ne=0;ne<G.length;ne++){var ce=G[ne];switch(ce.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:ce,deltas:[],abs:[]});break;case"lt":var pe=q.length;if(G[ne-1]&&!isNaN(G[ne-1].x)&&(z=[ce.x-G[ne-1].x,ce.y-G[ne-1].y],pe>0)){for(;pe>=0;pe--)if(q[pe-1].close!==!0&&q[pe-1].begin!==!0){q[pe-1].deltas.push(z),q[pe-1].abs.push(ce);break}}break;case"bct":z=[ce.x1-G[ne-1].x,ce.y1-G[ne-1].y,ce.x2-G[ne-1].x,ce.y2-G[ne-1].y,ce.x-G[ne-1].x,ce.y-G[ne-1].y],q[q.length-1].deltas.push(z);break;case"qct":var ve=G[ne-1].x+2/3*(ce.x1-G[ne-1].x),Pe=G[ne-1].y+2/3*(ce.y1-G[ne-1].y),ke=ce.x+2/3*(ce.x1-ce.x),xe=ce.y+2/3*(ce.y1-ce.y),de=ce.x,wt=ce.y;z=[ve-G[ne-1].x,Pe-G[ne-1].y,ke-G[ne-1].x,xe-G[ne-1].y,de-G[ne-1].x,wt-G[ne-1].y],q[q.length-1].deltas.push(z);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(ce)}}J=Y?null:P==="stroke"?"stroke":"fill";for(var bt=!1,mt=0;mt<q.length;mt++)if(q[mt].arc)for(var qe=q[mt].abs,dt=0;dt<qe.length;dt++){var ut=qe[dt];ut.type==="arc"?I.call(this,ut.x,ut.y,ut.radius,ut.startAngle,ut.endAngle,ut.counterclockwise,void 0,Y,!bt):X.call(this,ut.x,ut.y),bt=!0}else if(q[mt].close===!0)this.pdf.internal.out("h"),bt=!1;else if(q[mt].begin!==!0){var er=q[mt].start.x,We=q[mt].start.y;R.call(this,q[mt].deltas,er,We),bt=!0}J&&_.call(this,J),Y&&W.call(this)}},M=function(P){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-z;case"top":return P+Y-z;case"hanging":return P+Y-2*z;case"middle":return P+Y/2-z;default:return P}},U=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(Y,z){this.colorStops.push([Y,z])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(P,Y,z,J,q,G,ne,ce,pe){for(var ve=$.call(this,z,J,q,G),Pe=0;Pe<ve.length;Pe++){var ke=ve[Pe];Pe===0&&(pe?Q.call(this,ke.x1+P,ke.y1+Y):X.call(this,ke.x1+P,ke.y1+Y)),re.call(this,P,Y,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ce?W.call(this):_.call(this,ne)},_=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},Q=function(P,Y){this.pdf.internal.out(t(P)+" "+a(Y)+" m")},K=function(P){var Y;switch(P.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var z=this.pdf.getTextDimensions(P.text),J=M.call(this,P.y),q=U.call(this,J)-z.h,G=this.ctx.transform.applyToPoint(new o(P.x,J)),ne=this.ctx.transform.decompose(),ce=new A;ce=(ce=(ce=ce.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale);for(var pe,ve,Pe,ke=this.ctx.transform.applyToRectangle(new l(P.x,J,z.w,z.h)),xe=ce.applyToRectangle(new l(P.x,q,z.w,z.h)),de=b.call(this,xe),wt=[],bt=0;bt<de.length;bt+=1)wt.indexOf(de[bt])===-1&&wt.push(de[bt]);if(S(wt),this.autoPaging)for(var mt=wt[0],qe=wt[wt.length-1],dt=mt;dt<qe+1;dt++){this.pdf.setPage(dt);var ut=dt===1?this.posY+this.margin[0]:this.margin[0],er=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[2],Xt=We-this.margin[0],Vt=this.pdf.internal.pageSize.width-this.margin[1],Et=Vt-this.margin[3],Pr=dt===1?0:er+(dt-2)*Xt;if(this.ctx.clip_path.length!==0){var _t=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(pe,this.posX+this.margin[3],-1*Pr+ut),L.call(this,"fill",!0),this.path=_t}var It=B([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Pr+ut+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*P.scale),Pe=this.lineWidth,this.lineWidth=Pe*P.scale);var Bt=this.autoPaging!=="text";if(Bt||It.y+It.h<=We){if(Bt||It.y>=ut&&It.x<=Vt){var Nt=Bt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Vt-It.x)[0],Wt=B([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-Pr+ut+this.ctx.prevPageLastElemOffset)[0],Er=Bt&&(dt>mt||dt<qe)&&v.call(this);Er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Xt,null).clip().discardPath()),this.pdf.text(Nt,Wt.x,Wt.y,{angle:P.angle,align:Y,renderingMode:P.renderingMode}),Er&&this.pdf.restoreGraphicsState()}}else It.y<We&&(this.ctx.prevPageLastElemOffset+=We-It.y);P.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=Pe)}else P.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*P.scale),Pe=this.lineWidth,this.lineWidth=Pe*P.scale),this.pdf.text(P.text,G.x+this.posX,G.y+this.posY,{angle:P.angle,align:Y,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=Pe)},X=function(P,Y,z,J){z=z||0,J=J||0,this.pdf.internal.out(t(P+z)+" "+a(Y+J)+" l")},R=function(P,Y,z){return this.pdf.lines(P,Y,z,null,null)},re=function(P,Y,z,J,q,G,ne,ce){this.pdf.internal.out([r(s(z+P)),r(i(J+Y)),r(s(q+P)),r(i(G+Y)),r(s(ne+P)),r(i(ce+Y)),"c"].join(" "))},$=function(P,Y,z,J){for(var q=2*Math.PI,G=Math.PI/2;Y>z;)Y-=q;var ne=Math.abs(z-Y);ne<q&&J&&(ne=q-ne);for(var ce=[],pe=J?-1:1,ve=Y;ne>1e-5;){var Pe=ve+pe*Math.min(ne,G);ce.push(V.call(this,P,ve,Pe)),ne-=Math.abs(Pe-ve),ve=Pe}return ce},V=function(P,Y,z){var J=(z-Y)/2,q=P*Math.cos(J),G=P*Math.sin(J),ne=q,ce=-G,pe=ne*ne+ce*ce,ve=pe+ne*q+ce*G,Pe=4/3*(Math.sqrt(2*pe*ve)-ve)/(ne*G-ce*q),ke=ne-Pe*ce,xe=ce+Pe*ne,de=ke,wt=-xe,bt=J+Y,mt=Math.cos(bt),qe=Math.sin(bt);return{x1:P*Math.cos(Y),y1:P*Math.sin(Y),x2:ke*mt-xe*qe,y2:ke*qe+xe*mt,x3:de*mt-wt*qe,y3:de*qe+wt*mt,x4:P*Math.cos(z),y4:P*Math.sin(z)}},Z=function(P){return 180*P/Math.PI},ie=function(P,Y,z,J,q,G){var ne=P+.5*(z-P),ce=Y+.5*(J-Y),pe=q+.5*(z-q),ve=G+.5*(J-G),Pe=Math.min(P,q,ne,pe),ke=Math.max(P,q,ne,pe),xe=Math.min(Y,G,ce,ve),de=Math.max(Y,G,ce,ve);return new l(Pe,xe,ke-Pe,de-xe)},ue=function(P,Y,z,J,q,G,ne,ce){var pe,ve,Pe,ke,xe,de,wt,bt,mt,qe,dt,ut,er,We,Xt=z-P,Vt=J-Y,Et=q-z,Pr=G-J,_t=ne-q,It=ce-G;for(ve=0;ve<41;ve++)mt=(wt=(Pe=P+(pe=ve/40)*Xt)+pe*((xe=z+pe*Et)-Pe))+pe*(xe+pe*(q+pe*_t-xe)-wt),qe=(bt=(ke=Y+pe*Vt)+pe*((de=J+pe*Pr)-ke))+pe*(de+pe*(G+pe*It-de)-bt),ve==0?(dt=mt,ut=qe,er=mt,We=qe):(dt=Math.min(dt,mt),ut=Math.min(ut,qe),er=Math.max(er,mt),We=Math.max(We,qe));return new l(Math.round(dt),Math.round(ut),Math.round(er-dt),Math.round(We-ut))},E=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,Y,z=(P=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:Y}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(nr.API),(function(e){var r=function(o){var l,A,d,f,h,m,p,x,v,b;for(A=[],d=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(h=((h=((h=((h=(h-(b=h%85))/85)-(v=h%85))/85)-(x=h%85))/85)-(p=h%85))/85)%85,A.push(m+33,p+33,x+33,v+33,b+33)):A.push(122);return(function(N,B){for(var S=B;S>0;S--)N.pop()})(A,l.length),String.fromCharCode.apply(String,A)+"~>"},t=function(o){var l,A,d,f,h,m=String,p="length",x=255,v="charCodeAt",b="slice",N="replace";for(o[b](-2),o=o[b](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),d=[],f=0,h=(o+=l="uuuuu"[b](o[p]%5||5))[p];h>f;f+=5)A=52200625*(o[v](f)-33)+614125*(o[v](f+1)-33)+7225*(o[v](f+2)-33)+85*(o[v](f+3)-33)+(o[v](f+4)-33),d.push(x&A>>24,x&A>>16,x&A>>8,x&A);return(function(B,S){for(var F=S;F>0;F--)B.pop()})(d,l[p]),m.fromCharCode.apply(m,d)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var A="",d=0;d<o.length;d+=2)A+=String.fromCharCode("0x"+(o[d]+o[d+1]));return A},i=function(o){for(var l=new Uint8Array(o.length),A=o.length;A--;)l[A]=o.charCodeAt(A);return(l=V1(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(o,l){var A=0,d=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),A=0;A<l.length;A+=1)switch(l[A]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=r(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[A]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(nr.API),(function(e){e.loadFile=function(r,t,a){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(A,d,f){var h=new XMLHttpRequest,m=0,p=function(x){var v=x.length,b=[],N=String.fromCharCode;for(m=0;m<v;m+=1)b.push(N(255&x.charCodeAt(m)));return b.join("")};if(h.open("GET",A,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?f(p(this.responseText)):f(void 0)}),h.send(null),d&&h.status===200)return p(h.responseText)})(s,i,o)}catch{}return l})(r,t,a)},e.loadImageFile=e.loadFile})(nr.API),(function(e){function r(){return(Br.html2canvas?Promise.resolve(Br.html2canvas):il(()=>Promise.resolve().then(()=>sW),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Br.DOMPurify?Promise.resolve(Br.DOMPurify):il(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var A=_a(l);return A==="undefined"?"undefined":A==="string"||l instanceof String?"string":A==="number"||l instanceof Number?"number":A==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(l,A){var d=document.createElement(l);for(var f in A.className&&(d.className=A.className),A.innerHTML&&A.dompurify&&(d.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)d.style[f]=A.style[f];return d},i=function l(A,d){for(var f=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),h=A.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return A.nodeType===1&&(A.nodeName==="CANVAS"?(f.width=A.width,f.height=A.height,f.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(f.value=A.value),f.addEventListener("load",function(){f.scrollTop=A.scrollTop,f.scrollLeft=A.scrollLeft},!0)),f},o=function l(A){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(A)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,A){return l.__proto__=A||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,A){return this.then(function(){switch(A=A||(function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),A){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(A){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,A(this.prop.container,d)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(A){var d=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var x=f[p],v=x.src.find(function(b){return b.format==="truetype"});v&&d.addFont(v.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),A(this.prop.container,m)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,A,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,A):this.outputPdf(l,A)},o.prototype.outputPdf=function(l,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,A)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var A=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(A)})},o.prototype.get=function(l,A){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return A?A(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function A(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||nr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:A(l.inner.width,l.k),height:A(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,A,d,f){return l!=null&&(this.progress.val=l),A!=null&&(this.progress.state=A),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,A,d,f){return this.setProgress(l?this.progress.val+l:null,A||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,A){var d=this;return this.thenCore(l,A,function(f,h){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,f),m}).then(f,h).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,A,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),A&&(A=A.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),m=d.call(h,l,A);return o.convert(m,f.__proto__)},o.prototype.thenExternal=function(l,A){return Promise.prototype.then.call(this,l,A)},o.prototype.thenList=function(l){var A=this;return l.forEach(function(d){A=A.thenCore(d)}),A},o.prototype.catch=function(l){l&&(l=l.bind(this));var A=Promise.prototype.catch.call(this,l);return o.convert(A,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,nr.getPageSize=function(l,A,d){if(_a(l)==="object"){var f=l;l=f.orientation,A=f.unit||A,d=f.format||d}A=A||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+A}var x,v=0,b=0;if(p.hasOwnProperty(m))v=p[m][1]/h,b=p[m][0]/h;else try{v=d[1],b=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",b>v&&(x=b,b=v,v=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>b&&(x=b,b=v,v=x)}return{width:b,height:v,unit:A,k:h,orientation:l}},e.html=function(l,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(Dw):null;var d=new o(A);return A.worker?d:d.from(l).doCallback()}})(nr.API),nr.API.addJS=function(e){return B5=e,this.internal.events.subscribe("postPutResources",function(){ug=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ug+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),j5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+B5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ug!==void 0&&j5!==void 0&&this.internal.out("/Names <</JavaScript "+ug+" 0 R>>")}),this},(function(e){var r;e.events.push(["postPutResources",function(){var t=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var A=l[1];t.internal.newObjectDeferredBegin(A,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var h=t.internal.newObject();f.push(h);var m=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<f.length;i++)t.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");t.internal.write(" ] >>","endobj"),r=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+r+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(a){a.id=t.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},t.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},t.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var A=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},t.outline.line=function(a){this.ctx.val+=a+`\r
`},t.outline.makeRef=function(a){return a.id+" 0 R"},t.outline.makeString=function(a){return"("+t.internal.pdfEscape(a)+")"},t.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])})(nr.API),(function(e){var r=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,a,s,i,o,l){var A,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,A=(function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,v={width:0,height:0,numcomponents:1},b=4;b<x;b+=2){if(b+=p,r.indexOf(h.charCodeAt(b+1))!==-1){m=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),v={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:m,numcomponents:h.charCodeAt(b+9)};break}p=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return v})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),A.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:A.width,height:A.height,colorSpace:l,bitsPerComponent:8,filter:d,index:a,alias:s}}return f}})(nr.API),nr.API.processPNG=function(e,r,t,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=dY(e,{checkCrc:!0}),o=i.width,l=i.height,A=i.channels,d=i.palette,f=i.depth;s=d&&A===1?(function(I){for(var _=I.width,W=I.height,Q=I.data,K=I.palette,X=I.depth,R=!1,re=[],$=[],V=void 0,Z=!1,ie=0,ue=0;ue<K.length;ue++){var E=_B(K[ue],4),P=E[0],Y=E[1],z=E[2],J=E[3];re.push(P,Y,z),J!=null&&(J===0?(ie++,$.length<1&&$.push(ue)):J<255&&(Z=!0))}if(Z||ie>1){R=!0,$=void 0;var q=_*W;V=new Uint8Array(q);for(var G=new DataView(Q.buffer),ne=0;ne<q;ne++){var ce=Lw(G,ne,X),pe=_B(K[ce],4)[3];V[ne]=pe}}else ie===0&&($=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:Q,alphaBytes:V,needSMask:R,palette:re,mask:$}})(i):A===2||A===4?(function(I){for(var _=I.data,W=I.width,Q=I.height,K=I.channels,X=I.depth,R=K===2?"DeviceGray":"DeviceRGB",re=K-1,$=W*Q,V=re,Z=$*V,ie=1*$,ue=Math.ceil(Z*X/8),E=Math.ceil(ie*X/8),P=new Uint8Array(ue),Y=new Uint8Array(E),z=new DataView(_.buffer),J=new DataView(P.buffer),q=new DataView(Y.buffer),G=!1,ne=0;ne<$;ne++){for(var ce=ne*K,pe=0;pe<V;pe++)L5(J,Lw(z,ce+pe,X),ne*V+pe,X);var ve=Lw(z,ce+V,X);ve<(1<<X)-1&&(G=!0),L5(q,ve,1*ne,X)}return{colorSpace:R,colorsPerPixel:re,sMaskBitsPerComponent:G?X:void 0,colorBytes:P,alphaBytes:Y,needSMask:G}})(i):(function(I){var _=I.data,W=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:W,colorsPerPixel:W==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?(function(Q){for(var K=Q.length,X=new Uint8Array(2*K),R=new DataView(X.buffer,X.byteOffset,X.byteLength),re=0;re<K;re++)R.setUint16(2*re,Q[re],!1);return X})(_):_,needSMask:!1}})(i);var h,m,p,x=s,v=x.colorSpace,b=x.colorsPerPixel,N=x.sMaskBitsPerComponent,B=x.colorBytes,S=x.alphaBytes,F=x.needSMask,L=x.palette,M=x.mask,U=null;return a!==nr.API.image_compression.NONE&&typeof V1=="function"?(U=(function(I){var _;switch(I){case nr.API.image_compression.FAST:_=11;break;case nr.API.image_compression.MEDIUM:_=13;break;case nr.API.image_compression.SLOW:_=14;break;default:_=12}return _})(a),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(U," /Colors ").concat(b," /BitsPerComponent ").concat(f," /Columns ").concat(o),e=_5(B,Math.ceil(o*b*f/8),b,f,a),F&&(p=_5(S,Math.ceil(o*N/8),1,N,a))):(h=void 0,m=void 0,e=B,F&&(p=S)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:e,index:r,filter:h,decodeParameters:m,transparency:M,palette:L,sMask:p,predictor:U,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:N,colorSpace:v}}},(function(e){e.processGIF89A=function(r,t,a,s){var i=new DY(r),o=i.width,l=i.height,A=[];i.decodeAndBlitFrameRGBA(0,A);var d={data:A,width:o,height:l},f=new Iw(100).encode(d,100);return e.processJPEG.call(this,f,t,a,s)},e.processGIF87A=e.processGIF89A})(nr.API),el.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var r=0;r<e;r++){var t=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:s,green:a,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},el.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[e]()}catch(t){Qa.log("bit decode error:"+t)}},el.prototype.bit1=function(){var e,r=Math.ceil(this.width/8),t=r%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<r;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var A=this.palette[i>>7-l&1];this.data[o+4*l]=A.blue,this.data[o+4*l+1]=A.green,this.data[o+4*l+2]=A.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},el.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),r=e%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,A=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*s+1>=this.width)break;d=this.palette[A],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}r!==0&&(this.pos+=4-r)}},el.prototype.bit8=function(){for(var e=this.width%4,r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},el.prototype.bit15=function(){for(var e=this.width%3,r=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&r)/r*255|0,l=(i>>5&r)/r*255|0,A=(i>>10&r)/r*255|0,d=i>>15?255:0,f=a*this.width*4+4*s;this.data[f]=A,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},el.prototype.bit16=function(){for(var e=this.width%3,r=parseInt("11111",2),t=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&r)/r*255|0,A=(o>>5&t)/t*255|0,d=(o>>11)/r*255|0,f=s*this.width*4+4*i;this.data[f]=d,this.data[f+1]=A,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},el.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*t;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},el.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*t;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},el.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(r,t,a,s){var i=new el(r,!1),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},d=new Iw(100).encode(A,100);return e.processJPEG.call(this,d,t,a,s)}})(nr.API),P5.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(r,t,a,s){var i=new P5(r),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},d=new Iw(100).encode(A,100);return e.processJPEG.call(this,d,t,a,s)}})(nr.API),nr.API.processRGBA=function(e,r,t){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,A=0,d=0;d<s;d+=4){var f=a[d],h=a[d+1],m=a[d+2],p=a[d+3];i[l++]=f,i[l++]=h,i[l++]=m,o[A++]=p}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:r,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},nr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mf=nr.API,fg=mf.getCharWidthsArray=function(e,r){var t,a,s=(r=r||{}).font||this.internal.getFont(),i=r.fontSize||this.internal.getFontSize(),o=r.charSpace||this.internal.getCharSpace(),l=r.widths?r.widths:s.metadata.Unicode.widths,A=l.fof?l.fof:1,d=r.kerning?r.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,h=r.doKerning!==!1,m=0,p=e.length,x=0,v=l[0]||A,b=[];for(t=0;t<p;t++)a=e.charCodeAt(t),typeof s.metadata.widthOfString=="function"?b.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(m=h&&_a(d[a])==="object"&&!isNaN(parseInt(d[a][x],10))?d[a][x]/f:0,b.push((l[a]||v)/A+m)),x=a;return b},C5=mf.getStringUnitWidth=function(e,r){var t=(r=r||{}).fontSize||this.internal.getFontSize(),a=r.font||this.internal.getFont(),s=r.charSpace||this.internal.getCharSpace();return mf.processArabic&&(e=mf.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,t,s)/t:fg.apply(this,arguments).reduce(function(i,o){return i+o},0)},S5=function(e,r,t,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+r[i]<t;)l+=r[i],i++;s.push(e.slice(0,i));var A=i;for(l=0;i!==o;)l+r[i]>a&&(s.push(e.slice(A,i)),l=0,A=i),l+=r[i],i++;return A!==i&&s.push(e.slice(A,i)),s},E5=function(e,r,t){t||(t={});var a,s,i,o,l,A,d,f=[],h=[f],m=t.textIndent||0,p=0,x=0,v=e.split(" "),b=fg.apply(this,[" ",t])[0];if(A=t.lineIndent===-1?v[0].length+2:t.lineIndent||0){var N=Array(A).join(" "),B=[];v.map(function(F){(F=F.split(/\s*\n/)).length>1?B=B.concat(F.map(function(L,M){return(M&&L.length?`
`:"")+L})):B.push(F[0])}),v=B,A=C5.apply(this,[N,t])}for(i=0,o=v.length;i<o;i++){var S=0;if(a=v[i],A&&a[0]==`
`&&(a=a.substr(1),S=1),m+p+(x=(s=fg.apply(this,[a,t])).reduce(function(F,L){return F+L},0))>r||S){if(x>r){for(l=S5.apply(this,[a,s,r-(m+p),r]),f.push(l.shift()),f=[l.pop()];l.length;)h.push([l.shift()]);x=s.slice(a.length-(f[0]?f[0].length:0)).reduce(function(F,L){return F+L},0)}else f=[a];h.push(f),m=x+A,p=b}else f.push(a),m+=p+x,p=b}return d=A?function(F,L){return(L?N:"")+F.join(" ")}:function(F){return F.join(" ")},h.map(d)},mf.splitTextToSize=function(e,r,t){var a,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*r/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var l,A,d=[];for(l=0,A=a.length;l<A;l++)d=d.concat(E5.apply(this,[a[l],o,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var r="0123456789abcdef",t="klmnopqrstuvwxyz",a={},s={},i=0;i<16;i++)a[t[i]]=r[i],s[r[i]]=t[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var p,x,v,b,N=["{"];for(var B in m){if(p=m[B],isNaN(parseInt(B,10))?x="'"+B+"'":(B=parseInt(B,10),x=(x=o(B).slice(2)).slice(0,-1)+s[x.slice(-1)]),typeof p=="number")p<0?(v=o(p).slice(3),b="-"):(v=o(p).slice(2),b=""),v=b+v.slice(0,-1)+s[v.slice(-1)];else{if(_a(p)!=="object")throw new Error("Don't know what to do with value type "+_a(p)+".");v=l(p)}N.push(x+v)}return N.push("}"),N.join("")},A=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,x,v,b,N={},B=1,S=N,F=[],L="",M="",U=m.length-1,I=1;I<U;I+=1)(b=m[I])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(F.push([S,v]),S={},v=void 0):b=="}"?((x=F.pop())[0][x[1]]=S,v=void 0,S=x[0]):b=="-"?B=-1:v===void 0?a.hasOwnProperty(b)?(L+=a[b],v=parseInt(L,16)*B,B=1,L=""):L+=b:a.hasOwnProperty(b)?(M+=a[b],S[v]=parseInt(M,16)*B,B=1,v=void 0,M=""):M+=b;return N},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var p=m.font,x=h.Unicode[p.postScriptName];x&&(p.metadata.Unicode={},p.metadata.Unicode.widths=x.widths,p.metadata.Unicode.kerning=x.kerning);var v=f.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])})(nr.API),(function(e){var r=function(t){for(var a=t.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=t.charCodeAt(i);return s};e.API.events.push(["addFont",function(t){var a=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?r(l):r(Pg(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])})(nr),nr.API.addSvgAsImage=function(e,r,t,a,s,i,o,l){if(isNaN(r)||isNaN(t))throw Qa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Qa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=a,A.height=s;var d=A.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,A.width,A.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Br.canvg?Promise.resolve(Br.canvg):il(()=>import("./index.es-D0QCFWVa.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){h.addImage(A.toDataURL("image/jpeg",1),r,t,a,s,o,l)})},nr.API.putTotalPages=function(e){var r,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(r,t);return this},nr.API.viewerPreferences=function(e,r){var t;e=e||{},r=r||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),A=[],d=0,f=0,h=0;function m(x,v){var b,N=!1;for(b=0;b<x.length;b+=1)x[b]===v&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||r===!0){var p=l.length;for(h=0;h<p;h+=1)t[l[h]].value=t[l[h]].defaultValue,t[l[h]].explicitSet=!1}if(_a(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&m(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(d=0;d<i.length;d+=1)if(a=!0,i[d].length===1&&typeof i[d][0]=="number")A.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(a=!1);a===!0&&A.push([i[d][0]-1,i[d][1]-1].join(" "))}t[s].value="["+A.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,v=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?v.push("/"+x+" /"+t[x].value):v.push("/"+x+" "+t[x].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(e){var r=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+s.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+A),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",r)),this}})(nr.API),(function(e){var r=e.API,t=r.pdfEscape16=function(i,o){for(var l,A=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),A.indexOf(l)==-1&&(A.push(l),A.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},a=function(i){var o,l,A,d,f,h,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],h=0,m=(l=Object.keys(i).sort(function(p,x){return p-x})).length;h<m;h++)o=l[h],A.length>=100&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+d+">"));return A.length&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",x=0;x<m.length;x++)p+=String.fromCharCode(m[x]);var v=d();f({data:p,addLength1:!0,objectId:v}),A("endobj");var b=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:b}),A("endobj");var N=d();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+wf(l.fontName)),A("/FontFile2 "+v+" 0 R"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/Flags "+l.metadata.flags),A("/StemV "+l.metadata.stemV),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A(">>"),A("endobj");var B=d();A("<<"),A("/Type /Font"),A("/BaseFont /"+wf(l.fontName)),A("/FontDescriptor "+N+" 0 R"),A("/W "+e.API.PDFObject.convert(h)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+l.encoding+")"),A(">>"),A(">>"),A("endobj"),l.objectNumber=d(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+b+" 0 R"),A("/BaseFont /"+wf(l.fontName)),A("/Encoding /"+l.encoding),A("/DescendantFonts ["+B+" 0 R]"),A(">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]),r.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var x=d();f({data:m,addLength1:!0,objectId:x}),A("endobj");var v=d();f({data:a(l.metadata.toUnicode),addLength1:!0,objectId:v}),A("endobj");var b=d();A("<<"),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A("/StemV "+l.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+x+" 0 R"),A("/Flags 96"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/FontName /"+wf(l.fontName)),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A(">>"),A("endobj"),l.objectNumber=d();for(var N=0;N<l.metadata.hmtx.widths.length;N++)l.metadata.hmtx.widths[N]=parseInt(l.metadata.hmtx.widths[N]*(1e3/l.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+wf(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",A=i.x,d=i.y,f=i.options||{},h=i.mutex||{},m=h.pdfEscape,p=h.activeFontKey,x=h.fonts,v=p,b="",N=0,B="",S=x[v].encoding;if(x[v].encoding!=="Identity-H")return{text:l,x:A,y:d,options:f,mutex:h};for(B=l,v=p,Array.isArray(l)&&(B=l[0]),N=0;N<B.length;N+=1)x[v].metadata.hasOwnProperty("cmap")&&(o=x[v].metadata.cmap.unicode.codeMap[B[N].charCodeAt(0)]),o||B[N].charCodeAt(0)<256&&x[v].metadata.hasOwnProperty("Unicode")?b+=B[N]:b+="";var F="";return parseInt(v.slice(1))<14||S==="WinAnsiEncoding"?F=m(b,v).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(F=t(b,x[v])),h.isHex=!0,{text:F,x:A,y:d,options:f,mutex:h}};r.events.push(["postProcessText",function(i){var o=i.text||"",l=[],A={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([s(Object.assign({},A,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(s(Object.assign({},A,{text:o[d]})).text);i.text=l}else i.text=s(Object.assign({},A,{text:o})).text}])})(nr),(function(e){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,a){return r.call(this),this.internal.vFS[t]=a,this},e.getFileFromVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(nr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,A,d,f,h=r,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,S=0;this.__bidiEngine__={};var F=function(Q){var K=Q.charCodeAt(),X=K>>8,R=v[X];return R!==void 0?h[256*R+(255&K)]:X===252||X===253?"AL":N.test(X)?"L":X===8?"R":"N"},L=function(Q){for(var K,X=0;X<Q.length;X++){if((K=F(Q.charAt(X)))==="L")return!1;if(K==="R")return!0}return!1},M=function(Q,K,X,R){var re,$,V,Z,ie=K[R];switch(ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(ie="AN");break;case"AL":B=!0,ie="R";break;case"WS":case"BN":ie="N";break;case"CS":R<1||R+1>=K.length||(re=X[R-1])!=="EN"&&re!=="AN"||($=K[R+1])!=="EN"&&$!=="AN"?ie="N":B&&($="AN"),ie=$===re?$:"N";break;case"ES":ie=(re=R>0?X[R-1]:"B")==="EN"&&R+1<K.length&&K[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&X[R-1]==="EN"){ie="EN";break}if(B){ie="N";break}for(V=R+1,Z=K.length;V<Z&&K[V]==="ET";)V++;ie=V<Z&&K[V]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(Z=K.length,V=R+1;V<Z&&K[V]==="NSM";)V++;if(V<Z){var ue=Q[R],E=ue>=1425&&ue<=2303||ue===64286;if(re=K[V],E&&(re==="R"||re==="AL")){ie="R";break}}}ie=R<1||(re=K[R-1])==="B"?"N":X[R-1];break;case"B":B=!1,s=!0,ie=S;break;case"S":i=!0,ie="N"}return ie},U=function(Q,K,X){var R=Q.split("");return X&&I(R,X,{hiLevel:S}),R.reverse(),K&&K.reverse(),R.join("")},I=function(Q,K,X){var R,re,$,V,Z,ie=-1,ue=Q.length,E=0,P=[],Y=S?p:m,z=[];for(B=!1,s=!1,i=!1,re=0;re<ue;re++)z[re]=F(Q[re]);for($=0;$<ue;$++){if(Z=E,P[$]=M(Q,z,P,$),R=240&(E=Y[Z][x[P[$]]]),E&=15,K[$]=V=Y[E][5],R>0)if(R===16){for(re=ie;re<$;re++)K[re]=1;ie=-1}else ie=-1;if(Y[E][6])ie===-1&&(ie=$);else if(ie>-1){for(re=ie;re<$;re++)K[re]=V;ie=-1}z[$]==="B"&&(K[$]=0),X.hiLevel|=V}i&&(function(J,q,G){for(var ne=0;ne<G;ne++)if(J[ne]==="S"){q[ne]=S;for(var ce=ne-1;ce>=0&&J[ce]==="WS";ce--)q[ce]=S}})(z,K,ue)},_=function(Q,K,X,R,re){if(!(re.hiLevel<Q)){if(Q===1&&S===1&&!s)return K.reverse(),void(X&&X.reverse());for(var $,V,Z,ie,ue=K.length,E=0;E<ue;){if(R[E]>=Q){for(Z=E+1;Z<ue&&R[Z]>=Q;)Z++;for(ie=E,V=Z-1;ie<V;ie++,V--)$=K[ie],K[ie]=K[V],K[V]=$,X&&($=X[ie],X[ie]=X[V],X[V]=$);E=Z}E++}}},W=function(Q,K,X){var R=Q.split(""),re={hiLevel:S};return X||(X=[]),I(R,X,re),(function($,V,Z){if(Z.hiLevel!==0&&f)for(var ie,ue=0;ue<$.length;ue++)V[ue]===1&&(ie=b.indexOf($[ue]))>=0&&($[ue]=b[ie+1])})(R,X,re),_(2,R,K,X,re),_(1,R,K,X,re),R.join("")};return this.__bidiEngine__.doBidiReorder=function(Q,K,X){if((function(re,$){if($)for(var V=0;V<re.length;V++)$[V]=V;l===void 0&&(l=L(re)),d===void 0&&(d=L(re))})(Q,K),o||!A||d)if(o&&A&&l^d)S=l?1:0,Q=U(Q,K,X);else if(!o&&A&&d)S=l?1:0,Q=W(Q,K,X),Q=U(Q,K);else if(!o||l||A||d){if(o&&!A&&l^d)Q=U(Q,K),l?(S=0,Q=W(Q,K,X)):(S=1,Q=W(Q,K,X),Q=U(Q,K));else if(o&&l&&!A&&d)S=1,Q=W(Q,K,X),Q=U(Q,K);else if(!o&&!A&&l^d){var R=f;l?(S=1,Q=W(Q,K,X),S=0,f=!1,Q=W(Q,K,X),f=R):(S=0,Q=W(Q,K,X),Q=U(Q,K),S=1,f=!1,Q=W(Q,K,X),f=R,Q=U(Q,K))}}else S=0,Q=W(Q,K,X);else S=l?1:0,Q=W(Q,K,X);return Q},this.__bidiEngine__.setOptions=function(Q){Q&&(o=Q.isInputVisual,A=Q.isOutputVisual,l=Q.isInputRtl,d=Q.isOutputRtl,f=Q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([t.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([t.doBidiReorder(s[l])]);a.text=o}else a.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(nr),nr.API.TTFFont=(function(){function e(r){var t;if(this.rawData=r,t=this.contents=new cd(r),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new qY(this),this.registerTTF()}return e.open=function(r){return new e(r)},e.prototype.parse=function(){return this.directory=new UY(this.contents),this.head=new IY(this),this.name=new MY(this),this.cmap=new ek(this),this.toUnicode={},this.hhea=new PY(this),this.maxp=new OY(this),this.hmtx=new HY(this),this.post=new RY(this),this.os2=new QY(this),this.loca=new zY(this),this.glyf=new KY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var r,t,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,A,d;for(d=[],o=0,l=(A=this.bbox).length;o<l;o++)r=A[o],d.push(Math.round(r*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(r){var t;return((t=this.cmap.unicode)!=null?t.codeMap[r]:void 0)||0},e.prototype.widthOfGlyph=function(r){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*t},e.prototype.widthOfString=function(r,t,a){var s,i,o,l;for(o=0,i=0,l=(r=""+r).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=r.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(r,t){var a;return t==null&&(t=!1),a=t?this.lineGap:0,(this.ascender+a-this.decender)/1e3*r},e})();var pl,cd=(function(){function e(r){this.data=r??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(r){return this.data[this.pos++]=r},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},e.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},e.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},e.prototype.readString=function(r){var t,a;for(a=[],t=0;0<=r?t<r:t>r;t=0<=r?++t:--t)a[t]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(r){var t,a,s;for(s=[],t=0,a=r.length;0<=a?t<a:t>a;t=0<=a?++t:--t)s.push(this.writeByte(r.charCodeAt(t)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(r){return this.writeInt16(r)},e.prototype.readLongLong=function(){var r,t,a,s,i,o,l,A;return r=this.readByte(),t=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),A=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^t)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^A)+1):72057594037927940*r+281474976710656*t+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+A},e.prototype.writeLongLong=function(r){var t,a;return t=Math.floor(r/4294967296),a=4294967295&r,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(r){return this.writeInt32(r)},e.prototype.read=function(r){var t,a;for(t=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)t.push(this.readByte());return t},e.prototype.write=function(r){var t,a,s,i;for(i=[],a=0,s=r.length;a<s;a++)t=r[a],i.push(this.writeByte(t));return i},e})(),UY=(function(){var e;function r(t){var a,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[a.tag]=a}return r.prototype.encode=function(t){var a,s,i,o,l,A,d,f,h,m,p,x,v;for(v in p=Object.keys(t).length,A=Math.log(2),h=16*Math.floor(Math.log(p)/A),o=Math.floor(h/A),f=16*p-h,(s=new cd).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(o),s.writeShort(f),i=16*p,d=s.pos+i,l=null,x=[],t)for(m=t[v],s.writeString(v),s.writeInt(e(m)),s.writeInt(d),s.writeInt(m.length),x=x.concat(m),v==="head"&&(l=d),d+=m.length;d%4;)x.push(0),d++;return s.write(x),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(t){var a,s,i,o;for(t=tk.call(t);t.length%4;)t.push(0);for(i=new cd(t),s=0,a=0,o=t.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},r})(),LY={}.hasOwnProperty,sc=function(e,r){for(var t in r)LY.call(r,t)&&(e[t]=r[t]);function a(){this.constructor=e}return a.prototype=r.prototype,e.prototype=new a,e.__super__=r.prototype,e};pl=(function(){function e(r){var t;this.file=r,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var IY=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,pl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var t;return(t=new cd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(r),t.writeShort(this.glyphDataFormat),t.data},e})(),Q5=(function(){function e(r,t){var a,s,i,o,l,A,d,f,h,m,p,x,v,b,N,B,S;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=t+r.readInt(),h=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=r.readByte();break;case 4:for(p=r.readUInt16(),m=p/2,r.pos+=6,i=(function(){var F,L;for(L=[],A=F=0;0<=m?F<m:F>m;A=0<=m?++F:--F)L.push(r.readUInt16());return L})(),r.pos+=2,v=(function(){var F,L;for(L=[],A=F=0;0<=m?F<m:F>m;A=0<=m?++F:--F)L.push(r.readUInt16());return L})(),d=(function(){var F,L;for(L=[],A=F=0;0<=m?F<m:F>m;A=0<=m?++F:--F)L.push(r.readUInt16());return L})(),f=(function(){var F,L;for(L=[],A=F=0;0<=m?F<m:F>m;A=0<=m?++F:--F)L.push(r.readUInt16());return L})(),s=(this.length-r.pos+this.offset)/2,l=(function(){var F,L;for(L=[],A=F=0;0<=s?F<s:F>s;A=0<=s?++F:--F)L.push(r.readUInt16());return L})(),A=N=0,S=i.length;N<S;A=++N)for(b=i[A],a=B=x=v[A];x<=b?B<=b:B>=b;a=x<=b?++B:--B)f[A]===0?o=a+d[A]:(o=l[f[A]/2+(a-x)-(m-A)]||0)!==0&&(o+=d[A]),this.codeMap[a]=65535&o}r.pos=h}return e.encode=function(r,t){var a,s,i,o,l,A,d,f,h,m,p,x,v,b,N,B,S,F,L,M,U,I,_,W,Q,K,X,R,re,$,V,Z,ie,ue,E,P,Y,z,J,q,G,ne,ce,pe,ve,Pe;switch(R=new cd,o=Object.keys(r).sort(function(ke,xe){return ke-xe}),t){case"macroman":for(v=0,b=(function(){var ke=[];for(x=0;x<256;++x)ke.push(0);return ke})(),B={0:0},i={},re=0,ie=o.length;re<ie;re++)B[ce=r[s=o[re]]]==null&&(B[ce]=++v),i[s]={old:r[s],new:B[r[s]]},b[s]=B[r[s]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(b),{charMap:i,subtable:R.data,maxGlyphID:v+1};case"unicode":for(K=[],h=[],S=0,B={},a={},N=d=null,$=0,ue=o.length;$<ue;$++)B[L=r[s=o[$]]]==null&&(B[L]=++S),a[s]={old:L,new:B[L]},l=B[L]-s,N!=null&&l===d||(N&&h.push(N),K.push(s),d=l),N=s;for(N&&h.push(N),h.push(65535),K.push(65535),W=2*(_=K.length),I=2*Math.pow(Math.log(_)/Math.LN2,2),m=Math.log(I/2)/Math.LN2,U=2*_-I,A=[],M=[],p=[],x=V=0,E=K.length;V<E;x=++V){if(Q=K[x],f=h[x],Q===65535){A.push(0),M.push(0);break}if(Q-(X=a[Q].new)>=32768)for(A.push(0),M.push(2*(p.length+_-x)),s=Z=Q;Q<=f?Z<=f:Z>=f;s=Q<=f?++Z:--Z)p.push(a[s].new);else A.push(X-Q),M.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*_+2*p.length),R.writeUInt16(0),R.writeUInt16(W),R.writeUInt16(I),R.writeUInt16(m),R.writeUInt16(U),G=0,P=h.length;G<P;G++)s=h[G],R.writeUInt16(s);for(R.writeUInt16(0),ne=0,Y=K.length;ne<Y;ne++)s=K[ne],R.writeUInt16(s);for(pe=0,z=A.length;pe<z;pe++)l=A[pe],R.writeUInt16(l);for(ve=0,J=M.length;ve<J;ve++)F=M[ve],R.writeUInt16(F);for(Pe=0,q=p.length;Pe<q;Pe++)v=p[Pe],R.writeUInt16(v);return{charMap:a,subtable:R.data,maxGlyphID:S+1}}},e})(),ek=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,pl),e.prototype.tag="cmap",e.prototype.parse=function(r){var t,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)t=new Q5(r,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},e.encode=function(r,t){var a,s;return t==null&&(t="macroman"),a=Q5.encode(r,t),(s=new cd).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e})(),PY=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,pl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e})(),QY=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,pl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var t,a;for(a=[],t=0;t<10;++t)a.push(r.readByte());return a})(),this.charRange=(function(){var t,a;for(a=[],t=0;t<4;++t)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var t,a;for(a=[],t=0;t<2;t=++t)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e})(),RY=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,pl),e.prototype.tag="post",e.prototype.parse=function(r){var t,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)t=r.readByte(),s.push(this.names.push(r.readString(t)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 262144:return this.map=(function(){var o,l,A;for(A=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)A.push(r.readUInt32());return A}).call(this)}},e})(),TY=function(e,r){this.raw=e,this.length=e.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},MY=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,pl),e.prototype.tag="name",e.prototype.parse=function(r){var t,a,s,i,o,l,A,d,f,h,m;for(r.pos=this.offset,r.readShort(),t=r.readShort(),l=r.readShort(),a=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(A={},i=f=0,h=a.length;f<h;i=++f)s=a[i],r.pos=s.offset,d=r.readString(s.length),o=new TY(d,s),A[m=s.nameID]==null&&(A[m]=[]),A[s.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e})(),OY=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,pl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e})(),HY=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,pl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var t,a,s,i,o,l,A;for(r.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)f.push(r.readInt16());return f})(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)i=h[d],m.push(i.advance);return m}).call(this),a=this.widths[this.widths.length-1],A=[],t=o=0;0<=s?o<s:o>s;t=0<=s?++o:--o)A.push(this.widths.push(a));return A},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e})(),tk=[].slice,KY=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,pl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var t,a,s,i,o,l,A,d,f,h;return r in this.cache?this.cache[r]:(i=this.file.loca,t=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(t.pos=this.offset+a,o=(l=new cd(t.read(s))).readShort(),d=l.readShort(),h=l.readShort(),A=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new VY(l,d,h,A,f):new $Y(l,o,d,h,A,f),this.cache[r]))},e.prototype.encode=function(r,t,a){var s,i,o,l,A;for(o=[],i=[],l=0,A=t.length;l<A;l++)s=r[t[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},e})(),$Y=(function(){function e(r,t,a,s,i,o){this.raw=r,this.numberOfContours=t,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),VY=(function(){function e(r,t,a,s,i){var o,l;for(this.raw=r,this.xMin=t,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var r,t,a;for(t=new cd(tk.call(this.raw.data)),r=0,a=this.glyphIDs.length;r<a;++r)t.pos=this.glyphOffsets[r];return t.data},e})(),zY=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,pl),e.prototype.tag="loca",e.prototype.parse=function(r){var t,a;return r.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,t){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<t.length&&t[i]==o){++i,a[o]=s;var l=this.offsets[o],A=this.offsets[o+1]-l;A>0&&(s+=A)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},e})(),qY=(function(){function e(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var r,t,a,s,i;for(t in s=this.font.cmap.tables[0].codeMap,r={},i=this.subset)a=i[t],r[t]=s[a];return r},e.prototype.glyphsFor=function(r){var t,a,s,i,o,l,A;for(s={},o=0,l=r.length;o<l;o++)s[i=r[o]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(a=s[i])!=null&&a.compound&&t.push.apply(t,a.glyphIDs);if(t.length>0)for(i in A=this.glyphsFor(t))a=A[i],s[i]=a;return s},e.prototype.encode=function(r,t){var a,s,i,o,l,A,d,f,h,m,p,x,v,b,N;for(s in a=ek.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(r),p={0:0},N=a.charMap)p[(A=N[s]).old]=A.new;for(x in m=a.maxGlyphID,o)x in p||(p[x]=m++);return f=(function(B){var S,F;for(S in F={},B)F[B[S]]=S;return F})(p),h=Object.keys(f).sort(function(B,S){return B-S}),v=(function(){var B,S,F;for(F=[],B=0,S=h.length;B<S;B++)l=h[B],F.push(f[l]);return F})(),i=this.font.glyf.encode(o,v,p),d=this.font.loca.encode(i.offsets,v),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e})();nr.API.PDFObject=(function(){var e;function r(){}return e=function(t,a){return(Array(a+1).join("0")+t).slice(-a)},r.convert=function(t){var a,s,i,o;if(Array.isArray(t))return"["+(function(){var l,A,d;for(d=[],l=0,A=t.length;l<A;l++)a=t[l],d.push(r.convert(a));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)o=t[s],i.push("/"+s+" "+r.convert(o));return i.push(">>"),i.join(`
`)}return""+t},r})();const WY=async()=>(await il(async()=>{const{default:e}=await import("./localAgent-CW0aUkZu.js");return{default:e}},[])).default;function GY(){var St,pt,kt;const[e,r]=w.useState(!1),[t,a]=w.useState(null),[s,i]=w.useState(""),[o,l]=w.useState(null),[A,d]=w.useState(""),{id:f}=Al(),h=Hn(),m=Xn(),{toast:p}=Ma(),[x,v]=w.useState(null),b=async Qe=>{const Xe=await Qe.arrayBuffer(),gt=await crypto.subtle.digest("SHA-256",Xe);return Array.from(new Uint8Array(gt)).map(Mt=>Mt.toString(16).padStart(2,"0")).join("")},N=((St=h.state)==null?void 0:St.fromConsulta)||{},B=((pt=h.state)==null?void 0:pt.consultaId)||N.consultaId,S=N.receitaItems||[],F=Array.isArray(S)&&S.length>0,L=Qe=>{if(!Qe)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(Qe))return Qe;const Xe=new Date(Qe);if(!isNaN(Xe)){const Mt=Xe.getFullYear(),Gt=String(Xe.getMonth()+1).padStart(2,"0"),ir=String(Xe.getDate()).padStart(2,"0");return`${Mt}-${Gt}-${ir}`}const gt=String(Qe).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return gt?`${gt[3]}-${gt[2]}-${gt[1]}`:""},M=Qe=>{if(!Qe)return"";const Xe=new Date(Qe);if(isNaN(Xe))return"";const gt=new Date;let Mt=gt.getFullYear()-Xe.getFullYear();const Gt=gt.getMonth()-Xe.getMonth(),ir=gt.getDate()-Xe.getDate();(Gt<0||Gt===0&&ir<0)&&Mt--;let et=new Date(gt.getFullYear(),Xe.getMonth(),Xe.getDate());et>gt&&(et=new Date(gt.getFullYear()-1,Xe.getMonth(),Xe.getDate()));const Ct=1440*60*1e3,or=Math.floor((gt-et)/Ct);return`${Mt} anos e ${or} dias`},U=w.useMemo(()=>new Date().toLocaleDateString(),[]),I=Qe=>{for(const Xe of Qe){if(Xe==null)continue;const gt=typeof Xe=="string"?Xe.trim():Xe;if(gt)return typeof gt=="string"?gt:String(gt)}return""},[_,W]=w.useState({nome_paciente:"",idade:"",rg:"",data_nascimento:"",medicamento:N.medicamentos||"",posologia:N.posologia||"",validade_receita:N.validade||"",medico:"",crm:"",endereco_consultorio:"",telefone_consultorio:"",observacoes:"",formato:"pdf",acao:"imprimir",email_paciente:"",email_medico:""}),[Q,K]=w.useState(!1),[X,R]=w.useState(!0),[re,$]=w.useState(!1),[V,Z]=w.useState(!1),[ie,ue]=w.useState("token"),[E,P]=w.useState(""),{user:Y,ephemeralCertFile:z,setEphemeralCertFile:J,ephemeralCertPassword:q,setEphemeralCertPassword:G,clearEphemeralCert:ne}=Wl(),[ce,pe]=w.useState(z||null),[ve,Pe]=w.useState(q||"");w.useEffect(()=>{J(ce)},[ce,J]),w.useEffect(()=>{G(ve)},[ve,G]);const ke=w.useMemo(()=>!ce||!ve?null:{arquivo:ce,senha:ve,modo:"pfx"},[ce,ve]),[xe,de]=w.useState(null),[wt,bt]=w.useState(null),[mt,qe]=w.useState({ok:!0,errors:[],expected:{medicoId:null,pacienteId:f,consultaId:B}});w.useEffect(()=>{let Qe=!0;async function Xe(){var gt,Mt,Gt,ir,et,Ct,or,mr,lr,Cr,cr,Kr,ar,Jr,Va,Zr,Sn,hn,ys,os,so,ks,Ri,io;R(!0);try{try{const xt=await br.getPerfil(),Je=(xt==null?void 0:xt.user)||(xt==null?void 0:xt.usuario)||{},ka=I([`${(Je==null?void 0:Je.first_name)||""} ${(Je==null?void 0:Je.last_name)||""}`.trim(),xt==null?void 0:xt.nome,xt==null?void 0:xt.nome_completo,xt==null?void 0:xt.full_name,xt==null?void 0:xt.name]),ct=I([xt==null?void 0:xt.crm,xt==null?void 0:xt.matricula,xt==null?void 0:xt.registro,xt==null?void 0:xt.crm_numero,Je==null?void 0:Je.crm]),Kn=I([xt==null?void 0:xt.endereco_consultorio,xt==null?void 0:xt.consultorio_endereco,xt==null?void 0:xt.endereco,Je==null?void 0:Je.endereco,(gt=xt==null?void 0:xt.clinica)==null?void 0:gt.endereco]),fa=I([xt==null?void 0:xt.telefone_consultorio,xt==null?void 0:xt.consultorio_telefone,xt==null?void 0:xt.telefone,Je==null?void 0:Je.telefone,Je==null?void 0:Je.phone,(Mt=xt==null?void 0:xt.clinica)==null?void 0:Mt.telefone,xt==null?void 0:xt.celular]),ha=I([Je==null?void 0:Je.email_institucional,Je==null?void 0:Je.email,xt==null?void 0:xt.email_institucional,xt==null?void 0:xt.email,xt==null?void 0:xt.contato_email]),Lr=((Gt=xt==null?void 0:xt.medico)==null?void 0:Gt.id)||(xt==null?void 0:xt.id)||null;Qe&&xt&&(W(mn=>({...mn,medico:ka||mn.medico,crm:ct||mn.crm,endereco_consultorio:Kn||mn.endereco_consultorio||"",telefone_consultorio:fa||mn.telefone_consultorio||"",email_medico:ha||mn.email_medico||""})),qe(mn=>({...mn,expected:{...mn.expected,medicoId:Lr}})))}catch{}try{const xt="/api/pacientes/".replace(/\/?$/,"/");let Je=null,ka=null;try{const{data:ct}=await Ee.get(`${xt}${f}/`);Je=ct}catch(ct){console.error("Erro ao carregar dados do mdico:",ct)}if(!Je){const ct=[{id:f},{paciente_id:f},{user:f},{usuario:f},{user__id:f},{usuario_id:f}];for(const Kn of ct)try{const{data:fa}=await Ee.get(xt,{params:Kn}),ha=Array.isArray(fa==null?void 0:fa.results)?fa.results:Array.isArray(fa)?fa:[];if(ha!=null&&ha.length){Je=ha[0];break}if(fa!=null&&fa.id){Je=fa;break}}catch(fa){console.error("Erro ao carregar dados do paciente:",fa)}}if(!Je&&B)try{const{data:ct}=await Ee.get(`/consultas/${B}/`);ka=ct;const Kn=(ct==null?void 0:ct.paciente)||(ct!=null&&ct.paciente_id?{id:ct.paciente_id}:null);Kn&&(Je=Kn)}catch(ct){console.error("Erro ao carregar dados do usurio:",ct)}if(!Je&&(N!=null&&N.paciente)&&(Je=N.paciente),Qe&&Je){const ct=(Je==null?void 0:Je.user)||(Je==null?void 0:Je.usuario)||{},Kn=I([ct==null?void 0:ct.display_name,`${(ct==null?void 0:ct.first_name)||""} ${(ct==null?void 0:ct.last_name)||""}`.trim(),ct==null?void 0:ct.nome,ct==null?void 0:ct.nome_completo,Je==null?void 0:Je.nome,Je==null?void 0:Je.nome_completo,Je==null?void 0:Je.name]),fa=L((ct==null?void 0:ct.data_nascimento)||(ct==null?void 0:ct.nascimento)||(ct==null?void 0:ct.dob)||(Je==null?void 0:Je.data_nascimento)||(Je==null?void 0:Je.nascimento)||(Je==null?void 0:Je.dob)||"");let ha=I([ct==null?void 0:ct.cpf,(ir=ct==null?void 0:ct.profile)==null?void 0:ir.cpf,(et=ct==null?void 0:ct.meu_app_user)==null?void 0:et.cpf,(Ct=ct==null?void 0:ct.dados)==null?void 0:Ct.cpf,Je==null?void 0:Je.cpf,(or=Je==null?void 0:Je.profile)==null?void 0:or.cpf,(mr=Je==null?void 0:Je.meu_app_user)==null?void 0:mr.cpf,(lr=Je==null?void 0:Je.dados)==null?void 0:lr.cpf,(Cr=Je==null?void 0:Je.usuario)==null?void 0:Cr.cpf,(Kr=(cr=Je==null?void 0:Je.usuario)==null?void 0:cr.profile)==null?void 0:Kr.cpf,(Jr=(ar=Je==null?void 0:Je.usuario)==null?void 0:ar.meu_app_user)==null?void 0:Jr.cpf,(Va=N==null?void 0:N.paciente)==null?void 0:Va.cpf,N==null?void 0:N.cpf,Je==null?void 0:Je.documento,Je==null?void 0:Je.doc,Je==null?void 0:Je.rg]);if(!ha)try{let Ia=null;const mi=ct&&typeof ct=="object"&&Object.keys(ct).length>0;if(typeof ct=="number"||typeof ct=="string"?Ia=ct:mi&&(Ia=ct.id||ct.pk||ct.user||ct.usuario||null),Ia||(Ia=((Zr=Je==null?void 0:Je.usuario)==null?void 0:Zr.id)||((Sn=Je==null?void 0:Je.user)==null?void 0:Sn.id)||(Je==null?void 0:Je.usuario_id)||(Je==null?void 0:Je.user_id)||(typeof(Je==null?void 0:Je.usuario)=="number"||typeof(Je==null?void 0:Je.usuario)=="string"?Je.usuario:null)||(typeof(Je==null?void 0:Je.user)=="number"||typeof(Je==null?void 0:Je.user)=="string"?Je.user:null)),Ia){const bs="/api/users/".replace(/\/?$/,"/"),{data:Jn}=await Ee.get(`${bs}${Ia}/`);ha=I([Jn==null?void 0:Jn.cpf,(hn=Jn==null?void 0:Jn.profile)==null?void 0:hn.cpf,(ys=Jn==null?void 0:Jn.meu_app_user)==null?void 0:ys.cpf,(os=Jn==null?void 0:Jn.dados)==null?void 0:os.cpf])||ha}}catch(Ia){console.error("Erro ao carregar dados da consulta:",Ia)}const Lr=(ct==null?void 0:ct.email)||(Je==null?void 0:Je.email)||"",mn=fa?M(fa):"";W(Ia=>({...Ia,nome_paciente:Kn||Ia.nome_paciente,data_nascimento:fa||Ia.data_nascimento,rg:Ia.rg||ha,idade:Ia.idade||mn,email_paciente:Ia.email_paciente||Lr}))}try{const ct=Lr=>Lr==null?null:String(Lr),Kn=[];let fa=null,ha=null;if(ka)fa=((so=ka==null?void 0:ka.medico)==null?void 0:so.id)||(ka==null?void 0:ka.medico)||(ka==null?void 0:ka.medico_id)||null,ha=((ks=ka==null?void 0:ka.paciente)==null?void 0:ks.id)||(ka==null?void 0:ka.paciente)||(ka==null?void 0:ka.paciente_id)||null;else if(B)try{const{data:Lr}=await Ee.get(`/consultas/${B}/`);fa=((Ri=Lr==null?void 0:Lr.medico)==null?void 0:Ri.id)||(Lr==null?void 0:Lr.medico)||(Lr==null?void 0:Lr.medico_id)||null,ha=((io=Lr==null?void 0:Lr.paciente)==null?void 0:io.id)||(Lr==null?void 0:Lr.paciente)||(Lr==null?void 0:Lr.paciente_id)||null}catch(Lr){console.error("Erro ao carregar dados do mdico:",Lr)}ha&&String(ha)!==String(f)&&Kn.push("Paciente da consulta no corresponde ao paciente exibido."),qe(Lr=>{var Ia,mi;const mn=(Ia=Lr.expected)==null?void 0:Ia.medicoId;return mn&&fa&&ct(mn)!==ct(fa)&&Kn.push("Mdico da consulta no corresponde ao mdico logado."),{ok:Kn.length===0,errors:Kn,expected:{...Lr.expected,pacienteId:f,consultaId:B,medicoId:mn||((mi=Lr.expected)==null?void 0:mi.medicoId)||null}}})}catch(ct){console.error("Erro ao carregar dados do paciente:",ct)}}catch(xt){console.error("Erro ao carregar dados:",xt)}}finally{Qe&&R(!1)}}return Xe(),()=>{Qe=!1}},[f,B,N==null?void 0:N.cpf,N.paciente]);const dt=Qe=>{const{name:Xe,value:gt}=Qe.target;W(Mt=>({...Mt,[Xe]:gt})),e&&(r(!1),a(null),i(""),bt(null),x&&br.atualizarReceita(x,{assinada:!1}).catch(()=>{}),p({title:"Assinatura invalidada",description:"A receita foi alterada. Assine novamente para validade jurdica."}))},ut=()=>{K(!0),p({title:"Receita validada",description:"Os dados foram conferidos. Voc pode gerar o documento."})},er=(Qe,Xe="Receita_Medica")=>{const gt=URL.createObjectURL(Qe),Mt=document.createElement("a");Mt.href=gt;const Gt=/\.[a-z0-9]+$/i.test(Xe);Mt.download=Gt?Xe:`${Xe}.pdf`,document.body.appendChild(Mt),Mt.click(),Mt.remove(),setTimeout(()=>URL.revokeObjectURL(gt),2e3)},We=()=>{var Qe;return mt!=null&&mt.ok||p({title:"Vnculo invlido",description:((Qe=mt.errors)==null?void 0:Qe.join(` 
`))||"Verifique dados da consulta, mdico e paciente.",variant:"destructive"}),!0},Xt=async()=>{var Qe,Xe,gt;try{if(x)return x;const Mt=await br.getPerfil().catch(()=>null),Gt=((Qe=Mt==null?void 0:Mt.medico)==null?void 0:Qe.id)||(Mt==null?void 0:Mt.id)||null,ir={paciente_id:f,consulta_id:B||void 0,medico_id:Gt||void 0,nome_paciente:_.nome_paciente,cpf:_.rg,data_nascimento:L(_.data_nascimento),medicamento:_.medicamento,posologia:_.posologia,validade:L(_.validade_receita),observacoes:_.observacoes,medico:_.medico,crm:_.crm,endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,email_paciente:_.email_paciente||void 0},et=await br.criarReceita(ir),Ct=(et==null?void 0:et.id)||(et==null?void 0:et.receita_id)||(et==null?void 0:et.uuid);if(Ct){v(Ct);try{const or=[];if(F)S.forEach(mr=>{var lr,Cr;or.push({medicamento_id:((lr=mr.medicamento)==null?void 0:lr.id)||void 0,dose:mr.dose||void 0,frequencia:mr.frequencia||void 0,duracao:mr.duracao||void 0,observacoes:mr.observacoes||void 0,descricao:((Cr=mr.medicamento)==null?void 0:Cr.nome)||mr.descricao||void 0,posologia:`${mr.dose||""} ${mr.frequencia||""} ${mr.duracao||""}`.trim()||void 0})});else{const mr=!!(_.medicamento&&String(_.medicamento).trim()),lr=!!(_.posologia&&String(_.posologia).trim());(mr||lr)&&or.push({descricao:_.medicamento||void 0,posologia:_.posologia||void 0,observacoes:_.observacoes||void 0})}or.length&&await br.salvarItensReceita(Ct,or)}catch(or){try{console.warn("Falha ao salvar itens da receita:",(Xe=or==null?void 0:or.response)==null?void 0:Xe.status,((gt=or==null?void 0:or.response)==null?void 0:gt.data)||(or==null?void 0:or.message))}catch{}}}return Ct||null}catch{return x||null}},Vt=async()=>{if(We()){$(!0);try{const{pdfTemplateService:Qe}=await il(async()=>{const{pdfTemplateService:ar}=await import("./pdfTemplateService-DPUkRXqS.js");return{pdfTemplateService:ar}},[]),Xe={medicamento:_.medicamento,medicamentos:_.medicamento,posologia:_.posologia,observacoes:_.observacoes,validade_receita:_.validade_receita,data_prescricao:new Date().toISOString(),itens:F?S.map(ar=>{var Jr,Va,Zr,Sn;return{medicamento:((Jr=ar.medicamento)==null?void 0:Jr.nome)||ar.descricao,apresentacao:(Va=ar.medicamento)==null?void 0:Va.apresentacao,concentracao:(Zr=ar.medicamento)==null?void 0:Zr.concentracao,fabricante:(Sn=ar.medicamento)==null?void 0:Sn.fabricante,dose:ar.dose,frequencia:ar.frequencia,duracao:ar.duracao,posologia:`${ar.dose||""} ${ar.frequencia||""} ${ar.duracao||""}`.trim(),observacoes:ar.observacoes}}):_.medicamento?[{medicamento:_.medicamento,posologia:_.posologia,observacoes:_.observacoes}]:[],hasStructuredItems:F},gt={nome:_.medico,crm:_.crm,especialidade:_.especialidade||"",endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,email:_.email_medico||""},Mt={nome:_.nome_paciente,idade:_.idade,rg:_.rg,cpf:_.rg,data_nascimento:_.data_nascimento,endereco:_.endereco_paciente||"",telefone:_.telefone_paciente||""},Gt=_.medico_id||(Y==null?void 0:Y.id)||localStorage.getItem("medico_id")||"default",ir=await Qe.generatePDF(Xe,gt,Mt,Gt),et={filename:`Receita_${_.nome_paciente||"Medica"}.pdf`,blob:ir},Ct={paciente_nome:_.nome_paciente,idade:_.idade,rg:_.rg,cpf:_.rg,data_nascimento:L(_.data_nascimento),medicamento:_.medicamento,medicamentos:_.medicamento,posologia:_.posologia,medico_nome:_.medico,medico_crm:_.crm,endereco_consultorio:_.endereco_consultorio,telefone_consultorio:_.telefone_consultorio,validade_receita:L(_.validade_receita),observacoes:_.observacoes},or=et==null?void 0:et.blob,mr=(et==null?void 0:et.filename)||`Receita_${_.nome_paciente||"Medica"}.pdf`;if(!(or instanceof Blob))throw new Error("Falha ao gerar PDF - resposta invlida");const lr=await Xt();let Cr=or,cr=mr,Kr=!1;if(String(_.formato).toLowerCase()==="pdf"&&(Kr=!1),l(Cr),d(cr),Kr){r(!0),a(Cr),i(cr);try{const ar=await b(or),Jr=await b(Cr);lr&&(await br.atualizarReceita(lr,{assinada:!0,hash_alg:"SHA-256",hash_pre:ar,hash_documento:Jr}),await br.registrarAuditoriaAssinatura({receita_id:lr,valido:!0,hash_alg:"SHA-256",hash_pre:ar,hash_documento:Jr,motivo:"Receita Mdica",arquivo:cr}))}catch(ar){console.error("Erro ao atualizar receita:",ar)}}else r(!1),a(null),i("");er(Cr,cr),p({title:"Documento gerado",description:"PDF gerado com sucesso!"})}catch(Qe){console.error("Erro na gerao de documento:",Qe);const Xe=(Qe==null?void 0:Qe.message)||"Falha ao gerar documento";p({title:"Erro",description:Xe,variant:"destructive"})}finally{$(!1)}}},Et=async()=>{try{if(o||await Vt(),!o){p({title:"Erro",description:" necessrio gerar o PDF antes de assinar",variant:"destructive"});return}Z(!0)}catch(Qe){console.error("Erro ao preparar para assinatura:",Qe),p({title:"Erro",description:"Falha ao preparar o documento para assinatura",variant:"destructive"})}},[Pr,_t]=w.useState(!1);w.useEffect(()=>{if(!V)return;let Qe=!1;async function Xe(){try{const Mt=await(await WY()).detectTokens(),Gt=Array.isArray(Mt==null?void 0:Mt.tokens)?Mt.tokens:Array.isArray(Mt)?Mt:[];!Qe&&Gt.length>0?(_t(!0),ue("token")):Qe||(_t(!1),ue("pfx"))}catch{Qe||(_t(!1),ue("pfx"))}}return Xe(),()=>{Qe=!0}},[V]);async function It(){if(o||await Vt(),!o)throw new Error("Falha ao gerar o documento");const Qe=await b(o);return{blob:o,hashHex:Qe}}async function Bt(){var Qe,Xe,gt,Mt,Gt;$(!0);try{let ir,et;if(o)ir=o,et=await b(o);else{const Ct=await It();ir=Ct.blob,et=Ct.hashHex}if(ie==="token"){const or={status:"ok",assinatura:"MOCK_SIGNATURE_BASE64_"+Date.now(),certificado:"MOCK_CERTIFICATE_BASE64_"+Date.now(),certDetails:{subjectName:"Dr. "+_.medico,cpf:"123.456.789-00",crm:_.crm}};if(or.status==="ok"){if(r(!0),a(ir),i(`receita_assinada_${Date.now()}.pdf`),bt(new Date().toISOString()),de({subject:or.certDetails.subjectName,crm:or.certDetails.crm,algorithm:"SHA256-RSA"}),Z(!1),p({title:"Assinatura concluda",description:"Receita assinada com sucesso!"}),x)try{await br.atualizarReceita(x,{assinada:!0,hash_alg:"SHA-256",hash_pre:et,hash_documento:et})}catch(Jr){console.error("Erro ao atualizar status da receita:",Jr)}$(!1);return}const mr=(Qe=or.certDetails)==null?void 0:Qe.crm,lr=((Xe=Y==null?void 0:Y.medico_data)==null?void 0:Xe.crm)||(Y==null?void 0:Y.crm);if(!mr)throw new Error("Agente local no retornou os detalhes do CRM do certificado.");if(!lr)throw new Error("No foi possvel obter o CRM do usurio logado.");const Cr=mr.replace(/[^0-9]/g,""),cr=lr.replace(/[^0-9]/g,"");if(Cr!==cr)throw p({title:"Assinatura Rejeitada",description:`O certificado no token (${mr}) no pertence ao usurio logado (${lr}).`,variant:"destructive"}),new Error("Conflito de certificados.");p({title:"Token Validado",description:"O certificado pertence a voc. Enviando ao servidor..."});const{filename:Kr,blob:ar}=await br.finalizarAssinaturaExterna({receitaId:await Xt(),pdfFile:new File([ir],A||"receita.pdf",{type:"application/pdf"}),assinatura:or.assinatura,certificado:or.certificado});r(!0),a(ar),i(Kr||A||"receita_assinada.pdf"),bt(new Date().toISOString());try{de(or.certDetails||null)}catch(Jr){console.warn("Erro ao definir informaes do certificado:",Jr)}try{const Jr=await Xt(),Va=await b(ir),Zr=await b(ar);Jr&&(await br.atualizarReceita(Jr,{assinada:!0,hash_alg:"SHA-256",hash_pre:Va,hash_documento:Zr,motivo:"Receita Mdica"}),await br.registrarAuditoriaAssinatura({receita_id:Jr,valido:!0,hash_alg:"SHA-256",hash_pre:Va,hash_documento:Zr,motivo:"Receita Mdica",arquivo:Kr}))}catch(Jr){console.error("Erro ao atualizar registro:",Jr)}ne(),p({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),Z(!1)}else if(ie==="pfx"){if(!ce){p({title:"Certificado ausente",description:"Selecione o arquivo .pfx/.p12.",variant:"destructive"});return}const Ct=String((ce==null?void 0:ce.name)||"").toLowerCase();if(!(Ct.endsWith(".pfx")||Ct.endsWith(".p12"))){p({title:"Arquivo invlido",description:"Apenas .pfx ou .p12 so aceitos.",variant:"destructive"});return}const mr=10*1024*1024;if(ce.size>mr){p({title:"Arquivo muito grande",description:"Limite de 10 MB para PFX.",variant:"destructive"});return}if(!ve||!ve.trim()){p({title:"Senha obrigatria",description:"Informe a senha do certificado PFX.",variant:"destructive"});return}if(ve.trim().length<4){p({title:"Senha fraca",description:"A senha deve ter pelo menos 4 caracteres.",variant:"destructive"});return}const lr=await Xt();let Cr=null;try{Cr=await br.getCertificadoInfo()}catch(Zr){console.warn("No foi possvel obter informaes do certificado:",Zr)}const cr=await br.applySignatureStamp(ir,{signerName:_.medico||void 0,receitaId:lr||void 0,certInfo:Cr}),Kr=new File([cr],A||`Receita_${_.nome_paciente||"Medica"}.pdf`,{type:"application/pdf"}),ar={motivo:"Receita Mdica",local:_.endereco_consultorio||"Consultrio",receitaId:lr||void 0,pfxFile:ce||void 0,pfxPassword:ve||""},{filename:Jr,blob:Va}=await br.signDocumento(Kr,ar);r(!0),a(Va),i(Jr||A||Kr.name),bt(new Date().toISOString());try{const Zr=await br.getCertificadoInfo();de(Zr||null)}catch(Zr){console.error("Erro ao obter informaes do certificado:",Zr)}try{const Zr=await b(ir),Sn=await b(Va);lr&&(await br.atualizarReceita(lr,{assinada:!0,hash_alg:"SHA-256",hash_pre:Zr,hash_documento:Sn,motivo:"Receita Mdica"}),await br.registrarAuditoriaAssinatura({receita_id:lr,valido:!0,hash_alg:"SHA-256",hash_pre:Zr,hash_documento:Sn,motivo:"Receita Mdica",arquivo:Jr}))}catch(Zr){console.error("Erro ao atualizar registro:",Zr)}ne(),p({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),Z(!1)}}catch(ir){const et=(gt=ir==null?void 0:ir.response)==null?void 0:gt.status,Ct=((Gt=(Mt=ir==null?void 0:ir.response)==null?void 0:Mt.data)==null?void 0:Gt.detail)||(ir==null?void 0:ir.message)||"Falha ao assinar o documento";console.warn("[PreviewReceita] Erro assinatura:",et,Ct),p({title:"Erro na assinatura",description:`${Ct}${et?` [HTTP ${et}]`:""}`,variant:"destructive"})}finally{$(!1)}}const Nt=w.useCallback(()=>{const Qe=_.nome_paciente||"Paciente",Xe=_.medico||"Dr(a).";let gt="medicamentos prescritos";F?gt=S.map(mr=>{var lr;return((lr=mr.medicamento)==null?void 0:lr.nome)||mr.descricao||"Medicamento"}).join(", "):_.medicamento&&(gt=_.medicamento);const Mt=new Date().toLocaleDateString("pt-BR"),Gt=`Nova Receita Mdica - ${Qe} - ${Mt}`,ir=`Prezado(a) ${Qe},

Voc tem uma nova receita mdica disponvel, prescrita pelo ${Xe} em ${Mt}.

Medicamentos prescritos: ${gt}

Para visualizar e baixar sua receita completa, acesse sua rea do paciente em nosso portal.

Atenciosamente,
${Xe}
${_.endereco_consultorio||"Consultrio Mdico"}
${_.telefone_consultorio||""}`,et=`${Qe}, voc tem nova receita mdica de ${Xe}. Acesse o portal para visualizar. ${Mt}`,Ct=`Nova Receita - ${Xe}`,or=`Ol ${Qe}! Voc tem uma nova receita mdica disponvel, prescrita pelo ${Xe} em ${Mt}. Clique aqui para visualizar os detalhes e fazer o download.`;return{assuntoEmail:Gt,mensagemEmail:ir,mensagemSMS:et,tituloInterno:Ct,mensagemInterna:or}},[_.nome_paciente,_.medico,_.medicamento,_.endereco_consultorio,_.telefone_consultorio,F,S]),[Wt,Er]=w.useState(["interno","email"]),[Ft,xr]=w.useState(""),[it,$e]=w.useState({assuntoEmail:"Nova receita mdica",mensagemEmail:"",mensagemSMS:"",tituloInterno:"Nova receita mdica disponvel",mensagemInterna:"Voc tem uma nova receita mdica disponvel. Acesse sua rea do paciente para visualizar."});w.useEffect(()=>{if(_.nome_paciente&&_.medico){const Qe=Nt();$e(Xe=>({...Xe,...Qe}))}},[_.nome_paciente,_.medico,_.medicamento,_.endereco_consultorio,_.telefone_consultorio]);async function lt(){var Qe,Xe,gt,Mt;if(We()){if(Wt.includes("sms")){const Gt=Ft==null?void 0:Ft.replace(/\D/g,"");if(!Gt||Gt.length<10){p({title:"Telefone invlido",description:"Informe um nmero de telefone vlido para envio por SMS.",variant:"destructive"});return}}if(Wt.includes("email")&&!((Qe=_.email_paciente)!=null&&Qe.trim())){p({title:"E-mail obrigatrio",description:"Informe o e-mail do paciente para envio por e-mail.",variant:"destructive"});return}$(!0);try{if(o||await Vt(),!e||!(t instanceof Blob)){if(!(ke!=null&&ke.arquivo)){p({title:"Certificado necessrio",description:"Configure um certificado digital antes de enviar a receita.",variant:"destructive"});return}try{const cr=await Xt(),Kr=o;if(!Kr){p({title:"Erro",description:"No foi possvel gerar o documento para assinatura.",variant:"destructive"});return}const ar=await br.assinarDocumento({pdfFile:Kr,certificado:ke.arquivo,senha:ke.senha,motivo:"Receita Mdica",receita_id:cr,modo_assinatura:ke.modo||"pfx"});if(ar!=null&&ar.blob){const Jr=await b(Kr),Va=await b(ar.blob),Zr=ar.filename||`Receita_${_.nome_paciente||"Medica"}_assinada.pdf`;r(!0),a(ar.blob),i(Zr),await br.atualizarReceita(cr,{assinada:!0,hash_alg:"SHA-256",hash_pre:Jr,hash_documento:Va}),await br.registrarAuditoriaAssinatura({receita_id:cr,valido:!0,hash_alg:"SHA-256",hash_pre:Jr,hash_documento:Va,motivo:"Receita Mdica",arquivo:Zr}),p({title:"Documento assinado",description:"Receita assinada automaticamente antes do envio."})}else throw new Error("Falha na assinatura automtica")}catch(cr){console.error("[PreviewReceita] Erro na assinatura automtica:",cr),p({title:"Erro na assinatura",description:"No foi possvel assinar automaticamente. Configure o certificado e tente novamente.",variant:"destructive"});return}}if(!e||!(t instanceof Blob)){p({title:"Assinatura obrigatria",description:"A receita precisa ser assinada antes do envio ao paciente.",variant:"destructive"});return}const Gt=await Xt(),ir=t,et=s||A||`Receita_${_.nome_paciente||"Medica"}_assinada.pdf`,Ct={nome:_.nome_paciente,email:_.email_paciente,telefone:Ft||_.telefone_paciente},or={...it,linkSite:window.location.origin,linkDownload:Gt?`${window.location.origin}/api/receitas/${Gt}/download/`:null},mr=await U9.enviarReceitaMulticanal({pacienteId:f,receitaId:Gt,arquivo:ir,nomeArquivo:et,canais:Wt,dadosPaciente:Ct,configuracoes:or}),lr=[],Cr=[];mr.interno&&lr.push("notificao interna"),mr.email&&lr.push("e-mail"),mr.sms&&lr.push("SMS"),mr.erros.forEach(cr=>{Cr.push(`${cr.canal}: ${cr.erro}`)}),lr.length>0?p({title:"Receita enviada",description:`Receita enviada com sucesso via: ${lr.join(", ")}.${Cr.length>0?` Falhas: ${Cr.join("; ")}`:""}`}):p({title:"Erro no envio",description:`Falha em todos os canais: ${Cr.join("; ")}`,variant:"destructive"}),lr.length>0&&m(`/medico/paciente/${f}/receita/confirmacao`,{state:{receitaId:Gt||null,email:_.email_paciente||null,filename:et,canaisEnviados:lr,resultados:mr}})}catch(Gt){const ir=(Xe=Gt==null?void 0:Gt.response)==null?void 0:Xe.status,et=((Mt=(gt=Gt==null?void 0:Gt.response)==null?void 0:gt.data)==null?void 0:Mt.detail)||(Gt==null?void 0:Gt.message)||"Falha ao enviar a receita";p({title:"Erro ao enviar",description:`${et}${ir?` [HTTP ${ir}]`:""}`,variant:"destructive"})}finally{$(!1)}}}return X?n.jsx("div",{children:"Carregando preview..."}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Preview da Receita"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Dados da Receita"})}),n.jsxs(De,{className:"space-y-4",children:[mt.ok?null:n.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 p-3 text-sm",children:[n.jsx("div",{className:"font-medium mb-1",children:"Inconsistncias de vnculo detectadas"}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:(kt=mt.errors)==null?void 0:kt.map((Qe,Xe)=>n.jsx("li",{children:Qe},Xe))})]}),n.jsxs("div",{children:[n.jsx(Le,{children:"Nome do Paciente"}),n.jsx(Ge,{name:"nome_paciente",value:_.nome_paciente,onChange:dt,placeholder:"Joo da Silva"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(Le,{children:"Idade"}),n.jsx(Ge,{name:"idade",value:_.idade,onChange:dt,placeholder:"45"})]}),n.jsxs("div",{children:[n.jsx(Le,{children:"CPF"}),n.jsx(Ge,{name:"rg",value:_.rg,onChange:dt,placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx(Le,{children:"Data de Nascimento"}),n.jsx(_s,{name:"data_nascimento",value:L(_.data_nascimento),onChange:Qe=>dt({target:{name:"data_nascimento",value:Qe}}),maxDate:new Date})]})]}),n.jsxs("div",{children:[n.jsx(Le,{children:"Medicamentos e Posologia"}),F?n.jsxs("div",{className:"space-y-3 border rounded-md p-3 bg-muted/20",children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Itens estruturados:"}),S.map((Qe,Xe)=>{var gt,Mt;return n.jsxs("div",{className:"border-l-2 border-primary/20 pl-3 space-y-1",children:[n.jsx("div",{className:"font-medium",children:((gt=Qe.medicamento)==null?void 0:gt.nome)||Qe.descricao||`Item ${Xe+1}`}),((Mt=Qe.medicamento)==null?void 0:Mt.apresentacao)&&n.jsx("div",{className:"text-sm text-muted-foreground",children:Qe.medicamento.apresentacao}),(Qe.dose||Qe.frequencia||Qe.duracao)&&n.jsx("div",{className:"text-sm",children:[Qe.dose,Qe.frequencia,Qe.duracao].filter(Boolean).join("  ")}),Qe.observacoes&&n.jsx("div",{className:"text-sm text-muted-foreground italic",children:Qe.observacoes})]},Xe)}),n.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:"Campos legados sero preenchidos automaticamente para compatibilidade."})]}):n.jsxs(n.Fragment,{children:[n.jsx(aa,{name:"medicamento",rows:3,value:_.medicamento,onChange:dt,placeholder:"Nome do medicamento, dose, apresentao..."}),n.jsxs("div",{className:"mt-2",children:[n.jsx(Le,{children:"Posologia"}),n.jsx(aa,{name:"posologia",rows:3,value:_.posologia,onChange:dt,placeholder:"Ex: 1 comprimido de 12/12h por 7 dias"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Le,{children:"Validade da Receita"}),n.jsx(_s,{name:"validade_receita",value:L(_.validade_receita),onChange:Qe=>dt({target:{name:"validade_receita",value:Qe}}),minDate:new Date})]}),n.jsxs("div",{children:[n.jsx(Le,{children:"Formato"}),n.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"formato",value:_.formato,onChange:dt,children:[n.jsx("option",{value:"pdf",children:"PDF"}),n.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx(Le,{className:"text-base font-semibold",children:"Opes de Envio"}),n.jsxs("div",{className:"space-y-4 mt-3",children:[n.jsxs("div",{children:[n.jsx(Le,{className:"text-sm font-medium",children:"Canais de Envio"}),n.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Fg,{id:"canal-interno",checked:Wt.includes("interno"),onCheckedChange:Qe=>{Er(Qe?[...Wt,"interno"]:Wt.filter(Xe=>Xe!=="interno"))}}),n.jsxs(Le,{htmlFor:"canal-interno",className:"flex items-center gap-1",children:[n.jsx(sm,{className:"h-4 w-4"}),"Notificao Interna"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Fg,{id:"canal-email",checked:Wt.includes("email"),onCheckedChange:Qe=>{Er(Qe?[...Wt,"email"]:Wt.filter(Xe=>Xe!=="email"))}}),n.jsxs(Le,{htmlFor:"canal-email",className:"flex items-center gap-1",children:[n.jsx(ol,{className:"h-4 w-4"}),"E-mail"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Fg,{id:"canal-sms",checked:Wt.includes("sms"),onCheckedChange:Qe=>{Er(Qe?[...Wt,"sms"]:Wt.filter(Xe=>Xe!=="sms"))}}),n.jsxs(Le,{htmlFor:"canal-sms",className:"flex items-center gap-1",children:[n.jsx(oN,{className:"h-4 w-4"}),"SMS"]})]})]})]}),Wt.includes("sms")&&n.jsxs("div",{children:[n.jsx(Le,{children:"Telefone para SMS"}),n.jsx(Ge,{value:Ft,onChange:Qe=>xr(Qe.target.value),placeholder:"(11) 99999-9999"}),Ft&&!/^\(?[1-9]{2}\)?\s?9?\d{4}-?\d{4}$/.test(Ft.replace(/\D/g,""))&&n.jsx("div",{className:"text-xs text-red-500 mt-1",children:"Formato invlido. Use: (11) 99999-9999 ou 11999999999"})]}),Wt.includes("email")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" E-mail ser enviado automaticamente com assunto e mensagem padro"}),Wt.includes("sms")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" SMS ser enviado automaticamente com mensagem padro"}),Wt.includes("interno")&&n.jsx("div",{className:"text-sm text-muted-foreground",children:" Notificao interna ser enviada automaticamente"})]})]}),n.jsxs("div",{children:[n.jsx(Le,{children:"Observaes (opcional)"}),n.jsx(aa,{name:"observacoes",rows:2,value:_.observacoes,onChange:dt,placeholder:"Orientaes adicionais ao paciente"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[n.jsxs(ye,{type:"button",onClick:ut,variant:Q?"secondary":"default",className:"flex items-center gap-2",children:[n.jsx(_o,{className:"h-4 w-4"}),Q?" Validado":"Validar Receita"]}),n.jsxs(ye,{type:"button",onClick:Vt,disabled:re,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(zL,{className:"h-4 w-4"}),re?"Gerando...":"Gerar PDF"]}),n.jsxs(ye,{type:"button",variant:"default",onClick:Et,disabled:re||!Q,className:`flex items-center gap-2 ${e?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[n.jsx(Xs,{className:"h-4 w-4"}),re?"Assinando...":e?" Assinada Digitalmente":"Assinar Receita"]}),n.jsxs(ye,{type:"button",variant:"secondary",onClick:lt,disabled:re||Wt.length===0||!e,className:"flex items-center gap-2",children:[Wt.includes("interno")&&n.jsx(sm,{className:"h-4 w-4"}),Wt.includes("email")&&n.jsx(ol,{className:"h-4 w-4"}),Wt.includes("sms")&&n.jsx(oN,{className:"h-4 w-4"}),Wt.length===0?"Selecione um canal":Wt.length===1?`Enviar via ${Wt[0]==="interno"?"Interno":Wt[0]==="email"?"E-mail":"SMS"}`:`Enviar via ${Wt.length} canais`]})]})]})]}),n.jsxs(_e,{className:"bg-white",children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Pr-visualizao"})}),n.jsx(De,{children:n.jsxs("div",{id:"receita-preview",className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[n.jsxs("div",{className:"text-center border-b pb-3",children:[n.jsx("div",{className:"font-bold text-lg",children:"Consultrio Mdico"}),n.jsx("div",{className:"font-semibold",children:_.medico}),_.crm&&n.jsxs("div",{children:["CRM: ",_.crm]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:_.endereco_consultorio}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Telefone: ",_.telefone_consultorio]}),_.email_medico?n.jsxs("div",{className:"text-sm text-muted-foreground",children:["E-mail: ",_.email_medico]}):null]}),n.jsxs("div",{className:"text-center my-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),_.nome_paciente]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Idade: "}),_.idade]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"CPF: "}),_.rg]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),_.data_nascimento]})]}),n.jsxs("div",{className:"text-center text-xl font-semibold my-4",children:["Prescrio Mdica",e&&n.jsx("div",{className:"text-sm text-green-600 font-normal mt-1",children:" Assinada Digitalmente"}),!e&&n.jsx("div",{className:"text-sm text-orange-600 font-normal mt-1",children:" Aguardando Assinatura Digital"})]}),n.jsx("div",{className:"text-center",children:F?n.jsx("div",{className:"space-y-4",children:S.map((Qe,Xe)=>{var gt,Mt;return n.jsxs("div",{className:"border-b border-muted pb-3 last:border-b-0",children:[n.jsx("div",{className:"font-semibold",children:((gt=Qe.medicamento)==null?void 0:gt.nome)||Qe.descricao||`Medicamento ${Xe+1}`}),((Mt=Qe.medicamento)==null?void 0:Mt.apresentacao)&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:Qe.medicamento.apresentacao}),(Qe.dose||Qe.frequencia||Qe.duracao)&&n.jsx("div",{className:"mt-2",children:[Qe.dose,Qe.frequencia,Qe.duracao].filter(Boolean).join("  ")}),Qe.observacoes&&n.jsx("div",{className:"text-sm text-muted-foreground mt-1 italic",children:Qe.observacoes})]},Xe)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:_.medicamento}),_.posologia?n.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:_.posologia}):null]})}),n.jsxs("div",{className:"text-center my-6",children:[n.jsxs("div",{children:["Data de Emisso: ",U]}),n.jsxs("div",{children:["Validade da Receita: ",_.validade_receita||""]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:""}),_.medico&&n.jsxs("div",{children:["Dr(a). ",_.medico,_.crm?`  CRM ${_.crm}`:""]}),e?n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente conforme ICP-Brasil",xe!=null&&xe.subject_name||xe!=null&&xe.nome||xe!=null&&xe.subject?n.jsxs(n.Fragment,{children:["  Titular: ",(xe==null?void 0:xe.subject_name)||(xe==null?void 0:xe.nome)||(xe==null?void 0:xe.subject)]}):null,_.crm?n.jsxs(n.Fragment,{children:["  CRM: ",_.crm]}):null,_.rg?n.jsxs(n.Fragment,{children:["  CPF: ",_.rg]}):null,xe!=null&&xe.algorithm?n.jsxs(n.Fragment,{children:["  Algoritmo: ",xe.algorithm]}):n.jsx(n.Fragment,{children:"  Algoritmo: SHA256-RSA"}),wt?n.jsxs(n.Fragment,{children:["  Carimbo: ",new Date(wt).toLocaleString()]}):null,xe!=null&&xe.valid_to||xe!=null&&xe.not_after||xe!=null&&xe.valid_until?n.jsxs(n.Fragment,{children:["  Vlido at: ",new Date((xe==null?void 0:xe.valid_to)||(xe==null?void 0:xe.not_after)||(xe==null?void 0:xe.valid_until)).toLocaleDateString()]}):null]}):n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]})})]})})]})]}),n.jsx(yu,{open:V,onOpenChange:Z,children:n.jsxs(fd,{className:"sm:max-w-[500px] space-y-6",children:[n.jsxs(hd,{children:[n.jsxs(md,{className:"flex items-center gap-2",children:[n.jsx(Xs,{className:"h-5 w-5 text-blue-600"}),"Assinatura Digital da Receita"]}),n.jsx(Pm,{children:"Escolha o mtodo de assinatura digital para validar juridicamente a receita mdica."})]}),n.jsx(ws,{}),n.jsxs(Ii,{value:ie,onValueChange:ue,className:"w-full",children:[n.jsxs(Pi,{className:"grid grid-cols-2 w-full",children:[n.jsxs(kr,{value:"token",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Token/Smartcard"]}),n.jsxs(kr,{value:"pfx",className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Certificado PFX"]})]}),n.jsx(Rr,{value:"token",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[n.jsx(Xs,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Assinatura via Token"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"token-pin",children:"PIN do Token"}),n.jsx(Ge,{id:"token-pin",type:"password",value:E,onChange:Qe=>P(Qe.target.value),placeholder:"Digite o PIN do seu token",className:"bg-white"})]}),n.jsx("p",{className:"text-xs text-green-700",children:" Conecte seu token USB ou smartcard e insira o PIN para assinar digitalmente."})]})}),n.jsx(Rr,{value:"pfx",className:"space-y-4",children:n.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[n.jsx(Xs,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Certificado Digital PFX"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"pfx-file",children:"Arquivo do Certificado"}),n.jsx(Ge,{id:"pfx-file",type:"file",accept:".pfx,.p12",className:"bg-white",onChange:Qe=>{var ir;const Xe=((ir=Qe.target.files)==null?void 0:ir[0])||null;if(!Xe){pe(null);return}const gt=(Xe.name||"").toLowerCase(),Mt=gt.endsWith(".pfx")||gt.endsWith(".p12"),Gt=10*1024*1024;if(!Mt){p({title:"Arquivo invlido",description:"Selecione um arquivo .pfx ou .p12.",variant:"destructive"}),Qe.target.value="",pe(null);return}if(Xe.size>Gt){p({title:"Arquivo muito grande",description:"Limite de 10 MB para certificados PFX.",variant:"destructive"}),Qe.target.value="",pe(null);return}pe(Xe)}}),ce&&n.jsxs("div",{className:"text-xs text-blue-700 bg-blue-100 p-2 rounded",children:[" Selecionado: ",ce.name," (",Math.ceil(ce.size/1024)," KB)"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"pfx-password",children:"Senha do Certificado"}),n.jsx(Ge,{id:"pfx-password",type:"password",value:ve,onChange:Qe=>Pe(Qe.target.value),placeholder:"Digite a senha do certificado",className:"bg-white"}),(!ve||!ve.trim())&&n.jsx("p",{className:"text-xs text-red-600",children:" Senha obrigatria para assinatura digital."})]}),n.jsx("p",{className:"text-xs text-blue-700",children:" Selecione seu certificado digital (.pfx ou .p12) e informe a senha."})]})})]}),n.jsxs(bu,{className:"gap-2",children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>Z(!1),className:"flex-1",children:"Cancelar"}),n.jsx(ye,{type:"button",onClick:Bt,disabled:re,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:re?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Assinando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Confirmar e Assinar"]})})]})]})})]})}function YY(){const{id:e}=Al(),r=Xn(),{state:t}=Hn(),a=(t==null?void 0:t.receitaId)||null,s=(t==null?void 0:t.email)||null,i=(t==null?void 0:t.filename)||null;return n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Receita enviada com sucesso"})}),n.jsxs(De,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[n.jsx(_o,{className:"h-5 w-5"}),n.jsx("span",{children:"O paciente recebeu a receita assinada."})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[s?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ol,{className:"h-4 w-4"}),n.jsxs("span",{children:["Enviado para: ",s]})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ol,{className:"h-4 w-4"}),n.jsx("span",{children:"E-mail do paciente no informado."})]}),i?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-4 w-4"}),n.jsxs("span",{children:["Arquivo: ",i]})]}):null,a?n.jsxs("div",{className:"mt-2 text-xs",children:["ID da Receita: ",a]}):null]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(ye,{onClick:()=>r(`/medico/paciente/${e}/receita/preview`),variant:"secondary",children:"Voltar  receita"}),n.jsx(ye,{onClick:()=>r("/medico/meus-pacientes"),children:"Ir para Meus Pacientes"})]})]})]})})})}const XY={getAll:async(e={})=>{try{return(await Ee.get("/medicamentos/",{params:e})).data}catch(r){throw console.error("Erro ao buscar medicamentos:",r),r}},getById:async e=>{try{return(await Ee.get(`/medicamentos/${e}/`)).data}catch(r){throw console.error("Erro ao buscar medicamento:",r),r}},search:async e=>{try{const r=await Ee.get("/medicamentos/",{params:{search:e,page_size:10}});return r.data.results||r.data}catch(r){throw console.error("Erro ao buscar medicamentos:",r),r}},create:async e=>{try{return(await Ee.post("/medicamentos/",e)).data}catch(r){throw console.error("Erro ao criar medicamento:",r),r}},update:async(e,r)=>{try{return(await Ee.put(`/medicamentos/${e}/`,r)).data}catch(t){throw console.error("Erro ao atualizar medicamento:",t),t}},delete:async e=>{try{return(await Ee.patch(`/medicamentos/${e}/`,{ativo:!1})).data}catch(r){throw console.error("Erro ao deletar medicamento:",r),r}}},JY=({value:e,onChange:r,onSelect:t,placeholder:a="Digite o nome do medicamento...",disabled:s=!1,className:i=""})=>{const[o,l]=w.useState(e||""),[A,d]=w.useState([]),[f,h]=w.useState(!1),[m,p]=w.useState(!1),[x,v]=w.useState(-1),b=w.useRef(null),N=w.useRef(null);w.useEffect(()=>{l(e||"")},[e]);const B=async I=>{if(!I||I.length<2){d([]),p(!1);return}h(!0);try{const _=await XY.search(I);d(_),p(!0),v(-1)}catch(_){console.error("Erro ao buscar medicamentos:",_),d([])}finally{h(!1)}},S=I=>{const _=I.target.value;l(_),r&&r(_),clearTimeout(window.medicamentoSearchTimeout),window.medicamentoSearchTimeout=setTimeout(()=>{B(_)},300)},F=I=>{const _=`${I.nome} - ${I.apresentacao}`;l(_),p(!1),r&&r(_),t&&t(I)},L=I=>{if(!(!m||A.length===0))switch(I.key){case"ArrowDown":I.preventDefault(),v(_=>_<A.length-1?_+1:0);break;case"ArrowUp":I.preventDefault(),v(_=>_>0?_-1:A.length-1);break;case"Enter":I.preventDefault(),x>=0&&x<A.length&&F(A[x]);break;case"Escape":p(!1),v(-1);break}},M=I=>{setTimeout(()=>{p(!1),v(-1)},200)},U=()=>{A.length>0&&p(!0)};return n.jsxs("div",{className:`medicamento-autocomplete ${i}`,children:[n.jsx("input",{ref:b,type:"text",value:o,onChange:S,onKeyDown:L,onBlur:M,onFocus:U,placeholder:a,disabled:s,className:"form-control",autoComplete:"off"}),f&&n.jsx("div",{className:"autocomplete-loading",children:n.jsx("small",{children:"Buscando medicamentos..."})}),m&&A.length>0&&n.jsx("div",{ref:N,className:"autocomplete-suggestions",children:A.map((I,_)=>n.jsxs("div",{className:`suggestion-item ${_===x?"selected":""}`,onClick:()=>F(I),children:[n.jsx("div",{className:"suggestion-name",children:I.nome}),n.jsxs("div",{className:"suggestion-details",children:[I.apresentacao,I.concentracao&&` - ${I.concentracao}`,I.fabricante&&n.jsxs("span",{className:"suggestion-manufacturer",children:[" (",I.fabricante,")"]})]})]},I.id))}),m&&A.length===0&&!f&&o.length>=2&&n.jsx("div",{className:"autocomplete-no-results",children:n.jsx("small",{children:"Nenhum medicamento encontrado"})})]})},ZY=({items:e=[],onChange:r,disabled:t=!1,showLegacyFields:a=!0})=>{const[s,i]=w.useState(e),[o,l]=w.useState(""),[A,d]=w.useState("");w.useEffect(()=>{i(e)},[e]);const f=()=>{const v={id:Date.now(),medicamento:null,medicamento_nome:"",dose:"",frequencia:"",duracao:"",observacoes:""},b=[...s,v];i(b),r&&r(b)},h=v=>{const b=s.filter((N,B)=>B!==v);i(b),r&&r(b)},m=(v,b,N)=>{const B=[...s];B[v]={...B[v],[b]:N},i(B),r&&r(B)},p=(v,b)=>{m(v,"medicamento",b.id),m(v,"medicamento_nome",`${b.nome} - ${b.apresentacao}`)},x=()=>{if(!o.trim())return;const v=o.split(`
`).filter(S=>S.trim()),b=A.split(`
`).filter(S=>S.trim()),N=v.map((S,F)=>({id:Date.now()+F,medicamento:null,medicamento_nome:S.trim(),dose:"",frequencia:b[F]?b[F].trim():"",duracao:"",observacoes:""})),B=[...s,...N];i(B),r&&r(B),l(""),d("")};return n.jsxs("div",{className:"receita-item-manager",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[n.jsx("h6",{children:"Medicamentos da Receita"}),n.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:f,disabled:t,children:"+ Adicionar Medicamento"})]}),s.length>0&&n.jsx("div",{className:"receita-items-list",children:s.map((v,b)=>n.jsxs("div",{className:"receita-item-card",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[n.jsxs("span",{className:"item-number",children:["#",b+1]}),n.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>h(b),disabled:t,children:""})]}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Medicamento"}),n.jsx(JY,{value:v.medicamento_nome,onChange:N=>m(b,"medicamento_nome",N),onSelect:N=>p(b,N),disabled:t,placeholder:"Digite o nome do medicamento..."})]}),n.jsxs("div",{className:"col-md-3 mb-2",children:[n.jsx("label",{className:"form-label",children:"Dose"}),n.jsx("input",{type:"text",className:"form-control",value:v.dose,onChange:N=>m(b,"dose",N.target.value),placeholder:"Ex: 500mg",disabled:t})]}),n.jsxs("div",{className:"col-md-3 mb-2",children:[n.jsx("label",{className:"form-label",children:"Frequncia"}),n.jsx("input",{type:"text",className:"form-control",value:v.frequencia,onChange:N=>m(b,"frequencia",N.target.value),placeholder:"Ex: 2x ao dia",disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Durao"}),n.jsx("input",{type:"text",className:"form-control",value:v.duracao,onChange:N=>m(b,"duracao",N.target.value),placeholder:"Ex: 7 dias",disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Observaes"}),n.jsx("input",{type:"text",className:"form-control",value:v.observacoes,onChange:N=>m(b,"observacoes",N.target.value),placeholder:"Observaes adicionais",disabled:t})]})]})]},v.id||b))}),a&&n.jsxs("div",{className:"legacy-fields mt-4",children:[n.jsx("h6",{children:"Importar de Texto Livre"}),n.jsx("p",{className:"text-muted small",children:"Cole aqui o texto dos medicamentos e posologia para converter em itens estruturados."}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Medicamentos (um por linha)"}),n.jsx("textarea",{className:"form-control",rows:"4",value:o,onChange:v=>l(v.target.value),placeholder:`Ex:
Paracetamol 500mg
Ibuprofeno 400mg`,disabled:t})]}),n.jsxs("div",{className:"col-md-6 mb-2",children:[n.jsx("label",{className:"form-label",children:"Posologia (uma por linha)"}),n.jsx("textarea",{className:"form-control",rows:"4",value:A,onChange:v=>d(v.target.value),placeholder:`Ex:
1 comprimido de 8/8h por 7 dias
1 comprimido de 12/12h por 5 dias`,disabled:t})]})]}),n.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:x,disabled:t||!o.trim(),children:"Converter para Itens Estruturados"})]}),s.length===0&&n.jsxs("div",{className:"empty-state text-center py-4",children:[n.jsx("p",{className:"text-muted",children:"Nenhum medicamento adicionado ainda."}),n.jsx("button",{type:"button",className:"btn btn-primary",onClick:f,disabled:t,children:"Adicionar Primeiro Medicamento"})]})]})};function eX(){var b,N,B;const{id:e}=Al(),r=Hn(),t=Xn();Ma();const a=((b=r.state)==null?void 0:b.resumo)||{},s=(N=r.state)==null?void 0:N.consultaId,i=(B=r.state)==null?void 0:B.prontuarioId,[o,l]=w.useState({queixa:a.queixa||"",historia:a.historia||"",diagnostico:a.diagnostico||"",conduta:a.conduta||"",medicamentos:a.medicamentos||"",posologia:a.posologia||"",validade:a.validade||""}),[A,d]=w.useState([]),[f,h]=w.useState(!1),m=S=>{const{name:F,value:L}=S.target;l(M=>({...M,[F]:L}))},p=S=>{d(S);const F=S.map(M=>M.medicamento_nome).filter(Boolean).join(`
`),L=S.map(M=>{const U=[];return M.dose&&U.push(M.dose),M.frequencia&&U.push(M.frequencia),M.duracao&&U.push(M.duracao),M.observacoes&&U.push(`(${M.observacoes})`),U.join(" - ")}).filter(Boolean).join(`
`);l(M=>({...M,medicamentos:F,posologia:L}))},x=async()=>{var S;try{if(i)try{await((S=br.atualizarProntuario)==null?void 0:S.call(br,i,{queixa_principal:o.queixa,historia_doenca_atual:o.historia,diagnostico_principal:o.diagnostico,conduta:o.conduta,medicamentos_uso:o.medicamentos}))}catch{}}finally{t(`/medico/paciente/${e}/receita/preview`,{state:{fromConsulta:{medicamentos:o.medicamentos,posologia:o.posologia,validade:o.validade,receitaItems:f?A:void 0},consultaId:s}})}},v=w.useMemo(()=>new Date().toLocaleDateString(),[]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(RL,{className:"h-5 w-5"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Resumo da Consulta"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Informaes Principais"})}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Queixa Principal"}),n.jsx(aa,{name:"queixa",rows:3,value:o.queixa,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Histria da Doena Atual"}),n.jsx(aa,{name:"historia",rows:4,value:o.historia,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Diagnstico"}),n.jsx(aa,{name:"diagnostico",rows:3,value:o.diagnostico,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Conduta"}),n.jsx(aa,{name:"conduta",rows:3,value:o.conduta,onChange:m})]})]})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center justify-between",children:["Prescrio",n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"useStructured",checked:f,onChange:S=>h(S.target.checked),className:"rounded"}),n.jsx("label",{htmlFor:"useStructured",className:"text-sm font-normal",children:"Usar itens estruturados"})]})]})}),n.jsxs(De,{className:"space-y-4",children:[f?n.jsx(ZY,{items:A,onChange:p,showLegacyFields:!0}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Medicamentos"}),n.jsx(aa,{name:"medicamentos",rows:4,value:o.medicamentos,onChange:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Posologia"}),n.jsx(aa,{name:"posologia",rows:3,value:o.posologia,onChange:m})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Validade da Receita"}),n.jsx(_s,{name:"validade",value:o.validade,onChange:S=>m({target:{name:"validade",value:S}}),className:"border rounded h-10 px-3 bg-background",minDate:new Date})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{onClick:x,children:[n.jsx(DL,{className:"h-4 w-4 mr-2"})," Gerar Receita"]}),n.jsx(ye,{variant:"outline",onClick:()=>t(-1),children:"Voltar"})]})]})]})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Resumo Visual"})}),n.jsx(De,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Data:"})," ",v]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Queixa:"})," ",o.queixa||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Histria:"})," ",o.historia||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Diagnstico:"})," ",o.diagnostico||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Conduta:"})," ",o.conduta||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Medicamentos:"})," ",o.medicamentos||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Posologia:"})," ",o.posologia||"-"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Validade:"})," ",o.validade||"-"]})]})})]})]})}const Zs={async getDashboard(){var t;const e=[];e.push("/clinicas/dashboard/");let r;for(const a of e){const s=a.endsWith("/")?a:`${a}/`;try{return console.debug("[clinicaService] GET",s),(await Ee.get(s)).data}catch(i){if(((t=i==null?void 0:i.response)==null?void 0:t.status)===404){r=i;continue}throw i}}throw r||new Error("Endpoint de dashboard da clnica no encontrado.")},getCalendario:(e,r)=>Ee.get(`/clinica/calendario/?mes=${e}&ano=${r}`),getExamesPorData:e=>Ee.get(`/clinica/exames/?data=${e}`),getDisponibilidade:e=>Ee.get(`/clinica/disponibilidade/?data=${e}`),setDisponibilidade:(e,r)=>Ee.post("/clinica/disponibilidade/",{data:e,horarios:r}),updateDisponibilidade:(e,r)=>Ee.put(`/clinica/disponibilidade/${e}/`,r),deleteDisponibilidade:e=>Ee.delete(`/clinica/disponibilidade/${e}/`),getExames:(e={})=>Ee.get("/clinica/exames/",{params:e}),createExame:e=>Ee.post("/clinica/exames/",e),updateExame:(e,r)=>Ee.put(`/clinica/exames/${e}/`,r),deleteExame:e=>Ee.delete(`/clinica/exames/${e}/`),getTiposExame:()=>Ee.get("/clinica/tipos-exame/"),getRelatorios:e=>Ee.get(`/clinica/relatorios/?periodo=${e}`),getPacientes:()=>Ee.get("/clinica/pacientes/"),getMedicos:()=>Ee.get("/clinica/medicos/"),async vincularSecretaria(e){var l,A,d,f;if(!e)throw new Error("secretariaId  obrigatrio");let r=null;try{try{const h=await Ee.get("/clinicas/me/");(l=h==null?void 0:h.data)!=null&&l.id&&(r=h.data.id)}catch{}if(!r){const h=await Ee.get("/clinicas/"),m=Array.isArray((A=h.data)==null?void 0:A.results)?h.data.results:h.data;(d=m==null?void 0:m[0])!=null&&d.id&&(r=m[0].id)}}catch{}if(!r)throw new Error("No foi possvel resolver o ID da clnica.");const t="/clinicas/",a=t.endsWith("/")?t:`${t}/`,s=[`${a}${r}/secretarias/`,`${a}${r}/adicionar_secretaria/`,`${a}${r}/vincular_secretaria/`],i={secretaria:e,secretaria_id:e};let o;for(const h of s)try{return(await Ee.post(h,i)).data}catch(m){const p=(f=m==null?void 0:m.response)==null?void 0:f.status;if(p===404||p===405){o=m;continue}throw m}throw o||new Error("Nenhum endpoint de vinculao de secretria encontrado para clnica.")}};function tX(){const{data:e,loading:r,error:t}=iF(Zs.getDashboard);if(r)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:n.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>n.jsxs(_e,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm animate-pulse",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("div",{className:"h-4 w-20 bg-gradient-to-r from-slate-200 to-slate-300 rounded"}),n.jsx("div",{className:"h-4 w-4 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]}),n.jsxs(De,{children:[n.jsx("div",{className:"h-8 w-16 bg-gradient-to-r from-slate-200 to-slate-300 rounded mb-2"}),n.jsx("div",{className:"h-3 w-24 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]})]},o))})})});if(t)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx(_e,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:n.jsx(De,{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"text-center",children:[n.jsx(rd,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),n.jsx("p",{className:"text-slate-600",children:"Erro ao carregar dashboard"})]})})})})});const a=e||{examesHoje:12,examesTotais:156,pacientesAtivos:89,taxaOcupacao:85,proximosExames:[{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}],examesPendentes:5},s=({title:i,value:o,icon:l,description:A,gradient:d,iconBg:f,textColor:h,trend:m})=>n.jsx(_e,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:`bg-gradient-to-br ${d} rounded-2xl p-6 text-white relative overflow-hidden`,children:[n.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full -ml-8 -mb-8"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-3 ${f} rounded-xl`,children:n.jsx(l,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`text-3xl font-bold ${h}`,children:o}),n.jsx("div",{className:"text-white/80 text-sm font-medium",children:i})]})]}),n.jsx("div",{className:"text-white/90 text-sm",children:A}),m&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-white/80 text-xs",children:[n.jsx(jm,{className:"h-3 w-3"}),m]})]})]})})});return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 rounded-2xl p-8 text-white shadow-2xl",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard da Clnica"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie exames, horrios e acompanhe o desempenho da clnica"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ye,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",asChild:!0,children:n.jsxs(gr,{to:"/clinica/calendario",children:[n.jsx(L0,{className:"h-4 w-4 mr-2"}),"Calendrio"]})}),n.jsx(ye,{className:"bg-white text-blue-600 hover:bg-blue-50",asChild:!0,children:n.jsxs(gr,{to:"/clinica/exames",children:[n.jsx(ad,{className:"h-4 w-4 mr-2"}),"Agendar Exame"]})})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(s,{title:"Exames Hoje",value:a.examesHoje,icon:fr,description:"Exames agendados para hoje",gradient:"from-blue-500 to-blue-600",iconBg:"bg-blue-400/30",textColor:"text-white",trend:"+2 desde ontem"}),n.jsx(s,{title:"Total de Exames",value:a.examesTotais,icon:Ta,description:"Exames realizados este ms",gradient:"from-green-500 to-green-600",iconBg:"bg-green-400/30",textColor:"text-white"}),n.jsx(s,{title:"Pacientes Ativos",value:a.pacientesAtivos,icon:Ln,description:"Pacientes cadastrados",gradient:"from-purple-500 to-purple-600",iconBg:"bg-purple-400/30",textColor:"text-white",trend:"+12% desde o ms passado"}),n.jsx(s,{title:"Taxa de Ocupao",value:`${a.taxaOcupacao}%`,icon:di,description:"Capacidade atual dos equipamentos",gradient:"from-orange-500 to-orange-600",iconBg:"bg-orange-400/30",textColor:"text-white"})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(_e,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Ur,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-slate-800",children:"Prximos Exames"}),n.jsx(Ar,{className:"text-slate-600",children:"Exames agendados para hoje"})]})]}),n.jsx(ye,{variant:"outline",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:n.jsxs(gr,{to:"/clinica/exames",children:["Ver todos",n.jsx(Vg,{className:"h-4 w-4 ml-2"})]})})]})}),n.jsx(De,{className:"p-6",children:a.proximosExames.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(Ur,{className:"h-8 w-8 text-slate-400"})}),n.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhum exame agendado"}),n.jsx("p",{className:"text-slate-500 text-sm",children:"No h exames programados para hoje"})]}):n.jsx("div",{className:"space-y-4",children:a.proximosExames.map(i=>n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 hover:shadow-md transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[n.jsx("span",{className:"text-sm font-bold text-blue-700",children:i.horario}),n.jsx("span",{className:"text-xs text-blue-600",children:"Hoje"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900",children:i.paciente}),n.jsx("p",{className:"text-sm text-slate-600",children:i.tipo}),n.jsx(sr,{variant:i.status==="confirmado"?"default":"secondary",className:`mt-1 text-xs ${i.status==="confirmado"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:i.status})]})]}),n.jsx(ye,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:n.jsx(Mr,{className:"h-4 w-4"})})]})},i.id))})})]})}),n.jsx("div",{className:"space-y-6",children:n.jsxs(_e,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(im,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-slate-800",children:"Aes Rpidas"}),n.jsx(Ar,{className:"text-slate-600",children:"Acesso rpido s principais funcionalidades"})]})]})}),n.jsxs(De,{className:"p-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(ye,{className:"w-full justify-start btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(gr,{to:"/clinica/calendario",children:[n.jsx(fr,{className:"mr-2 h-4 w-4"}),"Ver Calendrio"]})}),n.jsx(ye,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(gr,{to:"/clinica/disponibilidade",children:[n.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Gerenciar Horrios"]})}),n.jsx(ye,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(gr,{to:"/clinica/exames",children:[n.jsx(Ta,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})}),n.jsx(ye,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:n.jsxs(gr,{to:"/clinica/pacientes",children:[n.jsx(Ln,{className:"mr-2 h-4 w-4"}),"Ver Pacientes"]})})]}),a.examesPendentes>0&&n.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rd,{className:"h-4 w-4 text-yellow-600"}),n.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[a.examesPendentes," exames pendentes de confirmao"]})]})})]})]})})]})]})})}const rX=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],aX=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];function nX(){const[e,r]=w.useState(new Date),[t,a]=w.useState([]),[s,i]=w.useState(null),[o,l]=w.useState({}),[A,d]=w.useState(!1),[f,h]=w.useState(!1),[m,p]=w.useState(!1),[x,v]=w.useState({paciente:"",tipo:"",hora:""}),[b,N]=w.useState([]),[B,S]=w.useState([]),[F]=BU();w.useEffect(()=>{L()},[e]),w.useEffect(()=>{(async()=>{var re,$;try{const[V,Z]=await Promise.all([Zs.getPacientes().catch(()=>({data:[]})),Zs.getTiposExame().catch(()=>({data:[]}))]),ie=Array.isArray(V==null?void 0:V.data)?V.data:((re=V==null?void 0:V.data)==null?void 0:re.results)||[],ue=Array.isArray(Z==null?void 0:Z.data)?Z.data:(($=Z==null?void 0:Z.data)==null?void 0:$.results)||[];N(ie),S(ue)}catch{}})()},[]),w.useEffect(()=>{const R=F.get("data"),re=F.get("paciente");R&&(i(R),M(R)),re&&(v($=>({...$,paciente:String(re)})),h(!0))},[]);const L=async()=>{d(!0);try{const R=await Zs.getCalendario(e.getMonth()+1,e.getFullYear());l(R.data||{})}catch(R){console.error("Erro ao carregar calendrio:",R),l({"2024-01-15":{total:5,status:"ocupado"},"2024-01-16":{total:8,status:"lotado"},"2024-01-17":{total:3,status:"disponivel"},"2024-01-18":{total:6,status:"ocupado"},"2024-01-22":{total:2,status:"disponivel"},"2024-01-23":{total:7,status:"ocupado"}})}finally{d(!1)}},M=async R=>{try{const re=await Zs.getExamesPorData(R);a(re.data||[])}catch(re){console.error("Erro ao carregar exames:",re),a([{id:1,paciente:"Joo Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}])}},U=R=>{const re=new Date(e);re.setMonth(e.getMonth()+R),r(re)},I=R=>{const $=new Date(e.getFullYear(),e.getMonth(),R).toISOString().split("T")[0];i($),M($)},_=(R="")=>{v({paciente:R?String(R):"",tipo:"",hora:""}),h(!0)},W=async()=>{if(!s)return;const{paciente:R,tipo:re,hora:$}=x;if(!R||!re||!$){alert("Preencha paciente, tipo e horrio.");return}p(!0);try{const V={paciente:R,tipo:re,data:s,hora:$};await Zs.createExame(V),h(!1),v({paciente:"",tipo:"",hora:""}),await M(s)}catch{alert("Erro ao agendar. Verifique os dados e tente novamente.")}finally{p(!1)}},Q=()=>{const R=e.getFullYear(),re=e.getMonth(),$=new Date(R,re,1),V=new Date(R,re+1,0),Z=$.getDay(),ie=V.getDate(),ue=[];for(let P=Z-1;P>=0;P--){const Y=new Date(R,re,-P);ue.push({dia:Y.getDate(),outroMes:!0,data:Y})}for(let P=1;P<=ie;P++){const Y=new Date(R,re,P),z=Y.toISOString().split("T")[0],J=o[z]||{total:0,status:"disponivel"};ue.push({dia:P,outroMes:!1,data:Y,dataString:z,...J})}const E=42-ue.length;for(let P=1;P<=E;P++){const Y=new Date(R,re+1,P);ue.push({dia:P,outroMes:!0,data:Y})}return ue},K=R=>{switch(R){case"disponivel":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"ocupado":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200";case"lotado":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},X=Q();return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendrio de Exames"}),n.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie os exames agendados"})]})}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),rX[e.getMonth()]," ",e.getFullYear()]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>U(-1),children:n.jsx(RC,{className:"h-4 w-4"})}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>U(1),children:n.jsx(al,{className:"h-4 w-4"})})]})]})}),n.jsxs(De,{children:[n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:aX.map(R=>n.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:R},R))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:X.map((R,re)=>n.jsxs("button",{onClick:()=>!R.outroMes&&I(R.dia),disabled:R.outroMes,className:`
                        p-2 text-sm rounded-lg transition-colors relative
                        ${R.outroMes?"text-muted-foreground cursor-not-allowed":"hover:bg-accent cursor-pointer"}
                        ${s===R.dataString?"bg-primary text-primary-foreground":""}
                      `,children:[n.jsx("div",{className:"font-medium",children:R.dia}),!R.outroMes&&R.total>0&&n.jsx("div",{className:`
                          absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center
                          ${K(R.status)}
                        `,children:R.total})]},re))}),n.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("span",{children:"Disponvel"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),n.jsx("span",{children:"Ocupado"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),n.jsx("span",{children:"Lotado"})]})]})]})]})}),n.jsx("div",{children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"h-5 w-5"}),s?"Exames do Dia":"Selecione uma Data"]}),s&&n.jsx(Ar,{children:new Date(s+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsx(De,{children:s?t.length===0?n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(Ur,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhum exame agendado para esta data"}),n.jsx(ye,{className:"mt-4",size:"sm",onClick:()=>_(),children:"Agendar Exame"})]}):n.jsxs("div",{className:"space-y-3",children:[t.map(R=>n.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:R.paciente})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sr,{variant:R.status==="confirmado"?"default":"secondary",children:R.status}),n.jsx(ye,{variant:"outline",size:"sm",className:"bg-transparent",onClick:()=>_(R.paciente_id||R.pacienteId||""),title:"Agendar novo exame para este paciente",children:"Agendar"})]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("p",{children:R.tipo}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Ur,{className:"h-3 w-3"}),R.horario]})]})]},R.id)),n.jsx(ye,{className:"w-full mt-4",size:"sm",onClick:()=>_(),children:"Agendar Novo Exame"})]}):n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(fr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Clique em uma data no calendrio para ver os exames agendados"})]})})]})})]})]}),n.jsx(yu,{open:f,onOpenChange:h,children:n.jsxs(fd,{children:[n.jsxs(hd,{children:[n.jsx(md,{children:"Agendar exame"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",s?new Date(s+"T00:00:00").toLocaleDateString("pt-BR"):"-"]})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Paciente"}),n.jsxs(zr,{value:x.paciente,onValueChange:R=>v(re=>({...re,paciente:R})),children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Selecione o paciente"})}),n.jsx(Hr,{children:b.map(R=>n.jsxs(at,{value:String(R.id),children:[R.nome," ",R.cpf?`- ${R.cpf}`:""]},R.id))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Tipo de exame"}),n.jsxs(zr,{value:x.tipo,onValueChange:R=>v(re=>({...re,tipo:R})),children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Selecione o tipo"})}),n.jsx(Hr,{children:B.map(R=>n.jsx(at,{value:String(R.id||R.value||R),children:R.nome||R.label||R.value||R},R.id||R.value||R))})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Horrio"}),n.jsx(Ge,{type:"time",value:x.hora,onChange:R=>v(re=>({...re,hora:R.target.value}))})]})]}),n.jsxs(bu,{className:"mt-4",children:[n.jsx(ye,{variant:"outline",className:"bg-transparent",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(ye,{onClick:W,disabled:m,children:m?"Salvando...":"Agendar"})]})]})})]})}const sX={manha:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],tarde:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],integral:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"]};function iX(){const[e,r]=w.useState(""),[t,a]=w.useState([]),[s,i]=w.useState(""),[o,l]=w.useState(!1),[A,d]=w.useState(!1),{toast:f}=Ma();w.useEffect(()=>{e&&h()},[e]);const h=async()=>{var B;l(!0);try{const S=await Zs.getDisponibilidade(e);a(((B=S.data)==null?void 0:B.horarios)||[])}catch(S){console.error("Erro ao carregar disponibilidade:",S),a([{horario:"09:00",ocupado:!1},{horario:"10:00",ocupado:!0},{horario:"11:00",ocupado:!1},{horario:"14:00",ocupado:!1},{horario:"15:00",ocupado:!0}])}finally{l(!1)}},m=async()=>{if(!e){f({title:"Erro",description:"Selecione uma data primeiro",variant:"destructive"});return}d(!0);try{await Zs.setDisponibilidade(e,t),f({title:"Sucesso",description:"Disponibilidade salva com sucesso"})}catch(B){console.error("Erro ao salvar disponibilidade:",B),f({title:"Erro",description:"Erro ao salvar disponibilidade",variant:"destructive"})}finally{d(!1)}},p=()=>{if(!s)return;if(t.some(S=>S.horario===s)){f({title:"Aviso",description:"Este horrio j existe",variant:"destructive"});return}a([...t,{horario:s,ocupado:!1}].sort((S,F)=>S.horario.localeCompare(F.horario))),i("")},x=B=>{a(t.filter(S=>S.horario!==B))},v=B=>{const S=sX[B].map(F=>({horario:F,ocupado:!1}));a(S)},b=async()=>{var F;if(!e)return;const B=new Date(e);B.setDate(B.getDate()-1);const S=B.toISOString().split("T")[0];try{const U=(((F=(await Zs.getDisponibilidade(S)).data)==null?void 0:F.horarios)||[]).filter(I=>!I.ocupado).map(I=>({...I,ocupado:!1}));a(U),f({title:"Sucesso",description:"Horrios copiados do dia anterior"})}catch(L){console.error("Erro ao copiar horrios:",L),f({title:"Erro",description:"Erro ao copiar horrios do dia anterior",variant:"destructive"})}},N=new Date().toISOString().split("T")[0];return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Disponibilidade"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure os horrios disponveis para exames"})]})}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Selecionar Data"]})}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Le,{htmlFor:"data",children:"Data"}),n.jsx(_s,{id:"data",name:"data",value:e,onChange:r,minDate:N?new Date(N):void 0})]}),e&&n.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Templates Rpidos"}),n.jsx(Ar,{children:"Aplique configuraes pr-definidas"})]}),n.jsxs(De,{className:"space-y-3",children:[n.jsxs(ye,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>v("manha"),disabled:!e,children:[n.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Manh (8h s 11h30)"]}),n.jsxs(ye,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>v("tarde"),disabled:!e,children:[n.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Tarde (13h s 17h)"]}),n.jsxs(ye,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>v("integral"),disabled:!e,children:[n.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Perodo Integral"]}),n.jsxs(ye,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:b,disabled:!e,children:[n.jsx(_L,{className:"mr-2 h-4 w-4"}),"Copiar Dia Anterior"]})]})]})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"h-5 w-5"}),"Horrios Disponveis"]}),n.jsxs(ye,{onClick:m,disabled:!e||A,children:[n.jsx(hy,{className:"mr-2 h-4 w-4"}),A?"Salvando...":"Salvar"]})]}),e&&n.jsxs(Ar,{children:["Configurando horrios para ",new Date(e+"T00:00:00").toLocaleDateString("pt-BR")]})]}),n.jsx(De,{children:e?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ge,{type:"time",value:s,onChange:B=>i(B.target.value),placeholder:"Novo horrio"}),n.jsx(ye,{onClick:p,disabled:!s,children:n.jsx(ad,{className:"h-4 w-4"})})]}),o?n.jsx("div",{className:"space-y-2",children:[...Array(5)].map((B,S)=>n.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},S))}):t.length===0?n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(Ur,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhum horrio configurado"}),n.jsx("p",{className:"text-sm",children:"Use os templates ou adicione horrios manualmente"})]}):n.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:t.map((B,S)=>n.jsxs("div",{className:`
                              flex items-center justify-between p-3 border rounded-lg
                              ${B.ocupado?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}
                            `,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:B.horario})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sr,{variant:B.ocupado?"destructive":"default",children:B.ocupado?"Ocupado":"Livre"}),!B.ocupado&&n.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>x(B.horario),children:n.jsx(XL,{className:"h-4 w-4"})})]})]},S))}),t.length>0&&n.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:["Total: ",t.length," horrios"]}),n.jsxs("p",{className:"text-muted-foreground",children:[t.filter(B=>!B.ocupado).length," disponveis,"," ",t.filter(B=>B.ocupado).length," ocupados"]})]})})]}):n.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[n.jsx(fr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Selecione uma data para gerenciar os horrios"})]})})]})})]})]})})}function oX(){const{toast:e}=Ma(),[r,t]=w.useState(!1),[a,s]=w.useState([]),[i,o]=w.useState({q:"",tipo:"todos",status:"todos"}),[l,A]=w.useState([]),[d,f]=w.useState(!1),[h,m]=w.useState({paciente:"",tipo:"",data:"",hora:""}),p=async()=>{try{const{data:b}=await Zs.getTiposExame();s(b||[])}catch{}},x=async()=>{t(!0);try{const b={};i.q&&(b.q=i.q),i.tipo!=="todos"&&(b.tipo=i.tipo),i.status!=="todos"&&(b.status=i.status);const{data:N}=await Zs.getExames(b);A(Array.isArray(N)?N:(N==null?void 0:N.results)||[])}catch{e({title:"Erro",description:"No foi possvel carregar os exames.",variant:"destructive"})}finally{t(!1)}};w.useEffect(()=>{p()},[]),w.useEffect(()=>{x()},[i]);const v=async()=>{if(!h.paciente||!h.tipo||!h.data||!h.hora){e({title:"Campos obrigatrios",description:"Preencha paciente, tipo, data e hora.",variant:"destructive"});return}f(!0);try{const b={paciente:h.paciente,tipo:h.tipo,data:h.data,hora:h.hora};await Zs.createExame(b),e({title:"Exame criado",description:"Exame agendado com sucesso."}),m({paciente:"",tipo:"",data:"",hora:""}),x()}catch{e({title:"Erro ao criar",description:"Verifique os dados e tente novamente.",variant:"destructive"})}finally{f(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem e agendamento de exames"})]})}),n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Filtros"}),n.jsx(Ar,{children:"Busque e filtre os exames"})]}),n.jsxs(De,{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(Ge,{placeholder:"Buscar por paciente/tipo...",value:i.q,onChange:b=>o({...i,q:b.target.value})}),n.jsxs(zr,{value:i.tipo,onValueChange:b=>o({...i,tipo:b}),children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Tipo"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"todos",children:"Todos os tipos"}),a.map(b=>n.jsx(at,{value:b.value||b.nome||b.id||String(b),children:b.nome||b.label||b.value||b},b.id||b.value||b))]})]}),n.jsxs(zr,{value:i.status,onValueChange:b=>o({...i,status:b}),children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Status"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"todos",children:"Todos"}),n.jsx(at,{value:"pendente",children:"Pendente"}),n.jsx(at,{value:"confirmado",children:"Confirmado"}),n.jsx(at,{value:"cancelado",children:"Cancelado"})]})]})]})]}),n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Lista de Exames"}),n.jsx(Ar,{children:r?"Carregando...":`${l.length} registro(s)`})]}),n.jsx(De,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(ec,{children:[n.jsx(tc,{children:n.jsxs(Bn,{children:[n.jsx(Tr,{children:"Paciente"}),n.jsx(Tr,{children:"Tipo"}),n.jsx(Tr,{children:"Data"}),n.jsx(Tr,{children:"Hora"}),n.jsx(Tr,{children:"Status"})]})}),n.jsxs(rc,{children:[l.map((b,N)=>n.jsxs(Bn,{children:[n.jsx(Dr,{children:b.paciente_nome||b.paciente||"-"}),n.jsx(Dr,{children:b.tipo_nome||b.tipo||"-"}),n.jsx(Dr,{children:b.data||"-"}),n.jsx(Dr,{children:b.hora||"-"}),n.jsx(Dr,{children:b.status||"-"})]},b.id||N)),!r&&l.length===0&&n.jsx(Bn,{children:n.jsx(Dr,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum exame encontrado"})})]})]})})})]}),n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Novo Exame"}),n.jsx(Ar,{children:"Crie um novo agendamento de exame"})]}),n.jsxs(De,{className:"grid gap-4 md:grid-cols-4",children:[n.jsx(Ge,{placeholder:"Paciente (nome/ID)",value:h.paciente,onChange:b=>m({...h,paciente:b.target.value})}),n.jsxs(zr,{value:h.tipo,onValueChange:b=>m({...h,tipo:b}),children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Tipo de exame"})}),n.jsx(Hr,{children:a.map(b=>n.jsx(at,{value:b.value||b.nome||b.id||String(b),children:b.nome||b.label||b.value||b},b.id||b.value||b))})]}),n.jsx(_s,{value:h.data,onChange:b=>m({...h,data:b}),minDate:new Date}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ge,{type:"time",value:h.hora,onChange:b=>m({...h,hora:b.target.value})}),n.jsx(ye,{onClick:v,disabled:d,children:d?"Criando...":"Criar"})]})]})]})]})}function lX(){const{toast:e}=Ma(),[r,t]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState([]),l=async()=>{s(!0);try{const{data:f}=await Zs.getPacientes(),h=Array.isArray(f)?f:(f==null?void 0:f.results)||[];o(h)}catch{e({title:"Erro",description:"No foi possvel carregar os pacientes.",variant:"destructive"})}finally{s(!1)}};w.useEffect(()=>{l()},[]);const A=i.filter(f=>[f.nome,f.email,f.cpf].join(" ").toLowerCase().includes(r.toLowerCase())),d=new Date().toISOString().split("T")[0];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pacientes"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem de pacientes"})]}),n.jsx("div",{className:"w-72",children:n.jsx(Ge,{placeholder:"Buscar por nome, e-mail ou CPF",value:r,onChange:f=>t(f.target.value)})})]}),n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Lista de Pacientes"}),n.jsx(Ar,{children:a?"Carregando...":`${A.length} registro(s)`})]}),n.jsx(De,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(ec,{children:[n.jsx(tc,{children:n.jsxs(Bn,{children:[n.jsx(Tr,{children:"Nome"}),n.jsx(Tr,{children:"E-mail"}),n.jsx(Tr,{children:"CPF"}),n.jsx(Tr,{className:"w-[1%]",children:"Aes"})]})}),n.jsxs(rc,{children:[A.map((f,h)=>n.jsxs(Bn,{children:[n.jsx(Dr,{children:f.nome||"-"}),n.jsx(Dr,{children:f.email||"-"}),n.jsx(Dr,{children:f.cpf||"-"}),n.jsx(Dr,{children:n.jsx(gr,{to:`/clinica/calendario?paciente=${f.id}&data=${d}`,children:n.jsx(ye,{size:"sm",children:"Agendar"})})})]},f.id||h)),!a&&A.length===0&&n.jsx(Bn,{children:n.jsx(Dr,{colSpan:3,className:"text-center text-muted-foreground",children:"Nenhum paciente encontrado"})})]})]})})})]})]})}function cX(){const{toast:e}=Ma(),[r,t]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState([]),l=async()=>{s(!0);try{const{data:d}=await Zs.getMedicos(),f=Array.isArray(d)?d:(d==null?void 0:d.results)||[];o(f)}catch{e({title:"Erro",description:"No foi possvel carregar os mdicos.",variant:"destructive"})}finally{s(!1)}};w.useEffect(()=>{l()},[]);const A=i.filter(d=>[d.nome,d.email,d.crm,d.especialidade].join(" ").toLowerCase().includes(r.toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Mdicos"}),n.jsx("p",{className:"text-muted-foreground",children:"Listagem de mdicos"})]}),n.jsx("div",{className:"w-72",children:n.jsx(Ge,{placeholder:"Buscar por nome, e-mail, CRM, especialidade",value:r,onChange:d=>t(d.target.value)})})]}),n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Lista de Mdicos"}),n.jsx(Ar,{children:a?"Carregando...":`${A.length} registro(s)`})]}),n.jsx(De,{children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(ec,{children:[n.jsx(tc,{children:n.jsxs(Bn,{children:[n.jsx(Tr,{children:"Nome"}),n.jsx(Tr,{children:"E-mail"}),n.jsx(Tr,{children:"CRM"}),n.jsx(Tr,{children:"Especialidade"})]})}),n.jsxs(rc,{children:[A.map((d,f)=>n.jsxs(Bn,{children:[n.jsx(Dr,{children:d.nome||"-"}),n.jsx(Dr,{children:d.email||"-"}),n.jsx(Dr,{children:d.crm||"-"}),n.jsx(Dr,{children:d.especialidade||"-"})]},d.id||f)),!a&&A.length===0&&n.jsx(Bn,{children:n.jsx(Dr,{colSpan:4,className:"text-center text-muted-foreground",children:"Nenhum mdico encontrado"})})]})]})})})]})]})}function AX(){const[e,r]=w.useState("30d"),[t,a]=w.useState(!1),[s,i]=w.useState(null),[o,l]=w.useState(null),A=async()=>{a(!0),l(null);try{const{data:f}=await Zs.getRelatorios(e);i(f||{})}catch{l("No foi possvel carregar os relatrios.")}finally{a(!1)}};w.useEffect(()=>{A()},[e]);const d=s||{examesTotais:120,pacientesAtendidos:80,taxaCancelamento:5};return n.jsx("div",{className:"space-y-6",children:n.jsxs(_e,{children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ze,{children:"Relatrios"}),n.jsx(Ar,{children:"Mtricas da clnica"})]}),n.jsx("div",{className:"w-40",children:n.jsxs(zr,{value:e,onValueChange:r,children:[n.jsx(Or,{children:n.jsx(qr,{})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"7d",children:"ltimos 7 dias"}),n.jsx(at,{value:"30d",children:"ltimos 30 dias"}),n.jsx(at,{value:"90d",children:"ltimos 90 dias"})]})]})})]}),n.jsx(De,{children:t?n.jsx("p",{children:"Carregando..."}):o?n.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[n.jsx(rd,{className:"h-4 w-4"}),n.jsx("span",{children:o})]}):n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Ta,{className:"h-4 w-4"})," Exames"]})}),n.jsxs(De,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d.examesTotais}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Ln,{className:"h-4 w-4"})," Pacientes Atendidos"]})}),n.jsxs(De,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d.pacientesAtendidos}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{className:"text-sm font-medium",children:"Taxa de Cancelamento"})}),n.jsxs(De,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.taxaCancelamento,"%"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"no perodo"})]})]})]})})]})})}function dX(){const[e,r]=w.useState({nome:"",cnpj:"",email:"",responsavel:""}),[t,a]=w.useState(""),[s,i]=w.useState(""),[o,l]=w.useState(""),[A,d]=w.useState(""),[f,h]=w.useState(!1),[m,p]=w.useState(""),[x,v]=w.useState(""),{toast:b}=Ma(),N=F=>{const L=String(F||"").replace(/\D/g,"").slice(0,14),M=L.slice(0,2),U=L.slice(2,5),I=L.slice(5,8),_=L.slice(8,12),W=L.slice(12,14);return L.length>12?`${M}.${U}.${I}/${_}-${W}`:L.length>8?`${M}.${U}.${I}/${_}`:L.length>5?`${M}.${U}.${I}`:L.length>2?`${M}.${U}`:M},B=async()=>{b({title:"Configuraes",description:"Alteraes salvas (stub)."})};async function S(F=!0){var L,M,U,I,_;if(p(""),v(""),!t){p("Informe o e-mail da secretria.");return}h(!0);try{let W=null;if(F){const Q={email:t,first_name:s||void 0,last_name:o||void 0,password:A||void 0,role:"secretaria",type:"secretaria"},K=await ia.createUsuario(Q);if(W=(K==null?void 0:K.id)||((L=K==null?void 0:K.usuario)==null?void 0:L.id)||((M=K==null?void 0:K.user)==null?void 0:M.id)||(K==null?void 0:K.pk)||null,!W){const X=K&&typeof K=="object"?((U=K.user)==null?void 0:U.pk)||((I=K.usuario)==null?void 0:I.pk):null;X&&(W=X)}if(!W)throw new Error("No foi possvel obter o ID da secretria criada.")}else{const Q=await ia.getUsuarios({search:t,page:1,page_size:100}),X=(Array.isArray(Q==null?void 0:Q.results)?Q.results:Array.isArray(Q)?Q:[]).find(R=>String(R.email||"").toLowerCase()===t.toLowerCase());if(!X)throw new Error("No foi possvel localizar uma usuria com esse e-mail.");if(W=X.id||X.pk,!W)throw new Error("Usuria encontrada, porm sem ID vlido.")}await Zs.vincularSecretaria(W),v("Secretria vinculada com sucesso."),a(""),i(""),l(""),d("")}catch(W){const Q=(_=W==null?void 0:W.response)!=null&&_.data?JSON.stringify(W.response.data):(W==null?void 0:W.message)||"Falha ao processar solicitao.";p(Q)}finally{h(!1)}}return n.jsxs(LE,{children:[n.jsx("div",{className:"space-y-6",children:n.jsx("h1",{className:"text-2xl font-bold",children:"Configuraes"})}),n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Dados da Clnica"}),n.jsx(Ar,{children:"Edite os dados bsicos"})]}),n.jsxs(De,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx(Ge,{value:e.nome,onChange:F=>r({...e,nome:F.target.value}),placeholder:"Nome da clnica"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"CNPJ"}),n.jsx(Ge,{value:e.cnpj,onChange:F=>r({...e,cnpj:N(F.target.value)}),placeholder:"00.000.000/0000-00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx(Ge,{type:"email",value:e.email,onChange:F=>r({...e,email:F.target.value}),placeholder:"email@clinica.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm",children:"Responsvel"}),n.jsx(Ge,{value:e.responsavel,onChange:F=>r({...e,responsavel:F.target.value}),placeholder:"Nome do responsvel"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(ye,{onClick:B,children:"Salvar alteraes"})})]})]}),n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Adicionar secretria"}),n.jsx(Ar,{children:"Crie uma nova secretria ou vincule por e-mail existente"})]}),n.jsxs(De,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[m&&n.jsx("div",{className:"text-sm text-red-600",children:m}),x&&n.jsx("div",{className:"text-sm text-emerald-700",children:x})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Le,{children:"E-mail da secretria"}),n.jsx(Ge,{type:"email",value:t,onChange:F=>a(F.target.value),placeholder:"secretaria@exemplo.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Nome (opcional)"}),n.jsx(Ge,{value:s,onChange:F=>i(F.target.value),placeholder:"Nome"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Sobrenome (opcional)"}),n.jsx(Ge,{value:o,onChange:F=>l(F.target.value),placeholder:"Sobrenome"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Senha (opcional)"}),n.jsx(Ge,{type:"password",value:A,onChange:F=>d(F.target.value),placeholder:"Senha inicial (ou deixe em branco)"})]}),n.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[n.jsx(ye,{onClick:()=>S(!0),disabled:f,children:f?"Processando...":"Criar e vincular"}),n.jsx(ye,{variant:"outline",onClick:()=>S(!1),disabled:f,children:f?"Processando...":"Vincular por e-mail"})]})]})]})]})}function uX(){const[e,r]=w.useState({totalUsuarios:0,medicosAtivos:0,clinicasAtivas:0,solicitacoesPendentes:0,solicitacoesHoje:0,aprovacoesSemana:0,rejeicoesSemana:0,aprovadosMedicosSemana:0,aprovadasClinicasSemana:0,rejeitadosMedicosSemana:0,rejeitadasClinicasSemana:0}),[t,a]=w.useState([]),[s,i]=w.useState(!0),o=()=>{const d=new Date,f=d.getDay(),h=d.getDate()-f+(f===0?-6:1),m=new Date(d);return m.setDate(h),m.setHours(0,0,0,0),m};w.useEffect(()=>{let d=!0;return(async()=>{var m,p,x;const h=o();try{const v=await ia.getDashboard();d&&v&&r(b=>({...b,totalUsuarios:v.total_usuarios??v.totalUsuarios??b.totalUsuarios,medicosAtivos:v.medicos_ativos??v.medicosAtivos??b.medicosAtivos,clinicasAtivas:v.clinicas_ativas??v.clinicasAtivas??b.clinicasAtivas,solicitacoesPendentes:v.solicitacoes_pendentes??v.solicitacoesPendentes??b.solicitacoesPendentes,aprovacoesSemana:v.aprovacoes_semana??v.aprovacoesSemana??b.aprovacoesSemana,rejeicoesSemana:v.rejeicoes_semana??v.rejeicoesSemana??b.rejeicoesSemana,aprovadosMedicosSemana:v.aprovados_medicos_semana??v.aprovadosMedicosSemana??b.aprovadosMedicosSemana,aprovadasClinicasSemana:v.aprovadas_clinicas_semana??v.aprovadasClinicasSemana??b.aprovadasClinicasSemana,rejeitadosMedicosSemana:v.rejeitados_medicos_semana??v.rejeitadosMedicosSemana??b.rejeitadosMedicosSemana,rejeitadasClinicasSemana:v.rejeitadas_clinicas_semana??v.rejeitadasClinicasSemana??b.rejeitadasClinicasSemana}))}catch(v){console.warn("[AdminDashboard] getDashboard falhou:",(m=v==null?void 0:v.response)==null?void 0:m.status)}try{const v=await ia.getSolicitacoes({status:"pending",limit:5}),N=(Array.isArray(v==null?void 0:v.results)?v.results:Array.isArray(v)?v:[]).map(B=>({...B,nome:B.nome??B.name??B.title??"",tipo:(B.tipo??B.type??"").toString().toLowerCase(),dataEnvio:B.dataEnvio??B.created_at??B.data_envio??null}));if(d){a(N);const B=new Date().toDateString(),S=N.filter(F=>{const L=new Date(F.dataEnvio);return!isNaN(L)&&L.toDateString()===B}).length;r(F=>({...F,solicitacoesHoje:S}))}}catch(v){console.warn("[AdminDashboard] getSolicitacoes falhou (pendentes recentes):",(p=v==null?void 0:v.response)==null?void 0:p.status)}try{const v=o().toISOString(),b=async U=>{const I=await ia.getSolicitacoes({status:U,limit:100,created_at__gte:v});return(Array.isArray(I==null?void 0:I.results)?I.results:Array.isArray(I)?I:[]).map(W=>({tipo:(W.tipo??W.type??"").toString().toLowerCase(),createdAt:W.created_at??W.data_envio??W.dataEnvio??null})).filter(W=>{const Q=new Date(W.createdAt);return W.createdAt&&!isNaN(Q)&&Q>=h})},[N,B]=await Promise.all([b("approved"),b("rejected")]),S=N.filter(U=>U.tipo==="medico").length,F=N.filter(U=>U.tipo==="clinica").length,L=B.filter(U=>U.tipo==="medico").length,M=B.filter(U=>U.tipo==="clinica").length;d&&r(U=>({...U,aprovacoesSemana:U.aprovacoesSemana||0||N.length,rejeicoesSemana:U.rejeicoesSemana||0||B.length,aprovadosMedicosSemana:U.aprovadosMedicosSemana||0||S,aprovadasClinicasSemana:U.aprovadasClinicasSemana||0||F,rejeitadosMedicosSemana:U.rejeitadosMedicosSemana||0||L,rejeitadasClinicasSemana:U.rejeitadasClinicasSemana||0||M}))}catch(v){console.warn("[AdminDashboard] clculo semanal (fallback) falhou:",(x=v==null?void 0:v.response)==null?void 0:x.status)}finally{d&&i(!1)}})(),()=>{d=!1}},[]);const l=d=>{switch(d){case"pending":return n.jsxs(sr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Ur,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return n.jsxs(sr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(ns,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(sr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(ss,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},A=d=>{switch(d){case"alta":return n.jsx(sr,{variant:"destructive",className:"text-xs",children:"Alta"});case"normal":return n.jsx(sr,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return n.jsx(sr,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Dashboard Administrativo"}),n.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Gerencie usurios e solicitaes do sistema"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ye,{variant:"outline",className:"gap-2",asChild:!0,children:n.jsxs(gr,{to:"/admin/usuarios",children:[n.jsx(Ln,{className:"h-4 w-4"}),"Usurios"]})}),n.jsx(ye,{variant:"outline",className:"gap-2",asChild:!0,children:n.jsxs(gr,{to:"/admin/relatorios",children:[n.jsx(nm,{className:"h-4 w-4"}),"Relatrios"]})}),n.jsx(ye,{className:"gap-2 btn-medical-primary",asChild:!0,children:n.jsxs(gr,{to:"/admin/solicitacoes",children:[n.jsx(Xs,{className:"h-4 w-4"}),"Solicitaes"]})})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ze,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total de Usurios"}),n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(Ln,{className:"h-4 w-4 text-white"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:e.totalUsuarios}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"+12% em relao ao ms passado"})]})]}),n.jsxs(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ze,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Mdicos Ativos"}),n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(Mr,{className:"h-4 w-4 text-white"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:e.medicosAtivos}),n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"+5 novos esta semana"})]})]}),n.jsxs(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ze,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Clnicas Ativas"}),n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:n.jsx(Gl,{className:"h-4 w-4 text-white"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:e.clinicasAtivas}),n.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"+2 novas este ms"})]})]}),n.jsxs(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/50 dark:to-amber-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ze,{className:"text-sm font-semibold text-amber-700 dark:text-amber-300",children:"Solicitaes Pendentes"}),n.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:n.jsx(rd,{className:"h-4 w-4 text-white"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:e.solicitacoesPendentes}),n.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:[e.solicitacoesHoje," novas hoje"]})]})]})]}),n.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs(_e,{className:"border-0 shadow-lg",children:[n.jsxs(ze,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:[n.jsxs(Ze,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(di,{className:"h-5 w-5 text-purple-600"}),"Aes Rpidas"]}),n.jsx(Ar,{className:"text-slate-600 dark:text-slate-400",children:"Acesso rpido s principais funcionalidades"})]}),n.jsxs(De,{className:"p-6 space-y-4",children:[n.jsx(gr,{to:{pathname:"/admin/solicitacoes",search:"?status=pending"},children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-amber-200 bg-amber-50 hover:bg-amber-100 dark:border-amber-800 dark:bg-amber-900/20 dark:hover:bg-amber-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:n.jsx(Ur,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Solicitaes Pendentes"}),n.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[e.solicitacoesPendentes," solicitaes aguardando anlise"]})]}),n.jsx(al,{className:"h-5 w-5 text-amber-600 group-hover:translate-x-1 transition-transform"})]})}),n.jsx(gr,{to:"/admin/usuarios",children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 dark:border-blue-800 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:n.jsx(Ln,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Gerenciar Usurios"}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Visualizar e gerenciar todos os usurios do sistema"})]}),n.jsx(al,{className:"h-5 w-5 text-blue-600 group-hover:translate-x-1 transition-transform"})]})}),n.jsx(gr,{to:"/admin/relatorios",children:n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-green-200 bg-green-50 hover:bg-green-100 dark:border-green-800 dark:bg-green-900/20 dark:hover:bg-green-900/30 transition-colors group cursor-pointer",children:[n.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:n.jsx(jm,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Relatrios"}),n.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Visualizar estatsticas e relatrios do sistema"})]}),n.jsx(al,{className:"h-5 w-5 text-green-600 group-hover:translate-x-1 transition-transform"})]})})]})]}),n.jsxs(_e,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ze,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(Ur,{className:"h-5 w-5 text-purple-600"}),"Solicitaes Recentes"]}),n.jsx(Ar,{className:"text-slate-600 dark:text-slate-400",children:"ltimas solicitaes de cadastro no sistema"})]}),n.jsx(ye,{variant:"outline",asChild:!0,children:n.jsx(gr,{to:"/admin/solicitacoes",children:"Ver Todas"})})]})}),n.jsx(De,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:t.map(d=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/50 dark:to-blue-900/50 flex items-center justify-center",children:d.tipo==="medico"?n.jsx(Mr,{className:"h-6 w-6 text-purple-600"}):n.jsx(Gl,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:d.nome}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[n.jsx("span",{children:d.tipo==="medico"?`${d.especialidade} - ${d.crm}`:`${d.cnpj} - ${d.responsavel}`}),n.jsx("span",{children:""}),n.jsx("span",{children:new Date(d.dataEnvio).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[A(d.urgencia),l(d.status),d.status==="pending"&&n.jsx(ye,{size:"sm",className:"btn-medical-primary",asChild:!0,children:n.jsx(gr,{to:`/admin/solicitacoes/${d.id}`,children:"Revisar"})})]})]},d.id))})})]})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[n.jsx(ns,{className:"h-5 w-5 text-green-600"}),"Aprovaes desta Semana"]})}),n.jsxs(De,{children:[n.jsx("div",{className:"text-4xl font-bold text-green-700 dark:text-green-300 mb-2",children:e.aprovacoesSemana}),n.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[e.aprovadosMedicosSemana," mdicos e ",e.aprovadasClinicasSemana," clnicas aprovados"]})]})]}),n.jsxs(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/50",children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[n.jsx(ss,{className:"h-5 w-5 text-red-600"}),"Rejeies desta Semana"]})}),n.jsxs(De,{children:[n.jsx("div",{className:"text-4xl font-bold text-red-700 dark:text-red-300 mb-2",children:e.rejeicoesSemana}),n.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:[e.rejeitadosMedicosSemana," mdicos e ",e.rejeitadasClinicasSemana," clnicas rejeitados"]})]})]}),n.jsxs(_e,{className:"border-0 shadow-lg",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:n.jsxs(Ze,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[n.jsx(im,{className:"h-5 w-5 text-purple-600"}),"Configuraes"]})}),n.jsxs(De,{className:"p-6 space-y-3",children:[n.jsx(ye,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(gr,{to:"/admin/configuracoes",children:[n.jsx(im,{className:"h-4 w-4"}),"Configuraes do Sistema"]})}),n.jsx(ye,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(gr,{to:"/admin/logs",children:[n.jsx(di,{className:"h-4 w-4"}),"Logs do Sistema"]})}),n.jsx(ye,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:n.jsxs(gr,{to:"/admin/backup",children:[n.jsx(Xs,{className:"h-4 w-4"}),"Backup e Segurana"]})})]})]})]})]})]})}function fX(){const[e,r]=w.useState(""),[t,a]=w.useState("all"),[s,i]=w.useState("all"),[o,l]=w.useState("all"),[A,d]=w.useState(!1),[f,h]=w.useState([]),[m,p]=w.useState(null),x=w.useRef(null),{toast:v}=Ma(),b=B_(e,500),N=w.useMemo(()=>({search:uu(b.trim()),status:t,tipo:s,urgencia:o}),[b,t,s,o]),B=w.useCallback(async(R,re)=>{try{const $=await ia.getSolicitacoes(R,{signal:re});return Array.isArray($==null?void 0:$.results)?$.results:Array.isArray($)?$:[]}catch($){throw($==null?void 0:$.name)!=="AbortError"&&console.error("Erro ao buscar solicitaes:",$),$}},[]);w.useEffect(()=>{d(!0);const R=setTimeout(async()=>{if(x.current)try{x.current.abort()}catch{}const re=new AbortController;x.current=re;try{const $={};N.status!=="all"&&($.status=N.status),N.tipo!=="all"&&($.tipo=N.tipo),N.urgencia!=="all"&&($.urgencia=N.urgencia),N.search&&($.search=N.search);const V=await B($,re.signal);h(V),p(null)}catch($){($==null?void 0:$.name)!=="AbortError"&&(h([]),p("No foi possvel carregar as solicitaes."))}finally{d(!1)}},200);return()=>clearTimeout(R)},[N,B]);const S=w.useCallback(async R=>{d(!0);try{const re=await ia.aprovarSolicitacao(R);h($=>$.map(V=>V.id===R?{...V,status:"approved",aprovadoPor:(re==null?void 0:re.approved_by)||V.aprovadoPor||"",dataAprovacao:(re==null?void 0:re.approved_at)||V.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:V)),v({title:"Solicitao aprovada",description:"A solicitao foi aprovada com sucesso."})}catch{v({title:"Erro ao aprovar",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{d(!1)}},[v]),F=w.useCallback(async R=>{const re=window.prompt("Informe o motivo da rejeio:");if(re===null)return;const $=_M(re,500);if(!$.isValid){v({title:"Motivo invlido",description:$.error,variant:"destructive"});return}d(!0);try{const V=await ia.rejeitarSolicitacao(R,$.value);h(Z=>Z.map(ie=>ie.id===R?{...ie,status:"rejected",rejeitadoPor:(V==null?void 0:V.rejected_by)||ie.rejeitadoPor||"",dataRejeicao:(V==null?void 0:V.rejected_at)||ie.dataRejeicao||new Date().toISOString(),motivoRejeicao:(V==null?void 0:V.rejection_reason)||$.value||ie.motivoRejeicao||"",aprovadoPor:"",dataAprovacao:null}:ie)),v({title:"Solicitao rejeitada",description:"A solicitao foi rejeitada."})}catch{v({title:"Erro ao rejeitar",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{d(!1)}},[v]),L=w.useCallback(R=>{switch(R){case"pending":return n.jsxs(sr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Ur,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return n.jsxs(sr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(ns,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(sr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(ss,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},[]),M=w.useCallback(R=>{switch(R){case"alta":return n.jsxs(sr,{variant:"destructive",className:"text-xs",children:[n.jsx(Kc,{className:"mr-1 h-2 w-2"}),"Alta"]});case"normal":return n.jsx(sr,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return n.jsx(sr,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}},[]),U=w.useMemo(()=>f.filter(R=>{const re=e.toLowerCase(),$=(R.nome||"").toLowerCase().includes(re)||(R.email||"").toLowerCase().includes(re)||R.crm&&String(R.crm).toLowerCase().includes(re)||R.cnpj&&String(R.cnpj).includes(e),V=t==="all"||R.status===t,Z=s==="all"||R.tipo===s,ie=o==="all"||R.urgencia===o;return $&&V&&Z&&ie}),[f,e,t,s,o]),I=w.useMemo(()=>({pending:U.filter(R=>R.status==="pending"),approved:U.filter(R=>R.status==="approved"),rejected:U.filter(R=>R.status==="rejected")}),[U]),_=w.useCallback(R=>{const re=uu(R.target.value);r(re)},[]),W=w.useCallback(R=>{a(R)},[]),Q=w.useCallback(R=>{i(R)},[]),K=w.useCallback(R=>{l(R)},[]),X=({solicitacao:R})=>n.jsxs(_e,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl group",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${R.tipo==="medico"?"bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-600":"bg-gradient-to-br from-purple-100 to-pink-100 text-purple-600"}`,children:R.tipo==="medico"?n.jsx(Mr,{className:"h-6 w-6"}):n.jsx(Gl,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:R.nome}),n.jsx(Ar,{className:"text-gray-600 font-medium",children:R.email})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[M(R.urgencia),L(R.status)]})]})}),n.jsx(De,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[n.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:R.tipo==="medico"?"Especialidade":"CNPJ"}),n.jsx("p",{className:"text-gray-800 font-medium",children:R.tipo==="medico"?R.especialidade:R.cnpj})]}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[n.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:R.tipo==="medico"?"CRM":"Responsvel"}),n.jsx("p",{className:"text-gray-800 font-medium",children:R.tipo==="medico"?R.crm:R.responsavel})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-100",children:[n.jsx("p",{className:"font-semibold text-blue-600 text-sm mb-1",children:"Data de Envio"}),n.jsxs("p",{className:"flex items-center gap-2 text-blue-800 font-medium",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsxs("span",{children:[new Date(R.dataEnvio).toLocaleDateString()," s"," ",new Date(R.dataEnvio).toLocaleTimeString()]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border border-green-100",children:[n.jsx("p",{className:"font-semibold text-green-600 text-sm mb-1",children:"Documentos"}),n.jsxs("p",{className:"text-green-800 font-medium",children:[Array.isArray(R.documentos)?R.documentos.length:0," arquivo(s)"]})]})]}),R.observacoes&&n.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 p-4 rounded-xl",children:n.jsx("p",{className:"text-amber-800 text-sm font-medium",children:R.observacoes})}),R.status==="approved"&&n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 p-4 rounded-xl",children:n.jsxs("p",{className:"text-green-800 text-sm font-medium",children:[n.jsx("strong",{children:"Aprovado em:"})," ",R.dataAprovacao?new Date(R.dataAprovacao).toLocaleDateString():"",R.aprovadoPor?n.jsxs(n.Fragment,{children:[" por ",R.aprovadoPor]}):null]})}),R.status==="rejected"&&R.motivoRejeicao&&n.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-4 rounded-xl",children:n.jsxs("p",{className:"text-red-800 text-sm font-medium",children:[n.jsx("strong",{children:"Rejeitado:"})," ",R.motivoRejeicao,R.rejeitadoPor&&n.jsxs(n.Fragment,{children:[" por ",R.rejeitadoPor]})]})}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(ye,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:n.jsxs(gr,{to:`/admin/solicitacoes/${R.id}`,children:[n.jsx(ui,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),R.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(ye,{size:"sm",onClick:()=>S(R.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(ns,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),n.jsxs(ye,{variant:"destructive",size:"sm",onClick:()=>F(R.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:A,children:[n.jsx(ss,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]})})]});return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white",children:n.jsx("div",{className:"container mx-auto px-6 py-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Solicitaes"}),n.jsx("p",{className:"text-blue-100",children:"Gerencie solicitaes de mdicos e clnicas"})]}),n.jsx("div",{className:"hidden md:flex items-center gap-4",children:n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold",children:U.length}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Total"})]})})]})})}),n.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(_e,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 hover:shadow-lg transition-all duration-300",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-amber-600 text-sm font-medium",children:"Pendentes"}),n.jsx("p",{className:"text-2xl font-bold text-amber-700",children:I.pending.length})]}),n.jsx("div",{className:"bg-amber-100 p-3 rounded-full",children:n.jsx(Ur,{className:"h-6 w-6 text-amber-600"})})]})})}),n.jsx(_e,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:shadow-lg transition-all duration-300",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Aprovadas"}),n.jsx("p",{className:"text-2xl font-bold text-green-700",children:I.approved.length})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:n.jsx(ns,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(_e,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-red-200 hover:shadow-lg transition-all duration-300",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Rejeitadas"}),n.jsx("p",{className:"text-2xl font-bold text-red-700",children:I.rejected.length})]}),n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(ss,{className:"h-6 w-6 text-red-600"})})]})})}),n.jsx(_e,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 hover:shadow-lg transition-all duration-300",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:U.length})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:n.jsx(ru,{className:"h-6 w-6 text-blue-600"})})]})})})]}),n.jsxs(_e,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl border-b",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(ru,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-xl",children:"Filtros Avanados"}),n.jsx(Ar,{children:"Use os filtros para refinar sua busca"})]})]})}),n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ge,{placeholder:"Buscar por nome, e-mail, CRM ou CNPJ",className:"pl-9 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",value:e,onChange:_})]}),n.jsx("div",{children:n.jsxs(zr,{value:t,onValueChange:W,children:[n.jsx(Or,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(qr,{placeholder:"Status"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"all",children:"Todos"}),n.jsx(at,{value:"pending",children:"Pendente"}),n.jsx(at,{value:"approved",children:"Aprovado"}),n.jsx(at,{value:"rejected",children:"Rejeitado"})]})]})}),n.jsx("div",{children:n.jsxs(zr,{value:s,onValueChange:Q,children:[n.jsx(Or,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(qr,{placeholder:"Tipo"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"all",children:"Todos"}),n.jsx(at,{value:"medico",children:"Mdicos"}),n.jsx(at,{value:"clinica",children:"Clnicas"})]})]})}),n.jsx("div",{children:n.jsxs(zr,{value:o,onValueChange:K,children:[n.jsx(Or,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:n.jsx(qr,{placeholder:"Urgncia"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"all",children:"Todas"}),n.jsx(at,{value:"alta",children:"Alta"}),n.jsx(at,{value:"normal",children:"Normal"}),n.jsx(at,{value:"baixa",children:"Baixa"})]})]})})]})})]}),n.jsx(_e,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:n.jsxs(Ii,{defaultValue:"todas",className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl p-6 border-b",children:n.jsxs(Pi,{className:"bg-white/80 backdrop-blur-sm border shadow-sm rounded-xl p-1",children:[n.jsxs(kr,{value:"todas",className:"gap-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(ru,{className:"h-4 w-4"})," Todas"]}),n.jsxs(kr,{value:"pendentes",className:"gap-2 data-[state=active]:bg-amber-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(Ur,{className:"h-4 w-4"})," Pendentes"]}),n.jsxs(kr,{value:"aprovadas",className:"gap-2 data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(ns,{className:"h-4 w-4"})," Aprovadas"]}),n.jsxs(kr,{value:"rejeitadas",className:"gap-2 data-[state=active]:bg-red-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[n.jsx(ss,{className:"h-4 w-4"})," Rejeitadas"]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx(Rr,{value:"todas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):m?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Kc,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-red-700",children:m})]}):U.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(is,{className:"h-8 w-8 text-gray-400"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao encontrada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:U.map(R=>n.jsx(X,{solicitacao:R},R.id))})}),n.jsx(Rr,{value:"pendentes",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):I.pending.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(Ur,{className:"h-8 w-8 text-amber-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao pendente."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:I.pending.map(R=>n.jsx(X,{solicitacao:R},R.id))})}),n.jsx(Rr,{value:"aprovadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):I.approved.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(ns,{className:"h-8 w-8 text-green-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao aprovada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:I.approved.map(R=>n.jsx(X,{solicitacao:R},R.id))})}),n.jsx(Rr,{value:"rejeitadas",children:A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitaes..."})]})}):I.rejected.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:n.jsx(ss,{className:"h-8 w-8 text-red-600"})}),n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitao rejeitada."})]}):n.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:I.rejected.map(R=>n.jsx(X,{solicitacao:R},R.id))})})]})]})})]})]})}function hX(){var S;const{id:e}=Al(),r=Xn(),{toast:t}=Ma(),[a,s]=w.useState(!1),[i,o]=w.useState(""),[l,A]=w.useState(""),[d,f]=w.useState(!0),[h,m]=w.useState(null);w.useEffect(()=>{let F=!0;return(async()=>{try{const M=await ia.getSolicitacao(e);F&&m(M)}catch{t({title:"Erro ao carregar",description:"No foi possvel carregar a solicitao.",variant:"destructive"}),r("/admin/solicitacoes")}finally{F&&f(!1)}})(),()=>{F=!1}},[e]);const p=async F=>{try{await ia.visualizarDocumento(F.url||F.nome)}catch(L){t({title:"Erro ao visualizar",description:L.message||"No foi possvel visualizar o documento.",variant:"destructive"})}},x=async F=>{try{await ia.baixarDocumento(F.url||F.nome,F.nome),t({title:"Download iniciado",description:"O download do documento foi iniciado."})}catch(L){t({title:"Erro ao baixar",description:L.message||"No foi possvel baixar o documento.",variant:"destructive"})}};if(d)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx($c,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),n.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitao"})]})]})});if(!h)return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx($c,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitao no encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const v=async()=>{s(!0);try{await ia.aprovarSolicitacao(e,i||""),t({title:"Solicitao aprovada!",description:`${(h==null?void 0:h.nome)||"Solicitao"} aprovada com sucesso.`}),r("/admin/solicitacoes")}catch{t({title:"Erro",description:"No foi possvel aprovar a solicitao.",variant:"destructive"})}finally{s(!1)}},b=async()=>{if(!l.trim()){t({title:"Motivo obrigatrio",description:"Por favor, informe o motivo da rejeio.",variant:"destructive"});return}s(!0);try{await ia.rejeitarSolicitacao(e,l.trim()),t({title:"Solicitao rejeitada",description:`A solicitao de ${(h==null?void 0:h.nome)||""} foi rejeitada.`}),r("/admin/solicitacoes")}catch{t({title:"Erro",description:"No foi possvel rejeitar a solicitao.",variant:"destructive"})}finally{s(!1)}},N=F=>{switch(F){case"pending":return n.jsxs(sr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Kc,{className:"mr-1 h-3 w-3"}),"Aguardando Anlise"]});case"approved":return n.jsxs(sr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(ns,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(sr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(ss,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},B=(h==null?void 0:h.endereco)||{};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ye,{variant:"ghost",onClick:()=>r("/admin/solicitacoes"),children:[n.jsx($c,{className:"mr-2 h-4 w-4"}),"Voltar"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitao"}),n.jsx("p",{className:"text-muted-foreground",children:"Anlise completa da solicitao de cadastro"})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`app-quick-icon ${h.tipo==="medico"?"info":"primary"} h-12 w-12`,children:h.tipo==="medico"?n.jsx(Mr,{className:"h-6 w-6"}):n.jsx(Gl,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-xl",children:h.nome}),n.jsx(Ar,{children:h.tipo==="medico"?"Solicitao de Cadastro Mdico":"Solicitao de Cadastro de Clnica"})]})]}),N(h.status)]})}),n.jsxs(De,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ol,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:h.email})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:h.telefone})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"Especialidade":"CNPJ"}),n.jsx("span",{children:h.especialidade})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"CRM":"Responsvel Tcnico"}),n.jsx("span",{children:h.crm})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Data de Envio"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[new Date(h.dataEnvio||h.created_at).toLocaleDateString()," s"," ",new Date(h.dataEnvio||h.created_at).toLocaleTimeString()]})]})]})]}),n.jsx(ws,{}),h.tipo==="medico"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Instituio de Formao"}),n.jsx("span",{children:h.instituicaoFormacao})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Ano de Formao"}),n.jsx("span",{children:h.anoFormacao})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Residncia"}),n.jsx("span",{children:h.residencia})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Instituio da Residncia"}),n.jsx("span",{children:h.instituicaoResidencia})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Ano da Residncia"}),n.jsx("span",{children:h.anoResidencia})]})]})]}),n.jsx(ws,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm",children:h.experiencia})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Motivao"}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm",children:h.motivacao})})]}),n.jsx(ws,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Endereo"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"CEP"}),n.jsx("span",{children:B.cep||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Logradouro"}),n.jsx("span",{children:B.logradouro||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Bairro"}),n.jsx("span",{children:B.bairro||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-muted-foreground",children:"Cidade/Estado"}),n.jsxs("span",{children:[B.cidade||"","/",B.estado||""]})]})]})]})]})]}),n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-5 w-5"}),"Documentos Enviados"]}),n.jsxs(Ar,{children:[((S=h.documentos)==null?void 0:S.length)||0," documento(s) anexado(s)"]})]}),n.jsx(De,{children:n.jsx("div",{className:"space-y-3",children:(h.documentos||[]).map((F,L)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ta,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:F.nome}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.tamanho,"  Enviado em ",new Date(F.dataUpload).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>p(F),children:[n.jsx(ui,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),n.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>x(F),children:[n.jsx(nl,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},L))})})]})]}),n.jsxs("div",{className:"space-y-6",children:[h.status==="pending"&&n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Aes"}),n.jsx(Ar,{children:"Aprovar ou rejeitar esta solicitao"})]}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"observacoes",children:"Observaes (opcional)"}),n.jsx(aa,{id:"observacoes",placeholder:"Adicione observaes sobre esta solicitao...",value:i,onChange:F=>o(F.target.value)})]}),n.jsxs(ye,{variant:"default",className:"w-full",onClick:v,disabled:a,children:[n.jsx(ns,{className:"mr-2 h-4 w-4"}),a?"Aprovando...":"Aprovar Solicitao"]}),n.jsx(ws,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"motivoRejeicao",children:"Motivo da Rejeio"}),n.jsx(aa,{id:"motivoRejeicao",placeholder:"Informe o motivo da rejeio...",value:l,onChange:F=>A(F.target.value)})]}),n.jsxs(ye,{variant:"destructive",className:"w-full",onClick:b,disabled:a,children:[n.jsx(ss,{className:"mr-2 h-4 w-4"}),a?"Rejeitando...":"Rejeitar Solicitao"]})]})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Informaes do Sistema"})}),n.jsxs(De,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"ID da Solicitao:"}),n.jsxs("span",{className:"font-mono",children:["#",h.id.toString().padStart(6,"0")]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),n.jsx("span",{className:"capitalize",children:h.tipo})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Urgncia:"}),n.jsx(sr,{variant:h.urgencia==="alta"?"destructive":"secondary",className:"text-xs",children:h.urgencia})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),N(h.status)]})]})]})]})]})]})}const R5=[{value:"7",label:"ltimos 7 dias"},{value:"30",label:"ltimos 30 dias"},{value:"90",label:"ltimos 90 dias"}];function mX(e){const r=new Date(e);return r.setHours(0,0,0,0),r}function pX(e){const r=new Date(e);return r.setHours(23,59,59,999),r}function gX(e){const r=new Date(e),t=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${t}-${a}-${s}`}function xX(){var h;const[e,r]=w.useState("30"),[t,a]=w.useState("all"),[s,i]=w.useState(!1),[o,l]=w.useState(null),[A,d]=w.useState([]),f=w.useMemo(()=>{if(!A.length)return{total:0,aprovadas:0,rejeitadas:0,pendentes:0,aprovMed:0,aprovCli:0,rejMed:0,rejCli:0,byDay:[],maxDay:0};const m=A.length,p=A.filter(U=>U.status==="aprovada").length,x=A.filter(U=>U.status==="rejeitada").length,v=A.filter(U=>U.status==="pendente").length,b=A.filter(U=>U.status==="aprovada"&&U.tipo==="medico").length,N=A.filter(U=>U.status==="aprovada"&&U.tipo==="clinica").length,B=A.filter(U=>U.status==="rejeitada"&&U.tipo==="medico").length,S=A.filter(U=>U.status==="rejeitada"&&U.tipo==="clinica").length,F={};A.forEach(U=>{const I=gX(U.createdAt);F[I]||(F[I]={ymd:I,aprov:0,rej:0}),U.status==="aprovada"&&F[I].aprov++,U.status==="rejeitada"&&F[I].rej++});const L=Object.values(F).sort((U,I)=>U.ymd.localeCompare(I.ymd)),M=Math.max(...L.map(U=>Math.max(U.aprov,U.rej)),1);return{total:m,aprovadas:p,rejeitadas:x,pendentes:v,aprovMed:b,aprovCli:N,rejMed:B,rejCli:S,byDay:L,maxDay:M}},[A]);return w.useEffect(()=>{(async()=>{i(!0),l(null);try{const p=new Date,x=parseInt(e,10),v=new Date(p.getTime()-x*24*60*60*1e3),b={startDate:mX(v).toISOString(),endDate:pX(p).toISOString()};t!=="all"&&(b.tipo=t);const N=await Ee.get("/admin/solicitacoes",{params:b});d(N.data||[])}catch(p){console.error("Erro ao buscar dados:",p),l(p)}finally{i(!1)}})()},[e,t]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900",children:[n.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 shadow-sm",children:n.jsx(Ta,{className:"h-8 w-8 text-slate-600 dark:text-slate-200"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatrios Administrativos"}),n.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mt-2 font-medium",children:"Anlise completa de solicitaes e mtricas operacionais"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(_e,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-slate-600 dark:text-slate-200 mb-2",children:"Total"}),n.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:f.total}),n.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mt-1",children:"no perodo"})]}),n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl",children:n.jsx(Ta,{className:"h-6 w-6 text-slate-600 dark:text-slate-200"})})]})})}),n.jsx(_e,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-green-50 dark:bg-green-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-300 mb-2",children:"Aprovadas"}),n.jsx("p",{className:"text-3xl font-bold text-green-800 dark:text-green-200",children:f.aprovadas}),n.jsxs("p",{className:"text-sm font-medium text-green-600 dark:text-green-400 mt-1",children:[Math.round(f.aprovadas/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-800 rounded-xl",children:n.jsx(ns,{className:"h-6 w-6 text-green-600 dark:text-green-300"})})]})})}),n.jsx(_e,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-red-700 dark:text-red-300 mb-2",children:"Rejeitadas"}),n.jsx("p",{className:"text-3xl font-bold text-red-800 dark:text-red-200",children:f.rejeitadas}),n.jsxs("p",{className:"text-sm font-medium text-red-600 dark:text-red-400 mt-1",children:[Math.round(f.rejeitadas/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-800 rounded-xl",children:n.jsx(ss,{className:"h-6 w-6 text-red-600 dark:text-red-300"})})]})})}),n.jsx(_e,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-amber-50 dark:bg-amber-900/20 hover:shadow-xl transition-all duration-300",children:n.jsx(De,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base font-bold text-amber-700 dark:text-amber-300 mb-2",children:"Pendentes"}),n.jsx("p",{className:"text-3xl font-bold text-amber-800 dark:text-amber-200",children:f.pendentes}),n.jsxs("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mt-1",children:[Math.round(f.pendentes/f.total*100)||0,"% do total"]})]}),n.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-800 rounded-xl",children:n.jsx(Ur,{className:"h-6 w-6 text-amber-600 dark:text-amber-300"})})]})})})]})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 space-y-8",children:[n.jsx(_e,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:n.jsxs(ze,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:n.jsx(ru,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Filtros de Anlise"}),n.jsx(Ar,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Configure o perodo e tipo de relatrio"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-6 mt-6",children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Perodo de Anlise"}),n.jsxs(zr,{value:e,onValueChange:r,children:[n.jsx(Or,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:n.jsx(qr,{})}),n.jsx(Hr,{children:R5.map(m=>n.jsx(at,{value:m.value,className:"text-base",children:m.label},m.value))})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Tipo de Solicitao"}),n.jsxs(zr,{value:t,onValueChange:a,children:[n.jsx(Or,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:n.jsx(qr,{})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"all",className:"text-base",children:"Todos os Tipos"}),n.jsx(at,{value:"medico",className:"text-base",children:"Mdicos"}),n.jsx(at,{value:"clinica",className:"text-base",children:"Clnicas"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Aes"}),n.jsxs(ye,{variant:"outline",size:"lg",disabled:s,onClick:()=>r(e),className:"h-12 px-6 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 hover:bg-slate-50 dark:hover:bg-slate-600 hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 dark:text-slate-200 font-semibold shadow-sm transition-all duration-200 text-base",children:[n.jsx(fy,{className:`h-5 w-5 mr-2 ${s?"animate-spin":""}`}),"Atualizar Dados"]})]})]})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(_e,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(ze,{className:"pb-4",children:n.jsx(Ze,{className:"text-base font-bold text-slate-700 dark:text-slate-200 group-hover:text-slate-900 dark:group-hover:text-white transition-colors",children:"Total no Perodo"})}),n.jsxs(De,{children:[n.jsx("div",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-3",children:f.total}),n.jsx("p",{className:"text-base font-medium text-slate-600 dark:text-slate-300",children:(h=R5.find(m=>m.value===e))==null?void 0:h.label})]})]}),n.jsxs(_e,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-gradient-to-br from-white to-green-50 dark:from-slate-800 dark:to-green-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ze,{className:"text-base font-bold flex items-center gap-2 text-green-700 dark:text-green-200 group-hover:text-green-800 dark:group-hover:text-green-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-green-100 dark:bg-green-800 rounded",children:n.jsx(ns,{className:"h-5 w-5 text-green-600 dark:text-green-300"})}),"Solicitaes Aprovadas"]})}),n.jsxs(De,{children:[n.jsx("div",{className:"text-4xl font-bold text-green-800 dark:text-green-100 mb-3",children:f.aprovadas}),n.jsxs("p",{className:"text-base font-medium text-green-600 dark:text-green-300",children:[f.aprovMed," mdicos  ",f.aprovCli," clnicas"]})]})]}),n.jsxs(_e,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-gradient-to-br from-white to-red-50 dark:from-slate-800 dark:to-red-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ze,{className:"text-base font-bold flex items-center gap-2 text-red-700 dark:text-red-200 group-hover:text-red-800 dark:group-hover:text-red-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-red-100 dark:bg-red-800 rounded",children:n.jsx(ss,{className:"h-5 w-5 text-red-600 dark:text-red-300"})}),"Solicitaes Rejeitadas"]})}),n.jsxs(De,{children:[n.jsx("div",{className:"text-4xl font-bold text-red-800 dark:text-red-100 mb-3",children:f.rejeitadas}),n.jsxs("p",{className:"text-base font-medium text-red-600 dark:text-red-300",children:[f.rejMed," mdicos  ",f.rejCli," clnicas"]})]})]}),n.jsxs(_e,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-gradient-to-br from-white to-amber-50 dark:from-slate-800 dark:to-amber-900/50 hover:shadow-xl transition-all duration-300 group",children:[n.jsx(ze,{className:"pb-4",children:n.jsxs(Ze,{className:"text-base font-bold flex items-center gap-2 text-amber-700 dark:text-amber-200 group-hover:text-amber-800 dark:group-hover:text-amber-100 transition-colors",children:[n.jsx("div",{className:"p-1 bg-amber-100 dark:bg-amber-800 rounded",children:n.jsx(Ur,{className:"h-5 w-5 text-amber-600 dark:text-amber-300"})}),"Aguardando Anlise"]})}),n.jsxs(De,{children:[n.jsx("div",{className:"text-4xl font-bold text-amber-800 dark:text-amber-100 mb-3",children:f.pendentes}),n.jsx("p",{className:"text-base font-medium text-amber-600 dark:text-amber-300",children:"Requer ateno administrativa"})]})]})]}),n.jsxs(_e,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:[n.jsx(ze,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:n.jsx(nm,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Anlise Temporal"}),n.jsx(Ar,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Distribuio diria de aprovaes e rejeies no perodo selecionado"})]})]})}),n.jsxs(De,{className:"space-y-8 p-8",children:[f.byDay.map(m=>{const p=Math.round(m.aprov/f.maxDay*100),x=Math.round(m.rej/f.maxDay*100);return n.jsxs("div",{className:"group",children:[n.jsxs("div",{className:"flex items-center justify-between text-base mb-4",children:[n.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:m.ymd}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-400 rounded-full"}),n.jsxs("span",{className:"text-green-600 dark:text-green-300 font-bold text-base",children:["Aprovadas: ",m.aprov]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full"}),n.jsxs("span",{className:"text-red-600 dark:text-red-300 font-bold text-base",children:["Rejeitadas: ",m.rej]})]})]})]}),n.jsxs("div",{className:"h-8 w-full rounded-lg bg-slate-200 dark:bg-slate-700 overflow-hidden border border-slate-300 dark:border-slate-600 shadow-inner",children:[n.jsx("div",{className:"h-8 bg-green-500 inline-block transition-all duration-500 group-hover:bg-green-400",style:{width:`${p}%`},title:`Aprovadas: ${m.aprov}`}),n.jsx("div",{className:"h-8 bg-red-500 inline-block transition-all duration-500 group-hover:bg-red-400",style:{width:`${x}%`},title:`Rejeitadas: ${m.rej}`})]})]},m.ymd)}),!f.byDay.length&&n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"text-slate-400 text-6xl mb-6",children:""}),n.jsx("div",{className:"text-xl font-bold text-slate-600 dark:text-slate-300 mb-3",children:"Nenhum dado encontrado"}),n.jsx("div",{className:"text-base font-medium text-slate-500 dark:text-slate-400",children:"No h registros para o perodo selecionado."})]})]})]}),s&&n.jsx(_e,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:n.jsx(De,{className:"p-12",children:n.jsxs("div",{className:"animate-pulse space-y-8",children:[n.jsx("div",{className:"h-10 bg-slate-200 dark:bg-slate-700 rounded-lg w-1/3"}),n.jsx("div",{className:"h-40 bg-slate-200 dark:bg-slate-700 rounded-lg"})]})})}),o&&n.jsx(_e,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20",children:n.jsxs(De,{className:"p-12 text-center",children:[n.jsx("div",{className:"text-red-400 text-6xl mb-6",children:""}),n.jsx("p",{className:"text-red-700 dark:text-red-300 font-bold text-xl mb-3",children:"Erro ao carregar dados"}),n.jsx("p",{className:"text-red-600 dark:text-red-400 text-base font-medium",children:String(o)})]})})]})]})}function vX(){const[e,r]=w.useState([]),[t,a]=w.useState(!1),[s,i]=w.useState(null),[o,l]=w.useState(null),[A,d]=w.useState(null),[f,h]=w.useState(""),[m,p]=w.useState(""),[x,v]=w.useState(""),[b,N]=w.useState(""),[B,S]=w.useState(""),[F,L]=w.useState(""),[M,U]=w.useState(""),I=w.useMemo(()=>{const W={ordering:"-created_at",limit:20};return f&&(W.action=f),m&&(W.entity=m),x&&(W.status=x),b&&(W.user=b),B&&(W.created_at__gte=new Date(B).toISOString()),F&&(W.created_at__lte=new Date(F).toISOString()),M&&(W.search=M),W},[f,m,x,b,B,F,M]),_=async W=>{var Q,K,X,R;a(!0),i(null);try{const re=typeof W=="string"?await Ee.get(W):await ia.getAuditoria(W),$=(re==null?void 0:re.data)??re,V=Array.isArray($==null?void 0:$.results)?$.results:Array.isArray($)?$:[];r(V),l(($==null?void 0:$.next)||null),d(($==null?void 0:$.previous)||null)}catch(re){const $=(Q=re==null?void 0:re.response)==null?void 0:Q.status,Z=(typeof((K=re==null?void 0:re.response)==null?void 0:K.data)=="string"?null:(R=(X=re==null?void 0:re.response)==null?void 0:X.data)==null?void 0:R.detail)||(re==null?void 0:re.message)||"Falha ao carregar auditoria";i($?`Erro ${$}: ${Z}`:Z)}finally{a(!1)}};return w.useEffect(()=>{_(I)},[I]),n.jsxs("div",{className:"space-y-8 p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-red-700 to-red-800 rounded-2xl p-8 text-white shadow-2xl",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:n.jsx(Xs,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold",children:"Auditoria"}),n.jsx("p",{className:"text-red-100 text-lg",children:"Acompanhe registros de aes do sistema"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(di,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Total de Registros"}),n.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(jn,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Usurios nicos"}),n.jsx("p",{className:"text-2xl font-bold",children:new Set(e.map(W=>{var Q;return(Q=W.user)==null?void 0:Q.id})).size})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fr,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Hoje"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(W=>new Date(W.created_at).toDateString()===new Date().toDateString()).length})]})]})}),n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ui,{className:"h-6 w-6 text-red-200"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm",children:"Sucessos"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(W=>W.status==="success").length})]})]})})]})]}),n.jsxs(_e,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[n.jsx(ze,{className:"pb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:n.jsx(ru,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-xl font-semibold text-gray-900",children:"Filtros Avanados"}),n.jsx(Ar,{className:"text-gray-600",children:"Refine a busca por perodo, usurio e tipo de ao"})]})]})}),n.jsxs(De,{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Incio"}),n.jsx(_s,{value:B,onChange:S,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",maxDate:new Date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Fim"}),n.jsx(_s,{value:F,onChange:L,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",minDate:B?new Date(B):void 0,maxDate:new Date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),n.jsxs(zr,{value:x,onValueChange:W=>v(W==="all"?"":W),children:[n.jsx(Or,{className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",children:n.jsx(qr,{placeholder:"Selecionar status"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"all",children:"Todos"}),n.jsx(at,{value:"success",children:"Sucesso"}),n.jsx(at,{value:"fail",children:"Falha"})]})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usurio (UUID)"}),n.jsx(Ge,{value:b,onChange:W=>N(W.target.value),placeholder:"ID do usurio",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ao"}),n.jsx(Ge,{value:f,onChange:W=>h(W.target.value),placeholder:"ex: login, create, update",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Entidade"}),n.jsx(Ge,{value:m,onChange:W=>p(W.target.value),placeholder:"ex: Consulta, Paciente",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Busca Geral"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(Ge,{value:M,onChange:W=>U(W.target.value),placeholder:"Buscar por ao, entidade, IP ou usurio...",className:"pl-10 h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),n.jsxs(ye,{onClick:()=>_(I),className:"h-11 px-6 btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-200",children:[n.jsx(is,{className:"mr-2 h-4 w-4"}),"Buscar"]}),n.jsxs(ye,{variant:"outline",onClick:()=>{h(""),p(""),v(""),N(""),S(""),L(""),U("")},className:"h-11 px-6 bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:[n.jsx(fy,{className:"mr-2 h-4 w-4"}),"Limpar"]})]})]})]})]}),n.jsxs(_e,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between pb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:n.jsx(di,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-xl font-semibold text-gray-900",children:"Registros de Auditoria"}),n.jsx(Ar,{className:"text-gray-600",children:"Resultados paginados (20 por pgina)"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ye,{variant:"outline",size:"sm",disabled:!A||t,onClick:()=>_(A),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:n.jsx(RC,{className:"h-4 w-4"})}),n.jsx(ye,{variant:"outline",size:"sm",disabled:!o||t,onClick:()=>_(o),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:n.jsx(al,{className:"h-4 w-4"})})]})]}),n.jsxs(De,{children:[s&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:n.jsx("p",{className:"text-red-700 font-medium",children:s})}),n.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:n.jsxs("table",{className:"min-w-full bg-white",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Data"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Usurio"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Ao"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Entidade"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"ID"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"IP"}),n.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Status"})]})}),n.jsxs("tbody",{children:[!t&&e.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gray-100 rounded-full",children:n.jsx(di,{className:"h-6 w-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum registro encontrado"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Tente ajustar os filtros de busca"})]})})}),e.map((W,Q)=>{var K,X;return n.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 transition-all duration-200 ${Q%2===0?"bg-white":"bg-gray-50/30"}`,children:[n.jsx("td",{className:"py-4 px-6 text-sm text-gray-900 font-medium whitespace-nowrap",children:new Date(W.created_at).toLocaleString("pt-BR")}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:((K=W.user)==null?void 0:K.username)||((X=W.user)==null?void 0:X.email)||"-"}),n.jsx("td",{className:"py-4 px-6",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:W.action})}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:W.entity||"-"}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:W.entity_id||"-"}),n.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:W.ip_address||"-"}),n.jsx("td",{className:"py-4 px-6",children:W.status==="success"?n.jsx(sr,{className:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",variant:"outline",children:"Sucesso"}):n.jsx(sr,{className:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",variant:"outline",children:"Falha"})})]},W.id)})]})]})})]})]})]})}function wX(){const{activeRole:e,toggleRole:r}=Wl(),{user:t}=aA(),a=Xn();if(!((t==null?void 0:t.role)==="medico"||(t==null?void 0:t.is_medico)||(t==null?void 0:t.isMedico)||!1))return null;const i=()=>{r(),a(e==="medico"?"/paciente/perfil":"/medico/dashboard")};return n.jsx(ye,{variant:"outline",size:"sm",onClick:i,className:"flex items-center gap-2 transition-all duration-200 hover:shadow-md",children:e==="medico"?n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"h-4 w-4"}),n.jsx("span",{children:"Mudar para Paciente"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Mr,{className:"h-4 w-4"}),n.jsx("span",{children:"Mudar para Mdico"})]})})}function yX(){const{isAuthenticated:e}=Wl();return n.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-blue-50 via-white to-teal-50",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-blue-100/50 bg-white/80 backdrop-blur-xl supports-[backdrop-filter]:bg-white/60 shadow-sm",children:n.jsxs("div",{className:"container flex h-16 items-center",children:[n.jsx("div",{className:"mr-4 flex",children:n.jsxs(gr,{to:"/",className:"mr-6 flex items-center space-x-3 group",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-medical-primary to-blue-600 text-white shadow-lg group-hover:shadow-blue-500/25 transition-all duration-300 group-hover:scale-105",children:n.jsx(Uf,{className:"w-5 h-5"})}),n.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Portal Mdico"})]})}),n.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:n.jsxs("nav",{className:"flex items-center space-x-2",children:[n.jsx(Vy,{}),e&&n.jsx(wX,{})]})})]})}),n.jsx("main",{className:"flex-1",children:n.jsxs("section",{className:"w-full py-16 md:py-24 lg:py-32 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-teal-400/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-medical-primary/20 to-purple-400/20 rounded-full blur-3xl"})]}),n.jsx("div",{className:"container px-4 md:px-6 relative",children:n.jsxs("div",{className:"flex flex-col items-center justify-center space-y-12 text-center",children:[n.jsxs("div",{className:"space-y-6 max-w-4xl",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-100 to-teal-100 text-medical-primary font-medium text-sm border border-blue-200/50",children:[n.jsx(GL,{className:"w-4 h-4"}),"Plataforma Mdica Integrada"]}),n.jsxs("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl lg:text-7xl",children:[n.jsx("span",{className:"bg-gradient-to-r from-medical-primary via-blue-600 to-teal-600 bg-clip-text text-transparent",children:"Bem-vindo ao"}),n.jsx("br",{}),n.jsx("span",{className:"bg-gradient-to-r from-teal-600 via-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Portal Mdico"})]}),n.jsx("p",{className:"mx-auto max-w-[800px] text-xl text-slate-600 leading-relaxed",children:"Conectando mdicos e pacientes para uma experincia de sade integrada e moderna."}),n.jsx("p",{className:"mx-auto max-w-[700px] text-lg text-slate-500 leading-relaxed",children:"Nossa plataforma oferece uma soluo completa para gerenciamento de consultas, pronturios e histrico mdico, facilitando a comunicao entre profissionais de sade e pacientes."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl mt-16",children:[n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 backdrop-blur-sm border border-blue-100/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(Mr,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Consultas Online"}),n.jsx("p",{className:"text-slate-600 text-sm",children:"Agende e realize consultas mdicas de forma digital e segura."})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 backdrop-blur-sm border border-teal-100/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-teal-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(di,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Pronturio Digital"}),n.jsx("p",{className:"text-slate-600 text-sm",children:"Acesse seu histrico mdico completo em qualquer lugar."})]}),n.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 backdrop-blur-sm border border-purple-100/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:n.jsx(Xs,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Segurana Total"}),n.jsx("p",{className:"text-slate-600 text-sm",children:"Seus dados mdicos protegidos com criptografia avanada."})]})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mt-12",children:e?n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-lg mx-auto",children:[n.jsx(gr,{to:"/medico/dashboard",className:"flex-1",children:n.jsx(ye,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-teal-500 to-teal-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"w-5 h-5"}),"Acessar como Mdico"]})})}),n.jsx(gr,{to:"/paciente/perfil",className:"flex-1",children:n.jsx(ye,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-blue-500/20 bg-white/90 text-blue-600 font-semibold shadow-lg hover:bg-blue-500/5 hover:border-blue-500/40 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Ln,{className:"w-5 h-5"}),"Acessar como Paciente"]})})})]}):n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-md mx-auto",children:[n.jsx(gr,{to:"/login",className:"flex-1",children:n.jsx(ye,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-medical-primary to-blue-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:n.jsxs("span",{className:"flex items-center gap-2",children:["Entrar",n.jsx(Vg,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})})}),n.jsx(gr,{to:"/registrar",className:"flex-1",children:n.jsx(ye,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-medical-primary/20 bg-white/90 text-medical-primary font-semibold shadow-lg hover:bg-medical-primary/5 hover:border-medical-primary/40 hover:shadow-xl hover:scale-105 transition-all duration-300",children:"Criar Conta"})})]})})]})})]})})]})}function bX(){var M,U,I,_,W,Q,K,X,R,re;const[e,r]=w.useState(!1),[t,a]=w.useState("none"),{toast:s}=Ma();Xn();const{setActiveRole:i,setUserPermissions:o}=Wl(),l=((M=Xr.getCurrentUser)==null?void 0:M.call(Xr))||null,d=`medicoApplicationStatus:${l&&(l.id||l.pk||l.email||l.username)||"anon"}`;w.useEffect(()=>{try{const $=localStorage.getItem("medicoApplicationStatus");$&&!localStorage.getItem(d)&&(localStorage.setItem(d,$),localStorage.removeItem("medicoApplicationStatus"));const V=JSON.parse(localStorage.getItem(d)||"{}");V!=null&&V.status&&a(V.status)}catch{}},[d]);const[f,h]=w.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),m=$=>String($||"").replace(/\D/g,"").slice(0,7),p=$=>{const{name:V,value:Z}=$.target,ie=V==="crm"?m(Z):Z;h({...f,[V]:ie})},x=($,V)=>{h({...f,[$]:V})},v=($,V)=>{h({...f,documentos:{...f.documentos,[$]:V}})},b=w.useRef(null),N=w.useRef(null),B=w.useRef(null),S=($,V)=>{h(Z=>({...Z,documentos:{...Z.documentos,[$]:null}})),V!=null&&V.current&&(V.current.value="")},F=async $=>{var V,Z,ie,ue;if($.preventDefault(),r(!0),!((V=f.documentos)!=null&&V.diplomaMedicina)){s({title:"Arquivo obrigatrio",description:"Anexe o Diploma de Medicina antes de enviar.",variant:"destructive"}),r(!1);return}try{const{solicitacaoService:E}=await il(async()=>{const{solicitacaoService:P}=await Promise.resolve().then(()=>AL);return{solicitacaoService:P}},void 0);await E.criarSolicitacaoMedico(f),a("pending"),localStorage.setItem(d,JSON.stringify({status:"pending",at:new Date().toISOString()})),o(P=>({...P,medicoStatus:"pending"})),s({title:"Solicitao enviada!",description:"Sua solicitao para se tornar mdico foi enviada para anlise."})}catch(E){const P=(Z=E==null?void 0:E.response)==null?void 0:Z.status;if(P===404)a("pending"),localStorage.setItem(d,JSON.stringify({status:"pending",at:new Date().toISOString(),simulated:!0})),o(Y=>({...Y,medicoStatus:"pending"})),s({title:"Solicitao registrada (modo teste)",description:"Sem endpoint de backend disponvel. Status salvo localmente."});else if(P===405){const Y=((ie=E==null?void 0:E.config)==null?void 0:ie.url)||"(desconhecido)";console.warn("Endpoint no aceita POST (405). URL usada:",Y),s({title:"Mtodo no permitido (405)",description:`O backend no aceita POST neste endpoint: ${Y}. Verifique a varivel de ambiente do endpoint de solicitaes do mdico ou me informe a rota correta de criao.`,variant:"destructive"})}else{const Y=(ue=E==null?void 0:E.response)==null?void 0:ue.data;console.error("[MedicoRegistration] criarSolicitacaoMedico falhou:",E,Y),s({title:"Erro ao enviar",description:typeof Y=="string"?Y:"No foi possvel enviar a solicitao. Verifique os campos e tente novamente.",variant:"destructive"})}}finally{r(!1)}},L=()=>{switch(t){case"pending":return n.jsxs(sr,{variant:"outline",className:"badge-medical-warning",children:[n.jsx(Ur,{className:"mr-1 h-3 w-3"}),"Aguardando Aprovao"]});case"approved":return n.jsxs(sr,{variant:"outline",className:"badge-medical-success",children:[n.jsx(ns,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return n.jsxs(sr,{variant:"outline",className:"badge-medical-error",children:[n.jsx(ss,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}};return t==="approved"?n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5 text-green-600"}),n.jsx(Ze,{className:"text-green-700",children:"Parabns! Voc  um mdico aprovado"})]}),n.jsx(Ar,{children:"Sua solicitao foi aprovada. Agora voc pode acessar todas as funcionalidades mdicas."})]}),n.jsx(De,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Voc agora pode alternar entre os perfis de paciente e mdico usando o boto no menu lateral."})}),n.jsx(ye,{className:"w-full",children:"Acessar rea Mdica"})]})})]}):t==="pending"?n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5"}),n.jsx(Ze,{children:"Solicitao de Cadastro Mdico"})]}),L()]}),n.jsx(Ar,{children:"Sua solicitao est sendo analisada pela equipe administrativa."})]}),n.jsx(De,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[n.jsx("strong",{children:"Status:"})," Aguardando aprovao",n.jsx("br",{}),n.jsx("strong",{children:"Enviado em:"})," ",new Date().toLocaleDateString(),n.jsx("br",{}),n.jsx("strong",{children:"Tempo estimado:"})," 2-5 dias teis"]})}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc receber um email quando sua solicitao for processada. Enquanto isso, voc pode continuar usando o sistema como paciente."})]})})]}):t==="rejected"?n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5"}),n.jsx(Ze,{children:"Solicitao de Cadastro Mdico"})]}),L()]}),n.jsx(Ar,{children:"Sua solicitao foi rejeitada. Veja os motivos abaixo."})]}),n.jsx(De,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[n.jsx("strong",{children:"Motivos da rejeio:"}),n.jsx("br",{})," Documentao incompleta",n.jsx("br",{})," CRM no encontrado no sistema do CFM",n.jsx("br",{})," Informaes inconsistentes"]})}),n.jsx(ye,{variant:"outline",className:"w-full bg-transparent",onClick:()=>a("none"),children:"Enviar Nova Solicitao"})]})})]}):n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5"}),n.jsx(Ze,{children:"Cadastro como Mdico"})]}),n.jsx(Ar,{children:"Preencha os dados abaixo para solicitar acesso s funcionalidades mdicas"})]}),n.jsx(De,{children:n.jsxs("form",{onSubmit:F,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Dados Profissionais"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"crm",children:"CRM *"}),n.jsx(Ge,{id:"crm",name:"crm",placeholder:"Ex: CRM/SP 123456",value:f.crm,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"especialidade",children:"Especialidade *"}),n.jsxs(zr,{onValueChange:$=>x("especialidade",$),children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Selecione sua especialidade"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"clinica-geral",children:"Clnica Geral"}),n.jsx(at,{value:"cardiologia",children:"Cardiologia"}),n.jsx(at,{value:"dermatologia",children:"Dermatologia"}),n.jsx(at,{value:"endocrinologia",children:"Endocrinologia"}),n.jsx(at,{value:"ginecologia",children:"Ginecologia"}),n.jsx(at,{value:"neurologia",children:"Neurologia"}),n.jsx(at,{value:"ortopedia",children:"Ortopedia"}),n.jsx(at,{value:"pediatria",children:"Pediatria"}),n.jsx(at,{value:"psiquiatria",children:"Psiquiatria"}),n.jsx(at,{value:"urologia",children:"Urologia"}),n.jsx(at,{value:"outras",children:"Outras"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Formao Acadmica"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"instituicaoFormacao",children:"Instituio de Formao *"}),n.jsx(Ge,{id:"instituicaoFormacao",name:"instituicaoFormacao",placeholder:"Ex: USP, UNIFESP, etc.",value:f.instituicaoFormacao,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"anoFormacao",children:"Ano de Formao *"}),n.jsx(Ge,{id:"anoFormacao",name:"anoFormacao",type:"number",placeholder:"Ex: 2015",min:"1950",max:new Date().getFullYear(),value:f.anoFormacao,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"residencia",children:"Residncia Mdica"}),n.jsx(Ge,{id:"residencia",name:"residencia",placeholder:"Ex: Cardiologia",value:f.residencia,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"instituicaoResidencia",children:"Instituio da Residncia"}),n.jsx(Ge,{id:"instituicaoResidencia",name:"instituicaoResidencia",placeholder:"Ex: Hospital das Clnicas",value:f.instituicaoResidencia,onChange:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"anoResidencia",children:"Ano de Concluso da Residncia"}),n.jsx(Ge,{id:"anoResidencia",name:"anoResidencia",type:"number",placeholder:"Ex: 2018",min:"1950",max:new Date().getFullYear(),value:f.anoResidencia,onChange:p})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Experincia Profissional"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"experiencia",children:"Descreva sua experincia profissional *"}),n.jsx(aa,{id:"experiencia",name:"experiencia",placeholder:"Descreva onde trabalhou, por quanto tempo, principais atividades...",className:"min-h-[100px]",value:f.experiencia,onChange:p,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"motivacao",children:"Por que deseja usar nossa plataforma? *"}),n.jsx(aa,{id:"motivacao",name:"motivacao",placeholder:"Conte-nos sobre suas motivaes e como pretende usar a plataforma...",className:"min-h-[100px]",value:f.motivacao,onChange:p,required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Documentos Obrigatrios"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Diploma de Medicina *"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var $;return($=b.current)==null?void 0:$.click()},onDragOver:$=>$.preventDefault(),onDrop:$=>{var Z;$.preventDefault();const V=(Z=$.dataTransfer.files)==null?void 0:Z[0];V&&v("diplomaMedicina",V)},children:[n.jsx(xg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(U=f.documentos)!=null&&U.diplomaMedicina?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(I=f.documentos)!=null&&I.diplomaMedicina?f.documentos.diplomaMedicina.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Ge,{ref:b,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:$=>v("diplomaMedicina",$.target.files[0])}),((_=f.documentos)==null?void 0:_.diplomaMedicina)&&n.jsx("div",{className:"mt-2",children:n.jsx(ye,{type:"button",variant:"ghost",size:"sm",onClick:()=>S("diplomaMedicina",b),children:"Remover arquivo"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Certificado de Residncia (se aplicvel)"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var $;return($=N.current)==null?void 0:$.click()},onDragOver:$=>$.preventDefault(),onDrop:$=>{var Z;$.preventDefault();const V=(Z=$.dataTransfer.files)==null?void 0:Z[0];V&&v("certificadoResidencia",V)},children:[n.jsx(xg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(W=f.documentos)!=null&&W.certificadoResidencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(Q=f.documentos)!=null&&Q.certificadoResidencia?f.documentos.certificadoResidencia.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Ge,{ref:N,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:$=>v("certificadoResidencia",$.target.files[0])}),((K=f.documentos)==null?void 0:K.certificadoResidencia)&&n.jsx("div",{className:"mt-2",children:n.jsx(ye,{type:"button",variant:"ghost",size:"sm",onClick:()=>S("certificadoResidencia",N),children:"Remover arquivo"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Comprovante de Experincia"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var $;return($=B.current)==null?void 0:$.click()},onDragOver:$=>$.preventDefault(),onDrop:$=>{var Z;$.preventDefault();const V=(Z=$.dataTransfer.files)==null?void 0:Z[0];V&&v("comprovanteExperiencia",V)},children:[n.jsx(xg,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:(X=f.documentos)!=null&&X.comprovanteExperiencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(R=f.documentos)!=null&&R.comprovanteExperiencia?f.documentos.comprovanteExperiencia.name:"PDF, JPG ou PNG at 5MB"}),n.jsx(Ge,{ref:B,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:$=>v("comprovanteExperiencia",$.target.files[0])}),((re=f.documentos)==null?void 0:re.comprovanteExperiencia)&&n.jsx("div",{className:"mt-2",children:n.jsx(ye,{type:"button",variant:"ghost",size:"sm",onClick:()=>S("comprovanteExperiencia",B),children:"Remover arquivo"})})]})]})]})]}),n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[n.jsx("strong",{children:"Importante:"})," Sua solicitao ser analisada por nossa equipe administrativa. O processo pode levar de 2 a 5 dias teis. Voc receber um email com o resultado da anlise."]})}),n.jsx(ye,{type:"submit",className:"w-full",disabled:e,children:e?"Enviando solicitao...":"Enviar Solicitao"})]})})]})}var jx="Switch",[NX,FZ]=ul(jx),[jX,BX]=NX(jx),rk=w.forwardRef((e,r)=>{const{__scopeSwitch:t,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:A="on",onCheckedChange:d,form:f,...h}=e,[m,p]=w.useState(null),x=ua(r,S=>p(S)),v=w.useRef(!1),b=m?f||!!m.closest("form"):!0,[N,B]=nd({prop:s,defaultProp:i??!1,onChange:d,caller:jx});return n.jsxs(jX,{scope:t,checked:N,disabled:l,children:[n.jsx(Nr.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":ik(N),"data-disabled":l?"":void 0,disabled:l,value:A,...h,ref:x,onClick:Ut(e.onClick,S=>{B(F=>!F),b&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),b&&n.jsx(sk,{control:m,bubbles:!v.current,name:a,value:A,checked:N,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});rk.displayName=jx;var ak="SwitchThumb",nk=w.forwardRef((e,r)=>{const{__scopeSwitch:t,...a}=e,s=BX(ak,t);return n.jsx(Nr.span,{"data-state":ik(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});nk.displayName=ak;var CX="SwitchBubbleInput",sk=w.forwardRef(({__scopeSwitch:e,control:r,checked:t,bubbles:a=!0,...s},i)=>{const o=w.useRef(null),l=ua(o,i),A=TE(t),d=R4(r);return w.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(A!==t&&p){const x=new Event("click",{bubbles:a});p.call(f,t),f.dispatchEvent(x)}},[A,t,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});sk.displayName=CX;function ik(e){return e?"checked":"unchecked"}var ok=rk,SX=nk;const qh=w.forwardRef(({className:e,...r},t)=>n.jsx(ok,{className:st("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:t,children:n.jsx(SX,{className:st("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qh.displayName=ok.displayName;const Yd={CLASSIC:"classic",MODERN:"modern",MINIMAL:"minimal",CUSTOM:"custom"},ki={type:Yd.CLASSIC,layout:{pageSize:"A4",orientation:"portrait",margins:{top:50,bottom:50,left:50,right:50}},header:{showLogo:!0,logoPosition:"left",logoSize:{width:80,height:80},showDoctorInfo:!0,doctorInfoPosition:"right",backgroundColor:"#ffffff",borderBottom:!0,borderColor:"#e5e7eb"},content:{fontSize:{title:16,subtitle:14,body:12,small:10},fontFamily:"Helvetica",colors:{primary:"#1f2937",secondary:"#6b7280",accent:"#3b82f6"},spacing:{sectionGap:20,lineHeight:1.5}},footer:{showSignature:!0,showDate:!0,showPageNumber:!1,customText:"",backgroundColor:"#ffffff",borderTop:!0,borderColor:"#e5e7eb"},branding:{primaryColor:"#3b82f6",secondaryColor:"#6b7280",logoUrl:null,clinicName:"",clinicAddress:"",clinicPhone:"",clinicEmail:""}},T5={[Yd.CLASSIC]:{...ki,name:"Clssico",description:"Layout tradicional com cabealho formal",preview:"/templates/classic-preview.png"},[Yd.MODERN]:{...ki,type:Yd.MODERN,name:"Moderno",description:"Design contemporneo com elementos visuais modernos",header:{...ki.header,backgroundColor:"#f8fafc",logoPosition:"center"},content:{...ki.content,colors:{primary:"#0f172a",secondary:"#475569",accent:"#0ea5e9"}},branding:{...ki.branding,primaryColor:"#0ea5e9"},preview:"/templates/modern-preview.png"},[Yd.MINIMAL]:{...ki,type:Yd.MINIMAL,name:"Minimalista",description:"Layout limpo e simples",header:{...ki.header,showLogo:!1,borderBottom:!1},content:{...ki.content,fontSize:{title:14,subtitle:12,body:11,small:9}},footer:{...ki.footer,borderTop:!1},preview:"/templates/minimal-preview.png"}},EX=(e,r)=>{try{const t=`pdf_template_config_${e}`;return localStorage.setItem(t,JSON.stringify(r)),!0}catch(t){return console.error("Erro ao salvar configurao de template:",t),!1}},_X=e=>{try{const r=`pdf_template_config_${e}`,t=localStorage.getItem(r);return t?{...ki,...JSON.parse(t)}:ki}catch(r){return console.error("Erro ao carregar configurao de template:",r),ki}},FX=(e,r)=>new Promise((t,a)=>{if(!r){t(null);return}const s=new FileReader;s.onload=i=>{try{const o=`doctor_logo_${e}`,l={data:i.target.result,name:r.name,type:r.type,size:r.size,lastModified:r.lastModified};localStorage.setItem(o,JSON.stringify(l)),t(l)}catch(o){a(o)}},s.onerror=a,s.readAsDataURL(r)}),kX=e=>{try{const r=`doctor_logo_${e}`,t=localStorage.getItem(r);return t?JSON.parse(t):null}catch(r){return console.error("Erro ao carregar logo do mdico:",r),null}},M5=e=>{try{const r=`doctor_logo_${e}`;return localStorage.removeItem(r),!0}catch(r){return console.error("Erro ao remover logo do mdico:",r),!1}},DX=e=>{var t,a,s;const r=[];return(!e.type||!Object.values(Yd).includes(e.type))&&r.push("Tipo de template invlido"),(t=e.layout)!=null&&t.pageSize||r.push("Tamanho da pgina  obrigatrio"),(!((s=(a=e.content)==null?void 0:a.fontSize)!=null&&s.body)||e.content.fontSize.body<8)&&r.push("Tamanho da fonte do corpo deve ser pelo menos 8pt"),{isValid:r.length===0,errors:r}},UX=(e,r)=>{var t,a;return{...e,...r,layout:{...e.layout,...r.layout},header:{...e.header,...r.header},content:{...e.content,...r.content,fontSize:{...e.content.fontSize,...(t=r.content)==null?void 0:t.fontSize},colors:{...e.content.colors,...(a=r.content)==null?void 0:a.colors}},footer:{...e.footer,...r.footer},branding:{...e.branding,...r.branding}}},LX=e=>({...e,isPreview:!0,content:{...e.content,sampleData:{doctorName:"Dr. Joo Silva",crm:"CRM/SP 123456",specialty:"Cardiologia",patientName:"Maria Santos",date:new Date().toLocaleDateString("pt-BR"),medications:"Losartana 50mg - 1 comprimido pela manh",instructions:"Tomar com gua, preferencialmente no mesmo horrio todos os dias."}}});function IX({medicoId:e,medicoInfo:r={}}){const{toast:t}=Ma(),a=w.useRef(null),[s,i]=w.useState(ki),[o,l]=w.useState(null),[A,d]=w.useState(null),[f,h]=w.useState(!1),[m,p]=w.useState(!0);w.useEffect(()=>{if(!e)return;(async()=>{try{const M=_X(e),U=kX(e);i(M),U&&d(U.data)}catch(M){console.error("Erro ao carregar configurao:",M)}finally{p(!1)}})()},[e]);const x=(L,M)=>{i(U=>{const I={...U},_=L.split(".");let W=I;for(let Q=0;Q<_.length-1;Q++)W[_[Q]]||(W[_[Q]]={}),W=W[_[Q]];return W[_[_.length-1]]=M,I})},v=L=>{const M=T5[L];M&&(i(U=>UX(M,{branding:{...M.branding,clinicName:r.nome||U.branding.clinicName,clinicAddress:r.endereco||U.branding.clinicAddress,clinicPhone:r.telefone||U.branding.clinicPhone}})),t({title:"Template selecionado",description:`Template "${M.name}" aplicado com sucesso.`}))},b=L=>{var I;const M=(I=L.target.files)==null?void 0:I[0];if(!M)return;if(!M.type.startsWith("image/")){t({title:"Arquivo invlido",description:"Por favor, selecione uma imagem vlida.",variant:"destructive"});return}if(M.size>2*1024*1024){t({title:"Arquivo muito grande",description:"O logo deve ter no mximo 2MB.",variant:"destructive"});return}l(M);const U=new FileReader;U.onload=_=>{d(_.target.result)},U.readAsDataURL(M)},N=()=>{l(null),d(null),e&&M5(e),x("header.showLogo",!1),t({title:"Logo removido",description:"O logo foi removido do template."})},B=async()=>{if(!e){t({title:"Erro",description:"ID do mdico no encontrado.",variant:"destructive"});return}h(!0);try{const L=DX(s);if(!L.isValid){t({title:"Configurao invlida",description:L.errors.join(", "),variant:"destructive"});return}if(o&&(await FX(e,o),x("header.showLogo",!0)),EX(e,s))t({title:"Configurao salva",description:"Suas configuraes de template foram salvas com sucesso."});else throw new Error("Falha ao salvar configurao")}catch(L){console.error("Erro ao salvar:",L),t({title:"Erro ao salvar",description:"No foi possvel salvar as configuraes.",variant:"destructive"})}finally{h(!1)}},S=()=>{i(ki),l(null),d(null),e&&M5(e),t({title:"Configurao resetada",description:"As configuraes foram restauradas para o padro."})},F=()=>{const L=LX(s);console.log("Preview config:",L),t({title:"Preview gerado",description:"Verifique o console para ver a configurao de preview."})};return m?n.jsx(_e,{children:n.jsx(De,{className:"p-6",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):n.jsx("div",{className:"space-y-6",children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-5 w-5"}),"Configurao de Templates de PDF"]}),n.jsx(Ar,{children:"Personalize o layout e aparncia das suas receitas mdicas em PDF"})]}),n.jsxs(De,{children:[n.jsxs(Ii,{defaultValue:"templates",className:"space-y-6",children:[n.jsxs(Pi,{className:"grid w-full grid-cols-4",children:[n.jsxs(kr,{value:"templates",className:"flex items-center gap-2",children:[n.jsx(QL,{className:"h-4 w-4"}),"Templates"]}),n.jsxs(kr,{value:"branding",className:"flex items-center gap-2",children:[n.jsx(sN,{className:"h-4 w-4"}),"Identidade"]}),n.jsxs(kr,{value:"layout",className:"flex items-center gap-2",children:[n.jsx(im,{className:"h-4 w-4"}),"Layout"]}),n.jsxs(kr,{value:"colors",className:"flex items-center gap-2",children:[n.jsx(TC,{className:"h-4 w-4"}),"Cores"]})]}),n.jsx(Rr,{value:"templates",className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(T5).map(([L,M])=>n.jsx(_e,{className:`cursor-pointer transition-all hover:shadow-md ${s.type===L?"ring-2 ring-primary":""}`,onClick:()=>v(L),children:n.jsxs(De,{className:"p-4",children:[n.jsx("div",{className:"aspect-[3/4] bg-gray-100 rounded-lg mb-3 flex items-center justify-center",children:n.jsx(Ta,{className:"h-8 w-8 text-gray-400"})}),n.jsx("h3",{className:"font-semibold",children:M.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:M.description}),s.type===L&&n.jsx(sr,{className:"mt-2",children:"Selecionado"})]})},L))})}),n.jsx(Rr,{value:"branding",className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Le,{className:"text-base font-semibold",children:"Logo da Clnica"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Adicione o logo da sua clnica que aparecer no cabealho das receitas"}),n.jsxs("div",{className:"flex items-center gap-4",children:[A?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:A,alt:"Logo preview",className:"w-20 h-20 object-contain border rounded-lg"}),n.jsx(ye,{size:"sm",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:N,children:""})]}):n.jsx("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:n.jsx(sN,{className:"h-8 w-8 text-gray-400"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ye,{variant:"outline",onClick:()=>{var L;return(L=a.current)==null?void 0:L.click()},className:"flex items-center gap-2",children:[n.jsx(xg,{className:"h-4 w-4"}),A?"Alterar Logo":"Adicionar Logo"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG at 2MB"})]})]}),n.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:b,className:"hidden"})]}),n.jsx(ws,{}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"clinicName",children:"Nome da Clnica"}),n.jsx(Ge,{id:"clinicName",value:s.branding.clinicName,onChange:L=>x("branding.clinicName",L.target.value),placeholder:"Nome da sua clnica"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"clinicPhone",children:"Telefone"}),n.jsx(Ge,{id:"clinicPhone",value:s.branding.clinicPhone,onChange:L=>x("branding.clinicPhone",L.target.value),placeholder:"(11) 99999-9999"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Le,{htmlFor:"clinicAddress",children:"Endereo"}),n.jsx(aa,{id:"clinicAddress",value:s.branding.clinicAddress,onChange:L=>x("branding.clinicAddress",L.target.value),placeholder:"Endereo completo da clnica",rows:2})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"clinicEmail",children:"E-mail"}),n.jsx(Ge,{id:"clinicEmail",type:"email",value:s.branding.clinicEmail,onChange:L=>x("branding.clinicEmail",L.target.value),placeholder:"contato@clinica.com"})]})]})]})}),n.jsxs(Rr,{value:"layout",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Configuraes da Pgina"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Tamanho da Pgina"}),n.jsxs(zr,{value:s.layout.pageSize,onValueChange:L=>x("layout.pageSize",L),children:[n.jsx(Or,{children:n.jsx(qr,{})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"A4",children:"A4"}),n.jsx(at,{value:"Letter",children:"Letter"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Orientao"}),n.jsxs(zr,{value:s.layout.orientation,onValueChange:L=>x("layout.orientation",L),children:[n.jsx(Or,{children:n.jsx(qr,{})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"portrait",children:"Retrato"}),n.jsx(at,{value:"landscape",children:"Paisagem"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Margens (px)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Superior"}),n.jsx(Ge,{type:"number",value:s.layout.margins.top,onChange:L=>x("layout.margins.top",parseInt(L.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Inferior"}),n.jsx(Ge,{type:"number",value:s.layout.margins.bottom,onChange:L=>x("layout.margins.bottom",parseInt(L.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Esquerda"}),n.jsx(Ge,{type:"number",value:s.layout.margins.left,onChange:L=>x("layout.margins.left",parseInt(L.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Direita"}),n.jsx(Ge,{type:"number",value:s.layout.margins.right,onChange:L=>x("layout.margins.right",parseInt(L.target.value)||0)})]})]})]})]}),n.jsx(ws,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Cabealho e Rodap"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Le,{children:"Mostrar Logo"}),n.jsx(qh,{checked:s.header.showLogo,onCheckedChange:L=>x("header.showLogo",L)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Le,{children:"Mostrar Informaes do Mdico"}),n.jsx(qh,{checked:s.header.showDoctorInfo,onCheckedChange:L=>x("header.showDoctorInfo",L)})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Le,{children:"Mostrar Assinatura"}),n.jsx(qh,{checked:s.footer.showSignature,onCheckedChange:L=>x("footer.showSignature",L)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Le,{children:"Mostrar Data"}),n.jsx(qh,{checked:s.footer.showDate,onCheckedChange:L=>x("footer.showDate",L)})]})]})]})]})]}),n.jsx(Rr,{value:"colors",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Cores do Texto"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Le,{className:"w-20",children:"Primria"}),n.jsx(Ge,{type:"color",value:s.content.colors.primary,onChange:L=>x("content.colors.primary",L.target.value),className:"w-16 h-10"}),n.jsx(Ge,{value:s.content.colors.primary,onChange:L=>x("content.colors.primary",L.target.value),className:"flex-1"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Le,{className:"w-20",children:"Secundria"}),n.jsx(Ge,{type:"color",value:s.content.colors.secondary,onChange:L=>x("content.colors.secondary",L.target.value),className:"w-16 h-10"}),n.jsx(Ge,{value:s.content.colors.secondary,onChange:L=>x("content.colors.secondary",L.target.value),className:"flex-1"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Le,{className:"w-20",children:"Destaque"}),n.jsx(Ge,{type:"color",value:s.content.colors.accent,onChange:L=>x("content.colors.accent",L.target.value),className:"w-16 h-10"}),n.jsx(Ge,{value:s.content.colors.accent,onChange:L=>x("content.colors.accent",L.target.value),className:"flex-1"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Tamanhos de Fonte (pt)"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Le,{className:"w-20",children:"Ttulo"}),n.jsx(Ge,{type:"number",min:"10",max:"24",value:s.content.fontSize.title,onChange:L=>x("content.fontSize.title",parseInt(L.target.value)||16),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Le,{className:"w-20",children:"Subttulo"}),n.jsx(Ge,{type:"number",min:"8",max:"20",value:s.content.fontSize.subtitle,onChange:L=>x("content.fontSize.subtitle",parseInt(L.target.value)||14),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Le,{className:"w-20",children:"Corpo"}),n.jsx(Ge,{type:"number",min:"8",max:"16",value:s.content.fontSize.body,onChange:L=>x("content.fontSize.body",parseInt(L.target.value)||12),className:"w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Le,{className:"w-20",children:"Pequeno"}),n.jsx(Ge,{type:"number",min:"6",max:"12",value:s.content.fontSize.small,onChange:L=>x("content.fontSize.small",parseInt(L.target.value)||10),className:"w-20"})]})]})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ye,{variant:"outline",onClick:F,className:"flex items-center gap-2",children:[n.jsx(ui,{className:"h-4 w-4"}),"Preview"]}),n.jsxs(ye,{variant:"outline",onClick:S,className:"flex items-center gap-2",children:[n.jsx(qL,{className:"h-4 w-4"}),"Resetar"]})]}),n.jsxs(ye,{onClick:B,disabled:f,className:"flex items-center gap-2",children:[n.jsx(hy,{className:"h-4 w-4"}),f?"Salvando...":"Salvar Configurao"]})]})]})]})})}function Pw(){const{activeRole:e}=Wl(),r=Hn(),t=r.pathname.startsWith("/paciente/"),a=r.pathname.startsWith("/medico/"),{toast:s}=Ma(),[i,o]=w.useState(!0),[l,A]=w.useState(!1),[d,f]=w.useState(null),[h,m]=w.useState(null),[p,x]=w.useState(null),[v,b]=w.useState({first_name:"",last_name:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:""}),[N,B]=w.useState({atual:"",nova:"",confirmar:""}),[S,F]=w.useState(!1),[L,M]=w.useState({email:!0,lembretes:!0,exames:!0,push:!1}),[U,I]=w.useState(!1),[_,W]=w.useState({tipo_sanguineo:"",alergias:"",condicoes_cronicas:"",contato_emergencia_nome:"",contato_emergencia_telefone:"",plano_saude:"",numero_carteirinha:"",peso:"",altura:""}),[Q,K]=w.useState(!1),X=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}],[R,re]=w.useState(!1),[$,V]=w.useState(null),[Z,ie]=w.useState(!1),[ue,E]=w.useState(!1),{ephemeralCertFile:P,setEphemeralCertFile:Y,ephemeralCertPassword:z,setEphemeralCertPassword:J}=Wl(),[q,G]=w.useState(P||null),[ne,ce]=w.useState(z||"");w.useEffect(()=>{Y(q)},[q]),w.useEffect(()=>{J(ne)},[ne]);const[pe,ve]=w.useState(null),[Pe,ke]=w.useState("Assinatura de documento mdico"),[xe,de]=w.useState("Hospital"),[wt,bt]=w.useState(!1),mt=async()=>{var $e,lt;if(!pe){s.error("Selecione um PDF para assinar.");return}if(!q){s.error("Selecione um certificado (.pfx/.p12) para assinar o PDF.");return}if(!(ne&&ne.trim())){s.error("Informe a senha do certificado (.pfx/.p12).");return}const it=new FormData;it.append("file",pe),it.append("pfx",q),it.append("certificado",q),it.append("pkcs12",q),it.append("pfx_password",ne.trim()),it.append("senha",ne.trim()),it.append("password",ne.trim()),it.append("no_persist","true"),it.append("ephemeral","true"),Pe&&it.append("reason",Pe),xe&&it.append("location",xe);try{bt(!0);const{filename:St,blob:pt}=await br.signDocumento(it,{reason:Pe,location:xe}),kt=window.URL.createObjectURL(pt),Qe=document.createElement("a");Qe.href=kt,Qe.download=St||"documento_assinado.pdf",document.body.appendChild(Qe),Qe.click(),Qe.remove(),window.URL.revokeObjectURL(kt),s.success("Documento assinado com sucesso.")}catch(St){const pt=((lt=($e=St==null?void 0:St.response)==null?void 0:$e.data)==null?void 0:lt.message)||(St==null?void 0:St.message)||"Falha ao assinar o documento.";s.error(pt)}finally{bt(!1)}};w.useEffect(()=>{let it=!0;return(async()=>{var $e;try{o(!0);const[lt,St]=await Promise.allSettled([na.getPerfil(),na.getPacienteDoUsuario()]);if(!it)return;const pt=lt.status==="fulfilled"?lt.value:null,kt=St.status==="fulfilled"?St.value:null;m(pt),x(kt),b(Qe=>({...Qe,first_name:(pt==null?void 0:pt.first_name)||"",last_name:(pt==null?void 0:pt.last_name)||"",email:(pt==null?void 0:pt.email)||"",cpf:(pt==null?void 0:pt.cpf)||"",telefone:(pt==null?void 0:pt.telefone)||"",data_nascimento:(pt==null?void 0:pt.data_nascimento)||"",endereco:typeof(pt==null?void 0:pt.endereco)=="string"?pt.endereco:pt!=null&&pt.endereco?`${pt.endereco.logradouro||""} ${pt.endereco.numero||""} ${pt.endereco.bairro||""} ${pt.endereco.cidade||""} ${pt.endereco.estado||""}`.trim():""})),W({tipo_sanguineo:(kt==null?void 0:kt.tipo_sanguineo)||"",alergias:(kt==null?void 0:kt.alergias)||"",condicoes_cronicas:(kt==null?void 0:kt.condicoes_cronicas)||"",contato_emergencia_nome:(kt==null?void 0:kt.contato_emergencia_nome)||"",contato_emergencia_telefone:(kt==null?void 0:kt.contato_emergencia_telefone)||"",plano_saude:(kt==null?void 0:kt.plano_saude)||"",numero_carteirinha:(kt==null?void 0:kt.numero_carteirinha)||"",peso:(kt==null?void 0:kt.peso)??"",altura:(kt==null?void 0:kt.altura)??""});try{const Qe=localStorage.getItem("notification_prefs");if(Qe){const Xe=JSON.parse(Qe);M(gt=>({...gt,...Xe}))}}catch{}}catch(lt){const St=($e=lt==null?void 0:lt.response)==null?void 0:$e.status;f(St===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar os dados.")}finally{it&&o(!1)}})(),()=>{it=!1}},[]),w.useEffect(()=>{a&&Et()},[a]);const qe=it=>{const{name:$e,value:lt}=it.target;b(St=>({...St,[$e]:lt}))},dt=it=>{const{name:$e,value:lt}=it.target;W(St=>({...St,[$e]:lt}))};async function ut(){var it;A(!0);try{const $e={first_name:v.first_name||"",last_name:v.last_name||"",telefone:v.telefone||"",data_nascimento:v.data_nascimento||"",endereco:v.endereco||""},lt=await na.atualizarPerfil($e);m(lt),s({title:"Perfil atualizado",description:"Suas informaes pessoais foram salvas."})}catch($e){const lt=(it=$e==null?void 0:$e.response)!=null&&it.data?JSON.stringify($e.response.data):"No foi possvel salvar o perfil.";s({title:"Erro ao salvar",description:lt,variant:"destructive"})}finally{A(!1)}}async function er(){var it;K(!0);try{const $e=await na.atualizarPaciente(_);x(lt=>({...lt||{},...$e||{}})),s({title:"Informaes do paciente salvas",description:"Dados atualizados com sucesso."})}catch($e){const lt=(it=$e==null?void 0:$e.response)!=null&&it.data?JSON.stringify($e.response.data):"No foi possvel salvar os dados do paciente.";s({title:"Erro ao salvar",description:lt,variant:"destructive"})}finally{K(!1)}}const We=async()=>{var it,$e;if(!N.nova||N.nova.length<6){s({title:"Senha invlida",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(N.nova!==N.confirmar){s({title:"Confirmao incorreta",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}F(!0);try{await Ee.post("/auth/change-password/",{old_password:N.atual,new_password:N.nova}),B({atual:"",nova:"",confirmar:""}),s({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."})}catch(lt){const pt=((it=lt==null?void 0:lt.response)==null?void 0:it.status)===404?"Endpoint de alterao de senha no encontrado. Verifique o backend.":($e=lt==null?void 0:lt.response)!=null&&$e.data?JSON.stringify(lt.response.data):"No foi possvel alterar a senha.";s({title:"Erro ao alterar senha",description:pt,variant:"destructive"})}finally{F(!1)}},Xt=it=>{M($e=>({...$e,[it]:!$e[it]}))},Vt=()=>{I(!0);try{localStorage.setItem("notification_prefs",JSON.stringify(L)),s({title:"Preferncias salvas",description:"Suas preferncias de notificao foram atualizadas."})}finally{I(!1)}};async function Et(){ie(!0);try{const it=await br.getCertificadoInfo();V(it||null)}catch{V(null)}finally{ie(!1)}}async function Pr(){var lt,St;if(!q){s({title:"Selecione um arquivo",description:"Escolha um arquivo .pfx, .p12, .crt, .cer ou .pem.",variant:"destructive"});return}const it=15*1024*1024;if(q.size>it){s({title:"Arquivo muito grande",description:"O limite  de 15MB.",variant:"destructive"});return}const $e=new FormData;$e.append("file",q),$e.append("certificado",q),$e.append("arquivo",q),$e.append("pfx",q),ne&&($e.append("password",ne),$e.append("senha",ne),$e.append("passphrase",ne),$e.append("pfx_password",ne)),$e.append("no_persist","true"),$e.append("ephemeral","true"),$e.append("save_public_only","true"),E(!0);try{const pt=await br.uploadCertificado($e);V(pt||null);const kt=pt!=null&&pt.public_cert_saved?"Certificado pblico extrado e salvo para validaes. O PFX no foi armazenado.":"Certificado processado. O PFX no foi armazenado.";s({title:"Processamento concludo",description:kt}),G(null)}catch(pt){const kt=(lt=pt==null?void 0:pt.response)==null?void 0:lt.status,Qe=(St=pt==null?void 0:pt.response)==null?void 0:St.data;s({title:"Falha no processamento",description:kt===404?"Endpoint de upload no encontrado no backend. Configure a varivel VITE_MEDICO_CERTIFICADO_ENDPOINT.":typeof Qe=="string"?Qe:"No foi possvel processar o certificado.",variant:"destructive"})}finally{E(!1),ce("")}}const _t=(()=>{const it=($==null?void 0:$.valid_to)||($==null?void 0:$.validade_fim)||($==null?void 0:$.validade)||($==null?void 0:$.valid_to_date);if(!it)return null;const $e=new Date(it);return Math.ceil(($e-new Date)/(1e3*60*60*24))})(),It=!!($&&($.exists??$.id??$.valid_to??$.subject)),[Bt,Nt]=w.useState({nome:"",crm:"",especialidade:"",telefone:"",endereco:""}),[Wt,Er]=w.useState(!1);w.useEffect(()=>{a&&(async()=>{var it,$e,lt,St,pt,kt,Qe,Xe,gt,Mt,Gt,ir;try{const et=await br.getPerfil();if(!et)return;const Ct=(et==null?void 0:et.nome)||((it=et==null?void 0:et.user)!=null&&it.first_name||($e=et==null?void 0:et.user)!=null&&$e.last_name?`${((lt=et==null?void 0:et.user)==null?void 0:lt.first_name)||""} ${((St=et==null?void 0:et.user)==null?void 0:St.last_name)||""}`.trim():((pt=et==null?void 0:et.user)==null?void 0:pt.nome)||((kt=et==null?void 0:et.user)==null?void 0:kt.name)||"")||"",or=(et==null?void 0:et.crm)||(et==null?void 0:et.crm_numero)||(et==null?void 0:et.crm_registro)||((Qe=et==null?void 0:et.user)==null?void 0:Qe.crm)||"";let mr="";typeof(et==null?void 0:et.especialidade)=="string"?mr=et.especialidade:et!=null&&et.especialidade&&typeof et.especialidade=="object"&&(mr=et.especialidade.nome||et.especialidade.label||et.especialidade.titulo||"");const lr=(et==null?void 0:et.telefone)||(et==null?void 0:et.celular)||((Xe=et==null?void 0:et.user)==null?void 0:Xe.phone)||((gt=et==null?void 0:et.user)==null?void 0:gt.telefone)||((Mt=et==null?void 0:et.contato)==null?void 0:Mt.telefone)||"";let Cr=(et==null?void 0:et.endereco)||((Gt=et==null?void 0:et.user)==null?void 0:Gt.endereco)||((ir=et==null?void 0:et.clinica)==null?void 0:ir.endereco)||"",cr="";typeof Cr=="string"?cr=Cr:Cr&&typeof Cr=="object"&&(cr=`${Cr.logradouro||Cr.rua||""} ${Cr.numero||""} ${Cr.bairro||""} ${Cr.cidade||""} ${Cr.estado||""}`.trim()),Nt({nome:Ct,crm:or,especialidade:mr,telefone:lr,endereco:cr})}catch{}})()},[a]);const Ft=it=>{const{name:$e,value:lt}=it.target;Nt(St=>({...St,[$e]:lt}))},xr=async()=>{var it;Er(!0);try{const $e={telefone:Bt.telefone||"",endereco:Bt.endereco||"",especialidade:Bt.especialidade||""},lt=await br.updatePerfilMedico($e);if(lt){const St=lt.telefone||lt.celular||Bt.telefone;let pt=lt.endereco||Bt.endereco;pt&&typeof pt=="object"&&(pt=`${pt.logradouro||pt.rua||""} ${pt.numero||""} ${pt.bairro||""} ${pt.cidade||""} ${pt.estado||""}`.trim());let kt=Bt.especialidade;typeof(lt==null?void 0:lt.especialidade)=="string"?kt=lt.especialidade:lt!=null&&lt.especialidade&&typeof lt.especialidade=="object"&&(kt=lt.especialidade.nome||lt.especialidade.label||lt.especialidade.titulo||kt),Nt(Qe=>({...Qe,telefone:St,endereco:pt,especialidade:kt}))}s({title:"Dados do mdico atualizados",description:"Telefone, endereo e especialidade foram salvos."})}catch($e){const lt=(it=$e==null?void 0:$e.response)!=null&&it.data?JSON.stringify($e.response.data):"No foi possvel salvar os dados do mdico.";s({title:"Erro ao salvar",description:lt,variant:"destructive"})}finally{Er(!1)}};return n.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informaes pessoais e preferncias da conta"})]}),t&&n.jsx(Uo,{tabs:X,basePath:"/paciente"}),!t&&e==="secretaria"&&!(p!=null&&p.id)&&n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Criar perfil de paciente"}),n.jsx(Ar,{children:"Para acessar as funcionalidades de paciente com esta conta, crie seu perfil de paciente."})]}),n.jsxs(De,{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum perfil de paciente encontrado para esta conta."}),n.jsx(ye,{onClick:async()=>{var it;re(!0);try{const $e=await na.garantirPacienteDoUsuario({});x($e),s({title:"Perfil de paciente criado",description:"Voc j pode acessar a rea do paciente."})}catch($e){const lt=(it=$e==null?void 0:$e.response)!=null&&it.data?JSON.stringify($e.response.data):"No foi possvel criar o perfil.";s({title:"Erro",description:lt,variant:"destructive"})}finally{re(!1)}},disabled:R,children:R?"Criando...":"Criar meu perfil de paciente"})]})]}),n.jsxs(Ii,{defaultValue:"perfil",className:"space-y-6",children:[n.jsxs(Pi,{className:`grid w-full ${a?"grid-cols-6":"grid-cols-3"}`,children:[n.jsxs(kr,{value:"perfil",className:"flex items-center gap-2",children:[n.jsx(jn,{className:"h-4 w-4"}),"Perfil"]}),n.jsxs(kr,{value:"seguranca",className:"flex items-center gap-2",children:[n.jsx(uy,{className:"h-4 w-4"}),"Segurana"]}),n.jsxs(kr,{value:"notificacoes",className:"flex items-center gap-2",children:[n.jsx(sm,{className:"h-4 w-4"}),"Notificaes"]}),a&&n.jsxs(n.Fragment,{children:[n.jsxs(kr,{value:"certificado",className:"flex items-center gap-2",children:[n.jsx(Xs,{className:"h-4 w-4"}),"Certificado Digital"]}),n.jsxs(kr,{value:"dados_medico",className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-4 w-4"}),"Dados do Mdico"]}),n.jsxs(kr,{value:"templates_pdf",className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-4 w-4"}),"Templates PDF"]})]})]}),n.jsx(Rr,{value:"perfil",children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Informaes Pessoais"}),n.jsx(Ar,{children:"Atualize suas informaes pessoais e de contato"})]}),n.jsx(De,{className:"space-y-6",children:i?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):d?n.jsx("p",{className:"text-destructive",children:d}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"first_name",children:"Nome"}),n.jsx(Ge,{id:"first_name",name:"first_name",value:v.first_name,onChange:qe})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"last_name",children:"Sobrenome"}),n.jsx(Ge,{id:"last_name",name:"last_name",value:v.last_name,onChange:qe})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"email",children:"Email"}),n.jsx(Ge,{id:"email",name:"email",value:v.email,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"cpf",children:"CPF"}),n.jsx(Ge,{id:"cpf",name:"cpf",value:v.cpf,disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Ge,{id:"telefone",name:"telefone",value:v.telefone,onChange:qe})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"data_nascimento",children:"Data de Nascimento"}),n.jsx(_s,{id:"data_nascimento",name:"data_nascimento",value:v.data_nascimento||"",onChange:it=>qe({target:{name:"data_nascimento",value:it}}),maxDate:new Date})]})]}),n.jsx(ws,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"endereco",children:"Endereo"}),n.jsx(aa,{id:"endereco",name:"endereco",placeholder:"Rua, nmero, bairro, cidade, estado",value:v.endereco,onChange:qe})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ye,{onClick:ut,disabled:l,children:l?"Salvando...":"Salvar Alteraes"})}),n.jsx(ws,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Mais Informaes do Paciente"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Esses dados ajudam mdicos a entender melhor seu histrico."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"tipo_sanguineo",children:"Tipo Sanguneo"}),n.jsx(Ge,{id:"tipo_sanguineo",name:"tipo_sanguineo",value:_.tipo_sanguineo,onChange:dt,placeholder:"Ex.: O+, A-, B+, AB+"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"plano_saude",children:"Plano de Sade"}),n.jsx(Ge,{id:"plano_saude",name:"plano_saude",value:_.plano_saude,onChange:dt})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"numero_carteirinha",children:"Nmero da Carteirinha"}),n.jsx(Ge,{id:"numero_carteirinha",name:"numero_carteirinha",value:_.numero_carteirinha,onChange:dt})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"contato_emergencia_nome",children:"Contato de Emergncia (Nome)"}),n.jsx(Ge,{id:"contato_emergencia_nome",name:"contato_emergencia_nome",value:_.contato_emergencia_nome,onChange:dt})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"contato_emergencia_telefone",children:"Contato de Emergncia (Telefone)"}),n.jsx(Ge,{id:"contato_emergencia_telefone",name:"contato_emergencia_telefone",value:_.contato_emergencia_telefone,onChange:dt})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"peso",children:"Peso (kg)"}),n.jsx(Ge,{id:"peso",name:"peso",type:"number",step:"0.1",value:_.peso,onChange:dt})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"altura",children:"Altura (cm)"}),n.jsx(Ge,{id:"altura",name:"altura",type:"number",step:"0.1",value:_.altura,onChange:dt})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Le,{htmlFor:"alergias",children:"Alergias"}),n.jsx(aa,{id:"alergias",name:"alergias",rows:3,value:_.alergias,onChange:dt,placeholder:"Ex.: Dipirona, poeira, frutos do mar"})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Le,{htmlFor:"condicoes_cronicas",children:"Condies Crnicas"}),n.jsx(aa,{id:"condicoes_cronicas",name:"condicoes_cronicas",rows:3,value:_.condicoes_cronicas,onChange:dt,placeholder:"Ex.: Hipertenso, Diabetes, Asma"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ye,{onClick:er,disabled:Q,variant:"outline",children:Q?"Salvando...":"Salvar Informaes do Paciente"})})]})]})})]})}),n.jsx(Rr,{value:"seguranca",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Alterar Senha"}),n.jsx(Ar,{children:"Mantenha sua conta segura com uma senha forte"})]}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"senha-atual",children:"Senha Atual"}),n.jsx(Ge,{id:"senha-atual",type:"password",value:N.atual,onChange:it=>B($e=>({...$e,atual:it.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"nova-senha",children:"Nova Senha"}),n.jsx(Ge,{id:"nova-senha",type:"password",value:N.nova,onChange:it=>B($e=>({...$e,nova:it.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"confirmar-senha",children:"Confirmar Nova Senha"}),n.jsx(Ge,{id:"confirmar-senha",type:"password",value:N.confirmar,onChange:it=>B($e=>({...$e,confirmar:it.target.value}))})]}),n.jsx(ye,{onClick:We,disabled:S,children:S?"Alterando...":"Alterar Senha"})]})]}),n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Autenticao de Dois Fatores"}),n.jsx(Ar,{children:"Adicione uma camada extra de segurana  sua conta"})]}),n.jsx(De,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Autenticao de Dois Fatores"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No configurada"})]}),n.jsx(ye,{variant:"outline",disabled:!0,children:"Em breve"})]})})]})]})}),n.jsx(Rr,{value:"notificacoes",children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Preferncias de Notificao"}),n.jsx(Ar,{children:"Configure como voc deseja receber notificaes"})]}),n.jsxs(De,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Xt("email"),children:L.email?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Lembretes de Consulta"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes das consultas"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Xt("lembretes"),children:L.lembretes?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Resultados de Exames"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja notificado quando exames ficarem prontos"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Xt("exames"),children:L.exames?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Xt("push"),children:L.push?"Ativado":"Desativado"})]})]}),n.jsx(ye,{onClick:Vt,disabled:U,children:U?"Salvando...":"Salvar Preferncias"})]})]})}),a&&n.jsx(Rr,{value:"certificado",children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Configurao de Certificado Digital"}),n.jsx(Ar,{children:"Envie seu certificado (.pfx/.p12 ou .crt/.cer/.pem). O arquivo  enviado com segurana ao servidor."})]}),n.jsxs(De,{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-lg border p-4 bg-white",children:[Z?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mr-3"}),n.jsx("p",{className:"text-muted-foreground",children:"Carregando informaes do certificado..."})]}):It?n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium text-green-700",children:"Certificado cadastrado"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Titular: ",($==null?void 0:$.owner_name)||($==null?void 0:$.subject_name)||($==null?void 0:$.subject)||($==null?void 0:$.nome)||""]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitente: ",($==null?void 0:$.issuer)||($==null?void 0:$.issuer_name)||($==null?void 0:$.emitente)||""]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validade: ",($==null?void 0:$.valid_from)||($==null?void 0:$.validade_inicio)||"?","  ",($==null?void 0:$.valid_to)||($==null?void 0:$.validade_fim)||"?"]}),_t!=null&&n.jsx("p",{className:`text-sm ${_t<=0?"text-destructive":_t<30?"text-amber-600":"text-emerald-600"}`,children:_t<=0?"Expirado":`Expira em ${_t} dia(s)`})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum certificado cadastrado para este mdico."}),n.jsx("div",{className:"mt-3",children:n.jsx(ye,{variant:"outline",size:"sm",onClick:Et,disabled:Z,children:Z?"Validando...":"Validar agora"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-gray-700",children:"Arquivo do certificado"}),n.jsx(Ge,{type:"file",accept:".pfx,.p12,.crt,.cer,.pem",onChange:it=>{var $e;return G((($e=it.target.files)==null?void 0:$e[0])||null)},className:"border-gray-200 focus:border-indigo-500 focus:ring-indigo-500"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceita: .pfx, .p12, .crt, .cer, .pem. Tamanho mximo: 15MB."}),q&&n.jsxs("p",{className:"text-xs",children:["Selecionado: ",q.name," (",Math.ceil(q.size/1024)," KB)"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{className:"text-sm font-medium text-gray-700",children:"Senha do certificado (se aplicvel)"}),n.jsx(aS,{delayDuration:0,children:n.jsxs(nS,{children:[n.jsx(sS,{asChild:!0,children:n.jsx(PL,{size:16,className:"text-muted-foreground cursor-help"})}),n.jsx(Iy,{side:"top",children:"Certificados PKCS#12 (.pfx/.p12) contendo chave privada. O arquivo no  persistido."})]})}),n.jsx(Ge,{type:"password",value:ne,onChange:it=>ce(it.target.value),placeholder:"Senha do .pfx (opcional)"}),(!ne||!ne.trim())&&n.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatria para assinatura."}),ne&&ne.trim().length<4&&n.jsx("p",{className:"text-xs text-yellow-600",children:"A senha parece curta. Verifique se est correta."}),ne&&ne.trim()&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: se a senha falhar, confirme maisculas/minsculas, layout do teclado e se o certificado corresponde ao seu CRM."}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceitamos certificados no formato PKCS#12 (.pfx/.p12). A senha no  persistida e  usada somente em memria durante a assinatura."})]}),n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(ye,{onClick:Pr,disabled:ue,children:ue?"Enviando...":"Enviar Certificado"})}),n.jsx(ws,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Arquivo PDF para assinar"}),n.jsx(Ge,{type:"file",accept:".pdf",onChange:it=>{var $e;return ve((($e=it.target.files)==null?void 0:$e[0])||null)}}),pe&&n.jsxs("p",{className:"text-xs",children:["Selecionado: ",pe.name," (",Math.ceil(pe.size/1024)," KB)"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Motivo (opcional)"}),n.jsx(Ge,{value:Pe,onChange:it=>ke(it.target.value),placeholder:"Ex.: Assinatura de prescrio"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Local (opcional)"}),n.jsx(Ge,{value:xe,onChange:it=>de(it.target.value),placeholder:"Ex.: So Paulo - SP"})]})]}),n.jsx("div",{className:"flex gap-2 justify-end",children:n.jsx(ye,{onClick:mt,disabled:wt||!pe,children:wt?"Assinando...":"Assinar e Baixar"})})]})]})]})}),a&&n.jsx(Rr,{value:"dados_medico",children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Dados do Mdico"}),n.jsx(Ar,{children:"Atualize seu telefone, endereo e especialidade."})]}),n.jsxs(De,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Nome"}),n.jsx(Ge,{value:Bt.nome||"",disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"CRM"}),n.jsx(Ge,{value:Bt.crm||"",disabled:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"especialidade",children:"Especialidade"}),n.jsx(Ge,{id:"especialidade",name:"especialidade",value:Bt.especialidade||"",onChange:Ft})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Ge,{id:"telefone",name:"telefone",value:Bt.telefone||"",onChange:Ft})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(Le,{htmlFor:"endereco",children:"Endereo"}),n.jsx(aa,{id:"endereco",name:"endereco",value:Bt.endereco||"",onChange:Ft})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsx("p",{children:"Nome e CRM so gerenciados pela administrao."}),n.jsx("div",{className:"flex gap-2",children:n.jsx(ye,{onClick:xr,disabled:Wt,children:Wt?"Salvando...":"Salvar Dados do Mdico"})})]})]})]})}),a&&n.jsx(Rr,{value:"templates_pdf",children:n.jsx(IX,{medicoId:h==null?void 0:h.id,medicoInfo:Bt})}),t&&n.jsx(Rr,{value:"medico",children:n.jsx(bX,{})})]})]})})}function PX({children:e}){const{user:r,isAuthenticated:t,loading:a}=aA(),s=Hn(),{userPermissions:i}=Wl();if(a)return null;if(!t)return n.jsx(Ra,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const o=(r==null?void 0:r.role)||(r==null?void 0:r.tipo),l=(i==null?void 0:i.medicoStatus)==="approved";return o!=="medico"&&o!=="admin"&&!l?o==="paciente"?n.jsx(Ra,{to:"/paciente/perfil",replace:!0}):o==="clinica"?n.jsx(Ra,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ra,{to:"/",replace:!0}):e}function QX({children:e}){const{user:r,isAuthenticated:t,loading:a}=aA(),s=Hn();if(a)return null;if(!t)return n.jsx(Ra,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="clinica"&&i!=="admin"?i==="paciente"?n.jsx(Ra,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ra,{to:"/medico/dashboard",replace:!0}):n.jsx(Ra,{to:"/",replace:!0}):e}function RX({children:e}){const{user:r,isAuthenticated:t,loading:a}=aA(),s=Hn(),[i,o]=w.useState(!1),[l,A]=w.useState(!1);if(w.useEffect(()=>{let f=!0;async function h(){if(!t)return;if(((r==null?void 0:r.role)||(r==null?void 0:r.tipo))==="secretaria"){o(!0);try{const p=await na.getPacienteDoUsuario();if(!f)return;A(!!(p!=null&&p.id))}catch{if(!f)return;A(!1)}finally{f&&o(!1)}}}return h(),()=>{f=!1}},[t,r==null?void 0:r.role,r==null?void 0:r.tipo]),a||i)return null;if(!t)return n.jsx(Ra,{to:"/login",state:{from:s},replace:!0});if(!r)return e;const d=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return d!=="paciente"&&d!=="admin"?d==="secretaria"&&l?e:d==="medico"?n.jsx(Ra,{to:"/medico/dashboard",replace:!0}):d==="clinica"?n.jsx(Ra,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ra,{to:"/",replace:!0}):e}function TX({children:e}){const{user:r,isAuthenticated:t,loading:a}=aA(),s=Hn();if(a)return null;if(!t)return n.jsx(Ra,{to:"/login",state:{from:s},replace:!0});const i=(r==null?void 0:r.role)||(r==null?void 0:r.tipo);return i!=="admin"?i==="paciente"?n.jsx(Ra,{to:"/paciente/perfil",replace:!0}):i==="medico"?n.jsx(Ra,{to:"/medico/dashboard",replace:!0}):i==="clinica"?n.jsx(Ra,{to:"/clinica/dashboard",replace:!0}):n.jsx(Ra,{to:"/",replace:!0}):e}const Wn={async getPerfil(){const{data:e}=await Ee.get("/secretarias/me/");return e},async listarMedicos(){const{data:e}=await Ee.get("/api/medicos/");return Array.isArray(e==null?void 0:e.results)?e.results:e},async listarClinicas(){const{data:e}=await Ee.get("/clinicas/");return Array.isArray(e==null?void 0:e.results)?e.results:e},async getConsultasDoMedico(e,r={}){const t="/api/consultas/",a=e?`${t}?medico=${e}`:t,{data:s}=await Ee.get(a,{params:r});return s},async agendarConsulta(e){const r="/agendamentos/",{data:t}=await Ee.post(r,e);return t},async atualizarConsulta(e,r){const t=`/agendamentos/${e}/`,{data:a}=await Ee.patch(t,r);return a},async atualizarStatus(e,r){const t=`/agendamentos/${e}/`,{data:a}=await Ee.patch(t,{status:r});return a},async confirmarConsulta(e){const r=`/agendamentos/${e}/confirmar/`,{data:t}=await Ee.post(r);return t},async cancelarConsulta(e,r){const t=`/agendamentos/${e}/cancelar/`,{data:a}=await Ee.post(t,{motivo:r});return a},async registrarPresenca(e){const r=`/agendamentos/${e}/presenca/`,{data:t}=await Ee.post(r);return t},async registrarPaciente(e){const r="/auth/register/",t=String((e==null?void 0:e.nome)||"").trim(),[a,...s]=t.split(/\s+/),i=s.join(" "),o=String((e==null?void 0:e.email)||"").trim(),l=String((e==null?void 0:e.senha)||(e==null?void 0:e.password)||""),f={username:`${(o.split("@")[0]||a||"paciente").toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.floor(Math.random()*1e4)}`,email:o,password:l,first_name:a,last_name:i,role:"paciente",cpf:(e==null?void 0:e.cpf)||"",telefone:(e==null?void 0:e.telefone)||"",data_nascimento:(e==null?void 0:e.data_nascimento)||"",endereco:(e==null?void 0:e.endereco)||""},{data:h}=await Ee.post(r,f,{});return h}},MX=e=>{var t;const r=a=>(a==null?void 0:a.nome)||(a==null?void 0:a.titulo)||(a==null?void 0:a.name)||(a==null?void 0:a.descricao)||(a==null?void 0:a.description);if(Array.isArray(e==null?void 0:e.especialidades)&&e.especialidades.length){const a=e.especialidades.map(s=>r(s)||(typeof s=="string"?s:null)).filter(Boolean);if(a.length)return a.join(", ")}if(e!=null&&e.especialidade&&typeof e.especialidade=="object"){const a=r(e.especialidade);if(a)return a}return typeof(e==null?void 0:e.especialidade)=="string"&&e.especialidade.trim()?e.especialidade.trim():typeof(e==null?void 0:e.especialidade_nome)=="string"&&e.especialidade_nome.trim()?e.especialidade_nome.trim():typeof(e==null?void 0:e.specialty)=="string"&&e.specialty.trim()?e.specialty.trim():typeof(e==null?void 0:e.area)=="string"&&e.area.trim()?e.area.trim():typeof((t=e==null?void 0:e.user)==null?void 0:t.especialidade)=="string"&&e.user.especialidade.trim()?e.user.especialidade.trim():null};function OX(){const[e,r]=w.useState([]),[t,a]=w.useState(!0),[s,i]=w.useState(!1),[o,l]=w.useState(null),{toast:A}=Ma(),d=Xn(),[f,h]=w.useState({medico:"",modalidade:"presencial",local:"",tipo:"primeira",preferenciaData:"",preferenciaTurno:"indiferente",motivo:"",observacoes:""}),m=B=>B?typeof B=="string"?B:[B.logradouro,B.numero,B.bairro,B.cidade,B.estado].filter(Boolean).join(" ").trim()||null:null,p=B=>{var S,F,L;return(B==null?void 0:B.local_atendimento)||(B==null?void 0:B.local)||m(B==null?void 0:B.endereco)||m((S=B==null?void 0:B.user)==null?void 0:S.endereco)||m((F=B==null?void 0:B.clinica)==null?void 0:F.endereco)||((L=B==null?void 0:B.clinica)==null?void 0:L.nome)||null};w.useEffect(()=>{let B=!0;return(async()=>{a(!0),l(null);try{const S=await na.getMedicos(),F=Array.isArray(S)?S:(S==null?void 0:S.results)||[];r(F)}catch(S){console.error("Erro ao buscar mdicos:",S),l("No foi possvel carregar a lista de mdicos.")}finally{B&&a(!1)}})(),()=>{B=!1}},[]),w.useEffect(()=>{if(f.modalidade!=="presencial"){f.local&&h(F=>({...F,local:""}));return}const B=e.find(F=>{var L;return String(F.id||((L=F==null?void 0:F.user)==null?void 0:L.id))===String(f.medico)}),S=B?p(B):"";h(F=>({...F,local:S||""}))},[f.medico,f.modalidade,e]);const x=B=>S=>{const F=S!=null&&S.target?S.target.value:S;h(L=>({...L,[B]:F}))},v=()=>f.medico?f.motivo?f.modalidade==="presencial"&&!f.local?"Local do mdico no definido.":f.preferenciaData?null:"Selecione uma data preferida.":"Informe o motivo principal.":"Selecione um mdico.",b=async B=>{var F,L;B.preventDefault();const S=v();if(S){A({title:"Validao",description:S,variant:"destructive"});return}i(!0),l(null);try{const M=e.find(X=>{var R;return String(X.id||((R=X==null?void 0:X.user)==null?void 0:R.id)||(X==null?void 0:X.nome))===String(f.medico)}),U=(M==null?void 0:M.id)||((F=M==null?void 0:M.user)==null?void 0:F.id)||(Number(f.medico)?Number(f.medico):void 0);if(!U)throw new Error("No foi possvel identificar o mdico selecionado.");const I=X=>!X||X==="indiferente"||X==="manha"?"08:00":X==="tarde"?"14:00":X==="noite"?"19:00":"08:00",_=await na.getPacienteDoUsuario();if(!(_==null?void 0:_.id))throw new Error("Paciente atual no encontrado.");const Q={medico:U,modalidade:f.modalidade,tipo:f.tipo,motivo:f.motivo};f.preferenciaData&&(Q.data=f.preferenciaData);const K=I(f.preferenciaTurno);K&&(Q.hora=K),f.observacoes&&(Q.observacoes=f.observacoes),await na.agendarConsulta(Q),A({title:"Solicitao enviada",description:"Sua solicitao foi enviada  Secretaria. Aguarde confirmao."}),d("/paciente/consultas")}catch(M){const U=(L=M==null?void 0:M.response)==null?void 0:L.data;let I=typeof U=="string"&&U||(U==null?void 0:U.detail)||(M==null?void 0:M.message)||"No foi possvel enviar sua solicitao.";if(U&&typeof U=="object")try{const _=Object.entries(U).map(([W,Q])=>`${W}: ${Array.isArray(Q)?Q.join(", "):typeof Q=="object"?JSON.stringify(Q):String(Q)}`);_.length&&(I=_.join(" | "))}catch{}l(I),A({title:"Erro",description:I,variant:"destructive"})}finally{i(!1)}},N=[{label:"Resumo",href:"/paciente/perfil"},{label:"Pronturio",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histrico Mdico",href:"/paciente/historico-medico"},{label:"Mdicos Vinculados",href:"/paciente/medicos"},{label:"Configuraes",href:"/paciente/configuracoes"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Entrar em contato com o mdico"})]}),n.jsx(Uo,{tabs:N,basePath:"/paciente"}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Contato para agendamento"})}),n.jsx(De,{children:n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Mdico"}),n.jsxs(zr,{value:f.medico,onValueChange:B=>h(S=>({...S,medico:B})),disabled:t,children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:t?"Carregando...":"Selecione um mdico"})}),n.jsx(Hr,{children:e.length===0?n.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum mdico disponvel"}):e.map(B=>{var L,M,U;const S=(B==null?void 0:B.nome)||[(L=B==null?void 0:B.user)==null?void 0:L.first_name,(M=B==null?void 0:B.user)==null?void 0:M.last_name].filter(Boolean).join(" ")||(B==null?void 0:B.username)||(B==null?void 0:B.email)||`Mdico #${(B==null?void 0:B.id)||""}`,F=MX(B);return n.jsxs(at,{value:String(B.id||((U=B==null?void 0:B.user)==null?void 0:U.id)||S),children:[S,F?` - ${F}`:""]},B.id||S)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Tipo"}),n.jsxs(zr,{value:f.tipo,onValueChange:B=>h(S=>({...S,tipo:B})),children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Selecione o tipo"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"primeira",children:"Primeira consulta"}),n.jsx(at,{value:"retorno",children:"Retorno"}),n.jsx(at,{value:"rotina",children:"Rotina"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Modalidade"}),n.jsxs(zr,{value:f.modalidade,onValueChange:B=>h(S=>({...S,modalidade:B})),children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Selecione a modalidade"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"presencial",children:"Presencial"}),n.jsx(at,{value:"online",disabled:!0,children:"Online (em breve)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Local"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ge,{value:f.local,placeholder:"Rua das Flores, 123",readOnly:!0}),n.jsx(zg,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),f.modalidade==="presencial"&&n.jsx("div",{className:"text-xs text-muted-foreground",children:"O local  definido pelo mdico e preenchido automaticamente."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Preferncia de Data"}),n.jsx(_s,{id:"preferenciaData",name:"preferenciaData",value:f.preferenciaData,onChange:B=>h(S=>({...S,preferenciaData:B}))}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: ajuda a secretaria a oferecer horrios prximos."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Turno perodo"}),n.jsxs(zr,{value:f.preferenciaTurno,onValueChange:B=>h(S=>({...S,preferenciaTurno:B})),children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Selecione o perodo"})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"indiferente",children:"Indiferente"}),n.jsx(at,{value:"manha",children:"Manh"}),n.jsx(at,{value:"tarde",children:"Tarde"}),n.jsx(at,{value:"noite",children:"Noite"})]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: a secretaria tenta encaixar nesse perodo."})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Le,{children:"Motivo"}),n.jsx(Ge,{value:f.motivo,onChange:x("motivo"),placeholder:"Ex: dor, retorno de exame, etc."})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Le,{children:"Observaes"}),n.jsx(aa,{value:f.observacoes,onChange:x("observacoes"),placeholder:"Opcional"})]})]}),o&&n.jsx("div",{className:"text-sm text-red-600",children:o}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>d("/paciente/consultas"),children:"Cancelar"}),n.jsx(ye,{type:"submit",disabled:s,children:"Entrar em contato"})]})]})})]})]})}function HX(){const[e,r]=w.useState(!1),[t,a]=w.useState(""),[s,i]=w.useState([]),[o,l]=w.useState(0),[A,d]=w.useState(""),[f,h]=w.useState(1),[m]=w.useState(10);w.useEffect(()=>{let z=!0;const J=setTimeout(async()=>{r(!0),a("");try{const q={search:A||void 0,page:f,limit:m},G=await ia.getUsuarios(q),ne=Array.isArray(G==null?void 0:G.results)?G.results:Array.isArray(G)?G:[],ce=typeof(G==null?void 0:G.count)=="number"?G.count:ne.length;if(!z)return;i(ne),l(ce)}catch{if(!z)return;a("No foi possvel carregar os usurios.")}finally{z&&r(!1)}},300);return()=>{z=!1,clearTimeout(J)}},[A,f,m]);const p=w.useMemo(()=>Math.max(1,Math.ceil(o/m)),[o,m]),[x,v]=w.useState(new Set),[b,N]=w.useState(!1),[B,S]=w.useState(!1),[F,L]=w.useState(!1),[M,U]=w.useState(""),[I,_]=w.useState(null),[W,Q]=w.useState(!1),[K,X]=w.useState(!1),[R,re]=w.useState(""),[$,V]=w.useState({first_name:"",last_name:"",email:"",password:"",role:""}),Z=()=>{if(s.length===0)return;const z=s.map(q=>q==null?void 0:q.id).filter(Boolean),J=z.every(q=>x.has(q));v(J?new Set:new Set(z))},ie=z=>{z&&v(J=>{const q=new Set(J);return q.has(z)?q.delete(z):q.add(z),q})},ue=async()=>{const z=Array.from(x);if(z.length===0){window.alert("Selecione ao menos um usurio com ID vlido.");return}if(window.confirm(`Confirma excluir ${z.length} usurio(s)?`))try{N(!0),await ia.removerUsuariosEmMassa(z),v(new Set),r(!0),a("");const J={search:A||void 0,page:f,limit:m},q=await ia.getUsuarios(J),G=Array.isArray(q==null?void 0:q.results)?q.results:Array.isArray(q)?q:[],ne=typeof(q==null?void 0:q.count)=="number"?q.count:G.length;i(G),l(ne)}catch{window.alert("Falha ao excluir usurios selecionados.")}finally{N(!1),r(!1)}},E=z=>{if(!z)return;const J=z.first_name||z.firstName||"",q=z.last_name||z.lastName||"",G=z.email||"",ne=(z.role||z.tipo||"").toString().toLowerCase(),ce=z.is_active??z.ativo??!0;_({id:z.id,first_name:J,last_name:q,email:G,role:ne,is_active:ce}),U(""),S(!0)},P=async()=>{if(!(I!=null&&I.id)){U("ID do usurio indisponvel.");return}try{L(!0),U("");const z={first_name:I.first_name,last_name:I.last_name,email:I.email,role:I.role,is_active:!!I.is_active};await ia.updateUsuario(I.id,z),S(!1),r(!0),a("");const J={search:A||void 0,page:f,limit:m},q=await ia.getUsuarios(J),G=Array.isArray(q==null?void 0:q.results)?q.results:Array.isArray(q)?q:[],ne=typeof(q==null?void 0:q.count)=="number"?q.count:G.length;i(G),l(ne)}catch{U("No foi possvel salvar as alteraes.")}finally{L(!1),r(!1)}},Y=async()=>{var z;if(!$.email||!$.password||!$.role){re("Preencha e-mail, senha e tipo.");return}try{X(!0),re("");const J={first_name:$.first_name,last_name:$.last_name,email:$.email,password:$.password,role:$.role};await ia.createUsuario(J),Q(!1),V({first_name:"",last_name:"",email:"",password:"",role:""}),r(!0),a("");const q={search:A||void 0,page:f,limit:m},G=await ia.getUsuarios(q),ne=Array.isArray(G==null?void 0:G.results)?G.results:Array.isArray(G)?G:[],ce=typeof(G==null?void 0:G.count)=="number"?G.count:ne.length;i(ne),l(ce)}catch(J){const q=(z=J==null?void 0:J.response)!=null&&z.data?JSON.stringify(J.response.data):"No foi possvel criar o usurio.";re(q)}finally{X(!1),r(!1)}};return n.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usurios"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os usurios do sistema"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome, email...",value:A,onChange:z=>{h(1),d(z.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e?"Carregando...":`${o} usurio(s)`}),n.jsxs("div",{className:"ml-auto flex gap-2",children:[n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:()=>{re(""),V({first_name:"",last_name:"",email:"",password:"",role:""}),Q(!0)},disabled:e,children:"Novo usurio"}),n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-red-600 text-white disabled:opacity-50",onClick:ue,disabled:b||x.size===0||e,title:x.size===0?"Selecione usurios":"Excluir selecionados",children:b?"Excluindo...":`Excluir selecionados (${x.size})`})]})]}),t&&n.jsx("div",{className:"text-sm text-red-600",children:t}),n.jsx("div",{className:"overflow-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:n.jsx("input",{type:"checkbox",checked:s.length>0&&s.map(z=>z==null?void 0:z.id).filter(Boolean).every(z=>x.has(z)),onChange:Z})}),n.jsx("th",{className:"text-left p-3",children:"Nome"}),n.jsx("th",{className:"text-left p-3",children:"Email"}),n.jsx("th",{className:"text-left p-3",children:"Tipo"}),n.jsx("th",{className:"text-left p-3",children:"Status"}),n.jsx("th",{className:"text-left p-3",children:"Aes"})]})}),n.jsxs("tbody",{children:[s.length===0&&!e&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Nenhum usurio encontrado"})}),s.map(z=>{const J=(z==null?void 0:z.nome)||[z==null?void 0:z.first_name,z==null?void 0:z.last_name].filter(Boolean).join(" ")||(z==null?void 0:z.name)||(z==null?void 0:z.username)||"-",q=(z==null?void 0:z.email)||"-",G=(z==null?void 0:z.tipo)||(z==null?void 0:z.role)||(z==null?void 0:z.perfil)||"-",ne=(z==null?void 0:z.is_active)??(z==null?void 0:z.ativo)??(z==null?void 0:z.status)??null,ce=ne===!0?"Ativo":ne===!1?"Inativo":String(ne??"-");return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3",children:n.jsx("input",{type:"checkbox",disabled:!(z!=null&&z.id),checked:z!=null&&z.id?x.has(z.id):!1,onChange:()=>ie(z==null?void 0:z.id)})}),n.jsx("td",{className:"p-3",children:J}),n.jsx("td",{className:"p-3",children:q}),n.jsx("td",{className:"p-3 capitalize",children:String(G).toLowerCase()}),n.jsx("td",{className:"p-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${ne===!0?"bg-emerald-100 text-emerald-700":ne===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:ce})}),n.jsx("td",{className:"p-3",children:n.jsx("button",{className:"px-3 py-1 border rounded-md text-xs",onClick:()=>E(z),disabled:!(z!=null&&z.id),title:z!=null&&z.id?"Editar usurio":"ID indisponvel",children:"Editar"})})]},(z==null?void 0:z.id)||`${q}-${J}`)})]})]})}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(z=>Math.max(1,z-1)),disabled:f<=1||e,children:"Anterior"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",f," de ",p]}),n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(z=>Math.min(p,z+1)),disabled:f>=p||e,children:"Prxima"})]}),B&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar usurio"}),M&&n.jsx("div",{className:"text-sm text-red-600 mb-2",children:M}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(I==null?void 0:I.first_name)||"",onChange:z=>_(J=>({...J,first_name:z.target.value})),disabled:F})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Sobrenome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(I==null?void 0:I.last_name)||"",onChange:z=>_(J=>({...J,last_name:z.target.value})),disabled:F})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(I==null?void 0:I.email)||"",onChange:z=>_(J=>({...J,email:z.target.value})),disabled:F})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Tipo"}),n.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(I==null?void 0:I.role)||"",onChange:z=>_(J=>({...J,role:z.target.value})),disabled:F,children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"paciente",children:"Paciente"}),n.jsx("option",{value:"medico",children:"Mdico"}),n.jsx("option",{value:"clinica",children:"Clnica"}),n.jsx("option",{value:"secretaria",children:"Secretaria"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Ativo"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:!!(I!=null&&I.is_active),onChange:z=>_(J=>({...J,is_active:z.target.checked})),disabled:F}),n.jsx("span",{className:"text-sm",children:I!=null&&I.is_active?"Ativo":"Inativo"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>S(!1),disabled:F,children:"Cancelar"}),n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:P,disabled:F,children:F?"Salvando...":"Salvar"})]})]})}),W&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Novo usurio"}),R&&n.jsx("div",{className:"text-sm text-red-600 mb-2",children:R}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Nome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.first_name,onChange:z=>V(J=>({...J,first_name:z.target.value})),disabled:K})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Sobrenome"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.last_name,onChange:z=>V(J=>({...J,last_name:z.target.value})),disabled:K})]}),n.jsxs("div",{className:"space-y-1 md:col-span-2",children:[n.jsx("label",{className:"text-sm",children:"E-mail"}),n.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.email,onChange:z=>V(J=>({...J,email:z.target.value})),disabled:K})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Senha"}),n.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-md bg-background",value:$.password,onChange:z=>V(J=>({...J,password:z.target.value})),disabled:K})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm",children:"Tipo"}),n.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:$.role,onChange:z=>V(J=>({...J,role:z.target.value})),disabled:K,children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"admin",children:"Admin"}),n.jsx("option",{value:"paciente",children:"Paciente"}),n.jsx("option",{value:"medico",children:"Mdico"}),n.jsx("option",{value:"clinica",children:"Clnica"}),n.jsx("option",{value:"secretaria",children:"Secretaria"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>Q(!1),disabled:K,children:"Cancelar"}),n.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:Y,disabled:K,children:K?"Criando...":"Criar"})]})]})})]})}function KX(){const[e,r]=w.useState(!1),[t,a]=w.useState(""),[s,i]=w.useState([]),[o,l]=w.useState(0),[A,d]=w.useState(""),[f,h]=w.useState(1),[m]=w.useState(10);w.useEffect(()=>{let x=!0;const v=setTimeout(async()=>{r(!0),a("");try{const b={search:A||void 0,page:f,limit:m},N=await ia.getClinicas(b),B=Array.isArray(N==null?void 0:N.results)?N.results:Array.isArray(N)?N:[],S=typeof(N==null?void 0:N.count)=="number"?N.count:B.length;if(!x)return;i(B),l(S)}catch{if(!x)return;a("No foi possvel carregar as clnicas.")}finally{x&&r(!1)}},300);return()=>{x=!1,clearTimeout(v)}},[A,f,m]);const p=w.useMemo(()=>Math.max(1,Math.ceil(o/m)),[o,m]);return n.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clnicas"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie os cadastros de clnicas"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ...",value:A,onChange:x=>{h(1),d(x.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:e?"Carregando...":`${o} clnica(s)`})]}),t&&n.jsx("div",{className:"text-sm text-red-600",children:t}),n.jsx("div",{className:"overflow-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3",children:"Nome"}),n.jsx("th",{className:"text-left p-3",children:"CNPJ"}),n.jsx("th",{className:"text-left p-3",children:"Email"}),n.jsx("th",{className:"text-left p-3",children:"Status"})]})}),n.jsxs("tbody",{children:[s.length===0&&!e&&n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Nenhuma clnica encontrada"})}),s.map(x=>{const v=(x==null?void 0:x.razao_social)||(x==null?void 0:x.nome)||(x==null?void 0:x.name)||"-",b=(x==null?void 0:x.cnpj)||"-",N=(x==null?void 0:x.email)||(x==null?void 0:x.contato_email)||"-",B=(x==null?void 0:x.is_active)??(x==null?void 0:x.ativo)??(x==null?void 0:x.status)??null,S=B===!0?"Ativa":B===!1?"Inativa":String(B??"-");return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3",children:v}),n.jsx("td",{className:"p-3",children:b}),n.jsx("td",{className:"p-3",children:N}),n.jsx("td",{className:"p-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${B===!0?"bg-emerald-100 text-emerald-700":B===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:S})})]},(x==null?void 0:x.id)||`${v}-${b}`)})]})]})}),n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(x=>Math.max(1,x-1)),disabled:f<=1||e,children:"Anterior"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",f," de ",p]}),n.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(x=>Math.min(p,x+1)),disabled:f>=p||e,children:"Prxima"})]})]})}function $X(){const{toast:e}=Ma(),[r,t]=w.useState(!0),[a,s]=w.useState(!1),[i,o]=w.useState(""),[l,A]=w.useState({first_name:"",last_name:"",email:"",telefone:""}),[d,f]=w.useState({atual:"",nova:"",confirmar:""}),[h,m]=w.useState(!1),[p,x]=w.useState({email:!0,sistema:!0,auditoria:!0,push:!1}),[v,b]=w.useState(!1),[N,B]=w.useState(()=>localStorage.getItem("admin_lang")||"pt-BR"),S=_=>x(W=>({...W,[_]:!W[_]}));w.useEffect(()=>{let _=!0;return(async()=>{var W;try{t(!0),o("");const Q=await na.getPerfil();if(!_)return;A({first_name:(Q==null?void 0:Q.first_name)||"",last_name:(Q==null?void 0:Q.last_name)||"",email:(Q==null?void 0:Q.email)||"",telefone:(Q==null?void 0:Q.telefone)||""});try{const K=localStorage.getItem("admin_notification_prefs");K&&x(X=>({...X,...JSON.parse(K)}))}catch{}}catch(Q){if(!_)return;const K=(W=Q==null?void 0:Q.response)==null?void 0:W.status;o(K===401?"Sesso invlida. Faa login novamente.":"No foi possvel carregar seu perfil.")}finally{_&&t(!1)}})(),()=>{_=!1}},[]);const F=_=>{const{name:W,value:Q}=_.target;A(K=>({...K,[W]:Q}))},L=async()=>{var _;s(!0),o("");try{await na.atualizarPerfil({first_name:l.first_name,last_name:l.last_name,email:l.email,telefone:l.telefone}),e({title:"Perfil atualizado",description:"As informaes foram salvas com sucesso."})}catch(W){const K=((_=W==null?void 0:W.response)==null?void 0:_.status)===400?"Dados invlidos. Verifique os campos.":"No foi possvel salvar as alteraes.";o(K),e({title:"Erro",description:K,variant:"destructive"})}finally{s(!1)}},M=async()=>{if(!d.atual||!d.nova||!d.confirmar){e({title:"Validao",description:"Preencha todos os campos de senha.",variant:"destructive"});return}if(d.nova!==d.confirmar){e({title:"Validao",description:"A confirmao da nova senha no confere.",variant:"destructive"});return}m(!0);try{await new Promise(_=>setTimeout(_,600)),e({title:"Em breve",description:"Alterao de senha ser integrada ao backend.",variant:"default"}),f({atual:"",nova:"",confirmar:""})}finally{m(!1)}},U=async()=>{b(!0);try{localStorage.setItem("admin_notification_prefs",JSON.stringify(p)),e({title:"Notificaes salvas",description:"Preferncias armazenadas neste dispositivo."})}catch{e({title:"Erro",description:"No foi possvel salvar as preferncias.",variant:"destructive"})}finally{b(!1)}},I=()=>{localStorage.setItem("admin_lang",N),e({title:"Idioma atualizado",description:`Idioma definido para ${N}.`})};return n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes (Admin)"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e preferncias administrativas"})]}),n.jsxs(Ii,{defaultValue:"perfil",className:"space-y-6",children:[n.jsxs(Pi,{className:"grid w-full grid-cols-4",children:[n.jsx(kr,{value:"perfil",children:"Perfil"}),n.jsx(kr,{value:"seguranca",children:"Segurana"}),n.jsx(kr,{value:"notificacoes",children:"Notificaes"}),n.jsx(kr,{value:"sistema",children:"Sistema"})]}),n.jsx(Rr,{value:"perfil",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Informaes do Perfil"})}),n.jsxs(De,{className:"space-y-4",children:[i&&n.jsx("p",{className:"text-sm text-red-500",children:i}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"first_name",children:"Nome"}),n.jsx(Ge,{id:"first_name",name:"first_name",value:l.first_name,onChange:F,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"last_name",children:"Sobrenome"}),n.jsx(Ge,{id:"last_name",name:"last_name",value:l.last_name,onChange:F,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"email",children:"E-mail"}),n.jsx(Ge,{id:"email",name:"email",type:"email",value:l.email,onChange:F,disabled:r||a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"telefone",children:"Telefone"}),n.jsx(Ge,{id:"telefone",name:"telefone",value:l.telefone,onChange:F,disabled:r||a})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ye,{onClick:L,disabled:r||a,children:a?"Salvando...":"Salvar alteraes"})})]})]})}),n.jsx(Rr,{value:"seguranca",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Segurana"})}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"pwd_atual",children:"Senha atual"}),n.jsx(Ge,{id:"pwd_atual",type:"password",value:d.atual,onChange:_=>f(W=>({...W,atual:_.target.value})),disabled:h})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"pwd_nova",children:"Nova senha"}),n.jsx(Ge,{id:"pwd_nova",type:"password",value:d.nova,onChange:_=>f(W=>({...W,nova:_.target.value})),disabled:h})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"pwd_confirmar",children:"Confirmar nova senha"}),n.jsx(Ge,{id:"pwd_confirmar",type:"password",value:d.confirmar,onChange:_=>f(W=>({...W,confirmar:_.target.value})),disabled:h})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ye,{onClick:M,disabled:h,children:h?"Processando...":"Alterar senha"})})]})]})}),n.jsx(Rr,{value:"notificacoes",children:n.jsxs(_e,{children:[n.jsxs(ze,{children:[n.jsx(Ze,{children:"Preferncias de Notificao"}),n.jsx(Ar,{children:"Configure como voc deseja receber notificaes"})]}),n.jsxs(De,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes por Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizaes importantes por email"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>S("email"),disabled:v,children:p.email?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Eventos do Sistema"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos sobre operaes e eventos administrativos"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>S("sistema"),disabled:v,children:p.sistema?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Alteraes e Auditoria"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifique mudanas crticas e logs de auditoria"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>S("auditoria"),disabled:v,children:p.auditoria?"Ativado":"Desativado"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Notificaes Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no navegador"})]}),n.jsx(ye,{variant:"outline",size:"sm",onClick:()=>S("push"),disabled:v,children:p.push?"Ativado":"Desativado"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ye,{onClick:U,disabled:v,children:v?"Salvando...":"Salvar Preferncias"})})]})]})}),n.jsx(Rr,{value:"sistema",children:n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Sistema"})}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Tema"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Vy,{}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Alterne entre claro/escuro"})]})]}),n.jsx(ws,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Idioma"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("select",{className:"border rounded px-2 py-1",value:N,onChange:_=>B(_.target.value),children:[n.jsx("option",{value:"pt-BR",children:"Portugus (Brasil)"}),n.jsx("option",{value:"en-US",children:"English (US)"})]}),n.jsx(ye,{variant:"outline",onClick:I,children:"Aplicar"})]})]})]})]})})]})]})}function VX(){const[e,r]=w.useState([]),[t,a]=w.useState(null),[s,i]=w.useState(!0),[o,l]=w.useState(!1),[A,d]=w.useState([]),{toast:f}=Ma(),[h,m]=w.useState("todas"),[p,x]=w.useState(""),[v,b]=w.useState(!1),[N,B]=w.useState(!1),[S,F]=w.useState({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),[L,M]=w.useState(""),[U,I]=w.useState(!1),[_,W]=w.useState([]);w.useEffect(()=>{let E=!0;return(async()=>{i(!0);try{const P=await Wn.listarMedicos();if(!E)return;r(Array.isArray(P)?P:[]);const Y=localStorage.getItem("secretaria.medicoId");Y&&(P==null?void 0:P.some(J=>String(J.id)===String(Y)))?a(Y):(P==null?void 0:P.length)>0&&a(String(P[0].id))}catch(P){console.error("Erro ao carregar mdicos:",P)}finally{E&&i(!1)}})(),()=>{E=!1}},[]),w.useEffect(()=>{if(!t)return;let E=!0;return(async()=>{l(!0);try{const P=await Wn.listarConsultasHoje(t);if(!E)return;d(Array.isArray(P)?P:[]),localStorage.setItem("secretaria.medicoId",t)}catch(P){console.error("Erro ao carregar consultas:",P)}finally{E&&l(!1)}})(),()=>{E=!1}},[t]);const Q=w.useMemo(()=>e.map(E=>({value:String(E.id),label:E.nome})),[e]),K=w.useMemo(()=>{let E=A;if(h!=="todas"&&(E=E.filter(P=>P.status===h)),p.trim()){const P=p.toLowerCase();E=E.filter(Y=>{var z;return(z=Y.pacienteNome)==null?void 0:z.toLowerCase().includes(P)})}return E},[A,h,p]),X=E=>{try{const P=new Date(E);if(!isNaN(P.getTime()))return P.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof E=="string"&&/^\d{2}:\d{2}/.test(E))return E.slice(0,5)}catch{}return"-"},R=(E,P)=>{d(Y=>Y.map(z=>z.id===E?{...z,status:P}:z))},re=async E=>{try{await Wn.confirmarConsulta(E.id),R(E.id,"Confirmada"),f({title:"Consulta confirmada",description:`Paciente ${E.pacienteNome} s ${X(E.dataHora)}`})}catch{f({title:"Erro",description:"No foi possvel confirmar a consulta.",variant:"destructive"})}},$=async E=>{try{await Wn.cancelarConsulta(E.id),R(E.id,"Cancelada"),f({title:"Consulta cancelada",description:`Paciente ${E.pacienteNome} s ${X(E.dataHora)}`})}catch{f({title:"Erro",description:"No foi possvel cancelar a consulta.",variant:"destructive"})}},V=async E=>{try{await Wn.registrarPresenca(E.id),R(E.id,"Realizada"),f({title:"Presena registrada",description:`Paciente ${E.pacienteNome} s ${X(E.dataHora)}`})}catch{f({title:"Erro",description:"No foi possvel registrar a presena.",variant:"destructive"})}},Z=async E=>{if(E.preventDefault(),!S.pacienteId||!S.data||!S.hora||!t){f({title:"Erro",description:"Preencha todos os campos obrigatrios.",variant:"destructive"});return}B(!0);try{if(await Wn.agendarConsulta({pacienteId:S.pacienteId,medicoId:t,data:S.data,hora:S.hora,tipo:S.tipo,motivo:S.motivo,observacoes:S.observacoes}),f({title:"Sucesso",description:"Consulta agendada com sucesso!"}),b(!1),F({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),M(""),W([]),t){const P=await Wn.listarConsultasHoje(t);d(Array.isArray(P)?P:[])}}catch{f({title:"Erro",description:"No foi possvel agendar a consulta.",variant:"destructive"})}finally{B(!1)}},ie=async E=>{if(!E.trim()){W([]);return}I(!0);try{const P=await Wn.buscarPacientes(E);W(Array.isArray(P)?P:[])}catch(P){console.error("Erro ao buscar pacientes:",P),W([])}finally{I(!1)}};w.useEffect(()=>{const E=setTimeout(()=>ie(L),300);return()=>clearTimeout(E)},[L]);const ue=w.useMemo(()=>{const E=A.length,P=A.filter(J=>J.status==="Confirmada").length,Y=A.filter(J=>J.status==="Agendada").length,z=A.filter(J=>J.status==="Realizada").length;return{total:E,confirmadas:P,pendentes:Y,realizadas:z}},[A]);return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-8 text-white shadow-2xl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Dashboard Secretria"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie consultas e acompanhe a agenda dos mdicos."})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 min-w-fit",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(fr,{className:"h-5 w-5 text-blue-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Total"})]}),n.jsx("div",{className:"text-2xl font-bold",children:ue.total})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(_o,{className:"h-5 w-5 text-green-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Confirmadas"})]}),n.jsx("div",{className:"text-2xl font-bold text-green-300",children:ue.confirmadas})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ur,{className:"h-5 w-5 text-orange-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),n.jsx("div",{className:"text-2xl font-bold text-orange-300",children:ue.pendentes})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(di,{className:"h-5 w-5 text-purple-300"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Realizadas"})]}),n.jsx("div",{className:"text-2xl font-bold text-purple-300",children:ue.realizadas})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[n.jsx(ye,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200",asChild:!0,children:n.jsxs(gr,{to:"/secretaria/pacientes",children:[n.jsx(jn,{className:"h-4 w-4 mr-2"}),"Ver Pacientes"]})}),n.jsxs(yu,{open:v,onOpenChange:b,children:[n.jsx(rF,{asChild:!0,children:n.jsxs(ye,{className:"bg-white text-blue-600 hover:bg-blue-50 transition-all duration-200",children:[n.jsx(L0,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]})}),n.jsxs(fd,{children:[n.jsx(hd,{children:n.jsx(md,{children:"Novo agendamento"})}),n.jsxs("form",{onSubmit:Z,className:"px-6 pb-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(zr,{value:t??void 0,onValueChange:a,children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Escolha um mdico"})}),n.jsx(Hr,{children:Q.map(E=>n.jsx(at,{value:E.value,children:E.label},E.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Tipo"}),n.jsxs(zr,{value:S.tipo,onValueChange:E=>F(P=>({...P,tipo:E})),children:[n.jsx(Or,{children:n.jsx(qr,{})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"primeira",children:"Primeira consulta"}),n.jsx(at,{value:"retorno",children:"Retorno"}),n.jsx(at,{value:"urgencia",children:"Urgncia"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),n.jsx(_s,{value:S.data,onChange:E=>F(P=>({...P,data:E})),minDate:new Date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Hora"}),n.jsx(Ge,{type:"time",value:S.hora,onChange:E=>F(P=>({...P,hora:E.target.value}))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Paciente"}),n.jsx(Ge,{placeholder:"Digite o nome do paciente...",value:L,onChange:E=>M(E.target.value)}),U&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Buscando..."}),_.length>0&&n.jsx("div",{className:"mt-2 border rounded-md max-h-32 overflow-y-auto",children:_.map(E=>n.jsxs("div",{className:"p-2 hover:bg-muted cursor-pointer text-sm",onClick:()=>{F(P=>({...P,pacienteId:E.id})),M(E.nome),W([])},children:[E.nome," - ",E.cpf]},E.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Motivo"}),n.jsx(Ge,{placeholder:"Motivo da consulta",value:S.motivo,onChange:E=>F(P=>({...P,motivo:E.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Observaes"}),n.jsx(aa,{placeholder:"Observaes adicionais",value:S.observacoes,onChange:E=>F(P=>({...P,observacoes:E.target.value}))})]}),n.jsxs(bu,{children:[n.jsx(ye,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),n.jsx(ye,{type:"submit",disabled:N,children:N?"Agendando...":"Agendar"})]})]})]})]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ze,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total Consultas"}),n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(fr,{className:"h-4 w-4 text-white"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:ue.total}),n.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Consultas hoje"})]})]}),n.jsxs(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ze,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Confirmadas"}),n.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:n.jsx(_o,{className:"h-4 w-4 text-white"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:ue.confirmadas}),n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Consultas confirmadas"})]})]}),n.jsxs(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ze,{className:"text-sm font-semibold text-orange-700 dark:text-orange-300",children:"Pendentes"}),n.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:n.jsx(Ur,{className:"h-4 w-4 text-white"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-orange-900 dark:text-orange-100",children:ue.pendentes}),n.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Aguardando confirmao"})]})]}),n.jsxs(_e,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[n.jsxs(ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ze,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Realizadas"}),n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:n.jsx(di,{className:"h-4 w-4 text-white"})})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:ue.realizadas}),n.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Consultas finalizadas"})]})]})]}),n.jsxs(_e,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Mr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-slate-800",children:"Selecione o mdico"}),n.jsx(Ar,{className:"text-slate-600",children:"Visualize rapidamente as consultas de hoje do mdico selecionado."})]})]})}),n.jsx(De,{className:"p-6",children:s?n.jsx(Qr,{className:"h-10 w-72"}):n.jsx("div",{className:"w-72",children:n.jsxs(zr,{value:t??void 0,onValueChange:E=>a(E),children:[n.jsx(Or,{className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:n.jsx(qr,{placeholder:"Escolha um mdico"})}),n.jsx(Hr,{children:Q.map(E=>n.jsx(at,{value:E.value,children:E.label},E.value))})]})})})]}),n.jsxs(_e,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[n.jsx(ze,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:n.jsx("div",{className:"flex items-center justify-between gap-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(fr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ze,{className:"text-slate-800",children:"Consultas de hoje"}),n.jsx(Ar,{className:"text-slate-600",children:o?"Carregando...":`${K.length} consulta(s) encontrada(s)`})]})]})})}),n.jsxs(De,{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Ge,{placeholder:"Buscar por paciente...",value:p,onChange:E=>x(E.target.value),className:"max-w-sm bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700"})}),n.jsxs(zr,{value:h,onValueChange:m,children:[n.jsx(Or,{className:"w-48 bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:n.jsx(qr,{})}),n.jsxs(Hr,{children:[n.jsx(at,{value:"todas",children:"Todas"}),n.jsx(at,{value:"Agendada",children:"Agendadas"}),n.jsx(at,{value:"Confirmada",children:"Confirmadas"}),n.jsx(at,{value:"Realizada",children:"Realizadas"}),n.jsx(at,{value:"Cancelada",children:"Canceladas"})]})]})]}),o?n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((E,P)=>n.jsx(Qr,{className:"h-16 w-full"},P))}):K.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(fr,{className:"h-8 w-8 text-slate-400"})}),n.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhuma consulta encontrada"}),n.jsx("p",{className:"text-slate-500 text-sm",children:t?"No h consultas para o mdico selecionado hoje":"Selecione um mdico para ver as consultas"})]}):n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:n.jsxs(ec,{children:[n.jsx(tc,{children:n.jsxs(Bn,{className:"bg-slate-50 hover:bg-slate-50",children:[n.jsx(Tr,{className:"font-semibold text-slate-700",children:"Horrio"}),n.jsx(Tr,{className:"font-semibold text-slate-700",children:"Paciente"}),n.jsx(Tr,{className:"font-semibold text-slate-700",children:"Tipo"}),n.jsx(Tr,{className:"font-semibold text-slate-700",children:"Status"}),n.jsx(Tr,{className:"font-semibold text-slate-700",children:"Aes"})]})}),n.jsx(rc,{children:K.map(E=>{const P=E.status==="Agendada",Y=["Agendada","Confirmada"].includes(E.status),z=E.status==="Confirmada";return n.jsxs(Bn,{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 border-b border-slate-100",children:[n.jsx(Dr,{className:"font-medium text-slate-900",children:X(E.dataHora)}),n.jsx(Dr,{className:"text-slate-700",children:E.pacienteNome}),n.jsx(Dr,{className:"text-slate-600",children:E.tipo||"Consulta"}),n.jsx(Dr,{children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${E.status==="Confirmada"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":E.status==="Agendada"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":E.status==="Realizada"?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:E.status})}),n.jsx(Dr,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ye,{size:"sm",variant:"outline",disabled:!P,onClick:()=>re(E),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100 disabled:opacity-50",children:[n.jsx(_o,{className:"h-4 w-4 mr-1"})," Confirmar"]}),n.jsxs(ye,{size:"sm",variant:"outline",disabled:!Y,onClick:()=>$(E),className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100 disabled:opacity-50",children:[n.jsx(ss,{className:"h-4 w-4 mr-1"})," Cancelar"]}),n.jsxs(ye,{size:"sm",variant:"outline",disabled:!z,onClick:()=>V(E),className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 disabled:opacity-50",children:[n.jsx(BL,{className:"h-4 w-4 mr-1"})," Presena"]})]})})]},E.id)})})]})})]})]})]})}function zX(e={}){var i,o,l;const r=e.paciente_nome||((i=e==null?void 0:e.paciente)==null?void 0:i.nome)||((o=e==null?void 0:e.paciente)!=null&&o.user?[e.paciente.user.first_name,e.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",t=e.data_hora||e.horario||e.inicio||e.data||e.start_time||"",a=e.status||"Agendada",s=e.clinica_nome||((l=e==null?void 0:e.clinica)==null?void 0:l.nome)||e.local||"";return{id:e.id||e.consulta_id||Math.random().toString(36).slice(2),pacienteNome:r,dataHora:t,status:a,clinica:s,tipo:e.tipo||e.modalidade||"Consulta"}}function qX(){const[e,r]=w.useState([]),[t,a]=w.useState(""),[s,i]=w.useState(""),[o,l]=w.useState(""),[A,d]=w.useState(!1),[f,h]=w.useState([]);w.useEffect(()=>{let x=!0;return(async()=>{try{const v=await Wn.listarMedicos();if(!x)return;r(Array.isArray(v)?v:[]);const b=localStorage.getItem("secretaria.medicoId");b&&a(String(b))}catch{}})(),()=>{x=!1}},[]);const m=async()=>{if(!t)return h([]);d(!0);try{localStorage.setItem("secretaria.medicoId",String(t));const x={};o&&(x.date=o);const v=await br.getConsultasDoMedico({...x,medico:t}),N=(Array.isArray(v)?v:Array.isArray(v==null?void 0:v.results)?v.results:[]).map(zX);h(s?N.filter(B=>B.pacienteNome.toLowerCase().includes(s.toLowerCase())):N)}catch{h([])}finally{d(!1)}};w.useEffect(()=>{m()},[t]);const p=w.useMemo(()=>e.map(x=>{var v;return{value:String(x.id),label:x.nome||((v=x==null?void 0:x.user)==null?void 0:v.first_name)||`Mdico #${x.id}`}}),[e]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fr,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Consultas"})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5"})," Filtros"]})}),n.jsx(De,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(zr,{value:t||void 0,onValueChange:x=>a(x),children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Escolha um mdico"})}),n.jsx(Hr,{children:p.map(x=>n.jsx(at,{value:x.value,children:x.label},x.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),n.jsx(_s,{value:o,onChange:l})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar por paciente"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ge,{placeholder:"Nome do paciente",value:s,onChange:x=>i(x.target.value)}),n.jsxs(ye,{onClick:m,children:[n.jsx(is,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})]})})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Resultados"})}),n.jsx(De,{children:A?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):f.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta encontrada."}):n.jsxs(ec,{children:[n.jsx(tc,{children:n.jsxs(Bn,{children:[n.jsx(Tr,{children:"Paciente"}),n.jsx(Tr,{children:"Data/Hora"}),n.jsx(Tr,{children:"Tipo"}),n.jsx(Tr,{children:"Status"}),n.jsx(Tr,{children:"Clnica"})]})}),n.jsx(rc,{children:f.map(x=>n.jsxs(Bn,{children:[n.jsx(Dr,{children:x.pacienteNome}),n.jsx(Dr,{children:x.dataHora||""}),n.jsx(Dr,{children:x.tipo}),n.jsx(Dr,{children:x.status}),n.jsx(Dr,{children:x.clinica})]},x.id))})]})})]})]})}function O5(e={}){const r=(e==null?void 0:e.user)||{};return(e==null?void 0:e.nome)||[r.first_name,r.last_name].filter(Boolean).join(" ")||r.username||`Paciente #${(e==null?void 0:e.id)||"?"}`}function WX(){const[e,r]=w.useState([]),[t,a]=w.useState(""),[s,i]=w.useState(""),[o,l]=w.useState(!1),[A,d]=w.useState([]),{toast:f}=Ma(),[h,m]=w.useState(!1),[p,x]=w.useState(!1),[v,b]=w.useState({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""}),N=M=>{const U=String(M||"").replace(/\D/g,"").slice(0,11),I=U.slice(0,3),_=U.slice(3,6),W=U.slice(6,9),Q=U.slice(9,11);return U.length>9?`${I}.${_}.${W}-${Q}`:U.length>6?`${I}.${_}.${W}`:U.length>3?`${I}.${_}`:I},B=M=>{const{name:U,value:I}=M.target;if(U==="cpf")return b(_=>({..._,cpf:N(I)}));b(_=>({..._,[U]:I}))};w.useEffect(()=>{let M=!0;return(async()=>{try{const U=await Wn.listarMedicos();if(!M)return;r(Array.isArray(U)?U:[]);const I=localStorage.getItem("secretaria.medicoId");I&&a(String(I))}catch{}})(),()=>{M=!1}},[]);const S=async()=>{if(!t)return d([]);l(!0);try{const M=await br.getPacientesVinculados(t),U=Array.isArray(M)?M:Array.isArray(M==null?void 0:M.results)?M.results:[];d(U)}catch{d([])}finally{l(!1)}};w.useEffect(()=>{S()},[t]);const F=w.useMemo(()=>A.filter(M=>O5(M).toLowerCase().includes(s.toLowerCase())),[A,s]),L=async M=>{var U,I;if((U=M==null?void 0:M.preventDefault)==null||U.call(M),!v.nome||!v.email||!v.senha||!v.confirmSenha){f({title:"Campos obrigatrios",description:"Preencha nome, email e senha.",variant:"destructive"});return}if(v.senha!==v.confirmSenha){f({title:"Senhas no conferem",description:"A confirmao deve ser igual  senha.",variant:"destructive"});return}x(!0);try{await Wn.registrarPaciente(v),f({title:"Paciente cadastrado",description:"O paciente foi criado com sucesso. Ele aparecer na lista do mdico aps o primeiro vnculo (ex.: agendamento de consulta)."}),m(!1),b({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""})}catch(_){const W=(I=_==null?void 0:_.response)!=null&&I.data?JSON.stringify(_.response.data):(_==null?void 0:_.message)||"Falha ao cadastrar";f({title:"Erro ao cadastrar",description:W,variant:"destructive"})}finally{x(!1)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ln,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Pacientes"})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2 justify-between",children:[n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(is,{className:"h-5 w-5"})," Filtros"]}),n.jsxs(yu,{open:h,onOpenChange:m,children:[n.jsx(rF,{asChild:!0,children:n.jsxs("button",{className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[n.jsx(ad,{className:"h-4 w-4 mr-2"})," Cadastrar Paciente"]})}),n.jsxs(fd,{className:"max-w-lg",children:[n.jsxs(hd,{children:[n.jsx(md,{children:"Novo Paciente"}),n.jsx(Pm,{children:"Preencha os dados bsicos para criar a conta do paciente."})]}),n.jsxs("form",{className:"space-y-3",onSubmit:L,children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Nome completo"}),n.jsx(Ge,{name:"nome",value:v.nome,onChange:B,placeholder:"Ex.: Maria Silva"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"E-mail"}),n.jsx(Ge,{name:"email",value:v.email,onChange:B,type:"email",placeholder:"email@exemplo.com"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"CPF"}),n.jsx(Ge,{name:"cpf",value:v.cpf,onChange:B,placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Telefone"}),n.jsx(Ge,{name:"telefone",value:v.telefone,onChange:B,placeholder:"(00) 00000-0000"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Data de nascimento"}),n.jsx(_s,{name:"data_nascimento",value:v.data_nascimento,onChange:M=>B({target:{name:"data_nascimento",value:M}}),maxDate:new Date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Endereo"}),n.jsx(Ge,{name:"endereco",value:v.endereco,onChange:B,placeholder:"Rua, nmero, bairro"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Senha"}),n.jsx(Ge,{name:"senha",type:"password",value:v.senha,onChange:B})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirmar senha"}),n.jsx(Ge,{name:"confirmSenha",type:"password",value:v.confirmSenha,onChange:B})]})]}),n.jsxs(bu,{children:[n.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-2 rounded-md text-sm border mr-2",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:p,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 disabled:opacity-50",children:p?"Salvando...":"Criar"})]})]})]})]})]})}),n.jsx(De,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Mdico"}),n.jsxs(zr,{value:t||void 0,onValueChange:M=>{a(M);try{localStorage.setItem("secretaria.medicoId",String(M))}catch{}},children:[n.jsx(Or,{children:n.jsx(qr,{placeholder:"Escolha um mdico"})}),n.jsx(Hr,{children:e.map(M=>{var I,_;const U=(M==null?void 0:M.nome)||[(I=M==null?void 0:M.user)==null?void 0:I.first_name,(_=M==null?void 0:M.user)==null?void 0:_.last_name].filter(Boolean).join(" ")||`Mdico #${M==null?void 0:M.id}`;return n.jsx(at,{value:String(M.id),children:U},M.id)})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar"}),n.jsx(Ge,{placeholder:"Nome do paciente",value:s,onChange:M=>i(M.target.value)})]}),n.jsx("div",{className:"flex items-end gap-2",children:n.jsxs("button",{onClick:S,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[n.jsx(Mr,{className:"h-4 w-4 mr-2"})," Buscar"]})})]})})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Lista"})}),n.jsx(De,{children:o?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):F.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum paciente encontrado."}):n.jsxs(ec,{children:[n.jsx(tc,{children:n.jsxs(Bn,{children:[n.jsx(Tr,{children:"Nome"}),n.jsx(Tr,{children:"Contato"})]})}),n.jsx(rc,{children:F.map(M=>{var U,I;return n.jsxs(Bn,{children:[n.jsx(Dr,{children:O5(M)}),n.jsxs(Dr,{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx(zc,{className:"inline h-4 w-4 mr-1"})," ",((U=M==null?void 0:M.user)==null?void 0:U.phone)||""]}),n.jsxs("div",{children:[n.jsx(ol,{className:"inline h-4 w-4 mr-1"})," ",((I=M==null?void 0:M.user)==null?void 0:I.email)||""]})]})]},M.id)})})]})})]})]})}function H5(e){const r=(e==null?void 0:e.user)||{};return(e==null?void 0:e.nome)||[r.first_name,r.last_name].filter(Boolean).join(" ")||r.username||`Mdico #${(e==null?void 0:e.id)||"?"}`}function GX(){const[e,r]=w.useState(""),[t,a]=w.useState([]),[s,i]=w.useState(!0);w.useEffect(()=>{let l=!0;return(async()=>{i(!0);try{const A=await Wn.listarMedicos();if(!l)return;a(Array.isArray(A)?A:[])}finally{l&&i(!1)}})(),()=>{l=!1}},[]);const o=w.useMemo(()=>t.filter(l=>H5(l).toLowerCase().includes(e.toLowerCase())),[t,e]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mr,{className:"h-5 w-5 text-primary"}),n.jsx("h1",{className:"text-2xl font-semibold",children:"Mdicos"})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(is,{className:"h-5 w-5"})," Buscar"]})}),n.jsx(De,{children:n.jsx(Ge,{placeholder:"Digite o nome do mdico",value:e,onChange:l=>r(l.target.value)})})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Resultados"})}),n.jsx(De,{children:s?n.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):o.length===0?n.jsx("p",{className:"text-muted-foreground",children:"Nenhum mdico encontrado."}):n.jsxs(ec,{children:[n.jsx(tc,{children:n.jsxs(Bn,{children:[n.jsx(Tr,{children:"Nome"}),n.jsx(Tr,{children:"CRM"}),n.jsx(Tr,{children:"Especialidade"}),n.jsx(Tr,{children:"Contato"})]})}),n.jsx(rc,{children:o.map(l=>{var A,d;return n.jsxs(Bn,{children:[n.jsxs(Dr,{className:"font-medium flex items-center gap-2",children:[n.jsx(jn,{className:"h-4 w-4"})," ",H5(l)]}),n.jsx(Dr,{children:l.crm||""}),n.jsx(Dr,{children:l.especialidade||""}),n.jsxs(Dr,{className:"text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zc,{className:"h-4 w-4"})," ",l.telefone||((A=l==null?void 0:l.user)==null?void 0:A.phone)||""]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ol,{className:"h-4 w-4"})," ",((d=l==null?void 0:l.user)==null?void 0:d.email)||""]})]})]},l.id)})})]})})]})]})}const YX={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},XX=(e,r,t)=>{let a;const s=YX[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",String(r)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"em "+a:"h "+a:a},JX={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},ZX={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},eJ={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tJ={date:Bf({formats:JX,defaultWidth:"full"}),time:Bf({formats:ZX,defaultWidth:"full"}),dateTime:Bf({formats:eJ,defaultWidth:"full"})},rJ={lastWeek:e=>{const r=e.getDay();return"'"+(r===0||r===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},aJ=(e,r,t,a)=>{const s=rJ[e];return typeof s=="function"?s(r):s},nJ={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},sJ={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},iJ={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},oJ={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},lJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},cJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},AJ=(e,r)=>{const t=Number(e);return(r==null?void 0:r.unit)==="week"?t+"":t+""},dJ={ordinalNumber:AJ,era:Rl({values:nJ,defaultWidth:"wide"}),quarter:Rl({values:sJ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rl({values:iJ,defaultWidth:"wide"}),day:Rl({values:oJ,defaultWidth:"wide"}),dayPeriod:Rl({values:lJ,defaultWidth:"wide",formattingValues:cJ,defaultFormattingWidth:"wide"})},uJ=/^(\d+)[o]?/i,fJ=/\d+/i,hJ={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},mJ={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},pJ={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},gJ={any:[/1/i,/2/i,/3/i,/4/i]},xJ={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},vJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},wJ={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},yJ={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},bJ={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},NJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},jJ={ordinalNumber:U_({matchPattern:uJ,parsePattern:fJ,valueCallback:e=>parseInt(e,10)}),era:Tl({matchPatterns:hJ,defaultMatchWidth:"wide",parsePatterns:mJ,defaultParseWidth:"any"}),quarter:Tl({matchPatterns:pJ,defaultMatchWidth:"wide",parsePatterns:gJ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Tl({matchPatterns:xJ,defaultMatchWidth:"wide",parsePatterns:vJ,defaultParseWidth:"any"}),day:Tl({matchPatterns:wJ,defaultMatchWidth:"wide",parsePatterns:yJ,defaultParseWidth:"any"}),dayPeriod:Tl({matchPatterns:bJ,defaultMatchWidth:"any",parsePatterns:NJ,defaultParseWidth:"any"})},K5={code:"pt-BR",formatDistance:XX,formatLong:tJ,formatRelative:aJ,localize:dJ,match:jJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BJ(e=8,r=18){const t=[];for(let a=e;a<r;a++){const s=String(a).padStart(2,"0")+":00";t.push(s)}return t}function $5(e){const r=[e.hora,e.horario,e.data_hora,e.inicio,e.start_time];for(const t of r)if(t){if(typeof t=="string"){const a=t.match(/(\d{2}):(\d{2})/);if(a)return`${a[1]}:${a[2]}`;const s=t.match(/T(\d{2}):(\d{2})/);if(s)return`${s[1]}:${s[2]}`}if(t instanceof Date){const a=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${a}:${s}`}}return null}function V5(e){var r,t,a;return(e==null?void 0:e.paciente_nome)||((r=e==null?void 0:e.paciente)==null?void 0:r.nome)||((t=e==null?void 0:e.paciente)==null?void 0:t.fullName)||((a=e==null?void 0:e.paciente)==null?void 0:a.name)||(e==null?void 0:e.nome_paciente)||"(Paciente)"}function TA(e){return(e==null?void 0:e.id)||(e==null?void 0:e.consulta_id)||(e==null?void 0:e.agendamento_id)||(e==null?void 0:e.pk)||null}function j0(e){const r=String(e||"").toLowerCase();return r?r.includes("cancel")?"cancelada":r.includes("confirm")?"confirmada":r.includes("realiz")||r.includes("conclu")?"realizada":r.includes("andamento")||r.includes("em_andamento")?"em_andamento":r.includes("agend")?"aguardando":r:"aguardando"}function CJ(e){const r=j0(e);return{label:r==="confirmada"?"Confirmada":r==="cancelada"?"Cancelada":r==="realizada"?"Realizada":r==="em_andamento"?"Em andamento":"Aguardando",variant:r==="confirmada"?"success":r==="cancelada"?"destructive":r==="realizada"?"info":r==="em_andamento"?"warning":"outline"}}function SJ(e){const r=j0(e);return r==="confirmada"?"bg-green-50":r==="cancelada"?"bg-red-50":r==="realizada"?"bg-blue-50":r==="em_andamento"?"bg-yellow-50":""}function EJ(){const[e,r]=w.useState([]),[t,a]=w.useState(""),[s,i]=w.useState(new Date),[o,l]=w.useState([]),[A,d]=w.useState(!1),[f,h]=w.useState(!1),[m,p]=w.useState(null),[x,v]=w.useState(""),[b,N]=w.useState([]),[B,S]=w.useState(null),[F,L]=w.useState(""),[M,U]=w.useState(!1),[I,_]=w.useState(null),[W,Q]=w.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.inicio")||"8",10)),[K,X]=w.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.fim")||"18",10)),R=w.useMemo(()=>BJ(W,K),[W,K]);w.useEffect(()=>{async function J(){try{const q=await Wn.listarMedicos();r(q||[]),!t&&(q!=null&&q.length)&&a(String(q[0].id||q[0].medico_id))}catch(q){console.error("Erro ao listar mdicos",q)}}J()},[]),w.useEffect(()=>{async function J(){if(!(!t||!s)){d(!0);try{const q=$A(s,"yyyy-MM-dd"),G=await br.getConsultasDoMedico(t,{date:q}),ne=Array.isArray(G)?G:Array.isArray(G==null?void 0:G.results)?G.results:(G==null?void 0:G.consultas)||[];l(ne||[])}catch(q){console.error("Erro ao buscar consultas",q)}finally{d(!1)}}}J()},[t,s]);const re=w.useMemo(()=>{const J=new Map;for(const q of o){const G=$5(q);G&&J.set(G,q)}return J},[o]);async function $(J){U(!1),_(null),p(J),h(!0),v(""),N([]),S(null),L("")}async function V(J){var ce,pe,ve,Pe;const q=re.get(J);if(!q)return;U(!0),_(q),p(J),h(!0);const G=(q==null?void 0:q.paciente_id)||((ce=q==null?void 0:q.paciente)==null?void 0:ce.id),ne=(q==null?void 0:q.paciente_nome)||((pe=q==null?void 0:q.paciente)==null?void 0:pe.nome)||((ve=q==null?void 0:q.paciente)==null?void 0:ve.fullName)||((Pe=q==null?void 0:q.paciente)==null?void 0:Pe.name);(G||ne)&&S({id:G,nome:ne}),L((q==null?void 0:q.observacoes)||(q==null?void 0:q.notes)||"")}async function Z(J){if(v(J),!J||J.length<2){N([]);return}try{const q=await Wn.buscarPacientes(J);N(q||[])}catch(q){console.error("Erro ao buscar pacientes",q)}}async function ie(){if(M){const J=TA(I);if(!J){alert("Consulta sem ID vlido para edio.");return}try{const q={};B!=null&&B.id&&(q.pacienteId=B.id),F&&(q.observacoes=F),await Wn.atualizarConsulta(J,q),l(G=>G.map(ne=>TA(ne)===J?{...ne,paciente_id:(B==null?void 0:B.id)||ne.paciente_id,paciente_nome:(B==null?void 0:B.nome)||V5(ne),observacoes:F}:ne)),h(!1),U(!1),_(null)}catch(q){console.error("Erro ao editar consulta",q),alert("Falha ao editar consulta.")}return}if(!(!B||!m||!t)){if(re.has(m)){alert("Horrio j ocupado. Escolha outro horrio.");return}try{const J=$A(s,"yyyy-MM-dd");try{const q=await Wn.getConsultasDoMedico(t,{date:J});if(((Array.isArray(q)?q:Array.isArray(q==null?void 0:q.results)?q.results:(q==null?void 0:q.consultas)||[])||[]).some(ce=>$5(ce)===m)){alert("Horrio indisponvel no servidor. Selecione outro horrio.");return}}catch{}await Wn.agendarConsulta({pacienteId:B.id||B.paciente_id,medicoId:t,data:J,hora:m,tipo:"rotina",motivo:"Agendado pela secretria",observacoes:F}),l(q=>[...q,{hora:m,paciente_nome:B.nome||B.fullName||B.name||"Paciente",status:"Confirmada"}]),h(!1)}catch(J){console.error("Erro ao agendar",J),alert("Falha ao agendar. Verifique disponibilidade ou tente novamente.")}}}async function ue(J){const q=re.get(J);if(!q)return;const G=TA(q);if(G)try{await Wn.confirmarConsulta(G),l(ne=>ne.map(ce=>TA(ce)===G?{...ce,status:"Confirmada"}:ce))}catch(ne){console.error("Erro ao confirmar",ne),alert("No foi possvel confirmar a consulta.")}}async function E(J){const q=re.get(J);if(!q)return;const G=TA(q);if(!G)return;const ne=window.prompt("Motivo do cancelamento:","Cancelado pela secretria");try{await Wn.cancelarConsulta(G,ne||""),l(ce=>ce.map(pe=>TA(pe)===G?{...pe,status:"Cancelada"}:pe))}catch(ce){console.error("Erro ao cancelar",ce),alert("No foi possvel cancelar a consulta.")}}async function P(J){const q=re.get(J);if(!q)return;const G=TA(q);if(G)try{await Wn.registrarPresenca(G),l(ne=>ne.map(ce=>TA(ce)===G?{...ce,status:"Realizada"}:ce))}catch(ne){console.error("Erro ao marcar presena",ne),alert("No foi possvel marcar presena.")}}function Y(){const J=$A(s,"LLLL",{locale:K5}),q=$A(s,"EEEE",{locale:K5}),G=$A(s,"d");return`${J.charAt(0).toUpperCase()+J.slice(1)}  ${q.charAt(0).toUpperCase()+q.slice(1)}  ${G}`}const z=Array.from({length:17},(J,q)=>q+6);return n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Agenda diria"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:Y()})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("div",{className:"w-52",children:n.jsx(_s,{date:s,onChange:i})}),n.jsxs(zr,{value:t,onValueChange:J=>a(String(J)),children:[n.jsx(Or,{className:"min-w-[220px]",children:n.jsx(qr,{placeholder:"Selecione o mdico"})}),n.jsx(Hr,{children:e.map(J=>n.jsx(at,{value:String(J.id||J.medico_id),children:J.nome||J.fullName||J.name},J.id||J.medico_id))})]}),n.jsxs(zr,{value:String(W),onValueChange:J=>{Q(Number(J)),localStorage.setItem("secretaria.agenda.inicio",String(J))},children:[n.jsx(Or,{className:"w-24",children:n.jsx(qr,{placeholder:"Incio"})}),n.jsx(Hr,{children:z.map(J=>n.jsxs(at,{value:String(J),children:[String(J).padStart(2,"0"),":00"]},`inicio-${J}`))})]}),n.jsxs(zr,{value:String(K),onValueChange:J=>{X(Number(J)),localStorage.setItem("secretaria.agenda.fim",String(J))},children:[n.jsx(Or,{className:"w-24",children:n.jsx(qr,{placeholder:"Fim"})}),n.jsx(Hr,{children:z.map(J=>n.jsxs(at,{value:String(J),children:[String(J).padStart(2,"0"),":00"]},`fim-${J}`))})]}),n.jsx(ye,{variant:"secondary",onClick:()=>{i(new Date(s))},children:"Atualizar"})]}),n.jsx(_e,{className:"p-0 overflow-hidden",children:n.jsx("div",{className:"divide-y",children:R.map(J=>{const q=re.get(J),G=q?V5(q):null,ne=q?CJ(q==null?void 0:q.status):null,ce=q?SJ(q==null?void 0:q.status):"";return n.jsxs("div",{className:`flex items-center justify-between px-4 py-3 hover:bg-muted/40 ${ce}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 text-sm font-medium",children:J}),n.jsx("div",{className:"text-sm flex items-center gap-2",children:G?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:G}),ne&&n.jsx(sr,{variant:ne.variant,className:"text-xs",children:ne.label})]}):n.jsx("span",{className:"text-muted-foreground",children:"(vago)"})})]}),n.jsx("div",{className:"flex items-center gap-2",children:G?n.jsxs(n.Fragment,{children:[n.jsx(ye,{size:"sm",variant:"outline",onClick:()=>ue(J),disabled:j0(q==null?void 0:q.status)==="confirmada",children:"Confirmar"}),n.jsx(ye,{size:"sm",variant:"outline",onClick:()=>P(J),disabled:j0(q==null?void 0:q.status)==="cancelada",children:"Presena"}),n.jsx(ye,{size:"sm",variant:"outline",onClick:()=>V(J),children:"Editar"}),n.jsx(ye,{size:"sm",variant:"destructive",onClick:()=>E(J),children:"Cancelar"})]}):n.jsx(ye,{size:"sm",onClick:()=>$(J),children:"Agendar"})})]},J)})})}),n.jsx(yu,{open:f,onOpenChange:h,children:n.jsxs(fd,{children:[n.jsx(hd,{children:n.jsx(md,{children:M?`Editar ${m}`:`Agendar ${m}`})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ge,{placeholder:"Buscar paciente pelo nome",value:x,onChange:J=>Z(J.target.value)}),n.jsxs("div",{className:"max-h-48 overflow-auto border rounded",children:[(b||[]).map(J=>n.jsx("div",{className:`px-3 py-2 cursor-pointer hover:bg-muted ${((B==null?void 0:B.id)||(B==null?void 0:B.paciente_id))===(J.id||J.paciente_id)?"bg-muted":""}`,onClick:()=>S(J),children:J.nome||J.fullName||J.name},J.id||J.paciente_id)),(!b||b.length===0)&&n.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"Digite ao menos 2 letras para buscar"})]}),n.jsx(Ge,{placeholder:"Observaes (opcional)",value:F,onChange:J=>L(J.target.value)})]}),n.jsxs(bu,{children:[n.jsx(ye,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(ye,{onClick:ie,disabled:!M&&!B,children:M?"Salvar":"Confirmar"})]})]})}),A&&n.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando consultas"})]})}function _J(){const{toast:e}=Ma(),r=Xn(),t=Hn(),[a,s]=w.useState(!1),[i,o]=w.useState("ready"),[l,A]=w.useState(null),[d,f]=w.useState(!1),h=w.useMemo(()=>{const N=new URL(window.location.href);return{id:N.searchParams.get("id")||N.searchParams.get("receita")||N.searchParams.get("receita_id"),token:N.searchParams.get("token")||N.searchParams.get("t"),url:N.searchParams.get("url")||N.searchParams.get("download")||N.searchParams.get("arquivo")||null,email:N.searchParams.get("email")||null}},[t.search]),m=N=>{try{const B=N.replace(/\?.*$/,"");return B.toLowerCase().endsWith(".pdf")?B:`${B}.pdf`}catch{return"Receita.pdf"}},p=(N,B)=>{const S=document.createElement("a"),F=URL.createObjectURL(N);S.href=F,S.download=decodeURIComponent(B),document.body.appendChild(S),S.click(),S.remove(),setTimeout(()=>URL.revokeObjectURL(F),2e3)},x=async N=>{var S;let B=N;if(!B)return!1;try{/^https?:\/\//i.test(B)||(B=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${B.startsWith("/")?"":"/"}${B}`);const F=await Ee.get(B,{responseType:"blob",baseURL:""}),L=new Blob([F.data],{type:F.headers["content-type"]||"application/pdf"}),M=F.headers["content-disposition"]||"",U=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(M);let I=(U==null?void 0:U[1])||(U==null?void 0:U[2])||"Receita.pdf";return I=m(I),p(L,I),!0}catch(F){return console.warn("[ReceberReceita] download direto falhou:",((S=F==null?void 0:F.response)==null?void 0:S.status)||F),!1}},v=async N=>{var B;if(!N)return!1;try{const S=await na.getReceitas({__propagateErrors:!0}),L=(Array.isArray(S)?S:Array.isArray(S==null?void 0:S.results)?S.results:[]).find(U=>String(U.id||U.pk||U.uuid)===String(N)),M=(L==null?void 0:L.arquivo_assinado)||(L==null?void 0:L.pdf)||(L==null?void 0:L.documento)||null;return M?await x(M):!1}catch(S){return console.warn("[ReceberReceita] busca por ID falhou:",((B=S==null?void 0:S.response)==null?void 0:B.status)||S),!1}},b=async()=>{s(!0),A(null),o("processing");try{if(await x(h.url)){f(!0),o("done"),e({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}if(await v(h.id)){f(!0),o("done"),e({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}o("error"),A("No foi possvel localizar a receita. Verifique se o link no expirou ou faa login para acess-la."),e({title:"Link invlido",description:"No foi possvel localizar a receita.",variant:"destructive"})}finally{s(!1)}};return w.useEffect(()=>{(h.url||h.id)&&b()},[h.url,h.id]),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsx(Ze,{children:"Receber Receita"})}),n.jsxs(De,{className:"space-y-4",children:[i==="done"?n.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[n.jsx(sr,{variant:"outline",children:"Concludo"}),n.jsx("span",{children:"O download da receita foi iniciado."})]}):i==="processing"?n.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[n.jsx(sr,{variant:"outline",children:"Processando"}),n.jsx("span",{children:"Estamos validando seu link e preparando o download..."})]}):i==="error"?n.jsxs("div",{className:"text-red-700",children:[n.jsx(sr,{variant:"destructive",className:"mb-2",children:"Erro"}),n.jsx("p",{className:"text-sm",children:l||"Falha ao processar o link."})]}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cole o link recebido por e-mail, ou utilize o acesso direto com login."}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Link direto do arquivo (opcional)"}),n.jsx(Ge,{defaultValue:h.url||"",placeholder:"https://.../receita.pdf",onBlur:N=>{const B=new URL(window.location.href);N.target.value?B.searchParams.set("url",N.target.value):B.searchParams.delete("url"),r({pathname:B.pathname,search:B.search})}})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"ID da Receita (opcional)"}),n.jsx(Ge,{defaultValue:h.id||"",placeholder:"123",onBlur:N=>{const B=new URL(window.location.href);N.target.value?B.searchParams.set("id",N.target.value):B.searchParams.delete("id"),r({pathname:B.pathname,search:B.search})}})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(ye,{onClick:b,disabled:a,children:a?"Processando...":"Receber"}),n.jsx(ye,{variant:"outline",onClick:()=>r("/paciente/receitas"),children:"Ir para Minhas Receitas"})]})]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Dica: se o link tiver expirado, faa login e acesse suas receitas na rea do paciente."})]})})}function FJ(){var h,m,p,x;const{id:e}=Al(),[r,t]=w.useState(null),[a,s]=w.useState(!0),[i,o]=w.useState(null);if(w.useEffect(()=>{async function v(){var b,N;try{s(!0);const B=await Ee.get(`/receitas/${e}/verificar/`);t(B.data)}catch(B){o(((N=(b=B.response)==null?void 0:b.data)==null?void 0:N.detail)||"Receita no encontrada ou invlida")}finally{s(!1)}}e&&v()},[e]),a)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Verificando receita..."})]})});if(i)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center",children:n.jsxs(_e,{className:"w-full max-w-md",children:[n.jsxs(ze,{className:"text-center",children:[n.jsx(ss,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx(Ze,{className:"text-red-700",children:"Receita Invlida"})]}),n.jsxs(De,{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:i}),n.jsx("p",{className:"text-sm text-gray-500",children:"Esta receita pode ter sido alterada, no existe ou no foi assinada digitalmente."})]})]})});const l=(r==null?void 0:r.assinada)&&(r==null?void 0:r.hash_documento),A=r!=null&&r.assinada_em?new Date(r.assinada_em).toLocaleString("pt-BR"):null,d=(m=(h=r==null?void 0:r.consulta)==null?void 0:h.medico)!=null&&m.user?`Dr. ${r.consulta.medico.user.first_name} ${r.consulta.medico.user.last_name}`:(r==null?void 0:r.medico)||"No informado",f=((x=(p=r==null?void 0:r.consulta)==null?void 0:p.medico)==null?void 0:x.crm)||"No informado";return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 py-8",children:n.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[l?n.jsx(_o,{className:"h-20 w-20 text-green-500 mx-auto mb-4"}):n.jsx(ss,{className:"h-20 w-20 text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Verificao de Receita Mdica"}),n.jsx(sr,{variant:l?"default":"destructive",className:"text-lg px-4 py-2",children:l?" Receita Vlida":" Receita Invlida"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(Ta,{className:"h-5 w-5"}),"Informaes da Receita"]})}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID da Receita"}),n.jsx("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:r==null?void 0:r.id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Medicamento"}),n.jsx("p",{className:"font-medium",children:(r==null?void 0:r.medicamento)||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Dosagem"}),n.jsx("p",{children:(r==null?void 0:r.dosagem)||"No informada"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Validade"}),n.jsx("p",{children:(r==null?void 0:r.validade)||"No informada"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Criao"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),r!=null&&r.created_at?new Date(r.created_at).toLocaleString("pt-BR"):"No informada"]})]})]})]}),n.jsxs(_e,{children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(jn,{className:"h-5 w-5"}),"Paciente e Mdico"]})}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Paciente"}),n.jsx("p",{className:"font-medium",children:(r==null?void 0:r.nome_paciente)||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Mdico Responsvel"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-4 w-4"}),d]}),f!=="No informado"&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["CRM: ",f]})]}),(r==null?void 0:r.endereco_consultorio)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Consultrio"}),n.jsx("p",{children:r.endereco_consultorio})]})]})]}),n.jsxs(_e,{className:"md:col-span-2",children:[n.jsx(ze,{children:n.jsxs(Ze,{className:"flex items-center gap-2",children:[n.jsx(_o,{className:"h-5 w-5"}),"Assinatura Digital"]})}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status da Assinatura"}),n.jsx(sr,{variant:l?"default":"destructive",className:"mt-1",children:l?"Assinada Digitalmente":"No Assinada"})]}),A&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data da Assinatura"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),A]})]})]}),l&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Assinado por"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-4 w-4"}),d," ",f!=="No informado"&&`(CRM: ${f})`]})]}),(r==null?void 0:r.hash_documento)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Hash de Verificao"}),n.jsx("p",{className:"font-mono text-xs bg-gray-100 p-2 rounded break-all",children:r.hash_documento})]}),(r==null?void 0:r.motivo)&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Motivo da Assinatura"}),n.jsx("p",{children:r.motivo})]})]})]})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("p",{className:"text-sm text-gray-500",children:["Esta verificao confirma a autenticidade e integridade da receita mdica.",l&&" A receita foi assinada digitalmente e no foi alterada."]})})]})})}const kJ=()=>{const[e,r]=w.useState("f86c1245-2d66-4e5b-8830-e774c7c0f31f"),[t,a]=w.useState(null),[s,i]=w.useState(!1),[o,l]=w.useState(null),A=async()=>{var f,h,m;if(!e){l("Por favor, insira um ID de receita");return}i(!0),l(null),a(null);try{console.log("Tentando assinar receita com ID:",e);const p={id:e,receita_id:e,algoritmo_assinatura:"SHA256",hash_documento:`test_hash_${Date.now()}`},x=await aL.signPrescription(p);console.log("Resposta da assinatura:",x),a({success:!0,data:x})}catch(p){console.error("Erro na assinatura:",p),l({message:p.message,status:(f=p.response)==null?void 0:f.status,data:(h=p.response)==null?void 0:h.data,url:(m=p.config)==null?void 0:m.url})}finally{i(!1)}},d=async()=>{i(!0),l(null),a(null);try{const f="http://127.0.0.1:8000/api",h=["/receitas/","/receitas/f86c1245-2d66-4e5b-8830-e774c7c0f31f/","/receitas/f86c1245-2d66-4e5b-8830-e774c7c0f31f/assinar/","/auth/login/","/auth/user/"],m={},p=localStorage.getItem("token");for(const x of h)try{const v=x.includes("/assinar/"),b=v?"POST":"GET",N=v?JSON.stringify({algoritmo_assinatura:"SHA256",hash_documento:`test_hash_${Date.now()}`}):void 0,B=await fetch(`${f}${x}`,{method:b,headers:{"Content-Type":"application/json",Authorization:p?`Token ${p}`:"no-token"},body:N});if(m[x]={status:B.status,statusText:B.statusText,ok:B.ok,method:b},v&&B.ok){const S=await B.json();m[x].data=S}}catch(v){m[x]={error:v.message}}a({endpoints:m,token:p?"Token presente":"Token ausente",tokenValue:p?p.substring(0,10)+"...":"N/A"})}catch(f){l(f.message)}finally{i(!1)}};return n.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"20px",backgroundColor:"#f9f9f9"},children:[n.jsx("h3",{children:"Teste de Assinatura de Receita"}),n.jsx("div",{style:{marginBottom:"20px"},children:n.jsxs("label",{children:["ID da Receita:",n.jsx("input",{type:"text",value:e,onChange:f=>r(f.target.value),placeholder:"Digite o ID da receita",style:{marginLeft:"10px",padding:"5px"}})]})}),n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("button",{onClick:A,disabled:s,style:{padding:"10px 20px",marginRight:"10px",backgroundColor:"#007bff",color:"white",border:"none",cursor:s?"not-allowed":"pointer"},children:s?"Testando...":"Testar Assinatura"}),n.jsx("button",{onClick:d,disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",cursor:s?"not-allowed":"pointer"},children:s?"Testando...":"Testar Endpoints"})]}),o&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",marginBottom:"20px"},children:[n.jsx("h4",{children:"Erro:"}),n.jsx("pre",{children:JSON.stringify(o,null,2)})]}),t&&n.jsxs("div",{style:{padding:"10px",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"4px"},children:[n.jsx("h4",{children:"Resultado:"}),n.jsx("pre",{children:JSON.stringify(t,null,2)})]})]})};function DJ(){return n.jsx(pL,{children:n.jsx(gL,{children:n.jsx(yU,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsxs(fU,{children:[n.jsx($t,{path:"/",element:n.jsx(yX,{})}),n.jsx($t,{path:"/login",element:n.jsx(FM,{})}),n.jsx($t,{path:"/registrar",element:n.jsx(kM,{})}),n.jsx($t,{path:"/esqueci-senha",element:n.jsx(DM,{})}),n.jsx($t,{path:"/redefinir-senha/:uid/:token",element:n.jsx(IM,{})}),n.jsx($t,{path:"/receber/receita",element:n.jsx(_J,{})}),n.jsx($t,{path:"/verificar/:id",element:n.jsx(FJ,{})}),n.jsx($t,{path:"/test-signature",element:n.jsx(kJ,{})}),n.jsxs($t,{path:"/paciente",element:n.jsx(RX,{children:n.jsx(uM,{})}),children:[n.jsx($t,{index:!0,element:n.jsx(Ra,{to:"perfil",replace:!0})}),n.jsx($t,{path:"perfil",element:n.jsx(X7,{})}),n.jsx($t,{path:"prontuario",element:n.jsx(J7,{})}),n.jsx($t,{path:"consultas",element:n.jsx(s9,{})}),n.jsx($t,{path:"consultas/nova",element:n.jsx(OX,{})}),n.jsx($t,{path:"exames",element:n.jsx(i9,{})}),n.jsx($t,{path:"historico-medico",element:n.jsx(l9,{})}),n.jsx($t,{path:"medicos",element:n.jsx(c9,{})}),n.jsx($t,{path:"receitas",element:n.jsx(h9,{})}),n.jsx($t,{path:"configuracoes",element:n.jsx(Pw,{})})]}),n.jsxs($t,{path:"/medico",element:n.jsx(PX,{children:n.jsx(fM,{})}),children:[n.jsx($t,{index:!0,element:n.jsx(Ra,{to:"dashboard",replace:!0})}),n.jsx($t,{path:"dashboard",element:n.jsx(m9,{})}),n.jsx($t,{path:"meus-pacientes",element:n.jsx(p9,{})}),n.jsx($t,{path:"minhas-consultas",element:n.jsx(g9,{})}),n.jsx($t,{path:"consultas/hoje",element:n.jsx(k9,{})}),n.jsx($t,{path:"paciente/:id/perfil",element:n.jsx(x9,{})}),n.jsx($t,{path:"paciente/:id/prontuario",element:n.jsx(v9,{})}),n.jsx($t,{path:"paciente/:id/exames",element:n.jsx(w9,{})}),n.jsx($t,{path:"paciente/:id/iniciar-consulta",element:n.jsx(y9,{})}),n.jsx($t,{path:"paciente/:id/consulta/resumo",element:n.jsx(eX,{})}),n.jsx($t,{path:"paciente/:id/receita/preview",element:n.jsx(GY,{})}),n.jsx($t,{path:"paciente/:id/receita/confirmacao",element:n.jsx(YY,{})}),n.jsx($t,{path:"configuracoes",element:n.jsx(Pw,{})})]}),n.jsxs($t,{path:"/clinica",element:n.jsx(QX,{children:n.jsx(LE,{})}),children:[n.jsx($t,{index:!0,element:n.jsx(Ra,{to:"dashboard",replace:!0})}),n.jsx($t,{path:"dashboard",element:n.jsx(tX,{})}),n.jsx($t,{path:"calendario",element:n.jsx(nX,{})}),n.jsx($t,{path:"disponibilidade",element:n.jsx(iX,{})}),n.jsx($t,{path:"exames",element:n.jsx(oX,{})}),n.jsx($t,{path:"pacientes",element:n.jsx(lX,{})}),n.jsx($t,{path:"medicos",element:n.jsx(cX,{})}),n.jsx($t,{path:"relatorios",element:n.jsx(AX,{})}),n.jsx($t,{path:"configuracoes",element:n.jsx(dX,{})})]}),n.jsxs($t,{path:"/admin",element:n.jsx(TX,{children:n.jsx(hM,{})}),children:[n.jsx($t,{index:!0,element:n.jsx(Ra,{to:"dashboard",replace:!0})}),n.jsx($t,{path:"dashboard",element:n.jsx(uX,{})}),n.jsx($t,{path:"solicitacoes",element:n.jsx(fX,{})}),n.jsx($t,{path:"solicitacoes/:id",element:n.jsx(hX,{})}),n.jsx($t,{path:"relatorios",element:n.jsx(xX,{})}),n.jsx($t,{path:"auditoria",element:n.jsx(vX,{})}),n.jsx($t,{path:"usuarios",element:n.jsx(HX,{})}),n.jsx($t,{path:"clinicas",element:n.jsx(KX,{})}),n.jsx($t,{path:"configuracoes",element:n.jsx($X,{})})]}),n.jsxs($t,{path:"/secretaria",element:n.jsx(UM,{children:n.jsx(LM,{})}),children:[n.jsx($t,{index:!0,element:n.jsx(Ra,{to:"dashboard",replace:!0})}),n.jsx($t,{path:"dashboard",element:n.jsx(VX,{})}),n.jsx($t,{path:"consultas",element:n.jsx(qX,{})}),n.jsx($t,{path:"agenda",element:n.jsx(EJ,{})}),n.jsx($t,{path:"pacientes",element:n.jsx(WX,{})}),n.jsx($t,{path:"medicos",element:n.jsx(GX,{})}),n.jsx($t,{path:"solicitacoes",element:n.jsx(f8,{})}),n.jsx($t,{path:"solicitacoes/:id",element:n.jsx(h8,{})}),n.jsx($t,{path:"configuracoes",element:n.jsx(Pw,{})})]}),n.jsx($t,{path:"*",element:n.jsx("div",{children:"Pgina no encontrada"})})]})})})})}var mb="ToastProvider",[pb,UJ,LJ]=J0("Toast"),[lk,kZ]=ul("Toast",[LJ]),[IJ,Bx]=lk(mb),ck=e=>{const{__scopeToast:r,label:t="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,A]=w.useState(null),[d,f]=w.useState(0),h=w.useRef(!1),m=w.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${mb}\`. Expected non-empty \`string\`.`),n.jsx(pb.Provider,{scope:r,children:n.jsx(IJ,{scope:r,label:t,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:A,onToastAdd:w.useCallback(()=>f(p=>p+1),[]),onToastRemove:w.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};ck.displayName=mb;var Ak="ToastViewport",PJ=["F8"],Z1="toast.viewportPause",ey="toast.viewportResume",dk=w.forwardRef((e,r)=>{const{__scopeToast:t,hotkey:a=PJ,label:s="Notifications ({hotkey})",...i}=e,o=Bx(Ak,t),l=UJ(t),A=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=w.useRef(null),m=ua(r,h,o.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;w.useEffect(()=>{const b=N=>{var S;a.length!==0&&a.every(F=>N[F]||N.code===F)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a]),w.useEffect(()=>{const b=A.current,N=h.current;if(x&&b&&N){const B=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Z1);N.dispatchEvent(M),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(ey);N.dispatchEvent(M),o.isClosePausedRef.current=!1}},F=M=>{!b.contains(M.relatedTarget)&&S()},L=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",B),b.addEventListener("focusout",F),b.addEventListener("pointermove",B),b.addEventListener("pointerleave",L),window.addEventListener("blur",B),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",B),b.removeEventListener("focusout",F),b.removeEventListener("pointermove",B),b.removeEventListener("pointerleave",L),window.removeEventListener("blur",B),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:b})=>{const B=l().map(S=>{const F=S.ref.current,L=[F,...GJ(F)];return b==="forwards"?L:L.reverse()});return(b==="forwards"?B.reverse():B).flat()},[l]);return w.useEffect(()=>{const b=h.current;if(b){const N=B=>{var L,M,U;const S=B.altKey||B.ctrlKey||B.metaKey;if(B.key==="Tab"&&!S){const I=document.activeElement,_=B.shiftKey;if(B.target===b&&_){(L=d.current)==null||L.focus();return}const K=v({tabbingDirection:_?"backwards":"forwards"}),X=K.findIndex(R=>R===I);Qw(K.slice(X+1))?B.preventDefault():_?(M=d.current)==null||M.focus():(U=f.current)==null||U.focus()}};return b.addEventListener("keydown",N),()=>b.removeEventListener("keydown",N)}},[l,v]),n.jsxs(wI,{ref:A,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(ty,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});Qw(b)}}),n.jsx(pb.Slot,{scope:t,children:n.jsx(Nr.ol,{tabIndex:-1,...i,ref:m})}),x&&n.jsx(ty,{ref:f,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});Qw(b)}})]})});dk.displayName=Ak;var uk="ToastFocusProxy",ty=w.forwardRef((e,r)=>{const{__scopeToast:t,onFocusFromOutsideViewport:a,...s}=e,i=Bx(uk,t);return n.jsx(q0,{tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&a()}})});ty.displayName=uk;var Mm="Toast",QJ="toast.swipeStart",RJ="toast.swipeMove",TJ="toast.swipeCancel",MJ="toast.swipeEnd",fk=w.forwardRef((e,r)=>{const{forceMount:t,open:a,defaultOpen:s,onOpenChange:i,...o}=e,[l,A]=nd({prop:a,defaultProp:s??!0,onChange:i,caller:Mm});return n.jsx(Jl,{present:t||l,children:n.jsx(KJ,{open:l,...o,ref:r,onClose:()=>A(!1),onPause:fi(e.onPause),onResume:fi(e.onResume),onSwipeStart:Ut(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ut(e.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ut(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ut(e.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),A(!1)})})})});fk.displayName=Mm;var[OJ,HJ]=lk(Mm,{onClose(){}}),KJ=w.forwardRef((e,r)=>{const{__scopeToast:t,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:A,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...x}=e,v=Bx(Mm,t),[b,N]=w.useState(null),B=ua(r,R=>N(R)),S=w.useRef(null),F=w.useRef(null),L=s||v.duration,M=w.useRef(0),U=w.useRef(L),I=w.useRef(0),{onToastAdd:_,onToastRemove:W}=v,Q=fi(()=>{var re;(b==null?void 0:b.contains(document.activeElement))&&((re=v.viewport)==null||re.focus()),o()}),K=w.useCallback(R=>{!R||R===1/0||(window.clearTimeout(I.current),M.current=new Date().getTime(),I.current=window.setTimeout(Q,R))},[Q]);w.useEffect(()=>{const R=v.viewport;if(R){const re=()=>{K(U.current),d==null||d()},$=()=>{const V=new Date().getTime()-M.current;U.current=U.current-V,window.clearTimeout(I.current),A==null||A()};return R.addEventListener(Z1,$),R.addEventListener(ey,re),()=>{R.removeEventListener(Z1,$),R.removeEventListener(ey,re)}}},[v.viewport,L,A,d,K]),w.useEffect(()=>{i&&!v.isClosePausedRef.current&&K(L)},[i,L,v.isClosePausedRef,K]),w.useEffect(()=>(_(),()=>W()),[_,W]);const X=w.useMemo(()=>b?wk(b):null,[b]);return v.viewport?n.jsxs(n.Fragment,{children:[X&&n.jsx($J,{__scopeToast:t,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:X}),n.jsx(OJ,{scope:t,onClose:Q,children:Of.createPortal(n.jsx(pb.ItemSlot,{scope:t,children:n.jsx(vI,{asChild:!0,onEscapeKeyDown:Ut(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||Q(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Nr.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:B,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ut(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:Ut(e.onPointerDown,R=>{R.button===0&&(S.current={x:R.clientX,y:R.clientY})}),onPointerMove:Ut(e.onPointerMove,R=>{if(!S.current)return;const re=R.clientX-S.current.x,$=R.clientY-S.current.y,V=!!F.current,Z=["left","right"].includes(v.swipeDirection),ie=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ue=Z?ie(0,re):0,E=Z?0:ie(0,$),P=R.pointerType==="touch"?10:2,Y={x:ue,y:E},z={originalEvent:R,delta:Y};V?(F.current=Y,hg(RJ,h,z,{discrete:!1})):z5(Y,v.swipeDirection,P)?(F.current=Y,hg(QJ,f,z,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(re)>P||Math.abs($)>P)&&(S.current=null)}),onPointerUp:Ut(e.onPointerUp,R=>{const re=F.current,$=R.target;if($.hasPointerCapture(R.pointerId)&&$.releasePointerCapture(R.pointerId),F.current=null,S.current=null,re){const V=R.currentTarget,Z={originalEvent:R,delta:re};z5(re,v.swipeDirection,v.swipeThreshold)?hg(MJ,p,Z,{discrete:!0}):hg(TJ,m,Z,{discrete:!0}),V.addEventListener("click",ie=>ie.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),$J=e=>{const{__scopeToast:r,children:t,...a}=e,s=Bx(Mm,r),[i,o]=w.useState(!1),[l,A]=w.useState(!1);return qJ(()=>o(!0)),w.useEffect(()=>{const d=window.setTimeout(()=>A(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Bm,{asChild:!0,children:n.jsx(q0,{...a,children:i&&n.jsxs(n.Fragment,{children:[s.label," ",t]})})})},VJ="ToastTitle",hk=w.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e;return n.jsx(Nr.div,{...a,ref:r})});hk.displayName=VJ;var zJ="ToastDescription",mk=w.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e;return n.jsx(Nr.div,{...a,ref:r})});mk.displayName=zJ;var pk="ToastAction",gk=w.forwardRef((e,r)=>{const{altText:t,...a}=e;return t.trim()?n.jsx(vk,{altText:t,asChild:!0,children:n.jsx(gb,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${pk}\`. Expected non-empty \`string\`.`),null)});gk.displayName=pk;var xk="ToastClose",gb=w.forwardRef((e,r)=>{const{__scopeToast:t,...a}=e,s=HJ(xk,t);return n.jsx(vk,{asChild:!0,children:n.jsx(Nr.button,{type:"button",...a,ref:r,onClick:Ut(e.onClick,s.onClose)})})});gb.displayName=xk;var vk=w.forwardRef((e,r)=>{const{__scopeToast:t,altText:a,...s}=e;return n.jsx(Nr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:r})});function wk(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),WJ(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...wk(a))}}),r}function hg(e,r,t,{discrete:a}){const s=t.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});r&&s.addEventListener(e,r,{once:!0}),a?py(s,i):s.dispatchEvent(i)}var z5=(e,r,t=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return r==="left"||r==="right"?i&&a>t:!i&&s>t};function qJ(e=()=>{}){const r=fi(e);Yn(()=>{let t=0,a=0;return t=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(a)}},[r])}function WJ(e){return e.nodeType===e.ELEMENT_NODE}function GJ(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function Qw(e){const r=document.activeElement;return e.some(t=>t===r?!0:(t.focus(),document.activeElement!==r))}var YJ=ck,yk=dk,bk=fk,Nk=hk,jk=mk,Bk=gk,Ck=gb;const XJ=YJ,Sk=w.forwardRef(({className:e,...r},t)=>n.jsx(yk,{ref:t,className:st("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));Sk.displayName=yk.displayName;const JJ=U0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ek=w.forwardRef(({className:e,variant:r,...t},a)=>n.jsx(bk,{ref:a,className:st(JJ({variant:r}),e),...t}));Ek.displayName=bk.displayName;const ZJ=w.forwardRef(({className:e,...r},t)=>n.jsx(Bk,{ref:t,className:st("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}));ZJ.displayName=Bk.displayName;const _k=w.forwardRef(({className:e,...r},t)=>n.jsx(Ck,{ref:t,className:st("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:n.jsx(my,{className:"h-4 w-4"})}));_k.displayName=Ck.displayName;const Fk=w.forwardRef(({className:e,...r},t)=>n.jsx(Nk,{ref:t,className:st("text-sm font-semibold",e),...r}));Fk.displayName=Nk.displayName;const kk=w.forwardRef(({className:e,...r},t)=>n.jsx(jk,{ref:t,className:st("text-sm opacity-90",e),...r}));kk.displayName=jk.displayName;function eZ(){const{toasts:e}=Ma();return n.jsxs(XJ,{children:[e.map(({id:r,title:t,description:a,action:s,...i})=>n.jsxs(Ek,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[t&&n.jsx(Fk,{children:t}),a&&n.jsx(kk,{children:a})]}),s,n.jsx(_k,{})]},r)),n.jsx(Sk,{})]})}if(typeof window<"u"){const e=r=>{const t=r==null?void 0:r.reason,a=typeof t=="string"?t:t==null?void 0:t.message;a&&a.includes("A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received")&&r.preventDefault()};window.addEventListener("unhandledrejection",e)}wD.createRoot(document.getElementById("root")).render(n.jsxs(FR,{defaultTheme:"system",storageKey:"medicinefront-theme",children:[n.jsx(DJ,{}),n.jsx(eZ,{})]}));export{ki as D,nr as E,_a as _,kX as a,Ee as b,rZ as c,G5 as g,rW as h,_X as l};
