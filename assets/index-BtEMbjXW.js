var oC=Object.defineProperty;var lC=(t,s,a)=>s in t?oC(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var Be=(t,s,a)=>lC(t,typeof s!="symbol"?s+"":s,a);function cC(t,s){for(var a=0;a<s.length;a++){const r=s[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const o=Object.getOwnPropertyDescriptor(r,n);o&&Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();function By(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $f={exports:{}},Cl={},zf={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function dC(){if(Rv)return jt;Rv=1;var t=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function g(A){return A===null||typeof A!="object"?null:(A=h&&A[h]||A["@@iterator"],typeof A=="function"?A:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function w(A,W,re){this.props=A,this.context=W,this.refs=y,this.updater=re||j}w.prototype.isReactComponent={},w.prototype.setState=function(A,W){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,W,"setState")},w.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=w.prototype;function S(A,W,re){this.props=A,this.context=W,this.refs=y,this.updater=re||j}var k=S.prototype=new C;k.constructor=S,b(k,w.prototype),k.isPureReactComponent=!0;var P=Array.isArray,R=Object.prototype.hasOwnProperty,D={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function O(A,W,re){var K,J={},V=null,U=null;if(W!=null)for(K in W.ref!==void 0&&(U=W.ref),W.key!==void 0&&(V=""+W.key),W)R.call(W,K)&&!E.hasOwnProperty(K)&&(J[K]=W[K]);var X=arguments.length-2;if(X===1)J.children=re;else if(1<X){for(var le=Array(X),ve=0;ve<X;ve++)le[ve]=arguments[ve+2];J.children=le}if(A&&A.defaultProps)for(K in X=A.defaultProps,X)J[K]===void 0&&(J[K]=X[K]);return{$$typeof:t,type:A,key:V,ref:U,props:J,_owner:D.current}}function I(A,W){return{$$typeof:t,type:A.type,key:W,ref:A.ref,props:A.props,_owner:A._owner}}function z(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function B(A){var W={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(re){return W[re]})}var Y=/\/+/g;function $(A,W){return typeof A=="object"&&A!==null&&A.key!=null?B(""+A.key):W.toString(36)}function M(A,W,re,K,J){var V=typeof A;(V==="undefined"||V==="boolean")&&(A=null);var U=!1;if(A===null)U=!0;else switch(V){case"string":case"number":U=!0;break;case"object":switch(A.$$typeof){case t:case s:U=!0}}if(U)return U=A,J=J(U),A=K===""?"."+$(U,0):K,P(J)?(re="",A!=null&&(re=A.replace(Y,"$&/")+"/"),M(J,W,re,"",function(ve){return ve})):J!=null&&(z(J)&&(J=I(J,re+(!J.key||U&&U.key===J.key?"":(""+J.key).replace(Y,"$&/")+"/")+A)),W.push(J)),1;if(U=0,K=K===""?".":K+":",P(A))for(var X=0;X<A.length;X++){V=A[X];var le=K+$(V,X);U+=M(V,W,re,le,J)}else if(le=g(A),typeof le=="function")for(A=le.call(A),X=0;!(V=A.next()).done;)V=V.value,le=K+$(V,X++),U+=M(V,W,re,le,J);else if(V==="object")throw W=String(A),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return U}function G(A,W,re){if(A==null)return A;var K=[],J=0;return M(A,K,"","",function(V){return W.call(re,V,J++)}),K}function T(A){if(A._status===-1){var W=A._result;W=W(),W.then(function(re){(A._status===0||A._status===-1)&&(A._status=1,A._result=re)},function(re){(A._status===0||A._status===-1)&&(A._status=2,A._result=re)}),A._status===-1&&(A._status=0,A._result=W)}if(A._status===1)return A._result.default;throw A._result}var L={current:null},H={transition:null},Q={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:H,ReactCurrentOwner:D};function te(){throw Error("act(...) is not supported in production builds of React.")}return jt.Children={map:G,forEach:function(A,W,re){G(A,function(){W.apply(this,arguments)},re)},count:function(A){var W=0;return G(A,function(){W++}),W},toArray:function(A){return G(A,function(W){return W})||[]},only:function(A){if(!z(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},jt.Component=w,jt.Fragment=a,jt.Profiler=n,jt.PureComponent=S,jt.StrictMode=r,jt.Suspense=m,jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,jt.act=te,jt.cloneElement=function(A,W,re){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var K=b({},A.props),J=A.key,V=A.ref,U=A._owner;if(W!=null){if(W.ref!==void 0&&(V=W.ref,U=D.current),W.key!==void 0&&(J=""+W.key),A.type&&A.type.defaultProps)var X=A.type.defaultProps;for(le in W)R.call(W,le)&&!E.hasOwnProperty(le)&&(K[le]=W[le]===void 0&&X!==void 0?X[le]:W[le])}var le=arguments.length-2;if(le===1)K.children=re;else if(1<le){X=Array(le);for(var ve=0;ve<le;ve++)X[ve]=arguments[ve+2];K.children=X}return{$$typeof:t,type:A.type,key:J,ref:V,props:K,_owner:U}},jt.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:o,_context:A},A.Consumer=A},jt.createElement=O,jt.createFactory=function(A){var W=O.bind(null,A);return W.type=A,W},jt.createRef=function(){return{current:null}},jt.forwardRef=function(A){return{$$typeof:d,render:A}},jt.isValidElement=z,jt.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:T}},jt.memo=function(A,W){return{$$typeof:f,type:A,compare:W===void 0?null:W}},jt.startTransition=function(A){var W=H.transition;H.transition={};try{A()}finally{H.transition=W}},jt.unstable_act=te,jt.useCallback=function(A,W){return L.current.useCallback(A,W)},jt.useContext=function(A){return L.current.useContext(A)},jt.useDebugValue=function(){},jt.useDeferredValue=function(A){return L.current.useDeferredValue(A)},jt.useEffect=function(A,W){return L.current.useEffect(A,W)},jt.useId=function(){return L.current.useId()},jt.useImperativeHandle=function(A,W,re){return L.current.useImperativeHandle(A,W,re)},jt.useInsertionEffect=function(A,W){return L.current.useInsertionEffect(A,W)},jt.useLayoutEffect=function(A,W){return L.current.useLayoutEffect(A,W)},jt.useMemo=function(A,W){return L.current.useMemo(A,W)},jt.useReducer=function(A,W,re){return L.current.useReducer(A,W,re)},jt.useRef=function(A){return L.current.useRef(A)},jt.useState=function(A){return L.current.useState(A)},jt.useSyncExternalStore=function(A,W,re){return L.current.useSyncExternalStore(A,W,re)},jt.useTransition=function(){return L.current.useTransition()},jt.version="18.3.1",jt}var Mv;function xu(){return Mv||(Mv=1,zf.exports=dC()),zf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function uC(){if(Tv)return Cl;Tv=1;var t=xu(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,m,f){var p,h={},g=null,j=null;f!==void 0&&(g=""+f),m.key!==void 0&&(g=""+m.key),m.ref!==void 0&&(j=m.ref);for(p in m)r.call(m,p)&&!o.hasOwnProperty(p)&&(h[p]=m[p]);if(d&&d.defaultProps)for(p in m=d.defaultProps,m)h[p]===void 0&&(h[p]=m[p]);return{$$typeof:s,type:d,key:g,ref:j,props:h,_owner:n.current}}return Cl.Fragment=a,Cl.jsx=c,Cl.jsxs=c,Cl}var Av;function mC(){return Av||(Av=1,$f.exports=uC()),$f.exports}var e=mC(),xd={},Bf={exports:{}},Sr={},Uf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function fC(){return Ov||(Ov=1,(function(t){function s(H,Q){var te=H.length;H.push(Q);e:for(;0<te;){var A=te-1>>>1,W=H[A];if(0<n(W,Q))H[A]=Q,H[te]=W,te=A;else break e}}function a(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Q=H[0],te=H.pop();if(te!==Q){H[0]=te;e:for(var A=0,W=H.length,re=W>>>1;A<re;){var K=2*(A+1)-1,J=H[K],V=K+1,U=H[V];if(0>n(J,te))V<W&&0>n(U,J)?(H[A]=U,H[V]=te,A=V):(H[A]=J,H[K]=te,A=K);else if(V<W&&0>n(U,te))H[A]=U,H[V]=te,A=V;else break e}}return Q}function n(H,Q){var te=H.sortIndex-Q.sortIndex;return te!==0?te:H.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],f=[],p=1,h=null,g=3,j=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(H){for(var Q=a(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=H)r(f),Q.sortIndex=Q.expirationTime,s(m,Q);else break;Q=a(f)}}function P(H){if(y=!1,k(H),!b)if(a(m)!==null)b=!0,T(R);else{var Q=a(f);Q!==null&&L(P,Q.startTime-H)}}function R(H,Q){b=!1,y&&(y=!1,C(O),O=-1),j=!0;var te=g;try{for(k(Q),h=a(m);h!==null&&(!(h.expirationTime>Q)||H&&!B());){var A=h.callback;if(typeof A=="function"){h.callback=null,g=h.priorityLevel;var W=A(h.expirationTime<=Q);Q=t.unstable_now(),typeof W=="function"?h.callback=W:h===a(m)&&r(m),k(Q)}else r(m);h=a(m)}if(h!==null)var re=!0;else{var K=a(f);K!==null&&L(P,K.startTime-Q),re=!1}return re}finally{h=null,g=te,j=!1}}var D=!1,E=null,O=-1,I=5,z=-1;function B(){return!(t.unstable_now()-z<I)}function Y(){if(E!==null){var H=t.unstable_now();z=H;var Q=!0;try{Q=E(!0,H)}finally{Q?$():(D=!1,E=null)}}else D=!1}var $;if(typeof S=="function")$=function(){S(Y)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,G=M.port2;M.port1.onmessage=Y,$=function(){G.postMessage(null)}}else $=function(){w(Y,0)};function T(H){E=H,D||(D=!0,$())}function L(H,Q){O=w(function(){H(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){b||j||(b=!0,T(R))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return a(m)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var te=g;g=Q;try{return H()}finally{g=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=g;g=H;try{return Q()}finally{g=te}},t.unstable_scheduleCallback=function(H,Q,te){var A=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?A+te:A):te=A,H){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,H={id:p++,callback:Q,priorityLevel:H,startTime:te,expirationTime:W,sortIndex:-1},te>A?(H.sortIndex=te,s(f,H),a(m)===null&&H===a(f)&&(y?(C(O),O=-1):y=!0,L(P,te-A))):(H.sortIndex=W,s(m,H),b||j||(b=!0,T(R))),H},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(H){var Q=g;return function(){var te=g;g=Q;try{return H.apply(this,arguments)}finally{g=te}}}})(Hf)),Hf}var Iv;function pC(){return Iv||(Iv=1,Uf.exports=fC()),Uf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function hC(){if(Lv)return Sr;Lv=1;var t=xu(),s=pC();function a(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,n={};function o(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(n[i]=l,i=0;i<l.length;i++)r.add(l[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(i){return m.call(h,i)?!0:m.call(p,i)?!1:f.test(i)?h[i]=!0:(p[i]=!0,!1)}function j(i,l,u,v){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,l,u,v){if(l===null||typeof l>"u"||j(i,l,u,v))return!0;if(v)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function y(i,l,u,v,N,_,F){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=N,this.mustUseProperty=u,this.propertyName=i,this.type=l,this.sanitizeURL=_,this.removeEmptyString=F}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){w[i]=new y(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];w[l]=new y(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){w[i]=new y(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){w[i]=new y(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){w[i]=new y(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){w[i]=new y(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){w[i]=new y(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){w[i]=new y(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){w[i]=new y(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function S(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(C,S);w[l]=new y(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(C,S);w[l]=new y(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(C,S);w[l]=new y(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){w[i]=new y(i,1,!1,i.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){w[i]=new y(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,l,u,v){var N=w.hasOwnProperty(l)?w[l]:null;(N!==null?N.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,u,N,v)&&(u=null),v||N===null?g(l)&&(u===null?i.removeAttribute(l):i.setAttribute(l,""+u)):N.mustUseProperty?i[N.propertyName]=u===null?N.type===3?!1:"":u:(l=N.attributeName,v=N.attributeNamespace,u===null?i.removeAttribute(l):(N=N.type,u=N===3||N===4&&u===!0?"":""+u,v?i.setAttributeNS(v,l,u):i.setAttribute(l,u))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),D=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),B=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),H=Symbol.iterator;function Q(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var te=Object.assign,A;function W(i){if(A===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);A=l&&l[1]||""}return`
`+A+i}var re=!1;function K(i,l){if(!i||re)return"";re=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(de){var v=de}Reflect.construct(i,[],l)}else{try{l.call()}catch(de){v=de}i.call(l.prototype)}else{try{throw Error()}catch(de){v=de}i()}}catch(de){if(de&&v&&typeof de.stack=="string"){for(var N=de.stack.split(`
`),_=v.stack.split(`
`),F=N.length-1,q=_.length-1;1<=F&&0<=q&&N[F]!==_[q];)q--;for(;1<=F&&0<=q;F--,q--)if(N[F]!==_[q]){if(F!==1||q!==1)do if(F--,q--,0>q||N[F]!==_[q]){var ee=`
`+N[F].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=F&&0<=q);break}}}finally{re=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?W(i):""}function J(i){switch(i.tag){case 5:return W(i.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return i=K(i.type,!1),i;case 11:return i=K(i.type.render,!1),i;case 1:return i=K(i.type,!0),i;default:return""}}function V(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case D:return"Portal";case I:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case M:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case B:return(i.displayName||"Context")+".Consumer";case z:return(i._context.displayName||"Context")+".Provider";case Y:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return l=i.displayName||null,l!==null?l:V(i.type)||"Memo";case T:l=i._payload,i=i._init;try{return V(i(l))}catch{}}return null}function U(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(l);case 8:return l===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function X(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function le(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ve(i){var l=le(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),v=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var N=u.get,_=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return N.call(this)},set:function(F){v=""+F,_.call(this,F)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return v},setValue:function(F){v=""+F},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Se(i){i._valueTracker||(i._valueTracker=ve(i))}function Re(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),v="";return i&&(v=le(i)?i.checked?"true":"false":i.value),i=v,i!==u?(l.setValue(i),!0):!1}function Ee(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Le(i,l){var u=l.checked;return te({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function st(i,l){var u=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;u=X(l.value!=null?l.value:u),i._wrapperState={initialChecked:v,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ut(i,l){l=l.checked,l!=null&&k(i,"checked",l,!1)}function He(i,l){ut(i,l);var u=X(l.value),v=l.type;if(u!=null)v==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(v==="submit"||v==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Ht(i,l.type,u):l.hasOwnProperty("defaultValue")&&Ht(i,l.type,X(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Xt(i,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,u||l===i.value||(i.value=l),i.defaultValue=l}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Ht(i,l,u){(l!=="number"||Ee(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Vt=Array.isArray;function pa(i,l,u,v){if(i=i.options,l){l={};for(var N=0;N<u.length;N++)l["$"+u[N]]=!0;for(u=0;u<i.length;u++)N=l.hasOwnProperty("$"+i[u].value),i[u].selected!==N&&(i[u].selected=N),N&&v&&(i[u].defaultSelected=!0)}else{for(u=""+X(u),l=null,N=0;N<i.length;N++){if(i[N].value===u){i[N].selected=!0,v&&(i[N].defaultSelected=!0);return}l!==null||i[N].disabled||(l=i[N])}l!==null&&(l.selected=!0)}}function $a(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(a(91));return te({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ke(i,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(a(92));if(Vt(u)){if(1<u.length)throw Error(a(93));u=u[0]}l=u}l==null&&(l=""),u=l}i._wrapperState={initialValue:X(u)}}function na(i,l){var u=X(l.value),v=X(l.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),l.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),v!=null&&(i.defaultValue=""+v)}function za(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Tt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cr(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Tt(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ft,vr=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,u,v,N){MSApp.execUnsafeLocalFunction(function(){return i(l,u,v,N)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Ft=Ft||document.createElement("div"),Ft.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ft.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function $t(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var Jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kr=["Webkit","ms","Moz","O"];Object.keys(Jt).forEach(function(i){Kr.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Jt[l]=Jt[i]})});function fn(i,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||Jt.hasOwnProperty(i)&&Jt[i]?(""+l).trim():l+"px"}function ti(i,l){i=i.style;for(var u in l)if(l.hasOwnProperty(u)){var v=u.indexOf("--")===0,N=fn(u,l[u],v);u==="float"&&(u="cssFloat"),v?i.setProperty(u,N):i[u]=N}}var $o=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(i,l){if(l){if($o[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(a(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(a(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(a(61))}if(l.style!=null&&typeof l.style!="object")throw Error(a(62))}}function De(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ve=null;function At(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fe=null,Ze=null,Qt=null;function We(i){if(i=dl(i)){if(typeof Fe!="function")throw Error(a(280));var l=i.stateNode;l&&(l=Rc(l),Fe(i.stateNode,i.type,l))}}function Ke(i){Ze?Qt?Qt.push(i):Qt=[i]:Ze=i}function lt(){if(Ze){var i=Ze,l=Qt;if(Qt=Ze=null,We(i),l)for(i=0;i<l.length;i++)We(l[i])}}function Te(i,l){return i(l)}function et(){}var be=!1;function Aa(i,l,u){if(be)return i(l,u);be=!0;try{return Te(i,l,u)}finally{be=!1,(Ze!==null||Qt!==null)&&(et(),lt())}}function Oa(i,l){var u=i.stateNode;if(u===null)return null;var v=Rc(u);if(v===null)return null;u=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,l,typeof u));return u}var da=!1;if(d)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){da=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{da=!1}function ha(i,l,u,v,N,_,F,q,ee){var de=Array.prototype.slice.call(arguments,3);try{l.apply(u,de)}catch(Ne){this.onError(Ne)}}var ba=!1,Gr=null,ai=!1,Fi=null,cc={onError:function(i){ba=!0,Gr=i}};function dc(i,l,u,v,N,_,F,q,ee){ba=!1,Gr=null,ha.apply(cc,arguments)}function uc(i,l,u,v,N,_,F,q,ee){if(dc.apply(this,arguments),ba){if(ba){var de=Gr;ba=!1,Gr=null}else throw Error(a(198));ai||(ai=!0,Fi=de)}}function us(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function zo(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Bo(i){if(us(i)!==i)throw Error(a(188))}function mc(i){var l=i.alternate;if(!l){if(l=us(i),l===null)throw Error(a(188));return l!==i?null:i}for(var u=i,v=l;;){var N=u.return;if(N===null)break;var _=N.alternate;if(_===null){if(v=N.return,v!==null){u=v;continue}break}if(N.child===_.child){for(_=N.child;_;){if(_===u)return Bo(N),i;if(_===v)return Bo(N),l;_=_.sibling}throw Error(a(188))}if(u.return!==v.return)u=N,v=_;else{for(var F=!1,q=N.child;q;){if(q===u){F=!0,u=N,v=_;break}if(q===v){F=!0,v=N,u=_;break}q=q.sibling}if(!F){for(q=_.child;q;){if(q===u){F=!0,u=_,v=N;break}if(q===v){F=!0,v=_,u=N;break}q=q.sibling}if(!F)throw Error(a(189))}}if(u.alternate!==v)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:l}function Uo(i){return i=mc(i),i!==null?Ho(i):null}function Ho(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Ho(i);if(l!==null)return l;i=i.sibling}return null}var Vo=s.unstable_scheduleCallback,Wo=s.unstable_cancelCallback,Pe=s.unstable_shouldYield,xe=s.unstable_requestPaint,mt=s.unstable_now,ze=s.unstable_getCurrentPriorityLevel,Ka=s.unstable_ImmediatePriority,oa=s.unstable_UserBlockingPriority,ja=s.unstable_NormalPriority,zt=s.unstable_LowPriority,Ba=s.unstable_IdlePriority,wa=null,dr=null;function sm(i){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(wa,i,void 0,(i.current.flags&128)===128)}catch{}}var la=Math.clz32?Math.clz32:CS,NS=Math.log,SS=Math.LN2;function CS(i){return i>>>=0,i===0?32:31-(NS(i)/SS|0)|0}var fc=64,pc=4194304;function Yo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function hc(i,l){var u=i.pendingLanes;if(u===0)return 0;var v=0,N=i.suspendedLanes,_=i.pingedLanes,F=u&268435455;if(F!==0){var q=F&~N;q!==0?v=Yo(q):(_&=F,_!==0&&(v=Yo(_)))}else F=u&~N,F!==0?v=Yo(F):_!==0&&(v=Yo(_));if(v===0)return 0;if(l!==0&&l!==v&&(l&N)===0&&(N=v&-v,_=l&-l,N>=_||N===16&&(_&4194240)!==0))return l;if((v&4)!==0&&(v|=u&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=v;0<l;)u=31-la(l),N=1<<u,v|=i[u],l&=~N;return v}function kS(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _S(i,l){for(var u=i.suspendedLanes,v=i.pingedLanes,N=i.expirationTimes,_=i.pendingLanes;0<_;){var F=31-la(_),q=1<<F,ee=N[F];ee===-1?((q&u)===0||(q&v)!==0)&&(N[F]=kS(q,l)):ee<=l&&(i.expiredLanes|=q),_&=~q}}function nm(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function lx(){var i=fc;return fc<<=1,(fc&4194240)===0&&(fc=64),i}function im(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function qo(i,l,u){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-la(l),i[l]=u}function ES(i,l){var u=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var v=i.eventTimes;for(i=i.expirationTimes;0<u;){var N=31-la(u),_=1<<N;l[N]=0,v[N]=-1,i[N]=-1,u&=~_}}function om(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var v=31-la(u),N=1<<v;N&l|i[v]&l&&(i[v]|=l),u&=~N}}var Yt=0;function cx(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var dx,lm,ux,mx,fx,cm=!1,xc=[],pn=null,hn=null,xn=null,Ko=new Map,Go=new Map,gn=[],DS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function px(i,l){switch(i){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Ko.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(l.pointerId)}}function Qo(i,l,u,v,N,_){return i===null||i.nativeEvent!==_?(i={blockedOn:l,domEventName:u,eventSystemFlags:v,nativeEvent:_,targetContainers:[N]},l!==null&&(l=dl(l),l!==null&&lm(l)),i):(i.eventSystemFlags|=v,l=i.targetContainers,N!==null&&l.indexOf(N)===-1&&l.push(N),i)}function PS(i,l,u,v,N){switch(l){case"focusin":return pn=Qo(pn,i,l,u,v,N),!0;case"dragenter":return hn=Qo(hn,i,l,u,v,N),!0;case"mouseover":return xn=Qo(xn,i,l,u,v,N),!0;case"pointerover":var _=N.pointerId;return Ko.set(_,Qo(Ko.get(_)||null,i,l,u,v,N)),!0;case"gotpointercapture":return _=N.pointerId,Go.set(_,Qo(Go.get(_)||null,i,l,u,v,N)),!0}return!1}function hx(i){var l=ri(i.target);if(l!==null){var u=us(l);if(u!==null){if(l=u.tag,l===13){if(l=zo(u),l!==null){i.blockedOn=l,fx(i.priority,function(){ux(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=um(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var v=new u.constructor(u.type,u);Ve=v,u.target.dispatchEvent(v),Ve=null}else return l=dl(u),l!==null&&lm(l),i.blockedOn=u,!1;l.shift()}return!0}function xx(i,l,u){gc(i)&&u.delete(l)}function RS(){cm=!1,pn!==null&&gc(pn)&&(pn=null),hn!==null&&gc(hn)&&(hn=null),xn!==null&&gc(xn)&&(xn=null),Ko.forEach(xx),Go.forEach(xx)}function Xo(i,l){i.blockedOn===l&&(i.blockedOn=null,cm||(cm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,RS)))}function Jo(i){function l(N){return Xo(N,i)}if(0<xc.length){Xo(xc[0],i);for(var u=1;u<xc.length;u++){var v=xc[u];v.blockedOn===i&&(v.blockedOn=null)}}for(pn!==null&&Xo(pn,i),hn!==null&&Xo(hn,i),xn!==null&&Xo(xn,i),Ko.forEach(l),Go.forEach(l),u=0;u<gn.length;u++)v=gn[u],v.blockedOn===i&&(v.blockedOn=null);for(;0<gn.length&&(u=gn[0],u.blockedOn===null);)hx(u),u.blockedOn===null&&gn.shift()}var $i=P.ReactCurrentBatchConfig,vc=!0;function MS(i,l,u,v){var N=Yt,_=$i.transition;$i.transition=null;try{Yt=1,dm(i,l,u,v)}finally{Yt=N,$i.transition=_}}function TS(i,l,u,v){var N=Yt,_=$i.transition;$i.transition=null;try{Yt=4,dm(i,l,u,v)}finally{Yt=N,$i.transition=_}}function dm(i,l,u,v){if(vc){var N=um(i,l,u,v);if(N===null)Em(i,l,v,yc,u),px(i,v);else if(PS(N,i,l,u,v))v.stopPropagation();else if(px(i,v),l&4&&-1<DS.indexOf(i)){for(;N!==null;){var _=dl(N);if(_!==null&&dx(_),_=um(i,l,u,v),_===null&&Em(i,l,v,yc,u),_===N)break;N=_}N!==null&&v.stopPropagation()}else Em(i,l,v,null,u)}}var yc=null;function um(i,l,u,v){if(yc=null,i=At(v),i=ri(i),i!==null)if(l=us(i),l===null)i=null;else if(u=l.tag,u===13){if(i=zo(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return yc=i,null}function gx(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ze()){case Ka:return 1;case oa:return 4;case ja:case zt:return 16;case Ba:return 536870912;default:return 16}default:return 16}}var vn=null,mm=null,bc=null;function vx(){if(bc)return bc;var i,l=mm,u=l.length,v,N="value"in vn?vn.value:vn.textContent,_=N.length;for(i=0;i<u&&l[i]===N[i];i++);var F=u-i;for(v=1;v<=F&&l[u-v]===N[_-v];v++);return bc=N.slice(i,1<v?1-v:void 0)}function jc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function wc(){return!0}function yx(){return!1}function Er(i){function l(u,v,N,_,F){this._reactName=u,this._targetInst=N,this.type=v,this.nativeEvent=_,this.target=F,this.currentTarget=null;for(var q in i)i.hasOwnProperty(q)&&(u=i[q],this[q]=u?u(_):_[q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?wc:yx,this.isPropagationStopped=yx,this}return te(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),l}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fm=Er(zi),Zo=te({},zi,{view:0,detail:0}),AS=Er(Zo),pm,hm,el,Nc=te({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==el&&(el&&i.type==="mousemove"?(pm=i.screenX-el.screenX,hm=i.screenY-el.screenY):hm=pm=0,el=i),pm)},movementY:function(i){return"movementY"in i?i.movementY:hm}}),bx=Er(Nc),OS=te({},Nc,{dataTransfer:0}),IS=Er(OS),LS=te({},Zo,{relatedTarget:0}),xm=Er(LS),FS=te({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),$S=Er(FS),zS=te({},zi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),BS=Er(zS),US=te({},zi,{data:0}),jx=Er(US),HS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YS(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=WS[i])?!!l[i]:!1}function gm(){return YS}var qS=te({},Zo,{key:function(i){if(i.key){var l=HS[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=jc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?VS[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(i){return i.type==="keypress"?jc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?jc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),KS=Er(qS),GS=te({},Nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wx=Er(GS),QS=te({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),XS=Er(QS),JS=te({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZS=Er(JS),e2=te({},Nc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),t2=Er(e2),a2=[9,13,27,32],vm=d&&"CompositionEvent"in window,tl=null;d&&"documentMode"in document&&(tl=document.documentMode);var r2=d&&"TextEvent"in window&&!tl,Nx=d&&(!vm||tl&&8<tl&&11>=tl),Sx=" ",Cx=!1;function kx(i,l){switch(i){case"keyup":return a2.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bi=!1;function s2(i,l){switch(i){case"compositionend":return _x(l);case"keypress":return l.which!==32?null:(Cx=!0,Sx);case"textInput":return i=l.data,i===Sx&&Cx?null:i;default:return null}}function n2(i,l){if(Bi)return i==="compositionend"||!vm&&kx(i,l)?(i=vx(),bc=mm=vn=null,Bi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Nx&&l.locale!=="ko"?null:l.data;default:return null}}var i2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ex(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!i2[i.type]:l==="textarea"}function Dx(i,l,u,v){Ke(v),l=Ec(l,"onChange"),0<l.length&&(u=new fm("onChange","change",null,u,v),i.push({event:u,listeners:l}))}var al=null,rl=null;function o2(i){qx(i,0)}function Sc(i){var l=Yi(i);if(Re(l))return i}function l2(i,l){if(i==="change")return l}var Px=!1;if(d){var ym;if(d){var bm="oninput"in document;if(!bm){var Rx=document.createElement("div");Rx.setAttribute("oninput","return;"),bm=typeof Rx.oninput=="function"}ym=bm}else ym=!1;Px=ym&&(!document.documentMode||9<document.documentMode)}function Mx(){al&&(al.detachEvent("onpropertychange",Tx),rl=al=null)}function Tx(i){if(i.propertyName==="value"&&Sc(rl)){var l=[];Dx(l,rl,i,At(i)),Aa(o2,l)}}function c2(i,l,u){i==="focusin"?(Mx(),al=l,rl=u,al.attachEvent("onpropertychange",Tx)):i==="focusout"&&Mx()}function d2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Sc(rl)}function u2(i,l){if(i==="click")return Sc(l)}function m2(i,l){if(i==="input"||i==="change")return Sc(l)}function f2(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Qr=typeof Object.is=="function"?Object.is:f2;function sl(i,l){if(Qr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),v=Object.keys(l);if(u.length!==v.length)return!1;for(v=0;v<u.length;v++){var N=u[v];if(!m.call(l,N)||!Qr(i[N],l[N]))return!1}return!0}function Ax(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ox(i,l){var u=Ax(i);i=0;for(var v;u;){if(u.nodeType===3){if(v=i+u.textContent.length,i<=l&&v>=l)return{node:u,offset:l-i};i=v}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ax(u)}}function Ix(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Ix(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Lx(){for(var i=window,l=Ee();l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Ee(i.document)}return l}function jm(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function p2(i){var l=Lx(),u=i.focusedElem,v=i.selectionRange;if(l!==u&&u&&u.ownerDocument&&Ix(u.ownerDocument.documentElement,u)){if(v!==null&&jm(u)){if(l=v.start,i=v.end,i===void 0&&(i=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(i,u.value.length);else if(i=(l=u.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var N=u.textContent.length,_=Math.min(v.start,N);v=v.end===void 0?_:Math.min(v.end,N),!i.extend&&_>v&&(N=v,v=_,_=N),N=Ox(u,_);var F=Ox(u,v);N&&F&&(i.rangeCount!==1||i.anchorNode!==N.node||i.anchorOffset!==N.offset||i.focusNode!==F.node||i.focusOffset!==F.offset)&&(l=l.createRange(),l.setStart(N.node,N.offset),i.removeAllRanges(),_>v?(i.addRange(l),i.extend(F.node,F.offset)):(l.setEnd(F.node,F.offset),i.addRange(l)))}}for(l=[],i=u;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)i=l[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var h2=d&&"documentMode"in document&&11>=document.documentMode,Ui=null,wm=null,nl=null,Nm=!1;function Fx(i,l,u){var v=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Nm||Ui==null||Ui!==Ee(v)||(v=Ui,"selectionStart"in v&&jm(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),nl&&sl(nl,v)||(nl=v,v=Ec(wm,"onSelect"),0<v.length&&(l=new fm("onSelect","select",null,l,u),i.push({event:l,listeners:v}),l.target=Ui)))}function Cc(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var Hi={animationend:Cc("Animation","AnimationEnd"),animationiteration:Cc("Animation","AnimationIteration"),animationstart:Cc("Animation","AnimationStart"),transitionend:Cc("Transition","TransitionEnd")},Sm={},$x={};d&&($x=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function kc(i){if(Sm[i])return Sm[i];if(!Hi[i])return i;var l=Hi[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in $x)return Sm[i]=l[u];return i}var zx=kc("animationend"),Bx=kc("animationiteration"),Ux=kc("animationstart"),Hx=kc("transitionend"),Vx=new Map,Wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(i,l){Vx.set(i,l),o(l,[i])}for(var Cm=0;Cm<Wx.length;Cm++){var km=Wx[Cm],x2=km.toLowerCase(),g2=km[0].toUpperCase()+km.slice(1);yn(x2,"on"+g2)}yn(zx,"onAnimationEnd"),yn(Bx,"onAnimationIteration"),yn(Ux,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Hx,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Yx(i,l,u){var v=i.type||"unknown-event";i.currentTarget=u,uc(v,l,void 0,i),i.currentTarget=null}function qx(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var v=i[u],N=v.event;v=v.listeners;e:{var _=void 0;if(l)for(var F=v.length-1;0<=F;F--){var q=v[F],ee=q.instance,de=q.currentTarget;if(q=q.listener,ee!==_&&N.isPropagationStopped())break e;Yx(N,q,de),_=ee}else for(F=0;F<v.length;F++){if(q=v[F],ee=q.instance,de=q.currentTarget,q=q.listener,ee!==_&&N.isPropagationStopped())break e;Yx(N,q,de),_=ee}}}if(ai)throw i=Fi,ai=!1,Fi=null,i}function aa(i,l){var u=l[Am];u===void 0&&(u=l[Am]=new Set);var v=i+"__bubble";u.has(v)||(Kx(l,i,2,!1),u.add(v))}function _m(i,l,u){var v=0;l&&(v|=4),Kx(u,i,v,l)}var _c="_reactListening"+Math.random().toString(36).slice(2);function ol(i){if(!i[_c]){i[_c]=!0,r.forEach(function(u){u!=="selectionchange"&&(v2.has(u)||_m(u,!1,i),_m(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[_c]||(l[_c]=!0,_m("selectionchange",!1,l))}}function Kx(i,l,u,v){switch(gx(l)){case 1:var N=MS;break;case 4:N=TS;break;default:N=dm}u=N.bind(null,l,u,i),N=void 0,!da||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(N=!0),v?N!==void 0?i.addEventListener(l,u,{capture:!0,passive:N}):i.addEventListener(l,u,!0):N!==void 0?i.addEventListener(l,u,{passive:N}):i.addEventListener(l,u,!1)}function Em(i,l,u,v,N){var _=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var F=v.tag;if(F===3||F===4){var q=v.stateNode.containerInfo;if(q===N||q.nodeType===8&&q.parentNode===N)break;if(F===4)for(F=v.return;F!==null;){var ee=F.tag;if((ee===3||ee===4)&&(ee=F.stateNode.containerInfo,ee===N||ee.nodeType===8&&ee.parentNode===N))return;F=F.return}for(;q!==null;){if(F=ri(q),F===null)return;if(ee=F.tag,ee===5||ee===6){v=_=F;continue e}q=q.parentNode}}v=v.return}Aa(function(){var de=_,Ne=At(u),Ce=[];e:{var je=Vx.get(i);if(je!==void 0){var $e=fm,Ye=i;switch(i){case"keypress":if(jc(u)===0)break e;case"keydown":case"keyup":$e=KS;break;case"focusin":Ye="focus",$e=xm;break;case"focusout":Ye="blur",$e=xm;break;case"beforeblur":case"afterblur":$e=xm;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=IS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=XS;break;case zx:case Bx:case Ux:$e=$S;break;case Hx:$e=ZS;break;case"scroll":$e=AS;break;case"wheel":$e=t2;break;case"copy":case"cut":case"paste":$e=BS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=wx}var Ge=(l&4)!==0,Na=!Ge&&i==="scroll",se=Ge?je!==null?je+"Capture":null:je;Ge=[];for(var ae=de,oe;ae!==null;){oe=ae;var _e=oe.stateNode;if(oe.tag===5&&_e!==null&&(oe=_e,se!==null&&(_e=Oa(ae,se),_e!=null&&Ge.push(ll(ae,_e,oe)))),Na)break;ae=ae.return}0<Ge.length&&(je=new $e(je,Ye,null,u,Ne),Ce.push({event:je,listeners:Ge}))}}if((l&7)===0){e:{if(je=i==="mouseover"||i==="pointerover",$e=i==="mouseout"||i==="pointerout",je&&u!==Ve&&(Ye=u.relatedTarget||u.fromElement)&&(ri(Ye)||Ye[Us]))break e;if(($e||je)&&(je=Ne.window===Ne?Ne:(je=Ne.ownerDocument)?je.defaultView||je.parentWindow:window,$e?(Ye=u.relatedTarget||u.toElement,$e=de,Ye=Ye?ri(Ye):null,Ye!==null&&(Na=us(Ye),Ye!==Na||Ye.tag!==5&&Ye.tag!==6)&&(Ye=null)):($e=null,Ye=de),$e!==Ye)){if(Ge=bx,_e="onMouseLeave",se="onMouseEnter",ae="mouse",(i==="pointerout"||i==="pointerover")&&(Ge=wx,_e="onPointerLeave",se="onPointerEnter",ae="pointer"),Na=$e==null?je:Yi($e),oe=Ye==null?je:Yi(Ye),je=new Ge(_e,ae+"leave",$e,u,Ne),je.target=Na,je.relatedTarget=oe,_e=null,ri(Ne)===de&&(Ge=new Ge(se,ae+"enter",Ye,u,Ne),Ge.target=oe,Ge.relatedTarget=Na,_e=Ge),Na=_e,$e&&Ye)t:{for(Ge=$e,se=Ye,ae=0,oe=Ge;oe;oe=Vi(oe))ae++;for(oe=0,_e=se;_e;_e=Vi(_e))oe++;for(;0<ae-oe;)Ge=Vi(Ge),ae--;for(;0<oe-ae;)se=Vi(se),oe--;for(;ae--;){if(Ge===se||se!==null&&Ge===se.alternate)break t;Ge=Vi(Ge),se=Vi(se)}Ge=null}else Ge=null;$e!==null&&Gx(Ce,je,$e,Ge,!1),Ye!==null&&Na!==null&&Gx(Ce,Na,Ye,Ge,!0)}}e:{if(je=de?Yi(de):window,$e=je.nodeName&&je.nodeName.toLowerCase(),$e==="select"||$e==="input"&&je.type==="file")var Qe=l2;else if(Ex(je))if(Px)Qe=m2;else{Qe=d2;var tt=c2}else($e=je.nodeName)&&$e.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(Qe=u2);if(Qe&&(Qe=Qe(i,de))){Dx(Ce,Qe,u,Ne);break e}tt&&tt(i,je,de),i==="focusout"&&(tt=je._wrapperState)&&tt.controlled&&je.type==="number"&&Ht(je,"number",je.value)}switch(tt=de?Yi(de):window,i){case"focusin":(Ex(tt)||tt.contentEditable==="true")&&(Ui=tt,wm=de,nl=null);break;case"focusout":nl=wm=Ui=null;break;case"mousedown":Nm=!0;break;case"contextmenu":case"mouseup":case"dragend":Nm=!1,Fx(Ce,u,Ne);break;case"selectionchange":if(h2)break;case"keydown":case"keyup":Fx(Ce,u,Ne)}var at;if(vm)e:{switch(i){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Bi?kx(i,u)&&(ct="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ct="onCompositionStart");ct&&(Nx&&u.locale!=="ko"&&(Bi||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Bi&&(at=vx()):(vn=Ne,mm="value"in vn?vn.value:vn.textContent,Bi=!0)),tt=Ec(de,ct),0<tt.length&&(ct=new jx(ct,i,null,u,Ne),Ce.push({event:ct,listeners:tt}),at?ct.data=at:(at=_x(u),at!==null&&(ct.data=at)))),(at=r2?s2(i,u):n2(i,u))&&(de=Ec(de,"onBeforeInput"),0<de.length&&(Ne=new jx("onBeforeInput","beforeinput",null,u,Ne),Ce.push({event:Ne,listeners:de}),Ne.data=at))}qx(Ce,l)})}function ll(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Ec(i,l){for(var u=l+"Capture",v=[];i!==null;){var N=i,_=N.stateNode;N.tag===5&&_!==null&&(N=_,_=Oa(i,u),_!=null&&v.unshift(ll(i,_,N)),_=Oa(i,l),_!=null&&v.push(ll(i,_,N))),i=i.return}return v}function Vi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Gx(i,l,u,v,N){for(var _=l._reactName,F=[];u!==null&&u!==v;){var q=u,ee=q.alternate,de=q.stateNode;if(ee!==null&&ee===v)break;q.tag===5&&de!==null&&(q=de,N?(ee=Oa(u,_),ee!=null&&F.unshift(ll(u,ee,q))):N||(ee=Oa(u,_),ee!=null&&F.push(ll(u,ee,q)))),u=u.return}F.length!==0&&i.push({event:l,listeners:F})}var y2=/\r\n?/g,b2=/\u0000|\uFFFD/g;function Qx(i){return(typeof i=="string"?i:""+i).replace(y2,`
`).replace(b2,"")}function Dc(i,l,u){if(l=Qx(l),Qx(i)!==l&&u)throw Error(a(425))}function Pc(){}var Dm=null,Pm=null;function Rm(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Mm=typeof setTimeout=="function"?setTimeout:void 0,j2=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(i){return Xx.resolve(null).then(i).catch(N2)}:Mm;function N2(i){setTimeout(function(){throw i})}function Tm(i,l){var u=l,v=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(v===0){i.removeChild(N),Jo(l);return}v--}else u!=="$"&&u!=="$?"&&u!=="$!"||v++;u=N}while(u);Jo(l)}function bn(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Jx(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}var Wi=Math.random().toString(36).slice(2),ms="__reactFiber$"+Wi,cl="__reactProps$"+Wi,Us="__reactContainer$"+Wi,Am="__reactEvents$"+Wi,S2="__reactListeners$"+Wi,C2="__reactHandles$"+Wi;function ri(i){var l=i[ms];if(l)return l;for(var u=i.parentNode;u;){if(l=u[Us]||u[ms]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=Jx(i);i!==null;){if(u=i[ms])return u;i=Jx(i)}return l}i=u,u=i.parentNode}return null}function dl(i){return i=i[ms]||i[Us],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Yi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(a(33))}function Rc(i){return i[cl]||null}var Om=[],qi=-1;function jn(i){return{current:i}}function ra(i){0>qi||(i.current=Om[qi],Om[qi]=null,qi--)}function ea(i,l){qi++,Om[qi]=i.current,i.current=l}var wn={},er=jn(wn),yr=jn(!1),si=wn;function Ki(i,l){var u=i.type.contextTypes;if(!u)return wn;var v=i.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var N={},_;for(_ in u)N[_]=l[_];return v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=N),N}function br(i){return i=i.childContextTypes,i!=null}function Mc(){ra(yr),ra(er)}function Zx(i,l,u){if(er.current!==wn)throw Error(a(168));ea(er,l),ea(yr,u)}function eg(i,l,u){var v=i.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return u;v=v.getChildContext();for(var N in v)if(!(N in l))throw Error(a(108,U(i)||"Unknown",N));return te({},u,v)}function Tc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||wn,si=er.current,ea(er,i),ea(yr,yr.current),!0}function tg(i,l,u){var v=i.stateNode;if(!v)throw Error(a(169));u?(i=eg(i,l,si),v.__reactInternalMemoizedMergedChildContext=i,ra(yr),ra(er),ea(er,i)):ra(yr),ea(yr,u)}var Hs=null,Ac=!1,Im=!1;function ag(i){Hs===null?Hs=[i]:Hs.push(i)}function k2(i){Ac=!0,ag(i)}function Nn(){if(!Im&&Hs!==null){Im=!0;var i=0,l=Yt;try{var u=Hs;for(Yt=1;i<u.length;i++){var v=u[i];do v=v(!0);while(v!==null)}Hs=null,Ac=!1}catch(N){throw Hs!==null&&(Hs=Hs.slice(i+1)),Vo(Ka,Nn),N}finally{Yt=l,Im=!1}}return null}var Gi=[],Qi=0,Oc=null,Ic=0,Ir=[],Lr=0,ni=null,Vs=1,Ws="";function ii(i,l){Gi[Qi++]=Ic,Gi[Qi++]=Oc,Oc=i,Ic=l}function rg(i,l,u){Ir[Lr++]=Vs,Ir[Lr++]=Ws,Ir[Lr++]=ni,ni=i;var v=Vs;i=Ws;var N=32-la(v)-1;v&=~(1<<N),u+=1;var _=32-la(l)+N;if(30<_){var F=N-N%5;_=(v&(1<<F)-1).toString(32),v>>=F,N-=F,Vs=1<<32-la(l)+N|u<<N|v,Ws=_+i}else Vs=1<<_|u<<N|v,Ws=i}function Lm(i){i.return!==null&&(ii(i,1),rg(i,1,0))}function Fm(i){for(;i===Oc;)Oc=Gi[--Qi],Gi[Qi]=null,Ic=Gi[--Qi],Gi[Qi]=null;for(;i===ni;)ni=Ir[--Lr],Ir[Lr]=null,Ws=Ir[--Lr],Ir[Lr]=null,Vs=Ir[--Lr],Ir[Lr]=null}var Dr=null,Pr=null,ca=!1,Xr=null;function sg(i,l){var u=Br(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=i,l=i.deletions,l===null?(i.deletions=[u],i.flags|=16):l.push(u)}function ng(i,l){switch(i.tag){case 5:var u=i.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Dr=i,Pr=bn(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Dr=i,Pr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=ni!==null?{id:Vs,overflow:Ws}:null,i.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=Br(18,null,null,0),u.stateNode=l,u.return=i,i.child=u,Dr=i,Pr=null,!0):!1;default:return!1}}function $m(i){return(i.mode&1)!==0&&(i.flags&128)===0}function zm(i){if(ca){var l=Pr;if(l){var u=l;if(!ng(i,l)){if($m(i))throw Error(a(418));l=bn(u.nextSibling);var v=Dr;l&&ng(i,l)?sg(v,u):(i.flags=i.flags&-4097|2,ca=!1,Dr=i)}}else{if($m(i))throw Error(a(418));i.flags=i.flags&-4097|2,ca=!1,Dr=i}}}function ig(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Dr=i}function Lc(i){if(i!==Dr)return!1;if(!ca)return ig(i),ca=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Rm(i.type,i.memoizedProps)),l&&(l=Pr)){if($m(i))throw og(),Error(a(418));for(;l;)sg(i,l),l=bn(l.nextSibling)}if(ig(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(l===0){Pr=bn(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}i=i.nextSibling}Pr=null}}else Pr=Dr?bn(i.stateNode.nextSibling):null;return!0}function og(){for(var i=Pr;i;)i=bn(i.nextSibling)}function Xi(){Pr=Dr=null,ca=!1}function Bm(i){Xr===null?Xr=[i]:Xr.push(i)}var _2=P.ReactCurrentBatchConfig;function ul(i,l,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(a(309));var v=u.stateNode}if(!v)throw Error(a(147,i));var N=v,_=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(F){var q=N.refs;F===null?delete q[_]:q[_]=F},l._stringRef=_,l)}if(typeof i!="string")throw Error(a(284));if(!u._owner)throw Error(a(290,i))}return i}function Fc(i,l){throw i=Object.prototype.toString.call(l),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function lg(i){var l=i._init;return l(i._payload)}function cg(i){function l(se,ae){if(i){var oe=se.deletions;oe===null?(se.deletions=[ae],se.flags|=16):oe.push(ae)}}function u(se,ae){if(!i)return null;for(;ae!==null;)l(se,ae),ae=ae.sibling;return null}function v(se,ae){for(se=new Map;ae!==null;)ae.key!==null?se.set(ae.key,ae):se.set(ae.index,ae),ae=ae.sibling;return se}function N(se,ae){return se=Rn(se,ae),se.index=0,se.sibling=null,se}function _(se,ae,oe){return se.index=oe,i?(oe=se.alternate,oe!==null?(oe=oe.index,oe<ae?(se.flags|=2,ae):oe):(se.flags|=2,ae)):(se.flags|=1048576,ae)}function F(se){return i&&se.alternate===null&&(se.flags|=2),se}function q(se,ae,oe,_e){return ae===null||ae.tag!==6?(ae=Tf(oe,se.mode,_e),ae.return=se,ae):(ae=N(ae,oe),ae.return=se,ae)}function ee(se,ae,oe,_e){var Qe=oe.type;return Qe===E?Ne(se,ae,oe.props.children,_e,oe.key):ae!==null&&(ae.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===T&&lg(Qe)===ae.type)?(_e=N(ae,oe.props),_e.ref=ul(se,ae,oe),_e.return=se,_e):(_e=ld(oe.type,oe.key,oe.props,null,se.mode,_e),_e.ref=ul(se,ae,oe),_e.return=se,_e)}function de(se,ae,oe,_e){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==oe.containerInfo||ae.stateNode.implementation!==oe.implementation?(ae=Af(oe,se.mode,_e),ae.return=se,ae):(ae=N(ae,oe.children||[]),ae.return=se,ae)}function Ne(se,ae,oe,_e,Qe){return ae===null||ae.tag!==7?(ae=pi(oe,se.mode,_e,Qe),ae.return=se,ae):(ae=N(ae,oe),ae.return=se,ae)}function Ce(se,ae,oe){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=Tf(""+ae,se.mode,oe),ae.return=se,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:return oe=ld(ae.type,ae.key,ae.props,null,se.mode,oe),oe.ref=ul(se,null,ae),oe.return=se,oe;case D:return ae=Af(ae,se.mode,oe),ae.return=se,ae;case T:var _e=ae._init;return Ce(se,_e(ae._payload),oe)}if(Vt(ae)||Q(ae))return ae=pi(ae,se.mode,oe,null),ae.return=se,ae;Fc(se,ae)}return null}function je(se,ae,oe,_e){var Qe=ae!==null?ae.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Qe!==null?null:q(se,ae,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:return oe.key===Qe?ee(se,ae,oe,_e):null;case D:return oe.key===Qe?de(se,ae,oe,_e):null;case T:return Qe=oe._init,je(se,ae,Qe(oe._payload),_e)}if(Vt(oe)||Q(oe))return Qe!==null?null:Ne(se,ae,oe,_e,null);Fc(se,oe)}return null}function $e(se,ae,oe,_e,Qe){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return se=se.get(oe)||null,q(ae,se,""+_e,Qe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case R:return se=se.get(_e.key===null?oe:_e.key)||null,ee(ae,se,_e,Qe);case D:return se=se.get(_e.key===null?oe:_e.key)||null,de(ae,se,_e,Qe);case T:var tt=_e._init;return $e(se,ae,oe,tt(_e._payload),Qe)}if(Vt(_e)||Q(_e))return se=se.get(oe)||null,Ne(ae,se,_e,Qe,null);Fc(ae,_e)}return null}function Ye(se,ae,oe,_e){for(var Qe=null,tt=null,at=ae,ct=ae=0,Va=null;at!==null&&ct<oe.length;ct++){at.index>ct?(Va=at,at=null):Va=at.sibling;var Lt=je(se,at,oe[ct],_e);if(Lt===null){at===null&&(at=Va);break}i&&at&&Lt.alternate===null&&l(se,at),ae=_(Lt,ae,ct),tt===null?Qe=Lt:tt.sibling=Lt,tt=Lt,at=Va}if(ct===oe.length)return u(se,at),ca&&ii(se,ct),Qe;if(at===null){for(;ct<oe.length;ct++)at=Ce(se,oe[ct],_e),at!==null&&(ae=_(at,ae,ct),tt===null?Qe=at:tt.sibling=at,tt=at);return ca&&ii(se,ct),Qe}for(at=v(se,at);ct<oe.length;ct++)Va=$e(at,se,ct,oe[ct],_e),Va!==null&&(i&&Va.alternate!==null&&at.delete(Va.key===null?ct:Va.key),ae=_(Va,ae,ct),tt===null?Qe=Va:tt.sibling=Va,tt=Va);return i&&at.forEach(function(Mn){return l(se,Mn)}),ca&&ii(se,ct),Qe}function Ge(se,ae,oe,_e){var Qe=Q(oe);if(typeof Qe!="function")throw Error(a(150));if(oe=Qe.call(oe),oe==null)throw Error(a(151));for(var tt=Qe=null,at=ae,ct=ae=0,Va=null,Lt=oe.next();at!==null&&!Lt.done;ct++,Lt=oe.next()){at.index>ct?(Va=at,at=null):Va=at.sibling;var Mn=je(se,at,Lt.value,_e);if(Mn===null){at===null&&(at=Va);break}i&&at&&Mn.alternate===null&&l(se,at),ae=_(Mn,ae,ct),tt===null?Qe=Mn:tt.sibling=Mn,tt=Mn,at=Va}if(Lt.done)return u(se,at),ca&&ii(se,ct),Qe;if(at===null){for(;!Lt.done;ct++,Lt=oe.next())Lt=Ce(se,Lt.value,_e),Lt!==null&&(ae=_(Lt,ae,ct),tt===null?Qe=Lt:tt.sibling=Lt,tt=Lt);return ca&&ii(se,ct),Qe}for(at=v(se,at);!Lt.done;ct++,Lt=oe.next())Lt=$e(at,se,ct,Lt.value,_e),Lt!==null&&(i&&Lt.alternate!==null&&at.delete(Lt.key===null?ct:Lt.key),ae=_(Lt,ae,ct),tt===null?Qe=Lt:tt.sibling=Lt,tt=Lt);return i&&at.forEach(function(iC){return l(se,iC)}),ca&&ii(se,ct),Qe}function Na(se,ae,oe,_e){if(typeof oe=="object"&&oe!==null&&oe.type===E&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:e:{for(var Qe=oe.key,tt=ae;tt!==null;){if(tt.key===Qe){if(Qe=oe.type,Qe===E){if(tt.tag===7){u(se,tt.sibling),ae=N(tt,oe.props.children),ae.return=se,se=ae;break e}}else if(tt.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===T&&lg(Qe)===tt.type){u(se,tt.sibling),ae=N(tt,oe.props),ae.ref=ul(se,tt,oe),ae.return=se,se=ae;break e}u(se,tt);break}else l(se,tt);tt=tt.sibling}oe.type===E?(ae=pi(oe.props.children,se.mode,_e,oe.key),ae.return=se,se=ae):(_e=ld(oe.type,oe.key,oe.props,null,se.mode,_e),_e.ref=ul(se,ae,oe),_e.return=se,se=_e)}return F(se);case D:e:{for(tt=oe.key;ae!==null;){if(ae.key===tt)if(ae.tag===4&&ae.stateNode.containerInfo===oe.containerInfo&&ae.stateNode.implementation===oe.implementation){u(se,ae.sibling),ae=N(ae,oe.children||[]),ae.return=se,se=ae;break e}else{u(se,ae);break}else l(se,ae);ae=ae.sibling}ae=Af(oe,se.mode,_e),ae.return=se,se=ae}return F(se);case T:return tt=oe._init,Na(se,ae,tt(oe._payload),_e)}if(Vt(oe))return Ye(se,ae,oe,_e);if(Q(oe))return Ge(se,ae,oe,_e);Fc(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,ae!==null&&ae.tag===6?(u(se,ae.sibling),ae=N(ae,oe),ae.return=se,se=ae):(u(se,ae),ae=Tf(oe,se.mode,_e),ae.return=se,se=ae),F(se)):u(se,ae)}return Na}var Ji=cg(!0),dg=cg(!1),$c=jn(null),zc=null,Zi=null,Um=null;function Hm(){Um=Zi=zc=null}function Vm(i){var l=$c.current;ra($c),i._currentValue=l}function Wm(i,l,u){for(;i!==null;){var v=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),i===u)break;i=i.return}}function eo(i,l){zc=i,Um=Zi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(jr=!0),i.firstContext=null)}function Fr(i){var l=i._currentValue;if(Um!==i)if(i={context:i,memoizedValue:l,next:null},Zi===null){if(zc===null)throw Error(a(308));Zi=i,zc.dependencies={lanes:0,firstContext:i}}else Zi=Zi.next=i;return l}var oi=null;function Ym(i){oi===null?oi=[i]:oi.push(i)}function ug(i,l,u,v){var N=l.interleaved;return N===null?(u.next=u,Ym(l)):(u.next=N.next,N.next=u),l.interleaved=u,Ys(i,v)}function Ys(i,l){i.lanes|=l;var u=i.alternate;for(u!==null&&(u.lanes|=l),u=i,i=i.return;i!==null;)i.childLanes|=l,u=i.alternate,u!==null&&(u.childLanes|=l),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Sn=!1;function qm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mg(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qs(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Cn(i,l,u){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,(It&2)!==0){var N=v.pending;return N===null?l.next=l:(l.next=N.next,N.next=l),v.pending=l,Ys(i,u)}return N=v.interleaved,N===null?(l.next=l,Ym(v)):(l.next=N.next,N.next=l),v.interleaved=l,Ys(i,u)}function Bc(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var v=l.lanes;v&=i.pendingLanes,u|=v,l.lanes=u,om(i,u)}}function fg(i,l){var u=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,u===v)){var N=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var F={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?N=_=F:_=_.next=F,u=u.next}while(u!==null);_===null?N=_=l:_=_.next=l}else N=_=l;u={baseState:v.baseState,firstBaseUpdate:N,lastBaseUpdate:_,shared:v.shared,effects:v.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}function Uc(i,l,u,v){var N=i.updateQueue;Sn=!1;var _=N.firstBaseUpdate,F=N.lastBaseUpdate,q=N.shared.pending;if(q!==null){N.shared.pending=null;var ee=q,de=ee.next;ee.next=null,F===null?_=de:F.next=de,F=ee;var Ne=i.alternate;Ne!==null&&(Ne=Ne.updateQueue,q=Ne.lastBaseUpdate,q!==F&&(q===null?Ne.firstBaseUpdate=de:q.next=de,Ne.lastBaseUpdate=ee))}if(_!==null){var Ce=N.baseState;F=0,Ne=de=ee=null,q=_;do{var je=q.lane,$e=q.eventTime;if((v&je)===je){Ne!==null&&(Ne=Ne.next={eventTime:$e,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ye=i,Ge=q;switch(je=l,$e=u,Ge.tag){case 1:if(Ye=Ge.payload,typeof Ye=="function"){Ce=Ye.call($e,Ce,je);break e}Ce=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Ge.payload,je=typeof Ye=="function"?Ye.call($e,Ce,je):Ye,je==null)break e;Ce=te({},Ce,je);break e;case 2:Sn=!0}}q.callback!==null&&q.lane!==0&&(i.flags|=64,je=N.effects,je===null?N.effects=[q]:je.push(q))}else $e={eventTime:$e,lane:je,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Ne===null?(de=Ne=$e,ee=Ce):Ne=Ne.next=$e,F|=je;if(q=q.next,q===null){if(q=N.shared.pending,q===null)break;je=q,q=je.next,je.next=null,N.lastBaseUpdate=je,N.shared.pending=null}}while(!0);if(Ne===null&&(ee=Ce),N.baseState=ee,N.firstBaseUpdate=de,N.lastBaseUpdate=Ne,l=N.shared.interleaved,l!==null){N=l;do F|=N.lane,N=N.next;while(N!==l)}else _===null&&(N.shared.lanes=0);di|=F,i.lanes=F,i.memoizedState=Ce}}function pg(i,l,u){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var v=i[l],N=v.callback;if(N!==null){if(v.callback=null,v=u,typeof N!="function")throw Error(a(191,N));N.call(v)}}}var ml={},fs=jn(ml),fl=jn(ml),pl=jn(ml);function li(i){if(i===ml)throw Error(a(174));return i}function Km(i,l){switch(ea(pl,l),ea(fl,i),ea(fs,ml),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:cr(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=cr(l,i)}ra(fs),ea(fs,l)}function to(){ra(fs),ra(fl),ra(pl)}function hg(i){li(pl.current);var l=li(fs.current),u=cr(l,i.type);l!==u&&(ea(fl,i),ea(fs,u))}function Gm(i){fl.current===i&&(ra(fs),ra(fl))}var ua=jn(0);function Hc(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Qm=[];function Xm(){for(var i=0;i<Qm.length;i++)Qm[i]._workInProgressVersionPrimary=null;Qm.length=0}var Vc=P.ReactCurrentDispatcher,Jm=P.ReactCurrentBatchConfig,ci=0,ma=null,Ia=null,Ua=null,Wc=!1,hl=!1,xl=0,E2=0;function tr(){throw Error(a(321))}function Zm(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Qr(i[u],l[u]))return!1;return!0}function ef(i,l,u,v,N,_){if(ci=_,ma=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Vc.current=i===null||i.memoizedState===null?M2:T2,i=u(v,N),hl){_=0;do{if(hl=!1,xl=0,25<=_)throw Error(a(301));_+=1,Ua=Ia=null,l.updateQueue=null,Vc.current=A2,i=u(v,N)}while(hl)}if(Vc.current=Kc,l=Ia!==null&&Ia.next!==null,ci=0,Ua=Ia=ma=null,Wc=!1,l)throw Error(a(300));return i}function tf(){var i=xl!==0;return xl=0,i}function ps(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ua===null?ma.memoizedState=Ua=i:Ua=Ua.next=i,Ua}function $r(){if(Ia===null){var i=ma.alternate;i=i!==null?i.memoizedState:null}else i=Ia.next;var l=Ua===null?ma.memoizedState:Ua.next;if(l!==null)Ua=l,Ia=i;else{if(i===null)throw Error(a(310));Ia=i,i={memoizedState:Ia.memoizedState,baseState:Ia.baseState,baseQueue:Ia.baseQueue,queue:Ia.queue,next:null},Ua===null?ma.memoizedState=Ua=i:Ua=Ua.next=i}return Ua}function gl(i,l){return typeof l=="function"?l(i):l}function af(i){var l=$r(),u=l.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var v=Ia,N=v.baseQueue,_=u.pending;if(_!==null){if(N!==null){var F=N.next;N.next=_.next,_.next=F}v.baseQueue=N=_,u.pending=null}if(N!==null){_=N.next,v=v.baseState;var q=F=null,ee=null,de=_;do{var Ne=de.lane;if((ci&Ne)===Ne)ee!==null&&(ee=ee.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),v=de.hasEagerState?de.eagerState:i(v,de.action);else{var Ce={lane:Ne,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};ee===null?(q=ee=Ce,F=v):ee=ee.next=Ce,ma.lanes|=Ne,di|=Ne}de=de.next}while(de!==null&&de!==_);ee===null?F=v:ee.next=q,Qr(v,l.memoizedState)||(jr=!0),l.memoizedState=v,l.baseState=F,l.baseQueue=ee,u.lastRenderedState=v}if(i=u.interleaved,i!==null){N=i;do _=N.lane,ma.lanes|=_,di|=_,N=N.next;while(N!==i)}else N===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function rf(i){var l=$r(),u=l.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var v=u.dispatch,N=u.pending,_=l.memoizedState;if(N!==null){u.pending=null;var F=N=N.next;do _=i(_,F.action),F=F.next;while(F!==N);Qr(_,l.memoizedState)||(jr=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),u.lastRenderedState=_}return[_,v]}function xg(){}function gg(i,l){var u=ma,v=$r(),N=l(),_=!Qr(v.memoizedState,N);if(_&&(v.memoizedState=N,jr=!0),v=v.queue,sf(bg.bind(null,u,v,i),[i]),v.getSnapshot!==l||_||Ua!==null&&Ua.memoizedState.tag&1){if(u.flags|=2048,vl(9,yg.bind(null,u,v,N,l),void 0,null),Ha===null)throw Error(a(349));(ci&30)!==0||vg(u,l,N)}return N}function vg(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=ma.updateQueue,l===null?(l={lastEffect:null,stores:null},ma.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function yg(i,l,u,v){l.value=u,l.getSnapshot=v,jg(l)&&wg(i)}function bg(i,l,u){return u(function(){jg(l)&&wg(i)})}function jg(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Qr(i,u)}catch{return!0}}function wg(i){var l=Ys(i,1);l!==null&&ts(l,i,1,-1)}function Ng(i){var l=ps();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:i},l.queue=i,i=i.dispatch=R2.bind(null,ma,i),[l.memoizedState,i]}function vl(i,l,u,v){return i={tag:i,create:l,destroy:u,deps:v,next:null},l=ma.updateQueue,l===null?(l={lastEffect:null,stores:null},ma.updateQueue=l,l.lastEffect=i.next=i):(u=l.lastEffect,u===null?l.lastEffect=i.next=i:(v=u.next,u.next=i,i.next=v,l.lastEffect=i)),i}function Sg(){return $r().memoizedState}function Yc(i,l,u,v){var N=ps();ma.flags|=i,N.memoizedState=vl(1|l,u,void 0,v===void 0?null:v)}function qc(i,l,u,v){var N=$r();v=v===void 0?null:v;var _=void 0;if(Ia!==null){var F=Ia.memoizedState;if(_=F.destroy,v!==null&&Zm(v,F.deps)){N.memoizedState=vl(l,u,_,v);return}}ma.flags|=i,N.memoizedState=vl(1|l,u,_,v)}function Cg(i,l){return Yc(8390656,8,i,l)}function sf(i,l){return qc(2048,8,i,l)}function kg(i,l){return qc(4,2,i,l)}function _g(i,l){return qc(4,4,i,l)}function Eg(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Dg(i,l,u){return u=u!=null?u.concat([i]):null,qc(4,4,Eg.bind(null,l,i),u)}function nf(){}function Pg(i,l){var u=$r();l=l===void 0?null:l;var v=u.memoizedState;return v!==null&&l!==null&&Zm(l,v[1])?v[0]:(u.memoizedState=[i,l],i)}function Rg(i,l){var u=$r();l=l===void 0?null:l;var v=u.memoizedState;return v!==null&&l!==null&&Zm(l,v[1])?v[0]:(i=i(),u.memoizedState=[i,l],i)}function Mg(i,l,u){return(ci&21)===0?(i.baseState&&(i.baseState=!1,jr=!0),i.memoizedState=u):(Qr(u,l)||(u=lx(),ma.lanes|=u,di|=u,i.baseState=!0),l)}function D2(i,l){var u=Yt;Yt=u!==0&&4>u?u:4,i(!0);var v=Jm.transition;Jm.transition={};try{i(!1),l()}finally{Yt=u,Jm.transition=v}}function Tg(){return $r().memoizedState}function P2(i,l,u){var v=Dn(i);if(u={lane:v,action:u,hasEagerState:!1,eagerState:null,next:null},Ag(i))Og(l,u);else if(u=ug(i,l,u,v),u!==null){var N=mr();ts(u,i,v,N),Ig(u,l,v)}}function R2(i,l,u){var v=Dn(i),N={lane:v,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ag(i))Og(l,N);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var F=l.lastRenderedState,q=_(F,u);if(N.hasEagerState=!0,N.eagerState=q,Qr(q,F)){var ee=l.interleaved;ee===null?(N.next=N,Ym(l)):(N.next=ee.next,ee.next=N),l.interleaved=N;return}}catch{}finally{}u=ug(i,l,N,v),u!==null&&(N=mr(),ts(u,i,v,N),Ig(u,l,v))}}function Ag(i){var l=i.alternate;return i===ma||l!==null&&l===ma}function Og(i,l){hl=Wc=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function Ig(i,l,u){if((u&4194240)!==0){var v=l.lanes;v&=i.pendingLanes,u|=v,l.lanes=u,om(i,u)}}var Kc={readContext:Fr,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},M2={readContext:Fr,useCallback:function(i,l){return ps().memoizedState=[i,l===void 0?null:l],i},useContext:Fr,useEffect:Cg,useImperativeHandle:function(i,l,u){return u=u!=null?u.concat([i]):null,Yc(4194308,4,Eg.bind(null,l,i),u)},useLayoutEffect:function(i,l){return Yc(4194308,4,i,l)},useInsertionEffect:function(i,l){return Yc(4,2,i,l)},useMemo:function(i,l){var u=ps();return l=l===void 0?null:l,i=i(),u.memoizedState=[i,l],i},useReducer:function(i,l,u){var v=ps();return l=u!==void 0?u(l):l,v.memoizedState=v.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},v.queue=i,i=i.dispatch=P2.bind(null,ma,i),[v.memoizedState,i]},useRef:function(i){var l=ps();return i={current:i},l.memoizedState=i},useState:Ng,useDebugValue:nf,useDeferredValue:function(i){return ps().memoizedState=i},useTransition:function(){var i=Ng(!1),l=i[0];return i=D2.bind(null,i[1]),ps().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,u){var v=ma,N=ps();if(ca){if(u===void 0)throw Error(a(407));u=u()}else{if(u=l(),Ha===null)throw Error(a(349));(ci&30)!==0||vg(v,l,u)}N.memoizedState=u;var _={value:u,getSnapshot:l};return N.queue=_,Cg(bg.bind(null,v,_,i),[i]),v.flags|=2048,vl(9,yg.bind(null,v,_,u,l),void 0,null),u},useId:function(){var i=ps(),l=Ha.identifierPrefix;if(ca){var u=Ws,v=Vs;u=(v&~(1<<32-la(v)-1)).toString(32)+u,l=":"+l+"R"+u,u=xl++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=E2++,l=":"+l+"r"+u.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},T2={readContext:Fr,useCallback:Pg,useContext:Fr,useEffect:sf,useImperativeHandle:Dg,useInsertionEffect:kg,useLayoutEffect:_g,useMemo:Rg,useReducer:af,useRef:Sg,useState:function(){return af(gl)},useDebugValue:nf,useDeferredValue:function(i){var l=$r();return Mg(l,Ia.memoizedState,i)},useTransition:function(){var i=af(gl)[0],l=$r().memoizedState;return[i,l]},useMutableSource:xg,useSyncExternalStore:gg,useId:Tg,unstable_isNewReconciler:!1},A2={readContext:Fr,useCallback:Pg,useContext:Fr,useEffect:sf,useImperativeHandle:Dg,useInsertionEffect:kg,useLayoutEffect:_g,useMemo:Rg,useReducer:rf,useRef:Sg,useState:function(){return rf(gl)},useDebugValue:nf,useDeferredValue:function(i){var l=$r();return Ia===null?l.memoizedState=i:Mg(l,Ia.memoizedState,i)},useTransition:function(){var i=rf(gl)[0],l=$r().memoizedState;return[i,l]},useMutableSource:xg,useSyncExternalStore:gg,useId:Tg,unstable_isNewReconciler:!1};function Jr(i,l){if(i&&i.defaultProps){l=te({},l),i=i.defaultProps;for(var u in i)l[u]===void 0&&(l[u]=i[u]);return l}return l}function of(i,l,u,v){l=i.memoizedState,u=u(v,l),u=u==null?l:te({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Gc={isMounted:function(i){return(i=i._reactInternals)?us(i)===i:!1},enqueueSetState:function(i,l,u){i=i._reactInternals;var v=mr(),N=Dn(i),_=qs(v,N);_.payload=l,u!=null&&(_.callback=u),l=Cn(i,_,N),l!==null&&(ts(l,i,N,v),Bc(l,i,N))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var v=mr(),N=Dn(i),_=qs(v,N);_.tag=1,_.payload=l,u!=null&&(_.callback=u),l=Cn(i,_,N),l!==null&&(ts(l,i,N,v),Bc(l,i,N))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=mr(),v=Dn(i),N=qs(u,v);N.tag=2,l!=null&&(N.callback=l),l=Cn(i,N,v),l!==null&&(ts(l,i,v,u),Bc(l,i,v))}};function Lg(i,l,u,v,N,_,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,_,F):l.prototype&&l.prototype.isPureReactComponent?!sl(u,v)||!sl(N,_):!0}function Fg(i,l,u){var v=!1,N=wn,_=l.contextType;return typeof _=="object"&&_!==null?_=Fr(_):(N=br(l)?si:er.current,v=l.contextTypes,_=(v=v!=null)?Ki(i,N):wn),l=new l(u,_),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Gc,i.stateNode=l,l._reactInternals=i,v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=N,i.__reactInternalMemoizedMaskedChildContext=_),l}function $g(i,l,u,v){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,v),l.state!==i&&Gc.enqueueReplaceState(l,l.state,null)}function lf(i,l,u,v){var N=i.stateNode;N.props=u,N.state=i.memoizedState,N.refs={},qm(i);var _=l.contextType;typeof _=="object"&&_!==null?N.context=Fr(_):(_=br(l)?si:er.current,N.context=Ki(i,_)),N.state=i.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(of(i,l,_,u),N.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(l=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),l!==N.state&&Gc.enqueueReplaceState(N,N.state,null),Uc(i,u,N,v),N.state=i.memoizedState),typeof N.componentDidMount=="function"&&(i.flags|=4194308)}function ao(i,l){try{var u="",v=l;do u+=J(v),v=v.return;while(v);var N=u}catch(_){N=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:l,stack:N,digest:null}}function cf(i,l,u){return{value:i,source:null,stack:u??null,digest:l??null}}function df(i,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var O2=typeof WeakMap=="function"?WeakMap:Map;function zg(i,l,u){u=qs(-1,u),u.tag=3,u.payload={element:null};var v=l.value;return u.callback=function(){ad||(ad=!0,Cf=v),df(i,l)},u}function Bg(i,l,u){u=qs(-1,u),u.tag=3;var v=i.type.getDerivedStateFromError;if(typeof v=="function"){var N=l.value;u.payload=function(){return v(N)},u.callback=function(){df(i,l)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){df(i,l),typeof v!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var F=l.stack;this.componentDidCatch(l.value,{componentStack:F!==null?F:""})}),u}function Ug(i,l,u){var v=i.pingCache;if(v===null){v=i.pingCache=new O2;var N=new Set;v.set(l,N)}else N=v.get(l),N===void 0&&(N=new Set,v.set(l,N));N.has(u)||(N.add(u),i=G2.bind(null,i,l,u),l.then(i,i))}function Hg(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Vg(i,l,u,v,N){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=qs(-1,1),l.tag=2,Cn(u,l,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=N,i)}var I2=P.ReactCurrentOwner,jr=!1;function ur(i,l,u,v){l.child=i===null?dg(l,null,u,v):Ji(l,i.child,u,v)}function Wg(i,l,u,v,N){u=u.render;var _=l.ref;return eo(l,N),v=ef(i,l,u,v,_,N),u=tf(),i!==null&&!jr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~N,Ks(i,l,N)):(ca&&u&&Lm(l),l.flags|=1,ur(i,l,v,N),l.child)}function Yg(i,l,u,v,N){if(i===null){var _=u.type;return typeof _=="function"&&!Mf(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=_,qg(i,l,_,v,N)):(i=ld(u.type,null,v,l,l.mode,N),i.ref=l.ref,i.return=l,l.child=i)}if(_=i.child,(i.lanes&N)===0){var F=_.memoizedProps;if(u=u.compare,u=u!==null?u:sl,u(F,v)&&i.ref===l.ref)return Ks(i,l,N)}return l.flags|=1,i=Rn(_,v),i.ref=l.ref,i.return=l,l.child=i}function qg(i,l,u,v,N){if(i!==null){var _=i.memoizedProps;if(sl(_,v)&&i.ref===l.ref)if(jr=!1,l.pendingProps=v=_,(i.lanes&N)!==0)(i.flags&131072)!==0&&(jr=!0);else return l.lanes=i.lanes,Ks(i,l,N)}return uf(i,l,u,v,N)}function Kg(i,l,u){var v=l.pendingProps,N=v.children,_=i!==null?i.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ea(so,Rr),Rr|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,ea(so,Rr),Rr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=_!==null?_.baseLanes:u,ea(so,Rr),Rr|=v}else _!==null?(v=_.baseLanes|u,l.memoizedState=null):v=u,ea(so,Rr),Rr|=v;return ur(i,l,N,u),l.child}function Gg(i,l){var u=l.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function uf(i,l,u,v,N){var _=br(u)?si:er.current;return _=Ki(l,_),eo(l,N),u=ef(i,l,u,v,_,N),v=tf(),i!==null&&!jr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~N,Ks(i,l,N)):(ca&&v&&Lm(l),l.flags|=1,ur(i,l,u,N),l.child)}function Qg(i,l,u,v,N){if(br(u)){var _=!0;Tc(l)}else _=!1;if(eo(l,N),l.stateNode===null)Xc(i,l),Fg(l,u,v),lf(l,u,v,N),v=!0;else if(i===null){var F=l.stateNode,q=l.memoizedProps;F.props=q;var ee=F.context,de=u.contextType;typeof de=="object"&&de!==null?de=Fr(de):(de=br(u)?si:er.current,de=Ki(l,de));var Ne=u.getDerivedStateFromProps,Ce=typeof Ne=="function"||typeof F.getSnapshotBeforeUpdate=="function";Ce||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(q!==v||ee!==de)&&$g(l,F,v,de),Sn=!1;var je=l.memoizedState;F.state=je,Uc(l,v,F,N),ee=l.memoizedState,q!==v||je!==ee||yr.current||Sn?(typeof Ne=="function"&&(of(l,u,Ne,v),ee=l.memoizedState),(q=Sn||Lg(l,u,q,v,je,ee,de))?(Ce||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(l.flags|=4194308)):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=ee),F.props=v,F.state=ee,F.context=de,v=q):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{F=l.stateNode,mg(i,l),q=l.memoizedProps,de=l.type===l.elementType?q:Jr(l.type,q),F.props=de,Ce=l.pendingProps,je=F.context,ee=u.contextType,typeof ee=="object"&&ee!==null?ee=Fr(ee):(ee=br(u)?si:er.current,ee=Ki(l,ee));var $e=u.getDerivedStateFromProps;(Ne=typeof $e=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(q!==Ce||je!==ee)&&$g(l,F,v,ee),Sn=!1,je=l.memoizedState,F.state=je,Uc(l,v,F,N);var Ye=l.memoizedState;q!==Ce||je!==Ye||yr.current||Sn?(typeof $e=="function"&&(of(l,u,$e,v),Ye=l.memoizedState),(de=Sn||Lg(l,u,de,v,je,Ye,ee)||!1)?(Ne||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,Ye,ee),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,Ye,ee)),typeof F.componentDidUpdate=="function"&&(l.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof F.componentDidUpdate!="function"||q===i.memoizedProps&&je===i.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||q===i.memoizedProps&&je===i.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Ye),F.props=v,F.state=Ye,F.context=ee,v=de):(typeof F.componentDidUpdate!="function"||q===i.memoizedProps&&je===i.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||q===i.memoizedProps&&je===i.memoizedState||(l.flags|=1024),v=!1)}return mf(i,l,u,v,_,N)}function mf(i,l,u,v,N,_){Gg(i,l);var F=(l.flags&128)!==0;if(!v&&!F)return N&&tg(l,u,!1),Ks(i,l,_);v=l.stateNode,I2.current=l;var q=F&&typeof u.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,i!==null&&F?(l.child=Ji(l,i.child,null,_),l.child=Ji(l,null,q,_)):ur(i,l,q,_),l.memoizedState=v.state,N&&tg(l,u,!0),l.child}function Xg(i){var l=i.stateNode;l.pendingContext?Zx(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Zx(i,l.context,!1),Km(i,l.containerInfo)}function Jg(i,l,u,v,N){return Xi(),Bm(N),l.flags|=256,ur(i,l,u,v),l.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function pf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Zg(i,l,u){var v=l.pendingProps,N=ua.current,_=!1,F=(l.flags&128)!==0,q;if((q=F)||(q=i!==null&&i.memoizedState===null?!1:(N&2)!==0),q?(_=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(N|=1),ea(ua,N&1),i===null)return zm(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(F=v.children,i=v.fallback,_?(v=l.mode,_=l.child,F={mode:"hidden",children:F},(v&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=F):_=cd(F,v,0,null),i=pi(i,v,u,null),_.return=l,i.return=l,_.sibling=i,l.child=_,l.child.memoizedState=pf(u),l.memoizedState=ff,i):hf(l,F));if(N=i.memoizedState,N!==null&&(q=N.dehydrated,q!==null))return L2(i,l,F,v,q,N,u);if(_){_=v.fallback,F=l.mode,N=i.child,q=N.sibling;var ee={mode:"hidden",children:v.children};return(F&1)===0&&l.child!==N?(v=l.child,v.childLanes=0,v.pendingProps=ee,l.deletions=null):(v=Rn(N,ee),v.subtreeFlags=N.subtreeFlags&14680064),q!==null?_=Rn(q,_):(_=pi(_,F,u,null),_.flags|=2),_.return=l,v.return=l,v.sibling=_,l.child=v,v=_,_=l.child,F=i.child.memoizedState,F=F===null?pf(u):{baseLanes:F.baseLanes|u,cachePool:null,transitions:F.transitions},_.memoizedState=F,_.childLanes=i.childLanes&~u,l.memoizedState=ff,v}return _=i.child,i=_.sibling,v=Rn(_,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=u),v.return=l,v.sibling=null,i!==null&&(u=l.deletions,u===null?(l.deletions=[i],l.flags|=16):u.push(i)),l.child=v,l.memoizedState=null,v}function hf(i,l){return l=cd({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Qc(i,l,u,v){return v!==null&&Bm(v),Ji(l,i.child,null,u),i=hf(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function L2(i,l,u,v,N,_,F){if(u)return l.flags&256?(l.flags&=-257,v=cf(Error(a(422))),Qc(i,l,F,v)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(_=v.fallback,N=l.mode,v=cd({mode:"visible",children:v.children},N,0,null),_=pi(_,N,F,null),_.flags|=2,v.return=l,_.return=l,v.sibling=_,l.child=v,(l.mode&1)!==0&&Ji(l,i.child,null,F),l.child.memoizedState=pf(F),l.memoizedState=ff,_);if((l.mode&1)===0)return Qc(i,l,F,null);if(N.data==="$!"){if(v=N.nextSibling&&N.nextSibling.dataset,v)var q=v.dgst;return v=q,_=Error(a(419)),v=cf(_,v,void 0),Qc(i,l,F,v)}if(q=(F&i.childLanes)!==0,jr||q){if(v=Ha,v!==null){switch(F&-F){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(v.suspendedLanes|F))!==0?0:N,N!==0&&N!==_.retryLane&&(_.retryLane=N,Ys(i,N),ts(v,i,N,-1))}return Rf(),v=cf(Error(a(421))),Qc(i,l,F,v)}return N.data==="$?"?(l.flags|=128,l.child=i.child,l=Q2.bind(null,i),N._reactRetry=l,null):(i=_.treeContext,Pr=bn(N.nextSibling),Dr=l,ca=!0,Xr=null,i!==null&&(Ir[Lr++]=Vs,Ir[Lr++]=Ws,Ir[Lr++]=ni,Vs=i.id,Ws=i.overflow,ni=l),l=hf(l,v.children),l.flags|=4096,l)}function ev(i,l,u){i.lanes|=l;var v=i.alternate;v!==null&&(v.lanes|=l),Wm(i.return,l,u)}function xf(i,l,u,v,N){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:u,tailMode:N}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=v,_.tail=u,_.tailMode=N)}function tv(i,l,u){var v=l.pendingProps,N=v.revealOrder,_=v.tail;if(ur(i,l,v.children,u),v=ua.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ev(i,u,l);else if(i.tag===19)ev(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}v&=1}if(ea(ua,v),(l.mode&1)===0)l.memoizedState=null;else switch(N){case"forwards":for(u=l.child,N=null;u!==null;)i=u.alternate,i!==null&&Hc(i)===null&&(N=u),u=u.sibling;u=N,u===null?(N=l.child,l.child=null):(N=u.sibling,u.sibling=null),xf(l,!1,N,u,_);break;case"backwards":for(u=null,N=l.child,l.child=null;N!==null;){if(i=N.alternate,i!==null&&Hc(i)===null){l.child=N;break}i=N.sibling,N.sibling=u,u=N,N=i}xf(l,!0,u,null,_);break;case"together":xf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Xc(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Ks(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),di|=l.lanes,(u&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(a(153));if(l.child!==null){for(i=l.child,u=Rn(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Rn(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function F2(i,l,u){switch(l.tag){case 3:Xg(l),Xi();break;case 5:hg(l);break;case 1:br(l.type)&&Tc(l);break;case 4:Km(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,N=l.memoizedProps.value;ea($c,v._currentValue),v._currentValue=N;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(ea(ua,ua.current&1),l.flags|=128,null):(u&l.child.childLanes)!==0?Zg(i,l,u):(ea(ua,ua.current&1),i=Ks(i,l,u),i!==null?i.sibling:null);ea(ua,ua.current&1);break;case 19:if(v=(u&l.childLanes)!==0,(i.flags&128)!==0){if(v)return tv(i,l,u);l.flags|=128}if(N=l.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),ea(ua,ua.current),v)break;return null;case 22:case 23:return l.lanes=0,Kg(i,l,u)}return Ks(i,l,u)}var av,gf,rv,sv;av=function(i,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},gf=function(){},rv=function(i,l,u,v){var N=i.memoizedProps;if(N!==v){i=l.stateNode,li(fs.current);var _=null;switch(u){case"input":N=Le(i,N),v=Le(i,v),_=[];break;case"select":N=te({},N,{value:void 0}),v=te({},v,{value:void 0}),_=[];break;case"textarea":N=$a(i,N),v=$a(i,v),_=[];break;default:typeof N.onClick!="function"&&typeof v.onClick=="function"&&(i.onclick=Pc)}Ae(u,v);var F;u=null;for(de in N)if(!v.hasOwnProperty(de)&&N.hasOwnProperty(de)&&N[de]!=null)if(de==="style"){var q=N[de];for(F in q)q.hasOwnProperty(F)&&(u||(u={}),u[F]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(n.hasOwnProperty(de)?_||(_=[]):(_=_||[]).push(de,null));for(de in v){var ee=v[de];if(q=N!=null?N[de]:void 0,v.hasOwnProperty(de)&&ee!==q&&(ee!=null||q!=null))if(de==="style")if(q){for(F in q)!q.hasOwnProperty(F)||ee&&ee.hasOwnProperty(F)||(u||(u={}),u[F]="");for(F in ee)ee.hasOwnProperty(F)&&q[F]!==ee[F]&&(u||(u={}),u[F]=ee[F])}else u||(_||(_=[]),_.push(de,u)),u=ee;else de==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,q=q?q.__html:void 0,ee!=null&&q!==ee&&(_=_||[]).push(de,ee)):de==="children"?typeof ee!="string"&&typeof ee!="number"||(_=_||[]).push(de,""+ee):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(n.hasOwnProperty(de)?(ee!=null&&de==="onScroll"&&aa("scroll",i),_||q===ee||(_=[])):(_=_||[]).push(de,ee))}u&&(_=_||[]).push("style",u);var de=_;(l.updateQueue=de)&&(l.flags|=4)}},sv=function(i,l,u,v){u!==v&&(l.flags|=4)};function yl(i,l){if(!ca)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var v=null;u!==null;)u.alternate!==null&&(v=u),u=u.sibling;v===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function ar(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,v=0;if(l)for(var N=i.child;N!==null;)u|=N.lanes|N.childLanes,v|=N.subtreeFlags&14680064,v|=N.flags&14680064,N.return=i,N=N.sibling;else for(N=i.child;N!==null;)u|=N.lanes|N.childLanes,v|=N.subtreeFlags,v|=N.flags,N.return=i,N=N.sibling;return i.subtreeFlags|=v,i.childLanes=u,l}function $2(i,l,u){var v=l.pendingProps;switch(Fm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(l),null;case 1:return br(l.type)&&Mc(),ar(l),null;case 3:return v=l.stateNode,to(),ra(yr),ra(er),Xm(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(i===null||i.child===null)&&(Lc(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Xr!==null&&(Ef(Xr),Xr=null))),gf(i,l),ar(l),null;case 5:Gm(l);var N=li(pl.current);if(u=l.type,i!==null&&l.stateNode!=null)rv(i,l,u,v,N),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(a(166));return ar(l),null}if(i=li(fs.current),Lc(l)){v=l.stateNode,u=l.type;var _=l.memoizedProps;switch(v[ms]=l,v[cl]=_,i=(l.mode&1)!==0,u){case"dialog":aa("cancel",v),aa("close",v);break;case"iframe":case"object":case"embed":aa("load",v);break;case"video":case"audio":for(N=0;N<il.length;N++)aa(il[N],v);break;case"source":aa("error",v);break;case"img":case"image":case"link":aa("error",v),aa("load",v);break;case"details":aa("toggle",v);break;case"input":st(v,_),aa("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!_.multiple},aa("invalid",v);break;case"textarea":ke(v,_),aa("invalid",v)}Ae(u,_),N=null;for(var F in _)if(_.hasOwnProperty(F)){var q=_[F];F==="children"?typeof q=="string"?v.textContent!==q&&(_.suppressHydrationWarning!==!0&&Dc(v.textContent,q,i),N=["children",q]):typeof q=="number"&&v.textContent!==""+q&&(_.suppressHydrationWarning!==!0&&Dc(v.textContent,q,i),N=["children",""+q]):n.hasOwnProperty(F)&&q!=null&&F==="onScroll"&&aa("scroll",v)}switch(u){case"input":Se(v),Xt(v,_,!0);break;case"textarea":Se(v),za(v);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(v.onclick=Pc)}v=N,l.updateQueue=v,v!==null&&(l.flags|=4)}else{F=N.nodeType===9?N:N.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Tt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=F.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof v.is=="string"?i=F.createElement(u,{is:v.is}):(i=F.createElement(u),u==="select"&&(F=i,v.multiple?F.multiple=!0:v.size&&(F.size=v.size))):i=F.createElementNS(i,u),i[ms]=l,i[cl]=v,av(i,l,!1,!1),l.stateNode=i;e:{switch(F=De(u,v),u){case"dialog":aa("cancel",i),aa("close",i),N=v;break;case"iframe":case"object":case"embed":aa("load",i),N=v;break;case"video":case"audio":for(N=0;N<il.length;N++)aa(il[N],i);N=v;break;case"source":aa("error",i),N=v;break;case"img":case"image":case"link":aa("error",i),aa("load",i),N=v;break;case"details":aa("toggle",i),N=v;break;case"input":st(i,v),N=Le(i,v),aa("invalid",i);break;case"option":N=v;break;case"select":i._wrapperState={wasMultiple:!!v.multiple},N=te({},v,{value:void 0}),aa("invalid",i);break;case"textarea":ke(i,v),N=$a(i,v),aa("invalid",i);break;default:N=v}Ae(u,N),q=N;for(_ in q)if(q.hasOwnProperty(_)){var ee=q[_];_==="style"?ti(i,ee):_==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&vr(i,ee)):_==="children"?typeof ee=="string"?(u!=="textarea"||ee!=="")&&$t(i,ee):typeof ee=="number"&&$t(i,""+ee):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(n.hasOwnProperty(_)?ee!=null&&_==="onScroll"&&aa("scroll",i):ee!=null&&k(i,_,ee,F))}switch(u){case"input":Se(i),Xt(i,v,!1);break;case"textarea":Se(i),za(i);break;case"option":v.value!=null&&i.setAttribute("value",""+X(v.value));break;case"select":i.multiple=!!v.multiple,_=v.value,_!=null?pa(i,!!v.multiple,_,!1):v.defaultValue!=null&&pa(i,!!v.multiple,v.defaultValue,!0);break;default:typeof N.onClick=="function"&&(i.onclick=Pc)}switch(u){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return ar(l),null;case 6:if(i&&l.stateNode!=null)sv(i,l,i.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(a(166));if(u=li(pl.current),li(fs.current),Lc(l)){if(v=l.stateNode,u=l.memoizedProps,v[ms]=l,(_=v.nodeValue!==u)&&(i=Dr,i!==null))switch(i.tag){case 3:Dc(v.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Dc(v.nodeValue,u,(i.mode&1)!==0)}_&&(l.flags|=4)}else v=(u.nodeType===9?u:u.ownerDocument).createTextNode(v),v[ms]=l,l.stateNode=v}return ar(l),null;case 13:if(ra(ua),v=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ca&&Pr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)og(),Xi(),l.flags|=98560,_=!1;else if(_=Lc(l),v!==null&&v.dehydrated!==null){if(i===null){if(!_)throw Error(a(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(a(317));_[ms]=l}else Xi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ar(l),_=!1}else Xr!==null&&(Ef(Xr),Xr=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=u,l):(v=v!==null,v!==(i!==null&&i.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(ua.current&1)!==0?La===0&&(La=3):Rf())),l.updateQueue!==null&&(l.flags|=4),ar(l),null);case 4:return to(),gf(i,l),i===null&&ol(l.stateNode.containerInfo),ar(l),null;case 10:return Vm(l.type._context),ar(l),null;case 17:return br(l.type)&&Mc(),ar(l),null;case 19:if(ra(ua),_=l.memoizedState,_===null)return ar(l),null;if(v=(l.flags&128)!==0,F=_.rendering,F===null)if(v)yl(_,!1);else{if(La!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(F=Hc(i),F!==null){for(l.flags|=128,yl(_,!1),v=F.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=u,u=l.child;u!==null;)_=u,i=v,_.flags&=14680066,F=_.alternate,F===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=F.childLanes,_.lanes=F.lanes,_.child=F.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=F.memoizedProps,_.memoizedState=F.memoizedState,_.updateQueue=F.updateQueue,_.type=F.type,i=F.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ea(ua,ua.current&1|2),l.child}i=i.sibling}_.tail!==null&&mt()>no&&(l.flags|=128,v=!0,yl(_,!1),l.lanes=4194304)}else{if(!v)if(i=Hc(F),i!==null){if(l.flags|=128,v=!0,u=i.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),yl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!F.alternate&&!ca)return ar(l),null}else 2*mt()-_.renderingStartTime>no&&u!==1073741824&&(l.flags|=128,v=!0,yl(_,!1),l.lanes=4194304);_.isBackwards?(F.sibling=l.child,l.child=F):(u=_.last,u!==null?u.sibling=F:l.child=F,_.last=F)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=mt(),l.sibling=null,u=ua.current,ea(ua,v?u&1|2:u&1),l):(ar(l),null);case 22:case 23:return Pf(),v=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(Rr&1073741824)!==0&&(ar(l),l.subtreeFlags&6&&(l.flags|=8192)):ar(l),null;case 24:return null;case 25:return null}throw Error(a(156,l.tag))}function z2(i,l){switch(Fm(l),l.tag){case 1:return br(l.type)&&Mc(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return to(),ra(yr),ra(er),Xm(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Gm(l),null;case 13:if(ra(ua),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(a(340));Xi()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return ra(ua),null;case 4:return to(),null;case 10:return Vm(l.type._context),null;case 22:case 23:return Pf(),null;case 24:return null;default:return null}}var Jc=!1,rr=!1,B2=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function ro(i,l){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(v){xa(i,l,v)}else u.current=null}function vf(i,l,u){try{u()}catch(v){xa(i,l,v)}}var nv=!1;function U2(i,l){if(Dm=vc,i=Lx(),jm(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var v=u.getSelection&&u.getSelection();if(v&&v.rangeCount!==0){u=v.anchorNode;var N=v.anchorOffset,_=v.focusNode;v=v.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var F=0,q=-1,ee=-1,de=0,Ne=0,Ce=i,je=null;t:for(;;){for(var $e;Ce!==u||N!==0&&Ce.nodeType!==3||(q=F+N),Ce!==_||v!==0&&Ce.nodeType!==3||(ee=F+v),Ce.nodeType===3&&(F+=Ce.nodeValue.length),($e=Ce.firstChild)!==null;)je=Ce,Ce=$e;for(;;){if(Ce===i)break t;if(je===u&&++de===N&&(q=F),je===_&&++Ne===v&&(ee=F),($e=Ce.nextSibling)!==null)break;Ce=je,je=Ce.parentNode}Ce=$e}u=q===-1||ee===-1?null:{start:q,end:ee}}else u=null}u=u||{start:0,end:0}}else u=null;for(Pm={focusedElem:i,selectionRange:u},vc=!1,Ue=l;Ue!==null;)if(l=Ue,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Ue=i;else for(;Ue!==null;){l=Ue;try{var Ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ye!==null){var Ge=Ye.memoizedProps,Na=Ye.memoizedState,se=l.stateNode,ae=se.getSnapshotBeforeUpdate(l.elementType===l.type?Ge:Jr(l.type,Ge),Na);se.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var oe=l.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(_e){xa(l,l.return,_e)}if(i=l.sibling,i!==null){i.return=l.return,Ue=i;break}Ue=l.return}return Ye=nv,nv=!1,Ye}function bl(i,l,u){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var N=v=v.next;do{if((N.tag&i)===i){var _=N.destroy;N.destroy=void 0,_!==void 0&&vf(l,u,_)}N=N.next}while(N!==v)}}function Zc(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&i)===i){var v=u.create;u.destroy=v()}u=u.next}while(u!==l)}}function yf(i){var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof l=="function"?l(i):l.current=i}}function iv(i){var l=i.alternate;l!==null&&(i.alternate=null,iv(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[ms],delete l[cl],delete l[Am],delete l[S2],delete l[C2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ov(i){return i.tag===5||i.tag===3||i.tag===4}function lv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ov(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bf(i,l,u){var v=i.tag;if(v===5||v===6)i=i.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(i,l):u.insertBefore(i,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(i,u)):(l=u,l.appendChild(i)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Pc));else if(v!==4&&(i=i.child,i!==null))for(bf(i,l,u),i=i.sibling;i!==null;)bf(i,l,u),i=i.sibling}function jf(i,l,u){var v=i.tag;if(v===5||v===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(v!==4&&(i=i.child,i!==null))for(jf(i,l,u),i=i.sibling;i!==null;)jf(i,l,u),i=i.sibling}var Ga=null,Zr=!1;function kn(i,l,u){for(u=u.child;u!==null;)cv(i,l,u),u=u.sibling}function cv(i,l,u){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(wa,u)}catch{}switch(u.tag){case 5:rr||ro(u,l);case 6:var v=Ga,N=Zr;Ga=null,kn(i,l,u),Ga=v,Zr=N,Ga!==null&&(Zr?(i=Ga,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ga.removeChild(u.stateNode));break;case 18:Ga!==null&&(Zr?(i=Ga,u=u.stateNode,i.nodeType===8?Tm(i.parentNode,u):i.nodeType===1&&Tm(i,u),Jo(i)):Tm(Ga,u.stateNode));break;case 4:v=Ga,N=Zr,Ga=u.stateNode.containerInfo,Zr=!0,kn(i,l,u),Ga=v,Zr=N;break;case 0:case 11:case 14:case 15:if(!rr&&(v=u.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){N=v=v.next;do{var _=N,F=_.destroy;_=_.tag,F!==void 0&&((_&2)!==0||(_&4)!==0)&&vf(u,l,F),N=N.next}while(N!==v)}kn(i,l,u);break;case 1:if(!rr&&(ro(u,l),v=u.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=u.memoizedProps,v.state=u.memoizedState,v.componentWillUnmount()}catch(q){xa(u,l,q)}kn(i,l,u);break;case 21:kn(i,l,u);break;case 22:u.mode&1?(rr=(v=rr)||u.memoizedState!==null,kn(i,l,u),rr=v):kn(i,l,u);break;default:kn(i,l,u)}}function dv(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new B2),l.forEach(function(v){var N=X2.bind(null,i,v);u.has(v)||(u.add(v),v.then(N,N))})}}function es(i,l){var u=l.deletions;if(u!==null)for(var v=0;v<u.length;v++){var N=u[v];try{var _=i,F=l,q=F;e:for(;q!==null;){switch(q.tag){case 5:Ga=q.stateNode,Zr=!1;break e;case 3:Ga=q.stateNode.containerInfo,Zr=!0;break e;case 4:Ga=q.stateNode.containerInfo,Zr=!0;break e}q=q.return}if(Ga===null)throw Error(a(160));cv(_,F,N),Ga=null,Zr=!1;var ee=N.alternate;ee!==null&&(ee.return=null),N.return=null}catch(de){xa(N,l,de)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)uv(l,i),l=l.sibling}function uv(i,l){var u=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(es(l,i),hs(i),v&4){try{bl(3,i,i.return),Zc(3,i)}catch(Ge){xa(i,i.return,Ge)}try{bl(5,i,i.return)}catch(Ge){xa(i,i.return,Ge)}}break;case 1:es(l,i),hs(i),v&512&&u!==null&&ro(u,u.return);break;case 5:if(es(l,i),hs(i),v&512&&u!==null&&ro(u,u.return),i.flags&32){var N=i.stateNode;try{$t(N,"")}catch(Ge){xa(i,i.return,Ge)}}if(v&4&&(N=i.stateNode,N!=null)){var _=i.memoizedProps,F=u!==null?u.memoizedProps:_,q=i.type,ee=i.updateQueue;if(i.updateQueue=null,ee!==null)try{q==="input"&&_.type==="radio"&&_.name!=null&&ut(N,_),De(q,F);var de=De(q,_);for(F=0;F<ee.length;F+=2){var Ne=ee[F],Ce=ee[F+1];Ne==="style"?ti(N,Ce):Ne==="dangerouslySetInnerHTML"?vr(N,Ce):Ne==="children"?$t(N,Ce):k(N,Ne,Ce,de)}switch(q){case"input":He(N,_);break;case"textarea":na(N,_);break;case"select":var je=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!_.multiple;var $e=_.value;$e!=null?pa(N,!!_.multiple,$e,!1):je!==!!_.multiple&&(_.defaultValue!=null?pa(N,!!_.multiple,_.defaultValue,!0):pa(N,!!_.multiple,_.multiple?[]:"",!1))}N[cl]=_}catch(Ge){xa(i,i.return,Ge)}}break;case 6:if(es(l,i),hs(i),v&4){if(i.stateNode===null)throw Error(a(162));N=i.stateNode,_=i.memoizedProps;try{N.nodeValue=_}catch(Ge){xa(i,i.return,Ge)}}break;case 3:if(es(l,i),hs(i),v&4&&u!==null&&u.memoizedState.isDehydrated)try{Jo(l.containerInfo)}catch(Ge){xa(i,i.return,Ge)}break;case 4:es(l,i),hs(i);break;case 13:es(l,i),hs(i),N=i.child,N.flags&8192&&(_=N.memoizedState!==null,N.stateNode.isHidden=_,!_||N.alternate!==null&&N.alternate.memoizedState!==null||(Sf=mt())),v&4&&dv(i);break;case 22:if(Ne=u!==null&&u.memoizedState!==null,i.mode&1?(rr=(de=rr)||Ne,es(l,i),rr=de):es(l,i),hs(i),v&8192){if(de=i.memoizedState!==null,(i.stateNode.isHidden=de)&&!Ne&&(i.mode&1)!==0)for(Ue=i,Ne=i.child;Ne!==null;){for(Ce=Ue=Ne;Ue!==null;){switch(je=Ue,$e=je.child,je.tag){case 0:case 11:case 14:case 15:bl(4,je,je.return);break;case 1:ro(je,je.return);var Ye=je.stateNode;if(typeof Ye.componentWillUnmount=="function"){v=je,u=je.return;try{l=v,Ye.props=l.memoizedProps,Ye.state=l.memoizedState,Ye.componentWillUnmount()}catch(Ge){xa(v,u,Ge)}}break;case 5:ro(je,je.return);break;case 22:if(je.memoizedState!==null){pv(Ce);continue}}$e!==null?($e.return=je,Ue=$e):pv(Ce)}Ne=Ne.sibling}e:for(Ne=null,Ce=i;;){if(Ce.tag===5){if(Ne===null){Ne=Ce;try{N=Ce.stateNode,de?(_=N.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(q=Ce.stateNode,ee=Ce.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,q.style.display=fn("display",F))}catch(Ge){xa(i,i.return,Ge)}}}else if(Ce.tag===6){if(Ne===null)try{Ce.stateNode.nodeValue=de?"":Ce.memoizedProps}catch(Ge){xa(i,i.return,Ge)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===i)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===i)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===i)break e;Ne===Ce&&(Ne=null),Ce=Ce.return}Ne===Ce&&(Ne=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:es(l,i),hs(i),v&4&&dv(i);break;case 21:break;default:es(l,i),hs(i)}}function hs(i){var l=i.flags;if(l&2){try{e:{for(var u=i.return;u!==null;){if(ov(u)){var v=u;break e}u=u.return}throw Error(a(160))}switch(v.tag){case 5:var N=v.stateNode;v.flags&32&&($t(N,""),v.flags&=-33);var _=lv(i);jf(i,_,N);break;case 3:case 4:var F=v.stateNode.containerInfo,q=lv(i);bf(i,q,F);break;default:throw Error(a(161))}}catch(ee){xa(i,i.return,ee)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function H2(i,l,u){Ue=i,mv(i)}function mv(i,l,u){for(var v=(i.mode&1)!==0;Ue!==null;){var N=Ue,_=N.child;if(N.tag===22&&v){var F=N.memoizedState!==null||Jc;if(!F){var q=N.alternate,ee=q!==null&&q.memoizedState!==null||rr;q=Jc;var de=rr;if(Jc=F,(rr=ee)&&!de)for(Ue=N;Ue!==null;)F=Ue,ee=F.child,F.tag===22&&F.memoizedState!==null?hv(N):ee!==null?(ee.return=F,Ue=ee):hv(N);for(;_!==null;)Ue=_,mv(_),_=_.sibling;Ue=N,Jc=q,rr=de}fv(i)}else(N.subtreeFlags&8772)!==0&&_!==null?(_.return=N,Ue=_):fv(i)}}function fv(i){for(;Ue!==null;){var l=Ue;if((l.flags&8772)!==0){var u=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:rr||Zc(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!rr)if(u===null)v.componentDidMount();else{var N=l.elementType===l.type?u.memoizedProps:Jr(l.type,u.memoizedProps);v.componentDidUpdate(N,u.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&pg(l,_,v);break;case 3:var F=l.updateQueue;if(F!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}pg(l,F,u)}break;case 5:var q=l.stateNode;if(u===null&&l.flags&4){u=q;var ee=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&u.focus();break;case"img":ee.src&&(u.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var de=l.alternate;if(de!==null){var Ne=de.memoizedState;if(Ne!==null){var Ce=Ne.dehydrated;Ce!==null&&Jo(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}rr||l.flags&512&&yf(l)}catch(je){xa(l,l.return,je)}}if(l===i){Ue=null;break}if(u=l.sibling,u!==null){u.return=l.return,Ue=u;break}Ue=l.return}}function pv(i){for(;Ue!==null;){var l=Ue;if(l===i){Ue=null;break}var u=l.sibling;if(u!==null){u.return=l.return,Ue=u;break}Ue=l.return}}function hv(i){for(;Ue!==null;){var l=Ue;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{Zc(4,l)}catch(ee){xa(l,u,ee)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var N=l.return;try{v.componentDidMount()}catch(ee){xa(l,N,ee)}}var _=l.return;try{yf(l)}catch(ee){xa(l,_,ee)}break;case 5:var F=l.return;try{yf(l)}catch(ee){xa(l,F,ee)}}}catch(ee){xa(l,l.return,ee)}if(l===i){Ue=null;break}var q=l.sibling;if(q!==null){q.return=l.return,Ue=q;break}Ue=l.return}}var V2=Math.ceil,ed=P.ReactCurrentDispatcher,wf=P.ReactCurrentOwner,zr=P.ReactCurrentBatchConfig,It=0,Ha=null,Ra=null,Qa=0,Rr=0,so=jn(0),La=0,jl=null,di=0,td=0,Nf=0,wl=null,wr=null,Sf=0,no=1/0,Gs=null,ad=!1,Cf=null,_n=null,rd=!1,En=null,sd=0,Nl=0,kf=null,nd=-1,id=0;function mr(){return(It&6)!==0?mt():nd!==-1?nd:nd=mt()}function Dn(i){return(i.mode&1)===0?1:(It&2)!==0&&Qa!==0?Qa&-Qa:_2.transition!==null?(id===0&&(id=lx()),id):(i=Yt,i!==0||(i=window.event,i=i===void 0?16:gx(i.type)),i)}function ts(i,l,u,v){if(50<Nl)throw Nl=0,kf=null,Error(a(185));qo(i,u,v),((It&2)===0||i!==Ha)&&(i===Ha&&((It&2)===0&&(td|=u),La===4&&Pn(i,Qa)),Nr(i,v),u===1&&It===0&&(l.mode&1)===0&&(no=mt()+500,Ac&&Nn()))}function Nr(i,l){var u=i.callbackNode;_S(i,l);var v=hc(i,i===Ha?Qa:0);if(v===0)u!==null&&Wo(u),i.callbackNode=null,i.callbackPriority=0;else if(l=v&-v,i.callbackPriority!==l){if(u!=null&&Wo(u),l===1)i.tag===0?k2(gv.bind(null,i)):ag(gv.bind(null,i)),w2(function(){(It&6)===0&&Nn()}),u=null;else{switch(cx(v)){case 1:u=Ka;break;case 4:u=oa;break;case 16:u=ja;break;case 536870912:u=Ba;break;default:u=ja}u=Cv(u,xv.bind(null,i))}i.callbackPriority=l,i.callbackNode=u}}function xv(i,l){if(nd=-1,id=0,(It&6)!==0)throw Error(a(327));var u=i.callbackNode;if(io()&&i.callbackNode!==u)return null;var v=hc(i,i===Ha?Qa:0);if(v===0)return null;if((v&30)!==0||(v&i.expiredLanes)!==0||l)l=od(i,v);else{l=v;var N=It;It|=2;var _=yv();(Ha!==i||Qa!==l)&&(Gs=null,no=mt()+500,mi(i,l));do try{q2();break}catch(q){vv(i,q)}while(!0);Hm(),ed.current=_,It=N,Ra!==null?l=0:(Ha=null,Qa=0,l=La)}if(l!==0){if(l===2&&(N=nm(i),N!==0&&(v=N,l=_f(i,N))),l===1)throw u=jl,mi(i,0),Pn(i,v),Nr(i,mt()),u;if(l===6)Pn(i,v);else{if(N=i.current.alternate,(v&30)===0&&!W2(N)&&(l=od(i,v),l===2&&(_=nm(i),_!==0&&(v=_,l=_f(i,_))),l===1))throw u=jl,mi(i,0),Pn(i,v),Nr(i,mt()),u;switch(i.finishedWork=N,i.finishedLanes=v,l){case 0:case 1:throw Error(a(345));case 2:fi(i,wr,Gs);break;case 3:if(Pn(i,v),(v&130023424)===v&&(l=Sf+500-mt(),10<l)){if(hc(i,0)!==0)break;if(N=i.suspendedLanes,(N&v)!==v){mr(),i.pingedLanes|=i.suspendedLanes&N;break}i.timeoutHandle=Mm(fi.bind(null,i,wr,Gs),l);break}fi(i,wr,Gs);break;case 4:if(Pn(i,v),(v&4194240)===v)break;for(l=i.eventTimes,N=-1;0<v;){var F=31-la(v);_=1<<F,F=l[F],F>N&&(N=F),v&=~_}if(v=N,v=mt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*V2(v/1960))-v,10<v){i.timeoutHandle=Mm(fi.bind(null,i,wr,Gs),v);break}fi(i,wr,Gs);break;case 5:fi(i,wr,Gs);break;default:throw Error(a(329))}}}return Nr(i,mt()),i.callbackNode===u?xv.bind(null,i):null}function _f(i,l){var u=wl;return i.current.memoizedState.isDehydrated&&(mi(i,l).flags|=256),i=od(i,l),i!==2&&(l=wr,wr=u,l!==null&&Ef(l)),i}function Ef(i){wr===null?wr=i:wr.push.apply(wr,i)}function W2(i){for(var l=i;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var v=0;v<u.length;v++){var N=u[v],_=N.getSnapshot;N=N.value;try{if(!Qr(_(),N))return!1}catch{return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Pn(i,l){for(l&=~Nf,l&=~td,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var u=31-la(l),v=1<<u;i[u]=-1,l&=~v}}function gv(i){if((It&6)!==0)throw Error(a(327));io();var l=hc(i,0);if((l&1)===0)return Nr(i,mt()),null;var u=od(i,l);if(i.tag!==0&&u===2){var v=nm(i);v!==0&&(l=v,u=_f(i,v))}if(u===1)throw u=jl,mi(i,0),Pn(i,l),Nr(i,mt()),u;if(u===6)throw Error(a(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,fi(i,wr,Gs),Nr(i,mt()),null}function Df(i,l){var u=It;It|=1;try{return i(l)}finally{It=u,It===0&&(no=mt()+500,Ac&&Nn())}}function ui(i){En!==null&&En.tag===0&&(It&6)===0&&io();var l=It;It|=1;var u=zr.transition,v=Yt;try{if(zr.transition=null,Yt=1,i)return i()}finally{Yt=v,zr.transition=u,It=l,(It&6)===0&&Nn()}}function Pf(){Rr=so.current,ra(so)}function mi(i,l){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,j2(u)),Ra!==null)for(u=Ra.return;u!==null;){var v=u;switch(Fm(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Mc();break;case 3:to(),ra(yr),ra(er),Xm();break;case 5:Gm(v);break;case 4:to();break;case 13:ra(ua);break;case 19:ra(ua);break;case 10:Vm(v.type._context);break;case 22:case 23:Pf()}u=u.return}if(Ha=i,Ra=i=Rn(i.current,null),Qa=Rr=l,La=0,jl=null,Nf=td=di=0,wr=wl=null,oi!==null){for(l=0;l<oi.length;l++)if(u=oi[l],v=u.interleaved,v!==null){u.interleaved=null;var N=v.next,_=u.pending;if(_!==null){var F=_.next;_.next=N,v.next=F}u.pending=v}oi=null}return i}function vv(i,l){do{var u=Ra;try{if(Hm(),Vc.current=Kc,Wc){for(var v=ma.memoizedState;v!==null;){var N=v.queue;N!==null&&(N.pending=null),v=v.next}Wc=!1}if(ci=0,Ua=Ia=ma=null,hl=!1,xl=0,wf.current=null,u===null||u.return===null){La=1,jl=l,Ra=null;break}e:{var _=i,F=u.return,q=u,ee=l;if(l=Qa,q.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var de=ee,Ne=q,Ce=Ne.tag;if((Ne.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var je=Ne.alternate;je?(Ne.updateQueue=je.updateQueue,Ne.memoizedState=je.memoizedState,Ne.lanes=je.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var $e=Hg(F);if($e!==null){$e.flags&=-257,Vg($e,F,q,_,l),$e.mode&1&&Ug(_,de,l),l=$e,ee=de;var Ye=l.updateQueue;if(Ye===null){var Ge=new Set;Ge.add(ee),l.updateQueue=Ge}else Ye.add(ee);break e}else{if((l&1)===0){Ug(_,de,l),Rf();break e}ee=Error(a(426))}}else if(ca&&q.mode&1){var Na=Hg(F);if(Na!==null){(Na.flags&65536)===0&&(Na.flags|=256),Vg(Na,F,q,_,l),Bm(ao(ee,q));break e}}_=ee=ao(ee,q),La!==4&&(La=2),wl===null?wl=[_]:wl.push(_),_=F;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var se=zg(_,ee,l);fg(_,se);break e;case 1:q=ee;var ae=_.type,oe=_.stateNode;if((_.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(_n===null||!_n.has(oe)))){_.flags|=65536,l&=-l,_.lanes|=l;var _e=Bg(_,q,l);fg(_,_e);break e}}_=_.return}while(_!==null)}jv(u)}catch(Qe){l=Qe,Ra===u&&u!==null&&(Ra=u=u.return);continue}break}while(!0)}function yv(){var i=ed.current;return ed.current=Kc,i===null?Kc:i}function Rf(){(La===0||La===3||La===2)&&(La=4),Ha===null||(di&268435455)===0&&(td&268435455)===0||Pn(Ha,Qa)}function od(i,l){var u=It;It|=2;var v=yv();(Ha!==i||Qa!==l)&&(Gs=null,mi(i,l));do try{Y2();break}catch(N){vv(i,N)}while(!0);if(Hm(),It=u,ed.current=v,Ra!==null)throw Error(a(261));return Ha=null,Qa=0,La}function Y2(){for(;Ra!==null;)bv(Ra)}function q2(){for(;Ra!==null&&!Pe();)bv(Ra)}function bv(i){var l=Sv(i.alternate,i,Rr);i.memoizedProps=i.pendingProps,l===null?jv(i):Ra=l,wf.current=null}function jv(i){var l=i;do{var u=l.alternate;if(i=l.return,(l.flags&32768)===0){if(u=$2(u,l,Rr),u!==null){Ra=u;return}}else{if(u=z2(u,l),u!==null){u.flags&=32767,Ra=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{La=6,Ra=null;return}}if(l=l.sibling,l!==null){Ra=l;return}Ra=l=i}while(l!==null);La===0&&(La=5)}function fi(i,l,u){var v=Yt,N=zr.transition;try{zr.transition=null,Yt=1,K2(i,l,u,v)}finally{zr.transition=N,Yt=v}return null}function K2(i,l,u,v){do io();while(En!==null);if((It&6)!==0)throw Error(a(327));u=i.finishedWork;var N=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(a(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(ES(i,_),i===Ha&&(Ra=Ha=null,Qa=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||rd||(rd=!0,Cv(ja,function(){return io(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=zr.transition,zr.transition=null;var F=Yt;Yt=1;var q=It;It|=4,wf.current=null,U2(i,u),uv(u,i),p2(Pm),vc=!!Dm,Pm=Dm=null,i.current=u,H2(u),xe(),It=q,Yt=F,zr.transition=_}else i.current=u;if(rd&&(rd=!1,En=i,sd=N),_=i.pendingLanes,_===0&&(_n=null),sm(u.stateNode),Nr(i,mt()),l!==null)for(v=i.onRecoverableError,u=0;u<l.length;u++)N=l[u],v(N.value,{componentStack:N.stack,digest:N.digest});if(ad)throw ad=!1,i=Cf,Cf=null,i;return(sd&1)!==0&&i.tag!==0&&io(),_=i.pendingLanes,(_&1)!==0?i===kf?Nl++:(Nl=0,kf=i):Nl=0,Nn(),null}function io(){if(En!==null){var i=cx(sd),l=zr.transition,u=Yt;try{if(zr.transition=null,Yt=16>i?16:i,En===null)var v=!1;else{if(i=En,En=null,sd=0,(It&6)!==0)throw Error(a(331));var N=It;for(It|=4,Ue=i.current;Ue!==null;){var _=Ue,F=_.child;if((Ue.flags&16)!==0){var q=_.deletions;if(q!==null){for(var ee=0;ee<q.length;ee++){var de=q[ee];for(Ue=de;Ue!==null;){var Ne=Ue;switch(Ne.tag){case 0:case 11:case 15:bl(8,Ne,_)}var Ce=Ne.child;if(Ce!==null)Ce.return=Ne,Ue=Ce;else for(;Ue!==null;){Ne=Ue;var je=Ne.sibling,$e=Ne.return;if(iv(Ne),Ne===de){Ue=null;break}if(je!==null){je.return=$e,Ue=je;break}Ue=$e}}}var Ye=_.alternate;if(Ye!==null){var Ge=Ye.child;if(Ge!==null){Ye.child=null;do{var Na=Ge.sibling;Ge.sibling=null,Ge=Na}while(Ge!==null)}}Ue=_}}if((_.subtreeFlags&2064)!==0&&F!==null)F.return=_,Ue=F;else e:for(;Ue!==null;){if(_=Ue,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:bl(9,_,_.return)}var se=_.sibling;if(se!==null){se.return=_.return,Ue=se;break e}Ue=_.return}}var ae=i.current;for(Ue=ae;Ue!==null;){F=Ue;var oe=F.child;if((F.subtreeFlags&2064)!==0&&oe!==null)oe.return=F,Ue=oe;else e:for(F=ae;Ue!==null;){if(q=Ue,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Zc(9,q)}}catch(Qe){xa(q,q.return,Qe)}if(q===F){Ue=null;break e}var _e=q.sibling;if(_e!==null){_e.return=q.return,Ue=_e;break e}Ue=q.return}}if(It=N,Nn(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(wa,i)}catch{}v=!0}return v}finally{Yt=u,zr.transition=l}}return!1}function wv(i,l,u){l=ao(u,l),l=zg(i,l,1),i=Cn(i,l,1),l=mr(),i!==null&&(qo(i,1,l),Nr(i,l))}function xa(i,l,u){if(i.tag===3)wv(i,i,u);else for(;l!==null;){if(l.tag===3){wv(l,i,u);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(_n===null||!_n.has(v))){i=ao(u,i),i=Bg(l,i,1),l=Cn(l,i,1),i=mr(),l!==null&&(qo(l,1,i),Nr(l,i));break}}l=l.return}}function G2(i,l,u){var v=i.pingCache;v!==null&&v.delete(l),l=mr(),i.pingedLanes|=i.suspendedLanes&u,Ha===i&&(Qa&u)===u&&(La===4||La===3&&(Qa&130023424)===Qa&&500>mt()-Sf?mi(i,0):Nf|=u),Nr(i,l)}function Nv(i,l){l===0&&((i.mode&1)===0?l=1:(l=pc,pc<<=1,(pc&130023424)===0&&(pc=4194304)));var u=mr();i=Ys(i,l),i!==null&&(qo(i,l,u),Nr(i,u))}function Q2(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),Nv(i,u)}function X2(i,l){var u=0;switch(i.tag){case 13:var v=i.stateNode,N=i.memoizedState;N!==null&&(u=N.retryLane);break;case 19:v=i.stateNode;break;default:throw Error(a(314))}v!==null&&v.delete(l),Nv(i,u)}var Sv;Sv=function(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps||yr.current)jr=!0;else{if((i.lanes&u)===0&&(l.flags&128)===0)return jr=!1,F2(i,l,u);jr=(i.flags&131072)!==0}else jr=!1,ca&&(l.flags&1048576)!==0&&rg(l,Ic,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;Xc(i,l),i=l.pendingProps;var N=Ki(l,er.current);eo(l,u),N=ef(null,l,v,i,N,u);var _=tf();return l.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,br(v)?(_=!0,Tc(l)):_=!1,l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,qm(l),N.updater=Gc,l.stateNode=N,N._reactInternals=l,lf(l,v,i,u),l=mf(null,l,v,!0,_,u)):(l.tag=0,ca&&_&&Lm(l),ur(null,l,N,u),l=l.child),l;case 16:v=l.elementType;e:{switch(Xc(i,l),i=l.pendingProps,N=v._init,v=N(v._payload),l.type=v,N=l.tag=Z2(v),i=Jr(v,i),N){case 0:l=uf(null,l,v,i,u);break e;case 1:l=Qg(null,l,v,i,u);break e;case 11:l=Wg(null,l,v,i,u);break e;case 14:l=Yg(null,l,v,Jr(v.type,i),u);break e}throw Error(a(306,v,""))}return l;case 0:return v=l.type,N=l.pendingProps,N=l.elementType===v?N:Jr(v,N),uf(i,l,v,N,u);case 1:return v=l.type,N=l.pendingProps,N=l.elementType===v?N:Jr(v,N),Qg(i,l,v,N,u);case 3:e:{if(Xg(l),i===null)throw Error(a(387));v=l.pendingProps,_=l.memoizedState,N=_.element,mg(i,l),Uc(l,v,null,u);var F=l.memoizedState;if(v=F.element,_.isDehydrated)if(_={element:v,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){N=ao(Error(a(423)),l),l=Jg(i,l,v,u,N);break e}else if(v!==N){N=ao(Error(a(424)),l),l=Jg(i,l,v,u,N);break e}else for(Pr=bn(l.stateNode.containerInfo.firstChild),Dr=l,ca=!0,Xr=null,u=dg(l,null,v,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xi(),v===N){l=Ks(i,l,u);break e}ur(i,l,v,u)}l=l.child}return l;case 5:return hg(l),i===null&&zm(l),v=l.type,N=l.pendingProps,_=i!==null?i.memoizedProps:null,F=N.children,Rm(v,N)?F=null:_!==null&&Rm(v,_)&&(l.flags|=32),Gg(i,l),ur(i,l,F,u),l.child;case 6:return i===null&&zm(l),null;case 13:return Zg(i,l,u);case 4:return Km(l,l.stateNode.containerInfo),v=l.pendingProps,i===null?l.child=Ji(l,null,v,u):ur(i,l,v,u),l.child;case 11:return v=l.type,N=l.pendingProps,N=l.elementType===v?N:Jr(v,N),Wg(i,l,v,N,u);case 7:return ur(i,l,l.pendingProps,u),l.child;case 8:return ur(i,l,l.pendingProps.children,u),l.child;case 12:return ur(i,l,l.pendingProps.children,u),l.child;case 10:e:{if(v=l.type._context,N=l.pendingProps,_=l.memoizedProps,F=N.value,ea($c,v._currentValue),v._currentValue=F,_!==null)if(Qr(_.value,F)){if(_.children===N.children&&!yr.current){l=Ks(i,l,u);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var q=_.dependencies;if(q!==null){F=_.child;for(var ee=q.firstContext;ee!==null;){if(ee.context===v){if(_.tag===1){ee=qs(-1,u&-u),ee.tag=2;var de=_.updateQueue;if(de!==null){de=de.shared;var Ne=de.pending;Ne===null?ee.next=ee:(ee.next=Ne.next,Ne.next=ee),de.pending=ee}}_.lanes|=u,ee=_.alternate,ee!==null&&(ee.lanes|=u),Wm(_.return,u,l),q.lanes|=u;break}ee=ee.next}}else if(_.tag===10)F=_.type===l.type?null:_.child;else if(_.tag===18){if(F=_.return,F===null)throw Error(a(341));F.lanes|=u,q=F.alternate,q!==null&&(q.lanes|=u),Wm(F,u,l),F=_.sibling}else F=_.child;if(F!==null)F.return=_;else for(F=_;F!==null;){if(F===l){F=null;break}if(_=F.sibling,_!==null){_.return=F.return,F=_;break}F=F.return}_=F}ur(i,l,N.children,u),l=l.child}return l;case 9:return N=l.type,v=l.pendingProps.children,eo(l,u),N=Fr(N),v=v(N),l.flags|=1,ur(i,l,v,u),l.child;case 14:return v=l.type,N=Jr(v,l.pendingProps),N=Jr(v.type,N),Yg(i,l,v,N,u);case 15:return qg(i,l,l.type,l.pendingProps,u);case 17:return v=l.type,N=l.pendingProps,N=l.elementType===v?N:Jr(v,N),Xc(i,l),l.tag=1,br(v)?(i=!0,Tc(l)):i=!1,eo(l,u),Fg(l,v,N),lf(l,v,N,u),mf(null,l,v,!0,i,u);case 19:return tv(i,l,u);case 22:return Kg(i,l,u)}throw Error(a(156,l.tag))};function Cv(i,l){return Vo(i,l)}function J2(i,l,u,v){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(i,l,u,v){return new J2(i,l,u,v)}function Mf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Z2(i){if(typeof i=="function")return Mf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Y)return 11;if(i===G)return 14}return 2}function Rn(i,l){var u=i.alternate;return u===null?(u=Br(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function ld(i,l,u,v,N,_){var F=2;if(v=i,typeof i=="function")Mf(i)&&(F=1);else if(typeof i=="string")F=5;else e:switch(i){case E:return pi(u.children,N,_,l);case O:F=8,N|=8;break;case I:return i=Br(12,u,l,N|2),i.elementType=I,i.lanes=_,i;case $:return i=Br(13,u,l,N),i.elementType=$,i.lanes=_,i;case M:return i=Br(19,u,l,N),i.elementType=M,i.lanes=_,i;case L:return cd(u,N,_,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:F=10;break e;case B:F=9;break e;case Y:F=11;break e;case G:F=14;break e;case T:F=16,v=null;break e}throw Error(a(130,i==null?i:typeof i,""))}return l=Br(F,u,l,N),l.elementType=i,l.type=v,l.lanes=_,l}function pi(i,l,u,v){return i=Br(7,i,v,l),i.lanes=u,i}function cd(i,l,u,v){return i=Br(22,i,v,l),i.elementType=L,i.lanes=u,i.stateNode={isHidden:!1},i}function Tf(i,l,u){return i=Br(6,i,null,l),i.lanes=u,i}function Af(i,l,u){return l=Br(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function eC(i,l,u,v,N){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=im(0),this.expirationTimes=im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=im(0),this.identifierPrefix=v,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Of(i,l,u,v,N,_,F,q,ee){return i=new eC(i,l,u,q,ee),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Br(3,null,null,l),i.current=_,_.stateNode=i,_.memoizedState={element:v,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},qm(_),i}function tC(i,l,u){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:v==null?null:""+v,children:i,containerInfo:l,implementation:u}}function kv(i){if(!i)return wn;i=i._reactInternals;e:{if(us(i)!==i||i.tag!==1)throw Error(a(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(br(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(a(171))}if(i.tag===1){var u=i.type;if(br(u))return eg(i,u,l)}return l}function _v(i,l,u,v,N,_,F,q,ee){return i=Of(u,v,!0,i,N,_,F,q,ee),i.context=kv(null),u=i.current,v=mr(),N=Dn(u),_=qs(v,N),_.callback=l??null,Cn(u,_,N),i.current.lanes=N,qo(i,N,v),Nr(i,v),i}function dd(i,l,u,v){var N=l.current,_=mr(),F=Dn(N);return u=kv(u),l.context===null?l.context=u:l.pendingContext=u,l=qs(_,F),l.payload={element:i},v=v===void 0?null:v,v!==null&&(l.callback=v),i=Cn(N,l,F),i!==null&&(ts(i,N,F,_),Bc(i,N,F)),F}function ud(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ev(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function If(i,l){Ev(i,l),(i=i.alternate)&&Ev(i,l)}function aC(){return null}var Dv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Lf(i){this._internalRoot=i}md.prototype.render=Lf.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(a(409));dd(i,l,null,null)},md.prototype.unmount=Lf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;ui(function(){dd(null,i,null,null)}),l[Us]=null}};function md(i){this._internalRoot=i}md.prototype.unstable_scheduleHydration=function(i){if(i){var l=mx();i={blockedOn:null,target:i,priority:l};for(var u=0;u<gn.length&&l!==0&&l<gn[u].priority;u++);gn.splice(u,0,i),u===0&&hx(i)}};function Ff(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function fd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Pv(){}function rC(i,l,u,v,N){if(N){if(typeof v=="function"){var _=v;v=function(){var de=ud(F);_.call(de)}}var F=_v(l,v,i,0,null,!1,!1,"",Pv);return i._reactRootContainer=F,i[Us]=F.current,ol(i.nodeType===8?i.parentNode:i),ui(),F}for(;N=i.lastChild;)i.removeChild(N);if(typeof v=="function"){var q=v;v=function(){var de=ud(ee);q.call(de)}}var ee=Of(i,0,!1,null,null,!1,!1,"",Pv);return i._reactRootContainer=ee,i[Us]=ee.current,ol(i.nodeType===8?i.parentNode:i),ui(function(){dd(l,ee,u,v)}),ee}function pd(i,l,u,v,N){var _=u._reactRootContainer;if(_){var F=_;if(typeof N=="function"){var q=N;N=function(){var ee=ud(F);q.call(ee)}}dd(l,F,i,N)}else F=rC(u,l,i,N,v);return ud(F)}dx=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var u=Yo(l.pendingLanes);u!==0&&(om(l,u|1),Nr(l,mt()),(It&6)===0&&(no=mt()+500,Nn()))}break;case 13:ui(function(){var v=Ys(i,1);if(v!==null){var N=mr();ts(v,i,1,N)}}),If(i,1)}},lm=function(i){if(i.tag===13){var l=Ys(i,134217728);if(l!==null){var u=mr();ts(l,i,134217728,u)}If(i,134217728)}},ux=function(i){if(i.tag===13){var l=Dn(i),u=Ys(i,l);if(u!==null){var v=mr();ts(u,i,l,v)}If(i,l)}},mx=function(){return Yt},fx=function(i,l){var u=Yt;try{return Yt=i,l()}finally{Yt=u}},Fe=function(i,l,u){switch(l){case"input":if(He(i,u),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var v=u[l];if(v!==i&&v.form===i.form){var N=Rc(v);if(!N)throw Error(a(90));Re(v),He(v,N)}}}break;case"textarea":na(i,u);break;case"select":l=u.value,l!=null&&pa(i,!!u.multiple,l,!1)}},Te=Df,et=ui;var sC={usingClientEntryPoint:!1,Events:[dl,Yi,Rc,Ke,lt,Df]},Sl={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nC={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Uo(i),i===null?null:i.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||aC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{wa=hd.inject(nC),dr=hd}catch{}}return Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sC,Sr.createPortal=function(i,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ff(l))throw Error(a(200));return tC(i,l,null,u)},Sr.createRoot=function(i,l){if(!Ff(i))throw Error(a(299));var u=!1,v="",N=Dv;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=Of(i,1,!1,null,null,u,!1,v,N),i[Us]=l.current,ol(i.nodeType===8?i.parentNode:i),new Lf(l)},Sr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=Uo(l),i=i===null?null:i.stateNode,i},Sr.flushSync=function(i){return ui(i)},Sr.hydrate=function(i,l,u){if(!fd(l))throw Error(a(200));return pd(null,i,l,!0,u)},Sr.hydrateRoot=function(i,l,u){if(!Ff(i))throw Error(a(405));var v=u!=null&&u.hydratedSources||null,N=!1,_="",F=Dv;if(u!=null&&(u.unstable_strictMode===!0&&(N=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(F=u.onRecoverableError)),l=_v(l,null,i,1,u??null,N,!1,_,F),i[Us]=l.current,ol(i),v)for(i=0;i<v.length;i++)u=v[i],N=u._getVersion,N=N(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,N]:l.mutableSourceEagerHydrationData.push(u,N);return new md(l)},Sr.render=function(i,l,u){if(!fd(l))throw Error(a(200));return pd(null,i,l,!1,u)},Sr.unmountComponentAtNode=function(i){if(!fd(i))throw Error(a(40));return i._reactRootContainer?(ui(function(){pd(null,null,i,!1,function(){i._reactRootContainer=null,i[Us]=null})}),!0):!1},Sr.unstable_batchedUpdates=Df,Sr.unstable_renderSubtreeIntoContainer=function(i,l,u,v){if(!fd(u))throw Error(a(200));if(i==null||i._reactInternals===void 0)throw Error(a(38));return pd(i,l,u,!1,v)},Sr.version="18.3.1-next-f1338f8080-20240426",Sr}var Fv;function Uy(){if(Fv)return Bf.exports;Fv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Bf.exports=hC(),Bf.exports}var $v;function xC(){if($v)return xd;$v=1;var t=Uy();return xd.createRoot=t.createRoot,xd.hydrateRoot=t.hydrateRoot,xd}var gC=xC(),x=xu();const fe=By(x),Hl=cC({__proto__:null,default:fe},[x]);var Eo=Uy();const Hy=By(Eo);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Al.apply(this,arguments)}var $n;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($n||($n={}));const zv="popstate";function vC(t){t===void 0&&(t={});function s(r,n){let{pathname:o,search:c,hash:d}=r.location;return Np("",{pathname:o,search:c,hash:d},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(r,n){return typeof n=="string"?n:Wd(n)}return bC(s,a,null,t)}function _a(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Vy(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function yC(){return Math.random().toString(36).substr(2,8)}function Bv(t,s){return{usr:t.state,key:t.key,idx:s}}function Np(t,s,a,r){return a===void 0&&(a=null),Al({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Do(s):s,{state:a,key:s&&s.key||r||yC()})}function Wd(t){let{pathname:s="/",search:a="",hash:r=""}=t;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Do(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substr(a),t=t.substr(0,a));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function bC(t,s,a,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:o=!1}=r,c=n.history,d=$n.Pop,m=null,f=p();f==null&&(f=0,c.replaceState(Al({},c.state,{idx:f}),""));function p(){return(c.state||{idx:null}).idx}function h(){d=$n.Pop;let w=p(),C=w==null?null:w-f;f=w,m&&m({action:d,location:y.location,delta:C})}function g(w,C){d=$n.Push;let S=Np(y.location,w,C);f=p()+1;let k=Bv(S,f),P=y.createHref(S);try{c.pushState(k,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;n.location.assign(P)}o&&m&&m({action:d,location:y.location,delta:1})}function j(w,C){d=$n.Replace;let S=Np(y.location,w,C);f=p();let k=Bv(S,f),P=y.createHref(S);c.replaceState(k,"",P),o&&m&&m({action:d,location:y.location,delta:0})}function b(w){let C=n.location.origin!=="null"?n.location.origin:n.location.href,S=typeof w=="string"?w:Wd(w);return S=S.replace(/ $/,"%20"),_a(C,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,C)}let y={get action(){return d},get location(){return t(n,c)},listen(w){if(m)throw new Error("A history only accepts one active listener");return n.addEventListener(zv,h),m=w,()=>{n.removeEventListener(zv,h),m=null}},createHref(w){return s(n,w)},createURL:b,encodeLocation(w){let C=b(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:j,go(w){return c.go(w)}};return y}var Uv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Uv||(Uv={}));function jC(t,s,a){return a===void 0&&(a="/"),wC(t,s,a)}function wC(t,s,a,r){let n=typeof s=="string"?Do(s):s,o=oh(n.pathname||"/",a);if(o==null)return null;let c=Wy(t);NC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let f=OC(o);d=MC(c[m],f)}return d}function Wy(t,s,a,r){s===void 0&&(s=[]),a===void 0&&(a=[]),r===void 0&&(r="");let n=(o,c,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};m.relativePath.startsWith("/")&&(_a(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let f=Bn([r,m.relativePath]),p=a.concat(m);o.children&&o.children.length>0&&(_a(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Wy(o.children,s,p,f)),!(o.path==null&&!o.index)&&s.push({path:f,score:PC(f,o.index),routesMeta:p})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))n(o,c);else for(let m of Yy(o.path))n(o,c,m)}),s}function Yy(t){let s=t.split("/");if(s.length===0)return[];let[a,...r]=s,n=a.endsWith("?"),o=a.replace(/\?$/,"");if(r.length===0)return n?[o,""]:[o];let c=Yy(r.join("/")),d=[];return d.push(...c.map(m=>m===""?o:[o,m].join("/"))),n&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function NC(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:RC(s.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const SC=/^:[\w-]+$/,CC=3,kC=2,_C=1,EC=10,DC=-2,Hv=t=>t==="*";function PC(t,s){let a=t.split("/"),r=a.length;return a.some(Hv)&&(r+=DC),s&&(r+=kC),a.filter(n=>!Hv(n)).reduce((n,o)=>n+(SC.test(o)?CC:o===""?_C:EC),r)}function RC(t,s){return t.length===s.length&&t.slice(0,-1).every((r,n)=>r===s[n])?t[t.length-1]-s[s.length-1]:0}function MC(t,s,a){let{routesMeta:r}=t,n={},o="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],f=d===r.length-1,p=o==="/"?s:s.slice(o.length)||"/",h=TC({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},p),g=m.route;if(!h)return null;Object.assign(n,h.params),c.push({params:n,pathname:Bn([o,h.pathname]),pathnameBase:$C(Bn([o,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(o=Bn([o,h.pathnameBase]))}return c}function TC(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=AC(t.path,t.caseSensitive,t.end),n=s.match(a);if(!n)return null;let o=n[0],c=o.replace(/(.)\/+$/,"$1"),d=n.slice(1);return{params:r.reduce((f,p,h)=>{let{paramName:g,isOptional:j}=p;if(g==="*"){let y=d[h]||"";c=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const b=d[h];return j&&!b?f[g]=void 0:f[g]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:t}}function AC(t,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),Vy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),r]}function OC(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Vy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function oh(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}function IC(t,s){s===void 0&&(s="/");let{pathname:a,search:r="",hash:n=""}=typeof t=="string"?Do(t):t;return{pathname:a?a.startsWith("/")?a:LC(a,s):s,search:zC(r),hash:BC(n)}}function LC(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Vf(t,s,a,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FC(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function lh(t,s){let a=FC(t);return s?a.map((r,n)=>n===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function ch(t,s,a,r){r===void 0&&(r=!1);let n;typeof t=="string"?n=Do(t):(n=Al({},t),_a(!n.pathname||!n.pathname.includes("?"),Vf("?","pathname","search",n)),_a(!n.pathname||!n.pathname.includes("#"),Vf("#","pathname","hash",n)),_a(!n.search||!n.search.includes("#"),Vf("#","search","hash",n)));let o=t===""||n.pathname==="",c=o?"/":n.pathname,d;if(c==null)d=a;else{let h=s.length-1;if(!r&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),h-=1;n.pathname=g.join("/")}d=h>=0?s[h]:"/"}let m=IC(n,d),f=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(f||p)&&(m.pathname+="/"),m}const Bn=t=>t.join("/").replace(/\/\/+/g,"/"),$C=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qy=["post","put","patch","delete"];new Set(qy);const HC=["get",...qy];new Set(HC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ol.apply(this,arguments)}const dh=x.createContext(null),VC=x.createContext(null),Gn=x.createContext(null),gu=x.createContext(null),As=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Ky=x.createContext(null);function WC(t,s){let{relative:a}=s===void 0?{}:s;Po()||_a(!1);let{basename:r,navigator:n}=x.useContext(Gn),{hash:o,pathname:c,search:d}=Qy(t,{relative:a}),m=c;return r!=="/"&&(m=c==="/"?r:Bn([r,c])),n.createHref({pathname:m,search:d,hash:o})}function Po(){return x.useContext(gu)!=null}function Pa(){return Po()||_a(!1),x.useContext(gu).location}function Gy(t){x.useContext(Gn).static||x.useLayoutEffect(t)}function Fa(){let{isDataRoute:t}=x.useContext(As);return t?ik():YC()}function YC(){Po()||_a(!1);let t=x.useContext(dh),{basename:s,future:a,navigator:r}=x.useContext(Gn),{matches:n}=x.useContext(As),{pathname:o}=Pa(),c=JSON.stringify(lh(n,a.v7_relativeSplatPath)),d=x.useRef(!1);return Gy(()=>{d.current=!0}),x.useCallback(function(f,p){if(p===void 0&&(p={}),!d.current)return;if(typeof f=="number"){r.go(f);return}let h=ch(f,JSON.parse(c),o,p.relative==="path");t==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:Bn([s,h.pathname])),(p.replace?r.replace:r.push)(h,p.state,p)},[s,r,c,o,t])}const qC=x.createContext(null);function KC(t){let s=x.useContext(As).outlet;return s&&x.createElement(qC.Provider,{value:t},s)}function Os(){let{matches:t}=x.useContext(As),s=t[t.length-1];return s?s.params:{}}function Qy(t,s){let{relative:a}=s===void 0?{}:s,{future:r}=x.useContext(Gn),{matches:n}=x.useContext(As),{pathname:o}=Pa(),c=JSON.stringify(lh(n,r.v7_relativeSplatPath));return x.useMemo(()=>ch(t,JSON.parse(c),o,a==="path"),[t,c,o,a])}function GC(t,s){return QC(t,s)}function QC(t,s,a,r){Po()||_a(!1);let{navigator:n}=x.useContext(Gn),{matches:o}=x.useContext(As),c=o[o.length-1],d=c?c.params:{};c&&c.pathname;let m=c?c.pathnameBase:"/";c&&c.route;let f=Pa(),p;if(s){var h;let w=typeof s=="string"?Do(s):s;m==="/"||(h=w.pathname)!=null&&h.startsWith(m)||_a(!1),p=w}else p=f;let g=p.pathname||"/",j=g;if(m!=="/"){let w=m.replace(/^\//,"").split("/");j="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=jC(t,{pathname:j}),y=tk(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:Bn([m,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?m:Bn([m,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,a,r);return s&&y?x.createElement(gu.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:$n.Pop}},y):y}function XC(){let t=nk(),s=UC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},s),a?x.createElement("pre",{style:n},a):null,null)}const JC=x.createElement(XC,null);class ZC extends x.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?x.createElement(As.Provider,{value:this.props.routeContext},x.createElement(Ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ek(t){let{routeContext:s,match:a,children:r}=t,n=x.useContext(dh);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),x.createElement(As.Provider,{value:s},r)}function tk(t,s,a,r){var n;if(s===void 0&&(s=[]),a===void 0&&(a=null),r===void 0&&(r=null),t==null){var o;if(!a)return null;if(a.errors)t=a.matches;else if((o=r)!=null&&o.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let c=t,d=(n=a)==null?void 0:n.errors;if(d!=null){let p=c.findIndex(h=>h.route.id&&(d==null?void 0:d[h.route.id])!==void 0);p>=0||_a(!1),c=c.slice(0,Math.min(c.length,p+1))}let m=!1,f=-1;if(a&&r&&r.v7_partialHydration)for(let p=0;p<c.length;p++){let h=c[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=p),h.route.id){let{loaderData:g,errors:j}=a,b=h.route.loader&&g[h.route.id]===void 0&&(!j||j[h.route.id]===void 0);if(h.route.lazy||b){m=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((p,h,g)=>{let j,b=!1,y=null,w=null;a&&(j=d&&h.route.id?d[h.route.id]:void 0,y=h.route.errorElement||JC,m&&(f<0&&g===0?(ok("route-fallback"),b=!0,w=null):f===g&&(b=!0,w=h.route.hydrateFallbackElement||null)));let C=s.concat(c.slice(0,g+1)),S=()=>{let k;return j?k=y:b?k=w:h.route.Component?k=x.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=p,x.createElement(ek,{match:h,routeContext:{outlet:p,matches:C,isDataRoute:a!=null},children:k})};return a&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?x.createElement(ZC,{location:a.location,revalidation:a.revalidation,component:y,error:j,children:S(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):S()},null)}var Xy=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Xy||{}),Jy=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Jy||{});function ak(t){let s=x.useContext(dh);return s||_a(!1),s}function rk(t){let s=x.useContext(VC);return s||_a(!1),s}function sk(t){let s=x.useContext(As);return s||_a(!1),s}function Zy(t){let s=sk(),a=s.matches[s.matches.length-1];return a.route.id||_a(!1),a.route.id}function nk(){var t;let s=x.useContext(Ky),a=rk(),r=Zy();return s!==void 0?s:(t=a.errors)==null?void 0:t[r]}function ik(){let{router:t}=ak(Xy.UseNavigateStable),s=Zy(Jy.UseNavigateStable),a=x.useRef(!1);return Gy(()=>{a.current=!0}),x.useCallback(function(n,o){o===void 0&&(o={}),a.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,Ol({fromRouteId:s},o)))},[t,s])}const Vv={};function ok(t,s,a){Vv[t]||(Vv[t]=!0)}function lk(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Zt(t){let{to:s,replace:a,state:r,relative:n}=t;Po()||_a(!1);let{future:o,static:c}=x.useContext(Gn),{matches:d}=x.useContext(As),{pathname:m}=Pa(),f=Fa(),p=ch(s,lh(d,o.v7_relativeSplatPath),m,n==="path"),h=JSON.stringify(p);return x.useEffect(()=>f(JSON.parse(h),{replace:a,state:r,relative:n}),[f,h,n,a,r]),null}function Vl(t){return KC(t.context)}function qe(t){_a(!1)}function ck(t){let{basename:s="/",children:a=null,location:r,navigationType:n=$n.Pop,navigator:o,static:c=!1,future:d}=t;Po()&&_a(!1);let m=s.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:m,navigator:o,static:c,future:Ol({v7_relativeSplatPath:!1},d)}),[m,d,o,c]);typeof r=="string"&&(r=Do(r));let{pathname:p="/",search:h="",hash:g="",state:j=null,key:b="default"}=r,y=x.useMemo(()=>{let w=oh(p,m);return w==null?null:{location:{pathname:w,search:h,hash:g,state:j,key:b},navigationType:n}},[m,p,h,g,j,b,n]);return y==null?null:x.createElement(Gn.Provider,{value:f},x.createElement(gu.Provider,{children:a,value:y}))}function dk(t){let{children:s,location:a}=t;return GC(Sp(s),a)}new Promise(()=>{});function Sp(t,s){s===void 0&&(s=[]);let a=[];return x.Children.forEach(t,(r,n)=>{if(!x.isValidElement(r))return;let o=[...s,n];if(r.type===x.Fragment){a.push.apply(a,Sp(r.props.children,o));return}r.type!==qe&&_a(!1),!r.props.index||!r.props.children||_a(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Sp(r.props.children,o)),a.push(c)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Cp.apply(this,arguments)}function uk(t,s){if(t==null)return{};var a={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(s.indexOf(n)>=0)&&(a[n]=t[n]);return a}function mk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fk(t,s){return t.button===0&&(!s||s==="_self")&&!mk(t)}function kp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,a)=>{let r=t[a];return s.concat(Array.isArray(r)?r.map(n=>[a,n]):[[a,r]])},[]))}function pk(t,s){let a=kp(t);return s&&s.forEach((r,n)=>{a.has(n)||s.getAll(n).forEach(o=>{a.append(n,o)})}),a}const hk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xk="6";try{window.__reactRouterVersion=xk}catch{}const gk="startTransition",Wv=Hl[gk];function vk(t){let{basename:s,children:a,future:r,window:n}=t,o=x.useRef();o.current==null&&(o.current=vC({window:n,v5Compat:!0}));let c=o.current,[d,m]=x.useState({action:c.action,location:c.location}),{v7_startTransition:f}=r||{},p=x.useCallback(h=>{f&&Wv?Wv(()=>m(h)):m(h)},[m,f]);return x.useLayoutEffect(()=>c.listen(p),[c,p]),x.useEffect(()=>lk(r),[r]),x.createElement(ck,{basename:s,children:a,location:d.location,navigationType:d.action,navigator:c,future:r})}const yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=x.forwardRef(function(s,a){let{onClick:r,relative:n,reloadDocument:o,replace:c,state:d,target:m,to:f,preventScrollReset:p,viewTransition:h}=s,g=uk(s,hk),{basename:j}=x.useContext(Gn),b,y=!1;if(typeof f=="string"&&bk.test(f)&&(b=f,yk))try{let k=new URL(window.location.href),P=f.startsWith("//")?new URL(k.protocol+f):new URL(f),R=oh(P.pathname,j);P.origin===k.origin&&R!=null?f=R+P.search+P.hash:y=!0}catch{}let w=WC(f,{relative:n}),C=jk(f,{replace:c,state:d,target:m,preventScrollReset:p,relative:n,viewTransition:h});function S(k){r&&r(k),k.defaultPrevented||C(k)}return x.createElement("a",Cp({},g,{href:b||w,onClick:y||o?r:S,ref:a,target:m}))});var Yv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yv||(Yv={}));var qv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qv||(qv={}));function jk(t,s){let{target:a,replace:r,state:n,preventScrollReset:o,relative:c,viewTransition:d}=s===void 0?{}:s,m=Fa(),f=Pa(),p=Qy(t,{relative:c});return x.useCallback(h=>{if(fk(h,a)){h.preventDefault();let g=r!==void 0?r:Wd(f)===Wd(p);m(t,{replace:g,state:n,preventScrollReset:o,relative:c,viewTransition:d})}},[f,m,p,r,n,a,t,o,c,d])}function wk(t){let s=x.useRef(kp(t)),a=x.useRef(!1),r=Pa(),n=x.useMemo(()=>pk(r.search,a.current?null:s.current),[r.search]),o=Fa(),c=x.useCallback((d,m)=>{const f=kp(typeof d=="function"?d(n):d);a.current=!0,o("?"+f,m)},[o,n]);return[n,c]}function eb(t,s){return function(){return t.apply(s,arguments)}}const{toString:Nk}=Object.prototype,{getPrototypeOf:uh}=Object,{iterator:vu,toStringTag:tb}=Symbol,yu=(t=>s=>{const a=Nk.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),cs=t=>(t=t.toLowerCase(),s=>yu(s)===t),bu=t=>s=>typeof s===t,{isArray:Ro}=Array,bo=bu("undefined");function Wl(t){return t!==null&&!bo(t)&&t.constructor!==null&&!bo(t.constructor)&&Cr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ab=cs("ArrayBuffer");function Sk(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&ab(t.buffer),s}const Ck=bu("string"),Cr=bu("function"),rb=bu("number"),Yl=t=>t!==null&&typeof t=="object",kk=t=>t===!0||t===!1,Rd=t=>{if(yu(t)!=="object")return!1;const s=uh(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(tb in t)&&!(vu in t)},_k=t=>{if(!Yl(t)||Wl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Ek=cs("Date"),Dk=cs("File"),Pk=cs("Blob"),Rk=cs("FileList"),Mk=t=>Yl(t)&&Cr(t.pipe),Tk=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Cr(t.append)&&((s=yu(t))==="formdata"||s==="object"&&Cr(t.toString)&&t.toString()==="[object FormData]"))},Ak=cs("URLSearchParams"),[Ok,Ik,Lk,Fk]=["ReadableStream","Request","Response","Headers"].map(cs),$k=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ql(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),Ro(t))for(r=0,n=t.length;r<n;r++)s.call(null,t[r],r,t);else{if(Wl(t))return;const o=a?Object.getOwnPropertyNames(t):Object.keys(t),c=o.length;let d;for(r=0;r<c;r++)d=o[r],s.call(null,t[d],d,t)}}function sb(t,s){if(Wl(t))return null;s=s.toLowerCase();const a=Object.keys(t);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nb=t=>!bo(t)&&t!==vi;function _p(){const{caseless:t,skipUndefined:s}=nb(this)&&this||{},a={},r=(n,o)=>{const c=t&&sb(a,o)||o;Rd(a[c])&&Rd(n)?a[c]=_p(a[c],n):Rd(n)?a[c]=_p({},n):Ro(n)?a[c]=n.slice():(!s||!bo(n))&&(a[c]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&ql(arguments[n],r);return a}const zk=(t,s,a,{allOwnKeys:r}={})=>(ql(s,(n,o)=>{a&&Cr(n)?t[o]=eb(n,a):t[o]=n},{allOwnKeys:r}),t),Bk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Uk=(t,s,a,r)=>{t.prototype=Object.create(s.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},Hk=(t,s,a,r)=>{let n,o,c;const d={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),o=n.length;o-- >0;)c=n[o],(!r||r(c,t,s))&&!d[c]&&(s[c]=t[c],d[c]=!0);t=a!==!1&&uh(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},Vk=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const r=t.indexOf(s,a);return r!==-1&&r===a},Wk=t=>{if(!t)return null;if(Ro(t))return t;let s=t.length;if(!rb(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},Yk=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&uh(Uint8Array)),qk=(t,s)=>{const r=(t&&t[vu]).call(t);let n;for(;(n=r.next())&&!n.done;){const o=n.value;s.call(t,o[0],o[1])}},Kk=(t,s)=>{let a;const r=[];for(;(a=t.exec(s))!==null;)r.push(a);return r},Gk=cs("HTMLFormElement"),Qk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),Kv=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),Xk=cs("RegExp"),ib=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),r={};ql(a,(n,o)=>{let c;(c=s(n,o,t))!==!1&&(r[o]=c||n)}),Object.defineProperties(t,r)},Jk=t=>{ib(t,(s,a)=>{if(Cr(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(Cr(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Zk=(t,s)=>{const a={},r=n=>{n.forEach(o=>{a[o]=!0})};return Ro(t)?r(t):r(String(t).split(s)),a},e_=()=>{},t_=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function a_(t){return!!(t&&Cr(t.append)&&t[tb]==="FormData"&&t[vu])}const r_=t=>{const s=new Array(10),a=(r,n)=>{if(Yl(r)){if(s.indexOf(r)>=0)return;if(Wl(r))return r;if(!("toJSON"in r)){s[n]=r;const o=Ro(r)?[]:{};return ql(r,(c,d)=>{const m=a(c,n+1);!bo(m)&&(o[d]=m)}),s[n]=void 0,o}}return r};return a(t,0)},s_=cs("AsyncFunction"),n_=t=>t&&(Yl(t)||Cr(t))&&Cr(t.then)&&Cr(t.catch),ob=((t,s)=>t?setImmediate:s?((a,r)=>(vi.addEventListener("message",({source:n,data:o})=>{n===vi&&o===a&&r.length&&r.shift()()},!1),n=>{r.push(n),vi.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Cr(vi.postMessage)),i_=typeof queueMicrotask<"u"?queueMicrotask.bind(vi):typeof process<"u"&&process.nextTick||ob,o_=t=>t!=null&&Cr(t[vu]),me={isArray:Ro,isArrayBuffer:ab,isBuffer:Wl,isFormData:Tk,isArrayBufferView:Sk,isString:Ck,isNumber:rb,isBoolean:kk,isObject:Yl,isPlainObject:Rd,isEmptyObject:_k,isReadableStream:Ok,isRequest:Ik,isResponse:Lk,isHeaders:Fk,isUndefined:bo,isDate:Ek,isFile:Dk,isBlob:Pk,isRegExp:Xk,isFunction:Cr,isStream:Mk,isURLSearchParams:Ak,isTypedArray:Yk,isFileList:Rk,forEach:ql,merge:_p,extend:zk,trim:$k,stripBOM:Bk,inherits:Uk,toFlatObject:Hk,kindOf:yu,kindOfTest:cs,endsWith:Vk,toArray:Wk,forEachEntry:qk,matchAll:Kk,isHTMLForm:Gk,hasOwnProperty:Kv,hasOwnProp:Kv,reduceDescriptors:ib,freezeMethods:Jk,toObjectSet:Zk,toCamelCase:Qk,noop:e_,toFiniteNumber:t_,findKey:sb,global:vi,isContextDefined:nb,isSpecCompliantForm:a_,toJSONObject:r_,isAsyncFn:s_,isThenable:n_,setImmediate:ob,asap:i_,isIterable:o_};function ht(t,s,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}me.inherits(ht,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const lb=ht.prototype,cb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cb[t]={value:t}});Object.defineProperties(ht,cb);Object.defineProperty(lb,"isAxiosError",{value:!0});ht.from=(t,s,a,r,n,o)=>{const c=Object.create(lb);me.toFlatObject(t,c,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const d=t&&t.message?t.message:"Error",m=s==null&&t?t.code:s;return ht.call(c,d,m,a,r,n),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",o&&Object.assign(c,o),c};const l_=null;function Ep(t){return me.isPlainObject(t)||me.isArray(t)}function db(t){return me.endsWith(t,"[]")?t.slice(0,-2):t}function Gv(t,s,a){return t?t.concat(s).map(function(n,o){return n=db(n),!a&&o?"["+n+"]":n}).join(a?".":""):s}function c_(t){return me.isArray(t)&&!t.some(Ep)}const d_=me.toFlatObject(me,{},null,function(s){return/^is[A-Z]/.test(s)});function ju(t,s,a){if(!me.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=me.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!me.isUndefined(w[y])});const r=a.metaTokens,n=a.visitor||p,o=a.dots,c=a.indexes,m=(a.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(s);if(!me.isFunction(n))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(me.isDate(b))return b.toISOString();if(me.isBoolean(b))return b.toString();if(!m&&me.isBlob(b))throw new ht("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(b)||me.isTypedArray(b)?m&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,y,w){let C=b;if(b&&!w&&typeof b=="object"){if(me.endsWith(y,"{}"))y=r?y:y.slice(0,-2),b=JSON.stringify(b);else if(me.isArray(b)&&c_(b)||(me.isFileList(b)||me.endsWith(y,"[]"))&&(C=me.toArray(b)))return y=db(y),C.forEach(function(k,P){!(me.isUndefined(k)||k===null)&&s.append(c===!0?Gv([y],P,o):c===null?y:y+"[]",f(k))}),!1}return Ep(b)?!0:(s.append(Gv(w,y,o),f(b)),!1)}const h=[],g=Object.assign(d_,{defaultVisitor:p,convertValue:f,isVisitable:Ep});function j(b,y){if(!me.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(b),me.forEach(b,function(C,S){(!(me.isUndefined(C)||C===null)&&n.call(s,C,me.isString(S)?S.trim():S,y,g))===!0&&j(C,y?y.concat(S):[S])}),h.pop()}}if(!me.isObject(t))throw new TypeError("data must be an object");return j(t),s}function Qv(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function mh(t,s){this._pairs=[],t&&ju(t,this,s)}const ub=mh.prototype;ub.append=function(s,a){this._pairs.push([s,a])};ub.toString=function(s){const a=s?function(r){return s.call(this,r,Qv)}:Qv;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function u_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function mb(t,s,a){if(!s)return t;const r=a&&a.encode||u_;me.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let o;if(n?o=n(s,a):o=me.isURLSearchParams(s)?s.toString():new mh(s,a).toString(r),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Xv{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){me.forEach(this.handlers,function(r){r!==null&&s(r)})}}const fb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},m_=typeof URLSearchParams<"u"?URLSearchParams:mh,f_=typeof FormData<"u"?FormData:null,p_=typeof Blob<"u"?Blob:null,h_={isBrowser:!0,classes:{URLSearchParams:m_,FormData:f_,Blob:p_},protocols:["http","https","file","blob","url","data"]},fh=typeof window<"u"&&typeof document<"u",Dp=typeof navigator=="object"&&navigator||void 0,x_=fh&&(!Dp||["ReactNative","NativeScript","NS"].indexOf(Dp.product)<0),g_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",v_=fh&&window.location.href||"http://localhost",y_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fh,hasStandardBrowserEnv:x_,hasStandardBrowserWebWorkerEnv:g_,navigator:Dp,origin:v_},Symbol.toStringTag,{value:"Module"})),nr={...y_,...h_};function b_(t,s){return ju(t,new nr.classes.URLSearchParams,{visitor:function(a,r,n,o){return nr.isNode&&me.isBuffer(a)?(this.append(r,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function j_(t){return me.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function w_(t){const s={},a=Object.keys(t);let r;const n=a.length;let o;for(r=0;r<n;r++)o=a[r],s[o]=t[o];return s}function pb(t){function s(a,r,n,o){let c=a[o++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),m=o>=a.length;return c=!c&&me.isArray(n)?n.length:c,m?(me.hasOwnProp(n,c)?n[c]=[n[c],r]:n[c]=r,!d):((!n[c]||!me.isObject(n[c]))&&(n[c]=[]),s(a,r,n[c],o)&&me.isArray(n[c])&&(n[c]=w_(n[c])),!d)}if(me.isFormData(t)&&me.isFunction(t.entries)){const a={};return me.forEachEntry(t,(r,n)=>{s(j_(r),n,a,0)}),a}return null}function N_(t,s,a){if(me.isString(t))try{return(s||JSON.parse)(t),me.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(t)}const Kl={transitional:fb,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,o=me.isObject(s);if(o&&me.isHTMLForm(s)&&(s=new FormData(s)),me.isFormData(s))return n?JSON.stringify(pb(s)):s;if(me.isArrayBuffer(s)||me.isBuffer(s)||me.isStream(s)||me.isFile(s)||me.isBlob(s)||me.isReadableStream(s))return s;if(me.isArrayBufferView(s))return s.buffer;if(me.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let d;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return b_(s,this.formSerializer).toString();if((d=me.isFileList(s))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return ju(d?{"files[]":s}:s,m&&new m,this.formSerializer)}}return o||n?(a.setContentType("application/json",!1),N_(s)):s}],transformResponse:[function(s){const a=this.transitional||Kl.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(me.isResponse(s)||me.isReadableStream(s))return s;if(s&&me.isString(s)&&(r&&!this.responseType||n)){const c=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?ht.from(d,ht.ERR_BAD_RESPONSE,this,null,this.response):d}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nr.classes.FormData,Blob:nr.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],t=>{Kl.headers[t]={}});const S_=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),C_=t=>{const s={};let a,r,n;return t&&t.split(`
`).forEach(function(c){n=c.indexOf(":"),a=c.substring(0,n).trim().toLowerCase(),r=c.substring(n+1).trim(),!(!a||s[a]&&S_[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},Jv=Symbol("internals");function kl(t){return t&&String(t).trim().toLowerCase()}function Md(t){return t===!1||t==null?t:me.isArray(t)?t.map(Md):String(t)}function k_(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)s[r[1]]=r[2];return s}const __=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wf(t,s,a,r,n){if(me.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!me.isString(s)){if(me.isString(r))return s.indexOf(r)!==-1;if(me.isRegExp(r))return r.test(s)}}function E_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function D_(t,s){const a=me.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(n,o,c){return this[r].call(this,s,n,o,c)},configurable:!0})})}let kr=class{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function o(d,m,f){const p=kl(m);if(!p)throw new Error("header name must be a non-empty string");const h=me.findKey(n,p);(!h||n[h]===void 0||f===!0||f===void 0&&n[h]!==!1)&&(n[h||m]=Md(d))}const c=(d,m)=>me.forEach(d,(f,p)=>o(f,p,m));if(me.isPlainObject(s)||s instanceof this.constructor)c(s,a);else if(me.isString(s)&&(s=s.trim())&&!__(s))c(C_(s),a);else if(me.isObject(s)&&me.isIterable(s)){let d={},m,f;for(const p of s){if(!me.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[f=p[0]]=(m=d[f])?me.isArray(m)?[...m,p[1]]:[m,p[1]]:p[1]}c(d,a)}else s!=null&&o(a,s,r);return this}get(s,a){if(s=kl(s),s){const r=me.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return k_(n);if(me.isFunction(a))return a.call(this,n,r);if(me.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=kl(s),s){const r=me.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||Wf(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function o(c){if(c=kl(c),c){const d=me.findKey(r,c);d&&(!a||Wf(r,r[d],d,a))&&(delete r[d],n=!0)}}return me.isArray(s)?s.forEach(o):o(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const o=a[r];(!s||Wf(this,this[o],o,s,!0))&&(delete this[o],n=!0)}return n}normalize(s){const a=this,r={};return me.forEach(this,(n,o)=>{const c=me.findKey(r,o);if(c){a[c]=Md(n),delete a[o];return}const d=s?E_(o):String(o).trim();d!==o&&delete a[o],a[d]=Md(n),r[d]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return me.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&me.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[Jv]=this[Jv]={accessors:{}}).accessors,n=this.prototype;function o(c){const d=kl(c);r[d]||(D_(n,c),r[d]=!0)}return me.isArray(s)?s.forEach(o):o(s),this}};kr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(kr.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[a]=r}}});me.freezeMethods(kr);function Yf(t,s){const a=this||Kl,r=s||a,n=kr.from(r.headers);let o=r.data;return me.forEach(t,function(d){o=d.call(a,o,n.normalize(),s?s.status:void 0)}),n.normalize(),o}function hb(t){return!!(t&&t.__CANCEL__)}function Mo(t,s,a){ht.call(this,t??"canceled",ht.ERR_CANCELED,s,a),this.name="CanceledError"}me.inherits(Mo,ht,{__CANCEL__:!0});function xb(t,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):s(new ht("Request failed with status code "+a.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function P_(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function R_(t,s){t=t||10;const a=new Array(t),r=new Array(t);let n=0,o=0,c;return s=s!==void 0?s:1e3,function(m){const f=Date.now(),p=r[o];c||(c=f),a[n]=m,r[n]=f;let h=o,g=0;for(;h!==n;)g+=a[h++],h=h%t;if(n=(n+1)%t,n===o&&(o=(o+1)%t),f-c<s)return;const j=p&&f-p;return j?Math.round(g*1e3/j):void 0}}function M_(t,s){let a=0,r=1e3/s,n,o;const c=(f,p=Date.now())=>{a=p,n=null,o&&(clearTimeout(o),o=null),t(...f)};return[(...f)=>{const p=Date.now(),h=p-a;h>=r?c(f,p):(n=f,o||(o=setTimeout(()=>{o=null,c(n)},r-h)))},()=>n&&c(n)]}const Yd=(t,s,a=3)=>{let r=0;const n=R_(50,250);return M_(o=>{const c=o.loaded,d=o.lengthComputable?o.total:void 0,m=c-r,f=n(m),p=c<=d;r=c;const h={loaded:c,total:d,progress:d?c/d:void 0,bytes:m,rate:f||void 0,estimated:f&&d&&p?(d-c)/f:void 0,event:o,lengthComputable:d!=null,[s?"download":"upload"]:!0};t(h)},a)},Zv=(t,s)=>{const a=t!=null;return[r=>s[0]({lengthComputable:a,total:t,loaded:r}),s[1]]},e0=t=>(...s)=>me.asap(()=>t(...s)),T_=nr.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,nr.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(nr.origin),nr.navigator&&/(msie|trident)/i.test(nr.navigator.userAgent)):()=>!0,A_=nr.hasStandardBrowserEnv?{write(t,s,a,r,n,o){const c=[t+"="+encodeURIComponent(s)];me.isNumber(a)&&c.push("expires="+new Date(a).toGMTString()),me.isString(r)&&c.push("path="+r),me.isString(n)&&c.push("domain="+n),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function O_(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function I_(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function gb(t,s,a){let r=!O_(s);return t&&(r||a==!1)?I_(t,s):s}const t0=t=>t instanceof kr?{...t}:t;function Si(t,s){s=s||{};const a={};function r(f,p,h,g){return me.isPlainObject(f)&&me.isPlainObject(p)?me.merge.call({caseless:g},f,p):me.isPlainObject(p)?me.merge({},p):me.isArray(p)?p.slice():p}function n(f,p,h,g){if(me.isUndefined(p)){if(!me.isUndefined(f))return r(void 0,f,h,g)}else return r(f,p,h,g)}function o(f,p){if(!me.isUndefined(p))return r(void 0,p)}function c(f,p){if(me.isUndefined(p)){if(!me.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function d(f,p,h){if(h in s)return r(f,p);if(h in t)return r(void 0,f)}const m={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(f,p,h)=>n(t0(f),t0(p),h,!0)};return me.forEach(Object.keys({...t,...s}),function(p){const h=m[p]||n,g=h(t[p],s[p],p);me.isUndefined(g)&&h!==d||(a[p]=g)}),a}const vb=t=>{const s=Si({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:c,auth:d}=s;if(s.headers=c=kr.from(c),s.url=mb(gb(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),me.isFormData(a)){if(nr.hasStandardBrowserEnv||nr.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(me.isFunction(a.getHeaders)){const m=a.getHeaders(),f=["content-type","content-length"];Object.entries(m).forEach(([p,h])=>{f.includes(p.toLowerCase())&&c.set(p,h)})}}if(nr.hasStandardBrowserEnv&&(r&&me.isFunction(r)&&(r=r(s)),r||r!==!1&&T_(s.url))){const m=n&&o&&A_.read(o);m&&c.set(n,m)}return s},L_=typeof XMLHttpRequest<"u",F_=L_&&function(t){return new Promise(function(a,r){const n=vb(t);let o=n.data;const c=kr.from(n.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:f}=n,p,h,g,j,b;function y(){j&&j(),b&&b(),n.cancelToken&&n.cancelToken.unsubscribe(p),n.signal&&n.signal.removeEventListener("abort",p)}let w=new XMLHttpRequest;w.open(n.method.toUpperCase(),n.url,!0),w.timeout=n.timeout;function C(){if(!w)return;const k=kr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),R={data:!d||d==="text"||d==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:k,config:t,request:w};xb(function(E){a(E),y()},function(E){r(E),y()},R),w=null}"onloadend"in w?w.onloadend=C:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(C)},w.onabort=function(){w&&(r(new ht("Request aborted",ht.ECONNABORTED,t,w)),w=null)},w.onerror=function(P){const R=P&&P.message?P.message:"Network Error",D=new ht(R,ht.ERR_NETWORK,t,w);D.event=P||null,r(D),w=null},w.ontimeout=function(){let P=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const R=n.transitional||fb;n.timeoutErrorMessage&&(P=n.timeoutErrorMessage),r(new ht(P,R.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,t,w)),w=null},o===void 0&&c.setContentType(null),"setRequestHeader"in w&&me.forEach(c.toJSON(),function(P,R){w.setRequestHeader(R,P)}),me.isUndefined(n.withCredentials)||(w.withCredentials=!!n.withCredentials),d&&d!=="json"&&(w.responseType=n.responseType),f&&([g,b]=Yd(f,!0),w.addEventListener("progress",g)),m&&w.upload&&([h,j]=Yd(m),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",j)),(n.cancelToken||n.signal)&&(p=k=>{w&&(r(!k||k.type?new Mo(null,t,w):k),w.abort(),w=null)},n.cancelToken&&n.cancelToken.subscribe(p),n.signal&&(n.signal.aborted?p():n.signal.addEventListener("abort",p)));const S=P_(n.url);if(S&&nr.protocols.indexOf(S)===-1){r(new ht("Unsupported protocol "+S+":",ht.ERR_BAD_REQUEST,t));return}w.send(o||null)})},$_=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let r=new AbortController,n;const o=function(f){if(!n){n=!0,d();const p=f instanceof Error?f:this.reason;r.abort(p instanceof ht?p:new Mo(p instanceof Error?p.message:p))}};let c=s&&setTimeout(()=>{c=null,o(new ht(`timeout ${s} of ms exceeded`,ht.ETIMEDOUT))},s);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:m}=r;return m.unsubscribe=()=>me.asap(d),m}},z_=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let r=0,n;for(;r<a;)n=r+s,yield t.slice(r,n),r=n},B_=async function*(t,s){for await(const a of U_(t))yield*z_(a,s)},U_=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:r}=await s.read();if(a)break;yield r}}finally{await s.cancel()}},a0=(t,s,a,r)=>{const n=B_(t,s);let o=0,c,d=m=>{c||(c=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:f,value:p}=await n.next();if(f){d(),m.close();return}let h=p.byteLength;if(a){let g=o+=h;a(g)}m.enqueue(new Uint8Array(p))}catch(f){throw d(f),f}},cancel(m){return d(m),n.return()}},{highWaterMark:2})},r0=64*1024,{isFunction:gd}=me,H_=(({Request:t,Response:s})=>({Request:t,Response:s}))(me.global),{ReadableStream:s0,TextEncoder:n0}=me.global,i0=(t,...s)=>{try{return!!t(...s)}catch{return!1}},V_=t=>{t=me.merge.call({skipUndefined:!0},H_,t);const{fetch:s,Request:a,Response:r}=t,n=s?gd(s):typeof fetch=="function",o=gd(a),c=gd(r);if(!n)return!1;const d=n&&gd(s0),m=n&&(typeof n0=="function"?(b=>y=>b.encode(y))(new n0):async b=>new Uint8Array(await new a(b).arrayBuffer())),f=o&&d&&i0(()=>{let b=!1;const y=new a(nr.origin,{body:new s0,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!y}),p=c&&d&&i0(()=>me.isReadableStream(new r("").body)),h={stream:p&&(b=>b.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!h[b]&&(h[b]=(y,w)=>{let C=y&&y[b];if(C)return C.call(y);throw new ht(`Response type '${b}' is not supported`,ht.ERR_NOT_SUPPORT,w)})});const g=async b=>{if(b==null)return 0;if(me.isBlob(b))return b.size;if(me.isSpecCompliantForm(b))return(await new a(nr.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(me.isArrayBufferView(b)||me.isArrayBuffer(b))return b.byteLength;if(me.isURLSearchParams(b)&&(b=b+""),me.isString(b))return(await m(b)).byteLength},j=async(b,y)=>{const w=me.toFiniteNumber(b.getContentLength());return w??g(y)};return async b=>{let{url:y,method:w,data:C,signal:S,cancelToken:k,timeout:P,onDownloadProgress:R,onUploadProgress:D,responseType:E,headers:O,withCredentials:I="same-origin",fetchOptions:z}=vb(b),B=s||fetch;E=E?(E+"").toLowerCase():"text";let Y=$_([S,k&&k.toAbortSignal()],P),$=null;const M=Y&&Y.unsubscribe&&(()=>{Y.unsubscribe()});let G;try{if(D&&f&&w!=="get"&&w!=="head"&&(G=await j(O,C))!==0){let A=new a(y,{method:"POST",body:C,duplex:"half"}),W;if(me.isFormData(C)&&(W=A.headers.get("content-type"))&&O.setContentType(W),A.body){const[re,K]=Zv(G,Yd(e0(D)));C=a0(A.body,r0,re,K)}}me.isString(I)||(I=I?"include":"omit");const T=o&&"credentials"in a.prototype,L={...z,signal:Y,method:w.toUpperCase(),headers:O.normalize().toJSON(),body:C,duplex:"half",credentials:T?I:void 0};$=o&&new a(y,L);let H=await(o?B($,z):B(y,L));const Q=p&&(E==="stream"||E==="response");if(p&&(R||Q&&M)){const A={};["status","statusText","headers"].forEach(J=>{A[J]=H[J]});const W=me.toFiniteNumber(H.headers.get("content-length")),[re,K]=R&&Zv(W,Yd(e0(R),!0))||[];H=new r(a0(H.body,r0,re,()=>{K&&K(),M&&M()}),A)}E=E||"text";let te=await h[me.findKey(h,E)||"text"](H,b);return!Q&&M&&M(),await new Promise((A,W)=>{xb(A,W,{data:te,headers:kr.from(H.headers),status:H.status,statusText:H.statusText,config:b,request:$})})}catch(T){throw M&&M(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new ht("Network Error",ht.ERR_NETWORK,b,$),{cause:T.cause||T}):ht.from(T,T&&T.code,b,$)}}},W_=new Map,yb=t=>{let s=t?t.env:{};const{fetch:a,Request:r,Response:n}=s,o=[r,n,a];let c=o.length,d=c,m,f,p=W_;for(;d--;)m=o[d],f=p.get(m),f===void 0&&p.set(m,f=d?new Map:V_(s)),p=f;return f};yb();const Pp={http:l_,xhr:F_,fetch:{get:yb}};me.forEach(Pp,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const o0=t=>`- ${t}`,Y_=t=>me.isFunction(t)||t===null||t===!1,bb={getAdapter:(t,s)=>{t=me.isArray(t)?t:[t];const{length:a}=t;let r,n;const o={};for(let c=0;c<a;c++){r=t[c];let d;if(n=r,!Y_(r)&&(n=Pp[(d=String(r)).toLowerCase()],n===void 0))throw new ht(`Unknown adapter '${d}'`);if(n&&(me.isFunction(n)||(n=n.get(s))))break;o[d||"#"+c]=n}if(!n){const c=Object.entries(o).map(([m,f])=>`adapter ${m} `+(f===!1?"is not supported by the environment":"is not available in the build"));let d=a?c.length>1?`since :
`+c.map(o0).join(`
`):" "+o0(c[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return n},adapters:Pp};function qf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mo(null,t)}function l0(t){return qf(t),t.headers=kr.from(t.headers),t.data=Yf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),bb.getAdapter(t.adapter||Kl.adapter,t)(t).then(function(r){return qf(t),r.data=Yf.call(t,t.transformResponse,r),r.headers=kr.from(r.headers),r},function(r){return hb(r)||(qf(t),r&&r.response&&(r.response.data=Yf.call(t,t.transformResponse,r.response),r.response.headers=kr.from(r.response.headers))),Promise.reject(r)})}const jb="1.12.2",wu={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{wu[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const c0={};wu.transitional=function(s,a,r){function n(o,c){return"[Axios v"+jb+"] Transitional option '"+o+"'"+c+(r?". "+r:"")}return(o,c,d)=>{if(s===!1)throw new ht(n(c," has been removed"+(a?" in "+a:"")),ht.ERR_DEPRECATED);return a&&!c0[c]&&(c0[c]=!0,console.warn(n(c," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(o,c,d):!0}};wu.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function q_(t,s,a){if(typeof t!="object")throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const o=r[n],c=s[o];if(c){const d=t[o],m=d===void 0||c(d,o,t);if(m!==!0)throw new ht("option "+o+" must be "+m,ht.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new ht("Unknown option "+o,ht.ERR_BAD_OPTION)}}const Td={assertOptions:q_,validators:wu},xs=Td.validators;let bi=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Xv,response:new Xv}}async request(s,a){try{return await this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=Si(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:o}=a;r!==void 0&&Td.assertOptions(r,{silentJSONParsing:xs.transitional(xs.boolean),forcedJSONParsing:xs.transitional(xs.boolean),clarifyTimeoutError:xs.transitional(xs.boolean)},!1),n!=null&&(me.isFunction(n)?a.paramsSerializer={serialize:n}:Td.assertOptions(n,{encode:xs.function,serialize:xs.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Td.assertOptions(a,{baseUrl:xs.spelling("baseURL"),withXsrfToken:xs.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let c=o&&me.merge(o.common,o[a.method]);o&&me.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),a.headers=kr.concat(c,o);const d=[];let m=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(a)===!1||(m=m&&y.synchronous,d.unshift(y.fulfilled,y.rejected))});const f=[];this.interceptors.response.forEach(function(y){f.push(y.fulfilled,y.rejected)});let p,h=0,g;if(!m){const b=[l0.bind(this),void 0];for(b.unshift(...d),b.push(...f),g=b.length,p=Promise.resolve(a);h<g;)p=p.then(b[h++],b[h++]);return p}g=d.length;let j=a;for(;h<g;){const b=d[h++],y=d[h++];try{j=b(j)}catch(w){y.call(this,w);break}}try{p=l0.call(this,j)}catch(b){return Promise.reject(b)}for(h=0,g=f.length;h<g;)p=p.then(f[h++],f[h++]);return p}getUri(s){s=Si(this.defaults,s);const a=gb(s.baseURL,s.url,s.allowAbsoluteUrls);return mb(a,s.params,s.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(s){bi.prototype[s]=function(a,r){return this.request(Si(r||{},{method:s,url:a,data:(r||{}).data}))}});me.forEach(["post","put","patch"],function(s){function a(r){return function(o,c,d){return this.request(Si(d||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}bi.prototype[s]=a(),bi.prototype[s+"Form"]=a(!0)});let K_=class wb{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const r=this;this.promise.then(n=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](n);r._listeners=null}),this.promise.then=n=>{let o;const c=new Promise(d=>{r.subscribe(d),o=d}).then(n);return c.cancel=function(){r.unsubscribe(o)},c},s(function(o,c,d){r.reason||(r.reason=new Mo(o,c,d),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new wb(function(n){s=n}),cancel:s}}};function G_(t){return function(a){return t.apply(null,a)}}function Q_(t){return me.isObject(t)&&t.isAxiosError===!0}const Rp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rp).forEach(([t,s])=>{Rp[s]=t});function Nb(t){const s=new bi(t),a=eb(bi.prototype.request,s);return me.extend(a,bi.prototype,s,{allOwnKeys:!0}),me.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return Nb(Si(t,n))},a}const Da=Nb(Kl);Da.Axios=bi;Da.CanceledError=Mo;Da.CancelToken=K_;Da.isCancel=hb;Da.VERSION=jb;Da.toFormData=ju;Da.AxiosError=ht;Da.Cancel=Da.CanceledError;Da.all=function(s){return Promise.all(s)};Da.spread=G_;Da.isAxiosError=Q_;Da.mergeConfig=Si;Da.AxiosHeaders=kr;Da.formToJSON=t=>pb(me.isHTMLForm(t)?new FormData(t):t);Da.getAdapter=bb.getAdapter;Da.HttpStatusCode=Rp;Da.default=Da;const{Axios:v6,AxiosError:y6,CanceledError:b6,isCancel:j6,CancelToken:w6,VERSION:N6,all:S6,Cancel:C6,isAxiosError:k6,spread:_6,toFormData:E6,AxiosHeaders:D6,HttpStatusCode:P6,formToJSON:R6,getAdapter:M6,mergeConfig:T6}=Da;function X_(t){if(!t)return"";try{const a=Math.random().toString(36).substring(2,15)+"|"+t;return btoa(a).split("").reverse().join("")}catch(s){return console.warn("Erro na criptografia, usando texto plano:",s),t}}function J_(t){if(!t)return"";try{const s=atob(t.split("").reverse().join("")),a=s.split("|");return a.length>1?a.slice(1).join("|"):s}catch(s){return console.warn("Erro na descriptografia, retornando texto original:",s),t}}const nt={setItem(t,s){try{const a=X_(typeof s=="string"?s:JSON.stringify(s));return localStorage.setItem(`secure_${t}`,a),!0}catch(a){return console.error("Erro ao armazenar item seguro:",a),!1}},getItem(t){try{const s=localStorage.getItem(`secure_${t}`);if(!s)return null;const a=J_(s);try{return JSON.parse(a)}catch{return a}}catch(s){return console.error("Erro ao recuperar item seguro:",s),null}},removeItem(t){try{return localStorage.removeItem(`secure_${t}`),!0}catch(s){return console.error("Erro ao remover item seguro:",s),!1}},clear(){try{return Object.keys(localStorage).filter(s=>s.startsWith("secure_")).forEach(s=>localStorage.removeItem(s)),!0}catch(t){return console.error("Erro ao limpar armazenamento seguro:",t),!1}},migrateFromPlainStorage(t,s=t){try{const a=localStorage.getItem(t);return a?(this.setItem(s,a),localStorage.removeItem(t),!0):!1}catch(a){return console.error("Erro na migração:",a),!1}}},Sb="http://127.0.0.1:8000",Z_="/api";"true".toLowerCase();"true".toLowerCase();"true".toLowerCase();const qd="local".toLowerCase(),eE=Sb,tE=(t="")=>t.replace(/^\/+|\/+$/g,""),aE=(t="")=>t.replace(/^\/+/,""),rE=(t="")=>/^https?:\/\//i.test(t),sE=(t="")=>{const s="/"+tE(Z_);if(!t)return s+"/";if(t.startsWith(s+"/")||t===s||t.startsWith(s+"?"))return t;const[a,r=""]=String(t).split("?"),n=/\/$/.test(a||""),o=aE(a||"");let c=`${s}/${o||""}`;return(n||!o)&&(c+="/"),r&&(c+=`?${r}`),c=c.replace(/\/{2,}/g,"/"),c},ce=Da.create({baseURL:eE,headers:{"Content-Type":"application/json"},timeout:15e3,withCredentials:qd==="cookie"});ce.interceptors.request.use(t=>{const s=t.url||"";if(!rE(s)){const f=sE(s);t.baseURL=Sb.replace(/\/+$/g,""),t.url=f.startsWith("/")?f:"/"+f}try{const f=String(nt.getItem("auth_storage")||qd).toLowerCase();t.withCredentials=f==="cookie"}catch{}const a="/api/auth/login/",r="/api/auth/register/",n="/auth/forgot-password/",o="/api/auth/google/",c="/api/auth/token/refresh/";if(((f="")=>[a,r,n,o,c].some(p=>f.includes(p)))(t.url||""))return t;if(String(nt.getItem("auth_storage")||qd).toLowerCase()!=="cookie"){const f=nt.getItem("access_token");let p=nt.getItem("auth_scheme")||"Token";if(!p){p=f&&f.includes(".")?"Bearer":"Token";try{nt.setItem("auth_scheme",p)}catch{}}try{f&&f.includes(".")&&/^token$/i.test(String(p))?(p="Bearer",nt.setItem("auth_scheme",p)):f&&!f.includes(".")&&/^bearer$/i.test(String(p))&&(p="Token",nt.setItem("auth_scheme",p))}catch{}f?t.headers.Authorization=`${p} ${f}`:delete t.headers.Authorization}else t.headers&&t.headers.Authorization&&delete t.headers.Authorization;return t.data instanceof FormData&&t.headers&&delete t.headers["Content-Type"],t});ce.interceptors.response.use(t=>t,async t=>{var r,n,o,c,d,m;const s=(r=t==null?void 0:t.response)==null?void 0:r.status,a=(t==null?void 0:t.config)||{};if(s===401&&!a._retry){a._retry=!0;try{if(String(nt.getItem("auth_storage")||qd).toLowerCase()==="cookie")return await ce.post("/auth/refresh/",{},{withCredentials:!0}),ce(a);{const p="/api/auth/token/refresh/",h=nt.getItem("refresh_token");if(h){const g=await ce.post(p,{refresh:h}),j=((n=g==null?void 0:g.data)==null?void 0:n.access)||((o=g==null?void 0:g.data)==null?void 0:o.access_token)||((c=g==null?void 0:g.data)==null?void 0:c.token),b=((d=g==null?void 0:g.data)==null?void 0:d.refresh)||((m=g==null?void 0:g.data)==null?void 0:m.refresh_token);j&&nt.setItem("access_token",j),b&&nt.setItem("refresh_token",b),a.headers=a.headers||{};const y=nt.getItem("auth_scheme")||(j&&j.includes(".")?"Bearer":"Token");return a.headers.Authorization=`${y} ${nt.getItem("access_token")}`,ce(a)}}}catch{}}return Promise.reject(t)});const Kf="true".toLowerCase()==="true",Tn="false".toLowerCase()==="true",Cb={async criarSolicitacaoMedico(t,s={}){var j,b,y,w,C,S,k,P,R;const a=new FormData,r=(D,E,O=[])=>{if(E==null)return;const I=[D,...O].filter(Boolean);for(const z of I)a.append(z,E)};r("crm",t.crm,["crm_numero"]),r("especialidade",t.especialidade),r("instituicaoFormacao",t.instituicaoFormacao,["instituicao_formacao"]),r("anoFormacao",t.anoFormacao,["ano_formacao"]),r("residencia",t.residencia??""),r("instituicaoResidencia",t.instituicaoResidencia??"",["instituicao_residencia"]),r("anoResidencia",t.anoResidencia??"",["ano_residencia"]),r("experiencia",t.experiencia),r("motivacao",t.motivacao,["motivo","justificativa"]),r("nome",t.nome,["nome_completo"]),r("email",t.email),r("cpf",t.cpf),r("tipo",t.tipo||"medico"),(j=t.documentos)!=null&&j.diplomaMedicina&&r("diplomaMedicina",t.documentos.diplomaMedicina,["diploma_medicina"]),(b=t.documentos)!=null&&b.certificadoResidencia&&r("certificadoResidencia",t.documentos.certificadoResidencia,["certificado_residencia"]),(y=t.documentos)!=null&&y.comprovanteExperiencia&&r("comprovanteExperiencia",t.documentos.comprovanteExperiencia,["comprovante_experiencia"]);let n;try{const D=(w=St.getCurrentUser)==null?void 0:w.call(St);n=(D==null?void 0:D.id)||(D==null?void 0:D.pk)||((C=D==null?void 0:D.user)==null?void 0:C.id),n&&r("user",n,["usuario","user_id","usuario_id"])}catch{}const o={crm:t.crm,crm_numero:t.crm,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao,instituicao_formacao:t.instituicaoFormacao,anoFormacao:t.anoFormacao,ano_formacao:t.anoFormacao,residencia:t.residencia??"",instituicaoResidencia:t.instituicaoResidencia??"",instituicao_residencia:t.instituicaoResidencia??"",anoResidencia:t.anoResidencia??"",ano_residencia:t.anoResidencia??"",experiencia:t.experiencia,motivacao:t.motivacao,motivo:t.motivacao,justificativa:t.motivacao,nome:t.nome,nome_completo:t.nome_completo||t.nome,email:t.email,cpf:t.cpf,tipo:t.tipo||"medico"};n&&(o.user=n,o.usuario=n,o.user_id=n,o.usuario_id=n);const c="/api/solicitacaomedico/".trim(),d="/api/solicitacoes/".trim();let m=[];c&&m.push(c),d&&m.push(d),Tn||m.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/medico/","/medico/solicitacoes/","/medicos/solicitacao/","/solicitacao/medicos/","/users/medicos/solicitacoes/","/usuarios/medicos/solicitacoes/","/users/solicitacoes/medico/","/usuarios/solicitacoes/medico/","/app_medico/","/meu_app_medico/","/meui_app_solicitacaomedico/","/solicitacaomedico/","/solicitacao-medico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedico/");const f=D=>{if(Tn)return[D];const E=D.endsWith("/")?"":"/";return[D,`${D}${E}criar/`,`${D}${E}create/`,`${D}${E}novo/`,`${D}${E}nova/`,`${D}${E}add/`,`${D}${E}adicionar/`,`${D}${E}registrar/`,`${D}${E}enviar/`,`${D}${E}submit/`]},p=Array.from(new Set(m.flatMap(f))),h=[];let g;for(const D of p)try{return h.push(D),Kf&&console.debug("[solicitacaoService] Tentando endpoint:",D),(await ce.post(D,a,{headers:{"Content-Type":"multipart/form-data"},signal:s==null?void 0:s.signal})).data}catch(E){const O=(S=E==null?void 0:E.response)==null?void 0:S.status,I=((k=E==null?void 0:E.response)==null?void 0:k.data)&&JSON.stringify(E.response.data)||"";if(O===415||O===400&&/JSON|application\/json|parse/i.test(I))try{return(await ce.post(D,o,{headers:{"Content-Type":"application/json"},signal:s==null?void 0:s.signal})).data}catch(B){const Y=(P=B==null?void 0:B.response)==null?void 0:P.status;if((Y===404||Y===405)&&!Tn){g=B;continue}throw B}if((O===404||O===405)&&!Tn){Kf&&console.debug("[solicitacaoService] Endpoint não aceitou método (",O,"):",D),g=E;continue}throw E}throw g?(Kf&&console.warn("[solicitacaoService] Nenhum endpoint aceitou POST. Último status:",(R=g==null?void 0:g.response)==null?void 0:R.status,"URLs tentadas:",h),g):new Error("Nenhum endpoint de criação aceitou a solicitação. Configure VITE_SOLICITACOES_MEDICOS_ENDPOINT. URLs tentadas: "+h.join(", "))},async listarMinhasSolicitacoes(t={},s={}){var c,d;const a="/api/solicitacaomedico/".trim(),r="/api/solicitacoes/".trim(),n=[];a&&n.push(a),r&&n.push(r),Tn||n.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/","/me/solicitacoes/","/minhas-solicitacoes/","/solicitacoes/me/","/solicitacoes/minhas/");const o={...t};o.limit!=null&&o.page_size==null&&(o.page_size=o.limit),o.page_size!=null&&o.limit==null&&(o.limit=o.page_size);for(const m of n){const f=d0(m);try{const p=await ce.get(f,{params:o,signal:s==null?void 0:s.signal});return Array.isArray((c=p.data)==null?void 0:c.results)?{...p.data,results:p.data.results.map(Gf)}:Array.isArray(p.data)?{results:p.data.map(Gf)}:p.data}catch(p){if(((d=p==null?void 0:p.response)==null?void 0:d.status)===404&&!Tn)continue;throw p}}return{results:[]}},async getSolicitacaoMedico(t,s={}){var c;const a="/api/solicitacaomedico/".trim(),r="/api/solicitacoes/".trim(),n=[];a&&n.push(a),r&&n.push(r),Tn||n.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/");let o;for(const d of n){const m=d0(d)+String(t)+"/";try{const f=await ce.get(m,{signal:s==null?void 0:s.signal});return Gf(f.data)}catch(f){if(((c=f==null?void 0:f.response)==null?void 0:c.status)===404&&!Tn){o=f;continue}throw f}}throw o||new Error("Solicitação não encontrada")}};function d0(t){return t?t.endsWith("/")?t:t+"/":"/"}function Gf(t={}){return{id:t.id||t.pk,crm:t.crm||t.crm_numero,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao||t.instituicao_formacao,anoFormacao:t.anoFormacao||t.ano_formacao,residencia:t.residencia,instituicaoResidencia:t.instituicaoResidencia||t.instituicao_residencia,anoResidencia:t.anoResidencia||t.ano_residencia,experiencia:t.experiencia,motivacao:t.motivacao||t.motivo||t.justificativa,nome:t.nome||t.nome_completo,email:t.email,cpf:t.cpf,status:t.status||t.situacao||t.aprovado,created_at:t.created_at||t.data_criacao}}const nE=Object.freeze(Object.defineProperty({__proto__:null,solicitacaoService:Cb},Symbol.toStringTag,{value:"Module"})),iE=t=>{if(!t)return"";try{const s=new Date(t);if(isNaN(s.getTime()))return"";const a=s.getFullYear(),r=String(s.getMonth()+1).padStart(2,"0"),n=String(s.getDate()).padStart(2,"0");return`${a}-${r}-${n}`}catch{return""}};function An(t){return t?{id:t.id,username:t.username,email:t.email,first_name:t.first_name||"",last_name:t.last_name||"",is_staff:t.is_staff||!1,is_active:t.is_active!==!1,date_joined:t.date_joined,last_login:t.last_login,role:t.role||t.tipo||t.tipo_usuario||t.user_type||"",tipo:t.tipo||t.role||t.tipo_usuario||t.user_type||"",tipo_usuario:t.tipo_usuario||t.user_type||"",data_nascimento:iE(t.data_nascimento||t.birth_date),telefone:t.telefone||t.phone||"",endereco:t.endereco||t.address||"",crm:t.crm||"",especialidade:t.especialidade||t.specialty||""}:null}const St={async login(t){var s,a,r,n,o,c,d,m;try{const f={username:((a=(s=t.username)==null?void 0:s.trim)==null?void 0:a.call(s))||((n=(r=t.email)==null?void 0:r.trim)==null?void 0:n.call(r))||void 0,email:((c=(o=t.email)==null?void 0:o.trim)==null?void 0:c.call(o))||((m=(d=t.username)==null?void 0:d.trim)==null?void 0:m.call(d))||void 0,password:t.password},p=await ce.post("/api/auth/login/",f);if(p.data){nt.setItem("auth_scheme","Token");const g=p.data.access_token||p.data.access||p.data.token,j=p.data.refresh_token||p.data.refresh;g&&nt.setItem("access_token",g),j&&nt.setItem("refresh_token",j);try{if(!g&&!j){nt.setItem("auth_storage","cookie");try{ce.defaults.withCredentials=!0}catch{}}}catch{}try{const b=await _l();b?nt.setItem("user",An(b)):nt.removeItem("user")}catch(b){console.warn("Não foi possível carregar dados do usuário:",b),nt.removeItem("user")}return p.data}throw new Error("Resposta de login inválida")}catch(f){throw console.error("Erro no login:",f),f}},async register(t,s={}){var a;try{const n=await ce.post("/api/auth/register/",t);let o=null;if(n.data&&!s.skipAutoLogin){nt.setItem("auth_scheme","Token");const m=n.data.access_token||n.data.access||n.data.token,f=n.data.refresh_token||n.data.refresh;m&&nt.setItem("access_token",m),f&&nt.setItem("refresh_token",f);try{if(!m&&!f){nt.setItem("auth_storage","cookie");try{ce.defaults.withCredentials=!0}catch{}}}catch{}try{o=await _l(),o?nt.setItem("user",An(o)):nt.removeItem("user")}catch(p){if(console.warn("Não foi possível carregar dados do usuário após registro:",p),nt.removeItem("user"),nt.getItem("access_token"))try{const g=await _l();o=g,g&&nt.setItem("user",An(g))}catch(g){console.warn("Fallback para buscar usuário também falhou:",g)}}}let c;try{const d=String((t==null?void 0:t.desired_role)||"").toLowerCase()==="medico",m=s==null?void 0:s.medicoData;if(d&&m){const f=An(o||nt.getItem("user")||{}),p=[f==null?void 0:f.first_name,f==null?void 0:f.last_name].filter(Boolean).join(" ")||(f==null?void 0:f.username)||"",h={...m,nome:m.nome||p||(t==null?void 0:t.first_name)||"",email:m.email||(f==null?void 0:f.email)||(t==null?void 0:t.email)||"",cpf:m.cpf||(t==null?void 0:t.cpf)||"",tipo:m.tipo||"medico"};try{c={success:!0,data:await Cb.criarSolicitacaoMedico(h)};try{const j=(f==null?void 0:f.id)||(o==null?void 0:o.id);j&&localStorage.setItem(`medicoApplicationStatus:${j}`,"pending")}catch{}}catch(g){c={success:!1,error:((a=g==null?void 0:g.response)==null?void 0:a.data)||(g==null?void 0:g.message)||"Não foi possível criar a solicitação de médico."}}}}catch(d){c={success:!1,error:(d==null?void 0:d.message)||"Falha desconhecida ao criar solicitação."}}return c?{...n.data,medicoApplication:c}:n.data}catch(r){throw console.error("Erro no registro:",r),r}},async logout(){try{await ce.post("/api/auth/logout/")}catch(t){console.warn("Erro ao fazer logout no servidor:",t)}finally{nt.removeItem("access_token"),nt.removeItem("refresh_token"),nt.removeItem("user"),nt.removeItem("auth_scheme"),nt.removeItem("auth_storage")}},async forgotPassword(t){const a=await ce.post("/api/password_reset/",{email:t});return(a==null?void 0:a.data)??a},getCurrentUser(){try{const t=nt.getItem("user");return t?An(t):null}catch(t){return console.error("Erro ao recuperar usuário atual:",t),null}},async refreshCurrentUser(){var t;try{const s=await _l();return s?(nt.setItem("user",An(s)),An(s)):(nt.removeItem("user"),null)}catch(s){if(((t=s==null?void 0:s.response)==null?void 0:t.status)===401)throw s;return console.error("Erro ao atualizar dados do usuário:",s),null}},isAuthenticated(){const t=nt.getItem("access_token"),s=String(nt.getItem("auth_storage")||void 0||"local").toLowerCase();return!!t||s==="cookie"},async loginWithGoogle(t){try{const a=await ce.post("/api/auth/google/",{credential:t});if(a.data){nt.setItem("auth_scheme","Token");const n=a.data.access_token||a.data.access||a.data.token,o=a.data.refresh_token||a.data.refresh;n&&nt.setItem("access_token",n),o&&nt.setItem("refresh_token",o);try{if(!n&&!o){nt.setItem("auth_storage","cookie");try{ce.defaults.withCredentials=!0}catch{}}}catch{}try{const c=await _l();c?nt.setItem("user",An(c)):nt.removeItem("user")}catch(c){console.warn("Não foi possível carregar dados do usuário:",c),nt.removeItem("user")}return a.data}throw new Error("Resposta de login com Google inválida")}catch(s){throw console.error("Erro no login com Google:",s),s}}};async function _l(){return(await ce.get("/api/auth/users/me/")).data}const sr={NETWORK:"NETWORK_ERROR",AUTHENTICATION:"AUTH_ERROR",AUTHORIZATION:"AUTHORIZATION_ERROR",VALIDATION:"VALIDATION_ERROR",SERVER:"SERVER_ERROR",CLIENT:"CLIENT_ERROR",UNKNOWN:"UNKNOWN_ERROR"},oE={[sr.NETWORK]:"Erro de conexão. Verifique sua internet e tente novamente.",[sr.AUTHENTICATION]:"Sessão expirada. Faça login novamente.",[sr.AUTHORIZATION]:"Você não tem permissão para realizar esta ação.",[sr.VALIDATION]:"Dados inválidos. Verifique as informações e tente novamente.",[sr.SERVER]:"Erro interno do servidor. Tente novamente em alguns minutos.",[sr.CLIENT]:"Erro na aplicação. Recarregue a página e tente novamente.",[sr.UNKNOWN]:"Erro inesperado. Tente novamente."};function lE(t){if(!t.response&&t.code==="NETWORK_ERROR"||t.code==="ECONNABORTED")return sr.NETWORK;if(t.response){const s=t.response.status;if(s===401)return sr.AUTHENTICATION;if(s===403)return sr.AUTHORIZATION;if(s>=400&&s<500)return sr.VALIDATION;if(s>=500)return sr.SERVER}return sr.UNKNOWN}function cE(t){var n;const s=lE(t),a=oE[s];return{type:s,message:a,timestamp:new Date().toISOString(),status:((n=t.response)==null?void 0:n.status)||null}}const gi=class gi{constructor(){this.errorListeners=[],this.setupGlobalErrorHandlers()}static getInstance(){return gi.instance||(gi.instance=new gi),gi.instance}setupGlobalErrorHandlers(){window.addEventListener("error",s=>{this.handleError(s.error,"GLOBAL_ERROR")}),window.addEventListener("unhandledrejection",s=>{this.handleError(s.reason,"UNHANDLED_PROMISE")})}addErrorListener(s){this.errorListeners.push(s)}removeErrorListener(s){this.errorListeners=this.errorListeners.filter(a=>a!==s)}notifyListeners(s){this.errorListeners.forEach(a=>{try{a(s)}catch(r){console.error("Erro no listener de erro:",r)}})}handleError(s,a="UNKNOWN"){const r=cE(s);return r.context=a,this.notifyListeners(r),r}handleApiError(s,a="API_CALL"){const r=this.handleError(s,a);switch(r.type){case sr.AUTHENTICATION:this.handleAuthenticationError();break;case sr.NETWORK:this.handleNetworkError();break}return r}handleAuthenticationError(){try{const s=!!(nt.getItem("access_token")||nt.getItem("refresh_token")),a=String(nt.getItem("auth_storage")||void 0||"local").toLowerCase(),r=window.location.pathname.includes("/login");if(a==="cookie"||s)return;r||(window.location.href="/login")}catch{window.location.pathname.includes("/login")||(window.location.href="/login")}}handleNetworkError(){console.warn("Erro de rede detectado")}};Be(gi,"instance",null);let Kd=gi;function dE(){const t=Kd.getInstance(),s=x.useCallback((r,n)=>t.handleError(r,n),[]),a=x.useCallback((r,n)=>t.handleApiError(r,n),[]);return{handleError:s,handleApiError:a}}Kd.getInstance();const kb=x.createContext({});function uE({children:t}){const[s,a]=x.useState(null),[r,n]=x.useState(!0),{handleError:o}=dE(),c=x.useCallback(async()=>{try{const j=St.getCurrentUser();if(j)a(j);else if(St.isAuthenticated())try{const b=await St.refreshCurrentUser();b&&a(b)}catch{a(null)}}catch(j){o(j,"Erro ao inicializar autenticação")}finally{n(!1)}},[o]);x.useEffect(()=>{c()},[]);const d=x.useCallback(async j=>{try{const b=await St.login(j);if(b!=null&&b.user)a(b.user);else{const y=St.getCurrentUser();a(y)}return b}catch(b){throw o(b,"Erro ao fazer login"),b}},[o]),m=x.useCallback(async()=>{try{await St.logout(),a(null)}catch(j){o(j,"Erro ao fazer logout"),a(null)}},[o]),f=x.useCallback(async j=>{try{const b=await St.register(j);if(b!=null&&b.user)a(b.user);else{const y=St.getCurrentUser();y&&a(y)}return b}catch(b){throw o(b,"Erro ao registrar usuário"),b}},[o]),p=x.useCallback(async j=>{try{const b=await St.loginWithGoogle(j);return a(b.user),b}catch(b){throw o(b,"Erro ao fazer login com Google"),b}},[o]),h=x.useMemo(()=>St.isAuthenticated(),[s]),g=x.useMemo(()=>({user:s,login:d,logout:m,register:f,loading:r,isAuthenticated:!!s||h,loginWithGoogle:p}),[s,d,m,f,p,h,r]);return e.jsx(kb.Provider,{value:g,children:t})}const un=()=>{const t=x.useContext(kb);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},_b=x.createContext(void 0);function mE({children:t}){const[s,a]=x.useState("paciente"),[r,n]=x.useState(!1),[o,c]=x.useState({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),[d,m]=x.useState(null),[f,p]=x.useState(""),h=x.useCallback(()=>{m(null),p("")},[]),g=x.useCallback(()=>{o.isMedico&&o.medicoStatus==="approved"&&a(s==="medico"?"paciente":"medico")},[o.isMedico,o.medicoStatus,s]),j=x.useCallback((w="paciente",C={})=>{n(!0),a(w),c(C)},[]),b=x.useCallback(()=>{n(!1),a("paciente"),c({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),h()},[h]),y=x.useMemo(()=>({activeRole:s,setActiveRole:a,toggleRole:g,isAuthenticated:r,userPermissions:o,setUserPermissions:c,login:j,logout:b,ephemeralCertFile:d,setEphemeralCertFile:m,ephemeralCertPassword:f,setEphemeralCertPassword:p,clearEphemeralCert:h}),[s,g,r,o,j,b,d,f,h]);return e.jsx(_b.Provider,{value:y,children:t})}function Ps(){const t=x.useContext(_b);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t}function u0(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Nu(...t){return s=>{let a=!1;const r=t.map(n=>{const o=u0(n,s);return!a&&typeof o=="function"&&(a=!0),o});if(a)return()=>{for(let n=0;n<r.length;n++){const o=r[n];typeof o=="function"?o():u0(t[n],null)}}}}function Bt(...t){return x.useCallback(Nu(...t),t)}function Ci(t){const s=fE(t),a=x.forwardRef((r,n)=>{const{children:o,...c}=r,d=x.Children.toArray(o),m=d.find(hE);if(m){const f=m.props.children,p=d.map(h=>h===m?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:h);return e.jsx(s,{...c,ref:n,children:x.isValidElement(f)?x.cloneElement(f,void 0,p):null})}return e.jsx(s,{...c,ref:n,children:o})});return a.displayName=`${t}.Slot`,a}var To=Ci("Slot");function fE(t){const s=x.forwardRef((a,r)=>{const{children:n,...o}=a;if(x.isValidElement(n)){const c=gE(n),d=xE(o,n.props);return n.type!==x.Fragment&&(d.ref=r?Nu(r,c):c),x.cloneElement(n,d)}return x.Children.count(n)>1?x.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Eb=Symbol("radix.slottable");function pE(t){const s=({children:a})=>e.jsx(e.Fragment,{children:a});return s.displayName=`${t}.Slottable`,s.__radixId=Eb,s}function hE(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Eb}function xE(t,s){const a={...s};for(const r in s){const n=t[r],o=s[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...d)=>{const m=o(...d);return n(...d),m}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...t,...a}}function gE(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function Db(t){var s,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(a=Db(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}function Ya(){for(var t,s,a=0,r="",n=arguments.length;a<n;a++)(t=arguments[a])&&(s=Db(t))&&(r&&(r+=" "),r+=s);return r}const m0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,f0=Ya,Su=(t,s)=>a=>{var r;if((s==null?void 0:s.variants)==null)return f0(t,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:n,defaultVariants:o}=s,c=Object.keys(n).map(f=>{const p=a==null?void 0:a[f],h=o==null?void 0:o[f];if(p===null)return null;const g=m0(p)||m0(h);return n[f][g]}),d=a&&Object.entries(a).reduce((f,p)=>{let[h,g]=p;return g===void 0||(f[h]=g),f},{}),m=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:h,className:g,...j}=p;return Object.entries(j).every(b=>{let[y,w]=b;return Array.isArray(w)?w.includes({...o,...d}[y]):{...o,...d}[y]===w})?[...f,h,g]:f},[]);return f0(t,c,m,a==null?void 0:a.class,a==null?void 0:a.className)};var vE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Me=(t,s)=>{const a=x.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:c,children:d,...m},f)=>x.createElement("svg",{ref:f,...vE,width:n,height:n,stroke:r,strokeWidth:c?Number(o)*24/Number(n):o,className:`lucide lucide-${yE(t)}`,...m},[...s.map(([p,h])=>x.createElement(p,h)),...(Array.isArray(d)?d:[d])||[]]));return a.displayName=`${t}`,a},hr=Me("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Vn=Me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Js=Me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Zs=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Gd=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Il=Me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ph=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Rs=Me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Cu=Me("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),p0=Me("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),ot=Me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),_s=Me("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Wa=Me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),bE=Me("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Pb=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),hh=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Rb=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ss=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),jE=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),wE=Me("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),NE=Me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),en=Me("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),pt=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),SE=Me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ns=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),h0=Me("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),CE=Me("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),kE=Me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),_r=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),_E=Me("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),va=Me("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ji=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),EE=Me("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),jo=Me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),DE=Me("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Mb=Me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),PE=Me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),RE=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Qf=Me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),ME=Me("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),TE=Me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),xh=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),AE=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ms=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Qd=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),OE=Me("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),IE=Me("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),LE=Me("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),x0=Me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),FE=Me("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),$E=Me("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),zE=Me("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),tn=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Tl=Me("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),Wn=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),BE=Me("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Tb=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ab=Me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),qa=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Xd=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),UE=Me("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),is=Me("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),HE=Me("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),VE=Me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),bt=Me("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),g0=Me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),WE=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Gl=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Xf=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),v0=Me("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),YE=Me("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),y0=Me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ea=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Sa=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Jf=Me("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Xa=Me("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),gh=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function qE(){const[t,s]=x.useState(!1);return x.useEffect(()=>{const a=()=>{s(window.innerWidth<768)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),t}function we(...t){return t.filter(Boolean).join(" ")}function KE(t){return t?t.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):""}const Z=x.forwardRef(({className:t,variant:s="default",size:a="default",asChild:r=!1,...n},o)=>{const c=r?"slot":"button",d={default:"btn-medical-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"btn-medical-secondary",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-border",ghost:"btn-medical-ghost",link:"text-primary underline-offset-4 hover:underline p-0 h-auto",medical:"btn-medical-primary",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm",info:"bg-info text-info-foreground hover:bg-info/90 shadow-sm"},m={default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"};return e.jsx(c,{className:we("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","active:scale-[0.98]",d[s],m[a],t),ref:o,...n})});Z.displayName="Button";const ge=x.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a}));ge.displayName="Input";var GE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dt=GE.reduce((t,s)=>{const a=Ci(`Primitive.${s}`),r=x.forwardRef((n,o)=>{const{asChild:c,...d}=n,m=c?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...d,ref:o})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function vh(t,s){t&&Eo.flushSync(()=>t.dispatchEvent(s))}var QE="Separator",b0="horizontal",XE=["horizontal","vertical"],Ob=x.forwardRef((t,s)=>{const{decorative:a,orientation:r=b0,...n}=t,o=JE(r)?r:b0,d=a?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(dt.div,{"data-orientation":o,...d,...n,ref:s})});Ob.displayName=QE;function JE(t){return XE.includes(t)}var Ib=Ob;const lr=x.forwardRef(({className:t,orientation:s="horizontal",decorative:a=!0,...r},n)=>e.jsx(Ib,{ref:n,decorative:a,orientation:s,className:we("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));lr.displayName=Ib.displayName;function Ie(t,s,{checkForDefaultPrevented:a=!0}={}){return function(n){if(t==null||t(n),a===!1||!n.defaultPrevented)return s==null?void 0:s(n)}}function ZE(t,s){const a=x.createContext(s),r=o=>{const{children:c,...d}=o,m=x.useMemo(()=>d,Object.values(d));return e.jsx(a.Provider,{value:m,children:c})};r.displayName=t+"Provider";function n(o){const c=x.useContext(a);if(c)return c;if(s!==void 0)return s;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,n]}function Is(t,s=[]){let a=[];function r(o,c){const d=x.createContext(c),m=a.length;a=[...a,c];const f=h=>{var C;const{scope:g,children:j,...b}=h,y=((C=g==null?void 0:g[t])==null?void 0:C[m])||d,w=x.useMemo(()=>b,Object.values(b));return e.jsx(y.Provider,{value:w,children:j})};f.displayName=o+"Provider";function p(h,g){var y;const j=((y=g==null?void 0:g[t])==null?void 0:y[m])||d,b=x.useContext(j);if(b)return b;if(c!==void 0)return c;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[f,p]}const n=()=>{const o=a.map(c=>x.createContext(c));return function(d){const m=(d==null?void 0:d[t])||o;return x.useMemo(()=>({[`__scope${t}`]:{...d,[t]:m}}),[d,m])}};return n.scopeName=t,[r,eD(n,...s)]}function eD(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const c=r.reduce((d,{useScope:m,scopeName:f})=>{const h=m(o)[`__scope${f}`];return{...d,...h}},{});return x.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return a.scopeName=s.scopeName,a}var Ta=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},tD=Hl[" useId ".trim().toString()]||(()=>{}),aD=0;function Es(t){const[s,a]=x.useState(tD());return Ta(()=>{a(r=>r??String(aD++))},[t]),t||(s?`radix-${s}`:"")}var rD=Hl[" useInsertionEffect ".trim().toString()]||Ta;function ki({prop:t,defaultProp:s,onChange:a=()=>{},caller:r}){const[n,o,c]=sD({defaultProp:s,onChange:a}),d=t!==void 0,m=d?t:n;{const p=x.useRef(t!==void 0);x.useEffect(()=>{const h=p.current;h!==d&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,r])}const f=x.useCallback(p=>{var h;if(d){const g=nD(p)?p(t):p;g!==t&&((h=c.current)==null||h.call(c,g))}else o(p)},[d,t,o,c]);return[m,f]}function sD({defaultProp:t,onChange:s}){const[a,r]=x.useState(t),n=x.useRef(a),o=x.useRef(s);return rD(()=>{o.current=s},[s]),x.useEffect(()=>{var c;n.current!==a&&((c=o.current)==null||c.call(o,a),n.current=a)},[a,n]),[a,r,o]}function nD(t){return typeof t=="function"}function xr(t){const s=x.useRef(t);return x.useEffect(()=>{s.current=t}),x.useMemo(()=>(...a)=>{var r;return(r=s.current)==null?void 0:r.call(s,...a)},[])}function iD(t,s=globalThis==null?void 0:globalThis.document){const a=xr(t);x.useEffect(()=>{const r=n=>{n.key==="Escape"&&a(n)};return s.addEventListener("keydown",r,{capture:!0}),()=>s.removeEventListener("keydown",r,{capture:!0})},[a,s])}var oD="DismissableLayer",Mp="dismissableLayer.update",lD="dismissableLayer.pointerDownOutside",cD="dismissableLayer.focusOutside",j0,Lb=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ao=x.forwardRef((t,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...m}=t,f=x.useContext(Lb),[p,h]=x.useState(null),g=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,j]=x.useState({}),b=Bt(s,E=>h(E)),y=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=y.indexOf(w),S=p?y.indexOf(p):-1,k=f.layersWithOutsidePointerEventsDisabled.size>0,P=S>=C,R=uD(E=>{const O=E.target,I=[...f.branches].some(z=>z.contains(O));!P||I||(n==null||n(E),c==null||c(E),E.defaultPrevented||d==null||d())},g),D=mD(E=>{const O=E.target;[...f.branches].some(z=>z.contains(O))||(o==null||o(E),c==null||c(E),E.defaultPrevented||d==null||d())},g);return iD(E=>{S===f.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&d&&(E.preventDefault(),d()))},g),x.useEffect(()=>{if(p)return a&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(j0=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),w0(),()=>{a&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=j0)}},[p,g,a,f]),x.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),w0())},[p,f]),x.useEffect(()=>{const E=()=>j({});return document.addEventListener(Mp,E),()=>document.removeEventListener(Mp,E)},[]),e.jsx(dt.div,{...m,ref:b,style:{pointerEvents:k?P?"auto":"none":void 0,...t.style},onFocusCapture:Ie(t.onFocusCapture,D.onFocusCapture),onBlurCapture:Ie(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ie(t.onPointerDownCapture,R.onPointerDownCapture)})});Ao.displayName=oD;var dD="DismissableLayerBranch",Fb=x.forwardRef((t,s)=>{const a=x.useContext(Lb),r=x.useRef(null),n=Bt(s,r);return x.useEffect(()=>{const o=r.current;if(o)return a.branches.add(o),()=>{a.branches.delete(o)}},[a.branches]),e.jsx(dt.div,{...t,ref:n})});Fb.displayName=dD;function uD(t,s=globalThis==null?void 0:globalThis.document){const a=xr(t),r=x.useRef(!1),n=x.useRef(()=>{});return x.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let m=function(){$b(lD,a,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(s.removeEventListener("click",n.current),n.current=m,s.addEventListener("click",n.current,{once:!0})):m()}else s.removeEventListener("click",n.current);r.current=!1},c=window.setTimeout(()=>{s.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),s.removeEventListener("pointerdown",o),s.removeEventListener("click",n.current)}},[s,a]),{onPointerDownCapture:()=>r.current=!0}}function mD(t,s=globalThis==null?void 0:globalThis.document){const a=xr(t),r=x.useRef(!1);return x.useEffect(()=>{const n=o=>{o.target&&!r.current&&$b(cD,a,{originalEvent:o},{discrete:!1})};return s.addEventListener("focusin",n),()=>s.removeEventListener("focusin",n)},[s,a]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function w0(){const t=new CustomEvent(Mp);document.dispatchEvent(t)}function $b(t,s,a,{discrete:r}){const n=a.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});s&&n.addEventListener(t,s,{once:!0}),r?vh(n,o):n.dispatchEvent(o)}var fD=Ao,pD=Fb,Zf="focusScope.autoFocusOnMount",ep="focusScope.autoFocusOnUnmount",N0={bubbles:!1,cancelable:!0},hD="FocusScope",ku=x.forwardRef((t,s)=>{const{loop:a=!1,trapped:r=!1,onMountAutoFocus:n,onUnmountAutoFocus:o,...c}=t,[d,m]=x.useState(null),f=xr(n),p=xr(o),h=x.useRef(null),g=Bt(s,y=>m(y)),j=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let y=function(k){if(j.paused||!d)return;const P=k.target;d.contains(P)?h.current=P:Ln(h.current,{select:!0})},w=function(k){if(j.paused||!d)return;const P=k.relatedTarget;P!==null&&(d.contains(P)||Ln(h.current,{select:!0}))},C=function(k){if(document.activeElement===document.body)for(const R of k)R.removedNodes.length>0&&Ln(d)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const S=new MutationObserver(C);return d&&S.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),S.disconnect()}}},[r,d,j.paused]),x.useEffect(()=>{if(d){C0.add(j);const y=document.activeElement;if(!d.contains(y)){const C=new CustomEvent(Zf,N0);d.addEventListener(Zf,f),d.dispatchEvent(C),C.defaultPrevented||(xD(jD(zb(d)),{select:!0}),document.activeElement===y&&Ln(d))}return()=>{d.removeEventListener(Zf,f),setTimeout(()=>{const C=new CustomEvent(ep,N0);d.addEventListener(ep,p),d.dispatchEvent(C),C.defaultPrevented||Ln(y??document.body,{select:!0}),d.removeEventListener(ep,p),C0.remove(j)},0)}}},[d,f,p,j]);const b=x.useCallback(y=>{if(!a&&!r||j.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,C=document.activeElement;if(w&&C){const S=y.currentTarget,[k,P]=gD(S);k&&P?!y.shiftKey&&C===P?(y.preventDefault(),a&&Ln(k,{select:!0})):y.shiftKey&&C===k&&(y.preventDefault(),a&&Ln(P,{select:!0})):C===S&&y.preventDefault()}},[a,r,j.paused]);return e.jsx(dt.div,{tabIndex:-1,...c,ref:g,onKeyDown:b})});ku.displayName=hD;function xD(t,{select:s=!1}={}){const a=document.activeElement;for(const r of t)if(Ln(r,{select:s}),document.activeElement!==a)return}function gD(t){const s=zb(t),a=S0(s,t),r=S0(s.reverse(),t);return[a,r]}function zb(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function S0(t,s){for(const a of t)if(!vD(a,{upTo:s}))return a}function vD(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yD(t){return t instanceof HTMLInputElement&&"select"in t}function Ln(t,{select:s=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&yD(t)&&s&&t.select()}}var C0=bD();function bD(){let t=[];return{add(s){const a=t[0];s!==a&&(a==null||a.pause()),t=k0(t,s),t.unshift(s)},remove(s){var a;t=k0(t,s),(a=t[0])==null||a.resume()}}}function k0(t,s){const a=[...t],r=a.indexOf(s);return r!==-1&&a.splice(r,1),a}function jD(t){return t.filter(s=>s.tagName!=="A")}var wD="Portal",Ql=x.forwardRef((t,s)=>{var d;const{container:a,...r}=t,[n,o]=x.useState(!1);Ta(()=>o(!0),[]);const c=a||n&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?Hy.createPortal(e.jsx(dt.div,{...r,ref:s}),c):null});Ql.displayName=wD;function ND(t,s){return x.useReducer((a,r)=>s[a][r]??a,t)}var Ls=t=>{const{present:s,children:a}=t,r=SD(s),n=typeof a=="function"?a({present:r.isPresent}):x.Children.only(a),o=Bt(r.ref,CD(n));return typeof a=="function"||r.isPresent?x.cloneElement(n,{ref:o}):null};Ls.displayName="Presence";function SD(t){const[s,a]=x.useState(),r=x.useRef(null),n=x.useRef(t),o=x.useRef("none"),c=t?"mounted":"unmounted",[d,m]=ND(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=vd(r.current);o.current=d==="mounted"?f:"none"},[d]),Ta(()=>{const f=r.current,p=n.current;if(p!==t){const g=o.current,j=vd(f);t?m("MOUNT"):j==="none"||(f==null?void 0:f.display)==="none"?m("UNMOUNT"):m(p&&g!==j?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,m]),Ta(()=>{if(s){let f;const p=s.ownerDocument.defaultView??window,h=j=>{const y=vd(r.current).includes(CSS.escape(j.animationName));if(j.target===s&&y&&(m("ANIMATION_END"),!n.current)){const w=s.style.animationFillMode;s.style.animationFillMode="forwards",f=p.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=w)})}},g=j=>{j.target===s&&(o.current=vd(r.current))};return s.addEventListener("animationstart",g),s.addEventListener("animationcancel",h),s.addEventListener("animationend",h),()=>{p.clearTimeout(f),s.removeEventListener("animationstart",g),s.removeEventListener("animationcancel",h),s.removeEventListener("animationend",h)}}else m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(f=>{r.current=f?getComputedStyle(f):null,a(f)},[])}}function vd(t){return(t==null?void 0:t.animationName)||"none"}function CD(t){var r,n;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var tp=0;function yh(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_0()),document.body.insertAdjacentElement("beforeend",t[1]??_0()),tp++,()=>{tp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),tp--}},[])}function _0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ys=function(){return ys=Object.assign||function(s){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},ys.apply(this,arguments)};function Bb(t,s){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(a[r[n]]=t[r[n]]);return a}function kD(t,s,a){if(a||arguments.length===2)for(var r=0,n=s.length,o;r<n;r++)(o||!(r in s))&&(o||(o=Array.prototype.slice.call(s,0,r)),o[r]=s[r]);return t.concat(o||Array.prototype.slice.call(s))}var Ad="right-scroll-bar-position",Od="width-before-scroll-bar",_D="with-scroll-bars-hidden",ED="--removed-body-scroll-bar-size";function ap(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function DD(t,s){var a=x.useState(function(){return{value:t,callback:s,facade:{get current(){return a.value},set current(r){var n=a.value;n!==r&&(a.value=r,a.callback(r,n))}}}})[0];return a.callback=s,a.facade}var PD=typeof window<"u"?x.useLayoutEffect:x.useEffect,E0=new WeakMap;function RD(t,s){var a=DD(null,function(r){return t.forEach(function(n){return ap(n,r)})});return PD(function(){var r=E0.get(a);if(r){var n=new Set(r),o=new Set(t),c=a.current;n.forEach(function(d){o.has(d)||ap(d,null)}),o.forEach(function(d){n.has(d)||ap(d,c)})}E0.set(a,t)},[t]),a}function MD(t){return t}function TD(t,s){s===void 0&&(s=MD);var a=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(o){var c=s(o,r);return a.push(c),function(){a=a.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(r=!0;a.length;){var c=a;a=[],c.forEach(o)}a={push:function(d){return o(d)},filter:function(){return a}}},assignMedium:function(o){r=!0;var c=[];if(a.length){var d=a;a=[],d.forEach(o),c=a}var m=function(){var p=c;c=[],p.forEach(o)},f=function(){return Promise.resolve().then(m)};f(),a={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),a}}}};return n}function AD(t){t===void 0&&(t={});var s=TD(null);return s.options=ys({async:!0,ssr:!1},t),s}var Ub=function(t){var s=t.sideCar,a=Bb(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,ys({},a))};Ub.isSideCarExport=!0;function OD(t,s){return t.useMedium(s),Ub}var Hb=AD(),rp=function(){},_u=x.forwardRef(function(t,s){var a=x.useRef(null),r=x.useState({onScrollCapture:rp,onWheelCapture:rp,onTouchMoveCapture:rp}),n=r[0],o=r[1],c=t.forwardProps,d=t.children,m=t.className,f=t.removeScrollBar,p=t.enabled,h=t.shards,g=t.sideCar,j=t.noRelative,b=t.noIsolation,y=t.inert,w=t.allowPinchZoom,C=t.as,S=C===void 0?"div":C,k=t.gapMode,P=Bb(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,D=RD([a,s]),E=ys(ys({},P),n);return x.createElement(x.Fragment,null,p&&x.createElement(R,{sideCar:Hb,removeScrollBar:f,shards:h,noRelative:j,noIsolation:b,inert:y,setCallbacks:o,allowPinchZoom:!!w,lockRef:a,gapMode:k}),c?x.cloneElement(x.Children.only(d),ys(ys({},E),{ref:D})):x.createElement(S,ys({},E,{className:m,ref:D}),d))});_u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_u.classNames={fullWidth:Od,zeroRight:Ad};var ID=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LD(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=ID();return s&&t.setAttribute("nonce",s),t}function FD(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function $D(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var zD=function(){var t=0,s=null;return{add:function(a){t==0&&(s=LD())&&(FD(s,a),$D(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},BD=function(){var t=zD();return function(s,a){x.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&a])}},Vb=function(){var t=BD(),s=function(a){var r=a.styles,n=a.dynamic;return t(r,n),null};return s},UD={left:0,top:0,right:0,gap:0},sp=function(t){return parseInt(t||"",10)||0},HD=function(t){var s=window.getComputedStyle(document.body),a=s[t==="padding"?"paddingLeft":"marginLeft"],r=s[t==="padding"?"paddingTop":"marginTop"],n=s[t==="padding"?"paddingRight":"marginRight"];return[sp(a),sp(r),sp(n)]},VD=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return UD;var s=HD(t),a=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-a+s[2]-s[0])}},WD=Vb(),ho="data-scroll-locked",YD=function(t,s,a,r){var n=t.left,o=t.top,c=t.right,d=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(_D,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(ho,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),a==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),a==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ad,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Od,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Ad," .").concat(Ad,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Od," .").concat(Od,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ho,`] {
    `).concat(ED,": ").concat(d,`px;
  }
`)},D0=function(){var t=parseInt(document.body.getAttribute(ho)||"0",10);return isFinite(t)?t:0},qD=function(){x.useEffect(function(){return document.body.setAttribute(ho,(D0()+1).toString()),function(){var t=D0()-1;t<=0?document.body.removeAttribute(ho):document.body.setAttribute(ho,t.toString())}},[])},KD=function(t){var s=t.noRelative,a=t.noImportant,r=t.gapMode,n=r===void 0?"margin":r;qD();var o=x.useMemo(function(){return VD(n)},[n]);return x.createElement(WD,{styles:YD(o,!s,n,a?"":"!important")})},Tp=!1;if(typeof window<"u")try{var yd=Object.defineProperty({},"passive",{get:function(){return Tp=!0,!0}});window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{Tp=!1}var oo=Tp?{passive:!1}:!1,GD=function(t){return t.tagName==="TEXTAREA"},Wb=function(t,s){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!GD(t)&&a[s]==="visible")},QD=function(t){return Wb(t,"overflowY")},XD=function(t){return Wb(t,"overflowX")},P0=function(t,s){var a=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=Yb(t,r);if(n){var o=qb(t,r),c=o[1],d=o[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==a.body);return!1},JD=function(t){var s=t.scrollTop,a=t.scrollHeight,r=t.clientHeight;return[s,a,r]},ZD=function(t){var s=t.scrollLeft,a=t.scrollWidth,r=t.clientWidth;return[s,a,r]},Yb=function(t,s){return t==="v"?QD(s):XD(s)},qb=function(t,s){return t==="v"?JD(s):ZD(s)},eP=function(t,s){return t==="h"&&s==="rtl"?-1:1},tP=function(t,s,a,r,n){var o=eP(t,window.getComputedStyle(s).direction),c=o*r,d=a.target,m=s.contains(d),f=!1,p=c>0,h=0,g=0;do{if(!d)break;var j=qb(t,d),b=j[0],y=j[1],w=j[2],C=y-w-o*b;(b||C)&&Yb(t,d)&&(h+=C,g+=b);var S=d.parentNode;d=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!m&&d!==document.body||m&&(s.contains(d)||s===d));return(p&&Math.abs(h)<1||!p&&Math.abs(g)<1)&&(f=!0),f},bd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},R0=function(t){return[t.deltaX,t.deltaY]},M0=function(t){return t&&"current"in t?t.current:t},aP=function(t,s){return t[0]===s[0]&&t[1]===s[1]},rP=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sP=0,lo=[];function nP(t){var s=x.useRef([]),a=x.useRef([0,0]),r=x.useRef(),n=x.useState(sP++)[0],o=x.useState(Vb)[0],c=x.useRef(t);x.useEffect(function(){c.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var y=kD([t.lockRef.current],(t.shards||[]).map(M0),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var d=x.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!c.current.allowPinchZoom;var C=bd(y),S=a.current,k="deltaX"in y?y.deltaX:S[0]-C[0],P="deltaY"in y?y.deltaY:S[1]-C[1],R,D=y.target,E=Math.abs(k)>Math.abs(P)?"h":"v";if("touches"in y&&E==="h"&&D.type==="range")return!1;var O=P0(E,D);if(!O)return!0;if(O?R=E:(R=E==="v"?"h":"v",O=P0(E,D)),!O)return!1;if(!r.current&&"changedTouches"in y&&(k||P)&&(r.current=R),!R)return!0;var I=r.current||R;return tP(I,w,y,I==="h"?k:P)},[]),m=x.useCallback(function(y){var w=y;if(!(!lo.length||lo[lo.length-1]!==o)){var C="deltaY"in w?R0(w):bd(w),S=s.current.filter(function(R){return R.name===w.type&&(R.target===w.target||w.target===R.shadowParent)&&aP(R.delta,C)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var k=(c.current.shards||[]).map(M0).filter(Boolean).filter(function(R){return R.contains(w.target)}),P=k.length>0?d(w,k[0]):!c.current.noIsolation;P&&w.cancelable&&w.preventDefault()}}},[]),f=x.useCallback(function(y,w,C,S){var k={name:y,delta:w,target:C,should:S,shadowParent:iP(C)};s.current.push(k),setTimeout(function(){s.current=s.current.filter(function(P){return P!==k})},1)},[]),p=x.useCallback(function(y){a.current=bd(y),r.current=void 0},[]),h=x.useCallback(function(y){f(y.type,R0(y),y.target,d(y,t.lockRef.current))},[]),g=x.useCallback(function(y){f(y.type,bd(y),y.target,d(y,t.lockRef.current))},[]);x.useEffect(function(){return lo.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",m,oo),document.addEventListener("touchmove",m,oo),document.addEventListener("touchstart",p,oo),function(){lo=lo.filter(function(y){return y!==o}),document.removeEventListener("wheel",m,oo),document.removeEventListener("touchmove",m,oo),document.removeEventListener("touchstart",p,oo)}},[]);var j=t.removeScrollBar,b=t.inert;return x.createElement(x.Fragment,null,b?x.createElement(o,{styles:rP(n)}):null,j?x.createElement(KD,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function iP(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const oP=OD(Hb,nP);var Eu=x.forwardRef(function(t,s){return x.createElement(_u,ys({},t,{ref:s,sideCar:oP}))});Eu.classNames=_u.classNames;var lP=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},co=new WeakMap,jd=new WeakMap,wd={},np=0,Kb=function(t){return t&&(t.host||Kb(t.parentNode))},cP=function(t,s){return s.map(function(a){if(t.contains(a))return a;var r=Kb(a);return r&&t.contains(r)?r:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},dP=function(t,s,a,r){var n=cP(s,Array.isArray(t)?t:[t]);wd[a]||(wd[a]=new WeakMap);var o=wd[a],c=[],d=new Set,m=new Set(n),f=function(h){!h||d.has(h)||(d.add(h),f(h.parentNode))};n.forEach(f);var p=function(h){!h||m.has(h)||Array.prototype.forEach.call(h.children,function(g){if(d.has(g))p(g);else try{var j=g.getAttribute(r),b=j!==null&&j!=="false",y=(co.get(g)||0)+1,w=(o.get(g)||0)+1;co.set(g,y),o.set(g,w),c.push(g),y===1&&b&&jd.set(g,!0),w===1&&g.setAttribute(a,"true"),b||g.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",g,C)}})};return p(s),d.clear(),np++,function(){c.forEach(function(h){var g=co.get(h)-1,j=o.get(h)-1;co.set(h,g),o.set(h,j),g||(jd.has(h)||h.removeAttribute(r),jd.delete(h)),j||h.removeAttribute(a)}),np--,np||(co=new WeakMap,co=new WeakMap,jd=new WeakMap,wd={})}},bh=function(t,s,a){a===void 0&&(a="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),n=lP(t);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live], script"))),dP(r,n,a,"aria-hidden")):function(){return null}},Du="Dialog",[Gb,A6]=Is(Du),[uP,ds]=Gb(Du),Qb=t=>{const{__scopeDialog:s,children:a,open:r,defaultOpen:n,onOpenChange:o,modal:c=!0}=t,d=x.useRef(null),m=x.useRef(null),[f,p]=ki({prop:r,defaultProp:n??!1,onChange:o,caller:Du});return e.jsx(uP,{scope:s,triggerRef:d,contentRef:m,contentId:Es(),titleId:Es(),descriptionId:Es(),open:f,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(h=>!h),[p]),modal:c,children:a})};Qb.displayName=Du;var Xb="DialogTrigger",Jb=x.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=ds(Xb,a),o=Bt(s,n.triggerRef);return e.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Nh(n.open),...r,ref:o,onClick:Ie(t.onClick,n.onOpenToggle)})});Jb.displayName=Xb;var jh="DialogPortal",[mP,Zb]=Gb(jh,{forceMount:void 0}),ej=t=>{const{__scopeDialog:s,forceMount:a,children:r,container:n}=t,o=ds(jh,s);return e.jsx(mP,{scope:s,forceMount:a,children:x.Children.map(r,c=>e.jsx(Ls,{present:a||o.open,children:e.jsx(Ql,{asChild:!0,container:n,children:c})}))})};ej.displayName=jh;var Jd="DialogOverlay",tj=x.forwardRef((t,s)=>{const a=Zb(Jd,t.__scopeDialog),{forceMount:r=a.forceMount,...n}=t,o=ds(Jd,t.__scopeDialog);return o.modal?e.jsx(Ls,{present:r||o.open,children:e.jsx(pP,{...n,ref:s})}):null});tj.displayName=Jd;var fP=Ci("DialogOverlay.RemoveScroll"),pP=x.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=ds(Jd,a);return e.jsx(Eu,{as:fP,allowPinchZoom:!0,shards:[n.contentRef],children:e.jsx(dt.div,{"data-state":Nh(n.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),_i="DialogContent",aj=x.forwardRef((t,s)=>{const a=Zb(_i,t.__scopeDialog),{forceMount:r=a.forceMount,...n}=t,o=ds(_i,t.__scopeDialog);return e.jsx(Ls,{present:r||o.open,children:o.modal?e.jsx(hP,{...n,ref:s}):e.jsx(xP,{...n,ref:s})})});aj.displayName=_i;var hP=x.forwardRef((t,s)=>{const a=ds(_i,t.__scopeDialog),r=x.useRef(null),n=Bt(s,a.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return bh(o)},[]),e.jsx(rj,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=a.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ie(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:Ie(t.onFocusOutside,o=>o.preventDefault())})}),xP=x.forwardRef((t,s)=>{const a=ds(_i,t.__scopeDialog),r=x.useRef(!1),n=x.useRef(!1);return e.jsx(rj,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(r.current||(d=a.triggerRef.current)==null||d.focus(),o.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:o=>{var m,f;(m=t.onInteractOutside)==null||m.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=o.target;((f=a.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),rj=x.forwardRef((t,s)=>{const{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:o,...c}=t,d=ds(_i,a),m=x.useRef(null),f=Bt(s,m);return yh(),e.jsxs(e.Fragment,{children:[e.jsx(ku,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:o,children:e.jsx(Ao,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Nh(d.open),...c,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(gP,{titleId:d.titleId}),e.jsx(yP,{contentRef:m,descriptionId:d.descriptionId})]})]})}),wh="DialogTitle",sj=x.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=ds(wh,a);return e.jsx(dt.h2,{id:n.titleId,...r,ref:s})});sj.displayName=wh;var nj="DialogDescription",ij=x.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=ds(nj,a);return e.jsx(dt.p,{id:n.descriptionId,...r,ref:s})});ij.displayName=nj;var oj="DialogClose",lj=x.forwardRef((t,s)=>{const{__scopeDialog:a,...r}=t,n=ds(oj,a);return e.jsx(dt.button,{type:"button",...r,ref:s,onClick:Ie(t.onClick,()=>n.onOpenChange(!1))})});lj.displayName=oj;function Nh(t){return t?"open":"closed"}var cj="DialogTitleWarning",[O6,dj]=ZE(cj,{contentName:_i,titleName:wh,docsSlug:"dialog"}),gP=({titleId:t})=>{const s=dj(cj),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},vP="DialogDescriptionWarning",yP=({contentRef:t,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dj(vP).contentName}}.`;return x.useEffect(()=>{var o;const n=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");s&&n&&(document.getElementById(s)||console.warn(r))},[r,t,s]),null},uj=Qb,bP=Jb,mj=ej,Pu=tj,Ru=aj,Mu=sj,Tu=ij,fj=lj;const jP=uj,wP=mj,pj=x.forwardRef(({className:t,...s},a)=>e.jsx(Pu,{className:we("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));pj.displayName=Pu.displayName;const NP=Su("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),hj=x.forwardRef(({side:t="right",className:s,children:a,...r},n)=>e.jsxs(wP,{children:[e.jsx(pj,{}),e.jsxs(Ru,{ref:n,className:we(NP({side:t}),s),...r,children:[a,e.jsxs(fj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(gh,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hj.displayName=Ru.displayName;const SP=x.forwardRef(({className:t,...s},a)=>e.jsx(Mu,{ref:a,className:we("text-lg font-semibold text-foreground",t),...s}));SP.displayName=Mu.displayName;const CP=x.forwardRef(({className:t,...s},a)=>e.jsx(Tu,{ref:a,className:we("text-sm text-muted-foreground",t),...s}));CP.displayName=Tu.displayName;function gt({className:t,...s}){return e.jsx("div",{className:we("animate-pulse rounded-md bg-muted",t),...s})}const kP=["top","right","bottom","left"],Yn=Math.min,Ar=Math.max,Zd=Math.round,Nd=Math.floor,Ds=t=>({x:t,y:t}),_P={left:"right",right:"left",bottom:"top",top:"bottom"},EP={start:"end",end:"start"};function Ap(t,s,a){return Ar(t,Yn(s,a))}function ln(t,s){return typeof t=="function"?t(s):t}function cn(t){return t.split("-")[0]}function Oo(t){return t.split("-")[1]}function Sh(t){return t==="x"?"y":"x"}function Ch(t){return t==="y"?"height":"width"}const DP=new Set(["top","bottom"]);function Ss(t){return DP.has(cn(t))?"y":"x"}function kh(t){return Sh(Ss(t))}function PP(t,s,a){a===void 0&&(a=!1);const r=Oo(t),n=kh(t),o=Ch(n);let c=n==="x"?r===(a?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[o]>s.floating[o]&&(c=eu(c)),[c,eu(c)]}function RP(t){const s=eu(t);return[Op(t),s,Op(s)]}function Op(t){return t.replace(/start|end/g,s=>EP[s])}const T0=["left","right"],A0=["right","left"],MP=["top","bottom"],TP=["bottom","top"];function AP(t,s,a){switch(t){case"top":case"bottom":return a?s?A0:T0:s?T0:A0;case"left":case"right":return s?MP:TP;default:return[]}}function OP(t,s,a,r){const n=Oo(t);let o=AP(cn(t),a==="start",r);return n&&(o=o.map(c=>c+"-"+n),s&&(o=o.concat(o.map(Op)))),o}function eu(t){return t.replace(/left|right|bottom|top/g,s=>_P[s])}function IP(t){return{top:0,right:0,bottom:0,left:0,...t}}function xj(t){return typeof t!="number"?IP(t):{top:t,right:t,bottom:t,left:t}}function tu(t){const{x:s,y:a,width:r,height:n}=t;return{width:r,height:n,top:a,left:s,right:s+r,bottom:a+n,x:s,y:a}}function O0(t,s,a){let{reference:r,floating:n}=t;const o=Ss(s),c=kh(s),d=Ch(c),m=cn(s),f=o==="y",p=r.x+r.width/2-n.width/2,h=r.y+r.height/2-n.height/2,g=r[d]/2-n[d]/2;let j;switch(m){case"top":j={x:p,y:r.y-n.height};break;case"bottom":j={x:p,y:r.y+r.height};break;case"right":j={x:r.x+r.width,y:h};break;case"left":j={x:r.x-n.width,y:h};break;default:j={x:r.x,y:r.y}}switch(Oo(s)){case"start":j[c]-=g*(a&&f?-1:1);break;case"end":j[c]+=g*(a&&f?-1:1);break}return j}const LP=async(t,s,a)=>{const{placement:r="bottom",strategy:n="absolute",middleware:o=[],platform:c}=a,d=o.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(s));let f=await c.getElementRects({reference:t,floating:s,strategy:n}),{x:p,y:h}=O0(f,r,m),g=r,j={},b=0;for(let y=0;y<d.length;y++){const{name:w,fn:C}=d[y],{x:S,y:k,data:P,reset:R}=await C({x:p,y:h,initialPlacement:r,placement:g,strategy:n,middlewareData:j,rects:f,platform:c,elements:{reference:t,floating:s}});p=S??p,h=k??h,j={...j,[w]:{...j[w],...P}},R&&b<=50&&(b++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(f=R.rects===!0?await c.getElementRects({reference:t,floating:s,strategy:n}):R.rects),{x:p,y:h}=O0(f,g,m)),y=-1)}return{x:p,y:h,placement:g,strategy:n,middlewareData:j}};async function Ll(t,s){var a;s===void 0&&(s={});const{x:r,y:n,platform:o,rects:c,elements:d,strategy:m}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:g=!1,padding:j=0}=ln(s,t),b=xj(j),w=d[g?h==="floating"?"reference":"floating":h],C=tu(await o.getClippingRect({element:(a=await(o.isElement==null?void 0:o.isElement(w)))==null||a?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:f,rootBoundary:p,strategy:m})),S=h==="floating"?{x:r,y:n,width:c.floating.width,height:c.floating.height}:c.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),P=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},R=tu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:S,offsetParent:k,strategy:m}):S);return{top:(C.top-R.top+b.top)/P.y,bottom:(R.bottom-C.bottom+b.bottom)/P.y,left:(C.left-R.left+b.left)/P.x,right:(R.right-C.right+b.right)/P.x}}const FP=t=>({name:"arrow",options:t,async fn(s){const{x:a,y:r,placement:n,rects:o,platform:c,elements:d,middlewareData:m}=s,{element:f,padding:p=0}=ln(t,s)||{};if(f==null)return{};const h=xj(p),g={x:a,y:r},j=kh(n),b=Ch(j),y=await c.getDimensions(f),w=j==="y",C=w?"top":"left",S=w?"bottom":"right",k=w?"clientHeight":"clientWidth",P=o.reference[b]+o.reference[j]-g[j]-o.floating[b],R=g[j]-o.reference[j],D=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let E=D?D[k]:0;(!E||!await(c.isElement==null?void 0:c.isElement(D)))&&(E=d.floating[k]||o.floating[b]);const O=P/2-R/2,I=E/2-y[b]/2-1,z=Yn(h[C],I),B=Yn(h[S],I),Y=z,$=E-y[b]-B,M=E/2-y[b]/2+O,G=Ap(Y,M,$),T=!m.arrow&&Oo(n)!=null&&M!==G&&o.reference[b]/2-(M<Y?z:B)-y[b]/2<0,L=T?M<Y?M-Y:M-$:0;return{[j]:g[j]+L,data:{[j]:G,centerOffset:M-G-L,...T&&{alignmentOffset:L}},reset:T}}}),$P=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var a,r;const{placement:n,middlewareData:o,rects:c,initialPlacement:d,platform:m,elements:f}=s,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...w}=ln(t,s);if((a=o.arrow)!=null&&a.alignmentOffset)return{};const C=cn(n),S=Ss(d),k=cn(d)===d,P=await(m.isRTL==null?void 0:m.isRTL(f.floating)),R=g||(k||!y?[eu(d)]:RP(d)),D=b!=="none";!g&&D&&R.push(...OP(d,y,b,P));const E=[d,...R],O=await Ll(s,w),I=[];let z=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&I.push(O[C]),h){const M=PP(n,c,P);I.push(O[M[0]],O[M[1]])}if(z=[...z,{placement:n,overflows:I}],!I.every(M=>M<=0)){var B,Y;const M=(((B=o.flip)==null?void 0:B.index)||0)+1,G=E[M];if(G&&(!(h==="alignment"?S!==Ss(G):!1)||z.every(H=>Ss(H.placement)===S?H.overflows[0]>0:!0)))return{data:{index:M,overflows:z},reset:{placement:G}};let T=(Y=z.filter(L=>L.overflows[0]<=0).sort((L,H)=>L.overflows[1]-H.overflows[1])[0])==null?void 0:Y.placement;if(!T)switch(j){case"bestFit":{var $;const L=($=z.filter(H=>{if(D){const Q=Ss(H.placement);return Q===S||Q==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(Q=>Q>0).reduce((Q,te)=>Q+te,0)]).sort((H,Q)=>H[1]-Q[1])[0])==null?void 0:$[0];L&&(T=L);break}case"initialPlacement":T=d;break}if(n!==T)return{reset:{placement:T}}}return{}}}};function I0(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function L0(t){return kP.some(s=>t[s]>=0)}const zP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:a}=s,{strategy:r="referenceHidden",...n}=ln(t,s);switch(r){case"referenceHidden":{const o=await Ll(s,{...n,elementContext:"reference"}),c=I0(o,a.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:L0(c)}}}case"escaped":{const o=await Ll(s,{...n,altBoundary:!0}),c=I0(o,a.floating);return{data:{escapedOffsets:c,escaped:L0(c)}}}default:return{}}}}},gj=new Set(["left","top"]);async function BP(t,s){const{placement:a,platform:r,elements:n}=t,o=await(r.isRTL==null?void 0:r.isRTL(n.floating)),c=cn(a),d=Oo(a),m=Ss(a)==="y",f=gj.has(c)?-1:1,p=o&&m?-1:1,h=ln(s,t);let{mainAxis:g,crossAxis:j,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return d&&typeof b=="number"&&(j=d==="end"?b*-1:b),m?{x:j*p,y:g*f}:{x:g*f,y:j*p}}const UP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var a,r;const{x:n,y:o,placement:c,middlewareData:d}=s,m=await BP(s,t);return c===((a=d.offset)==null?void 0:a.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:n+m.x,y:o+m.y,data:{...m,placement:c}}}}},HP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:a,y:r,placement:n}=s,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:w=>{let{x:C,y:S}=w;return{x:C,y:S}}},...m}=ln(t,s),f={x:a,y:r},p=await Ll(s,m),h=Ss(cn(n)),g=Sh(h);let j=f[g],b=f[h];if(o){const w=g==="y"?"top":"left",C=g==="y"?"bottom":"right",S=j+p[w],k=j-p[C];j=Ap(S,j,k)}if(c){const w=h==="y"?"top":"left",C=h==="y"?"bottom":"right",S=b+p[w],k=b-p[C];b=Ap(S,b,k)}const y=d.fn({...s,[g]:j,[h]:b});return{...y,data:{x:y.x-a,y:y.y-r,enabled:{[g]:o,[h]:c}}}}}},VP=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:a,y:r,placement:n,rects:o,middlewareData:c}=s,{offset:d=0,mainAxis:m=!0,crossAxis:f=!0}=ln(t,s),p={x:a,y:r},h=Ss(n),g=Sh(h);let j=p[g],b=p[h];const y=ln(d,s),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(m){const k=g==="y"?"height":"width",P=o.reference[g]-o.floating[k]+w.mainAxis,R=o.reference[g]+o.reference[k]-w.mainAxis;j<P?j=P:j>R&&(j=R)}if(f){var C,S;const k=g==="y"?"width":"height",P=gj.has(cn(n)),R=o.reference[h]-o.floating[k]+(P&&((C=c.offset)==null?void 0:C[h])||0)+(P?0:w.crossAxis),D=o.reference[h]+o.reference[k]+(P?0:((S=c.offset)==null?void 0:S[h])||0)-(P?w.crossAxis:0);b<R?b=R:b>D&&(b=D)}return{[g]:j,[h]:b}}}},WP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var a,r;const{placement:n,rects:o,platform:c,elements:d}=s,{apply:m=()=>{},...f}=ln(t,s),p=await Ll(s,f),h=cn(n),g=Oo(n),j=Ss(n)==="y",{width:b,height:y}=o.floating;let w,C;h==="top"||h==="bottom"?(w=h,C=g===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(C=h,w=g==="end"?"top":"bottom");const S=y-p.top-p.bottom,k=b-p.left-p.right,P=Yn(y-p[w],S),R=Yn(b-p[C],k),D=!s.middlewareData.shift;let E=P,O=R;if((a=s.middlewareData.shift)!=null&&a.enabled.x&&(O=k),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(E=S),D&&!g){const z=Ar(p.left,0),B=Ar(p.right,0),Y=Ar(p.top,0),$=Ar(p.bottom,0);j?O=b-2*(z!==0||B!==0?z+B:Ar(p.left,p.right)):E=y-2*(Y!==0||$!==0?Y+$:Ar(p.top,p.bottom))}await m({...s,availableWidth:O,availableHeight:E});const I=await c.getDimensions(d.floating);return b!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Au(){return typeof window<"u"}function Io(t){return vj(t)?(t.nodeName||"").toLowerCase():"#document"}function Or(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Fs(t){var s;return(s=(vj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function vj(t){return Au()?t instanceof Node||t instanceof Or(t).Node:!1}function pr(t){return Au()?t instanceof Element||t instanceof Or(t).Element:!1}function Ts(t){return Au()?t instanceof HTMLElement||t instanceof Or(t).HTMLElement:!1}function F0(t){return!Au()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Or(t).ShadowRoot}const YP=new Set(["inline","contents"]);function Xl(t){const{overflow:s,overflowX:a,overflowY:r,display:n}=Vr(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+a)&&!YP.has(n)}const qP=new Set(["table","td","th"]);function KP(t){return qP.has(Io(t))}const GP=[":popover-open",":modal"];function Ou(t){return GP.some(s=>{try{return t.matches(s)}catch{return!1}})}const QP=["transform","translate","scale","rotate","perspective"],XP=["transform","translate","scale","rotate","perspective","filter"],JP=["paint","layout","strict","content"];function _h(t){const s=Eh(),a=pr(t)?Vr(t):t;return QP.some(r=>a[r]?a[r]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!s&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!s&&(a.filter?a.filter!=="none":!1)||XP.some(r=>(a.willChange||"").includes(r))||JP.some(r=>(a.contain||"").includes(r))}function ZP(t){let s=qn(t);for(;Ts(s)&&!wo(s);){if(_h(s))return s;if(Ou(s))return null;s=qn(s)}return null}function Eh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eR=new Set(["html","body","#document"]);function wo(t){return eR.has(Io(t))}function Vr(t){return Or(t).getComputedStyle(t)}function Iu(t){return pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qn(t){if(Io(t)==="html")return t;const s=t.assignedSlot||t.parentNode||F0(t)&&t.host||Fs(t);return F0(s)?s.host:s}function yj(t){const s=qn(t);return wo(s)?t.ownerDocument?t.ownerDocument.body:t.body:Ts(s)&&Xl(s)?s:yj(s)}function Fl(t,s,a){var r;s===void 0&&(s=[]),a===void 0&&(a=!0);const n=yj(t),o=n===((r=t.ownerDocument)==null?void 0:r.body),c=Or(n);if(o){const d=Ip(c);return s.concat(c,c.visualViewport||[],Xl(n)?n:[],d&&a?Fl(d):[])}return s.concat(n,Fl(n,[],a))}function Ip(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bj(t){const s=Vr(t);let a=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const n=Ts(t),o=n?t.offsetWidth:a,c=n?t.offsetHeight:r,d=Zd(a)!==o||Zd(r)!==c;return d&&(a=o,r=c),{width:a,height:r,$:d}}function Dh(t){return pr(t)?t:t.contextElement}function xo(t){const s=Dh(t);if(!Ts(s))return Ds(1);const a=s.getBoundingClientRect(),{width:r,height:n,$:o}=bj(s);let c=(o?Zd(a.width):a.width)/r,d=(o?Zd(a.height):a.height)/n;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const tR=Ds(0);function jj(t){const s=Or(t);return!Eh()||!s.visualViewport?tR:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function aR(t,s,a){return s===void 0&&(s=!1),!a||s&&a!==Or(t)?!1:s}function Ei(t,s,a,r){s===void 0&&(s=!1),a===void 0&&(a=!1);const n=t.getBoundingClientRect(),o=Dh(t);let c=Ds(1);s&&(r?pr(r)&&(c=xo(r)):c=xo(t));const d=aR(o,a,r)?jj(o):Ds(0);let m=(n.left+d.x)/c.x,f=(n.top+d.y)/c.y,p=n.width/c.x,h=n.height/c.y;if(o){const g=Or(o),j=r&&pr(r)?Or(r):r;let b=g,y=Ip(b);for(;y&&r&&j!==b;){const w=xo(y),C=y.getBoundingClientRect(),S=Vr(y),k=C.left+(y.clientLeft+parseFloat(S.paddingLeft))*w.x,P=C.top+(y.clientTop+parseFloat(S.paddingTop))*w.y;m*=w.x,f*=w.y,p*=w.x,h*=w.y,m+=k,f+=P,b=Or(y),y=Ip(b)}}return tu({width:p,height:h,x:m,y:f})}function Lu(t,s){const a=Iu(t).scrollLeft;return s?s.left+a:Ei(Fs(t)).left+a}function wj(t,s){const a=t.getBoundingClientRect(),r=a.left+s.scrollLeft-Lu(t,a),n=a.top+s.scrollTop;return{x:r,y:n}}function rR(t){let{elements:s,rect:a,offsetParent:r,strategy:n}=t;const o=n==="fixed",c=Fs(r),d=s?Ou(s.floating):!1;if(r===c||d&&o)return a;let m={scrollLeft:0,scrollTop:0},f=Ds(1);const p=Ds(0),h=Ts(r);if((h||!h&&!o)&&((Io(r)!=="body"||Xl(c))&&(m=Iu(r)),Ts(r))){const j=Ei(r);f=xo(r),p.x=j.x+r.clientLeft,p.y=j.y+r.clientTop}const g=c&&!h&&!o?wj(c,m):Ds(0);return{width:a.width*f.x,height:a.height*f.y,x:a.x*f.x-m.scrollLeft*f.x+p.x+g.x,y:a.y*f.y-m.scrollTop*f.y+p.y+g.y}}function sR(t){return Array.from(t.getClientRects())}function nR(t){const s=Fs(t),a=Iu(t),r=t.ownerDocument.body,n=Ar(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),o=Ar(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let c=-a.scrollLeft+Lu(t);const d=-a.scrollTop;return Vr(r).direction==="rtl"&&(c+=Ar(s.clientWidth,r.clientWidth)-n),{width:n,height:o,x:c,y:d}}const $0=25;function iR(t,s){const a=Or(t),r=Fs(t),n=a.visualViewport;let o=r.clientWidth,c=r.clientHeight,d=0,m=0;if(n){o=n.width,c=n.height;const p=Eh();(!p||p&&s==="fixed")&&(d=n.offsetLeft,m=n.offsetTop)}const f=Lu(r);if(f<=0){const p=r.ownerDocument,h=p.body,g=getComputedStyle(h),j=p.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-h.clientWidth-j);b<=$0&&(o-=b)}else f<=$0&&(o+=f);return{width:o,height:c,x:d,y:m}}const oR=new Set(["absolute","fixed"]);function lR(t,s){const a=Ei(t,!0,s==="fixed"),r=a.top+t.clientTop,n=a.left+t.clientLeft,o=Ts(t)?xo(t):Ds(1),c=t.clientWidth*o.x,d=t.clientHeight*o.y,m=n*o.x,f=r*o.y;return{width:c,height:d,x:m,y:f}}function z0(t,s,a){let r;if(s==="viewport")r=iR(t,a);else if(s==="document")r=nR(Fs(t));else if(pr(s))r=lR(s,a);else{const n=jj(t);r={x:s.x-n.x,y:s.y-n.y,width:s.width,height:s.height}}return tu(r)}function Nj(t,s){const a=qn(t);return a===s||!pr(a)||wo(a)?!1:Vr(a).position==="fixed"||Nj(a,s)}function cR(t,s){const a=s.get(t);if(a)return a;let r=Fl(t,[],!1).filter(d=>pr(d)&&Io(d)!=="body"),n=null;const o=Vr(t).position==="fixed";let c=o?qn(t):t;for(;pr(c)&&!wo(c);){const d=Vr(c),m=_h(c);!m&&d.position==="fixed"&&(n=null),(o?!m&&!n:!m&&d.position==="static"&&!!n&&oR.has(n.position)||Xl(c)&&!m&&Nj(t,c))?r=r.filter(p=>p!==c):n=d,c=qn(c)}return s.set(t,r),r}function dR(t){let{element:s,boundary:a,rootBoundary:r,strategy:n}=t;const c=[...a==="clippingAncestors"?Ou(s)?[]:cR(s,this._c):[].concat(a),r],d=c[0],m=c.reduce((f,p)=>{const h=z0(s,p,n);return f.top=Ar(h.top,f.top),f.right=Yn(h.right,f.right),f.bottom=Yn(h.bottom,f.bottom),f.left=Ar(h.left,f.left),f},z0(s,d,n));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function uR(t){const{width:s,height:a}=bj(t);return{width:s,height:a}}function mR(t,s,a){const r=Ts(s),n=Fs(s),o=a==="fixed",c=Ei(t,!0,o,s);let d={scrollLeft:0,scrollTop:0};const m=Ds(0);function f(){m.x=Lu(n)}if(r||!r&&!o)if((Io(s)!=="body"||Xl(n))&&(d=Iu(s)),r){const j=Ei(s,!0,o,s);m.x=j.x+s.clientLeft,m.y=j.y+s.clientTop}else n&&f();o&&!r&&n&&f();const p=n&&!r&&!o?wj(n,d):Ds(0),h=c.left+d.scrollLeft-m.x-p.x,g=c.top+d.scrollTop-m.y-p.y;return{x:h,y:g,width:c.width,height:c.height}}function ip(t){return Vr(t).position==="static"}function B0(t,s){if(!Ts(t)||Vr(t).position==="fixed")return null;if(s)return s(t);let a=t.offsetParent;return Fs(t)===a&&(a=a.ownerDocument.body),a}function Sj(t,s){const a=Or(t);if(Ou(t))return a;if(!Ts(t)){let n=qn(t);for(;n&&!wo(n);){if(pr(n)&&!ip(n))return n;n=qn(n)}return a}let r=B0(t,s);for(;r&&KP(r)&&ip(r);)r=B0(r,s);return r&&wo(r)&&ip(r)&&!_h(r)?a:r||ZP(t)||a}const fR=async function(t){const s=this.getOffsetParent||Sj,a=this.getDimensions,r=await a(t.floating);return{reference:mR(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pR(t){return Vr(t).direction==="rtl"}const hR={convertOffsetParentRelativeRectToViewportRelativeRect:rR,getDocumentElement:Fs,getClippingRect:dR,getOffsetParent:Sj,getElementRects:fR,getClientRects:sR,getDimensions:uR,getScale:xo,isElement:pr,isRTL:pR};function Cj(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function xR(t,s){let a=null,r;const n=Fs(t);function o(){var d;clearTimeout(r),(d=a)==null||d.disconnect(),a=null}function c(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),o();const f=t.getBoundingClientRect(),{left:p,top:h,width:g,height:j}=f;if(d||s(),!g||!j)return;const b=Nd(h),y=Nd(n.clientWidth-(p+g)),w=Nd(n.clientHeight-(h+j)),C=Nd(p),k={rootMargin:-b+"px "+-y+"px "+-w+"px "+-C+"px",threshold:Ar(0,Yn(1,m))||1};let P=!0;function R(D){const E=D[0].intersectionRatio;if(E!==m){if(!P)return c();E?c(!1,E):r=setTimeout(()=>{c(!1,1e-7)},1e3)}E===1&&!Cj(f,t.getBoundingClientRect())&&c(),P=!1}try{a=new IntersectionObserver(R,{...k,root:n.ownerDocument})}catch{a=new IntersectionObserver(R,k)}a.observe(t)}return c(!0),o}function kj(t,s,a,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,f=Dh(t),p=n||o?[...f?Fl(f):[],...Fl(s)]:[];p.forEach(C=>{n&&C.addEventListener("scroll",a,{passive:!0}),o&&C.addEventListener("resize",a)});const h=f&&d?xR(f,a):null;let g=-1,j=null;c&&(j=new ResizeObserver(C=>{let[S]=C;S&&S.target===f&&j&&(j.unobserve(s),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=j)==null||k.observe(s)})),a()}),f&&!m&&j.observe(f),j.observe(s));let b,y=m?Ei(t):null;m&&w();function w(){const C=Ei(t);y&&!Cj(y,C)&&a(),y=C,b=requestAnimationFrame(w)}return a(),()=>{var C;p.forEach(S=>{n&&S.removeEventListener("scroll",a),o&&S.removeEventListener("resize",a)}),h==null||h(),(C=j)==null||C.disconnect(),j=null,m&&cancelAnimationFrame(b)}}const gR=UP,vR=HP,yR=$P,bR=WP,jR=zP,U0=FP,wR=VP,NR=(t,s,a)=>{const r=new Map,n={platform:hR,...a},o={...n.platform,_c:r};return LP(t,s,{...n,platform:o})};var SR=typeof document<"u",CR=function(){},Id=SR?x.useLayoutEffect:CR;function au(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let a,r,n;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==s.length)return!1;for(r=a;r--!==0;)if(!au(t[r],s[r]))return!1;return!0}if(n=Object.keys(t),a=n.length,a!==Object.keys(s).length)return!1;for(r=a;r--!==0;)if(!{}.hasOwnProperty.call(s,n[r]))return!1;for(r=a;r--!==0;){const o=n[r];if(!(o==="_owner"&&t.$$typeof)&&!au(t[o],s[o]))return!1}return!0}return t!==t&&s!==s}function _j(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function H0(t,s){const a=_j(t);return Math.round(s*a)/a}function op(t){const s=x.useRef(t);return Id(()=>{s.current=t}),s}function Ej(t){t===void 0&&(t={});const{placement:s="bottom",strategy:a="absolute",middleware:r=[],platform:n,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:m,open:f}=t,[p,h]=x.useState({x:0,y:0,strategy:a,placement:s,middlewareData:{},isPositioned:!1}),[g,j]=x.useState(r);au(g,r)||j(r);const[b,y]=x.useState(null),[w,C]=x.useState(null),S=x.useCallback(H=>{H!==D.current&&(D.current=H,y(H))},[]),k=x.useCallback(H=>{H!==E.current&&(E.current=H,C(H))},[]),P=o||b,R=c||w,D=x.useRef(null),E=x.useRef(null),O=x.useRef(p),I=m!=null,z=op(m),B=op(n),Y=op(f),$=x.useCallback(()=>{if(!D.current||!E.current)return;const H={placement:s,strategy:a,middleware:g};B.current&&(H.platform=B.current),NR(D.current,E.current,H).then(Q=>{const te={...Q,isPositioned:Y.current!==!1};M.current&&!au(O.current,te)&&(O.current=te,Eo.flushSync(()=>{h(te)}))})},[g,s,a,B,Y]);Id(()=>{f===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(H=>({...H,isPositioned:!1})))},[f]);const M=x.useRef(!1);Id(()=>(M.current=!0,()=>{M.current=!1}),[]),Id(()=>{if(P&&(D.current=P),R&&(E.current=R),P&&R){if(z.current)return z.current(P,R,$);$()}},[P,R,$,z,I]);const G=x.useMemo(()=>({reference:D,floating:E,setReference:S,setFloating:k}),[S,k]),T=x.useMemo(()=>({reference:P,floating:R}),[P,R]),L=x.useMemo(()=>{const H={position:a,left:0,top:0};if(!T.floating)return H;const Q=H0(T.floating,p.x),te=H0(T.floating,p.y);return d?{...H,transform:"translate("+Q+"px, "+te+"px)",..._j(T.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:Q,top:te}},[a,d,T.floating,p.x,p.y]);return x.useMemo(()=>({...p,update:$,refs:G,elements:T,floatingStyles:L}),[p,$,G,T,L])}const kR=t=>{function s(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:r,padding:n}=typeof t=="function"?t(a):t;return r&&s(r)?r.current!=null?U0({element:r.current,padding:n}).fn(a):{}:r?U0({element:r,padding:n}).fn(a):{}}}},Dj=(t,s)=>({...gR(t),options:[t,s]}),_R=(t,s)=>({...vR(t),options:[t,s]}),ER=(t,s)=>({...wR(t),options:[t,s]}),Pj=(t,s)=>({...yR(t),options:[t,s]}),DR=(t,s)=>({...bR(t),options:[t,s]}),PR=(t,s)=>({...jR(t),options:[t,s]}),Rj=(t,s)=>({...kR(t),options:[t,s]});var RR="Arrow",Mj=x.forwardRef((t,s)=>{const{children:a,width:r=10,height:n=5,...o}=t;return e.jsx(dt.svg,{...o,ref:s,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mj.displayName=RR;var MR=Mj;function TR(t){const[s,a]=x.useState(void 0);return Ta(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const o=n[0];let c,d;if("borderBoxSize"in o){const m=o.borderBoxSize,f=Array.isArray(m)?m[0]:m;c=f.inlineSize,d=f.blockSize}else c=t.offsetWidth,d=t.offsetHeight;a({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else a(void 0)},[t]),s}var Ph="Popper",[Tj,Lo]=Is(Ph),[AR,Aj]=Tj(Ph),Oj=t=>{const{__scopePopper:s,children:a}=t,[r,n]=x.useState(null);return e.jsx(AR,{scope:s,anchor:r,onAnchorChange:n,children:a})};Oj.displayName=Ph;var Ij="PopperAnchor",Lj=x.forwardRef((t,s)=>{const{__scopePopper:a,virtualRef:r,...n}=t,o=Aj(Ij,a),c=x.useRef(null),d=Bt(s,c),m=x.useRef(null);return x.useEffect(()=>{const f=m.current;m.current=(r==null?void 0:r.current)||c.current,f!==m.current&&o.onAnchorChange(m.current)}),r?null:e.jsx(dt.div,{...n,ref:d})});Lj.displayName=Ij;var Rh="PopperContent",[OR,IR]=Tj(Rh),Fj=x.forwardRef((t,s)=>{var U,X,le,ve,Se,Re;const{__scopePopper:a,side:r="bottom",sideOffset:n=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:j="optimized",onPlaced:b,...y}=t,w=Aj(Rh,a),[C,S]=x.useState(null),k=Bt(s,Ee=>S(Ee)),[P,R]=x.useState(null),D=TR(P),E=(D==null?void 0:D.width)??0,O=(D==null?void 0:D.height)??0,I=r+(o!=="center"?"-"+o:""),z=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},B=Array.isArray(f)?f:[f],Y=B.length>0,$={padding:z,boundary:B.filter(FR),altBoundary:Y},{refs:M,floatingStyles:G,placement:T,isPositioned:L,middlewareData:H}=Ej({strategy:"fixed",placement:I,whileElementsMounted:(...Ee)=>kj(...Ee,{animationFrame:j==="always"}),elements:{reference:w.anchor},middleware:[Dj({mainAxis:n+O,alignmentAxis:c}),m&&_R({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?ER():void 0,...$}),m&&Pj({...$}),DR({...$,apply:({elements:Ee,rects:Le,availableWidth:st,availableHeight:ut})=>{const{width:He,height:Xt}=Le.reference,Ht=Ee.floating.style;Ht.setProperty("--radix-popper-available-width",`${st}px`),Ht.setProperty("--radix-popper-available-height",`${ut}px`),Ht.setProperty("--radix-popper-anchor-width",`${He}px`),Ht.setProperty("--radix-popper-anchor-height",`${Xt}px`)}}),P&&Rj({element:P,padding:d}),$R({arrowWidth:E,arrowHeight:O}),g&&PR({strategy:"referenceHidden",...$})]}),[Q,te]=Bj(T),A=xr(b);Ta(()=>{L&&(A==null||A())},[L,A]);const W=(U=H.arrow)==null?void 0:U.x,re=(X=H.arrow)==null?void 0:X.y,K=((le=H.arrow)==null?void 0:le.centerOffset)!==0,[J,V]=x.useState();return Ta(()=>{C&&V(window.getComputedStyle(C).zIndex)},[C]),e.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:L?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(ve=H.transformOrigin)==null?void 0:ve.x,(Se=H.transformOrigin)==null?void 0:Se.y].join(" "),...((Re=H.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(OR,{scope:a,placedSide:Q,onArrowChange:R,arrowX:W,arrowY:re,shouldHideArrow:K,children:e.jsx(dt.div,{"data-side":Q,"data-align":te,...y,ref:k,style:{...y.style,animation:L?void 0:"none"}})})})});Fj.displayName=Rh;var $j="PopperArrow",LR={top:"bottom",right:"left",bottom:"top",left:"right"},zj=x.forwardRef(function(s,a){const{__scopePopper:r,...n}=s,o=IR($j,r),c=LR[o.placedSide];return e.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:e.jsx(MR,{...n,ref:a,style:{...n.style,display:"block"}})})});zj.displayName=$j;function FR(t){return t!==null}var $R=t=>({name:"transformOrigin",options:t,fn(s){var w,C,S;const{placement:a,rects:r,middlewareData:n}=s,c=((w=n.arrow)==null?void 0:w.centerOffset)!==0,d=c?0:t.arrowWidth,m=c?0:t.arrowHeight,[f,p]=Bj(a),h={start:"0%",center:"50%",end:"100%"}[p],g=(((C=n.arrow)==null?void 0:C.x)??0)+d/2,j=(((S=n.arrow)==null?void 0:S.y)??0)+m/2;let b="",y="";return f==="bottom"?(b=c?h:`${g}px`,y=`${-m}px`):f==="top"?(b=c?h:`${g}px`,y=`${r.floating.height+m}px`):f==="right"?(b=`${-m}px`,y=c?h:`${j}px`):f==="left"&&(b=`${r.floating.width+m}px`,y=c?h:`${j}px`),{data:{x:b,y}}}});function Bj(t){const[s,a="center"]=t.split("-");return[s,a]}var Mh=Oj,Th=Lj,Ah=Fj,Oh=zj,Uj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zR="VisuallyHidden",Fu=x.forwardRef((t,s)=>e.jsx(dt.span,{...t,ref:s,style:{...Uj,...t.style}}));Fu.displayName=zR;var BR=Fu,[$u,I6]=Is("Tooltip",[Lo]),zu=Lo(),Hj="TooltipProvider",UR=700,Lp="tooltip.open",[HR,Ih]=$u(Hj),Vj=t=>{const{__scopeTooltip:s,delayDuration:a=UR,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:o}=t,c=x.useRef(!0),d=x.useRef(!1),m=x.useRef(0);return x.useEffect(()=>{const f=m.current;return()=>window.clearTimeout(f)},[]),e.jsx(HR,{scope:s,isOpenDelayedRef:c,delayDuration:a,onOpen:x.useCallback(()=>{window.clearTimeout(m.current),c.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:x.useCallback(f=>{d.current=f},[]),disableHoverableContent:n,children:o})};Vj.displayName=Hj;var $l="Tooltip",[VR,Bu]=$u($l),Wj=t=>{const{__scopeTooltip:s,children:a,open:r,defaultOpen:n,onOpenChange:o,disableHoverableContent:c,delayDuration:d}=t,m=Ih($l,t.__scopeTooltip),f=zu(s),[p,h]=x.useState(null),g=Es(),j=x.useRef(0),b=c??m.disableHoverableContent,y=d??m.delayDuration,w=x.useRef(!1),[C,S]=ki({prop:r,defaultProp:n??!1,onChange:E=>{E?(m.onOpen(),document.dispatchEvent(new CustomEvent(Lp))):m.onClose(),o==null||o(E)},caller:$l}),k=x.useMemo(()=>C?w.current?"delayed-open":"instant-open":"closed",[C]),P=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,w.current=!1,S(!0)},[S]),R=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,S(!1)},[S]),D=x.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{w.current=!0,S(!0),j.current=0},y)},[y,S]);return x.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),e.jsx(Mh,{...f,children:e.jsx(VR,{scope:s,contentId:g,open:C,stateAttribute:k,trigger:p,onTriggerChange:h,onTriggerEnter:x.useCallback(()=>{m.isOpenDelayedRef.current?D():P()},[m.isOpenDelayedRef,D,P]),onTriggerLeave:x.useCallback(()=>{b?R():(window.clearTimeout(j.current),j.current=0)},[R,b]),onOpen:P,onClose:R,disableHoverableContent:b,children:a})})};Wj.displayName=$l;var Fp="TooltipTrigger",Yj=x.forwardRef((t,s)=>{const{__scopeTooltip:a,...r}=t,n=Bu(Fp,a),o=Ih(Fp,a),c=zu(a),d=x.useRef(null),m=Bt(s,d,n.onTriggerChange),f=x.useRef(!1),p=x.useRef(!1),h=x.useCallback(()=>f.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),e.jsx(Th,{asChild:!0,...c,children:e.jsx(dt.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:m,onPointerMove:Ie(t.onPointerMove,g=>{g.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ie(t.onPointerLeave,()=>{n.onTriggerLeave(),p.current=!1}),onPointerDown:Ie(t.onPointerDown,()=>{n.open&&n.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ie(t.onFocus,()=>{f.current||n.onOpen()}),onBlur:Ie(t.onBlur,n.onClose),onClick:Ie(t.onClick,n.onClose)})})});Yj.displayName=Fp;var WR="TooltipPortal",[L6,YR]=$u(WR,{forceMount:void 0}),No="TooltipContent",qj=x.forwardRef((t,s)=>{const a=YR(No,t.__scopeTooltip),{forceMount:r=a.forceMount,side:n="top",...o}=t,c=Bu(No,t.__scopeTooltip);return e.jsx(Ls,{present:r||c.open,children:c.disableHoverableContent?e.jsx(Kj,{side:n,...o,ref:s}):e.jsx(qR,{side:n,...o,ref:s})})}),qR=x.forwardRef((t,s)=>{const a=Bu(No,t.__scopeTooltip),r=Ih(No,t.__scopeTooltip),n=x.useRef(null),o=Bt(s,n),[c,d]=x.useState(null),{trigger:m,onClose:f}=a,p=n.current,{onPointerInTransitChange:h}=r,g=x.useCallback(()=>{d(null),h(!1)},[h]),j=x.useCallback((b,y)=>{const w=b.currentTarget,C={x:b.clientX,y:b.clientY},S=JR(C,w.getBoundingClientRect()),k=ZR(C,S),P=e4(y.getBoundingClientRect()),R=a4([...k,...P]);d(R),h(!0)},[h]);return x.useEffect(()=>()=>g(),[g]),x.useEffect(()=>{if(m&&p){const b=w=>j(w,p),y=w=>j(w,m);return m.addEventListener("pointerleave",b),p.addEventListener("pointerleave",y),()=>{m.removeEventListener("pointerleave",b),p.removeEventListener("pointerleave",y)}}},[m,p,j,g]),x.useEffect(()=>{if(c){const b=y=>{const w=y.target,C={x:y.clientX,y:y.clientY},S=(m==null?void 0:m.contains(w))||(p==null?void 0:p.contains(w)),k=!t4(C,c);S?g():k&&(g(),f())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[m,p,c,f,g]),e.jsx(Kj,{...t,ref:o})}),[KR,GR]=$u($l,{isInside:!1}),QR=pE("TooltipContent"),Kj=x.forwardRef((t,s)=>{const{__scopeTooltip:a,children:r,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:c,...d}=t,m=Bu(No,a),f=zu(a),{onClose:p}=m;return x.useEffect(()=>(document.addEventListener(Lp,p),()=>document.removeEventListener(Lp,p)),[p]),x.useEffect(()=>{if(m.trigger){const h=g=>{const j=g.target;j!=null&&j.contains(m.trigger)&&p()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[m.trigger,p]),e.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:h=>h.preventDefault(),onDismiss:p,children:e.jsxs(Ah,{"data-state":m.stateAttribute,...f,...d,ref:s,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(QR,{children:r}),e.jsx(KR,{scope:a,isInside:!0,children:e.jsx(BR,{id:m.contentId,role:"tooltip",children:n||r})})]})})});qj.displayName=No;var Gj="TooltipArrow",XR=x.forwardRef((t,s)=>{const{__scopeTooltip:a,...r}=t,n=zu(a);return GR(Gj,a).isInside?null:e.jsx(Oh,{...n,...r,ref:s})});XR.displayName=Gj;function JR(t,s){const a=Math.abs(s.top-t.y),r=Math.abs(s.bottom-t.y),n=Math.abs(s.right-t.x),o=Math.abs(s.left-t.x);switch(Math.min(a,r,n,o)){case o:return"left";case n:return"right";case a:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ZR(t,s,a=5){const r=[];switch(s){case"top":r.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":r.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":r.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":r.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return r}function e4(t){const{top:s,right:a,bottom:r,left:n}=t;return[{x:n,y:s},{x:a,y:s},{x:a,y:r},{x:n,y:r}]}function t4(t,s){const{x:a,y:r}=t;let n=!1;for(let o=0,c=s.length-1;o<s.length;c=o++){const d=s[o],m=s[c],f=d.x,p=d.y,h=m.x,g=m.y;p>r!=g>r&&a<(h-f)*(r-p)/(g-p)+f&&(n=!n)}return n}function a4(t){const s=t.slice();return s.sort((a,r)=>a.x<r.x?-1:a.x>r.x?1:a.y<r.y?-1:a.y>r.y?1:0),r4(s)}function r4(t){if(t.length<=1)return t.slice();const s=[];for(let r=0;r<t.length;r++){const n=t[r];for(;s.length>=2;){const o=s[s.length-1],c=s[s.length-2];if((o.x-c.x)*(n.y-c.y)>=(o.y-c.y)*(n.x-c.x))s.pop();else break}s.push(n)}s.pop();const a=[];for(let r=t.length-1;r>=0;r--){const n=t[r];for(;a.length>=2;){const o=a[a.length-1],c=a[a.length-2];if((o.x-c.x)*(n.y-c.y)>=(o.y-c.y)*(n.x-c.x))a.pop();else break}a.push(n)}return a.pop(),s.length===1&&a.length===1&&s[0].x===a[0].x&&s[0].y===a[0].y?s:s.concat(a)}var s4=Vj,n4=Wj,i4=Yj,Qj=qj;const Xj=s4,Jj=n4,Zj=i4,Lh=x.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(Qj,{ref:r,sideOffset:s,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));Lh.displayName=Qj.displayName;const o4="sidebar:state",l4=3600*24*7,c4="16rem",d4="18rem",u4="3rem",m4="b",ew=x.createContext(null);function Uu(){const t=x.useContext(ew);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const tw=x.forwardRef(({defaultOpen:t=!0,open:s,onOpenChange:a,className:r,style:n,children:o,...c},d)=>{const m=qE(),[f,p]=x.useState(!1),[h,g]=x.useState(t),j=s??h,b=x.useCallback(S=>{const k=typeof S=="function"?S(j):S;a?a(k):g(k),document.cookie=`${o4}=${k}; path=/; max-age=${l4}`},[a,j]),y=x.useCallback(()=>m?p(S=>!S):b(S=>!S),[m,b,p]);x.useEffect(()=>{const S=k=>{k.key===m4&&(k.metaKey||k.ctrlKey)&&(k.preventDefault(),y())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[y]);const w=j?"expanded":"collapsed",C=x.useMemo(()=>({state:w,open:j,setOpen:b,isMobile:m,openMobile:f,setOpenMobile:p,toggleSidebar:y}),[w,j,b,m,f,p,y]);return e.jsx(ew.Provider,{value:C,children:e.jsx(Xj,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":c4,"--sidebar-width-icon":u4,...n},className:we("group/sidebar-wrapper flex min-h-svh w-full bg-background",r),ref:d,...c,children:o})})})});tw.displayName="SidebarProvider";const aw=x.forwardRef(({side:t="left",variant:s="sidebar",collapsible:a="offcanvas",className:r,children:n,...o},c)=>{const{isMobile:d,state:m,openMobile:f,setOpenMobile:p}=Uu();return a==="none"?e.jsx("div",{className:we("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:c,...o,children:n}):d?e.jsx(jP,{open:f,onOpenChange:p,...o,children:e.jsx(hj,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":d4},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:n})})}):e.jsxs("div",{ref:c,className:"group peer hidden md:block text-sidebar-foreground","data-state":m,"data-collapsible":m==="collapsed"?a:"","data-variant":s,"data-side":t,children:[e.jsx("div",{className:we("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",s==="floating"||s==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:we("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",s==="floating"||s==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})})]})});aw.displayName="Sidebar";const rw=x.forwardRef(({className:t,onClick:s,...a},r)=>{const{toggleSidebar:n}=Uu();return e.jsxs(Z,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:we("h-7 w-7",t),onClick:o=>{s==null||s(o),n()},...a,children:[e.jsx($E,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});rw.displayName="SidebarTrigger";const f4=x.forwardRef(({className:t,...s},a)=>{const{toggleSidebar:r}=Uu();return e.jsx("button",{ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:we("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...s})});f4.displayName="SidebarRail";const sw=x.forwardRef(({className:t,...s},a)=>e.jsx("main",{ref:a,className:we("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...s}));sw.displayName="SidebarInset";const p4=x.forwardRef(({className:t,...s},a)=>e.jsx(ge,{ref:a,"data-sidebar":"input",className:we("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...s}));p4.displayName="SidebarInput";const nw=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"header",className:we("flex flex-col gap-2 p-2",t),...s}));nw.displayName="SidebarHeader";const iw=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"footer",className:we("flex flex-col gap-2 p-2",t),...s}));iw.displayName="SidebarFooter";const h4=x.forwardRef(({className:t,...s},a)=>e.jsx(lr,{ref:a,"data-sidebar":"separator",className:we("mx-2 w-auto bg-sidebar-border",t),...s}));h4.displayName="SidebarSeparator";const ow=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"content",className:we("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s}));ow.displayName="SidebarContent";const $p=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"group",className:we("relative flex w-full min-w-0 flex-col p-2",t),...s}));$p.displayName="SidebarGroup";const zp=x.forwardRef(({className:t,asChild:s=!1,...a},r)=>{const n=s?To:"div";return e.jsx(n,{ref:r,"data-sidebar":"group-label",className:we("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...a})});zp.displayName="SidebarGroupLabel";const x4=x.forwardRef(({className:t,asChild:s=!1,...a},r)=>{const n=s?To:"button";return e.jsx(n,{ref:r,"data-sidebar":"group-action",className:we("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...a})});x4.displayName="SidebarGroupAction";const Bp=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"group-content",className:we("w-full text-sm",t),...s}));Bp.displayName="SidebarGroupContent";const Up=x.forwardRef(({className:t,...s},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu",className:we("flex w-full min-w-0 flex-col gap-1",t),...s}));Up.displayName="SidebarMenu";const Hp=x.forwardRef(({className:t,...s},a)=>e.jsx("li",{ref:a,"data-sidebar":"menu-item",className:we("group/menu-item relative",t),...s}));Hp.displayName="SidebarMenuItem";const g4=Su("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Vp=x.forwardRef(({asChild:t=!1,isActive:s=!1,variant:a="default",size:r="default",tooltip:n,className:o,...c},d)=>{const m=t?To:"button",{isMobile:f,state:p}=Uu(),h=e.jsx(m,{ref:d,"data-sidebar":"menu-button","data-size":r,"data-active":s,className:we(g4({variant:a,size:r}),o),...c});return n?(typeof n=="string"&&(n={children:n}),e.jsxs(Jj,{children:[e.jsx(Zj,{asChild:!0,children:h}),e.jsx(Lh,{side:"right",align:"center",hidden:p!=="collapsed"||f,...n})]})):h});Vp.displayName="SidebarMenuButton";const v4=x.forwardRef(({className:t,asChild:s=!1,showOnHover:a=!1,...r},n)=>{const o=s?To:"button";return e.jsx(o,{ref:n,"data-sidebar":"menu-action",className:we("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});v4.displayName="SidebarMenuAction";const y4=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,"data-sidebar":"menu-badge",className:we("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...s}));y4.displayName="SidebarMenuBadge";const b4=x.forwardRef(({className:t,showIcon:s=!1,...a},r)=>{const n=x.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:we("rounded-md h-8 flex gap-2 px-2 items-center",t),...a,children:[s&&e.jsx(gt,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(gt,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})});b4.displayName="SidebarMenuSkeleton";const j4=x.forwardRef(({className:t,...s},a)=>e.jsx("ul",{ref:a,"data-sidebar":"menu-sub",className:we("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...s}));j4.displayName="SidebarMenuSub";const w4=x.forwardRef(({...t},s)=>e.jsx("li",{ref:s,...t}));w4.displayName="SidebarMenuSubItem";const N4=x.forwardRef(({asChild:t=!1,size:s="md",isActive:a,className:r,...n},o)=>{const c=t?To:"a";return e.jsx(c,{ref:o,"data-sidebar":"menu-sub-button","data-size":s,"data-active":a,className:we("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",s==="sm"&&"text-xs",s==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...n})});N4.displayName="SidebarMenuSubButton";const S4={theme:"system",setTheme:()=>null},lw=x.createContext(S4);function C4({children:t,defaultTheme:s="system",storageKey:a="vite-ui-theme",...r}){const[n,o]=x.useState(()=>(typeof window<"u"?localStorage.getItem(a):null)||s);x.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),n==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(m);return}d.classList.add(n)},[n]);const c={theme:n,setTheme:d=>{localStorage.setItem(a,d),o(d)}};return e.jsx(lw.Provider,{...r,value:c,children:t})}const cw=()=>{const t=x.useContext(lw);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function Hu(t){const s=t+"CollectionProvider",[a,r]=Is(s),[n,o]=a(s,{collectionRef:{current:null},itemMap:new Map}),c=y=>{const{scope:w,children:C}=y,S=fe.useRef(null),k=fe.useRef(new Map).current;return e.jsx(n,{scope:w,itemMap:k,collectionRef:S,children:C})};c.displayName=s;const d=t+"CollectionSlot",m=Ci(d),f=fe.forwardRef((y,w)=>{const{scope:C,children:S}=y,k=o(d,C),P=Bt(w,k.collectionRef);return e.jsx(m,{ref:P,children:S})});f.displayName=d;const p=t+"CollectionItemSlot",h="data-radix-collection-item",g=Ci(p),j=fe.forwardRef((y,w)=>{const{scope:C,children:S,...k}=y,P=fe.useRef(null),R=Bt(w,P),D=o(p,C);return fe.useEffect(()=>(D.itemMap.set(P,{ref:P,...k}),()=>void D.itemMap.delete(P))),e.jsx(g,{[h]:"",ref:R,children:S})});j.displayName=p;function b(y){const w=o(t+"CollectionConsumer",y);return fe.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const k=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((D,E)=>k.indexOf(D.ref.current)-k.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:c,Slot:f,ItemSlot:j},b,r]}var k4=x.createContext(void 0);function Fh(t){const s=x.useContext(k4);return t||s||"ltr"}var lp="rovingFocusGroup.onEntryFocus",_4={bubbles:!1,cancelable:!0},Jl="RovingFocusGroup",[Wp,dw,E4]=Hu(Jl),[D4,uw]=Is(Jl,[E4]),[P4,R4]=D4(Jl),mw=x.forwardRef((t,s)=>e.jsx(Wp.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Wp.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(M4,{...t,ref:s})})}));mw.displayName=Jl;var M4=x.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:n=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...h}=t,g=x.useRef(null),j=Bt(s,g),b=Fh(o),[y,w]=ki({prop:c,defaultProp:d??null,onChange:m,caller:Jl}),[C,S]=x.useState(!1),k=xr(f),P=dw(a),R=x.useRef(!1),[D,E]=x.useState(0);return x.useEffect(()=>{const O=g.current;if(O)return O.addEventListener(lp,k),()=>O.removeEventListener(lp,k)},[k]),e.jsx(P4,{scope:a,orientation:r,dir:b,loop:n,currentTabStopId:y,onItemFocus:x.useCallback(O=>w(O),[w]),onItemShiftTab:x.useCallback(()=>S(!0),[]),onFocusableItemAdd:x.useCallback(()=>E(O=>O+1),[]),onFocusableItemRemove:x.useCallback(()=>E(O=>O-1),[]),children:e.jsx(dt.div,{tabIndex:C||D===0?-1:0,"data-orientation":r,...h,ref:j,style:{outline:"none",...t.style},onMouseDown:Ie(t.onMouseDown,()=>{R.current=!0}),onFocus:Ie(t.onFocus,O=>{const I=!R.current;if(O.target===O.currentTarget&&I&&!C){const z=new CustomEvent(lp,_4);if(O.currentTarget.dispatchEvent(z),!z.defaultPrevented){const B=P().filter(T=>T.focusable),Y=B.find(T=>T.active),$=B.find(T=>T.id===y),G=[Y,$,...B].filter(Boolean).map(T=>T.ref.current);hw(G,p)}}R.current=!1}),onBlur:Ie(t.onBlur,()=>S(!1))})})}),fw="RovingFocusGroupItem",pw=x.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:n=!1,tabStopId:o,children:c,...d}=t,m=Es(),f=o||m,p=R4(fw,a),h=p.currentTabStopId===f,g=dw(a),{onFocusableItemAdd:j,onFocusableItemRemove:b,currentTabStopId:y}=p;return x.useEffect(()=>{if(r)return j(),()=>b()},[r,j,b]),e.jsx(Wp.ItemSlot,{scope:a,id:f,focusable:r,active:n,children:e.jsx(dt.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...d,ref:s,onMouseDown:Ie(t.onMouseDown,w=>{r?p.onItemFocus(f):w.preventDefault()}),onFocus:Ie(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:Ie(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){p.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const C=O4(w,p.orientation,p.dir);if(C!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let k=g().filter(P=>P.focusable).map(P=>P.ref.current);if(C==="last")k.reverse();else if(C==="prev"||C==="next"){C==="prev"&&k.reverse();const P=k.indexOf(w.currentTarget);k=p.loop?I4(k,P+1):k.slice(P+1)}setTimeout(()=>hw(k))}}),children:typeof c=="function"?c({isCurrentTabStop:h,hasTabStop:y!=null}):c})})});pw.displayName=fw;var T4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A4(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function O4(t,s,a){const r=A4(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return T4[r]}function hw(t,s=!1){const a=document.activeElement;for(const r of t)if(r===a||(r.focus({preventScroll:s}),document.activeElement!==a))return}function I4(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var L4=mw,F4=pw,Yp=["Enter"," "],$4=["ArrowDown","PageUp","Home"],xw=["ArrowUp","PageDown","End"],z4=[...$4,...xw],B4={ltr:[...Yp,"ArrowRight"],rtl:[...Yp,"ArrowLeft"]},U4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zl="Menu",[zl,H4,V4]=Hu(Zl),[Ti,gw]=Is(Zl,[V4,Lo,uw]),Vu=Lo(),vw=uw(),[W4,Ai]=Ti(Zl),[Y4,ec]=Ti(Zl),yw=t=>{const{__scopeMenu:s,open:a=!1,children:r,dir:n,onOpenChange:o,modal:c=!0}=t,d=Vu(s),[m,f]=x.useState(null),p=x.useRef(!1),h=xr(o),g=Fh(n);return x.useEffect(()=>{const j=()=>{p.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>p.current=!1;return document.addEventListener("keydown",j,{capture:!0}),()=>{document.removeEventListener("keydown",j,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),e.jsx(Mh,{...d,children:e.jsx(W4,{scope:s,open:a,onOpenChange:h,content:m,onContentChange:f,children:e.jsx(Y4,{scope:s,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:p,dir:g,modal:c,children:r})})})};yw.displayName=Zl;var q4="MenuAnchor",$h=x.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t,n=Vu(a);return e.jsx(Th,{...n,...r,ref:s})});$h.displayName=q4;var zh="MenuPortal",[K4,bw]=Ti(zh,{forceMount:void 0}),jw=t=>{const{__scopeMenu:s,forceMount:a,children:r,container:n}=t,o=Ai(zh,s);return e.jsx(K4,{scope:s,forceMount:a,children:e.jsx(Ls,{present:a||o.open,children:e.jsx(Ql,{asChild:!0,container:n,children:r})})})};jw.displayName=zh;var Hr="MenuContent",[G4,Bh]=Ti(Hr),ww=x.forwardRef((t,s)=>{const a=bw(Hr,t.__scopeMenu),{forceMount:r=a.forceMount,...n}=t,o=Ai(Hr,t.__scopeMenu),c=ec(Hr,t.__scopeMenu);return e.jsx(zl.Provider,{scope:t.__scopeMenu,children:e.jsx(Ls,{present:r||o.open,children:e.jsx(zl.Slot,{scope:t.__scopeMenu,children:c.modal?e.jsx(Q4,{...n,ref:s}):e.jsx(X4,{...n,ref:s})})})})}),Q4=x.forwardRef((t,s)=>{const a=Ai(Hr,t.__scopeMenu),r=x.useRef(null),n=Bt(s,r);return x.useEffect(()=>{const o=r.current;if(o)return bh(o)},[]),e.jsx(Uh,{...t,ref:n,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:Ie(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),X4=x.forwardRef((t,s)=>{const a=Ai(Hr,t.__scopeMenu);return e.jsx(Uh,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),J4=Ci("MenuContent.ScrollLock"),Uh=x.forwardRef((t,s)=>{const{__scopeMenu:a,loop:r=!1,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:m,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:g,onDismiss:j,disableOutsideScroll:b,...y}=t,w=Ai(Hr,a),C=ec(Hr,a),S=Vu(a),k=vw(a),P=H4(a),[R,D]=x.useState(null),E=x.useRef(null),O=Bt(s,E,w.onContentChange),I=x.useRef(0),z=x.useRef(""),B=x.useRef(0),Y=x.useRef(null),$=x.useRef("right"),M=x.useRef(0),G=b?Eu:x.Fragment,T=b?{as:J4,allowPinchZoom:!0}:void 0,L=Q=>{var U,X;const te=z.current+Q,A=P().filter(le=>!le.disabled),W=document.activeElement,re=(U=A.find(le=>le.ref.current===W))==null?void 0:U.textValue,K=A.map(le=>le.textValue),J=dM(K,te,re),V=(X=A.find(le=>le.textValue===J))==null?void 0:X.ref.current;(function le(ve){z.current=ve,window.clearTimeout(I.current),ve!==""&&(I.current=window.setTimeout(()=>le(""),1e3))})(te),V&&setTimeout(()=>V.focus())};x.useEffect(()=>()=>window.clearTimeout(I.current),[]),yh();const H=x.useCallback(Q=>{var A,W;return $.current===((A=Y.current)==null?void 0:A.side)&&mM(Q,(W=Y.current)==null?void 0:W.area)},[]);return e.jsx(G4,{scope:a,searchRef:z,onItemEnter:x.useCallback(Q=>{H(Q)&&Q.preventDefault()},[H]),onItemLeave:x.useCallback(Q=>{var te;H(Q)||((te=E.current)==null||te.focus(),D(null))},[H]),onTriggerLeave:x.useCallback(Q=>{H(Q)&&Q.preventDefault()},[H]),pointerGraceTimerRef:B,onPointerGraceIntentChange:x.useCallback(Q=>{Y.current=Q},[]),children:e.jsx(G,{...T,children:e.jsx(ku,{asChild:!0,trapped:n,onMountAutoFocus:Ie(o,Q=>{var te;Q.preventDefault(),(te=E.current)==null||te.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:e.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:g,onDismiss:j,children:e.jsx(L4,{asChild:!0,...k,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:D,onEntryFocus:Ie(m,Q=>{C.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Ah,{role:"menu","aria-orientation":"vertical","data-state":Fw(w.open),"data-radix-menu-content":"",dir:C.dir,...S,...y,ref:O,style:{outline:"none",...y.style},onKeyDown:Ie(y.onKeyDown,Q=>{const A=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,W=Q.ctrlKey||Q.altKey||Q.metaKey,re=Q.key.length===1;A&&(Q.key==="Tab"&&Q.preventDefault(),!W&&re&&L(Q.key));const K=E.current;if(Q.target!==K||!z4.includes(Q.key))return;Q.preventDefault();const V=P().filter(U=>!U.disabled).map(U=>U.ref.current);xw.includes(Q.key)&&V.reverse(),lM(V)}),onBlur:Ie(t.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(I.current),z.current="")}),onPointerMove:Ie(t.onPointerMove,Bl(Q=>{const te=Q.target,A=M.current!==Q.clientX;if(Q.currentTarget.contains(te)&&A){const W=Q.clientX>M.current?"right":"left";$.current=W,M.current=Q.clientX}}))})})})})})})});ww.displayName=Hr;var Z4="MenuGroup",Hh=x.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(dt.div,{role:"group",...r,ref:s})});Hh.displayName=Z4;var eM="MenuLabel",Nw=x.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(dt.div,{...r,ref:s})});Nw.displayName=eM;var ru="MenuItem",V0="menu.itemSelect",Wu=x.forwardRef((t,s)=>{const{disabled:a=!1,onSelect:r,...n}=t,o=x.useRef(null),c=ec(ru,t.__scopeMenu),d=Bh(ru,t.__scopeMenu),m=Bt(s,o),f=x.useRef(!1),p=()=>{const h=o.current;if(!a&&h){const g=new CustomEvent(V0,{bubbles:!0,cancelable:!0});h.addEventListener(V0,j=>r==null?void 0:r(j),{once:!0}),vh(h,g),g.defaultPrevented?f.current=!1:c.onClose()}};return e.jsx(Sw,{...n,ref:m,disabled:a,onClick:Ie(t.onClick,p),onPointerDown:h=>{var g;(g=t.onPointerDown)==null||g.call(t,h),f.current=!0},onPointerUp:Ie(t.onPointerUp,h=>{var g;f.current||(g=h.currentTarget)==null||g.click()}),onKeyDown:Ie(t.onKeyDown,h=>{const g=d.searchRef.current!=="";a||g&&h.key===" "||Yp.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Wu.displayName=ru;var Sw=x.forwardRef((t,s)=>{const{__scopeMenu:a,disabled:r=!1,textValue:n,...o}=t,c=Bh(ru,a),d=vw(a),m=x.useRef(null),f=Bt(s,m),[p,h]=x.useState(!1),[g,j]=x.useState("");return x.useEffect(()=>{const b=m.current;b&&j((b.textContent??"").trim())},[o.children]),e.jsx(zl.ItemSlot,{scope:a,disabled:r,textValue:n??g,children:e.jsx(F4,{asChild:!0,...d,focusable:!r,children:e.jsx(dt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:f,onPointerMove:Ie(t.onPointerMove,Bl(b=>{r?c.onItemLeave(b):(c.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(t.onPointerLeave,Bl(b=>c.onItemLeave(b))),onFocus:Ie(t.onFocus,()=>h(!0)),onBlur:Ie(t.onBlur,()=>h(!1))})})})}),tM="MenuCheckboxItem",Cw=x.forwardRef((t,s)=>{const{checked:a=!1,onCheckedChange:r,...n}=t;return e.jsx(Pw,{scope:t.__scopeMenu,checked:a,children:e.jsx(Wu,{role:"menuitemcheckbox","aria-checked":su(a)?"mixed":a,...n,ref:s,"data-state":Wh(a),onSelect:Ie(n.onSelect,()=>r==null?void 0:r(su(a)?!0:!a),{checkForDefaultPrevented:!1})})})});Cw.displayName=tM;var kw="MenuRadioGroup",[aM,rM]=Ti(kw,{value:void 0,onValueChange:()=>{}}),_w=x.forwardRef((t,s)=>{const{value:a,onValueChange:r,...n}=t,o=xr(r);return e.jsx(aM,{scope:t.__scopeMenu,value:a,onValueChange:o,children:e.jsx(Hh,{...n,ref:s})})});_w.displayName=kw;var Ew="MenuRadioItem",Dw=x.forwardRef((t,s)=>{const{value:a,...r}=t,n=rM(Ew,t.__scopeMenu),o=a===n.value;return e.jsx(Pw,{scope:t.__scopeMenu,checked:o,children:e.jsx(Wu,{role:"menuitemradio","aria-checked":o,...r,ref:s,"data-state":Wh(o),onSelect:Ie(r.onSelect,()=>{var c;return(c=n.onValueChange)==null?void 0:c.call(n,a)},{checkForDefaultPrevented:!1})})})});Dw.displayName=Ew;var Vh="MenuItemIndicator",[Pw,sM]=Ti(Vh,{checked:!1}),Rw=x.forwardRef((t,s)=>{const{__scopeMenu:a,forceMount:r,...n}=t,o=sM(Vh,a);return e.jsx(Ls,{present:r||su(o.checked)||o.checked===!0,children:e.jsx(dt.span,{...n,ref:s,"data-state":Wh(o.checked)})})});Rw.displayName=Vh;var nM="MenuSeparator",Mw=x.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t;return e.jsx(dt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:s})});Mw.displayName=nM;var iM="MenuArrow",Tw=x.forwardRef((t,s)=>{const{__scopeMenu:a,...r}=t,n=Vu(a);return e.jsx(Oh,{...n,...r,ref:s})});Tw.displayName=iM;var oM="MenuSub",[F6,Aw]=Ti(oM),Pl="MenuSubTrigger",Ow=x.forwardRef((t,s)=>{const a=Ai(Pl,t.__scopeMenu),r=ec(Pl,t.__scopeMenu),n=Aw(Pl,t.__scopeMenu),o=Bh(Pl,t.__scopeMenu),c=x.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:m}=o,f={__scopeMenu:t.__scopeMenu},p=x.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return x.useEffect(()=>p,[p]),x.useEffect(()=>{const h=d.current;return()=>{window.clearTimeout(h),m(null)}},[d,m]),e.jsx($h,{asChild:!0,...f,children:e.jsx(Sw,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":n.contentId,"data-state":Fw(a.open),...t,ref:Nu(s,n.onTriggerChange),onClick:h=>{var g;(g=t.onClick)==null||g.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:Ie(t.onPointerMove,Bl(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!a.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{a.onOpenChange(!0),p()},100))})),onPointerLeave:Ie(t.onPointerLeave,Bl(h=>{var j,b;p();const g=(j=a.content)==null?void 0:j.getBoundingClientRect();if(g){const y=(b=a.content)==null?void 0:b.dataset.side,w=y==="right",C=w?-5:5,S=g[w?"left":"right"],k=g[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+C,y:h.clientY},{x:S,y:g.top},{x:k,y:g.top},{x:k,y:g.bottom},{x:S,y:g.bottom}],side:y}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(t.onKeyDown,h=>{var j;const g=o.searchRef.current!=="";t.disabled||g&&h.key===" "||B4[r.dir].includes(h.key)&&(a.onOpenChange(!0),(j=a.content)==null||j.focus(),h.preventDefault())})})})});Ow.displayName=Pl;var Iw="MenuSubContent",Lw=x.forwardRef((t,s)=>{const a=bw(Hr,t.__scopeMenu),{forceMount:r=a.forceMount,...n}=t,o=Ai(Hr,t.__scopeMenu),c=ec(Hr,t.__scopeMenu),d=Aw(Iw,t.__scopeMenu),m=x.useRef(null),f=Bt(s,m);return e.jsx(zl.Provider,{scope:t.__scopeMenu,children:e.jsx(Ls,{present:r||o.open,children:e.jsx(zl.Slot,{scope:t.__scopeMenu,children:e.jsx(Uh,{id:d.contentId,"aria-labelledby":d.triggerId,...n,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var h;c.isUsingKeyboardRef.current&&((h=m.current)==null||h.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ie(t.onFocusOutside,p=>{p.target!==d.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ie(t.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:Ie(t.onKeyDown,p=>{var j;const h=p.currentTarget.contains(p.target),g=U4[c.dir].includes(p.key);h&&g&&(o.onOpenChange(!1),(j=d.trigger)==null||j.focus(),p.preventDefault())})})})})})});Lw.displayName=Iw;function Fw(t){return t?"open":"closed"}function su(t){return t==="indeterminate"}function Wh(t){return su(t)?"indeterminate":t?"checked":"unchecked"}function lM(t){const s=document.activeElement;for(const a of t)if(a===s||(a.focus(),document.activeElement!==s))return}function cM(t,s){return t.map((a,r)=>t[(s+r)%t.length])}function dM(t,s,a){const n=s.length>1&&Array.from(s).every(f=>f===s[0])?s[0]:s,o=a?t.indexOf(a):-1;let c=cM(t,Math.max(o,0));n.length===1&&(c=c.filter(f=>f!==a));const m=c.find(f=>f.toLowerCase().startsWith(n.toLowerCase()));return m!==a?m:void 0}function uM(t,s){const{x:a,y:r}=t;let n=!1;for(let o=0,c=s.length-1;o<s.length;c=o++){const d=s[o],m=s[c],f=d.x,p=d.y,h=m.x,g=m.y;p>r!=g>r&&a<(h-f)*(r-p)/(g-p)+f&&(n=!n)}return n}function mM(t,s){if(!s)return!1;const a={x:t.clientX,y:t.clientY};return uM(a,s)}function Bl(t){return s=>s.pointerType==="mouse"?t(s):void 0}var fM=yw,pM=$h,hM=jw,xM=ww,gM=Hh,vM=Nw,yM=Wu,bM=Cw,jM=_w,wM=Dw,NM=Rw,SM=Mw,CM=Tw,kM=Ow,_M=Lw,Yu="DropdownMenu",[EM,$6]=Is(Yu,[gw]),gr=gw(),[DM,$w]=EM(Yu),zw=t=>{const{__scopeDropdownMenu:s,children:a,dir:r,open:n,defaultOpen:o,onOpenChange:c,modal:d=!0}=t,m=gr(s),f=x.useRef(null),[p,h]=ki({prop:n,defaultProp:o??!1,onChange:c,caller:Yu});return e.jsx(DM,{scope:s,triggerId:Es(),triggerRef:f,contentId:Es(),open:p,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(g=>!g),[h]),modal:d,children:e.jsx(fM,{...m,open:p,onOpenChange:h,dir:r,modal:d,children:a})})};zw.displayName=Yu;var Bw="DropdownMenuTrigger",Uw=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,disabled:r=!1,...n}=t,o=$w(Bw,a),c=gr(a);return e.jsx(pM,{asChild:!0,...c,children:e.jsx(dt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...n,ref:Nu(s,o.triggerRef),onPointerDown:Ie(t.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:Ie(t.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});Uw.displayName=Bw;var PM="DropdownMenuPortal",Hw=t=>{const{__scopeDropdownMenu:s,...a}=t,r=gr(s);return e.jsx(hM,{...r,...a})};Hw.displayName=PM;var Vw="DropdownMenuContent",Ww=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=$w(Vw,a),o=gr(a),c=x.useRef(!1);return e.jsx(xM,{id:n.contentId,"aria-labelledby":n.triggerId,...o,...r,ref:s,onCloseAutoFocus:Ie(t.onCloseAutoFocus,d=>{var m;c.current||(m=n.triggerRef.current)==null||m.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Ie(t.onInteractOutside,d=>{const m=d.detail.originalEvent,f=m.button===0&&m.ctrlKey===!0,p=m.button===2||f;(!n.modal||p)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ww.displayName=Vw;var RM="DropdownMenuGroup",MM=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=gr(a);return e.jsx(gM,{...n,...r,ref:s})});MM.displayName=RM;var TM="DropdownMenuLabel",Yw=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=gr(a);return e.jsx(vM,{...n,...r,ref:s})});Yw.displayName=TM;var AM="DropdownMenuItem",qw=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=gr(a);return e.jsx(yM,{...n,...r,ref:s})});qw.displayName=AM;var OM="DropdownMenuCheckboxItem",Kw=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=gr(a);return e.jsx(bM,{...n,...r,ref:s})});Kw.displayName=OM;var IM="DropdownMenuRadioGroup",LM=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=gr(a);return e.jsx(jM,{...n,...r,ref:s})});LM.displayName=IM;var FM="DropdownMenuRadioItem",Gw=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=gr(a);return e.jsx(wM,{...n,...r,ref:s})});Gw.displayName=FM;var $M="DropdownMenuItemIndicator",Qw=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=gr(a);return e.jsx(NM,{...n,...r,ref:s})});Qw.displayName=$M;var zM="DropdownMenuSeparator",Xw=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=gr(a);return e.jsx(SM,{...n,...r,ref:s})});Xw.displayName=zM;var BM="DropdownMenuArrow",UM=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=gr(a);return e.jsx(CM,{...n,...r,ref:s})});UM.displayName=BM;var HM="DropdownMenuSubTrigger",Jw=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=gr(a);return e.jsx(kM,{...n,...r,ref:s})});Jw.displayName=HM;var VM="DropdownMenuSubContent",Zw=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...r}=t,n=gr(a);return e.jsx(_M,{...n,...r,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zw.displayName=VM;var WM=zw,YM=Uw,qM=Hw,eN=Ww,tN=Yw,aN=qw,rN=Kw,sN=Gw,nN=Qw,iN=Xw,oN=Jw,lN=Zw;const cN=WM,dN=YM,KM=x.forwardRef(({className:t,inset:s,children:a,...r},n)=>e.jsxs(oN,{ref:n,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...r,children:[a,e.jsx(ss,{className:"ml-auto h-4 w-4"})]}));KM.displayName=oN.displayName;const GM=x.forwardRef(({className:t,...s},a)=>e.jsx(lN,{ref:a,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));GM.displayName=lN.displayName;const Yh=x.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(qM,{children:e.jsx(eN,{ref:r,sideOffset:s,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));Yh.displayName=eN.displayName;const Qs=x.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(aN,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...a}));Qs.displayName=aN.displayName;const QM=x.forwardRef(({className:t,children:s,checked:a,...r},n)=>e.jsxs(rN,{ref:n,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(nN,{children:e.jsx(Pb,{className:"h-4 w-4"})})}),s]}));QM.displayName=rN.displayName;const XM=x.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(sN,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(nN,{children:e.jsx(NE,{className:"h-2 w-2 fill-current"})})}),s]}));XM.displayName=sN.displayName;const uN=x.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(tN,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));uN.displayName=tN.displayName;const qp=x.forwardRef(({className:t,...s},a)=>e.jsx(iN,{ref:a,className:we("-mx-1 my-1 h-px bg-muted",t),...s}));qp.displayName=iN.displayName;function qh(){const{setTheme:t,theme:s}=cw();return e.jsxs(cN,{children:[e.jsx(dN,{asChild:!0,children:e.jsxs(Z,{variant:"secondary",size:"icon",className:"relative bg-white/80 text-slate-700 border border-black/10 shadow-sm backdrop-blur hover:bg-white/90 dark:bg-slate-900/60 dark:text-slate-100 dark:border-white/10 dark:hover:bg-slate-900/70","aria-label":"Alternar tema",children:[e.jsx(g0,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(x0,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),e.jsxs(Yh,{align:"end",sideOffset:8,children:[e.jsxs(Qs,{onClick:()=>t("light"),className:"cursor-pointer",children:[e.jsx(g0,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Claro"}),s==="light"&&e.jsx("span",{className:"ml-auto",children:"✓"})]}),e.jsxs(Qs,{onClick:()=>t("dark"),className:"cursor-pointer",children:[e.jsx(x0,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Escuro"}),s==="dark"&&e.jsx("span",{className:"ml-auto",children:"✓"})]}),e.jsxs(Qs,{onClick:()=>t("system"),className:"cursor-pointer",children:[e.jsx(LE,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sistema"}),s==="system"&&e.jsx("span",{className:"ml-auto",children:"✓"})]})]})]})}var cp={exports:{}},dp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function JM(){if(W0)return dp;W0=1;var t=xu();function s(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var a=typeof Object.is=="function"?Object.is:s,r=t.useState,n=t.useEffect,o=t.useLayoutEffect,c=t.useDebugValue;function d(h,g){var j=g(),b=r({inst:{value:j,getSnapshot:g}}),y=b[0].inst,w=b[1];return o(function(){y.value=j,y.getSnapshot=g,m(y)&&w({inst:y})},[h,j,g]),n(function(){return m(y)&&w({inst:y}),h(function(){m(y)&&w({inst:y})})},[h]),c(j),j}function m(h){var g=h.getSnapshot;h=h.value;try{var j=g();return!a(h,j)}catch{return!0}}function f(h,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return dp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,dp}var Y0;function ZM(){return Y0||(Y0=1,cp.exports=JM()),cp.exports}var eT=ZM();function tT(){return eT.useSyncExternalStore(aT,()=>!0,()=>!1)}function aT(){return()=>{}}var Kh="Avatar",[rT,z6]=Is(Kh),[sT,mN]=rT(Kh),fN=x.forwardRef((t,s)=>{const{__scopeAvatar:a,...r}=t,[n,o]=x.useState("idle");return e.jsx(sT,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:e.jsx(dt.span,{...r,ref:s})})});fN.displayName=Kh;var pN="AvatarImage",hN=x.forwardRef((t,s)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:n=()=>{},...o}=t,c=mN(pN,a),d=nT(r,o),m=xr(f=>{n(f),c.onImageLoadingStatusChange(f)});return Ta(()=>{d!=="idle"&&m(d)},[d,m]),d==="loaded"?e.jsx(dt.img,{...o,ref:s,src:r}):null});hN.displayName=pN;var xN="AvatarFallback",gN=x.forwardRef((t,s)=>{const{__scopeAvatar:a,delayMs:r,...n}=t,o=mN(xN,a),[c,d]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const m=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(m)}},[r]),c&&o.imageLoadingStatus!=="loaded"?e.jsx(dt.span,{...n,ref:s}):null});gN.displayName=xN;function q0(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function nT(t,{referrerPolicy:s,crossOrigin:a}){const r=tT(),n=x.useRef(null),o=r?(n.current||(n.current=new window.Image),n.current):null,[c,d]=x.useState(()=>q0(o,t));return Ta(()=>{d(q0(o,t))},[o,t]),Ta(()=>{const m=h=>()=>{d(h)};if(!o)return;const f=m("loaded"),p=m("error");return o.addEventListener("load",f),o.addEventListener("error",p),s&&(o.referrerPolicy=s),typeof a=="string"&&(o.crossOrigin=a),()=>{o.removeEventListener("load",f),o.removeEventListener("error",p)}},[o,a,s]),c}var vN=fN,yN=hN,bN=gN;const tc=x.forwardRef(({className:t,...s},a)=>e.jsx(vN,{ref:a,className:we("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));tc.displayName=vN.displayName;const qu=x.forwardRef(({className:t,...s},a)=>e.jsx(yN,{ref:a,className:we("aspect-square h-full w-full",t),...s}));qu.displayName=yN.displayName;const ac=x.forwardRef(({className:t,...s},a)=>e.jsx(bN,{ref:a,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));ac.displayName=bN.displayName;const jN=x.forwardRef(({...t},s)=>e.jsx("nav",{ref:s,"aria-label":"breadcrumb",...t}));jN.displayName="Breadcrumb";const wN=x.forwardRef(({className:t,...s},a)=>e.jsx("ol",{ref:a,className:we("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...s}));wN.displayName="BreadcrumbList";const NN=x.forwardRef(({className:t,...s},a)=>e.jsx("li",{ref:a,className:we("inline-flex items-center gap-1.5",t),...s}));NN.displayName="BreadcrumbItem";const SN=x.forwardRef(({asChild:t,className:s,...a},r)=>{const n=t?To:"a";return e.jsx(n,{ref:r,className:we("hover:text-foreground transition-colors focus-visible:outline-none focus-visible:underline",s),...a})});SN.displayName="BreadcrumbLink";const CN=x.forwardRef(({className:t,...s},a)=>e.jsx("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:we("text-foreground font-medium",t),...s}));CN.displayName="BreadcrumbPage";const kN=({children:t,className:s,...a})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:we("[&>svg]:size-3.5",s),...a,children:t||e.jsx(ss,{className:"h-4 w-4"})});kN.displayName="BreadcrumbSeparator";function rc({children:t,sidebar:s,breadcrumbs:a=[]}){var d;const{activeRole:r}=Ps(),{user:n}=un(),{userData:o}=Ps(),c=(o==null?void 0:o.nome)||(n==null?void 0:n.nome)||"Usuário";return e.jsxs(tw,{children:[e.jsx(s,{}),e.jsxs(sw,{children:[e.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl",children:e.jsxs("div",{className:"flex h-16 items-center gap-4 px-6",children:[e.jsx(rw,{className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100"}),e.jsx(lr,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),a.length>0&&e.jsx(jN,{className:"flex-1",children:e.jsx(wN,{children:a.map((m,f)=>e.jsxs("div",{className:"flex items-center",children:[f>0&&e.jsx(kN,{className:"text-slate-400"}),e.jsx(NN,{children:m.href?e.jsx(SN,{href:m.href,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100 font-medium",children:m.label}):e.jsx(CN,{className:"text-slate-900 dark:text-slate-100 font-semibold",children:m.label})})]},f))})}),e.jsxs("div",{className:"relative hidden md:flex items-center max-w-sm",children:[e.jsx(qa,{className:"absolute left-3 size-4 text-slate-400"}),e.jsx(ge,{placeholder:"Buscar...",className:"pl-10 input-medical-primary bg-slate-100 dark:bg-slate-800"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:e.jsx(ph,{className:"size-4"})}),e.jsx(qh,{}),e.jsx(lr,{orientation:"vertical",className:"h-6 bg-slate-200 dark:bg-slate-700"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(tc,{className:"size-8",children:[e.jsx(qu,{src:""}),e.jsx(ac,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white text-sm font-semibold",children:(d=c==null?void 0:c.charAt(0))==null?void 0:d.toUpperCase()})]}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 hidden sm:block",children:c})]})]})]})}),e.jsx("main",{className:"flex-1 p-6 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 min-h-[calc(100vh-4rem)]",children:e.jsx("div",{className:"mx-auto max-w-7xl",children:t})})]})]})}function Je({className:t,variant:s="default",size:a="default",...r}){const n={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground",success:"bg-success text-success-foreground hover:bg-success/80 border-success/20",warning:"bg-warning text-warning-foreground hover:bg-warning/80 border-warning/20",info:"bg-info text-info-foreground hover:bg-info/80 border-info/20",normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent","priority-low":"bg-medical-gray/10 text-medical-gray border-medical-gray/20 hover:bg-medical-gray/20","priority-medium":"bg-medical-orange/10 text-medical-orange border-medical-orange/20 hover:bg-medical-orange/20","priority-high":"bg-medical-red/10 text-medical-red border-medical-red/20 hover:bg-medical-red/20","medical-primary":"bg-medical-primary/10 text-medical-primary border-medical-primary/20 hover:bg-medical-primary/20","medical-secondary":"bg-medical-secondary/10 text-medical-secondary border-medical-secondary/20 hover:bg-medical-secondary/20","medical-accent":"bg-medical-accent/10 text-medical-accent border-medical-accent/20 hover:bg-medical-accent/20"},o={sm:"px-2 py-0.5 text-xs",default:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"};return e.jsx("div",{className:we("inline-flex items-center rounded-full border font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","active:scale-95",n[s],o[a],t),...r})}function _N({status:t,className:s,...a}){const r={active:{variant:"success",text:"Ativo"},inactive:{variant:"secondary",text:"Inativo"},pending:{variant:"warning",text:"Pendente"},critical:{variant:"critical",text:"Crítico"},urgent:{variant:"urgent",text:"Urgente"}},n=r[t]||r.active;return e.jsx(Je,{variant:n.variant,className:we("font-medium",s),...a,children:n.text})}function iT({priority:t,className:s,...a}){const r={low:{variant:"priority-low",text:"Baixa"},medium:{variant:"priority-medium",text:"Média"},high:{variant:"priority-high",text:"Alta"}},n=r[t]||r.low;return e.jsx(Je,{variant:n.variant,className:we("font-medium",s),...a,children:n.text})}const K0={paciente:{header:{title:"Portal Médico",subtitle:"Paciente",icon:Ea},sections:[{label:"Menu Principal",items:[{label:"Perfil",path:"/paciente/perfil",icon:Ea},{label:"Prontuário",path:"/paciente/prontuario",icon:va},{label:"Consultas",path:"/paciente/consultas",icon:ot},{label:"Exames",path:"/paciente/exames",icon:en},{label:"Receitas",path:"/paciente/receitas",icon:en},{label:"Histórico Médico",path:"/paciente/historico-medico",icon:Mb},{label:"Médicos Vinculados",path:"/paciente/medicos",icon:Sa}]}]},medico:{header:{title:"Portal Médico",subtitle:"Médico",icon:bt},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/medico/dashboard",icon:Qf},{label:"Consultas de Hoje",path:"/medico/consultas/hoje",icon:ot},{label:"Consultas",path:"/medico/minhas-consultas",icon:ot},{label:"Meus Pacientes",path:"/medico/meus-pacientes",icon:Sa}]}]},clinica:{header:{title:"Portal Médico",subtitle:"Clínica",icon:Cu},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/clinica/dashboard",icon:PE},{label:"Calendário",path:"/clinica/calendario",icon:ot},{label:"Disponibilidade",path:"/clinica/disponibilidade",icon:pt},{label:"Exames",path:"/clinica/exames",icon:va},{label:"Pacientes",path:"/clinica/pacientes",icon:Sa},{label:"Médicos",path:"/clinica/medicos",icon:bt},{label:"Relatórios",path:"/clinica/relatorios",icon:Il}]}]},secretaria:{header:{title:"Portal Médico",subtitle:"Secretaria",icon:Sa},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/secretaria/dashboard",icon:Qf},{label:"Consultas",path:"/secretaria/consultas",icon:ot},{label:"Pacientes",path:"/secretaria/pacientes",icon:Sa},{label:"Médicos",path:"/secretaria/medicos",icon:bt},{label:"Solicitações",path:"/secretaria/solicitacoes",icon:v0}]}]},admin:{header:{title:"Portal Médico",subtitle:"Admin",icon:is},sections:[{label:"Painel",items:[{label:"Dashboard",path:"/admin/dashboard",icon:Qf},{label:"Relatórios",path:"/admin/relatorios",icon:Il},{label:"Auditoria",path:"/admin/auditoria",icon:is}]},{label:"Gerenciar",items:[{label:"Solicitações",path:"/admin/solicitacoes",icon:v0},{label:"Usuários",path:"/admin/usuarios",icon:Sa},{label:"Clínicas",path:"/admin/clinicas",icon:Rs}]},{label:"Telas",items:[{label:"Paciente",path:"/paciente/perfil",icon:Ea},{label:"Médico",path:"/medico/dashboard",icon:bt},{label:"Clínica",path:"/clinica/dashboard",icon:Rs},{label:"Secretaria",path:"/secretaria/dashboard",icon:Sa},{label:"Admin",path:"/admin/dashboard",icon:is}]}]}},Rt={async getPerfil(){var t,s;try{const a="/api/users/",r=St.getCurrentUser();if(!(r!=null&&r.id))throw new Error("Usuário não encontrado na sessão. Faça login novamente.");const n=a.endsWith("/")?a:`${a}/`;console.log("[DEBUG] Buscando perfil do usuário via:",`${n}${r.id}/`);const o=await ce.get(`${n}${r.id}/`);return console.log("[DEBUG] Perfil do usuário carregado:",o.data),o.data}catch(a){console.error("[DEBUG] Erro ao buscar perfil do usuário:",(t=a==null?void 0:a.response)==null?void 0:t.status,(s=a==null?void 0:a.response)==null?void 0:s.data);const r=St.getCurrentUser();if(r)return console.log("[DEBUG] Usando dados do usuário do storage como fallback:",r),r;throw a}},async atualizarPerfil(t){var s,a;try{const r="/api/users/",n=St.getCurrentUser();if(!(n!=null&&n.id))throw new Error("Usuário não encontrado na sessão. Faça login novamente.");const o=r.endsWith("/")?r:`${r}/`,c={...t};return c.first_name===void 0&&c.nome&&(c.first_name=String(c.nome).split(" ")[0]||""),c.last_name===void 0&&c.nome&&(c.last_name=String(c.nome).split(" ").slice(1).join(" ")||""),c.telefone===void 0&&c.phone&&(c.telefone=c.phone),c.endereco===void 0&&c.address&&(c.endereco=c.address),delete c.nome,delete c.phone,delete c.address,Object.keys(c).forEach(m=>{c[m]===void 0&&delete c[m]}),(await ce.patch(`${o}${n.id}/`,c)).data}catch(r){throw console.error("[DEBUG] Erro ao atualizar perfil do usuário:",(s=r==null?void 0:r.response)==null?void 0:s.status,(a=r==null?void 0:r.response)==null?void 0:a.data),r}},async getConsultas(t={}){var s,a;try{const r="/api/consultas/";console.log("[DEBUG] Endpoint de consultas:",r);const n=await this.getPacienteDoUsuario();console.log("[DEBUG] Paciente encontrado:",n);const o={...t};if(n!=null&&n.id&&!o.paciente&&(o.paciente=n.id),console.log("[DEBUG] Query params:",o),!(n!=null&&n.id)&&Object.keys(o).length===0)return console.log("[DEBUG] Sem paciente e sem filtros, retornando array vazio"),{results:[]};console.log("[DEBUG] Fazendo requisição para:",r,"com params:",o);const c=await ce.get(r,{params:o});return console.log("[DEBUG] Resposta da API recebida:",c.data),c.data}catch(r){return console.warn("[pacienteService] getConsultas falhou:",(s=r==null?void 0:r.response)==null?void 0:s.status,(a=r==null?void 0:r.response)==null?void 0:a.data),console.error("[DEBUG] Erro completo:",r),{results:[]}}},async getExames(t={}){var s;try{const a="/api/exames/",r=await this.getPacienteDoUsuario().catch(()=>null),n={...t};return r!=null&&r.id&&!n.paciente&&(n.paciente=r.id),!(r!=null&&r.id)&&Object.keys(n).length===0?{results:[]}:(await ce.get(a,{params:n})).data}catch(a){return console.warn("[pacienteService] getExames falhou:",(s=a==null?void 0:a.response)==null?void 0:s.status),{results:[]}}},async getProntuario(t={}){var s;try{const a="/prontuarios/",r=await this.getPacienteDoUsuario().catch(()=>null),n={...t};return r!=null&&r.id&&!n.paciente&&(n.paciente=r.id),!(r!=null&&r.id)&&Object.keys(n).length===0?{results:[]}:(await ce.get(a,{params:n})).data}catch(a){return console.warn("[pacienteService] getProntuario falhou:",(s=a==null?void 0:a.response)==null?void 0:s.status),{results:[]}}},async getMedicos(t={}){return(await ce.get("/api/medicos/",{params:t})).data},async getMedicoById(t){const s="/api/medicos/",a=s.endsWith("/")?s:`${s}/`;return(await ce.get(`${a}${t}/`)).data},async agendarConsulta({medico:t,data:s,hora:a,modalidade:r,local:n,observacoes:o,tipo:c,motivo:d}){const m="/api/consultas/",f=await this.getPacienteDoUsuario(),p=s?`${s}${a?`T${a}:00`:"T00:00:00"}`:void 0,h={medico:t,paciente:f==null?void 0:f.id,data:s,hora:a,data_hora:p,inicio:p,horario:p,modalidade:r,local:n,observacoes:o,tipo:c,motivo:d};return(await ce.post(m,h)).data},async getAgendaMedico({medico:t,date:s,apenas_disponiveis:a=!0}){const r="/api/medicos/",n=r.endsWith("/")?r:`${r}/`,o={};s&&(o.date=s),a&&(o.apenas_disponiveis=!0);const c=await ce.get(`${n}${t}/agenda/`,{params:o}),d=(c==null?void 0:c.data)||[];return Array.isArray(d)?d:Array.isArray(d==null?void 0:d.results)?d.results:[]},async getPacienteDoUsuario(){var a;const t="/api/pacientes/",s=t.endsWith("/")?t:`${t}/`;try{const r=St.getCurrentUser(),n=(r==null?void 0:r.id)||(r==null?void 0:r.user_id);if(n){const o=await ce.get(s,{params:{user:n,user_id:n}}),c=Array.isArray(o==null?void 0:o.data)?o.data:Array.isArray((a=o==null?void 0:o.data)==null?void 0:a.results)?o.data.results:[],d=(c==null?void 0:c[0])||null;if(d)return d}}catch{}try{return(await ce.get(`${s}me/`)).data}catch{}throw new Error("Paciente não encontrado para o usuário atual.")},async atualizarPaciente(t){var n,o;const s="/api/pacientes/",a=s.endsWith("/")?s:`${s}/`,r={};if(t==null||typeof t!="object")throw new Error("Dados inválidos para atualização do paciente");"nome"in t&&(r.nome=String(t.nome||"").trim()),"first_name"in t&&(r.first_name=String(t.first_name||"").trim()),"last_name"in t&&(r.last_name=String(t.last_name||"").trim()),"telefone"in t&&(r.telefone=((o=(n=t.telefone)==null?void 0:n.trim)==null?void 0:o.call(n))||""),"data_nascimento"in t&&(r.data_nascimento=t.data_nascimento),Object.keys(r).forEach(c=>{r[c]===void 0&&delete r[c]});try{return(await ce.patch(`${a}me/`,r)).data}catch{const d=await this.getPacienteDoUsuario();if(!(d!=null&&d.id))throw new Error("Paciente não identificado para atualização.");return(await ce.patch(`${a}${d.id}/`,r)).data}},async getReceitas(t={}){var d;const s="".trim();if(!s)return{results:[]};const a=s.endsWith("/")?s:`${s}/`,{__propagateErrors:r,...n}=t||{},o={...n};let c=null;try{const m=await this.getPacienteDoUsuario().catch(()=>null);m!=null&&m.id&&(c=m.id,o.paciente||(o.paciente=m.id))}catch{}if(!c&&Object.keys(o).length===0)return{results:[]};try{const m=await ce.get(a,{params:o}),f=m==null?void 0:m.data,p=Array.isArray(f)?f:Array.isArray(f==null?void 0:f.results)?f.results:[];let h=[];try{const w=JSON.parse(localStorage.getItem("mock_receitas")||"[]");if(Array.isArray(w)){const C=o.paciente||c;h=C?w.filter(S=>{var k;return String(S.paciente_id||((k=S.consulta)==null?void 0:k.paciente_id)||"")===String(C)}):w}}catch{}const g=new Map;[...p,...h].forEach(w=>{if(!w)return;const C=w.id??`${w.created_at}-${w.medicamentos}`;g.has(C)||g.set(C,w)});const j=Array.from(g.values()),b=w=>{if(!w||/^https?:\/\//i.test(w)||/^(data|blob):/i.test(w))return w;const C="http://127.0.0.1:8000".replace(/\/$/,""),S=w.startsWith("/")?w:`/${w}`;return`${C}${S}`};return{results:j.map(w=>{var S;const C=w.arquivo_assinado||w.arquivoAssinado||((S=w==null?void 0:w.arquivo)==null?void 0:S.url)||(w==null?void 0:w.pdf_url)||(w==null?void 0:w.download_url);return C&&!w.arquivo_assinado?{...w,arquivo_assinado:b(C)}:w.arquivo_assinado?{...w,arquivo_assinado:b(w.arquivo_assinado)}:w})}}catch(m){const f=(d=m==null?void 0:m.response)==null?void 0:d.status;if(r===!0&&f&&![404,405,500].includes(f))throw m;return{results:[]}}},async getMedicosVinculados(){const t="/api/pacientes/",s=t.endsWith("/")?t:`${t}/`,a=await this.getPacienteDoUsuario();if(!(a!=null&&a.id))return[];const r=await ce.get(`${s}${a.id}/medicos/`);return Array.isArray(r.data)?r.data:[]},async solicitarReceita({medico:t,mensagem:s,receita:a}){const r="/api/pacientes/",n=r.endsWith("/")?r:`${r}/`,o=await this.getPacienteDoUsuario();if(!(o!=null&&o.id))throw new Error("Paciente não identificado.");const c={medico:t,...s?{mensagem:s}:{},...a?{receita:a,receita_id:a}:{}};return(await ce.post(`${n}${o.id}/solicitar_receita/`,c)).data},async solicitarRenovacao({medico:t,mensagem:s,receita:a}){var f;const r="/api/pacientes/",n=r.endsWith("/")?r:`${r}/`,o=await this.getPacienteDoUsuario();if(!(o!=null&&o.id))throw new Error("Paciente não identificado.");const c={medico:t,tipo:"renovacao",...s?{mensagem:s}:{},...a?{receita:a,receita_id:a}:{}},d=[`${n}${o.id}/solicitar_renovacao/`,`${n}${o.id}/solicitacoes/renovacao/`,`${n}${o.id}/renovar_receita/`,`${n}${o.id}/solicitacao/receita/renovacao/`];let m;for(const p of d)try{return(await ce.post(p,c)).data}catch(h){m=h;const g=(f=h==null?void 0:h.response)==null?void 0:f.status;if(g&&![404,405].includes(g))break}throw m||new Error("Não foi possível enviar a solicitação de renovação.")},async getDashboard(){var t;try{const s=new Date,a=S=>Array.isArray(S==null?void 0:S.results)?S.results:Array.isArray(S)?S:[],[r,n,o,c]=await Promise.all([this.getConsultas().catch(()=>({results:[]})),this.getExames().catch(()=>({results:[]})),this.getReceitas().catch(()=>({results:[]})),this.getMedicosVinculados().catch(()=>[])]),d=a(r),m=a(n),f=a(o),p=S=>{const k=new Date(S),P=k.getMonth(),R=k.getFullYear();return P===s.getMonth()&&R===s.getFullYear()},h=d.map(S=>{var k,P;return{id:S.id||S.consulta_id,data_hora:S.data_hora||S.horario||S.inicio||S.data||S.start_time||null,status:S.status||"Agendada",tipo:S.tipo||S.modalidade||"Consulta",especialidade:S.especialidade||S.medico_especialidade||null,medico_nome:S.medico_nome||((k=S==null?void 0:S.medico)==null?void 0:k.nome)||((P=S==null?void 0:S.medico)!=null&&P.user?[S.medico.user.first_name,S.medico.user.last_name].filter(Boolean).join(" ").trim():void 0)}}),g=h.filter(S=>S.data_hora&&new Date(S.data_hora)>=s).sort((S,k)=>new Date(S.data_hora)-new Date(k.data_hora)).slice(0,5),j=h.filter(S=>S.data_hora&&p(S.data_hora)).length,b=m.map(S=>({id:S.id,tipo:S.tipo||S.nome||S.categoria||"Exame",status:S.status||S.situacao||"Pendente",data_agendamento:S.data_agendamento||S.agendamento||S.data||null,medico_solicitante:S.medico_solicitante||S.medico||void 0})),y=b.filter(S=>S.data_agendamento&&new Date(S.data_agendamento)>=s).sort((S,k)=>new Date(S.data_agendamento)-new Date(k.data_agendamento)).slice(0,5),w=b.filter(S=>p(S.data_agendamento)&&["realizado","concluido","concluído","finalizado"].includes(String(S.status).toLowerCase())).length,C=a(f).filter(S=>["ativa","valida","válida"].includes(String(S.status||S.situacao||"").toLowerCase())).length;return{consultasMes:j,consultasProximas:g.length,examesPendentes:b.filter(S=>String(S.status).toLowerCase()==="pendente").length,examesRealizadosMes:w,receitasAtivas:C,medicosVinculados:Array.isArray(c)?c.length:0,proximasConsultas:g,proximosExames:y}}catch(s){return console.warn("[pacienteService] getDashboard fallback falhou:",(t=s==null?void 0:s.response)==null?void 0:t.status),null}},async garantirPacienteDoUsuario(t={}){var n,o;try{const c=await this.getPacienteDoUsuario();if(c!=null&&c.id)return c}catch{}const s="/api/pacientes/",a=s.endsWith("/")?s:`${s}/`,r={...t};Object.keys(r).forEach(c=>{r[c]===void 0&&delete r[c]});try{return(await ce.post(`${a}me/`,r)).data}catch(c){console.debug("[pacienteService] POST /pacientes/me/ falhou:",(n=c==null?void 0:c.response)==null?void 0:n.status)}try{const c=await ce.post(a,r);if(c!=null&&c.data)return c.data}catch(c){console.debug("[pacienteService] POST /pacientes/ falhou:",(o=c==null?void 0:c.response)==null?void 0:o.status)}try{const c=await this.getPacienteDoUsuario();if(c!=null&&c.id)return c}catch{}throw new Error("Não foi possível criar o perfil de paciente para o usuário atual.")}};function sc({role:t="paciente"}){var O,I;const s=Pa(),a=Fa(),{user:r,logout:n}=un(),{logout:o}=Ps(),c=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.tipo)==="admin",d=K0[t]||K0.paciente,[m,f]=x.useState(""),[p,h]=x.useState(3),[g,j]=x.useState(!1),[b,y]=x.useState(null),[w,C]=x.useState(t==="paciente");x.useEffect(()=>{let z=!0;if(t!=="paciente"){y(null),C(!1);return}return(async()=>{try{const B=await Rt.getPacienteDoUsuario();z&&y(B||null)}catch{z&&y(null)}finally{z&&C(!1)}})(),()=>{z=!1}},[t]);const S=[{title:"Paciente",path:"/paciente/perfil",icon:Ea},{title:"Médico",path:"/medico/dashboard",icon:bt},{title:"Clínica",path:"/clinica/dashboard",icon:Rs},{title:"Secretaria",path:"/secretaria/dashboard",icon:YE},{title:"Admin",path:"/admin/dashboard",icon:is}],k=async()=>{try{await n(),await o(),a("/login")}catch(z){console.error("Erro ao fazer logout:",z)}},P=x.useMemo(()=>w?"Carregando...":t==="paciente"&&b?b.nome||"Paciente":(r==null?void 0:r.nome)||(r==null?void 0:r.name)||"Usuário",[r,b,w,t]),R=x.useMemo(()=>w?"...":t==="paciente"&&b?b.cpf?`CPF: ${b.cpf}`:"Paciente":(r==null?void 0:r.email)||d.header.subtitle,[r,b,w,t,d]),D=x.useMemo(()=>t==="paciente"&&(b!=null&&b.foto)?b.foto:(r==null?void 0:r.avatar)||(r==null?void 0:r.foto)||null,[r,b,t]),E=d.header.icon;return e.jsxs(aw,{className:"medical-sidebar group border-r border-medical-border/20 bg-gradient-to-b from-medical-background to-medical-background/95 backdrop-blur-xl",children:[e.jsxs(nw,{className:"border-b border-medical-border/10 bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-gradient-to-br from-medical-primary to-medical-secondary shadow-lg",children:e.jsx(jo,{className:"size-5 text-white"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-lg font-bold text-medical-primary bg-gradient-to-r from-medical-primary to-medical-secondary bg-clip-text text-transparent",children:d.header.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"size-3 text-medical-secondary"}),e.jsx("span",{className:"text-xs font-medium text-medical-secondary uppercase tracking-wider",children:d.header.subtitle})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(qa,{className:we("absolute left-3 top-1/2 -translate-y-1/2 size-4 transition-colors duration-200",g?"text-medical-primary":"text-muted-foreground")}),e.jsx(ge,{placeholder:"Buscar pacientes, exames...",value:m,onChange:z=>f(z.target.value),onFocus:()=>j(!0),onBlur:()=>j(!1),className:we("pl-10 pr-4 h-10 bg-medical-background/50 border-medical-border/30","focus:border-medical-primary/50 focus:ring-medical-primary/20","placeholder:text-muted-foreground/70")})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Z,{size:"sm",variant:"btn-medical-ghost",className:"h-8 px-3 text-xs",children:[e.jsx(Wn,{className:"size-3 mr-1"}),"Novo"]}),e.jsxs(Z,{size:"sm",variant:"btn-medical-ghost",className:"h-8 px-3 text-xs",children:[e.jsx(ot,{className:"size-3 mr-1"}),"Agenda"]})]}),e.jsxs(Z,{size:"sm",variant:"ghost",className:"relative h-8 w-8 p-0 hover:bg-medical-primary/10",children:[e.jsx(ph,{className:"size-4"}),p>0&&e.jsx("span",{className:"absolute -top-1 -right-1 size-4 bg-medical-red text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:p})]})]})]}),e.jsxs(ow,{className:"px-3 py-4 space-y-6",children:[t==="paciente"&&b&&e.jsxs("div",{className:"px-3 py-4 rounded-xl bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border border-medical-border/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-medical-primary",children:"Status do Paciente"}),e.jsx(_N,{status:"active",size:"sm"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Última consulta: ",new Date().toLocaleDateString()]})]}),d.sections.map((z,B)=>e.jsxs($p,{className:"space-y-3",children:[z.label&&e.jsxs(zp,{className:"text-medical-secondary/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[e.jsx(hr,{className:"size-3"}),z.label]}),e.jsx(Bp,{children:e.jsx(Up,{className:"space-y-1",children:(z.items||[]).map((Y,$)=>{const M=Y.icon,G=s.pathname===Y.path;return e.jsx(Hp,{children:e.jsx(Vp,{asChild:!0,isActive:G,className:we("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-medical-primary/10 hover:shadow-sm",G&&["bg-gradient-to-r from-medical-primary/15 to-medical-secondary/10","border-l-4 border-medical-primary shadow-sm","text-medical-primary font-medium"]),children:e.jsxs(it,{to:Y.path,className:"flex items-center gap-3 w-full",children:[M&&e.jsx("div",{className:we("flex items-center justify-center size-8 rounded-lg transition-all duration-200",G?"bg-medical-primary/20 text-medical-primary":"bg-medical-background/50 text-muted-foreground group-hover:bg-medical-primary/10 group-hover:text-medical-primary"),children:e.jsx(M,{className:"size-4"})}),e.jsx("span",{className:"font-medium flex-1",children:Y.label}),Y.badge&&e.jsx(Je,{variant:"medical-secondary",size:"sm",className:"ml-auto animate-pulse",children:Y.badge})]})})},`${Y.label}-${$}`)})})})]},`${z.label}-${B}`)),c&&t!=="admin"&&e.jsxs($p,{className:"space-y-3",children:[e.jsxs(zp,{className:"text-amber-600/80 text-xs font-semibold uppercase tracking-wider flex items-center gap-2 px-3",children:[e.jsx(is,{className:"size-3"}),"Acesso Administrativo"]}),e.jsx(Bp,{children:e.jsx(Up,{className:"space-y-1",children:S.map((z,B)=>{const Y=z.icon,$=s.pathname===z.path;return e.jsx(Hp,{children:e.jsx(Vp,{asChild:!0,isActive:$,className:we("group relative h-11 px-3 rounded-xl transition-all duration-200","hover:bg-amber-500/10 hover:shadow-sm",$&&["bg-gradient-to-r from-amber-500/15 to-orange-500/10","border-l-4 border-amber-500 shadow-sm","text-amber-600 font-medium"]),children:e.jsxs(it,{to:z.path,className:"flex items-center gap-3 w-full",children:[Y&&e.jsx("div",{className:we("flex items-center justify-center size-8 rounded-lg transition-all duration-200",$?"bg-amber-500/20 text-amber-600":"bg-amber-50 text-amber-600/70 group-hover:bg-amber-500/10 group-hover:text-amber-600"),children:e.jsx(Y,{className:"size-4"})}),e.jsx("span",{className:"font-medium flex-1",children:z.title}),e.jsx(Je,{variant:"warning",size:"sm",className:"ml-auto",children:"Admin"})]})})},`admin-${z.title}-${B}`)})})})]})]}),e.jsxs(iw,{className:"border-t border-medical-border/20 bg-gradient-to-r from-medical-background/80 to-medical-background/60 backdrop-blur-xl p-4",children:[e.jsxs(cN,{children:[e.jsx(dN,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-medical-background/50 to-medical-background/30 hover:from-medical-primary/5 hover:to-medical-secondary/5 transition-all duration-300 cursor-pointer group hover:shadow-lg border border-medical-border/10 hover:border-medical-primary/20",children:[e.jsxs(tc,{className:"size-10 ring-2 ring-medical-border/20 group-hover:ring-medical-primary/30 transition-all duration-300",children:[e.jsx(qu,{src:D}),e.jsx(ac,{className:"bg-gradient-to-br from-medical-primary via-medical-secondary to-medical-accent text-white font-semibold",children:(I=(O=P||"U")==null?void 0:O.charAt(0))==null?void 0:I.toUpperCase()})]}),e.jsxs("div",{className:"flex flex-col gap-0.5 leading-tight flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-semibold text-medical-primary truncate group-hover:text-medical-primary/80 transition-colors",children:P}),e.jsx("span",{className:"text-xs text-muted-foreground truncate group-hover:text-medical-secondary transition-colors",children:R})]}),e.jsx(hh,{className:"size-4 text-muted-foreground group-hover:text-medical-primary transition-all duration-300 group-hover:rotate-180"})]})}),e.jsxs(Yh,{align:"end",className:"w-64 bg-medical-background/95 backdrop-blur-xl border-medical-border/20",children:[e.jsx(uN,{className:"text-medical-primary font-semibold",children:"Minha Conta"}),e.jsx(qp,{className:"bg-medical-border/20"}),e.jsxs(Qs,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[e.jsx(Ea,{className:"size-4 mr-2 text-medical-primary"}),"Perfil"]}),e.jsxs(Qs,{onClick:()=>a(`/${t}/configuracoes`),className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[e.jsx(Xd,{className:"size-4 mr-2 text-medical-primary"}),"Configurações"]}),e.jsxs(Qs,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[e.jsx(FE,{className:"size-4 mr-2 text-medical-primary"}),"Tema"]}),e.jsxs(Qs,{className:"hover:bg-medical-primary/10 focus:bg-medical-primary/10",children:[e.jsx(DE,{className:"size-4 mr-2 text-medical-primary"}),"Ajuda"]}),e.jsx(qp,{className:"bg-medical-border/20"}),e.jsxs(Qs,{onClick:k,className:"text-medical-red hover:bg-medical-red/10 focus:bg-medical-red/10",children:[e.jsx(AE,{className:"size-4 mr-2"}),"Sair"]})]})]}),e.jsx(lr,{className:"bg-medical-border/20"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"size-2 bg-medical-green rounded-full animate-pulse"}),e.jsx("span",{children:"Sistema Online"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"size-3"}),e.jsx("span",{children:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})]})]})}function oT(){const t=Pa(),s=Fa(),[a,r]=x.useState(null),[n,o]=x.useState(!0),c=x.useRef(!1),d=async()=>{try{const h=await Rt.getPerfil();r(h)}catch{}finally{o(!1)}};x.useEffect(()=>{let h=!0;return(async()=>h&&(o(!0),await d()))(),()=>{h=!1}},[]);const m=!!a&&(!(a!=null&&a.data_nascimento)||!(a!=null&&a.endereco)||!(a!=null&&a.telefone));x.useEffect(()=>((async()=>t.pathname!=="/paciente/perfil"&&(c.current=!0,o(!0),await d(),c.current=!1))(),()=>{}),[t.pathname]),x.useEffect(()=>{c.current||!n&&m&&t.pathname!=="/paciente/perfil"&&s("/paciente/perfil",{replace:!0})},[n,m,t.pathname,s]);const f=x.useMemo(()=>{const h=t.pathname,g={"/paciente/perfil":"Perfil","/paciente/prontuario":"Prontuário","/paciente/consultas":"Consultas","/paciente/exames":"Exames","/paciente/receitas":"Receitas","/paciente/historico-medico":"Histórico Médico","/paciente/medicos":"Médicos Vinculados","/paciente/configuracoes":"Configurações"},j=g[h]||Object.keys(g).find(b=>h.startsWith(b))&&g[Object.keys(g).find(b=>h.startsWith(b))]||"Perfil";return[{label:"Área do Paciente",href:"/paciente/perfil"},{label:j}]},[t.pathname]),p=()=>e.jsx(sc,{role:"paciente"});return e.jsx(rc,{sidebar:p,breadcrumbs:f,children:e.jsx(Vl,{})})}function lT(){const t=()=>e.jsx(sc,{role:"medico"});return e.jsx(rc,{sidebar:t,children:e.jsx(Vl,{})})}function EN({breadcrumbs:t}){const s=()=>e.jsx(sc,{role:"clinica"});return e.jsx(rc,{sidebar:s,breadcrumbs:t,children:e.jsx(Vl,{})})}function cT(){const t=()=>e.jsx(sc,{role:"admin"});return e.jsx(rc,{sidebar:t,children:e.jsx(Vl,{})})}var dT="Label",DN=x.forwardRef((t,s)=>e.jsx(dt.label,{...t,ref:s,onMouseDown:a=>{var n;a.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));DN.displayName=dT;var uT=DN;const mT=Su("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=x.forwardRef(({className:t,...s},a)=>e.jsx(uT,{ref:a,className:we(mT(),t),...s}));ue.displayName="Label";const ne=x.forwardRef(({className:t,variant:s="default",...a},r)=>{const n={default:"card-medical",elevated:"card-elevated",medical:"card-medical",priority:"card-medical"};return e.jsx("div",{ref:r,className:we("animate-fade-in",n[s],t),...a})});ne.displayName="Card";const pe=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:we("flex flex-col space-y-2 p-6 pb-4",t),...s}));pe.displayName="CardHeader";const he=x.forwardRef(({className:t,level:s="h3",...a},r)=>{const n=s;return e.jsx(n,{ref:r,className:we("text-xl font-semibold leading-tight tracking-tight text-heading-foreground","flex items-center gap-2",t),...a})});he.displayName="CardTitle";const rt=x.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:we("text-sm text-muted-foreground leading-relaxed",t),...s}));rt.displayName="CardDescription";const ie=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:we("p-6 pt-0 space-y-4",t),...s}));ie.displayName="CardContent";const fT=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:we("flex items-center justify-between p-6 pt-0 border-t border-border/50 mt-4",t),...s}));fT.displayName="CardFooter";const pT=x.forwardRef(({className:t,status:s="normal",children:a,...r},n)=>{const o={normal:"status-normal",attention:"status-attention",critical:"status-critical",urgent:"status-urgent"};return e.jsx("div",{ref:n,className:we("status-badge",o[s],t),...r,children:a})});pT.displayName="CardStatus";const hT=x.forwardRef(({className:t,priority:s="low",children:a,...r},n)=>{const o={low:"card-priority-low",medium:"card-priority-medium",high:"card-priority-high"};return e.jsx("div",{ref:n,className:we("card-medical",o[s],t),...r,children:a})});hT.displayName="CardPriority";const xT=5;let up=0;function gT(){return up=(up+1)%Number.MAX_SAFE_INTEGER,up.toString()}const zn={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},Ld=[];let Fd={toasts:[]};function $d(t){Fd=vT(Fd,t),Ld.forEach(s=>{s(Fd)})}function vT(t,s){switch(s.type){case zn.ADD_TOAST:return{...t,toasts:[s.toast,...t.toasts].slice(0,xT)};case zn.UPDATE_TOAST:return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case zn.DISMISS_TOAST:return{...t,toasts:t.toasts.map(a=>a.id===s.toastId||s.toastId===void 0?{...a,open:!1}:a)};case zn.REMOVE_TOAST:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}}function yT({...t}){const s=gT(),a=n=>$d({type:zn.UPDATE_TOAST,toast:{...n,id:s}}),r=()=>$d({type:zn.DISMISS_TOAST,toastId:s});return $d({type:zn.ADD_TOAST,toast:{...t,id:s,open:!0,onOpenChange:n=>{n||r()}}}),{id:s,dismiss:r,update:a}}function ta(){const[t,s]=x.useState(Fd);return x.useEffect(()=>(Ld.push(s),()=>{const a=Ld.indexOf(s);a>-1&&Ld.splice(a,1)}),[t]),{...t,toast:yT,dismiss:a=>$d({type:zn.DISMISS_TOAST,toastId:a})}}const Gh={EMAIL:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,PASSWORD:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,NAME:/^[a-zA-ZÀ-ÿ\s]{2,50}$/};function Di(t){return typeof t!="string"?t:t.replace(/<\/?(?:script|iframe|object|embed|form|input|button|link|meta|style|base|applet)[^>]*>/gi,"").replace(/\s*on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:|vbscript:|data:/gi,"").replace(/[\x00-\x1F\x7F]/g,"").slice(0,1e4)}function PN(t){if(!t||typeof t!="string")return{isValid:!1,error:"Email é obrigatório"};const s=Di(t.trim().toLowerCase());return Gh.EMAIL.test(s)?s.length>254?{isValid:!1,error:"Email muito longo"}:{isValid:!0,value:s}:{isValid:!1,error:"Email inválido"}}function bT(t){if(!t||typeof t!="string")return{isValid:!1,error:"CPF é obrigatório"};const s=Di(t.replace(/\D/g,""));if(s.length!==11)return{isValid:!1,error:"CPF deve ter 11 dígitos"};if(/^(\d)\1{10}$/.test(s))return{isValid:!1,error:"CPF inválido"};let a=0;for(let n=0;n<9;n++)a+=parseInt(s.charAt(n))*(10-n);let r=a*10%11;if((r===10||r===11)&&(r=0),r!==parseInt(s.charAt(9)))return{isValid:!1,error:"CPF inválido"};a=0;for(let n=0;n<10;n++)a+=parseInt(s.charAt(n))*(11-n);return r=a*10%11,(r===10||r===11)&&(r=0),r!==parseInt(s.charAt(10))?{isValid:!1,error:"CPF inválido"}:{isValid:!0,value:s}}function jT(t){return!t||typeof t!="string"?{isValid:!1,error:"Senha é obrigatória"}:t.length<8?{isValid:!1,error:"Senha deve ter pelo menos 8 caracteres"}:t.length>128?{isValid:!1,error:"Senha muito longa"}:Gh.PASSWORD.test(t)?{isValid:!0,value:t}:{isValid:!1,error:"Senha deve conter pelo menos: 1 letra minúscula, 1 maiúscula, 1 número e 1 caractere especial"}}function wT(t){return!t||typeof t!="string"?{isValid:!1,error:"Senha é obrigatória"}:t.length<1?{isValid:!1,error:"Senha é obrigatória"}:t.length>128?{isValid:!1,error:"Senha muito longa"}:{isValid:!0,value:t}}function NT(t){if(!t||typeof t!="string")return{isValid:!1,error:"Nome é obrigatório"};const s=Di(t.trim());return s.length<2?{isValid:!1,error:"Nome deve ter pelo menos 2 caracteres"}:s.length>100?{isValid:!1,error:"Nome muito longo"}:Gh.NAME.test(s)?{isValid:!0,value:s}:{isValid:!1,error:"Nome contém caracteres inválidos"}}function ST(t,s=1e3){if(!t||typeof t!="string")return{isValid:!1,error:"Texto é obrigatório"};const a=Di(t.trim());return a.length===0?{isValid:!1,error:"Texto não pode estar vazio"}:a.length>s?{isValid:!1,error:`Texto deve ter no máximo ${s} caracteres`}:{isValid:!0,value:a}}function CT(){const[t,s]=x.useState({email:"",password:""}),[a,r]=x.useState(!1),[n,o]=x.useState(!1),[c,d]=x.useState({}),{login:m,loginWithGoogle:f}=un(),{toast:p}=ta(),h=Fa(),g=()=>{const R={},D=PN(t.email);D.isValid||(R.email=D.error);const E=wT(t.password);return E.isValid||(R.password=E.error),d(R),Object.keys(R).length===0},j=async R=>{var D,E,O,I,z,B,Y,$,M,G,T;if(R.preventDefault(),!g()){p({title:"Dados inválidos",description:"Por favor, corrija os erros no formulário",variant:"destructive"});return}r(!0);try{const L=await m(t);switch(p({title:"Login realizado com sucesso!",description:`Bem-vindo, ${((D=L.user)==null?void 0:D.first_name)||((E=L.user)==null?void 0:E.username)||((O=L.user)==null?void 0:O.email)||"usuário"}!`}),((I=L.user)==null?void 0:I.role)||((z=L.user)==null?void 0:z.tipo)){case"medico":h("/medico/dashboard");break;case"paciente":h("/paciente/perfil");break;case"clinica":h("/clinica/dashboard");break;case"admin":h("/admin/dashboard");break;default:h("/")}}catch(L){const H=((Y=(B=L.response)==null?void 0:B.data)==null?void 0:Y.error)||((M=($=L.response)==null?void 0:$.data)==null?void 0:M.detail)||((T=(G=L.response)==null?void 0:G.data)==null?void 0:T.message);p({title:"Erro no login",description:H||"Credenciais inválidas",variant:"destructive"})}finally{r(!1)}},b=R=>{const{name:D,value:E}=R.target;s(O=>({...O,[D]:E})),c[D]&&d(O=>{const I={...O};return delete I[D],I})},[y,w]=x.useState(!1),C=x.useRef(null),{setTheme:S,theme:k}=cw(),P=x.useRef(null);return x.useEffect(()=>(P.current=k,S("light"),()=>{P.current&&S(P.current)}),[k,S]),x.useEffect(()=>{if(window.google&&C.current)try{window.google.accounts.id.initialize({client_id:"SEU_CLIENT_ID_REAL.apps.googleusercontent.com",callback:async R=>{var E,O,I,z,B,Y,$,M;const D=R==null?void 0:R.credential;if(D){w(!0);try{const G=await f(D);switch(p({title:"Login com Google realizado!",description:`Bem-vindo, ${((E=G.user)==null?void 0:E.nome)||((O=G.user)==null?void 0:O.first_name)||((I=G.user)==null?void 0:I.username)||((z=G.user)==null?void 0:z.email)||"usuário"}!`}),((B=G.user)==null?void 0:B.role)||((Y=G.user)==null?void 0:Y.tipo)){case"medico":h("/medico/dashboard");break;case"paciente":h("/paciente/perfil");break;case"clinica":h("/clinica/dashboard");break;case"admin":h("/admin/dashboard");break;default:h("/")}}catch(G){p({title:"Erro no login com Google",description:((M=($=G.response)==null?void 0:$.data)==null?void 0:M.message)||"Não foi possível autenticar",variant:"destructive"})}finally{w(!1)}}}}),window.google.accounts.id.renderButton(C.current,{theme:"outline",size:"large",shape:"pill",text:"continue_with",width:320})}catch{}},[f,h,p]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-blue-600/20 rounded-full blur-3xl"})]}),e.jsxs(ne,{className:"w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 relative z-10",children:[e.jsxs(pe,{className:"space-y-1 text-center pb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-medical-primary rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:e.jsx(bt,{className:"w-8 h-8 text-white"})}),e.jsx(he,{className:"text-3xl font-bold text-medical-primary",children:"Portal Médico"}),e.jsx(rt,{className:"text-slate-600 text-base",children:"Acesse sua conta para continuar"})]}),e.jsxs(ie,{className:"space-y-6 px-8 pb-8",children:[e.jsxs("form",{onSubmit:j,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{htmlFor:"email",className:"text-slate-700 font-medium flex items-center gap-2",children:[e.jsx(Ms,{className:"w-4 h-4"}),"Email"]}),e.jsx(ge,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:b,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 ${c.email?"border-red-500 focus:border-red-500":""}`}),c.email&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[e.jsx(xh,{className:"w-4 h-4"}),"Senha"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{id:"password",name:"password",type:n?"text":"password",placeholder:"••••••••",value:t.password,onChange:b,required:!0,className:`h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200 pr-12 ${c.password?"border-red-500 focus:border-red-500":""}`}),e.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 hover:bg-transparent",onClick:()=>o(!n),children:n?e.jsx(kE,{className:"h-4 w-4 text-slate-400"}):e.jsx(_r,{className:"h-4 w-4 text-slate-400"})})]}),c.password&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.password})]}),e.jsx(Z,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",disabled:a,children:a?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Entrando..."]}):"Entrar"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"}),e.jsx("span",{className:"text-sm text-slate-500 font-medium bg-white px-2",children:"ou"}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{ref:C,className:"w-full flex justify-center"})}),!window.google&&e.jsx(Z,{type:"button",variant:"outline",className:"w-full h-12 border-slate-200 hover:bg-slate-50 bg-white/80 backdrop-blur-sm transition-all duration-200",disabled:!0,children:y?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-slate-400/30 border-t-slate-400 rounded-full animate-spin"}),"Conectando..."]}):"Continuar com Google"}),e.jsxs("div",{className:"text-center space-y-3 pt-4",children:[e.jsx(it,{to:"/esqueci-senha",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Esqueceu sua senha?"}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Não tem uma conta?"," ",e.jsx(it,{to:"/registrar",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium transition-colors duration-200",children:"Cadastre-se"})]})]})]})]})]})}function kT(){const t=Fa(),{toast:s}=ta(),[a,r]=x.useState(!1),[n,o]=x.useState("paciente"),[c,d]=x.useState({}),[m,f]=x.useState(!1),[p,h]=x.useState(!1),[g,j]=x.useState({nome:"",email:"",senha:"",confirmSenha:"",cpf:"",nomeClinica:"",cnpj:""}),b=T=>{const L=T.replace(/\D/g,"").slice(0,11),H=L.slice(0,3),Q=L.slice(3,6),te=L.slice(6,9),A=L.slice(9,11);return L.length>9?`${H}.${Q}.${te}-${A}`:L.length>6?`${H}.${Q}.${te}`:L.length>3?`${H}.${Q}`:H},y=T=>{const L=String(T||"").replace(/\D/g,"").slice(0,14),H=L.slice(0,2),Q=L.slice(2,5),te=L.slice(5,8),A=L.slice(8,12),W=L.slice(12,14);return L.length>12?`${H}.${Q}.${te}/${A}-${W}`:L.length>8?`${H}.${Q}.${te}/${A}`:L.length>5?`${H}.${Q}.${te}`:L.length>2?`${H}.${Q}`:H},w=T=>String(T||"").replace(/\D/g,"").slice(0,7),C=T=>{const{name:L,value:H}=T.target;if(c[L]&&d(Q=>({...Q,[L]:void 0})),L==="cpf"){j({...g,cpf:b(H)});return}if(L==="cnpj"){j({...g,cnpj:y(H)});return}j({...g,[L]:H})},S=T=>String(T||"").trim().replace(/\s+/g," ").split(" ").filter(Boolean).map(L=>L.charAt(0).toUpperCase()+L.slice(1).toLowerCase()).join(" "),[k,P]=x.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),R=x.useRef(null),D=x.useRef(null),E=x.useRef(null),O=T=>{const{name:L,value:H}=T.target;c[L]&&d(Q=>({...Q,[L]:void 0})),P(L==="crm"?Q=>({...Q,crm:w(H)}):Q=>({...Q,[L]:H}))},I=(T,L)=>{c[T]&&d(H=>({...H,[T]:void 0})),P(H=>({...H,documentos:{...H.documentos,[T]:L}}))},z=(T,L)=>{P(H=>({...H,documentos:{...H.documentos,[T]:null}})),L!=null&&L.current&&(L.current.value="")},B=T=>{if(!T&&T!==0)return"";const L=["Bytes","KB","MB","GB"];if(T===0)return"0 Byte";const H=Math.floor(Math.log(T)/Math.log(1024));return`${(T/Math.pow(1024,H)).toFixed(1)} ${L[H]}`},Y=({label:T,required:L=!1,icon:H="📄",accept:Q=".pdf,image/*",file:te,onFile:A,onRemove:W,inputRef:re})=>{const[K,J]=x.useState(!1),V=U=>{var le;U.preventDefault(),J(!1);const X=(le=U.dataTransfer.files)==null?void 0:le[0];X&&A(X)};return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base",children:H}),e.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[T," ",L?e.jsx("span",{className:"text-rose-600",children:"*"}):e.jsx("span",{className:"text-slate-400",children:"(opcional)"})]})]}),e.jsx("input",{ref:re,type:"file",accept:Q,className:"hidden",onChange:U=>{var X;return A(((X=U.target.files)==null?void 0:X[0])||null)}}),e.jsxs("div",{onDragOver:U=>{U.preventDefault(),J(!0)},onDragLeave:()=>J(!1),onDrop:V,className:`rounded-lg border-2 p-3 flex items-center justify-between gap-3 transition
            ${K?"border-sky-400 bg-sky-50":"border-dashed border-slate-300 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100 flex items-center justify-center text-lg",children:H}),te?e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:te.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[te.type||"Arquivo"," • ",B(te.size)]})]}):e.jsxs("div",{className:"text-sm text-slate-600",children:["Arraste e solte aqui ou"," ",e.jsx("button",{type:"button",onClick:()=>{var U;return(U=re==null?void 0:re.current)==null?void 0:U.click()},className:"underline text-sky-700 hover:text-sky-800",children:"procurar"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!te&&e.jsx("button",{type:"button",onClick:()=>{var U;return(U=re==null?void 0:re.current)==null?void 0:U.click()},className:"px-3 py-2 rounded-md bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800",children:"Escolher arquivo"}),te&&e.jsx("button",{type:"button",onClick:W,className:"px-3 py-2 rounded-md bg-rose-50 text-rose-700 text-xs font-semibold hover:bg-rose-100",children:"Remover"})]})]})]})};g.email.length===0||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email);const $=()=>{const T={},L=NT(g.nome);L.isValid||(T.nome=L.error);const H=PN(g.email);H.isValid||(T.email=H.error);const Q=jT(g.senha);Q.isValid||(T.senha=Q.error),g.senha!==g.confirmSenha&&(T.confirmSenha="As senhas não conferem");const te=bT(g.cpf);return te.isValid||(T.cpf=te.error),n==="clinica"&&(g.nomeClinica.trim()||(T.nomeClinica="Nome da clínica é obrigatório"),g.cnpj.trim()||(T.cnpj="CNPJ é obrigatório")),n==="medico"&&(k.crm.trim()||(T.crm="CRM é obrigatório"),k.especialidade.trim()||(T.especialidade="Especialidade é obrigatória"),k.documentos.diplomaMedicina||(T.diplomaMedicina="Diploma de Medicina é obrigatório")),T},M=g.confirmSenha.length===0||g.senha.length>0&&g.senha===g.confirmSenha,G=async T=>{var H,Q,te,A,W,re,K,J,V,U;T.preventDefault();const L=$();if(d(L),Object.keys(L).length>0){s({title:"Erro de validação",description:"Por favor, corrija os erros no formulário.",variant:"destructive"});return}r(!0);try{const X=String(g.nome||"").trim().replace(/\s+/g," "),le=S(X),[ve,...Se]=le.split(" "),Re=Se.join(" "),Ee={username:g.nome.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^a-z0-9@.+_-]/g,""),first_name:ve||"",last_name:Re||"",email:g.email,password:g.senha,password_confirm:g.confirmSenha,role:n==="medico"?"paciente":n,desired_role:n,cpf:g.cpf||""};n==="clinica"&&(Ee.nome_clinica=g.nomeClinica,Ee.cnpj=g.cnpj);const Le=await St.register(Ee,{medicoData:n==="medico"?k:void 0});if(n==="medico"){const st=Le==null?void 0:Le.medicoApplication;st!=null&&st.success?s({title:"Solicitação enviada!",description:"Seus dados de médico foram enviados para análise."}):st&&st.success===!1&&(console.error("[RegisterForm] criarSolicitacaoMedico via authService falhou:",st.error),s({title:"Solicitação pendente",description:"Sua conta foi criada, mas não foi possível enviar a solicitação de médico agora. Você poderá concluir depois."}))}s({title:"Registro realizado com sucesso!",description:"Sua conta foi criada. Você pode fazer login agora."}),t("/login")}catch(X){console.error("Erro no registro:",X),console.error("Status do erro:",(H=X.response)==null?void 0:H.status),console.error("Detalhes do erro:",(Q=X.response)==null?void 0:Q.data),console.error("Headers da resposta:",(te=X.response)==null?void 0:te.headers);let le="Erro interno do servidor. Tente novamente.",ve=!1,Se=!1,Re=!1;try{const Ee=(A=X.response)==null?void 0:A.status,Le=((W=X.response)==null?void 0:W.headers)||{},st=Le["content-type"]||Le["Content-Type"]||"",ut=(re=X.response)==null?void 0:re.data,Xt=((typeof ut=="string"?ut:"")||"").toLowerCase(),Ht=Vt=>{Vt==="crm"?le="CRM já cadastrado no sistema. Utilize outro número de CRM.":Vt==="email"?le="E-mail já cadastrado no sistema.":Vt==="cpf"?le="CPF já cadastrado no sistema.":le="Algum campo único já está cadastrado (ex.: CRM, e-mail ou CPF)."};Ee===409&&(Ht("unknown"),Se=!0),ve=String(st).includes("text/html"),(ve||Xt.includes("unique constraint")||Xt.includes("integrityerror"))&&(Xt.includes("crm")?(Ht("crm"),Se=!0,Re=!0):Xt.includes("email")?(Ht("email"),Se=!0):Xt.includes("cpf")&&(Ht("cpf"),Se=!0))}catch{}if((K=X.response)!=null&&K.data){const Ee=X.response.data;if(console.log("Tipo do errorData:",typeof Ee),console.log("ErrorData completo:",JSON.stringify(Ee,null,2)),typeof Ee=="object"){const Le=[];for(const[st,ut]of Object.entries(Ee))Array.isArray(ut)?Le.push(`${st}: ${ut.join(", ")}`):Le.push(`${st}: ${ut}`);Le.length&&(le=Le.join(`
`))}typeof Ee=="string"?/<\/?(html|body|head|table|div|span|style|script)[^>]*>/i.test(Ee)||(le=Ee):Ee.message?le=Ee.message:Ee.email?le=`Email: ${Ee.email[0]}`:Ee.password&&(le=`Senha: ${Ee.password[0]}`)}try{const Ee=(J=X.response)==null?void 0:J.status,Le=((V=X.response)==null?void 0:V.headers)||{},st=Le["content-type"]||Le["Content-Type"]||"",ut=(U=X.response)==null?void 0:U.data,Xt=((typeof ut=="string"?ut:"")||"").toLowerCase(),Ht=Se||Ee===409||Xt.includes("unique constraint")||Xt.includes("integrityerror"),Vt=ve||String(st).includes("text/html"),pa=Re||Xt.includes("crm")||Xt.includes("medico");if(Ht&&(Vt||pa)){try{await St.login({email:g.email,password:g.senha}),await St.logout(),s({title:"Conta criada",description:"Sua conta foi criada, mas houve um problema com os dados de médico (CRM). Faça login para continuar."}),t("/login");return}catch{}s({title:"Conta possivelmente criada",description:le+" — Tente fazer login com seu e-mail e senha."}),t("/login");return}}catch{}s({title:"Erro no registro",description:le,variant:"destructive"})}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur shadow-app-lg rounded-2xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 pt-6 pb-4 bg-app-gradient text-white",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Criar conta"}),e.jsx("p",{className:"text-white/90 text-sm",children:n==="paciente"?"Como paciente":n==="clinica"?"Como clínica":"Como médico"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-slate-100 rounded-lg p-1 grid grid-cols-3 gap-1",children:[e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${n==="paciente"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>o("paciente"),children:"👤 Paciente"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${n==="clinica"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>o("clinica"),children:"🏥 Clínica"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${n==="medico"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>o("medico"),children:"🩺 Médico"})]}),e.jsxs("form",{className:"space-y-4",onSubmit:G,children:[n!=="clinica"?e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome completo"}),e.jsx("input",{type:"text",name:"nome",placeholder:"Seu nome",value:g.nome,onChange:C,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${c.nome?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),c.nome&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:c.nome})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome da clínica"}),e.jsx("input",{type:"text",name:"nomeClinica",placeholder:"Ex.: Clínica Vida",value:g.nomeClinica,onChange:C,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${c.nomeClinica?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),c.nomeClinica&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:c.nomeClinica})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CNPJ"}),e.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",value:g.cnpj,onChange:C,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${c.cnpj?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),c.cnpj&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:c.cnpj})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"E-mail"}),e.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:g.email,onChange:C,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${c.email?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),c.email&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:c.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CPF *"}),e.jsx("input",{type:"text",name:"cpf",placeholder:"000.000.000-00",value:g.cpf,onChange:C,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${c.cpf?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),c.cpf&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:c.cpf})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:m?"text":"password",name:"senha",placeholder:"Crie uma senha",value:g.senha,onChange:C,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${c.senha?"border-rose-300 focus:ring-rose-500":"border-slate-200 focus:ring-sky-500"}`}),e.jsx("button",{type:"button",onClick:()=>f(T=>!T),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":m?"Ocultar senha":"Mostrar senha",children:m?"Ocultar":"Mostrar"})]}),c.senha&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:c.senha})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Confirmar senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:p?"text":"password",name:"confirmSenha",placeholder:"Repita a senha",value:g.confirmSenha,onChange:C,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 transition ${c.confirmSenha?"border-rose-300 focus:ring-rose-500":M?"border-slate-200 focus:ring-sky-500 focus:border-sky-500":"border-amber-300 focus:ring-amber-400"}`}),e.jsx("button",{type:"button",onClick:()=>h(T=>!T),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":p?"Ocultar senha":"Mostrar senha",children:p?"Ocultar":"Mostrar"})]}),c.confirmSenha?e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:c.confirmSenha}):g.confirmSenha.length>0&&e.jsx("p",{className:`mt-1 text-xs ${g.senha===g.confirmSenha?"text-emerald-600":"text-amber-600"}`,children:g.senha===g.confirmSenha?"Senhas conferem.":"As senhas não conferem."})]}),n==="medico"&&e.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[e.jsx("p",{className:"font-semibold",children:"Dados do Médico"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CRM"}),e.jsx("input",{type:"text",name:"crm",placeholder:"CRM",value:k.crm,onChange:O,maxLength:7,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${c.crm?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),c.crm&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:c.crm})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidade"}),e.jsx("input",{type:"text",name:"especialidade",placeholder:"Ex.: Cardiologia",value:k.especialidade,onChange:O,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 ${c.especialidade?"border-rose-300 focus:ring-rose-500":"border-slate-200"}`}),c.especialidade&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:c.especialidade})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituição de Formação"}),e.jsx("input",{type:"text",name:"instituicaoFormacao",placeholder:"Universidade",value:k.instituicaoFormacao,onChange:O,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano de Formação"}),e.jsx("input",{type:"number",name:"anoFormacao",placeholder:"YYYY",value:k.anoFormacao,onChange:O,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Residência (se aplicável)"}),e.jsx("input",{type:"text",name:"residencia",placeholder:"Residência Médica",value:k.residencia,onChange:O,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituição da Residência"}),e.jsx("input",{type:"text",name:"instituicaoResidencia",placeholder:"Instituição",value:k.instituicaoResidencia,onChange:O,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano da Residência"}),e.jsx("input",{type:"number",name:"anoResidencia",placeholder:"YYYY",value:k.anoResidencia,onChange:O,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Experiência"}),e.jsx("textarea",{name:"experiencia",placeholder:"Resumo da experiência",value:k.experiencia,onChange:O,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Motivação"}),e.jsx("textarea",{name:"motivacao",placeholder:"Por que deseja se cadastrar como médico na plataforma?",value:k.motivacao,onChange:O,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium",children:"Documentos"}),e.jsx(Y,{label:"Diploma de Medicina",required:!0,icon:"🎓",accept:".pdf,image/*",file:k.documentos.diplomaMedicina,inputRef:R,onFile:T=>I("diplomaMedicina",T),onRemove:()=>z("diplomaMedicina",R)}),c.diplomaMedicina&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:c.diplomaMedicina}),e.jsx(Y,{label:"Certificado de Residência",icon:"🏅",accept:".pdf,image/*",file:k.documentos.certificadoResidencia,inputRef:D,onFile:T=>I("certificadoResidencia",T),onRemove:()=>z("certificadoResidencia",D)}),e.jsx(Y,{label:"Comprovante de Experiência",icon:"📄",accept:".pdf,image/*",file:k.documentos.comprovanteExperiencia,inputRef:E,onFile:T=>I("comprovanteExperiencia",T),onRemove:()=>z("comprovanteExperiencia",E)})]})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-2 focus-visible:ring-blue-400 shadow-app transition disabled:opacity-70 disabled:cursor-not-allowed",children:a?"Registrando...":`Registrar ${n==="paciente"?"Paciente":n==="clinica"?"Clínica":n==="medico"?"Médico":"Usuário"}`})]})]})]})})}const RN=x.createContext(null);function MN(){const t=x.useContext(RN);if(!t)throw new Error("Tabs components must be used within <Tabs>");return t}const Wr=x.forwardRef(({className:t,value:s,defaultValue:a="",onValueChange:r,children:n,...o},c)=>{const[d,m]=x.useState(a),f=s!==void 0,p=f?s:d,h=g=>{f||m(g),r==null||r(g)};return e.jsx(RN.Provider,{value:{value:p,setValue:h},children:e.jsx("div",{ref:c,className:we("",t),...o,children:n})})});Wr.displayName="Tabs";const Yr=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Yr.displayName="TabsList";const Dt=x.forwardRef(({className:t,value:s,onClick:a,...r},n)=>{const{value:o,setValue:c}=MN(),d=o===s,m=f=>{a==null||a(f),c(s)};return e.jsx("button",{ref:n,"data-state":d?"active":"inactive",className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",d?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",t),onClick:m,...r})});Dt.displayName="TabsTrigger";const Mt=x.forwardRef(({className:t,value:s,forceMount:a=!1,...r},n)=>{const{value:o}=MN();return!a&&o!==s?null:e.jsx("div",{ref:n,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});Mt.displayName="TabsContent";function _T(){const[t,s]=x.useState(""),[a,r]=x.useState(!1),[n,o]=x.useState(!1),[c,d]=x.useState("paciente"),m=Fa(),f=Pa(),{toast:p}=ta();x.useEffect(()=>{const j=new URLSearchParams(f.search).get("role");(j==="clinica"||j==="paciente")&&d(j)},[f]);const h=async g=>{var j,b,y,w;g.preventDefault(),r(!0);try{await St.forgotPassword(t),o(!0),p({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch(C){const S=((b=(j=C==null?void 0:C.response)==null?void 0:j.data)==null?void 0:b.detail)||((w=(y=C==null?void 0:C.response)==null?void 0:y.data)==null?void 0:w.message)||(C==null?void 0:C.message);p({title:"Erro",description:S||"Não foi possível enviar o email. Tente novamente.",variant:"destructive"})}finally{r(!1)}};return n?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),e.jsxs(ne,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[e.jsxs(pe,{className:"space-y-1 text-center pb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 shadow-lg",children:e.jsx(Wa,{className:"h-8 w-8 text-white"})}),e.jsx(he,{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Email Enviado!"}),e.jsxs(rt,{className:"text-lg text-gray-600",children:["Enviamos um link para redefinir sua senha para ",e.jsx("strong",{className:"text-gray-900",children:t})]})]}),e.jsxs(ie,{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-100",children:e.jsx("p",{className:"text-sm text-gray-700 text-center font-medium",children:"Verifique sua caixa de entrada e spam. O link expira em 24 horas."})}),e.jsx(Z,{variant:"outline",className:"w-full h-12 bg-white/50 hover:bg-white/80 border-gray-200 hover:border-gray-300 transition-all duration-200",onClick:()=>o(!1),children:"Enviar para outro email"}),e.jsxs(Z,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200",onClick:()=>m(`/login?role=${c}`),children:[e.jsx(Zs,{className:"mr-2 h-4 w-4"}),"Voltar ao login"]})]})]})]}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),e.jsxs(ne,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[e.jsxs(pe,{className:"space-y-1 pb-8",children:[e.jsx(he,{className:"text-3xl font-bold text-center bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Esqueceu sua senha?"}),e.jsx(rt,{className:"text-center text-lg text-gray-600",children:"Digite seu email para receber um link de redefinição"})]}),e.jsxs(ie,{children:[e.jsx(Wr,{value:c,onValueChange:d,className:"mb-8",children:e.jsxs(Yr,{className:"grid w-full grid-cols-2 bg-gray-100/80 p-1 rounded-xl",children:[e.jsxs(Dt,{value:"paciente",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[e.jsx(Ea,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Paciente"})]}),e.jsxs(Dt,{value:"clinica",className:"flex items-center justify-center gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-md transition-all duration-200",children:[e.jsx(Rs,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Clínica"})]})]})}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ue,{htmlFor:"email",className:"text-sm font-semibold text-gray-700",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(ge,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:g=>s(g.target.value),className:"pl-10 h-12 input-medical-primary bg-white/50 transition-all duration-200",required:!0})]})]}),e.jsx(Z,{type:"submit",className:"w-full h-12 btn-medical-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(TE,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar Link de Redefinição"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(it,{to:`/login?role=${c}`,className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition-colors duration-200 group",children:[e.jsx(Zs,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform duration-200"}),"Voltar ao login"]})})]})]})]})}function ET({children:t}){const{user:s,isAuthenticated:a,loading:r}=un(),n=Pa();if(r)return null;if(!a)return e.jsx(Zt,{to:"/login",state:{from:n},replace:!0});const o=(s==null?void 0:s.role)||(s==null?void 0:s.tipo);return o!=="secretaria"&&o!=="admin"?o==="paciente"?e.jsx(Zt,{to:"/paciente/perfil",replace:!0}):o==="medico"?e.jsx(Zt,{to:"/medico/dashboard",replace:!0}):o==="clinica"?e.jsx(Zt,{to:"/clinica/dashboard",replace:!0}):e.jsx(Zt,{to:"/",replace:!0}):t}function DT(){const t=()=>e.jsx(sc,{role:"secretaria"});return e.jsx(rc,{sidebar:t,children:e.jsx(Vl,{})})}function PT(){const{uid:t,token:s}=Os(),a=Fa(),{toast:r}=ta(),[n,o]=x.useState(""),[c,d]=x.useState(""),[m,f]=x.useState(!1),p=x.useMemo(()=>"http://127.0.0.1:8000".replace(/\/$/,""),[]),h="/api/auth/password_reset_confirm/",g=`${p}/reset/${t}/${s}/`,j=()=>!n||n.length<8?(r({title:"Senha muito curta",description:"Use pelo menos 8 caracteres.",variant:"destructive"}),!1):n!==c?(r({title:"Confirmação",description:"A confirmação não confere com a nova senha.",variant:"destructive"}),!1):!0,b=async y=>{var w,C,S,k,P;if((w=y==null?void 0:y.preventDefault)==null||w.call(y),!!j()){f(!0);try{h&&(await ce.post(h,{uid:t,token:s,new_password:n}),r({title:"Senha redefinida!",description:"Você já pode fazer login."}),a("/login"))}catch(R){const D=((S=(C=R==null?void 0:R.response)==null?void 0:C.data)==null?void 0:S.detail)||((P=(k=R==null?void 0:R.response)==null?void 0:k.data)==null?void 0:P.message)||(R==null?void 0:R.message);r({title:"Não foi possível redefinir",description:D||"Tente novamente.",variant:"destructive"})}finally{f(!1)}}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5"}),e.jsxs(ne,{className:"relative w-full max-w-md shadow-2xl border-0 backdrop-blur-xl bg-white/90 ring-1 ring-white/20",children:[e.jsxs(pe,{className:"space-y-1 text-center pb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-medical-primary rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:e.jsx(UE,{className:"w-8 h-8 text-white"})}),e.jsx(he,{className:"text-3xl font-bold text-medical-primary",children:"Redefinir senha"}),e.jsx(rt,{className:"text-slate-600 text-base",children:"Crie uma nova senha para sua conta."})]}),e.jsxs(ie,{className:"space-y-6 px-8 pb-8",children:[e.jsxs("form",{onSubmit:b,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{htmlFor:"password",className:"text-slate-700 font-medium flex items-center gap-2",children:[e.jsx(xh,{className:"w-4 h-4"}),"Nova senha"]}),e.jsx(ge,{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:y=>o(y.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ue,{htmlFor:"confirm",className:"text-slate-700 font-medium flex items-center gap-2",children:[e.jsx(_s,{className:"w-4 h-4"}),"Confirmar nova senha"]}),e.jsx(ge,{id:"confirm",type:"password",placeholder:"••••••••",value:c,onChange:y=>d(y.target.value),className:"h-12 input-medical-primary bg-white/80 backdrop-blur-sm transition-all duration-200",required:!0})]}),e.jsx(Z,{type:"submit",className:"w-full h-12 btn-medical-primary text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:m,children:m?"Processando...":"Redefinir minha senha"})]}),e.jsxs(Z,{variant:"ghost",className:"w-full h-12 text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200 mt-2",onClick:()=>a("/login"),children:[e.jsx(Zs,{className:"mr-2 h-4 w-4"})," Voltar ao login"]})]})]})]})}function G0(t,[s,a]){return Math.min(a,Math.max(s,t))}function RT(t){const s=x.useRef({value:t,previous:t});return x.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var MT=[" ","Enter","ArrowUp","ArrowDown"],TT=[" ","Enter"],Pi="Select",[Ku,Gu,AT]=Hu(Pi),[Fo,B6]=Is(Pi,[AT,Lo]),Qu=Lo(),[OT,Qn]=Fo(Pi),[IT,LT]=Fo(Pi),TN=t=>{const{__scopeSelect:s,children:a,open:r,defaultOpen:n,onOpenChange:o,value:c,defaultValue:d,onValueChange:m,dir:f,name:p,autoComplete:h,disabled:g,required:j,form:b}=t,y=Qu(s),[w,C]=x.useState(null),[S,k]=x.useState(null),[P,R]=x.useState(!1),D=Fh(f),[E,O]=ki({prop:r,defaultProp:n??!1,onChange:o,caller:Pi}),[I,z]=ki({prop:c,defaultProp:d,onChange:m,caller:Pi}),B=x.useRef(null),Y=w?b||!!w.closest("form"):!0,[$,M]=x.useState(new Set),G=Array.from($).map(T=>T.props.value).join(";");return e.jsx(Mh,{...y,children:e.jsxs(OT,{required:j,scope:s,trigger:w,onTriggerChange:C,valueNode:S,onValueNodeChange:k,valueNodeHasChildren:P,onValueNodeHasChildrenChange:R,contentId:Es(),value:I,onValueChange:z,open:E,onOpenChange:O,dir:D,triggerPointerDownPosRef:B,disabled:g,children:[e.jsx(Ku.Provider,{scope:s,children:e.jsx(IT,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(T=>{M(L=>new Set(L).add(T))},[]),onNativeOptionRemove:x.useCallback(T=>{M(L=>{const H=new Set(L);return H.delete(T),H})},[]),children:a})}),Y?e.jsxs(r1,{"aria-hidden":!0,required:j,tabIndex:-1,name:p,autoComplete:h,value:I,onChange:T=>z(T.target.value),disabled:g,form:b,children:[I===void 0?e.jsx("option",{value:""}):null,Array.from($)]},G):null]})})};TN.displayName=Pi;var AN="SelectTrigger",ON=x.forwardRef((t,s)=>{const{__scopeSelect:a,disabled:r=!1,...n}=t,o=Qu(a),c=Qn(AN,a),d=c.disabled||r,m=Bt(s,c.onTriggerChange),f=Gu(a),p=x.useRef("touch"),[h,g,j]=n1(y=>{const w=f().filter(k=>!k.disabled),C=w.find(k=>k.value===c.value),S=i1(w,y,C);S!==void 0&&c.onValueChange(S.value)}),b=y=>{d||(c.onOpenChange(!0),j()),y&&(c.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return e.jsx(Th,{asChild:!0,...o,children:e.jsx(dt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":s1(c.value)?"":void 0,...n,ref:m,onClick:Ie(n.onClick,y=>{y.currentTarget.focus(),p.current!=="mouse"&&b(y)}),onPointerDown:Ie(n.onPointerDown,y=>{p.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:Ie(n.onKeyDown,y=>{const w=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(w&&y.key===" ")&&MT.includes(y.key)&&(b(),y.preventDefault())})})})});ON.displayName=AN;var IN="SelectValue",LN=x.forwardRef((t,s)=>{const{__scopeSelect:a,className:r,style:n,children:o,placeholder:c="",...d}=t,m=Qn(IN,a),{onValueNodeHasChildrenChange:f}=m,p=o!==void 0,h=Bt(s,m.onValueNodeChange);return Ta(()=>{f(p)},[f,p]),e.jsx(dt.span,{...d,ref:h,style:{pointerEvents:"none"},children:s1(m.value)?e.jsx(e.Fragment,{children:c}):o})});LN.displayName=IN;var FT="SelectIcon",FN=x.forwardRef((t,s)=>{const{__scopeSelect:a,children:r,...n}=t;return e.jsx(dt.span,{"aria-hidden":!0,...n,ref:s,children:r||"▼"})});FN.displayName=FT;var $T="SelectPortal",$N=t=>e.jsx(Ql,{asChild:!0,...t});$N.displayName=$T;var Ri="SelectContent",zN=x.forwardRef((t,s)=>{const a=Qn(Ri,t.__scopeSelect),[r,n]=x.useState();if(Ta(()=>{n(new DocumentFragment)},[]),!a.open){const o=r;return o?Eo.createPortal(e.jsx(BN,{scope:t.__scopeSelect,children:e.jsx(Ku.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),o):null}return e.jsx(UN,{...t,ref:s})});zN.displayName=Ri;var rs=10,[BN,Xn]=Fo(Ri),zT="SelectContentImpl",BT=Ci("SelectContent.RemoveScroll"),UN=x.forwardRef((t,s)=>{const{__scopeSelect:a,position:r="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:o,onPointerDownOutside:c,side:d,sideOffset:m,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:g,collisionPadding:j,sticky:b,hideWhenDetached:y,avoidCollisions:w,...C}=t,S=Qn(Ri,a),[k,P]=x.useState(null),[R,D]=x.useState(null),E=Bt(s,U=>P(U)),[O,I]=x.useState(null),[z,B]=x.useState(null),Y=Gu(a),[$,M]=x.useState(!1),G=x.useRef(!1);x.useEffect(()=>{if(k)return bh(k)},[k]),yh();const T=x.useCallback(U=>{const[X,...le]=Y().map(Re=>Re.ref.current),[ve]=le.slice(-1),Se=document.activeElement;for(const Re of U)if(Re===Se||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===X&&R&&(R.scrollTop=0),Re===ve&&R&&(R.scrollTop=R.scrollHeight),Re==null||Re.focus(),document.activeElement!==Se))return},[Y,R]),L=x.useCallback(()=>T([O,k]),[T,O,k]);x.useEffect(()=>{$&&L()},[$,L]);const{onOpenChange:H,triggerPointerDownPosRef:Q}=S;x.useEffect(()=>{if(k){let U={x:0,y:0};const X=ve=>{var Se,Re;U={x:Math.abs(Math.round(ve.pageX)-(((Se=Q.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((Re=Q.current)==null?void 0:Re.y)??0))}},le=ve=>{U.x<=10&&U.y<=10?ve.preventDefault():k.contains(ve.target)||H(!1),document.removeEventListener("pointermove",X),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",le,{capture:!0})}}},[k,H,Q]),x.useEffect(()=>{const U=()=>H(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[H]);const[te,A]=n1(U=>{const X=Y().filter(Se=>!Se.disabled),le=X.find(Se=>Se.ref.current===document.activeElement),ve=i1(X,U,le);ve&&setTimeout(()=>ve.ref.current.focus())}),W=x.useCallback((U,X,le)=>{const ve=!G.current&&!le;(S.value!==void 0&&S.value===X||ve)&&(I(U),ve&&(G.current=!0))},[S.value]),re=x.useCallback(()=>k==null?void 0:k.focus(),[k]),K=x.useCallback((U,X,le)=>{const ve=!G.current&&!le;(S.value!==void 0&&S.value===X||ve)&&B(U)},[S.value]),J=r==="popper"?Kp:HN,V=J===Kp?{side:d,sideOffset:m,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:g,collisionPadding:j,sticky:b,hideWhenDetached:y,avoidCollisions:w}:{};return e.jsx(BN,{scope:a,content:k,viewport:R,onViewportChange:D,itemRefCallback:W,selectedItem:O,onItemLeave:re,itemTextRefCallback:K,focusSelectedItem:L,selectedItemText:z,position:r,isPositioned:$,searchRef:te,children:e.jsx(Eu,{as:BT,allowPinchZoom:!0,children:e.jsx(ku,{asChild:!0,trapped:S.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:Ie(n,U=>{var X;(X=S.trigger)==null||X.focus({preventScroll:!0}),U.preventDefault()}),children:e.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:e.jsx(J,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:U=>U.preventDefault(),...C,...V,onPlaced:()=>M(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ie(C.onKeyDown,U=>{const X=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!X&&U.key.length===1&&A(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let ve=Y().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(U.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const Se=U.target,Re=ve.indexOf(Se);ve=ve.slice(Re+1)}setTimeout(()=>T(ve)),U.preventDefault()}})})})})})})});UN.displayName=zT;var UT="SelectItemAlignedPosition",HN=x.forwardRef((t,s)=>{const{__scopeSelect:a,onPlaced:r,...n}=t,o=Qn(Ri,a),c=Xn(Ri,a),[d,m]=x.useState(null),[f,p]=x.useState(null),h=Bt(s,E=>p(E)),g=Gu(a),j=x.useRef(!1),b=x.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:C,focusSelectedItem:S}=c,k=x.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&f&&y&&w&&C){const E=o.trigger.getBoundingClientRect(),O=f.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),z=C.getBoundingClientRect();if(o.dir!=="rtl"){const Se=z.left-O.left,Re=I.left-Se,Ee=E.left-Re,Le=E.width+Ee,st=Math.max(Le,O.width),ut=window.innerWidth-rs,He=G0(Re,[rs,Math.max(rs,ut-st)]);d.style.minWidth=Le+"px",d.style.left=He+"px"}else{const Se=O.right-z.right,Re=window.innerWidth-I.right-Se,Ee=window.innerWidth-E.right-Re,Le=E.width+Ee,st=Math.max(Le,O.width),ut=window.innerWidth-rs,He=G0(Re,[rs,Math.max(rs,ut-st)]);d.style.minWidth=Le+"px",d.style.right=He+"px"}const B=g(),Y=window.innerHeight-rs*2,$=y.scrollHeight,M=window.getComputedStyle(f),G=parseInt(M.borderTopWidth,10),T=parseInt(M.paddingTop,10),L=parseInt(M.borderBottomWidth,10),H=parseInt(M.paddingBottom,10),Q=G+T+$+H+L,te=Math.min(w.offsetHeight*5,Q),A=window.getComputedStyle(y),W=parseInt(A.paddingTop,10),re=parseInt(A.paddingBottom,10),K=E.top+E.height/2-rs,J=Y-K,V=w.offsetHeight/2,U=w.offsetTop+V,X=G+T+U,le=Q-X;if(X<=K){const Se=B.length>0&&w===B[B.length-1].ref.current;d.style.bottom="0px";const Re=f.clientHeight-y.offsetTop-y.offsetHeight,Ee=Math.max(J,V+(Se?re:0)+Re+L),Le=X+Ee;d.style.height=Le+"px"}else{const Se=B.length>0&&w===B[0].ref.current;d.style.top="0px";const Ee=Math.max(K,G+y.offsetTop+(Se?W:0)+V)+le;d.style.height=Ee+"px",y.scrollTop=X-K+y.offsetTop}d.style.margin=`${rs}px 0`,d.style.minHeight=te+"px",d.style.maxHeight=Y+"px",r==null||r(),requestAnimationFrame(()=>j.current=!0)}},[g,o.trigger,o.valueNode,d,f,y,w,C,o.dir,r]);Ta(()=>k(),[k]);const[P,R]=x.useState();Ta(()=>{f&&R(window.getComputedStyle(f).zIndex)},[f]);const D=x.useCallback(E=>{E&&b.current===!0&&(k(),S==null||S(),b.current=!1)},[k,S]);return e.jsx(VT,{scope:a,contentWrapper:d,shouldExpandOnScrollRef:j,onScrollButtonChange:D,children:e.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:e.jsx(dt.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});HN.displayName=UT;var HT="SelectPopperPosition",Kp=x.forwardRef((t,s)=>{const{__scopeSelect:a,align:r="start",collisionPadding:n=rs,...o}=t,c=Qu(a);return e.jsx(Ah,{...c,...o,ref:s,align:r,collisionPadding:n,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kp.displayName=HT;var[VT,Qh]=Fo(Ri,{}),Gp="SelectViewport",VN=x.forwardRef((t,s)=>{const{__scopeSelect:a,nonce:r,...n}=t,o=Xn(Gp,a),c=Qh(Gp,a),d=Bt(s,o.onViewportChange),m=x.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(Ku.Slot,{scope:a,children:e.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:Ie(n.onScroll,f=>{const p=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=c;if(g!=null&&g.current&&h){const j=Math.abs(m.current-p.scrollTop);if(j>0){const b=window.innerHeight-rs*2,y=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),C=Math.max(y,w);if(C<b){const S=C+j,k=Math.min(b,S),P=S-k;h.style.height=k+"px",h.style.bottom==="0px"&&(p.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}m.current=p.scrollTop})})})]})});VN.displayName=Gp;var WN="SelectGroup",[WT,YT]=Fo(WN),qT=x.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=Es();return e.jsx(WT,{scope:a,id:n,children:e.jsx(dt.div,{role:"group","aria-labelledby":n,...r,ref:s})})});qT.displayName=WN;var YN="SelectLabel",qN=x.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=YT(YN,a);return e.jsx(dt.div,{id:n.id,...r,ref:s})});qN.displayName=YN;var nu="SelectItem",[KT,KN]=Fo(nu),GN=x.forwardRef((t,s)=>{const{__scopeSelect:a,value:r,disabled:n=!1,textValue:o,...c}=t,d=Qn(nu,a),m=Xn(nu,a),f=d.value===r,[p,h]=x.useState(o??""),[g,j]=x.useState(!1),b=Bt(s,S=>{var k;return(k=m.itemRefCallback)==null?void 0:k.call(m,S,r,n)}),y=Es(),w=x.useRef("touch"),C=()=>{n||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(KT,{scope:a,value:r,disabled:n,textId:y,isSelected:f,onItemTextChange:x.useCallback(S=>{h(k=>k||((S==null?void 0:S.textContent)??"").trim())},[]),children:e.jsx(Ku.ItemSlot,{scope:a,value:r,disabled:n,textValue:p,children:e.jsx(dt.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...c,ref:b,onFocus:Ie(c.onFocus,()=>j(!0)),onBlur:Ie(c.onBlur,()=>j(!1)),onClick:Ie(c.onClick,()=>{w.current!=="mouse"&&C()}),onPointerUp:Ie(c.onPointerUp,()=>{w.current==="mouse"&&C()}),onPointerDown:Ie(c.onPointerDown,S=>{w.current=S.pointerType}),onPointerMove:Ie(c.onPointerMove,S=>{var k;w.current=S.pointerType,n?(k=m.onItemLeave)==null||k.call(m):w.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(c.onPointerLeave,S=>{var k;S.currentTarget===document.activeElement&&((k=m.onItemLeave)==null||k.call(m))}),onKeyDown:Ie(c.onKeyDown,S=>{var P;((P=m.searchRef)==null?void 0:P.current)!==""&&S.key===" "||(TT.includes(S.key)&&C(),S.key===" "&&S.preventDefault())})})})})});GN.displayName=nu;var Rl="SelectItemText",QN=x.forwardRef((t,s)=>{const{__scopeSelect:a,className:r,style:n,...o}=t,c=Qn(Rl,a),d=Xn(Rl,a),m=KN(Rl,a),f=LT(Rl,a),[p,h]=x.useState(null),g=Bt(s,C=>h(C),m.onItemTextChange,C=>{var S;return(S=d.itemTextRefCallback)==null?void 0:S.call(d,C,m.value,m.disabled)}),j=p==null?void 0:p.textContent,b=x.useMemo(()=>e.jsx("option",{value:m.value,disabled:m.disabled,children:j},m.value),[m.disabled,m.value,j]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=f;return Ta(()=>(y(b),()=>w(b)),[y,w,b]),e.jsxs(e.Fragment,{children:[e.jsx(dt.span,{id:m.textId,...o,ref:g}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Eo.createPortal(o.children,c.valueNode):null]})});QN.displayName=Rl;var XN="SelectItemIndicator",JN=x.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t;return KN(XN,a).isSelected?e.jsx(dt.span,{"aria-hidden":!0,...r,ref:s}):null});JN.displayName=XN;var Qp="SelectScrollUpButton",ZN=x.forwardRef((t,s)=>{const a=Xn(Qp,t.__scopeSelect),r=Qh(Qp,t.__scopeSelect),[n,o]=x.useState(!1),c=Bt(s,r.onScrollButtonChange);return Ta(()=>{if(a.viewport&&a.isPositioned){let d=function(){const f=m.scrollTop>0;o(f)};const m=a.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[a.viewport,a.isPositioned]),n?e.jsx(t1,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=a;d&&m&&(d.scrollTop=d.scrollTop-m.offsetHeight)}}):null});ZN.displayName=Qp;var Xp="SelectScrollDownButton",e1=x.forwardRef((t,s)=>{const a=Xn(Xp,t.__scopeSelect),r=Qh(Xp,t.__scopeSelect),[n,o]=x.useState(!1),c=Bt(s,r.onScrollButtonChange);return Ta(()=>{if(a.viewport&&a.isPositioned){let d=function(){const f=m.scrollHeight-m.clientHeight,p=Math.ceil(m.scrollTop)<f;o(p)};const m=a.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[a.viewport,a.isPositioned]),n?e.jsx(t1,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=a;d&&m&&(d.scrollTop=d.scrollTop+m.offsetHeight)}}):null});e1.displayName=Xp;var t1=x.forwardRef((t,s)=>{const{__scopeSelect:a,onAutoScroll:r,...n}=t,o=Xn("SelectScrollButton",a),c=x.useRef(null),d=Gu(a),m=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>m(),[m]),Ta(()=>{var p;const f=d().find(h=>h.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[d]),e.jsx(dt.div,{"aria-hidden":!0,...n,ref:s,style:{flexShrink:0,...n.style},onPointerDown:Ie(n.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Ie(n.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Ie(n.onPointerLeave,()=>{m()})})}),GT="SelectSeparator",a1=x.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t;return e.jsx(dt.div,{"aria-hidden":!0,...r,ref:s})});a1.displayName=GT;var Jp="SelectArrow",QT=x.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=Qu(a),o=Qn(Jp,a),c=Xn(Jp,a);return o.open&&c.position==="popper"?e.jsx(Oh,{...n,...r,ref:s}):null});QT.displayName=Jp;var XT="SelectBubbleInput",r1=x.forwardRef(({__scopeSelect:t,value:s,...a},r)=>{const n=x.useRef(null),o=Bt(r,n),c=RT(s);return x.useEffect(()=>{const d=n.current;if(!d)return;const m=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==s&&p){const h=new Event("change",{bubbles:!0});p.call(d,s),d.dispatchEvent(h)}},[c,s]),e.jsx(dt.select,{...a,style:{...Uj,...a.style},ref:o,defaultValue:s})});r1.displayName=XT;function s1(t){return t===""||t===void 0}function n1(t){const s=xr(t),a=x.useRef(""),r=x.useRef(0),n=x.useCallback(c=>{const d=a.current+c;s(d),(function m(f){a.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>m(""),1e3))})(d)},[s]),o=x.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,n,o]}function i1(t,s,a){const n=s.length>1&&Array.from(s).every(f=>f===s[0])?s[0]:s,o=a?t.indexOf(a):-1;let c=JT(t,Math.max(o,0));n.length===1&&(c=c.filter(f=>f!==a));const m=c.find(f=>f.textValue.toLowerCase().startsWith(n.toLowerCase()));return m!==a?m:void 0}function JT(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var ZT=TN,o1=ON,eA=LN,tA=FN,aA=$N,l1=zN,rA=VN,c1=qN,d1=GN,sA=QN,nA=JN,u1=ZN,m1=e1,f1=a1;const Ct=ZT,kt=eA,wt=x.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(o1,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(tA,{asChild:!0,children:e.jsx(hh,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=o1.displayName;const p1=x.forwardRef(({className:t,...s},a)=>e.jsx(u1,{ref:a,className:we("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(jE,{className:"h-4 w-4"})}));p1.displayName=u1.displayName;const h1=x.forwardRef(({className:t,...s},a)=>e.jsx(m1,{ref:a,className:we("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(hh,{className:"h-4 w-4"})}));h1.displayName=m1.displayName;const Nt=x.forwardRef(({className:t,children:s,position:a="popper",...r},n)=>e.jsx(aA,{children:e.jsxs(l1,{ref:n,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[e.jsx(p1,{}),e.jsx(rA,{className:we("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(h1,{})]})}));Nt.displayName=l1.displayName;const x1=x.forwardRef(({className:t,...s},a)=>e.jsx(c1,{ref:a,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));x1.displayName=c1.displayName;const ye=x.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(d1,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(nA,{children:e.jsx(Pb,{className:"h-4 w-4"})})}),e.jsx(sA,{children:s})]}));ye.displayName=d1.displayName;const iA=x.forwardRef(({className:t,...s},a)=>e.jsx(f1,{ref:a,className:we("-mx-1 my-1 h-px bg-muted",t),...s}));iA.displayName=f1.displayName;const uo="false".toLowerCase()!=="false",qt="true".toLowerCase()==="true",Ot={async getDashboard(){return(await ce.get("/admin/dashboard/")).data},async getSolicitacoes(t={},s={}){var n;const a=mo(),r=fp(mp(t));for(const o of a){const c=as(o),d=uo?[c]:[c,c+"listar/",c+"list/",c+"todas/",c+"all/"],m=[];if(m.push(r),!uo&&(r!=null&&r.ordering)){const{ordering:f,...p}=r;m.push(p)}if(!uo){const f={};r.page_size!=null&&(f.page_size=r.page_size),r.limit!=null&&(f.limit=r.limit),r.page!=null&&(f.page=r.page),r.offset!=null&&(f.offset=r.offset),Object.keys(f).length&&m.push(f)}Object.keys(r).length&&m.push({});for(const f of d)for(const p of m)try{qt&&console.debug("[adminService.getSolicitacoes] GET",f,p);const g=(await ce.get(f,{params:p,signal:s==null?void 0:s.signal})).data,j=Array.isArray(g==null?void 0:g.results)?g.results:Array.isArray(g)?g:[];return qt&&console.debug("[adminService.getSolicitacoes] OK",f,`items=${j.length}`),j.map(g1)}catch(h){const g=(n=h==null?void 0:h.response)==null?void 0:n.status;if(qt&&console.warn("[adminService.getSolicitacoes] Falhou",f,"status=",g,"params=",p),g===401||g===403)throw h;continue}}return[]},async getSolicitacao(t){var r;const s=mo();let a;for(const n of s){const o=as(n)+`${t}/`;try{const c=await ce.get(o);return lA(c.data||{})}catch(c){const d=(r=c==null?void 0:c.response)==null?void 0:r.status;if(qt&&console.warn("[adminService.getSolicitacao] Falhou",o,"status=",d),d===401||d===403)throw c;a=c;continue}}throw a||new Error("Nenhum endpoint para detalhe de solicitação foi encontrado.")},async aprovarSolicitacao(t,s=""){var r,n,o,c;const a=mo();for(const d of a){const m=as(d),f=[{method:"post",url:`${m}${t}/aprovar/`,body:{observacoes:s}},{method:"post",url:`${m}${t}/approve/`,body:{notes:s}},{method:"post",url:`${m}${t}/aprovacao/`,body:{observacoes:s}},{method:"post",url:`${m}${t}/status/`,body:{status:"approved",observacoes:s}},{method:"patch",url:`${m}${t}/`,body:{status:"approved",observacoes:s}},{method:"put",url:`${m}${t}/`,body:{status:"approved",observacoes:s}}];for(const p of f)try{qt&&console.debug("[adminService.aprovarSolicitacao]",p.method.toUpperCase(),p.url,p.body);const h=await ce[p.method](p.url,p.body);(async()=>{var j;try{await Ot.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{observacoes:s}})}catch(b){qt&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(j=b==null?void 0:b.response)==null?void 0:j.status)}})();const g=h.data;try{let j=((r=g==null?void 0:g.medico)==null?void 0:r.id)||(g==null?void 0:g.medico_id)||(g==null?void 0:g.medico)||null;if(!j)try{const b=await Ot.getSolicitacao(t).catch(()=>null);j=((n=b==null?void 0:b.medico)==null?void 0:n.id)||(b==null?void 0:b.medico_id)||(b==null?void 0:b.medico)||null}catch{}if(j){const b="/api/medicos/",y=b.endsWith("/")?b:`${b}/`,w={status:"active",situacao:"active",state:"active"},C=[{m:"patch",u:`${y}${j}/`,b:w},{m:"put",u:`${y}${j}/`,b:w}];for(const k of C)try{await ce[k.m](k.u,k.b);break}catch{}const S=[`${y}${j}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const k of S){const P=k.endsWith("/")?k:`${k}/`;try{await ce.patch(P,w);break}catch{}}}}catch(j){qt&&console.warn("[adminService.aprovarSolicitacao] pós-ação falhou",(o=j==null?void 0:j.response)==null?void 0:o.status)}return(async()=>{var j;try{await Ot.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{observacoes:s}})}catch(b){qt&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(j=b==null?void 0:b.response)==null?void 0:j.status)}})(),g}catch(h){const g=(c=h==null?void 0:h.response)==null?void 0:c.status;if(qt&&console.warn("[adminService.aprovarSolicitacao] Falhou",p.url,"status=",g),g===401||g===403)throw h;continue}}},async rejeitarSolicitacao(t,s){var r,n,o,c;const a=mo();for(const d of a){const m=as(d),f=[{method:"post",url:`${m}${t}/rejeitar/`,body:{motivo:s}},{method:"post",url:`${m}${t}/reject/`,body:{reason:s}},{method:"post",url:`${m}${t}/status/`,body:{status:"rejected",motivo:s}},{method:"patch",url:`${m}${t}/`,body:{status:"rejected",motivo:s}},{method:"put",url:`${m}${t}/`,body:{status:"rejected",motivo:s}}];for(const p of f)try{qt&&console.debug("[adminService.rejeitarSolicitacao]",p.method.toUpperCase(),p.url,p.body);const h=await ce[p.method](p.url,p.body);(async()=>{var j;try{await Ot.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{motivo:s}})}catch(b){qt&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(j=b==null?void 0:b.response)==null?void 0:j.status)}})();const g=h.data;try{let j=((r=g==null?void 0:g.medico)==null?void 0:r.id)||(g==null?void 0:g.medico_id)||(g==null?void 0:g.medico)||null;if(!j)try{const b=await Ot.getSolicitacao(t).catch(()=>null);j=((n=b==null?void 0:b.medico)==null?void 0:n.id)||(b==null?void 0:b.medico_id)||(b==null?void 0:b.medico)||null}catch{}if(j){const b="/api/medicos/",y=b.endsWith("/")?b:`${b}/`,w={status:"rejected",situacao:"rejected",state:"rejected"},C=[{m:"patch",u:`${y}${j}/`,b:w},{m:"put",u:`${y}${j}/`,b:w}];for(const k of C)try{await ce[k.m](k.u,k.b);break}catch{}const S=[`${y}${j}/perfil/`,"/perfil-medico/","/perfil/medico/"];for(const k of S){const P=k.endsWith("/")?k:`${k}/`;try{await ce.patch(P,w);break}catch{}}}}catch(j){qt&&console.warn("[adminService.rejeitarSolicitacao] pós-ação falhou",(o=j==null?void 0:j.response)==null?void 0:o.status)}return(async()=>{var j;try{await Ot.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{motivo:s}})}catch(b){qt&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(j=b==null?void 0:b.response)==null?void 0:j.status)}})(),g}catch(h){const g=(c=h==null?void 0:h.response)==null?void 0:c.status;if(qt&&console.warn("[adminService.rejeitarSolicitacao] Falhou",p.url,"status=",g),g===401||g===403)throw h;continue}}},async visualizarDocumento(t){var s;try{if(t.startsWith("http")){window.open(t,"_blank");return}const a=mo();let r;for(const n of a){const o=[`${as(n)}documentos/visualizar/${t}`,`${as(n)}documentos/${t}`,`/media/documentos/${t}`,`/static/documentos/${t}`,t];for(const c of o)try{if(qt&&console.debug("[adminService.visualizarDocumento] Tentando",c),(await ce.head(c)).status===200){window.open(c,"_blank");return}}catch(d){qt&&console.warn("[adminService.visualizarDocumento] Falhou",c,(s=d==null?void 0:d.response)==null?void 0:s.status),r=d;continue}}throw r||new Error("Documento não encontrado")}catch(a){throw console.error("Erro ao visualizar documento:",a),new Error("Não foi possível visualizar o documento")}},async baixarDocumento(t,s="documento"){var a;try{if(t.startsWith("http")){const o=document.createElement("a");o.href=t,o.download=s,document.body.appendChild(o),o.click(),document.body.removeChild(o);return}const r=mo();let n;for(const o of r){const c=[`${as(o)}documentos/download/${t}`,`${as(o)}documentos/${t}`,`/media/documentos/${t}`,`/static/documentos/${t}`,t];for(const d of c)try{qt&&console.debug("[adminService.baixarDocumento] Tentando",d);const m=await ce.get(d,{responseType:"blob"});if(m.status===200){const f=new Blob([m.data]),p=window.URL.createObjectURL(f),h=document.createElement("a");h.href=p,h.download=s,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(p);return}}catch(m){qt&&console.warn("[adminService.baixarDocumento] Falhou",d,(a=m==null?void 0:m.response)==null?void 0:a.status),n=m;continue}}throw n||new Error("Documento não encontrado")}catch(r){throw console.error("Erro ao baixar documento:",r),new Error("Não foi possível baixar o documento")}},async getAuditoria(t={}){return(await ce.get("/admin/auditoria/",{params:t})).data},async registrarAuditoria(t={}){var p;const s=await St.getCurrentUser(),a=t.action||t.acao||t.type,r=t.entity||t.entidade||"",n=t.entity_id||t.id||t.solicitacao_id||t.target_id||"",o=t.status||"success",c=typeof t.metadata=="object"&&t.metadata!==null?t.metadata:{},d=typeof t.detalhes=="object"&&t.detalhes!==null?t.detalhes:{},m={...c,...d,actor:(s==null?void 0:s.id)||(s==null?void 0:s.username)||"system",source:"frontend"},f={action:a,entity:r,entity_id:n,status:o,metadata:m};try{await ce.post("/admin/auditoria/",f)}catch(h){qt&&console.warn("[adminService.registrarAuditoria] falhou:",(p=h==null?void 0:h.response)==null?void 0:p.status)}},async getUsuarios(t={}){const s=fp(mp(t)),r=(await ce.get("/users/",{params:s})).data,n=Array.isArray(r==null?void 0:r.results)?r.results:Array.isArray(r)?r:[],o=typeof(r==null?void 0:r.count)=="number"?r.count:n.length;return{results:n,count:o}},async getClinicas(t={}){var r;const s=oA(),a=fp(mp(t));for(const n of s){const o=as(n),c=uo?[o]:[o,o+"listar/",o+"list/",o+"todas/",o+"all/"],d=[];if(d.push(a),!uo&&(a!=null&&a.ordering)){const{ordering:m,...f}=a;d.push(f)}if(!uo){const m={};a.page_size!=null&&(m.page_size=a.page_size),a.limit!=null&&(m.limit=a.limit),a.page!=null&&(m.page=a.page),a.offset!=null&&(m.offset=a.offset),Object.keys(m).length&&d.push(m)}Object.keys(a).length&&d.push({});for(const m of c)for(const f of d)try{qt&&console.debug("[adminService.getClinicas] GET",m,f);const h=(await ce.get(m,{params:f})).data,g=Array.isArray(h==null?void 0:h.results)?h.results:Array.isArray(h)?h:[],j=typeof(h==null?void 0:h.count)=="number"?h.count:g.length;return qt&&console.debug("[adminService.getClinicas] OK",m,`items=${g.length}`),{results:g,count:j}}catch(p){const h=(r=p==null?void 0:p.response)==null?void 0:r.status;if(qt&&console.warn("[adminService.getClinicas] Falhou",m,"status=",h,"params=",f),h===401)throw p;continue}}return{results:[],count:0}},async updateUsuario(t,s={}){var c,d,m,f;const a=t||(s==null?void 0:s.id);if(!a)throw new Error("ID do usuário é obrigatório para atualização");const r={...s};r.role&&r.tipo==null&&(r.tipo=r.role),r.is_active!=null&&r.ativo==null&&(r.ativo=!!r.is_active),(r.first_name||r.last_name)&&r.nome==null&&(r.nome=[r.first_name||"",r.last_name||""].filter(Boolean).join(" ").trim()||void 0);const n=Q0();let o=null;for(const p of n){const h=as(p);try{return(await ce.patch(`${h}${a}/`,r)).data}catch(g){const j=(c=g==null?void 0:g.response)==null?void 0:c.status;if(qt&&console.warn("[adminService.updateUsuario] PATCH falhou",`${h}${a}/`,"status=",j),j===401)throw g;o=g}try{return(await ce.put(`${h}${a}/`,r)).data}catch(g){const j=(d=g==null?void 0:g.response)==null?void 0:d.status;if(qt&&console.warn("[adminService.updateUsuario] PUT falhou",`${h}${a}/`,"status=",j),j===401)throw g;o=g}try{return(await ce.patch(h,{id:a,...r})).data}catch(g){const j=(m=g==null?void 0:g.response)==null?void 0:m.status;if(qt&&console.warn("[adminService.updateUsuario] PATCH base falhou",h,"status=",j),j===401)throw g;o=g}for(const g of["update/","editar/","edicao/"]){const j=h+g;try{return(await ce.post(j,{id:a,...r})).data}catch(b){const y=(f=b==null?void 0:b.response)==null?void 0:f.status;if(qt&&console.warn("[adminService.updateUsuario] POST falhou",j,"status=",y),y===401)throw b;o=b}}}throw o||new Error("Falha ao atualizar usuário: nenhum endpoint aceitou a requisição.")},async removerUsuariosEmMassa(t=[]){var o,c,d;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(s.length===0)return{success:!0,deleted:[],detail:"no-op"};const a=Q0();let r=null;const n=[{suffix:"remover/",method:"post",bodyKey:"ids"},{suffix:"delete/",method:"post",bodyKey:"ids"},{suffix:"bulk_delete/",method:"post",bodyKey:"ids"}];for(const m of a){const f=as(m);for(const h of n){const g=f+h.suffix;try{return(await ce.post(g,{[h.bodyKey]:s})).data}catch(j){const b=(o=j==null?void 0:j.response)==null?void 0:o.status;if(qt&&console.warn("[adminService.removerUsuariosEmMassa] POST falhou",g,"status=",b),b===401)throw j;r=j}}try{const h=f;return(await ce.delete(h,{data:{ids:s}})).data}catch(h){const g=(c=h==null?void 0:h.response)==null?void 0:c.status;if(qt&&console.warn("[adminService.removerUsuariosEmMassa] DELETE bulk falhou",f,"status=",g),g===401)throw h;r=h}let p=!1;for(const h of s){const g=`${f}${h}/`;try{await ce.delete(g),p=!0}catch(j){const b=(d=j==null?void 0:j.response)==null?void 0:d.status;if(qt&&console.warn("[adminService.removerUsuariosEmMassa] DELETE por id falhou",g,"status=",b),b===401)throw j;r=j}}if(p)return{success:!0}}throw r||new Error("Falha ao excluir usuários: nenhum endpoint aceitou a requisição.")},async createUsuario(t={}){return(await ce.post("/admin/usuarios/",t)).data}};function as(t){if(!t)return"/";const s=String(t);return s.endsWith("/")?s:s+"/"}function mp(t={}){const s={...t};return s.limit!=null&&s.page_size==null&&(s.page_size=s.limit),s.page_size!=null&&s.limit==null&&(s.limit=s.page_size),Object.keys(s).forEach(a=>{(s[a]===void 0||s[a]===null||s[a]==="")&&delete s[a]}),s}function fp(t={}){const s=new Set(["status","ordering","search","limit","page","page_size","offset","clinica","especialidade","tipo","urgencia"]),a={};for(const[r,n]of Object.entries(t||{}))s.has(r)&&(a[r]=n);return a}function mo(){const t="/api/solicitacaomedico/".trim(),s="/api/solicitacaomedico/".trim(),a="/api/solicitacoes/".trim(),r=Array.from(new Set([t,s,a].filter(Boolean))),n=["/solicitacaomedico/","/solicitacao-medico/","/solicitacaomedicomodel/","/solicitacao-medico-model/","/admin/solicitacoes/"],o=["/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/solicitacaomedico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedicomodel/","/solicitacoes/solicitacao-medico-model/","/meu_app/solicitacaomedico/","/meu_app/solicitacao-medico/"];return Array.from(new Set([...n,...r,...o].filter(Boolean)))}function Q0(){const t="".trim(),s="".trim(),a=Array.from(new Set([t,s].filter(Boolean))),r=["/admin/usuarios/","/usuarios/","/admin/users/","/users/"];return Array.from(new Set([...a,...r].filter(Boolean)))}function oA(){const t="".trim(),s="".trim(),a=Array.from(new Set([t,s].filter(Boolean))),r=["/admin/clinicas/","/clinicas/","/admin/clinica/","/clinica/"];return Array.from(new Set([...a,...r].filter(Boolean)))}function g1(t={}){var s,a,r,n,o,c,d,m,f,p,h,g,j,b,y,w,C,S,k,P,R,D,E;return{id:t.id||t.pk||t.uuid||t.codigo||t.codigo_id||0,tipo:String(t.tipo||t.type||t.kind||"medico").toLowerCase(),nome:t.nome||t.name||((s=t.usuario)==null?void 0:s.nome)||((a=t.user)==null?void 0:a.name)||((r=t.medico)==null?void 0:r.nome)||((n=t.clinica)==null?void 0:n.nome)||"—",email:t.email||((o=t.usuario)==null?void 0:o.email)||((c=t.user)==null?void 0:c.email)||((m=(d=t.medico)==null?void 0:d.user)==null?void 0:m.email)||((f=t.clinica)==null?void 0:f.email)||"—",telefone:t.telefone||t.phone||t.celular||((p=t.usuario)==null?void 0:p.telefone)||((h=t.user)==null?void 0:h.telefone)||((g=t.medico)==null?void 0:g.telefone)||((b=(j=t.medico)==null?void 0:j.contato)==null?void 0:b.telefone)||((w=(y=t.medico)==null?void 0:y.user)==null?void 0:w.telefone)||((C=t.clinica)==null?void 0:C.telefone)||"",crm:t.crm||((S=t.medico)==null?void 0:S.crm)||t.crm_numero||"",cnpj:t.cnpj||((k=t.clinica)==null?void 0:k.cnpj)||"",responsavel:t.responsavel||t.responsavel_tecnico||((P=t.clinica)==null?void 0:P.responsavel)||"",status:(()=>{const O=(t.status||t.situacao||t.state||"pending").toString().toLowerCase();return{pendente:"pending","em análise":"pending","em analise":"pending",em_analise:"pending",aprovado:"approved",aprovada:"approved",rejeitado:"rejected",rejeitada:"rejected",reprovado:"rejected",reprovada:"rejected"}[O]||O})(),dataEnvio:t.dataEnvio||t.created_at||t.createdAt||t.data_criacao||t.submitted_at||new Date().toISOString(),dataAprovacao:t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||null,dataRejeicao:t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||null,documentos:Array.isArray(t.documentos)?t.documentos:t.documents||[],urgencia:String(t.urgencia||t.priority||"normal").toLowerCase(),observacoes:t.observacoes||t.notes||t.comentarios||"",aprovadoPor:t.aprovadoPor||t.approved_by||"",rejeitadoPor:t.rejeitadoPor||t.rejected_by||"",motivoRejeicao:t.motivoRejeicao||t.motivo||t.reason||"",especialidade:t.especialidade||t.especialidade_nome||((D=(R=t.medico)==null?void 0:R.especialidade)==null?void 0:D.nome)||((E=t.medico)==null?void 0:E.especialidade)||""}}function lA(t={}){var S,k,P,R,D,E,O,I,z,B,Y,$,M,G,T,L,H,Q,te,A,W;const s=g1(t),a=t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||t.dataAprovado||null,r=t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||t.dataRejeitado||null,n=[],o=re=>{re&&(Array.isArray(re)?n.push(...re.filter(Boolean)):typeof re=="object"?n.push(...Object.values(re).filter(Boolean)):typeof re=="string"&&n.push(re))};o(t.documentos),o(t.docs),o(t.arquivos),o(t.attachments),o(t.files);const c=[t.diplomaMedicina,t.certificadoResidencia,t.comprovanteExperiencia,t.documento_identidade,t.comprovante_endereco,t.diploma_medicina,t.certificado_residencia,t.comprovante_experiencia,t.rg,t.cpf].filter(Boolean);n.push(...c);const d=re=>{if(!re)return null;if(typeof re=="string")return{nome:(re.split("/").pop()||"Documento").trim(),tamanho:"",dataUpload:t.dataEnvio||t.created_at||t.createdAt||t.submitted_at||new Date().toISOString(),url:re};const K=re.nome||re.name||re.filename||re.file_name||re.titulo||re.tipo||"Documento",J=re.tamanho||re.size||re.file_size||"",V=re.dataUpload||re.data_upload||re.uploaded_at||re.created_at||s.dataEnvio||new Date().toISOString(),U=re.url||re.link||re.path||re.file||re.arquivo||re.location||"";return{nome:K,tamanho:J,dataUpload:V,url:U}},m=n.map(d).filter(Boolean),f=t.endereco||((S=t.medico)==null?void 0:S.endereco)||((k=t.clinica)==null?void 0:k.endereco)||{},p=typeof f=="string"?{cep:t.cep||"",logradouro:f,bairro:"",cidade:"",estado:""}:{cep:f.cep||t.cep||"",logradouro:f.logradouro||f.rua||f.endereco||"",bairro:f.bairro||"",cidade:f.cidade||f.municipio||"",estado:f.estado||f.uf||""},h=t.instituicaoFormacao||t.instituicao_formacao||((P=t.formacao)==null?void 0:P.instituicao)||((D=(R=t.medico)==null?void 0:R.formacao)==null?void 0:D.instituicao)||"",g=t.anoFormacao||t.ano_formacao||((E=t.formacao)==null?void 0:E.ano)||((I=(O=t.medico)==null?void 0:O.formacao)==null?void 0:I.ano)||"",j=t.residencia||((B=(z=t.formacao)==null?void 0:z.residencia)==null?void 0:B.nome)||(($=(Y=t.medico)==null?void 0:Y.residencia)==null?void 0:$.nome)||"",b=t.instituicaoResidencia||t.instituicao_residencia||((G=(M=t.formacao)==null?void 0:M.residencia)==null?void 0:G.instituicao)||((L=(T=t.medico)==null?void 0:T.residencia)==null?void 0:L.instituicao)||"",y=t.anoResidencia||t.ano_residencia||((Q=(H=t.formacao)==null?void 0:H.residencia)==null?void 0:Q.ano)||((A=(te=t.medico)==null?void 0:te.residencia)==null?void 0:A.ano)||"",w=t.experiencia||t.experiencias||((W=t.medico)==null?void 0:W.experiencia)||"",C=t.motivacao||t.motivo||t.justificativa||t.reason||"";return{...s,dataAprovacao:a,dataRejeicao:r,documentos:m.length?m:s.documentos,endereco:p,instituicaoFormacao:h,anoFormacao:g,residencia:j,instituicaoResidencia:b,anoResidencia:y,experiencia:w,motivacao:C}}function v1(t,s=300){const[a,r]=x.useState(t);return x.useEffect(()=>{const n=setTimeout(()=>{r(t)},s);return()=>{clearTimeout(n)}},[t,s]),a}function cA(){const[t,s]=x.useState(""),[a,r]=x.useState("all"),[n,o]=x.useState("all"),[c,d]=x.useState("all"),[m,f]=x.useState(!1),[p,h]=x.useState([]),g=x.useRef(null),{toast:j}=ta(),b=v1(t,500),y=x.useMemo(()=>({search:Di(b.trim()),status:a,tipo:n,urgencia:c}),[b,a,n,c]),w=x.useCallback(async(E,O)=>{try{const I=await Ot.getSolicitacoes(E,{signal:O});return Array.isArray(I==null?void 0:I.results)?I.results:Array.isArray(I)?I:[]}catch(I){throw(I==null?void 0:I.name)!=="AbortError"&&console.error("Erro ao buscar solicitações:",I),I}},[]);x.useEffect(()=>{f(!0);const E=setTimeout(async()=>{if(g.current)try{g.current.abort()}catch{}const O=new AbortController;g.current=O;try{const I={};y.status!=="all"&&(I.status=y.status),y.tipo!=="all"&&(I.tipo=y.tipo),y.urgencia!=="all"&&(I.urgencia=y.urgencia),y.search&&(I.search=y.search);const z=await w(I,O.signal);h(z)}catch(I){(I==null?void 0:I.name)!=="AbortError"&&h([])}finally{f(!1)}},200);return()=>clearTimeout(E)},[y,w]);const C=x.useCallback(async E=>{var O;f(!0);try{const I=await Ot.aprovarSolicitacao(E);h(z=>z.map(B=>B.id===E?{...B,status:"approved",aprovadoPor:(I==null?void 0:I.approved_by)||B.aprovadoPor||"",dataAprovacao:(I==null?void 0:I.approved_at)||B.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:B)),j({title:"Solicitação aprovada",description:"A solicitação foi aprovada com sucesso."})}catch(I){const z=(O=I==null?void 0:I.response)==null?void 0:O.status;j({title:z===403?"Sem permissão":"Erro ao aprovar",description:z===403?"Seu perfil não possui permissão para aprovar.":"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{f(!1)}},[j]),S=x.useCallback(async E=>{var O;f(!0);try{const I=await Ot.rejeitarSolicitacao(E,"Rejeitada pela Secretaria");h(z=>z.map(B=>B.id===E?{...B,status:"rejected",rejeitadoPor:(I==null?void 0:I.rejected_by)||B.rejeitadoPor||"",dataRejeicao:(I==null?void 0:I.rejected_at)||B.dataRejeicao||new Date().toISOString(),motivoRejeicao:(I==null?void 0:I.reason)||B.motivoRejeicao||"Rejeitada pela Secretaria"}:B)),j({title:"Solicitação rejeitada",description:"A solicitação foi rejeitada."})}catch(I){const z=(O=I==null?void 0:I.response)==null?void 0:O.status;j({title:z===403?"Sem permissão":"Erro ao rejeitar",description:z===403?"Seu perfil não possui permissão para rejeitar.":"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{f(!1)}},[j]),k=({status:E})=>{const O=String(E||"pending").toLowerCase();return O==="approved"?e.jsx(Je,{variant:"success",children:"Aprovada"}):O==="rejected"?e.jsx(Je,{variant:"destructive",children:"Rejeitada"}):e.jsx(Je,{variant:"warning",children:"Pendente"})},P=({solicitacao:E})=>e.jsxs("div",{className:"p-4 rounded-xl border bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[E.tipo==="medico"?e.jsx(bt,{className:"h-5 w-5 text-medical-primary"}):e.jsx(Rs,{className:"h-5 w-5 text-medical-primary"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-medical-primary",children:E.nome||"—"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Enviada em ",new Date(E.dataEnvio).toLocaleDateString()]})]})]}),e.jsx(k,{status:E.status})]}),e.jsxs("div",{className:"mt-3 text-sm text-muted-foreground flex items-center gap-2",children:[e.jsx(ot,{className:"h-4 w-4"}),E.especialidade?e.jsxs("span",{children:["Especialidade: ",E.especialidade]}):e.jsxs("span",{children:["Tipo: ",E.tipo]})]}),E.status==="rejected"&&E.motivoRejeicao&&e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-3 rounded-lg mt-3",children:e.jsxs("p",{className:"text-red-800 text-xs font-medium",children:[e.jsx("strong",{children:"Rejeitado:"})," ",E.motivoRejeicao,E.rejeitadoPor&&e.jsxs(e.Fragment,{children:[" por ",E.rejeitadoPor]})]})}),e.jsxs("div",{className:"flex gap-3 pt-3",children:[e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:e.jsxs(it,{to:`/secretaria/solicitacoes/${E.id}`,children:[e.jsx(_r,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),E.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(Z,{size:"sm",onClick:()=>C(E.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:m,children:[e.jsx(Wa,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),e.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>S(E.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:m,children:[e.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]}),R=x.useMemo(()=>p.filter(E=>{var Y,$;const O=a==="all"||E.status===a,I=n==="all"||E.tipo===n,z=c==="all"||String(E.urgencia||"normal").toLowerCase()===c,B=!y.search||((Y=E.nome)==null?void 0:Y.toLowerCase().includes(y.search.toLowerCase()))||(($=E.email)==null?void 0:$.toLowerCase().includes(y.search.toLowerCase()));return O&&I&&z&&B}),[p,a,n,c,y.search]),D=x.useMemo(()=>({pending:R.filter(E=>E.status==="pending"),approved:R.filter(E=>E.status==="approved"),rejected:R.filter(E=>E.status==="rejected")}),[R]);return e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Js,{className:"h-6 w-6 text-medical-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Solicitações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie solicitações recebidas (médicos e clínicas)"})]})]}),e.jsxs(ne,{className:"border-0 shadow-md",children:[e.jsxs(pe,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(ji,{className:"h-5 w-5"})," Filtros"]}),e.jsx(rt,{children:"Refine a busca por status, tipo e urgência"})]}),e.jsx(ie,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ge,{placeholder:"Buscar por nome ou email",value:t,onChange:E=>s(E.target.value),className:"pl-9"})]}),e.jsxs(Ct,{value:a,onValueChange:r,children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Status"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"all",children:"Todos"}),e.jsx(ye,{value:"pending",children:"Pendentes"}),e.jsx(ye,{value:"approved",children:"Aprovadas"}),e.jsx(ye,{value:"rejected",children:"Rejeitadas"})]})]}),e.jsxs(Ct,{value:n,onValueChange:o,children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Tipo"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"all",children:"Todos"}),e.jsx(ye,{value:"medico",children:"Médico"}),e.jsx(ye,{value:"clinica",children:"Clínica"})]})]}),e.jsxs(Ct,{value:c,onValueChange:d,children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Urgência"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"all",children:"Todas"}),e.jsx(ye,{value:"normal",children:"Normal"}),e.jsx(ye,{value:"alta",children:"Alta"}),e.jsx(ye,{value:"critica",children:"Crítica"})]})]})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(Wr,{defaultValue:"todas",className:"space-y-6",children:[e.jsxs(Yr,{children:[e.jsx(Dt,{value:"todas",children:"Todas"}),e.jsx(Dt,{value:"pendentes",children:"Pendentes"}),e.jsx(Dt,{value:"aprovadas",children:"Aprovadas"}),e.jsx(Dt,{value:"rejeitadas",children:"Rejeitadas"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Mt,{value:"todas",children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):R.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(qa,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação encontrada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:R.map(E=>e.jsx(P,{solicitacao:E},E.id))})}),e.jsx(Mt,{value:"pendentes",children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):D.pending.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(pt,{className:"h-8 w-8 text-amber-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação pendente."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.pending.map(E=>e.jsx(P,{solicitacao:E},E.id))})}),e.jsx(Mt,{value:"aprovadas",children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):D.approved.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(Wa,{className:"h-8 w-8 text-green-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação aprovada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.approved.map(E=>e.jsx(P,{solicitacao:E},E.id))})}),e.jsx(Mt,{value:"rejeitadas",children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):D.rejected.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(Xa,{className:"h-8 w-8 text-red-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação rejeitada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:D.rejected.map(E=>e.jsx(P,{solicitacao:E},E.id))})})]})]})})]})}const Pt=x.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...s}));Pt.displayName="Textarea";function dA(){const{id:t}=Os(),s=Fa(),{toast:a}=ta(),[r,n]=x.useState(!1),[o,c]=x.useState(""),[d,m]=x.useState(!0),[f,p]=x.useState(null);x.useEffect(()=>{let y=!0;return(async()=>{try{const C=await Ot.getSolicitacao(t);y&&p(C)}catch{a({title:"Erro ao carregar",description:"Não foi possível carregar a solicitação.",variant:"destructive"}),s("/secretaria/solicitacoes")}finally{y&&m(!1)}})(),()=>{y=!1}},[t]);const h=async()=>{var y;n(!0);try{await Ot.aprovarSolicitacao(t,"Aprovada pela Secretaria"),a({title:"Solicitação aprovada!",description:"Solicitação aprovada com sucesso."}),s("/secretaria/solicitacoes")}catch(w){const C=(y=w==null?void 0:w.response)==null?void 0:y.status;a({title:C===403?"Sem permissão":"Erro",description:C===403?"Seu perfil não possui permissão para aprovar.":"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{n(!1)}},g=async()=>{var y;if(!o.trim()){a({title:"Motivo obrigatório",description:"Por favor, informe o motivo da rejeição.",variant:"destructive"});return}n(!0);try{await Ot.rejeitarSolicitacao(t,o.trim()),a({title:"Solicitação rejeitada",description:"A solicitação foi rejeitada."}),s("/secretaria/solicitacoes")}catch(w){const C=(y=w==null?void 0:w.response)==null?void 0:y.status;a({title:C===403?"Sem permissão":"Erro",description:C===403?"Seu perfil não possui permissão para rejeitar.":"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{n(!1)}},j=y=>{switch(y){case"pending":return e.jsxs(Je,{variant:"warning",className:"",children:[e.jsx(Js,{className:"mr-1 h-3 w-3"})," Aguardando Análise"]});case"approved":return e.jsxs(Je,{variant:"success",className:"",children:[e.jsx(Wa,{className:"mr-1 h-3 w-3"})," Aprovado"]});case"rejected":return e.jsxs(Je,{variant:"destructive",className:"",children:[e.jsx(Xa,{className:"mr-1 h-3 w-3"})," Rejeitado"]});default:return null}};if(d)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Z,{variant:"ghost",onClick:()=>s("/secretaria/solicitacoes"),children:[e.jsx(Zs,{className:"mr-2 h-4 w-4"})," Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),e.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitação"})]})]})});if(!f)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Z,{variant:"ghost",onClick:()=>s("/secretaria/solicitacoes"),children:[e.jsx(Zs,{className:"mr-2 h-4 w-4"})," Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitação não encontrada"}),e.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const b=(f==null?void 0:f.endereco)||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Z,{variant:"ghost",onClick:()=>s("/secretaria/solicitacoes"),children:[e.jsx(Zs,{className:"mr-2 h-4 w-4"})," Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitação"}),e.jsx("p",{className:"text-muted-foreground",children:"Análise da solicitação recebida"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`app-quick-icon ${f.tipo==="medico"?"info":"primary"} h-12 w-12`,children:f.tipo==="medico"?e.jsx(bt,{className:"h-6 w-6"}):e.jsx(Rs,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-xl",children:f.nome}),e.jsx(rt,{children:f.tipo==="medico"?"Solicitação de Cadastro Médico":"Solicitação de Cadastro de Clínica"})]})]}),j(f.status)]})}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:f.email||"—"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:f.telefone||f.celular||"—"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Especialidade / Tipo"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:f.especialidade||f.tipo})]})]})]}),e.jsx(lr,{}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Endereço"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{children:[b==null?void 0:b.logradouro," ",b==null?void 0:b.numero]}),e.jsx("div",{children:b==null?void 0:b.bairro}),e.jsxs("div",{children:[b==null?void 0:b.cidade," - ",b==null?void 0:b.estado]}),e.jsx("div",{children:b==null?void 0:b.cep})]})]})})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Ações"}),e.jsx(rt,{children:"Tomar decisão sobre a solicitação"})]}),e.jsx(ie,{className:"space-y-4",children:f.status==="pending"?e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Z,{onClick:h,disabled:r,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:[e.jsx(Wa,{className:"mr-2 h-4 w-4"})," Aprovar"]}),e.jsxs(Z,{variant:"destructive",onClick:g,disabled:r,children:[e.jsx(Xa,{className:"mr-2 h-4 w-4"})," Rejeitar"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Motivo da Rejeição"}),e.jsx(Pt,{placeholder:"Informe o motivo da rejeição",value:o,onChange:y=>c(y.target.value)})]})]}):f.status==="approved"?e.jsx(Je,{variant:"success",className:"",children:"Aprovado"}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(Je,{variant:"destructive",children:"Rejeitado"}),f.motivoRejeicao&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Motivo: ",f.motivoRejeicao]})]})})]})})]})]})}function qr({tabs:t,basePath:s}){const a=Pa();return e.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-200/50 dark:border-gray-700/50 shadow-lg mb-6",children:e.jsx("nav",{className:"flex space-x-1 p-2",children:t.map(r=>{const n=a.pathname===r.href;return e.jsx(it,{to:r.href,className:we("flex items-center px-4 py-3 text-sm font-medium transition-all duration-200 rounded-md",n?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-700 hover:text-gray-900 hover:bg-gray-100/80 dark:text-gray-200 dark:hover:text-white dark:hover:bg-gray-700/70"),children:r.label},r.href)})})})}const y1=6048e5,uA=864e5,Xu=6e4,Ju=36e5,mA=1e3,X0=Symbol.for("constructDateFrom");function Gt(t,s){return typeof t=="function"?t(s):t&&typeof t=="object"&&X0 in t?t[X0](s):t instanceof Date?new t.constructor(s):new Date(s)}function Xe(t,s){return Gt(s||t,t)}function os(t,s,a){const r=Xe(t,a==null?void 0:a.in);return isNaN(s)?Gt((a==null?void 0:a.in)||t,NaN):(s&&r.setDate(r.getDate()+s),r)}function ls(t,s,a){const r=Xe(t,a==null?void 0:a.in);if(isNaN(s))return Gt(t,NaN);if(!s)return r;const n=r.getDate(),o=Gt(t,r.getTime());o.setMonth(r.getMonth()+s+1,0);const c=o.getDate();return n>=c?o:(r.setFullYear(o.getFullYear(),o.getMonth(),n),r)}function b1(t,s,a){return Gt(t,+Xe(t)+s)}function fA(t,s,a){return b1(t,s*Ju)}let pA={};function Oi(){return pA}function dn(t,s){var d,m,f,p;const a=Oi(),r=(s==null?void 0:s.weekStartsOn)??((m=(d=s==null?void 0:s.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??a.weekStartsOn??((p=(f=a.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,n=Xe(t,s==null?void 0:s.in),o=n.getDay(),c=(o<r?7:0)+o-r;return n.setDate(n.getDate()-c),n.setHours(0,0,0,0),n}function So(t,s){return dn(t,{...s,weekStartsOn:1})}function j1(t,s){const a=Xe(t,s==null?void 0:s.in),r=a.getFullYear(),n=Gt(a,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const o=So(n),c=Gt(a,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=So(c);return a.getTime()>=o.getTime()?r+1:a.getTime()>=d.getTime()?r:r-1}function iu(t){const s=Xe(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function mn(t,...s){const a=Gt.bind(null,s.find(r=>typeof r=="object"));return s.map(a)}function Mi(t,s){const a=Xe(t,s==null?void 0:s.in);return a.setHours(0,0,0,0),a}function Co(t,s,a){const[r,n]=mn(a==null?void 0:a.in,t,s),o=Mi(r),c=Mi(n),d=+o-iu(o),m=+c-iu(c);return Math.round((d-m)/uA)}function hA(t,s){const a=j1(t,s),r=Gt(t,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),So(r)}function Zp(t,s,a){const r=Xe(t,a==null?void 0:a.in);return r.setTime(r.getTime()+s*Xu),r}function Xh(t,s,a){return ls(t,s*3,a)}function xA(t,s,a){return b1(t,s*1e3)}function ou(t,s,a){return os(t,s*7,a)}function an(t,s,a){return ls(t,s*12,a)}function J0(t,s){let a,r=s==null?void 0:s.in;return t.forEach(n=>{!r&&typeof n=="object"&&(r=Gt.bind(null,n));const o=Xe(n,r);(!a||a<o||isNaN(+o))&&(a=o)}),Gt(r,a||NaN)}function Z0(t,s){let a,r=s==null?void 0:s.in;return t.forEach(n=>{!r&&typeof n=="object"&&(r=Gt.bind(null,n));const o=Xe(n,r);(!a||a>o||isNaN(+o))&&(a=o)}),Gt(r,a||NaN)}function gA(t,s,a){const[r,n]=mn(a==null?void 0:a.in,t,s);return+Mi(r)==+Mi(n)}function rn(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lu(t){return!(!rn(t)&&typeof t!="number"||isNaN(+Xe(t)))}function cu(t,s,a){const[r,n]=mn(a==null?void 0:a.in,t,s),o=r.getFullYear()-n.getFullYear(),c=r.getMonth()-n.getMonth();return o*12+c}function wi(t,s){const a=Xe(t,s==null?void 0:s.in);return Math.trunc(a.getMonth()/3)+1}function du(t,s,a){const[r,n]=mn(a==null?void 0:a.in,t,s),o=r.getFullYear()-n.getFullYear(),c=wi(r)-wi(n);return o*4+c}function uu(t,s,a){const[r,n]=mn(a==null?void 0:a.in,t,s);return r.getFullYear()-n.getFullYear()}function vA(t,s,a){const[r,n]=mn(a==null?void 0:a.in,t,s),o=ey(r,n),c=Math.abs(Co(r,n));r.setDate(r.getDate()-o*c);const d=+(ey(r,n)===-o),m=o*(c-d);return m===0?0:m}function ey(t,s){const a=t.getFullYear()-s.getFullYear()||t.getMonth()-s.getMonth()||t.getDate()-s.getDate()||t.getHours()-s.getHours()||t.getMinutes()-s.getMinutes()||t.getSeconds()-s.getSeconds()||t.getMilliseconds()-s.getMilliseconds();return a<0?-1:a>0?1:a}function w1(t,s){const a=Xe(t,s==null?void 0:s.in);return a.setHours(23,59,59,999),a}function N1(t,s){const a=Xe(t,s==null?void 0:s.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}function eh(t,s){const a=Xe(t,s==null?void 0:s.in),r=a.getMonth(),n=r-r%3;return a.setMonth(n,1),a.setHours(0,0,0,0),a}function S1(t,s){const a=Xe(t,s==null?void 0:s.in);return a.setDate(1),a.setHours(0,0,0,0),a}function C1(t,s){const a=Xe(t,s==null?void 0:s.in),r=a.getFullYear();return a.setFullYear(r+1,0,0),a.setHours(23,59,59,999),a}function Zu(t,s){const a=Xe(t,s==null?void 0:s.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function yA(t,s){var d,m;const a=Oi(),r=a.weekStartsOn??((m=(d=a.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,n=Xe(t,s==null?void 0:s.in),o=n.getDay(),c=(o<r?-7:0)+6-(o-r);return n.setDate(n.getDate()+c),n.setHours(23,59,59,999),n}const bA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jA=(t,s,a)=>{let r;const n=bA[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",s.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function go(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const wA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},SA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CA={date:go({formats:wA,defaultWidth:"full"}),time:go({formats:NA,defaultWidth:"full"}),dateTime:go({formats:SA,defaultWidth:"full"})},kA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_A=(t,s,a,r)=>kA[t];function bs(t){return(s,a)=>{const r=a!=null&&a.context?String(a.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=a!=null&&a.width?String(a.width):c;n=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=a!=null&&a.width?String(a.width):t.defaultWidth;n=t.values[d]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(s):s;return n[o]}}const EA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},DA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},TA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},AA=(t,s)=>{const a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},OA={ordinalNumber:AA,era:bs({values:EA,defaultWidth:"wide"}),quarter:bs({values:DA,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bs({values:PA,defaultWidth:"wide"}),day:bs({values:RA,defaultWidth:"wide"}),dayPeriod:bs({values:MA,defaultWidth:"wide",formattingValues:TA,defaultFormattingWidth:"wide"})};function js(t){return(s,a={})=>{const r=a.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=s.match(n);if(!o)return null;const c=o[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(d)?LA(d,h=>h.test(c)):IA(d,h=>h.test(c));let f;f=t.valueCallback?t.valueCallback(m):m,f=a.valueCallback?a.valueCallback(f):f;const p=s.slice(c.length);return{value:f,rest:p}}}function IA(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function LA(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function k1(t){return(s,a={})=>{const r=s.match(t.matchPattern);if(!r)return null;const n=r[0],o=s.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=a.valueCallback?a.valueCallback(c):c;const d=s.slice(n.length);return{value:c,rest:d}}}const FA=/^(\d+)(th|st|nd|rd)?/i,$A=/\d+/i,zA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BA={any:[/^b/i,/^(a|c)/i]},UA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HA={any:[/1/i,/2/i,/3/i,/4/i]},VA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QA={ordinalNumber:k1({matchPattern:FA,parsePattern:$A,valueCallback:t=>parseInt(t,10)}),era:js({matchPatterns:zA,defaultMatchWidth:"wide",parsePatterns:BA,defaultParseWidth:"any"}),quarter:js({matchPatterns:UA,defaultMatchWidth:"wide",parsePatterns:HA,defaultParseWidth:"any",valueCallback:t=>t+1}),month:js({matchPatterns:VA,defaultMatchWidth:"wide",parsePatterns:WA,defaultParseWidth:"any"}),day:js({matchPatterns:YA,defaultMatchWidth:"wide",parsePatterns:qA,defaultParseWidth:"any"}),dayPeriod:js({matchPatterns:KA,defaultMatchWidth:"any",parsePatterns:GA,defaultParseWidth:"any"})},_1={code:"en-US",formatDistance:jA,formatLong:CA,formatRelative:_A,localize:OA,match:QA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XA(t,s){const a=Xe(t,s==null?void 0:s.in);return Co(a,Zu(a))+1}function Jh(t,s){const a=Xe(t,s==null?void 0:s.in),r=+So(a)-+hA(a);return Math.round(r/y1)+1}function Zh(t,s){var p,h,g,j;const a=Xe(t,s==null?void 0:s.in),r=a.getFullYear(),n=Oi(),o=(s==null?void 0:s.firstWeekContainsDate)??((h=(p=s==null?void 0:s.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((j=(g=n.locale)==null?void 0:g.options)==null?void 0:j.firstWeekContainsDate)??1,c=Gt((s==null?void 0:s.in)||t,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const d=dn(c,s),m=Gt((s==null?void 0:s.in)||t,0);m.setFullYear(r,0,o),m.setHours(0,0,0,0);const f=dn(m,s);return+a>=+d?r+1:+a>=+f?r:r-1}function JA(t,s){var d,m,f,p;const a=Oi(),r=(s==null?void 0:s.firstWeekContainsDate)??((m=(d=s==null?void 0:s.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(f=a.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,n=Zh(t,s),o=Gt((s==null?void 0:s.in)||t,0);return o.setFullYear(n,0,r),o.setHours(0,0,0,0),dn(o,s)}function E1(t,s){const a=Xe(t,s==null?void 0:s.in),r=+dn(a,s)-+JA(a,s);return Math.round(r/y1)+1}function Kt(t,s){const a=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return a+r}const On={y(t,s){const a=t.getFullYear(),r=a>0?a:1-a;return Kt(s==="yy"?r%100:r,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):Kt(a+1,2)},d(t,s){return Kt(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,s){return Kt(t.getHours()%12||12,s.length)},H(t,s){return Kt(t.getHours(),s.length)},m(t,s){return Kt(t.getMinutes(),s.length)},s(t,s){return Kt(t.getSeconds(),s.length)},S(t,s){const a=s.length,r=t.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return Kt(n,s.length)}},fo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ty={G:function(t,s,a){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const r=t.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return On.y(t,s)},Y:function(t,s,a,r){const n=Zh(t,r),o=n>0?n:1-n;if(s==="YY"){const c=o%100;return Kt(c,2)}return s==="Yo"?a.ordinalNumber(o,{unit:"year"}):Kt(o,s.length)},R:function(t,s){const a=j1(t);return Kt(a,s.length)},u:function(t,s){const a=t.getFullYear();return Kt(a,s.length)},Q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return Kt(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return Kt(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,a){const r=t.getMonth();switch(s){case"M":case"MM":return On.M(t,s);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,a){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return Kt(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,a,r){const n=E1(t,r);return s==="wo"?a.ordinalNumber(n,{unit:"week"}):Kt(n,s.length)},I:function(t,s,a){const r=Jh(t);return s==="Io"?a.ordinalNumber(r,{unit:"week"}):Kt(r,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):On.d(t,s)},D:function(t,s,a){const r=XA(t);return s==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):Kt(r,s.length)},E:function(t,s,a){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(o);case"ee":return Kt(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(o);case"cc":return Kt(o,s.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,a){const r=t.getDay(),n=r===0?7:r;switch(s){case"i":return String(n);case"ii":return Kt(n,s.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,a){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,a){const r=t.getHours();let n;switch(r===12?n=fo.noon:r===0?n=fo.midnight:n=r/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,a){const r=t.getHours();let n;switch(r>=17?n=fo.evening:r>=12?n=fo.afternoon:r>=4?n=fo.morning:n=fo.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return On.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):On.H(t,s)},K:function(t,s,a){const r=t.getHours()%12;return s==="Ko"?a.ordinalNumber(r,{unit:"hour"}):Kt(r,s.length)},k:function(t,s,a){let r=t.getHours();return r===0&&(r=24),s==="ko"?a.ordinalNumber(r,{unit:"hour"}):Kt(r,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):On.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):On.s(t,s)},S:function(t,s){return On.S(t,s)},X:function(t,s,a){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return ry(r);case"XXXX":case"XX":return hi(r);case"XXXXX":case"XXX":default:return hi(r,":")}},x:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"x":return ry(r);case"xxxx":case"xx":return hi(r);case"xxxxx":case"xxx":default:return hi(r,":")}},O:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+ay(r,":");case"OOOO":default:return"GMT"+hi(r,":")}},z:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+ay(r,":");case"zzzz":default:return"GMT"+hi(r,":")}},t:function(t,s,a){const r=Math.trunc(+t/1e3);return Kt(r,s.length)},T:function(t,s,a){return Kt(+t,s.length)}};function ay(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Math.trunc(r/60),o=r%60;return o===0?a+String(n):a+String(n)+s+Kt(o,2)}function ry(t,s){return t%60===0?(t>0?"-":"+")+Kt(Math.abs(t)/60,2):hi(t,s)}function hi(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Kt(Math.trunc(r/60),2),o=Kt(r%60,2);return a+n+s+o}const sy=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},D1=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},ZA=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return sy(t,s);let o;switch(r){case"P":o=s.dateTime({width:"short"});break;case"PP":o=s.dateTime({width:"medium"});break;case"PPP":o=s.dateTime({width:"long"});break;case"PPPP":default:o=s.dateTime({width:"full"});break}return o.replace("{{date}}",sy(r,s)).replace("{{time}}",D1(n,s))},th={p:D1,P:ZA},e3=/^D+$/,t3=/^Y+$/,a3=["D","DD","YY","YYYY"];function r3(t){return e3.test(t)}function s3(t){return t3.test(t)}function n3(t,s,a){const r=i3(t,s,a);if(console.warn(r),a3.includes(t))throw new RangeError(r)}function i3(t,s,a){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c3=/^'([^]*?)'?$/,d3=/''/g,u3=/[a-zA-Z]/;function Fn(t,s,a){var p,h,g,j,b,y,w,C;const r=Oi(),n=(a==null?void 0:a.locale)??r.locale??_1,o=(a==null?void 0:a.firstWeekContainsDate)??((h=(p=a==null?void 0:a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((j=(g=r.locale)==null?void 0:g.options)==null?void 0:j.firstWeekContainsDate)??1,c=(a==null?void 0:a.weekStartsOn)??((y=(b=a==null?void 0:a.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((C=(w=r.locale)==null?void 0:w.options)==null?void 0:C.weekStartsOn)??0,d=Xe(t,a==null?void 0:a.in);if(!lu(d))throw new RangeError("Invalid time value");let m=s.match(l3).map(S=>{const k=S[0];if(k==="p"||k==="P"){const P=th[k];return P(S,n.formatLong)}return S}).join("").match(o3).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const k=S[0];if(k==="'")return{isToken:!1,value:m3(S)};if(ty[k])return{isToken:!0,value:S};if(k.match(u3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:S}});n.localize.preprocessor&&(m=n.localize.preprocessor(d,m));const f={firstWeekContainsDate:o,weekStartsOn:c,locale:n};return m.map(S=>{if(!S.isToken)return S.value;const k=S.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&s3(k)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&r3(k))&&n3(k,s,String(t));const P=ty[k[0]];return P(d,k,n.localize,f)}).join("")}function m3(t){const s=t.match(c3);return s?s[1].replace(d3,"'"):t}function ny(t,s){return Xe(t,s==null?void 0:s.in).getDate()}function f3(t,s){return Xe(t,s==null?void 0:s.in).getDay()}function p3(t,s){const a=Xe(t,s==null?void 0:s.in),r=a.getFullYear(),n=a.getMonth(),o=Gt(a,0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}function h3(){return Object.assign({},Oi())}function sn(t,s){return Xe(t,s==null?void 0:s.in).getHours()}function x3(t,s){const a=Xe(t,s==null?void 0:s.in).getDay();return a===0?7:a}function nn(t,s){return Xe(t,s==null?void 0:s.in).getMinutes()}function ir(t,s){return Xe(t,s==null?void 0:s.in).getMonth()}function Un(t){return Xe(t).getSeconds()}function ah(t){return+Xe(t)}function yt(t,s){return Xe(t,s==null?void 0:s.in).getFullYear()}function Kn(t,s){return+Xe(t)>+Xe(s)}function Cs(t,s){return+Xe(t)<+Xe(s)}function g3(t,s){return+Xe(t)==+Xe(s)}function v3(t,s){const a=y3(s)?new s(0):Gt(s,0);return a.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),a.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),a}function y3(t){var s;return typeof t=="function"&&((s=t.prototype)==null?void 0:s.constructor)===t}const b3=10;class P1{constructor(){Be(this,"subPriority",0)}validate(s,a){return!0}}class j3 extends P1{constructor(s,a,r,n,o){super(),this.value=s,this.validateValue=a,this.setValue=r,this.priority=n,o&&(this.subPriority=o)}validate(s,a){return this.validateValue(s,this.value,a)}set(s,a,r){return this.setValue(s,a,this.value,r)}}class w3 extends P1{constructor(a,r){super();Be(this,"priority",b3);Be(this,"subPriority",-1);this.context=a||(n=>Gt(r,n))}set(a,r){return r.timestampIsSet?a:Gt(a,v3(a,this.context))}}class Ut{run(s,a,r,n){const o=this.parse(s,a,r,n);return o?{setter:new j3(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(s,a,r){return!0}}class N3 extends Ut{constructor(){super(...arguments);Be(this,"priority",140);Be(this,"incompatibleTokens",["R","u","t","T"])}parse(a,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"})||n.era(a,{width:"narrow"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})||n.era(a,{width:"abbreviated"})||n.era(a,{width:"narrow"})}}set(a,r,n){return r.era=n,a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}}const Ca={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ws={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ka(t,s){return t&&{value:s(t.value),rest:t.rest}}function fa(t,s){const a=s.match(t);return a?{value:parseInt(a[0],10),rest:s.slice(a[0].length)}:null}function Ns(t,s){const a=s.match(t);if(!a)return null;if(a[0]==="Z")return{value:0,rest:s.slice(1)};const r=a[1]==="+"?1:-1,n=a[2]?parseInt(a[2],10):0,o=a[3]?parseInt(a[3],10):0,c=a[5]?parseInt(a[5],10):0;return{value:r*(n*Ju+o*Xu+c*mA),rest:s.slice(a[0].length)}}function R1(t){return fa(Ca.anyDigitsSigned,t)}function ya(t,s){switch(t){case 1:return fa(Ca.singleDigit,s);case 2:return fa(Ca.twoDigits,s);case 3:return fa(Ca.threeDigits,s);case 4:return fa(Ca.fourDigits,s);default:return fa(new RegExp("^\\d{1,"+t+"}"),s)}}function mu(t,s){switch(t){case 1:return fa(Ca.singleDigitSigned,s);case 2:return fa(Ca.twoDigitsSigned,s);case 3:return fa(Ca.threeDigitsSigned,s);case 4:return fa(Ca.fourDigitsSigned,s);default:return fa(new RegExp("^-?\\d{1,"+t+"}"),s)}}function ex(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function M1(t,s){const a=s>0,r=a?s:1-s;let n;if(r<=50)n=t||100;else{const o=r+50,c=Math.trunc(o/100)*100,d=t>=o%100;n=t+c-(d?100:0)}return a?n:1-n}function T1(t){return t%400===0||t%4===0&&t%100!==0}class S3 extends Ut{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(a,r,n){const o=c=>({year:c,isTwoDigitYear:r==="yy"});switch(r){case"y":return ka(ya(4,a),o);case"yo":return ka(n.ordinalNumber(a,{unit:"year"}),o);default:return ka(ya(r.length,a),o)}}validate(a,r){return r.isTwoDigitYear||r.year>0}set(a,r,n){const o=a.getFullYear();if(n.isTwoDigitYear){const d=M1(n.year,o);return a.setFullYear(d,0,1),a.setHours(0,0,0,0),a}const c=!("era"in r)||r.era===1?n.year:1-n.year;return a.setFullYear(c,0,1),a.setHours(0,0,0,0),a}}class C3 extends Ut{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(a,r,n){const o=c=>({year:c,isTwoDigitYear:r==="YY"});switch(r){case"Y":return ka(ya(4,a),o);case"Yo":return ka(n.ordinalNumber(a,{unit:"year"}),o);default:return ka(ya(r.length,a),o)}}validate(a,r){return r.isTwoDigitYear||r.year>0}set(a,r,n,o){const c=Zh(a,o);if(n.isTwoDigitYear){const m=M1(n.year,c);return a.setFullYear(m,0,o.firstWeekContainsDate),a.setHours(0,0,0,0),dn(a,o)}const d=!("era"in r)||r.era===1?n.year:1-n.year;return a.setFullYear(d,0,o.firstWeekContainsDate),a.setHours(0,0,0,0),dn(a,o)}}class k3 extends Ut{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(a,r){return mu(r==="R"?4:r.length,a)}set(a,r,n){const o=Gt(a,0);return o.setFullYear(n,0,4),o.setHours(0,0,0,0),So(o)}}class _3 extends Ut{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(a,r){return mu(r==="u"?4:r.length,a)}set(a,r,n){return a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}}class E3 extends Ut{constructor(){super(...arguments);Be(this,"priority",120);Be(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(a,r,n){switch(r){case"Q":case"QQ":return ya(r.length,a);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"})||n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})||n.quarter(a,{width:"abbreviated",context:"formatting"})||n.quarter(a,{width:"narrow",context:"formatting"})}}validate(a,r){return r>=1&&r<=4}set(a,r,n){return a.setMonth((n-1)*3,1),a.setHours(0,0,0,0),a}}class D3 extends Ut{constructor(){super(...arguments);Be(this,"priority",120);Be(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(a,r,n){switch(r){case"q":case"qq":return ya(r.length,a);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"})||n.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})||n.quarter(a,{width:"abbreviated",context:"standalone"})||n.quarter(a,{width:"narrow",context:"standalone"})}}validate(a,r){return r>=1&&r<=4}set(a,r,n){return a.setMonth((n-1)*3,1),a.setHours(0,0,0,0),a}}class P3 extends Ut{constructor(){super(...arguments);Be(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Be(this,"priority",110)}parse(a,r,n){const o=c=>c-1;switch(r){case"M":return ka(fa(Ca.month,a),o);case"MM":return ka(ya(2,a),o);case"Mo":return ka(n.ordinalNumber(a,{unit:"month"}),o);case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"})||n.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})||n.month(a,{width:"abbreviated",context:"formatting"})||n.month(a,{width:"narrow",context:"formatting"})}}validate(a,r){return r>=0&&r<=11}set(a,r,n){return a.setMonth(n,1),a.setHours(0,0,0,0),a}}class R3 extends Ut{constructor(){super(...arguments);Be(this,"priority",110);Be(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(a,r,n){const o=c=>c-1;switch(r){case"L":return ka(fa(Ca.month,a),o);case"LL":return ka(ya(2,a),o);case"Lo":return ka(n.ordinalNumber(a,{unit:"month"}),o);case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"})||n.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})||n.month(a,{width:"abbreviated",context:"standalone"})||n.month(a,{width:"narrow",context:"standalone"})}}validate(a,r){return r>=0&&r<=11}set(a,r,n){return a.setMonth(n,1),a.setHours(0,0,0,0),a}}function M3(t,s,a){const r=Xe(t,a==null?void 0:a.in),n=E1(r,a)-s;return r.setDate(r.getDate()-n*7),Xe(r,a==null?void 0:a.in)}class T3 extends Ut{constructor(){super(...arguments);Be(this,"priority",100);Be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(a,r,n){switch(r){case"w":return fa(Ca.week,a);case"wo":return n.ordinalNumber(a,{unit:"week"});default:return ya(r.length,a)}}validate(a,r){return r>=1&&r<=53}set(a,r,n,o){return dn(M3(a,n,o),o)}}function A3(t,s,a){const r=Xe(t,a==null?void 0:a.in),n=Jh(r,a)-s;return r.setDate(r.getDate()-n*7),r}class O3 extends Ut{constructor(){super(...arguments);Be(this,"priority",100);Be(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(a,r,n){switch(r){case"I":return fa(Ca.week,a);case"Io":return n.ordinalNumber(a,{unit:"week"});default:return ya(r.length,a)}}validate(a,r){return r>=1&&r<=53}set(a,r,n){return So(A3(a,n))}}const I3=[31,28,31,30,31,30,31,31,30,31,30,31],L3=[31,29,31,30,31,30,31,31,30,31,30,31];class F3 extends Ut{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"subPriority",1);Be(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(a,r,n){switch(r){case"d":return fa(Ca.date,a);case"do":return n.ordinalNumber(a,{unit:"date"});default:return ya(r.length,a)}}validate(a,r){const n=a.getFullYear(),o=T1(n),c=a.getMonth();return o?r>=1&&r<=L3[c]:r>=1&&r<=I3[c]}set(a,r,n){return a.setDate(n),a.setHours(0,0,0,0),a}}class $3 extends Ut{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"subpriority",1);Be(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(a,r,n){switch(r){case"D":case"DD":return fa(Ca.dayOfYear,a);case"Do":return n.ordinalNumber(a,{unit:"date"});default:return ya(r.length,a)}}validate(a,r){const n=a.getFullYear();return T1(n)?r>=1&&r<=366:r>=1&&r<=365}set(a,r,n){return a.setMonth(0,n),a.setHours(0,0,0,0),a}}function tx(t,s,a){var h,g,j,b;const r=Oi(),n=(a==null?void 0:a.weekStartsOn)??((g=(h=a==null?void 0:a.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((b=(j=r.locale)==null?void 0:j.options)==null?void 0:b.weekStartsOn)??0,o=Xe(t,a==null?void 0:a.in),c=o.getDay(),m=(s%7+7)%7,f=7-n,p=s<0||s>6?s-(c+f)%7:(m+f)%7-(c+f)%7;return os(o,p,a)}class z3 extends Ut{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(a,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"})||n.day(a,{width:"short",context:"formatting"})||n.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"})||n.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})||n.day(a,{width:"abbreviated",context:"formatting"})||n.day(a,{width:"short",context:"formatting"})||n.day(a,{width:"narrow",context:"formatting"})}}validate(a,r){return r>=0&&r<=6}set(a,r,n,o){return a=tx(a,n,o),a.setHours(0,0,0,0),a}}class B3 extends Ut{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(a,r,n,o){const c=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"e":case"ee":return ka(ya(r.length,a),c);case"eo":return ka(n.ordinalNumber(a,{unit:"day"}),c);case"eee":return n.day(a,{width:"abbreviated",context:"formatting"})||n.day(a,{width:"short",context:"formatting"})||n.day(a,{width:"narrow",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"})||n.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})||n.day(a,{width:"abbreviated",context:"formatting"})||n.day(a,{width:"short",context:"formatting"})||n.day(a,{width:"narrow",context:"formatting"})}}validate(a,r){return r>=0&&r<=6}set(a,r,n,o){return a=tx(a,n,o),a.setHours(0,0,0,0),a}}class U3 extends Ut{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(a,r,n,o){const c=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"c":case"cc":return ka(ya(r.length,a),c);case"co":return ka(n.ordinalNumber(a,{unit:"day"}),c);case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"})||n.day(a,{width:"short",context:"standalone"})||n.day(a,{width:"narrow",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"})||n.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})||n.day(a,{width:"abbreviated",context:"standalone"})||n.day(a,{width:"short",context:"standalone"})||n.day(a,{width:"narrow",context:"standalone"})}}validate(a,r){return r>=0&&r<=6}set(a,r,n,o){return a=tx(a,n,o),a.setHours(0,0,0,0),a}}function H3(t,s,a){const r=Xe(t,a==null?void 0:a.in),n=x3(r,a),o=s-n;return os(r,o,a)}class V3 extends Ut{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(a,r,n){const o=c=>c===0?7:c;switch(r){case"i":case"ii":return ya(r.length,a);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return ka(n.day(a,{width:"abbreviated",context:"formatting"})||n.day(a,{width:"short",context:"formatting"})||n.day(a,{width:"narrow",context:"formatting"}),o);case"iiiii":return ka(n.day(a,{width:"narrow",context:"formatting"}),o);case"iiiiii":return ka(n.day(a,{width:"short",context:"formatting"})||n.day(a,{width:"narrow",context:"formatting"}),o);case"iiii":default:return ka(n.day(a,{width:"wide",context:"formatting"})||n.day(a,{width:"abbreviated",context:"formatting"})||n.day(a,{width:"short",context:"formatting"})||n.day(a,{width:"narrow",context:"formatting"}),o)}}validate(a,r){return r>=1&&r<=7}set(a,r,n){return a=H3(a,n),a.setHours(0,0,0,0),a}}class W3 extends Ut{constructor(){super(...arguments);Be(this,"priority",80);Be(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(a,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"})||n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})||n.dayPeriod(a,{width:"abbreviated",context:"formatting"})||n.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,r,n){return a.setHours(ex(n),0,0,0),a}}class Y3 extends Ut{constructor(){super(...arguments);Be(this,"priority",80);Be(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(a,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"})||n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})||n.dayPeriod(a,{width:"abbreviated",context:"formatting"})||n.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,r,n){return a.setHours(ex(n),0,0,0),a}}class q3 extends Ut{constructor(){super(...arguments);Be(this,"priority",80);Be(this,"incompatibleTokens",["a","b","t","T"])}parse(a,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"})||n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})||n.dayPeriod(a,{width:"abbreviated",context:"formatting"})||n.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,r,n){return a.setHours(ex(n),0,0,0),a}}class K3 extends Ut{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["H","K","k","t","T"])}parse(a,r,n){switch(r){case"h":return fa(Ca.hour12h,a);case"ho":return n.ordinalNumber(a,{unit:"hour"});default:return ya(r.length,a)}}validate(a,r){return r>=1&&r<=12}set(a,r,n){const o=a.getHours()>=12;return o&&n<12?a.setHours(n+12,0,0,0):!o&&n===12?a.setHours(0,0,0,0):a.setHours(n,0,0,0),a}}class G3 extends Ut{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(a,r,n){switch(r){case"H":return fa(Ca.hour23h,a);case"Ho":return n.ordinalNumber(a,{unit:"hour"});default:return ya(r.length,a)}}validate(a,r){return r>=0&&r<=23}set(a,r,n){return a.setHours(n,0,0,0),a}}class Q3 extends Ut{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["h","H","k","t","T"])}parse(a,r,n){switch(r){case"K":return fa(Ca.hour11h,a);case"Ko":return n.ordinalNumber(a,{unit:"hour"});default:return ya(r.length,a)}}validate(a,r){return r>=0&&r<=11}set(a,r,n){return a.getHours()>=12&&n<12?a.setHours(n+12,0,0,0):a.setHours(n,0,0,0),a}}class X3 extends Ut{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(a,r,n){switch(r){case"k":return fa(Ca.hour24h,a);case"ko":return n.ordinalNumber(a,{unit:"hour"});default:return ya(r.length,a)}}validate(a,r){return r>=1&&r<=24}set(a,r,n){const o=n<=24?n%24:n;return a.setHours(o,0,0,0),a}}class J3 extends Ut{constructor(){super(...arguments);Be(this,"priority",60);Be(this,"incompatibleTokens",["t","T"])}parse(a,r,n){switch(r){case"m":return fa(Ca.minute,a);case"mo":return n.ordinalNumber(a,{unit:"minute"});default:return ya(r.length,a)}}validate(a,r){return r>=0&&r<=59}set(a,r,n){return a.setMinutes(n,0,0),a}}class Z3 extends Ut{constructor(){super(...arguments);Be(this,"priority",50);Be(this,"incompatibleTokens",["t","T"])}parse(a,r,n){switch(r){case"s":return fa(Ca.second,a);case"so":return n.ordinalNumber(a,{unit:"second"});default:return ya(r.length,a)}}validate(a,r){return r>=0&&r<=59}set(a,r,n){return a.setSeconds(n,0),a}}class e5 extends Ut{constructor(){super(...arguments);Be(this,"priority",30);Be(this,"incompatibleTokens",["t","T"])}parse(a,r){const n=o=>Math.trunc(o*Math.pow(10,-r.length+3));return ka(ya(r.length,a),n)}set(a,r,n){return a.setMilliseconds(n),a}}class t5 extends Ut{constructor(){super(...arguments);Be(this,"priority",10);Be(this,"incompatibleTokens",["t","T","x"])}parse(a,r){switch(r){case"X":return Ns(ws.basicOptionalMinutes,a);case"XX":return Ns(ws.basic,a);case"XXXX":return Ns(ws.basicOptionalSeconds,a);case"XXXXX":return Ns(ws.extendedOptionalSeconds,a);case"XXX":default:return Ns(ws.extended,a)}}set(a,r,n){return r.timestampIsSet?a:Gt(a,a.getTime()-iu(a)-n)}}class a5 extends Ut{constructor(){super(...arguments);Be(this,"priority",10);Be(this,"incompatibleTokens",["t","T","X"])}parse(a,r){switch(r){case"x":return Ns(ws.basicOptionalMinutes,a);case"xx":return Ns(ws.basic,a);case"xxxx":return Ns(ws.basicOptionalSeconds,a);case"xxxxx":return Ns(ws.extendedOptionalSeconds,a);case"xxx":default:return Ns(ws.extended,a)}}set(a,r,n){return r.timestampIsSet?a:Gt(a,a.getTime()-iu(a)-n)}}class r5 extends Ut{constructor(){super(...arguments);Be(this,"priority",40);Be(this,"incompatibleTokens","*")}parse(a){return R1(a)}set(a,r,n){return[Gt(a,n*1e3),{timestampIsSet:!0}]}}class s5 extends Ut{constructor(){super(...arguments);Be(this,"priority",20);Be(this,"incompatibleTokens","*")}parse(a){return R1(a)}set(a,r,n){return[Gt(a,n),{timestampIsSet:!0}]}}const n5={G:new N3,y:new S3,Y:new C3,R:new k3,u:new _3,Q:new E3,q:new D3,M:new P3,L:new R3,w:new T3,I:new O3,d:new F3,D:new $3,E:new z3,e:new B3,c:new U3,i:new V3,a:new W3,b:new Y3,B:new q3,h:new K3,H:new G3,K:new Q3,k:new X3,m:new J3,s:new Z3,S:new e5,X:new t5,x:new a5,t:new r5,T:new s5},i5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,o5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l5=/^'([^]*?)'?$/,c5=/''/g,d5=/\S/,u5=/[a-zA-Z]/;function m5(t,s,a,r){var w,C,S,k,P,R,D,E;const n=()=>Gt((r==null?void 0:r.in)||a,NaN),o=h3(),c=(r==null?void 0:r.locale)??o.locale??_1,d=(r==null?void 0:r.firstWeekContainsDate)??((C=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:C.firstWeekContainsDate)??o.firstWeekContainsDate??((k=(S=o.locale)==null?void 0:S.options)==null?void 0:k.firstWeekContainsDate)??1,m=(r==null?void 0:r.weekStartsOn)??((R=(P=r==null?void 0:r.locale)==null?void 0:P.options)==null?void 0:R.weekStartsOn)??o.weekStartsOn??((E=(D=o.locale)==null?void 0:D.options)==null?void 0:E.weekStartsOn)??0;if(!s)return t?n():Xe(a,r==null?void 0:r.in);const f={firstWeekContainsDate:d,weekStartsOn:m,locale:c},p=[new w3(r==null?void 0:r.in,a)],h=s.match(o5).map(O=>{const I=O[0];if(I in th){const z=th[I];return z(O,c.formatLong)}return O}).join("").match(i5),g=[];for(let O of h){const I=O[0],z=n5[I];if(z){const{incompatibleTokens:B}=z;if(Array.isArray(B)){const $=g.find(M=>B.includes(M.token)||M.token===I);if($)throw new RangeError(`The format string mustn't contain \`${$.fullToken}\` and \`${O}\` at the same time`)}else if(z.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${O}\` and any other token at the same time`);g.push({token:I,fullToken:O});const Y=z.run(t,O,c.match,f);if(!Y)return n();p.push(Y.setter),t=Y.rest}else{if(I.match(u5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(O==="''"?O="'":I==="'"&&(O=f5(O)),t.indexOf(O)===0)t=t.slice(O.length);else return n()}}if(t.length>0&&d5.test(t))return n();const j=p.map(O=>O.priority).sort((O,I)=>I-O).filter((O,I,z)=>z.indexOf(O)===I).map(O=>p.filter(I=>I.priority===O).sort((I,z)=>z.subPriority-I.subPriority)).map(O=>O[0]);let b=Xe(a,r==null?void 0:r.in);if(isNaN(+b))return n();const y={};for(const O of j){if(!O.validate(b,f))return n();const I=O.set(b,y,f);Array.isArray(I)?(b=I[0],Object.assign(y,I[1])):b=I}return b}function f5(t){return t.match(l5)[1].replace(c5,"'")}function p5(t,s,a){const[r,n]=mn(a==null?void 0:a.in,t,s);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function h5(t,s,a){const[r,n]=mn(a==null?void 0:a.in,t,s);return+eh(r)==+eh(n)}function x5(t,s,a){const[r,n]=mn(a==null?void 0:a.in,t,s);return r.getFullYear()===n.getFullYear()}function Ul(t,s,a){const r=+Xe(t,a==null?void 0:a.in),[n,o]=[+Xe(s.start,a==null?void 0:a.in),+Xe(s.end,a==null?void 0:a.in)].sort((c,d)=>c-d);return r>=n&&r<=o}function g5(t,s,a){return os(t,-1,a)}function A1(t,s){const a=()=>Gt(s==null?void 0:s.in,NaN),n=j5(t);let o;if(n.date){const f=w5(n.date,2);o=N5(f.restDateString,f.year)}if(!o||isNaN(+o))return a();const c=+o;let d=0,m;if(n.time&&(d=S5(n.time),isNaN(d)))return a();if(n.timezone){if(m=C5(n.timezone),isNaN(m))return a()}else{const f=new Date(c+d),p=Xe(0,s==null?void 0:s.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return Xe(c+d+m,s==null?void 0:s.in)}const Sd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},v5=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,y5=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,b5=/^([+-])(\d{2})(?::?(\d{2}))?$/;function j5(t){const s={},a=t.split(Sd.dateTimeDelimiter);let r;if(a.length>2)return s;if(/:/.test(a[0])?r=a[0]:(s.date=a[0],r=a[1],Sd.timeZoneDelimiter.test(s.date)&&(s.date=t.split(Sd.timeZoneDelimiter)[0],r=t.substr(s.date.length,t.length))),r){const n=Sd.timezone.exec(r);n?(s.time=r.replace(n[1],""),s.timezone=n[1]):s.time=r}return s}function w5(t,s){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),r=t.match(a);if(!r)return{year:NaN,restDateString:""};const n=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?n:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function N5(t,s){if(s===null)return new Date(NaN);const a=t.match(v5);if(!a)return new Date(NaN);const r=!!a[4],n=El(a[1]),o=El(a[2])-1,c=El(a[3]),d=El(a[4]),m=El(a[5])-1;if(r)return P5(s,d,m)?k5(s,d,m):new Date(NaN);{const f=new Date(0);return!E5(s,o,c)||!D5(s,n)?new Date(NaN):(f.setUTCFullYear(s,o,Math.max(n,c)),f)}}function El(t){return t?parseInt(t):1}function S5(t){const s=t.match(y5);if(!s)return NaN;const a=pp(s[1]),r=pp(s[2]),n=pp(s[3]);return R5(a,r,n)?a*Ju+r*Xu+n*1e3:NaN}function pp(t){return t&&parseFloat(t.replace(",","."))||0}function C5(t){if(t==="Z")return 0;const s=t.match(b5);if(!s)return 0;const a=s[1]==="+"?-1:1,r=parseInt(s[2]),n=s[3]&&parseInt(s[3])||0;return M5(r,n)?a*(r*Ju+n*Xu):NaN}function k5(t,s,a){const r=new Date(0);r.setUTCFullYear(t,0,4);const n=r.getUTCDay()||7,o=(s-1)*7+a+1-n;return r.setUTCDate(r.getUTCDate()+o),r}const _5=[31,null,31,30,31,30,31,31,30,31,30,31];function O1(t){return t%400===0||t%4===0&&t%100!==0}function E5(t,s,a){return s>=0&&s<=11&&a>=1&&a<=(_5[s]||(O1(t)?29:28))}function D5(t,s){return s>=1&&s<=(O1(t)?366:365)}function P5(t,s,a){return s>=1&&s<=53&&a>=0&&a<=6}function R5(t,s,a){return t===24?s===0&&a===0:a>=0&&a<60&&s>=0&&s<60&&t>=0&&t<25}function M5(t,s){return s>=0&&s<=59}function Tr(t,s,a){const r=Xe(t,a==null?void 0:a.in),n=r.getFullYear(),o=r.getDate(),c=Gt(t,0);c.setFullYear(n,s,15),c.setHours(0,0,0,0);const d=p3(c);return r.setMonth(s,Math.min(o,d)),r}function zd(t,s,a){const r=Xe(t,a==null?void 0:a.in);return r.setHours(s),r}function Bd(t,s,a){const r=Xe(t,a==null?void 0:a.in);return r.setMinutes(s),r}function po(t,s,a){const r=Xe(t,a==null?void 0:a.in),n=Math.trunc(r.getMonth()/3)+1,o=s-n;return Tr(r,r.getMonth()+o*3)}function Ud(t,s,a){const r=Xe(t,a==null?void 0:a.in);return r.setSeconds(s),r}function gs(t,s,a){const r=Xe(t,a==null?void 0:a.in);return isNaN(+r)?Gt(t,NaN):(r.setFullYear(s),r)}function Ni(t,s,a){return ls(t,-s,a)}function I1(t,s,a){return Xh(t,-1,a)}function iy(t,s,a){return ou(t,-1,a)}function ko(t,s,a){return an(t,-s,a)}var T5=typeof document<"u",A5=function(){},fu=T5?x.useLayoutEffect:A5;const O5={...Hl},I5=O5.useInsertionEffect,L5=I5||(t=>t());function F5(t){const s=x.useRef(()=>{});return L5(()=>{s.current=t}),x.useCallback(function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return s.current==null?void 0:s.current(...r)},[])}const $5={...Hl};let oy=!1,z5=0;const ly=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+z5++;function B5(){const[t,s]=x.useState(()=>oy?ly():void 0);return fu(()=>{t==null&&s(ly())},[]),x.useEffect(()=>{oy=!0},[]),t}const U5=$5.useId,L1=U5||B5,H5=x.forwardRef(function(s,a){const{context:{placement:r,elements:{floating:n},middlewareData:{arrow:o,shift:c}},width:d=14,height:m=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:h,stroke:g,d:j,style:{transform:b,...y}={},...w}=s,C=L1(),[S,k]=x.useState(!1);if(fu(()=>{if(!n)return;Vr(n).direction==="rtl"&&k(!0)},[n]),!n)return null;const[P,R]=r.split("-"),D=P==="top"||P==="bottom";let E=h;(D&&c!=null&&c.x||!D&&c!=null&&c.y)&&(E=null);const O=p*2,I=O/2,z=d/2*(f/-8+1),B=m/2*f/4,Y=!!j,$=E&&R==="end"?"bottom":"top";let M=E&&R==="end"?"right":"left";E&&S&&(M=R==="end"?"left":"right");const G=(o==null?void 0:o.x)!=null?E||o.x:"",T=(o==null?void 0:o.y)!=null?E||o.y:"",L=j||"M0,0"+(" H"+d)+(" L"+(d-z)+","+(m-B))+(" Q"+d/2+","+m+" "+z+","+(m-B))+" Z",H={top:Y?"rotate(180deg)":"",left:Y?"rotate(90deg)":"rotate(-90deg)",bottom:Y?"":"rotate(180deg)",right:Y?"rotate(-90deg)":"rotate(90deg)"}[P];return e.jsxs("svg",{...w,"aria-hidden":!0,ref:a,width:Y?d:d+O,height:d,viewBox:"0 0 "+d+" "+(m>d?m:d),style:{position:"absolute",pointerEvents:"none",[M]:G,[$]:T,[P]:D||Y?"100%":"calc(100% - "+O/2+"px)",transform:[H,b].filter(Q=>!!Q).join(" "),...y},children:[O>0&&e.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:g,strokeWidth:O+(j?0:1),d:L}),e.jsx("path",{stroke:O&&!j?w.fill:"none",d:L}),e.jsx("clipPath",{id:C,children:e.jsx("rect",{x:-I,y:I*(Y?-1:1),width:d+O,height:d})})]})});function V5(){const t=new Map;return{emit(s,a){var r;(r=t.get(s))==null||r.forEach(n=>n(a))},on(s,a){t.has(s)||t.set(s,new Set),t.get(s).add(a)},off(s,a){var r;(r=t.get(s))==null||r.delete(a)}}}const W5=x.createContext(null),Y5=x.createContext(null),q5=()=>{var t;return((t=x.useContext(W5))==null?void 0:t.id)||null},K5=()=>x.useContext(Y5);function G5(t){const{open:s=!1,onOpenChange:a,elements:r}=t,n=L1(),o=x.useRef({}),[c]=x.useState(()=>V5()),d=q5()!=null,[m,f]=x.useState(r.reference),p=F5((j,b,y)=>{o.current.openEvent=j?b:void 0,c.emit("openchange",{open:j,event:b,reason:y,nested:d}),a==null||a(j,b,y)}),h=x.useMemo(()=>({setPositionReference:f}),[]),g=x.useMemo(()=>({reference:m||r.reference||null,floating:r.floating||null,domReference:r.reference}),[m,r.reference,r.floating]);return x.useMemo(()=>({dataRef:o,open:s,onOpenChange:p,elements:g,events:c,floatingId:n,refs:h}),[s,p,g,c,n,h])}function Q5(t){t===void 0&&(t={});const{nodeId:s}=t,a=G5({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||a,n=r.elements,[o,c]=x.useState(null),[d,m]=x.useState(null),p=(n==null?void 0:n.domReference)||o,h=x.useRef(null),g=K5();fu(()=>{p&&(h.current=p)},[p]);const j=Ej({...t,elements:{...n,...d&&{reference:d}}}),b=x.useCallback(k=>{const P=pr(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;m(P),j.refs.setReference(P)},[j.refs]),y=x.useCallback(k=>{(pr(k)||k===null)&&(h.current=k,c(k)),(pr(j.refs.reference.current)||j.refs.reference.current===null||k!==null&&!pr(k))&&j.refs.setReference(k)},[j.refs]),w=x.useMemo(()=>({...j.refs,setReference:y,setPositionReference:b,domReference:h}),[j.refs,y,b]),C=x.useMemo(()=>({...j.elements,domReference:p}),[j.elements,p]),S=x.useMemo(()=>({...j,...r,refs:w,elements:C,nodeId:s}),[j,w,C,s,r]);return fu(()=>{r.dataRef.current.floatingContext=S;const k=g==null?void 0:g.nodesRef.current.find(P=>P.id===s);k&&(k.context=S)}),x.useMemo(()=>({...j,context:S,refs:w,elements:C}),[j,w,C,S])}/*!
  react-datepicker v8.8.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var rh=function(s,a){return rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},rh(s,a)};function Za(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");rh(t,s);function a(){this.constructor=t}t.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}var Et=function(){return Et=Object.assign||function(a){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])}return a},Et.apply(this,arguments)};function ks(t,s,a){if(a||arguments.length===2)for(var r=0,n=s.length,o;r<n;r++)(o||!(r in s))&&(o||(o=Array.prototype.slice.call(s,0,r)),o[r]=s[r]);return t.concat(o||Array.prototype.slice.call(s))}var X5=function(t){var s=t.showTimeSelectOnly,a=s===void 0?!1:s,r=t.showTime,n=r===void 0?!1:r,o=t.className,c=t.children,d=a?"Choose Time":"Choose Date".concat(n?" and Time":"");return fe.createElement("div",{className:o,role:"dialog","aria-label":d,"aria-modal":"true"},c)},J5=function(t,s){var a=x.useRef(null),r=x.useRef(t);r.current=t;var n=x.useCallback(function(o){var c,d=o.composed&&o.composedPath&&o.composedPath().find(function(m){return m instanceof Node})||o.target;a.current&&!a.current.contains(d)&&(s&&d instanceof HTMLElement&&d.classList.contains(s)||(c=r.current)===null||c===void 0||c.call(r,o))},[s]);return x.useEffect(function(){return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[n]),a},em=function(t){var s=t.children,a=t.onClickOutside,r=t.className,n=t.containerRef,o=t.style,c=t.ignoreClass,d=J5(a,c);return fe.createElement("div",{className:r,style:o,ref:function(m){d.current=m,n&&(n.current=m)}},s)},Oe;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Oe||(Oe={}));function F1(){var t=typeof window<"u"?window:globalThis;return t}var nc=12;function Wt(t){if(t==null)return new Date;var s=typeof t=="string"?A1(t):Xe(t);return tm(s)?s:new Date}function hp(t,s,a,r,n){n===void 0&&(n=Wt());for(var o=_o(a)||_o(ax()),c=Array.isArray(s)?s:[s],d=0,m=c;d<m.length;d++){var f=m[d],p=m5(t,f,n,{locale:o});if(tm(p)&&(!r||t===sa(p,f,a)))return p}return null}function tm(t,s){return lu(t)&&!Cs(t,new Date("1/1/1800"))}function sa(t,s,a){if(a==="en")return Fn(t,s,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=a?_o(a):void 0;return a&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(a,'"].')),r=r||_o(ax()),Fn(t,s,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Mr(t,s){var a=s.dateFormat,r=s.locale,n=Array.isArray(a)&&a.length>0?a[0]:a;return t&&sa(t,n,r)||""}var $1=" - ";function Z5(t,s,a){if(!t&&!s)return"";var r=t?Mr(t,a):"",n=s?Mr(s,a):"",o=a.rangeSeparator||$1;return"".concat(r).concat(o).concat(n)}function eO(t,s){if(!(t!=null&&t.length))return"";var a=t[0]?Mr(t[0],s):"";if(t.length===1)return a;if(t.length===2&&t[1]){var r=Mr(t[1],s);return"".concat(a,", ").concat(r)}var n=t.length-1;return"".concat(a," (+").concat(n,")")}function xp(t,s){var a=s.hour,r=a===void 0?0:a,n=s.minute,o=n===void 0?0:n,c=s.second,d=c===void 0?0:c;return zd(Bd(Ud(t,d),o),r)}function tO(t){return Jh(t)}function aO(t,s){return sa(t,"ddd",s)}function Hd(t){return Mi(t)}function Hn(t,s,a){var r=_o(s||ax());return dn(t,{locale:r,weekStartsOn:a})}function on(t){return S1(t)}function Ml(t){return Zu(t)}function cy(t){return eh(t)}function dy(){return Mi(Wt())}function uy(t){return w1(t)}function rO(t){return yA(t)}function sO(t){return N1(t)}function vs(t,s){return t&&s?x5(t,s):!t&&!s}function fr(t,s){return t&&s?p5(t,s):!t&&!s}function pu(t,s){return t&&s?h5(t,s):!t&&!s}function _t(t,s){return t&&s?gA(t,s):!t&&!s}function yi(t,s){return t&&s?g3(t,s):!t&&!s}function xi(t,s,a){var r,n=Mi(s),o=w1(a);try{r=Ul(t,{start:n,end:o})}catch{r=!1}return r}function ax(){var t=F1();return t.__localeId__}function _o(t){if(typeof t=="string"){var s=F1();return s.__localeData__?s.__localeData__[t]:void 0}else return t}function nO(t,s,a){return s(sa(t,"EEEE",a))}function iO(t,s){return sa(t,"EEEEEE",s)}function oO(t,s){return sa(t,"EEE",s)}function rx(t,s){return sa(Tr(Wt(),t),"LLLL",s)}function z1(t,s){return sa(Tr(Wt(),t),"LLL",s)}function lO(t,s){return sa(po(Wt(),t),"QQQ",s)}function Ur(t,s){var a=s===void 0?{}:s,r=a.minDate,n=a.maxDate,o=a.excludeDates,c=a.excludeDateIntervals,d=a.includeDates,m=a.includeDateIntervals,f=a.filterDate,p=a.disabled;return p?!0:ic(t,{minDate:r,maxDate:n})||o&&o.some(function(h){return h instanceof Date?_t(t,h):_t(t,h.date)})||c&&c.some(function(h){var g=h.start,j=h.end;return Ul(t,{start:g,end:j})})||d&&!d.some(function(h){return _t(t,h)})||m&&!m.some(function(h){var g=h.start,j=h.end;return Ul(t,{start:g,end:j})})||f&&!f(Wt(t))||!1}function sx(t,s){var a=s===void 0?{}:s,r=a.excludeDates,n=a.excludeDateIntervals;return n&&n.length>0?n.some(function(o){var c=o.start,d=o.end;return Ul(t,{start:c,end:d})}):r&&r.some(function(o){var c;return o instanceof Date?_t(t,o):_t(t,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function B1(t,s){var a=s===void 0?{}:s,r=a.minDate,n=a.maxDate,o=a.excludeDates,c=a.includeDates,d=a.filterDate;return ic(t,{minDate:r?S1(r):void 0,maxDate:n?N1(n):void 0})||(o==null?void 0:o.some(function(m){return fr(t,m instanceof Date?m:m.date)}))||c&&!c.some(function(m){return fr(t,m)})||d&&!d(Wt(t))||!1}function Cd(t,s,a,r){var n=yt(t),o=ir(t),c=yt(s),d=ir(s),m=yt(r);return n===c&&n===m?o<=a&&a<=d:n<c?m===n&&o<=a||m===c&&d>=a||m<c&&m>n:!1}function cO(t,s){var a=s===void 0?{}:s,r=a.minDate,n=a.maxDate,o=a.excludeDates,c=a.includeDates;return ic(t,{minDate:r,maxDate:n})||o&&o.some(function(d){return fr(d instanceof Date?d:d.date,t)})||c&&!c.some(function(d){return fr(d,t)})||!1}function kd(t,s){var a=s===void 0?{}:s,r=a.minDate,n=a.maxDate,o=a.excludeDates,c=a.includeDates,d=a.filterDate,m=a.disabled;return m?!0:ic(t,{minDate:r,maxDate:n})||(o==null?void 0:o.some(function(f){return pu(t,f instanceof Date?f:f.date)}))||c&&!c.some(function(f){return pu(t,f)})||d&&!d(Wt(t))||!1}function _d(t,s,a){if(!s||!a||!lu(s)||!lu(a))return!1;var r=yt(s),n=yt(a);return r<=t&&n>=t}function Vd(t,s){var a=s===void 0?{}:s,r=a.minDate,n=a.maxDate,o=a.excludeDates,c=a.includeDates,d=a.filterDate,m=a.disabled;if(m)return!0;var f=new Date(t,0,1);return ic(f,{minDate:r?Zu(r):void 0,maxDate:n?C1(n):void 0})||(o==null?void 0:o.some(function(p){return vs(f,p instanceof Date?p:p.date)}))||c&&!c.some(function(p){return vs(f,p)})||d&&!d(Wt(f))||!1}function Ed(t,s,a,r){var n=yt(t),o=wi(t),c=yt(s),d=wi(s),m=yt(r);return n===c&&n===m?o<=a&&a<=d:n<c?m===n&&o<=a||m===c&&d>=a||m<c&&m>n:!1}function ic(t,s){var a,r=s===void 0?{}:s,n=r.minDate,o=r.maxDate;return(a=n&&Co(t,n)<0||o&&Co(t,o)>0)!==null&&a!==void 0?a:!1}function my(t,s){return s.some(function(a){return sn(a)===sn(t)&&nn(a)===nn(t)&&Un(a)===Un(t)})}function fy(t,s){var a=s===void 0?{}:s,r=a.excludeTimes,n=a.includeTimes,o=a.filterTime;return r&&my(t,r)||n&&!my(t,n)||o&&!o(t)||!1}function py(t,s){var a=s.minTime,r=s.maxTime;if(!a||!r)throw new Error("Both minTime and maxTime props required");var n=Wt();n=zd(n,sn(t)),n=Bd(n,nn(t)),n=Ud(n,Un(t));var o=Wt();o=zd(o,sn(a)),o=Bd(o,nn(a)),o=Ud(o,Un(a));var c=Wt();c=zd(c,sn(r)),c=Bd(c,nn(r)),c=Ud(c,Un(r));var d;try{d=!Ul(n,{start:o,end:c})}catch{d=!1}return d}function hy(t,s){var a=s===void 0?{}:s,r=a.minDate,n=a.includeDates,o=Ni(t,1);return r&&cu(r,o)>0||n&&n.every(function(c){return cu(c,o)>0})||!1}function xy(t,s){var a=s===void 0?{}:s,r=a.maxDate,n=a.includeDates,o=ls(t,1);return r&&cu(o,r)>0||n&&n.every(function(c){return cu(o,c)>0})||!1}function dO(t,s){var a=s===void 0?{}:s,r=a.minDate,n=a.includeDates,o=Zu(t),c=I1(o);return r&&du(r,c)>0||n&&n.every(function(d){return du(d,c)>0})||!1}function uO(t,s){var a=s===void 0?{}:s,r=a.maxDate,n=a.includeDates,o=C1(t),c=Xh(o,1);return r&&du(c,r)>0||n&&n.every(function(d){return du(c,d)>0})||!1}function gy(t,s){var a=s===void 0?{}:s,r=a.minDate,n=a.includeDates,o=ko(t,1);return r&&uu(r,o)>0||n&&n.every(function(c){return uu(c,o)>0})||!1}function mO(t,s){var a=s===void 0?{}:s,r=a.minDate,n=a.yearItemNumber,o=n===void 0?nc:n,c=Ml(ko(t,o)),d=Xs(c,o).endPeriod,m=r&&yt(r);return m&&m>d||!1}function vy(t,s){var a=s===void 0?{}:s,r=a.maxDate,n=a.includeDates,o=an(t,1);return r&&uu(o,r)>0||n&&n.every(function(c){return uu(o,c)>0})||!1}function fO(t,s){var a=s===void 0?{}:s,r=a.maxDate,n=a.yearItemNumber,o=n===void 0?nc:n,c=an(t,o),d=Xs(c,o).startPeriod,m=r&&yt(r);return m&&m<d||!1}function U1(t){var s=t.minDate,a=t.includeDates;if(a&&s){var r=a.filter(function(n){return Co(n,s)>=0});return Z0(r)}else return a?Z0(a):s}function H1(t){var s=t.maxDate,a=t.includeDates;if(a&&s){var r=a.filter(function(n){return Co(n,s)<=0});return J0(r)}else return a?J0(a):s}function yy(t,s){var a;t===void 0&&(t=[]),s===void 0&&(s="react-datepicker__day--highlighted");for(var r=new Map,n=0,o=t.length;n<o;n++){var c=t[n];if(rn(c)){var d=sa(c,"MM.dd.yyyy"),m=r.get(d)||[];m.includes(s)||(m.push(s),r.set(d,m))}else if(typeof c=="object"){var f=Object.keys(c),p=(a=f[0])!==null&&a!==void 0?a:"",h=c[p];if(typeof p=="string"&&Array.isArray(h))for(var g=0,j=h.length;g<j;g++){var b=h[g];if(b){var d=sa(b,"MM.dd.yyyy"),m=r.get(d)||[];m.includes(p)||(m.push(p),r.set(d,m))}}}}return r}function pO(t,s){return t.length!==s.length?!1:t.every(function(a,r){return a===s[r]})}function hO(t,s){t===void 0&&(t=[]),s===void 0&&(s="react-datepicker__day--holidays");var a=new Map;return t.forEach(function(r){var n=r.date,o=r.holidayName;if(rn(n)){var c=sa(n,"MM.dd.yyyy"),d=a.get(c)||{className:"",holidayNames:[]};if(!("className"in d&&d.className===s&&pO(d.holidayNames,[o]))){d.className=s;var m=d.holidayNames;d.holidayNames=m?ks(ks([],m,!0),[o],!1):[o],a.set(c,d)}}}),a}function xO(t,s,a,r,n){for(var o=n.length,c=[],d=0;d<o;d++){var m=t,f=n[d];f&&(m=fA(m,sn(f)),m=Zp(m,nn(f)),m=xA(m,Un(f)));var p=Zp(t,(a+1)*r);Kn(m,s)&&Cs(m,p)&&f!=null&&c.push(f)}return c}function by(t){return t<10?"0".concat(t):"".concat(t)}function Xs(t,s){s===void 0&&(s=nc);var a=Math.ceil(yt(t)/s)*s,r=a-(s-1);return{startPeriod:r,endPeriod:a}}function gO(t){var s=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+a-+s)/36e5)}function jy(t){var s=t.getSeconds(),a=t.getMilliseconds();return Xe(t.getTime()-s*1e3-a)}function vO(t,s){return jy(t).getTime()===jy(s).getTime()}function wy(t){if(!rn(t))throw new Error("Invalid date");var s=new Date(t);return s.setHours(0,0,0,0),s}function gp(t,s){if(!rn(t)||!rn(s))throw new Error("Invalid date received");var a=wy(t),r=wy(s);return Cs(a,r)}function V1(t){return t.key===Oe.Space}var yO=(function(t){Za(s,t);function s(a){var r=t.call(this,a)||this;return r.inputRef=fe.createRef(),r.onTimeChange=function(n){var o,c;r.setState({time:n});var d=r.props.date,m=d instanceof Date&&!isNaN(+d),f=m?d:new Date;if(n!=null&&n.includes(":")){var p=n.split(":"),h=p[0],g=p[1];f.setHours(Number(h)),f.setMinutes(Number(g))}(c=(o=r.props).onChange)===null||c===void 0||c.call(o,f)},r.renderTimeInput=function(){var n=r.state.time,o=r.props,c=o.date,d=o.timeString,m=o.customTimeInput;return m?x.cloneElement(m,{date:c,value:n,onChange:r.onTimeChange}):fe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var f;(f=r.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:n,onChange:function(f){r.onTimeChange(f.target.value||d)}})},r.state={time:r.props.timeString},r}return s.getDerivedStateFromProps=function(a,r){return a.timeString!==r.time?{time:a.timeString}:null},s.prototype.render=function(){return fe.createElement("div",{className:"react-datepicker__input-time-container"},fe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),fe.createElement("div",{className:"react-datepicker-time__input-container"},fe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},s})(x.Component),bO=(function(t){Za(s,t);function s(){var a=t!==null&&t.apply(this,arguments)||this;return a.dayEl=x.createRef(),a.handleClick=function(r){!a.isDisabled()&&a.props.onClick&&a.props.onClick(r)},a.handleMouseEnter=function(r){!a.isDisabled()&&a.props.onMouseEnter&&a.props.onMouseEnter(r)},a.handleOnKeyDown=function(r){var n,o,c=r.key;c===Oe.Space&&(r.preventDefault(),r.key=Oe.Enter),(o=(n=a.props).handleOnKeyDown)===null||o===void 0||o.call(n,r)},a.isSameDay=function(r){return _t(a.props.day,r)},a.isKeyboardSelected=function(){var r;if(a.props.disabledKeyboardNavigation)return!1;var n=a.props.selectsMultiple?(r=a.props.selectedDates)===null||r===void 0?void 0:r.some(function(c){return a.isSameDayOrWeek(c)}):a.isSameDayOrWeek(a.props.selected),o=a.props.preSelection&&a.isDisabled(a.props.preSelection);return!n&&a.isSameDayOrWeek(a.props.preSelection)&&!o},a.isDisabled=function(r){return r===void 0&&(r=a.props.day),Ur(r,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,includeDateIntervals:a.props.includeDateIntervals,includeDates:a.props.includeDates,filterDate:a.props.filterDate,disabled:a.props.disabled})},a.isExcluded=function(){return sx(a.props.day,{excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals})},a.isStartOfWeek=function(){return _t(a.props.day,Hn(a.props.day,a.props.locale,a.props.calendarStartDay))},a.isSameWeek=function(r){return a.props.showWeekPicker&&_t(r,Hn(a.props.day,a.props.locale,a.props.calendarStartDay))},a.isSameDayOrWeek=function(r){return a.isSameDay(r)||a.isSameWeek(r)},a.getHighLightedClass=function(){var r=a.props,n=r.day,o=r.highlightDates;if(!o)return!1;var c=sa(n,"MM.dd.yyyy");return o.get(c)},a.getHolidaysClass=function(){var r,n=a.props,o=n.day,c=n.holidays;if(!c)return[void 0];var d=sa(o,"MM.dd.yyyy");return c.has(d)?[(r=c.get(d))===null||r===void 0?void 0:r.className]:[void 0]},a.isInRange=function(){var r=a.props,n=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:xi(n,o,c)},a.isInSelectingRange=function(){var r,n=a.props,o=n.day,c=n.selectsStart,d=n.selectsEnd,m=n.selectsRange,f=n.selectsDisabledDaysInRange,p=n.startDate,h=n.swapRange,g=n.endDate,j=(r=a.props.selectingDate)!==null&&r!==void 0?r:a.props.preSelection;if(!(c||d||m)||!j||!f&&a.isDisabled())return!1;if(c&&g&&(Cs(j,g)||yi(j,g)))return xi(o,j,g);if(d&&p&&(Kn(j,p)||yi(j,p)))return xi(o,p,j);if(m&&p&&!g){if(yi(j,p)||Kn(j,p))return xi(o,p,j);if(h&&Cs(j,p))return xi(o,j,p)}return!1},a.isSelectingRangeStart=function(){var r;if(!a.isInSelectingRange())return!1;var n=a.props,o=n.day,c=n.startDate,d=n.selectsStart,m=n.swapRange,f=n.selectsRange,p=(r=a.props.selectingDate)!==null&&r!==void 0?r:a.props.preSelection;return d?_t(o,p):f&&m&&c&&p?_t(o,Cs(p,c)?p:c):_t(o,c)},a.isSelectingRangeEnd=function(){var r;if(!a.isInSelectingRange())return!1;var n=a.props,o=n.day,c=n.endDate,d=n.selectsEnd,m=n.selectsRange,f=n.swapRange,p=n.startDate,h=(r=a.props.selectingDate)!==null&&r!==void 0?r:a.props.preSelection;return d?_t(o,h):m&&f&&p&&h?_t(o,Cs(h,p)?p:h):m?_t(o,h):_t(o,c)},a.isRangeStart=function(){var r=a.props,n=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:_t(o,n)},a.isRangeEnd=function(){var r=a.props,n=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:_t(c,n)},a.isWeekend=function(){var r=f3(a.props.day);return r===0||r===6},a.isAfterMonth=function(){return a.props.month!==void 0&&(a.props.month+1)%12===ir(a.props.day)},a.isBeforeMonth=function(){return a.props.month!==void 0&&(ir(a.props.day)+1)%12===a.props.month},a.isCurrentDay=function(){return a.isSameDay(Wt())},a.isSelected=function(){var r;return a.props.selectsMultiple?(r=a.props.selectedDates)===null||r===void 0?void 0:r.some(function(n){return a.isSameDayOrWeek(n)}):a.isSameDayOrWeek(a.props.selected)},a.getClassNames=function(r){var n=a.props.dayClassName?a.props.dayClassName(r):void 0;return Ya("react-datepicker__day",n,"react-datepicker__day--"+aO(a.props.day),{"react-datepicker__day--disabled":a.isDisabled(),"react-datepicker__day--excluded":a.isExcluded(),"react-datepicker__day--selected":a.isSelected(),"react-datepicker__day--keyboard-selected":a.isKeyboardSelected(),"react-datepicker__day--range-start":a.isRangeStart(),"react-datepicker__day--range-end":a.isRangeEnd(),"react-datepicker__day--in-range":a.isInRange(),"react-datepicker__day--in-selecting-range":a.isInSelectingRange(),"react-datepicker__day--selecting-range-start":a.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":a.isSelectingRangeEnd(),"react-datepicker__day--today":a.isCurrentDay(),"react-datepicker__day--weekend":a.isWeekend(),"react-datepicker__day--outside-month":a.isAfterMonth()||a.isBeforeMonth()},a.getHighLightedClass(),a.getHolidaysClass())},a.getAriaLabel=function(){var r=a.props,n=r.day,o=r.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,d=r.ariaLabelPrefixWhenDisabled,m=d===void 0?"Not available":d,f=a.isDisabled()||a.isExcluded()?m:c;return"".concat(f," ").concat(sa(n,"PPPP",a.props.locale))},a.getTitle=function(){var r=a.props,n=r.day,o=r.holidays,c=o===void 0?new Map:o,d=r.excludeDates,m=sa(n,"MM.dd.yyyy"),f=[];return c.has(m)&&f.push.apply(f,c.get(m).holidayNames),a.isExcluded()&&f.push(d==null?void 0:d.filter(function(p){return p instanceof Date?_t(p,n):_t(p==null?void 0:p.date,n)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),f.join(", ")},a.getTabIndex=function(){var r=a.props.selected,n=a.props.preSelection,o=!(a.props.showWeekPicker&&(a.props.showWeekNumber||!a.isStartOfWeek()))&&(a.isKeyboardSelected()||a.isSameDay(r)&&_t(n,r))?0:-1;return o},a.handleFocusDay=function(){var r;a.shouldFocusDay()&&((r=a.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},a.renderDayContents=function(){return a.props.monthShowsDuplicateDaysEnd&&a.isAfterMonth()||a.props.monthShowsDuplicateDaysStart&&a.isBeforeMonth()?null:a.props.renderDayContents?a.props.renderDayContents(ny(a.props.day),a.props.day):ny(a.props.day)},a.render=function(){return fe.createElement("div",{ref:a.dayEl,className:a.getClassNames(a.props.day),onKeyDown:a.handleOnKeyDown,onClick:a.handleClick,onMouseEnter:a.props.usePointerEvent?void 0:a.handleMouseEnter,onPointerEnter:a.props.usePointerEvent?a.handleMouseEnter:void 0,tabIndex:a.getTabIndex(),"aria-label":a.getAriaLabel(),role:"gridcell",title:a.getTitle(),"aria-disabled":a.isDisabled(),"aria-current":a.isCurrentDay()?"date":void 0,"aria-selected":a.isSelected()||a.isInRange()},a.renderDayContents(),a.getTitle()!==""&&fe.createElement("span",{className:"overlay"},a.getTitle()))},a}return s.prototype.componentDidMount=function(){this.handleFocusDay()},s.prototype.componentDidUpdate=function(){this.handleFocusDay()},s.prototype.shouldFocusDay=function(){var a=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(a=!1),this.isDayActiveElement()&&(a=!0),this.isDuplicateDay()&&(a=!1)),a},s.prototype.isDayActiveElement=function(){var a,r,n;return((r=(a=this.props.containerRef)===null||a===void 0?void 0:a.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((n=document.activeElement)===null||n===void 0?void 0:n.classList.contains("react-datepicker__day"))},s.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},s})(x.Component),jO=(function(t){Za(s,t);function s(){var a=t!==null&&t.apply(this,arguments)||this;return a.weekNumberEl=x.createRef(),a.handleClick=function(r){a.props.onClick&&a.props.onClick(r)},a.handleOnKeyDown=function(r){var n,o,c=r.key;c===Oe.Space&&(r.preventDefault(),r.key=Oe.Enter),(o=(n=a.props).handleOnKeyDown)===null||o===void 0||o.call(n,r)},a.isKeyboardSelected=function(){return!a.props.disabledKeyboardNavigation&&!_t(a.props.date,a.props.selected)&&_t(a.props.date,a.props.preSelection)},a.getTabIndex=function(){return a.props.showWeekPicker&&a.props.showWeekNumber&&(a.isKeyboardSelected()||_t(a.props.date,a.props.selected)&&_t(a.props.preSelection,a.props.selected))?0:-1},a.handleFocusWeekNumber=function(r){var n=!1;a.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&_t(a.props.date,a.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),a.props.inline&&!a.props.shouldFocusDayInline&&(n=!1),a.props.containerRef&&a.props.containerRef.current&&a.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&a.weekNumberEl.current&&a.weekNumberEl.current.focus({preventScroll:!0})},a}return Object.defineProperty(s,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),s.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},s.prototype.componentDidUpdate=function(a){this.handleFocusWeekNumber(a)},s.prototype.render=function(){var a=this.props,r=a.weekNumber,n=a.isWeekDisabled,o=a.ariaLabelPrefix,c=o===void 0?s.defaultProps.ariaLabelPrefix:o,d=a.onClick,m={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!d&&!n,"react-datepicker__week-number--selected":!!d&&_t(this.props.date,this.props.selected)};return fe.createElement("div",{ref:this.weekNumberEl,className:Ya(m),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},s})(x.Component),wO=(function(t){Za(s,t);function s(){var a=t!==null&&t.apply(this,arguments)||this;return a.isDisabled=function(r){return Ur(r,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,includeDateIntervals:a.props.includeDateIntervals,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.handleDayClick=function(r,n){a.props.onDayClick&&a.props.onDayClick(r,n)},a.handleDayMouseEnter=function(r){a.props.onDayMouseEnter&&a.props.onDayMouseEnter(r)},a.handleWeekClick=function(r,n,o){for(var c,d,m,f=new Date(r),p=0;p<7;p++){var h=new Date(r);h.setDate(h.getDate()+p);var g=!a.isDisabled(h);if(g){f=h;break}}typeof a.props.onWeekSelect=="function"&&a.props.onWeekSelect(f,n,o),a.props.showWeekPicker&&a.handleDayClick(f,o),((c=a.props.shouldCloseOnSelect)!==null&&c!==void 0?c:s.defaultProps.shouldCloseOnSelect)&&((m=(d=a.props).setOpen)===null||m===void 0||m.call(d,!1))},a.formatWeekNumber=function(r){return a.props.formatWeekNumber?a.props.formatWeekNumber(r):tO(r)},a.isWeekDisabled=function(){for(var r=a.startOfWeek(),n=os(r,6),o=new Date(r);o<=n;){if(!a.isDisabled(o))return!1;o=os(o,1)}return!0},a.renderDays=function(){var r=a.startOfWeek(),n=[],o=a.formatWeekNumber(r);if(a.props.showWeekNumber){var c=a.props.onWeekSelect||a.props.showWeekPicker?a.handleWeekClick.bind(a,r,o):void 0;n.push(fe.createElement(jO,Et({key:"W"},s.defaultProps,a.props,{weekNumber:o,isWeekDisabled:a.isWeekDisabled(),date:r,onClick:c})))}return n.concat([0,1,2,3,4,5,6].map(function(d){var m=os(r,d);return fe.createElement(bO,Et({},s.defaultProps,a.props,{ariaLabelPrefixWhenEnabled:a.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:a.props.disabledDayAriaLabelPrefix,key:m.valueOf(),day:m,onClick:a.handleDayClick.bind(a,m),onMouseEnter:a.handleDayMouseEnter.bind(a,m)}))}))},a.startOfWeek=function(){return Hn(a.props.day,a.props.locale,a.props.calendarStartDay)},a.isKeyboardSelected=function(){return!a.props.disabledKeyboardNavigation&&!_t(a.startOfWeek(),a.props.selected)&&_t(a.startOfWeek(),a.props.preSelection)},a}return Object.defineProperty(s,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),s.prototype.render=function(){var a={"react-datepicker__week":!0,"react-datepicker__week--selected":_t(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return fe.createElement("div",{className:Ya(a,r),role:"row"},this.renderDays())},s})(x.Component),Dl,NO=6,vo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},vp=(Dl={},Dl[vo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Dl[vo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Dl[vo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Dl),Dd=1;function Ny(t,s){return t?vo.FOUR_COLUMNS:s?vo.TWO_COLUMNS:vo.THREE_COLUMNS}var SO=(function(t){Za(s,t);function s(){var a=t!==null&&t.apply(this,arguments)||this;return a.MONTH_REFS=ks([],Array(12),!0).map(function(){return x.createRef()}),a.QUARTER_REFS=ks([],Array(4),!0).map(function(){return x.createRef()}),a.isDisabled=function(r){return Ur(r,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,includeDateIntervals:a.props.includeDateIntervals,includeDates:a.props.includeDates,filterDate:a.props.filterDate,disabled:a.props.disabled})},a.isExcluded=function(r){return sx(r,{excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals})},a.handleDayClick=function(r,n){var o,c;(c=(o=a.props).onDayClick)===null||c===void 0||c.call(o,r,n,a.props.orderInDisplay)},a.handleDayMouseEnter=function(r){var n,o;(o=(n=a.props).onDayMouseEnter)===null||o===void 0||o.call(n,r)},a.handleMouseLeave=function(){var r,n;(n=(r=a.props).onMouseLeave)===null||n===void 0||n.call(r)},a.isRangeStartMonth=function(r){var n=a.props,o=n.day,c=n.startDate,d=n.endDate;return!c||!d?!1:fr(Tr(o,r),c)},a.isRangeStartQuarter=function(r){var n=a.props,o=n.day,c=n.startDate,d=n.endDate;return!c||!d?!1:pu(po(o,r),c)},a.isRangeEndMonth=function(r){var n=a.props,o=n.day,c=n.startDate,d=n.endDate;return!c||!d?!1:fr(Tr(o,r),d)},a.isRangeEndQuarter=function(r){var n=a.props,o=n.day,c=n.startDate,d=n.endDate;return!c||!d?!1:pu(po(o,r),d)},a.isInSelectingRangeMonth=function(r){var n,o=a.props,c=o.day,d=o.selectsStart,m=o.selectsEnd,f=o.selectsRange,p=o.startDate,h=o.endDate,g=(n=a.props.selectingDate)!==null&&n!==void 0?n:a.props.preSelection;return!(d||m||f)||!g?!1:d&&h?Cd(g,h,r,c):m&&p||f&&p&&!h?Cd(p,g,r,c):!1},a.isSelectingMonthRangeStart=function(r){var n;if(!a.isInSelectingRangeMonth(r))return!1;var o=a.props,c=o.day,d=o.startDate,m=o.selectsStart,f=Tr(c,r),p=(n=a.props.selectingDate)!==null&&n!==void 0?n:a.props.preSelection;return m?fr(f,p):fr(f,d)},a.isSelectingMonthRangeEnd=function(r){var n;if(!a.isInSelectingRangeMonth(r))return!1;var o=a.props,c=o.day,d=o.endDate,m=o.selectsEnd,f=o.selectsRange,p=Tr(c,r),h=(n=a.props.selectingDate)!==null&&n!==void 0?n:a.props.preSelection;return m||f?fr(p,h):fr(p,d)},a.isInSelectingRangeQuarter=function(r){var n,o=a.props,c=o.day,d=o.selectsStart,m=o.selectsEnd,f=o.selectsRange,p=o.startDate,h=o.endDate,g=(n=a.props.selectingDate)!==null&&n!==void 0?n:a.props.preSelection;return!(d||m||f)||!g?!1:d&&h?Ed(g,h,r,c):m&&p||f&&p&&!h?Ed(p,g,r,c):!1},a.isWeekInMonth=function(r){var n=a.props.day,o=os(r,6);return fr(r,n)||fr(o,n)},a.isCurrentMonth=function(r,n){return yt(r)===yt(Wt())&&n===ir(Wt())},a.isCurrentQuarter=function(r,n){return yt(r)===yt(Wt())&&n===wi(Wt())},a.isSelectedMonth=function(r,n,o){return ir(o)===n&&yt(r)===yt(o)},a.isSelectMonthInList=function(r,n,o){return o.some(function(c){return a.isSelectedMonth(r,n,c)})},a.isSelectedQuarter=function(r,n,o){return wi(r)===n&&yt(r)===yt(o)},a.isMonthSelected=function(){var r=a.props,n=r.day,o=r.selected,c=r.selectedDates,d=r.selectsMultiple,m=ir(n);return d?c==null?void 0:c.some(function(f){return a.isSelectedMonth(n,m,f)}):!!o&&a.isSelectedMonth(n,m,o)},a.renderWeeks=function(){for(var r=[],n=a.props.fixedHeight,o=0,c=!1,d=Hn(on(a.props.day),a.props.locale,a.props.calendarStartDay),m=function(b){return a.props.showWeekPicker?Hn(b,a.props.locale,a.props.calendarStartDay):a.props.preSelection},f=function(b){return a.props.showWeekPicker?Hn(b,a.props.locale,a.props.calendarStartDay):a.props.selected},p=a.props.selected?f(a.props.selected):void 0,h=a.props.preSelection?m(a.props.preSelection):void 0;r.push(fe.createElement(wO,Et({},a.props,{ariaLabelPrefix:a.props.weekAriaLabelPrefix,key:o,day:d,month:ir(a.props.day),onDayClick:a.handleDayClick,onDayMouseEnter:a.handleDayMouseEnter,selected:p,preSelection:h,showWeekNumber:a.props.showWeekNumbers}))),!c;){o++,d=ou(d,1);var g=n&&o>=NO,j=!n&&!a.isWeekInMonth(d);if(g||j)if(a.props.peekNextMonth)c=!0;else break}return r},a.onMonthClick=function(r,n){var o=a.isMonthDisabledForLabelDate(n),c=o.isDisabled,d=o.labelDate;c||a.handleDayClick(on(d),r)},a.onMonthMouseEnter=function(r){var n=a.isMonthDisabledForLabelDate(r),o=n.isDisabled,c=n.labelDate;o||a.handleDayMouseEnter(on(c))},a.handleMonthNavigation=function(r,n){var o,c,d,m;(c=(o=a.props).setPreSelection)===null||c===void 0||c.call(o,n),(m=(d=a.MONTH_REFS[r])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()},a.handleKeyboardNavigation=function(r,n,o){var c,d=a.props,m=d.selected,f=d.preSelection,p=d.setPreSelection,h=d.minDate,g=d.maxDate,j=d.showFourColumnMonthYearPicker,b=d.showTwoColumnMonthYearPicker;if(f){var y=Ny(j,b),w=a.getVerticalOffset(y),C=(c=vp[y])===null||c===void 0?void 0:c.grid,S=function(E,O,I){var z,B,Y=O,$=I;switch(E){case Oe.ArrowRight:Y=ls(O,Dd),$=I===11?0:I+Dd;break;case Oe.ArrowLeft:Y=Ni(O,Dd),$=I===0?11:I-Dd;break;case Oe.ArrowUp:Y=Ni(O,w),$=!((z=C==null?void 0:C[0])===null||z===void 0)&&z.includes(I)?I+12-w:I-w;break;case Oe.ArrowDown:Y=ls(O,w),$=!((B=C==null?void 0:C[C.length-1])===null||B===void 0)&&B.includes(I)?I-12+w:I+w;break}return{newCalculatedDate:Y,newCalculatedMonth:$}},k=function(E,O,I){for(var z=40,B=E,Y=!1,$=0,M=S(B,O,I),G=M.newCalculatedDate,T=M.newCalculatedMonth;!Y;){if($>=z){G=O,T=I;break}if(h&&G<h){B=Oe.ArrowRight;var L=S(B,G,T);G=L.newCalculatedDate,T=L.newCalculatedMonth}if(g&&G>g){B=Oe.ArrowLeft;var L=S(B,G,T);G=L.newCalculatedDate,T=L.newCalculatedMonth}if(cO(G,a.props)){var L=S(B,G,T);G=L.newCalculatedDate,T=L.newCalculatedMonth}else Y=!0;$++}return{newCalculatedDate:G,newCalculatedMonth:T}};if(n===Oe.Enter){a.isMonthDisabled(o)||(a.onMonthClick(r,o),p==null||p(m));return}var P=k(n,f,o),R=P.newCalculatedDate,D=P.newCalculatedMonth;switch(n){case Oe.ArrowRight:case Oe.ArrowLeft:case Oe.ArrowUp:case Oe.ArrowDown:a.handleMonthNavigation(D,R);break}}},a.getVerticalOffset=function(r){var n,o;return(o=(n=vp[r])===null||n===void 0?void 0:n.verticalNavigationOffset)!==null&&o!==void 0?o:0},a.onMonthKeyDown=function(r,n){var o=a.props,c=o.disabledKeyboardNavigation,d=o.handleOnMonthKeyDown,m=r.key;m!==Oe.Tab&&r.preventDefault(),c||a.handleKeyboardNavigation(r,m,n),d&&d(r)},a.onQuarterClick=function(r,n){var o=po(a.props.day,n);kd(o,a.props)||a.handleDayClick(cy(o),r)},a.onQuarterMouseEnter=function(r){var n=po(a.props.day,r);kd(n,a.props)||a.handleDayMouseEnter(cy(n))},a.handleQuarterNavigation=function(r,n){var o,c,d,m;a.isDisabled(n)||a.isExcluded(n)||((c=(o=a.props).setPreSelection)===null||c===void 0||c.call(o,n),(m=(d=a.QUARTER_REFS[r-1])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus())},a.onQuarterKeyDown=function(r,n){var o,c,d=r.key;if(!a.props.disabledKeyboardNavigation)switch(d){case Oe.Enter:a.onQuarterClick(r,n),(c=(o=a.props).setPreSelection)===null||c===void 0||c.call(o,a.props.selected);break;case Oe.ArrowRight:if(!a.props.preSelection)break;a.handleQuarterNavigation(n===4?1:n+1,Xh(a.props.preSelection,1));break;case Oe.ArrowLeft:if(!a.props.preSelection)break;a.handleQuarterNavigation(n===1?4:n-1,I1(a.props.preSelection));break}},a.isMonthDisabledForLabelDate=function(r){var n,o=a.props,c=o.day,d=o.disabled,m=o.minDate,f=o.maxDate,p=o.excludeDates,h=o.includeDates,g=Tr(c,r);return d?{isDisabled:!0,labelDate:Tr(c,r)}:{isDisabled:(n=(m||f||p||h)&&B1(g,a.props))!==null&&n!==void 0?n:!1,labelDate:g}},a.isMonthDisabled=function(r){var n=a.isMonthDisabledForLabelDate(r).isDisabled;return n},a.getMonthClassNames=function(r){var n=a.props,o=n.day,c=n.startDate,d=n.endDate,m=n.preSelection,f=n.monthClassName,p=f?f(Tr(o,r)):void 0,h=a.getSelection();return Ya("react-datepicker__month-text","react-datepicker__month-".concat(r),p,{"react-datepicker__month-text--disabled":a.isMonthDisabled(r),"react-datepicker__month-text--selected":h?a.isSelectMonthInList(o,r,h):void 0,"react-datepicker__month-text--keyboard-selected":!a.props.disabledKeyboardNavigation&&m&&a.isSelectedMonth(o,r,m)&&!a.isMonthSelected()&&!a.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":a.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":c&&d?Cd(c,d,r,o):void 0,"react-datepicker__month-text--range-start":a.isRangeStartMonth(r),"react-datepicker__month-text--range-end":a.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":a.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":a.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":a.isCurrentMonth(o,r)})},a.getTabIndex=function(r){if(a.props.preSelection==null)return"-1";var n=ir(a.props.preSelection),o=a.isMonthDisabledForLabelDate(n).isDisabled,c=r===n&&!(o||a.props.disabledKeyboardNavigation)?"0":"-1";return c},a.getQuarterTabIndex=function(r){if(a.props.preSelection==null)return"-1";var n=wi(a.props.preSelection),o=kd(a.props.day,a.props),c=r===n&&!(o||a.props.disabledKeyboardNavigation)?"0":"-1";return c},a.getAriaLabel=function(r){var n=a.props,o=n.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,d=n.disabledDayAriaLabelPrefix,m=d===void 0?"Not available":d,f=n.day,p=n.locale,h=Tr(f,r),g=a.isDisabled(h)||a.isExcluded(h)?m:c;return"".concat(g," ").concat(sa(h,"MMMM yyyy",p))},a.getQuarterClassNames=function(r){var n=a.props,o=n.day,c=n.startDate,d=n.endDate,m=n.selected,f=n.minDate,p=n.maxDate,h=n.excludeDates,g=n.includeDates,j=n.filterDate,b=n.preSelection,y=n.disabledKeyboardNavigation,w=n.disabled,C=(f||p||h||g||j||w)&&kd(po(o,r),a.props);return Ya("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":C,"react-datepicker__quarter-text--selected":m?a.isSelectedQuarter(o,r,m):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&b&&a.isSelectedQuarter(o,r,b)&&!C,"react-datepicker__quarter-text--in-selecting-range":a.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":c&&d?Ed(c,d,r,o):void 0,"react-datepicker__quarter-text--range-start":a.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":a.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":a.isCurrentQuarter(o,r)})},a.getMonthContent=function(r){var n=a.props,o=n.showFullMonthYearPicker,c=n.renderMonthContent,d=n.locale,m=n.day,f=z1(r,d),p=rx(r,d);return c?c(r,f,p,m):o?p:f},a.getQuarterContent=function(r){var n,o=a.props,c=o.renderQuarterContent,d=o.locale,m=lO(r,d);return(n=c==null?void 0:c(r,m))!==null&&n!==void 0?n:m},a.renderMonths=function(){var r,n=a.props,o=n.showTwoColumnMonthYearPicker,c=n.showFourColumnMonthYearPicker,d=n.day,m=n.selected,f=(r=vp[Ny(c,o)])===null||r===void 0?void 0:r.grid;return f==null?void 0:f.map(function(p,h){return fe.createElement("div",{className:"react-datepicker__month-wrapper",key:h},p.map(function(g,j){return fe.createElement("div",{ref:a.MONTH_REFS[g],key:j,onClick:function(b){a.onMonthClick(b,g)},onKeyDown:function(b){V1(b)&&(b.preventDefault(),b.key=Oe.Enter),a.onMonthKeyDown(b,g)},onMouseEnter:a.props.usePointerEvent?void 0:function(){return a.onMonthMouseEnter(g)},onPointerEnter:a.props.usePointerEvent?function(){return a.onMonthMouseEnter(g)}:void 0,tabIndex:Number(a.getTabIndex(g)),className:a.getMonthClassNames(g),"aria-disabled":a.isMonthDisabled(g),role:"option","aria-label":a.getAriaLabel(g),"aria-current":a.isCurrentMonth(d,g)?"date":void 0,"aria-selected":m?a.isSelectedMonth(d,g,m):void 0},a.getMonthContent(g))}))})},a.renderQuarters=function(){var r=a.props,n=r.day,o=r.selected,c=[1,2,3,4];return fe.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(d,m){return fe.createElement("div",{key:m,ref:a.QUARTER_REFS[m],role:"option",onClick:function(f){a.onQuarterClick(f,d)},onKeyDown:function(f){a.onQuarterKeyDown(f,d)},onMouseEnter:a.props.usePointerEvent?void 0:function(){return a.onQuarterMouseEnter(d)},onPointerEnter:a.props.usePointerEvent?function(){return a.onQuarterMouseEnter(d)}:void 0,className:a.getQuarterClassNames(d),"aria-selected":o?a.isSelectedQuarter(n,d,o):void 0,tabIndex:Number(a.getQuarterTabIndex(d)),"aria-current":a.isCurrentQuarter(n,d)?"date":void 0},a.getQuarterContent(d))}))},a.getClassNames=function(){var r=a.props,n=r.selectingDate,o=r.selectsStart,c=r.selectsEnd,d=r.showMonthYearPicker,m=r.showQuarterYearPicker,f=r.showWeekPicker;return Ya("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(o||c)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":m},{"react-datepicker__weekPicker":f})},a}return s.prototype.getSelection=function(){var a=this.props,r=a.selected,n=a.selectedDates,o=a.selectsMultiple;if(o)return n;if(r)return[r]},s.prototype.render=function(){var a=this.props,r=a.showMonthYearPicker,n=a.showQuarterYearPicker,o=a.day,c=a.ariaLabelPrefix,d=c===void 0?"Month ":c,m=d?d.trim()+" ":"",f=r||n;return f?fe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(m).concat(sa(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():this.renderQuarters()):fe.createElement("div",{role:"table"},this.props.dayNamesHeader&&fe.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),fe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(m).concat(sa(o,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},s})(x.Component),CO=(function(t){Za(s,t);function s(){var a=t!==null&&t.apply(this,arguments)||this;return a.monthOptionButtonsRef={},a.isSelectedMonth=function(r){return a.props.month===r},a.handleOptionKeyDown=function(r,n){var o;switch(n.key){case"Enter":n.preventDefault(),a.onChange(r);break;case"Escape":n.preventDefault(),a.props.onCancel();break;case"ArrowUp":case"ArrowDown":{n.preventDefault();var c=(r+(n.key==="ArrowUp"?-1:1)+a.props.monthNames.length)%a.props.monthNames.length;(o=a.monthOptionButtonsRef[c])===null||o===void 0||o.focus();break}}},a.renderOptions=function(){return a.monthOptionButtonsRef={},a.props.monthNames.map(function(r,n){return fe.createElement("div",{ref:function(o){a.monthOptionButtonsRef[n]=o,a.isSelectedMonth(n)&&(o==null||o.focus())},role:"button",tabIndex:0,className:a.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:a.onChange.bind(a,n),onKeyDown:a.handleOptionKeyDown.bind(a,n),"aria-selected":a.isSelectedMonth(n)?"true":void 0},a.isSelectedMonth(n)?fe.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},a.onChange=function(r){return a.props.onChange(r)},a.handleClickOutside=function(){return a.props.onCancel()},a}return s.prototype.render=function(){return fe.createElement(em,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},s})(x.Component),kO=(function(t){Za(s,t);function s(){var a=t!==null&&t.apply(this,arguments)||this;return a.state={dropdownVisible:!1},a.renderSelectOptions=function(r){return r.map(function(n,o){return fe.createElement("option",{key:n,value:o},n)})},a.renderSelectMode=function(r){return fe.createElement("select",{value:a.props.month,className:"react-datepicker__month-select",onChange:function(n){return a.onChange(parseInt(n.target.value))}},a.renderSelectOptions(r))},a.renderReadView=function(r,n){return fe.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:a.toggleDropdown},fe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[a.props.month]))},a.renderDropdown=function(r){return fe.createElement(CO,Et({key:"dropdown"},a.props,{monthNames:r,onChange:a.onChange,onCancel:a.toggleDropdown}))},a.renderScrollMode=function(r){var n=a.state.dropdownVisible,o=[a.renderReadView(!n,r)];return n&&o.unshift(a.renderDropdown(r)),o},a.onChange=function(r){a.toggleDropdown(),r!==a.props.month&&a.props.onChange(r)},a.toggleDropdown=function(){return a.setState({dropdownVisible:!a.state.dropdownVisible})},a}return s.prototype.render=function(){var a=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return z1(o,a.props.locale)}:function(o){return rx(o,a.props.locale)}),n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode(r);break;case"select":n=this.renderSelectMode(r);break}return fe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},n)},s})(x.Component);function _O(t,s){for(var a=[],r=on(t),n=on(s);!Kn(r,n);)a.push(Wt(r)),r=ls(r,1);return a}var EO=(function(t){Za(s,t);function s(a){var r=t.call(this,a)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(n){var o=ah(n),c=vs(r.props.date,n)&&fr(r.props.date,n);return fe.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":c?"true":void 0},c?fe.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",sa(n,r.props.dateFormat,r.props.locale))})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:_O(r.props.minDate,r.props.maxDate)},r}return s.prototype.render=function(){var a=Ya({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return fe.createElement(em,{className:a,onClickOutside:this.handleClickOutside},this.renderOptions())},s})(x.Component),DO=(function(t){Za(s,t);function s(){var a=t!==null&&t.apply(this,arguments)||this;return a.state={dropdownVisible:!1},a.renderSelectOptions=function(){for(var r=on(a.props.minDate),n=on(a.props.maxDate),o=[];!Kn(r,n);){var c=ah(r);o.push(fe.createElement("option",{key:c,value:c},sa(r,a.props.dateFormat,a.props.locale))),r=ls(r,1)}return o},a.onSelectChange=function(r){a.onChange(parseInt(r.target.value))},a.renderSelectMode=function(){return fe.createElement("select",{value:ah(on(a.props.date)),className:"react-datepicker__month-year-select",onChange:a.onSelectChange},a.renderSelectOptions())},a.renderReadView=function(r){var n=sa(a.props.date,a.props.dateFormat,a.props.locale);return fe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:a.toggleDropdown},fe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},a.renderDropdown=function(){return fe.createElement(EO,Et({key:"dropdown"},a.props,{onChange:a.onChange,onCancel:a.toggleDropdown}))},a.renderScrollMode=function(){var r=a.state.dropdownVisible,n=[a.renderReadView(!r)];return r&&n.unshift(a.renderDropdown()),n},a.onChange=function(r){a.toggleDropdown();var n=Wt(r);vs(a.props.date,n)&&fr(a.props.date,n)||a.props.onChange(n)},a.toggleDropdown=function(){return a.setState({dropdownVisible:!a.state.dropdownVisible})},a}return s.prototype.render=function(){var a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode();break;case"select":a=this.renderSelectMode();break}return fe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},a)},s})(x.Component),PO=(function(t){Za(s,t);function s(){var a=t!==null&&t.apply(this,arguments)||this;return a.state={height:null},a.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,n,o;a.list&&(a.list.scrollTop=(o=a.centerLi&&s.calcCenterPosition(a.props.monthRef?a.props.monthRef.clientHeight-((n=(r=a.header)===null||r===void 0?void 0:r.clientHeight)!==null&&n!==void 0?n:0):a.list.clientHeight,a.centerLi))!==null&&o!==void 0?o:0)})},a.handleClick=function(r){var n,o;(a.props.minTime||a.props.maxTime)&&py(r,a.props)||(a.props.excludeTimes||a.props.includeTimes||a.props.filterTime)&&fy(r,a.props)||(o=(n=a.props).onChange)===null||o===void 0||o.call(n,r)},a.isSelectedTime=function(r){return a.props.selected&&vO(a.props.selected,r)},a.isDisabledTime=function(r){return(a.props.minTime||a.props.maxTime)&&py(r,a.props)||(a.props.excludeTimes||a.props.includeTimes||a.props.filterTime)&&fy(r,a.props)},a.liClasses=function(r){var n,o=["react-datepicker__time-list-item",a.props.timeClassName?a.props.timeClassName(r):void 0];return a.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),a.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),a.props.injectTimes&&(sn(r)*3600+nn(r)*60+Un(r))%(((n=a.props.intervals)!==null&&n!==void 0?n:s.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},a.handleOnKeyDown=function(r,n){var o,c;r.key===Oe.Space&&(r.preventDefault(),r.key=Oe.Enter),(r.key===Oe.ArrowUp||r.key===Oe.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Oe.ArrowDown||r.key===Oe.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Oe.Enter&&a.handleClick(n),(c=(o=a.props).handleOnKeyDown)===null||c===void 0||c.call(o,r)},a.renderTimes=function(){for(var r,n=[],o=typeof a.props.format=="string"?a.props.format:"p",c=(r=a.props.intervals)!==null&&r!==void 0?r:s.defaultProps.intervals,d=a.props.selected||a.props.openToDate||Wt(),m=Hd(d),f=a.props.injectTimes&&a.props.injectTimes.sort(function(w,C){return w.getTime()-C.getTime()}),p=60*gO(d),h=p/c,g=0;g<h;g++){var j=Zp(m,g*c);if(n.push(j),f){var b=xO(m,j,g,c,f);n=n.concat(b)}}var y=n.reduce(function(w,C){return C.getTime()<=d.getTime()?C:w},n[0]);return n.map(function(w){return fe.createElement("li",{key:w.valueOf(),onClick:a.handleClick.bind(a,w),className:a.liClasses(w),ref:function(C){w===y&&(a.centerLi=C)},onKeyDown:function(C){a.handleOnKeyDown(C,w)},tabIndex:w===y?0:-1,role:"option","aria-selected":a.isSelectedTime(w)?"true":void 0,"aria-disabled":a.isDisabledTime(w)?"true":void 0},sa(w,o,a.props.locale))})},a.renderTimeCaption=function(){return a.props.showTimeCaption===!1?fe.createElement(fe.Fragment,null):fe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(a.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){a.header=r}},fe.createElement("div",{className:"react-datepicker-time__header"},a.props.timeCaption))},a}return Object.defineProperty(s,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),s.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},s.prototype.componentWillUnmount=function(){var a;(a=this.resizeObserver)===null||a===void 0||a.disconnect()},s.prototype.observeDatePickerHeightChanges=function(){var a=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){a.updateContainerHeight()}),this.resizeObserver.observe(r))},s.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},s.prototype.render=function(){var a=this,r,n=this.state.height;return fe.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:s.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),fe.createElement("div",{className:"react-datepicker__time"},fe.createElement("div",{className:"react-datepicker__time-box"},fe.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){a.list=o},style:n?{height:n}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},s.calcCenterPosition=function(a,r){return r.offsetTop-(a/2-r.clientHeight/2)},s})(x.Component),Sy=3,RO=(function(t){Za(s,t);function s(a){var r=t.call(this,a)||this;return r.YEAR_REFS=ks([],Array(r.props.yearItemNumber),!0).map(function(){return x.createRef()}),r.isDisabled=function(n){return Ur(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return sx(n,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var n;return(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection},r.updateFocusOnPaginate=function(n){var o=function(){var c,d;(d=(c=r.YEAR_REFS[n])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(n,o){r.props.onDayClick&&r.props.onDayClick(n,o)},r.handleYearNavigation=function(n,o){var c,d,m,f,p=r.props,h=p.date,g=p.yearItemNumber;if(!(h===void 0||g===void 0)){var j=Xs(h,g).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((d=(c=r.props).setPreSelection)===null||d===void 0||d.call(c,o),n-j<0?r.updateFocusOnPaginate(g-(j-n)):n-j>=g?r.updateFocusOnPaginate(Math.abs(g-(n-j))):(f=(m=r.YEAR_REFS[n-j])===null||m===void 0?void 0:m.current)===null||f===void 0||f.focus())}},r.isSameDay=function(n,o){return _t(n,o)},r.isCurrentYear=function(n){return n===yt(Wt())},r.isRangeStart=function(n){return r.props.startDate&&r.props.endDate&&vs(gs(Wt(),n),r.props.startDate)},r.isRangeEnd=function(n){return r.props.startDate&&r.props.endDate&&vs(gs(Wt(),n),r.props.endDate)},r.isInRange=function(n){return _d(n,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(n){var o=r.props,c=o.selectsStart,d=o.selectsEnd,m=o.selectsRange,f=o.startDate,p=o.endDate;return!(c||d||m)||!r.selectingDate()?!1:c&&p?_d(n,r.selectingDate(),p):d&&f||m&&f&&!p?_d(n,f,r.selectingDate()):!1},r.isSelectingRangeStart=function(n){var o;if(!r.isInSelectingRange(n))return!1;var c=r.props,d=c.startDate,m=c.selectsStart,f=gs(Wt(),n);return m?vs(f,(o=r.selectingDate())!==null&&o!==void 0?o:null):vs(f,d??null)},r.isSelectingRangeEnd=function(n){var o;if(!r.isInSelectingRange(n))return!1;var c=r.props,d=c.endDate,m=c.selectsEnd,f=c.selectsRange,p=gs(Wt(),n);return m||f?vs(p,(o=r.selectingDate())!==null&&o!==void 0?o:null):vs(p,d??null)},r.isKeyboardSelected=function(n){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var o=r.props,c=o.minDate,d=o.maxDate,m=o.excludeDates,f=o.includeDates,p=o.filterDate,h=o.selected,g=Ml(gs(r.props.date,n)),j=(c||d||m||f||p)&&Vd(n,r.props),b=!!h&&_t(g,Ml(h)),y=_t(g,Ml(r.props.preSelection));return!r.props.inline&&!b&&y&&!j}},r.isSelectedYear=function(n){var o=r.props,c=o.selectsMultiple,d=o.selected,m=o.selectedDates;return c?m==null?void 0:m.some(function(f){return n===yt(f)}):!!d&&n===yt(d)},r.onYearClick=function(n,o){var c=r.props.date;c!==void 0&&r.handleYearClick(Ml(gs(c,o)),n)},r.onYearKeyDown=function(n,o){var c,d,m=n.key,f=r.props,p=f.date,h=f.yearItemNumber,g=f.handleOnKeyDown;if(m!==Oe.Tab&&n.preventDefault(),!r.props.disabledKeyboardNavigation)switch(m){case Oe.Enter:if(r.props.selected==null)break;r.onYearClick(n,o),(d=(c=r.props).setPreSelection)===null||d===void 0||d.call(c,r.props.selected);break;case Oe.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,an(r.props.preSelection,1));break;case Oe.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,ko(r.props.preSelection,1));break;case Oe.ArrowUp:{if(p===void 0||h===void 0||r.props.preSelection==null)break;var j=Xs(p,h).startPeriod,b=Sy,y=o-b;if(y<j){var w=h%b;o>=j&&o<j+w?b=w:b+=w,y=o-b}r.handleYearNavigation(y,ko(r.props.preSelection,b));break}case Oe.ArrowDown:{if(p===void 0||h===void 0||r.props.preSelection==null)break;var C=Xs(p,h).endPeriod,b=Sy,y=o+b;if(y>C){var w=h%b;o<=C&&o>C-w?b=w:b+=w,y=o+b}r.handleYearNavigation(y,an(r.props.preSelection,b));break}}g&&g(n)},r.getYearClassNames=function(n){var o=r.props,c=o.date,d=o.disabled,m=o.minDate,f=o.maxDate,p=o.excludeDates,h=o.includeDates,g=o.filterDate,j=o.yearClassName;return Ya("react-datepicker__year-text","react-datepicker__year-".concat(n),c?j==null?void 0:j(gs(c,n)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(n),"react-datepicker__year-text--disabled":(m||f||p||h||g||d)&&Vd(n,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(n),"react-datepicker__year-text--range-start":r.isRangeStart(n),"react-datepicker__year-text--range-end":r.isRangeEnd(n),"react-datepicker__year-text--in-range":r.isInRange(n),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(n),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(n),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(n),"react-datepicker__year-text--today":r.isCurrentYear(n)})},r.getYearTabIndex=function(n){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=yt(r.props.preSelection),c=Vd(n,r.props);return n===o&&!c?"0":"-1"},r.getYearContent=function(n){return r.props.renderYearContent?r.props.renderYearContent(n):n},r}return s.prototype.render=function(){var a=this,r=[],n=this.props,o=n.date,c=n.yearItemNumber,d=n.onYearMouseEnter,m=n.onYearMouseLeave;if(o===void 0)return null;for(var f=Xs(o,c),p=f.startPeriod,h=f.endPeriod,g=function(y){r.push(fe.createElement("div",{ref:j.YEAR_REFS[y-p],onClick:function(w){a.onYearClick(w,y)},onKeyDown:function(w){V1(w)&&(w.preventDefault(),w.key=Oe.Enter),a.onYearKeyDown(w,y)},tabIndex:Number(j.getYearTabIndex(y)),className:j.getYearClassNames(y),onMouseEnter:j.props.usePointerEvent?void 0:function(w){return d(w,y)},onPointerEnter:j.props.usePointerEvent?function(w){return d(w,y)}:void 0,onMouseLeave:j.props.usePointerEvent?void 0:function(w){return m(w,y)},onPointerLeave:j.props.usePointerEvent?function(w){return m(w,y)}:void 0,key:y,"aria-current":j.isCurrentYear(y)?"date":void 0},j.getYearContent(y)))},j=this,b=p;b<=h;b++)g(b);return fe.createElement("div",{className:"react-datepicker__year"},fe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},s})(x.Component);function MO(t,s,a,r){for(var n=[],o=0;o<2*s+1;o++){var c=t+s-o,d=!0;a&&(d=yt(a)<=c),r&&d&&(d=yt(r)>=c),d&&n.push(c)}return n}var TO=(function(t){Za(s,t);function s(a){var r=t.call(this,a)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(d,m){var f;switch(m.key){case"Enter":m.preventDefault(),r.onChange(d);break;case"Escape":m.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{m.preventDefault();var p=d+(m.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[p]&&((f=r.yearOptionButtonsRef[p])===null||f===void 0||f.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var d=r.props.year,m=r.state.yearsList.map(function(h){return fe.createElement("div",{ref:function(g){r.yearOptionButtonsRef[h]=g,h===d&&(g==null||g.focus())},role:"button",tabIndex:0,className:d===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),onKeyDown:r.handleOptionKeyDown.bind(r,h),"aria-selected":d===h?"true":void 0},d===h?fe.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),f=r.props.minDate?yt(r.props.minDate):null,p=r.props.maxDate?yt(r.props.maxDate):null;return(!p||!r.state.yearsList.find(function(h){return h===p}))&&m.unshift(fe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},fe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!r.state.yearsList.find(function(h){return h===f}))&&m.push(fe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},fe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),m},r.onChange=function(d){r.props.onChange(d)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(d){var m=r.state.yearsList.map(function(f){return f+d});r.setState({yearsList:m})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var n=a.yearDropdownItemNumber,o=a.scrollableYearDropdown,c=n||(o?10:5);return r.state={yearsList:MO(r.props.year,c,r.props.minDate,r.props.maxDate)},r.dropdownRef=x.createRef(),r}return s.prototype.componentDidMount=function(){var a=this.dropdownRef.current;if(a){var r=a.children?Array.from(a.children):null,n=r?r.find(function(o){return o.ariaSelected}):null;a.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-a.clientHeight)/2:(a.scrollHeight-a.clientHeight)/2}},s.prototype.render=function(){var a=Ya({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return fe.createElement(em,{className:a,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},s})(x.Component),AO=(function(t){Za(s,t);function s(){var a=t!==null&&t.apply(this,arguments)||this;return a.state={dropdownVisible:!1},a.renderSelectOptions=function(){for(var r=a.props.minDate?yt(a.props.minDate):1900,n=a.props.maxDate?yt(a.props.maxDate):2100,o=[],c=r;c<=n;c++)o.push(fe.createElement("option",{key:c,value:c},c));return o},a.onSelectChange=function(r){a.onChange(parseInt(r.target.value))},a.renderSelectMode=function(){return fe.createElement("select",{value:a.props.year,className:"react-datepicker__year-select",onChange:a.onSelectChange},a.renderSelectOptions())},a.renderReadView=function(r){return fe.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:a.toggleDropdown},fe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},a.props.year))},a.renderDropdown=function(){return fe.createElement(TO,Et({key:"dropdown"},a.props,{onChange:a.onChange,onCancel:a.toggleDropdown}))},a.renderScrollMode=function(){var r=a.state.dropdownVisible,n=[a.renderReadView(!r)];return r&&n.unshift(a.renderDropdown()),n},a.onChange=function(r){a.toggleDropdown(),r!==a.props.year&&a.props.onChange(r)},a.toggleDropdown=function(r){a.setState({dropdownVisible:!a.state.dropdownVisible},function(){a.props.adjustDateOnChange&&a.handleYearChange(a.props.date,r)})},a.handleYearChange=function(r,n){var o;(o=a.onSelect)===null||o===void 0||o.call(a,r,n),a.setOpen()},a.onSelect=function(r,n){var o,c;(c=(o=a.props).onSelect)===null||c===void 0||c.call(o,r,n)},a.setOpen=function(){var r,n;(n=(r=a.props).setOpen)===null||n===void 0||n.call(r,!0)},a}return s.prototype.render=function(){var a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode();break;case"select":a=this.renderSelectMode();break}return fe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},a)},s})(x.Component),OO=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],W1="react-datepicker-ignore-onclickoutside",IO=function(t){var s=(t.className||"").split(/\s+/);return OO.some(function(a){return s.indexOf(a)>=0})},LO=(function(t){Za(s,t);function s(a){var r=t.call(this,a)||this;return r.monthContainer=void 0,r.handleClickOutside=function(n){r.props.onClickOutside(n)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(n){var o,c;IO(n.target)&&((c=(o=r.props).onDropdownFocus)===null||c===void 0||c.call(o,n))},r.getDateInView=function(){var n=r.props,o=n.preSelection,c=n.selected,d=n.openToDate,m=U1(r.props),f=H1(r.props),p=Wt(),h=d||c||o;return h||(m&&Cs(p,m)?m:f&&Kn(p,f)?f:p)},r.increaseMonth=function(){r.setState(function(n){var o=n.date;return{date:ls(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(n){var o=n.date;return{date:Ni(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(n,o,c){r.props.onSelect(n,o,c),r.props.setPreSelection&&r.props.setPreSelection(n)},r.handleDayMouseEnter=function(n){r.setState({selectingDate:n}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(n,o){r.setState({selectingDate:gs(Wt(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(n,o)},r.handleYearMouseLeave=function(n,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(n,o)},r.handleYearChange=function(n){var o,c,d,m;(c=(o=r.props).onYearChange)===null||c===void 0||c.call(o,n),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(n),(m=(d=r.props).setOpen)===null||m===void 0||m.call(d,!0)),r.props.setPreSelection&&r.props.setPreSelection(n)},r.getEnabledPreSelectionDateForMonth=function(n){if(!Ur(n,r.props))return n;for(var o=on(n),c=sO(n),d=vA(c,o),m=null,f=0;f<=d;f++){var p=os(o,f);if(!Ur(p,r.props)){m=p;break}}return m},r.handleMonthChange=function(n){var o,c,d,m=(o=r.getEnabledPreSelectionDateForMonth(n))!==null&&o!==void 0?o:n;r.handleCustomMonthChange(m),r.props.adjustDateOnChange&&(r.props.onSelect(m),(d=(c=r.props).setOpen)===null||d===void 0||d.call(c,!0)),r.props.setPreSelection&&r.props.setPreSelection(m)},r.handleCustomMonthChange=function(n){var o,c;(c=(o=r.props).onMonthChange)===null||c===void 0||c.call(o,n),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(n){r.handleYearChange(n),r.handleMonthChange(n)},r.changeYear=function(n){r.setState(function(o){var c=o.date;return{date:gs(c,Number(n))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(n){r.setState(function(o){var c=o.date;return{date:Tr(c,Number(n))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(n){r.setState(function(o){var c=o.date;return{date:gs(Tr(c,ir(n)),yt(n))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(n){n===void 0&&(n=r.state.date);var o=r.props.disabled,c=Hn(n,r.props.locale,r.props.calendarStartDay),d=[];return r.props.showWeekNumbers&&d.push(fe.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(o?"react-datepicker__day-name--disabled":""),role:"columnheader"},fe.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),fe.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),d.concat([0,1,2,3,4,5,6].map(function(m){var f=os(c,m),p=r.formatWeekday(f,r.props.locale),h=r.props.weekDayClassName?r.props.weekDayClassName(f):void 0;return fe.createElement("div",{key:m,role:"columnheader",className:Ya("react-datepicker__day-name",h,o?"react-datepicker__day-name--disabled":"")},fe.createElement("span",{className:"react-datepicker__sr-only"},sa(f,"EEEE",r.props.locale)),fe.createElement("span",{"aria-hidden":"true"},p))}))},r.formatWeekday=function(n,o){return r.props.formatWeekDay?nO(n,r.props.formatWeekDay,o):r.props.useWeekdaysShort?oO(n,o):iO(n,o)},r.decreaseYear=function(){r.setState(function(n){var o,c=n.date;return{date:ko(c,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:s.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var n,o,c;if(!r.props.renderCustomHeader){var d=(n=r.props.monthsShown)!==null&&n!==void 0?n:s.defaultProps.monthsShown,m=r.props.showPreviousMonths?d-1:0,f=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:m,p=Ni(r.state.date,f),h;switch(!0){case r.props.disabled:h=!0;break;case r.props.showMonthYearPicker:h=gy(r.state.date,r.props);break;case r.props.showYearPicker:h=mO(r.state.date,r.props);break;case r.props.showQuarterYearPicker:h=dO(r.state.date,r.props);break;default:h=hy(p,r.props);break}if(!(!((c=r.props.forceShowMonthNavigation)!==null&&c!==void 0?c:s.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&h||r.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],j=["react-datepicker__navigation","react-datepicker__navigation--previous"],b=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(b=r.decreaseYear),h&&r.props.showDisabledMonthNavigation&&(j.push("react-datepicker__navigation--previous--disabled"),b=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,C=w.previousMonthButtonLabel,S=C===void 0?s.defaultProps.previousMonthButtonLabel:C,k=w.previousYearButtonLabel,P=k===void 0?s.defaultProps.previousYearButtonLabel:k,R=r.props,D=R.previousMonthAriaLabel,E=D===void 0?typeof S=="string"?S:"Previous Month":D,O=R.previousYearAriaLabel,I=O===void 0?typeof P=="string"?P:"Previous Year":O;return fe.createElement("button",{type:"button",className:j.join(" "),onClick:b,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?I:E},fe.createElement("span",{className:g.join(" ")},y?P:S))}}},r.increaseYear=function(){r.setState(function(n){var o,c=n.date;return{date:an(c,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:s.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var n;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.disabled:o=!0;break;case r.props.showMonthYearPicker:o=vy(r.state.date,r.props);break;case r.props.showYearPicker:o=fO(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=uO(r.state.date,r.props);break;default:o=xy(r.state.date,r.props);break}if(!(!((n=r.props.forceShowMonthNavigation)!==null&&n!==void 0?n:s.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var m=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(m=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),m=void 0);var f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,p=r.props,h=p.nextMonthButtonLabel,g=h===void 0?s.defaultProps.nextMonthButtonLabel:h,j=p.nextYearButtonLabel,b=j===void 0?s.defaultProps.nextYearButtonLabel:j,y=r.props,w=y.nextMonthAriaLabel,C=w===void 0?typeof g=="string"?g:"Next Month":w,S=y.nextYearAriaLabel,k=S===void 0?typeof b=="string"?b:"Next Year":S;return fe.createElement("button",{type:"button",className:c.join(" "),onClick:m,onKeyDown:r.props.handleOnKeyDown,"aria-label":f?k:C},fe.createElement("span",{className:d.join(" ")},f?b:g))}}},r.renderCurrentMonth=function(n){n===void 0&&(n=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),fe.createElement("h2",{className:o.join(" ")},sa(n,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(n){if(n===void 0&&(n=!1),!(!r.props.showYearDropdown||n))return fe.createElement(AO,Et({},s.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:yt(r.state.date)}))},r.renderMonthDropdown=function(n){if(n===void 0&&(n=!1),!(!r.props.showMonthDropdown||n))return fe.createElement(kO,Et({},s.defaultProps,r.props,{month:ir(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(n){if(n===void 0&&(n=!1),!(!r.props.showMonthYearDropdown||n))return fe.createElement(DO,Et({},s.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(n){r.props.onSelect(dy(),n),r.props.setPreSelection&&r.props.setPreSelection(dy())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return fe.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(n){return fe.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(n))},r.renderDefaultHeader=function(n){var o=n.monthDate,c=n.i;return fe.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),fe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(c!==0),r.renderMonthYearDropdown(c!==0),r.renderYearDropdown(c!==0)))},r.renderCustomHeader=function(n){var o,c,d=n.monthDate,m=n.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var f=r.props,p=f.showYearPicker,h=f.yearItemNumber,g;if(p){var j=Xs(d,h),b=j.startPeriod,y=j.endPeriod;g={startYear:b,endYear:y}}var w=hy(r.state.date,r.props),C=xy(r.state.date,r.props),S=gy(r.state.date,r.props),k=vy(r.state.date,r.props);return fe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(c=(o=r.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,Et(Et(Et({},r.state),p&&{visibleYearsRange:g}),{customHeaderCount:m,monthDate:d,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:w,nextMonthButtonDisabled:C,prevYearButtonDisabled:S,nextYearButtonDisabled:k})))},r.renderYearHeader=function(n){var o=n.monthDate,c=r.props,d=c.showYearPicker,m=c.yearItemNumber,f=m===void 0?s.defaultProps.yearItemNumber:m,p=Xs(o,f),h=p.startPeriod,g=p.endPeriod;return fe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},d?"".concat(h," - ").concat(g):yt(o))},r.renderHeader=function(n){var o=n.monthDate,c=n.i,d=c===void 0?0:c,m={monthDate:o,i:d};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(m);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(m);default:return r.renderDefaultHeader(m)}},r.renderMonths=function(){var n,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var c=[],d=(n=r.props.monthsShown)!==null&&n!==void 0?n:s.defaultProps.monthsShown,m=r.props.showPreviousMonths?d-1:0,f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?an(r.state.date,m):Ni(r.state.date,m),p=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:m,h=0;h<d;++h){var g=h-p+m,j=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?an(f,g):ls(f,g),b="month-".concat(h),y=h<d-1,w=h>0;c.push(fe.createElement("div",{key:b,ref:function(C){r.monthContainer=C??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:j,i:h}),fe.createElement(SO,Et({},s.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:j,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w,dayNamesHeader:r.renderDayNamesHeader(j)}))))}return c}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return fe.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),fe.createElement(RO,Et({},s.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return fe.createElement(PO,Et({},s.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var n=r.props.selected?new Date(r.props.selected):void 0,o=n&&tm(n)&&!!r.props.selected,c=o?"".concat(by(n.getHours()),":").concat(by(n.getMinutes())):"";if(r.props.showTimeInput)return fe.createElement(yO,Et({},s.defaultProps,r.props,{date:n,timeString:c,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var n,o=Xs(r.state.date,(n=r.props.yearItemNumber)!==null&&n!==void 0?n:s.defaultProps.yearItemNumber),c=o.startPeriod,d=o.endPeriod,m;return r.props.showYearPicker?m="".concat(c," - ").concat(d):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?m=yt(r.state.date):m="".concat(rx(ir(r.state.date),r.props.locale)," ").concat(yt(r.state.date)),fe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&m)},r.renderChildren=function(){if(r.props.children)return fe.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=x.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(s,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:W1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:nc}},enumerable:!1,configurable:!0}),s.prototype.componentDidMount=function(){var a=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){a.setState({monthContainer:a.monthContainer})})())},s.prototype.componentDidUpdate=function(a){var r=this;if(this.props.preSelection&&(!_t(this.props.preSelection,a.preSelection)||this.props.monthSelectedIn!==a.monthSelectedIn)){var n=!fr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!_t(this.props.openToDate,a.openToDate)&&this.setState({date:this.props.openToDate})},s.prototype.render=function(){var a=this.props.container||X5;return fe.createElement(em,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},fe.createElement("div",{style:{display:"contents"},ref:this.containerRef},fe.createElement(a,{className:Ya("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},s})(x.Component),FO=function(t){var s=t.icon,a=t.className,r=a===void 0?"":a,n=t.onClick,o="react-datepicker__calendar-icon";if(typeof s=="string")return fe.createElement("i",{className:"".concat(o," ").concat(s," ").concat(r),"aria-hidden":"true",onClick:n});if(fe.isValidElement(s)){var c=s;return fe.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(o," ").concat(r),onClick:function(d){typeof c.props.onClick=="function"&&c.props.onClick(d),typeof n=="function"&&n(d)}})}return fe.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:n},fe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Y1=(function(t){Za(s,t);function s(a){var r=t.call(this,a)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return s.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},s.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},s.prototype.render=function(){return Hy.createPortal(this.props.children,this.el)},s})(x.Component),$O="[tabindex], a, button, input, select, textarea",zO=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},q1=(function(t){Za(s,t);function s(a){var r=t.call(this,a)||this;return r.getTabChildren=function(){var n;return Array.prototype.slice.call((n=r.tabLoopRef.current)===null||n===void 0?void 0:n.querySelectorAll($O),1,-1).filter(zO)},r.handleFocusStart=function(){var n=r.getTabChildren();n&&n.length>1&&n[n.length-1].focus()},r.handleFocusEnd=function(){var n=r.getTabChildren();n&&n.length>1&&n[0].focus()},r.tabLoopRef=x.createRef(),r}return s.prototype.render=function(){var a;return((a=this.props.enableTabLoop)!==null&&a!==void 0?a:s.defaultProps.enableTabLoop)?fe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},fe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,fe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},s.defaultProps={enableTabLoop:!0},s})(x.Component);function BO(t){function s(a){var r,n=typeof a.hidePopper=="boolean"?a.hidePopper:!0,o=x.useRef(null),c=Q5(Et({open:!n,whileElementsMounted:kj,placement:a.popperPlacement,middleware:ks([Pj({padding:15}),Dj(10),Rj({element:o})],(r=a.popperModifiers)!==null&&r!==void 0?r:[],!0)},a.popperProps)),d=Et(Et({},a),{hidePopper:n,popperProps:Et(Et({},c),{arrowRef:o})});return fe.createElement(t,Et({},d))}return s.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),s}var UO=function(t){var s=t.className,a=t.wrapperClassName,r=t.hidePopper,n=r===void 0?!0:r,o=t.popperComponent,c=t.targetComponent,d=t.enableTabLoop,m=t.popperOnKeyDown,f=t.portalId,p=t.portalHost,h=t.popperProps,g=t.showArrow,j=void 0;if(!n){var b=Ya("react-datepicker-popper",s);j=fe.createElement(q1,{enableTabLoop:d},fe.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:b,"data-placement":h.placement,onKeyDown:m},o,g&&fe.createElement(H5,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(j=x.createElement(t.popperContainer,{},j)),f&&!n&&(j=fe.createElement(Y1,{portalId:f,portalHost:p},j));var y=Ya("react-datepicker-wrapper",a);return fe.createElement(fe.Fragment,null,fe.createElement("div",{ref:h.refs.setReference,className:y},c),j)},HO=BO(UO);function VO(t,s){return t&&s?ir(t)!==ir(s)||yt(t)!==yt(s):t!==s}var yp="Date input not valid.",WO=(function(t){Za(s,t);function s(a){var r=t.call(this,a)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Wt()},r.modifyHolidays=function(){var n;return(n=r.props.holidays)===null||n===void 0?void 0:n.reduce(function(o,c){var d=new Date(c.date);return tm(d)?ks(ks([],o,!0),[Et(Et({},c),{date:d})],!1):o},[])},r.calcInitialState=function(){var n,o=r.getPreSelection(),c=U1(r.props),d=H1(r.props),m=c&&Cs(o,Hd(c))?c:d&&Kn(o,uy(d))?d:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(n=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&n!==void 0?n:m,highlightDates:yy(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var n,o=r.props,c=o.locale,d=o.startDate,m=o.endDate,f=o.rangeSeparator,p=o.selected,h=o.selectedDates,g=o.selectsMultiple,j=o.selectsRange,b=o.value,y=(n=r.props.dateFormat)!==null&&n!==void 0?n:s.defaultProps.dateFormat,w=r.state.inputValue;return typeof b=="string"?b:typeof w=="string"?w:j?Z5(d,m,{dateFormat:y,locale:c,rangeSeparator:f}):g?eO(h??[],{dateFormat:y,locale:c}):Mr(p,{dateFormat:y,locale:c})},r.resetHiddenStatus=function(){r.setState(Et(Et({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Et(Et({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var n,o;(o=(n=r.input)===null||n===void 0?void 0:n.focus)===null||o===void 0||o.call(n,{preventScroll:!0})},r.setBlur=function(){var n,o;(o=(n=r.input)===null||n===void 0?void 0:n.blur)===null||o===void 0||o.call(n),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(n,o){o===void 0&&(o=!1),r.setState({open:n,preSelection:n&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:bp},function(){n||r.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return rn(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(n){var o,c,d=r.state.wasHidden,m=d?r.state.open:!0;d&&r.resetHiddenStatus(),r.state.preventFocus||((c=(o=r.props).onFocus)===null||c===void 0||c.call(o,n),m&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(Et(Et({},r.state),{inputValue:null}))},r.handleBlur=function(n){var o,c;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((c=(o=r.props).onBlur)===null||c===void 0||c.call(o,n)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(n){var o,c;r.props.inline||r.setOpen(!1),(c=(o=r.props).onClickOutside)===null||c===void 0||c.call(o,n),r.props.withPortal&&n.preventDefault()},r.handleChange=function(){for(var n,o,c,d,m,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var h=f[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,f),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:YO});var g=r.props,j=g.selectsRange,b=g.startDate,y=g.endDate,w=(n=r.props.dateFormat)!==null&&n!==void 0?n:s.defaultProps.dateFormat,C=(o=r.props.strictParsing)!==null&&o!==void 0?o:s.defaultProps.strictParsing,S=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(j){var k=r.props.rangeSeparator,P=k.trim(),R=S.split(w.includes(P)?k:P,2).map(function($){return $.trim()}),D=R[0],E=R[1],O=hp(D??"",w,r.props.locale,C),I=O?hp(E??"",w,r.props.locale,C):null,z=(b==null?void 0:b.getTime())!==(O==null?void 0:O.getTime()),B=(y==null?void 0:y.getTime())!==(I==null?void 0:I.getTime());if(!z&&!B||O&&Ur(O,r.props)||I&&Ur(I,r.props))return;(d=(c=r.props).onChange)===null||d===void 0||d.call(c,[O,I],h)}else{var Y=hp(S,w,r.props.locale,C,(m=r.props.selected)!==null&&m!==void 0?m:void 0);(Y||!S)&&r.setSelected(Y,h,!0)}}},r.handleSelect=function(n,o,c){var d;if(!r.props.readOnly){var m=r.props,f=m.selectsRange,p=m.startDate,h=m.endDate,g=m.locale,j=m.swapRange,b=(d=r.props.dateFormat)!==null&&d!==void 0?d:s.defaultProps.dateFormat,y=!f||p&&!h&&(j||!gp(n,p));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&y&&r.sendFocusBackToInput(),r.props.onChangeRaw){var w=Mr(n,{dateFormat:b,locale:g});r.props.onChangeRaw(o,{date:n,formattedDate:w})}r.setSelected(n,o,!1,c),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(n):y&&r.setOpen(!1)}},r.setSelected=function(n,o,c,d){var m,f,p=n;if(r.props.showYearPicker){if(p!==null&&Vd(yt(p),r.props))return}else if(r.props.showMonthYearPicker){if(p!==null&&B1(p,r.props))return}else if(p!==null&&Ur(p,r.props))return;var h=r.props,g=h.onChange,j=h.selectsRange,b=h.startDate,y=h.endDate,w=h.selectsMultiple,C=h.selectedDates,S=h.minTime,k=h.swapRange;if(!yi(r.props.selected,p)||r.props.allowSameDay||j||w)if(p!==null&&(r.props.selected&&(!c||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(p=xp(p,{hour:sn(r.props.selected),minute:nn(r.props.selected),second:Un(r.props.selected)})),!c&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&S&&(p=xp(p,{hour:S.getHours(),minute:S.getMinutes(),second:S.getSeconds()})),r.props.inline||r.setState({preSelection:p}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:d})),j){var P=!b&&!y,R=b&&!y,D=!b&&!!y,E=b&&y;P?g==null||g([p,null],o):R?p===null?g==null||g([null,null],o):gp(p,b)?k?g==null||g([p,b],o):g==null||g([p,null],o):g==null||g([b,p],o):D&&(p&&gp(p,y)?g==null||g([p,y],o):g==null||g([p,null],o)),E&&(g==null||g([p,null],o))}else if(w){if(p!==null)if(!(C!=null&&C.length))g==null||g([p],o);else{var O=C.some(function(z){return _t(z,p)});if(O){var I=C.filter(function(z){return!_t(z,p)});g==null||g(I,o)}else g==null||g(ks(ks([],C,!0),[p],!1),o)}}else g==null||g(p,o);c||((f=(m=r.props).onSelect)===null||f===void 0||f.call(m,p,o),r.setState({inputValue:null}))},r.setPreSelection=function(n){if(!r.props.readOnly){var o=rn(r.props.minDate),c=rn(r.props.maxDate),d=!0;if(n){var m=Hd(n);if(o&&c)d=xi(n,r.props.minDate,r.props.maxDate);else if(o){var f=Hd(r.props.minDate);d=Kn(n,f)||yi(m,f)}else if(c){var p=uy(r.props.maxDate);d=Cs(n,p)||yi(m,p)}}d&&r.setState({preSelection:n})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(n){var o,c;if(!(r.props.selectsRange||r.props.selectsMultiple)){var d=r.props.selected?r.props.selected:r.getPreSelection(),m=r.props.selected?n:xp(d,{hour:sn(n),minute:nn(n)});r.setState({preSelection:m}),(c=(o=r.props).onChange)===null||c===void 0||c.call(o,m),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var n,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(n=r.props).onInputClick)===null||o===void 0||o.call(n)},r.onInputKeyDown=function(n){var o,c,d,m,f,p;(c=(o=r.props).onKeyDown)===null||c===void 0||c.call(o,n);var h=n.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h===Oe.ArrowDown||h===Oe.ArrowUp||h===Oe.Enter)&&((d=r.onInputClick)===null||d===void 0||d.call(r));return}if(r.state.open){if(h===Oe.ArrowDown||h===Oe.ArrowUp){n.preventDefault();var g=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',j=((m=r.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(g);j instanceof HTMLElement&&j.focus({preventScroll:!0});return}var b=Wt(r.state.preSelection);h===Oe.Enter?(n.preventDefault(),n.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===bp?(r.handleSelect(b,n),!r.props.shouldCloseOnSelect&&r.setPreSelection(b)):r.setOpen(!1)):h===Oe.Escape?(n.preventDefault(),n.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):h===Oe.Tab&&r.setOpen(!1),r.inputOk()||(p=(f=r.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:yp})}},r.onPortalKeyDown=function(n){var o=n.key;o===Oe.Escape&&(n.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(n){var o,c,d,m,f,p,h=r.props,g=h.minDate,j=h.maxDate,b=h.disabledKeyboardNavigation,y=h.showWeekPicker,w=h.shouldCloseOnSelect,C=h.locale,S=h.calendarStartDay,k=h.adjustDateOnChange,P=h.inline;if((c=(o=r.props).onKeyDown)===null||c===void 0||c.call(o,n),!b){var R=n.key,D=n.shiftKey,E=Wt(r.state.preSelection),O=function(G,T){var L=T;switch(G){case Oe.ArrowRight:L=y?ou(T,1):os(T,1);break;case Oe.ArrowLeft:L=y?iy(T):g5(T);break;case Oe.ArrowUp:L=iy(T);break;case Oe.ArrowDown:L=ou(T,1);break;case Oe.PageUp:L=D?ko(T,1):Ni(T,1);break;case Oe.PageDown:L=D?an(T,1):ls(T,1);break;case Oe.Home:L=Hn(T,C,S);break;case Oe.End:L=rO(T);break}return L},I=function(G,T){for(var L=40,H=G,Q=!1,te=0,A=O(G,T);!Q;){if(te>=L){A=T;break}g&&A<g&&(H=Oe.ArrowRight,A=Ur(g,r.props)?O(H,A):g),j&&A>j&&(H=Oe.ArrowLeft,A=Ur(j,r.props)?O(H,A):j),Ur(A,r.props)?((H===Oe.PageUp||H===Oe.Home)&&(H=Oe.ArrowRight),(H===Oe.PageDown||H===Oe.End)&&(H=Oe.ArrowLeft),A=O(H,A)):Q=!0,te++}return A};if(R===Oe.Enter){n.preventDefault(),r.handleSelect(E,n),!w&&r.setPreSelection(E);return}else if(R===Oe.Escape){n.preventDefault(),r.setOpen(!1),r.inputOk()||(m=(d=r.props).onInputError)===null||m===void 0||m.call(d,{code:1,msg:yp});return}var z=null;switch(R){case Oe.ArrowLeft:case Oe.ArrowRight:case Oe.ArrowUp:case Oe.ArrowDown:case Oe.PageUp:case Oe.PageDown:case Oe.Home:case Oe.End:z=I(R,E);break}if(!z){(p=(f=r.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:yp});return}if(n.preventDefault(),r.setState({lastPreSelectChange:bp}),k&&r.setSelected(z),r.setPreSelection(z),P){var B=ir(E),Y=ir(z),$=yt(E),M=yt(z);B!==Y||$!==M?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(n){var o=n.key;o===Oe.Escape&&(n.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(n){n&&n.preventDefault&&n.preventDefault(),r.sendFocusBackToInput();var o=r.props,c=o.selectsRange,d=o.onChange;c?d==null||d([null,null],n):d==null||d(null,n),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(n){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(n.target===document||n.target===document.documentElement||n.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(n)&&r.setOpen(!1)},r.renderCalendar=function(){var n,o;return!r.props.inline&&!r.isCalendarOpen()?null:fe.createElement(LO,Et({showMonthYearDropdown:void 0,ref:function(c){r.calendar=c}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(n=r.props.dateFormatCalendar)!==null&&n!==void 0?n:s.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:hO(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:s.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var n,o=r.props.locale,c=(n=r.props.dateFormat)!==null&&n!==void 0?n:s.defaultProps.dateFormat,d=r.props.showTimeInput||r.props.showTimeSelect,m=d?"PPPPp":"PPPP",f;return r.props.selectsRange?f="Selected start date: ".concat(Mr(r.props.startDate,{dateFormat:m,locale:o}),". ").concat(r.props.endDate?"End date: "+Mr(r.props.endDate,{dateFormat:m,locale:o}):""):r.props.showTimeSelectOnly?f="Selected time: ".concat(Mr(r.props.selected,{dateFormat:c,locale:o})):r.props.showYearPicker?f="Selected year: ".concat(Mr(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?f="Selected month: ".concat(Mr(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?f="Selected quarter: ".concat(Mr(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):f="Selected date: ".concat(Mr(r.props.selected,{dateFormat:m,locale:o})),fe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},r.renderDateInput=function(){var n,o,c=Ya(r.props.className,(n={},n[r.props.outsideClickIgnoreClass||s.defaultProps.outsideClickIgnoreClass]=r.state.open,n)),d=r.props.customInput||fe.createElement("input",{type:"text"}),m=r.props.customInputRef||"ref";return x.cloneElement(d,(o={},o[m]=function(f){r.input=f},o.value=r.getInputValue(),o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=Ya(d.props.className,c),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var n=r.props,o=n.isClearable,c=n.disabled,d=n.selected,m=n.startDate,f=n.endDate,p=n.clearButtonTitle,h=n.clearButtonClassName,g=h===void 0?"":h,j=n.ariaLabelClose,b=j===void 0?"Close":j,y=n.selectedDates,w=n.readOnly;return o&&!w&&(d!=null||m!=null||f!=null||y!=null&&y.length)?fe.createElement("button",{type:"button",className:Ya("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":b,onClick:r.onClearClick,title:p,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(s,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:W1,readOnly:!1,rangeSeparator:$1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:nc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),s.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},s.prototype.componentDidUpdate=function(a,r){var n,o,c,d;a.inline&&VO(a.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&a.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),a.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:yy(this.props.highlightDates)}),!r.focused&&!yi(a.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(n=this.props).onCalendarOpen)===null||o===void 0||o.call(n)),r.open===!0&&this.state.open===!1&&((d=(c=this.props).onCalendarClose)===null||d===void 0||d.call(c)))},s.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},s.prototype.renderInputContainer=function(){var a=this.props,r=a.showIcon,n=a.icon,o=a.calendarIconClassname,c=a.calendarIconClassName,d=a.toggleCalendarOnIconClick,m=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),fe.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&fe.createElement(FO,Et({icon:n,className:Ya(c,!c&&o,m&&"react-datepicker-ignore-onclickoutside")},d?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},s.prototype.render=function(){var a=this.renderCalendar();if(this.props.inline)return a;if(this.props.withPortal){var r=this.state.open?fe.createElement(q1,{enableTabLoop:this.props.enableTabLoop},fe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},a)):null;return this.state.open&&this.props.portalId&&(r=fe.createElement(Y1,Et({portalId:this.props.portalId},this.props),r)),fe.createElement("div",null,this.renderInputContainer(),r)}return fe.createElement(HO,Et({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:a,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},s})(x.Component),YO="input",bp="navigate";const K1=x.forwardRef(({value:t,onClick:s,placeholder:a,className:r,id:n,name:o},c)=>e.jsxs("div",{className:"relative",children:[e.jsx(ge,{id:n,name:o,ref:c,value:t||"",onClick:s,readOnly:!0,placeholder:a||"DD/MM/AAAA",className:we("pr-10",r)}),e.jsx(ot,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}));K1.displayName="DateInput";function Ja({id:t,name:s,value:a,onChange:r,className:n,minDate:o,maxDate:c,required:d}){const m=a?A1(`${a}`):null;return e.jsx(WO,{selected:m,onChange:f=>{if(!f){r==null||r("");return}r==null||r(Fn(f,"yyyy-MM-dd"))},customInput:e.jsx(K1,{id:t,name:s,className:n}),dateFormat:"dd/MM/yyyy",placeholderText:"DD/MM/AAAA",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",minDate:o,maxDate:c,calendarClassName:"dp-modern",popperClassName:"dp-popper",required:d})}function qO(){const[t,s]=x.useState(null),[a,r]=x.useState(null),[n,o]=x.useState(!0),[c,d]=x.useState(null),[m,f]=x.useState([]),[p,h]=x.useState(!0),[g,j]=x.useState({data_nascimento:"",endereco:"",telefone:"",tipo_sanguineo:"",alergias:"",condicoes_cronicas:""}),[b,y]=x.useState(!1),{toast:w}=ta();x.useEffect(()=>{let O=!0;return(async()=>{var I,z,B,Y;try{const[$,M]=await Promise.allSettled([Rt.getPerfil(),Rt.getPacienteDoUsuario()]);if(!O)return;if($.status==="fulfilled"&&s($.value),M.status==="fulfilled"&&r(M.value),$.status==="rejected"&&M.status==="rejected"){const G=((z=(I=$.reason)==null?void 0:I.response)==null?void 0:z.status)||((Y=(B=M.reason)==null?void 0:B.response)==null?void 0:Y.status);d(G===401?"Sua sessão não é válida. Verifique o login e o tipo de autenticação (Bearer/JWT/Token).":"Não foi possível carregar seu perfil.")}}finally{O&&o(!1)}})(),()=>{O=!1}},[]),x.useEffect(()=>{let O=!0;return(async()=>{try{h(!0);const I=await Rt.getConsultas();if(O){const B=(Array.isArray(I)?I:(I==null?void 0:I.results)||[]).map(M=>{var H,Q,te,A,W,re,K,J,V,U,X;const G=((Q=(H=M.medico)==null?void 0:H.user)==null?void 0:Q.first_name)||((te=M.medico)==null?void 0:te.first_name)||((A=M.medico)==null?void 0:A.nome)||"",T=((re=(W=M.medico)==null?void 0:W.user)==null?void 0:re.last_name)||((K=M.medico)==null?void 0:K.last_name)||"",L=[G,T].filter(Boolean).join(" ").trim()||((J=M.medico)==null?void 0:J.nome)||"—";return{id:M.id,data:M.data||M.data_hora,medico:{nome:L,especialidade:((X=(U=(V=M.medico)==null?void 0:V.especialidades)==null?void 0:U[0])==null?void 0:X.nome)||M.especialidade||"Não especificada"},status:M.status,local:M.local||M.localizacao||M.observacoes||"Local não especificado",tipo:M.tipo||M.motivo||"Consulta"}}),Y=new Date,$=B.filter(M=>{const T=(M.status||"").toLowerCase().includes("agend"),L=M.data?new Date(M.data)>Y:!1;return T||L});f($.slice(0,3))}}catch(I){console.error("Erro ao buscar consultas:",I)}finally{O&&h(!1)}})(),()=>{O=!1}},[]),x.useEffect(()=>{a&&t&&j({data_nascimento:t.data_nascimento||"",endereco:t.endereco||"",telefone:t.telefone||"",tipo_sanguineo:a.tipo_sanguineo||"",alergias:a.alergias||"",condicoes_cronicas:a.condicoes_cronicas||""})},[a,t]);const C=O=>{const{name:I,value:z}=O.target;j(B=>({...B,[I]:z}))},S=async O=>{O.preventDefault(),y(!0);try{await Rt.atualizarPerfil({data_nascimento:g.data_nascimento,endereco:g.endereco,telefone:g.telefone}),await Rt.atualizarPaciente({tipo_sanguineo:g.tipo_sanguineo,alergias:g.alergias,condicoes_cronicas:g.condicoes_cronicas});const[I,z]=await Promise.allSettled([Rt.getPerfil(),Rt.getPacienteDoUsuario()]);I.status==="fulfilled"&&s(I.value),z.status==="fulfilled"&&r(z.value),w({title:"Perfil atualizado",description:"Suas informações foram salvas com sucesso."})}catch(I){console.error("Erro ao salvar perfil:",I),w({title:"Erro ao salvar",description:"Não foi possível atualizar seu perfil. Tente novamente.",variant:"destructive"})}finally{y(!1)}},k=O=>O?([O.first_name,O.last_name].filter(Boolean).join(" ")||O.username||"Usuário").split(" ").map(z=>z[0]).join("").toUpperCase().slice(0,2):"?",P=O=>O?O.length>50?O.substring(0,50)+"...":O:"Não informado",R=t&&(!t.data_nascimento||!t.endereco||!t.telefone),D=[{label:"Perfil",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"}],E=[{title:"Contato com médico",description:"Solicite um horário",href:"/paciente/consultas/nova",icon:ot,color:"blue"},{title:"Ver Prontuário",description:"Acesse seu histórico médico",href:"/paciente/prontuario",icon:va,color:"green"},{title:"Exames",description:"Visualize seus exames",href:"/paciente/exames",icon:en,color:"purple"},{title:"Receitas",description:"Suas receitas médicas",href:"/paciente/receitas",icon:jo,color:"red"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-8 shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/95 via-indigo-600/95 to-purple-600/95"}),e.jsx("div",{className:"absolute -top-4 -right-4 h-24 w-24 rounded-full bg-white/10 blur-xl"}),e.jsx("div",{className:"absolute -bottom-4 -left-4 h-32 w-32 rounded-full bg-white/5 blur-2xl"}),e.jsxs("div",{className:"relative flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(tc,{className:"h-24 w-24 ring-4 ring-white/40 shadow-xl",children:e.jsx(ac,{className:"bg-gradient-to-br from-white to-blue-100 text-blue-700 text-2xl font-bold shadow-inner",children:n?"...":k(t)})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 rounded-full bg-emerald-400 border-3 border-white shadow-lg"})]}),e.jsxs("div",{className:"text-white",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 drop-shadow-sm",children:n?e.jsx(gt,{className:"h-10 w-64 bg-white/20"}):[t==null?void 0:t.first_name,t==null?void 0:t.last_name].filter(Boolean).join(" ")||(t==null?void 0:t.username)||"Usuário"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(is,{className:"h-5 w-5 text-blue-100"}),e.jsx("p",{className:"text-blue-50 text-lg font-medium",children:"Paciente Verificado"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[(t==null?void 0:t.cpf)&&e.jsxs(Je,{className:"bg-white/25 text-white border-white/40 hover:bg-white/35 font-medium px-3 py-1 shadow-sm",children:["CPF: ",t.cpf]}),(a==null?void 0:a.tipo_sanguineo)&&e.jsxs(Je,{className:"bg-red-500/30 text-red-50 border-red-200/40 hover:bg-red-500/40 font-medium px-3 py-1 shadow-sm",children:[e.jsx(h0,{className:"h-4 w-4 mr-1"}),a.tipo_sanguineo]})]})]})]}),e.jsxs(Z,{className:"bg-white/25 hover:bg-white/35 text-white border-white/40 backdrop-blur-sm shadow-lg font-medium",children:[e.jsx(zE,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})]}),e.jsx(qr,{tabs:D,basePath:"/paciente"}),!n&&!c&&R&&e.jsxs(ne,{className:"border-amber-300 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 shadow-lg dark:border-amber-600",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(he,{className:"flex items-center gap-3 text-amber-800 dark:text-amber-200",children:[e.jsx("div",{className:"p-2 rounded-full bg-amber-200 dark:bg-amber-700",children:e.jsx(Js,{className:"h-5 w-5 text-amber-700 dark:text-amber-200"})}),"Complete seu perfil para uma experiência completa"]})}),e.jsx(ie,{children:e.jsxs("form",{className:"space-y-6",onSubmit:S,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"data_nascimento",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Data de Nascimento"}),e.jsx(Ja,{id:"data_nascimento",name:"data_nascimento",value:g.data_nascimento,onChange:O=>j(I=>({...I,data_nascimento:O})),className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",maxDate:new Date,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"telefone",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Telefone"}),e.jsx(ge,{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:g.telefone,onChange:C,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"endereco",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Endereço"}),e.jsx(Pt,{id:"endereco",name:"endereco",placeholder:"Rua, número, bairro, cidade, estado",value:g.endereco,onChange:C,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"tipo_sanguineo",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Tipo Sanguíneo"}),e.jsx(ge,{id:"tipo_sanguineo",name:"tipo_sanguineo",placeholder:"Ex: O+, A-, B+, AB-",value:g.tipo_sanguineo,onChange:C,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"alergias",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Alergias"}),e.jsx(ge,{id:"alergias",name:"alergias",placeholder:"Ex: Penicilina, Amendoim",value:g.alergias,onChange:C,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"condicoes_cronicas",className:"text-slate-800 dark:text-slate-200 font-medium",children:"Condições Crônicas"}),e.jsx(Pt,{id:"condicoes_cronicas",name:"condicoes_cronicas",placeholder:"Ex: Hipertensão, Diabetes",value:g.condicoes_cronicas,onChange:C,className:"border-amber-300 focus:border-amber-500 focus:ring-amber-500/30 bg-white dark:bg-gray-800 dark:border-amber-600 dark:text-white"})]}),e.jsx(Z,{type:"submit",disabled:b,className:"w-full btn-medical-primary shadow-lg font-medium",children:b?"Salvando...":"Salvar Informações"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(ne,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(pe,{className:"pb-6",children:e.jsxs(he,{className:"flex items-center gap-3 text-2xl text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:e.jsx(Ea,{className:"h-6 w-6"})}),"Informações Pessoais"]})}),e.jsx(ie,{children:n?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(gt,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),e.jsx(gt,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(gt,{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700"}),e.jsx(gt,{className:"h-16 w-full bg-gray-200 dark:bg-gray-700"})]})]}):c?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Js,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:c})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:e.jsx(ot,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200",children:"Data de Nascimento"})]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(t==null?void 0:t.data_nascimento)||"Não informado"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-emerald-50 to-green-100 dark:from-emerald-900/40 dark:to-green-900/40 border border-emerald-200 dark:border-emerald-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-emerald-500 text-white shadow-md",children:e.jsx(tn,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-emerald-800 dark:text-emerald-200",children:"Telefone"})]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:(t==null?void 0:t.telefone)||"Não informado"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-violet-100 dark:from-purple-900/40 dark:to-violet-900/40 border border-purple-200 dark:border-purple-700 hover:shadow-lg transition-all duration-300 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-purple-500 text-white shadow-md",children:e.jsx(Qd,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-purple-800 dark:text-purple-200",children:"Endereço"})]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-100 font-medium text-lg",children:P(t==null?void 0:t.endereco)})]})]}),e.jsx(lr,{className:"my-8 bg-gray-200 dark:bg-gray-700"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(hr,{className:"h-5 w-5 text-red-500"}),"Informações Médicas"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-red-50 to-pink-100 dark:from-red-900/40 dark:to-pink-900/40 border border-red-200 dark:border-red-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-red-500 text-white shadow-md",children:e.jsx(h0,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"Tipo Sanguíneo"})]}),e.jsx("p",{className:"text-red-900 dark:text-red-100 font-bold text-2xl",children:(a==null?void 0:a.tipo_sanguineo)||"Não informado"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-amber-50 to-yellow-100 dark:from-amber-900/40 dark:to-yellow-900/40 border border-amber-200 dark:border-amber-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-amber-500 text-white shadow-md",children:e.jsx(Js,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-amber-700 dark:text-amber-200",children:"Alergias"})]}),e.jsx("p",{className:"text-amber-800 dark:text-amber-200 font-medium",children:(a==null?void 0:a.alergias)||"Nenhuma alergia conhecida"})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-gradient-to-br from-teal-50 to-cyan-100 dark:from-teal-900/40 dark:to-cyan-900/40 border border-teal-200 dark:border-teal-700 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-teal-500 text-white shadow-md",children:e.jsx(jo,{className:"h-4 w-4"})}),e.jsx("p",{className:"text-sm font-semibold text-teal-800 dark:text-teal-200",children:"Condições Crônicas"})]}),e.jsx("p",{className:"text-teal-800 dark:text-teal-200 font-medium",children:(a==null?void 0:a.condicoes_cronicas)||"Nenhuma condição crônica"})]})]})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(he,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[e.jsx(VE,{className:"h-5 w-5 text-yellow-500"}),"Ações Rápidas"]})}),e.jsx(ie,{className:"space-y-3",children:E.map((O,I)=>{const z=O.icon;return e.jsx(it,{to:O.href,children:e.jsx("div",{className:"group p-4 rounded-xl bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300 hover:shadow-lg cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-full bg-gradient-to-br ${O.color==="blue"?"from-blue-500 to-blue-600":O.color==="green"?"from-emerald-500 to-green-600":O.color==="purple"?"from-purple-500 to-violet-600":"from-red-500 to-pink-600"} text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:e.jsx(z,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:O.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:O.description})]}),e.jsx(ss,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-300"})]})})},I)})})]}),e.jsxs(ne,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(pe,{className:"pb-3",children:e.jsxs(he,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:e.jsx(ot,{className:"h-4 w-4"})}),"Próximas Consultas"]})}),e.jsx(ie,{children:p?e.jsxs("div",{className:"space-y-3",children:[e.jsx(gt,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"}),e.jsx(gt,{className:"h-16 w-full rounded-xl bg-gray-200 dark:bg-gray-700"})]}):m.length>0?e.jsxs("div",{className:"space-y-3",children:[m.map(O=>e.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 border border-blue-200 dark:border-blue-700 hover:shadow-md transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-500 text-white shadow-md",children:e.jsx(ot,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:[new Date(O.data).toLocaleDateString("pt-BR")," ",new Date(O.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200 font-medium",children:O.medico.nome}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:O.medico.especialidade})]})]})},O.id)),e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,className:"w-full mt-3 border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:e.jsxs(it,{to:"/paciente/consultas",children:["Ver Todas as Consultas",e.jsx(ss,{className:"h-3 w-3 ml-1"})]})})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:e.jsx(ot,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhuma consulta agendada"}),e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,className:"border-blue-300 text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300 dark:hover:bg-blue-900/20",children:e.jsxs(it,{to:"/paciente/consultas",children:["Entrar em contato",e.jsx(ss,{className:"h-3 w-3 ml-1"})]})})]})})]}),e.jsxs(ne,{className:"shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsx(pe,{className:"pb-3",children:e.jsxs(he,{className:"flex items-center gap-2 text-xl text-gray-800 dark:text-gray-100",children:[e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-emerald-500 to-green-600 text-white shadow-lg",children:e.jsx(en,{className:"h-4 w-4"})}),"Exames Recentes"]})}),e.jsx(ie,{children:e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"p-4 rounded-full bg-gray-100 dark:bg-gray-700 w-fit mx-auto mb-3",children:e.jsx(en,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-3",children:"Nenhum exame recente"}),e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50 dark:border-emerald-600 dark:text-emerald-300 dark:hover:bg-emerald-900/20",children:e.jsxs(it,{to:"/paciente/exames",children:["Ver Todos os Exames",e.jsx(ss,{className:"h-3 w-3 ml-1"})]})})]})})]})]})]})]})})}function KO(){const[t,s]=x.useState(null),[a,r]=x.useState(!0),[n,o]=x.useState(null),c=h=>Array.isArray(h)?h.filter(g=>g!=null&&g!==""):typeof h=="string"?h.split(/[\n;,]+/).map(g=>g.trim()).filter(Boolean):h==null?[]:[h],d=h=>{let g="",j="",b="";if(typeof h=="string"){const y=h.split(/[;•\-\|]/).map(w=>w.trim()).filter(Boolean);if(y.length&&(g=y[0]),y[1]&&(j=y[1]),y[2]&&(b=y.slice(2).join(" • ")),!j){const w=h.match(/\b(\d+(\.\d+)?\s?(mg|ml|mcg|g|gotas|ui))\b/i);w&&(j=w[0])}if(!b){const w=h.match(/\b(\d+x\s?\/\s?dia|[1-9]\s?x\/dia|a\s?cada\s?\d+\s?h|de\s?\d+\s?em\s?\d+\s?h)\b/i);w&&(b=w[0])}}else h&&typeof h=="object"&&(g=h.nome||h.medicamento||h.nome_medicamento||h.name||h.descricao||"",j=h.dose||h.dosagem||h.dosage||"",b=h.posologia||h.frequencia||h.intervalo||h.schedule||"");return{name:g||(typeof h=="string"?h:JSON.stringify(h)),dose:j||"",schedule:b||""}},m=h=>{const g=c(h);return g.length>0?e.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:g.map((j,b)=>{const y=d(j);return e.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm hover:shadow-md transition-shadow",role:"group","aria-label":`Medicação ${y.name}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 rounded-md bg-primary/10 p-2 text-primary",children:e.jsx(Tl,{className:"h-5 w-5","aria-hidden":"true"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-base md:text-lg font-semibold leading-snug break-words",children:y.name}),y.dose&&e.jsx("div",{className:"text-sm md:text-base text-muted-foreground mt-0.5 break-words",children:y.dose}),y.schedule&&e.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-muted/60 px-2 py-1 text-xs md:text-sm text-foreground/80",children:[e.jsx(pt,{className:"h-3.5 w-3.5","aria-hidden":"true"}),e.jsx("span",{className:"break-words",children:y.schedule})]})]})]})},b)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})};x.useEffect(()=>{let h=!0;const g=b=>{var P,R;const y=Array.isArray(b)?b[0]:Array.isArray(b==null?void 0:b.results)?b.results[0]:b||{},w=y.alergias??y.allergies??y.alergia,C=y.condicoes??y.condicoes_cronicas??y.condicoesCronicas,S=y.medicacoes??y.medicamentos??y.medicacoes_em_uso??y.medicamentos_em_uso??y.medicamentos_uso??y.em_uso??y.medicacoesEmUso??y.medicamentosEmUso??y.medications??y.current_medications??((P=y.prontuario)==null?void 0:P.medicacoes)??((R=y.prontuario)==null?void 0:R.medicamentos),k=y.observacoes??y.observacao??y.notes??y.anotacoes;return{alergias:c(w),condicoes:c(C),medicacoes:c(S),observacoes:k??"—"}},j=b=>b?{alergias:c(b.alergias),condicoes:c(b.condicoes_cronicas??b.condicoes),medicacoes:c(b.medicacoes??b.medicamentos??b.medicacoes_em_uso??b.medicamentos_em_uso??b.medicamentos_uso??b.em_uso??b.medicacoesEmUso??b.medicamentosEmUso??b.medications??b.current_medications),observacoes:b.observacoes??"—"}:null;return(async()=>{try{const[b,y]=await Promise.allSettled([Rt.getProntuario(),Rt.getPacienteDoUsuario()]);let w=null;if(b.status==="fulfilled"&&(w=g(b.value)),(!w||c(w.alergias).length===0&&c(w.condicoes).length===0&&c(w.medicacoes).length===0&&(!w.observacoes||w.observacoes==="—"))&&y.status==="fulfilled"){const S=j(y.value);S&&(w=S)}h&&s(w||{alergias:[],condicoes:[],medicacoes:[],observacoes:"—"})}catch{h&&o("Não foi possível carregar o prontuário.")}finally{h&&r(!1)}})(),()=>{h=!1}},[]);const f=h=>{const g=c(h);return g.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((j,b)=>{const y=typeof j=="string"?j:(j==null?void 0:j.nome)||(j==null?void 0:j.medicamento)||(j==null?void 0:j.nome_medicamento)||[j==null?void 0:j.descricao,(j==null?void 0:j.dose)||(j==null?void 0:j.dosagem),(j==null?void 0:j.posologia)||(j==null?void 0:j.frequencia)].filter(Boolean).join(" • ")||JSON.stringify(j);return e.jsx(Je,{variant:"secondary",className:"px-2.5 py-1 text-xs",children:y},b)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})},p=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(va,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Prontuário"})]}),e.jsx(qr,{tabs:p,basePath:"/paciente"}),a?e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(ne,{className:"lg:col-span-2",children:[e.jsx(pe,{children:e.jsx(gt,{className:"h-5 w-40"})}),e.jsxs(ie,{className:"space-y-2",children:[e.jsx(gt,{className:"h-4 w-full"}),e.jsx(gt,{className:"h-4 w-5/6"}),e.jsx(gt,{className:"h-4 w-2/3"})]})]}),e.jsx("div",{className:"space-y-6",children:[...Array(3)].map((h,g)=>e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(gt,{className:"h-5 w-40"})}),e.jsxs(ie,{className:"space-y-2",children:[e.jsx(gt,{className:"h-4 w-full"}),e.jsx(gt,{className:"h-4 w-2/3"})]})]},g))})]}):n?e.jsx("p",{className:"text-sm text-red-500",children:n}):e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(ne,{className:"lg:col-span-2 min-h-[320px]",children:[e.jsx(pe,{children:e.jsx(he,{children:"Medicações"})}),e.jsx(ie,{children:m(t==null?void 0:t.medicacoes)})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Alergias"})}),e.jsx(ie,{children:f(t==null?void 0:t.alergias)})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Condições"})}),e.jsx(ie,{children:f(t==null?void 0:t.condicoes)})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Observações"})}),e.jsx(ie,{children:t!=null&&t.observacoes&&(t==null?void 0:t.observacoes)!=="—"?e.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:t==null?void 0:t.observacoes}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"—"})})]})]})]})]})}const Ii=uj,G1=bP,GO=({className:t,children:s,...a})=>e.jsx(mj,{className:we(t),...a,children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:s})}),Q1=x.forwardRef(({className:t,...s},a)=>e.jsx(Pu,{ref:a,className:we("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",t),...s}));Q1.displayName=Pu.displayName;const Jn=x.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(GO,{children:[e.jsx(Q1,{}),e.jsxs(Ru,{ref:r,className:we("fixed z-50 grid w-full max-w-xl gap-4 rounded-xl border bg-background p-0 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0","data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",t),...a,children:[s,e.jsxs(fj,{className:"absolute right-4 top-4 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[e.jsx(gh,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));Jn.displayName=Ru.displayName;const Zn=({className:t,...s})=>e.jsx("div",{className:we("px-6 pt-5 pb-3 flex flex-col space-y-1.5",t),...s});Zn.displayName="DialogHeader";const Li=({className:t,...s})=>e.jsx("div",{className:we("px-6 pb-5 pt-2 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Li.displayName="DialogFooter";const ei=x.forwardRef(({className:t,...s},a)=>e.jsx(Mu,{ref:a,className:we("text-lg font-semibold leading-none tracking-tight",t),...s}));ei.displayName=Mu.displayName;const oc=x.forwardRef(({className:t,...s},a)=>e.jsx(Tu,{ref:a,className:we("text-sm text-muted-foreground",t),...s}));oc.displayName=Tu.displayName;const $s=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:we("w-full caption-bottom text-sm",t),...s})}));$s.displayName="Table";const zs=x.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:we("[&_tr]:border-b",t),...s}));zs.displayName="TableHeader";const Bs=x.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:we("[&_tr:last-child]:border-0",t),...s}));Bs.displayName="TableBody";const QO=x.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));QO.displayName="TableFooter";const ga=x.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));ga.displayName="TableRow";const vt=x.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));vt.displayName="TableHead";const ft=x.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));ft.displayName="TableCell";const XO=x.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:we("mt-4 text-sm text-muted-foreground",t),...s}));XO.displayName="TableCaption";const Cy=t=>{var a,r,n;if(!t)return null;const s=[(a=t==null?void 0:t.user)==null?void 0:a.first_name,(r=t==null?void 0:t.user)==null?void 0:r.last_name].filter(Boolean).join(" ");return(t==null?void 0:t.nome)||(t==null?void 0:t.name)||((n=t==null?void 0:t.usuario)==null?void 0:n.nome)||s||(t==null?void 0:t.username)||(t==null?void 0:t.email)||null},ky=t=>{var a;const s=r=>(r==null?void 0:r.nome)||(r==null?void 0:r.titulo)||(r==null?void 0:r.name)||(r==null?void 0:r.descricao)||(r==null?void 0:r.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const r=t.especialidades.map(n=>s(n)||(typeof n=="string"?n:null)).filter(Boolean);if(r.length)return r.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const r=s(t.especialidade);if(r)return r}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((a=t==null?void 0:t.user)==null?void 0:a.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():null};function JO(){var O,I,z;const[t,s]=x.useState([]),[a,r]=x.useState(!0),[n,o]=x.useState(""),[c,d]=x.useState(""),[m,f]=x.useState("todas"),[p,h]=x.useState(!1),[g,j]=x.useState(null),b=B=>{j(B),h(!0)};x.useEffect(()=>{let B=!0;return(async()=>{var $;try{console.log("[DEBUG] Consultas - Iniciando carregamento...");const M=await Rt.getConsultas();if(console.log("[DEBUG] Consultas - Resposta da API:",M),!B)return;let G=[];M.results?G=M.results:($=M.data)!=null&&$.results?G=M.data.results:M.data&&Array.isArray(M.data)?G=M.data:Array.isArray(M)&&(G=M);let T=G.map(L=>{var te,A,W;const H=L.data||L.date||L.dia||L.data_consulta||L.data_hora||L.horario||L.data_hora_inicio||L.agendamento||L.data_agendamento||L.inicio||L.start||null,Q={id:L.id,data:H,local:L.local||L.endereco||((te=L.clinica)==null?void 0:te.endereco)||((A=L.medico)==null?void 0:A.local_atendimento)||"Local não informado",tipo:L.tipo||L.tipo_consulta||"Presencial",status:L.status||"Agendada",medico:null};if(L.medico)if(typeof L.medico=="object"){const re=Cy(L.medico),K=ky(L.medico)||L.especialidade||L.specialty||"Especialidade não informada";Q.medico={id:L.medico.id||((W=L.medico.user)==null?void 0:W.id)||null,nome:re||"Médico não informado",especialidade:K}}else Q.medico={id:L.medico,nome:L.medico_nome||L.doctor_name||"Médico não informado",especialidade:L.especialidade||L.specialty||"Especialidade não informada"};else L.medico_nome||L.doctor_name?Q.medico={id:L.medico_id||null,nome:L.medico_nome||L.doctor_name,especialidade:L.especialidade||L.specialty||"Especialidade não informada"}:L.medico_id&&(Q.medico={id:L.medico_id,nome:"Médico não informado",especialidade:L.especialidade||L.specialty||"Especialidade não informada"});return Q});try{const L=Array.from(new Set(T.filter(H=>{var Q;return!((Q=H.medico)!=null&&Q.nome)||H.medico.nome==="Médico não informado"}).map(H=>{var Q;return(Q=H.medico)==null?void 0:Q.id}).filter(Boolean)));if(L.length){const H=await Promise.all(L.map(te=>Rt.getMedicoById(te).catch(()=>null))),Q={};H.forEach((te,A)=>{const W=L[A];te&&(Q[W]={id:te.id||W,nome:Cy(te)||te.nome||"Médico",especialidade:ky(te)||te.especialidade||"Especialidade não informada"})}),T=T.map(te=>{var W;const A=(W=te.medico)==null?void 0:W.id;return A&&Q[A]?{...te,medico:Q[A]}:te})}}catch{}s(T)}catch(M){if(!B)return;console.error("Erro ao carregar consultas:",M),o("Erro ao carregar consultas. Tente novamente.")}finally{B&&r(!1)}})(),()=>{B=!1}},[]);const y=t.filter(B=>{var $,M,G,T,L,H,Q;const Y=String(B.status||"").toLowerCase();if(m==="agendadas"&&!(Y.includes("agend")||Y.includes("confirm"))||m==="realizadas"&&!(Y.includes("conclu")||Y.includes("realiz")||Y.includes("final")))return!1;if(c){const te=c.toLowerCase();return((M=($=B.medico)==null?void 0:$.nome)==null?void 0:M.toLowerCase().includes(te))||((L=(T=(G=B.medico)==null?void 0:G.especialidade)==null?void 0:T.toLowerCase)==null?void 0:L.call(T).includes(te))||((H=B.local)==null?void 0:H.toLowerCase().includes(te))||((Q=B.tipo)==null?void 0:Q.toLowerCase().includes(te))}return!0}),w=new Date,C=y.filter(B=>{const Y=(B.status||"").toLowerCase(),$=Y.includes("agend")||Y.includes("confirm"),M=B.data?new Date(B.data)>w:!1;return $||M}).sort((B,Y)=>new Date(B.data)-new Date(Y.data)),S=y.filter(B=>{const Y=(B.status||"").toLowerCase(),$=Y.includes("conclu")||Y.includes("realiz")||Y.includes("final"),M=B.data?new Date(B.data)<w:!1;return $||M}).sort((B,Y)=>new Date(Y.data)-new Date(B.data)),k=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],P=t.length,R=t.filter(B=>B.data&&new Date(B.data).getFullYear()===new Date().getFullYear()).length,D=C.length,E=S.length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:e.jsx(ot,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),e.jsx("p",{className:"text-blue-100",children:"Gerencie suas consultas médicas"})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Z,{variant:"secondary",className:"bg-white/20 text-white border-white/30 hover:bg-white/30 backdrop-blur-sm dark:bg-gray-800/80 dark:hover:bg-gray-700/80 dark:border-gray-600/50 dark:text-gray-200",asChild:!0,children:e.jsxs("a",{href:"/paciente/medicos",className:"inline-flex items-center gap-2",children:[e.jsx(bt,{className:"h-4 w-4"}),"Médicos"]})}),e.jsx(Z,{className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold shadow-lg dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:e.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[e.jsx(p0,{className:"h-4 w-4"}),"Entrar em contato"]})})]})]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total de Consultas"}),e.jsx("p",{className:"text-3xl font-bold",children:P})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(ot,{className:"h-6 w-6"})})]})})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Próximas Consultas"}),e.jsx("p",{className:"text-3xl font-bold",children:D})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(pt,{className:"h-6 w-6"})})]})})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Consultas Concluídas"}),e.jsx("p",{className:"text-3xl font-bold",children:E})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(hr,{className:"h-6 w-6"})})]})})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Este Ano"}),e.jsx("p",{className:"text-3xl font-bold",children:R})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(va,{className:"h-6 w-6"})})]})})})]}),e.jsx(qr,{tabs:k,basePath:"/paciente"}),e.jsx(ne,{className:"border-0 shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qa,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ge,{placeholder:"Buscar por médico, especialidade ou local...",className:"pl-10 border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400",value:c,onChange:B=>d(B.target.value)})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(Ct,{value:m,onValueChange:f,children:[e.jsx(wt,{className:"w-[180px] border-0 bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:e.jsx(kt,{placeholder:"Filtrar por status"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"todas",children:"Todas as consultas"}),e.jsx(ye,{value:"agendadas",children:"Agendadas"}),e.jsx(ye,{value:"realizadas",children:"Realizadas"})]})]})})]})})}),e.jsxs(Wr,{defaultValue:"agendadas",className:"w-full",children:[e.jsxs(Yr,{className:"grid w-full grid-cols-2 bg-white dark:bg-gray-800 shadow-lg border-0",children:[e.jsx(Dt,{value:"agendadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Consultas Agendadas"}),e.jsx(Dt,{value:"realizadas",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:"Histórico de Consultas"})]}),e.jsx(Mt,{value:"agendadas",children:e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20",children:e.jsxs(he,{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[e.jsx(ot,{className:"h-5 w-5"}),"Próximas Consultas"]})}),e.jsx(ie,{className:"p-6",children:a?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((B,Y)=>e.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[e.jsx(gt,{className:"h-4 w-1/3"}),e.jsx(gt,{className:"h-4 w-1/2"}),e.jsx(gt,{className:"h-4 w-1/4"})]},Y))}):n?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:e.jsx(ot,{className:"h-8 w-8 text-red-500"})}),e.jsx("p",{className:"text-red-500 font-medium",children:n})]}):C.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full bg-blue-100 dark:bg-blue-900/20 p-4 w-fit mx-auto mb-4",children:e.jsx(ot,{className:"h-12 w-12 text-blue-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Nenhuma consulta agendada"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Você não possui consultas agendadas no momento."}),e.jsx(Z,{className:"btn-medical-primary shadow-lg",asChild:!0,children:e.jsxs("a",{href:"/paciente/consultas/nova",className:"inline-flex items-center gap-2",children:[e.jsx(p0,{className:"h-4 w-4"}),"Entrar em contato"]})})]}):e.jsx("div",{className:"space-y-4",children:C.map(B=>{var Y,$,M;return e.jsx("div",{className:"group relative overflow-hidden rounded-xl border-0 bg-gradient-to-r from-white to-blue-50/50 dark:from-gray-800 dark:to-blue-900/10 p-6 shadow-lg transition-all hover:shadow-xl hover:scale-[1.02]",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("div",{className:"flex-1 space-y-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"rounded-full bg-gradient-to-r from-blue-500 to-purple-600 p-3 text-white shadow-lg",children:e.jsx(Ea,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:((Y=B.medico)==null?void 0:Y.nome)||"Médico não informado"}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:(($=B.medico)==null?void 0:$.especialidade)||"Especialidade não informada"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(pt,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[B.data?new Date(B.data).toLocaleDateString():"Data não informada"," às ",B.data?new Date(B.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(Qd,{className:"h-4 w-4"}),e.jsx("span",{children:B.local})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-xs font-medium text-white",children:[B.tipo==="Online"?e.jsx(Jf,{className:"h-3 w-3"}):B.tipo==="Telefone"?e.jsx(tn,{className:"h-3 w-3"}):e.jsx(bt,{className:"h-3 w-3"}),B.tipo]}),e.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:B.status||"—"})]})]})]})}),e.jsx("div",{className:"flex gap-3",children:e.jsx(Z,{size:"sm",className:"btn-medical-primary shadow-lg",asChild:!0,children:e.jsx("a",{href:`/paciente/consultas/nova${(M=B.medico)!=null&&M.id?`?medico=${B.medico.id}`:""}`,children:"Contato p/ agendar"})})})]})},B.id)})})})]})}),e.jsx(Mt,{value:"realizadas",children:e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-900/20 dark:to-slate-900/20",children:e.jsxs(he,{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(pt,{className:"h-5 w-5"}),"Histórico de Consultas"]})}),e.jsx(ie,{className:"p-6",children:a?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((B,Y)=>e.jsx(gt,{className:"h-12 w-full"},Y))}):n?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"rounded-full bg-red-100 dark:bg-red-900/20 p-3 w-fit mx-auto mb-4",children:e.jsx(pt,{className:"h-8 w-8 text-red-500"})}),e.jsx("p",{className:"text-red-500 font-medium",children:n})]}):S.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"rounded-full bg-gray-100 dark:bg-gray-800 p-4 w-fit mx-auto mb-4",children:e.jsx(pt,{className:"h-12 w-12 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Você não possui consultas realizadas no histórico."})]}):e.jsx("div",{className:"overflow-hidden rounded-xl border-0 bg-white dark:bg-gray-800 shadow-lg",children:e.jsxs($s,{children:[e.jsx(zs,{className:"bg-gray-50 dark:bg-gray-900/50",children:e.jsxs(ga,{className:"border-0",children:[e.jsx(vt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Data"}),e.jsx(vt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Médico"}),e.jsx(vt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Especialidade"}),e.jsx(vt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Tipo"}),e.jsx(vt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Status"}),e.jsx(vt,{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Ações"})]})}),e.jsx(Bs,{children:S.map(B=>{var Y,$;return e.jsxs(ga,{className:"border-0 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[e.jsx(ft,{className:"font-medium",children:B.data?new Date(B.data).toLocaleDateString():"—"}),e.jsx(ft,{children:((Y=B.medico)==null?void 0:Y.nome)||"—"}),e.jsx(ft,{children:(($=B.medico)==null?void 0:$.especialidade)||"—"}),e.jsx(ft,{children:e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-100 dark:bg-blue-900/30 px-2 py-1 text-xs font-medium text-blue-700 dark:text-blue-300",children:[B.tipo==="Online"?e.jsx(Jf,{className:"h-3 w-3"}):B.tipo==="Telefone"?e.jsx(tn,{className:"h-3 w-3"}):e.jsx(bt,{className:"h-3 w-3"}),B.tipo||"—"]})}),e.jsx(ft,{children:e.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-2 py-1 text-xs font-medium text-green-700 dark:text-green-300",children:B.status||"—"})}),e.jsx(ft,{children:e.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>b(B),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",children:"Ver Detalhes"})})]},B.id)})})]})})})]})})]}),e.jsx(Ii,{open:p,onOpenChange:h,children:e.jsxs(Jn,{className:"max-w-2xl border-0 shadow-2xl",children:[e.jsxs(Zn,{className:"pb-6",children:[e.jsx(ei,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Detalhes da Consulta"}),e.jsx(oc,{className:"text-gray-600 dark:text-gray-400",children:"Informações completas da consulta selecionada"})]}),g?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold text-lg shadow-lg",children:(((O=g.medico)==null?void 0:O.nome)||"—").split(" ").map(B=>B==null?void 0:B[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-gray-100",children:((I=g.medico)==null?void 0:I.nome)||"—"}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:((z=g.medico)==null?void 0:z.especialidade)||"Especialidade não informada"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Data"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:g.data?new Date(g.data).toLocaleDateString():"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hora"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:g.data?new Date(g.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tipo"}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 px-3 py-1 text-sm font-medium text-white",children:[g.tipo==="Online"?e.jsx(Jf,{className:"h-3 w-3"}):g.tipo==="Telefone"?e.jsx(tn,{className:"h-3 w-3"}):e.jsx(bt,{className:"h-3 w-3"}),g.tipo]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("span",{className:"rounded-full bg-green-100 dark:bg-green-900/30 px-3 py-1 text-sm font-medium text-green-700 dark:text-green-300",children:g.status})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Local"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-gray-100",children:[e.jsx(Qd,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:g.local})]})]})]}):null]})})]})})}function ZO(){const[t,s]=x.useState([]),[a,r]=x.useState(!0),[n,o]=x.useState(null),[c,d]=x.useState("todas"),[m,f]=x.useState(""),p=R=>{var D;return((D=R==null?void 0:R.tipo_exame)==null?void 0:D.nome)||(R==null?void 0:R.tipo_exame_nome)||(R==null?void 0:R.nome_exame)||(typeof(R==null?void 0:R.tipo_exame)=="string"?R.tipo_exame:null)||(R==null?void 0:R.nome)||(R==null?void 0:R.tipo)||(R==null?void 0:R.exame)||"Exame"},h=R=>{const D=R==null?void 0:R.user;return[D==null?void 0:D.first_name,D==null?void 0:D.last_name].filter(Boolean).join(" ").trim()||(D==null?void 0:D.nome)||(D==null?void 0:D.username)||(R==null?void 0:R.nome)||"—"},g=R=>{var O;const D=(R==null?void 0:R.resultado_url)||(R==null?void 0:R.arquivo_resultado)||((O=R==null?void 0:R.resultado)==null?void 0:O.arquivo)||(R==null?void 0:R.arquivo_url)||(R==null?void 0:R.documento_url);return D?/^https?:\/\//i.test(D)?D:`http://127.0.0.1:8000${D.startsWith("/")?"":"/"}${D}`:null};x.useEffect(()=>{let R=!0;return(async()=>{try{const D=await Rt.getExames();if(R){const O=(Array.isArray(D)?D:(D==null?void 0:D.results)||[]).map(I=>({id:I.id,data:I.data_agendamento||I.data_solicitacao||I.data||I.data_hora||null,nome:p(I),medico:{nome:h((I==null?void 0:I.medico_solicitante)||(I==null?void 0:I.medico))},status:I.status||I.situacao||"Pendente",local:I.local_realizacao||I.local||I.localizacao||I.unidade||"",resultado_url:g(I)}));s(O)}}catch{o("Não foi possível carregar os exames.")}finally{R&&r(!1)}})(),()=>{R=!1}},[]);const j=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],b=t.filter(R=>{var D;if(c==="agendados"){const E=R.data?new Date(R.data)>new Date:!1;if(!E&&(R.status||"").toLowerCase().includes("conclu")||!E&&(R.status||"").toLowerCase()==="realizado")return!1}if(c==="realizados"&&!((R.status||"").toLowerCase().includes("conclu")||(R.status||"").toLowerCase()==="realizado"||(R.data?new Date(R.data)<new Date:!1)))return!1;if(m){const E=m.toLowerCase();return(R.nome||"").toLowerCase().includes(E)||(((D=R.medico)==null?void 0:D.nome)||"").toLowerCase().includes(E)||(R.local||"").toLowerCase().includes(E)}return!0}),y=b.filter(R=>{const D=R.data?new Date(R.data)>new Date:!1,E=(R.status||"").toLowerCase();return D||E==="agendado"||E==="pendente"||E==="solicitado"}).sort((R,D)=>new Date(R.data||0)-new Date(D.data||0)),w=b.filter(R=>{const D=(R.status||"").toLowerCase();return(R.data?new Date(R.data)<new Date:!1)||D.includes("conclu")||D==="realizado"}).sort((R,D)=>new Date(D.data||0)-new Date(R.data||0)),C=t.length,S=y.length,k=w.length,P=t.filter(R=>R.data?new Date(R.data).getFullYear()===new Date().getFullYear():!1).length;return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-medical-primary/90 via-medical-primary to-medical-secondary p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:e.jsx(en,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Meus Exames"}),e.jsx("p",{className:"text-white/90",children:"Gerencie seus exames e resultados"})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(Z,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(bt,{className:"mr-2 h-4 w-4"}),"Médicos"]}),e.jsxs(Z,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(ot,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})]})]})}),e.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),e.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/80 to-medical-primary text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Total de Exames"}),e.jsx("p",{className:"text-3xl font-bold",children:C})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(va,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-status-attention/80 to-status-attention text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Próximos Exames"}),e.jsx("p",{className:"text-3xl font-bold",children:S})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(pt,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-secondary/80 to-medical-secondary text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Concluídos"}),e.jsx("p",{className:"text-3xl font-bold",children:k})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(_s,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-medical-primary/60 to-medical-primary/80 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Este Ano"}),e.jsx("p",{className:"text-3xl font-bold",children:P})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(Gl,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),e.jsx(qr,{tabs:j,basePath:"/paciente"}),e.jsx(ne,{className:"border-0 shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qa,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ge,{placeholder:"Buscar por exame, médico ou local...",value:m,onChange:R=>f(R.target.value),className:"pl-10"})]}),e.jsx("div",{className:"w-full md:w-[220px]",children:e.jsxs(Ct,{value:c,onValueChange:d,children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Filtrar por status"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"todas",children:"Todos os exames"}),e.jsx(ye,{value:"agendados",children:"Agendados"}),e.jsx(ye,{value:"realizados",children:"Realizados"})]})]})})]})})}),e.jsxs(Wr,{defaultValue:"agendados",className:"w-full",children:[e.jsxs(Yr,{className:"grid w-full grid-cols-2 h-12 bg-muted/50",children:[e.jsxs(Dt,{value:"agendados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx(pt,{className:"mr-2 h-4 w-4"}),"Exames Agendados"]}),e.jsxs(Dt,{value:"realizados",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx(_s,{className:"mr-2 h-4 w-4"}),"Histórico de Exames"]})]}),e.jsx(Mt,{value:"agendados",className:"mt-6",children:e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(he,{className:"flex items-center gap-2 text-xl",children:[e.jsx(pt,{className:"h-5 w-5 text-amber-500"}),"Próximos Exames"]})}),e.jsx(ie,{children:a?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((R,D)=>e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsx(gt,{className:"h-6 w-3/4 mb-2"}),e.jsx(gt,{className:"h-4 w-1/2 mb-2"}),e.jsx(gt,{className:"h-4 w-1/4"})]},D))}):n?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Vn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 font-medium",children:n})]}):y.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ot,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame agendado"}),e.jsx("p",{className:"text-muted-foreground",children:"Você não possui exames agendados no momento."})]}):e.jsx("div",{className:"space-y-4",children:y.map(R=>{var D;return e.jsx("div",{className:"group rounded-xl border border-border/50 bg-gradient-to-r from-background to-muted/20 p-6 transition-all hover:shadow-lg hover:border-border",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-foreground group-hover:text-primary transition-colors",children:R.nome}),e.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1",children:[e.jsx(bt,{className:"h-4 w-4"}),((D=R.medico)==null?void 0:D.nome)||"—"]})]}),e.jsx(Je,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:R.status})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsxs("span",{children:[R.data?new Date(R.data).toLocaleDateString():"—"," ",R.data?`às ${new Date(R.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]})]}),R.local&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hr,{className:"h-4 w-4"}),e.jsx("span",{children:R.local})]})]})]})})},R.id||`${R.data}-${R.nome}`)})})})]})}),e.jsx(Mt,{value:"realizados",className:"mt-6",children:e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(he,{className:"flex items-center gap-2 text-xl",children:[e.jsx(_s,{className:"h-5 w-5 text-emerald-500"}),"Histórico de Exames"]})}),e.jsx(ie,{children:a?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((R,D)=>e.jsx(gt,{className:"h-16 w-full"},D))}):n?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Vn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 font-medium",children:n})]}):w.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(va,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhum exame no histórico"}),e.jsx("p",{className:"text-muted-foreground",children:"Você não possui exames realizados no histórico."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs($s,{children:[e.jsx(zs,{children:e.jsxs(ga,{className:"border-border/50",children:[e.jsx(vt,{className:"font-semibold",children:"Data"}),e.jsx(vt,{className:"font-semibold",children:"Exame"}),e.jsx(vt,{className:"font-semibold",children:"Médico"}),e.jsx(vt,{className:"font-semibold",children:"Status"}),e.jsx(vt,{className:"font-semibold text-right",children:"Ações"})]})}),e.jsx(Bs,{children:b.map(R=>{var D;return e.jsxs(ga,{className:"border-border/50 hover:bg-muted/30 transition-colors",children:[e.jsx(ft,{className:"font-medium",children:R.data?new Date(R.data).toLocaleDateString():"—"}),e.jsx(ft,{children:e.jsx("div",{className:"font-medium",children:R.nome})}),e.jsx(ft,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),((D=R.medico)==null?void 0:D.nome)||"—"]})}),e.jsx(ft,{children:e.jsx(Je,{variant:(R.status||"").toLowerCase().includes("conclu")||(R.status||"").toLowerCase()==="realizado"?"default":"secondary",className:(R.status||"").toLowerCase().includes("conclu")||(R.status||"").toLowerCase()==="realizado"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:R.status||"—"})}),e.jsx(ft,{children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:R.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs(Z,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open(R.resultado_url,"_blank"),children:[e.jsx(_r,{className:"h-4 w-4 mr-1"}),"Ver"]}),e.jsxs(Z,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>void eI(R),children:[e.jsx(ns,{className:"h-4 w-4 mr-1"}),"Baixar"]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem resultado"}),e.jsxs(Z,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 cursor-not-allowed",children:[e.jsx(ns,{className:"h-4 w-4 mr-1"}),"Baixar"]})]})})})]},R.id)})})]})})})]})})]})]})}const eI=async t=>{var s;try{let a=t==null?void 0:t.resultado_url;if(!a)return;/^https?:\/\//i.test(a)||(a=`http://127.0.0.1:8000${a.startsWith("/")?"":"/"}${a}`);const r=await ce.get(a,{responseType:"blob",baseURL:""}),n=new Blob([r.data],{type:r.headers["content-type"]||"application/octet-stream"}),o=r.headers["content-disposition"]||"",c=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(o),d=decodeURIComponent((c==null?void 0:c[1])||(c==null?void 0:c[2])||`${t.nome||"resultado"}.pdf`),m=document.createElement("a");m.href=URL.createObjectURL(n),m.download=d,document.body.appendChild(m),m.click(),m.remove(),setTimeout(()=>URL.revokeObjectURL(m.href),2e3)}catch(a){console.warn("[Exames] download falhou:",(s=a==null?void 0:a.response)==null?void 0:s.status),alert("Não foi possível baixar o resultado. Tente novamente.")}};function tI(){const[t,s]=x.useState([]),[a,r]=x.useState(!0),[n,o]=x.useState(null),[c,d]=x.useState("todos"),[m,f]=x.useState("todos"),[p,h]=x.useState(""),g=k=>{var P;return((P=k==null?void 0:k.tipo_exame)==null?void 0:P.nome)||(k==null?void 0:k.tipo_exame_nome)||(k==null?void 0:k.nome_exame)||(typeof(k==null?void 0:k.tipo_exame)=="string"?k.tipo_exame:null)||(k==null?void 0:k.nome)||(k==null?void 0:k.tipo)||(k==null?void 0:k.exame)||"Exame"},j=k=>{const P=k==null?void 0:k.user;return[P==null?void 0:P.first_name,P==null?void 0:P.last_name].filter(Boolean).join(" ").trim()||(P==null?void 0:P.nome)||(P==null?void 0:P.username)||(k==null?void 0:k.nome)||"—"},b=k=>{var D;const P=(k==null?void 0:k.resultado_url)||(k==null?void 0:k.arquivo_resultado)||((D=k==null?void 0:k.resultado)==null?void 0:D.arquivo)||(k==null?void 0:k.arquivo_url)||(k==null?void 0:k.documento_url);return P?/^https?:\/\//i.test(P)?P:`http://127.0.0.1:8000${P.startsWith("/")?"":"/"}${P}`:null},y=k=>{if(!k)return"sem-data";const P=new Date(k);return Number.isNaN(P.getTime())?"sem-data":P.toISOString().slice(0,10)},w=k=>{try{return new Date(k).toLocaleString()}catch{return k||"—"}};x.useEffect(()=>{let k=!0;return(async()=>{var P,R,D;try{const[E,O,I]=await Promise.allSettled([Rt.getConsultas(),Rt.getExames(),Rt.getReceitas()]),z=E.status==="fulfilled"?(Array.isArray(E.value)?E.value:(P=E.value)==null?void 0:P.results)||[]:[],B=O.status==="fulfilled"?(Array.isArray(O.value)?O.value:(R=O.value)==null?void 0:R.results)||[]:[],Y=I.status==="fulfilled"?(Array.isArray(I.value)?I.value:(D=I.value)==null?void 0:D.results)||[]:[],$=B.map(L=>({id:L.id||Math.random(),tipo:"exame",data:L.data_agendamento||L.data_solicitacao||L.data||L.data_hora||null,titulo:`Exame - ${g(L)}`.trim(),detalhe:j((L==null?void 0:L.medico_solicitante)||(L==null?void 0:L.medico)),status:L.status||L.situacao||"pendente",resultado_url:b(L),nome:g(L)})),M=z.map(L=>{var H,Q;return{id:L.id||Math.random(),tipo:"consulta",data:L.data_hora||L.data||null,titulo:`Consulta - ${L.especialidade||((H=L.medico)==null?void 0:H.especialidade)||""}`.trim(),detalhe:((Q=L.medico)==null?void 0:Q.nome)||j(L==null?void 0:L.medico)||"",status:L.status||"pendente"}}),G=Y.map(L=>{var te;const H=L.medico||((te=L.consulta)==null?void 0:te.medico),Q=Array.isArray(L.itens)&&L.itens.length?L.itens.map(A=>{var W;return((W=A==null?void 0:A.medicamento)==null?void 0:W.nome)||(A==null?void 0:A.medicamento)||""}).filter(Boolean).join(", "):L.medicamentos||"Prescrição";return{id:L.id||Math.random(),tipo:"receita",data:L.created_at||L.data||L.emissao||L.data_emissao||null,titulo:`Receita - ${Q}`.trim(),detalhe:j(H),status:L.status||(L.arquivo_assinado?"assinada":"emitida"),resultado_url:L.arquivo_assinado||null,nome:"Receita"}}),T=[...M,...$,...G].filter(L=>L.data).sort((L,H)=>new Date(H.data||0)-new Date(L.data||0));k&&s(T)}catch{o("Não foi possível carregar o histórico.")}finally{k&&r(!1)}})(),()=>{k=!1}},[]);const C=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],S=x.useMemo(()=>{let k=t;if(c!=="todos"){const D={consultas:"consulta",exames:"exame",receitas:"receita"};k=k.filter(E=>E.tipo===(D[c]||c))}if(m!=="todos"&&(k=k.filter(D=>(D.status||"").toLowerCase()===m.toLowerCase())),p.trim()){const D=p.toLowerCase();k=k.filter(E=>{var O,I;return((O=E.titulo)==null?void 0:O.toLowerCase().includes(D))||((I=E.detalhe)==null?void 0:I.toLowerCase().includes(D))||(E.status||"").toLowerCase().includes(D)})}const P={};for(const D of k){const E=y(D.data);P[E]||(P[E]=[]),P[E].push(D)}const R=Object.keys(P).sort((D,E)=>D<E?1:-1);return{groups:P,orderedKeys:R}},[t,c,m,p]);return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mb,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Histórico Médico"})]}),e.jsx(qr,{tabs:C,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx("div",{className:"flex-1 relative",children:e.jsx(ge,{placeholder:"Buscar por título, médico, status...",value:p,onChange:k=>h(k.target.value),className:"w-full"})}),e.jsxs(Ct,{value:c,onValueChange:d,children:[e.jsx(wt,{className:"w-[180px]",children:e.jsx(kt,{placeholder:"Tipo"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"consultas",children:"Consultas"}),e.jsx(ye,{value:"exames",children:"Exames"}),e.jsx(ye,{value:"receitas",children:"Receitas"})]})]}),e.jsxs(Ct,{value:m,onValueChange:f,children:[e.jsx(wt,{className:"w-[180px]",children:e.jsx(kt,{placeholder:"Status"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"solicitado",children:"Solicitado"}),e.jsx(ye,{value:"agendado",children:"Agendado"}),e.jsx(ye,{value:"realizado",children:"Realizado"}),e.jsx(ye,{value:"cancelado",children:"Cancelado"}),e.jsx(ye,{value:"pendente",children:"Pendente"})]})]})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Linha do Tempo"})}),e.jsx(ie,{children:a?e.jsx("div",{className:"space-y-3",children:[...Array(6)].map((k,P)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(gt,{className:"h-4 w-4 rounded-full"}),e.jsx(gt,{className:"h-6 w-2/3"})]},P))}):n?e.jsx("p",{className:"text-sm text-red-500",children:n}):S.orderedKeys.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento encontrado."}):e.jsx("div",{className:"space-y-8",children:S.orderedKeys.map(k=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsx("span",{children:k==="sem-data"?"Sem data":new Date(k).toLocaleDateString()})]}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute left-1 top-0 bottom-0 w-px bg-border"}),e.jsx("ul",{className:"space-y-4",children:S.groups[k].map(P=>e.jsxs("li",{className:"relative",children:[e.jsx("span",{className:`absolute -left-[7px] top-1 inline-flex items-center justify-center h-4 w-4 rounded-full ${P.tipo==="consulta"?"bg-primary":P.tipo==="exame"?"bg-emerald-500":"bg-indigo-500"}`,title:P.tipo==="consulta"?"Consulta":P.tipo==="exame"?"Exame":"Receita"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 text-muted-foreground",children:P.tipo==="consulta"?e.jsx(bt,{className:"h-4 w-4"}):P.tipo==="exame"?e.jsx(EE,{className:"h-4 w-4 text-emerald-400"}):e.jsx(Tl,{className:"h-4 w-4 text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:P.titulo}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.detalhe||"—"," ",P.status?`• ${P.status}`:""]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:w(P.data)})]})]}),P.tipo==="exame"&&e.jsx("div",{className:"flex items-center gap-2",children:P.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:P.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[e.jsx(_r,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(Z,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void _y(P),title:"Baixar arquivo",children:[e.jsx(ns,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),e.jsxs(Z,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda não disponível",children:[e.jsx(ns,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]})}),P.tipo==="receita"&&e.jsx("div",{className:"flex items-center gap-2",children:P.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:P.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",title:"Abrir receita em nova aba",children:[e.jsx(_r,{className:"h-4 w-4"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(Z,{variant:"outline",className:"inline-flex items-center gap-2 rounded-lg border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",onClick:()=>void _y(P),title:"Baixar PDF",children:[e.jsx(ns,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem PDF assinado"})})]})]},P.id))})]})]},k))})})]})]})}const _y=async t=>{var s;try{let a=t==null?void 0:t.resultado_url;if(!a)return;if(/^(data|blob):/i.test(a)){const f=document.createElement("a");f.href=a,f.download=`${t.nome||"resultado"}.pdf`,document.body.appendChild(f),f.click(),f.remove();return}/^https?:\/\//i.test(a)||(a=`http://127.0.0.1:8000${a.startsWith("/")?"":"/"}${a}`);const r=await ce.get(a,{responseType:"blob",baseURL:""}),n=new Blob([r.data],{type:r.headers["content-type"]||"application/octet-stream"}),o=r.headers["content-disposition"]||"",c=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(o),d=decodeURIComponent((c==null?void 0:c[1])||(c==null?void 0:c[2])||`${t.nome||"resultado"}.pdf`),m=document.createElement("a");m.href=URL.createObjectURL(n),m.download=d,document.body.appendChild(m),m.click(),m.remove(),setTimeout(()=>URL.revokeObjectURL(m.href),2e3)}catch(a){console.warn("[Historico Medico] download falhou:",(s=a==null?void 0:a.response)==null?void 0:s.status),alert("Não foi possível baixar o resultado. Tente novamente.")}};function aI(){const[t,s]=x.useState([]),[a,r]=x.useState(!0),[n,o]=x.useState(null);x.useEffect(()=>{let d=!0;return(async()=>{try{const m=await Rt.getMedicos();d&&s(Array.isArray(m)?m:(m==null?void 0:m.results)||[])}catch{o("Não foi possível carregar os médicos vinculados.")}finally{d&&r(!1)}})(),()=>{d=!1}},[]);const c=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Médicos Vinculados"})]}),e.jsx(qr,{tabs:c,basePath:"/paciente"}),a?e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((d,m)=>e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(gt,{className:"h-5 w-48"})}),e.jsxs(ie,{className:"space-y-2",children:[e.jsx(gt,{className:"h-4 w-56"}),e.jsx(gt,{className:"h-4 w-32"})]})]},m))}):n?e.jsx("p",{className:"text-sm text-red-500",children:n}):t.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum médico vinculado."}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:t.map(d=>{var m,f;return e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Ea,{className:"h-5 w-5"}),rI(d)]})}),e.jsxs(ie,{className:"space-y-2 text-sm",children:[e.jsx("div",{className:"text-muted-foreground",children:sI(d)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["CRM: ",Py(d)||"—"]})]}),Ey(d)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:Ey(d)})]}),Dy(d)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:Dy(d)})]})]})]},d.id||Py(d)||((m=d.user)==null?void 0:m.id)||((f=d.user)==null?void 0:f.email))})})]})}const rI=t=>{const s=(t==null?void 0:t.user)||{};return[s.first_name,s.last_name].filter(Boolean).join(" ").trim()||s.nome||s.name||s.username||(t==null?void 0:t.nome)||(t==null?void 0:t.name)||(t==null?void 0:t.full_name)||"Médico"},sI=t=>{var a;const s=r=>(r==null?void 0:r.nome)||(r==null?void 0:r.titulo)||(r==null?void 0:r.name)||(r==null?void 0:r.descricao)||(r==null?void 0:r.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const r=t.especialidades.map(n=>s(n)||(typeof n=="string"?n:null)).filter(Boolean);if(r.length)return r.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const r=s(t.especialidade);if(r)return r}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((a=t==null?void 0:t.user)==null?void 0:a.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():"Especialidade não informada"},Ey=t=>{var s;return(t==null?void 0:t.telefone)||(t==null?void 0:t.phone)||(t==null?void 0:t.celular)||((s=t==null?void 0:t.user)==null?void 0:s.phone)||null},Dy=t=>{var s;return(t==null?void 0:t.email)||((s=t==null?void 0:t.user)==null?void 0:s.email)||null},Py=t=>(t==null?void 0:t.crm)||(t==null?void 0:t.crm_numero)||(t==null?void 0:t.crmNumber)||(t==null?void 0:t.crm_registro)||null,nI="modulepreload",iI=function(t){return"/"+t},Ry={},yo=function(s,a,r){let n=Promise.resolve();if(a&&a.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));n=c(a.map(f=>{if(f=iI(f),f in Ry)return;Ry[f]=!0;const p=f.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":nI,p||(g.as="script"),g.crossOrigin="",g.href=f,m&&g.setAttribute("nonce",m),document.head.appendChild(g),p)return new Promise((j,b)=>{g.addEventListener("load",j),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return n.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return s().catch(o)})};function oI(){const{toast:t}=ta(),[s,a]=x.useState(!0),[r,n]=x.useState(""),[o,c]=x.useState([]),[d,m]=x.useState([]),[f,p]=x.useState(!1),[h,g]=x.useState({medico:"",mensagem:"",receita:null,renovacao:!1}),[j,b]=x.useState(!1),[y,w]=x.useState(""),C=x.useMemo(()=>Array.isArray(d)?d.filter($=>$&&String($.id??"").trim()!==""):[],[d]),S=$=>{const M=$==null?void 0:$.user;return[M==null?void 0:M.first_name,M==null?void 0:M.last_name].filter(Boolean).join(" ").trim()||(M==null?void 0:M.nome)||(M==null?void 0:M.username)||($==null?void 0:$.nome)||($==null?void 0:$.name)||($==null?void 0:$.full_name)||($==null?void 0:$.medico_nome)||($==null?void 0:$.doctor_name)||"Médico"},k=x.useMemo(()=>Array.isArray(o)?o.length>0:Array.isArray(o==null?void 0:o.results)?o.results.length>0:!1,[o]),P=x.useMemo(()=>[...Array.isArray(o)?o:Array.isArray(o==null?void 0:o.results)?o.results:[]].sort((M,G)=>new Date(G.created_at||0)-new Date(M.created_at||0)),[o]),R=x.useMemo(()=>{if(!y)return P;const $=y.toLowerCase();return P.filter(M=>{var L;const G=S(M.medico)||S((L=M.consulta)==null?void 0:L.medico)||"",T=M.medicamentos||"";return G.toLowerCase().includes($)||T.toLowerCase().includes($)})},[P,y]);x.useEffect(()=>{let $=!0;async function M(){a(!0),n("");try{const[G,T]=await Promise.all([Rt.getReceitas(),Rt.getMedicosVinculados()]);if(!$)return;if(c(G),m(T),Array.isArray(T)&&T.length===0)try{const L=await Rt.getMedicos({limit:50}),H=Array.isArray(L)?L:(L==null?void 0:L.results)||[];$&&H.length>0&&m(H)}catch{}}catch{if(!$)return;n("Falha ao carregar receitas.")}finally{$&&a(!1)}}return M(),()=>{$=!1}},[]);const D=async $=>{var M,G;if($.preventDefault(),!h.medico){t({title:"Selecione um médico",description:"Escolha o médico para enviar a solicitação."});return}b(!0);try{h.renovacao?(await Rt.solicitarRenovacao({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),t({title:"Renovação enviada",description:"Seu pedido de renovação foi enviado ao médico."})):(await Rt.solicitarReceita({medico:h.medico,mensagem:h.mensagem,receita:h.receita}),t({title:"Solicitação enviada",description:"Seu pedido de receita foi enviado ao médico."})),p(!1),g({medico:"",mensagem:"",receita:null,renovacao:!1})}catch(T){t({title:"Erro ao solicitar",description:((G=(M=T==null?void 0:T.response)==null?void 0:M.data)==null?void 0:G.detail)||"Não foi possível enviar a solicitação.",variant:"destructive"})}finally{b(!1)}},E=async($,M)=>{var G;try{if(!$)return;const T=(re,K)=>{const J=document.createElement("a"),V=URL.createObjectURL(re);J.href=V,J.download=decodeURIComponent(K),document.body.appendChild(J),J.click(),J.remove(),setTimeout(()=>URL.revokeObjectURL(V),2e3)},L=(re,K="Receita_Medica.pdf")=>{let J=re||K;return/\.[a-z0-9]+$/i.test(J)||(J+=".pdf"),J};if(/^data:/i.test($))try{const re=$.split(","),K=re[0]||"",J=re.slice(1).join(","),V=(K.match(/data:([^;]+)/i)||[])[1]||"application/pdf",U=atob(J),X=U.length,le=new Uint8Array(X);for(let Ee=0;Ee<X;Ee++)le[Ee]=U.charCodeAt(Ee);const ve=new Blob([le],{type:V}),Se=`Receita_${(M==null?void 0:M.id)||"documento"}`,Re=L(Se);T(ve,Re);return}catch(re){console.error("[Receitas] Falha ao processar data URL:",re),t({title:"Falha no download",description:"Arquivo inválido ou corrompido.",variant:"destructive"});return}if(/^blob:/i.test($))try{const K=await(await fetch($)).blob(),J=`Receita_${(M==null?void 0:M.id)||"documento"}`,V=L(J);T(K,V);return}catch(re){console.error("[Receitas] Blob URL indisponível (provavelmente de outra aba/sessão):",re),t({title:"Arquivo indisponível",description:"Essa receita foi gerada em outra aba/sessão. Gere novamente para baixar.",variant:"destructive"});return}/^https?:\/\//i.test($)||($=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${$.startsWith("/")?"":"/"}${$}`);const H=await ce.get($,{responseType:"blob",baseURL:""}),Q=new Blob([H.data],{type:H.headers["content-type"]||"application/pdf"}),te=H.headers["content-disposition"]||"",A=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(te);let W=(A==null?void 0:A[1])||(A==null?void 0:A[2]);if(!W)try{const re=new URL($);W=decodeURIComponent(re.pathname.split("/").pop()||"")}catch{W=""}W||(W=`Receita_${(M==null?void 0:M.id)||"documento"}.pdf`),W=L(W),T(Q,W)}catch(T){console.error("[Receitas] Falha ao baixar PDF assinado:",((G=T==null?void 0:T.response)==null?void 0:G.status)||T),t({title:"Falha no download",description:"Não foi possível baixar o arquivo. Tente novamente.",variant:"destructive"})}},O=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],I=P.length,z=P.filter($=>$.arquivo_assinado).length,B=P.filter($=>$.created_at?new Date($.created_at).getFullYear()===new Date().getFullYear():!1).length,Y=P.filter($=>{if(!$.created_at)return!1;const M=new Date($.created_at),G=new Date;return G.setDate(G.getDate()-30),M>=G}).length;return s?e.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(gt,{className:"h-32 w-full rounded-2xl"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map(($,M)=>e.jsx(gt,{className:"h-32 w-full rounded-xl"},M))}),e.jsx(gt,{className:"h-16 w-full"}),e.jsx("div",{className:"space-y-4",children:[...Array(3)].map(($,M)=>e.jsx(gt,{className:"h-48 w-full rounded-xl"},M))})]})}):r?e.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Vn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-500 mb-2",children:"Erro ao carregar receitas"}),e.jsx("p",{className:"text-red-500",children:r})]})}):e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-8 p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-700 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-white/20 p-3 backdrop-blur-sm",children:e.jsx(Tl,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Minhas Receitas"}),e.jsx("p",{className:"text-emerald-100",children:"Gerencie suas receitas médicas"})]})]})}),e.jsx("div",{className:"flex flex-wrap gap-3",children:e.jsxs(Z,{variant:"secondary",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(bt,{className:"mr-2 h-4 w-4"}),"Médicos"]})})]})}),e.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),e.jsx("div",{className:"absolute -bottom-16 -left-16 h-32 w-32 rounded-full bg-white/10"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Total de Receitas"}),e.jsx("p",{className:"text-3xl font-bold",children:I})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(va,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Assinadas"}),e.jsx("p",{className:"text-3xl font-bold",children:z})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(_s,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"Últimos 30 dias"}),e.jsx("p",{className:"text-3xl font-bold",children:Y})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(pt,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})}),e.jsx(ne,{className:"relative overflow-hidden border-0 bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg",children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Este Ano"}),e.jsx("p",{className:"text-3xl font-bold",children:B})]}),e.jsx("div",{className:"rounded-full bg-white/20 p-3",children:e.jsx(Gl,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-16 w-16 rounded-full bg-white/10"})]})})]}),e.jsx(qr,{tabs:O,basePath:"/paciente"}),e.jsx(ne,{className:"border-0 shadow-lg",children:e.jsx(ie,{className:"p-6",children:e.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qa,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ge,{placeholder:"Buscar por médico ou medicamento...",value:y,onChange:$=>w($.target.value),className:"pl-10"})]})})})}),k?e.jsx("div",{className:"grid gap-6",children:R.map($=>{var L;const M=$.consulta,G=S($.medico)||S(M==null?void 0:M.medico)||$.medico_nome||$.medicoName||"Médico",T=((L=M==null?void 0:M.paciente)!=null&&L.user?`${M.paciente.user.first_name||""} ${M.paciente.user.last_name||""}`.trim():"Paciente")||"Paciente";return e.jsxs(ne,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-emerald-100 p-2 dark:bg-emerald-900",children:e.jsx(Tl,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-lg",children:"Receita Médica"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitida em ",new Date($.created_at).toLocaleDateString()," às ",new Date($.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Je,{variant:$.arquivo_assinado?"default":"secondary",className:$.arquivo_assinado?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-300":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:$.arquivo_assinado?"Assinada":"Não assinada"}),$.validade&&e.jsxs(Je,{variant:"outline",className:"text-xs",children:["Válida até ",$.validade]})]})]})}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(bt,{className:"h-4 w-4"}),"Médico"]}),e.jsx("p",{className:"font-medium",children:G})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(Ea,{className:"h-4 w-4"}),"Paciente"]}),e.jsx("p",{className:"font-medium",children:T})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Medicamentos"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:$.medicamentos})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Posologia"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:$.posologia})})]}),$.observacoes&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Observações"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:$.observacoes})})]}),Array.isArray($.itens)&&$.itens.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Itens estruturados"}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("ul",{className:"space-y-2",children:$.itens.map(H=>{var Q;return e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx("div",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:((Q=H.medicamento)==null?void 0:Q.nome)||"Medicamento"}),H.dose&&e.jsxs("span",{className:"text-muted-foreground",children:[" - ",H.dose]}),H.frequencia&&e.jsxs("span",{className:"text-muted-foreground",children:[" | ",H.frequencia]}),H.duracao&&e.jsxs("span",{className:"text-muted-foreground",children:[" | ",H.duracao]}),H.observacoes&&e.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:H.observacoes})]})]},H.id)})})})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[$.arquivo_assinado?e.jsxs(e.Fragment,{children:[e.jsxs(Z,{variant:"outline",size:"sm",className:"group border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 text-emerald-700 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-100",onClick:()=>window.open($.arquivo_assinado,"_blank"),children:[e.jsx(_r,{className:"h-4 w-4 mr-2"}),"Visualizar PDF"]}),e.jsxs(Z,{variant:"outline",size:"sm",className:"group border-blue-500/60 bg-gradient-to-b from-blue-500/10 to-blue-600/10 text-blue-700 hover:from-blue-500/20 hover:to-blue-600/20 hover:text-blue-800 dark:text-blue-300 dark:hover:text-blue-100",onClick:()=>E($.arquivo_assinado,$),children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),"Baixar PDF Assinado"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Z,{variant:"outline",size:"sm",className:"group border-amber-500/60 bg-gradient-to-b from-amber-500/10 to-amber-600/10 text-amber-700 hover:from-amber-500/20 hover:to-amber-600/20 hover:text-amber-800 dark:text-amber-300 dark:hover:text-amber-100",onClick:()=>lI($),children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),"Baixar PDF (Gerado)"]}),e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[e.jsx(Vn,{className:"h-3 w-3"}),"Receita não assinada digitalmente"]})]}),e.jsxs(Z,{variant:"secondary",size:"sm",onClick:()=>{var Q,te,A;const H=((Q=$==null?void 0:$.medico)==null?void 0:Q.id)||((A=(te=$==null?void 0:$.consulta)==null?void 0:te.medico)==null?void 0:A.id)||($==null?void 0:$.medico_id)||"";g({medico:String(H||""),mensagem:"",receita:($==null?void 0:$.id)||null,renovacao:!1}),p(!0)},children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Solicitar Receita"]}),e.jsxs(Z,{variant:"secondary",size:"sm",onClick:()=>{var te,A,W;const H=((te=$==null?void 0:$.medico)==null?void 0:te.id)||((W=(A=$==null?void 0:$.consulta)==null?void 0:A.medico)==null?void 0:W.id)||($==null?void 0:$.medico_id)||"",Q=`Solicito renovação da receita #${($==null?void 0:$.id)??""}`.trim();g({medico:String(H||""),mensagem:Q,receita:($==null?void 0:$.id)||null,renovacao:!0}),p(!0)},children:[e.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Pedir Renovação"]})]})]})]},$.id)})}):e.jsx(ne,{className:"border-0 shadow-lg",children:e.jsx(ie,{className:"p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tl,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Nenhuma receita encontrada"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Você ainda não possui receitas médicas."})]})})}),f?e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-card text-card-foreground border rounded-lg p-6 w-full max-w-lg shadow-lg",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:h.renovacao?"Pedir Renovação de Receita":"Solicitar Receita"}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"mb-1 block",children:"Médico"}),e.jsxs(Ct,{value:h.medico,onValueChange:$=>g(M=>({...M,medico:$})),children:[e.jsx(wt,{className:"w-full",children:e.jsx(kt,{placeholder:s?"Carregando...":C.length?"Selecione...":"Nenhum médico disponível"})}),e.jsx(Nt,{children:C.length===0?e.jsx(x1,{children:"Nenhum médico disponível"}):C.map($=>{const M=($!=null&&$.user?`${$.user.first_name||""} ${$.user.last_name||""}`.trim():$==null?void 0:$.nome)||"Médico";return e.jsxs(ye,{value:String($.id),children:[M," ",$.crm?`- CRM ${$.crm}`:""]},String($.id))})})]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"mb-1 block",children:"Mensagem (opcional)"}),e.jsx(Pt,{rows:3,placeholder:h.renovacao?"Explique sua necessidade de renovação (uso contínuo, desabastecimento, etc.)":"Descreva sua necessidade (ex: nova receita de medicamento)",value:h.mensagem,onChange:$=>g(M=>({...M,mensagem:$.target.value}))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(Z,{type:"button",variant:"outline",onClick:()=>{p(!1),g({medico:"",mensagem:"",receita:null,renovacao:!1})},children:"Cancelar"}),e.jsx(Z,{type:"submit",disabled:j,children:j?"Enviando...":h.renovacao?"Enviar pedido de renovação":"Enviar solicitação"})]})]})]})}):null]})}const lI=async t=>{try{const{PDFDocument:s,StandardFonts:a,rgb:r}=await yo(async()=>{const{PDFDocument:y,StandardFonts:w,rgb:C}=await import("./index-C8I5vYel.js");return{PDFDocument:y,StandardFonts:w,rgb:C}},[]),n=await s.create(),o=n.addPage([595.28,841.89]),c=await n.embedFont(a.Helvetica),d=(y,w,C,S=12,k=r(0,0,0))=>{o.drawText(String(y||""),{x:w,y:C,size:S,font:c,color:k})};let m=800;d("Receita Médica (pré-assinatura, não assinada)",50,m,16),m-=30;const f=(y,w)=>`${y}: ${w??""}`;d(f("Emitida em",(t==null?void 0:t.created_at)||(t==null?void 0:t.data_emissao)||""),50,m),m-=18,d(f("Médico",(t==null?void 0:t.medico_nome)||(t==null?void 0:t.medico)||(t==null?void 0:t.medico_id)||""),50,m),m-=18,d(f("Paciente",(t==null?void 0:t.paciente_nome)||(t==null?void 0:t.paciente)||(t==null?void 0:t.paciente_id)||""),50,m),m-=24,d("Medicamentos",50,m,14),m-=18,d(String((t==null?void 0:t.medicamentos)||(t==null?void 0:t.itens)||(t==null?void 0:t.descricao)||""),50,m),m-=36,d("Posologia",50,m,14),m-=18,d(String((t==null?void 0:t.posologia)||(t==null?void 0:t.orientacoes)||""),50,m),m-=36,t!=null&&t.observacoes&&(d("Observações",50,m,14),m-=18,d(String(t==null?void 0:t.observacoes),50,m),m-=36),Array.isArray(t==null?void 0:t.itens_estruturados)&&t.itens_estruturados.length&&(d("Itens estruturados",50,m,14),m-=18,t.itens_estruturados.forEach(y=>{const w=Object.values(y||{}).filter(Boolean).join(" · ");d(`• ${w}`,60,m),m-=16}),m-=10);const p=await n.save(),h=new Blob([p],{type:"application/pdf"}),g=`Receita_${(t==null?void 0:t.id)||"documento"}.pdf`,j=document.createElement("a"),b=URL.createObjectURL(h);j.href=b,j.download=g,document.body.appendChild(j),j.click(),j.remove(),setTimeout(()=>URL.revokeObjectURL(b),2e3)}catch(s){console.error("[Receitas] Falha ao gerar PDF local:",s),toast({title:"Falha ao gerar PDF",description:"Tente novamente.",variant:"destructive"})}};function X1(t,s=[]){const[a,r]=x.useState(null),[n,o]=x.useState(!0),[c,d]=x.useState(null);return x.useEffect(()=>{let f=!0;return(async()=>{var h,g;try{o(!0),d(null);const j=await t();f&&r(j)}catch(j){f&&d(((g=(h=j.response)==null?void 0:h.data)==null?void 0:g.message)||"Erro ao carregar dados")}finally{f&&o(!1)}})(),()=>{f=!1}},s),{data:a,loading:n,error:c,refetch:async()=>{var f,p;try{o(!0),d(null);const h=await t();r(h)}catch(h){d(((p=(f=h.response)==null?void 0:f.data)==null?void 0:p.message)||"Erro ao carregar dados")}finally{o(!1)}}}}const xt={async getPerfil(){var c,d,m,f,p,h;const t="/api/medicos/",s=t.endsWith("/")?t:`${t}/`,a="".toLowerCase()==="true",r="".toLowerCase()==="true";let n=St.getCurrentUser();if(!(n!=null&&n.id))try{const g=await St.refreshCurrentUser();g!=null&&g.id&&(n=g)}catch{}if(n!=null&&n.id){const g="user,user__id,user_id,usuario,usuario_id".split(",").map(j=>j.trim()).filter(Boolean);for(const j of g)try{const b=await ce.get(s,{params:{[j]:n.id}}),y=Array.isArray((c=b.data)==null?void 0:c.results)?b.data.results:b.data;if(Array.isArray(y)){const w=y.find(C=>{var S,k;return((S=C==null?void 0:C.user)==null?void 0:S.id)===n.id||((k=C==null?void 0:C.usuario)==null?void 0:k.id)===n.id||(C==null?void 0:C.user)===n.id||(C==null?void 0:C.usuario)===n.id});if(w)return w;continue}if(y&&typeof y=="object"){const w=y;if(((d=w==null?void 0:w.user)==null?void 0:d.id)===n.id||((m=w==null?void 0:w.usuario)==null?void 0:m.id)===n.id||(w==null?void 0:w.user)===n.id||(w==null?void 0:w.usuario)===n.id)return w;continue}}catch{}}if(a)try{return(await ce.get(`${s}me/`)).data}catch(g){if(((f=g==null?void 0:g.response)==null?void 0:f.status)!==404)throw g}let o=null;if(r){const g=[],j="/api/users/".trim();if(j)if(j.includes("/me"))g.push(j);else{const b=j.endsWith("/")?j:`${j}/`;g.push(`${b}me/`)}g.push("/users/me/"),g.push("/auth/user/");for(const b of g)try{if(o=(await ce.get(b)).data,o&&!o.id){const w=Array.isArray(o==null?void 0:o.results)?o.results[0]:Array.isArray(o)?o[0]:null;w!=null&&w.id&&(o=w)}if(o!=null&&o.id)break}catch{}}try{const g=await ce.get(s),j=Array.isArray((p=g.data)==null?void 0:p.results)?g.data.results:g.data;if(Array.isArray(j)&&j.length){const b=(o==null?void 0:o.id)||((h=St.getCurrentUser())==null?void 0:h.id);if(b){const y=j.find(w=>{var C,S;return((C=w==null?void 0:w.user)==null?void 0:C.id)===b||((S=w==null?void 0:w.usuario)==null?void 0:S.id)===b});if(y)return y}return null}}catch{}return null},async getPacientes(t={}){return(await ce.get("/api/pacientes/",{params:t})).data},async getPacientesVinculados(t){const s="/api/medicos/",a=s.endsWith("/")?s:`${s}/`;return(await ce.get(`${a}${t}/pacientes/`)).data},async getConsultas(t={}){return(await ce.get("/api/consultas/",{params:t})).data},async getConsultasDoMedico(t={}){var d,m,f,p;const s=await this.getPerfil();let a=null;if((d=s==null?void 0:s.medico)!=null&&d.id?a=s.medico.id:s&&typeof s=="object"&&"crm"in s&&(a=s.id),!a){const h=((m=s==null?void 0:s.user)==null?void 0:m.id)||(s==null?void 0:s.id);if(h)try{const g="/api/medicos/",j=g.endsWith("/")?g:`${g}/`,b="user,user__id,user_id,usuario,usuario_id".split(",").map(y=>y.trim()).filter(Boolean);for(const y of b)try{const w=await ce.get(j,{params:{[y]:h}}),C=Array.isArray((f=w.data)==null?void 0:f.results)?w.data.results:w.data;if((p=C==null?void 0:C[0])!=null&&p.id){a=C[0].id;break}}catch{}}catch{}}const r={...t};a&&!r.medico&&!r.medico_id&&(r.medico=a,r.medico_id=a);const n=r.date||r.data||r.dia;return n&&(r.date=n,r.data=n,r.dia=n,r.data__date=n),(await ce.get("/api/consultas/",{params:r})).data},async getConsultasHoje(t){var f,p,h,g;const s="/api/medicos/",a=s.endsWith("/")?s:`${s}/`;let r=t;if(!r){const j=await this.getPerfil();if((f=j==null?void 0:j.medico)!=null&&f.id?r=j.medico.id:j&&typeof j=="object"&&"crm"in j&&(r=j.id),!r){const b=((p=j==null?void 0:j.user)==null?void 0:p.id)||(j==null?void 0:j.id);if(b)try{const y="user,user__id,user_id,usuario,usuario_id".split(",").map(w=>w.trim()).filter(Boolean);for(const w of y)try{const C=await ce.get(a,{params:{[w]:b}}),S=Array.isArray((h=C.data)==null?void 0:h.results)?C.data.results:C.data;if((g=S==null?void 0:S[0])!=null&&g.id){r=S[0].id;break}}catch{}}catch{}}}const n="false".toLowerCase()==="true";if(r&&n)try{return(await ce.get(`${a}${r}/consultas_hoje/`)).data}catch{}const o=new Date,c=j=>String(j).padStart(2,"0"),d=`${o.getFullYear()}-${c(o.getMonth()+1)}-${c(o.getDate())}`;return await this.getConsultasDoMedico({date:d})},async getDashboard(){try{const t=new Date,s=c=>String(c).toString().padStart(2,"0"),a=`${t.getFullYear()}-${s(t.getMonth()+1)}-${s(t.getDate())}`,r=await this.getConsultasDoMedico({date:a}),n=Array.isArray(r)?r:Array.isArray(r==null?void 0:r.results)?r.results:[];return{proximas:Array.isArray(n)?n.map(c=>({id:c.id||c.consulta_id||c.uuid,paciente:c.paciente,data_hora:c.data_hora,status:c.status})):[]}}catch{return{proximas:[]}}},async iniciarConsulta(t){if(!t)throw new Error("consultaId é obrigatório");const s="/consultas/",a=[{method:"post",url:`${s}${t}/iniciar/`,data:void 0},{method:"post",url:`${s}${t}/start/`,data:void 0},{method:"patch",url:`${s}${t}/`,data:{status:"em_andamento"}},{method:"put",url:`${s}${t}/iniciar/`,data:void 0}];let r=null;for(const n of a)try{return(await ce[n.method](n.url,n.data)).data}catch(o){r=o}throw r||new Error("Não foi possível iniciar a consulta")},async finalizarConsulta(t){if(!t)throw new Error("consultaId é obrigatório");const a=`/consultas/${t}/finalizar/`;return(await ce.post(a)).data},async sumarizarConsulta(t,s={}){if(!t)throw new Error("consultaId é obrigatório");const a="/consultas/",r=[`${a}${t}/sumarizar/`,`${a}${t}/resumir/`,`${a}${t}/summary/`];let n=null;for(const o of r)try{const{data:c}=await ce.post(o,s);return c}catch(c){n=c}throw n||new Error("Endpoint de sumarização não disponível")},async criarProntuario(t){var m;const s="/api/prontuarios/".replace(/\/?$/,"/"),a={...t||{}},r={};for(const[f,p]of Object.entries(a))p!=null&&(typeof p=="string"&&p.trim()===""||(r[f]=typeof p=="string"?p.trim():p));const n=r.consulta_id||r.consulta;n&&(r.consulta_id=n,r.consulta=n);const o=[{method:"post",url:s},{method:"put",url:s},{method:"patch",url:s}],c=s.replace(/prontuarios\/?$/i,"prontuario/");c!==s&&(o.push({method:"post",url:c}),o.push({method:"put",url:c}),o.push({method:"patch",url:c}));let d=null;for(const f of o)try{const{data:p}=await ce[f.method](f.url,r);return p}catch(p){const h=(m=p==null?void 0:p.response)==null?void 0:m.status;if(h&&[400,422].includes(h)){const g={};n&&(g.consulta_id=n,g.consulta=n);const j=r.queixa_principal||r.queixa,b=r.historia_doenca_atual||r.historia,y=r.diagnostico_principal||r.diagnostico,w=r.conduta||r.plano,C=r.medicamentos_uso||r.medicamentos;j&&(g.queixa_principal=j),b&&(g.historia_doenca_atual=b),y&&(g.diagnostico_principal=y),w&&(g.conduta=w),C&&(g.medicamentos_uso=C),r.alergias&&(g.alergias=r.alergias),r.exames_solicitados&&(g.exames_solicitados=r.exames_solicitados),r.data_retorno&&(g.data_retorno=r.data_retorno);try{const{data:S}=await ce[f.method](f.url,g);return S}catch(S){d=S}}else if(h===405){d=p;continue}else if(h===404){d=p;continue}else{d=p;break}}throw d||new Error("Falha ao criar prontuário: nenhum endpoint compatível encontrado.")},async criarReceita(t={}){var w,C,S,k,P,R,D,E,O;const s="/receitas/".replace(/\/?$/,"/"),a="/api/pacientes/".replace(/\/?$/,"/"),r="/api/consultas/".replace(/\/?$/,"/"),n="true".toLowerCase()==="true",o={...t},c=o.paciente_id||o.paciente,d=o.consulta_id||o.consulta,m={...o};!m.paciente_id&&c&&(m.paciente_id=c),!m.paciente&&c&&(m.paciente=c),!m.consulta_id&&d&&(m.consulta_id=d),!m.consulta&&d&&(m.consulta=d),!m.medicamentos&&o.medicamento&&(m.medicamentos=o.medicamento),!m.medicamento&&o.medicamentos&&(m.medicamento=o.medicamentos),!m.validade&&o.validade_receita&&(m.validade=o.validade_receita);try{const I=m.medico_id||m.medico||await this._resolveMedicoId().catch(()=>null);I&&(m.medico_id||(m.medico_id=I),m.medico||(m.medico=I))}catch{}if(!m.consulta_id&&!m.consulta&&(m.paciente_id||m.paciente))try{const I=m.paciente_id||m.paciente,z=m.medico_id||m.medico||null,B=(()=>{const $=new Date,M=$.getFullYear(),G=String($.getMonth()+1).padStart(2,"0"),T=String($.getDate()).padStart(2,"0");return`${M}-${G}-${T}`})(),Y=await this._ensureConsultaId(I,z,B);if(Y&&(m.consulta_id=Y,m.consulta=Y,n))try{console.debug("[medicoService.criarReceita] consulta_id resolvido automaticamente:",Y)}catch{}}catch(I){if(n)try{console.warn("[medicoService.criarReceita] não foi possível resolver consulta_id automaticamente",(w=I==null?void 0:I.response)==null?void 0:w.status)}catch{}}const f=[],p="".trim();p&&f.push(p),f.push(s),f.push(`${s}criar/`),f.push(`${s}create/`);const h=s.replace(/receitas\/?$/i,"receita/"),g=Array.from(new Set([h,"/receita/","/meu_app_receita/"].filter(Boolean)));for(const I of g){const z=I.replace(/\/?$/,"/");f.push(z),f.push(`${z}criar/`),f.push(`${z}create/`)}if(d&&f.push(`${r}${d}/receitas/`),c&&f.push(`${a}${c}/receitas/`),n){try{console.debug("[medicoService.criarReceita] payload:",m)}catch{}try{console.debug("[medicoService.criarReceita] candidatos:",f)}catch{}}let j=null,b=null;const y=new Set;for(const I of f){if(!I)continue;const z=I.endsWith("/")?I:`${I}/`,B=["post","put","patch"];for(const Y of B){b=`${Y.toUpperCase()} ${z}`;try{if(n)try{console.debug("[medicoService.criarReceita] tentando:",b)}catch{}const{data:$}=await ce[Y](z,m);if(n)try{console.debug("[medicoService.criarReceita] sucesso:",b,"→",$)}catch{}return $}catch($){const M=(C=$==null?void 0:$.response)==null?void 0:C.status;if(n)try{console.warn("[medicoService.criarReceita] falhou:",b,"status=",M,"detail=",((S=$==null?void 0:$.response)==null?void 0:S.data)||($==null?void 0:$.message))}catch{}if(M&&[400,422].includes(M)){const G=`${Y}:${z}`;if(!y.has(G)){y.add(G);const T={},L=m.paciente_id||m.paciente,H=m.medico_id||m.medico,Q=m.medicamentos||m.medicamento,te=m.validade||m.validade_receita;if(L&&(T.paciente=L,T.paciente_id=L),H&&(T.medico=H,T.medico_id=H),Q&&(T.medicamentos=Q,T.medicamento=Q),m.posologia&&(T.posologia=m.posologia),te&&(T.validade=te),m.observacoes&&(T.observacoes=m.observacoes),m.consulta_id||m.consulta){const A=m.consulta_id||m.consulta;T.consulta=A,T.consulta_id=A}try{if(n)try{console.debug("[medicoService.criarReceita] retry minimal:",Y.toUpperCase(),z,T)}catch{}const{data:A}=await ce[Y](z,T);if(n)try{console.debug("[medicoService.criarReceita] sucesso (minimal):",Y.toUpperCase(),z,A)}catch{}return A}catch(A){if(n)try{console.warn("[medicoService.criarReceita] falhou (minimal):",Y.toUpperCase(),z,(k=A==null?void 0:A.response)==null?void 0:k.status,((P=A==null?void 0:A.response)==null?void 0:P.data)||(A==null?void 0:A.message))}catch{}try{const W=(R=A==null?void 0:A.response)==null?void 0:R.data,re=typeof W=="string"&&W||(W==null?void 0:W.detail)||(W==null?void 0:W.message)||(A==null?void 0:A.message)||"Erro desconhecido",K=W&&typeof W=="object"?` | body=${JSON.stringify(W)}`:typeof W=="string"?` | body=${W}`:"";A.message=`Falha ao criar receita (minimal, última tentativa: ${b||""}) ⇒ [${M||""}] ${re}${K}`}catch{}throw A}}try{const T=(D=$==null?void 0:$.response)==null?void 0:D.data,L=typeof T=="string"&&T||(T==null?void 0:T.detail)||(T==null?void 0:T.message)||($==null?void 0:$.message)||"Erro desconhecido",H=T&&typeof T=="object"?` | body=${JSON.stringify(T)}`:typeof T=="string"?` | body=${T}`:"";$.message=`Falha ao criar receita (última tentativa: ${b||""}) ⇒ [${M||""}] ${L}${H}`}catch{}}if(M===404){j=$;break}if(M===405){j=$;continue}if(M===401||M&&[400,422].includes(M))throw $;j=$;break}}}if(j){const I=(E=j==null?void 0:j.response)==null?void 0:E.status,z=(O=j==null?void 0:j.response)==null?void 0:O.data,B=typeof z=="string"&&z||(z==null?void 0:z.detail)||(z==null?void 0:z.message)||(j==null?void 0:j.message)||"Erro desconhecido",Y=z&&typeof z=="object"?` | body=${JSON.stringify(z)}`:"";throw new Error(`Falha ao criar receita (última tentativa: ${b||""}) ⇒ [${I||""}] ${B}${Y}`)}throw new Error("Falha ao criar receita: nenhum endpoint compatível encontrado.")},async gerarDocumentoReceita(t={}){var C,S,k;const s="true".toLowerCase()==="true",a="/receitas/".replace(/\/?$/,"/"),r="/api/consultas/".replace(/\/?$/,"/"),n="/api/medicos/",o=n.endsWith("/")?n:`${n}/`,c={...t},d=c.paciente_id||c.paciente,m=c.consulta_id||c.consulta,f=(c.formato||"pdf").toLowerCase(),p={...c};!p.paciente_id&&d&&(p.paciente_id=d),!p.paciente&&d&&(p.paciente=d),!p.consulta_id&&m&&(p.consulta_id=m),!p.consulta&&m&&(p.consulta=m),!p.medicamentos&&c.medicamento&&(p.medicamentos=c.medicamento),!p.medicamento&&c.medicamentos&&(p.medicamento=c.medicamentos),!p.validade&&c.validade_receita&&(p.validade=c.validade_receita),p.formato=f;try{const P=p.medico_id||p.medico||await this._resolveMedicoId().catch(()=>null);P&&(p.medico_id||(p.medico_id=P),p.medico||(p.medico=P))}catch{}const h=[],g="".trim();g&&h.push(g);const j=P=>{const R=P.replace(/\/?$/,"/");h.push(`${R}gerar/`),h.push(`${R}generate/`),h.push(`${R}documento/`),h.push(`${R}pdf/`),h.push(`${R}preview/`)};j(a),[a.replace(/receitas\/?$/i,"receita/"),"/receita/","/meu_app_receita/"].forEach(P=>P&&j(P)),m&&h.push(`${r}${m}/gerar_receita/`);try{const P=await this._resolveMedicoId().catch(()=>null);P&&(h.push(`${o}${P}/gerar_receita/`),h.push(`${o}${P}/receitas/gerar/`)),h.push(`${o}me/gerar_receita/`)}catch{}if(s)try{console.debug("[medicoService.gerarDocumentoReceita] candidatos:",h)}catch{}const y=async P=>{var I,z,B,Y,$,M,G;const R=((I=P.headers)==null?void 0:I["content-type"])||((B=(z=P.headers)==null?void 0:z.get)==null?void 0:B.call(z,"content-type"))||"",D=((Y=P.headers)==null?void 0:Y["content-disposition"])||((M=($=P.headers)==null?void 0:$.get)==null?void 0:M.call($,"content-disposition"));let E=`receita.${f}`;if(D){const T=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(D);E=decodeURIComponent((T==null?void 0:T[1])||(T==null?void 0:T[2])||E)}if(R.includes("application/json"))try{const T=await new Response(P.data).text(),L=JSON.parse(T),H=L.file||L.url||L.pdf||L.documento||L.download_url||L.link;if(H){const Q=await ce.get(H,{responseType:"blob"}),te=new Blob([Q.data],{type:((G=Q.headers)==null?void 0:G["content-type"])||(f==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.wordprocessingml.document")});return{filename:E||H.split("/").pop()||`receita.${f}`,blob:te}}}catch{}const O=new Blob([P.data],{type:R||(f==="pdf"?"application/pdf":"application/octet-stream")});return{filename:E,blob:O}};let w=null;for(const P of h){if(!P)continue;const R=P.endsWith("/")?P:`${P}/`;try{if(s)try{console.debug("[gerarDocumentoReceita] POST",R)}catch{}const D=await ce.post(R,p,{responseType:"blob"});return await y(D)}catch(D){if(((C=D==null?void 0:D.response)==null?void 0:C.status)===401)throw D;w=D}try{if(s)try{console.debug("[gerarDocumentoReceita] PUT",R)}catch{}const D=await ce.put(R,p,{responseType:"blob"});return await y(D)}catch(D){if(((S=D==null?void 0:D.response)==null?void 0:S.status)===401)throw D;w=D}try{if(s)try{console.debug("[gerarDocumentoReceita] GET",R)}catch{}const D=await ce.get(R,{params:p,responseType:"blob"});return await y(D)}catch(D){if(((k=D==null?void 0:D.response)==null?void 0:k.status)===401)throw D;w=D}}try{const{PDFDocument:P,StandardFonts:R,rgb:D}=await yo(async()=>{const{PDFDocument:G,StandardFonts:T,rgb:L}=await import("./index-C8I5vYel.js");return{PDFDocument:G,StandardFonts:T,rgb:L}},[]),E=await P.create(),O=E.addPage([595.28,841.89]),I=await E.embedFont(R.Helvetica),z=(G,T,L,H=12,Q=D(0,0,0))=>{O.drawText(String(G||""),{x:T,y:L,size:H,font:I,color:Q})};let B=800;z("Receita Médica (pré-assinatura, não assinada)",50,B,16),B-=30,z(`Paciente: ${p.nome_paciente||p.paciente_nome||p.paciente_id||""}`,50,B),B-=18,z(`Idade: ${p.idade||""}`,50,B),B-=18,z(`RG/CPF: ${p.rg||p.cpf||""}`,50,B),B-=18,z(`Nascimento: ${p.data_nascimento||""}`,50,B),B-=24,z("Medicamentos",50,B,14),B-=18,z(String(p.medicamentos||p.medicamento||""),50,B),B-=36,z("Posologia",50,B,14),B-=18,z(String(p.posologia||""),50,B),B-=36,p.observacoes&&(z("Observações",50,B,14),B-=18,z(String(p.observacoes),50,B),B-=36),z(`Médico: ${p.medico||""}`,50,B),B-=18,z(`CRM: ${p.crm||""}`,50,B),B-=18,z(`Endereço: ${p.endereco_consultorio||""}`,50,B),B-=18,z(`Telefone: ${p.telefone_consultorio||""}`,50,B),B-=24;const Y=await E.save(),$=new Blob([Y],{type:"application/pdf"});return{filename:`receita.${f}`,blob:$}}catch{throw w||new Error("Falha ao gerar documento de receita: nenhum endpoint compatível e fallback local indisponível.")}},async buscarPacientes(t){return(await ce.get("/api/pacientes/",{params:{search:t}})).data},async atualizarPacienteById(t,s){if(!t)throw new Error("id do paciente é obrigatório");const a="/api/pacientes/",r=a.endsWith("/")?a:`${a}/`;return(await ce.patch(`${r}${t}/`,s)).data},async _resolveMedicoId(){var t,s,a,r,n,o;try{const c=await this.getPerfil();if((t=c==null?void 0:c.medico)!=null&&t.id)return c.medico.id;if(c!=null&&c.id&&(c.crm||c.matricula||c.especialidade))return c.id;const d=((s=c==null?void 0:c.user)==null?void 0:s.id)||((a=St.getCurrentUser())==null?void 0:a.id);if(!d)return null;const m="/api/medicos/",f=m.endsWith("/")?m:`${m}/`,p="user,user__id,user_id,usuario,usuario_id".split(",").map(h=>h.trim()).filter(Boolean);for(const h of p)try{const g=await ce.get(f,{params:{[h]:d}}),j=Array.isArray((r=g.data)==null?void 0:r.results)?g.data.results:g.data;if(Array.isArray(j)){const b=j.find(y=>{var w,C;return((w=y==null?void 0:y.user)==null?void 0:w.id)===d||((C=y==null?void 0:y.usuario)==null?void 0:C.id)===d||(y==null?void 0:y.user)===d||(y==null?void 0:y.usuario)===d});if(b!=null&&b.id)return b.id;continue}if(j&&typeof j=="object"){const b=j;if((((n=b==null?void 0:b.user)==null?void 0:n.id)===d||((o=b==null?void 0:b.usuario)==null?void 0:o.id)===d||(b==null?void 0:b.user)===d||(b==null?void 0:b.usuario)===d)&&(b!=null&&b.id))return b.id;continue}}catch{}}catch{}return null},async _ensureConsultaId(t,s=null,a=null){var r,n,o,c;try{if(!t)return null;const d="true".toLowerCase()==="true",m=(()=>{if(a&&/^\d{4}-\d{2}-\d{2}$/.test(String(a)))return a;const p=new Date,h=g=>String(g).padStart(2,"0");return`${p.getFullYear()}-${h(p.getMonth()+1)}-${h(p.getDate())}`})(),f="/api/consultas/".replace(/\/?$/,"/");try{const p={paciente:t,paciente_id:t,date:m,data:m,dia:m,data__date:m},h=s||await this._resolveMedicoId().catch(()=>null);h&&(p.medico=h,p.medico_id=h);const g=await ce.get(f,{params:p}),j=Array.isArray((r=g.data)==null?void 0:r.results)?g.data.results:g.data;if(Array.isArray(j)){const b=j.find(y=>(y==null?void 0:y.id)||(y==null?void 0:y.consulta_id)||(y==null?void 0:y.uuid));if(b){const y=b.id||b.consulta_id||b.uuid;if(d)try{console.debug("[_ensureConsultaId] encontrada consulta existente:",y)}catch{}return y}}}catch(p){if(d)try{console.warn("[_ensureConsultaId] falha ao buscar consulta existente:",(n=p==null?void 0:p.response)==null?void 0:n.status)}catch{}}try{const p=s||await this._resolveMedicoId().catch(()=>null);if(!p){if(d)try{console.warn("[_ensureConsultaId] médico não resolvido; abortando criação da consulta")}catch{}return null}const h={medico:p,medico_id:p,paciente:t,paciente_id:t,data_hora:`${m}T00:00:00`,tipo:"rotina",motivo:"Emissão de receita automática"},g=[f];for(const j of g){const b=j.endsWith("/")?j:`${j}/`;try{if(d)try{console.debug("[_ensureConsultaId] criando consulta em:",b,h)}catch{}const{data:y}=await ce.post(b,h),w=(y==null?void 0:y.id)||(y==null?void 0:y.consulta_id)||(y==null?void 0:y.uuid);if(w){if(d)try{console.debug("[_ensureConsultaId] consulta criada:",w)}catch{}return w}}catch(y){const w=(o=y==null?void 0:y.response)==null?void 0:o.status;if(d)try{console.warn("[_ensureConsultaId] falha ao criar em",b,w,((c=y==null?void 0:y.response)==null?void 0:c.data)||(y==null?void 0:y.message))}catch{}if([401,404,405].includes(w))continue}}}catch(p){if(d)try{console.warn("[_ensureConsultaId] erro inesperado na criação:",p==null?void 0:p.message)}catch{}}return null}catch{return null}},async getCertificadoInfo(){var c,d;const t=[],s="".trim();s&&t.push(s);const a="/api/medicos/",r=a.endsWith("/")?a:`${a}/`;t.push(`${r}me/certificado/`),t.push(`${r}certificado/`),t.push("/medico/certificado/"),t.push("/assinatura/certificado/"),t.push("/certificados/"),t.push("/api/medicos/me/certificado/"),t.push("/api/medicos/certificado/"),t.push("/api/certificados/");let n=null;try{n=await this._resolveMedicoId()}catch{}n&&(t.push(`${r}${n}/certificado/`),t.push(`${r}${n}/assinatura/`),t.push(`/api/medicos/${n}/certificado/`),t.push(`/api/medicos/${n}/assinatura/`));let o=null;for(const m of t){if(!m)continue;const f=m.endsWith("/")?m:`${m}/`;try{const{data:p}=await ce.get(f),h=Array.isArray(p==null?void 0:p.results)?(c=p.results)==null?void 0:c[0]:Array.isArray(p)?p[0]:p;return h||p||null}catch(p){const h=(d=p==null?void 0:p.response)==null?void 0:d.status;if(h===404){o=p;continue}if(h===401)throw p;o=p}}if(o)throw o;return null},async uploadCertificado(t){var m;let s;if(t instanceof FormData)s=t;else if(t&&t.name)s=new FormData,s.append("file",t),s.append("certificado",t),s.append("pfx",t);else throw new Error("Parâmetro inválido: é esperado FormData ou File.");const a=[],r="".trim();r&&a.push(r);const n="/api/medicos/",o=n.endsWith("/")?n:`${n}/`;a.push(`${o}me/certificado/`),a.push(`${o}certificado/`),a.push("/medico/certificado/"),a.push("/assinatura/certificado/"),a.push("/certificados/");let c=null;try{c=await this._resolveMedicoId()}catch{}c&&(a.push(`${o}${c}/certificado/`),a.push(`${o}${c}/assinatura/`));let d=null;for(const f of a){if(!f)continue;const p=f.endsWith("/")?f:`${f}/`,h=["post","put","patch"];for(const g of h)try{const{data:j}=await ce[g](p,s);return j}catch(j){const b=(m=j==null?void 0:j.response)==null?void 0:m.status;if(b===404){d=j;break}if(b===405){d=j;continue}if(b===401||b&&[400,422].includes(b))throw j;d=j;break}}throw d||new Error("Falha ao enviar certificado: nenhum endpoint compatível.")},async enviarReceita({receitaId:t,pacienteId:s,email:a,formato:r="pdf",file:n,filename:o}){var b,y,w,C,S;if(!a&&!s&&!t&&!n)throw new Error("Forneça ao menos email, pacienteId, receitaId ou arquivo para envio.");const c="true".toLowerCase()==="true",d="/receitas/".replace(/\/?$/,"/"),m="/api/pacientes/".replace(/\/?$/,"/");if(!t&&s){const k=async D=>{var E;try{const O=await ce.get(d,{params:D}),I=O==null?void 0:O.data,z=Array.isArray(I)?I:Array.isArray(I==null?void 0:I.results)?I.results:[],B=z==null?void 0:z[0],Y=(B==null?void 0:B.id)||(B==null?void 0:B.pk)||(B==null?void 0:B.uuid)||((E=B==null?void 0:B.receita)==null?void 0:E.id);if(Y)return String(Y)}catch{}return null},P=[],R=["-created_at","-created","-data","-date","-id","-pk"];for(const D of R)P.push({paciente:s,ordering:D,page_size:1,limit:1}),P.push({paciente_id:s,ordering:D,page_size:1,limit:1});for(const D of P){const E=await k(D);if(E){t=E;break}}c&&t&&console.debug("[medicoService.enviarReceita] receitaId inferido via listagem:",t)}const f=new FormData;if(n){const k=o||n.name||`receita.${r||"pdf"}`;f.append("file",n,k),f.append("pdf",n,k),f.append("documento",n,k)}a&&(f.append("email",a),f.append("to",a),f.append("destinatario",a),f.append("paciente_email",a)),r&&f.append("formato",r),t&&(f.append("id",t),f.append("receita",t),f.append("receita_id",t)),s&&(f.append("paciente",s),f.append("paciente_id",s)),f.append("assinar","true");const p={email:a,to:a,destinatario:a,paciente_email:a,formato:r,id:t,receita:t,receita_id:t,paciente:s,paciente_id:s,assinar:!0},h=[],g="".trim();g&&h.push(g),t&&(h.push(`${d}${t}/enviar/`),h.push(`${d}${t}/enviar-email/`),h.push(`${d}${t}/enviar_email/`),h.push(`${d}${t}/email/`),h.push(`${d}${t}/send-email/`),h.push(`${d}${t}/send/`)),h.push(`${d}enviar/`),h.push(`${d}enviar-email/`),h.push(`${d}enviar_email/`),h.push(`${d}email/`),h.push(`${d}send-email/`),h.push(`${d}send/`),h.push("/email/receitas/"),h.push("/receitas/email/"),h.push("/email/send/"),h.push("/send-email/"),s&&(h.push(`${m}${s}/receitas/enviar/`),h.push(`${m}${s}/receitas/email/`),h.push(`${m}${s}/receitas/send/`),t&&(h.push(`${m}${s}/receitas/${t}/enviar/`),h.push(`${m}${s}/receitas/${t}/enviar-email/`),h.push(`${m}${s}/receitas/${t}/enviar_email/`),h.push(`${m}${s}/receitas/${t}/email/`),h.push(`${m}${s}/receitas/${t}/send-email/`),h.push(`${m}${s}/receitas/${t}/send/`)));let j=null;for(const k of h){if(!k)continue;const P=k.endsWith("/")?k:`${k}/`,R=E=>{c&&console.debug(`[medicoService.enviarReceita] ${E} ->`,P,{receitaId:t,pacienteId:s,email:a,formato:r})};if(/\/(enviar|email|send(-email)?)\/?$/i.test(P)&&!n)try{R("GET");const E={email:a,formato:r,id:t,receita:t,receita_id:t,paciente:s,paciente_id:s,assinar:!0},{data:O}=await ce.get(P,{params:E});return O}catch(E){if(j=E,((b=E==null?void 0:E.response)==null?void 0:b.status)===401)throw E}try{R("POST multipart");const{data:E}=await ce.post(P,f);return E}catch(E){const O=(y=E==null?void 0:E.response)==null?void 0:y.status;if(O===401)throw E;O&&[400,422].includes(O),j=E}if(!n)try{R("POST json");const{data:E}=await ce.post(P,p);return E}catch(E){const O=(w=E==null?void 0:E.response)==null?void 0:w.status;if(O===401)throw E;O&&[400,422].includes(O),j=E}try{R("PUT multipart");const{data:E}=await ce.put(P,f);return E}catch(E){const O=(C=E==null?void 0:E.response)==null?void 0:C.status;if(O===401)throw E;O&&[400,422].includes(O),j=E}if(!n)try{R("GET fallback");const E={email:a,formato:r,id:t,receita:t,receita_id:t,paciente:s,paciente_id:s,assinar:!0},{data:O}=await ce.get(P,{params:E});return O}catch(E){if(((S=E==null?void 0:E.response)==null?void 0:S.status)===401)throw E;j=E}}throw j||new Error("Falha ao enviar receita: nenhum endpoint compatível encontrado.")},async ensureMedicoRecord(t={}){var f;const s=St.getCurrentUser()||await St.refreshCurrentUser(),a=s==null?void 0:s.id;if(!a)throw new Error("Usuário não autenticado ou não disponível.");try{const p=await this._resolveMedicoId();if(p){const h="/api/medicos/",g=h.endsWith("/")?h:`${h}/`;try{return(await ce.get(`${g}${p}/`)).data||{id:p}}catch{return{id:p}}}}catch{}const r="/api/medicos/",n=r.endsWith("/")?r:`${r}/`,o={...t};o.user=o.user||a,o.user_id=o.user_id||a,o.usuario=o.usuario||a,o.usuario_id=o.usuario_id||a;const c=String(o.status||o.situacao||o.state||"pending").toLowerCase();o.status=c,o.situacao=o.situacao||c,o.state=o.state||c;const d=[n,`${n}create/`,"/api/medicos/","/admin/medicos/"];let m=null;for(const p of d){const h=p.endsWith("/")?p:`${p}/`;try{const{data:g}=await ce.post(h,o),j=(g==null?void 0:g.id)||(g==null?void 0:g.pk)||(g==null?void 0:g.uuid);if(j)try{localStorage.setItem("medico_id",String(j))}catch{}try{a&&localStorage.setItem(`medicoApplicationStatus:${a}`,"pending")}catch{}return g}catch(g){const j=(f=g==null?void 0:g.response)==null?void 0:f.status;if(j===401)throw g;if(j===405){m=g;continue}if(m=g,Object.values(t||{}).some(y=>y instanceof File||y instanceof Blob))try{const y=new FormData;for(const[S,k]of Object.entries(o))k!=null&&(y.append(S,k),S==="user"&&(y.append("usuario",k),y.append("user_id",k),y.append("usuario_id",k)),S==="status"&&(y.append("situacao",k),y.append("state",k)));const{data:w}=await ce.post(h,y),C=(w==null?void 0:w.id)||(w==null?void 0:w.pk)||(w==null?void 0:w.uuid);if(C)try{localStorage.setItem("medico_id",String(C))}catch{}try{a&&localStorage.setItem(`medicoApplicationStatus:${a}`,"pending")}catch{}return w}catch(y){m=y;continue}}}throw m||new Error("Falha ao criar registro do médico: nenhum endpoint compatível.")},async ensurePerfilMedico(t={}){var p,h;try{const g=await this.getPerfil();if(g&&(g.id||g.user||g.medico))return g}catch{}const s=St.getCurrentUser()||await St.refreshCurrentUser(),a=s==null?void 0:s.id;if(!a)throw new Error("Usuário não autenticado ou não disponível.");let r=t.medico_id||t.medico||null;if(!r){try{r=await this._resolveMedicoId()}catch{}if(!r)try{const g=await this.ensureMedicoRecord({});r=(g==null?void 0:g.id)||((p=g==null?void 0:g.medico)==null?void 0:p.id)||null}catch{}}const n={...t};n.user=n.user||a,n.user_id=n.user_id||a,n.usuario=n.usuario||a,n.usuario_id=n.usuario_id||a,r&&(n.medico=n.medico||r,n.medico_id=n.medico_id||r);const o=String(n.status||n.situacao||n.state||"pending").toLowerCase();n.status=o,n.situacao=n.situacao||o,n.state=n.state||o;const c=["/perfil-medico/","/perfil/medico/","/perfis/medico/","/profiles/medico/","/api/perfil-medico/","/api/perfil/medico/"],d="/api/medicos/",m=d.endsWith("/")?d:`${d}/`;r&&(c.push(`${m}${r}/perfil/`),c.push(`/api/medicos/${r}/perfil/`)),c.push(`${m}me/perfil/`);let f=null;for(const g of c){const j=g.endsWith("/")?g:`${g}/`,b=["post","put","patch"];for(const y of b)try{const{data:w}=await ce[y](j,n);try{a&&localStorage.setItem(`medicoApplicationStatus:${a}`,"pending")}catch{}return w}catch(w){const C=(h=w==null?void 0:w.response)==null?void 0:h.status;if(C===401)throw w;if(C===405){f=w;continue}if(C===404){f=w;break}f=w;break}}throw f||new Error("Falha ao criar perfil do médico: nenhum endpoint compatível.")},async ensureMedicoAndPerfil(t={},s={}){var d;const a=St.getCurrentUser()||await St.refreshCurrentUser(),r=a==null?void 0:a.id,n=await this.ensureMedicoRecord(t),o=(n==null?void 0:n.id)||((d=n==null?void 0:n.medico)==null?void 0:d.id)||null,c=await this.ensurePerfilMedico({...s,medico_id:s.medico_id||o});try{r&&localStorage.setItem(`medicoApplicationStatus:${r}`,"pending")}catch{}return{medico:n,perfil:c}},async updatePerfilMedico(t={}){var h,g;const s={...t},a=t.telefone||t.celular||t.phone||((h=t.contato)==null?void 0:h.telefone);a!=null&&(s.telefone=a,s.celular||(s.celular=a),s.phone||(s.phone=a),s.contato={...s.contato||{},telefone:a});let r=t.endereco||t.address||t.local;r&&typeof r=="object"&&(r=`${r.logradouro||r.rua||""} ${r.numero||""} ${r.bairro||""} ${r.cidade||""} ${r.estado||""}`.trim()),r!=null&&(s.endereco=r,s.address||(s.address=r),s.local||(s.local=r));const n=t.especialidade??t.especialidade_id??t.especialidade_nome??t.especialidade_label??t.especialidade_obj;if(n!=null){if(typeof n=="number")s.especialidade_id=n;else if(typeof n=="string")s.especialidade=n,s.especialidade_nome=n,s.especialidade_label=n;else if(typeof n=="object"){const j=n.nome||n.label||n.titulo,b=n.id;b!=null&&(s.especialidade_id=b),j&&(s.especialidade=j,s.especialidade_nome=j,s.especialidade_label=j)}}let o=null;try{o=await this._resolveMedicoId()}catch{}const c="/api/medicos/",d=c.endsWith("/")?c:`${c}/`,m=[],f="".trim();f&&m.push(f),m.push(`${d}me/`),o&&m.push(`${d}${o}/`),o&&m.push(`${d}${o}/perfil/`),m.push(`${d}me/perfil/`),m.push("/perfil-medico/"),m.push("/perfil/medico/"),m.push("/perfis/medico/"),m.push("/profiles/medico/"),m.push("/api/perfil-medico/"),m.push("/api/perfil/medico/");let p=null;for(const j of m){if(!j)continue;const b=j.endsWith("/")?j:`${j}/`,y=["patch","put","post"];for(const w of y)try{const{data:C}=await ce[w](b,s);return C}catch(C){const S=(g=C==null?void 0:C.response)==null?void 0:g.status;if(S===401)throw C;if(S===404){p=C;break}if(S===405){p=C;continue}if(S&&[400,422].includes(S))throw C;p=C;break}}throw p||new Error("Falha ao atualizar dados do médico: nenhum endpoint compatível.")},async _applySignatureStampToPdf(t,s={}){var a,r;try{const n=String(s.signerName||"Médico(a)").trim(),o=String(s.dateString||(()=>{const D=new Date,E=O=>String(O).padStart(2,"0");return`${D.getFullYear()}.${E(D.getMonth()+1)}.${E(D.getDate())} ${E(D.getHours())}:${E(D.getMinutes())}:${E(D.getSeconds())}`})()),c=s.receitaId||null,d=s.verifyUrl||this.buildVerifyUrl(c),{PDFDocument:m,StandardFonts:f,rgb:p}=await yo(async()=>{const{PDFDocument:D,StandardFonts:E,rgb:O}=await import("./index-C8I5vYel.js");return{PDFDocument:D,StandardFonts:E,rgb:O}},[]),h=await yo(()=>import("./browser-CvWTDt2l.js").then(D=>D.b),[]),g=t instanceof Blob?t:new Blob([await((a=t.arrayBuffer)==null?void 0:a.call(t))]),j=new Uint8Array(await g.arrayBuffer()),b=await m.load(j),y=b.getPages(),w=y[y.length-1],C=await b.embedFont(f.Helvetica);let S;try{const E=(await h.default.toDataURL(String(d||""),{errorCorrectionLevel:"H",margin:1,width:256})||"").split(",")[1]||"",O=Uint8Array.from(atob(E),I=>I.charCodeAt(0));S=await b.embedPng(O)}catch{}const{width:k}=w.getSize(),P={x:40,y:60,w:k-80,h:120};w.drawRectangle({x:P.x,y:P.y,width:P.w,height:P.h,color:p(.97,.97,.97)}),w.drawText("Assinado de forma digital por:",{x:P.x+110,y:P.y+90,size:11,font:C,color:p(0,0,0)}),w.drawText(n,{x:P.x+110,y:P.y+74,size:12,font:C,color:p(0,0,0)}),w.drawText(`Dados: ${o}`,{x:P.x+110,y:P.y+56,size:10,font:C,color:p(0,0,0)}),w.drawText("Carimbo e Assinatura do Médico",{x:P.x+110,y:P.y+30,size:9,font:C,color:p(.3,.3,.3)}),S&&w.drawImage(S,{x:P.x+10,y:P.y+20,width:90,height:90});const R=await b.save();return new Blob([R],{type:"application/pdf"})}catch(n){try{console.warn("[medicoService] selo visual falhou:",(n==null?void 0:n.message)||n)}catch{}return t instanceof Blob?t:new Blob([await((r=t.arrayBuffer)==null?void 0:r.call(t))])}},buildVerifyUrl(t){var s;try{const a="".trim();if(a){const n=a.replace(/\/?$/,"/");return t?`${n}${t}`:n}const r="http://127.0.0.1:8000".replace(/\/$/,"");return t?`${r}/receitas/${t}/verificar/`:r||((s=window==null?void 0:window.location)==null?void 0:s.origin)||""}catch{return""}},async applySignatureStamp(t,s={}){return await this._applySignatureStampToPdf(t,s)},async signDocumento(t,s={}){var z,B,Y,$,M,G,T,L,H,Q;let a;if(t instanceof FormData)a=t;else if(t&&t.name)a=new FormData,a.append("file",t),a.append("documento",t),a.append("pdf",t),a.append("arquivo",t);else throw new Error("Parâmetro inválido: é esperado FormData ou File PDF.");try{if((s==null?void 0:s.visibleStamp)!==!1){let A=a.get("file")||a.get("pdf")||a.get("documento");if(!A&&t&&t.name&&(A=t),A){const W=(s==null?void 0:s.receitaId)||(s==null?void 0:s.id)||(s==null?void 0:s.receita)||null;let re=s==null?void 0:s.signerName;if(!re){const V=await this.getCertificadoInfo().catch(()=>null);re=(V==null?void 0:V.subject_name)||(V==null?void 0:V.subject)||(V==null?void 0:V.nome)||(s==null?void 0:s.medicoNome)||"Médico(a)"}const K=await this._applySignatureStampToPdf(A,{signerName:re,dateString:new Date().toLocaleString(),receitaId:W}),J=new File([K],A.name||"documento.pdf",{type:"application/pdf"});["file","pdf","documento","arquivo"].forEach(V=>{a.has(V)&&a.set(V,J)})}}}catch{}const r=s.reason||s.motivo,n=s.location||s.local;r&&(a.append("reason",r),a.append("motivo",r)),n&&(a.append("location",n),a.append("local",n));try{a.append("formato","pdf"),a.append("format","pdf"),a.append("tipo","PADES"),a.append("assinar","true")}catch{}const o=te=>{const A=a instanceof FormData?a.get(te):null;return typeof A=="string"?A==="true"||A==="1"||A.toLowerCase()==="yes":!!A},c=!!(s.useToken||s.use_token||s.token||s.pkcs11||s.hardware||s.smartcard||o("useToken")||o("use_token")||o("token")||o("pkcs11")||o("hardware")||o("smartcard"));let d=null,m=null;a instanceof FormData&&(d=a.get("pfx")||a.get("certificado")||a.get("pkcs12"),m=a.get("pfx_password")||a.get("senha")||a.get("password"));const f=s&&s.pfxFile instanceof File?s.pfxFile:d,p=(typeof(s==null?void 0:s.pfxPassword)=="string"?s.pfxPassword.trim():"")||(typeof m=="string"?m:""),h=(s.pin||s.tokenPin||s.pin_code||(a instanceof FormData?a.get("pin")||a.get("token_pin")||a.get("pin_code"):"")||"").toString().trim();if(c)a.append("use_token","true"),a.append("pkcs11","true"),a.append("hardware","true"),h&&(a.append("pin",h),a.append("token_pin",h),a.append("pin_code",h)),s.subject&&a.append("subject",s.subject),s.serial&&a.append("serial",s.serial),s.slot&&a.append("slot",String(s.slot)),s.keyId&&a.append("key_id",s.keyId);else{if(!(f instanceof File))throw new Error("Certificado digital (.pfx/.p12) é obrigatório para assinatura.");if(!p)throw new Error("Senha do certificado PFX/P12 é obrigatória para assinatura.");a.append("pfx",f),a.append("certificado",f),a.append("pkcs12",f),a.append("arquivo_pfx",f),a.append("pfx_password",p),a.append("senha",p),a.append("password",p),a.append("senha_certificado",p),a.append("no_persist","true"),a.append("ephemeral","true")}const g=(s==null?void 0:s.receitaId)||(s==null?void 0:s.receita_id)||(s==null?void 0:s.id);g&&(a.append("receita",g),a.append("receita_id",g),a.append("id",g),a.append("id_receita",g));const j="true".toLowerCase()==="true",b=[],y="/api/assinatura/assinar/".trim();y&&b.push(y);const w="/api/medicos/",C=w.endsWith("/")?w:`${w}/`;b.push("/api/assinatura/assinar/"),b.push("/assinatura/assinar/"),b.push("/api/assinar-receita/"),b.push("/assinar-receita/"),b.push("/documentos/assinar/"),b.push("/receitas/assinar/"),b.push(`${C}me/assinar/`),b.push(`${C}assinar/`);let S=null;try{S=await this._resolveMedicoId()}catch{}S&&(b.push(`${C}${S}/assinar/`),b.push(`${C}${S}/assinatura/`));const k=async te=>{try{const A=await te.arrayBuffer(),W=new Uint8Array(A);let re="";for(let K=0;K<W.length;K++)re+=String.fromCharCode(W[K]);return btoa(re)}catch{return null}},P=a.get("file")||a.get("pdf")||a.get("documento"),R=a.get("pfx")||a.get("certificado")||a.get("pkcs12"),D=P?await k(P):null,E=R?await k(R):null,O={formato:"pdf",id:g,receita:g,receita_id:g,file_base64:D,pdf_base64:D,documento_base64:D,arquivo_base64:D,pfx_base64:E,certificado_base64:E,pkcs12_base64:E,password:p,senha:p,pfx_password:p,reason:r,motivo:r,location:n,local:n,use_token:c?!0:void 0,pkcs11:c?!0:void 0,hardware:c?!0:void 0,pin:h,token_pin:h||void 0,pin_code:h||void 0,tipo_assinatura:"pades",algoritmo:"sha256"};let I=null;for(const te of b){if(!te)continue;const A=te.endsWith("/")?te:`${te}/`,W=["post","put"];for(const re of W)try{j&&console.debug(`[signDocumento] ${re.toUpperCase()} multipart ->`,A);const K=await ce[re](A,a,{responseType:"blob"}),J=((z=K.headers)==null?void 0:z["content-disposition"])||((Y=(B=K.headers)==null?void 0:B.get)==null?void 0:Y.call(B,"content-disposition"));let V="documento_assinado.pdf";if(J){const X=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(J);try{V=decodeURIComponent((X==null?void 0:X[1])||(X==null?void 0:X[2])||V)}catch{V=(X==null?void 0:X[1])||(X==null?void 0:X[2])||V}}const U=new Blob([K.data],{type:(($=K.headers)==null?void 0:$["content-type"])||"application/pdf"});return{filename:V,blob:U}}catch(K){const J=(M=K==null?void 0:K.response)==null?void 0:M.status;if(J===404){I=K;break}if(J===405){I=K;continue}if(J===401)throw K;try{j&&console.debug(`[signDocumento] ${re.toUpperCase()} json ->`,A);const V=await ce[re](A,O,{responseType:"json"}),U=((G=V.headers)==null?void 0:G["content-type"])||"";if(/application\/pdf/i.test(U)){const Se=((T=V.headers)==null?void 0:T["content-disposition"])||((H=(L=V.headers)==null?void 0:L.get)==null?void 0:H.call(L,"content-disposition"));let Re="documento_assinado.pdf";if(Se){const Le=/filename\*=UTF-8''([^;]+)|filename="?([^";]+)"?/i.exec(Se);try{Re=decodeURIComponent((Le==null?void 0:Le[1])||(Le==null?void 0:Le[2])||Re)}catch{Re=(Le==null?void 0:Le[1])||(Le==null?void 0:Le[2])||Re}}const Ee=new Blob([V.data],{type:"application/pdf"});return{filename:Re,blob:Ee}}const X=V.data||{},le=(X==null?void 0:X.pdf_base64)||(X==null?void 0:X.documento_base64)||(X==null?void 0:X.file_base64)||(X==null?void 0:X.arquivo_base64)||null;if(le){const Se=atob(String(le)),Re=new Array(Se.length);for(let ut=0;ut<Se.length;ut++)Re[ut]=Se.charCodeAt(ut);const Ee=new Uint8Array(Re),Le=new Blob([Ee],{type:"application/pdf"});return{filename:(X==null?void 0:X.filename)||(X==null?void 0:X.nome_arquivo)||"documento_assinado.pdf",blob:Le}}const ve=V==null?void 0:V.status;if(ve&&[400,422].includes(ve)){I=K;continue}}catch(V){const U=(Q=V==null?void 0:V.response)==null?void 0:Q.status;if(U===404){I=V;break}if(U===405){I=V;continue}if(U===401)throw V;if(U&&[400,422].includes(U)){I=V;continue}I=V;break}}}throw I||new Error("Falha ao assinar documento: nenhum endpoint compatível.")},async atualizarReceita(t,s={}){var m;if(!t)throw new Error("ID da receita é obrigatório para atualização.");const a={...s};s.assinada!==void 0&&(a.assinada=!!s.assinada,a.signed=a.signed??a.assinada,a.status=a.assinada?"assinada":a.status||"emitida"),s.hash_alg&&(a.hash_alg=s.hash_alg,a.hash_algorithm=s.hash_algorithm||s.hash_alg,a.algoritmo_hash=s.algoritmo_hash||s.hash_alg),s.hash_pre&&(a.hash_pre=s.hash_pre,a.pre_hash=s.pre_hash||s.hash_pre),s.hash_signed&&(a.hash_signed=s.hash_signed,a.signed_hash=s.signed_hash||s.hash_signed),s.motivo&&(a.motivo=s.motivo),s.observacoes&&(a.observacoes=s.observacoes);const r="/receitas/",n=r.endsWith("/")?r:`${r}/`,o=[],c="".trim();c&&o.push(c.replace(/\/?$/,"/")),o.push(`${n}${t}/`),o.push(`${n}${t}/update/`),o.push(`${n}${t}/editar/`),o.push(`/api/receitas/${t}/`),o.push(`/receitas/${t}/`);let d=null;for(const f of o){if(!f)continue;const p=f.endsWith("/")?f:`${f}/`,h=["patch","put","post"];for(const g of h)try{const{data:j}=await ce[g](p,a);return j}catch(j){const b=(m=j==null?void 0:j.response)==null?void 0:m.status;if(b===401)throw j;if(b===404){d=j;break}if(b===405){d=j;continue}if(b&&[400,422].includes(b))throw j;d=j;break}}throw d||new Error("Falha ao atualizar receita: nenhum endpoint compatível.")},async registrarAuditoriaAssinatura(t={}){var f;const s=St.getCurrentUser()||await St.refreshCurrentUser(),a=s==null?void 0:s.id;let r=null;try{r=await this._resolveMedicoId()}catch{}const n={...t};a&&(n.usuario=n.usuario||a,n.usuario_id=n.usuario_id||a,n.user=n.user||a,n.user_id=n.user_id||a),r&&(n.medico=n.medico||r,n.medico_id=n.medico_id||r),n.tipo=n.tipo||"assinatura_receita",n.event=n.event||n.tipo,n.assinada=n.assinada??!0,n.timestamp=n.timestamp||new Date().toISOString();const o="/auditoria/assinaturas/",d=[o.endsWith("/")?o:`${o}/`,"/api/auditoria/assinaturas/","/logs/assinatura/","/auditoria/receitas/","/audit/assinaturas/"];let m=null;for(const p of d){const h=p.endsWith("/")?p:`${p}/`;try{const{data:g}=await ce.post(h,n);return g}catch(g){const j=(f=g==null?void 0:g.response)==null?void 0:f.status;if(j===401)throw g;if(j===404||j===405){m=g;continue}if(j&&[400,422].includes(j))throw g;m=g}}throw m||new Error("Falha ao registrar auditoria de assinatura: nenhum endpoint compatível.")}};function cI(){const{data:t,loading:s}=X1(()=>xt.getDashboard());if(s)return e.jsx("div",{className:"min-h-screen bg-medical-gradient p-6",children:e.jsx("div",{className:"space-y-8 animate-fade-in",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((o,c)=>e.jsxs(ne,{variant:"medical",className:"animate-pulse",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-20 bg-medical-primary/20 rounded"}),e.jsx("div",{className:"h-4 w-4 bg-medical-primary/20 rounded"})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"h-8 w-16 bg-medical-primary/20 rounded mb-2"}),e.jsx("div",{className:"h-3 w-24 bg-medical-primary/20 rounded"})]})]},c))})})});const a=t||{consultas_hoje:5,pacientes_ativos:127,prontuarios:89,exames_pendentes:9,variacao_consultas:2,novos_pacientes_semana:5,proximas_consultas:[],pacientes_recentes:[]},r=o=>{try{const c=new Date(o);if(!isNaN(c.getTime()))return c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof o=="string"&&/^\d{2}:\d{2}/.test(o))return o.slice(0,5)}catch{}return"-"},n=Array.isArray(a.proximas_consultas)?a.proximas_consultas:[];return e.jsxs("div",{className:"min-h-screen bg-medical-gradient p-6 space-y-8 animate-fade-in",children:[e.jsx(ne,{variant:"medical",className:"overflow-hidden",children:e.jsxs("div",{className:"bg-gradient-to-r from-medical-primary via-medical-secondary to-medical-accent p-8 text-white relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"p-4 bg-white/15 rounded-2xl backdrop-blur-sm border border-white/20",children:e.jsx(bt,{className:"h-10 w-10"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard Médico"}),e.jsx("p",{className:"text-white/90 text-lg",children:"Gestão clínica profissional e cuidado centrado no paciente"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ot,{className:"h-5 w-5 text-blue-200"}),e.jsx("span",{className:"text-sm font-medium text-white/90",children:"Consultas Hoje"})]}),e.jsx("div",{className:"text-3xl font-bold",children:a.consultas_hoje}),e.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Agendamentos confirmados"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Sa,{className:"h-5 w-5 text-green-200"}),e.jsx("span",{className:"text-sm font-medium text-white/90",children:"Pacientes Ativos"})]}),e.jsx("div",{className:"text-3xl font-bold text-green-200",children:a.pacientes_ativos}),e.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Em acompanhamento"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(va,{className:"h-5 w-5 text-purple-200"}),e.jsx("span",{className:"text-sm font-medium text-white/90",children:"Prontuários"})]}),e.jsx("div",{className:"text-3xl font-bold text-purple-200",children:a.prontuarios}),e.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Registros médicos"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(hr,{className:"h-5 w-5 text-amber-200"}),e.jsx("span",{className:"text-sm font-medium text-white/90",children:"Exames Pendentes"})]}),e.jsx("div",{className:"text-3xl font-bold text-amber-200",children:a.exames_pendentes}),e.jsx("div",{className:"text-xs text-white/70 mt-1",children:"Aguardando análise"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(Z,{variant:"btn-medical-secondary",size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm",children:[e.jsx(Wn,{className:"h-5 w-5 mr-2"}),"Nova Consulta"]}),e.jsxs(Z,{variant:"outline",size:"lg",className:"bg-white text-medical-primary hover:bg-gray-50",children:[e.jsx(Cu,{className:"h-5 w-5 mr-2"}),"Ver Agenda Completa"]}),e.jsxs(Z,{variant:"btn-medical-ghost",size:"lg",className:"bg-white/10 hover:bg-white/20 text-white border-white/30 backdrop-blur-sm",children:[e.jsx(Il,{className:"h-5 w-5 mr-2"}),"Relatórios Clínicos"]})]})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ne,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(he,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Consultas Hoje"}),e.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:e.jsx(ot,{className:"h-5 w-5 text-medical-primary"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:a.consultas_hoje}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Je,{variant:"success",size:"sm",children:[e.jsx(Gl,{className:"h-3 w-3 mr-1"}),"+",a.variacao_consultas]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"desde ontem"})]})]})]}),e.jsxs(ne,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-secondary",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(he,{className:"text-sm font-semibold text-medical-secondary group-hover:text-medical-primary transition-colors",children:"Pacientes Ativos"}),e.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:e.jsx(Sa,{className:"h-5 w-5 text-medical-secondary"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-medical-secondary mb-2",children:a.pacientes_ativos}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Je,{variant:"info",size:"sm",children:[e.jsx(y0,{className:"h-3 w-3 mr-1"}),"+",a.novos_pacientes_semana]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"esta semana"})]})]})]}),e.jsxs(ne,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-medical-primary",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(he,{className:"text-sm font-semibold text-medical-primary group-hover:text-medical-secondary transition-colors",children:"Prontuários Digitais"}),e.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:e.jsx(va,{className:"h-5 w-5 text-medical-primary"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-medical-primary mb-2",children:a.prontuarios}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Je,{variant:"medical-secondary",size:"sm",children:[e.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Atualizados"]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"registros médicos"})]})]})]}),e.jsxs(ne,{variant:"medical",className:"card-medical hover:shadow-2xl transition-all duration-300 group border-l-4 border-l-status-attention",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(he,{className:"text-sm font-semibold text-status-attention group-hover:text-status-attention/80 transition-colors",children:"Exames Pendentes"}),e.jsx("div",{className:"p-3 bg-status-attention/10 rounded-xl group-hover:bg-status-attention/20 transition-colors",children:e.jsx(hr,{className:"h-5 w-5 text-status-attention"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-status-attention mb-2",children:a.exames_pendentes}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Je,{variant:"warning",size:"sm",children:[e.jsx(Js,{className:"h-3 w-3 mr-1"}),"Urgente"]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"aguardando análise"})]})]})]})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[e.jsxs(ne,{variant:"medical",className:"card-medical",children:[e.jsx(pe,{className:"bg-gradient-to-r from-medical-primary/5 to-medical-secondary/5 border-b border-medical-primary/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl",children:e.jsx(pt,{className:"h-6 w-6 text-medical-primary"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-medical-primary text-lg font-semibold",children:"Agenda de Consultas"}),e.jsx(rt,{className:"text-muted-foreground",children:"Próximos atendimentos programados"})]})]}),e.jsx(Z,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:e.jsxs(it,{to:"/medico/consultas",children:[e.jsx(_r,{className:"h-4 w-4 mr-2"}),"Ver Agenda Completa",e.jsx(Gd,{className:"h-4 w-4 ml-2"})]})})]})}),e.jsx(ie,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:n.length>0?n.slice(0,5).map((o,c)=>e.jsx("div",{className:"group p-4 rounded-xl border border-medical-primary/10 bg-gradient-to-r from-white to-medical-primary/5 hover:shadow-md hover:border-medical-primary/20 transition-all duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-medical-primary/10 rounded-xl group-hover:bg-medical-primary/20 transition-colors",children:e.jsx(jo,{className:"h-5 w-5 text-medical-primary"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:o.paciente_nome}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-medical-primary",children:[e.jsx(pt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:r(o.data_hora)})]}),e.jsx(iT,{priority:o.prioridade||"normal"}),e.jsx(Je,{variant:"outline",className:"bg-medical-primary/5 text-medical-primary border-medical-primary/20",children:o.tipo||"Consulta Geral"})]})]})]}),e.jsxs(Z,{variant:"btn-medical-secondary",size:"sm",children:[e.jsx(_r,{className:"h-4 w-4 mr-2"}),"Atender"]})]})},c)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-medical-primary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:e.jsx(ot,{className:"h-10 w-10 text-medical-primary/60"})}),e.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Agenda livre hoje"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Nenhuma consulta agendada para hoje"}),e.jsxs(Z,{variant:"btn-medical-primary",size:"sm",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Agendar Nova Consulta"]})]})})})]}),e.jsxs(ne,{variant:"medical",className:"card-medical",children:[e.jsx(pe,{className:"bg-gradient-to-r from-medical-secondary/5 to-medical-secondary/10 border-b border-medical-secondary/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl",children:e.jsx(Sa,{className:"h-6 w-6 text-medical-secondary"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-medical-secondary text-lg font-semibold",children:"Pacientes Recentes"}),e.jsx(rt,{className:"text-medical-secondary/70",children:"Últimas interações e acompanhamentos"})]})]}),e.jsx(Z,{variant:"btn-medical-ghost",size:"sm",asChild:!0,children:e.jsxs(it,{to:"/medico/meus-pacientes",children:[e.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Ver Todos Pacientes",e.jsx(Gd,{className:"h-4 w-4 ml-2"})]})})]})}),e.jsx(ie,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:a.pacientes_recentes&&a.pacientes_recentes.length>0?a.pacientes_recentes.slice(0,5).map((o,c)=>e.jsx("div",{className:"group p-4 rounded-xl border border-medical-secondary/10 bg-gradient-to-r from-white to-medical-secondary/5 hover:shadow-md hover:border-medical-secondary/20 transition-all duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-medical-secondary/10 rounded-xl group-hover:bg-medical-secondary/20 transition-colors",children:e.jsx(Sa,{className:"h-5 w-5 text-medical-secondary"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:o.nome}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Última consulta: há ",o.dias_ultima_consulta," dias"]}),e.jsx(_N,{status:o.status||"ativo"})]})]})]}),e.jsxs(Z,{variant:"btn-medical-secondary",size:"sm",children:[e.jsx(_r,{className:"h-4 w-4 mr-2"}),"Ver Prontuário"]})]})},c)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-medical-secondary/5 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:e.jsx(Sa,{className:"h-10 w-10 text-medical-secondary/60"})}),e.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Nenhum paciente recente"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Pacientes aparecerão aqui após as consultas"}),e.jsxs(Z,{variant:"btn-medical-secondary",size:"sm",children:[e.jsx(y0,{className:"h-4 w-4 mr-2"}),"Cadastrar Novo Paciente"]})]})})})]})]})]})}function dI(){const[t,s]=x.useState(!0),[a,r]=x.useState([]),[n,o]=x.useState(""),[c,d]=x.useState("todos");x.useEffect(()=>{let f=!0;return(async()=>{var p;try{const h=await xt.getPerfil(),g=(h==null?void 0:h.id)||((p=h==null?void 0:h.medico)==null?void 0:p.id);if(g){const j=await xt.getPacientesVinculados(g);f&&r(Array.isArray(j)?j:[])}else f&&r([])}catch{f&&r([])}finally{f&&s(!1)}})(),()=>{f=!1}},[]);const m=a.filter(f=>{var j;const p=(f!=null&&f.user?[f.user.first_name,f.user.last_name].filter(Boolean).join(" ").trim():(f==null?void 0:f.nome)||"").toLowerCase(),h=!n||p.includes(n.toLowerCase()),g=c==="todos"||c===((j=f==null?void 0:f.user)!=null&&j.is_active?"ativo":"inativo");return h&&g});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Meus Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Liste e gerencie seus pacientes ativos"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qa,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ge,{placeholder:"Buscar pacientes...",className:"pl-10",value:n,onChange:f=>o(f.target.value)})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Ct,{children:[e.jsx(wt,{className:"w-[180px]",children:e.jsx(kt,{placeholder:"Filtrar por status"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"ativo",children:"Ativo"}),e.jsx(ye,{value:"inativo",children:"Inativo"})]})]}),e.jsxs(Z,{children:[e.jsx(qa,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsxs(Z,{variant:"outline",children:[e.jsx(ji,{className:"mr-2 h-4 w-4"}),"Filtrar"]})]})]}),t?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((f,p)=>e.jsx(ne,{children:e.jsxs(ie,{className:"p-6 space-y-4",children:[e.jsx("div",{className:"h-6 w-40 bg-muted animate-pulse rounded"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"})]})]})},p))}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:m.map(f=>{var g,j;const p=(f==null?void 0:f.id)||((g=f==null?void 0:f.user)==null?void 0:g.id),h=f!=null&&f.user?[f.user.first_name,f.user.last_name].filter(Boolean).join(" ").trim():(f==null?void 0:f.nome)||`Paciente ${p}`;return e.jsx(ne,{children:e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-xl font-semibold",children:((j=h==null?void 0:h[0])==null?void 0:j.toUpperCase())||"P"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:h}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:(f==null?void 0:f.condicoes_cronicas)&&e.jsx(Je,{variant:"outline",className:"bg-primary/5",children:f.condicoes_cronicas})}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(it,{to:`/medico/paciente/${p}/perfil`,children:[e.jsx(Ea,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]})}),e.jsx(Z,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(it,{to:`/medico/paciente/${p}/prontuario`,children:[e.jsx(va,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prontuário"})]})}),e.jsx(Z,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(it,{to:`/medico/paciente/${p}/iniciar-consulta`,children:[e.jsx(ot,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Consulta"})]})})]})]})},p)})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Mostrando 6 de 24 pacientes"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),e.jsx(Z,{variant:"outline",size:"sm",className:"bg-primary/5",children:"1"}),e.jsx(Z,{variant:"outline",size:"sm",children:"2"}),e.jsx(Z,{variant:"outline",size:"sm",children:"3"}),e.jsx(Z,{variant:"outline",size:"sm",children:"4"}),e.jsx(Z,{variant:"outline",size:"sm",children:"Próximo"})]})]})]})}function uI(){const[t,s]=x.useState(!0),[a,r]=x.useState(!0),[n,o]=x.useState([]),[c,d]=x.useState([]);x.useEffect(()=>{let h=!0;return(async()=>{var g;try{const j=await xt.getPerfil(),b=(j==null?void 0:j.id)||((g=j==null?void 0:j.medico)==null?void 0:g.id);if(!b){h&&(o([]),d([]));return}try{const y=await xt.getConsultasHoje(b);h&&o(Array.isArray(y)?y:(y==null?void 0:y.results)||[])}finally{h&&s(!1)}try{const y=await xt.getConsultasDoMedico(),w=Array.isArray(y)?y:Array.isArray(y==null?void 0:y.results)?y.results:[];h&&d(w)}finally{h&&r(!1)}}catch{h&&(o([]),d([]),s(!1),r(!1))}})(),()=>{h=!1}},[]);const m=h=>{var j,b;const g=(j=h==null?void 0:h.paciente)==null?void 0:j.user;return g?[g.first_name,g.last_name].filter(Boolean).join(" ").trim():(h==null?void 0:h.paciente_nome)||((b=h==null?void 0:h.paciente)==null?void 0:b.nome)||"Paciente"},f=h=>{try{const g=new Date(h);if(!isNaN(g))return g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof h=="string"&&/^\d{2}:\d{2}/.test(h))return h.slice(0,5)}catch{}return"--:--"},p=h=>{try{const g=new Date(h);if(!isNaN(g))return g.toLocaleDateString()}catch{}return""};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua agenda de consultas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qa,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ge,{placeholder:"Buscar consultas...",className:"pl-10 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Ct,{children:[e.jsx(wt,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200",children:e.jsx(kt,{placeholder:"Filtrar por status"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"confirmado",children:"Confirmado"}),e.jsx(ye,{value:"pendente",children:"Pendente"}),e.jsx(ye,{value:"cancelado",children:"Cancelado"})]})]}),e.jsx(Ja,{className:"w-[180px] dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200"}),e.jsxs(Z,{children:[e.jsx(ot,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]})]}),e.jsxs(Wr,{defaultValue:"hoje",children:[e.jsxs(Yr,{children:[e.jsx(Dt,{value:"hoje",children:"Hoje"}),e.jsx(Dt,{value:"amanha",children:"Amanhã"}),e.jsx(Dt,{value:"semana",children:"Esta Semana"}),e.jsx(Dt,{value:"todas",children:"Todas"})]}),e.jsx(Mt,{value:"hoje",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5"}),"Consultas para hoje, ",new Date().toLocaleDateString()]})}),e.jsx(ie,{children:t?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,g)=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 w-1/3 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-3 w-1/4 bg-muted animate-pulse rounded"})]}),e.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded"})]},g))}):e.jsx("div",{className:"space-y-4",children:n.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma consulta para hoje."}):n.map(h=>{var b,y,w;const g=h.id,j=((b=h==null?void 0:h.paciente)==null?void 0:b.id)||(h==null?void 0:h.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((w=(y=m(h))==null?void 0:y[0])==null?void 0:w.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:m(h)}),j&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",j]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(pt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[f(h==null?void 0:h.data_hora)," ",p(h==null?void 0:h.data_hora)?`(${p(h==null?void 0:h.data_hora)})`:""]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[j&&e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(it,{to:`/medico/paciente/${j}/perfil`,children:"Perfil"})}),j&&e.jsx(Z,{size:"sm",asChild:!0,children:e.jsx(it,{to:`/medico/paciente/${j}/iniciar-consulta`,children:"Atender"})})]})]},g)})})})]})}),e.jsx(Mt,{value:"amanha",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5"}),"Consultas para amanhã, ",new Date(Date.now()+864e5).toLocaleDateString()]})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(70+h),"M"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",h+5]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100050+h]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(pt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${8+h}:00`," - ",`${9+h}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:h%2===0?"Primeira consulta":"Retorno"}),h===1?e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Aguardando confirmação"}):e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(it,{href:`/medico/paciente/${100050+h}/perfil`,children:"Perfil"})}),e.jsx(Z,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},h))})})]})}),e.jsx(Mt,{value:"semana",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5"}),"Consultas para esta semana"]})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3",children:new Date(Date.now()+h*2*864e5).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),e.jsx("div",{className:"space-y-4",children:[1,2].map(g=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(64+h+g),"L"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",h*10+g]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100100+h*10+g]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(pt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${9+g}:00`," - ",`${10+g}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:g%2===0?"Primeira consulta":"Retorno"}),e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(it,{href:`/medico/paciente/${100100+h*10+g}/perfil`,children:"Perfil"})}),e.jsx(Z,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},`${h}-${g}`))})]},h))})})]})}),e.jsx(Mt,{value:"todas",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5"}),"Todas as Consultas"]})}),e.jsx(ie,{children:a?e.jsx("div",{className:"space-y-4",children:[...Array(4)].map((h,g)=>e.jsx("div",{className:"h-16 w-full bg-muted animate-pulse rounded"},g))}):e.jsx("div",{className:"space-y-4",children:c.map(h=>{var b,y,w;const g=h.id,j=((b=h==null?void 0:h.paciente)==null?void 0:b.id)||(h==null?void 0:h.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((w=(y=m(h))==null?void 0:y[0])==null?void 0:w.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:m(h)}),j&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",j]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ot,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:p(h==null?void 0:h.data_hora)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(pt,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:f(h==null?void 0:h.data_hora)})]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[j&&e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(it,{to:`/medico/paciente/${j}/perfil`,children:"Perfil"})}),e.jsx(Z,{variant:"ghost",size:"sm",children:"Detalhes"})]})]},g)})})})]})})]})]})}function am({patientId:t,isPacienteView:s=!0,profile:a,patient:r,loading:n=!1}){var b;const o=y=>y?KE(y.replace(/_/g," ")):"",c=(a==null?void 0:a.nome)&&a.nome.trim()||[a==null?void 0:a.first_name,a==null?void 0:a.last_name].filter(Boolean).join(" ")||o(a==null?void 0:a.username)||"Usuário",d=((b=c==null?void 0:c.trim())==null?void 0:b.split(" ").filter(Boolean).slice(0,2).map(y=>{var w;return(w=y[0])==null?void 0:w.toUpperCase()}).join(""))||"?",m=y=>{if(!y)return null;const w=new Date(y);if(Number.isNaN(w.getTime()))return null;const C=new Date;let S=C.getFullYear()-w.getFullYear();const k=C.getMonth()-w.getMonth(),P=C.getDate()-w.getDate();(k<0||k===0&&P<0)&&S--;let R=new Date(C.getFullYear(),w.getMonth(),w.getDate());R>C&&(R=new Date(C.getFullYear()-1,w.getMonth(),w.getDate()));const D=1440*60*1e3,E=Math.floor((C-R)/D);return`${S} anos e ${E} dias`},f=(a==null?void 0:a.data_nascimento)||(r==null?void 0:r.data_nascimento)||null,p=m(f),h=(r==null?void 0:r.tipo_sanguineo)||(a==null?void 0:a.tipo_sanguineo)||"—",g=(r==null?void 0:r.alergias)??(a==null?void 0:a.alergias),j=Array.isArray(g)?alergiesRaw.length?g.join(", "):"—":g||"—";return n?e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900",children:e.jsx(ie,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(gt,{className:"h-20 w-20 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(gt,{className:"h-6 w-48"}),e.jsx(gt,{className:"h-4 w-32"})]})]})})}),e.jsx(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20",children:e.jsx(ie,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(gt,{className:"h-16 w-full"}),e.jsx(gt,{className:"h-16 w-full"}),e.jsx(gt,{className:"h-16 w-full"})]})})})]}):e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 hover:shadow-xl transition-all duration-300",children:e.jsx(ie,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(tc,{className:"h-20 w-20 ring-4 ring-white/50 shadow-lg",children:[e.jsx(qu,{src:a==null?void 0:a.avatar,alt:c}),e.jsx(ac,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-2xl font-bold",children:d})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1.5 shadow-lg",children:e.jsx(Ea,{className:"h-3 w-3 text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-1",children:c}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Je,{variant:s?"default":"secondary",className:"text-xs font-medium",children:s?"Paciente":`ID: ${t||(a==null?void 0:a.id)||"-"}`})})]})]})})}),e.jsx(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 hover:shadow-xl transition-all duration-300",children:e.jsxs(ie,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-full",children:e.jsx(Ea,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})}),e.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Idade"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:p||"—"})]}),e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-full",children:e.jsx(CE,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})}),e.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Tipo Sanguíneo"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100",children:h})]}),e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-slate-800/60 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/50 rounded-full",children:e.jsx(jo,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})})}),e.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Alergias"}),e.jsx("p",{className:"text-xs font-bold text-slate-900 dark:text-slate-100 truncate",title:j,children:j})]})]}),!s&&e.jsx("div",{className:"mt-6 pt-4 border-t border-white/20",children:e.jsx(Z,{size:"sm",asChild:!0,className:"w-full btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(it,{to:`/medico/paciente/${t||(a==null?void 0:a.id)}/iniciar-consulta`,children:"Iniciar Consulta"})})})]})})]})}function mI(){var c,d,m,f,p,h,g,j;const{id:t}=Os(),[s,a]=x.useState(null),[r,n]=x.useState(!0);x.useEffect(()=>{let b=!0;return(async()=>{var y;try{const w="/api/pacientes/",C=w.endsWith("/")?w:`${w}/`,S=await ce.get(`${C}${t}/`);b&&a(S.data)}catch(w){console.debug("[PerfilPacienteMedico] Falha ao buscar paciente por id:",(y=w==null?void 0:w.response)==null?void 0:y.status)}finally{b&&n(!1)}})(),()=>{b=!1}},[t]);const o=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Prontuário",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie as informações do paciente"})]}),e.jsx(am,{patientId:t,isPacienteView:!1,profile:s==null?void 0:s.user,patient:s,loading:r}),e.jsx(qr,{tabs:o,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(Ea,{className:"h-5 w-5"})," Informações Pessoais"]})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Nome"}),e.jsx("p",{className:"text-muted-foreground",children:(s==null?void 0:s.nome)||[(c=s==null?void 0:s.user)==null?void 0:c.first_name,(d=s==null?void 0:s.user)==null?void 0:d.last_name].filter(Boolean).join(" ")||((m=s==null?void 0:s.user)==null?void 0:m.username)||"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Data de Nascimento"}),e.jsx("p",{className:"text-muted-foreground",children:s!=null&&s.data_nascimento||(f=s==null?void 0:s.user)!=null&&f.data_nascimento?new Date((s==null?void 0:s.data_nascimento)||((p=s==null?void 0:s.user)==null?void 0:p.data_nascimento)).toLocaleDateString("pt-BR"):"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"CPF"}),e.jsx("p",{className:"text-muted-foreground",children:(s==null?void 0:s.cpf)||((h=s==null?void 0:s.user)==null?void 0:h.cpf)||"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Telefone"}),e.jsx("p",{className:"text-muted-foreground",children:(s==null?void 0:s.telefone)||((g=s==null?void 0:s.user)==null?void 0:g.phone)||"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Endereço"}),e.jsx("p",{className:"text-muted-foreground",children:(s==null?void 0:s.endereco)||((j=s==null?void 0:s.user)==null?void 0:j.address)||"—"})]})]})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(en,{className:"h-5 w-5"})," Resumo Médico"]})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Tipo Sanguíneo"}),e.jsx("p",{className:"text-muted-foreground",children:(s==null?void 0:s.tipo_sanguineo)||"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Alergias"}),e.jsx("p",{className:"text-muted-foreground",children:Array.isArray(s==null?void 0:s.alergias)?s.alergias.length?s.alergias.join(", "):"—":(s==null?void 0:s.alergias)||"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Condições Crônicas"}),e.jsx("p",{className:"text-muted-foreground",children:(s==null?void 0:s.condicoes_cronicas)||"—"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(Z,{asChild:!0,children:e.jsx(it,{to:`/medico/paciente/${t}/iniciar-consulta`,children:"Iniciar Consulta"})}),e.jsx(Z,{variant:"outline",asChild:!0,children:e.jsx(it,{to:`/medico/paciente/${t}/prontuario`,children:"Ver Prontuário"})})]})]})}function fI(){const{id:t}=Os(),s=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Prontuário",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Prontuário do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Histórico médico completo"})]}),e.jsx(am,{patientId:t,isPacienteView:!1}),e.jsx(qr,{tabs:s,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(va,{className:"h-5 w-5"}),"Informações Gerais"]})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:"O+"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:"Penicilina, Amendoim"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condições Crônicas"}),e.jsx("p",{children:"Hipertensão"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),e.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5"}),"Histórico de Consultas"]})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(a=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"font-medium",children:"Dr. Carlos Oliveira"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Cardiologia"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-a*30*864e5).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diagnóstico"}),e.jsx("p",{children:"Hipertensão Arterial Estágio 1"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conduta"}),e.jsx("p",{children:"Manutenção da medicação atual. Recomendação de atividade física regular e redução do consumo de sal."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Exames Solicitados"}),e.jsx("p",{children:"Hemograma completo, Perfil lipídico, Função renal"})]})]},a))})})]})]})]})}function pI(){const{id:t}=Os(),s=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Prontuário",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie exames do paciente"})]}),e.jsx(am,{patientId:t,isPacienteView:!1}),e.jsx(qr,{tabs:s,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qa,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ge,{placeholder:"Buscar exames...",className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Ct,{children:[e.jsx(wt,{className:"w-[180px]",children:e.jsx(kt,{placeholder:"Tipo de exame"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"imagem",children:"Imagem"}),e.jsx(ye,{value:"laboratorial",children:"Laboratorial"}),e.jsx(ye,{value:"outros",children:"Outros"})]})]}),e.jsxs(Z,{variant:"outline",children:[e.jsx(ot,{className:"mr-2 h-4 w-4"}),"Período"]}),e.jsxs(Z,{children:[e.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Solicitar Exame"]})]})]}),e.jsxs(Wr,{defaultValue:"pendentes",children:[e.jsxs(Yr,{children:[e.jsx(Dt,{value:"pendentes",children:"Pendentes"}),e.jsx(Dt,{value:"concluidos",children:"Concluídos"}),e.jsx(Dt,{value:"todos",children:"Todos"})]}),e.jsx(Mt,{value:"pendentes",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Exames Pendentes"})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>e.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Hemograma Completo"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solicitado em ",new Date(Date.now()-a*864e5).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(_r,{className:"mr-2 h-4 w-4"}),"Ver Solicitação"]}),e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(ns,{className:"mr-2 h-4 w-4"}),"Baixar Pedido"]})]})]},a))})})]})}),e.jsx(Mt,{value:"concluidos",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Exames Concluídos"})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:[1,2].map(a=>e.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Raio-X de Tórax"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Concluído em ",new Date(Date.now()-a*3*864e5).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(_r,{className:"mr-2 h-4 w-4"}),"Visualizar Resultado"]}),e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(ns,{className:"mr-2 h-4 w-4"}),"Baixar Resultado"]})]})]},a))})})]})}),e.jsx(Mt,{value:"todos",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Todos os Exames"})}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(a=>e.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"font-medium",children:["Exame #",a]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",a%2===0?"Concluído":"Pendente"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(en,{className:"mr-2 h-4 w-4"}),"Detalhes"]}),e.jsxs(Z,{variant:"outline",size:"sm",children:[e.jsx(ns,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},a))})})]})})]})]})}const My={_summarizeLocal(t="",s={}){var w;const a=String(t||"").replace(/\r/g,"").trim(),r=C=>{const S=new RegExp(`(?:^|
)s*(?:${C.join("|")})s*[:：]s*([sS]*?)(?=
s*(?:Queixa|História|Historia|Exame|Diagn[oó]stico|Conduta|Prescri|Rx|Receita|Alergias|Orient[aã]ções|Observ[aã]ções|Retorno)s*[:：]|$)`,"i"),k=a.match(S);return k?k[1].trim():""},n=r(["Queixa","Queixa Principal"])||((w=a.split(/\n\n|\n-/)[0])==null?void 0:w.slice(0,300))||"",o=r(["História","Historia","HDA","História da Doença Atual"])||"",c=r(["Diagnóstico","Diagnostico"])||"",d=r(["Conduta","Plano","Plano Terapêutico"])||"",m=r(["Prescrição","Prescricao","Receita","Rx"])||"";let f="",p="";if(m){const C=m.split(/\n+/).map(S=>S.trim()).filter(Boolean);C.length===1?(f=C[0],p="Conforme descrito na prescrição."):C.length>1&&(f=C[0],p=C.slice(1).join(" "))}if(!f&&d){const C=(d.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[aá]psul|gotas).*/i)||[""])[0];C&&(f=C.trim(),p="Conforme conduta descrita.")}const h=r(["Alergias"])||String((s==null?void 0:s.alergias)||""),g=(a.match(/(PA|press[aã]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",j=(a.match(/(FC|freq[uê]ncia\s*card[ií]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",b=(a.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:°?c|celsius)?/i)||["","","",""])[3]||"",y=(a.match(/(sat|satura[cç][aã]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:n||String((s==null?void 0:s.queixa)||""),historia_doenca_atual:o||String((s==null?void 0:s.historia_doenca_atual)||(s==null?void 0:s.historia)||""),diagnostico_principal:c||String((s==null?void 0:s.diagnostico_principal)||(s==null?void 0:s.diagnostico)||""),conduta:d||String((s==null?void 0:s.conduta)||""),medicamentos:f||String((s==null?void 0:s.medicamentos)||""),posologia:p||String((s==null?void 0:s.posologia)||""),alergias:String(h||""),pressao:g,frequencia_cardiaca:j,temperatura:b,saturacao:y}},_extractEntitiesLocal(t="",s={}){const a=this._summarizeLocal(t,s),r=String(t||"").replace(/\r/g,"").trim(),n=C=>{const S=new RegExp(`(?:^|
)s*(?:${C.join("|")})s*[:：]s*([sS]*?)(?=
s*(?:Queixa|História|Historia|Exame|Diagn[oó]stico|Conduta|Prescri|Rx|Receita|Alergias|Sintomas|Orient[aã]ções|Observ[aã]ções|Retorno|Exames)s*[:：]|$)`,"i"),k=r.match(S);return k?k[1].trim():""},o=n(["Sintomas"])||"",c=n(["Orientações","Orientacoes"])||"",d=n(["Observações","Observacoes"])||"",m=n(["Exames"])||"",f=a.alergias||n(["Alergias"])||"",p=o?o.split(/[,\n;]+/).map(C=>C.trim()).filter(Boolean):[],h=c?c.split(/\n+/).map(C=>C.trim()).filter(Boolean):[],g=f?f.split(/[,\n;]+/).map(C=>C.trim()).filter(Boolean):[],j=m?m.split(/[,\n;]+/).map(C=>C.trim()).filter(Boolean):[],b=[];a.medicamentos&&b.push(...String(a.medicamentos).split(/\n+/));const y=b.map(C=>String(C).trim()).filter(C=>/\b(mg|ml|g|mcg|comprimid|capsul|gota|spray)\b/i.test(C)).map(C=>({nome:C.split(/\s+/)[0]||"",dosagem:(C.match(/\b\d+\s?(mg|ml|g|mcg)\b/i)||[""])[0],frequencia:(C.match(/\b(\d+x\s*ao\s*d[ií]a|\d+x\/dia|[aá] cada \d+ h)\b/i)||[""])[0],duracao:(C.match(/\bpor\s*\d+\s*(dias?|semanas?|meses?)\b/i)||[""])[0],via:(C.match(/\b(via\s*oral|vo|im|ev)\b/i)||[null])[0],observacoes:C}));return{paciente:{nome:"",idade:null,sexo:null},diagnostico:a.diagnostico_principal||"",sintomas:p,medicamentos:y,orientacoes:h,observacoes:d||a.conduta||"",sinais_vitais:{pressao:a.pressao||"",frequencia_cardiaca:a.frequencia_cardiaca||"",temperatura:a.temperatura||"",saturacao:a.saturacao||""},alergias:g,exames:j,retorno:null}},async sumarizarTranscricao(t,s={}){return this._summarizeLocal(t,s)},async extrairEntidades(t,s={}){return this._extractEntitiesLocal(t,s)}};function hI(){const{id:t}=Os(),s=Fa(),a=Pa(),[r,n]=x.useState(!1),{toast:o}=ta(),[c,d]=x.useState(!1),[m,f]=x.useState({queixa:"",historia:"",medicamentos:"",alergias:"",pressao:"","frequencia-cardiaca":"",temperatura:"",saturacao:"","exame-geral":"","sistema-cardiovascular":"","sistema-respiratorio":"",diagnostico:"",conduta:"",exames:"",retorno:""}),[p,h]=x.useState("anamnese"),g=V=>{const{id:U,value:X}=V.target;f(le=>({...le,[U]:X}))},b=new URLSearchParams(a.search).get("consultaId"),[y,w]=x.useState(""),[C,S]=x.useState(!1),[k,P]=x.useState(""),[R,D]=x.useState("unknown"),E=x.useRef(null),O=x.useRef(-1),[I,z]=x.useState(""),B=x.useRef(!1),Y=x.useMemo(()=>`iniciar-consulta:${t}:${b||"sem-consulta"}`,[t,b]),$=x.useRef("");x.useEffect(()=>{$.current=I},[I]);const[M,G]=x.useState(null),[T,L]=x.useState(!1),[H,Q]=x.useState("");x.useEffect(()=>{let V;return(async()=>{try{navigator.permissions&&navigator.permissions.query&&(V=await navigator.permissions.query({name:"microphone"}),D(V.state||"unknown"),V.onchange=()=>D(V.state||"unknown"))}catch{}})(),()=>{V&&(V.onchange=null)}},[]);const te=async()=>{P("");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(U=>U.stop()),D("granted"),!0}catch(V){const U=V&&(V.name||V.message)||"Permissão de microfone negada";return P(typeof U=="string"?U:"Falha ao acessar microfone"),D("denied"),!1}};x.useEffect(()=>{try{const V=localStorage.getItem(Y);V&&w(V)}catch{}},[Y]),x.useEffect(()=>{const V=(a.hash||"").toLowerCase(),X={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"}[V];X&&h(X);const le={"#diagnostico":"diagnostico","#problems_and_diagnostics":"diagnostico","#exame-fisico":"exame-fisico","#exame_fisico":"exame-fisico","#anamnese":"anamnese"},ve=(Se=0)=>{const Re=le[V],Ee=document.getElementById(Re)||document.getElementById(V.replace(/^#/,""));if(Ee){try{Ee.scrollIntoView({behavior:"smooth",block:"start"})}catch{}return}Se<10&&setTimeout(()=>ve(Se+1),80)};V&&setTimeout(()=>ve(0),50)},[a.hash]),x.useEffect(()=>{const U={anamnese:"#anamnese","exame-fisico":"#exame-fisico",diagnostico:"#problems_and_diagnostics"}[p];if(U&&(a.hash||"")!==U)try{s(`${a.pathname}${U}`,{replace:!0})}catch{}},[p]),x.useEffect(()=>{let V=!0;return(async()=>{var U;try{const X="/api/pacientes/".replace(/\/?$/,"/"),{data:le}=await ce.get(`${X}${t}/`);if(!V)return;G(le);const ve=(le==null?void 0:le.alergias)||"";ve&&!m.alergias&&f(Se=>({...Se,alergias:ve}))}catch(X){console.debug("[IniciarConsulta] Falha ao buscar paciente por id:",(U=X==null?void 0:X.response)==null?void 0:U.status)}})(),()=>{V=!1}},[t]),x.useEffect(()=>{try{localStorage.setItem(Y,y||"")}catch{}},[Y,y]),x.useEffect(()=>(A(),()=>{W()}),[]);const A=async()=>{try{if(!await te()){S(!1),B.current=!1;return}if(E.current){try{E.current.onend=null,E.current.onresult=null,E.current.onerror=null,E.current.stop()}catch{}E.current=null}const V=window.SpeechRecognition||window.webkitSpeechRecognition;if(!V){console.warn("Reconhecimento de fala não suportado neste navegador."),P("Seu navegador não suporta reconhecimento de fala."),S(!1);return}const U=new V;U.lang="pt-BR",U.continuous=!0,U.interimResults=!0,U.maxAlternatives=1,O.current=-1,U.onresult=X=>{let le="",ve="";for(let Se=X.resultIndex;Se<X.results.length;Se++){const Re=X.results[Se],Ee=Array.from(Re,Le=>Le.transcript).join("");Re.isFinal?le+=Ee+" ":ve+=Ee}if(le){const Se=le.trim();w(Re=>{const Ee=Re?Re.endsWith(" ")?Re:Re+" ":"";return Se&&Ee.endsWith(Se)?Re:(Ee+Se).trim()})}z(ve)},U.onerror=X=>{const le=(X==null?void 0:X.error)||X;if(console.warn("Erro no reconhecimento de fala:",le),typeof le=="string"&&P(le),["audio-capture","network"].includes(le)&&B.current&&E.current===U)try{U.stop()}catch{}le==="not-allowed"&&(S(!1),B.current=!1)},U.onend=()=>{const X=E.current===U,le=($.current||"").trim();le&&w(ve=>{const Se=ve?ve.endsWith(" ")?ve:ve+" ":"";return Se.endsWith(le)?ve:(Se+le).trim()}),z(""),O.current=-1,B.current&&X&&setTimeout(()=>{try{U.start()}catch{}},200)},E.current=U,B.current=!0,S(!0);try{U.start()}catch(X){console.warn("Falha ao iniciar reconhecimento:",X),S(!1),B.current=!1,E.current=null,P("Falha ao iniciar reconhecimento de fala.");return}}catch(V){console.warn("Falha ao iniciar reconhecimento de fala:",V),S(!1),B.current=!1,P("Falha inesperada ao iniciar microfone.")}},W=async()=>{try{S(!1),B.current=!1,z(""),E.current&&(E.current.onend=null,E.current.onresult=null,E.current.onerror=null,E.current.stop(),E.current=null)}catch{}if((y||"").trim().length>0&&!c&&b)try{const U=re(y||""),X=await xt.finalizarConsultaIA(b,{transcript:y||"",extracted:{queixa:U.queixa||"",historia:U.historia||"",diagnostico:U.diagnostico||"",conduta:U.conduta||"",medicamentos:U.medicamentos||"",posologia:U.posologia||"",pressao:U.pressao||"",frequencia_cardiaca:U["frequencia-cardiaca"]||U.frequencia||"",temperatura:U.temperatura||"",saturacao:U.saturacao||""},form:{queixa_principal:m.queixa||"",historia_doenca_atual:m.historia||"",diagnostico_principal:m.diagnostico||"",conduta:m.conduta||"",medicamentos_uso:m.medicamentos||"",alergias:m.alergias||"",pressao:m.pressao||"",frequencia_cardiaca:m.frequencia||m["frequencia-cardiaca"]||"",temperatura:m.temperatura||"",saturacao:m.saturacao||""}}),le=[X,X==null?void 0:X.data,X==null?void 0:X.result,X==null?void 0:X.output,X==null?void 0:X.summary,X==null?void 0:X.sumarizacao,X==null?void 0:X.resumo,X==null?void 0:X.fields].filter(Boolean),ve=(Ee,Le)=>Le.split(".").reduce((st,ut)=>st&&st[ut]!=null?st[ut]:void 0,Ee),Se=Ee=>{for(const Le of le)for(const st of Ee){const ut=ve(Le,st);if(typeof ut=="string"&&ut.trim())return ut.trim()}return""},Re={queixa:m.queixa||Se(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||U.queixa||"",historia:m.historia||Se(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||U.historia||"",medicamentos:m.medicamentos||Se(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||U.medicamentos||"",alergias:m.alergias||Se(["alergias","anamnese.alergias","allergies"])||"",diagnostico:m.diagnostico||Se(["diagnostico_principal","diagnostico","diagnosis","assessment"])||U.diagnostico||"",conduta:m.conduta||Se(["conduta","plano","plan","plan_terapeutico"])||U.conduta||"",posologia:m.posologia||Se(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||U.posologia||"",pressao:m.pressao||Se(["pressao","sinais_vitais.pressao"])||U.pressao||"","frequencia-cardiaca":m["frequencia-cardiaca"]||m.frequencia||Se(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca","fc","heart_rate"])||U["frequencia-cardiaca"]||U.frequencia||"",temperatura:m.temperatura||Se(["temperatura","sinais_vitais.temperatura"])||U.temperatura||"",saturacao:m.saturacao||Se(["saturacao","sinais_vitais.saturacao","spo2"])||U.saturacao||""};f(Ee=>({...Ee,...Re})),d(!0),o({title:"Resumo aplicado",description:"Pré-preenchimento realizado a partir da transcrição."})}catch(U){console.debug("[auto-sumarizar] falhou:",U==null?void 0:U.message)}};function re(V=""){var pa;let U=String(V||"").replace(/\r/g,"").trim();U=U.replace(/(?:^|[.!?])\s*(Ao exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Exame Físico|Exame)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Diagnóstico(?: Principal)?)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Conduta)(?!\s*[:：])/gi,`
$1:`).replace(/(?:^|[.!?])\s*(Prescrição|Prescricao|Receita|Rx)\s*:/gi,`
$1:`).replace(/(?:^|[.!?])\s*(História da Doença Atual|HDA|História|Historia)\s*:/gi,`
$1:`);const X=["Queixa","Queixa Principal","História","Historia","HDA","História da Doença Atual","Exame","Exame Físico","Ao exame","Diagnóstico","Diagnostico","Diagnóstico Principal","Conduta","Plano","Plano Terapêutico","Prescrição","Prescricao","Receita","Rx","Alergias","Orientações","Orientacoes","Observações","Observacoes","Exames","Retorno"],le=$a=>{const ke=$a.join("|"),na=X.join("|"),za=new RegExp(`(?:^|
)s*(?:${ke})(?:[^
:]{0,50})?s*[:：]s*([sS]*?)(?=s*(?:${na})s*[:：]|$)`,"i"),Tt=U.match(za);return Tt?Tt[1].trim():""},ve=le(["Queixa","Queixa Principal"])||((pa=U.split(/\n\n|\n-/)[0])==null?void 0:pa.slice(0,300))||"",Se=le(["História da Doença Atual","HDA","História","Historia"])||"",Re=le(["Diagnóstico Principal","Diagnóstico","Diagnostico"])||"",Ee=le(["Conduta","Plano","Plano Terapêutico"])||"",Le=le(["Prescrição","Prescricao","Receita","Rx"])||"";let st="",ut="";if(Le){const $a=Le.split(/\n+/).map(na=>na.trim()).filter(Boolean);st=$a.join(`
`);const ke=$a.map(na=>{const za=na.indexOf("–");if(za>=0)return na.slice(za+1).trim();const Tt=na.match(/(?:\d+\s?(mg|ml|g|mcg)[^,;]*)[,;]?(.*)$/i);return Tt?(Tt[2]||"").trim():""}).filter(Boolean);ke.length&&(ut=ke.join(`
`))}if(!st&&Ee){const $a=(Ee.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[aá]psul|gotas|spray).*/i)||[""])[0];$a&&(st=$a.trim(),ut="Conforme conduta descrita.")}const He=(U.match(/(PA|press[aã]o( arterial)?)[^\d]*(\d{2,3}\s*\/\s*\d{2,3})\s*(mmhg)?/i)||["","","",""])[3]||"",Xt=(U.match(/(FC|freq[uê]ncia\s*card[ií]aca)[^\d]*(\d{2,3})\s*(bpm)?/i)||["","",""])[2]||"",Ht=(U.match(/(temp(eratura)?)[^\d]*(\d{2}(?:[\.,]\d)?)\s*(?:°?c|celsius)?/i)||["","","",""])[3]||"",Vt=(U.match(/(sat|satura[cç][aã]o)[^\d]*(\d{2})\s*%/i)||["","",""])[2]||"";return{queixa:ve,historia:Se,diagnostico:Re,conduta:Ee,medicamentos:st,posologia:ut,pressao:He,"frequencia-cardiaca":Xt,temperatura:Ht,saturacao:Vt}}const K=async()=>{const V=(H||"").trim();if(!V){L(!1);return}const U=(m.alergias||"").trim(),X=U?`${U}
${V}`:V;f(le=>({...le,alergias:X}));try{M!=null&&M.id&&(xt!=null&&xt.atualizarPacienteById)&&(await xt.atualizarPacienteById(M.id,{alergias:X}),o({title:"Alergia adicionada",description:"Atualizamos o cadastro do paciente."}))}catch(le){console.debug("Falha ao atualizar alergias do paciente:",le==null?void 0:le.message),o({title:"Não foi possível salvar no cadastro",description:"A alergia foi adicionada ao formulário apenas.",variant:"destructive"})}finally{Q(""),L(!1)}},J=async V=>{var X;V.preventDefault(),n(!0);try{W()}catch{}const U=re(y||"");try{let le=null;if(!c)if(b){let ke=null;try{ke=await xt.finalizarConsultaIA(b,{transcript:y||"",extracted:{queixa:U.queixa||"",historia:U.historia||"",diagnostico:U.diagnostico||"",conduta:U.conduta||"",medicamentos:U.medicamentos||"",posologia:U.posologia||""},form:{queixa_principal:m.queixa||"",historia_doenca_atual:m.historia||"",diagnostico_principal:m.diagnostico||"",conduta:m.conduta||"",medicamentos_uso:m.medicamentos||"",alergias:m.alergias||""}})}catch(Ft){console.warn("Falha ao enviar dados para sumarização:",Ft)}if(!ke)try{ke=await My.sumarizarTranscricao(y||"",{queixa:U.queixa||"",historia_doenca_atual:U.historia||"",diagnostico_principal:U.diagnostico||"",conduta:U.conduta||"",medicamentos:U.medicamentos||"",posologia:U.posologia||"",alergias:m.alergias||""})}catch(Ft){console.debug("[AI] Gemini indisponível:",Ft==null?void 0:Ft.message)}const na=[ke,ke==null?void 0:ke.data,ke==null?void 0:ke.result,ke==null?void 0:ke.output,ke==null?void 0:ke.summary,ke==null?void 0:ke.sumarizacao,ke==null?void 0:ke.resumo,ke==null?void 0:ke.fields].filter(Boolean),za=(Ft,vr)=>{try{return vr.split(".").reduce(($t,Jt)=>$t&&$t[Jt]!==void 0?$t[Jt]:void 0,Ft)}catch{return}},Tt=Ft=>{for(const vr of na)for(const $t of Ft){const Jt=za(vr,$t);if(Jt!=null){const Kr=String(Jt).trim();if(Kr)return Kr}}return""},cr={queixa:m.queixa||Tt(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||U.queixa||"",historia:m.historia||Tt(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||U.historia||"",medicamentos:m.medicamentos||Tt(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||U.medicamentos||"",alergias:m.alergias||Tt(["alergias","anamnese.alergias","allergies"])||"",diagnostico:m.diagnostico||Tt(["diagnostico_principal","diagnostico","diagnosis","assessment"])||U.diagnostico||"",conduta:m.conduta||Tt(["conduta","plano","plan","plan_terapeutico"])||U.conduta||"",posologia:m.posologia||Tt(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||U.posologia||"",pressao:m.pressao||Tt(["pressao","sinais_vitais.pressao"])||U.pressao||"","frequencia-cardiaca":m["frequencia-cardiaca"]||Tt(["frequencia_cardiaca","sinais_vitais.frequencia_cardiaca"])||U["frequencia-cardiaca"]||"",temperatura:m.temperatura||Tt(["temperatura","sinais_vitais.temperatura"])||U.temperatura||"",saturacao:m.saturacao||Tt(["saturacao","sinais_vitais.saturacao"])||U.saturacao||""};le=cr,f(Ft=>({...Ft,...cr})),d(!0),o({title:"Resumo aplicado",description:"Campos preenchidos com a sugestão da IA. Revise e clique em 'Salvar Prontuário'."}),n(!1);return}else try{const ke=await My.sumarizarTranscricao(y||"",{queixa_principal:U.queixa||m.queixa||"",historia_doenca_atual:U.historia||m.historia||"",diagnostico_principal:U.diagnostico||m.diagnostico||"",conduta:U.conduta||m.conduta||"",medicamentos:U.medicamentos||m.medicamentos||"",posologia:U.posologia||m.posologia||"",alergias:m.alergias||""}),na=[ke,ke==null?void 0:ke.data,ke==null?void 0:ke.result,ke==null?void 0:ke.output,ke==null?void 0:ke.summary,ke==null?void 0:ke.sumarizacao,ke==null?void 0:ke.resumo,ke==null?void 0:ke.fields].filter(Boolean),za=(Ft,vr)=>{try{return vr.split(".").reduce(($t,Jt)=>$t&&$t[Jt]!==void 0?$t[Jt]:void 0,Ft)}catch{return}},Tt=Ft=>{for(const vr of na)for(const $t of Ft){const Jt=za(vr,$t);if(Jt!=null){const Kr=String(Jt).trim();if(Kr)return Kr}}return""},cr={queixa:m.queixa||Tt(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||U.queixa||"",historia:m.historia||Tt(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||U.historia||"",medicamentos:m.medicamentos||Tt(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||U.medicamentos||"",alergias:m.alergias||Tt(["alergias","anamnese.alergias","allergies"])||"",diagnostico:m.diagnostico||Tt(["diagnostico_principal","diagnostico","diagnosis","assessment"])||U.diagnostico||"",conduta:m.conduta||Tt(["conduta","plano","plan","plan_terapeutico"])||U.conduta||"",posologia:m.posologia||Tt(["posologia","prescricao.posologia","prescription.posology","dosage_instructions","dosage","instrucoes","dosagem"])||U.posologia||""};le=cr,f(Ft=>({...Ft,...cr})),d(!0),o({title:"Campos sugeridos",description:"Usamos a transcrição e a IA para preencher. Revise e clique em 'Salvar Prontuário'."}),n(!1);return}catch{const na={queixa:m.queixa||U.queixa||"",historia:m.historia||U.historia||"",diagnostico:m.diagnostico||U.diagnostico||"",conduta:m.conduta||U.conduta||"",medicamentos:m.medicamentos||U.medicamentos||"",posologia:m.posologia||U.posologia||""};le=na,f(za=>({...za,...na})),d(!0),o({title:"Campos sugeridos",description:"Usamos a transcrição para preencher. Revise e clique em 'Salvar Prontuário'."}),n(!1);return}const ve=le?{...m,...le}:m,Se={consulta_id:b,queixa_principal:(ve.queixa||U.queixa||"").trim(),historia_doenca_atual:(ve.historia||U.historia||"").trim(),diagnostico_principal:(ve.diagnostico||U.diagnostico||"").trim(),conduta:(ve.conduta||U.conduta||"").trim()};(ve.medicamentos||U.medicamentos)&&(Se.medicamentos_uso=(ve.medicamentos||U.medicamentos).trim()),ve.alergias&&(Se.alergias=ve.alergias),ve.exames&&(Se.exames_solicitados=ve.exames),ve.retorno&&(Se.data_retorno=ve.retorno);let Re=null;if(b)try{const ke=await xt.criarProntuario(Se);Re=(ke==null?void 0:ke.id)||((X=ke==null?void 0:ke.data)==null?void 0:X.id)}catch(ke){console.warn("Falha ao criar prontuário:",ke)}const Ee=new Date,Le=new Date(Ee.getFullYear(),Ee.getMonth(),Ee.getDate()+7),st=ke=>String(ke).padStart(2,"0"),ut=`${Le.getFullYear()}-${st(Le.getMonth()+1)}-${st(Le.getDate())}`,He=ve.medicamentos||U.medicamentos||"",Xt=ve.posologia||U.posologia||"",Ht=ve.diagnostico||U.diagnostico||"",Vt=ve.conduta||U.conduta||"",pa=ve.queixa||U.queixa||"",$a=ve.historia||U.historia||"";if(b&&(He||Xt))try{await xt.criarReceita({consulta_id:b,paciente:t,paciente_id:t,medicamentos:He,posologia:Xt,validade:ut,observacoes:"Receita gerada automaticamente a partir do resumo da consulta."})}catch(ke){console.warn("Falha ao criar receita automática:",ke)}try{localStorage.removeItem(Y)}catch{}s(`/medico/paciente/${t}/consulta/resumo`,{state:{resumo:{medicamentos:He,posologia:Xt,validade:ut,diagnostico:Ht,conduta:Vt,queixa:pa,historia:$a},consultaId:b,prontuarioId:Re}})}catch(le){console.error("Erro ao salvar prontuário/consulta:",le);const ve=new Date,Se=new Date(ve.getFullYear(),ve.getMonth(),ve.getDate()+7),Re=Vt=>String(Vt).padStart(2,"0"),Ee=`${Se.getFullYear()}-${Re(Se.getMonth()+1)}-${Re(Se.getDate())}`,Le=m.medicamentos||U.medicamentos||"",st=m.posologia||U.posologia||"",ut=m.diagnostico||U.diagnostico||"",He=m.conduta||U.conduta||"",Xt=m.queixa||U.queixa||"",Ht=m.historia||U.historia||"";s(`/medico/paciente/${t}/consulta/resumo`,{state:{resumo:{medicamentos:Le,posologia:st,validade:Ee,diagnostico:ut,conduta:He,queixa:Xt,historia:Ht},consultaId:b}})}finally{n(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nova Consulta"}),e.jsxs("p",{className:"text-muted-foreground",children:["Paciente ID: ",t,b?` • Consulta #${b}`:""]})]}),e.jsx(am,{patientId:t,isPacienteView:!1,profile:M==null?void 0:M.user,patient:M,loading:!M}),e.jsxs(ne,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0",children:[e.jsxs("div",{children:[e.jsx(he,{children:"Transcrição de Áudio (tempo real)"}),e.jsx(rt,{children:"Fale normalmente; o texto aparecerá abaixo e pode ser editado."}),k&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Microfone: ",k]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`flex items-center gap-1 text-sm ${C?"text-green-600":"text-muted-foreground"}`,children:[e.jsx(wE,{className:`h-4 w-4 ${C?"animate-pulse":""}`}),C?"Ouvindo":"Pausado"]}),C?e.jsxs(Z,{type:"button",variant:"outline",size:"sm",onClick:W,children:[e.jsx(OE,{className:"h-4 w-4 mr-2"})," Pausar"]}):e.jsxs(Z,{type:"button",variant:"default",size:"sm",onClick:A,children:[e.jsx(IE,{className:"h-4 w-4 mr-2"})," Retomar"]}),e.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:te,children:"Testar microfone"}),e.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>{W(),setTimeout(()=>A(),250)},children:"Resetar microfone"})]})]}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"transcript",children:"Resumo em tempo real"}),e.jsx(Pt,{id:"transcript",placeholder:"O que você ditar será transcrito aqui. Você pode editar livremente.",className:"min-h-[160px]",value:y,onChange:V=>w(V.target.value)}),I&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1","aria-live":"polite",children:["Ditando: ",I]})]})})]}),e.jsxs("form",{onSubmit:J,children:[e.jsxs(Wr,{value:p,onValueChange:h,className:"space-y-4",children:[e.jsxs(Yr,{children:[e.jsxs(Dt,{value:"anamnese",className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-4 w-4"}),"Anamnese"]}),e.jsxs(Dt,{value:"exame-fisico",className:"flex items-center gap-2",children:[e.jsx(en,{className:"h-4 w-4"}),"Exame Físico"]}),e.jsxs(Dt,{value:"diagnostico",className:"flex items-center gap-2",children:[e.jsx(va,{className:"h-4 w-4"}),"Diagnóstico"]})]}),e.jsx(Mt,{value:"anamnese",children:e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Anamnese"}),e.jsx(rt,{children:"Registre a queixa principal e o histórico do paciente"})]}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"queixa",children:"Queixa Principal"}),e.jsx(Pt,{id:"queixa",placeholder:"Descreva a queixa principal do paciente",className:"min-h-[100px]",value:m.queixa,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"historia",children:"História da Doença Atual"}),e.jsx(Pt,{id:"historia",placeholder:"Descreva a história da doença atual",className:"min-h-[150px]",value:m.historia,onChange:g})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"medicamentos",children:"Medicamentos em Uso"}),e.jsx(Pt,{id:"medicamentos",placeholder:"Liste os medicamentos em uso",className:"min-h-[100px]",value:m.medicamentos,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"alergias",children:"Alergias"}),e.jsx(Pt,{id:"alergias",placeholder:"Liste as alergias conhecidas",className:"min-h-[100px]",value:m.alergias,onChange:g}),e.jsx("div",{className:"mt-2",children:e.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>L(!0),children:"Adicionar alergia"})})]})]})]})]})}),e.jsx(Mt,{value:"exame-fisico",children:e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Exame Físico"}),e.jsx(rt,{children:"Registre os dados do exame físico do paciente"})]}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"pressao",children:"Pressão Arterial"}),e.jsx(ge,{id:"pressao",placeholder:"Ex: 120/80 mmHg",value:m.pressao,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"frequencia-cardiaca",children:"Freq. Cardíaca"}),e.jsx(ge,{id:"frequencia-cardiaca",placeholder:"Ex: 75 bpm",value:m["frequencia-cardiaca"],onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"temperatura",children:"Temperatura"}),e.jsx(ge,{id:"temperatura",placeholder:"Ex: 36.5 °C",value:m.temperatura,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"saturacao",children:"Saturação O2"}),e.jsx(ge,{id:"saturacao",placeholder:"Ex: 98%",value:m.saturacao,onChange:g})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"exame-geral",children:"Exame Geral"}),e.jsx(Pt,{id:"exame-geral",placeholder:"Descreva o estado geral do paciente",className:"min-h-[100px]",value:m["exame-geral"],onChange:g})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"sistema-cardiovascular",children:"Sistema Cardiovascular"}),e.jsx(Pt,{id:"sistema-cardiovascular",placeholder:"Descreva os achados cardiovasculares",className:"min-h-[100px]",value:m["sistema-cardiovascular"],onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"sistema-respiratorio",children:"Sistema Respiratório"}),e.jsx(Pt,{id:"sistema-respiratorio",placeholder:"Descreva os achados respiratórios",className:"min-h-[100px]",value:m["sistema-respiratorio"],onChange:g})]})]})]})]})}),e.jsx(Mt,{value:"diagnostico",id:"problems_and_diagnostics",children:e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Diagnóstico e Conduta"}),e.jsx(rt,{children:"Registre o diagnóstico e plano terapêutico"})]}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"diagnostico",children:"Diagnóstico"}),e.jsx(Pt,{id:"diagnostico",placeholder:"Descreva o diagnóstico principal e diferenciais",className:"min-h-[100px]",value:m.diagnostico,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"conduta",children:"Conduta"}),e.jsx(Pt,{id:"conduta",placeholder:"Descreva a conduta terapêutica",className:"min-h-[150px]",value:m.conduta,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"exames",children:"Exames Solicitados"}),e.jsx(Pt,{id:"exames",placeholder:"Liste os exames solicitados",className:"min-h-[100px]",value:m.exames,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"retorno",children:"Retorno"}),e.jsx(Ja,{id:"retorno",name:"retorno",className:"max-w-xs",value:m.retorno,onChange:V=>g({target:{name:"retorno",value:V}}),minDate:new Date})]})]})]})})]}),e.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-10 border-t bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx(Z,{type:"button",variant:"outline",onClick:()=>s(-1),children:"Cancelar"}),e.jsx(Z,{type:"submit",disabled:r,children:r?e.jsx(e.Fragment,{children:"Salvando..."}):e.jsxs(e.Fragment,{children:[e.jsx(Ab,{className:"mr-2 h-4 w-4"}),c?"Salvar Prontuário":"Finalizar e Preencher com IA"]})})]})})]}),e.jsx(Ii,{open:T,onOpenChange:L,children:e.jsxs(Jn,{children:[e.jsxs(Zn,{children:[e.jsx(ei,{children:"Adicionar alergia"}),e.jsx(oc,{children:"Informe a alergia para adicionar ao prontuário (e ao cadastro do paciente)."})]}),e.jsxs("div",{className:"space-y-2 py-2",children:[e.jsx(ue,{htmlFor:"nova-alergia",children:"Alergia"}),e.jsx(ge,{id:"nova-alergia",placeholder:"Ex.: Dipirona",value:H,onChange:V=>Q(V.target.value)})]}),e.jsxs(Li,{children:[e.jsx(Z,{type:"button",variant:"outline",onClick:()=>{L(!1),Q("")},children:"Cancelar"}),e.jsx(Z,{type:"button",onClick:K,children:"Salvar"})]})]})})]})}function J1(){const t=new Date,s=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${t.getFullYear()}-${s}-${a}`}function xI(t){if(!t)return"";const s=String(t).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(s){const[,a,r,n]=s;return`${n}/${r}/${a}`}try{return new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return t}}function gI(t){return(t===J1()?xt.getConsultasHoje():xt.getConsultasDoMedico({date:t})).then(r=>{const o=(c=>Array.isArray(c)?c:!c||typeof c!="object"?[]:Array.isArray(c.results)?c.results:Array.isArray(c.data)?c.data:Array.isArray(c.items)?c.items:Array.isArray(c.consultas)?c.consultas:Array.isArray(c.content)?c.content:Array.isArray(c.objects)?c.objects:[])(r);return Array.isArray(o)?o.map(c=>{var j,b,y,w,C;const d=((j=c==null?void 0:c.paciente)==null?void 0:j.user)||{},m=[d.first_name,d.last_name].filter(Boolean).join(" ")||((b=c==null?void 0:c.paciente)==null?void 0:b.nome)||(c==null?void 0:c.paciente_nome)||(c==null?void 0:c.nome_paciente)||"Paciente";let f="";const p=(c==null?void 0:c.data_hora)||(c==null?void 0:c.horario)||(c==null?void 0:c.inicio)||(c==null?void 0:c.start_time)||(c==null?void 0:c.data)||(c==null?void 0:c.inicio_previsto);if(p)try{const S=new Date(p);if(!isNaN(S.getTime()))f=S.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});else throw new Error("invalid date")}catch{const S=String(p).match(/\b(\d{2}:\d{2})\b/);f=S?S[1]:""}const h=String((c==null?void 0:c.status)||(c==null?void 0:c.situacao)||"").toLowerCase();let g="pendente";return h.includes("andamento")?g="em_andamento":h.includes("finaliz")||h.includes("conclu")||h.includes("cancel")||h.includes("faltou")?g="finalizado":g="pendente",{id:c.id||c.consulta_id||c.uuid,paciente:{id:((y=c==null?void 0:c.paciente)==null?void 0:y.id)||(c==null?void 0:c.paciente_id),nome:m.trim(),avatarUrl:((w=c==null?void 0:c.paciente)==null?void 0:w.avatar_url)||((C=c==null?void 0:c.paciente)==null?void 0:C.foto)||(c==null?void 0:c.paciente_avatar)||null},hora:f,status:g}}):[]})}function vI({status:t}){const s={pendente:"bg-amber-100 text-amber-700",em_andamento:"bg-emerald-100 text-emerald-700",finalizado:"bg-gray-100 text-gray-600"},a={pendente:"Pendente",em_andamento:"Em Andamento",finalizado:"Finalizado"};return e.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${s[t]}`,children:a[t]})}function yI({url:t,name:s}){return t?e.jsx("img",{src:t,alt:`Avatar de ${s}`,className:"h-14 w-14 rounded-full object-cover"}):e.jsxs("svg",{className:"h-14 w-14 rounded-full bg-gray-100 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":!0,children:[e.jsx("circle",{cx:"12",cy:"8",r:"4"}),e.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]})}function bI(){return e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"})]})}function jI({onRetry:t}){return e.jsxs("div",{className:"mt-10 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:["Ocorreu um erro ao carregar as consultas.",e.jsx("button",{className:"ml-3 rounded-md bg-red-600 px-3 py-1 text-white",onClick:t,children:"Tentar novamente"})]})}function wI(){return e.jsx("div",{className:"mt-12 rounded-2xl border bg-white p-10 text-center text-gray-500",children:"Nenhuma consulta encontrada para este dia."})}function NI({children:t,...s}){return e.jsx("button",{...s,className:"rounded-lg bg-blue-600 px-4 py-2 text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-200",children:t})}function Ty({children:t,...s}){return e.jsx("button",{...s,className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 shadow-sm transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:t})}function SI({consulta:t,onIniciar:s}){const a=x.useMemo(()=>{if(!t.hora)return"";try{const[n,o]=String(t.hora).split(":"),c=new Date;return c.setHours(Number(n),Number(o),0,0),c.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return t.hora}},[t.hora]),r=()=>t.status==="pendente"?e.jsx(NI,{onClick:()=>s(t),"aria-label":`Iniciar consulta de ${t.paciente.nome} às ${t.hora}`,children:"Iniciar Consulta"}):t.status==="em_andamento"?e.jsx(Ty,{disabled:!0,children:"Em Andamento"}):e.jsx(Ty,{disabled:!0,children:"Finalizado"});return e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-white p-5 shadow-md transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(yI,{url:t.paciente.avatarUrl,name:t.paciente.nome}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.paciente.nome}),e.jsx("div",{className:"mt-1 text-sm text-gray-500",children:a})]})]}),e.jsxs("div",{className:"flex flex-col items-stretch gap-3 md:flex-row md:items-center",children:[e.jsx(vI,{status:t.status}),r()]})]})}function CI(){const t=Fa(),[s,a]=x.useState(J1()),[r,n]=x.useState("todos"),[o,c]=x.useState(!0),[d,m]=x.useState(null),[f,p]=x.useState([]),h=async()=>{c(!0),m(null);try{const y=await gI(s);p(y)}catch(y){m(y)}finally{c(!1)}};x.useEffect(()=>{h()},[s]);const g=async y=>{var w;try{y!=null&&y.id&&await xt.iniciarConsulta(y.id)}catch(C){console.error("Falha ao iniciar consulta no backend:",C)}finally{try{const C=y==null?void 0:y.id,S=(w=y==null?void 0:y.paciente)==null?void 0:w.id,k=C?`/medico/paciente/${S}/iniciar-consulta?consultaId=${C}`:`/medico/paciente/${S}/iniciar-consulta`;t(k)}catch{console.log("Iniciar consulta (fallback navegação)",y==null?void 0:y.id)}}},j=xI(s),b=f.filter(y=>r==="todos"?!0:y.status===r);return e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-blue-50 p-2 text-blue-600",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas de Hoje"}),e.jsx("span",{className:"text-sm text-gray-500",children:j})]}),e.jsx("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:e.jsxs("div",{className:"flex w-full gap-3 md:w-auto",children:[e.jsxs("div",{className:"relative w-full md:w-60",children:[e.jsxs("select",{value:r,onChange:y=>n(y.target.value),className:"w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[e.jsx("option",{value:"todos",children:"Filtrar por status"}),e.jsx("option",{value:"pendente",children:"Pendentes"}),e.jsx("option",{value:"em_andamento",children:"Em Andamento"}),e.jsx("option",{value:"finalizado",children:"Finalizadas"})]}),e.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.25 4.417a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),e.jsx(Ja,{value:s,onChange:y=>a(y),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:w-auto"})]})}),o&&e.jsx(bI,{}),!o&&d&&e.jsx(jI,{onRetry:h}),!o&&!d&&b.length===0&&e.jsx(wI,{}),!o&&!d&&b.length>0&&e.jsx("div",{className:"mt-6 space-y-4",children:b.map(y=>e.jsx(SI,{consulta:y,onIniciar:g},y.id))})]})}const kI=async()=>(await yo(async()=>{const{default:t}=await import("./localAgent-BAfHm82I.js");return{default:t}},[])).default;function _I(){var Fe,Ze,Qt;const[t,s]=x.useState(!1),[a,r]=x.useState(null),[n,o]=x.useState(""),[c,d]=x.useState(null),[m,f]=x.useState(""),{id:p}=Os(),h=Pa(),{toast:g}=ta(),[j,b]=x.useState(null),y=async We=>{const Ke=await We.arrayBuffer(),lt=await crypto.subtle.digest("SHA-256",Ke);return Array.from(new Uint8Array(lt)).map(Te=>Te.toString(16).padStart(2,"0")).join("")},w=((Fe=h.state)==null?void 0:Fe.fromConsulta)||{},C=((Ze=h.state)==null?void 0:Ze.consultaId)||w.consultaId,S=We=>{if(!We)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(We))return We;const Ke=new Date(We);if(!isNaN(Ke)){const Te=Ke.getFullYear(),et=String(Ke.getMonth()+1).padStart(2,"0"),be=String(Ke.getDate()).padStart(2,"0");return`${Te}-${et}-${be}`}const lt=String(We).match(/^(\d{2})\/(\d{2})\/(\d{4})$/);return lt?`${lt[3]}-${lt[2]}-${lt[1]}`:""},k=We=>{if(!We)return"";const Ke=new Date(We);if(isNaN(Ke))return"";const lt=new Date;let Te=lt.getFullYear()-Ke.getFullYear();const et=lt.getMonth()-Ke.getMonth(),be=lt.getDate()-Ke.getDate();(et<0||et===0&&be<0)&&Te--;let Aa=new Date(lt.getFullYear(),Ke.getMonth(),Ke.getDate());Aa>lt&&(Aa=new Date(lt.getFullYear()-1,Ke.getMonth(),Ke.getDate()));const Oa=1440*60*1e3,da=Math.floor((lt-Aa)/Oa);return`${Te} anos e ${da} dias`},P=x.useMemo(()=>new Date().toLocaleDateString(),[]),R=We=>{for(const Ke of We){if(Ke==null)continue;const lt=typeof Ke=="string"?Ke.trim():Ke;if(lt)return typeof lt=="string"?lt:String(lt)}return""},[D,E]=x.useState({nome_paciente:"",idade:"",rg:"",data_nascimento:"",medicamento:w.medicamentos||"",posologia:w.posologia||"",validade_receita:w.validade||"",medico:"",crm:"",endereco_consultorio:"",telefone_consultorio:"",observacoes:"",formato:"pdf",acao:"imprimir",email_paciente:"",email_medico:""}),[O,I]=x.useState(!1),[z,B]=x.useState(!0),[Y,$]=x.useState(!1),[M,G]=x.useState(!1),[T,L]=x.useState("token"),[H,Q]=x.useState(""),[te,A]=x.useState(""),[W,re]=x.useState(""),[K,J]=x.useState(""),[V,U]=x.useState(""),{ephemeralCertFile:X,setEphemeralCertFile:le,ephemeralCertPassword:ve,setEphemeralCertPassword:Se,clearEphemeralCert:Re}=Ps(),[Ee,Le]=x.useState(X||null),[st,ut]=x.useState(ve||"");x.useEffect(()=>{le(Ee)},[Ee,le]),x.useEffect(()=>{Se(st)},[st,Se]);const[He,Xt]=x.useState(null),[Ht,Vt]=x.useState(null),[pa,$a]=x.useState({ok:!0,errors:[],expected:{medicoId:null,pacienteId:p,consultaId:C}});x.useEffect(()=>{let We=!0;async function Ke(){var lt,Te,et,be,Aa,Oa,da,ia,ha,ba,Gr,ai,Fi,cc,dc,uc,us,zo,Bo,mc,Uo,Ho,Vo,Wo;B(!0);try{try{const Pe=await xt.getPerfil(),xe=(Pe==null?void 0:Pe.user)||(Pe==null?void 0:Pe.usuario)||{},mt=R([`${(xe==null?void 0:xe.first_name)||""} ${(xe==null?void 0:xe.last_name)||""}`.trim(),Pe==null?void 0:Pe.nome,Pe==null?void 0:Pe.nome_completo,Pe==null?void 0:Pe.full_name,Pe==null?void 0:Pe.name]),ze=R([Pe==null?void 0:Pe.crm,Pe==null?void 0:Pe.matricula,Pe==null?void 0:Pe.registro,Pe==null?void 0:Pe.crm_numero,xe==null?void 0:xe.crm]),Ka=R([Pe==null?void 0:Pe.endereco_consultorio,Pe==null?void 0:Pe.consultorio_endereco,Pe==null?void 0:Pe.endereco,xe==null?void 0:xe.endereco,(lt=Pe==null?void 0:Pe.clinica)==null?void 0:lt.endereco]),oa=R([Pe==null?void 0:Pe.telefone_consultorio,Pe==null?void 0:Pe.consultorio_telefone,Pe==null?void 0:Pe.telefone,xe==null?void 0:xe.telefone,xe==null?void 0:xe.phone,(Te=Pe==null?void 0:Pe.clinica)==null?void 0:Te.telefone,Pe==null?void 0:Pe.celular]),ja=R([xe==null?void 0:xe.email_institucional,xe==null?void 0:xe.email,Pe==null?void 0:Pe.email_institucional,Pe==null?void 0:Pe.email,Pe==null?void 0:Pe.contato_email]),zt=((et=Pe==null?void 0:Pe.medico)==null?void 0:et.id)||(Pe==null?void 0:Pe.id)||null;We&&Pe&&(E(Ba=>({...Ba,medico:mt||Ba.medico,crm:ze||Ba.crm,endereco_consultorio:Ka||Ba.endereco_consultorio||"",telefone_consultorio:oa||Ba.telefone_consultorio||"",email_medico:ja||Ba.email_medico||""})),$a(Ba=>({...Ba,expected:{...Ba.expected,medicoId:zt}})))}catch{}try{const Pe="/api/pacientes/".replace(/\/?$/,"/");let xe=null,mt=null;try{const{data:ze}=await ce.get(`${Pe}${p}/`);xe=ze}catch{}if(!xe){const ze=[{id:p},{paciente_id:p},{user:p},{usuario:p},{user__id:p},{usuario_id:p}];for(const Ka of ze)try{const{data:oa}=await ce.get(Pe,{params:Ka}),ja=Array.isArray(oa==null?void 0:oa.results)?oa.results:Array.isArray(oa)?oa:[];if(ja!=null&&ja.length){xe=ja[0];break}if(oa!=null&&oa.id){xe=oa;break}}catch{}}if(!xe&&C)try{const{data:ze}=await ce.get(`/consultas/${C}/`);mt=ze;const Ka=(ze==null?void 0:ze.paciente)||(ze!=null&&ze.paciente_id?{id:ze.paciente_id}:null);Ka&&(xe=Ka)}catch{}if(!xe&&(w!=null&&w.paciente)&&(xe=w.paciente),We&&xe){const ze=(xe==null?void 0:xe.user)||(xe==null?void 0:xe.usuario)||{},Ka=R([ze==null?void 0:ze.display_name,`${(ze==null?void 0:ze.first_name)||""} ${(ze==null?void 0:ze.last_name)||""}`.trim(),ze==null?void 0:ze.nome,ze==null?void 0:ze.nome_completo,xe==null?void 0:xe.nome,xe==null?void 0:xe.nome_completo,xe==null?void 0:xe.name]),oa=S((ze==null?void 0:ze.data_nascimento)||(ze==null?void 0:ze.nascimento)||(ze==null?void 0:ze.dob)||(xe==null?void 0:xe.data_nascimento)||(xe==null?void 0:xe.nascimento)||(xe==null?void 0:xe.dob)||"");let ja=R([ze==null?void 0:ze.cpf,(be=ze==null?void 0:ze.profile)==null?void 0:be.cpf,(Aa=ze==null?void 0:ze.meu_app_user)==null?void 0:Aa.cpf,(Oa=ze==null?void 0:ze.dados)==null?void 0:Oa.cpf,xe==null?void 0:xe.cpf,(da=xe==null?void 0:xe.profile)==null?void 0:da.cpf,(ia=xe==null?void 0:xe.meu_app_user)==null?void 0:ia.cpf,(ha=xe==null?void 0:xe.dados)==null?void 0:ha.cpf,(ba=xe==null?void 0:xe.usuario)==null?void 0:ba.cpf,(ai=(Gr=xe==null?void 0:xe.usuario)==null?void 0:Gr.profile)==null?void 0:ai.cpf,(cc=(Fi=xe==null?void 0:xe.usuario)==null?void 0:Fi.meu_app_user)==null?void 0:cc.cpf,(dc=w==null?void 0:w.paciente)==null?void 0:dc.cpf,w==null?void 0:w.cpf,xe==null?void 0:xe.documento,xe==null?void 0:xe.doc,xe==null?void 0:xe.rg]);if(!ja)try{let wa=null;const dr=ze&&typeof ze=="object"&&Object.keys(ze).length>0;if(typeof ze=="number"||typeof ze=="string"?wa=ze:dr&&(wa=ze.id||ze.pk||ze.user||ze.usuario||null),wa||(wa=((uc=xe==null?void 0:xe.usuario)==null?void 0:uc.id)||((us=xe==null?void 0:xe.user)==null?void 0:us.id)||(xe==null?void 0:xe.usuario_id)||(xe==null?void 0:xe.user_id)||(typeof(xe==null?void 0:xe.usuario)=="number"||typeof(xe==null?void 0:xe.usuario)=="string"?xe.usuario:null)||(typeof(xe==null?void 0:xe.user)=="number"||typeof(xe==null?void 0:xe.user)=="string"?xe.user:null)),wa){const sm="/api/users/".replace(/\/?$/,"/"),{data:la}=await ce.get(`${sm}${wa}/`);ja=R([la==null?void 0:la.cpf,(zo=la==null?void 0:la.profile)==null?void 0:zo.cpf,(Bo=la==null?void 0:la.meu_app_user)==null?void 0:Bo.cpf,(mc=la==null?void 0:la.dados)==null?void 0:mc.cpf])||ja}}catch{}const zt=(ze==null?void 0:ze.email)||(xe==null?void 0:xe.email)||"",Ba=oa?k(oa):"";E(wa=>({...wa,nome_paciente:Ka||wa.nome_paciente,data_nascimento:oa||wa.data_nascimento,rg:wa.rg||ja,idade:wa.idade||Ba,email_paciente:wa.email_paciente||zt}))}try{const ze=zt=>zt==null?null:String(zt),Ka=[];let oa=null,ja=null;if(mt)oa=((Uo=mt==null?void 0:mt.medico)==null?void 0:Uo.id)||(mt==null?void 0:mt.medico)||(mt==null?void 0:mt.medico_id)||null,ja=((Ho=mt==null?void 0:mt.paciente)==null?void 0:Ho.id)||(mt==null?void 0:mt.paciente)||(mt==null?void 0:mt.paciente_id)||null;else if(C)try{const{data:zt}=await ce.get(`/consultas/${C}/`);oa=((Vo=zt==null?void 0:zt.medico)==null?void 0:Vo.id)||(zt==null?void 0:zt.medico)||(zt==null?void 0:zt.medico_id)||null,ja=((Wo=zt==null?void 0:zt.paciente)==null?void 0:Wo.id)||(zt==null?void 0:zt.paciente)||(zt==null?void 0:zt.paciente_id)||null}catch{}ja&&String(ja)!==String(p)&&Ka.push("Paciente da consulta não corresponde ao paciente exibido."),$a(zt=>{var wa,dr;const Ba=(wa=zt.expected)==null?void 0:wa.medicoId;return Ba&&oa&&ze(Ba)!==ze(oa)&&Ka.push("Médico da consulta não corresponde ao médico logado."),{ok:Ka.length===0,errors:Ka,expected:{...zt.expected,pacienteId:p,consultaId:C,medicoId:Ba||((dr=zt.expected)==null?void 0:dr.medicoId)||null}}})}catch{}}catch{}}finally{We&&B(!1)}}return Ke(),()=>{We=!1}},[p,C]);const ke=We=>{const{name:Ke,value:lt}=We.target;E(Te=>({...Te,[Ke]:lt})),t&&(s(!1),r(null),o(""),Vt(null),j&&xt.atualizarReceita(j,{assinada:!1}).catch(()=>{}),g({title:"Assinatura invalidada",description:"A receita foi alterada. Assine novamente para validade jurídica."}))},na=()=>{I(!0),g({title:"Receita validada",description:"Os dados foram conferidos. Você pode gerar o documento."})},za=(We,Ke="Receita_Medica")=>{const lt=URL.createObjectURL(We),Te=document.createElement("a");Te.href=lt;const et=/\.[a-z0-9]+$/i.test(Ke);Te.download=et?Ke:`${Ke}.pdf`,document.body.appendChild(Te),Te.click(),Te.remove(),setTimeout(()=>URL.revokeObjectURL(lt),2e3)},Tt=()=>{var We;return pa!=null&&pa.ok||g({title:"Vínculo inválido",description:((We=pa.errors)==null?void 0:We.join(` 
`))||"Verifique dados da consulta, médico e paciente.",variant:"destructive"}),!0},cr=async()=>{var We;try{if(j)return j;const Ke=await xt.getPerfil().catch(()=>null),lt=((We=Ke==null?void 0:Ke.medico)==null?void 0:We.id)||(Ke==null?void 0:Ke.id)||null,Te={paciente_id:p,consulta_id:C||void 0,medico_id:lt||void 0,nome_paciente:D.nome_paciente,cpf:D.rg,data_nascimento:S(D.data_nascimento),medicamento:D.medicamento,posologia:D.posologia,validade:S(D.validade_receita),observacoes:D.observacoes,medico:D.medico,crm:D.crm,endereco_consultorio:D.endereco_consultorio,telefone_consultorio:D.telefone_consultorio,email_paciente:D.email_paciente||void 0},et=await xt.criarReceita(Te),be=(et==null?void 0:et.id)||(et==null?void 0:et.receita_id)||(et==null?void 0:et.uuid);return be&&b(be),be||null}catch{return j||null}},Ft=async()=>{var We,Ke,lt;if(Tt()){$(!0);try{const Te={nome_paciente:D.nome_paciente,idade:D.idade,rg:D.rg,cpf:D.rg,data_nascimento:S(D.data_nascimento),medicamento:D.medicamento,medicamentos:D.medicamento,posologia:D.posologia,medico:D.medico,crm:D.crm,endereco_consultorio:D.endereco_consultorio,telefone_consultorio:D.telefone_consultorio,validade_receita:S(D.validade_receita),observacoes:D.observacoes},et=await xt.gerarDocumentoReceita(Te),be=et==null?void 0:et.blob,Aa=(et==null?void 0:et.filename)||`Receita_${D.nome_paciente||"Medica"}.pdf`;if(!(be instanceof Blob))throw new Error("Resposta inválida do servidor ao gerar PDF.");const Oa=await cr();let da=be,ia=Aa,ha=!1;if(String(D.formato).toLowerCase()==="pdf"&&(ha=!1),d(da),f(ia),ha){s(!0),r(da),o(ia);try{const ba=await y(be),Gr=await y(da);Oa&&(await xt.atualizarReceita(Oa,{assinada:!0,hash_alg:"SHA-256",hash_pre:ba,hash_signed:Gr}),await xt.registrarAuditoriaAssinatura({receita_id:Oa,valido:!0,hash_alg:"SHA-256",hash_pre:ba,hash_signed:Gr,motivo:"Receita Médica",arquivo:ia}))}catch{}}else s(!1),r(null),o("");if(D.acao==="imprimir")try{const ba=URL.createObjectURL(da);if(!window.open(ba))throw new Error("Popup bloqueado pelo navegador");setTimeout(()=>URL.revokeObjectURL(ba),2e3)}catch{za(da,ia)}else za(da,ia);g({title:"Documento gerado",description:da===be?"Gerado sem assinatura.":"Gerado e assinado com sucesso."})}catch(Te){const et=(We=Te==null?void 0:Te.response)==null?void 0:We.status,be=((lt=(Ke=Te==null?void 0:Te.response)==null?void 0:Ke.data)==null?void 0:lt.detail)||(Te==null?void 0:Te.message)||"Falha ao gerar documento";g({title:"Erro",description:`${be}${et?` [HTTP ${et}]`:""}`,variant:"destructive"})}finally{$(!1)}}},vr=()=>{G(!0)},[$t,Jt]=x.useState(!1),[Kr,fn]=x.useState(!1),[ti,$o]=x.useState([]),[Ae,De]=x.useState(null);x.useEffect(()=>{if(!M)return;let We=!1;async function Ke(){try{fn(!0);const Te=await(await kI()).detectTokens(),et=Array.isArray(Te==null?void 0:Te.tokens)?Te.tokens:Array.isArray(Te)?Te:[];!We&&et.length>0?(Jt(!0),$o(et),De(et[0]),L("token")):We||(Jt(!1),L("pfx"))}catch{We||(Jt(!1),L("pfx"))}finally{We||fn(!1)}}return Ke(),()=>{We=!0}},[M]);async function Ve(){var We,Ke,lt;try{if(c||await Ft(),!c){g({title:"Falha",description:"Gere o documento antes de assinar.",variant:"destructive"});return}if(T==="pfx"){if(!Ee){g({title:"Certificado ausente",description:"Selecione o arquivo .pfx/.p12.",variant:"destructive"});return}const ia=String((Ee==null?void 0:Ee.name)||"").toLowerCase();if(!(ia.endsWith(".pfx")||ia.endsWith(".p12"))){g({title:"Arquivo inválido",description:"Apenas .pfx ou .p12 são aceitos.",variant:"destructive"});return}const ba=10*1024*1024;if(Ee.size>ba){g({title:"Arquivo muito grande",description:"Limite de 10 MB para PFX.",variant:"destructive"});return}if(!st||!st.trim()){g({title:"Senha obrigatória",description:"Informe a senha do certificado PFX.",variant:"destructive"});return}if(st.trim().length<4){g({title:"Senha fraca",description:"A senha deve ter pelo menos 4 caracteres.",variant:"destructive"});return}}if(T==="token"){if(!$t){g({title:"Agente local indisponível",description:"Instale e execute o agente de assinatura A3 para prosseguir.",variant:"destructive"});return}if(!H||H.trim().length<4){g({title:"PIN inválido",description:"O PIN do token deve possuir ao menos 4 dígitos.",variant:"destructive"});return}}const Te=await cr(),et=await xt.applySignatureStamp(c,{signerName:D.medico||void 0,receitaId:Te||void 0}),be=new File([et],m||`Receita_${D.nome_paciente||"Medica"}.pdf`,{type:"application/pdf"});$(!0);const Aa={motivo:"Receita Médica",local:D.endereco_consultorio||"Consultório",receitaId:Te||void 0};T==="token"?(Aa.useToken=!0,Aa.pin=H||void 0):(Aa.pfxFile=Ee||void 0,Aa.pfxPassword=st||"");const{filename:Oa,blob:da}=await xt.signDocumento(be,Aa);s(!0),r(da),o(Oa||m||be.name),Vt(new Date().toISOString());try{const ia=await xt.getCertificadoInfo();Xt(ia||null)}catch{}try{const ia=await y(c),ha=await y(da);Te&&(await xt.atualizarReceita(Te,{assinada:!0,hash_alg:"SHA-256",hash_pre:ia,hash_signed:ha,motivo:"Receita Médica"}),await xt.registrarAuditoriaAssinatura({receita_id:Te,valido:!0,hash_alg:"SHA-256",hash_pre:ia,hash_signed:ha,motivo:"Receita Médica",arquivo:Oa}))}catch{}Re(),g({title:"Documento assinado",description:"Assinatura digital aplicada com sucesso."}),G(!1)}catch(Te){const et=(We=Te==null?void 0:Te.response)==null?void 0:We.status,be=((lt=(Ke=Te==null?void 0:Te.response)==null?void 0:Ke.data)==null?void 0:lt.detail)||(Te==null?void 0:Te.message)||"Falha ao assinar o documento";console.warn("[PreviewReceita] Erro assinatura:",et,be),g({title:"Erro na assinatura",description:`${be}${et?` [HTTP ${et}]`:""}`,variant:"destructive"})}finally{$(!1)}}async function At(){var We,Ke,lt;if(Tt()){if(!t||!(a instanceof Blob)){g({title:"Assinatura obrigatória",description:"A receita precisa ser assinada antes do envio ao paciente.",variant:"destructive"});return}$(!0);try{const Te=await cr(),et=a,be=n||m||`Receita_${D.nome_paciente||"Medica"}_assinada.pdf`;await xt.enviarReceita({receitaId:Te||void 0,pacienteId:p,email:D.email_paciente||void 0,formato:"pdf",file:et,filename:be}),g({title:"Receita enviada",description:"A receita assinada foi enviada ao paciente com sucesso."}),navigate(`/medico/paciente/${p}/receita/confirmacao`,{state:{receitaId:Te||null,email:D.email_paciente||null,filename:be}})}catch(Te){const et=(We=Te==null?void 0:Te.response)==null?void 0:We.status,be=((lt=(Ke=Te==null?void 0:Te.response)==null?void 0:Ke.data)==null?void 0:lt.detail)||(Te==null?void 0:Te.message)||"Falha ao enviar a receita assinada";g({title:"Erro ao enviar",description:`${be}${et?` [HTTP ${et}]`:""}`,variant:"destructive"})}finally{$(!1)}}}return z?e.jsx("div",{children:"Carregando preview..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(va,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Preview da Receita"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Dados da Receita"})}),e.jsxs(ie,{className:"space-y-4",children:[pa.ok?null:e.jsxs("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 p-3 text-sm",children:[e.jsx("div",{className:"font-medium mb-1",children:"Inconsistências de vínculo detectadas"}),e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:(Qt=pa.errors)==null?void 0:Qt.map((We,Ke)=>e.jsx("li",{children:We},Ke))})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Nome do Paciente"}),e.jsx(ge,{name:"nome_paciente",value:D.nome_paciente,onChange:ke,placeholder:"João da Silva"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Idade"}),e.jsx(ge,{name:"idade",value:D.idade,onChange:ke,placeholder:"45"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"CPF"}),e.jsx(ge,{name:"rg",value:D.rg,onChange:ke,placeholder:"000.000.000-00"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Data de Nascimento"}),e.jsx(Ja,{name:"data_nascimento",value:S(D.data_nascimento),onChange:We=>ke({target:{name:"data_nascimento",value:We}}),maxDate:new Date})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Medicamentos"}),e.jsx(Pt,{name:"medicamento",rows:3,value:D.medicamento,onChange:ke,placeholder:"Nome do medicamento, dose, apresentação..."})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Posologia"}),e.jsx(Pt,{name:"posologia",rows:3,value:D.posologia,onChange:ke,placeholder:"Ex: 1 comprimido de 12/12h por 7 dias"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Validade da Receita"}),e.jsx(Ja,{name:"validade_receita",value:S(D.validade_receita),onChange:We=>ke({target:{name:"validade_receita",value:We}}),minDate:new Date})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Formato"}),e.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"formato",value:D.formato,onChange:ke,children:[e.jsx("option",{value:"pdf",children:"PDF"}),e.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Ação"}),e.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"acao",value:D.acao,onChange:ke,children:[e.jsx("option",{value:"imprimir",children:"Imprimir"}),e.jsx("option",{value:"baixar",children:"Baixar arquivo"})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"E-mail do Paciente (opcional)"}),e.jsx(ge,{name:"email_paciente",value:D.email_paciente,onChange:ke,placeholder:"paciente@exemplo.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Médico"}),e.jsx(ge,{name:"medico",value:D.medico,onChange:ke,placeholder:"Dr. Carlos Souza"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"CRM"}),e.jsx(ge,{name:"crm",value:D.crm,onChange:ke,placeholder:"12345-SP"})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"E-mail institucional (médico)"}),e.jsx(ge,{name:"email_medico",value:D.email_medico,onChange:ke,placeholder:"dr.carlos@hospital.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Endereço do Consultório"}),e.jsx(ge,{name:"endereco_consultorio",value:D.endereco_consultorio,onChange:ke,placeholder:""})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Telefone"}),e.jsx(ge,{name:"telefone_consultorio",value:D.telefone_consultorio,onChange:ke,placeholder:""})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Observações (opcional)"}),e.jsx(Pt,{name:"observacoes",rows:2,value:D.observacoes,onChange:ke,placeholder:"Orientações adicionais ao paciente"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(Z,{type:"button",variant:"secondary",onClick:()=>G(!0),children:"Configurar método de assinatura"}),e.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"Escolha PFX ou Token no modal antes de assinar."})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(Z,{type:"button",onClick:na,variant:O?"secondary":"default",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"})," ",O?"Validado":"Validar receita"]}),e.jsxs(Z,{type:"button",onClick:Ft,disabled:Y,children:[e.jsx(BE,{className:"h-4 w-4 mr-2"})," ",Y?D.acao==="imprimir"?"Imprimindo...":"Gerando...":D.acao==="imprimir"?"Imprimir":"Baixar"]}),e.jsx(Z,{type:"button",variant:"default",onClick:vr,disabled:Y,children:"Assinar Receita"}),e.jsxs(Z,{type:"button",variant:"secondary",onClick:At,disabled:Y||!t,children:[e.jsx(Ms,{className:"h-4 w-4 mr-2"})," Enviar ao paciente"]})]})]})]}),e.jsxs(ne,{className:"bg-white",children:[e.jsx(pe,{children:e.jsx(he,{children:"Pré-visualização"})}),e.jsx(ie,{children:e.jsxs("div",{className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[e.jsxs("div",{className:"text-center border-b pb-3",children:[e.jsx("div",{className:"font-bold text-lg",children:"Consultório Médico"}),e.jsx("div",{className:"font-semibold",children:D.medico}),D.crm&&e.jsxs("div",{children:["CRM: ",D.crm]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:D.endereco_consultorio}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Telefone: ",D.telefone_consultorio]}),D.email_medico?e.jsxs("div",{className:"text-sm text-muted-foreground",children:["E-mail: ",D.email_medico]}):null]}),e.jsxs("div",{className:"text-center my-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),D.nome_paciente]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Idade: "}),D.idade]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"CPF: "}),D.rg]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),D.data_nascimento]})]}),e.jsx("div",{className:"text-center text-xl font-semibold my-4",children:"Prescrição Médica"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:D.medicamento}),D.posologia?e.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:D.posologia}):null]}),e.jsxs("div",{className:"text-center my-6",children:[e.jsxs("div",{children:["Data de Emissão: ",P]}),e.jsxs("div",{children:["Validade da Receita: ",D.validade_receita||""]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:" "}),D.medico&&e.jsxs("div",{children:["Dr(a). ",D.medico,D.crm?` • CRM ${D.crm}`:""]}),t?e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Assinado digitalmente conforme ICP-Brasil",He!=null&&He.subject_name||He!=null&&He.nome||He!=null&&He.subject?e.jsxs(e.Fragment,{children:[" • Titular: ",(He==null?void 0:He.subject_name)||(He==null?void 0:He.nome)||(He==null?void 0:He.subject)]}):null,D.crm?e.jsxs(e.Fragment,{children:[" • CRM: ",D.crm]}):null,D.rg?e.jsxs(e.Fragment,{children:[" • CPF: ",D.rg]}):null,(He!=null&&He.algorithm,e.jsxs(e.Fragment,{children:[" • Algoritmo: ",(He==null?void 0:He.algorithm)||"SHA256-RSA"]})),Ht?e.jsxs(e.Fragment,{children:[" • Carimbo: ",new Date(Ht).toLocaleString()]}):null,He!=null&&He.valid_to||He!=null&&He.not_after||He!=null&&He.valid_until?e.jsxs(e.Fragment,{children:[" • Válido até: ",new Date((He==null?void 0:He.valid_to)||(He==null?void 0:He.not_after)||(He==null?void 0:He.valid_until)).toLocaleDateString()]}):null]}):e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Documento gerado. Assine para exibir o selo de assinatura digital."})]})})]})})]})]}),e.jsx(Ii,{open:M,onOpenChange:G,children:e.jsxs(Jn,{className:"sm:max-w-[640px] space-y-6",children:[e.jsxs(Zn,{children:[e.jsx(ei,{children:"Assinar receita"}),e.jsx(oc,{children:"Escolha Token (PIN) ou PFX para assinar."})]}),e.jsx(lr,{}),e.jsxs(Wr,{value:T,onValueChange:L,className:"w-full",children:[e.jsxs(Yr,{className:"grid grid-cols-2 w-full",children:[e.jsx(Dt,{value:"token",children:"Token"}),e.jsx(Dt,{value:"pfx",children:"PFX (alternativa)"})]}),e.jsx(Mt,{value:"token",children:e.jsxs("div",{className:"space-y-5 rounded-md border p-4 bg-muted/40",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"PIN do Token"}),e.jsx(ge,{type:"password",value:H,onChange:We=>Q(We.target.value),placeholder:"PIN"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Conecte seu token e insira o PIN para assinar."})]})}),e.jsx(Mt,{value:"pfx",children:e.jsxs("div",{className:"space-y-5 rounded-md border p-4 bg-muted/40",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Arquivo PFX"}),e.jsx(ge,{type:"file",accept:".pfx,.p12",onChange:We=>{var be;const Ke=((be=We.target.files)==null?void 0:be[0])||null;if(!Ke){Le(null);return}const lt=(Ke.name||"").toLowerCase(),Te=lt.endsWith(".pfx")||lt.endsWith(".p12"),et=10*1024*1024;if(!Te){g({title:"Arquivo inválido",description:"Selecione um .pfx ou .p12.",variant:"destructive"}),We.target.value="",Le(null);return}if(Ke.size>et){g({title:"Arquivo muito grande",description:"Limite de 10 MB para PFX.",variant:"destructive"}),We.target.value="",Le(null);return}Le(Ke)}}),Ee&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selecionado: ",Ee.name," (",Math.ceil(Ee.size/1024)," KB)"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(ue,{children:"Senha do PFX"})}),e.jsx(ge,{type:"password",value:st,onChange:We=>ut(We.target.value),placeholder:"Informe a senha"}),(!st||!st.trim())&&e.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatória para assinatura."})]})]})})]}),e.jsxs(Li,{children:[e.jsx(Z,{type:"button",variant:"secondary",onClick:()=>G(!1),children:"Cancelar"}),e.jsx(Z,{type:"button",onClick:Ve,disabled:Y,children:Y?"Assinando...":"Confirmar e Assinar"})]})]})})]})}function EI(){const{id:t}=Os(),s=Fa(),{state:a}=Pa(),r=(a==null?void 0:a.receitaId)||null,n=(a==null?void 0:a.email)||null,o=(a==null?void 0:a.filename)||null;return e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Receita enviada com sucesso"})}),e.jsxs(ie,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx(_s,{className:"h-5 w-5"}),e.jsx("span",{children:"O paciente recebeu a receita assinada."})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[n?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-4 w-4"}),e.jsxs("span",{children:["Enviado para: ",n]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-4 w-4"}),e.jsx("span",{children:"E-mail do paciente não informado."})]}),o?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(va,{className:"h-4 w-4"}),e.jsxs("span",{children:["Arquivo: ",o]})]}):null,r?e.jsxs("div",{className:"mt-2 text-xs",children:["ID da Receita: ",r]}):null]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(Z,{onClick:()=>s(`/medico/paciente/${t}/receita/preview`),variant:"secondary",children:"Voltar à receita"}),e.jsx(Z,{onClick:()=>s("/medico/meus-pacientes"),children:"Ir para Meus Pacientes"})]})]})]})})})}function DI(){var h,g,j;const{id:t}=Os(),s=Pa(),a=Fa();ta();const r=((h=s.state)==null?void 0:h.resumo)||{},n=(g=s.state)==null?void 0:g.consultaId,o=(j=s.state)==null?void 0:j.prontuarioId,[c,d]=x.useState({queixa:r.queixa||"",historia:r.historia||"",diagnostico:r.diagnostico||"",conduta:r.conduta||"",medicamentos:r.medicamentos||"",posologia:r.posologia||"",validade:r.validade||""}),m=b=>{const{name:y,value:w}=b.target;d(C=>({...C,[y]:w}))},f=async()=>{var b;try{if(o)try{await((b=xt.atualizarProntuario)==null?void 0:b.call(xt,o,{queixa_principal:c.queixa,historia_doenca_atual:c.historia,diagnostico_principal:c.diagnostico,conduta:c.conduta,medicamentos_uso:c.medicamentos}))}catch{}}finally{a(`/medico/paciente/${t}/receita/preview`,{state:{fromConsulta:{medicamentos:c.medicamentos,posologia:c.posologia,validade:c.validade},consultaId:n}})}},p=x.useMemo(()=>new Date().toLocaleDateString(),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ME,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Resumo da Consulta"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Informações Principais"})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Queixa Principal"}),e.jsx(Pt,{name:"queixa",rows:3,value:c.queixa,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"História da Doença Atual"}),e.jsx(Pt,{name:"historia",rows:4,value:c.historia,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Diagnóstico"}),e.jsx(Pt,{name:"diagnostico",rows:3,value:c.diagnostico,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Conduta"}),e.jsx(Pt,{name:"conduta",rows:3,value:c.conduta,onChange:m})]})]})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Prescrição"})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Medicamentos"}),e.jsx(Pt,{name:"medicamentos",rows:4,value:c.medicamentos,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Posologia"}),e.jsx(Pt,{name:"posologia",rows:3,value:c.posologia,onChange:m})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Validade da Receita"}),e.jsx(Ja,{name:"validade",value:c.validade,onChange:b=>m({target:{name:"validade",value:b}}),className:"border rounded h-10 px-3 bg-background",minDate:new Date})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{onClick:f,children:[e.jsx(_E,{className:"h-4 w-4 mr-2"})," Gerar Receita"]}),e.jsx(Z,{variant:"outline",onClick:()=>a(-1),children:"Voltar"})]})]})]})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Resumo Visual"})}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Data:"})," ",p]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Queixa:"})," ",c.queixa||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"História:"})," ",c.historia||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Diagnóstico:"})," ",c.diagnostico||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Conduta:"})," ",c.conduta||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Medicamentos:"})," ",c.medicamentos||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Posologia:"})," ",c.posologia||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Validade:"})," ",c.validade||"-"]})]})})]})]})}const or={async getDashboard(){var a;const t=[];t.push("/clinicas/dashboard/");let s;for(const r of t){const n=r.endsWith("/")?r:`${r}/`;try{return console.debug("[clinicaService] GET",n),(await ce.get(n)).data}catch(o){if(((a=o==null?void 0:o.response)==null?void 0:a.status)===404){s=o;continue}throw o}}throw s||new Error("Endpoint de dashboard da clínica não encontrado.")},getCalendario:(t,s)=>ce.get(`/clinica/calendario/?mes=${t}&ano=${s}`),getExamesPorData:t=>ce.get(`/clinica/exames/?data=${t}`),getDisponibilidade:t=>ce.get(`/clinica/disponibilidade/?data=${t}`),setDisponibilidade:(t,s)=>ce.post("/clinica/disponibilidade/",{data:t,horarios:s}),updateDisponibilidade:(t,s)=>ce.put(`/clinica/disponibilidade/${t}/`,s),deleteDisponibilidade:t=>ce.delete(`/clinica/disponibilidade/${t}/`),getExames:(t={})=>ce.get("/clinica/exames/",{params:t}),createExame:t=>ce.post("/clinica/exames/",t),updateExame:(t,s)=>ce.put(`/clinica/exames/${t}/`,s),deleteExame:t=>ce.delete(`/clinica/exames/${t}/`),getTiposExame:()=>ce.get("/clinica/tipos-exame/"),getRelatorios:t=>ce.get(`/clinica/relatorios/?periodo=${t}`),getPacientes:()=>ce.get("/clinica/pacientes/"),getMedicos:()=>ce.get("/clinica/medicos/"),async vincularSecretaria(t){var d,m,f,p;if(!t)throw new Error("secretariaId é obrigatório");let s=null;try{try{const h=await ce.get("/clinicas/me/");(d=h==null?void 0:h.data)!=null&&d.id&&(s=h.data.id)}catch{}if(!s){const h=await ce.get("/clinicas/"),g=Array.isArray((m=h.data)==null?void 0:m.results)?h.data.results:h.data;(f=g==null?void 0:g[0])!=null&&f.id&&(s=g[0].id)}}catch{}if(!s)throw new Error("Não foi possível resolver o ID da clínica.");const a="/clinicas/",r=a.endsWith("/")?a:`${a}/`,n=[`${r}${s}/secretarias/`,`${r}${s}/adicionar_secretaria/`,`${r}${s}/vincular_secretaria/`],o={secretaria:t,secretaria_id:t};let c;for(const h of n)try{return(await ce.post(h,o)).data}catch(g){const j=(p=g==null?void 0:g.response)==null?void 0:p.status;if(j===404||j===405){c=g;continue}throw g}throw c||new Error("Nenhum endpoint de vinculação de secretária encontrado para clínica.")}};function PI(){const{data:t,loading:s,error:a}=X1(or.getDashboard);if(s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((o,c)=>e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm animate-pulse",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-20 bg-gradient-to-r from-slate-200 to-slate-300 rounded"}),e.jsx("div",{className:"h-4 w-4 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"h-8 w-16 bg-gradient-to-r from-slate-200 to-slate-300 rounded mb-2"}),e.jsx("div",{className:"h-3 w-24 bg-gradient-to-r from-slate-200 to-slate-300 rounded"})]})]},c))})})});if(a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:e.jsx(ie,{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Vn,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-slate-600",children:"Erro ao carregar dashboard"})]})})})})});const r=t||{examesHoje:12,examesTotais:156,pacientesAtivos:89,taxaOcupacao:85,proximosExames:[{id:1,paciente:"João Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}],examesPendentes:5},n=({title:o,value:c,icon:d,description:m,gradient:f,iconBg:p,textColor:h,trend:g})=>e.jsx(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:`bg-gradient-to-br ${f} rounded-2xl p-6 text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full -ml-8 -mb-8"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 ${p} rounded-xl`,children:e.jsx(d,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-3xl font-bold ${h}`,children:c}),e.jsx("div",{className:"text-white/80 text-sm font-medium",children:o})]})]}),e.jsx("div",{className:"text-white/90 text-sm",children:m}),g&&e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-white/80 text-xs",children:[e.jsx(Gl,{className:"h-3 w-3"}),g]})]})]})})});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-950 dark:via-slate-900 dark:to-gray-950 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 rounded-2xl p-8 text-white shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard da Clínica"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie exames, horários e acompanhe o desempenho da clínica"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Z,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",asChild:!0,children:e.jsxs(it,{to:"/clinica/calendario",children:[e.jsx(Cu,{className:"h-4 w-4 mr-2"}),"Calendário"]})}),e.jsx(Z,{className:"bg-white text-blue-600 hover:bg-blue-50",asChild:!0,children:e.jsxs(it,{to:"/clinica/exames",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Agendar Exame"]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(n,{title:"Exames Hoje",value:r.examesHoje,icon:ot,description:"Exames agendados para hoje",gradient:"from-blue-500 to-blue-600",iconBg:"bg-blue-400/30",textColor:"text-white",trend:"+2 desde ontem"}),e.jsx(n,{title:"Total de Exames",value:r.examesTotais,icon:va,description:"Exames realizados este mês",gradient:"from-green-500 to-green-600",iconBg:"bg-green-400/30",textColor:"text-white"}),e.jsx(n,{title:"Pacientes Ativos",value:r.pacientesAtivos,icon:Sa,description:"Pacientes cadastrados",gradient:"from-purple-500 to-purple-600",iconBg:"bg-purple-400/30",textColor:"text-white",trend:"+12% desde o mês passado"}),e.jsx(n,{title:"Taxa de Ocupação",value:`${r.taxaOcupacao}%`,icon:hr,description:"Capacidade atual dos equipamentos",gradient:"from-orange-500 to-orange-600",iconBg:"bg-orange-400/30",textColor:"text-white"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(pt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-slate-800",children:"Próximos Exames"}),e.jsx(rt,{className:"text-slate-600",children:"Exames agendados para hoje"})]})]}),e.jsx(Z,{variant:"outline",className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",asChild:!0,children:e.jsxs(it,{to:"/clinica/exames",children:["Ver todos",e.jsx(Gd,{className:"h-4 w-4 ml-2"})]})})]})}),e.jsx(ie,{className:"p-6",children:r.proximosExames.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(pt,{className:"h-8 w-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhum exame agendado"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Não há exames programados para hoje"})]}):e.jsx("div",{className:"space-y-4",children:r.proximosExames.map(o=>e.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[e.jsx("span",{className:"text-sm font-bold text-blue-700",children:o.horario}),e.jsx("span",{className:"text-xs text-blue-600",children:"Hoje"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900",children:o.paciente}),e.jsx("p",{className:"text-sm text-slate-600",children:o.tipo}),e.jsx(Je,{variant:o.status==="confirmado"?"default":"secondary",className:`mt-1 text-xs ${o.status==="confirmado"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:o.status})]})]}),e.jsx(Z,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:e.jsx(bt,{className:"h-4 w-4"})})]})},o.id))})})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Xd,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-slate-800",children:"Ações Rápidas"}),e.jsx(rt,{className:"text-slate-600",children:"Acesso rápido às principais funcionalidades"})]})]})}),e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(Z,{className:"w-full justify-start btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(it,{to:"/clinica/calendario",children:[e.jsx(ot,{className:"mr-2 h-4 w-4"}),"Ver Calendário"]})}),e.jsx(Z,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(it,{to:"/clinica/disponibilidade",children:[e.jsx(pt,{className:"mr-2 h-4 w-4"}),"Gerenciar Horários"]})}),e.jsx(Z,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(it,{to:"/clinica/exames",children:[e.jsx(va,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})}),e.jsx(Z,{variant:"outline",className:"w-full justify-start bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:e.jsxs(it,{to:"/clinica/pacientes",children:[e.jsx(Sa,{className:"mr-2 h-4 w-4"}),"Ver Pacientes"]})})]}),r.examesPendentes>0&&e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vn,{className:"h-4 w-4 text-yellow-600"}),e.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[r.examesPendentes," exames pendentes de confirmação"]})]})})]})]})})]})]})})}const RI=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],MI=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];function TI(){const[t,s]=x.useState(new Date),[a,r]=x.useState([]),[n,o]=x.useState(null),[c,d]=x.useState({}),[m,f]=x.useState(!1),[p,h]=x.useState(!1),[g,j]=x.useState(!1),[b,y]=x.useState({paciente:"",tipo:"",hora:""}),[w,C]=x.useState([]),[S,k]=x.useState([]),[P]=wk();x.useEffect(()=>{R()},[t]),x.useEffect(()=>{(async()=>{var G,T;try{const[L,H]=await Promise.all([or.getPacientes().catch(()=>({data:[]})),or.getTiposExame().catch(()=>({data:[]}))]),Q=Array.isArray(L==null?void 0:L.data)?L.data:((G=L==null?void 0:L.data)==null?void 0:G.results)||[],te=Array.isArray(H==null?void 0:H.data)?H.data:((T=H==null?void 0:H.data)==null?void 0:T.results)||[];C(Q),k(te)}catch{}})()},[]),x.useEffect(()=>{const M=P.get("data"),G=P.get("paciente");M&&(o(M),D(M)),G&&(y(T=>({...T,paciente:String(G)})),h(!0))},[]);const R=async()=>{f(!0);try{const M=await or.getCalendario(t.getMonth()+1,t.getFullYear());d(M.data||{})}catch(M){console.error("Erro ao carregar calendário:",M),d({"2024-01-15":{total:5,status:"ocupado"},"2024-01-16":{total:8,status:"lotado"},"2024-01-17":{total:3,status:"disponivel"},"2024-01-18":{total:6,status:"ocupado"},"2024-01-22":{total:2,status:"disponivel"},"2024-01-23":{total:7,status:"ocupado"}})}finally{f(!1)}},D=async M=>{try{const G=await or.getExamesPorData(M);r(G.data||[])}catch(G){console.error("Erro ao carregar exames:",G),r([{id:1,paciente:"João Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}])}},E=M=>{const G=new Date(t);G.setMonth(t.getMonth()+M),s(G)},O=M=>{const T=new Date(t.getFullYear(),t.getMonth(),M).toISOString().split("T")[0];o(T),D(T)},I=(M="")=>{y({paciente:M?String(M):"",tipo:"",hora:""}),h(!0)},z=async()=>{if(!n)return;const{paciente:M,tipo:G,hora:T}=b;if(!M||!G||!T){alert("Preencha paciente, tipo e horário.");return}j(!0);try{const L={paciente:M,tipo:G,data:n,hora:T};await or.createExame(L),h(!1),y({paciente:"",tipo:"",hora:""}),await D(n)}catch{alert("Erro ao agendar. Verifique os dados e tente novamente.")}finally{j(!1)}},B=()=>{const M=t.getFullYear(),G=t.getMonth(),T=new Date(M,G,1),L=new Date(M,G+1,0),H=T.getDay(),Q=L.getDate(),te=[];for(let W=H-1;W>=0;W--){const re=new Date(M,G,-W);te.push({dia:re.getDate(),outroMes:!0,data:re})}for(let W=1;W<=Q;W++){const re=new Date(M,G,W),K=re.toISOString().split("T")[0],J=c[K]||{total:0,status:"disponivel"};te.push({dia:W,outroMes:!1,data:re,dataString:K,...J})}const A=42-te.length;for(let W=1;W<=A;W++){const re=new Date(M,G+1,W);te.push({dia:W,outroMes:!0,data:re})}return te},Y=M=>{switch(M){case"disponivel":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"ocupado":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200";case"lotado":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},$=B();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendário de Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie os exames agendados"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5"}),RI[t.getMonth()]," ",t.getFullYear()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>E(-1),children:e.jsx(Rb,{className:"h-4 w-4"})}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>E(1),children:e.jsx(ss,{className:"h-4 w-4"})})]})]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:MI.map(M=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:M},M))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:$.map((M,G)=>e.jsxs("button",{onClick:()=>!M.outroMes&&O(M.dia),disabled:M.outroMes,className:`
                        p-2 text-sm rounded-lg transition-colors relative
                        ${M.outroMes?"text-muted-foreground cursor-not-allowed":"hover:bg-accent cursor-pointer"}
                        ${n===M.dataString?"bg-primary text-primary-foreground":""}
                      `,children:[e.jsx("div",{className:"font-medium",children:M.dia}),!M.outroMes&&M.total>0&&e.jsx("div",{className:`
                          absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center
                          ${Y(M.status)}
                        `,children:M.total})]},G))}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{children:"Disponível"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("span",{children:"Ocupado"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{children:"Lotado"})]})]})]})]})}),e.jsx("div",{children:e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-5 w-5"}),n?"Exames do Dia":"Selecione uma Data"]}),n&&e.jsx(rt,{children:new Date(n+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(ie,{children:n?a.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(pt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum exame agendado para esta data"}),e.jsx(Z,{className:"mt-4",size:"sm",onClick:()=>I(),children:"Agendar Exame"})]}):e.jsxs("div",{className:"space-y-3",children:[a.map(M=>e.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:M.paciente})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{variant:M.status==="confirmado"?"default":"secondary",children:M.status}),e.jsx(Z,{variant:"outline",size:"sm",className:"bg-transparent",onClick:()=>I(M.paciente_id||M.pacienteId||""),title:"Agendar novo exame para este paciente",children:"Agendar"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:M.tipo}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(pt,{className:"h-3 w-3"}),M.horario]})]})]},M.id)),e.jsx(Z,{className:"w-full mt-4",size:"sm",onClick:()=>I(),children:"Agendar Novo Exame"})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(ot,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Clique em uma data no calendário para ver os exames agendados"})]})})]})})]})]}),e.jsx(Ii,{open:p,onOpenChange:h,children:e.jsxs(Jn,{children:[e.jsxs(Zn,{children:[e.jsx(ei,{children:"Agendar exame"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",n?new Date(n+"T00:00:00").toLocaleDateString("pt-BR"):"-"]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Paciente"}),e.jsxs(Ct,{value:b.paciente,onValueChange:M=>y(G=>({...G,paciente:M})),children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Selecione o paciente"})}),e.jsx(Nt,{children:w.map(M=>e.jsxs(ye,{value:String(M.id),children:[M.nome," ",M.cpf?`- ${M.cpf}`:""]},M.id))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Tipo de exame"}),e.jsxs(Ct,{value:b.tipo,onValueChange:M=>y(G=>({...G,tipo:M})),children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Selecione o tipo"})}),e.jsx(Nt,{children:S.map(M=>e.jsx(ye,{value:String(M.id||M.value||M),children:M.nome||M.label||M.value||M},M.id||M.value||M))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Horário"}),e.jsx(ge,{type:"time",value:b.hora,onChange:M=>y(G=>({...G,hora:M.target.value}))})]})]}),e.jsxs(Li,{className:"mt-4",children:[e.jsx(Z,{variant:"outline",className:"bg-transparent",onClick:()=>h(!1),children:"Cancelar"}),e.jsx(Z,{onClick:z,disabled:g,children:g?"Salvando...":"Agendar"})]})]})})]})}const AI={manha:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],tarde:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],integral:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"]};function OI(){const[t,s]=x.useState(""),[a,r]=x.useState([]),[n,o]=x.useState(""),[c,d]=x.useState(!1),[m,f]=x.useState(!1),{toast:p}=ta();x.useEffect(()=>{t&&h()},[t]);const h=async()=>{var S;d(!0);try{const k=await or.getDisponibilidade(t);r(((S=k.data)==null?void 0:S.horarios)||[])}catch(k){console.error("Erro ao carregar disponibilidade:",k),r([{horario:"09:00",ocupado:!1},{horario:"10:00",ocupado:!0},{horario:"11:00",ocupado:!1},{horario:"14:00",ocupado:!1},{horario:"15:00",ocupado:!0}])}finally{d(!1)}},g=async()=>{if(!t){p({title:"Erro",description:"Selecione uma data primeiro",variant:"destructive"});return}f(!0);try{await or.setDisponibilidade(t,a),p({title:"Sucesso",description:"Disponibilidade salva com sucesso"})}catch(S){console.error("Erro ao salvar disponibilidade:",S),p({title:"Erro",description:"Erro ao salvar disponibilidade",variant:"destructive"})}finally{f(!1)}},j=()=>{if(!n)return;if(a.some(k=>k.horario===n)){p({title:"Aviso",description:"Este horário já existe",variant:"destructive"});return}r([...a,{horario:n,ocupado:!1}].sort((k,P)=>k.horario.localeCompare(P.horario))),o("")},b=S=>{r(a.filter(k=>k.horario!==S))},y=S=>{const k=AI[S].map(P=>({horario:P,ocupado:!1}));r(k)},w=async()=>{var P;if(!t)return;const S=new Date(t);S.setDate(S.getDate()-1);const k=S.toISOString().split("T")[0];try{const E=(((P=(await or.getDisponibilidade(k)).data)==null?void 0:P.horarios)||[]).filter(O=>!O.ocupado).map(O=>({...O,ocupado:!1}));r(E),p({title:"Sucesso",description:"Horários copiados do dia anterior"})}catch(R){console.error("Erro ao copiar horários:",R),p({title:"Erro",description:"Erro ao copiar horários do dia anterior",variant:"destructive"})}},C=new Date().toISOString().split("T")[0];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Disponibilidade"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure os horários disponíveis para exames"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5"}),"Selecionar Data"]})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"data",children:"Data"}),e.jsx(Ja,{id:"data",name:"data",value:t,onChange:s,minDate:C?new Date(C):void 0})]}),t&&e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(t+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Templates Rápidos"}),e.jsx(rt,{children:"Aplique configurações pré-definidas"})]}),e.jsxs(ie,{className:"space-y-3",children:[e.jsxs(Z,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>y("manha"),disabled:!t,children:[e.jsx(pt,{className:"mr-2 h-4 w-4"}),"Manhã (8h às 11h30)"]}),e.jsxs(Z,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>y("tarde"),disabled:!t,children:[e.jsx(pt,{className:"mr-2 h-4 w-4"}),"Tarde (13h às 17h)"]}),e.jsxs(Z,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>y("integral"),disabled:!t,children:[e.jsx(pt,{className:"mr-2 h-4 w-4"}),"Período Integral"]}),e.jsxs(Z,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:w,disabled:!t,children:[e.jsx(SE,{className:"mr-2 h-4 w-4"}),"Copiar Dia Anterior"]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-5 w-5"}),"Horários Disponíveis"]}),e.jsxs(Z,{onClick:g,disabled:!t||m,children:[e.jsx(Ab,{className:"mr-2 h-4 w-4"}),m?"Salvando...":"Salvar"]})]}),t&&e.jsxs(rt,{children:["Configurando horários para ",new Date(t+"T00:00:00").toLocaleDateString("pt-BR")]})]}),e.jsx(ie,{children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ge,{type:"time",value:n,onChange:S=>o(S.target.value),placeholder:"Novo horário"}),e.jsx(Z,{onClick:j,disabled:!n,children:e.jsx(Wn,{className:"h-4 w-4"})})]}),c?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((S,k)=>e.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},k))}):a.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(pt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum horário configurado"}),e.jsx("p",{className:"text-sm",children:"Use os templates ou adicione horários manualmente"})]}):e.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:a.map((S,k)=>e.jsxs("div",{className:`
                              flex items-center justify-between p-3 border rounded-lg
                              ${S.ocupado?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}
                            `,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:S.horario})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{variant:S.ocupado?"destructive":"default",children:S.ocupado?"Ocupado":"Livre"}),!S.ocupado&&e.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>b(S.horario),children:e.jsx(WE,{className:"h-4 w-4"})})]})]},k))}),a.length>0&&e.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-medium",children:["Total: ",a.length," horários"]}),e.jsxs("p",{className:"text-muted-foreground",children:[a.filter(S=>!S.ocupado).length," disponíveis,"," ",a.filter(S=>S.ocupado).length," ocupados"]})]})})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(ot,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Selecione uma data para gerenciar os horários"})]})})]})})]})]})})}function II(){const{toast:t}=ta(),[s,a]=x.useState(!1),[r,n]=x.useState([]),[o,c]=x.useState({q:"",tipo:"todos",status:"todos"}),[d,m]=x.useState([]),[f,p]=x.useState(!1),[h,g]=x.useState({paciente:"",tipo:"",data:"",hora:""}),j=async()=>{try{const{data:w}=await or.getTiposExame();n(w||[])}catch{}},b=async()=>{a(!0);try{const w={};o.q&&(w.q=o.q),o.tipo!=="todos"&&(w.tipo=o.tipo),o.status!=="todos"&&(w.status=o.status);const{data:C}=await or.getExames(w);m(Array.isArray(C)?C:(C==null?void 0:C.results)||[])}catch{t({title:"Erro",description:"Não foi possível carregar os exames.",variant:"destructive"})}finally{a(!1)}};x.useEffect(()=>{j()},[]),x.useEffect(()=>{b()},[o]);const y=async()=>{if(!h.paciente||!h.tipo||!h.data||!h.hora){t({title:"Campos obrigatórios",description:"Preencha paciente, tipo, data e hora.",variant:"destructive"});return}p(!0);try{const w={paciente:h.paciente,tipo:h.tipo,data:h.data,hora:h.hora};await or.createExame(w),t({title:"Exame criado",description:"Exame agendado com sucesso."}),g({paciente:"",tipo:"",data:"",hora:""}),b()}catch{t({title:"Erro ao criar",description:"Verifique os dados e tente novamente.",variant:"destructive"})}finally{p(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem e agendamento de exames"})]})}),e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Filtros"}),e.jsx(rt,{children:"Busque e filtre os exames"})]}),e.jsxs(ie,{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(ge,{placeholder:"Buscar por paciente/tipo...",value:o.q,onChange:w=>c({...o,q:w.target.value})}),e.jsxs(Ct,{value:o.tipo,onValueChange:w=>c({...o,tipo:w}),children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Tipo"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"todos",children:"Todos os tipos"}),r.map(w=>e.jsx(ye,{value:w.value||w.nome||w.id||String(w),children:w.nome||w.label||w.value||w},w.id||w.value||w))]})]}),e.jsxs(Ct,{value:o.status,onValueChange:w=>c({...o,status:w}),children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Status"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"pendente",children:"Pendente"}),e.jsx(ye,{value:"confirmado",children:"Confirmado"}),e.jsx(ye,{value:"cancelado",children:"Cancelado"})]})]})]})]}),e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Lista de Exames"}),e.jsx(rt,{children:s?"Carregando...":`${d.length} registro(s)`})]}),e.jsx(ie,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs($s,{children:[e.jsx(zs,{children:e.jsxs(ga,{children:[e.jsx(vt,{children:"Paciente"}),e.jsx(vt,{children:"Tipo"}),e.jsx(vt,{children:"Data"}),e.jsx(vt,{children:"Hora"}),e.jsx(vt,{children:"Status"})]})}),e.jsxs(Bs,{children:[d.map((w,C)=>e.jsxs(ga,{children:[e.jsx(ft,{children:w.paciente_nome||w.paciente||"-"}),e.jsx(ft,{children:w.tipo_nome||w.tipo||"-"}),e.jsx(ft,{children:w.data||"-"}),e.jsx(ft,{children:w.hora||"-"}),e.jsx(ft,{children:w.status||"-"})]},w.id||C)),!s&&d.length===0&&e.jsx(ga,{children:e.jsx(ft,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum exame encontrado"})})]})]})})})]}),e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Novo Exame"}),e.jsx(rt,{children:"Crie um novo agendamento de exame"})]}),e.jsxs(ie,{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(ge,{placeholder:"Paciente (nome/ID)",value:h.paciente,onChange:w=>g({...h,paciente:w.target.value})}),e.jsxs(Ct,{value:h.tipo,onValueChange:w=>g({...h,tipo:w}),children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Tipo de exame"})}),e.jsx(Nt,{children:r.map(w=>e.jsx(ye,{value:w.value||w.nome||w.id||String(w),children:w.nome||w.label||w.value||w},w.id||w.value||w))})]}),e.jsx(Ja,{value:h.data,onChange:w=>g({...h,data:w}),minDate:new Date}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ge,{type:"time",value:h.hora,onChange:w=>g({...h,hora:w.target.value})}),e.jsx(Z,{onClick:y,disabled:f,children:f?"Criando...":"Criar"})]})]})]})]})}function LI(){const{toast:t}=ta(),[s,a]=x.useState(""),[r,n]=x.useState(!1),[o,c]=x.useState([]),d=async()=>{n(!0);try{const{data:p}=await or.getPacientes(),h=Array.isArray(p)?p:(p==null?void 0:p.results)||[];c(h)}catch{t({title:"Erro",description:"Não foi possível carregar os pacientes.",variant:"destructive"})}finally{n(!1)}};x.useEffect(()=>{d()},[]);const m=o.filter(p=>[p.nome,p.email,p.cpf].join(" ").toLowerCase().includes(s.toLowerCase())),f=new Date().toISOString().split("T")[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de pacientes"})]}),e.jsx("div",{className:"w-72",children:e.jsx(ge,{placeholder:"Buscar por nome, e-mail ou CPF",value:s,onChange:p=>a(p.target.value)})})]}),e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Lista de Pacientes"}),e.jsx(rt,{children:r?"Carregando...":`${m.length} registro(s)`})]}),e.jsx(ie,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs($s,{children:[e.jsx(zs,{children:e.jsxs(ga,{children:[e.jsx(vt,{children:"Nome"}),e.jsx(vt,{children:"E-mail"}),e.jsx(vt,{children:"CPF"}),e.jsx(vt,{className:"w-[1%]",children:"Ações"})]})}),e.jsxs(Bs,{children:[m.map((p,h)=>e.jsxs(ga,{children:[e.jsx(ft,{children:p.nome||"-"}),e.jsx(ft,{children:p.email||"-"}),e.jsx(ft,{children:p.cpf||"-"}),e.jsx(ft,{children:e.jsx(it,{to:`/clinica/calendario?paciente=${p.id}&data=${f}`,children:e.jsx(Z,{size:"sm",children:"Agendar"})})})]},p.id||h)),!r&&m.length===0&&e.jsx(ga,{children:e.jsx(ft,{colSpan:3,className:"text-center text-muted-foreground",children:"Nenhum paciente encontrado"})})]})]})})})]})]})}function FI(){const{toast:t}=ta(),[s,a]=x.useState(""),[r,n]=x.useState(!1),[o,c]=x.useState([]),d=async()=>{n(!0);try{const{data:f}=await or.getMedicos(),p=Array.isArray(f)?f:(f==null?void 0:f.results)||[];c(p)}catch{t({title:"Erro",description:"Não foi possível carregar os médicos.",variant:"destructive"})}finally{n(!1)}};x.useEffect(()=>{d()},[]);const m=o.filter(f=>[f.nome,f.email,f.crm,f.especialidade].join(" ").toLowerCase().includes(s.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Médicos"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de médicos"})]}),e.jsx("div",{className:"w-72",children:e.jsx(ge,{placeholder:"Buscar por nome, e-mail, CRM, especialidade",value:s,onChange:f=>a(f.target.value)})})]}),e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Lista de Médicos"}),e.jsx(rt,{children:r?"Carregando...":`${m.length} registro(s)`})]}),e.jsx(ie,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs($s,{children:[e.jsx(zs,{children:e.jsxs(ga,{children:[e.jsx(vt,{children:"Nome"}),e.jsx(vt,{children:"E-mail"}),e.jsx(vt,{children:"CRM"}),e.jsx(vt,{children:"Especialidade"})]})}),e.jsxs(Bs,{children:[m.map((f,p)=>e.jsxs(ga,{children:[e.jsx(ft,{children:f.nome||"-"}),e.jsx(ft,{children:f.email||"-"}),e.jsx(ft,{children:f.crm||"-"}),e.jsx(ft,{children:f.especialidade||"-"})]},f.id||p)),!r&&m.length===0&&e.jsx(ga,{children:e.jsx(ft,{colSpan:4,className:"text-center text-muted-foreground",children:"Nenhum médico encontrado"})})]})]})})})]})]})}function $I(){const[t,s]=x.useState("30d"),[a,r]=x.useState(!1),[n,o]=x.useState(null),[c,d]=x.useState(null),m=async()=>{r(!0),d(null);try{const{data:p}=await or.getRelatorios(t);o(p||{})}catch{d("Não foi possível carregar os relatórios.")}finally{r(!1)}};x.useEffect(()=>{m()},[t]);const f=n||{examesTotais:120,pacientesAtendidos:80,taxaCancelamento:5};return e.jsx("div",{className:"space-y-6",children:e.jsxs(ne,{children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(he,{children:"Relatórios"}),e.jsx(rt,{children:"Métricas da clínica"})]}),e.jsx("div",{className:"w-40",children:e.jsxs(Ct,{value:t,onValueChange:s,children:[e.jsx(wt,{children:e.jsx(kt,{})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"7d",children:"Últimos 7 dias"}),e.jsx(ye,{value:"30d",children:"Últimos 30 dias"}),e.jsx(ye,{value:"90d",children:"Últimos 90 dias"})]})]})})]}),e.jsx(ie,{children:a?e.jsx("p",{children:"Carregando..."}):c?e.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsx(Vn,{className:"h-4 w-4"}),e.jsx("span",{children:c})]}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(va,{className:"h-4 w-4"})," Exames"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.examesTotais}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Sa,{className:"h-4 w-4"})," Pacientes Atendidos"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.pacientesAtendidos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{className:"text-sm font-medium",children:"Taxa de Cancelamento"})}),e.jsxs(ie,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[f.taxaCancelamento,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]})]})})]})})}function zI(){const[t,s]=x.useState({nome:"",cnpj:"",email:"",responsavel:""}),[a,r]=x.useState(""),[n,o]=x.useState(""),[c,d]=x.useState(""),[m,f]=x.useState(""),[p,h]=x.useState(!1),[g,j]=x.useState(""),[b,y]=x.useState(""),{toast:w}=ta(),C=P=>{const R=String(P||"").replace(/\D/g,"").slice(0,14),D=R.slice(0,2),E=R.slice(2,5),O=R.slice(5,8),I=R.slice(8,12),z=R.slice(12,14);return R.length>12?`${D}.${E}.${O}/${I}-${z}`:R.length>8?`${D}.${E}.${O}/${I}`:R.length>5?`${D}.${E}.${O}`:R.length>2?`${D}.${E}`:D},S=async()=>{w({title:"Configurações",description:"Alterações salvas (stub)."})};async function k(P=!0){var R,D,E,O,I;if(j(""),y(""),!a){j("Informe o e-mail da secretária.");return}h(!0);try{let z=null;if(P){const B={email:a,first_name:n||void 0,last_name:c||void 0,password:m||void 0,role:"secretaria",type:"secretaria"},Y=await Ot.createUsuario(B);if(z=(Y==null?void 0:Y.id)||((R=Y==null?void 0:Y.usuario)==null?void 0:R.id)||((D=Y==null?void 0:Y.user)==null?void 0:D.id)||(Y==null?void 0:Y.pk)||null,!z){const $=Y&&typeof Y=="object"?((E=Y.user)==null?void 0:E.pk)||((O=Y.usuario)==null?void 0:O.pk):null;$&&(z=$)}if(!z)throw new Error("Não foi possível obter o ID da secretária criada.")}else{const B=await Ot.getUsuarios({search:a,page:1,page_size:100}),$=(Array.isArray(B==null?void 0:B.results)?B.results:Array.isArray(B)?B:[]).find(M=>String(M.email||"").toLowerCase()===a.toLowerCase());if(!$)throw new Error("Não foi possível localizar uma usuária com esse e-mail.");if(z=$.id||$.pk,!z)throw new Error("Usuária encontrada, porém sem ID válido.")}await or.vincularSecretaria(z),y("Secretária vinculada com sucesso."),r(""),o(""),d(""),f("")}catch(z){const B=(I=z==null?void 0:z.response)!=null&&I.data?JSON.stringify(z.response.data):(z==null?void 0:z.message)||"Falha ao processar solicitação.";j(B)}finally{h(!1)}}return e.jsxs(EN,{children:[e.jsx("div",{className:"space-y-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Configurações"})}),e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Dados da Clínica"}),e.jsx(rt,{children:"Edite os dados básicos"})]}),e.jsxs(ie,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx(ge,{value:t.nome,onChange:P=>s({...t,nome:P.target.value}),placeholder:"Nome da clínica"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"CNPJ"}),e.jsx(ge,{value:t.cnpj,onChange:P=>s({...t,cnpj:C(P.target.value)}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx(ge,{type:"email",value:t.email,onChange:P=>s({...t,email:P.target.value}),placeholder:"email@clinica.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Responsável"}),e.jsx(ge,{value:t.responsavel,onChange:P=>s({...t,responsavel:P.target.value}),placeholder:"Nome do responsável"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Z,{onClick:S,children:"Salvar alterações"})})]})]}),e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Adicionar secretária"}),e.jsx(rt,{children:"Crie uma nova secretária ou vincule por e-mail existente"})]}),e.jsxs(ie,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[g&&e.jsx("div",{className:"text-sm text-red-600",children:g}),b&&e.jsx("div",{className:"text-sm text-emerald-700",children:b})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(ue,{children:"E-mail da secretária"}),e.jsx(ge,{type:"email",value:a,onChange:P=>r(P.target.value),placeholder:"secretaria@exemplo.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Nome (opcional)"}),e.jsx(ge,{value:n,onChange:P=>o(P.target.value),placeholder:"Nome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Sobrenome (opcional)"}),e.jsx(ge,{value:c,onChange:P=>d(P.target.value),placeholder:"Sobrenome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Senha (opcional)"}),e.jsx(ge,{type:"password",value:m,onChange:P=>f(P.target.value),placeholder:"Senha inicial (ou deixe em branco)"})]}),e.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[e.jsx(Z,{onClick:()=>k(!0),disabled:p,children:p?"Processando...":"Criar e vincular"}),e.jsx(Z,{variant:"outline",onClick:()=>k(!1),disabled:p,children:p?"Processando...":"Vincular por e-mail"})]})]})]})]})}function BI(){const[t,s]=x.useState({totalUsuarios:0,medicosAtivos:0,clinicasAtivas:0,solicitacoesPendentes:0,solicitacoesHoje:0,aprovacoesSemana:0,rejeicoesSemana:0,aprovadosMedicosSemana:0,aprovadasClinicasSemana:0,rejeitadosMedicosSemana:0,rejeitadasClinicasSemana:0}),[a,r]=x.useState([]),[n,o]=x.useState(!0),c=()=>{const f=new Date,p=f.getDay(),h=f.getDate()-p+(p===0?-6:1),g=new Date(f);return g.setDate(h),g.setHours(0,0,0,0),g};x.useEffect(()=>{let f=!0;return(async()=>{var g,j,b;const h=c();try{const y=await Ot.getDashboard();f&&y&&s(w=>({...w,totalUsuarios:y.total_usuarios??y.totalUsuarios??w.totalUsuarios,medicosAtivos:y.medicos_ativos??y.medicosAtivos??w.medicosAtivos,clinicasAtivas:y.clinicas_ativas??y.clinicasAtivas??w.clinicasAtivas,solicitacoesPendentes:y.solicitacoes_pendentes??y.solicitacoesPendentes??w.solicitacoesPendentes,aprovacoesSemana:y.aprovacoes_semana??y.aprovacoesSemana??w.aprovacoesSemana,rejeicoesSemana:y.rejeicoes_semana??y.rejeicoesSemana??w.rejeicoesSemana,aprovadosMedicosSemana:y.aprovados_medicos_semana??y.aprovadosMedicosSemana??w.aprovadosMedicosSemana,aprovadasClinicasSemana:y.aprovadas_clinicas_semana??y.aprovadasClinicasSemana??w.aprovadasClinicasSemana,rejeitadosMedicosSemana:y.rejeitados_medicos_semana??y.rejeitadosMedicosSemana??w.rejeitadosMedicosSemana,rejeitadasClinicasSemana:y.rejeitadas_clinicas_semana??y.rejeitadasClinicasSemana??w.rejeitadasClinicasSemana}))}catch(y){console.warn("[AdminDashboard] getDashboard falhou:",(g=y==null?void 0:y.response)==null?void 0:g.status)}try{const y=await Ot.getSolicitacoes({status:"pending",limit:5}),C=(Array.isArray(y==null?void 0:y.results)?y.results:Array.isArray(y)?y:[]).map(S=>({...S,nome:S.nome??S.name??S.title??"",tipo:(S.tipo??S.type??"").toString().toLowerCase(),dataEnvio:S.dataEnvio??S.created_at??S.data_envio??null}));if(f){r(C);const S=new Date().toDateString(),k=C.filter(P=>{const R=new Date(P.dataEnvio);return!isNaN(R)&&R.toDateString()===S}).length;s(P=>({...P,solicitacoesHoje:k}))}}catch(y){console.warn("[AdminDashboard] getSolicitacoes falhou (pendentes recentes):",(j=y==null?void 0:y.response)==null?void 0:j.status)}try{const y=c().toISOString(),w=async E=>{const O=await Ot.getSolicitacoes({status:E,limit:100,created_at__gte:y});return(Array.isArray(O==null?void 0:O.results)?O.results:Array.isArray(O)?O:[]).map(z=>({tipo:(z.tipo??z.type??"").toString().toLowerCase(),createdAt:z.created_at??z.data_envio??z.dataEnvio??null})).filter(z=>{const B=new Date(z.createdAt);return z.createdAt&&!isNaN(B)&&B>=h})},[C,S]=await Promise.all([w("approved"),w("rejected")]),k=C.filter(E=>E.tipo==="medico").length,P=C.filter(E=>E.tipo==="clinica").length,R=S.filter(E=>E.tipo==="medico").length,D=S.filter(E=>E.tipo==="clinica").length;f&&s(E=>({...E,aprovacoesSemana:E.aprovacoesSemana||0||C.length,rejeicoesSemana:E.rejeicoesSemana||0||S.length,aprovadosMedicosSemana:E.aprovadosMedicosSemana||0||k,aprovadasClinicasSemana:E.aprovadasClinicasSemana||0||P,rejeitadosMedicosSemana:E.rejeitadosMedicosSemana||0||R,rejeitadasClinicasSemana:E.rejeitadasClinicasSemana||0||D}))}catch(y){console.warn("[AdminDashboard] cálculo semanal (fallback) falhou:",(b=y==null?void 0:y.response)==null?void 0:b.status)}finally{f&&o(!1)}})(),()=>{f=!1}},[]);const d=f=>{switch(f){case"pending":return e.jsxs(Je,{variant:"outline",className:"badge-medical-warning",children:[e.jsx(pt,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(Je,{variant:"outline",className:"badge-medical-success",children:[e.jsx(Wa,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(Je,{variant:"outline",className:"badge-medical-error",children:[e.jsx(Xa,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},m=f=>{switch(f){case"alta":return e.jsx(Je,{variant:"destructive",className:"text-xs",children:"Alta"});case"normal":return e.jsx(Je,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(Je,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Dashboard Administrativo"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Gerencie usuários e solicitações do sistema"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Z,{variant:"outline",className:"gap-2",asChild:!0,children:e.jsxs(it,{to:"/admin/usuarios",children:[e.jsx(Sa,{className:"h-4 w-4"}),"Usuários"]})}),e.jsx(Z,{variant:"outline",className:"gap-2",asChild:!0,children:e.jsxs(it,{to:"/admin/relatorios",children:[e.jsx(Il,{className:"h-4 w-4"}),"Relatórios"]})}),e.jsx(Z,{className:"gap-2 btn-medical-primary",asChild:!0,children:e.jsxs(it,{to:"/admin/solicitacoes",children:[e.jsx(is,{className:"h-4 w-4"}),"Solicitações"]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total de Usuários"}),e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(Sa,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:t.totalUsuarios}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"+12% em relação ao mês passado"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Médicos Ativos"}),e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(bt,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:t.medicosAtivos}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"+5 novos esta semana"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Clínicas Ativas"}),e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(Rs,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:t.clinicasAtivas}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"+2 novas este mês"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/50 dark:to-amber-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-semibold text-amber-700 dark:text-amber-300",children:"Solicitações Pendentes"}),e.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:e.jsx(Vn,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:t.solicitacoesPendentes}),e.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:[t.solicitacoesHoje," novas hoje"]})]})]})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsxs(pe,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:[e.jsxs(he,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[e.jsx(hr,{className:"h-5 w-5 text-purple-600"}),"Ações Rápidas"]}),e.jsx(rt,{className:"text-slate-600 dark:text-slate-400",children:"Acesso rápido às principais funcionalidades"})]}),e.jsxs(ie,{className:"p-6 space-y-4",children:[e.jsx(it,{to:{pathname:"/admin/solicitacoes",search:"?status=pending"},children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-amber-200 bg-amber-50 hover:bg-amber-100 dark:border-amber-800 dark:bg-amber-900/20 dark:hover:bg-amber-900/30 transition-colors group cursor-pointer",children:[e.jsx("div",{className:"p-3 bg-amber-500 rounded-lg",children:e.jsx(pt,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-amber-900 dark:text-amber-100",children:"Solicitações Pendentes"}),e.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[t.solicitacoesPendentes," solicitações aguardando análise"]})]}),e.jsx(ss,{className:"h-5 w-5 text-amber-600 group-hover:translate-x-1 transition-transform"})]})}),e.jsx(it,{to:"/admin/usuarios",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 dark:border-blue-800 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 transition-colors group cursor-pointer",children:[e.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:e.jsx(Sa,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Gerenciar Usuários"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Visualizar e gerenciar todos os usuários do sistema"})]}),e.jsx(ss,{className:"h-5 w-5 text-blue-600 group-hover:translate-x-1 transition-transform"})]})}),e.jsx(it,{to:"/admin/relatorios",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border border-green-200 bg-green-50 hover:bg-green-100 dark:border-green-800 dark:bg-green-900/20 dark:hover:bg-green-900/30 transition-colors group cursor-pointer",children:[e.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:e.jsx(Gl,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Relatórios"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Visualizar estatísticas e relatórios do sistema"})]}),e.jsx(ss,{className:"h-5 w-5 text-green-600 group-hover:translate-x-1 transition-transform"})]})})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(he,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[e.jsx(pt,{className:"h-5 w-5 text-purple-600"}),"Solicitações Recentes"]}),e.jsx(rt,{className:"text-slate-600 dark:text-slate-400",children:"Últimas solicitações de cadastro no sistema"})]}),e.jsx(Z,{variant:"outline",asChild:!0,children:e.jsx(it,{to:"/admin/solicitacoes",children:"Ver Todas"})})]})}),e.jsx(ie,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:a.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/50 dark:to-blue-900/50 flex items-center justify-center",children:f.tipo==="medico"?e.jsx(bt,{className:"h-6 w-6 text-purple-600"}):e.jsx(Rs,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:f.nome}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx("span",{children:f.tipo==="medico"?`${f.especialidade} - ${f.crm}`:`${f.cnpj} - ${f.responsavel}`}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(f.dataEnvio).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[m(f.urgencia),d(f.status),f.status==="pending"&&e.jsx(Z,{size:"sm",className:"btn-medical-primary",asChild:!0,children:e.jsx(it,{to:`/admin/solicitacoes/${f.id}`,children:"Revisar"})})]})]},f.id))})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[e.jsx(Wa,{className:"h-5 w-5 text-green-600"}),"Aprovações desta Semana"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-4xl font-bold text-green-700 dark:text-green-300 mb-2",children:t.aprovacoesSemana}),e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[t.aprovadosMedicosSemana," médicos e ",t.aprovadasClinicasSemana," clínicas aprovados"]})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/50",children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[e.jsx(Xa,{className:"h-5 w-5 text-red-600"}),"Rejeições desta Semana"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-4xl font-bold text-red-700 dark:text-red-300 mb-2",children:t.rejeicoesSemana}),e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:[t.rejeitadosMedicosSemana," médicos e ",t.rejeitadasClinicasSemana," clínicas rejeitados"]})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-t-lg",children:e.jsxs(he,{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[e.jsx(Xd,{className:"h-5 w-5 text-purple-600"}),"Configurações"]})}),e.jsxs(ie,{className:"p-6 space-y-3",children:[e.jsx(Z,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:e.jsxs(it,{to:"/admin/configuracoes",children:[e.jsx(Xd,{className:"h-4 w-4"}),"Configurações do Sistema"]})}),e.jsx(Z,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:e.jsxs(it,{to:"/admin/logs",children:[e.jsx(hr,{className:"h-4 w-4"}),"Logs do Sistema"]})}),e.jsx(Z,{variant:"outline",className:"w-full justify-start gap-2",asChild:!0,children:e.jsxs(it,{to:"/admin/backup",children:[e.jsx(is,{className:"h-4 w-4"}),"Backup e Segurança"]})})]})]})]})]})]})}function UI(){const[t,s]=x.useState(""),[a,r]=x.useState("all"),[n,o]=x.useState("all"),[c,d]=x.useState("all"),[m,f]=x.useState(!1),[p,h]=x.useState([]),[g,j]=x.useState(null),b=x.useRef(null),{toast:y}=ta(),w=v1(t,500),C=x.useMemo(()=>({search:Di(w.trim()),status:a,tipo:n,urgencia:c}),[w,a,n,c]),S=x.useCallback(async(M,G)=>{try{const T=await Ot.getSolicitacoes(M,{signal:G});return Array.isArray(T==null?void 0:T.results)?T.results:Array.isArray(T)?T:[]}catch(T){throw(T==null?void 0:T.name)!=="AbortError"&&console.error("Erro ao buscar solicitações:",T),T}},[]);x.useEffect(()=>{f(!0);const M=setTimeout(async()=>{if(b.current)try{b.current.abort()}catch{}const G=new AbortController;b.current=G;try{const T={};C.status!=="all"&&(T.status=C.status),C.tipo!=="all"&&(T.tipo=C.tipo),C.urgencia!=="all"&&(T.urgencia=C.urgencia),C.search&&(T.search=C.search);const L=await S(T,G.signal);h(L),j(null)}catch(T){(T==null?void 0:T.name)!=="AbortError"&&(h([]),j("Não foi possível carregar as solicitações."))}finally{f(!1)}},200);return()=>clearTimeout(M)},[C,S]);const k=x.useCallback(async M=>{f(!0);try{const G=await Ot.aprovarSolicitacao(M);h(T=>T.map(L=>L.id===M?{...L,status:"approved",aprovadoPor:(G==null?void 0:G.approved_by)||L.aprovadoPor||"",dataAprovacao:(G==null?void 0:G.approved_at)||L.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:L)),y({title:"Solicitação aprovada",description:"A solicitação foi aprovada com sucesso."})}catch{y({title:"Erro ao aprovar",description:"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{f(!1)}},[y]),P=x.useCallback(async M=>{const G=window.prompt("Informe o motivo da rejeição:");if(G===null)return;const T=ST(G,500);if(!T.isValid){y({title:"Motivo inválido",description:T.error,variant:"destructive"});return}f(!0);try{const L=await Ot.rejeitarSolicitacao(M,T.value);h(H=>H.map(Q=>Q.id===M?{...Q,status:"rejected",rejeitadoPor:(L==null?void 0:L.rejected_by)||Q.rejeitadoPor||"",dataRejeicao:(L==null?void 0:L.rejected_at)||Q.dataRejeicao||new Date().toISOString(),motivoRejeicao:(L==null?void 0:L.rejection_reason)||T.value||Q.motivoRejeicao||"",aprovadoPor:"",dataAprovacao:null}:Q)),y({title:"Solicitação rejeitada",description:"A solicitação foi rejeitada."})}catch{y({title:"Erro ao rejeitar",description:"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{f(!1)}},[y]),R=x.useCallback(M=>{switch(M){case"pending":return e.jsxs(Je,{variant:"outline",className:"badge-medical-warning",children:[e.jsx(pt,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(Je,{variant:"outline",className:"badge-medical-success",children:[e.jsx(Wa,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(Je,{variant:"outline",className:"badge-medical-error",children:[e.jsx(Xa,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},[]),D=x.useCallback(M=>{switch(M){case"alta":return e.jsxs(Je,{variant:"destructive",className:"text-xs",children:[e.jsx(Js,{className:"mr-1 h-2 w-2"}),"Alta"]});case"normal":return e.jsx(Je,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(Je,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}},[]),E=x.useMemo(()=>p.filter(M=>{const G=t.toLowerCase(),T=(M.nome||"").toLowerCase().includes(G)||(M.email||"").toLowerCase().includes(G)||M.crm&&String(M.crm).toLowerCase().includes(G)||M.cnpj&&String(M.cnpj).includes(t),L=a==="all"||M.status===a,H=n==="all"||M.tipo===n,Q=c==="all"||M.urgencia===c;return T&&L&&H&&Q}),[p,t,a,n,c]),O=x.useMemo(()=>({pending:E.filter(M=>M.status==="pending"),approved:E.filter(M=>M.status==="approved"),rejected:E.filter(M=>M.status==="rejected")}),[E]),I=x.useCallback(M=>{const G=Di(M.target.value);s(G)},[]),z=x.useCallback(M=>{r(M)},[]),B=x.useCallback(M=>{o(M)},[]),Y=x.useCallback(M=>{d(M)},[]),$=({solicitacao:M})=>e.jsxs(ne,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl group",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${M.tipo==="medico"?"bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-600":"bg-gradient-to-br from-purple-100 to-pink-100 text-purple-600"}`,children:M.tipo==="medico"?e.jsx(bt,{className:"h-6 w-6"}):e.jsx(Rs,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:M.nome}),e.jsx(rt,{className:"text-gray-600 font-medium",children:M.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[D(M.urgencia),R(M.status)]})]})}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:M.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("p",{className:"text-gray-800 font-medium",children:M.tipo==="medico"?M.especialidade:M.cnpj})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-4 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"font-semibold text-gray-600 text-sm mb-1",children:M.tipo==="medico"?"CRM":"Responsável"}),e.jsx("p",{className:"text-gray-800 font-medium",children:M.tipo==="medico"?M.crm:M.responsavel})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-100",children:[e.jsx("p",{className:"font-semibold text-blue-600 text-sm mb-1",children:"Data de Envio"}),e.jsxs("p",{className:"flex items-center gap-2 text-blue-800 font-medium",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsxs("span",{children:[new Date(M.dataEnvio).toLocaleDateString()," às"," ",new Date(M.dataEnvio).toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border border-green-100",children:[e.jsx("p",{className:"font-semibold text-green-600 text-sm mb-1",children:"Documentos"}),e.jsxs("p",{className:"text-green-800 font-medium",children:[Array.isArray(M.documentos)?M.documentos.length:0," arquivo(s)"]})]})]}),M.observacoes&&e.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 p-4 rounded-xl",children:e.jsx("p",{className:"text-amber-800 text-sm font-medium",children:M.observacoes})}),M.status==="approved"&&e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 p-4 rounded-xl",children:e.jsxs("p",{className:"text-green-800 text-sm font-medium",children:[e.jsx("strong",{children:"Aprovado em:"})," ",M.dataAprovacao?new Date(M.dataAprovacao).toLocaleDateString():"—",M.aprovadoPor?e.jsxs(e.Fragment,{children:[" por ",M.aprovadoPor]}):null]})}),M.status==="rejected"&&M.motivoRejeicao&&e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border border-red-200 p-4 rounded-xl",children:e.jsxs("p",{className:"text-red-800 text-sm font-medium",children:[e.jsx("strong",{children:"Rejeitado:"})," ",M.motivoRejeicao,M.rejeitadoPor&&e.jsxs(e.Fragment,{children:[" por ",M.rejeitadoPor]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(Z,{variant:"outline",size:"sm",asChild:!0,className:"bg-white hover:bg-blue-50 border-blue-200 text-blue-600 hover:text-blue-700 hover:border-blue-300 transition-all duration-200",children:e.jsxs(it,{to:`/admin/solicitacoes/${M.id}`,children:[e.jsx(_r,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),M.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(Z,{size:"sm",onClick:()=>k(M.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200",disabled:m,children:[e.jsx(Wa,{className:"mr-2 h-4 w-4"}),"Aprovar"]}),e.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>P(M.id),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 shadow-md hover:shadow-lg transition-all duration-200",disabled:m,children:[e.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Rejeitar"]})]})]})]})})]});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white",children:e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Solicitações"}),e.jsx("p",{className:"text-blue-100",children:"Gerencie solicitações de médicos e clínicas"})]}),e.jsx("div",{className:"hidden md:flex items-center gap-4",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold",children:E.length}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Total"})]})})]})})}),e.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(ne,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 hover:shadow-lg transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-600 text-sm font-medium",children:"Pendentes"}),e.jsx("p",{className:"text-2xl font-bold text-amber-700",children:O.pending.length})]}),e.jsx("div",{className:"bg-amber-100 p-3 rounded-full",children:e.jsx(pt,{className:"h-6 w-6 text-amber-600"})})]})})}),e.jsx(ne,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:shadow-lg transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Aprovadas"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:O.approved.length})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(Wa,{className:"h-6 w-6 text-green-600"})})]})})}),e.jsx(ne,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-red-200 hover:shadow-lg transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Rejeitadas"}),e.jsx("p",{className:"text-2xl font-bold text-red-700",children:O.rejected.length})]}),e.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:e.jsx(Xa,{className:"h-6 w-6 text-red-600"})})]})})}),e.jsx(ne,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 hover:shadow-lg transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:E.length})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(ji,{className:"h-6 w-6 text-blue-600"})})]})})})]}),e.jsxs(ne,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl border-b",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx(ji,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-xl",children:"Filtros Avançados"}),e.jsx(rt,{children:"Use os filtros para refinar sua busca"})]})]})}),e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ge,{placeholder:"Buscar por nome, e-mail, CRM ou CNPJ",className:"pl-9 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",value:t,onChange:I})]}),e.jsx("div",{children:e.jsxs(Ct,{value:a,onValueChange:z,children:[e.jsx(wt,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:e.jsx(kt,{placeholder:"Status"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"all",children:"Todos"}),e.jsx(ye,{value:"pending",children:"Pendente"}),e.jsx(ye,{value:"approved",children:"Aprovado"}),e.jsx(ye,{value:"rejected",children:"Rejeitado"})]})]})}),e.jsx("div",{children:e.jsxs(Ct,{value:n,onValueChange:B,children:[e.jsx(wt,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:e.jsx(kt,{placeholder:"Tipo"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"all",children:"Todos"}),e.jsx(ye,{value:"medico",children:"Médicos"}),e.jsx(ye,{value:"clinica",children:"Clínicas"})]})]})}),e.jsx("div",{children:e.jsxs(Ct,{value:c,onValueChange:Y,children:[e.jsx(wt,{className:"bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg",children:e.jsx(kt,{placeholder:"Urgência"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"all",children:"Todas"}),e.jsx(ye,{value:"alta",children:"Alta"}),e.jsx(ye,{value:"normal",children:"Normal"}),e.jsx(ye,{value:"baixa",children:"Baixa"})]})]})})]})})]}),e.jsx(ne,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-xl rounded-2xl",children:e.jsxs(Wr,{defaultValue:"todas",className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-t-2xl p-6 border-b",children:e.jsxs(Yr,{className:"bg-white/80 backdrop-blur-sm border shadow-sm rounded-xl p-1",children:[e.jsxs(Dt,{value:"todas",className:"gap-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(ji,{className:"h-4 w-4"})," Todas"]}),e.jsxs(Dt,{value:"pendentes",className:"gap-2 data-[state=active]:bg-amber-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(pt,{className:"h-4 w-4"})," Pendentes"]}),e.jsxs(Dt,{value:"aprovadas",className:"gap-2 data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(Wa,{className:"h-4 w-4"})," Aprovadas"]}),e.jsxs(Dt,{value:"rejeitadas",className:"gap-2 data-[state=active]:bg-red-500 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg transition-all duration-200",children:[e.jsx(Xa,{className:"h-4 w-4"})," Rejeitadas"]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx(Mt,{value:"todas",children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):g?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(Js,{className:"h-8 w-8 text-red-600"})}),e.jsx("p",{className:"text-red-700",children:g})]}):E.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-gray-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(qa,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação encontrada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:E.map(M=>e.jsx($,{solicitacao:M},M.id))})}),e.jsx(Mt,{value:"pendentes",children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):O.pending.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-amber-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(pt,{className:"h-8 w-8 text-amber-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação pendente."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:O.pending.map(M=>e.jsx($,{solicitacao:M},M.id))})}),e.jsx(Mt,{value:"aprovadas",children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):O.approved.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(Wa,{className:"h-8 w-8 text-green-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação aprovada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:O.approved.map(M=>e.jsx($,{solicitacao:M},M.id))})}),e.jsx(Mt,{value:"rejeitadas",children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."})]})}):O.rejected.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:e.jsx(Xa,{className:"h-8 w-8 text-red-600"})}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação rejeitada."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:O.rejected.map(M=>e.jsx($,{solicitacao:M},M.id))})})]})]})})]})]})}function HI(){var k;const{id:t}=Os(),s=Fa(),{toast:a}=ta(),[r,n]=x.useState(!1),[o,c]=x.useState(""),[d,m]=x.useState(""),[f,p]=x.useState(!0),[h,g]=x.useState(null);x.useEffect(()=>{let P=!0;return(async()=>{try{const D=await Ot.getSolicitacao(t);P&&g(D)}catch{a({title:"Erro ao carregar",description:"Não foi possível carregar a solicitação.",variant:"destructive"}),s("/admin/solicitacoes")}finally{P&&p(!1)}})(),()=>{P=!1}},[t]);const j=async P=>{try{await Ot.visualizarDocumento(P.url||P.nome)}catch(R){a({title:"Erro ao visualizar",description:R.message||"Não foi possível visualizar o documento.",variant:"destructive"})}},b=async P=>{try{await Ot.baixarDocumento(P.url||P.nome,P.nome),a({title:"Download iniciado",description:"O download do documento foi iniciado."})}catch(R){a({title:"Erro ao baixar",description:R.message||"Não foi possível baixar o documento.",variant:"destructive"})}};if(f)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Z,{variant:"ghost",onClick:()=>s("/admin/solicitacoes"),children:[e.jsx(Zs,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),e.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitação"})]})]})});if(!h)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Z,{variant:"ghost",onClick:()=>s("/admin/solicitacoes"),children:[e.jsx(Zs,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitação não encontrada"}),e.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const y=async()=>{n(!0);try{await Ot.aprovarSolicitacao(t,o||""),a({title:"Solicitação aprovada!",description:`${(h==null?void 0:h.nome)||"Solicitação"} aprovada com sucesso.`}),s("/admin/solicitacoes")}catch{a({title:"Erro",description:"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{n(!1)}},w=async()=>{if(!d.trim()){a({title:"Motivo obrigatório",description:"Por favor, informe o motivo da rejeição.",variant:"destructive"});return}n(!0);try{await Ot.rejeitarSolicitacao(t,d.trim()),a({title:"Solicitação rejeitada",description:`A solicitação de ${(h==null?void 0:h.nome)||""} foi rejeitada.`}),s("/admin/solicitacoes")}catch{a({title:"Erro",description:"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{n(!1)}},C=P=>{switch(P){case"pending":return e.jsxs(Je,{variant:"outline",className:"badge-medical-warning",children:[e.jsx(Js,{className:"mr-1 h-3 w-3"}),"Aguardando Análise"]});case"approved":return e.jsxs(Je,{variant:"outline",className:"badge-medical-success",children:[e.jsx(Wa,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(Je,{variant:"outline",className:"badge-medical-error",children:[e.jsx(Xa,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},S=(h==null?void 0:h.endereco)||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Z,{variant:"ghost",onClick:()=>s("/admin/solicitacoes"),children:[e.jsx(Zs,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitação"}),e.jsx("p",{className:"text-muted-foreground",children:"Análise completa da solicitação de cadastro"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`app-quick-icon ${h.tipo==="medico"?"info":"primary"} h-12 w-12`,children:h.tipo==="medico"?e.jsx(bt,{className:"h-6 w-6"}):e.jsx(Rs,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-xl",children:h.nome}),e.jsx(rt,{children:h.tipo==="medico"?"Solicitação de Cadastro Médico":"Solicitação de Cadastro de Clínica"})]})]}),C(h.status)]})}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:h.email})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:h.telefone})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("span",{children:h.especialidade})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"CRM":"Responsável Técnico"}),e.jsx("span",{children:h.crm})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Data de Envio"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[new Date(h.dataEnvio||h.created_at).toLocaleDateString()," às"," ",new Date(h.dataEnvio||h.created_at).toLocaleTimeString()]})]})]})]}),e.jsx(lr,{}),h.tipo==="medico"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formação Acadêmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Instituição de Formação"}),e.jsx("span",{children:h.instituicaoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Ano de Formação"}),e.jsx("span",{children:h.anoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Residência"}),e.jsx("span",{children:h.residencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Instituição da Residência"}),e.jsx("span",{children:h.instituicaoResidencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Ano da Residência"}),e.jsx("span",{children:h.anoResidencia})]})]})]}),e.jsx(lr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experiência Profissional"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h.experiencia})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Motivação"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h.motivacao})})]}),e.jsx(lr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Endereço"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"CEP"}),e.jsx("span",{children:S.cep||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Logradouro"}),e.jsx("span",{children:S.logradouro||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Bairro"}),e.jsx("span",{children:S.bairro||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Cidade/Estado"}),e.jsxs("span",{children:[S.cidade||"—","/",S.estado||"—"]})]})]})]})]})]}),e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(va,{className:"h-5 w-5"}),"Documentos Enviados"]}),e.jsxs(rt,{children:[((k=h.documentos)==null?void 0:k.length)||0," documento(s) anexado(s)"]})]}),e.jsx(ie,{children:e.jsx("div",{className:"space-y-3",children:(h.documentos||[]).map((P,R)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(va,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:P.nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.tamanho," • Enviado em ",new Date(P.dataUpload).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>j(P),children:[e.jsx(_r,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),e.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>b(P),children:[e.jsx(ns,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},R))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[h.status==="pending"&&e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Ações"}),e.jsx(rt,{children:"Aprovar ou rejeitar esta solicitação"})]}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"observacoes",children:"Observações (opcional)"}),e.jsx(Pt,{id:"observacoes",placeholder:"Adicione observações sobre esta solicitação...",value:o,onChange:P=>c(P.target.value)})]}),e.jsxs(Z,{variant:"default",className:"w-full",onClick:y,disabled:r,children:[e.jsx(Wa,{className:"mr-2 h-4 w-4"}),r?"Aprovando...":"Aprovar Solicitação"]}),e.jsx(lr,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"motivoRejeicao",children:"Motivo da Rejeição"}),e.jsx(Pt,{id:"motivoRejeicao",placeholder:"Informe o motivo da rejeição...",value:d,onChange:P=>m(P.target.value)})]}),e.jsxs(Z,{variant:"destructive",className:"w-full",onClick:w,disabled:r,children:[e.jsx(Xa,{className:"mr-2 h-4 w-4"}),r?"Rejeitando...":"Rejeitar Solicitação"]})]})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Informações do Sistema"})}),e.jsxs(ie,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"ID da Solicitação:"}),e.jsxs("span",{className:"font-mono",children:["#",h.id.toString().padStart(6,"0")]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),e.jsx("span",{className:"capitalize",children:h.tipo})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Urgência:"}),e.jsx(Je,{variant:h.urgencia==="alta"?"destructive":"secondary",className:"text-xs",children:h.urgencia})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),C(h.status)]})]})]})]})]})]})}const Ay=[{value:"7",label:"Últimos 7 dias"},{value:"30",label:"Últimos 30 dias"},{value:"90",label:"Últimos 90 dias"}];function VI(t){const s=new Date(t);return s.setHours(0,0,0,0),s}function WI(t){const s=new Date(t);return s.setHours(23,59,59,999),s}function YI(t){const s=new Date(t),a=s.getFullYear(),r=String(s.getMonth()+1).padStart(2,"0"),n=String(s.getDate()).padStart(2,"0");return`${a}-${r}-${n}`}function qI(){var h;const[t,s]=x.useState("30"),[a,r]=x.useState("all"),[n,o]=x.useState(!1),[c,d]=x.useState(null),[m,f]=x.useState([]),p=x.useMemo(()=>{if(!m.length)return{total:0,aprovadas:0,rejeitadas:0,pendentes:0,aprovMed:0,aprovCli:0,rejMed:0,rejCli:0,byDay:[],maxDay:0};const g=m.length,j=m.filter(E=>E.status==="aprovada").length,b=m.filter(E=>E.status==="rejeitada").length,y=m.filter(E=>E.status==="pendente").length,w=m.filter(E=>E.status==="aprovada"&&E.tipo==="medico").length,C=m.filter(E=>E.status==="aprovada"&&E.tipo==="clinica").length,S=m.filter(E=>E.status==="rejeitada"&&E.tipo==="medico").length,k=m.filter(E=>E.status==="rejeitada"&&E.tipo==="clinica").length,P={};m.forEach(E=>{const O=YI(E.createdAt);P[O]||(P[O]={ymd:O,aprov:0,rej:0}),E.status==="aprovada"&&P[O].aprov++,E.status==="rejeitada"&&P[O].rej++});const R=Object.values(P).sort((E,O)=>E.ymd.localeCompare(O.ymd)),D=Math.max(...R.map(E=>Math.max(E.aprov,E.rej)),1);return{total:g,aprovadas:j,rejeitadas:b,pendentes:y,aprovMed:w,aprovCli:C,rejMed:S,rejCli:k,byDay:R,maxDay:D}},[m]);return x.useEffect(()=>{(async()=>{o(!0),d(null);try{const j=new Date,b=parseInt(t,10),y=new Date(j.getTime()-b*24*60*60*1e3),w={startDate:VI(y).toISOString(),endDate:WI(j).toISOString()};a!=="all"&&(w.tipo=a);const C=await ce.get("/admin/solicitacoes",{params:w});f(C.data||[])}catch(j){console.error("Erro ao buscar dados:",j),d(j)}finally{o(!1)}})()},[t,a]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 shadow-sm",children:e.jsx(va,{className:"h-8 w-8 text-slate-600 dark:text-slate-200"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatórios Administrativos"}),e.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mt-2 font-medium",children:"Análise completa de solicitações e métricas operacionais"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(ne,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-bold text-slate-600 dark:text-slate-200 mb-2",children:"Total"}),e.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:p.total}),e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mt-1",children:"no período"})]}),e.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-xl",children:e.jsx(va,{className:"h-6 w-6 text-slate-600 dark:text-slate-200"})})]})})}),e.jsx(ne,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-green-50 dark:bg-green-900/20 hover:shadow-xl transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-300 mb-2",children:"Aprovadas"}),e.jsx("p",{className:"text-3xl font-bold text-green-800 dark:text-green-200",children:p.aprovadas}),e.jsxs("p",{className:"text-sm font-medium text-green-600 dark:text-green-400 mt-1",children:[Math.round(p.aprovadas/p.total*100)||0,"% do total"]})]}),e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-800 rounded-xl",children:e.jsx(Wa,{className:"h-6 w-6 text-green-600 dark:text-green-300"})})]})})}),e.jsx(ne,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20 hover:shadow-xl transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-bold text-red-700 dark:text-red-300 mb-2",children:"Rejeitadas"}),e.jsx("p",{className:"text-3xl font-bold text-red-800 dark:text-red-200",children:p.rejeitadas}),e.jsxs("p",{className:"text-sm font-medium text-red-600 dark:text-red-400 mt-1",children:[Math.round(p.rejeitadas/p.total*100)||0,"% do total"]})]}),e.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-800 rounded-xl",children:e.jsx(Xa,{className:"h-6 w-6 text-red-600 dark:text-red-300"})})]})})}),e.jsx(ne,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-amber-50 dark:bg-amber-900/20 hover:shadow-xl transition-all duration-300",children:e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-bold text-amber-700 dark:text-amber-300 mb-2",children:"Pendentes"}),e.jsx("p",{className:"text-3xl font-bold text-amber-800 dark:text-amber-200",children:p.pendentes}),e.jsxs("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mt-1",children:[Math.round(p.pendentes/p.total*100)||0,"% do total"]})]}),e.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-800 rounded-xl",children:e.jsx(pt,{className:"h-6 w-6 text-amber-600 dark:text-amber-300"})})]})})})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 space-y-8",children:[e.jsx(ne,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:e.jsxs(pe,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:e.jsx(ji,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Filtros de Análise"}),e.jsx(rt,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Configure o período e tipo de relatório"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 mt-6",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Período de Análise"}),e.jsxs(Ct,{value:t,onValueChange:s,children:[e.jsx(wt,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:e.jsx(kt,{})}),e.jsx(Nt,{children:Ay.map(g=>e.jsx(ye,{value:g.value,className:"text-base",children:g.label},g.value))})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Tipo de Solicitação"}),e.jsxs(Ct,{value:a,onValueChange:r,children:[e.jsx(wt,{className:"w-52 h-12 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 focus:border-slate-400 dark:focus:border-slate-400 focus:ring-slate-400/20 shadow-sm text-base text-slate-900 dark:text-white",children:e.jsx(kt,{})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"all",className:"text-base",children:"Todos os Tipos"}),e.jsx(ye,{value:"medico",className:"text-base",children:"Médicos"}),e.jsx(ye,{value:"clinica",className:"text-base",children:"Clínicas"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:"Ações"}),e.jsxs(Z,{variant:"outline",size:"lg",disabled:n,onClick:()=>s(t),className:"h-12 px-6 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-500 hover:bg-slate-50 dark:hover:bg-slate-600 hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 dark:text-slate-200 font-semibold shadow-sm transition-all duration-200 text-base",children:[e.jsx(Tb,{className:`h-5 w-5 mr-2 ${n?"animate-spin":""}`}),"Atualizar Dados"]})]})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ne,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800 hover:shadow-xl transition-all duration-300 group",children:[e.jsx(pe,{className:"pb-4",children:e.jsx(he,{className:"text-base font-bold text-slate-700 dark:text-slate-200 group-hover:text-slate-900 dark:group-hover:text-white transition-colors",children:"Total no Período"})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-3",children:p.total}),e.jsx("p",{className:"text-base font-medium text-slate-600 dark:text-slate-300",children:(h=Ay.find(g=>g.value===t))==null?void 0:h.label})]})]}),e.jsxs(ne,{className:"border border-green-200 dark:border-green-700 shadow-lg bg-gradient-to-br from-white to-green-50 dark:from-slate-800 dark:to-green-900/50 hover:shadow-xl transition-all duration-300 group",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(he,{className:"text-base font-bold flex items-center gap-2 text-green-700 dark:text-green-200 group-hover:text-green-800 dark:group-hover:text-green-100 transition-colors",children:[e.jsx("div",{className:"p-1 bg-green-100 dark:bg-green-800 rounded",children:e.jsx(Wa,{className:"h-5 w-5 text-green-600 dark:text-green-300"})}),"Solicitações Aprovadas"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-4xl font-bold text-green-800 dark:text-green-100 mb-3",children:p.aprovadas}),e.jsxs("p",{className:"text-base font-medium text-green-600 dark:text-green-300",children:[p.aprovMed," médicos • ",p.aprovCli," clínicas"]})]})]}),e.jsxs(ne,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-gradient-to-br from-white to-red-50 dark:from-slate-800 dark:to-red-900/50 hover:shadow-xl transition-all duration-300 group",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(he,{className:"text-base font-bold flex items-center gap-2 text-red-700 dark:text-red-200 group-hover:text-red-800 dark:group-hover:text-red-100 transition-colors",children:[e.jsx("div",{className:"p-1 bg-red-100 dark:bg-red-800 rounded",children:e.jsx(Xa,{className:"h-5 w-5 text-red-600 dark:text-red-300"})}),"Solicitações Rejeitadas"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-4xl font-bold text-red-800 dark:text-red-100 mb-3",children:p.rejeitadas}),e.jsxs("p",{className:"text-base font-medium text-red-600 dark:text-red-300",children:[p.rejMed," médicos • ",p.rejCli," clínicas"]})]})]}),e.jsxs(ne,{className:"border border-amber-200 dark:border-amber-700 shadow-lg bg-gradient-to-br from-white to-amber-50 dark:from-slate-800 dark:to-amber-900/50 hover:shadow-xl transition-all duration-300 group",children:[e.jsx(pe,{className:"pb-4",children:e.jsxs(he,{className:"text-base font-bold flex items-center gap-2 text-amber-700 dark:text-amber-200 group-hover:text-amber-800 dark:group-hover:text-amber-100 transition-colors",children:[e.jsx("div",{className:"p-1 bg-amber-100 dark:bg-amber-800 rounded",children:e.jsx(pt,{className:"h-5 w-5 text-amber-600 dark:text-amber-300"})}),"Aguardando Análise"]})}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-4xl font-bold text-amber-800 dark:text-amber-100 mb-3",children:p.pendentes}),e.jsx("p",{className:"text-base font-medium text-amber-600 dark:text-amber-300",children:"Requer atenção administrativa"})]})]})]}),e.jsxs(ne,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:[e.jsx(pe,{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-600 rounded-lg border border-slate-200 dark:border-slate-500 shadow-sm",children:e.jsx(Il,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Análise Temporal"}),e.jsx(rt,{className:"text-slate-600 dark:text-slate-300 text-base font-medium mt-1",children:"Distribuição diária de aprovações e rejeições no período selecionado"})]})]})}),e.jsxs(ie,{className:"space-y-8 p-8",children:[p.byDay.map(g=>{const j=Math.round(g.aprov/p.maxDay*100),b=Math.round(g.rej/p.maxDay*100);return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex items-center justify-between text-base mb-4",children:[e.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:g.ymd}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-400 rounded-full"}),e.jsxs("span",{className:"text-green-600 dark:text-green-300 font-bold text-base",children:["Aprovadas: ",g.aprov]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full"}),e.jsxs("span",{className:"text-red-600 dark:text-red-300 font-bold text-base",children:["Rejeitadas: ",g.rej]})]})]})]}),e.jsxs("div",{className:"h-8 w-full rounded-lg bg-slate-200 dark:bg-slate-700 overflow-hidden border border-slate-300 dark:border-slate-600 shadow-inner",children:[e.jsx("div",{className:"h-8 bg-green-500 inline-block transition-all duration-500 group-hover:bg-green-400",style:{width:`${j}%`},title:`Aprovadas: ${g.aprov}`}),e.jsx("div",{className:"h-8 bg-red-500 inline-block transition-all duration-500 group-hover:bg-red-400",style:{width:`${b}%`},title:`Rejeitadas: ${g.rej}`})]})]},g.ymd)}),!p.byDay.length&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-slate-400 text-6xl mb-6",children:"📊"}),e.jsx("div",{className:"text-xl font-bold text-slate-600 dark:text-slate-300 mb-3",children:"Nenhum dado encontrado"}),e.jsx("div",{className:"text-base font-medium text-slate-500 dark:text-slate-400",children:"Não há registros para o período selecionado."})]})]})]}),n&&e.jsx(ne,{className:"border border-slate-200 dark:border-slate-600 shadow-lg bg-white dark:bg-slate-800",children:e.jsx(ie,{className:"p-12",children:e.jsxs("div",{className:"animate-pulse space-y-8",children:[e.jsx("div",{className:"h-10 bg-slate-200 dark:bg-slate-700 rounded-lg w-1/3"}),e.jsx("div",{className:"h-40 bg-slate-200 dark:bg-slate-700 rounded-lg"})]})})}),c&&e.jsx(ne,{className:"border border-red-200 dark:border-red-700 shadow-lg bg-red-50 dark:bg-red-900/20",children:e.jsxs(ie,{className:"p-12 text-center",children:[e.jsx("div",{className:"text-red-400 text-6xl mb-6",children:"⚠️"}),e.jsx("p",{className:"text-red-700 dark:text-red-300 font-bold text-xl mb-3",children:"Erro ao carregar dados"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 text-base font-medium",children:String(c)})]})})]})]})}function KI(){const[t,s]=x.useState([]),[a,r]=x.useState(!1),[n,o]=x.useState(null),[c,d]=x.useState(null),[m,f]=x.useState(null),[p,h]=x.useState(""),[g,j]=x.useState(""),[b,y]=x.useState(""),[w,C]=x.useState(""),[S,k]=x.useState(""),[P,R]=x.useState(""),[D,E]=x.useState(""),O=x.useMemo(()=>{const z={ordering:"-created_at",limit:20};return p&&(z.action=p),g&&(z.entity=g),b&&(z.status=b),w&&(z.user=w),S&&(z.created_at__gte=new Date(S).toISOString()),P&&(z.created_at__lte=new Date(P).toISOString()),D&&(z.search=D),z},[p,g,b,w,S,P,D]),I=async z=>{var B,Y,$,M;r(!0),o(null);try{const G=typeof z=="string"?await ce.get(z):await Ot.getAuditoria(z),T=(G==null?void 0:G.data)??G,L=Array.isArray(T==null?void 0:T.results)?T.results:Array.isArray(T)?T:[];s(L),d((T==null?void 0:T.next)||null),f((T==null?void 0:T.previous)||null)}catch(G){const T=(B=G==null?void 0:G.response)==null?void 0:B.status,H=(typeof((Y=G==null?void 0:G.response)==null?void 0:Y.data)=="string"?null:(M=($=G==null?void 0:G.response)==null?void 0:$.data)==null?void 0:M.detail)||(G==null?void 0:G.message)||"Falha ao carregar auditoria";o(T?`Erro ${T}: ${H}`:H)}finally{r(!1)}};return x.useEffect(()=>{I(O)},[O]),e.jsxs("div",{className:"space-y-8 p-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 via-red-700 to-red-800 rounded-2xl p-8 text-white shadow-2xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(is,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Auditoria"}),e.jsx("p",{className:"text-red-100 text-lg",children:"Acompanhe registros de ações do sistema"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(hr,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Total de Registros"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ea,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Usuários Únicos"}),e.jsx("p",{className:"text-2xl font-bold",children:new Set(t.map(z=>{var B;return(B=z.user)==null?void 0:B.id})).size})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ot,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Hoje"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(z=>new Date(z.created_at).toDateString()===new Date().toDateString()).length})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_r,{className:"h-6 w-6 text-red-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm",children:"Sucessos"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(z=>z.status==="success").length})]})]})})]})]}),e.jsxs(ne,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"pb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:e.jsx(ji,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-xl font-semibold text-gray-900",children:"Filtros Avançados"}),e.jsx(rt,{className:"text-gray-600",children:"Refine a busca por período, usuário e tipo de ação"})]})]})}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Início"}),e.jsx(Ja,{value:S,onChange:k,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",maxDate:new Date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data de Fim"}),e.jsx(Ja,{value:P,onChange:R,className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",minDate:S?new Date(S):void 0,maxDate:new Date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),e.jsxs(Ct,{value:b,onValueChange:z=>y(z==="all"?"":z),children:[e.jsx(wt,{className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20",children:e.jsx(kt,{placeholder:"Selecionar status"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"all",children:"Todos"}),e.jsx(ye,{value:"success",children:"Sucesso"}),e.jsx(ye,{value:"fail",children:"Falha"})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usuário (UUID)"}),e.jsx(ge,{value:w,onChange:z=>C(z.target.value),placeholder:"ID do usuário",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ação"}),e.jsx(ge,{value:p,onChange:z=>h(z.target.value),placeholder:"ex: login, create, update",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Entidade"}),e.jsx(ge,{value:g,onChange:z=>j(z.target.value),placeholder:"ex: Consulta, Paciente",className:"h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Busca Geral"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(ge,{value:D,onChange:z=>E(z.target.value),placeholder:"Buscar por ação, entidade, IP ou usuário...",className:"pl-10 h-11 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20"})]}),e.jsxs(Z,{onClick:()=>I(O),className:"h-11 px-6 btn-medical-primary shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(qa,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsxs(Z,{variant:"outline",onClick:()=>{h(""),j(""),y(""),C(""),k(""),R(""),E("")},className:"h-11 px-6 bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:[e.jsx(Tb,{className:"mr-2 h-4 w-4"}),"Limpar"]})]})]})]})]}),e.jsxs(ne,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between pb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:e.jsx(hr,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-xl font-semibold text-gray-900",children:"Registros de Auditoria"}),e.jsx(rt,{className:"text-gray-600",children:"Resultados paginados (20 por página)"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{variant:"outline",size:"sm",disabled:!m||a,onClick:()=>I(m),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:e.jsx(Rb,{className:"h-4 w-4"})}),e.jsx(Z,{variant:"outline",size:"sm",disabled:!c||a,onClick:()=>I(c),className:"bg-white/70 hover:bg-white border-gray-200 hover:border-gray-300 transition-all duration-200",children:e.jsx(ss,{className:"h-4 w-4"})})]})]}),e.jsxs(ie,{children:[n&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:e.jsx("p",{className:"text-red-700 font-medium",children:n})}),e.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Data"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Usuário"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Ação"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Entidade"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"ID"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"IP"}),e.jsx("th",{className:"py-4 px-6 text-left text-sm font-semibold text-gray-700 border-b border-gray-200",children:"Status"})]})}),e.jsxs("tbody",{children:[!a&&t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gray-100 rounded-full",children:e.jsx(hr,{className:"h-6 w-6 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhum registro encontrado"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Tente ajustar os filtros de busca"})]})})}),t.map((z,B)=>{var Y,$;return e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 transition-all duration-200 ${B%2===0?"bg-white":"bg-gray-50/30"}`,children:[e.jsx("td",{className:"py-4 px-6 text-sm text-gray-900 font-medium whitespace-nowrap",children:new Date(z.created_at).toLocaleString("pt-BR")}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:((Y=z.user)==null?void 0:Y.username)||(($=z.user)==null?void 0:$.email)||"-"}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:z.action})}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700",children:z.entity||"-"}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:z.entity_id||"-"}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-700 font-mono",children:z.ip_address||"-"}),e.jsx("td",{className:"py-4 px-6",children:z.status==="success"?e.jsx(Je,{className:"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200",variant:"outline",children:"Sucesso"}):e.jsx(Je,{className:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",variant:"outline",children:"Falha"})})]},z.id)})]})]})})]})]})]})}function GI(){const{activeRole:t,toggleRole:s}=Ps(),{user:a}=un(),r=Fa();if(!((a==null?void 0:a.role)==="medico"||(a==null?void 0:a.is_medico)||(a==null?void 0:a.isMedico)||!1))return null;const o=()=>{s(),r(t==="medico"?"/paciente/perfil":"/medico/dashboard")};return e.jsx(Z,{variant:"outline",size:"sm",onClick:o,className:"flex items-center gap-2 transition-all duration-200 hover:shadow-md",children:t==="medico"?e.jsxs(e.Fragment,{children:[e.jsx(Ea,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Paciente"})]}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Médico"})]})})}function QI(){const{isAuthenticated:t}=Ps();return e.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-blue-50 via-white to-teal-50",children:[e.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-blue-100/50 bg-white/80 backdrop-blur-xl supports-[backdrop-filter]:bg-white/60 shadow-sm",children:e.jsxs("div",{className:"container flex h-16 items-center",children:[e.jsx("div",{className:"mr-4 flex",children:e.jsxs(it,{to:"/",className:"mr-6 flex items-center space-x-3 group",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-medical-primary to-blue-600 text-white shadow-lg group-hover:shadow-blue-500/25 transition-all duration-300 group-hover:scale-105",children:e.jsx(jo,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Portal Médico"})]})}),e.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:e.jsxs("nav",{className:"flex items-center space-x-2",children:[e.jsx(qh,{}),t&&e.jsx(GI,{})]})})]})}),e.jsx("main",{className:"flex-1",children:e.jsxs("section",{className:"w-full py-16 md:py-24 lg:py-32 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-teal-400/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-medical-primary/20 to-purple-400/20 rounded-full blur-3xl"})]}),e.jsx("div",{className:"container px-4 md:px-6 relative",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-12 text-center",children:[e.jsxs("div",{className:"space-y-6 max-w-4xl",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-100 to-teal-100 text-medical-primary font-medium text-sm border border-blue-200/50",children:[e.jsx(HE,{className:"w-4 h-4"}),"Plataforma Médica Integrada"]}),e.jsxs("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl lg:text-7xl",children:[e.jsx("span",{className:"bg-gradient-to-r from-medical-primary via-blue-600 to-teal-600 bg-clip-text text-transparent",children:"Bem-vindo ao"}),e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-teal-600 via-medical-primary to-blue-600 bg-clip-text text-transparent",children:"Portal Médico"})]}),e.jsx("p",{className:"mx-auto max-w-[800px] text-xl text-slate-600 leading-relaxed",children:"Conectando médicos e pacientes para uma experiência de saúde integrada e moderna."}),e.jsx("p",{className:"mx-auto max-w-[700px] text-lg text-slate-500 leading-relaxed",children:"Nossa plataforma oferece uma solução completa para gerenciamento de consultas, prontuários e histórico médico, facilitando a comunicação entre profissionais de saúde e pacientes."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl mt-16",children:[e.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 backdrop-blur-sm border border-blue-100/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(bt,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Consultas Online"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Agende e realize consultas médicas de forma digital e segura."})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 backdrop-blur-sm border border-teal-100/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-teal-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(hr,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Prontuário Digital"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Acesse seu histórico médico completo em qualquer lugar."})]}),e.jsxs("div",{className:"group p-6 rounded-2xl bg-white/70 backdrop-blur-sm border border-purple-100/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 text-white mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(is,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Segurança Total"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Seus dados médicos protegidos com criptografia avançada."})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mt-12",children:t?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-lg mx-auto",children:[e.jsx(it,{to:"/medico/dashboard",className:"flex-1",children:e.jsx(Z,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-teal-500 to-teal-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-5 h-5"}),"Acessar como Médico"]})})}),e.jsx(it,{to:"/paciente/perfil",className:"flex-1",children:e.jsx(Z,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-blue-500/20 bg-white/90 text-blue-600 font-semibold shadow-lg hover:bg-blue-500/5 hover:border-blue-500/40 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Sa,{className:"w-5 h-5"}),"Acessar como Paciente"]})})})]}):e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-md mx-auto",children:[e.jsx(it,{to:"/login",className:"flex-1",children:e.jsx(Z,{className:"w-full h-14 rounded-xl bg-gradient-to-r from-medical-primary to-blue-600 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:e.jsxs("span",{className:"flex items-center gap-2",children:["Entrar",e.jsx(Gd,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})})}),e.jsx(it,{to:"/registrar",className:"flex-1",children:e.jsx(Z,{variant:"outline",className:"w-full h-14 rounded-xl border-2 border-medical-primary/20 bg-white/90 text-medical-primary font-semibold shadow-lg hover:bg-medical-primary/5 hover:border-medical-primary/40 hover:shadow-xl hover:scale-105 transition-all duration-300",children:"Criar Conta"})})]})})]})})]})})]})}function XI(){var D,E,O,I,z,B,Y,$,M,G;const[t,s]=x.useState(!1),[a,r]=x.useState("none"),{toast:n}=ta();Fa();const{setActiveRole:o,setUserPermissions:c}=Ps(),d=((D=St.getCurrentUser)==null?void 0:D.call(St))||null,f=`medicoApplicationStatus:${d&&(d.id||d.pk||d.email||d.username)||"anon"}`;x.useEffect(()=>{try{const T=localStorage.getItem("medicoApplicationStatus");T&&!localStorage.getItem(f)&&(localStorage.setItem(f,T),localStorage.removeItem("medicoApplicationStatus"));const L=JSON.parse(localStorage.getItem(f)||"{}");L!=null&&L.status&&r(L.status)}catch{}},[f]);const[p,h]=x.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),g=T=>String(T||"").replace(/\D/g,"").slice(0,7),j=T=>{const{name:L,value:H}=T.target,Q=L==="crm"?g(H):H;h({...p,[L]:Q})},b=(T,L)=>{h({...p,[T]:L})},y=(T,L)=>{h({...p,documentos:{...p.documentos,[T]:L}})},w=x.useRef(null),C=x.useRef(null),S=x.useRef(null),k=(T,L)=>{h(H=>({...H,documentos:{...H.documentos,[T]:null}})),L!=null&&L.current&&(L.current.value="")},P=async T=>{var L,H,Q,te;if(T.preventDefault(),s(!0),!((L=p.documentos)!=null&&L.diplomaMedicina)){n({title:"Arquivo obrigatório",description:"Anexe o Diploma de Medicina antes de enviar.",variant:"destructive"}),s(!1);return}try{const{solicitacaoService:A}=await yo(async()=>{const{solicitacaoService:W}=await Promise.resolve().then(()=>nE);return{solicitacaoService:W}},void 0);await A.criarSolicitacaoMedico(p),r("pending"),localStorage.setItem(f,JSON.stringify({status:"pending",at:new Date().toISOString()})),c(W=>({...W,medicoStatus:"pending"})),n({title:"Solicitação enviada!",description:"Sua solicitação para se tornar médico foi enviada para análise."})}catch(A){const W=(H=A==null?void 0:A.response)==null?void 0:H.status;if(W===404)r("pending"),localStorage.setItem(f,JSON.stringify({status:"pending",at:new Date().toISOString(),simulated:!0})),c(re=>({...re,medicoStatus:"pending"})),n({title:"Solicitação registrada (modo teste)",description:"Sem endpoint de backend disponível. Status salvo localmente."});else if(W===405){const re=((Q=A==null?void 0:A.config)==null?void 0:Q.url)||"(desconhecido)";console.warn("Endpoint não aceita POST (405). URL usada:",re),n({title:"Método não permitido (405)",description:`O backend não aceita POST neste endpoint: ${re}. Verifique a variável de ambiente do endpoint de solicitações do médico ou me informe a rota correta de criação.`,variant:"destructive"})}else{const re=(te=A==null?void 0:A.response)==null?void 0:te.data;console.error("[MedicoRegistration] criarSolicitacaoMedico falhou:",A,re),n({title:"Erro ao enviar",description:typeof re=="string"?re:"Não foi possível enviar a solicitação. Verifique os campos e tente novamente.",variant:"destructive"})}}finally{s(!1)}},R=()=>{switch(a){case"pending":return e.jsxs(Je,{variant:"outline",className:"badge-medical-warning",children:[e.jsx(pt,{className:"mr-1 h-3 w-3"}),"Aguardando Aprovação"]});case"approved":return e.jsxs(Je,{variant:"outline",className:"badge-medical-success",children:[e.jsx(Wa,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(Je,{variant:"outline",className:"badge-medical-error",children:[e.jsx(Xa,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}};return a==="approved"?e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5 text-green-600"}),e.jsx(he,{className:"text-green-700",children:"Parabéns! Você é um médico aprovado"})]}),e.jsx(rt,{children:"Sua solicitação foi aprovada. Agora você pode acessar todas as funcionalidades médicas."})]}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Você agora pode alternar entre os perfis de paciente e médico usando o botão no menu lateral."})}),e.jsx(Z,{className:"w-full",children:"Acessar Área Médica"})]})})]}):a==="pending"?e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5"}),e.jsx(he,{children:"Solicitação de Cadastro Médico"})]}),R()]}),e.jsx(rt,{children:"Sua solicitação está sendo analisada pela equipe administrativa."})]}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsx("strong",{children:"Status:"})," Aguardando aprovação",e.jsx("br",{}),e.jsx("strong",{children:"Enviado em:"})," ",new Date().toLocaleDateString(),e.jsx("br",{}),e.jsx("strong",{children:"Tempo estimado:"})," 2-5 dias úteis"]})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Você receberá um email quando sua solicitação for processada. Enquanto isso, você pode continuar usando o sistema como paciente."})]})})]}):a==="rejected"?e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5"}),e.jsx(he,{children:"Solicitação de Cadastro Médico"})]}),R()]}),e.jsx(rt,{children:"Sua solicitação foi rejeitada. Veja os motivos abaixo."})]}),e.jsx(ie,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[e.jsx("strong",{children:"Motivos da rejeição:"}),e.jsx("br",{}),"• Documentação incompleta",e.jsx("br",{}),"• CRM não encontrado no sistema do CFM",e.jsx("br",{}),"• Informações inconsistentes"]})}),e.jsx(Z,{variant:"outline",className:"w-full bg-transparent",onClick:()=>r("none"),children:"Enviar Nova Solicitação"})]})})]}):e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5"}),e.jsx(he,{children:"Cadastro como Médico"})]}),e.jsx(rt,{children:"Preencha os dados abaixo para solicitar acesso às funcionalidades médicas"})]}),e.jsx(ie,{children:e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Dados Profissionais"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"crm",children:"CRM *"}),e.jsx(ge,{id:"crm",name:"crm",placeholder:"Ex: CRM/SP 123456",value:p.crm,onChange:j,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"especialidade",children:"Especialidade *"}),e.jsxs(Ct,{onValueChange:T=>b("especialidade",T),children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Selecione sua especialidade"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"clinica-geral",children:"Clínica Geral"}),e.jsx(ye,{value:"cardiologia",children:"Cardiologia"}),e.jsx(ye,{value:"dermatologia",children:"Dermatologia"}),e.jsx(ye,{value:"endocrinologia",children:"Endocrinologia"}),e.jsx(ye,{value:"ginecologia",children:"Ginecologia"}),e.jsx(ye,{value:"neurologia",children:"Neurologia"}),e.jsx(ye,{value:"ortopedia",children:"Ortopedia"}),e.jsx(ye,{value:"pediatria",children:"Pediatria"}),e.jsx(ye,{value:"psiquiatria",children:"Psiquiatria"}),e.jsx(ye,{value:"urologia",children:"Urologia"}),e.jsx(ye,{value:"outras",children:"Outras"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formação Acadêmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"instituicaoFormacao",children:"Instituição de Formação *"}),e.jsx(ge,{id:"instituicaoFormacao",name:"instituicaoFormacao",placeholder:"Ex: USP, UNIFESP, etc.",value:p.instituicaoFormacao,onChange:j,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"anoFormacao",children:"Ano de Formação *"}),e.jsx(ge,{id:"anoFormacao",name:"anoFormacao",type:"number",placeholder:"Ex: 2015",min:"1950",max:new Date().getFullYear(),value:p.anoFormacao,onChange:j,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"residencia",children:"Residência Médica"}),e.jsx(ge,{id:"residencia",name:"residencia",placeholder:"Ex: Cardiologia",value:p.residencia,onChange:j})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"instituicaoResidencia",children:"Instituição da Residência"}),e.jsx(ge,{id:"instituicaoResidencia",name:"instituicaoResidencia",placeholder:"Ex: Hospital das Clínicas",value:p.instituicaoResidencia,onChange:j})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"anoResidencia",children:"Ano de Conclusão da Residência"}),e.jsx(ge,{id:"anoResidencia",name:"anoResidencia",type:"number",placeholder:"Ex: 2018",min:"1950",max:new Date().getFullYear(),value:p.anoResidencia,onChange:j})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experiência Profissional"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"experiencia",children:"Descreva sua experiência profissional *"}),e.jsx(Pt,{id:"experiencia",name:"experiencia",placeholder:"Descreva onde trabalhou, por quanto tempo, principais atividades...",className:"min-h-[100px]",value:p.experiencia,onChange:j,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"motivacao",children:"Por que deseja usar nossa plataforma? *"}),e.jsx(Pt,{id:"motivacao",name:"motivacao",placeholder:"Conte-nos sobre suas motivações e como pretende usar a plataforma...",className:"min-h-[100px]",value:p.motivacao,onChange:j,required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Documentos Obrigatórios"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Diploma de Medicina *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var T;return(T=w.current)==null?void 0:T.click()},onDragOver:T=>T.preventDefault(),onDrop:T=>{var H;T.preventDefault();const L=(H=T.dataTransfer.files)==null?void 0:H[0];L&&y("diplomaMedicina",L)},children:[e.jsx(Xf,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(E=p.documentos)!=null&&E.diplomaMedicina?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(O=p.documentos)!=null&&O.diplomaMedicina?p.documentos.diplomaMedicina.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(ge,{ref:w,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:T=>y("diplomaMedicina",T.target.files[0])}),((I=p.documentos)==null?void 0:I.diplomaMedicina)&&e.jsx("div",{className:"mt-2",children:e.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>k("diplomaMedicina",w),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Certificado de Residência (se aplicável)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var T;return(T=C.current)==null?void 0:T.click()},onDragOver:T=>T.preventDefault(),onDrop:T=>{var H;T.preventDefault();const L=(H=T.dataTransfer.files)==null?void 0:H[0];L&&y("certificadoResidencia",L)},children:[e.jsx(Xf,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(z=p.documentos)!=null&&z.certificadoResidencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(B=p.documentos)!=null&&B.certificadoResidencia?p.documentos.certificadoResidencia.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(ge,{ref:C,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:T=>y("certificadoResidencia",T.target.files[0])}),((Y=p.documentos)==null?void 0:Y.certificadoResidencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>k("certificadoResidencia",C),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Comprovante de Experiência"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var T;return(T=S.current)==null?void 0:T.click()},onDragOver:T=>T.preventDefault(),onDrop:T=>{var H;T.preventDefault();const L=(H=T.dataTransfer.files)==null?void 0:H[0];L&&y("comprovanteExperiencia",L)},children:[e.jsx(Xf,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:($=p.documentos)!=null&&$.comprovanteExperiencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(M=p.documentos)!=null&&M.comprovanteExperiencia?p.documentos.comprovanteExperiencia.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(ge,{ref:S,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:T=>y("comprovanteExperiencia",T.target.files[0])}),((G=p.documentos)==null?void 0:G.comprovanteExperiencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>k("comprovanteExperiencia",S),children:"Remover arquivo"})})]})]})]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Importante:"})," Sua solicitação será analisada por nossa equipe administrativa. O processo pode levar de 2 a 5 dias úteis. Você receberá um email com o resultado da análise."]})}),e.jsx(Z,{type:"submit",className:"w-full",disabled:t,children:t?"Enviando solicitação...":"Enviar Solicitação"})]})})]})}function jp(){const{activeRole:t}=Ps(),s=Pa(),a=s.pathname.startsWith("/paciente/"),r=s.pathname.startsWith("/medico/"),{toast:n}=ta(),[o,c]=x.useState(!0),[d,m]=x.useState(!1),[f,p]=x.useState(null),[h,g]=x.useState(null),[j,b]=x.useState(null),[y,w]=x.useState({first_name:"",last_name:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:""}),[C,S]=x.useState({atual:"",nova:"",confirmar:""}),[k,P]=x.useState(!1),[R,D]=x.useState({email:!0,lembretes:!0,exames:!0,push:!1}),[E,O]=x.useState(!1),[I,z]=x.useState({tipo_sanguineo:"",alergias:"",condicoes_cronicas:"",contato_emergencia_nome:"",contato_emergencia_telefone:"",plano_saude:"",numero_carteirinha:"",peso:"",altura:""}),[B,Y]=x.useState(!1),$=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],[M,G]=x.useState(!1),[T,L]=x.useState(null),[H,Q]=x.useState(!1),[te,A]=x.useState(!1),{ephemeralCertFile:W,setEphemeralCertFile:re,ephemeralCertPassword:K,setEphemeralCertPassword:J}=Ps(),[V,U]=x.useState(W||null),[X,le]=x.useState(K||"");x.useEffect(()=>{re(V)},[V]),x.useEffect(()=>{J(X)},[X]);const[ve,Se]=x.useState(null),[Re,Ee]=x.useState("Assinatura de documento médico"),[Le,st]=x.useState("Hospital"),[ut,He]=x.useState(!1),Xt=async()=>{var De,Ve;if(!ve){n.error("Selecione um PDF para assinar.");return}if(!V){n.error("Selecione um certificado (.pfx/.p12) para assinar o PDF.");return}if(!(X&&X.trim())){n.error("Informe a senha do certificado (.pfx/.p12).");return}const Ae=new FormData;Ae.append("file",ve),Ae.append("pfx",V),Ae.append("certificado",V),Ae.append("pkcs12",V),Ae.append("pfx_password",X.trim()),Ae.append("senha",X.trim()),Ae.append("password",X.trim()),Ae.append("no_persist","true"),Ae.append("ephemeral","true"),Re&&Ae.append("reason",Re),Le&&Ae.append("location",Le);try{He(!0);const{filename:At,blob:Fe}=await xt.signDocumento(Ae,{reason:Re,location:Le}),Ze=window.URL.createObjectURL(Fe),Qt=document.createElement("a");Qt.href=Ze,Qt.download=At||"documento_assinado.pdf",document.body.appendChild(Qt),Qt.click(),Qt.remove(),window.URL.revokeObjectURL(Ze),n.success("Documento assinado com sucesso.")}catch(At){const Fe=((Ve=(De=At==null?void 0:At.response)==null?void 0:De.data)==null?void 0:Ve.message)||(At==null?void 0:At.message)||"Falha ao assinar o documento.";n.error(Fe)}finally{He(!1)}};x.useEffect(()=>{let Ae=!0;return(async()=>{var De;try{c(!0);const[Ve,At]=await Promise.allSettled([Rt.getPerfil(),Rt.getPacienteDoUsuario()]);if(!Ae)return;const Fe=Ve.status==="fulfilled"?Ve.value:null,Ze=At.status==="fulfilled"?At.value:null;g(Fe),b(Ze),w(Qt=>({...Qt,first_name:(Fe==null?void 0:Fe.first_name)||"",last_name:(Fe==null?void 0:Fe.last_name)||"",email:(Fe==null?void 0:Fe.email)||"",cpf:(Fe==null?void 0:Fe.cpf)||"",telefone:(Fe==null?void 0:Fe.telefone)||"",data_nascimento:(Fe==null?void 0:Fe.data_nascimento)||"",endereco:typeof(Fe==null?void 0:Fe.endereco)=="string"?Fe.endereco:Fe!=null&&Fe.endereco?`${Fe.endereco.logradouro||""} ${Fe.endereco.numero||""} ${Fe.endereco.bairro||""} ${Fe.endereco.cidade||""} ${Fe.endereco.estado||""}`.trim():""})),z({tipo_sanguineo:(Ze==null?void 0:Ze.tipo_sanguineo)||"",alergias:(Ze==null?void 0:Ze.alergias)||"",condicoes_cronicas:(Ze==null?void 0:Ze.condicoes_cronicas)||"",contato_emergencia_nome:(Ze==null?void 0:Ze.contato_emergencia_nome)||"",contato_emergencia_telefone:(Ze==null?void 0:Ze.contato_emergencia_telefone)||"",plano_saude:(Ze==null?void 0:Ze.plano_saude)||"",numero_carteirinha:(Ze==null?void 0:Ze.numero_carteirinha)||"",peso:(Ze==null?void 0:Ze.peso)??"",altura:(Ze==null?void 0:Ze.altura)??""});try{const Qt=localStorage.getItem("notification_prefs");if(Qt){const We=JSON.parse(Qt);D(Ke=>({...Ke,...We}))}}catch{}}catch(Ve){const At=(De=Ve==null?void 0:Ve.response)==null?void 0:De.status;p(At===401?"Sessão inválida. Faça login novamente.":"Não foi possível carregar os dados.")}finally{Ae&&c(!1)}})(),()=>{Ae=!1}},[]),x.useEffect(()=>{r&&Tt()},[r]);const Ht=Ae=>{const{name:De,value:Ve}=Ae.target;w(At=>({...At,[De]:Ve}))},Vt=Ae=>{const{name:De,value:Ve}=Ae.target;z(At=>({...At,[De]:Ve}))};async function pa(){var Ae;m(!0);try{const De={first_name:y.first_name||"",last_name:y.last_name||"",telefone:y.telefone||"",data_nascimento:y.data_nascimento||"",endereco:y.endereco||""},Ve=await Rt.atualizarPerfil(De);g(Ve),n({title:"Perfil atualizado",description:"Suas informações pessoais foram salvas."})}catch(De){const Ve=(Ae=De==null?void 0:De.response)!=null&&Ae.data?JSON.stringify(De.response.data):"Não foi possível salvar o perfil.";n({title:"Erro ao salvar",description:Ve,variant:"destructive"})}finally{m(!1)}}async function $a(){var Ae;Y(!0);try{const De=await Rt.atualizarPaciente(I);b(Ve=>({...Ve||{},...De||{}})),n({title:"Informações do paciente salvas",description:"Dados atualizados com sucesso."})}catch(De){const Ve=(Ae=De==null?void 0:De.response)!=null&&Ae.data?JSON.stringify(De.response.data):"Não foi possível salvar os dados do paciente.";n({title:"Erro ao salvar",description:Ve,variant:"destructive"})}finally{Y(!1)}}const ke=async()=>{var Ae,De;if(!C.nova||C.nova.length<6){n({title:"Senha inválida",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(C.nova!==C.confirmar){n({title:"Confirmação incorreta",description:"A confirmação da nova senha não confere.",variant:"destructive"});return}P(!0);try{await ce.post("/auth/change-password/",{old_password:C.atual,new_password:C.nova}),S({atual:"",nova:"",confirmar:""}),n({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."})}catch(Ve){const Fe=((Ae=Ve==null?void 0:Ve.response)==null?void 0:Ae.status)===404?"Endpoint de alteração de senha não encontrado. Verifique o backend.":(De=Ve==null?void 0:Ve.response)!=null&&De.data?JSON.stringify(Ve.response.data):"Não foi possível alterar a senha.";n({title:"Erro ao alterar senha",description:Fe,variant:"destructive"})}finally{P(!1)}},na=Ae=>{D(De=>({...De,[Ae]:!De[Ae]}))},za=()=>{O(!0);try{localStorage.setItem("notification_prefs",JSON.stringify(R)),n({title:"Preferências salvas",description:"Suas preferências de notificação foram atualizadas."})}finally{O(!1)}};async function Tt(){Q(!0);try{const Ae=await xt.getCertificadoInfo();L(Ae||null)}catch{L(null)}finally{Q(!1)}}async function cr(){var Ve,At;if(!V){n({title:"Selecione um arquivo",description:"Escolha um arquivo .pfx, .p12, .crt, .cer ou .pem.",variant:"destructive"});return}const Ae=15*1024*1024;if(V.size>Ae){n({title:"Arquivo muito grande",description:"O limite é de 15MB.",variant:"destructive"});return}const De=new FormData;De.append("file",V),De.append("certificado",V),De.append("arquivo",V),De.append("pfx",V),X&&(De.append("password",X),De.append("senha",X),De.append("passphrase",X),De.append("pfx_password",X)),De.append("no_persist","true"),De.append("ephemeral","true"),De.append("save_public_only","true"),A(!0);try{const Fe=await xt.uploadCertificado(De);L(Fe||null);const Ze=Fe!=null&&Fe.public_cert_saved?"Certificado público extraído e salvo para validações. O PFX não foi armazenado.":"Certificado processado. O PFX não foi armazenado.";n({title:"Processamento concluído",description:Ze}),U(null)}catch(Fe){const Ze=(Ve=Fe==null?void 0:Fe.response)==null?void 0:Ve.status,Qt=(At=Fe==null?void 0:Fe.response)==null?void 0:At.data;n({title:"Falha no processamento",description:Ze===404?"Endpoint de upload não encontrado no backend. Configure a variável VITE_MEDICO_CERTIFICADO_ENDPOINT.":typeof Qt=="string"?Qt:"Não foi possível processar o certificado.",variant:"destructive"})}finally{A(!1),le("")}}const Ft=(()=>{const Ae=(T==null?void 0:T.valid_to)||(T==null?void 0:T.validade_fim)||(T==null?void 0:T.validade)||(T==null?void 0:T.valid_to_date);if(!Ae)return null;const De=new Date(Ae);return Math.ceil((De-new Date)/(1e3*60*60*24))})(),vr=!!(T&&(T.exists??T.id??T.valid_to??T.subject)),[$t,Jt]=x.useState({nome:"",crm:"",especialidade:"",telefone:"",endereco:""}),[Kr,fn]=x.useState(!1);x.useEffect(()=>{r&&(async()=>{var Ae,De,Ve,At,Fe,Ze,Qt,We,Ke,lt,Te,et;try{const be=await xt.getPerfil();if(!be)return;const Aa=(be==null?void 0:be.nome)||((Ae=be==null?void 0:be.user)!=null&&Ae.first_name||(De=be==null?void 0:be.user)!=null&&De.last_name?`${((Ve=be==null?void 0:be.user)==null?void 0:Ve.first_name)||""} ${((At=be==null?void 0:be.user)==null?void 0:At.last_name)||""}`.trim():((Fe=be==null?void 0:be.user)==null?void 0:Fe.nome)||((Ze=be==null?void 0:be.user)==null?void 0:Ze.name)||"")||"",Oa=(be==null?void 0:be.crm)||(be==null?void 0:be.crm_numero)||(be==null?void 0:be.crm_registro)||((Qt=be==null?void 0:be.user)==null?void 0:Qt.crm)||"";let da="";typeof(be==null?void 0:be.especialidade)=="string"?da=be.especialidade:be!=null&&be.especialidade&&typeof be.especialidade=="object"&&(da=be.especialidade.nome||be.especialidade.label||be.especialidade.titulo||"");const ia=(be==null?void 0:be.telefone)||(be==null?void 0:be.celular)||((We=be==null?void 0:be.user)==null?void 0:We.phone)||((Ke=be==null?void 0:be.user)==null?void 0:Ke.telefone)||((lt=be==null?void 0:be.contato)==null?void 0:lt.telefone)||"";let ha=(be==null?void 0:be.endereco)||((Te=be==null?void 0:be.user)==null?void 0:Te.endereco)||((et=be==null?void 0:be.clinica)==null?void 0:et.endereco)||"",ba="";typeof ha=="string"?ba=ha:ha&&typeof ha=="object"&&(ba=`${ha.logradouro||ha.rua||""} ${ha.numero||""} ${ha.bairro||""} ${ha.cidade||""} ${ha.estado||""}`.trim()),Jt({nome:Aa,crm:Oa,especialidade:da,telefone:ia,endereco:ba})}catch{}})()},[r]);const ti=Ae=>{const{name:De,value:Ve}=Ae.target;Jt(At=>({...At,[De]:Ve}))},$o=async()=>{var Ae;fn(!0);try{const De={telefone:$t.telefone||"",endereco:$t.endereco||"",especialidade:$t.especialidade||""},Ve=await xt.updatePerfilMedico(De);if(Ve){const At=Ve.telefone||Ve.celular||$t.telefone;let Fe=Ve.endereco||$t.endereco;Fe&&typeof Fe=="object"&&(Fe=`${Fe.logradouro||Fe.rua||""} ${Fe.numero||""} ${Fe.bairro||""} ${Fe.cidade||""} ${Fe.estado||""}`.trim());let Ze=$t.especialidade;typeof(Ve==null?void 0:Ve.especialidade)=="string"?Ze=Ve.especialidade:Ve!=null&&Ve.especialidade&&typeof Ve.especialidade=="object"&&(Ze=Ve.especialidade.nome||Ve.especialidade.label||Ve.especialidade.titulo||Ze),Jt(Qt=>({...Qt,telefone:At,endereco:Fe,especialidade:Ze}))}n({title:"Dados do médico atualizados",description:"Telefone, endereço e especialidade foram salvos."})}catch(De){const Ve=(Ae=De==null?void 0:De.response)!=null&&Ae.data?JSON.stringify(De.response.data):"Não foi possível salvar os dados do médico.";n({title:"Erro ao salvar",description:Ve,variant:"destructive"})}finally{fn(!1)}};return e.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informações pessoais e preferências da conta"})]}),a&&e.jsx(qr,{tabs:$,basePath:"/paciente"}),!a&&t==="secretaria"&&!(j!=null&&j.id)&&e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Criar perfil de paciente"}),e.jsx(rt,{children:"Para acessar as funcionalidades de paciente com esta conta, crie seu perfil de paciente."})]}),e.jsxs(ie,{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum perfil de paciente encontrado para esta conta."}),e.jsx(Z,{onClick:async()=>{var Ae;G(!0);try{const De=await Rt.garantirPacienteDoUsuario({});b(De),n({title:"Perfil de paciente criado",description:"Você já pode acessar a área do paciente."})}catch(De){const Ve=(Ae=De==null?void 0:De.response)!=null&&Ae.data?JSON.stringify(De.response.data):"Não foi possível criar o perfil.";n({title:"Erro",description:Ve,variant:"destructive"})}finally{G(!1)}},disabled:M,children:M?"Criando...":"Criar meu perfil de paciente"})]})]}),e.jsxs(Wr,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(Yr,{className:`grid w-full ${r?"grid-cols-5":"grid-cols-3"}`,children:[e.jsxs(Dt,{value:"perfil",className:"flex items-center gap-2",children:[e.jsx(Ea,{className:"h-4 w-4"}),"Perfil"]}),e.jsxs(Dt,{value:"seguranca",className:"flex items-center gap-2",children:[e.jsx(xh,{className:"h-4 w-4"}),"Segurança"]}),e.jsxs(Dt,{value:"notificacoes",className:"flex items-center gap-2",children:[e.jsx(ph,{className:"h-4 w-4"}),"Notificações"]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs(Dt,{value:"certificado",className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),"Certificado Digital"]}),e.jsxs(Dt,{value:"dados_medico",className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-4 w-4"}),"Dados do Médico"]})]})]}),e.jsx(Mt,{value:"perfil",children:e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Informações Pessoais"}),e.jsx(rt,{children:"Atualize suas informações pessoais e de contato"})]}),e.jsx(ie,{className:"space-y-6",children:o?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):f?e.jsx("p",{className:"text-destructive",children:f}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"first_name",children:"Nome"}),e.jsx(ge,{id:"first_name",name:"first_name",value:y.first_name,onChange:Ht})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(ge,{id:"last_name",name:"last_name",value:y.last_name,onChange:Ht})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"email",children:"Email"}),e.jsx(ge,{id:"email",name:"email",value:y.email,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"cpf",children:"CPF"}),e.jsx(ge,{id:"cpf",name:"cpf",value:y.cpf,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"telefone",children:"Telefone"}),e.jsx(ge,{id:"telefone",name:"telefone",value:y.telefone,onChange:Ht})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"data_nascimento",children:"Data de Nascimento"}),e.jsx(Ja,{id:"data_nascimento",name:"data_nascimento",value:y.data_nascimento||"",onChange:Ae=>Ht({target:{name:"data_nascimento",value:Ae}}),maxDate:new Date})]})]}),e.jsx(lr,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"endereco",children:"Endereço"}),e.jsx(Pt,{id:"endereco",name:"endereco",placeholder:"Rua, número, bairro, cidade, estado",value:y.endereco,onChange:Ht})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Z,{onClick:pa,disabled:d,children:d?"Salvando...":"Salvar Alterações"})}),e.jsx(lr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Mais Informações do Paciente"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Esses dados ajudam médicos a entender melhor seu histórico."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"tipo_sanguineo",children:"Tipo Sanguíneo"}),e.jsx(ge,{id:"tipo_sanguineo",name:"tipo_sanguineo",value:I.tipo_sanguineo,onChange:Vt,placeholder:"Ex.: O+, A-, B+, AB+"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"plano_saude",children:"Plano de Saúde"}),e.jsx(ge,{id:"plano_saude",name:"plano_saude",value:I.plano_saude,onChange:Vt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"numero_carteirinha",children:"Número da Carteirinha"}),e.jsx(ge,{id:"numero_carteirinha",name:"numero_carteirinha",value:I.numero_carteirinha,onChange:Vt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"contato_emergencia_nome",children:"Contato de Emergência (Nome)"}),e.jsx(ge,{id:"contato_emergencia_nome",name:"contato_emergencia_nome",value:I.contato_emergencia_nome,onChange:Vt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"contato_emergencia_telefone",children:"Contato de Emergência (Telefone)"}),e.jsx(ge,{id:"contato_emergencia_telefone",name:"contato_emergencia_telefone",value:I.contato_emergencia_telefone,onChange:Vt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"peso",children:"Peso (kg)"}),e.jsx(ge,{id:"peso",name:"peso",type:"number",step:"0.1",value:I.peso,onChange:Vt})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"altura",children:"Altura (cm)"}),e.jsx(ge,{id:"altura",name:"altura",type:"number",step:"0.1",value:I.altura,onChange:Vt})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(ue,{htmlFor:"alergias",children:"Alergias"}),e.jsx(Pt,{id:"alergias",name:"alergias",rows:3,value:I.alergias,onChange:Vt,placeholder:"Ex.: Dipirona, poeira, frutos do mar"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(ue,{htmlFor:"condicoes_cronicas",children:"Condições Crônicas"}),e.jsx(Pt,{id:"condicoes_cronicas",name:"condicoes_cronicas",rows:3,value:I.condicoes_cronicas,onChange:Vt,placeholder:"Ex.: Hipertensão, Diabetes, Asma"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Z,{onClick:$a,disabled:B,variant:"outline",children:B?"Salvando...":"Salvar Informações do Paciente"})})]})]})})]})}),e.jsx(Mt,{value:"seguranca",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Alterar Senha"}),e.jsx(rt,{children:"Mantenha sua conta segura com uma senha forte"})]}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"senha-atual",children:"Senha Atual"}),e.jsx(ge,{id:"senha-atual",type:"password",value:C.atual,onChange:Ae=>S(De=>({...De,atual:Ae.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"nova-senha",children:"Nova Senha"}),e.jsx(ge,{id:"nova-senha",type:"password",value:C.nova,onChange:Ae=>S(De=>({...De,nova:Ae.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"confirmar-senha",children:"Confirmar Nova Senha"}),e.jsx(ge,{id:"confirmar-senha",type:"password",value:C.confirmar,onChange:Ae=>S(De=>({...De,confirmar:Ae.target.value}))})]}),e.jsx(Z,{onClick:ke,disabled:k,children:k?"Alterando...":"Alterar Senha"})]})]}),e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Autenticação de Dois Fatores"}),e.jsx(rt,{children:"Adicione uma camada extra de segurança à sua conta"})]}),e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Autenticação de Dois Fatores"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Não configurada"})]}),e.jsx(Z,{variant:"outline",disabled:!0,children:"Em breve"})]})})]})]})}),e.jsx(Mt,{value:"notificacoes",children:e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Preferências de Notificação"}),e.jsx(rt,{children:"Configure como você deseja receber notificações"})]}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações importantes por email"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>na("email"),children:R.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Lembretes de Consulta"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes das consultas"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>na("lembretes"),children:R.lembretes?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Resultados de Exames"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja notificado quando exames ficarem prontos"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>na("exames"),children:R.exames?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações no navegador"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>na("push"),children:R.push?"Ativado":"Desativado"})]})]}),e.jsx(Z,{onClick:za,disabled:E,children:E?"Salvando...":"Salvar Preferências"})]})]})}),r&&e.jsx(Mt,{value:"certificado",children:e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Configuração de Certificado Digital"}),e.jsx(rt,{children:"Envie seu certificado (.pfx/.p12 ou .crt/.cer/.pem). O arquivo é enviado com segurança ao servidor."})]}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border p-4 bg-white",children:[H?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mr-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando informações do certificado..."})]}):vr?e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-green-700",children:"Certificado cadastrado"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Titular: ",(T==null?void 0:T.owner_name)||(T==null?void 0:T.subject_name)||(T==null?void 0:T.subject)||(T==null?void 0:T.nome)||"—"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Emitente: ",(T==null?void 0:T.issuer)||(T==null?void 0:T.issuer_name)||(T==null?void 0:T.emitente)||"—"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validade: ",(T==null?void 0:T.valid_from)||(T==null?void 0:T.validade_inicio)||"?"," — ",(T==null?void 0:T.valid_to)||(T==null?void 0:T.validade_fim)||"?"]}),Ft!=null&&e.jsx("p",{className:`text-sm ${Ft<=0?"text-destructive":Ft<30?"text-amber-600":"text-emerald-600"}`,children:Ft<=0?"Expirado":`Expira em ${Ft} dia(s)`})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum certificado cadastrado para este médico."}),e.jsx("div",{className:"mt-3",children:e.jsx(Z,{variant:"outline",size:"sm",onClick:Tt,disabled:H,children:H?"Validando...":"Validar agora"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-gray-700",children:"Arquivo do certificado"}),e.jsx(ge,{type:"file",accept:".pfx,.p12,.crt,.cer,.pem",onChange:Ae=>{var De;return U(((De=Ae.target.files)==null?void 0:De[0])||null)},className:"border-gray-200 focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceita: .pfx, .p12, .crt, .cer, .pem. Tamanho máximo: 15MB."}),V&&e.jsxs("p",{className:"text-xs",children:["Selecionado: ",V.name," (",Math.ceil(V.size/1024)," KB)"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-gray-700",children:"Senha do certificado (se aplicável)"}),e.jsx(Xj,{delayDuration:0,children:e.jsxs(Jj,{children:[e.jsx(Zj,{asChild:!0,children:e.jsx(RE,{size:16,className:"text-muted-foreground cursor-help"})}),e.jsx(Lh,{side:"top",children:"Certificados PKCS#12 (.pfx/.p12) contendo chave privada. O arquivo não é persistido."})]})}),e.jsx(ge,{type:"password",value:X,onChange:Ae=>le(Ae.target.value),placeholder:"Senha do .pfx (opcional)"}),(!X||!X.trim())&&e.jsx("p",{className:"text-xs text-red-600",children:"Senha obrigatória para assinatura."}),X&&X.trim().length<4&&e.jsx("p",{className:"text-xs text-yellow-600",children:"A senha parece curta. Verifique se está correta."}),X&&X.trim()&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: se a senha falhar, confirme maiúsculas/minúsculas, layout do teclado e se o certificado corresponde ao seu CRM."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aceitamos certificados no formato PKCS#12 (.pfx/.p12). A senha não é persistida e é usada somente em memória durante a assinatura."})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(Z,{onClick:cr,disabled:te,children:te?"Enviando...":"Enviar Certificado"})}),e.jsx(lr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Arquivo PDF para assinar"}),e.jsx(ge,{type:"file",accept:".pdf",onChange:Ae=>{var De;return Se(((De=Ae.target.files)==null?void 0:De[0])||null)}}),ve&&e.jsxs("p",{className:"text-xs",children:["Selecionado: ",ve.name," (",Math.ceil(ve.size/1024)," KB)"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Motivo (opcional)"}),e.jsx(ge,{value:Re,onChange:Ae=>Ee(Ae.target.value),placeholder:"Ex.: Assinatura de prescrição"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Local (opcional)"}),e.jsx(ge,{value:Le,onChange:Ae=>st(Ae.target.value),placeholder:"Ex.: São Paulo - SP"})]})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx(Z,{onClick:Xt,disabled:ut||!ve,children:ut?"Assinando...":"Assinar e Baixar"})})]})]})]})}),r&&e.jsx(Mt,{value:"dados_medico",children:e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Dados do Médico"}),e.jsx(rt,{children:"Atualize seu telefone, endereço e especialidade."})]}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Nome"}),e.jsx(ge,{value:$t.nome||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"CRM"}),e.jsx(ge,{value:$t.crm||"",disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"especialidade",children:"Especialidade"}),e.jsx(ge,{id:"especialidade",name:"especialidade",value:$t.especialidade||"",onChange:ti})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"telefone",children:"Telefone"}),e.jsx(ge,{id:"telefone",name:"telefone",value:$t.telefone||"",onChange:ti})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(ue,{htmlFor:"endereco",children:"Endereço"}),e.jsx(Pt,{id:"endereco",name:"endereco",value:$t.endereco||"",onChange:ti})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("p",{children:"Nome e CRM são gerenciados pela administração."}),e.jsx("div",{className:"flex gap-2",children:e.jsx(Z,{onClick:$o,disabled:Kr,children:Kr?"Salvando...":"Salvar Dados do Médico"})})]})]})]})}),a&&e.jsx(Mt,{value:"medico",children:e.jsx(XI,{})})]})]})})}function JI({children:t}){const{user:s,isAuthenticated:a,loading:r}=un(),n=Pa(),{userPermissions:o}=Ps();if(r)return null;if(!a)return e.jsx(Zt,{to:"/login",state:{from:n},replace:!0});if(!s)return t;const c=(s==null?void 0:s.role)||(s==null?void 0:s.tipo),d=(o==null?void 0:o.medicoStatus)==="approved";return c!=="medico"&&c!=="admin"&&!d?c==="paciente"?e.jsx(Zt,{to:"/paciente/perfil",replace:!0}):c==="clinica"?e.jsx(Zt,{to:"/clinica/dashboard",replace:!0}):e.jsx(Zt,{to:"/",replace:!0}):t}function ZI({children:t}){const{user:s,isAuthenticated:a,loading:r}=un(),n=Pa();if(r)return null;if(!a)return e.jsx(Zt,{to:"/login",state:{from:n},replace:!0});if(!s)return t;const o=(s==null?void 0:s.role)||(s==null?void 0:s.tipo);return o!=="clinica"&&o!=="admin"?o==="paciente"?e.jsx(Zt,{to:"/paciente/perfil",replace:!0}):o==="medico"?e.jsx(Zt,{to:"/medico/dashboard",replace:!0}):e.jsx(Zt,{to:"/",replace:!0}):t}function eL({children:t}){const{user:s,isAuthenticated:a,loading:r}=un(),n=Pa(),[o,c]=x.useState(!1),[d,m]=x.useState(!1);if(x.useEffect(()=>{let p=!0;async function h(){if(!a)return;if(((s==null?void 0:s.role)||(s==null?void 0:s.tipo))==="secretaria"){c(!0);try{const j=await Rt.getPacienteDoUsuario();if(!p)return;m(!!(j!=null&&j.id))}catch{if(!p)return;m(!1)}finally{p&&c(!1)}}}return h(),()=>{p=!1}},[a,s==null?void 0:s.role,s==null?void 0:s.tipo]),r||o)return null;if(!a)return e.jsx(Zt,{to:"/login",state:{from:n},replace:!0});if(!s)return t;const f=(s==null?void 0:s.role)||(s==null?void 0:s.tipo);return f!=="paciente"&&f!=="admin"?f==="secretaria"&&d?t:f==="medico"?e.jsx(Zt,{to:"/medico/dashboard",replace:!0}):f==="clinica"?e.jsx(Zt,{to:"/clinica/dashboard",replace:!0}):e.jsx(Zt,{to:"/",replace:!0}):t}function tL({children:t}){const{user:s,isAuthenticated:a,loading:r}=un(),n=Pa();if(r)return null;if(!a)return e.jsx(Zt,{to:"/login",state:{from:n},replace:!0});const o=(s==null?void 0:s.role)||(s==null?void 0:s.tipo);return o!=="admin"?o==="paciente"?e.jsx(Zt,{to:"/paciente/perfil",replace:!0}):o==="medico"?e.jsx(Zt,{to:"/medico/dashboard",replace:!0}):o==="clinica"?e.jsx(Zt,{to:"/clinica/dashboard",replace:!0}):e.jsx(Zt,{to:"/",replace:!0}):t}const Ma={async getPerfil(){const{data:t}=await ce.get("/secretarias/me/");return t},async listarMedicos(){const{data:t}=await ce.get("/api/medicos/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async listarClinicas(){const{data:t}=await ce.get("/clinicas/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async getConsultasDoMedico(t,s={}){const a="/api/consultas/",r=t?`${a}?medico=${t}`:a,{data:n}=await ce.get(r,{params:s});return n},async agendarConsulta(t){const s="/agendamentos/",{data:a}=await ce.post(s,t);return a},async atualizarConsulta(t,s){const a=`/agendamentos/${t}/`,{data:r}=await ce.patch(a,s);return r},async atualizarStatus(t,s){const a=`/agendamentos/${t}/`,{data:r}=await ce.patch(a,{status:s});return r},async confirmarConsulta(t){const s=`/agendamentos/${t}/confirmar/`,{data:a}=await ce.post(s);return a},async cancelarConsulta(t,s){const a=`/agendamentos/${t}/cancelar/`,{data:r}=await ce.post(a,{motivo:s});return r},async registrarPresenca(t){const s=`/agendamentos/${t}/presenca/`,{data:a}=await ce.post(s);return a},async registrarPaciente(t){const s="/auth/register/",a=String((t==null?void 0:t.nome)||"").trim(),[r,...n]=a.split(/\s+/),o=n.join(" "),c=String((t==null?void 0:t.email)||"").trim(),d=String((t==null?void 0:t.senha)||(t==null?void 0:t.password)||""),p={username:`${(c.split("@")[0]||r||"paciente").toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.floor(Math.random()*1e4)}`,email:c,password:d,first_name:r,last_name:o,role:"paciente",cpf:(t==null?void 0:t.cpf)||"",telefone:(t==null?void 0:t.telefone)||"",data_nascimento:(t==null?void 0:t.data_nascimento)||"",endereco:(t==null?void 0:t.endereco)||""},{data:h}=await ce.post(s,p,{});return h}},aL=t=>{var a;const s=r=>(r==null?void 0:r.nome)||(r==null?void 0:r.titulo)||(r==null?void 0:r.name)||(r==null?void 0:r.descricao)||(r==null?void 0:r.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const r=t.especialidades.map(n=>s(n)||(typeof n=="string"?n:null)).filter(Boolean);if(r.length)return r.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const r=s(t.especialidade);if(r)return r}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((a=t==null?void 0:t.user)==null?void 0:a.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():null};function rL(){const[t,s]=x.useState([]),[a,r]=x.useState(!0),[n,o]=x.useState(!1),[c,d]=x.useState(null),{toast:m}=ta(),f=Fa(),[p,h]=x.useState({medico:"",modalidade:"presencial",local:"",tipo:"primeira",preferenciaData:"",preferenciaTurno:"indiferente",motivo:"",observacoes:""}),g=S=>S?typeof S=="string"?S:[S.logradouro,S.numero,S.bairro,S.cidade,S.estado].filter(Boolean).join(" ").trim()||null:null,j=S=>{var k,P,R;return(S==null?void 0:S.local_atendimento)||(S==null?void 0:S.local)||g(S==null?void 0:S.endereco)||g((k=S==null?void 0:S.user)==null?void 0:k.endereco)||g((P=S==null?void 0:S.clinica)==null?void 0:P.endereco)||((R=S==null?void 0:S.clinica)==null?void 0:R.nome)||null};x.useEffect(()=>{let S=!0;return(async()=>{r(!0),d(null);try{const k=await Rt.getMedicos(),P=Array.isArray(k)?k:(k==null?void 0:k.results)||[];s(P)}catch(k){console.error("Erro ao buscar médicos:",k),d("Não foi possível carregar a lista de médicos.")}finally{S&&r(!1)}})(),()=>{S=!1}},[]),x.useEffect(()=>{if(p.modalidade!=="presencial"){p.local&&h(P=>({...P,local:""}));return}const S=t.find(P=>{var R;return String(P.id||((R=P==null?void 0:P.user)==null?void 0:R.id))===String(p.medico)}),k=S?j(S):"";h(P=>({...P,local:k||""}))},[p.medico,p.modalidade,t]);const b=S=>k=>{const P=k!=null&&k.target?k.target.value:k;h(R=>({...R,[S]:P}))},y=()=>p.medico?p.motivo?p.modalidade==="presencial"&&!p.local?"Local do médico não definido.":p.preferenciaData?null:"Selecione uma data preferida.":"Informe o motivo principal.":"Selecione um médico.",w=async S=>{var P,R;S.preventDefault();const k=y();if(k){m({title:"Validação",description:k,variant:"destructive"});return}o(!0),d(null);try{const D=t.find($=>{var M;return String($.id||((M=$==null?void 0:$.user)==null?void 0:M.id)||($==null?void 0:$.nome))===String(p.medico)}),E=(D==null?void 0:D.id)||((P=D==null?void 0:D.user)==null?void 0:P.id)||(Number(p.medico)?Number(p.medico):void 0);if(!E)throw new Error("Não foi possível identificar o médico selecionado.");const O=$=>!$||$==="indiferente"||$==="manha"?"08:00":$==="tarde"?"14:00":$==="noite"?"19:00":"08:00",I=await Rt.getPacienteDoUsuario();if(!(I==null?void 0:I.id))throw new Error("Paciente atual não encontrado.");const B={medico:E,modalidade:p.modalidade,tipo:p.tipo,motivo:p.motivo};p.preferenciaData&&(B.data=p.preferenciaData);const Y=O(p.preferenciaTurno);Y&&(B.hora=Y),p.observacoes&&(B.observacoes=p.observacoes),await Rt.agendarConsulta(B),m({title:"Solicitação enviada",description:"Sua solicitação foi enviada à Secretaria. Aguarde confirmação."}),f("/paciente/consultas")}catch(D){const E=(R=D==null?void 0:D.response)==null?void 0:R.data;let O=typeof E=="string"&&E||(E==null?void 0:E.detail)||(D==null?void 0:D.message)||"Não foi possível enviar sua solicitação.";if(E&&typeof E=="object")try{const I=Object.entries(E).map(([z,B])=>`${z}: ${Array.isArray(B)?B.join(", "):typeof B=="object"?JSON.stringify(B):String(B)}`);I.length&&(O=I.join(" | "))}catch{}d(O),m({title:"Erro",description:O,variant:"destructive"})}finally{o(!1)}},C=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Entrar em contato com o médico"})]}),e.jsx(qr,{tabs:C,basePath:"/paciente"}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Contato para agendamento"})}),e.jsx(ie,{children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Médico"}),e.jsxs(Ct,{value:p.medico,onValueChange:S=>h(k=>({...k,medico:S})),disabled:a,children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:a?"Carregando...":"Selecione um médico"})}),e.jsx(Nt,{children:t.length===0?e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum médico disponível"}):t.map(S=>{var R,D,E;const k=(S==null?void 0:S.nome)||[(R=S==null?void 0:S.user)==null?void 0:R.first_name,(D=S==null?void 0:S.user)==null?void 0:D.last_name].filter(Boolean).join(" ")||(S==null?void 0:S.username)||(S==null?void 0:S.email)||`Médico #${(S==null?void 0:S.id)||""}`,P=aL(S);return e.jsxs(ye,{value:String(S.id||((E=S==null?void 0:S.user)==null?void 0:E.id)||k),children:[k,P?` - ${P}`:""]},S.id||k)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Tipo"}),e.jsxs(Ct,{value:p.tipo,onValueChange:S=>h(k=>({...k,tipo:S})),children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Selecione o tipo"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"primeira",children:"Primeira consulta"}),e.jsx(ye,{value:"retorno",children:"Retorno"}),e.jsx(ye,{value:"rotina",children:"Rotina"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Modalidade"}),e.jsxs(Ct,{value:p.modalidade,onValueChange:S=>h(k=>({...k,modalidade:S})),children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Selecione a modalidade"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"presencial",children:"Presencial"}),e.jsx(ye,{value:"online",disabled:!0,children:"Online (em breve)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Local"}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{value:p.local,placeholder:"Rua das Flores, 123",readOnly:!0}),e.jsx(Qd,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),p.modalidade==="presencial"&&e.jsx("div",{className:"text-xs text-muted-foreground",children:"O local é definido pelo médico e preenchido automaticamente."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Preferência de Data"}),e.jsx(Ja,{id:"preferenciaData",name:"preferenciaData",value:p.preferenciaData,onChange:S=>h(k=>({...k,preferenciaData:S}))}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: ajuda a secretaria a oferecer horários próximos."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Turno período"}),e.jsxs(Ct,{value:p.preferenciaTurno,onValueChange:S=>h(k=>({...k,preferenciaTurno:S})),children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Selecione o período"})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"indiferente",children:"Indiferente"}),e.jsx(ye,{value:"manha",children:"Manhã"}),e.jsx(ye,{value:"tarde",children:"Tarde"}),e.jsx(ye,{value:"noite",children:"Noite"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Opcional: a secretaria tenta encaixar nesse período."})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(ue,{children:"Motivo"}),e.jsx(ge,{value:p.motivo,onChange:b("motivo"),placeholder:"Ex: dor, retorno de exame, etc."})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(ue,{children:"Observações"}),e.jsx(Pt,{value:p.observacoes,onChange:b("observacoes"),placeholder:"Opcional"})]})]}),c&&e.jsx("div",{className:"text-sm text-red-600",children:c}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(Z,{type:"button",variant:"outline",onClick:()=>f("/paciente/consultas"),children:"Cancelar"}),e.jsx(Z,{type:"submit",disabled:n,children:"Entrar em contato"})]})]})})]})]})}function sL(){const[t,s]=x.useState(!1),[a,r]=x.useState(""),[n,o]=x.useState([]),[c,d]=x.useState(0),[m,f]=x.useState(""),[p,h]=x.useState(1),[g]=x.useState(10);x.useEffect(()=>{let K=!0;const J=setTimeout(async()=>{s(!0),r("");try{const V={search:m||void 0,page:p,limit:g},U=await Ot.getUsuarios(V),X=Array.isArray(U==null?void 0:U.results)?U.results:Array.isArray(U)?U:[],le=typeof(U==null?void 0:U.count)=="number"?U.count:X.length;if(!K)return;o(X),d(le)}catch{if(!K)return;r("Não foi possível carregar os usuários.")}finally{K&&s(!1)}},300);return()=>{K=!1,clearTimeout(J)}},[m,p,g]);const j=x.useMemo(()=>Math.max(1,Math.ceil(c/g)),[c,g]),[b,y]=x.useState(new Set),[w,C]=x.useState(!1),[S,k]=x.useState(!1),[P,R]=x.useState(!1),[D,E]=x.useState(""),[O,I]=x.useState(null),[z,B]=x.useState(!1),[Y,$]=x.useState(!1),[M,G]=x.useState(""),[T,L]=x.useState({first_name:"",last_name:"",email:"",password:"",role:""}),H=()=>{if(n.length===0)return;const K=n.map(V=>V==null?void 0:V.id).filter(Boolean),J=K.every(V=>b.has(V));y(J?new Set:new Set(K))},Q=K=>{K&&y(J=>{const V=new Set(J);return V.has(K)?V.delete(K):V.add(K),V})},te=async()=>{const K=Array.from(b);if(K.length===0){window.alert("Selecione ao menos um usuário com ID válido.");return}if(window.confirm(`Confirma excluir ${K.length} usuário(s)?`))try{C(!0),await Ot.removerUsuariosEmMassa(K),y(new Set),s(!0),r("");const J={search:m||void 0,page:p,limit:g},V=await Ot.getUsuarios(J),U=Array.isArray(V==null?void 0:V.results)?V.results:Array.isArray(V)?V:[],X=typeof(V==null?void 0:V.count)=="number"?V.count:U.length;o(U),d(X)}catch{window.alert("Falha ao excluir usuários selecionados.")}finally{C(!1),s(!1)}},A=K=>{if(!K)return;const J=K.first_name||K.firstName||"",V=K.last_name||K.lastName||"",U=K.email||"",X=(K.role||K.tipo||"").toString().toLowerCase(),le=K.is_active??K.ativo??!0;I({id:K.id,first_name:J,last_name:V,email:U,role:X,is_active:le}),E(""),k(!0)},W=async()=>{if(!(O!=null&&O.id)){E("ID do usuário indisponível.");return}try{R(!0),E("");const K={first_name:O.first_name,last_name:O.last_name,email:O.email,role:O.role,is_active:!!O.is_active};await Ot.updateUsuario(O.id,K),k(!1),s(!0),r("");const J={search:m||void 0,page:p,limit:g},V=await Ot.getUsuarios(J),U=Array.isArray(V==null?void 0:V.results)?V.results:Array.isArray(V)?V:[],X=typeof(V==null?void 0:V.count)=="number"?V.count:U.length;o(U),d(X)}catch{E("Não foi possível salvar as alterações.")}finally{R(!1),s(!1)}},re=async()=>{var K;if(!T.email||!T.password||!T.role){G("Preencha e-mail, senha e tipo.");return}try{$(!0),G("");const J={first_name:T.first_name,last_name:T.last_name,email:T.email,password:T.password,role:T.role};await Ot.createUsuario(J),B(!1),L({first_name:"",last_name:"",email:"",password:"",role:""}),s(!0),r("");const V={search:m||void 0,page:p,limit:g},U=await Ot.getUsuarios(V),X=Array.isArray(U==null?void 0:U.results)?U.results:Array.isArray(U)?U:[],le=typeof(U==null?void 0:U.count)=="number"?U.count:X.length;o(X),d(le)}catch(J){const V=(K=J==null?void 0:J.response)!=null&&K.data?JSON.stringify(J.response.data):"Não foi possível criar o usuário.";G(V)}finally{$(!1),s(!1)}};return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usuários"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os usuários do sistema"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, email...",value:m,onChange:K=>{h(1),f(K.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${c} usuário(s)`}),e.jsxs("div",{className:"ml-auto flex gap-2",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:()=>{G(""),L({first_name:"",last_name:"",email:"",password:"",role:""}),B(!0)},disabled:t,children:"Novo usuário"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-red-600 text-white disabled:opacity-50",onClick:te,disabled:w||b.size===0||t,title:b.size===0?"Selecione usuários":"Excluir selecionados",children:w?"Excluindo...":`Excluir selecionados (${b.size})`})]})]}),a&&e.jsx("div",{className:"text-sm text-red-600",children:a}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:e.jsx("input",{type:"checkbox",checked:n.length>0&&n.map(K=>K==null?void 0:K.id).filter(Boolean).every(K=>b.has(K)),onChange:H})}),e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Tipo"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Ações"})]})}),e.jsxs("tbody",{children:[n.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Nenhum usuário encontrado"})}),n.map(K=>{const J=(K==null?void 0:K.nome)||[K==null?void 0:K.first_name,K==null?void 0:K.last_name].filter(Boolean).join(" ")||(K==null?void 0:K.name)||(K==null?void 0:K.username)||"-",V=(K==null?void 0:K.email)||"-",U=(K==null?void 0:K.tipo)||(K==null?void 0:K.role)||(K==null?void 0:K.perfil)||"-",X=(K==null?void 0:K.is_active)??(K==null?void 0:K.ativo)??(K==null?void 0:K.status)??null,le=X===!0?"Ativo":X===!1?"Inativo":String(X??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"checkbox",disabled:!(K!=null&&K.id),checked:K!=null&&K.id?b.has(K.id):!1,onChange:()=>Q(K==null?void 0:K.id)})}),e.jsx("td",{className:"p-3",children:J}),e.jsx("td",{className:"p-3",children:V}),e.jsx("td",{className:"p-3 capitalize",children:String(U).toLowerCase()}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${X===!0?"bg-emerald-100 text-emerald-700":X===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:le})}),e.jsx("td",{className:"p-3",children:e.jsx("button",{className:"px-3 py-1 border rounded-md text-xs",onClick:()=>A(K),disabled:!(K!=null&&K.id),title:K!=null&&K.id?"Editar usuário":"ID indisponível",children:"Editar"})})]},(K==null?void 0:K.id)||`${V}-${J}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(K=>Math.max(1,K-1)),disabled:p<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",p," de ",j]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(K=>Math.min(j,K+1)),disabled:p>=j||t,children:"Próxima"})]}),S&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar usuário"}),D&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:D}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(O==null?void 0:O.first_name)||"",onChange:K=>I(J=>({...J,first_name:K.target.value})),disabled:P})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(O==null?void 0:O.last_name)||"",onChange:K=>I(J=>({...J,last_name:K.target.value})),disabled:P})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(O==null?void 0:O.email)||"",onChange:K=>I(J=>({...J,email:K.target.value})),disabled:P})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(O==null?void 0:O.role)||"",onChange:K=>I(J=>({...J,role:K.target.value})),disabled:P,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Médico"}),e.jsx("option",{value:"clinica",children:"Clínica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Ativo"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!(O!=null&&O.is_active),onChange:K=>I(J=>({...J,is_active:K.target.checked})),disabled:P}),e.jsx("span",{className:"text-sm",children:O!=null&&O.is_active?"Ativo":"Inativo"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>k(!1),disabled:P,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:W,disabled:P,children:P?"Salvando...":"Salvar"})]})]})}),z&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Novo usuário"}),M&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:M}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:T.first_name,onChange:K=>L(J=>({...J,first_name:K.target.value})),disabled:Y})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:T.last_name,onChange:K=>L(J=>({...J,last_name:K.target.value})),disabled:Y})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:T.email,onChange:K=>L(J=>({...J,email:K.target.value})),disabled:Y})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Senha"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-md bg-background",value:T.password,onChange:K=>L(J=>({...J,password:K.target.value})),disabled:Y})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:T.role,onChange:K=>L(J=>({...J,role:K.target.value})),disabled:Y,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Médico"}),e.jsx("option",{value:"clinica",children:"Clínica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>B(!1),disabled:Y,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:re,disabled:Y,children:Y?"Criando...":"Criar"})]})]})})]})}function nL(){const[t,s]=x.useState(!1),[a,r]=x.useState(""),[n,o]=x.useState([]),[c,d]=x.useState(0),[m,f]=x.useState(""),[p,h]=x.useState(1),[g]=x.useState(10);x.useEffect(()=>{let b=!0;const y=setTimeout(async()=>{s(!0),r("");try{const w={search:m||void 0,page:p,limit:g},C=await Ot.getClinicas(w),S=Array.isArray(C==null?void 0:C.results)?C.results:Array.isArray(C)?C:[],k=typeof(C==null?void 0:C.count)=="number"?C.count:S.length;if(!b)return;o(S),d(k)}catch{if(!b)return;r("Não foi possível carregar as clínicas.")}finally{b&&s(!1)}},300);return()=>{b=!1,clearTimeout(y)}},[m,p,g]);const j=x.useMemo(()=>Math.max(1,Math.ceil(c/g)),[c,g]);return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clínicas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie os cadastros de clínicas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ...",value:m,onChange:b=>{h(1),f(b.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${c} clínica(s)`})]}),a&&e.jsx("div",{className:"text-sm text-red-600",children:a}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"CNPJ"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Status"})]})}),e.jsxs("tbody",{children:[n.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Nenhuma clínica encontrada"})}),n.map(b=>{const y=(b==null?void 0:b.razao_social)||(b==null?void 0:b.nome)||(b==null?void 0:b.name)||"-",w=(b==null?void 0:b.cnpj)||"-",C=(b==null?void 0:b.email)||(b==null?void 0:b.contato_email)||"-",S=(b==null?void 0:b.is_active)??(b==null?void 0:b.ativo)??(b==null?void 0:b.status)??null,k=S===!0?"Ativa":S===!1?"Inativa":String(S??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:y}),e.jsx("td",{className:"p-3",children:w}),e.jsx("td",{className:"p-3",children:C}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${S===!0?"bg-emerald-100 text-emerald-700":S===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:k})})]},(b==null?void 0:b.id)||`${y}-${w}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(b=>Math.max(1,b-1)),disabled:p<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",p," de ",j]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(b=>Math.min(j,b+1)),disabled:p>=j||t,children:"Próxima"})]})]})}function iL(){const{toast:t}=ta(),[s,a]=x.useState(!0),[r,n]=x.useState(!1),[o,c]=x.useState(""),[d,m]=x.useState({first_name:"",last_name:"",email:"",telefone:""}),[f,p]=x.useState({atual:"",nova:"",confirmar:""}),[h,g]=x.useState(!1),[j,b]=x.useState({email:!0,sistema:!0,auditoria:!0,push:!1}),[y,w]=x.useState(!1),[C,S]=x.useState(()=>localStorage.getItem("admin_lang")||"pt-BR"),k=I=>b(z=>({...z,[I]:!z[I]}));x.useEffect(()=>{let I=!0;return(async()=>{var z;try{a(!0),c("");const B=await Rt.getPerfil();if(!I)return;m({first_name:(B==null?void 0:B.first_name)||"",last_name:(B==null?void 0:B.last_name)||"",email:(B==null?void 0:B.email)||"",telefone:(B==null?void 0:B.telefone)||""});try{const Y=localStorage.getItem("admin_notification_prefs");Y&&b($=>({...$,...JSON.parse(Y)}))}catch{}}catch(B){if(!I)return;const Y=(z=B==null?void 0:B.response)==null?void 0:z.status;c(Y===401?"Sessão inválida. Faça login novamente.":"Não foi possível carregar seu perfil.")}finally{I&&a(!1)}})(),()=>{I=!1}},[]);const P=I=>{const{name:z,value:B}=I.target;m(Y=>({...Y,[z]:B}))},R=async()=>{var I;n(!0),c("");try{await Rt.atualizarPerfil({first_name:d.first_name,last_name:d.last_name,email:d.email,telefone:d.telefone}),t({title:"Perfil atualizado",description:"As informações foram salvas com sucesso."})}catch(z){const Y=((I=z==null?void 0:z.response)==null?void 0:I.status)===400?"Dados inválidos. Verifique os campos.":"Não foi possível salvar as alterações.";c(Y),t({title:"Erro",description:Y,variant:"destructive"})}finally{n(!1)}},D=async()=>{if(!f.atual||!f.nova||!f.confirmar){t({title:"Validação",description:"Preencha todos os campos de senha.",variant:"destructive"});return}if(f.nova!==f.confirmar){t({title:"Validação",description:"A confirmação da nova senha não confere.",variant:"destructive"});return}g(!0);try{await new Promise(I=>setTimeout(I,600)),t({title:"Em breve",description:"Alteração de senha será integrada ao backend.",variant:"default"}),p({atual:"",nova:"",confirmar:""})}finally{g(!1)}},E=async()=>{w(!0);try{localStorage.setItem("admin_notification_prefs",JSON.stringify(j)),t({title:"Notificações salvas",description:"Preferências armazenadas neste dispositivo."})}catch{t({title:"Erro",description:"Não foi possível salvar as preferências.",variant:"destructive"})}finally{w(!1)}},O=()=>{localStorage.setItem("admin_lang",C),t({title:"Idioma atualizado",description:`Idioma definido para ${C}.`})};return e.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações (Admin)"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e preferências administrativas"})]}),e.jsxs(Wr,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(Yr,{className:"grid w-full grid-cols-4",children:[e.jsx(Dt,{value:"perfil",children:"Perfil"}),e.jsx(Dt,{value:"seguranca",children:"Segurança"}),e.jsx(Dt,{value:"notificacoes",children:"Notificações"}),e.jsx(Dt,{value:"sistema",children:"Sistema"})]}),e.jsx(Mt,{value:"perfil",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Informações do Perfil"})}),e.jsxs(ie,{className:"space-y-4",children:[o&&e.jsx("p",{className:"text-sm text-red-500",children:o}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"first_name",children:"Nome"}),e.jsx(ge,{id:"first_name",name:"first_name",value:d.first_name,onChange:P,disabled:s||r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(ge,{id:"last_name",name:"last_name",value:d.last_name,onChange:P,disabled:s||r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"email",children:"E-mail"}),e.jsx(ge,{id:"email",name:"email",type:"email",value:d.email,onChange:P,disabled:s||r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"telefone",children:"Telefone"}),e.jsx(ge,{id:"telefone",name:"telefone",value:d.telefone,onChange:P,disabled:s||r})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Z,{onClick:R,disabled:s||r,children:r?"Salvando...":"Salvar alterações"})})]})]})}),e.jsx(Mt,{value:"seguranca",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Segurança"})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"pwd_atual",children:"Senha atual"}),e.jsx(ge,{id:"pwd_atual",type:"password",value:f.atual,onChange:I=>p(z=>({...z,atual:I.target.value})),disabled:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"pwd_nova",children:"Nova senha"}),e.jsx(ge,{id:"pwd_nova",type:"password",value:f.nova,onChange:I=>p(z=>({...z,nova:I.target.value})),disabled:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"pwd_confirmar",children:"Confirmar nova senha"}),e.jsx(ge,{id:"pwd_confirmar",type:"password",value:f.confirmar,onChange:I=>p(z=>({...z,confirmar:I.target.value})),disabled:h})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Z,{onClick:D,disabled:h,children:h?"Processando...":"Alterar senha"})})]})]})}),e.jsx(Mt,{value:"notificacoes",children:e.jsxs(ne,{children:[e.jsxs(pe,{children:[e.jsx(he,{children:"Preferências de Notificação"}),e.jsx(rt,{children:"Configure como você deseja receber notificações"})]}),e.jsxs(ie,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações importantes por email"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>k("email"),disabled:y,children:j.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Eventos do Sistema"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos sobre operações e eventos administrativos"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>k("sistema"),disabled:y,children:j.sistema?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Alterações e Auditoria"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifique mudanças críticas e logs de auditoria"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>k("auditoria"),disabled:y,children:j.auditoria?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações no navegador"})]}),e.jsx(Z,{variant:"outline",size:"sm",onClick:()=>k("push"),disabled:y,children:j.push?"Ativado":"Desativado"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Z,{onClick:E,disabled:y,children:y?"Salvando...":"Salvar Preferências"})})]})]})}),e.jsx(Mt,{value:"sistema",children:e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Sistema"})}),e.jsxs(ie,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Tema"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qh,{}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Alterne entre claro/escuro"})]})]}),e.jsx(lr,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Idioma"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{className:"border rounded px-2 py-1",value:C,onChange:I=>S(I.target.value),children:[e.jsx("option",{value:"pt-BR",children:"Português (Brasil)"}),e.jsx("option",{value:"en-US",children:"English (US)"})]}),e.jsx(Z,{variant:"outline",onClick:O,children:"Aplicar"})]})]})]})]})})]})]})}function oL(){const[t,s]=x.useState([]),[a,r]=x.useState(null),[n,o]=x.useState(!0),[c,d]=x.useState(!1),[m,f]=x.useState([]),{toast:p}=ta(),[h,g]=x.useState("todas"),[j,b]=x.useState(""),[y,w]=x.useState(!1),[C,S]=x.useState(!1),[k,P]=x.useState({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),[R,D]=x.useState(""),[E,O]=x.useState(!1),[I,z]=x.useState([]);x.useEffect(()=>{let A=!0;return(async()=>{o(!0);try{const W=await Ma.listarMedicos();if(!A)return;s(Array.isArray(W)?W:[]);const re=localStorage.getItem("secretaria.medicoId");re&&(W==null?void 0:W.some(J=>String(J.id)===String(re)))?r(re):(W==null?void 0:W.length)>0&&r(String(W[0].id))}catch(W){console.error("Erro ao carregar médicos:",W)}finally{A&&o(!1)}})(),()=>{A=!1}},[]),x.useEffect(()=>{if(!a)return;let A=!0;return(async()=>{d(!0);try{const W=await Ma.listarConsultasHoje(a);if(!A)return;f(Array.isArray(W)?W:[]),localStorage.setItem("secretaria.medicoId",a)}catch(W){console.error("Erro ao carregar consultas:",W)}finally{A&&d(!1)}})(),()=>{A=!1}},[a]);const B=x.useMemo(()=>t.map(A=>({value:String(A.id),label:A.nome})),[t]),Y=x.useMemo(()=>{let A=m;if(h!=="todas"&&(A=A.filter(W=>W.status===h)),j.trim()){const W=j.toLowerCase();A=A.filter(re=>{var K;return(K=re.pacienteNome)==null?void 0:K.toLowerCase().includes(W)})}return A},[m,h,j]),$=A=>{try{const W=new Date(A);if(!isNaN(W.getTime()))return W.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof A=="string"&&/^\d{2}:\d{2}/.test(A))return A.slice(0,5)}catch{}return"-"},M=(A,W)=>{f(re=>re.map(K=>K.id===A?{...K,status:W}:K))},G=async A=>{try{await Ma.confirmarConsulta(A.id),M(A.id,"Confirmada"),p({title:"Consulta confirmada",description:`Paciente ${A.pacienteNome} às ${$(A.dataHora)}`})}catch{p({title:"Erro",description:"Não foi possível confirmar a consulta.",variant:"destructive"})}},T=async A=>{try{await Ma.cancelarConsulta(A.id),M(A.id,"Cancelada"),p({title:"Consulta cancelada",description:`Paciente ${A.pacienteNome} às ${$(A.dataHora)}`})}catch{p({title:"Erro",description:"Não foi possível cancelar a consulta.",variant:"destructive"})}},L=async A=>{try{await Ma.registrarPresenca(A.id),M(A.id,"Realizada"),p({title:"Presença registrada",description:`Paciente ${A.pacienteNome} às ${$(A.dataHora)}`})}catch{p({title:"Erro",description:"Não foi possível registrar a presença.",variant:"destructive"})}},H=async A=>{if(A.preventDefault(),!k.pacienteId||!k.data||!k.hora||!a){p({title:"Erro",description:"Preencha todos os campos obrigatórios.",variant:"destructive"});return}S(!0);try{if(await Ma.agendarConsulta({pacienteId:k.pacienteId,medicoId:a,data:k.data,hora:k.hora,tipo:k.tipo,motivo:k.motivo,observacoes:k.observacoes}),p({title:"Sucesso",description:"Consulta agendada com sucesso!"}),w(!1),P({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),D(""),z([]),a){const W=await Ma.listarConsultasHoje(a);f(Array.isArray(W)?W:[])}}catch{p({title:"Erro",description:"Não foi possível agendar a consulta.",variant:"destructive"})}finally{S(!1)}},Q=async A=>{if(!A.trim()){z([]);return}O(!0);try{const W=await Ma.buscarPacientes(A);z(Array.isArray(W)?W:[])}catch(W){console.error("Erro ao buscar pacientes:",W),z([])}finally{O(!1)}};x.useEffect(()=>{const A=setTimeout(()=>Q(R),300);return()=>clearTimeout(A)},[R]);const te=x.useMemo(()=>{const A=m.length,W=m.filter(J=>J.status==="Confirmada").length,re=m.filter(J=>J.status==="Agendada").length,K=m.filter(J=>J.status==="Realizada").length;return{total:A,confirmadas:W,pendentes:re,realizadas:K}},[m]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Dashboard Secretária"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie consultas e acompanhe a agenda dos médicos."})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 min-w-fit",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ot,{className:"h-5 w-5 text-blue-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Total"})]}),e.jsx("div",{className:"text-2xl font-bold",children:te.total})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(_s,{className:"h-5 w-5 text-green-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Confirmadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-300",children:te.confirmadas})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(pt,{className:"h-5 w-5 text-orange-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Pendentes"})]}),e.jsx("div",{className:"text-2xl font-bold text-orange-300",children:te.pendentes})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(hr,{className:"h-5 w-5 text-purple-300"}),e.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Realizadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-300",children:te.realizadas})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.jsx(Z,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm transition-all duration-200",asChild:!0,children:e.jsxs(it,{to:"/secretaria/pacientes",children:[e.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Ver Pacientes"]})}),e.jsxs(Ii,{open:y,onOpenChange:w,children:[e.jsx(G1,{asChild:!0,children:e.jsxs(Z,{className:"bg-white text-blue-600 hover:bg-blue-50 transition-all duration-200",children:[e.jsx(Cu,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]})}),e.jsxs(Jn,{children:[e.jsx(Zn,{children:e.jsx(ei,{children:"Novo agendamento"})}),e.jsxs("form",{onSubmit:H,className:"px-6 pb-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Ct,{value:a??void 0,onValueChange:r,children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Escolha um médico"})}),e.jsx(Nt,{children:B.map(A=>e.jsx(ye,{value:A.value,children:A.label},A.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Tipo"}),e.jsxs(Ct,{value:k.tipo,onValueChange:A=>P(W=>({...W,tipo:A})),children:[e.jsx(wt,{children:e.jsx(kt,{})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"primeira",children:"Primeira consulta"}),e.jsx(ye,{value:"retorno",children:"Retorno"}),e.jsx(ye,{value:"urgencia",children:"Urgência"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(Ja,{value:k.data,onChange:A=>P(W=>({...W,data:A})),minDate:new Date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Hora"}),e.jsx(ge,{type:"time",value:k.hora,onChange:A=>P(W=>({...W,hora:A.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Paciente"}),e.jsx(ge,{placeholder:"Digite o nome do paciente...",value:R,onChange:A=>D(A.target.value)}),E&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Buscando..."}),I.length>0&&e.jsx("div",{className:"mt-2 border rounded-md max-h-32 overflow-y-auto",children:I.map(A=>e.jsxs("div",{className:"p-2 hover:bg-muted cursor-pointer text-sm",onClick:()=>{P(W=>({...W,pacienteId:A.id})),D(A.nome),z([])},children:[A.nome," - ",A.cpf]},A.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Motivo"}),e.jsx(ge,{placeholder:"Motivo da consulta",value:k.motivo,onChange:A=>P(W=>({...W,motivo:A.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Observações"}),e.jsx(Pt,{placeholder:"Observações adicionais",value:k.observacoes,onChange:A=>P(W=>({...W,observacoes:A.target.value}))})]}),e.jsxs(Li,{children:[e.jsx(Z,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsx(Z,{type:"submit",disabled:C,children:C?"Agendando...":"Agendar"})]})]})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Total Consultas"}),e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(ot,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:te.total}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Consultas hoje"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Confirmadas"}),e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(_s,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:te.confirmadas}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Consultas confirmadas"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-semibold text-orange-700 dark:text-orange-300",children:"Pendentes"}),e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:e.jsx(pt,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-900 dark:text-orange-100",children:te.pendentes}),e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Aguardando confirmação"})]})]}),e.jsxs(ne,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50",children:[e.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(he,{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Realizadas"}),e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(hr,{className:"h-4 w-4 text-white"})})]}),e.jsxs(ie,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:te.realizadas}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Consultas finalizadas"})]})]})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(bt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-slate-800",children:"Selecione o médico"}),e.jsx(rt,{className:"text-slate-600",children:"Visualize rapidamente as consultas de hoje do médico selecionado."})]})]})}),e.jsx(ie,{className:"p-6",children:n?e.jsx(gt,{className:"h-10 w-72"}):e.jsx("div",{className:"w-72",children:e.jsxs(Ct,{value:a??void 0,onValueChange:A=>r(A),children:[e.jsx(wt,{className:"bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:e.jsx(kt,{placeholder:"Escolha um médico"})}),e.jsx(Nt,{children:B.map(A=>e.jsx(ye,{value:A.value,children:A.label},A.value))})]})})})]}),e.jsxs(ne,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(pe,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200/50",children:e.jsx("div",{className:"flex items-center justify-between gap-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ot,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(he,{className:"text-slate-800",children:"Consultas de hoje"}),e.jsx(rt,{className:"text-slate-600",children:c?"Carregando...":`${Y.length} consulta(s) encontrada(s)`})]})]})})}),e.jsxs(ie,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"flex-1",children:e.jsx(ge,{placeholder:"Buscar por paciente...",value:j,onChange:A=>b(A.target.value),className:"max-w-sm bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700"})}),e.jsxs(Ct,{value:h,onValueChange:g,children:[e.jsx(wt,{className:"w-48 bg-white border-slate-200 hover:bg-slate-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700",children:e.jsx(kt,{})}),e.jsxs(Nt,{children:[e.jsx(ye,{value:"todas",children:"Todas"}),e.jsx(ye,{value:"Agendada",children:"Agendadas"}),e.jsx(ye,{value:"Confirmada",children:"Confirmadas"}),e.jsx(ye,{value:"Realizada",children:"Realizadas"}),e.jsx(ye,{value:"Cancelada",children:"Canceladas"})]})]})]}),c?e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((A,W)=>e.jsx(gt,{className:"h-16 w-full"},W))}):Y.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(ot,{className:"h-8 w-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Nenhuma consulta encontrada"}),e.jsx("p",{className:"text-slate-500 text-sm",children:a?"Não há consultas para o médico selecionado hoje":"Selecione um médico para ver as consultas"})]}):e.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:e.jsxs($s,{children:[e.jsx(zs,{children:e.jsxs(ga,{className:"bg-slate-50 hover:bg-slate-50",children:[e.jsx(vt,{className:"font-semibold text-slate-700",children:"Horário"}),e.jsx(vt,{className:"font-semibold text-slate-700",children:"Paciente"}),e.jsx(vt,{className:"font-semibold text-slate-700",children:"Tipo"}),e.jsx(vt,{className:"font-semibold text-slate-700",children:"Status"}),e.jsx(vt,{className:"font-semibold text-slate-700",children:"Ações"})]})}),e.jsx(Bs,{children:Y.map(A=>{const W=A.status==="Agendada",re=["Agendada","Confirmada"].includes(A.status),K=A.status==="Confirmada";return e.jsxs(ga,{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 border-b border-slate-100",children:[e.jsx(ft,{className:"font-medium text-slate-900",children:$(A.dataHora)}),e.jsx(ft,{className:"text-slate-700",children:A.pacienteNome}),e.jsx(ft,{className:"text-slate-600",children:A.tipo||"Consulta"}),e.jsx(ft,{children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${A.status==="Confirmada"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":A.status==="Agendada"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":A.status==="Realizada"?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:A.status})}),e.jsx(ft,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{size:"sm",variant:"outline",disabled:!W,onClick:()=>G(A),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100 disabled:opacity-50",children:[e.jsx(_s,{className:"h-4 w-4 mr-1"})," Confirmar"]}),e.jsxs(Z,{size:"sm",variant:"outline",disabled:!re,onClick:()=>T(A),className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100 disabled:opacity-50",children:[e.jsx(Xa,{className:"h-4 w-4 mr-1"})," Cancelar"]}),e.jsxs(Z,{size:"sm",variant:"outline",disabled:!K,onClick:()=>L(A),className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 disabled:opacity-50",children:[e.jsx(bE,{className:"h-4 w-4 mr-1"})," Presença"]})]})})]},A.id)})})]})})]})]})]})}function lL(t={}){var o,c,d;const s=t.paciente_nome||((o=t==null?void 0:t.paciente)==null?void 0:o.nome)||((c=t==null?void 0:t.paciente)!=null&&c.user?[t.paciente.user.first_name,t.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",a=t.data_hora||t.horario||t.inicio||t.data||t.start_time||"",r=t.status||"Agendada",n=t.clinica_nome||((d=t==null?void 0:t.clinica)==null?void 0:d.nome)||t.local||"—";return{id:t.id||t.consulta_id||Math.random().toString(36).slice(2),pacienteNome:s,dataHora:a,status:r,clinica:n,tipo:t.tipo||t.modalidade||"Consulta"}}function cL(){const[t,s]=x.useState([]),[a,r]=x.useState(""),[n,o]=x.useState(""),[c,d]=x.useState(""),[m,f]=x.useState(!1),[p,h]=x.useState([]);x.useEffect(()=>{let b=!0;return(async()=>{try{const y=await Ma.listarMedicos();if(!b)return;s(Array.isArray(y)?y:[]);const w=localStorage.getItem("secretaria.medicoId");w&&r(String(w))}catch{}})(),()=>{b=!1}},[]);const g=async()=>{if(!a)return h([]);f(!0);try{localStorage.setItem("secretaria.medicoId",String(a));const b={};c&&(b.date=c);const y=await xt.getConsultasDoMedico({...b,medico:a}),C=(Array.isArray(y)?y:Array.isArray(y==null?void 0:y.results)?y.results:[]).map(lL);h(n?C.filter(S=>S.pacienteNome.toLowerCase().includes(n.toLowerCase())):C)}catch{h([])}finally{f(!1)}};x.useEffect(()=>{g()},[a]);const j=x.useMemo(()=>t.map(b=>{var y;return{value:String(b.id),label:b.nome||((y=b==null?void 0:b.user)==null?void 0:y.first_name)||`Médico #${b.id}`}}),[t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ot,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Consultas"})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5"})," Filtros"]})}),e.jsx(ie,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Ct,{value:a||void 0,onValueChange:b=>r(b),children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Escolha um médico"})}),e.jsx(Nt,{children:j.map(b=>e.jsx(ye,{value:b.value,children:b.label},b.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(Ja,{value:c,onChange:d})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar por paciente"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ge,{placeholder:"Nome do paciente",value:n,onChange:b=>o(b.target.value)}),e.jsxs(Z,{onClick:g,children:[e.jsx(qa,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})]})})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Resultados"})}),e.jsx(ie,{children:m?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):p.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta encontrada."}):e.jsxs($s,{children:[e.jsx(zs,{children:e.jsxs(ga,{children:[e.jsx(vt,{children:"Paciente"}),e.jsx(vt,{children:"Data/Hora"}),e.jsx(vt,{children:"Tipo"}),e.jsx(vt,{children:"Status"}),e.jsx(vt,{children:"Clínica"})]})}),e.jsx(Bs,{children:p.map(b=>e.jsxs(ga,{children:[e.jsx(ft,{children:b.pacienteNome}),e.jsx(ft,{children:b.dataHora||"—"}),e.jsx(ft,{children:b.tipo}),e.jsx(ft,{children:b.status}),e.jsx(ft,{children:b.clinica})]},b.id))})]})})]})]})}function Oy(t={}){const s=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[s.first_name,s.last_name].filter(Boolean).join(" ")||s.username||`Paciente #${(t==null?void 0:t.id)||"?"}`}function dL(){const[t,s]=x.useState([]),[a,r]=x.useState(""),[n,o]=x.useState(""),[c,d]=x.useState(!1),[m,f]=x.useState([]),{toast:p}=ta(),[h,g]=x.useState(!1),[j,b]=x.useState(!1),[y,w]=x.useState({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""}),C=D=>{const E=String(D||"").replace(/\D/g,"").slice(0,11),O=E.slice(0,3),I=E.slice(3,6),z=E.slice(6,9),B=E.slice(9,11);return E.length>9?`${O}.${I}.${z}-${B}`:E.length>6?`${O}.${I}.${z}`:E.length>3?`${O}.${I}`:O},S=D=>{const{name:E,value:O}=D.target;if(E==="cpf")return w(I=>({...I,cpf:C(O)}));w(I=>({...I,[E]:O}))};x.useEffect(()=>{let D=!0;return(async()=>{try{const E=await Ma.listarMedicos();if(!D)return;s(Array.isArray(E)?E:[]);const O=localStorage.getItem("secretaria.medicoId");O&&r(String(O))}catch{}})(),()=>{D=!1}},[]);const k=async()=>{if(!a)return f([]);d(!0);try{const D=await xt.getPacientesVinculados(a),E=Array.isArray(D)?D:Array.isArray(D==null?void 0:D.results)?D.results:[];f(E)}catch{f([])}finally{d(!1)}};x.useEffect(()=>{k()},[a]);const P=x.useMemo(()=>m.filter(D=>Oy(D).toLowerCase().includes(n.toLowerCase())),[m,n]),R=async D=>{var E,O;if((E=D==null?void 0:D.preventDefault)==null||E.call(D),!y.nome||!y.email||!y.senha||!y.confirmSenha){p({title:"Campos obrigatórios",description:"Preencha nome, email e senha.",variant:"destructive"});return}if(y.senha!==y.confirmSenha){p({title:"Senhas não conferem",description:"A confirmação deve ser igual à senha.",variant:"destructive"});return}b(!0);try{await Ma.registrarPaciente(y),p({title:"Paciente cadastrado",description:"O paciente foi criado com sucesso. Ele aparecerá na lista do médico após o primeiro vínculo (ex.: agendamento de consulta)."}),g(!1),w({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""})}catch(I){const z=(O=I==null?void 0:I.response)!=null&&O.data?JSON.stringify(I.response.data):(I==null?void 0:I.message)||"Falha ao cadastrar";p({title:"Erro ao cadastrar",description:z,variant:"destructive"})}finally{b(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Sa,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Pacientes"})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2 justify-between",children:[e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(qa,{className:"h-5 w-5"})," Filtros"]}),e.jsxs(Ii,{open:h,onOpenChange:g,children:[e.jsx(G1,{asChild:!0,children:e.jsxs("button",{className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"})," Cadastrar Paciente"]})}),e.jsxs(Jn,{className:"max-w-lg",children:[e.jsxs(Zn,{children:[e.jsx(ei,{children:"Novo Paciente"}),e.jsx(oc,{children:"Preencha os dados básicos para criar a conta do paciente."})]}),e.jsxs("form",{className:"space-y-3",onSubmit:R,children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Nome completo"}),e.jsx(ge,{name:"nome",value:y.nome,onChange:S,placeholder:"Ex.: Maria Silva"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"E-mail"}),e.jsx(ge,{name:"email",value:y.email,onChange:S,type:"email",placeholder:"email@exemplo.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"CPF"}),e.jsx(ge,{name:"cpf",value:y.cpf,onChange:S,placeholder:"000.000.000-00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Telefone"}),e.jsx(ge,{name:"telefone",value:y.telefone,onChange:S,placeholder:"(00) 00000-0000"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data de nascimento"}),e.jsx(Ja,{name:"data_nascimento",value:y.data_nascimento,onChange:D=>S({target:{name:"data_nascimento",value:D}}),maxDate:new Date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Endereço"}),e.jsx(ge,{name:"endereco",value:y.endereco,onChange:S,placeholder:"Rua, número, bairro"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Senha"}),e.jsx(ge,{name:"senha",type:"password",value:y.senha,onChange:S})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirmar senha"}),e.jsx(ge,{name:"confirmSenha",type:"password",value:y.confirmSenha,onChange:S})]})]}),e.jsxs(Li,{children:[e.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-3 py-2 rounded-md text-sm border mr-2",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:j,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 disabled:opacity-50",children:j?"Salvando...":"Criar"})]})]})]})]})]})}),e.jsx(ie,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Ct,{value:a||void 0,onValueChange:D=>{r(D);try{localStorage.setItem("secretaria.medicoId",String(D))}catch{}},children:[e.jsx(wt,{children:e.jsx(kt,{placeholder:"Escolha um médico"})}),e.jsx(Nt,{children:t.map(D=>{var O,I;const E=(D==null?void 0:D.nome)||[(O=D==null?void 0:D.user)==null?void 0:O.first_name,(I=D==null?void 0:D.user)==null?void 0:I.last_name].filter(Boolean).join(" ")||`Médico #${D==null?void 0:D.id}`;return e.jsx(ye,{value:String(D.id),children:E},D.id)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar"}),e.jsx(ge,{placeholder:"Nome do paciente",value:n,onChange:D=>o(D.target.value)})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsxs("button",{onClick:k,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"})," Buscar"]})})]})})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Lista"})}),e.jsx(ie,{children:c?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):P.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum paciente encontrado."}):e.jsxs($s,{children:[e.jsx(zs,{children:e.jsxs(ga,{children:[e.jsx(vt,{children:"Nome"}),e.jsx(vt,{children:"Contato"})]})}),e.jsx(Bs,{children:P.map(D=>{var E,O;return e.jsxs(ga,{children:[e.jsx(ft,{children:Oy(D)}),e.jsxs(ft,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx(tn,{className:"inline h-4 w-4 mr-1"})," ",((E=D==null?void 0:D.user)==null?void 0:E.phone)||"—"]}),e.jsxs("div",{children:[e.jsx(Ms,{className:"inline h-4 w-4 mr-1"})," ",((O=D==null?void 0:D.user)==null?void 0:O.email)||"—"]})]})]},D.id)})})]})})]})]})}function Iy(t){const s=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[s.first_name,s.last_name].filter(Boolean).join(" ")||s.username||`Médico #${(t==null?void 0:t.id)||"?"}`}function uL(){const[t,s]=x.useState(""),[a,r]=x.useState([]),[n,o]=x.useState(!0);x.useEffect(()=>{let d=!0;return(async()=>{o(!0);try{const m=await Ma.listarMedicos();if(!d)return;r(Array.isArray(m)?m:[])}finally{d&&o(!1)}})(),()=>{d=!1}},[]);const c=x.useMemo(()=>a.filter(d=>Iy(d).toLowerCase().includes(t.toLowerCase())),[a,t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bt,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Médicos"})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(qa,{className:"h-5 w-5"})," Buscar"]})}),e.jsx(ie,{children:e.jsx(ge,{placeholder:"Digite o nome do médico",value:t,onChange:d=>s(d.target.value)})})]}),e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Resultados"})}),e.jsx(ie,{children:n?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):c.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum médico encontrado."}):e.jsxs($s,{children:[e.jsx(zs,{children:e.jsxs(ga,{children:[e.jsx(vt,{children:"Nome"}),e.jsx(vt,{children:"CRM"}),e.jsx(vt,{children:"Especialidade"}),e.jsx(vt,{children:"Contato"})]})}),e.jsx(Bs,{children:c.map(d=>{var m,f;return e.jsxs(ga,{children:[e.jsxs(ft,{className:"font-medium flex items-center gap-2",children:[e.jsx(Ea,{className:"h-4 w-4"})," ",Iy(d)]}),e.jsx(ft,{children:d.crm||"—"}),e.jsx(ft,{children:d.especialidade||"—"}),e.jsxs(ft,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tn,{className:"h-4 w-4"})," ",d.telefone||((m=d==null?void 0:d.user)==null?void 0:m.phone)||"—"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-4 w-4"})," ",((f=d==null?void 0:d.user)==null?void 0:f.email)||"—"]})]})]},d.id)})})]})})]})]})}const mL={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},fL=(t,s,a)=>{let r;const n=mL[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",String(s)),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"em "+r:"há "+r:r},pL={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},hL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},xL={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gL={date:go({formats:pL,defaultWidth:"full"}),time:go({formats:hL,defaultWidth:"full"}),dateTime:go({formats:xL,defaultWidth:"full"})},vL={lastWeek:t=>{const s=t.getDay();return"'"+(s===0||s===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},yL=(t,s,a,r)=>{const n=vL[t];return typeof n=="function"?n(s):n},bL={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},jL={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},wL={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},NL={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},SL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},CL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},kL=(t,s)=>{const a=Number(t);return(s==null?void 0:s.unit)==="week"?a+"ª":a+"º"},_L={ordinalNumber:kL,era:bs({values:bL,defaultWidth:"wide"}),quarter:bs({values:jL,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bs({values:wL,defaultWidth:"wide"}),day:bs({values:NL,defaultWidth:"wide"}),dayPeriod:bs({values:SL,defaultWidth:"wide",formattingValues:CL,defaultFormattingWidth:"wide"})},EL=/^(\d+)[ºªo]?/i,DL=/\d+/i,PL={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},RL={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},ML={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},TL={any:[/1/i,/2/i,/3/i,/4/i]},AL={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},OL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},IL={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},LL={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},FL={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},$L={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},zL={ordinalNumber:k1({matchPattern:EL,parsePattern:DL,valueCallback:t=>parseInt(t,10)}),era:js({matchPatterns:PL,defaultMatchWidth:"wide",parsePatterns:RL,defaultParseWidth:"any"}),quarter:js({matchPatterns:ML,defaultMatchWidth:"wide",parsePatterns:TL,defaultParseWidth:"any",valueCallback:t=>t+1}),month:js({matchPatterns:AL,defaultMatchWidth:"wide",parsePatterns:OL,defaultParseWidth:"any"}),day:js({matchPatterns:IL,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any"}),dayPeriod:js({matchPatterns:FL,defaultMatchWidth:"any",parsePatterns:$L,defaultParseWidth:"any"})},Ly={code:"pt-BR",formatDistance:fL,formatLong:gL,formatRelative:yL,localize:_L,match:zL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BL(t=8,s=18){const a=[];for(let r=t;r<s;r++){const n=String(r).padStart(2,"0")+":00";a.push(n)}return a}function Fy(t){const s=[t.hora,t.horario,t.data_hora,t.inicio,t.start_time];for(const a of s)if(a){if(typeof a=="string"){const r=a.match(/(\d{2}):(\d{2})/);if(r)return`${r[1]}:${r[2]}`;const n=a.match(/T(\d{2}):(\d{2})/);if(n)return`${n[1]}:${n[2]}`}if(a instanceof Date){const r=String(a.getHours()).padStart(2,"0"),n=String(a.getMinutes()).padStart(2,"0");return`${r}:${n}`}}return null}function $y(t){var s,a,r;return(t==null?void 0:t.paciente_nome)||((s=t==null?void 0:t.paciente)==null?void 0:s.nome)||((a=t==null?void 0:t.paciente)==null?void 0:a.fullName)||((r=t==null?void 0:t.paciente)==null?void 0:r.name)||(t==null?void 0:t.nome_paciente)||"(Paciente)"}function In(t){return(t==null?void 0:t.id)||(t==null?void 0:t.consulta_id)||(t==null?void 0:t.agendamento_id)||(t==null?void 0:t.pk)||null}function hu(t){const s=String(t||"").toLowerCase();return s?s.includes("cancel")?"cancelada":s.includes("confirm")?"confirmada":s.includes("realiz")||s.includes("conclu")?"realizada":s.includes("andamento")||s.includes("em_andamento")?"em_andamento":s.includes("agend")?"aguardando":s:"aguardando"}function UL(t){const s=hu(t);return{label:s==="confirmada"?"Confirmada":s==="cancelada"?"Cancelada":s==="realizada"?"Realizada":s==="em_andamento"?"Em andamento":"Aguardando",variant:s==="confirmada"?"success":s==="cancelada"?"destructive":s==="realizada"?"info":s==="em_andamento"?"warning":"outline"}}function HL(t){const s=hu(t);return s==="confirmada"?"bg-green-50":s==="cancelada"?"bg-red-50":s==="realizada"?"bg-blue-50":s==="em_andamento"?"bg-yellow-50":""}function VL(){const[t,s]=x.useState([]),[a,r]=x.useState(""),[n,o]=x.useState(new Date),[c,d]=x.useState([]),[m,f]=x.useState(!1),[p,h]=x.useState(!1),[g,j]=x.useState(null),[b,y]=x.useState(""),[w,C]=x.useState([]),[S,k]=x.useState(null),[P,R]=x.useState(""),[D,E]=x.useState(!1),[O,I]=x.useState(null),[z,B]=x.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.inicio")||"8",10)),[Y,$]=x.useState(()=>parseInt(localStorage.getItem("secretaria.agenda.fim")||"18",10)),M=x.useMemo(()=>BL(z,Y),[z,Y]);x.useEffect(()=>{async function J(){try{const V=await Ma.listarMedicos();s(V||[]),!a&&(V!=null&&V.length)&&r(String(V[0].id||V[0].medico_id))}catch(V){console.error("Erro ao listar médicos",V)}}J()},[]),x.useEffect(()=>{async function J(){if(!(!a||!n)){f(!0);try{const V=Fn(n,"yyyy-MM-dd"),U=await xt.getConsultasDoMedico(a,{date:V}),X=Array.isArray(U)?U:Array.isArray(U==null?void 0:U.results)?U.results:(U==null?void 0:U.consultas)||[];d(X||[])}catch(V){console.error("Erro ao buscar consultas",V)}finally{f(!1)}}}J()},[a,n]);const G=x.useMemo(()=>{const J=new Map;for(const V of c){const U=Fy(V);U&&J.set(U,V)}return J},[c]);async function T(J){E(!1),I(null),j(J),h(!0),y(""),C([]),k(null),R("")}async function L(J){var le,ve,Se,Re;const V=G.get(J);if(!V)return;E(!0),I(V),j(J),h(!0);const U=(V==null?void 0:V.paciente_id)||((le=V==null?void 0:V.paciente)==null?void 0:le.id),X=(V==null?void 0:V.paciente_nome)||((ve=V==null?void 0:V.paciente)==null?void 0:ve.nome)||((Se=V==null?void 0:V.paciente)==null?void 0:Se.fullName)||((Re=V==null?void 0:V.paciente)==null?void 0:Re.name);(U||X)&&k({id:U,nome:X}),R((V==null?void 0:V.observacoes)||(V==null?void 0:V.notes)||"")}async function H(J){if(y(J),!J||J.length<2){C([]);return}try{const V=await Ma.buscarPacientes(J);C(V||[])}catch(V){console.error("Erro ao buscar pacientes",V)}}async function Q(){if(D){const J=In(O);if(!J){alert("Consulta sem ID válido para edição.");return}try{const V={};S!=null&&S.id&&(V.pacienteId=S.id),P&&(V.observacoes=P),await Ma.atualizarConsulta(J,V),d(U=>U.map(X=>In(X)===J?{...X,paciente_id:(S==null?void 0:S.id)||X.paciente_id,paciente_nome:(S==null?void 0:S.nome)||$y(X),observacoes:P}:X)),h(!1),E(!1),I(null)}catch(V){console.error("Erro ao editar consulta",V),alert("Falha ao editar consulta.")}return}if(!(!S||!g||!a)){if(G.has(g)){alert("Horário já ocupado. Escolha outro horário.");return}try{const J=Fn(n,"yyyy-MM-dd");try{const V=await Ma.getConsultasDoMedico(a,{date:J});if(((Array.isArray(V)?V:Array.isArray(V==null?void 0:V.results)?V.results:(V==null?void 0:V.consultas)||[])||[]).some(le=>Fy(le)===g)){alert("Horário indisponível no servidor. Selecione outro horário.");return}}catch{}await Ma.agendarConsulta({pacienteId:S.id||S.paciente_id,medicoId:a,data:J,hora:g,tipo:"rotina",motivo:"Agendado pela secretária",observacoes:P}),d(V=>[...V,{hora:g,paciente_nome:S.nome||S.fullName||S.name||"Paciente",status:"Confirmada"}]),h(!1)}catch(J){console.error("Erro ao agendar",J),alert("Falha ao agendar. Verifique disponibilidade ou tente novamente.")}}}async function te(J){const V=G.get(J);if(!V)return;const U=In(V);if(U)try{await Ma.confirmarConsulta(U),d(X=>X.map(le=>In(le)===U?{...le,status:"Confirmada"}:le))}catch(X){console.error("Erro ao confirmar",X),alert("Não foi possível confirmar a consulta.")}}async function A(J){const V=G.get(J);if(!V)return;const U=In(V);if(!U)return;const X=window.prompt("Motivo do cancelamento:","Cancelado pela secretária");try{await Ma.cancelarConsulta(U,X||""),d(le=>le.map(ve=>In(ve)===U?{...ve,status:"Cancelada"}:ve))}catch(le){console.error("Erro ao cancelar",le),alert("Não foi possível cancelar a consulta.")}}async function W(J){const V=G.get(J);if(!V)return;const U=In(V);if(U)try{await Ma.registrarPresenca(U),d(X=>X.map(le=>In(le)===U?{...le,status:"Realizada"}:le))}catch(X){console.error("Erro ao marcar presença",X),alert("Não foi possível marcar presença.")}}function re(){const J=Fn(n,"LLLL",{locale:Ly}),V=Fn(n,"EEEE",{locale:Ly}),U=Fn(n,"d");return`${J.charAt(0).toUpperCase()+J.slice(1)} • ${V.charAt(0).toUpperCase()+V.slice(1)} • ${U}`}const K=Array.from({length:17},(J,V)=>V+6);return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Agenda diária"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:re()})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("div",{className:"w-52",children:e.jsx(Ja,{date:n,onChange:o})}),e.jsxs(Ct,{value:a,onValueChange:J=>r(String(J)),children:[e.jsx(wt,{className:"min-w-[220px]",children:e.jsx(kt,{placeholder:"Selecione o médico"})}),e.jsx(Nt,{children:t.map(J=>e.jsx(ye,{value:String(J.id||J.medico_id),children:J.nome||J.fullName||J.name},J.id||J.medico_id))})]}),e.jsxs(Ct,{value:String(z),onValueChange:J=>{B(Number(J)),localStorage.setItem("secretaria.agenda.inicio",String(J))},children:[e.jsx(wt,{className:"w-24",children:e.jsx(kt,{placeholder:"Início"})}),e.jsx(Nt,{children:K.map(J=>e.jsxs(ye,{value:String(J),children:[String(J).padStart(2,"0"),":00"]},`inicio-${J}`))})]}),e.jsxs(Ct,{value:String(Y),onValueChange:J=>{$(Number(J)),localStorage.setItem("secretaria.agenda.fim",String(J))},children:[e.jsx(wt,{className:"w-24",children:e.jsx(kt,{placeholder:"Fim"})}),e.jsx(Nt,{children:K.map(J=>e.jsxs(ye,{value:String(J),children:[String(J).padStart(2,"0"),":00"]},`fim-${J}`))})]}),e.jsx(Z,{variant:"secondary",onClick:()=>{o(new Date(n))},children:"Atualizar"})]}),e.jsx(ne,{className:"p-0 overflow-hidden",children:e.jsx("div",{className:"divide-y",children:M.map(J=>{const V=G.get(J),U=V?$y(V):null,X=V?UL(V==null?void 0:V.status):null,le=V?HL(V==null?void 0:V.status):"";return e.jsxs("div",{className:`flex items-center justify-between px-4 py-3 hover:bg-muted/40 ${le}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 text-sm font-medium",children:J}),e.jsx("div",{className:"text-sm flex items-center gap-2",children:U?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:U}),X&&e.jsx(Je,{variant:X.variant,className:"text-xs",children:X.label})]}):e.jsx("span",{className:"text-muted-foreground",children:"(vago)"})})]}),e.jsx("div",{className:"flex items-center gap-2",children:U?e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:"sm",variant:"outline",onClick:()=>te(J),disabled:hu(V==null?void 0:V.status)==="confirmada",children:"Confirmar"}),e.jsx(Z,{size:"sm",variant:"outline",onClick:()=>W(J),disabled:hu(V==null?void 0:V.status)==="cancelada",children:"Presença"}),e.jsx(Z,{size:"sm",variant:"outline",onClick:()=>L(J),children:"Editar"}),e.jsx(Z,{size:"sm",variant:"destructive",onClick:()=>A(J),children:"Cancelar"})]}):e.jsx(Z,{size:"sm",onClick:()=>T(J),children:"Agendar"})})]},J)})})}),e.jsx(Ii,{open:p,onOpenChange:h,children:e.jsxs(Jn,{children:[e.jsx(Zn,{children:e.jsx(ei,{children:D?`Editar ${g}`:`Agendar ${g}`})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ge,{placeholder:"Buscar paciente pelo nome",value:b,onChange:J=>H(J.target.value)}),e.jsxs("div",{className:"max-h-48 overflow-auto border rounded",children:[(w||[]).map(J=>e.jsx("div",{className:`px-3 py-2 cursor-pointer hover:bg-muted ${((S==null?void 0:S.id)||(S==null?void 0:S.paciente_id))===(J.id||J.paciente_id)?"bg-muted":""}`,onClick:()=>k(J),children:J.nome||J.fullName||J.name},J.id||J.paciente_id)),(!w||w.length===0)&&e.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"Digite ao menos 2 letras para buscar"})]}),e.jsx(ge,{placeholder:"Observações (opcional)",value:P,onChange:J=>R(J.target.value)})]}),e.jsxs(Li,{children:[e.jsx(Z,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),e.jsx(Z,{onClick:Q,disabled:!D&&!S,children:D?"Salvar":"Confirmar"})]})]})}),m&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando consultas…"})]})}function WL(){const{toast:t}=ta(),s=Fa(),a=Pa(),[r,n]=x.useState(!1),[o,c]=x.useState("ready"),[d,m]=x.useState(null),[f,p]=x.useState(!1),h=x.useMemo(()=>{const C=new URL(window.location.href);return{id:C.searchParams.get("id")||C.searchParams.get("receita")||C.searchParams.get("receita_id"),token:C.searchParams.get("token")||C.searchParams.get("t"),url:C.searchParams.get("url")||C.searchParams.get("download")||C.searchParams.get("arquivo")||null,email:C.searchParams.get("email")||null}},[a.search]),g=C=>{try{const S=C.replace(/\?.*$/,"");return S.toLowerCase().endsWith(".pdf")?S:`${S}.pdf`}catch{return"Receita.pdf"}},j=(C,S)=>{const k=document.createElement("a"),P=URL.createObjectURL(C);k.href=P,k.download=decodeURIComponent(S),document.body.appendChild(k),k.click(),k.remove(),setTimeout(()=>URL.revokeObjectURL(P),2e3)},b=async C=>{var k;let S=C;if(!S)return!1;try{/^https?:\/\//i.test(S)||(S=`${"http://127.0.0.1:8000".replace(/\/$/,"")}${S.startsWith("/")?"":"/"}${S}`);const P=await ce.get(S,{responseType:"blob",baseURL:""}),R=new Blob([P.data],{type:P.headers["content-type"]||"application/pdf"}),D=P.headers["content-disposition"]||"",E=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(D);let O=(E==null?void 0:E[1])||(E==null?void 0:E[2])||"Receita.pdf";return O=g(O),j(R,O),!0}catch(P){return console.warn("[ReceberReceita] download direto falhou:",((k=P==null?void 0:P.response)==null?void 0:k.status)||P),!1}},y=async C=>{var S;if(!C)return!1;try{const k=await Rt.getReceitas({__propagateErrors:!0}),R=(Array.isArray(k)?k:Array.isArray(k==null?void 0:k.results)?k.results:[]).find(E=>String(E.id||E.pk||E.uuid)===String(C)),D=(R==null?void 0:R.arquivo_assinado)||(R==null?void 0:R.pdf)||(R==null?void 0:R.documento)||null;return D?await b(D):!1}catch(k){return console.warn("[ReceberReceita] busca por ID falhou:",((S=k==null?void 0:k.response)==null?void 0:S.status)||k),!1}},w=async()=>{n(!0),m(null),c("processing");try{if(await b(h.url)){p(!0),c("done"),t({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}if(await y(h.id)){p(!0),c("done"),t({title:"Receita baixada",description:"O PDF foi baixado com sucesso."});return}c("error"),m("Não foi possível localizar a receita. Verifique se o link não expirou ou faça login para acessá-la."),t({title:"Link inválido",description:"Não foi possível localizar a receita.",variant:"destructive"})}finally{n(!1)}};return x.useEffect(()=>{(h.url||h.id)&&w()},[h.url,h.id]),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[e.jsxs(ne,{children:[e.jsx(pe,{children:e.jsx(he,{children:"Receber Receita"})}),e.jsxs(ie,{className:"space-y-4",children:[o==="done"?e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx(Je,{variant:"outline",children:"Concluído"}),e.jsx("span",{children:"O download da receita foi iniciado."})]}):o==="processing"?e.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(Je,{variant:"outline",children:"Processando"}),e.jsx("span",{children:"Estamos validando seu link e preparando o download..."})]}):o==="error"?e.jsxs("div",{className:"text-red-700",children:[e.jsx(Je,{variant:"destructive",className:"mb-2",children:"Erro"}),e.jsx("p",{className:"text-sm",children:d||"Falha ao processar o link."})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cole o link recebido por e-mail, ou utilize o acesso direto com login."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Link direto do arquivo (opcional)"}),e.jsx(ge,{defaultValue:h.url||"",placeholder:"https://.../receita.pdf",onBlur:C=>{const S=new URL(window.location.href);C.target.value?S.searchParams.set("url",C.target.value):S.searchParams.delete("url"),s({pathname:S.pathname,search:S.search})}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"ID da Receita (opcional)"}),e.jsx(ge,{defaultValue:h.id||"",placeholder:"123",onBlur:C=>{const S=new URL(window.location.href);C.target.value?S.searchParams.set("id",C.target.value):S.searchParams.delete("id"),s({pathname:S.pathname,search:S.search})}})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(Z,{onClick:w,disabled:r,children:r?"Processando...":"Receber"}),e.jsx(Z,{variant:"outline",onClick:()=>s("/paciente/receitas"),children:"Ir para Minhas Receitas"})]})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Dica: se o link tiver expirado, faça login e acesse suas receitas na área do paciente."})]})})}function YL(){return e.jsx(uE,{children:e.jsx(mE,{children:e.jsx(vk,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs(dk,{children:[e.jsx(qe,{path:"/",element:e.jsx(QI,{})}),e.jsx(qe,{path:"/login",element:e.jsx(CT,{})}),e.jsx(qe,{path:"/registrar",element:e.jsx(kT,{})}),e.jsx(qe,{path:"/esqueci-senha",element:e.jsx(_T,{})}),e.jsx(qe,{path:"/redefinir-senha/:uid/:token",element:e.jsx(PT,{})}),e.jsx(qe,{path:"/receber/receita",element:e.jsx(WL,{})}),e.jsxs(qe,{path:"/paciente",element:e.jsx(eL,{children:e.jsx(oT,{})}),children:[e.jsx(qe,{index:!0,element:e.jsx(Zt,{to:"perfil",replace:!0})}),e.jsx(qe,{path:"perfil",element:e.jsx(qO,{})}),e.jsx(qe,{path:"prontuario",element:e.jsx(KO,{})}),e.jsx(qe,{path:"consultas",element:e.jsx(JO,{})}),e.jsx(qe,{path:"consultas/nova",element:e.jsx(rL,{})}),e.jsx(qe,{path:"exames",element:e.jsx(ZO,{})}),e.jsx(qe,{path:"historico-medico",element:e.jsx(tI,{})}),e.jsx(qe,{path:"medicos",element:e.jsx(aI,{})}),e.jsx(qe,{path:"receitas",element:e.jsx(oI,{})}),e.jsx(qe,{path:"configuracoes",element:e.jsx(jp,{})})]}),e.jsxs(qe,{path:"/medico",element:e.jsx(JI,{children:e.jsx(lT,{})}),children:[e.jsx(qe,{index:!0,element:e.jsx(Zt,{to:"dashboard",replace:!0})}),e.jsx(qe,{path:"dashboard",element:e.jsx(cI,{})}),e.jsx(qe,{path:"meus-pacientes",element:e.jsx(dI,{})}),e.jsx(qe,{path:"minhas-consultas",element:e.jsx(uI,{})}),e.jsx(qe,{path:"consultas/hoje",element:e.jsx(CI,{})}),e.jsx(qe,{path:"paciente/:id/perfil",element:e.jsx(mI,{})}),e.jsx(qe,{path:"paciente/:id/prontuario",element:e.jsx(fI,{})}),e.jsx(qe,{path:"paciente/:id/exames",element:e.jsx(pI,{})}),e.jsx(qe,{path:"paciente/:id/iniciar-consulta",element:e.jsx(hI,{})}),e.jsx(qe,{path:"paciente/:id/consulta/resumo",element:e.jsx(DI,{})}),e.jsx(qe,{path:"paciente/:id/receita/preview",element:e.jsx(_I,{})}),e.jsx(qe,{path:"paciente/:id/receita/confirmacao",element:e.jsx(EI,{})}),e.jsx(qe,{path:"configuracoes",element:e.jsx(jp,{})})]}),e.jsxs(qe,{path:"/clinica",element:e.jsx(ZI,{children:e.jsx(EN,{})}),children:[e.jsx(qe,{index:!0,element:e.jsx(Zt,{to:"dashboard",replace:!0})}),e.jsx(qe,{path:"dashboard",element:e.jsx(PI,{})}),e.jsx(qe,{path:"calendario",element:e.jsx(TI,{})}),e.jsx(qe,{path:"disponibilidade",element:e.jsx(OI,{})}),e.jsx(qe,{path:"exames",element:e.jsx(II,{})}),e.jsx(qe,{path:"pacientes",element:e.jsx(LI,{})}),e.jsx(qe,{path:"medicos",element:e.jsx(FI,{})}),e.jsx(qe,{path:"relatorios",element:e.jsx($I,{})}),e.jsx(qe,{path:"configuracoes",element:e.jsx(zI,{})})]}),e.jsxs(qe,{path:"/admin",element:e.jsx(tL,{children:e.jsx(cT,{})}),children:[e.jsx(qe,{index:!0,element:e.jsx(Zt,{to:"dashboard",replace:!0})}),e.jsx(qe,{path:"dashboard",element:e.jsx(BI,{})}),e.jsx(qe,{path:"solicitacoes",element:e.jsx(UI,{})}),e.jsx(qe,{path:"solicitacoes/:id",element:e.jsx(HI,{})}),e.jsx(qe,{path:"relatorios",element:e.jsx(qI,{})}),e.jsx(qe,{path:"auditoria",element:e.jsx(KI,{})}),e.jsx(qe,{path:"usuarios",element:e.jsx(sL,{})}),e.jsx(qe,{path:"clinicas",element:e.jsx(nL,{})}),e.jsx(qe,{path:"configuracoes",element:e.jsx(iL,{})})]}),e.jsxs(qe,{path:"/secretaria",element:e.jsx(ET,{children:e.jsx(DT,{})}),children:[e.jsx(qe,{index:!0,element:e.jsx(Zt,{to:"dashboard",replace:!0})}),e.jsx(qe,{path:"dashboard",element:e.jsx(oL,{})}),e.jsx(qe,{path:"consultas",element:e.jsx(cL,{})}),e.jsx(qe,{path:"agenda",element:e.jsx(VL,{})}),e.jsx(qe,{path:"pacientes",element:e.jsx(dL,{})}),e.jsx(qe,{path:"medicos",element:e.jsx(uL,{})}),e.jsx(qe,{path:"solicitacoes",element:e.jsx(cA,{})}),e.jsx(qe,{path:"solicitacoes/:id",element:e.jsx(dA,{})}),e.jsx(qe,{path:"configuracoes",element:e.jsx(jp,{})})]}),e.jsx(qe,{path:"*",element:e.jsx("div",{children:"Página não encontrada"})})]})})})})}var nx="ToastProvider",[ix,qL,KL]=Hu("Toast"),[Z1,U6]=Is("Toast",[KL]),[GL,rm]=Z1(nx),eS=t=>{const{__scopeToast:s,label:a="Notification",duration:r=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:c}=t,[d,m]=x.useState(null),[f,p]=x.useState(0),h=x.useRef(!1),g=x.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${nx}\`. Expected non-empty \`string\`.`),e.jsx(ix.Provider,{scope:s,children:e.jsx(GL,{scope:s,label:a,duration:r,swipeDirection:n,swipeThreshold:o,toastCount:f,viewport:d,onViewportChange:m,onToastAdd:x.useCallback(()=>p(j=>j+1),[]),onToastRemove:x.useCallback(()=>p(j=>j-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:g,children:c})})};eS.displayName=nx;var tS="ToastViewport",QL=["F8"],sh="toast.viewportPause",nh="toast.viewportResume",aS=x.forwardRef((t,s)=>{const{__scopeToast:a,hotkey:r=QL,label:n="Notifications ({hotkey})",...o}=t,c=rm(tS,a),d=qL(a),m=x.useRef(null),f=x.useRef(null),p=x.useRef(null),h=x.useRef(null),g=Bt(s,h,c.onViewportChange),j=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=c.toastCount>0;x.useEffect(()=>{const w=C=>{var k;r.length!==0&&r.every(P=>C[P]||C.code===P)&&((k=h.current)==null||k.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),x.useEffect(()=>{const w=m.current,C=h.current;if(b&&w&&C){const S=()=>{if(!c.isClosePausedRef.current){const D=new CustomEvent(sh);C.dispatchEvent(D),c.isClosePausedRef.current=!0}},k=()=>{if(c.isClosePausedRef.current){const D=new CustomEvent(nh);C.dispatchEvent(D),c.isClosePausedRef.current=!1}},P=D=>{!w.contains(D.relatedTarget)&&k()},R=()=>{w.contains(document.activeElement)||k()};return w.addEventListener("focusin",S),w.addEventListener("focusout",P),w.addEventListener("pointermove",S),w.addEventListener("pointerleave",R),window.addEventListener("blur",S),window.addEventListener("focus",k),()=>{w.removeEventListener("focusin",S),w.removeEventListener("focusout",P),w.removeEventListener("pointermove",S),w.removeEventListener("pointerleave",R),window.removeEventListener("blur",S),window.removeEventListener("focus",k)}}},[b,c.isClosePausedRef]);const y=x.useCallback(({tabbingDirection:w})=>{const S=d().map(k=>{const P=k.ref.current,R=[P,...c6(P)];return w==="forwards"?R:R.reverse()});return(w==="forwards"?S.reverse():S).flat()},[d]);return x.useEffect(()=>{const w=h.current;if(w){const C=S=>{var R,D,E;const k=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!k){const O=document.activeElement,I=S.shiftKey;if(S.target===w&&I){(R=f.current)==null||R.focus();return}const Y=y({tabbingDirection:I?"backwards":"forwards"}),$=Y.findIndex(M=>M===O);wp(Y.slice($+1))?S.preventDefault():I?(D=f.current)==null||D.focus():(E=p.current)==null||E.focus()}};return w.addEventListener("keydown",C),()=>w.removeEventListener("keydown",C)}},[d,y]),e.jsxs(pD,{ref:m,role:"region","aria-label":n.replace("{hotkey}",j),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&e.jsx(ih,{ref:f,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});wp(w)}}),e.jsx(ix.Slot,{scope:a,children:e.jsx(dt.ol,{tabIndex:-1,...o,ref:g})}),b&&e.jsx(ih,{ref:p,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});wp(w)}})]})});aS.displayName=tS;var rS="ToastFocusProxy",ih=x.forwardRef((t,s)=>{const{__scopeToast:a,onFocusFromOutsideViewport:r,...n}=t,o=rm(rS,a);return e.jsx(Fu,{tabIndex:0,...n,ref:s,style:{position:"fixed"},onFocus:c=>{var f;const d=c.relatedTarget;!((f=o.viewport)!=null&&f.contains(d))&&r()}})});ih.displayName=rS;var lc="Toast",XL="toast.swipeStart",JL="toast.swipeMove",ZL="toast.swipeCancel",e6="toast.swipeEnd",sS=x.forwardRef((t,s)=>{const{forceMount:a,open:r,defaultOpen:n,onOpenChange:o,...c}=t,[d,m]=ki({prop:r,defaultProp:n??!0,onChange:o,caller:lc});return e.jsx(Ls,{present:a||d,children:e.jsx(r6,{open:d,...c,ref:s,onClose:()=>m(!1),onPause:xr(t.onPause),onResume:xr(t.onResume),onSwipeStart:Ie(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(t.onSwipeMove,f=>{const{x:p,y:h}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ie(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(t.onSwipeEnd,f=>{const{x:p,y:h}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),m(!1)})})})});sS.displayName=lc;var[t6,a6]=Z1(lc,{onClose(){}}),r6=x.forwardRef((t,s)=>{const{__scopeToast:a,type:r="foreground",duration:n,open:o,onClose:c,onEscapeKeyDown:d,onPause:m,onResume:f,onSwipeStart:p,onSwipeMove:h,onSwipeCancel:g,onSwipeEnd:j,...b}=t,y=rm(lc,a),[w,C]=x.useState(null),S=Bt(s,M=>C(M)),k=x.useRef(null),P=x.useRef(null),R=n||y.duration,D=x.useRef(0),E=x.useRef(R),O=x.useRef(0),{onToastAdd:I,onToastRemove:z}=y,B=xr(()=>{var G;(w==null?void 0:w.contains(document.activeElement))&&((G=y.viewport)==null||G.focus()),c()}),Y=x.useCallback(M=>{!M||M===1/0||(window.clearTimeout(O.current),D.current=new Date().getTime(),O.current=window.setTimeout(B,M))},[B]);x.useEffect(()=>{const M=y.viewport;if(M){const G=()=>{Y(E.current),f==null||f()},T=()=>{const L=new Date().getTime()-D.current;E.current=E.current-L,window.clearTimeout(O.current),m==null||m()};return M.addEventListener(sh,T),M.addEventListener(nh,G),()=>{M.removeEventListener(sh,T),M.removeEventListener(nh,G)}}},[y.viewport,R,m,f,Y]),x.useEffect(()=>{o&&!y.isClosePausedRef.current&&Y(R)},[o,R,y.isClosePausedRef,Y]),x.useEffect(()=>(I(),()=>z()),[I,z]);const $=x.useMemo(()=>w?uS(w):null,[w]);return y.viewport?e.jsxs(e.Fragment,{children:[$&&e.jsx(s6,{__scopeToast:a,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:$}),e.jsx(t6,{scope:a,onClose:B,children:Eo.createPortal(e.jsx(ix.ItemSlot,{scope:a,children:e.jsx(fD,{asChild:!0,onEscapeKeyDown:Ie(d,()=>{y.isFocusedToastEscapeKeyDownRef.current||B(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(dt.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ie(t.onKeyDown,M=>{M.key==="Escape"&&(d==null||d(M.nativeEvent),M.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:Ie(t.onPointerDown,M=>{M.button===0&&(k.current={x:M.clientX,y:M.clientY})}),onPointerMove:Ie(t.onPointerMove,M=>{if(!k.current)return;const G=M.clientX-k.current.x,T=M.clientY-k.current.y,L=!!P.current,H=["left","right"].includes(y.swipeDirection),Q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,te=H?Q(0,G):0,A=H?0:Q(0,T),W=M.pointerType==="touch"?10:2,re={x:te,y:A},K={originalEvent:M,delta:re};L?(P.current=re,Pd(JL,h,K,{discrete:!1})):zy(re,y.swipeDirection,W)?(P.current=re,Pd(XL,p,K,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(G)>W||Math.abs(T)>W)&&(k.current=null)}),onPointerUp:Ie(t.onPointerUp,M=>{const G=P.current,T=M.target;if(T.hasPointerCapture(M.pointerId)&&T.releasePointerCapture(M.pointerId),P.current=null,k.current=null,G){const L=M.currentTarget,H={originalEvent:M,delta:G};zy(G,y.swipeDirection,y.swipeThreshold)?Pd(e6,j,H,{discrete:!0}):Pd(ZL,g,H,{discrete:!0}),L.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),s6=t=>{const{__scopeToast:s,children:a,...r}=t,n=rm(lc,s),[o,c]=x.useState(!1),[d,m]=x.useState(!1);return o6(()=>c(!0)),x.useEffect(()=>{const f=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(f)},[]),d?null:e.jsx(Ql,{asChild:!0,children:e.jsx(Fu,{...r,children:o&&e.jsxs(e.Fragment,{children:[n.label," ",a]})})})},n6="ToastTitle",nS=x.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t;return e.jsx(dt.div,{...r,ref:s})});nS.displayName=n6;var i6="ToastDescription",iS=x.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t;return e.jsx(dt.div,{...r,ref:s})});iS.displayName=i6;var oS="ToastAction",lS=x.forwardRef((t,s)=>{const{altText:a,...r}=t;return a.trim()?e.jsx(dS,{altText:a,asChild:!0,children:e.jsx(ox,{...r,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${oS}\`. Expected non-empty \`string\`.`),null)});lS.displayName=oS;var cS="ToastClose",ox=x.forwardRef((t,s)=>{const{__scopeToast:a,...r}=t,n=a6(cS,a);return e.jsx(dS,{asChild:!0,children:e.jsx(dt.button,{type:"button",...r,ref:s,onClick:Ie(t.onClick,n.onClose)})})});ox.displayName=cS;var dS=x.forwardRef((t,s)=>{const{__scopeToast:a,altText:r,...n}=t;return e.jsx(dt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...n,ref:s})});function uS(t){const s=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&s.push(r.textContent),l6(r)){const n=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!n)if(o){const c=r.dataset.radixToastAnnounceAlt;c&&s.push(c)}else s.push(...uS(r))}}),s}function Pd(t,s,a,{discrete:r}){const n=a.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});s&&n.addEventListener(t,s,{once:!0}),r?vh(n,o):n.dispatchEvent(o)}var zy=(t,s,a=0)=>{const r=Math.abs(t.x),n=Math.abs(t.y),o=r>n;return s==="left"||s==="right"?o&&r>a:!o&&n>a};function o6(t=()=>{}){const s=xr(t);Ta(()=>{let a=0,r=0;return a=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(r)}},[s])}function l6(t){return t.nodeType===t.ELEMENT_NODE}function c6(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function wp(t){const s=document.activeElement;return t.some(a=>a===s?!0:(a.focus(),document.activeElement!==s))}var d6=eS,mS=aS,fS=sS,pS=nS,hS=iS,xS=lS,gS=ox;const u6=d6,vS=x.forwardRef(({className:t,...s},a)=>e.jsx(mS,{ref:a,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));vS.displayName=mS.displayName;const m6=Su("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yS=x.forwardRef(({className:t,variant:s,...a},r)=>e.jsx(fS,{ref:r,className:we(m6({variant:s}),t),...a}));yS.displayName=fS.displayName;const f6=x.forwardRef(({className:t,...s},a)=>e.jsx(xS,{ref:a,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));f6.displayName=xS.displayName;const bS=x.forwardRef(({className:t,...s},a)=>e.jsx(gS,{ref:a,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(gh,{className:"h-4 w-4"})}));bS.displayName=gS.displayName;const jS=x.forwardRef(({className:t,...s},a)=>e.jsx(pS,{ref:a,className:we("text-sm font-semibold",t),...s}));jS.displayName=pS.displayName;const wS=x.forwardRef(({className:t,...s},a)=>e.jsx(hS,{ref:a,className:we("text-sm opacity-90",t),...s}));wS.displayName=hS.displayName;function p6(){const{toasts:t}=ta();return e.jsxs(u6,{children:[t.map(({id:s,title:a,description:r,action:n,...o})=>e.jsxs(yS,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(jS,{children:a}),r&&e.jsx(wS,{children:r})]}),n,e.jsx(bS,{})]},s)),e.jsx(vS,{})]})}if(typeof window<"u"){const t=s=>{const a=s==null?void 0:s.reason,r=typeof a=="string"?a:a==null?void 0:a.message;r&&r.includes("A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received")&&s.preventDefault()};window.addEventListener("unhandledrejection",t)}gC.createRoot(document.getElementById("root")).render(e.jsxs(C4,{defaultTheme:"system",storageKey:"medicinefront-theme",children:[e.jsx(YL,{}),e.jsx(p6,{})]}));export{ce as a,By as g};
