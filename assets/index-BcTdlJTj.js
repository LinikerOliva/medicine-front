function lb(t,s){for(var r=0;r<s.length;r++){const o=s[r];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in t)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(t,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eu={exports:{}},oo={},tu={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function cb(){if(Wh)return He;Wh=1;var t=Symbol.for("react.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),h=Symbol.iterator;function j(T){return T===null||typeof T!="object"?null:(T=h&&T[h]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function N(T,U,Z){this.props=T,this.context=U,this.refs=y,this.updater=Z||S}N.prototype.isReactComponent={},N.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},N.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function C(){}C.prototype=N.prototype;function E(T,U,Z){this.props=T,this.context=U,this.refs=y,this.updater=Z||S}var _=E.prototype=new C;_.constructor=E,b(_,N.prototype),_.isPureReactComponent=!0;var R=Array.isArray,k=Object.prototype.hasOwnProperty,M={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function P(T,U,Z){var L,K={},J=null,Q=null;if(U!=null)for(L in U.ref!==void 0&&(Q=U.ref),U.key!==void 0&&(J=""+U.key),U)k.call(U,L)&&!O.hasOwnProperty(L)&&(K[L]=U[L]);var le=arguments.length-2;if(le===1)K.children=Z;else if(1<le){for(var we=Array(le),je=0;je<le;je++)we[je]=arguments[je+2];K.children=we}if(T&&T.defaultProps)for(L in le=T.defaultProps,le)K[L]===void 0&&(K[L]=le[L]);return{$$typeof:t,type:T,key:J,ref:Q,props:K,_owner:M.current}}function I(T,U){return{$$typeof:t,type:T.type,key:U,ref:T.ref,props:T.props,_owner:T._owner}}function D(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function F(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Z){return U[Z]})}var V=/\/+/g;function re(T,U){return typeof T=="object"&&T!==null&&T.key!=null?F(""+T.key):U.toString(36)}function $(T,U,Z,L,K){var J=typeof T;(J==="undefined"||J==="boolean")&&(T=null);var Q=!1;if(T===null)Q=!0;else switch(J){case"string":case"number":Q=!0;break;case"object":switch(T.$$typeof){case t:case s:Q=!0}}if(Q)return Q=T,K=K(Q),T=L===""?"."+re(Q,0):L,R(K)?(Z="",T!=null&&(Z=T.replace(V,"$&/")+"/"),$(K,U,Z,"",function(je){return je})):K!=null&&(D(K)&&(K=I(K,Z+(!K.key||Q&&Q.key===K.key?"":(""+K.key).replace(V,"$&/")+"/")+T)),U.push(K)),1;if(Q=0,L=L===""?".":L+":",R(T))for(var le=0;le<T.length;le++){J=T[le];var we=L+re(J,le);Q+=$(J,U,Z,we,K)}else if(we=j(T),typeof we=="function")for(T=we.call(T),le=0;!(J=T.next()).done;)J=J.value,we=L+re(J,le++),Q+=$(J,U,Z,we,K);else if(J==="object")throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Q}function G(T,U,Z){if(T==null)return T;var L=[],K=0;return $(T,L,"","",function(J){return U.call(Z,J,K++)}),L}function z(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(Z){(T._status===0||T._status===-1)&&(T._status=1,T._result=Z)},function(Z){(T._status===0||T._status===-1)&&(T._status=2,T._result=Z)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var H={current:null},W={transition:null},X={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:W,ReactCurrentOwner:M};function te(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:G,forEach:function(T,U,Z){G(T,function(){U.apply(this,arguments)},Z)},count:function(T){var U=0;return G(T,function(){U++}),U},toArray:function(T){return G(T,function(U){return U})||[]},only:function(T){if(!D(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},He.Component=N,He.Fragment=r,He.Profiler=l,He.PureComponent=E,He.StrictMode=o,He.Suspense=x,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,He.act=te,He.cloneElement=function(T,U,Z){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var L=b({},T.props),K=T.key,J=T.ref,Q=T._owner;if(U!=null){if(U.ref!==void 0&&(J=U.ref,Q=M.current),U.key!==void 0&&(K=""+U.key),T.type&&T.type.defaultProps)var le=T.type.defaultProps;for(we in U)k.call(U,we)&&!O.hasOwnProperty(we)&&(L[we]=U[we]===void 0&&le!==void 0?le[we]:U[we])}var we=arguments.length-2;if(we===1)L.children=Z;else if(1<we){le=Array(we);for(var je=0;je<we;je++)le[je]=arguments[je+2];L.children=le}return{$$typeof:t,type:T.type,key:K,ref:J,props:L,_owner:Q}},He.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:c,_context:T},T.Consumer=T},He.createElement=P,He.createFactory=function(T){var U=P.bind(null,T);return U.type=T,U},He.createRef=function(){return{current:null}},He.forwardRef=function(T){return{$$typeof:f,render:T}},He.isValidElement=D,He.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:z}},He.memo=function(T,U){return{$$typeof:p,type:T,compare:U===void 0?null:U}},He.startTransition=function(T){var U=W.transition;W.transition={};try{T()}finally{W.transition=U}},He.unstable_act=te,He.useCallback=function(T,U){return H.current.useCallback(T,U)},He.useContext=function(T){return H.current.useContext(T)},He.useDebugValue=function(){},He.useDeferredValue=function(T){return H.current.useDeferredValue(T)},He.useEffect=function(T,U){return H.current.useEffect(T,U)},He.useId=function(){return H.current.useId()},He.useImperativeHandle=function(T,U,Z){return H.current.useImperativeHandle(T,U,Z)},He.useInsertionEffect=function(T,U){return H.current.useInsertionEffect(T,U)},He.useLayoutEffect=function(T,U){return H.current.useLayoutEffect(T,U)},He.useMemo=function(T,U){return H.current.useMemo(T,U)},He.useReducer=function(T,U,Z){return H.current.useReducer(T,U,Z)},He.useRef=function(T){return H.current.useRef(T)},He.useState=function(T){return H.current.useState(T)},He.useSyncExternalStore=function(T,U,Z){return H.current.useSyncExternalStore(T,U,Z)},He.useTransition=function(){return H.current.useTransition()},He.version="18.3.1",He}var qh;function _l(){return qh||(qh=1,tu.exports=cb()),tu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function db(){if(Kh)return oo;Kh=1;var t=_l(),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,x,p){var g,h={},j=null,S=null;p!==void 0&&(j=""+p),x.key!==void 0&&(j=""+x.key),x.ref!==void 0&&(S=x.ref);for(g in x)o.call(x,g)&&!c.hasOwnProperty(g)&&(h[g]=x[g]);if(f&&f.defaultProps)for(g in x=f.defaultProps,x)h[g]===void 0&&(h[g]=x[g]);return{$$typeof:s,type:f,key:j,ref:S,props:h,_owner:l.current}}return oo.Fragment=r,oo.jsx=d,oo.jsxs=d,oo}var Gh;function ub(){return Gh||(Gh=1,eu.exports=db()),eu.exports}var e=ub(),Ki={},nu={exports:{}},an={},su={exports:{}},au={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function mb(){return Yh||(Yh=1,(function(t){function s(W,X){var te=W.length;W.push(X);e:for(;0<te;){var T=te-1>>>1,U=W[T];if(0<l(U,X))W[T]=X,W[te]=U,te=T;else break e}}function r(W){return W.length===0?null:W[0]}function o(W){if(W.length===0)return null;var X=W[0],te=W.pop();if(te!==X){W[0]=te;e:for(var T=0,U=W.length,Z=U>>>1;T<Z;){var L=2*(T+1)-1,K=W[L],J=L+1,Q=W[J];if(0>l(K,te))J<U&&0>l(Q,K)?(W[T]=Q,W[J]=te,T=J):(W[T]=K,W[L]=te,T=L);else if(J<U&&0>l(Q,te))W[T]=Q,W[J]=te,T=J;else break e}}return X}function l(W,X){var te=W.sortIndex-X.sortIndex;return te!==0?te:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var x=[],p=[],g=1,h=null,j=3,S=!1,b=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var X=r(p);X!==null;){if(X.callback===null)o(p);else if(X.startTime<=W)o(p),X.sortIndex=X.expirationTime,s(x,X);else break;X=r(p)}}function R(W){if(y=!1,_(W),!b)if(r(x)!==null)b=!0,z(k);else{var X=r(p);X!==null&&H(R,X.startTime-W)}}function k(W,X){b=!1,y&&(y=!1,C(P),P=-1),S=!0;var te=j;try{for(_(X),h=r(x);h!==null&&(!(h.expirationTime>X)||W&&!F());){var T=h.callback;if(typeof T=="function"){h.callback=null,j=h.priorityLevel;var U=T(h.expirationTime<=X);X=t.unstable_now(),typeof U=="function"?h.callback=U:h===r(x)&&o(x),_(X)}else o(x);h=r(x)}if(h!==null)var Z=!0;else{var L=r(p);L!==null&&H(R,L.startTime-X),Z=!1}return Z}finally{h=null,j=te,S=!1}}var M=!1,O=null,P=-1,I=5,D=-1;function F(){return!(t.unstable_now()-D<I)}function V(){if(O!==null){var W=t.unstable_now();D=W;var X=!0;try{X=O(!0,W)}finally{X?re():(M=!1,O=null)}}else M=!1}var re;if(typeof E=="function")re=function(){E(V)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=V,re=function(){G.postMessage(null)}}else re=function(){N(V,0)};function z(W){O=W,M||(M=!0,re())}function H(W,X){P=N(function(){W(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){b||S||(b=!0,z(k))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return r(x)},t.unstable_next=function(W){switch(j){case 1:case 2:case 3:var X=3;break;default:X=j}var te=j;j=X;try{return W()}finally{j=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=j;j=W;try{return X()}finally{j=te}},t.unstable_scheduleCallback=function(W,X,te){var T=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?T+te:T):te=T,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=te+U,W={id:g++,callback:X,priorityLevel:W,startTime:te,expirationTime:U,sortIndex:-1},te>T?(W.sortIndex=te,s(p,W),r(x)===null&&W===r(p)&&(y?(C(P),P=-1):y=!0,H(R,te-T))):(W.sortIndex=U,s(x,W),b||S||(b=!0,z(k))),W},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(W){var X=j;return function(){var te=j;j=X;try{return W.apply(this,arguments)}finally{j=te}}}})(au)),au}var Jh;function fb(){return Jh||(Jh=1,su.exports=mb()),su.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function pb(){if(Qh)return an;Qh=1;var t=_l(),s=fb();function r(n){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+n,i=1;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(n,a){d(n,a),d(n+"Capture",a)}function d(n,a){for(l[n]=a,n=0;n<a.length;n++)o.add(a[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},h={};function j(n){return x.call(h,n)?!0:x.call(g,n)?!1:p.test(n)?h[n]=!0:(g[n]=!0,!1)}function S(n,a,i,u){if(i!==null&&i.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function b(n,a,i,u){if(a===null||typeof a>"u"||S(n,a,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function y(n,a,i,u,v,w,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=u,this.attributeNamespace=v,this.mustUseProperty=i,this.propertyName=n,this.type=a,this.sanitizeURL=w,this.removeEmptyString=A}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){N[n]=new y(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var a=n[0];N[a]=new y(a,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){N[n]=new y(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){N[n]=new y(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){N[n]=new y(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){N[n]=new y(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){N[n]=new y(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){N[n]=new y(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){N[n]=new y(n,5,!1,n.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function E(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var a=n.replace(C,E);N[a]=new y(a,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var a=n.replace(C,E);N[a]=new y(a,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var a=n.replace(C,E);N[a]=new y(a,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){N[n]=new y(n,1,!1,n.toLowerCase(),null,!1,!1)}),N.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){N[n]=new y(n,1,!1,n.toLowerCase(),null,!0,!0)});function _(n,a,i,u){var v=N.hasOwnProperty(a)?N[a]:null;(v!==null?v.type!==0:u||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,i,v,u)&&(i=null),u||v===null?j(a)&&(i===null?n.removeAttribute(a):n.setAttribute(a,""+i)):v.mustUseProperty?n[v.propertyName]=i===null?v.type===3?!1:"":i:(a=v.attributeName,u=v.attributeNamespace,i===null?n.removeAttribute(a):(v=v.type,i=v===3||v===4&&i===!0?"":""+i,u?n.setAttributeNS(u,a,i):n.setAttribute(a,i))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),F=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),W=Symbol.iterator;function X(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var te=Object.assign,T;function U(n){if(T===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);T=a&&a[1]||""}return`
`+T+n}var Z=!1;function L(n,a){if(!n||Z)return"";Z=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ae){var u=ae}Reflect.construct(n,[],a)}else{try{a.call()}catch(ae){u=ae}n.call(a.prototype)}else{try{throw Error()}catch(ae){u=ae}n()}}catch(ae){if(ae&&u&&typeof ae.stack=="string"){for(var v=ae.stack.split(`
`),w=u.stack.split(`
`),A=v.length-1,B=w.length-1;1<=A&&0<=B&&v[A]!==w[B];)B--;for(;1<=A&&0<=B;A--,B--)if(v[A]!==w[B]){if(A!==1||B!==1)do if(A--,B--,0>B||v[A]!==w[B]){var q=`
`+v[A].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=A&&0<=B);break}}}finally{Z=!1,Error.prepareStackTrace=i}return(n=n?n.displayName||n.name:"")?U(n):""}function K(n){switch(n.tag){case 5:return U(n.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return n=L(n.type,!1),n;case 11:return n=L(n.type.render,!1),n;case 1:return n=L(n.type,!0),n;default:return""}}function J(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case M:return"Portal";case I:return"Profiler";case P:return"StrictMode";case re:return"Suspense";case $:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case F:return(n.displayName||"Context")+".Consumer";case D:return(n._context.displayName||"Context")+".Provider";case V:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return a=n.displayName||null,a!==null?a:J(n.type)||"Memo";case z:a=n._payload,n=n._init;try{return J(n(a))}catch{}}return null}function Q(n){var a=n.type;switch(n.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=a.render,n=n.displayName||n.name||"",a.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(a);case 8:return a===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function le(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function we(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function je(n){var a=we(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),u=""+n[a];if(!n.hasOwnProperty(a)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var v=i.get,w=i.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return v.call(this)},set:function(A){u=""+A,w.call(this,A)}}),Object.defineProperty(n,a,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Ce(n){n._valueTracker||(n._valueTracker=je(n))}function Re(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var i=a.getValue(),u="";return n&&(u=we(n)?n.checked?"true":"false":n.value),n=u,n!==i?(a.setValue(n),!0):!1}function Ue(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function it(n,a){var i=a.checked;return te({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??n._wrapperState.initialChecked})}function We(n,a){var i=a.defaultValue==null?"":a.defaultValue,u=a.checked!=null?a.checked:a.defaultChecked;i=le(a.value!=null?a.value:i),n._wrapperState={initialChecked:u,initialValue:i,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Te(n,a){a=a.checked,a!=null&&_(n,"checked",a,!1)}function _t(n,a){Te(n,a);var i=le(a.value),u=a.type;if(i!=null)u==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+i):n.value!==""+i&&(n.value=""+i);else if(u==="submit"||u==="reset"){n.removeAttribute("value");return}a.hasOwnProperty("value")?qt(n,a.type,i):a.hasOwnProperty("defaultValue")&&qt(n,a.type,le(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(n.defaultChecked=!!a.defaultChecked)}function ys(n,a,i){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var u=a.type;if(!(u!=="submit"&&u!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+n._wrapperState.initialValue,i||a===n.value||(n.value=a),n.defaultValue=a}i=n.name,i!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,i!==""&&(n.name=i)}function qt(n,a,i){(a!=="number"||Ue(n.ownerDocument)!==n)&&(i==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+i&&(n.defaultValue=""+i))}var ta=Array.isArray;function Tt(n,a,i,u){if(n=n.options,a){a={};for(var v=0;v<i.length;v++)a["$"+i[v]]=!0;for(i=0;i<n.length;i++)v=a.hasOwnProperty("$"+n[i].value),n[i].selected!==v&&(n[i].selected=v),v&&u&&(n[i].defaultSelected=!0)}else{for(i=""+le(i),a=null,v=0;v<n.length;v++){if(n[v].value===i){n[v].selected=!0,u&&(n[v].defaultSelected=!0);return}a!==null||n[v].disabled||(a=n[v])}a!==null&&(a.selected=!0)}}function na(n,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},a,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function js(n,a){var i=a.value;if(i==null){if(i=a.children,a=a.defaultValue,i!=null){if(a!=null)throw Error(r(92));if(ta(i)){if(1<i.length)throw Error(r(93));i=i[0]}a=i}a==null&&(a=""),i=a}n._wrapperState={initialValue:le(i)}}function os(n,a){var i=le(a.value),u=le(a.defaultValue);i!=null&&(i=""+i,i!==n.value&&(n.value=i),a.defaultValue==null&&n.defaultValue!==i&&(n.defaultValue=i)),u!=null&&(n.defaultValue=""+u)}function wr(n){var a=n.textContent;a===n._wrapperState.initialValue&&a!==""&&a!==null&&(n.value=a)}function sf(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uc(n,a){return n==null||n==="http://www.w3.org/1999/xhtml"?sf(a):n==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var $o,af=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,i,u,v){MSApp.execUnsafeLocalFunction(function(){return n(a,i,u,v)})}:n})(function(n,a){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=a;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=$o.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;a.firstChild;)n.appendChild(a.firstChild)}});function Nr(n,a){if(a){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=a;return}}n.textContent=a}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mw=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(n){mw.forEach(function(a){a=a+n.charAt(0).toUpperCase()+n.substring(1),br[a]=br[n]})});function rf(n,a,i){return a==null||typeof a=="boolean"||a===""?"":i||typeof a!="number"||a===0||br.hasOwnProperty(n)&&br[n]?(""+a).trim():a+"px"}function of(n,a){n=n.style;for(var i in a)if(a.hasOwnProperty(i)){var u=i.indexOf("--")===0,v=rf(i,a[i],u);i==="float"&&(i="cssFloat"),u?n.setProperty(i,v):n[i]=v}}var fw=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mc(n,a){if(a){if(fw[n]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function fc(n,a){if(n.indexOf("-")===-1)return typeof a.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=null;function hc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xc=null,ka=null,Ra=null;function lf(n){if(n=Wr(n)){if(typeof xc!="function")throw Error(r(280));var a=n.stateNode;a&&(a=li(a),xc(n.stateNode,n.type,a))}}function cf(n){ka?Ra?Ra.push(n):Ra=[n]:ka=n}function df(){if(ka){var n=ka,a=Ra;if(Ra=ka=null,lf(n),a)for(n=0;n<a.length;n++)lf(a[n])}}function uf(n,a){return n(a)}function mf(){}var gc=!1;function ff(n,a,i){if(gc)return n(a,i);gc=!0;try{return uf(n,a,i)}finally{gc=!1,(ka!==null||Ra!==null)&&(mf(),df())}}function Sr(n,a){var i=n.stateNode;if(i===null)return null;var u=li(i);if(u===null)return null;i=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(r(231,a,typeof i));return i}var vc=!1;if(f)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){vc=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{vc=!1}function pw(n,a,i,u,v,w,A,B,q){var ae=Array.prototype.slice.call(arguments,3);try{a.apply(i,ae)}catch(he){this.onError(he)}}var Er=!1,zo=null,Bo=!1,yc=null,hw={onError:function(n){Er=!0,zo=n}};function xw(n,a,i,u,v,w,A,B,q){Er=!1,zo=null,pw.apply(hw,arguments)}function gw(n,a,i,u,v,w,A,B,q){if(xw.apply(this,arguments),Er){if(Er){var ae=zo;Er=!1,zo=null}else throw Error(r(198));Bo||(Bo=!0,yc=ae)}}function sa(n){var a=n,i=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(i=a.return),n=a.return;while(n)}return a.tag===3?i:null}function pf(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function hf(n){if(sa(n)!==n)throw Error(r(188))}function vw(n){var a=n.alternate;if(!a){if(a=sa(n),a===null)throw Error(r(188));return a!==n?null:n}for(var i=n,u=a;;){var v=i.return;if(v===null)break;var w=v.alternate;if(w===null){if(u=v.return,u!==null){i=u;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===i)return hf(v),n;if(w===u)return hf(v),a;w=w.sibling}throw Error(r(188))}if(i.return!==u.return)i=v,u=w;else{for(var A=!1,B=v.child;B;){if(B===i){A=!0,i=v,u=w;break}if(B===u){A=!0,u=v,i=w;break}B=B.sibling}if(!A){for(B=w.child;B;){if(B===i){A=!0,i=w,u=v;break}if(B===u){A=!0,u=w,i=v;break}B=B.sibling}if(!A)throw Error(r(189))}}if(i.alternate!==u)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?n:a}function xf(n){return n=vw(n),n!==null?gf(n):null}function gf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var a=gf(n);if(a!==null)return a;n=n.sibling}return null}var vf=s.unstable_scheduleCallback,yf=s.unstable_cancelCallback,yw=s.unstable_shouldYield,jw=s.unstable_requestPaint,Nt=s.unstable_now,ww=s.unstable_getCurrentPriorityLevel,jc=s.unstable_ImmediatePriority,jf=s.unstable_UserBlockingPriority,Uo=s.unstable_NormalPriority,Nw=s.unstable_LowPriority,wf=s.unstable_IdlePriority,Vo=null,zn=null;function bw(n){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Vo,n,void 0,(n.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Ew,Sw=Math.log,Cw=Math.LN2;function Ew(n){return n>>>=0,n===0?32:31-(Sw(n)/Cw|0)|0}var Ho=64,Wo=4194304;function _r(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function qo(n,a){var i=n.pendingLanes;if(i===0)return 0;var u=0,v=n.suspendedLanes,w=n.pingedLanes,A=i&268435455;if(A!==0){var B=A&~v;B!==0?u=_r(B):(w&=A,w!==0&&(u=_r(w)))}else A=i&~v,A!==0?u=_r(A):w!==0&&(u=_r(w));if(u===0)return 0;if(a!==0&&a!==u&&(a&v)===0&&(v=u&-u,w=a&-a,v>=w||v===16&&(w&4194240)!==0))return a;if((u&4)!==0&&(u|=i&16),a=n.entangledLanes,a!==0)for(n=n.entanglements,a&=u;0<a;)i=31-bn(a),v=1<<i,u|=n[i],a&=~v;return u}function _w(n,a){switch(n){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kw(n,a){for(var i=n.suspendedLanes,u=n.pingedLanes,v=n.expirationTimes,w=n.pendingLanes;0<w;){var A=31-bn(w),B=1<<A,q=v[A];q===-1?((B&i)===0||(B&u)!==0)&&(v[A]=_w(B,a)):q<=a&&(n.expiredLanes|=B),w&=~B}}function wc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Nf(){var n=Ho;return Ho<<=1,(Ho&4194240)===0&&(Ho=64),n}function Nc(n){for(var a=[],i=0;31>i;i++)a.push(n);return a}function kr(n,a,i){n.pendingLanes|=a,a!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,a=31-bn(a),n[a]=i}function Rw(n,a){var i=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a,a=n.entanglements;var u=n.eventTimes;for(n=n.expirationTimes;0<i;){var v=31-bn(i),w=1<<v;a[v]=0,u[v]=-1,n[v]=-1,i&=~w}}function bc(n,a){var i=n.entangledLanes|=a;for(n=n.entanglements;i;){var u=31-bn(i),v=1<<u;v&a|n[u]&a&&(n[u]|=a),i&=~v}}var st=0;function bf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Sf,Sc,Cf,Ef,_f,Cc=!1,Ko=[],ws=null,Ns=null,bs=null,Rr=new Map,Pr=new Map,Ss=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kf(n,a){switch(n){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Rr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(a.pointerId)}}function Ar(n,a,i,u,v,w){return n===null||n.nativeEvent!==w?(n={blockedOn:a,domEventName:i,eventSystemFlags:u,nativeEvent:w,targetContainers:[v]},a!==null&&(a=Wr(a),a!==null&&Sc(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),n)}function Aw(n,a,i,u,v){switch(a){case"focusin":return ws=Ar(ws,n,a,i,u,v),!0;case"dragenter":return Ns=Ar(Ns,n,a,i,u,v),!0;case"mouseover":return bs=Ar(bs,n,a,i,u,v),!0;case"pointerover":var w=v.pointerId;return Rr.set(w,Ar(Rr.get(w)||null,n,a,i,u,v)),!0;case"gotpointercapture":return w=v.pointerId,Pr.set(w,Ar(Pr.get(w)||null,n,a,i,u,v)),!0}return!1}function Rf(n){var a=aa(n.target);if(a!==null){var i=sa(a);if(i!==null){if(a=i.tag,a===13){if(a=pf(i),a!==null){n.blockedOn=a,_f(n.priority,function(){Cf(i)});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Go(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var i=_c(n.domEventName,n.eventSystemFlags,a[0],n.nativeEvent);if(i===null){i=n.nativeEvent;var u=new i.constructor(i.type,i);pc=u,i.target.dispatchEvent(u),pc=null}else return a=Wr(i),a!==null&&Sc(a),n.blockedOn=i,!1;a.shift()}return!0}function Pf(n,a,i){Go(n)&&i.delete(a)}function Tw(){Cc=!1,ws!==null&&Go(ws)&&(ws=null),Ns!==null&&Go(Ns)&&(Ns=null),bs!==null&&Go(bs)&&(bs=null),Rr.forEach(Pf),Pr.forEach(Pf)}function Tr(n,a){n.blockedOn===a&&(n.blockedOn=null,Cc||(Cc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Tw)))}function Mr(n){function a(v){return Tr(v,n)}if(0<Ko.length){Tr(Ko[0],n);for(var i=1;i<Ko.length;i++){var u=Ko[i];u.blockedOn===n&&(u.blockedOn=null)}}for(ws!==null&&Tr(ws,n),Ns!==null&&Tr(Ns,n),bs!==null&&Tr(bs,n),Rr.forEach(a),Pr.forEach(a),i=0;i<Ss.length;i++)u=Ss[i],u.blockedOn===n&&(u.blockedOn=null);for(;0<Ss.length&&(i=Ss[0],i.blockedOn===null);)Rf(i),i.blockedOn===null&&Ss.shift()}var Pa=R.ReactCurrentBatchConfig,Yo=!0;function Mw(n,a,i,u){var v=st,w=Pa.transition;Pa.transition=null;try{st=1,Ec(n,a,i,u)}finally{st=v,Pa.transition=w}}function Dw(n,a,i,u){var v=st,w=Pa.transition;Pa.transition=null;try{st=4,Ec(n,a,i,u)}finally{st=v,Pa.transition=w}}function Ec(n,a,i,u){if(Yo){var v=_c(n,a,i,u);if(v===null)Hc(n,a,u,Jo,i),kf(n,u);else if(Aw(v,n,a,i,u))u.stopPropagation();else if(kf(n,u),a&4&&-1<Pw.indexOf(n)){for(;v!==null;){var w=Wr(v);if(w!==null&&Sf(w),w=_c(n,a,i,u),w===null&&Hc(n,a,u,Jo,i),w===v)break;v=w}v!==null&&u.stopPropagation()}else Hc(n,a,u,null,i)}}var Jo=null;function _c(n,a,i,u){if(Jo=null,n=hc(u),n=aa(n),n!==null)if(a=sa(n),a===null)n=null;else if(i=a.tag,i===13){if(n=pf(a),n!==null)return n;n=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null);return Jo=n,null}function Af(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ww()){case jc:return 1;case jf:return 4;case Uo:case Nw:return 16;case wf:return 536870912;default:return 16}default:return 16}}var Cs=null,kc=null,Qo=null;function Tf(){if(Qo)return Qo;var n,a=kc,i=a.length,u,v="value"in Cs?Cs.value:Cs.textContent,w=v.length;for(n=0;n<i&&a[n]===v[n];n++);var A=i-n;for(u=1;u<=A&&a[i-u]===v[w-u];u++);return Qo=v.slice(n,1<u?1-u:void 0)}function Xo(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Zo(){return!0}function Mf(){return!1}function cn(n){function a(i,u,v,w,A){this._reactName=i,this._targetInst=v,this.type=u,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var B in n)n.hasOwnProperty(B)&&(i=n[B],this[B]=i?i(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Zo:Mf,this.isPropagationStopped=Mf,this}return te(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),a}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rc=cn(Aa),Dr=te({},Aa,{view:0,detail:0}),Ow=cn(Dr),Pc,Ac,Or,ei=te({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Or&&(Or&&n.type==="mousemove"?(Pc=n.screenX-Or.screenX,Ac=n.screenY-Or.screenY):Ac=Pc=0,Or=n),Pc)},movementY:function(n){return"movementY"in n?n.movementY:Ac}}),Df=cn(ei),Iw=te({},ei,{dataTransfer:0}),Lw=cn(Iw),Fw=te({},Dr,{relatedTarget:0}),Tc=cn(Fw),$w=te({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),zw=cn($w),Bw=te({},Aa,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Uw=cn(Bw),Vw=te({},Aa,{data:0}),Of=cn(Vw),Hw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ww={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kw(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=qw[n])?!!a[n]:!1}function Mc(){return Kw}var Gw=te({},Dr,{key:function(n){if(n.key){var a=Hw[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Xo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ww[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mc,charCode:function(n){return n.type==="keypress"?Xo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Xo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Yw=cn(Gw),Jw=te({},ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=cn(Jw),Qw=te({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mc}),Xw=cn(Qw),Zw=te({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),eN=cn(Zw),tN=te({},ei,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),nN=cn(tN),sN=[9,13,27,32],Dc=f&&"CompositionEvent"in window,Ir=null;f&&"documentMode"in document&&(Ir=document.documentMode);var aN=f&&"TextEvent"in window&&!Ir,Lf=f&&(!Dc||Ir&&8<Ir&&11>=Ir),Ff=" ",$f=!1;function zf(n,a){switch(n){case"keyup":return sN.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ta=!1;function rN(n,a){switch(n){case"compositionend":return Bf(a);case"keypress":return a.which!==32?null:($f=!0,Ff);case"textInput":return n=a.data,n===Ff&&$f?null:n;default:return null}}function oN(n,a){if(Ta)return n==="compositionend"||!Dc&&zf(n,a)?(n=Tf(),Qo=kc=Cs=null,Ta=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Lf&&a.locale!=="ko"?null:a.data;default:return null}}var iN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uf(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!iN[n.type]:a==="textarea"}function Vf(n,a,i,u){cf(u),a=ri(a,"onChange"),0<a.length&&(i=new Rc("onChange","change",null,i,u),n.push({event:i,listeners:a}))}var Lr=null,Fr=null;function lN(n){ip(n,0)}function ti(n){var a=La(n);if(Re(a))return n}function cN(n,a){if(n==="change")return a}var Hf=!1;if(f){var Oc;if(f){var Ic="oninput"in document;if(!Ic){var Wf=document.createElement("div");Wf.setAttribute("oninput","return;"),Ic=typeof Wf.oninput=="function"}Oc=Ic}else Oc=!1;Hf=Oc&&(!document.documentMode||9<document.documentMode)}function qf(){Lr&&(Lr.detachEvent("onpropertychange",Kf),Fr=Lr=null)}function Kf(n){if(n.propertyName==="value"&&ti(Fr)){var a=[];Vf(a,Fr,n,hc(n)),ff(lN,a)}}function dN(n,a,i){n==="focusin"?(qf(),Lr=a,Fr=i,Lr.attachEvent("onpropertychange",Kf)):n==="focusout"&&qf()}function uN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ti(Fr)}function mN(n,a){if(n==="click")return ti(a)}function fN(n,a){if(n==="input"||n==="change")return ti(a)}function pN(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Sn=typeof Object.is=="function"?Object.is:pN;function $r(n,a){if(Sn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var i=Object.keys(n),u=Object.keys(a);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var v=i[u];if(!x.call(a,v)||!Sn(n[v],a[v]))return!1}return!0}function Gf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Yf(n,a){var i=Gf(n);n=0;for(var u;i;){if(i.nodeType===3){if(u=n+i.textContent.length,n<=a&&u>=a)return{node:i,offset:a-n};n=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Gf(i)}}function Jf(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Jf(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Qf(){for(var n=window,a=Ue();a instanceof n.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)n=a.contentWindow;else break;a=Ue(n.document)}return a}function Lc(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function hN(n){var a=Qf(),i=n.focusedElem,u=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&Jf(i.ownerDocument.documentElement,i)){if(u!==null&&Lc(i)){if(a=u.start,n=u.end,n===void 0&&(n=a),"selectionStart"in i)i.selectionStart=a,i.selectionEnd=Math.min(n,i.value.length);else if(n=(a=i.ownerDocument||document)&&a.defaultView||window,n.getSelection){n=n.getSelection();var v=i.textContent.length,w=Math.min(u.start,v);u=u.end===void 0?w:Math.min(u.end,v),!n.extend&&w>u&&(v=u,u=w,w=v),v=Yf(i,w);var A=Yf(i,u);v&&A&&(n.rangeCount!==1||n.anchorNode!==v.node||n.anchorOffset!==v.offset||n.focusNode!==A.node||n.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),n.removeAllRanges(),w>u?(n.addRange(a),n.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),n.addRange(a)))}}for(a=[],n=i;n=n.parentNode;)n.nodeType===1&&a.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<a.length;i++)n=a[i],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var xN=f&&"documentMode"in document&&11>=document.documentMode,Ma=null,Fc=null,zr=null,$c=!1;function Xf(n,a,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;$c||Ma==null||Ma!==Ue(u)||(u=Ma,"selectionStart"in u&&Lc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),zr&&$r(zr,u)||(zr=u,u=ri(Fc,"onSelect"),0<u.length&&(a=new Rc("onSelect","select",null,a,i),n.push({event:a,listeners:u}),a.target=Ma)))}function ni(n,a){var i={};return i[n.toLowerCase()]=a.toLowerCase(),i["Webkit"+n]="webkit"+a,i["Moz"+n]="moz"+a,i}var Da={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionend:ni("Transition","TransitionEnd")},zc={},Zf={};f&&(Zf=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function si(n){if(zc[n])return zc[n];if(!Da[n])return n;var a=Da[n],i;for(i in a)if(a.hasOwnProperty(i)&&i in Zf)return zc[n]=a[i];return n}var ep=si("animationend"),tp=si("animationiteration"),np=si("animationstart"),sp=si("transitionend"),ap=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(n,a){ap.set(n,a),c(a,[n])}for(var Bc=0;Bc<rp.length;Bc++){var Uc=rp[Bc],gN=Uc.toLowerCase(),vN=Uc[0].toUpperCase()+Uc.slice(1);Es(gN,"on"+vN)}Es(ep,"onAnimationEnd"),Es(tp,"onAnimationIteration"),Es(np,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(sp,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function op(n,a,i){var u=n.type||"unknown-event";n.currentTarget=i,gw(u,a,void 0,n),n.currentTarget=null}function ip(n,a){a=(a&4)!==0;for(var i=0;i<n.length;i++){var u=n[i],v=u.event;u=u.listeners;e:{var w=void 0;if(a)for(var A=u.length-1;0<=A;A--){var B=u[A],q=B.instance,ae=B.currentTarget;if(B=B.listener,q!==w&&v.isPropagationStopped())break e;op(v,B,ae),w=q}else for(A=0;A<u.length;A++){if(B=u[A],q=B.instance,ae=B.currentTarget,B=B.listener,q!==w&&v.isPropagationStopped())break e;op(v,B,ae),w=q}}}if(Bo)throw n=yc,Bo=!1,yc=null,n}function dt(n,a){var i=a[Jc];i===void 0&&(i=a[Jc]=new Set);var u=n+"__bubble";i.has(u)||(lp(a,n,2,!1),i.add(u))}function Vc(n,a,i){var u=0;a&&(u|=4),lp(i,n,u,a)}var ai="_reactListening"+Math.random().toString(36).slice(2);function Ur(n){if(!n[ai]){n[ai]=!0,o.forEach(function(i){i!=="selectionchange"&&(yN.has(i)||Vc(i,!1,n),Vc(i,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[ai]||(a[ai]=!0,Vc("selectionchange",!1,a))}}function lp(n,a,i,u){switch(Af(a)){case 1:var v=Mw;break;case 4:v=Dw;break;default:v=Ec}i=v.bind(null,a,i,n),v=void 0,!vc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),u?v!==void 0?n.addEventListener(a,i,{capture:!0,passive:v}):n.addEventListener(a,i,!0):v!==void 0?n.addEventListener(a,i,{passive:v}):n.addEventListener(a,i,!1)}function Hc(n,a,i,u,v){var w=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var B=u.stateNode.containerInfo;if(B===v||B.nodeType===8&&B.parentNode===v)break;if(A===4)for(A=u.return;A!==null;){var q=A.tag;if((q===3||q===4)&&(q=A.stateNode.containerInfo,q===v||q.nodeType===8&&q.parentNode===v))return;A=A.return}for(;B!==null;){if(A=aa(B),A===null)return;if(q=A.tag,q===5||q===6){u=w=A;continue e}B=B.parentNode}}u=u.return}ff(function(){var ae=w,he=hc(i),ve=[];e:{var pe=ap.get(n);if(pe!==void 0){var Se=Rc,_e=n;switch(n){case"keypress":if(Xo(i)===0)break e;case"keydown":case"keyup":Se=Yw;break;case"focusin":_e="focus",Se=Tc;break;case"focusout":_e="blur",Se=Tc;break;case"beforeblur":case"afterblur":Se=Tc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=Lw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=Xw;break;case ep:case tp:case np:Se=zw;break;case sp:Se=eN;break;case"scroll":Se=Ow;break;case"wheel":Se=nN;break;case"copy":case"cut":case"paste":Se=Uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=If}var ke=(a&4)!==0,bt=!ke&&n==="scroll",ee=ke?pe!==null?pe+"Capture":null:pe;ke=[];for(var Y=ae,ne;Y!==null;){ne=Y;var Ne=ne.stateNode;if(ne.tag===5&&Ne!==null&&(ne=Ne,ee!==null&&(Ne=Sr(Y,ee),Ne!=null&&ke.push(Vr(Y,Ne,ne)))),bt)break;Y=Y.return}0<ke.length&&(pe=new Se(pe,_e,null,i,he),ve.push({event:pe,listeners:ke}))}}if((a&7)===0){e:{if(pe=n==="mouseover"||n==="pointerover",Se=n==="mouseout"||n==="pointerout",pe&&i!==pc&&(_e=i.relatedTarget||i.fromElement)&&(aa(_e)||_e[is]))break e;if((Se||pe)&&(pe=he.window===he?he:(pe=he.ownerDocument)?pe.defaultView||pe.parentWindow:window,Se?(_e=i.relatedTarget||i.toElement,Se=ae,_e=_e?aa(_e):null,_e!==null&&(bt=sa(_e),_e!==bt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(Se=null,_e=ae),Se!==_e)){if(ke=Df,Ne="onMouseLeave",ee="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(ke=If,Ne="onPointerLeave",ee="onPointerEnter",Y="pointer"),bt=Se==null?pe:La(Se),ne=_e==null?pe:La(_e),pe=new ke(Ne,Y+"leave",Se,i,he),pe.target=bt,pe.relatedTarget=ne,Ne=null,aa(he)===ae&&(ke=new ke(ee,Y+"enter",_e,i,he),ke.target=ne,ke.relatedTarget=bt,Ne=ke),bt=Ne,Se&&_e)t:{for(ke=Se,ee=_e,Y=0,ne=ke;ne;ne=Oa(ne))Y++;for(ne=0,Ne=ee;Ne;Ne=Oa(Ne))ne++;for(;0<Y-ne;)ke=Oa(ke),Y--;for(;0<ne-Y;)ee=Oa(ee),ne--;for(;Y--;){if(ke===ee||ee!==null&&ke===ee.alternate)break t;ke=Oa(ke),ee=Oa(ee)}ke=null}else ke=null;Se!==null&&cp(ve,pe,Se,ke,!1),_e!==null&&bt!==null&&cp(ve,bt,_e,ke,!0)}}e:{if(pe=ae?La(ae):window,Se=pe.nodeName&&pe.nodeName.toLowerCase(),Se==="select"||Se==="input"&&pe.type==="file")var Pe=cN;else if(Uf(pe))if(Hf)Pe=fN;else{Pe=uN;var De=dN}else(Se=pe.nodeName)&&Se.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Pe=mN);if(Pe&&(Pe=Pe(n,ae))){Vf(ve,Pe,i,he);break e}De&&De(n,pe,ae),n==="focusout"&&(De=pe._wrapperState)&&De.controlled&&pe.type==="number"&&qt(pe,"number",pe.value)}switch(De=ae?La(ae):window,n){case"focusin":(Uf(De)||De.contentEditable==="true")&&(Ma=De,Fc=ae,zr=null);break;case"focusout":zr=Fc=Ma=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,Xf(ve,i,he);break;case"selectionchange":if(xN)break;case"keydown":case"keyup":Xf(ve,i,he)}var Oe;if(Dc)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ta?zf(n,i)&&(Ie="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(Ie="onCompositionStart");Ie&&(Lf&&i.locale!=="ko"&&(Ta||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ta&&(Oe=Tf()):(Cs=he,kc="value"in Cs?Cs.value:Cs.textContent,Ta=!0)),De=ri(ae,Ie),0<De.length&&(Ie=new Of(Ie,n,null,i,he),ve.push({event:Ie,listeners:De}),Oe?Ie.data=Oe:(Oe=Bf(i),Oe!==null&&(Ie.data=Oe)))),(Oe=aN?rN(n,i):oN(n,i))&&(ae=ri(ae,"onBeforeInput"),0<ae.length&&(he=new Of("onBeforeInput","beforeinput",null,i,he),ve.push({event:he,listeners:ae}),he.data=Oe))}ip(ve,a)})}function Vr(n,a,i){return{instance:n,listener:a,currentTarget:i}}function ri(n,a){for(var i=a+"Capture",u=[];n!==null;){var v=n,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=Sr(n,i),w!=null&&u.unshift(Vr(n,w,v)),w=Sr(n,a),w!=null&&u.push(Vr(n,w,v))),n=n.return}return u}function Oa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cp(n,a,i,u,v){for(var w=a._reactName,A=[];i!==null&&i!==u;){var B=i,q=B.alternate,ae=B.stateNode;if(q!==null&&q===u)break;B.tag===5&&ae!==null&&(B=ae,v?(q=Sr(i,w),q!=null&&A.unshift(Vr(i,q,B))):v||(q=Sr(i,w),q!=null&&A.push(Vr(i,q,B)))),i=i.return}A.length!==0&&n.push({event:a,listeners:A})}var jN=/\r\n?/g,wN=/\u0000|\uFFFD/g;function dp(n){return(typeof n=="string"?n:""+n).replace(jN,`
`).replace(wN,"")}function oi(n,a,i){if(a=dp(a),dp(n)!==a&&i)throw Error(r(425))}function ii(){}var Wc=null,qc=null;function Kc(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gc=typeof setTimeout=="function"?setTimeout:void 0,NN=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,bN=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(n){return up.resolve(null).then(n).catch(SN)}:Gc;function SN(n){setTimeout(function(){throw n})}function Yc(n,a){var i=a,u=0;do{var v=i.nextSibling;if(n.removeChild(i),v&&v.nodeType===8)if(i=v.data,i==="/$"){if(u===0){n.removeChild(v),Mr(a);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=v}while(i);Mr(a)}function _s(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return n}function mp(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"){if(a===0)return n;a--}else i==="/$"&&a++}n=n.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Ia,Hr="__reactProps$"+Ia,is="__reactContainer$"+Ia,Jc="__reactEvents$"+Ia,CN="__reactListeners$"+Ia,EN="__reactHandles$"+Ia;function aa(n){var a=n[Bn];if(a)return a;for(var i=n.parentNode;i;){if(a=i[is]||i[Bn]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(n=mp(n);n!==null;){if(i=n[Bn])return i;n=mp(n)}return a}n=i,i=n.parentNode}return null}function Wr(n){return n=n[Bn]||n[is],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function La(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function li(n){return n[Hr]||null}var Qc=[],Fa=-1;function ks(n){return{current:n}}function ut(n){0>Fa||(n.current=Qc[Fa],Qc[Fa]=null,Fa--)}function lt(n,a){Fa++,Qc[Fa]=n.current,n.current=a}var Rs={},zt=ks(Rs),Zt=ks(!1),ra=Rs;function $a(n,a){var i=n.type.contextTypes;if(!i)return Rs;var u=n.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===a)return u.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in i)v[w]=a[w];return u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=v),v}function en(n){return n=n.childContextTypes,n!=null}function ci(){ut(Zt),ut(zt)}function fp(n,a,i){if(zt.current!==Rs)throw Error(r(168));lt(zt,a),lt(Zt,i)}function pp(n,a,i){var u=n.stateNode;if(a=a.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var v in u)if(!(v in a))throw Error(r(108,Q(n)||"Unknown",v));return te({},i,u)}function di(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Rs,ra=zt.current,lt(zt,n),lt(Zt,Zt.current),!0}function hp(n,a,i){var u=n.stateNode;if(!u)throw Error(r(169));i?(n=pp(n,a,ra),u.__reactInternalMemoizedMergedChildContext=n,ut(Zt),ut(zt),lt(zt,n)):ut(Zt),lt(Zt,i)}var ls=null,ui=!1,Xc=!1;function xp(n){ls===null?ls=[n]:ls.push(n)}function _N(n){ui=!0,xp(n)}function Ps(){if(!Xc&&ls!==null){Xc=!0;var n=0,a=st;try{var i=ls;for(st=1;n<i.length;n++){var u=i[n];do u=u(!0);while(u!==null)}ls=null,ui=!1}catch(v){throw ls!==null&&(ls=ls.slice(n+1)),vf(jc,Ps),v}finally{st=a,Xc=!1}}return null}var za=[],Ba=0,mi=null,fi=0,hn=[],xn=0,oa=null,cs=1,ds="";function ia(n,a){za[Ba++]=fi,za[Ba++]=mi,mi=n,fi=a}function gp(n,a,i){hn[xn++]=cs,hn[xn++]=ds,hn[xn++]=oa,oa=n;var u=cs;n=ds;var v=32-bn(u)-1;u&=~(1<<v),i+=1;var w=32-bn(a)+v;if(30<w){var A=v-v%5;w=(u&(1<<A)-1).toString(32),u>>=A,v-=A,cs=1<<32-bn(a)+v|i<<v|u,ds=w+n}else cs=1<<w|i<<v|u,ds=n}function Zc(n){n.return!==null&&(ia(n,1),gp(n,1,0))}function ed(n){for(;n===mi;)mi=za[--Ba],za[Ba]=null,fi=za[--Ba],za[Ba]=null;for(;n===oa;)oa=hn[--xn],hn[xn]=null,ds=hn[--xn],hn[xn]=null,cs=hn[--xn],hn[xn]=null}var dn=null,un=null,pt=!1,Cn=null;function vp(n,a){var i=jn(5,null,null,0);i.elementType="DELETED",i.stateNode=a,i.return=n,a=n.deletions,a===null?(n.deletions=[i],n.flags|=16):a.push(i)}function yp(n,a){switch(n.tag){case 5:var i=n.type;return a=a.nodeType!==1||i.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(n.stateNode=a,dn=n,un=_s(a.firstChild),!0):!1;case 6:return a=n.pendingProps===""||a.nodeType!==3?null:a,a!==null?(n.stateNode=a,dn=n,un=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(i=oa!==null?{id:cs,overflow:ds}:null,n.memoizedState={dehydrated:a,treeContext:i,retryLane:1073741824},i=jn(18,null,null,0),i.stateNode=a,i.return=n,n.child=i,dn=n,un=null,!0):!1;default:return!1}}function td(n){return(n.mode&1)!==0&&(n.flags&128)===0}function nd(n){if(pt){var a=un;if(a){var i=a;if(!yp(n,a)){if(td(n))throw Error(r(418));a=_s(i.nextSibling);var u=dn;a&&yp(n,a)?vp(u,i):(n.flags=n.flags&-4097|2,pt=!1,dn=n)}}else{if(td(n))throw Error(r(418));n.flags=n.flags&-4097|2,pt=!1,dn=n}}}function jp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;dn=n}function pi(n){if(n!==dn)return!1;if(!pt)return jp(n),pt=!0,!1;var a;if((a=n.tag!==3)&&!(a=n.tag!==5)&&(a=n.type,a=a!=="head"&&a!=="body"&&!Kc(n.type,n.memoizedProps)),a&&(a=un)){if(td(n))throw wp(),Error(r(418));for(;a;)vp(n,a),a=_s(a.nextSibling)}if(jp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"){if(a===0){un=_s(n.nextSibling);break e}a--}else i!=="$"&&i!=="$!"&&i!=="$?"||a++}n=n.nextSibling}un=null}}else un=dn?_s(n.stateNode.nextSibling):null;return!0}function wp(){for(var n=un;n;)n=_s(n.nextSibling)}function Ua(){un=dn=null,pt=!1}function sd(n){Cn===null?Cn=[n]:Cn.push(n)}var kN=R.ReactCurrentBatchConfig;function qr(n,a,i){if(n=i.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var u=i.stateNode}if(!u)throw Error(r(147,n));var v=u,w=""+n;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(A){var B=v.refs;A===null?delete B[w]:B[w]=A},a._stringRef=w,a)}if(typeof n!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,n))}return n}function hi(n,a){throw n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n))}function Np(n){var a=n._init;return a(n._payload)}function bp(n){function a(ee,Y){if(n){var ne=ee.deletions;ne===null?(ee.deletions=[Y],ee.flags|=16):ne.push(Y)}}function i(ee,Y){if(!n)return null;for(;Y!==null;)a(ee,Y),Y=Y.sibling;return null}function u(ee,Y){for(ee=new Map;Y!==null;)Y.key!==null?ee.set(Y.key,Y):ee.set(Y.index,Y),Y=Y.sibling;return ee}function v(ee,Y){return ee=Fs(ee,Y),ee.index=0,ee.sibling=null,ee}function w(ee,Y,ne){return ee.index=ne,n?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<Y?(ee.flags|=2,Y):ne):(ee.flags|=2,Y)):(ee.flags|=1048576,Y)}function A(ee){return n&&ee.alternate===null&&(ee.flags|=2),ee}function B(ee,Y,ne,Ne){return Y===null||Y.tag!==6?(Y=Gd(ne,ee.mode,Ne),Y.return=ee,Y):(Y=v(Y,ne),Y.return=ee,Y)}function q(ee,Y,ne,Ne){var Pe=ne.type;return Pe===O?he(ee,Y,ne.props.children,Ne,ne.key):Y!==null&&(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===z&&Np(Pe)===Y.type)?(Ne=v(Y,ne.props),Ne.ref=qr(ee,Y,ne),Ne.return=ee,Ne):(Ne=$i(ne.type,ne.key,ne.props,null,ee.mode,Ne),Ne.ref=qr(ee,Y,ne),Ne.return=ee,Ne)}function ae(ee,Y,ne,Ne){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=Yd(ne,ee.mode,Ne),Y.return=ee,Y):(Y=v(Y,ne.children||[]),Y.return=ee,Y)}function he(ee,Y,ne,Ne,Pe){return Y===null||Y.tag!==7?(Y=ha(ne,ee.mode,Ne,Pe),Y.return=ee,Y):(Y=v(Y,ne),Y.return=ee,Y)}function ve(ee,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Gd(""+Y,ee.mode,ne),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case k:return ne=$i(Y.type,Y.key,Y.props,null,ee.mode,ne),ne.ref=qr(ee,null,Y),ne.return=ee,ne;case M:return Y=Yd(Y,ee.mode,ne),Y.return=ee,Y;case z:var Ne=Y._init;return ve(ee,Ne(Y._payload),ne)}if(ta(Y)||X(Y))return Y=ha(Y,ee.mode,ne,null),Y.return=ee,Y;hi(ee,Y)}return null}function pe(ee,Y,ne,Ne){var Pe=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Pe!==null?null:B(ee,Y,""+ne,Ne);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case k:return ne.key===Pe?q(ee,Y,ne,Ne):null;case M:return ne.key===Pe?ae(ee,Y,ne,Ne):null;case z:return Pe=ne._init,pe(ee,Y,Pe(ne._payload),Ne)}if(ta(ne)||X(ne))return Pe!==null?null:he(ee,Y,ne,Ne,null);hi(ee,ne)}return null}function Se(ee,Y,ne,Ne,Pe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return ee=ee.get(ne)||null,B(Y,ee,""+Ne,Pe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case k:return ee=ee.get(Ne.key===null?ne:Ne.key)||null,q(Y,ee,Ne,Pe);case M:return ee=ee.get(Ne.key===null?ne:Ne.key)||null,ae(Y,ee,Ne,Pe);case z:var De=Ne._init;return Se(ee,Y,ne,De(Ne._payload),Pe)}if(ta(Ne)||X(Ne))return ee=ee.get(ne)||null,he(Y,ee,Ne,Pe,null);hi(Y,Ne)}return null}function _e(ee,Y,ne,Ne){for(var Pe=null,De=null,Oe=Y,Ie=Y=0,Ot=null;Oe!==null&&Ie<ne.length;Ie++){Oe.index>Ie?(Ot=Oe,Oe=null):Ot=Oe.sibling;var Qe=pe(ee,Oe,ne[Ie],Ne);if(Qe===null){Oe===null&&(Oe=Ot);break}n&&Oe&&Qe.alternate===null&&a(ee,Oe),Y=w(Qe,Y,Ie),De===null?Pe=Qe:De.sibling=Qe,De=Qe,Oe=Ot}if(Ie===ne.length)return i(ee,Oe),pt&&ia(ee,Ie),Pe;if(Oe===null){for(;Ie<ne.length;Ie++)Oe=ve(ee,ne[Ie],Ne),Oe!==null&&(Y=w(Oe,Y,Ie),De===null?Pe=Oe:De.sibling=Oe,De=Oe);return pt&&ia(ee,Ie),Pe}for(Oe=u(ee,Oe);Ie<ne.length;Ie++)Ot=Se(Oe,ee,Ie,ne[Ie],Ne),Ot!==null&&(n&&Ot.alternate!==null&&Oe.delete(Ot.key===null?Ie:Ot.key),Y=w(Ot,Y,Ie),De===null?Pe=Ot:De.sibling=Ot,De=Ot);return n&&Oe.forEach(function($s){return a(ee,$s)}),pt&&ia(ee,Ie),Pe}function ke(ee,Y,ne,Ne){var Pe=X(ne);if(typeof Pe!="function")throw Error(r(150));if(ne=Pe.call(ne),ne==null)throw Error(r(151));for(var De=Pe=null,Oe=Y,Ie=Y=0,Ot=null,Qe=ne.next();Oe!==null&&!Qe.done;Ie++,Qe=ne.next()){Oe.index>Ie?(Ot=Oe,Oe=null):Ot=Oe.sibling;var $s=pe(ee,Oe,Qe.value,Ne);if($s===null){Oe===null&&(Oe=Ot);break}n&&Oe&&$s.alternate===null&&a(ee,Oe),Y=w($s,Y,Ie),De===null?Pe=$s:De.sibling=$s,De=$s,Oe=Ot}if(Qe.done)return i(ee,Oe),pt&&ia(ee,Ie),Pe;if(Oe===null){for(;!Qe.done;Ie++,Qe=ne.next())Qe=ve(ee,Qe.value,Ne),Qe!==null&&(Y=w(Qe,Y,Ie),De===null?Pe=Qe:De.sibling=Qe,De=Qe);return pt&&ia(ee,Ie),Pe}for(Oe=u(ee,Oe);!Qe.done;Ie++,Qe=ne.next())Qe=Se(Oe,ee,Ie,Qe.value,Ne),Qe!==null&&(n&&Qe.alternate!==null&&Oe.delete(Qe.key===null?Ie:Qe.key),Y=w(Qe,Y,Ie),De===null?Pe=Qe:De.sibling=Qe,De=Qe);return n&&Oe.forEach(function(ib){return a(ee,ib)}),pt&&ia(ee,Ie),Pe}function bt(ee,Y,ne,Ne){if(typeof ne=="object"&&ne!==null&&ne.type===O&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case k:e:{for(var Pe=ne.key,De=Y;De!==null;){if(De.key===Pe){if(Pe=ne.type,Pe===O){if(De.tag===7){i(ee,De.sibling),Y=v(De,ne.props.children),Y.return=ee,ee=Y;break e}}else if(De.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===z&&Np(Pe)===De.type){i(ee,De.sibling),Y=v(De,ne.props),Y.ref=qr(ee,De,ne),Y.return=ee,ee=Y;break e}i(ee,De);break}else a(ee,De);De=De.sibling}ne.type===O?(Y=ha(ne.props.children,ee.mode,Ne,ne.key),Y.return=ee,ee=Y):(Ne=$i(ne.type,ne.key,ne.props,null,ee.mode,Ne),Ne.ref=qr(ee,Y,ne),Ne.return=ee,ee=Ne)}return A(ee);case M:e:{for(De=ne.key;Y!==null;){if(Y.key===De)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){i(ee,Y.sibling),Y=v(Y,ne.children||[]),Y.return=ee,ee=Y;break e}else{i(ee,Y);break}else a(ee,Y);Y=Y.sibling}Y=Yd(ne,ee.mode,Ne),Y.return=ee,ee=Y}return A(ee);case z:return De=ne._init,bt(ee,Y,De(ne._payload),Ne)}if(ta(ne))return _e(ee,Y,ne,Ne);if(X(ne))return ke(ee,Y,ne,Ne);hi(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(i(ee,Y.sibling),Y=v(Y,ne),Y.return=ee,ee=Y):(i(ee,Y),Y=Gd(ne,ee.mode,Ne),Y.return=ee,ee=Y),A(ee)):i(ee,Y)}return bt}var Va=bp(!0),Sp=bp(!1),xi=ks(null),gi=null,Ha=null,ad=null;function rd(){ad=Ha=gi=null}function od(n){var a=xi.current;ut(xi),n._currentValue=a}function id(n,a,i){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===i)break;n=n.return}}function Wa(n,a){gi=n,ad=Ha=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&a)!==0&&(tn=!0),n.firstContext=null)}function gn(n){var a=n._currentValue;if(ad!==n)if(n={context:n,memoizedValue:a,next:null},Ha===null){if(gi===null)throw Error(r(308));Ha=n,gi.dependencies={lanes:0,firstContext:n}}else Ha=Ha.next=n;return a}var la=null;function ld(n){la===null?la=[n]:la.push(n)}function Cp(n,a,i,u){var v=a.interleaved;return v===null?(i.next=i,ld(a)):(i.next=v.next,v.next=i),a.interleaved=i,us(n,u)}function us(n,a){n.lanes|=a;var i=n.alternate;for(i!==null&&(i.lanes|=a),i=n,n=n.return;n!==null;)n.childLanes|=a,i=n.alternate,i!==null&&(i.childLanes|=a),i=n,n=n.return;return i.tag===3?i.stateNode:null}var As=!1;function cd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ep(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ms(n,a){return{eventTime:n,lane:a,tag:0,payload:null,callback:null,next:null}}function Ts(n,a,i){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ge&2)!==0){var v=u.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),u.pending=a,us(n,i)}return v=u.interleaved,v===null?(a.next=a,ld(u)):(a.next=v.next,v.next=a),u.interleaved=a,us(n,i)}function vi(n,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194240)!==0)){var u=a.lanes;u&=n.pendingLanes,i|=u,a.lanes=i,bc(n,i)}}function _p(n,a){var i=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var v=null,w=null;if(i=i.firstBaseUpdate,i!==null){do{var A={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};w===null?v=w=A:w=w.next=A,i=i.next}while(i!==null);w===null?v=w=a:w=w.next=a}else v=w=a;i={baseState:u.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:u.shared,effects:u.effects},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=a:n.next=a,i.lastBaseUpdate=a}function yi(n,a,i,u){var v=n.updateQueue;As=!1;var w=v.firstBaseUpdate,A=v.lastBaseUpdate,B=v.shared.pending;if(B!==null){v.shared.pending=null;var q=B,ae=q.next;q.next=null,A===null?w=ae:A.next=ae,A=q;var he=n.alternate;he!==null&&(he=he.updateQueue,B=he.lastBaseUpdate,B!==A&&(B===null?he.firstBaseUpdate=ae:B.next=ae,he.lastBaseUpdate=q))}if(w!==null){var ve=v.baseState;A=0,he=ae=q=null,B=w;do{var pe=B.lane,Se=B.eventTime;if((u&pe)===pe){he!==null&&(he=he.next={eventTime:Se,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var _e=n,ke=B;switch(pe=a,Se=i,ke.tag){case 1:if(_e=ke.payload,typeof _e=="function"){ve=_e.call(Se,ve,pe);break e}ve=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ke.payload,pe=typeof _e=="function"?_e.call(Se,ve,pe):_e,pe==null)break e;ve=te({},ve,pe);break e;case 2:As=!0}}B.callback!==null&&B.lane!==0&&(n.flags|=64,pe=v.effects,pe===null?v.effects=[B]:pe.push(B))}else Se={eventTime:Se,lane:pe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},he===null?(ae=he=Se,q=ve):he=he.next=Se,A|=pe;if(B=B.next,B===null){if(B=v.shared.pending,B===null)break;pe=B,B=pe.next,pe.next=null,v.lastBaseUpdate=pe,v.shared.pending=null}}while(!0);if(he===null&&(q=ve),v.baseState=q,v.firstBaseUpdate=ae,v.lastBaseUpdate=he,a=v.shared.interleaved,a!==null){v=a;do A|=v.lane,v=v.next;while(v!==a)}else w===null&&(v.shared.lanes=0);ua|=A,n.lanes=A,n.memoizedState=ve}}function kp(n,a,i){if(n=a.effects,a.effects=null,n!==null)for(a=0;a<n.length;a++){var u=n[a],v=u.callback;if(v!==null){if(u.callback=null,u=i,typeof v!="function")throw Error(r(191,v));v.call(u)}}}var Kr={},Un=ks(Kr),Gr=ks(Kr),Yr=ks(Kr);function ca(n){if(n===Kr)throw Error(r(174));return n}function dd(n,a){switch(lt(Yr,a),lt(Gr,n),lt(Un,Kr),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:uc(null,"");break;default:n=n===8?a.parentNode:a,a=n.namespaceURI||null,n=n.tagName,a=uc(a,n)}ut(Un),lt(Un,a)}function qa(){ut(Un),ut(Gr),ut(Yr)}function Rp(n){ca(Yr.current);var a=ca(Un.current),i=uc(a,n.type);a!==i&&(lt(Gr,n),lt(Un,i))}function ud(n){Gr.current===n&&(ut(Un),ut(Gr))}var ht=ks(0);function ji(n){for(var a=n;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var md=[];function fd(){for(var n=0;n<md.length;n++)md[n]._workInProgressVersionPrimary=null;md.length=0}var wi=R.ReactCurrentDispatcher,pd=R.ReactCurrentBatchConfig,da=0,xt=null,Pt=null,Mt=null,Ni=!1,Jr=!1,Qr=0,RN=0;function Bt(){throw Error(r(321))}function hd(n,a){if(a===null)return!1;for(var i=0;i<a.length&&i<n.length;i++)if(!Sn(n[i],a[i]))return!1;return!0}function xd(n,a,i,u,v,w){if(da=w,xt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,wi.current=n===null||n.memoizedState===null?MN:DN,n=i(u,v),Jr){w=0;do{if(Jr=!1,Qr=0,25<=w)throw Error(r(301));w+=1,Mt=Pt=null,a.updateQueue=null,wi.current=ON,n=i(u,v)}while(Jr)}if(wi.current=Ci,a=Pt!==null&&Pt.next!==null,da=0,Mt=Pt=xt=null,Ni=!1,a)throw Error(r(300));return n}function gd(){var n=Qr!==0;return Qr=0,n}function Vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?xt.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function vn(){if(Pt===null){var n=xt.alternate;n=n!==null?n.memoizedState:null}else n=Pt.next;var a=Mt===null?xt.memoizedState:Mt.next;if(a!==null)Mt=a,Pt=n;else{if(n===null)throw Error(r(310));Pt=n,n={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Mt===null?xt.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function Xr(n,a){return typeof a=="function"?a(n):a}function vd(n){var a=vn(),i=a.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var u=Pt,v=u.baseQueue,w=i.pending;if(w!==null){if(v!==null){var A=v.next;v.next=w.next,w.next=A}u.baseQueue=v=w,i.pending=null}if(v!==null){w=v.next,u=u.baseState;var B=A=null,q=null,ae=w;do{var he=ae.lane;if((da&he)===he)q!==null&&(q=q.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),u=ae.hasEagerState?ae.eagerState:n(u,ae.action);else{var ve={lane:he,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};q===null?(B=q=ve,A=u):q=q.next=ve,xt.lanes|=he,ua|=he}ae=ae.next}while(ae!==null&&ae!==w);q===null?A=u:q.next=B,Sn(u,a.memoizedState)||(tn=!0),a.memoizedState=u,a.baseState=A,a.baseQueue=q,i.lastRenderedState=u}if(n=i.interleaved,n!==null){v=n;do w=v.lane,xt.lanes|=w,ua|=w,v=v.next;while(v!==n)}else v===null&&(i.lanes=0);return[a.memoizedState,i.dispatch]}function yd(n){var a=vn(),i=a.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var u=i.dispatch,v=i.pending,w=a.memoizedState;if(v!==null){i.pending=null;var A=v=v.next;do w=n(w,A.action),A=A.next;while(A!==v);Sn(w,a.memoizedState)||(tn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),i.lastRenderedState=w}return[w,u]}function Pp(){}function Ap(n,a){var i=xt,u=vn(),v=a(),w=!Sn(u.memoizedState,v);if(w&&(u.memoizedState=v,tn=!0),u=u.queue,jd(Dp.bind(null,i,u,n),[n]),u.getSnapshot!==a||w||Mt!==null&&Mt.memoizedState.tag&1){if(i.flags|=2048,Zr(9,Mp.bind(null,i,u,v,a),void 0,null),Dt===null)throw Error(r(349));(da&30)!==0||Tp(i,a,v)}return v}function Tp(n,a,i){n.flags|=16384,n={getSnapshot:a,value:i},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.stores=[n]):(i=a.stores,i===null?a.stores=[n]:i.push(n))}function Mp(n,a,i,u){a.value=i,a.getSnapshot=u,Op(a)&&Ip(n)}function Dp(n,a,i){return i(function(){Op(a)&&Ip(n)})}function Op(n){var a=n.getSnapshot;n=n.value;try{var i=a();return!Sn(n,i)}catch{return!0}}function Ip(n){var a=us(n,1);a!==null&&Rn(a,n,1,-1)}function Lp(n){var a=Vn();return typeof n=="function"&&(n=n()),a.memoizedState=a.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:n},a.queue=n,n=n.dispatch=TN.bind(null,xt,n),[a.memoizedState,n]}function Zr(n,a,i,u){return n={tag:n,create:a,destroy:i,deps:u,next:null},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.lastEffect=n.next=n):(i=a.lastEffect,i===null?a.lastEffect=n.next=n:(u=i.next,i.next=n,n.next=u,a.lastEffect=n)),n}function Fp(){return vn().memoizedState}function bi(n,a,i,u){var v=Vn();xt.flags|=n,v.memoizedState=Zr(1|a,i,void 0,u===void 0?null:u)}function Si(n,a,i,u){var v=vn();u=u===void 0?null:u;var w=void 0;if(Pt!==null){var A=Pt.memoizedState;if(w=A.destroy,u!==null&&hd(u,A.deps)){v.memoizedState=Zr(a,i,w,u);return}}xt.flags|=n,v.memoizedState=Zr(1|a,i,w,u)}function $p(n,a){return bi(8390656,8,n,a)}function jd(n,a){return Si(2048,8,n,a)}function zp(n,a){return Si(4,2,n,a)}function Bp(n,a){return Si(4,4,n,a)}function Up(n,a){if(typeof a=="function")return n=n(),a(n),function(){a(null)};if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Vp(n,a,i){return i=i!=null?i.concat([n]):null,Si(4,4,Up.bind(null,a,n),i)}function wd(){}function Hp(n,a){var i=vn();a=a===void 0?null:a;var u=i.memoizedState;return u!==null&&a!==null&&hd(a,u[1])?u[0]:(i.memoizedState=[n,a],n)}function Wp(n,a){var i=vn();a=a===void 0?null:a;var u=i.memoizedState;return u!==null&&a!==null&&hd(a,u[1])?u[0]:(n=n(),i.memoizedState=[n,a],n)}function qp(n,a,i){return(da&21)===0?(n.baseState&&(n.baseState=!1,tn=!0),n.memoizedState=i):(Sn(i,a)||(i=Nf(),xt.lanes|=i,ua|=i,n.baseState=!0),a)}function PN(n,a){var i=st;st=i!==0&&4>i?i:4,n(!0);var u=pd.transition;pd.transition={};try{n(!1),a()}finally{st=i,pd.transition=u}}function Kp(){return vn().memoizedState}function AN(n,a,i){var u=Is(n);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},Gp(n))Yp(a,i);else if(i=Cp(n,a,i,u),i!==null){var v=Gt();Rn(i,n,u,v),Jp(i,a,u)}}function TN(n,a,i){var u=Is(n),v={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(Gp(n))Yp(a,v);else{var w=n.alternate;if(n.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var A=a.lastRenderedState,B=w(A,i);if(v.hasEagerState=!0,v.eagerState=B,Sn(B,A)){var q=a.interleaved;q===null?(v.next=v,ld(a)):(v.next=q.next,q.next=v),a.interleaved=v;return}}catch{}finally{}i=Cp(n,a,v,u),i!==null&&(v=Gt(),Rn(i,n,u,v),Jp(i,a,u))}}function Gp(n){var a=n.alternate;return n===xt||a!==null&&a===xt}function Yp(n,a){Jr=Ni=!0;var i=n.pending;i===null?a.next=a:(a.next=i.next,i.next=a),n.pending=a}function Jp(n,a,i){if((i&4194240)!==0){var u=a.lanes;u&=n.pendingLanes,i|=u,a.lanes=i,bc(n,i)}}var Ci={readContext:gn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},MN={readContext:gn,useCallback:function(n,a){return Vn().memoizedState=[n,a===void 0?null:a],n},useContext:gn,useEffect:$p,useImperativeHandle:function(n,a,i){return i=i!=null?i.concat([n]):null,bi(4194308,4,Up.bind(null,a,n),i)},useLayoutEffect:function(n,a){return bi(4194308,4,n,a)},useInsertionEffect:function(n,a){return bi(4,2,n,a)},useMemo:function(n,a){var i=Vn();return a=a===void 0?null:a,n=n(),i.memoizedState=[n,a],n},useReducer:function(n,a,i){var u=Vn();return a=i!==void 0?i(a):a,u.memoizedState=u.baseState=a,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:a},u.queue=n,n=n.dispatch=AN.bind(null,xt,n),[u.memoizedState,n]},useRef:function(n){var a=Vn();return n={current:n},a.memoizedState=n},useState:Lp,useDebugValue:wd,useDeferredValue:function(n){return Vn().memoizedState=n},useTransition:function(){var n=Lp(!1),a=n[0];return n=PN.bind(null,n[1]),Vn().memoizedState=n,[a,n]},useMutableSource:function(){},useSyncExternalStore:function(n,a,i){var u=xt,v=Vn();if(pt){if(i===void 0)throw Error(r(407));i=i()}else{if(i=a(),Dt===null)throw Error(r(349));(da&30)!==0||Tp(u,a,i)}v.memoizedState=i;var w={value:i,getSnapshot:a};return v.queue=w,$p(Dp.bind(null,u,w,n),[n]),u.flags|=2048,Zr(9,Mp.bind(null,u,w,i,a),void 0,null),i},useId:function(){var n=Vn(),a=Dt.identifierPrefix;if(pt){var i=ds,u=cs;i=(u&~(1<<32-bn(u)-1)).toString(32)+i,a=":"+a+"R"+i,i=Qr++,0<i&&(a+="H"+i.toString(32)),a+=":"}else i=RN++,a=":"+a+"r"+i.toString(32)+":";return n.memoizedState=a},unstable_isNewReconciler:!1},DN={readContext:gn,useCallback:Hp,useContext:gn,useEffect:jd,useImperativeHandle:Vp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Wp,useReducer:vd,useRef:Fp,useState:function(){return vd(Xr)},useDebugValue:wd,useDeferredValue:function(n){var a=vn();return qp(a,Pt.memoizedState,n)},useTransition:function(){var n=vd(Xr)[0],a=vn().memoizedState;return[n,a]},useMutableSource:Pp,useSyncExternalStore:Ap,useId:Kp,unstable_isNewReconciler:!1},ON={readContext:gn,useCallback:Hp,useContext:gn,useEffect:jd,useImperativeHandle:Vp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Wp,useReducer:yd,useRef:Fp,useState:function(){return yd(Xr)},useDebugValue:wd,useDeferredValue:function(n){var a=vn();return Pt===null?a.memoizedState=n:qp(a,Pt.memoizedState,n)},useTransition:function(){var n=yd(Xr)[0],a=vn().memoizedState;return[n,a]},useMutableSource:Pp,useSyncExternalStore:Ap,useId:Kp,unstable_isNewReconciler:!1};function En(n,a){if(n&&n.defaultProps){a=te({},a),n=n.defaultProps;for(var i in n)a[i]===void 0&&(a[i]=n[i]);return a}return a}function Nd(n,a,i,u){a=n.memoizedState,i=i(u,a),i=i==null?a:te({},a,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var Ei={isMounted:function(n){return(n=n._reactInternals)?sa(n)===n:!1},enqueueSetState:function(n,a,i){n=n._reactInternals;var u=Gt(),v=Is(n),w=ms(u,v);w.payload=a,i!=null&&(w.callback=i),a=Ts(n,w,v),a!==null&&(Rn(a,n,v,u),vi(a,n,v))},enqueueReplaceState:function(n,a,i){n=n._reactInternals;var u=Gt(),v=Is(n),w=ms(u,v);w.tag=1,w.payload=a,i!=null&&(w.callback=i),a=Ts(n,w,v),a!==null&&(Rn(a,n,v,u),vi(a,n,v))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var i=Gt(),u=Is(n),v=ms(i,u);v.tag=2,a!=null&&(v.callback=a),a=Ts(n,v,u),a!==null&&(Rn(a,n,u,i),vi(a,n,u))}};function Qp(n,a,i,u,v,w,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,w,A):a.prototype&&a.prototype.isPureReactComponent?!$r(i,u)||!$r(v,w):!0}function Xp(n,a,i){var u=!1,v=Rs,w=a.contextType;return typeof w=="object"&&w!==null?w=gn(w):(v=en(a)?ra:zt.current,u=a.contextTypes,w=(u=u!=null)?$a(n,v):Rs),a=new a(i,w),n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ei,n.stateNode=a,a._reactInternals=n,u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=v,n.__reactInternalMemoizedMaskedChildContext=w),a}function Zp(n,a,i,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,u),a.state!==n&&Ei.enqueueReplaceState(a,a.state,null)}function bd(n,a,i,u){var v=n.stateNode;v.props=i,v.state=n.memoizedState,v.refs={},cd(n);var w=a.contextType;typeof w=="object"&&w!==null?v.context=gn(w):(w=en(a)?ra:zt.current,v.context=$a(n,w)),v.state=n.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Nd(n,a,w,i),v.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Ei.enqueueReplaceState(v,v.state,null),yi(n,i,v,u),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308)}function Ka(n,a){try{var i="",u=a;do i+=K(u),u=u.return;while(u);var v=i}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:n,source:a,stack:v,digest:null}}function Sd(n,a,i){return{value:n,source:null,stack:i??null,digest:a??null}}function Cd(n,a){try{console.error(a.value)}catch(i){setTimeout(function(){throw i})}}var IN=typeof WeakMap=="function"?WeakMap:Map;function eh(n,a,i){i=ms(-1,i),i.tag=3,i.payload={element:null};var u=a.value;return i.callback=function(){Mi||(Mi=!0,zd=u),Cd(n,a)},i}function th(n,a,i){i=ms(-1,i),i.tag=3;var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var v=a.value;i.payload=function(){return u(v)},i.callback=function(){Cd(n,a)}}var w=n.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Cd(n,a),typeof u!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),i}function nh(n,a,i){var u=n.pingCache;if(u===null){u=n.pingCache=new IN;var v=new Set;u.set(a,v)}else v=u.get(a),v===void 0&&(v=new Set,u.set(a,v));v.has(i)||(v.add(i),n=JN.bind(null,n,a,i),a.then(n,n))}function sh(n){do{var a;if((a=n.tag===13)&&(a=n.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return n;n=n.return}while(n!==null);return null}function ah(n,a,i,u,v){return(n.mode&1)===0?(n===a?n.flags|=65536:(n.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(a=ms(-1,1),a.tag=2,Ts(i,a,1))),i.lanes|=1),n):(n.flags|=65536,n.lanes=v,n)}var LN=R.ReactCurrentOwner,tn=!1;function Kt(n,a,i,u){a.child=n===null?Sp(a,null,i,u):Va(a,n.child,i,u)}function rh(n,a,i,u,v){i=i.render;var w=a.ref;return Wa(a,v),u=xd(n,a,i,u,w,v),i=gd(),n!==null&&!tn?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~v,fs(n,a,v)):(pt&&i&&Zc(a),a.flags|=1,Kt(n,a,u,v),a.child)}function oh(n,a,i,u,v){if(n===null){var w=i.type;return typeof w=="function"&&!Kd(w)&&w.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(a.tag=15,a.type=w,ih(n,a,w,u,v)):(n=$i(i.type,null,u,a,a.mode,v),n.ref=a.ref,n.return=a,a.child=n)}if(w=n.child,(n.lanes&v)===0){var A=w.memoizedProps;if(i=i.compare,i=i!==null?i:$r,i(A,u)&&n.ref===a.ref)return fs(n,a,v)}return a.flags|=1,n=Fs(w,u),n.ref=a.ref,n.return=a,a.child=n}function ih(n,a,i,u,v){if(n!==null){var w=n.memoizedProps;if($r(w,u)&&n.ref===a.ref)if(tn=!1,a.pendingProps=u=w,(n.lanes&v)!==0)(n.flags&131072)!==0&&(tn=!0);else return a.lanes=n.lanes,fs(n,a,v)}return Ed(n,a,i,u,v)}function lh(n,a,i){var u=a.pendingProps,v=u.children,w=n!==null?n.memoizedState:null;if(u.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Ya,mn),mn|=i;else{if((i&1073741824)===0)return n=w!==null?w.baseLanes|i:i,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:n,cachePool:null,transitions:null},a.updateQueue=null,lt(Ya,mn),mn|=n,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=w!==null?w.baseLanes:i,lt(Ya,mn),mn|=u}else w!==null?(u=w.baseLanes|i,a.memoizedState=null):u=i,lt(Ya,mn),mn|=u;return Kt(n,a,v,i),a.child}function ch(n,a){var i=a.ref;(n===null&&i!==null||n!==null&&n.ref!==i)&&(a.flags|=512,a.flags|=2097152)}function Ed(n,a,i,u,v){var w=en(i)?ra:zt.current;return w=$a(a,w),Wa(a,v),i=xd(n,a,i,u,w,v),u=gd(),n!==null&&!tn?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~v,fs(n,a,v)):(pt&&u&&Zc(a),a.flags|=1,Kt(n,a,i,v),a.child)}function dh(n,a,i,u,v){if(en(i)){var w=!0;di(a)}else w=!1;if(Wa(a,v),a.stateNode===null)ki(n,a),Xp(a,i,u),bd(a,i,u,v),u=!0;else if(n===null){var A=a.stateNode,B=a.memoizedProps;A.props=B;var q=A.context,ae=i.contextType;typeof ae=="object"&&ae!==null?ae=gn(ae):(ae=en(i)?ra:zt.current,ae=$a(a,ae));var he=i.getDerivedStateFromProps,ve=typeof he=="function"||typeof A.getSnapshotBeforeUpdate=="function";ve||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==u||q!==ae)&&Zp(a,A,u,ae),As=!1;var pe=a.memoizedState;A.state=pe,yi(a,u,A,v),q=a.memoizedState,B!==u||pe!==q||Zt.current||As?(typeof he=="function"&&(Nd(a,i,he,u),q=a.memoizedState),(B=As||Qp(a,i,B,u,pe,q,ae))?(ve||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=q),A.props=u,A.state=q,A.context=ae,u=B):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{A=a.stateNode,Ep(n,a),B=a.memoizedProps,ae=a.type===a.elementType?B:En(a.type,B),A.props=ae,ve=a.pendingProps,pe=A.context,q=i.contextType,typeof q=="object"&&q!==null?q=gn(q):(q=en(i)?ra:zt.current,q=$a(a,q));var Se=i.getDerivedStateFromProps;(he=typeof Se=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==ve||pe!==q)&&Zp(a,A,u,q),As=!1,pe=a.memoizedState,A.state=pe,yi(a,u,A,v);var _e=a.memoizedState;B!==ve||pe!==_e||Zt.current||As?(typeof Se=="function"&&(Nd(a,i,Se,u),_e=a.memoizedState),(ae=As||Qp(a,i,ae,u,pe,_e,q)||!1)?(he||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(u,_e,q),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(u,_e,q)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||B===n.memoizedProps&&pe===n.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&pe===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=_e),A.props=u,A.state=_e,A.context=q,u=ae):(typeof A.componentDidUpdate!="function"||B===n.memoizedProps&&pe===n.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&pe===n.memoizedState||(a.flags|=1024),u=!1)}return _d(n,a,i,u,w,v)}function _d(n,a,i,u,v,w){ch(n,a);var A=(a.flags&128)!==0;if(!u&&!A)return v&&hp(a,i,!1),fs(n,a,w);u=a.stateNode,LN.current=a;var B=A&&typeof i.getDerivedStateFromError!="function"?null:u.render();return a.flags|=1,n!==null&&A?(a.child=Va(a,n.child,null,w),a.child=Va(a,null,B,w)):Kt(n,a,B,w),a.memoizedState=u.state,v&&hp(a,i,!0),a.child}function uh(n){var a=n.stateNode;a.pendingContext?fp(n,a.pendingContext,a.pendingContext!==a.context):a.context&&fp(n,a.context,!1),dd(n,a.containerInfo)}function mh(n,a,i,u,v){return Ua(),sd(v),a.flags|=256,Kt(n,a,i,u),a.child}var kd={dehydrated:null,treeContext:null,retryLane:0};function Rd(n){return{baseLanes:n,cachePool:null,transitions:null}}function fh(n,a,i){var u=a.pendingProps,v=ht.current,w=!1,A=(a.flags&128)!==0,B;if((B=A)||(B=n!==null&&n.memoizedState===null?!1:(v&2)!==0),B?(w=!0,a.flags&=-129):(n===null||n.memoizedState!==null)&&(v|=1),lt(ht,v&1),n===null)return nd(a),n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((a.mode&1)===0?a.lanes=1:n.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(A=u.children,n=u.fallback,w?(u=a.mode,w=a.child,A={mode:"hidden",children:A},(u&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=A):w=zi(A,u,0,null),n=ha(n,u,i,null),w.return=a,n.return=a,w.sibling=n,a.child=w,a.child.memoizedState=Rd(i),a.memoizedState=kd,n):Pd(a,A));if(v=n.memoizedState,v!==null&&(B=v.dehydrated,B!==null))return FN(n,a,A,u,B,v,i);if(w){w=u.fallback,A=a.mode,v=n.child,B=v.sibling;var q={mode:"hidden",children:u.children};return(A&1)===0&&a.child!==v?(u=a.child,u.childLanes=0,u.pendingProps=q,a.deletions=null):(u=Fs(v,q),u.subtreeFlags=v.subtreeFlags&14680064),B!==null?w=Fs(B,w):(w=ha(w,A,i,null),w.flags|=2),w.return=a,u.return=a,u.sibling=w,a.child=u,u=w,w=a.child,A=n.child.memoizedState,A=A===null?Rd(i):{baseLanes:A.baseLanes|i,cachePool:null,transitions:A.transitions},w.memoizedState=A,w.childLanes=n.childLanes&~i,a.memoizedState=kd,u}return w=n.child,n=w.sibling,u=Fs(w,{mode:"visible",children:u.children}),(a.mode&1)===0&&(u.lanes=i),u.return=a,u.sibling=null,n!==null&&(i=a.deletions,i===null?(a.deletions=[n],a.flags|=16):i.push(n)),a.child=u,a.memoizedState=null,u}function Pd(n,a){return a=zi({mode:"visible",children:a},n.mode,0,null),a.return=n,n.child=a}function _i(n,a,i,u){return u!==null&&sd(u),Va(a,n.child,null,i),n=Pd(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function FN(n,a,i,u,v,w,A){if(i)return a.flags&256?(a.flags&=-257,u=Sd(Error(r(422))),_i(n,a,A,u)):a.memoizedState!==null?(a.child=n.child,a.flags|=128,null):(w=u.fallback,v=a.mode,u=zi({mode:"visible",children:u.children},v,0,null),w=ha(w,v,A,null),w.flags|=2,u.return=a,w.return=a,u.sibling=w,a.child=u,(a.mode&1)!==0&&Va(a,n.child,null,A),a.child.memoizedState=Rd(A),a.memoizedState=kd,w);if((a.mode&1)===0)return _i(n,a,A,null);if(v.data==="$!"){if(u=v.nextSibling&&v.nextSibling.dataset,u)var B=u.dgst;return u=B,w=Error(r(419)),u=Sd(w,u,void 0),_i(n,a,A,u)}if(B=(A&n.childLanes)!==0,tn||B){if(u=Dt,u!==null){switch(A&-A){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(u.suspendedLanes|A))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,us(n,v),Rn(u,n,v,-1))}return qd(),u=Sd(Error(r(421))),_i(n,a,A,u)}return v.data==="$?"?(a.flags|=128,a.child=n.child,a=QN.bind(null,n),v._reactRetry=a,null):(n=w.treeContext,un=_s(v.nextSibling),dn=a,pt=!0,Cn=null,n!==null&&(hn[xn++]=cs,hn[xn++]=ds,hn[xn++]=oa,cs=n.id,ds=n.overflow,oa=a),a=Pd(a,u.children),a.flags|=4096,a)}function ph(n,a,i){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),id(n.return,a,i)}function Ad(n,a,i,u,v){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:v}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=i,w.tailMode=v)}function hh(n,a,i){var u=a.pendingProps,v=u.revealOrder,w=u.tail;if(Kt(n,a,u.children,i),u=ht.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ph(n,i,a);else if(n.tag===19)ph(n,i,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}if(lt(ht,u),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(i=a.child,v=null;i!==null;)n=i.alternate,n!==null&&ji(n)===null&&(v=i),i=i.sibling;i=v,i===null?(v=a.child,a.child=null):(v=i.sibling,i.sibling=null),Ad(a,!1,v,i,w);break;case"backwards":for(i=null,v=a.child,a.child=null;v!==null;){if(n=v.alternate,n!==null&&ji(n)===null){a.child=v;break}n=v.sibling,v.sibling=i,i=v,v=n}Ad(a,!0,i,null,w);break;case"together":Ad(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ki(n,a){(a.mode&1)===0&&n!==null&&(n.alternate=null,a.alternate=null,a.flags|=2)}function fs(n,a,i){if(n!==null&&(a.dependencies=n.dependencies),ua|=a.lanes,(i&a.childLanes)===0)return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,i=Fs(n,n.pendingProps),a.child=i,i.return=a;n.sibling!==null;)n=n.sibling,i=i.sibling=Fs(n,n.pendingProps),i.return=a;i.sibling=null}return a.child}function $N(n,a,i){switch(a.tag){case 3:uh(a),Ua();break;case 5:Rp(a);break;case 1:en(a.type)&&di(a);break;case 4:dd(a,a.stateNode.containerInfo);break;case 10:var u=a.type._context,v=a.memoizedProps.value;lt(xi,u._currentValue),u._currentValue=v;break;case 13:if(u=a.memoizedState,u!==null)return u.dehydrated!==null?(lt(ht,ht.current&1),a.flags|=128,null):(i&a.child.childLanes)!==0?fh(n,a,i):(lt(ht,ht.current&1),n=fs(n,a,i),n!==null?n.sibling:null);lt(ht,ht.current&1);break;case 19:if(u=(i&a.childLanes)!==0,(n.flags&128)!==0){if(u)return hh(n,a,i);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),lt(ht,ht.current),u)break;return null;case 22:case 23:return a.lanes=0,lh(n,a,i)}return fs(n,a,i)}var xh,Td,gh,vh;xh=function(n,a){for(var i=a.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Td=function(){},gh=function(n,a,i,u){var v=n.memoizedProps;if(v!==u){n=a.stateNode,ca(Un.current);var w=null;switch(i){case"input":v=it(n,v),u=it(n,u),w=[];break;case"select":v=te({},v,{value:void 0}),u=te({},u,{value:void 0}),w=[];break;case"textarea":v=na(n,v),u=na(n,u),w=[];break;default:typeof v.onClick!="function"&&typeof u.onClick=="function"&&(n.onclick=ii)}mc(i,u);var A;i=null;for(ae in v)if(!u.hasOwnProperty(ae)&&v.hasOwnProperty(ae)&&v[ae]!=null)if(ae==="style"){var B=v[ae];for(A in B)B.hasOwnProperty(A)&&(i||(i={}),i[A]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(l.hasOwnProperty(ae)?w||(w=[]):(w=w||[]).push(ae,null));for(ae in u){var q=u[ae];if(B=v!=null?v[ae]:void 0,u.hasOwnProperty(ae)&&q!==B&&(q!=null||B!=null))if(ae==="style")if(B){for(A in B)!B.hasOwnProperty(A)||q&&q.hasOwnProperty(A)||(i||(i={}),i[A]="");for(A in q)q.hasOwnProperty(A)&&B[A]!==q[A]&&(i||(i={}),i[A]=q[A])}else i||(w||(w=[]),w.push(ae,i)),i=q;else ae==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,B=B?B.__html:void 0,q!=null&&B!==q&&(w=w||[]).push(ae,q)):ae==="children"?typeof q!="string"&&typeof q!="number"||(w=w||[]).push(ae,""+q):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(l.hasOwnProperty(ae)?(q!=null&&ae==="onScroll"&&dt("scroll",n),w||B===q||(w=[])):(w=w||[]).push(ae,q))}i&&(w=w||[]).push("style",i);var ae=w;(a.updateQueue=ae)&&(a.flags|=4)}},vh=function(n,a,i,u){i!==u&&(a.flags|=4)};function eo(n,a){if(!pt)switch(n.tailMode){case"hidden":a=n.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ut(n){var a=n.alternate!==null&&n.alternate.child===n.child,i=0,u=0;if(a)for(var v=n.child;v!==null;)i|=v.lanes|v.childLanes,u|=v.subtreeFlags&14680064,u|=v.flags&14680064,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)i|=v.lanes|v.childLanes,u|=v.subtreeFlags,u|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=u,n.childLanes=i,a}function zN(n,a,i){var u=a.pendingProps;switch(ed(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(a),null;case 1:return en(a.type)&&ci(),Ut(a),null;case 3:return u=a.stateNode,qa(),ut(Zt),ut(zt),fd(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(pi(a)?a.flags|=4:n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cn!==null&&(Vd(Cn),Cn=null))),Td(n,a),Ut(a),null;case 5:ud(a);var v=ca(Yr.current);if(i=a.type,n!==null&&a.stateNode!=null)gh(n,a,i,u,v),n.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Ut(a),null}if(n=ca(Un.current),pi(a)){u=a.stateNode,i=a.type;var w=a.memoizedProps;switch(u[Bn]=a,u[Hr]=w,n=(a.mode&1)!==0,i){case"dialog":dt("cancel",u),dt("close",u);break;case"iframe":case"object":case"embed":dt("load",u);break;case"video":case"audio":for(v=0;v<Br.length;v++)dt(Br[v],u);break;case"source":dt("error",u);break;case"img":case"image":case"link":dt("error",u),dt("load",u);break;case"details":dt("toggle",u);break;case"input":We(u,w),dt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!w.multiple},dt("invalid",u);break;case"textarea":js(u,w),dt("invalid",u)}mc(i,w),v=null;for(var A in w)if(w.hasOwnProperty(A)){var B=w[A];A==="children"?typeof B=="string"?u.textContent!==B&&(w.suppressHydrationWarning!==!0&&oi(u.textContent,B,n),v=["children",B]):typeof B=="number"&&u.textContent!==""+B&&(w.suppressHydrationWarning!==!0&&oi(u.textContent,B,n),v=["children",""+B]):l.hasOwnProperty(A)&&B!=null&&A==="onScroll"&&dt("scroll",u)}switch(i){case"input":Ce(u),ys(u,w,!0);break;case"textarea":Ce(u),wr(u);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(u.onclick=ii)}u=v,a.updateQueue=u,u!==null&&(a.flags|=4)}else{A=v.nodeType===9?v:v.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=sf(i)),n==="http://www.w3.org/1999/xhtml"?i==="script"?(n=A.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof u.is=="string"?n=A.createElement(i,{is:u.is}):(n=A.createElement(i),i==="select"&&(A=n,u.multiple?A.multiple=!0:u.size&&(A.size=u.size))):n=A.createElementNS(n,i),n[Bn]=a,n[Hr]=u,xh(n,a,!1,!1),a.stateNode=n;e:{switch(A=fc(i,u),i){case"dialog":dt("cancel",n),dt("close",n),v=u;break;case"iframe":case"object":case"embed":dt("load",n),v=u;break;case"video":case"audio":for(v=0;v<Br.length;v++)dt(Br[v],n);v=u;break;case"source":dt("error",n),v=u;break;case"img":case"image":case"link":dt("error",n),dt("load",n),v=u;break;case"details":dt("toggle",n),v=u;break;case"input":We(n,u),v=it(n,u),dt("invalid",n);break;case"option":v=u;break;case"select":n._wrapperState={wasMultiple:!!u.multiple},v=te({},u,{value:void 0}),dt("invalid",n);break;case"textarea":js(n,u),v=na(n,u),dt("invalid",n);break;default:v=u}mc(i,v),B=v;for(w in B)if(B.hasOwnProperty(w)){var q=B[w];w==="style"?of(n,q):w==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&af(n,q)):w==="children"?typeof q=="string"?(i!=="textarea"||q!=="")&&Nr(n,q):typeof q=="number"&&Nr(n,""+q):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(l.hasOwnProperty(w)?q!=null&&w==="onScroll"&&dt("scroll",n):q!=null&&_(n,w,q,A))}switch(i){case"input":Ce(n),ys(n,u,!1);break;case"textarea":Ce(n),wr(n);break;case"option":u.value!=null&&n.setAttribute("value",""+le(u.value));break;case"select":n.multiple=!!u.multiple,w=u.value,w!=null?Tt(n,!!u.multiple,w,!1):u.defaultValue!=null&&Tt(n,!!u.multiple,u.defaultValue,!0);break;default:typeof v.onClick=="function"&&(n.onclick=ii)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Ut(a),null;case 6:if(n&&a.stateNode!=null)vh(n,a,n.memoizedProps,u);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=ca(Yr.current),ca(Un.current),pi(a)){if(u=a.stateNode,i=a.memoizedProps,u[Bn]=a,(w=u.nodeValue!==i)&&(n=dn,n!==null))switch(n.tag){case 3:oi(u.nodeValue,i,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&oi(u.nodeValue,i,(n.mode&1)!==0)}w&&(a.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[Bn]=a,a.stateNode=u}return Ut(a),null;case 13:if(ut(ht),u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(pt&&un!==null&&(a.mode&1)!==0&&(a.flags&128)===0)wp(),Ua(),a.flags|=98560,w=!1;else if(w=pi(a),u!==null&&u.dehydrated!==null){if(n===null){if(!w)throw Error(r(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Bn]=a}else Ua(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ut(a),w=!1}else Cn!==null&&(Vd(Cn),Cn=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=i,a):(u=u!==null,u!==(n!==null&&n.memoizedState!==null)&&u&&(a.child.flags|=8192,(a.mode&1)!==0&&(n===null||(ht.current&1)!==0?At===0&&(At=3):qd())),a.updateQueue!==null&&(a.flags|=4),Ut(a),null);case 4:return qa(),Td(n,a),n===null&&Ur(a.stateNode.containerInfo),Ut(a),null;case 10:return od(a.type._context),Ut(a),null;case 17:return en(a.type)&&ci(),Ut(a),null;case 19:if(ut(ht),w=a.memoizedState,w===null)return Ut(a),null;if(u=(a.flags&128)!==0,A=w.rendering,A===null)if(u)eo(w,!1);else{if(At!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(A=ji(n),A!==null){for(a.flags|=128,eo(w,!1),u=A.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),a.subtreeFlags=0,u=i,i=a.child;i!==null;)w=i,n=u,w.flags&=14680066,A=w.alternate,A===null?(w.childLanes=0,w.lanes=n,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=A.childLanes,w.lanes=A.lanes,w.child=A.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=A.memoizedProps,w.memoizedState=A.memoizedState,w.updateQueue=A.updateQueue,w.type=A.type,n=A.dependencies,w.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i=i.sibling;return lt(ht,ht.current&1|2),a.child}n=n.sibling}w.tail!==null&&Nt()>Ja&&(a.flags|=128,u=!0,eo(w,!1),a.lanes=4194304)}else{if(!u)if(n=ji(A),n!==null){if(a.flags|=128,u=!0,i=n.updateQueue,i!==null&&(a.updateQueue=i,a.flags|=4),eo(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!pt)return Ut(a),null}else 2*Nt()-w.renderingStartTime>Ja&&i!==1073741824&&(a.flags|=128,u=!0,eo(w,!1),a.lanes=4194304);w.isBackwards?(A.sibling=a.child,a.child=A):(i=w.last,i!==null?i.sibling=A:a.child=A,w.last=A)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=Nt(),a.sibling=null,i=ht.current,lt(ht,u?i&1|2:i&1),a):(Ut(a),null);case 22:case 23:return Wd(),u=a.memoizedState!==null,n!==null&&n.memoizedState!==null!==u&&(a.flags|=8192),u&&(a.mode&1)!==0?(mn&1073741824)!==0&&(Ut(a),a.subtreeFlags&6&&(a.flags|=8192)):Ut(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function BN(n,a){switch(ed(a),a.tag){case 1:return en(a.type)&&ci(),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return qa(),ut(Zt),ut(zt),fd(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 5:return ud(a),null;case 13:if(ut(ht),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ua()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return ut(ht),null;case 4:return qa(),null;case 10:return od(a.type._context),null;case 22:case 23:return Wd(),null;case 24:return null;default:return null}}var Ri=!1,Vt=!1,UN=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Ga(n,a){var i=n.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){yt(n,a,u)}else i.current=null}function Md(n,a,i){try{i()}catch(u){yt(n,a,u)}}var yh=!1;function VN(n,a){if(Wc=Yo,n=Qf(),Lc(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var v=u.anchorOffset,w=u.focusNode;u=u.focusOffset;try{i.nodeType,w.nodeType}catch{i=null;break e}var A=0,B=-1,q=-1,ae=0,he=0,ve=n,pe=null;t:for(;;){for(var Se;ve!==i||v!==0&&ve.nodeType!==3||(B=A+v),ve!==w||u!==0&&ve.nodeType!==3||(q=A+u),ve.nodeType===3&&(A+=ve.nodeValue.length),(Se=ve.firstChild)!==null;)pe=ve,ve=Se;for(;;){if(ve===n)break t;if(pe===i&&++ae===v&&(B=A),pe===w&&++he===u&&(q=A),(Se=ve.nextSibling)!==null)break;ve=pe,pe=ve.parentNode}ve=Se}i=B===-1||q===-1?null:{start:B,end:q}}else i=null}i=i||{start:0,end:0}}else i=null;for(qc={focusedElem:n,selectionRange:i},Yo=!1,Ee=a;Ee!==null;)if(a=Ee,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Ee=n;else for(;Ee!==null;){a=Ee;try{var _e=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var ke=_e.memoizedProps,bt=_e.memoizedState,ee=a.stateNode,Y=ee.getSnapshotBeforeUpdate(a.elementType===a.type?ke:En(a.type,ke),bt);ee.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ne=a.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ne){yt(a,a.return,Ne)}if(n=a.sibling,n!==null){n.return=a.return,Ee=n;break}Ee=a.return}return _e=yh,yh=!1,_e}function to(n,a,i){var u=a.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var v=u=u.next;do{if((v.tag&n)===n){var w=v.destroy;v.destroy=void 0,w!==void 0&&Md(a,i,w)}v=v.next}while(v!==u)}}function Pi(n,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&n)===n){var u=i.create;i.destroy=u()}i=i.next}while(i!==a)}}function Dd(n){var a=n.ref;if(a!==null){var i=n.stateNode;switch(n.tag){case 5:n=i;break;default:n=i}typeof a=="function"?a(n):a.current=n}}function jh(n){var a=n.alternate;a!==null&&(n.alternate=null,jh(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&(delete a[Bn],delete a[Hr],delete a[Jc],delete a[CN],delete a[EN])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function wh(n){return n.tag===5||n.tag===3||n.tag===4}function Nh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||wh(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Od(n,a,i){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?i.nodeType===8?i.parentNode.insertBefore(n,a):i.insertBefore(n,a):(i.nodeType===8?(a=i.parentNode,a.insertBefore(n,i)):(a=i,a.appendChild(n)),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=ii));else if(u!==4&&(n=n.child,n!==null))for(Od(n,a,i),n=n.sibling;n!==null;)Od(n,a,i),n=n.sibling}function Id(n,a,i){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?i.insertBefore(n,a):i.appendChild(n);else if(u!==4&&(n=n.child,n!==null))for(Id(n,a,i),n=n.sibling;n!==null;)Id(n,a,i),n=n.sibling}var Ft=null,_n=!1;function Ms(n,a,i){for(i=i.child;i!==null;)bh(n,a,i),i=i.sibling}function bh(n,a,i){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Vo,i)}catch{}switch(i.tag){case 5:Vt||Ga(i,a);case 6:var u=Ft,v=_n;Ft=null,Ms(n,a,i),Ft=u,_n=v,Ft!==null&&(_n?(n=Ft,i=i.stateNode,n.nodeType===8?n.parentNode.removeChild(i):n.removeChild(i)):Ft.removeChild(i.stateNode));break;case 18:Ft!==null&&(_n?(n=Ft,i=i.stateNode,n.nodeType===8?Yc(n.parentNode,i):n.nodeType===1&&Yc(n,i),Mr(n)):Yc(Ft,i.stateNode));break;case 4:u=Ft,v=_n,Ft=i.stateNode.containerInfo,_n=!0,Ms(n,a,i),Ft=u,_n=v;break;case 0:case 11:case 14:case 15:if(!Vt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){v=u=u.next;do{var w=v,A=w.destroy;w=w.tag,A!==void 0&&((w&2)!==0||(w&4)!==0)&&Md(i,a,A),v=v.next}while(v!==u)}Ms(n,a,i);break;case 1:if(!Vt&&(Ga(i,a),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(B){yt(i,a,B)}Ms(n,a,i);break;case 21:Ms(n,a,i);break;case 22:i.mode&1?(Vt=(u=Vt)||i.memoizedState!==null,Ms(n,a,i),Vt=u):Ms(n,a,i);break;default:Ms(n,a,i)}}function Sh(n){var a=n.updateQueue;if(a!==null){n.updateQueue=null;var i=n.stateNode;i===null&&(i=n.stateNode=new UN),a.forEach(function(u){var v=XN.bind(null,n,u);i.has(u)||(i.add(u),u.then(v,v))})}}function kn(n,a){var i=a.deletions;if(i!==null)for(var u=0;u<i.length;u++){var v=i[u];try{var w=n,A=a,B=A;e:for(;B!==null;){switch(B.tag){case 5:Ft=B.stateNode,_n=!1;break e;case 3:Ft=B.stateNode.containerInfo,_n=!0;break e;case 4:Ft=B.stateNode.containerInfo,_n=!0;break e}B=B.return}if(Ft===null)throw Error(r(160));bh(w,A,v),Ft=null,_n=!1;var q=v.alternate;q!==null&&(q.return=null),v.return=null}catch(ae){yt(v,a,ae)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Ch(a,n),a=a.sibling}function Ch(n,a){var i=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(kn(a,n),Hn(n),u&4){try{to(3,n,n.return),Pi(3,n)}catch(ke){yt(n,n.return,ke)}try{to(5,n,n.return)}catch(ke){yt(n,n.return,ke)}}break;case 1:kn(a,n),Hn(n),u&512&&i!==null&&Ga(i,i.return);break;case 5:if(kn(a,n),Hn(n),u&512&&i!==null&&Ga(i,i.return),n.flags&32){var v=n.stateNode;try{Nr(v,"")}catch(ke){yt(n,n.return,ke)}}if(u&4&&(v=n.stateNode,v!=null)){var w=n.memoizedProps,A=i!==null?i.memoizedProps:w,B=n.type,q=n.updateQueue;if(n.updateQueue=null,q!==null)try{B==="input"&&w.type==="radio"&&w.name!=null&&Te(v,w),fc(B,A);var ae=fc(B,w);for(A=0;A<q.length;A+=2){var he=q[A],ve=q[A+1];he==="style"?of(v,ve):he==="dangerouslySetInnerHTML"?af(v,ve):he==="children"?Nr(v,ve):_(v,he,ve,ae)}switch(B){case"input":_t(v,w);break;case"textarea":os(v,w);break;case"select":var pe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var Se=w.value;Se!=null?Tt(v,!!w.multiple,Se,!1):pe!==!!w.multiple&&(w.defaultValue!=null?Tt(v,!!w.multiple,w.defaultValue,!0):Tt(v,!!w.multiple,w.multiple?[]:"",!1))}v[Hr]=w}catch(ke){yt(n,n.return,ke)}}break;case 6:if(kn(a,n),Hn(n),u&4){if(n.stateNode===null)throw Error(r(162));v=n.stateNode,w=n.memoizedProps;try{v.nodeValue=w}catch(ke){yt(n,n.return,ke)}}break;case 3:if(kn(a,n),Hn(n),u&4&&i!==null&&i.memoizedState.isDehydrated)try{Mr(a.containerInfo)}catch(ke){yt(n,n.return,ke)}break;case 4:kn(a,n),Hn(n);break;case 13:kn(a,n),Hn(n),v=n.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||($d=Nt())),u&4&&Sh(n);break;case 22:if(he=i!==null&&i.memoizedState!==null,n.mode&1?(Vt=(ae=Vt)||he,kn(a,n),Vt=ae):kn(a,n),Hn(n),u&8192){if(ae=n.memoizedState!==null,(n.stateNode.isHidden=ae)&&!he&&(n.mode&1)!==0)for(Ee=n,he=n.child;he!==null;){for(ve=Ee=he;Ee!==null;){switch(pe=Ee,Se=pe.child,pe.tag){case 0:case 11:case 14:case 15:to(4,pe,pe.return);break;case 1:Ga(pe,pe.return);var _e=pe.stateNode;if(typeof _e.componentWillUnmount=="function"){u=pe,i=pe.return;try{a=u,_e.props=a.memoizedProps,_e.state=a.memoizedState,_e.componentWillUnmount()}catch(ke){yt(u,i,ke)}}break;case 5:Ga(pe,pe.return);break;case 22:if(pe.memoizedState!==null){kh(ve);continue}}Se!==null?(Se.return=pe,Ee=Se):kh(ve)}he=he.sibling}e:for(he=null,ve=n;;){if(ve.tag===5){if(he===null){he=ve;try{v=ve.stateNode,ae?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(B=ve.stateNode,q=ve.memoizedProps.style,A=q!=null&&q.hasOwnProperty("display")?q.display:null,B.style.display=rf("display",A))}catch(ke){yt(n,n.return,ke)}}}else if(ve.tag===6){if(he===null)try{ve.stateNode.nodeValue=ae?"":ve.memoizedProps}catch(ke){yt(n,n.return,ke)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===n)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===n)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===n)break e;he===ve&&(he=null),ve=ve.return}he===ve&&(he=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:kn(a,n),Hn(n),u&4&&Sh(n);break;case 21:break;default:kn(a,n),Hn(n)}}function Hn(n){var a=n.flags;if(a&2){try{e:{for(var i=n.return;i!==null;){if(wh(i)){var u=i;break e}i=i.return}throw Error(r(160))}switch(u.tag){case 5:var v=u.stateNode;u.flags&32&&(Nr(v,""),u.flags&=-33);var w=Nh(n);Id(n,w,v);break;case 3:case 4:var A=u.stateNode.containerInfo,B=Nh(n);Od(n,B,A);break;default:throw Error(r(161))}}catch(q){yt(n,n.return,q)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function HN(n,a,i){Ee=n,Eh(n)}function Eh(n,a,i){for(var u=(n.mode&1)!==0;Ee!==null;){var v=Ee,w=v.child;if(v.tag===22&&u){var A=v.memoizedState!==null||Ri;if(!A){var B=v.alternate,q=B!==null&&B.memoizedState!==null||Vt;B=Ri;var ae=Vt;if(Ri=A,(Vt=q)&&!ae)for(Ee=v;Ee!==null;)A=Ee,q=A.child,A.tag===22&&A.memoizedState!==null?Rh(v):q!==null?(q.return=A,Ee=q):Rh(v);for(;w!==null;)Ee=w,Eh(w),w=w.sibling;Ee=v,Ri=B,Vt=ae}_h(n)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,Ee=w):_h(n)}}function _h(n){for(;Ee!==null;){var a=Ee;if((a.flags&8772)!==0){var i=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Vt||Pi(5,a);break;case 1:var u=a.stateNode;if(a.flags&4&&!Vt)if(i===null)u.componentDidMount();else{var v=a.elementType===a.type?i.memoizedProps:En(a.type,i.memoizedProps);u.componentDidUpdate(v,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&kp(a,w,u);break;case 3:var A=a.updateQueue;if(A!==null){if(i=null,a.child!==null)switch(a.child.tag){case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}kp(a,A,i)}break;case 5:var B=a.stateNode;if(i===null&&a.flags&4){i=B;var q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&i.focus();break;case"img":q.src&&(i.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ae=a.alternate;if(ae!==null){var he=ae.memoizedState;if(he!==null){var ve=he.dehydrated;ve!==null&&Mr(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Vt||a.flags&512&&Dd(a)}catch(pe){yt(a,a.return,pe)}}if(a===n){Ee=null;break}if(i=a.sibling,i!==null){i.return=a.return,Ee=i;break}Ee=a.return}}function kh(n){for(;Ee!==null;){var a=Ee;if(a===n){Ee=null;break}var i=a.sibling;if(i!==null){i.return=a.return,Ee=i;break}Ee=a.return}}function Rh(n){for(;Ee!==null;){var a=Ee;try{switch(a.tag){case 0:case 11:case 15:var i=a.return;try{Pi(4,a)}catch(q){yt(a,i,q)}break;case 1:var u=a.stateNode;if(typeof u.componentDidMount=="function"){var v=a.return;try{u.componentDidMount()}catch(q){yt(a,v,q)}}var w=a.return;try{Dd(a)}catch(q){yt(a,w,q)}break;case 5:var A=a.return;try{Dd(a)}catch(q){yt(a,A,q)}}}catch(q){yt(a,a.return,q)}if(a===n){Ee=null;break}var B=a.sibling;if(B!==null){B.return=a.return,Ee=B;break}Ee=a.return}}var WN=Math.ceil,Ai=R.ReactCurrentDispatcher,Ld=R.ReactCurrentOwner,yn=R.ReactCurrentBatchConfig,Ge=0,Dt=null,kt=null,$t=0,mn=0,Ya=ks(0),At=0,no=null,ua=0,Ti=0,Fd=0,so=null,nn=null,$d=0,Ja=1/0,ps=null,Mi=!1,zd=null,Ds=null,Di=!1,Os=null,Oi=0,ao=0,Bd=null,Ii=-1,Li=0;function Gt(){return(Ge&6)!==0?Nt():Ii!==-1?Ii:Ii=Nt()}function Is(n){return(n.mode&1)===0?1:(Ge&2)!==0&&$t!==0?$t&-$t:kN.transition!==null?(Li===0&&(Li=Nf()),Li):(n=st,n!==0||(n=window.event,n=n===void 0?16:Af(n.type)),n)}function Rn(n,a,i,u){if(50<ao)throw ao=0,Bd=null,Error(r(185));kr(n,i,u),((Ge&2)===0||n!==Dt)&&(n===Dt&&((Ge&2)===0&&(Ti|=i),At===4&&Ls(n,$t)),sn(n,u),i===1&&Ge===0&&(a.mode&1)===0&&(Ja=Nt()+500,ui&&Ps()))}function sn(n,a){var i=n.callbackNode;kw(n,a);var u=qo(n,n===Dt?$t:0);if(u===0)i!==null&&yf(i),n.callbackNode=null,n.callbackPriority=0;else if(a=u&-u,n.callbackPriority!==a){if(i!=null&&yf(i),a===1)n.tag===0?_N(Ah.bind(null,n)):xp(Ah.bind(null,n)),bN(function(){(Ge&6)===0&&Ps()}),i=null;else{switch(bf(u)){case 1:i=jc;break;case 4:i=jf;break;case 16:i=Uo;break;case 536870912:i=wf;break;default:i=Uo}i=$h(i,Ph.bind(null,n))}n.callbackPriority=a,n.callbackNode=i}}function Ph(n,a){if(Ii=-1,Li=0,(Ge&6)!==0)throw Error(r(327));var i=n.callbackNode;if(Qa()&&n.callbackNode!==i)return null;var u=qo(n,n===Dt?$t:0);if(u===0)return null;if((u&30)!==0||(u&n.expiredLanes)!==0||a)a=Fi(n,u);else{a=u;var v=Ge;Ge|=2;var w=Mh();(Dt!==n||$t!==a)&&(ps=null,Ja=Nt()+500,fa(n,a));do try{GN();break}catch(B){Th(n,B)}while(!0);rd(),Ai.current=w,Ge=v,kt!==null?a=0:(Dt=null,$t=0,a=At)}if(a!==0){if(a===2&&(v=wc(n),v!==0&&(u=v,a=Ud(n,v))),a===1)throw i=no,fa(n,0),Ls(n,u),sn(n,Nt()),i;if(a===6)Ls(n,u);else{if(v=n.current.alternate,(u&30)===0&&!qN(v)&&(a=Fi(n,u),a===2&&(w=wc(n),w!==0&&(u=w,a=Ud(n,w))),a===1))throw i=no,fa(n,0),Ls(n,u),sn(n,Nt()),i;switch(n.finishedWork=v,n.finishedLanes=u,a){case 0:case 1:throw Error(r(345));case 2:pa(n,nn,ps);break;case 3:if(Ls(n,u),(u&130023424)===u&&(a=$d+500-Nt(),10<a)){if(qo(n,0)!==0)break;if(v=n.suspendedLanes,(v&u)!==u){Gt(),n.pingedLanes|=n.suspendedLanes&v;break}n.timeoutHandle=Gc(pa.bind(null,n,nn,ps),a);break}pa(n,nn,ps);break;case 4:if(Ls(n,u),(u&4194240)===u)break;for(a=n.eventTimes,v=-1;0<u;){var A=31-bn(u);w=1<<A,A=a[A],A>v&&(v=A),u&=~w}if(u=v,u=Nt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*WN(u/1960))-u,10<u){n.timeoutHandle=Gc(pa.bind(null,n,nn,ps),u);break}pa(n,nn,ps);break;case 5:pa(n,nn,ps);break;default:throw Error(r(329))}}}return sn(n,Nt()),n.callbackNode===i?Ph.bind(null,n):null}function Ud(n,a){var i=so;return n.current.memoizedState.isDehydrated&&(fa(n,a).flags|=256),n=Fi(n,a),n!==2&&(a=nn,nn=i,a!==null&&Vd(a)),n}function Vd(n){nn===null?nn=n:nn.push.apply(nn,n)}function qN(n){for(var a=n;;){if(a.flags&16384){var i=a.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var v=i[u],w=v.getSnapshot;v=v.value;try{if(!Sn(w(),v))return!1}catch{return!1}}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ls(n,a){for(a&=~Fd,a&=~Ti,n.suspendedLanes|=a,n.pingedLanes&=~a,n=n.expirationTimes;0<a;){var i=31-bn(a),u=1<<i;n[i]=-1,a&=~u}}function Ah(n){if((Ge&6)!==0)throw Error(r(327));Qa();var a=qo(n,0);if((a&1)===0)return sn(n,Nt()),null;var i=Fi(n,a);if(n.tag!==0&&i===2){var u=wc(n);u!==0&&(a=u,i=Ud(n,u))}if(i===1)throw i=no,fa(n,0),Ls(n,a),sn(n,Nt()),i;if(i===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=a,pa(n,nn,ps),sn(n,Nt()),null}function Hd(n,a){var i=Ge;Ge|=1;try{return n(a)}finally{Ge=i,Ge===0&&(Ja=Nt()+500,ui&&Ps())}}function ma(n){Os!==null&&Os.tag===0&&(Ge&6)===0&&Qa();var a=Ge;Ge|=1;var i=yn.transition,u=st;try{if(yn.transition=null,st=1,n)return n()}finally{st=u,yn.transition=i,Ge=a,(Ge&6)===0&&Ps()}}function Wd(){mn=Ya.current,ut(Ya)}function fa(n,a){n.finishedWork=null,n.finishedLanes=0;var i=n.timeoutHandle;if(i!==-1&&(n.timeoutHandle=-1,NN(i)),kt!==null)for(i=kt.return;i!==null;){var u=i;switch(ed(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ci();break;case 3:qa(),ut(Zt),ut(zt),fd();break;case 5:ud(u);break;case 4:qa();break;case 13:ut(ht);break;case 19:ut(ht);break;case 10:od(u.type._context);break;case 22:case 23:Wd()}i=i.return}if(Dt=n,kt=n=Fs(n.current,null),$t=mn=a,At=0,no=null,Fd=Ti=ua=0,nn=so=null,la!==null){for(a=0;a<la.length;a++)if(i=la[a],u=i.interleaved,u!==null){i.interleaved=null;var v=u.next,w=i.pending;if(w!==null){var A=w.next;w.next=v,u.next=A}i.pending=u}la=null}return n}function Th(n,a){do{var i=kt;try{if(rd(),wi.current=Ci,Ni){for(var u=xt.memoizedState;u!==null;){var v=u.queue;v!==null&&(v.pending=null),u=u.next}Ni=!1}if(da=0,Mt=Pt=xt=null,Jr=!1,Qr=0,Ld.current=null,i===null||i.return===null){At=1,no=a,kt=null;break}e:{var w=n,A=i.return,B=i,q=a;if(a=$t,B.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=q,he=B,ve=he.tag;if((he.mode&1)===0&&(ve===0||ve===11||ve===15)){var pe=he.alternate;pe?(he.updateQueue=pe.updateQueue,he.memoizedState=pe.memoizedState,he.lanes=pe.lanes):(he.updateQueue=null,he.memoizedState=null)}var Se=sh(A);if(Se!==null){Se.flags&=-257,ah(Se,A,B,w,a),Se.mode&1&&nh(w,ae,a),a=Se,q=ae;var _e=a.updateQueue;if(_e===null){var ke=new Set;ke.add(q),a.updateQueue=ke}else _e.add(q);break e}else{if((a&1)===0){nh(w,ae,a),qd();break e}q=Error(r(426))}}else if(pt&&B.mode&1){var bt=sh(A);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),ah(bt,A,B,w,a),sd(Ka(q,B));break e}}w=q=Ka(q,B),At!==4&&(At=2),so===null?so=[w]:so.push(w),w=A;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var ee=eh(w,q,a);_p(w,ee);break e;case 1:B=q;var Y=w.type,ne=w.stateNode;if((w.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Ds===null||!Ds.has(ne)))){w.flags|=65536,a&=-a,w.lanes|=a;var Ne=th(w,B,a);_p(w,Ne);break e}}w=w.return}while(w!==null)}Oh(i)}catch(Pe){a=Pe,kt===i&&i!==null&&(kt=i=i.return);continue}break}while(!0)}function Mh(){var n=Ai.current;return Ai.current=Ci,n===null?Ci:n}function qd(){(At===0||At===3||At===2)&&(At=4),Dt===null||(ua&268435455)===0&&(Ti&268435455)===0||Ls(Dt,$t)}function Fi(n,a){var i=Ge;Ge|=2;var u=Mh();(Dt!==n||$t!==a)&&(ps=null,fa(n,a));do try{KN();break}catch(v){Th(n,v)}while(!0);if(rd(),Ge=i,Ai.current=u,kt!==null)throw Error(r(261));return Dt=null,$t=0,At}function KN(){for(;kt!==null;)Dh(kt)}function GN(){for(;kt!==null&&!yw();)Dh(kt)}function Dh(n){var a=Fh(n.alternate,n,mn);n.memoizedProps=n.pendingProps,a===null?Oh(n):kt=a,Ld.current=null}function Oh(n){var a=n;do{var i=a.alternate;if(n=a.return,(a.flags&32768)===0){if(i=zN(i,a,mn),i!==null){kt=i;return}}else{if(i=BN(i,a),i!==null){i.flags&=32767,kt=i;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{At=6,kt=null;return}}if(a=a.sibling,a!==null){kt=a;return}kt=a=n}while(a!==null);At===0&&(At=5)}function pa(n,a,i){var u=st,v=yn.transition;try{yn.transition=null,st=1,YN(n,a,i,u)}finally{yn.transition=v,st=u}return null}function YN(n,a,i,u){do Qa();while(Os!==null);if((Ge&6)!==0)throw Error(r(327));i=n.finishedWork;var v=n.finishedLanes;if(i===null)return null;if(n.finishedWork=null,n.finishedLanes=0,i===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var w=i.lanes|i.childLanes;if(Rw(n,w),n===Dt&&(kt=Dt=null,$t=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Di||(Di=!0,$h(Uo,function(){return Qa(),null})),w=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||w){w=yn.transition,yn.transition=null;var A=st;st=1;var B=Ge;Ge|=4,Ld.current=null,VN(n,i),Ch(i,n),hN(qc),Yo=!!Wc,qc=Wc=null,n.current=i,HN(i),jw(),Ge=B,st=A,yn.transition=w}else n.current=i;if(Di&&(Di=!1,Os=n,Oi=v),w=n.pendingLanes,w===0&&(Ds=null),bw(i.stateNode),sn(n,Nt()),a!==null)for(u=n.onRecoverableError,i=0;i<a.length;i++)v=a[i],u(v.value,{componentStack:v.stack,digest:v.digest});if(Mi)throw Mi=!1,n=zd,zd=null,n;return(Oi&1)!==0&&n.tag!==0&&Qa(),w=n.pendingLanes,(w&1)!==0?n===Bd?ao++:(ao=0,Bd=n):ao=0,Ps(),null}function Qa(){if(Os!==null){var n=bf(Oi),a=yn.transition,i=st;try{if(yn.transition=null,st=16>n?16:n,Os===null)var u=!1;else{if(n=Os,Os=null,Oi=0,(Ge&6)!==0)throw Error(r(331));var v=Ge;for(Ge|=4,Ee=n.current;Ee!==null;){var w=Ee,A=w.child;if((Ee.flags&16)!==0){var B=w.deletions;if(B!==null){for(var q=0;q<B.length;q++){var ae=B[q];for(Ee=ae;Ee!==null;){var he=Ee;switch(he.tag){case 0:case 11:case 15:to(8,he,w)}var ve=he.child;if(ve!==null)ve.return=he,Ee=ve;else for(;Ee!==null;){he=Ee;var pe=he.sibling,Se=he.return;if(jh(he),he===ae){Ee=null;break}if(pe!==null){pe.return=Se,Ee=pe;break}Ee=Se}}}var _e=w.alternate;if(_e!==null){var ke=_e.child;if(ke!==null){_e.child=null;do{var bt=ke.sibling;ke.sibling=null,ke=bt}while(ke!==null)}}Ee=w}}if((w.subtreeFlags&2064)!==0&&A!==null)A.return=w,Ee=A;else e:for(;Ee!==null;){if(w=Ee,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:to(9,w,w.return)}var ee=w.sibling;if(ee!==null){ee.return=w.return,Ee=ee;break e}Ee=w.return}}var Y=n.current;for(Ee=Y;Ee!==null;){A=Ee;var ne=A.child;if((A.subtreeFlags&2064)!==0&&ne!==null)ne.return=A,Ee=ne;else e:for(A=Y;Ee!==null;){if(B=Ee,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Pi(9,B)}}catch(Pe){yt(B,B.return,Pe)}if(B===A){Ee=null;break e}var Ne=B.sibling;if(Ne!==null){Ne.return=B.return,Ee=Ne;break e}Ee=B.return}}if(Ge=v,Ps(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Vo,n)}catch{}u=!0}return u}finally{st=i,yn.transition=a}}return!1}function Ih(n,a,i){a=Ka(i,a),a=eh(n,a,1),n=Ts(n,a,1),a=Gt(),n!==null&&(kr(n,1,a),sn(n,a))}function yt(n,a,i){if(n.tag===3)Ih(n,n,i);else for(;a!==null;){if(a.tag===3){Ih(a,n,i);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ds===null||!Ds.has(u))){n=Ka(i,n),n=th(a,n,1),a=Ts(a,n,1),n=Gt(),a!==null&&(kr(a,1,n),sn(a,n));break}}a=a.return}}function JN(n,a,i){var u=n.pingCache;u!==null&&u.delete(a),a=Gt(),n.pingedLanes|=n.suspendedLanes&i,Dt===n&&($t&i)===i&&(At===4||At===3&&($t&130023424)===$t&&500>Nt()-$d?fa(n,0):Fd|=i),sn(n,a)}function Lh(n,a){a===0&&((n.mode&1)===0?a=1:(a=Wo,Wo<<=1,(Wo&130023424)===0&&(Wo=4194304)));var i=Gt();n=us(n,a),n!==null&&(kr(n,a,i),sn(n,i))}function QN(n){var a=n.memoizedState,i=0;a!==null&&(i=a.retryLane),Lh(n,i)}function XN(n,a){var i=0;switch(n.tag){case 13:var u=n.stateNode,v=n.memoizedState;v!==null&&(i=v.retryLane);break;case 19:u=n.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(a),Lh(n,i)}var Fh;Fh=function(n,a,i){if(n!==null)if(n.memoizedProps!==a.pendingProps||Zt.current)tn=!0;else{if((n.lanes&i)===0&&(a.flags&128)===0)return tn=!1,$N(n,a,i);tn=(n.flags&131072)!==0}else tn=!1,pt&&(a.flags&1048576)!==0&&gp(a,fi,a.index);switch(a.lanes=0,a.tag){case 2:var u=a.type;ki(n,a),n=a.pendingProps;var v=$a(a,zt.current);Wa(a,i),v=xd(null,a,u,n,v,i);var w=gd();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,en(u)?(w=!0,di(a)):w=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,cd(a),v.updater=Ei,a.stateNode=v,v._reactInternals=a,bd(a,u,n,i),a=_d(null,a,u,!0,w,i)):(a.tag=0,pt&&w&&Zc(a),Kt(null,a,v,i),a=a.child),a;case 16:u=a.elementType;e:{switch(ki(n,a),n=a.pendingProps,v=u._init,u=v(u._payload),a.type=u,v=a.tag=eb(u),n=En(u,n),v){case 0:a=Ed(null,a,u,n,i);break e;case 1:a=dh(null,a,u,n,i);break e;case 11:a=rh(null,a,u,n,i);break e;case 14:a=oh(null,a,u,En(u.type,n),i);break e}throw Error(r(306,u,""))}return a;case 0:return u=a.type,v=a.pendingProps,v=a.elementType===u?v:En(u,v),Ed(n,a,u,v,i);case 1:return u=a.type,v=a.pendingProps,v=a.elementType===u?v:En(u,v),dh(n,a,u,v,i);case 3:e:{if(uh(a),n===null)throw Error(r(387));u=a.pendingProps,w=a.memoizedState,v=w.element,Ep(n,a),yi(a,u,null,i);var A=a.memoizedState;if(u=A.element,w.isDehydrated)if(w={element:u,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){v=Ka(Error(r(423)),a),a=mh(n,a,u,i,v);break e}else if(u!==v){v=Ka(Error(r(424)),a),a=mh(n,a,u,i,v);break e}else for(un=_s(a.stateNode.containerInfo.firstChild),dn=a,pt=!0,Cn=null,i=Sp(a,null,u,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ua(),u===v){a=fs(n,a,i);break e}Kt(n,a,u,i)}a=a.child}return a;case 5:return Rp(a),n===null&&nd(a),u=a.type,v=a.pendingProps,w=n!==null?n.memoizedProps:null,A=v.children,Kc(u,v)?A=null:w!==null&&Kc(u,w)&&(a.flags|=32),ch(n,a),Kt(n,a,A,i),a.child;case 6:return n===null&&nd(a),null;case 13:return fh(n,a,i);case 4:return dd(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=Va(a,null,u,i):Kt(n,a,u,i),a.child;case 11:return u=a.type,v=a.pendingProps,v=a.elementType===u?v:En(u,v),rh(n,a,u,v,i);case 7:return Kt(n,a,a.pendingProps,i),a.child;case 8:return Kt(n,a,a.pendingProps.children,i),a.child;case 12:return Kt(n,a,a.pendingProps.children,i),a.child;case 10:e:{if(u=a.type._context,v=a.pendingProps,w=a.memoizedProps,A=v.value,lt(xi,u._currentValue),u._currentValue=A,w!==null)if(Sn(w.value,A)){if(w.children===v.children&&!Zt.current){a=fs(n,a,i);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var B=w.dependencies;if(B!==null){A=w.child;for(var q=B.firstContext;q!==null;){if(q.context===u){if(w.tag===1){q=ms(-1,i&-i),q.tag=2;var ae=w.updateQueue;if(ae!==null){ae=ae.shared;var he=ae.pending;he===null?q.next=q:(q.next=he.next,he.next=q),ae.pending=q}}w.lanes|=i,q=w.alternate,q!==null&&(q.lanes|=i),id(w.return,i,a),B.lanes|=i;break}q=q.next}}else if(w.tag===10)A=w.type===a.type?null:w.child;else if(w.tag===18){if(A=w.return,A===null)throw Error(r(341));A.lanes|=i,B=A.alternate,B!==null&&(B.lanes|=i),id(A,i,a),A=w.sibling}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===a){A=null;break}if(w=A.sibling,w!==null){w.return=A.return,A=w;break}A=A.return}w=A}Kt(n,a,v.children,i),a=a.child}return a;case 9:return v=a.type,u=a.pendingProps.children,Wa(a,i),v=gn(v),u=u(v),a.flags|=1,Kt(n,a,u,i),a.child;case 14:return u=a.type,v=En(u,a.pendingProps),v=En(u.type,v),oh(n,a,u,v,i);case 15:return ih(n,a,a.type,a.pendingProps,i);case 17:return u=a.type,v=a.pendingProps,v=a.elementType===u?v:En(u,v),ki(n,a),a.tag=1,en(u)?(n=!0,di(a)):n=!1,Wa(a,i),Xp(a,u,v),bd(a,u,v,i),_d(null,a,u,!0,n,i);case 19:return hh(n,a,i);case 22:return lh(n,a,i)}throw Error(r(156,a.tag))};function $h(n,a){return vf(n,a)}function ZN(n,a,i,u){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,a,i,u){return new ZN(n,a,i,u)}function Kd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function eb(n){if(typeof n=="function")return Kd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===G)return 14}return 2}function Fs(n,a){var i=n.alternate;return i===null?(i=jn(n.tag,a,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=a,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&14680064,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,a=n.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i}function $i(n,a,i,u,v,w){var A=2;if(u=n,typeof n=="function")Kd(n)&&(A=1);else if(typeof n=="string")A=5;else e:switch(n){case O:return ha(i.children,v,w,a);case P:A=8,v|=8;break;case I:return n=jn(12,i,a,v|2),n.elementType=I,n.lanes=w,n;case re:return n=jn(13,i,a,v),n.elementType=re,n.lanes=w,n;case $:return n=jn(19,i,a,v),n.elementType=$,n.lanes=w,n;case H:return zi(i,v,w,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:A=10;break e;case F:A=9;break e;case V:A=11;break e;case G:A=14;break e;case z:A=16,u=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return a=jn(A,i,a,v),a.elementType=n,a.type=u,a.lanes=w,a}function ha(n,a,i,u){return n=jn(7,n,u,a),n.lanes=i,n}function zi(n,a,i,u){return n=jn(22,n,u,a),n.elementType=H,n.lanes=i,n.stateNode={isHidden:!1},n}function Gd(n,a,i){return n=jn(6,n,null,a),n.lanes=i,n}function Yd(n,a,i){return a=jn(4,n.children!==null?n.children:[],n.key,a),a.lanes=i,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function tb(n,a,i,u,v){this.tag=a,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nc(0),this.expirationTimes=Nc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.identifierPrefix=u,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Jd(n,a,i,u,v,w,A,B,q){return n=new tb(n,a,i,B,q),a===1?(a=1,w===!0&&(a|=8)):a=0,w=jn(3,null,null,a),n.current=w,w.stateNode=n,w.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},cd(w),n}function nb(n,a,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:u==null?null:""+u,children:n,containerInfo:a,implementation:i}}function zh(n){if(!n)return Rs;n=n._reactInternals;e:{if(sa(n)!==n||n.tag!==1)throw Error(r(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(en(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(n.tag===1){var i=n.type;if(en(i))return pp(n,i,a)}return a}function Bh(n,a,i,u,v,w,A,B,q){return n=Jd(i,u,!0,n,v,w,A,B,q),n.context=zh(null),i=n.current,u=Gt(),v=Is(i),w=ms(u,v),w.callback=a??null,Ts(i,w,v),n.current.lanes=v,kr(n,v,u),sn(n,u),n}function Bi(n,a,i,u){var v=a.current,w=Gt(),A=Is(v);return i=zh(i),a.context===null?a.context=i:a.pendingContext=i,a=ms(w,A),a.payload={element:n},u=u===void 0?null:u,u!==null&&(a.callback=u),n=Ts(v,a,A),n!==null&&(Rn(n,v,A,w),vi(n,v,A)),A}function Ui(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Uh(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<a?i:a}}function Qd(n,a){Uh(n,a),(n=n.alternate)&&Uh(n,a)}function sb(){return null}var Vh=typeof reportError=="function"?reportError:function(n){console.error(n)};function Xd(n){this._internalRoot=n}Vi.prototype.render=Xd.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));Bi(n,a,null,null)},Vi.prototype.unmount=Xd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;ma(function(){Bi(null,n,null,null)}),a[is]=null}};function Vi(n){this._internalRoot=n}Vi.prototype.unstable_scheduleHydration=function(n){if(n){var a=Ef();n={blockedOn:null,target:n,priority:a};for(var i=0;i<Ss.length&&a!==0&&a<Ss[i].priority;i++);Ss.splice(i,0,n),i===0&&Rf(n)}};function Zd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Hi(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Hh(){}function ab(n,a,i,u,v){if(v){if(typeof u=="function"){var w=u;u=function(){var ae=Ui(A);w.call(ae)}}var A=Bh(a,u,n,0,null,!1,!1,"",Hh);return n._reactRootContainer=A,n[is]=A.current,Ur(n.nodeType===8?n.parentNode:n),ma(),A}for(;v=n.lastChild;)n.removeChild(v);if(typeof u=="function"){var B=u;u=function(){var ae=Ui(q);B.call(ae)}}var q=Jd(n,0,!1,null,null,!1,!1,"",Hh);return n._reactRootContainer=q,n[is]=q.current,Ur(n.nodeType===8?n.parentNode:n),ma(function(){Bi(a,q,i,u)}),q}function Wi(n,a,i,u,v){var w=i._reactRootContainer;if(w){var A=w;if(typeof v=="function"){var B=v;v=function(){var q=Ui(A);B.call(q)}}Bi(a,A,n,v)}else A=ab(i,a,n,v,u);return Ui(A)}Sf=function(n){switch(n.tag){case 3:var a=n.stateNode;if(a.current.memoizedState.isDehydrated){var i=_r(a.pendingLanes);i!==0&&(bc(a,i|1),sn(a,Nt()),(Ge&6)===0&&(Ja=Nt()+500,Ps()))}break;case 13:ma(function(){var u=us(n,1);if(u!==null){var v=Gt();Rn(u,n,1,v)}}),Qd(n,1)}},Sc=function(n){if(n.tag===13){var a=us(n,134217728);if(a!==null){var i=Gt();Rn(a,n,134217728,i)}Qd(n,134217728)}},Cf=function(n){if(n.tag===13){var a=Is(n),i=us(n,a);if(i!==null){var u=Gt();Rn(i,n,a,u)}Qd(n,a)}},Ef=function(){return st},_f=function(n,a){var i=st;try{return st=n,a()}finally{st=i}},xc=function(n,a,i){switch(a){case"input":if(_t(n,i),a=i.name,i.type==="radio"&&a!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<i.length;a++){var u=i[a];if(u!==n&&u.form===n.form){var v=li(u);if(!v)throw Error(r(90));Re(u),_t(u,v)}}}break;case"textarea":os(n,i);break;case"select":a=i.value,a!=null&&Tt(n,!!i.multiple,a,!1)}},uf=Hd,mf=ma;var rb={usingClientEntryPoint:!1,Events:[Wr,La,li,cf,df,Hd]},ro={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ob={bundleType:ro.bundleType,version:ro.version,rendererPackageName:ro.rendererPackageName,rendererConfig:ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=xf(n),n===null?null:n.stateNode},findFiberByHostInstance:ro.findFiberByHostInstance||sb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qi.isDisabled&&qi.supportsFiber)try{Vo=qi.inject(ob),zn=qi}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rb,an.createPortal=function(n,a){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zd(a))throw Error(r(200));return nb(n,a,null,i)},an.createRoot=function(n,a){if(!Zd(n))throw Error(r(299));var i=!1,u="",v=Vh;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Jd(n,1,!1,null,null,i,!1,u,v),n[is]=a.current,Ur(n.nodeType===8?n.parentNode:n),new Xd(a)},an.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=xf(a),n=n===null?null:n.stateNode,n},an.flushSync=function(n){return ma(n)},an.hydrate=function(n,a,i){if(!Hi(a))throw Error(r(200));return Wi(null,n,a,!0,i)},an.hydrateRoot=function(n,a,i){if(!Zd(n))throw Error(r(405));var u=i!=null&&i.hydratedSources||null,v=!1,w="",A=Vh;if(i!=null&&(i.unstable_strictMode===!0&&(v=!0),i.identifierPrefix!==void 0&&(w=i.identifierPrefix),i.onRecoverableError!==void 0&&(A=i.onRecoverableError)),a=Bh(a,null,n,1,i??null,v,!1,w,A),n[is]=a.current,Ur(n),u)for(n=0;n<u.length;n++)i=u[n],v=i._getVersion,v=v(i._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[i,v]:a.mutableSourceEagerHydrationData.push(i,v);return new Vi(a)},an.render=function(n,a,i){if(!Hi(a))throw Error(r(200));return Wi(null,n,a,!1,i)},an.unmountComponentAtNode=function(n){if(!Hi(n))throw Error(r(40));return n._reactRootContainer?(ma(function(){Wi(null,null,n,!1,function(){n._reactRootContainer=null,n[is]=null})}),!0):!1},an.unstable_batchedUpdates=Hd,an.unstable_renderSubtreeIntoContainer=function(n,a,i,u){if(!Hi(i))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Wi(n,a,i,!1,u)},an.version="18.3.1-next-f1338f8080-20240426",an}var Xh;function hg(){if(Xh)return nu.exports;Xh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),nu.exports=pb(),nu.exports}var Zh;function hb(){if(Zh)return Ki;Zh=1;var t=hg();return Ki.createRoot=t.createRoot,Ki.hydrateRoot=t.hydrateRoot,Ki}var xb=hb(),m=_l();const Bs=pg(m),cm=lb({__proto__:null,default:Bs},[m]);var or=hg();const gb=pg(or);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function po(){return po=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},po.apply(this,arguments)}var Vs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vs||(Vs={}));const ex="popstate";function vb(t){t===void 0&&(t={});function s(o,l){let{pathname:c,search:d,hash:f}=o.location;return Pu("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(o,l){return typeof l=="string"?l:hl(l)}return jb(s,r,null,t)}function St(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function xg(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function yb(){return Math.random().toString(36).substr(2,8)}function tx(t,s){return{usr:t.state,key:t.key,idx:s}}function Pu(t,s,r,o){return r===void 0&&(r=null),po({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?ir(s):s,{state:r,key:s&&s.key||o||yb()})}function hl(t){let{pathname:s="/",search:r="",hash:o=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function ir(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let o=t.indexOf("?");o>=0&&(s.search=t.substr(o),t=t.substr(0,o)),t&&(s.pathname=t)}return s}function jb(t,s,r,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:c=!1}=o,d=l.history,f=Vs.Pop,x=null,p=g();p==null&&(p=0,d.replaceState(po({},d.state,{idx:p}),""));function g(){return(d.state||{idx:null}).idx}function h(){f=Vs.Pop;let N=g(),C=N==null?null:N-p;p=N,x&&x({action:f,location:y.location,delta:C})}function j(N,C){f=Vs.Push;let E=Pu(y.location,N,C);p=g()+1;let _=tx(E,p),R=y.createHref(E);try{d.pushState(_,"",R)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;l.location.assign(R)}c&&x&&x({action:f,location:y.location,delta:1})}function S(N,C){f=Vs.Replace;let E=Pu(y.location,N,C);p=g();let _=tx(E,p),R=y.createHref(E);d.replaceState(_,"",R),c&&x&&x({action:f,location:y.location,delta:0})}function b(N){let C=l.location.origin!=="null"?l.location.origin:l.location.href,E=typeof N=="string"?N:hl(N);return E=E.replace(/ $/,"%20"),St(C,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,C)}let y={get action(){return f},get location(){return t(l,d)},listen(N){if(x)throw new Error("A history only accepts one active listener");return l.addEventListener(ex,h),x=N,()=>{l.removeEventListener(ex,h),x=null}},createHref(N){return s(l,N)},createURL:b,encodeLocation(N){let C=b(N);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:j,replace:S,go(N){return d.go(N)}};return y}var nx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nx||(nx={}));function wb(t,s,r){return r===void 0&&(r="/"),Nb(t,s,r)}function Nb(t,s,r,o){let l=typeof s=="string"?ir(s):s,c=dm(l.pathname||"/",r);if(c==null)return null;let d=gg(t);bb(d);let f=null;for(let x=0;f==null&&x<d.length;++x){let p=Ob(c);f=Tb(d[x],p)}return f}function gg(t,s,r,o){s===void 0&&(s=[]),r===void 0&&(r=[]),o===void 0&&(o="");let l=(c,d,f)=>{let x={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};x.relativePath.startsWith("/")&&(St(x.relativePath.startsWith(o),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(o.length));let p=Ws([o,x.relativePath]),g=r.concat(x);c.children&&c.children.length>0&&(St(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),gg(c.children,s,g,p)),!(c.path==null&&!c.index)&&s.push({path:p,score:Pb(p,c.index),routesMeta:g})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let x of vg(c.path))l(c,d,x)}),s}function vg(t){let s=t.split("/");if(s.length===0)return[];let[r,...o]=s,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(o.length===0)return l?[c,""]:[c];let d=vg(o.join("/")),f=[];return f.push(...d.map(x=>x===""?c:[c,x].join("/"))),l&&f.push(...d),f.map(x=>t.startsWith("/")&&x===""?"/":x)}function bb(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:Ab(s.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const Sb=/^:[\w-]+$/,Cb=3,Eb=2,_b=1,kb=10,Rb=-2,sx=t=>t==="*";function Pb(t,s){let r=t.split("/"),o=r.length;return r.some(sx)&&(o+=Rb),s&&(o+=Eb),r.filter(l=>!sx(l)).reduce((l,c)=>l+(Sb.test(c)?Cb:c===""?_b:kb),o)}function Ab(t,s){return t.length===s.length&&t.slice(0,-1).every((o,l)=>o===s[l])?t[t.length-1]-s[s.length-1]:0}function Tb(t,s,r){let{routesMeta:o}=t,l={},c="/",d=[];for(let f=0;f<o.length;++f){let x=o[f],p=f===o.length-1,g=c==="/"?s:s.slice(c.length)||"/",h=Mb({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},g),j=x.route;if(!h)return null;Object.assign(l,h.params),d.push({params:l,pathname:Ws([c,h.pathname]),pathnameBase:$b(Ws([c,h.pathnameBase])),route:j}),h.pathnameBase!=="/"&&(c=Ws([c,h.pathnameBase]))}return d}function Mb(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=Db(t.path,t.caseSensitive,t.end),l=s.match(r);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((p,g,h)=>{let{paramName:j,isOptional:S}=g;if(j==="*"){let y=f[h]||"";d=c.slice(0,c.length-y.length).replace(/(.)\/+$/,"$1")}const b=f[h];return S&&!b?p[j]=void 0:p[j]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:t}}function Db(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),xg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,x)=>(o.push({paramName:f,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,s?void 0:"i"),o]}function Ob(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return xg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function dm(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}function Ib(t,s){s===void 0&&(s="/");let{pathname:r,search:o="",hash:l=""}=typeof t=="string"?ir(t):t;return{pathname:r?r.startsWith("/")?r:Lb(r,s):s,search:zb(o),hash:Bb(l)}}function Lb(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function ru(t,s,r,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fb(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function um(t,s){let r=Fb(t);return s?r.map((o,l)=>l===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function mm(t,s,r,o){o===void 0&&(o=!1);let l;typeof t=="string"?l=ir(t):(l=po({},t),St(!l.pathname||!l.pathname.includes("?"),ru("?","pathname","search",l)),St(!l.pathname||!l.pathname.includes("#"),ru("#","pathname","hash",l)),St(!l.search||!l.search.includes("#"),ru("#","search","hash",l)));let c=t===""||l.pathname==="",d=c?"/":l.pathname,f;if(d==null)f=r;else{let h=s.length-1;if(!o&&d.startsWith("..")){let j=d.split("/");for(;j[0]==="..";)j.shift(),h-=1;l.pathname=j.join("/")}f=h>=0?s[h]:"/"}let x=Ib(l,f),p=d&&d!=="/"&&d.endsWith("/"),g=(c||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||g)&&(x.pathname+="/"),x}const Ws=t=>t.join("/").replace(/\/\/+/g,"/"),$b=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ub(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yg=["post","put","patch","delete"];new Set(yg);const Vb=["get",...yg];new Set(Vb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ho(){return ho=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ho.apply(this,arguments)}const fm=m.createContext(null),Hb=m.createContext(null),Qs=m.createContext(null),kl=m.createContext(null),Qn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),jg=m.createContext(null);function Wb(t,s){let{relative:r}=s===void 0?{}:s;lr()||St(!1);let{basename:o,navigator:l}=m.useContext(Qs),{hash:c,pathname:d,search:f}=Ng(t,{relative:r}),x=d;return o!=="/"&&(x=d==="/"?o:Ws([o,d])),l.createHref({pathname:x,search:f,hash:c})}function lr(){return m.useContext(kl)!=null}function Lt(){return lr()||St(!1),m.useContext(kl).location}function wg(t){m.useContext(Qs).static||m.useLayoutEffect(t)}function ln(){let{isDataRoute:t}=m.useContext(Qn);return t?oS():qb()}function qb(){lr()||St(!1);let t=m.useContext(fm),{basename:s,future:r,navigator:o}=m.useContext(Qs),{matches:l}=m.useContext(Qn),{pathname:c}=Lt(),d=JSON.stringify(um(l,r.v7_relativeSplatPath)),f=m.useRef(!1);return wg(()=>{f.current=!0}),m.useCallback(function(p,g){if(g===void 0&&(g={}),!f.current)return;if(typeof p=="number"){o.go(p);return}let h=mm(p,JSON.parse(d),c,g.relative==="path");t==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:Ws([s,h.pathname])),(g.replace?o.replace:o.push)(h,g.state,g)},[s,o,d,c,t])}const Kb=m.createContext(null);function Gb(t){let s=m.useContext(Qn).outlet;return s&&m.createElement(Kb.Provider,{value:t},s)}function No(){let{matches:t}=m.useContext(Qn),s=t[t.length-1];return s?s.params:{}}function Ng(t,s){let{relative:r}=s===void 0?{}:s,{future:o}=m.useContext(Qs),{matches:l}=m.useContext(Qn),{pathname:c}=Lt(),d=JSON.stringify(um(l,o.v7_relativeSplatPath));return m.useMemo(()=>mm(t,JSON.parse(d),c,r==="path"),[t,d,c,r])}function Yb(t,s){return Jb(t,s)}function Jb(t,s,r,o){lr()||St(!1);let{navigator:l}=m.useContext(Qs),{matches:c}=m.useContext(Qn),d=c[c.length-1],f=d?d.params:{};d&&d.pathname;let x=d?d.pathnameBase:"/";d&&d.route;let p=Lt(),g;if(s){var h;let N=typeof s=="string"?ir(s):s;x==="/"||(h=N.pathname)!=null&&h.startsWith(x)||St(!1),g=N}else g=p;let j=g.pathname||"/",S=j;if(x!=="/"){let N=x.replace(/^\//,"").split("/");S="/"+j.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=wb(t,{pathname:S}),y=tS(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Ws([x,l.encodeLocation?l.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?x:Ws([x,l.encodeLocation?l.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,r,o);return s&&y?m.createElement(kl.Provider,{value:{location:ho({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Vs.Pop}},y):y}function Qb(){let t=rS(),s=Ub(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},s),r?m.createElement("pre",{style:l},r):null,null)}const Xb=m.createElement(Qb,null);class Zb extends m.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?m.createElement(Qn.Provider,{value:this.props.routeContext},m.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eS(t){let{routeContext:s,match:r,children:o}=t,l=m.useContext(fm);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Qn.Provider,{value:s},o)}function tS(t,s,r,o){var l;if(s===void 0&&(s=[]),r===void 0&&(r=null),o===void 0&&(o=null),t==null){var c;if(!r)return null;if(r.errors)t=r.matches;else if((c=o)!=null&&c.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let d=t,f=(l=r)==null?void 0:l.errors;if(f!=null){let g=d.findIndex(h=>h.route.id&&(f==null?void 0:f[h.route.id])!==void 0);g>=0||St(!1),d=d.slice(0,Math.min(d.length,g+1))}let x=!1,p=-1;if(r&&o&&o.v7_partialHydration)for(let g=0;g<d.length;g++){let h=d[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(p=g),h.route.id){let{loaderData:j,errors:S}=r,b=h.route.loader&&j[h.route.id]===void 0&&(!S||S[h.route.id]===void 0);if(h.route.lazy||b){x=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}return d.reduceRight((g,h,j)=>{let S,b=!1,y=null,N=null;r&&(S=f&&h.route.id?f[h.route.id]:void 0,y=h.route.errorElement||Xb,x&&(p<0&&j===0?(iS("route-fallback"),b=!0,N=null):p===j&&(b=!0,N=h.route.hydrateFallbackElement||null)));let C=s.concat(d.slice(0,j+1)),E=()=>{let _;return S?_=y:b?_=N:h.route.Component?_=m.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=g,m.createElement(eS,{match:h,routeContext:{outlet:g,matches:C,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||j===0)?m.createElement(Zb,{location:r.location,revalidation:r.revalidation,component:y,error:S,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):E()},null)}var bg=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(bg||{}),Sg=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Sg||{});function nS(t){let s=m.useContext(fm);return s||St(!1),s}function sS(t){let s=m.useContext(Hb);return s||St(!1),s}function aS(t){let s=m.useContext(Qn);return s||St(!1),s}function Cg(t){let s=aS(),r=s.matches[s.matches.length-1];return r.route.id||St(!1),r.route.id}function rS(){var t;let s=m.useContext(jg),r=sS(),o=Cg();return s!==void 0?s:(t=r.errors)==null?void 0:t[o]}function oS(){let{router:t}=nS(bg.UseNavigateStable),s=Cg(Sg.UseNavigateStable),r=m.useRef(!1);return wg(()=>{r.current=!0}),m.useCallback(function(l,c){c===void 0&&(c={}),r.current&&(typeof l=="number"?t.navigate(l):t.navigate(l,ho({fromRouteId:s},c)))},[t,s])}const ax={};function iS(t,s,r){ax[t]||(ax[t]=!0)}function lS(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ot(t){let{to:s,replace:r,state:o,relative:l}=t;lr()||St(!1);let{future:c,static:d}=m.useContext(Qs),{matches:f}=m.useContext(Qn),{pathname:x}=Lt(),p=ln(),g=mm(s,um(f,c.v7_relativeSplatPath),x,l==="path"),h=JSON.stringify(g);return m.useEffect(()=>p(JSON.parse(h),{replace:r,state:o,relative:l}),[p,h,l,r,o]),null}function bo(t){return Gb(t.context)}function Me(t){St(!1)}function cS(t){let{basename:s="/",children:r=null,location:o,navigationType:l=Vs.Pop,navigator:c,static:d=!1,future:f}=t;lr()&&St(!1);let x=s.replace(/^\/*/,"/"),p=m.useMemo(()=>({basename:x,navigator:c,static:d,future:ho({v7_relativeSplatPath:!1},f)}),[x,f,c,d]);typeof o=="string"&&(o=ir(o));let{pathname:g="/",search:h="",hash:j="",state:S=null,key:b="default"}=o,y=m.useMemo(()=>{let N=dm(g,x);return N==null?null:{location:{pathname:N,search:h,hash:j,state:S,key:b},navigationType:l}},[x,g,h,j,S,b,l]);return y==null?null:m.createElement(Qs.Provider,{value:p},m.createElement(kl.Provider,{children:r,value:y}))}function dS(t){let{children:s,location:r}=t;return Yb(Au(s),r)}new Promise(()=>{});function Au(t,s){s===void 0&&(s=[]);let r=[];return m.Children.forEach(t,(o,l)=>{if(!m.isValidElement(o))return;let c=[...s,l];if(o.type===m.Fragment){r.push.apply(r,Au(o.props.children,c));return}o.type!==Me&&St(!1),!o.props.index||!o.props.children||St(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Au(o.props.children,c)),r.push(d)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Tu.apply(this,arguments)}function uS(t,s){if(t==null)return{};var r={},o=Object.keys(t),l,c;for(c=0;c<o.length;c++)l=o[c],!(s.indexOf(l)>=0)&&(r[l]=t[l]);return r}function mS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fS(t,s){return t.button===0&&(!s||s==="_self")&&!mS(t)}function Mu(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let o=t[r];return s.concat(Array.isArray(o)?o.map(l=>[r,l]):[[r,o]])},[]))}function pS(t,s){let r=Mu(t);return s&&s.forEach((o,l)=>{r.has(l)||s.getAll(l).forEach(c=>{r.append(l,c)})}),r}const hS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xS="6";try{window.__reactRouterVersion=xS}catch{}const gS="startTransition",rx=cm[gS];function vS(t){let{basename:s,children:r,future:o,window:l}=t,c=m.useRef();c.current==null&&(c.current=vb({window:l,v5Compat:!0}));let d=c.current,[f,x]=m.useState({action:d.action,location:d.location}),{v7_startTransition:p}=o||{},g=m.useCallback(h=>{p&&rx?rx(()=>x(h)):x(h)},[x,p]);return m.useLayoutEffect(()=>d.listen(g),[d,g]),m.useEffect(()=>lS(o),[o]),m.createElement(cS,{basename:s,children:r,location:f.location,navigationType:f.action,navigator:d,future:o})}const yS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=m.forwardRef(function(s,r){let{onClick:o,relative:l,reloadDocument:c,replace:d,state:f,target:x,to:p,preventScrollReset:g,viewTransition:h}=s,j=uS(s,hS),{basename:S}=m.useContext(Qs),b,y=!1;if(typeof p=="string"&&jS.test(p)&&(b=p,yS))try{let _=new URL(window.location.href),R=p.startsWith("//")?new URL(_.protocol+p):new URL(p),k=dm(R.pathname,S);R.origin===_.origin&&k!=null?p=k+R.search+R.hash:y=!0}catch{}let N=Wb(p,{relative:l}),C=wS(p,{replace:d,state:f,target:x,preventScrollReset:g,relative:l,viewTransition:h});function E(_){o&&o(_),_.defaultPrevented||C(_)}return m.createElement("a",Tu({},j,{href:b||N,onClick:y||c?o:E,ref:r,target:x}))});var ox;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ox||(ox={}));var ix;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ix||(ix={}));function wS(t,s){let{target:r,replace:o,state:l,preventScrollReset:c,relative:d,viewTransition:f}=s===void 0?{}:s,x=ln(),p=Lt(),g=Ng(t,{relative:d});return m.useCallback(h=>{if(fS(h,r)){h.preventDefault();let j=o!==void 0?o:hl(p)===hl(g);x(t,{replace:j,state:l,preventScrollReset:c,relative:d,viewTransition:f})}},[p,x,g,o,l,r,t,c,d,f])}function NS(t){let s=m.useRef(Mu(t)),r=m.useRef(!1),o=Lt(),l=m.useMemo(()=>pS(o.search,r.current?null:s.current),[o.search]),c=ln(),d=m.useCallback((f,x)=>{const p=Mu(typeof f=="function"?f(l):f);r.current=!0,c("?"+p,x)},[c,l]);return[l,d]}const bS="modulepreload",SS=function(t){return"/"+t},lx={},Eg=function(s,r,o){let l=Promise.resolve();if(r&&r.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),x=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=d(r.map(p=>{if(p=SS(p),p in lx)return;lx[p]=!0;const g=p.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${h}`))return;const j=document.createElement("link");if(j.rel=g?"stylesheet":bS,g||(j.as="script"),j.crossOrigin="",j.href=p,x&&j.setAttribute("nonce",x),document.head.appendChild(j),g)return new Promise((S,b)=>{j.addEventListener("load",S),j.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return s().catch(c)})};function _g(t,s){return function(){return t.apply(s,arguments)}}const{toString:CS}=Object.prototype,{getPrototypeOf:pm}=Object,{iterator:Rl,toStringTag:kg}=Symbol,Pl=(t=>s=>{const r=CS.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=t=>(t=t.toLowerCase(),s=>Pl(s)===t),Al=t=>s=>typeof s===t,{isArray:cr}=Array,xo=Al("undefined");function So(t){return t!==null&&!xo(t)&&t.constructor!==null&&!xo(t.constructor)&&rn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Rg=Fn("ArrayBuffer");function ES(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Rg(t.buffer),s}const _S=Al("string"),rn=Al("function"),Pg=Al("number"),Co=t=>t!==null&&typeof t=="object",kS=t=>t===!0||t===!1,al=t=>{if(Pl(t)!=="object")return!1;const s=pm(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(kg in t)&&!(Rl in t)},RS=t=>{if(!Co(t)||So(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},PS=Fn("Date"),AS=Fn("File"),TS=Fn("Blob"),MS=Fn("FileList"),DS=t=>Co(t)&&rn(t.pipe),OS=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||rn(t.append)&&((s=Pl(t))==="formdata"||s==="object"&&rn(t.toString)&&t.toString()==="[object FormData]"))},IS=Fn("URLSearchParams"),[LS,FS,$S,zS]=["ReadableStream","Request","Response","Headers"].map(Fn),BS=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eo(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,l;if(typeof t!="object"&&(t=[t]),cr(t))for(o=0,l=t.length;o<l;o++)s.call(null,t[o],o,t);else{if(So(t))return;const c=r?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let f;for(o=0;o<d;o++)f=c[o],s.call(null,t[f],f,t)}}function Ag(t,s){if(So(t))return null;s=s.toLowerCase();const r=Object.keys(t);let o=r.length,l;for(;o-- >0;)if(l=r[o],s===l.toLowerCase())return l;return null}const xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tg=t=>!xo(t)&&t!==xa;function Du(){const{caseless:t}=Tg(this)&&this||{},s={},r=(o,l)=>{const c=t&&Ag(s,l)||l;al(s[c])&&al(o)?s[c]=Du(s[c],o):al(o)?s[c]=Du({},o):cr(o)?s[c]=o.slice():s[c]=o};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&Eo(arguments[o],r);return s}const US=(t,s,r,{allOwnKeys:o}={})=>(Eo(s,(l,c)=>{r&&rn(l)?t[c]=_g(l,r):t[c]=l},{allOwnKeys:o}),t),VS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),HS=(t,s,r,o)=>{t.prototype=Object.create(s.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},WS=(t,s,r,o)=>{let l,c,d;const f={};if(s=s||{},t==null)return s;do{for(l=Object.getOwnPropertyNames(t),c=l.length;c-- >0;)d=l[c],(!o||o(d,t,s))&&!f[d]&&(s[d]=t[d],f[d]=!0);t=r!==!1&&pm(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},qS=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const o=t.indexOf(s,r);return o!==-1&&o===r},KS=t=>{if(!t)return null;if(cr(t))return t;let s=t.length;if(!Pg(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},GS=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&pm(Uint8Array)),YS=(t,s)=>{const o=(t&&t[Rl]).call(t);let l;for(;(l=o.next())&&!l.done;){const c=l.value;s.call(t,c[0],c[1])}},JS=(t,s)=>{let r;const o=[];for(;(r=t.exec(s))!==null;)o.push(r);return o},QS=Fn("HTMLFormElement"),XS=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,l){return o.toUpperCase()+l}),cx=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),ZS=Fn("RegExp"),Mg=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),o={};Eo(r,(l,c)=>{let d;(d=s(l,c,t))!==!1&&(o[c]=d||l)}),Object.defineProperties(t,o)},e1=t=>{Mg(t,(s,r)=>{if(rn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(rn(o)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},t1=(t,s)=>{const r={},o=l=>{l.forEach(c=>{r[c]=!0})};return cr(t)?o(t):o(String(t).split(s)),r},n1=()=>{},s1=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function a1(t){return!!(t&&rn(t.append)&&t[kg]==="FormData"&&t[Rl])}const r1=t=>{const s=new Array(10),r=(o,l)=>{if(Co(o)){if(s.indexOf(o)>=0)return;if(So(o))return o;if(!("toJSON"in o)){s[l]=o;const c=cr(o)?[]:{};return Eo(o,(d,f)=>{const x=r(d,l+1);!xo(x)&&(c[f]=x)}),s[l]=void 0,c}}return o};return r(t,0)},o1=Fn("AsyncFunction"),i1=t=>t&&(Co(t)||rn(t))&&rn(t.then)&&rn(t.catch),Dg=((t,s)=>t?setImmediate:s?((r,o)=>(xa.addEventListener("message",({source:l,data:c})=>{l===xa&&c===r&&o.length&&o.shift()()},!1),l=>{o.push(l),xa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",rn(xa.postMessage)),l1=typeof queueMicrotask<"u"?queueMicrotask.bind(xa):typeof process<"u"&&process.nextTick||Dg,c1=t=>t!=null&&rn(t[Rl]),oe={isArray:cr,isArrayBuffer:Rg,isBuffer:So,isFormData:OS,isArrayBufferView:ES,isString:_S,isNumber:Pg,isBoolean:kS,isObject:Co,isPlainObject:al,isEmptyObject:RS,isReadableStream:LS,isRequest:FS,isResponse:$S,isHeaders:zS,isUndefined:xo,isDate:PS,isFile:AS,isBlob:TS,isRegExp:ZS,isFunction:rn,isStream:DS,isURLSearchParams:IS,isTypedArray:GS,isFileList:MS,forEach:Eo,merge:Du,extend:US,trim:BS,stripBOM:VS,inherits:HS,toFlatObject:WS,kindOf:Pl,kindOfTest:Fn,endsWith:qS,toArray:KS,forEachEntry:YS,matchAll:JS,isHTMLForm:QS,hasOwnProperty:cx,hasOwnProp:cx,reduceDescriptors:Mg,freezeMethods:e1,toObjectSet:t1,toCamelCase:XS,noop:n1,toFiniteNumber:s1,findKey:Ag,global:xa,isContextDefined:Tg,isSpecCompliantForm:a1,toJSONObject:r1,isAsyncFn:o1,isThenable:i1,setImmediate:Dg,asap:l1,isIterable:c1};function ze(t,s,r,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),o&&(this.request=o),l&&(this.response=l,this.status=l.status?l.status:null)}oe.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const Og=ze.prototype,Ig={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ig[t]={value:t}});Object.defineProperties(ze,Ig);Object.defineProperty(Og,"isAxiosError",{value:!0});ze.from=(t,s,r,o,l,c)=>{const d=Object.create(Og);return oe.toFlatObject(t,d,function(x){return x!==Error.prototype},f=>f!=="isAxiosError"),ze.call(d,t.message,s,r,o,l),d.cause=t,d.name=t.name,c&&Object.assign(d,c),d};const d1=null;function Ou(t){return oe.isPlainObject(t)||oe.isArray(t)}function Lg(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function dx(t,s,r){return t?t.concat(s).map(function(l,c){return l=Lg(l),!r&&c?"["+l+"]":l}).join(r?".":""):s}function u1(t){return oe.isArray(t)&&!t.some(Ou)}const m1=oe.toFlatObject(oe,{},null,function(s){return/^is[A-Z]/.test(s)});function Tl(t,s,r){if(!oe.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=oe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,N){return!oe.isUndefined(N[y])});const o=r.metaTokens,l=r.visitor||g,c=r.dots,d=r.indexes,x=(r.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(s);if(!oe.isFunction(l))throw new TypeError("visitor must be a function");function p(b){if(b===null)return"";if(oe.isDate(b))return b.toISOString();if(oe.isBoolean(b))return b.toString();if(!x&&oe.isBlob(b))throw new ze("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(b)||oe.isTypedArray(b)?x&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function g(b,y,N){let C=b;if(b&&!N&&typeof b=="object"){if(oe.endsWith(y,"{}"))y=o?y:y.slice(0,-2),b=JSON.stringify(b);else if(oe.isArray(b)&&u1(b)||(oe.isFileList(b)||oe.endsWith(y,"[]"))&&(C=oe.toArray(b)))return y=Lg(y),C.forEach(function(_,R){!(oe.isUndefined(_)||_===null)&&s.append(d===!0?dx([y],R,c):d===null?y:y+"[]",p(_))}),!1}return Ou(b)?!0:(s.append(dx(N,y,c),p(b)),!1)}const h=[],j=Object.assign(m1,{defaultVisitor:g,convertValue:p,isVisitable:Ou});function S(b,y){if(!oe.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(b),oe.forEach(b,function(C,E){(!(oe.isUndefined(C)||C===null)&&l.call(s,C,oe.isString(E)?E.trim():E,y,j))===!0&&S(C,y?y.concat(E):[E])}),h.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return S(t),s}function ux(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return s[o]})}function hm(t,s){this._pairs=[],t&&Tl(t,this,s)}const Fg=hm.prototype;Fg.append=function(s,r){this._pairs.push([s,r])};Fg.toString=function(s){const r=s?function(o){return s.call(this,o,ux)}:ux;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function f1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $g(t,s,r){if(!s)return t;const o=r&&r.encode||f1;oe.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let c;if(l?c=l(s,r):c=oe.isURLSearchParams(s)?s.toString():new hm(s,r).toString(o),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class mx{constructor(){this.handlers=[]}use(s,r,o){return this.handlers.push({fulfilled:s,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){oe.forEach(this.handlers,function(o){o!==null&&s(o)})}}const zg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},p1=typeof URLSearchParams<"u"?URLSearchParams:hm,h1=typeof FormData<"u"?FormData:null,x1=typeof Blob<"u"?Blob:null,g1={isBrowser:!0,classes:{URLSearchParams:p1,FormData:h1,Blob:x1},protocols:["http","https","file","blob","url","data"]},xm=typeof window<"u"&&typeof document<"u",Iu=typeof navigator=="object"&&navigator||void 0,v1=xm&&(!Iu||["ReactNative","NativeScript","NS"].indexOf(Iu.product)<0),y1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",j1=xm&&window.location.href||"http://localhost",w1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xm,hasStandardBrowserEnv:v1,hasStandardBrowserWebWorkerEnv:y1,navigator:Iu,origin:j1},Symbol.toStringTag,{value:"Module"})),Ht={...w1,...g1};function N1(t,s){return Tl(t,new Ht.classes.URLSearchParams,{visitor:function(r,o,l,c){return Ht.isNode&&oe.isBuffer(r)?(this.append(o,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...s})}function b1(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function S1(t){const s={},r=Object.keys(t);let o;const l=r.length;let c;for(o=0;o<l;o++)c=r[o],s[c]=t[c];return s}function Bg(t){function s(r,o,l,c){let d=r[c++];if(d==="__proto__")return!0;const f=Number.isFinite(+d),x=c>=r.length;return d=!d&&oe.isArray(l)?l.length:d,x?(oe.hasOwnProp(l,d)?l[d]=[l[d],o]:l[d]=o,!f):((!l[d]||!oe.isObject(l[d]))&&(l[d]=[]),s(r,o,l[d],c)&&oe.isArray(l[d])&&(l[d]=S1(l[d])),!f)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const r={};return oe.forEachEntry(t,(o,l)=>{s(b1(o),l,r,0)}),r}return null}function C1(t,s,r){if(oe.isString(t))try{return(s||JSON.parse)(t),oe.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const _o={transitional:zg,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const o=r.getContentType()||"",l=o.indexOf("application/json")>-1,c=oe.isObject(s);if(c&&oe.isHTMLForm(s)&&(s=new FormData(s)),oe.isFormData(s))return l?JSON.stringify(Bg(s)):s;if(oe.isArrayBuffer(s)||oe.isBuffer(s)||oe.isStream(s)||oe.isFile(s)||oe.isBlob(s)||oe.isReadableStream(s))return s;if(oe.isArrayBufferView(s))return s.buffer;if(oe.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let f;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return N1(s,this.formSerializer).toString();if((f=oe.isFileList(s))||o.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Tl(f?{"files[]":s}:s,x&&new x,this.formSerializer)}}return c||l?(r.setContentType("application/json",!1),C1(s)):s}],transformResponse:[function(s){const r=this.transitional||_o.transitional,o=r&&r.forcedJSONParsing,l=this.responseType==="json";if(oe.isResponse(s)||oe.isReadableStream(s))return s;if(s&&oe.isString(s)&&(o&&!this.responseType||l)){const d=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(s)}catch(f){if(d)throw f.name==="SyntaxError"?ze.from(f,ze.ERR_BAD_RESPONSE,this,null,this.response):f}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ht.classes.FormData,Blob:Ht.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{_o.headers[t]={}});const E1=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_1=t=>{const s={};let r,o,l;return t&&t.split(`
`).forEach(function(d){l=d.indexOf(":"),r=d.substring(0,l).trim().toLowerCase(),o=d.substring(l+1).trim(),!(!r||s[r]&&E1[r])&&(r==="set-cookie"?s[r]?s[r].push(o):s[r]=[o]:s[r]=s[r]?s[r]+", "+o:o)}),s},fx=Symbol("internals");function io(t){return t&&String(t).trim().toLowerCase()}function rl(t){return t===!1||t==null?t:oe.isArray(t)?t.map(rl):String(t)}function k1(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)s[o[1]]=o[2];return s}const R1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ou(t,s,r,o,l){if(oe.isFunction(o))return o.call(this,s,r);if(l&&(s=r),!!oe.isString(s)){if(oe.isString(o))return s.indexOf(o)!==-1;if(oe.isRegExp(o))return o.test(s)}}function P1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,o)=>r.toUpperCase()+o)}function A1(t,s){const r=oe.toCamelCase(" "+s);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(l,c,d){return this[o].call(this,s,l,c,d)},configurable:!0})})}let on=class{constructor(s){s&&this.set(s)}set(s,r,o){const l=this;function c(f,x,p){const g=io(x);if(!g)throw new Error("header name must be a non-empty string");const h=oe.findKey(l,g);(!h||l[h]===void 0||p===!0||p===void 0&&l[h]!==!1)&&(l[h||x]=rl(f))}const d=(f,x)=>oe.forEach(f,(p,g)=>c(p,g,x));if(oe.isPlainObject(s)||s instanceof this.constructor)d(s,r);else if(oe.isString(s)&&(s=s.trim())&&!R1(s))d(_1(s),r);else if(oe.isObject(s)&&oe.isIterable(s)){let f={},x,p;for(const g of s){if(!oe.isArray(g))throw TypeError("Object iterator must return a key-value pair");f[p=g[0]]=(x=f[p])?oe.isArray(x)?[...x,g[1]]:[x,g[1]]:g[1]}d(f,r)}else s!=null&&c(r,s,o);return this}get(s,r){if(s=io(s),s){const o=oe.findKey(this,s);if(o){const l=this[o];if(!r)return l;if(r===!0)return k1(l);if(oe.isFunction(r))return r.call(this,l,o);if(oe.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=io(s),s){const o=oe.findKey(this,s);return!!(o&&this[o]!==void 0&&(!r||ou(this,this[o],o,r)))}return!1}delete(s,r){const o=this;let l=!1;function c(d){if(d=io(d),d){const f=oe.findKey(o,d);f&&(!r||ou(o,o[f],f,r))&&(delete o[f],l=!0)}}return oe.isArray(s)?s.forEach(c):c(s),l}clear(s){const r=Object.keys(this);let o=r.length,l=!1;for(;o--;){const c=r[o];(!s||ou(this,this[c],c,s,!0))&&(delete this[c],l=!0)}return l}normalize(s){const r=this,o={};return oe.forEach(this,(l,c)=>{const d=oe.findKey(o,c);if(d){r[d]=rl(l),delete r[c];return}const f=s?P1(c):String(c).trim();f!==c&&delete r[c],r[f]=rl(l),o[f]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return oe.forEach(this,(o,l)=>{o!=null&&o!==!1&&(r[l]=s&&oe.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const o=new this(s);return r.forEach(l=>o.set(l)),o}static accessor(s){const o=(this[fx]=this[fx]={accessors:{}}).accessors,l=this.prototype;function c(d){const f=io(d);o[f]||(A1(l,d),o[f]=!0)}return oe.isArray(s)?s.forEach(c):c(s),this}};on.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(on.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(o){this[r]=o}}});oe.freezeMethods(on);function iu(t,s){const r=this||_o,o=s||r,l=on.from(o.headers);let c=o.data;return oe.forEach(t,function(f){c=f.call(r,c,l.normalize(),s?s.status:void 0)}),l.normalize(),c}function Ug(t){return!!(t&&t.__CANCEL__)}function dr(t,s,r){ze.call(this,t??"canceled",ze.ERR_CANCELED,s,r),this.name="CanceledError"}oe.inherits(dr,ze,{__CANCEL__:!0});function Vg(t,s,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):s(new ze("Request failed with status code "+r.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function T1(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function M1(t,s){t=t||10;const r=new Array(t),o=new Array(t);let l=0,c=0,d;return s=s!==void 0?s:1e3,function(x){const p=Date.now(),g=o[c];d||(d=p),r[l]=x,o[l]=p;let h=c,j=0;for(;h!==l;)j+=r[h++],h=h%t;if(l=(l+1)%t,l===c&&(c=(c+1)%t),p-d<s)return;const S=g&&p-g;return S?Math.round(j*1e3/S):void 0}}function D1(t,s){let r=0,o=1e3/s,l,c;const d=(p,g=Date.now())=>{r=g,l=null,c&&(clearTimeout(c),c=null),t(...p)};return[(...p)=>{const g=Date.now(),h=g-r;h>=o?d(p,g):(l=p,c||(c=setTimeout(()=>{c=null,d(l)},o-h)))},()=>l&&d(l)]}const xl=(t,s,r=3)=>{let o=0;const l=M1(50,250);return D1(c=>{const d=c.loaded,f=c.lengthComputable?c.total:void 0,x=d-o,p=l(x),g=d<=f;o=d;const h={loaded:d,total:f,progress:f?d/f:void 0,bytes:x,rate:p||void 0,estimated:p&&f&&g?(f-d)/p:void 0,event:c,lengthComputable:f!=null,[s?"download":"upload"]:!0};t(h)},r)},px=(t,s)=>{const r=t!=null;return[o=>s[0]({lengthComputable:r,total:t,loaded:o}),s[1]]},hx=t=>(...s)=>oe.asap(()=>t(...s)),O1=Ht.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,Ht.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(Ht.origin),Ht.navigator&&/(msie|trident)/i.test(Ht.navigator.userAgent)):()=>!0,I1=Ht.hasStandardBrowserEnv?{write(t,s,r,o,l,c){const d=[t+"="+encodeURIComponent(s)];oe.isNumber(r)&&d.push("expires="+new Date(r).toGMTString()),oe.isString(o)&&d.push("path="+o),oe.isString(l)&&d.push("domain="+l),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function L1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function F1(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Hg(t,s,r){let o=!L1(s);return t&&(o||r==!1)?F1(t,s):s}const xx=t=>t instanceof on?{...t}:t;function va(t,s){s=s||{};const r={};function o(p,g,h,j){return oe.isPlainObject(p)&&oe.isPlainObject(g)?oe.merge.call({caseless:j},p,g):oe.isPlainObject(g)?oe.merge({},g):oe.isArray(g)?g.slice():g}function l(p,g,h,j){if(oe.isUndefined(g)){if(!oe.isUndefined(p))return o(void 0,p,h,j)}else return o(p,g,h,j)}function c(p,g){if(!oe.isUndefined(g))return o(void 0,g)}function d(p,g){if(oe.isUndefined(g)){if(!oe.isUndefined(p))return o(void 0,p)}else return o(void 0,g)}function f(p,g,h){if(h in s)return o(p,g);if(h in t)return o(void 0,p)}const x={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(p,g,h)=>l(xx(p),xx(g),h,!0)};return oe.forEach(Object.keys({...t,...s}),function(g){const h=x[g]||l,j=h(t[g],s[g],g);oe.isUndefined(j)&&h!==f||(r[g]=j)}),r}const Wg=t=>{const s=va({},t);let{data:r,withXSRFToken:o,xsrfHeaderName:l,xsrfCookieName:c,headers:d,auth:f}=s;s.headers=d=on.from(d),s.url=$g(Hg(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&d.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let x;if(oe.isFormData(r)){if(Ht.hasStandardBrowserEnv||Ht.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((x=d.getContentType())!==!1){const[p,...g]=x?x.split(";").map(h=>h.trim()).filter(Boolean):[];d.setContentType([p||"multipart/form-data",...g].join("; "))}}if(Ht.hasStandardBrowserEnv&&(o&&oe.isFunction(o)&&(o=o(s)),o||o!==!1&&O1(s.url))){const p=l&&c&&I1.read(c);p&&d.set(l,p)}return s},$1=typeof XMLHttpRequest<"u",z1=$1&&function(t){return new Promise(function(r,o){const l=Wg(t);let c=l.data;const d=on.from(l.headers).normalize();let{responseType:f,onUploadProgress:x,onDownloadProgress:p}=l,g,h,j,S,b;function y(){S&&S(),b&&b(),l.cancelToken&&l.cancelToken.unsubscribe(g),l.signal&&l.signal.removeEventListener("abort",g)}let N=new XMLHttpRequest;N.open(l.method.toUpperCase(),l.url,!0),N.timeout=l.timeout;function C(){if(!N)return;const _=on.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),k={data:!f||f==="text"||f==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:_,config:t,request:N};Vg(function(O){r(O),y()},function(O){o(O),y()},k),N=null}"onloadend"in N?N.onloadend=C:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(C)},N.onabort=function(){N&&(o(new ze("Request aborted",ze.ECONNABORTED,t,N)),N=null)},N.onerror=function(){o(new ze("Network Error",ze.ERR_NETWORK,t,N)),N=null},N.ontimeout=function(){let R=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const k=l.transitional||zg;l.timeoutErrorMessage&&(R=l.timeoutErrorMessage),o(new ze(R,k.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,t,N)),N=null},c===void 0&&d.setContentType(null),"setRequestHeader"in N&&oe.forEach(d.toJSON(),function(R,k){N.setRequestHeader(k,R)}),oe.isUndefined(l.withCredentials)||(N.withCredentials=!!l.withCredentials),f&&f!=="json"&&(N.responseType=l.responseType),p&&([j,b]=xl(p,!0),N.addEventListener("progress",j)),x&&N.upload&&([h,S]=xl(x),N.upload.addEventListener("progress",h),N.upload.addEventListener("loadend",S)),(l.cancelToken||l.signal)&&(g=_=>{N&&(o(!_||_.type?new dr(null,t,N):_),N.abort(),N=null)},l.cancelToken&&l.cancelToken.subscribe(g),l.signal&&(l.signal.aborted?g():l.signal.addEventListener("abort",g)));const E=T1(l.url);if(E&&Ht.protocols.indexOf(E)===-1){o(new ze("Unsupported protocol "+E+":",ze.ERR_BAD_REQUEST,t));return}N.send(c||null)})},B1=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let o=new AbortController,l;const c=function(p){if(!l){l=!0,f();const g=p instanceof Error?p:this.reason;o.abort(g instanceof ze?g:new dr(g instanceof Error?g.message:g))}};let d=s&&setTimeout(()=>{d=null,c(new ze(`timeout ${s} of ms exceeded`,ze.ETIMEDOUT))},s);const f=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(c):p.removeEventListener("abort",c)}),t=null)};t.forEach(p=>p.addEventListener("abort",c));const{signal:x}=o;return x.unsubscribe=()=>oe.asap(f),x}},U1=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let o=0,l;for(;o<r;)l=o+s,yield t.slice(o,l),o=l},V1=async function*(t,s){for await(const r of H1(t))yield*U1(r,s)},H1=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:o}=await s.read();if(r)break;yield o}}finally{await s.cancel()}},gx=(t,s,r,o)=>{const l=V1(t,s);let c=0,d,f=x=>{d||(d=!0,o&&o(x))};return new ReadableStream({async pull(x){try{const{done:p,value:g}=await l.next();if(p){f(),x.close();return}let h=g.byteLength;if(r){let j=c+=h;r(j)}x.enqueue(new Uint8Array(g))}catch(p){throw f(p),p}},cancel(x){return f(x),l.return()}},{highWaterMark:2})},Ml=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qg=Ml&&typeof ReadableStream=="function",W1=Ml&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Kg=(t,...s)=>{try{return!!t(...s)}catch{return!1}},q1=qg&&Kg(()=>{let t=!1;const s=new Request(Ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),vx=64*1024,Lu=qg&&Kg(()=>oe.isReadableStream(new Response("").body)),gl={stream:Lu&&(t=>t.body)};Ml&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!gl[s]&&(gl[s]=oe.isFunction(t[s])?r=>r[s]():(r,o)=>{throw new ze(`Response type '${s}' is not supported`,ze.ERR_NOT_SUPPORT,o)})})})(new Response);const K1=async t=>{if(t==null)return 0;if(oe.isBlob(t))return t.size;if(oe.isSpecCompliantForm(t))return(await new Request(Ht.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(t)||oe.isArrayBuffer(t))return t.byteLength;if(oe.isURLSearchParams(t)&&(t=t+""),oe.isString(t))return(await W1(t)).byteLength},G1=async(t,s)=>{const r=oe.toFiniteNumber(t.getContentLength());return r??K1(s)},Y1=Ml&&(async t=>{let{url:s,method:r,data:o,signal:l,cancelToken:c,timeout:d,onDownloadProgress:f,onUploadProgress:x,responseType:p,headers:g,withCredentials:h="same-origin",fetchOptions:j}=Wg(t);p=p?(p+"").toLowerCase():"text";let S=B1([l,c&&c.toAbortSignal()],d),b;const y=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let N;try{if(x&&q1&&r!=="get"&&r!=="head"&&(N=await G1(g,o))!==0){let k=new Request(s,{method:"POST",body:o,duplex:"half"}),M;if(oe.isFormData(o)&&(M=k.headers.get("content-type"))&&g.setContentType(M),k.body){const[O,P]=px(N,xl(hx(x)));o=gx(k.body,vx,O,P)}}oe.isString(h)||(h=h?"include":"omit");const C="credentials"in Request.prototype;b=new Request(s,{...j,signal:S,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:o,duplex:"half",credentials:C?h:void 0});let E=await fetch(b,j);const _=Lu&&(p==="stream"||p==="response");if(Lu&&(f||_&&y)){const k={};["status","statusText","headers"].forEach(I=>{k[I]=E[I]});const M=oe.toFiniteNumber(E.headers.get("content-length")),[O,P]=f&&px(M,xl(hx(f),!0))||[];E=new Response(gx(E.body,vx,O,()=>{P&&P(),y&&y()}),k)}p=p||"text";let R=await gl[oe.findKey(gl,p)||"text"](E,t);return!_&&y&&y(),await new Promise((k,M)=>{Vg(k,M,{data:R,headers:on.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:b})})}catch(C){throw y&&y(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,t,b),{cause:C.cause||C}):ze.from(C,C&&C.code,t,b)}}),Fu={http:d1,xhr:z1,fetch:Y1};oe.forEach(Fu,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const yx=t=>`- ${t}`,J1=t=>oe.isFunction(t)||t===null||t===!1,Gg={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:s}=t;let r,o;const l={};for(let c=0;c<s;c++){r=t[c];let d;if(o=r,!J1(r)&&(o=Fu[(d=String(r)).toLowerCase()],o===void 0))throw new ze(`Unknown adapter '${d}'`);if(o)break;l[d||"#"+c]=o}if(!o){const c=Object.entries(l).map(([f,x])=>`adapter ${f} `+(x===!1?"is not supported by the environment":"is not available in the build"));let d=s?c.length>1?`since :
`+c.map(yx).join(`
`):" "+yx(c[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:Fu};function lu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new dr(null,t)}function jx(t){return lu(t),t.headers=on.from(t.headers),t.data=iu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Gg.getAdapter(t.adapter||_o.adapter)(t).then(function(o){return lu(t),o.data=iu.call(t,t.transformResponse,o),o.headers=on.from(o.headers),o},function(o){return Ug(o)||(lu(t),o&&o.response&&(o.response.data=iu.call(t,t.transformResponse,o.response),o.response.headers=on.from(o.response.headers))),Promise.reject(o)})}const Yg="1.11.0",Dl={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Dl[t]=function(o){return typeof o===t||"a"+(s<1?"n ":" ")+t}});const wx={};Dl.transitional=function(s,r,o){function l(c,d){return"[Axios v"+Yg+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,f)=>{if(s===!1)throw new ze(l(d," has been removed"+(r?" in "+r:"")),ze.ERR_DEPRECATED);return r&&!wx[d]&&(wx[d]=!0,console.warn(l(d," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(c,d,f):!0}};Dl.spelling=function(s){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${s}`),!0)};function Q1(t,s,r){if(typeof t!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let l=o.length;for(;l-- >0;){const c=o[l],d=s[c];if(d){const f=t[c],x=f===void 0||d(f,c,t);if(x!==!0)throw new ze("option "+c+" must be "+x,ze.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ze("Unknown option "+c,ze.ERR_BAD_OPTION)}}const ol={assertOptions:Q1,validators:Dl},Wn=ol.validators;let ga=class{constructor(s){this.defaults=s||{},this.interceptors={request:new mx,response:new mx}}async request(s,r){try{return await this._request(s,r)}catch(o){if(o instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const c=l.stack?l.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=va(this.defaults,r);const{transitional:o,paramsSerializer:l,headers:c}=r;o!==void 0&&ol.assertOptions(o,{silentJSONParsing:Wn.transitional(Wn.boolean),forcedJSONParsing:Wn.transitional(Wn.boolean),clarifyTimeoutError:Wn.transitional(Wn.boolean)},!1),l!=null&&(oe.isFunction(l)?r.paramsSerializer={serialize:l}:ol.assertOptions(l,{encode:Wn.function,serialize:Wn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ol.assertOptions(r,{baseUrl:Wn.spelling("baseURL"),withXsrfToken:Wn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=c&&oe.merge(c.common,c[r.method]);c&&oe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete c[b]}),r.headers=on.concat(d,c);const f=[];let x=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(x=x&&y.synchronous,f.unshift(y.fulfilled,y.rejected))});const p=[];this.interceptors.response.forEach(function(y){p.push(y.fulfilled,y.rejected)});let g,h=0,j;if(!x){const b=[jx.bind(this),void 0];for(b.unshift(...f),b.push(...p),j=b.length,g=Promise.resolve(r);h<j;)g=g.then(b[h++],b[h++]);return g}j=f.length;let S=r;for(h=0;h<j;){const b=f[h++],y=f[h++];try{S=b(S)}catch(N){y.call(this,N);break}}try{g=jx.call(this,S)}catch(b){return Promise.reject(b)}for(h=0,j=p.length;h<j;)g=g.then(p[h++],p[h++]);return g}getUri(s){s=va(this.defaults,s);const r=Hg(s.baseURL,s.url,s.allowAbsoluteUrls);return $g(r,s.params,s.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(s){ga.prototype[s]=function(r,o){return this.request(va(o||{},{method:s,url:r,data:(o||{}).data}))}});oe.forEach(["post","put","patch"],function(s){function r(o){return function(c,d,f){return this.request(va(f||{},{method:s,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}ga.prototype[s]=r(),ga.prototype[s+"Form"]=r(!0)});let X1=class Jg{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(c){r=c});const o=this;this.promise.then(l=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](l);o._listeners=null}),this.promise.then=l=>{let c;const d=new Promise(f=>{o.subscribe(f),c=f}).then(l);return d.cancel=function(){o.unsubscribe(c)},d},s(function(c,d,f){o.reason||(o.reason=new dr(c,d,f),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=o=>{s.abort(o)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Jg(function(l){s=l}),cancel:s}}};function Z1(t){return function(r){return t.apply(null,r)}}function eC(t){return oe.isObject(t)&&t.isAxiosError===!0}const $u={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($u).forEach(([t,s])=>{$u[s]=t});function Qg(t){const s=new ga(t),r=_g(ga.prototype.request,s);return oe.extend(r,ga.prototype,s,{allOwnKeys:!0}),oe.extend(r,s,null,{allOwnKeys:!0}),r.create=function(l){return Qg(va(t,l))},r}const Ct=Qg(_o);Ct.Axios=ga;Ct.CanceledError=dr;Ct.CancelToken=X1;Ct.isCancel=Ug;Ct.VERSION=Yg;Ct.toFormData=Tl;Ct.AxiosError=ze;Ct.Cancel=Ct.CanceledError;Ct.all=function(s){return Promise.all(s)};Ct.spread=Z1;Ct.isAxiosError=eC;Ct.mergeConfig=va;Ct.AxiosHeaders=on;Ct.formToJSON=t=>Bg(oe.isHTMLForm(t)?new FormData(t):t);Ct.getAdapter=Gg.getAdapter;Ct.HttpStatusCode=$u;Ct.default=Ct;const{Axios:HT,AxiosError:WT,CanceledError:qT,isCancel:KT,CancelToken:GT,VERSION:YT,all:JT,Cancel:QT,isAxiosError:XT,spread:ZT,toFormData:e4,AxiosHeaders:t4,HttpStatusCode:n4,formToJSON:s4,getAdapter:a4,mergeConfig:r4}=Ct,Xg="http://127.0.0.1:8000",tC="/api";"true".toLowerCase();"false".toLowerCase();const nC=Xg,sC=(t="")=>t.replace(/^\/+|\/+$/g,""),aC=(t="")=>t.replace(/^\/+/,""),rC=(t="")=>/^https?:\/\//i.test(t),oC=(t="")=>{const s="/"+sC(tC);if(!t)return s+"/";if(t.startsWith(s+"/")||t===s||t.startsWith(s+"?"))return t;const[r,o=""]=String(t).split("?"),l=/\/$/.test(r||""),c=aC(r||"");let d=`${s}/${c||""}`;return(l||!c)&&(d+="/"),o&&(d+=`?${o}`),d=d.replace(/\/{2,}/g,"/"),d},xe=Ct.create({baseURL:nC,headers:{"Content-Type":"application/json"},timeout:15e3});xe.interceptors.request.use(t=>{const s=t.url||"";if(!rC(s)){const p=oC(s);t.baseURL=Xg.replace(/\/+$/g,""),t.url=p.startsWith("/")?p:"/"+p}const r="/auth/login/",o="/auth/register/",l="/auth/forgot-password/",c="/auth/google/";if(((p="")=>[r,o,l,c].some(g=>p.includes(g)))(t.url||""))return t;const f=localStorage.getItem("access_token");let x=localStorage.getItem("auth_scheme")||"Token";return f?t.headers.Authorization=`${x} ${f}`:delete t.headers.Authorization,t});xe.interceptors.response.use(t=>t,t=>Promise.reject(t));const mt={async login(t){const s="/auth/login/",r={...t,username:t.username||t.email},o=await xe.post(s,r),{access:l,refresh:c,access_token:d,refresh_token:f,token:x,key:p,user:g}=o.data,h=l||d||x||p,j=c||f;if(l||d)localStorage.setItem("auth_scheme","Bearer");else if(x||p){const S=x||p,b=typeof S=="string"&&S.includes(".");localStorage.setItem("auth_scheme",b?"Bearer":"Token")}if(h&&localStorage.setItem("access_token",h),j&&localStorage.setItem("refresh_token",j),g!==void 0)try{g&&typeof g=="object"?localStorage.setItem("user",JSON.stringify(g)):localStorage.removeItem("user")}catch{}if(!g)try{const S=await Gi();S&&(localStorage.setItem("user",JSON.stringify(S)),o.data.user=S)}catch{}return o.data},async register(t,s={}){var y,N;const o=await xe.post("/auth/register/",t),{access:l,refresh:c,access_token:d,refresh_token:f,token:x,user:p}=o.data,g=l||d||x,h=c||f;if(l||d)localStorage.setItem("auth_scheme","Bearer");else if(x){const C=typeof x=="string"&&x.includes(".");localStorage.setItem("auth_scheme",C?"Bearer":"Token")}if(g&&localStorage.setItem("access_token",g),h&&localStorage.setItem("refresh_token",h),p!==void 0)localStorage.setItem("user",JSON.stringify(p));else try{const C=await Gi();C&&localStorage.setItem("user",JSON.stringify(C))}catch{}const j={...o.data};let S=null;const b=s==null?void 0:s.medicoData;if(b&&typeof b=="object")try{if(!!!localStorage.getItem("access_token")&&(t!=null&&t.password)){if(t!=null&&t.username)try{await mt.login({username:t.username,password:t.password})}catch{}if(!localStorage.getItem("access_token")&&(t!=null&&t.email))try{await mt.login({username:t.email,email:t.email,password:t.password})}catch{}}const E=await Eg(()=>Promise.resolve().then(()=>z0),void 0),_=[t.first_name||"",t.last_name||""].filter(Boolean).join(" ")||t.username||"",R={...b,nome:b.nome||_,nome_completo:b.nome_completo||_,email:b.email||t.email,cpf:b.cpf||t.cpf,tipo:"medico"};S={success:!0,data:await E.solicitacaoService.criarSolicitacaoMedico(R)}}catch(C){console.error("[authService.register] criarSolicitacaoMedico falhou:",((y=C==null?void 0:C.response)==null?void 0:y.data)||C),S={success:!1,error:C&&(((N=C.response)==null?void 0:N.data)||C.message)||String(C)}}return S&&(j.medicoApplication=S),j},async logout(){try{await xe.post("/auth/logout/")}finally{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),localStorage.removeItem("auth_scheme");try{const t=[];for(let s=0;s<localStorage.length;s++){const r=localStorage.key(s);r&&r.startsWith("medicoApplicationStatus")&&t.push(r)}t.forEach(s=>localStorage.removeItem(s))}catch{}}},async forgotPassword(t){return(await xe.post("/auth/forgot-password/",{email:t})).data},getCurrentUser(){const t=localStorage.getItem("user");if(!t||t==="undefined"||t==="null")return null;try{return JSON.parse(t)}catch{return null}},async refreshCurrentUser(){try{const t=await Gi();return t?(localStorage.setItem("user",JSON.stringify(t)),t):(localStorage.removeItem("user"),null)}catch{return null}},isAuthenticated(){try{return!!localStorage.getItem("access_token")}catch{return!1}},async loginWithGoogle(t){const s="/auth/google/",r={credential:t,id_token:t},o=await xe.post(s,r),{access:l,refresh:c,access_token:d,refresh_token:f,token:x,key:p,user:g}=o.data,h=l||d||x||p,j=c||f;if(l||d)localStorage.setItem("auth_scheme","Bearer");else if(x||p){const S=x||p,b=typeof S=="string"&&S.includes(".");localStorage.setItem("auth_scheme",b?"Bearer":"Token")}if(h&&localStorage.setItem("access_token",h),j&&localStorage.setItem("refresh_token",j),g!==void 0)try{g&&typeof g=="object"?localStorage.setItem("user",JSON.stringify(g)):localStorage.removeItem("user")}catch{}else try{const S=await Gi();S&&localStorage.setItem("user",JSON.stringify(S)),o.data.user=S||null}catch{}return o.data}};async function Gi(){var l;const t="".trim(),s=[];t&&s.push(t),s.push("/auth/users/me/","/users/me/","/auth/user/","/auth/me/","/me/");const r=new Set,o=s.filter(c=>{const d=String(c).replace(/\/+$/g,"");return r.has(d)?!1:(r.add(d),!0)});for(const c of o)try{return(await xe.get(c)).data}catch(d){if(((l=d==null?void 0:d.response)==null?void 0:l.status)===404)continue}return null}const Zg=m.createContext({});function iC({children:t}){const[s,r]=m.useState(null),[o,l]=m.useState(!0);m.useEffect(()=>{(()=>{const h=mt.getCurrentUser();r(h),l(!1)})()},[]);const c=async g=>{const h=await mt.login(g);if(h!=null&&h.user)r(h.user);else{const j=mt.getCurrentUser();r(j)}return h},d=async()=>{await mt.logout(),r(null)},f=async g=>{const h=await mt.register(g);if(h!=null&&h.user)r(h.user);else{const j=mt.getCurrentUser();j&&r(j)}return h},x=async g=>{const h=await mt.loginWithGoogle(g);return r(h.user),h},p={user:s,login:c,logout:d,register:f,loading:o,isAuthenticated:!!s||mt.isAuthenticated(),loginWithGoogle:x};return e.jsx(Zg.Provider,{value:p,children:t})}const Xs=()=>{const t=m.useContext(Zg);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},ev=m.createContext(void 0);function lC({children:t}){const[s,r]=m.useState("paciente"),[o,l]=m.useState(!1),[c,d]=m.useState({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"}),f=()=>{c.isMedico&&c.medicoStatus==="approved"&&r(s==="medico"?"paciente":"medico")},x=(g="paciente",h={})=>{l(!0),r(g),d(h)},p=()=>{l(!1),r("paciente"),d({isMedico:!1,isAdmin:!1,isClinica:!1,medicoStatus:"none"})};return e.jsx(ev.Provider,{value:{activeRole:s,setActiveRole:r,toggleRole:f,isAuthenticated:o,userPermissions:c,setUserPermissions:d,login:x,logout:p},children:t})}function Ca(){const t=m.useContext(ev);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t}function Nx(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Ol(...t){return s=>{let r=!1;const o=t.map(l=>{const c=Nx(l,s);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let l=0;l<o.length;l++){const c=o[l];typeof c=="function"?c():Nx(t[l],null)}}}}function nt(...t){return m.useCallback(Ol(...t),t)}function ya(t){const s=cC(t),r=m.forwardRef((o,l)=>{const{children:c,...d}=o,f=m.Children.toArray(c),x=f.find(uC);if(x){const p=x.props.children,g=f.map(h=>h===x?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:h);return e.jsx(s,{...d,ref:l,children:m.isValidElement(p)?m.cloneElement(p,void 0,g):null})}return e.jsx(s,{...d,ref:l,children:c})});return r.displayName=`${t}.Slot`,r}var ur=ya("Slot");function cC(t){const s=m.forwardRef((r,o)=>{const{children:l,...c}=r;if(m.isValidElement(l)){const d=fC(l),f=mC(c,l.props);return l.type!==m.Fragment&&(f.ref=o?Ol(o,d):d),m.cloneElement(l,f)}return m.Children.count(l)>1?m.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var tv=Symbol("radix.slottable");function dC(t){const s=({children:r})=>e.jsx(e.Fragment,{children:r});return s.displayName=`${t}.Slottable`,s.__radixId=tv,s}function uC(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tv}function mC(t,s){const r={...s};for(const o in s){const l=t[o],c=s[o];/^on[A-Z]/.test(o)?l&&c?r[o]=(...f)=>{const x=c(...f);return l(...f),x}:l&&(r[o]=l):o==="style"?r[o]={...l,...c}:o==="className"&&(r[o]=[l,c].filter(Boolean).join(" "))}return{...t,...r}}function fC(t){var o,l;let s=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function nv(t){var s,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(s=0;s<l;s++)t[s]&&(r=nv(t[s]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function pC(){for(var t,s,r=0,o="",l=arguments.length;r<l;r++)(t=arguments[r])&&(s=nv(t))&&(o&&(o+=" "),o+=s);return o}const bx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Sx=pC,Il=(t,s)=>r=>{var o;if((s==null?void 0:s.variants)==null)return Sx(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:l,defaultVariants:c}=s,d=Object.keys(l).map(p=>{const g=r==null?void 0:r[p],h=c==null?void 0:c[p];if(g===null)return null;const j=bx(g)||bx(h);return l[p][j]}),f=r&&Object.entries(r).reduce((p,g)=>{let[h,j]=g;return j===void 0||(p[h]=j),p},{}),x=s==null||(o=s.compoundVariants)===null||o===void 0?void 0:o.reduce((p,g)=>{let{class:h,className:j,...S}=g;return Object.entries(S).every(b=>{let[y,N]=b;return Array.isArray(N)?N.includes({...c,...f}[y]):{...c,...f}[y]===N})?[...p,h,j]:p},[]);return Sx(t,d,x,r==null?void 0:r.class,r==null?void 0:r.className)};var hC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ae=(t,s)=>{const r=m.forwardRef(({color:o="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:f,...x},p)=>m.createElement("svg",{ref:p,...hC,width:l,height:l,stroke:o,strokeWidth:d?Number(c)*24/Number(l):c,className:`lucide lucide-${xC(t)}`,...x},[...s.map(([g,h])=>m.createElement(g,h)),...(Array.isArray(f)?f:[f])||[]]));return r.displayName=`${t}`,r},gC=Ae("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),vl=Ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),mo=Ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),fo=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Cx=Ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),vC=Ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Ks=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),yC=Ae("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Ve=Ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),sv=Ae("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Gs=Ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),jC=Ae("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),av=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),rv=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ov=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Tn=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),wC=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),NC=Ae("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),bC=Ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Mn=Ae("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),ft=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),SC=Ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),qs=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ex=Ae("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),sr=Ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jt=Ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),gm=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),CC=Ae("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),EC=Ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),iv=Ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),_C=Ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),cu=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),kC=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),RC=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ko=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),vm=Ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),PC=Ae("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),AC=Ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),TC=Ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),_x=Ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),MC=Ae("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),DC=Ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Ro=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ym=Ae("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),jm=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),lv=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),cv=Ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),On=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),lo=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),il=Ae("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),jt=Ae("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),kx=Ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),OC=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),dv=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),du=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),IC=Ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),It=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Yt=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),xs=Ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),wm=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function LC(){const[t,s]=m.useState(!1);return m.useEffect(()=>{const r=()=>{s(window.innerWidth<768)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}function ge(...t){return t.filter(Boolean).join(" ")}function FC(t){return t?t.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):""}const se=m.forwardRef(({className:t,variant:s="default",size:r="default",asChild:o=!1,...l},c)=>{const d=o?"slot":"button",f={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},x={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return e.jsx(d,{className:ge("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",f[s],x[r],t),ref:c,...l})});se.displayName="Button";const fe=m.forwardRef(({className:t,type:s,...r},o)=>e.jsx("input",{type:s,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...r}));fe.displayName="Input";var $C=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=$C.reduce((t,s)=>{const r=ya(`Primitive.${s}`),o=m.forwardRef((l,c)=>{const{asChild:d,...f}=l,x=d?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(x,{...f,ref:c})});return o.displayName=`Primitive.${s}`,{...t,[s]:o}},{});function Nm(t,s){t&&or.flushSync(()=>t.dispatchEvent(s))}var zC="Separator",Rx="horizontal",BC=["horizontal","vertical"],uv=m.forwardRef((t,s)=>{const{decorative:r,orientation:o=Rx,...l}=t,c=UC(o)?o:Rx,f=r?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return e.jsx(Fe.div,{"data-orientation":c,...f,...l,ref:s})});uv.displayName=zC;function UC(t){return BC.includes(t)}var mv=uv;const Dn=m.forwardRef(({className:t,orientation:s="horizontal",decorative:r=!0,...o},l)=>e.jsx(mv,{ref:l,decorative:r,orientation:s,className:ge("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...o}));Dn.displayName=mv.displayName;function be(t,s,{checkForDefaultPrevented:r=!0}={}){return function(l){if(t==null||t(l),r===!1||!l.defaultPrevented)return s==null?void 0:s(l)}}function VC(t,s){const r=m.createContext(s),o=c=>{const{children:d,...f}=c,x=m.useMemo(()=>f,Object.values(f));return e.jsx(r.Provider,{value:x,children:d})};o.displayName=t+"Provider";function l(c){const d=m.useContext(r);if(d)return d;if(s!==void 0)return s;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[o,l]}function Xn(t,s=[]){let r=[];function o(c,d){const f=m.createContext(d),x=r.length;r=[...r,d];const p=h=>{var C;const{scope:j,children:S,...b}=h,y=((C=j==null?void 0:j[t])==null?void 0:C[x])||f,N=m.useMemo(()=>b,Object.values(b));return e.jsx(y.Provider,{value:N,children:S})};p.displayName=c+"Provider";function g(h,j){var y;const S=((y=j==null?void 0:j[t])==null?void 0:y[x])||f,b=m.useContext(S);if(b)return b;if(d!==void 0)return d;throw new Error(`\`${h}\` must be used within \`${c}\``)}return[p,g]}const l=()=>{const c=r.map(d=>m.createContext(d));return function(f){const x=(f==null?void 0:f[t])||c;return m.useMemo(()=>({[`__scope${t}`]:{...f,[t]:x}}),[f,x])}};return l.scopeName=t,[o,HC(l,...s)]}function HC(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const o=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const d=o.reduce((f,{useScope:x,scopeName:p})=>{const h=x(c)[`__scope${p}`];return{...f,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return r.scopeName=s.scopeName,r}var Rt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},WC=cm[" useId ".trim().toString()]||(()=>{}),qC=0;function Gn(t){const[s,r]=m.useState(WC());return Rt(()=>{r(o=>o??String(qC++))},[t]),t||(s?`radix-${s}`:"")}var KC=cm[" useInsertionEffect ".trim().toString()]||Rt;function ja({prop:t,defaultProp:s,onChange:r=()=>{},caller:o}){const[l,c,d]=GC({defaultProp:s,onChange:r}),f=t!==void 0,x=f?t:l;{const g=m.useRef(t!==void 0);m.useEffect(()=>{const h=g.current;h!==f&&console.warn(`${o} is changing from ${h?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,o])}const p=m.useCallback(g=>{var h;if(f){const j=YC(g)?g(t):g;j!==t&&((h=d.current)==null||h.call(d,j))}else c(g)},[f,t,c,d]);return[x,p]}function GC({defaultProp:t,onChange:s}){const[r,o]=m.useState(t),l=m.useRef(r),c=m.useRef(s);return KC(()=>{c.current=s},[s]),m.useEffect(()=>{var d;l.current!==r&&((d=c.current)==null||d.call(c,r),l.current=r)},[r,l]),[r,o,c]}function YC(t){return typeof t=="function"}function Qt(t){const s=m.useRef(t);return m.useEffect(()=>{s.current=t}),m.useMemo(()=>(...r)=>{var o;return(o=s.current)==null?void 0:o.call(s,...r)},[])}function JC(t,s=globalThis==null?void 0:globalThis.document){const r=Qt(t);m.useEffect(()=>{const o=l=>{l.key==="Escape"&&r(l)};return s.addEventListener("keydown",o,{capture:!0}),()=>s.removeEventListener("keydown",o,{capture:!0})},[r,s])}var QC="DismissableLayer",zu="dismissableLayer.update",XC="dismissableLayer.pointerDownOutside",ZC="dismissableLayer.focusOutside",Px,fv=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mr=m.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,onDismiss:f,...x}=t,p=m.useContext(fv),[g,h]=m.useState(null),j=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=m.useState({}),b=nt(s,O=>h(O)),y=Array.from(p.layers),[N]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=y.indexOf(N),E=g?y.indexOf(g):-1,_=p.layersWithOutsidePointerEventsDisabled.size>0,R=E>=C,k=t2(O=>{const P=O.target,I=[...p.branches].some(D=>D.contains(P));!R||I||(l==null||l(O),d==null||d(O),O.defaultPrevented||f==null||f())},j),M=n2(O=>{const P=O.target;[...p.branches].some(D=>D.contains(P))||(c==null||c(O),d==null||d(O),O.defaultPrevented||f==null||f())},j);return JC(O=>{E===p.layers.size-1&&(o==null||o(O),!O.defaultPrevented&&f&&(O.preventDefault(),f()))},j),m.useEffect(()=>{if(g)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Px=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Ax(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(j.body.style.pointerEvents=Px)}},[g,j,r,p]),m.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Ax())},[g,p]),m.useEffect(()=>{const O=()=>S({});return document.addEventListener(zu,O),()=>document.removeEventListener(zu,O)},[]),e.jsx(Fe.div,{...x,ref:b,style:{pointerEvents:_?R?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,M.onFocusCapture),onBlurCapture:be(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,k.onPointerDownCapture)})});mr.displayName=QC;var e2="DismissableLayerBranch",pv=m.forwardRef((t,s)=>{const r=m.useContext(fv),o=m.useRef(null),l=nt(s,o);return m.useEffect(()=>{const c=o.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),e.jsx(Fe.div,{...t,ref:l})});pv.displayName=e2;function t2(t,s=globalThis==null?void 0:globalThis.document){const r=Qt(t),o=m.useRef(!1),l=m.useRef(()=>{});return m.useEffect(()=>{const c=f=>{if(f.target&&!o.current){let x=function(){hv(XC,r,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(s.removeEventListener("click",l.current),l.current=x,s.addEventListener("click",l.current,{once:!0})):x()}else s.removeEventListener("click",l.current);o.current=!1},d=window.setTimeout(()=>{s.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),s.removeEventListener("pointerdown",c),s.removeEventListener("click",l.current)}},[s,r]),{onPointerDownCapture:()=>o.current=!0}}function n2(t,s=globalThis==null?void 0:globalThis.document){const r=Qt(t),o=m.useRef(!1);return m.useEffect(()=>{const l=c=>{c.target&&!o.current&&hv(ZC,r,{originalEvent:c},{discrete:!1})};return s.addEventListener("focusin",l),()=>s.removeEventListener("focusin",l)},[s,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Ax(){const t=new CustomEvent(zu);document.dispatchEvent(t)}function hv(t,s,r,{discrete:o}){const l=r.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&l.addEventListener(t,s,{once:!0}),o?Nm(l,c):l.dispatchEvent(c)}var s2=mr,a2=pv,uu="focusScope.autoFocusOnMount",mu="focusScope.autoFocusOnUnmount",Tx={bubbles:!1,cancelable:!0},r2="FocusScope",Ll=m.forwardRef((t,s)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...d}=t,[f,x]=m.useState(null),p=Qt(l),g=Qt(c),h=m.useRef(null),j=nt(s,y=>x(y)),S=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(o){let y=function(_){if(S.paused||!f)return;const R=_.target;f.contains(R)?h.current=R:Us(h.current,{select:!0})},N=function(_){if(S.paused||!f)return;const R=_.relatedTarget;R!==null&&(f.contains(R)||Us(h.current,{select:!0}))},C=function(_){if(document.activeElement===document.body)for(const k of _)k.removedNodes.length>0&&Us(f)};document.addEventListener("focusin",y),document.addEventListener("focusout",N);const E=new MutationObserver(C);return f&&E.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",N),E.disconnect()}}},[o,f,S.paused]),m.useEffect(()=>{if(f){Dx.add(S);const y=document.activeElement;if(!f.contains(y)){const C=new CustomEvent(uu,Tx);f.addEventListener(uu,p),f.dispatchEvent(C),C.defaultPrevented||(o2(u2(xv(f)),{select:!0}),document.activeElement===y&&Us(f))}return()=>{f.removeEventListener(uu,p),setTimeout(()=>{const C=new CustomEvent(mu,Tx);f.addEventListener(mu,g),f.dispatchEvent(C),C.defaultPrevented||Us(y??document.body,{select:!0}),f.removeEventListener(mu,g),Dx.remove(S)},0)}}},[f,p,g,S]);const b=m.useCallback(y=>{if(!r&&!o||S.paused)return;const N=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,C=document.activeElement;if(N&&C){const E=y.currentTarget,[_,R]=i2(E);_&&R?!y.shiftKey&&C===R?(y.preventDefault(),r&&Us(_,{select:!0})):y.shiftKey&&C===_&&(y.preventDefault(),r&&Us(R,{select:!0})):C===E&&y.preventDefault()}},[r,o,S.paused]);return e.jsx(Fe.div,{tabIndex:-1,...d,ref:j,onKeyDown:b})});Ll.displayName=r2;function o2(t,{select:s=!1}={}){const r=document.activeElement;for(const o of t)if(Us(o,{select:s}),document.activeElement!==r)return}function i2(t){const s=xv(t),r=Mx(s,t),o=Mx(s.reverse(),t);return[r,o]}function xv(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Mx(t,s){for(const r of t)if(!l2(r,{upTo:s}))return r}function l2(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function c2(t){return t instanceof HTMLInputElement&&"select"in t}function Us(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&c2(t)&&s&&t.select()}}var Dx=d2();function d2(){let t=[];return{add(s){const r=t[0];s!==r&&(r==null||r.pause()),t=Ox(t,s),t.unshift(s)},remove(s){var r;t=Ox(t,s),(r=t[0])==null||r.resume()}}}function Ox(t,s){const r=[...t],o=r.indexOf(s);return o!==-1&&r.splice(o,1),r}function u2(t){return t.filter(s=>s.tagName!=="A")}var m2="Portal",Po=m.forwardRef((t,s)=>{var f;const{container:r,...o}=t,[l,c]=m.useState(!1);Rt(()=>c(!0),[]);const d=r||l&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return d?gb.createPortal(e.jsx(Fe.div,{...o,ref:s}),d):null});Po.displayName=m2;function f2(t,s){return m.useReducer((r,o)=>s[r][o]??r,t)}var Zn=t=>{const{present:s,children:r}=t,o=p2(s),l=typeof r=="function"?r({present:o.isPresent}):m.Children.only(r),c=nt(o.ref,h2(l));return typeof r=="function"||o.isPresent?m.cloneElement(l,{ref:c}):null};Zn.displayName="Presence";function p2(t){const[s,r]=m.useState(),o=m.useRef(null),l=m.useRef(t),c=m.useRef("none"),d=t?"mounted":"unmounted",[f,x]=f2(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const p=Yi(o.current);c.current=f==="mounted"?p:"none"},[f]),Rt(()=>{const p=o.current,g=l.current;if(g!==t){const j=c.current,S=Yi(p);t?x("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?x("UNMOUNT"):x(g&&j!==S?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,x]),Rt(()=>{if(s){let p;const g=s.ownerDocument.defaultView??window,h=S=>{const y=Yi(o.current).includes(CSS.escape(S.animationName));if(S.target===s&&y&&(x("ANIMATION_END"),!l.current)){const N=s.style.animationFillMode;s.style.animationFillMode="forwards",p=g.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=N)})}},j=S=>{S.target===s&&(c.current=Yi(o.current))};return s.addEventListener("animationstart",j),s.addEventListener("animationcancel",h),s.addEventListener("animationend",h),()=>{g.clearTimeout(p),s.removeEventListener("animationstart",j),s.removeEventListener("animationcancel",h),s.removeEventListener("animationend",h)}}else x("ANIMATION_END")},[s,x]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:m.useCallback(p=>{o.current=p?getComputedStyle(p):null,r(p)},[])}}function Yi(t){return(t==null?void 0:t.animationName)||"none"}function h2(t){var o,l;let s=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var fu=0;function bm(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ix()),document.body.insertAdjacentElement("beforeend",t[1]??Ix()),fu++,()=>{fu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),fu--}},[])}function Ix(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qn=function(){return qn=Object.assign||function(s){for(var r,o=1,l=arguments.length;o<l;o++){r=arguments[o];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(s[c]=r[c])}return s},qn.apply(this,arguments)};function gv(t,s){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&s.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(t);l<o.length;l++)s.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(r[o[l]]=t[o[l]]);return r}function x2(t,s,r){if(r||arguments.length===2)for(var o=0,l=s.length,c;o<l;o++)(c||!(o in s))&&(c||(c=Array.prototype.slice.call(s,0,o)),c[o]=s[o]);return t.concat(c||Array.prototype.slice.call(s))}var ll="right-scroll-bar-position",cl="width-before-scroll-bar",g2="with-scroll-bars-hidden",v2="--removed-body-scroll-bar-size";function pu(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function y2(t,s){var r=m.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(o){var l=r.value;l!==o&&(r.value=o,r.callback(o,l))}}}})[0];return r.callback=s,r.facade}var j2=typeof window<"u"?m.useLayoutEffect:m.useEffect,Lx=new WeakMap;function w2(t,s){var r=y2(null,function(o){return t.forEach(function(l){return pu(l,o)})});return j2(function(){var o=Lx.get(r);if(o){var l=new Set(o),c=new Set(t),d=r.current;l.forEach(function(f){c.has(f)||pu(f,null)}),c.forEach(function(f){l.has(f)||pu(f,d)})}Lx.set(r,t)},[t]),r}function N2(t){return t}function b2(t,s){s===void 0&&(s=N2);var r=[],o=!1,l={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(c){var d=s(c,o);return r.push(d),function(){r=r.filter(function(f){return f!==d})}},assignSyncMedium:function(c){for(o=!0;r.length;){var d=r;r=[],d.forEach(c)}r={push:function(f){return c(f)},filter:function(){return r}}},assignMedium:function(c){o=!0;var d=[];if(r.length){var f=r;r=[],f.forEach(c),d=r}var x=function(){var g=d;d=[],g.forEach(c)},p=function(){return Promise.resolve().then(x)};p(),r={push:function(g){d.push(g),p()},filter:function(g){return d=d.filter(g),r}}}};return l}function S2(t){t===void 0&&(t={});var s=b2(null);return s.options=qn({async:!0,ssr:!1},t),s}var vv=function(t){var s=t.sideCar,r=gv(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=s.read();if(!o)throw new Error("Sidecar medium not found");return m.createElement(o,qn({},r))};vv.isSideCarExport=!0;function C2(t,s){return t.useMedium(s),vv}var yv=S2(),hu=function(){},Fl=m.forwardRef(function(t,s){var r=m.useRef(null),o=m.useState({onScrollCapture:hu,onWheelCapture:hu,onTouchMoveCapture:hu}),l=o[0],c=o[1],d=t.forwardProps,f=t.children,x=t.className,p=t.removeScrollBar,g=t.enabled,h=t.shards,j=t.sideCar,S=t.noRelative,b=t.noIsolation,y=t.inert,N=t.allowPinchZoom,C=t.as,E=C===void 0?"div":C,_=t.gapMode,R=gv(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=j,M=w2([r,s]),O=qn(qn({},R),l);return m.createElement(m.Fragment,null,g&&m.createElement(k,{sideCar:yv,removeScrollBar:p,shards:h,noRelative:S,noIsolation:b,inert:y,setCallbacks:c,allowPinchZoom:!!N,lockRef:r,gapMode:_}),d?m.cloneElement(m.Children.only(f),qn(qn({},O),{ref:M})):m.createElement(E,qn({},O,{className:x,ref:M}),f))});Fl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fl.classNames={fullWidth:cl,zeroRight:ll};var E2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _2(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=E2();return s&&t.setAttribute("nonce",s),t}function k2(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function R2(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var P2=function(){var t=0,s=null;return{add:function(r){t==0&&(s=_2())&&(k2(s,r),R2(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},A2=function(){var t=P2();return function(s,r){m.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&r])}},jv=function(){var t=A2(),s=function(r){var o=r.styles,l=r.dynamic;return t(o,l),null};return s},T2={left:0,top:0,right:0,gap:0},xu=function(t){return parseInt(t||"",10)||0},M2=function(t){var s=window.getComputedStyle(document.body),r=s[t==="padding"?"paddingLeft":"marginLeft"],o=s[t==="padding"?"paddingTop":"marginTop"],l=s[t==="padding"?"paddingRight":"marginRight"];return[xu(r),xu(o),xu(l)]},D2=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return T2;var s=M2(t),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,o-r+s[2]-s[0])}},O2=jv(),tr="data-scroll-locked",I2=function(t,s,r,o){var l=t.left,c=t.top,d=t.right,f=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(g2,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(f,"px ").concat(o,`;
  }
  body[`).concat(tr,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ll,` {
    right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(cl,` {
    margin-right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(ll," .").concat(ll,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(cl," .").concat(cl,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(tr,`] {
    `).concat(v2,": ").concat(f,`px;
  }
`)},Fx=function(){var t=parseInt(document.body.getAttribute(tr)||"0",10);return isFinite(t)?t:0},L2=function(){m.useEffect(function(){return document.body.setAttribute(tr,(Fx()+1).toString()),function(){var t=Fx()-1;t<=0?document.body.removeAttribute(tr):document.body.setAttribute(tr,t.toString())}},[])},F2=function(t){var s=t.noRelative,r=t.noImportant,o=t.gapMode,l=o===void 0?"margin":o;L2();var c=m.useMemo(function(){return D2(l)},[l]);return m.createElement(O2,{styles:I2(c,!s,l,r?"":"!important")})},Bu=!1;if(typeof window<"u")try{var Ji=Object.defineProperty({},"passive",{get:function(){return Bu=!0,!0}});window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{Bu=!1}var Xa=Bu?{passive:!1}:!1,$2=function(t){return t.tagName==="TEXTAREA"},wv=function(t,s){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!$2(t)&&r[s]==="visible")},z2=function(t){return wv(t,"overflowY")},B2=function(t){return wv(t,"overflowX")},$x=function(t,s){var r=s.ownerDocument,o=s;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var l=Nv(t,o);if(l){var c=bv(t,o),d=c[1],f=c[2];if(d>f)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},U2=function(t){var s=t.scrollTop,r=t.scrollHeight,o=t.clientHeight;return[s,r,o]},V2=function(t){var s=t.scrollLeft,r=t.scrollWidth,o=t.clientWidth;return[s,r,o]},Nv=function(t,s){return t==="v"?z2(s):B2(s)},bv=function(t,s){return t==="v"?U2(s):V2(s)},H2=function(t,s){return t==="h"&&s==="rtl"?-1:1},W2=function(t,s,r,o,l){var c=H2(t,window.getComputedStyle(s).direction),d=c*o,f=r.target,x=s.contains(f),p=!1,g=d>0,h=0,j=0;do{if(!f)break;var S=bv(t,f),b=S[0],y=S[1],N=S[2],C=y-N-c*b;(b||C)&&Nv(t,f)&&(h+=C,j+=b);var E=f.parentNode;f=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!x&&f!==document.body||x&&(s.contains(f)||s===f));return(g&&Math.abs(h)<1||!g&&Math.abs(j)<1)&&(p=!0),p},Qi=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zx=function(t){return[t.deltaX,t.deltaY]},Bx=function(t){return t&&"current"in t?t.current:t},q2=function(t,s){return t[0]===s[0]&&t[1]===s[1]},K2=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},G2=0,Za=[];function Y2(t){var s=m.useRef([]),r=m.useRef([0,0]),o=m.useRef(),l=m.useState(G2++)[0],c=m.useState(jv)[0],d=m.useRef(t);m.useEffect(function(){d.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var y=x2([t.lockRef.current],(t.shards||[]).map(Bx),!0).filter(Boolean);return y.forEach(function(N){return N.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),y.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var f=m.useCallback(function(y,N){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!d.current.allowPinchZoom;var C=Qi(y),E=r.current,_="deltaX"in y?y.deltaX:E[0]-C[0],R="deltaY"in y?y.deltaY:E[1]-C[1],k,M=y.target,O=Math.abs(_)>Math.abs(R)?"h":"v";if("touches"in y&&O==="h"&&M.type==="range")return!1;var P=$x(O,M);if(!P)return!0;if(P?k=O:(k=O==="v"?"h":"v",P=$x(O,M)),!P)return!1;if(!o.current&&"changedTouches"in y&&(_||R)&&(o.current=k),!k)return!0;var I=o.current||k;return W2(I,N,y,I==="h"?_:R)},[]),x=m.useCallback(function(y){var N=y;if(!(!Za.length||Za[Za.length-1]!==c)){var C="deltaY"in N?zx(N):Qi(N),E=s.current.filter(function(k){return k.name===N.type&&(k.target===N.target||N.target===k.shadowParent)&&q2(k.delta,C)})[0];if(E&&E.should){N.cancelable&&N.preventDefault();return}if(!E){var _=(d.current.shards||[]).map(Bx).filter(Boolean).filter(function(k){return k.contains(N.target)}),R=_.length>0?f(N,_[0]):!d.current.noIsolation;R&&N.cancelable&&N.preventDefault()}}},[]),p=m.useCallback(function(y,N,C,E){var _={name:y,delta:N,target:C,should:E,shadowParent:J2(C)};s.current.push(_),setTimeout(function(){s.current=s.current.filter(function(R){return R!==_})},1)},[]),g=m.useCallback(function(y){r.current=Qi(y),o.current=void 0},[]),h=m.useCallback(function(y){p(y.type,zx(y),y.target,f(y,t.lockRef.current))},[]),j=m.useCallback(function(y){p(y.type,Qi(y),y.target,f(y,t.lockRef.current))},[]);m.useEffect(function(){return Za.push(c),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:j}),document.addEventListener("wheel",x,Xa),document.addEventListener("touchmove",x,Xa),document.addEventListener("touchstart",g,Xa),function(){Za=Za.filter(function(y){return y!==c}),document.removeEventListener("wheel",x,Xa),document.removeEventListener("touchmove",x,Xa),document.removeEventListener("touchstart",g,Xa)}},[]);var S=t.removeScrollBar,b=t.inert;return m.createElement(m.Fragment,null,b?m.createElement(c,{styles:K2(l)}):null,S?m.createElement(F2,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function J2(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const Q2=C2(yv,Y2);var $l=m.forwardRef(function(t,s){return m.createElement(Fl,qn({},t,{ref:s,sideCar:Q2}))});$l.classNames=Fl.classNames;var X2=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},er=new WeakMap,Xi=new WeakMap,Zi={},gu=0,Sv=function(t){return t&&(t.host||Sv(t.parentNode))},Z2=function(t,s){return s.map(function(r){if(t.contains(r))return r;var o=Sv(r);return o&&t.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},eE=function(t,s,r,o){var l=Z2(s,Array.isArray(t)?t:[t]);Zi[r]||(Zi[r]=new WeakMap);var c=Zi[r],d=[],f=new Set,x=new Set(l),p=function(h){!h||f.has(h)||(f.add(h),p(h.parentNode))};l.forEach(p);var g=function(h){!h||x.has(h)||Array.prototype.forEach.call(h.children,function(j){if(f.has(j))g(j);else try{var S=j.getAttribute(o),b=S!==null&&S!=="false",y=(er.get(j)||0)+1,N=(c.get(j)||0)+1;er.set(j,y),c.set(j,N),d.push(j),y===1&&b&&Xi.set(j,!0),N===1&&j.setAttribute(r,"true"),b||j.setAttribute(o,"true")}catch(C){console.error("aria-hidden: cannot operate on ",j,C)}})};return g(s),f.clear(),gu++,function(){d.forEach(function(h){var j=er.get(h)-1,S=c.get(h)-1;er.set(h,j),c.set(h,S),j||(Xi.has(h)||h.removeAttribute(o),Xi.delete(h)),S||h.removeAttribute(r)}),gu--,gu||(er=new WeakMap,er=new WeakMap,Xi=new WeakMap,Zi={})}},Sm=function(t,s,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),l=X2(t);return l?(o.push.apply(o,Array.from(l.querySelectorAll("[aria-live], script"))),eE(o,l,r,"aria-hidden")):function(){return null}},zl="Dialog",[Cv,o4]=Xn(zl),[tE,$n]=Cv(zl),Ev=t=>{const{__scopeDialog:s,children:r,open:o,defaultOpen:l,onOpenChange:c,modal:d=!0}=t,f=m.useRef(null),x=m.useRef(null),[p,g]=ja({prop:o,defaultProp:l??!1,onChange:c,caller:zl});return e.jsx(tE,{scope:s,triggerRef:f,contentRef:x,contentId:Gn(),titleId:Gn(),descriptionId:Gn(),open:p,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(h=>!h),[g]),modal:d,children:r})};Ev.displayName=zl;var _v="DialogTrigger",kv=m.forwardRef((t,s)=>{const{__scopeDialog:r,...o}=t,l=$n(_v,r),c=nt(s,l.triggerRef);return e.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":_m(l.open),...o,ref:c,onClick:be(t.onClick,l.onOpenToggle)})});kv.displayName=_v;var Cm="DialogPortal",[nE,Rv]=Cv(Cm,{forceMount:void 0}),Pv=t=>{const{__scopeDialog:s,forceMount:r,children:o,container:l}=t,c=$n(Cm,s);return e.jsx(nE,{scope:s,forceMount:r,children:m.Children.map(o,d=>e.jsx(Zn,{present:r||c.open,children:e.jsx(Po,{asChild:!0,container:l,children:d})}))})};Pv.displayName=Cm;var yl="DialogOverlay",Av=m.forwardRef((t,s)=>{const r=Rv(yl,t.__scopeDialog),{forceMount:o=r.forceMount,...l}=t,c=$n(yl,t.__scopeDialog);return c.modal?e.jsx(Zn,{present:o||c.open,children:e.jsx(aE,{...l,ref:s})}):null});Av.displayName=yl;var sE=ya("DialogOverlay.RemoveScroll"),aE=m.forwardRef((t,s)=>{const{__scopeDialog:r,...o}=t,l=$n(yl,r);return e.jsx($l,{as:sE,allowPinchZoom:!0,shards:[l.contentRef],children:e.jsx(Fe.div,{"data-state":_m(l.open),...o,ref:s,style:{pointerEvents:"auto",...o.style}})})}),wa="DialogContent",Tv=m.forwardRef((t,s)=>{const r=Rv(wa,t.__scopeDialog),{forceMount:o=r.forceMount,...l}=t,c=$n(wa,t.__scopeDialog);return e.jsx(Zn,{present:o||c.open,children:c.modal?e.jsx(rE,{...l,ref:s}):e.jsx(oE,{...l,ref:s})})});Tv.displayName=wa;var rE=m.forwardRef((t,s)=>{const r=$n(wa,t.__scopeDialog),o=m.useRef(null),l=nt(s,r.contentRef,o);return m.useEffect(()=>{const c=o.current;if(c)return Sm(c)},[]),e.jsx(Mv,{...t,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,c=>{var d;c.preventDefault(),(d=r.triggerRef.current)==null||d.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&c.preventDefault()}),onFocusOutside:be(t.onFocusOutside,c=>c.preventDefault())})}),oE=m.forwardRef((t,s)=>{const r=$n(wa,t.__scopeDialog),o=m.useRef(!1),l=m.useRef(!1);return e.jsx(Mv,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var d,f;(d=t.onCloseAutoFocus)==null||d.call(t,c),c.defaultPrevented||(o.current||(f=r.triggerRef.current)==null||f.focus(),c.preventDefault()),o.current=!1,l.current=!1},onInteractOutside:c=>{var x,p;(x=t.onInteractOutside)==null||x.call(t,c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const d=c.target;((p=r.triggerRef.current)==null?void 0:p.contains(d))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),Mv=m.forwardRef((t,s)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,...d}=t,f=$n(wa,r),x=m.useRef(null),p=nt(s,x);return bm(),e.jsxs(e.Fragment,{children:[e.jsx(Ll,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:l,onUnmountAutoFocus:c,children:e.jsx(mr,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":_m(f.open),...d,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(iE,{titleId:f.titleId}),e.jsx(cE,{contentRef:x,descriptionId:f.descriptionId})]})]})}),Em="DialogTitle",Dv=m.forwardRef((t,s)=>{const{__scopeDialog:r,...o}=t,l=$n(Em,r);return e.jsx(Fe.h2,{id:l.titleId,...o,ref:s})});Dv.displayName=Em;var Ov="DialogDescription",Iv=m.forwardRef((t,s)=>{const{__scopeDialog:r,...o}=t,l=$n(Ov,r);return e.jsx(Fe.p,{id:l.descriptionId,...o,ref:s})});Iv.displayName=Ov;var Lv="DialogClose",Fv=m.forwardRef((t,s)=>{const{__scopeDialog:r,...o}=t,l=$n(Lv,r);return e.jsx(Fe.button,{type:"button",...o,ref:s,onClick:be(t.onClick,()=>l.onOpenChange(!1))})});Fv.displayName=Lv;function _m(t){return t?"open":"closed"}var $v="DialogTitleWarning",[i4,zv]=VC($v,{contentName:wa,titleName:Em,docsSlug:"dialog"}),iE=({titleId:t})=>{const s=zv($v),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},lE="DialogDescriptionWarning",cE=({contentRef:t,descriptionId:s})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zv(lE).contentName}}.`;return m.useEffect(()=>{var c;const l=(c=t.current)==null?void 0:c.getAttribute("aria-describedby");s&&l&&(document.getElementById(s)||console.warn(o))},[o,t,s]),null},Bv=Ev,dE=kv,Uv=Pv,Bl=Av,Ul=Tv,Vl=Dv,Hl=Iv,Vv=Fv;const uE=Bv,mE=Uv,Hv=m.forwardRef(({className:t,...s},r)=>e.jsx(Bl,{className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));Hv.displayName=Bl.displayName;const fE=Il("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Wv=m.forwardRef(({side:t="right",className:s,children:r,...o},l)=>e.jsxs(mE,{children:[e.jsx(Hv,{}),e.jsxs(Ul,{ref:l,className:ge(fE({side:t}),s),...o,children:[r,e.jsxs(Vv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(wm,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wv.displayName=Ul.displayName;const pE=m.forwardRef(({className:t,...s},r)=>e.jsx(Vl,{ref:r,className:ge("text-lg font-semibold text-foreground",t),...s}));pE.displayName=Vl.displayName;const hE=m.forwardRef(({className:t,...s},r)=>e.jsx(Hl,{ref:r,className:ge("text-sm text-muted-foreground",t),...s}));hE.displayName=Hl.displayName;function Ke({className:t,...s}){return e.jsx("div",{className:ge("animate-pulse rounded-md bg-muted",t),...s})}const xE=["top","right","bottom","left"],Ys=Math.min,fn=Math.max,jl=Math.round,el=Math.floor,Yn=t=>({x:t,y:t}),gE={left:"right",right:"left",bottom:"top",top:"bottom"},vE={start:"end",end:"start"};function Uu(t,s,r){return fn(t,Ys(s,r))}function gs(t,s){return typeof t=="function"?t(s):t}function vs(t){return t.split("-")[0]}function fr(t){return t.split("-")[1]}function km(t){return t==="x"?"y":"x"}function Rm(t){return t==="y"?"height":"width"}const yE=new Set(["top","bottom"]);function Kn(t){return yE.has(vs(t))?"y":"x"}function Pm(t){return km(Kn(t))}function jE(t,s,r){r===void 0&&(r=!1);const o=fr(t),l=Pm(t),c=Rm(l);let d=l==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return s.reference[c]>s.floating[c]&&(d=wl(d)),[d,wl(d)]}function wE(t){const s=wl(t);return[Vu(t),s,Vu(s)]}function Vu(t){return t.replace(/start|end/g,s=>vE[s])}const Ux=["left","right"],Vx=["right","left"],NE=["top","bottom"],bE=["bottom","top"];function SE(t,s,r){switch(t){case"top":case"bottom":return r?s?Vx:Ux:s?Ux:Vx;case"left":case"right":return s?NE:bE;default:return[]}}function CE(t,s,r,o){const l=fr(t);let c=SE(vs(t),r==="start",o);return l&&(c=c.map(d=>d+"-"+l),s&&(c=c.concat(c.map(Vu)))),c}function wl(t){return t.replace(/left|right|bottom|top/g,s=>gE[s])}function EE(t){return{top:0,right:0,bottom:0,left:0,...t}}function qv(t){return typeof t!="number"?EE(t):{top:t,right:t,bottom:t,left:t}}function Nl(t){const{x:s,y:r,width:o,height:l}=t;return{width:o,height:l,top:r,left:s,right:s+o,bottom:r+l,x:s,y:r}}function Hx(t,s,r){let{reference:o,floating:l}=t;const c=Kn(s),d=Pm(s),f=Rm(d),x=vs(s),p=c==="y",g=o.x+o.width/2-l.width/2,h=o.y+o.height/2-l.height/2,j=o[f]/2-l[f]/2;let S;switch(x){case"top":S={x:g,y:o.y-l.height};break;case"bottom":S={x:g,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y:h};break;case"left":S={x:o.x-l.width,y:h};break;default:S={x:o.x,y:o.y}}switch(fr(s)){case"start":S[d]-=j*(r&&p?-1:1);break;case"end":S[d]+=j*(r&&p?-1:1);break}return S}const _E=async(t,s,r)=>{const{placement:o="bottom",strategy:l="absolute",middleware:c=[],platform:d}=r,f=c.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(s));let p=await d.getElementRects({reference:t,floating:s,strategy:l}),{x:g,y:h}=Hx(p,o,x),j=o,S={},b=0;for(let y=0;y<f.length;y++){const{name:N,fn:C}=f[y],{x:E,y:_,data:R,reset:k}=await C({x:g,y:h,initialPlacement:o,placement:j,strategy:l,middlewareData:S,rects:p,platform:d,elements:{reference:t,floating:s}});g=E??g,h=_??h,S={...S,[N]:{...S[N],...R}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(j=k.placement),k.rects&&(p=k.rects===!0?await d.getElementRects({reference:t,floating:s,strategy:l}):k.rects),{x:g,y:h}=Hx(p,j,x)),y=-1)}return{x:g,y:h,placement:j,strategy:l,middlewareData:S}};async function go(t,s){var r;s===void 0&&(s={});const{x:o,y:l,platform:c,rects:d,elements:f,strategy:x}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:h="floating",altBoundary:j=!1,padding:S=0}=gs(s,t),b=qv(S),N=f[j?h==="floating"?"reference":"floating":h],C=Nl(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(N)))==null||r?N:N.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:p,rootBoundary:g,strategy:x})),E=h==="floating"?{x:o,y:l,width:d.floating.width,height:d.floating.height}:d.reference,_=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),R=await(c.isElement==null?void 0:c.isElement(_))?await(c.getScale==null?void 0:c.getScale(_))||{x:1,y:1}:{x:1,y:1},k=Nl(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:E,offsetParent:_,strategy:x}):E);return{top:(C.top-k.top+b.top)/R.y,bottom:(k.bottom-C.bottom+b.bottom)/R.y,left:(C.left-k.left+b.left)/R.x,right:(k.right-C.right+b.right)/R.x}}const kE=t=>({name:"arrow",options:t,async fn(s){const{x:r,y:o,placement:l,rects:c,platform:d,elements:f,middlewareData:x}=s,{element:p,padding:g=0}=gs(t,s)||{};if(p==null)return{};const h=qv(g),j={x:r,y:o},S=Pm(l),b=Rm(S),y=await d.getDimensions(p),N=S==="y",C=N?"top":"left",E=N?"bottom":"right",_=N?"clientHeight":"clientWidth",R=c.reference[b]+c.reference[S]-j[S]-c.floating[b],k=j[S]-c.reference[S],M=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let O=M?M[_]:0;(!O||!await(d.isElement==null?void 0:d.isElement(M)))&&(O=f.floating[_]||c.floating[b]);const P=R/2-k/2,I=O/2-y[b]/2-1,D=Ys(h[C],I),F=Ys(h[E],I),V=D,re=O-y[b]-F,$=O/2-y[b]/2+P,G=Uu(V,$,re),z=!x.arrow&&fr(l)!=null&&$!==G&&c.reference[b]/2-($<V?D:F)-y[b]/2<0,H=z?$<V?$-V:$-re:0;return{[S]:j[S]+H,data:{[S]:G,centerOffset:$-G-H,...z&&{alignmentOffset:H}},reset:z}}}),RE=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var r,o;const{placement:l,middlewareData:c,rects:d,initialPlacement:f,platform:x,elements:p}=s,{mainAxis:g=!0,crossAxis:h=!0,fallbackPlacements:j,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...N}=gs(t,s);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const C=vs(l),E=Kn(f),_=vs(f)===f,R=await(x.isRTL==null?void 0:x.isRTL(p.floating)),k=j||(_||!y?[wl(f)]:wE(f)),M=b!=="none";!j&&M&&k.push(...CE(f,y,b,R));const O=[f,...k],P=await go(s,N),I=[];let D=((o=c.flip)==null?void 0:o.overflows)||[];if(g&&I.push(P[C]),h){const $=jE(l,d,R);I.push(P[$[0]],P[$[1]])}if(D=[...D,{placement:l,overflows:I}],!I.every($=>$<=0)){var F,V;const $=(((F=c.flip)==null?void 0:F.index)||0)+1,G=O[$];if(G&&(!(h==="alignment"?E!==Kn(G):!1)||D.every(W=>Kn(W.placement)===E?W.overflows[0]>0:!0)))return{data:{index:$,overflows:D},reset:{placement:G}};let z=(V=D.filter(H=>H.overflows[0]<=0).sort((H,W)=>H.overflows[1]-W.overflows[1])[0])==null?void 0:V.placement;if(!z)switch(S){case"bestFit":{var re;const H=(re=D.filter(W=>{if(M){const X=Kn(W.placement);return X===E||X==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(X=>X>0).reduce((X,te)=>X+te,0)]).sort((W,X)=>W[1]-X[1])[0])==null?void 0:re[0];H&&(z=H);break}case"initialPlacement":z=f;break}if(l!==z)return{reset:{placement:z}}}return{}}}};function Wx(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function qx(t){return xE.some(s=>t[s]>=0)}const PE=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:r}=s,{strategy:o="referenceHidden",...l}=gs(t,s);switch(o){case"referenceHidden":{const c=await go(s,{...l,elementContext:"reference"}),d=Wx(c,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:qx(d)}}}case"escaped":{const c=await go(s,{...l,altBoundary:!0}),d=Wx(c,r.floating);return{data:{escapedOffsets:d,escaped:qx(d)}}}default:return{}}}}},Kv=new Set(["left","top"]);async function AE(t,s){const{placement:r,platform:o,elements:l}=t,c=await(o.isRTL==null?void 0:o.isRTL(l.floating)),d=vs(r),f=fr(r),x=Kn(r)==="y",p=Kv.has(d)?-1:1,g=c&&x?-1:1,h=gs(s,t);let{mainAxis:j,crossAxis:S,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return f&&typeof b=="number"&&(S=f==="end"?b*-1:b),x?{x:S*g,y:j*p}:{x:j*p,y:S*g}}const TE=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var r,o;const{x:l,y:c,placement:d,middlewareData:f}=s,x=await AE(s,t);return d===((r=f.offset)==null?void 0:r.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:l+x.x,y:c+x.y,data:{...x,placement:d}}}}},ME=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:r,y:o,placement:l}=s,{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:N=>{let{x:C,y:E}=N;return{x:C,y:E}}},...x}=gs(t,s),p={x:r,y:o},g=await go(s,x),h=Kn(vs(l)),j=km(h);let S=p[j],b=p[h];if(c){const N=j==="y"?"top":"left",C=j==="y"?"bottom":"right",E=S+g[N],_=S-g[C];S=Uu(E,S,_)}if(d){const N=h==="y"?"top":"left",C=h==="y"?"bottom":"right",E=b+g[N],_=b-g[C];b=Uu(E,b,_)}const y=f.fn({...s,[j]:S,[h]:b});return{...y,data:{x:y.x-r,y:y.y-o,enabled:{[j]:c,[h]:d}}}}}},DE=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:r,y:o,placement:l,rects:c,middlewareData:d}=s,{offset:f=0,mainAxis:x=!0,crossAxis:p=!0}=gs(t,s),g={x:r,y:o},h=Kn(l),j=km(h);let S=g[j],b=g[h];const y=gs(f,s),N=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(x){const _=j==="y"?"height":"width",R=c.reference[j]-c.floating[_]+N.mainAxis,k=c.reference[j]+c.reference[_]-N.mainAxis;S<R?S=R:S>k&&(S=k)}if(p){var C,E;const _=j==="y"?"width":"height",R=Kv.has(vs(l)),k=c.reference[h]-c.floating[_]+(R&&((C=d.offset)==null?void 0:C[h])||0)+(R?0:N.crossAxis),M=c.reference[h]+c.reference[_]+(R?0:((E=d.offset)==null?void 0:E[h])||0)-(R?N.crossAxis:0);b<k?b=k:b>M&&(b=M)}return{[j]:S,[h]:b}}}},OE=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var r,o;const{placement:l,rects:c,platform:d,elements:f}=s,{apply:x=()=>{},...p}=gs(t,s),g=await go(s,p),h=vs(l),j=fr(l),S=Kn(l)==="y",{width:b,height:y}=c.floating;let N,C;h==="top"||h==="bottom"?(N=h,C=j===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(C=h,N=j==="end"?"top":"bottom");const E=y-g.top-g.bottom,_=b-g.left-g.right,R=Ys(y-g[N],E),k=Ys(b-g[C],_),M=!s.middlewareData.shift;let O=R,P=k;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(P=_),(o=s.middlewareData.shift)!=null&&o.enabled.y&&(O=E),M&&!j){const D=fn(g.left,0),F=fn(g.right,0),V=fn(g.top,0),re=fn(g.bottom,0);S?P=b-2*(D!==0||F!==0?D+F:fn(g.left,g.right)):O=y-2*(V!==0||re!==0?V+re:fn(g.top,g.bottom))}await x({...s,availableWidth:P,availableHeight:O});const I=await d.getDimensions(f.floating);return b!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Wl(){return typeof window<"u"}function pr(t){return Gv(t)?(t.nodeName||"").toLowerCase():"#document"}function pn(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function es(t){var s;return(s=(Gv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function Gv(t){return Wl()?t instanceof Node||t instanceof pn(t).Node:!1}function In(t){return Wl()?t instanceof Element||t instanceof pn(t).Element:!1}function Jn(t){return Wl()?t instanceof HTMLElement||t instanceof pn(t).HTMLElement:!1}function Kx(t){return!Wl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pn(t).ShadowRoot}const IE=new Set(["inline","contents"]);function Ao(t){const{overflow:s,overflowX:r,overflowY:o,display:l}=Ln(t);return/auto|scroll|overlay|hidden|clip/.test(s+o+r)&&!IE.has(l)}const LE=new Set(["table","td","th"]);function FE(t){return LE.has(pr(t))}const $E=[":popover-open",":modal"];function ql(t){return $E.some(s=>{try{return t.matches(s)}catch{return!1}})}const zE=["transform","translate","scale","rotate","perspective"],BE=["transform","translate","scale","rotate","perspective","filter"],UE=["paint","layout","strict","content"];function Am(t){const s=Tm(),r=In(t)?Ln(t):t;return zE.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||BE.some(o=>(r.willChange||"").includes(o))||UE.some(o=>(r.contain||"").includes(o))}function VE(t){let s=Js(t);for(;Jn(s)&&!ar(s);){if(Am(s))return s;if(ql(s))return null;s=Js(s)}return null}function Tm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HE=new Set(["html","body","#document"]);function ar(t){return HE.has(pr(t))}function Ln(t){return pn(t).getComputedStyle(t)}function Kl(t){return In(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Js(t){if(pr(t)==="html")return t;const s=t.assignedSlot||t.parentNode||Kx(t)&&t.host||es(t);return Kx(s)?s.host:s}function Yv(t){const s=Js(t);return ar(s)?t.ownerDocument?t.ownerDocument.body:t.body:Jn(s)&&Ao(s)?s:Yv(s)}function vo(t,s,r){var o;s===void 0&&(s=[]),r===void 0&&(r=!0);const l=Yv(t),c=l===((o=t.ownerDocument)==null?void 0:o.body),d=pn(l);if(c){const f=Hu(d);return s.concat(d,d.visualViewport||[],Ao(l)?l:[],f&&r?vo(f):[])}return s.concat(l,vo(l,[],r))}function Hu(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Jv(t){const s=Ln(t);let r=parseFloat(s.width)||0,o=parseFloat(s.height)||0;const l=Jn(t),c=l?t.offsetWidth:r,d=l?t.offsetHeight:o,f=jl(r)!==c||jl(o)!==d;return f&&(r=c,o=d),{width:r,height:o,$:f}}function Mm(t){return In(t)?t:t.contextElement}function nr(t){const s=Mm(t);if(!Jn(s))return Yn(1);const r=s.getBoundingClientRect(),{width:o,height:l,$:c}=Jv(s);let d=(c?jl(r.width):r.width)/o,f=(c?jl(r.height):r.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const WE=Yn(0);function Qv(t){const s=pn(t);return!Tm()||!s.visualViewport?WE:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function qE(t,s,r){return s===void 0&&(s=!1),!r||s&&r!==pn(t)?!1:s}function Na(t,s,r,o){s===void 0&&(s=!1),r===void 0&&(r=!1);const l=t.getBoundingClientRect(),c=Mm(t);let d=Yn(1);s&&(o?In(o)&&(d=nr(o)):d=nr(t));const f=qE(c,r,o)?Qv(c):Yn(0);let x=(l.left+f.x)/d.x,p=(l.top+f.y)/d.y,g=l.width/d.x,h=l.height/d.y;if(c){const j=pn(c),S=o&&In(o)?pn(o):o;let b=j,y=Hu(b);for(;y&&o&&S!==b;){const N=nr(y),C=y.getBoundingClientRect(),E=Ln(y),_=C.left+(y.clientLeft+parseFloat(E.paddingLeft))*N.x,R=C.top+(y.clientTop+parseFloat(E.paddingTop))*N.y;x*=N.x,p*=N.y,g*=N.x,h*=N.y,x+=_,p+=R,b=pn(y),y=Hu(b)}}return Nl({width:g,height:h,x,y:p})}function Dm(t,s){const r=Kl(t).scrollLeft;return s?s.left+r:Na(es(t)).left+r}function Xv(t,s,r){r===void 0&&(r=!1);const o=t.getBoundingClientRect(),l=o.left+s.scrollLeft-(r?0:Dm(t,o)),c=o.top+s.scrollTop;return{x:l,y:c}}function KE(t){let{elements:s,rect:r,offsetParent:o,strategy:l}=t;const c=l==="fixed",d=es(o),f=s?ql(s.floating):!1;if(o===d||f&&c)return r;let x={scrollLeft:0,scrollTop:0},p=Yn(1);const g=Yn(0),h=Jn(o);if((h||!h&&!c)&&((pr(o)!=="body"||Ao(d))&&(x=Kl(o)),Jn(o))){const S=Na(o);p=nr(o),g.x=S.x+o.clientLeft,g.y=S.y+o.clientTop}const j=d&&!h&&!c?Xv(d,x,!0):Yn(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-x.scrollLeft*p.x+g.x+j.x,y:r.y*p.y-x.scrollTop*p.y+g.y+j.y}}function GE(t){return Array.from(t.getClientRects())}function YE(t){const s=es(t),r=Kl(t),o=t.ownerDocument.body,l=fn(s.scrollWidth,s.clientWidth,o.scrollWidth,o.clientWidth),c=fn(s.scrollHeight,s.clientHeight,o.scrollHeight,o.clientHeight);let d=-r.scrollLeft+Dm(t);const f=-r.scrollTop;return Ln(o).direction==="rtl"&&(d+=fn(s.clientWidth,o.clientWidth)-l),{width:l,height:c,x:d,y:f}}function JE(t,s){const r=pn(t),o=es(t),l=r.visualViewport;let c=o.clientWidth,d=o.clientHeight,f=0,x=0;if(l){c=l.width,d=l.height;const p=Tm();(!p||p&&s==="fixed")&&(f=l.offsetLeft,x=l.offsetTop)}return{width:c,height:d,x:f,y:x}}const QE=new Set(["absolute","fixed"]);function XE(t,s){const r=Na(t,!0,s==="fixed"),o=r.top+t.clientTop,l=r.left+t.clientLeft,c=Jn(t)?nr(t):Yn(1),d=t.clientWidth*c.x,f=t.clientHeight*c.y,x=l*c.x,p=o*c.y;return{width:d,height:f,x,y:p}}function Gx(t,s,r){let o;if(s==="viewport")o=JE(t,r);else if(s==="document")o=YE(es(t));else if(In(s))o=XE(s,r);else{const l=Qv(t);o={x:s.x-l.x,y:s.y-l.y,width:s.width,height:s.height}}return Nl(o)}function Zv(t,s){const r=Js(t);return r===s||!In(r)||ar(r)?!1:Ln(r).position==="fixed"||Zv(r,s)}function ZE(t,s){const r=s.get(t);if(r)return r;let o=vo(t,[],!1).filter(f=>In(f)&&pr(f)!=="body"),l=null;const c=Ln(t).position==="fixed";let d=c?Js(t):t;for(;In(d)&&!ar(d);){const f=Ln(d),x=Am(d);!x&&f.position==="fixed"&&(l=null),(c?!x&&!l:!x&&f.position==="static"&&!!l&&QE.has(l.position)||Ao(d)&&!x&&Zv(t,d))?o=o.filter(g=>g!==d):l=f,d=Js(d)}return s.set(t,o),o}function e_(t){let{element:s,boundary:r,rootBoundary:o,strategy:l}=t;const d=[...r==="clippingAncestors"?ql(s)?[]:ZE(s,this._c):[].concat(r),o],f=d[0],x=d.reduce((p,g)=>{const h=Gx(s,g,l);return p.top=fn(h.top,p.top),p.right=Ys(h.right,p.right),p.bottom=Ys(h.bottom,p.bottom),p.left=fn(h.left,p.left),p},Gx(s,f,l));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function t_(t){const{width:s,height:r}=Jv(t);return{width:s,height:r}}function n_(t,s,r){const o=Jn(s),l=es(s),c=r==="fixed",d=Na(t,!0,c,s);let f={scrollLeft:0,scrollTop:0};const x=Yn(0);function p(){x.x=Dm(l)}if(o||!o&&!c)if((pr(s)!=="body"||Ao(l))&&(f=Kl(s)),o){const S=Na(s,!0,c,s);x.x=S.x+s.clientLeft,x.y=S.y+s.clientTop}else l&&p();c&&!o&&l&&p();const g=l&&!o&&!c?Xv(l,f):Yn(0),h=d.left+f.scrollLeft-x.x-g.x,j=d.top+f.scrollTop-x.y-g.y;return{x:h,y:j,width:d.width,height:d.height}}function vu(t){return Ln(t).position==="static"}function Yx(t,s){if(!Jn(t)||Ln(t).position==="fixed")return null;if(s)return s(t);let r=t.offsetParent;return es(t)===r&&(r=r.ownerDocument.body),r}function ey(t,s){const r=pn(t);if(ql(t))return r;if(!Jn(t)){let l=Js(t);for(;l&&!ar(l);){if(In(l)&&!vu(l))return l;l=Js(l)}return r}let o=Yx(t,s);for(;o&&FE(o)&&vu(o);)o=Yx(o,s);return o&&ar(o)&&vu(o)&&!Am(o)?r:o||VE(t)||r}const s_=async function(t){const s=this.getOffsetParent||ey,r=this.getDimensions,o=await r(t.floating);return{reference:n_(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function a_(t){return Ln(t).direction==="rtl"}const r_={convertOffsetParentRelativeRectToViewportRelativeRect:KE,getDocumentElement:es,getClippingRect:e_,getOffsetParent:ey,getElementRects:s_,getClientRects:GE,getDimensions:t_,getScale:nr,isElement:In,isRTL:a_};function ty(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function o_(t,s){let r=null,o;const l=es(t);function c(){var f;clearTimeout(o),(f=r)==null||f.disconnect(),r=null}function d(f,x){f===void 0&&(f=!1),x===void 0&&(x=1),c();const p=t.getBoundingClientRect(),{left:g,top:h,width:j,height:S}=p;if(f||s(),!j||!S)return;const b=el(h),y=el(l.clientWidth-(g+j)),N=el(l.clientHeight-(h+S)),C=el(g),_={rootMargin:-b+"px "+-y+"px "+-N+"px "+-C+"px",threshold:fn(0,Ys(1,x))||1};let R=!0;function k(M){const O=M[0].intersectionRatio;if(O!==x){if(!R)return d();O?d(!1,O):o=setTimeout(()=>{d(!1,1e-7)},1e3)}O===1&&!ty(p,t.getBoundingClientRect())&&d(),R=!1}try{r=new IntersectionObserver(k,{..._,root:l.ownerDocument})}catch{r=new IntersectionObserver(k,_)}r.observe(t)}return d(!0),c}function i_(t,s,r,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:x=!1}=o,p=Mm(t),g=l||c?[...p?vo(p):[],...vo(s)]:[];g.forEach(C=>{l&&C.addEventListener("scroll",r,{passive:!0}),c&&C.addEventListener("resize",r)});const h=p&&f?o_(p,r):null;let j=-1,S=null;d&&(S=new ResizeObserver(C=>{let[E]=C;E&&E.target===p&&S&&(S.unobserve(s),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var _;(_=S)==null||_.observe(s)})),r()}),p&&!x&&S.observe(p),S.observe(s));let b,y=x?Na(t):null;x&&N();function N(){const C=Na(t);y&&!ty(y,C)&&r(),y=C,b=requestAnimationFrame(N)}return r(),()=>{var C;g.forEach(E=>{l&&E.removeEventListener("scroll",r),c&&E.removeEventListener("resize",r)}),h==null||h(),(C=S)==null||C.disconnect(),S=null,x&&cancelAnimationFrame(b)}}const l_=TE,c_=ME,d_=RE,u_=OE,m_=PE,Jx=kE,f_=DE,p_=(t,s,r)=>{const o=new Map,l={platform:r_,...r},c={...l.platform,_c:o};return _E(t,s,{...l,platform:c})};var h_=typeof document<"u",x_=function(){},dl=h_?m.useLayoutEffect:x_;function bl(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let r,o,l;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==s.length)return!1;for(o=r;o--!==0;)if(!bl(t[o],s[o]))return!1;return!0}if(l=Object.keys(t),r=l.length,r!==Object.keys(s).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(s,l[o]))return!1;for(o=r;o--!==0;){const c=l[o];if(!(c==="_owner"&&t.$$typeof)&&!bl(t[c],s[c]))return!1}return!0}return t!==t&&s!==s}function ny(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Qx(t,s){const r=ny(t);return Math.round(s*r)/r}function yu(t){const s=m.useRef(t);return dl(()=>{s.current=t}),s}function g_(t){t===void 0&&(t={});const{placement:s="bottom",strategy:r="absolute",middleware:o=[],platform:l,elements:{reference:c,floating:d}={},transform:f=!0,whileElementsMounted:x,open:p}=t,[g,h]=m.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[j,S]=m.useState(o);bl(j,o)||S(o);const[b,y]=m.useState(null),[N,C]=m.useState(null),E=m.useCallback(W=>{W!==M.current&&(M.current=W,y(W))},[]),_=m.useCallback(W=>{W!==O.current&&(O.current=W,C(W))},[]),R=c||b,k=d||N,M=m.useRef(null),O=m.useRef(null),P=m.useRef(g),I=x!=null,D=yu(x),F=yu(l),V=yu(p),re=m.useCallback(()=>{if(!M.current||!O.current)return;const W={placement:s,strategy:r,middleware:j};F.current&&(W.platform=F.current),p_(M.current,O.current,W).then(X=>{const te={...X,isPositioned:V.current!==!1};$.current&&!bl(P.current,te)&&(P.current=te,or.flushSync(()=>{h(te)}))})},[j,s,r,F,V]);dl(()=>{p===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(W=>({...W,isPositioned:!1})))},[p]);const $=m.useRef(!1);dl(()=>($.current=!0,()=>{$.current=!1}),[]),dl(()=>{if(R&&(M.current=R),k&&(O.current=k),R&&k){if(D.current)return D.current(R,k,re);re()}},[R,k,re,D,I]);const G=m.useMemo(()=>({reference:M,floating:O,setReference:E,setFloating:_}),[E,_]),z=m.useMemo(()=>({reference:R,floating:k}),[R,k]),H=m.useMemo(()=>{const W={position:r,left:0,top:0};if(!z.floating)return W;const X=Qx(z.floating,g.x),te=Qx(z.floating,g.y);return f?{...W,transform:"translate("+X+"px, "+te+"px)",...ny(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:te}},[r,f,z.floating,g.x,g.y]);return m.useMemo(()=>({...g,update:re,refs:G,elements:z,floatingStyles:H}),[g,re,G,z,H])}const v_=t=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:o,padding:l}=typeof t=="function"?t(r):t;return o&&s(o)?o.current!=null?Jx({element:o.current,padding:l}).fn(r):{}:o?Jx({element:o,padding:l}).fn(r):{}}}},y_=(t,s)=>({...l_(t),options:[t,s]}),j_=(t,s)=>({...c_(t),options:[t,s]}),w_=(t,s)=>({...f_(t),options:[t,s]}),N_=(t,s)=>({...d_(t),options:[t,s]}),b_=(t,s)=>({...u_(t),options:[t,s]}),S_=(t,s)=>({...m_(t),options:[t,s]}),C_=(t,s)=>({...v_(t),options:[t,s]});var E_="Arrow",sy=m.forwardRef((t,s)=>{const{children:r,width:o=10,height:l=5,...c}=t;return e.jsx(Fe.svg,{...c,ref:s,width:o,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});sy.displayName=E_;var __=sy;function k_(t){const[s,r]=m.useState(void 0);return Rt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let d,f;if("borderBoxSize"in c){const x=c.borderBoxSize,p=Array.isArray(x)?x[0]:x;d=p.inlineSize,f=p.blockSize}else d=t.offsetWidth,f=t.offsetHeight;r({width:d,height:f})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else r(void 0)},[t]),s}var Om="Popper",[ay,hr]=Xn(Om),[R_,ry]=ay(Om),oy=t=>{const{__scopePopper:s,children:r}=t,[o,l]=m.useState(null);return e.jsx(R_,{scope:s,anchor:o,onAnchorChange:l,children:r})};oy.displayName=Om;var iy="PopperAnchor",ly=m.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:o,...l}=t,c=ry(iy,r),d=m.useRef(null),f=nt(s,d),x=m.useRef(null);return m.useEffect(()=>{const p=x.current;x.current=(o==null?void 0:o.current)||d.current,p!==x.current&&c.onAnchorChange(x.current)}),o?null:e.jsx(Fe.div,{...l,ref:f})});ly.displayName=iy;var Im="PopperContent",[P_,A_]=ay(Im),cy=m.forwardRef((t,s)=>{var Q,le,we,je,Ce,Re;const{__scopePopper:r,side:o="bottom",sideOffset:l=0,align:c="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:x=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:h="partial",hideWhenDetached:j=!1,updatePositionStrategy:S="optimized",onPlaced:b,...y}=t,N=ry(Im,r),[C,E]=m.useState(null),_=nt(s,Ue=>E(Ue)),[R,k]=m.useState(null),M=k_(R),O=(M==null?void 0:M.width)??0,P=(M==null?void 0:M.height)??0,I=o+(c!=="center"?"-"+c:""),D=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},F=Array.isArray(p)?p:[p],V=F.length>0,re={padding:D,boundary:F.filter(M_),altBoundary:V},{refs:$,floatingStyles:G,placement:z,isPositioned:H,middlewareData:W}=g_({strategy:"fixed",placement:I,whileElementsMounted:(...Ue)=>i_(...Ue,{animationFrame:S==="always"}),elements:{reference:N.anchor},middleware:[y_({mainAxis:l+P,alignmentAxis:d}),x&&j_({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?w_():void 0,...re}),x&&N_({...re}),b_({...re,apply:({elements:Ue,rects:it,availableWidth:We,availableHeight:Te})=>{const{width:_t,height:ys}=it.reference,qt=Ue.floating.style;qt.setProperty("--radix-popper-available-width",`${We}px`),qt.setProperty("--radix-popper-available-height",`${Te}px`),qt.setProperty("--radix-popper-anchor-width",`${_t}px`),qt.setProperty("--radix-popper-anchor-height",`${ys}px`)}}),R&&C_({element:R,padding:f}),D_({arrowWidth:O,arrowHeight:P}),j&&S_({strategy:"referenceHidden",...re})]}),[X,te]=my(z),T=Qt(b);Rt(()=>{H&&(T==null||T())},[H,T]);const U=(Q=W.arrow)==null?void 0:Q.x,Z=(le=W.arrow)==null?void 0:le.y,L=((we=W.arrow)==null?void 0:we.centerOffset)!==0,[K,J]=m.useState();return Rt(()=>{C&&J(window.getComputedStyle(C).zIndex)},[C]),e.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:H?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(je=W.transformOrigin)==null?void 0:je.x,(Ce=W.transformOrigin)==null?void 0:Ce.y].join(" "),...((Re=W.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(P_,{scope:r,placedSide:X,onArrowChange:k,arrowX:U,arrowY:Z,shouldHideArrow:L,children:e.jsx(Fe.div,{"data-side":X,"data-align":te,...y,ref:_,style:{...y.style,animation:H?void 0:"none"}})})})});cy.displayName=Im;var dy="PopperArrow",T_={top:"bottom",right:"left",bottom:"top",left:"right"},uy=m.forwardRef(function(s,r){const{__scopePopper:o,...l}=s,c=A_(dy,o),d=T_[c.placedSide];return e.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:e.jsx(__,{...l,ref:r,style:{...l.style,display:"block"}})})});uy.displayName=dy;function M_(t){return t!==null}var D_=t=>({name:"transformOrigin",options:t,fn(s){var N,C,E;const{placement:r,rects:o,middlewareData:l}=s,d=((N=l.arrow)==null?void 0:N.centerOffset)!==0,f=d?0:t.arrowWidth,x=d?0:t.arrowHeight,[p,g]=my(r),h={start:"0%",center:"50%",end:"100%"}[g],j=(((C=l.arrow)==null?void 0:C.x)??0)+f/2,S=(((E=l.arrow)==null?void 0:E.y)??0)+x/2;let b="",y="";return p==="bottom"?(b=d?h:`${j}px`,y=`${-x}px`):p==="top"?(b=d?h:`${j}px`,y=`${o.floating.height+x}px`):p==="right"?(b=`${-x}px`,y=d?h:`${S}px`):p==="left"&&(b=`${o.floating.width+x}px`,y=d?h:`${S}px`),{data:{x:b,y}}}});function my(t){const[s,r="center"]=t.split("-");return[s,r]}var Lm=oy,Fm=ly,$m=cy,zm=uy,fy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),O_="VisuallyHidden",Gl=m.forwardRef((t,s)=>e.jsx(Fe.span,{...t,ref:s,style:{...fy,...t.style}}));Gl.displayName=O_;var I_=Gl,[Yl,l4]=Xn("Tooltip",[hr]),Jl=hr(),py="TooltipProvider",L_=700,Wu="tooltip.open",[F_,Bm]=Yl(py),hy=t=>{const{__scopeTooltip:s,delayDuration:r=L_,skipDelayDuration:o=300,disableHoverableContent:l=!1,children:c}=t,d=m.useRef(!0),f=m.useRef(!1),x=m.useRef(0);return m.useEffect(()=>{const p=x.current;return()=>window.clearTimeout(p)},[]),e.jsx(F_,{scope:s,isOpenDelayedRef:d,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(x.current),d.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>d.current=!0,o)},[o]),isPointerInTransitRef:f,onPointerInTransitChange:m.useCallback(p=>{f.current=p},[]),disableHoverableContent:l,children:c})};hy.displayName=py;var yo="Tooltip",[$_,Ql]=Yl(yo),xy=t=>{const{__scopeTooltip:s,children:r,open:o,defaultOpen:l,onOpenChange:c,disableHoverableContent:d,delayDuration:f}=t,x=Bm(yo,t.__scopeTooltip),p=Jl(s),[g,h]=m.useState(null),j=Gn(),S=m.useRef(0),b=d??x.disableHoverableContent,y=f??x.delayDuration,N=m.useRef(!1),[C,E]=ja({prop:o,defaultProp:l??!1,onChange:O=>{O?(x.onOpen(),document.dispatchEvent(new CustomEvent(Wu))):x.onClose(),c==null||c(O)},caller:yo}),_=m.useMemo(()=>C?N.current?"delayed-open":"instant-open":"closed",[C]),R=m.useCallback(()=>{window.clearTimeout(S.current),S.current=0,N.current=!1,E(!0)},[E]),k=m.useCallback(()=>{window.clearTimeout(S.current),S.current=0,E(!1)},[E]),M=m.useCallback(()=>{window.clearTimeout(S.current),S.current=window.setTimeout(()=>{N.current=!0,E(!0),S.current=0},y)},[y,E]);return m.useEffect(()=>()=>{S.current&&(window.clearTimeout(S.current),S.current=0)},[]),e.jsx(Lm,{...p,children:e.jsx($_,{scope:s,contentId:j,open:C,stateAttribute:_,trigger:g,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{x.isOpenDelayedRef.current?M():R()},[x.isOpenDelayedRef,M,R]),onTriggerLeave:m.useCallback(()=>{b?k():(window.clearTimeout(S.current),S.current=0)},[k,b]),onOpen:R,onClose:k,disableHoverableContent:b,children:r})})};xy.displayName=yo;var qu="TooltipTrigger",gy=m.forwardRef((t,s)=>{const{__scopeTooltip:r,...o}=t,l=Ql(qu,r),c=Bm(qu,r),d=Jl(r),f=m.useRef(null),x=nt(s,f,l.onTriggerChange),p=m.useRef(!1),g=m.useRef(!1),h=m.useCallback(()=>p.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),e.jsx(Fm,{asChild:!0,...d,children:e.jsx(Fe.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...o,ref:x,onPointerMove:be(t.onPointerMove,j=>{j.pointerType!=="touch"&&!g.current&&!c.isPointerInTransitRef.current&&(l.onTriggerEnter(),g.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{l.onTriggerLeave(),g.current=!1}),onPointerDown:be(t.onPointerDown,()=>{l.open&&l.onClose(),p.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:be(t.onFocus,()=>{p.current||l.onOpen()}),onBlur:be(t.onBlur,l.onClose),onClick:be(t.onClick,l.onClose)})})});gy.displayName=qu;var z_="TooltipPortal",[c4,B_]=Yl(z_,{forceMount:void 0}),rr="TooltipContent",vy=m.forwardRef((t,s)=>{const r=B_(rr,t.__scopeTooltip),{forceMount:o=r.forceMount,side:l="top",...c}=t,d=Ql(rr,t.__scopeTooltip);return e.jsx(Zn,{present:o||d.open,children:d.disableHoverableContent?e.jsx(yy,{side:l,...c,ref:s}):e.jsx(U_,{side:l,...c,ref:s})})}),U_=m.forwardRef((t,s)=>{const r=Ql(rr,t.__scopeTooltip),o=Bm(rr,t.__scopeTooltip),l=m.useRef(null),c=nt(s,l),[d,f]=m.useState(null),{trigger:x,onClose:p}=r,g=l.current,{onPointerInTransitChange:h}=o,j=m.useCallback(()=>{f(null),h(!1)},[h]),S=m.useCallback((b,y)=>{const N=b.currentTarget,C={x:b.clientX,y:b.clientY},E=K_(C,N.getBoundingClientRect()),_=G_(C,E),R=Y_(y.getBoundingClientRect()),k=Q_([..._,...R]);f(k),h(!0)},[h]);return m.useEffect(()=>()=>j(),[j]),m.useEffect(()=>{if(x&&g){const b=N=>S(N,g),y=N=>S(N,x);return x.addEventListener("pointerleave",b),g.addEventListener("pointerleave",y),()=>{x.removeEventListener("pointerleave",b),g.removeEventListener("pointerleave",y)}}},[x,g,S,j]),m.useEffect(()=>{if(d){const b=y=>{const N=y.target,C={x:y.clientX,y:y.clientY},E=(x==null?void 0:x.contains(N))||(g==null?void 0:g.contains(N)),_=!J_(C,d);E?j():_&&(j(),p())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[x,g,d,p,j]),e.jsx(yy,{...t,ref:c})}),[V_,H_]=Yl(yo,{isInside:!1}),W_=dC("TooltipContent"),yy=m.forwardRef((t,s)=>{const{__scopeTooltip:r,children:o,"aria-label":l,onEscapeKeyDown:c,onPointerDownOutside:d,...f}=t,x=Ql(rr,r),p=Jl(r),{onClose:g}=x;return m.useEffect(()=>(document.addEventListener(Wu,g),()=>document.removeEventListener(Wu,g)),[g]),m.useEffect(()=>{if(x.trigger){const h=j=>{const S=j.target;S!=null&&S.contains(x.trigger)&&g()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[x.trigger,g]),e.jsx(mr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h=>h.preventDefault(),onDismiss:g,children:e.jsxs($m,{"data-state":x.stateAttribute,...p,...f,ref:s,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(W_,{children:o}),e.jsx(V_,{scope:r,isInside:!0,children:e.jsx(I_,{id:x.contentId,role:"tooltip",children:l||o})})]})})});vy.displayName=rr;var jy="TooltipArrow",q_=m.forwardRef((t,s)=>{const{__scopeTooltip:r,...o}=t,l=Jl(r);return H_(jy,r).isInside?null:e.jsx(zm,{...l,...o,ref:s})});q_.displayName=jy;function K_(t,s){const r=Math.abs(s.top-t.y),o=Math.abs(s.bottom-t.y),l=Math.abs(s.right-t.x),c=Math.abs(s.left-t.x);switch(Math.min(r,o,l,c)){case c:return"left";case l:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function G_(t,s,r=5){const o=[];switch(s){case"top":o.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":o.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":o.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":o.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return o}function Y_(t){const{top:s,right:r,bottom:o,left:l}=t;return[{x:l,y:s},{x:r,y:s},{x:r,y:o},{x:l,y:o}]}function J_(t,s){const{x:r,y:o}=t;let l=!1;for(let c=0,d=s.length-1;c<s.length;d=c++){const f=s[c],x=s[d],p=f.x,g=f.y,h=x.x,j=x.y;g>o!=j>o&&r<(h-p)*(o-g)/(j-g)+p&&(l=!l)}return l}function Q_(t){const s=t.slice();return s.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),X_(s)}function X_(t){if(t.length<=1)return t.slice();const s=[];for(let o=0;o<t.length;o++){const l=t[o];for(;s.length>=2;){const c=s[s.length-1],d=s[s.length-2];if((c.x-d.x)*(l.y-d.y)>=(c.y-d.y)*(l.x-d.x))s.pop();else break}s.push(l)}s.pop();const r=[];for(let o=t.length-1;o>=0;o--){const l=t[o];for(;r.length>=2;){const c=r[r.length-1],d=r[r.length-2];if((c.x-d.x)*(l.y-d.y)>=(c.y-d.y)*(l.x-d.x))r.pop();else break}r.push(l)}return r.pop(),s.length===1&&r.length===1&&s[0].x===r[0].x&&s[0].y===r[0].y?s:s.concat(r)}var Z_=hy,ek=xy,tk=gy,wy=vy;const nk=Z_,sk=ek,ak=tk,Ny=m.forwardRef(({className:t,sideOffset:s=4,...r},o)=>e.jsx(wy,{ref:o,sideOffset:s,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Ny.displayName=wy.displayName;const rk="sidebar:state",ok=3600*24*7,ik="16rem",lk="18rem",ck="3rem",dk="b",by=m.createContext(null);function Xl(){const t=m.useContext(by);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const Sy=m.forwardRef(({defaultOpen:t=!0,open:s,onOpenChange:r,className:o,style:l,children:c,...d},f)=>{const x=LC(),[p,g]=m.useState(!1),[h,j]=m.useState(t),S=s??h,b=m.useCallback(E=>{const _=typeof E=="function"?E(S):E;r?r(_):j(_),document.cookie=`${rk}=${_}; path=/; max-age=${ok}`},[r,S]),y=m.useCallback(()=>x?g(E=>!E):b(E=>!E),[x,b,g]);m.useEffect(()=>{const E=_=>{_.key===dk&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),y())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[y]);const N=S?"expanded":"collapsed",C=m.useMemo(()=>({state:N,open:S,setOpen:b,isMobile:x,openMobile:p,setOpenMobile:g,toggleSidebar:y}),[N,S,b,x,p,g,y]);return e.jsx(by.Provider,{value:C,children:e.jsx(nk,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":ik,"--sidebar-width-icon":ck,...l},className:ge("group/sidebar-wrapper flex min-h-svh w-full bg-background",o),ref:f,...d,children:c})})})});Sy.displayName="SidebarProvider";const Cy=m.forwardRef(({side:t="left",variant:s="sidebar",collapsible:r="offcanvas",className:o,children:l,...c},d)=>{const{isMobile:f,state:x,openMobile:p,setOpenMobile:g}=Xl();return r==="none"?e.jsx("div",{className:ge("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",o),ref:d,...c,children:l}):f?e.jsx(uE,{open:p,onOpenChange:g,...c,children:e.jsx(Wv,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":lk},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:l})})}):e.jsxs("div",{ref:d,className:"group peer hidden md:block text-sidebar-foreground","data-state":x,"data-collapsible":x==="collapsed"?r:"","data-variant":s,"data-side":t,children:[e.jsx("div",{className:ge("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",s==="floating"||s==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:ge("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",s==="floating"||s==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",o),...c,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:l})})]})});Cy.displayName="Sidebar";const Ey=m.forwardRef(({className:t,onClick:s,...r},o)=>{const{toggleSidebar:l}=Xl();return e.jsxs(se,{ref:o,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ge("h-7 w-7",t),onClick:c=>{s==null||s(c),l()},...r,children:[e.jsx(MC,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Ey.displayName="SidebarTrigger";const uk=m.forwardRef(({className:t,...s},r)=>{const{toggleSidebar:o}=Xl();return e.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:o,title:"Toggle Sidebar",className:ge("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...s})});uk.displayName="SidebarRail";const _y=m.forwardRef(({className:t,...s},r)=>e.jsx("main",{ref:r,className:ge("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...s}));_y.displayName="SidebarInset";const mk=m.forwardRef(({className:t,...s},r)=>e.jsx(fe,{ref:r,"data-sidebar":"input",className:ge("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...s}));mk.displayName="SidebarInput";const ky=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"header",className:ge("flex flex-col gap-2 p-2",t),...s}));ky.displayName="SidebarHeader";const Ry=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"footer",className:ge("flex flex-col gap-2 p-2",t),...s}));Ry.displayName="SidebarFooter";const fk=m.forwardRef(({className:t,...s},r)=>e.jsx(Dn,{ref:r,"data-sidebar":"separator",className:ge("mx-2 w-auto bg-sidebar-border",t),...s}));fk.displayName="SidebarSeparator";const Py=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"content",className:ge("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s}));Py.displayName="SidebarContent";const Ku=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"group",className:ge("relative flex w-full min-w-0 flex-col p-2",t),...s}));Ku.displayName="SidebarGroup";const Gu=m.forwardRef(({className:t,asChild:s=!1,...r},o)=>{const l=s?ur:"div";return e.jsx(l,{ref:o,"data-sidebar":"group-label",className:ge("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});Gu.displayName="SidebarGroupLabel";const pk=m.forwardRef(({className:t,asChild:s=!1,...r},o)=>{const l=s?ur:"button";return e.jsx(l,{ref:o,"data-sidebar":"group-action",className:ge("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});pk.displayName="SidebarGroupAction";const Yu=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"group-content",className:ge("w-full text-sm",t),...s}));Yu.displayName="SidebarGroupContent";const Ju=m.forwardRef(({className:t,...s},r)=>e.jsx("ul",{ref:r,"data-sidebar":"menu",className:ge("flex w-full min-w-0 flex-col gap-1",t),...s}));Ju.displayName="SidebarMenu";const Qu=m.forwardRef(({className:t,...s},r)=>e.jsx("li",{ref:r,"data-sidebar":"menu-item",className:ge("group/menu-item relative",t),...s}));Qu.displayName="SidebarMenuItem";const hk=Il("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Xu=m.forwardRef(({asChild:t=!1,isActive:s=!1,variant:r="default",size:o="default",tooltip:l,className:c,...d},f)=>{const x=t?ur:"button",{isMobile:p,state:g}=Xl(),h=e.jsx(x,{ref:f,"data-sidebar":"menu-button","data-size":o,"data-active":s,className:ge(hk({variant:r,size:o}),c),...d});return l?(typeof l=="string"&&(l={children:l}),e.jsxs(sk,{children:[e.jsx(ak,{asChild:!0,children:h}),e.jsx(Ny,{side:"right",align:"center",hidden:g!=="collapsed"||p,...l})]})):h});Xu.displayName="SidebarMenuButton";const xk=m.forwardRef(({className:t,asChild:s=!1,showOnHover:r=!1,...o},l)=>{const c=s?ur:"button";return e.jsx(c,{ref:l,"data-sidebar":"menu-action",className:ge("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...o})});xk.displayName="SidebarMenuAction";const gk=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:ge("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...s}));gk.displayName="SidebarMenuBadge";const vk=m.forwardRef(({className:t,showIcon:s=!1,...r},o)=>{const l=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:o,"data-sidebar":"menu-skeleton",className:ge("rounded-md h-8 flex gap-2 px-2 items-center",t),...r,children:[s&&e.jsx(Ke,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(Ke,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":l}})]})});vk.displayName="SidebarMenuSkeleton";const yk=m.forwardRef(({className:t,...s},r)=>e.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:ge("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...s}));yk.displayName="SidebarMenuSub";const jk=m.forwardRef(({...t},s)=>e.jsx("li",{ref:s,...t}));jk.displayName="SidebarMenuSubItem";const wk=m.forwardRef(({asChild:t=!1,size:s="md",isActive:r,className:o,...l},c)=>{const d=t?ur:"a";return e.jsx(d,{ref:c,"data-sidebar":"menu-sub-button","data-size":s,"data-active":r,className:ge("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",s==="sm"&&"text-xs",s==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",o),...l})});wk.displayName="SidebarMenuSubButton";const Nk={theme:"system",setTheme:()=>null},Ay=m.createContext(Nk);function bk({children:t,defaultTheme:s="system",storageKey:r="vite-ui-theme",...o}){const[l,c]=m.useState(()=>(typeof window<"u"?localStorage.getItem(r):null)||s);m.useEffect(()=>{const f=window.document.documentElement;if(f.classList.remove("light","dark"),l==="system"){const x=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";f.classList.add(x);return}f.classList.add(l)},[l]);const d={theme:l,setTheme:f=>{localStorage.setItem(r,f),c(f)}};return e.jsx(Ay.Provider,{...o,value:d,children:t})}const Ty=()=>{const t=m.useContext(Ay);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function Zl(t){const s=t+"CollectionProvider",[r,o]=Xn(s),[l,c]=r(s,{collectionRef:{current:null},itemMap:new Map}),d=y=>{const{scope:N,children:C}=y,E=Bs.useRef(null),_=Bs.useRef(new Map).current;return e.jsx(l,{scope:N,itemMap:_,collectionRef:E,children:C})};d.displayName=s;const f=t+"CollectionSlot",x=ya(f),p=Bs.forwardRef((y,N)=>{const{scope:C,children:E}=y,_=c(f,C),R=nt(N,_.collectionRef);return e.jsx(x,{ref:R,children:E})});p.displayName=f;const g=t+"CollectionItemSlot",h="data-radix-collection-item",j=ya(g),S=Bs.forwardRef((y,N)=>{const{scope:C,children:E,..._}=y,R=Bs.useRef(null),k=nt(N,R),M=c(g,C);return Bs.useEffect(()=>(M.itemMap.set(R,{ref:R,..._}),()=>void M.itemMap.delete(R))),e.jsx(j,{[h]:"",ref:k,children:E})});S.displayName=g;function b(y){const N=c(t+"CollectionConsumer",y);return Bs.useCallback(()=>{const E=N.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(N.itemMap.values()).sort((M,O)=>_.indexOf(M.ref.current)-_.indexOf(O.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:d,Slot:p,ItemSlot:S},b,o]}var Sk=m.createContext(void 0);function Um(t){const s=m.useContext(Sk);return t||s||"ltr"}var ju="rovingFocusGroup.onEntryFocus",Ck={bubbles:!1,cancelable:!0},To="RovingFocusGroup",[Zu,My,Ek]=Zl(To),[_k,Dy]=Xn(To,[Ek]),[kk,Rk]=_k(To),Oy=m.forwardRef((t,s)=>e.jsx(Zu.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Zu.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Pk,{...t,ref:s})})}));Oy.displayName=To;var Pk=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:l=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:x,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...h}=t,j=m.useRef(null),S=nt(s,j),b=Um(c),[y,N]=ja({prop:d,defaultProp:f??null,onChange:x,caller:To}),[C,E]=m.useState(!1),_=Qt(p),R=My(r),k=m.useRef(!1),[M,O]=m.useState(0);return m.useEffect(()=>{const P=j.current;if(P)return P.addEventListener(ju,_),()=>P.removeEventListener(ju,_)},[_]),e.jsx(kk,{scope:r,orientation:o,dir:b,loop:l,currentTabStopId:y,onItemFocus:m.useCallback(P=>N(P),[N]),onItemShiftTab:m.useCallback(()=>E(!0),[]),onFocusableItemAdd:m.useCallback(()=>O(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>O(P=>P-1),[]),children:e.jsx(Fe.div,{tabIndex:C||M===0?-1:0,"data-orientation":o,...h,ref:S,style:{outline:"none",...t.style},onMouseDown:be(t.onMouseDown,()=>{k.current=!0}),onFocus:be(t.onFocus,P=>{const I=!k.current;if(P.target===P.currentTarget&&I&&!C){const D=new CustomEvent(ju,Ck);if(P.currentTarget.dispatchEvent(D),!D.defaultPrevented){const F=R().filter(z=>z.focusable),V=F.find(z=>z.active),re=F.find(z=>z.id===y),G=[V,re,...F].filter(Boolean).map(z=>z.ref.current);Fy(G,g)}}k.current=!1}),onBlur:be(t.onBlur,()=>E(!1))})})}),Iy="RovingFocusGroupItem",Ly=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:l=!1,tabStopId:c,children:d,...f}=t,x=Gn(),p=c||x,g=Rk(Iy,r),h=g.currentTabStopId===p,j=My(r),{onFocusableItemAdd:S,onFocusableItemRemove:b,currentTabStopId:y}=g;return m.useEffect(()=>{if(o)return S(),()=>b()},[o,S,b]),e.jsx(Zu.ItemSlot,{scope:r,id:p,focusable:o,active:l,children:e.jsx(Fe.span,{tabIndex:h?0:-1,"data-orientation":g.orientation,...f,ref:s,onMouseDown:be(t.onMouseDown,N=>{o?g.onItemFocus(p):N.preventDefault()}),onFocus:be(t.onFocus,()=>g.onItemFocus(p)),onKeyDown:be(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){g.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const C=Mk(N,g.orientation,g.dir);if(C!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let _=j().filter(R=>R.focusable).map(R=>R.ref.current);if(C==="last")_.reverse();else if(C==="prev"||C==="next"){C==="prev"&&_.reverse();const R=_.indexOf(N.currentTarget);_=g.loop?Dk(_,R+1):_.slice(R+1)}setTimeout(()=>Fy(_))}}),children:typeof d=="function"?d({isCurrentTabStop:h,hasTabStop:y!=null}):d})})});Ly.displayName=Iy;var Ak={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Tk(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Mk(t,s,r){const o=Tk(t.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Ak[o]}function Fy(t,s=!1){const r=document.activeElement;for(const o of t)if(o===r||(o.focus({preventScroll:s}),document.activeElement!==r))return}function Dk(t,s){return t.map((r,o)=>t[(s+o)%t.length])}var Ok=Oy,Ik=Ly,em=["Enter"," "],Lk=["ArrowDown","PageUp","Home"],$y=["ArrowUp","PageDown","End"],Fk=[...Lk,...$y],$k={ltr:[...em,"ArrowRight"],rtl:[...em,"ArrowLeft"]},zk={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mo="Menu",[jo,Bk,Uk]=Zl(Mo),[Ea,zy]=Xn(Mo,[Uk,hr,Dy]),ec=hr(),By=Dy(),[Vk,_a]=Ea(Mo),[Hk,Do]=Ea(Mo),Uy=t=>{const{__scopeMenu:s,open:r=!1,children:o,dir:l,onOpenChange:c,modal:d=!0}=t,f=ec(s),[x,p]=m.useState(null),g=m.useRef(!1),h=Qt(c),j=Um(l);return m.useEffect(()=>{const S=()=>{g.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>g.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),e.jsx(Lm,{...f,children:e.jsx(Vk,{scope:s,open:r,onOpenChange:h,content:x,onContentChange:p,children:e.jsx(Hk,{scope:s,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:g,dir:j,modal:d,children:o})})})};Uy.displayName=Mo;var Wk="MenuAnchor",Vm=m.forwardRef((t,s)=>{const{__scopeMenu:r,...o}=t,l=ec(r);return e.jsx(Fm,{...l,...o,ref:s})});Vm.displayName=Wk;var Hm="MenuPortal",[qk,Vy]=Ea(Hm,{forceMount:void 0}),Hy=t=>{const{__scopeMenu:s,forceMount:r,children:o,container:l}=t,c=_a(Hm,s);return e.jsx(qk,{scope:s,forceMount:r,children:e.jsx(Zn,{present:r||c.open,children:e.jsx(Po,{asChild:!0,container:l,children:o})})})};Hy.displayName=Hm;var wn="MenuContent",[Kk,Wm]=Ea(wn),Wy=m.forwardRef((t,s)=>{const r=Vy(wn,t.__scopeMenu),{forceMount:o=r.forceMount,...l}=t,c=_a(wn,t.__scopeMenu),d=Do(wn,t.__scopeMenu);return e.jsx(jo.Provider,{scope:t.__scopeMenu,children:e.jsx(Zn,{present:o||c.open,children:e.jsx(jo.Slot,{scope:t.__scopeMenu,children:d.modal?e.jsx(Gk,{...l,ref:s}):e.jsx(Yk,{...l,ref:s})})})})}),Gk=m.forwardRef((t,s)=>{const r=_a(wn,t.__scopeMenu),o=m.useRef(null),l=nt(s,o);return m.useEffect(()=>{const c=o.current;if(c)return Sm(c)},[]),e.jsx(qm,{...t,ref:l,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:be(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Yk=m.forwardRef((t,s)=>{const r=_a(wn,t.__scopeMenu);return e.jsx(qm,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Jk=ya("MenuContent.ScrollLock"),qm=m.forwardRef((t,s)=>{const{__scopeMenu:r,loop:o=!1,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:f,onEntryFocus:x,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:h,onInteractOutside:j,onDismiss:S,disableOutsideScroll:b,...y}=t,N=_a(wn,r),C=Do(wn,r),E=ec(r),_=By(r),R=Bk(r),[k,M]=m.useState(null),O=m.useRef(null),P=nt(s,O,N.onContentChange),I=m.useRef(0),D=m.useRef(""),F=m.useRef(0),V=m.useRef(null),re=m.useRef("right"),$=m.useRef(0),G=b?$l:m.Fragment,z=b?{as:Jk,allowPinchZoom:!0}:void 0,H=X=>{var Q,le;const te=D.current+X,T=R().filter(we=>!we.disabled),U=document.activeElement,Z=(Q=T.find(we=>we.ref.current===U))==null?void 0:Q.textValue,L=T.map(we=>we.textValue),K=lR(L,te,Z),J=(le=T.find(we=>we.textValue===K))==null?void 0:le.ref.current;(function we(je){D.current=je,window.clearTimeout(I.current),je!==""&&(I.current=window.setTimeout(()=>we(""),1e3))})(te),J&&setTimeout(()=>J.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),bm();const W=m.useCallback(X=>{var T,U;return re.current===((T=V.current)==null?void 0:T.side)&&dR(X,(U=V.current)==null?void 0:U.area)},[]);return e.jsx(Kk,{scope:r,searchRef:D,onItemEnter:m.useCallback(X=>{W(X)&&X.preventDefault()},[W]),onItemLeave:m.useCallback(X=>{var te;W(X)||((te=O.current)==null||te.focus(),M(null))},[W]),onTriggerLeave:m.useCallback(X=>{W(X)&&X.preventDefault()},[W]),pointerGraceTimerRef:F,onPointerGraceIntentChange:m.useCallback(X=>{V.current=X},[]),children:e.jsx(G,{...z,children:e.jsx(Ll,{asChild:!0,trapped:l,onMountAutoFocus:be(c,X=>{var te;X.preventDefault(),(te=O.current)==null||te.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:e.jsx(mr,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:h,onInteractOutside:j,onDismiss:S,children:e.jsx(Ok,{asChild:!0,..._,dir:C.dir,orientation:"vertical",loop:o,currentTabStopId:k,onCurrentTabStopIdChange:M,onEntryFocus:be(x,X=>{C.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx($m,{role:"menu","aria-orientation":"vertical","data-state":ij(N.open),"data-radix-menu-content":"",dir:C.dir,...E,...y,ref:P,style:{outline:"none",...y.style},onKeyDown:be(y.onKeyDown,X=>{const T=X.target.closest("[data-radix-menu-content]")===X.currentTarget,U=X.ctrlKey||X.altKey||X.metaKey,Z=X.key.length===1;T&&(X.key==="Tab"&&X.preventDefault(),!U&&Z&&H(X.key));const L=O.current;if(X.target!==L||!Fk.includes(X.key))return;X.preventDefault();const J=R().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);$y.includes(X.key)&&J.reverse(),oR(J)}),onBlur:be(t.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(I.current),D.current="")}),onPointerMove:be(t.onPointerMove,wo(X=>{const te=X.target,T=$.current!==X.clientX;if(X.currentTarget.contains(te)&&T){const U=X.clientX>$.current?"right":"left";re.current=U,$.current=X.clientX}}))})})})})})})});Wy.displayName=wn;var Qk="MenuGroup",Km=m.forwardRef((t,s)=>{const{__scopeMenu:r,...o}=t;return e.jsx(Fe.div,{role:"group",...o,ref:s})});Km.displayName=Qk;var Xk="MenuLabel",qy=m.forwardRef((t,s)=>{const{__scopeMenu:r,...o}=t;return e.jsx(Fe.div,{...o,ref:s})});qy.displayName=Xk;var Sl="MenuItem",Xx="menu.itemSelect",tc=m.forwardRef((t,s)=>{const{disabled:r=!1,onSelect:o,...l}=t,c=m.useRef(null),d=Do(Sl,t.__scopeMenu),f=Wm(Sl,t.__scopeMenu),x=nt(s,c),p=m.useRef(!1),g=()=>{const h=c.current;if(!r&&h){const j=new CustomEvent(Xx,{bubbles:!0,cancelable:!0});h.addEventListener(Xx,S=>o==null?void 0:o(S),{once:!0}),Nm(h,j),j.defaultPrevented?p.current=!1:d.onClose()}};return e.jsx(Ky,{...l,ref:x,disabled:r,onClick:be(t.onClick,g),onPointerDown:h=>{var j;(j=t.onPointerDown)==null||j.call(t,h),p.current=!0},onPointerUp:be(t.onPointerUp,h=>{var j;p.current||(j=h.currentTarget)==null||j.click()}),onKeyDown:be(t.onKeyDown,h=>{const j=f.searchRef.current!=="";r||j&&h.key===" "||em.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});tc.displayName=Sl;var Ky=m.forwardRef((t,s)=>{const{__scopeMenu:r,disabled:o=!1,textValue:l,...c}=t,d=Wm(Sl,r),f=By(r),x=m.useRef(null),p=nt(s,x),[g,h]=m.useState(!1),[j,S]=m.useState("");return m.useEffect(()=>{const b=x.current;b&&S((b.textContent??"").trim())},[c.children]),e.jsx(jo.ItemSlot,{scope:r,disabled:o,textValue:l??j,children:e.jsx(Ik,{asChild:!0,...f,focusable:!o,children:e.jsx(Fe.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...c,ref:p,onPointerMove:be(t.onPointerMove,wo(b=>{o?d.onItemLeave(b):(d.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(t.onPointerLeave,wo(b=>d.onItemLeave(b))),onFocus:be(t.onFocus,()=>h(!0)),onBlur:be(t.onBlur,()=>h(!1))})})})}),Zk="MenuCheckboxItem",Gy=m.forwardRef((t,s)=>{const{checked:r=!1,onCheckedChange:o,...l}=t;return e.jsx(Zy,{scope:t.__scopeMenu,checked:r,children:e.jsx(tc,{role:"menuitemcheckbox","aria-checked":Cl(r)?"mixed":r,...l,ref:s,"data-state":Ym(r),onSelect:be(l.onSelect,()=>o==null?void 0:o(Cl(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Gy.displayName=Zk;var Yy="MenuRadioGroup",[eR,tR]=Ea(Yy,{value:void 0,onValueChange:()=>{}}),Jy=m.forwardRef((t,s)=>{const{value:r,onValueChange:o,...l}=t,c=Qt(o);return e.jsx(eR,{scope:t.__scopeMenu,value:r,onValueChange:c,children:e.jsx(Km,{...l,ref:s})})});Jy.displayName=Yy;var Qy="MenuRadioItem",Xy=m.forwardRef((t,s)=>{const{value:r,...o}=t,l=tR(Qy,t.__scopeMenu),c=r===l.value;return e.jsx(Zy,{scope:t.__scopeMenu,checked:c,children:e.jsx(tc,{role:"menuitemradio","aria-checked":c,...o,ref:s,"data-state":Ym(c),onSelect:be(o.onSelect,()=>{var d;return(d=l.onValueChange)==null?void 0:d.call(l,r)},{checkForDefaultPrevented:!1})})})});Xy.displayName=Qy;var Gm="MenuItemIndicator",[Zy,nR]=Ea(Gm,{checked:!1}),ej=m.forwardRef((t,s)=>{const{__scopeMenu:r,forceMount:o,...l}=t,c=nR(Gm,r);return e.jsx(Zn,{present:o||Cl(c.checked)||c.checked===!0,children:e.jsx(Fe.span,{...l,ref:s,"data-state":Ym(c.checked)})})});ej.displayName=Gm;var sR="MenuSeparator",tj=m.forwardRef((t,s)=>{const{__scopeMenu:r,...o}=t;return e.jsx(Fe.div,{role:"separator","aria-orientation":"horizontal",...o,ref:s})});tj.displayName=sR;var aR="MenuArrow",nj=m.forwardRef((t,s)=>{const{__scopeMenu:r,...o}=t,l=ec(r);return e.jsx(zm,{...l,...o,ref:s})});nj.displayName=aR;var rR="MenuSub",[d4,sj]=Ea(rR),co="MenuSubTrigger",aj=m.forwardRef((t,s)=>{const r=_a(co,t.__scopeMenu),o=Do(co,t.__scopeMenu),l=sj(co,t.__scopeMenu),c=Wm(co,t.__scopeMenu),d=m.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:x}=c,p={__scopeMenu:t.__scopeMenu},g=m.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return m.useEffect(()=>g,[g]),m.useEffect(()=>{const h=f.current;return()=>{window.clearTimeout(h),x(null)}},[f,x]),e.jsx(Vm,{asChild:!0,...p,children:e.jsx(Ky,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":l.contentId,"data-state":ij(r.open),...t,ref:Ol(s,l.onTriggerChange),onClick:h=>{var j;(j=t.onClick)==null||j.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:be(t.onPointerMove,wo(h=>{c.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:be(t.onPointerLeave,wo(h=>{var S,b;g();const j=(S=r.content)==null?void 0:S.getBoundingClientRect();if(j){const y=(b=r.content)==null?void 0:b.dataset.side,N=y==="right",C=N?-5:5,E=j[N?"left":"right"],_=j[N?"right":"left"];c.onPointerGraceIntentChange({area:[{x:h.clientX+C,y:h.clientY},{x:E,y:j.top},{x:_,y:j.top},{x:_,y:j.bottom},{x:E,y:j.bottom}],side:y}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(h),h.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:be(t.onKeyDown,h=>{var S;const j=c.searchRef.current!=="";t.disabled||j&&h.key===" "||$k[o.dir].includes(h.key)&&(r.onOpenChange(!0),(S=r.content)==null||S.focus(),h.preventDefault())})})})});aj.displayName=co;var rj="MenuSubContent",oj=m.forwardRef((t,s)=>{const r=Vy(wn,t.__scopeMenu),{forceMount:o=r.forceMount,...l}=t,c=_a(wn,t.__scopeMenu),d=Do(wn,t.__scopeMenu),f=sj(rj,t.__scopeMenu),x=m.useRef(null),p=nt(s,x);return e.jsx(jo.Provider,{scope:t.__scopeMenu,children:e.jsx(Zn,{present:o||c.open,children:e.jsx(jo.Slot,{scope:t.__scopeMenu,children:e.jsx(qm,{id:f.contentId,"aria-labelledby":f.triggerId,...l,ref:p,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var h;d.isUsingKeyboardRef.current&&((h=x.current)==null||h.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:be(t.onFocusOutside,g=>{g.target!==f.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:be(t.onEscapeKeyDown,g=>{d.onClose(),g.preventDefault()}),onKeyDown:be(t.onKeyDown,g=>{var S;const h=g.currentTarget.contains(g.target),j=zk[d.dir].includes(g.key);h&&j&&(c.onOpenChange(!1),(S=f.trigger)==null||S.focus(),g.preventDefault())})})})})})});oj.displayName=rj;function ij(t){return t?"open":"closed"}function Cl(t){return t==="indeterminate"}function Ym(t){return Cl(t)?"indeterminate":t?"checked":"unchecked"}function oR(t){const s=document.activeElement;for(const r of t)if(r===s||(r.focus(),document.activeElement!==s))return}function iR(t,s){return t.map((r,o)=>t[(s+o)%t.length])}function lR(t,s,r){const l=s.length>1&&Array.from(s).every(p=>p===s[0])?s[0]:s,c=r?t.indexOf(r):-1;let d=iR(t,Math.max(c,0));l.length===1&&(d=d.filter(p=>p!==r));const x=d.find(p=>p.toLowerCase().startsWith(l.toLowerCase()));return x!==r?x:void 0}function cR(t,s){const{x:r,y:o}=t;let l=!1;for(let c=0,d=s.length-1;c<s.length;d=c++){const f=s[c],x=s[d],p=f.x,g=f.y,h=x.x,j=x.y;g>o!=j>o&&r<(h-p)*(o-g)/(j-g)+p&&(l=!l)}return l}function dR(t,s){if(!s)return!1;const r={x:t.clientX,y:t.clientY};return cR(r,s)}function wo(t){return s=>s.pointerType==="mouse"?t(s):void 0}var uR=Uy,mR=Vm,fR=Hy,pR=Wy,hR=Km,xR=qy,gR=tc,vR=Gy,yR=Jy,jR=Xy,wR=ej,NR=tj,bR=nj,SR=aj,CR=oj,nc="DropdownMenu",[ER,u4]=Xn(nc,[zy]),Xt=zy(),[_R,lj]=ER(nc),cj=t=>{const{__scopeDropdownMenu:s,children:r,dir:o,open:l,defaultOpen:c,onOpenChange:d,modal:f=!0}=t,x=Xt(s),p=m.useRef(null),[g,h]=ja({prop:l,defaultProp:c??!1,onChange:d,caller:nc});return e.jsx(_R,{scope:s,triggerId:Gn(),triggerRef:p,contentId:Gn(),open:g,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(j=>!j),[h]),modal:f,children:e.jsx(uR,{...x,open:g,onOpenChange:h,dir:o,modal:f,children:r})})};cj.displayName=nc;var dj="DropdownMenuTrigger",uj=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,disabled:o=!1,...l}=t,c=lj(dj,r),d=Xt(r);return e.jsx(mR,{asChild:!0,...d,children:e.jsx(Fe.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...l,ref:Ol(s,c.triggerRef),onPointerDown:be(t.onPointerDown,f=>{!o&&f.button===0&&f.ctrlKey===!1&&(c.onOpenToggle(),c.open||f.preventDefault())}),onKeyDown:be(t.onKeyDown,f=>{o||(["Enter"," "].includes(f.key)&&c.onOpenToggle(),f.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});uj.displayName=dj;var kR="DropdownMenuPortal",mj=t=>{const{__scopeDropdownMenu:s,...r}=t,o=Xt(s);return e.jsx(fR,{...o,...r})};mj.displayName=kR;var fj="DropdownMenuContent",pj=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=lj(fj,r),c=Xt(r),d=m.useRef(!1);return e.jsx(pR,{id:l.contentId,"aria-labelledby":l.triggerId,...c,...o,ref:s,onCloseAutoFocus:be(t.onCloseAutoFocus,f=>{var x;d.current||(x=l.triggerRef.current)==null||x.focus(),d.current=!1,f.preventDefault()}),onInteractOutside:be(t.onInteractOutside,f=>{const x=f.detail.originalEvent,p=x.button===0&&x.ctrlKey===!0,g=x.button===2||p;(!l.modal||g)&&(d.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pj.displayName=fj;var RR="DropdownMenuGroup",PR=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=Xt(r);return e.jsx(hR,{...l,...o,ref:s})});PR.displayName=RR;var AR="DropdownMenuLabel",hj=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=Xt(r);return e.jsx(xR,{...l,...o,ref:s})});hj.displayName=AR;var TR="DropdownMenuItem",xj=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=Xt(r);return e.jsx(gR,{...l,...o,ref:s})});xj.displayName=TR;var MR="DropdownMenuCheckboxItem",gj=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=Xt(r);return e.jsx(vR,{...l,...o,ref:s})});gj.displayName=MR;var DR="DropdownMenuRadioGroup",OR=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=Xt(r);return e.jsx(yR,{...l,...o,ref:s})});OR.displayName=DR;var IR="DropdownMenuRadioItem",vj=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=Xt(r);return e.jsx(jR,{...l,...o,ref:s})});vj.displayName=IR;var LR="DropdownMenuItemIndicator",yj=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=Xt(r);return e.jsx(wR,{...l,...o,ref:s})});yj.displayName=LR;var FR="DropdownMenuSeparator",jj=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=Xt(r);return e.jsx(NR,{...l,...o,ref:s})});jj.displayName=FR;var $R="DropdownMenuArrow",zR=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=Xt(r);return e.jsx(bR,{...l,...o,ref:s})});zR.displayName=$R;var BR="DropdownMenuSubTrigger",wj=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=Xt(r);return e.jsx(SR,{...l,...o,ref:s})});wj.displayName=BR;var UR="DropdownMenuSubContent",Nj=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...o}=t,l=Xt(r);return e.jsx(CR,{...l,...o,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Nj.displayName=UR;var VR=cj,HR=uj,WR=mj,bj=pj,Sj=hj,Cj=xj,Ej=gj,_j=vj,kj=yj,Rj=jj,Pj=wj,Aj=Nj;const qR=VR,KR=HR,GR=m.forwardRef(({className:t,inset:s,children:r,...o},l)=>e.jsxs(Pj,{ref:l,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...o,children:[r,e.jsx(Tn,{className:"ml-auto h-4 w-4"})]}));GR.displayName=Pj.displayName;const YR=m.forwardRef(({className:t,...s},r)=>e.jsx(Aj,{ref:r,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));YR.displayName=Aj.displayName;const Tj=m.forwardRef(({className:t,sideOffset:s=4,...r},o)=>e.jsx(WR,{children:e.jsx(bj,{ref:o,sideOffset:s,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Tj.displayName=bj.displayName;const ul=m.forwardRef(({className:t,inset:s,...r},o)=>e.jsx(Cj,{ref:o,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...r}));ul.displayName=Cj.displayName;const JR=m.forwardRef(({className:t,children:s,checked:r,...o},l)=>e.jsxs(Ej,{ref:l,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(kj,{children:e.jsx(av,{className:"h-4 w-4"})})}),s]}));JR.displayName=Ej.displayName;const QR=m.forwardRef(({className:t,children:s,...r},o)=>e.jsxs(_j,{ref:o,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(kj,{children:e.jsx(bC,{className:"h-2 w-2 fill-current"})})}),s]}));QR.displayName=_j.displayName;const XR=m.forwardRef(({className:t,inset:s,...r},o)=>e.jsx(Sj,{ref:o,className:ge("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...r}));XR.displayName=Sj.displayName;const ZR=m.forwardRef(({className:t,...s},r)=>e.jsx(Rj,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",t),...s}));ZR.displayName=Rj.displayName;function sc(){const{setTheme:t,theme:s}=Ty();return e.jsxs(qR,{children:[e.jsx(KR,{asChild:!0,children:e.jsxs(se,{variant:"secondary",size:"icon",className:"relative bg-white/80 text-slate-700 border border-black/10 shadow-sm backdrop-blur hover:bg-white/90 dark:bg-slate-900/60 dark:text-slate-100 dark:border-white/10 dark:hover:bg-slate-900/70","aria-label":"Alternar tema",children:[e.jsx(kx,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(_x,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}),e.jsxs(Tj,{align:"end",sideOffset:8,children:[e.jsxs(ul,{onClick:()=>t("light"),className:"cursor-pointer",children:[e.jsx(kx,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Claro"}),s==="light"&&e.jsx("span",{className:"ml-auto",children:"✓"})]}),e.jsxs(ul,{onClick:()=>t("dark"),className:"cursor-pointer",children:[e.jsx(_x,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Escuro"}),s==="dark"&&e.jsx("span",{className:"ml-auto",children:"✓"})]}),e.jsxs(ul,{onClick:()=>t("system"),className:"cursor-pointer",children:[e.jsx(TC,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sistema"}),s==="system"&&e.jsx("span",{className:"ml-auto",children:"✓"})]})]})]})}const Mj=m.forwardRef(({...t},s)=>e.jsx("nav",{ref:s,"aria-label":"breadcrumb",...t}));Mj.displayName="Breadcrumb";const Dj=m.forwardRef(({className:t,...s},r)=>e.jsx("ol",{ref:r,className:ge("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...s}));Dj.displayName="BreadcrumbList";const Oj=m.forwardRef(({className:t,...s},r)=>e.jsx("li",{ref:r,className:ge("inline-flex items-center gap-1.5",t),...s}));Oj.displayName="BreadcrumbItem";const Ij=m.forwardRef(({asChild:t,className:s,...r},o)=>{const l=t?ur:"a";return e.jsx(l,{ref:o,className:ge("hover:text-foreground transition-colors focus-visible:outline-none focus-visible:underline",s),...r})});Ij.displayName="BreadcrumbLink";const Lj=m.forwardRef(({className:t,...s},r)=>e.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:ge("text-foreground font-medium",t),...s}));Lj.displayName="BreadcrumbPage";const Fj=({children:t,className:s,...r})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:ge("[&>svg]:size-3.5",s),...r,children:t||e.jsx(Tn,{className:"h-4 w-4"})});Fj.displayName="BreadcrumbSeparator";function Oo({children:t,sidebar:s,breadcrumbs:r=[]}){const{activeRole:o}=Ca();return e.jsxs(Sy,{children:[e.jsx(s,{}),e.jsxs(_y,{children:[e.jsxs("header",{className:ge("relative flex h-16 shrink-0 items-center gap-2 border-b px-6 rounded-b-xl shadow-sm backdrop-blur supports-[backdrop-filter]:backdrop-blur-md transition-all duration-300","bg-white/80 dark:bg-slate-900/70"),children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(Ey,{className:"mr-1"}),r.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Dn,{orientation:"vertical",className:"mr-2 h-4"}),e.jsx(Mj,{children:e.jsx(Dj,{children:r.map((d,f)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oj,{className:"hidden md:block",children:d.href?e.jsx(Ij,{href:d.href,className:ge("text-sm font-medium transition-colors","text-slate-800 hover:text-slate-950","dark:text-slate-200 dark:hover:text-slate-100"),children:d.label}):e.jsx(Lj,{className:ge("text-sm font-semibold","text-slate-950","dark:text-slate-100"),children:d.label})}),f<r.length-1&&e.jsx(Fj,{className:ge("hidden md:block","text-slate-400","dark:text-slate-300")})]},f))})})]})]}),e.jsx("div",{className:"ml-auto",children:e.jsx(sc,{})})]}),e.jsx("main",{className:ge("flex flex-1 flex-col gap-4 px-6 pt-10 pb-6 min-h-[calc(100svh-4rem)] transition-all duration-300","bg-background"),children:t})]})]})}var wu={exports:{}},Nu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function eP(){if(Zx)return Nu;Zx=1;var t=_l();function s(h,j){return h===j&&(h!==0||1/h===1/j)||h!==h&&j!==j}var r=typeof Object.is=="function"?Object.is:s,o=t.useState,l=t.useEffect,c=t.useLayoutEffect,d=t.useDebugValue;function f(h,j){var S=j(),b=o({inst:{value:S,getSnapshot:j}}),y=b[0].inst,N=b[1];return c(function(){y.value=S,y.getSnapshot=j,x(y)&&N({inst:y})},[h,S,j]),l(function(){return x(y)&&N({inst:y}),h(function(){x(y)&&N({inst:y})})},[h]),d(S),S}function x(h){var j=h.getSnapshot;h=h.value;try{var S=j();return!r(h,S)}catch{return!0}}function p(h,j){return j()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return Nu.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Nu}var eg;function tP(){return eg||(eg=1,wu.exports=eP()),wu.exports}var nP=tP();function sP(){return nP.useSyncExternalStore(aP,()=>!0,()=>!1)}function aP(){return()=>{}}var Jm="Avatar",[rP,m4]=Xn(Jm),[oP,$j]=rP(Jm),zj=m.forwardRef((t,s)=>{const{__scopeAvatar:r,...o}=t,[l,c]=m.useState("idle");return e.jsx(oP,{scope:r,imageLoadingStatus:l,onImageLoadingStatusChange:c,children:e.jsx(Fe.span,{...o,ref:s})})});zj.displayName=Jm;var Bj="AvatarImage",Uj=m.forwardRef((t,s)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:l=()=>{},...c}=t,d=$j(Bj,r),f=iP(o,c),x=Qt(p=>{l(p),d.onImageLoadingStatusChange(p)});return Rt(()=>{f!=="idle"&&x(f)},[f,x]),f==="loaded"?e.jsx(Fe.img,{...c,ref:s,src:o}):null});Uj.displayName=Bj;var Vj="AvatarFallback",Hj=m.forwardRef((t,s)=>{const{__scopeAvatar:r,delayMs:o,...l}=t,c=$j(Vj,r),[d,f]=m.useState(o===void 0);return m.useEffect(()=>{if(o!==void 0){const x=window.setTimeout(()=>f(!0),o);return()=>window.clearTimeout(x)}},[o]),d&&c.imageLoadingStatus!=="loaded"?e.jsx(Fe.span,{...l,ref:s}):null});Hj.displayName=Vj;function tg(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function iP(t,{referrerPolicy:s,crossOrigin:r}){const o=sP(),l=m.useRef(null),c=o?(l.current||(l.current=new window.Image),l.current):null,[d,f]=m.useState(()=>tg(c,t));return Rt(()=>{f(tg(c,t))},[c,t]),Rt(()=>{const x=h=>()=>{f(h)};if(!c)return;const p=x("loaded"),g=x("error");return c.addEventListener("load",p),c.addEventListener("error",g),s&&(c.referrerPolicy=s),typeof r=="string"&&(c.crossOrigin=r),()=>{c.removeEventListener("load",p),c.removeEventListener("error",g)}},[c,r,s]),d}var Wj=zj,qj=Uj,Kj=Hj;const ac=m.forwardRef(({className:t,...s},r)=>e.jsx(Wj,{ref:r,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));ac.displayName=Wj.displayName;const Qm=m.forwardRef(({className:t,...s},r)=>e.jsx(qj,{ref:r,className:ge("aspect-square h-full w-full",t),...s}));Qm.displayName=qj.displayName;const rc=m.forwardRef(({className:t,...s},r)=>e.jsx(Kj,{ref:r,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));rc.displayName=Kj.displayName;const ng={paciente:{header:{title:"Portal Médico",subtitle:"Paciente",icon:It},sections:[{label:"Menu Principal",items:[{label:"Perfil",path:"/paciente/perfil",icon:It},{label:"Prontuário",path:"/paciente/prontuario",icon:Jt},{label:"Consultas",path:"/paciente/consultas",icon:Ve},{label:"Exames",path:"/paciente/exames",icon:Mn},{label:"Receitas",path:"/paciente/receitas",icon:Mn},{label:"Histórico Médico",path:"/paciente/historico-medico",icon:iv},{label:"Médicos Vinculados",path:"/paciente/medicos",icon:Yt}]},{label:"Configurações",items:[{label:"Configurações",path:"/paciente/configuracoes",icon:lo}]}]},medico:{header:{title:"Portal Médico",subtitle:"Médico",icon:jt},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/medico/dashboard",icon:cu},{label:"Consultas de Hoje",path:"/medico/consultas/hoje",icon:Ve},{label:"Consultas",path:"/medico/minhas-consultas",icon:Ve},{label:"Meus Pacientes",path:"/medico/meus-pacientes",icon:Yt}]},{label:"Configurações",items:[{label:"Configurações",path:"/medico/configuracoes",icon:lo}]}]},clinica:{header:{title:"Portal Médico",subtitle:"Clínica",icon:yC},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/clinica/dashboard",icon:_C},{label:"Calendário",path:"/clinica/calendario",icon:Ve},{label:"Disponibilidade",path:"/clinica/disponibilidade",icon:ft},{label:"Exames",path:"/clinica/exames",icon:Jt},{label:"Pacientes",path:"/clinica/pacientes",icon:Yt},{label:"Médicos",path:"/clinica/medicos",icon:jt},{label:"Relatórios",path:"/clinica/relatorios",icon:Cx}]},{label:"Configurações",items:[{label:"Configurações",path:"/clinica/configuracoes",icon:lo}]}]},secretaria:{header:{title:"Portal Médico",subtitle:"Secretaria",icon:Yt},sections:[{label:"Menu Principal",items:[{label:"Dashboard",path:"/secretaria/dashboard",icon:cu},{label:"Consultas",path:"/secretaria/consultas",icon:Ve},{label:"Pacientes",path:"/secretaria/pacientes",icon:Yt},{label:"Médicos",path:"/secretaria/medicos",icon:jt}]},{label:"Configurações",items:[{label:"Configurações",path:"/secretaria/configuracoes",icon:lo}]}]},admin:{header:{title:"Portal Médico",subtitle:"Admin",icon:il},sections:[{label:"Painel",items:[{label:"Dashboard",path:"/admin/dashboard",icon:cu},{label:"Relatórios",path:"/admin/relatorios",icon:Cx},{label:"Auditoria",path:"/admin/auditoria",icon:il}]},{label:"Gerenciar",items:[{label:"Solicitações",path:"/admin/solicitacoes",icon:IC},{label:"Usuários",path:"/admin/usuarios",icon:Yt},{label:"Clínicas",path:"/admin/clinicas",icon:Ks}]},{label:"Telas",items:[{label:"Paciente",path:"/paciente/perfil",icon:It},{label:"Médico",path:"/medico/dashboard",icon:jt},{label:"Clínica",path:"/clinica/dashboard",icon:Ks},{label:"Secretaria",path:"/secretaria/dashboard",icon:Yt},{label:"Admin",path:"/admin/dashboard",icon:il}]},{label:"Configurações",items:[{label:"Configurações",path:"/admin/configuracoes",icon:lo}]}]}},tt={async getPerfil(){const t="/users/",s=mt.getCurrentUser();if(!(s!=null&&s.id))throw new Error("Usuário não encontrado na sessão. Faça login novamente.");const r=t.endsWith("/")?t:`${t}/`;return(await xe.get(`${r}${s.id}/`)).data},async atualizarPerfil(t){const s="/users/",r=mt.getCurrentUser();if(!(r!=null&&r.id))throw new Error("Usuário não encontrado na sessão. Faça login novamente.");const o=s.endsWith("/")?s:`${s}/`;return(await xe.patch(`${o}${r.id}/`,t)).data},async getConsultas(t={}){var s;try{const r="/consultas/",o=await this.getPacienteDoUsuario(),l={...t};return o!=null&&o.id&&!l.paciente&&(l.paciente=o.id),!(o!=null&&o.id)&&Object.keys(l).length===0?{results:[]}:(await xe.get(r,{params:l})).data}catch(r){return console.warn("[pacienteService] getConsultas falhou:",(s=r==null?void 0:r.response)==null?void 0:s.status),{results:[]}}},async getExames(t={}){var d,f,x;const s="/exames/",{__propagateErrors:r,...o}=t||{};let l=null;try{l=await tt.getPacienteDoUsuario()}catch(p){console.debug("[pacienteService] getPacienteDoUsuario falhou, prosseguindo sem filtro de paciente",(d=p==null?void 0:p.response)==null?void 0:d.status)}const c={...o};if(l!=null&&l.id&&!c.paciente&&(c.paciente=l.id),Object.keys(c).forEach(p=>{(c[p]===void 0||c[p]===null||c[p]==="")&&delete c[p]}),!(l!=null&&l.id)&&Object.keys(c).length===0)return{results:[]};try{return console.debug("[pacienteService] GET exames",{endpoint:s,params:c}),(await xe.get(s,{params:c})).data}catch(p){if(console.warn("[pacienteService] getExames falhou:",(f=p==null?void 0:p.response)==null?void 0:f.status,(x=p==null?void 0:p.response)==null?void 0:x.data),r===!0)throw p;return{results:[]}}},async getProntuario(t={}){const s="/prontuarios/",{__propagateErrors:r,...o}=t||{},l={...o};let c=!1;try{const d=await this.getPacienteDoUsuario();d!=null&&d.id&&!l.consulta__paciente&&(l.consulta__paciente=d.id,c=!0)}catch{}if(!c&&Object.keys(l).length===0)return{results:[]};try{return(await xe.get(s,{params:l})).data}catch(d){if(r===!0)throw d;return{results:[]}}},async getMedicos(t={}){return(await xe.get("/medicos/",{params:t})).data},async getMedicoById(t){const s="/medicos/",r=s.endsWith("/")?s:`${s}/`;return(await xe.get(`${r}${t}/`)).data},async agendarConsulta({medico:t,data:s,hora:r,modalidade:o,local:l,observacoes:c,tipo:d,motivo:f}){const x="/consultas/",p=x.endsWith("/")?x:`${x}/`,g=await this.getPacienteDoUsuario();if(!(g!=null&&g.id))throw new Error("Não foi possível identificar o paciente autenticado.");const h=(y,N)=>{if(!y||!N)return null;const C=new Date(`${y}T${N}`);return isNaN(C)?null:C.toISOString()},j=y=>{const N={primeira:"primeira_consulta",primeira_consulta:"primeira_consulta",retorno:"retorno",urgencia:"urgencia",rotina:"rotina"},C=String(y||"").toLowerCase();return N[C]||"primeira_consulta"},S={paciente:g.id,medico:t,data_hora:h(s,r)||s||null,tipo:j(d),motivo:f,observacoes:c||void 0,duracao_minutos:30};return Object.keys(S).forEach(y=>{(S[y]===null||S[y]===void 0||S[y]==="")&&delete S[y]}),(await xe.post(p,S)).data},async getAgendaMedico({medico:t,date:s,apenas_disponiveis:r=!0}){const o="/agendamentos/",l={medico:t,medico_id:t,date:s,data:s,...r?{apenas_disponiveis:1}:{}};return(await xe.get(o,{params:l})).data},async getPacienteDoUsuario(){var l,c,d;const t="/pacientes/",s=t.endsWith("/")?t:`${t}/`;try{return(await xe.get(`${s}me/`)).data}catch(f){console.warn("[pacienteService] GET /pacientes/me/ falhou:",(l=f==null?void 0:f.response)==null?void 0:l.status)}const r=mt.getCurrentUser();if(!(r!=null&&r.id))return null;const o=["user","user__id","user_id"];for(const f of o)try{const x=await xe.get(s,{params:{[f]:r.id}}),p=Array.isArray((c=x.data)==null?void 0:c.results)?x.data.results:x.data;if(Array.isArray(p)&&p.length)return p[0]||null}catch(x){console.debug(`[pacienteService] Filtro ?${f}= falhou:`,(d=x==null?void 0:x.response)==null?void 0:d.status)}return null},async atualizarPaciente(t){var d,f,x,p,g,h,j,S,b,y,N,C;const s="/pacientes/",r=s.endsWith("/")?s:`${s}/`,o=E=>Array.isArray(E)?E.map(_=>String(_).trim()).filter(Boolean).join(", "):typeof E=="string"?E.trim():E==null?"":String(E),l=E=>{if(E==null||E==="")return;typeof E=="string"&&(E=E.replace(",",".").trim());const _=Number(E);return Number.isFinite(_)?_:void 0},c={};if("tipo_sanguineo"in t&&(c.tipo_sanguineo=t.tipo_sanguineo),"alergias"in t&&(c.alergias=o(t.alergias)),"condicoes_cronicas"in t&&(c.condicoes_cronicas=o(t.condicoes_cronicas)),"peso"in t){const E=l(t.peso);E!==void 0&&(c.peso=E)}if("altura"in t){const E=l(t.altura);E!==void 0&&(c.altura=E)}"contato_emergencia_nome"in t&&(c.contato_emergencia_nome=((f=(d=t.contato_emergencia_nome)==null?void 0:d.trim)==null?void 0:f.call(d))||""),"contato_emergencia_telefone"in t&&(c.contato_emergencia_telefone=((p=(x=t.contato_emergencia_telefone)==null?void 0:x.trim)==null?void 0:p.call(x))||""),"plano_saude"in t&&(c.plano_saude=((h=(g=t.plano_saude)==null?void 0:g.trim)==null?void 0:h.call(g))||""),"numero_carteirinha"in t&&(c.numero_carteirinha=((S=(j=t.numero_carteirinha)==null?void 0:j.trim)==null?void 0:S.call(j))||""),"endereco"in t&&(c.endereco=((y=(b=t.endereco)==null?void 0:b.trim)==null?void 0:y.call(b))||""),"telefone"in t&&(c.telefone=((C=(N=t.telefone)==null?void 0:N.trim)==null?void 0:C.call(N))||""),"data_nascimento"in t&&(c.data_nascimento=t.data_nascimento),Object.keys(c).forEach(E=>{c[E]===void 0&&delete c[E]});try{return console.debug("[pacienteService] PATCH /pacientes/me/ payload:",c),(await xe.patch(`${r}me/`,c)).data}catch{const _=await this.getPacienteDoUsuario();if(!(_!=null&&_.id))throw new Error("Paciente não identificado para atualização.");return console.debug(`[pacienteService] PATCH /pacientes/${_.id}/ payload:`,c),(await xe.patch(`${r}${_.id}/`,c)).data}},async getReceitas(t={}){const s="/receitas/",r=s.endsWith("/")?s:`${s}/`,{__propagateErrors:o,...l}=t||{},c={...l};try{const d=await this.getPacienteDoUsuario();d!=null&&d.id&&(c.paciente||(c.paciente=d.id),c.paciente_id||(c.paciente_id=d.id))}catch{}try{return(await xe.get(r,{params:c})).data}catch(d){if(l.__propagateErrors===!0)throw d;return{results:[]}}},async getMedicosVinculados(){const t="/pacientes/",s=t.endsWith("/")?t:`${t}/`,r=await this.getPacienteDoUsuario();if(!(r!=null&&r.id))return[];const o=await xe.get(`${s}${r.id}/medicos/`);return Array.isArray(o.data)?o.data:[]},async solicitarReceita({medico:t,mensagem:s}){const r="/pacientes/",o=r.endsWith("/")?r:`${r}/`,l=await this.getPacienteDoUsuario();if(!(l!=null&&l.id))throw new Error("Paciente não identificado.");const c={medico:t,...s?{mensagem:s}:{}};return(await xe.post(`${o}${l.id}/solicitar_receita/`,c)).data},async getMedicos(t={}){return(await xe.get("/medicos/",{params:t})).data},async getDashboard(){var t;try{const s=new Date,r=new Date(s.getFullYear(),s.getMonth(),1),o=new Date(s.getFullYear(),s.getMonth()+1,0),l=R=>Array.isArray(R==null?void 0:R.results)?R.results:Array.isArray(R)?R:[],[c,d,f,x]=await Promise.all([this.getConsultas().catch(()=>({results:[]})),this.getExames().catch(()=>({results:[]})),this.getReceitas().catch(()=>({results:[]})),this.getMedicosVinculados().catch(()=>[])]),p=l(c),g=l(d),h=l(f),j=R=>{const k=new Date(R);return k.getMonth()===s.getMonth()&&k.getFullYear()===s.getFullYear()},S=p.map(R=>{var k,M;return{id:R.id||R.consulta_id,data_hora:R.data_hora||R.horario||R.inicio||R.data||R.start_time||null,status:R.status||"Agendada",tipo:R.tipo||R.modalidade||"Consulta",especialidade:R.especialidade||R.medico_especialidade||null,medico_nome:R.medico_nome||((k=R==null?void 0:R.medico)==null?void 0:k.nome)||((M=R==null?void 0:R.medico)!=null&&M.user?[R.medico.user.first_name,R.medico.user.last_name].filter(Boolean).join(" ").trim():void 0)}}),b=S.filter(R=>R.data_hora&&new Date(R.data_hora)>=s).sort((R,k)=>new Date(R.data_hora)-new Date(k.data_hora)).slice(0,5),y=S.filter(R=>R.data_hora&&j(R.data_hora)).length,N=g.map(R=>({id:R.id,tipo:R.tipo||R.nome||R.categoria||"Exame",status:R.status||R.situacao||"Pendente",data_agendamento:R.data_agendamento||R.agendamento||R.data||null,medico_solicitante:R.medico_solicitante||R.medico||void 0})),C=N.filter(R=>R.data_agendamento&&new Date(R.data_agendamento)>=s).sort((R,k)=>new Date(R.data_agendamento)-new Date(k.data_agendamento)).slice(0,5),E=N.filter(R=>j(R.data_agendamento)&&["realizado","concluido","concluído","finalizado"].includes(String(R.status).toLowerCase())).length,_=l(h).filter(R=>["ativa","valida","válida"].includes(String(R.status||R.situacao||"").toLowerCase())).length;return{consultasMes:y,consultasProximas:b.length,examesPendentes:N.filter(R=>String(R.status).toLowerCase()==="pendente").length,examesRealizadosMes:E,receitasAtivas:_,medicosVinculados:Array.isArray(x)?x.length:0,proximasConsultas:b,proximosExames:C}}catch(s){return console.warn("[pacienteService] getDashboard fallback falhou:",(t=s==null?void 0:s.response)==null?void 0:t.status),null}},async garantirPacienteDoUsuario(t={}){var l,c;try{const d=await this.getPacienteDoUsuario();if(d!=null&&d.id)return d}catch{}const s="/pacientes/",r=s.endsWith("/")?s:`${s}/`,o={...t};Object.keys(o).forEach(d=>{o[d]===void 0&&delete o[d]});try{return(await xe.post(`${r}me/`,o)).data}catch(d){console.debug("[pacienteService] POST /pacientes/me/ falhou:",(l=d==null?void 0:d.response)==null?void 0:l.status)}try{const d=await xe.post(r,o);if(d!=null&&d.data)return d.data}catch(d){console.debug("[pacienteService] POST /pacientes/ falhou:",(c=d==null?void 0:d.response)==null?void 0:c.status)}try{const d=await this.getPacienteDoUsuario();if(d!=null&&d.id)return d}catch{}throw new Error("Não foi possível criar o perfil de paciente para o usuário atual.")}};function Io({role:t="paciente"}){var _,R,k,M,O,P,I,D,F;const s=Lt(),r=ln(),{user:o,logout:l}=Xs(),{logout:c}=Ca(),d=(o==null?void 0:o.role)==="admin"||(o==null?void 0:o.tipo)==="admin",f=ng[t]||ng.paciente,[x,p]=m.useState(null),[g,h]=m.useState(t==="paciente");m.useEffect(()=>{let V=!0;if(t!=="paciente"){p(null),h(!1);return}return(async()=>{try{const re=await tt.getPacienteDoUsuario();V&&p(re||null)}catch{V&&p(null)}finally{V&&h(!1)}})(),()=>{V=!1}},[t]);const j=[{title:"Paciente",href:"/paciente/perfil",icon:It},{title:"Médico",href:"/medico/dashboard",icon:jt},{title:"Clínica",href:"/clinica/dashboard",icon:Ks},{title:"Admin",href:"/admin/dashboard",icon:il}],S=((_=f.header)==null?void 0:_.icon)||It,b=((R=f.header)==null?void 0:R.subtitle)||"Portal",y=((P=(O=(M=(k=f.sections)==null?void 0:k[0])==null?void 0:M.items)==null?void 0:O[0])==null?void 0:P.path)||"/",N=(x==null?void 0:x.foto_url)||(x==null?void 0:x.foto)||(o==null?void 0:o.avatar)||(o==null?void 0:o.avatar_url)||"/placeholder.svg",C=m.useMemo(()=>{var re,$;const V=[((re=x==null?void 0:x.user)==null?void 0:re.first_name)||(x==null?void 0:x.first_name),(($=x==null?void 0:x.user)==null?void 0:$.last_name)||(x==null?void 0:x.last_name)].filter(Boolean).join(" ").trim();return(x==null?void 0:x.nome)||V||(o==null?void 0:o.nome)||(o==null?void 0:o.name)||"Usuário"},[x,o]),E=(x==null?void 0:x.plano_saude)||(o==null?void 0:o.email)||"";return e.jsxs(Cy,{variant:"floating",className:ge("sidebar-green"),children:[" ",e.jsx(ky,{className:"border-b border-sidebar-border",children:e.jsx("div",{className:"flex items-center justify-between px-2 py-2",children:e.jsxs(qe,{to:y,className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(S,{className:"size-4"})}),e.jsxs("div",{className:"flex flex-col leading-none",children:[e.jsx("span",{className:"font-semibold",children:"Portal Médico"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:b})]})]})})}),e.jsxs(Py,{children:[(I=f.sections)==null?void 0:I.map((V,re)=>e.jsxs(Ku,{children:[V.label&&e.jsx(Gu,{children:V.label}),e.jsx(Yu,{children:e.jsx(Ju,{children:(V.items||[]).map($=>{const G=s.pathname===$.path||s.pathname.startsWith($.path+"/"),z=$.icon;return e.jsx(Qu,{children:e.jsx(Xu,{asChild:!0,"data-active":G,children:e.jsxs(qe,{to:$.path,className:"flex items-center gap-2",children:[z&&e.jsx(z,{className:"size-4"}),e.jsx("span",{children:$.label})]})})},$.path)})})})]},`${V.label}-${re}`)),d&&t!=="admin"&&e.jsxs(Ku,{children:[e.jsx(Gu,{children:"Telas"}),e.jsx(Yu,{children:e.jsx(Ju,{children:j.map(V=>{const re=s.pathname===V.href||s.pathname.startsWith(V.href+"/"),$=V.icon;return e.jsx(Qu,{children:e.jsx(Xu,{asChild:!0,"data-active":re,children:e.jsxs(qe,{to:V.href,className:"flex items-center gap-2",children:[$&&e.jsx($,{className:"size-4"}),e.jsx("span",{children:V.title})]})})},V.href)})})})]})]}),e.jsxs(Ry,{className:"border-t border-sidebar-border",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2 py-2",children:[e.jsxs(ac,{className:"size-8",children:[e.jsx(Qm,{src:N}),e.jsx(rc,{children:(F=(D=C||"U")==null?void 0:D.charAt(0))==null?void 0:F.toUpperCase()})]}),e.jsxs("div",{className:"flex flex-col gap-0.5 leading-none flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-medium truncate",children:C}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:E})]}),e.jsxs(se,{variant:"ghost",size:"sm",onClick:async()=>{try{await l()}finally{c==null||c(),r("/login")}},className:"text-xs",title:"Sair",children:[e.jsx(RC,{className:"mr-1.5 h-4 w-4"}),"Sair"]})]}),e.jsxs("div",{className:"px-2 py-1 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Tema"}),e.jsx(sc,{})]})]})]})}function lP(){const t=Lt(),s=ln(),[r,o]=m.useState(null),[l,c]=m.useState(!0),d=m.useRef(!1),f=async()=>{try{const h=await tt.getPerfil();o(h)}catch{}finally{c(!1)}};m.useEffect(()=>{let h=!0;return(async()=>h&&(c(!0),await f()))(),()=>{h=!1}},[]);const x=!!r&&(!(r!=null&&r.data_nascimento)||!(r!=null&&r.endereco)||!(r!=null&&r.telefone));m.useEffect(()=>((async()=>t.pathname!=="/paciente/perfil"&&(d.current=!0,c(!0),await f(),d.current=!1))(),()=>{}),[t.pathname]),m.useEffect(()=>{d.current||!l&&x&&t.pathname!=="/paciente/perfil"&&s("/paciente/perfil",{replace:!0})},[l,x,t.pathname,s]);const p=m.useMemo(()=>{const h=t.pathname,j={"/paciente/perfil":"Perfil","/paciente/prontuario":"Prontuário","/paciente/consultas":"Consultas","/paciente/exames":"Exames","/paciente/receitas":"Receitas","/paciente/historico-medico":"Histórico Médico","/paciente/medicos":"Médicos Vinculados","/paciente/configuracoes":"Configurações"},S=j[h]||Object.keys(j).find(b=>h.startsWith(b))&&j[Object.keys(j).find(b=>h.startsWith(b))]||"Perfil";return[{label:"Área do Paciente",href:"/paciente/perfil"},{label:S}]},[t.pathname]),g=()=>e.jsx(Io,{role:"paciente"});return e.jsx(Oo,{sidebar:g,breadcrumbs:p,children:e.jsx(bo,{})})}function cP(){const t=()=>e.jsx(Io,{role:"medico"});return e.jsx(Oo,{sidebar:t,children:e.jsx(bo,{})})}function Gj({breadcrumbs:t}){const s=()=>e.jsx(Io,{role:"clinica"});return e.jsx(Oo,{sidebar:s,breadcrumbs:t,children:e.jsx(bo,{})})}function dP(){const t=()=>e.jsx(Io,{role:"admin"});return e.jsx(Oo,{sidebar:t,children:e.jsx(bo,{})})}var uP="Label",Yj=m.forwardRef((t,s)=>e.jsx(Fe.label,{...t,ref:s,onMouseDown:r=>{var l;r.target.closest("button, input, select, textarea")||((l=t.onMouseDown)==null||l.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Yj.displayName=uP;var mP=Yj;const fP=Il("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=m.forwardRef(({className:t,...s},r)=>e.jsx(mP,{ref:r,className:ge(fP(),t),...s}));ue.displayName="Label";const ie=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));ie.displayName="Card";const de=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ge("flex flex-col space-y-1.5 p-6",t),...s}));de.displayName="CardHeader";const me=m.forwardRef(({className:t,...s},r)=>e.jsx("h3",{ref:r,className:ge("text-2xl font-semibold leading-none tracking-tight",t),...s}));me.displayName="CardTitle";const Le=m.forwardRef(({className:t,...s},r)=>e.jsx("p",{ref:r,className:ge("text-sm text-muted-foreground",t),...s}));Le.displayName="CardDescription";const ce=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ge("p-6 pt-0",t),...s}));ce.displayName="CardContent";const pP=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ge("flex items-center p-6 pt-0",t),...s}));pP.displayName="CardFooter";const hP=5;let bu=0;function xP(){return bu=(bu+1)%Number.MAX_SAFE_INTEGER,bu.toString()}const Hs={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},ml=[];let fl={toasts:[]};function pl(t){fl=gP(fl,t),ml.forEach(s=>{s(fl)})}function gP(t,s){switch(s.type){case Hs.ADD_TOAST:return{...t,toasts:[s.toast,...t.toasts].slice(0,hP)};case Hs.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case Hs.DISMISS_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===s.toastId||s.toastId===void 0?{...r,open:!1}:r)};case Hs.REMOVE_TOAST:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}}function vP({...t}){const s=xP(),r=l=>pl({type:Hs.UPDATE_TOAST,toast:{...l,id:s}}),o=()=>pl({type:Hs.DISMISS_TOAST,toastId:s});return pl({type:Hs.ADD_TOAST,toast:{...t,id:s,open:!0,onOpenChange:l=>{l||o()}}}),{id:s,dismiss:o,update:r}}function Et(){const[t,s]=m.useState(fl);return m.useEffect(()=>(ml.push(s),()=>{const r=ml.indexOf(s);r>-1&&ml.splice(r,1)}),[t]),{...t,toast:vP,dismiss:r=>pl({type:Hs.DISMISS_TOAST,toastId:r})}}function yP(){const[t,s]=m.useState({email:"",password:""}),[r,o]=m.useState(!1),{login:l,loginWithGoogle:c}=Xs(),{toast:d}=Et(),f=ln(),x=async N=>{var C,E,_,R,k,M,O,P,I,D,F;N.preventDefault(),o(!0);try{const V=await l(t);switch(d({title:"Login realizado com sucesso!",description:`Bem-vindo, ${((C=V.user)==null?void 0:C.first_name)||((E=V.user)==null?void 0:E.username)||((_=V.user)==null?void 0:_.email)||"usuário"}!`}),((R=V.user)==null?void 0:R.role)||((k=V.user)==null?void 0:k.tipo)){case"medico":f("/medico/dashboard");break;case"paciente":f("/paciente/perfil");break;case"clinica":f("/clinica/dashboard");break;case"admin":f("/admin/dashboard");break;default:f("/")}}catch(V){const re=((O=(M=V.response)==null?void 0:M.data)==null?void 0:O.error)||((I=(P=V.response)==null?void 0:P.data)==null?void 0:I.detail)||((F=(D=V.response)==null?void 0:D.data)==null?void 0:F.message);d({title:"Erro no login",description:re||"Credenciais inválidas",variant:"destructive"})}finally{o(!1)}},p=N=>{s(C=>({...C,[N.target.name]:N.target.value}))},[g,h]=m.useState(!1),j=m.useRef(null),{setTheme:S,theme:b}=Ty(),y=m.useRef(null);return m.useEffect(()=>(y.current=b,S("light"),()=>{y.current&&S(y.current)}),[b,S]),m.useEffect(()=>{if(window.google&&j.current)try{window.google.accounts.id.initialize({client_id:"SEU_CLIENT_ID_REAL.apps.googleusercontent.com",callback:async N=>{var E,_,R,k,M,O,P,I;const C=N==null?void 0:N.credential;if(C){h(!0);try{const D=await c(C);switch(d({title:"Login com Google realizado!",description:`Bem-vindo, ${((E=D.user)==null?void 0:E.nome)||((_=D.user)==null?void 0:_.first_name)||((R=D.user)==null?void 0:R.username)||((k=D.user)==null?void 0:k.email)||"usuário"}!`}),((M=D.user)==null?void 0:M.role)||((O=D.user)==null?void 0:O.tipo)){case"medico":f("/medico/dashboard");break;case"paciente":f("/paciente/perfil");break;case"clinica":f("/clinica/dashboard");break;case"admin":f("/admin/dashboard");break;default:f("/")}}catch(D){d({title:"Erro no login com Google",description:((I=(P=D.response)==null?void 0:P.data)==null?void 0:I.message)||"Não foi possível autenticar",variant:"destructive"})}finally{h(!1)}}}}),window.google.accounts.id.renderButton(j.current,{theme:"outline",size:"large",shape:"pill",text:"continue_with",width:320})}catch{}},[c,f,d]),e.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:e.jsxs(ie,{className:"w-full max-w-md shadow-app-lg border-0 backdrop-blur-sm bg-white/95",children:[e.jsxs(de,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-app-gradient rounded-xl flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx(me,{className:"text-2xl font-bold text-app-gradient",children:"Entrar"}),e.jsx(Le,{className:"text-center text-slate-600",children:"Acesse sua conta no Portal Médico"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"email",className:"text-slate-700 font-medium",children:"Email"}),e.jsx(fe,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t.email,onChange:p,required:!0,className:"h-11 border-slate-200 focus:border-primary focus:ring-primary/20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"password",className:"text-slate-700 font-medium",children:"Senha"}),e.jsx(fe,{id:"password",name:"password",type:"password",placeholder:"••••••••",value:t.password,onChange:p,required:!0,className:"h-11 border-slate-200 focus:border-primary focus:ring-primary/20"})]}),e.jsx(se,{type:"submit",className:"w-full h-11 bg-app-gradient hover:opacity-90 text-white font-semibold shadow-app",disabled:r,children:r?"Entrando...":"Entrar"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"}),e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"ou"}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{ref:j,className:"w-full flex justify-center"})}),!window.google&&e.jsx(se,{type:"button",variant:"outline",className:"w-full h-11 border-slate-200 hover:bg-slate-50",disabled:!0,children:g?"Conectando...":"Continuar com Google"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(qe,{to:"/esqueci-senha",className:"text-sm text-sky-500 hover:text-sky-600 hover:underline",children:"Esqueceu sua senha?"}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Não tem uma conta?"," ",e.jsx(qe,{to:"/registrar",className:"text-sky-500 hover:text-sky-600 hover:underline font-medium",children:"Cadastre-se"})]})]})]})]})})}function jP(){const t=ln(),{toast:s}=Et(),[r,o]=m.useState(!1),[l,c]=m.useState("paciente"),[d,f]=m.useState(!1),[x,p]=m.useState(!1),[g,h]=m.useState({nome:"",email:"",senha:"",confirmSenha:"",cpf:"",nomeClinica:"",cnpj:""}),j=$=>{const G=$.replace(/\D/g,"").slice(0,11),z=G.slice(0,3),H=G.slice(3,6),W=G.slice(6,9),X=G.slice(9,11);return G.length>9?`${z}.${H}.${W}-${X}`:G.length>6?`${z}.${H}.${W}`:G.length>3?`${z}.${H}`:z},S=$=>{const G=String($||"").replace(/\D/g,"").slice(0,14),z=G.slice(0,2),H=G.slice(2,5),W=G.slice(5,8),X=G.slice(8,12),te=G.slice(12,14);return G.length>12?`${z}.${H}.${W}/${X}-${te}`:G.length>8?`${z}.${H}.${W}/${X}`:G.length>5?`${z}.${H}.${W}`:G.length>2?`${z}.${H}`:z},b=$=>String($||"").replace(/\D/g,"").slice(0,7),y=$=>{const{name:G,value:z}=$.target;if(G==="cpf"){h({...g,cpf:j(z)});return}if(G==="cnpj"){h({...g,cnpj:S(z)});return}h({...g,[G]:z})},N=$=>String($||"").trim().replace(/\s+/g," ").split(" ").filter(Boolean).map(G=>G.charAt(0).toUpperCase()+G.slice(1).toLowerCase()).join(" "),[C,E]=m.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),_=m.useRef(null),R=m.useRef(null),k=m.useRef(null),M=$=>{const{name:G,value:z}=$.target;E(G==="crm"?H=>({...H,crm:b(z)}):H=>({...H,[G]:z}))},O=($,G)=>{E(z=>({...z,documentos:{...z.documentos,[$]:G}}))},P=($,G)=>{E(z=>({...z,documentos:{...z.documentos,[$]:null}})),G!=null&&G.current&&(G.current.value="")},I=$=>{if(!$&&$!==0)return"";const G=["Bytes","KB","MB","GB"];if($===0)return"0 Byte";const z=Math.floor(Math.log($)/Math.log(1024));return`${($/Math.pow(1024,z)).toFixed(1)} ${G[z]}`},D=({label:$,required:G=!1,icon:z="📄",accept:H=".pdf,image/*",file:W,onFile:X,onRemove:te,inputRef:T})=>{const[U,Z]=m.useState(!1),L=K=>{var Q;K.preventDefault(),Z(!1);const J=(Q=K.dataTransfer.files)==null?void 0:Q[0];J&&X(J)};return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base",children:z}),e.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[$," ",G?e.jsx("span",{className:"text-rose-600",children:"*"}):e.jsx("span",{className:"text-slate-400",children:"(opcional)"})]})]}),e.jsx("input",{ref:T,type:"file",accept:H,className:"hidden",onChange:K=>{var J;return X(((J=K.target.files)==null?void 0:J[0])||null)}}),e.jsxs("div",{onDragOver:K=>{K.preventDefault(),Z(!0)},onDragLeave:()=>Z(!1),onDrop:L,className:`rounded-lg border-2 p-3 flex items-center justify-between gap-3 transition
            ${U?"border-sky-400 bg-sky-50":"border-dashed border-slate-300 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100 flex items-center justify-center text-lg",children:z}),W?e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:W.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[W.type||"Arquivo"," • ",I(W.size)]})]}):e.jsxs("div",{className:"text-sm text-slate-600",children:["Arraste e solte aqui ou"," ",e.jsx("button",{type:"button",onClick:()=>{var K;return(K=T==null?void 0:T.current)==null?void 0:K.click()},className:"underline text-sky-700 hover:text-sky-800",children:"procurar"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!W&&e.jsx("button",{type:"button",onClick:()=>{var K;return(K=T==null?void 0:T.current)==null?void 0:K.click()},className:"px-3 py-2 rounded-md bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800",children:"Escolher arquivo"}),W&&e.jsx("button",{type:"button",onClick:te,className:"px-3 py-2 rounded-md bg-rose-50 text-rose-700 text-xs font-semibold hover:bg-rose-100",children:"Remover"})]})]})]})},F=g.email.length===0||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email),V=g.confirmSenha.length===0||g.senha.length>0&&g.senha===g.confirmSenha,re=async $=>{var G,z,H,W,X,te,T,U,Z,L;if($.preventDefault(),!g.nome||!g.email||!g.senha||!g.cpf){s({title:"Erro de validação",description:"Por favor, preencha todos os campos obrigatórios.",variant:"destructive"});return}if(g.senha!==g.confirmSenha){s({title:"Erro de validação",description:"As senhas não conferem.",variant:"destructive"});return}if(g.senha.length<6){s({title:"Erro de validação",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(l==="medico"){if(!C.crm){s({title:"CRM obrigatório",description:"Informe o CRM para cadastro como médico.",variant:"destructive"});return}if(!C.documentos.diplomaMedicina){s({title:"Diploma obrigatório",description:"Anexe o Diploma de Medicina.",variant:"destructive"});return}}o(!0);try{const K=String(g.nome||"").trim().replace(/\s+/g," "),J=N(K),[Q,...le]=J.split(" "),we=le.join(" "),je={username:g.nome.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^a-z0-9@.+_-]/g,""),first_name:Q||"",last_name:we||"",email:g.email,password:g.senha,password_confirm:g.confirmSenha,role:l==="medico"?"paciente":l,desired_role:l,cpf:g.cpf||""};l==="clinica"&&(je.nome_clinica=g.nomeClinica,je.cnpj=g.cnpj);const Ce=await mt.register(je,{medicoData:l==="medico"?C:void 0});if(l==="medico"){const Re=Ce==null?void 0:Ce.medicoApplication;Re!=null&&Re.success?s({title:"Solicitação enviada!",description:"Seus dados de médico foram enviados para análise."}):Re&&Re.success===!1&&(console.error("[RegisterForm] criarSolicitacaoMedico via authService falhou:",Re.error),s({title:"Solicitação pendente",description:"Sua conta foi criada, mas não foi possível enviar a solicitação de médico agora. Você poderá concluir depois."}))}s({title:"Registro realizado com sucesso!",description:"Sua conta foi criada. Você pode fazer login agora."}),t("/login")}catch(K){console.error("Erro no registro:",K),console.error("Status do erro:",(G=K.response)==null?void 0:G.status),console.error("Detalhes do erro:",(z=K.response)==null?void 0:z.data),console.error("Headers da resposta:",(H=K.response)==null?void 0:H.headers);let J="Erro interno do servidor. Tente novamente.",Q=!1,le=!1,we=!1;try{const je=(W=K.response)==null?void 0:W.status,Ce=((X=K.response)==null?void 0:X.headers)||{},Re=Ce["content-type"]||Ce["Content-Type"]||"",Ue=(te=K.response)==null?void 0:te.data,We=((typeof Ue=="string"?Ue:"")||"").toLowerCase(),Te=_t=>{_t==="crm"?J="CRM já cadastrado no sistema. Utilize outro número de CRM.":_t==="email"?J="E-mail já cadastrado no sistema.":_t==="cpf"?J="CPF já cadastrado no sistema.":J="Algum campo único já está cadastrado (ex.: CRM, e-mail ou CPF)."};je===409&&(Te("unknown"),le=!0),Q=String(Re).includes("text/html"),(Q||We.includes("unique constraint")||We.includes("integrityerror"))&&(We.includes("crm")?(Te("crm"),le=!0,we=!0):We.includes("email")?(Te("email"),le=!0):We.includes("cpf")&&(Te("cpf"),le=!0))}catch{}if((T=K.response)!=null&&T.data){const je=K.response.data;if(console.log("Tipo do errorData:",typeof je),console.log("ErrorData completo:",JSON.stringify(je,null,2)),typeof je=="object"){const Ce=[];for(const[Re,Ue]of Object.entries(je))Array.isArray(Ue)?Ce.push(`${Re}: ${Ue.join(", ")}`):Ce.push(`${Re}: ${Ue}`);Ce.length&&(J=Ce.join(`
`))}typeof je=="string"?/<\/?(html|body|head|table|div|span|style|script)[^>]*>/i.test(je)||(J=je):je.message?J=je.message:je.email?J=`Email: ${je.email[0]}`:je.password&&(J=`Senha: ${je.password[0]}`)}try{const je=(U=K.response)==null?void 0:U.status,Ce=((Z=K.response)==null?void 0:Z.headers)||{},Re=Ce["content-type"]||Ce["Content-Type"]||"",Ue=(L=K.response)==null?void 0:L.data,We=((typeof Ue=="string"?Ue:"")||"").toLowerCase(),Te=le||je===409||We.includes("unique constraint")||We.includes("integrityerror"),_t=Q||String(Re).includes("text/html"),ys=we||We.includes("crm")||We.includes("medico");if(Te&&(_t||ys)){try{await mt.login({email:g.email,password:g.senha}),await mt.logout(),s({title:"Conta criada",description:"Sua conta foi criada, mas houve um problema com os dados de médico (CRM). Faça login para continuar."}),t("/login");return}catch{}s({title:"Conta possivelmente criada",description:J+" — Tente fazer login com seu e-mail e senha."}),t("/login");return}}catch{}s({title:"Erro no registro",description:J,variant:"destructive"})}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-app-soft flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur shadow-app-lg rounded-2xl border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 pt-6 pb-4 bg-app-gradient text-white",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Criar conta"}),e.jsx("p",{className:"text-white/90 text-sm",children:l==="paciente"?"Como paciente":l==="clinica"?"Como clínica":"Como médico"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-slate-100 rounded-lg p-1 grid grid-cols-3 gap-1",children:[e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${l==="paciente"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("paciente"),children:"👤 Paciente"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${l==="clinica"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("clinica"),children:"🏥 Clínica"}),e.jsx("button",{type:"button",className:`py-2 rounded-md text-sm font-semibold transition ${l==="medico"?"bg-white shadow text-slate-900":"text-slate-600 hover:text-slate-800"}`,onClick:()=>c("medico"),children:"🩺 Médico"})]}),e.jsxs("form",{className:"space-y-4",onSubmit:re,children:[l!=="clinica"?e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome completo"}),e.jsx("input",{type:"text",name:"nome",placeholder:"Seu nome",value:g.nome,onChange:y,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nome da clínica"}),e.jsx("input",{type:"text",name:"nomeClinica",placeholder:"Ex.: Clínica Vida",value:g.nomeClinica,onChange:y,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CNPJ"}),e.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",value:g.cnpj,onChange:y,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"E-mail"}),e.jsx("input",{type:"email",name:"email",placeholder:"seu@email.com",value:g.email,onChange:y,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:border-sky-500 transition ${F?"border-slate-200 focus:ring-sky-500":"border-rose-300 focus:ring-rose-500"}`}),!F&&e.jsx("p",{className:"mt-1 text-xs text-rose-600",children:"Informe um e-mail válido."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CPF *"}),e.jsx("input",{type:"text",name:"cpf",placeholder:"000.000.000-00",value:g.cpf,onChange:y,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",name:"senha",placeholder:"Crie uma senha",value:g.senha,onChange:y,required:!0,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"}),e.jsx("button",{type:"button",onClick:()=>f($=>!$),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":d?"Ocultar senha":"Mostrar senha",children:d?"Ocultar":"Mostrar"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Confirmar senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:x?"text":"password",name:"confirmSenha",placeholder:"Repita a senha",value:g.confirmSenha,onChange:y,required:!0,className:`mt-1 w-full rounded-lg border bg-white px-3 py-2.5 pr-12 text-slate-900 placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 transition ${V?"border-slate-200 focus:ring-sky-500 focus:border-sky-500":"border-amber-300 focus:ring-amber-400"}`}),e.jsx("button",{type:"button",onClick:()=>p($=>!$),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 text-sm px-2 py-1","aria-label":x?"Ocultar senha":"Mostrar senha",children:x?"Ocultar":"Mostrar"})]}),g.confirmSenha.length>0&&e.jsx("p",{className:`mt-1 text-xs ${g.senha===g.confirmSenha?"text-emerald-600":"text-amber-600"}`,children:g.senha===g.confirmSenha?"Senhas conferem.":"As senhas não conferem."})]}),l==="medico"&&e.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[e.jsx("p",{className:"font-semibold",children:"Dados do Médico"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"CRM"}),e.jsx("input",{type:"text",name:"crm",placeholder:"CRM",value:C.crm,onChange:M,maxLength:7,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidade"}),e.jsx("input",{type:"text",name:"especialidade",placeholder:"Ex.: Cardiologia",value:C.especialidade,onChange:M,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituição de Formação"}),e.jsx("input",{type:"text",name:"instituicaoFormacao",placeholder:"Universidade",value:C.instituicaoFormacao,onChange:M,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano de Formação"}),e.jsx("input",{type:"number",name:"anoFormacao",placeholder:"YYYY",value:C.anoFormacao,onChange:M,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Residência (se aplicável)"}),e.jsx("input",{type:"text",name:"residencia",placeholder:"Residência Médica",value:C.residencia,onChange:M,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Instituição da Residência"}),e.jsx("input",{type:"text",name:"instituicaoResidencia",placeholder:"Instituição",value:C.instituicaoResidencia,onChange:M,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ano da Residência"}),e.jsx("input",{type:"number",name:"anoResidencia",placeholder:"YYYY",value:C.anoResidencia,onChange:M,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Experiência"}),e.jsx("textarea",{name:"experiencia",placeholder:"Resumo da experiência",value:C.experiencia,onChange:M,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Motivação"}),e.jsx("textarea",{name:"motivacao",placeholder:"Por que deseja se cadastrar como médico na plataforma?",value:C.motivacao,onChange:M,className:"mt-1 w-full rounded-lg border border-slate-200 bg-white px-3 py-2.5",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium",children:"Documentos"}),e.jsx(D,{label:"Diploma de Medicina",required:!0,icon:"🎓",accept:".pdf,image/*",file:C.documentos.diplomaMedicina,inputRef:_,onFile:$=>O("diplomaMedicina",$),onRemove:()=>P("diplomaMedicina",_)}),e.jsx(D,{label:"Certificado de Residência",icon:"🏅",accept:".pdf,image/*",file:C.documentos.certificadoResidencia,inputRef:R,onFile:$=>O("certificadoResidencia",$),onRemove:()=>P("certificadoResidencia",R)}),e.jsx(D,{label:"Comprovante de Experiência",icon:"📄",accept:".pdf,image/*",file:C.documentos.comprovanteExperiencia,inputRef:k,onFile:$=>O("comprovanteExperiencia",$),onRemove:()=>P("comprovanteExperiencia",k)})]})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full py-2.5 rounded-lg font-semibold text-white bg-app-gradient hover:opacity-90 shadow-app transition disabled:opacity-70 disabled:cursor-not-allowed",children:r?"Registrando...":`Registrar ${{paciente:"Paciente",clinica:"Clínica",medico:"Médico"}[l]||"Usuário"}`})]})]})]})})}const Jj=m.createContext(null);function Qj(){const t=m.useContext(Jj);if(!t)throw new Error("Tabs components must be used within <Tabs>");return t}const ts=m.forwardRef(({className:t,value:s,defaultValue:r="",onValueChange:o,children:l,...c},d)=>{const[f,x]=m.useState(r),p=s!==void 0,g=p?s:f,h=j=>{p||x(j),o==null||o(j)};return e.jsx(Jj.Provider,{value:{value:g,setValue:h},children:e.jsx("div",{ref:d,className:ge("",t),...c,children:l})})});ts.displayName="Tabs";const ns=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));ns.displayName="TabsList";const at=m.forwardRef(({className:t,value:s,onClick:r,...o},l)=>{const{value:c,setValue:d}=Qj(),f=c===s,x=p=>{r==null||r(p),d(s)};return e.jsx("button",{ref:l,"data-state":f?"active":"inactive",className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",f?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",t),onClick:x,...o})});at.displayName="TabsTrigger";const ct=m.forwardRef(({className:t,value:s,forceMount:r=!1,...o},l)=>{const{value:c}=Qj();return!r&&c!==s?null:e.jsx("div",{ref:l,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...o})});ct.displayName="TabsContent";function wP(){const[t,s]=m.useState(""),[r,o]=m.useState(!1),[l,c]=m.useState(!1),[d,f]=m.useState("paciente"),x=ln(),p=Lt(),{toast:g}=Et();m.useEffect(()=>{const S=new URLSearchParams(p.search).get("role");(S==="clinica"||S==="paciente")&&f(S)},[p]);const h=async j=>{j.preventDefault(),o(!0);try{await new Promise(S=>setTimeout(S,1500)),c(!0),g({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir sua senha."})}catch{g({title:"Erro",description:"Não foi possível enviar o email. Tente novamente.",variant:"destructive"})}finally{o(!1)}};return l?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-app-soft py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(ie,{className:"w-full max-w-md shadow-app-lg border-0 backdrop-blur-sm bg-white/95",children:[e.jsxs(de,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:e.jsx(ko,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsx(me,{className:"text-2xl font-bold",children:"Email Enviado!"}),e.jsxs(Le,{children:["Enviamos um link para redefinir sua senha para ",e.jsx("strong",{children:t})]})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Verifique sua caixa de entrada e spam. O link expira em 24 horas."}),e.jsx(se,{variant:"outline",className:"w-full bg-transparent",onClick:()=>c(!1),children:"Enviar para outro email"}),e.jsxs(se,{variant:"ghost",className:"w-full",onClick:()=>x(`/login?role=${d}`),children:[e.jsx(fo,{className:"mr-2 h-4 w-4"}),"Voltar ao login"]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-app-soft py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(ie,{className:"w-full max-w-md shadow-app-lg border-0 backdrop-blur-sm bg-white/95",children:[e.jsxs(de,{className:"space-y-1",children:[e.jsx(me,{className:"text-2xl font-bold text-center",children:"Esqueceu sua senha?"}),e.jsx(Le,{className:"text-center",children:"Digite seu email para receber um link de redefinição"})]}),e.jsxs(ce,{children:[e.jsx(ts,{value:d,onValueChange:f,className:"mb-6",children:e.jsxs(ns,{className:"grid w-full grid-cols-2",children:[e.jsxs(at,{value:"paciente",className:"flex items-center justify-center gap-2",children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{children:"Paciente"})]}),e.jsxs(at,{value:"clinica",className:"flex items-center justify-center gap-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),e.jsx("span",{children:"Clínica"})]})]})}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"email",children:"Email"}),e.jsx(fe,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:j=>s(j.target.value),required:!0})]}),e.jsx(se,{type:"submit",className:"w-full",disabled:r,children:r?"Enviando...":"Enviar Link de Redefinição"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(qe,{to:`/login?role=${d}`,className:"text-primary hover:underline flex items-center justify-center gap-2",children:[e.jsx(fo,{className:"h-4 w-4"}),"Voltar ao login"]})})]})]})})}function NP({children:t}){const{user:s,isAuthenticated:r,loading:o}=Xs(),l=Lt();if(o)return null;if(!r)return e.jsx(ot,{to:"/login",state:{from:l},replace:!0});const c=(s==null?void 0:s.role)||(s==null?void 0:s.tipo);return c!=="secretaria"&&c!=="admin"?c==="paciente"?e.jsx(ot,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx(ot,{to:"/medico/dashboard",replace:!0}):c==="clinica"?e.jsx(ot,{to:"/clinica/dashboard",replace:!0}):e.jsx(ot,{to:"/",replace:!0}):t}function bP(){const t=()=>e.jsx(Io,{role:"secretaria"});return e.jsx(Oo,{sidebar:t,children:e.jsx(bo,{})})}function Nn({tabs:t,basePath:s}){const r=Lt();return e.jsx("div",{className:"border-b",children:e.jsx("nav",{className:"flex space-x-4 px-1",children:t.map(o=>{const l=r.pathname===o.href;return e.jsx(qe,{to:o.href,className:ge("flex items-center px-3 py-3 text-sm font-medium transition-colors",l?"border-b-2 border-slate-900 text-slate-950 dark:text-slate-100 dark:border-slate-200":"text-slate-600 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white"),children:o.label},o.href)})})})}function et({className:t,variant:s="default",...r}){const o={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground"};return e.jsx("div",{className:ge("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",o[s],t),...r})}const rt=m.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));rt.displayName="Textarea";function SP(){const[t,s]=m.useState(null),[r,o]=m.useState(null),[l,c]=m.useState(!0),[d,f]=m.useState(null),[x,p]=m.useState([]),[g,h]=m.useState(!0),[j,S]=m.useState({data_nascimento:"",endereco:"",telefone:"",tipo_sanguineo:"",alergias:"",condicoes_cronicas:""}),[b,y]=m.useState(!1),{toast:N}=Et();m.useEffect(()=>{let I=!0;return(async()=>{var D,F,V,re;try{const[$,G]=await Promise.allSettled([tt.getPerfil(),tt.getPacienteDoUsuario()]);if(!I)return;if($.status==="fulfilled"&&s($.value),G.status==="fulfilled"&&o(G.value),$.status==="rejected"&&G.status==="rejected"){const z=((F=(D=$.reason)==null?void 0:D.response)==null?void 0:F.status)||((re=(V=G.reason)==null?void 0:V.response)==null?void 0:re.status);f(z===401?"Sua sessão não é válida. Verifique o login e o tipo de autenticação (Bearer/JWT/Token).":"Não foi possível carregar seu perfil.")}}finally{I&&c(!1)}})(),()=>{I=!1}},[]),m.useEffect(()=>{let I=!0;return(async()=>{try{h(!0);const D=await tt.getConsultas();if(I){const V=(Array.isArray(D)?D:(D==null?void 0:D.results)||[]).map(z=>{var te,T,U,Z,L,K,J,Q,le,we,je;const H=((T=(te=z.medico)==null?void 0:te.user)==null?void 0:T.first_name)||((U=z.medico)==null?void 0:U.first_name)||((Z=z.medico)==null?void 0:Z.nome)||"",W=((K=(L=z.medico)==null?void 0:L.user)==null?void 0:K.last_name)||((J=z.medico)==null?void 0:J.last_name)||"",X=[H,W].filter(Boolean).join(" ").trim()||((Q=z.medico)==null?void 0:Q.nome)||"—";return{id:z.id,data:z.data||z.data_hora,medico:{nome:X,especialidade:((je=(we=(le=z.medico)==null?void 0:le.especialidades)==null?void 0:we[0])==null?void 0:je.nome)||z.especialidade||"Não especificada"},status:z.status,local:z.local||z.localizacao||z.observacoes||"Local não especificado",tipo:z.tipo||z.motivo||"Consulta"}}),re=new Date,G=V.filter(z=>{const W=(z.status||"").toLowerCase().includes("agend"),X=z.data?new Date(z.data)>re:!1;return W||X}).filter(z=>z.data).sort((z,H)=>new Date(z.data)-new Date(H.data));p(G.slice(0,3))}}catch(D){console.error("Erro ao carregar consultas:",D)}finally{I&&h(!1)}})(),()=>{I=!1}},[]),m.useEffect(()=>{(t||r)&&S(I=>({...I,data_nascimento:(t==null?void 0:t.data_nascimento)||"",endereco:(t==null?void 0:t.endereco)||"",telefone:(t==null?void 0:t.telefone)||"",tipo_sanguineo:(r==null?void 0:r.tipo_sanguineo)||"",alergias:Array.isArray(r==null?void 0:r.alergias)?r.alergias.join(", "):(r==null?void 0:r.alergias)||"",condicoes_cronicas:Array.isArray(r==null?void 0:r.condicoes_cronicas)?r.condicoes_cronicas.join(", "):(r==null?void 0:r.condicoes_cronicas)||""}))},[t,r]);const C=(!!t||!!r)&&(!(t!=null&&t.data_nascimento)||!(t!=null&&t.endereco)||!(t!=null&&t.telefone)||!(r!=null&&r.tipo_sanguineo)||!(r!=null&&r.alergias)),E=I=>{const{name:D,value:F}=I.target;S(V=>({...V,[D]:F}))},_=async I=>{var D;I.preventDefault(),y(!0);try{const F={data_nascimento:j.data_nascimento||"",endereco:j.endereco||"",telefone:j.telefone||""},V=W=>String(W||"").split(",").map(X=>X.trim()).filter(Boolean),re=Array.isArray(r==null?void 0:r.alergias)?V(j.alergias):j.alergias||"",$=Array.isArray(r==null?void 0:r.condicoes_cronicas)?V(j.condicoes_cronicas):j.condicoes_cronicas||"",G={tipo_sanguineo:j.tipo_sanguineo||"",alergias:re,condicoes_cronicas:$},[z,H]=await Promise.all([tt.atualizarPerfil(F),tt.atualizarPaciente(G)]);s(z),o(H),N({title:"Perfil atualizado",description:"Suas informações pessoais e médicas foram salvas com sucesso."})}catch(F){const V=(D=F==null?void 0:F.response)!=null&&D.data?JSON.stringify(F.response.data):"Tente novamente mais tarde.";N({title:"Erro ao salvar",description:V,variant:"destructive"})}finally{y(!1)}},R=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],k=[{title:"Agendar Consulta",description:"Marque uma consulta com seus médicos",icon:Ve,href:"/paciente/consultas/nova",color:"bg-primary"},{title:"Ver Exames",description:"Acesse seus resultados de exames",icon:Jt,href:"/paciente/exames",color:"bg-success"},{title:"Histórico Médico",description:"Consulte seu histórico completo",icon:Mn,href:"/paciente/historico-medico",color:"bg-info"}],M={"bg-primary":"primary","bg-success":"success","bg-info":"info"},O=I=>I!=null&&I.first_name&&(I!=null&&I.last_name)?`${I.first_name.charAt(0)}${I.last_name.charAt(0)}`:I!=null&&I.username?I.username.substring(0,2).toUpperCase():"P",P=I=>typeof I=="string"?I:I&&`${I.logradouro||""} ${I.numero||""} ${I.bairro||""} ${I.cidade||""} ${I.estado||""}`.trim()||"—";return e.jsx("div",{className:"bg-app-soft dark:bg-background",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-10",children:[e.jsx("div",{className:"bg-card rounded-2xl shadow-sm border p-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(ac,{className:"h-20 w-20 ring-4 ring-primary/10",children:e.jsx(rc,{className:"bg-primary text-primary-foreground text-xl font-semibold",children:l?"...":O(t)})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:l?e.jsx(Ke,{className:"h-8 w-48"}):[t==null?void 0:t.first_name,t==null?void 0:t.last_name].filter(Boolean).join(" ")||(t==null?void 0:t.username)||"Usuário"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Paciente"}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[(t==null?void 0:t.cpf)&&e.jsxs(et,{variant:"secondary",className:"font-medium",children:["CPF: ",t.cpf]}),(r==null?void 0:r.tipo_sanguineo)&&e.jsxs(et,{variant:"outline",className:"border-red-500/30 text-red-600",children:[e.jsx(Ex,{className:"h-3 w-3 mr-1 text-red-500"}),r.tipo_sanguineo]})]})]})]}),e.jsxs(se,{className:"bg-primary hover:bg-primary/90",children:[e.jsx(DC,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})}),e.jsx(Nn,{tabs:R,basePath:"/paciente"}),!l&&!d&&C&&e.jsxs(ie,{className:"border-warning/30 bg-warning/10",children:[e.jsx(de,{className:"pb-4",children:e.jsxs(me,{className:"flex items-center gap-2 text-warning",children:[e.jsx(mo,{className:"h-5 w-5"}),"Complete seu perfil"]})}),e.jsx(ce,{children:e.jsxs("form",{className:"space-y-6",onSubmit:_,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"data_nascimento",className:"text-foreground font-medium",children:"Data de Nascimento"}),e.jsx(fe,{id:"data_nascimento",name:"data_nascimento",type:"date",value:j.data_nascimento,onChange:E,className:"border-input focus-visible:ring-2 focus-visible:ring-ring",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"telefone",className:"text-foreground font-medium",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",type:"tel",placeholder:"(11) 99999-9999",value:j.telefone,onChange:E,className:"border-input focus-visible:ring-2 focus-visible:ring-ring",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"endereco",className:"text-foreground font-medium",children:"Endereço"}),e.jsx(rt,{id:"endereco",name:"endereco",placeholder:"Rua, número, bairro, cidade, estado",value:j.endereco,onChange:E,className:"border-input focus-visible:ring-2 focus-visible:ring-ring",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"tipo_sanguineo",className:"text-slate-700 font-medium",children:"Tipo Sanguíneo"}),e.jsx(fe,{id:"tipo_sanguineo",name:"tipo_sanguineo",placeholder:"Ex.: O+, A-, B+, AB+",value:j.tipo_sanguineo,onChange:E,className:"border-slate-300 focus:border-blue-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"alergias",className:"text-slate-700 font-medium",children:"Alergias"}),e.jsx(rt,{id:"alergias",name:"alergias",placeholder:"Separe por vírgulas (ex.: Dipirona, Amoxicilina)",value:j.alergias,onChange:E,className:"border-slate-300 focus:border-blue-500"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(se,{type:"submit",disabled:b,className:"bg-blue-600 hover:bg-blue-700",children:b?"Salvando...":"Salvar Informações"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ie,{className:"shadow-sm border",children:[e.jsx(de,{className:"pb-4",children:e.jsxs(me,{className:"flex items-center gap-2 text-foreground",children:[e.jsx(It,{className:"h-5 w-5 text-blue-600"}),"Informações do Paciente"]})}),e.jsx(ce,{className:"space-y-6",children:l?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Ke,{className:"h-16 w-full"}),e.jsx(Ke,{className:"h-16 w-full"}),e.jsx(Ke,{className:"h-16 w-full"}),e.jsx(Ke,{className:"h-16 w-full"})]})}):d?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(mo,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 font-medium",children:d})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Data de Nascimento"})]}),e.jsx("p",{className:"text-foreground font-medium",children:(t==null?void 0:t.data_nascimento)||"Não informado"})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ro,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"})]}),e.jsx("p",{className:"text-foreground font-medium",children:(t==null?void 0:t.telefone)||"Não informado"})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(vm,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Endereço"})]}),e.jsx("p",{className:"text-foreground font-medium",children:P(t==null?void 0:t.endereco)})]})]}),e.jsx(Dn,{}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200 dark:bg-destructive/15 dark:border-destructive/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ex,{className:"h-4 w-4 text-red-500"}),e.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-destructive",children:"Tipo Sanguíneo"})]}),e.jsx("p",{className:"text-red-700 dark:text-destructive font-semibold text-lg",children:(r==null?void 0:r.tipo_sanguineo)||"Não informado"})]}),e.jsxs("div",{className:"bg-warning/10 rounded-lg p-4 border border-warning/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(mo,{className:"h-4 w-4 text-warning"}),e.jsx("p",{className:"text-sm font-medium text-warning",children:"Alergias"})]}),e.jsx("p",{className:"text-warning font-medium",children:(r==null?void 0:r.alergias)||"Nenhuma alergia conhecida"})]}),e.jsxs("div",{className:"bg-info/10 rounded-lg p-4 border border-info/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(EC,{className:"h-4 w-4 text-info"}),e.jsx("p",{className:"text-sm font-medium text-info",children:"Condições Crônicas"})]}),e.jsx("p",{className:"text-info font-medium",children:(r==null?void 0:r.condicoes_cronicas)||"Nenhuma condição crônica"})]})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{className:"shadow-sm border",children:[e.jsx(de,{className:"pb-4",children:e.jsx(me,{className:"text-foreground",children:"Ações Rápidas"})}),e.jsx(ce,{className:"space-y-3",children:k.map((I,D)=>{const F=I.icon,V=M[I.color]||"primary";return e.jsx(qe,{to:I.href,children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:`app-quick-icon ${V}`,children:e.jsx(F,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:I.title}),e.jsx("p",{className:"app-quick-desc",children:I.description})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(Tn,{className:"h-4 w-4"})})]})},D)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ie,{className:"shadow-sm border-slate-200",children:[e.jsx(de,{className:"pb-3",children:e.jsxs(me,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Ve,{className:"h-4 w-4 text-blue-600"}),"Próximas Consultas"]})}),e.jsx(ce,{children:g?e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{className:"h-12 w-full"}),e.jsx(Ke,{className:"h-12 w-full"})]}):x.length>0?e.jsxs("div",{className:"space-y-3",children:[x.map(I=>e.jsxs("div",{className:"flex items-center gap-3 border-b pb-2 last:border-0",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-100 text-blue-700",children:e.jsx(Ve,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-medium text-sm",children:[new Date(I.data).toLocaleDateString("pt-BR")," ",new Date(I.data).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:I.medico.nome}),e.jsx("p",{className:"text-xs text-muted-foreground",children:I.medico.especialidade})]})]},I.id)),e.jsx(se,{variant:"outline",size:"sm",asChild:!0,className:"w-full mt-2 border-blue-200 text-blue-700 hover:bg-blue-50",children:e.jsxs(qe,{to:"/paciente/consultas",children:["Ver Todas",e.jsx(Tn,{className:"h-3 w-3 ml-1"})]})})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-slate-500 text-sm mb-3",children:"Nenhuma consulta agendada"}),e.jsx(se,{variant:"outline",size:"sm",asChild:!0,className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:e.jsxs(qe,{to:"/paciente/consultas",children:["Ver Todas",e.jsx(Tn,{className:"h-3 w-3 ml-1"})]})})]})})]}),e.jsxs(ie,{className:"shadow-sm border-slate-200",children:[e.jsx(de,{className:"pb-3",children:e.jsxs(me,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Mn,{className:"h-4 w-4 text-green-600"}),"Exames Recentes"]})}),e.jsx(ce,{children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-slate-500 text-sm mb-3",children:"Nenhum exame recente"}),e.jsx(se,{variant:"outline",size:"sm",asChild:!0,className:"border-green-200 text-green-700 hover:bg-green-50",children:e.jsxs(qe,{to:"/paciente/exames",children:["Ver Todos",e.jsx(Tn,{className:"h-3 w-3 ml-1"})]})})]})})]})]})]})]})]})})}function CP(){const[t,s]=m.useState(null),[r,o]=m.useState(!0),[l,c]=m.useState(null),d=h=>Array.isArray(h)?h.filter(j=>j!=null&&j!==""):typeof h=="string"?h.split(/[\n;,]+/).map(j=>j.trim()).filter(Boolean):h==null?[]:[h],f=h=>{let j="",S="",b="";if(typeof h=="string"){const y=h.split(/[;•\-\|]/).map(N=>N.trim()).filter(Boolean);if(y.length&&(j=y[0]),y[1]&&(S=y[1]),y[2]&&(b=y.slice(2).join(" • ")),!S){const N=h.match(/\b(\d+(\.\d+)?\s?(mg|ml|mcg|g|gotas|ui))\b/i);N&&(S=N[0])}if(!b){const N=h.match(/\b(\d+x\s?\/\s?dia|[1-9]\s?x\/dia|a\s?cada\s?\d+\s?h|de\s?\d+\s?em\s?\d+\s?h)\b/i);N&&(b=N[0])}}else h&&typeof h=="object"&&(j=h.nome||h.medicamento||h.nome_medicamento||h.name||h.descricao||"",S=h.dose||h.dosagem||h.dosage||"",b=h.posologia||h.frequencia||h.intervalo||h.schedule||"");return{name:j||(typeof h=="string"?h:JSON.stringify(h)),dose:S||"",schedule:b||""}},x=h=>{const j=d(h);return j.length>0?e.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:j.map((S,b)=>{const y=f(S);return e.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm hover:shadow-md transition-shadow",role:"group","aria-label":`Medicação ${y.name}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 rounded-md bg-primary/10 p-2 text-primary",children:e.jsx(ym,{className:"h-5 w-5","aria-hidden":"true"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-base md:text-lg font-semibold leading-snug break-words",children:y.name}),y.dose&&e.jsx("div",{className:"text-sm md:text-base text-muted-foreground mt-0.5 break-words",children:y.dose}),y.schedule&&e.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-muted/60 px-2 py-1 text-xs md:text-sm text-foreground/80",children:[e.jsx(ft,{className:"h-3.5 w-3.5","aria-hidden":"true"}),e.jsx("span",{className:"break-words",children:y.schedule})]})]})]})},b)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})};m.useEffect(()=>{let h=!0;const j=b=>{var R,k;const y=Array.isArray(b)?b[0]:Array.isArray(b==null?void 0:b.results)?b.results[0]:b||{},N=y.alergias??y.allergies??y.alergia,C=y.condicoes??y.condicoes_cronicas??y.condicoesCronicas,E=y.medicacoes??y.medicamentos??y.medicacoes_em_uso??y.medicamentos_em_uso??y.medicamentos_uso??y.em_uso??y.medicacoesEmUso??y.medicamentosEmUso??y.medications??y.current_medications??((R=y.prontuario)==null?void 0:R.medicacoes)??((k=y.prontuario)==null?void 0:k.medicamentos),_=y.observacoes??y.observacao??y.notes??y.anotacoes;return{alergias:d(N),condicoes:d(C),medicacoes:d(E),observacoes:_??"—"}},S=b=>b?{alergias:d(b.alergias),condicoes:d(b.condicoes_cronicas??b.condicoes),medicacoes:d(b.medicacoes??b.medicamentos??b.medicacoes_em_uso??b.medicamentos_em_uso??b.medicamentos_uso??b.em_uso??b.medicacoesEmUso??b.medicamentosEmUso??b.medications??b.current_medications),observacoes:b.observacoes??"—"}:null;return(async()=>{try{const[b,y]=await Promise.allSettled([tt.getProntuario(),tt.getPacienteDoUsuario()]);let N=null;if(b.status==="fulfilled"&&(N=j(b.value)),(!N||d(N.alergias).length===0&&d(N.condicoes).length===0&&d(N.medicacoes).length===0&&(!N.observacoes||N.observacoes==="—"))&&y.status==="fulfilled"){const E=S(y.value);E&&(N=E)}h&&s(N||{alergias:[],condicoes:[],medicacoes:[],observacoes:"—"})}catch{h&&c("Não foi possível carregar o prontuário.")}finally{h&&o(!1)}})(),()=>{h=!1}},[]);const p=h=>{const j=d(h);return j.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((S,b)=>{const y=typeof S=="string"?S:(S==null?void 0:S.nome)||(S==null?void 0:S.medicamento)||(S==null?void 0:S.nome_medicamento)||[S==null?void 0:S.descricao,(S==null?void 0:S.dose)||(S==null?void 0:S.dosagem),(S==null?void 0:S.posologia)||(S==null?void 0:S.frequencia)].filter(Boolean).join(" • ")||JSON.stringify(S);return e.jsx(et,{variant:"secondary",className:"px-2.5 py-1 text-xs",children:y},b)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item."})},g=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Prontuário"})]}),e.jsx(Nn,{tabs:g,basePath:"/paciente"}),r?e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(ie,{className:"lg:col-span-2",children:[e.jsx(de,{children:e.jsx(Ke,{className:"h-5 w-40"})}),e.jsxs(ce,{className:"space-y-2",children:[e.jsx(Ke,{className:"h-4 w-full"}),e.jsx(Ke,{className:"h-4 w-5/6"}),e.jsx(Ke,{className:"h-4 w-2/3"})]})]}),e.jsx("div",{className:"space-y-6",children:[...Array(3)].map((h,j)=>e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(Ke,{className:"h-5 w-40"})}),e.jsxs(ce,{className:"space-y-2",children:[e.jsx(Ke,{className:"h-4 w-full"}),e.jsx(Ke,{className:"h-4 w-2/3"})]})]},j))})]}):l?e.jsx("p",{className:"text-sm text-red-500",children:l}):e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 items-start",children:[e.jsxs(ie,{className:"lg:col-span-2 min-h-[320px]",children:[e.jsx(de,{children:e.jsx(me,{children:"Medicações"})}),e.jsx(ce,{children:x(t==null?void 0:t.medicacoes)})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Alergias"})}),e.jsx(ce,{children:p(t==null?void 0:t.alergias)})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Condições"})}),e.jsx(ce,{children:p(t==null?void 0:t.condicoes)})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Observações"})}),e.jsx(ce,{children:t!=null&&t.observacoes&&(t==null?void 0:t.observacoes)!=="—"?e.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:t==null?void 0:t.observacoes}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"—"})})]})]})]})]})}const ss=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:ge("w-full caption-bottom text-sm",t),...s})}));ss.displayName="Table";const as=m.forwardRef(({className:t,...s},r)=>e.jsx("thead",{ref:r,className:ge("[&_tr]:border-b",t),...s}));as.displayName="TableHeader";const rs=m.forwardRef(({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:ge("[&_tr:last-child]:border-0",t),...s}));rs.displayName="TableBody";const EP=m.forwardRef(({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));EP.displayName="TableFooter";const wt=m.forwardRef(({className:t,...s},r)=>e.jsx("tr",{ref:r,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));wt.displayName="TableRow";const Be=m.forwardRef(({className:t,...s},r)=>e.jsx("th",{ref:r,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));Be.displayName="TableHead";const $e=m.forwardRef(({className:t,...s},r)=>e.jsx("td",{ref:r,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));$e.displayName="TableCell";const _P=m.forwardRef(({className:t,...s},r)=>e.jsx("caption",{ref:r,className:ge("mt-4 text-sm text-muted-foreground",t),...s}));_P.displayName="TableCaption";function sg(t,[s,r]){return Math.min(r,Math.max(s,t))}function kP(t){const s=m.useRef({value:t,previous:t});return m.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var RP=[" ","Enter","ArrowUp","ArrowDown"],PP=[" ","Enter"],ba="Select",[oc,ic,AP]=Zl(ba),[xr,f4]=Xn(ba,[AP,hr]),lc=hr(),[TP,Zs]=xr(ba),[MP,DP]=xr(ba),Xj=t=>{const{__scopeSelect:s,children:r,open:o,defaultOpen:l,onOpenChange:c,value:d,defaultValue:f,onValueChange:x,dir:p,name:g,autoComplete:h,disabled:j,required:S,form:b}=t,y=lc(s),[N,C]=m.useState(null),[E,_]=m.useState(null),[R,k]=m.useState(!1),M=Um(p),[O,P]=ja({prop:o,defaultProp:l??!1,onChange:c,caller:ba}),[I,D]=ja({prop:d,defaultProp:f,onChange:x,caller:ba}),F=m.useRef(null),V=N?b||!!N.closest("form"):!0,[re,$]=m.useState(new Set),G=Array.from(re).map(z=>z.props.value).join(";");return e.jsx(Lm,{...y,children:e.jsxs(TP,{required:S,scope:s,trigger:N,onTriggerChange:C,valueNode:E,onValueNodeChange:_,valueNodeHasChildren:R,onValueNodeHasChildrenChange:k,contentId:Gn(),value:I,onValueChange:D,open:O,onOpenChange:P,dir:M,triggerPointerDownPosRef:F,disabled:j,children:[e.jsx(oc.Provider,{scope:s,children:e.jsx(MP,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(z=>{$(H=>new Set(H).add(z))},[]),onNativeOptionRemove:m.useCallback(z=>{$(H=>{const W=new Set(H);return W.delete(z),W})},[]),children:r})}),V?e.jsxs(N0,{"aria-hidden":!0,required:S,tabIndex:-1,name:g,autoComplete:h,value:I,onChange:z=>D(z.target.value),disabled:j,form:b,children:[I===void 0?e.jsx("option",{value:""}):null,Array.from(re)]},G):null]})})};Xj.displayName=ba;var Zj="SelectTrigger",e0=m.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:o=!1,...l}=t,c=lc(r),d=Zs(Zj,r),f=d.disabled||o,x=nt(s,d.onTriggerChange),p=ic(r),g=m.useRef("touch"),[h,j,S]=S0(y=>{const N=p().filter(_=>!_.disabled),C=N.find(_=>_.value===d.value),E=C0(N,y,C);E!==void 0&&d.onValueChange(E.value)}),b=y=>{f||(d.onOpenChange(!0),S()),y&&(d.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return e.jsx(Fm,{asChild:!0,...c,children:e.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":b0(d.value)?"":void 0,...l,ref:x,onClick:be(l.onClick,y=>{y.currentTarget.focus(),g.current!=="mouse"&&b(y)}),onPointerDown:be(l.onPointerDown,y=>{g.current=y.pointerType;const N=y.target;N.hasPointerCapture(y.pointerId)&&N.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:be(l.onKeyDown,y=>{const N=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&j(y.key),!(N&&y.key===" ")&&RP.includes(y.key)&&(b(),y.preventDefault())})})})});e0.displayName=Zj;var t0="SelectValue",n0=m.forwardRef((t,s)=>{const{__scopeSelect:r,className:o,style:l,children:c,placeholder:d="",...f}=t,x=Zs(t0,r),{onValueNodeHasChildrenChange:p}=x,g=c!==void 0,h=nt(s,x.onValueNodeChange);return Rt(()=>{p(g)},[p,g]),e.jsx(Fe.span,{...f,ref:h,style:{pointerEvents:"none"},children:b0(x.value)?e.jsx(e.Fragment,{children:d}):c})});n0.displayName=t0;var OP="SelectIcon",s0=m.forwardRef((t,s)=>{const{__scopeSelect:r,children:o,...l}=t;return e.jsx(Fe.span,{"aria-hidden":!0,...l,ref:s,children:o||"▼"})});s0.displayName=OP;var IP="SelectPortal",a0=t=>e.jsx(Po,{asChild:!0,...t});a0.displayName=IP;var Sa="SelectContent",r0=m.forwardRef((t,s)=>{const r=Zs(Sa,t.__scopeSelect),[o,l]=m.useState();if(Rt(()=>{l(new DocumentFragment)},[]),!r.open){const c=o;return c?or.createPortal(e.jsx(o0,{scope:t.__scopeSelect,children:e.jsx(oc.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),c):null}return e.jsx(i0,{...t,ref:s})});r0.displayName=Sa;var An=10,[o0,ea]=xr(Sa),LP="SelectContentImpl",FP=ya("SelectContent.RemoveScroll"),i0=m.forwardRef((t,s)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,side:f,sideOffset:x,align:p,alignOffset:g,arrowPadding:h,collisionBoundary:j,collisionPadding:S,sticky:b,hideWhenDetached:y,avoidCollisions:N,...C}=t,E=Zs(Sa,r),[_,R]=m.useState(null),[k,M]=m.useState(null),O=nt(s,Q=>R(Q)),[P,I]=m.useState(null),[D,F]=m.useState(null),V=ic(r),[re,$]=m.useState(!1),G=m.useRef(!1);m.useEffect(()=>{if(_)return Sm(_)},[_]),bm();const z=m.useCallback(Q=>{const[le,...we]=V().map(Re=>Re.ref.current),[je]=we.slice(-1),Ce=document.activeElement;for(const Re of Q)if(Re===Ce||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===le&&k&&(k.scrollTop=0),Re===je&&k&&(k.scrollTop=k.scrollHeight),Re==null||Re.focus(),document.activeElement!==Ce))return},[V,k]),H=m.useCallback(()=>z([P,_]),[z,P,_]);m.useEffect(()=>{re&&H()},[re,H]);const{onOpenChange:W,triggerPointerDownPosRef:X}=E;m.useEffect(()=>{if(_){let Q={x:0,y:0};const le=je=>{var Ce,Re;Q={x:Math.abs(Math.round(je.pageX)-(((Ce=X.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(je.pageY)-(((Re=X.current)==null?void 0:Re.y)??0))}},we=je=>{Q.x<=10&&Q.y<=10?je.preventDefault():_.contains(je.target)||W(!1),document.removeEventListener("pointermove",le),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",we,{capture:!0})}}},[_,W,X]),m.useEffect(()=>{const Q=()=>W(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[W]);const[te,T]=S0(Q=>{const le=V().filter(Ce=>!Ce.disabled),we=le.find(Ce=>Ce.ref.current===document.activeElement),je=C0(le,Q,we);je&&setTimeout(()=>je.ref.current.focus())}),U=m.useCallback((Q,le,we)=>{const je=!G.current&&!we;(E.value!==void 0&&E.value===le||je)&&(I(Q),je&&(G.current=!0))},[E.value]),Z=m.useCallback(()=>_==null?void 0:_.focus(),[_]),L=m.useCallback((Q,le,we)=>{const je=!G.current&&!we;(E.value!==void 0&&E.value===le||je)&&F(Q)},[E.value]),K=o==="popper"?tm:l0,J=K===tm?{side:f,sideOffset:x,align:p,alignOffset:g,arrowPadding:h,collisionBoundary:j,collisionPadding:S,sticky:b,hideWhenDetached:y,avoidCollisions:N}:{};return e.jsx(o0,{scope:r,content:_,viewport:k,onViewportChange:M,itemRefCallback:U,selectedItem:P,onItemLeave:Z,itemTextRefCallback:L,focusSelectedItem:H,selectedItemText:D,position:o,isPositioned:re,searchRef:te,children:e.jsx($l,{as:FP,allowPinchZoom:!0,children:e.jsx(Ll,{asChild:!0,trapped:E.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:be(l,Q=>{var le;(le=E.trigger)==null||le.focus({preventScroll:!0}),Q.preventDefault()}),children:e.jsx(mr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:e.jsx(K,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:Q=>Q.preventDefault(),...C,...J,onPlaced:()=>$(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:be(C.onKeyDown,Q=>{const le=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!le&&Q.key.length===1&&T(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let je=V().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const Ce=Q.target,Re=je.indexOf(Ce);je=je.slice(Re+1)}setTimeout(()=>z(je)),Q.preventDefault()}})})})})})})});i0.displayName=LP;var $P="SelectItemAlignedPosition",l0=m.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:o,...l}=t,c=Zs(Sa,r),d=ea(Sa,r),[f,x]=m.useState(null),[p,g]=m.useState(null),h=nt(s,O=>g(O)),j=ic(r),S=m.useRef(!1),b=m.useRef(!0),{viewport:y,selectedItem:N,selectedItemText:C,focusSelectedItem:E}=d,_=m.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&p&&y&&N&&C){const O=c.trigger.getBoundingClientRect(),P=p.getBoundingClientRect(),I=c.valueNode.getBoundingClientRect(),D=C.getBoundingClientRect();if(c.dir!=="rtl"){const Ce=D.left-P.left,Re=I.left-Ce,Ue=O.left-Re,it=O.width+Ue,We=Math.max(it,P.width),Te=window.innerWidth-An,_t=sg(Re,[An,Math.max(An,Te-We)]);f.style.minWidth=it+"px",f.style.left=_t+"px"}else{const Ce=P.right-D.right,Re=window.innerWidth-I.right-Ce,Ue=window.innerWidth-O.right-Re,it=O.width+Ue,We=Math.max(it,P.width),Te=window.innerWidth-An,_t=sg(Re,[An,Math.max(An,Te-We)]);f.style.minWidth=it+"px",f.style.right=_t+"px"}const F=j(),V=window.innerHeight-An*2,re=y.scrollHeight,$=window.getComputedStyle(p),G=parseInt($.borderTopWidth,10),z=parseInt($.paddingTop,10),H=parseInt($.borderBottomWidth,10),W=parseInt($.paddingBottom,10),X=G+z+re+W+H,te=Math.min(N.offsetHeight*5,X),T=window.getComputedStyle(y),U=parseInt(T.paddingTop,10),Z=parseInt(T.paddingBottom,10),L=O.top+O.height/2-An,K=V-L,J=N.offsetHeight/2,Q=N.offsetTop+J,le=G+z+Q,we=X-le;if(le<=L){const Ce=F.length>0&&N===F[F.length-1].ref.current;f.style.bottom="0px";const Re=p.clientHeight-y.offsetTop-y.offsetHeight,Ue=Math.max(K,J+(Ce?Z:0)+Re+H),it=le+Ue;f.style.height=it+"px"}else{const Ce=F.length>0&&N===F[0].ref.current;f.style.top="0px";const Ue=Math.max(L,G+y.offsetTop+(Ce?U:0)+J)+we;f.style.height=Ue+"px",y.scrollTop=le-L+y.offsetTop}f.style.margin=`${An}px 0`,f.style.minHeight=te+"px",f.style.maxHeight=V+"px",o==null||o(),requestAnimationFrame(()=>S.current=!0)}},[j,c.trigger,c.valueNode,f,p,y,N,C,c.dir,o]);Rt(()=>_(),[_]);const[R,k]=m.useState();Rt(()=>{p&&k(window.getComputedStyle(p).zIndex)},[p]);const M=m.useCallback(O=>{O&&b.current===!0&&(_(),E==null||E(),b.current=!1)},[_,E]);return e.jsx(BP,{scope:r,contentWrapper:f,shouldExpandOnScrollRef:S,onScrollButtonChange:M,children:e.jsx("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:e.jsx(Fe.div,{...l,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});l0.displayName=$P;var zP="SelectPopperPosition",tm=m.forwardRef((t,s)=>{const{__scopeSelect:r,align:o="start",collisionPadding:l=An,...c}=t,d=lc(r);return e.jsx($m,{...d,...c,ref:s,align:o,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tm.displayName=zP;var[BP,Xm]=xr(Sa,{}),nm="SelectViewport",c0=m.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:o,...l}=t,c=ea(nm,r),d=Xm(nm,r),f=nt(s,c.onViewportChange),x=m.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(oc.Slot,{scope:r,children:e.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:be(l.onScroll,p=>{const g=p.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:j}=d;if(j!=null&&j.current&&h){const S=Math.abs(x.current-g.scrollTop);if(S>0){const b=window.innerHeight-An*2,y=parseFloat(h.style.minHeight),N=parseFloat(h.style.height),C=Math.max(y,N);if(C<b){const E=C+S,_=Math.min(b,E),R=E-_;h.style.height=_+"px",h.style.bottom==="0px"&&(g.scrollTop=R>0?R:0,h.style.justifyContent="flex-end")}}}x.current=g.scrollTop})})})]})});c0.displayName=nm;var d0="SelectGroup",[UP,VP]=xr(d0),HP=m.forwardRef((t,s)=>{const{__scopeSelect:r,...o}=t,l=Gn();return e.jsx(UP,{scope:r,id:l,children:e.jsx(Fe.div,{role:"group","aria-labelledby":l,...o,ref:s})})});HP.displayName=d0;var u0="SelectLabel",m0=m.forwardRef((t,s)=>{const{__scopeSelect:r,...o}=t,l=VP(u0,r);return e.jsx(Fe.div,{id:l.id,...o,ref:s})});m0.displayName=u0;var El="SelectItem",[WP,f0]=xr(El),p0=m.forwardRef((t,s)=>{const{__scopeSelect:r,value:o,disabled:l=!1,textValue:c,...d}=t,f=Zs(El,r),x=ea(El,r),p=f.value===o,[g,h]=m.useState(c??""),[j,S]=m.useState(!1),b=nt(s,E=>{var _;return(_=x.itemRefCallback)==null?void 0:_.call(x,E,o,l)}),y=Gn(),N=m.useRef("touch"),C=()=>{l||(f.onValueChange(o),f.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(WP,{scope:r,value:o,disabled:l,textId:y,isSelected:p,onItemTextChange:m.useCallback(E=>{h(_=>_||((E==null?void 0:E.textContent)??"").trim())},[]),children:e.jsx(oc.ItemSlot,{scope:r,value:o,disabled:l,textValue:g,children:e.jsx(Fe.div,{role:"option","aria-labelledby":y,"data-highlighted":j?"":void 0,"aria-selected":p&&j,"data-state":p?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...d,ref:b,onFocus:be(d.onFocus,()=>S(!0)),onBlur:be(d.onBlur,()=>S(!1)),onClick:be(d.onClick,()=>{N.current!=="mouse"&&C()}),onPointerUp:be(d.onPointerUp,()=>{N.current==="mouse"&&C()}),onPointerDown:be(d.onPointerDown,E=>{N.current=E.pointerType}),onPointerMove:be(d.onPointerMove,E=>{var _;N.current=E.pointerType,l?(_=x.onItemLeave)==null||_.call(x):N.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(d.onPointerLeave,E=>{var _;E.currentTarget===document.activeElement&&((_=x.onItemLeave)==null||_.call(x))}),onKeyDown:be(d.onKeyDown,E=>{var R;((R=x.searchRef)==null?void 0:R.current)!==""&&E.key===" "||(PP.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});p0.displayName=El;var uo="SelectItemText",h0=m.forwardRef((t,s)=>{const{__scopeSelect:r,className:o,style:l,...c}=t,d=Zs(uo,r),f=ea(uo,r),x=f0(uo,r),p=DP(uo,r),[g,h]=m.useState(null),j=nt(s,C=>h(C),x.onItemTextChange,C=>{var E;return(E=f.itemTextRefCallback)==null?void 0:E.call(f,C,x.value,x.disabled)}),S=g==null?void 0:g.textContent,b=m.useMemo(()=>e.jsx("option",{value:x.value,disabled:x.disabled,children:S},x.value),[x.disabled,x.value,S]),{onNativeOptionAdd:y,onNativeOptionRemove:N}=p;return Rt(()=>(y(b),()=>N(b)),[y,N,b]),e.jsxs(e.Fragment,{children:[e.jsx(Fe.span,{id:x.textId,...c,ref:j}),x.isSelected&&d.valueNode&&!d.valueNodeHasChildren?or.createPortal(c.children,d.valueNode):null]})});h0.displayName=uo;var x0="SelectItemIndicator",g0=m.forwardRef((t,s)=>{const{__scopeSelect:r,...o}=t;return f0(x0,r).isSelected?e.jsx(Fe.span,{"aria-hidden":!0,...o,ref:s}):null});g0.displayName=x0;var sm="SelectScrollUpButton",v0=m.forwardRef((t,s)=>{const r=ea(sm,t.__scopeSelect),o=Xm(sm,t.__scopeSelect),[l,c]=m.useState(!1),d=nt(s,o.onScrollButtonChange);return Rt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const p=x.scrollTop>0;c(p)};const x=r.viewport;return f(),x.addEventListener("scroll",f),()=>x.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),l?e.jsx(j0,{...t,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:x}=r;f&&x&&(f.scrollTop=f.scrollTop-x.offsetHeight)}}):null});v0.displayName=sm;var am="SelectScrollDownButton",y0=m.forwardRef((t,s)=>{const r=ea(am,t.__scopeSelect),o=Xm(am,t.__scopeSelect),[l,c]=m.useState(!1),d=nt(s,o.onScrollButtonChange);return Rt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const p=x.scrollHeight-x.clientHeight,g=Math.ceil(x.scrollTop)<p;c(g)};const x=r.viewport;return f(),x.addEventListener("scroll",f),()=>x.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),l?e.jsx(j0,{...t,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:x}=r;f&&x&&(f.scrollTop=f.scrollTop+x.offsetHeight)}}):null});y0.displayName=am;var j0=m.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:o,...l}=t,c=ea("SelectScrollButton",r),d=m.useRef(null),f=ic(r),x=m.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return m.useEffect(()=>()=>x(),[x]),Rt(()=>{var g;const p=f().find(h=>h.ref.current===document.activeElement);(g=p==null?void 0:p.ref.current)==null||g.scrollIntoView({block:"nearest"})},[f]),e.jsx(Fe.div,{"aria-hidden":!0,...l,ref:s,style:{flexShrink:0,...l.style},onPointerDown:be(l.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(o,50))}),onPointerMove:be(l.onPointerMove,()=>{var p;(p=c.onItemLeave)==null||p.call(c),d.current===null&&(d.current=window.setInterval(o,50))}),onPointerLeave:be(l.onPointerLeave,()=>{x()})})}),qP="SelectSeparator",w0=m.forwardRef((t,s)=>{const{__scopeSelect:r,...o}=t;return e.jsx(Fe.div,{"aria-hidden":!0,...o,ref:s})});w0.displayName=qP;var rm="SelectArrow",KP=m.forwardRef((t,s)=>{const{__scopeSelect:r,...o}=t,l=lc(r),c=Zs(rm,r),d=ea(rm,r);return c.open&&d.position==="popper"?e.jsx(zm,{...l,...o,ref:s}):null});KP.displayName=rm;var GP="SelectBubbleInput",N0=m.forwardRef(({__scopeSelect:t,value:s,...r},o)=>{const l=m.useRef(null),c=nt(o,l),d=kP(s);return m.useEffect(()=>{const f=l.current;if(!f)return;const x=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(x,"value").set;if(d!==s&&g){const h=new Event("change",{bubbles:!0});g.call(f,s),f.dispatchEvent(h)}},[d,s]),e.jsx(Fe.select,{...r,style:{...fy,...r.style},ref:c,defaultValue:s})});N0.displayName=GP;function b0(t){return t===""||t===void 0}function S0(t){const s=Qt(t),r=m.useRef(""),o=m.useRef(0),l=m.useCallback(d=>{const f=r.current+d;s(f),(function x(p){r.current=p,window.clearTimeout(o.current),p!==""&&(o.current=window.setTimeout(()=>x(""),1e3))})(f)},[s]),c=m.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,l,c]}function C0(t,s,r){const l=s.length>1&&Array.from(s).every(p=>p===s[0])?s[0]:s,c=r?t.indexOf(r):-1;let d=YP(t,Math.max(c,0));l.length===1&&(d=d.filter(p=>p!==r));const x=d.find(p=>p.textValue.toLowerCase().startsWith(l.toLowerCase()));return x!==r?x:void 0}function YP(t,s){return t.map((r,o)=>t[(s+o)%t.length])}var JP=Xj,E0=e0,QP=n0,XP=s0,ZP=a0,_0=r0,eA=c0,k0=m0,R0=p0,tA=h0,nA=g0,P0=v0,A0=y0,T0=w0;const Xe=JP,Ze=QP,Ye=m.forwardRef(({className:t,children:s,...r},o)=>e.jsxs(E0,{ref:o,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(XP,{asChild:!0,children:e.jsx(rv,{className:"h-4 w-4 opacity-50"})})]}));Ye.displayName=E0.displayName;const M0=m.forwardRef(({className:t,...s},r)=>e.jsx(P0,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(wC,{className:"h-4 w-4"})}));M0.displayName=P0.displayName;const D0=m.forwardRef(({className:t,...s},r)=>e.jsx(A0,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(rv,{className:"h-4 w-4"})}));D0.displayName=A0.displayName;const Je=m.forwardRef(({className:t,children:s,position:r="popper",...o},l)=>e.jsx(ZP,{children:e.jsxs(_0,{ref:l,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...o,children:[e.jsx(M0,{}),e.jsx(eA,{className:ge("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(D0,{})]})}));Je.displayName=_0.displayName;const O0=m.forwardRef(({className:t,...s},r)=>e.jsx(k0,{ref:r,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));O0.displayName=k0.displayName;const ye=m.forwardRef(({className:t,children:s,...r},o)=>e.jsxs(R0,{ref:o,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(nA,{children:e.jsx(av,{className:"h-4 w-4"})})}),e.jsx(tA,{children:s})]}));ye.displayName=R0.displayName;const sA=m.forwardRef(({className:t,...s},r)=>e.jsx(T0,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",t),...s}));sA.displayName=T0.displayName;const Lo=Bv,I0=dE,aA=({className:t,children:s,...r})=>e.jsx(Uv,{className:ge(t),...r,children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:s})}),L0=m.forwardRef(({className:t,...s},r)=>e.jsx(Bl,{ref:r,className:ge("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",t),...s}));L0.displayName=Bl.displayName;const gr=m.forwardRef(({className:t,children:s,...r},o)=>e.jsxs(aA,{children:[e.jsx(L0,{}),e.jsxs(Ul,{ref:o,className:ge("fixed z-50 grid w-full max-w-xl gap-4 rounded-xl border bg-background p-0 shadow-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0","data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95","left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",t),...r,children:[s,e.jsxs(Vv,{className:"absolute right-4 top-4 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[e.jsx(wm,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));gr.displayName=Ul.displayName;const vr=({className:t,...s})=>e.jsx("div",{className:ge("px-6 pt-5 pb-3 flex flex-col space-y-1.5",t),...s});vr.displayName="DialogHeader";const yr=({className:t,...s})=>e.jsx("div",{className:ge("px-6 pb-5 pt-2 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});yr.displayName="DialogFooter";const jr=m.forwardRef(({className:t,...s},r)=>e.jsx(Vl,{ref:r,className:ge("text-lg font-semibold leading-none tracking-tight",t),...s}));jr.displayName=Vl.displayName;const cc=m.forwardRef(({className:t,...s},r)=>e.jsx(Hl,{ref:r,className:ge("text-sm text-muted-foreground",t),...s}));cc.displayName=Hl.displayName;function rA(){var k,M,O;const[t,s]=m.useState([]),[r,o]=m.useState(!0),[l,c]=m.useState(null),[d,f]=m.useState("todas"),[x,p]=m.useState(""),[g,h]=m.useState(!1),[j,S]=m.useState(null),b=P=>{S(P),h(!0)},y=P=>{var D;const I=F=>(F==null?void 0:F.nome)||(F==null?void 0:F.titulo)||(F==null?void 0:F.name)||(F==null?void 0:F.descricao)||(F==null?void 0:F.description);if(Array.isArray(P==null?void 0:P.especialidades)&&P.especialidades.length){const F=P.especialidades.map(V=>I(V)||(typeof V=="string"?V:null)).filter(Boolean);if(F.length)return F.join(", ")}if(P!=null&&P.especialidade&&typeof P.especialidade=="object"){const F=I(P.especialidade);if(F)return F}return typeof(P==null?void 0:P.especialidade)=="string"&&P.especialidade.trim()?P.especialidade.trim():typeof(P==null?void 0:P.especialidade_nome)=="string"&&P.especialidade_nome.trim()?P.especialidade_nome.trim():typeof(P==null?void 0:P.specialty)=="string"&&P.specialty.trim()?P.specialty.trim():typeof(P==null?void 0:P.area)=="string"&&P.area.trim()?P.area.trim():typeof((D=P==null?void 0:P.user)==null?void 0:D.especialidade)=="string"&&P.user.especialidade.trim()?P.user.especialidade.trim():"Não especificada"};m.useEffect(()=>{let P=!0;return(async()=>{try{const I=await tt.getConsultas();if(P){const F=(Array.isArray(I)?I:(I==null?void 0:I.results)||[]).map(V=>{var H,W,X,te,T,U,Z,L,K,J,Q,le,we,je,Ce,Re,Ue,it,We,Te;const re=((W=(H=V.medico)==null?void 0:H.user)==null?void 0:W.first_name)||((X=V.medico)==null?void 0:X.first_name)||((te=V.medico)==null?void 0:te.nome)||"",$=((U=(T=V.medico)==null?void 0:T.user)==null?void 0:U.last_name)||((Z=V.medico)==null?void 0:Z.last_name)||"",G=[re,$].filter(Boolean).join(" ").trim()||((L=V.medico)==null?void 0:L.nome)||"—",z=y(V.medico||{});return{id:V.id,data:V.data||V.data_hora,medico:{id:((K=V.medico)==null?void 0:K.id)||V.medico_id,nome:G,especialidade:z,crm:((J=V.medico)==null?void 0:J.crm)||((Q=V.medico)==null?void 0:Q.crm_numero)||V.crm||null,email:((le=V.medico)==null?void 0:le.email)||((je=(we=V.medico)==null?void 0:we.user)==null?void 0:je.email)||null,telefone:((Ce=V.medico)==null?void 0:Ce.telefone)||((Re=V.medico)==null?void 0:Re.celular)||((it=(Ue=V.medico)==null?void 0:Ue.user)==null?void 0:it.phone)||null,raw:V.medico||null},status:V.status,local:V.local||V.localizacao||"Local não especificado",tipo:V.tipo||V.motivo||"Consulta",observacoes:V.observacoes||V.descricao||"",medicamentos:V.medicamentos||V.medicacoes||((We=V.prescricao)==null?void 0:We.medicamentos)||((Te=V.receita)==null?void 0:Te.medicamentos)||[],prescricao:V.prescricao||V.receita||null,raw:V}});s(F)}}catch{P&&c("Não foi possível carregar as consultas.")}finally{P&&o(!1)}})(),()=>{P=!1}},[]);const N=t.filter(P=>{var D,F,V,re,$,G,z;const I=String(P.status||"").toLowerCase();if(d==="agendadas"&&!(I.includes("agend")||I.includes("confirm"))||d==="realizadas"&&!(I.includes("conclu")||I.includes("realiz")||I.includes("final")))return!1;if(x){const H=x.toLowerCase();return((F=(D=P.medico)==null?void 0:D.nome)==null?void 0:F.toLowerCase().includes(H))||(($=(re=(V=P.medico)==null?void 0:V.especialidade)==null?void 0:re.toLowerCase)==null?void 0:$.call(re).includes(H))||((G=P.local)==null?void 0:G.toLowerCase().includes(H))||((z=P.tipo)==null?void 0:z.toLowerCase().includes(H))}return!0}),C=new Date,E=N.filter(P=>{const I=(P.status||"").toLowerCase(),D=I.includes("agend")||I.includes("confirm"),F=P.data?new Date(P.data)>C:!1;return D||F}).sort((P,I)=>new Date(P.data)-new Date(I.data)),_=N.filter(P=>{const I=(P.status||"").toLowerCase(),D=I.includes("conclu")||I.includes("realiz")||I.includes("final"),F=P.data?new Date(P.data)<C:!1;return D||F}).sort((P,I)=>new Date(I.data)-new Date(P.data)),R=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Minhas Consultas"})]}),e.jsx(se,{variant:"outline",asChild:!0,className:"app-cta-btn",children:e.jsxs("a",{href:"/paciente/consultas/nova","aria-label":"Agendar Nova Consulta",className:"inline-flex items-center",children:[e.jsx("span",{className:"icon-pill",children:e.jsx(Ve,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-semibold tracking-tight",children:"Agendar Nova Consulta"})]})})]}),e.jsx(Nn,{tabs:R,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(On,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por médico, especialidade ou local...",className:"pl-10",value:x,onChange:P=>p(P.target.value)})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(Xe,{value:d,onValueChange:f,children:[e.jsx(Ye,{className:"w-[180px]",children:e.jsx(Ze,{placeholder:"Filtrar por status"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"todas",children:"Todas as consultas"}),e.jsx(ye,{value:"agendadas",children:"Agendadas"}),e.jsx(ye,{value:"realizadas",children:"Realizadas"})]})]})})]}),e.jsxs(ts,{defaultValue:"agendadas",className:"w-full",children:[e.jsxs(ns,{className:"grid w-full grid-cols-2",children:[e.jsx(at,{value:"agendadas",children:"Consultas Agendadas"}),e.jsx(at,{value:"realizadas",children:"Histórico de Consultas"})]}),e.jsx(ct,{value:"agendadas",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5 text-primary"}),"Próximas Consultas"]})}),e.jsx(ce,{children:r?e.jsx("div",{className:"space-y-2",children:[...Array(3)].map((P,I)=>e.jsx(Ke,{className:"h-24 w-full"},I))}):l?e.jsx("p",{className:"text-sm text-red-500",children:l}):E.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ve,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-medium",children:"Nenhuma consulta agendada"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Você não possui consultas agendadas no momento."}),e.jsx(se,{className:"mt-4 app-cta-btn",variant:"outline",asChild:!0,children:e.jsxs("a",{href:"/paciente/consultas/nova","aria-label":"Agendar Nova Consulta",className:"inline-flex items-center",children:[e.jsx("span",{className:"icon-pill",children:e.jsx(Ve,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-semibold tracking-tight",children:"Agendar Nova Consulta"})]})})]}):e.jsx("div",{className:"space-y-4",children:E.map(P=>{var I,D,F;return e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 border rounded-lg p-4 bg-app-soft dark:bg-background",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(It,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:(I=P.medico)==null?void 0:I.nome}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(D=P.medico)==null?void 0:D.especialidade})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("p",{className:"text-sm",children:[new Date(P.data).toLocaleDateString()," às ",new Date(P.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(vm,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsx("p",{className:"text-sm",children:P.local})]})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:P.tipo}),e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:P.status||"—"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{variant:"secondary",size:"sm",onClick:()=>b(P),children:"Ver Detalhes"}),e.jsx(se,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/paciente/consultas/nova${(F=P.medico)!=null&&F.id?`?medico=${P.medico.id}`:""}`,children:"Reagendar"})})]})]},P.id)})})})]})}),e.jsx(ct,{value:"realizadas",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-5 w-5 text-primary"}),"Histórico de Consultas"]})}),e.jsx(ce,{children:r?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((P,I)=>e.jsx(Ke,{className:"h-10 w-full"},I))}):l?e.jsx("p",{className:"text-sm text-red-500",children:l}):_.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Você não possui consultas realizadas no histórico."}):e.jsxs(ss,{children:[e.jsx(as,{children:e.jsxs(wt,{children:[e.jsx(Be,{children:"Data"}),e.jsx(Be,{children:"Médico"}),e.jsx(Be,{children:"Especialidade"}),e.jsx(Be,{children:"Tipo"}),e.jsx(Be,{children:"Status"}),e.jsx(Be,{children:"Ações"})]})}),e.jsx(rs,{children:_.map(P=>{var I,D;return e.jsxs(wt,{children:[e.jsx($e,{children:new Date(P.data).toLocaleDateString()}),e.jsx($e,{children:((I=P.medico)==null?void 0:I.nome)||P.medico||"—"}),e.jsx($e,{children:((D=P.medico)==null?void 0:D.especialidade)||P.especialidade||"—"}),e.jsx($e,{children:P.tipo||"—"}),e.jsx($e,{children:e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:P.status||"—"})}),e.jsx($e,{children:e.jsx(se,{variant:"ghost",size:"sm",onClick:()=>b(P),children:"Ver Detalhes"})})]},P.id)})})]})})]})})]}),e.jsx(Lo,{open:g,onOpenChange:h,children:e.jsxs(gr,{children:[e.jsxs(vr,{children:[e.jsx(jr,{children:"Detalhes da Consulta"}),e.jsx(cc,{children:"Informações completas da consulta selecionada"})]}),j?e.jsxs("div",{className:"px-6 pb-4 space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary font-semibold",children:(((k=j.medico)==null?void 0:k.nome)||"—").split(" ").map(P=>P==null?void 0:P[0]).filter(Boolean).slice(0,2).join("").toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-base",children:((M=j.medico)==null?void 0:M.nome)||"—"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:((O=j.medico)==null?void 0:O.especialidade)||"Especialidade não informada"})]})]}),e.jsx("div",{className:"h-px bg-border"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Data"}),e.jsx("p",{className:"font-medium",children:j.data?new Date(j.data).toLocaleDateString():"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Hora"}),e.jsx("p",{className:"font-medium",children:j.data?new Date(j.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tipo"}),e.jsx("span",{className:"inline-block rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:j.tipo||"—"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),e.jsx("span",{className:"inline-block rounded-full px-2 py-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:j.status||"—"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Local"}),e.jsx("p",{className:"text-sm",children:j.local||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Observações"}),e.jsx("div",{className:"rounded-md bg-muted/40 p-3 text-sm leading-relaxed whitespace-pre-wrap",children:j.observacoes||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Medicamentos"}),(()=>{var D;const P=j.medicamentos??((D=j.prescricao)==null?void 0:D.medicamentos),I=Array.isArray(P)?P:typeof P=="string"?P.split(",").map(F=>F.trim()).filter(Boolean):[];return I.length?e.jsx("div",{className:"flex flex-wrap gap-2",children:I.map((F,V)=>{const re=typeof F=="string"?F:(F==null?void 0:F.nome)||(F==null?void 0:F.medicamento)||(F==null?void 0:F.nome_medicamento)||[F==null?void 0:F.descricao,(F==null?void 0:F.dose)||(F==null?void 0:F.dosagem),(F==null?void 0:F.posologia)||(F==null?void 0:F.frequencia)].filter(Boolean).join(" • ")||JSON.stringify(F);return e.jsx("span",{className:"rounded-full px-2.5 py-1 text-xs bg-muted text-foreground",children:re},V)})}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"—"})})()]}),e.jsx(yr,{children:e.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm hover:bg-accent hover:text-accent-foreground",onClick:()=>h(!1),children:"Fechar"})})]}):e.jsx("div",{className:"px-6 pb-6 text-sm text-muted-foreground",children:"Selecione uma consulta para ver os detalhes."})]})})]})}function oA(){const[t,s]=m.useState([]),[r,o]=m.useState(!0),[l,c]=m.useState(null),[d,f]=m.useState("todas"),[x,p]=m.useState(""),g=C=>{var E;return((E=C==null?void 0:C.tipo_exame)==null?void 0:E.nome)||(C==null?void 0:C.tipo_exame_nome)||(C==null?void 0:C.nome_exame)||(typeof(C==null?void 0:C.tipo_exame)=="string"?C.tipo_exame:null)||(C==null?void 0:C.nome)||(C==null?void 0:C.tipo)||(C==null?void 0:C.exame)||"Exame"},h=C=>{const E=C==null?void 0:C.user;return[E==null?void 0:E.first_name,E==null?void 0:E.last_name].filter(Boolean).join(" ").trim()||(E==null?void 0:E.nome)||(E==null?void 0:E.username)||(C==null?void 0:C.nome)||"—"},j=C=>{var R;const E=(C==null?void 0:C.resultado_url)||(C==null?void 0:C.arquivo_resultado)||((R=C==null?void 0:C.resultado)==null?void 0:R.arquivo)||(C==null?void 0:C.arquivo_url)||(C==null?void 0:C.documento_url);return E?/^https?:\/\//i.test(E)?E:`http://127.0.0.1:8000${E.startsWith("/")?"":"/"}${E}`:null};m.useEffect(()=>{let C=!0;return(async()=>{try{const E=await tt.getExames();if(C){const R=(Array.isArray(E)?E:(E==null?void 0:E.results)||[]).map(k=>({id:k.id,data:k.data_agendamento||k.data_solicitacao||k.data||k.data_hora||null,nome:g(k),medico:{nome:h((k==null?void 0:k.medico_solicitante)||(k==null?void 0:k.medico))},status:k.status||k.situacao||"Pendente",local:k.local_realizacao||k.local||k.localizacao||k.unidade||"",resultado_url:j(k)}));s(R)}}catch{c("Não foi possível carregar os exames.")}finally{C&&o(!1)}})(),()=>{C=!1}},[]);const S=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],b=t.filter(C=>{var E;if(d==="agendados"){const _=C.data?new Date(C.data)>new Date:!1;if(!_&&(C.status||"").toLowerCase().includes("conclu")||!_&&(C.status||"").toLowerCase()==="realizado")return!1}if(d==="realizados"&&!((C.status||"").toLowerCase().includes("conclu")||(C.status||"").toLowerCase()==="realizado"||(C.data?new Date(C.data)<new Date:!1)))return!1;if(x){const _=x.toLowerCase();return(C.nome||"").toLowerCase().includes(_)||(((E=C.medico)==null?void 0:E.nome)||"").toLowerCase().includes(_)||(C.local||"").toLowerCase().includes(_)}return!0}),y=b.filter(C=>{const E=C.data?new Date(C.data)>new Date:!1,_=(C.status||"").toLowerCase();return E||_==="agendado"||_==="pendente"||_==="solicitado"}).sort((C,E)=>new Date(C.data||0)-new Date(E.data||0)),N=b.filter(C=>{const E=(C.status||"").toLowerCase();return(C.data?new Date(C.data)<new Date:!1)||E.includes("conclu")||E==="realizado"}).sort((C,E)=>new Date(E.data||0)-new Date(C.data||0));return e.jsxs("div",{className:"mx-auto w-full max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mn,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Meus Exames"})]}),e.jsx(Nn,{tabs:S,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(fe,{placeholder:"Buscar por exame, médico ou local...",value:x,onChange:C=>p(C.target.value)})}),e.jsx("div",{className:"w-full md:w-[220px]",children:e.jsxs(Xe,{value:d,onValueChange:f,children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Filtrar por status"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"todas",children:"Todos os exames"}),e.jsx(ye,{value:"agendados",children:"Agendados"}),e.jsx(ye,{value:"realizados",children:"Realizados"})]})]})})]}),e.jsxs(ts,{defaultValue:"agendados",className:"w-full",children:[e.jsxs(ns,{className:"grid w-full grid-cols-2",children:[e.jsx(at,{value:"agendados",children:"Exames Agendados"}),e.jsx(at,{value:"realizados",children:"Histórico de Exames"})]}),e.jsx(ct,{value:"agendados",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Próximos Exames"})}),e.jsx(ce,{children:r?e.jsx("div",{className:"space-y-2",children:[...Array(3)].map((C,E)=>e.jsx(Ke,{className:"h-24 w-full"},E))}):l?e.jsx("p",{className:"text-sm text-red-500",children:l}):y.length===0?e.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:"Você não possui exames agendados no momento."}):e.jsx("div",{className:"space-y-4",children:y.map(C=>{var E;return e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 border rounded-lg p-4 bg-app-soft dark:bg-background",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:C.nome}),e.jsx("p",{className:"text-sm text-muted-foreground",children:((E=C.medico)==null?void 0:E.nome)||"—"})]}),e.jsxs("div",{className:"text-sm",children:[C.data?new Date(C.data).toLocaleDateString():"—"," ",C.data?`às ${new Date(C.data).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""]})]}),e.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:C.local||"Local não especificado"}),e.jsx("div",{className:"mt-3",children:e.jsx("span",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:C.status})})]}),e.jsx("div",{className:"flex flex-row md:flex-col gap-2 justify-end"})]},C.id||`${C.data}-${C.nome}`)})})})]})}),e.jsx(ct,{value:"realizados",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Histórico de Exames"})}),e.jsx(ce,{children:r?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((C,E)=>e.jsx(Ke,{className:"h-10 w-full"},E))}):l?e.jsx("p",{className:"text-sm text-red-500",children:l}):N.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Você não possui exames realizados no histórico."}):e.jsxs(ss,{children:[e.jsx(as,{children:e.jsxs(wt,{children:[e.jsx(Be,{children:"Data"}),e.jsx(Be,{children:"Exame"}),e.jsx(Be,{children:"Médico"}),e.jsx(Be,{children:"Status"}),e.jsx(Be,{children:"Ações"})]})}),e.jsx(rs,{children:b.map(C=>{var E;return e.jsxs(wt,{children:[e.jsx($e,{children:C.data?new Date(C.data).toLocaleDateString():"—"}),e.jsx($e,{children:C.nome}),e.jsx($e,{children:((E=C.medico)==null?void 0:E.nome)||"—"}),e.jsx($e,{children:e.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${(C.status||"").toLowerCase().includes("conclu")||(C.status||"").toLowerCase()==="realizado"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-primary/10 text-primary"}`,children:C.status||"—"})}),e.jsx($e,{children:e.jsx("div",{className:"flex items-center justify-end gap-3",children:C.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:C.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[e.jsx(sr,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(se,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void iA(C),title:"Baixar arquivo",children:[e.jsx(qs,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),e.jsxs(se,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda não disponível",children:[e.jsx(qs,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]})})})]},C.id)})})]})})]})})]})]})}const iA=async t=>{var s;try{let r=t==null?void 0:t.resultado_url;if(!r)return;/^https?:\/\//i.test(r)||(r=`http://127.0.0.1:8000${r.startsWith("/")?"":"/"}${r}`);const o=await xe.get(r,{responseType:"blob",baseURL:""}),l=new Blob([o.data],{type:o.headers["content-type"]||"application/octet-stream"}),c=o.headers["content-disposition"]||"",d=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(c),f=decodeURIComponent((d==null?void 0:d[1])||(d==null?void 0:d[2])||`${t.nome||"resultado"}.pdf`),x=document.createElement("a");x.href=URL.createObjectURL(l),x.download=f,document.body.appendChild(x),x.click(),x.remove(),URL.revokeObjectURL(x.href)}catch(r){console.warn("[Exames] download falhou:",(s=r==null?void 0:r.response)==null?void 0:s.status),alert("Não foi possível baixar o resultado. Tente novamente.")}};function lA(){const[t,s]=m.useState([]),[r,o]=m.useState(!0),[l,c]=m.useState(null),[d,f]=m.useState("todos"),[x,p]=m.useState("todos"),[g,h]=m.useState(""),j=_=>{var R;return((R=_==null?void 0:_.tipo_exame)==null?void 0:R.nome)||(_==null?void 0:_.tipo_exame_nome)||(_==null?void 0:_.nome_exame)||(typeof(_==null?void 0:_.tipo_exame)=="string"?_.tipo_exame:null)||(_==null?void 0:_.nome)||(_==null?void 0:_.tipo)||(_==null?void 0:_.exame)||"Exame"},S=_=>{const R=_==null?void 0:_.user;return[R==null?void 0:R.first_name,R==null?void 0:R.last_name].filter(Boolean).join(" ").trim()||(R==null?void 0:R.nome)||(R==null?void 0:R.username)||(_==null?void 0:_.nome)||"—"},b=_=>{var M;const R=(_==null?void 0:_.resultado_url)||(_==null?void 0:_.arquivo_resultado)||((M=_==null?void 0:_.resultado)==null?void 0:M.arquivo)||(_==null?void 0:_.arquivo_url)||(_==null?void 0:_.documento_url);return R?/^https?:\/\//i.test(R)?R:`http://127.0.0.1:8000${R.startsWith("/")?"":"/"}${R}`:null},y=_=>{if(!_)return"sem-data";const R=new Date(_);return Number.isNaN(R.getTime())?"sem-data":R.toISOString().slice(0,10)},N=_=>{try{return new Date(_).toLocaleString()}catch{return _||"—"}};m.useEffect(()=>{let _=!0;return(async()=>{var R,k,M;try{const[O,P,I]=await Promise.allSettled([tt.getConsultas(),tt.getExames(),tt.getReceitas()]),D=O.status==="fulfilled"?(Array.isArray(O.value)?O.value:(R=O.value)==null?void 0:R.results)||[]:[],F=P.status==="fulfilled"?(Array.isArray(P.value)?P.value:(k=P.value)==null?void 0:k.results)||[]:[],V=I.status==="fulfilled"?(Array.isArray(I.value)?I.value:(M=I.value)==null?void 0:M.results)||[]:[],re=F.map(H=>({id:H.id||Math.random(),tipo:"exame",data:H.data_agendamento||H.data_solicitacao||H.data||H.data_hora||null,titulo:`Exame - ${j(H)}`.trim(),detalhe:S((H==null?void 0:H.medico_solicitante)||(H==null?void 0:H.medico)),status:H.status||H.situacao||"pendente",resultado_url:b(H),nome:j(H)})),$=D.map(H=>{var W,X;return{id:H.id||Math.random(),tipo:"consulta",data:H.data_hora||H.data||null,titulo:`Consulta - ${H.especialidade||((W=H.medico)==null?void 0:W.especialidade)||""}`.trim(),detalhe:((X=H.medico)==null?void 0:X.nome)||S(H==null?void 0:H.medico)||"",status:H.status||"pendente"}}),G=V.map(H=>{var te;const W=H.medico||((te=H.consulta)==null?void 0:te.medico),X=Array.isArray(H.itens)&&H.itens.length?H.itens.map(T=>{var U;return((U=T==null?void 0:T.medicamento)==null?void 0:U.nome)||(T==null?void 0:T.medicamento)||""}).filter(Boolean).join(", "):H.medicamentos||"Prescrição";return{id:H.id||Math.random(),tipo:"receita",data:H.created_at||H.data||H.emissao||H.data_emissao||null,titulo:`Receita - ${X}`.trim(),detalhe:S(W),status:H.status||(H.arquivo_assinado?"assinada":"emitida"),resultado_url:H.arquivo_assinado||null,nome:"Receita"}}),z=[...$,...re,...G].filter(H=>H.data).sort((H,W)=>new Date(W.data)-new Date(H.data));_&&s(z)}catch{c("Não foi possível carregar o histórico.")}finally{_&&o(!1)}})(),()=>{_=!1}},[]);const C=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}],E=m.useMemo(()=>{let _=t;if(d!=="todos"){const M={consultas:"consulta",exames:"exame",receitas:"receita"};_=_.filter(O=>O.tipo===(M[d]||d))}if(x!=="todos"&&(_=_.filter(M=>(M.status||"").toLowerCase()===x.toLowerCase())),g.trim()){const M=g.toLowerCase();_=_.filter(O=>{var P,I;return((P=O.titulo)==null?void 0:P.toLowerCase().includes(M))||((I=O.detalhe)==null?void 0:I.toLowerCase().includes(M))||(O.status||"").toLowerCase().includes(M)})}const R={};for(const M of _){const O=y(M.data);R[O]||(R[O]=[]),R[O].push(M)}const k=Object.keys(R).sort((M,O)=>M<O?1:-1);return{groups:R,orderedKeys:k}},[t,d,x,g]);return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(iv,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Histórico Médico"})]}),e.jsx(Nn,{tabs:C,basePath:"/paciente"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx("div",{className:"flex-1 relative",children:e.jsx(fe,{placeholder:"Buscar por título, médico, status...",value:g,onChange:_=>h(_.target.value),className:"w-full"})}),e.jsxs(Xe,{value:d,onValueChange:f,children:[e.jsx(Ye,{className:"w-[180px]",children:e.jsx(Ze,{placeholder:"Tipo"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"consultas",children:"Consultas"}),e.jsx(ye,{value:"exames",children:"Exames"}),e.jsx(ye,{value:"receitas",children:"Receitas"})]})]}),e.jsxs(Xe,{value:x,onValueChange:p,children:[e.jsx(Ye,{className:"w-[180px]",children:e.jsx(Ze,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"solicitado",children:"Solicitado"}),e.jsx(ye,{value:"agendado",children:"Agendado"}),e.jsx(ye,{value:"realizado",children:"Realizado"}),e.jsx(ye,{value:"cancelado",children:"Cancelado"}),e.jsx(ye,{value:"pendente",children:"Pendente"})]})]})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Linha do Tempo"})}),e.jsx(ce,{children:r?e.jsx("div",{className:"space-y-3",children:[...Array(6)].map((_,R)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ke,{className:"h-4 w-4 rounded-full"}),e.jsx(Ke,{className:"h-6 w-2/3"})]},R))}):l?e.jsx("p",{className:"text-sm text-red-500",children:l}):E.orderedKeys.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento encontrado."}):e.jsx("div",{className:"space-y-8",children:E.orderedKeys.map(_=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[e.jsx(Ve,{className:"h-4 w-4"}),e.jsx("span",{children:_==="sem-data"?"Sem data":new Date(_).toLocaleDateString()})]}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute left-1 top-0 bottom-0 w-px bg-border"}),e.jsx("ul",{className:"space-y-4",children:E.groups[_].map(R=>e.jsxs("li",{className:"relative",children:[e.jsx("span",{className:`absolute -left-[7px] top-1 inline-flex items-center justify-center h-4 w-4 rounded-full ${R.tipo==="consulta"?"bg-primary":R.tipo==="exame"?"bg-emerald-500":"bg-indigo-500"}`,title:R.tipo==="consulta"?"Consulta":R.tipo==="exame"?"Exame":"Receita"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 text-muted-foreground",children:R.tipo==="consulta"?e.jsx(jt,{className:"h-4 w-4"}):R.tipo==="exame"?e.jsx(CC,{className:"h-4 w-4 text-emerald-400"}):e.jsx(ym,{className:"h-4 w-4 text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:R.titulo}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[R.detalhe||"—"," ",R.status?`• ${R.status}`:""]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:N(R.data)})]})]}),R.tipo==="exame"&&e.jsx("div",{className:"flex items-center gap-2",children:R.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:R.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 rounded-lg border border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Abrir resultado em nova aba",children:[e.jsx(sr,{className:"h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(se,{variant:"outline",className:"group inline-flex items-center gap-2 rounded-lg border-emerald-500/60 bg-gradient-to-b from-emerald-500/10 to-emerald-600/10 px-3 py-1.5 text-emerald-300 hover:from-emerald-500/20 hover:to-emerald-600/20 hover:text-emerald-100 shadow-sm shadow-emerald-500/10 hover:shadow-emerald-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500/50",onClick:()=>void ag(R),title:"Baixar arquivo",children:[e.jsx(qs,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem arquivo"}),e.jsxs(se,{variant:"outline",disabled:!0,className:"inline-flex items-center gap-2 rounded-lg border-emerald-500/30 bg-gradient-to-b from-emerald-500/5 to-emerald-600/5 px-3 py-1.5 text-emerald-400/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Resultado ainda não disponível",children:[e.jsx(qs,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]})}),R.tipo==="receita"&&e.jsx("div",{className:"flex items-center gap-2",children:R.resultado_url?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:R.resultado_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",title:"Abrir receita em nova aba",children:[e.jsx(sr,{className:"h-4 w-4"}),e.jsx("span",{children:"Ver"})]}),e.jsxs(se,{variant:"outline",className:"inline-flex items-center gap-2 rounded-lg border-indigo-500/60 bg-gradient-to-b from-indigo-500/10 to-indigo-600/10 px-3 py-1.5 text-indigo-300 hover:from-indigo-500/20 hover:to-indigo-600/20 hover:text-indigo-100 shadow-sm shadow-indigo-500/10 hover:shadow-indigo-500/20 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50",onClick:()=>void ag(R),title:"Baixar PDF",children:[e.jsx(qs,{className:"h-4 w-4"}),e.jsx("span",{children:"Baixar"})]})]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem PDF assinado"})})]})]},R.id))})]})]},_))})})]})]})}const ag=async t=>{var s;try{let r=t==null?void 0:t.resultado_url;if(!r)return;/^https?:\/\//i.test(r)||(r=`http://127.0.0.1:8000${r.startsWith("/")?"":"/"}${r}`);const o=await xe.get(r,{responseType:"blob",baseURL:""}),l=new Blob([o.data],{type:o.headers["content-type"]||"application/octet-stream"}),c=o.headers["content-disposition"]||"",d=/filename\*=UTF-8''([^;]+)|filename="?([^\";]+)"?/i.exec(c),f=decodeURIComponent((d==null?void 0:d[1])||(d==null?void 0:d[2])||`${t.nome||"resultado"}.pdf`),x=document.createElement("a");x.href=URL.createObjectURL(l),x.download=f,document.body.appendChild(x),x.click(),x.remove(),URL.revokeObjectURL(x.href)}catch(r){console.warn("[Historico Medico] download falhou:",(s=r==null?void 0:r.response)==null?void 0:s.status),alert("Não foi possível baixar o resultado. Tente novamente.")}};function cA(){const[t,s]=m.useState([]),[r,o]=m.useState(!0),[l,c]=m.useState(null);m.useEffect(()=>{let f=!0;return(async()=>{try{const x=await tt.getMedicos();f&&s(Array.isArray(x)?x:(x==null?void 0:x.results)||[])}catch{c("Não foi possível carregar os médicos vinculados.")}finally{f&&o(!1)}})(),()=>{f=!1}},[]);const d=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Médicos Vinculados"})]}),e.jsx(Nn,{tabs:d,basePath:"/paciente"}),r?e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(4)].map((f,x)=>e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(Ke,{className:"h-5 w-48"})}),e.jsxs(ce,{className:"space-y-2",children:[e.jsx(Ke,{className:"h-4 w-56"}),e.jsx(Ke,{className:"h-4 w-32"})]})]},x))}):l?e.jsx("p",{className:"text-sm text-red-500",children:l}):t.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum médico vinculado."}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:t.map(f=>{var x,p;return e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(It,{className:"h-5 w-5"}),dA(f)]})}),e.jsxs(ce,{className:"space-y-2 text-sm",children:[e.jsx("div",{className:"text-muted-foreground",children:uA(f)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["CRM: ",ig(f)||"—"]})]}),rg(f)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ro,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:rg(f)})]}),og(f)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ko,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:og(f)})]})]})]},f.id||ig(f)||((x=f.user)==null?void 0:x.id)||((p=f.user)==null?void 0:p.email))})})]})}const dA=t=>{const s=(t==null?void 0:t.user)||{};return[s.first_name,s.last_name].filter(Boolean).join(" ").trim()||s.nome||s.name||s.username||(t==null?void 0:t.nome)||(t==null?void 0:t.name)||(t==null?void 0:t.full_name)||"Médico"},uA=t=>{var r;const s=o=>(o==null?void 0:o.nome)||(o==null?void 0:o.titulo)||(o==null?void 0:o.name)||(o==null?void 0:o.descricao)||(o==null?void 0:o.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const o=t.especialidades.map(l=>s(l)||(typeof l=="string"?l:null)).filter(Boolean);if(o.length)return o.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const o=s(t.especialidade);if(o)return o}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((r=t==null?void 0:t.user)==null?void 0:r.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():"Especialidade não informada"},rg=t=>{var s;return(t==null?void 0:t.telefone)||(t==null?void 0:t.phone)||(t==null?void 0:t.celular)||((s=t==null?void 0:t.user)==null?void 0:s.phone)||null},og=t=>{var s;return(t==null?void 0:t.email)||((s=t==null?void 0:t.user)==null?void 0:s.email)||null},ig=t=>(t==null?void 0:t.crm)||(t==null?void 0:t.crm_numero)||(t==null?void 0:t.crmNumber)||(t==null?void 0:t.crm_registro)||null;function mA(){const{toast:t}=Et(),[s,r]=m.useState(!0),[o,l]=m.useState(""),[c,d]=m.useState([]),[f,x]=m.useState([]),[p,g]=m.useState(!1),[h,j]=m.useState({medico:"",mensagem:""}),[S,b]=m.useState(!1),y=m.useMemo(()=>Array.isArray(f)?f.filter(k=>k&&String(k.id??"").trim()!==""):[],[f]),N=k=>{const M=k==null?void 0:k.user;return[M==null?void 0:M.first_name,M==null?void 0:M.last_name].filter(Boolean).join(" ").trim()||(M==null?void 0:M.nome)||(M==null?void 0:M.username)||(k==null?void 0:k.nome)||(k==null?void 0:k.name)||(k==null?void 0:k.full_name)||(k==null?void 0:k.medico_nome)||(k==null?void 0:k.doctor_name)||"Médico"},C=m.useMemo(()=>Array.isArray(c)?c.length>0:Array.isArray(c==null?void 0:c.results)?c.results.length>0:!1,[c]),E=m.useMemo(()=>Array.isArray(c)?c:Array.isArray(c==null?void 0:c.results)?c.results:[],[c]);m.useEffect(()=>{let k=!0;async function M(){r(!0),l("");try{const[O,P]=await Promise.all([tt.getReceitas(),tt.getMedicosVinculados()]);if(!k)return;if(d(O),x(P),Array.isArray(P)&&P.length===0)try{const I=await tt.getMedicos({limit:50}),D=Array.isArray(I)?I:(I==null?void 0:I.results)||[];k&&D.length>0&&x(D)}catch{}}catch{if(!k)return;l("Falha ao carregar receitas.")}finally{k&&r(!1)}}return M(),()=>{k=!1}},[]);const _=async k=>{var M,O;if(k.preventDefault(),!h.medico){t({title:"Selecione um médico",description:"Escolha o médico para enviar a solicitação."});return}b(!0);try{await tt.solicitarReceita({medico:h.medico,mensagem:h.mensagem}),t({title:"Solicitação enviada",description:"Seu pedido de receita foi enviado ao médico."}),g(!1),j({medico:"",mensagem:""})}catch(P){t({title:"Erro ao solicitar",description:((O=(M=P==null?void 0:P.response)==null?void 0:M.data)==null?void 0:O.detail)||"Não foi possível enviar a solicitação.",variant:"destructive"})}finally{b(!1)}},R=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return s?e.jsx("div",{children:"Carregando receitas..."}):o?e.jsx("div",{className:"text-red-600",children:o}):e.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ym,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Minhas Receitas"})]}),e.jsx(Nn,{tabs:R,basePath:"/paciente"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{}),e.jsx(se,{onClick:()=>g(!0),children:"Solicitar Receita"})]}),C?e.jsx("div",{className:"grid gap-4",children:E.map(k=>{var I;const M=k.consulta,O=N(k.medico),P=((I=M==null?void 0:M.paciente)!=null&&I.user?`${M.paciente.user.first_name||""} ${M.paciente.user.last_name||""}`.trim():"Paciente")||"Paciente";return e.jsxs("div",{className:"border rounded p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-medium",children:["Emitida em: ",new Date(k.created_at).toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Validade: ",k.validade]})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Médico:"})," ",O]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Paciente:"})," ",P]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"font-semibold",children:"Medicamentos"}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:k.medicamentos})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"font-semibold",children:"Posologia"}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:k.posologia})]}),k.observacoes?e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"font-semibold",children:"Observações"}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:k.observacoes})]}):null,Array.isArray(k.itens)&&k.itens.length>0?e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"font-semibold",children:"Itens estruturados"}),e.jsx("ul",{className:"list-disc ml-6 text-sm",children:k.itens.map(D=>{var F;return e.jsxs("li",{children:[((F=D.medicamento)==null?void 0:F.nome)||"Medicamento"," - ",D.dose||""," ",D.frequencia?`| ${D.frequencia}`:""," ",D.duracao?`| ${D.duracao}`:"",D.observacoes?e.jsxs("span",{children:[" — ",D.observacoes]}):null]},D.id)})})]}):null,k.arquivo_assinado?e.jsx("div",{className:"mt-3",children:e.jsx("a",{className:"text-blue-600 underline",href:k.arquivo_assinado,target:"_blank",rel:"noreferrer",children:"Baixar PDF assinado"})}):null]},k.id)})}):e.jsx("div",{className:"text-gray-600",children:"Você ainda não possui receitas."}),p?e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-card text-card-foreground border rounded-lg p-6 w-full max-w-lg shadow-lg",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Solicitar Receita"}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"mb-1 block",children:"Médico"}),e.jsxs(Xe,{value:h.medico,onValueChange:k=>j(M=>({...M,medico:k})),children:[e.jsx(Ye,{className:"w-full",children:e.jsx(Ze,{placeholder:s?"Carregando...":y.length?"Selecione...":"Nenhum médico disponível"})}),e.jsx(Je,{children:y.length===0?e.jsx(O0,{children:"Nenhum médico disponível"}):y.map(k=>{const M=(k!=null&&k.user?`${k.user.first_name||""} ${k.user.last_name||""}`.trim():k==null?void 0:k.nome)||"Médico";return e.jsxs(ye,{value:String(k.id),children:[M," ",k.crm?`- CRM ${k.crm}`:""]},String(k.id))})})]})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"mb-1 block",children:"Mensagem (opcional)"}),e.jsx(rt,{rows:3,placeholder:"Descreva sua necessidade (ex: renovação de medicamento de uso contínuo)",value:h.mensagem,onChange:k=>j(M=>({...M,mensagem:k.target.value}))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(se,{type:"button",variant:"outline",onClick:()=>{g(!1),j({medico:"",mensagem:""})},children:"Cancelar"}),e.jsx(se,{type:"submit",disabled:S,children:S?"Enviando...":"Enviar solicitação"})]})]})]})}):null]})}function F0(t,s=[]){const[r,o]=m.useState(null),[l,c]=m.useState(!0),[d,f]=m.useState(null);return m.useEffect(()=>{let p=!0;return(async()=>{var h,j;try{c(!0),f(null);const S=await t();p&&o(S)}catch(S){p&&f(((j=(h=S.response)==null?void 0:h.data)==null?void 0:j.message)||"Erro ao carregar dados")}finally{p&&c(!1)}})(),()=>{p=!1}},s),{data:r,loading:l,error:d,refetch:async()=>{var p,g;try{c(!0),f(null);const h=await t();o(h)}catch(h){f(((g=(p=h.response)==null?void 0:p.data)==null?void 0:g.message)||"Erro ao carregar dados")}finally{c(!1)}}}}const gt={async getPerfil(){var d,f,x;const t="/medicos/",s=t.endsWith("/")?t:`${t}/`,r="".toLowerCase()==="true",o="".toLowerCase()==="true";let l=mt.getCurrentUser();if(!(l!=null&&l.id))try{const p=await mt.refreshCurrentUser();p!=null&&p.id&&(l=p)}catch{}if(l!=null&&l.id){const p="user,user__id,user_id,usuario,usuario_id".split(",").map(g=>g.trim()).filter(Boolean);for(const g of p)try{const h=await xe.get(s,{params:{[g]:l.id}}),j=Array.isArray((d=h.data)==null?void 0:d.results)?h.data.results:h.data;if(j!=null&&j[0])return j[0]}catch{}}if(r)try{return(await xe.get(`${s}me/`)).data}catch(p){if(((f=p==null?void 0:p.response)==null?void 0:f.status)!==404)throw p}let c=null;if(o){const p=[],g="/users/".trim();if(g)if(g.includes("/me"))p.push(g);else{const h=g.endsWith("/")?g:`${g}/`;p.push(`${h}me/`)}p.push("/users/me/"),p.push("/auth/user/");for(const h of p)try{if(c=(await xe.get(h)).data,c&&!c.id){const S=Array.isArray(c==null?void 0:c.results)?c.results[0]:Array.isArray(c)?c[0]:null;S!=null&&S.id&&(c=S)}if(c!=null&&c.id)break}catch{}}if(c!=null&&c.id){const p="user,user__id,user_id,usuario,usuario_id".split(",").map(g=>g.trim()).filter(Boolean);for(const g of p)try{const h=await xe.get(s,{params:{[g]:c.id}}),j=Array.isArray((x=h.data)==null?void 0:x.results)?h.data.results:h.data;if(j!=null&&j[0])return j[0]}catch{}return{user:c}}return l?{user:l}:null},async getPacientes(t={}){return(await xe.get("/pacientes/",{params:t})).data},async getPacientesVinculados(t){const s="/medicos/",r=s.endsWith("/")?s:`${s}/`;return(await xe.get(`${r}${t}/pacientes/`)).data},async getConsultas(t={}){return(await xe.get("/consultas/",{params:t})).data},async getConsultasDoMedico(t={}){var f,x,p,g;const s=await this.getPerfil();let r=null;if((f=s==null?void 0:s.medico)!=null&&f.id?r=s.medico.id:s&&typeof s=="object"&&"crm"in s&&(r=s.id),!r){const h=((x=s==null?void 0:s.user)==null?void 0:x.id)||(s==null?void 0:s.id);if(h)try{const j="/medicos/",S=j.endsWith("/")?j:`${j}/`,b="user,user__id,user_id,usuario,usuario_id".split(",").map(y=>y.trim()).filter(Boolean);for(const y of b)try{const N=await xe.get(S,{params:{[y]:h}}),C=Array.isArray((p=N.data)==null?void 0:p.results)?N.data.results:N.data;if((g=C==null?void 0:C[0])!=null&&g.id){r=C[0].id;break}}catch{}}catch{}}const o={...t};r&&!o.medico&&!o.medico_id&&(o.medico=r,o.medico_id=r);const l=o.date||o.data||o.dia;return l&&(o.date=l,o.data=l,o.dia=l,o.data__date=l),(await xe.get("/consultas/",{params:o})).data},async getConsultasHoje(t){var x,p,g,h;const s="/medicos/",r=s.endsWith("/")?s:`${s}/`;let o=t;if(!o){const j=await this.getPerfil();if((x=j==null?void 0:j.medico)!=null&&x.id?o=j.medico.id:j&&typeof j=="object"&&"crm"in j&&(o=j.id),!o){const S=((p=j==null?void 0:j.user)==null?void 0:p.id)||(j==null?void 0:j.id);if(S)try{const b="user,user__id,user_id,usuario,usuario_id".split(",").map(y=>y.trim()).filter(Boolean);for(const y of b)try{const N=await xe.get(r,{params:{[y]:S}}),C=Array.isArray((g=N.data)==null?void 0:g.results)?N.data.results:N.data;if((h=C==null?void 0:C[0])!=null&&h.id){o=C[0].id;break}}catch{}}catch{}}}if(o)try{return(await xe.get(`${r}${o}/consultas_hoje/`)).data}catch{}const l=new Date,c=j=>String(j).padStart(2,"0"),d=`${l.getFullYear()}-${c(l.getMonth()+1)}-${c(l.getDate())}`;return await this.getConsultasDoMedico({date:d})},async getDashboard(){try{const t=new Date,s=d=>String(d).toString().padStart(2,"0"),r=`${t.getFullYear()}-${s(t.getMonth()+1)}-${s(t.getDate())}`,o=await this.getConsultasDoMedico({date:r}),l=Array.isArray(o)?o:Array.isArray(o==null?void 0:o.results)?o.results:[];return{proximas:Array.isArray(l)?l.map(d=>({id:d.id||d.consulta_id||d.uuid,paciente:d.paciente,data_hora:d.data_hora,status:d.status})):[]}}catch{return{proximas:[]}}},async iniciarConsulta(t){if(!t)throw new Error("consultaId é obrigatório");const s="/consultas/",o=`${s.endsWith("/")?s:`${s}/`}${t}/iniciar/`;return(await xe.post(o)).data},async finalizarConsulta(t){if(!t)throw new Error("consultaId é obrigatório");const s="/consultas/",o=`${s.endsWith("/")?s:`${s}/`}${t}/finalizar/`;return(await xe.post(o)).data},async criarReceita(t){const s="/receitas/",{data:r}=await xe.post(s,t);return r},async sumarizarConsulta(t,s={}){if(!t)throw new Error("consultaId é obrigatório");const r="/consultas/",l=`${r.endsWith("/")?r:`${r}/`}${t}/sumarizar/`,{data:c}=await xe.post(l,s);return c},async criarProntuario(t){const s="/prontuarios/",{data:r}=await xe.post(s,t);return r},async buscarPacientes(t){return(await xe.get("/pacientes/",{params:{search:t}})).data},async atualizarPacienteById(t,s){if(!t)throw new Error("id do paciente é obrigatório");const r="/pacientes/",o=r.endsWith("/")?r:`${r}/`;return(await xe.patch(`${o}${t}/`,s)).data},async vincularSecretaria(t){return(await xe.post(`/secretarias/${t}/vincular/`)).data}};function fA(){var o,l;const{data:t,loading:s}=F0(()=>gt.getDashboard());if(s)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((c,d)=>e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-20 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-4 bg-muted animate-pulse rounded"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded mb-2"}),e.jsx("div",{className:"h-3 w-24 bg-muted animate-pulse rounded"})]})]},d))})});const r=t||{consultas_hoje:5,pacientes_ativos:127,prontuarios:89,exames_pendentes:9,variacao_consultas:2,novos_pacientes_semana:5,proximas_consultas:[],pacientes_recentes:[]};return Array.isArray(r.proximas_consultas)&&r.proximas_consultas,e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Bem-vindo de volta! Aqui está um resumo das suas atividades."})]}),e.jsxs(se,{children:[e.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Consultas Hoje"}),e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.consultas_hoje}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsxs("span",{className:"text-green-600",children:["+",r.variacao_consultas]})," desde ontem"]})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Pacientes Ativos"}),e.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.pacientes_ativos}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsxs("span",{className:"text-green-600",children:["+",r.novos_pacientes_semana]})," esta semana"]})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Prontuários"}),e.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.prontuarios}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de registros"})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Exames Pendentes"}),e.jsx(gC,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.exames_pendentes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando análise"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Próximas Consultas"}),e.jsx(Le,{children:"Suas consultas agendadas para hoje"})]}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:((o=r.proximas_consultas)==null?void 0:o.length)>0?r.proximas_consultas.map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:c.paciente_nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.data_hora," - ",c.tipo]})]}),e.jsx(et,{variant:c.status==="Confirmada"?"default":"secondary",children:c.status})]},d)):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(Ve,{className:"mx-auto h-12 w-12 mb-2 opacity-50"}),e.jsx("p",{children:"Nenhuma consulta agendada para hoje"})]})})})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Pacientes Recentes"}),e.jsx(Le,{children:"Últimos pacientes atendidos"})]}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:((l=r.pacientes_recentes)==null?void 0:l.length)>0?r.pacientes_recentes.map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:c.nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Última consulta: há ",c.dias_ultima_consulta," dias"]})]}),e.jsx(se,{variant:"outline",size:"sm",children:"Ver Perfil"})]},d)):e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsx(Yt,{className:"mx-auto h-12 w-12 mb-2 opacity-50"}),e.jsx("p",{children:"Nenhum paciente recente"})]})})})]})]})]})}function pA(){const[t,s]=m.useState(!0),[r,o]=m.useState([]),[l,c]=m.useState(""),[d,f]=m.useState("todos");m.useEffect(()=>{let p=!0;return(async()=>{var g;try{const h=await gt.getPerfil(),j=(h==null?void 0:h.id)||((g=h==null?void 0:h.medico)==null?void 0:g.id);if(j){const S=await gt.getPacientesVinculados(j);p&&o(Array.isArray(S)?S:[])}else p&&o([])}catch{p&&o([])}finally{p&&s(!1)}})(),()=>{p=!1}},[]);const x=r.filter(p=>{var S;const g=(p!=null&&p.user?[p.user.first_name,p.user.last_name].filter(Boolean).join(" ").trim():(p==null?void 0:p.nome)||"").toLowerCase(),h=!l||g.includes(l.toLowerCase()),j=d==="todos"||d===((S=p==null?void 0:p.user)!=null&&S.is_active?"ativo":"inativo");return h&&j});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Meus Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Liste e gerencie seus pacientes ativos"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(On,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar pacientes...",className:"pl-10",value:l,onChange:p=>c(p.target.value)})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Xe,{children:[e.jsx(Ye,{className:"w-[180px]",children:e.jsx(Ze,{placeholder:"Filtrar por status"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"ativo",children:"Ativo"}),e.jsx(ye,{value:"inativo",children:"Inativo"})]})]}),e.jsxs(se,{children:[e.jsx(On,{className:"mr-2 h-4 w-4"}),"Buscar"]}),e.jsxs(se,{variant:"outline",children:[e.jsx(gm,{className:"mr-2 h-4 w-4"}),"Filtrar"]})]})]}),t?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((p,g)=>e.jsx(ie,{children:e.jsxs(ce,{className:"p-6 space-y-4",children:[e.jsx("div",{className:"h-6 w-40 bg-muted animate-pulse rounded"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 w-full bg-muted animate-pulse rounded"})]})]})},g))}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:x.map(p=>{var j,S;const g=(p==null?void 0:p.id)||((j=p==null?void 0:p.user)==null?void 0:j.id),h=p!=null&&p.user?[p.user.first_name,p.user.last_name].filter(Boolean).join(" ").trim():(p==null?void 0:p.nome)||`Paciente ${g}`;return e.jsx(ie,{children:e.jsxs(ce,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-14 w-14 rounded-full bg-muted flex items-center justify-center text-xl font-semibold",children:((S=h==null?void 0:h[0])==null?void 0:S.toUpperCase())||"P"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:h}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",g]})]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:(p==null?void 0:p.condicoes_cronicas)&&e.jsx(et,{variant:"outline",className:"bg-primary/5",children:p.condicoes_cronicas})}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[e.jsx(se,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(qe,{to:`/medico/paciente/${g}/perfil`,children:[e.jsx(It,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]})}),e.jsx(se,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(qe,{to:`/medico/paciente/${g}/prontuario`,children:[e.jsx(Jt,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prontuário"})]})}),e.jsx(se,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs(qe,{to:`/medico/paciente/${g}/iniciar-consulta`,children:[e.jsx(Ve,{className:"mr-1 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Consulta"})]})})]})]})},g)})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Mostrando 6 de 24 pacientes"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),e.jsx(se,{variant:"outline",size:"sm",className:"bg-primary/5",children:"1"}),e.jsx(se,{variant:"outline",size:"sm",children:"2"}),e.jsx(se,{variant:"outline",size:"sm",children:"3"}),e.jsx(se,{variant:"outline",size:"sm",children:"4"}),e.jsx(se,{variant:"outline",size:"sm",children:"Próximo"})]})]})]})}function hA(){const[t,s]=m.useState(!0),[r,o]=m.useState(!0),[l,c]=m.useState([]),[d,f]=m.useState([]);m.useEffect(()=>{let h=!0;return(async()=>{var j;try{const S=await gt.getPerfil(),b=(S==null?void 0:S.id)||((j=S==null?void 0:S.medico)==null?void 0:j.id);if(!b){h&&(c([]),f([]));return}try{const y=await gt.getConsultasHoje(b);h&&c(Array.isArray(y)?y:(y==null?void 0:y.results)||[])}finally{h&&s(!1)}try{const y=await gt.getConsultasDoMedico(),N=Array.isArray(y)?y:Array.isArray(y==null?void 0:y.results)?y.results:[];h&&f(N)}finally{h&&o(!1)}}catch{h&&(c([]),f([]),s(!1),o(!1))}})(),()=>{h=!1}},[]);const x=h=>{var S,b;const j=(S=h==null?void 0:h.paciente)==null?void 0:S.user;return j?[j.first_name,j.last_name].filter(Boolean).join(" ").trim():(h==null?void 0:h.paciente_nome)||((b=h==null?void 0:h.paciente)==null?void 0:b.nome)||"Paciente"},p=h=>{try{const j=new Date(h);if(!isNaN(j))return j.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(typeof h=="string"&&/^\d{2}:\d{2}/.test(h))return h.slice(0,5)}catch{}return"--:--"},g=h=>{try{const j=new Date(h);if(!isNaN(j))return j.toLocaleDateString()}catch{}return""};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Minhas Consultas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua agenda de consultas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(On,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar consultas...",className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Xe,{children:[e.jsx(Ye,{className:"w-[180px]",children:e.jsx(Ze,{placeholder:"Filtrar por status"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"confirmado",children:"Confirmado"}),e.jsx(ye,{value:"pendente",children:"Pendente"}),e.jsx(ye,{value:"cancelado",children:"Cancelado"})]})]}),e.jsx(fe,{type:"date",className:"w-[180px]"}),e.jsxs(se,{children:[e.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Nova Consulta"]})]})]}),e.jsxs(ts,{defaultValue:"hoje",children:[e.jsxs(ns,{children:[e.jsx(at,{value:"hoje",children:"Hoje"}),e.jsx(at,{value:"amanha",children:"Amanhã"}),e.jsx(at,{value:"semana",children:"Esta Semana"}),e.jsx(at,{value:"todas",children:"Todas"})]}),e.jsx(ct,{value:"hoje",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Consultas para hoje, ",new Date().toLocaleDateString()]})}),e.jsx(ce,{children:t?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,j)=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 w-1/3 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-3 w-1/4 bg-muted animate-pulse rounded"})]}),e.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded"})]},j))}):e.jsx("div",{className:"space-y-4",children:l.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma consulta para hoje."}):l.map(h=>{var b,y,N;const j=h.id,S=((b=h==null?void 0:h.paciente)==null?void 0:b.id)||(h==null?void 0:h.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((N=(y=x(h))==null?void 0:y[0])==null?void 0:N.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:x(h)}),S&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",S]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[p(h==null?void 0:h.data_hora)," ",g(h==null?void 0:h.data_hora)?`(${g(h==null?void 0:h.data_hora)})`:""]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[S&&e.jsx(se,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(qe,{to:`/medico/paciente/${S}/perfil`,children:"Perfil"})}),S&&e.jsx(se,{size:"sm",asChild:!0,children:e.jsx(qe,{to:`/medico/paciente/${S}/iniciar-consulta`,children:"Atender"})})]})]},j)})})})]})}),e.jsx(ct,{value:"amanha",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Consultas para amanhã, ",new Date(Date.now()+864e5).toLocaleDateString()]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(70+h),"M"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",h+5]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100050+h]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${8+h}:00`," - ",`${9+h}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:h%2===0?"Primeira consulta":"Retorno"}),h===1?e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Aguardando confirmação"}):e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(se,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(qe,{href:`/medico/paciente/${100050+h}/perfil`,children:"Perfil"})}),e.jsx(se,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},h))})})]})}),e.jsx(ct,{value:"semana",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Consultas para esta semana"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-6",children:[1,2,3].map(h=>e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3",children:new Date(Date.now()+h*2*864e5).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})}),e.jsx("div",{className:"space-y-4",children:[1,2].map(j=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:[String.fromCharCode(64+h+j),"L"]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Paciente ",h*10+j]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",100100+h*10+j]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[`${9+j}:00`," - ",`${10+j}:00`]})]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-primary/10 text-primary",children:j%2===0?"Primeira consulta":"Retorno"}),e.jsx("div",{className:"rounded-full px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Confirmada"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(se,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(qe,{href:`/medico/paciente/${100100+h*10+j}/perfil`,children:"Perfil"})}),e.jsx(se,{variant:"ghost",size:"sm",children:"Reagendar"})]})]},`${h}-${j}`))})]},h))})})]})}),e.jsx(ct,{value:"todas",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Todas as Consultas"]})}),e.jsx(ce,{children:r?e.jsx("div",{className:"space-y-4",children:[...Array(4)].map((h,j)=>e.jsx("div",{className:"h-16 w-full bg-muted animate-pulse rounded"},j))}):e.jsx("div",{className:"space-y-4",children:d.map(h=>{var b,y,N;const j=h.id,S=((b=h==null?void 0:h.paciente)==null?void 0:b.id)||(h==null?void 0:h.paciente_id);return e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:((N=(y=x(h))==null?void 0:y[0])==null?void 0:N.toUpperCase())||"P"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:x(h)}),S&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",S]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:g(h==null?void 0:h.data_hora)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground mr-1"}),e.jsx("span",{children:p(h==null?void 0:h.data_hora)})]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[S&&e.jsx(se,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(qe,{to:`/medico/paciente/${S}/perfil`,children:"Perfil"})}),e.jsx(se,{variant:"ghost",size:"sm",children:"Detalhes"})]})]},j)})})})]})})]})]})}function Zm({patientId:t,isPacienteView:s=!0,profile:r,patient:o,loading:l=!1}){var S;const c=b=>b?FC(b.replace(/_/g," ")):"",d=(r==null?void 0:r.nome)&&r.nome.trim()||[r==null?void 0:r.first_name,r==null?void 0:r.last_name].filter(Boolean).join(" ")||c(r==null?void 0:r.username)||"Usuário",f=((S=d==null?void 0:d.trim())==null?void 0:S.split(" ").filter(Boolean).slice(0,2).map(b=>{var y;return(y=b[0])==null?void 0:y.toUpperCase()}).join(""))||"?",p=(b=>{if(!b)return null;const y=new Date(b);if(Number.isNaN(y.getTime()))return null;const N=Date.now()-y.getTime(),C=new Date(N).getUTCFullYear()-1970;return C>=0?C:null})(r==null?void 0:r.data_nascimento),g=(o==null?void 0:o.tipo_sanguineo)||(r==null?void 0:r.tipo_sanguineo)||"—",h=(o==null?void 0:o.alergias)??(r==null?void 0:r.alergias),j=Array.isArray(h)?alergiesRaw.length?h.join(", "):"—":h||"—";return l?e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(ie,{children:e.jsx(ce,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ke,{className:"h-16 w-16 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{className:"h-5 w-40"}),e.jsx(Ke,{className:"h-4 w-24"})]})]})})}),e.jsx(ie,{children:e.jsx(ce,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(Ke,{className:"h-12 w-full"}),e.jsx(Ke,{className:"h-12 w-full"}),e.jsx(Ke,{className:"h-12 w-full"})]})})})]}):e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[e.jsx(ie,{children:e.jsx(ce,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ac,{className:"h-16 w-16",children:[e.jsx(Qm,{src:r==null?void 0:r.avatar,alt:d}),e.jsx(rc,{className:"bg-muted text-xl font-semibold",children:f})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:d}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Paciente":`ID: ${t||(r==null?void 0:r.id)||"-"}`})]})]})})}),e.jsx(ie,{children:e.jsxs(ce,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Idade"}),e.jsx("p",{children:p?`${p} anos`:"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:g})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:j})]})]}),!s&&e.jsx("div",{className:"mt-4",children:e.jsx(se,{size:"sm",asChild:!0,children:e.jsx(qe,{to:`/medico/paciente/${t||(r==null?void 0:r.id)}/iniciar-consulta`,children:"Iniciar Consulta"})})})]})})]})}function xA(){const{id:t}=No(),s=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Prontuário",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie as informações do paciente"})]}),e.jsx(Zm,{patientId:t,isPacienteView:!1}),e.jsx(Nn,{tabs:s,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(It,{className:"h-5 w-5"}),"Informações Pessoais"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nome"}),e.jsx("p",{children:"João Silva"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Data de Nascimento"}),e.jsx("p",{children:"15/05/1985 (38 anos)"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"CPF"}),e.jsx("p",{children:"123.456.789-00"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsx("p",{children:"(11) 98765-4321"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Endereço"}),e.jsx("p",{children:"Rua das Flores, 123 - São Paulo, SP"})]})]})})})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5"}),"Resumo Médico"]})}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:"O+"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:"Penicilina, Amendoim"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condições Crônicas"}),e.jsx("p",{children:"Hipertensão"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),e.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Histórico de Consultas"]})}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-4",children:[[1,2,3].map(r=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Consulta de Rotina"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-r*30*864e5).toLocaleDateString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Dr. Carlos Oliveira"})]}),e.jsx(se,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(qe,{to:`/medico/paciente/${t}/consultas`,children:"Ver"})})]},r)),e.jsx(se,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(qe,{to:`/medico/paciente/${t}/consultas`,children:"Ver Todas"})})]})})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Mn,{className:"h-5 w-5"}),"Exames Recentes"]})}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-4",children:[[1,2,3].map(r=>e.jsxs("div",{className:"flex items-center gap-4 rounded-lg border p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Hemograma Completo"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-r*7*864e5).toLocaleDateString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitado por: Dr. Ana Souza"})]}),e.jsx(se,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(qe,{to:`/medico/paciente/${t}/exames`,children:"Ver"})})]},r)),e.jsx(se,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(qe,{to:`/medico/paciente/${t}/exames`,children:"Ver Todos"})})]})})]})]})]})}function gA(){const{id:t}=No(),s=[{label:"Resumo",href:`/medico/paciente/${t}/perfil`},{label:"Prontuário",href:`/medico/paciente/${t}/prontuario`},{label:"Consultas",href:`/medico/paciente/${t}/consultas`},{label:"Exames",href:`/medico/paciente/${t}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${t}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Prontuário do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Histórico médico completo"})]}),e.jsx(Zm,{patientId:t,isPacienteView:!1}),e.jsx(Nn,{tabs:s,basePath:`/medico/paciente/${t}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5"}),"Informações Gerais"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tipo Sanguíneo"}),e.jsx("p",{children:"O+"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Alergias"}),e.jsx("p",{children:"Penicilina, Amendoim"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Condições Crônicas"}),e.jsx("p",{children:"Hipertensão"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Medicamentos em Uso"}),e.jsx("p",{children:"Losartana 50mg, Hidroclorotiazida 25mg"})]})]})})})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Histórico de Consultas"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(r=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"font-medium",children:"Dr. Carlos Oliveira"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Cardiologia"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Date.now()-r*30*864e5).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diagnóstico"}),e.jsx("p",{children:"Hipertensão Arterial Estágio 1"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conduta"}),e.jsx("p",{children:"Manutenção da medicação atual. Recomendação de atividade física regular e redução do consumo de sal."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Exames Solicitados"}),e.jsx("p",{children:"Hemograma completo, Perfil lipídico, Função renal"})]})]},r))})})]})]})]})}function vA({params:t}){const{id:s}=t,r=[{label:"Resumo",href:`/medico/paciente/${s}/perfil`},{label:"Prontuário",href:`/medico/paciente/${s}/prontuario`},{label:"Consultas",href:`/medico/paciente/${s}/consultas`},{label:"Exames",href:`/medico/paciente/${s}/exames`},{label:"Iniciar Consulta",href:`/medico/paciente/${s}/iniciar-consulta`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames do Paciente"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie exames do paciente"})]}),e.jsx(Zm,{patientId:s,isPacienteView:!1}),e.jsx(Nn,{tabs:r,basePath:`/medico/paciente/${s}`}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(On,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar exames...",className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Xe,{children:[e.jsx(Ye,{className:"w-[180px]",children:e.jsx(Ze,{placeholder:"Tipo de exame"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"laboratoriais",children:"Laboratoriais"}),e.jsx(ye,{value:"imagem",children:"Imagem"}),e.jsx(ye,{value:"cardio",children:"Cardiológicos"})]})]}),e.jsxs(se,{children:[e.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Solicitar Exame"]})]})]}),e.jsxs(ts,{defaultValue:"todos",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(at,{value:"todos",children:"Todos"}),e.jsx(at,{value:"pendentes",children:"Pendentes"}),e.jsx(at,{value:"realizados",children:"Realizados"}),e.jsx(at,{value:"solicitados-por-mim",children:"Solicitados por Mim"})]}),e.jsx(ct,{value:"realizados",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Mn,{className:"h-5 w-5"}),"Exames Realizados"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:[3,4,5,6].map(o=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:o%3===0?"Hemograma Completo":o%3===1?"Perfil Lipídico":"Eletrocardiograma"}),e.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:["Solicitado por: ",o%2===0?"Dr. Carlos Oliveira":"Dra. Ana Souza"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Realizado em: ",new Date(Date.now()-o*15*864e5).toLocaleDateString()]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"rounded-full px-2 py-1 text-xs inline-flex bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Realizado"})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs(se,{variant:"outline",size:"sm",children:[e.jsx(sr,{className:"mr-2 h-4 w-4"}),"Visualizar Resultado"]}),e.jsxs(se,{variant:"outline",size:"sm",children:[e.jsx(qs,{className:"mr-2 h-4 w-4"}),"Baixar PDF"]}),e.jsxs(se,{variant:"outline",size:"sm",children:[e.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Solicitar Novo"]})]})]},o))})})]})}),e.jsx(ct,{value:"solicitados-por-mim",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Mn,{className:"h-5 w-5"}),"Exames Solicitados por Mim"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:o%2===0?"Hemograma Completo":"Perfil Lipídico"}),e.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:"Solicitado por: Você"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Solicitado em: ",new Date(Date.now()-o*10*864e5).toLocaleDateString()]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"rounded-full px-2 py-1 text-xs inline-flex bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",children:"Pendente"})}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs(se,{variant:"outline",size:"sm",children:[e.jsx(jm,{className:"mr-2 h-4 w-4"}),"Registrar Resultado"]}),e.jsx(se,{variant:"outline",size:"sm",children:"Reagendar"}),e.jsx(se,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:"Cancelar"})]})]},o))})})]})})]})]})}const yA={async sumarizarTranscricao(t,s={}){throw new Error("VITE_GEMINI_API_KEY não configurada")}};function jA(){const{id:t}=No(),s=ln(),r=Lt(),[o,l]=m.useState(!1),{toast:c}=Et(),[d,f]=m.useState(!1),[x,p]=m.useState({queixa:"",historia:"",medicamentos:"",alergias:"",pressao:"","frequencia-cardiaca":"",temperatura:"",saturacao:"","exame-geral":"","sistema-cardiovascular":"","sistema-respiratorio":"",diagnostico:"",conduta:"",exames:"",retorno:""}),g=L=>{const{id:K,value:J}=L.target;p(Q=>({...Q,[K]:J}))},j=new URLSearchParams(r.search).get("consultaId"),[S,b]=m.useState(""),[y,N]=m.useState(!1),[C,E]=m.useState(""),[_,R]=m.useState("unknown"),k=m.useRef(null),M=m.useRef(-1),[O,P]=m.useState(""),I=m.useRef(!1),D=m.useMemo(()=>`iniciar-consulta:${t}:${j||"sem-consulta"}`,[t,j]),F=m.useRef("");m.useEffect(()=>{F.current=O},[O]);const[V,re]=m.useState(null),[$,G]=m.useState(!1),[z,H]=m.useState("");m.useEffect(()=>{let L;return(async()=>{try{navigator.permissions&&navigator.permissions.query&&(L=await navigator.permissions.query({name:"microphone"}),R(L.state||"unknown"),L.onchange=()=>R(L.state||"unknown"))}catch{}})(),()=>{L&&(L.onchange=null)}},[]);const W=async()=>{E("");try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(K=>K.stop()),R("granted"),!0}catch(L){const K=L&&(L.name||L.message)||"Permissão de microfone negada";return E(typeof K=="string"?K:"Falha ao acessar microfone"),R("denied"),!1}};m.useEffect(()=>{try{const L=localStorage.getItem(D);L&&b(L)}catch{}},[D]),m.useEffect(()=>{let L=!0;return(async()=>{var K;try{const J="/pacientes/".replace(/\/?$/,"/"),{data:Q}=await xe.get(`${J}${t}/`);if(!L)return;re(Q);const le=(Q==null?void 0:Q.alergias)||"";le&&!x.alergias&&p(we=>({...we,alergias:le}))}catch(J){console.debug("[IniciarConsulta] Falha ao buscar paciente por id:",(K=J==null?void 0:J.response)==null?void 0:K.status)}})(),()=>{L=!1}},[t]),m.useEffect(()=>{try{localStorage.setItem(D,S||"")}catch{}},[D,S]),m.useEffect(()=>(X(),()=>{te()}),[]);const X=async()=>{try{if(!await W()){N(!1),I.current=!1;return}if(k.current){try{k.current.onend=null,k.current.onresult=null,k.current.onerror=null,k.current.stop()}catch{}k.current=null}const L=window.SpeechRecognition||window.webkitSpeechRecognition;if(!L){console.warn("Reconhecimento de fala não suportado neste navegador."),E("Seu navegador não suporta reconhecimento de fala."),N(!1);return}const K=new L;K.lang="pt-BR",K.continuous=!0,K.interimResults=!0,K.maxAlternatives=1,M.current=-1,K.onresult=J=>{let Q="",le="";for(let we=J.resultIndex;we<J.results.length;we++){const je=J.results[we],Ce=Array.from(je,Re=>Re.transcript).join("");je.isFinal?Q+=Ce+" ":le+=Ce}if(Q){const we=Q.trim();b(je=>{const Ce=je?je.endsWith(" ")?je:je+" ":"";return we&&Ce.endsWith(we)?je:(Ce+we).trim()})}P(le)},K.onerror=J=>{const Q=(J==null?void 0:J.error)||J;if(console.warn("Erro no reconhecimento de fala:",Q),typeof Q=="string"&&E(Q),["audio-capture","network"].includes(Q)&&I.current&&k.current===K)try{K.stop()}catch{}Q==="not-allowed"&&(N(!1),I.current=!1)},K.onend=()=>{const J=k.current===K,Q=(F.current||"").trim();Q&&b(le=>{const we=le?le.endsWith(" ")?le:le+" ":"";return we.endsWith(Q)?le:(we+Q).trim()}),P(""),M.current=-1,I.current&&J&&setTimeout(()=>{try{K.start()}catch{}},200)},k.current=K,I.current=!0,N(!0);try{K.start()}catch(J){console.warn("Falha ao iniciar reconhecimento:",J),N(!1),I.current=!1,k.current=null,E("Falha ao iniciar reconhecimento de fala.");return}}catch(L){console.warn("Falha ao iniciar reconhecimento de fala:",L),N(!1),I.current=!1,E("Falha inesperada ao iniciar microfone.")}},te=()=>{try{N(!1),I.current=!1,P(""),k.current&&(k.current.onend=null,k.current.onresult=null,k.current.onerror=null,k.current.stop(),k.current=null)}catch{}};function T(L=""){var it;const K=L.replace(/\r/g,"").trim(),J=We=>{const Te=new RegExp(`(?:^|
)s*(?:${We.join("|")})s*[:：]s*([sS]*?)(?=
s*(?:Queixa|História|Historia|Exame|Diagn[oó]stico|Conduta|Prescri|Rx|Receita)s*[:：]|$)`,"i"),_t=K.match(Te);return _t?_t[1].trim():""},Q=J(["Queixa","Queixa Principal"])||((it=K.split(/\n\n|\n-/)[0])==null?void 0:it.slice(0,300))||"",le=J(["História","Historia","HDA","História da Doença Atual"])||"",we=J(["Diagnóstico","Diagnostico"])||"",je=J(["Conduta","Plano","Plano Terapêutico"])||"",Ce=J(["Prescrição","Prescricao","Receita","Rx"])||"";let Re="",Ue="";if(Ce){const We=Ce.split(/\n+/).map(Te=>Te.trim()).filter(Boolean);We.length===1?(Re=We[0],Ue="Conforme descrito na prescrição."):We.length>1&&(Re=We[0],Ue=We.slice(1).join(" "))}if(!Re&&je){const We=(je.match(/.+?(\d+\s?(mg|ml|g|mcg)|comprimid|c[aá]psul|gotas).*/i)||[""])[0];We&&(Re=We.trim(),Ue="Conforme conduta descrita.")}return{queixa:Q,historia:le,diagnostico:we,conduta:je,medicamentos:Re,posologia:Ue}}const U=async()=>{const L=(z||"").trim();if(!L){G(!1);return}const K=(x.alergias||"").trim(),J=K?`${K}
${L}`:L;p(Q=>({...Q,alergias:J}));try{V!=null&&V.id&&(gt!=null&&gt.atualizarPacienteById)&&(await gt.atualizarPacienteById(V.id,{alergias:J}),c({title:"Alergia adicionada",description:"Atualizamos o cadastro do paciente."}))}catch(Q){console.debug("Falha ao atualizar alergias do paciente:",Q==null?void 0:Q.message),c({title:"Não foi possível salvar no cadastro",description:"A alergia foi adicionada ao formulário apenas.",variant:"destructive"})}finally{H(""),G(!1)}},Z=async L=>{var K;L.preventDefault(),l(!0);try{te()}catch{}try{const J=T(S);if(!d)if(j){try{await gt.finalizarConsulta(j)}catch{}let Te=null;try{Te=await gt.sumarizarConsulta(j,{transcript:S||"",extracted:{queixa:J.queixa||"",historia:J.historia||"",diagnostico:J.diagnostico||"",conduta:J.conduta||"",medicamentos:J.medicamentos||"",posologia:J.posologia||""},form:{queixa_principal:x.queixa||"",historia_doenca_atual:x.historia||"",diagnostico_principal:x.diagnostico||"",conduta:x.conduta||"",medicamentos_uso:x.medicamentos||"",alergias:x.alergias||""}})}catch(Tt){console.warn("Falha ao enviar dados para sumarização:",Tt)}if(!Te)try{Te=await yA.sumarizarTranscricao(S||"",{queixa:J.queixa||"",historia_doenca_atual:J.historia||"",diagnostico_principal:J.diagnostico||"",conduta:J.conduta||"",medicamentos:J.medicamentos||"",posologia:J.posologia||"",alergias:x.alergias||""})}catch(Tt){console.debug("[AI] Gemini indisponível:",Tt==null?void 0:Tt.message)}const _t=[Te,Te==null?void 0:Te.data,Te==null?void 0:Te.result,Te==null?void 0:Te.output,Te==null?void 0:Te.summary,Te==null?void 0:Te.sumarizacao,Te==null?void 0:Te.resumo,Te==null?void 0:Te.fields].filter(Boolean),ys=(Tt,na)=>{try{return na.split(".").reduce((js,os)=>js&&js[os]!==void 0?js[os]:void 0,Tt)}catch{return}},qt=Tt=>{for(const na of _t)for(const js of Tt){const os=ys(na,js);if(os!=null){const wr=String(os).trim();if(wr)return wr}}return""},ta={queixa:x.queixa||qt(["queixa_principal","anamnese.queixa_principal","queixa","anamnesis.queixaPrincipal","chiefComplaint","chief_complaint"])||J.queixa||"",historia:x.historia||qt(["historia_doenca_atual","anamnese.historia_doenca_atual","hda","historia","history_of_present_illness","hpi"])||J.historia||"",medicamentos:x.medicamentos||qt(["medicamentos_uso","medicamentos","prescricao.medicamentos","prescription.medications"])||J.medicamentos||"",alergias:x.alergias||qt(["alergias","anamnese.alergias","allergies"])||"",diagnostico:x.diagnostico||qt(["diagnostico_principal","diagnostico","diagnosis","assessment"])||J.diagnostico||"",conduta:x.conduta||qt(["conduta","plano","plan","plan_terapeutico"])||J.conduta||""};p(Tt=>({...Tt,...ta})),f(!0),c({title:"Resumo aplicado",description:"Preenchemos os campos com a sugestão da IA. Revise e clique novamente para salvar o prontuário."}),l(!1);return}else{p(Te=>({...Te,queixa:Te.queixa||J.queixa||"",historia:Te.historia||J.historia||"",diagnostico:Te.diagnostico||J.diagnostico||"",conduta:Te.conduta||J.conduta||"",medicamentos:Te.medicamentos||J.medicamentos||""})),f(!0),c({title:"Campos sugeridos",description:"Usamos a transcrição para sugerir os campos. Revise e clique novamente para salvar."}),l(!1);return}const Q={consulta_id:j,queixa_principal:x.queixa||J.queixa||"",historia_doenca_atual:x.historia||J.historia||"",medicamentos_uso:x.medicamentos||"",alergias:x.alergias||"",pressao_arterial:x.pressao||"",frequencia_cardiaca:x["frequencia-cardiaca"]||"",temperatura:x.temperatura||"",saturacao_oxigenio:x.saturacao||"",exame_geral:x["exame-geral"]||"",sistema_cardiovascular:x["sistema-cardiovascular"]||"",sistema_respiratorio:x["sistema-respiratorio"]||"",diagnostico_principal:x.diagnostico||J.diagnostico||"",conduta:x.conduta||J.conduta||"",exames_solicitados:x.exames||"",data_retorno:x.retorno||null},le=await gt.criarProntuario(Q),we=(le==null?void 0:le.id)||((K=le==null?void 0:le.data)==null?void 0:K.id),je=new Date,Ce=new Date(je.getFullYear(),je.getMonth(),je.getDate()+7),Re=Te=>String(Te).padStart(2,"0"),Ue=`${Ce.getFullYear()}-${Re(Ce.getMonth()+1)}-${Re(Ce.getDate())}`,it=x.medicamentos||J.medicamentos||"",We=J.posologia||"";if(j&&(it||We))try{await gt.criarReceita({consulta_id:j,medicamentos:it,posologia:We,validade:Ue,observacoes:"Receita gerada automaticamente a partir do resumo da consulta."})}catch(Te){console.warn("Falha ao criar receita automática:",Te)}try{localStorage.removeItem(D)}catch{}s(`/medico/paciente/${t}/receita/preview`,{state:{fromConsulta:{medicamentos:it,posologia:We,validade:Ue},consultaId:j}})}catch(J){console.error("Erro ao salvar prontuário/consulta:",J);const Q=new Date,le=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()+7),we=Ue=>String(Ue).padStart(2,"0"),je=`${le.getFullYear()}-${we(le.getMonth()+1)}-${we(le.getDate())}`,Ce=x.medicamentos||extracted.medicamentos||"",Re=extracted.posologia||"";s(`/medico/paciente/${t}/receita/preview`,{state:{fromConsulta:{medicamentos:Ce,posologia:Re,validade:je},consultaId:j}})}finally{l(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Nova Consulta"}),e.jsxs("p",{className:"text-muted-foreground",children:["Paciente ID: ",t,j?` • Consulta #${j}`:""]})]}),e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Transcrição de Áudio (tempo real)"}),e.jsx(Le,{children:"Fale normalmente; o texto aparecerá abaixo e pode ser editado."}),C&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Microfone: ",C]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`flex items-center gap-1 text-sm ${y?"text-green-600":"text-muted-foreground"}`,children:[e.jsx(NC,{className:`h-4 w-4 ${y?"animate-pulse":""}`}),y?"Ouvindo":"Pausado"]}),y?e.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:te,children:[e.jsx(PC,{className:"h-4 w-4 mr-2"})," Pausar"]}):e.jsxs(se,{type:"button",variant:"default",size:"sm",onClick:X,children:[e.jsx(AC,{className:"h-4 w-4 mr-2"})," Retomar"]}),e.jsx(se,{type:"button",variant:"outline",size:"sm",onClick:W,children:"Testar microfone"}),e.jsx(se,{type:"button",variant:"outline",size:"sm",onClick:()=>{te(),setTimeout(()=>X(),250)},children:"Resetar microfone"})]})]}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"transcript",children:"Resumo em tempo real"}),e.jsx(rt,{id:"transcript",placeholder:"O que você ditar será transcrito aqui. Você pode editar livremente.",className:"min-h-[160px]",value:S,onChange:L=>b(L.target.value)}),O&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1","aria-live":"polite",children:["Ditando: ",O]})]})})]}),e.jsxs("form",{onSubmit:Z,children:[e.jsxs(ts,{defaultValue:"anamnese",className:"space-y-4",children:[e.jsxs(ns,{children:[e.jsxs(at,{value:"anamnese",className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-4 w-4"}),"Anamnese"]}),e.jsxs(at,{value:"exame-fisico",className:"flex items-center gap-2",children:[e.jsx(Mn,{className:"h-4 w-4"}),"Exame Físico"]}),e.jsxs(at,{value:"diagnostico",className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4"}),"Diagnóstico"]})]}),e.jsx(ct,{value:"anamnese",children:e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Anamnese"}),e.jsx(Le,{children:"Registre a queixa principal e o histórico do paciente"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"queixa",children:"Queixa Principal"}),e.jsx(rt,{id:"queixa",placeholder:"Descreva a queixa principal do paciente",className:"min-h-[100px]",value:x.queixa,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"historia",children:"História da Doença Atual"}),e.jsx(rt,{id:"historia",placeholder:"Descreva a história da doença atual",className:"min-h-[150px]",value:x.historia,onChange:g})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"medicamentos",children:"Medicamentos em Uso"}),e.jsx(rt,{id:"medicamentos",placeholder:"Liste os medicamentos em uso",className:"min-h-[100px]",value:x.medicamentos,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"alergias",children:"Alergias"}),e.jsx(rt,{id:"alergias",placeholder:"Liste as alergias conhecidas",className:"min-h-[100px]",value:x.alergias,onChange:g}),e.jsx("div",{className:"mt-2",children:e.jsx(se,{type:"button",variant:"outline",size:"sm",onClick:()=>G(!0),children:"Adicionar alergia"})})]})]})]})]})}),e.jsx(ct,{value:"exame-fisico",children:e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Exame Físico"}),e.jsx(Le,{children:"Registre os dados do exame físico do paciente"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"pressao",children:"Pressão Arterial"}),e.jsx(fe,{id:"pressao",placeholder:"Ex: 120/80 mmHg",value:x.pressao,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"frequencia-cardiaca",children:"Freq. Cardíaca"}),e.jsx(fe,{id:"frequencia-cardiaca",placeholder:"Ex: 75 bpm",value:x["frequencia-cardiaca"],onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"temperatura",children:"Temperatura"}),e.jsx(fe,{id:"temperatura",placeholder:"Ex: 36.5 °C",value:x.temperatura,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"saturacao",children:"Saturação O2"}),e.jsx(fe,{id:"saturacao",placeholder:"Ex: 98%",value:x.saturacao,onChange:g})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"exame-geral",children:"Exame Geral"}),e.jsx(rt,{id:"exame-geral",placeholder:"Descreva o estado geral do paciente",className:"min-h-[100px]",value:x["exame-geral"],onChange:g})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"sistema-cardiovascular",children:"Sistema Cardiovascular"}),e.jsx(rt,{id:"sistema-cardiovascular",placeholder:"Descreva os achados cardiovasculares",className:"min-h-[100px]",value:x["sistema-cardiovascular"],onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"sistema-respiratorio",children:"Sistema Respiratório"}),e.jsx(rt,{id:"sistema-respiratorio",placeholder:"Descreva os achados respiratórios",className:"min-h-[100px]",value:x["sistema-respiratorio"],onChange:g})]})]})]})]})}),e.jsx(ct,{value:"diagnostico",children:e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Diagnóstico e Conduta"}),e.jsx(Le,{children:"Registre o diagnóstico e plano terapêutico"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"diagnostico",children:"Diagnóstico"}),e.jsx(rt,{id:"diagnostico",placeholder:"Descreva o diagnóstico principal e diferenciais",className:"min-h-[100px]",value:x.diagnostico,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"conduta",children:"Conduta"}),e.jsx(rt,{id:"conduta",placeholder:"Descreva a conduta terapêutica",className:"min-h-[150px]",value:x.conduta,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"exames",children:"Exames Solicitados"}),e.jsx(rt,{id:"exames",placeholder:"Liste os exames solicitados",className:"min-h-[100px]",value:x.exames,onChange:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"retorno",children:"Retorno"}),e.jsx(fe,{id:"retorno",type:"date",className:"max-w-xs",value:x.retorno,onChange:g})]})]})]})})]}),e.jsx("div",{className:"sticky bottom-0 left-0 right-0 z-10 border-t bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx(se,{type:"button",variant:"outline",onClick:()=>s(-1),children:"Cancelar"}),e.jsx(se,{type:"submit",disabled:o,children:o?e.jsx(e.Fragment,{children:"Salvando..."}):e.jsxs(e.Fragment,{children:[e.jsx(cv,{className:"mr-2 h-4 w-4"}),d?"Salvar Prontuário":"Finalizar e Preencher com IA"]})})]})})]}),e.jsx(Lo,{open:$,onOpenChange:G,children:e.jsxs(gr,{children:[e.jsxs(vr,{children:[e.jsx(jr,{children:"Adicionar alergia"}),e.jsx(cc,{children:"Informe a alergia para adicionar ao prontuário (e ao cadastro do paciente)."})]}),e.jsxs("div",{className:"space-y-2 py-2",children:[e.jsx(ue,{htmlFor:"nova-alergia",children:"Alergia"}),e.jsx(fe,{id:"nova-alergia",placeholder:"Ex.: Dipirona",value:z,onChange:L=>H(L.target.value)})]}),e.jsxs(yr,{children:[e.jsx(se,{type:"button",variant:"outline",onClick:()=>{G(!1),H("")},children:"Cancelar"}),e.jsx(se,{type:"button",onClick:U,children:"Salvar"})]})]})})]})}function $0(){const t=new Date,s=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${t.getFullYear()}-${s}-${r}`}function wA(t){if(!t)return"";const s=String(t).match(/^(\d{4})-(\d{2})-(\d{2})$/);if(s){const[,r,o,l]=s;return`${l}/${o}/${r}`}try{return new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return t}}function NA(t){return(t===$0()?gt.getConsultasHoje():gt.getConsultasDoMedico({date:t})).then(o=>{const c=(d=>Array.isArray(d)?d:!d||typeof d!="object"?[]:Array.isArray(d.results)?d.results:Array.isArray(d.data)?d.data:Array.isArray(d.items)?d.items:Array.isArray(d.consultas)?d.consultas:Array.isArray(d.content)?d.content:Array.isArray(d.objects)?d.objects:[])(o);return Array.isArray(c)?c.map(d=>{var S,b,y,N,C;const f=((S=d==null?void 0:d.paciente)==null?void 0:S.user)||{},x=[f.first_name,f.last_name].filter(Boolean).join(" ")||((b=d==null?void 0:d.paciente)==null?void 0:b.nome)||(d==null?void 0:d.paciente_nome)||(d==null?void 0:d.nome_paciente)||"Paciente";let p="";const g=(d==null?void 0:d.data_hora)||(d==null?void 0:d.horario)||(d==null?void 0:d.inicio)||(d==null?void 0:d.start_time)||(d==null?void 0:d.data)||(d==null?void 0:d.inicio_previsto);if(g)try{const E=new Date(g);if(!isNaN(E.getTime()))p=E.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});else throw new Error("invalid date")}catch{const E=String(g).match(/\b(\d{2}:\d{2})\b/);p=E?E[1]:""}const h=String((d==null?void 0:d.status)||(d==null?void 0:d.situacao)||"").toLowerCase();let j="pendente";return h.includes("andamento")?j="em_andamento":h.includes("finaliz")||h.includes("conclu")||h.includes("cancel")||h.includes("faltou")?j="finalizado":j="pendente",{id:d.id||d.consulta_id||d.uuid,paciente:{id:((y=d==null?void 0:d.paciente)==null?void 0:y.id)||(d==null?void 0:d.paciente_id),nome:x.trim(),avatarUrl:((N=d==null?void 0:d.paciente)==null?void 0:N.avatar_url)||((C=d==null?void 0:d.paciente)==null?void 0:C.foto)||(d==null?void 0:d.paciente_avatar)||null},hora:p,status:j}}):[]})}function bA({status:t}){const s={pendente:"bg-amber-100 text-amber-700",em_andamento:"bg-emerald-100 text-emerald-700",finalizado:"bg-gray-100 text-gray-600"},r={pendente:"Pendente",em_andamento:"Em Andamento",finalizado:"Finalizado"};return e.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${s[t]}`,children:r[t]})}function SA({url:t,name:s}){return t?e.jsx("img",{src:t,alt:`Avatar de ${s}`,className:"h-14 w-14 rounded-full object-cover"}):e.jsxs("svg",{className:"h-14 w-14 rounded-full bg-gray-100 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":!0,children:[e.jsx("circle",{cx:"12",cy:"8",r:"4"}),e.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6"})]})}function CA(){return e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"}),e.jsx("div",{className:"h-20 animate-pulse rounded-2xl bg-gray-100"})]})}function EA({onRetry:t}){return e.jsxs("div",{className:"mt-10 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:["Ocorreu um erro ao carregar as consultas.",e.jsx("button",{className:"ml-3 rounded-md bg-red-600 px-3 py-1 text-white",onClick:t,children:"Tentar novamente"})]})}function _A(){return e.jsx("div",{className:"mt-12 rounded-2xl border bg-white p-10 text-center text-gray-500",children:"Nenhuma consulta encontrada para este dia."})}function kA({children:t,...s}){return e.jsx("button",{...s,className:"rounded-lg bg-blue-600 px-4 py-2 text-white shadow-sm transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-200",children:t})}function lg({children:t,...s}){return e.jsx("button",{...s,className:"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 shadow-sm transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-200",children:t})}function RA({consulta:t,onIniciar:s}){const r=m.useMemo(()=>{if(!t.hora)return"";try{const[l,c]=String(t.hora).split(":"),d=new Date;return d.setHours(Number(l),Number(c),0,0),d.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return t.hora}},[t.hora]),o=()=>t.status==="pendente"?e.jsx(kA,{onClick:()=>s(t),"aria-label":`Iniciar consulta de ${t.paciente.nome} às ${t.hora}`,children:"Iniciar Consulta"}):t.status==="em_andamento"?e.jsx(lg,{disabled:!0,children:"Em Andamento"}):e.jsx(lg,{disabled:!0,children:"Finalizado"});return e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-white p-5 shadow-md transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(SA,{url:t.paciente.avatarUrl,name:t.paciente.nome}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.paciente.nome}),e.jsx("div",{className:"mt-1 text-sm text-gray-500",children:r})]})]}),e.jsxs("div",{className:"flex flex-col items-stretch gap-3 md:flex-row md:items-center",children:[e.jsx(bA,{status:t.status}),o()]})]})}function PA(){const t=ln(),[s,r]=m.useState($0()),[o,l]=m.useState("todos"),[c,d]=m.useState(!0),[f,x]=m.useState(null),[p,g]=m.useState([]),h=async()=>{d(!0),x(null);try{const y=await NA(s);g(y)}catch(y){x(y)}finally{d(!1)}};m.useEffect(()=>{h()},[s]);const j=async y=>{var N;try{y!=null&&y.id&&await gt.iniciarConsulta(y.id)}catch(C){console.error("Falha ao iniciar consulta no backend:",C)}finally{try{const C=y==null?void 0:y.id,E=(N=y==null?void 0:y.paciente)==null?void 0:N.id,_=C?`/medico/paciente/${E}/iniciar-consulta?consultaId=${C}`:`/medico/paciente/${E}/iniciar-consulta`;t(_)}catch{console.log("Iniciar consulta (fallback navegação)",y==null?void 0:y.id)}}},S=wA(s),b=p.filter(y=>o==="todos"?!0:y.status===o);return e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-xl bg-blue-50 p-2 text-blue-600",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"h-5 w-5",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Consultas de Hoje"}),e.jsx("span",{className:"text-sm text-gray-500",children:S})]}),e.jsx("div",{className:"mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:e.jsxs("div",{className:"flex w-full gap-3 md:w-auto",children:[e.jsxs("div",{className:"relative w-full md:w-60",children:[e.jsxs("select",{value:o,onChange:y=>l(y.target.value),className:"w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[e.jsx("option",{value:"todos",children:"Filtrar por status"}),e.jsx("option",{value:"pendente",children:"Pendentes"}),e.jsx("option",{value:"em_andamento",children:"Em Andamento"}),e.jsx("option",{value:"finalizado",children:"Finalizadas"})]}),e.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.085l3.71-3.855a.75.75 0 111.08 1.04l-4.25 4.417a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),e.jsx("input",{type:"date",value:s,onChange:y=>r(y.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm outline-none transition-colors hover:bg-gray-50 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:w-auto"})]})}),c&&e.jsx(CA,{}),!c&&f&&e.jsx(EA,{onRetry:h}),!c&&!f&&b.length===0&&e.jsx(_A,{}),!c&&!f&&b.length>0&&e.jsx("div",{className:"mt-6 space-y-4",children:b.map(y=>e.jsx(RA,{consulta:y,onIniciar:j},y.id))})]})}function AA(){var C;const{id:t}=No(),s=Lt(),{toast:r}=Et(),o=((C=s.state)==null?void 0:C.fromConsulta)||{},[l,c]=m.useState({nome_paciente:"",idade:"",rg:"",data_nascimento:"",medicamento:o.medicamentos||"",posologia:o.posologia||"",validade_receita:o.validade||"",medico:"",crm:"",endereco_consultorio:"",telefone_consultorio:"",observacoes:"",formato:"docx"}),[d,f]=m.useState(!1),[x,p]=m.useState(!0),[g,h]=m.useState(!1);m.useEffect(()=>{let E=!0;async function _(){p(!0);try{try{const R=await gt.getPerfil(),k=R!=null&&R.user?`${R.user.first_name||""} ${R.user.last_name||""}`.trim():(R==null?void 0:R.nome)||"Médico",M=(R==null?void 0:R.crm)||"";E&&c(O=>({...O,medico:k||O.medico,crm:M||O.crm,endereco_consultorio:(R==null?void 0:R.endereco)||O.endereco_consultorio||"",telefone_consultorio:(R==null?void 0:R.telefone)||O.telefone_consultorio||""}))}catch{}try{const R="/pacientes/".replace(/\/?$/,"/"),{data:k}=await xe.get(`${R}${t}/`),M=(k==null?void 0:k.user)||{},O=[M.first_name,M.last_name].filter(Boolean).join(" ")||(k==null?void 0:k.nome)||"",P=(k==null?void 0:k.data_nascimento)||(k==null?void 0:k.nascimento)||"";let I="";if(P){const D=new Date(P);if(!isNaN(D)){const F=new Date;let V=F.getFullYear()-D.getFullYear();const re=F.getMonth()-D.getMonth();(re<0||re===0&&F.getDate()<D.getDate())&&V--,I=String(V)}}E&&c(D=>({...D,nome_paciente:O||D.nome_paciente,data_nascimento:P||D.data_nascimento,idade:D.idade||I}))}catch{}}finally{E&&p(!1)}}return _(),()=>{E=!1}},[t]);const j=E=>{const{name:_,value:R}=E.target;c(k=>({...k,[_]:R}))},S=()=>{f(!0),r({title:"Receita validada",description:"Os dados foram conferidos. Você pode gerar o documento."})},b=(E,_="Receita_Medica")=>{const R=URL.createObjectURL(E),k=document.createElement("a");k.href=R,k.download=_,document.body.appendChild(k),k.click(),k.remove(),URL.revokeObjectURL(R)},y=async()=>{var E,_,R,k;h(!0);try{const M="/gerar-receita/".replace(/\/?$/,"/"),O={nome_paciente:l.nome_paciente,idade:l.idade,rg:l.rg,data_nascimento:l.data_nascimento,medicamento:l.medicamento,posologia:l.posologia,medico:l.medico,crm:l.crm,endereco_consultorio:l.endereco_consultorio,telefone_consultorio:l.telefone_consultorio,validade_receita:l.validade_receita,observacoes:l.observacoes,formato:l.formato,paciente_id:t,consulta_id:o.consultaId||void 0},P=await xe.post(M,O,{responseType:"blob"}),I=P.headers["content-type"]||(l.formato==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"),D=P.headers["content-disposition"]||"";let F=((E=D.match(/filename\*=UTF-8''([^;\n]+)/))==null?void 0:E[1])||((_=D.match(/filename=\"?([^;\n\"]+)/))==null?void 0:_[1])||"Receita_Medica";F.includes(".")||(F+=l.formato==="pdf"?".pdf":".docx");const V=new Blob([P.data],{type:I});b(V,F),r({title:"Documento gerado",description:`Arquivo ${F} baixado.`})}catch(M){console.error("Falha ao gerar documento de receita:",M),r({title:"Erro ao gerar documento",description:((k=(R=M==null?void 0:M.response)==null?void 0:R.data)==null?void 0:k.detail)||"Tente novamente mais tarde.",variant:"destructive"})}finally{h(!1)}},N=m.useMemo(()=>new Date().toLocaleDateString(),[]);return x?e.jsx("div",{children:"Carregando preview..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Preview da Receita"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Dados da Receita"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Nome do Paciente"}),e.jsx(fe,{name:"nome_paciente",value:l.nome_paciente,onChange:j,placeholder:"João da Silva"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Idade"}),e.jsx(fe,{name:"idade",value:l.idade,onChange:j,placeholder:"45"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"RG"}),e.jsx(fe,{name:"rg",value:l.rg,onChange:j,placeholder:"12.345.678-9"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Data de Nascimento"}),e.jsx(fe,{type:"date",name:"data_nascimento",value:l.data_nascimento,onChange:j})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Medicamentos"}),e.jsx(rt,{name:"medicamento",rows:3,value:l.medicamento,onChange:j,placeholder:"Nome do medicamento, dose, apresentação..."})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Posologia"}),e.jsx(rt,{name:"posologia",rows:3,value:l.posologia,onChange:j,placeholder:"Ex: 1 comprimido de 12/12h por 7 dias"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Validade da Receita"}),e.jsx(fe,{type:"date",name:"validade_receita",value:l.validade_receita,onChange:j})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Formato"}),e.jsxs("select",{className:"border rounded h-10 px-3 bg-background",name:"formato",value:l.formato,onChange:j,children:[e.jsx("option",{value:"docx",children:"DOCX"}),e.jsx("option",{value:"pdf",children:"PDF"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Médico"}),e.jsx(fe,{name:"medico",value:l.medico,onChange:j,placeholder:"Dr. Carlos Souza"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"CRM"}),e.jsx(fe,{name:"crm",value:l.crm,onChange:j,placeholder:"12345-SP"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Endereço do Consultório"}),e.jsx(fe,{name:"endereco_consultorio",value:l.endereco_consultorio,onChange:j,placeholder:"Rua das Flores, 123"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Telefone"}),e.jsx(fe,{name:"telefone_consultorio",value:l.telefone_consultorio,onChange:j,placeholder:"(11) 91234-5678"})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Observações (opcional)"}),e.jsx(rt,{name:"observacoes",rows:2,value:l.observacoes,onChange:j,placeholder:"Orientações adicionais ao paciente"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(se,{type:"button",onClick:S,variant:d?"secondary":"default",children:[e.jsx(sv,{className:"h-4 w-4 mr-2"})," ",d?"Validado":"Validar receita"]}),e.jsxs(se,{type:"button",onClick:y,disabled:g,children:[e.jsx(qs,{className:"h-4 w-4 mr-2"})," ",g?"Gerando...":"Gerar documento"]})]})]})]}),e.jsxs(ie,{className:"bg-white",children:[e.jsx(de,{children:e.jsx(me,{children:"Pré-visualização"})}),e.jsx(ce,{children:e.jsxs("div",{className:"mx-auto bg-white shadow-md border rounded-md p-6 max-w-[800px] aspect-[1/1.414] overflow-auto",children:[e.jsxs("div",{className:"text-center border-b pb-3",children:[e.jsx("div",{className:"font-bold text-lg",children:"Consultório Médico"}),e.jsx("div",{className:"font-semibold",children:l.medico||"Dr(a)."}),e.jsxs("div",{children:["CRM: ",l.crm]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.endereco_consultorio}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Telefone: ",l.telefone_consultorio]})]}),e.jsxs("div",{className:"text-center my-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Nome do Paciente: "}),l.nome_paciente]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Idade: "}),l.idade," ",l.idade?"anos":""]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"RG: "}),l.rg]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Data de Nascimento: "}),l.data_nascimento]})]}),e.jsx("div",{className:"text-center text-xl font-semibold my-4",children:"Prescrição Médica"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"whitespace-pre-wrap font-semibold",children:l.medicamento}),l.posologia?e.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:l.posologia}):null]}),e.jsxs("div",{className:"text-center my-6",children:[e.jsxs("div",{children:["Data de Emissão: ",N]}),e.jsxs("div",{children:["Validade da Receita: ",l.validade_receita||""]})]}),e.jsxs("div",{className:"text-center mt-10",children:[e.jsx("div",{className:"mx-auto w-64 border-t pt-1",children:" "}),e.jsxs("div",{children:["Dr(a). ",l.medico," • CRM ",l.crm]})]})]})})]})]})]})}const Wt={async getDashboard(){var r;const t=[];t.push("/clinicas/dashboard/");let s;for(const o of t){const l=o.endsWith("/")?o:`${o}/`;try{return console.debug("[clinicaService] GET",l),(await xe.get(l)).data}catch(c){if(((r=c==null?void 0:c.response)==null?void 0:r.status)===404){s=c;continue}throw c}}throw s||new Error("Endpoint de dashboard da clínica não encontrado.")},getCalendario:(t,s)=>xe.get(`/clinica/calendario/?mes=${t}&ano=${s}`),getExamesPorData:t=>xe.get(`/clinica/exames/?data=${t}`),getDisponibilidade:t=>xe.get(`/clinica/disponibilidade/?data=${t}`),setDisponibilidade:(t,s)=>xe.post("/clinica/disponibilidade/",{data:t,horarios:s}),updateDisponibilidade:(t,s)=>xe.put(`/clinica/disponibilidade/${t}/`,s),deleteDisponibilidade:t=>xe.delete(`/clinica/disponibilidade/${t}/`),getExames:(t={})=>xe.get("/clinica/exames/",{params:t}),createExame:t=>xe.post("/clinica/exames/",t),updateExame:(t,s)=>xe.put(`/clinica/exames/${t}/`,s),deleteExame:t=>xe.delete(`/clinica/exames/${t}/`),getTiposExame:()=>xe.get("/clinica/tipos-exame/"),getRelatorios:t=>xe.get(`/clinica/relatorios/?periodo=${t}`),getPacientes:()=>xe.get("/clinica/pacientes/"),getMedicos:()=>xe.get("/clinica/medicos/"),async vincularSecretaria(t){var f,x,p,g;if(!t)throw new Error("secretariaId é obrigatório");let s=null;try{try{const h=await xe.get("/clinicas/me/");(f=h==null?void 0:h.data)!=null&&f.id&&(s=h.data.id)}catch{}if(!s){const h=await xe.get("/clinicas/"),j=Array.isArray((x=h.data)==null?void 0:x.results)?h.data.results:h.data;(p=j==null?void 0:j[0])!=null&&p.id&&(s=j[0].id)}}catch{}if(!s)throw new Error("Não foi possível resolver o ID da clínica.");const r="/clinicas/",o=r.endsWith("/")?r:`${r}/`,l=[`${o}${s}/secretarias/`,`${o}${s}/adicionar_secretaria/`,`${o}${s}/vincular_secretaria/`],c={secretaria:t,secretaria_id:t};let d;for(const h of l)try{return(await xe.post(h,c)).data}catch(j){const S=(g=j==null?void 0:j.response)==null?void 0:g.status;if(S===404||S===405){d=j;continue}throw j}throw d||new Error("Nenhum endpoint de vinculação de secretária encontrado para clínica.")}};function TA(){const{data:t,loading:s,error:r}=F0(Wt.getDashboard);if(s)return e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((l,c)=>e.jsxs(ie,{className:"animate-pulse",children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-20"}),e.jsx("div",{className:"h-4 w-4 bg-muted rounded"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"h-8 bg-muted rounded w-16 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-24"})]})]},c))});if(r)return e.jsx(ie,{children:e.jsx(ce,{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vl,{className:"h-8 w-8 text-destructive mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Erro ao carregar dashboard"})]})})});const o=t||{examesHoje:12,examesTotais:156,pacientesAtivos:89,taxaOcupacao:85,proximosExames:[{id:1,paciente:"João Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}],examesPendentes:5};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Exames Hoje"}),e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.examesHoje}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 desde ontem"})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Total de Exames"}),e.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.examesTotais}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Este mês"})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Pacientes Ativos"}),e.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.pacientesAtivos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% desde o mês passado"})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Taxa de Ocupação"}),e.jsx(dv,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ce,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[o.taxaOcupacao,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Capacidade atual"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-5 w-5"}),"Próximos Exames"]}),e.jsx(Le,{children:"Exames agendados para hoje"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"space-y-4",children:o.proximosExames.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:l.paciente}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.tipo})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("p",{className:"font-medium",children:l.horario}),e.jsx(et,{variant:l.status==="confirmado"?"default":"secondary",children:l.status})]})]},l.id))}),e.jsx(se,{variant:"outline",className:"w-full mt-4 bg-transparent",children:"Ver todos os exames"})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Ações Rápidas"}),e.jsx(Le,{children:"Acesso rápido às principais funcionalidades"})]}),e.jsxs(ce,{children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(se,{className:"justify-start",asChild:!0,children:e.jsxs("a",{href:"/clinica/calendario",children:[e.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Ver Calendário"]})}),e.jsx(se,{variant:"outline",className:"justify-start bg-transparent",asChild:!0,children:e.jsxs("a",{href:"/clinica/disponibilidade",children:[e.jsx(ft,{className:"mr-2 h-4 w-4"}),"Gerenciar Horários"]})}),e.jsx(se,{variant:"outline",className:"justify-start bg-transparent",asChild:!0,children:e.jsxs("a",{href:"/clinica/exames",children:[e.jsx(Jt,{className:"mr-2 h-4 w-4"}),"Agendar Exame"]})}),e.jsx(se,{variant:"outline",className:"justify-start bg-transparent",asChild:!0,children:e.jsxs("a",{href:"/clinica/pacientes",children:[e.jsx(Yt,{className:"mr-2 h-4 w-4"}),"Ver Pacientes"]})})]}),o.examesPendentes>0&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),e.jsxs("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:[o.examesPendentes," exames pendentes de confirmação"]})]})})]})]})]})]})}const MA=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],DA=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];function OA(){const[t,s]=m.useState(new Date),[r,o]=m.useState([]),[l,c]=m.useState(null),[d,f]=m.useState({}),[x,p]=m.useState(!1),[g,h]=m.useState(!1),[j,S]=m.useState(!1),[b,y]=m.useState({paciente:"",tipo:"",hora:""}),[N,C]=m.useState([]),[E,_]=m.useState([]),[R]=NS();m.useEffect(()=>{k()},[t]),m.useEffect(()=>{(async()=>{var G,z;try{const[H,W]=await Promise.all([Wt.getPacientes().catch(()=>({data:[]})),Wt.getTiposExame().catch(()=>({data:[]}))]),X=Array.isArray(H==null?void 0:H.data)?H.data:((G=H==null?void 0:H.data)==null?void 0:G.results)||[],te=Array.isArray(W==null?void 0:W.data)?W.data:((z=W==null?void 0:W.data)==null?void 0:z.results)||[];C(X),_(te)}catch{}})()},[]),m.useEffect(()=>{const $=R.get("data"),G=R.get("paciente");$&&(c($),M($)),G&&(y(z=>({...z,paciente:String(G)})),h(!0))},[]);const k=async()=>{p(!0);try{const $=await Wt.getCalendario(t.getMonth()+1,t.getFullYear());f($.data||{})}catch($){console.error("Erro ao carregar calendário:",$),f({"2024-01-15":{total:5,status:"ocupado"},"2024-01-16":{total:8,status:"lotado"},"2024-01-17":{total:3,status:"disponivel"},"2024-01-18":{total:6,status:"ocupado"},"2024-01-22":{total:2,status:"disponivel"},"2024-01-23":{total:7,status:"ocupado"}})}finally{p(!1)}},M=async $=>{try{const G=await Wt.getExamesPorData($);o(G.data||[])}catch(G){console.error("Erro ao carregar exames:",G),o([{id:1,paciente:"João Silva",tipo:"Ultrassom",horario:"09:00",status:"confirmado"},{id:2,paciente:"Maria Santos",tipo:"Raio-X",horario:"10:30",status:"pendente"},{id:3,paciente:"Pedro Costa",tipo:"Tomografia",horario:"14:00",status:"confirmado"}])}},O=$=>{const G=new Date(t);G.setMonth(t.getMonth()+$),s(G)},P=$=>{const z=new Date(t.getFullYear(),t.getMonth(),$).toISOString().split("T")[0];c(z),M(z)},I=($="")=>{y({paciente:$?String($):"",tipo:"",hora:""}),h(!0)},D=async()=>{if(!l)return;const{paciente:$,tipo:G,hora:z}=b;if(!$||!G||!z){alert("Preencha paciente, tipo e horário.");return}S(!0);try{const H={paciente:$,tipo:G,data:l,hora:z};await Wt.createExame(H),h(!1),y({paciente:"",tipo:"",hora:""}),await M(l)}catch{alert("Erro ao agendar. Verifique os dados e tente novamente.")}finally{S(!1)}},F=()=>{const $=t.getFullYear(),G=t.getMonth(),z=new Date($,G,1),H=new Date($,G+1,0),W=z.getDay(),X=H.getDate(),te=[];for(let U=W-1;U>=0;U--){const Z=new Date($,G,-U);te.push({dia:Z.getDate(),outroMes:!0,data:Z})}for(let U=1;U<=X;U++){const Z=new Date($,G,U),L=Z.toISOString().split("T")[0],K=d[L]||{total:0,status:"disponivel"};te.push({dia:U,outroMes:!1,data:Z,dataString:L,...K})}const T=42-te.length;for(let U=1;U<=T;U++){const Z=new Date($,G+1,U);te.push({dia:U,outroMes:!0,data:Z})}return te},V=$=>{switch($){case"disponivel":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200";case"ocupado":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200";case"lotado":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},re=F();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendário de Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie os exames agendados"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),MA[t.getMonth()]," ",t.getFullYear()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(se,{variant:"outline",size:"sm",onClick:()=>O(-1),children:e.jsx(ov,{className:"h-4 w-4"})}),e.jsx(se,{variant:"outline",size:"sm",onClick:()=>O(1),children:e.jsx(Tn,{className:"h-4 w-4"})})]})]})}),e.jsxs(ce,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:DA.map($=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:$},$))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:re.map(($,G)=>e.jsxs("button",{onClick:()=>!$.outroMes&&P($.dia),disabled:$.outroMes,className:`
                        p-2 text-sm rounded-lg transition-colors relative
                        ${$.outroMes?"text-muted-foreground cursor-not-allowed":"hover:bg-accent cursor-pointer"}
                        ${l===$.dataString?"bg-primary text-primary-foreground":""}
                      `,children:[e.jsx("div",{className:"font-medium",children:$.dia}),!$.outroMes&&$.total>0&&e.jsx("div",{className:`
                          absolute -top-1 -right-1 w-5 h-5 rounded-full text-xs flex items-center justify-center
                          ${V($.status)}
                        `,children:$.total})]},G))}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{children:"Disponível"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("span",{children:"Ocupado"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{children:"Lotado"})]})]})]})]})}),e.jsx("div",{children:e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-5 w-5"}),l?"Exames do Dia":"Selecione uma Data"]}),l&&e.jsx(Le,{children:new Date(l+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(ce,{children:l?r.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(ft,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum exame agendado para esta data"}),e.jsx(se,{className:"mt-4",size:"sm",onClick:()=>I(),children:"Agendar Exame"})]}):e.jsxs("div",{className:"space-y-3",children:[r.map($=>e.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:$.paciente})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(et,{variant:$.status==="confirmado"?"default":"secondary",children:$.status}),e.jsx(se,{variant:"outline",size:"sm",className:"bg-transparent",onClick:()=>I($.paciente_id||$.pacienteId||""),title:"Agendar novo exame para este paciente",children:"Agendar"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:$.tipo}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-3 w-3"}),$.horario]})]})]},$.id)),e.jsx(se,{className:"w-full mt-4",size:"sm",onClick:()=>I(),children:"Agendar Novo Exame"})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(Ve,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Clique em uma data no calendário para ver os exames agendados"})]})})]})})]})]}),e.jsx(Lo,{open:g,onOpenChange:h,children:e.jsxs(gr,{children:[e.jsxs(vr,{children:[e.jsx(jr,{children:"Agendar exame"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",l?new Date(l+"T00:00:00").toLocaleDateString("pt-BR"):"-"]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Paciente"}),e.jsxs(Xe,{value:b.paciente,onValueChange:$=>y(G=>({...G,paciente:$})),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Selecione o paciente"})}),e.jsx(Je,{children:N.map($=>e.jsxs(ye,{value:String($.id),children:[$.nome," ",$.cpf?`- ${$.cpf}`:""]},$.id))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Tipo de exame"}),e.jsxs(Xe,{value:b.tipo,onValueChange:$=>y(G=>({...G,tipo:$})),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Selecione o tipo"})}),e.jsx(Je,{children:E.map($=>e.jsx(ye,{value:String($.id||$.value||$),children:$.nome||$.label||$.value||$},$.id||$.value||$))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Horário"}),e.jsx(fe,{type:"time",value:b.hora,onChange:$=>y(G=>({...G,hora:$.target.value}))})]})]}),e.jsxs(yr,{className:"mt-4",children:[e.jsx(se,{variant:"outline",className:"bg-transparent",onClick:()=>h(!1),children:"Cancelar"}),e.jsx(se,{onClick:D,disabled:j,children:j?"Salvando...":"Agendar"})]})]})})]})}const IA={manha:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],tarde:["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"],integral:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"]};function LA(){const[t,s]=m.useState(""),[r,o]=m.useState([]),[l,c]=m.useState(""),[d,f]=m.useState(!1),[x,p]=m.useState(!1),{toast:g}=Et();m.useEffect(()=>{t&&h()},[t]);const h=async()=>{var E;f(!0);try{const _=await Wt.getDisponibilidade(t);o(((E=_.data)==null?void 0:E.horarios)||[])}catch(_){console.error("Erro ao carregar disponibilidade:",_),o([{horario:"09:00",ocupado:!1},{horario:"10:00",ocupado:!0},{horario:"11:00",ocupado:!1},{horario:"14:00",ocupado:!1},{horario:"15:00",ocupado:!0}])}finally{f(!1)}},j=async()=>{if(!t){g({title:"Erro",description:"Selecione uma data primeiro",variant:"destructive"});return}p(!0);try{await Wt.setDisponibilidade(t,r),g({title:"Sucesso",description:"Disponibilidade salva com sucesso"})}catch(E){console.error("Erro ao salvar disponibilidade:",E),g({title:"Erro",description:"Erro ao salvar disponibilidade",variant:"destructive"})}finally{p(!1)}},S=()=>{if(!l)return;if(r.some(_=>_.horario===l)){g({title:"Aviso",description:"Este horário já existe",variant:"destructive"});return}o([...r,{horario:l,ocupado:!1}].sort((_,R)=>_.horario.localeCompare(R.horario))),c("")},b=E=>{o(r.filter(_=>_.horario!==E))},y=E=>{const _=IA[E].map(R=>({horario:R,ocupado:!1}));o(_)},N=async()=>{var R;if(!t)return;const E=new Date(t);E.setDate(E.getDate()-1);const _=E.toISOString().split("T")[0];try{const O=(((R=(await Wt.getDisponibilidade(_)).data)==null?void 0:R.horarios)||[]).filter(P=>!P.ocupado).map(P=>({...P,ocupado:!1}));o(O),g({title:"Sucesso",description:"Horários copiados do dia anterior"})}catch(k){console.error("Erro ao copiar horários:",k),g({title:"Erro",description:"Erro ao copiar horários do dia anterior",variant:"destructive"})}},C=new Date().toISOString().split("T")[0];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gerenciar Disponibilidade"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure os horários disponíveis para exames"})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Selecionar Data"]})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"data",children:"Data"}),e.jsx(fe,{id:"data",type:"date",value:t,onChange:E=>s(E.target.value),min:C})]}),t&&e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(t+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Templates Rápidos"}),e.jsx(Le,{children:"Aplique configurações pré-definidas"})]}),e.jsxs(ce,{className:"space-y-3",children:[e.jsxs(se,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>y("manha"),disabled:!t,children:[e.jsx(ft,{className:"mr-2 h-4 w-4"}),"Manhã (8h às 11h30)"]}),e.jsxs(se,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>y("tarde"),disabled:!t,children:[e.jsx(ft,{className:"mr-2 h-4 w-4"}),"Tarde (13h às 17h)"]}),e.jsxs(se,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:()=>y("integral"),disabled:!t,children:[e.jsx(ft,{className:"mr-2 h-4 w-4"}),"Período Integral"]}),e.jsxs(se,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:N,disabled:!t,children:[e.jsx(SC,{className:"mr-2 h-4 w-4"}),"Copiar Dia Anterior"]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-5 w-5"}),"Horários Disponíveis"]}),e.jsxs(se,{onClick:j,disabled:!t||x,children:[e.jsx(cv,{className:"mr-2 h-4 w-4"}),x?"Salvando...":"Salvar"]})]}),t&&e.jsxs(Le,{children:["Configurando horários para ",new Date(t+"T00:00:00").toLocaleDateString("pt-BR")]})]}),e.jsx(ce,{children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{type:"time",value:l,onChange:E=>c(E.target.value),placeholder:"Novo horário"}),e.jsx(se,{onClick:S,disabled:!l,children:e.jsx(jm,{className:"h-4 w-4"})})]}),d?e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((E,_)=>e.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"},_))}):r.length===0?e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(ft,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhum horário configurado"}),e.jsx("p",{className:"text-sm",children:"Use os templates ou adicione horários manualmente"})]}):e.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:r.map((E,_)=>e.jsxs("div",{className:`
                              flex items-center justify-between p-3 border rounded-lg
                              ${E.ocupado?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800"}
                            `,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:E.horario})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(et,{variant:E.ocupado?"destructive":"default",children:E.ocupado?"Ocupado":"Livre"}),!E.ocupado&&e.jsx(se,{variant:"ghost",size:"sm",onClick:()=>b(E.horario),children:e.jsx(OC,{className:"h-4 w-4"})})]})]},_))}),r.length>0&&e.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-medium",children:["Total: ",r.length," horários"]}),e.jsxs("p",{className:"text-muted-foreground",children:[r.filter(E=>!E.ocupado).length," disponíveis,"," ",r.filter(E=>E.ocupado).length," ocupados"]})]})})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(Ve,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Selecione uma data para gerenciar os horários"})]})})]})})]})]})})}function FA(){const{toast:t}=Et(),[s,r]=m.useState(!1),[o,l]=m.useState([]),[c,d]=m.useState({q:"",tipo:"todos",status:"todos"}),[f,x]=m.useState([]),[p,g]=m.useState(!1),[h,j]=m.useState({paciente:"",tipo:"",data:"",hora:""}),S=async()=>{try{const{data:N}=await Wt.getTiposExame();l(N||[])}catch{}},b=async()=>{r(!0);try{const N={};c.q&&(N.q=c.q),c.tipo!=="todos"&&(N.tipo=c.tipo),c.status!=="todos"&&(N.status=c.status);const{data:C}=await Wt.getExames(N);x(Array.isArray(C)?C:(C==null?void 0:C.results)||[])}catch{t({title:"Erro",description:"Não foi possível carregar os exames.",variant:"destructive"})}finally{r(!1)}};m.useEffect(()=>{S()},[]),m.useEffect(()=>{b()},[c]);const y=async()=>{if(!h.paciente||!h.tipo||!h.data||!h.hora){t({title:"Campos obrigatórios",description:"Preencha paciente, tipo, data e hora.",variant:"destructive"});return}g(!0);try{const N={paciente:h.paciente,tipo:h.tipo,data:h.data,hora:h.hora};await Wt.createExame(N),t({title:"Exame criado",description:"Exame agendado com sucesso."}),j({paciente:"",tipo:"",data:"",hora:""}),b()}catch{t({title:"Erro ao criar",description:"Verifique os dados e tente novamente.",variant:"destructive"})}finally{g(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exames"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem e agendamento de exames"})]})}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Filtros"}),e.jsx(Le,{children:"Busque e filtre os exames"})]}),e.jsxs(ce,{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(fe,{placeholder:"Buscar por paciente/tipo...",value:c.q,onChange:N=>d({...c,q:N.target.value})}),e.jsxs(Xe,{value:c.tipo,onValueChange:N=>d({...c,tipo:N}),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Tipo"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"todos",children:"Todos os tipos"}),o.map(N=>e.jsx(ye,{value:N.value||N.nome||N.id||String(N),children:N.nome||N.label||N.value||N},N.id||N.value||N))]})]}),e.jsxs(Xe,{value:c.status,onValueChange:N=>d({...c,status:N}),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"todos",children:"Todos"}),e.jsx(ye,{value:"pendente",children:"Pendente"}),e.jsx(ye,{value:"confirmado",children:"Confirmado"}),e.jsx(ye,{value:"cancelado",children:"Cancelado"})]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Lista de Exames"}),e.jsx(Le,{children:s?"Carregando...":`${f.length} registro(s)`})]}),e.jsx(ce,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(ss,{children:[e.jsx(as,{children:e.jsxs(wt,{children:[e.jsx(Be,{children:"Paciente"}),e.jsx(Be,{children:"Tipo"}),e.jsx(Be,{children:"Data"}),e.jsx(Be,{children:"Hora"}),e.jsx(Be,{children:"Status"})]})}),e.jsxs(rs,{children:[f.map((N,C)=>e.jsxs(wt,{children:[e.jsx($e,{children:N.paciente_nome||N.paciente||"-"}),e.jsx($e,{children:N.tipo_nome||N.tipo||"-"}),e.jsx($e,{children:N.data||"-"}),e.jsx($e,{children:N.hora||"-"}),e.jsx($e,{children:N.status||"-"})]},N.id||C)),!s&&f.length===0&&e.jsx(wt,{children:e.jsx($e,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhum exame encontrado"})})]})]})})})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Novo Exame"}),e.jsx(Le,{children:"Crie um novo agendamento de exame"})]}),e.jsxs(ce,{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(fe,{placeholder:"Paciente (nome/ID)",value:h.paciente,onChange:N=>j({...h,paciente:N.target.value})}),e.jsxs(Xe,{value:h.tipo,onValueChange:N=>j({...h,tipo:N}),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Tipo de exame"})}),e.jsx(Je,{children:o.map(N=>e.jsx(ye,{value:N.value||N.nome||N.id||String(N),children:N.nome||N.label||N.value||N},N.id||N.value||N))})]}),e.jsx(fe,{type:"date",value:h.data,onChange:N=>j({...h,data:N.target.value})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{type:"time",value:h.hora,onChange:N=>j({...h,hora:N.target.value})}),e.jsx(se,{onClick:y,disabled:p,children:p?"Criando...":"Criar"})]})]})]})]})}function $A(){const{toast:t}=Et(),[s,r]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState([]),f=async()=>{l(!0);try{const{data:g}=await Wt.getPacientes(),h=Array.isArray(g)?g:(g==null?void 0:g.results)||[];d(h)}catch{t({title:"Erro",description:"Não foi possível carregar os pacientes.",variant:"destructive"})}finally{l(!1)}};m.useEffect(()=>{f()},[]);const x=c.filter(g=>[g.nome,g.email,g.cpf].join(" ").toLowerCase().includes(s.toLowerCase())),p=new Date().toISOString().split("T")[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pacientes"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de pacientes"})]}),e.jsx("div",{className:"w-72",children:e.jsx(fe,{placeholder:"Buscar por nome, e-mail ou CPF",value:s,onChange:g=>r(g.target.value)})})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Lista de Pacientes"}),e.jsx(Le,{children:o?"Carregando...":`${x.length} registro(s)`})]}),e.jsx(ce,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(ss,{children:[e.jsx(as,{children:e.jsxs(wt,{children:[e.jsx(Be,{children:"Nome"}),e.jsx(Be,{children:"E-mail"}),e.jsx(Be,{children:"CPF"}),e.jsx(Be,{className:"w-[1%]",children:"Ações"})]})}),e.jsxs(rs,{children:[x.map((g,h)=>e.jsxs(wt,{children:[e.jsx($e,{children:g.nome||"-"}),e.jsx($e,{children:g.email||"-"}),e.jsx($e,{children:g.cpf||"-"}),e.jsx($e,{children:e.jsx(qe,{to:`/clinica/calendario?paciente=${g.id}&data=${p}`,children:e.jsx(se,{size:"sm",children:"Agendar"})})})]},g.id||h)),!o&&x.length===0&&e.jsx(wt,{children:e.jsx($e,{colSpan:3,className:"text-center text-muted-foreground",children:"Nenhum paciente encontrado"})})]})]})})})]})]})}function zA(){const{toast:t}=Et(),[s,r]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState([]),f=async()=>{l(!0);try{const{data:p}=await Wt.getMedicos(),g=Array.isArray(p)?p:(p==null?void 0:p.results)||[];d(g)}catch{t({title:"Erro",description:"Não foi possível carregar os médicos.",variant:"destructive"})}finally{l(!1)}};m.useEffect(()=>{f()},[]);const x=c.filter(p=>[p.nome,p.email,p.crm,p.especialidade].join(" ").toLowerCase().includes(s.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Médicos"}),e.jsx("p",{className:"text-muted-foreground",children:"Listagem de médicos"})]}),e.jsx("div",{className:"w-72",children:e.jsx(fe,{placeholder:"Buscar por nome, e-mail, CRM, especialidade",value:s,onChange:p=>r(p.target.value)})})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Lista de Médicos"}),e.jsx(Le,{children:o?"Carregando...":`${x.length} registro(s)`})]}),e.jsx(ce,{children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(ss,{children:[e.jsx(as,{children:e.jsxs(wt,{children:[e.jsx(Be,{children:"Nome"}),e.jsx(Be,{children:"E-mail"}),e.jsx(Be,{children:"CRM"}),e.jsx(Be,{children:"Especialidade"})]})}),e.jsxs(rs,{children:[x.map((p,g)=>e.jsxs(wt,{children:[e.jsx($e,{children:p.nome||"-"}),e.jsx($e,{children:p.email||"-"}),e.jsx($e,{children:p.crm||"-"}),e.jsx($e,{children:p.especialidade||"-"})]},p.id||g)),!o&&x.length===0&&e.jsx(wt,{children:e.jsx($e,{colSpan:4,className:"text-center text-muted-foreground",children:"Nenhum médico encontrado"})})]})]})})})]})]})}function BA(){const[t,s]=m.useState("30d"),[r,o]=m.useState(!1),[l,c]=m.useState(null),[d,f]=m.useState(null),x=async()=>{o(!0),f(null);try{const{data:g}=await Wt.getRelatorios(t);c(g||{})}catch{f("Não foi possível carregar os relatórios.")}finally{o(!1)}};m.useEffect(()=>{x()},[t]);const p=l||{examesTotais:120,pacientesAtendidos:80,taxaCancelamento:5};return e.jsx("div",{className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Relatórios"}),e.jsx(Le,{children:"Métricas da clínica"})]}),e.jsx("div",{className:"w-40",children:e.jsxs(Xe,{value:t,onValueChange:s,children:[e.jsx(Ye,{children:e.jsx(Ze,{})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"7d",children:"Últimos 7 dias"}),e.jsx(ye,{value:"30d",children:"Últimos 30 dias"}),e.jsx(ye,{value:"90d",children:"Últimos 90 dias"})]})]})})]}),e.jsx(ce,{children:r?e.jsx("p",{children:"Carregando..."}):d?e.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsx(vl,{className:"h-4 w-4"}),e.jsx("span",{children:d})]}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4"})," Exames"]})}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.examesTotais}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Yt,{className:"h-4 w-4"})," Pacientes Atendidos"]})}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.pacientesAtendidos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{className:"text-sm font-medium",children:"Taxa de Cancelamento"})}),e.jsxs(ce,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[p.taxaCancelamento,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"no período"})]})]})]})})]})})}const Su="false".toLowerCase()==="true",zs="false".toLowerCase()==="true",UA={async criarSolicitacaoMedico(t,s={}){var S,b,y,N,C,E,_,R,k;const r=new FormData,o=(M,O,P=[])=>{if(O==null)return;const I=[M,...P].filter(Boolean);for(const D of I)r.append(D,O)};o("crm",t.crm,["crm_numero"]),o("especialidade",t.especialidade),o("instituicaoFormacao",t.instituicaoFormacao,["instituicao_formacao"]),o("anoFormacao",t.anoFormacao,["ano_formacao"]),o("residencia",t.residencia??""),o("instituicaoResidencia",t.instituicaoResidencia??"",["instituicao_residencia"]),o("anoResidencia",t.anoResidencia??"",["ano_residencia"]),o("experiencia",t.experiencia),o("motivacao",t.motivacao,["motivo","justificativa"]),o("nome",t.nome,["nome_completo"]),o("email",t.email),o("cpf",t.cpf),o("tipo",t.tipo||"medico"),(S=t.documentos)!=null&&S.diplomaMedicina&&o("diplomaMedicina",t.documentos.diplomaMedicina,["diploma_medicina"]),(b=t.documentos)!=null&&b.certificadoResidencia&&o("certificadoResidencia",t.documentos.certificadoResidencia,["certificado_residencia"]),(y=t.documentos)!=null&&y.comprovanteExperiencia&&o("comprovanteExperiencia",t.documentos.comprovanteExperiencia,["comprovante_experiencia"]);let l;try{const M=(N=mt.getCurrentUser)==null?void 0:N.call(mt);l=(M==null?void 0:M.id)||(M==null?void 0:M.pk)||((C=M==null?void 0:M.user)==null?void 0:C.id),l&&o("user",l,["usuario","user_id","usuario_id"])}catch{}const c={crm:t.crm,crm_numero:t.crm,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao,instituicao_formacao:t.instituicaoFormacao,anoFormacao:t.anoFormacao,ano_formacao:t.anoFormacao,residencia:t.residencia??"",instituicaoResidencia:t.instituicaoResidencia??"",instituicao_residencia:t.instituicaoResidencia??"",anoResidencia:t.anoResidencia??"",ano_residencia:t.anoResidencia??"",experiencia:t.experiencia,motivacao:t.motivacao,motivo:t.motivacao,justificativa:t.motivacao,nome:t.nome,nome_completo:t.nome_completo||t.nome,email:t.email,cpf:t.cpf,tipo:t.tipo||"medico"};l&&(c.user=l,c.usuario=l,c.user_id=l,c.usuario_id=l);const d="/solicitacaomedico/".trim(),f="/solicitacoes/".trim();let x=[];d&&x.push(d),f&&x.push(f),zs||x.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/solicitacoes/medico/","/medico/solicitacoes/","/medicos/solicitacao/","/solicitacao/medicos/","/users/medicos/solicitacoes/","/usuarios/medicos/solicitacoes/","/users/solicitacoes/medico/","/usuarios/solicitacoes/medico/","/app_medico/","/meu_app_medico/","/meui_app_solicitacaomedico/","/solicitacaomedico/","/solicitacao-medico/","/solicitacoes/solicitacao-medico/","/solicitacoes/solicitacaomedico/");const p=M=>{if(zs)return[M];const O=M.endsWith("/")?"":"/";return[M,`${M}${O}criar/`,`${M}${O}create/`,`${M}${O}novo/`,`${M}${O}nova/`,`${M}${O}add/`,`${M}${O}adicionar/`,`${M}${O}registrar/`,`${M}${O}enviar/`,`${M}${O}submit/`]},g=Array.from(new Set(x.flatMap(p))),h=[];let j;for(const M of g)try{return h.push(M),Su&&console.debug("[solicitacaoService] Tentando endpoint:",M),(await xe.post(M,r,{headers:{"Content-Type":"multipart/form-data"},signal:s==null?void 0:s.signal})).data}catch(O){const P=(E=O==null?void 0:O.response)==null?void 0:E.status,I=((_=O==null?void 0:O.response)==null?void 0:_.data)&&JSON.stringify(O.response.data)||"";if(P===415||P===400&&/JSON|application\/json|parse/i.test(I))try{return(await xe.post(M,c,{headers:{"Content-Type":"application/json"},signal:s==null?void 0:s.signal})).data}catch(F){const V=(R=F==null?void 0:F.response)==null?void 0:R.status;if((V===404||V===405)&&!zs){j=F;continue}throw F}if((P===404||P===405)&&!zs){Su&&console.debug("[solicitacaoService] Endpoint não aceitou método (",P,"):",M),j=O;continue}throw O}throw j?(Su&&console.warn("[solicitacaoService] Nenhum endpoint aceitou POST. Último status:",(k=j==null?void 0:j.response)==null?void 0:k.status,"URLs tentadas:",h),j):new Error("Nenhum endpoint de criação aceitou a solicitação. Configure VITE_SOLICITACOES_MEDICOS_ENDPOINT. URLs tentadas: "+h.join(", "))},async listarMinhasSolicitacoes(t={},s={}){var d,f;const r="/solicitacaomedico/".trim(),o="/solicitacoes/".trim(),l=[];r&&l.push(r),o&&l.push(o),zs||l.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/","/me/solicitacoes/","/minhas-solicitacoes/","/solicitacoes/me/","/solicitacoes/minhas/");const c={...t};c.limit!=null&&c.page_size==null&&(c.page_size=c.limit),c.page_size!=null&&c.limit==null&&(c.limit=c.page_size);for(const x of l){const p=cg(x);try{const g=await xe.get(p,{params:c,signal:s==null?void 0:s.signal});return Array.isArray((d=g.data)==null?void 0:d.results)?{...g.data,results:g.data.results.map(Cu)}:Array.isArray(g.data)?{results:g.data.map(Cu)}:g.data}catch(g){if(((f=g==null?void 0:g.response)==null?void 0:f.status)===404&&!zs)continue;throw g}}return{results:[]}},async getSolicitacaoMedico(t,s={}){var d;const r="/solicitacaomedico/".trim(),o="/solicitacoes/".trim(),l=[];r&&l.push(r),o&&l.push(o),zs||l.push("/medicos/solicitacoes/","/solicitacoes/medicos/","/medico/solicitacoes/");let c;for(const f of l){const x=cg(f)+String(t)+"/";try{const p=await xe.get(x,{signal:s==null?void 0:s.signal});return Cu(p.data)}catch(p){if(((d=p==null?void 0:p.response)==null?void 0:d.status)===404&&!zs){c=p;continue}throw p}}throw c||new Error("Solicitação não encontrada")}};function cg(t){return t?t.endsWith("/")?t:t+"/":"/"}function Cu(t={}){return{id:t.id||t.pk,crm:t.crm||t.crm_numero,especialidade:t.especialidade,instituicaoFormacao:t.instituicaoFormacao||t.instituicao_formacao,anoFormacao:t.anoFormacao||t.ano_formacao,residencia:t.residencia,instituicaoResidencia:t.instituicaoResidencia||t.instituicao_residencia,anoResidencia:t.anoResidencia||t.ano_residencia,experiencia:t.experiencia,motivacao:t.motivacao||t.motivo||t.justificativa,nome:t.nome||t.nome_completo,email:t.email,cpf:t.cpf,status:t.status||t.situacao||t.aprovado,created_at:t.created_at||t.data_criacao}}const z0=Object.freeze(Object.defineProperty({__proto__:null,solicitacaoService:UA},Symbol.toStringTag,{value:"Module"})),Eu="false".toLowerCase()!=="false",Pn="false".toLowerCase()==="true",vt={async getDashboard(){return(await xe.get("/admin/dashboard/")).data},async getSolicitacoes(t={},s={}){var l;const r=nl(),o=HA(VA(t));for(const c of r){const d=tl(c),f=Eu?[d]:[d,d+"listar/",d+"list/",d+"todas/",d+"all/"],x=[];if(x.push(o),!Eu&&(o!=null&&o.ordering)){const{ordering:p,...g}=o;x.push(g)}if(!Eu){const p={};o.page_size!=null&&(p.page_size=o.page_size),o.limit!=null&&(p.limit=o.limit),o.page!=null&&(p.page=o.page),o.offset!=null&&(p.offset=o.offset),Object.keys(p).length&&x.push(p)}Object.keys(o).length&&x.push({});for(const p of f)for(const g of x)try{Pn&&console.debug("[adminService.getSolicitacoes] GET",p,g);const j=(await xe.get(p,{params:g,signal:s==null?void 0:s.signal})).data,S=Array.isArray(j==null?void 0:j.results)?j.results:Array.isArray(j)?j:[];return Pn&&console.debug("[adminService.getSolicitacoes] OK",p,`items=${S.length}`),S.map(B0)}catch(h){const j=(l=h==null?void 0:h.response)==null?void 0:l.status;if(Pn&&console.warn("[adminService.getSolicitacoes] Falhou",p,"status=",j,"params=",g),j===401||j===403)throw h;continue}}return[]},async getSolicitacao(t){var o;const s=nl();let r;for(const l of s){const c=tl(l)+`${t}/`;try{const d=await xe.get(c);return WA(d.data||{})}catch(d){const f=(o=d==null?void 0:d.response)==null?void 0:o.status;if(Pn&&console.warn("[adminService.getSolicitacao] Falhou",c,"status=",f),f===401||f===403)throw d;r=d;continue}}throw r||new Error("Nenhum endpoint para detalhe de solicitação foi encontrado.")},async aprovarSolicitacao(t,s=""){var o;const r=nl();for(const l of r){const c=tl(l),d=[{method:"post",url:`${c}${t}/aprovar/`,body:{observacoes:s}},{method:"post",url:`${c}${t}/approve/`,body:{notes:s}},{method:"post",url:`${c}${t}/aprovacao/`,body:{observacoes:s}},{method:"post",url:`${c}${t}/status/`,body:{status:"approved",observacoes:s}},{method:"patch",url:`${c}${t}/`,body:{status:"approved",observacoes:s}},{method:"put",url:`${c}${t}/`,body:{status:"approved",observacoes:s}}];for(const f of d)try{Pn&&console.debug("[adminService.aprovarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const x=await xe[f.method](f.url,f.body);return(async()=>{var p;try{await vt.registrarAuditoria({action:"approve",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{observacoes:s}})}catch(g){Pn&&console.warn("[adminService.aprovarSolicitacao] auditoria falhou:",(p=g==null?void 0:g.response)==null?void 0:p.status)}})(),x.data}catch(x){const p=(o=x==null?void 0:x.response)==null?void 0:o.status;if(Pn&&console.warn("[adminService.aprovarSolicitacao] Falhou",f.url,"status=",p),p===401||p===403)throw x;continue}}},async rejeitarSolicitacao(t,s){var o;const r=nl();for(const l of r){const c=tl(l),d=[{method:"post",url:`${c}${t}/rejeitar/`,body:{motivo:s}},{method:"post",url:`${c}${t}/reject/`,body:{reason:s}},{method:"post",url:`${c}${t}/status/`,body:{status:"rejected",motivo:s}},{method:"patch",url:`${c}${t}/`,body:{status:"rejected",motivo:s}},{method:"put",url:`${c}${t}/`,body:{status:"rejected",motivo:s}}];for(const f of d)try{Pn&&console.debug("[adminService.rejeitarSolicitacao]",f.method.toUpperCase(),f.url,f.body);const x=await xe[f.method](f.url,f.body);return(async()=>{var p;try{await vt.registrarAuditoria({action:"reject",entity:"SolicitacaoMedico",entity_id:t,status:"success",metadata:{motivo:s}})}catch(g){Pn&&console.warn("[adminService.rejeitarSolicitacao] auditoria falhou:",(p=g==null?void 0:g.response)==null?void 0:p.status)}})(),x.data}catch(x){const p=(o=x==null?void 0:x.response)==null?void 0:o.status;if(Pn&&console.warn("[adminService.rejeitarSolicitacao] Falhou",f.url,"status=",p),p===401||p===403)throw x;continue}}},async getAuditoria(t={}){return(await xe.get("/admin/auditoria/",{params:t})).data},async registrarAuditoria(t={}){var g;const s=await mt.getCurrentUser(),r=t.action||t.acao||t.type,o=t.entity||t.entidade||"",l=t.entity_id||t.id||t.solicitacao_id||t.target_id||"",c=t.status||"success",d=typeof t.metadata=="object"&&t.metadata!==null?t.metadata:{},f=typeof t.detalhes=="object"&&t.detalhes!==null?t.detalhes:{},x={...d,...f,actor:(s==null?void 0:s.id)||(s==null?void 0:s.username)||"system",source:"frontend"},p={action:r,entity:o,entity_id:l,status:c,metadata:x};try{await xe.post("/admin/auditoria/",p)}catch(h){Pn&&console.warn("[adminService.registrarAuditoria] falhou:",(g=h==null?void 0:h.response)==null?void 0:g.status)}},async getUsuarios(t={}){const r=(await xe.get("/admin/usuarios/",{params:t})).data;return Array.isArray(r==null?void 0:r.results)?r.results:Array.isArray(r)?r:[]},async getClinicas(t={}){const r=(await xe.get("/admin/clinicas/",{params:t})).data;return Array.isArray(r==null?void 0:r.results)?r.results:Array.isArray(r)?r:[]},async updateUsuario(t,s={}){return(await xe.patch(`/admin/usuarios/${t}/`,s)).data},async removerUsuariosEmMassa(t=[]){return(await xe.post("/admin/usuarios/remover/",{ids:t})).data},async createUsuario(t={}){return(await xe.post("/admin/usuarios/",t)).data}};function tl(t){if(!t)return"/";const s=String(t);return s.endsWith("/")?s:s+"/"}function VA(t={}){const s={...t};return s.limit!=null&&s.page_size==null&&(s.page_size=s.limit),s.page_size!=null&&s.limit==null&&(s.limit=s.page_size),Object.keys(s).forEach(r=>{(s[r]===void 0||s[r]===null||s[r]==="")&&delete s[r]}),s}function HA(t={}){const s=new Set(["status","ordering","search","limit","page","page_size","offset","clinica","especialidade"]),r={};for(const[o,l]of Object.entries(t||{}))s.has(o)&&(r[o]=l);return r}function nl(){const t="/solicitacaomedico/".trim(),s="/solicitacaomedico/".trim(),r="/solicitacoes/".trim(),o=Array.from(new Set([t,s,r].filter(Boolean))),l=["/solicitacaomedico/","/admin/solicitacoes/"],c=["/medicos/solicitacoes/","/solicitacoes/medicos/"];return Array.from(new Set([...l,...o,...c].filter(Boolean)))}function B0(t={}){var s,r,o,l,c,d,f,x,p,g,h,j,S,b,y,N,C,E,_,R,k,M,O;return{id:t.id||t.pk||t.uuid||t.codigo||t.codigo_id||0,tipo:String(t.tipo||t.type||t.kind||"medico").toLowerCase(),nome:t.nome||t.name||((s=t.usuario)==null?void 0:s.nome)||((r=t.user)==null?void 0:r.name)||((o=t.medico)==null?void 0:o.nome)||((l=t.clinica)==null?void 0:l.nome)||"—",email:t.email||((c=t.usuario)==null?void 0:c.email)||((d=t.user)==null?void 0:d.email)||((x=(f=t.medico)==null?void 0:f.user)==null?void 0:x.email)||((p=t.clinica)==null?void 0:p.email)||"—",telefone:t.telefone||t.phone||t.celular||((g=t.usuario)==null?void 0:g.telefone)||((h=t.user)==null?void 0:h.telefone)||((j=t.medico)==null?void 0:j.telefone)||((b=(S=t.medico)==null?void 0:S.contato)==null?void 0:b.telefone)||((N=(y=t.medico)==null?void 0:y.user)==null?void 0:N.telefone)||((C=t.clinica)==null?void 0:C.telefone)||"",crm:t.crm||((E=t.medico)==null?void 0:E.crm)||t.crm_numero||"",cnpj:t.cnpj||((_=t.clinica)==null?void 0:_.cnpj)||"",responsavel:t.responsavel||t.responsavel_tecnico||((R=t.clinica)==null?void 0:R.responsavel)||"",status:(()=>{const P=(t.status||t.situacao||t.state||"pending").toString().toLowerCase();return{pendente:"pending","em análise":"pending","em analise":"pending",em_analise:"pending",aprovado:"approved",aprovada:"approved",rejeitado:"rejected",rejeitada:"rejected",reprovado:"rejected",reprovada:"rejected"}[P]||P})(),dataEnvio:t.dataEnvio||t.created_at||t.createdAt||t.data_criacao||t.submitted_at||new Date().toISOString(),dataAprovacao:t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||null,dataRejeicao:t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||null,documentos:Array.isArray(t.documentos)?t.documentos:t.documents||[],urgencia:String(t.urgencia||t.priority||"normal").toLowerCase(),observacoes:t.observacoes||t.notes||t.comentarios||"",aprovadoPor:t.aprovadoPor||t.approved_by||"",rejeitadoPor:t.rejeitadoPor||t.rejected_by||"",motivoRejeicao:t.motivoRejeicao||t.motivo||t.reason||"",especialidade:t.especialidade||t.especialidade_nome||((M=(k=t.medico)==null?void 0:k.especialidade)==null?void 0:M.nome)||((O=t.medico)==null?void 0:O.especialidade)||""}}function WA(t={}){var E,_,R,k,M,O,P,I,D,F,V,re,$,G,z,H,W,X,te,T,U;const s=B0(t),r=t.dataAprovacao||t.aprovado_em||t.data_aprovacao||t.approved_at||t.dataAprovado||null,o=t.dataRejeicao||t.rejeitado_em||t.data_rejeicao||t.rejected_at||t.dataRejeitado||null,l=[],c=Z=>{Z&&(Array.isArray(Z)?l.push(...Z.filter(Boolean)):typeof Z=="object"?l.push(...Object.values(Z).filter(Boolean)):typeof Z=="string"&&l.push(Z))};c(t.documentos),c(t.docs),c(t.arquivos),c(t.attachments),c(t.files);const d=[t.diplomaMedicina,t.certificadoResidencia,t.comprovanteExperiencia,t.documento_identidade,t.comprovante_endereco,t.diploma_medicina,t.certificado_residencia,t.comprovante_experiencia,t.rg,t.cpf].filter(Boolean);l.push(...d);const f=Z=>{if(!Z)return null;if(typeof Z=="string")return{nome:(Z.split("/").pop()||"Documento").trim(),tamanho:"",dataUpload:t.dataEnvio||t.created_at||t.createdAt||t.submitted_at||new Date().toISOString(),url:Z};const L=Z.nome||Z.name||Z.filename||Z.file_name||Z.titulo||Z.tipo||"Documento",K=Z.tamanho||Z.size||Z.file_size||"",J=Z.dataUpload||Z.data_upload||Z.uploaded_at||Z.created_at||s.dataEnvio||new Date().toISOString(),Q=Z.url||Z.link||Z.path||Z.file||Z.arquivo||Z.location||"";return{nome:L,tamanho:K,dataUpload:J,url:Q}},x=l.map(f).filter(Boolean),p=t.endereco||((E=t.medico)==null?void 0:E.endereco)||((_=t.clinica)==null?void 0:_.endereco)||{},g=typeof p=="string"?{cep:t.cep||"",logradouro:p,bairro:"",cidade:"",estado:""}:{cep:p.cep||t.cep||"",logradouro:p.logradouro||p.rua||p.endereco||"",bairro:p.bairro||"",cidade:p.cidade||p.municipio||"",estado:p.estado||p.uf||""},h=t.instituicaoFormacao||t.instituicao_formacao||((R=t.formacao)==null?void 0:R.instituicao)||((M=(k=t.medico)==null?void 0:k.formacao)==null?void 0:M.instituicao)||"",j=t.anoFormacao||t.ano_formacao||((O=t.formacao)==null?void 0:O.ano)||((I=(P=t.medico)==null?void 0:P.formacao)==null?void 0:I.ano)||"",S=t.residencia||((F=(D=t.formacao)==null?void 0:D.residencia)==null?void 0:F.nome)||((re=(V=t.medico)==null?void 0:V.residencia)==null?void 0:re.nome)||"",b=t.instituicaoResidencia||t.instituicao_residencia||((G=($=t.formacao)==null?void 0:$.residencia)==null?void 0:G.instituicao)||((H=(z=t.medico)==null?void 0:z.residencia)==null?void 0:H.instituicao)||"",y=t.anoResidencia||t.ano_residencia||((X=(W=t.formacao)==null?void 0:W.residencia)==null?void 0:X.ano)||((T=(te=t.medico)==null?void 0:te.residencia)==null?void 0:T.ano)||"",N=t.experiencia||t.experiencias||((U=t.medico)==null?void 0:U.experiencia)||"",C=t.motivacao||t.motivo||t.justificativa||t.reason||"";return{...s,dataAprovacao:r,dataRejeicao:o,documentos:x.length?x:s.documentos,endereco:g,instituicaoFormacao:h,anoFormacao:j,residencia:S,instituicaoResidencia:b,anoResidencia:y,experiencia:N,motivacao:C}}function qA(){const[t,s]=m.useState({nome:"",cnpj:"",email:"",responsavel:""}),[r,o]=m.useState(""),[l,c]=m.useState(""),[d,f]=m.useState(""),[x,p]=m.useState(""),[g,h]=m.useState(!1),[j,S]=m.useState(""),[b,y]=m.useState(""),{toast:N}=Et(),C=R=>{const k=String(R||"").replace(/\D/g,"").slice(0,14),M=k.slice(0,2),O=k.slice(2,5),P=k.slice(5,8),I=k.slice(8,12),D=k.slice(12,14);return k.length>12?`${M}.${O}.${P}/${I}-${D}`:k.length>8?`${M}.${O}.${P}/${I}`:k.length>5?`${M}.${O}.${P}`:k.length>2?`${M}.${O}`:M},E=async()=>{N({title:"Configurações",description:"Alterações salvas (stub)."})};async function _(R=!0){var k,M,O,P,I;if(S(""),y(""),!r){S("Informe o e-mail da secretária.");return}h(!0);try{let D=null;if(R){const F={email:r,first_name:l||void 0,last_name:d||void 0,password:x||void 0,role:"secretaria",type:"secretaria"},V=await vt.createUsuario(F);if(D=(V==null?void 0:V.id)||((k=V==null?void 0:V.usuario)==null?void 0:k.id)||((M=V==null?void 0:V.user)==null?void 0:M.id)||(V==null?void 0:V.pk)||null,!D){const re=V&&typeof V=="object"?((O=V.user)==null?void 0:O.pk)||((P=V.usuario)==null?void 0:P.pk):null;re&&(D=re)}if(!D)throw new Error("Não foi possível obter o ID da secretária criada.")}else{const F=await vt.getUsuarios({search:r,page:1,page_size:100}),re=(Array.isArray(F==null?void 0:F.results)?F.results:Array.isArray(F)?F:[]).find($=>String($.email||"").toLowerCase()===r.toLowerCase());if(!re)throw new Error("Não foi possível localizar uma usuária com esse e-mail.");if(D=re.id||re.pk,!D)throw new Error("Usuária encontrada, porém sem ID válido.")}await Wt.vincularSecretaria(D),y("Secretária vinculada com sucesso."),o(""),c(""),f(""),p("")}catch(D){const F=(I=D==null?void 0:D.response)!=null&&I.data?JSON.stringify(D.response.data):(D==null?void 0:D.message)||"Falha ao processar solicitação.";S(F)}finally{h(!1)}}return e.jsxs(Gj,{children:[e.jsx("div",{className:"space-y-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Configurações"})}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Dados da Clínica"}),e.jsx(Le,{children:"Edite os dados básicos"})]}),e.jsxs(ce,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx(fe,{value:t.nome,onChange:R=>s({...t,nome:R.target.value}),placeholder:"Nome da clínica"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"CNPJ"}),e.jsx(fe,{value:t.cnpj,onChange:R=>s({...t,cnpj:C(R.target.value)}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx(fe,{type:"email",value:t.email,onChange:R=>s({...t,email:R.target.value}),placeholder:"email@clinica.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Responsável"}),e.jsx(fe,{value:t.responsavel,onChange:R=>s({...t,responsavel:R.target.value}),placeholder:"Nome do responsável"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(se,{onClick:E,children:"Salvar alterações"})})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Adicionar secretária"}),e.jsx(Le,{children:"Crie uma nova secretária ou vincule por e-mail existente"})]}),e.jsxs(ce,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[j&&e.jsx("div",{className:"text-sm text-red-600",children:j}),b&&e.jsx("div",{className:"text-sm text-emerald-700",children:b})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(ue,{children:"E-mail da secretária"}),e.jsx(fe,{type:"email",value:r,onChange:R=>o(R.target.value),placeholder:"secretaria@exemplo.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Nome (opcional)"}),e.jsx(fe,{value:l,onChange:R=>c(R.target.value),placeholder:"Nome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Sobrenome (opcional)"}),e.jsx(fe,{value:d,onChange:R=>f(R.target.value),placeholder:"Sobrenome"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Senha (opcional)"}),e.jsx(fe,{type:"password",value:x,onChange:R=>p(R.target.value),placeholder:"Senha inicial (ou deixe em branco)"})]}),e.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[e.jsx(se,{onClick:()=>_(!0),disabled:g,children:g?"Processando...":"Criar e vincular"}),e.jsx(se,{variant:"outline",onClick:()=>_(!1),disabled:g,children:g?"Processando...":"Vincular por e-mail"})]})]})]})]})}function KA(){const[t,s]=m.useState({totalUsuarios:0,medicosAtivos:0,clinicasAtivas:0,solicitacoesPendentes:0,solicitacoesHoje:0,aprovacoesSemana:0,rejeicoesSemana:0,aprovadosMedicosSemana:0,aprovadasClinicasSemana:0,rejeitadosMedicosSemana:0,rejeitadasClinicasSemana:0}),[r,o]=m.useState([]),[l,c]=m.useState(!0),d=()=>{const p=new Date,g=p.getDay(),h=p.getDate()-g+(g===0?-6:1),j=new Date(p);return j.setDate(h),j.setHours(0,0,0,0),j};m.useEffect(()=>{let p=!0;return(async()=>{var j,S,b;const h=d();try{const y=await vt.getDashboard();p&&y&&s(N=>({...N,totalUsuarios:y.total_usuarios??y.totalUsuarios??N.totalUsuarios,medicosAtivos:y.medicos_ativos??y.medicosAtivos??N.medicosAtivos,clinicasAtivas:y.clinicas_ativas??y.clinicasAtivas??N.clinicasAtivas,solicitacoesPendentes:y.solicitacoes_pendentes??y.solicitacoesPendentes??N.solicitacoesPendentes,aprovacoesSemana:y.aprovacoes_semana??y.aprovacoesSemana??N.aprovacoesSemana,rejeicoesSemana:y.rejeicoes_semana??y.rejeicoesSemana??N.rejeicoesSemana,aprovadosMedicosSemana:y.aprovados_medicos_semana??y.aprovadosMedicosSemana??N.aprovadosMedicosSemana,aprovadasClinicasSemana:y.aprovadas_clinicas_semana??y.aprovadasClinicasSemana??N.aprovadasClinicasSemana,rejeitadosMedicosSemana:y.rejeitados_medicos_semana??y.rejeitadosMedicosSemana??N.rejeitadosMedicosSemana,rejeitadasClinicasSemana:y.rejeitadas_clinicas_semana??y.rejeitadasClinicasSemana??N.rejeitadasClinicasSemana}))}catch(y){console.warn("[AdminDashboard] getDashboard falhou:",(j=y==null?void 0:y.response)==null?void 0:j.status)}try{const y=await vt.getSolicitacoes({status:"pending",limit:5}),C=(Array.isArray(y==null?void 0:y.results)?y.results:Array.isArray(y)?y:[]).map(E=>({...E,nome:E.nome??E.name??E.title??"",tipo:(E.tipo??E.type??"").toString().toLowerCase(),dataEnvio:E.dataEnvio??E.created_at??E.data_envio??null}));if(p){o(C);const E=new Date().toDateString(),_=C.filter(R=>{const k=new Date(R.dataEnvio);return!isNaN(k)&&k.toDateString()===E}).length;s(R=>({...R,solicitacoesHoje:_}))}}catch(y){console.warn("[AdminDashboard] getSolicitacoes falhou (pendentes recentes):",(S=y==null?void 0:y.response)==null?void 0:S.status)}try{const y=d().toISOString(),N=async O=>{const P=await vt.getSolicitacoes({status:O,limit:100,created_at__gte:y});return(Array.isArray(P==null?void 0:P.results)?P.results:Array.isArray(P)?P:[]).map(D=>({tipo:(D.tipo??D.type??"").toString().toLowerCase(),createdAt:D.created_at??D.data_envio??D.dataEnvio??null})).filter(D=>{const F=new Date(D.createdAt);return D.createdAt&&!isNaN(F)&&F>=h})},[C,E]=await Promise.all([N("approved"),N("rejected")]),_=C.filter(O=>O.tipo==="medico").length,R=C.filter(O=>O.tipo==="clinica").length,k=E.filter(O=>O.tipo==="medico").length,M=E.filter(O=>O.tipo==="clinica").length;p&&s(O=>({...O,aprovacoesSemana:O.aprovacoesSemana||0||C.length,rejeicoesSemana:O.rejeicoesSemana||0||E.length,aprovadosMedicosSemana:O.aprovadosMedicosSemana||0||_,aprovadasClinicasSemana:O.aprovadasClinicasSemana||0||R,rejeitadosMedicosSemana:O.rejeitadosMedicosSemana||0||k,rejeitadasClinicasSemana:O.rejeitadasClinicasSemana||0||M}))}catch(y){console.warn("[AdminDashboard] cálculo semanal (fallback) falhou:",(b=y==null?void 0:y.response)==null?void 0:b.status)}finally{p&&c(!1)}})(),()=>{p=!1}},[]);const f=p=>{switch(p){case"pending":return e.jsxs(et,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(ft,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(et,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Gs,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(et,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(xs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},x=p=>{switch(p){case"alta":return e.jsx(et,{variant:"destructive",className:"text-xs",children:"Alta"});case"normal":return e.jsx(et,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(et,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Administrativo"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie usuários e solicitações do sistema"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Total de Usuários"}),e.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.totalUsuarios}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% em relação ao mês passado"})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Médicos Ativos"}),e.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.medicosAtivos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+5 novos esta semana"})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Clínicas Ativas"}),e.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.clinicasAtivas}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 novas este mês"})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(me,{className:"text-sm font-medium",children:"Solicitações Pendentes"}),e.jsx(vl,{className:"h-4 w-4 text-amber-500"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.solicitacoesPendentes}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.solicitacoesHoje," novas hoje"]})]})]})]}),e.jsxs(ie,{className:"shadow-sm border",children:[e.jsxs(de,{children:[e.jsx(me,{children:"Ações Rápidas"}),e.jsx(Le,{children:"Acesso rápido às principais funcionalidades"})]}),e.jsxs(ce,{className:"space-y-3",children:[e.jsx(qe,{to:{pathname:"/admin/solicitacoes",search:"?status=pending"},children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:"app-quick-icon warning",children:e.jsx(ft,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:"Solicitações Pendentes"}),e.jsxs("p",{className:"app-quick-desc",children:[t.solicitacoesPendentes," solicitações aguardando análise"]})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(Tn,{className:"h-4 w-4"})})]})}),e.jsx(qe,{to:"/admin/usuarios",children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:"app-quick-icon info",children:e.jsx(Yt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:"Gerenciar Usuários"}),e.jsx("p",{className:"app-quick-desc",children:"Visualizar e gerenciar todos os usuários do sistema"})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(Tn,{className:"h-4 w-4"})})]})}),e.jsx(qe,{to:"/admin/relatorios",children:e.jsxs("div",{className:"app-quick-action group",children:[e.jsx("div",{className:"app-quick-icon success",children:e.jsx(dv,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"app-quick-title",children:"Relatórios"}),e.jsx("p",{className:"app-quick-desc",children:"Visualizar estatísticas e relatórios do sistema"})]}),e.jsx("span",{className:"app-quick-chevron",children:e.jsx(Tn,{className:"h-4 w-4"})})]})})]})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Solicitações Recentes"}),e.jsx(Le,{children:"Últimas solicitações de cadastro no sistema"})]}),e.jsx(se,{variant:"outline",asChild:!0,children:e.jsx(qe,{to:"/admin/solicitacoes",children:"Ver Todas"})})]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:r.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center",children:p.tipo==="medico"?e.jsx(jt,{className:"h-5 w-5"}):e.jsx(Ks,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:p.nome}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:p.tipo==="medico"?`${p.especialidade} - ${p.crm}`:`${p.cnpj} - ${p.responsavel}`}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(p.dataEnvio).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[x(p.urgencia),f(p.status),p.status==="pending"&&e.jsx(se,{size:"sm",asChild:!0,children:e.jsx(qe,{to:`/admin/solicitacoes/${p.id}`,children:"Revisar"})})]})]},p.id))})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Gs,{className:"h-5 w-5 text-green-500"}),"Aprovações desta Semana"]})}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:t.aprovacoesSemana}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.aprovadosMedicosSemana," médicos e ",t.aprovadasClinicasSemana," clínicas aprovados"]})]})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-5 w-5 text-red-500"}),"Rejeições desta Semana"]})}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:t.rejeicoesSemana}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.rejeitadosMedicosSemana," médicos e ",t.rejeitadasClinicasSemana," clínicas rejeitados"]})]})]})]})]})}function GA(){const[t,s]=m.useState(""),[r,o]=m.useState("all"),[l,c]=m.useState("all"),[d,f]=m.useState("all"),[x,p]=m.useState(!1),[g,h]=m.useState([]),j=m.useRef(null),{toast:S}=Et(),b=m.useMemo(()=>({search:t.trim(),status:r,tipo:l,urgencia:d}),[t,r,l,d]);m.useEffect(()=>{p(!0);const P=setTimeout(async()=>{if(j.current)try{j.current.abort()}catch{}const I=new AbortController;j.current=I;try{const D={};b.status!=="all"&&(D.status=b.status),b.tipo!=="all"&&(D.tipo=b.tipo),b.urgencia!=="all"&&(D.urgencia=b.urgencia),b.search&&(D.search=b.search);const F=await vt.getSolicitacoes(D,{signal:I.signal}),V=Array.isArray(F==null?void 0:F.results)?F.results:Array.isArray(F)?F:[];h(V)}catch(D){(D==null?void 0:D.name)!=="AbortError"&&h([])}finally{p(!1)}},400);return()=>clearTimeout(P)},[b]);const y=async P=>{p(!0);try{const I=await vt.aprovarSolicitacao(P);h(D=>D.map(F=>F.id===P?{...F,status:"approved",aprovadoPor:(I==null?void 0:I.approved_by)||F.aprovadoPor||"",dataAprovacao:(I==null?void 0:I.approved_at)||F.dataAprovacao||new Date().toISOString(),rejeitadoPor:"",dataRejeicao:null,motivoRejeicao:""}:F)),S({title:"Solicitação aprovada",description:"A solicitação foi aprovada com sucesso."})}catch{S({title:"Erro ao aprovar",description:"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{p(!1)}},N=async P=>{const I=window.prompt("Informe o motivo da rejeição:");if(I!==null){p(!0);try{const D=await vt.rejeitarSolicitacao(P,(I||"").trim());h(F=>F.map(V=>V.id===P?{...V,status:"rejected",rejeitadoPor:(D==null?void 0:D.rejected_by)||V.rejeitadoPor||"",dataRejeicao:(D==null?void 0:D.rejected_at)||V.dataRejeicao||new Date().toISOString(),motivoRejeicao:(D==null?void 0:D.rejection_reason)||I||V.motivoRejeicao||"",aprovadoPor:"",dataAprovacao:null}:V)),S({title:"Solicitação rejeitada",description:"A solicitação foi rejeitada."})}catch{S({title:"Erro ao rejeitar",description:"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{p(!1)}}},C=P=>{switch(P){case"pending":return e.jsxs(et,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(ft,{className:"mr-1 h-3 w-3"}),"Pendente"]});case"approved":return e.jsxs(et,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Gs,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(et,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(xs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},E=P=>{switch(P){case"alta":return e.jsxs(et,{variant:"destructive",className:"text-xs",children:[e.jsx(mo,{className:"mr-1 h-2 w-2"}),"Alta"]});case"normal":return e.jsx(et,{variant:"secondary",className:"text-xs",children:"Normal"});case"baixa":return e.jsx(et,{variant:"outline",className:"text-xs",children:"Baixa"});default:return null}},_=g.filter(P=>{const I=(P.nome||"").toLowerCase().includes(t.toLowerCase())||(P.email||"").toLowerCase().includes(t.toLowerCase())||P.crm&&String(P.crm).toLowerCase().includes(t.toLowerCase())||P.cnpj&&String(P.cnpj).includes(t),D=r==="all"||P.status===r,F=l==="all"||P.tipo===l,V=d==="all"||P.urgencia===d;return I&&D&&F&&V}),R=_.filter(P=>P.status==="pending"),k=_.filter(P=>P.status==="approved"),M=_.filter(P=>P.status==="rejected"),O=({solicitacao:P})=>e.jsxs(ie,{className:"hover:shadow-md transition-shadow rounded-xl",children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`app-quick-icon ${P.tipo==="medico"?"info":"primary"} h-10 w-10`,children:P.tipo==="medico"?e.jsx(jt,{className:"h-5 w-5"}):e.jsx(Ks,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx(me,{className:"text-lg",children:P.nome}),e.jsx(Le,{children:P.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[E(P.urgencia),C(P.status)]})]})}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:P.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("p",{children:P.tipo==="medico"?P.especialidade:P.cnpj})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:P.tipo==="medico"?"CRM":"Responsável"}),e.jsx("p",{children:P.tipo==="medico"?P.crm:P.responsavel})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Data de Envio"}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(Ve,{className:"h-3 w-3"}),new Date(P.dataEnvio).toLocaleDateString()," às"," ",new Date(P.dataEnvio).toLocaleTimeString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Documentos"}),e.jsxs("p",{children:[Array.isArray(P.documentos)?P.documentos.length:0," arquivo(s)"]})]})]}),P.observacoes&&e.jsx("div",{className:"bg-muted/50 p-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:P.observacoes})}),P.status==="approved"&&e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[e.jsx("strong",{children:"Aprovado em:"})," ",P.dataAprovacao?new Date(P.dataAprovacao).toLocaleDateString():"—",P.aprovadoPor?e.jsxs(e.Fragment,{children:[" por ",P.aprovadoPor]}):null]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(se,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(qe,{to:`/admin/solicitacoes/${P.id}`,children:[e.jsx(sr,{className:"mr-2 h-4 w-4"})," Ver detalhes"]})}),P.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(se,{variant:"success",size:"sm",onClick:()=>y(P.id),children:"Aprovar"}),e.jsx(se,{variant:"destructive",size:"sm",onClick:()=>N(P.id),children:"Rejeitar"})]})]})]})})]},P.id);return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Solicitações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie solicitações de médicos e clínicas."})]})}),e.jsxs(ie,{className:"rounded-xl",children:[e.jsxs(de,{children:[e.jsx(me,{children:"Filtros"}),e.jsx(Le,{children:"Use os filtros para refinar sua busca."})]}),e.jsx(ce,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(On,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Buscar por nome, e-mail, CRM ou CNPJ",className:"pl-9",value:t,onChange:P=>s(P.target.value)})]}),e.jsx("div",{children:e.jsxs(Xe,{value:r,onValueChange:o,children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"all",children:"Todos"}),e.jsx(ye,{value:"pending",children:"Pendente"}),e.jsx(ye,{value:"approved",children:"Aprovado"}),e.jsx(ye,{value:"rejected",children:"Rejeitado"})]})]})}),e.jsx("div",{children:e.jsxs(Xe,{value:l,onValueChange:c,children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Tipo"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"all",children:"Todos"}),e.jsx(ye,{value:"medico",children:"Médicos"}),e.jsx(ye,{value:"clinica",children:"Clínicas"})]})]})}),e.jsx("div",{children:e.jsxs(Xe,{value:d,onValueChange:f,children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Urgência"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"all",children:"Todas"}),e.jsx(ye,{value:"alta",children:"Alta"}),e.jsx(ye,{value:"normal",children:"Normal"}),e.jsx(ye,{value:"baixa",children:"Baixa"})]})]})})]})})]}),e.jsxs(ts,{defaultValue:"todas",className:"space-y-4",children:[e.jsxs(ns,{children:[e.jsxs(at,{value:"todas",className:"gap-2",children:[e.jsx(gm,{className:"h-4 w-4"})," Todas"]}),e.jsxs(at,{value:"pendentes",className:"gap-2",children:[e.jsx(ft,{className:"h-4 w-4"})," Pendentes"]}),e.jsxs(at,{value:"aprovadas",className:"gap-2",children:[e.jsx(Gs,{className:"h-4 w-4"})," Aprovadas"]}),e.jsxs(at,{value:"rejeitadas",className:"gap-2",children:[e.jsx(xs,{className:"h-4 w-4"})," Rejeitadas"]})]}),e.jsx(ct,{value:"todas",children:x?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):_.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação encontrada."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:_.map(P=>e.jsx(O,{solicitacao:P},P.id))})}),e.jsx(ct,{value:"pendentes",children:x?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):R.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação pendente."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:R.map(P=>e.jsx(O,{solicitacao:P},P.id))})}),e.jsx(ct,{value:"aprovadas",children:x?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):k.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação aprovada."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:k.map(P=>e.jsx(O,{solicitacao:P},P.id))})}),e.jsx(ct,{value:"rejeitadas",children:x?e.jsx("p",{className:"text-muted-foreground",children:"Carregando solicitações..."}):M.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma solicitação rejeitada."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:M.map(P=>e.jsx(O,{solicitacao:P},P.id))})})]})]})}function YA(){var C;const{id:t}=No(),s=ln(),{toast:r}=Et(),[o,l]=m.useState(!1),[c,d]=m.useState(""),[f,x]=m.useState(""),[p,g]=m.useState(!0),[h,j]=m.useState(null);if(m.useEffect(()=>{let E=!0;return(async()=>{try{const R=await vt.getSolicitacao(t);E&&j(R)}catch{r({title:"Erro ao carregar",description:"Não foi possível carregar a solicitação.",variant:"destructive"}),s("/admin/solicitacoes")}finally{E&&g(!1)}})(),()=>{E=!1}},[t]),p)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(se,{variant:"ghost",onClick:()=>s("/admin/solicitacoes"),children:[e.jsx(fo,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Carregando..."}),e.jsx("p",{className:"text-muted-foreground",children:"Buscando detalhes da solicitação"})]})]})});if(!h)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(se,{variant:"ghost",onClick:()=>s("/admin/solicitacoes"),children:[e.jsx(fo,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Solicitação não encontrada"}),e.jsx("p",{className:"text-muted-foreground",children:"Tente novamente mais tarde."})]})]})});const S=async()=>{l(!0);try{await vt.aprovarSolicitacao(t,c||""),r({title:"Solicitação aprovada!",description:`${(h==null?void 0:h.nome)||"Solicitação"} aprovada com sucesso.`}),s("/admin/solicitacoes")}catch{r({title:"Erro",description:"Não foi possível aprovar a solicitação.",variant:"destructive"})}finally{l(!1)}},b=async()=>{if(!f.trim()){r({title:"Motivo obrigatório",description:"Por favor, informe o motivo da rejeição.",variant:"destructive"});return}l(!0);try{await vt.rejeitarSolicitacao(t,f.trim()),r({title:"Solicitação rejeitada",description:`A solicitação de ${(h==null?void 0:h.nome)||""} foi rejeitada.`}),s("/admin/solicitacoes")}catch{r({title:"Erro",description:"Não foi possível rejeitar a solicitação.",variant:"destructive"})}finally{l(!1)}},y=E=>{switch(E){case"pending":return e.jsxs(et,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(mo,{className:"mr-1 h-3 w-3"}),"Aguardando Análise"]});case"approved":return e.jsxs(et,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Gs,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(et,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(xs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}},N=(h==null?void 0:h.endereco)||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(se,{variant:"ghost",onClick:()=>s("/admin/solicitacoes"),children:[e.jsx(fo,{className:"mr-2 h-4 w-4"}),"Voltar"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Detalhes da Solicitação"}),e.jsx("p",{className:"text-muted-foreground",children:"Análise completa da solicitação de cadastro"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`app-quick-icon ${h.tipo==="medico"?"info":"primary"} h-12 w-12`,children:h.tipo==="medico"?e.jsx(jt,{className:"h-6 w-6"}):e.jsx(Ks,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(me,{className:"text-xl",children:h.nome}),e.jsx(Le,{children:h.tipo==="medico"?"Solicitação de Cadastro Médico":"Solicitação de Cadastro de Clínica"})]})]}),y(h.status)]})}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ko,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:h.email})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ro,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:h.telefone})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"Especialidade":"CNPJ"}),e.jsx("span",{children:h.especialidade})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:h.tipo==="medico"?"CRM":"Responsável Técnico"}),e.jsx("span",{children:h.crm})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Data de Envio"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[new Date(h.dataEnvio||h.created_at).toLocaleDateString()," às"," ",new Date(h.dataEnvio||h.created_at).toLocaleTimeString()]})]})]})]}),e.jsx(Dn,{}),h.tipo==="medico"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formação Acadêmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Instituição de Formação"}),e.jsx("span",{children:h.instituicaoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Ano de Formação"}),e.jsx("span",{children:h.anoFormacao})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Residência"}),e.jsx("span",{children:h.residencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Instituição da Residência"}),e.jsx("span",{children:h.instituicaoResidencia})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Ano da Residência"}),e.jsx("span",{children:h.anoResidencia})]})]})]}),e.jsx(Dn,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experiência Profissional"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h.experiencia})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Motivação"}),e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm",children:h.motivacao})})]}),e.jsx(Dn,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Endereço"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"CEP"}),e.jsx("span",{children:N.cep||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Logradouro"}),e.jsx("span",{children:N.logradouro||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Bairro"}),e.jsx("span",{children:N.bairro||"—"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Cidade/Estado"}),e.jsxs("span",{children:[N.cidade||"—","/",N.estado||"—"]})]})]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5"}),"Documentos Enviados"]}),e.jsxs(Le,{children:[((C=h.documentos)==null?void 0:C.length)||0," documento(s) anexado(s)"]})]}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-3",children:(h.documentos||[]).map((E,_)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Jt,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:E.nome}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.tamanho," • Enviado em ",new Date(E.dataUpload).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(se,{variant:"outline",size:"sm",children:[e.jsx(sr,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),e.jsxs(se,{variant:"outline",size:"sm",children:[e.jsx(qs,{className:"mr-2 h-4 w-4"}),"Baixar"]})]})]},_))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[h.status==="pending"&&e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Ações"}),e.jsx(Le,{children:"Aprovar ou rejeitar esta solicitação"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"observacoes",children:"Observações (opcional)"}),e.jsx(rt,{id:"observacoes",placeholder:"Adicione observações sobre esta solicitação...",value:c,onChange:E=>d(E.target.value)})]}),e.jsxs(se,{variant:"default",className:"w-full",onClick:S,disabled:o,children:[e.jsx(Gs,{className:"mr-2 h-4 w-4"}),o?"Aprovando...":"Aprovar Solicitação"]}),e.jsx(Dn,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"motivoRejeicao",children:"Motivo da Rejeição"}),e.jsx(rt,{id:"motivoRejeicao",placeholder:"Informe o motivo da rejeição...",value:f,onChange:E=>x(E.target.value)})]}),e.jsxs(se,{variant:"destructive",className:"w-full",onClick:b,disabled:o,children:[e.jsx(xs,{className:"mr-2 h-4 w-4"}),o?"Rejeitando...":"Rejeitar Solicitação"]})]})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Informações do Sistema"})}),e.jsxs(ce,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"ID da Solicitação:"}),e.jsxs("span",{className:"font-mono",children:["#",h.id.toString().padStart(6,"0")]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),e.jsx("span",{className:"capitalize",children:h.tipo})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Urgência:"}),e.jsx(et,{variant:h.urgencia==="alta"?"destructive":"secondary",className:"text-xs",children:h.urgencia})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),y(h.status)]})]})]})]})]})]})}const dg=[{value:"7",label:"Últimos 7 dias"},{value:"30",label:"Últimos 30 dias"},{value:"90",label:"Últimos 90 dias"}];function JA(t){const s=new Date(t);return s.setHours(0,0,0,0),s}function QA(t){const s=new Date(t);return s.setHours(23,59,59,999),s}function _u(t){const s=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return`${s}-${r}-${o}`}function XA(){var N;const[t,s]=m.useState("7"),[r,o]=m.useState("all"),[l,c]=m.useState(!1),[d,f]=m.useState(null),[x,p]=m.useState([]),{startISO:g,endISO:h,daysList:j,startDate:S,endDate:b}=m.useMemo(()=>{const C=new Date,E=QA(C),_=JA(new Date(C.getTime()-(parseInt(t)-1)*24*60*60*1e3)),R=[];let k=new Date(_);for(;k<=E;)R.push(_u(k)),k.setDate(k.getDate()+1);return{startISO:_.toISOString(),endISO:E.toISOString(),startDate:_,endDate:E,daysList:R}},[t]);m.useEffect(()=>{let C=!0;async function E(){var _,R,k,M,O,P;c(!0),f(null);try{const I={ordering:"-created_at",limit:100,created_at__gte:g,created_at__lte:h},D=await vt.getSolicitacoes(I);let V=[...Array.isArray(D==null?void 0:D.results)?D.results:Array.isArray(D)?D:[]],re=D==null?void 0:D.next,$=0;for(;re&&$<20;){const z=await xe.get(re),H=Array.isArray((_=z.data)==null?void 0:_.results)?z.data.results:Array.isArray(z.data)?z.data:[];V=V.concat(H),re=(R=z.data)==null?void 0:R.next,$++}const G=V.map(z=>({id:z.id,status:String(z.status||"").toLowerCase(),tipo:String(z.tipo||z.type||"").toLowerCase(),createdAt:z.created_at||z.data_envio||z.dataEnvio||null})).filter(z=>r==="all"?!0:z.tipo===r).filter(z=>{const H=new Date(z.createdAt);return z.createdAt&&!isNaN(H)&&H>=S&&H<=b});C&&p(G)}catch(I){if(C){const D=(k=I==null?void 0:I.response)==null?void 0:k.status,V=(typeof((M=I==null?void 0:I.response)==null?void 0:M.data)=="string"?null:(P=(O=I==null?void 0:I.response)==null?void 0:O.data)==null?void 0:P.detail)||(I==null?void 0:I.message)||"Falha ao carregar relatórios";f(D?`Erro ${D}: ${V}`:V)}}finally{C&&c(!1)}}return E(),()=>{C=!1}},[g,h,r,S,b]);const y=m.useMemo(()=>{const C=x.length,E=x.filter(F=>F.status==="approved").length,_=x.filter(F=>F.status==="rejected").length,R=x.filter(F=>F.status==="pending").length,k=x.filter(F=>F.status==="approved"&&F.tipo==="medico").length,M=x.filter(F=>F.status==="approved"&&F.tipo==="clinica").length,O=x.filter(F=>F.status==="rejected"&&F.tipo==="medico").length,P=x.filter(F=>F.status==="rejected"&&F.tipo==="clinica").length,I=j.map(F=>{const V=x.filter(G=>G.status==="approved"&&_u(new Date(G.createdAt))===F).length,re=x.filter(G=>G.status==="rejected"&&_u(new Date(G.createdAt))===F).length,$=V+re;return{ymd:F,aprov:V,rej:re,total:$}}),D=Math.max(1,...I.map(F=>F.total));return{total:C,aprovadas:E,rejeitadas:_,pendentes:R,aprovMed:k,aprovCli:M,rejMed:O,rejCli:P,byDay:I,maxDay:D}},[x,j]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Relatórios"}),e.jsx("p",{className:"text-muted-foreground",children:"Acompanhe métricas de solicitações por período"})]}),e.jsx(ie,{children:e.jsxs(de,{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Filtros"}),e.jsx(Le,{children:"Selecione o período e o tipo de solicitação"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gm,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(Xe,{value:t,onValueChange:s,children:[e.jsx(Ye,{className:"w-[180px]",children:e.jsx(Ze,{placeholder:"Período"})}),e.jsx(Je,{children:dg.map(C=>e.jsx(ye,{value:C.value,children:C.label},C.value))})]})]}),e.jsxs(Xe,{value:r,onValueChange:o,children:[e.jsx(Ye,{className:"w-[180px]",children:e.jsx(Ze,{placeholder:"Tipo"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"all",children:"Todos os tipos"}),e.jsx(ye,{value:"medico",children:"Médico"}),e.jsx(ye,{value:"clinica",children:"Clínica"})]})]}),e.jsxs(se,{variant:"outline",size:"sm",disabled:l,onClick:()=>s(t),children:[e.jsx(lv,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{children:[e.jsx(de,{className:"pb-2",children:e.jsx(me,{className:"text-sm font-medium",children:"Total no Período"})}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:(N=dg.find(C=>C.value===t))==null?void 0:N.label})]})]}),e.jsxs(ie,{children:[e.jsx(de,{className:"pb-2",children:e.jsxs(me,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Gs,{className:"h-4 w-4 text-green-500"}),"Aprovadas"]})}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.aprovadas}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.aprovMed," médicos • ",y.aprovCli," clínicas"]})]})]}),e.jsxs(ie,{children:[e.jsx(de,{className:"pb-2",children:e.jsxs(me,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4 text-red-500"}),"Rejeitadas"]})}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:y.rejeitadas}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.rejMed," médicos • ",y.rejCli," clínicas"]})]})]}),e.jsxs(ie,{children:[e.jsx(de,{className:"pb-2",children:e.jsxs(me,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-amber-500"}),"Pendentes"]})}),e.jsxs(ce,{children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:y.pendentes}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando revisão"})]})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Série diária (Aprovadas x Rejeitadas)"}),e.jsx(Le,{children:"Distribuição por dia no período filtrado"})]}),e.jsxs(ce,{className:"space-y-2",children:[y.byDay.map(C=>{const E=Math.round(C.aprov/y.maxDay*100),_=Math.round(C.rej/y.maxDay*100);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[e.jsx("span",{children:C.ymd}),e.jsxs("span",{children:[e.jsxs(et,{variant:"outline",className:"mr-1",children:["Aprovadas: ",C.aprov]}),e.jsxs(et,{variant:"outline",children:["Rejeitadas: ",C.rej]})]})]}),e.jsxs("div",{className:"h-3 w-full rounded bg-muted overflow-hidden",children:[e.jsx("div",{className:"h-3 bg-green-500/80 inline-block",style:{width:`${E}%`},title:`Aprovadas: ${C.aprov}`}),e.jsx("div",{className:"h-3 bg-red-500/80 inline-block",style:{width:`${_}%`},title:`Rejeitadas: ${C.rej}`})]})]},C.ymd)}),!y.byDay.length&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"Sem dados no período escolhido."})]})]}),l&&e.jsx(ie,{children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-1/3"}),e.jsx("div",{className:"h-24 bg-muted rounded"})]})})}),d&&e.jsx(ie,{children:e.jsx(ce,{className:"p-6",children:e.jsxs("p",{className:"text-sm text-red-600",children:["Erro ao carregar: ",String(d)]})})})]})}function ZA(){const[t,s]=m.useState([]),[r,o]=m.useState(!1),[l,c]=m.useState(null),[d,f]=m.useState(null),[x,p]=m.useState(null),[g,h]=m.useState(""),[j,S]=m.useState(""),[b,y]=m.useState(""),[N,C]=m.useState(""),[E,_]=m.useState(""),[R,k]=m.useState(""),[M,O]=m.useState(""),P=m.useMemo(()=>{const D={ordering:"-created_at",limit:20};return g&&(D.action=g),j&&(D.entity=j),b&&(D.status=b),N&&(D.user=N),E&&(D.created_at__gte=new Date(E).toISOString()),R&&(D.created_at__lte=new Date(R).toISOString()),M&&(D.search=M),D},[g,j,b,N,E,R,M]),I=async D=>{var F,V,re,$;o(!0),c(null);try{const G=typeof D=="string"?await xe.get(D):await vt.getAuditoria(D),z=(G==null?void 0:G.data)??G,H=Array.isArray(z==null?void 0:z.results)?z.results:Array.isArray(z)?z:[];s(H),f((z==null?void 0:z.next)||null),p((z==null?void 0:z.previous)||null)}catch(G){const z=(F=G==null?void 0:G.response)==null?void 0:F.status,W=(typeof((V=G==null?void 0:G.response)==null?void 0:V.data)=="string"?null:($=(re=G==null?void 0:G.response)==null?void 0:re.data)==null?void 0:$.detail)||(G==null?void 0:G.message)||"Falha ao carregar auditoria";c(z?`Erro ${z}: ${W}`:W)}finally{o(!1)}};return m.useEffect(()=>{I(P)},[P]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Auditoria"}),e.jsx("p",{className:"text-muted-foreground",children:"Acompanhe registros de ações do sistema"})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Filtros"}),e.jsx(Le,{children:"Refine a busca por período, usuário e tipo de ação"})]}),e.jsxs(ce,{className:"grid md:grid-cols-6 gap-3",children:[e.jsx(fe,{type:"date",value:E,onChange:D=>_(D.target.value),placeholder:"Início"}),e.jsx(fe,{type:"date",value:R,onChange:D=>k(D.target.value),placeholder:"Fim"}),e.jsx(fe,{value:N,onChange:D=>C(D.target.value),placeholder:"Usuário (UUID)"}),e.jsxs(Xe,{value:b,onValueChange:D=>y(D==="all"?"":D),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"all",children:"Todos"}),e.jsx(ye,{value:"success",children:"Sucesso"}),e.jsx(ye,{value:"fail",children:"Falha"})]})]}),e.jsx(fe,{value:g,onChange:D=>h(D.target.value),placeholder:"Ação (ex: login)"}),e.jsx(fe,{value:j,onChange:D=>S(D.target.value),placeholder:"Entidade (ex: Consulta)"}),e.jsxs("div",{className:"md:col-span-6 flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx(fe,{value:M,onChange:D=>O(D.target.value),placeholder:"Buscar (ação, entidade, IP, usuário)"})}),e.jsxs(se,{variant:"outline",onClick:()=>I(P),children:[e.jsx(On,{className:"mr-2 h-4 w-4"})," Buscar"]}),e.jsxs(se,{variant:"ghost",onClick:()=>{h(""),S(""),y(""),C(""),_(""),k(""),O("")},children:[e.jsx(lv,{className:"mr-2 h-4 w-4"})," Limpar"]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(me,{children:"Registros"}),e.jsx(Le,{children:"Resultados paginados (20 por página)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{variant:"outline",size:"sm",disabled:!x||r,onClick:()=>I(x),children:e.jsx(ov,{className:"h-4 w-4"})}),e.jsx(se,{variant:"outline",size:"sm",disabled:!d||r,onClick:()=>I(d),children:e.jsx(Tn,{className:"h-4 w-4"})})]})]}),e.jsxs(ce,{className:"overflow-x-auto",children:[l&&e.jsx("div",{className:"text-red-600 text-sm mb-2",children:l}),e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b",children:[e.jsx("th",{className:"py-2 px-3",children:"Data"}),e.jsx("th",{className:"py-2 px-3",children:"Usuário"}),e.jsx("th",{className:"py-2 px-3",children:"Ação"}),e.jsx("th",{className:"py-2 px-3",children:"Entidade"}),e.jsx("th",{className:"py-2 px-3",children:"ID"}),e.jsx("th",{className:"py-2 px-3",children:"IP"}),e.jsx("th",{className:"py-2 px-3",children:"Status"})]})}),e.jsxs("tbody",{children:[!r&&t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-6 text-center text-muted-foreground",children:"Nenhum registro encontrado."})}),t.map(D=>{var F,V;return e.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[e.jsx("td",{className:"py-2 px-3 whitespace-nowrap",children:new Date(D.created_at).toLocaleString()}),e.jsx("td",{className:"py-2 px-3",children:((F=D.user)==null?void 0:F.username)||((V=D.user)==null?void 0:V.email)||"-"}),e.jsx("td",{className:"py-2 px-3",children:D.action}),e.jsx("td",{className:"py-2 px-3",children:D.entity||"-"}),e.jsx("td",{className:"py-2 px-3",children:D.entity_id||"-"}),e.jsx("td",{className:"py-2 px-3",children:D.ip_address||"-"}),e.jsx("td",{className:"py-2 px-3",children:D.status==="success"?e.jsx(et,{className:"bg-emerald-50 text-emerald-700 border-emerald-200",variant:"outline",children:"Sucesso"}):e.jsx(et,{className:"bg-red-50 text-red-700 border-red-200",variant:"outline",children:"Falha"})})]},D.id)})]})]})]})]})]})}function eT(){const{activeRole:t,toggleRole:s}=Ca(),{user:r}=Xs(),o=ln();if(!((r==null?void 0:r.role)==="medico"||(r==null?void 0:r.is_medico)||(r==null?void 0:r.isMedico)||!1))return null;const c=()=>{s(),o(t==="medico"?"/paciente/perfil":"/medico/dashboard")};return e.jsx(se,{variant:"outline",size:"sm",onClick:c,className:"flex items-center gap-2 transition-all duration-200 hover:shadow-md",children:t==="medico"?e.jsxs(e.Fragment,{children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Paciente"})]}):e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"h-4 w-4"}),e.jsx("span",{children:"Mudar para Médico"})]})})}function tT(){const{isAuthenticated:t}=Ca();return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container flex h-14 items-center",children:[e.jsx("div",{className:"mr-4 flex",children:e.jsx(qe,{to:"/",className:"mr-6 flex items-center space-x-2",children:e.jsx("span",{className:"font-bold",children:"Portal Médico"})})}),e.jsx("div",{className:"flex flex-1 items-center justify-end space-x-2",children:e.jsxs("nav",{className:"flex items-center space-x-2",children:[e.jsx(sc,{}),t&&e.jsx(eT,{})]})})]})}),e.jsx("main",{className:"flex-1",children:e.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8 text-center",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl",children:"Bem-vindo ao Portal Médico"}),e.jsx("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-xl dark:text-gray-400",children:"Conectando médicos e pacientes para uma experiência de saúde integrada."}),e.jsx("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-lg dark:text-gray-400",children:"Nossa plataforma oferece uma solução completa para gerenciamento de consultas, prontuários e histórico médico, facilitando a comunicação entre profissionais de saúde e pacientes."})]}),t?e.jsxs("div",{className:"space-x-4",children:[e.jsx(qe,{to:"/medico/dashboard",children:e.jsx(se,{children:"Acessar como Médico"})}),e.jsx(qe,{to:"/paciente/perfil",children:e.jsx(se,{variant:"outline",children:"Acessar como Paciente"})})]}):e.jsx("div",{className:"w-full max-w-md mx-auto mt-8",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(qe,{to:"/login",className:"w-full",children:e.jsx(se,{className:"w-full h-12 rounded-xl bg-app-gradient text-white font-semibold shadow-app hover:opacity-90",children:"Entrar"})}),e.jsx(qe,{to:"/registrar",className:"w-full",children:e.jsx(se,{variant:"outline",className:"w-full h-12 rounded-xl border-slate-300 bg-white/90 text-slate-700 shadow-sm hover:bg-white hover:shadow-md",children:"Criar Conta"})})]})})]})})})})]})}function nT(){var M,O,P,I,D,F,V,re,$,G;const[t,s]=m.useState(!1),[r,o]=m.useState("none"),{toast:l}=Et();ln();const{setActiveRole:c,setUserPermissions:d}=Ca(),f=((M=mt.getCurrentUser)==null?void 0:M.call(mt))||null,p=`medicoApplicationStatus:${f&&(f.id||f.pk||f.email||f.username)||"anon"}`;m.useEffect(()=>{try{const z=localStorage.getItem("medicoApplicationStatus");z&&!localStorage.getItem(p)&&(localStorage.setItem(p,z),localStorage.removeItem("medicoApplicationStatus"));const H=JSON.parse(localStorage.getItem(p)||"{}");H!=null&&H.status&&o(H.status)}catch{}},[p]);const[g,h]=m.useState({crm:"",especialidade:"",instituicaoFormacao:"",anoFormacao:"",residencia:"",instituicaoResidencia:"",anoResidencia:"",experiencia:"",motivacao:"",documentos:{diplomaMedicina:null,certificadoResidencia:null,comprovanteExperiencia:null}}),j=z=>String(z||"").replace(/\D/g,"").slice(0,7),S=z=>{const{name:H,value:W}=z.target,X=H==="crm"?j(W):W;h({...g,[H]:X})},b=(z,H)=>{h({...g,[z]:H})},y=(z,H)=>{h({...g,documentos:{...g.documentos,[z]:H}})},N=m.useRef(null),C=m.useRef(null),E=m.useRef(null),_=(z,H)=>{h(W=>({...W,documentos:{...W.documentos,[z]:null}})),H!=null&&H.current&&(H.current.value="")},R=async z=>{var H,W,X,te;if(z.preventDefault(),s(!0),!((H=g.documentos)!=null&&H.diplomaMedicina)){l({title:"Arquivo obrigatório",description:"Anexe o Diploma de Medicina antes de enviar.",variant:"destructive"}),s(!1);return}try{const{solicitacaoService:T}=await Eg(async()=>{const{solicitacaoService:U}=await Promise.resolve().then(()=>z0);return{solicitacaoService:U}},void 0);await T.criarSolicitacaoMedico(g),o("pending"),localStorage.setItem(p,JSON.stringify({status:"pending",at:new Date().toISOString()})),d(U=>({...U,medicoStatus:"pending"})),l({title:"Solicitação enviada!",description:"Sua solicitação para se tornar médico foi enviada para análise."})}catch(T){const U=(W=T==null?void 0:T.response)==null?void 0:W.status;if(U===404)o("pending"),localStorage.setItem(p,JSON.stringify({status:"pending",at:new Date().toISOString(),simulated:!0})),d(Z=>({...Z,medicoStatus:"pending"})),l({title:"Solicitação registrada (modo teste)",description:"Sem endpoint de backend disponível. Status salvo localmente."});else if(U===405){const Z=((X=T==null?void 0:T.config)==null?void 0:X.url)||"(desconhecido)";console.warn("Endpoint não aceita POST (405). URL usada:",Z),l({title:"Método não permitido (405)",description:`O backend não aceita POST neste endpoint: ${Z}. Verifique a variável de ambiente do endpoint de solicitações do médico ou me informe a rota correta de criação.`,variant:"destructive"})}else{const Z=(te=T==null?void 0:T.response)==null?void 0:te.data;console.error("[MedicoRegistration] criarSolicitacaoMedico falhou:",T,Z),l({title:"Erro ao enviar",description:typeof Z=="string"?Z:"Não foi possível enviar a solicitação. Verifique os campos e tente novamente.",variant:"destructive"})}}finally{s(!1)}},k=()=>{switch(r){case"pending":return e.jsxs(et,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(ft,{className:"mr-1 h-3 w-3"}),"Aguardando Aprovação"]});case"approved":return e.jsxs(et,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Gs,{className:"mr-1 h-3 w-3"}),"Aprovado"]});case"rejected":return e.jsxs(et,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(xs,{className:"mr-1 h-3 w-3"}),"Rejeitado"]});default:return null}};return r==="approved"?e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-5 w-5 text-green-600"}),e.jsx(me,{className:"text-green-700",children:"Parabéns! Você é um médico aprovado"})]}),e.jsx(Le,{children:"Sua solicitação foi aprovada. Agora você pode acessar todas as funcionalidades médicas."})]}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Você agora pode alternar entre os perfis de paciente e médico usando o botão no menu lateral."})}),e.jsx(se,{className:"w-full",children:"Acessar Área Médica"})]})})]}):r==="pending"?e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-5 w-5"}),e.jsx(me,{children:"Solicitação de Cadastro Médico"})]}),k()]}),e.jsx(Le,{children:"Sua solicitação está sendo analisada pela equipe administrativa."})]}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsx("strong",{children:"Status:"})," Aguardando aprovação",e.jsx("br",{}),e.jsx("strong",{children:"Enviado em:"})," ",new Date().toLocaleDateString(),e.jsx("br",{}),e.jsx("strong",{children:"Tempo estimado:"})," 2-5 dias úteis"]})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Você receberá um email quando sua solicitação for processada. Enquanto isso, você pode continuar usando o sistema como paciente."})]})})]}):r==="rejected"?e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-5 w-5"}),e.jsx(me,{children:"Solicitação de Cadastro Médico"})]}),k()]}),e.jsx(Le,{children:"Sua solicitação foi rejeitada. Veja os motivos abaixo."})]}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[e.jsx("strong",{children:"Motivos da rejeição:"}),e.jsx("br",{}),"• Documentação incompleta",e.jsx("br",{}),"• CRM não encontrado no sistema do CFM",e.jsx("br",{}),"• Informações inconsistentes"]})}),e.jsx(se,{variant:"outline",className:"w-full bg-transparent",onClick:()=>o("none"),children:"Enviar Nova Solicitação"})]})})]}):e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-5 w-5"}),e.jsx(me,{children:"Cadastro como Médico"})]}),e.jsx(Le,{children:"Preencha os dados abaixo para solicitar acesso às funcionalidades médicas"})]}),e.jsx(ce,{children:e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Dados Profissionais"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"crm",children:"CRM *"}),e.jsx(fe,{id:"crm",name:"crm",placeholder:"Ex: CRM/SP 123456",value:g.crm,onChange:S,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"especialidade",children:"Especialidade *"}),e.jsxs(Xe,{onValueChange:z=>b("especialidade",z),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Selecione sua especialidade"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"clinica-geral",children:"Clínica Geral"}),e.jsx(ye,{value:"cardiologia",children:"Cardiologia"}),e.jsx(ye,{value:"dermatologia",children:"Dermatologia"}),e.jsx(ye,{value:"endocrinologia",children:"Endocrinologia"}),e.jsx(ye,{value:"ginecologia",children:"Ginecologia"}),e.jsx(ye,{value:"neurologia",children:"Neurologia"}),e.jsx(ye,{value:"ortopedia",children:"Ortopedia"}),e.jsx(ye,{value:"pediatria",children:"Pediatria"}),e.jsx(ye,{value:"psiquiatria",children:"Psiquiatria"}),e.jsx(ye,{value:"urologia",children:"Urologia"}),e.jsx(ye,{value:"outras",children:"Outras"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Formação Acadêmica"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"instituicaoFormacao",children:"Instituição de Formação *"}),e.jsx(fe,{id:"instituicaoFormacao",name:"instituicaoFormacao",placeholder:"Ex: USP, UNIFESP, etc.",value:g.instituicaoFormacao,onChange:S,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"anoFormacao",children:"Ano de Formação *"}),e.jsx(fe,{id:"anoFormacao",name:"anoFormacao",type:"number",placeholder:"Ex: 2015",min:"1950",max:new Date().getFullYear(),value:g.anoFormacao,onChange:S,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"residencia",children:"Residência Médica"}),e.jsx(fe,{id:"residencia",name:"residencia",placeholder:"Ex: Cardiologia",value:g.residencia,onChange:S})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"instituicaoResidencia",children:"Instituição da Residência"}),e.jsx(fe,{id:"instituicaoResidencia",name:"instituicaoResidencia",placeholder:"Ex: Hospital das Clínicas",value:g.instituicaoResidencia,onChange:S})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"anoResidencia",children:"Ano de Conclusão da Residência"}),e.jsx(fe,{id:"anoResidencia",name:"anoResidencia",type:"number",placeholder:"Ex: 2018",min:"1950",max:new Date().getFullYear(),value:g.anoResidencia,onChange:S})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Experiência Profissional"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"experiencia",children:"Descreva sua experiência profissional *"}),e.jsx(rt,{id:"experiencia",name:"experiencia",placeholder:"Descreva onde trabalhou, por quanto tempo, principais atividades...",className:"min-h-[100px]",value:g.experiencia,onChange:S,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"motivacao",children:"Por que deseja usar nossa plataforma? *"}),e.jsx(rt,{id:"motivacao",name:"motivacao",placeholder:"Conte-nos sobre suas motivações e como pretende usar a plataforma...",className:"min-h-[100px]",value:g.motivacao,onChange:S,required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Documentos Obrigatórios"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Diploma de Medicina *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var z;return(z=N.current)==null?void 0:z.click()},onDragOver:z=>z.preventDefault(),onDrop:z=>{var W;z.preventDefault();const H=(W=z.dataTransfer.files)==null?void 0:W[0];H&&y("diplomaMedicina",H)},children:[e.jsx(du,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(O=g.documentos)!=null&&O.diplomaMedicina?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(P=g.documentos)!=null&&P.diplomaMedicina?g.documentos.diplomaMedicina.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:N,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:z=>y("diplomaMedicina",z.target.files[0])}),((I=g.documentos)==null?void 0:I.diplomaMedicina)&&e.jsx("div",{className:"mt-2",children:e.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:()=>_("diplomaMedicina",N),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Certificado de Residência (se aplicável)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var z;return(z=C.current)==null?void 0:z.click()},onDragOver:z=>z.preventDefault(),onDrop:z=>{var W;z.preventDefault();const H=(W=z.dataTransfer.files)==null?void 0:W[0];H&&y("certificadoResidencia",H)},children:[e.jsx(du,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(D=g.documentos)!=null&&D.certificadoResidencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(F=g.documentos)!=null&&F.certificadoResidencia?g.documentos.certificadoResidencia.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:C,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:z=>y("certificadoResidencia",z.target.files[0])}),((V=g.documentos)==null?void 0:V.certificadoResidencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:()=>_("certificadoResidencia",C),children:"Remover arquivo"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Comprovante de Experiência"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-muted/30",onClick:()=>{var z;return(z=E.current)==null?void 0:z.click()},onDragOver:z=>z.preventDefault(),onDrop:z=>{var W;z.preventDefault();const H=(W=z.dataTransfer.files)==null?void 0:W[0];H&&y("comprovanteExperiencia",H)},children:[e.jsx(du,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:(re=g.documentos)!=null&&re.comprovanteExperiencia?"Arquivo selecionado:":"Clique para fazer upload ou arraste o arquivo aqui"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:($=g.documentos)!=null&&$.comprovanteExperiencia?g.documentos.comprovanteExperiencia.name:"PDF, JPG ou PNG até 5MB"}),e.jsx(fe,{ref:E,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:z=>y("comprovanteExperiencia",z.target.files[0])}),((G=g.documentos)==null?void 0:G.comprovanteExperiencia)&&e.jsx("div",{className:"mt-2",children:e.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:()=>_("comprovanteExperiencia",E),children:"Remover arquivo"})})]})]})]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Importante:"})," Sua solicitação será analisada por nossa equipe administrativa. O processo pode levar de 2 a 5 dias úteis. Você receberá um email com o resultado da análise."]})}),e.jsx(se,{type:"submit",className:"w-full",disabled:t,children:t?"Enviando solicitação...":"Enviar Solicitação"})]})})]})}function ku(){const{activeRole:t}=Ca(),r=Lt().pathname.startsWith("/paciente/"),{toast:o}=Et(),[l,c]=m.useState(!0),[d,f]=m.useState(!1),[x,p]=m.useState(null),[g,h]=m.useState(null),[j,S]=m.useState(null),[b,y]=m.useState({first_name:"",last_name:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:""}),[N,C]=m.useState({atual:"",nova:"",confirmar:""}),[E,_]=m.useState(!1),[R,k]=m.useState({email:!0,lembretes:!0,exames:!0,push:!1}),[M,O]=m.useState(!1),[P,I]=m.useState({tipo_sanguineo:"",alergias:"",condicoes_cronicas:"",contato_emergencia_nome:"",contato_emergencia_telefone:"",plano_saude:"",numero_carteirinha:"",peso:"",altura:""}),[D,F]=m.useState(!1),V=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];m.useEffect(()=>{let te=!0;return(async()=>{var T;try{c(!0);const[U,Z]=await Promise.allSettled([tt.getPerfil(),tt.getPacienteDoUsuario()]);if(!te)return;const L=U.status==="fulfilled"?U.value:null,K=Z.status==="fulfilled"?Z.value:null;h(L),S(K),y(J=>({...J,first_name:(L==null?void 0:L.first_name)||"",last_name:(L==null?void 0:L.last_name)||"",email:(L==null?void 0:L.email)||"",cpf:(L==null?void 0:L.cpf)||"",telefone:(L==null?void 0:L.telefone)||"",data_nascimento:(L==null?void 0:L.data_nascimento)||"",endereco:typeof(L==null?void 0:L.endereco)=="string"?L.endereco:L!=null&&L.endereco?`${L.endereco.logradouro||""} ${L.endereco.numero||""} ${L.endereco.bairro||""} ${L.endereco.cidade||""} ${L.endereco.estado||""}`.trim():""})),I({tipo_sanguineo:(K==null?void 0:K.tipo_sanguineo)||"",alergias:(K==null?void 0:K.alergias)||"",condicoes_cronicas:(K==null?void 0:K.condicoes_cronicas)||"",contato_emergencia_nome:(K==null?void 0:K.contato_emergencia_nome)||"",contato_emergencia_telefone:(K==null?void 0:K.contato_emergencia_telefone)||"",plano_saude:(K==null?void 0:K.plano_saude)||"",numero_carteirinha:(K==null?void 0:K.numero_carteirinha)||"",peso:(K==null?void 0:K.peso)??"",altura:(K==null?void 0:K.altura)??""});try{const J=localStorage.getItem("notification_prefs");if(J){const Q=JSON.parse(J);k(le=>({...le,...Q}))}}catch{}}catch(U){const Z=(T=U==null?void 0:U.response)==null?void 0:T.status;p(Z===401?"Sessão inválida. Faça login novamente.":"Não foi possível carregar os dados.")}finally{te&&c(!1)}})(),()=>{te=!1}},[]);const re=te=>{const{name:T,value:U}=te.target;y(Z=>({...Z,[T]:U}))},$=te=>{const{name:T,value:U}=te.target;I(Z=>({...Z,[T]:U}))};async function G(){var te;f(!0);try{const T={first_name:b.first_name||"",last_name:b.last_name||"",telefone:b.telefone||"",data_nascimento:b.data_nascimento||"",endereco:b.endereco||""},U=await tt.atualizarPerfil(T);h(U),o({title:"Perfil atualizado",description:"Suas informações pessoais foram salvas."})}catch(T){const U=(te=T==null?void 0:T.response)!=null&&te.data?JSON.stringify(T.response.data):"Não foi possível salvar o perfil.";o({title:"Erro ao salvar",description:U,variant:"destructive"})}finally{f(!1)}}async function z(){var te;F(!0);try{const T=await tt.atualizarPaciente(P);S(U=>({...U||{},...T||{}})),o({title:"Informações do paciente salvas",description:"Dados atualizados com sucesso."})}catch(T){const U=(te=T==null?void 0:T.response)!=null&&te.data?JSON.stringify(T.response.data):"Não foi possível salvar os dados do paciente.";o({title:"Erro ao salvar",description:U,variant:"destructive"})}finally{F(!1)}}const H=async()=>{var te,T;if(!N.nova||N.nova.length<6){o({title:"Senha inválida",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(N.nova!==N.confirmar){o({title:"Confirmação incorreta",description:"A confirmação da nova senha não confere.",variant:"destructive"});return}_(!0);try{await xe.post("/auth/change-password/",{old_password:N.atual,new_password:N.nova}),C({atual:"",nova:"",confirmar:""}),o({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."})}catch(U){const L=((te=U==null?void 0:U.response)==null?void 0:te.status)===404?"Endpoint de alteração de senha não encontrado. Verifique o backend.":(T=U==null?void 0:U.response)!=null&&T.data?JSON.stringify(U.response.data):"Não foi possível alterar a senha.";o({title:"Erro ao alterar senha",description:L,variant:"destructive"})}finally{_(!1)}},W=te=>{k(T=>({...T,[te]:!T[te]}))},X=()=>{O(!0);try{localStorage.setItem("notification_prefs",JSON.stringify(R)),o({title:"Preferências salvas",description:"Suas preferências de notificação foram atualizadas."})}finally{O(!1)}};return e.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informações pessoais e preferências da conta"})]}),r&&e.jsx(Nn,{tabs:V,basePath:"/paciente"}),!r&&t==="secretaria"&&!(j!=null&&j.id)&&e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Criar perfil de paciente"}),e.jsx(Le,{children:"Para acessar as funcionalidades de paciente com esta conta, crie seu perfil de paciente."})]}),e.jsxs(ce,{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum perfil de paciente encontrado para esta conta."}),e.jsx(se,{onClick:async()=>{var te;setCreatingPatient(!0);try{const T=await tt.garantirPacienteDoUsuario({});S(T),o({title:"Perfil de paciente criado",description:"Você já pode acessar a área do paciente."})}catch(T){const U=(te=T==null?void 0:T.response)!=null&&te.data?JSON.stringify(T.response.data):"Não foi possível criar o perfil.";o({title:"Erro",description:U,variant:"destructive"})}finally{setCreatingPatient(!1)}},disabled:creatingPatient,children:creatingPatient?"Criando...":"Criar meu perfil de paciente"})]})]}),e.jsxs(ts,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(ns,{className:"grid w-full grid-cols-3",children:[e.jsxs(at,{value:"perfil",className:"flex items-center gap-2",children:[e.jsx(It,{className:"h-4 w-4"}),"Perfil"]}),e.jsxs(at,{value:"seguranca",className:"flex items-center gap-2",children:[e.jsx(kC,{className:"h-4 w-4"}),"Segurança"]}),e.jsxs(at,{value:"notificacoes",className:"flex items-center gap-2",children:[e.jsx(vC,{className:"h-4 w-4"}),"Notificações"]})]}),e.jsx(ct,{value:"perfil",children:e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Informações Pessoais"}),e.jsx(Le,{children:"Atualize suas informações pessoais e de contato"})]}),e.jsx(ce,{className:"space-y-6",children:l?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):x?e.jsx("p",{className:"text-destructive",children:x}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"first_name",children:"Nome"}),e.jsx(fe,{id:"first_name",name:"first_name",value:b.first_name,onChange:re})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(fe,{id:"last_name",name:"last_name",value:b.last_name,onChange:re})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"email",children:"Email"}),e.jsx(fe,{id:"email",name:"email",value:b.email,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"cpf",children:"CPF"}),e.jsx(fe,{id:"cpf",name:"cpf",value:b.cpf,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:b.telefone,onChange:re})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"data_nascimento",children:"Data de Nascimento"}),e.jsx(fe,{id:"data_nascimento",name:"data_nascimento",type:"date",value:b.data_nascimento||"",onChange:re})]})]}),e.jsx(Dn,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"endereco",children:"Endereço"}),e.jsx(rt,{id:"endereco",name:"endereco",placeholder:"Rua, número, bairro, cidade, estado",value:b.endereco,onChange:re})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(se,{onClick:G,disabled:d,children:d?"Salvando...":"Salvar Alterações"})}),e.jsx(Dn,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Mais Informações do Paciente"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Esses dados ajudam médicos a entender melhor seu histórico."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"tipo_sanguineo",children:"Tipo Sanguíneo"}),e.jsx(fe,{id:"tipo_sanguineo",name:"tipo_sanguineo",value:P.tipo_sanguineo,onChange:$,placeholder:"Ex.: O+, A-, B+, AB+"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"plano_saude",children:"Plano de Saúde"}),e.jsx(fe,{id:"plano_saude",name:"plano_saude",value:P.plano_saude,onChange:$})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"numero_carteirinha",children:"Número da Carteirinha"}),e.jsx(fe,{id:"numero_carteirinha",name:"numero_carteirinha",value:P.numero_carteirinha,onChange:$})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"contato_emergencia_nome",children:"Contato de Emergência (Nome)"}),e.jsx(fe,{id:"contato_emergencia_nome",name:"contato_emergencia_nome",value:P.contato_emergencia_nome,onChange:$})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"contato_emergencia_telefone",children:"Contato de Emergência (Telefone)"}),e.jsx(fe,{id:"contato_emergencia_telefone",name:"contato_emergencia_telefone",value:P.contato_emergencia_telefone,onChange:$})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"peso",children:"Peso (kg)"}),e.jsx(fe,{id:"peso",name:"peso",type:"number",step:"0.1",value:P.peso,onChange:$})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"altura",children:"Altura (cm)"}),e.jsx(fe,{id:"altura",name:"altura",type:"number",step:"0.1",value:P.altura,onChange:$})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(ue,{htmlFor:"alergias",children:"Alergias"}),e.jsx(rt,{id:"alergias",name:"alergias",rows:3,value:P.alergias,onChange:$,placeholder:"Ex.: Dipirona, poeira, frutos do mar"})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(ue,{htmlFor:"condicoes_cronicas",children:"Condições Crônicas"}),e.jsx(rt,{id:"condicoes_cronicas",name:"condicoes_cronicas",rows:3,value:P.condicoes_cronicas,onChange:$,placeholder:"Ex.: Hipertensão, Diabetes, Asma"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(se,{onClick:z,disabled:D,variant:"outline",children:D?"Salvando...":"Salvar Informações do Paciente"})})]})]})})]})}),e.jsx(ct,{value:"seguranca",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Alterar Senha"}),e.jsx(Le,{children:"Mantenha sua conta segura com uma senha forte"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"senha-atual",children:"Senha Atual"}),e.jsx(fe,{id:"senha-atual",type:"password",value:N.atual,onChange:te=>C(T=>({...T,atual:te.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"nova-senha",children:"Nova Senha"}),e.jsx(fe,{id:"nova-senha",type:"password",value:N.nova,onChange:te=>C(T=>({...T,nova:te.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"confirmar-senha",children:"Confirmar Nova Senha"}),e.jsx(fe,{id:"confirmar-senha",type:"password",value:N.confirmar,onChange:te=>C(T=>({...T,confirmar:te.target.value}))})]}),e.jsx(se,{onClick:H,disabled:E,children:E?"Alterando...":"Alterar Senha"})]})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Autenticação de Dois Fatores"}),e.jsx(Le,{children:"Adicione uma camada extra de segurança à sua conta"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Autenticação de Dois Fatores"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Não configurada"})]}),e.jsx(se,{variant:"outline",disabled:!0,children:"Em breve"})]})})]})]})}),e.jsx(ct,{value:"notificacoes",children:e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Preferências de Notificação"}),e.jsx(Le,{children:"Configure como você deseja receber notificações"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações importantes por email"})]}),e.jsx(se,{variant:"outline",size:"sm",onClick:()=>W("email"),children:R.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Lembretes de Consulta"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba lembretes antes das consultas"})]}),e.jsx(se,{variant:"outline",size:"sm",onClick:()=>W("lembretes"),children:R.lembretes?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Resultados de Exames"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Seja notificado quando exames ficarem prontos"})]}),e.jsx(se,{variant:"outline",size:"sm",onClick:()=>W("exames"),children:R.exames?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações no navegador"})]}),e.jsx(se,{variant:"outline",size:"sm",onClick:()=>W("push"),children:R.push?"Ativado":"Desativado"})]})]}),e.jsx(se,{onClick:X,disabled:M,children:M?"Salvando...":"Salvar Preferências"})]})]})}),r&&e.jsx(ct,{value:"medico",children:e.jsx(nT,{})})]})]})})}function sT({children:t}){const{user:s,isAuthenticated:r,loading:o}=Xs(),l=Lt(),{userPermissions:c}=Ca();if(o)return null;if(!r)return e.jsx(ot,{to:"/login",state:{from:l},replace:!0});const d=(s==null?void 0:s.role)||(s==null?void 0:s.tipo),f=(c==null?void 0:c.medicoStatus)==="approved";return d!=="medico"&&d!=="admin"&&!f?d==="paciente"?e.jsx(ot,{to:"/paciente/perfil",replace:!0}):d==="clinica"?e.jsx(ot,{to:"/clinica/dashboard",replace:!0}):e.jsx(ot,{to:"/",replace:!0}):t}function aT({children:t}){const{user:s,isAuthenticated:r,loading:o}=Xs(),l=Lt();if(o)return null;if(!r)return e.jsx(ot,{to:"/login",state:{from:l},replace:!0});const c=(s==null?void 0:s.role)||(s==null?void 0:s.tipo);return c!=="clinica"&&c!=="admin"?c==="paciente"?e.jsx(ot,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx(ot,{to:"/medico/dashboard",replace:!0}):e.jsx(ot,{to:"/",replace:!0}):t}function rT({children:t}){const{user:s,isAuthenticated:r,loading:o}=Xs(),l=Lt(),[c,d]=m.useState(!1),[f,x]=m.useState(!1);if(m.useEffect(()=>{let g=!0;async function h(){if(!r)return;if(((s==null?void 0:s.role)||(s==null?void 0:s.tipo))==="secretaria"){d(!0);try{const S=await tt.getPacienteDoUsuario();if(!g)return;x(!!(S!=null&&S.id))}catch{if(!g)return;x(!1)}finally{g&&d(!1)}}}return h(),()=>{g=!1}},[r,s==null?void 0:s.role,s==null?void 0:s.tipo]),o||c)return null;if(!r)return e.jsx(ot,{to:"/login",state:{from:l},replace:!0});const p=(s==null?void 0:s.role)||(s==null?void 0:s.tipo);return p!=="paciente"&&p!=="admin"?p==="secretaria"&&f?t:p==="medico"?e.jsx(ot,{to:"/medico/dashboard",replace:!0}):p==="clinica"?e.jsx(ot,{to:"/clinica/dashboard",replace:!0}):e.jsx(ot,{to:"/",replace:!0}):t}function oT({children:t}){const{user:s,isAuthenticated:r,loading:o}=Xs(),l=Lt();if(o)return null;if(!r)return e.jsx(ot,{to:"/login",state:{from:l},replace:!0});const c=(s==null?void 0:s.role)||(s==null?void 0:s.tipo);return c!=="admin"?c==="paciente"?e.jsx(ot,{to:"/paciente/perfil",replace:!0}):c==="medico"?e.jsx(ot,{to:"/medico/dashboard",replace:!0}):c==="clinica"?e.jsx(ot,{to:"/clinica/dashboard",replace:!0}):e.jsx(ot,{to:"/",replace:!0}):t}const iT=t=>{var r;const s=o=>(o==null?void 0:o.nome)||(o==null?void 0:o.titulo)||(o==null?void 0:o.name)||(o==null?void 0:o.descricao)||(o==null?void 0:o.description);if(Array.isArray(t==null?void 0:t.especialidades)&&t.especialidades.length){const o=t.especialidades.map(l=>s(l)||(typeof l=="string"?l:null)).filter(Boolean);if(o.length)return o.join(", ")}if(t!=null&&t.especialidade&&typeof t.especialidade=="object"){const o=s(t.especialidade);if(o)return o}return typeof(t==null?void 0:t.especialidade)=="string"&&t.especialidade.trim()?t.especialidade.trim():typeof(t==null?void 0:t.especialidade_nome)=="string"&&t.especialidade_nome.trim()?t.especialidade_nome.trim():typeof(t==null?void 0:t.specialty)=="string"&&t.specialty.trim()?t.specialty.trim():typeof(t==null?void 0:t.area)=="string"&&t.area.trim()?t.area.trim():typeof((r=t==null?void 0:t.user)==null?void 0:r.especialidade)=="string"&&t.user.especialidade.trim()?t.user.especialidade.trim():null};function lT(){const[t,s]=m.useState([]),[r,o]=m.useState(!0),[l,c]=m.useState(!1),[d,f]=m.useState(null),{toast:x}=Et(),p=ln(),[g,h]=m.useState({medico:"",data:"",hora:"",modalidade:"online",local:"",tipo:"primeira_consulta",motivo:"",observacoes:""}),[j,S]=m.useState([]),b=k=>k?typeof k=="string"?k:[k.logradouro,k.numero,k.bairro,k.cidade,k.estado].filter(Boolean).join(" ").trim()||null:null,y=k=>{var M,O,P;return(k==null?void 0:k.local_atendimento)||(k==null?void 0:k.local)||b(k==null?void 0:k.endereco)||b((M=k==null?void 0:k.user)==null?void 0:M.endereco)||b((O=k==null?void 0:k.clinica)==null?void 0:O.endereco)||((P=k==null?void 0:k.clinica)==null?void 0:P.nome)||null},N=(k,M)=>{const O=[],P=D=>{if(!D)return;const[F,V]=String(D).split(":");F!=null&&V!=null&&O.push(`${String(F).padStart(2,"0")}:${String(V).padStart(2,"0")}`)},I=(D,F)=>{const V=new Date(D),re=new Date(F),$=new Date(V);for(;$<re;){const G=String($.getHours()).padStart(2,"0"),z=String($.getMinutes()).padStart(2,"0");O.push(`${G}:${z}`),$.setMinutes($.getMinutes()+30)}};return k.forEach(D=>{if(D!=null&&D.data_hora_inicio&&(D!=null&&D.data_hora_fim)){I(D.data_hora_inicio,D.data_hora_fim);return}if(D!=null&&D.inicio&&(D!=null&&D.fim)){I(D.inicio,D.fim);return}if(D!=null&&D.start&&(D!=null&&D.end)){I(D.start,D.end);return}if(Array.isArray(D==null?void 0:D.horarios)){D.horarios.forEach(F=>{P(typeof F=="string"?F.slice(0,5):(F==null?void 0:F.hora)||F)});return}if(D!=null&&D.hora){P(String(D.hora).slice(0,5));return}if(D!=null&&D.horario){P(String(D.horario).slice(0,5));return}if(D!=null&&D.data_hora){const F=new Date(D.data_hora);if(F.toISOString().slice(0,10)===M){const re=String(F.getHours()).padStart(2,"0"),$=String(F.getMinutes()).padStart(2,"0");O.push(`${re}:${$}`)}}}),Array.from(new Set(O)).sort()};m.useEffect(()=>{let k=!0;return(async()=>{o(!0),f(null);try{const M=await tt.getMedicos(),O=Array.isArray(M)?M:(M==null?void 0:M.results)||[];s(O)}catch(M){console.error("Erro ao buscar médicos:",M),f("Não foi possível carregar a lista de médicos.")}finally{k&&o(!1)}})(),()=>{k=!1}},[]),m.useEffect(()=>{(async()=>{if(!g.medico||!g.data){S([]);return}try{const M=await tt.getAgendaMedico({medico:g.medico,date:g.data,apenas_disponiveis:!0}),O=Array.isArray(M)?M:(M==null?void 0:M.results)||[],P=N(O,g.data);S(P),g.hora&&!P.includes(g.hora)&&h(I=>({...I,hora:""}))}catch(M){console.error("Erro ao carregar agenda do médico:",M),S([])}})()},[g.medico,g.data]),m.useEffect(()=>{if(g.modalidade!=="presencial"){g.local&&h(O=>({...O,local:""}));return}const k=t.find(O=>{var P;return String(O.id||((P=O==null?void 0:O.user)==null?void 0:P.id))===String(g.medico)}),M=k?y(k):"";h(O=>({...O,local:M||""}))},[g.medico,g.modalidade,t]);const C=k=>M=>{const O=M!=null&&M.target?M.target.value:M;h(P=>({...P,[k]:O}))},E=()=>g.medico?g.data?g.hora?g.motivo?g.modalidade==="presencial"&&!g.local?"Este médico não possui um local de atendimento definido.":null:"Informe o motivo da consulta.":"Selecione um horário disponível.":"Selecione uma data.":"Selecione um médico.",_=async k=>{var O,P,I,D,F,V,re;k.preventDefault();const M=E();if(M){x({title:"Validação",description:M,variant:"destructive"});return}c(!0),f(null);try{await tt.agendarConsulta({medico:g.medico,data:g.data,hora:g.hora,modalidade:g.modalidade,local:g.modalidade==="presencial"?g.local:void 0,tipo:g.tipo,motivo:g.motivo,observacoes:g.observacoes}),x({title:"Consulta agendada!",description:"Sua consulta foi marcada com sucesso."}),p("/paciente/consultas")}catch($){console.error("Erro ao agendar consulta:",((O=$==null?void 0:$.response)==null?void 0:O.data)||$);const G=((I=(P=$==null?void 0:$.response)==null?void 0:P.data)==null?void 0:I.error)||((F=(D=$==null?void 0:$.response)==null?void 0:D.data)==null?void 0:F.detail)||((re=(V=$==null?void 0:$.response)==null?void 0:V.data)==null?void 0:re.message)||"Não foi possível agendar a consulta.";f(G),x({title:"Erro",description:G,variant:"destructive"})}finally{c(!1)}},R=[{label:"Resumo",href:"/paciente/perfil"},{label:"Prontuário",href:"/paciente/prontuario"},{label:"Consultas",href:"/paciente/consultas"},{label:"Exames",href:"/paciente/exames"},{label:"Receitas",href:"/paciente/receitas"},{label:"Histórico Médico",href:"/paciente/historico-medico"},{label:"Médicos Vinculados",href:"/paciente/medicos"},{label:"Configurações",href:"/paciente/configuracoes"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Agendar Consulta"})]}),e.jsx(Nn,{tabs:R,basePath:"/paciente"}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Dados da Consulta"})}),e.jsx(ce,{children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Médico"}),e.jsxs(Xe,{value:g.medico,onValueChange:k=>h(M=>({...M,medico:k})),disabled:r,children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:r?"Carregando...":"Selecione um médico"})}),e.jsx(Je,{children:t.length===0?e.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"Nenhum médico disponível"}):t.map(k=>{var P,I,D;const M=(k==null?void 0:k.nome)||[(P=k==null?void 0:k.user)==null?void 0:P.first_name,(I=k==null?void 0:k.user)==null?void 0:I.last_name].filter(Boolean).join(" ")||(k==null?void 0:k.username)||(k==null?void 0:k.email)||`Médico #${(k==null?void 0:k.id)||""}`,O=iT(k);return e.jsxs(ye,{value:String(k.id||((D=k==null?void 0:k.user)==null?void 0:D.id)||M),children:[M,O?` - ${O}`:""]},k.id||M)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Tipo"}),e.jsxs(Xe,{value:g.tipo,onValueChange:k=>h(M=>({...M,tipo:k})),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Selecione o tipo"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"primeira_consulta",children:"Primeira consulta"}),e.jsx(ye,{value:"retorno",children:"Retorno"}),e.jsx(ye,{value:"urgencia",children:"Urgência"}),e.jsx(ye,{value:"rotina",children:"Rotina"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Data"}),e.jsx(fe,{type:"date",value:g.data,onChange:C("data")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Hora"}),j.length>0?e.jsxs(Xe,{value:g.hora,onValueChange:k=>h(M=>({...M,hora:k})),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Selecione um horário"})}),e.jsx(Je,{children:j.map(k=>e.jsx(ye,{value:k,children:k},k))})]}):e.jsx(fe,{type:"time",value:g.hora,onChange:k=>h(M=>({...M,hora:k.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Modalidade"}),e.jsxs(Xe,{value:g.modalidade,onValueChange:k=>h(M=>({...M,modalidade:k})),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Selecione a modalidade"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"online",children:"Online"}),e.jsx(ye,{value:"presencial",children:"Presencial"})]})]})]}),g.modalidade==="presencial"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Local"}),e.jsxs("div",{className:"relative",children:[e.jsx(vm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{className:"pl-9",placeholder:"Local de atendimento definido pelo médico",value:g.local,readOnly:!0,disabled:!0})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"O local é definido pelo médico e preenchido automaticamente."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Motivo"}),e.jsx(rt,{rows:3,placeholder:"Descreva o motivo principal da consulta (obrigatório)",value:g.motivo,onChange:C("motivo")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Obrigatório. Ex: dor de cabeça, retorno de exame, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Observações"}),e.jsx(rt,{rows:4,placeholder:"Opcional: descreva sintomas, preferências, etc.",value:g.observacoes,onChange:C("observacoes")})]}),d&&e.jsx("p",{className:"text-sm text-red-500",children:d}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(se,{type:"button",variant:"outline",onClick:()=>p("/paciente/consultas"),disabled:l,children:"Cancelar"}),e.jsx(se,{type:"submit",disabled:l,children:l?"Agendando...":"Agendar Consulta"})]})]})})]})]})}function cT(){const[t,s]=m.useState(!1),[r,o]=m.useState(""),[l,c]=m.useState([]),[d,f]=m.useState(0),[x,p]=m.useState(""),[g,h]=m.useState(1),[j]=m.useState(10);m.useEffect(()=>{let L=!0;const K=setTimeout(async()=>{s(!0),o("");try{const J={search:x||void 0,page:g,limit:j},Q=await vt.getUsuarios(J),le=Array.isArray(Q==null?void 0:Q.results)?Q.results:Array.isArray(Q)?Q:[],we=typeof(Q==null?void 0:Q.count)=="number"?Q.count:le.length;if(!L)return;c(le),f(we)}catch{if(!L)return;o("Não foi possível carregar os usuários.")}finally{L&&s(!1)}},300);return()=>{L=!1,clearTimeout(K)}},[x,g,j]);const S=m.useMemo(()=>Math.max(1,Math.ceil(d/j)),[d,j]),[b,y]=m.useState(new Set),[N,C]=m.useState(!1),[E,_]=m.useState(!1),[R,k]=m.useState(!1),[M,O]=m.useState(""),[P,I]=m.useState(null),[D,F]=m.useState(!1),[V,re]=m.useState(!1),[$,G]=m.useState(""),[z,H]=m.useState({first_name:"",last_name:"",email:"",password:"",role:""}),W=()=>{if(l.length===0)return;const L=l.map(J=>J==null?void 0:J.id).filter(Boolean),K=L.every(J=>b.has(J));y(K?new Set:new Set(L))},X=L=>{L&&y(K=>{const J=new Set(K);return J.has(L)?J.delete(L):J.add(L),J})},te=async()=>{const L=Array.from(b);if(L.length===0){window.alert("Selecione ao menos um usuário com ID válido.");return}if(window.confirm(`Confirma excluir ${L.length} usuário(s)?`))try{C(!0),await vt.removerUsuariosEmMassa(L),y(new Set),s(!0),o("");const K={search:x||void 0,page:g,limit:j},J=await vt.getUsuarios(K),Q=Array.isArray(J==null?void 0:J.results)?J.results:Array.isArray(J)?J:[],le=typeof(J==null?void 0:J.count)=="number"?J.count:Q.length;c(Q),f(le)}catch{window.alert("Falha ao excluir usuários selecionados.")}finally{C(!1),s(!1)}},T=L=>{if(!L)return;const K=L.first_name||L.firstName||"",J=L.last_name||L.lastName||"",Q=L.email||"",le=(L.role||L.tipo||"").toString().toLowerCase(),we=L.is_active??L.ativo??!0;I({id:L.id,first_name:K,last_name:J,email:Q,role:le,is_active:we}),O(""),_(!0)},U=async()=>{if(!(P!=null&&P.id)){O("ID do usuário indisponível.");return}try{k(!0),O("");const L={first_name:P.first_name,last_name:P.last_name,email:P.email,role:P.role,is_active:!!P.is_active};await vt.updateUsuario(P.id,L),_(!1),s(!0),o("");const K={search:x||void 0,page:g,limit:j},J=await vt.getUsuarios(K),Q=Array.isArray(J==null?void 0:J.results)?J.results:Array.isArray(J)?J:[],le=typeof(J==null?void 0:J.count)=="number"?J.count:Q.length;c(Q),f(le)}catch{O("Não foi possível salvar as alterações.")}finally{k(!1),s(!1)}},Z=async()=>{var L;if(!z.email||!z.password||!z.role){G("Preencha e-mail, senha e tipo.");return}try{re(!0),G("");const K={first_name:z.first_name,last_name:z.last_name,email:z.email,password:z.password,role:z.role};await vt.createUsuario(K),F(!1),H({first_name:"",last_name:"",email:"",password:"",role:""}),s(!0),o("");const J={search:x||void 0,page:g,limit:j},Q=await vt.getUsuarios(J),le=Array.isArray(Q==null?void 0:Q.results)?Q.results:Array.isArray(Q)?Q:[],we=typeof(Q==null?void 0:Q.count)=="number"?Q.count:le.length;c(le),f(we)}catch(K){const J=(L=K==null?void 0:K.response)!=null&&L.data?JSON.stringify(K.response.data):"Não foi possível criar o usuário.";G(J)}finally{re(!1),s(!1)}};return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usuários"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os usuários do sistema"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, email...",value:x,onChange:L=>{h(1),p(L.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${d} usuário(s)`}),e.jsxs("div",{className:"ml-auto flex gap-2",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:()=>{G(""),H({first_name:"",last_name:"",email:"",password:"",role:""}),F(!0)},disabled:t,children:"Novo usuário"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-red-600 text-white disabled:opacity-50",onClick:te,disabled:N||b.size===0||t,title:b.size===0?"Selecione usuários":"Excluir selecionados",children:N?"Excluindo...":`Excluir selecionados (${b.size})`})]})]}),r&&e.jsx("div",{className:"text-sm text-red-600",children:r}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:e.jsx("input",{type:"checkbox",checked:l.length>0&&l.map(L=>L==null?void 0:L.id).filter(Boolean).every(L=>b.has(L)),onChange:W})}),e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Tipo"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Ações"})]})}),e.jsxs("tbody",{children:[l.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Nenhum usuário encontrado"})}),l.map(L=>{const K=(L==null?void 0:L.nome)||[L==null?void 0:L.first_name,L==null?void 0:L.last_name].filter(Boolean).join(" ")||(L==null?void 0:L.name)||(L==null?void 0:L.username)||"-",J=(L==null?void 0:L.email)||"-",Q=(L==null?void 0:L.tipo)||(L==null?void 0:L.role)||(L==null?void 0:L.perfil)||"-",le=(L==null?void 0:L.is_active)??(L==null?void 0:L.ativo)??(L==null?void 0:L.status)??null,we=le===!0?"Ativo":le===!1?"Inativo":String(le??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"checkbox",disabled:!(L!=null&&L.id),checked:L!=null&&L.id?b.has(L.id):!1,onChange:()=>X(L==null?void 0:L.id)})}),e.jsx("td",{className:"p-3",children:K}),e.jsx("td",{className:"p-3",children:J}),e.jsx("td",{className:"p-3 capitalize",children:String(Q).toLowerCase()}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${le===!0?"bg-emerald-100 text-emerald-700":le===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:we})}),e.jsx("td",{className:"p-3",children:e.jsx("button",{className:"px-3 py-1 border rounded-md text-xs",onClick:()=>T(L),disabled:!(L!=null&&L.id),title:L!=null&&L.id?"Editar usuário":"ID indisponível",children:"Editar"})})]},(L==null?void 0:L.id)||`${J}-${K}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(L=>Math.max(1,L-1)),disabled:g<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",g," de ",S]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(L=>Math.min(S,L+1)),disabled:g>=S||t,children:"Próxima"})]}),E&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Editar usuário"}),M&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:M}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(P==null?void 0:P.first_name)||"",onChange:L=>I(K=>({...K,first_name:L.target.value})),disabled:R})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(P==null?void 0:P.last_name)||"",onChange:L=>I(K=>({...K,last_name:L.target.value})),disabled:R})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(P==null?void 0:P.email)||"",onChange:L=>I(K=>({...K,email:L.target.value})),disabled:R})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:(P==null?void 0:P.role)||"",onChange:L=>I(K=>({...K,role:L.target.value})),disabled:R,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Médico"}),e.jsx("option",{value:"clinica",children:"Clínica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Ativo"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!(P!=null&&P.is_active),onChange:L=>I(K=>({...K,is_active:L.target.checked})),disabled:R}),e.jsx("span",{className:"text-sm",children:P!=null&&P.is_active?"Ativo":"Inativo"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>_(!1),disabled:R,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:U,disabled:R,children:R?"Salvando...":"Salvar"})]})]})}),D&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-md bg-background p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Novo usuário"}),$&&e.jsx("div",{className:"text-sm text-red-600 mb-2",children:$}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Nome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:z.first_name,onChange:L=>H(K=>({...K,first_name:L.target.value})),disabled:V})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Sobrenome"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:z.last_name,onChange:L=>H(K=>({...K,last_name:L.target.value})),disabled:V})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"E-mail"}),e.jsx("input",{className:"w-full px-3 py-2 border rounded-md bg-background",value:z.email,onChange:L=>H(K=>({...K,email:L.target.value})),disabled:V})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Senha"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-md bg-background",value:z.password,onChange:L=>H(K=>({...K,password:L.target.value})),disabled:V})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm",children:"Tipo"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md bg-background",value:z.role,onChange:L=>H(K=>({...K,role:L.target.value})),disabled:V,children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"paciente",children:"Paciente"}),e.jsx("option",{value:"medico",children:"Médico"}),e.jsx("option",{value:"clinica",children:"Clínica"}),e.jsx("option",{value:"secretaria",children:"Secretaria"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm",onClick:()=>F(!1),disabled:V,children:"Cancelar"}),e.jsx("button",{className:"px-3 py-2 border rounded-md text-sm bg-primary text-primary-foreground disabled:opacity-50",onClick:Z,disabled:V,children:V?"Criando...":"Criar"})]})]})})]})}function dT(){const[t,s]=m.useState(!1),[r,o]=m.useState(""),[l,c]=m.useState([]),[d,f]=m.useState(0),[x,p]=m.useState(""),[g,h]=m.useState(1),[j]=m.useState(10);m.useEffect(()=>{let b=!0;const y=setTimeout(async()=>{s(!0),o("");try{const N={search:x||void 0,page:g,limit:j},C=await vt.getClinicas(N),E=Array.isArray(C==null?void 0:C.results)?C.results:Array.isArray(C)?C:[],_=typeof(C==null?void 0:C.count)=="number"?C.count:E.length;if(!b)return;c(E),f(_)}catch{if(!b)return;o("Não foi possível carregar as clínicas.")}finally{b&&s(!1)}},300);return()=>{b=!1,clearTimeout(y)}},[x,g,j]);const S=m.useMemo(()=>Math.max(1,Math.ceil(d/j)),[d,j]);return e.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clínicas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie os cadastros de clínicas"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ...",value:x,onChange:b=>{h(1),p(b.target.value)},className:"w-full md:w-64 px-3 py-2 border rounded-md bg-background"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Carregando...":`${d} clínica(s)`})]}),r&&e.jsx("div",{className:"text-sm text-red-600",children:r}),e.jsx("div",{className:"overflow-auto rounded-md border",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Nome"}),e.jsx("th",{className:"text-left p-3",children:"CNPJ"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Status"})]})}),e.jsxs("tbody",{children:[l.length===0&&!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"Nenhuma clínica encontrada"})}),l.map(b=>{const y=(b==null?void 0:b.razao_social)||(b==null?void 0:b.nome)||(b==null?void 0:b.name)||"-",N=(b==null?void 0:b.cnpj)||"-",C=(b==null?void 0:b.email)||(b==null?void 0:b.contato_email)||"-",E=(b==null?void 0:b.is_active)??(b==null?void 0:b.ativo)??(b==null?void 0:b.status)??null,_=E===!0?"Ativa":E===!1?"Inativa":String(E??"-");return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:y}),e.jsx("td",{className:"p-3",children:N}),e.jsx("td",{className:"p-3",children:C}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${E===!0?"bg-emerald-100 text-emerald-700":E===!1?"bg-zinc-100 text-zinc-700":"bg-muted text-muted-foreground"}`,children:_})})]},(b==null?void 0:b.id)||`${y}-${N}`)})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(b=>Math.max(1,b-1)),disabled:g<=1||t,children:"Anterior"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",g," de ",S]}),e.jsx("button",{className:"px-3 py-1 border rounded-md text-sm disabled:opacity-50",onClick:()=>h(b=>Math.min(S,b+1)),disabled:g>=S||t,children:"Próxima"})]})]})}function uT(){const{toast:t}=Et(),[s,r]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(""),[f,x]=m.useState({first_name:"",last_name:"",email:"",telefone:""}),[p,g]=m.useState({atual:"",nova:"",confirmar:""}),[h,j]=m.useState(!1),[S,b]=m.useState({email:!0,sistema:!0,auditoria:!0,push:!1}),[y,N]=m.useState(!1),[C,E]=m.useState(()=>localStorage.getItem("admin_lang")||"pt-BR"),_=I=>b(D=>({...D,[I]:!D[I]}));m.useEffect(()=>{let I=!0;return(async()=>{var D;try{r(!0),d("");const F=await tt.getPerfil();if(!I)return;x({first_name:(F==null?void 0:F.first_name)||"",last_name:(F==null?void 0:F.last_name)||"",email:(F==null?void 0:F.email)||"",telefone:(F==null?void 0:F.telefone)||""});try{const V=localStorage.getItem("admin_notification_prefs");V&&b(re=>({...re,...JSON.parse(V)}))}catch{}}catch(F){if(!I)return;const V=(D=F==null?void 0:F.response)==null?void 0:D.status;d(V===401?"Sessão inválida. Faça login novamente.":"Não foi possível carregar seu perfil.")}finally{I&&r(!1)}})(),()=>{I=!1}},[]);const R=I=>{const{name:D,value:F}=I.target;x(V=>({...V,[D]:F}))},k=async()=>{var I;l(!0),d("");try{await tt.atualizarPerfil({first_name:f.first_name,last_name:f.last_name,email:f.email,telefone:f.telefone}),t({title:"Perfil atualizado",description:"As informações foram salvas com sucesso."})}catch(D){const V=((I=D==null?void 0:D.response)==null?void 0:I.status)===400?"Dados inválidos. Verifique os campos.":"Não foi possível salvar as alterações.";d(V),t({title:"Erro",description:V,variant:"destructive"})}finally{l(!1)}},M=async()=>{if(!p.atual||!p.nova||!p.confirmar){t({title:"Validação",description:"Preencha todos os campos de senha.",variant:"destructive"});return}if(p.nova!==p.confirmar){t({title:"Validação",description:"A confirmação da nova senha não confere.",variant:"destructive"});return}j(!0);try{await new Promise(I=>setTimeout(I,600)),t({title:"Em breve",description:"Alteração de senha será integrada ao backend.",variant:"default"}),g({atual:"",nova:"",confirmar:""})}finally{j(!1)}},O=async()=>{N(!0);try{localStorage.setItem("admin_notification_prefs",JSON.stringify(S)),t({title:"Notificações salvas",description:"Preferências armazenadas neste dispositivo."})}catch{t({title:"Erro",description:"Não foi possível salvar as preferências.",variant:"destructive"})}finally{N(!1)}},P=()=>{localStorage.setItem("admin_lang",C),t({title:"Idioma atualizado",description:`Idioma definido para ${C}.`})};return e.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações (Admin)"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e preferências administrativas"})]}),e.jsxs(ts,{defaultValue:"perfil",className:"space-y-6",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(at,{value:"perfil",children:"Perfil"}),e.jsx(at,{value:"seguranca",children:"Segurança"}),e.jsx(at,{value:"notificacoes",children:"Notificações"}),e.jsx(at,{value:"sistema",children:"Sistema"})]}),e.jsx(ct,{value:"perfil",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Informações do Perfil"})}),e.jsxs(ce,{className:"space-y-4",children:[c&&e.jsx("p",{className:"text-sm text-red-500",children:c}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"first_name",children:"Nome"}),e.jsx(fe,{id:"first_name",name:"first_name",value:f.first_name,onChange:R,disabled:s||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"last_name",children:"Sobrenome"}),e.jsx(fe,{id:"last_name",name:"last_name",value:f.last_name,onChange:R,disabled:s||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"email",children:"E-mail"}),e.jsx(fe,{id:"email",name:"email",type:"email",value:f.email,onChange:R,disabled:s||o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"telefone",children:"Telefone"}),e.jsx(fe,{id:"telefone",name:"telefone",value:f.telefone,onChange:R,disabled:s||o})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(se,{onClick:k,disabled:s||o,children:o?"Salvando...":"Salvar alterações"})})]})]})}),e.jsx(ct,{value:"seguranca",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Segurança"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"pwd_atual",children:"Senha atual"}),e.jsx(fe,{id:"pwd_atual",type:"password",value:p.atual,onChange:I=>g(D=>({...D,atual:I.target.value})),disabled:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"pwd_nova",children:"Nova senha"}),e.jsx(fe,{id:"pwd_nova",type:"password",value:p.nova,onChange:I=>g(D=>({...D,nova:I.target.value})),disabled:h})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"pwd_confirmar",children:"Confirmar nova senha"}),e.jsx(fe,{id:"pwd_confirmar",type:"password",value:p.confirmar,onChange:I=>g(D=>({...D,confirmar:I.target.value})),disabled:h})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(se,{onClick:M,disabled:h,children:h?"Processando...":"Alterar senha"})})]})]})}),e.jsx(ct,{value:"notificacoes",children:e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Preferências de Notificação"}),e.jsx(Le,{children:"Configure como você deseja receber notificações"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações por Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações importantes por email"})]}),e.jsx(se,{variant:"outline",size:"sm",onClick:()=>_("email"),disabled:y,children:S.email?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Eventos do Sistema"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos sobre operações e eventos administrativos"})]}),e.jsx(se,{variant:"outline",size:"sm",onClick:()=>_("sistema"),disabled:y,children:S.sistema?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Alterações e Auditoria"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifique mudanças críticas e logs de auditoria"})]}),e.jsx(se,{variant:"outline",size:"sm",onClick:()=>_("auditoria"),disabled:y,children:S.auditoria?"Ativado":"Desativado"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Notificações Push"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações no navegador"})]}),e.jsx(se,{variant:"outline",size:"sm",onClick:()=>_("push"),disabled:y,children:S.push?"Ativado":"Desativado"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(se,{onClick:O,disabled:y,children:y?"Salvando...":"Salvar Preferências"})})]})]})}),e.jsx(ct,{value:"sistema",children:e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Sistema"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Tema"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(sc,{}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Alterne entre claro/escuro"})]})]}),e.jsx(Dn,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{children:"Idioma"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{className:"border rounded px-2 py-1",value:C,onChange:I=>E(I.target.value),children:[e.jsx("option",{value:"pt-BR",children:"Português (Brasil)"}),e.jsx("option",{value:"en-US",children:"English (US)"})]}),e.jsx(se,{variant:"outline",onClick:P,children:"Aplicar"})]})]})]})]})})]})]})}const hs={async getPerfil(){const{data:t}=await xe.get("/secretarias/me/");return t},async listarMedicos(){const{data:t}=await xe.get("/medicos/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async listarClinicas(){const{data:t}=await xe.get("/clinicas/");return Array.isArray(t==null?void 0:t.results)?t.results:t},async getConsultasDoMedico(t,s={}){const r="/consultas/",o=t?`${r}?medico=${t}`:r,{data:l}=await xe.get(o,{params:s});return l},async agendarConsulta(t){const s="/agendamentos/",{data:r}=await xe.post(s,t);return r},async atualizarConsulta(t,s){const r=`/agendamentos/${t}/`,{data:o}=await xe.patch(r,s);return o},async atualizarStatus(t,s){const r=`/agendamentos/${t}/`,{data:o}=await xe.patch(r,{status:s});return o},async confirmarConsulta(t){const s=`/agendamentos/${t}/confirmar/`,{data:r}=await xe.post(s);return r},async cancelarConsulta(t,s){const r=`/agendamentos/${t}/cancelar/`,{data:o}=await xe.post(r,{motivo:s});return o},async registrarPresenca(t){const s=`/agendamentos/${t}/presenca/`,{data:r}=await xe.post(s);return r},async registrarPaciente(t){const s="/auth/register/",r=String((t==null?void 0:t.nome)||"").trim(),[o,...l]=r.split(/\s+/),c=l.join(" "),d=String((t==null?void 0:t.email)||"").trim(),f=String((t==null?void 0:t.senha)||(t==null?void 0:t.password)||""),g={username:`${(d.split("@")[0]||o||"paciente").toLowerCase().replace(/[^a-z0-9]/g,"")}${Math.floor(Math.random()*1e4)}`,email:d,password:f,first_name:o,last_name:c,role:"paciente",cpf:(t==null?void 0:t.cpf)||"",telefone:(t==null?void 0:t.telefone)||"",data_nascimento:(t==null?void 0:t.data_nascimento)||"",endereco:(t==null?void 0:t.endereco)||""},{data:h}=await xe.post(s,g,{});return h}};function mT(t){var r,o,l;if(!t)return"—";const s=[(r=t==null?void 0:t.user)==null?void 0:r.first_name,(o=t==null?void 0:t.user)==null?void 0:o.last_name].filter(Boolean).join(" ").trim();return(t==null?void 0:t.nome)||s||((l=t==null?void 0:t.user)==null?void 0:l.username)||`Médico #${(t==null?void 0:t.id)??"?"}`}function fT(t={}){var c,d,f;const s=t.paciente_nome||((c=t==null?void 0:t.paciente)==null?void 0:c.nome)||((d=t==null?void 0:t.paciente)!=null&&d.user?[t.paciente.user.first_name,t.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",r=t.data_hora||t.horario||t.inicio||t.data||t.start_time||"",o=t.status||"Agendada",l=t.clinica_nome||((f=t==null?void 0:t.clinica)==null?void 0:f.nome)||t.local||"—";return{id:t.id||t.consulta_id||Math.random().toString(36).slice(2),pacienteNome:s,dataHora:r,status:o,clinica:l,tipo:t.tipo||t.modalidade||"Consulta"}}function pT(){const[t,s]=m.useState([]),[r,o]=m.useState(null),[l,c]=m.useState(!0),[d,f]=m.useState(!1),[x,p]=m.useState([]),{toast:g}=Et(),[h,j]=m.useState("todas"),[S,b]=m.useState(""),[y,N]=m.useState(!1),[C,E]=m.useState(!1),[_,R]=m.useState({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),[k,M]=m.useState(""),[O,P]=m.useState(!1),[I,D]=m.useState([]);m.useEffect(()=>{let T=!0;return(async()=>{var U;c(!0);try{const Z=await hs.listarMedicos();if(!T)return;s(Array.isArray(Z)?Z:[]);const L=localStorage.getItem("secretaria.medicoId"),J=L&&(Z==null?void 0:Z.some(Q=>String(Q.id)===String(L)))?L:(U=Z==null?void 0:Z[0])==null?void 0:U.id;J&&o(String(J))}finally{T&&c(!1)}})(),()=>{T=!1}},[]);async function F(T){const U=T??r;if(U){f(!0);try{localStorage.setItem("secretaria.medicoId",String(U));const Z=await gt.getConsultasHoje(U),L=Array.isArray(Z)?Z:Array.isArray(Z==null?void 0:Z.results)?Z.results:[];p(L.map(fT))}catch{p([])}finally{f(!1)}}}m.useEffect(()=>((async()=>r&&await F(r))(),()=>{}),[r]);const V=m.useMemo(()=>t.map(T=>({value:String(T.id),label:mT(T)})),[t]),re=m.useMemo(()=>{const T=(S||"").toLowerCase().trim();return x.filter(U=>{const Z=String(U.status||"").toLowerCase(),L=h==="todas"||h==="pendentes"&&(Z.includes("agend")||Z.includes("pend"))||h==="confirmadas"&&Z.includes("confirm")||h==="canceladas"&&Z.includes("cancel")||h==="realizadas"&&(Z.includes("realiz")||Z.includes("conclu")||Z.includes("final")),K=T?(U.pacienteNome||"").toLowerCase().includes(T):!0;return L&&K})},[x,h,S]);function $(T){if(!T)return"—";try{return new Date(T).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return String(T).slice(11,16)||"—"}}const G=(T,U)=>{p(Z=>Z.map(L=>String(L.id)===String(T)?{...L,status:U}:L))},z=async T=>{try{await hs.confirmarConsulta(T.id),G(T.id,"Confirmada"),g({title:"Consulta confirmada",description:`Paciente ${T.pacienteNome} às ${$(T.dataHora)}`})}catch{g({title:"Erro",description:"Não foi possível confirmar a consulta.",variant:"destructive"})}},H=async T=>{try{await hs.cancelarConsulta(T.id),G(T.id,"Cancelada"),g({title:"Consulta cancelada",description:`Paciente ${T.pacienteNome} às ${$(T.dataHora)}`})}catch{g({title:"Erro",description:"Não foi possível cancelar a consulta.",variant:"destructive"})}},W=async T=>{try{await hs.registrarPresenca(T.id),G(T.id,"Realizada"),g({title:"Presença registrada",description:`Paciente ${T.pacienteNome} às ${$(T.dataHora)}`})}catch{g({title:"Erro",description:"Não foi possível registrar a presença.",variant:"destructive"})}};async function X(){P(!0);try{let T=[];if(k&&k.trim().length>1)try{const U=await gt.buscarPacientes(k.trim());T=Array.isArray(U)?U:Array.isArray(U==null?void 0:U.results)?U.results:[]}catch{if(r){const U=await gt.getPacientesVinculados(r),Z=Array.isArray(U)?U:Array.isArray(U==null?void 0:U.results)?U.results:[],L=k.toLowerCase();T=Z.filter(K=>{var Q,le;return[K==null?void 0:K.nome,(Q=K==null?void 0:K.user)==null?void 0:Q.first_name,(le=K==null?void 0:K.user)==null?void 0:le.last_name].filter(Boolean).join(" ").toLowerCase().includes(L)})}}D(T)}finally{P(!1)}}async function te(T){var U,Z,L;if((U=T==null?void 0:T.preventDefault)==null||U.call(T),!r){g({title:"Selecione um médico",description:"Escolha o médico para agendar a consulta.",variant:"destructive"});return}if(!_.pacienteId||!_.data||!_.hora){g({title:"Campos obrigatórios",description:"Informe paciente, data e hora.",variant:"destructive"});return}E(!0);try{await hs.agendarConsulta({paciente:_.pacienteId,medico:r,data:_.data,hora:_.hora,tipo:_.tipo,motivo:_.motivo,observacoes:_.observacoes}),g({title:"Consulta agendada",description:"O agendamento foi criado com sucesso."}),N(!1),R({pacienteId:"",data:"",hora:"",tipo:"primeira",motivo:"",observacoes:""}),M(""),D([]),await F(r)}catch(K){const J=((L=(Z=K==null?void 0:K.response)==null?void 0:Z.data)==null?void 0:L.detail)||"Não foi possível agendar. Verifique os dados.";g({title:"Erro ao agendar",description:J,variant:"destructive"})}finally{E(!1)}}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(jt,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard da Secretária"})]}),e.jsxs(ie,{children:[e.jsxs(de,{children:[e.jsx(me,{children:"Selecione o médico"}),e.jsx(Le,{children:"Visualize rapidamente as consultas de hoje do médico selecionado."})]}),e.jsx(ce,{children:l?e.jsx(Ke,{className:"h-10 w-72"}):e.jsx("div",{className:"w-72",children:e.jsxs(Xe,{value:r??void 0,onValueChange:T=>o(T),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Escolha um médico"})}),e.jsx(Je,{children:V.map(T=>e.jsx(ye,{value:T.value,children:T.label},T.value))})]})})})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"})," Consultas de hoje"]}),e.jsx(Le,{children:d?"Carregando...":`${re.length} consulta(s) encontrada(s)`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{to:"/secretaria/pacientes",children:e.jsxs(se,{variant:"outline",className:"whitespace-nowrap",children:[e.jsx(It,{className:"h-4 w-4 mr-1"})," Pacientes"]})}),e.jsxs(Lo,{open:y,onOpenChange:N,children:[e.jsx(I0,{asChild:!0,children:e.jsx(se,{variant:"default",className:"whitespace-nowrap",children:"+ Agendar consulta"})}),e.jsxs(gr,{children:[e.jsx(vr,{children:e.jsx(jr,{children:"Novo agendamento"})}),e.jsxs("form",{onSubmit:te,className:"px-6 pb-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Xe,{value:r??void 0,onValueChange:o,children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Escolha um médico"})}),e.jsx(Je,{children:V.map(T=>e.jsx(ye,{value:T.value,children:T.label},T.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Paciente"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{placeholder:"Nome, CPF ou código",value:k,onChange:T=>M(T.target.value)}),e.jsx(se,{type:"button",variant:"secondary",onClick:X,disabled:O,children:O?"Buscando...":"Buscar"})]}),(I==null?void 0:I.length)>0&&e.jsx("div",{className:"mt-2",children:e.jsxs(Xe,{value:_.pacienteId||void 0,onValueChange:T=>R(U=>({...U,pacienteId:T})),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Selecione o paciente"})}),e.jsx(Je,{children:I.map(T=>{var Z,L,K;const U=(T==null?void 0:T.nome)||[(Z=T==null?void 0:T.user)==null?void 0:Z.first_name,(L=T==null?void 0:T.user)==null?void 0:L.last_name].filter(Boolean).join(" ")||((K=T==null?void 0:T.user)==null?void 0:K.username)||`Paciente #${T==null?void 0:T.id}`;return e.jsx(ye,{value:String(T.id),children:U},T.id)})})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(fe,{type:"date",value:_.data,onChange:T=>R(U=>({...U,data:T.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Hora"}),e.jsx(fe,{type:"time",value:_.hora,onChange:T=>R(U=>({...U,hora:T.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Tipo"}),e.jsxs(Xe,{value:_.tipo,onValueChange:T=>R(U=>({...U,tipo:T})),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Tipo de consulta"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"primeira",children:"Primeira consulta"}),e.jsx(ye,{value:"retorno",children:"Retorno"}),e.jsx(ye,{value:"rotina",children:"Rotina"}),e.jsx(ye,{value:"urgencia",children:"Urgência"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Motivo"}),e.jsx(fe,{value:_.motivo,onChange:T=>R(U=>({...U,motivo:T.target.value}))})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Observações"}),e.jsx(rt,{rows:3,value:_.observacoes,onChange:T=>R(U=>({...U,observacoes:T.target.value}))})]})]}),e.jsxs(yr,{children:[e.jsx(se,{type:"button",variant:"outline",onClick:()=>N(!1),disabled:C,children:"Cancelar"}),e.jsx(se,{type:"submit",disabled:C,children:C?"Agendando...":"Agendar"})]})]})]})]})]})]})}),e.jsxs(ce,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsxs(Xe,{value:h,onValueChange:j,children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Filtrar por status"})}),e.jsxs(Je,{children:[e.jsx(ye,{value:"todas",children:"Todas"}),e.jsx(ye,{value:"pendentes",children:"Pendentes"}),e.jsx(ye,{value:"confirmadas",children:"Confirmadas"}),e.jsx(ye,{value:"canceladas",children:"Canceladas"}),e.jsx(ye,{value:"realizadas",children:"Realizadas"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Buscar paciente"}),e.jsxs("div",{className:"relative",children:[e.jsx(On,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fe,{className:"pl-10",placeholder:"Ex.: Ana, 123.456.789-00 ou #123",value:S,onChange:T=>b(T.target.value)})]})]})]}),d?e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{className:"h-6 w-full"}),e.jsx(Ke,{className:"h-6 w-3/4"}),e.jsx(Ke,{className:"h-6 w-2/4"})]}):re.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta para hoje com os filtros aplicados."}):e.jsxs(ss,{children:[e.jsx(as,{children:e.jsxs(wt,{children:[e.jsx(Be,{children:"Paciente"}),e.jsx(Be,{children:"Data/Hora"}),e.jsx(Be,{children:"Tipo"}),e.jsx(Be,{children:"Status"}),e.jsx(Be,{children:"Clínica"}),e.jsx(Be,{className:"w-[1%] text-right",children:"Ações"})]})}),e.jsx(rs,{children:re.map(T=>{const U=String(T.status||"").toLowerCase(),Z=U.includes("agend")||U.includes("pend"),L=!U.includes("cancel")&&!U.includes("realiz")&&!U.includes("conclu"),K=U.includes("confirm")||U.includes("agend");return e.jsxs(wt,{children:[e.jsxs($e,{className:"font-medium flex items-center gap-2",children:[e.jsx(It,{className:"h-4 w-4"})," ",T.pacienteNome]}),e.jsx($e,{children:T.dataHora?new Date(T.dataHora).toLocaleString():"—"}),e.jsx($e,{children:T.tipo}),e.jsx($e,{children:T.status}),e.jsx($e,{children:T.clinica}),e.jsx($e,{children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs(se,{size:"sm",variant:"outline",disabled:!Z,onClick:()=>z(T),children:[e.jsx(sv,{className:"h-4 w-4 mr-1"})," Confirmar"]}),e.jsxs(se,{size:"sm",variant:"destructive",disabled:!L,onClick:()=>H(T),children:[e.jsx(xs,{className:"h-4 w-4 mr-1"})," Cancelar"]}),e.jsxs(se,{size:"sm",variant:"secondary",disabled:!K,onClick:()=>W(T),children:[e.jsx(jC,{className:"h-4 w-4 mr-1"})," Presença"]})]})})]},T.id)})})]})]})]})]})}function hT(t={}){var c,d,f;const s=t.paciente_nome||((c=t==null?void 0:t.paciente)==null?void 0:c.nome)||((d=t==null?void 0:t.paciente)!=null&&d.user?[t.paciente.user.first_name,t.paciente.user.last_name].filter(Boolean).join(" "):null)||"Paciente",r=t.data_hora||t.horario||t.inicio||t.data||t.start_time||"",o=t.status||"Agendada",l=t.clinica_nome||((f=t==null?void 0:t.clinica)==null?void 0:f.nome)||t.local||"—";return{id:t.id||t.consulta_id||Math.random().toString(36).slice(2),pacienteNome:s,dataHora:r,status:o,clinica:l,tipo:t.tipo||t.modalidade||"Consulta"}}function xT(){const[t,s]=m.useState([]),[r,o]=m.useState(""),[l,c]=m.useState(""),[d,f]=m.useState(""),[x,p]=m.useState(!1),[g,h]=m.useState([]);m.useEffect(()=>{let b=!0;return(async()=>{try{const y=await hs.listarMedicos();if(!b)return;s(Array.isArray(y)?y:[]);const N=localStorage.getItem("secretaria.medicoId");N&&o(String(N))}catch{}})(),()=>{b=!1}},[]);const j=async()=>{if(!r)return h([]);p(!0);try{localStorage.setItem("secretaria.medicoId",String(r));const b={};d&&(b.date=d);const y=await gt.getConsultasDoMedico({...b,medico:r}),C=(Array.isArray(y)?y:Array.isArray(y==null?void 0:y.results)?y.results:[]).map(hT);h(l?C.filter(E=>E.pacienteNome.toLowerCase().includes(l.toLowerCase())):C)}catch{h([])}finally{p(!1)}};m.useEffect(()=>{j()},[r]);const S=m.useMemo(()=>t.map(b=>{var y;return{value:String(b.id),label:b.nome||((y=b==null?void 0:b.user)==null?void 0:y.first_name)||`Médico #${b.id}`}}),[t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ve,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Consultas"})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-5 w-5"})," Filtros"]})}),e.jsx(ce,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Xe,{value:r||void 0,onValueChange:b=>o(b),children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Escolha um médico"})}),e.jsx(Je,{children:S.map(b=>e.jsx(ye,{value:b.value,children:b.label},b.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data"}),e.jsx(fe,{type:"date",value:d,onChange:b=>f(b.target.value)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar por paciente"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{placeholder:"Nome do paciente",value:l,onChange:b=>c(b.target.value)}),e.jsxs(se,{onClick:j,children:[e.jsx(On,{className:"h-4 w-4 mr-2"}),"Buscar"]})]})]})]})})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Resultados"})}),e.jsx(ce,{children:x?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):g.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma consulta encontrada."}):e.jsxs(ss,{children:[e.jsx(as,{children:e.jsxs(wt,{children:[e.jsx(Be,{children:"Paciente"}),e.jsx(Be,{children:"Data/Hora"}),e.jsx(Be,{children:"Tipo"}),e.jsx(Be,{children:"Status"}),e.jsx(Be,{children:"Clínica"})]})}),e.jsx(rs,{children:g.map(b=>e.jsxs(wt,{children:[e.jsx($e,{children:b.pacienteNome}),e.jsx($e,{children:b.dataHora||"—"}),e.jsx($e,{children:b.tipo}),e.jsx($e,{children:b.status}),e.jsx($e,{children:b.clinica})]},b.id))})]})})]})]})}function ug(t={}){const s=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[s.first_name,s.last_name].filter(Boolean).join(" ")||s.username||`Paciente #${(t==null?void 0:t.id)||"?"}`}function gT(){const[t,s]=m.useState([]),[r,o]=m.useState(""),[l,c]=m.useState(""),[d,f]=m.useState(!1),[x,p]=m.useState([]),{toast:g}=Et(),[h,j]=m.useState(!1),[S,b]=m.useState(!1),[y,N]=m.useState({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""}),C=M=>{const O=String(M||"").replace(/\D/g,"").slice(0,11),P=O.slice(0,3),I=O.slice(3,6),D=O.slice(6,9),F=O.slice(9,11);return O.length>9?`${P}.${I}.${D}-${F}`:O.length>6?`${P}.${I}.${D}`:O.length>3?`${P}.${I}`:P},E=M=>{const{name:O,value:P}=M.target;if(O==="cpf")return N(I=>({...I,cpf:C(P)}));N(I=>({...I,[O]:P}))};m.useEffect(()=>{let M=!0;return(async()=>{try{const O=await hs.listarMedicos();if(!M)return;s(Array.isArray(O)?O:[]);const P=localStorage.getItem("secretaria.medicoId");P&&o(String(P))}catch{}})(),()=>{M=!1}},[]);const _=async()=>{if(!r)return p([]);f(!0);try{const M=await gt.getPacientesVinculados(r),O=Array.isArray(M)?M:Array.isArray(M==null?void 0:M.results)?M.results:[];p(O)}catch{p([])}finally{f(!1)}};m.useEffect(()=>{_()},[r]);const R=m.useMemo(()=>x.filter(M=>ug(M).toLowerCase().includes(l.toLowerCase())),[x,l]),k=async M=>{var O,P;if((O=M==null?void 0:M.preventDefault)==null||O.call(M),!y.nome||!y.email||!y.senha||!y.confirmSenha){g({title:"Campos obrigatórios",description:"Preencha nome, email e senha.",variant:"destructive"});return}if(y.senha!==y.confirmSenha){g({title:"Senhas não conferem",description:"A confirmação deve ser igual à senha.",variant:"destructive"});return}b(!0);try{await hs.registrarPaciente(y),g({title:"Paciente cadastrado",description:"O paciente foi criado com sucesso. Ele aparecerá na lista do médico após o primeiro vínculo (ex.: agendamento de consulta)."}),j(!1),N({nome:"",email:"",cpf:"",telefone:"",data_nascimento:"",endereco:"",senha:"",confirmSenha:""})}catch(I){const D=(P=I==null?void 0:I.response)!=null&&P.data?JSON.stringify(I.response.data):(I==null?void 0:I.message)||"Falha ao cadastrar";g({title:"Erro ao cadastrar",description:D,variant:"destructive"})}finally{b(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Yt,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Pacientes"})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2 justify-between",children:[e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(On,{className:"h-5 w-5"})," Filtros"]}),e.jsxs(Lo,{open:h,onOpenChange:j,children:[e.jsx(I0,{asChild:!0,children:e.jsxs("button",{className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(jm,{className:"h-4 w-4 mr-2"})," Cadastrar Paciente"]})}),e.jsxs(gr,{className:"max-w-lg",children:[e.jsxs(vr,{children:[e.jsx(jr,{children:"Novo Paciente"}),e.jsx(cc,{children:"Preencha os dados básicos para criar a conta do paciente."})]}),e.jsxs("form",{className:"space-y-3",onSubmit:k,children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Nome completo"}),e.jsx(fe,{name:"nome",value:y.nome,onChange:E,placeholder:"Ex.: Maria Silva"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"E-mail"}),e.jsx(fe,{name:"email",value:y.email,onChange:E,type:"email",placeholder:"email@exemplo.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"CPF"}),e.jsx(fe,{name:"cpf",value:y.cpf,onChange:E,placeholder:"000.000.000-00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Telefone"}),e.jsx(fe,{name:"telefone",value:y.telefone,onChange:E,placeholder:"(00) 00000-0000"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Data de nascimento"}),e.jsx(fe,{name:"data_nascimento",type:"date",value:y.data_nascimento,onChange:E})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Endereço"}),e.jsx(fe,{name:"endereco",value:y.endereco,onChange:E,placeholder:"Rua, número, bairro"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Senha"}),e.jsx(fe,{name:"senha",type:"password",value:y.senha,onChange:E})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirmar senha"}),e.jsx(fe,{name:"confirmSenha",type:"password",value:y.confirmSenha,onChange:E})]})]}),e.jsxs(yr,{children:[e.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-3 py-2 rounded-md text-sm border mr-2",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:S,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90 disabled:opacity-50",children:S?"Salvando...":"Criar"})]})]})]})]})]})}),e.jsx(ce,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Médico"}),e.jsxs(Xe,{value:r||void 0,onValueChange:M=>{o(M);try{localStorage.setItem("secretaria.medicoId",String(M))}catch{}},children:[e.jsx(Ye,{children:e.jsx(Ze,{placeholder:"Escolha um médico"})}),e.jsx(Je,{children:t.map(M=>{var P,I;const O=(M==null?void 0:M.nome)||[(P=M==null?void 0:M.user)==null?void 0:P.first_name,(I=M==null?void 0:M.user)==null?void 0:I.last_name].filter(Boolean).join(" ")||`Médico #${M==null?void 0:M.id}`;return e.jsx(ye,{value:String(M.id),children:O},M.id)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Pesquisar"}),e.jsx(fe,{placeholder:"Nome do paciente",value:l,onChange:M=>c(M.target.value)})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsxs("button",{onClick:_,className:"inline-flex items-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:opacity-90",children:[e.jsx(jt,{className:"h-4 w-4 mr-2"})," Buscar"]})})]})})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Lista"})}),e.jsx(ce,{children:d?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):R.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum paciente encontrado."}):e.jsxs(ss,{children:[e.jsx(as,{children:e.jsxs(wt,{children:[e.jsx(Be,{children:"Nome"}),e.jsx(Be,{children:"Contato"})]})}),e.jsx(rs,{children:R.map(M=>{var O,P;return e.jsxs(wt,{children:[e.jsx($e,{children:ug(M)}),e.jsxs($e,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx(Ro,{className:"inline h-4 w-4 mr-1"})," ",((O=M==null?void 0:M.user)==null?void 0:O.phone)||"—"]}),e.jsxs("div",{children:[e.jsx(ko,{className:"inline h-4 w-4 mr-1"})," ",((P=M==null?void 0:M.user)==null?void 0:P.email)||"—"]})]})]},M.id)})})]})})]})]})}function mg(t){const s=(t==null?void 0:t.user)||{};return(t==null?void 0:t.nome)||[s.first_name,s.last_name].filter(Boolean).join(" ")||s.username||`Médico #${(t==null?void 0:t.id)||"?"}`}function vT(){const[t,s]=m.useState(""),[r,o]=m.useState([]),[l,c]=m.useState(!0);m.useEffect(()=>{let f=!0;return(async()=>{c(!0);try{const x=await hs.listarMedicos();if(!f)return;o(Array.isArray(x)?x:[])}finally{f&&c(!1)}})(),()=>{f=!1}},[]);const d=m.useMemo(()=>r.filter(f=>mg(f).toLowerCase().includes(t.toLowerCase())),[r,t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(jt,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Médicos"})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(On,{className:"h-5 w-5"})," Buscar"]})}),e.jsx(ce,{children:e.jsx(fe,{placeholder:"Digite o nome do médico",value:t,onChange:f=>s(f.target.value)})})]}),e.jsxs(ie,{children:[e.jsx(de,{children:e.jsx(me,{children:"Resultados"})}),e.jsx(ce,{children:l?e.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):d.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Nenhum médico encontrado."}):e.jsxs(ss,{children:[e.jsx(as,{children:e.jsxs(wt,{children:[e.jsx(Be,{children:"Nome"}),e.jsx(Be,{children:"CRM"}),e.jsx(Be,{children:"Especialidade"}),e.jsx(Be,{children:"Contato"})]})}),e.jsx(rs,{children:d.map(f=>{var x,p;return e.jsxs(wt,{children:[e.jsxs($e,{className:"font-medium flex items-center gap-2",children:[e.jsx(It,{className:"h-4 w-4"})," ",mg(f)]}),e.jsx($e,{children:f.crm||"—"}),e.jsx($e,{children:f.especialidade||"—"}),e.jsxs($e,{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ro,{className:"h-4 w-4"})," ",f.telefone||((x=f==null?void 0:f.user)==null?void 0:x.phone)||"—"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ko,{className:"h-4 w-4"})," ",((p=f==null?void 0:f.user)==null?void 0:p.email)||"—"]})]})]},f.id)})})]})})]})]})}function yT(){return e.jsx(iC,{children:e.jsx(lC,{children:e.jsx(vS,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs(dS,{children:[e.jsx(Me,{path:"/",element:e.jsx(tT,{})}),e.jsx(Me,{path:"/login",element:e.jsx(yP,{})}),e.jsx(Me,{path:"/registrar",element:e.jsx(jP,{})}),e.jsx(Me,{path:"/esqueci-senha",element:e.jsx(wP,{})}),e.jsxs(Me,{path:"/paciente",element:e.jsx(rT,{children:e.jsx(lP,{})}),children:[e.jsx(Me,{index:!0,element:e.jsx(ot,{to:"perfil",replace:!0})}),e.jsx(Me,{path:"perfil",element:e.jsx(SP,{})}),e.jsx(Me,{path:"prontuario",element:e.jsx(CP,{})}),e.jsx(Me,{path:"consultas",element:e.jsx(rA,{})}),e.jsx(Me,{path:"consultas/nova",element:e.jsx(lT,{})}),e.jsx(Me,{path:"exames",element:e.jsx(oA,{})}),e.jsx(Me,{path:"historico-medico",element:e.jsx(lA,{})}),e.jsx(Me,{path:"medicos",element:e.jsx(cA,{})}),e.jsx(Me,{path:"receitas",element:e.jsx(mA,{})}),e.jsx(Me,{path:"configuracoes",element:e.jsx(ku,{})})]}),e.jsxs(Me,{path:"/medico",element:e.jsx(sT,{children:e.jsx(cP,{})}),children:[e.jsx(Me,{index:!0,element:e.jsx(ot,{to:"dashboard",replace:!0})}),e.jsx(Me,{path:"dashboard",element:e.jsx(fA,{})}),e.jsx(Me,{path:"meus-pacientes",element:e.jsx(pA,{})}),e.jsx(Me,{path:"minhas-consultas",element:e.jsx(hA,{})}),e.jsx(Me,{path:"consultas/hoje",element:e.jsx(PA,{})}),e.jsx(Me,{path:"paciente/:id/perfil",element:e.jsx(xA,{})}),e.jsx(Me,{path:"paciente/:id/prontuario",element:e.jsx(gA,{})}),e.jsx(Me,{path:"paciente/:id/exames",element:e.jsx(vA,{})}),e.jsx(Me,{path:"paciente/:id/iniciar-consulta",element:e.jsx(jA,{})}),e.jsx(Me,{path:"paciente/:id/receita/preview",element:e.jsx(AA,{})}),e.jsx(Me,{path:"configuracoes",element:e.jsx(ku,{})})]}),e.jsxs(Me,{path:"/clinica",element:e.jsx(aT,{children:e.jsx(Gj,{})}),children:[e.jsx(Me,{index:!0,element:e.jsx(ot,{to:"dashboard",replace:!0})}),e.jsx(Me,{path:"dashboard",element:e.jsx(TA,{})}),e.jsx(Me,{path:"calendario",element:e.jsx(OA,{})}),e.jsx(Me,{path:"disponibilidade",element:e.jsx(LA,{})}),e.jsx(Me,{path:"exames",element:e.jsx(FA,{})}),e.jsx(Me,{path:"pacientes",element:e.jsx($A,{})}),e.jsx(Me,{path:"medicos",element:e.jsx(zA,{})}),e.jsx(Me,{path:"relatorios",element:e.jsx(BA,{})}),e.jsx(Me,{path:"configuracoes",element:e.jsx(qA,{})})]}),e.jsxs(Me,{path:"/admin",element:e.jsx(oT,{children:e.jsx(dP,{})}),children:[e.jsx(Me,{index:!0,element:e.jsx(ot,{to:"dashboard",replace:!0})}),e.jsx(Me,{path:"dashboard",element:e.jsx(KA,{})}),e.jsx(Me,{path:"solicitacoes",element:e.jsx(GA,{})}),e.jsx(Me,{path:"solicitacoes/:id",element:e.jsx(YA,{})}),e.jsx(Me,{path:"relatorios",element:e.jsx(XA,{})}),e.jsx(Me,{path:"auditoria",element:e.jsx(ZA,{})}),e.jsx(Me,{path:"usuarios",element:e.jsx(cT,{})}),e.jsx(Me,{path:"clinicas",element:e.jsx(dT,{})}),e.jsx(Me,{path:"configuracoes",element:e.jsx(uT,{})})]}),e.jsxs(Me,{path:"/secretaria",element:e.jsx(NP,{children:e.jsx(bP,{})}),children:[e.jsx(Me,{index:!0,element:e.jsx(ot,{to:"dashboard",replace:!0})}),e.jsx(Me,{path:"dashboard",element:e.jsx(pT,{})}),e.jsx(Me,{path:"consultas",element:e.jsx(xT,{})}),e.jsx(Me,{path:"pacientes",element:e.jsx(gT,{})}),e.jsx(Me,{path:"medicos",element:e.jsx(vT,{})}),e.jsx(Me,{path:"configuracoes",element:e.jsx(ku,{})})]}),e.jsx(Me,{path:"*",element:e.jsx("div",{children:"Página não encontrada"})})]})})})})}var ef="ToastProvider",[tf,jT,wT]=Zl("Toast"),[U0,p4]=Xn("Toast",[wT]),[NT,dc]=U0(ef),V0=t=>{const{__scopeToast:s,label:r="Notification",duration:o=5e3,swipeDirection:l="right",swipeThreshold:c=50,children:d}=t,[f,x]=m.useState(null),[p,g]=m.useState(0),h=m.useRef(!1),j=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ef}\`. Expected non-empty \`string\`.`),e.jsx(tf.Provider,{scope:s,children:e.jsx(NT,{scope:s,label:r,duration:o,swipeDirection:l,swipeThreshold:c,toastCount:p,viewport:f,onViewportChange:x,onToastAdd:m.useCallback(()=>g(S=>S+1),[]),onToastRemove:m.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:j,children:d})})};V0.displayName=ef;var H0="ToastViewport",bT=["F8"],om="toast.viewportPause",im="toast.viewportResume",W0=m.forwardRef((t,s)=>{const{__scopeToast:r,hotkey:o=bT,label:l="Notifications ({hotkey})",...c}=t,d=dc(H0,r),f=jT(r),x=m.useRef(null),p=m.useRef(null),g=m.useRef(null),h=m.useRef(null),j=nt(s,h,d.onViewportChange),S=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=d.toastCount>0;m.useEffect(()=>{const N=C=>{var _;o.length!==0&&o.every(R=>C[R]||C.code===R)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[o]),m.useEffect(()=>{const N=x.current,C=h.current;if(b&&N&&C){const E=()=>{if(!d.isClosePausedRef.current){const M=new CustomEvent(om);C.dispatchEvent(M),d.isClosePausedRef.current=!0}},_=()=>{if(d.isClosePausedRef.current){const M=new CustomEvent(im);C.dispatchEvent(M),d.isClosePausedRef.current=!1}},R=M=>{!N.contains(M.relatedTarget)&&_()},k=()=>{N.contains(document.activeElement)||_()};return N.addEventListener("focusin",E),N.addEventListener("focusout",R),N.addEventListener("pointermove",E),N.addEventListener("pointerleave",k),window.addEventListener("blur",E),window.addEventListener("focus",_),()=>{N.removeEventListener("focusin",E),N.removeEventListener("focusout",R),N.removeEventListener("pointermove",E),N.removeEventListener("pointerleave",k),window.removeEventListener("blur",E),window.removeEventListener("focus",_)}}},[b,d.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:N})=>{const E=f().map(_=>{const R=_.ref.current,k=[R,...IT(R)];return N==="forwards"?k:k.reverse()});return(N==="forwards"?E.reverse():E).flat()},[f]);return m.useEffect(()=>{const N=h.current;if(N){const C=E=>{var k,M,O;const _=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!_){const P=document.activeElement,I=E.shiftKey;if(E.target===N&&I){(k=p.current)==null||k.focus();return}const V=y({tabbingDirection:I?"backwards":"forwards"}),re=V.findIndex($=>$===P);Ru(V.slice(re+1))?E.preventDefault():I?(M=p.current)==null||M.focus():(O=g.current)==null||O.focus()}};return N.addEventListener("keydown",C),()=>N.removeEventListener("keydown",C)}},[f,y]),e.jsxs(a2,{ref:x,role:"region","aria-label":l.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&e.jsx(lm,{ref:p,onFocusFromOutsideViewport:()=>{const N=y({tabbingDirection:"forwards"});Ru(N)}}),e.jsx(tf.Slot,{scope:r,children:e.jsx(Fe.ol,{tabIndex:-1,...c,ref:j})}),b&&e.jsx(lm,{ref:g,onFocusFromOutsideViewport:()=>{const N=y({tabbingDirection:"backwards"});Ru(N)}})]})});W0.displayName=H0;var q0="ToastFocusProxy",lm=m.forwardRef((t,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...l}=t,c=dc(q0,r);return e.jsx(Gl,{tabIndex:0,...l,ref:s,style:{position:"fixed"},onFocus:d=>{var p;const f=d.relatedTarget;!((p=c.viewport)!=null&&p.contains(f))&&o()}})});lm.displayName=q0;var Fo="Toast",ST="toast.swipeStart",CT="toast.swipeMove",ET="toast.swipeCancel",_T="toast.swipeEnd",K0=m.forwardRef((t,s)=>{const{forceMount:r,open:o,defaultOpen:l,onOpenChange:c,...d}=t,[f,x]=ja({prop:o,defaultProp:l??!0,onChange:c,caller:Fo});return e.jsx(Zn,{present:r||f,children:e.jsx(PT,{open:f,...d,ref:s,onClose:()=>x(!1),onPause:Qt(t.onPause),onResume:Qt(t.onResume),onSwipeStart:be(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(t.onSwipeMove,p=>{const{x:g,y:h}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:be(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(t.onSwipeEnd,p=>{const{x:g,y:h}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),x(!1)})})})});K0.displayName=Fo;var[kT,RT]=U0(Fo,{onClose(){}}),PT=m.forwardRef((t,s)=>{const{__scopeToast:r,type:o="foreground",duration:l,open:c,onClose:d,onEscapeKeyDown:f,onPause:x,onResume:p,onSwipeStart:g,onSwipeMove:h,onSwipeCancel:j,onSwipeEnd:S,...b}=t,y=dc(Fo,r),[N,C]=m.useState(null),E=nt(s,$=>C($)),_=m.useRef(null),R=m.useRef(null),k=l||y.duration,M=m.useRef(0),O=m.useRef(k),P=m.useRef(0),{onToastAdd:I,onToastRemove:D}=y,F=Qt(()=>{var G;(N==null?void 0:N.contains(document.activeElement))&&((G=y.viewport)==null||G.focus()),d()}),V=m.useCallback($=>{!$||$===1/0||(window.clearTimeout(P.current),M.current=new Date().getTime(),P.current=window.setTimeout(F,$))},[F]);m.useEffect(()=>{const $=y.viewport;if($){const G=()=>{V(O.current),p==null||p()},z=()=>{const H=new Date().getTime()-M.current;O.current=O.current-H,window.clearTimeout(P.current),x==null||x()};return $.addEventListener(om,z),$.addEventListener(im,G),()=>{$.removeEventListener(om,z),$.removeEventListener(im,G)}}},[y.viewport,k,x,p,V]),m.useEffect(()=>{c&&!y.isClosePausedRef.current&&V(k)},[c,k,y.isClosePausedRef,V]),m.useEffect(()=>(I(),()=>D()),[I,D]);const re=m.useMemo(()=>N?ew(N):null,[N]);return y.viewport?e.jsxs(e.Fragment,{children:[re&&e.jsx(AT,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:re}),e.jsx(kT,{scope:r,onClose:F,children:or.createPortal(e.jsx(tf.ItemSlot,{scope:r,children:e.jsx(s2,{asChild:!0,onEscapeKeyDown:be(f,()=>{y.isFocusedToastEscapeKeyDownRef.current||F(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Fe.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:be(t.onKeyDown,$=>{$.key==="Escape"&&(f==null||f($.nativeEvent),$.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:be(t.onPointerDown,$=>{$.button===0&&(_.current={x:$.clientX,y:$.clientY})}),onPointerMove:be(t.onPointerMove,$=>{if(!_.current)return;const G=$.clientX-_.current.x,z=$.clientY-_.current.y,H=!!R.current,W=["left","right"].includes(y.swipeDirection),X=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,te=W?X(0,G):0,T=W?0:X(0,z),U=$.pointerType==="touch"?10:2,Z={x:te,y:T},L={originalEvent:$,delta:Z};H?(R.current=Z,sl(CT,h,L,{discrete:!1})):fg(Z,y.swipeDirection,U)?(R.current=Z,sl(ST,g,L,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(G)>U||Math.abs(z)>U)&&(_.current=null)}),onPointerUp:be(t.onPointerUp,$=>{const G=R.current,z=$.target;if(z.hasPointerCapture($.pointerId)&&z.releasePointerCapture($.pointerId),R.current=null,_.current=null,G){const H=$.currentTarget,W={originalEvent:$,delta:G};fg(G,y.swipeDirection,y.swipeThreshold)?sl(_T,S,W,{discrete:!0}):sl(ET,j,W,{discrete:!0}),H.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),AT=t=>{const{__scopeToast:s,children:r,...o}=t,l=dc(Fo,s),[c,d]=m.useState(!1),[f,x]=m.useState(!1);return DT(()=>d(!0)),m.useEffect(()=>{const p=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(p)},[]),f?null:e.jsx(Po,{asChild:!0,children:e.jsx(Gl,{...o,children:c&&e.jsxs(e.Fragment,{children:[l.label," ",r]})})})},TT="ToastTitle",G0=m.forwardRef((t,s)=>{const{__scopeToast:r,...o}=t;return e.jsx(Fe.div,{...o,ref:s})});G0.displayName=TT;var MT="ToastDescription",Y0=m.forwardRef((t,s)=>{const{__scopeToast:r,...o}=t;return e.jsx(Fe.div,{...o,ref:s})});Y0.displayName=MT;var J0="ToastAction",Q0=m.forwardRef((t,s)=>{const{altText:r,...o}=t;return r.trim()?e.jsx(Z0,{altText:r,asChild:!0,children:e.jsx(nf,{...o,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${J0}\`. Expected non-empty \`string\`.`),null)});Q0.displayName=J0;var X0="ToastClose",nf=m.forwardRef((t,s)=>{const{__scopeToast:r,...o}=t,l=RT(X0,r);return e.jsx(Z0,{asChild:!0,children:e.jsx(Fe.button,{type:"button",...o,ref:s,onClick:be(t.onClick,l.onClose)})})});nf.displayName=X0;var Z0=m.forwardRef((t,s)=>{const{__scopeToast:r,altText:o,...l}=t;return e.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...l,ref:s})});function ew(t){const s=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&s.push(o.textContent),OT(o)){const l=o.ariaHidden||o.hidden||o.style.display==="none",c=o.dataset.radixToastAnnounceExclude==="";if(!l)if(c){const d=o.dataset.radixToastAnnounceAlt;d&&s.push(d)}else s.push(...ew(o))}}),s}function sl(t,s,r,{discrete:o}){const l=r.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});s&&l.addEventListener(t,s,{once:!0}),o?Nm(l,c):l.dispatchEvent(c)}var fg=(t,s,r=0)=>{const o=Math.abs(t.x),l=Math.abs(t.y),c=o>l;return s==="left"||s==="right"?c&&o>r:!c&&l>r};function DT(t=()=>{}){const s=Qt(t);Rt(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[s])}function OT(t){return t.nodeType===t.ELEMENT_NODE}function IT(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Ru(t){const s=document.activeElement;return t.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var LT=V0,tw=W0,nw=K0,sw=G0,aw=Y0,rw=Q0,ow=nf;const FT=LT,iw=m.forwardRef(({className:t,...s},r)=>e.jsx(tw,{ref:r,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));iw.displayName=tw.displayName;const $T=Il("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lw=m.forwardRef(({className:t,variant:s,...r},o)=>e.jsx(nw,{ref:o,className:ge($T({variant:s}),t),...r}));lw.displayName=nw.displayName;const zT=m.forwardRef(({className:t,...s},r)=>e.jsx(rw,{ref:r,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));zT.displayName=rw.displayName;const cw=m.forwardRef(({className:t,...s},r)=>e.jsx(ow,{ref:r,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(wm,{className:"h-4 w-4"})}));cw.displayName=ow.displayName;const dw=m.forwardRef(({className:t,...s},r)=>e.jsx(sw,{ref:r,className:ge("text-sm font-semibold",t),...s}));dw.displayName=sw.displayName;const uw=m.forwardRef(({className:t,...s},r)=>e.jsx(aw,{ref:r,className:ge("text-sm opacity-90",t),...s}));uw.displayName=aw.displayName;function BT(){const{toasts:t}=Et();return e.jsxs(FT,{children:[t.map(({id:s,title:r,description:o,action:l,...c})=>e.jsxs(lw,{...c,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(dw,{children:r}),o&&e.jsx(uw,{children:o})]}),l,e.jsx(cw,{})]},s)),e.jsx(iw,{})]})}xb.createRoot(document.getElementById("root")).render(e.jsxs(bk,{defaultTheme:"system",storageKey:"medicinefront-theme",children:[e.jsx(yT,{}),e.jsx(BT,{})]}));
